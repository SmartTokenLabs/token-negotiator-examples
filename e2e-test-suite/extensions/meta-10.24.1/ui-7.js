LavaPack.loadBundle([[6087,{"../../shared/constants/swaps":5407,"../../shared/modules/string-utils":5432,"../ducks/metamask/metamask":6025,"../helpers/constants/routes":6037,"../selectors":6437,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,u=(0,a.useSelector)(o.getTokens),d=n&&u.find((({address:e})=>(0,l.isEqualCaseInsensitive)(e,n))),p=(0,a.useSelector)(s.getCurrentChainId);return null!=d?d:c.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[p]||c.ETH_SWAPS_TOKEN_OBJECT};var a=e("react-redux"),r=e("react-router-dom"),o=e("../ducks/metamask/metamask"),s=e("../selectors"),i=e("../helpers/constants/routes"),c=e("../../shared/constants/swaps"),l=e("../../shared/modules/string-utils")}}},{package:"$root$"}],[6088,{lodash:4765,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=r.isEqual){const[n,o]=(0,a.useState)(e);return(0,a.useLayoutEffect)((()=>{t(e,n)||o(e)}),[e,t,n]),n};var a=e("react"),r=e("lodash")}}},{package:"$root$"}],[6089,{"../ducks/metamask/metamask":6025,"../helpers/utils/confirm-tx.util":6052,"../helpers/utils/conversions.util":6053,"../selectors":6437,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){var l;const u=(0,r.useSelector)(c.getConversionRate),d=(0,r.useSelector)(o.getCurrentCurrency),p=(0,r.useSelector)(o.getShouldShowFiat),f=null!==(l=t.showFiat)&&void 0!==l?l:p,m=(0,a.useMemo)((()=>(0,s.decEthToConvertedCurrency)(e,d,u)),[u,d,e]);if(!f||"ETH"===d.toUpperCase()||u<=0||e===undefined)return undefined;return n?(0,i.formatCurrency)(m,d):`${(0,i.formatCurrency)(m,d)} ${d.toUpperCase()}`};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../helpers/utils/conversions.util"),i=e("../helpers/utils/confirm-tx.util"),c=e("../ducks/metamask/metamask")}}},{package:"$root$"}],[609,{"../styles/colorManipulator":851,"../styles/withStyles":870,"@babel/runtime/helpers/extends":180,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@babel/runtime/helpers/objectWithoutProperties":192,clsx:1846,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),c=(r(e("prop-types")),r(e("clsx"))),l=r(e("../styles/withStyles")),u=e("../styles/colorManipulator"),d=function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,u.fade)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}};n.styles=d;var p=i.forwardRef((function(e,t){var n=e.absolute,a=void 0!==n&&n,r=e.classes,l=e.className,u=e.component,d=void 0===u?"hr":u,p=e.flexItem,f=void 0!==p&&p,m=e.light,h=void 0!==m&&m,g=e.orientation,E=void 0===g?"horizontal":g,_=e.role,y=void 0===_?"hr"!==d?"separator":undefined:_,v=e.variant,b=void 0===v?"fullWidth":v,T=(0,s.default)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return i.createElement(d,(0,o.default)({className:(0,c.default)(r.root,l,"fullWidth"!==b&&r[b],a&&r.absolute,f&&r.flexItem,h&&r.light,"vertical"===E&&r.vertical),role:y,ref:t},T))})),f=(0,l.default)(d,{name:"MuiDivider"})(p);n.default=f}}},{package:"@material-ui/core"}],[6090,{"../ducks/metamask/metamask":6025,"./useSafeGasEstimatePolling":6095,"lodash/isEqual":4752,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(){const e=(0,o.useSelector)(s.getGasEstimateType),t=(0,o.useSelector)(s.getGasFeeEstimates,r.default),n=(0,o.useSelector)(s.getEstimatedGasFeeTimeBounds,o.shallowEqual),a=(0,o.useSelector)(s.getIsGasEstimatesLoading),c=(0,o.useSelector)(s.getIsNetworkBusy);return(0,i.useSafeGasEstimatePolling)(),{gasFeeEstimates:t,gasEstimateType:e,estimatedGasFeeTimeBounds:n,isGasEstimatesLoading:a,isNetworkBusy:c}};var a,r=(a=e("lodash/isEqual"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../ducks/metamask/metamask"),i=e("./useSafeGasEstimatePolling")}}},{package:"$root$"}],[6091,{"../contexts/i18n":6010,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useI18nContext=function(){return(0,a.useContext)(r.I18nContext)};var a=e("react"),r=e("../contexts/i18n")}}},{package:"$root$"}],[6092,{"../../shared/modules/transaction.utils":5434,"../helpers/utils/conversions.util":6053,"../helpers/utils/gas":6056,"./useGasFeeEstimates":6090,"bignumber.js":1706,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIncrementedGasFees=function(e){const{gasFeeEstimates:t={}}=(0,l.useGasFeeEstimates)();return(0,o.useMemo)((()=>{var n,a,r,o,i,c;const l={gasLimit:null===(n=e.txParams)||void 0===n?void 0:n.gas,gas:null===(a=e.txParams)||void 0===a?void 0:a.gas},d=null!==(r=null==t||null===(o=t.medium)||void 0===o?void 0:o.suggestedMaxFeePerGas)&&void 0!==r?r:"0",p=null!==(i=null==t||null===(c=t.medium)||void 0===c?void 0:c.suggestedMaxPriorityFeePerGas)&&void 0!==i?i:"0";if((0,s.isEIP1559Transaction)(e)){var f,m;const t=null===(f=e.txParams)||void 0===f?void 0:f.maxFeePerGas,n=null===(m=e.txParams)||void 0===m?void 0:m.maxPriorityFeePerGas;l.maxFeePerGas=t===undefined||t.startsWith("-")?"0x0":u(t,d),l.maxPriorityFeePerGas=n===undefined||n.startsWith("-")?"0x0":u(n,p)}else{var h;const t=null===(h=e.txParams)||void 0===h?void 0:h.gasPrice;l.gasPrice=t===undefined||t.startsWith("-")?"0x0":u(t,d)}return l}),[e,t])};var a,r=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},o=e("react"),s=e("../../shared/modules/transaction.utils"),i=e("../helpers/utils/conversions.util"),c=e("../helpers/utils/gas"),l=e("./useGasFeeEstimates");function u(e,t){const n=(0,c.addTenPercent)(e),a=(0,i.decGWEIToHexWEI)(t);return new r.default(n,16).greaterThan(new r.default(a,16))?n:a}}}},{package:"$root$"}],[6093,{"../../shared/constants/app":5397,"../selectors":6437,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,a.useSelector)((t=>(0,r.getTargetSubjectMetadata)(t,e)));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:o.SUBJECT_TYPES.UNKNOWN}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var a=e("react-redux"),r=e("../selectors"),o=e("../../shared/constants/app")}}},{package:"$root$"}],[6094,{react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e}),[e]),t.current};var a=e("react")}}},{package:"$root$"}],[6095,{"../store/actions":6444,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeGasEstimatePolling=function(){(0,a.useEffect)((()=>{let e,t=!0;const n=()=>{t=!1,e&&((0,r.disconnectGasFeeEstimatePoller)(e),(0,r.removePollingTokenFromAppState)(e))};return(0,r.getGasFeeEstimatesAndStartPolling)().then((n=>{t?(e=n,(0,r.addPollingTokenToAppState)(e)):((0,r.disconnectGasFeeEstimatePoller)(n),(0,r.removePollingTokenFromAppState)(e))})),window.addEventListener("beforeunload",n),()=>{n(),window.removeEventListener("beforeunload",n)}}),[])};var a=e("react"),r=e("../store/actions")}}},{package:"$root$"}],[6096,{"../helpers/constants/routes":6037,"../selectors":6437,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:i,exact:!0,strict:!0}),t=((0,a.useSelector)(s.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:o.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:n}};var a=e("react-redux"),r=e("react-router-dom"),o=e("../helpers/constants/routes"),s=e("../selectors");const i=Object.keys(o.PATH_NAME_MAP)}}},{package:"$root$"}],[6097,{"../ducks/app/app":6017,"./useGasFeeEstimates":6090,lodash:4765,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,r.useDispatch)(),c=(0,r.useSelector)(s.getGasLoadingAnimationIsShowing),l=(0,a.useRef)(t),u=!(0,o.isEqual)(l.current,t),d=(0,o.isEqual)(l.current,{});u&&(l.current=t);const p=e||u&&!d;(0,a.useEffect)((()=>{!1===c&&!0===p&&n((0,s.toggleGasLoadingAnimation)(!0))}),[n,c,p]),(0,a.useEffect)((()=>{!0===c&&!1===p&&setTimeout((()=>{n((0,s.toggleGasLoadingAnimation)(!1))}),2e3)}),[n,c,p])};var a=e("react"),r=e("react-redux"),o=e("lodash"),s=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$"}],[6098,{"../../shared/constants/time":5408,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:o}=e,[s={}]=n,{submittedTime:i}=s,[c,l]=(0,a.useState)((()=>Date.now()-i>5e3&&t&&!o));return(0,a.useEffect)((()=>{let e;return o||!t||c||(Date.now()-i>5*r.SECOND?l(!0):e=setTimeout((()=>{l(!0),clearTimeout(e)}),5001-(Date.now()-i))),()=>{e&&clearTimeout(e)}}),[i,c,o,t]),c};var a=e("react"),r=e("../../shared/constants/time")}}},{package:"$root$"}],[6099,{"../../shared/constants/transaction":5410,"../../shared/lib/transactions-controller-utils":5417,"../../shared/modules/swaps.utils":5433,"../selectors":6437,"./useTokenFiatAmount":6103,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:l,address:u}=t,{primaryTransaction:d,initialTransaction:p}=e,{type:f}=p,{from:m}=p.txParams||{},h=(0,a.useSelector)(i.getCurrentChainId),g=(null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,s.isSwapsDefaultTokenAddress)(t.address,h)&&(0,s.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,h),E=f===o.TRANSACTION_TYPES.SWAP&&g?(0,r.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,p,u,m,l,null,h):f===o.TRANSACTION_TYPES.SWAP&&d.swapTokenValue,_="string"==typeof E&&-1===Math.sign(E),y=(0,c.useTokenFiatAmount)(u,E||"",n);return{swapTokenValue:E,swapTokenFiatAmount:E&&g&&y,isViewingReceivedTokenFromSwap:g,isNegative:_}};var a=e("react-redux"),r=e("../../shared/lib/transactions-controller-utils"),o=e("../../shared/constants/transaction"),s=e("../../shared/modules/swaps.utils"),i=e("../selectors"),c=e("./useTokenFiatAmount")}}},{package:"$root$"}],[610,{"./Divider":609,"@babel/runtime/helpers/interopRequireDefault":184},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./Divider"))}}},{package:"@material-ui/core"}],[6100,{react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const r=(0,a.useRef)(),[o,s]=(0,a.useState)(null);(0,a.useEffect)((()=>{r.current=e}),[e]),(0,a.useEffect)((()=>{if("start"!==o)return undefined;const e=setTimeout((()=>{r.current()}),t);return s(e),()=>{clearTimeout(o)}}),[t,o]);const i=(0,a.useCallback)((()=>{clearTimeout(o),s("start")}),[o]);n&&i();return i};var a=e("react")}}},{package:"$root$"}],[6101,{"../../shared/modules/transaction.utils":5434,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,a.useMemo)((()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null),[t,e])};var a=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$"}],[6102,{"../../shared/lib/metamask-controller-utils":5413,"../../shared/lib/transactions-controller-utils":5417,"./useTokenData":6101,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,s.useTokenData)(e,n),c=(0,r.getTokenValueParam)(i),l=Boolean(n&&e&&t&&t.decimals&&c);return(0,a.useMemo)((()=>l?(0,o.calcTokenAmount)(c,t.decimals).toString(10):null),[l,c,t])};var a=e("react"),r=e("../../shared/lib/metamask-controller-utils"),o=e("../../shared/lib/transactions-controller-utils"),s=e("./useTokenData")}}},{package:"$root$"}],[6103,{"../../shared/modules/string-utils":5432,"../ducks/metamask/metamask":6025,"../helpers/utils/token-util":6068,"../selectors":6437,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenFiatAmount=function(e,t,n,l={},u){var d,p;const f=(0,r.useSelector)(o.getTokenExchangeRates,r.shallowEqual),m=(0,r.useSelector)(i.getConversionRate),h=(0,r.useSelector)(o.getCurrentCurrency),g=(0,r.useSelector)(o.getShouldShowFiat),E=null!==(d=l.showFiat)&&void 0!==d?d:g,_=Object.keys(f).find((t=>(0,c.isEqualCaseInsensitive)(t,e))),y=null!==(p=l.exchangeRate)&&void 0!==p?p:_&&f[_],v=(0,a.useMemo)((()=>(0,s.getTokenFiatAmount)(y,m,h,t,n,!0,u)),[y,m,h,t,n,u]);if(!E||h.toUpperCase()===n)return undefined;return v};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../helpers/utils/token-util"),i=e("../ducks/metamask/metamask"),c=e("../../shared/modules/string-utils")}}},{package:"$root$"}],[6104,{"../../shared/constants/time":5408,"../../shared/modules/string-utils":5432,"../selectors":6437,"./useEqualityCheck":6088,"@metamask/eth-token-tracker":1164,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function(e,t=!1,n=!1){const a=(0,s.useSelector)(i.getCurrentChainId),d=(0,s.useSelector)(i.getSelectedAddress,s.shallowEqual),[p,f]=(0,r.useState)((()=>(null==e?void 0:e.length)>=0)),[m,h]=(0,r.useState)([]),[g,E]=(0,r.useState)(null),_=(0,r.useRef)(null),y=(0,u.useEqualityCheck)(e),v=(0,r.useCallback)((e=>{const t=(n?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=y.find((t=>(0,l.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));h(t),f(!1),E(null)}),[n,y]),b=(0,r.useCallback)((e=>{E(e),f(!1)}),[]),T=(0,r.useCallback)((()=>{_.current&&(_.current.stop(),_.current.removeAllListeners("update"),_.current.removeAllListeners("error"),_.current=null)}),[]),k=(0,r.useCallback)(((e,n)=>{T(),_.current=new o.default({userAddress:e,provider:global.ethereumProvider,tokens:n,includeFailedTokens:t,pollingInterval:8*c.SECOND,balanceDecimals:5}),_.current.on("update",v),_.current.on("error",b),_.current.updateBalances()}),[v,t,b,T]);return(0,r.useEffect)((()=>T),[T]),(0,r.useEffect)((()=>{f(!0),d&&a!==undefined&&global.ethereumProvider?(0===y.length&&v([]),k(d,y)):T()}),[d,T,a,y,v,k]),{loading:p,tokensWithBalances:m,error:g}};var a,r=e("react"),o=(a=e("@metamask/eth-token-tracker"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("../selectors"),c=e("../../shared/constants/time"),l=e("../../shared/modules/string-utils"),u=e("./useEqualityCheck")}}},{package:"$root$"}],[6105,{"../../shared/constants/network":5403,"../../shared/constants/swaps":5407,"../../shared/modules/hexstring-utils":5425,"../../shared/modules/swaps.utils":5433,"../ducks/metamask/metamask":6025,"../ducks/swaps/swaps":6029,"../helpers/utils/token-util":6068,"../selectors":6437,"./useEqualityCheck":6088,"@metamask/assets-controllers":1e3,"bignumber.js":1706,lodash:4765,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=_,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:a=h.TOKEN_BUCKET_PRIORITY.OWNED}){const c=(0,o.useSelector)(u.getCurrentChainId),l=(0,o.useSelector)(u.getTokenExchangeRates,i.isEqual),m=(0,o.useSelector)(d.getConversionRate),g=(0,o.useSelector)(u.getCurrentCurrency),y=(0,o.useSelector)(u.getSwapsDefaultToken,o.shallowEqual),v=(0,o.useSelector)(u.getTokenList,i.isEqual),b=(0,E.useEqualityCheck)(t),T=(0,E.useEqualityCheck)(e),k=_(y,l,m,g,c,v),N=(0,E.useEqualityCheck)(k),w=(0,o.useSelector)(p.getSwapsTokens,i.isEqual)||[],O=w.length?w:[N,...n.filter((e=>e.symbol!==N.symbol))],P=(0,E.useEqualityCheck)(O);return(0,r.useMemo)((()=>{const e=T.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([N,...P,...T],(e=>e.address.toLowerCase())).forEach((n=>{const r=_({...e[n.address.toLowerCase()],...n},l,m,g,c,v);a===h.TOKEN_BUCKET_PRIORITY.OWNED?(0,f.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):b[n.address.toLowerCase()]?t.top[b[n.address.toLowerCase()].index]=r:t.others.push(r):b[n.address.toLowerCase()]?t.top[b[n.address.toLowerCase()].index]=r:(0,f.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):t.others.push(r)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new s.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),a===h.TOKEN_BUCKET_PRIORITY.OWNED?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[P,T,b,l,m,g,N,c,v,a])};var a,r=e("react"),o=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("lodash"),c=e("@metamask/assets-controllers"),l=e("../helpers/utils/token-util"),u=e("../selectors"),d=e("../ducks/metamask/metamask"),p=e("../ducks/swaps/swaps"),f=e("../../shared/modules/swaps.utils"),m=e("../../shared/modules/hexstring-utils"),h=e("../../shared/constants/swaps"),g=e("../../shared/constants/network"),E=e("./useEqualityCheck");function _(e,t,n,a,r,o){var i,u;const{symbol:d,name:p,address:h,iconUrl:E,string:_,balance:y,decimals:v}=e;let b;(0,f.isSwapsDefaultTokenSymbol)(d,r)?b=1:_&&n>0&&(b=t[(0,m.toChecksumHexAddress)(h)]);const T=(0,l.getTokenFiatAmount)(b,n,a,_,d,!0)||"",k=T?(0,l.getTokenFiatAmount)(b,n,a,_,d,!1):"",N=r===g.CHAIN_IDS.GOERLI?g.CHAIN_IDS.MAINNET:r,w=(d===g.CURRENCY_SYMBOLS.ETH&&r===g.CHAIN_IDS.MAINNET||d===g.CURRENCY_SYMBOLS.ETH&&r===g.CHAIN_IDS.GOERLI||d===g.CURRENCY_SYMBOLS.BNB&&r===g.CHAIN_IDS.BSC||d===g.CURRENCY_SYMBOLS.MATIC&&r===g.CHAIN_IDS.POLYGON||d===g.CURRENCY_SYMBOLS.AVALANCHE&&r===g.CHAIN_IDS.AVALANCHE||d===g.CURRENCY_SYMBOLS.ETH&&r===g.CHAIN_IDS.OPTIMISM||d===g.CURRENCY_SYMBOLS.ETH&&r===g.CHAIN_IDS.ARBITRUM?E:(0,c.formatIconUrlWithProxy)({chainId:N,tokenAddress:h||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:p||(null===(i=o[null==h?void 0:h.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:_&&`${new s.default(_).round(6).toString()} ${d}`,rightSecondaryLabel:T,iconUrl:w,identiconAddress:w?null:h,balance:y,decimals:v,name:p||(null===(u=o[null==h?void 0:h.toLowerCase()])||void 0===u?void 0:u.name),rawFiat:k}}}}},{package:"$root$"}],[6106,{"../../shared/constants/transaction":5410,"../../shared/lib/metamask-controller-utils":5413,"../../shared/modules/string-utils":5432,"../ducks/metamask/metamask":6025,"../helpers/constants/common":6031,"../helpers/constants/transactions":6039,"../helpers/utils/common.util":6051,"../helpers/utils/token-util":6068,"../helpers/utils/transactions.util":6069,"../helpers/utils/util":6071,"../selectors/selectors":6440,"../store/actions":6444,"./useCurrencyDisplay":6086,"./useCurrentAsset":6087,"./useI18nContext":6091,"./useSwappedTokenValue":6099,"./useTokenData":6101,"./useTokenDisplayValue":6102,"./useTokenFiatAmount":6103,"./useUserPreferencedCurrency":6108,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,w,O,P;const A=(0,a.useDispatch)(),S=(0,k.useCurrentAsset)(),C=(0,a.useSelector)(d.getTokens),R=(0,a.useSelector)(d.getCollectibles),x=(0,g.useI18nContext)(),{initialTransaction:I,primaryTransaction:M}=e,{type:D}=I,{from:j,to:L}=I.txParams||{},F=(0,a.useSelector)((e=>{var t;return(0,r.getKnownMethodData)(e,null==I||null===(t=I.txParams)||void 0===t?void 0:t.data)}))||{},W=(0,o.getStatusKey)(M),U=W in u.PENDING_STATUS_HASH,$=W===p.TRANSACTION_STATUSES.SUBMITTED,G=null===(t=M.txParams)||void 0===t?void 0:t.value,B=(0,l.formatDateWithYearContext)(I.time);let H,q="-",V=!1,Y=L;const K=u.TOKEN_CATEGORY_HASH[D],z=K&&C.find((({address:e})=>(0,m.isEqualCaseInsensitive)(e,Y))),Z=(0,b.useTokenData)(null==I||null===(n=I.txParams)||void 0===n?void 0:n.data,K),X=null!==(w=(0,c.getTokenIdParam)(Z))&&void 0!==w?w:(0,h.getTokenValueParam)(Z),Q=K&&R.find((({address:e,tokenId:t})=>(0,m.isEqualCaseInsensitive)(e,Y)&&t===X)),J=(0,v.useTokenDisplayValue)(null==I||null===(O=I.txParams)||void 0===O?void 0:O.data,z,K),ee=(0,E.useTokenFiatAmount)(null==z?void 0:z.address,J,null==z?void 0:z.symbol),te=(0,l.stripHttpSchemes)(I.origin||(null===(P=I.msgParams)||void 0===P?void 0:P.origin)||"");let ne,ae,re=K?null==z?void 0:z.symbol:undefined,oe=K?J:undefined,se=K?ee:undefined;const{swapTokenValue:ie,isNegative:ce,swapTokenFiatAmount:le,isViewingReceivedTokenFromSwap:ue}=(0,T.useSwappedTokenValue)(e,S);if(N.includes(D))ne=p.TRANSACTION_GROUP_CATEGORIES.SIGNATURE_REQUEST,ae=x("signatureRequest"),H=te,V=!0;else if(D===p.TRANSACTION_TYPES.SWAP)ne=p.TRANSACTION_GROUP_CATEGORIES.SWAP,ae=x("swapTokenToToken",[I.sourceTokenSymbol,I.destinationTokenSymbol]),H=te,V=!0,re=ue?S.symbol:I.sourceTokenSymbol,oe=ie,se=le,q=ce?"":ue?"+":"-";else if(D===p.TRANSACTION_TYPES.SWAP_APPROVAL)ne=p.TRANSACTION_GROUP_CATEGORIES.APPROVAL,ae=x("swapApproval",[M.sourceTokenSymbol]),H=te,V=!0,re=M.sourceTokenSymbol;else if(D===p.TRANSACTION_TYPES.TOKEN_METHOD_APPROVE)ne=p.TRANSACTION_GROUP_CATEGORIES.APPROVAL,q="",ae=x("approveSpendLimit",[(null==z?void 0:z.symbol)||x("token")]),H=te,V=!0;else if(D===p.TRANSACTION_TYPES.TOKEN_METHOD_SET_APPROVAL_FOR_ALL)ne=p.TRANSACTION_GROUP_CATEGORIES.APPROVAL,q="",ae=x("setApprovalForAllTitle",[(null==z?void 0:z.symbol)||x("token")]),H=te,V=!0;else if(D===p.TRANSACTION_TYPES.CONTRACT_INTERACTION){ne=p.TRANSACTION_GROUP_CATEGORIES.INTERACTION;const e=(0,o.getTransactionTypeTitle)(x,D);ae=(null==F?void 0:F.name)&&(0,s.camelCaseToCapitalize)(F.name)||e,H=te,V=!0}else D===p.TRANSACTION_TYPES.DEPLOY_CONTRACT?(ne=p.TRANSACTION_GROUP_CATEGORIES.INTERACTION,ae=(0,o.getTransactionTypeTitle)(x,D),H=te,V=!0):D===p.TRANSACTION_TYPES.INCOMING?(ne=p.TRANSACTION_GROUP_CATEGORIES.RECEIVE,ae=x("receive"),q="",H=x("fromAddress",[(0,l.shortenAddress)(j)])):D===p.TRANSACTION_TYPES.TOKEN_METHOD_TRANSFER_FROM||D===p.TRANSACTION_TYPES.TOKEN_METHOD_TRANSFER?(ne=p.TRANSACTION_GROUP_CATEGORIES.SEND,ae=x("sendSpecifiedTokens",[(null==z?void 0:z.symbol)||(null==Q?void 0:Q.name)||x("token")]),Y=(0,c.getTokenAddressParam)(Z),H=x("toAddress",[(0,l.shortenAddress)(Y)])):D===p.TRANSACTION_TYPES.TOKEN_METHOD_SAFE_TRANSFER_FROM?(ne=p.TRANSACTION_GROUP_CATEGORIES.SEND,ae=x("safeTransferFrom"),Y=(0,c.getTokenAddressParam)(Z),H=x("toAddress",[(0,l.shortenAddress)(Y)])):D===p.TRANSACTION_TYPES.SIMPLE_SEND?(ne=p.TRANSACTION_GROUP_CATEGORIES.SEND,ae=x("send"),H=x("toAddress",[(0,l.shortenAddress)(Y)])):A((0,f.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${D}`));const de=(0,_.useUserPreferencedCurrency)(i.PRIMARY),pe=(0,_.useUserPreferencedCurrency)(i.SECONDARY),[fe]=(0,y.useCurrencyDisplay)(G,{prefix:q,displayValue:oe,suffix:re,...de}),[me]=(0,y.useCurrencyDisplay)(G,{prefix:q,displayValue:se,hideLabel:K||Boolean(ie),...pe});return{title:ae,category:ne,date:B,subtitle:H,subtitleContainsOrigin:V,primaryCurrency:D===p.TRANSACTION_TYPES.SWAP&&U?"":fe,senderAddress:j,recipientAddress:Y,secondaryCurrency:K&&!ee||D===p.TRANSACTION_TYPES.SWAP&&!le?undefined:me,displayedStatusKey:W,isPending:U,isSubmitted:$}};var a=e("react-redux"),r=e("../selectors/selectors"),o=e("../helpers/utils/transactions.util"),s=e("../helpers/utils/common.util"),i=e("../helpers/constants/common"),c=e("../helpers/utils/token-util"),l=e("../helpers/utils/util"),u=e("../helpers/constants/transactions"),d=e("../ducks/metamask/metamask"),p=e("../../shared/constants/transaction"),f=e("../store/actions"),m=e("../../shared/modules/string-utils"),h=e("../../shared/lib/metamask-controller-utils"),g=e("./useI18nContext"),E=e("./useTokenFiatAmount"),_=e("./useUserPreferencedCurrency"),y=e("./useCurrencyDisplay"),v=e("./useTokenDisplayValue"),b=e("./useTokenData"),T=e("./useSwappedTokenValue"),k=e("./useCurrentAsset");const N=[null,undefined,p.TRANSACTION_TYPES.SIGN,p.TRANSACTION_TYPES.PERSONAL_SIGN,p.TRANSACTION_TYPES.SIGN_TYPED_DATA,p.TRANSACTION_TYPES.ETH_DECRYPT,p.TRANSACTION_TYPES.ETH_GET_ENCRYPTION_PUBLIC_KEY]}}},{package:"$root$"}],[6107,{"../../shared/constants/transaction":5410,"../contexts/gasFee":6009,"../selectors":6437,"../store/actions":6444,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionEventFragment=void 0;var a=e("react"),r=e("react-redux"),o=e("../contexts/gasFee"),s=e("../store/actions"),i=e("../selectors"),c=e("../../shared/constants/transaction");n.useTransactionEventFragment=()=>{const{transaction:e}=(0,o.useGasFeeContext)(),t=(0,r.useSelector)((t=>(0,i.selectMatchingFragment)(t,{fragmentOptions:{},existingId:`transaction-added-${null==e?void 0:e.id}`})));return{updateTransactionEventFragment:(0,a.useCallback)((async n=>{e&&e.id&&(t||await(0,s.createTransactionEventFragment)(e.id,c.TRANSACTION_EVENTS.APPROVED),(0,s.updateEventFragment)(`transaction-added-${e.id}`,n))}),[t,e])}}}}},{package:"$root$"}],[6108,{"../ducks/metamask/metamask":6025,"../helpers/constants/common":6031,"../selectors":6437,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={}){const n=(0,a.useSelector)(o.getNativeCurrency),{useNativeCurrencyAsPrimaryCurrency:i}=(0,a.useSelector)(r.getPreferences,a.shallowEqual),c=(0,a.useSelector)(r.getShouldShowFiat)||t.showFiatOverride,l=(0,a.useSelector)(r.getCurrentCurrency);let u,d;!c||e===s.PRIMARY&&i||e===s.SECONDARY&&!i?(u=n||s.ETH,d=t.numberOfDecimals||t.ethNumberOfDecimals||8):(e===s.SECONDARY&&i||e===s.PRIMARY&&!i)&&(u=l,d=t.numberOfDecimals||t.fiatNumberOfDecimals||2);return{currency:u,numberOfDecimals:d}};var a=e("react-redux"),r=e("../selectors"),o=e("../ducks/metamask/metamask"),s=e("../helpers/constants/common")}}},{package:"$root$"}],[6109,{"../app/scripts/lib/setupSentry":84,"../app/scripts/lib/util":87,"../shared/constants/alerts":5396,"../shared/constants/app":5397,"../shared/lib/error-utils":5411,"../shared/lib/switch-direction":5416,"../shared/modules/object.utils":5428,"./ducks/alerts":6014,"./ducks/metamask/metamask":6025,"./helpers/utils/tx-helper":6070,"./pages":6239,"./selectors":6437,"./store/action-queue":6442,"./store/actions":6444,"./store/store":6445,"copy-to-clipboard":1872,lodash:4765,loglevel:4778,react:5049,"react-dom":4954,"webextension-polyfill":5375},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const{backgroundConnection:n}=e;n.getState((function(a,r){a?t(a,r):async function(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:a,enLocaleMessages:r}=await(0,h.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&await(0,m.default)("rtl");const o={activeTab:n.activeTab,metamask:e,appState:{},localeMessages:{current:a,en:r}};if(P(t),(0,l.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){const{origin:e}=o.activeTab,t=(0,_.getPermittedAccountsForCurrentTab)(o),n=(0,_.getSelectedAddress)(o),a=(0,v.getUnconnectedAccountAlertShown)(o),r=(0,v.getUnconnectedAccountAlertEnabledness)(o);e&&r&&!a[e]&&t.length>0&&!t.includes(n)&&(o[u.ALERT_TYPES.unconnectedAccount]={state:y.ALERT_STATE.OPEN},g.setUnconnectedAccountAlertShown(e))}const c=(0,E.default)(o);O=c;const d=(0,T.default)(e.unapprovedTxs,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.network,e.provider.chainId);d.length>0&&c.dispatch(g.showConfTxPage({id:d[0].id}));return global.metamask={updateCurrentLocale:e=>{c.dispatch(g.updateCurrentLocale(e))},setProviderType:e=>{c.dispatch(g.setProviderType(e))},setFeatureFlag:(e,t)=>{c.dispatch(g.setFeatureFlag(e,t))}},(0,i.render)(s.default.createElement(b.default,{store:c}),n.container),c}(r,n,e).then((e=>{!function(e){window.stateHooks.getCleanAppState=async function(){const t=(0,o.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t.completeTxList=await g.getTransactions({filterToCurrentNetwork:!1}),t},window.stateHooks.getSentryState=function(){const t=e.getState(),n=(0,d.maskObject)(t,p.SENTRY_STATE);return{browser:window.navigator.userAgent,store:n,version:global.platform.getVersion()}}}(e),t(null,e)}))}))},n.updateBackgroundConnection=void 0;var a=w(e("copy-to-clipboard")),r=w(e("loglevel")),o=e("lodash"),s=w(e("react")),i=e("react-dom"),c=w(e("webextension-polyfill")),l=e("../app/scripts/lib/util"),u=e("../shared/constants/alerts"),d=e("../shared/modules/object.utils"),p=e("../app/scripts/lib/setupSentry"),f=e("../shared/constants/app"),m=w(e("../shared/lib/switch-direction")),h=e("../shared/lib/error-utils"),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("./store/actions")),E=w(e("./store/store")),_=e("./selectors"),y=e("./ducks/alerts"),v=e("./ducks/metamask/metamask"),b=w(e("./pages")),T=w(e("./helpers/utils/tx-helper")),k=e("./store/action-queue");function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}let O;r.default.setLevel(global.METAMASK_DEBUG?"debug":"warn");const P=e=>{(0,k._setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);O.dispatch(g.updateMetamaskState(e.params[0]))}))};n.updateBackgroundConnection=P,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState();c.default.runtime.getPlatformInfo().then((n=>{t.platform=n;const a=JSON.stringify(t,null,2);e(null,a)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,a.default)(n),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$"}],[611,{"../Backdrop":553,"../Modal":698,"../Paper":708,"../Slide":728,"../styles/transitions":868,"../styles/useTheme":869,"../styles/withStyles":870,"../utils/capitalize":878,"@babel/runtime/helpers/extends":180,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@babel/runtime/helpers/objectWithoutProperties":192,clsx:1846,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.isHorizontal=y,n.getAnchor=v,n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),c=(r(e("prop-types")),r(e("clsx"))),l=r(e("../Modal")),u=r(e("../Backdrop")),d=r(e("../styles/withStyles")),p=r(e("../Slide")),f=r(e("../Paper")),m=r(e("../utils/capitalize")),h=e("../styles/transitions"),g=r(e("../styles/useTheme")),E=function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}};n.styles=E;var _={left:"right",right:"left",top:"down",bottom:"up"};function y(e){return-1!==["left","right"].indexOf(e)}function v(e,t){return"rtl"===e.direction&&y(t)?_[t]:t}var b={enter:h.duration.enteringScreen,exit:h.duration.leavingScreen},T=i.forwardRef((function(e,t){var n=e.anchor,a=void 0===n?"left":n,r=e.BackdropProps,d=e.children,h=e.classes,E=e.className,y=e.elevation,T=void 0===y?16:y,k=e.ModalProps,N=(k=void 0===k?{}:k).BackdropProps,w=(0,s.default)(k,["BackdropProps"]),O=e.onClose,P=e.open,A=void 0!==P&&P,S=e.PaperProps,C=void 0===S?{}:S,R=e.SlideProps,x=e.TransitionComponent,I=void 0===x?p.default:x,M=e.transitionDuration,D=void 0===M?b:M,j=e.variant,L=void 0===j?"temporary":j,F=(0,s.default)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),W=(0,g.default)(),U=i.useRef(!1);i.useEffect((function(){U.current=!0}),[]);var $=v(W,a),G=i.createElement(f.default,(0,o.default)({elevation:"temporary"===L?T:0,square:!0},C,{className:(0,c.default)(h.paper,h["paperAnchor".concat((0,m.default)($))],C.className,"temporary"!==L&&h["paperAnchorDocked".concat((0,m.default)($))])}),d);if("permanent"===L)return i.createElement("div",(0,o.default)({className:(0,c.default)(h.root,h.docked,E),ref:t},F),G);var B=i.createElement(I,(0,o.default)({in:A,direction:_[$],timeout:D,appear:U.current},R),G);return"persistent"===L?i.createElement("div",(0,o.default)({className:(0,c.default)(h.root,h.docked,E),ref:t},F),B):i.createElement(l.default,(0,o.default)({BackdropProps:(0,o.default)({},r,N,{transitionDuration:D}),BackdropComponent:u.default,className:(0,c.default)(h.root,h.modal,E),open:A,onClose:O,ref:t},F,w),B)})),k=(0,d.default)(E,{name:"MuiDrawer",flip:!1})(T);n.default=k}}},{package:"@material-ui/core"}],[6110,{"../../../shared/constants/metametrics":5402,"../../../shared/constants/transaction":5410,"../../components/app/collectibles-detection-notice":5491,"../../components/ui/actionable-message":5836,"../../components/ui/box":5839,"../../components/ui/form-field":5875,"../../components/ui/page-container":5954,"../../components/ui/typography":6002,"../../contexts/metametrics":6011,"../../ducks/metamask/metamask":6025,"../../helpers/constants/design-system":6033,"../../helpers/constants/routes":6037,"../../hooks/useI18nContext":6091,"../../selectors":6437,"../../store/actions":6444,"@metamask/controller-utils":1024,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,T,k;const N=(0,i.useI18nContext)(),w=(0,r.useHistory)(),O=(0,o.useDispatch)(),P=(0,o.useSelector)(g.getUseNftDetection),A=(0,o.useSelector)(g.getIsMainnet),S=(0,o.useSelector)(E.getCollectiblesDetectionNoticeDismissed),C=null==w||null===(e=w.location)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.addressEnteredOnImportTokensPage,R=null==w||null===(n=w.location)||void 0===n||null===(T=n.state)||void 0===T?void 0:T.tokenAddress,[x,I]=(0,a.useState)(null!==(k=null!=C?C:R)&&void 0!==k?k:""),[M,D]=(0,a.useState)(""),[j,L]=(0,a.useState)(!0),[F,W]=(0,a.useState)(!1),U=(0,a.useContext)(y.MetaMetricsContext);return a.default.createElement(f.default,{title:N("importNFT"),onSubmit:()=>{(async()=>{try{await O((0,m.addNftVerifyOwnership)(x,M))}catch(e){const{message:t}=e;return O((0,m.setNewCollectibleAddedMessage)(t)),void W(!0)}R&&await O((0,m.ignoreTokens)({tokensToIgnore:R,dontShowLoadingIndicator:!0})),O((0,m.setNewCollectibleAddedMessage)("success"));const e=await(0,m.getTokenStandardAndDetails)(x,null,M.toString());U({event:b.EVENT_NAMES.TOKEN_ADDED,category:"Wallet",sensitiveProperties:{token_contract_address:x,token_symbol:null==e?void 0:e.symbol,tokenId:M.toString(),asset_type:v.ASSET_TYPES.NFT,token_standard:null==e?void 0:e.standard,source:b.EVENT.SOURCE.TOKEN.CUSTOM}}),w.push(c.DEFAULT_ROUTE)})()},submitText:N("add"),onCancel:()=>{w.push(c.DEFAULT_ROUTE)},onClose:()=>{w.push(c.DEFAULT_ROUTE)},disabled:j,contentComponent:a.default.createElement(u.default,null,!A||P||S?null:a.default.createElement(_.default,null),F&&a.default.createElement(p.default,{type:"danger",useIcon:!0,iconFillColor:"var(--color-error-default)",message:a.default.createElement(u.default,{display:l.DISPLAY.INLINE_FLEX},a.default.createElement(d.default,{variant:l.TYPOGRAPHY.H7,fontWeight:l.FONT_WEIGHT.NORMAL,margin:0},N("collectibleAddFailedMessage")),a.default.createElement("button",{className:"fas fa-times add-collectible__close",title:N("close"),onClick:()=>W(!1)}))}),a.default.createElement(u.default,{margin:4},a.default.createElement(h.default,{dataTestId:"address",titleText:N("address"),placeholder:"0x...",value:x,onChange:e=>{(e=>{L(!(0,s.isValidHexAddress)(e)||!M),I(e)})(e),W(!1)},tooltipText:N("importNFTAddressToolTip"),autoFocus:!0}),a.default.createElement(h.default,{dataTestId:"token-id",titleText:N("tokenId"),placeholder:N("nftTokenIdPlaceholder"),value:M,onChange:e=>{(e=>{L(!(0,s.isValidHexAddress)(x)||!e||isNaN(Number(e))),D(e)})(e),W(!1)},tooltipText:N("importNFTTokenIdToolTip")})))})};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-router-dom"),o=e("react-redux"),s=e("@metamask/controller-utils"),i=e("../../hooks/useI18nContext"),c=e("../../helpers/constants/routes"),l=e("../../helpers/constants/design-system"),u=T(e("../../components/ui/box")),d=T(e("../../components/ui/typography")),p=T(e("../../components/ui/actionable-message")),f=T(e("../../components/ui/page-container")),m=e("../../store/actions"),h=T(e("../../components/ui/form-field")),g=e("../../selectors"),E=e("../../ducks/metamask/metamask"),_=T(e("../../components/app/collectibles-detection-notice")),y=e("../../contexts/metametrics"),v=e("../../../shared/constants/transaction"),b=e("../../../shared/constants/metametrics");function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}}}},{package:"$root$"}],[6111,{"./add-collectible":6110},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./add-collectible"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6112,{"../../../shared/modules/string-utils":5432,"../../components/app/collectible-details/collectible-details":5488,"../../ducks/metamask/metamask":6025,"../../helpers/constants/routes":6037,"./components/native-asset":6116,"./components/token-asset":6117,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/collectible-details/collectible-details")),c=e("../../ducks/metamask/metamask"),l=e("../../helpers/constants/routes"),u=p(e("./components/native-asset")),d=p(e("./components/token-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m=()=>{const e=(0,r.useSelector)((e=>e.metamask.nativeCurrency)),t=(0,r.useSelector)(c.getTokens),n=(0,r.useSelector)(c.getCollectibles),{asset:p,id:f}=(0,o.useParams)(),m=t.find((({address:e})=>(0,s.isEqualCaseInsensitive)(e,p))),h=n.find((({address:e,tokenId:t})=>(0,s.isEqualCaseInsensitive)(e,p)&&f===t.toString()));let g;return(0,a.useEffect)((()=>{document.querySelector(".app").scroll(0,0)}),[]),g=h?a.default.createElement(i.default,{collectible:h}):m?a.default.createElement(d.default,{token:m}):p===e?a.default.createElement(u.default,{nativeCurrency:e}):a.default.createElement(o.Redirect,{to:{pathname:l.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},g)};n.default=m}}},{package:"$root$"}],[6113,{"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("react")),r=o(e("prop-types"));function o(e){return e&&e.__esModule?e:{default:e}}const s=({accountName:e,assetName:t,onBack:n})=>a.default.createElement("button",{className:"asset-breadcrumb",onClick:n},a.default.createElement("i",{className:"fas fa-chevron-left asset-breadcrumb__chevron","data-testid":"asset__back"}),a.default.createElement("span",null,e)," / ",a.default.createElement("span",{className:"asset-breadcrumb__asset"},t));s.propTypes={accountName:r.default.string.isRequired,assetName:r.default.string.isRequired,onBack:r.default.func.isRequired};var i=s;n.default=i}}},{package:"$root$"}],[6114,{"./asset-breadcrumb":6113,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=s(e("./asset-breadcrumb"));function s(e){return e&&e.__esModule?e:{default:e}}const i=({accountName:e,assetName:t,onBack:n,optionsButton:r})=>a.default.createElement("div",{className:"asset-navigation"},a.default.createElement(o.default,{accountName:e,assetName:t,onBack:n}),r);i.propTypes={accountName:r.default.string.isRequired,assetName:r.default.string.isRequired,onBack:r.default.func.isRequired,optionsButton:r.default.element},i.defaultProps={optionsButton:undefined};var c=i;n.default=c}}},{package:"$root$"}],[6115,{"../../../components/ui/menu":5943,"../../../contexts/i18n":6010,"../../../helpers/constants/routes":6037,"../../../selectors":6437,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("react-redux"),c=e("../../../contexts/i18n"),l=e("../../../components/ui/menu"),u=e("../../../selectors"),d=e("../../../helpers/constants/routes");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({onRemove:e,onClickBlockExplorer:t,onViewAccountDetails:n,onViewTokenDetails:a,tokenSymbol:o,isNativeAsset:p})=>{const f=(0,r.useContext)(c.I18nContext),[m,h]=(0,r.useState)(null),[g,E]=(0,r.useState)(!1),_=(0,s.useHistory)(),y=(0,i.useSelector)(u.getBlockExplorerLinkText);return r.default.createElement(r.default.Fragment,null,r.default.createElement("button",{className:"fas fa-ellipsis-v asset-options__button","data-testid":"asset-options__button",onClick:()=>E(!0),ref:h,title:f("assetOptions")}),g?r.default.createElement(l.Menu,{anchorElement:m,onHide:()=>E(!1)},r.default.createElement(l.MenuItem,{iconClassName:"fas fa-qrcode","data-testid":"asset-options__account-details",onClick:()=>{E(!1),n()}},f("accountDetails")),r.default.createElement(l.MenuItem,{iconClassName:"fas fa-external-link-alt asset-options__icon","data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===y.firstPart?()=>{_.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{E(!1),t()}},f(y.firstPart,""===y.secondPart?null:[f("blockExplorerAssetAction")])),p?null:r.default.createElement(l.MenuItem,{iconClassName:"fas fa-trash-alt asset-options__icon","data-testid":"asset-options__hide",onClick:()=>{E(!1),e()}},f("hideTokenSymbol",[o])),p?null:r.default.createElement(l.MenuItem,{iconClassName:"fas fa-info-circle asset-options__icon","data-testid":"asset-options__token-details",onClick:()=>{E(!1),a()}},f("tokenDetails"))):null)},m=e=>"function"!=typeof e;f.propTypes={isNativeAsset:o.default.bool,onClickBlockExplorer:o.default.func.isRequired,onViewAccountDetails:o.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&m(e.onRemove))throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:e=>{if(!1===e.isNativeAsset&&m(e.onViewTokenDetails))throw new Error("When isNativeAsset is true, onViewTokenDetails is a required prop")},tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};var h=f;n.default=h}}},{package:"$root$"}],[6116,{"../../../../shared/constants/metametrics":5402,"../../../components/app/transaction-list":5754,"../../../components/app/wallet-overview":5767,"../../../contexts/metametrics":6011,"../../../helpers/constants/routes":6037,"../../../helpers/utils/util":6071,"../../../selectors/selectors":6440,"../../../store/actions":6444,"./asset-navigation":6114,"./asset-options":6115,"@metamask/etherscan-link":1185,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=_(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/etherscan-link"),c=_(e("../../../components/app/transaction-list")),l=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../store/actions"),p=e("../../../helpers/constants/routes"),f=e("../../../helpers/utils/util"),m=e("../../../contexts/metametrics"),h=e("../../../../shared/constants/metametrics"),g=_(e("./asset-navigation")),E=_(e("./asset-options"));function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({nativeCurrency:e}){const t=(0,o.useSelector)((e=>(0,u.getSelectedIdentity)(e).name)),n=(0,o.useDispatch)(),r=(0,o.useSelector)(u.getCurrentChainId),_=(0,o.useSelector)(u.getRpcPrefsForCurrentProvider),y=(0,o.useSelector)(u.getSelectedAddress),v=(0,s.useHistory)(),b=(0,i.getAccountLink)(y,r,_),T=(0,a.useContext)(m.MetaMetricsContext),k=(0,o.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{accountName:t,assetName:e,onBack:()=>v.push(p.DEFAULT_ROUTE),optionsButton:a.default.createElement(E.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{T({event:"Clicked Block Explorer Link",category:h.EVENT.CATEGORIES.NAVIGATION,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,f.getURLHostName)(b)}}),global.platform.openTab({url:b})},onViewAccountDetails:()=>{n((0,d.showModal)({name:"ACCOUNT_DETAILS"}))},isCustomNetwork:k})}),a.default.createElement(l.EthOverview,{className:"asset__overview"}),a.default.createElement(c.default,{hideTokenTransactions:!0}))}v.propTypes={nativeCurrency:r.default.string.isRequired}}}},{package:"$root$"}],[6117,{"../../../../shared/constants/metametrics":5402,"../../../components/app/transaction-list":5754,"../../../components/app/wallet-overview":5767,"../../../contexts/metametrics":6011,"../../../helpers/constants/routes":6037,"../../../helpers/utils/util":6071,"../../../selectors/selectors":6440,"../../../store/actions":6444,"./asset-navigation":6114,"./asset-options":6115,"@metamask/etherscan-link":1185,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=_(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/etherscan-link"),c=_(e("../../../components/app/transaction-list")),l=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../helpers/utils/util"),f=e("../../../store/actions"),m=e("../../../contexts/metametrics"),h=e("../../../../shared/constants/metametrics"),g=_(e("./asset-navigation")),E=_(e("./asset-options"));function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({token:e}){const t=(0,o.useDispatch)(),n=(0,o.useSelector)(u.getCurrentChainId),r=(0,o.useSelector)(u.getRpcPrefsForCurrentProvider),_=(0,o.useSelector)(u.getSelectedIdentity),y=_.name,v=_.address,b=(0,s.useHistory)(),T=(0,i.getTokenTrackerLink)(e.address,n,null,v,r),k=(0,a.useContext)(m.MetaMetricsContext),N=(0,o.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{accountName:y,assetName:e.symbol,onBack:()=>b.push(d.DEFAULT_ROUTE),optionsButton:a.default.createElement(E.default,{onRemove:()=>t((0,f.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:b})),isCustomNetwork:N,onClickBlockExplorer:()=>{k({event:"Clicked Block Explorer Link",category:h.EVENT.CATEGORIES.NAVIGATION,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,p.getURLHostName)(T)}}),global.platform.openTab({url:T})},onViewAccountDetails:()=>{t((0,f.showModal)({name:"ACCOUNT_DETAILS"}))},onViewTokenDetails:()=>{b.push(`${d.TOKEN_DETAILS}/${e.address}`)},tokenSymbol:e.symbol})}),a.default.createElement(l.TokenOverview,{className:"asset__overview",token:e}),a.default.createElement(c.default,{tokenAddress:e.address}))}v.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string}).isRequired}}}},{package:"$root$"}],[6118,{"./asset":6112},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./asset"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6119,{"../../../shared/constants/metametrics":5402,"../../../shared/constants/transaction":5410,"../../../shared/modules/string-utils":5432,"../../components/ui/actionable-message/actionable-message":5835,"../../components/ui/button":5843,"../../components/ui/identicon":5917,"../../components/ui/token-balance":5993,"../../contexts/i18n":6010,"../../contexts/metametrics":6011,"../../ducks/history/history":6022,"../../ducks/metamask/metamask":6025,"../../helpers/constants/zendesk-url":6040,"../../selectors":6437,"../../store/actions":6444,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=v(e("../../components/ui/actionable-message/actionable-message")),i=v(e("../../components/ui/button")),c=v(e("../../components/ui/identicon")),l=v(e("../../components/ui/token-balance")),u=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),p=e("../../ducks/history/history"),f=e("../../ducks/metamask/metamask"),m=v(e("../../helpers/constants/zendesk-url")),h=e("../../../shared/modules/string-utils"),g=e("../../selectors"),E=e("../../store/actions"),_=e("../../../shared/constants/metametrics"),y=e("../../../shared/constants/transaction");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}var T=()=>{const e=(0,a.useContext)(u.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),v=(0,r.useSelector)(p.getMostRecentOverviewPage),b=(0,r.useSelector)(g.getSuggestedAssets),T=(0,r.useSelector)(f.getTokens),k=(0,a.useContext)(d.MetaMetricsContext),N=(0,a.useMemo)((()=>function(e,t){const n=e.find((({asset:e})=>{const n=t.find((({address:t})=>(0,h.isEqualCaseInsensitive)(t,e.address)));return Boolean(n)}));return Boolean(n)}(b,T)&&a.default.createElement(s.default,{message:e("knownTokenWarning",[a.default.createElement(i.default,{type:"link",key:"confirm-add-suggested-token-duplicate-warning",className:"confirm-add-suggested-token__link",rel:"noopener noreferrer",target:"_blank",href:m.default.TOKEN_SAFETY_PRACTICES},e("learnScamRisk"))]),type:"warning",withRightButton:!0,useIcon:!0,iconFillColor:"#f8c000"})),[b,T,e]),w=(0,a.useMemo)((()=>function(e,t){const n=e.find((({asset:e})=>{const n=t.find((t=>(0,h.isEqualCaseInsensitive)(t.symbol,e.symbol)&&!(0,h.isEqualCaseInsensitive)(t.address,e.address)));return Boolean(n)}));return Boolean(n)}(b,T)&&a.default.createElement(s.default,{message:e("reusedTokenNameWarning"),type:"warning",withRightButton:!0,useIcon:!0,iconFillColor:"#f8c000"})),[b,T,e]),O=(0,a.useCallback)((async()=>{await Promise.all(b.map((async({asset:e,id:n})=>{await t((0,E.acceptWatchAsset)(n)),k({event:_.EVENT_NAMES.TOKEN_ADDED,category:_.EVENT.CATEGORIES.WALLET,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:_.EVENT.SOURCE.TOKEN.DAPP,token_standard:y.TOKEN_STANDARDS.ERC20,asset_type:y.ASSET_TYPES.TOKEN}})}))),n.push(v)}),[t,n,k,v,b]);return(0,a.useEffect)((()=>{b.length||n.push(v)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},e("addSuggestedTokens")),a.default.createElement("div",{className:"page-container__subtitle"},e("likeToImportTokens")),N,w),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-add-suggested-token"},a.default.createElement("div",{className:"confirm-add-suggested-token__header"},a.default.createElement("div",{className:"confirm-add-suggested-token__token"},e("token")),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},e("balance"))),a.default.createElement("div",{className:"confirm-add-suggested-token__token-list"},b.map((({asset:e})=>{return a.default.createElement("div",{className:"confirm-add-suggested-token__token-list-item",key:e.address},a.default.createElement("div",{className:"confirm-add-suggested-token__token confirm-add-suggested-token__data"},a.default.createElement(c.default,{className:"confirm-add-suggested-token__token-icon",diameter:48,address:e.address,image:e.image}),a.default.createElement("div",{className:"confirm-add-suggested-token__name"},(t=e.name,n=e.symbol,t===undefined?n:`${t} (${n})`))),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},a.default.createElement(l.default,{token:e})));var t,n}))))),a.default.createElement("div",{className:"page-container__footer"},a.default.createElement("footer",null,a.default.createElement(i.default,{type:"secondary",large:!0,className:"page-container__footer-button",onClick:async()=>{await Promise.all(b.map((({id:e})=>t((0,E.rejectWatchAsset)(e))))),n.push(v)}},e("cancel")),a.default.createElement(i.default,{type:"primary",large:!0,className:"page-container__footer-button",disabled:0===b.length,onClick:O},e("addToken")))))};n.default=T}}},{package:"$root$"}],[612,{"./Drawer":611,"@babel/runtime/helpers/interopRequireDefault":184},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./Drawer"))}}},{package:"@material-ui/core"}],[6120,{"./confirm-add-suggested-token":6119},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6121,{"../../../../shared/constants/network":5403,"../../../../shared/constants/time":5408,"../../../../shared/constants/transaction":5410,"../../../components/app/confirm-page-container/confirm-page-container-content":5503,"../../../components/app/edit-gas-fee-button":5553,"../../../components/app/gas-details-item":5571,"../../../components/app/ledger-instruction-field":5578,"../../../components/app/modals/contract-details-modal/contract-details-modal":5617,"../../../components/app/multilayer-fee-message":5649,"../../../components/ui/box":5839,"../../../components/ui/button":5843,"../../../components/ui/icon/copy-icon.component":5885,"../../../components/ui/identicon":5917,"../../../components/ui/typography":6002,"../../../components/ui/url-icon":6007,"../../../helpers/constants/design-system":6033,"../../../helpers/utils/confirm-tx.util":6052,"../../../helpers/utils/util":6071,"../../send/send.utils":6314,"@metamask/etherscan-link":1185,classnames:1844,"copy-to-clipboard":1872,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=P(e("prop-types")),o=P(e("classnames")),s=P(e("copy-to-clipboard")),i=e("@metamask/etherscan-link"),c=P(e("../../../components/ui/url-icon")),l=e("../../../helpers/utils/util"),u=e("../../../helpers/utils/confirm-tx.util"),d=e("../../send/send.utils"),p=P(e("../../../components/ui/typography")),f=P(e("../../../components/ui/box")),m=P(e("../../../components/ui/button")),h=P(e("../../../components/app/edit-gas-fee-button")),g=P(e("../../../components/ui/identicon")),E=P(e("../../../components/app/multilayer-fee-message")),_=P(e("../../../components/ui/icon/copy-icon.component")),y=e("../../../helpers/constants/design-system"),v=e("../../../../shared/constants/time"),b=e("../../../components/app/confirm-page-container/confirm-page-container-content"),T=P(e("../../../components/app/gas-details-item")),k=P(e("../../../components/app/ledger-instruction-field")),N=e("../../../../shared/constants/transaction"),w=e("../../../../shared/constants/network"),O=P(e("../../../components/app/modals/contract-details-modal/contract-details-modal"));function P(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends a.Component{constructor(...e){super(...e),S(this,"state",{showFullTxDetails:!1,copied:!1,setshowContractDetails:!1})}renderApproveContentCard({showHeader:e=!0,symbol:t,title:n,showEdit:r,showAdvanceGasFeeOptions:s=!1,onEditClick:i,content:c,footer:l,noBorder:u}){const{supportsEIP1559V2:d}=this.props,{t:p}=this.context;return a.default.createElement("div",{className:(0,o.default)({"confirm-approve-content__card":!u,"confirm-approve-content__card--no-border":u})},e&&a.default.createElement("div",{className:"confirm-approve-content__card-header"},d&&n===p("transactionFee")?null:a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-approve-content__card-header__symbol"},t),a.default.createElement("div",{className:"confirm-approve-content__card-header__title"},n)),r&&(!s||!d)&&a.default.createElement(f.default,{width:y.BLOCK_SIZES.ONE_SIXTH},a.default.createElement(m.default,{type:"link",className:"confirm-approve-content__small-blue-text",onClick:()=>i()},p("edit"))),r&&s&&d&&a.default.createElement(h.default,null)),a.default.createElement("div",{className:"confirm-approve-content__card-content"},c),l)}renderTransactionDetailsContent(){const{t:e}=this.context,{currentCurrency:t,nativeCurrency:n,ethTransactionTotal:r,fiatTransactionTotal:o,hexTransactionTotal:s,txData:i,isMultiLayerFeeNetwork:c,supportsEIP1559V2:l}=this.props;return!c&&l?a.default.createElement(T.default,null):a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content"},c?a.default.createElement("div",{className:"confirm-approve-content__transaction-details-extra-content"},a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__labelled-fee"},a.default.createElement("span",null,e("transactionDetailLayer2GasHeading")),`${r} ${n}`),a.default.createElement(E.default,{transaction:i,layer2fee:s,nativeCurrency:n,plainStyle:!0})):a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-approve-content__small-text"},e("feeAssociatedRequest")),a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__fee"},a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__primary-fee"},(0,u.formatCurrency)(o,t)),a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__secondary-fee"},`${r} ${n}`))))}renderERC721OrERC1155PermissionContent(){const{t:e}=this.context,{origin:t,toAddress:n,isContract:r,isSetApproveForAll:o}=this.props,i=this.getTitleTokenDescription(),c=r?`${e("contract")} (${(0,l.addressSummary)(n)})`:(0,l.addressSummary)(n);return a.default.createElement("div",{className:"flex-column"},a.default.createElement("div",{className:"confirm-approve-content__small-text"},e("accessAndSpendNoticeNFT",[t])),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("approvedAsset"),":"),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},o?e("allOfYour",[i]):i)),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("grantedToWithColon")),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},c),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},a.default.createElement(m.default,{type:"link",className:"confirm-approve-content__copy-address",onClick:()=>{this.setState({copied:!0}),this.copyTimeout=setTimeout((()=>this.setState({copied:!1})),3*v.SECOND),(0,s.default)(n)},title:this.state.copied?e("copiedExclamation"):e("copyToClipboard")},a.default.createElement(_.default,{size:14,color:"var(--color-icon-default)"})))))}renderERC20PermissionContent(){const{t:e}=this.context,{customTokenAmount:t,tokenAmount:n,tokenSymbol:r,origin:o,toAddress:i,isContract:c}=this.props,u=c?`${e("contract")} (${(0,l.addressSummary)(i)})`:(0,l.addressSummary)(i);return a.default.createElement("div",{className:"flex-column"},a.default.createElement("div",{className:"confirm-approve-content__small-text"},e("accessAndSpendNotice",[o])),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("approvedAmountWithColon")),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},`${Number(t||n)} ${r}`)),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("grantedToWithColon")),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},`${u}`),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},a.default.createElement(m.default,{type:"link",className:"confirm-approve-content__copy-address",onClick:()=>{this.setState({copied:!0}),this.copyTimeout=setTimeout((()=>this.setState({copied:!1})),3*v.SECOND),(0,s.default)(i)},title:this.state.copied?e("copiedExclamation"):e("copyToClipboard")},a.default.createElement(_.default,{size:14,color:"var(--color-icon-default)"})))))}renderDataContent(){const{t:e}=this.context,{data:t,isSetApproveForAll:n,isApprovalOrRejection:r}=this.props;return a.default.createElement("div",{className:"flex-column"},a.default.createElement("div",{className:"confirm-approve-content__small-text"},e(n?"functionSetApprovalForAll":"functionApprove")),n&&r!==undefined?a.default.createElement("div",{className:"confirm-approve-content__small-text"},`${e("parameters")}: ${r}`):null,a.default.createElement("div",{className:"confirm-approve-content__small-text confirm-approve-content__data__data-block"},t))}renderFullDetails(){const{t:e}=this.context,{assetStandard:t,showEditApprovalPermissionModal:n,customTokenAmount:r,tokenAmount:o,decimals:s,origin:i,setCustomAmount:c,tokenSymbol:l,tokenBalance:u}=this.props;return t===N.ERC20?a.default.createElement("div",{className:"confirm-approve-content__full-tx-content"},a.default.createElement("div",{className:"confirm-approve-content__permission"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fa fa-user-check"}),title:e("permissionRequest"),content:this.renderERC20PermissionContent(),showEdit:!0,onEditClick:()=>n({customTokenAmount:r,decimals:s,origin:i,setCustomAmount:c,tokenAmount:o,tokenSymbol:l,tokenBalance:u})})),a.default.createElement("div",{className:"confirm-approve-content__data"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fa fa-file"}),title:"Data",content:this.renderDataContent(),noBorder:!0}))):t===N.ERC721||t===N.ERC1155?a.default.createElement("div",{className:"confirm-approve-content__full-tx-content"},a.default.createElement("div",{className:"confirm-approve-content__permission"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fas fa-user-check"}),title:e("permissionRequest"),content:this.renderERC721OrERC1155PermissionContent(),showEdit:!1})),a.default.createElement("div",{className:"confirm-approve-content__data"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fa fa-file"}),title:e("data"),content:this.renderDataContent(),noBorder:!0}))):null}renderCustomNonceContent(){const{t:e}=this.context,{useNonceField:t,customNonceValue:n,updateCustomNonce:r,getNextNonce:o,nextNonce:s,showCustomizeNonceModal:i}=this.props;return a.default.createElement(a.default.Fragment,null,t&&a.default.createElement("div",{className:"confirm-approve-content__custom-nonce-content"},a.default.createElement(f.default,{className:"confirm-approve-content__custom-nonce-header",justifyContent:y.JUSTIFY_CONTENT.FLEX_START},a.default.createElement(p.default,{variant:y.TYPOGRAPHY.H6,fontWeight:y.FONT_WEIGHT.NORMAL},e("nonce")),a.default.createElement(m.default,{type:"link",className:"confirm-approve-content__custom-nonce-edit",onClick:()=>i({nextNonce:s,customNonceValue:n,updateCustomNonce:r,getNextNonce:o})},e("edit"))),a.default.createElement(p.default,{className:"confirm-approve-content__custom-nonce-value",variant:y.TYPOGRAPHY.H6,fontWeight:y.FONT_WEIGHT.BOLD},n||s)))}getTokenName(){const{tokenId:e,assetName:t,assetStandard:n,tokenSymbol:a,isSetApproveForAll:r}=this.props,{t:o}=this.context;let s=o("token");return n===N.ERC20||a&&!e&&!r?s=a:(n===N.ERC721||n===N.ERC1155||t&&e||a&&e)&&(s=t||a?`${null!=t?t:a}`:o("nft")),s}getTitleTokenDescription(){const{tokenId:e,tokenAddress:t,rpcPrefs:n,chainId:r,userAddress:o}=this.props,c=(null==n?void 0:n.blockExplorerUrl)||[...w.TEST_CHAINS,w.CHAIN_IDS.MAINNET].includes(r),l=this.getTokenName(),u=e?` (#${e})`:"";if(c){var d;const e=(0,i.getTokenTrackerLink)(t,r,null,o,{blockExplorerUrl:null!==(d=null==n?void 0:n.blockExplorerUrl)&&void 0!==d?d:null});return a.default.createElement(a.default.Fragment,null,a.default.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",title:t,className:"confirm-approve-content__approval-asset-link"},l),u&&a.default.createElement("span",null,u))}return a.default.createElement(a.default.Fragment,null,a.default.createElement("span",{className:"confirm-approve-content__approval-asset-title",onClick:()=>{(0,s.default)(t)},title:t},l),u&&a.default.createElement("span",null,u))}renderTitle(){const{t:e}=this.context,{assetName:t,tokenId:n,tokenSymbol:a,assetStandard:r,isSetApproveForAll:o,isApprovalOrRejection:s}=this.props,i=this.getTitleTokenDescription();let c;return o?(c=e("approveAllTokensTitle",[i]),!1===s&&(c=e("revokeAllTokensTitle",[i]))):(r===N.ERC721||r===N.ERC1155||t&&n||a&&n)&&(c=e("approveTokenTitle",[i])),c||e("allowSpendToken",[i])}renderDescription(){const{t:e}=this.context,{assetStandard:t,assetName:n,tokenId:a,tokenSymbol:r,isContract:o,isSetApproveForAll:s,isApprovalOrRejection:i}=this.props,c=o?e("contract").toLowerCase():e("account").toLowerCase();let l=e("trustSiteApprovePermission",[c]);return s&&!1===i?l=e("revokeApproveForAllDescription",[c,this.getTitleTokenDescription()]):(s||t===N.ERC721||t===N.ERC1155||n&&a||r&&a)&&(l=e("approveTokenDescription")),l}render(){var e;const{t:t}=this.context,{decimals:n,siteImage:r,tokenAmount:l,customTokenAmount:u,origin:h,tokenSymbol:E,showCustomizeGasModal:T,showEditApprovalPermissionModal:w,setCustomAmount:P,tokenBalance:A,useNonceField:S,warning:C,txData:R,fromAddressIsLedger:x,toAddress:I,chainId:M,rpcPrefs:D,isContract:j,assetStandard:L,userAddress:F,tokenId:W,tokenAddress:U,assetName:$,isSetApproveForAll:G}=this.props,{showFullTxDetails:B,setshowContractDetails:H}=this.state;return a.default.createElement("div",{className:(0,o.default)("confirm-approve-content",{"confirm-approve-content--full":B})},C&&a.default.createElement("div",{className:"confirm-approve-content__custom-nonce-warning"},a.default.createElement(b.ConfirmPageContainerWarning,{warning:C})),a.default.createElement(f.default,{display:y.DISPLAY.FLEX,className:"confirm-approve-content__icon-display-content"},a.default.createElement(f.default,{display:y.DISPLAY.FLEX},a.default.createElement(c.default,{className:"confirm-approve-content__siteimage-identicon",fallbackClassName:"confirm-approve-content__siteimage-identicon",name:h,url:r}),a.default.createElement(p.default,{variant:y.TYPOGRAPHY.H6,fontWeight:y.FONT_WEIGHT.NORMAL,color:y.COLORS.TEXT_ALTERNATIVE,boxProps:{marginLeft:1,marginTop:2}},h))),a.default.createElement("div",{className:"confirm-approve-content__title","data-testid":"confirm-approve-title"},this.renderTitle()),a.default.createElement("div",{className:"confirm-approve-content__description"},this.renderDescription()),L===N.ERC20||E&&!W&&!G?a.default.createElement(f.default,{className:"confirm-approve-content__address-display-content"},a.default.createElement(f.default,{display:y.DISPLAY.FLEX},a.default.createElement(g.default,{className:"confirm-approve-content__address-identicon",diameter:20,address:I}),a.default.createElement(p.default,{variant:y.TYPOGRAPHY.H6,fontWeight:y.FONT_WEIGHT.NORMAL,color:y.COLORS.TEXT_ALTERNATIVE,boxProps:{marginBottom:0}},(0,d.ellipsify)(I)),a.default.createElement(m.default,{type:"link",className:"confirm-approve-content__copy-address",onClick:()=>{this.setState({copied:!0}),this.copyTimeout=setTimeout((()=>this.setState({copied:!1})),3*v.SECOND),(0,s.default)(I)},title:this.state.copied?t("copiedExclamation"):t("copyToClipboard")},a.default.createElement(_.default,{size:9,color:"var(--color-icon-default)"})),a.default.createElement(m.default,{type:"link",className:"confirm-approve-content__etherscan-link",onClick:()=>{var e,t;const n=j?(0,i.getTokenTrackerLink)(I,M,null,F,{blockExplorerUrl:null!==(e=null==D?void 0:D.blockExplorerUrl)&&void 0!==e?e:null}):(0,i.getAccountLink)(I,M,{blockExplorerUrl:null!==(t=null==D?void 0:D.blockExplorerUrl)&&void 0!==t?t:null},null);global.platform.openTab({url:n})},target:"_blank",rel:"noopener noreferrer",title:t("etherscanView")},a.default.createElement("i",{className:"fa fa-share-square fa-sm",style:{color:"var(--color-icon-default)",fontSize:11},title:t("etherscanView")})))):a.default.createElement(f.default,{marginBottom:4,marginTop:2},a.default.createElement(m.default,{type:"link",className:"confirm-approve-content__verify-contract-details",onClick:()=>this.setState({setshowContractDetails:!0})},t("verifyContractDetails")),H&&a.default.createElement(O.default,{onClose:()=>this.setState({setshowContractDetails:!1}),tokenName:E,tokenAddress:U,toAddress:I,chainId:M,rpcPrefs:D,tokenId:W,assetName:$,assetStandard:L})),L===N.ERC20?a.default.createElement("div",{className:"confirm-approve-content__edit-submission-button-container"},a.default.createElement("div",{className:"confirm-approve-content__medium-link-text cursor-pointer",onClick:()=>w({customTokenAmount:u,decimals:n,origin:h,setCustomAmount:P,tokenAmount:l,tokenSymbol:E,tokenBalance:A})},t("editPermission"))):null,a.default.createElement("div",{className:"confirm-approve-content__card-wrapper"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fa fa-tag"}),title:t("transactionFee"),showEdit:!0,showAdvanceGasFeeOptions:!0,onEditClick:T,content:this.renderTransactionDetailsContent(),noBorder:S||!B,footer:!S&&a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button-wrapper",onClick:()=>this.setState({showFullTxDetails:!this.state.showFullTxDetails})},a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button cursor-pointer"},a.default.createElement("div",{className:"confirm-approve-content__small-blue-text"},this.state.showFullTxDetails?t("hideFullTransactionDetails"):t("viewFullTransactionDetails")),a.default.createElement("i",{className:(0,o.default)({"fa fa-caret-up":B,"fa fa-caret-down":!B})})))}),S&&this.renderApproveContentCard({showHeader:!1,content:this.renderCustomNonceContent(),useNonceField:S,noBorder:!B,footer:a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button-wrapper",onClick:()=>this.setState({showFullTxDetails:!this.state.showFullTxDetails})},a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button cursor-pointer"},a.default.createElement("div",{className:"confirm-approve-content__small-blue-text"},this.state.showFullTxDetails?t("hideFullTransactionDetails"):t("viewFullTransactionDetails")),a.default.createElement("i",{className:(0,o.default)({"fa fa-caret-up":B,"fa fa-caret-down":!B})})))})),x?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(k.default,{showDataInstruction:Boolean(null===(e=R.txParams)||void 0===e?void 0:e.data)})):null,B?this.renderFullDetails():null)}}n.default=C,S(C,"contextTypes",{t:r.default.func}),S(C,"propTypes",{decimals:r.default.number,tokenAmount:r.default.string,customTokenAmount:r.default.string,tokenSymbol:r.default.string,siteImage:r.default.string,showCustomizeGasModal:r.default.func,showEditApprovalPermissionModal:r.default.func,origin:r.default.string,setCustomAmount:r.default.func,tokenBalance:r.default.string,data:r.default.string,toAddress:r.default.string,currentCurrency:r.default.string,nativeCurrency:r.default.string,fiatTransactionTotal:r.default.string,ethTransactionTotal:r.default.string,useNonceField:r.default.bool,customNonceValue:r.default.string,updateCustomNonce:r.default.func,getNextNonce:r.default.func,nextNonce:r.default.number,showCustomizeNonceModal:r.default.func,warning:r.default.string,txData:r.default.object,fromAddressIsLedger:r.default.bool,chainId:r.default.string,tokenAddress:r.default.string,rpcPrefs:r.default.object,isContract:r.default.bool,hexTransactionTotal:r.default.string,isMultiLayerFeeNetwork:r.default.bool,supportsEIP1559V2:r.default.bool,assetName:r.default.string,tokenId:r.default.string,assetStandard:r.default.string,isSetApproveForAll:r.default.bool,isApprovalOrRejection:r.default.bool,userAddress:r.default.string})}}},{package:"$root$"}],[6122,{"./confirm-approve-content.component":6121},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-approve-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6123,{"../../../shared/constants/gas":5398,"../../../shared/constants/transaction":5410,"../../../shared/lib/transactions-controller-utils":5417,"../../../shared/modules/contract-utils":5421,"../../../shared/modules/transaction.utils":5434,"../../components/app/advanced-gas-fee-popover":5461,"../../components/app/edit-gas-fee-popover":5560,"../../components/app/edit-gas-popover/edit-gas-popover.component":5566,"../../components/ui/loading-screen":5928,"../../contexts/gasFee":6009,"../../contexts/transaction-modal":6012,"../../ducks/metamask/metamask":6025,"../../helpers/utils/token-util":6068,"../../hooks/useApproveTransaction":6082,"../../selectors":6437,"../../store/actions":6444,"../confirm-contract-interaction":6127,"../confirm-transaction-base":6148,"../token-allowance/token-allowance":6428,"./confirm-approve-content":6122,"./confirm-approve.util":6124,"prop-types":4875,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=S;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=P(e("prop-types")),o=e("react-redux"),s=P(e("../confirm-transaction-base")),i=e("../../../shared/constants/gas"),c=e("../../store/actions"),l=e("../../helpers/utils/token-util"),u=e("../../../shared/modules/contract-utils"),d=e("../../contexts/gasFee"),p=e("../../contexts/transaction-modal"),f=e("../../ducks/metamask/metamask"),m=P(e("../confirm-contract-interaction")),h=e("../../selectors"),g=e("../../hooks/useApproveTransaction"),E=P(e("../../components/app/advanced-gas-fee-popover")),_=P(e("../../components/app/edit-gas-fee-popover")),y=P(e("../../components/app/edit-gas-popover/edit-gas-popover.component")),v=P(e("../../components/ui/loading-screen")),b=e("../../../shared/modules/transaction.utils"),T=e("../../../shared/constants/transaction"),k=e("../../../shared/lib/transactions-controller-utils"),N=P(e("../token-allowance/token-allowance")),w=e("./confirm-approve.util"),O=P(e("./confirm-approve-content"));function P(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function S({assetStandard:e,assetName:t,userBalance:n,tokenSymbol:r,decimals:P,tokenImage:A,tokenAmount:S,tokenId:C,userAddress:R,toAddress:x,tokenAddress:I,transaction:M,ethTransactionTotal:D,fiatTransactionTotal:j,hexTransactionTotal:L,isSetApproveForAll:F}){const W=(0,o.useDispatch)(),{txParams:{data:U}={}}=M,$=(0,o.useSelector)(h.getCurrentCurrency),G=(0,o.useSelector)(f.getNativeCurrency),B=(0,o.useSelector)(h.getSubjectMetadata),H=(0,o.useSelector)(h.getUseNonceField),q=(0,o.useSelector)(h.getNextSuggestedNonce),V=(0,o.useSelector)(h.getCustomNonceValue),Y=(0,o.useSelector)(h.getCurrentChainId),K=(0,o.useSelector)(h.getRpcPrefsForCurrentProvider),z=(0,o.useSelector)(h.getIsMultiLayerFeeNetwork),Z=(0,o.useSelector)(h.checkNetworkAndAccountSupports1559),X=(0,o.useSelector)((Q=R,e=>(0,f.isAddressLedger)(e,Q)));var Q;const[J,ee]=(0,a.useState)(""),[te,ne]=(0,a.useState)(""),[ae,re]=(0,a.useState)(!1),oe=(0,o.useSelector)(h.getEIP1559V2Enabled)&&Z,se=(0,o.useSelector)(h.getIsImprovedTokenAllowanceEnabled),ie=(0,a.useRef)(S),{approveTransaction:ce,showCustomizeGasPopover:le,closeCustomizeGasPopover:ue}=(0,g.useApproveTransaction)();(0,a.useEffect)((()=>{J&&ie.current!==S&&ee(S),ie.current=S}),[J,S]);const de=(0,a.useRef)(q),pe=(0,a.useRef)(V);(0,a.useEffect)((()=>{de.current===q&&pe.current===V||ne(null!==q&&V>q?`Nonce is higher than suggested nonce of ${q}`:""),pe.current=V,de.current=q}),[V,q]);const fe=(0,a.useCallback)((async()=>{const{isContractAddress:e}=await(0,u.readAddressAsContract)(global.eth,x);re(e)}),[re,x]);(0,a.useEffect)((()=>{fe()}),[fe]);const{origin:me}=M,he=me||"",{iconUrl:ge=""}=B[me]||{};let Ee;e===T.ERC20?Ee=`${Number(S)} ${r}`:e!==T.ERC721&&e!==T.ERC1155||(Ee=t);const _e=n?(0,k.calcTokenAmount)(n,P).toString(10):"",ye=J?(0,w.getCustomTxParamsData)(U,{customPermissionAmount:J,decimals:P}):null,ve=(0,b.parseStandardTokenTransactionData)(U),be=(0,l.getTokenApprovedParam)(ve);return r===undefined&&t===undefined?a.default.createElement(v.default,null):e===undefined?a.default.createElement(m.default,null):se&&e===T.ERC20?a.default.createElement(d.GasFeeContextProvider,{transaction:M},a.default.createElement(p.TransactionModalContextProvider,null,a.default.createElement(N.default,{origin:he,siteImage:ge,showCustomizeGasModal:ce,useNonceField:H,currentCurrency:$,nativeCurrency:G,ethTransactionTotal:D,fiatTransactionTotal:j,hexTransactionTotal:L,txData:M,isMultiLayerFeeNetwork:z,supportsEIP1559V2:oe,userAddress:R,tokenAddress:I,data:U,isSetApproveForAll:F,isApprovalOrRejection:be,dappProposedTokenAmount:S,currentTokenBalance:_e,toAddress:x,tokenSymbol:r,decimals:P}),le&&!oe&&a.default.createElement(y.default,{onClose:ue,mode:i.EDIT_GAS_MODES.MODIFY_IN_PLACE,transaction:M}),oe&&a.default.createElement(a.default.Fragment,null,a.default.createElement(_.default,null),a.default.createElement(E.default,null)))):a.default.createElement(d.GasFeeContextProvider,{transaction:M},a.default.createElement(s.default,{toAddress:x,identiconAddress:x,showAccountInHeader:!0,title:Ee,tokenAddress:I,customTokenAmount:String(J),dappProposedTokenAmount:S,currentTokenBalance:_e,isApprovalOrRejection:be,contentComponent:a.default.createElement(p.TransactionModalContextProvider,null,a.default.createElement(O.default,{userAddress:R,isSetApproveForAll:F,isApprovalOrRejection:be,decimals:P,siteImage:ge,setCustomAmount:ee,customTokenAmount:String(J),tokenAmount:S,origin:he,tokenSymbol:r,tokenImage:A,tokenBalance:_e,tokenId:C,assetName:t,assetStandard:e,tokenAddress:I,showCustomizeGasModal:ce,showEditApprovalPermissionModal:({customTokenAmount:t,decimals:n,origin:a,setCustomAmount:r,tokenAmount:o,tokenBalance:s,tokenSymbol:i})=>W((0,c.showModal)({name:"EDIT_APPROVAL_PERMISSION",customTokenAmount:t,decimals:n,origin:a,setCustomAmount:r,tokenAmount:o,tokenBalance:s,tokenSymbol:i,tokenId:C,assetStandard:e})),data:ye||U,toAddress:x,currentCurrency:$,nativeCurrency:G,ethTransactionTotal:D,fiatTransactionTotal:j,hexTransactionTotal:L,useNonceField:H,nextNonce:q,customNonceValue:V,updateCustomNonce:e=>{W((0,c.updateCustomNonce)(e))},getNextNonce:()=>W((0,c.getNextNonce)()),showCustomizeNonceModal:({useNonceField:e,nextNonce:t,customNonceValue:n,updateCustomNonce:a,getNextNonce:r})=>W((0,c.showModal)({name:"CUSTOMIZE_NONCE",useNonceField:e,nextNonce:t,customNonceValue:n,updateCustomNonce:a,getNextNonce:r})),warning:te,txData:M,fromAddressIsLedger:X,chainId:Y,rpcPrefs:K,isContract:ae,isMultiLayerFeeNetwork:z,supportsEIP1559V2:oe}),le&&!oe&&a.default.createElement(y.default,{onClose:ue,mode:i.EDIT_GAS_MODES.MODIFY_IN_PLACE,transaction:M}),oe&&a.default.createElement(a.default.Fragment,null,a.default.createElement(_.default,null),a.default.createElement(E.default,null))),hideSenderToRecipient:!0,customTxParamsData:ye,assetStandard:e}))}S.propTypes={assetStandard:r.default.string,assetName:r.default.string,tokenAddress:r.default.string,userBalance:r.default.string,tokenSymbol:r.default.string,decimals:r.default.string,tokenImage:r.default.string,tokenAmount:r.default.string,tokenId:r.default.string,userAddress:r.default.string,toAddress:r.default.string,transaction:r.default.shape({origin:r.default.string,txParams:r.default.shape({data:r.default.string,to:r.default.string,from:r.default.string})}),ethTransactionTotal:r.default.string,fiatTransactionTotal:r.default.string,hexTransactionTotal:r.default.string,isSetApproveForAll:r.default.bool}}}},{package:"$root$"}],[6124,{"../../../shared/constants/transaction":5410,"../../../shared/lib/swaps-utils":5415,"../../../shared/lib/transactions-controller-utils":5417,"../../../shared/modules/transaction.utils":5434,"../../helpers/utils/token-util":6068},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCustomTxParamsData=function(e,{customPermissionAmount:t,decimals:n}){const c=(0,s.parseStandardTokenTransactionData)(e);if(!c)throw new Error("Invalid data");if(c.name!==o.TRANSACTION_TYPES.TOKEN_METHOD_APPROVE)throw new Error(`Invalid data; should be 'approve' method, but instead is '${c.name}'`);let l=(0,i.getTokenAddressParam)(c);l.startsWith("0x")&&(l=l.substring(2));const[u,d]=e.split(l);if(!u||!d)throw new Error("Invalid data");if(64!==d.length)throw new Error("Invalid token value; should be exactly 64 hex digits long (u256)");let p=(0,r.decimalToHex)((0,a.calcTokenValue)(t,n));if(p.length>64)throw new Error("Custom value is larger than u256");p=p.padStart(d.length,"0");return`${u}${l}${p}`};var a=e("../../../shared/lib/swaps-utils"),r=e("../../../shared/lib/transactions-controller-utils"),o=e("../../../shared/constants/transaction"),s=e("../../../shared/modules/transaction.utils"),i=e("../../helpers/utils/token-util")}}},{package:"$root$"}],[6125,{"./confirm-approve":6123},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-approve"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6126,{"../../../shared/constants/transaction":5410,"../../ducks/confirm-transaction/confirm-transaction.duck":6018,"../../ducks/send":6027,"../../helpers/constants/routes":6037,"../confirm-transaction-base":6148,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useDispatch)(),t=(0,o.useHistory)(),n=n=>{(async({txData:t})=>{const{id:n}=t;await e((0,c.editExistingTransaction)(u.ASSET_TYPES.NATIVE,n.toString())),e((0,l.clearConfirmTransaction)())})(n).then((()=>{t.push(i.SEND_ROUTE)}))};return a.default.createElement(s.default,{actionKey:"confirm",onEdit:e=>n(e)})};var a=d(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=d(e("../confirm-transaction-base")),i=e("../../helpers/constants/routes"),c=e("../../ducks/send"),l=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../../shared/constants/transaction");function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$"}],[6127,{"./confirm-contract-interaction":6126},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-contract-interaction"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6128,{"../../../shared/constants/metametrics":5402,"../../../shared/constants/time":5408,"../../../shared/modules/conversion.utils":5422,"../../components/app/account-list-item":5437,"../../components/ui/button":5843,"../../components/ui/icon/copy-icon.component":5885,"../../components/ui/identicon":5917,"../../components/ui/tooltip":5998,classnames:1844,"copy-to-clipboard":1872,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=h(e("prop-types")),o=h(e("copy-to-clipboard")),s=h(e("classnames")),i=h(e("../../components/app/account-list-item")),c=h(e("../../components/ui/button")),l=h(e("../../components/ui/identicon")),u=h(e("../../components/ui/tooltip")),d=h(e("../../components/ui/icon/copy-icon.component")),p=e("../../../shared/constants/metametrics"),f=e("../../../shared/constants/time"),m=e("../../../shared/modules/conversion.utils");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.Component{constructor(...e){super(...e),E(this,"state",{fromAccount:this.props.fromAccount,copyToClipboardPressed:!1,hasCopied:!1}),E(this,"copyMessage",(()=>{(0,o.default)(this.state.rawMessage),this.context.trackEvent({category:p.EVENT.CATEGORIES.MESSAGES,event:"Copy",properties:{action:"Decrypt Message Copy",legacy_event:!0}}),this.setState({hasCopied:!0}),setTimeout((()=>this.setState({hasCopied:!1})),3*f.SECOND)})),E(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-decrypt-message__header"},a.default.createElement("div",{className:"request-decrypt-message__header-background"}),a.default.createElement("div",{className:"request-decrypt-message__header__text"},this.context.t("decryptRequest")),a.default.createElement("div",{className:"request-decrypt-message__header__tip-container"},a.default.createElement("div",{className:"request-decrypt-message__header__tip"}))))),E(this,"renderAccount",(()=>{const{fromAccount:e}=this.state,{t:t}=this.context;return a.default.createElement("div",{className:"request-decrypt-message__account"},a.default.createElement("div",{className:"request-decrypt-message__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-decrypt-message__account-item"},a.default.createElement(i.default,{account:e})))})),E(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t}=this.props,{fromAccount:{balance:n}}=this.state,{t:r}=this.context,o=(0,m.conversionUtil)(n,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",numberOfDecimals:6,conversionRate:e});return a.default.createElement("div",{className:"request-decrypt-message__balance"},a.default.createElement("div",{className:"request-decrypt-message__balance-text"},`${r("balance")}:`),a.default.createElement("div",{className:"request-decrypt-message__balance-value"},`${o} ${t}`))})),E(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-decrypt-message__request-icon"},a.default.createElement(l.default,{diameter:40,address:e}))})),E(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-decrypt-message__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),E(this,"renderBody",(()=>{const{decryptMessageInline:e,subjectMetadata:t,txData:n}=this.props,{t:r}=this.context,o=t[n.msgParams.origin],i=(null==o?void 0:o.name)||n.msgParams.origin,c=r("decryptMessageNotice",[n.msgParams.origin]),{hasCopied:l,hasDecrypted:p,hasError:f,rawMessage:m,errorMessage:h,copyToClipboardPressed:g}=this.state;return a.default.createElement("div",{className:"request-decrypt-message__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-decrypt-message__visual"},a.default.createElement("section",null,null!=o&&o.iconUrl?a.default.createElement("img",{className:"request-decrypt-message__visual-identicon",src:o.iconUrl,alt:""}):a.default.createElement("i",{className:"request-decrypt-message__visual-identicon--default"},i.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-decrypt-message__notice"},c))),a.default.createElement("div",{className:"request-decrypt-message__message"},a.default.createElement("div",{className:"request-decrypt-message__message-text"},p||f?m:n.msgParams.data,f?h:""),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-cover",{"request-decrypt-message__message-lock--pressed":p||f})}),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-lock",{"request-decrypt-message__message-lock--pressed":p||f}),onClick:t=>{e(n,t).then((e=>{e.error?this.setState({hasError:!0,errorMessage:this.context.t("decryptInlineError",[e.error])}):this.setState({hasDecrypted:!0,rawMessage:e.rawData})}))}},a.default.createElement("div",{className:"request-decrypt-message__message-lock__container"},a.default.createElement("i",{className:"fa fa-lock fa-lg request-decrypt-message__message-lock__container__icon"}),a.default.createElement("div",{className:"request-decrypt-message__message-lock__container__text"},r("decryptMetamask"))))),p?a.default.createElement("div",{className:(0,s.default)({"request-decrypt-message__message-copy":!0,"request-decrypt-message__message-copy--pressed":g}),onClick:()=>this.copyMessage(),onMouseDown:()=>this.setState({copyToClipboardPressed:!0}),onMouseUp:()=>this.setState({copyToClipboardPressed:!1})},a.default.createElement(u.default,{position:"bottom",title:r(l?"copiedExclamation":"copyToClipboard"),wrapperClassName:"request-decrypt-message__message-copy-tooltip",style:{display:"flex",alignItems:"center"}},a.default.createElement("div",{className:"request-decrypt-message__message-copy-text"},r("decryptCopy")),a.default.createElement(d.default,{size:17,color:"var(--color-primary-default)"}))):a.default.createElement("div",null))})),E(this,"renderFooter",(()=>{const{cancelDecryptMessage:e,clearConfirmTransaction:t,decryptMessage:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{trackEvent:i,t:l}=this.context;return a.default.createElement("div",{className:"request-decrypt-message__footer"},a.default.createElement(c.default,{type:"secondary",large:!0,className:"request-decrypt-message__footer__cancel-button",onClick:async n=>{await e(s,n),i({category:p.EVENT.CATEGORIES.MESSAGES,event:"Cancel",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)}},l("cancel")),a.default.createElement(c.default,{type:"primary",large:!0,className:"request-decrypt-message__footer__sign-button",onClick:async e=>{await n(s,e),i({category:p.EVENT.CATEGORIES.MESSAGES,event:"Confirm",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)}},l("decrypt")))})),E(this,"render",(()=>a.default.createElement("div",{className:"request-decrypt-message__container"},this.renderHeader(),this.renderBody(),this.renderFooter())))}}n.default=_,E(_,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),E(_,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelDecryptMessage:r.default.func.isRequired,decryptMessage:r.default.func.isRequired,decryptMessageInline:r.default.func.isRequired,conversionRate:r.default.number,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,nativeCurrency:r.default.string.isRequired})}}},{package:"$root$"}],[6129,{"../../ducks/confirm-transaction/confirm-transaction.duck":6018,"../../ducks/history/history":6022,"../../ducks/metamask/metamask":6025,"../../selectors":6437,"../../store/actions":6444,"./confirm-decrypt-message.component":6128,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../store/actions"),c=e("../../selectors"),l=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),p=(a=e("./confirm-decrypt-message.component"))&&a.__esModule?a:{default:a};var f=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){const{metamask:{subjectMetadata:t={}}}=e,n=(0,c.unconfirmedTransactionsListSelector)(e)[0],{msgParams:{from:a}}=n;return{txData:n,subjectMetadata:t,fromAccount:(0,c.getTargetAccountWithSendEtherInfo)(e,a),requester:null,requesterAddress:null,conversionRate:(0,c.conversionRateSelector)(e),mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,l.clearConfirmTransaction)()),decryptMessage:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,i.decryptMsg)(a))},cancelDecryptMessage:(t,n)=>(n.stopPropagation(n),e((0,i.cancelDecryptMsg)(t))),decryptMessageInline:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,i.decryptMsgInline)(a))}}})))(p.default);n.default=f}}},{package:"$root$"}],[613,{"../Collapse":594,"../Paper":708,"../styles/withStyles":870,"../utils/useControlled":893,"./ExpansionPanelContext":614,"@babel/runtime/helpers/extends":180,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@babel/runtime/helpers/objectWithoutProperties":192,"@babel/runtime/helpers/slicedToArray":197,"@babel/runtime/helpers/toArray":198,"@material-ui/utils":961,clsx:1846,"prop-types":4875,react:5049,"react-is":4986},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/toArray")),i=r(e("@babel/runtime/helpers/slicedToArray")),c=r(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),u=(e("react-is"),r(e("prop-types")),r(e("clsx"))),d=(e("@material-ui/utils"),r(e("../Collapse"))),p=r(e("../Paper")),f=r(e("../styles/withStyles")),m=r(e("./ExpansionPanelContext")),h=r(e("../utils/useControlled")),g=function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}};n.styles=g;var E=l.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,f=e.defaultExpanded,g=void 0!==f&&f,E=e.disabled,_=void 0!==E&&E,y=e.expanded,v=e.onChange,b=e.square,T=void 0!==b&&b,k=e.TransitionComponent,N=void 0===k?d.default:k,w=e.TransitionProps,O=(0,c.default)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),P=(0,h.default)({controlled:y,default:g,name:"ExpansionPanel",state:"expanded"}),A=(0,i.default)(P,2),S=A[0],C=A[1],R=l.useCallback((function(e){C(!S),v&&v(e,!S)}),[S,v,C]),x=l.Children.toArray(n),I=(0,s.default)(x),M=I[0],D=I.slice(1),j=l.useMemo((function(){return{expanded:S,disabled:_,toggle:R}}),[S,_,R]);return l.createElement(p.default,(0,o.default)({className:(0,u.default)(a.root,r,S&&a.expanded,_&&a.disabled,!T&&a.rounded),ref:t,square:T},O),l.createElement(m.default.Provider,{value:j},M),l.createElement(N,(0,o.default)({in:S,timeout:"auto"},w),l.createElement("div",{"aria-labelledby":M.props.id,id:M.props["aria-controls"],role:"region"},D)))})),_=(0,f.default)(g,{name:"MuiExpansionPanel"})(E);n.default=_}}},{package:"@material-ui/core"}],[6130,{"./confirm-decrypt-message.container":6129},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-decrypt-message.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6131,{"../../../shared/modules/buffer-utils":5420,"../confirm-transaction-base":6148,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("prop-types")),o=i(e("../confirm-transaction-base")),s=e("../../../shared/modules/buffer-utils");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{renderData(){const{t:e}=this.context,{txData:{origin:t,txParams:{data:n}={}}={}}=this.props;return a.default.createElement("div",{className:"confirm-page-container-content__data"},a.default.createElement("div",{className:"confirm-page-container-content__data-box"},a.default.createElement("div",{className:"confirm-page-container-content__data-field"},a.default.createElement("div",{className:"confirm-page-container-content__data-field-label"},`${e("origin")}:`),a.default.createElement("div",null,t)),a.default.createElement("div",{className:"confirm-page-container-content__data-field"},a.default.createElement("div",{className:"confirm-page-container-content__data-field-label"},`${e("bytes")}:`),a.default.createElement("div",null,(0,s.toBuffer)(n).length))),a.default.createElement("div",{className:"confirm-page-container-content__data-box-label"},`${e("hexData")}:`),a.default.createElement("div",{className:"confirm-page-container-content__data-box"},n))}render(){return a.default.createElement(o.default,{actionKey:"contractDeployment",dataComponent:this.renderData()})}}n.default=u,l(u,"contextTypes",{t:r.default.func}),l(u,"propTypes",{txData:r.default.object})}}},{package:"$root$"}],[6132,{"./confirm-deploy-contract.component":6131,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=(a=e("./confirm-deploy-contract.component"))&&a.__esModule?a:{default:a};var s=(0,r.connect)((e=>{const{confirmTransaction:{txData:t}={}}=e;return{txData:t}}))(o.default);n.default=s}}},{package:"$root$"}],[6133,{"./confirm-deploy-contract.container":6132},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-deploy-contract.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6134,{"../../../shared/constants/metametrics":5402,"../../../shared/modules/conversion.utils":5422,"../../components/app/account-list-item":5437,"../../components/ui/button":5843,"../../components/ui/identicon":5917,"../../components/ui/site-origin":5976,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("../../components/app/account-list-item")),s=d(e("../../components/ui/button")),i=d(e("../../components/ui/identicon")),c=e("../../../shared/constants/metametrics"),l=e("../../../shared/modules/conversion.utils"),u=d(e("../../components/ui/site-origin"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),f(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-encryption-public-key__header"},a.default.createElement("div",{className:"request-encryption-public-key__header-background"}),a.default.createElement("div",{className:"request-encryption-public-key__header__text"},this.context.t("encryptionPublicKeyRequest")),a.default.createElement("div",{className:"request-encryption-public-key__header__tip-container"},a.default.createElement("div",{className:"request-encryption-public-key__header__tip"}))))),f(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__account"},a.default.createElement("div",{className:"request-encryption-public-key__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-encryption-public-key__account-item"},a.default.createElement(o.default,{account:e})))})),f(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,fromAccount:{balance:n}}=this.props,{t:r}=this.context,o=(0,l.conversionUtil)(n,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",numberOfDecimals:6,conversionRate:e});return a.default.createElement("div",{className:"request-encryption-public-key__balance"},a.default.createElement("div",{className:"request-encryption-public-key__balance-text"},`${r("balance")}:`),a.default.createElement("div",{className:"request-encryption-public-key__balance-value"},`${o} ${t}`))})),f(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-encryption-public-key__request-icon"},a.default.createElement(i.default,{diameter:40,address:e}))})),f(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-encryption-public-key__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),f(this,"renderBody",(()=>{const{subjectMetadata:e,txData:t}=this.props,{t:n}=this.context,r=e[t.origin],o=n("encryptionPublicKeyNotice",[a.default.createElement(u.default,{siteOrigin:t.origin,key:t.origin})]),s=(null==r?void 0:r.hostname)||t.origin;return a.default.createElement("div",{className:"request-encryption-public-key__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-encryption-public-key__visual"},a.default.createElement("section",null,null!=r&&r.iconUrl?a.default.createElement("img",{className:"request-encryption-public-key__visual-identicon",src:r.iconUrl,alt:""}):a.default.createElement("i",{className:"request-encryption-public-key__visual-identicon--default"},s.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-encryption-public-key__notice"},o))))})),f(this,"renderFooter",(()=>{const{cancelEncryptionPublicKey:e,clearConfirmTransaction:t,encryptionPublicKey:n,history:r,mostRecentOverviewPage:o,txData:i}=this.props,{t:l,trackEvent:u}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__footer"},a.default.createElement(s.default,{type:"secondary",large:!0,className:"request-encryption-public-key__footer__cancel-button",onClick:async n=>{await e(i,n),u({category:c.EVENT.CATEGORIES.MESSAGES,event:"Cancel",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)}},this.context.t("cancel")),a.default.createElement(s.default,{type:"primary",large:!0,className:"request-encryption-public-key__footer__sign-button",onClick:async e=>{await n(i,e),this.context.trackEvent({category:c.EVENT.CATEGORIES.MESSAGES,event:"Confirm",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)}},l("provide")))})),f(this,"render",(()=>a.default.createElement("div",{className:"request-encryption-public-key__container"},this.renderHeader(),this.renderBody(),this.renderFooter())))}}n.default=m,f(m,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),f(m,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelEncryptionPublicKey:r.default.func.isRequired,encryptionPublicKey:r.default.func.isRequired,conversionRate:r.default.number,history:r.default.object.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,nativeCurrency:r.default.string.isRequired})}}},{package:"$root$"}],[6135,{"../../ducks/confirm-transaction/confirm-transaction.duck":6018,"../../ducks/history/history":6022,"../../ducks/metamask/metamask":6025,"../../selectors":6437,"../../store/actions":6444,"./confirm-encryption-public-key.component":6134,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../store/actions"),c=e("../../selectors"),l=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),p=(a=e("./confirm-encryption-public-key.component"))&&a.__esModule?a:{default:a};var f=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){const{metamask:{subjectMetadata:t={}}}=e,n=(0,c.unconfirmedTransactionsListSelector)(e)[0],{msgParams:a}=n;return{txData:n,subjectMetadata:t,fromAccount:(0,c.getTargetAccountWithSendEtherInfo)(e,a),requester:null,requesterAddress:null,conversionRate:(0,c.conversionRateSelector)(e),mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,l.clearConfirmTransaction)()),encryptionPublicKey:(t,n)=>{const a={data:t.msgParams,metamaskId:t.id};return n.stopPropagation(),e((0,i.encryptionPublicKeyMsg)(a))},cancelEncryptionPublicKey:(t,n)=>(n.stopPropagation(),e((0,i.cancelEncryptionPublicKeyMsg)(t)))}})))(p.default);n.default=f}}},{package:"$root$"}],[6136,{"./confirm-encryption-public-key.container":6135},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-encryption-public-key.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6137,{"../../../shared/constants/metametrics":5402,"../../../shared/constants/transaction":5410,"../../components/ui/button":5843,"../../components/ui/identicon":5917,"../../components/ui/token-balance":5993,"../../contexts/i18n":6010,"../../contexts/metametrics":6011,"../../ducks/history/history":6022,"../../ducks/metamask/metamask":6025,"../../helpers/constants/routes":6037,"../../store/actions":6444,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../helpers/constants/routes"),i=E(e("../../components/ui/button")),c=E(e("../../components/ui/identicon")),l=E(e("../../components/ui/token-balance")),u=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),p=e("../../ducks/history/history"),f=e("../../ducks/metamask/metamask"),m=e("../../store/actions"),h=e("../../../shared/constants/metametrics"),g=e("../../../shared/constants/transaction");function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}var y=()=>{const e=(0,a.useContext)(u.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),E=(0,a.useContext)(d.MetaMetricsContext),_=(0,r.useSelector)(p.getMostRecentOverviewPage),y=(0,r.useSelector)(f.getPendingTokens),v=(0,a.useCallback)((async()=>{var e;await t((0,m.addTokens)(y));const a=Object.values(y),r=null==a||null===(e=a[0].address)||void 0===e?void 0:e.toLowerCase();a.forEach((e=>{E({event:h.EVENT_NAMES.TOKEN_ADDED,category:h.EVENT.CATEGORIES.WALLET,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:e.isCustom?h.EVENT.SOURCE.TOKEN.CUSTOM:h.EVENT.SOURCE.TOKEN.LIST,token_standard:g.TOKEN_STANDARDS.ERC20,asset_type:g.ASSET_TYPES.TOKEN}})})),t((0,m.clearPendingTokens)()),r?n.push(`${s.ASSET_ROUTE}/${r}`):n.push(_)}),[t,n,_,y,E]);return(0,a.useEffect)((()=>{0===Object.keys(y).length&&n.push(_)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},e("importTokensCamelCase")),a.default.createElement("div",{className:"page-container__subtitle"},e("likeToImportTokens"))),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-import-token"},a.default.createElement("div",{className:"confirm-import-token__header"},a.default.createElement("div",{className:"confirm-import-token__token"},e("token")),a.default.createElement("div",{className:"confirm-import-token__balance"},e("balance"))),a.default.createElement("div",{className:"confirm-import-token__token-list"},Object.entries(y).map((([e,t])=>{const{name:n,symbol:r}=t;return a.default.createElement("div",{className:"confirm-import-token__token-list-item",key:e},a.default.createElement("div",{className:"confirm-import-token__token confirm-import-token__data"},a.default.createElement(c.default,{className:"confirm-import-token__token-icon",diameter:48,address:e}),a.default.createElement("div",{className:"confirm-import-token__name"},((e,t)=>e===undefined?t:`${e} (${t})`)(n,r))),a.default.createElement("div",{className:"confirm-import-token__balance"},a.default.createElement(l.default,{token:t})))}))))),a.default.createElement("div",{className:"page-container__footer"},a.default.createElement("footer",null,a.default.createElement(i.default,{type:"secondary",large:!0,className:"page-container__footer-button",onClick:()=>{t((0,m.clearPendingTokens)()),n.push(s.IMPORT_TOKEN_ROUTE)}},e("back")),a.default.createElement(i.default,{type:"primary",large:!0,className:"page-container__footer-button",onClick:v},e("importTokensCamelCase")))))};n.default=y}}},{package:"$root$"}],[6138,{"./confirm-import-token":6137},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./confirm-import-token"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[6139,{"../../helpers/constants/routes":6037,"../confirm-transaction-base":6148,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("prop-types")),o=i(e("../confirm-transaction-base")),s=e("../../helpers/constants/routes");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{handleEdit({txData:e}){const{editTransaction:t,history:n}=this.props;t(e).then((()=>{n.push(s.SEND_ROUTE)}))}shouldHideData(){const{txParams:e={}}=this.props;return!e.data}render(){const e=this.shouldHideData();return a.default.createElement(o.default,{actionKey:"confirm",hideData:e,onEdit:e=>this.handleEdit(e)})}}n.default=u,l(u,"contextTypes",{t:r.default.func}),l(u,"propTypes",{editTransaction:r.default.func,history:r.default.object,txParams:r.default.object})}}},{package:"$root$"}],[614,{"@babel/runtime/helpers/interopRequireWildcard":185,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("react")).createContext({});var o=r;n.default=o}}},{package:"@material-ui/core"}],[6140,{"../../../shared/constants/transaction":5410,"../../ducks/confirm-transaction/confirm-transaction.duck":6018,"../../ducks/send":6027,"./confirm-send-ether.component":6139,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../ducks/send"),c=e("../../ducks/confirm-transaction/confirm-transaction.duck"),l=e("../../../shared/constants/transaction"),u=(a=e("./confirm-send-ether.component"))&&a.__esModule?a:{default:a};var d=(0,o.compose)(s.withRouter,(0,r.connect)((e=>{const{confirmTransaction:{txData:{txParams:t}={}}}=e;return{txParams:t}}),(e=>({editTransaction:async t=>{const{id:n}=t;await e((0,i.editExistingTransaction)(l.ASSET_TYPES.NATIVE,n.toString())),e((0,c.clearConfirmTransaction)())}}))))(u.default);n.default=d}}},{package:"$root$"}],[6141,{"./confirm-send-ether.container":6140},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-send-ether.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6142,{"../../../shared/constants/transaction":5410,"../../ducks/confirm-transaction/confirm-transaction.duck":6018,"../../ducks/metamask/metamask":6025,"../../ducks/send":6027,"../../helpers/constants/routes":6037,"../../selectors":6437,"../../store/actions":6444,"../confirm-token-transaction-base/confirm-token-transaction-base":6144,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=h(e("react")),r=h(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=h(e("../confirm-token-transaction-base/confirm-token-transaction-base")),c=e("../../helpers/constants/routes"),l=e("../../ducks/send"),u=e("../../selectors"),d=e("../../ducks/metamask/metamask"),p=e("../../ducks/confirm-transaction/confirm-transaction.duck"),f=e("../../store/actions"),m=e("../../../shared/constants/transaction");function h(e){return e&&e.__esModule?e:{default:e}}function g({assetStandard:e,toAddress:t,tokenAddress:n,assetName:r,tokenSymbol:h,tokenAmount:g,tokenId:E,transaction:_,image:y,ethTransactionTotal:v,fiatTransactionTotal:b,hexMaximumTransactionFee:T}){const k=(0,o.useDispatch)(),N=(0,s.useHistory)(),w=(0,o.useSelector)(d.getConversionRate),O=(0,o.useSelector)(d.getNativeCurrency),P=(0,o.useSelector)(u.getCurrentCurrency),A=(0,o.useSelector)(u.contractExchangeRateSelector);let S,C;return e===m.ERC721?(S=r,C=`#${E}`):e===m.ERC20&&(S=`${g} ${h}`),a.default.createElement(i.default,{onEdit:e=>{(async({txData:e})=>{const{id:t}=e;await k((0,l.editExistingTransaction)(m.ASSET_TYPES.TOKEN,t.toString())),k((0,p.clearConfirmTransaction)()),k((0,f.showSendTokenPage)())})(e).then((()=>{N.push(c.SEND_ROUTE)}))},conversionRate:w,currentCurrency:P,nativeCurrency:O,contractExchangeRate:A,title:S,subtitle:C,assetStandard:e,assetName:r,tokenSymbol:h,tokenAmount:g,tokenId:E,transaction:_,image:y,toAddress:t,tokenAddress:n,ethTransactionTotal:v,fiatTransactionTotal:b,hexMaximumTransactionFee:T})}g.propTypes={tokenAmount:r.default.string,assetStandard:r.default.string,assetName:r.default.string,tokenSymbol:r.default.string,image:r.default.string,tokenId:r.default.string,toAddress:r.default.string,tokenAddress:r.default.string,transaction:r.default.shape({origin:r.default.string,txParams:r.default.shape({data:r.default.string,to:r.default.string,from:r.default.string})}),ethTransactionTotal:r.default.string,fiatTransactionTotal:r.default.string,hexMaximumTransactionFee:r.default.string}}}},{package:"$root$"}],[6143,{"./confirm-send-token":6142},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-send-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6144,{"../../../shared/constants/transaction":5410,"../../../shared/lib/transactions-controller-utils":5417,"../../components/app/user-preferenced-currency-display":5758,"../../contexts/i18n":6010,"../../ducks/metamask/metamask":6025,"../../helpers/constants/common":6031,"../../helpers/utils/confirm-tx.util":6052,"../../helpers/utils/conversions.util":6053,"../../selectors":6437,"../confirm-transaction-base":6148,"bignumber.js":1706,"prop-types":4875,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=E(e("prop-types")),o=E(e("bignumber.js")),s=e("react-redux"),i=e("../../contexts/i18n"),c=E(e("../confirm-transaction-base")),l=E(e("../../components/app/user-preferenced-currency-display")),u=e("../../helpers/utils/confirm-tx.util"),d=e("../../helpers/constants/common"),p=e("../../helpers/utils/conversions.util"),f=e("../../selectors"),m=e("../../ducks/metamask/metamask"),h=e("../../../shared/constants/transaction"),g=e("../../../shared/lib/transactions-controller-utils");function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function y({image:e="",assetName:t,toAddress:n,tokenAddress:r,tokenAmount:E="0",tokenSymbol:_,tokenId:y,assetStandard:v,onEdit:b,ethTransactionTotal:T,fiatTransactionTotal:k,hexMaximumTransactionFee:N}){const w=(0,a.useContext)(i.I18nContext),O=(0,s.useSelector)(f.contractExchangeRateSelector),P=(0,s.useSelector)(m.getNativeCurrency),A=(0,s.useSelector)(f.getCurrentCurrency),S=(0,s.useSelector)(m.getConversionRate),C=Number((0,g.hexWEIToDecETH)(N));let R,x;v===h.ERC721||v===h.ERC1155?(R=t,x=`#${y}`):v===h.ERC20&&(R=`${E} ${_}`);const I=(0,a.useMemo)((()=>{if("0"===E||!O)return"0";const e=new o.default(E).times(new o.default(O?String(O):0)).toFixed();return(0,p.getWeiHexFromDecimalValue)({value:e,fromCurrency:d.ETH,fromDenomination:d.ETH})}),[E,O]),M=(0,a.useMemo)((()=>{if(void 0===O)return(0,u.formatCurrency)(k,A);const e=(0,u.convertTokenToFiat)({value:E,toCurrency:A,conversionRate:S,contractExchangeRate:O}),t=(0,u.addFiat)(e,k),n=(0,u.roundExponential)(t);return(0,u.formatCurrency)(n,A)}),[A,S,O,k,E]);return a.default.createElement(c.default,{toAddress:n,image:e,onEdit:b,tokenAddress:r,title:R,subtitleComponent:O===undefined&&x===undefined?a.default.createElement("span",null,w("noConversionRateAvailable")):x?a.default.createElement("span",null,x):a.default.createElement(l.default,{value:I,type:d.PRIMARY,showEthLogo:!0,hideLabel:!0}),primaryTotalTextOverride:`${R} + ${T} ${P}`,primaryTotalTextOverrideMaxAmount:`${R} + ${C} ${P}`,secondaryTotalTextOverride:M})}y.propTypes={image:r.default.string,assetName:r.default.string,toAddress:r.default.string,tokenAddress:r.default.string,tokenAmount:r.default.string,tokenSymbol:r.default.string,tokenId:r.default.string,assetStandard:r.default.string,onEdit:r.default.func,ethTransactionTotal:r.default.string,fiatTransactionTotal:r.default.string,hexMaximumTransactionFee:r.default.string}}}},{package:"$root$"}],[6145,{"./confirm-token-transaction-base":6144},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-token-transaction-base"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6146,{"../../../shared/constants/metametrics":5402,"../../../shared/constants/network":5403,"../../../shared/constants/transaction":5410,"../../../shared/lib/metamask-controller-utils":5413,"../../../shared/lib/transactions-controller-utils":5417,"../../../shared/modules/buffer-utils":5420,"../../components/app/confirm-page-container":5512,"../../components/app/gas-details-item":5571,"../../components/app/gas-timing/gas-timing.component":5572,"../../components/app/ledger-instruction-field":5578,"../../components/app/multilayer-fee-message":5649,"../../components/app/transaction-decoding":5739,"../../components/app/transaction-decoding/components/ui/copy-raw-data":5737,"../../components/app/transaction-detail-item/transaction-detail-item.component":5743,"../../components/app/transaction-detail/transaction-detail.component":5745,"../../components/app/user-preferenced-currency-display":5758,"../../components/ui/actionable-message":5836,"../../components/ui/disclosure":5865,"../../components/ui/info-tooltip/info-tooltip":5920,"../../components/ui/loading-heartbeat":5925,"../../components/ui/text-field":5988,"../../components/ui/typography/typography":6003,"../../contexts/transaction-modal":6012,"../../helpers/constants/common":6031,"../../helpers/constants/design-system":6033,"../../helpers/constants/error-keys":6034,"../../helpers/constants/routes":6037,"../../helpers/utils/conversions.util":6053,"../../helpers/utils/metrics":6062,"../../helpers/utils/transactions.util":6069,"../../store/actions":6444,"../send/send.constants":6312,"../send/send.utils":6314,"./transaction-alerts":6149,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=W(e("prop-types")),o=W(e("../../components/app/confirm-page-container")),s=W(e("../../components/app/transaction-decoding")),i=e("../send/send.utils"),c=e("../../helpers/utils/conversions.util"),l=e("../../helpers/constants/routes"),u=e("../../helpers/constants/error-keys"),d=W(e("../../components/app/user-preferenced-currency-display")),p=W(e("../../components/app/transaction-decoding/components/ui/copy-raw-data")),f=e("../../helpers/constants/common"),m=W(e("../../components/ui/text-field")),h=W(e("../../components/ui/actionable-message")),g=W(e("../../components/ui/disclosure")),E=e("../../../shared/constants/metametrics"),_=e("../../../shared/constants/transaction"),y=e("../../helpers/utils/metrics"),v=e("../../helpers/utils/transactions.util"),b=e("../../../shared/modules/buffer-utils"),T=e("../../contexts/transaction-modal"),k=W(e("../../components/app/transaction-detail/transaction-detail.component")),N=W(e("../../components/app/transaction-detail-item/transaction-detail-item.component")),w=W(e("../../components/ui/info-tooltip/info-tooltip")),O=W(e("../../components/ui/loading-heartbeat")),P=W(e("../../components/app/gas-details-item")),A=W(e("../../components/app/gas-timing/gas-timing.component")),S=W(e("../../components/app/ledger-instruction-field")),C=W(e("../../components/app/multilayer-fee-message")),R=W(e("../../components/ui/typography/typography")),x=e("../../helpers/constants/design-system"),I=e("../../store/actions"),M=e("../send/send.constants"),D=e("../../../shared/lib/metamask-controller-utils"),j=e("../../../shared/lib/transactions-controller-utils"),L=e("../../../shared/constants/network"),F=W(e("./transaction-alerts"));function W(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G=()=>a.default.createElement(O.default,null);class B extends a.Component{constructor(...e){super(...e),$(this,"state",{submitting:!1,submitError:null,submitWarning:"",ethGasPriceWarning:"",editingGas:!1,userAcknowledgedGasMissing:!1,showWarningModal:!1}),$(this,"_beforeUnloadForGasPolling",(()=>{this._isMounted=!1,this.state.pollingToken&&((0,I.disconnectGasFeeEstimatePoller)(this.state.pollingToken),(0,I.removePollingTokenFromAppState)(this.state.pollingToken))})),$(this,"_removeBeforeUnload",(()=>{window.removeEventListener("beforeunload",this._beforeUnloadForGasPolling)})),$(this,"supportsEIP1559V2",this.props.eip1559V2Enabled&&this.props.supportsEIP1559&&!(0,v.isLegacyTransaction)(this.props.txData))}componentDidUpdate(e){const{transactionStatus:t,showTransactionConfirmedModal:n,history:a,clearConfirmTransaction:r,nextNonce:o,customNonceValue:s,toAddress:i,tryReverseResolveAddress:c,isEthGasPrice:d,setDefaultHomeActiveTabName:p}=this.props,{customNonceValue:f,nextNonce:m,toAddress:h,transactionStatus:g,isEthGasPrice:E}=e,y=t!==g,v=t===_.TRANSACTION_STATUSES.DROPPED||t===_.TRANSACTION_STATUSES.CONFIRMED;o===m&&s===f||(null!==o&&s>o?this.setState({submitWarning:this.context.t("nextNonceWarning",[o])}):this.setState({submitWarning:""})),y&&v&&n({onSubmit:()=>{r(),p("Activity").then((()=>{a.push(l.DEFAULT_ROUTE)}))}}),i&&i!==h&&c(i),d!==E&&(d?this.setState({ethGasPriceWarning:this.context.t(u.ETH_GAS_PRICE_FETCH_WARNING_KEY)}):this.setState({ethGasPriceWarning:""}))}getErrorKey(){const{balance:e,conversionRate:t,hexMaximumTransactionFee:n,txData:{txParams:{value:a}={}}={},customGas:r,noGasPrice:o,gasFeeIsCustom:s}=this.props;return e&&!(0,i.isBalanceSufficient)({amount:a,gasTotal:n||"0x0",balance:e,conversionRate:t})?{valid:!1,errorKey:u.INSUFFICIENT_FUNDS_ERROR_KEY}:(0,D.hexToDecimal)(r.gasLimit)<Number(M.MIN_GAS_LIMIT_DEC)?{valid:!1,errorKey:u.GAS_LIMIT_TOO_LOW_ERROR_KEY}:o&&!s?{valid:!1,errorKey:u.GAS_PRICE_FETCH_FAILURE_ERROR_KEY}:{valid:!0}}handleEditGas(){const{actionKey:e,txData:{origin:t},methodData:n={}}=this.props;this.context.trackEvent({category:E.EVENT.CATEGORIES.TRANSACTIONS,event:'User clicks "Edit" on gas',properties:{action:"Confirm Screen",legacy_event:!0,recipientKnown:null,functionType:e||(0,y.getMethodName)(n.name)||_.TRANSACTION_TYPES.CONTRACT_INTERACTION,origin:t}}),this.setState({editingGas:!0})}handleCloseEditGas(){this.setState({editingGas:!1})}setUserAcknowledgedGasMissing(){this.setState({userAcknowledgedGasMissing:!0})}renderDetails(){var e,t;const{primaryTotalTextOverride:n,secondaryTotalTextOverride:r,hexMinimumTransactionFee:o,hexMaximumTransactionFee:s,hexTransactionTotal:i,useNonceField:l,customNonceValue:u,updateCustomNonce:p,nextNonce:g,getNextNonce:E,txData:_,useNativeCurrencyAsPrimaryCurrency:y,primaryTotalTextOverrideMaxAmount:v,maxFeePerGas:b,maxPriorityFeePerGas:T,isMainnet:I,showLedgerSteps:M,supportsEIP1559:D,isMultiLayerFeeNetwork:W,nativeCurrency:U,isBuyableChain:$,useCurrencyRateCheck:B}=this.props,{t:H}=this.context,{userAcknowledgedGasMissing:q}=this.state,{valid:V}=this.getErrorKey(),Y=Boolean(_.simulationFails)&&!q,K=L.NETWORK_TO_NAME_MAP[_.chainId],z=l?a.default.createElement("div",null,a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement("div",{className:"confirm-detail-row__label"},H("nonceFieldHeading")),a.default.createElement("div",{className:"custom-nonce-input"},a.default.createElement(m.default,{type:"number",min:0,placeholder:"number"==typeof g?g.toString():null,onChange:({target:{value:e}})=>{!e.length||Number(e)<0?p(""):p(String(Math.floor(e))),E()},fullWidth:!0,margin:"dense",value:u||""})))):null;return a.default.createElement("div",{className:"confirm-page-container-content__details"},a.default.createElement(F.default,{setUserAcknowledgedGasMissing:()=>this.setUserAcknowledgedGasMissing(),userAcknowledgedGasMissing:q,nativeCurrency:U,networkName:K,type:_.type,isBuyableChain:$}),a.default.createElement(k.default,{disabled:!q&&!V,userAcknowledgedGasMissing:q,onEdit:Y||W?null:()=>this.handleEditGas(),rows:[Y&&!this.supportsEIP1559V2&&(()=>a.default.createElement("div",{className:"confirm-page-container-content__error-container"},a.default.createElement(h.default,{message:H("simulationErrorMessageV2"),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger",primaryActionV2:!0===q?undefined:{label:H("proceedWithTransaction"),onClick:()=>this.setUserAcknowledgedGasMissing()}})))(),!Y&&!W&&(()=>this.supportsEIP1559V2?a.default.createElement(P.default,{key:"gas_details",userAcknowledgedGasMissing:q}):a.default.createElement(N.default,{key:"gas-item",detailTitle:_.dappSuggestedGasFees?a.default.createElement(a.default.Fragment,null,H("transactionDetailGasHeading"),a.default.createElement(w.default,{contentText:H("transactionDetailDappGasTooltip"),position:"top"},a.default.createElement("i",{className:"fa fa-info-circle"}))):a.default.createElement(a.default.Fragment,null,H("transactionDetailGasHeading"),a.default.createElement(w.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,H("transactionDetailGasTooltipIntro",[I?H("networkNameEthereum"):""])),a.default.createElement("p",null,H("transactionDetailGasTooltipExplanation")),a.default.createElement("p",null,a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},H("transactionDetailGasTooltipConversion")))),position:"top"},a.default.createElement("i",{className:"fa fa-info-circle"}))),detailText:B&&a.default.createElement("div",{className:"confirm-page-container-content__currency-container test"},G(),a.default.createElement(d.default,{type:f.SECONDARY,value:o,hideLabel:Boolean(y)})),detailTotal:a.default.createElement("div",{className:"confirm-page-container-content__currency-container"},G(),a.default.createElement(d.default,{type:f.PRIMARY,value:o,hideLabel:!y,numberOfDecimals:6})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement("strong",{key:"editGasSubTextFeeLabel"},H("editGasSubTextFeeLabel")),a.default.createElement("div",{key:"editGasSubTextFeeValue",className:"confirm-page-container-content__currency-container"},G(),a.default.createElement(d.default,{key:"editGasSubTextFeeAmount",type:f.PRIMARY,value:s,hideLabel:!y}))),subTitle:a.default.createElement(a.default.Fragment,null,_.dappSuggestedGasFees?a.default.createElement(R.default,{variant:x.TYPOGRAPHY.H7,fontStyle:x.FONT_STYLE.ITALIC,color:x.COLORS.TEXT_ALTERNATIVE},H("transactionDetailDappGasMoreInfo")):"",D&&a.default.createElement(A.default,{maxPriorityFeePerGas:(0,j.hexWEIToDecGWEI)(T||_.txParams.maxPriorityFeePerGas).toString(),maxFeePerGas:(0,j.hexWEIToDecGWEI)(b||_.txParams.maxFeePerGas).toString()}))}))(),!Y&&W&&a.default.createElement(C.default,{transaction:_,layer2fee:o,nativeCurrency:U}),!W&&a.default.createElement(N.default,{key:"total-item",detailTitle:H("total"),detailText:B&&(()=>{var e;return n===undefined&&r===undefined?a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(O.default,{estimateUsed:null===(e=this.props.txData)||void 0===e?void 0:e.userFeeLevel}),a.default.createElement(d.default,{type:f.SECONDARY,key:"total-detail-text",value:i,hideLabel:Boolean(y)})):y?r:n})(),detailTotal:(()=>{var e;return n===undefined&&r===undefined?a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(O.default,{estimateUsed:null===(e=this.props.txData)||void 0===e?void 0:e.userFeeLevel}),a.default.createElement(d.default,{type:f.PRIMARY,key:"total-detail-value",value:i,hideLabel:!y})):y?n:r})(),subTitle:H("transactionDetailGasTotalSubtitle"),subText:a.default.createElement("div",{className:"confirm-page-container-content__total-amount"},a.default.createElement(O.default,{estimateUsed:null===(e=this.props.txData)||void 0===e?void 0:e.userFeeLevel}),a.default.createElement("strong",{key:"editGasSubTextAmountLabel"},H("editGasSubTextAmountLabel"))," ",v===undefined&&r===undefined?a.default.createElement(d.default,{type:f.PRIMARY,key:"total-max-amount",value:(0,c.addHexes)(_.txParams.value,s),hideLabel:!y}):y?v:r)})]}),z,M?a.default.createElement(S.default,{showDataInstruction:Boolean(null===(t=_.txParams)||void 0===t?void 0:t.data)}):null)}renderData(e){const{t:t}=this.context,{txData:{txParams:n}={},methodData:{params:r}={},hideData:o,dataComponent:i}=this.props;if(o)return null;const c=null!=r&&r.length?`(${r.map((({type:e})=>e)).join(", ")})`:"";return i||a.default.createElement("div",{className:"confirm-page-container-content__data"},a.default.createElement("div",{className:"confirm-page-container-content__data-box-label"},`${t("functionType")}:`,a.default.createElement("span",{className:"confirm-page-container-content__function-type"},`${e} ${c}`)),a.default.createElement(g.default,null,a.default.createElement(s.default,{to:null==n?void 0:n.to,inputData:null==n?void 0:n.data})))}renderDataHex(e){const{t:t}=this.context,{txData:{txParams:n}={},methodData:{params:r}={},hideData:o,dataHexComponent:s}=this.props;if(o||!n.to)return null;const i=null!=r&&r.length?`(${r.map((({type:e})=>e)).join(", ")})`:"";return s||a.default.createElement("div",{className:"confirm-page-container-content__data"},a.default.createElement("div",{className:"confirm-page-container-content__data-box-label"},`${t("functionType")}:`,a.default.createElement("span",{className:"confirm-page-container-content__function-type"},`${e} ${i}`)),r&&a.default.createElement("div",{className:"confirm-page-container-content__data-box"},a.default.createElement("div",{className:"confirm-page-container-content__data-field-label"},`${t("parameters")}:`),a.default.createElement("div",null,a.default.createElement("pre",null,JSON.stringify(r,null,2)))),a.default.createElement("div",{className:"confirm-page-container-content__data-box-label"},`${t("hexData")}: ${(0,b.toBuffer)(null==n?void 0:n.data).length} bytes`),a.default.createElement("div",{className:"confirm-page-container-content__data-box"},null==n?void 0:n.data),a.default.createElement(p.default,{data:null==n?void 0:n.data}))}handleEdit(){const{txData:e,tokenData:t,tokenProps:n,onEdit:a,actionKey:r,txData:{origin:o},methodData:s={}}=this.props;this.context.trackEvent({category:E.EVENT.CATEGORIES.TRANSACTIONS,event:"Edit Transaction",properties:{action:"Confirm Screen",legacy_event:!0,recipientKnown:null,functionType:r||(0,y.getMethodName)(s.name)||_.TRANSACTION_TYPES.CONTRACT_INTERACTION,origin:o}}),a({txData:e,tokenData:t,tokenProps:n})}handleCancelAll(){const{cancelAllTransactions:e,clearConfirmTransaction:t,history:n,mostRecentOverviewPage:a,showRejectTransactionsConfirmationModal:r,unapprovedTxCount:o}=this.props;r({unapprovedTxCount:o,onSubmit:async()=>{this._removeBeforeUnload(),await e(),t(),n.push(a)}})}handleCancel(){const{txData:e,cancelTransaction:t,history:n,mostRecentOverviewPage:a,clearConfirmTransaction:r,updateCustomNonce:o}=this.props;this._removeBeforeUnload(),o(""),t(e).then((()=>{r(),n.push(a)}))}handleSubmit(){const{sendTransaction:e,clearConfirmTransaction:t,txData:n,history:a,mostRecentOverviewPage:r,updateCustomNonce:o,maxFeePerGas:s,customTokenAmount:i,dappProposedTokenAmount:c,currentTokenBalance:l,maxPriorityFeePerGas:u,baseFeePerGas:d,methodData:p}=this.props,{submitting:f}=this.state,{name:m}=p;f||(d&&(n.estimatedBaseFee=d),m&&(n.contractMethodName=m),c&&(n.dappProposedTokenAmount=c,n.originalApprovalAmount=c),i?(n.customTokenAmount=i,n.finalApprovalAmount=i):c!==undefined&&(n.finalApprovalAmount=c),l&&(n.currentTokenBalance=l),s&&(n.txParams={...n.txParams,maxFeePerGas:s}),u&&(n.txParams={...n.txParams,maxPriorityFeePerGas:u}),this.setState({submitting:!0,submitError:null},(()=>{this._removeBeforeUnload(),e(n).then((()=>{t(),this.setState({submitting:!1},(()=>{a.push(r),o("")}))})).catch((e=>{this.setState({submitting:!1,submitError:e.message}),o("")}))})))}handleSetApprovalForAll(){this.setState({showWarningModal:!0})}renderTitleComponent(){const{title:e,hexTransactionAmount:t,txData:n}=this.props;if(e)return null;const r=n.type===_.TRANSACTION_TYPES.CONTRACT_INTERACTION;return a.default.createElement(d.default,{value:t,type:f.PRIMARY,showEthLogo:!0,ethLogoHeight:24,hideLabel:!r,showCurrencySuffix:r})}renderSubtitleComponent(){const{subtitleComponent:e,hexTransactionAmount:t}=this.props;return e||a.default.createElement(d.default,{value:t,type:f.SECONDARY,showEthLogo:!0,hideLabel:!0})}componentDidMount(){this._isMounted=!0;const{toAddress:e,txData:{origin:t}={},getNextNonce:n,tryReverseResolveAddress:a}=this.props,{trackEvent:r}=this.context;r({category:E.EVENT.CATEGORIES.TRANSACTIONS,event:"Confirm: Started",properties:{action:"Confirm Screen",legacy_event:!0,origin:t}}),n(),e&&a(e),(0,I.getGasFeeEstimatesAndStartPolling)().then((e=>{this._isMounted?((0,I.addPollingTokenToAppState)(e),this.setState({pollingToken:e})):((0,I.disconnectGasFeeEstimatePoller)(e),(0,I.removePollingTokenFromAppState)(this.state.pollingToken))})),window.addEventListener("beforeunload",this._beforeUnloadForGasPolling)}componentWillUnmount(){this._beforeUnloadForGasPolling(),this._removeBeforeUnload()}render(){const{t:e}=this.context,{fromName:t,fromAddress:n,toName:r,toAddress:s,toEns:i,toNickname:c,methodData:l,title:u,hideSubtitle:d,tokenAddress:p,contentComponent:f,onEdit:m,nonce:h,customNonceValue:g,unapprovedTxCount:E,type:b,hideSenderToRecipient:k,showAccountInHeader:N,txData:w,gasIsLoading:O,gasFeeIsCustom:P,nativeCurrency:A,hardwareWalletRequiresConnection:S,image:C,isApprovalOrRejection:R,assetStandard:x}=this.props,{submitting:I,submitError:M,submitWarning:D,ethGasPriceWarning:j,editingGas:L,userAcknowledgedGasMissing:F,showWarningModal:W}=this.state,{name:U}=l,{valid:$,errorKey:G}=this.getErrorKey(),B=Boolean(w.simulationFails),H=B&&!F,q=w.type===_.TRANSACTION_TYPES.TOKEN_METHOD_SET_APPROVAL_FOR_ALL||w.type===_.TRANSACTION_TYPES.TOKEN_METHOD_APPROVE,V=w.type===_.TRANSACTION_TYPES.CONTRACT_INTERACTION,Y=(q||V)&&"metamask"!==w.origin;let K;return Y&&(K=(0,y.getMethodName)(U)),K||(K=b?(0,v.getTransactionTypeTitle)(e,b,A):e("contractInteraction")),a.default.createElement(T.TransactionModalContextProvider,null,a.default.createElement(o.default,{fromName:t,fromAddress:n,showAccountInHeader:N,toName:r,toAddress:s,toEns:i,toNickname:c,showEdit:!Y&&Boolean(m),action:K,title:u,image:C,titleComponent:this.renderTitleComponent(),subtitleComponent:this.renderSubtitleComponent(),hideSubtitle:d,detailsComponent:this.renderDetails(),dataComponent:this.renderData(K),dataHexComponent:this.renderDataHex(K),contentComponent:f,nonce:g||h,unapprovedTxCount:E,tokenAddress:p,errorMessage:M,errorKey:G,hasSimulationError:B,warning:D,disabled:H||!$||I||S||O&&!P,onEdit:()=>this.handleEdit(),onCancelAll:()=>this.handleCancelAll(),onCancel:()=>this.handleCancel(),onSubmit:()=>this.handleSubmit(),onSetApprovalForAll:()=>this.handleSetApprovalForAll(),showWarningModal:W,hideSenderToRecipient:k,origin:w.origin,ethGasPriceWarning:j,editingGas:L,handleCloseEditGas:()=>this.handleCloseEditGas(),currentTransaction:w,supportsEIP1559V2:this.supportsEIP1559V2,nativeCurrency:A,isApprovalOrRejection:R,assetStandard:x,txData:w}))}}n.default=B,$(B,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),$(B,"propTypes",{history:r.default.object,balance:r.default.string,cancelTransaction:r.default.func,cancelAllTransactions:r.default.func,clearConfirmTransaction:r.default.func,conversionRate:r.default.number,fromAddress:r.default.string,fromName:r.default.string,hexTransactionAmount:r.default.string,hexMinimumTransactionFee:r.default.string,hexMaximumTransactionFee:r.default.string,hexTransactionTotal:r.default.string,methodData:r.default.object,nonce:r.default.string,useNonceField:r.default.bool,customNonceValue:r.default.string,updateCustomNonce:r.default.func,sendTransaction:r.default.func,showTransactionConfirmedModal:r.default.func,showRejectTransactionsConfirmationModal:r.default.func,toAddress:r.default.string,tokenData:r.default.object,tokenProps:r.default.object,toName:r.default.string,toEns:r.default.string,toNickname:r.default.string,transactionStatus:r.default.string,txData:r.default.object,unapprovedTxCount:r.default.number,customGas:r.default.object,actionKey:r.default.string,contentComponent:r.default.node,dataComponent:r.default.node,dataHexComponent:r.default.node,hideData:r.default.bool,hideSubtitle:r.default.bool,tokenAddress:r.default.string,customTokenAmount:r.default.string,dappProposedTokenAmount:r.default.string,currentTokenBalance:r.default.string,onEdit:r.default.func,subtitleComponent:r.default.node,title:r.default.string,image:r.default.string,type:r.default.string,getNextNonce:r.default.func,nextNonce:r.default.number,tryReverseResolveAddress:r.default.func.isRequired,hideSenderToRecipient:r.default.bool,showAccountInHeader:r.default.bool,mostRecentOverviewPage:r.default.string.isRequired,isEthGasPrice:r.default.bool,noGasPrice:r.default.bool,setDefaultHomeActiveTabName:r.default.func,primaryTotalTextOverride:r.default.string,secondaryTotalTextOverride:r.default.string,gasIsLoading:r.default.bool,primaryTotalTextOverrideMaxAmount:r.default.string,useNativeCurrencyAsPrimaryCurrency:r.default.bool,maxFeePerGas:r.default.string,maxPriorityFeePerGas:r.default.string,baseFeePerGas:r.default.string,isMainnet:r.default.bool,gasFeeIsCustom:r.default.bool,showLedgerSteps:r.default.bool.isRequired,nativeCurrency:r.default.string,supportsEIP1559:r.default.bool,hardwareWalletRequiresConnection:r.default.bool,isMultiLayerFeeNetwork:r.default.bool,eip1559V2Enabled:r.default.bool,isBuyableChain:r.default.bool,isApprovalOrRejection:r.default.bool,assetStandard:r.default.string,useCurrencyRateCheck:r.default.bool})}}},{package:"$root$"}],[6147,{"../../../shared/constants/gas":5398,"../../../shared/constants/transaction":5410,"../../../shared/lib/transactions-controller-utils":5417,"../../../shared/modules/hexstring-utils":5425,"../../../shared/modules/string-utils":5432,"../../../shared/modules/transaction.utils":5434,"../../ducks/app/app":6017,"../../ducks/confirm-transaction/confirm-transaction.duck":6018,"../../ducks/history/history":6022,"../../ducks/metamask/metamask":6025,"../../helpers/utils/token-util":6068,"../../helpers/utils/transactions.util":6069,"../../helpers/utils/util":6071,"../../selectors":6437,"../../store/actions":6444,"../send/send.utils":6314,"./confirm-transaction-base.component":6146,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapDispatchToProps=n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../ducks/confirm-transaction/confirm-transaction.duck"),c=e("../../store/actions"),l=e("../send/send.utils"),u=e("../../helpers/utils/util"),d=e("../../selectors"),p=e("../../ducks/history/history"),f=e("../../ducks/metamask/metamask"),m=e("../../../shared/modules/transaction.utils"),h=e("../../../shared/modules/hexstring-utils"),g=e("../../ducks/app/app"),E=e("../../helpers/utils/transactions.util"),_=e("../../../shared/constants/gas"),y=e("../../../shared/constants/transaction"),v=e("../../../shared/modules/string-utils"),b=e("../../helpers/utils/token-util"),T=e("../../../shared/lib/transactions-controller-utils"),k=(a=e("./confirm-transaction-base.component"))&&a.__esModule?a:{default:a};let N="";const w=e=>({tryReverseResolveAddress:t=>e((0,c.tryReverseResolveAddress)(t)),updateCustomNonce:t=>{N=t,e((0,c.updateCustomNonce)(t))},clearConfirmTransaction:()=>e((0,i.clearConfirmTransaction)()),showTransactionConfirmedModal:({onSubmit:t})=>e((0,c.showModal)({name:"TRANSACTION_CONFIRMED",onSubmit:t})),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,c.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n})),cancelTransaction:({id:t})=>e((0,c.cancelTx)({id:t})),cancelAllTransactions:t=>e((0,c.cancelTxs)(t)),sendTransaction:t=>e((0,c.updateAndApproveTx)((e=>N?{...e,customNonceValue:N}:e)(t))),getNextNonce:()=>e((0,c.getNextNonce)()),setDefaultHomeActiveTabName:t=>e((0,c.setDefaultHomeActiveTabName)(t)),updateTransactionGasFees:t=>{e((0,f.updateGasFees)({...t,expectHexWei:!0}))}});n.mapDispatchToProps=w;var O=(0,o.compose)(s.withRouter,(0,r.connect)(((e,t)=>{var n,a,r,o,s;const{toAddress:i,customTxParamsData:c,match:{params:k={}}}=t,{id:w}=k,O=(0,d.getIsMainnet)(e),P=(0,f.getIsGasEstimatesLoading)(e),A=(0,g.getGasLoadingAnimationIsShowing)(e),S=(0,d.getIsBuyableChain)(e),{confirmTransaction:C,metamask:R}=e,{conversionRate:x,identities:I,addressBook:M,network:D,unapprovedTxs:j,nextNonce:L,allNftContracts:F,selectedAddress:W,provider:{chainId:U}}=R,{tokenData:$,txData:G,tokenProps:B,nonce:H}=C,{txParams:q={},id:V,type:Y}=G,K=V||Number(w),z=(0,d.getUnapprovedTransaction)(e,K),{from:Z,to:X,gasPrice:Q,gas:J,value:ee,data:te}=z&&z.txParams||q,ne=(0,d.getMetaMaskAccounts)(e),ae=(0,m.parseStandardTokenTransactionData)(te),re=(0,b.getTokenAddressParam)(ae),{balance:oe}=ne[Z],{name:se}=I[Z];let ie=X;Y!==y.TRANSACTION_TYPES.SIMPLE_SEND&&(ie=i||re||X);const ce=(0,d.getTokenList)(e),le=(null===(n=I[ie])||void 0===n?void 0:n.name)||(null===(a=ce[null===(r=ie)||void 0===r?void 0:r.toLowerCase()])||void 0===a?void 0:a.name)||(0,u.shortenAddress)((0,h.toChecksumHexAddress)(ie)),ue=(0,h.toChecksumHexAddress)(ie),de=M&&M[U]&&M[U][ue],pe=(0,d.getEnsResolutionByAddress)(e,ue),fe=de?de.name:"",me=z?z.status:"",he=(0,d.checkNetworkAndAccountSupports1559)(e)&&!(0,E.isLegacyTransaction)(q),{hexTransactionAmount:ge,hexMinimumTransactionFee:Ee,hexMaximumTransactionFee:_e,hexTransactionTotal:ye,gasEstimationObject:ve}=(0,d.transactionFeeSelector)(e,z),be=Object.keys(j).filter((e=>(0,m.transactionMatchesNetwork)(j[e],U,D))).reduce(((e,t)=>({...e,[t]:j[t]})),{}),Te=(0,u.valuesFor)(be).length,ke=!(0,l.isBalanceSufficient)({amount:ee,gasTotal:(0,T.calcGasTotal)(J,Q),balance:oe,conversionRate:x}),Ne=(0,d.getKnownMethodData)(e,te)||{},we=(0,d.getFullTxData)(e,K,y.TRANSACTION_STATUSES.UNAPPROVED,c),Oe=Boolean(null==F||null===(o=F[W])||void 0===o||null===(s=o[U])||void 0===s?void 0:s.find((e=>(0,v.isEqualCaseInsensitive)(e.address,we.txParams.to))));N=(0,d.getCustomNonceValue)(e);const Pe=(0,d.getIsEthGasPriceFetched)(e),Ae=!he&&(0,d.getNoGasPriceFetched)(e),{useNativeCurrencyAsPrimaryCurrency:Se}=(0,d.getPreferences)(e),Ce=we.userFeeLevel===_.CUSTOM_GAS_ESTIMATE||(0,m.txParamsAreDappSuggested)(we),Re=(0,f.isAddressLedger)(e,Z),xe=(0,f.getNativeCurrency)(e),Ie=(0,d.doesAddressRequireLedgerHidConnection)(e,Z),Me=(0,d.getIsMultiLayerFeeNetwork)(e),De=(0,d.getEIP1559V2Enabled)(e);return{balance:oe,fromAddress:Z,fromName:se,toAddress:ie,toEns:pe,toName:le,toNickname:fe,hexTransactionAmount:ge,hexMinimumTransactionFee:Ee,hexMaximumTransactionFee:_e,hexTransactionTotal:ye,txData:we,tokenData:$,methodData:Ne,tokenProps:B,conversionRate:x,transactionStatus:me,nonce:H,unapprovedTxs:j,unapprovedTxCount:Te,customGas:{gasLimit:J,gasPrice:Q},advancedInlineGasShown:(0,d.getAdvancedInlineGasShown)(e),useNonceField:(0,d.getUseNonceField)(e),customNonceValue:N,insufficientBalance:ke,hideSubtitle:!(0,d.getShouldShowFiat)(e)&&!Oe,hideFiatConversion:!(0,d.getShouldShowFiat)(e),type:Y,nextNonce:L,mostRecentOverviewPage:(0,p.getMostRecentOverviewPage)(e),isMainnet:O,isEthGasPrice:Pe,noGasPrice:Ae,supportsEIP1559:he,gasIsLoading:P||A,useNativeCurrencyAsPrimaryCurrency:Se,maxFeePerGas:ve.maxFeePerGas,maxPriorityFeePerGas:ve.maxPriorityFeePerGas,baseFeePerGas:ve.baseFeePerGas,gasFeeIsCustom:Ce,showLedgerSteps:Re,nativeCurrency:xe,hardwareWalletRequiresConnection:Ie,isMultiLayerFeeNetwork:Me,chainId:U,eip1559V2Enabled:De,isBuyableChain:S,useCurrencyRateCheck:(0,d.getUseCurrencyRateCheck)(e)}}),w,((e,t,n)=>{const{txData:a,unapprovedTxs:r}=e,{cancelAllTransactions:o,updateTransactionGasFees:s,...i}=t;return{...e,...i,...n,cancelAllTransactions:()=>o((0,u.valuesFor)(r)),updateGasAndCalculate:({gasLimit:e,gasPrice:t})=>{s({gasLimit:e,gasPrice:t,transaction:a})}}})))(k.default);n.default=O}}},{package:"$root$"}],[6148,{"./confirm-transaction-base.container":6147},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-transaction-base.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6149,{"./transaction-alerts":6150},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-alerts"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[615,{"./ExpansionPanel":613,"@babel/runtime/helpers/interopRequireDefault":184},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./ExpansionPanel"))}}},{package:"@material-ui/core"}],[6150,{"../../../../shared/constants/gas":5398,"../../../components/ui/actionable-message/actionable-message":5835,"../../../components/ui/typography":6002,"../../../contexts/gasFee":6009,"../../../helpers/constants/design-system":6033,"../../../helpers/constants/zendesk-url":6040,"../../../hooks/useI18nContext":6091,"../../../selectors/transactions":6441,"prop-types":4875,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=m(e("prop-types")),o=e("react-redux"),s=e("../../../../shared/constants/gas"),i=e("../../../selectors/transactions"),c=e("../../../contexts/gasFee"),l=e("../../../hooks/useI18nContext"),u=m(e("../../../components/ui/actionable-message/actionable-message")),d=m(e("../../../components/ui/typography")),p=e("../../../helpers/constants/design-system"),f=m(e("../../../helpers/constants/zendesk-url"));function m(e){return e&&e.__esModule?e:{default:e}}const h=({userAcknowledgedGasMissing:e,setUserAcknowledgedGasMissing:t})=>{const{estimateUsed:n,hasSimulationError:r,supportsEIP1559V2:m,isNetworkBusy:h}=(0,c.useGasFeeContext)(),g=(0,o.useSelector)(i.submittedPendingTransactionsSelector),E=(0,l.useI18nContext)();return m?a.default.createElement("div",{className:"transaction-alerts"},r&&a.default.createElement(u.default,{message:E("simulationErrorMessageV2"),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger",primaryActionV2:!0===e?undefined:{label:E("proceedWithTransaction"),onClick:t}}),(null==g?void 0:g.length)>0&&a.default.createElement(u.default,{message:a.default.createElement(d.default,{align:"left",className:"transaction-alerts__pending-transactions",margin:0,tag:p.TYPOGRAPHY.Paragraph,variant:p.TYPOGRAPHY.H7},a.default.createElement("strong",null,1===(null==g?void 0:g.length)?E("pendingTransactionSingle",[null==g?void 0:g.length]):E("pendingTransactionMultiple",[null==g?void 0:g.length]))," ",E("pendingTransactionInfo"),E("learnCancelSpeeedup",[a.default.createElement("a",{key:"cancelSpeedUpInfo",href:f.default.SPEEDUP_CANCEL,rel:"noopener noreferrer",target:"_blank"},E("cancelSpeedUp"))])),useIcon:!0,iconFillColor:"var(--color-warning-default)",type:"warning"}),n===s.PRIORITY_LEVELS.LOW&&a.default.createElement(u.default,{dataTestId:"low-gas-fee-alert",message:a.default.createElement(d.default,{align:"left",margin:0,tag:p.TYPOGRAPHY.Paragraph,variant:p.TYPOGRAPHY.H7},E("lowPriorityMessage")),useIcon:!0,iconFillColor:"var(--color-warning-default)",type:"warning"}),h?a.default.createElement(u.default,{message:a.default.createElement(d.default,{align:"left",margin:0,tag:p.TYPOGRAPHY.Paragraph,variant:p.TYPOGRAPHY.H7},E("networkIsBusy")),iconFillColor:"var(--color-warning-default)",type:"warning",useIcon:!0}):null):null};h.propTypes={userAcknowledgedGasMissing:r.default.bool,setUserAcknowledgedGasMissing:r.default.func};var g=h;n.default=g}}},{package:"$root$"}],[6151,{"../../../shared/constants/app":5397,"../../../shared/constants/transaction":5410,"../../components/ui/loading-screen":5928,"../../helpers/constants/routes":6037,"prop-types":4875,react:5049,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=f(e("prop-types")),c=e("react-router-dom"),l=f(e("../../components/ui/loading-screen")),u=e("../../helpers/constants/routes"),d=e("../../../shared/constants/app"),p=e("../../../shared/constants/transaction");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}class h extends s.Component{redirectToTransaction(){const{txData:e}=this.props,{id:t,txParams:{data:n}={},type:a}=e;if(a===p.TRANSACTION_TYPES.DEPLOY_CONTRACT){const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_DEPLOY_CONTRACT_PATH}`;return s.default.createElement(c.Redirect,{to:{pathname:e}})}if(a===p.TRANSACTION_TYPES.SIMPLE_SEND){const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SEND_ETHER_PATH}`;return s.default.createElement(c.Redirect,{to:{pathname:e}})}if(n)switch(a){case p.TRANSACTION_TYPES.TOKEN_METHOD_TRANSFER:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SEND_TOKEN_PATH}`;return s.default.createElement(c.Redirect,{to:{pathname:e}})}case p.TRANSACTION_TYPES.TOKEN_METHOD_APPROVE:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_APPROVE_PATH}`;return s.default.createElement(c.Redirect,{to:{pathname:e}})}case p.TRANSACTION_TYPES.TOKEN_METHOD_SET_APPROVAL_FOR_ALL:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SET_APPROVAL_FOR_ALL_PATH}`;return s.default.createElement(c.Redirect,{to:{pathname:e}})}case p.TRANSACTION_TYPES.TOKEN_METHOD_TRANSFER_FROM:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_TRANSFER_FROM_PATH}`;return s.default.createElement(c.Redirect,{to:{pathname:e}})}case p.TRANSACTION_TYPES.TOKEN_METHOD_SAFE_TRANSFER_FROM:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SAFE_TRANSFER_FROM_PATH}`;return s.default.createElement(c.Redirect,{to:{pathname:e}})}default:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_TOKEN_METHOD_PATH}`;return s.default.createElement(c.Redirect,{to:{pathname:e}})}}const r=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SEND_ETHER_PATH}`;return s.default.createElement(c.Redirect,{to:{pathname:r}})}render(){const{txData:e}=this.props;if(e.txParams)return this.redirectToTransaction();if(e.msgParams){let t=`${u.CONFIRM_TRANSACTION_ROUTE}/${e.id}${u.SIGNATURE_REQUEST_PATH}`;return e.type===d.MESSAGE_TYPE.ETH_DECRYPT?t=`${u.CONFIRM_TRANSACTION_ROUTE}/${e.id}${u.DECRYPT_MESSAGE_REQUEST_PATH}`:e.type===d.MESSAGE_TYPE.ETH_GET_ENCRYPTION_PUBLIC_KEY&&(t=`${u.CONFIRM_TRANSACTION_ROUTE}/${e.id}${u.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`),s.default.createElement(c.Redirect,{to:{pathname:t}})}return s.default.createElement(l.default,null)}}n.default=h,a=h,r="propTypes",o={txData:i.default.object},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[6152,{"../../selectors":6437,"./confirm-transaction-switch.component":6151,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../selectors"),s=(a=e("./confirm-transaction-switch.component"))&&a.__esModule?a:{default:a};var i=(0,r.connect)(((e,t)=>{const{metamask:{unapprovedTxs:n}}=e,{match:{params:a={},url:r}}=t,s=(null==r?void 0:r.match(/\d+/u))&&(null==r?void 0:r.match(/\d+/u)[0]),{id:i}=a,c=i||s,l=(0,o.unconfirmedTransactionsListSelector)(e);return{txData:l.length?n[c]||l[0]:{}}}))(s.default);n.default=i}}},{package:"$root$"}],[6153,{"./confirm-transaction-switch.container":6152},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./confirm-transaction-switch.container"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[6154,{"../../../shared/constants/app":5397,"../../../shared/constants/transaction":5410,"../../components/app/signature-request":5698,"../../components/app/signature-request-original":5685,"../../components/app/signature-request-siwe":5690,"../../components/ui/loading-screen":5928,"../../ducks/history/history":6022,"../../ducks/send":6027,"../../helpers/utils/tx-helper":6070,"../../store/actions":6444,loglevel:4778,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=k(e("prop-types")),i=T(e("react")),c=e("react-redux"),l=e("react-router-dom"),u=e("redux"),d=k(e("loglevel")),p=T(e("../../store/actions")),f=k(e("../../helpers/utils/tx-helper")),m=k(e("../../components/app/signature-request")),h=(k(e("../../components/app/signature-request-siwe")),k(e("../../components/app/signature-request-original"))),g=k(e("../../components/ui/loading-screen")),E=e("../../ducks/history/history"),_=e("../../../shared/constants/app"),y=e("../../../shared/constants/transaction"),v=e("../../ducks/send");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function k(e){return e&&e.__esModule?e:{default:e}}class N extends i.Component{getUnapprovedMessagesTotal(){const{unapprovedMsgCount:e=0,unapprovedPersonalMsgCount:t=0,unapprovedTypedMessagesCount:n=0}=this.props;return n+e+t}getTxData(){const{network:e,index:t,unapprovedTxs:n,unapprovedMsgs:a,unapprovedPersonalMsgs:r,unapprovedTypedMessages:o,match:{params:{id:s}={}},chainId:i}=this.props,c=(0,f.default)(n,a,r,o,e,i);return d.default.info(`rendering a combined ${c.length} unconf msgs & txs`),s?c.find((({id:e})=>`${e}`===s)):c[t]}signatureSelect(e){const{type:t,msgParams:{version:n,siwe:a}}=e;return t!==_.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA||"V3"!==n&&"V4"!==n?h.default:m.default}signMessage(e,t){d.default.info("conf-tx.js: signing message");const n=e.msgParams;return n.metamaskId=e.id,this.stopPropagation(t),this.props.dispatch(p.signMsg(n))}stopPropagation(e){null!=e&&e.stopPropagation&&e.stopPropagation()}signPersonalMessage(e,t){d.default.info("conf-tx.js: signing personal message");const n=e.msgParams;return n.metamaskId=e.id,this.stopPropagation(t),this.props.dispatch(p.signPersonalMsg(n))}signTypedMessage(e,t){d.default.info("conf-tx.js: signing typed message");const n=e.msgParams;return n.metamaskId=e.id,this.stopPropagation(t),this.props.dispatch(p.signTypedMsg(n))}cancelMessage(e,t){return d.default.info("canceling message"),this.stopPropagation(t),this.props.dispatch(p.cancelMsg(e))}cancelPersonalMessage(e,t){return d.default.info("canceling personal message"),this.stopPropagation(t),this.props.dispatch(p.cancelPersonalMsg(e))}cancelTypedMessage(e,t){return d.default.info("canceling typed message"),this.stopPropagation(t),this.props.dispatch(p.cancelTypedMsg(e))}componentDidMount(){const{unapprovedTxs:e={},history:t,mostRecentOverviewPage:n,network:a,chainId:r,sendTo:o}=this.props;0!==(0,f.default)(e,{},{},{},a,r).length||o||0!==this.getUnapprovedMessagesTotal()||t.push(n)}componentDidUpdate(e){const{unapprovedTxs:t={},network:n,chainId:a,currentNetworkTxList:r,sendTo:o,history:s,match:{params:{id:i}={}},mostRecentOverviewPage:c}=this.props;let l;if(i)l=r.find((({id:e})=>`${e}`===i));else{const{index:t,unapprovedTxs:o}=e,s=(0,f.default)(o,{},{},{},n,a)[t]||{};l=r.find((({id:e})=>e===s.id))||{}}const u=(0,f.default)(t,{},{},{},n,a);l&&l.status===y.TRANSACTION_STATUSES.DROPPED?this.props.dispatch(p.showModal({name:"TRANSACTION_CONFIRMED",onSubmit:()=>s.push(c)})):0!==u.length||o||0!==this.getUnapprovedMessagesTotal()||this.props.history.push(c)}render(){const{currentCurrency:e,blockGasLimit:t}=this.props,n=this.getTxData()||{},{msgParams:a}=n;if(d.default.debug("msgParams detected, rendering pending msg"),!a)return i.default.createElement(g.default,null);const r=this.signatureSelect(n);return i.default.createElement(r,{txData:n,key:n.id,identities:this.props.identities,currentCurrency:e,blockGasLimit:t,signMessage:this.signMessage.bind(this,n),signPersonalMessage:this.signPersonalMessage.bind(this,n),signTypedMessage:this.signTypedMessage.bind(this,n),cancelMessage:this.cancelMessage.bind(this,n),cancelPersonalMessage:this.cancelPersonalMessage.bind(this,n),cancelTypedMessage:this.cancelTypedMessage.bind(this,n)})}}a=N,r="propTypes",o={mostRecentOverviewPage:s.default.string.isRequired,unapprovedMsgCount:s.default.number,unapprovedPersonalMsgCount:s.default.number,unapprovedTypedMessagesCount:s.default.number,network:s.default.string,chainId:s.default.string,index:s.default.number,unapprovedTxs:s.default.object,unapprovedMsgs:s.default.object,unapprovedPersonalMsgs:s.default.object,unapprovedTypedMessages:s.default.object,match:s.default.shape({params:s.default.shape({id:s.default.string})}),currentNetworkTxList:s.default.array,currentCurrency:s.default.string,blockGasLimit:s.default.string,history:s.default.object,identities:s.default.object,dispatch:s.default.func.isRequired,sendTo:s.default.string},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o;var w=(0,u.compose)(l.withRouter,(0,c.connect)((function(e){const{metamask:t,appState:n}=e,{unapprovedMsgCount:a,unapprovedPersonalMsgCount:r,unapprovedTypedMessagesCount:o}=t,{txId:s}=n;return{identities:e.metamask.identities,mostRecentOverviewPage:(0,E.getMostRecentOverviewPage)(e),unapprovedTxs:e.metamask.unapprovedTxs,unapprovedMsgs:e.metamask.unapprovedMsgs,unapprovedPersonalMsgs:e.metamask.unapprovedPersonalMsgs,unapprovedTypedMessages:e.metamask.unapprovedTypedMessages,index:s,warning:e.appState.warning,network:e.metamask.network,chainId:e.metamask.provider.chainId,currentCurrency:e.metamask.currentCurrency,blockGasLimit:e.metamask.currentBlockGasLimit,unapprovedMsgCount:a,unapprovedPersonalMsgCount:r,unapprovedTypedMessagesCount:o,sendTo:(0,v.getSendTo)(e),currentNetworkTxList:e.metamask.currentNetworkTxList}})))(N);n.default=w}}},{package:"$root$"}],[6155,{"../../helpers/constants/routes":6037,"../../hooks/useAssetDetails":6083,"../../selectors":6437,"../confirm-approve":6125,"../confirm-send-token":6143,"../confirm-token-transaction-base":6145,"../confirm-transaction-switch":6153,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=m(e("react")),r=m(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("../../helpers/constants/routes"),c=e("../../selectors"),l=m(e("../confirm-approve")),u=m(e("../confirm-send-token")),d=m(e("../confirm-token-transaction-base")),p=m(e("../confirm-transaction-switch")),f=e("../../hooks/useAssetDetails");function m(e){return e&&e.__esModule?e:{default:e}}function h({transaction:e}){const{txParams:{data:t,to:n,from:r}={}}=e,{assetStandard:m,assetName:h,userBalance:g,tokenSymbol:E,decimals:_,tokenImage:y,tokenAmount:v,tokenId:b,toAddress:T}=(0,f.useAssetDetails)(n,r,t),{ethTransactionTotal:k,fiatTransactionTotal:N,hexTransactionTotal:w,hexMaximumTransactionFee:O}=(0,o.useSelector)((t=>(0,c.transactionFeeSelector)(t,e)));return a.default.createElement(s.Switch,null,a.default.createElement(s.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_APPROVE_PATH}`,render:()=>a.default.createElement(l.default,{assetStandard:m,assetName:h,userBalance:g,tokenSymbol:E,decimals:_,tokenImage:y,tokenAmount:v,tokenId:b,userAddress:r,tokenAddress:n,toAddress:T,transaction:e,ethTransactionTotal:k,fiatTransactionTotal:N,hexTransactionTotal:w})}),a.default.createElement(s.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_SET_APPROVAL_FOR_ALL_PATH}`,render:()=>a.default.createElement(l.default,{isSetApproveForAll:!0,assetStandard:m,assetName:h,userBalance:g,tokenSymbol:E,decimals:_,tokenImage:y,tokenAmount:v,tokenId:b,userAddress:r,tokenAddress:n,toAddress:T,transaction:e,ethTransactionTotal:k,fiatTransactionTotal:N,hexTransactionTotal:w})}),a.default.createElement(s.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_TRANSFER_FROM_PATH}`,render:()=>a.default.createElement(d.default,{assetStandard:m,assetName:h,userBalance:g,tokenSymbol:E,decimals:_,image:y,tokenAddress:n,toAddress:T,tokenAmount:v,tokenId:b,userAddress:r,transaction:e,ethTransactionTotal:k,fiatTransactionTotal:N,hexMaximumTransactionFee:O})}),a.default.createElement(s.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_SAFE_TRANSFER_FROM_PATH}`,render:()=>a.default.createElement(d.default,{assetStandard:m,assetName:h,userBalance:g,tokenSymbol:E,decimals:_,image:y,tokenAddress:n,toAddress:T,tokenAmount:v,tokenId:b,userAddress:r,transaction:e,ethTransactionTotal:k,fiatTransactionTotal:N,hexMaximumTransactionFee:O})}),a.default.createElement(s.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_SEND_TOKEN_PATH}`,render:()=>a.default.createElement(u.default,{assetStandard:m,assetName:h,tokenSymbol:E,image:y,tokenAddress:n,toAddress:T,tokenAmount:v,tokenId:b,transaction:e,ethTransactionTotal:k,fiatTransactionTotal:N,hexMaximumTransactionFee:O})}),a.default.createElement(s.Route,{path:"*",component:p.default}))}h.propTypes={transaction:r.default.shape({origin:r.default.string,txParams:r.default.shape({data:r.default.string,to:r.default.string,from:r.default.string})})}}}},{package:"$root$"}],[6156,{"../../components/ui/loading-screen":5928,"../../helpers/constants/routes":6037,"../../store/actions":6444,"../confirm-contract-interaction":6127,"../confirm-decrypt-message":6130,"../confirm-deploy-contract":6133,"../confirm-encryption-public-key":6136,"../confirm-send-ether":6141,"../confirm-transaction-switch":6153,"./conf-tx":6154,"./confirm-token-transaction-switch":6155,"prop-types":4875,react:5049,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=E(e("prop-types")),o=e("react-router-dom"),s=E(e("../../components/ui/loading-screen")),i=E(e("../confirm-transaction-switch")),c=E(e("../confirm-contract-interaction")),l=E(e("../confirm-send-ether")),u=E(e("../confirm-deploy-contract")),d=E(e("../confirm-decrypt-message")),p=E(e("../confirm-encryption-public-key")),f=e("../../helpers/constants/routes"),m=e("../../store/actions"),h=E(e("./confirm-token-transaction-switch")),g=E(e("./conf-tx"));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends a.Component{constructor(e){super(e),y(this,"_beforeUnload",(()=>{this._isMounted=!1,this.state.pollingToken&&((0,m.disconnectGasFeeEstimatePoller)(this.state.pollingToken),(0,m.removePollingTokenFromAppState)(this.state.pollingToken))})),this.state={}}componentDidMount(){this._isMounted=!0;const{totalUnapprovedCount:e=0,sendTo:t,history:n,mostRecentOverviewPage:a,transaction:{txParams:{data:r}={},origin:o}={},getContractMethodData:s,transactionId:i,paramsTransactionId:c}=this.props;if((0,m.getGasFeeEstimatesAndStartPolling)().then((e=>{this._isMounted?(this.setState({pollingToken:e}),(0,m.addPollingTokenToAppState)(e)):((0,m.disconnectGasFeeEstimatePoller)(e),(0,m.removePollingTokenFromAppState)(e))})),window.addEventListener("beforeunload",this._beforeUnload),!e&&!t)return void n.replace(a);"metamask"!==o&&s(r);const l=i||c;l&&this.props.setTransactionToConfirm(l)}componentWillUnmount(){this._beforeUnload(),window.removeEventListener("beforeunload",this._beforeUnload)}componentDidUpdate(e){const{setTransactionToConfirm:t,transaction:{txData:{txParams:{data:n}={},origin:a}={}},clearConfirmTransaction:r,getContractMethodData:o,paramsTransactionId:s,transactionId:i,history:c,mostRecentOverviewPage:l,totalUnapprovedCount:u,setDefaultHomeActiveTabName:d}=this.props;s&&i&&e.paramsTransactionId!==s?(r(),t(s),"metamask"!==a&&o(n)):!e.transactionId||i||u?e.transactionId&&i&&e.transactionId!==i&&c.replace(l):d("Activity").then((()=>{c.replace(f.DEFAULT_ROUTE)}))}render(){const{transactionId:e,paramsTransactionId:t,isTokenMethodAction:n,transaction:r}=this.props,m=e&&(!t||t===e);return n&&m?a.default.createElement(h.default,{transaction:r}):m?a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{exact:!0,path:`${f.CONFIRM_TRANSACTION_ROUTE}/:id?${f.CONFIRM_DEPLOY_CONTRACT_PATH}`,component:u.default}),a.default.createElement(o.Route,{exact:!0,path:`${f.CONFIRM_TRANSACTION_ROUTE}/:id?${f.CONFIRM_SEND_ETHER_PATH}`,component:l.default}),a.default.createElement(o.Route,{exact:!0,path:`${f.CONFIRM_TRANSACTION_ROUTE}/:id?${f.CONFIRM_TOKEN_METHOD_PATH}`,component:c.default}),a.default.createElement(o.Route,{exact:!0,path:`${f.CONFIRM_TRANSACTION_ROUTE}/:id?${f.SIGNATURE_REQUEST_PATH}`,component:g.default}),a.default.createElement(o.Route,{exact:!0,path:`${f.CONFIRM_TRANSACTION_ROUTE}/:id?${f.DECRYPT_MESSAGE_REQUEST_PATH}`,component:d.default}),a.default.createElement(o.Route,{exact:!0,path:`${f.CONFIRM_TRANSACTION_ROUTE}/:id?${f.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`,component:p.default}),a.default.createElement(o.Route,{path:"*",component:i.default})):a.default.createElement(s.default,null)}}n.default=v,y(v,"contextTypes",{metricsEvent:r.default.func}),y(v,"propTypes",{history:r.default.object.isRequired,totalUnapprovedCount:r.default.number.isRequired,sendTo:r.default.string,setTransactionToConfirm:r.default.func,clearConfirmTransaction:r.default.func,mostRecentOverviewPage:r.default.string.isRequired,transaction:r.default.object,getContractMethodData:r.default.func,transactionId:r.default.string,paramsTransactionId:r.default.string,isTokenMethodAction:r.default.bool,setDefaultHomeActiveTabName:r.default.func})}}},{package:"$root$"}],[6157,{"../../ducks/confirm-transaction/confirm-transaction.duck":6018,"../../ducks/history/history":6022,"../../ducks/send":6027,"../../helpers/utils/transactions.util":6069,"../../selectors":6437,"../../store/actions":6444,"./confirm-transaction.component":6156,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../ducks/confirm-transaction/confirm-transaction.duck"),c=e("../../helpers/utils/transactions.util"),l=e("../../store/actions"),u=e("../../selectors"),d=e("../../ducks/history/history"),p=e("../../ducks/send"),f=(a=e("./confirm-transaction.component"))&&a.__esModule?a:{default:a};var m=(0,o.compose)(s.withRouter,(0,r.connect)(((e,t)=>{const{metamask:{unapprovedTxs:n}}=e,{match:{params:a={}}}=t,{id:r}=a,o=(0,p.getSendTo)(e),s=(0,u.unconfirmedTransactionsListSelector)(e),i=s.length,l=i?n[r]||s[0]:{},{id:f,type:m}=l;return{totalUnapprovedCount:i,sendTo:o,unapprovedTxs:n,id:r,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),paramsTransactionId:r&&String(r),transactionId:f&&String(f),transaction:l,isTokenMethodAction:(0,c.isTokenMethodAction)(m)}}),(e=>({setTransactionToConfirm:t=>{e((0,i.setTransactionToConfirm)(t))},clearConfirmTransaction:()=>e((0,i.clearConfirmTransaction)()),getContractMethodData:t=>e((0,l.getContractMethodData)(t)),setDefaultHomeActiveTabName:t=>e((0,l.setDefaultHomeActiveTabName)(t))}))))(f.default);n.default=m}}},{package:"$root$"}],[6158,{"./confirm-transaction.container":6157},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./confirm-transaction.container"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[6159,{"../../../../components/ui/button":5843,classnames:1844,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=i(e("react")),r=i(e("prop-types")),o=i(e("classnames")),s=i(e("../../../../components/ui/button"));function i(e){return e&&e.__esModule?e:{default:e}}function c({onSubmit:e,onCancel:t,submitText:n,cancelText:r,alerts:i}){return a.default.createElement("div",{className:"confirmation-footer"},i,a.default.createElement("div",{className:"confirmation-footer__actions"},t?a.default.createElement(s.default,{type:"secondary",onClick:t},r):null,a.default.createElement(s.default,{type:"primary",onClick:e,className:(0,o.default)({centered:!t})},n)))}c.propTypes={alerts:r.default.node,onCancel:r.default.func,cancelText:r.default.string,onSubmit:r.default.func.isRequired,submitText:r.default.string.isRequired}}}},{package:"$root$"}],[616,{"../styles/withStyles":870,"@babel/runtime/helpers/extends":180,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@babel/runtime/helpers/objectWithoutProperties":192,clsx:1846,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),c=(r(e("prop-types")),r(e("clsx"))),l=r(e("../styles/withStyles")),u={root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},spacing:{"& > :not(:first-child)":{marginLeft:8}}};n.styles=u;var d=i.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.disableSpacing,l=void 0!==r&&r,u=(0,s.default)(e,["classes","className","disableSpacing"]);return i.createElement("div",(0,o.default)({className:(0,c.default)(n.root,a,!l&&n.spacing),ref:t},u))})),p=(0,l.default)(u,{name:"MuiExpansionPanelActions"})(d);n.default=p}}},{package:"@material-ui/core"}],[6160,{"./confirmation-footer":6159},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirmation-footer"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6161,{"../../../../../shared/constants/network":5403,"../../../../components/ui/box":5839,"../../../../components/ui/site-icon":5974,"../../../../components/ui/typography/typography":6003,"../../../../helpers/constants/design-system":6033,"prop-types":4875,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("react")),r=d(e("prop-types")),o=e("react-redux"),s=d(e("../../../../components/ui/box")),i=d(e("../../../../components/ui/site-icon")),c=d(e("../../../../components/ui/typography/typography")),l=e("../../../../helpers/constants/design-system"),u=e("../../../../../shared/constants/network");function d(e){return e&&e.__esModule?e:{default:e}}function p({newNetwork:e}){const t=(0,o.useSelector)((e=>({nickname:e.metamask.provider.nickname,type:e.metamask.provider.type,chainId:e.metamask.provider.chainId})));return a.default.createElement(s.default,{className:"confirmation-network-switch",display:l.DISPLAY.FLEX,height:l.BLOCK_SIZES.FULL,justifyContent:l.JUSTIFY_CONTENT.CENTER,marginTop:8},a.default.createElement(s.default,{className:"confirmation-network-switch__icon",display:l.DISPLAY.BLOCK},t.chainId in u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP?a.default.createElement(i.default,{icon:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[t.chainId],name:t.nickname,size:64}):a.default.createElement("div",{className:"confirmation-network-switch__unknown-icon"},a.default.createElement("i",{className:"fa fa-question fa-2x"})),a.default.createElement(c.default,{color:l.COLORS.TEXT_DEFAULT,variant:l.TYPOGRAPHY.H6,fontWeight:l.FONT_WEIGHT.NORMAL,align:l.TEXT_ALIGN.CENTER,boxProps:{display:l.DISPLAY.FLEX,justifyContent:l.JUSTIFY_CONTENT.CENTER}},t.nickname||u.NETWORK_TO_NAME_MAP[t.type])),a.default.createElement(s.default,{className:"confirmation-network-switch__center-icon",display:l.DISPLAY.FLEX,alignItems:l.ALIGN_ITEMS.CENTER,justifyContent:l.JUSTIFY_CONTENT.CENTER},a.default.createElement("i",{className:"fa fa-angle-right fa-lg confirmation-network-switch__check"}),a.default.createElement("div",{className:"confirmation-network-switch__dashed-line"})),a.default.createElement(s.default,{className:"confirmation-network-switch__icon",display:l.DISPLAY.BLOCK},e.chainId in u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP?a.default.createElement(i.default,{icon:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name,size:64}):a.default.createElement("div",{className:"confirmation-network-switch__unknown-icon"},a.default.createElement("i",{className:"fa fa-question fa-2x"})),a.default.createElement(c.default,{color:l.COLORS.TEXT_DEFAULT,variant:l.TYPOGRAPHY.H6,fontWeight:l.FONT_WEIGHT.NORMAL,align:l.TEXT_ALIGN.CENTER,boxProps:{display:l.DISPLAY.FLEX,justifyContent:l.JUSTIFY_CONTENT.CENTER}},e.name)))}p.propTypes={newNetwork:r.default.shape({chainId:r.default.string.isRequired,name:r.default.string.isRequired})}}}},{package:"$root$"}],[6162,{"./confirmation-network-switch":6161},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirmation-network-switch"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6163,{"../../../shared/constants/app":5397,"../../components/app/confirmation-warning-modal":5514,"../../components/app/metamask-template-renderer":5587,"../../components/app/network-display/network-display":5656,"../../components/ui/box":5839,"../../components/ui/callout":5845,"../../components/ui/site-origin":5976,"../../helpers/constants/design-system":6033,"../../helpers/constants/routes":6037,"../../hooks/useI18nContext":6091,"../../hooks/useOriginMetadata":6093,"../../selectors":6437,"./components/confirmation-footer":6160,"./templates":6166,immer:4530,lodash:4765,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=O;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=k(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("lodash"),c=e("immer"),l=e("../../../shared/constants/app"),u=k(e("../../components/ui/box")),d=k(e("../../components/app/metamask-template-renderer")),p=k(e("../../components/app/confirmation-warning-modal")),f=e("../../helpers/constants/routes"),m=e("../../helpers/constants/design-system"),h=e("../../hooks/useI18nContext"),g=e("../../hooks/useOriginMetadata"),E=e("../../selectors"),_=k(e("../../components/app/network-display/network-display")),y=k(e("../../components/ui/callout")),v=k(e("../../components/ui/site-origin")),b=k(e("./components/confirmation-footer")),T=e("./templates");function k(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}const w=(0,c.produce)(((e,t)=>{var n;switch(t.type){case"dismiss":null!=e&&null!==(n=e[t.confirmationId])&&void 0!==n&&n[t.alertId]&&(e[t.confirmationId][t.alertId].dismissed=!0);break;case"set":e[t.confirmationId]||(e[t.confirmationId]={}),t.alerts.forEach((n=>{e[t.confirmationId][n.id]={...n,dismissed:!1}}));break;default:throw new Error("You must provide a type when dispatching an action for alertState")}}));function O({redirectToHomeOnZeroConfirmations:e=!0}){const t=(0,h.useI18nContext)(),n=(0,o.useDispatch)(),r=(0,s.useHistory)(),c=(0,o.useSelector)(E.getUnapprovedTemplatedConfirmations,i.isEqual),[k,N]=(0,a.useState)(0),O=c[k],P=(0,g.useOriginMetadata)(null==O?void 0:O.origin)||{},[A,S]=function(e){const[t,n]=(0,a.useReducer)(w,{});return(0,a.useEffect)((()=>{let t=!0;return e&&(0,T.getTemplateAlerts)(e).then((a=>{t&&a.length>0&&n({type:"set",confirmationId:e.id,alerts:a})})),()=>{t=!1}}),[e]),[t,(0,a.useCallback)((t=>{n({type:"dismiss",confirmationId:e.id,alertId:t})}),[e])]}(O),[C]=function(e){const[t,n]=(0,a.useState)({});return(0,a.useEffect)((()=>{let t=!0;return e&&(0,T.getTemplateState)(e).then((a=>{t&&Object.values(a).length>0&&n((t=>({...t,[e.id]:a})))})),()=>{t=!1}}),[e]),[t]}(O),[R,x]=(0,a.useState)(!1),[I,M]=(0,a.useState)({}),D=(e,t)=>{M((n=>({...n,[e]:t})))},j=[],L=(0,a.useMemo)((()=>O?(0,T.getTemplateValues)({...O},t,n,r,D):{}),[O,t,n,r]);return(0,a.useEffect)((()=>{0===c.length&&e?r.push(f.DEFAULT_ROUTE):c.length<=k&&N(c.length-1)}),[c,r,k,e]),O?a.default.createElement("div",{className:"confirmation-page"},c.length>1&&a.default.createElement("div",{className:"confirmation-page__navigation"},a.default.createElement("p",null,t("xOfYPending",[k+1,c.length])),k>0&&a.default.createElement("button",{className:"confirmation-page__navigation-button",onClick:()=>N(k-1)},a.default.createElement("i",{className:"fas fa-chevron-left"})),a.default.createElement("button",{className:"confirmation-page__navigation-button",disabled:k+1===c.length,onClick:()=>N(k+1)},a.default.createElement("i",{className:"fas fa-chevron-right"}))),a.default.createElement("div",{className:"confirmation-page__content"},L.networkDisplay?a.default.createElement(u.default,{justifyContent:"center",marginTop:2},a.default.createElement(_.default,{indicatorSize:m.SIZES.XS,labelProps:{color:m.COLORS.TEXT_DEFAULT}})):null,"metamask"===O.origin?null:a.default.createElement(u.default,{alignItems:"center",marginTop:1,paddingTop:1,paddingRight:4,paddingLeft:4,paddingBottom:4,flexDirection:m.FLEX_DIRECTION.COLUMN},a.default.createElement(v.default,{chip:!0,siteOrigin:P.origin,title:P.origin,iconSrc:P.iconUrl,iconName:P.hostname})),a.default.createElement(d.default,{sections:L.content}),R&&a.default.createElement(p.default,{onSubmit:async()=>{await L.onSubmit(),x(!1)},onCancel:L.onCancel})),a.default.createElement(b.default,{alerts:A[O.id]&&Object.values(A[O.id]).filter((e=>!1===e.dismissed)).map(((e,t,n)=>a.default.createElement(y.default,{key:e.id,severity:e.severity,dismiss:()=>S(e.id),isFirst:0===t,isLast:t===n.length-1,isMultiple:n.length>1},a.default.createElement(d.default,{sections:e.content})))),onSubmit:()=>{var e,t;return null!==(e=C[O.id])&&void 0!==e&&e.useWarningModal?x(!0):L.onSubmit((t=O.type,j.includes(t)?I[l.MESSAGE_TYPE.SNAP_DIALOG_PROMPT]:null))},onCancel:L.onCancel,submitText:L.submitText,cancelText:L.cancelText})):null}O.propTypes={redirectToHomeOnZeroConfirmations:r.default.bool}}}},{package:"$root$"}],[6164,{"./confirmation":6163},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirmation"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6168,{"../../components/app/connected-accounts-list":5520,"../../components/app/connected-accounts-permissions":5522,"../../components/ui/popover":5961,"../../helpers/utils/util":6071,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=u(e("../../components/ui/popover")),s=u(e("../../components/app/connected-accounts-list")),i=u(e("../../components/app/connected-accounts-permissions")),c=e("../../helpers/utils/util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.PureComponent{render(){const{accountToConnect:e,activeTabOrigin:t,isActiveTabExtension:n,connectAccount:a,connectedAccounts:l,history:u,mostRecentOverviewPage:d,permissions:p,selectedAddress:f,removePermittedAccount:m,setSelectedAddress:h}=this.props,{t:g}=this.context,E=l.length>1?g("connectedAccountsDescriptionPlural",[l.length]):g("connectedAccountsDescriptionSingular");return r.default.createElement(o.default,{title:n?g("currentExtension"):(0,c.getURLHost)(t),subtitle:l.length?E:g("connectedAccountsEmptyDescription"),onClose:()=>u.push(d),footerClassName:"connected-accounts__footer",footer:r.default.createElement(i.default,{permissions:p})},r.default.createElement(s.default,{accountToConnect:e,connectAccount:a,connectedAccounts:l,selectedAddress:f,removePermittedAccount:m,setSelectedAddress:h,shouldRenderListOptions:!0}))}}n.default=p,d(p,"contextTypes",{t:a.default.func.isRequired}),d(p,"defaultProps",{accountToConnect:null,permissions:undefined}),d(p,"propTypes",{accountToConnect:a.default.object,activeTabOrigin:a.default.string.isRequired,connectAccount:a.default.func.isRequired,connectedAccounts:a.default.array.isRequired,mostRecentOverviewPage:a.default.string.isRequired,permissions:a.default.array,isActiveTabExtension:a.default.bool.isRequired,selectedAddress:a.default.string.isRequired,removePermittedAccount:a.default.func.isRequired,setSelectedAddress:a.default.func.isRequired,history:a.default.object.isRequired})}}},{package:"$root$"}],[6169,{"../../ducks/history/history":6022,"../../helpers/utils/util":6071,"../../selectors":6437,"../../store/actions":6444,"./connected-accounts.component":6168,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../selectors"),s=e("../../helpers/utils/util"),i=e("../../store/actions"),c=e("../../ducks/history/history"),l=(a=e("./connected-accounts.component"))&&a.__esModule?a:{default:a};var u=(0,r.connect)((e=>{const{activeTab:t}=e,n=(0,o.getAccountToConnectToActiveTab)(e),a=(0,o.getOrderedConnectedAccountsForActiveTab)(e),r=(0,o.getPermissionsForActiveTab)(e),i=(0,o.getSelectedAddress)(e);return{accountToConnect:n,isActiveTabExtension:(0,s.isExtensionUrl)(t),activeTabOrigin:t.origin,connectedAccounts:a,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),permissions:r,selectedAddress:i}}),(e=>({addPermittedAccount:(t,n)=>e((0,i.addPermittedAccount)(t,n)),removePermittedAccount:(t,n)=>e((0,i.removePermittedAccount)(t,n)),setSelectedAddress:t=>e((0,i.setSelectedAddress)(t))})),((e,t,n)=>{const{activeTabOrigin:a}=e;return{...n,...e,...t,connectAccount:e=>t.addPermittedAccount(a,e),removePermittedAccount:e=>t.removePermittedAccount(a,e)}}))(l.default);n.default=u}}},{package:"$root$"}],[617,{"./ExpansionPanelActions":616,"@babel/runtime/helpers/interopRequireDefault":184},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./ExpansionPanelActions"))}}},{package:"@material-ui/core"}],[6170,{"./connected-accounts.container":6169},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./connected-accounts.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6171,{"../../components/app/connected-sites-list":5524,"../../components/ui/button":5843,"../../components/ui/popover/popover.component":5962,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=l(e("../../components/app/connected-sites-list")),s=l(e("../../components/ui/popover/popover.component")),i=l(e("../../components/ui/button"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.Component{constructor(...e){super(...e),u(this,"state",{sitePendingDisconnect:null}),u(this,"setPendingDisconnect",(e=>{this.setState({sitePendingDisconnect:{subjectKey:e}})})),u(this,"clearPendingDisconnect",(()=>{this.setState({sitePendingDisconnect:null})})),u(this,"disconnectAccount",(()=>{const{disconnectAccount:e}=this.props,{sitePendingDisconnect:t}=this.state;e(t.subjectKey),this.clearPendingDisconnect()})),u(this,"disconnectAllAccounts",(()=>{const{disconnectAllAccounts:e}=this.props,{sitePendingDisconnect:t}=this.state;e(t.subjectKey),this.clearPendingDisconnect()}))}componentDidMount(){const{getOpenMetamaskTabsIds:e}=this.props;e()}renderConnectedSitesList(){return r.default.createElement(o.default,{connectedSubjects:this.props.connectedSubjects,onDisconnect:this.setPendingDisconnect})}renderConnectedSitesPopover(){const{accountLabel:e,closePopover:t,connectedSubjects:n,tabToConnect:a,requestAccountsPermission:o}=this.props,{t:i}=this.context;return r.default.createElement(s.default,{className:"connected-sites",title:i("connectedSites"),subtitle:n.length?i("connectedSitesDescription",[e]):i("connectedSitesEmptyDescription",[e]),onClose:t,footer:a?r.default.createElement("a",{className:"connected-sites__text-button",onClick:o},i("connectManually")):null,footerClassName:"connected-sites__add-site-manually"},this.renderConnectedSitesList())}renderDisconnectPopover(){const{closePopover:e,permittedAccountsByOrigin:t}=this.props,{t:n}=this.context,{sitePendingDisconnect:{subjectKey:a}}=this.state,o=t[a].length;return r.default.createElement(s.default,{className:"connected-sites",title:n("disconnectPrompt",[a]),subtitle:n("disconnectAllAccountsConfirmationDescription"),onClose:e,footer:r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"connected-sites__footer-row"},r.default.createElement(i.default,{type:"secondary",onClick:this.clearPendingDisconnect},n("cancel")),r.default.createElement(i.default,{type:"primary",onClick:this.disconnectAccount},n("disconnect"))),o>1?r.default.createElement("div",{className:"connected-sites__footer-row"},r.default.createElement("a",{className:"connected-sites__text-button",onClick:this.disconnectAllAccounts},n("disconnectAllAccounts"))):null),footerClassName:"connected-sites__confirmation"})}render(){const{sitePendingDisconnect:e}=this.state;return e?this.renderDisconnectPopover():this.renderConnectedSitesPopover()}}n.default=d,u(d,"contextTypes",{t:a.default.func}),u(d,"defaultProps",{tabToConnect:null}),u(d,"propTypes",{accountLabel:a.default.string.isRequired,closePopover:a.default.func.isRequired,connectedSubjects:a.default.arrayOf(a.default.object).isRequired,disconnectAllAccounts:a.default.func.isRequired,disconnectAccount:a.default.func.isRequired,getOpenMetamaskTabsIds:a.default.func.isRequired,permittedAccountsByOrigin:a.default.objectOf(a.default.arrayOf(a.default.string)).isRequired,tabToConnect:a.default.object,requestAccountsPermission:a.default.func.isRequired})}}},{package:"$root$"}],[6172,{"../../ducks/history/history":6022,"../../helpers/constants/routes":6037,"../../selectors":6437,"../../store/actions":6444,"./connected-sites.component":6171,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../store/actions"),s=e("../../selectors"),i=e("../../helpers/constants/routes"),c=e("../../ducks/history/history"),l=(a=e("./connected-sites.component"))&&a.__esModule?a:{default:a};var u=(0,r.connect)((e=>{var t;const{openMetaMaskTabs:n}=e.appState,{id:a}=e.activeTab,r=(0,s.getConnectedSubjectsForSelectedAddress)(e),o=(0,s.getOriginOfCurrentTab)(e),i=(0,s.getPermittedAccountsByOrigin)(e),l=(0,s.getSelectedAddress)(e),u=!(null!==(t=i[o])&&void 0!==t&&t.length);let d;return o&&u&&!n[a]&&(d={origin:o}),{accountLabel:(0,s.getCurrentAccountWithSendEtherInfo)(e).name,connectedSubjects:r,subjects:(0,s.getPermissionSubjects)(e),mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),permittedAccountsByOrigin:i,selectedAddress:l,tabToConnect:d}}),(e=>({getOpenMetamaskTabsIds:()=>e((0,o.getOpenMetamaskTabsIds)()),disconnectAccount:(t,n)=>{e((0,o.removePermittedAccount)(t,n))},disconnectAllAccounts:(t,n)=>{const a=Object.values(n.permissions).map((({parentCapability:e})=>e));e((0,o.removePermissionsFor)({[t]:a}))},requestAccountsPermissionWithId:t=>e((0,o.requestAccountsPermissionWithId)(t))})),((e,t,n)=>{const{connectedSubjects:a,subjects:r,mostRecentOverviewPage:o,selectedAddress:s,tabToConnect:c}=e,{disconnectAccount:l,disconnectAllAccounts:u,requestAccountsPermissionWithId:d}=t,{history:p}=n,f=()=>p.push(o);return{...n,...e,...t,closePopover:f,disconnectAccount:e=>{l(e,s),1===a.length&&f()},disconnectAllAccounts:e=>{u(e,r[e]),1===a.length&&f()},requestAccountsPermission:async()=>{const e=await d(c.origin);p.push(`${i.CONNECT_ROUTE}/${e}`)}}}))(l.default);n.default=u}}},{package:"$root$"}],[6173,{"./connected-sites.container":6172},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./connected-sites.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6174,{"../../../../shared/constants/hardware-wallets":5399,"../../../../shared/constants/metametrics":5402,"../../../components/ui/button":5843,"../../../components/ui/check-box":5849,"../../../components/ui/dropdown":5867,"../../../helpers/utils/util":6071,"@metamask/etherscan-link":1185,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("@metamask/etherscan-link"),s=f(e("../../../components/ui/button")),i=f(e("../../../components/ui/check-box")),c=f(e("../../../components/ui/dropdown")),l=e("../../../helpers/utils/util"),u=e("../../../../shared/constants/hardware-wallets"),d=e("../../../../shared/constants/metametrics");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.Component{constructor(...e){super(...e),m(this,"state",{pathValue:null}),m(this,"goToNextPage",(()=>{5===this.props.accounts.length?this.props.getPage(this.props.device,1,this.props.selectedPath):this.props.onAccountRestriction()})),m(this,"goToPreviousPage",(()=>{this.props.getPage(this.props.device,-1,this.props.selectedPath)}))}setPath(e){this.setState({pathValue:e})}renderHdPathSelector(){const{device:e,selectedPath:t,hdPaths:n,onPathChange:a}=this.props,{pathValue:o}=this.state;return r.default.createElement("div",null,r.default.createElement("h3",{className:"hw-connect__hdPath__title"},this.context.t("selectHdPath")),r.default.createElement("p",{className:"hw-connect__msg"},this.context.t("selectPathHelp")),r.default.createElement("div",{className:"hw-connect__hdPath"},r.default.createElement(c.default,{className:"hw-connect__hdPath__select",options:n[e.toLowerCase()],selectedOption:o||t,onChange:e=>{this.setPath(e),a(e)}})))}capitalizeDevice(e){return e.slice(0,1).toUpperCase()+e.slice(1)}renderHeader(){const{device:e}=this.props,t=[u.DEVICE_NAMES.LEDGER,u.DEVICE_NAMES.LATTICE,u.DEVICE_NAMES.TREZOR].includes(e.toLowerCase());return r.default.createElement("div",{className:"hw-connect"},r.default.createElement("h3",{className:"hw-connect__unlock-title"},this.context.t("selectAnAccount")),t?this.renderHdPathSelector():null,r.default.createElement("h3",{className:"hw-connect__hdPath__title"},this.context.t("selectAnAccount")))}renderAccounts(){const{accounts:e,connectedAccounts:t,rpcPrefs:n,chainId:a}=this.props;return r.default.createElement("div",{className:"hw-account-list"},e.map(((e,s)=>{const c=t.includes(e.address.toLowerCase()),u=e.index,p=this.props.selectedAccounts.includes(e.index)||c;return r.default.createElement("div",{className:"hw-account-list__item",key:e.address,title:c?this.context.t("selectAnAccountAlreadyConnected"):""},r.default.createElement("div",{className:"hw-account-list__item__checkbox"},r.default.createElement(i.default,{id:`address-${s}`,checked:p,disabled:c,onClick:()=>{this.props.onAccountChange(u)}}),r.default.createElement("label",{className:"hw-account-list__item__label",htmlFor:`address-${s}`},r.default.createElement("span",{className:"hw-account-list__item__index"},e.index+1),`${e.address.slice(0,4)}...${e.address.slice(-4)}`,r.default.createElement("span",{className:"hw-account-list__item__balance"},`${e.balance}`))),r.default.createElement("a",{className:"hw-account-list__item__link",onClick:()=>{const t=(0,o.getAccountLink)(e.address,a,n);this.context.trackEvent({category:d.EVENT.CATEGORIES.ACCOUNTS,event:"Clicked Block Explorer Link",properties:{actions:"Hardware Connect",link_type:"Account Tracker",block_explorer_domain:(0,l.getURLHostName)(t)}}),global.platform.openTab({url:t})},target:"_blank",rel:"noopener noreferrer",title:this.context.t("etherscanView")},r.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-default)"}})))})))}renderPagination(){return r.default.createElement("div",{className:"hw-list-pagination"},r.default.createElement("button",{className:"hw-list-pagination__button",onClick:this.goToPreviousPage},`< ${this.context.t("prev")}`),r.default.createElement("button",{className:"hw-list-pagination__button",onClick:this.goToNextPage},`${this.context.t("next")} >`))}renderButtons(){const e=0===this.props.selectedAccounts.length;return e&&({}.disabled=!0),r.default.createElement("div",{className:"new-external-account-form__buttons"},r.default.createElement(s.default,{type:"secondary",large:!0,className:"new-external-account-form__button",onClick:this.props.onCancel.bind(this)},this.context.t("cancel")),r.default.createElement(s.default,{type:"primary",large:!0,className:"new-external-account-form__button unlock",disabled:e,onClick:this.props.onUnlockAccounts.bind(this,this.props.device,this.props.selectedPath)},this.context.t("unlock")))}renderForgetDevice(){return r.default.createElement("div",{className:"hw-forget-device-container"},r.default.createElement("a",{onClick:this.props.onForgetDevice.bind(this,this.props.device)},this.context.t("forgetDevice")))}render(){return r.default.createElement("div",{className:"new-external-account-form account-list"},this.renderHeader(),this.renderAccounts(),this.renderPagination(),this.renderButtons(),this.renderForgetDevice())}}h.propTypes={onPathChange:a.default.func.isRequired,selectedPath:a.default.string.isRequired,device:a.default.string.isRequired,accounts:a.default.array.isRequired,connectedAccounts:a.default.array.isRequired,onAccountChange:a.default.func.isRequired,onForgetDevice:a.default.func.isRequired,getPage:a.default.func.isRequired,chainId:a.default.string,rpcPrefs:a.default.object,selectedAccounts:a.default.array.isRequired,onUnlockAccounts:a.default.func,onCancel:a.default.func,onAccountRestriction:a.default.func,hdPaths:a.default.array.isRequired},h.contextTypes={t:a.default.func,trackEvent:a.default.func};var g=h;n.default=g}}},{package:"$root$"}],[6175,{"../../../../shared/constants/hardware-wallets":5399,"../../../../shared/constants/metametrics":5402,"../../../../shared/constants/time":5408,"../../../ducks/history/history":6022,"../../../helpers/constants/zendesk-url":6040,"../../../helpers/utils/util":6071,"../../../selectors":6437,"../../../store/actions":6444,"./account-list":6174,"./select-hardware":6176,"prop-types":4875,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=_(e("react")),r=g(e("prop-types")),o=e("react-redux"),s=_(e("../../../store/actions")),i=e("../../../selectors"),c=e("../../../helpers/utils/util"),l=e("../../../ducks/history/history"),u=e("../../../../shared/constants/metametrics"),d=e("../../../../shared/constants/time"),p=e("../../../../shared/constants/hardware-wallets"),f=g(e("../../../helpers/constants/zendesk-url")),m=g(e("./select-hardware")),h=g(e("./account-list"));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v="U2F",b="m/44'/60'/0'",T="m/44'/60'/0'/0",k="m/44'/60'/0'/0/x",N="m/44'/60'/x'/0/0",w="m/44'/60'/0'/x",O={ledger:[{name:"Ledger Live",value:"m/44'/60'/0'/0/0"},{name:"Legacy (MEW / MyCrypto)",value:b},{name:"BIP44 Standard (e.g. MetaMask, Trezor)",value:T}],lattice:[{name:"Standard (m/44'/60'/0'/0/x)",value:k},{name:"Ledger Live (m/44'/60'/x'/0/0)",value:N},{name:"Ledger Legacy (m/44'/60'/0'/x)",value:w}],trezor:[{name:"BIP44 Standard (e.g. MetaMask, Trezor)",value:T},{name:"Trezor Testnets",value:"m/44'/1'/0'/0"}]};class P extends a.Component{constructor(...e){super(...e),y(this,"state",{error:null,selectedAccounts:[],accounts:[],browserSupported:!0,unlocked:!1,device:null}),y(this,"connectToHardwareWallet",(e=>{this.setState({device:e}),this.state.accounts.length||this.getPage(e,0,this.props.defaultHdPaths[e])})),y(this,"onPathChange",(e=>{this.props.setHardwareWalletDefaultHdPath({device:this.state.device,path:e}),this.setState({selectedAccounts:[]}),this.getPage(this.state.device,0,e)})),y(this,"onAccountChange",(e=>{let{selectedAccounts:t}=this.state;t.includes(e)?t=t.filter((t=>e!==t)):t.push(e),this.setState({selectedAccounts:t,error:null})})),y(this,"onAccountRestriction",(()=>{this.setState({error:this.context.t("ledgerAccountRestriction")})})),y(this,"getPage",((e,t,n)=>{this.props.connectHardware(e,t,n,this.context.t).then((t=>{if(t.length){0!==this.state.accounts.length||this.state.unlocked||this.showTemporaryAlert();const n=t.map((e=>{var t;const n=e.address.toLowerCase(),a=(null===(t=this.props.accounts[n])||void 0===t?void 0:t.balance)||null;return e.balance=a?(0,c.formatBalance)(a,6):"...",e}));this.setState({accounts:n,unlocked:!0,device:e,error:null})}})).catch((e=>{const t="string"==typeof e?e:e.message;"Window blocked"===t?this.setState({browserSupported:!1,error:null}):t.includes(v)?this.setState({error:v}):"LEDGER_LOCKED"===t||"LEDGER_WRONG_APP"===t?this.setState({error:this.context.t("ledgerLocked")}):t.includes("timeout")?this.setState({error:this.context.t("ledgerTimeout")}):t.toLowerCase().includes("KeystoneError#pubkey_account.no_expected_account".toLowerCase())?this.setState({error:this.context.t("QRHardwarePubkeyAccountOutOfRange")}):"Window closed"!==t&&"Popup closed"!==t&&!1===t.toLowerCase().includes("KeystoneError#sync_cancel".toLowerCase())&&this.setState({error:t})}))})),y(this,"onForgetDevice",(e=>{this.props.forgetDevice(e).then((e=>{this.setState({error:null,selectedAccounts:[],accounts:[],unlocked:!1})})).catch((e=>{this.setState({error:e.message})}))})),y(this,"onUnlockAccounts",((e,t)=>{const{history:n,mostRecentOverviewPage:a,unlockHardwareWalletAccounts:r}=this.props,{selectedAccounts:o}=this.state;0===o.length&&this.setState({error:this.context.t("accountSelectionRequired")});const s=b===t?this.context.t("hardwareWalletLegacyDescription"):"";return r(o,e,t||null,s).then((t=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.ACCOUNTS,event:u.EVENT_NAMES.ACCOUNT_ADDED,properties:{account_type:u.EVENT.ACCOUNT_TYPES.HARDWARE,account_hardware_type:e}}),n.push(a)})).catch((t=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.ACCOUNTS,event:u.EVENT_NAMES.ACCOUNT_ADD_FAILED,properties:{account_type:u.EVENT.ACCOUNT_TYPES.HARDWARE,account_hardware_type:e,error:t.message}}),this.setState({error:t.message})}))})),y(this,"onCancel",(()=>{const{history:e,mostRecentOverviewPage:t}=this.props;e.push(t)}))}UNSAFE_componentWillReceiveProps(e){const{accounts:t}=e,n=this.state.accounts.map((e=>{var n;const a=e.address.toLowerCase(),r=(null===(n=t[a])||void 0===n?void 0:n.balance)||null;return e.balance=r?(0,c.formatBalance)(r,6):"...",e}));this.setState({accounts:n})}componentDidMount(){this.checkIfUnlocked()}async checkIfUnlocked(){for(const e of[p.DEVICE_NAMES.TREZOR,p.DEVICE_NAMES.LEDGER,p.DEVICE_NAMES.LATTICE]){const t=this.props.defaultHdPaths[e];await this.props.checkHardwareStatus(e,t)&&(this.setState({unlocked:!0}),this.getPage(e,0,t))}}showTemporaryAlert(){this.props.showAlert(this.context.t("hardwareWalletConnected")),setTimeout((e=>{this.props.hideAlert()}),5*d.SECOND)}renderError(){return this.state.error===v?a.default.createElement("p",{className:"hw-connect__error"},this.context.t("troubleConnectingToWallet",[this.state.device,a.default.createElement("a",{href:f.default.HARDWARE_CONNECTION,key:"hardware-connection-guide",target:"_blank",rel:"noopener noreferrer",className:"hw-connect__link",style:{marginLeft:"5px",marginRight:"5px"}},this.context.t("walletConnectionGuide"))])):this.state.error?a.default.createElement("span",{className:"hw-connect__error"},this.state.error):null}renderContent(){return this.state.accounts.length?a.default.createElement(h.default,{onPathChange:this.onPathChange,selectedPath:this.props.defaultHdPaths[this.state.device],device:this.state.device,accounts:this.state.accounts,connectedAccounts:this.props.connectedAccounts,selectedAccounts:this.state.selectedAccounts,onAccountChange:this.onAccountChange,chainId:this.props.chainId,rpcPrefs:this.props.rpcPrefs,getPage:this.getPage,onUnlockAccounts:this.onUnlockAccounts,onForgetDevice:this.onForgetDevice,onCancel:this.onCancel,onAccountRestriction:this.onAccountRestriction,hdPaths:O}):a.default.createElement(m.default,{connectToHardwareWallet:this.connectToHardwareWallet,browserSupported:this.state.browserSupported,ledgerTransportType:this.props.ledgerTransportType})}render(){return a.default.createElement(a.default.Fragment,null,this.renderError(),this.renderContent())}}y(P,"contextTypes",{t:r.default.func}),P.propTypes={connectHardware:r.default.func,checkHardwareStatus:r.default.func,forgetDevice:r.default.func,showAlert:r.default.func,hideAlert:r.default.func,unlockHardwareWalletAccounts:r.default.func,setHardwareWalletDefaultHdPath:r.default.func,history:r.default.object,chainId:r.default.string,rpcPrefs:r.default.object,accounts:r.default.object,connectedAccounts:r.default.array.isRequired,defaultHdPaths:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,ledgerTransportType:r.default.oneOf(Object.values(p.LEDGER_TRANSPORT_TYPES))};P.contextTypes={t:r.default.func,trackEvent:r.default.func};var A=(0,o.connect)((e=>({chainId:(0,i.getCurrentChainId)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e),accounts:(0,i.getMetaMaskAccounts)(e),connectedAccounts:(0,i.getMetaMaskAccountsConnected)(e),defaultHdPaths:e.appState.defaultHdPaths,mostRecentOverviewPage:(0,l.getMostRecentOverviewPage)(e),ledgerTransportType:e.metamask.ledgerTransportType})),(e=>({setHardwareWalletDefaultHdPath:({device:t,path:n})=>e(s.setHardwareWalletDefaultHdPath({device:t,path:n})),connectHardware:(t,n,a,r)=>e(s.connectHardware(t,n,a,r)),checkHardwareStatus:(t,n)=>e(s.checkHardwareStatus(t,n)),forgetDevice:t=>e(s.forgetDevice(t)),unlockHardwareWalletAccounts:(t,n,a,r)=>e(s.unlockHardwareWalletAccounts(t,n,a,r)),showAlert:t=>e(s.showAlert(t)),hideAlert:()=>e(s.hideAlert())})))(P);n.default=A}}},{package:"$root$"}],[6176,{"../../../../shared/constants/hardware-wallets":5399,"../../../../shared/constants/metametrics":5402,"../../../components/ui/button":5843,"../../../components/ui/logo/logo-lattice":5934,"../../../components/ui/logo/logo-ledger":5935,"../../../components/ui/logo/logo-qr-based":5937,"../../../components/ui/logo/logo-trezor":5939,"../../../helpers/constants/zendesk-url":6040,classnames:1844,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("classnames")),r=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=h(e("../../../components/ui/button")),i=h(e("../../../components/ui/logo/logo-ledger")),c=h(e("../../../components/ui/logo/logo-qr-based")),l=h(e("../../../components/ui/logo/logo-trezor")),u=h(e("../../../components/ui/logo/logo-lattice")),d=e("../../../../shared/constants/hardware-wallets"),p=h(e("../../../helpers/constants/zendesk-url")),f=e("../../../../shared/constants/metametrics");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g.apply(this,arguments)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends o.Component{constructor(...e){super(...e),E(this,"state",{selectedDevice:null}),E(this,"connect",(()=>(this.state.selectedDevice&&this.props.connectToHardwareWallet(this.state.selectedDevice),null)))}renderConnectToTrezorButton(){return o.default.createElement("button",{className:(0,a.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.DEVICE_NAMES.TREZOR}),onClick:e=>this.setState({selectedDevice:d.DEVICE_NAMES.TREZOR})},o.default.createElement(l.default,{className:"hw-connect__btn__img",ariaLabel:"Trezor"}))}renderConnectToLatticeButton(){return o.default.createElement("button",{className:(0,a.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.DEVICE_NAMES.LATTICE}),onClick:e=>this.setState({selectedDevice:d.DEVICE_NAMES.LATTICE})},o.default.createElement(u.default,{className:"hw-connect__btn__img",ariaLabel:"Lattice"}))}renderConnectToLedgerButton(){return o.default.createElement("button",{className:(0,a.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.DEVICE_NAMES.LEDGER}),onClick:e=>this.setState({selectedDevice:d.DEVICE_NAMES.LEDGER})},o.default.createElement(i.default,{className:"hw-connect__btn__img",ariaLabel:"Ledger"}))}renderConnectToQRButton(){return o.default.createElement("button",{className:(0,a.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.DEVICE_NAMES.QR}),onClick:e=>this.setState({selectedDevice:d.DEVICE_NAMES.QR})},o.default.createElement(c.default,{className:"hw-connect__btn__img",ariaLabel:"QRCode"}))}renderButtons(){return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"hw-connect__btn-wrapper"},this.renderConnectToLedgerButton(),this.renderConnectToTrezorButton()),o.default.createElement("div",{className:"hw-connect__btn-wrapper",style:{margin:"10px 0 0 0"}},this.renderConnectToLatticeButton(),this.renderConnectToQRButton()))}renderContinueButton(){return o.default.createElement(s.default,{type:"primary",large:!0,className:"hw-connect__connect-btn",onClick:this.connect,disabled:!this.state.selectedDevice},this.context.t("continue"))}renderUnsupportedBrowser(){return o.default.createElement("div",{className:"new-external-account-form unsupported-browser"},o.default.createElement("div",{className:"hw-connect"},o.default.createElement("h3",{className:"hw-connect__title"},this.context.t("browserNotSupported")),o.default.createElement("p",{className:"hw-connect__msg"},this.context.t("chromeRequiredForHardwareWallets"))),o.default.createElement(s.default,{type:"primary",large:!0,onClick:()=>global.platform.openTab({url:"https://google.com/chrome"})},this.context.t("downloadGoogleChrome")))}renderHeader(){return o.default.createElement("div",{className:"hw-connect__header"},o.default.createElement("h3",{className:"hw-connect__header__title"},this.context.t("hardwareWallets")),o.default.createElement("p",{className:"hw-connect__header__msg"},this.context.t("hardwareWalletsMsg")))}renderTutorialsteps(){switch(this.state.selectedDevice){case d.DEVICE_NAMES.LEDGER:return this.renderLedgerTutorialSteps();case d.DEVICE_NAMES.TREZOR:return this.renderTrezorTutorialSteps();case d.DEVICE_NAMES.LATTICE:return this.renderLatticeTutorialSteps();case d.DEVICE_NAMES.QR:return this.renderQRHardwareWalletSteps();default:return""}}renderLedgerTutorialSteps(){const e=[];return this.props.ledgerTransportType===d.LEDGER_TRANSPORT_TYPES.LIVE&&e.push({title:this.context.t("step1LedgerWallet"),message:this.context.t("step1LedgerWalletMsg",[o.default.createElement("a",{className:"hw-connect__msg-link",href:"https://www.ledger.com/ledger-live",rel:"noopener noreferrer",target:"_blank",key:"ledger-live-app-link"},this.context.t("ledgerLiveApp"))])}),e.push({asset:"plug-in-wallet",dimensions:{width:"225px",height:"75px"},title:this.context.t("step2LedgerWallet"),message:this.context.t("step2LedgerWalletMsg",[o.default.createElement("a",{className:"hw-connect__msg-link",href:p.default.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"ledger-support-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}),o.default.createElement("div",{className:"hw-tutorial"},e.map(((e,t)=>o.default.createElement("div",{className:"hw-connect",key:t},o.default.createElement("h3",{className:"hw-connect__title"},e.title),o.default.createElement(s.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Ledger Buy Now"}),window.open(d.AFFILIATE_LINKS.LEDGER,"_blank")}},this.context.t("buyNow")),o.default.createElement(s.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Ledger Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.LEDGER,"_blank")}},this.context.t("tutorial")),o.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&o.default.createElement("img",g({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""}))))))}renderLatticeTutorialSteps(){const e=[{asset:"connect-lattice",dimensions:{width:"225px",height:"75px"},title:this.context.t("step1LatticeWallet"),message:this.context.t("step1LatticeWalletMsg",[o.default.createElement("a",{className:"hw-connect__msg-link",href:p.default.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"lattice-setup-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}];return o.default.createElement("div",{className:"hw-tutorial"},e.map(((e,t)=>o.default.createElement("div",{className:"hw-connect",key:t},o.default.createElement("h3",{className:"hw-connect__title"},e.title),o.default.createElement(s.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked GridPlus Buy Now"}),window.open(d.AFFILIATE_LINKS.GRIDPLUS,"_blank")}},this.context.t("buyNow")),o.default.createElement(s.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked GidPlus Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.GRIDPLUS,"_blank")}},this.context.t("tutorial")),o.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&o.default.createElement("img",g({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""}))))))}renderTrezorTutorialSteps(){const e=[{asset:"plug-in-wallet",dimensions:{width:"225px",height:"75px"},title:this.context.t("step1TrezorWallet"),message:this.context.t("step1TrezorWalletMsg",[o.default.createElement("a",{className:"hw-connect__msg-link",href:p.default.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"trezor-support-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}];return o.default.createElement("div",{className:"hw-tutorial"},e.map(((e,t)=>o.default.createElement("div",{className:"hw-connect",key:t},o.default.createElement("h3",{className:"hw-connect__title"},e.title),o.default.createElement(s.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Trezor Buy Now"}),window.open(d.AFFILIATE_LINKS.TREZOR,"_blank")}},this.context.t("buyNow")),o.default.createElement(s.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Trezor Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.TREZOR,"_blank")}},this.context.t("tutorial")),o.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&o.default.createElement("img",g({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""}))))))}renderQRHardwareWalletSteps(){const e=[];return e.push({title:this.context.t("QRHardwareWalletSteps1Title"),message:this.context.t("QRHardwareWalletSteps1Description")},{message:o.default.createElement(o.default.Fragment,null,o.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("keystone")),o.default.createElement(s.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Keystone Buy Now"}),window.open(d.AFFILIATE_LINKS.KEYSTONE,"_blank")}},this.context.t("buyNow")),o.default.createElement(s.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Keystone Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.KEYSTONE,"_blank")}},this.context.t("tutorial")))},{message:o.default.createElement(o.default.Fragment,null,o.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("airgapVault")),o.default.createElement(s.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked AirGap Vault Buy Now"}),window.open(d.AFFILIATE_LINKS.AIRGAP,"_blank")}},this.context.t("downloadNow")),o.default.createElement(s.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked AirGap Vault Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.AIRGAP,"_blank")}},this.context.t("tutorial")))},{message:o.default.createElement(o.default.Fragment,null,o.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("coolWallet")),o.default.createElement(s.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked CoolWallet Buy Now"}),window.open(d.AFFILIATE_LINKS.COOLWALLET,"_blank")}},this.context.t("buyNow")),o.default.createElement(s.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked CoolWallet Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.COOLWALLET,"_blank")}},this.context.t("tutorial")))},{message:o.default.createElement(o.default.Fragment,null,o.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("dcent")),o.default.createElement(s.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked DCent Buy Now"}),window.open(d.AFFILIATE_LINKS.DCENT,"_blank")}},this.context.t("buyNow")),o.default.createElement(s.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:"Clicked DCent Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.DCENT,"_blank")}},this.context.t("tutorial")))},{message:this.context.t("QRHardwareWalletSteps2Description")},{asset:"qrcode-wallet-demo",dimensions:{width:"225px",height:"75px"}}),o.default.createElement("div",{className:"hw-tutorial"},e.map(((e,t)=>o.default.createElement("div",{className:"hw-connect",key:t},e.title&&o.default.createElement("h3",{className:"hw-connect__title"},e.title),o.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&o.default.createElement("img",g({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""}))))))}renderConnectScreen(){return o.default.createElement("div",{className:"new-external-account-form"},this.renderHeader(),this.renderButtons(),this.state.selectedDevice?this.renderTutorialsteps():null,this.renderContinueButton())}render(){return this.props.browserSupported?this.renderConnectScreen():this.renderUnsupportedBrowser()}}n.default=_,E(_,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),E(_,"propTypes",{connectToHardwareWallet:r.default.func.isRequired,browserSupported:r.default.bool.isRequired,ledgerTransportType:r.default.oneOf(Object.values(d.LEDGER_TRANSPORT_TYPES))})}}},{package:"$root$"}],[6177,{"../../helpers/constants/routes":6037,"./connect-hardware":6175,"./import-account":6178,"./new-account.container":6183,react:5049,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-router-dom"),o=e("../../helpers/constants/routes"),s=l(e("./new-account.container")),i=l(e("./import-account")),c=l(e("./connect-hardware"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}class d extends a.Component{render(){return a.default.createElement("div",{className:"new-account"},a.default.createElement("div",{className:"new-account__form"},a.default.createElement(r.Switch,null,a.default.createElement(r.Route,{exact:!0,path:o.NEW_ACCOUNT_ROUTE,component:s.default}),a.default.createElement(r.Route,{exact:!0,path:o.IMPORT_ACCOUNT_ROUTE,component:i.default}),a.default.createElement(r.Route,{exact:!0,path:o.CONNECT_HARDWARE_ROUTE,component:c.default}))))}}n.default=d}}},{package:"$root$"}],[6178,{"../../../components/ui/dropdown":5867,"../../../helpers/constants/zendesk-url":6040,"./json":6179,"./private-key":6180,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../../components/ui/dropdown")),s=l(e("../../../helpers/constants/zendesk-url")),i=l(e("./json")),c=l(e("./private-key"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Component{constructor(...e){super(...e),d(this,"state",{})}getMenuItemTexts(){return[this.context.t("privateKey"),this.context.t("jsonFile")]}renderImportView(){const{type:e}=this.state,t=this.getMenuItemTexts();switch(e||t[0]){case this.context.t("privateKey"):return a.default.createElement(c.default,null);case this.context.t("jsonFile"):default:return a.default.createElement(i.default,null)}}render(){const e=this.getMenuItemTexts(),{type:t}=this.state,{t:n}=this.context;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},n("importAccount")),a.default.createElement("div",{className:"page-container__subtitle"},n("importAccountMsg"),a.default.createElement("span",{className:"new-account-info-link",onClick:()=>{global.platform.openTab({url:s.default.IMPORTED_ACCOUNTS})}},n("here")))),a.default.createElement("div",{className:"new-account-import-form"},a.default.createElement("div",{className:"new-account-import-form__select-section"},a.default.createElement("div",{className:"new-account-import-form__select-label"},n("selectType")),a.default.createElement(o.default,{className:"new-account-import-form__select",options:e.map((e=>({value:e}))),selectedOption:t||e[0],onChange:e=>{this.setState({type:e})}})),this.renderImportView()))}}n.default=p,d(p,"contextTypes",{t:r.default.func})}}},{package:"$root$"}],[6179,{"../../../../shared/constants/metametrics":5402,"../../../components/ui/button":5843,"../../../ducks/history/history":6022,"../../../helpers/constants/zendesk-url":6040,"../../../selectors":6437,"../../../store/actions":6444,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028,"react-simple-file-input":5038,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=E(e("react")),r=h(e("prop-types")),o=e("react-router-dom"),s=e("redux"),i=e("react-redux"),c=h(e("react-simple-file-input")),l=E(e("../../../store/actions")),u=e("../../../selectors"),d=h(e("../../../components/ui/button")),p=e("../../../../shared/constants/metametrics"),f=e("../../../ducks/history/history"),m=h(e("../../../helpers/constants/zendesk-url"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),_(this,"state",{fileContents:"",isEmpty:!0}),_(this,"inputRef",a.default.createRef())}render(){const{error:e,history:t,mostRecentOverviewPage:n}=this.props,r=!this.state.isEmpty&&""!==this.state.fileContents;return a.default.createElement("div",{className:"new-account-import-form__json"},a.default.createElement("p",null,this.context.t("usedByClients")),a.default.createElement("a",{className:"new-account-import-form__help-link",href:m.default.IMPORTED_ACCOUNTS,target:"_blank",rel:"noopener noreferrer"},this.context.t("fileImportFail")),a.default.createElement(c.default,{readAs:"text",onLoad:this.onLoad.bind(this),style:{padding:"20px 0px 12px 15%",fontSize:"15px",display:"flex",justifyContent:"center",width:"100%"}}),a.default.createElement("input",{className:"new-account-import-form__input-password",type:"password",placeholder:this.context.t("enterPassword"),id:"json-password-box",onKeyPress:this.createKeyringOnEnter.bind(this),onChange:()=>this.checkInputEmpty(),ref:this.inputRef}),a.default.createElement("div",{className:"new-account-create-form__buttons"},a.default.createElement(d.default,{type:"secondary",large:!0,className:"new-account-create-form__button",onClick:()=>t.push(n)},this.context.t("cancel")),a.default.createElement(d.default,{type:"primary",large:!0,className:"new-account-create-form__button",onClick:()=>this.createNewKeychain(),disabled:!r},this.context.t("import"))),e?a.default.createElement("span",{className:"error"},e):null)}onLoad(e){this.setState({fileContents:e.target.result})}createKeyringOnEnter(e){"Enter"===e.key&&(e.preventDefault(),this.createNewKeychain())}createNewKeychain(){const{firstAddress:e,displayWarning:t,history:n,importNewJsonAccount:a,mostRecentOverviewPage:r,setSelectedAddress:o}=this.props,{fileContents:s}=this.state,{t:i}=this.context;if(!s){const e=i("needImportFile");return void t(e)}a([s,this.inputRef.current.value]).then((({selectedAddress:a})=>{a?(n.push(r),this.context.trackEvent({category:p.EVENT.CATEGORIES.ACCOUNTS,event:p.EVENT_NAMES.ACCOUNT_ADDED,properties:{account_type:p.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:p.EVENT.ACCOUNT_IMPORT_TYPES.JSON}}),t(null)):(t(i("importAccountError")),this.context.trackEvent({category:p.EVENT.CATEGORIES.ACCOUNTS,event:p.EVENT_NAMES.ACCOUNT_ADD_FAILED,properties:{account_type:p.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:p.EVENT.ACCOUNT_IMPORT_TYPES.JSON}}),o(e))})).catch((e=>e&&t(e.message||e)))}checkInputEmpty(){let e=!0;""!==this.inputRef.current.value&&(e=!1),this.setState({isEmpty:e})}}y.propTypes={error:r.default.string,displayWarning:r.default.func,firstAddress:r.default.string,importNewJsonAccount:r.default.func,history:r.default.object,setSelectedAddress:r.default.func,mostRecentOverviewPage:r.default.string.isRequired};y.contextTypes={t:r.default.func,trackEvent:r.default.func};var v=(0,s.compose)(o.withRouter,(0,i.connect)((e=>({error:e.appState.warning,firstAddress:Object.keys((0,u.getMetaMaskAccounts)(e))[0],mostRecentOverviewPage:(0,f.getMostRecentOverviewPage)(e)})),(e=>({displayWarning:t=>e(l.displayWarning(t)),importNewJsonAccount:t=>e(l.importNewAccount("JSON File",t)),setSelectedAddress:t=>e(l.setSelectedAddress(t))}))))(y);n.default=v}}},{package:"$root$"}],[618,{"../styles/withStyles":870,"@babel/runtime/helpers/extends":180,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@babel/runtime/helpers/objectWithoutProperties":192,clsx:1846,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),c=(r(e("prop-types")),r(e("clsx"))),l=r(e("../styles/withStyles")),u=function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}};n.styles=u;var d=i.forwardRef((function(e,t){var n=e.classes,a=e.className,r=(0,s.default)(e,["classes","className"]);return i.createElement("div",(0,o.default)({className:(0,c.default)(n.root,a),ref:t},r))})),p=(0,l.default)(u,{name:"MuiExpansionPanelDetails"})(d);n.default=p}}},{package:"@material-ui/core"}],[6180,{"../../../../shared/constants/metametrics":5402,"../../../components/ui/button":5843,"../../../ducks/history/history":6022,"../../../selectors":6437,"../../../store/actions":6444,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("react")),r=e("react-router-dom"),o=e("redux"),s=f(e("prop-types")),i=e("react-redux"),c=h(e("../../../store/actions")),l=e("../../../selectors"),u=f(e("../../../components/ui/button")),d=e("../../../ducks/history/history"),p=e("../../../../shared/constants/metametrics");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.Component{constructor(...e){super(...e),g(this,"inputRef",a.default.createRef()),g(this,"state",{isEmpty:!0}),g(this,"createKeyringOnEnter",(e=>{"Enter"===e.key&&(e.preventDefault(),this.createNewKeychain())}))}createNewKeychain(){const e=this.inputRef.current.value,{importNewAccount:t,history:n,displayWarning:a,mostRecentOverviewPage:r,setSelectedAddress:o,firstAddress:s}=this.props,{t:i}=this.context;t("Private Key",[e]).then((({selectedAddress:e})=>{e?(this.context.trackEvent({category:p.EVENT.CATEGORIES.ACCOUNTS,event:p.EVENT_NAMES.ACCOUNT_ADDED,properties:{account_type:p.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:p.EVENT.ACCOUNT_IMPORT_TYPES.PRIVATE_KEY}}),n.push(r),a(null)):(a(i("importAccountError")),this.context.trackEvent({category:p.EVENT.CATEGORIES.ACCOUNTS,event:p.EVENT_NAMES.ACCOUNT_ADD_FAILED,properties:{account_type:p.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:p.EVENT.ACCOUNT_IMPORT_TYPES.PRIVATE_KEY}}),o(s))})).catch((e=>e&&a(e.message||e)))}checkInputEmpty(){let e=!0;""!==this.inputRef.current.value&&(e=!1),this.setState({isEmpty:e})}render(){const{error:e,displayWarning:t}=this.props;return a.default.createElement("div",{className:"new-account-import-form__private-key"},a.default.createElement("span",{className:"new-account-import-form__instruction"},this.context.t("pastePrivateKey")),a.default.createElement("div",{className:"new-account-import-form__private-key-password-container"},a.default.createElement("input",{className:"new-account-import-form__input-password",type:"password",id:"private-key-box",onKeyPress:e=>this.createKeyringOnEnter(e),onChange:()=>this.checkInputEmpty(),ref:this.inputRef,autoFocus:!0})),a.default.createElement("div",{className:"new-account-import-form__buttons"},a.default.createElement(u.default,{type:"secondary",large:!0,className:"new-account-create-form__button",onClick:()=>{const{history:e,mostRecentOverviewPage:n}=this.props;t(null),e.push(n)}},this.context.t("cancel")),a.default.createElement(u.default,{type:"primary",large:!0,className:"new-account-create-form__button",onClick:()=>this.createNewKeychain(),disabled:this.state.isEmpty},this.context.t("import"))),e?a.default.createElement("span",{className:"error"},e):null)}}g(E,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),g(E,"propTypes",{importNewAccount:s.default.func.isRequired,history:s.default.object.isRequired,displayWarning:s.default.func.isRequired,setSelectedAddress:s.default.func.isRequired,firstAddress:s.default.string.isRequired,error:s.default.node,mostRecentOverviewPage:s.default.string.isRequired});var _=(0,o.compose)(r.withRouter,(0,i.connect)((function(e){return{error:e.appState.warning,firstAddress:Object.keys((0,l.getMetaMaskAccounts)(e))[0],mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e)}}),(function(e){return{importNewAccount:(t,[n])=>e(c.importNewAccount(t,[n])),displayWarning:t=>e(c.displayWarning(t||null)),setSelectedAddress:t=>e(c.setSelectedAddress(t))}})))(E);n.default=_}}},{package:"$root$"}],[6181,{"./create-account.component":6177},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./create-account.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6182,{"../../../shared/constants/metametrics":5402,"../../components/ui/button":5843,classnames:1844,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=c(e("prop-types")),o=c(e("classnames")),s=c(e("../../components/ui/button")),i=e("../../../shared/constants/metametrics");function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.Component{constructor(...e){super(...e),u(this,"state",{newAccountName:"",defaultAccountName:this.context.t("newAccountNumberName",[this.props.newAccountNumber])})}render(){const{newAccountName:e,defaultAccountName:t}=this.state,{history:n,createAccount:r,mostRecentOverviewPage:c,accounts:l}=this.props,u=(d=e,Boolean(l.find((e=>e.name===d))));var d;return a.default.createElement("div",{className:"new-account-create-form"},a.default.createElement("div",{className:"new-account-create-form__input-label"},this.context.t("accountName")),a.default.createElement("div",null,a.default.createElement("input",{className:(0,o.default)("new-account-create-form__input",{"new-account-create-form__input__error":u}),value:e,placeholder:t,onChange:e=>this.setState({newAccountName:e.target.value}),autoFocus:!0}),u?a.default.createElement("div",{className:(0,o.default)(" new-account-create-form__error"," new-account-create-form__error-amount")},this.context.t("accountNameDuplicate")):null,a.default.createElement("div",{className:"new-account-create-form__buttons"},a.default.createElement(s.default,{type:"secondary",large:!0,className:"new-account-create-form__button",onClick:()=>n.push(c)},this.context.t("cancel")),a.default.createElement(s.default,{type:"primary",large:!0,className:"new-account-create-form__button",onClick:a=>{a.preventDefault(),r(e||t).then((()=>{this.context.trackEvent({category:i.EVENT.CATEGORIES.ACCOUNTS,event:i.EVENT_NAMES.ACCOUNT_ADDED,properties:{account_type:i.EVENT.ACCOUNT_TYPES.DEFAULT}}),n.push(c)})).catch((e=>{this.context.trackEvent({category:i.EVENT.CATEGORIES.ACCOUNTS,event:i.EVENT_NAMES.ACCOUNT_ADD_FAILED,properties:{account_type:i.EVENT.ACCOUNT_TYPES.DEFAULT,error:e.message}})}))},disabled:u},this.context.t("create")))))}}n.default=d,u(d,"defaultProps",{newAccountNumber:0}),d.propTypes={createAccount:r.default.func,newAccountNumber:r.default.number,history:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,accounts:r.default.array},d.contextTypes={t:r.default.func,trackEvent:r.default.func}}}},{package:"$root$"}],[6183,{"../../ducks/history/history":6022,"../../selectors":6437,"../../store/actions":6444,"./new-account.component":6182,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("../../store/actions")),s=e("../../ducks/history/history"),i=e("../../selectors"),c=(a=e("./new-account.component"))&&a.__esModule?a:{default:a};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var u=(0,r.connect)((e=>{const{metamask:{identities:t={}}}=e;return{newAccountNumber:Object.keys(t).length+1,mostRecentOverviewPage:(0,s.getMostRecentOverviewPage)(e),accounts:(0,i.getMetaMaskAccountsOrdered)(e)}}),(e=>({createAccount:t=>e(o.addNewAccount()).then((n=>{t&&e(o.setAccountLabel(n,t))}))})))(c.default);n.default=u}}},{package:"$root$"}],[6184,{"../../../app/scripts/lib/util":87,"../../../shared/constants/app":5397,"../../../shared/constants/metametrics":5402,"../../helpers/constants/common":6031,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../app/scripts/lib/util"),i=e("../../../shared/constants/app"),c=e("../../helpers/constants/common"),l=e("../../../shared/constants/metametrics");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.PureComponent{renderErrorDetail(e){return r.default.createElement("li",null,r.default.createElement("p",null,e))}renderErrorStack(e,t){return r.default.createElement("li",null,r.default.createElement("span",null,e),r.default.createElement("pre",{className:"error-page__stack"},t))}render(){const{error:e}=this.props,{t:t}=this.context,n=(0,s.getEnvironmentType)()===i.ENVIRONMENT_TYPE_POPUP,a=r.default.createElement("a",{target:"_blank",key:"metamaskSupportLink",rel:"noopener noreferrer",href:c.SUPPORT_REQUEST_LINK,onClick:()=>{this.context.trackEvent({category:l.EVENT.CATEGORIES.ERROR,event:l.EVENT_NAMES.SUPPORT_LINK_CLICKED,properties:{url:c.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[l.CONTEXT_PROPS.PAGE_TITLE]})}},r.default.createElement("span",{className:"error-page__link-text"},this.context.t("here"))),o=t(n?"errorPagePopupMessage":"errorPageMessage",[a]);return r.default.createElement("section",{className:"error-page"},r.default.createElement("h1",{className:"error-page__header"},t("errorPageTitle")),r.default.createElement("h2",{className:"error-page__subheader"},o),r.default.createElement("section",{className:"error-page__details"},r.default.createElement("details",null,r.default.createElement("summary",null,t("errorDetails")),r.default.createElement("ul",null,e.message?this.renderErrorDetail(t("errorMessage",[e.message])):null,e.code?this.renderErrorDetail(t("errorCode",[e.code])):null,e.name?this.renderErrorDetail(t("errorName",[e.name])):null,e.stack?this.renderErrorStack(t("errorStack"),e.stack):null))))}}d(p,"contextTypes",{t:o.default.func.isRequired,trackEvent:o.default.func}),d(p,"propTypes",{error:o.default.object.isRequired});var f=p;n.default=f}}},{package:"$root$"}],[6185,{"./error.component":6184},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./error.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6186,{"../../../components/ui/metafox-logo":5947,"../../../helpers/constants/routes":6037,"./import-with-seed-phrase":6190,"./new-account":6192,"prop-types":4875,react:5049,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=f(e("prop-types")),c=e("react-router-dom"),l=f(e("../../../components/ui/metafox-logo")),u=e("../../../helpers/constants/routes"),d=f(e("./new-account")),p=f(e("./import-with-seed-phrase"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}class g extends s.PureComponent{componentDidMount(){const{isInitialized:e,history:t}=this.props;e&&t.push(u.INITIALIZE_SEED_PHRASE_INTRO_ROUTE)}render(){const{onCreateNewAccount:e,onCreateNewAccountFromSeed:t}=this.props;return s.default.createElement("div",{className:"first-time-flow__wrapper"},s.default.createElement(l.default,null),s.default.createElement(c.Switch,null,s.default.createElement(c.Route,{exact:!0,path:u.INITIALIZE_IMPORT_WITH_SEED_PHRASE_ROUTE,render:e=>s.default.createElement(p.default,h({},e,{onSubmit:t}))}),s.default.createElement(c.Route,{exact:!0,path:u.INITIALIZE_CREATE_PASSWORD_ROUTE,render:t=>s.default.createElement(d.default,h({},t,{onSubmit:e}))})))}}n.default=g,a=g,r="propTypes",o={history:i.default.object,isInitialized:i.default.bool,onCreateNewAccount:i.default.func,onCreateNewAccountFromSeed:i.default.func},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[6187,{"./create-password.component":6186,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=(a=e("./create-password.component"))&&a.__esModule?a:{default:a};var s=(0,r.connect)((e=>{const{metamask:{isInitialized:t}}=e;return{isInitialized:t}}))(o.default);n.default=s}}},{package:"$root$"}],[6188,{"../../../../../shared/constants/metametrics":5402,"../../../../components/app/create-new-vault":5531,"../../../../helpers/constants/routes":6037,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=c(e("prop-types")),o=e("../../../../helpers/constants/routes"),s=c(e("../../../../components/app/create-new-vault")),i=e("../../../../../shared/constants/metametrics");function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),u(this,"handleImport",(async(e,t)=>{const{history:n,onSubmit:a,setSeedPhraseBackedUp:r}=this.props;await a(e,t),this.context.trackEvent({category:i.EVENT.CATEGORIES.ONBOARDING,event:i.EVENT_NAMES.WALLET_CREATED,properties:{account_type:i.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:i.EVENT.ACCOUNT_IMPORT_TYPES.SRP}}),await r(!0),n.replace(o.INITIALIZE_END_OF_FLOW_ROUTE)}))}UNSAFE_componentWillMount(){this._onBeforeUnload=()=>this.context.trackEvent({category:i.EVENT.CATEGORIES.ONBOARDING,event:i.EVENT_NAMES.WALLET_SETUP_FAILED,properties:{account_type:i.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:i.EVENT.ACCOUNT_IMPORT_TYPES.SRP,reason:"Seed Phrase Error",error:this.state.seedPhraseError}}),window.addEventListener("beforeunload",this._onBeforeUnload)}componentWillUnmount(){window.removeEventListener("beforeunload",this._onBeforeUnload)}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"first-time-flow__import"},a.default.createElement("div",{className:"first-time-flow__create-back"},a.default.createElement("a",{onClick:e=>{e.preventDefault(),this.context.trackEvent({category:i.EVENT.CATEGORIES.ONBOARDING,event:i.EVENT_NAMES.WALLET_SETUP_CANCELED,properties:{account_type:i.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:i.EVENT.ACCOUNT_IMPORT_TYPES.SRP,text:"Back"}}),this.props.history.push(o.INITIALIZE_SELECT_ACTION_ROUTE)},href:"#"},`< ${e("back")}`)),a.default.createElement("div",{className:"first-time-flow__header"},e("importAccountSeedPhrase")),a.default.createElement("div",{className:"first-time-flow__text-block"},e("secretPhrase")),a.default.createElement(s.default,{includeTerms:!0,onSubmit:this.handleImport,submitText:e("import")}))}}n.default=d,u(d,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),u(d,"propTypes",{history:r.default.object,onSubmit:r.default.func.isRequired,setSeedPhraseBackedUp:r.default.func})}}},{package:"$root$"}],[6189,{"../../../../store/actions":6444,"./import-with-seed-phrase.component":6188,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),s=(a=e("./import-with-seed-phrase.component"))&&a.__esModule?a:{default:a};var i=(0,r.connect)(null,(e=>({setSeedPhraseBackedUp:t=>e((0,o.setSeedPhraseBackedUp)(t))})))(s.default);n.default=i}}},{package:"$root$"}],[619,{"./ExpansionPanelDetails":618,"@babel/runtime/helpers/interopRequireDefault":184},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./ExpansionPanelDetails"))}}},{package:"@material-ui/core"}],[6190,{"./import-with-seed-phrase.container":6189},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./import-with-seed-phrase.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6191,{"./create-password.container":6187},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./create-password.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6192,{"./new-account.component":6193},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./new-account.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6193,{"../../../../../shared/constants/metametrics":5402,"../../../../components/ui/button":5843,"../../../../components/ui/text-field":5988,"../../../../helpers/constants/routes":6037,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../../../components/ui/button")),s=e("../../../../helpers/constants/routes"),i=l(e("../../../../components/ui/text-field")),c=e("../../../../../shared/constants/metametrics");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.PureComponent{constructor(...e){super(...e),d(this,"state",{password:"",confirmPassword:"",passwordError:"",confirmPasswordError:"",termsChecked:!1}),d(this,"handleCreate",(async e=>{if(e.preventDefault(),!this.isValid())return;const{password:t}=this.state,{onSubmit:n,history:a}=this.props;try{await n(t),this.context.trackEvent({category:c.EVENT.CATEGORIES.ONBOARDING,event:c.EVENT_NAMES.ACCOUNT_PASSWORD_CREATED,properties:{}}),a.push(s.INITIALIZE_SEED_PHRASE_INTRO_ROUTE)}catch(e){this.setState({passwordError:e.message})}})),d(this,"toggleTermsCheck",(()=>{this.setState((e=>({termsChecked:!e.termsChecked})))})),d(this,"onTermsKeyPress",(({key:e})=>{" "!==e&&"Enter"!==e||this.toggleTermsCheck()}))}isValid(){const{password:e,confirmPassword:t,passwordError:n,confirmPasswordError:a}=this.state;return!(!e||!t||e!==t)&&(!(e.length<8)&&(!n&&!a))}handlePasswordChange(e){const{t:t}=this.context;this.setState((n=>{const{confirmPassword:a}=n;let r="",o="";return e&&e.length<8&&(r=t("passwordNotLongEnough")),a&&e!==a&&(o=t("passwordsDontMatch")),{password:e,passwordError:r,confirmPasswordError:o}}))}handleConfirmPasswordChange(e){const{t:t}=this.context;this.setState((n=>{const{password:a}=n;let r="";return a!==e&&(r=t("passwordsDontMatch")),{confirmPassword:e,confirmPasswordError:r}}))}render(){const{t:e}=this.context,{password:t,confirmPassword:n,passwordError:r,confirmPasswordError:c,termsChecked:l}=this.state;return a.default.createElement("div",null,a.default.createElement("div",{className:"first-time-flow__create-back"},a.default.createElement("a",{"data-testid":"onboarding-back-button",onClick:e=>{e.preventDefault(),this.props.history.push(s.INITIALIZE_SELECT_ACTION_ROUTE)},href:"#"},`< ${e("back")}`)),a.default.createElement("div",{className:"first-time-flow__header"},e("createPassword")),a.default.createElement("form",{className:"first-time-flow__form",onSubmit:this.handleCreate},a.default.createElement(i.default,{"data-testid":"create-password",id:"create-password",label:e("newPassword"),type:"password",className:"first-time-flow__input",value:t,onChange:e=>this.handlePasswordChange(e.target.value),error:r,autoFocus:!0,autoComplete:"new-password",margin:"normal",fullWidth:!0,largeLabel:!0}),a.default.createElement(i.default,{"data-testid":"confirm-password",id:"confirm-password",label:e("confirmPassword"),type:"password",className:"first-time-flow__input",value:n,onChange:e=>this.handleConfirmPasswordChange(e.target.value),error:c,autoComplete:"confirm-password",margin:"normal",fullWidth:!0,largeLabel:!0}),a.default.createElement("div",{className:"first-time-flow__checkbox-container",onClick:this.toggleTermsCheck},a.default.createElement("div",{className:"first-time-flow__checkbox",tabIndex:"0",role:"checkbox",onKeyPress:this.onTermsKeyPress,"aria-checked":l,"aria-labelledby":"ftf-chk1-label"},l?a.default.createElement("i",{className:"fa fa-check fa-2x"}):null),a.default.createElement("span",{id:"ftf-chk1-label",className:"first-time-flow__checkbox-label"},e("acceptTermsOfUse",[a.default.createElement("a",{onClick:e=>e.stopPropagation(),key:"first-time-flow__link-text",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer"},a.default.createElement("span",{className:"first-time-flow__link-text"},e("terms")))]))),a.default.createElement(o.default,{type:"primary",className:"first-time-flow__button",disabled:!this.isValid()||!l,onClick:this.handleCreate},e("create"))))}}n.default=p,d(p,"contextTypes",{trackEvent:r.default.func,t:r.default.func}),d(p,"propTypes",{onSubmit:r.default.func.isRequired,history:r.default.object.isRequired})}}},{package:"$root$"}],[6194,{"../../../../shared/constants/metametrics":5402,"../../../components/ui/button":5843,"../../../components/ui/metafox-logo":5947,"../../../components/ui/snackbar":5978,"../../../helpers/constants/common":6031,"../../../helpers/constants/routes":6037,"../../../helpers/constants/zendesk-url":6040,"../onboarding-initiator-util":6206,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=f(e("../../../components/ui/button")),s=f(e("../../../components/ui/snackbar")),i=f(e("../../../components/ui/metafox-logo")),c=e("../../../helpers/constants/common"),l=e("../../../helpers/constants/routes"),u=e("../onboarding-initiator-util"),d=e("../../../../shared/constants/metametrics"),p=f(e("../../../helpers/constants/zendesk-url"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.PureComponent{constructor(...e){super(...e),h(this,"onComplete",(async()=>{const{history:e,onboardingInitiator:t}=this.props;this._removeBeforeUnload(),await this._onOnboardingComplete(),t&&await(0,u.returnToOnboardingInitiatorTab)(t),e.push(l.DEFAULT_ROUTE)})),h(this,"componentWillUnmount",(()=>{this._removeBeforeUnload()}))}async _beforeUnload(){await this._onOnboardingComplete()}_removeBeforeUnload(){window.removeEventListener("beforeunload",this._beforeUnload)}async _onOnboardingComplete(){const{setCompletedOnboarding:e,setOnBoardedInThisUISession:t}=this.props;t(!0),await e()}componentDidMount(){window.addEventListener("beforeunload",this._beforeUnload.bind(this))}render(){const{t:e}=this.context,{onboardingInitiator:t}=this.props;return a.default.createElement("div",{className:"end-of-flow","data-testid":"end-of-flow"},a.default.createElement(i.default,null),a.default.createElement("div",{className:"end-of-flow__emoji"},"🎉"),a.default.createElement("div",{className:"first-time-flow__header"},e("congratulations")),a.default.createElement("div",{className:"first-time-flow__text-block end-of-flow__text-1"},e("endOfFlowMessage1")),a.default.createElement("div",{className:"first-time-flow__text-block end-of-flow__text-2"},e("endOfFlowMessage2")),a.default.createElement("div",{className:"end-of-flow__text-3"},`• ${e("endOfFlowMessage3")}`),a.default.createElement("div",{className:"end-of-flow__text-3"},`• ${e("endOfFlowMessage4")}`),a.default.createElement("div",{className:"end-of-flow__text-3"},`• ${e("endOfFlowMessage5")}`),a.default.createElement("div",{className:"end-of-flow__text-3"},`• ${e("endOfFlowMessage6")}`),a.default.createElement("div",{className:"end-of-flow__text-3"},"•"," ",e("endOfFlowMessage7",[a.default.createElement("a",{target:"_blank",key:"metamaskSupportLink",rel:"noopener noreferrer",href:c.SUPPORT_REQUEST_LINK,onClick:()=>{this.context.trackEvent({category:d.EVENT.CATEGORIES.ONBOARDING,event:d.EVENT_NAMES.SUPPORT_LINK_CLICKED,properties:{url:c.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[d.CONTEXT_PROPS.PAGE_TITLE]})}},a.default.createElement("span",{className:"first-time-flow__link-text"},this.context.t("here")))])),a.default.createElement("div",{className:"first-time-flow__text-block end-of-flow__text-4"},`*${e("endOfFlowMessage8")}`," ",a.default.createElement("a",{href:p.default.BASIC_SAFETY,target:"_blank",rel:"noopener noreferrer"},a.default.createElement("span",{className:"first-time-flow__link-text"},e("endOfFlowMessage9")))),a.default.createElement(o.default,{type:"primary",className:"first-time-flow__button",onClick:this.onComplete,"data-testid":"EOF-complete-button"},e("endOfFlowMessage10")),t?a.default.createElement(s.default,{content:e("onboardingReturnNotice",[e("endOfFlowMessage10"),t.location])}):null)}}n.default=g,h(g,"contextTypes",{t:r.default.func,trackEvent:r.default.func,setOnBoardedInThisUISession:r.default.func}),h(g,"propTypes",{history:r.default.object,setCompletedOnboarding:r.default.func,onboardingInitiator:r.default.exact({location:r.default.string,tabId:r.default.number}),setOnBoardedInThisUISession:r.default.func})}}},{package:"$root$"}],[6195,{"../../../ducks/app/app":6017,"../../../selectors":6437,"../../../store/actions":6444,"./end-of-flow.component":6194,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../selectors"),s=e("../../../store/actions"),i=e("../../../ducks/app/app"),c=(a=e("./end-of-flow.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((e=>({onboardingInitiator:(0,o.getOnboardingInitiator)(e)})),(e=>({setCompletedOnboarding:()=>e((0,s.setCompletedOnboarding)()),setOnBoardedInThisUISession:t=>e((0,i.setOnBoardedInThisUISession)(t))})))(c.default);n.default=l}}},{package:"$root$"}],[6196,{"./end-of-flow.container":6195},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./end-of-flow.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6197,{"../../../helpers/constants/routes":6037,"prop-types":4875,react:5049,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("../../../helpers/constants/routes");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}class l extends r.PureComponent{render(){const{completedOnboarding:e,isInitialized:t,isUnlocked:n,seedPhraseBackedUp:a}=this.props;if(e)return r.default.createElement(s.Redirect,{to:{pathname:i.DEFAULT_ROUTE}});if(null!==a)return r.default.createElement(s.Redirect,{to:{pathname:i.INITIALIZE_END_OF_FLOW_ROUTE}});if(n)return r.default.createElement(s.Redirect,{to:{pathname:i.LOCK_ROUTE}});if(!t){let e;return e=r.default.createElement(s.Redirect,{to:{pathname:i.INITIALIZE_WELCOME_ROUTE}}),e}return r.default.createElement(s.Redirect,{to:{pathname:i.INITIALIZE_UNLOCK_ROUTE}})}}n.default=l,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(l,"propTypes",{completedOnboarding:o.default.bool,isInitialized:o.default.bool,isUnlocked:o.default.bool,seedPhraseBackedUp:o.default.bool})}}},{package:"$root$"}],[6198,{"./first-time-flow-switch.component":6197,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=(a=e("./first-time-flow-switch.component"))&&a.__esModule?a:{default:a};var s=(0,r.connect)((({metamask:e})=>{const{completedOnboarding:t,isInitialized:n,isUnlocked:a,seedPhraseBackedUp:r}=e;return{completedOnboarding:t,isInitialized:n,isUnlocked:a,seedPhraseBackedUp:r}}))(o.default);n.default=s}}},{package:"$root$"}],[6199,{"./first-time-flow-switch.container":6198},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./first-time-flow-switch.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[620,{"../ButtonBase":570,"../ExpansionPanel/ExpansionPanelContext":614,"../IconButton":658,"../styles/withStyles":870,"@babel/runtime/helpers/extends":180,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@babel/runtime/helpers/objectWithoutProperties":192,clsx:1846,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),c=(r(e("prop-types")),r(e("clsx"))),l=r(e("../ButtonBase")),u=r(e("../IconButton")),d=r(e("../styles/withStyles")),p=r(e("../ExpansionPanel/ExpansionPanelContext")),f=function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}};n.styles=f;var m=i.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,d=e.expandIcon,f=e.IconButtonProps,m=e.onBlur,h=e.onClick,g=e.onFocusVisible,E=(0,s.default)(e,["children","classes","className","expandIcon","IconButtonProps","onBlur","onClick","onFocusVisible"]),_=i.useState(!1),y=_[0],v=_[1],b=i.useContext(p.default),T=b.disabled,k=void 0!==T&&T,N=b.expanded,w=b.toggle;return i.createElement(l.default,(0,o.default)({focusRipple:!1,disableRipple:!0,disabled:k,component:"div","aria-expanded":N,className:(0,c.default)(a.root,r,k&&a.disabled,N&&a.expanded,y&&a.focused),onFocusVisible:function(e){v(!0),g&&g(e)},onBlur:function(e){v(!1),m&&m(e)},onClick:function(e){w&&w(e),h&&h(e)},ref:t},E),i.createElement("div",{className:(0,c.default)(a.content,N&&a.expanded)},n),d&&i.createElement(u.default,(0,o.default)({className:(0,c.default)(a.expandIcon,N&&a.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},f),d))})),h=(0,d.default)(f,{name:"MuiExpansionPanelSummary"})(m);n.default=h}}},{package:"@material-ui/core"}],[6200,{"../../helpers/constants/routes":6037,"../unlock-page":6431,"./create-password":6191,"./end-of-flow":6196,"./first-time-flow-switch":6199,"./metametrics-opt-in":6203,"./seed-phrase":6211,"./select-action":6218,"./welcome":6222,"prop-types":4875,react:5049,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=h(e("prop-types")),o=e("react-router-dom"),s=h(e("../unlock-page")),i=e("../../helpers/constants/routes"),c=h(e("./first-time-flow-switch")),l=h(e("./welcome")),u=h(e("./select-action")),d=h(e("./end-of-flow")),p=h(e("./create-password")),f=h(e("./seed-phrase")),m=h(e("./metametrics-opt-in"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(this,arguments)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.PureComponent{constructor(...e){super(...e),_(this,"state",{seedPhrase:""}),_(this,"handleCreateNewAccount",(async e=>{const{createNewAccount:t}=this.props;try{const n=await t(e);this.setState({seedPhrase:n})}catch(e){throw new Error(e.message)}})),_(this,"handleImportWithSeedPhrase",(async(e,t)=>{const{createNewAccountFromSeed:n}=this.props;try{return await n(e,t)}catch(e){throw new Error(e.message)}})),_(this,"handleUnlock",(async e=>{const{unlockAccount:t,history:n,nextRoute:a}=this.props;try{const r=await t(e);this.setState({seedPhrase:r},(()=>{n.push(a)}))}catch(e){throw new Error(e.message)}}))}componentDidMount(){const{completedOnboarding:e,history:t,isInitialized:n,isUnlocked:a,showingSeedPhraseBackupAfterOnboarding:r,seedPhraseBackedUp:o}=this.props;!e||r&&!o?n&&!a&&t.push(i.INITIALIZE_UNLOCK_ROUTE):t.push(i.DEFAULT_ROUTE)}render(){const{seedPhrase:e}=this.state,{verifySeedPhrase:t}=this.props;return a.default.createElement("div",{className:"first-time-flow"},a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{path:i.INITIALIZE_SEED_PHRASE_ROUTE,render:n=>a.default.createElement(f.default,E({},n,{seedPhrase:e,verifySeedPhrase:t}))}),a.default.createElement(o.Route,{path:i.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE,render:n=>a.default.createElement(f.default,E({},n,{seedPhrase:e,verifySeedPhrase:t}))}),a.default.createElement(o.Route,{path:i.INITIALIZE_SEED_PHRASE_INTRO_ROUTE,render:n=>a.default.createElement(f.default,E({},n,{seedPhrase:e,verifySeedPhrase:t}))}),a.default.createElement(o.Route,{path:i.INITIALIZE_CREATE_PASSWORD_ROUTE,render:e=>a.default.createElement(p.default,E({},e,{onCreateNewAccount:this.handleCreateNewAccount,onCreateNewAccountFromSeed:this.handleImportWithSeedPhrase}))}),a.default.createElement(o.Route,{path:i.INITIALIZE_SELECT_ACTION_ROUTE,component:u.default}),a.default.createElement(o.Route,{path:i.INITIALIZE_UNLOCK_ROUTE,render:e=>a.default.createElement(s.default,E({},e,{onSubmit:this.handleUnlock}))}),a.default.createElement(o.Route,{exact:!0,path:i.INITIALIZE_END_OF_FLOW_ROUTE,component:d.default}),a.default.createElement(o.Route,{exact:!0,path:i.INITIALIZE_WELCOME_ROUTE,component:l.default}),a.default.createElement(o.Route,{exact:!0,path:i.INITIALIZE_METAMETRICS_OPT_IN_ROUTE,component:m.default}),a.default.createElement(o.Route,{exact:!0,path:"*",component:c.default})))}}n.default=y,_(y,"propTypes",{completedOnboarding:r.default.bool,createNewAccount:r.default.func,createNewAccountFromSeed:r.default.func,history:r.default.object,isInitialized:r.default.bool,isUnlocked:r.default.bool,unlockAccount:r.default.func,nextRoute:r.default.string,showingSeedPhraseBackupAfterOnboarding:r.default.bool,seedPhraseBackedUp:r.default.bool,verifySeedPhrase:r.default.func})}}},{package:"$root$"}],[6201,{"../../helpers/constants/routes":6037,"../../selectors":6437,"../../store/actions":6444,"./first-time-flow.component":6200,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../selectors"),s=e("../../store/actions"),i=e("../../helpers/constants/routes"),c=(a=e("./first-time-flow.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)(((e,t)=>{const{metamask:{completedOnboarding:n,isInitialized:a,isUnlocked:r,seedPhraseBackedUp:s}}=e,c=Boolean(t.location.pathname.match(i.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE));return{completedOnboarding:n,isInitialized:a,isUnlocked:r,nextRoute:(0,o.getFirstTimeFlowTypeRoute)(e),showingSeedPhraseBackupAfterOnboarding:c,seedPhraseBackedUp:s}}),(e=>({createNewAccount:t=>e((0,s.createNewVaultAndGetSeedPhrase)(t)),createNewAccountFromSeed:(t,n)=>e((0,s.createNewVaultAndRestore)(t,n)),unlockAccount:t=>e((0,s.unlockAndGetSeedPhrase)(t)),verifySeedPhrase:()=>(0,s.verifySeedPhrase)()})))(c.default);n.default=l}}},{package:"$root$"}],[6202,{"./first-time-flow.container":6201},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./first-time-flow.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6203,{"./metametrics-opt-in.container":6205},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./metametrics-opt-in.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6204,{"../../../../shared/constants/metametrics":5402,"../../../components/ui/metafox-logo":5947,"../../../components/ui/page-container/page-container-footer":5956,"../../../helpers/constants/routes":6037,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../../components/ui/metafox-logo")),s=l(e("../../../components/ui/page-container/page-container-footer")),i=e("../../../../shared/constants/metametrics"),c=e("../../../helpers/constants/routes");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Component{render(){const{trackEvent:e,t:t}=this.context,{history:n,setParticipateInMetaMetrics:r,participateInMetaMetrics:l}=this.props;return a.default.createElement("div",{className:"metametrics-opt-in"},a.default.createElement("div",{className:"metametrics-opt-in__main"},a.default.createElement(o.default,null),a.default.createElement("div",{className:"metametrics-opt-in__body-graphic"},a.default.createElement("img",{src:"images/metrics-chart.svg",alt:""})),a.default.createElement("div",{className:"metametrics-opt-in__title"},t("metametricsHelpImproveMetaMask")),a.default.createElement("div",{className:"metametrics-opt-in__body"},a.default.createElement("div",{className:"metametrics-opt-in__description"},t("metametricsOptInDescription")),a.default.createElement("div",{className:"metametrics-opt-in__description"},t("metametricsCommitmentsIntro")),a.default.createElement("div",{className:"metametrics-opt-in__committments"},a.default.createElement("div",{className:"metametrics-opt-in__row"},a.default.createElement("i",{className:"fa fa-check"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsAllowOptOut"))),a.default.createElement("div",{className:"metametrics-opt-in__row"},a.default.createElement("i",{className:"fa fa-check"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsSendAnonymizedEvents"))),a.default.createElement("div",{className:"metametrics-opt-in__row metametrics-opt-in__break-row"},a.default.createElement("i",{className:"fa fa-times"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsNeverCollectKeysEtc",[a.default.createElement("span",{className:"metametrics-opt-in__bold",key:"neverCollectKeys"},t("metametricsCommitmentsBoldNever"))]))),a.default.createElement("div",{className:"metametrics-opt-in__row"},a.default.createElement("i",{className:"fa fa-times"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsNeverCollectIP",[a.default.createElement("span",{className:"metametrics-opt-in__bold",key:"neverCollectIP"},t("metametricsCommitmentsBoldNever"))]))),a.default.createElement("div",{className:"metametrics-opt-in__row"},a.default.createElement("i",{className:"fa fa-times"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsNeverSellDataForProfit",[a.default.createElement("span",{className:"metametrics-opt-in__bold",key:"neverSellData"},t("metametricsCommitmentsBoldNever"))]))))),a.default.createElement("div",{className:"metametrics-opt-in__footer"},a.default.createElement(s.default,{onCancel:async()=>{await r(!1),n.push(c.INITIALIZE_SELECT_ACTION_ROUTE)},cancelText:t("noThanks"),hideCancel:!1,onSubmit:async()=>{await r(!0);try{null!==l&&!1!==l||await e({category:i.EVENT.CATEGORIES.ONBOARDING,event:i.EVENT_NAMES.METRICS_OPT_IN,properties:{action:"Metrics Option",legacy_event:!0}},{isOptIn:!0,flushImmediately:!0})}finally{n.push(c.INITIALIZE_SELECT_ACTION_ROUTE)}},submitText:t("affirmAgree"),disabled:!1}),a.default.createElement("div",{className:"metametrics-opt-in__bottom-text"},t("gdprMessage",[a.default.createElement("a",{key:"metametrics-bottom-text-wrapper",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer"},t("gdprMessagePrivacyPolicy"))])))))}}n.default=p,d(p,"propTypes",{history:r.default.object,setParticipateInMetaMetrics:r.default.func,participateInMetaMetrics:r.default.bool}),d(p,"contextTypes",{trackEvent:r.default.func,t:r.default.func})}}},{package:"$root$"}],[6205,{"../../../store/actions":6444,"./metametrics-opt-in.component":6204,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../store/actions"),s=(a=e("./metametrics-opt-in.component"))&&a.__esModule?a:{default:a};const i={create:"Selected Create New Wallet",import:"Selected Import Wallet"};var c=(0,r.connect)((e=>{const{firstTimeFlowType:t,participateInMetaMetrics:n}=e.metamask;return{firstTimeSelectionMetaMetricsName:i[t],participateInMetaMetrics:n}}),(e=>({setParticipateInMetaMetrics:t=>e((0,o.setParticipateInMetaMetrics)(t))})))(s.default);n.default=c}}},{package:"$root$"}],[6206,{loglevel:4778,"webextension-polyfill":5375},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.returnToOnboardingInitiatorTab=void 0;var a=o(e("webextension-polyfill")),r=o(e("loglevel"));function o(e){return e&&e.__esModule?e:{default:e}}n.returnToOnboardingInitiatorTab=async e=>{let t;try{t=await a.default.tabs.update(e.id,{active:!0})}catch(e){r.default.debug(`An error occurred while updating tabs in returnToOnboardingInitiatorTab: ${e.message}`)}t?window.close():(r.default.warn("Setting current tab to onboarding initiator has failed; falling back to redirect"),window.location.assign(e.location))}}}},{package:"$root$"}],[6207,{"../../../../../shared/constants/metametrics":5402,"../../../../components/ui/button":5843,"../../../../helpers/constants/routes":6037,"../../../../helpers/utils/export-utils":6054,"./draggable-seed.component":6209,classnames:1844,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),s=d(e("../../../../components/ui/button")),i=e("../../../../helpers/constants/routes"),c=e("../../../../../shared/constants/metametrics"),l=e("../../../../helpers/utils/export-utils"),u=d(e("./draggable-seed.component"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=Array(12).fill(null);class h extends a.PureComponent{constructor(...e){super(...e),f(this,"state",{selectedSeedIndices:[],sortedSeedWords:[],pendingSeedIndices:[],draggingSeedIndex:-1,hoveringIndex:-1}),f(this,"setDraggingSeedIndex",(e=>this.setState({draggingSeedIndex:e}))),f(this,"setHoveringIndex",(e=>this.setState({hoveringIndex:e}))),f(this,"onDrop",(e=>{const{selectedSeedIndices:t,draggingSeedIndex:n}=this.state,a=g(t,n,e,!0);this.setState({selectedSeedIndices:a,pendingSeedIndices:a,draggingSeedIndex:-1,hoveringIndex:-1})})),f(this,"handleExport",(()=>{(0,l.exportAsFile)("",this.props.seedPhrase,"text/plain")})),f(this,"handleSubmit",(async()=>{const{history:e,setSeedPhraseBackedUp:t}=this.props;if(this.isValid())try{t(!0).then((async()=>{this.context.trackEvent({category:c.EVENT.CATEGORIES.ONBOARDING,event:c.EVENT_NAMES.WALLET_CREATED,properties:{account_type:c.EVENT.ACCOUNT_TYPES.DEFAULT,is_backup_skipped:!1}}),e.replace(i.INITIALIZE_END_OF_FLOW_ROUTE)}))}catch(e){console.error(e.message),this.context.trackEvent({category:c.EVENT.CATEGORIES.ONBOARDING,event:c.EVENT_NAMES.WALLET_SETUP_FAILED,properties:{account_type:c.EVENT.ACCOUNT_TYPES.DEFAULT,is_backup_skipped:!1,reason:"Seed Phrase Creation Error",error:e.message}})}})),f(this,"handleSelectSeedWord",(e=>{this.setState({selectedSeedIndices:[...this.state.selectedSeedIndices,e],pendingSeedIndices:[...this.state.pendingSeedIndices,e]})})),f(this,"handleDeselectSeedWord",(e=>{this.setState({selectedSeedIndices:this.state.selectedSeedIndices.filter((t=>e!==t)),pendingSeedIndices:this.state.pendingSeedIndices.filter((t=>e!==t))})}))}componentDidMount(){const{seedPhrase:e=""}=this.props,t=(e.split(" ")||[]).sort();this.setState({sortedSeedWords:t})}isValid(){const{seedPhrase:e}=this.props,{selectedSeedIndices:t,sortedSeedWords:n}=this.state;return e===t.map((e=>n[e])).join(" ")}render(){const{t:e}=this.context,{history:t}=this.props,{selectedSeedIndices:n,sortedSeedWords:r,draggingSeedIndex:c}=this.state;return a.default.createElement("div",{className:"confirm-seed-phrase","data-testid":"confirm-seed-phrase"},a.default.createElement("div",{className:"confirm-seed-phrase__back-button"},a.default.createElement("a",{onClick:e=>{e.preventDefault(),t.push(i.INITIALIZE_SEED_PHRASE_ROUTE)},href:"#"},`< ${e("back")}`)),a.default.createElement("div",{className:"first-time-flow__header"},e("confirmSecretBackupPhrase")),a.default.createElement("div",{className:"first-time-flow__text-block"},e("selectEachPhrase")),a.default.createElement("div",{className:(0,o.default)("confirm-seed-phrase__selected-seed-words",{"confirm-seed-phrase__selected-seed-words--dragging":c>-1})},this.renderPendingSeeds(),this.renderSelectedSeeds()),a.default.createElement("div",{className:"confirm-seed-phrase__sorted-seed-words","data-testid":"seed-phrase-sorted"},r.map(((e,t)=>{const r=n.includes(t);return a.default.createElement(u.default,{key:t,seedIndex:t,index:t,setHoveringIndex:this.setHoveringIndex,onDrop:this.onDrop,className:"confirm-seed-phrase__seed-word--sorted",selected:r,onClick:()=>{r?this.handleDeselectSeedWord(t):this.handleSelectSeedWord(t)},word:e})}))),a.default.createElement(s.default,{type:"primary",className:"first-time-flow__button",onClick:this.handleSubmit,disabled:!this.isValid()},e("confirm")))}renderSelectedSeeds(){const{sortedSeedWords:e,selectedSeedIndices:t,draggingSeedIndex:n}=this.state;return m.map(((r,o)=>{const s=t[o],i=e[s];return a.default.createElement(u.default,{key:`selected-${s}-${o}`,className:"confirm-seed-phrase__selected-seed-words__selected-seed",index:o,seedIndex:s,word:i,draggingSeedIndex:n,setDraggingSeedIndex:this.setDraggingSeedIndex,setHoveringIndex:this.setHoveringIndex,onDrop:this.onDrop,draggable:!0})}))}renderPendingSeeds(){const{pendingSeedIndices:e,sortedSeedWords:t,draggingSeedIndex:n,hoveringIndex:r}=this.state,s=g(e,n,r);return m.map(((e,i)=>{const c=s[i],l=t[c];return a.default.createElement(u.default,{key:`pending-${c}-${i}`,index:i,className:(0,o.default)("confirm-seed-phrase__selected-seed-words__pending-seed",{"confirm-seed-phrase__seed-word--hidden":n===c&&i!==r}),seedIndex:c,word:l,draggingSeedIndex:n,setDraggingSeedIndex:this.setDraggingSeedIndex,setHoveringIndex:this.setHoveringIndex,onDrop:this.onDrop,droppable:Boolean(l)})}))}}function g(e,t,n,a){let r=[...e];return"number"==typeof e[n]&&(r=[...e.slice(0,n),t,...e.slice(n)]),a&&(r=r.filter(((e,a)=>e!==t||a===n))),r}n.default=h,f(h,"contextTypes",{trackEvent:r.default.func,t:r.default.func}),f(h,"defaultProps",{seedPhrase:""}),f(h,"propTypes",{history:r.default.object,seedPhrase:r.default.string,setSeedPhraseBackedUp:r.default.func})}}},{package:"$root$"}],[6208,{"../../../../store/actions":6444,"./confirm-seed-phrase.component":6207,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),s=(a=e("./confirm-seed-phrase.component"))&&a.__esModule?a:{default:a};var i=(0,r.connect)(null,(e=>({setSeedPhraseBackedUp:t=>e((0,o.setSeedPhraseBackedUp)(t))})))(s.default);n.default=i}}},{package:"$root$"}],[6209,{classnames:1844,"prop-types":4875,react:5049,"react-dnd":4944},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("prop-types")),o=i(e("classnames")),s=e("react-dnd");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{UNSAFE_componentWillReceiveProps(e){const{isOver:t,setHoveringIndex:n}=this.props;t&&!e.isOver&&n(-1)}render(){const{connectDragSource:e,connectDropTarget:t,isDragging:n,index:r,word:s,selected:i,className:c,onClick:l,isOver:u,canDrop:d}=this.props;return t(e(a.default.createElement("div",{key:r,className:(0,o.default)("btn-secondary notranslate confirm-seed-phrase__seed-word",c,{"confirm-seed-phrase__seed-word--selected btn-primary":i,"confirm-seed-phrase__seed-word--dragging":n,"confirm-seed-phrase__seed-word--empty":!s,"confirm-seed-phrase__seed-word--active-drop":!u&&d,"confirm-seed-phrase__seed-word--drop-hover":u&&d}),onClick:l,"data-testid":`draggable-seed-${i?"selected-":""}${s}`},s)))}}l(u,"propTypes",{connectDragSource:r.default.func.isRequired,connectDropTarget:r.default.func.isRequired,isDragging:r.default.bool,isOver:r.default.bool,canDrop:r.default.bool,onClick:r.default.func,setHoveringIndex:r.default.func.isRequired,index:r.default.number,word:r.default.string,className:r.default.string,selected:r.default.bool}),l(u,"defaultProps",{className:"",onClick:undefined});const d="SEEDWORD",p={beginDrag:e=>(setTimeout((()=>e.setDraggingSeedIndex(e.seedIndex)),0),{seedIndex:e.seedIndex,word:e.word}),canDrag:e=>e.draggable,endDrag(e,t){const n=t.getDropResult();n?e.onDrop(n.targetIndex):setTimeout((()=>e.setDraggingSeedIndex(-1)),0)}},f={drop:e=>({targetIndex:e.index}),canDrop:e=>e.droppable,hover(e){e.setHoveringIndex(e.index)}};var m=(0,s.DropTarget)(d,f,((e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()})))((0,s.DragSource)(d,p,((e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()})))(u));n.default=m}}},{package:"$root$"}],[621,{"./ExpansionPanelSummary":620,"@babel/runtime/helpers/interopRequireDefault":184},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./ExpansionPanelSummary"))}}},{package:"@material-ui/core"}],[6210,{"./confirm-seed-phrase.container":6208},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-seed-phrase.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6211,{"./seed-phrase.component":6217},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./seed-phrase.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6212,{"./reveal-seed-phrase.container":6214},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./reveal-seed-phrase.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6213,{"../../../../../shared/constants/metametrics":5402,"../../../../components/ui/box":5839,"../../../../components/ui/button":5843,"../../../../components/ui/lock-icon":5930,"../../../../components/ui/snackbar":5978,"../../../../helpers/constants/routes":6037,"../../../../helpers/utils/export-utils":6054,"../../onboarding-initiator-util":6206,classnames:1844,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=m(e("classnames")),s=m(e("../../../../components/ui/box")),i=m(e("../../../../components/ui/lock-icon")),c=m(e("../../../../components/ui/button")),l=m(e("../../../../components/ui/snackbar")),u=e("../../../../helpers/constants/routes"),d=e("../../../../../shared/constants/metametrics"),p=e("../../onboarding-initiator-util"),f=e("../../../../helpers/utils/export-utils");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.PureComponent{constructor(...e){super(...e),g(this,"state",{isShowingSeedPhrase:!1}),g(this,"handleExport",(()=>{(0,f.exportAsFile)("",this.props.seedPhrase,"text/plain")})),g(this,"handleNext",(()=>{const{isShowingSeedPhrase:e}=this.state,{history:t}=this.props;this.context.trackEvent({category:d.EVENT.CATEGORIES.ONBOARDING,event:d.EVENT_NAMES.SRP_TO_CONFIRM_BACKUP,properties:{}}),e&&t.replace(u.INITIALIZE_CONFIRM_SEED_PHRASE_ROUTE)})),g(this,"handleSkip",(async()=>{const{history:e,setSeedPhraseBackedUp:t,setCompletedOnboarding:n,onboardingInitiator:a}=this.props;await Promise.all([n(),t(!1)]).then((()=>{this.context.trackEvent({category:d.EVENT.CATEGORIES.ONBOARDING,event:d.EVENT_NAMES.WALLET_CREATED,properties:{account_type:d.EVENT.ACCOUNT_TYPES.DEFAULT,is_backup_skipped:!0}})})).catch((e=>{console.error(e.message),this.context.trackEvent({category:d.EVENT.CATEGORIES.ONBOARDING,event:d.EVENT_NAMES.WALLET_SETUP_FAILED,properties:{account_type:d.EVENT.ACCOUNT_TYPES.DEFAULT,is_backup_skipped:!0,reason:"Seed Phrase Creation Error",error:e.message}})})),a&&await(0,p.returnToOnboardingInitiatorTab)(a),e.replace(u.DEFAULT_ROUTE)}))}renderSecretWordsContainer(){const{t:e}=this.context,{seedPhrase:t}=this.props,{isShowingSeedPhrase:n}=this.state;return a.default.createElement("div",{className:"reveal-seed-phrase__secret"},a.default.createElement("div",{className:(0,o.default)("reveal-seed-phrase__secret-words notranslate",{"reveal-seed-phrase__secret-words--hidden":!n}),"data-testid":n?"showing-seed-phrase":"hidden-seed-phrase"},t),!n&&a.default.createElement("div",{className:"reveal-seed-phrase__secret-blocker","data-testid":"reveal-seed-blocker",onClick:()=>{this.context.trackEvent({category:d.EVENT.CATEGORIES.ONBOARDING,event:d.EVENT_NAMES.KEY_EXPORT_REVEALED,properties:{}}),this.setState({isShowingSeedPhrase:!0})}},a.default.createElement(i.default,{width:"28px",height:"35px",fill:"var(--color-overlay-inverse)"}),a.default.createElement("div",{className:"reveal-seed-phrase__reveal-button"},e("clickToRevealSeed"))))}render(){const{t:e}=this.context,{isShowingSeedPhrase:t}=this.state,{history:n,onboardingInitiator:r}=this.props;return a.default.createElement("div",{className:"reveal-seed-phrase","data-testid":"reveal-seed-phrase"},a.default.createElement("div",{className:"seed-phrase__sections"},a.default.createElement("div",{className:"seed-phrase__main"},a.default.createElement(s.default,{marginBottom:4},a.default.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),n.push(u.INITIALIZE_SEED_PHRASE_INTRO_ROUTE)}},`< ${e("back")}`)),a.default.createElement("div",{className:"first-time-flow__header"},e("secretRecoveryPhrase")),a.default.createElement("div",{className:"first-time-flow__text-block"},e("secretBackupPhraseDescription")),a.default.createElement("div",{className:"first-time-flow__text-block"},e("secretBackupPhraseWarning")),this.renderSecretWordsContainer()),a.default.createElement("div",{className:"seed-phrase__side"},a.default.createElement("div",{className:"first-time-flow__text-block"},`${e("tips")}:`),a.default.createElement("div",{className:"first-time-flow__text-block"},e("storePhrase")),a.default.createElement("div",{className:"first-time-flow__text-block"},e("writePhrase")),a.default.createElement("div",{className:"first-time-flow__text-block"},e("memorizePhrase")),a.default.createElement("div",{className:"first-time-flow__text-block"},a.default.createElement("a",{className:"reveal-seed-phrase__export-text",onClick:this.handleExport},e("downloadSecretBackup"))))),a.default.createElement("div",{className:"reveal-seed-phrase__buttons"},a.default.createElement(c.default,{type:"secondary",className:"first-time-flow__button",onClick:this.handleSkip},e("remindMeLater")),a.default.createElement(c.default,{type:"primary",className:"first-time-flow__button",onClick:this.handleNext,disabled:!t},e("next"))),r?a.default.createElement(l.default,{content:e("onboardingReturnNotice",[e("remindMeLater"),r.location])}):null)}}n.default=E,g(E,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),g(E,"propTypes",{history:r.default.object,seedPhrase:r.default.string,setSeedPhraseBackedUp:r.default.func,setCompletedOnboarding:r.default.func,onboardingInitiator:r.default.exact({location:r.default.string,tabId:r.default.number})})}}},{package:"$root$"}],[6214,{"../../../../selectors":6437,"../../../../store/actions":6444,"./reveal-seed-phrase.component":6213,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),s=e("../../../../selectors"),i=(a=e("./reveal-seed-phrase.component"))&&a.__esModule?a:{default:a};var c=(0,r.connect)((e=>({onboardingInitiator:(0,s.getOnboardingInitiator)(e)})),(e=>({setSeedPhraseBackedUp:t=>e((0,o.setSeedPhraseBackedUp)(t)),setCompletedOnboarding:()=>e((0,o.setCompletedOnboarding)())})))(i.default);n.default=c}}},{package:"$root$"}],[6215,{"./seed-phrase-intro.component":6216},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./seed-phrase-intro.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6216,{"../../../../components/ui/box":5839,"../../../../components/ui/button":5843,"../../../../components/ui/typography":6002,"../../../../helpers/constants/design-system":6033,"../../../../helpers/constants/routes":6037,"../../../../hooks/useI18nContext":6091,react:5049,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useI18nContext)(),t=(0,r.useHistory)(),n={en:"English",es:"Spanish",hi:"Hindi",id:"Indonesian",ja:"Japanese",ko:"Korean",pt:"Portuguese",ru:"Russian",tl:"Tagalog",vi:"Vietnamese",de:"German",el:"Greek",fr:"French",tr:"Turkish",zh:"Chinese - China"};return a.default.createElement("div",{className:"seed-phrase-intro","data-testid":"seed-phrase-intro"},a.default.createElement("div",{className:"seed-phrase-intro__sections"},a.default.createElement("div",{className:"seed-phrase-intro__left"},a.default.createElement(c.default,{color:l.COLORS.TEXT_DEFAULT,variant:l.TYPOGRAPHY.H1,boxProps:{marginTop:0,marginBottom:4}},e("seedPhraseIntroTitle")),a.default.createElement(c.default,{color:l.COLORS.TEXT_DEFAULT,boxProps:{marginBottom:4},variant:l.TYPOGRAPHY.Paragraph,className:"seed-phrase-intro__copy"},e("seedPhraseIntroTitleCopy")),a.default.createElement(s.default,{marginBottom:4},a.default.createElement("video",{controls:!0},a.default.createElement("source",{type:"video/webm",src:"./images/videos/recovery-onboarding/video.webm"}),Object.keys(n).map((e=>a.default.createElement("track",{default:!0,srcLang:e,label:n[e],key:`${e}-subtitles`,kind:"subtitles",src:`./images/videos/recovery-onboarding/subtitles/${e}.vtt`}))))),a.default.createElement(s.default,{width:l.BLOCK_SIZES.ONE_THIRD},a.default.createElement(i.default,{type:"primary",onClick:()=>{t.push(u.INITIALIZE_SEED_PHRASE_ROUTE)}},e("next")))),a.default.createElement("div",{className:"seed-phrase-intro__right"},a.default.createElement(s.default,{padding:4,borderWidth:1,borderRadius:l.SIZES.MD,borderColor:l.COLORS.BORDER_MUTED,borderStyle:l.BORDER_STYLE.SOLID},a.default.createElement(s.default,{marginBottom:4},a.default.createElement(c.default,{as:"span",color:l.COLORS.TEXT_DEFAULT,fontWeight:l.FONT_WEIGHT.BOLD,boxProps:{display:"block"}},e("seedPhraseIntroSidebarTitleOne")),a.default.createElement("span",null,e("seedPhraseIntroSidebarCopyOne"))),a.default.createElement(s.default,{marginBottom:4},a.default.createElement(c.default,{as:"span",color:l.COLORS.TEXT_DEFAULT,fontWeight:l.FONT_WEIGHT.BOLD,boxProps:{display:"block"}},e("seedPhraseIntroSidebarTitleTwo")),a.default.createElement("ul",{className:"seed-phrase-intro__sidebar_list"},a.default.createElement("li",null,e("seedPhraseIntroSidebarBulletOne")),a.default.createElement("li",null,e("seedPhraseIntroSidebarBulletTwo")),a.default.createElement("li",null,e("seedPhraseIntroSidebarBulletThree")),a.default.createElement("li",null,e("seedPhraseIntroSidebarBulletFour")))),a.default.createElement(s.default,{marginBottom:4},a.default.createElement(c.default,{as:"span",color:l.COLORS.TEXT_DEFAULT,fontWeight:l.FONT_WEIGHT.BOLD,boxProps:{display:"block"}},e("seedPhraseIntroSidebarTitleThree")),a.default.createElement("span",null,e("seedPhraseIntroSidebarCopyTwo"))),a.default.createElement(s.default,{marginBottom:4},a.default.createElement("span",null,e("seedPhraseIntroSidebarCopyThree")))))))};var a=d(e("react")),r=e("react-router-dom"),o=e("../../../../hooks/useI18nContext"),s=d(e("../../../../components/ui/box")),i=d(e("../../../../components/ui/button")),c=d(e("../../../../components/ui/typography")),l=e("../../../../helpers/constants/design-system"),u=e("../../../../helpers/constants/routes");function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$"}],[6217,{"../../../components/ui/metafox-logo":5947,"../../../helpers/constants/routes":6037,"./confirm-seed-phrase":6210,"./reveal-seed-phrase":6212,"./seed-phrase-intro":6215,"prop-types":4875,react:5049,"react-dnd":4944,"react-dnd-html5-backend":4930,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=e("react-router-dom"),s=f(e("react-dnd-html5-backend")),i=e("react-dnd"),c=e("../../../helpers/constants/routes"),l=f(e("../../../components/ui/metafox-logo")),u=f(e("./confirm-seed-phrase")),d=f(e("./reveal-seed-phrase")),p=f(e("./seed-phrase-intro"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.PureComponent{constructor(...e){super(...e),g(this,"state",{verifiedSeedPhrase:""})}componentDidMount(){const{seedPhrase:e,history:t,verifySeedPhrase:n}=this.props;e||n().then((e=>{e?this.setState({verifiedSeedPhrase:e}):t.push(c.DEFAULT_ROUTE)}))}render(){var e;const{seedPhrase:t,history:n}=this.props,{verifiedSeedPhrase:r}=this.state,f=(null==n||null===(e=n.location)||void 0===e?void 0:e.pathname)===c.INITIALIZE_SEED_PHRASE_INTRO_ROUTE?"intro":"";return a.default.createElement(i.DragDropContextProvider,{backend:s.default},a.default.createElement("div",{className:`first-time-flow__wrapper ${f}`},a.default.createElement(l.default,null),a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{exact:!0,path:c.INITIALIZE_CONFIRM_SEED_PHRASE_ROUTE,render:e=>a.default.createElement(u.default,h({},e,{seedPhrase:t||r}))}),a.default.createElement(o.Route,{exact:!0,path:c.INITIALIZE_SEED_PHRASE_ROUTE,render:e=>a.default.createElement(d.default,h({},e,{seedPhrase:t||r}))}),a.default.createElement(o.Route,{exact:!0,path:c.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE,render:e=>a.default.createElement(d.default,h({},e,{seedPhrase:t||r}))}),a.default.createElement(o.Route,{exact:!0,path:c.INITIALIZE_SEED_PHRASE_INTRO_ROUTE,render:e=>a.default.createElement(p.default,h({},e,{seedPhrase:t||r}))}))))}}n.default=E,g(E,"propTypes",{history:r.default.object,seedPhrase:r.default.string,verifySeedPhrase:r.default.func})}}},{package:"$root$"}],[6218,{"./select-action.container":6220},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./select-action.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6219,{"../../../../shared/constants/metametrics":5402,"../../../components/ui/button":5843,"../../../components/ui/metafox-logo":5947,"../../../helpers/constants/routes":6037,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../../components/ui/button")),s=l(e("../../../components/ui/metafox-logo")),i=e("../../../../shared/constants/metametrics"),c=e("../../../helpers/constants/routes");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.PureComponent{constructor(...e){super(...e),d(this,"handleCreate",(()=>{const{metaMetricsId:e}=this.props,{trackEvent:t}=this.context;this.props.setFirstTimeFlowType("create"),t({category:i.EVENT.CATEGORIES.ONBOARDING,event:i.EVENT_NAMES.WALLET_SETUP_STARTED,properties:{account_type:i.EVENT.ACCOUNT_TYPES.DEFAULT}},{isOptIn:!0,metaMetricsId:e,flushImmediately:!0}),this.props.history.push(c.INITIALIZE_CREATE_PASSWORD_ROUTE)})),d(this,"handleImport",(()=>{const{metaMetricsId:e}=this.props,{trackEvent:t}=this.context;this.props.setFirstTimeFlowType("import"),t({category:i.EVENT.CATEGORIES.ONBOARDING,event:i.EVENT_NAMES.WALLET_SETUP_STARTED,properties:{account_type:i.EVENT.ACCOUNT_TYPES.IMPORTED}},{isOptIn:!0,metaMetricsId:e,flushImmediately:!0}),this.props.history.push(c.INITIALIZE_IMPORT_WITH_SEED_PHRASE_ROUTE)}))}componentDidMount(){const{history:e,isInitialized:t,nextRoute:n}=this.props;t&&e.push(n)}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"select-action"},a.default.createElement(s.default,null),a.default.createElement("div",{className:"select-action__wrapper"},a.default.createElement("div",{className:"select-action__body"},a.default.createElement("div",{className:"select-action__body-header"},e("newToMetaMask")),a.default.createElement("div",{className:"select-action__select-buttons"},a.default.createElement("div",{className:"select-action__select-button"},a.default.createElement("div",{className:"select-action__button-content"},a.default.createElement("div",{className:"select-action__button-symbol"},a.default.createElement("i",{className:"fa fa-download fa-2x"})),a.default.createElement("div",{className:"select-action__button-text-big"},e("noAlreadyHaveSeed")),a.default.createElement("div",{className:"select-action__button-text-small"},e("importYourExisting"))),a.default.createElement(o.default,{type:"primary",className:"first-time-flow__button",onClick:this.handleImport,"data-testid":"import-wallet-button"},e("importWallet"))),a.default.createElement("div",{className:"select-action__select-button"},a.default.createElement("div",{className:"select-action__button-content"},a.default.createElement("div",{className:"select-action__button-symbol"},a.default.createElement("i",{className:"fa fa-plus fa-2x"})),a.default.createElement("div",{className:"select-action__button-text-big"},e("letsGoSetUp")),a.default.createElement("div",{className:"select-action__button-text-small"},e("thisWillCreate"))),a.default.createElement(o.default,{type:"primary",className:"first-time-flow__button",onClick:this.handleCreate,"data-testid":"create-wallet-button"},e("createAWallet")))))))}}n.default=p,d(p,"propTypes",{history:r.default.object,isInitialized:r.default.bool,setFirstTimeFlowType:r.default.func,nextRoute:r.default.string,metaMetricsId:r.default.string}),d(p,"contextTypes",{trackEvent:r.default.func,t:r.default.func})}}},{package:"$root$"}],[622,{"../ButtonBase":570,"../styles/withStyles":870,"../utils/capitalize":878,"@babel/runtime/helpers/extends":180,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@babel/runtime/helpers/objectWithoutProperties":192,clsx:1846,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/objectWithoutProperties")),s=r(e("@babel/runtime/helpers/extends")),i=a(e("react")),c=(r(e("prop-types")),r(e("clsx"))),l=r(e("../styles/withStyles")),u=r(e("../ButtonBase")),d=r(e("../utils/capitalize")),p=function(e){return{root:(0,s.default)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}};n.styles=p;var f=i.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,l=e.color,p=void 0===l?"default":l,f=e.component,m=void 0===f?"button":f,h=e.disabled,g=void 0!==h&&h,E=e.disableFocusRipple,_=void 0!==E&&E,y=e.focusVisibleClassName,v=e.size,b=void 0===v?"large":v,T=e.variant,k=void 0===T?"round":T,N=(0,o.default)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return i.createElement(u.default,(0,s.default)({className:(0,c.default)(a.root,r,"round"!==k&&a.extended,"large"!==b&&a["size".concat((0,d.default)(b))],g&&a.disabled,{primary:a.primary,secondary:a.secondary,inherit:a.colorInherit}[p]),component:m,disabled:g,focusRipple:!_,focusVisibleClassName:(0,c.default)(a.focusVisible,y),ref:t},N),i.createElement("span",{className:a.label},n))})),m=(0,l.default)(p,{name:"MuiFab"})(f);n.default=m}}},{package:"@material-ui/core"}],[6220,{"../../../selectors":6437,"../../../store/actions":6444,"./select-action.component":6219,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("react-router-dom"),s=e("redux"),i=e("../../../store/actions"),c=e("../../../selectors"),l=(a=e("./select-action.component"))&&a.__esModule?a:{default:a};var u=(0,s.compose)(o.withRouter,(0,r.connect)((e=>({nextRoute:(0,c.getFirstTimeFlowTypeRoute)(e),metaMetricsId:e.metamask.metaMetricsId})),(e=>({setFirstTimeFlowType:t=>e((0,i.setFirstTimeFlowType)(t))}))))(l.default);n.default=u}}},{package:"$root$"}],[6221,{"../../../components/ui/typography/typography":6003,"../../../helpers/constants/design-system":6033,"../../../hooks/useI18nContext":6091,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=e("../../../hooks/useI18nContext"),o=i(e("../../../components/ui/typography/typography")),s=e("../../../helpers/constants/design-system");function i(e){return e&&e.__esModule?e:{default:e}}var c=()=>{const e=(0,r.useI18nContext)();return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"welcome-page__header"},e("betaWelcome")),a.default.createElement("div",{className:"welcome-page__description"},a.default.createElement(o.default,{align:s.TEXT_ALIGN.CENTER,marginBottom:6},e("betaMetamaskDescription")),a.default.createElement(o.default,{align:s.TEXT_ALIGN.CENTER,marginBottom:6,fontWeight:s.FONT_WEIGHT.BOLD},e("betaMetamaskDescriptionDisclaimerHeading")),a.default.createElement(o.default,{align:s.TEXT_ALIGN.CENTER,marginBottom:6},e("betaMetamaskDescriptionExplanation",[a.default.createElement("a",{href:"https://metamask.io/terms.html",key:"terms-link"},e("betaMetamaskDescriptionExplanationTermsLinkText")),a.default.createElement("a",{href:"https://metamask.io/beta-terms.html",key:"beta-terms-link"},e("betaMetamaskDescriptionExplanationBetaTermsLinkText"))])),a.default.createElement(o.default,{align:s.TEXT_ALIGN.CENTER},e("betaMetamaskDescriptionExplanation2",[a.default.createElement("a",{href:"https://metamask.io/terms.html",key:"terms-link"},e("betaMetamaskDescriptionExplanationTermsLinkText")),a.default.createElement("a",{href:"https://metamask.io/beta-terms.html",key:"beta-terms-link"},e("betaMetamaskDescriptionExplanation2BetaTermsLinkText"))]))))};n.default=c}}},{package:"$root$"}],[6222,{"./welcome.container":6225},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./welcome.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6223,{"../../../components/ui/typography/typography":6003,"../../../helpers/constants/design-system":6033,"../../../hooks/useI18nContext":6091,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=e("../../../hooks/useI18nContext"),o=i(e("../../../components/ui/typography/typography")),s=e("../../../helpers/constants/design-system");function i(e){return e&&e.__esModule?e:{default:e}}var c=()=>{const e=(0,r.useI18nContext)();return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"welcome-page__header"},e("welcome")),a.default.createElement(o.default,{align:s.TEXT_ALIGN.CENTER,marginBottom:6},e("metamaskDescription")),a.default.createElement(o.default,{align:s.TEXT_ALIGN.CENTER},e("happyToSeeYou")))};n.default=c}}},{package:"$root$"}],[6224,{"../../../components/ui/button":5843,"../../../components/ui/mascot":5941,"../../../helpers/constants/routes":6037,"../../../helpers/utils/build-types":6050,"./beta-welcome-footer.component":6221,"./welcome-footer.component":6223,events:1798,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("events")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=f(e("prop-types")),s=f(e("../../../components/ui/mascot")),i=f(e("../../../components/ui/button")),c=e("../../../helpers/constants/routes"),l=e("../../../helpers/utils/build-types"),u=f(e("./welcome-footer.component")),d=f(e("./beta-welcome-footer.component"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.PureComponent{constructor(e){super(e),m(this,"handleContinue",(()=>{this.props.history.push(c.INITIALIZE_METAMETRICS_OPT_IN_ROUTE)})),this.animationEventEmitter=new a.default}componentDidMount(){const{history:e,participateInMetaMetrics:t,welcomeScreenSeen:n,isInitialized:a}=this.props;n&&a&&null!==t?e.push(c.INITIALIZE_CREATE_PASSWORD_ROUTE):n&&null!==t?e.push(c.INITIALIZE_SELECT_ACTION_ROUTE):n&&e.push(c.INITIALIZE_METAMETRICS_OPT_IN_ROUTE)}render(){const{t:e}=this.context;return r.default.createElement("div",{className:"welcome-page__wrapper"},r.default.createElement("div",{className:"welcome-page"},r.default.createElement(s.default,{animationEventEmitter:this.animationEventEmitter,width:"125",height:"125"}),(0,l.isBeta)()?r.default.createElement(d.default,null):r.default.createElement(u.default,null),r.default.createElement(i.default,{type:"primary",className:"first-time-flow__button",onClick:this.handleContinue,"data-testid":"first-time-flow__button"},e("getStarted"))))}}n.default=h,m(h,"propTypes",{history:o.default.object,participateInMetaMetrics:o.default.bool,welcomeScreenSeen:o.default.bool,isInitialized:o.default.bool}),m(h,"contextTypes",{t:o.default.func})}}},{package:"$root$"}],[6225,{"../../../store/actions":6444,"./welcome.component":6224,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("react-router-dom"),s=e("redux"),i=e("../../../store/actions"),c=(a=e("./welcome.component"))&&a.__esModule?a:{default:a};var l=(0,s.compose)(o.withRouter,(0,r.connect)((({metamask:e})=>{const{welcomeScreenSeen:t,participateInMetaMetrics:n,isInitialized:a}=e;return{welcomeScreenSeen:t,participateInMetaMetrics:n,isInitialized:a}}),(e=>({closeWelcomeScreen:()=>e((0,i.closeWelcomeScreen)())}))))(c.default);n.default=l}}},{package:"$root$"}],[6226,{"../../../shared/constants/metametrics":5402,"../../../shared/lib/ui-utils":5418,"../../components/app/asset-list":5481,"../../components/app/collectibles-tab":5495,"../../components/app/home-notification":5575,"../../components/app/menu-bar":5584,"../../components/app/multiple-notifications":5651,"../../components/app/recovery-phrase-reminder":5678,"../../components/app/transaction-list":5754,"../../components/app/wallet-overview":5767,"../../components/app/whats-new-popup":5770,"../../components/ui/actionable-message/actionable-message":5835,"../../components/ui/box":5839,"../../components/ui/button":5843,"../../components/ui/icon/icon-chart":5890,"../../components/ui/popover":5961,"../../components/ui/tabs":5984,"../../components/ui/tooltip":5998,"../../components/ui/typography/typography":6003,"../../helpers/constants/design-system":6033,"../../helpers/constants/routes":6037,"../../helpers/constants/zendesk-url":6040,"../connected-accounts":6170,"../connected-sites":6173,"prop-types":4875,react:5049,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=S(e("prop-types")),o=e("react-router-dom"),s=e("../../../shared/constants/metametrics"),i=S(e("../../components/app/asset-list")),c=(S(e("../../components/app/collectibles-tab")),S(e("../../components/app/home-notification"))),l=S(e("../../components/app/multiple-notifications")),u=S(e("../../components/app/transaction-list")),d=S(e("../../components/app/menu-bar")),p=S(e("../../components/ui/popover")),f=S(e("../../components/ui/button")),m=S(e("../../components/ui/box")),h=S(e("../connected-sites")),g=S(e("../connected-accounts")),E=e("../../components/ui/tabs"),_=e("../../components/app/wallet-overview"),y=S(e("../../components/app/whats-new-popup")),v=S(e("../../components/app/recovery-phrase-reminder")),b=S(e("../../components/ui/actionable-message/actionable-message")),T=S(e("../../components/ui/typography/typography")),k=S(e("../../components/ui/icon/icon-chart")),N=e("../../helpers/constants/design-system"),w=e("../../helpers/constants/routes"),O=S(e("../../helpers/constants/zendesk-url")),P=S(e("../../components/ui/tooltip")),A=e("../../../shared/lib/ui-utils");function S(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x({isNotification:e,totalUnapprovedCount:t,isSigningQRHardwareTransaction:n}){return e&&0===t&&!n}class I extends a.PureComponent{constructor(e){super(e),R(this,"state",{canShowBlockageNotification:!0,notificationClosing:!1,redirecting:!1}),R(this,"onRecoveryPhraseReminderClose",(()=>{const{setRecoveryPhraseReminderHasBeenShown:e,setRecoveryPhraseReminderLastShown:t}=this.props;e(!0),t((new Date).getTime())})),R(this,"renderPopover",(()=>{const{setConnectedStatusPopoverHasBeenShown:e}=this.props,{t:t}=this.context;return a.default.createElement(p.default,{title:t("whatsThis"),onClose:e,className:"home__connected-status-popover",showArrow:!0,CustomBackground:({onClose:e})=>a.default.createElement("div",{className:"home__connected-status-popover-bg-container",onClick:e},a.default.createElement("div",{className:"home__connected-status-popover-bg"})),footer:a.default.createElement(a.default.Fragment,null,a.default.createElement("a",{href:O.default.USER_GUIDE_DAPPS,target:"_blank",rel:"noopener noreferrer"},t("learnMoreUpperCase")),a.default.createElement(f.default,{type:"primary",onClick:e},t("dismiss")))},a.default.createElement("main",{className:"home__connect-status-text"},a.default.createElement("div",null,t("metaMaskConnectStatusParagraphOne")),a.default.createElement("div",null,t("metaMaskConnectStatusParagraphTwo")),a.default.createElement("div",null,t("metaMaskConnectStatusParagraphThree"))))}));const{closeNotificationPopup:t,firstPermissionsRequestId:n,haveSwapsQuotes:r,isNotification:o,showAwaitingSwapScreen:s,suggestedAssets:i=[],swapsFetchParams:c,unconfirmedTransactionsCount:l}=this.props;x(e)?(this.state.notificationClosing=!0,t()):(n||l>0||i.length>0||!o&&(s||r||c))&&(this.state.redirecting=!0)}checkStatusAndNavigate(){const{firstPermissionsRequestId:e,history:t,isNotification:n,suggestedAssets:a=[],unconfirmedTransactionsCount:r,haveSwapsQuotes:o,showAwaitingSwapScreen:s,swapsFetchParams:i,pendingConfirmations:c}=this.props;!n&&s?t.push(w.AWAITING_SWAP_ROUTE):!n&&o?t.push(w.VIEW_QUOTE_ROUTE):!n&&i?t.push(w.BUILD_QUOTE_ROUTE):e?t.push(`${w.CONNECT_ROUTE}/${e}`):r>0?t.push(w.CONFIRM_TRANSACTION_ROUTE):a.length>0?t.push(w.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE):c.length>0&&t.push(w.CONFIRMATION_V_NEXT_ROUTE)}componentDidMount(){const{setPortfolioTooltipWasShownInThisSession:e,showPortfolioTooltip:t}=this.props;this.checkStatusAndNavigate(),t&&e()}static getDerivedStateFromProps(e){return x(e)?{notificationClosing:!0}:null}componentDidUpdate(e,t){const{closeNotificationPopup:n,isNotification:a}=this.props,{notificationClosing:r}=this.state;r&&!t.notificationClosing?n():a&&this.checkStatusAndNavigate()}renderNotifications(){const{t:e}=this.context,{history:t,shouldShowSeedPhraseReminder:n,isPopup:r,shouldShowWeb3ShimUsageNotification:o,setWeb3ShimUsageAlertDismissed:s,originOfCurrentTab:i,disableWeb3ShimUsageAlert:u,infuraBlocked:d,newNetworkAdded:h,setNewNetworkAdded:g,newCollectibleAddedMessage:E,setNewCollectibleAddedMessage:_,newTokensImported:y,setNewTokensImported:v,newCustomNetworkAdded:k,clearNewCustomNetworkAdded:P,setRpcTarget:A}=this.props;return a.default.createElement(l.default,null,"success"===E?a.default.createElement(b.default,{type:"success",className:"home__new-network-notification",message:a.default.createElement(m.default,{display:N.DISPLAY.INLINE_FLEX},a.default.createElement("i",{className:"fa fa-check-circle home__new-nft-notification-icon"}),a.default.createElement(T.default,{variant:N.TYPOGRAPHY.H7,fontWeight:N.FONT_WEIGHT.NORMAL},e("newCollectibleAddedMessage")),a.default.createElement("button",{className:"fas fa-times home__new-nft-notification-close",title:e("close"),onClick:()=>_("")}))}):null,h?a.default.createElement(b.default,{type:"success",className:"home__new-network-notification",message:a.default.createElement(m.default,{display:N.DISPLAY.INLINE_FLEX},a.default.createElement("i",{className:"fa fa-check-circle home__new-network-notification-icon"}),a.default.createElement(T.default,{variant:N.TYPOGRAPHY.H7,fontWeight:N.FONT_WEIGHT.NORMAL},e("newNetworkAdded",[h])),a.default.createElement("button",{className:"fas fa-times home__new-network-notification-close",title:e("close"),onClick:()=>g("")}))}):null,y?a.default.createElement(b.default,{type:"success",className:"home__new-tokens-imported-notification",message:a.default.createElement(m.default,{display:N.DISPLAY.INLINE_FLEX},a.default.createElement("i",{className:"fa fa-check-circle home__new-tokens-imported-notification-icon"}),a.default.createElement(m.default,null,a.default.createElement(T.default,{className:"home__new-tokens-imported-notification-title",variant:N.TYPOGRAPHY.H6,fontWeight:N.FONT_WEIGHT.BOLD},e("newTokensImportedTitle")),a.default.createElement(T.default,{className:"home__new-tokens-imported-notification-message",variant:N.TYPOGRAPHY.H7,fontWeight:N.FONT_WEIGHT.NORMAL},e("newTokensImportedMessage",[y]))),a.default.createElement("button",{className:"fas fa-times home__new-tokens-imported-notification-close",title:e("close"),onClick:()=>v("")}))}):null,o?a.default.createElement(c.default,{descriptionText:e("web3ShimUsageNotification",[a.default.createElement("span",{key:"web3ShimUsageNotificationLink",className:"home-notification__text-link",onClick:()=>global.platform.openTab({url:O.default.LEGACY_WEB3})},e("here"))]),ignoreText:e("dismiss"),onIgnore:e=>{s(i),e&&u()},checkboxText:e("dontShowThisAgain"),checkboxTooltipText:e("canToggleInSettings"),key:"home-web3ShimUsageNotification"}):null,n?a.default.createElement(c.default,{descriptionText:e("backupApprovalNotice"),acceptText:e("backupNow"),onAccept:()=>{const e=`${w.ONBOARDING_SECURE_YOUR_WALLET_ROUTE}/?isFromReminder=true`;r?global.platform.openExtensionInBrowser(e):t.push(e)},infoText:e("backupApprovalInfo"),key:"home-backupApprovalNotice"}):null,d&&this.state.canShowBlockageNotification?a.default.createElement(c.default,{descriptionText:e("infuraBlockedNotification",[a.default.createElement("span",{key:"infuraBlockedNotificationLink",className:"home-notification__text-link",onClick:()=>global.platform.openTab({url:O.default.INFURA_BLOCKAGE})},e("here"))]),ignoreText:e("dismiss"),onIgnore:()=>{this.setState({canShowBlockageNotification:!1})},key:"home-infuraBlockedNotification"}):null,0!==Object.keys(k).length&&a.default.createElement(p.default,{className:"home__new-network-added"},a.default.createElement("i",{className:"fa fa-check-circle fa-2x home__new-network-added__check-circle"}),a.default.createElement(T.default,{variant:N.TYPOGRAPHY.H4,marginTop:5,marginRight:9,marginLeft:9,marginBottom:0,fontWeight:N.FONT_WEIGHT.BOLD},e("networkAddedSuccessfully")),a.default.createElement(m.default,{marginTop:8,marginRight:8,marginLeft:8,marginBottom:5},a.default.createElement(f.default,{type:"primary",className:"home__new-network-added__switch-to-button",onClick:()=>{A(k.rpcUrl,k.chainId,k.ticker,k.chainName),P()}},a.default.createElement(T.default,{variant:N.TYPOGRAPHY.H6,fontWeight:N.FONT_WEIGHT.NORMAL,color:N.COLORS.PRIMARY_INVERSE},e("switchToNetwork",[k.chainName]))),a.default.createElement(f.default,{type:"secondary",onClick:()=>P()},a.default.createElement(T.default,{variant:N.TYPOGRAPHY.H6,fontWeight:N.FONT_WEIGHT.NORMAL,color:N.COLORS.PRIMARY_DEFAULT},e("dismiss"))))))}render(){const{t:e}=this.context,{defaultHomeActiveTabName:t,onTabClick:n,forgottenPassword:r,history:c,connectedStatusPopoverHasBeenShown:l,isPopup:p,announcementsToShow:f,showWhatsNewPopup:m,hideWhatsNewPopup:b,showPortfolioTooltip:T,hidePortfolioTooltip:N,portfolioTooltipWasShownInThisSession:O,seedPhraseBackedUp:S,showRecoveryPhraseReminder:C,firstTimeFlowType:R,completedOnboarding:x,shouldShowSeedPhraseReminder:I,onboardedInThisUISession:M,newCustomNetworkAdded:D}=this.props;if(r)return a.default.createElement(o.Redirect,{to:{pathname:w.RESTORE_VAULT_ROUTE}});if(this.state.notificationClosing||this.state.redirecting)return null;const j=x&&(!M||"import"===R)&&f&&m&&!T&&!O&&0===Object.keys(D).length;return a.default.createElement("div",{className:"main-container"},a.default.createElement(o.Route,{path:w.CONNECTED_ROUTE,component:h.default,exact:!0}),a.default.createElement(o.Route,{path:w.CONNECTED_ACCOUNTS_ROUTE,component:g.default,exact:!0}),a.default.createElement("div",{className:"home__container"},j?a.default.createElement(y.default,{onClose:b}):null,!j&&C?a.default.createElement(v.default,{hasBackedUp:S,onConfirm:this.onRecoveryPhraseReminderClose}):null,p&&!l?this.renderPopover():null,a.default.createElement("div",{className:"home__main-view"},a.default.createElement(d.default,null),a.default.createElement("div",{className:"home__balance-wrapper"},a.default.createElement(_.EthOverview,null)),a.default.createElement(E.Tabs,{defaultActiveTabName:t,onTabClick:n,tabsClassName:"home__tabs",subHeader:a.default.createElement(P.default,{position:"bottom",open:!I&&T,interactive:!0,theme:"home__subheader-link--tooltip",html:a.default.createElement("div",null,a.default.createElement("div",{className:"home__subheader-link--tooltip-content-header"},a.default.createElement("div",{className:"home__subheader-link--tooltip-content-header-text"},e("new")),a.default.createElement("button",{className:"home__subheader-link--tooltip-content-header-button",onClick:()=>{N()}},a.default.createElement("i",{className:"fa fa-times"}))),a.default.createElement("div",null,e("tryOur")," ",a.default.createElement("span",{className:"home__subheader-link--tooltip-content-text-bold"},e("betaPortfolioSite"))," ",e("keepTapsOnTokens")))},a.default.createElement("div",{className:"home__subheader-link",onClick:async()=>{const e="https://portfolio.metamask.io";global.platform.openTab({url:`${e}?metamaskEntry=ext`}),this.context.trackEvent({category:s.EVENT.CATEGORIES.HOME,event:s.EVENT_NAMES.PORTFOLIO_LINK_CLICKED,properties:{url:e}},{contextPropsIntoEventProperties:[s.CONTEXT_PROPS.PAGE_TITLE]})}},a.default.createElement(k.default,null),a.default.createElement("div",{className:"home__subheader-link--text","data-testid":"home__portfolio-site"},e("portfolioSite"))))},a.default.createElement(E.Tab,{activeClassName:"home__tab--active",className:"home__tab","data-testid":"home__asset-tab",name:e("assets")},a.default.createElement(i.default,{onClickAsset:e=>c.push(`${w.ASSET_ROUTE}/${e}`)})),null,a.default.createElement(E.Tab,{activeClassName:"home__tab--active",className:"home__tab","data-testid":"home__activity-tab",name:e("activity")},a.default.createElement(u.default,null))),a.default.createElement("div",{className:"home__support"},e("needHelp",[a.default.createElement("a",{href:A.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",key:"need-help-link",onClick:()=>{this.context.trackEvent({category:s.EVENT.CATEGORIES.HOME,event:s.EVENT_NAMES.SUPPORT_LINK_CLICKED,properties:{url:A.SUPPORT_LINK}},{contextPropsIntoEventProperties:[s.CONTEXT_PROPS.PAGE_TITLE]})}},e("needHelpLinkText"))]))),this.renderNotifications()))}}n.default=I,R(I,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),R(I,"propTypes",{history:r.default.object,forgottenPassword:r.default.bool,suggestedAssets:r.default.array,unconfirmedTransactionsCount:r.default.number,shouldShowSeedPhraseReminder:r.default.bool.isRequired,isPopup:r.default.bool,isNotification:r.default.bool.isRequired,firstPermissionsRequestId:r.default.string,totalUnapprovedCount:r.default.number.isRequired,setConnectedStatusPopoverHasBeenShown:r.default.func,connectedStatusPopoverHasBeenShown:r.default.bool,defaultHomeActiveTabName:r.default.string,firstTimeFlowType:r.default.string,completedOnboarding:r.default.bool,onTabClick:r.default.func.isRequired,haveSwapsQuotes:r.default.bool.isRequired,showAwaitingSwapScreen:r.default.bool.isRequired,swapsFetchParams:r.default.object,shouldShowWeb3ShimUsageNotification:r.default.bool.isRequired,setWeb3ShimUsageAlertDismissed:r.default.func.isRequired,originOfCurrentTab:r.default.string,disableWeb3ShimUsageAlert:r.default.func.isRequired,pendingConfirmations:r.default.arrayOf(r.default.object).isRequired,infuraBlocked:r.default.bool.isRequired,showWhatsNewPopup:r.default.bool.isRequired,hideWhatsNewPopup:r.default.func.isRequired,showPortfolioTooltip:r.default.bool.isRequired,hidePortfolioTooltip:r.default.func.isRequired,portfolioTooltipWasShownInThisSession:r.default.bool.isRequired,setPortfolioTooltipWasShownInThisSession:r.default.func.isRequired,announcementsToShow:r.default.bool.isRequired,showRecoveryPhraseReminder:r.default.bool.isRequired,setRecoveryPhraseReminderHasBeenShown:r.default.func.isRequired,setRecoveryPhraseReminderLastShown:r.default.func.isRequired,seedPhraseBackedUp:e=>{if(null!==e.seedPhraseBackedUp&&"boolean"!=typeof e.seedPhraseBackedUp)throw new Error(`seedPhraseBackedUp is required to be null or boolean. Received ${e.seedPhraseBackedUp}`)},newNetworkAdded:r.default.string,setNewNetworkAdded:r.default.func.isRequired,isSigningQRHardwareTransaction:r.default.bool.isRequired,newCollectibleAddedMessage:r.default.string,setNewCollectibleAddedMessage:r.default.func.isRequired,closeNotificationPopup:r.default.func.isRequired,newTokensImported:r.default.string,setNewTokensImported:r.default.func.isRequired,newCustomNetworkAdded:r.default.object,clearNewCustomNetworkAdded:r.default.func,setRpcTarget:r.default.func,onboardedInThisUISession:r.default.bool})}}},{package:"$root$"}],[6227,{"../../../app/scripts/lib/util":87,"../../../shared/constants/alerts":5396,"../../../shared/constants/app":5397,"../../ducks/app/app":6017,"../../ducks/metamask/metamask":6025,"../../ducks/swaps/swaps":6029,"../../selectors":6437,"../../store/actions":6444,"./home.component":6226,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("redux"),o=e("react-redux"),s=e("react-router-dom"),i=e("../../selectors"),c=e("../../store/actions"),l=e("../../ducks/app/app"),u=e("../../ducks/metamask/metamask"),d=e("../../ducks/swaps/swaps"),p=e("../../../app/scripts/lib/util"),f=e("../../../shared/constants/app"),m=e("../../../shared/constants/alerts"),h=(a=e("./home.component"))&&a.__esModule?a:{default:a};var g=(0,r.compose)(s.withRouter,(0,o.connect)((e=>{var t;const{metamask:n,appState:a}=e,{suggestedAssets:r,seedPhraseBackedUp:o,selectedAddress:s,connectedStatusPopoverHasBeenShown:c,defaultHomeActiveTabName:h,swapsState:g,firstTimeFlowType:E,completedOnboarding:_}=n,{forgottenPassword:y}=a,v=(0,i.getTotalUnapprovedCount)(e),b=(0,d.getSwapsFeatureIsLive)(e),T=(0,i.getUnapprovedTemplatedConfirmations)(e),k=(0,p.getEnvironmentType)(),N=k===f.ENVIRONMENT_TYPE_POPUP,w=k===f.ENVIRONMENT_TYPE_NOTIFICATION;let O,P;O=(0,i.getFirstPermissionRequest)(e),P=(null===(t=O)||void 0===t?void 0:t.metadata.id)||null;const A=(0,i.getOriginOfCurrentTab)(e),S=N&&(0,u.getWeb3ShimUsageAlertEnabledness)(e)&&(0,i.activeTabHasPermissions)(e)&&(0,i.getWeb3ShimUsageStateForOrigin)(e,A)===m.WEB3_SHIM_USAGE_ALERT_STATES.RECORDED,C=(0,i.hasUnsignedQRHardwareTransaction)(e)||(0,i.hasUnsignedQRHardwareMessage)(e);return{forgottenPassword:y,suggestedAssets:r,swapsEnabled:b,unconfirmedTransactionsCount:(0,i.unconfirmedTransactionsCountSelector)(e),shouldShowSeedPhraseReminder:(0,i.getShouldShowSeedPhraseReminder)(e),isPopup:N,isNotification:w,selectedAddress:s,firstPermissionsRequestId:P,totalUnapprovedCount:v,connectedStatusPopoverHasBeenShown:c,defaultHomeActiveTabName:h,firstTimeFlowType:E,completedOnboarding:_,haveSwapsQuotes:Boolean(Object.values(g.quotes||{}).length),swapsFetchParams:g.fetchParams,showAwaitingSwapScreen:"awaiting"===g.routeState,isMainnet:(0,i.getIsMainnet)(e),originOfCurrentTab:A,shouldShowWeb3ShimUsageNotification:S,pendingConfirmations:T,infuraBlocked:(0,i.getInfuraBlocked)(e),announcementsToShow:(0,i.getSortedAnnouncementsToShow)(e).length>0,showWhatsNewPopup:(0,i.getShowWhatsNewPopup)(e),showPortfolioTooltip:(0,i.getShowPortfolioTooltip)(e),portfolioTooltipWasShownInThisSession:(0,l.getPortfolioTooltipWasShownInThisSession)(e),showRecoveryPhraseReminder:(0,i.getShowRecoveryPhraseReminder)(e),seedPhraseBackedUp:o,newNetworkAdded:(0,i.getNewNetworkAdded)(e),isSigningQRHardwareTransaction:C,newCollectibleAddedMessage:(0,i.getNewCollectibleAddedMessage)(e),newTokensImported:(0,i.getNewTokensImported)(e),newCustomNetworkAdded:a.newCustomNetworkAdded,onboardedInThisUISession:a.onboardedInThisUISession}}),(e=>({closeNotificationPopup:()=>(0,c.closeNotificationPopup)(),setConnectedStatusPopoverHasBeenShown:()=>e((0,c.setConnectedStatusPopoverHasBeenShown)()),onTabClick:t=>e((0,c.setDefaultHomeActiveTabName)(t)),setWeb3ShimUsageAlertDismissed:e=>(0,c.setWeb3ShimUsageAlertDismissed)(e),disableWeb3ShimUsageAlert:()=>(0,c.setAlertEnabledness)(m.ALERT_TYPES.web3ShimUsage,!1),hideWhatsNewPopup:()=>e((0,l.hideWhatsNewPopup)()),hidePortfolioTooltip:c.hidePortfolioTooltip,setRecoveryPhraseReminderHasBeenShown:()=>e((0,c.setRecoveryPhraseReminderHasBeenShown)()),setRecoveryPhraseReminderLastShown:t=>e((0,c.setRecoveryPhraseReminderLastShown)(t)),setNewNetworkAdded:t=>{e((0,c.setNewNetworkAdded)(t))},setNewCollectibleAddedMessage:t=>{e((0,c.setNewCollectibleAddedMessage)(t))},setNewTokensImported:t=>{e((0,c.setNewTokensImported)(t))},clearNewCustomNetworkAdded:()=>{e((0,l.setNewCustomNetworkAdded)({}))},setRpcTarget:(t,n,a,r)=>{e((0,c.setRpcTarget)(t,n,a,r))},setPortfolioTooltipWasShownInThisSession:()=>e((0,l.setPortfolioTooltipWasShownInThisSession)())}))))(h.default);n.default=g}}},{package:"$root$"}],[6228,{"./home.container":6227},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./home.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6229,{"../../../app/scripts/lib/util":87,"../../../shared/constants/tokens":5409,"../../../shared/constants/transaction":5410,"../../../shared/modules/hexstring-utils":5425,"../../components/ui/actionable-message/actionable-message":5835,"../../components/ui/button":5843,"../../components/ui/page-container":5954,"../../components/ui/tabs":5984,"../../components/ui/text-field":5988,"../../components/ui/typography":6002,"../../helpers/constants/design-system":6033,"../../helpers/constants/routes":6037,"../../helpers/constants/zendesk-url":6040,"../../helpers/utils/token-util":6068,"../../helpers/utils/util":6071,"./token-list":6232,"./token-search":6237,"@metamask/etherscan-link":1185,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=k(e("prop-types")),o=e("@metamask/etherscan-link"),s=k(e("../../helpers/constants/zendesk-url")),i=e("../../helpers/utils/util"),c=e("../../helpers/utils/token-util"),l=e("../../helpers/constants/routes"),u=k(e("../../components/ui/text-field")),d=k(e("../../components/ui/page-container")),p=e("../../components/ui/tabs"),f=e("../../../app/scripts/lib/util"),m=e("../../../shared/modules/hexstring-utils"),h=k(e("../../components/ui/actionable-message/actionable-message")),g=k(e("../../components/ui/typography")),E=e("../../helpers/constants/design-system"),_=k(e("../../components/ui/button")),y=e("../../../shared/constants/transaction"),v=e("../../../shared/constants/tokens"),b=k(e("./token-search")),T=k(e("./token-list"));function k(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends a.Component{constructor(...e){super(...e),w(this,"state",{customAddress:"",customSymbol:"",customDecimals:0,searchResults:[],selectedTokens:{},standard:y.TOKEN_STANDARDS.NONE,tokenSelectorError:null,customAddressError:null,customSymbolError:null,customDecimalsError:null,collectibleAddressError:null,forceEditSymbol:!1,symbolAutoFilled:!1,decimalAutoFilled:!1,mainnetTokenWarning:null})}componentDidMount(){this.tokenInfoGetter=(0,c.tokenInfoGetter)();const{pendingTokens:e={}}=this.props,t=Object.keys(e);if(t.length>0){let n={},a={};t.forEach((t=>{const r=e[t],{isCustom:o}=r;o?a={...r}:n={...n,[t]:{...r}}}));const{address:r="",symbol:o="",decimals:s=0}=a;this.setState({selectedTokens:n,customAddress:r,customSymbol:o,customDecimals:s})}}handleToggleToken(e){const{address:t}=e,{selectedTokens:n={}}=this.state,a={...n};t in a?delete a[t]:a[t]=e,this.setState({selectedTokens:a,tokenSelectorError:null})}hasError(){const{tokenSelectorError:e,customAddressError:t,customSymbolError:n,customDecimalsError:a,collectibleAddressError:r}=this.state;return e||t||n||a||r}hasSelected(){const{customAddress:e="",selectedTokens:t={}}=this.state;return e||Object.keys(t).length>0}handleNext(){if(this.hasError())return;if(!this.hasSelected())return void this.setState({tokenSelectorError:this.context.t("mustSelectOne")});const{setPendingTokens:e,history:t,tokenList:n}=this.props,a=Object.keys(n),{customAddress:r,customSymbol:o,customDecimals:s,selectedTokens:i,standard:c}=this.state;e({customToken:{address:r,symbol:o,decimals:s,standard:c},selectedTokens:i,tokenAddressList:a}),t.push(l.CONFIRM_IMPORT_TOKEN_ROUTE)}async attemptToAutoFillTokenParams(e){const{tokenList:t}=this.props,{symbol:n="",decimals:a}=await this.tokenInfoGetter(e,t),r=Boolean(n),o=Boolean(a);this.setState({symbolAutoFilled:r,decimalAutoFilled:o}),this.handleCustomSymbolChange(n||""),this.handleCustomDecimalsChange(a)}async handleCustomAddressChange(e){const t=e.trim();this.setState({customAddress:t,customAddressError:null,collectibleAddressError:null,tokenSelectorError:null,symbolAutoFilled:!1,decimalAutoFilled:!1,mainnetTokenWarning:null});const n=(0,m.isValidHexAddress)(t,{allowNonPrefixed:!1}),a=(0,f.addHexPrefix)(t).toLowerCase(),r=Object.keys(v.STATIC_MAINNET_TOKEN_LIST).some((e=>e.toLowerCase()===t.toLowerCase())),o="0x1"===this.props.chainId;let s;if(n)try{({standard:s}=await this.props.getTokenStandardAndDetails(a,this.props.selectedAddress))}catch(e){}const c=0===t.length||"0x0000000000000000000000000000000000000000"===t;switch(!0){case!n&&!c:this.setState({customAddressError:this.context.t("invalidAddress"),customSymbol:"",customDecimals:0,customSymbolError:null,customDecimalsError:null});break;case r&&!o:this.setState({mainnetTokenWarning:this.context.t("mainnetToken"),customSymbol:"",customDecimals:0,customSymbolError:null,customDecimalsError:null});break;case Boolean(this.props.identities[a]):this.setState({customAddressError:this.context.t("personalAddressDetected")});break;case(0,i.checkExistingAddresses)(t,this.props.tokens):this.setState({customAddressError:this.context.t("tokenAlreadyAdded")});break;default:c||(this.attemptToAutoFillTokenParams(t),s&&this.setState({standard:s}))}}handleCustomSymbolChange(e){const t=e.trim(),n=t.length;let a=null;(n<=0||n>=12)&&(a=this.context.t("symbolBetweenZeroTwelve")),this.setState({customSymbol:t,customSymbolError:a})}handleCustomDecimalsChange(e){let t,n=null;e?(t=Number(e.trim()),n=e<0||e>36?this.context.t("decimalsMustZerotoTen"):null):(t="",n=this.context.t("tokenDecimalFetchFailed")),this.setState({customDecimals:t,customDecimalsError:n})}renderCustomTokenForm(){var e;const{t:t}=this.context,{customAddress:n,customSymbol:r,customDecimals:c,customAddressError:d,customSymbolError:p,customDecimalsError:f,forceEditSymbol:m,symbolAutoFilled:y,decimalAutoFilled:v,mainnetTokenWarning:b,collectibleAddressError:T}=this.state,{chainId:k,rpcPrefs:N,isDynamicTokenListAvailable:w,tokenDetectionInactiveOnNonMainnetSupportedNetwork:O,history:P}=this.props,A=(0,o.getTokenTrackerLink)(n,k,null,null,{blockExplorerUrl:null!==(e=null==N?void 0:N.blockExplorerUrl)&&void 0!==e?e:null}),S=null!=N&&N.blockExplorerUrl?(0,i.getURLHostName)(A):t("etherscan");return a.default.createElement("div",{className:"import-token__custom-token-form"},O?a.default.createElement(h.default,{type:"warning",message:t("customTokenWarningInTokenDetectionNetworkWithTDOFF",[a.default.createElement(_.default,{type:"link",key:"import-token-security-risk",className:"import-token__link",rel:"noopener noreferrer",target:"_blank",href:s.default.TOKEN_SAFETY_PRACTICES},t("tokenScamSecurityRisk")),a.default.createElement(_.default,{type:"link",key:"import-token-token-detection-announcement",className:"import-token__link",onClick:()=>P.push(`${l.SECURITY_ROUTE}#token-description`)},t("inYourSettings"))]),withRightButton:!0,useIcon:!0,iconFillColor:"var(--color-warning-default)"}):a.default.createElement(h.default,{type:w?"warning":"default",message:t(w?"customTokenWarningInTokenDetectionNetwork":"customTokenWarningInNonTokenDetectionNetwork",[a.default.createElement(_.default,{type:"link",key:"import-token-fake-token-warning",className:"import-token__link",rel:"noopener noreferrer",target:"_blank",href:s.default.TOKEN_SAFETY_PRACTICES},t("learnScamRisk"))]),withRightButton:!0,useIcon:!0,iconFillColor:w?"var(--color-warning-default)":"var(--color-info-default)"}),a.default.createElement(u.default,{id:"custom-address",label:t("tokenContractAddress"),type:"text",value:n,onChange:e=>this.handleCustomAddressChange(e.target.value),error:d||b||T,fullWidth:!0,autoFocus:!0,margin:"normal"}),a.default.createElement(u.default,{id:"custom-symbol",label:a.default.createElement("div",{className:"import-token__custom-symbol__label-wrapper"},a.default.createElement("span",{className:"import-token__custom-symbol__label"},t("tokenSymbol")),y&&!m&&a.default.createElement("div",{className:"import-token__custom-symbol__edit",onClick:()=>this.setState({forceEditSymbol:!0})},t("edit"))),type:"text",value:r,onChange:e=>this.handleCustomSymbolChange(e.target.value),error:p,fullWidth:!0,margin:"normal",disabled:y&&!m}),a.default.createElement(u.default,{id:"custom-decimals",label:t("decimal"),type:"number",value:c,onChange:e=>this.handleCustomDecimalsChange(e.target.value),error:c?f:null,fullWidth:!0,margin:"normal",disabled:v,min:0,max:36}),""===c&&a.default.createElement(h.default,{message:a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{variant:E.TYPOGRAPHY.H7,fontWeight:E.FONT_WEIGHT.BOLD},t("tokenDecimalFetchFailed")),a.default.createElement(g.default,{variant:E.TYPOGRAPHY.H7,fontWeight:E.FONT_WEIGHT.NORMAL},t("verifyThisTokenDecimalOn",[a.default.createElement(_.default,{type:"link",key:"import-token-verify-token-decimal",className:"import-token__link",rel:"noopener noreferrer",target:"_blank",href:A},S)]))),type:"warning",withRightButton:!0,className:"import-token__decimal-warning"}))}renderSearchToken(){const{t:e}=this.context,{tokenList:t,history:n,useTokenDetection:r,networkName:o}=this.props,{tokenSelectorError:s,selectedTokens:i,searchResults:c}=this.state;return a.default.createElement("div",{className:"import-token__search-token"},!r&&a.default.createElement(h.default,{message:e("enhancedTokenDetectionAlertMessage",[o,a.default.createElement(_.default,{type:"link",key:"token-detection-announcement",className:"import-token__link",onClick:()=>n.push(`${l.SECURITY_ROUTE}#token-description`)},e("enableFromSettings"))]),withRightButton:!0,useIcon:!0,iconFillColor:"var(--color-primary-default)",className:"import-token__token-detection-announcement"}),a.default.createElement(b.default,{onSearch:({results:e=[]})=>this.setState({searchResults:e}),error:s,tokenList:t}),a.default.createElement("div",{className:"import-token__token-list"},a.default.createElement(T.default,{results:c,selectedTokens:i,onToggleToken:e=>this.handleToggleToken(e)})))}renderTabs(){const{t:e}=this.context,{showSearchTab:t}=this.props,n=[];return t&&n.push(a.default.createElement(p.Tab,{name:e("search"),key:"search-tab"},this.renderSearchToken())),n.push(a.default.createElement(p.Tab,{name:e("customToken"),key:"custom-tab"},this.renderCustomTokenForm())),a.default.createElement(p.Tabs,null,n)}render(){const{history:e,clearPendingTokens:t,mostRecentOverviewPage:n}=this.props;return a.default.createElement(d.default,{title:this.context.t("importTokensCamelCase"),tabsComponent:this.renderTabs(),onSubmit:()=>this.handleNext(),hideCancel:!0,disabled:Boolean(this.hasError())||!this.hasSelected(),onClose:()=>{t(),e.push(n)}})}}w(O,"contextTypes",{t:r.default.func}),w(O,"propTypes",{history:r.default.object,setPendingTokens:r.default.func,pendingTokens:r.default.object,clearPendingTokens:r.default.func,tokens:r.default.array,identities:r.default.object,showSearchTab:r.default.bool.isRequired,mostRecentOverviewPage:r.default.string.isRequired,chainId:r.default.string,rpcPrefs:r.default.object,tokenList:r.default.object,useTokenDetection:r.default.bool,getTokenStandardAndDetails:r.default.func,selectedAddress:r.default.string,isDynamicTokenListAvailable:r.default.bool.isRequired,tokenDetectionInactiveOnNonMainnetSupportedNetwork:r.default.bool.isRequired,networkName:r.default.string.isRequired}),w(O,"defaultProps",{tokenList:{}});var P=O;n.default=P}}},{package:"$root$"}],[623,{"./Fab":622,"@babel/runtime/helpers/interopRequireDefault":184},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./Fab"))}}},{package:"@material-ui/core"}],[6230,{"../../ducks/history/history":6022,"../../selectors/selectors":6440,"../../store/actions":6444,"./import-token.component":6229,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../store/actions"),s=e("../../ducks/history/history"),i=e("../../selectors/selectors"),c=(a=e("./import-token.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((e=>{const{metamask:{identities:t,tokens:n,pendingTokens:a,provider:{chainId:r},useTokenDetection:o,selectedAddress:c}}=e,l=(0,i.getIsTokenDetectionInactiveOnMainnet)(e),u=(0,i.getIsTokenDetectionSupported)(e)||l||Boolean(!1);return{identities:t,mostRecentOverviewPage:(0,s.getMostRecentOverviewPage)(e),tokens:n,pendingTokens:a,showSearchTab:u,chainId:r,rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e),tokenList:(0,i.getTokenList)(e),useTokenDetection:o,selectedAddress:c,isDynamicTokenListAvailable:(0,i.getIsDynamicTokenListAvailable)(e),networkName:(0,i.getTokenDetectionSupportNetworkByChainId)(e),tokenDetectionInactiveOnNonMainnetSupportedNetwork:(0,i.getIstokenDetectionInactiveOnNonMainnetSupportedNetwork)(e)}}),(e=>({setPendingTokens:t=>e((0,o.setPendingTokens)(t)),clearPendingTokens:()=>e((0,o.clearPendingTokens)()),getTokenStandardAndDetails:(e,t)=>(0,o.getTokenStandardAndDetails)(e,t,null)})))(c.default);n.default=l}}},{package:"$root$"}],[6231,{"./import-token.container":6230},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./import-token.container"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[6232,{"./token-list.container":6236},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./token-list.container"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[6233,{"./token-list-placeholder.component":6234},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./token-list-placeholder.component"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[6234,{"../../../../components/ui/button":5843,"../../../../components/ui/icon/icon-token-search":5900,"../../../../helpers/constants/zendesk-url":6040,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=d(e("prop-types")),c=d(e("../../../../components/ui/button")),l=d(e("../../../../components/ui/icon/icon-token-search")),u=d(e("../../../../helpers/constants/zendesk-url"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}class f extends s.Component{render(){return s.default.createElement("div",{className:"token-list-placeholder"},s.default.createElement(l.default,{size:64,color:"var(--color-icon-muted)"}),s.default.createElement("div",{className:"token-list-placeholder__text"},this.context.t("addAcquiredTokens")),s.default.createElement(c.default,{type:"link",className:"token-list-placeholder__link",href:u.default.ADD_CUSTOM_TOKENS,target:"_blank",rel:"noopener noreferrer"},this.context.t("learnMoreUpperCase")))}}n.default=f,a=f,r="contextTypes",o={t:i.default.func},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[6235,{"../../../helpers/utils/util":6071,"./token-list-placeholder":6233,classnames:1844,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=c(e("prop-types")),o=c(e("classnames")),s=e("../../../helpers/utils/util"),i=c(e("./token-list-placeholder"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.Component{render(){const{results:e=[],selectedTokens:t={},onToggleToken:n,tokens:r=[]}=this.props;return 0===e.length?a.default.createElement(i.default,null):a.default.createElement("div",{className:"token-list"},a.default.createElement("div",{className:"token-list__title"},this.context.t("searchResults")),a.default.createElement("div",{className:"token-list__tokens-container"},Array(6).fill(undefined).map(((i,c)=>{var l,u,d;const{symbol:p,name:f,address:m}=e[c]||{},h=(0,s.checkExistingAddresses)(m,r),g=()=>!h&&n(e[c]);return Boolean((null===(l=e[c])||void 0===l?void 0:l.iconUrl)||p||f)&&a.default.createElement("div",{className:(0,o.default)("token-list__token",{"token-list__token--selected":t[m],"token-list__token--disabled":h}),onClick:g,onKeyPress:e=>"Enter"===e.key&&g(),key:c,tabIndex:"0"},a.default.createElement("div",{className:"token-list__token-icon",style:{backgroundImage:(null===(u=e[c])||void 0===u?void 0:u.iconUrl)&&`url(${null===(d=e[c])||void 0===d?void 0:d.iconUrl})`}}),a.default.createElement("div",{className:"token-list__token-data"},a.default.createElement("span",{className:"token-list__token-name"},`${f} (${p})`)))}))))}}n.default=d,u(d,"contextTypes",{t:r.default.func}),u(d,"propTypes",{tokens:r.default.array,results:r.default.array,selectedTokens:r.default.object,onToggleToken:r.default.func})}}},{package:"$root$"}],[6236,{"./token-list.component":6235,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=(a=e("./token-list.component"))&&a.__esModule?a:{default:a};var s=(0,r.connect)((e=>{const{tokens:t}=e.metamask;return{tokens:t}}))(o.default);n.default=s}}},{package:"$root$"}],[6237,{"./token-search.component":6238},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./token-search.component"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[6238,{"../../../../shared/modules/string-utils":5432,"../../../components/ui/icon/search-icon":5907,"../../../components/ui/text-field":5988,"@material-ui/core/InputAdornment":662,"fuse.js":4346,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("prop-types")),o=u(e("fuse.js")),s=u(e("@material-ui/core/InputAdornment")),i=u(e("../../../components/ui/text-field")),c=e("../../../../shared/modules/string-utils"),l=u(e("../../../components/ui/icon/search-icon"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(e){super(e),p(this,"state",{searchQuery:""});const{tokenList:t}=this.props;this.tokenList=Object.values(t),this.tokenSearchFuse=new o.default(this.tokenList,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"symbol",weight:.5}]})}handleSearch(e){this.setState({searchQuery:e});const t=this.tokenSearchFuse.search(e),n=[...this.tokenList.filter((t=>t.address&&e&&(0,c.isEqualCaseInsensitive)(t.address,e))),...t];this.props.onSearch({searchQuery:e,results:n})}renderAdornment(){return a.default.createElement(s.default,{position:"start",style:{marginRight:"12px"}},a.default.createElement(l.default,{color:"var(--color-icon-muted)"}))}render(){const{error:e}=this.props,{searchQuery:t}=this.state;return a.default.createElement(i.default,{id:"search-tokens",placeholder:this.context.t("searchTokens"),type:"text",value:t,onChange:e=>this.handleSearch(e.target.value),error:e,fullWidth:!0,autoFocus:!0,autoComplete:"off",startAdornment:this.renderAdornment()})}}n.default=f,p(f,"contextTypes",{t:r.default.func}),p(f,"defaultProps",{error:null}),p(f,"propTypes",{onSearch:r.default.func,error:r.default.string,tokenList:r.default.object})}}},{package:"$root$"}],[6239,{"../contexts/i18n":6010,"../contexts/metametrics":6011,"./error":6185,"./routes":6273,"@sentry/browser":1293,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=p(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=m(e("@sentry/browser")),c=e("../contexts/i18n"),l=e("../contexts/metametrics"),u=p(e("./error")),d=p(e("./routes"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}class h extends a.PureComponent{constructor(...e){var t,n,a;super(...e),a={},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){i.captureException(e)}render(){const{error:e,errorId:t}=this.state,{store:n}=this.props;return e?a.default.createElement(o.Provider,{store:n},a.default.createElement(c.I18nProvider,null,a.default.createElement(c.LegacyI18nProvider,null,a.default.createElement(u.default,{error:e,errorId:t})))):a.default.createElement(o.Provider,{store:n},a.default.createElement(s.HashRouter,{hashType:"noslash"},a.default.createElement(l.MetaMetricsProvider,null,a.default.createElement(l.LegacyMetaMetricsProvider,null,a.default.createElement(c.I18nProvider,null,a.default.createElement(c.LegacyI18nProvider,null,a.default.createElement(d.default,null)))))))}}h.propTypes={store:r.default.object};var g=h;n.default=g}}},{package:"$root$"}],[624,{"../styles/transitions":868,"../styles/useTheme":869,"../transitions/utils":873,"../utils/useForkRef":895,"@babel/runtime/helpers/extends":180,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@babel/runtime/helpers/objectWithoutProperties":192,"@babel/runtime/helpers/slicedToArray":197,"prop-types":4875,react:5049,"react-transition-group":848},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/slicedToArray")),i=r(e("@babel/runtime/helpers/objectWithoutProperties")),c=a(e("react")),l=(r(e("prop-types")),e("react-transition-group")),u=e("../styles/transitions"),d=r(e("../styles/useTheme")),p=e("../transitions/utils"),f=r(e("../utils/useForkRef")),m={entering:{opacity:1},entered:{opacity:1}},h={enter:u.duration.enteringScreen,exit:u.duration.leavingScreen},g=c.forwardRef((function(e,t){var n=e.children,a=e.disableStrictModeCompat,r=void 0!==a&&a,u=e.in,g=e.onEnter,E=e.onEntered,_=e.onEntering,y=e.onExit,v=e.onExited,b=e.onExiting,T=e.style,k=e.TransitionComponent,N=void 0===k?l.Transition:k,w=e.timeout,O=void 0===w?h:w,P=(0,i.default)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),A=(0,d.default)(),S=A.unstable_strictMode&&!r,C=c.useRef(null),R=(0,f.default)(n.ref,t),x=(0,f.default)(S?C:undefined,R),I=function(e){return function(t,n){if(e){var a=S?[C.current,t]:[t,n],r=(0,s.default)(a,2),o=r[0],i=r[1];i===undefined?e(o):e(o,i)}}},M=I(_),D=I((function(e,t){(0,p.reflow)(e);var n=(0,p.getTransitionProps)({style:T,timeout:O},{mode:"enter"});e.style.webkitTransition=A.transitions.create("opacity",n),e.style.transition=A.transitions.create("opacity",n),g&&g(e,t)})),j=I(E),L=I(b),F=I((function(e){var t=(0,p.getTransitionProps)({style:T,timeout:O},{mode:"exit"});e.style.webkitTransition=A.transitions.create("opacity",t),e.style.transition=A.transitions.create("opacity",t),y&&y(e)})),W=I(v);return c.createElement(N,(0,o.default)({appear:!0,in:u,nodeRef:S?C:undefined,onEnter:D,onEntered:j,onEntering:M,onExit:F,onExited:W,onExiting:L,timeout:O},P),(function(e,t){return c.cloneElement(n,(0,o.default)({style:(0,o.default)({opacity:0,visibility:"exited"!==e||u?undefined:"hidden"},m[e],T,n.props.style),ref:x},t))}))})),E=g;n.default=E}}},{package:"@material-ui/core"}],[6240,{"../../../shared/constants/metametrics":5402,"../../components/app/create-new-vault":5531,"../../components/ui/box":5839,"../../components/ui/button":5843,"../../components/ui/typography":6002,"../../helpers/constants/design-system":6033,"../../helpers/constants/routes":6037,"../../helpers/constants/zendesk-url":6040,"../../store/actions":6444,"prop-types":4875,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=h(e("prop-types")),o=e("react-redux"),s=e("../../store/actions"),i=e("../../helpers/constants/routes"),c=h(e("../../components/app/create-new-vault")),l=h(e("../../components/ui/button")),u=h(e("../../components/ui/box")),d=h(e("../../components/ui/typography")),p=h(e("../../helpers/constants/zendesk-url")),f=e("../../helpers/constants/design-system"),m=e("../../../shared/constants/metametrics");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.Component{constructor(...e){super(...e),E(this,"handleImport",(async(e,t)=>{const{createNewVaultAndRestore:n,leaveImportSeedScreenState:a,history:r}=this.props;a(),await n(e,t),this.context.trackEvent({category:m.EVENT.CATEGORIES.RETENTION,event:"onboardingRestoredVault",properties:{action:"userEntersSeedPhrase",legacy_event:!0}}),r.push(i.DEFAULT_ROUTE)}))}render(){const{t:e}=this.context,{isLoading:t}=this.props;return a.default.createElement(u.default,{className:"first-view-main-wrapper"},a.default.createElement(u.default,{className:"first-view-main"},a.default.createElement(u.default,{className:"import-account"},a.default.createElement("a",{className:"import-account__back-button",onClick:e=>{e.preventDefault(),this.props.leaveImportSeedScreenState(),this.props.history.push(i.DEFAULT_ROUTE)},href:"#"},`< ${e("back")}`),a.default.createElement(d.default,{variant:f.TYPOGRAPHY.H1,color:f.COLORS.TEXT_DEFAULT},e("resetWallet")),a.default.createElement(d.default,{color:f.COLORS.TEXT_DEFAULT},e("resetWalletSubHeader")),a.default.createElement(d.default,{color:f.COLORS.TEXT_DEFAULT,marginTop:4,marginBottom:4},e("resetWalletUsingSRP",[a.default.createElement(l.default,{type:"link",target:"_blank",rel:"noopener noreferrer",href:p.default.ADD_MISSING_ACCOUNTS,key:"import-account-secretphase",className:"import-account__link"},e("reAddAccounts")),a.default.createElement(l.default,{type:"link",target:"_blank",rel:"noopener noreferrer",href:p.default.IMPORT_ACCOUNTS,key:"import-account-reimport-accounts",className:"import-account__link"},e("reAdded")),a.default.createElement(l.default,{type:"link",target:"_blank",rel:"noopener noreferrer",href:p.default.ADD_CUSTOM_TOKENS,key:"import-account-readd-tokens",className:"import-account__link"},e("reAdded"))])),a.default.createElement(d.default,{color:f.COLORS.TEXT_DEFAULT,margin:0,marginBottom:4},e("resetWalletWarning")),a.default.createElement(c.default,{disabled:t,onSubmit:this.handleImport,submitText:e("restore")}))))}}E(_,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),E(_,"propTypes",{createNewVaultAndRestore:r.default.func.isRequired,leaveImportSeedScreenState:r.default.func,history:r.default.object,isLoading:r.default.bool});var y=(0,o.connect)((({appState:{isLoading:e}})=>({isLoading:e})),(e=>({leaveImportSeedScreenState:()=>{e((0,s.unMarkPasswordForgotten)())},createNewVaultAndRestore:(t,n)=>e((0,s.createNewVaultAndRestore)(t,n))})))(_);n.default=y}}},{package:"$root$"}],[6241,{"../../../shared/constants/metametrics":5402,"../../components/ui/button":5843,"../../components/ui/export-text-container":5873,"../../ducks/history/history":6022,"../../store/actions":6444,classnames:1844,"prop-types":4875,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=p(e("prop-types")),s=p(e("classnames")),i=e("../../store/actions"),c=p(e("../../components/ui/export-text-container")),l=e("../../ducks/history/history"),u=e("../../../shared/constants/metametrics"),d=p(e("../../components/ui/button"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m="PASSWORD_PROMPT_SCREEN";class h extends a.Component{constructor(...e){var t,n,a;super(...e),a={screen:m,password:"",seedWords:null,error:null},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){const e=document.getElementById("password-box");e&&e.focus()}handleSubmit(e){e.preventDefault(),this.setState({seedWords:null,error:null}),this.props.requestRevealSeedWords(this.state.password).then((e=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.KEYS,event:u.EVENT_NAMES.KEY_EXPORT_REVEALED,properties:{key_type:u.EVENT.KEY_TYPES.SRP}}),this.setState({seedWords:e,screen:"REVEAL_SEED_SCREEN"})})).catch((e=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.KEYS,event:u.EVENT_NAMES.KEY_EXPORT_FAILED,properties:{key_type:u.EVENT.KEY_TYPES.SRP,reason:e.message}}),this.setState({error:e.message})}))}renderWarning(){return a.default.createElement("div",{className:"page-container__warning-container"},a.default.createElement("i",{className:"fa fa-exclamation-triangle fa-2x page-container__warning-icon"}),a.default.createElement("div",{className:"page-container__warning-message"},a.default.createElement("div",{className:"page-container__warning-title"},this.context.t("revealSeedWordsWarningTitle")),a.default.createElement("div",null,this.context.t("revealSeedWordsWarning"))))}renderContent(){return this.state.screen===m?this.renderPasswordPromptContent():this.renderRevealSeedContent()}renderPasswordPromptContent(){const{t:e}=this.context;return a.default.createElement("form",{onSubmit:e=>this.handleSubmit(e)},a.default.createElement("label",{className:"input-label",htmlFor:"password-box"},e("enterPasswordContinue")),a.default.createElement("div",{className:"input-group"},a.default.createElement("input",{"data-testid":"input-password",type:"password",placeholder:e("password"),id:"password-box",value:this.state.password,onChange:e=>this.setState({password:e.target.value}),className:(0,s.default)("form-control",{"form-control--error":this.state.error})})),this.state.error&&a.default.createElement("div",{className:"reveal-seed__error"},this.state.error))}renderRevealSeedContent(){const{t:e,trackEvent:t}=this.context;return a.default.createElement("div",null,a.default.createElement("label",{className:"reveal-seed__label"},e("yourPrivateSeedPhrase")),a.default.createElement(c.default,{text:this.state.seedWords,onClickCopy:()=>{t({category:u.EVENT.CATEGORIES.KEYS,event:u.EVENT_NAMES.KEY_EXPORT_COPIED,properties:{key_type:u.EVENT.KEY_TYPES.SRP,copy_method:"clipboard"}})},onClickDownload:()=>{t({category:u.EVENT.CATEGORIES.KEYS,event:u.EVENT_NAMES.KEY_EXPORT_COPIED,properties:{key_type:u.EVENT.KEY_TYPES.SRP,copy_method:"file_download"}})}}))}renderFooter(){return this.state.screen===m?this.renderPasswordPromptFooter():this.renderRevealSeedFooter()}renderPasswordPromptFooter(){return a.default.createElement("div",{className:"page-container__footer"},a.default.createElement("footer",null,a.default.createElement(d.default,{type:"secondary",large:!0,className:"page-container__footer-button",onClick:()=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.KEYS,event:u.EVENT_NAMES.KEY_EXPORT_CANCELED,properties:{key_type:u.EVENT.KEY_TYPES.SRP}}),this.props.history.push(this.props.mostRecentOverviewPage)}},this.context.t("cancel")),a.default.createElement(d.default,{type:"primary",large:!0,className:"page-container__footer-button",onClick:e=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.KEYS,event:u.EVENT_NAMES.KEY_EXPORT_REQUESTED,properties:{key_type:u.EVENT.KEY_TYPES.SRP}}),this.handleSubmit(e)},disabled:""===this.state.password},this.context.t("next"))))}renderRevealSeedFooter(){return a.default.createElement("div",{className:"page-container__footer"},a.default.createElement(d.default,{type:"secondary",large:!0,className:"page-container__footer-single-button",onClick:()=>this.props.history.push(this.props.mostRecentOverviewPage)},this.context.t("close")))}render(){return a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},this.context.t("secretRecoveryPhrase")),a.default.createElement("div",{className:"page-container__subtitle"},this.context.t("revealSeedWordsDescription"))),a.default.createElement("div",{className:"page-container__content"},this.renderWarning(),a.default.createElement("div",{className:"reveal-seed__content"},this.renderContent())),this.renderFooter())}}h.propTypes={requestRevealSeedWords:o.default.func,history:o.default.object,mostRecentOverviewPage:o.default.string.isRequired},h.contextTypes={t:o.default.func,trackEvent:o.default.func};var g=(0,r.connect)((e=>({mostRecentOverviewPage:(0,l.getMostRecentOverviewPage)(e)})),(e=>({requestRevealSeedWords:t=>e((0,i.requestRevealSeedWords)(t))})))(h);n.default=g}}},{package:"$root$"}],[6242,{"./lock.container":6244},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./lock.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6243,{"../../components/ui/loading-screen":5928,"../../helpers/constants/routes":6037,"prop-types":4875,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=u(e("prop-types")),c=u(e("../../components/ui/loading-screen")),l=e("../../helpers/constants/routes");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}class p extends s.PureComponent{componentDidMount(){const{lockMetamask:e,isUnlocked:t,history:n}=this.props;t?e().then((()=>n.push(l.DEFAULT_ROUTE))):n.replace(l.DEFAULT_ROUTE)}render(){return s.default.createElement(c.default,null)}}n.default=p,a=p,r="propTypes",o={history:i.default.object,isUnlocked:i.default.bool,lockMetamask:i.default.func},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[6244,{"../../store/actions":6444,"./lock.component":6243,"react-redux":5008,"react-router-dom":5028,redux:5067},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("redux"),o=e("react-redux"),s=e("react-router-dom"),i=e("../../store/actions"),c=(a=e("./lock.component"))&&a.__esModule?a:{default:a};var l=(0,r.compose)(s.withRouter,(0,o.connect)((e=>{const{metamask:{isUnlocked:t}}=e;return{isUnlocked:t}}),(e=>({lockMetamask:()=>e((0,i.lockMetamask)())}))))(c.default);n.default=l}}},{package:"$root$"}],[6245,{"./mobile-sync.container":6247},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./mobile-sync.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[6246,{"../../../shared/constants/keyrings":5400,"../../../shared/constants/time":5408,"../../components/ui/button":5843,"../../components/ui/loading-screen":5928,classnames:1844,"prop-types":4875,pubnub:4884,"qrcode-generator":4912,react:5049},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=p(e("prop-types")),o=p(e("classnames")),s=p(e("pubnub")),i=p(e("qrcode-generator")),c=p(e("../../components/ui/button")),l=p(e("../../components/ui/loading-screen")),u=e("../../../shared/constants/time"),d=e("../../../shared/constants/keyrings");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h="PASSWORD_PROMPT_SCREEN",g=30*u.SECOND,E=2*u.MINUTE;class _ extends a.Component{constructor(...e){super(...e),m(this,"state",{screen:h,password:"",seedWords:null,importedAccounts:[],error:null,syncing:!1,completed:!1,channelName:undefined,cipherKey:undefined}),m(this,"syncing",!1)}componentDidMount(){const e=document.getElementById("password-box");e&&e.focus()}startIdleTimeout(){this.idleTimeout=setTimeout((()=>{this.clearTimeouts(),this.goBack()}),E)}handleSubmit(e){e.preventDefault(),this.setState({seedWords:null,error:null}),this.props.requestRevealSeedWords(this.state.password).then((e=>{this.startKeysGeneration(),this.startIdleTimeout(),this.exportAccounts().then((t=>{this.setState({seedWords:e,importedAccounts:t,screen:"REVEAL_SEED_SCREEN"})}))})).catch((e=>this.setState({error:e.message})))}async exportAccounts(){const e=[];this.props.keyrings.forEach((t=>{t.type===d.KEYRING_TYPES.IMPORTED&&e.push(t.accounts[0])}));return await this.props.exportAccounts(this.state.password,e)}startKeysGeneration(){this.keysGenerationTimeout&&clearTimeout(this.keysGenerationTimeout),this.disconnectWebsockets(),this.generateCipherKeyAndChannelName(),this.initWebsockets(),this.keysGenerationTimeout=setTimeout((()=>{this.startKeysGeneration()}),g)}goBack(){const{history:e,mostRecentOverviewPage:t}=this.props;e.push(t)}clearTimeouts(){this.keysGenerationTimeout&&clearTimeout(this.keysGenerationTimeout),this.idleTimeout&&clearTimeout(this.idleTimeout)}generateCipherKeyAndChannelName(){this.cipherKey=`${this.props.selectedAddress.substr(-4)}-${s.default.generateUUID()}`,this.channelName=`mm-${s.default.generateUUID()}`,this.setState({cipherKey:this.cipherKey,channelName:this.channelName})}initWithCipherKeyAndChannelName(e,t){this.cipherKey=e,this.channelName=t}initWebsockets(){this.disconnectWebsockets(),this.pubnub=new s.default({subscribeKey:"sub-c-16009c7a-31b6-11e9-a223-2ae0221900a7",publishKey:"pub-c-c839b707-d27a-442d-b273-df1cb0c69e9e",cipherKey:this.cipherKey,ssl:!0}),this.pubnubListener={message:e=>{const{channel:t,message:n}=e;t===this.channelName&&n&&("start-sync"===n.event?this.startSyncing():"connection-info"===n.event?(this.keysGenerationTimeout&&clearTimeout(this.keysGenerationTimeout),this.disconnectWebsockets(),this.initWithCipherKeyAndChannelName(n.cipher,n.channel),this.initWebsockets()):"end-sync"===n.event&&(this.disconnectWebsockets(),this.setState({syncing:!1,completed:!0})))}},this.pubnub.addListener(this.pubnubListener),this.pubnub.subscribe({channels:[this.channelName],withPresence:!1})}disconnectWebsockets(){this.pubnub&&this.pubnubListener&&this.pubnub.removeListener(this.pubnubListener)}calculatePayloadSize(e,t){return encodeURIComponent(e+JSON.stringify(t)).length+100}chunkString(e,t){const n=Math.ceil(e.length/t),a=new Array(n);let r=0;for(let o=0;o<n;o+=1)a[o]=e.substr(r,t),r+=t;return a}notifyError(e){return new Promise(((t,n)=>{this.pubnub.publish({message:{event:"error-sync",data:e},channel:this.channelName,sendByPost:!1,storeInHistory:!1},((e,a)=>{e.error?n(e.errorData):t()}))}))}async startSyncing(){if(this.syncing)return;this.syncing=!0,this.setState({syncing:!0});const{accounts:e,network:t,preferences:n,transactions:a,tokens:r}=await this.props.fetchInfoToSync(),{t:o}=this.context,s=JSON.stringify({accounts:e,network:t,preferences:n,transactions:a,tokens:r,udata:{pwd:this.state.password,seed:this.state.seedWords,importedAccounts:this.state.importedAccounts}}),i=this.chunkString(s,17e3),c=i.length;try{for(let e=0;e<c;e++)await this.sendMessage(i[e],e+1,c)}catch(e){this.props.displayWarning(`${o("syncFailed")} :(`),this.setState({syncing:!1}),this.syncing=!1,this.notifyError(e.toString())}}sendMessage(e,t,n){return new Promise(((a,r)=>{this.pubnub.publish({message:{event:"syncing-data",data:e,totalPkg:n,currentPkg:t},channel:this.channelName,sendByPost:!1,storeInHistory:!1},((e,t)=>{e.error?r(e.errorData):a()}))}))}componentWillUnmount(){this.state.error&&this.props.hideWarning(),this.clearTimeouts(),this.disconnectWebsockets()}renderWarning(e){return a.default.createElement("div",{className:"page-container__warning-container"},a.default.createElement("div",{className:"page-container__warning-message"},a.default.createElement("div",null,e)))}renderContent(){const{syncing:e,completed:t,screen:n}=this.state,{t:r}=this.context;return e?a.default.createElement(l.default,{loadingMessage:r("syncInProgress")}):t?a.default.createElement("div",{className:"reveal-seed__content"},a.default.createElement("label",{className:"reveal-seed__label",style:{width:"100%",textAlign:"center"}},r("syncWithMobileComplete"))):n===h?a.default.createElement("div",null,this.renderWarning(this.context.t("mobileSyncWarning"))):a.default.createElement("div",null,this.renderWarning(this.context.t("syncWithMobileBeCareful")),a.default.createElement("div",{className:"reveal-seed__content"},this.renderRevealSeedContent()))}renderPasswordPromptContent(){const{t:e}=this.context;return a.default.createElement("form",{onSubmit:e=>this.handleSubmit(e)},a.default.createElement("label",{className:"input-label",htmlFor:"password-box"},e("enterPasswordContinue")),a.default.createElement("div",{className:"input-group"},a.default.createElement("input",{type:"password",placeholder:e("password"),id:"password-box",value:this.state.password,onChange:e=>this.setState({password:e.target.value}),className:(0,o.default)("form-control",{"form-control--error":this.state.error})})),this.state.error&&a.default.createElement("div",{className:"reveal-seed__error"},this.state.error))}renderRevealSeedContent(){const e=(0,i.default)(0,"M");e.addData(`metamask-sync:${this.state.channelName}|@|${this.state.cipherKey}`),e.make();const{t:t}=this.context;return a.default.createElement("div",null,a.default.createElement("label",{className:"reveal-seed__label",style:{width:"100%",textAlign:"center"}},t("syncWithMobileScanThisCode")),a.default.createElement("div",{style:{display:"flex",justifyContent:"center"},dangerouslySetInnerHTML:{__html:e.createTableTag(4)}}))}renderFooter(){return this.state.screen===h?this.renderPasswordPromptFooter():this.renderRevealSeedFooter()}renderPasswordPromptFooter(){const{t:e}=this.context,{password:t}=this.state;return a.default.createElement("div",{className:"new-account-import-form__buttons",style:{padding:"30px 15px 30px 15px",marginTop:0}},a.default.createElement(c.default,{type:"secondary",large:!0,className:"new-account-create-form__button",onClick:()=>this.goBack()},e("cancel")),a.default.createElement(c.default,{type:"primary",large:!0,className:"new-account-create-form__button",onClick:e=>this.handleSubmit(e),disabled:""===t},e("next")))}renderRevealSeedFooter(){const{t:e}=this.context;return a.default.createElement("div",{className:"page-container__footer",style:{padding:30}},a.default.createElement(c.default,{type:"secondary",large:!0,className:"page-container__footer-button",onClick:()=>this.goBack()},e("close")))}render(){const{t:e}=this.context,{screen:t}=this.state;return a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},e("syncWithMobileTitle")),t===h?a.default.createElement("div",{className:"page-container__subtitle"},e("syncWithMobileDesc")):null,t===h?a.default.createElement("div",{className:"page-container__subtitle"},e("syncWithMobileDescNewUsers")):null),a.default.createElement("div",{className:"page-container__content"},this.renderContent()),this.renderFooter())}}n.default=_,m(_,"contextTypes",{t:r.default.func}),m(_,"propTypes",{history:r.default.object.isRequired,selectedAddress:r.default.string.isRequired,displayWarning:r.default.func.isRequired,fetchInfoToSync:r.default.func.isRequired,mostRecentOverviewPage:r.default.string.isRequired,requestRevealSeedWords:r.default.func.isRequired,exportAccounts:r.default.func.isRequired,keyrings:r.default.array,hideWarning:r.default.func.isRequired})}}},{package:"$root$"}],[6247,{"../../ducks/history/history":6022,"../../selectors":6437,"../../store/actions":6444,"./mobile-sync.component":6246,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../store/actions"),s=e("../../ducks/history/history"),i=e("../../selectors"),c=(a=e("./mobile-sync.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((e=>{const{metamask:{selectedAddress:t}}=e;return{mostRecentOverviewPage:(0,s.getMostRecentOverviewPage)(e),selectedAddress:t,keyrings:(0,i.getMetaMaskKeyrings)(e)}}),(e=>({requestRevealSeedWords:t=>e((0,o.requestRevealSeedWords)(t)),fetchInfoToSync:()=>e((0,o.fetchInfoToSync)()),displayWarning:t=>e((0,o.displayWarning)(t||null)),exportAccounts:(t,n)=>e((0,o.exportAccounts)(t,n)),hideWarning:()=>e((0,o.hideWarning)())})))(c.default);n.default=l}}},{package:"$root$"}],[6248,{"../../../components/ui/box/box":5838,"../../../components/ui/typography/typography":6003,"../../../helpers/constants/design-system":6033,"../../../hooks/useI18nContext":6091,"../../../store/actions":6444,"../../settings/networks-tab/networks-form/networks-form":6342,react:5049,"react-redux":5008},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useDispatch)(),t=(0,o.useI18nContext)(),n=()=>e((0,s.hideModal)({name:"ONBOARDING_ADD_NETWORK"}));return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{paddingTop:4},a.default.createElement(i.default,{variant:l.TYPOGRAPHY.H4,align:l.TEXT_ALIGN.CENTER,fontWeight:l.FONT_WEIGHT.BOLD},t("onboardingMetametricsModalTitle"))),a.default.createElement(u.default,{addNewNetwork:!0,restrictHeight:!0,networksToRender:[],cancelCallback:n,submitCallback:n}))};var a=d(e("react")),r=e("react-redux"),o=e("../../../hooks/useI18nContext"),s=e("../../../store/actions"),i=d(e("../../../components/ui/typography/typography")),c=d(e("../../../components/ui/box/box")),l=e("../../../helpers/constants/design-system"),u=d(e("../../settings/networks-tab/networks-form/networks-form"));function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$"}],[6249,{"../../../../shared/constants/metametrics":5402,"../../../components/app/step-progress-bar":5710,"../../../components/ui/box":5839,"../../../components/ui/button":5843,"../../../components/ui/check-box":5849,"../../../components/ui/form-field":5875,"../../../components/ui/typography":6002,"../../../contexts/metametrics":6011,"../../../helpers/constants/design-system":6033,"../../../helpers/constants/onboarding":6036,"../../../helpers/constants/routes":6037,"../../../helpers/constants/zendesk-url":6040,"../../../hooks/useI18nContext":6091,"../../../selectors":6437,"prop-types":4875,react:5049,"react-redux":5008,"react-router-dom":5028,zxcvbn:5391},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=N;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=T(e("prop-types")),o=e("react-router-dom"),s=T(e("zxcvbn")),i=e("react-redux"),c=e("../../../hooks/useI18nContext"),l=T(e("../../../components/ui/button")),u=T(e("../../../components/ui/typography")),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/routes"),f=T(e("../../../components/ui/form-field")),m=T(e("../../../components/ui/box")),h=T(e("../../../components/ui/check-box")),g=e("../../../components/app/step-progress-bar"),E=T(e("../../../helpers/constants/zendesk-url")),_=e("../../../selectors"),y=e("../../../helpers/constants/onboarding"),v=e("../../../contexts/metametrics"),b=e("../../../../shared/constants/metametrics");function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function N({createNewAccount:e,importWithRecoveryPhrase:t,secretRecoveryPhrase:n}){const r=(0,c.useI18nContext)(),[T,k]=(0,a.useState)(""),[N,w]=(0,a.useState)(""),[O,P]=(0,a.useState)(""),[A,S]=(0,a.useState)(""),[C,R]=(0,a.useState)(""),[x,I]=(0,a.useState)(""),[M,D]=(0,a.useState)(!1),[j,L]=(0,a.useState)(!1),F=(0,o.useHistory)(),W=(0,i.useSelector)(_.getFirstTimeFlowType),U=(0,a.useContext)(v.MetaMetricsContext),$=(0,i.useSelector)(_.getCurrentKeyring);(0,a.useEffect)((()=>{$&&(W===y.FIRST_TIME_FLOW_TYPES.IMPORT?F.replace(p.ONBOARDING_COMPLETION_ROUTE):F.replace(p.ONBOARDING_SECURE_YOUR_WALLET_ROUTE))}),[$,F,W]);const G=(0,a.useMemo)((()=>!(!N||!T||N!==T)&&(!(N.length<8)&&(!O&&!x))),[N,T,O,x]),B=async a=>{if(a.preventDefault(),G)if(U({category:b.EVENT.CATEGORIES.ONBOARDING,event:b.EVENT_NAMES.ONBOARDING_WALLET_CREATION_ATTEMPTED}),n&&W===y.FIRST_TIME_FLOW_TYPES.IMPORT)await t(N,n),F.push(p.ONBOARDING_COMPLETION_ROUTE);else try{e&&await e(N),F.push(p.ONBOARDING_SECURE_YOUR_WALLET_ROUTE)}catch(e){P(e.message)}};return a.default.createElement("div",{className:"create-password__wrapper","data-testid":"create-password"},n&&W===y.FIRST_TIME_FLOW_TYPES.IMPORT?a.default.createElement(g.TwoStepProgressBar,{stage:g.twoStepStages.PASSWORD_CREATE,marginBottom:4}):a.default.createElement(g.ThreeStepProgressBar,{stage:g.threeStepStages.PASSWORD_CREATE,marginBottom:4}),a.default.createElement(u.default,{variant:d.TYPOGRAPHY.H2,fontWeight:d.FONT_WEIGHT.BOLD},r("createPassword")),a.default.createElement(u.default,{variant:d.TYPOGRAPHY.H4,align:d.TEXT_ALIGN.CENTER},r("passwordSetupDetails")),a.default.createElement(m.default,{justifyContent:d.JUSTIFY_CONTENT.CENTER,marginTop:3},a.default.createElement("form",{className:"create-password__form",onSubmit:B},a.default.createElement(f.default,{dataTestId:"create-password-new",autoFocus:!0,error:O,passwordStrength:A,passwordStrengthText:C,onChange:e=>{let t="",n="";const o=(0,s.default)(e),i=(c=o.score,l=r,c>=4?{className:"create-password__strong",text:l("strong"),description:""}:3===c?{className:"create-password__average",text:l("average"),description:r("passwordStrengthDescription")}:{className:"create-password__weak",text:l("weak"),description:r("passwordStrengthDescription")});var c,l;let u=i.description,d=r("passwordStrength",[a.default.createElement("span",{key:o.score,className:i.className},i.text)]);e.length<8&&(n=e.length?r("passwordNotLongEnough"):"",d=null,u=""),T&&e!==T&&(t=r("passwordsDontMatch")),w(e),P(n),S(d),R(u),I(t)},password:!j,titleText:r("newPassword"),value:N,titleDetail:a.default.createElement(u.default,{variant:d.TYPOGRAPHY.H7},a.default.createElement("a",{href:"",className:"create-password__form--password-button",onClick:e=>{e.preventDefault(),L(!j)}},r(j?"hide":"show")))}),a.default.createElement(f.default,{dataTestId:"create-password-confirm",onChange:e=>{let t="";N!==e&&(t=r("passwordsDontMatch")),k(e),I(t)},password:!j,error:x,titleText:r("confirmPassword"),value:T,titleDetail:G&&a.default.createElement("div",{className:"create-password__form--checkmark"},a.default.createElement("i",{className:"fas fa-check"}))}),a.default.createElement(m.default,{alignItems:d.ALIGN_ITEMS.CENTER,justifyContent:d.JUSTIFY_CONTENT.SPACE_BETWEEN,marginBottom:4},a.default.createElement("label",{className:"create-password__form__terms-label"},a.default.createElement(h.default,{dataTestId:"create-password-terms",onClick:()=>D(!M),checked:M}),a.default.createElement(u.default,{variant:d.TYPOGRAPHY.H5,boxProps:{marginLeft:3}},r("passwordTermsWarning",[a.default.createElement("a",{onClick:e=>e.stopPropagation(),key:"create-password__link-text",href:E.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},a.default.createElement("span",{className:"create-password__link-text"},r("learnMoreUpperCase")))])))),a.default.createElement(l.default,{"data-testid":n&&W===y.FIRST_TIME_FLOW_TYPES.IMPORT?"create-password-import":"create-password-wallet",type:"primary",large:!0,className:"create-password__form--submit-button",disabled:!G||!M,onClick:B},n&&W===y.FIRST_TIME_FLOW_TYPES.IMPORT?r("importMyWallet"):r("createNewWallet")))))}N.propTypes={createNewAccount:r.default.func,importWithRecoveryPhrase:r.default.func,secretRecoveryPhrase:r.default.string}}}},{package:"$root$"}],[625,{"./Fade":624,"@babel/runtime/helpers/interopRequireDefault":184},function(){with(this)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./Fade"))}}},{package:"@material-ui/core"}],[6250,{"../../../../shared/constants/metametrics":5402,"../../../components/ui/box":5839,"../../../components/ui/button":5843,"../../../components/ui/typography":6002,"../../../contexts/metametrics":6011,"../../../helpers/constants/design-system":6033,"../../../helpers/constants/onboarding":6036,"../../../helpers/constants/routes":6037,"../../../helpers/utils/build-types":6050,"../../../hooks/useI18nContext":6091,"../../../selectors":6437,react:5049,"react-redux":5008,"react-router-dom":5028},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useHistory)(),t=(0,u.useI18nContext)(),n=(0,a.useContext)(g.MetaMetricsContext),E=(0,o.useSelector)(f.getFirstTimeFlowType);return a.default.createElement("div",{className:"creation-successful","data-testid":"creation-successful"},a.default.createElement(s.default,{textAlign:l.TEXT_ALIGN.CENTER},a.default.createElement("img",{src:"./images/tada.png"}),a.default.createElement(i.default,{variant:l.TYPOGRAPHY.H2,fontWeight:l.FONT_WEIGHT.BOLD,margin:6},t("walletCreationSuccessTitle")),a.default.createElement(i.default,{variant:l.TYPOGRAPHY.H4},t("walletCreationSuccessDetail"))),a.default.createElement(i.default,{variant:l.TYPOGRAPHY.H4,boxProps:{align:l.ALIGN_ITEMS.LEFT},marginLeft:12},t("remember")),a.default.createElement("ul",null,a.default.createElement("li",null,a.default.createElement(i.default,{variant:l.TYPOGRAPHY.H4},(0,p.isBeta)()?t("betaWalletCreationSuccessReminder1"):t("walletCreationSuccessReminder1"))),a.default.createElement("li",null,a.default.createElement(i.default,{variant:l.TYPOGRAPHY.H4},(0,p.isBeta)()?t("betaWalletCreationSuccessReminder2"):t("walletCreationSuccessReminder2"))),a.default.createElement("li",null,a.default.createElement(i.default,{variant:l.TYPOGRAPHY.H4},t("walletCreationSuccessReminder3",[a.default.createElement("span",{key:"creation-successful__bold",className:"creation-successful__bold"},t("walletCreationSuccessReminder3BoldSection"))]))),a.default.createElement("li",null,a.default.createElement(c.default,{href:"https://community.metamask.io/t/what-is-a-secret-recovery-phrase-and-how-to-keep-your-crypto-wallet-secure/3440",target:"_blank",type:"link",rel:"noopener noreferrer"},t("learnMoreUpperCase")))),a.default.createElement(s.default,{marginTop:6,className:"creation-successful__actions"},a.default.createElement(c.default,{type:"link",onClick:()=>e.push(d.ONBOARDING_PRIVACY_SETTINGS_ROUTE)},t("advancedConfiguration")),a.default.createElement(c.default,{"data-testid":"onboarding-complete-done",type:"primary",large:!0,rounded:!0,onClick:()=>{n({category:m.EVENT.CATEGORIES.ONBOARDING,event:E===h.FIRST_TIME_FLOW_TYPES.IMPORT?m.EVENT_NAMES.ONBOARDING_WALLET_IMPORT_COMPLETE:m.EVENT_NAMES.ONBOARDING_WALLET_CREATION_COMPLETE,properties:{method:E}}),e.push(d.ONBOARDING_PIN_EXTENSION_ROUTE)}},t("gotIt"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-router-dom"),o=e("react-redux"),s=E(e("../../../components/ui/box")),i=E(e("../../../components/ui/typography")),c=E(e("../../../components/ui/button")),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../helpers/utils/build-types"),f=e("../../../selectors"),m=e("../../../../shared/constants/metametrics"),h=e("../../../helpers/constants/onboarding"),g=e("../../../contexts/metametrics");function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$"}]],[],{});