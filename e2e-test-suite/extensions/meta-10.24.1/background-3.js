LavaPack.loadBundle([[33,{"../../../../shared/constants/app":5397,"../../../../shared/constants/gas":5398,"../../../../shared/constants/metametrics":5402,"../../../../shared/constants/network":5403,"../../../../shared/constants/transaction":5410,"../../../../shared/lib/transactions-controller-utils":5417,"../../../../shared/modules/conversion.utils":5422,"../../../../shared/modules/swaps.utils":5433,"../../../../shared/modules/transaction.utils":5434,"../../lib/cleanErrorStack":44,"../../lib/util":87,"../../metamask-controller":88,"./lib/util":35,"./pending-tx-tracker":36,"./tx-gas-utils":37,"./tx-state-manager":38,"@ethereumjs/common":326,"@ethereumjs/tx":331,"@metamask/obs-store":1217,"bignumber.js":1706,"eth-rpc-errors":2103,"ethereumjs-util":2178,"ethjs-query":2614,lodash:4765,loglevel:4778,"nonce-tracker":4835,"safe-event-emitter":5082},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=C(e("safe-event-emitter")),a=e("@metamask/obs-store"),o=e("ethereumjs-util"),i=C(e("ethjs-query")),s=e("eth-rpc-errors"),c=C(e("@ethereumjs/common")),u=e("@ethereumjs/tx"),d=C(e("nonce-tracker")),l=C(e("loglevel")),f=C(e("bignumber.js")),h=e("lodash"),p=C(e("../../lib/cleanErrorStack")),m=e("../../lib/util"),g=e("../../../../shared/constants/transaction"),v=e("../../metamask-controller"),b=e("../../../../shared/constants/gas"),y=e("../../../../shared/modules/conversion.utils"),x=e("../../../../shared/modules/swaps.utils"),E=e("../../../../shared/constants/metametrics"),T=e("../../../../shared/constants/network"),S=e("../../../../shared/modules/transaction.utils"),w=e("../../../../shared/constants/app"),P=e("../../../../shared/lib/transactions-controller-utils"),k=C(e("./tx-state-manager")),_=C(e("./tx-gas-utils")),A=C(e("./pending-tx-tracker")),I=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=R(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("./lib/util"));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(R=function(e){return e?r:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}const N=[g.TRANSACTION_TYPES.SWAP,g.TRANSACTION_TYPES.SWAP_APPROVAL],O=[...N,g.TRANSACTION_TYPES.SIMPLE_SEND,g.TRANSACTION_TYPES.TOKEN_METHOD_TRANSFER,g.TRANSACTION_TYPES.TOKEN_METHOD_TRANSFER_FROM,g.TRANSACTION_TYPES.CONTRACT_INTERACTION],D="failed on-chain";class B extends n.default{constructor(e){super(),this.networkStore=e.networkStore||new a.ObservableStore({}),this._getCurrentChainId=e.getCurrentChainId,this.getProviderConfig=e.getProviderConfig,this._getCurrentNetworkEIP1559Compatibility=e.getCurrentNetworkEIP1559Compatibility,this._getCurrentAccountEIP1559Compatibility=e.getCurrentAccountEIP1559Compatibility,this.preferencesStore=e.preferencesStore||new a.ObservableStore({}),this.provider=e.provider,this.getPermittedAccounts=e.getPermittedAccounts,this.blockTracker=e.blockTracker,this.signEthTx=e.signTransaction,this.inProcessOfSigning=new Set,this._trackMetaMetricsEvent=e.trackMetaMetricsEvent,this._getParticipateInMetrics=e.getParticipateInMetrics,this._getEIP1559GasFeeEstimates=e.getEIP1559GasFeeEstimates,this.createEventFragment=e.createEventFragment,this.updateEventFragment=e.updateEventFragment,this.finalizeEventFragment=e.finalizeEventFragment,this.getEventFragmentById=e.getEventFragmentById,this.getDeviceModel=e.getDeviceModel,this.getAccountType=e.getAccountType,this.getTokenStandardAndDetails=e.getTokenStandardAndDetails,this.memStore=new a.ObservableStore({}),this.resetState=()=>{this._updateMemstore()},this.query=new i.default(this.provider),this.txGasUtil=new _.default(this.provider),this._mapMethods(),this.txStateManager=new k.default({initState:e.initState,txHistoryLimit:e.txHistoryLimit,getNetwork:this.getNetwork.bind(this),getCurrentChainId:e.getCurrentChainId}),this.store=this.txStateManager.store,this.nonceTracker=new d.default({provider:this.provider,blockTracker:this.blockTracker,getPendingTransactions:(...t)=>[...this.txStateManager.getPendingTransactions(...t),...e.getExternalPendingTransactions(...t)],getConfirmedTransactions:this.txStateManager.getConfirmedTransactions.bind(this.txStateManager)}),this.pendingTxTracker=new A.default({provider:this.provider,nonceTracker:this.nonceTracker,publishTransaction:e=>this.query.sendRawTransaction(e),getPendingTransactions:()=>[...this.txStateManager.getPendingTransactions(),...this.txStateManager.getApprovedTransactions()],approveTransaction:this.approveTransaction.bind(this),getCompletedTransactions:this.txStateManager.getConfirmedTransactions.bind(this.txStateManager)}),this.txStateManager.store.subscribe((()=>this.emit(v.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE))),this._setupListeners(),this._updateMemstore(),this.txStateManager.store.subscribe((()=>this._updateMemstore())),this.networkStore.subscribe((()=>{this._onBootCleanUp(),this._updateMemstore()})),this._updatePendingTxsAfterFirstBlock(),this._onBootCleanUp()}getChainId(){const e=this.networkStore.getState(),t=this._getCurrentChainId(),r=parseInt(t,16);return"loading"===e||Number.isNaN(r)?0:r}async getEIP1559Compatibility(e){const t=await this._getCurrentNetworkEIP1559Compatibility(),r=await this._getCurrentAccountEIP1559Compatibility(e);return t&&r}async getCommonConfiguration(e){const{type:t,nickname:r}=this.getProviderConfig(),n=await this.getEIP1559Compatibility(e)?T.HARDFORKS.LONDON:T.HARDFORKS.BERLIN;if(t!==T.NETWORK_TYPES.RPC&&t!==T.NETWORK_TYPES.SEPOLIA)return new c.default({chain:t,hardfork:n});const a=parseInt(this._getCurrentChainId(),16),o=this.networkStore.getState(),i={name:r,chainId:a,networkId:"loading"===o?0:parseInt(o,10)};return c.default.forCustomChain(T.NETWORK_TYPES.MAINNET,i,n)}addTransaction(e){this.txStateManager.addTransaction(e),this.emit(`${e.id}:unapproved`,e),this._trackTransactionMetricsEvent(e,g.TRANSACTION_EVENTS.ADDED,e.actionId)}wipeTransactions(e){this.txStateManager.wipeTransactions(e)}async newUnapprovedTransaction(e,t={}){l.default.debug(`MetaMaskController newUnapprovedTransaction ${JSON.stringify(e)}`);const r=await this.addUnapprovedTransaction(e,t.origin);return new Promise(((e,t)=>{this.txStateManager.once(`${r.id}:finished`,(r=>{switch(r.status){case g.TRANSACTION_STATUSES.SUBMITTED:return e(r.hash);case g.TRANSACTION_STATUSES.REJECTED:return t((0,p.default)(s.ethErrors.provider.userRejectedRequest("MetaMask Tx Signature: User denied transaction signature.")));case g.TRANSACTION_STATUSES.FAILED:return t((0,p.default)(s.ethErrors.rpc.internal(r.err.message)));default:return t((0,p.default)(s.ethErrors.rpc.internal(`MetaMask Tx Signature: Unknown problem: ${JSON.stringify(r.txParams)}`)))}}))}))}_getTransaction(e){const{transactions:t}=this.store.getState();return t[e]}_isUnapprovedTransaction(e){return this.txStateManager.getTransaction(e).status===g.TRANSACTION_STATUSES.UNAPPROVED}_throwErrorIfNotUnapprovedTx(e,t){if(!this._isUnapprovedTransaction(e))throw new Error(`TransactionsController: Can only call ${t} on an unapproved transaction.\n         Current tx status: ${this.txStateManager.getTransaction(e).status}`)}_updateTransaction(e,t,r){const n=this.txStateManager.getTransaction(e),a=(0,h.merge)(n,t);this.txStateManager.updateTransaction(a,r)}updatePreviousGasParams(e,{maxFeePerGas:t,maxPriorityFeePerGas:r,gasLimit:n}){const a={previousGas:{maxFeePerGas:t,maxPriorityFeePerGas:r,gasLimit:n}};a.previousGas=(0,h.pickBy)(a.previousGas);const o=`Update Previous Gas for ${e}`;return this._updateTransaction(e,a,o),this._getTransaction(e)}async updateEditableParams(e,{data:t,from:r,to:n,value:a,gas:o,gasPrice:i}){this._throwErrorIfNotUnapprovedTx(e,"updateEditableParams");const s={txParams:{data:t,from:r,to:n,value:a,gas:o,gasPrice:i}};s.txParams=(0,h.pickBy)(s.txParams,(e=>e!==undefined));const c=this._getTransaction(e),{type:u}=await(0,S.determineTransactionType)({...c.txParams,...s.txParams},this.query);s.type=u;const d=`Update Editable Params for ${e}`;return this._updateTransaction(e,s,d),this._getTransaction(e)}updateTransactionGasFees(e,{gas:t,gasLimit:r,gasPrice:n,maxPriorityFeePerGas:a,maxFeePerGas:o,estimateUsed:i,estimateSuggested:s,defaultGasEstimates:c,originalGasEstimate:u,userEditedGasLimit:d,userFeeLevel:l}){this._throwErrorIfNotUnapprovedTx(e,"updateTransactionGasFees");let f={txParams:{gas:t,gasLimit:r,gasPrice:n,maxPriorityFeePerGas:a,maxFeePerGas:o},estimateUsed:i,estimateSuggested:s,defaultGasEstimates:c,originalGasEstimate:u,userEditedGasLimit:d,userFeeLevel:l};f.txParams=(0,h.pickBy)(f.txParams),f=(0,h.pickBy)(f);const p=`Update Transaction Gas Fees for ${e}`;return this._updateTransaction(e,f,p),this._getTransaction(e)}updateTransactionEstimatedBaseFee(e,{estimatedBaseFee:t,decEstimatedBaseFee:r}){this._throwErrorIfNotUnapprovedTx(e,"updateTransactionEstimatedBaseFee");let n={estimatedBaseFee:t,decEstimatedBaseFee:r};n=(0,h.pickBy)(n);const a=`Update Transaction Estimated Base Fees for ${e}`;return this._updateTransaction(e,n,a),this._getTransaction(e)}updateSwapApprovalTransaction(e,{type:t,sourceTokenSymbol:r}){this._throwErrorIfNotUnapprovedTx(e,"updateSwapApprovalTransaction");let n={type:t,sourceTokenSymbol:r};n=(0,h.pickBy)(n);const a=`Update Swap Approval Transaction for ${e}`;return this._updateTransaction(e,n,a),this._getTransaction(e)}updateSwapTransaction(e,{sourceTokenSymbol:t,destinationTokenSymbol:r,type:n,destinationTokenDecimals:a,destinationTokenAddress:o,swapMetaData:i,swapTokenValue:s,estimatedBaseFee:c,approvalTxId:u}){this._throwErrorIfNotUnapprovedTx(e,"updateSwapTransaction");let d={sourceTokenSymbol:t,destinationTokenSymbol:r,type:n,destinationTokenDecimals:a,destinationTokenAddress:o,swapMetaData:i,swapTokenValue:s,estimatedBaseFee:c,approvalTxId:u};d=(0,h.pickBy)(d);const l=`Update Swap Transaction for ${e}`;return this._updateTransaction(e,d,l),this._getTransaction(e)}updateTransactionUserSettings(e,{userEditedGasLimit:t,userFeeLevel:r}){this._throwErrorIfNotUnapprovedTx(e,"updateTransactionUserSettings");let n={userEditedGasLimit:t,userFeeLevel:r};n=(0,h.pickBy)(n);const a=`Update User Settings for ${e}`;return this._updateTransaction(e,n,a),this._getTransaction(e)}updateTransactionSendFlowHistory(e,t,r){var n;this._throwErrorIfNotUnapprovedTx(e,"updateTransactionSendFlowHistory");const a=this._getTransaction(e);if(t===((null==a||null===(n=a.sendFlowHistory)||void 0===n?void 0:n.length)||0)){var o;const t=`Update sendFlowHistory for ${e}`;this.txStateManager.updateTransaction({...a,sendFlowHistory:[...null!==(o=null==a?void 0:a.sendFlowHistory)&&void 0!==o?o:[],...r]},t)}return this._getTransaction(e)}async addTransactionGasDefaults(e){const t=await(0,S.determineTransactionContractCode)(e.txParams,this.query);let r=e;try{r=await this.addTxGasDefaults(e,t)}catch(t){throw l.default.warn(t),r=this.txStateManager.getTransaction(e.id),r.loadingDefaults=!1,this.txStateManager.updateTransaction(e,"Failed to calculate gas defaults."),t}return r.loadingDefaults=!1,this.txStateManager.updateTransaction(r,"Added new unapproved transaction."),r}async addUnapprovedTransaction(e,t,r,n=[],a){if(r!==undefined&&!O.includes(r))throw new Error(`TransactionController - invalid transactionType value: ${r}`);if(a){let e=this.txStateManager.getTransactionWithActionId(a);if(e)return this.emit("newUnapprovedTx",e),e=await this.addTransactionGasDefaults(e),e}const o=I.normalizeTxParams(e),i=await this.getEIP1559Compatibility();I.validateTxParams(o,i);let c=this.txStateManager.generateTxMeta({txParams:o,origin:t,sendFlowHistory:n});if(a&&(c.actionId=a),t===w.ORIGIN_METAMASK){if(o.from!==this.getSelectedAddress())throw s.ethErrors.rpc.internal({message:"Internally initiated transaction is using invalid account.",data:{origin:t,fromAddress:o.from,selectedAddress:this.getSelectedAddress()}})}else{if(!(await this.getPermittedAccounts(t)).includes(o.from))throw s.ethErrors.provider.unauthorized({data:{origin:t}})}const{type:u}=await(0,S.determineTransactionType)(e,this.query);return c.type=r||u,c.txParams.value=c.txParams.value?(0,m.addHexPrefix)(c.txParams.value):"0x0",this.addTransaction(c),this.emit("newUnapprovedTx",c),c=await this.addTransactionGasDefaults(c),c}async addTxGasDefaults(e,t){const r=e.txParams.type!==g.TRANSACTION_ENVELOPE_TYPES.LEGACY&&await this.getEIP1559Compatibility(),{gasPrice:n,maxFeePerGas:a,maxPriorityFeePerGas:o}=await this._getDefaultGasFees(e,r),{gasLimit:i,simulationFails:s}=await this._getDefaultGasLimit(e,t);if(e=this.txStateManager.getTransaction(e.id),s&&(e.simulationFails=s),r){const{eip1559V2Enabled:t}=this.preferencesStore.getState(),r=this.getAdvancedGasFee();t&&Boolean(r)&&!N.includes(e.type)?(e.userFeeLevel=b.CUSTOM_GAS_ESTIMATE,e.txParams.maxFeePerGas=(0,y.decGWEIToHexWEI)(r.maxBaseFee),e.txParams.maxPriorityFeePerGas=(0,y.decGWEIToHexWEI)(r.priorityFee)):!e.txParams.gasPrice||e.txParams.maxFeePerGas||e.txParams.maxPriorityFeePerGas?(a&&o&&!e.txParams.maxFeePerGas&&!e.txParams.maxPriorityFeePerGas||e.origin===w.ORIGIN_METAMASK?e.userFeeLevel=b.GAS_RECOMMENDATIONS.MEDIUM:e.userFeeLevel=t?b.PRIORITY_LEVELS.DAPP_SUGGESTED:b.CUSTOM_GAS_ESTIMATE,a&&!e.txParams.maxFeePerGas&&(e.txParams.maxFeePerGas=a),o&&!e.txParams.maxPriorityFeePerGas&&(e.txParams.maxPriorityFeePerGas=o),n&&!e.txParams.maxFeePerGas&&(e.txParams.maxFeePerGas=n),e.txParams.maxFeePerGas&&!e.txParams.maxPriorityFeePerGas&&(e.txParams.maxPriorityFeePerGas=e.txParams.maxFeePerGas)):(e.txParams.maxFeePerGas=e.txParams.gasPrice,e.txParams.maxPriorityFeePerGas=e.txParams.gasPrice,t&&e.origin!==w.ORIGIN_METAMASK?e.userFeeLevel=b.PRIORITY_LEVELS.DAPP_SUGGESTED:e.userFeeLevel=b.CUSTOM_GAS_ESTIMATE),delete e.txParams.gasPrice}else delete e.txParams.maxPriorityFeePerGas,delete e.txParams.maxFeePerGas;return!n||e.txParams.gasPrice||e.txParams.maxPriorityFeePerGas||e.txParams.maxFeePerGas||(e.txParams.gasPrice=n),i&&!e.txParams.gas&&(e.txParams.gas=i,e.originalGasEstimate=i),e.defaultGasEstimates={estimateType:e.userFeeLevel,gas:e.txParams.gas,gasPrice:e.txParams.gasPrice,maxFeePerGas:e.txParams.maxFeePerGas,maxPriorityFeePerGas:e.txParams.maxPriorityFeePerGas},e}async _getDefaultGasFees(e,t){if(!t&&e.txParams.gasPrice||t&&e.txParams.maxFeePerGas&&e.txParams.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:e,gasEstimateType:r}=await this._getEIP1559GasFeeEstimates();if(t&&r===b.GAS_ESTIMATE_TYPES.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:t,suggestedMaxFeePerGas:r}={}}=e;if(t&&r)return{maxFeePerGas:(0,y.decGWEIToHexWEI)(r),maxPriorityFeePerGas:(0,y.decGWEIToHexWEI)(t)}}else{if(r===b.GAS_ESTIMATE_TYPES.LEGACY)return{gasPrice:(0,y.decGWEIToHexWEI)(e.medium)};if(r===b.GAS_ESTIMATE_TYPES.ETH_GASPRICE)return{gasPrice:(0,y.decGWEIToHexWEI)(e.gasPrice)}}}catch(e){console.error(e)}const r=await this.query.gasPrice();return{gasPrice:r&&(0,m.addHexPrefix)(r.toString(16))}}async _getDefaultGasLimit(e){const t=this._getCurrentChainId(),r=T.CHAIN_ID_TO_GAS_LIMIT_BUFFER_MAP[t],n=(0,m.getChainType)(t);if(e.txParams.gas)return{};if(e.txParams.to&&e.type===g.TRANSACTION_TYPES.SIMPLE_SEND&&"custom"!==n&&!e.txParams.data)return{gasLimit:b.GAS_LIMITS.SIMPLE};const{blockGasLimit:a,estimatedGasHex:o,simulationFails:i}=await this.txGasUtil.analyzeGasUsage(e);return{gasLimit:this.txGasUtil.addGasBuffer((0,m.addHexPrefix)(o),a,r),simulationFails:i}}generateNewGasParams(e,t={},r=11){const{txParams:n}=e,a={},o={};var i;t.gasLimit&&(o.gas=null!==(i=null==t?void 0:t.gas)&&void 0!==i?i:b.GAS_LIMITS.SIMPLE);return t.estimateSuggested&&(o.estimateSuggested=t.estimateSuggested),t.estimateUsed&&(o.estimateUsed=t.estimateUsed),(0,S.isEIP1559Transaction)(e)?(a.maxFeePerGas=n.maxFeePerGas,a.maxPriorityFeePerGas=n.maxPriorityFeePerGas,o.maxFeePerGas=(null==t?void 0:t.maxFeePerGas)||(0,m.bnToHex)((0,m.BnMultiplyByFraction)((0,m.hexToBn)(n.maxFeePerGas),r,10)),o.maxPriorityFeePerGas=(null==t?void 0:t.maxPriorityFeePerGas)||(0,m.bnToHex)((0,m.BnMultiplyByFraction)((0,m.hexToBn)(n.maxPriorityFeePerGas),r,10))):(a.gasPrice=n.gasPrice,o.gasPrice=(null==t?void 0:t.gasPrice)||(0,m.bnToHex)((0,m.BnMultiplyByFraction)((0,m.hexToBn)(n.gasPrice),r,10))),{previousGasParams:a,newGasParams:o}}async createCancelTransaction(e,t,{estimatedBaseFee:r,actionId:n}={}){if(n){const e=this.txStateManager.getTransactionWithActionId(n);if(e)return e}const a=this.txStateManager.getTransaction(e),{txParams:o}=a,{from:i,nonce:s}=o,{previousGasParams:c,newGasParams:u}=this.generateNewGasParams(a,{...t,gasLimit:t.gasLimit||b.GAS_LIMITS.SIMPLE}),d=this.txStateManager.generateTxMeta({txParams:{from:i,to:i,nonce:s,value:"0x0",...u},previousGasParams:c,loadingDefaults:!1,status:g.TRANSACTION_STATUSES.APPROVED,type:g.TRANSACTION_TYPES.CANCEL,actionId:n});return r&&(d.estimatedBaseFee=r),this.addTransaction(d),await this.approveTransaction(d.id,n),d}async createSpeedUpTransaction(e,t,{estimatedBaseFee:r,actionId:n}={}){if(n){const e=this.txStateManager.getTransactionWithActionId(n);if(e)return e}const a=this.txStateManager.getTransaction(e),{txParams:o}=a,{previousGasParams:i,newGasParams:s}=this.generateNewGasParams(a,t),c=this.txStateManager.generateTxMeta({txParams:{...o,...s},previousGasParams:i,loadingDefaults:!1,status:g.TRANSACTION_STATUSES.APPROVED,type:g.TRANSACTION_TYPES.RETRY,originalType:a.type,actionId:n});return r&&(c.estimatedBaseFee=r),this.addTransaction(c),await this.approveTransaction(c.id,n),c}async updateTransaction(e){this.txStateManager.updateTransaction(e,"confTx: user updated transaction")}async updateAndApproveTransaction(e,t){this.txStateManager.updateTransaction(e,"confTx: user approved transaction"),await this.approveTransaction(e.id,t)}async approveTransaction(e,t){const r=this.txStateManager.getTransaction(e);if(this.inProcessOfSigning.has(e))return;let n;this.inProcessOfSigning.add(e);try{this.txStateManager.setTxStatusApproved(e);const a=r.txParams.from;let{customNonceValue:o}=r;o=Number(o),n=await this.nonceTracker.getNonceLock(a);const i=r.previousGasParams?r.txParams.nonce:n.nextNonce,s=0===o?o:o||i;r.txParams.nonce=(0,m.addHexPrefix)(s.toString(16)),r.nonceDetails=n.nonceDetails,o&&(r.nonceDetails.customNonceValue=o),this.txStateManager.updateTransaction(r,"transactions#approveTransaction");const c=await this.signTransaction(e);await this.publishTransaction(e,c,t),this._trackTransactionMetricsEvent(r,g.TRANSACTION_EVENTS.APPROVED,t),n.releaseLock()}catch(r){try{this._failTransaction(e,r,t)}catch(e){l.default.error(e)}throw n&&n.releaseLock(),r}finally{this.inProcessOfSigning.delete(e)}}async approveTransactionsWithSameNonce(e=[]){if(0===e.length)return"";const t=e[0],r=await this.getCommonConfiguration(t.from),n=u.TransactionFactory.fromTxData(t,{common:r}),a=(0,o.bufferToHex)(n.serialize());if(this.inProcessOfSigning.has(a))return"";let i,s;this.inProcessOfSigning.add(a);try{const r=t.from;s=await this.nonceTracker.getNonceLock(r);const n=s.nextNonce;i=await Promise.all(e.map((e=>(e.nonce=(0,m.addHexPrefix)(n.toString(16)),this.signExternalTransaction(e)))))}catch(e){throw l.default.error(e),e}finally{s&&s.releaseLock(),this.inProcessOfSigning.delete(a)}return i}async signExternalTransaction(e){const t=I.normalizeTxParams(e),r=this.getChainId(),n=(0,S.isEIP1559Transaction)({txParams:t})?g.TRANSACTION_ENVELOPE_TYPES.FEE_MARKET:g.TRANSACTION_ENVELOPE_TYPES.LEGACY,a={...t,type:n,gasLimit:t.gas,chainId:(0,m.addHexPrefix)((0,P.decimalToHex)(r))},i=a.from,s=await this.getCommonConfiguration(i),c=u.TransactionFactory.fromTxData(a,{common:s}),d=await this.signEthTx(c,i);return(0,o.bufferToHex)(d.serialize())}async signTransaction(e){const t=this.txStateManager.getTransaction(e),r=this.getChainId(),n=(0,S.isEIP1559Transaction)(t)?g.TRANSACTION_ENVELOPE_TYPES.FEE_MARKET:g.TRANSACTION_ENVELOPE_TYPES.LEGACY,a={...t.txParams,type:n,chainId:r,gasLimit:t.txParams.gas},i=a.from,s=await this.getCommonConfiguration(a.from),c=u.TransactionFactory.fromTxData(a,{common:s}),d=await this.signEthTx(c,i);t.r=(0,o.bufferToHex)(d.r),t.s=(0,o.bufferToHex)(d.s),t.v=(0,o.bufferToHex)(d.v),this.txStateManager.updateTransaction(t,"transactions#signTransaction: add r, s, v values"),this.txStateManager.setTxStatusSigned(t.id);return(0,o.bufferToHex)(d.serialize())}async publishTransaction(e,t,r){const n=this.txStateManager.getTransaction(e);if(n.rawTx=t,n.type===g.TRANSACTION_TYPES.SWAP){const e=await this.query.getBalance(n.txParams.from);n.preTxBalance=e.toString(16)}let a;this.txStateManager.updateTransaction(n,"transactions#publishTransaction");try{a=await this.query.sendRawTransaction(t)}catch(e){if(!e.message.toLowerCase().includes("known transaction"))throw e;a=(0,o.keccak)((0,o.toBuffer)((0,m.addHexPrefix)(t),"hex")).toString("hex"),a=(0,m.addHexPrefix)(a)}this.setTxHash(e,a),this.txStateManager.setTxStatusSubmitted(e),this._trackTransactionMetricsEvent(n,g.TRANSACTION_EVENTS.SUBMITTED,r)}async updatePostTxBalance({txMeta:e,txId:t,numberOfAttempts:r=6}){const n=await this.query.getBalance(e.txParams.from),a=this.txStateManager.getTransaction(t),o=a.approvalTxId?this.txStateManager.getTransaction(a.approvalTxId):null;a.postTxBalance=n.toString(16);(0,x.isSwapsDefaultTokenAddress)(e.destinationTokenAddress,e.chainId)&&e.preTxBalance===a.postTxBalance&&r>0?setTimeout((()=>{this.updatePostTxBalance({txMeta:e,txId:t,numberOfAttempts:r-1})}),5e3):(this.txStateManager.updateTransaction(a,"transactions#confirmTransaction - add postTxBalance"),this._trackSwapsMetrics(a,o))}async confirmTransaction(e,t,r,n){const a=this.txStateManager.getTransaction(e);if(a)try{const o=I.normalizeTxReceiptGasUsed(t.gasUsed);a.txReceipt={...t,gasUsed:o},r&&(a.baseFeePerGas=r),n&&(a.blockTimestamp=n),this.txStateManager.setTxStatusConfirmed(e),this._markNonceDuplicatesDropped(e);const{submittedTime:i}=a,s={gas_used:o};i&&(s.completion_time=this._getTransactionCompletionTime(i)),"0x0"===t.status&&(s.status=D),this._trackTransactionMetricsEvent(a,g.TRANSACTION_EVENTS.FINALIZED,undefined,s),this.txStateManager.updateTransaction(a,"transactions#confirmTransaction - add txReceipt"),a.type===g.TRANSACTION_TYPES.SWAP&&await this.updatePostTxBalance({txMeta:a,txId:e})}catch(e){l.default.error(e)}}async confirmExternalTransaction(e,t,r){if(await this.txStateManager.addExternalTransaction(e),!e)return;const n=e.id;try{const a=I.normalizeTxReceiptGasUsed(t.gasUsed);e.txReceipt={...t,gasUsed:a},r&&(e.baseFeePerGas=r),this.txStateManager.setTxStatusConfirmed(n),this._markNonceDuplicatesDropped(n);const{submittedTime:o}=e,i={gas_used:a};o&&(i.completion_time=this._getTransactionCompletionTime(o)),"0x0"===t.status&&(i.status=D),this._trackTransactionMetricsEvent(e,g.TRANSACTION_EVENTS.FINALIZED,undefined,i),this.txStateManager.updateTransaction(e,"transactions#confirmTransaction - add txReceipt"),e.type===g.TRANSACTION_TYPES.SWAP&&await this.updatePostTxBalance({txMeta:e,txId:n})}catch(e){l.default.error(e)}}async cancelTransaction(e,t){const r=this.txStateManager.getTransaction(e);this.txStateManager.setTxStatusRejected(e),this._trackTransactionMetricsEvent(r,g.TRANSACTION_EVENTS.REJECTED,t)}setTxHash(e,t){const r=this.txStateManager.getTransaction(e);r.hash=t,this.txStateManager.updateTransaction(r,"transactions#setTxHash")}async createTransactionEventFragment(e,t,r){const n=this.txStateManager.getTransaction(e),{properties:a,sensitiveProperties:o}=await this._buildEventFragmentProperties(n);this._createTransactionEventFragment(n,t,a,o,r)}_mapMethods(){this.getState=()=>this.memStore.getState(),this.getNetwork=()=>this.networkStore.getState(),this.getSelectedAddress=()=>this.preferencesStore.getState().selectedAddress,this.getUnapprovedTxCount=()=>Object.keys(this.txStateManager.getUnapprovedTxList()).length,this.getPendingTxCount=e=>this.txStateManager.getPendingTransactions(e).length,this.getTransactions=e=>this.txStateManager.getTransactions(e),this.getAdvancedGasFee=()=>this.preferencesStore.getState().advancedGasFee}async _updatePendingTxsAfterFirstBlock(){await this.blockTracker.getLatestBlock(),await this.pendingTxTracker.updatePendingTxs()}_onBootCleanUp(){this.txStateManager.getTransactions({searchCriteria:{status:g.TRANSACTION_STATUSES.UNAPPROVED,loadingDefaults:!0}}).forEach((e=>{this.addTxGasDefaults(e).then((e=>{e.loadingDefaults=!1,this.txStateManager.updateTransaction(e,"transactions: gas estimation for tx on boot")})).catch((t=>{const r=this.txStateManager.getTransaction(e.id);r.loadingDefaults=!1,this.txStateManager.updateTransaction(r,"failed to estimate gas during boot cleanup."),this._failTransaction(r.id,t)}))})),this.txStateManager.getTransactions({searchCriteria:{status:g.TRANSACTION_STATUSES.APPROVED}}).forEach((e=>{this.approveTransaction(e.id)}))}_setupListeners(){this.txStateManager.on("tx:status-update",this.emit.bind(this,"tx:status-update")),this._setupBlockTrackerListener(),this.pendingTxTracker.on("tx:warning",(e=>{this.txStateManager.updateTransaction(e,"transactions/pending-tx-tracker#event: tx:warning")})),this.pendingTxTracker.on("tx:failed",((e,t)=>{this._failTransaction(e,t)})),this.pendingTxTracker.on("tx:confirmed",((e,t,r,n)=>this.confirmTransaction(e,t,r,n))),this.pendingTxTracker.on("tx:dropped",(e=>{this._dropTransaction(e)})),this.pendingTxTracker.on("tx:block-update",((e,t)=>{e.firstRetryBlockNumber||(e.firstRetryBlockNumber=t,this.txStateManager.updateTransaction(e,"transactions/pending-tx-tracker#event: tx:block-update"))})),this.pendingTxTracker.on("tx:retry",(e=>{"retryCount"in e||(e.retryCount=0),e.retryCount+=1,this.txStateManager.updateTransaction(e,"transactions/pending-tx-tracker#event: tx:retry")}))}_markNonceDuplicatesDropped(e){const t=this.txStateManager.getTransaction(e),{nonce:r,from:n}=t.txParams,a=this.txStateManager.getTransactions({searchCriteria:{nonce:r,from:n}});a.length&&a.forEach((r=>{r.id!==e&&(r.replacedBy=t.hash,r.replacedById=t.id,this.txStateManager.updateTransaction(t,"transactions/pending-tx-tracker#event: tx:confirmed reference to confirmed txHash with same nonce"),r.status!==g.TRANSACTION_STATUSES.FAILED&&this._dropTransaction(r.id))}))}_setupBlockTrackerListener(){let e=!1;const t=this._onLatestBlock.bind(this),{blockTracker:r,txStateManager:n}=this;function a(){const a=n.getPendingTransactions();!e&&a.length>0?(r.on("latest",t),e=!0):e&&!a.length&&(r.removeListener("latest",t),e=!1)}n.on("tx:status-update",a),a()}async _onLatestBlock(e){try{await this.pendingTxTracker.updatePendingTxs()}catch(e){l.default.error(e)}try{await this.pendingTxTracker.resubmitPendingTxs(e)}catch(e){l.default.error(e)}}_updateMemstore(){const e=this.txStateManager.getUnapprovedTxList(),t=this.txStateManager.getTransactions({limit:100});this.memStore.updateState({unapprovedTxs:e,currentNetworkTxList:t})}_calculateTransactionsCost(e,t){let r="0x0";null!=t&&t.txReceipt&&(r=(0,P.calcGasTotal)(t.txReceipt.gasUsed,t.txReceipt.effectiveGasPrice));const n=(0,P.calcGasTotal)(e.txReceipt.gasUsed,e.txReceipt.effectiveGasPrice),a=new f.default(n,16).plus(r,16).toString(16);return{approvalGasCostInEth:Number((0,P.hexWEIToDecETH)(r)),tradeGasCostInEth:Number((0,P.hexWEIToDecETH)(n)),tradeAndApprovalGasCostInEth:Number((0,P.hexWEIToDecETH)(a))}}_trackSwapsMetrics(e,t){if(this._getParticipateInMetrics()&&e.swapMetaData)if("0x0"===e.txReceipt.status)this._trackMetaMetricsEvent({event:"Swap Failed",sensitiveProperties:{...e.swapMetaData},category:E.EVENT.CATEGORIES.SWAPS});else{const r=(0,P.getSwapsTokensReceivedFromTxMeta)(e.destinationTokenSymbol,e,e.destinationTokenAddress,e.txParams.from,e.destinationTokenDecimals,t,e.chainId),n=r?`${new f.default(r,10).div(e.swapMetaData.token_to_amount,10).times(100).round(2)}%`:null,a=e.txReceipt.gasUsed&&e.swapMetaData.estimated_gas?`${new f.default(e.txReceipt.gasUsed,16).div(e.swapMetaData.estimated_gas,10).times(100).round(2)}%`:null,o=this._calculateTransactionsCost(e,t);this._trackMetaMetricsEvent({event:"Swap Completed",category:E.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{...e.swapMetaData,token_to_amount_received:r,quote_vs_executionRatio:n,estimated_vs_used_gasRatio:a,approval_gas_cost_in_eth:o.approvalGasCostInEth,trade_gas_cost_in_eth:o.tradeGasCostInEth,trade_and_approval_gas_cost_in_eth:o.tradeAndApprovalGasCostInEth}})}}_allowanceAmountInRelationToDappProposedValue(e,t,r){return e===g.TRANSACTION_APPROVAL_AMOUNT_TYPE.CUSTOM&&t&&r?`${new f.default(t,10).div(r,10).times(100).round(2)}`:null}_allowanceAmountInRelationToTokenBalance(e,t,r){return(e===g.TRANSACTION_APPROVAL_AMOUNT_TYPE.CUSTOM||e===g.TRANSACTION_APPROVAL_AMOUNT_TYPE.DAPP_PROPOSED)&&t&&r?`${new f.default(t,16).div(r,10).times(100).round(2)}`:null}async _buildEventFragmentProperties(e,t){const{type:r,time:n,status:a,chainId:o,origin:i,txParams:{gasPrice:s,gas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,estimateSuggested:l,estimateUsed:f},defaultGasEstimates:h,originalType:p,replacedById:m,metamaskNetworkId:v,customTokenAmount:y,dappProposedTokenAmount:x,currentTokenBalance:E,originalApprovalAmount:T,finalApprovalAmount:k,contractMethodName:_}=e,A=i===w.ORIGIN_METAMASK?"user":"dapp",{assetType:I,tokenStandard:R}=await(0,S.determineTransactionAssetType)(e,this.query,this.getTokenStandardAndDetails),C={};if((0,S.isEIP1559Transaction)(e)?(C.max_fee_per_gas=u,C.max_priority_fee_per_gas=d):C.gas_price=s,h){const{estimateType:t}=h;if(t){C.default_estimate=t;let r=e.defaultGasEstimates.maxFeePerGas,n=e.defaultGasEstimates.maxPriorityFeePerGas;if([b.GAS_RECOMMENDATIONS.LOW,b.GAS_RECOMMENDATIONS.MEDIUM,b.GAS_RECOMMENDATIONS.MEDIUM.HIGH].includes(t)){var N,O;const{gasFeeEstimates:e}=await this._getEIP1559GasFeeEstimates();var D,B;if(null!=e&&null!==(N=e[t])&&void 0!==N&&N.suggestedMaxFeePerGas)r=null===(D=e[t])||void 0===D?void 0:D.suggestedMaxFeePerGas,C.default_max_fee_per_gas=r;if(null!=e&&null!==(O=e[t])&&void 0!==O&&O.suggestedMaxPriorityFeePerGas)n=null===(B=e[t])||void 0===B?void 0:B.suggestedMaxPriorityFeePerGas,C.default_max_priority_fee_per_gas=n}}e.defaultGasEstimates.gas&&(C.default_gas=e.defaultGasEstimates.gas),e.defaultGasEstimates.gasPrice&&(C.default_gas_price=e.defaultGasEstimates.gasPrice)}l&&(C.estimate_suggested=l),f&&(C.estimate_used=f),null!=t&&t.gas_used&&(C.gas_used=t.gas_used);const L=this._getGasValuesInGWEI(C);let M="0";if(e.txParams.maxFeePerGas){const{eip1559V2Enabled:e}=this.preferencesStore.getState();M=e?"2":"1"}const G=[g.TRANSACTION_TYPES.CONTRACT_INTERACTION,g.TRANSACTION_TYPES.TOKEN_METHOD_APPROVE,g.TRANSACTION_TYPES.TOKEN_METHOD_SAFE_TRANSFER_FROM,g.TRANSACTION_TYPES.TOKEN_METHOD_SET_APPROVAL_FOR_ALL,g.TRANSACTION_TYPES.TOKEN_METHOD_TRANSFER,g.TRANSACTION_TYPES.TOKEN_METHOD_TRANSFER_FROM,g.TRANSACTION_TYPES.SMART,g.TRANSACTION_TYPES.SWAP,g.TRANSACTION_TYPES.SWAP_APPROVAL].includes(r),H="Approve";let F,U,j,q,V=g.TRANSACTION_TYPES.SIMPLE_SEND;r===g.TRANSACTION_TYPES.CANCEL?V=g.TRANSACTION_TYPES.CANCEL:r===g.TRANSACTION_TYPES.RETRY?V=p:r===g.TRANSACTION_TYPES.DEPLOY_CONTRACT?V=g.TRANSACTION_TYPES.DEPLOY_CONTRACT:G&&(V=g.TRANSACTION_TYPES.CONTRACT_INTERACTION,U=_,U===H&&R===g.TOKEN_STANDARDS.ERC20&&("0"===x||"0"===y?F=g.TRANSACTION_APPROVAL_AMOUNT_TYPE.REVOKE:y?F=g.TRANSACTION_APPROVAL_AMOUNT_TYPE.CUSTOM:x&&(F=g.TRANSACTION_APPROVAL_AMOUNT_TYPE.DAPP_PROPOSED),j=this._allowanceAmountInRelationToDappProposedValue(F,T,k),q=this._allowanceAmountInRelationToTokenBalance(F,x,E)));const W=this._getTransaction(m),z={RETRY:g.TRANSACTION_TYPES.RETRY,CANCEL:g.TRANSACTION_TYPES.CANCEL,SAME_NONCE:"other"};let K;null!=t&&t.dropped&&(K=z.SAME_NONCE,(null==W?void 0:W.type)===g.TRANSACTION_TYPES.CANCEL?K=z.CANCEL:(null==W?void 0:W.type)===g.TRANSACTION_TYPES.RETRY&&(K=z.RETRY));let Y={chain_id:o,referrer:i,source:A,network:v,eip_1559_version:M,gas_edit_type:"none",gas_edit_attempted:"none",account_type:await this.getAccountType(this.getSelectedAddress()),device_model:await this.getDeviceModel(this.getSelectedAddress()),asset_type:I,token_standard:R,transaction_type:V,transaction_speed_up:r===g.TRANSACTION_TYPES.RETRY};U===H&&(Y={...Y,transaction_approval_amount_type:F});let J={status:a,transaction_envelope_type:(0,S.isEIP1559Transaction)(e)?P.TRANSACTION_ENVELOPE_TYPE_NAMES.FEE_MARKET:P.TRANSACTION_ENVELOPE_TYPE_NAMES.LEGACY,first_seen:n,gas_limit:c,transaction_contract_method:U,transaction_replaced:K,...t,...L};return U===H&&(J={...J,transaction_approval_amount_vs_balance_ratio:q,transaction_approval_amount_vs_proposed_ratio:j}),{properties:Y,sensitiveProperties:J}}_createTransactionEventFragment(e,t,r,n,a){const o=`transaction-${[g.TRANSACTION_EVENTS.FINALIZED,g.TRANSACTION_EVENTS.SUBMITTED].includes(t)?"submitted":"added"}-${e.id}`;if(void 0===this.getEventFragmentById(o))switch(t){case g.TRANSACTION_EVENTS.ADDED:this.createEventFragment({category:E.EVENT.CATEGORIES.TRANSACTIONS,initialEvent:g.TRANSACTION_EVENTS.ADDED,successEvent:g.TRANSACTION_EVENTS.APPROVED,failureEvent:g.TRANSACTION_EVENTS.REJECTED,properties:r,sensitiveProperties:n,persist:!0,uniqueIdentifier:o,actionId:a});break;case g.TRANSACTION_EVENTS.APPROVED:case g.TRANSACTION_EVENTS.REJECTED:this.createEventFragment({category:E.EVENT.CATEGORIES.TRANSACTIONS,successEvent:g.TRANSACTION_EVENTS.APPROVED,failureEvent:g.TRANSACTION_EVENTS.REJECTED,properties:r,sensitiveProperties:n,persist:!0,uniqueIdentifier:o,actionId:a});break;case g.TRANSACTION_EVENTS.SUBMITTED:this.createEventFragment({category:E.EVENT.CATEGORIES.TRANSACTIONS,initialEvent:g.TRANSACTION_EVENTS.SUBMITTED,successEvent:g.TRANSACTION_EVENTS.FINALIZED,properties:r,sensitiveProperties:n,persist:!0,uniqueIdentifier:o,actionId:a});break;case g.TRANSACTION_EVENTS.FINALIZED:this.createEventFragment({category:E.EVENT.CATEGORIES.TRANSACTIONS,successEvent:g.TRANSACTION_EVENTS.FINALIZED,properties:r,sensitiveProperties:n,persist:!0,uniqueIdentifier:o,actionId:a})}}async _trackTransactionMetricsEvent(e,t,r,n={}){if(!e)return;const{properties:a,sensitiveProperties:o}=await this._buildEventFragmentProperties(e,n);let i;switch(this._createTransactionEventFragment(e,t,a,o,r),t){case g.TRANSACTION_EVENTS.APPROVED:i=`transaction-added-${e.id}`,this.updateEventFragment(i,{properties:a,sensitiveProperties:o}),this.finalizeEventFragment(i);break;case g.TRANSACTION_EVENTS.REJECTED:i=`transaction-added-${e.id}`,this.updateEventFragment(i,{properties:a,sensitiveProperties:o}),this.finalizeEventFragment(i,{abandoned:!0});break;case g.TRANSACTION_EVENTS.FINALIZED:i=`transaction-submitted-${e.id}`,this.updateEventFragment(i,{properties:a,sensitiveProperties:o}),this.finalizeEventFragment(`transaction-submitted-${e.id}`)}}_getTransactionCompletionTime(e){return Math.round((Date.now()-e)/1e3).toString()}_getGasValuesInGWEI(e){const t={};for(const r in e)(0,o.isHexString)(e[r])?t[r]=(0,P.hexWEIToDecGWEI)(e[r]):t[r]=e[r];return t}_failTransaction(e,t,r){this.txStateManager.setTxStatusFailed(e,t);const n=this.txStateManager.getTransaction(e);this._trackTransactionMetricsEvent(n,g.TRANSACTION_EVENTS.FINALIZED,r,{error:t.message})}_dropTransaction(e){this.txStateManager.setTxStatusDropped(e);const t=this.txStateManager.getTransaction(e);this._trackTransactionMetricsEvent(t,g.TRANSACTION_EVENTS.FINALIZED,undefined,{dropped:!0})}}r.default=B}}},{package:"$root$"}],[34,{"fast-json-patch":4339,lodash:4765},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.generateHistoryEntry=i,r.migrateFromSnapshotsToDiffs=function(e){return e.map(((t,r)=>0===r?t:i(e[r-1],t)))},r.replayHistory=function(e){return(0,o.cloneDeep)(e).reduce(((e,t)=>a.default.applyPatch(e,t).newDocument))},r.snapshotFromTxMeta=function(e){const t={...e};return delete t.history,(0,o.cloneDeep)(t)};var n,a=(n=e("fast-json-patch"))&&n.__esModule?n:{default:n},o=e("lodash");function i(e,t,r){const n=a.default.compare(e,t);return n[0]&&(r&&(n[0].note=r),n[0].timestamp=Date.now()),n}}}},{package:"$root$"}],[35,{"../../../../../shared/constants/transaction":5410,"../../../../../shared/modules/hexstring-utils":5425,"../../../../../shared/modules/transaction.utils":5434,"../../../lib/util":87,"eth-rpc-errors":2103},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getFinalStates=function(){return[o.TRANSACTION_STATUSES.REJECTED,o.TRANSACTION_STATUSES.CONFIRMED,o.TRANSACTION_STATUSES.FAILED,o.TRANSACTION_STATUSES.DROPPED]},r.normalizeAndValidateTxParams=function(e,t=!0){const r=u(e,t);return h(r),r},r.normalizeTxParams=u,r.normalizeTxReceiptGasUsed=function(e){return"string"==typeof e?e:e.toString(16)},r.validateConfirmedExternalTransaction=void 0,r.validateFrom=p,r.validateRecipient=m,r.validateTxParams=h;var n=e("eth-rpc-errors"),a=e("../../../lib/util"),o=e("../../../../../shared/constants/transaction"),i=e("../../../../../shared/modules/transaction.utils"),s=e("../../../../../shared/modules/hexstring-utils");const c={from:a.addHexPrefix,to:(e,t)=>t?(0,a.addHexPrefix)(e).toLowerCase():(0,a.addHexPrefix)(e),nonce:a.addHexPrefix,value:a.addHexPrefix,data:a.addHexPrefix,gas:a.addHexPrefix,gasPrice:a.addHexPrefix,maxFeePerGas:a.addHexPrefix,maxPriorityFeePerGas:a.addHexPrefix,type:a.addHexPrefix,estimateSuggested:e=>e,estimateUsed:e=>e};function u(e,t=!0){const r={};for(const n in c)e[n]&&(r[n]=c[n](e[n],t));return r}function d(e,t,r){if(void 0!==e[r])throw n.ethErrors.rpc.invalidParams(`Invalid transaction params: specified ${t} but also included ${r}, these cannot be mixed`)}function l(e,t){if("string"!=typeof e[t])throw n.ethErrors.rpc.invalidParams(`Invalid transaction params: ${t} is not a string. got: (${e[t]})`)}function f(e,t){switch(t){case"maxFeePerGas":case"maxPriorityFeePerGas":if(e.type&&e.type!==o.TRANSACTION_ENVELOPE_TYPES.FEE_MARKET)throw n.ethErrors.rpc.invalidParams(`Invalid transaction envelope type: specified type "${e.type}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "${o.TRANSACTION_ENVELOPE_TYPES.FEE_MARKET}"`);break;default:if(e.type&&e.type===o.TRANSACTION_ENVELOPE_TYPES.FEE_MARKET)throw n.ethErrors.rpc.invalidParams(`Invalid transaction envelope type: specified type "${e.type}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function h(e,t=!0){if(!e||"object"!=typeof e||Array.isArray(e))throw n.ethErrors.rpc.invalidParams("Invalid transaction params: must be an object.");if(!e.to&&!e.data)throw n.ethErrors.rpc.invalidParams('Invalid transaction params: must specify "data" for contract deployments, or "to" (and optionally "data") for all other types of transactions.');if((0,i.isEIP1559Transaction)({txParams:e})&&!t)throw n.ethErrors.rpc.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559");Object.entries(e).forEach((([t,r])=>{switch(t){case"from":p(e);break;case"to":m(e);break;case"gasPrice":f(e,"gasPrice"),d(e,"gasPrice","maxFeePerGas"),d(e,"gasPrice","maxPriorityFeePerGas"),l(e,"gasPrice");break;case"maxFeePerGas":f(e,"maxFeePerGas"),d(e,"maxFeePerGas","gasPrice"),l(e,"maxFeePerGas");break;case"maxPriorityFeePerGas":f(e,"maxPriorityFeePerGas"),d(e,"maxPriorityFeePerGas","gasPrice"),l(e,"maxPriorityFeePerGas");break;case"value":if(l(e,"value"),r.toString().includes("-"))throw n.ethErrors.rpc.invalidParams(`Invalid transaction value "${r}": not a positive number.`);if(r.toString().includes("."))throw n.ethErrors.rpc.invalidParams(`Invalid transaction value of "${r}": number must be in wei.`);if(!r.match(/^0x[a-fA-F0-9]+$/u))throw n.ethErrors.rpc.invalidParams(`Invalid transaction value of "${r}": not a valid hex string.`);break;case"chainId":if("number"!=typeof r&&"string"!=typeof r)throw n.ethErrors.rpc.invalidParams(`Invalid transaction params: ${t} is not a Number or hex string. got: (${r})`);break;default:l(e,t)}}))}function p(e){if("string"!=typeof e.from)throw n.ethErrors.rpc.invalidParams(`Invalid "from" address "${e.from}": not a string.`);if(!(0,s.isValidHexAddress)(e.from,{allowNonPrefixed:!1}))throw n.ethErrors.rpc.invalidParams('Invalid "from" address.')}function m(e){if("0x"===e.to||null===e.to){if(!e.data)throw n.ethErrors.rpc.invalidParams('Invalid "to" address.');delete e.to}else if(e.to!==undefined&&!(0,s.isValidHexAddress)(e.to,{allowNonPrefixed:!1}))throw n.ethErrors.rpc.invalidParams('Invalid "to" address.');return e}r.validateConfirmedExternalTransaction=({txMeta:e,pendingTransactions:t,confirmedTransactions:r}={})=>{if(!e||!e.txParams)throw n.ethErrors.rpc.invalidParams('"txMeta" or "txMeta.txParams" is missing');if(e.status!==o.TRANSACTION_STATUSES.CONFIRMED)throw n.ethErrors.rpc.invalidParams('External transaction status should be "confirmed"');const a=e.txParams.nonce;if(t&&t.length>0){if(t.find((e=>{var t;return(null===(t=e.txParams)||void 0===t?void 0:t.nonce)===a})))throw n.ethErrors.rpc.invalidParams("External transaction nonce should not be in pending txs")}if(r&&r.length>0){if(r.find((e=>{var t;return(null===(t=e.txParams)||void 0===t?void 0:t.nonce)===a})))throw n.ethErrors.rpc.invalidParams("External transaction nonce should not be in confirmed txs")}}}}},{package:"$root$"}],[36,{"../../../../shared/constants/transaction":5410,"./tx-state-manager":38,"ethjs-query":2614,loglevel:4778,"safe-event-emitter":5082},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=c(e("safe-event-emitter")),a=c(e("loglevel")),o=c(e("ethjs-query")),i=e("../../../../shared/constants/transaction"),s=e("./tx-state-manager");function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends n.default{constructor(e){super(),u(this,"DROPPED_BUFFER_COUNT",3),u(this,"droppedBlocksBufferByHash",new Map),this.query=e.query||new o.default(e.provider),this.nonceTracker=e.nonceTracker,this.getPendingTransactions=e.getPendingTransactions,this.getCompletedTransactions=e.getCompletedTransactions,this.publishTransaction=e.publishTransaction,this.approveTransaction=e.approveTransaction,this.confirmTransaction=e.confirmTransaction}async updatePendingTxs(){const e=await this.nonceTracker.getGlobalLock();try{const e=this.getPendingTransactions();await Promise.all(e.map((e=>this._checkPendingTx(e))))}catch(e){a.default.error("PendingTransactionTracker - Error updating pending transactions"),a.default.error(e)}e.releaseLock()}async resubmitPendingTxs(e){const t=this.getPendingTransactions();if(t.length)for(const a of t)try{await this._resubmitTx(a,e)}catch(e){var r,n;const t=(null===(r=e.value)||void 0===r||null===(n=r.message)||void 0===n?void 0:n.toLowerCase())||e.message.toLowerCase();if(t.includes("replacement transaction underpriced")||t.includes("known transaction")||t.includes("gas price too low to replace")||t.includes("transaction with the same hash was already imported")||t.includes("gateway timeout")||t.includes("nonce too low"))return;a.warning={error:t,message:s.ERROR_SUBMITTING},this.emit("tx:warning",a,e)}}async _resubmitTx(e,t){e.firstRetryBlockNumber||this.emit("tx:block-update",e,t);const r=e.firstRetryBlockNumber||t,n=Number.parseInt(t,16)-Number.parseInt(r,16),a=e.retryCount||0;if(n<Math.min(50,Math.pow(2,a)))return undefined;if(!("rawTx"in e))return this.approveTransaction(e.id);const{rawTx:o}=e,i=await this.publishTransaction(o);return this.emit("tx:retry",e),i}async _checkPendingTx(e){const t=e.hash,r=e.id;if(e.status===i.TRANSACTION_STATUSES.SUBMITTED){if(!t){const e=new Error("We had an error while submitting this transaction, please try again.");return e.name="NoTxHashError",void this.emit("tx:failed",r,e)}if(await this._checkIfNonceIsTaken(e))this.emit("tx:dropped",r);else{try{const e=await this.query.getTransactionReceipt(t);if(null!=e&&e.blockNumber){const{baseFeePerGas:t,timestamp:n}=await this.query.getBlockByHash(null==e?void 0:e.blockHash,!1);return void this.emit("tx:confirmed",r,e,t,n)}}catch(t){return e.warning={error:t.message,message:"There was a problem loading this transaction."},void this.emit("tx:warning",e,t)}await this._checkIfTxWasDropped(e)&&this.emit("tx:dropped",r)}}}async _checkIfTxWasDropped(e){const{hash:t,txParams:{nonce:r,from:n}}=e,a=await this.query.getTransactionCount(n);if(parseInt(r,16)>=a.toNumber())return!1;this.droppedBlocksBufferByHash.has(t)||this.droppedBlocksBufferByHash.set(t,0);const o=this.droppedBlocksBufferByHash.get(t);return o<this.DROPPED_BUFFER_COUNT?(this.droppedBlocksBufferByHash.set(t,o+1),!1):(this.droppedBlocksBufferByHash.delete(t),!0)}async _checkIfNonceIsTaken(e){const t=e.txParams.from;return this.getCompletedTransactions(t).some((t=>!(t.id===e.id)&&t.txParams.nonce===e.txParams.nonce))}}r.default=d}}},{package:"$root$"}],[37,{"../../lib/util":87,"ethereumjs-util":2178,"ethjs-query":2614,lodash:4765,loglevel:4778},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=c(e("ethjs-query")),a=c(e("loglevel")),o=e("ethereumjs-util"),i=e("lodash"),s=e("../../lib/util");function c(e){return e&&e.__esModule?e:{default:e}}r.default=class{constructor(e){this.query=new n.default(e)}async analyzeGasUsage(e){const t=await this.query.getBlockByNumber("latest",!1),r=(0,s.hexToBn)(t.gasLimit),n=(0,s.BnMultiplyByFraction)(r,19,20);let o,i=(0,s.bnToHex)(n);try{i=await this.estimateTxGas(e)}catch(e){a.default.warn(e),o={reason:e.message,errorKey:e.errorKey,debug:{blockNumber:t.number,blockGasLimit:t.gasLimit}}}return{blockGasLimit:t.gasLimit,estimatedGasHex:i,simulationFails:o}}async estimateTxGas(e){const t=(0,i.cloneDeep)(e.txParams);return delete t.gasPrice,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,await this.query.estimateGas(t)}addGasBuffer(e,t,r=1.5){const n=(0,s.hexToBn)(e),a=(0,s.hexToBn)(t).muln(.9),o=n.muln(r);return n.gt(a)?(0,s.bnToHex)(n):o.lt(a)?(0,s.bnToHex)(o):(0,s.bnToHex)(a)}async getBufferedGasLimit(e,t){const{blockGasLimit:r,estimatedGasHex:n,simulationFails:a}=await this.analyzeGasUsage(e);return{gasLimit:this.addGasBuffer((0,o.addHexPrefix)(n),r,t),simulationFails:a}}}}}},{package:"$root$"}],[38,{"../../../../shared/constants/app":5397,"../../../../shared/constants/transaction":5410,"../../../../shared/modules/random-id":5429,"../../../../shared/modules/transaction.utils":5434,"../../metamask-controller":88,"./lib/tx-state-history-helpers":34,"./lib/util":35,"@metamask/obs-store":1217,lodash:4765,loglevel:4778,"safe-event-emitter":5082},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ERROR_SUBMITTING=void 0;var n=p(e("safe-event-emitter")),a=e("@metamask/obs-store"),o=p(e("loglevel")),i=e("lodash"),s=p(e("../../../../shared/modules/random-id")),c=e("../../../../shared/constants/transaction"),u=e("../../metamask-controller"),d=e("../../../../shared/modules/transaction.utils"),l=e("../../../../shared/constants/app"),f=e("./lib/tx-state-history-helpers"),h=e("./lib/util");function p(e){return e&&e.__esModule?e:{default:e}}const m="There was an error when resubmitting this transaction.";r.ERROR_SUBMITTING=m;class g extends n.default{constructor({initState:e,txHistoryLimit:t,getNetwork:r,getCurrentChainId:n}){super(),this.store=new a.ObservableStore({transactions:{},...e}),this.txHistoryLimit=t,this.getNetwork=r,this.getCurrentChainId=n}generateTxMeta(e={}){var t;const r=this.getNetwork(),n=this.getCurrentChainId();if("loading"===r)throw new Error("MetaMask is having trouble connecting to the network");let a=null;return e.txParams&&"string"==typeof e.origin&&e.origin!==l.ORIGIN_METAMASK&&(void 0!==e.txParams.gasPrice?a={gasPrice:e.txParams.gasPrice}:void 0===e.txParams.maxFeePerGas&&void 0===e.txParams.maxPriorityFeePerGas||(a={maxPriorityFeePerGas:e.txParams.maxPriorityFeePerGas,maxFeePerGas:e.txParams.maxFeePerGas}),void 0!==e.txParams.gas&&(a={...a,gas:e.txParams.gas})),{id:(0,s.default)(),time:(new Date).getTime(),status:c.TRANSACTION_STATUSES.UNAPPROVED,metamaskNetworkId:r,originalGasEstimate:null===(t=e.txParams)||void 0===t?void 0:t.gas,userEditedGasLimit:!1,chainId:n,loadingDefaults:!0,dappSuggestedGasFees:a,sendFlowHistory:[],...e}}getUnapprovedTxList(){const e=this.getCurrentChainId(),t=this.getNetwork();return(0,i.pickBy)(this.store.getState().transactions,(r=>r.status===c.TRANSACTION_STATUSES.UNAPPROVED&&(0,d.transactionMatchesNetwork)(r,e,t)))}getApprovedTransactions(e){const t={status:c.TRANSACTION_STATUSES.APPROVED};return e&&(t.from=e),this.getTransactions({searchCriteria:t})}getPendingTransactions(e){const t={status:c.TRANSACTION_STATUSES.SUBMITTED};return e&&(t.from=e),this.getTransactions({searchCriteria:t})}getConfirmedTransactions(e){const t={status:c.TRANSACTION_STATUSES.CONFIRMED};return e&&(t.from=e),this.getTransactions({searchCriteria:t})}getTransactionWithActionId(e){return(0,i.values)((0,i.pickBy)(this.store.getState().transactions,(t=>t.actionId===e)))[0]}addTransaction(e){e.txParams&&(e.txParams=(0,h.normalizeAndValidateTxParams)(e.txParams,!1)),this.once(`${e.id}:signed`,(()=>{this.removeAllListeners(`${e.id}:rejected`)})),this.once(`${e.id}:rejected`,(()=>{this.removeAllListeners(`${e.id}:signed`)})),e.history=[];const t=(0,f.snapshotFromTxMeta)(e);e.history.push(t);const r=this.getTransactions({filterToCurrentNetwork:!1}),{txHistoryLimit:n}=this,a=new Set,o=r.reverse().filter((e=>{const{nonce:t,from:r}=e.txParams,{chainId:o,metamaskNetworkId:i,status:s}=e,c=`${t}-${null!=o?o:i}-${r}`;return!a.has(c)&&(!(a.size<n-1||!1===(0,h.getFinalStates)().includes(s))||(a.add(c),!1))})).map((e=>e.id));return this._deleteTransactions(o),this._addTransactionsToState([e]),e}addExternalTransaction(e){var t;const r=null==e||null===(t=e.txParams)||void 0===t?void 0:t.from,n=this.getConfirmedTransactions(r),a=this.getPendingTransactions(r);return(0,h.validateConfirmedExternalTransaction)({txMeta:e,pendingTransactions:a,confirmedTransactions:n}),this._addTransactionsToState([e]),e}getTransaction(e){const{transactions:t}=this.store.getState();return t[e]}updateTransaction(e,t){if(e.txParams)try{e.txParams=(0,h.normalizeAndValidateTxParams)(e.txParams,!1)}catch(t){if(e.warning.message!==m)throw t;return void this.setTxStatusFailed(e.id,t)}this._updateTransactionHistory(e,t)}_updateTransactionHistory(e,t){const r=(0,f.snapshotFromTxMeta)(e),n=(0,f.replayHistory)(e.history),a=(0,f.generateHistoryEntry)(n,r,t);a.length&&e.history.push(a);const o=e.id;this.store.updateState({transactions:{...this.store.getState().transactions,[o]:e}})}getTransactions({searchCriteria:e={},initialList:t,filterToCurrentNetwork:r=!0,limit:n}={}){const a=this.getCurrentChainId(),o=this.getNetwork(),s=(0,i.mapValues)(e,(e=>"function"==typeof e?e:t=>t===e)),c=t?(0,i.keyBy)(t,"id"):this.store.getState().transactions,u=(0,i.sortBy)((0,i.pickBy)(c,(e=>{if(r&&!1===(0,d.transactionMatchesNetwork)(e,a,o))return!1;for(const[t,r]of Object.entries(s))if(t in e.txParams){if(!1===r(e.txParams[t]))return!1}else if(!1===r(e[t]))return!1;return!0})),"time");if(n!==undefined){const e=new Set,t=[];for(let r=u.length-1;r>-1;r--){const a=u[r],{nonce:o}=a.txParams;if(!e.has(o)){if(!(e.size<n))continue;e.add(o)}t.unshift(a)}return t}return u}setTxStatusRejected(e){this._setTransactionStatus(e,c.TRANSACTION_STATUSES.REJECTED),this._deleteTransaction(e)}setTxStatusUnapproved(e){this._setTransactionStatus(e,c.TRANSACTION_STATUSES.UNAPPROVED)}setTxStatusApproved(e){this._setTransactionStatus(e,c.TRANSACTION_STATUSES.APPROVED)}setTxStatusSigned(e){this._setTransactionStatus(e,c.TRANSACTION_STATUSES.SIGNED)}setTxStatusSubmitted(e){const t=this.getTransaction(e);t.submittedTime=(new Date).getTime(),this.updateTransaction(t,"txStateManager - add submitted time stamp"),this._setTransactionStatus(e,c.TRANSACTION_STATUSES.SUBMITTED)}setTxStatusConfirmed(e){this._setTransactionStatus(e,c.TRANSACTION_STATUSES.CONFIRMED)}setTxStatusDropped(e){this._setTransactionStatus(e,c.TRANSACTION_STATUSES.DROPPED)}setTxStatusFailed(e,t){var r;const n=t||new Error("Internal metamask failure"),a=this.getTransaction(e);a.err={message:(null===(r=n.message)||void 0===r?void 0:r.toString())||n.toString(),rpc:n.value,stack:n.stack},this._updateTransactionHistory(a,"transactions:tx-state-manager#fail - add error"),this._setTransactionStatus(e,c.TRANSACTION_STATUSES.FAILED)}wipeTransactions(e){const{transactions:t}=this.store.getState(),r=this.getNetwork(),n=this.getCurrentChainId();this.store.updateState({transactions:(0,i.omitBy)(t,(t=>t.txParams.from===e&&(0,d.transactionMatchesNetwork)(t,n,r)))})}clearUnapprovedTxs(){this.store.updateState({transactions:(0,i.omitBy)(this.store.getState().transactions,(e=>e.status===c.TRANSACTION_STATUSES.UNAPPROVED))})}_setTransactionStatus(e,t){const r=this.getTransaction(e);if(r){r.status=t;try{this._updateTransactionHistory(r,`txStateManager: setting status to ${t}`),this.emit(`${r.id}:${t}`,e),this.emit("tx:status-update",e,t),[c.TRANSACTION_STATUSES.SUBMITTED,c.TRANSACTION_STATUSES.REJECTED,c.TRANSACTION_STATUSES.FAILED].includes(t)&&this.emit(`${r.id}:finished`,r),this.emit(u.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE)}catch(e){o.default.error(e)}}}_addTransactionsToState(e){this.store.updateState({transactions:e.reduce(((e,t)=>(e[t.id]=t,e)),this.store.getState().transactions)})}_deleteTransaction(e){const{transactions:t}=this.store.getState();delete t[e],this.store.updateState({transactions:t})}_deleteTransactions(e){const{transactions:t}=this.store.getState();e.forEach((e=>{delete t[e]})),this.store.updateState({transactions:t})}}r.default=g}}},{package:"$root$"}],[39,{"../../shared/constants/app":5397,"./lib/util":87,"webextension-polyfill":5375},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.onMessageReceived=r.checkForMultipleVersionsRunning=void 0;var n,a=(n=e("webextension-polyfill"))&&n.__esModule?n:{default:n},o=e("../../shared/constants/app"),i=e("./lib/util");const s="isRunning";r.onMessageReceived=e=>{e===s&&console.warn("Warning! You have multiple instances of MetaMask running!")};r.checkForMultipleVersionsRunning=async()=>{if((0,i.getPlatform)()!==o.PLATFORM_CHROME&&(0,i.getPlatform)()!==o.PLATFORM_FIREFOX)return;const e=(0,i.getPlatform)()===o.PLATFORM_CHROME?o.CHROME_BUILD_IDS:o.FIREFOX_BUILD_IDS,t=a.default.runtime.id;for(const r of e)if(r!==t)try{await a.default.runtime.sendMessage(r,s)}catch(e){}}}}},{package:"$root$"}],[40,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={config:{},PreferencesController:{frequentRpcListDetail:[{rpcUrl:"http://localhost:8545",chainId:"0x539",ticker:"ETH",nickname:"Localhost 8545",rpcPrefs:{}}]}};r.default=n}}},{package:"$root$"}],[41,{"@metamask/base-controller":1007,"@metamask/obs-store":1217},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("@metamask/obs-store"),a=e("@metamask/base-controller");class o extends n.ObservableStore{constructor({config:e,controllerMessenger:t,state:r,persist:n}){var a,o,i;super(r),i={},(o="config")in(a=this)?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,this.persist=n,this.controllerMessenger=t,e&&this.updateStructure(e)}updateStructure(e){this.config=e,this.removeAllListeners();for(const t of Object.keys(e)){if(!e[t])throw new Error(`Undefined '${t}'`);const r=e[t];r.subscribe?e[t].subscribe((e=>{this.updateState({[t]:e})})):this.controllerMessenger.subscribe(`${r.name}:stateChange`,(r=>{let n=r;this.persist&&(n=(0,a.getPersistentState)(r,e[t].metadata)),this.updateState({[t]:n})}))}}getFlatState(){if(!this.config)return{};let e={};for(const t of Object.keys(this.config)){const r=this.config[t],n=r.getState?r.getState():r.state;e={...e,...n}}return e}}r.default=o}}},{package:"$root$"}],[42,{"../../../shared/constants/network":5403,"../constants/contracts":5,"./util":87,"@metamask/obs-store":1217,"eth-query":2099,ethers:2202,loglevel:4778,pify:4865,"single-call-balance-checker-abi":5151},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=f(e("eth-query")),a=e("@metamask/obs-store"),o=f(e("loglevel")),i=f(e("pify")),s=e("ethers"),c=f(e("single-call-balance-checker-abi")),u=e("../../../shared/constants/network"),d=e("../constants/contracts"),l=e("./util");function f(e){return e&&e.__esModule?e:{default:e}}r.default=class{constructor(e={}){const t={accounts:{},currentBlockGasLimit:""};this.store=new a.ObservableStore(t),this.resetState=()=>{this.store.updateState(t)},this._provider=e.provider,this._query=(0,i.default)(new n.default(this._provider)),this._blockTracker=e.blockTracker,this._currentBlockNumber=this._blockTracker.getCurrentBlock(),this._blockTracker.once("latest",(e=>{this._currentBlockNumber=e})),this._updateForBlock=this._updateForBlock.bind(this),this.getCurrentChainId=e.getCurrentChainId,this.getNetworkIdentifier=e.getNetworkIdentifier,this.preferencesController=e.preferencesController,this.onboardingController=e.onboardingController,this.ethersProvider=new s.ethers.providers.Web3Provider(this._provider),this.onboardingController.store.subscribe((0,l.previousValueComparator)((async(e,t)=>{const{completedOnboarding:r}=e,{completedOnboarding:n}=t;!r&&n&&this._updateAccounts()}),this.onboardingController.store.getState())),this.preferencesController.store.subscribe((0,l.previousValueComparator)((async(e,t)=>{const{selectedAddress:r}=e,{selectedAddress:n,useMultiAccountBalanceChecker:a}=t;r===n||a||this._updateAccounts()}),this.onboardingController.store.getState()))}start(){this._blockTracker.removeListener("latest",this._updateForBlock),this._blockTracker.addListener("latest",this._updateForBlock),this._updateAccounts()}stop(){this._blockTracker.removeListener("latest",this._updateForBlock)}syncWithAddresses(e){const{accounts:t}=this.store.getState(),r=Object.keys(t),n=[];e.forEach((e=>{r.includes(e)||n.push(e)}));const a=[];r.forEach((t=>{e.includes(t)||a.push(t)})),this.addAccounts(n),this.removeAccount(a)}addAccounts(e){const{accounts:t}=this.store.getState();e.forEach((e=>{t[e]={}})),this.store.updateState({accounts:t}),this._currentBlockNumber&&this._updateAccounts()}removeAccount(e){const{accounts:t}=this.store.getState();e.forEach((e=>{delete t[e]})),this.store.updateState({accounts:t})}clearAccounts(){this.store.updateState({accounts:{}})}async _updateForBlock(e){this._currentBlockNumber=e;const t=await this._query.getBlockByNumber(e,!1);if(!t)return;const r=t.gasLimit;this.store.updateState({currentBlockGasLimit:r});try{await this._updateAccounts()}catch(e){o.default.error(e)}}async _updateAccounts(){const{completedOnboarding:e}=this.onboardingController.store.getState();if(!e)return;const{useMultiAccountBalanceChecker:t}=this.preferencesController.store.getState();let r=[];if(t){const{accounts:e}=this.store.getState();r=Object.keys(e)}else{r=[this.preferencesController.getSelectedAddress()]}const n=this.getCurrentChainId(),a=this.getNetworkIdentifier();if(a===u.LOCALHOST_RPC_URL||"http://127.0.0.1:8545"===a)await Promise.all(r.map(this._updateAccount.bind(this)));else switch(n){case u.CHAIN_IDS.MAINNET:await this._updateAccountsViaBalanceChecker(r,d.SINGLE_CALL_BALANCES_ADDRESS);break;case u.CHAIN_IDS.GOERLI:await this._updateAccountsViaBalanceChecker(r,d.SINGLE_CALL_BALANCES_ADDRESS_GOERLI);break;case u.CHAIN_IDS.SEPOLIA:await this._updateAccountsViaBalanceChecker(r,d.SINGLE_CALL_BALANCES_ADDRESS_SEPOLIA);break;case u.CHAIN_IDS.BSC:await this._updateAccountsViaBalanceChecker(r,d.SINGLE_CALL_BALANCES_ADDRESS_BSC);break;case u.CHAIN_IDS.OPTIMISM:await this._updateAccountsViaBalanceChecker(r,d.SINGLE_CALL_BALANCES_ADDRESS_OPTIMISM);break;case u.CHAIN_IDS.POLYGON:await this._updateAccountsViaBalanceChecker(r,d.SINGLE_CALL_BALANCES_ADDRESS_POLYGON);break;case u.CHAIN_IDS.AVALANCHE:await this._updateAccountsViaBalanceChecker(r,d.SINGLE_CALL_BALANCES_ADDRESS_AVALANCHE);break;case u.CHAIN_IDS.FANTOM:await this._updateAccountsViaBalanceChecker(r,d.SINGLE_CALL_BALANCES_ADDRESS_FANTOM);break;case u.CHAIN_IDS.ARBITRUM:await this._updateAccountsViaBalanceChecker(r,d.SINGLE_CALL_BALANCES_ADDRESS_ARBITRUM);break;default:await Promise.all(r.map(this._updateAccount.bind(this)))}}async _updateAccount(e){const{useMultiAccountBalanceChecker:t}=this.preferencesController.store.getState();let r="0x0";try{r=await this._query.getBalance(e)}catch(e){var n,a;if("eth_getBalance"!==(null===(n=e.data)||void 0===n||null===(a=n.request)||void 0===a?void 0:a.method))throw e}const o={address:e,balance:r},{accounts:i}=this.store.getState();if(!i[e])return;let s=i;t||(s={},Object.keys(i).forEach((t=>{e!==t&&(s[t]={address:t,balance:null})}))),s[e]=o,this.store.updateState({accounts:s})}async _updateAccountsViaBalanceChecker(e,t){const{accounts:r}=this.store.getState(),n={};Object.keys(r).forEach((t=>{e.includes(t)||(n[t]={address:t,balance:null})})),this.ethersProvider=new s.ethers.providers.Web3Provider(this._provider);const a=await new s.ethers.Contract(t,c.default,this.ethersProvider),i=["0x0000000000000000000000000000000000000000"];try{const t=await a.balances(e,i);e.forEach(((e,r)=>{const a=t[r]?t[r].toHexString():"0x0";n[e]={address:e,balance:a}})),this.store.updateState({accounts:n})}catch(t){o.default.warn("MetaMask - Account Tracker single call balance fetch failed",t),Promise.all(e.map(this._updateAccount.bind(this)))}}}}}},{package:"$root$"}],[4336,{"./helpers.js":4338},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./helpers.js");r.JsonPatchError=n.PatchError,r.deepClone=n._deepClone;var a={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var a=i(r,this.path);a&&(a=n._deepClone(a));var o=s(r,{op:"remove",path:this.from}).removed;return s(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:a}},copy:function(e,t,r){var a=i(r,this.from);return s(r,{op:"add",path:this.path,value:n._deepClone(a)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:l(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},o={add:function(e,t,r){return n.isInteger(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:a.move,copy:a.copy,test:a.test,_get:a._get};function i(e,t){if(""==t)return e;var r={op:"_get",path:t};return s(e,r),r.value}function s(e,t,s,c,d,f){if(void 0===s&&(s=!1),void 0===c&&(c=!0),void 0===d&&(d=!0),void 0===f&&(f=0),s&&("function"==typeof s?s(t,0,e,t.path):u(t,0)),""===t.path){var h={newDocument:e};if("add"===t.op)return h.newDocument=t.value,h;if("replace"===t.op)return h.newDocument=t.value,h.removed=e,h;if("move"===t.op||"copy"===t.op)return h.newDocument=i(e,t.from),"move"===t.op&&(h.removed=e),h;if("test"===t.op){if(h.test=l(e,t.value),!1===h.test)throw new r.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",f,t,e);return h.newDocument=e,h}if("remove"===t.op)return h.removed=e,h.newDocument=null,h;if("_get"===t.op)return t.value=e,h;if(s)throw new r.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",f,t,e);return h}c||(e=n._deepClone(e));var p=(t.path||"").split("/"),m=e,g=1,v=p.length,b=undefined,y=void 0,x=void 0;for(x="function"==typeof s?s:u;;){if((y=p[g])&&-1!=y.indexOf("~")&&(y=n.unescapePathComponent(y)),d&&("__proto__"==y||"prototype"==y&&g>0&&"constructor"==p[g-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(s&&b===undefined&&(m[y]===undefined?b=p.slice(0,g).join("/"):g==v-1&&(b=t.path),b!==undefined&&x(t,0,e,b)),g++,Array.isArray(m)){if("-"===y)y=m.length;else{if(s&&!n.isInteger(y))throw new r.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",f,t,e);n.isInteger(y)&&(y=~~y)}if(g>=v){if(s&&"add"===t.op&&y>m.length)throw new r.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",f,t,e);if(!1===(h=o[t.op].call(t,m,y,e)).test)throw new r.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",f,t,e);return h}}else if(g>=v){if(!1===(h=a[t.op].call(t,m,y,e)).test)throw new r.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",f,t,e);return h}if(m=m[y],s&&g<v&&(!m||"object"!=typeof m))throw new r.JsonPatchError("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",f,t,e)}}function c(e,t,a,o,i){if(void 0===o&&(o=!0),void 0===i&&(i=!0),a&&!Array.isArray(t))throw new r.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");o||(e=n._deepClone(e));for(var c=new Array(t.length),u=0,d=t.length;u<d;u++)c[u]=s(e,t[u],a,!0,i,u),e=c[u].newDocument;return c.newDocument=e,c}function u(e,t,o,i){if("object"!=typeof e||null===e||Array.isArray(e))throw new r.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,o);if(!a[e.op])throw new r.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,o);if("string"!=typeof e.path)throw new r.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,o);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new r.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,o);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new r.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,o);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&e.value===undefined)throw new r.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,o);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&n.hasUndefined(e.value))throw new r.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,o);if(o)if("add"==e.op){var s=e.path.split("/").length,c=i.split("/").length;if(s!==c+1&&s!==c)throw new r.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,o)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==i)throw new r.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,o)}else if("move"===e.op||"copy"===e.op){var u=d([{op:"_get",path:e.from,value:undefined}],o);if(u&&"OPERATION_PATH_UNRESOLVABLE"===u.name)throw new r.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,o)}}function d(e,t,a){try{if(!Array.isArray(e))throw new r.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)c(n._deepClone(t),n._deepClone(e),a||!0);else{a=a||u;for(var o=0;o<e.length;o++)a(e[o],o,t,undefined)}}catch(e){if(e instanceof r.JsonPatchError)return e;throw e}}function l(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,n,a,o=Array.isArray(e),i=Array.isArray(t);if(o&&i){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!l(e[r],t[r]))return!1;return!0}if(o!=i)return!1;var s=Object.keys(e);if((n=s.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!t.hasOwnProperty(s[r]))return!1;for(r=n;0!=r--;)if(!l(e[a=s[r]],t[a]))return!1;return!0}return e!=e&&t!=t}r.getValueByPointer=i,r.applyOperation=s,r.applyPatch=c,r.applyReducer=function(e,t,n){var a=s(e,t);if(!1===a.test)throw new r.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return a.newDocument},r.validator=u,r.validate=d,r._areEquals=l}}},{package:"fast-json-patch"}],[4337,{"./core.js":4336,"./helpers.js":4338},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */
var n=e("./helpers.js"),a=e("./core.js"),o=new WeakMap,i=function(e){this.observers=new Map,this.obj=e},s=function(e,t){this.callback=e,this.observer=t};function c(e,t){void 0===t&&(t=!1);var r=o.get(e.object);u(r.value,e.object,e.patches,"",t),e.patches.length&&a.applyPatch(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function u(e,t,r,a,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var i=n._objectKeys(t),s=n._objectKeys(e),c=!1,d=s.length-1;d>=0;d--){var l=e[h=s[d]];if(!n.hasOwnProperty(t,h)||t[h]===undefined&&l!==undefined&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&r.push({op:"test",path:a+"/"+n.escapePathComponent(h),value:n._deepClone(l)}),r.push({op:"remove",path:a+"/"+n.escapePathComponent(h)}),c=!0):(o&&r.push({op:"test",path:a,value:e}),r.push({op:"replace",path:a,value:t}),!0);else{var f=t[h];"object"==typeof l&&null!=l&&"object"==typeof f&&null!=f&&Array.isArray(l)===Array.isArray(f)?u(l,f,r,a+"/"+n.escapePathComponent(h),o):l!==f&&(!0,o&&r.push({op:"test",path:a+"/"+n.escapePathComponent(h),value:n._deepClone(l)}),r.push({op:"replace",path:a+"/"+n.escapePathComponent(h),value:n._deepClone(f)}))}}if(c||i.length!=s.length)for(d=0;d<i.length;d++){var h=i[d];n.hasOwnProperty(e,h)||t[h]===undefined||r.push({op:"add",path:a+"/"+n.escapePathComponent(h),value:n._deepClone(t[h])})}}}r.unobserve=function(e,t){t.unobserve()},r.observe=function(e,t){var r,a=function(e){return o.get(e)}(e);if(a){var u=function(e,t){return e.observers.get(t)}(a,t);r=u&&u.observer}else a=new i(e),o.set(e,a);if(r)return r;if(r={},a.value=n._deepClone(e),t){r.callback=t,r.next=null;var d=function(){c(r)},l=function(){clearTimeout(r.next),r.next=setTimeout(d)};"undefined"!=typeof window&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return r.patches=[],r.object=e,r.unobserve=function(){c(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(a,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},a.observers.set(t,new s(t,r)),r},r.generate=c,r.compare=function(e,t,r){void 0===r&&(r=!1);var n=[];return u(e,t,n,"",r),n}}}},{package:"fast-json-patch"}],[4338,{},function(){with(this)return function(){"use strict";return function(e,t,r){
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */
var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=Object.prototype.hasOwnProperty;function i(e,t){return o.call(e,t)}function s(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);var n=[];for(var a in e)i(e,a)&&n.push(a);return n}function c(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function u(e,t){var r;for(var n in e)if(i(e,n)){if(e[n]===t)return c(n)+"/";if("object"==typeof e[n]&&""!=(r=u(e[n],t)))return c(n)+"/"+r}return""}function d(e,t){var r=[e];for(var n in t){var a="object"==typeof t[n]?JSON.stringify(t[n],null,2):t[n];void 0!==a&&r.push(n+": "+a)}return r.join("\n")}Object.defineProperty(r,"hasOwnProperty",{value:i}),r._objectKeys=s,r._deepClone=function(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}},r.isInteger=function(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0},r.escapePathComponent=c,r.unescapePathComponent=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},r._getPathRecursive=u,r.getPath=function(e,t){if(e===t)return"/";var r=u(e,t);if(""===r)throw new Error("Object not found in root");return"/"+r},r.hasUndefined=function e(t){if(t===undefined)return!0;if(t)if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(e(t[r]))return!0}else if("object"==typeof t)for(var a=s(t),o=a.length,i=0;i<o;i++)if(e(t[a[i]]))return!0;return!1};var l=function(e){function t(t,r,n,a,o){var i=this.constructor,s=e.call(this,d(t,{name:r,index:n,operation:a,tree:o}))||this;return s.name=r,s.index=n,s.operation=a,s.tree=o,Object.setPrototypeOf(s,i.prototype),s.message=d(t,{name:r,index:n,operation:a,tree:o}),s}return a(t,e),t}(Error);r.PatchError=l}}},{package:"fast-json-patch"}],[4339,{"./commonjs/core.js":4336,"./commonjs/duplex.js":4337,"./commonjs/helpers.js":4338},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./commonjs/core.js");Object.assign(r,n);var a=e("./commonjs/duplex.js");Object.assign(r,a);var o=e("./commonjs/helpers.js");r.JsonPatchError=o.PatchError,r.deepClone=o._deepClone,r.escapePathComponent=o.escapePathComponent,r.unescapePathComponent=o.unescapePathComponent}}},{package:"fast-json-patch"}],[4340,{},function(){with(this)return function(){"use strict";return function(e,t,r){!function(){var e;try{e="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){console.log("Collator could not be initialized and wouldn't be used")}var n=[],a=[],o={get:function(t,r,o){var i,s,c,u,d,l,f=o&&e&&o.useCollator,h=t.length,p=r.length;if(0===h)return p;if(0===p)return h;for(c=0;c<p;++c)n[c]=c,a[c]=r.charCodeAt(c);if(n[p]=p,f)for(c=0;c<h;++c){for(s=c+1,u=0;u<p;++u)i=s,l=0===e.compare(t.charAt(c),String.fromCharCode(a[u])),(s=n[u]+(l?0:1))>(d=i+1)&&(s=d),s>(d=n[u+1]+1)&&(s=d),n[u]=i;n[u]=s}else for(c=0;c<h;++c){for(s=c+1,u=0;u<p;++u)i=s,l=t.charCodeAt(c)===a[u],(s=n[u]+(l?0:1))>(d=i+1)&&(s=d),s>(d=n[u+1]+1)&&(s=d),n[u]=i;n[u]=s}return s}};"undefined"!=typeof define&&null!==define&&define.amd?define((function(){return o})):null!=t&&void 0!==r&&t.exports===r?t.exports=o:"undefined"!=typeof self&&"function"==typeof self.postMessage&&"function"==typeof self.importScripts?self.Levenshtein=o:"undefined"!=typeof window&&null!==window&&(window.Levenshtein=o)}()}}},{package:"eslint>optionator>fast-levenshtein"}],[4355,{"./constants":4359,bech32:4474,bs58check:1806,buffer:1797,"hash.js/lib/hash/ripemd":4503,"hash.js/lib/hash/sha":4504},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var a=e("bech32"),o=n(e("bs58check")),i=e("hash.js/lib/hash/ripemd"),s=e("hash.js/lib/hash/sha"),c=e("./constants"),u=t.from("01","hex"),d=c.BIP_CONSTANTS.PURPOSES,l=c.BIP_CONSTANTS.COINS,f=0,h=169,p=118,m=135,g=136,v=172,b=208,y=240;function x(e,r){return t.concat([e,r])}function E(e){var r=t.alloc(4);return r.writeUInt32LE(e,0),r}function T(e){var r;return e<253?(r=t.alloc(1)).writeUInt8(e,0):e<=65535?((r=t.alloc(3)).writeUInt8(253,0),r.writeUInt16LE(e,1)):e<4294967295?((r=t.alloc(5)).writeUInt8(254,0),r.writeUInt32LE(e,1)):((r=t.alloc(9)).writeUInt8(255,0),r.writeUInt32LE(e>>>0,1),r.writeUInt32LE(e/4294967296|0,5)),r}function S(e,r,n){"number"==typeof e&&(e=e.toString(16));var a=t.alloc(8),o=e.length%2==0?e.toString(16):"0".concat(e.toString(16));return t.from(o,"hex").reverse().copy(a,0),a.copy(r,n),a}function w(e){var r,n;try{r=o.default.decode(e)[0],n=o.default.decode(e).slice(1)}catch(o){try{var i=a.bech32.decode(e);if("bc"===i.prefix)r=b;else{if("tb"!==i.prefix)throw new Error("Unsupported prefix: must be bc or tb.");r=y}if(0!==i.words[0])throw new Error("Unsupported segwit version: must be 0, got ".concat(i.words[0]));n=t.from(a.bech32.fromWords(i.words.slice(1)))}catch(t){throw new Error("Unable to decode address: ".concat(e,": ").concat(t.message))}}return{versionByte:r,pkh:n}}function P(e){if(e.length<2)throw new Error("Path must be >1 index");var t=e[0],r=e[1];if(t===d.BTC_SEGWIT&&r===l.BTC)return b;if(t===d.BTC_SEGWIT&&r===l.BTC_TESTNET)return y;if(t===d.BTC_WRAPPED_SEGWIT&&r===l.BTC)return 5;if(t===d.BTC_WRAPPED_SEGWIT&&r===l.BTC_TESTNET)return 196;if(t===d.BTC_LEGACY&&r===l.BTC)return 0;if(t===d.BTC_LEGACY&&r===l.BTC_TESTNET)return 111;throw new Error("Invalid Bitcoin path provided. Cannot determine address format.")}function k(e){switch(e.signerPath[0]){case d.BTC_LEGACY:return 1;case d.BTC_WRAPPED_SEGWIT:return 3;case d.BTC_SEGWIT:return 4;default:throw new Error("Unsupported path purpose (".concat(e.signerPath[0],"): cannot determine BTC script type."))}}r.default={buildBitcoinTxRequest:function(e){try{var r=e.prevOuts,n=e.recipient,a=e.value,o=e.changePath,i=e.fee;if(!o)throw new Error("No changePath provided.");if(5!==o.length)throw new Error("Please provide a full change path.");var s=t.alloc(59+69*r.length),u=0,d=P(o);s.writeUInt8(d,0),u++,s.writeUInt32LE(o.length,u),u+=4;for(var l=0;l<o.length;l++)s.writeUInt32LE(o[l],u),u+=4;s.writeUInt32LE(i,u),u+=4;var f=w(n);s.writeUInt8(f.versionByte,u),u++,f.pkh.copy(s,u),u+=f.pkh.length,S(a,s,u),u+=8,s.writeUInt8(r.length,u),u++;var h=0;return r.forEach((function(e){if(!e.signerPath||5!==e.signerPath.length)throw new Error("Full recipient path not specified ");s.writeUInt32LE(e.signerPath.length,u),u+=4;for(var r=0;r<e.signerPath.length;r++)s.writeUInt32LE(e.signerPath[r],u),u+=4;s.writeUInt32LE(e.index,u),u+=4,S(e.value,s,u),u+=8,h+=e.value;var n=k(e);s.writeUInt8(n,u),u++,t.isBuffer(e.txHash)||(e.txHash=t.from(e.txHash,"hex")),e.txHash.copy(s,u),u+=e.txHash.length})),{payload:s,schema:c.signingSchema.BTC_TRANSFER,origData:e,changeData:{value:h-(a+i)}}}catch(e){return{err:e}}},serializeTx:function(e){var r=e.inputs,n=e.outputs,a=e.lockTime,o=void 0===a?0:a,c=t.alloc(4),l=0,P=function(e){var t=!1;return e.forEach((function(e){e.signerPath[0]!==d.BTC_SEGWIT&&e.signerPath[0]!==d.BTC_WRAPPED_SEGWIT||(t=!0)})),t}(r);c.writeUInt32LE(2,l),l+=4,P&&(c=x(c,t.from("00","hex")),c=x(c,t.from("01","hex")));var _=T(r.length);c=x(c,_),l+=_.length,r.forEach((function(e){c=x(c,e.hash.reverse()),l+=e.hash.length;var r=E(e.index);c=x(c,r),l+=r.length;var n=k(e);if(3===n){var a=function(e){var r=t.alloc(22),n=t.from((0,s.sha256)().update(e).digest("hex"),"hex"),a=t.from((0,i.ripemd160)().update(n).digest("hex"),"hex");return r.writeUInt8(f,0),r.writeUInt8(a.length,1),a.copy(r,2),r}(e.pubkey),o=T(a.length),d=T((h=t.concat([o,a])).length);c=x(c,d),l+=d.length,c=x(c,h),l+=h.length}else if(1===n){var h=function(e,r){var n=T((e=t.concat([e,u])).length),a=T(r.length),o=t.concat([n,e,a,r]),i=T(o.length);return t.concat([i,o])}(e.sig,e.pubkey);c=x(c,h),l+=h.length}else if(4===n){var p=t.from("00","hex");c=x(c,p),l+=1}var m=E(4294967295);c=x(c,m),l+=m.length}));var A=T(n.length);if(c=x(c,A),l+=A.length,n.forEach((function(e){var r,n,a=(r=e.value,n=t.alloc(8),S(r,n,0),n);c=x(c,a),l+=a.length;var o=function(e){var r=w(e);switch(r.versionByte){case b:case y:return n=r.pkh,(a=t.alloc(2+n.length)).writeUInt8(f,0),a.writeUInt8(n.length,1),n.copy(a,2),a;case 5:case 196:return function(e){var r=t.alloc(3+e.length),n=0;return r.writeUInt8(h,n),n++,r.writeUInt8(e.length,n),n++,e.copy(r,n),n+=e.length,r.writeUInt8(m,n),n++,r}(r.pkh);case 0:case 111:return function(e){var r=t.alloc(5+e.length),n=0;return r.writeUInt8(p,n),n++,r.writeUInt8(h,n),n++,r.writeUInt8(e.length,n),n++,e.copy(r,n),n+=e.length,r.writeUInt8(g,n),n++,r.writeUInt8(v,n),n++,r}(r.pkh);default:throw new Error("Unknown version byte: ".concat(r.versionByte,". Cannot build BTC transaction."))}var n,a}(e.recipient),i=T(o.length);c=x(c,i),l+=i.length,c=x(c,o),l+=o.length})),P){for(var I=[],R=[],C=0;C<r.length;C++)I.push(r[C].sig),R.push(r[C].pubkey);var N=function(e,r){var n=t.alloc(0),a=t.alloc(1);a.writeUInt8(2,0);for(var o=0;o<e.length;o++){var i=t.concat([e[o],u]),s=T(i.length),c=r[o],d=T(c.length);n=t.concat([n,a,s,i,d,c])}return n}(I,R);c=x(c,N),l+=N.length}return t.concat([c,E(o)]).toString("hex")},getBitcoinAddress:function(e,r){var n=null,i=null;if(r===b?(n="bc",i=0):r===y&&(n="tb",i=0),null!==n&&null!==i){var s=a.bech32.toWords(e);return s.unshift(i),a.bech32.encode(n,s)}return o.default.encode(t.concat([t.from([r]),e]))},getAddressFormat:P}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4356,{"@ethersproject/abi":370,buffer:1797,"js-sha3":4476},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.replaceNestedDefs=r.getNestedCalldata=r.parseCanonicalName=r.parseSolidityJSONABI=void 0;var n=e("js-sha3"),a=e("@ethersproject/abi");r.parseSolidityJSONABI=function(e,t){e=i(e);var r=t.filter((function(e){return"function"===e.type})).find((function(t){return o(d(t).canonicalName)===e}));if(r)return{def:d(r).def};throw new Error("Unable to find matching function in ABI")};r.parseCanonicalName=function(e,t){if((e=i(e))!==o(t))throw new Error("Name does not match provided sig.");var r=[],n=t.indexOf("(");if(n<0)throw new Error(b);r.push(t.slice(0,n)),t=t.slice(n+1);for(var a=[];t.length>1;){var u=s(t);a=a.concat(c(u)),t=t.slice(u.length+1)}var d=l(a);return r.concat(d)};r.getNestedCalldata=function(e,r){var n=[],o=e.slice(1),i=function(e){for(var t=[],r=function(r){var n=e[r],a=y[n[1]];n[2]&&(a="".concat(a).concat(8*n[2])),n[3].length>0&&n[3].forEach((function(e){a=0===n[3][e]?"".concat(a,"[]"):"".concat(a,"[").concat(n[3][e],"]")})),t.push(a)},n=0;n<e.length;n++)r(n);return t}(o);function s(e){return(e.length-4)%32==0}return(new a.AbiCoder).decode(i,"0x"+r.slice(4).toString("hex")).forEach((function(e,r){if(m(o[r])){var a=!0;if(v(o[r]))e.forEach((function(e){s(t.from(e.slice(2),"hex"))||(a=!1)}));else if(g(o[r])){var i=t.from(e.slice(2),"hex");a=s(i)}else a=!1;n.push(a?e:null)}else n.push(null)})),n};function o(e){return"0x".concat((0,n.keccak256)(e).slice(0,8))}function i(e){if("string"!=typeof e||10!==e.length&&8!==e.length)throw new Error("`sig` must be a hex string with 4 bytes of data.");return 8===e.length&&(e="0x".concat(e)),e}function s(e){if(p(e))return h(e);if(e.indexOf(",")>-1)return e.slice(0,e.indexOf(","));if(e.indexOf(")")>-1)return e.slice(0,e.indexOf(")"));throw new Error(b)}function c(e){if(!p(e))return[u(e)];var t={szBytes:0,typeIdx:y.indexOf("tuple"),arraySzs:[]},r=h(e,!1),n=e.slice(r.length);t.arraySzs=f(n),r=r.slice(1);for(var a=[];r.length>0;){var o=s(r);r=r.slice(o.length+1),a=a.concat(c(o))}if(!a.length)throw new Error(b);return[t,a]}function u(e){var t={szBytes:0,typeIdx:0,arraySzs:[]},r=!1;if(y.forEach((function(n,a){if(e.indexOf(n)>-1&&!r){t.typeIdx=a,t.arraySzs=f(e);var o=t.arraySzs.length>0?e.indexOf("["):e.length,i=e.slice(n.length,o);if(parseInt(i)&&(t.szBytes=parseInt(i)/8,t.szBytes>32))throw new Error(b);r=!0}})),!r)throw new Error(b);return t}function d(e,t,r,n){if(void 0===t&&(t=""),void 0===r&&(r=[]),void 0===n&&(n=!1),!n){var a=e.name||"";r.push(a),t+=a}return e.inputs&&(t+="(",e.inputs.forEach((function(e){var n=function(e){if(!e.type)throw new Error("No type in input");var t=[e.name],r=function(e){var t,r={szBytes:0,typeIdx:0,arraySzs:[]};y.forEach((function(n,a){e.indexOf(n)>-1&&!t&&(t=n,r.typeIdx=a)})),r.arraySzs=f(e);var n=r.arraySzs.length>0?e.indexOf("["):e.length;if(["uint","int","bytes"].indexOf(t)>-1){var a=parseInt(e.slice(t.length,n))||0;if(a>256)throw new Error("Invalid param size");r.szBytes=a/8}else r.szBytes=0;return r}(e.type),n=r.typeIdx,a=r.szBytes,o=r.arraySzs;return t.push(n),t.push(a),t.push(o),t}(e);if(e.type.indexOf("tuple")>-1&&e.components){var a=d({inputs:e.components},t,[],!0);t=a.canonicalName,t+="".concat(e.type.slice(5),","),n.push(a.def)}else t+=e.type,t+=",";r.push(n)})),","===t[t.length-1]&&(t=t.slice(0,t.length-1)),t+=")"),{def:r,canonicalName:t}}function l(e,t){void 0===t&&(t="");var r=[],n=0;return e.forEach((function(e,a){Array.isArray(e)?r[r.length-1].push(l(e,"".concat(a,"-"))):r.push(["#".concat(t).concat(a+1-n),e.typeIdx,e.szBytes,e.arraySzs]),e.typeIdx===y.indexOf("tuple")&&(n+=1)})),r}function f(e){if("string"!=typeof e)throw new Error("Invalid type");for(var t=[],r=e;r.length>0;){var n=r.indexOf("[");if(n<0)return t;var a=r.slice(n),o=a.indexOf("]");if(o<0)throw new Error("Bad param type");var i=a.slice(1,o);0===i.length?t.push(0):t.push(parseInt(i)),r=a.slice(o+1)}return t}function h(e,t){void 0===t&&(t=!0);for(var r=0,n=!1,a=0;a<e.length;a++){"("===e[a]?(r+=1,n=!0):")"===e[a]&&(r-=1);var o=","===e[a+1]||")"===e[a+1]||a===e.length-1;if(t||"["!==e[a+1]||(o=!0),!r&&n&&o)return e.slice(0,a+1)}throw new Error(b)}function p(e){return"("===e[0]}function m(e){return"bytes"===y[e[1]]}function g(e){return m(e)&&0===e[3].length}function v(e){return m(e)&&1===e[3].length&&0===e[3][0]}r.replaceNestedDefs=function(e,t){for(var r=0;r<t.length;r++){var n=v(e[1+r]),a=g(e[1+r]);if(null!==t[r]&&(n||a)){e[1+r][1]=y.indexOf("nestedDef");var o=n?t[r]:[t[r]];e[1+r]=e[1+r].concat([o])}}return e};var b="Could not parse canonical function name.",y=[null,"address","bool","uint","int","bytes","string","tuple","nestedDef"]}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4357,{"./evm":4356},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CALLDATA=void 0;var n=e("./evm");r.CALLDATA={EVM:{type:1,parsers:{parseSolidityJSONABI:n.parseSolidityJSONABI,parseCanonicalName:n.parseCanonicalName},processors:{getNestedCalldata:n.getNestedCalldata,replaceNestedDefs:n.replaceNestedDefs}}}}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4358,{"./constants":4359,"./functions/index":4366,"./shared/functions":4373,"./shared/validators":4376,"./util":4377,buffer:1797},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.Client=void 0;var o=e("./constants"),i=e("./functions/index"),s=e("./shared/functions"),c=e("./shared/validators"),u=e("./util"),d=function(){function e(e){var t=e.baseUrl,r=e.name,n=e.privKey,a=e.stateData,i=e.timeout,c=e.retryCount,d=e.skipRetryOnWrongWallet;this.name=r||"Unknown",this.baseUrl=t||o.BASE_URL,this.deviceId=null,this.isPaired=!1,this.activeWallets=o.DEFAULT_ACTIVE_WALLETS,this.timeout=i||6e4,this.retryCount=c||3,this.skipRetryOnWrongWallet=d||!1,this.privKey=n||(0,u.randomBytes)(32),this.key=(0,u.getP256KeyPair)(this.privKey),this.retryWrapper=(0,s.buildRetryWrapper)(this,this.retryCount),a&&this.unpackAndApplyStateData(a)}return Object.defineProperty(e.prototype,"sharedSecret",{get:function(){return t.from(this.key.derive(this.ephemeralPub.getPublic()).toArray("be",32))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ephemeralPub",{get:function(){return this._ephemeralPub},set:function(e){(0,c.validateEphemeralPub)(e),this._ephemeralPub=e},enumerable:!1,configurable:!0}),e.prototype.connect=function(e){return n(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.retryWrapper(i.connect,{id:e})]}))}))},e.prototype.pair=function(e){return n(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.retryWrapper(i.pair,{pairingSecret:e})]}))}))},e.prototype.getAddresses=function(e){var t=e.startPath,r=e.n,o=void 0===r?1:r,s=e.flag,c=void 0===s?0:s;return n(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.retryWrapper(i.getAddresses,{startPath:t,n:o,flag:c})]}))}))},e.prototype.sign=function(e){var t=e.data,r=e.currency,o=e.cachedData,s=e.nextCode;return n(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.retryWrapper(i.sign,{data:t,currency:r,cachedData:o,nextCode:s})]}))}))},e.prototype.fetchActiveWallet=function(){return n(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.retryWrapper(i.fetchActiveWallet)]}))}))},e.prototype.addKvRecords=function(e){var t=e.type,r=void 0===t?0:t,o=e.records,s=e.caseSensitive,c=void 0!==s&&s;return n(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.retryWrapper(i.addKvRecords,{type:r,records:o,caseSensitive:c})]}))}))},e.prototype.getKvRecords=function(e){var t=e.type,r=void 0===t?0:t,o=e.n,s=void 0===o?1:o,c=e.start,u=void 0===c?0:c;return n(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.retryWrapper(i.getKvRecords,{type:r,n:s,start:u})]}))}))},e.prototype.removeKvRecords=function(e){var t=e.type,r=void 0===t?0:t,o=e.ids,s=void 0===o?[]:o;return n(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.retryWrapper(i.removeKvRecords,{type:r,ids:s})]}))}))},e.prototype.getActiveWallet=function(){return this.activeWallets.external.uid&&!o.EMPTY_WALLET_UID.equals(this.activeWallets.external.uid)?this.activeWallets.external:this.activeWallets.internal.uid&&!o.EMPTY_WALLET_UID.equals(this.activeWallets.internal.uid)?this.activeWallets.internal:undefined},e.prototype.hasActiveWallet=function(){return!!this.getActiveWallet()},e.prototype.resetActiveWallets=function(){this.activeWallets=o.DEFAULT_ACTIVE_WALLETS},e.prototype.getStateData=function(){return this.packStateData()},e.prototype.getFwConstants=function(){var e;return(0,o.getFwVersionConst)(null!==(e=this.fwVersion)&&void 0!==e?e:t.alloc(0))},e.prototype.getFwVersion=function(){return this.fwVersion&&this.fwVersion.length>=3?{fix:this.fwVersion[0],minor:this.fwVersion[1],major:this.fwVersion[2]}:{fix:0,minor:0,major:0}},e.prototype.getAppName=function(){return this.name},e.prototype.packStateData=function(){var e,t,r,n,a;try{var o={activeWallets:{internal:{uid:null===(e=this.activeWallets.internal.uid)||void 0===e?void 0:e.toString("hex"),name:null===(t=this.activeWallets.internal.name)||void 0===t?void 0:t.toString(),capabilities:this.activeWallets.internal.capabilities},external:{uid:null===(r=this.activeWallets.external.uid)||void 0===r?void 0:r.toString("hex"),name:null===(n=this.activeWallets.external.name)||void 0===n?void 0:n.toString(),capabilities:this.activeWallets.external.capabilities}},ephemeralPub:this.ephemeralPub.getPublic().encode("hex"),fwVersion:null===(a=this.fwVersion)||void 0===a?void 0:a.toString("hex"),deviceId:this.deviceId,name:this.name,baseUrl:this.baseUrl,privKey:this.privKey.toString("hex"),retryCount:this.retryCount,timeout:this.timeout};return JSON.stringify(o)}catch(e){return console.warn("Could not pack state data."),null}},e.prototype.unpackAndApplyStateData=function(e){try{var r=JSON.parse(e),n={uid:t.from(r.activeWallets.internal.uid,"hex"),name:t.from(r.activeWallets.internal.name),capabilities:r.activeWallets.internal.capabilities,external:!1},a={uid:t.from(r.activeWallets.external.uid,"hex"),name:t.from(r.activeWallets.external.name),capabilities:r.activeWallets.external.capabilities,external:!0},o=t.from(r.ephemeralPub,"hex"),i=t.from(r.fwVersion,"hex"),c=t.from(r.privKey,"hex");this.activeWallets.internal=n,this.activeWallets.external=a,this.ephemeralPub=(0,u.getP256KeyPairFromPub)(o),this.fwVersion=i,this.deviceId=r.deviceId,this.name=r.name,this.baseUrl=r.baseUrl,this.url="".concat(this.baseUrl,"/").concat(this.deviceId),this.privKey=c,this.key=(0,u.getP256KeyPair)(this.privKey),this.retryCount=r.retryCount,this.timeout=r.timeout,this.retryWrapper=(0,s.buildRetryWrapper)(this,this.retryCount)}catch(e){console.warn("Could not apply state data.")}},e}();r.Client=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4359,{buffer:1797},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){var t,n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.ETH_ABI_LATTICE_FW_TYPE_MAP=r.MAX_CHAIN_ID_BYTES=r.HANDLE_LARGER_CHAIN_ID=r.HARDENED_OFFSET=r.VERSION_BYTE=r.REQUEST_TYPE_BYTE=r.signingSchema=r.responseMsgs=r.responseCodes=r.messageConstants=r.ethMsgProtocol=r.encReqCodes=r.deviceCodes=r.decResLengths=r.addressSizes=r.ENC_MSG_LEN=r.EXTERNAL_NETWORKS_BY_CHAIN_ID_URL=r.NETWORKS_BY_CHAIN_ID=r.MAX_ADDR=r.CURRENCIES=r.BASE_URL=r.BIP_CONSTANTS=r.AES_IV=r.ADDR_STR_LEN=r.getFwVersionConst=r.ASCII_REGEX=r.DEFAULT_ACTIVE_WALLETS=r.EMPTY_WALLET_UID=r.EXTERNAL=void 0;r.AES_IV=[109,121,115,101,99,114,101,116,112,97,115,115,119,111,114,100];r.ADDR_STR_LEN=129;var a={empty:0,getAddresses:1290,sign:1090,getWallets:142,getKvRecords:1395,getDecoders:1608,removeDecoders:4,test:1646};r.decResLengths=a;var o=0;r.ENC_MSG_LEN=o,Object.keys(a).forEach((function(e){a[e]+82>o&&(r.ENC_MSG_LEN=o=a[e]+82)}));r.deviceCodes={CONNECT:1,ENCRYPTED_REQUEST:2};r.encReqCodes={FINALIZE_PAIRING:0,GET_ADDRESSES:1,ADD_PERMISSION:2,SIGN_TRANSACTION:3,GET_WALLETS:4,ADD_PERMISSION_V0:5,ADD_DECODERS:6,GET_KV_RECORDS:7,ADD_KV_RECORDS:8,REMOVE_KV_RECORDS:9,GET_DECODERS:10,REMOVE_DECODERS:11,TEST:12};r.messageConstants={NOT_PAIRED:0,PAIRED:1};r.addressSizes={BTC:20,ETH:20};var i={RESP_SUCCESS:0,RESP_ERR_INVALID_MSG:128,RESP_ERR_UNSUPPORTED_VER:129,RESP_ERR_DEV_BUSY:130,RESP_ERR_USER_TIMEOUT:131,RESP_ERR_USER_DECLINED:132,RESP_ERR_PAIR_FAIL:133,RESP_ERR_PAIR_DISABLED:134,RESP_ERR_PERMISSION_DISABLED:135,RESP_ERR_INTERNAL:136,RESP_ERR_GCE_TIMEOUT:137,RESP_ERR_WRONG_WALLET:138,RESP_ERR_DEV_LOCKED:139,RESP_ERR_DISABLED:140,RESP_ERR_ALREADY:141,RESP_ERR_INVALID_EPHEM_ID:142};r.responseCodes=i;r.CURRENCIES={ETH:"ETH",BTC:"BTC",ETH_MSG:"ETH_MSG"};var s=((t={})[i.RESP_SUCCESS]=0,t[i.RESP_ERR_INVALID_MSG]="Invalid request",t[i.RESP_ERR_UNSUPPORTED_VER]="Unsupported version",t[i.RESP_ERR_DEV_BUSY]="Device busy",t[i.RESP_ERR_USER_TIMEOUT]="Timeout waiting for user",t[i.RESP_ERR_USER_DECLINED]="Request declined by user",t[i.RESP_ERR_PAIR_FAIL]="Pairing failed",t[i.RESP_ERR_PAIR_DISABLED]="Pairing is currently disabled",t[i.RESP_ERR_PERMISSION_DISABLED]="Automated signing is currently disabled",t[i.RESP_ERR_INTERNAL]="Device error",t[i.RESP_ERR_GCE_TIMEOUT]="Timeout",t[i.RESP_ERR_WRONG_WALLET]="Active wallet does not match request",t[i.RESP_ERR_DEV_LOCKED]="Device locked",t[i.RESP_ERR_DISABLED]="Disabled",t[i.RESP_ERR_ALREADY]="Record already exists. You must first remove it on your device.",t[i.RESP_ERR_INVALID_EPHEM_ID]="Could not find requester. Please reconnect.",t);r.responseMsgs=s;r.signingSchema={BTC_TRANSFER:0,ETH_TRANSFER:1,ERC20_TRANSFER:2,ETH_MSG:3,EXTRA_DATA:4,GENERAL_SIGNING:5};var c=2147483648;r.HARDENED_OFFSET=c;var u={PURPOSES:{ETH:2147483692,BTC_LEGACY:2147483692,BTC_WRAPPED_SEGWIT:2147483697,BTC_SEGWIT:2147483732},COINS:{ETH:2147483708,BTC:c,BTC_TESTNET:2147483649}};r.BIP_CONSTANTS=u;r.REQUEST_TYPE_BYTE=2;r.VERSION_BYTE=1;r.HANDLE_LARGER_CHAIN_ID=255;r.MAX_CHAIN_ID_BYTES=8;r.BASE_URL="https://signing.gridpl.us";var d={address:1,bool:2,uint8:3,uint16:4,uint24:5,uint32:6,uint40:7,uint48:8,uint56:9,uint64:10,uint72:11,uint80:12,uint88:13,uint96:14,uint104:15,uint112:16,uint120:17,uint128:18,uint136:19,uint144:20,uint152:21,uint160:22,uint168:23,uint176:24,uint184:25,uint192:26,uint200:27,uint208:28,uint216:29,uint224:30,uint232:31,uint240:32,uint248:33,uint256:34,int8:35,int16:36,int24:37,int32:38,int40:39,int48:40,int56:41,int64:42,int72:43,int80:44,int88:45,int96:46,int104:47,int112:48,int120:49,int128:50,int136:51,int144:52,int152:53,int160:54,int168:55,int176:56,int184:57,int192:58,int200:59,int208:60,int216:61,int224:62,int232:63,int240:64,int248:65,int256:66,uint:67,bytes1:69,bytes2:70,bytes3:71,bytes4:72,bytes5:73,bytes6:74,bytes7:75,bytes8:76,bytes9:77,bytes10:78,bytes11:79,bytes12:80,bytes13:81,bytes14:82,bytes15:83,bytes16:84,bytes17:85,bytes18:86,bytes19:87,bytes20:88,bytes21:89,bytes22:90,bytes23:91,bytes24:92,bytes25:93,bytes26:94,bytes27:95,bytes28:96,bytes29:97,bytes30:98,bytes31:99,bytes32:100,bytes:101,string:102},l=n(n({},d),{tuple1:103,tuple2:104,tuple3:105,tuple4:106,tuple5:107,tuple6:108,tuple7:109,tuple8:110,tuple9:111,tuple10:112,tuple11:113,tuple12:114,tuple13:115,tuple14:116,tuple15:117,tuple16:118,tuple17:119});r.ETH_ABI_LATTICE_FW_TYPE_MAP=l;var f={SIGN_PERSONAL:{str:"signPersonal",enumIdx:0},TYPED_DATA:{str:"typedData",enumIdx:1,rawDataMaxLen:1629,typeCodes:d}};r.ethMsgProtocol=f,r.EXTERNAL={GET_ADDR_FLAGS:{SECP256K1_PUB:3,ED25519_PUB:4},SIGNING:{HASHES:{NONE:0,KECCAK256:1,SHA256:2},CURVES:{SECP256K1:0,ED25519:1},ENCODINGS:{NONE:1,SOLANA:2,EVM:4}}},r.getFwVersionConst=function(e){var t={extraDataFrameSz:0,extraDataMaxFrames:0,genericSigning:{}};function n(e,t){return e[2]>t[0]||e[2]===t[0]&&e[1]>t[1]||e[2]===t[0]&&e[1]===t[1]&&e[0]>t[2]||e[2]===t[0]&&e[1]===t[1]&&e[0]===t[2]}var a=0===e.length;return!a&&n(e,[0,10,4])||!a&&n(e,[0,10,0])?(t.reqMaxDataSz=1678,t.ethMaxGasPrice=2e13,t.addrFlagsAllowed=!0):(t.reqMaxDataSz=1152,t.ethMaxGasPrice=5e11,t.addrFlagsAllowed=!1),t.ethMaxDataSz=t.reqMaxDataSz-128,t.ethMaxMsgSz=t.ethMaxDataSz,t.eip712MaxTypeParams=18,!a&&n(e,[0,10,4])&&(t.extraDataFrameSz=1500,t.extraDataMaxFrames=1),!a&&n(e,[0,10,5])&&(t.varAddrPathSzAllowed=!0,t.eip712Supported=!0),!a&&n(e,[0,10,8])&&(t.prehashAllowed=!0),!a&&n(e,[0,10,10])&&(t.ethMsgPreHashAllowed=!0),!a&&n(e,[0,11,0])&&(t.allowedEthTxTypes=[1,2],t.ethMaxDataSz-=10,t.ethMaxMsgSz=t.ethMaxDataSz),!a&&n(e,[0,11,2])&&(t.personalSignHeaderSz=72),!a&&n(e,[0,12,0])&&(t.kvActionsAllowed=!0,t.kvKeyMaxStrSz=63,t.kvValMaxStrSz=63,t.kvActionMaxNum=10,t.kvRemoveMaxNum=100),!a&&n(e,[0,13,0])&&(t.allowBtcLegacyAndSegwitAddrs=!0,t.contractDeployKey="0x08002e0fec8e6acf00835f43c9764f7364fa3f42"),!a&&n(e,[0,14,0])&&(t.abiCategorySz=32,t.abiMaxRmv=200,t.genericSigning.baseReqSz=1552,t.genericSigning.baseDataSz=1519,t.genericSigning.hashTypes=r.EXTERNAL.SIGNING.HASHES,t.genericSigning.curveTypes=r.EXTERNAL.SIGNING.CURVES,t.genericSigning.encodingTypes={NONE:r.EXTERNAL.SIGNING.ENCODINGS.NONE,SOLANA:r.EXTERNAL.SIGNING.ENCODINGS.SOLANA},t.getAddressFlags=[r.EXTERNAL.GET_ADDR_FLAGS.ED25519_PUB,r.EXTERNAL.GET_ADDR_FLAGS.SECP256K1_PUB],t.eip712MaxTypeParams=36),!a&&n(e,[0,15,0])&&(t.genericSigning.encodingTypes.EVM=r.EXTERNAL.SIGNING.ENCODINGS.EVM,t.ethMaxDataSz=1519,t.maxDecoderBufSz=1600,t.genericSigning.calldataDecoding={reserved:2895728,maxSz:1024}),t};r.ASCII_REGEX=/^[\x00-\x7F]+$/;r.EXTERNAL_NETWORKS_BY_CHAIN_ID_URL="https://gridplus.github.io/chains/chains.json";r.MAX_ADDR=10;r.NETWORKS_BY_CHAIN_ID={1:{name:"ethereum",baseUrl:"https://api.etherscan.io",apiRoute:"api?module=contract&action=getabi"},137:{name:"polygon",baseUrl:"https://api.polygonscan.com",apiRoute:"api?module=contract&action=getabi"},56:{name:"binance",baseUrl:"https://api.bscscan.com",apiRoute:"api?module=contract&action=getabi"},43114:{name:"avalanche",baseUrl:"https://api.snowtrace.io",apiRoute:"api?module=contract&action=getabi"}},r.EMPTY_WALLET_UID=e.alloc(32),r.DEFAULT_ACTIVE_WALLETS={internal:{uid:r.EMPTY_WALLET_UID,external:!1,name:e.alloc(0),capabilities:0},external:{uid:r.EMPTY_WALLET_UID,external:!0,name:e.alloc(0),capabilities:0}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4360,{"./constants":4359,"./util":4377,"@ethereumjs/common":4410,"@ethereumjs/tx":4414,"bignumber.js":4475,borc:1760,buffer:1797,"eth-eip712-util-browser":2020,"js-sha3":4476,rlp:4477,secp256k1:5091},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var s=o(e("@ethereumjs/common")),c=e("@ethereumjs/tx"),u=i(e("bignumber.js")),d=i(e("borc")),l=e("eth-eip712-util-browser"),f=e("js-sha3"),h=e("rlp"),p=i(e("secp256k1")),m=e("./constants"),g=e("./util");function v(e){for(var t=e[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e}function b(e,r,n,a){void 0===a&&(a={});try{var o=new Uint8Array(e),i=0,s=(0,g.fixLen)(r.r,32);r.r=s;var c=(0,g.fixLen)(r.s,32);r.s=c;var u=new Uint8Array(t.concat([s,c])),d=p.default.ecdsaRecover(u,i,o,!1).slice(1);if(y(d)===n.toString("hex"))return r.v=x(i,a),r;if(i=1,y(d=p.default.ecdsaRecover(u,i,o,!1).slice(1))===n.toString("hex"))return r.v=x(i,a),r;throw new Error("Invalid Ethereum signature returned.")}catch(e){throw new Error(e)}}function y(e){return(0,f.keccak256)(e).slice(-40)}function x(e,r){void 0===r&&(r={});var n=r.chainId,a=r.useEIP155,o=r.type;if(1===o||2===o)return(0,g.ensureHexBuffer)(e,!0);if(!1===a||null===n)return t.from(new u.default(e).plus(27).toString(16),"hex");var i=T(n),s=new u.default(i.toString("hex"),16);return(0,g.ensureHexBuffer)("0x".concat(s.times(2).plus(35).plus(e).toString(16)))}var E={mainnet:1,roptsten:3,rinkeby:4,kovan:42,goerli:5};function T(e){var r,n;if((r=!0===S(e)?(0,g.ensureHexBuffer)(e):(0,g.ensureHexBuffer)("0x".concat(new u.default(e).toString(16)))).length>8)throw new Error("ChainID provided is too large.");return r.length<=2||4===r.length||8===r.length?r:(3===r.length?(n=t.alloc(4)).writeUInt32BE(e):r.length<=8&&(n=t.alloc(8),r.copy(n,8-r.length)),n)}function S(e){if("string"!=typeof e)return!1;if("0x"!==e.slice(0,2))return!1;try{return!1===new u.default(e,16).isNaN()}catch(e){return!1}}function w(e,r){var n=r.fwConstants,a=n.ethMaxMsgSz,o=n.extraDataFrameSz,i=n.extraDataMaxFrames,s=a,c=o>0&&i>0,u=[];if(e.length>s){var d=s+i*o;if(!c)throw new Error("Your message is ".concat(e.length," bytes, but can only be a maximum of ").concat(s));if(c&&e.length>d)throw new Error("Your message is ".concat(e.length," bytes, but can only be a maximum of ").concat(d));(0,g.splitFrames)(e.slice(s),o).forEach((function(e){var r=t.alloc(4);r.writeUInt32LE(e.length,0),u.push(t.concat([r,e]))}))}return u}function P(e,t,r,n){return void 0===n&&(n=!1),r[t].forEach((function(t){var a=t.type.indexOf("[")>-1,o=a?t.type.slice(0,t.type.indexOf("[")):t.type,i=Object.keys(r).indexOf(o)>-1;if(i&&Array.isArray(e))for(var s=0;s<e.length;s++)e[s][t.name]=P(e[s][t.name],o,r,n);else if(i)e[t.name]=P(e[t.name],o,r,n);else if(Array.isArray(e))for(s=0;s<e.length;s++)if(a)for(var c=0;c<e[s][t.name].length;c++)e[s][t.name][c]=k(e[s][t.name][c],o,n);else e[s][t.name]=k(e[s][t.name],o,n);else if(a)for(s=0;s<e[t.name].length;s++)e[t.name][s]=k(e[t.name][s],o,n);else e[t.name]=k(e[t.name],o,n)})),e}function k(e,r,n){if(void 0===n&&(n=!1),"bytes"===r)e=(0,g.ensureHexBuffer)(e),n&&(e="0x".concat(e.toString("hex")));else if("bytes"===r.slice(0,5)){var a=parseInt(r.slice(5));if((e=(0,g.ensureHexBuffer)(e)).length!==a)throw new Error("Expected ".concat(r," type, but got ").concat(e.length," bytes"));n&&(e="0x".concat(e.toString("hex")))}else if("address"===r){if(0===(e=(0,g.ensureHexBuffer)(e)).length&&(e=t.alloc(20)),20!==e.length)throw new Error("Address type must be 20 bytes, but got ".concat(e.length," bytes"));n&&(e="0x".concat(e.toString("hex")))}else if(m.ethMsgProtocol.TYPED_DATA.typeCodes[r]&&(r.indexOf("uint")>-1||r.indexOf("int")>-1)){var o=(0,g.ensureHexBuffer)(e);0===o.length&&(o=t.from("00","hex")),e=n?"0x".concat(o.toString("hex")):(new d.default.Encoder).semanticTypes[1][0](o.toString("hex"),16)}else"bool"===r&&(e=!0===e?1:0);return e}function _(e){return t.from("Ethereum Signed Message:\n".concat(e.toString()),"utf-8")}function A(e,r){return r?t.concat([t.from([r]),t.from((0,h.encode)(e))]):t.from((0,h.encode)(e))}r.default={buildEthereumMsgRequest:function(e){if(!e.payload||!e.protocol||!e.signerPath)throw new Error("You must provide `payload`, `signerPath`, and `protocol` arguments in the messsage request");if(e.signerPath.length>5||e.signerPath.length<2)throw new Error("Please provide a signer path with 2-5 indices");var r={schema:m.signingSchema.ETH_MSG,payload:null,input:e,msg:null};switch(e.protocol){case"signPersonal":return function(e,r){var n=r.fwConstants.ethMaxMsgSz,a=r.fwConstants.varAddrPathSzAllowed,o=24+n+4,i=0;e.payload=t.alloc(o),e.payload.writeUInt8(m.ethMsgProtocol.SIGN_PERSONAL,0),i+=1;var s=(0,g.buildSignerPathBuf)(r.signerPath,a);s.copy(e.payload,i),i+=s.length;var c=r.payload,u=!1;if("string"==typeof r.payload)if("0x"===r.payload.slice(0,2))c=(0,g.ensureHexBuffer)(r.payload),u=!1===m.ASCII_REGEX.test(t.from(r.payload.slice(2),"hex").toString());else{if(!1===(0,g.isAsciiStr)(r.payload))throw new Error("Currently, the Lattice can only display ASCII strings.");c=t.from(r.payload)}else if("boolean"==typeof r.displayHex)u=r.displayHex;else{if(!r.payload.toString)throw new Error("Unsupported input data type");u=!1===m.ASCII_REGEX.test(r.payload.toString())}var d=r.fwConstants,l=n+d.extraDataMaxFrames*d.extraDataFrameSz;d.personalSignHeaderSz&&(l-=d.personalSignHeaderSz);if(d.ethMsgPreHashAllowed&&c.length>l){e.payload.writeUInt8(u,i),i+=1,e.payload.writeUInt16LE(c.length,i),i+=2;var h=t.from((0,f.keccak256)(t.concat([_(c.length),c])),"hex");h.copy(e.payload,i),e.prehash=h}else{var p=w(c,r);e.extraDataPayloads=p,e.msg=c,e.payload.writeUInt8(u,i),i+=1,e.payload.writeUInt16LE(c.length,i),i+=2,c.copy(e.payload,i)}return e}(r,e);case"eip712":if(!e.fwConstants.eip712Supported)throw new Error("EIP712 is not supported by your Lattice firmware version. Please upgrade.");return function(e,r){var n=r.fwConstants,a=n.ethMaxMsgSz,o=n.varAddrPathSzAllowed,i=n.eip712MaxTypeParams,s=m.ethMsgProtocol.TYPED_DATA,c=24+a+4,u=0;e.payload=t.alloc(c),e.payload.writeUInt8(s.enumIdx,0),u+=1;var f=(0,g.buildSignerPathBuf)(r.signerPath,o);f.copy(e.payload,u),u+=f.length;var h=JSON.parse(JSON.stringify(r.payload));if(!h.primaryType||!h.types[h.primaryType])throw new Error("primaryType must be specified and the type must be included.");if(!h.message||!h.domain)throw new Error("message and domain must be specified.");if(0>Object.keys(h.types).indexOf("EIP712Domain"))throw new Error("EIP712Domain type must be defined.");r.payload.message=P(JSON.parse(JSON.stringify(h.message)),JSON.parse(JSON.stringify(h.primaryType)),JSON.parse(JSON.stringify(h.types)),!0),r.payload.domain=P(JSON.parse(JSON.stringify(h.domain)),"EIP712Domain",JSON.parse(JSON.stringify(h.types)),!0),h.domain=P(h.domain,"EIP712Domain",h.types,!1),h.message=P(h.message,h.primaryType,h.types,!1);var p=t.from(d.default.encode(h)),v=r.fwConstants,b=a+v.extraDataMaxFrames*v.extraDataFrameSz,y=p.length>b;if(Object.keys(h.types).forEach((function(e){h.types[e].length>i&&(y=!0)})),v.ethMsgPreHashAllowed&&y){e.payload.writeUInt16LE(p.length,u),u+=2;var x=l.TypedDataUtils.hash(e.input.payload);t.from(x).copy(e.payload,u),e.prehash=x}else{var E=w(p,r);e.extraDataPayloads=E,e.payload.writeUInt16LE(p.length,u),u+=2,p.copy(e.payload,u),u+=p.length,e.payload=e.payload.slice(0,u)}return e}(r,e);default:throw new Error("Unsupported protocol")}},validateEthereumMsgResponse:function(e,r){var n=e.signer,a=e.sig,o=r.input,i=r.msg,s=r.prehash,c=void 0===s?null:s;if("signPersonal"===o.protocol)return b(c||t.from((0,f.keccak256)(t.concat([_(i.length),i])),"hex"),a,n,{chainId:1,useEIP155:!1});if("eip712"===o.protocol){var u=l.TypedDataUtils.hash(r.input.payload);return b(c||u,a,n,{useEIP155:!1})}throw new Error("Unsupported protocol")},buildEthereumTxRequest:function(e){try{var r=e.chainId,n=void 0===r?1:r,a=e.signerPath,o=e.eip155,i=void 0===o?null:o,s=e.fwConstants,c=e.type,u=void 0===c?null:c,d=s.contractDeployKey,l=s.extraDataFrameSz,h=s.extraDataMaxFrames,p=s.prehashAllowed,v=l>0&&h>0,b=s.ethMaxDataSz,y=s.varAddrPathSzAllowed;if("number"!=typeof n&&!1===S(n)&&(n=E[n]),!n)throw new Error("Unsupported chain ID or name");if(!a)throw new Error("`signerPath` not provided");if(null===e.to&&!d)throw new Error("Contract deployment not supported. Please update your Lattice firmware.");var x=null===e.to&&d,w=s.allowedEthTxTypes&&s.allowedEthTxTypes.indexOf(2)>-1,P=s.allowedEthTxTypes&&s.allowedEthTxTypes.indexOf(1)>-1,k=w&&(2===u||"eip1559"===u),_=P&&(1===u||"eip2930"===u);if(null!==u&&!k&&!_)throw new Error("Unsupported Ethereum transaction type");var I=function(e){switch(e){case 3:case 4:return!1;default:return!0}}(n);null!==i&&"boolean"==typeof i?I=i:(k||_)&&(I=!1),e.value||(e.value=0);var R=[],C=(0,g.ensureHexBuffer)(n),N=(0,g.ensureHexBuffer)(e.nonce),O=void 0,D=(0,g.ensureHexBuffer)(e.gasLimit),B=void 0,L=void 0;x?(B=t.alloc(0),L=(0,g.ensureHexBuffer)(d)):(B=(0,g.ensureHexBuffer)(e.to),L=(0,g.ensureHexBuffer)(e.to));var M=(0,g.ensureHexBuffer)(e.value),G=(0,g.ensureHexBuffer)(e.data);(k||_)&&R.push(C),R.push(N);var H=void 0,F=void 0;if(k){if(!e.maxPriorityFeePerGas)throw new Error("EIP1559 transactions must include `maxPriorityFeePerGas`");H=(0,g.ensureHexBuffer)(e.maxPriorityFeePerGas),R.push(H),F=(0,g.ensureHexBuffer)(e.maxFeePerGas),R.push(F),O=F}else O=(0,g.ensureHexBuffer)(e.gasPrice),R.push(O);R.push(D),R.push(B),R.push(M),R.push(G);var U=!1;if(k||_){var j=[];Array.isArray(e.accessList)&&e.accessList.forEach((function(e){var t=[];e.storageKeys.forEach((function(e){t.push((0,g.ensureHexBuffer)(e))})),j.push([(0,g.ensureHexBuffer)(e.address),t]),U=!0})),R.push(j)}else!0===I&&(R.push(C),R.push((0,g.ensureHexBuffer)(null)),R.push((0,g.ensureHexBuffer)(null)));var q=t.alloc(b+122),V=0;q.writeUInt8(Number(I),V),V++;var W=void 0,z=0;if(!0==(1!==(re=T(n)).length||255===re.readUInt8(0))){if((z=(W=T(n)).length)>m.MAX_CHAIN_ID_BYTES)throw new Error("ChainID provided is too large.");q.writeUInt8(m.HANDLE_LARGER_CHAIN_ID,V),V++}else{if(1!==(W=(0,g.ensureHexBuffer)(n)).length)throw new Error("Error parsing chainID");W.copy(q,V),V+=W.length}var K=(0,g.buildSignerPathBuf)(a,y);if(K.copy(q,V),V+=K.length,N.length>4)throw new Error("Nonce too large");if(N.copy(q,V+(4-N.length)),V+=4,O.length>8)throw new Error("Gas price too large");if(O.copy(q,V+(8-O.length)),V+=8,D.length>4)throw new Error("Gas limit too large");if(D.copy(q,V+(4-D.length)),V+=4,20!==L.length)throw new Error("Invalid `to` address");if(L.copy(q,V),V+=20,M.length>32)throw new Error("Value too large");M.copy(q,V+(32-M.length)),V+=32;var Y=!1;if(s.allowedEthTxTypes)if(U&&(Y=!0),q.writeUInt8(Y?1:0,V),V+=1,k){if(q.writeUInt8(2,V),V+=1,H.length>8)throw new Error("maxPriorityFeePerGasBytes too large");H.copy(q,V+(8-H.length)),V+=8}else _?(q.writeUInt8(1,V),V+=1,V+=8):V+=9;var J=[],$=null,X=G.length||0,Q=z>0?z+1:0,Z=t.alloc(X+Q);if(Q>0&&(Z.writeUInt8(z,0),W.copy(Z,1)),G.copy(Z,Q),X>b){var ee=X+Q,te=b+h*l;if(p&&ee>te)$=t.from((0,f.keccak256)(A(R,u)),"hex");else{if(!v||v&&ee>te)throw new Error("Data field too large (got ".concat(G.length,"; must be <=").concat(te-Q," bytes)"));(0,g.splitFrames)(Z.slice(b),l).forEach((function(e){var r=t.alloc(4);r.writeUInt32LE(e.length,0),J.push(t.concat([r,e]))}))}}else Y&&($=t.from((0,f.keccak256)(A(R,u)),"hex"));return q.writeUInt16BE(G.length,V),V+=2,z>0&&(q.writeUInt8(z,V),V++,W.copy(q,V),V+=z),$?($.copy(q,V),V+=b):(G.slice(0,b).copy(q,V),V+=b),{rawTx:R,type:u,payload:q.slice(0,V),extraDataPayloads:J,schema:m.signingSchema.ETH_TRANSFER,chainId:n,useEIP155:I,signerPath:a}}catch(e){return{err:e.message}}var re},buildEthRawTx:function(e,r,n){var a=b(t.from((0,f.keccak256)(A(e.rawTx,e.type)),"hex"),r,n,e),o=e.useEIP155?e.rawTx.slice(0,-3):e.rawTx;o.push(a.v),o.push(v(a.r)),o.push(v(a.s));var i=t.from((0,h.encode)(o));return e.type&&(i=t.concat([t.from([e.type]),i])),{rawTx:i.toString("hex"),sigWithV:a}},hashTransaction:function(e){return(0,f.keccak256)(t.from(e,"hex"))},chainIds:E,ensureHexBuffer:g.ensureHexBuffer,ethConvertLegacyToGenericReq:function(e){var r;r=e.chainId&&"01"!==(0,g.ensureHexBuffer)(e.chainId).toString("hex")?s.default.custom({chainId:Number(e.chainId)},{hardfork:s.Hardfork.London,eips:[1559,2930]}):new s.default({chain:s.Chain.Mainnet,hardfork:s.Hardfork.London});var n=c.TransactionFactory.fromTxData(e,{common:r});return e.type?n.getMessageToSign(!1):t.from((0,h.encode)(n.getMessageToSign(!1)))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4361,{"../constants":4359,"../shared/functions":4373,"../shared/validators":4376,buffer:1797},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.decryptAddKvRecordsResponse=r.requestAddKvRecords=r.encryptAddKvRecordsRequest=r.encodeAddKvRecordsRequest=r.validateAddKvRequest=r.addKvRecords=void 0;var o=e("../constants"),i=e("../shared/functions"),s=e("../shared/validators");r.addKvRecords=function(e){var t=e.type,o=void 0===t?0:t,i=e.records,s=e.caseSensitive,c=void 0!==s&&s,u=e.client;return n(this,void 0,void 0,(function(){var e,t,n,s,d,l,f,h,p,m,g;return a(this,(function(a){switch(a.label){case 0:return e=(0,r.validateAddKvRequest)({url:u.url,fwConstants:u.getFwConstants(),sharedSecret:u.sharedSecret,records:i}),t=e.url,n=e.sharedSecret,s=e.fwConstants,d=e.validRecords,l=(0,r.encodeAddKvRecordsRequest)({records:d,fwConstants:s,type:o,caseSensitive:c}),f=(0,r.encryptAddKvRecordsRequest)({payload:l,sharedSecret:n}),[4,(0,r.requestAddKvRecords)(f,t)];case 1:return h=a.sent(),p=(0,r.decryptAddKvRecordsResponse)(h,n),m=p.decryptedData,g=p.newEphemeralPub,u.ephemeralPub=g,[2,m]}}))}))};r.validateAddKvRequest=function(e){var t=e.url,r=e.fwConstants,n=e.sharedSecret,a=e.records,o=(0,s.validateUrl)(t),i=(0,s.validateFwConstants)(r);return{url:o,fwConstants:i,sharedSecret:(0,s.validateSharedSecret)(n),validRecords:(0,s.validateKvRecords)(a,i)}};r.encodeAddKvRecordsRequest=function(e){var r=e.records,n=e.fwConstants,a=e.type,o=e.caseSensitive,i=t.alloc(1+139*n.kvActionMaxNum);i.writeUInt8(Object.keys(r).length,0);var c=1;return Object.entries(r).forEach((function(e){var r=e[0],u=e[1],d=(0,s.validateKvRecord)({key:r,val:u},n),l=d.key,f=d.val;i.writeUInt32LE(0,c),c+=4,i.writeUInt32LE(a,c),c+=4,i.writeUInt8(o?1:0,c),c+=1,i.writeUInt8(String(l).length+1,c),c+=1,t.from(String(l)).copy(i,c),c+=n.kvKeyMaxStrSz+1,i.writeUInt8(String(f).length+1,c),c+=1,t.from(String(f)).copy(i,c),c+=n.kvValMaxStrSz+1})),i};r.encryptAddKvRecordsRequest=function(e){var t=e.payload,r=e.sharedSecret;return(0,i.encryptRequest)({requestCode:"ADD_KV_RECORDS",payload:t,sharedSecret:r})};r.requestAddKvRecords=function(e,t){return n(void 0,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,i.request)({payload:e,url:t})]}))}))};r.decryptAddKvRecordsResponse=function(e,t){var r=(0,i.decryptResponse)(e,o.decResLengths.empty,t);return{decryptedData:r.decryptedData,newEphemeralPub:r.newEphemeralPub}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4362,{"../constants":4359,"../shared/functions":4373,"../shared/predicates":4374,"../shared/utilities":4375,"../shared/validators":4376,"../util":4377},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.decodeConnectResponse=r.requestConnect=r.encodeConnectRequest=r.validateConnectRequest=r.connect=void 0;var o=e("../constants"),i=e("../shared/functions"),s=e("../shared/predicates"),c=e("../shared/utilities"),u=e("../shared/validators"),d=e("../util");r.connect=function(e){var t=e.id,o=e.client;return n(this,void 0,void 0,(function(){var e,n,i,c,u,d,l,f,h,p,m,g;return a(this,(function(a){switch(a.label){case 0:return e=(0,r.validateConnectRequest)({deviceId:t,key:o.key,baseUrl:o.baseUrl}),n=e.deviceId,i=e.key,c=e.baseUrl,u="".concat(c,"/").concat(n),[4,(0,r.encodeConnectRequest)(i)];case 1:return d=a.sent(),[4,(0,r.requestConnect)(d,u)];case 2:return l=a.sent(),[4,(0,r.decodeConnectResponse)(l,i)];case 3:return f=a.sent(),h=f.isPaired,p=f.fwVersion,m=f.activeWallets,g=f.ephemeralPub,o.deviceId=n,o.ephemeralPub=g,o.url="".concat(o.baseUrl,"/").concat(n),o.isPaired=h,o.fwVersion=p,m&&(o.activeWallets=m),!h||(0,s.doesFetchWalletsOnLoad)(o.getFwVersion())?[3,5]:[4,o.fetchActiveWallet()];case 4:a.sent(),a.label=5;case 5:return[2,h]}}))}))};r.validateConnectRequest=function(e){var t=e.deviceId,r=e.key,n=e.baseUrl;return{deviceId:(0,u.validateDeviceId)(t),key:(0,u.validateKey)(r),baseUrl:(0,u.validateBaseUrl)(n)}};r.encodeConnectRequest=function(e){var t=o.deviceCodes.CONNECT,r=(0,c.getPubKeyBytes)(e);return(0,i.buildRequest)(t,r)};r.requestConnect=function(e,t){return n(void 0,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,i.request)({payload:e,url:t})]}))}))};r.decodeConnectResponse=function(e,t){var r=0,n=e.readUInt8(r)===o.messageConstants.PAIRED;r++;var a=e.slice(r,r+65).toString("hex");r+=65;var i=(0,d.getP256KeyPairFromPub)(a),s=e.slice(r,r+4);if(r+=4,n){var u=e.slice(r,r+160);r+=160;var l=(0,c.getSharedSecret)(t,i),f=(0,d.aes256_decrypt)(u,l);if(0!==f[f.length-2]||0!==f[f.length-1])throw new Error("Failed to connect to Lattice.");return{isPaired:n,fwVersion:s,activeWallets:(0,c.parseWallets)(f),ephemeralPub:i}}return{isPaired:n,fwVersion:s,activeWallets:undefined,ephemeralPub:i}}}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4363,{"../constants":4359,"../shared/functions":4373,"../shared/validators":4376,buffer:1797},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.decryptFetchActiveWalletResponse=r.decodeFetchActiveWalletResponse=r.requestFetchActiveWallet=r.encryptFetchActiveWalletRequest=r.validateFetchActiveWallet=r.fetchActiveWallet=void 0;var o=e("../constants"),i=e("../shared/functions"),s=e("../shared/validators");r.fetchActiveWallet=function(e){var t=e.client;return n(this,void 0,void 0,(function(){var e,n,o,i,c,u,d,l,f,h;return a(this,(function(a){switch(a.label){case 0:return e=(0,r.validateFetchActiveWallet)({url:t.url,sharedSecret:t.sharedSecret}),n=e.url,o=e.sharedSecret,i=(0,r.encryptFetchActiveWalletRequest)({sharedSecret:o}),[4,(0,r.requestFetchActiveWallet)(i,n).catch((function(e){throw t.resetActiveWallets(),e}))];case 1:return c=a.sent(),u=(0,r.decryptFetchActiveWalletResponse)(c,o),d=u.decryptedData,l=u.newEphemeralPub,f=(0,r.decodeFetchActiveWalletResponse)(d),h=(0,s.validateActiveWallets)(f),t.activeWallets=h,t.ephemeralPub=l,[2,h]}}))}))};r.validateFetchActiveWallet=function(e){var t=e.url,r=e.sharedSecret;return{url:(0,s.validateUrl)(t),sharedSecret:(0,s.validateSharedSecret)(r)}};r.encryptFetchActiveWalletRequest=function(e){var r=e.sharedSecret;return(0,i.encryptRequest)({requestCode:"GET_WALLETS",payload:t.alloc(0),sharedSecret:r})};r.requestFetchActiveWallet=function(e,t){return n(void 0,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,i.request)({payload:e,url:t})]}))}))};r.decodeFetchActiveWalletResponse=function(e){var r=e.slice(65),n={internal:{uid:o.EMPTY_WALLET_UID,external:!1,name:t.alloc(0),capabilities:0},external:{uid:o.EMPTY_WALLET_UID,external:!0,name:t.alloc(0),capabilities:0}},a=0;return n.internal.uid=r.slice(a,a+32),n.internal.capabilities=r.readUInt32BE(a+32),n.internal.name=r.slice(a+36,a+71),a+=71,n.external.uid=r.slice(a,a+32),n.external.capabilities=r.readUInt32BE(a+32),n.external.name=r.slice(a+36,a+71),n};r.decryptFetchActiveWalletResponse=function(e,t){var r=(0,i.decryptResponse)(e,o.decResLengths.getWallets,t);return{decryptedData:r.decryptedData,newEphemeralPub:r.newEphemeralPub}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4364,{"../constants":4359,"../shared/functions":4373,"../shared/validators":4376,"../util":4377,bitwise:1742,buffer:1797},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.decryptGetAddressesResponse=r.decodeGetAddresses=r.requestGetAddresses=r.encryptGetAddressesRequest=r.encodeGetAddressesRequest=r.validateGetAddressesRequest=r.getAddresses=void 0;var i=o(e("bitwise")),s=e("../constants"),c=e("../shared/functions"),u=e("../shared/validators"),d=e("../util");r.getAddresses=function(e){var t=e.startPath,o=e.n,i=e.flag,s=e.client;return n(this,void 0,void 0,(function(){var e,n,c,u,d,l,f,h,p,m,g;return a(this,(function(a){switch(a.label){case 0:return e=(0,r.validateGetAddressesRequest)({startPath:t,n:o,flag:i,url:s.url,fwVersion:s.fwVersion,wallet:s.getActiveWallet(),sharedSecret:s.sharedSecret}),n=e.url,c=e.fwVersion,u=e.wallet,d=e.sharedSecret,l=(0,r.encodeGetAddressesRequest)({startPath:t,n:o,flag:i,fwVersion:c,wallet:u}),f=(0,r.encryptGetAddressesRequest)({payload:l,sharedSecret:d}),[4,(0,r.requestGetAddresses)(f,n)];case 1:return h=a.sent(),p=(0,r.decryptGetAddressesResponse)(h,d),m=p.decryptedData,g=p.newEphemeralPub,s.ephemeralPub=g,[2,(0,r.decodeGetAddresses)(m,i)]}}))}))};r.validateGetAddressesRequest=function(e){var t=e.startPath,r=e.n,n=e.flag,a=e.url,o=e.fwVersion,i=e.wallet,s=e.sharedSecret;return(0,u.validateStartPath)(t),(0,u.validateNAddresses)(r),(0,u.validateIsUInt4)(n),{url:(0,u.validateUrl)(a),fwVersion:(0,u.validateFwVersion)(o),wallet:(0,u.validateWallet)(i),sharedSecret:(0,u.validateSharedSecret)(s)}};r.encodeGetAddressesRequest=function(e){var r,n=e.fwVersion,a=e.startPath,o=e.n,c=e.wallet,u=e.flag,l=(0,s.getFwVersionConst)(n);if(!((l.getAddressFlags||[]).indexOf(u)>-1&&(u===s.EXTERNAL.GET_ADDR_FLAGS.ED25519_PUB||u===s.EXTERNAL.GET_ADDR_FLAGS.SECP256K1_PUB))&&!(0,d.isValidAssetPath)(a,l))throw new Error("Parent derivation path is not supported");var f=53;if(l.varAddrPathSzAllowed)f+=1;else if(5!==a.length)throw new Error("Your Lattice firmware only supports derivation paths with 5 indices. Please upgrade.");var h=t.alloc(f),p=0;c.uid.copy(h,p),p+=32,l.varAddrPathSzAllowed&&(h.writeUInt8(a.length,p),p+=1);for(var m=0;m<5;m++){if(m<=a.length){var g=null!==(r=a[m])&&void 0!==r?r:0;h.writeUInt32BE(g,p)}p+=4}var v,b=0;if(l.addrFlagsAllowed){b=l.getAddressFlags&&l.getAddressFlags.indexOf(u)>-1?u:0;var y=i.default.nibble.read(b),x=i.default.nibble.read(o);v=i.default.byte.write(y.concat(x))}else v=o;return h.writeUInt8(v,p),p++,h};r.encryptGetAddressesRequest=function(e){var t=e.payload,r=e.sharedSecret;return(0,c.encryptRequest)({requestCode:"GET_ADDRESSES",payload:t,sharedSecret:r})};r.requestGetAddresses=function(e,t){return n(void 0,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,c.request)({payload:e,url:t})]}))}))};r.decodeGetAddresses=function(e,t){var r=65,n=[],a=s.EXTERNAL.GET_ADDR_FLAGS,o=a.ED25519_PUB,i=a.SECP256K1_PUB,c=t===o||t===i;for(c&&(r+=1);r+4<s.decResLengths.getAddresses;)if(c){var u=e.slice(r,r+65),d=u.every((function(e){return 0===e}));d||t!==o?d||n.push(u):n.push(u.slice(0,32)),r+=65}else{var l=e.slice(r,r+s.ADDR_STR_LEN);r+=s.ADDR_STR_LEN;var f=l.indexOf(0);f>0&&n.push(l.slice(0,f).toString())}return n};r.decryptGetAddressesResponse=function(e,t){var r=(0,c.decryptResponse)(e,s.decResLengths.getAddresses,t);return{decryptedData:r.decryptedData,newEphemeralPub:r.newEphemeralPub}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4365,{"../constants":4359,"../shared/functions":4373,"../shared/validators":4376,buffer:1797},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.decodeGetKvRecordsResponse=r.decryptGetKvRecordsResponse=r.requestGetKvRecords=r.encryptGetKvRecordsRequest=r.encodeGetKvRecordsRequest=r.validateGetKvRequest=r.getKvRecords=void 0;var o=e("../constants"),i=e("../shared/functions"),s=e("../shared/validators");r.getKvRecords=function(e){var t=e.type,o=e.n,i=e.start,s=e.client;return n(this,void 0,void 0,(function(){var e,n,c,u,d,l,f,h,p,m,g,v,b;return a(this,(function(a){switch(a.label){case 0:return e=(0,r.validateGetKvRequest)({url:s.url,fwConstants:s.getFwConstants(),sharedSecret:s.sharedSecret,type:t,n:o,start:i}),n=e.url,c=e.sharedSecret,u=e.fwConstants,d=e.type,l=e.n,f=e.start,h=(0,r.encodeGetKvRecordsRequest)({type:d,n:l,start:f}),p=(0,r.encryptGetKvRecordsRequest)({payload:h,sharedSecret:c}),[4,(0,r.requestGetKvRecords)(p,n)];case 1:return m=a.sent(),g=(0,r.decryptGetKvRecordsResponse)(m,c),v=g.decryptedData,b=g.newEphemeralPub,s.ephemeralPub=b,[2,(0,r.decodeGetKvRecordsResponse)(v,u)]}}))}))};r.validateGetKvRequest=function(e){var t=e.url,r=e.fwConstants,n=e.sharedSecret,a=e.n,o=e.type,i=e.start,c=(0,s.validateUrl)(t),u=(0,s.validateFwConstants)(r),d=(0,s.validateSharedSecret)(n);if(!u.kvActionsAllowed)throw new Error("Unsupported. Please update firmware.");if(!a||a<1)throw new Error("You must request at least one record.");if(a>u.kvActionMaxNum)throw new Error("You may only request up to ".concat(u.kvActionMaxNum," records at once."));if(0!==o&&!o)throw new Error("You must specify a type.");if(0!==i&&!i)throw new Error("You must specify a type.");return{url:c,fwConstants:u,sharedSecret:d,type:o,n:a,start:i}};r.encodeGetKvRecordsRequest=function(e){var r=e.type,n=e.n,a=e.start,o=t.alloc(9);return o.writeUInt32LE(r,0),o.writeUInt8(n,4),o.writeUInt32LE(a,5),o};r.encryptGetKvRecordsRequest=function(e){var t=e.payload,r=e.sharedSecret;return(0,i.encryptRequest)({requestCode:"GET_KV_RECORDS",payload:t,sharedSecret:r})};r.requestGetKvRecords=function(e,t){return n(void 0,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,i.request)({payload:e,url:t})]}))}))};r.decryptGetKvRecordsResponse=function(e,t){var r=(0,i.decryptResponse)(e,o.decResLengths.getKvRecords,t);return{decryptedData:r.decryptedData,newEphemeralPub:r.newEphemeralPub}};r.decodeGetKvRecordsResponse=function(e,t){var r=65,n=parseInt(e.slice(r,r+4).toString("hex"),16);r+=4;var a=parseInt(e.slice(r,r+1).toString("hex"),16);if(r+=1,a>t.kvActionMaxNum)throw new Error("Too many records fetched. Firmware error.");for(var o=[],i=0;i<a;i++){var s={};s.id=parseInt(e.slice(r,r+4).toString("hex"),16),r+=4,s.type=parseInt(e.slice(r,r+4).toString("hex"),16),r+=4,s.caseSensitive=1===parseInt(e.slice(r,r+1).toString("hex"),16),r+=1;var c=parseInt(e.slice(r,r+1).toString("hex"),16);r+=1,s.key=e.slice(r,r+c-1).toString(),r+=t.kvKeyMaxStrSz+1;var u=parseInt(e.slice(r,r+1).toString("hex"),16);r+=1,s.val=e.slice(r,r+u-1).toString(),r+=t.kvValMaxStrSz+1,o.push(s)}return{records:o,total:n,fetched:a}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4366,{"./addKvRecords":4361,"./connect":4362,"./fetchActiveWallet":4363,"./getAddresses":4364,"./getKvRecords":4365,"./pair":4367,"./removeKvRecords":4368,"./sign":4369},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e("./addKvRecords"),r),a(e("./connect"),r),a(e("./fetchActiveWallet"),r),a(e("./getAddresses"),r),a(e("./getKvRecords"),r),a(e("./pair"),r),a(e("./removeKvRecords"),r),a(e("./sign"),r)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4367,{"../constants":4359,"../shared/functions":4373,"../shared/utilities":4375,"../shared/validators":4376,"../util":4377,buffer:1797},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.decryptPairResponse=r.requestPair=r.encryptPairRequest=r.encodePairRequest=r.pair=void 0;var o=e("../constants"),i=e("../shared/functions"),s=e("../shared/utilities"),c=e("../shared/validators"),u=e("../util");r.pair=function(e){var t=e.pairingSecret,o=e.client;return n(this,void 0,void 0,(function(){var e,n,i,s,u,d;return a(this,(function(a){switch(a.label){case 0:return e=(0,c.validateAppName)(o.name),n=(0,c.validateUrl)(o.url),i=(0,r.encodePairRequest)(o.key,t,e),s=(0,r.encryptPairRequest)({payload:i,sharedSecret:o.sharedSecret}),[4,(0,r.requestPair)(s,n)];case 1:return u=a.sent(),d=(0,r.decryptPairResponse)(u,o.sharedSecret).newEphemeralPub,o.isPaired=!0,o.ephemeralPub=d,[4,o.fetchActiveWallet()];case 2:return a.sent(),[2,o.hasActiveWallet()]}}))}))};r.encodePairRequest=function(e,r,n){var a=(0,s.getPubKeyBytes)(e),o=t.alloc(25);r.length>0&&o.write(n);var i=(0,u.generateAppSecret)(a,o,t.from(r)),c=e.sign(i),d=(0,u.toPaddedDER)(c);return t.concat([o,d])};r.encryptPairRequest=function(e){var t=e.payload,r=e.sharedSecret;return(0,i.encryptRequest)({requestCode:"FINALIZE_PAIRING",payload:t,sharedSecret:r})};r.requestPair=function(e,t){return n(void 0,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,i.request)({payload:e,url:t})]}))}))};r.decryptPairResponse=function(e,t){return(0,i.decryptResponse)(e,o.decResLengths.empty,t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4368,{"../constants":4359,"../shared/functions":4373,"../shared/validators":4376,buffer:1797},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.decryptRemoveKvRecordsResponse=r.requestRemoveKvRecords=r.encryptRemoveKvRecordsRequest=r.encodeRemoveKvRecordsRequest=r.validateRemoveKvRequest=r.removeKvRecords=void 0;var o=e("../constants"),i=e("../shared/functions"),s=e("../shared/validators");r.removeKvRecords=function(e){var t=e.type,o=e.ids,i=e.client;return n(this,void 0,void 0,(function(){var e,n,s,c,u,d,l,f,h,p,m,g;return a(this,(function(a){switch(a.label){case 0:return e=(0,r.validateRemoveKvRequest)({url:i.url,fwConstants:i.getFwConstants(),sharedSecret:i.sharedSecret,type:t,ids:o}),n=e.url,s=e.sharedSecret,c=e.fwConstants,u=e.type,d=e.ids,l=(0,r.encodeRemoveKvRecordsRequest)({type:u,ids:d,fwConstants:c}),f=(0,r.encryptRemoveKvRecordsRequest)({payload:l,sharedSecret:s}),[4,(0,r.requestRemoveKvRecords)(f,n)];case 1:return h=a.sent(),p=(0,r.decryptRemoveKvRecordsResponse)(h,s),m=p.decryptedData,g=p.newEphemeralPub,i.ephemeralPub=g,[2,m]}}))}))};r.validateRemoveKvRequest=function(e){var t=e.url,r=e.fwConstants,n=e.sharedSecret,a=e.ids,o=e.type,i=(0,s.validateUrl)(t),c=(0,s.validateFwConstants)(r),u=(0,s.validateSharedSecret)(n);if(!c.kvActionsAllowed)throw new Error("Unsupported. Please update firmware.");if(!Array.isArray(a)||a.length<1)throw new Error("You must include one or more `ids` to removed.");if(a.length>c.kvRemoveMaxNum)throw new Error("Only up to ".concat(c.kvRemoveMaxNum," records may be removed at once."));if(0!==o&&!o)throw new Error("You must specify a type.");return{url:i,fwConstants:c,sharedSecret:u,type:o,ids:a}};r.encodeRemoveKvRecordsRequest=function(e){var r=e.type,n=e.ids,a=e.fwConstants,o=t.alloc(5+4*a.kvRemoveMaxNum);o.writeUInt32LE(r,0),o.writeUInt8(n.length,4);for(var i=0;i<n.length;i++){var s=parseInt(n[i]);o.writeUInt32LE(s,5+4*i)}return o};r.encryptRemoveKvRecordsRequest=function(e){var t=e.payload,r=e.sharedSecret;return(0,i.encryptRequest)({requestCode:"REMOVE_KV_RECORDS",payload:t,sharedSecret:r})};r.requestRemoveKvRecords=function(e,t){return n(void 0,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,i.request)({payload:e,url:t})]}))}))};r.decryptRemoveKvRecordsResponse=function(e,t){var r=(0,i.decryptResponse)(e,o.decResLengths.empty,t);return{decryptedData:r.decryptedData,newEphemeralPub:r.newEphemeralPub}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4369,{"../bitcoin":4355,"../constants":4359,"../ethereum":4360,"../genericSigning":4370,"../shared/functions":4373,"../shared/validators":4376,"../util":4377,buffer:1797,"hash.js":4500},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.decryptSignResponse=r.decodeSignResponse=r.requestSign=r.encryptSignRequest=r.encodeSignRequest=r.validateSignRequest=r.sign=void 0;var i=e("hash.js"),s=o(e("../bitcoin")),c=e("../constants"),u=o(e("../ethereum")),d=e("../genericSigning"),l=e("../shared/functions"),f=e("../shared/validators"),h=e("../util");r.sign=function(e){var t=e.data,o=e.currency,i=e.cachedData,s=e.nextCode,c=e.client;return n(this,void 0,void 0,(function(){var e,n,u,d,f,h,p,m,g,v,b,y,x,E,T,S,w,P,k;return a(this,(function(a){switch(a.label){case 0:return e=(0,r.validateSignRequest)({url:c.url,fwConstants:c.getFwConstants(),wallet:c.getActiveWallet(),sharedSecret:c.sharedSecret}),n=e.url,u=e.wallet,d=e.sharedSecret,f=e.fwConstants,h=(0,l.buildTransaction)({data:t,currency:o,fwConstants:f}),p=h.request,m=h.isGeneric,g=(0,r.encodeSignRequest)({request:p,fwConstants:f,wallet:u,cachedData:i,nextCode:s}),v=g.payload,b=g.hasExtraPayloads,y=(0,r.encryptSignRequest)({payload:v,sharedSecret:d}),[4,(0,r.requestSign)(y,n)];case 1:return x=a.sent(),b?(E=(0,r.decryptSignResponse)(x,d),T=E.decryptedData,S=E.newEphemeralPub,c.ephemeralPub=S,[2,c.sign({data:t,currency:o,cachedData:p,nextCode:T.slice(65,73)})]):(w=(0,r.decryptSignResponse)(x,d),P=w.decryptedData,k=w.newEphemeralPub,c.ephemeralPub=k,[2,(0,r.decodeSignResponse)({data:P,request:p,isGeneric:m,currency:o})])}}))}))};r.validateSignRequest=function(e){var t=e.url,r=e.fwConstants,n=e.sharedSecret,a=e.wallet;return{url:(0,f.validateUrl)(t),fwConstants:(0,f.validateFwConstants)(r),sharedSecret:(0,f.validateSharedSecret)(n),wallet:(0,f.validateWallet)(a)}};r.encodeSignRequest=function(e){var r,n,a,o,i,s=e.request,u=e.fwConstants,d=e.wallet,l=e.cachedData,h=e.nextCode;l&&h?(s=l,o=t.concat([h,s.extraDataPayloads.shift()]),i=c.signingSchema.EXTRA_DATA):(o=s.payload,i=s.schema);var p=t.alloc(2+u.reqMaxDataSz),m=0,g=s.extraDataPayloads&&Number(s.extraDataPayloads.length>0);p.writeUInt8(g,m),m+=1,p.writeUInt8(i,m),m+=1;var v=(0,f.validateWallet)(d);return null===(r=v.uid)||void 0===r||r.copy(p,m),m+=null!==(a=null===(n=v.uid)||void 0===n?void 0:n.length)&&void 0!==a?a:0,o.copy(p,m),{payload:p,hasExtraPayloads:g}};r.encryptSignRequest=function(e){var t=e.payload,r=e.sharedSecret;return(0,l.encryptRequest)({requestCode:"SIGN_TRANSACTION",payload:t,sharedSecret:r})};r.requestSign=function(e,t){return n(void 0,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,l.request)({payload:e,url:t})]}))}))};r.decodeSignResponse=function(e){var r,n=e.data,a=e.request,o=e.isGeneric,l=e.currency,f=65;if(l===c.CURRENCIES.BTC){var p=a,m=s.default.getAddressFormat(p.origData.changePath),g=n.slice(f,f+20);f+=20,r=s.default.getBitcoinAddress(g,m);for(var v=[],b=[],y=0;f<n.length&&48===n[f];){var x=f,E=f+2+n[f+1];b.push(n.slice(x,E));var T=33*y+825,S=33*(y+1)+825;v.push(n.slice(T,S)),f+=74,y+=1}var w={inputs:[],outputs:[]};w.outputs.push({value:p.origData.value,recipient:p.origData.recipient}),p.changeData.value>0&&w.outputs.push({value:p.changeData.value,recipient:r});for(var P=0;P<b.length;P++)w.inputs.push({hash:p.origData.prevOuts[P].txHash,index:p.origData.prevOuts[P].index,sig:b[P],pubkey:v[P],signerPath:p.origData.prevOuts[P].signerPath});var k=s.default.serializeTx(w),_=k,A=t.from((0,i.sha256)().update(t.from(_,"hex")).digest("hex"),"hex");return{tx:k,txHash:(0,i.sha256)().update(A).digest("hex"),changeRecipient:r,sigs:b}}if(l!==c.CURRENCIES.ETH||o){if(l===c.CURRENCIES.ETH_MSG){C=(0,h.parseDER)(n.slice(f,f+2+n[f+1]));f+=74;var I=n.slice(f,f+20),R=u.default.validateEthereumMsgResponse({signer:I,sig:C},a);return{sig:{v:R.v,r:R.r.toString("hex"),s:R.s.toString("hex")},signer:I}}return(0,d.parseGenericSigningResponse)(n,f,a)}var C=(0,h.parseDER)(n.slice(f,f+2+n[f+1]));f+=74;var N=n.slice(f,f+20),O=u.default.buildEthRawTx(a,C,N),D=O.rawTx,B=O.sigWithV;return{tx:"0x".concat(D),txHash:"0x".concat(u.default.hashTransaction(D)),sig:{v:B.v,r:B.r.toString("hex"),s:B.s.toString("hex")},signer:N}};r.decryptSignResponse=function(e,t){var r=(0,l.decryptResponse)(e,c.decResLengths.sign,t);return{decryptedData:r.decryptedData,newEphemeralPub:r.newEphemeralPub}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4370,{"./constants":4359,"./index":4371,"./util":4377,buffer:1797,"hash.js/lib/hash/sha":4504,"js-sha3":4476},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.getEncodedPayload=r.parseGenericSigningResponse=r.buildGenericSigningMsgRequest=void 0;var n=e("hash.js/lib/hash/sha"),a=e("js-sha3"),o=e("./constants"),i=e("./index"),s=e("./util");r.buildGenericSigningMsgRequest=function(e){var i=e.signerPath,c=e.curveType,u=e.hashType,d=e.encodingType,l=void 0===d?null:d,f=e.decoder,h=void 0===f?null:f,p=e.omitPubkey,m=void 0!==p&&p,g=e.fwConstants,v=g.extraDataFrameSz,b=g.extraDataMaxFrames,y=g.prehashAllowed,x=g.genericSigning,E=g.varAddrPathSzAllowed,T=x.curveTypes,S=x.encodingTypes,w=x.hashTypes,P=x.baseDataSz,k=x.baseReqSz,_=x.calldataDecoding,A=(0,r.getEncodedPayload)(e.payload,l,S),I=A.encoding,R=A.payloadBuf,C=R,N=R.length,O=P+b*v;if(!N)throw new Error("Payload could not be handled.");if(!(x&&v&&b&&y))throw new Error("Unsupported. Please update your Lattice firmware.");if(!(0,s.existsIn)(c,T))throw new Error("Unsupported curve type.");if(!(0,s.existsIn)(u,w))throw new Error("Unsupported hash type.");var D=h&&_&&h.length<=_.maxSz,B=D&&R.length+h.length<=O;if(D&&B){var L=t.alloc(8+h.length);L.writeUInt32LE(_.reserved,0),L.writeUInt32LE(h.length,4),t.from(h).copy(L,8),R=t.concat([R,L])}if(c===T.ED25519){if(u!==w.NONE)throw new Error("Signing on ed25519 requires unhashed message");i.forEach((function(e){if(e<o.HARDENED_OFFSET)throw new Error("Signing on ed25519 requires all signer path indices be hardened.")}))}var M=t.alloc(k),G=0;M.writeUInt32LE(I,G),G+=4,M.writeUInt8(u,G),G+=1,M.writeUInt8(c,G),G+=1;var H=(0,s.buildSignerPathBuf)(i,E);H.copy(M,G),G+=H.length,M.writeUInt8(m?1:0,G),G+=1;var F=[],U=null,j=!1;if(R.length>P)if(y&&R.length>O){M.writeUInt16LE(R.length,G),G+=2,j=!0;var q=R.slice(0,N);if(u===w.NONE)throw new Error("Message too large to send and could not be prehashed (hashType=NONE).");if(u===w.KECCAK256)U=t.from((0,a.keccak256)(q),"hex");else{if(u!==w.SHA256)throw new Error("Unsupported hash type.");U=t.from((0,n.sha256)().update(q).digest("hex"),"hex")}}else{(0,s.splitFrames)(R.slice(P),v).forEach((function(e){var r=t.alloc(4);r.writeUInt32LE(e.length,0),F.push(t.concat([r,e]))}))}return j||(M.writeUInt16LE(N,G),G+=2),(U||R).copy(M,G),{payload:M,extraDataPayloads:F,schema:o.signingSchema.GENERAL_SIGNING,curveType:c,encodingType:l,hashType:u,omitPubkey:m,origPayloadBuf:C}};r.parseGenericSigningResponse=function(e,r,n){var a={pubkey:null,sig:null};if(n.curveType===i.Constants.SIGNING.CURVES.SECP256K1){if(n.omitPubkey)r+=65;else{var o=e.readUInt8(r);if(r+=1,2===o||3===o)a.pubkey=t.alloc(33),a.pubkey.writeUInt8(o,0),e.slice(r,r+32).copy(a.pubkey,1);else{if(4!==o)throw new Error("Bad compression byte in signing response.");a.pubkey=t.alloc(65),a.pubkey.writeUInt8(o,0),e.slice(r).copy(a.pubkey,1)}r+=64}if(a.sig=(0,s.parseDER)(e.slice(r,r+2+e[r+1])),a.sig.r=(0,s.fixLen)(a.sig.r,32),a.sig.s=(0,s.fixLen)(a.sig.s,32),n.encodingType===i.Constants.SIGNING.ENCODINGS.EVM){var c=(0,s.getV)(n.origPayloadBuf,a);a.sig.v=c.toArrayLike(t)}}else{if(n.curveType!==i.Constants.SIGNING.CURVES.ED25519)throw new Error("Unsupported curve.");n.omitPubkey||(a.pubkey=t.alloc(32),e.slice(r,r+32).copy(a.pubkey)),r+=32,a.sig={r:e.slice(r,r+32),s:e.slice(r+32,r+64)}}return a};r.getEncodedPayload=function(e,r,n){if(r||(r=i.Constants.SIGNING.ENCODINGS.NONE),!(0,s.existsIn)(r,n))throw new Error("Encoding not supported by Lattice firmware. You may want to update.");return{payloadBuf:"string"==typeof e&&"0x"===e.slice(0,2)?t.from(e.slice(2),"hex"):t.from(e),encoding:r}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4371,{"./calldata/index":4357,"./client":4358,"./constants":4359,"./util":4377},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=r.Constants=r.Client=r.Calldata=void 0;var n=e("./calldata/index");Object.defineProperty(r,"Calldata",{enumerable:!0,get:function(){return n.CALLDATA}});var a=e("./client");Object.defineProperty(r,"Client",{enumerable:!0,get:function(){return a.Client}});var o=e("./constants");Object.defineProperty(r,"Constants",{enumerable:!0,get:function(){return o.EXTERNAL}});var i=e("./util");Object.defineProperty(r,"Utils",{enumerable:!0,get:function(){return i.EXTERNAL}})}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4372,{"../constants":4359},function(){with(this)return function(){"use strict";return function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.LatticeResponseError=void 0;var o=e("../constants"),i=function(e){function t(t,r){var n=this,a=function(e){var t=e.responseCode,r=e.errorMessage,n=[];return t&&n.push("".concat(o.responseMsgs[t])),r&&(n.push("Error Message: "),n.push(r)),n.join("\n")}({responseCode:t,errorMessage:r});return(n=e.call(this,a)||this).responseCode=t,n.errorMessage=r,n.name="LatticeResponseError",n.responseCode=t,n.errorMessage=r,n}return a(t,e),t}(Error);r.LatticeResponseError=i}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4373,{"../bitcoin":4355,"../constants":4359,"../ethereum":4360,"../genericSigning":4370,"../util":4377,"./errors":4372,"./predicates":4374,"./validators":4376,buffer:1797,"hash.js/lib/hash/sha":4504},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getEphemeralId=r.decryptResponse=r.retryWrapper=r.buildRetryWrapper=r.request=r.buildTransaction=r.encryptRequest=r.buildRequest=void 0;var s=e("hash.js/lib/hash/sha"),c=i(e("../bitcoin")),u=e("../constants"),d=i(e("../ethereum")),l=e("../genericSigning"),f=e("../util"),h=e("./errors"),p=e("./predicates"),m=e("./validators");r.buildRequest=function(e,r){var n=r&&t.isBuffer(r)?r.length+1:1;e===u.deviceCodes.ENCRYPTED_REQUEST&&(n=1+r.length);var a=0,o=t.alloc(n+8);a=o.writeUInt8(u.VERSION_BYTE,a),a=o.writeUInt8(u.REQUEST_TYPE_BYTE,a);var i=(0,f.randomBytes)(4);a=o.writeUInt32BE(parseInt("0x".concat(i.toString("hex"))),a),a=o.writeUInt16BE(n,a),a=o.writeUInt8(e,a),n>1&&(a=r.copy(o,a));var s=(0,f.checksum)(o),c=t.alloc(o.length+4);return a=o.copy(c),c.writeUInt32BE(s,a),c};r.encryptRequest=function(e){var n=e.payload,a=e.requestCode,o=e.sharedSecret,i=(0,r.getEphemeralId)(o),s=u.encReqCodes[a],c=t.concat([t.from([s]),n]),d=(0,f.checksum)(c),l=t.alloc(c.length+4);c.copy(l,0),l.writeUInt32LE(d,c.length);var h=(0,f.aes256_encrypt)(l,o),p=t.alloc(u.ENC_MSG_LEN+4);return p.writeUInt32LE(i,0),h.copy(p,4),(0,r.buildRequest)(u.deviceCodes.ENCRYPTED_REQUEST,p)};r.buildTransaction=function(e){var t=e.data,r=e.currency,a=e.fwConstants;if("ETH"===r&&(0,p.shouldUseEVMLegacyConverter)(a)){console.log("Using the legacy ETH signing path. This will soon be deprecated. "+"Please switch to general signing request.");var o=void 0;try{o=d.default.ethConvertLegacyToGenericReq(t)}catch(e){throw new Error("Could not convert legacy request. Please switch to a general signing "+"request. See gridplus-sdk docs for more information.")}return t={fwConstants:a,encodingType:u.EXTERNAL.SIGNING.ENCODINGS.EVM,curveType:u.EXTERNAL.SIGNING.CURVES.SECP256K1,hashType:u.EXTERNAL.SIGNING.HASHES.KECCAK256,signerPath:t.signerPath,payload:o},{request:(0,l.buildGenericSigningMsgRequest)(n(n({},t),{fwConstants:a})),isGeneric:!0}}return"ETH"===r?{request:d.default.buildEthereumTxRequest(n(n({},t),{fwConstants:a})),isGeneric:!1}:"ETH_MSG"===r?{request:d.default.buildEthereumMsgRequest(n(n({},t),{fwConstants:a})),isGeneric:!1}:"BTC"===r?{request:c.default.buildBitcoinTxRequest(n(n({},t),{fwConstants:a})),isGeneric:!1}:{request:(0,l.buildGenericSigningMsgRequest)(n(n({},t),{fwConstants:a})),isGeneric:!0}};r.request=function(e){var t=e.url,r=e.payload,n=e.timeout,i=void 0===n?6e4:n;return a(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,(0,f.fetchWithTimeout)(t,{method:"POST",body:JSON.stringify({data:r}),headers:{"Content-Type":"application/json"},timeout:i}).catch(m.validateRequestError).then((function(e){return e.json()})).then((function(e){if(!e||!e.message)throw new Error("Invalid response");if(200!==e.status)throw new Error("Error code ".concat(e.status,": ").concat(e.message));var t=(0,f.parseLattice1Response)(e.message),r=t.data,n=t.errorMessage,a=t.responseCode;if(n||a)throw new h.LatticeResponseError(a,n);return r}))]}))}))};r.buildRetryWrapper=function(e,t){return function(a,o){return(0,r.retryWrapper)({fn:a,params:n(n({},o),{client:e}),retries:t,client:e})}};r.retryWrapper=function(e){var t=e.fn,i=e.params,s=e.retries,c=e.client;return a(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,t(n({},i)).catch((function(e){return a(void 0,void 0,void 0,(function(){var n,a;return o(this,(function(o){switch(o.label){case 0:return n=e.errorMessage,a=e.responseCode,(n||a)&&s?(0,p.isDeviceBusy)(a)?[4,(u=3e3,new Promise((function(e){return setTimeout(e,u)})))]:[3,2]:[3,8];case 1:case 3:case 5:return o.sent(),[3,7];case 2:return!(0,p.isWrongWallet)(a)||c.skipRetryOnWrongWallet?[3,4]:[4,c.fetchActiveWallet()];case 4:return(0,p.isInvalidEphemeralId)(a)?[4,c.connect(c.deviceId)]:[3,6];case 6:case 8:throw e;case 7:return[2,(0,r.retryWrapper)({fn:t,params:i,retries:s-1,client:c})]}var u}))}))}))]}))}))};r.decryptResponse=function(e,t,r){if(!e||e.length<t)return{decryptedData:null,newEphemeralPub:null};var n=e.slice(0,u.ENC_MSG_LEN),a=(0,f.aes256_decrypt)(n,r);(0,m.validateResponse)(a),t+=65,(0,m.validateChecksum)(a,t);var o=a.slice(0,65).toString("hex");return{decryptedData:a,newEphemeralPub:(0,f.getP256KeyPairFromPub)(o)}};r.getEphemeralId=function(e){var r=t.from((0,s.sha256)().update(e).digest("hex"),"hex");return parseInt(r.slice(0,4).toString("hex"),16)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4374,{"../constants":4359,"./utilities":4375},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseEVMLegacyConverter=r.doesFetchWalletsOnLoad=r.isInvalidEphemeralId=r.isWrongWallet=r.isDeviceBusy=void 0;var n=e("../constants"),a=e("./utilities");r.isDeviceBusy=function(e){return e===n.responseCodes.RESP_ERR_DEV_BUSY||e===n.responseCodes.RESP_ERR_GCE_TIMEOUT};r.isWrongWallet=function(e){return e===n.responseCodes.RESP_ERR_WRONG_WALLET};r.isInvalidEphemeralId=function(e){return e===n.responseCodes.RESP_ERR_INVALID_EPHEM_ID};r.doesFetchWalletsOnLoad=function(e){return(0,a.isFWSupported)(e,{major:0,minor:14,fix:1})};r.shouldUseEVMLegacyConverter=function(e){return e.genericSigning&&e.genericSigning.encodingTypes&&e.genericSigning.encodingTypes.EVM}}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4375,{buffer:1797},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.isFWSupported=r.parseWallets=r.getSharedSecret=r.getPubKeyBytes=void 0;r.getPubKeyBytes=function(t,r){void 0===r&&(r=!1);var n=t.getPublic().encode("hex"),a=e.from(n,"hex");if(!0===r){var o=a.slice(1,33).reverse(),i=a.slice(33,65).reverse();return e.concat([a[0],o,i])}return a};r.getSharedSecret=function(t,r){return e.from(t.derive(r.getPublic()).toArray("be",32))};r.parseWallets=function(e){var t=0,r={internal:{uid:undefined,capabilities:undefined,name:undefined,external:!1},external:{uid:undefined,capabilities:undefined,name:undefined,external:!0}};return r.internal.uid=e.slice(t,t+32),r.internal.capabilities=e.readUInt32BE(t+32),r.internal.name=e.slice(t+36,t+71),t+=71,r.external.uid=e.slice(t,t+32),r.external.capabilities=e.readUInt32BE(t+32),r.external.name=e.slice(t+36,t+71),r};r.isFWSupported=function(e,t){var r=e.major,n=e.minor,a=e.fix,o=t.major,i=t.minor,s=t.fix;return r>o||r>=o&&n>i||r>=o&&n>=i&&a>=s}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4376,{"../constants":4359,"../util":4377,"lodash/isEmpty":4751},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isValid4ByteResponse=r.isValidBlockExplorerResponse=r.validateRequestLength=r.validateKvRecord=r.validateKvRecords=r.validateActiveWallets=r.validateKey=r.validateSharedSecret=r.validateEphemeralPub=r.validateWallet=r.validateRequestError=r.validateChecksum=r.validateFwVersion=r.validateFwConstants=r.validateBaseUrl=r.validateUrl=r.validateResponse=r.validateAppName=r.validateEncryptRequestCode=r.validateDeviceId=r.validateStartPath=r.validateNAddresses=r.validateIsUInt4=r.validateValueExists=void 0;var a=e("../constants"),o=e("../util"),i=n(e("lodash/isEmpty"));r.validateValueExists=function(e){var t=Object.entries(e),r=t[0];if(!t[1][1])throw new Error("".concat(r," must be provided"))};r.validateIsUInt4=function(e){if("number"!=typeof e||!(0,o.isUInt4)(e))throw new Error("Must be an integer between 0 and 15 inclusive");return e};r.validateNAddresses=function(e){if(e>a.MAX_ADDR)throw new Error("You may only request ".concat(a.MAX_ADDR," addresses at once."))};r.validateStartPath=function(e){if(!e)throw new Error("Start path is required");if(e.length<2||e.length>5)throw new Error("Path must include between 2 and 5 indices")};r.validateDeviceId=function(e){if(!e)throw new Error("No device ID has been stored. Please connect with your device ID first.");return e};r.validateEncryptRequestCode=function(e){if(e&&a.encReqCodes[e]===undefined)throw new Error("Unknown encrypted request code.")};r.validateAppName=function(e){if(!e)throw new Error("Name is required.");if(e.length<5||e.length>24)throw new Error("Invalid length for name provided. Must be 5-24 characters.");return e};r.validateResponse=function(e){if(!e)throw new Error("Error decrypting response")};r.validateUrl=function(e){if(!e)throw new Error("Url does not exist. Please reconnect.");return e};r.validateBaseUrl=function(e){if(!e)throw new Error("Base URL is required.");return e};r.validateFwConstants=function(e){if(!e)throw new Error("Firmware constants do not exist. Please reconnect.");return e};r.validateFwVersion=function(e){if(!e||e.byteLength>4)throw new Error("Firmware version does not exist. Please reconnect.");return e};r.validateChecksum=function(e,t){var r=e.slice(0,t),n=parseInt("0x".concat(e.slice(t,t+4).toString("hex"))),a=(0,o.checksum)(r);if(n!==a)throw new Error("Checksum mismatch in response from Lattice (calculated ".concat(a,", wanted ").concat(n,")"))};r.validateRequestError=function(e){if("ECONNABORTED"===e.code&&"ETIME"===e.errno)throw new Error("Timeout waiting for device. Please ensure it is connected to the internet and try again in a minute.");throw new Error("Failed to make request to device:\n".concat(e.message))};r.validateWallet=function(e){if(!e||null===e)throw new Error("No active wallet.");return e};r.validateEphemeralPub=function(e){if(!e)throw new Error("`ephemeralPub` (ephemeral public key) is required. Please reconnect.");return e};r.validateSharedSecret=function(e){if(!e)throw new Error("Shared secret required. Please reconnect.");return e};r.validateKey=function(e){if(!e)throw new Error("Key is required. Please reconnect.");return e};r.validateActiveWallets=function(e){var t,r,n,o;if(!e||(null===(r=null===(t=null==e?void 0:e.internal)||void 0===t?void 0:t.uid)||void 0===r?void 0:r.equals(a.EMPTY_WALLET_UID))&&(null===(o=null===(n=null==e?void 0:e.external)||void 0===n?void 0:n.uid)||void 0===o?void 0:o.equals(a.EMPTY_WALLET_UID)))throw new Error("No active wallet.");return e};r.validateKvRecords=function(e,t){if(!t||!t.kvActionsAllowed)throw new Error("Unsupported. Please update firmware.");if("object"!=typeof e||Object.keys(e).length<1)throw new Error("One or more key-value mapping must be provided in `records` param.");if(Object.keys(e).length>t.kvActionMaxNum)throw new Error("Too many keys provided. Please only provide up to ".concat(t.kvActionMaxNum,"."));return e};r.validateKvRecord=function(e,t){var r=e.key,n=e.val;if("string"!=typeof r||String(r).length>t.kvKeyMaxStrSz)throw new Error("Key ".concat(r," too large. Must be <=").concat(t.kvKeyMaxStrSz," characters."));if("string"!=typeof n||String(n).length>t.kvValMaxStrSz)throw new Error("Value ".concat(n," too large. Must be <=").concat(t.kvValMaxStrSz," characters."));if(0===String(r).length||0===String(n).length)throw new Error("Keys and values must be >0 characters.");if(!a.ASCII_REGEX.test(r)||!a.ASCII_REGEX.test(n))throw new Error("Unicode characters are not supported.");return{key:r,val:n}};r.validateRequestLength=function(e,t){if(e.payload.length>t.reqMaxDataSz)throw new Error("Transaction is too large")};r.isValidBlockExplorerResponse=function(e){try{var t=JSON.parse(e.result);return!(0,i.default)(t)}catch(e){return!1}};r.isValid4ByteResponse=function(e){try{return!(0,i.default)(e.results)}catch(e){return!1}}}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4377,{".":4371,"./constants":4359,"./shared/validators":4376,"@ethereumjs/tx":4414,_process:4870,"aes-js":1492,"bignumber.js":4475,"bn.js":1753,buffer:1797,"crc-32":1874,elliptic:1996,"hash.js/lib/hash/sha":4504,"js-sha3":4476,"lodash/inRange":4744,"lodash/isInteger":4754,rlp:4477,secp256k1:5091},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t,n){(function(){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,a,(t=e[r](t)).done,t.value)}))}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.EXTERNAL=r.fetchCalldataDecoder=r.fetchWithTimeout=r.selectDefFrom4byteABI=r.getV=r.generateAppSecret=r.isUInt4=r.randomBytes=r.existsIn=r.isAsciiStr=r.buildSignerPathBuf=r.getP256KeyPairFromPub=r.getP256KeyPair=r.parseDER=r.aes256_decrypt=r.aes256_encrypt=r.fixLen=r.ensureHexBuffer=r.splitFrames=r.isValidAssetPath=r.toPaddedDER=r.checksum=r.parseLattice1Response=void 0;var u,d=e("@ethereumjs/tx"),l=c(e("aes-js")),f=c(e("bignumber.js")),h=e("bn.js"),p=c(e("crc-32")),m=c(e("elliptic")),g=e("hash.js/lib/hash/sha"),v=e("js-sha3"),b=c(e("lodash/inRange")),y=c(e("lodash/isInteger")),x=e("rlp"),E=e("secp256k1"),T=e("."),S=e("./constants"),w=e("./shared/validators"),P=S.BIP_CONSTANTS.COINS,k=S.BIP_CONSTANTS.PURPOSES,_=m.default.ec;r.parseLattice1Response=function(e){var t={errorMessage:null,data:null},a=n.from(e,"hex"),o=0,i=a.readUInt8(o);if(o++,i!==S.VERSION_BYTE)return t.errorMessage="Incorrect protocol version. Please update your SDK",t;var s=a.readUInt8(o);if(o++,0!==s)return t.errorMessage="Incorrect response from Lattice1",t;a.readUInt32BE(o),o+=4;var c=a.readUInt16BE(o);o+=2;var u=a.slice(o,o+c);o+=c;var d=u.readUInt8(0);return d!==S.responseCodes.RESP_SUCCESS?(t.errorMessage="".concat(S.responseMsgs[d]?S.responseMsgs[d]:"Unknown Error"," (Lattice)"),t.responseCode=d,t):(t.data=u.slice(1,u.length),a.readUInt32BE(o)!==(0,r.checksum)(a.slice(0,a.length-4))?(t.errorMessage="Invalid checksum from device response",t.data=null,t):t)};r.checksum=function(e){return p.default.buf(e)>>>0};r.toPaddedDER=function(e){var t=n.alloc(74);return n.from(e.toDER()).copy(t),t};r.isValidAssetPath=function(e,t){var r=[k.ETH,k.BTC_LEGACY,k.BTC_WRAPPED_SEGWIT,k.BTC_SEGWIT],n=[P.ETH,P.BTC,P.BTC_TESTNET];return!((e[1]===P.BTC||e[1]===P.BTC_TESTNET)&&e[0]!==k.BTC_WRAPPED_SEGWIT&&!t.allowBtcLegacyAndSegwitAddrs)&&(r.indexOf(e[0])>=0&&(n.indexOf(e[1])>=0||[60,61,966,700,9006,9e3,1007,553,178,137,37310,108,40,889,1987,820,6060,1620,1313114,76,246529,246785,1001,227,916,464,2221,344,73799,246].indexOf(e[1]-S.HARDENED_OFFSET)>0))};r.splitFrames=function(e,t){for(var r=[],n=Math.ceil(e.length/t),a=0,o=0;o<n;o++)r.push(e.slice(a,a+t)),a+=t;return r};r.ensureHexBuffer=function(e,t){void 0===t&&(t=!0);try{if(null===e||0===e&&!0===t)return n.alloc(0);var r="number"==typeof e||function(e){var t=new f.default(e).toFixed().split(".").join(""),r=new String(e);return t.slice(0,8)===r.slice(0,8)}(e);return(e=r?"".concat(new f.default(e).toString(16)):"string"==typeof e&&"0x"===e.slice(0,2)?e.slice(2):e.toString("hex")).length%2>0&&(e="0".concat(e)),"00"!==e||r?n.from(e,"hex"):n.alloc(0)}catch(t){throw new Error("Cannot convert ".concat(e.toString()," to hex buffer (").concat(t.toString(),")"))}};r.fixLen=function(e,t){var r=n.alloc(t);return e.length<t?(e.copy(r,t-e.length),r):e.slice(-t)};r.aes256_encrypt=function(e,t){var r=n.from(S.AES_IV),a=new l.default.ModeOfOperation.cbc(t,r),o=e.length%16==0?e:l.default.padding.pkcs7.pad(e);return n.from(a.encrypt(o))};r.aes256_decrypt=function(e,t){var r=n.from(S.AES_IV),a=new l.default.ModeOfOperation.cbc(t,r);return n.from(a.decrypt(e))};r.parseDER=function(e){if(48!==e[0]||2!==e[2])throw new Error("Failed to decode DER signature");var t=3,r=e[t];t++;var n=e.slice(t,t+r);if(2!==e[t+=r])throw new Error("Failed to decode DER signature");var a=e[++t];return t++,{r:n,s:e.slice(t,t+a)}};r.getP256KeyPair=function(e){return u===undefined&&(u=new _("p256")),u.keyFromPrivate(e,"hex")};r.getP256KeyPairFromPub=function(e){return u===undefined&&(u=new _("p256")),u.keyFromPublic(e,"hex")};r.buildSignerPathBuf=function(e,t){var r=n.alloc(24),a=0;if(t&&e.length>5)throw new Error("Signer path must be <=5 indices.");if(!t&&5!==e.length)throw new Error("Your Lattice firmware only supports 5-index derivation paths. Please upgrade.");r.writeUInt32LE(e.length,a),a+=4;for(var o=0;o<5;o++)o<e.length?r.writeUInt32LE(e[o],a):r.writeUInt32LE(0,a),a+=4;return r};r.isAsciiStr=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)return!1;for(var r=t?[32,10]:[],n=0;n<e.length;n++){var a=e.charCodeAt(n);if(r.indexOf(a)<0&&(a<32||a>127))return!1}return!0};r.existsIn=function(e,t){return Object.keys(t).some((function(r){return t[r]===e}))};r.randomBytes=function(e){for(var t=n.alloc(e),r=0;r<e;r++)t[r]=Math.round(255*Math.random());return t};r.isUInt4=function(e){return(0,y.default)(e)&&(0,b.default)(e,0,16)};r.generateAppSecret=function(e,t,r){var a="string"==typeof e?n.from(e):e,o="string"==typeof t?n.from(t):t,i="string"==typeof r?n.from(r):r,s=n.concat([a,o,i]);return n.from((0,g.sha256)().update(s).digest("hex"),"hex")};function A(e){return o(this,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(S.EXTERNAL_NETWORKS_BY_CHAIN_ID_URL).then((function(e){return e.json()}))];case 1:return(t=n.sent())?[2,t[e]]:[2,undefined];case 2:return r=n.sent(),console.warn("Fetching external networks failed.\n",r),[3,3];case 3:return[2]}}))}))}function I(e,t){var r;if(e.length>1&&console.warn("WARNING: There are multiple results. Using the first one."),e.sort((function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()})).find((function(e){try{return!!(r=T.Calldata.EVM.parsers.parseCanonicalName(t,e.text_signature))}catch(e){return!1}})),r)return r;throw new Error("Could not find definition for selector")}function R(e,t){return o(this,void 0,void 0,(function(){var r,n,a,o,s,c,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,11,,12]),globalThis.caches&&globalThis.Request?[4,caches.open("gp-calldata")]:[3,9];case 1:return r=i.sent(),n=new Request(e,t),[4,r.match(n)];case 2:return(a=i.sent())?[2,a]:[3,3];case 3:return[4,fetch(n,t)];case 4:return o=i.sent(),s=o.clone(),[4,o.json()];case 5:return c=i.sent(),o.ok&&((0,w.isValidBlockExplorerResponse)(c)||(0,w.isValid4ByteResponse)(c))?[4,r.put(n,s)]:[3,7];case 6:return i.sent(),[2,r.match(n,t)];case 7:return[2,o];case 8:return[3,10];case 9:return[2,fetch(e,t)];case 10:return[3,12];case 11:throw u=i.sent(),console.error(u),u;case 12:return[2]}}))}))}function C(e,r){return o(this,void 0,void 0,(function(){var n;return i(this,(function(a){return n=function(e){var r=e.supportedChain,n=e.address,a=r.baseUrl,o=r.apiRoute;return"".concat(a,"/").concat(o,"&address=").concat(n)+(t.env.ETHERSCAN_KEY?"&apiKey=".concat(t.env.ETHERSCAN_KEY):"")}({address:e,supportedChain:r}),[2,R(n).then((function(e){return e.json()})).then((function(e){if(e&&e.result)return JSON.parse(e.result);throw new Error("Server response was malformed")})).catch((function(){throw new Error("Fetching data from external network failed")}))]}))}))}function N(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return t="https://www.4byte.directory/api/v1/signatures/?hex_signature=0x".concat(e),[4,fetch(t).then((function(e){return e.json()})).then((function(e){if(e&&e.results)return e.results;throw new Error("No results found")})).catch((function(e){throw new Error("Fetching data from 4byte failed: ".concat(e.message))}))];case 1:return[2,r.sent()]}}))}))}function O(e){return n.from((0,x.encode)(e))}function D(e,t,r,a){return void 0===a&&(a=!1),o(this,void 0,void 0,(function(){var o,s,c,u,d,l,f,h,p,m,g,v,b,y;return i(this,(function(i){switch(i.label){case 0:if(i.trys.push([0,15,,16]),!e||e.length<2)throw new Error("Data is either undefined or less than two bytes");if(o="string"==typeof e&&"0x"===e.slice(0,2),(s=o?n.from(e.slice(2),"hex"):n.from(e,"hex")).length<4)throw new Error("Data must contain at least 4 bytes of data to define the selector");return c=n.from(s.slice(0,4)).toString("hex"),u=Number(r),(d=S.NETWORKS_BY_CHAIN_ID[u])?(f=d,[3,3]):[3,1];case 1:return[4,A(u)];case 2:f=i.sent(),i.label=3;case 3:l=f,i.label=4;case 4:return i.trys.push([4,10,,11]),l?[4,C(t,l)]:[3,8];case 5:return h=i.sent(),p=T.Calldata.EVM.parsers.parseSolidityJSONABI(c,h),m=p.def,a?[4,B(m,s)]:[3,7];case 6:m=i.sent(),i.label=7;case 7:return[2,{abi:h,def:O(m)}];case 8:throw new Error("Chain (id: ".concat(u,") is not supported"));case 9:return[3,11];case 10:return g=i.sent(),console.warn(g.message,"\n","Falling back to 4byte"),[3,11];case 11:return[4,N(c)];case 12:return v=i.sent(),b=I(v,c),a?[4,B(b,s)]:[3,14];case 13:b=i.sent(),i.label=14;case 14:return[2,{abi:v,def:O(b)}];case 15:return y=i.sent(),console.warn("Fetching calldata failed: ".concat(y.message)),[3,16];case 16:return[2,{def:null,abi:null}]}}))}))}function B(e,t){var r,a,c,u;return o(this,void 0,void 0,(function(){var o,d,l,f,h,p,m,g,v,b,y,x,E,S;return i(this,(function(i){switch(i.label){case 0:return[4,L(o=T.Calldata.EVM.processors.getNestedCalldata(e,t))];case 1:d=i.sent(),i.label=2;case 2:i.trys.push([2,22,23,28]),l=s(d.entries()),i.label=3;case 3:return[4,l.next()];case 4:if((f=i.sent()).done)return[3,21];if(h=f.value[0],!Array.isArray(d[h])||"string"==typeof d[h][0])return[3,18];i.label=5;case 5:i.trys.push([5,11,12,17]),c=void 0,p=s(d[h].entries()),i.label=6;case 6:return[4,p.next()];case 7:return(m=i.sent()).done?[3,10]:(g=m.value[0],null===d[h][g]?[3,9]:(v=d[h],b=g,[4,B(d[h][g],n.from(o[h][g].slice(2),"hex"))]));case 8:v[b]=i.sent(),i.label=9;case 9:return[3,6];case 10:return[3,17];case 11:return y=i.sent(),c={error:y},[3,17];case 12:return i.trys.push([12,,15,16]),m&&!m.done&&(u=p.return)?[4,u.call(p)]:[3,14];case 13:i.sent(),i.label=14;case 14:return[3,16];case 15:if(c)throw c.error;return[7];case 16:return[7];case 17:return[3,20];case 18:return null===d[h]?[3,20]:(x=d,E=h,[4,B(d[h],n.from(o[h].slice(2),"hex"))]);case 19:x[E]=i.sent(),i.label=20;case 20:return[3,3];case 21:return[3,28];case 22:return S=i.sent(),r={error:S},[3,28];case 23:return i.trys.push([23,,26,27]),f&&!f.done&&(a=l.return)?[4,a.call(l)]:[3,25];case 24:i.sent(),i.label=25;case 25:return[3,27];case 26:if(r)throw r.error;return[7];case 27:return[7];case 28:return[2,T.Calldata.EVM.processors.replaceNestedDefs(e,d)]}}))}))}function L(e){var t,r,n,a,c,u;return o(this,void 0,void 0,(function(){var o,d,l,f,h,p,m,g,v,b,y,x,E,T,S;return i(this,(function(i){switch(i.label){case 0:o=[],i.label=1;case 1:i.trys.push([1,26,27,32]),t=s(e),i.label=2;case 2:return[4,t.next()];case 3:if((r=i.sent()).done)return[3,25];if(null===(d=r.value))return[3,23];if(!Array.isArray(d))return[3,19];l=[],f=!0,i.label=4;case 4:i.trys.push([4,12,13,18]),c=void 0,h=s(d),i.label=5;case 5:return[4,h.next()];case 6:if((p=i.sent()).done)return[3,11];m=p.value,i.label=7;case 7:return i.trys.push([7,9,,10]),[4,N(g=m.slice(2,10))];case 8:return v=i.sent(),b=I(v,g),l.push(b),[3,10];case 9:return i.sent(),f=!1,l.push(null),[3,10];case 10:return[3,5];case 11:return[3,18];case 12:return y=i.sent(),c={error:y},[3,18];case 13:return i.trys.push([13,,16,17]),p&&!p.done&&(u=h.return)?[4,u.call(h)]:[3,15];case 14:i.sent(),i.label=15;case 15:return[3,17];case 16:if(c)throw c.error;return[7];case 17:return[7];case 18:return f?o.push(l):o.push(null),[3,22];case 19:return i.trys.push([19,21,,22]),[4,N(x=d.slice(2,10))];case 20:return E=i.sent(),T=I(E,x),o.push(T),[3,22];case 21:return i.sent(),o.push(null),[3,22];case 22:return[3,24];case 23:o.push(null),i.label=24;case 24:return[3,2];case 25:return[3,32];case 26:return S=i.sent(),n={error:S},[3,32];case 27:return i.trys.push([27,,30,31]),r&&!r.done&&(a=t.return)?[4,a.call(t)]:[3,29];case 28:i.sent(),i.label=29;case 29:return[3,31];case 30:if(n)throw n.error;return[7];case 31:return[7];case 32:return[2,o]}}))}))}r.getV=function(e,t){var r,a,o;if(n.isBuffer(e)){a=n.from((0,v.keccak256)(e),"hex");try{var i=(0,x.decode)(e);r=6===i.length?null:new h.BN(i[6]),o=0}catch(t){try{o=d.TransactionFactory.fromSerializedData(e)._type}catch(e){throw new Error("Could not recover V. Bad transaction data.")}}}else a=(o=e._type)?e.getMessageToSign(!0):(0,x.encode)(e.getMessageToSign(!1)),e.supports(d.Capability.EIP155ReplayProtection)&&(r=e.common.chainIdBN().toNumber());var s,c=new Uint8Array(n.concat([t.sig.r,t.sig.s])),u=new Uint8Array(t.pubkey),l=(0,E.ecdsaRecover)(c,0,a,!1),f=(0,E.ecdsaRecover)(c,1,a,!1),p=n.from(u).toString("hex"),m=n.from(l).toString("hex"),g=n.from(f).toString("hex");if(p===m)s=0;else{if(p!==g)throw new Error("Failed to recover V parameter. Bad signature or transaction data.");s=1}return o?new h.BN(s):r?r.muln(2).addn(35).addn(s):new h.BN(s).addn(27)},r.selectDefFrom4byteABI=I,r.fetchWithTimeout=function(e,t){return o(this,void 0,void 0,(function(){var r,n,o,s,c;return i(this,(function(i){switch(i.label){case 0:return r=t.timeout,n=void 0===r?8e3:r,o=new AbortController,s=setTimeout((function(){return o.abort()}),n),[4,fetch(e,a(a({},t),{signal:o.signal}))];case 1:return c=i.sent(),clearTimeout(s),[2,c]}}))}))},r.fetchCalldataDecoder=D,r.EXTERNAL={getV:r.getV,generateAppSecret:r.generateAppSecret,fetchCalldataDecoder:D}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk"}],[4378,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"calaveras",chainId:123,networkId:123,defaultHardfork:"berlin",consensus:{type:"poa",algorithm:"clique",clique:{period:30,epoch:3e4}},comment:"The Calaveras testnet chain",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/client-integration-testnets/calaveras.md",genesis:{hash:"0xeb9233d066c275efcdfed8037f4fc082770176aefdbcb7691c71da412a5670f2",gasLimit:"0x47b760",difficulty:"0x1",nonce:"0x0000000000000000",extraData:"0x00000000000000000000000000000000000000000000000000000000000000005211cea3870c7ba7c6c44b185e62eecdb864cd8c560228ce57d31efbf64c200b2c200aacec78cf17a7148e784fe95a7a750335f8b9572ee28d72e7650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",stateRoot:"0x664c93de37eb4a72953ea42b8c046cdb64c9f0b0bca5505ade8d970d49ebdb8c",timestamp:"0x60b3877f"},hardforks:[{name:"chainstart",block:0,forkHash:"0xe34c4aff"},{name:"homestead",block:0,forkHash:"0xe34c4aff"},{name:"dao",block:null,forkHash:"0xe34c4aff"},{name:"tangerineWhistle",block:0,forkHash:"0xe34c4aff"},{name:"spuriousDragon",block:0,forkHash:"0xe34c4aff"},{name:"byzantium",block:0,forkHash:"0xe34c4aff"},{name:"constantinople",block:0,forkHash:"0xe34c4aff"},{name:"petersburg",block:0,forkHash:"0xe34c4aff"},{name:"istanbul",block:0,forkHash:"0xe34c4aff"},{name:"berlin",block:0,forkHash:"0xe34c4aff"},{name:"london",block:500,forkHash:"0x173783e4"}],bootstrapNodes:[{ip:"3.21.156.138",port:30303,id:"39eb08bbfad87481553c471a63ff2a4b4885fffa4ff50f1cf46744d9ad6e2f764ede146fe4df563fa9ccda1a46b9b1a88fb08135e1bf1d71b320912499da773d",location:"",comment:"Calaveras bootnode 1"},{ip:"3.9.20.133",port:30303,id:"9e1096aa59862a6f164994cb5cb16f5124d6c992cdbf4535ff7dea43ea1512afe5448dca9df1b7ab0726129603f1a3336b631e4d7a1a44c94daddd03241587f9",location:"",comment:"Calaveras bootnode 2"}]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4379,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"goerli",chainId:5,networkId:5,defaultHardfork:"istanbul",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{hash:"0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a",timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",stateRoot:"0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"dao",block:null,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"}],bootstrapNodes:[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4380,{"./calaveras.json":4378,"./goerli.json":4379,"./kovan.json":4381,"./mainnet.json":4382,"./rinkeby.json":4383,"./ropsten.json":4384},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.chains=r._getInitializedChains=void 0;var o=a(e("./mainnet.json")),i=a(e("./ropsten.json")),s=a(e("./rinkeby.json")),c=a(e("./kovan.json")),u=a(e("./goerli.json")),d=a(e("./calaveras.json"));function l(e){var t,r,a={1:"mainnet",3:"ropsten",4:"rinkeby",42:"kovan",5:"goerli",123:"calaveras"},l={mainnet:o.default,ropsten:i.default,rinkeby:s.default,kovan:c.default,goerli:u.default,calaveras:d.default};if(e)try{for(var f=n(e),h=f.next();!h.done;h=f.next()){var p=h.value,m=p.name;a[p.chainId.toString()]=m,l[m]=p}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}return l.names=a,l}r._getInitializedChains=l,r.chains=l()}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4381,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"kovan",chainId:42,networkId:42,defaultHardfork:"istanbul",consensus:{type:"poa",algorithm:"aura",aura:{}},comment:"Parity PoA test network",url:"https://kovan-testnet.github.io/website/",genesis:{hash:"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9",timestamp:null,gasLimit:6e6,difficulty:131072,nonce:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",extraData:"0x",stateRoot:"0x2480155b48a1cea17d67dbfdfaafe821c1d19cdd478c5358e8ec56dec24502b2"},hardforks:[{name:"chainstart",block:0,forkHash:"0x010ffe56"},{name:"homestead",block:0,forkHash:"0x010ffe56"},{name:"dao",block:null,forkHash:"0x010ffe56"},{name:"tangerineWhistle",block:0,forkHash:"0x010ffe56"},{name:"spuriousDragon",block:0,forkHash:"0x010ffe56"},{name:"byzantium",block:5067e3,forkHash:"0x7f83c620"},{name:"constantinople",block:92e5,forkHash:"0xa94e3dc4"},{name:"petersburg",block:10255201,forkHash:"0x186874aa"},{name:"istanbul",block:14111141,forkHash:"0x7f6599a6"},{name:"berlin",block:null,forkHash:null},{name:"london",block:null,forkHash:null}],bootstrapNodes:[{ip:"116.203.116.241",port:30303,id:"16898006ba2cd4fa8bf9a3dfe32684c178fa861df144bfc21fe800dc4838a03e342056951fa9fd533dcb0be1219e306106442ff2cf1f7e9f8faa5f2fc1a3aa45",location:"",comment:"1"},{ip:"3.217.96.11",port:30303,id:"2909846f78c37510cc0e306f185323b83bb2209e5ff4fdd279d93c60e3f365e3c6e62ad1d2133ff11f9fd6d23ad9c3dad73bb974d53a22f7d1ac5b7dea79d0b0",location:"",comment:"2"},{ip:"108.61.170.124",port:30303,id:"740e1c8ea64e71762c71a463a04e2046070a0c9394fcab5891d41301dc473c0cff00ebab5a9bc87fbcb610ab98ac18225ff897bc8b7b38def5975d5ceb0a7d7c",location:"",comment:"3"},{ip:"157.230.31.163",port:30303,id:"2909846f78c37510cc0e306f185323b83bb2209e5ff4fdd279d93c60e3f365e3c6e62ad1d2133ff11f9fd6d23ad9c3dad73bb974d53a22f7d1ac5b7dea79d0b0",location:"",comment:"4"}]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4382,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"istanbul",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{hash:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",timestamp:null,gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",stateRoot:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"34.255.23.113",port:30303,id:"ca6de62fce278f96aea6ec5a2daadb877e51651247cb96ee310a318def462913b653963c155a0ef6c7d50048bba6e6cea881130857413d9f50a621546b590758",location:"eu-west-1-001",comment:"bootnode-aws-eu-west-1-001"},{ip:"35.158.244.151",port:30303,id:"279944d8dcd428dffaa7436f25ca0ca43ae19e7bcf94a8fb7d1641651f92d121e972ac2e8f381414b80cc8e5555811c2ec6e1a99bb009b3f53c4c69923e11bd8",location:"eu-central-1-001",comment:"bootnode-aws-eu-central-1-001"},{ip:"52.187.207.27",port:30303,id:"8499da03c47d637b20eee24eec3c356c9a2e6148d6fe25ca195c7949ab8ec2c03e3556126b0d7ed644675e78c4318b08691b7b57de10e5f0d40d05b09238fa0a",location:"australiaeast-001",comment:"bootnode-azure-australiaeast-001"},{ip:"191.234.162.198",port:30303,id:"103858bdb88756c71f15e9b5e09b56dc1be52f0a5021d46301dbbfb7e130029cc9d0d6f73f693bc29b665770fff7da4d34f3c6379fe12721b5d7a0bcb5ca1fc1",location:"brazilsouth-001",comment:"bootnode-azure-brazilsouth-001"},{ip:"52.231.165.108",port:30303,id:"715171f50508aba88aecd1250af392a45a330af91d7b90701c436b618c86aaa1589c9184561907bebbb56439b8f8787bc01f49a7c77276c58c1b09822d75e8e8",location:"koreasouth-001",comment:"bootnode-azure-koreasouth-001"},{ip:"104.42.217.25",port:30303,id:"5d6d7cd20d6da4bb83a1d28cadb5d409b64edf314c0335df658c1a54e32c7c4a7ab7823d57c39b6a757556e68ff1df17c748b698544a55cb488b52479a92b60f",location:"westus-001",comment:"bootnode-azure-westus-001"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4383,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"rinkeby",chainId:4,networkId:4,defaultHardfork:"istanbul",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"PoA test network",url:"https://www.rinkeby.io",genesis:{hash:"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177",timestamp:"0x58ee40ba",gasLimit:47e5,difficulty:1,nonce:"0x0000000000000000",extraData:"0x52657370656374206d7920617574686f7269746168207e452e436172746d616e42eb768f2244c8811c63729a21a3569731535f067ffc57839b00206d1ad20c69a1981b489f772031b279182d99e65703f0076e4812653aab85fca0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",stateRoot:"0x53580584816f617295ea26c0e17641e0120cab2f0a8ffb53a866fd53aa8e8c2d"},hardforks:[{name:"chainstart",block:0,forkHash:"0x3b8e0691"},{name:"homestead",block:1,forkHash:"0x60949295"},{name:"dao",block:null,forkHash:null},{name:"tangerineWhistle",block:2,forkHash:"0x8bde40dd"},{name:"spuriousDragon",block:3,forkHash:"0xcb3a64bb"},{name:"byzantium",block:1035301,forkHash:"0x8d748b57"},{name:"constantinople",block:3660663,forkHash:"0xe49cab14"},{name:"petersburg",block:4321234,forkHash:"0xafec6b27"},{name:"istanbul",block:5435345,forkHash:"0xcbdb8838"},{name:"berlin",block:8290928,forkHash:"0x6910c8bd"},{name:"london",block:8897988,forkHash:"0x8e29f2f3"}],bootstrapNodes:[{ip:"52.169.42.101",port:30303,id:"a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf",location:"",comment:"IE"},{ip:"52.3.158.184",port:30303,id:"343149e4feefa15d882d9fe4ac7d88f885bd05ebb735e547f12e12080a9fa07c8014ca6fd7f373123488102fe5e34111f8509cf0b7de3f5b44339c9f25e87cb8",location:"",comment:"INFURA"},{ip:"159.89.28.211",port:30303,id:"b6b28890b006743680c52e64e0d16db57f28124885595fa03a562be1d2bf0f3a1da297d56b13da25fb992888fd556d4c1a27b1f39d531bde7de1921c90061cc6",location:"",comment:"AKASHA"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.rinkeby.ethdisco.net"]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4384,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"ropsten",chainId:3,networkId:3,defaultHardfork:"istanbul",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network",url:"https://github.com/ethereum/ropsten",genesis:{hash:"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d",timestamp:null,gasLimit:16777216,difficulty:1048576,nonce:"0x0000000000000042",extraData:"0x3535353535353535353535353535353535353535353535353535353535353535",stateRoot:"0x217b0bbcfb72e2d57e28f33cb361b9983513177755dc3f33ce3e7022ed62b77b"},hardforks:[{name:"chainstart",block:0,forkHash:"0x30c7ddbc"},{name:"homestead",block:0,forkHash:"0x30c7ddbc"},{name:"dao",block:null,forkHash:null},{name:"tangerineWhistle",block:0,forkHash:"0x30c7ddbc"},{name:"spuriousDragon",block:10,forkHash:"0x63760190"},{name:"byzantium",block:17e5,forkHash:"0x3ea159c7"},{name:"constantinople",block:423e4,forkHash:"0x97b544f3"},{name:"petersburg",block:4939394,forkHash:"0xd6e2149b"},{name:"istanbul",block:6485846,forkHash:"0x4bc66396"},{name:"muirGlacier",block:7117117,forkHash:"0x6727ef90"},{name:"berlin",block:9812189,forkHash:"0xa157d377"},{name:"london",block:10499401,forkHash:"0x7119b6b3"}],bootstrapNodes:[{ip:"52.176.7.10",port:30303,id:"30b7ab30a01c124a6cceca36863ece12c4f5fa68e3ba9b0b51407ccc002eeed3b3102d20a88f1c1d3c3154e2449317b8ef95090e77b312d5cc39354f86d5d606",location:"",comment:"US-Azure geth"},{ip:"52.176.100.77",port:30303,id:"865a63255b3bb68023b6bffd5095118fcc13e79dcf014fe4e47e065c350c7cc72af2e53eff895f11ba1bbb6a2b33271c1116ee870f266618eadfc2e78aa7349c",location:"",comment:"US-Azure parity"},{ip:"52.232.243.152",port:30303,id:"6332792c4a00e3e4ee0926ed89e0d27ef985424d97b6a45bf0f23e51f0dcb5e66b875777506458aea7af6f9e4ffb69f43f3778ee73c81ed9d34c51c4b16b0b0f",location:"",comment:"Parity"},{ip:"192.81.208.223",port:30303,id:"94c15d1b9e2fe7ce56e458b9a3b672ef11894ddedd0c6f247e0f1d3487f52b66208fb4aeb8179fce6e3a749ea93ed147c37976d67af557508d199d9594c35f09",location:"",comment:"@gpip"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.ropsten.ethdisco.net"]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4385,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Review",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4386,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4387,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4388,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Last call",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4389,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4390,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4391,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Draft",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4392,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Review",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4393,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Draft",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4394,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Draft",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4395,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Draft",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4396,{"./1559.json":4385,"./2315.json":4386,"./2537.json":4387,"./2565.json":4388,"./2718.json":4389,"./2929.json":4390,"./2930.json":4391,"./3198.json":4392,"./3529.json":4393,"./3541.json":4394,"./3554.json":4395},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EIPs=void 0,r.EIPs={1559:e("./1559.json"),2315:e("./2315.json"),2537:e("./2537.json"),2565:e("./2565.json"),2718:e("./2718.json"),2929:e("./2929.json"),2930:e("./2930.json"),3198:e("./3198.json"),3529:e("./3529.json"),3541:e("./3541.json"),3554:e("./3554.json")}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4397,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Draft",eips:[2565,2929,2718,2930]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4398,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4399,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[44,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{name:t}=e;t=t===undefined?"Error":String(t);let r=e.message;r=r===undefined?"":String(r),""===t?e.stack=e.message:""===r?e.stack=e.name:e.stack||(e.stack=`${e.name}: ${e.message}`);return e}}}},{package:"$root$"}],[4400,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4401,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4402,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4403,{"./berlin.json":4397,"./byzantium.json":4398,"./chainstart.json":4399,"./constantinople.json":4400,"./dao.json":4401,"./homestead.json":4402,"./istanbul.json":4404,"./london.json":4405,"./muirGlacier.json":4406,"./petersburg.json":4407,"./spuriousDragon.json":4408,"./tangerineWhistle.json":4409},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hardforks=void 0,r.hardforks=[["chainstart",e("./chainstart.json")],["homestead",e("./homestead.json")],["dao",e("./dao.json")],["tangerineWhistle",e("./tangerineWhistle.json")],["spuriousDragon",e("./spuriousDragon.json")],["byzantium",e("./byzantium.json")],["constantinople",e("./constantinople.json")],["petersburg",e("./petersburg.json")],["istanbul",e("./istanbul.json")],["muirGlacier",e("./muirGlacier.json")],["berlin",e("./berlin.json")],["london",e("./london.json")]]}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4404,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Draft",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4405,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Draft",eips:[1559,3198,3529,3541]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4406,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4407,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Draft",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4408,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4409,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4410,{"./chains":4380,"./eips":4396,"./hardforks":4403,buffer:1797,"crc-32":1874,"ethereumjs-util":2178,events:1798},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.Hardfork=r.Chain=r.CustomChain=void 0;var s,c,u=e("events"),d=e("crc-32"),l=e("ethereumjs-util"),f=e("./chains"),h=e("./hardforks"),p=e("./eips");!function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.xDaiChain="x-dai-chain"}(s=r.CustomChain||(r.CustomChain={})),function(e){e[e.Mainnet=1]="Mainnet",e[e.Ropsten=3]="Ropsten",e[e.Rinkeby=4]="Rinkeby",e[e.Kovan=42]="Kovan",e[e.Goerli=5]="Goerli",e[e.Calaveras=123]="Calaveras"}(r.Chain||(r.Chain={})),function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london"}(c=r.Hardfork||(r.Hardfork={}));var m=function(e){function r(t){var r,n,a=e.call(this)||this;return a._supportedHardforks=[],a._eips=[],a._customChains=null!==(r=t.customChains)&&void 0!==r?r:[],a._chainParams=a.setChain(t.chain),a.DEFAULT_HARDFORK=null!==(n=a._chainParams.defaultHardfork)&&void 0!==n?n:c.Istanbul,a._hardfork=a.DEFAULT_HARDFORK,t.supportedHardforks&&(a._supportedHardforks=t.supportedHardforks),t.hardfork&&a.setHardfork(t.hardfork),t.eips&&a.setEIPs(t.eips),a}return a(r,e),r.custom=function(e,t){var n;void 0===t&&(t={});var a=null!==(n=t.baseChain)&&void 0!==n?n:"mainnet",i=o({},r._getChainParams(a));if(i.name="custom-chain","string"!=typeof e)return new r(o({chain:o(o({},i),e)},t));if(e===s.PolygonMainnet)return r.custom({name:s.PolygonMainnet,chainId:137,networkId:137});if(e===s.PolygonMumbai)return r.custom({name:s.PolygonMumbai,chainId:80001,networkId:80001});if(e===s.ArbitrumRinkebyTestnet)return r.custom({name:s.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611});if(e===s.xDaiChain)return r.custom({name:s.xDaiChain,chainId:100,networkId:100});throw new Error("Custom chain "+e+" not supported")},r.forCustomChain=function(e,t,n,a){var i=r._getChainParams(e);return new r({chain:o(o({},i),t),hardfork:n,supportedHardforks:a})},r.isSupportedChainId=function(e){var t=f._getInitializedChains();return Boolean(t.names[e.toString()])},r._getChainParams=function(e,t){var r=f._getInitializedChains(t);if("number"==typeof e||l.BN.isBN(e)){if(e=e.toString(),r.names[e])return r[r.names[e]];throw new Error("Chain with ID "+e+" not supported")}if(r[e])return r[e];throw new Error("Chain with name "+e+" not supported")},r.prototype.setChain=function(e){var t,n;if("number"==typeof e||"string"==typeof e||l.BN.isBN(e))this._chainParams=r._getChainParams(e,this._customChains);else{if("object"!=typeof e)throw new Error("Wrong input format");if(this._customChains.length>0)throw new Error("Chain must be a string, number, or BN when initialized with customChains passed in");try{for(var a=i(["networkId","genesis","hardforks","bootstrapNodes"]),o=a.next();!o.done;o=a.next()){var s=o.value;if(e[s]===undefined)throw new Error("Missing required chain parameter: "+s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}this._chainParams=e}return this._chainParams},r.prototype.setHardfork=function(e){var t,r;if(!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks");var n=!1;try{for(var a=i(h.hardforks),o=a.next();!o.done;o=a.next()){o.value[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}if(!n)throw new Error("Hardfork with name "+e+" not supported")},r.prototype.getHardforkByBlockNumber=function(e){var t,r;e=l.toType(e,l.TypeOutput.BN);var n=c.Chainstart;try{for(var a=i(this.hardforks()),o=a.next();!o.done;o=a.next()){var s=o.value;null!==s.block&&(e.gte(new l.BN(s.block))&&(n=s.name))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n},r.prototype.setHardforkByBlockNumber=function(e){e=l.toType(e,l.TypeOutput.BN);var t=this.getHardforkByBlockNumber(e);return this.setHardfork(t),t},r.prototype._chooseHardfork=function(e,t){if(void 0===t&&(t=!0),e){if(t&&!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks")}else e=this._hardfork;return e},r.prototype._getHardfork=function(e){var t,r,n=this.hardforks();try{for(var a=i(n),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.name===e)return s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}throw new Error("Hardfork "+e+" not defined for chain "+this.chainName())},r.prototype._isSupportedHardfork=function(e){var t,r;if(!(this._supportedHardforks.length>0))return!0;try{for(var n=i(this._supportedHardforks),a=n.next();!a.done;a=n.next()){if(e===a.value)return!0}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return!1},r.prototype.setEIPs=function(e){var t,r,n=this;void 0===e&&(e=[]);var a=function(t){if(!(t in p.EIPs))throw new Error(t+" not supported");var r=o.gteHardfork(p.EIPs[t].minimumHardfork);if(!r)throw new Error(t+" cannot be activated on hardfork "+o.hardfork()+", minimumHardfork: "+r);p.EIPs[t].requiredEIPs&&p.EIPs[t].requiredEIPs.forEach((function(r){if(!e.includes(r)&&!n.isActivatedEIP(r))throw new Error(t+" requires EIP "+r+", but is not included in the EIP list")}))},o=this;try{for(var s=i(e),c=s.next();!c.done;c=s.next()){a(c.value)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}this._eips=e},r.prototype.param=function(e,t){var r,n,a=null;try{for(var o=i(this._eips),s=o.next();!s.done;s=o.next()){var c=s.value;if(null!==(a=this.paramByEIP(e,t,c)))return a}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this.paramByHardfork(e,t,this._hardfork)},r.prototype.paramByHardfork=function(e,t,r){var n,a,o,s;r=this._chooseHardfork(r);var c=null;try{for(var u=i(h.hardforks),d=u.next();!d.done;d=u.next()){var l=d.value;if(l[1].hasOwnProperty("eips")){var f=l[1].eips;try{for(var p=(o=void 0,i(f)),m=p.next();!m.done;m=p.next()){var g=m.value,v=this.paramByEIP(e,t,g);c=null!==v?v:c}}catch(e){o={error:e}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}else{if(!l[1][e])throw new Error("Topic "+e+" not defined");l[1][e][t]!==undefined&&(c=l[1][e][t].v)}if(l[0]===r)break}}catch(e){n={error:e}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return c},r.prototype.paramByEIP=function(e,t,r){if(!(r in p.EIPs))throw new Error(r+" not supported");var n=p.EIPs[r];if(!(e in n))throw new Error("Topic "+e+" not defined");return n[e][t]===undefined?null:n[e][t].v},r.prototype.paramByBlock=function(e,t,r){var n=this.activeHardforks(r),a=n[n.length-1].name;return this.paramByHardfork(e,t,a)},r.prototype.isActivatedEIP=function(e){var t,r;if(this.eips().includes(e))return!0;try{for(var n=i(h.hardforks),a=n.next();!a.done;a=n.next()){var o=a.value[1];if(this.gteHardfork(o.name)&&"eips"in o&&o.eips.includes(e))return!0}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return!1},r.prototype.hardforkIsActiveOnBlock=function(e,t,r){var n;void 0===r&&(r={}),t=l.toType(t,l.TypeOutput.BN);var a=null!==(n=r.onlySupported)&&void 0!==n&&n;e=this._chooseHardfork(e,a);var o=this.hardforkBlockBN(e);return!(!o||!t.gte(o))},r.prototype.activeOnBlock=function(e,t){return this.hardforkIsActiveOnBlock(null,e,t)},r.prototype.hardforkGteHardfork=function(e,t,r){var n,a;void 0===r&&(r={});var o,s=r.onlyActive!==undefined&&r.onlyActive;e=this._chooseHardfork(e,r.onlySupported),o=s?this.activeHardforks(null,r):this.hardforks();var c=-1,u=-1,d=0;try{for(var l=i(o),f=l.next();!f.done;f=l.next()){var h=f.value;h.name===e&&(c=d),h.name===t&&(u=d),d+=1}}catch(e){n={error:e}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c>=u&&-1!==u},r.prototype.gteHardfork=function(e,t){return this.hardforkGteHardfork(null,e,t)},r.prototype.hardforkIsActiveOnChain=function(e,t){var r,n,a;void 0===t&&(t={});var o=null!==(a=t.onlySupported)&&void 0!==a&&a;e=this._chooseHardfork(e,o);try{for(var s=i(this.hardforks()),c=s.next();!c.done;c=s.next()){var u=c.value;if(u.name===e&&null!==u.block)return!0}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!1},r.prototype.activeHardforks=function(e,t){var r,n;void 0===t&&(t={});var a=[],o=this.hardforks();try{for(var s=i(o),c=s.next();!c.done;c=s.next()){var u=c.value;if(null!==u.block){if(e!==undefined&&null!==e&&e<u.block)break;t.onlySupported&&!this._isSupportedHardfork(u.name)||a.push(u)}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},r.prototype.activeHardfork=function(e,t){void 0===t&&(t={});var r=this.activeHardforks(e,t);if(r.length>0)return r[r.length-1].name;throw new Error("No (supported) active hardfork found")},r.prototype.hardforkBlock=function(e){return l.toType(this.hardforkBlockBN(e),l.TypeOutput.Number)},r.prototype.hardforkBlockBN=function(e){return e=this._chooseHardfork(e,!1),new l.BN(this._getHardfork(e).block)},r.prototype.isHardforkBlock=function(e,t){return e=l.toType(e,l.TypeOutput.BN),t=this._chooseHardfork(t,!1),this.hardforkBlockBN(t).eq(e)},r.prototype.nextHardforkBlock=function(e){var t=this.nextHardforkBlockBN(e);return null===t?null:l.toType(t,l.TypeOutput.Number)},r.prototype.nextHardforkBlockBN=function(e){e=this._chooseHardfork(e,!1);var t=this.hardforkBlockBN(e);return this.hardforks().reduce((function(e,r){var n=new l.BN(r.block);return n.gt(t)&&null===e?n:e}),null)},r.prototype.isNextHardforkBlock=function(e,t){e=l.toType(e,l.TypeOutput.BN),t=this._chooseHardfork(t,!1);var r=this.nextHardforkBlockBN(t);return null!==r&&r.eq(e)},r.prototype._calcForkHash=function(e){var r,n,a=t.from(this.genesis().hash.substr(2),"hex"),o=t.alloc(0),s=0;try{for(var c=i(this.hardforks()),u=c.next();!u.done;u=c.next()){var f=u.value,h=f.block;if(0!==h&&null!==h&&h!==s){var p=t.from(h.toString(16).padStart(16,"0"),"hex");o=t.concat([o,p])}if(f.name===e)break;s=h}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}var m=t.concat([a,o]);return"0x"+l.intToBuffer(d.buf(m)>>>0).toString("hex")},r.prototype.forkHash=function(e){e=this._chooseHardfork(e,!1);var t=this._getHardfork(e);if(null===t.block){throw new Error("No fork hash calculation possible for non-applied or future hardfork")}return t.forkHash!==undefined?t.forkHash:this._calcForkHash(e)},r.prototype.hardforkForForkHash=function(e){var t=this.hardforks().filter((function(t){return t.forkHash===e}));return t.length>=1?t[t.length-1]:null},r.prototype.genesis=function(){return this._chainParams.genesis},r.prototype.hardforks=function(){return this._chainParams.hardforks},r.prototype.bootstrapNodes=function(){return this._chainParams.bootstrapNodes},r.prototype.dnsNetworks=function(){return this._chainParams.dnsNetworks},r.prototype.hardfork=function(){return this._hardfork},r.prototype.chainId=function(){return l.toType(this.chainIdBN(),l.TypeOutput.Number)},r.prototype.chainIdBN=function(){return new l.BN(this._chainParams.chainId)},r.prototype.chainName=function(){return this._chainParams.name},r.prototype.networkId=function(){return l.toType(this.networkIdBN(),l.TypeOutput.Number)},r.prototype.networkIdBN=function(){return new l.BN(this._chainParams.networkId)},r.prototype.eips=function(){return this._eips},r.prototype.consensusType=function(){return this._chainParams.consensus.type},r.prototype.consensusAlgorithm=function(){return this._chainParams.consensus.algorithm},r.prototype.consensusConfig=function(){return this._chainParams.consensus[this.consensusAlgorithm()]},r.prototype.copy=function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)},r}(u.EventEmitter);r.default=m}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/common"}],[4411,{"./types":4417,"@ethereumjs/common":4473,"ethereumjs-util":2178},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.BaseTransaction=void 0;var i=o(e("@ethereumjs/common")),s=e("ethereumjs-util"),c=e("./types"),u=function(){function e(e){this.activeCapabilities=[],this.DEFAULT_CHAIN="mainnet",this.DEFAULT_HARDFORK="istanbul";var t=e.nonce,r=e.gasLimit,n=e.to,a=e.value,o=e.data,i=e.v,c=e.r,u=e.s,d=e.type;this._type=new s.BN(s.toBuffer(d)).toNumber();var l=s.toBuffer(""===n?"0x":n),f=s.toBuffer(""===i?"0x":i),h=s.toBuffer(""===c?"0x":c),p=s.toBuffer(""===u?"0x":u);this.nonce=new s.BN(s.toBuffer(""===t?"0x":t)),this.gasLimit=new s.BN(s.toBuffer(""===r?"0x":r)),this.to=l.length>0?new s.Address(l):undefined,this.value=new s.BN(s.toBuffer(""===a?"0x":a)),this.data=s.toBuffer(""===o?"0x":o),this.v=f.length>0?new s.BN(f):undefined,this.r=h.length>0?new s.BN(h):undefined,this.s=p.length>0?new s.BN(p):undefined,this._validateCannotExceedMaxInteger({nonce:this.nonce,gasLimit:this.gasLimit,value:this.value,r:this.r,s:this.s})}return Object.defineProperty(e.prototype,"transactionType",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),e.prototype.supports=function(e){return this.activeCapabilities.includes(e)},e.prototype.validate=function(e){void 0===e&&(e=!1);var t=[];return this.getBaseFee().gt(this.gasLimit)&&t.push("gasLimit is too low. given "+this.gasLimit+", need at least "+this.getBaseFee()),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:0===t.length},e.prototype.getBaseFee=function(){var e=this.getDataFee().addn(this.common.param("gasPrices","tx"));return this.common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this.common.param("gasPrices","txCreation")),e},e.prototype.getDataFee=function(){for(var e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero"),r=0,n=0;n<this.data.length;n++)0===this.data[n]?r+=e:r+=t;return new s.BN(r)},e.prototype.toCreationAddress=function(){return this.to===undefined||0===this.to.buf.length},e.prototype.isSigned=function(){var e=this,t=e.v,r=e.r,n=e.s;return 0===this.type?!!(t&&r&&n):!(t===undefined||!r||!n)},e.prototype.verifySignature=function(){try{var e=this.getSenderPublicKey();return 0!==s.unpadBuffer(e).length}catch(e){return!1}},e.prototype.getSenderAddress=function(){return new s.Address(s.publicToAddress(this.getSenderPublicKey()))},e.prototype.sign=function(e){if(32!==e.length)throw new Error("Private key must be 32 bytes in length.");var t=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(c.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(c.Capability.EIP155ReplayProtection),t=!0);var r=this.getMessageToSign(!0),n=s.ecsign(r,e),a=n.v,o=n.r,i=n.s,u=this._processSignature(a,o,i);if(t){var d=this.activeCapabilities.indexOf(c.Capability.EIP155ReplayProtection);d>-1&&this.activeCapabilities.splice(d,1)}return u},e.prototype._getCommon=function(e,t){var r;if(t){var n=new s.BN(s.toBuffer(t));if(e){if(!e.chainIdBN().eq(n))throw new Error("The chain ID does not match the chain ID of Common");return e.copy()}return i.default.isSupportedChainId(n)?new i.default({chain:n,hardfork:this.DEFAULT_HARDFORK}):i.default.forCustomChain(this.DEFAULT_CHAIN,{name:"custom-chain",networkId:n,chainId:n},this.DEFAULT_HARDFORK)}return null!==(r=null==e?void 0:e.copy())&&void 0!==r?r:new i.default({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})},e.prototype._validateCannotExceedMaxInteger=function(e,t){var r,o;void 0===t&&(t=53);try{for(var i=n(Object.entries(e)),c=i.next();!c.done;c=i.next()){var u=a(c.value,2),d=u[0],l=u[1];if(53===t){if(null==l?void 0:l.gt(s.MAX_INTEGER))throw new Error(d+" cannot exceed MAX_INTEGER, given "+l)}else{if(256!==t)throw new Error("unimplemented bits value");if(null==l?void 0:l.gte(s.TWO_POW256))throw new Error(d+" must be less than 2^256, given "+l)}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},e}();r.BaseTransaction=u}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx"}],[4412,{"./baseTransaction":4411,"./types":4417,"./util":4418,buffer:1797,"ethereumjs-util":2178},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i};Object.defineProperty(r,"__esModule",{value:!0});var s=e("ethereumjs-util"),c=e("./baseTransaction"),u=e("./types"),d=e("./util"),l=t.from(2..toString(16).padStart(2,"0"),"hex"),f=function(e){function r(t,r){var n,a;void 0===r&&(r={});var i=e.call(this,o(o({},t),{type:2}))||this;i.DEFAULT_HARDFORK="london";var c=t.chainId,l=t.accessList,f=t.maxFeePerGas,h=t.maxPriorityFeePerGas;if(i.common=i._getCommon(r.common,c),i.chainId=i.common.chainIdBN(),!i.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");i.activeCapabilities=i.activeCapabilities.concat([1559,2718,2930]);var p=d.AccessLists.getAccessListData(null!=l?l:[]);if(i.accessList=p.accessList,i.AccessListJSON=p.AccessListJSON,d.AccessLists.verifyAccessList(i.accessList),i.maxFeePerGas=new s.BN(s.toBuffer(""===f?"0x":f)),i.maxPriorityFeePerGas=new s.BN(s.toBuffer(""===h?"0x":h)),i._validateCannotExceedMaxInteger({maxFeePerGas:i.maxFeePerGas,maxPriorityFeePerGas:i.maxPriorityFeePerGas},256),i.maxFeePerGas.lt(i.maxPriorityFeePerGas))throw new Error("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");if(i.v&&!i.v.eqn(0)&&!i.v.eqn(1))throw new Error("The y-parity of the transaction should either be 0 or 1");if(i.common.gteHardfork("homestead")&&(null===(n=i.s)||void 0===n?void 0:n.gt(u.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");return(null===(a=null==r?void 0:r.freeze)||void 0===a||a)&&Object.freeze(i),i}return a(r,e),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(e,t){return void 0===t&&(t={}),new r(e,t)},r.fromSerializedTx=function(e,t){if(void 0===t&&(t={}),!e.slice(0,1).equals(l))throw new Error("Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: "+2+", received: "+e.slice(0,1).toString("hex"));var n=s.rlp.decode(e.slice(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(n,t)},r.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),r.fromSerializedTx(e,t)},r.fromValuesArray=function(e,t){if(void 0===t&&(t={}),9!==e.length&&12!==e.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");var n=i(e,12),a=n[0],o=n[1],c=n[2],u=n[3],d=n[4],l=n[5],f=n[6],h=n[7],p=n[8],m=n[9],g=n[10],v=n[11];return new r({chainId:new s.BN(a),nonce:o,maxPriorityFeePerGas:c,maxFeePerGas:u,gasLimit:d,to:l,value:f,data:h,accessList:null!=p?p:[],v:m!==undefined?new s.BN(m):undefined,r:g,s:v},t)},r.prototype.getDataFee=function(){var t=e.prototype.getDataFee.call(this);return t.iaddn(d.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),t},r.prototype.getUpfrontCost=function(e){void 0===e&&(e=new s.BN(0));var t=s.BN.min(this.maxPriorityFeePerGas,this.maxFeePerGas.sub(e)).add(e);return this.gasLimit.mul(t).add(this.value)},r.prototype.raw=function(){return[s.bnToUnpaddedBuffer(this.chainId),s.bnToUnpaddedBuffer(this.nonce),s.bnToUnpaddedBuffer(this.maxPriorityFeePerGas),s.bnToUnpaddedBuffer(this.maxFeePerGas),s.bnToUnpaddedBuffer(this.gasLimit),this.to!==undefined?this.to.buf:t.from([]),s.bnToUnpaddedBuffer(this.value),this.data,this.accessList,this.v!==undefined?s.bnToUnpaddedBuffer(this.v):t.from([]),this.r!==undefined?s.bnToUnpaddedBuffer(this.r):t.from([]),this.s!==undefined?s.bnToUnpaddedBuffer(this.s):t.from([])]},r.prototype.serialize=function(){var e=this.raw();return t.concat([l,s.rlp.encode(e)])},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var r=this.raw().slice(0,9),n=t.concat([l,s.rlp.encode(r)]);return e?s.keccak256(n):n},r.prototype.hash=function(){if(!this.isSigned())throw new Error("Cannot call hash method if transaction is not signed");return s.keccak256(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var e;if(!this.isSigned())throw new Error("Cannot call this method if transaction is not signed");var t=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(u.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");var r=this,n=r.v,a=r.r,o=r.s;try{return s.ecrecover(t,n.addn(27),s.bnToUnpaddedBuffer(a),s.bnToUnpaddedBuffer(o))}catch(e){throw new Error("Invalid Signature")}},r.prototype._processSignature=function(e,t,n){var a={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new s.BN(e-27),r:new s.BN(t),s:new s.BN(n)},a)},r.prototype.toJSON=function(){var e=d.AccessLists.getAccessListJSON(this.accessList);return{chainId:s.bnToHex(this.chainId),nonce:s.bnToHex(this.nonce),maxPriorityFeePerGas:s.bnToHex(this.maxPriorityFeePerGas),maxFeePerGas:s.bnToHex(this.maxFeePerGas),gasLimit:s.bnToHex(this.gasLimit),to:this.to!==undefined?this.to.toString():undefined,value:s.bnToHex(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==undefined?s.bnToHex(this.v):undefined,r:this.r!==undefined?s.bnToHex(this.r):undefined,s:this.s!==undefined?s.bnToHex(this.s):undefined}},r}(c.BaseTransaction);r.default=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx"}],[4413,{"./baseTransaction":4411,"./types":4417,"./util":4418,buffer:1797,"ethereumjs-util":2178},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i};Object.defineProperty(r,"__esModule",{value:!0});var s=e("ethereumjs-util"),c=e("./baseTransaction"),u=e("./types"),d=e("./util"),l=t.from(1..toString(16).padStart(2,"0"),"hex"),f=function(e){function r(t,r){var n,a;void 0===r&&(r={});var i=e.call(this,o(o({},t),{type:1}))||this;i.DEFAULT_HARDFORK="berlin";var c=t.chainId,l=t.accessList,f=t.gasPrice;if(i.common=i._getCommon(r.common,c),i.chainId=i.common.chainIdBN(),!i.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");i.activeCapabilities=i.activeCapabilities.concat([2718,2930]);var h=d.AccessLists.getAccessListData(null!=l?l:[]);if(i.accessList=h.accessList,i.AccessListJSON=h.AccessListJSON,d.AccessLists.verifyAccessList(i.accessList),i.gasPrice=new s.BN(s.toBuffer(""===f?"0x":f)),i._validateCannotExceedMaxInteger({gasPrice:i.gasPrice}),i.v&&!i.v.eqn(0)&&!i.v.eqn(1))throw new Error("The y-parity of the transaction should either be 0 or 1");if(i.common.gteHardfork("homestead")&&(null===(n=i.s)||void 0===n?void 0:n.gt(u.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");return(null===(a=null==r?void 0:r.freeze)||void 0===a||a)&&Object.freeze(i),i}return a(r,e),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(e,t){return void 0===t&&(t={}),new r(e,t)},r.fromSerializedTx=function(e,t){if(void 0===t&&(t={}),!e.slice(0,1).equals(l))throw new Error("Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: "+1+", received: "+e.slice(0,1).toString("hex"));var n=s.rlp.decode(e.slice(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(n,t)},r.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),r.fromSerializedTx(e,t)},r.fromValuesArray=function(e,t){if(void 0===t&&(t={}),8!==e.length&&11!==e.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");var n=i(e,11),a=n[0],o=n[1],c=n[2],u=n[3],d=n[4],l=n[5],f=n[6],h=n[7],p=n[8],m=n[9],g=n[10];return new r({chainId:new s.BN(a),nonce:o,gasPrice:c,gasLimit:u,to:d,value:l,data:f,accessList:null!=h?h:[],v:p!==undefined?new s.BN(p):undefined,r:m,s:g},t)},r.prototype.getDataFee=function(){var t=e.prototype.getDataFee.call(this);return t.iaddn(d.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),t},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.raw=function(){return[s.bnToUnpaddedBuffer(this.chainId),s.bnToUnpaddedBuffer(this.nonce),s.bnToUnpaddedBuffer(this.gasPrice),s.bnToUnpaddedBuffer(this.gasLimit),this.to!==undefined?this.to.buf:t.from([]),s.bnToUnpaddedBuffer(this.value),this.data,this.accessList,this.v!==undefined?s.bnToUnpaddedBuffer(this.v):t.from([]),this.r!==undefined?s.bnToUnpaddedBuffer(this.r):t.from([]),this.s!==undefined?s.bnToUnpaddedBuffer(this.s):t.from([])]},r.prototype.serialize=function(){var e=this.raw();return t.concat([l,s.rlp.encode(e)])},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var r=this.raw().slice(0,8),n=t.concat([l,s.rlp.encode(r)]);return e?s.keccak256(n):n},r.prototype.hash=function(){if(!this.isSigned())throw new Error("Cannot call hash method if transaction is not signed");return s.keccak256(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var e;if(!this.isSigned())throw new Error("Cannot call this method if transaction is not signed");var t=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(u.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");var r=this,n=r.yParity,a=r.r,o=r.s;try{return s.ecrecover(t,n.addn(27),s.bnToUnpaddedBuffer(a),s.bnToUnpaddedBuffer(o))}catch(e){throw new Error("Invalid Signature")}},r.prototype._processSignature=function(e,t,n){var a={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new s.BN(e-27),r:new s.BN(t),s:new s.BN(n)},a)},r.prototype.toJSON=function(){var e=d.AccessLists.getAccessListJSON(this.accessList);return{chainId:s.bnToHex(this.chainId),nonce:s.bnToHex(this.nonce),gasPrice:s.bnToHex(this.gasPrice),gasLimit:s.bnToHex(this.gasLimit),to:this.to!==undefined?this.to.toString():undefined,value:s.bnToHex(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==undefined?s.bnToHex(this.v):undefined,r:this.r!==undefined?s.bnToHex(this.r):undefined,s:this.s!==undefined?s.bnToHex(this.s):undefined}},r}(c.BaseTransaction);r.default=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx"}],[4414,{"./eip1559Transaction":4412,"./eip2930Transaction":4413,"./legacyTransaction":4415,"./transactionFactory":4416,"./types":4417},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0});var o=e("./legacyTransaction");Object.defineProperty(r,"Transaction",{enumerable:!0,get:function(){return o.default}});var i=e("./eip2930Transaction");Object.defineProperty(r,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return i.default}});var s=e("./transactionFactory");Object.defineProperty(r,"TransactionFactory",{enumerable:!0,get:function(){return s.default}});var c=e("./eip1559Transaction");Object.defineProperty(r,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return c.default}}),a(e("./types"),r)}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx"}],[4415,{"./baseTransaction":4411,"./types":4417,buffer:1797,"ethereumjs-util":2178},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i};Object.defineProperty(r,"__esModule",{value:!0});var s=e("ethereumjs-util"),c=e("./types"),u=e("./baseTransaction"),d=function(e){function r(t,r){var n;void 0===r&&(r={});var a=e.call(this,o(o({},t),{type:0}))||this;if(a.common=a._validateTxV(a.v,r.common),a.gasPrice=new s.BN(s.toBuffer(""===t.gasPrice?"0x":t.gasPrice)),a._validateCannotExceedMaxInteger({gasPrice:a.gasPrice}),a.common.gteHardfork("spuriousDragon"))if(a.isSigned()){var i=a.v,u=a.common.chainIdBN().muln(2);(i.eq(u.addn(35))||i.eq(u.addn(36)))&&a.activeCapabilities.push(c.Capability.EIP155ReplayProtection)}else a.activeCapabilities.push(c.Capability.EIP155ReplayProtection);return(null===(n=null==r?void 0:r.freeze)||void 0===n||n)&&Object.freeze(a),a}return a(r,e),r.fromTxData=function(e,t){return void 0===t&&(t={}),new r(e,t)},r.fromSerializedTx=function(e,t){void 0===t&&(t={});var r=s.rlp.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,t)},r.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),r.fromSerializedTx(e,t)},r.fromValuesArray=function(e,t){if(void 0===t&&(t={}),6!==e.length&&9!==e.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");var n=i(e,9);return new r({nonce:n[0],gasPrice:n[1],gasLimit:n[2],to:n[3],value:n[4],data:n[5],v:n[6],r:n[7],s:n[8]},t)},r.prototype.raw=function(){return[s.bnToUnpaddedBuffer(this.nonce),s.bnToUnpaddedBuffer(this.gasPrice),s.bnToUnpaddedBuffer(this.gasLimit),this.to!==undefined?this.to.buf:t.from([]),s.bnToUnpaddedBuffer(this.value),this.data,this.v!==undefined?s.bnToUnpaddedBuffer(this.v):t.from([]),this.r!==undefined?s.bnToUnpaddedBuffer(this.r):t.from([]),this.s!==undefined?s.bnToUnpaddedBuffer(this.s):t.from([])]},r.prototype.serialize=function(){return s.rlp.encode(this.raw())},r.prototype._getMessageToSign=function(){var e=[s.bnToUnpaddedBuffer(this.nonce),s.bnToUnpaddedBuffer(this.gasPrice),s.bnToUnpaddedBuffer(this.gasLimit),this.to!==undefined?this.to.buf:t.from([]),s.bnToUnpaddedBuffer(this.value),this.data];return this.supports(c.Capability.EIP155ReplayProtection)&&(e.push(s.toBuffer(this.common.chainIdBN())),e.push(s.unpadBuffer(s.toBuffer(0))),e.push(s.unpadBuffer(s.toBuffer(0)))),e},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var t=this._getMessageToSign();return e?s.rlphash(t):t},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.hash=function(){return s.rlphash(this.raw())},r.prototype.getMessageToVerifySignature=function(){if(!this.isSigned())throw Error("This transaction is not signed");var e=this._getMessageToSign();return s.rlphash(e)},r.prototype.getSenderPublicKey=function(){var e,t=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(c.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");var r=this,n=r.v,a=r.r,o=r.s;try{return s.ecrecover(t,n,s.bnToUnpaddedBuffer(a),s.bnToUnpaddedBuffer(o),this.supports(c.Capability.EIP155ReplayProtection)?this.common.chainIdBN():undefined)}catch(e){throw new Error("Invalid Signature")}},r.prototype._processSignature=function(e,t,n){var a=new s.BN(e);this.supports(c.Capability.EIP155ReplayProtection)&&a.iadd(this.common.chainIdBN().muln(2).addn(8));var o={common:this.common};return r.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:a,r:new s.BN(t),s:new s.BN(n)},o)},r.prototype.toJSON=function(){return{nonce:s.bnToHex(this.nonce),gasPrice:s.bnToHex(this.gasPrice),gasLimit:s.bnToHex(this.gasLimit),to:this.to!==undefined?this.to.toString():undefined,value:s.bnToHex(this.value),data:"0x"+this.data.toString("hex"),v:this.v!==undefined?s.bnToHex(this.v):undefined,r:this.r!==undefined?s.bnToHex(this.r):undefined,s:this.s!==undefined?s.bnToHex(this.s):undefined}},r.prototype._validateTxV=function(e,t){var r;if(e!==undefined&&!e.eqn(0)&&(!t||t.gteHardfork("spuriousDragon"))&&!e.eqn(27)&&!e.eqn(28))if(t){var n=t.chainIdBN().muln(2);if(!(e.eq(n.addn(35))||e.eq(n.addn(36))))throw new Error("Incompatible EIP155-based V "+e.toString()+" and chain id "+t.chainIdBN().toString()+". See the Common parameter of the Transaction constructor to set the chain id.")}else{var a=void 0;a=e.subn(35).isEven()?35:36,r=e.subn(a).divn(2)}return this._getCommon(t,r)},r.prototype._unsignedTxImplementsEIP155=function(){return this.common.gteHardfork("spuriousDragon")},r.prototype._signedTxImplementsEIP155=function(){if(!this.isSigned())throw Error("This transaction is not signed");var e=this.common.gteHardfork("spuriousDragon"),t=this.v,r=this.common.chainIdBN().muln(2);return(t.eq(r.addn(35))||t.eq(r.addn(36)))&&e},r}(u.BaseTransaction);r.default=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx"}],[4416,{".":4414,"../../../../../is-buffer/index.js":4534,"ethereumjs-util":2178},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n=e("ethereumjs-util"),a=e("."),o=function(){function e(){}return e.fromTxData=function(e,t){if(void 0===t&&(t={}),"type"in e&&e.type!==undefined){var r=new n.BN(n.toBuffer(e.type)).toNumber();if(0===r)return a.Transaction.fromTxData(e,t);if(1===r)return a.AccessListEIP2930Transaction.fromTxData(e,t);if(2===r)return a.FeeMarketEIP1559Transaction.fromTxData(e,t);throw new Error("Tx instantiation with type "+r+" not supported")}return a.Transaction.fromTxData(e,t)},e.fromSerializedData=function(e,t){if(void 0===t&&(t={}),e[0]<=127){var r=void 0;switch(e[0]){case 1:r=2930;break;case 2:r=1559;break;default:throw new Error("TypedTransaction with ID "+e[0]+" unknown")}return 1559===r?a.FeeMarketEIP1559Transaction.fromSerializedTx(e,t):a.AccessListEIP2930Transaction.fromSerializedTx(e,t)}return a.Transaction.fromSerializedTx(e,t)},e.fromBlockBodyData=function(e,r){if(void 0===r&&(r={}),t.isBuffer(e))return this.fromSerializedData(e,r);if(Array.isArray(e))return a.Transaction.fromValuesArray(e,r);throw new Error("Cannot decode transaction: unknown type input")},e.getTransactionClass=function(e,t){if(void 0===e&&(e=0),0==e||e>=128&&e<=255)return a.Transaction;switch(e){case 1:return a.AccessListEIP2930Transaction;case 2:return a.FeeMarketEIP1559Transaction;default:throw new Error("TypedTransaction with ID "+e+" unknown")}},e}();r.default=o}).call(this)}).call(this,{isBuffer:e("../../../../../is-buffer/index.js")})}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx"}],[4417,{"ethereumjs-util":2178},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.N_DIV_2=r.isAccessList=r.isAccessListBuffer=r.Capability=void 0;var n=e("ethereumjs-util");function a(e){if(0===e.length)return!0;var t=e[0];return!!Array.isArray(t)}!function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"}(r.Capability||(r.Capability={})),r.isAccessListBuffer=a,r.isAccessList=function(e){return!a(e)},r.N_DIV_2=new n.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16)}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx"}],[4418,{"./types":4417,"ethereumjs-util":2178},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessLists=void 0;var n=e("ethereumjs-util"),a=e("./types"),o=function(){function e(){}return e.getAccessListData=function(e){var t,r;if(e&&a.isAccessList(e)){t=e;for(var o=[],i=0;i<e.length;i++){for(var s=e[i],c=n.toBuffer(s.address),u=[],d=0;d<s.storageKeys.length;d++)u.push(n.toBuffer(s.storageKeys[d]));o.push([c,u])}r=o}else{r=null!=e?e:[];var l=[];for(i=0;i<r.length;i++){var f=r[i],h=n.bufferToHex(f[0]),p=[];for(s=0;s<f[1].length;s++)p.push(n.bufferToHex(f[1][s]));var m={address:h,storageKeys:p};l.push(m)}t=l}return{AccessListJSON:t,accessList:r}},e.verifyAccessList=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r[0],a=r[1];if(r[2]!==undefined)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!=n.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(var o=0;o<a.length;o++)if(32!=a[o].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},e.getAccessListJSON=function(e){for(var t=[],r=0;r<e.length;r++){for(var a=e[r],o={address:"0x"+n.setLengthLeft(a[0],20).toString("hex"),storageKeys:[]},i=a[1],s=0;s<i.length;s++){var c=i[s];o.storageKeys.push("0x"+n.setLengthLeft(c,32).toString("hex"))}t.push(o)}return t},e.getDataFeeEIP2930=function(e,t){for(var r=t.param("gasPrices","accessListStorageKeyCost"),n=t.param("gasPrices","accessListAddressCost"),a=0,o=0;o<e.length;o++){a+=e[o][1].length}return e.length*n+a*r},e}();r.AccessLists=o}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx"}],[4419,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"goerli",chainId:5,networkId:5,defaultHardfork:"istanbul",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{hash:"0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a",timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",stateRoot:"0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{name:"merge",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4420,{"./goerli.json":4419,"./kovan.json":4421,"./mainnet.json":4422,"./rinkeby.json":4423,"./ropsten.json":4424,"./sepolia.json":4425},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.chains=r._getInitializedChains=void 0;var o=a(e("./mainnet.json")),i=a(e("./ropsten.json")),s=a(e("./rinkeby.json")),c=a(e("./kovan.json")),u=a(e("./goerli.json")),d=a(e("./sepolia.json"));function l(e){var t,r,a={1:"mainnet",3:"ropsten",4:"rinkeby",42:"kovan",5:"goerli",11155111:"sepolia"},l={mainnet:o.default,ropsten:i.default,rinkeby:s.default,kovan:c.default,goerli:u.default,sepolia:d.default};if(e)try{for(var f=n(e),h=f.next();!h.done;h=f.next()){var p=h.value,m=p.name;a[p.chainId.toString()]=m,l[m]=p}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}return l.names=a,l}r._getInitializedChains=l,r.chains=l()}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4421,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"kovan",chainId:42,networkId:42,defaultHardfork:"istanbul",consensus:{type:"poa",algorithm:"aura",aura:{}},comment:"Parity PoA test network",url:"https://kovan-testnet.github.io/website/",genesis:{hash:"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9",timestamp:null,gasLimit:6e6,difficulty:131072,nonce:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",extraData:"0x",stateRoot:"0x2480155b48a1cea17d67dbfdfaafe821c1d19cdd478c5358e8ec56dec24502b2"},hardforks:[{name:"chainstart",block:0,forkHash:"0x010ffe56"},{name:"homestead",block:0,forkHash:"0x010ffe56"},{name:"tangerineWhistle",block:0,forkHash:"0x010ffe56"},{name:"spuriousDragon",block:0,forkHash:"0x010ffe56"},{name:"byzantium",block:5067e3,forkHash:"0x7f83c620"},{name:"constantinople",block:92e5,forkHash:"0xa94e3dc4"},{name:"petersburg",block:10255201,forkHash:"0x186874aa"},{name:"istanbul",block:14111141,forkHash:"0x7f6599a6"},{name:"berlin",block:24770900,forkHash:"0x1a0f10d9"},{name:"london",block:26741100,forkHash:"0x1ed20b71"},{name:"merge",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[{ip:"116.203.116.241",port:30303,id:"16898006ba2cd4fa8bf9a3dfe32684c178fa861df144bfc21fe800dc4838a03e342056951fa9fd533dcb0be1219e306106442ff2cf1f7e9f8faa5f2fc1a3aa45",location:"",comment:"1"},{ip:"3.217.96.11",port:30303,id:"2909846f78c37510cc0e306f185323b83bb2209e5ff4fdd279d93c60e3f365e3c6e62ad1d2133ff11f9fd6d23ad9c3dad73bb974d53a22f7d1ac5b7dea79d0b0",location:"",comment:"2"},{ip:"108.61.170.124",port:30303,id:"740e1c8ea64e71762c71a463a04e2046070a0c9394fcab5891d41301dc473c0cff00ebab5a9bc87fbcb610ab98ac18225ff897bc8b7b38def5975d5ceb0a7d7c",location:"",comment:"3"},{ip:"157.230.31.163",port:30303,id:"2909846f78c37510cc0e306f185323b83bb2209e5ff4fdd279d93c60e3f365e3c6e62ad1d2133ff11f9fd6d23ad9c3dad73bb974d53a22f7d1ac5b7dea79d0b0",location:"",comment:"4"}]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4422,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"istanbul",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{hash:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",timestamp:null,gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",stateRoot:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"merge",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"34.255.23.113",port:30303,id:"ca6de62fce278f96aea6ec5a2daadb877e51651247cb96ee310a318def462913b653963c155a0ef6c7d50048bba6e6cea881130857413d9f50a621546b590758",location:"eu-west-1-001",comment:"bootnode-aws-eu-west-1-001"},{ip:"35.158.244.151",port:30303,id:"279944d8dcd428dffaa7436f25ca0ca43ae19e7bcf94a8fb7d1641651f92d121e972ac2e8f381414b80cc8e5555811c2ec6e1a99bb009b3f53c4c69923e11bd8",location:"eu-central-1-001",comment:"bootnode-aws-eu-central-1-001"},{ip:"52.187.207.27",port:30303,id:"8499da03c47d637b20eee24eec3c356c9a2e6148d6fe25ca195c7949ab8ec2c03e3556126b0d7ed644675e78c4318b08691b7b57de10e5f0d40d05b09238fa0a",location:"australiaeast-001",comment:"bootnode-azure-australiaeast-001"},{ip:"191.234.162.198",port:30303,id:"103858bdb88756c71f15e9b5e09b56dc1be52f0a5021d46301dbbfb7e130029cc9d0d6f73f693bc29b665770fff7da4d34f3c6379fe12721b5d7a0bcb5ca1fc1",location:"brazilsouth-001",comment:"bootnode-azure-brazilsouth-001"},{ip:"52.231.165.108",port:30303,id:"715171f50508aba88aecd1250af392a45a330af91d7b90701c436b618c86aaa1589c9184561907bebbb56439b8f8787bc01f49a7c77276c58c1b09822d75e8e8",location:"koreasouth-001",comment:"bootnode-azure-koreasouth-001"},{ip:"104.42.217.25",port:30303,id:"5d6d7cd20d6da4bb83a1d28cadb5d409b64edf314c0335df658c1a54e32c7c4a7ab7823d57c39b6a757556e68ff1df17c748b698544a55cb488b52479a92b60f",location:"westus-001",comment:"bootnode-azure-westus-001"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4423,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"rinkeby",chainId:4,networkId:4,defaultHardfork:"istanbul",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"PoA test network",url:"https://www.rinkeby.io",genesis:{hash:"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177",timestamp:"0x58ee40ba",gasLimit:47e5,difficulty:1,nonce:"0x0000000000000000",extraData:"0x52657370656374206d7920617574686f7269746168207e452e436172746d616e42eb768f2244c8811c63729a21a3569731535f067ffc57839b00206d1ad20c69a1981b489f772031b279182d99e65703f0076e4812653aab85fca0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",stateRoot:"0x53580584816f617295ea26c0e17641e0120cab2f0a8ffb53a866fd53aa8e8c2d"},hardforks:[{name:"chainstart",block:0,forkHash:"0x3b8e0691"},{name:"homestead",block:1,forkHash:"0x60949295"},{name:"tangerineWhistle",block:2,forkHash:"0x8bde40dd"},{name:"spuriousDragon",block:3,forkHash:"0xcb3a64bb"},{name:"byzantium",block:1035301,forkHash:"0x8d748b57"},{name:"constantinople",block:3660663,forkHash:"0xe49cab14"},{name:"petersburg",block:4321234,forkHash:"0xafec6b27"},{name:"istanbul",block:5435345,forkHash:"0xcbdb8838"},{name:"berlin",block:8290928,forkHash:"0x6910c8bd"},{name:"london",block:8897988,forkHash:"0x8e29f2f3"},{name:"merge",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[{ip:"52.169.42.101",port:30303,id:"a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf",location:"",comment:"IE"},{ip:"52.3.158.184",port:30303,id:"343149e4feefa15d882d9fe4ac7d88f885bd05ebb735e547f12e12080a9fa07c8014ca6fd7f373123488102fe5e34111f8509cf0b7de3f5b44339c9f25e87cb8",location:"",comment:"INFURA"},{ip:"159.89.28.211",port:30303,id:"b6b28890b006743680c52e64e0d16db57f28124885595fa03a562be1d2bf0f3a1da297d56b13da25fb992888fd556d4c1a27b1f39d531bde7de1921c90061cc6",location:"",comment:"AKASHA"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.rinkeby.ethdisco.net"]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4424,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"ropsten",chainId:3,networkId:3,defaultHardfork:"istanbul",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network",url:"https://github.com/ethereum/ropsten",genesis:{hash:"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d",timestamp:null,gasLimit:16777216,difficulty:1048576,nonce:"0x0000000000000042",extraData:"0x3535353535353535353535353535353535353535353535353535353535353535",stateRoot:"0x217b0bbcfb72e2d57e28f33cb361b9983513177755dc3f33ce3e7022ed62b77b"},hardforks:[{name:"chainstart",block:0,forkHash:"0x30c7ddbc"},{name:"homestead",block:0,forkHash:"0x30c7ddbc"},{name:"tangerineWhistle",block:0,forkHash:"0x30c7ddbc"},{name:"spuriousDragon",block:10,forkHash:"0x63760190"},{name:"byzantium",block:17e5,forkHash:"0x3ea159c7"},{name:"constantinople",block:423e4,forkHash:"0x97b544f3"},{name:"petersburg",block:4939394,forkHash:"0xd6e2149b"},{name:"istanbul",block:6485846,forkHash:"0x4bc66396"},{name:"muirGlacier",block:7117117,forkHash:"0x6727ef90"},{name:"berlin",block:9812189,forkHash:"0xa157d377"},{name:"london",block:10499401,forkHash:"0x7119b6b3"},{name:"merge",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[{ip:"52.176.7.10",port:30303,id:"30b7ab30a01c124a6cceca36863ece12c4f5fa68e3ba9b0b51407ccc002eeed3b3102d20a88f1c1d3c3154e2449317b8ef95090e77b312d5cc39354f86d5d606",location:"",comment:"US-Azure geth"},{ip:"52.176.100.77",port:30303,id:"865a63255b3bb68023b6bffd5095118fcc13e79dcf014fe4e47e065c350c7cc72af2e53eff895f11ba1bbb6a2b33271c1116ee870f266618eadfc2e78aa7349c",location:"",comment:"US-Azure parity"},{ip:"52.232.243.152",port:30303,id:"6332792c4a00e3e4ee0926ed89e0d27ef985424d97b6a45bf0f23e51f0dcb5e66b875777506458aea7af6f9e4ffb69f43f3778ee73c81ed9d34c51c4b16b0b0f",location:"",comment:"Parity"},{ip:"192.81.208.223",port:30303,id:"94c15d1b9e2fe7ce56e458b9a3b672ef11894ddedd0c6f247e0f1d3487f52b66208fb4aeb8179fce6e3a749ea93ed147c37976d67af557508d199d9594c35f09",location:"",comment:"@gpip"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.ropsten.ethdisco.net"]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4425,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"istanbul",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{hash:"0x25a5cc106eea7138acab33231d7160d69cb777ee0c2c553fcddf5138993e6dd9",timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521",stateRoot:"0x5eb6e371a698b8d68f665192350ffcecbbbf322916f4b51bd79bb6887da3f494"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{name:"merge",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"}],dnsNetworks:[]}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4426,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4427,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4428,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4429,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4430,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4431,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4432,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4433,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4434,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4435,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4436,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4437,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4438,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4439,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4440,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4441,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4442,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4443,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4444,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4445,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4446,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4447,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4448,{"./1153.json":4426,"./1559.json":4427,"./2315.json":4428,"./2537.json":4429,"./2565.json":4430,"./2718.json":4431,"./2929.json":4432,"./2930.json":4433,"./3198.json":4434,"./3529.json":4435,"./3540.json":4436,"./3541.json":4437,"./3554.json":4438,"./3607.json":4439,"./3651.json":4440,"./3670.json":4441,"./3675.json":4442,"./3855.json":4443,"./3860.json":4444,"./4345.json":4445,"./4399.json":4446,"./5133.json":4447},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EIPs=void 0,r.EIPs={1153:e("./1153.json"),1559:e("./1559.json"),2315:e("./2315.json"),2537:e("./2537.json"),2565:e("./2565.json"),2718:e("./2718.json"),2929:e("./2929.json"),2930:e("./2930.json"),3198:e("./3198.json"),3529:e("./3529.json"),3540:e("./3540.json"),3541:e("./3541.json"),3554:e("./3554.json"),3607:e("./3607.json"),3651:e("./3651.json"),3670:e("./3670.json"),3675:e("./3675.json"),3855:e("./3855.json"),3860:e("./3860.json"),4345:e("./4345.json"),4399:e("./4399.json"),5133:e("./5133.json")}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4449,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={"0x0000000000000000000000000000000000000000":"0x1","0x0000000000000000000000000000000000000001":"0x1","0x0000000000000000000000000000000000000002":"0x1","0x0000000000000000000000000000000000000003":"0x1","0x0000000000000000000000000000000000000004":"0x1","0x0000000000000000000000000000000000000005":"0x1","0x0000000000000000000000000000000000000006":"0x1","0x0000000000000000000000000000000000000007":"0x1","0x0000000000000000000000000000000000000008":"0x1","0x0000000000000000000000000000000000000009":"0x1","0x000000000000000000000000000000000000000a":"0x1","0x000000000000000000000000000000000000000b":"0x1","0x000000000000000000000000000000000000000c":"0x1","0x000000000000000000000000000000000000000d":"0x1","0x000000000000000000000000000000000000000e":"0x1","0x000000000000000000000000000000000000000f":"0x1","0x0000000000000000000000000000000000000010":"0x1","0x0000000000000000000000000000000000000011":"0x1","0x0000000000000000000000000000000000000012":"0x1","0x0000000000000000000000000000000000000013":"0x1","0x0000000000000000000000000000000000000014":"0x1","0x0000000000000000000000000000000000000015":"0x1","0x0000000000000000000000000000000000000016":"0x1","0x0000000000000000000000000000000000000017":"0x1","0x0000000000000000000000000000000000000018":"0x1","0x0000000000000000000000000000000000000019":"0x1","0x000000000000000000000000000000000000001a":"0x1","0x000000000000000000000000000000000000001b":"0x1","0x000000000000000000000000000000000000001c":"0x1","0x000000000000000000000000000000000000001d":"0x1","0x000000000000000000000000000000000000001e":"0x1","0x000000000000000000000000000000000000001f":"0x1","0x0000000000000000000000000000000000000020":"0x1","0x0000000000000000000000000000000000000021":"0x1","0x0000000000000000000000000000000000000022":"0x1","0x0000000000000000000000000000000000000023":"0x1","0x0000000000000000000000000000000000000024":"0x1","0x0000000000000000000000000000000000000025":"0x1","0x0000000000000000000000000000000000000026":"0x1","0x0000000000000000000000000000000000000027":"0x1","0x0000000000000000000000000000000000000028":"0x1","0x0000000000000000000000000000000000000029":"0x1","0x000000000000000000000000000000000000002a":"0x1","0x000000000000000000000000000000000000002b":"0x1","0x000000000000000000000000000000000000002c":"0x1","0x000000000000000000000000000000000000002d":"0x1","0x000000000000000000000000000000000000002e":"0x1","0x000000000000000000000000000000000000002f":"0x1","0x0000000000000000000000000000000000000030":"0x1","0x0000000000000000000000000000000000000031":"0x1","0x0000000000000000000000000000000000000032":"0x1","0x0000000000000000000000000000000000000033":"0x1","0x0000000000000000000000000000000000000034":"0x1","0x0000000000000000000000000000000000000035":"0x1","0x0000000000000000000000000000000000000036":"0x1","0x0000000000000000000000000000000000000037":"0x1","0x0000000000000000000000000000000000000038":"0x1","0x0000000000000000000000000000000000000039":"0x1","0x000000000000000000000000000000000000003a":"0x1","0x000000000000000000000000000000000000003b":"0x1","0x000000000000000000000000000000000000003c":"0x1","0x000000000000000000000000000000000000003d":"0x1","0x000000000000000000000000000000000000003e":"0x1","0x000000000000000000000000000000000000003f":"0x1","0x0000000000000000000000000000000000000040":"0x1","0x0000000000000000000000000000000000000041":"0x1","0x0000000000000000000000000000000000000042":"0x1","0x0000000000000000000000000000000000000043":"0x1","0x0000000000000000000000000000000000000044":"0x1","0x0000000000000000000000000000000000000045":"0x1","0x0000000000000000000000000000000000000046":"0x1","0x0000000000000000000000000000000000000047":"0x1","0x0000000000000000000000000000000000000048":"0x1","0x0000000000000000000000000000000000000049":"0x1","0x000000000000000000000000000000000000004a":"0x1","0x000000000000000000000000000000000000004b":"0x1","0x000000000000000000000000000000000000004c":"0x1","0x000000000000000000000000000000000000004d":"0x1","0x000000000000000000000000000000000000004e":"0x1","0x000000000000000000000000000000000000004f":"0x1","0x0000000000000000000000000000000000000050":"0x1","0x0000000000000000000000000000000000000051":"0x1","0x0000000000000000000000000000000000000052":"0x1","0x0000000000000000000000000000000000000053":"0x1","0x0000000000000000000000000000000000000054":"0x1","0x0000000000000000000000000000000000000055":"0x1","0x0000000000000000000000000000000000000056":"0x1","0x0000000000000000000000000000000000000057":"0x1","0x0000000000000000000000000000000000000058":"0x1","0x0000000000000000000000000000000000000059":"0x1","0x000000000000000000000000000000000000005a":"0x1","0x000000000000000000000000000000000000005b":"0x1","0x000000000000000000000000000000000000005c":"0x1","0x000000000000000000000000000000000000005d":"0x1","0x000000000000000000000000000000000000005e":"0x1","0x000000000000000000000000000000000000005f":"0x1","0x0000000000000000000000000000000000000060":"0x1","0x0000000000000000000000000000000000000061":"0x1","0x0000000000000000000000000000000000000062":"0x1","0x0000000000000000000000000000000000000063":"0x1","0x0000000000000000000000000000000000000064":"0x1","0x0000000000000000000000000000000000000065":"0x1","0x0000000000000000000000000000000000000066":"0x1","0x0000000000000000000000000000000000000067":"0x1","0x0000000000000000000000000000000000000068":"0x1","0x0000000000000000000000000000000000000069":"0x1","0x000000000000000000000000000000000000006a":"0x1","0x000000000000000000000000000000000000006b":"0x1","0x000000000000000000000000000000000000006c":"0x1","0x000000000000000000000000000000000000006d":"0x1","0x000000000000000000000000000000000000006e":"0x1","0x000000000000000000000000000000000000006f":"0x1","0x0000000000000000000000000000000000000070":"0x1","0x0000000000000000000000000000000000000071":"0x1","0x0000000000000000000000000000000000000072":"0x1","0x0000000000000000000000000000000000000073":"0x1","0x0000000000000000000000000000000000000074":"0x1","0x0000000000000000000000000000000000000075":"0x1","0x0000000000000000000000000000000000000076":"0x1","0x0000000000000000000000000000000000000077":"0x1","0x0000000000000000000000000000000000000078":"0x1","0x0000000000000000000000000000000000000079":"0x1","0x000000000000000000000000000000000000007a":"0x1","0x000000000000000000000000000000000000007b":"0x1","0x000000000000000000000000000000000000007c":"0x1","0x000000000000000000000000000000000000007d":"0x1","0x000000000000000000000000000000000000007e":"0x1","0x000000000000000000000000000000000000007f":"0x1","0x0000000000000000000000000000000000000080":"0x1","0x0000000000000000000000000000000000000081":"0x1","0x0000000000000000000000000000000000000082":"0x1","0x0000000000000000000000000000000000000083":"0x1","0x0000000000000000000000000000000000000084":"0x1","0x0000000000000000000000000000000000000085":"0x1","0x0000000000000000000000000000000000000086":"0x1","0x0000000000000000000000000000000000000087":"0x1","0x0000000000000000000000000000000000000088":"0x1","0x0000000000000000000000000000000000000089":"0x1","0x000000000000000000000000000000000000008a":"0x1","0x000000000000000000000000000000000000008b":"0x1","0x000000000000000000000000000000000000008c":"0x1","0x000000000000000000000000000000000000008d":"0x1","0x000000000000000000000000000000000000008e":"0x1","0x000000000000000000000000000000000000008f":"0x1","0x0000000000000000000000000000000000000090":"0x1","0x0000000000000000000000000000000000000091":"0x1","0x0000000000000000000000000000000000000092":"0x1","0x0000000000000000000000000000000000000093":"0x1","0x0000000000000000000000000000000000000094":"0x1","0x0000000000000000000000000000000000000095":"0x1","0x0000000000000000000000000000000000000096":"0x1","0x0000000000000000000000000000000000000097":"0x1","0x0000000000000000000000000000000000000098":"0x1","0x0000000000000000000000000000000000000099":"0x1","0x000000000000000000000000000000000000009a":"0x1","0x000000000000000000000000000000000000009b":"0x1","0x000000000000000000000000000000000000009c":"0x1","0x000000000000000000000000000000000000009d":"0x1","0x000000000000000000000000000000000000009e":"0x1","0x000000000000000000000000000000000000009f":"0x1","0x00000000000000000000000000000000000000a0":"0x1","0x00000000000000000000000000000000000000a1":"0x1","0x00000000000000000000000000000000000000a2":"0x1","0x00000000000000000000000000000000000000a3":"0x1","0x00000000000000000000000000000000000000a4":"0x1","0x00000000000000000000000000000000000000a5":"0x1","0x00000000000000000000000000000000000000a6":"0x1","0x00000000000000000000000000000000000000a7":"0x1","0x00000000000000000000000000000000000000a8":"0x1","0x00000000000000000000000000000000000000a9":"0x1","0x00000000000000000000000000000000000000aa":"0x1","0x00000000000000000000000000000000000000ab":"0x1","0x00000000000000000000000000000000000000ac":"0x1","0x00000000000000000000000000000000000000ad":"0x1","0x00000000000000000000000000000000000000ae":"0x1","0x00000000000000000000000000000000000000af":"0x1","0x00000000000000000000000000000000000000b0":"0x1","0x00000000000000000000000000000000000000b1":"0x1","0x00000000000000000000000000000000000000b2":"0x1","0x00000000000000000000000000000000000000b3":"0x1","0x00000000000000000000000000000000000000b4":"0x1","0x00000000000000000000000000000000000000b5":"0x1","0x00000000000000000000000000000000000000b6":"0x1","0x00000000000000000000000000000000000000b7":"0x1","0x00000000000000000000000000000000000000b8":"0x1","0x00000000000000000000000000000000000000b9":"0x1","0x00000000000000000000000000000000000000ba":"0x1","0x00000000000000000000000000000000000000bb":"0x1","0x00000000000000000000000000000000000000bc":"0x1","0x00000000000000000000000000000000000000bd":"0x1","0x00000000000000000000000000000000000000be":"0x1","0x00000000000000000000000000000000000000bf":"0x1","0x00000000000000000000000000000000000000c0":"0x1","0x00000000000000000000000000000000000000c1":"0x1","0x00000000000000000000000000000000000000c2":"0x1","0x00000000000000000000000000000000000000c3":"0x1","0x00000000000000000000000000000000000000c4":"0x1","0x00000000000000000000000000000000000000c5":"0x1","0x00000000000000000000000000000000000000c6":"0x1","0x00000000000000000000000000000000000000c7":"0x1","0x00000000000000000000000000000000000000c8":"0x1","0x00000000000000000000000000000000000000c9":"0x1","0x00000000000000000000000000000000000000ca":"0x1","0x00000000000000000000000000000000000000cb":"0x1","0x00000000000000000000000000000000000000cc":"0x1","0x00000000000000000000000000000000000000cd":"0x1","0x00000000000000000000000000000000000000ce":"0x1","0x00000000000000000000000000000000000000cf":"0x1","0x00000000000000000000000000000000000000d0":"0x1","0x00000000000000000000000000000000000000d1":"0x1","0x00000000000000000000000000000000000000d2":"0x1","0x00000000000000000000000000000000000000d3":"0x1","0x00000000000000000000000000000000000000d4":"0x1","0x00000000000000000000000000000000000000d5":"0x1","0x00000000000000000000000000000000000000d6":"0x1","0x00000000000000000000000000000000000000d7":"0x1","0x00000000000000000000000000000000000000d8":"0x1","0x00000000000000000000000000000000000000d9":"0x1","0x00000000000000000000000000000000000000da":"0x1","0x00000000000000000000000000000000000000db":"0x1","0x00000000000000000000000000000000000000dc":"0x1","0x00000000000000000000000000000000000000dd":"0x1","0x00000000000000000000000000000000000000de":"0x1","0x00000000000000000000000000000000000000df":"0x1","0x00000000000000000000000000000000000000e0":"0x1","0x00000000000000000000000000000000000000e1":"0x1","0x00000000000000000000000000000000000000e2":"0x1","0x00000000000000000000000000000000000000e3":"0x1","0x00000000000000000000000000000000000000e4":"0x1","0x00000000000000000000000000000000000000e5":"0x1","0x00000000000000000000000000000000000000e6":"0x1","0x00000000000000000000000000000000000000e7":"0x1","0x00000000000000000000000000000000000000e8":"0x1","0x00000000000000000000000000000000000000e9":"0x1","0x00000000000000000000000000000000000000ea":"0x1","0x00000000000000000000000000000000000000eb":"0x1","0x00000000000000000000000000000000000000ec":"0x1","0x00000000000000000000000000000000000000ed":"0x1","0x00000000000000000000000000000000000000ee":"0x1","0x00000000000000000000000000000000000000ef":"0x1","0x00000000000000000000000000000000000000f0":"0x1","0x00000000000000000000000000000000000000f1":"0x1","0x00000000000000000000000000000000000000f2":"0x1","0x00000000000000000000000000000000000000f3":"0x1","0x00000000000000000000000000000000000000f4":"0x1","0x00000000000000000000000000000000000000f5":"0x1","0x00000000000000000000000000000000000000f6":"0x1","0x00000000000000000000000000000000000000f7":"0x1","0x00000000000000000000000000000000000000f8":"0x1","0x00000000000000000000000000000000000000f9":"0x1","0x00000000000000000000000000000000000000fa":"0x1","0x00000000000000000000000000000000000000fb":"0x1","0x00000000000000000000000000000000000000fc":"0x1","0x00000000000000000000000000000000000000fd":"0x1","0x00000000000000000000000000000000000000fe":"0x1","0x00000000000000000000000000000000000000ff":"0x1","0x4c2ae482593505f0163cdefc073e81c63cda4107":"0x152d02c7e14af6800000","0xa8e8f14732658e4b51e8711931053a8a69baf2b1":"0x152d02c7e14af6800000","0xd9a5179f091d85051d3c982785efd1455cec8699":"0x84595161401484a000000","0xe0a2bd4258d2768837baa26a28fe71dc079f84c7":"0x4a47e3c12448f4ad000000"}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}],[4450,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={"0x0000000000000000000000000000000000000001":"0x1","0x0000000000000000000000000000000000000002":"0x1","0x0000000000000000000000000000000000000003":"0x1","0x0000000000000000000000000000000000000004":"0x1","0x00521965e7bd230323c423d96c657db5b79d099f":"0x100000000000000000000000000000000000000000000000000"}}}},{package:"eth-lattice-keyring>gridplus-sdk>@ethereumjs/tx>@ethereumjs/common"}]],[],{});