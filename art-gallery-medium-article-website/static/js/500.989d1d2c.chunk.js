/*! For license information please see 500.989d1d2c.chunk.js.LICENSE.txt */
(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[500],{2321:e=>{let t;e.exports="function"===typeof queueMicrotask?queueMicrotask:e=>(t||(t=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},7500:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getFlowProvider:()=>$l});var r={};n.r(r),n.d(r,{Address:()=>Vc,Array:()=>Zc,Bool:()=>Wc,Character:()=>Kc,Dictionary:()=>Qc,Enum:()=>ri,Event:()=>ei,Fix64:()=>qc,Identity:()=>Ec,Int:()=>Ic,Int128:()=>Fc,Int16:()=>_c,Int256:()=>Gc,Int32:()=>Oc,Int64:()=>Nc,Int8:()=>Ac,Optional:()=>Xc,Path:()=>ai,Reference:()=>$c,Resource:()=>ti,String:()=>Hc,Struct:()=>ni,UFix64:()=>Yc,UInt:()=>Sc,UInt128:()=>Lc,UInt16:()=>Tc,UInt256:()=>jc,UInt32:()=>Cc,UInt64:()=>Pc,UInt8:()=>Rc,Void:()=>Jc,Word16:()=>Uc,Word32:()=>Bc,Word64:()=>Mc,Word8:()=>Dc,_Array:()=>Zc});var a={};function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,c=[],i=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(f){s=!0,a=f}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw a}}return c}}(e,t)||c(e,t)||i()}function f(e,t,n,r,a,o,u){try{var c=e[o](u),i=c.value}catch(s){return void n(s)}c.done?t(i):Promise.resolve(i).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){f(o,r,a,u,c,"next",e)}function c(e){f(o,r,a,u,c,"throw",e)}u(void 0)}))}}n.r(a),n.d(a,{AppUtils:()=>Qf,InteractionTemplateUtils:()=>Yl,TestUtils:()=>Eu,VERSION:()=>li,WalletUtils:()=>Yf,account:()=>Ko,arg:()=>ou,args:()=>au,atBlockHeight:()=>qo,atBlockId:()=>Ho,authenticate:()=>ql,authorization:()=>Jo,authorizations:()=>Vo,authz:()=>Jl,block:()=>Wo,build:()=>aa,cadence:()=>Gn,cdc:()=>Gn,config:()=>ie,createSignableVoucher:()=>yo,currentUser:()=>Lf,decode:()=>Bo,discovery:()=>rf,display:()=>Ge,events:()=>ml,getAccount:()=>ca,getBlock:()=>ua,getBlockHeader:()=>Qo,getCollection:()=>eu,getEvents:()=>Xo,getEventsAtBlockHeightRange:()=>$o,getEventsAtBlockIds:()=>Zo,getTransaction:()=>nu,getTransactionStatus:()=>tu,invariant:()=>Do,isBad:()=>Vr,isOk:()=>Wr,limit:()=>ru,logIn:()=>Vl,mutate:()=>Ff,param:()=>Iu,params:()=>Su,payer:()=>iu,ping:()=>fu,pipe:()=>Zr,pluginRegistry:()=>Ds,proposer:()=>uu,query:()=>ji,reauthenticate:()=>Kl,ref:()=>lu,sansPrefix:()=>Fe,script:()=>pu,send:()=>Uo,serialize:()=>tl,signUp:()=>Wl,t:()=>Xl,transaction:()=>vu,tx:()=>fl,unauthenticate:()=>Hl,validator:()=>Yo,verifyUserSignatures:()=>el,voucherIntercept:()=>hu,voucherToTxId:()=>go,why:()=>Jr,withPrefix:()=>je});var p=n(4687),d=n.n(p);function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return o(e)||v(e)||c(e)||i()}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}function g(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){i=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(i)throw o}}}}var k=n(2321),E=n.n(k),S=function(){var e,t=[];return{deliver:function(n){return l(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.push(n),e&&(e(t.shift()),e=void 0);case 2:case"end":return r.stop()}}),r)})))()},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}},I="INIT",R="SUBSCRIBE",A="UNSUBSCRIBE",T="UPDATED",_="SNAPSHOT",C="EXIT",O="TERMINATE",P="object"===("undefined"===typeof self?"undefined":m(self))&&self.self===self&&self||"object"===("undefined"===typeof n.g?"undefined":m(n.g))&&n.g.global===n.g&&n.g||"object"===("undefined"===typeof window?"undefined":m(window))&&window.window===window&&window;P.FCL_REGISTRY=null==P.FCL_REGISTRY?{}:P.FCL_REGISTRY;var N,L=0,F=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(a,o){var u=r.expectReply||!1,c=null!=r.timeout?r.timeout:5e3;u&&c&&setTimeout((function(){return o(new Error("Timeout: ".concat(c,"ms passed without a response.")))}),c);var i={to:e,from:r.from,tag:t,data:n,timeout:c,reply:a,reject:o};try{P.FCL_REGISTRY[e]&&P.FCL_REGISTRY[e].mailbox.deliver(i),u||a(!0)}catch(s){console.error("FCL.Actor -- Could Not Deliver Message",i,P.FCL_REGISTRY[e],s)}}))},j=function(e){delete P.FCL_REGISTRY[e]},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=l(d().mark((function t(n){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e[I]){t.next=3;break}return t.next=3,e[I](n);case 3:return t.next=6,n.receive();case 6:if(r=t.sent,t.prev=7,r.tag!==C){t.next=13;break}if("function"!==typeof e[O]){t.next=12;break}return t.next=12,e[O](n,r,r.data||{});case 12:return t.abrupt("break",25);case 13:return t.next=15,e[r.tag](n,r,r.data||{});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),console.error("".concat(n.self()," Error"),r,t.t0);case 20:return t.prev=20,t.abrupt("continue",3);case 23:t.next=3;break;case 25:case"end":return t.stop()}}),t,null,[[7,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t&&(t=++L),null!=P.FCL_REGISTRY[t])return t;P.FCL_REGISTRY[t]={addr:t,mailbox:S(),subs:new Set,kvs:{},error:null};var n={self:function(){return t},receive:function(){return P.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.from=t,F(e,n,r,a)},sendSelf:function(e,n,r){P.FCL_REGISTRY[t]&&F(t,e,n,r)},broadcast:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.from=t;var a,o=x(P.FCL_REGISTRY[t].subs);try{for(o.s();!(a=o.n()).done;){var u=a.value;F(u,e,n,r)}}catch(c){o.e(c)}finally{o.f()}},subscribe:function(e){return null!=e&&P.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&P.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return P.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!P.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(P.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=P.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete P.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(P.FCL_REGISTRY[t].kvs[e]=n(P.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(P.FCL_REGISTRY[t].kvs)},all:function(){return P.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(P.FCL_REGISTRY[t].kvs).reduce((function(n,r){return e.test(r)?w(w({},n),{},g({},r,P.FCL_REGISTRY[t].kvs[r])):n}),{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(n){return P.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){P.FCL_REGISTRY[t].error=e;var n,r=x(P.FCL_REGISTRY[t].subs);try{for(r.s();!(n=r.n()).done;){var a=n.value;F(a,T)}}catch(o){r.e(o)}finally{r.f()}}};return"object"===m(e)&&(e=G(e)),E()(l(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(n);case 2:j(t);case 3:case"end":return r.stop()}}),r)})))),t};function U(e,t,n){t(e);var r="@EXIT",a=D(function(){var t=l(d().mark((function t(a){var o,u;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.send(e,R);case 1:return t.next=4,a.receive();case 4:if(o=t.sent,u=P.FCL_REGISTRY[e].error,o.tag!==r){t.next=9;break}return a.send(e,A),t.abrupt("return");case 9:if(!u){t.next=13;break}return n(null,u),a.send(e,A),t.abrupt("return");case 13:n(o.data,null),t.next=1;break;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return F(a,r)}}function B(e,t){return t(e),F(e,_,null,{expectReply:!0,timeout:0})}var M="config",z="PUT_CONFIG",Y="GET_CONFIG",q="GET_ALL_CONFIG",H="UPDATE_CONFIG",K="DELETE_CONFIG",W="CLEAR_CONFIG",V="WHERE_CONFIG",J="CONFIG/UPDATED",X=function(e){return e},$=(g(N={},z,(function(e,t,n){var r=n.key,a=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,a),e.broadcast(J,w({},e.all()))})),g(N,Y,(function(e,t,n){var r=n.key,a=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,a))})),g(N,q,(function(e,t){t.reply(w({},e.all()))})),g(N,H,(function(e,t,n){var r=n.key,a=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,a||X),e.broadcast(J,w({},e.all()))})),g(N,K,(function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(J,w({},e.all()))})),g(N,W,(function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var a=r[n];e.delete(a)}e.broadcast(J,w({},e.all()))})),g(N,V,(function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))})),g(N,R,(function(e,t){e.subscribe(t.from),e.send(t.from,J,w({},e.all()))})),g(N,A,(function(e,t){e.unsubscribe(t.from)})),N);function Z(e,t){return F(M,z,{key:e,value:t}),ie()}function Q(e,t){return F(M,Y,{key:e,fallback:t},{expectReply:!0,timeout:10})}function ee(){return te.apply(this,arguments)}function te(){return te=l(d().mark((function e(){var t,n,r,a,o,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:[],n=c.length>1?c[1]:void 0,t.length){e.next=4;break}return e.abrupt("return",n);case 4:return r=h(t),a=r[0],o=r.slice(1),e.next=7,Q(a);case 7:if(null!=(u=e.sent)){e.next=10;break}return e.abrupt("return",ee(o,n));case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(){return F(M,q,null,{expectReply:!0,timeout:10})}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;return F(M,H,{key:e,fn:t}),ie()}function ae(e){return F(M,K,{key:e}),ie()}function oe(e){return F(M,V,{pattern:e},{expectReply:!0,timeout:10})}function ue(e){return U(M,(function(){return D($,M)}),e)}function ce(e){return F(M,W).then(ie(e))}function ie(e){return null!=e&&"object"===m(e)&&Object.keys(e).map((function(t){return Z(t,e[t])})),{put:Z,get:Q,all:ne,first:ee,update:re,delete:ae,where:oe,subscribe:ue,overload:fe}}D($,M),ie.put=Z,ie.get=Q,ie.all=ne,ie.first=ee,ie.update=re,ie.delete=ae,ie.where=oe,ie.subscribe=ue,ie.overload=fe;var se=function(e){return e};function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;return new Promise(function(){var n=l(d().mark((function n(r,a){var o,u;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ne();case 2:return o=n.sent,n.prev=3,ie(e),n.t0=t,n.next=8,ne();case 8:return n.t1=n.sent,n.next=11,(0,n.t0)(n.t1);case 11:return u=n.sent,n.next=14,ce(o);case 14:r(u),n.next=22;break;case 17:return n.prev=17,n.t2=n.catch(3),n.next=21,ce(o);case 21:a(n.t2);case 22:case"end":return n.stop()}}),n,null,[[3,17]])})));return function(e,t){return n.apply(this,arguments)}}())}function le(e,t){if(!e){var n,r=new Error("INVARIANT ".concat(t));r.stack=r.stack.split("\n").filter((function(e){return!/at invariant/.test(e)})).join("\n");for(var a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];throw(n=console).error.apply(n,["\n\n---\n\n",r,"\n\n"].concat(o,["\n\n---\n\n"])),r}}function pe(e){return function(e){if(Array.isArray(e))return u(e)}(e)||v(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var de=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),ve=function(e){var t=e.title,n=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(n,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},he=function(){var e=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f,l,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.title,i=t.message,s=t.level,f=t.always,l=void 0!==f&&f,e.next=3,ie.get("logger.level",de.warn);case 3:if(p=e.sent,l||!(p<s)){e.next=6;break}return e.abrupt("return");case 6:v=ve({title:c,message:i}),e.t0=s,e.next=e.t0===de.debug?10:e.t0===de.info?12:e.t0===de.warn?14:e.t0===de.error?16:18;break;case 10:return(n=console).debug.apply(n,pe(v)),e.abrupt("break",19);case 12:return(r=console).info.apply(r,pe(v)),e.abrupt("break",19);case 14:return(a=console).warn.apply(a,pe(v)),e.abrupt("break",19);case 16:return(o=console).error.apply(o,pe(v)),e.abrupt("break",19);case 18:(u=console).log.apply(u,pe(v));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();he.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,a=e.level,o=void 0===a?de.warn:a,u=e.message,c=void 0===u?"":u,i=e.callback,s=void 0===i?null:i,f=function(){return he({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((e=n,e.charAt(0).toUpperCase()+e.slice(1))," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(c?"\n"+c:"").concat(r?"\nYou can learn more (including a guide on common transition paths) here: ".concat(r):"","\n    ").trim(),level:o});var e};return"function"===typeof s?l(d().mark((function e(){var t=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return e.next=4,s.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))):f()};var me=n(9778);function ye(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(ye(e[n]));var r=me.Buffer.concat(t);return me.Buffer.concat([ge(r.length,192),r])}var a=xe(e);return 1===a.length&&a[0]<128?a:me.Buffer.concat([ge(a.length,128),a])}function ge(e,t){if(e<56)return me.Buffer.from([e+t]);var n=we(e),r=we(t+55+n.length/2);return me.Buffer.from(r+n,"hex")}function be(e){return"0x"===e.slice(0,2)}function we(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function xe(e){if(!me.Buffer.isBuffer(e)){if("string"===typeof e)return be(e)?me.Buffer.from((t="string"!==typeof(n=e)?n:be(n)?n.slice(2):n).length%2?"0"+t:t,"hex"):me.Buffer.from(e);if("number"===typeof e)return e?function(e){var t=we(e);return me.Buffer.from(t,"hex")}(e):me.Buffer.from([]);if(null===e||void 0===e)return me.Buffer.from([]);if(e instanceof Uint8Array)return me.Buffer.from(e);throw new Error("invalid type")}var t,n;return e}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function Ee(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ie(e,t)}function Re(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}function Te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _e(e,t){if(t&&("object"===m(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ce(e){var t=Te();return function(){var n,r=Ae(e);if(t){var a=Ae(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _e(this,n)}}function Oe(e,t,n){return Oe=Te()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Ie(a,n.prototype),a},Oe.apply(null,arguments)}function Pe(e){var t="function"===typeof Map?new Map:void 0;return Pe=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Oe(e,arguments,Ae(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ie(r,e)},Pe(e)}var Ne=n(5359),Le=n.n(Ne);function Fe(e){return null==e?null:e.replace(/^0x/,"").replace(/^Fx/,"")}function je(e){return null==e?null:"0x"+Fe(e)}function Ge(e){return je(e)}var De=function(e){Re(n,e);var t=Ce(n);function n(e){var r,a=e.error,o=e.hostname,u=e.path,c=e.method,i=e.requestBody,s=e.responseBody,f=e.responseStatusText,l=e.statusCode;Se(this,n);var p="\n      HTTP Request Error: An error occurred when interacting with the Access API.\n      ".concat(a?"error=".concat(a):"","\n      ").concat(o?"hostname=".concat(o):"","\n      ").concat(u?"path=".concat(u):"","\n      ").concat(c?"method=".concat(c):"","\n      ").concat(i?"requestBody=".concat(i):"","\n      ").concat(s?"responseBody=".concat(s):"","\n      ").concat(f?"responseStatusText=".concat(f):"","\n      ").concat(l?"statusCode=".concat(l):"","\n    ");return(r=t.call(this,p)).name="HTTP Request Error",r.statusCode=l,r.errorMessage=a,r}return Ee(n)}(Pe(Error));function Ue(e){return Be.apply(this,arguments)}function Be(){return Be=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f,p,v,h,m;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=function(){return m=l(d().mark((function e(){var t,n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.prev=1,e.next=4,v();case 4:return n=e.sent,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(1),![408,429,500,502,503,504].includes(e.t0.statusCode)){e.next=17;break}return e.next=14,new Promise((function(n,r){t<i?(console.warn("Access node unavailable, retrying in ".concat(f," ms...")),setTimeout((function(){n(h(t+1))}),f)):r(e.t0)}));case 14:return e.abrupt("return",e.sent);case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,8]])}))),m.apply(this,arguments)},h=function(){return m.apply(this,arguments)},v=function(){return Le()("".concat(n).concat(r),{method:a,body:p,headers:u}).then(function(){var e=l(d().mark((function e(t){var o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(!t.body){e.next=8;break}return e.next=5,t.text();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:throw o=e.t0,u=Me(o),new De({error:null===u||void 0===u?void 0:u.message,hostname:n,path:r,method:a,requestBody:p,responseBody:o,responseStatusText:t.statusText,statusCode:t.status});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof De)){e.next=2;break}throw t;case 2:return e.next=4,he({title:"Access Node Error",message:"The provided access node ".concat(n," does not appear to be a valid REST/HTTP access node.\nPlease verify that you are not unintentionally using a GRPC access node.\nSee more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect"),level:de.error});case 4:throw new De({error:null===t||void 0===t?void 0:t.message,hostname:n,path:r,method:a,requestBody:p});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},n=t.hostname,r=t.path,a=t.method,o=t.body,u=t.headers,c=t.retryLimit,i=void 0===c?5:c,s=t.retryIntervalMs,f=void 0===s?1e3:s,p=o?JSON.stringify(o):null,e.next=7,h();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),Be.apply(this,arguments)}function Me(e){try{return JSON.parse(e)}catch(t){return null}}function ze(e,t,n){return Ye.apply(this,arguments)}function Ye(){return Ye=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/scripts?block_id=".concat(t.block.id),method:"POST",body:{script:n.Buffer.from(t.message.cadence).toString("base64"),arguments:t.message.arguments.map((function(e){return n.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")}))}});case 3:return o=e.sent,e.abrupt("return",Ve(t,n,o));case 5:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function qe(e,t,n){return He.apply(this,arguments)}function He(){return He=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/scripts?block_height=".concat(t.block.height),method:"POST",body:{script:n.Buffer.from(t.message.cadence).toString("base64"),arguments:t.message.arguments.map((function(e){return n.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")}))}});case 3:return o=e.sent,e.abrupt("return",Ve(t,n,o));case 5:case"end":return e.stop()}}),e)}))),He.apply(this,arguments)}function Ke(e,t,n){return We.apply(this,arguments)}function We(){return We=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:n.Buffer.from(t.message.cadence).toString("base64"),arguments:t.message.arguments.map((function(e){return n.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")}))}});case 3:return o=e.sent,e.abrupt("return",Ve(t,n,o));case 5:case"end":return e.stop()}}),e)}))),We.apply(this,arguments)}function Ve(e,t,n){var r=t.response();return r.tag=e.tag,r.encodedData=JSON.parse(t.Buffer.from(n,"base64").toString()),r}function Je(e){return Xe.apply(this,arguments)}function Xe(){return Xe=l(d().mark((function e(t){var n,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},le((r=a.length>2&&void 0!==a[2]?a[2]:{}).node,"SDK Send Execute Script Error: opts.node must be defined."),le(n.response,"SDK Send Execute Script Error: context.response must be defined."),le(n.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),e.next=7,t;case 7:if(!(t=e.sent).block.id){e.next=14;break}return e.next=11,ze(t,n,r);case 11:case 17:case 22:return e.abrupt("return",e.sent);case 14:if(!t.block.height){e.next=20;break}return e.next=17,qe(t,n,r);case 20:return e.next=22,Ke(t,n,r);case 23:case"end":return e.stop()}}),e)}))),Xe.apply(this,arguments)}var $e={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},Ze={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};function Qe(e,t,n){return et.apply(this,arguments)}function et(){return(et=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/accounts/".concat(t.account.addr,"?block_height=").concat(t.block.height,"&expand=contracts,keys"),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",rt(t,n,o));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e,t,n){return nt.apply(this,arguments)}function nt(){return(nt=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/accounts/".concat(t.account.addr,"?block_height=sealed&expand=contracts,keys"),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",rt(t,n,o));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t,n){var r,a,o=t.response();o.tag=e.tag;return o.account={address:n.address,balance:Number(n.balance),code:"",contracts:function(e){var n={};if(!e)return n;for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];n[o]=t.Buffer.from(e[o],"base64").toString()}return n}(n.contracts),keys:null!==(r=null===(a=n.keys)||void 0===a?void 0:a.map((function(e){return{index:Number(e.index),publicKey:e.public_key.replace(/^0x/,""),signAlgo:Ze[e.signing_algorithm],signAlgoString:e.signing_algorithm,hashAlgo:$e[e.hashing_algorithm],hashAlgoString:e.hashing_algorithm,sequenceNumber:Number(e.sequence_number),weight:Number(e.weight),revoked:e.revoked}})))&&void 0!==r?r:[]},o}function at(e){return ot.apply(this,arguments)}function ot(){return ot=l(d().mark((function e(t){var n,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},le((r=a.length>2&&void 0!==a[2]?a[2]:{}).node,"SDK Send Get Account Error: opts.node must be defined."),le(n.response,"SDK Send Get Account Error: context.response must be defined."),le(n.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),e.next=7,t;case 7:if(null===(t=e.sent).block.height){e.next=14;break}return e.next=11,Qe(t,n,r);case 11:case 16:return e.abrupt("return",e.sent);case 14:return e.next=16,tt(t,n,r);case 17:case"end":return e.stop()}}),e)}))),ot.apply(this,arguments)}function ut(e,t,n){return ct.apply(this,arguments)}function ct(){return(ct=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/blocks/".concat(t.block.id),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",pt(t,n,o));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t,n){return st.apply(this,arguments)}function st(){return(st=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/blocks?height=".concat(t.block.height),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",pt(t,n,o));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t,n){return lt.apply(this,arguments)}function lt(){return(lt=l(d().mark((function e(t,n,r){var a,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ue,u=null!==(a=t.block)&&void 0!==a&&a.isSealed?"sealed":"finalized",e.next=4,o({hostname:r.node,path:"/v1/blocks?height=".concat(u),method:"GET",body:null});case 4:return c=e.sent,e.abrupt("return",pt(t,n,c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t,n){var r=n.length?n[0]:null,a=t.response();return a.tag=e.tag,a.blockHeader={id:r.header.id,parentId:r.header.parent_id,height:Number(r.header.height),timestamp:r.header.timestamp},a}function dt(e){return vt.apply(this,arguments)}function vt(){return vt=l(d().mark((function e(t){var n,r,a,o,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},le((r=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Block Header Error: opts.node must be defined."),le(n.response,"SDK Send Get Block Header Error: context.response must be defined."),e.next=6,t;case 6:if(t=e.sent,a=null!==t.block.id,o=null!==t.block.height,!a){e.next=15;break}return e.next=12,ut(t,n,r);case 12:case 18:case 23:return e.abrupt("return",e.sent);case 15:if(!o){e.next=21;break}return e.next=18,it(t,n,r);case 21:return e.next=23,ft(t,n,r);case 24:case"end":return e.stop()}}),e)}))),vt.apply(this,arguments)}function ht(e,t,n){return mt.apply(this,arguments)}function mt(){return(mt=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/blocks/".concat(t.block.id,"?expand=payload"),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",xt(t,n,o));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t,n){return gt.apply(this,arguments)}function gt(){return(gt=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/blocks?height=".concat(t.block.height,"&expand=payload"),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",xt(t,n,o));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t,n){return wt.apply(this,arguments)}function wt(){return(wt=l(d().mark((function e(t,n,r){var a,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ue,u=null!==(a=t.block)&&void 0!==a&&a.isSealed?"sealed":"final",e.next=4,o({hostname:r.node,path:"/v1/blocks?height=".concat(u,"&expand=payload"),method:"GET",body:null});case 4:return c=e.sent,e.abrupt("return",xt(t,n,c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e,t,n){var r=n.length?n[0]:null,a=t.response();return a.tag=e.tag,a.block={id:r.header.id,parentId:r.header.parent_id,height:Number(r.header.height),timestamp:r.header.timestamp,collectionGuarantees:r.payload.collection_guarantees.map((function(e){return{collectionId:e.collection_id,signerIds:e.signer_ids}})),blockSeals:r.payload.block_seals.map((function(e){return{blockId:e.block_id,executionReceiptId:e.result_id}}))},a}function kt(e){return Et.apply(this,arguments)}function Et(){return Et=l(d().mark((function e(t){var n,r,a,o,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},le((r=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Block Error: opts.node must be defined."),le(n.response,"SDK Send Get Block Error: context.response must be defined."),e.next=6,t;case 6:if(t=e.sent,a=null!==t.block.id,o=null!==t.block.height,!a){e.next=15;break}return e.next=12,ht(t,n,r);case 12:case 18:case 23:return e.abrupt("return",e.sent);case 15:if(!o){e.next=21;break}return e.next=18,yt(t,n,r);case 21:return e.next=23,bt(t,n,r);case 24:case"end":return e.stop()}}),e)}))),Et.apply(this,arguments)}function St(e){return It.apply(this,arguments)}function It(){return It=l(d().mark((function e(t){var n,r,a,o,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},le((r=c.length>2&&void 0!==c[2]?c[2]:{}).node,"SDK Send Get Collection Error: opts.node must be defined."),le(n.response,"SDK Send Get Collection Error: context.response must be defined."),a=r.httpRequest||Ue,e.next=7,a({hostname:r.node,path:"/v1/collections/".concat(t.collection.id,"?expand=transactions"),method:"GET",body:null});case 7:return o=e.sent,(u=n.response()).tag=t.tag,u.collection={id:o.id,transactionIds:o.transactions.map((function(e){return e.id}))},e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),It.apply(this,arguments)}function Rt(e,t,n){return At.apply(this,arguments)}function At(){return(At=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/events?type=".concat(t.events.eventType,"&start_height=").concat(t.events.start,"&end_height=").concat(t.events.end),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",Ct(t,n,o));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e,t,n){return _t.apply(this,arguments)}function _t(){return(_t=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ue,e.next=3,a({hostname:r.node,path:"/v1/events?type=".concat(t.events.eventType,"&block_ids=").concat(t.events.blockIds.join(",")),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",Ct(t,n,o));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e,t,n){var r=t.response();return r.tag=e.tag,r.events=[],n.forEach((function(e){return e.events?e.events.forEach((function(n){return r.events.push({blockId:e.block_id,blockHeight:Number(e.block_height),blockTimestamp:e.block_timestamp,type:n.type,transactionId:n.transaction_id,transactionIndex:Number(n.transaction_index),eventIndex:Number(n.event_index),payload:JSON.parse(t.Buffer.from(n.payload,"base64").toString())})})):null})),r}function Ot(e){return Pt.apply(this,arguments)}function Pt(){return Pt=l(d().mark((function e(t){var n,r,a,o,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},le((r=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Events Error: opts.node must be defined."),le(n.response,"SDK Send Get Events Error: context.response must be defined."),le(n.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),e.next=7,t;case 7:if(t=e.sent,a=null!==t.events.start,o=Array.isArray(t.events.blockIds)&&t.events.blockIds.length>0,le(a||o,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),!a){e.next=17;break}return e.next=14,Rt(t,n,r);case 14:case 19:return e.abrupt("return",e.sent);case 17:return e.next=19,Tt(t,n,r);case 20:case"end":return e.stop()}}),e)}))),Pt.apply(this,arguments)}function Nt(e){return Lt.apply(this,arguments)}function Lt(){return Lt=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},le((r=f.length>2&&void 0!==f[2]?f[2]:{}).node,"SDK Send Get Transaction Error: opts.node must be defined."),le(n.response,"SDK Send Get Transaction Error: context.response must be defined."),le(n.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined."),a=r.httpRequest||Ue,e.next=8,t;case 8:return t=e.sent,e.next=11,a({hostname:r.node,path:"/v1/transactions/".concat(t.transaction.id),method:"GET",body:null});case 11:return o=e.sent,u=function(e){return{address:e.address,keyId:Number(e.key_id),sequenceNumber:Number(e.sequence_number)}},c=function(e){return{address:e.address,keyId:Number(e.key_index),signature:e.signature}},i=function(e){return JSON.parse(n.Buffer.from(e,"base64").toString())},(s=n.response()).tag=t.tag,s.transaction={script:n.Buffer.from(o.script,"base64").toString(),args:pe(o.arguments.map(i)),referenceBlockId:o.reference_block_id,gasLimit:Number(o.gas_limit),payer:o.payer,proposalKey:o.proposal_key?u(o.proposal_key):o.proposal_key,authorizers:o.authorizers,payloadSignatures:pe(o.payload_signatures.map(c)),envelopeSignatures:pe(o.envelope_signatures.map(c))},e.abrupt("return",s);case 19:case"end":return e.stop()}}),e)}))),Lt.apply(this,arguments)}var Ft={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};function jt(e){return Gt.apply(this,arguments)}function Gt(){return Gt=l(d().mark((function e(t){var n,r,a,o,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},le((r=c.length>2&&void 0!==c[2]?c[2]:{}).node,"SDK Send Get Transaction Status Error: opts.node must be defined."),le(n.response,"SDK Send Get Transaction Status Error: context.response must be defined."),le(n.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined."),a=r.httpRequest||Ue,e.next=8,t;case 8:return t=e.sent,e.next=11,a({hostname:r.node,path:"/v1/transaction_results/".concat(t.transaction.id),method:"GET",body:null});case 11:return o=e.sent,(u=n.response()).tag=t.tag,u.transactionStatus={blockId:o.block_id,status:Ft[o.status.toUpperCase()]||"",statusString:o.status.toUpperCase(),statusCode:o.status_code,errorMessage:o.error_message,events:o.events.map((function(e){return{type:e.type,transactionId:e.transaction_id,transactionIndex:Number(e.transaction_index),eventIndex:Number(e.event_index),payload:JSON.parse(n.Buffer.from(e.payload,"base64").toString())}}))},e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)}))),Gt.apply(this,arguments)}function Dt(e){return Ut.apply(this,arguments)}function Ut(){return Ut=l(d().mark((function e(t){var n,r,a,o,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},le((r=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Ping Error: opts.node must be defined."),le(n.response,"SDK Send Ping Error: context.response must be defined."),a=r.httpRequest||Ue,e.next=7,a({hostname:r.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});case 7:return(o=n.response()).tag=t.tag,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ut.apply(this,arguments)}var Bt=function(e){return"".concat(withPrefix(e.addr),"-").concat(e.keyId)};function Mt(e){return zt.apply(this,arguments)}function zt(){return zt=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f,l,p,v,h,m,y,g,b=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>1&&void 0!==b[1]?b[1]:{},le((r=b.length>2&&void 0!==b[2]?b[2]:{}).node,"SDK Send Transaction Error: opts.node must be defined."),le(n.response,"SDK Send Transaction Error: context.response must be defined."),le(n.Buffer,"SDK Send Transaction Error: context.Buffer must be defined."),a=r.httpRequest||Ue,e.next=8,t;case 8:t=e.sent,o=[],u=0,c=Object.values(t.accounts);case 11:if(!(u<c.length)){e.next=24;break}i=c[u],e.prev=13,i.role.payer||null==i.signature||o.push({address:Fe(i.addr),key_index:String(i.keyId),signature:n.Buffer.from(i.signature,"hex").toString("base64")}),e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(13),console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:i,ix:t}),e.t0;case 21:u++,e.next=11;break;case 24:s={},f=0,l=Object.values(t.accounts);case 26:if(!(f<l.length)){e.next=39;break}p=l[f],e.prev=28,p.role.payer&&null!=p.signature&&(v=p.tempId||Bt(p),s[v]=s[v]||{address:Fe(p.addr),key_index:String(p.keyId),signature:n.Buffer.from(p.signature,"hex").toString("base64")}),e.next=36;break;case 32:throw e.prev=32,e.t1=e.catch(28),console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:p,ix:t}),e.t1;case 36:f++,e.next=26;break;case 39:return s=Object.values(s),h=Date.now(),e.next=43,a({hostname:r.node,path:"/v1/transactions",method:"POST",body:{script:n.Buffer.from(t.message.cadence).toString("base64"),arguments:pe(t.message.arguments.map((function(e){return n.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")}))),reference_block_id:t.message.refBlock?t.message.refBlock:null,gas_limit:String(t.message.computeLimit),payer:Fe(t.accounts[Array.isArray(t.payer)?t.payer[0]:t.payer].addr),proposal_key:{address:Fe(t.accounts[t.proposer].addr),key_index:String(t.accounts[t.proposer].keyId),sequence_number:String(t.accounts[t.proposer].sequenceNum)},authorizers:t.authorizations.map((function(e){return t.accounts[e].addr})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(pe(e),[t])}),[]).map(Fe),payload_signatures:o,envelope_signatures:s}});case 43:return m=e.sent,y=Date.now(),(g=n.response()).tag=t.tag,g.transactionId=m.id,"undefined"!==typeof window&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:g.transactionId,delta:y-h}})),e.abrupt("return",g);case 50:case"end":return e.stop()}}),e,null,[[13,17],[28,32]])}))),zt.apply(this,arguments)}var Yt,qt=function(){var e=l(d().mark((function e(t){var n,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},le((r=a.length>2&&void 0!==a[2]?a[2]:{}).node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),le(n.ix,"SDK Send Error: context.ix must be defined."),e.next=6,t;case 6:t=e.sent,e.t0=!0,e.next=e.t0===n.ix.isTransaction(t)?10:e.t0===n.ix.isGetTransactionStatus(t)?11:e.t0===n.ix.isGetTransaction(t)?12:e.t0===n.ix.isScript(t)?13:e.t0===n.ix.isGetAccount(t)?14:e.t0===n.ix.isGetEvents(t)?15:e.t0===n.ix.isGetBlock(t)?16:e.t0===n.ix.isGetBlockHeader(t)?17:e.t0===n.ix.isGetCollection(t)?18:e.t0===n.ix.isPing(t)?19:20;break;case 10:return e.abrupt("return",r.sendTransaction?r.sendTransaction(t,n,r):Mt(t,n,r));case 11:return e.abrupt("return",r.sendGetTransactionStatus?r.sendGetTransactionStatus(t,n,r):jt(t,n,r));case 12:return e.abrupt("return",r.sendGetTransaction?r.sendGetTransaction(t,n,r):Nt(t,n,r));case 13:return e.abrupt("return",r.sendExecuteScript?r.sendExecuteScript(t,n,r):Je(t,n,r));case 14:return e.abrupt("return",r.sendGetAccount?r.sendGetAccount(t,n,r):at(t,n,r));case 15:return e.abrupt("return",r.sendGetEvents?r.sendGetEvents(t,n,r):Ot(t,n,r));case 16:return e.abrupt("return",r.sendGetBlock?r.sendGetBlock(t,n,r):kt(t,n,r));case 17:return e.abrupt("return",r.sendGetBlockHeader?r.sendGetBlockHeader(t,n,r):dt(t,n,r));case 18:return e.abrupt("return",r.sendGetCollection?r.sendGetCollection(t,n,r):St(t,n,r));case 19:return e.abrupt("return",r.sendPing?r.sendPing(t,n,r):Dt(t,n,r));case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=n(4053),Kt="function"===typeof queueMicrotask?queueMicrotask:function(e){return(Yt||(Yt=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},Wt=function(){var e,t=[];return{deliver:function(n){return l(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.push(n),e&&(e(t.shift()),e=void 0);case 2:case"end":return r.stop()}}),r)})))()},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}},Vt="INIT",Jt="SUBSCRIBE",Xt="UNSUBSCRIBE",$t="UPDATED",Zt="EXIT",Qt="TERMINATE",en="object"===("undefined"===typeof self?"undefined":m(self))&&self.self===self&&self||"object"===("undefined"===typeof n.g?"undefined":m(n.g))&&n.g.global===n.g&&n.g||"object"===("undefined"===typeof window?"undefined":m(window))&&window.window===window&&window;en.FCL_REGISTRY=null==en.FCL_REGISTRY?{}:en.FCL_REGISTRY;var tn,nn=0,rn=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(a,o){var u=r.expectReply||!1,c=null!=r.timeout?r.timeout:5e3;u&&c&&setTimeout((function(){return o(new Error("Timeout: ".concat(c,"ms passed without a response.")))}),c);var i={to:e,from:r.from,tag:t,data:n,timeout:c,reply:a,reject:o};try{en.FCL_REGISTRY[e]&&en.FCL_REGISTRY[e].mailbox.deliver(i),u||a(!0)}catch(s){console.error("FCL.Actor -- Could Not Deliver Message",i,en.FCL_REGISTRY[e],s)}}))},an=function(e){delete en.FCL_REGISTRY[e]},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=l(d().mark((function t(n){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e[Vt]){t.next=3;break}return t.next=3,e[Vt](n);case 3:return t.next=6,n.receive();case 6:if(r=t.sent,t.prev=7,r.tag!==Zt){t.next=13;break}if("function"!==typeof e[Qt]){t.next=12;break}return t.next=12,e[Qt](n,r,r.data||{});case 12:return t.abrupt("break",25);case 13:return t.next=15,e[r.tag](n,r,r.data||{});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),console.error("".concat(n.self()," Error"),r,t.t0);case 20:return t.prev=20,t.abrupt("continue",3);case 23:t.next=3;break;case 25:case"end":return t.stop()}}),t,null,[[7,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()},un=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t&&(t=++nn),null!=en.FCL_REGISTRY[t])return t;en.FCL_REGISTRY[t]={addr:t,mailbox:Wt(),subs:new Set,kvs:{},error:null};var n={self:function(){return t},receive:function(){return en.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.from=t,rn(e,n,r,a)},sendSelf:function(e,n,r){en.FCL_REGISTRY[t]&&rn(t,e,n,r)},broadcast:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.from=t;var a,o=x(en.FCL_REGISTRY[t].subs);try{for(o.s();!(a=o.n()).done;){var u=a.value;rn(u,e,n,r)}}catch(c){o.e(c)}finally{o.f()}},subscribe:function(e){return null!=e&&en.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&en.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return en.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!en.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(en.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=en.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete en.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(en.FCL_REGISTRY[t].kvs[e]=n(en.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(en.FCL_REGISTRY[t].kvs)},all:function(){return en.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(en.FCL_REGISTRY[t].kvs).reduce((function(n,r){return e.test(r)?w(w({},n),{},g({},r,en.FCL_REGISTRY[t].kvs[r])):n}),{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(n){return en.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){en.FCL_REGISTRY[t].error=e;var n,r=x(en.FCL_REGISTRY[t].subs);try{for(r.s();!(n=r.n()).done;){var a=n.value;rn(a,$t)}}catch(o){r.e(o)}finally{r.f()}}};return"object"===m(e)&&(e=on(e)),Kt(l(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(n);case 2:an(t);case 3:case"end":return r.stop()}}),r)})))),t};var cn="config",sn="PUT_CONFIG",fn="GET_CONFIG",ln="GET_ALL_CONFIG",pn="UPDATE_CONFIG",dn="DELETE_CONFIG",vn="CLEAR_CONFIG",hn="WHERE_CONFIG",mn="CONFIG/UPDATED",yn=function(e){return e},gn=(g(tn={},sn,(function(e,t,n){var r=n.key,a=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,a),e.broadcast(mn,w({},e.all()))})),g(tn,fn,(function(e,t,n){var r=n.key,a=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,a))})),g(tn,ln,(function(e,t){t.reply(w({},e.all()))})),g(tn,pn,(function(e,t,n){var r=n.key,a=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,a||yn),e.broadcast(mn,w({},e.all()))})),g(tn,dn,(function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(mn,w({},e.all()))})),g(tn,vn,(function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var a=r[n];e.delete(a)}e.broadcast(mn,w({},e.all()))})),g(tn,hn,(function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))})),g(tn,Jt,(function(e,t){e.subscribe(t.from),e.send(t.from,mn,w({},e.all()))})),g(tn,Xt,(function(e,t){e.unsubscribe(t.from)})),tn);function bn(e,t){return rn(cn,sn,{key:e,value:t}),_n()}function wn(e,t){return rn(cn,fn,{key:e,fallback:t},{expectReply:!0,timeout:10})}function xn(){return kn.apply(this,arguments)}function kn(){return kn=l(d().mark((function e(){var t,n,r,a,o,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:[],n=c.length>1?c[1]:void 0,t.length){e.next=4;break}return e.abrupt("return",n);case 4:return r=h(t),a=r[0],o=r.slice(1),e.next=7,wn(a);case 7:if(null!=(u=e.sent)){e.next=10;break}return e.abrupt("return",xn(o,n));case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),kn.apply(this,arguments)}function En(){return rn(cn,ln,null,{expectReply:!0,timeout:10})}function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yn;return rn(cn,pn,{key:e,fn:t}),_n()}function In(e){return rn(cn,dn,{key:e}),_n()}function Rn(e){return rn(cn,hn,{pattern:e},{expectReply:!0,timeout:10})}function An(e){return function(e,t,n){t(e);var r="@EXIT",a=un(function(){var t=l(d().mark((function t(a){var o,u;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.send(e,Jt);case 1:return t.next=4,a.receive();case 4:if(o=t.sent,u=en.FCL_REGISTRY[e].error,o.tag!==r){t.next=9;break}return a.send(e,Xt),t.abrupt("return");case 9:if(!u){t.next=13;break}return n(null,u),a.send(e,Xt),t.abrupt("return");case 13:n(o.data,null),t.next=1;break;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return rn(a,r)}}(cn,(function(){return un(gn,cn)}),e)}function Tn(){return rn(cn,vn)}function _n(e){return null!=e&&"object"===m(e)&&Object.keys(e).map((function(t){return bn(t,e[t])})),{put:bn,get:wn,all:En,first:xn,update:Sn,delete:In,where:Rn,subscribe:An,overload:On}}un(gn,cn),_n.put=bn,_n.get=wn,_n.all=En,_n.first=xn,_n.update=Sn,_n.delete=In,_n.where=Rn,_n.subscribe=An,_n.overload=On;var Cn=function(e){return e};function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn;return new Promise(function(){var n=l(d().mark((function n(r,a){var o,u;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,En();case 2:return o=n.sent,n.prev=3,_n(e),n.t0=t,n.next=8,En();case 8:return n.t1=n.sent,n.next=11,(0,n.t0)(n.t1);case 11:return u=n.sent,n.next=14,Tn();case 14:return n.next=16,_n(o);case 16:r(u),n.next=26;break;case 19:return n.prev=19,n.t2=n.catch(3),n.next=23,Tn();case 23:return n.next=25,_n(o);case 25:a(n.t2);case 26:case"end":return n.stop()}}),n,null,[[3,19]])})));return function(e,t){return n.apply(this,arguments)}}())}var Pn=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Nn=function(e){var t=e.title,n=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(n,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},Ln=function(){var e=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f,l,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.title,i=t.message,s=t.level,f=t.always,l=void 0!==f&&f,e.next=3,_n.get("logger.level",Pn.warn);case 3:if(p=e.sent,l||!(p<s)){e.next=6;break}return e.abrupt("return");case 6:v=Nn({title:c,message:i}),e.t0=s,e.next=e.t0===Pn.debug?10:e.t0===Pn.info?12:e.t0===Pn.warn?14:e.t0===Pn.error?16:18;break;case 10:return(n=console).debug.apply(n,pe(v)),e.abrupt("break",19);case 12:return(r=console).info.apply(r,pe(v)),e.abrupt("break",19);case 14:return(a=console).warn.apply(a,pe(v)),e.abrupt("break",19);case 16:return(o=console).error.apply(o,pe(v)),e.abrupt("break",19);case 18:(u=console).log.apply(u,pe(v));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e.length&&!t.length)return n;if(!e.length)return n;if(!t.length)return[].concat(pe(n),[e[0]]);var r=h(e),a=r[0],o=r.slice(1),u=h(t),c=u[0],i=u.slice(1);return void 0!==a&&n.push(a),void 0!==c&&n.push(c),Fn(o,i,n)}function jn(e){return function(t){return"function"===typeof t?(Ln.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),jn(e)(t(e))):String(t)}}function Gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"string"===typeof e?function(){return e}:Array.isArray(e)?function(t){return Fn(e,n.map(jn(t))).join("").trim()}:e}function Dn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}Ln.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,a=e.level,o=void 0===a?Pn.warn:a,u=e.message,c=void 0===u?"":u,i=e.callback,s=void 0===i?null:i,f=function(){return Ln({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((e=n,e.charAt(0).toUpperCase()+e.slice(1))," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(c?"\n"+c:"").concat(r?"\nYou can learn more (including a guide on common transition paths) here: ".concat(r):"","\n    ").trim(),level:o});var e};return"function"===typeof s?l(d().mark((function e(){var t=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return e.next=4,s.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))):f()};var Un="UNKNOWN",Bn="SCRIPT",Mn="TRANSACTION",zn="GET_TRANSACTION_STATUS",Yn="GET_ACCOUNT",qn="GET_EVENTS",Hn="PING",Kn="GET_TRANSACTION",Wn="GET_BLOCK",Vn="GET_BLOCK_HEADER",Jn="GET_COLLECTION",Xn="BAD",$n="OK",Zn="ACCOUNT",Qn="PARAM",er="ARGUMENT",tr="authorizer",nr="payer",rr="proposer",ar='{\n  "kind":"'.concat(Zn,'",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),or='{\n  "kind":"'.concat(er,'",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}'),ur='{\n  "tag":"'.concat(Un,'",\n  "assigns":{},\n  "status":"').concat($n,'",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":[],\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}'),cr=new Set(Object.keys(JSON.parse(ur))),ir=function(){return JSON.parse(ur)},sr="abcdefghijklmnopqrstuvwxyz0123456789".split(""),fr=function(){return sr[~~(Math.random()*sr.length)]},lr=function(){return Array.from({length:10},fr).join("")},pr=function(e){return"number"===typeof e},dr=function(e){return Array.isArray(e)},vr=function(e){return null!==e&&"object"===m(e)},hr=function(e){return null==e},mr=function(e){return"function"===typeof e},yr=function(e){if(!vr(e)||hr(e)||pr(e))return!1;var t,n=x(cr);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!e.hasOwnProperty(r))return!1}}catch(a){n.e(a)}finally{n.f()}return!0},gr=function(e){return e.status=$n,e},br=function(e,t){return e.status=Xn,e.reason=t,e},wr=function(e){return function(t){return t.tag=e,gr(t)}},xr=function(e){return null==e.keyId?e:(le(!isNaN(parseInt(e.keyId)),"account.keyId must be an integer"),w(w({},e),{},{keyId:parseInt(e.keyId)}))},kr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){le("function"===typeof e||"object"===m(e),"prepAccount must be passed an authorization function or an account object"),le(null!=t.role,"Account must have a role");var r=JSON.parse(ar),a=t.role,o=lr();e.authorization&&mr(e.authorization)&&(e={resolve:e.authorization}),!e.authorization&&mr(e)&&(e={resolve:e});var u=e.resolve;return u&&(e.resolve=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[u,xr].reduce(function(){var e=l(d().mark((function e(t,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=void 0,e.next=4,t;case 4:return e.t2=e.sent,e.t3=[e.t2].concat(n),e.abrupt("return",e.t0.apply.call(e.t0,e.t1,e.t3));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e)}),e=xr(e),n.accounts[o]=w(w(w({},r),{},{tempId:o},e),{},{role:w(w(w({},r.role),"object"===m(e.role)?e.role:{}),{},g({},a,!0))}),a===tr?n.authorizations.push(o):a===nr?n.payer.push(o):n[a]=o,n}},Er=function(e){return function(t){var n=lr();return t.message.arguments.push(n),t.arguments[n]=JSON.parse(or),t.arguments[n].tempId=n,t.arguments[n].value=e.value,t.arguments[n].asArgument=e.asArgument,t.arguments[n].xform=e.xform,t.arguments[n].resolve=e.resolve,t.arguments[n].resolveArgument=mr(e.resolveArgument)?e.resolveArgument.bind(e):e.resolveArgument,gr(t)}},Sr=wr(Un),Ir=wr(Bn),Rr=wr(Mn),Ar=wr(zn),Tr=wr(Kn),_r=wr(Yn),Cr=wr(qn),Or=wr(Hn),Pr=wr(Wn),Nr=wr(Vn),Lr=wr(Jn),Fr=function(e){return function(t){return t.tag===e}},jr=Fr(Un),Gr=Fr(Bn),Dr=Fr(Mn),Ur=Fr(zn),Br=Fr(Kn),Mr=Fr(Yn),zr=Fr(qn),Yr=Fr(Hn),qr=Fr(Wn),Hr=Fr(Vn),Kr=Fr(Jn),Wr=function(e){return e.status===$n},Vr=function(e){return e.status===Xn},Jr=function(e){return e.reason},Xr=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(!cr.has(r))throw new Error('"'.concat(r,'" is an invalid root level Interaction property.'))}return e},$r=function(){var e=l(d().mark((function e(t){var n,r,a,o,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:[],e.prev=1,e.t0=Xr,e.next=5,t;case 5:if(e.t1=e.sent,t=(0,e.t0)(e.t1),!Vr(t)){e.next=9;break}throw new Error("Interaction Error: ".concat(t.reason));case 9:if(n.length){e.next=11;break}return e.abrupt("return",t);case 11:return r=h(n),a=r[0],o=r.slice(1),e.next=14,a;case 14:if(u=e.sent,!mr(u)){e.next=17;break}return e.abrupt("return",$r(u(t),o));case 17:if(!hr(u)&&u){e.next=19;break}return e.abrupt("return",$r(t,o));case 19:if(!yr(u)){e.next=21;break}return e.abrupt("return",$r(u,o));case 21:throw new Error("Invalid Interaction Composition");case 24:throw e.prev=24,e.t2=e.catch(1),e.t2;case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(t){return e.apply(this,arguments)}}(),Zr=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1];return dr(a)&&null==o?function(t){return e(t,a)}:$r(a,o)},Qr=function(e){return e},ea=function(e,t,n){return null==e.assigns[t]?n:e.assigns[t]},ta=function(e,t){return function(n){return n.assigns[e]=t,gr(n)}},na=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qr;return function(n){return n.assigns[e]=t(n.assigns[e],n),gr(n)}},ra=Object.freeze({__proto__:null,UNKNOWN:Un,SCRIPT:Bn,TRANSACTION:Mn,GET_TRANSACTION_STATUS:zn,GET_ACCOUNT:Yn,GET_EVENTS:qn,PING:Hn,GET_TRANSACTION:Kn,GET_BLOCK:Wn,GET_BLOCK_HEADER:Vn,GET_COLLECTION:Jn,BAD:Xn,OK:$n,ACCOUNT:Zn,PARAM:Qn,ARGUMENT:er,AUTHORIZER:tr,PAYER:nr,PROPOSER:rr,interaction:ir,uuid:lr,isNumber:pr,isArray:dr,isObj:vr,isNull:hr,isFn:mr,isInteraction:yr,Ok:gr,Bad:br,prepAccount:kr,makeArgument:Er,makeUnknown:Sr,makeScript:Ir,makeTransaction:Rr,makeGetTransactionStatus:Ar,makeGetTransaction:Tr,makeGetAccount:_r,makeGetEvents:Cr,makePing:Or,makeGetBlock:Pr,makeGetBlockHeader:Nr,makeGetCollection:Lr,isUnknown:jr,isScript:Gr,isTransaction:Dr,isGetTransactionStatus:Ur,isGetTransaction:Br,isGetAccount:Mr,isGetEvents:zr,isPing:Yr,isGetBlock:qr,isGetBlockHeader:Hr,isGetCollection:Kr,isOk:Wr,isBad:Vr,why:Jr,isAccount:function(e){return e.kind===Zn},isParam:function(e){return e.kind===Qn},isArgument:function(e){return e.kind===er},pipe:Zr,get:ea,put:ta,update:na,destroy:function(e){return function(t){return delete t.assigns[e],gr(t)}}});function aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Zr(ir(),e)}var oa=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}')};function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Zr([Pr,function(t){return t.block.isSealed=e,gr(t)}])}function ca(e){return Zr([_r,function(t){return t.account.addr=Fe(e),gr(t)}])}var ia=function(){he.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})},sa=function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fa=function(){var e=l(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),la=function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.staticType);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pa=function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{domain:t.domain,identifier:t.identifier});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),da=function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{path:t.path,address:t.address,borrowType:t.borrowType});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),va=function(){var e=l(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,xa(t,n,r);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=null;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ha=function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{address:t.address,type:t.type});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ma=function(){var e=l(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return new Promise(function(){var t=l(d().mark((function t(a){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,xa(e,n,[].concat(pe(r),[e.type]));case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ya=function(){var e=l(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.reduce(function(){var e=l(d().mark((function e(t,a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return t=e.sent,e.next=5,xa(a.key,n,[].concat(pe(r),[a.key]));case 5:return e.t0=e.sent,e.next=8,xa(a.value,n,[].concat(pe(r),[a.key]));case 8:return t[e.t0]=e.sent,e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve({}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ga=function(){var e=l(d().mark((function e(t,n,r){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fields.reduce(function(){var e=l(d().mark((function e(t,a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return t=e.sent,e.next=5,xa(a.value,n,[].concat(pe(r),[a.name]));case 5:return t[a.name]=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve({}));case 2:if(a=e.sent,!(o=t.id&&wa(n,t.id))){e.next=10;break}return e.next=7,o(a);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=a;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ba={UInt:sa,Int:sa,UInt8:sa,Int8:sa,UInt16:sa,Int16:sa,UInt32:sa,Int32:sa,UInt64:sa,Int64:sa,UInt128:sa,Int128:sa,UInt256:sa,Int256:sa,Word8:sa,Word16:sa,Word32:sa,Word64:sa,UFix64:sa,Fix64:sa,String:sa,Character:sa,Bool:sa,Address:sa,Void:fa,Optional:va,Reference:ha,Array:ma,Dictionary:ya,Event:ga,Resource:ga,Struct:ga,Enum:ga,Type:la,Path:pa,Capability:da},wa=function(e,t){var n=Object.keys(e).find((function(e){return/^\/.*\/$/.test(e)?new RegExp(e.substring(1,e.length-1)).test(t):e===t}));return t&&n&&e[n]},xa=function(){var e=l(d().mark((function e(t,n,r){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=wa(n,t.type)){e.next=3;break}throw new Error("Undefined Decoder Error: ".concat(t.type,"@").concat(r.join(".")));case 3:return e.next=5,a(t.value,n,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ka=function(){var e=l(d().mark((function e(t){var n,r,a,o,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2&&void 0!==u[2]?u[2]:[],a=Object.keys(ba).filter((function(e){return!Object.keys(n).find((function(t){return new RegExp(t).test(e)}))})).reduce((function(e,t){return e[t]=ba[t],e}),n),o=w(w({},a),n),e.abrupt("return",xa(t,o,r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ea=function(){var e=l(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:{},!t.encodedData){e.next=5;break}return e.abrupt("return",ka(t.encodedData,n));case 5:if(!t.transactionStatus){e.next=16;break}return e.t0=w,e.t1=w({},t.transactionStatus),e.t2={},e.next=11,Promise.all(t.transactionStatus.events.map(function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.type,e.t1=t.transactionId,e.t2=t.transactionIndex,e.t3=t.eventIndex,e.next=6,ka(t.payload,n);case 6:return e.t4=e.sent,e.abrupt("return",{type:e.t0,transactionId:e.t1,transactionIndex:e.t2,eventIndex:e.t3,data:e.t4});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.t3=e.sent,e.t4={events:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 16:if(!t.transaction){e.next=20;break}return e.abrupt("return",t.transaction);case 20:if(!t.events){e.next=26;break}return e.next=23,Promise.all(t.events.map(function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.blockId,e.t1=t.blockHeight,e.t2=t.blockTimestamp,e.t3=t.type,e.t4=t.transactionId,e.t5=t.transactionIndex,e.t6=t.eventIndex,e.next=9,ka(t.payload,n);case 9:return e.t7=e.sent,e.abrupt("return",{blockId:e.t0,blockHeight:e.t1,blockTimestamp:e.t2,type:e.t3,transactionId:e.t4,transactionIndex:e.t5,eventIndex:e.t6,data:e.t7});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 23:return e.abrupt("return",e.sent);case 26:if(!t.account){e.next=30;break}return e.abrupt("return",t.account);case 30:if(!t.block){e.next=34;break}return e.abrupt("return",t.block);case 34:if(!t.blockHeader){e.next=38;break}return e.abrupt("return",t.blockHeader);case 38:if(!t.latestBlock){e.next=43;break}return ia(),e.abrupt("return",t.latestBlock);case 43:if(!t.transactionId){e.next=47;break}return e.abrupt("return",t.transactionId);case 47:if(!t.collection){e.next=49;break}return e.abrupt("return",t.collection);case 49:return e.abrupt("return",null);case 50:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Sa=function(e){return"function"===typeof e},Ia=function(e){return"string"===typeof e};function Ra(){return(Ra=l(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dr(t)&&!Gr(t)){e.next=11;break}if(n=ea(t,"ix.cadence"),le(Sa(n)||Ia(n),"Cadence needs to be a function or a string."),!Sa(n)){e.next=7;break}return e.next=6,n({});case 6:n=e.sent;case 7:return le(Ia(n),"Cadence needs to be a string at this point."),e.next=10,ie().where(/^0x/).then((function(e){return Object.entries(e).reduce((function(e,t){var n=s(t,2),r=n[0],a=n[1],o=new RegExp("(\\b"+r+"\\b)","g");return e.replace(o,a)}),n)}));case 10:t.message.cadence=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Aa=function(e){return"function"===typeof e};function Ta(e){return le(null!=m(e.xform),"No type specified for argument: ".concat(e.value)),Aa(e.xform)?e.xform(e.value):Aa(e.xform.asArgument)?e.xform.asArgument(e.value):void le(!1,"Invalid Argument",e)}function _a(e){return Ca.apply(this,arguments)}function Ca(){return Ca=l(d().mark((function e(t){var n,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le((n=a.length>1&&void 0!==a[1]?a[1]:3)>0,"Argument Resolve Recursion Limit Exceeded for Arg: ".concat(t.tempId)),!Aa(t.resolveArgument)){e.next=9;break}return e.next=5,t.resolveArgument();case 5:return r=e.sent,e.abrupt("return",_a(r,n-1));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Oa(){return Oa=l(d().mark((function e(t){var n,r,a,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dr(t)&&!Gr(t)){e.next=11;break}n=0,r=Object.entries(t.arguments);case 2:if(!(n<r.length)){e.next=11;break}return a=s(r[n],2),o=a[0],u=a[1],e.next=6,_a(u);case 6:c=e.sent,t.arguments[o].asArgument=Ta(c);case 8:n++,e.next=2;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}var Pa,Na,La=function(e){return Da(qa(Ka(e)))},Fa=function(e){return Da(qa(Wa(e)))},ja=function(e,t){return me.Buffer.from(e.padStart(2*t,0),"hex")},Ga=(Pa=me.Buffer.from("FLOW-V0.0-transaction").toString("hex"),Na=32,me.Buffer.from(Pa.padEnd(2*Na,0),"hex")).toString("hex"),Da=function(e){return Ga+e},Ua=function(e){return ja(e,8)},Ba=function(e){return ja(e,32)},Ma=function(e){return me.Buffer.from(JSON.stringify(e),"utf8")},za=function(e){return me.Buffer.from(e,"utf8")},Ya=function(e){return me.Buffer.from(e,"hex")},qa=function(e){return ye(e).toString("hex")},Ha=function(e){var t=new Ht.Aj(256);return t.update(me.Buffer.from(e,"hex")),t.digest().toString("hex")},Ka=function(e){return $a(e),[za(e.cadence),e.arguments.map(Ma),Ba(e.refBlock),e.computeLimit,Ua(Fe(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,Ua(Fe(e.payer)),e.authorizers.map((function(e){return Ua(Fe(e))}))]},Wa=function(e){return Za(e),[Ka(e),Va(e)]},Va=function(e){var t=Ja(e);return e.payloadSigs.map((function(e){return{signerIndex:t.get(e.address),keyId:e.keyId,sig:e.sig}})).sort((function(e,t){return e.signerIndex>t.signerIndex?1:e.signerIndex<t.signerIndex?-1:e.keyId>t.keyId?1:e.keyId<t.keyId?-1:void 0})).map((function(e){return[e.signerIndex,e.keyId,Ya(e.sig)]}))},Ja=function(e){var t=new Map,n=0,r=function(e){t.has(e)||(t.set(e,n),n++)};return r(e.proposalKey.address),r(e.payer),e.authorizers.forEach(r),t},Xa=function(e){Qa(e);var t=Ja(e),n=function(e){return e.map((function(e){var n=e.address,r=e.keyId,a=e.sig;return{signerIndex:t.get(n),keyId:r,sig:a}})).sort((function(e,t){return e.signerIndex>t.signerIndex?1:e.signerIndex<t.signerIndex?-1:e.keyId>t.keyId?1:e.keyId<t.keyId?-1:void 0})).map((function(e){return[e.signerIndex,e.keyId,Ya(e.sig)]}))};return[[za(e.cadence),e.arguments.map(Ma),Ba(e.refBlock),e.computeLimit,Ua(Fe(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,Ua(Fe(e.payer)),e.authorizers.map((function(e){return Ua(Fe(e))}))],n(e.payloadSigs),n(e.envelopeSigs)]},$a=function(e){ao.forEach((function(t){return fo(e,t)})),oo.forEach((function(t){return fo(e.proposalKey,t,"proposalKey")}))},Za=function(e){uo.forEach((function(t){return fo(e,t)})),e.payloadSigs.forEach((function(e,t){co.forEach((function(n){return fo(e,n,"payloadSigs",t)}))}))},Qa=function(e){ao.forEach((function(t){return fo(e,t)})),oo.forEach((function(t){return fo(e.proposalKey,t,"proposalKey")})),uo.forEach((function(t){return fo(e,t)})),e.payloadSigs.forEach((function(e,t){co.forEach((function(n){return fo(e,n,"payloadSigs",t)}))})),io.forEach((function(t){return fo(e,t)})),e.envelopeSigs.forEach((function(e,t){so.forEach((function(n){return fo(e,n,"envelopeSigs",t)}))}))},eo=function(e){return"number"===typeof e},to=function(e){return"string"===typeof e},no=function(e){return null!==e&&"object"===m(e)},ro=function(e){return no(e)&&e instanceof Array},ao=[{name:"cadence",check:to},{name:"arguments",check:ro},{name:"refBlock",check:to,defaultVal:"0"},{name:"computeLimit",check:eo},{name:"proposalKey",check:no},{name:"payer",check:to},{name:"authorizers",check:ro}],oo=[{name:"address",check:to},{name:"keyId",check:eo},{name:"sequenceNum",check:eo}],uo=[{name:"payloadSigs",check:ro}],co=[{name:"address",check:to},{name:"keyId",check:eo},{name:"sig",check:to}],io=[{name:"envelopeSigs",check:ro}],so=[{name:"address",check:to},{name:"keyId",check:eo},{name:"sig",check:to}],fo=function(e,t,n,r){var a=t.name,o=t.check,u=t.defaultVal;if(null==e[a]&&null!=u&&(e[a]=u),null==e[a])throw po(a,n,r);if(!o(e[a]))throw vo(a,n,r)},lo=function(e,t,n){return t?null==n?"".concat(t,".").concat(e):"".concat(t,".").concat(n,".").concat(e):e},po=function(e,t,n){return new Error("Missing field ".concat(lo(e,t,n)))},vo=function(e,t,n){return new Error("Invalid field ".concat(lo(e,t,n)))};function ho(e){var t=new Set(e.authorizations);return t.add(e.proposer),Array.isArray(e.payer)?e.payer.forEach((function(e){return t.delete(e)})):t.delete(e.payer),Array.from(t)}function mo(e){var t=new Set(Array.isArray(e.payer)?e.payer:[e.payer]);return Array.from(t)}var yo=function(e){return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map((function(t){return e.arguments[t].asArgument})),proposalKey:{address:je(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:je(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),authorizers:function(){var t=e.authorizations.map((function(t){return je(e.accounts[t].addr)})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(pe(e),[t])}),[]);return t[0]?t:[]}(),payloadSigs:ho(e).map((function(t){return{address:je(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}})),envelopeSigs:mo(e).map((function(t){return{address:je(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}}))}},go=function(e){return function(e){return Ha(qa(Xa(e)))}(e)},bo=function(e){return"".concat(je(e.addr),"-").concat(e.keyId)},wo=function(e){return"function"===typeof e};function xo(e,t){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:t.message.cadence,args:t.message.arguments.map((function(e){return t.arguments[e].asArgument})),data:{},interaction:t,voucher:yo(t)}}catch(n){throw console.error("buildPreSignable",n),n}}function ko(e,t,n){return Eo.apply(this,arguments)}function Eo(){return Eo=l(d().mark((function e(t,n,r){var a,o,u,c,i,s,f=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le(a=f.length>3&&void 0!==f[3]?f[3]:3,"Account Resolve Recursion Limit Exceeded",{ix:t,accounts:n}),o=[],u=x(n),e.prev=4,i=d().mark((function e(){var n,u,i,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.value,u=n.resolve,n.resolve=null,s=r||n,!wo(u)){e.next=8;break}return e.next=7,u(n,xo(n,t));case 7:n=e.sent;case 8:if(!Array.isArray(n)){e.next=13;break}return e.next=11,ko(t,n,s,a-1);case 11:e.next=30;break;case 13:if(n.addr&&(n.addr=Fe(n.addr)),null!=n.addr&&null!=n.keyId&&(n.tempId=bo(n)),t.accounts[n.tempId]=t.accounts[n.tempId]||n,t.accounts[n.tempId].role.proposer=t.accounts[n.tempId].role.proposer||n.role.proposer,t.accounts[n.tempId].role.payer=t.accounts[n.tempId].role.payer||n.role.payer,t.accounts[n.tempId].role.authorizer=t.accounts[n.tempId].role.authorizer||n.role.authorizer,t.accounts[n.tempId].role.proposer&&t.proposer===s.tempId&&(t.proposer=n.tempId),!t.accounts[n.tempId].role.payer){e.next=29;break}if(Array.isArray(t.payer)?t.payer=Array.from(new Set([].concat(pe(t.payer),[n.tempId]).map((function(e){return e===s.tempId?n.tempId:e})))):t.payer=Array.from(new Set([t.payer,n.tempId].map((function(e){return e===s.tempId?n.tempId:e})))),!(t.payer.length>1)){e.next=29;break}if(i=[],f=[],t.payer=t.payer.reduce((function(e,n){var r=t.accounts[n].addr,a=bo(t.accounts[n]);return f.push(r),i.includes(a)?e:(i.push(a),[].concat(pe(e),[n]))}),[]),!(Array.from(new Set(f)).length>1)){e.next=29;break}throw new Error("Payer can not be different accounts");case 29:t.accounts[n.tempId].role.authorizer&&(r?o=Array.from(new Set([].concat(pe(o),[n.tempId]))):t.authorizations=t.authorizations.map((function(e){return e===s.tempId?n.tempId:e})));case 30:s.tempId!=n.tempId&&delete t.accounts[s.tempId];case 31:case"end":return e.stop()}}),e)})),u.s();case 7:if((c=u.n()).done){e.next=11;break}return e.delegateYield(i(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),u.e(e.t1);case 16:return e.prev=16,u.f(),e.finish(16);case 19:r&&(t.authorizations=t.authorizations.map((function(e){return e===r.tempId?o:e})).reduce((function(e,t){return Array.isArray(t)?[].concat(pe(e),pe(t)):[].concat(pe(e),[t])}),[]));case 20:case"end":return e.stop()}}),e,null,[[4,13,16,19]])}))),Eo.apply(this,arguments)}function So(){return(So=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dr(t)){e.next=13;break}return Array.isArray(t.payer)||he.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."}),e.prev=2,e.next=5,ko(t,Object.values(t.accounts));case 5:return e.next=7,ko(t,Object.values(t.accounts));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),console.error("=== SAD PANDA ===\n\n",e.t0,"\n\n=== SAD PANDA ==="),e.t0;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Io(){return(Io=l(d().mark((function e(t){var n,r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dr(t)){e.next=16;break}return e.prev=1,n=ho(t),r=La(To(t)),e.next=6,Promise.all(n.map(Ro(t,r)));case 6:return a=mo(t),o=Fa(w(w({},To(t)),{},{payloadSigs:n.map((function(e){return{address:t.accounts[e].addr,keyId:t.accounts[e].keyId,sig:t.accounts[e].signature}}))})),e.next=10,Promise.all(a.map(Ro(t,o)));case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.error("Signatures",e.t0,{ix:t}),e.t0;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ro(e,t){return function(){var n=l(d().mark((function n(r){var a,o,u;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(a=e.accounts[r]).signature){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,a.signingFunction(Ao(a,t,e));case 5:o=n.sent,u=o.signature,e.accounts[r].signature=u;case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Ao(e,t,n){try{return{f_type:"Signable",f_vsn:"1.0.1",message:t,addr:Fe(e.addr),keyId:e.keyId,roles:e.role,cadence:n.message.cadence,args:n.message.arguments.map((function(e){return n.arguments[e].asArgument})),data:{},interaction:n,voucher:yo(n)}}catch(r){throw console.error("buildSignable",r),r}}function To(e){var t=Fe((Array.isArray(e.payer)?e.accounts[e.payer[0]]:e.accounts[e.payer]).addr);return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map((function(t){return e.arguments[t].asArgument})),proposalKey:{address:Fe(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:t,authorizers:e.authorizations.map((function(t){return Fe(e.accounts[t].addr)})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(pe(e),[t])}),[])}}function _o(){return(_o=l(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ea(t,"ix.validators",[]),e.abrupt("return",Zr(t,n.map((function(e){return function(t){return e(t,{Ok:gr,Bad:br})}}))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(){return(Co=l(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0,r=Object.keys(t.accounts);n<r.length;n++)a=r[n],t.accounts[a].addr=Fe(t.accounts[a].addr);return e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(){return(Oo=l(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ea(t,"ix.voucher-intercept"),!mr(n)){e.next=4;break}return e.next=4,n(yo(t));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(){return(Po=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dr(t)){e.next=8;break}if(e.t0=t.message.computeLimit,e.t0){e.next=6;break}return e.next=5,ie.get("fcl.limit");case 5:e.t0=e.sent;case 6:t.message.computeLimit=e.t0,t.message.computeLimit||(he.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),t.message.computeLimit=100);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var No=function(e){return e},Lo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:No;return function(){var n=l(d().mark((function n(r){var a,o;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=function(e){return["\nAccounts:",{proposer:e.proposer,authorizations:e.authorizations,payer:e.payer},"\n\nDetails:",e.accounts].filter(Boolean)},o=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=console).log.apply(t,["debug[".concat(e,"] ---\n")].concat(r,["\n\n\n---"]))},n.next=5,ie.get("debug.".concat(e));case 5:if(!n.sent){n.next=8;break}return n.next=8,t(r,o,a);case 8:return n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Fo=Zr([function(e){return Ra.apply(this,arguments)},Lo("cadence",(function(e,t){return t(e.message.cadence)})),function(e){return Po.apply(this,arguments)},Lo("compute limit",(function(e,t){return t(e.message.computeLimit)})),function(e){return Oa.apply(this,arguments)},Lo("arguments",(function(e,t){return t(e.message.arguments,e.message)})),function(e){return So.apply(this,arguments)},Lo("accounts",(function(e,t,n){return t.apply(void 0,pe(n(e)))})),function(e){return jo.apply(this,arguments)},function(e){return Go.apply(this,arguments)},function(e){return Io.apply(this,arguments)},Lo("signatures",(function(e,t,n){return t.apply(void 0,pe(n(e)))})),function(e){return Co.apply(this,arguments)},function(e){return _o.apply(this,arguments)},function(e){return Oo.apply(this,arguments)},Lo("resolved",(function(e,t){return t(e)}))]);function jo(){return(jo=l(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dr(t)||null!=t.message.refBlock){e.next=11;break}return e.next=3,ie().get("accessNode.api");case 3:return n=e.sent,e.next=6,ie.first(["sdk.transport","sdk.send"],qt);case 6:return le(r=e.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),e.next=10,r(aa([ua()]),{config:ie,response:oa,Buffer:me.Buffer,ix:ra},{node:n}).then(Ea);case 10:t.message.refBlock=e.sent.id;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Go(){return(Go=l(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dr(t)){e.next=20;break}if(le(n=Object.values(t.accounts).find((function(e){return e.role.proposer})),"Transactions require a proposer"),null!=n.sequenceNum){e.next=20;break}return e.next=6,ie().get("accessNode.api");case 6:return r=e.sent,e.next=9,ie.first(["sdk.transport","sdk.send"],qt);case 9:return le(a=e.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),e.t0=a,e.next=14,aa([ca(n.addr)]);case 14:return e.t1=e.sent,e.t2={config:ie,response:oa,Buffer:me.Buffer,ix:ra},e.t3={node:r},e.next=19,(0,e.t0)(e.t1,e.t2,e.t3).then(Ea).then((function(e){return e.keys})).then((function(e){return e.find((function(e){return e.index===n.keyId}))})).then((function(e){return e.sequenceNumber}));case 19:t.accounts[n.tempId].sequenceNum=e.sent;case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){var r=t[0],a=t[1];return Do((function(e,t){var n=t.Ok,o=t.Bad;return r?n(e):o(e,a)}))}var o=t[0];return function(e){return o(e,{Ok:gr,Bad:br})}}var Uo=function(){var e=l(d().mark((function e(){var t,n,r,a,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,ie.first(["sdk.transport","sdk.send"],n.send||qt);case 4:return Do(r=e.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),e.next=8,ie.first(["sdk.resolve"],n.resolve||Fo);case 8:if(a=e.sent,e.t0=n.node,e.t0){e.next=14;break}return e.next=13,ie().get("accessNode.api");case 13:e.t0=e.sent;case 14:return n.node=e.t0,Array.isArray(t)&&(t=Zr(ir(),t)),e.t1=r,e.next=19,a(t);case 19:return e.t2=e.sent,e.t3={config:ie,response:oa,ix:ra,Buffer:me.Buffer},e.t4=n,e.abrupt("return",(0,e.t1)(e.t2,e.t3,e.t4));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Bo(e){return Mo.apply(this,arguments)}function Mo(){return Mo=l(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie().where(/^decoder\./);case 2:return n=e.sent,r=Object.entries(n).map((function(e){var t=s(e,2),n=t[0],r=t[1];return[n="/".concat(n.replace(/^decoder\./,""),"$/"),r]})),e.abrupt("return",Ea(t,Object.fromEntries(r)));case 5:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}var zo=function(e){Re(n,e);var t=Ce(n);function n(e){var r;Se(this,n);var a="\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ".concat(e,". \n        Please ensure the address: ").concat(e," is intended to sign the given transaction as specified by the transaction signable.\n      ").trim();return(r=t.call(this,a)).name="Unable To Determine Message Encoding For Signer Addresss",r}return Ee(n)}(Pe(Error));function Yo(e){return na("ix.validators",(function(t){return Array.isArray(t)?t.push(e):[e]}))}function qo(e){return Zr([function(t){return t.block.height=e,t},Yo((function(e){if("boolean"===typeof e.block.isSealed)throw new Error("Unable to specify both block height and isSealed.");if(e.block.id)throw new Error("Unable to specify both block height and block id.");return e}))])}function Ho(e){return Zr([function(t){return t.block.id=e,gr(t)},Yo((function(e,t){var n=t.Ok,r=t.Bad;return Mr(e)?r(e,"Unable to specify a block id with a Get Account interaction."):"boolean"===typeof e.block.isSealed?r(e,"Unable to specify both block id and isSealed."):e.block.height?r(e,"Unable to specify both block id and block height."):n(e)}))])}function Ko(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.height,r=t.id,a=arguments.length>2?arguments[2]:void 0;return le(!(r&&n),'Method: account -- Cannot pass "id" and "height" simultaneously'),r?Uo([ca(e),Ho(r)],a).then(Ea):n?Uo([ca(e),qo(n)],a).then(Ea):Uo([ca(e)],a).then(Ea)}function Wo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sealed,n=void 0!==t&&t,r=e.id,a=e.height,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return le(!(n&&r||n&&a),'Method: block -- Cannot pass "sealed" with "id" or "height"'),le(!(r&&a),'Method: block -- Cannot pass "id" and "height" simultaneously'),r?Uo([ua(),Ho(r)],o).then(Ea):a?Uo([ua(),qo(a)],o).then(Ea):Uo([ua(n)],o).then(Ea)}function Vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Zr(e.map((function(e){return kr(e,{role:tr})})))}function Jo(e,t,n,r){return{addr:e,signingFunction:t,keyId:n,sequenceNum:r}}function Xo(e,t,n){return"undefined"===typeof t&&"undefined"===typeof n||he.deprecate({pkg:"FCL/SDK",subject:"Passing a start and end into getEvents",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder"}),Zr([Cr,function(r){return r.events.eventType=e,r.events.start=t,r.events.end=n,gr(r)}])}function $o(e,t,n){return Zr([Cr,function(r){return r.events.eventType=e,r.events.start=t,r.events.end=n,gr(r)}])}function Zo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Zr([Cr,function(n){return n.events.eventType=e,n.events.blockIds=t,gr(n)}])}function Qo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Zr([Nr,function(t){return t.block.isSealed=e,gr(t)}])}function eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Zr([Lr,function(t){return t.collection.id=e,t}])}function tu(e){return Zr([Ar,function(t){return t.transaction.id=e,gr(t)}])}function nu(e){return Zr([Tr,function(t){return t.transaction.id=e,gr(t)}])}function ru(e){return function(t){return t.message.computeLimit=e,t}}function au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Zr(e.map(Er))}function ou(e,t){return{value:e,xform:t}}function uu(e){return cu.apply(this,arguments)}function cu(){return cu=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr(t,{role:rr}));case 1:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function iu(e){return su.apply(this,arguments)}function su(){return su=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr(t,{role:nr}));case 1:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function fu(){return Or}function lu(e){return Zr([function(t){return t.message.refBlock=e,gr(t)}])}function pu(){return Zr([Ir,ta("ix.cadence",Gn.apply(void 0,arguments))])}var du=[];function vu(){return Zr([Rr,ta("ix.cadence",Gn.apply(void 0,arguments)),function(e){return e.message.refBlock=e.message.refBlock||null,e.authorizations=e.authorizations||du,gr(e)}])}function hu(e){return ta("ix.voucher-intercept",e)}function mu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;le(e.account,"mockAccountResponse(ix) -- ix.account is missing",e),le(e.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",e);var n=e.account.addr;return{account:{addr:n,keys:Array.from({length:t},(function(e,t){return{index:t,sequenceNumber:42}}))}}}var yu=function(e){return e};var gu=["tempId"];function bu(e){return["SIGNATURE",e.addr,e.keyId].join(".")}function wu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=w(w(w({},t),e),{},{signingFunction:e.signingFunction||t.signingFunction||function(e){return{addr:n.addr,keyId:n.keyId,signature:bu(n)}}});return n}}var xu={proposer:!1,authorizer:!1,payer:!1};var ku,Eu=Object.freeze({__proto__:null,mockSend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yu;return function(){var t=l(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:n=t.sent,t.t0=!0,t.next=t.t0===Mr(n)?6:t.t0===qr(n)?7:8;break;case 6:return t.abrupt("return",mu(n));case 7:return t.abrupt("return",{tag:"GET_BLOCK",block:{id:"32"}});case 8:return t.abrupt("return",e(n));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},authzFn:wu,authzResolve:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.tempId,r=Dn(e,gu);return w(w({},t),{},{tempId:n||"WITH_RESOLVE",resolve:wu(r)})}},authzResolveMany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.tempId||"AUTHZ_RESOLVE_MANY";return w(w({},t),{},{tempId:n,resolve:function(){return[e.proposer&&wu(e.proposer)({role:w(w({},xu),{},{proposer:!0})})].concat(pe(e.authorizations.map(wu).map((function(e){return e({role:w(w({},xu),{},{authorizer:!0})})}))),[e.payer&&wu(e.payer)({role:w(w({},xu),{},{payer:!0})})]).filter(Boolean)}})}},sig:bu,idof:function(e){return"".concat(je(e.addr),"-").concat(e.keyId)},run:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return aa([lu("123")].concat(pe(e))).then(Fo)}}),Su=function(e){return he.deprecate({pkg:"FCL/SDK",message:"The params builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:de.error})},Iu=function(e){return he.deprecate({pkg:"FCL/SDK",message:"The param builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:de.error})},Ru="function"===typeof queueMicrotask?queueMicrotask:function(e){return(ku||(ku=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},Au=function(){var e,t=[];return{deliver:function(n){return l(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.push(n),e&&(e(t.shift()),e=void 0);case 2:case"end":return r.stop()}}),r)})))()},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}},Tu="INIT",_u="SUBSCRIBE",Cu="UNSUBSCRIBE",Ou="UPDATED",Pu="EXIT",Nu="TERMINATE",Lu="object"===("undefined"===typeof self?"undefined":m(self))&&self.self===self&&self||"object"===("undefined"===typeof n.g?"undefined":m(n.g))&&n.g.global===n.g&&n.g||"object"===("undefined"===typeof window?"undefined":m(window))&&window.window===window&&window;Lu.FCL_REGISTRY=null==Lu.FCL_REGISTRY?{}:Lu.FCL_REGISTRY;var Fu,ju=0,Gu=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(a,o){var u=r.expectReply||!1,c=null!=r.timeout?r.timeout:5e3;u&&c&&setTimeout((function(){return o(new Error("Timeout: ".concat(c,"ms passed without a response.")))}),c);var i={to:e,from:r.from,tag:t,data:n,timeout:c,reply:a,reject:o};try{Lu.FCL_REGISTRY[e]&&Lu.FCL_REGISTRY[e].mailbox.deliver(i),u||a(!0)}catch(s){console.error("FCL.Actor -- Could Not Deliver Message",i,Lu.FCL_REGISTRY[e],s)}}))},Du=function(e){delete Lu.FCL_REGISTRY[e]},Uu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=l(d().mark((function t(n){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e[Tu]){t.next=3;break}return t.next=3,e[Tu](n);case 3:return t.next=6,n.receive();case 6:if(r=t.sent,t.prev=7,r.tag!==Pu){t.next=13;break}if("function"!==typeof e[Nu]){t.next=12;break}return t.next=12,e[Nu](n,r,r.data||{});case 12:return t.abrupt("break",25);case 13:return t.next=15,e[r.tag](n,r,r.data||{});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),console.error("".concat(n.self()," Error"),r,t.t0);case 20:return t.prev=20,t.abrupt("continue",3);case 23:t.next=3;break;case 25:case"end":return t.stop()}}),t,null,[[7,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()},Bu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t&&(t=++ju),null!=Lu.FCL_REGISTRY[t])return t;Lu.FCL_REGISTRY[t]={addr:t,mailbox:Au(),subs:new Set,kvs:{},error:null};var n={self:function(){return t},receive:function(){return Lu.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.from=t,Gu(e,n,r,a)},sendSelf:function(e,n,r){Lu.FCL_REGISTRY[t]&&Gu(t,e,n,r)},broadcast:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.from=t;var a,o=x(Lu.FCL_REGISTRY[t].subs);try{for(o.s();!(a=o.n()).done;){var u=a.value;Gu(u,e,n,r)}}catch(c){o.e(c)}finally{o.f()}},subscribe:function(e){return null!=e&&Lu.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&Lu.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return Lu.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!Lu.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(Lu.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=Lu.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete Lu.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(Lu.FCL_REGISTRY[t].kvs[e]=n(Lu.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(Lu.FCL_REGISTRY[t].kvs)},all:function(){return Lu.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(Lu.FCL_REGISTRY[t].kvs).reduce((function(n,r){return e.test(r)?w(w({},n),{},g({},r,Lu.FCL_REGISTRY[t].kvs[r])):n}),{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(n){return Lu.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){Lu.FCL_REGISTRY[t].error=e;var n,r=x(Lu.FCL_REGISTRY[t].subs);try{for(r.s();!(n=r.n()).done;){var a=n.value;Gu(a,Ou)}}catch(o){r.e(o)}finally{r.f()}}};return"object"===m(e)&&(e=Uu(e)),Ru(l(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(n);case 2:Du(t);case 3:case"end":return r.stop()}}),r)})))),t};var Mu="config",zu="PUT_CONFIG",Yu="GET_CONFIG",qu="GET_ALL_CONFIG",Hu="UPDATE_CONFIG",Ku="DELETE_CONFIG",Wu="CLEAR_CONFIG",Vu="WHERE_CONFIG",Ju="CONFIG/UPDATED",Xu=function(e){return e},$u=(g(Fu={},zu,(function(e,t,n){var r=n.key,a=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,a),e.broadcast(Ju,w({},e.all()))})),g(Fu,Yu,(function(e,t,n){var r=n.key,a=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,a))})),g(Fu,qu,(function(e,t){t.reply(w({},e.all()))})),g(Fu,Hu,(function(e,t,n){var r=n.key,a=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,a||Xu),e.broadcast(Ju,w({},e.all()))})),g(Fu,Ku,(function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(Ju,w({},e.all()))})),g(Fu,Wu,(function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var a=r[n];e.delete(a)}e.broadcast(Ju,w({},e.all()))})),g(Fu,Vu,(function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))})),g(Fu,_u,(function(e,t){e.subscribe(t.from),e.send(t.from,Ju,w({},e.all()))})),g(Fu,Cu,(function(e,t){e.unsubscribe(t.from)})),Fu);function Zu(e,t){return Gu(Mu,zu,{key:e,value:t}),ic()}function Qu(e,t){return Gu(Mu,Yu,{key:e,fallback:t},{expectReply:!0,timeout:10})}function ec(){return tc.apply(this,arguments)}function tc(){return tc=l(d().mark((function e(){var t,n,r,a,o,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:[],n=c.length>1?c[1]:void 0,t.length){e.next=4;break}return e.abrupt("return",n);case 4:return r=h(t),a=r[0],o=r.slice(1),e.next=7,Qu(a);case 7:if(null!=(u=e.sent)){e.next=10;break}return e.abrupt("return",ec(o,n));case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}function nc(){return Gu(Mu,qu,null,{expectReply:!0,timeout:10})}function rc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xu;return Gu(Mu,Hu,{key:e,fn:t}),ic()}function ac(e){return Gu(Mu,Ku,{key:e}),ic()}function oc(e){return Gu(Mu,Vu,{pattern:e},{expectReply:!0,timeout:10})}function uc(e){return function(e,t,n){t(e);var r="@EXIT",a=Bu(function(){var t=l(d().mark((function t(a){var o,u;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.send(e,_u);case 1:return t.next=4,a.receive();case 4:if(o=t.sent,u=Lu.FCL_REGISTRY[e].error,o.tag!==r){t.next=9;break}return a.send(e,Cu),t.abrupt("return");case 9:if(!u){t.next=13;break}return n(null,u),a.send(e,Cu),t.abrupt("return");case 13:n(o.data,null),t.next=1;break;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return Gu(a,r)}}(Mu,(function(){return Bu($u,Mu)}),e)}function cc(e){return Gu(Mu,Wu).then(ic(e))}function ic(e){return null!=e&&"object"===m(e)&&Object.keys(e).map((function(t){return Zu(t,e[t])})),{put:Zu,get:Qu,all:nc,first:ec,update:rc,delete:ac,where:oc,subscribe:uc,overload:fc}}Bu($u,Mu),ic.put=Zu,ic.get=Qu,ic.all=nc,ic.first=ec,ic.update=rc,ic.delete=ac,ic.where=oc,ic.subscribe=uc,ic.overload=fc;var sc=function(e){return e};function fc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sc;return new Promise(function(){var n=l(d().mark((function n(r,a){var o,u;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nc();case 2:return o=n.sent,n.prev=3,ic(e),n.t0=t,n.next=8,nc();case 8:return n.t1=n.sent,n.next=11,(0,n.t0)(n.t1);case 11:return u=n.sent,n.next=14,cc(o);case 14:r(u),n.next=22;break;case 17:return n.prev=17,n.t2=n.catch(3),n.next=21,cc(o);case 21:a(n.t2);case 22:case"end":return n.stop()}}),n,null,[[3,17]])})));return function(e,t){return n.apply(this,arguments)}}())}var lc=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),pc=function(e){var t=e.title,n=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(n,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},dc=function(){var e=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f,l,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.title,i=t.message,s=t.level,f=t.always,l=void 0!==f&&f,e.next=3,ic.get("logger.level",lc.warn);case 3:if(p=e.sent,l||!(p<s)){e.next=6;break}return e.abrupt("return");case 6:v=pc({title:c,message:i}),e.t0=s,e.next=e.t0===lc.debug?10:e.t0===lc.info?12:e.t0===lc.warn?14:e.t0===lc.error?16:18;break;case 10:return(n=console).debug.apply(n,pe(v)),e.abrupt("break",19);case 12:return(r=console).info.apply(r,pe(v)),e.abrupt("break",19);case 14:return(a=console).warn.apply(a,pe(v)),e.abrupt("break",19);case 16:return(o=console).error.apply(o,pe(v)),e.abrupt("break",19);case 18:(u=console).log.apply(u,pe(v));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();dc.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,a=e.level,o=void 0===a?lc.warn:a,u=e.message,c=void 0===u?"":u,i=e.callback,s=void 0===i?null:i,f=function(){return dc({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((e=n,e.charAt(0).toUpperCase()+e.slice(1))," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(c?"\n"+c:"").concat(r?"\nYou can learn more (including a guide on common transition paths) here: ".concat(r):"","\n    ").trim(),level:o});var e};return"function"===typeof s?l(d().mark((function e(){var t=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return e.next=4,s.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))):f()};var vc=function(e,t,n){return{label:e,asArgument:t,asInjection:n}},hc=function(e){return Array.isArray(e)},mc=function(e){return"object"===m(e)},yc=function(e){return null==e},gc=function(e){return"number"===typeof e},bc=function(e){return Number.isInteger(e)},wc=function(e){return"string"===typeof e},xc=function(e){throw new Error("Type Error: "+e)},kc=function(e){dc.deprecate({pkg:"@onflow/types",subject:"Passing in Number as value for ".concat(e),message:"Going forward, use String as value for ".concat(e,"."),transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})},Ec=vc("Identity",(function(e){return e}),(function(e){return e})),Sc=vc("UInt",(function(e){return gc(e)&&bc(e)?(kc("UInt"),{type:"UInt",value:e.toString()}):wc(e)?{type:"UInt",value:e}:void xc("Expected Positive Integer for type Unsigned Int")}),(function(e){return e})),Ic=vc("Int",(function(e){return gc(e)&&bc(e)?(kc("Int"),{type:"Int",value:e.toString()}):wc(e)?{type:"Int",value:e}:void xc("Expected Integer for type Int")}),(function(e){return e})),Rc=vc("UInt8",(function(e){return gc(e)&&bc(e)?(kc("UInt8"),{type:"UInt8",value:e.toString()}):wc(e)?{type:"UInt8",value:e}:void xc("Expected integer for UInt8")}),(function(e){return e})),Ac=vc("Int8",(function(e){return gc(e)&&bc(e)?(kc("Int8"),{type:"Int8",value:e.toString()}):wc(e)?{type:"Int8",value:e}:void xc("Expected positive integer for Int8")}),(function(e){return e})),Tc=vc("UInt16",(function(e){return gc(e)&&bc(e)?(kc("UInt16"),{type:"UInt16",value:e.toString()}):wc(e)?{type:"UInt16",value:e}:void xc("Expected integer for UInt16")}),(function(e){return e})),_c=vc("Int16",(function(e){return gc(e)&&bc(e)?(kc("Int16"),{type:"Int16",value:e.toString()}):wc(e)?{type:"Int16",value:e}:void xc("Expected positive integer for Int16")}),(function(e){return e})),Cc=vc("UInt32",(function(e){return gc(e)&&bc(e)?(kc("UInt32"),{type:"UInt32",value:e.toString()}):wc(e)?{type:"UInt32",value:e}:void xc("Expected integer for UInt32")}),(function(e){return e})),Oc=vc("Int32",(function(e){return gc(e)&&bc(e)?(kc("Int32"),{type:"Int32",value:e.toString()}):wc(e)?{type:"Int32",value:e}:void xc("Expected positive integer for Int32")}),(function(e){return e})),Pc=vc("UInt64",(function(e){return gc(e)&&bc(e)?(kc("UInt64"),{type:"UInt64",value:e.toString()}):wc(e)?{type:"UInt64",value:e}:void xc("Expected integer for UInt64")}),(function(e){return e})),Nc=vc("Int64",(function(e){return gc(e)&&bc(e)?(kc("Int64"),{type:"Int64",value:e.toString()}):wc(e)?{type:"Int64",value:e}:void xc("Expected positive integer for Int64")}),(function(e){return e})),Lc=vc("UInt128",(function(e){return gc(e)&&bc(e)?(kc("UInt128"),{type:"UInt128",value:e.toString()}):wc(e)?{type:"UInt128",value:e}:void xc("Expected integer for UInt128")}),(function(e){return e})),Fc=vc("Int128",(function(e){return gc(e)&&bc(e)?(kc("Int128"),{type:"Int128",value:e.toString()}):wc(e)?{type:"Int128",value:e}:void xc("Expected positive integer for Int128")}),(function(e){return e})),jc=vc("UInt256",(function(e){return gc(e)&&bc(e)?(kc("UInt256"),{type:"UInt256",value:e.toString()}):wc(e)?{type:"UInt256",value:e}:void xc("Expected integer for UInt256")}),(function(e){return e})),Gc=vc("Int256",(function(e){return gc(e)&&bc(e)?(kc("Int256"),{type:"Int256",value:e.toString()}):wc(e)?{type:"Int256",value:e}:void xc("Expected integer for Int256")}),(function(e){return e})),Dc=vc("Word8",(function(e){return gc(e)&&bc(e)?(kc("Word8"),{type:"Word8",value:e.toString()}):wc(e)?{type:"Word8",value:e}:void xc("Expected positive number for Word8")}),(function(e){return e})),Uc=vc("Word16",(function(e){return gc(e)&&bc(e)?(kc("Word16"),{type:"Word16",value:e.toString()}):wc(e)?{type:"Word16",value:e}:void xc("Expected positive number for Word16")}),(function(e){return e})),Bc=vc("Word32",(function(e){return gc(e)&&bc(e)?(kc("Word32"),{type:"Word32",value:e.toString()}):wc(e)?{type:"Word32",value:e}:void xc("Expected positive number for Word32")}),(function(e){return e})),Mc=vc("Word64",(function(e){return gc(e)&&bc(e)?(kc("Word64"),{type:"Word64",value:e.toString()}):wc(e)?{type:"Word64",value:e}:void xc("Expected positive number for Word64")}),(function(e){return e})),zc=function(){dc.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},Yc=vc("UFix64",(function(e){if(wc(e)){var t=e.split(".");return 2!==t.length&&xc("Expected one decimal but found ".concat(t.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==t[1].length||t[1].length>8)&&xc("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(t[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),t[1]=t[1].padEnd(8,"0"),{type:"UFix64",value:e=t.join(".")}}if(gc(e))return zc(),{type:"UFix64",value:e.toString()};xc("Expected String for UFix64")}),(function(e){return e})),qc=vc("Fix64",(function(e){if(wc(e)){var t=e.split(".");return 2!==t.length&&xc("Expected one decimal but found ".concat(t.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==t[1].length||t[1].length>8)&&xc("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(t[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),t[1]=t[1].padEnd(8,"0"),{type:"Fix64",value:e=t.join(".")}}if(gc(e))return zc(),{type:"Fix64",value:e.toString()};xc("Expected String for Fix64")}),(function(e){return e})),Hc=vc("String",(function(e){if(wc(e))return{type:"String",value:e};xc("Expected String for type String")}),(function(e){return e})),Kc=vc("Character",(function(e){if(wc(e))return{type:"Character",value:e};xc("Expected Character for type Character")}),(function(e){return e})),Wc=vc("Bool",(function(e){if("boolean"===typeof e)return{type:"Bool",value:e};xc("Expected Boolean for type Bool")}),(function(e){return e})),Vc=vc("Address",(function(e){if(wc(e))return{type:"Address",value:e};xc("Expected Address for type Address")}),(function(e){return e})),Jc=vc("Void",(function(e){if(!e||yc(e))return{type:"Void"};xc("Expected Void for type Void")}),(function(e){return e})),Xc=function(e){return vc("Optional",(function(t){return{type:"Optional",value:yc(t)?null:e.asArgument(t)}}),(function(e){return e}))},$c=vc("Reference",(function(e){if(mc(e))return{type:"Reference",value:e};xc("Expected Object for type Reference")}),(function(e){return e})),Zc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return vc("Array",(function(t){return{type:"Array",value:hc(e)?e.map((function(e,n){return e.asArgument(t[n])})):t.map((function(t){return e.asArgument(t)}))}}),(function(e){return e}))},Qc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return vc("Dictionary",(function(t){if(mc(t))return{type:"Dictionary",value:hc(e)?e.map((function(e,n){return{key:e.key.asArgument(t[n].key),value:e.value.asArgument(t[n].value)}})):hc(t)?t.map((function(t){return{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}})):[{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}]};xc("Expected Object for type Dictionary")}),(function(e){return e}))},ei=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return vc("Event",(function(n){if(mc(n))return{type:"Event",value:{id:e,fields:hc(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};xc("Expected Object for type Event")}),(function(e){return e}))},ti=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return vc("Resource",(function(n){if(mc(n))return{type:"Resource",value:{id:e,fields:hc(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};xc("Expected Object for type Resource")}),(function(e){return e}))},ni=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return vc("Struct",(function(n){if(mc(n))return{type:"Struct",value:{id:e,fields:hc(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};xc("Expected Object for type Struct")}),(function(e){return e}))},ri=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return vc("Enum",(function(n){if(mc(n))return{type:"Enum",value:{id:e,fields:hc(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};xc("Expected Object for type Enum")}),(function(e){return e}))},ai=vc("Path",(function(e){if(mc(e))return wc(e.domain)||xc("Expected a string for the Path domain but found ".concat(e.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),"storage"!==e.domain&&"private"!==e.domain&&"public"!==e.domain&&xc('Expected either "storage", "private" or "public" as the Path domain but found '.concat(e.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),wc(e.identifier)||xc("Expected a string for the Path identifier but found ".concat(e.identifier,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),{type:"Path",value:{domain:e.domain,identifier:e.identifier}};xc("Expected Object for type Path")}),(function(e){return e})),oi="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",ui=oi.length;function ci(){for(var e="",t=32;t--;)e+=oi[Math.random()*ui|0];return e}var ii={can:!("undefined"===typeof window),get:function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(sessionStorage.getItem(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),put:function(){var e=l(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.setItem(t,JSON.stringify(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function si(e){return fi.apply(this,arguments)}function fi(){return fi=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1=Object,e.next=4,ie().where(t);case 4:return e.t2=e.sent,e.t3=e.t1.entries.call(e.t1,e.t2).map((function(e){var n=s(e,2),r=n[0],a=n[1];return[r.replace(t,""),a]})),e.abrupt("return",e.t0.fromEntries.call(e.t0,e.t3));case 7:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}ie({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":ii});var li="1.3.2",pi=function(e){return function(t){return m(t)===e}},di=function(e){return null!=e},vi=pi("object"),hi=pi("string"),mi=pi("function"),yi=pi("number");function gi(e){return mi(e)?e(ou,r):[]}function bi(e){return wi.apply(this,arguments)}function wi(){return(wi=l(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le("undefined"!==typeof(n=t.url),"retrieve({ url }) -- url must be defined"),e.prev=2,e.next=5,Le()(n);case 5:r=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),new Error("httpDocumentResolver Error: Failed to retrieve document.");case 11:if(!r.ok){e.next=17;break}return e.next=14,r.json();case 14:e.t1=e.sent,e.next=18;break;case 17:e.t1=null;case 18:return a=e.t1,e.abrupt("return",a);case 20:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var xi=new Map([["http",bi],["https",bi]]);function ki(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=l(d().mark((function e(t){var n,r,a,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le("undefined"!==typeof(n=t.url),"retrieve({ url }) -- url must be defined"),le("string"===typeof n,"retrieve({ url }) -- url must be a string"),e.next=5,ie().where(/^document\.resolver\./);case 5:return r=e.sent,Object.keys(r).map((function(e){var t=r[e],n=e.replace(/^document\.resolver\./,"");xi.set(n,t)})),le(a=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(n),"Failed to parse URL"),o=a[1],le(a,"Failed to parse URL protocol"),le(u=xi.get(o),"No resolver found for protcol=".concat(o)),e.next=15,u({url:n});case 15:return c=e.sent,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Si(e){if(null==e)return null;if("1.0.0"===e.f_version)return e;throw new Error("normalizeInteractionTemplate Error: Invalid InteractionTemplate")}function Ii(e){var t,n,r=e.network,a=e.template;if(Do(void 0!=r,"deriveCadenceByNetwork({ network }) -- network must be defined"),Do("string"===typeof r,"deriveCadenceByNetwork({ network }) -- network must be a string"),Do(void 0!=a,"generateDependencyPin({ template }) -- template must be defined"),Do("object"===m(a),"generateDependencyPin({ template }) -- template must be an object"),Do("InteractionTemplate"===a.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),"1.0.0"===(a=Si(a)).f_version)return Object.keys(null===(t=a)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.dependencies).map((function(e){var t,n,o,u=Object.values(null===(t=a)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.dependencies)||void 0===o?void 0:o[e]);Do(u,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(e)),Do(0===u.length,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(e));var c=u[0],i=null===c||void 0===c?void 0:c[r];return Do(i,"deriveCadenceByNetwork -- Could not find ".concat(r," network information for dependency: ").concat(e)),[e,i.address]})).reduce((function(e,t){var n=s(t,2),r=n[0],a=n[1],o=new RegExp("(\\b"+r+"\\b)","g");return e.replace(o,a)}),a.data.cadence);throw new Error("deriveCadenceByNetwork Error: Unsupported template version")}function Ri(e){return Ai.apply(this,arguments)}function Ai(){return Ai=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f,l,p,v,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.template,e.next=3,ie.get("flow.network");case 3:le(a=e.sent,"FCL configureDependencies Error: Missing configuration value for 'flow.network'"),o={},e.t0=r.f_version,e.next="1.0.0"===e.t0?9:12;break;case 9:for(u=Object.keys(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.dependencies),c=0,i=u;c<i.length;c++)f=i[c],l=null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.dependencies[f],le((p=Object.keys(l)).length>0,"FCL configureDependencies Error: No contracts found in template for placeholder=".concat(f)),v=l[p[0]],le(h=v[a],"FCL configureDependencies Error: No dependency information for placeholder=".concat(f," contract=").concat(p[0]," network=").concat(a)),le(null===h||void 0===h?void 0:h.address,"FCL configureDependencies Error: No address information for placeholder=".concat(f," contract=").concat(p[0]," network=").concat(a)),o[f]=je(null===h||void 0===h?void 0:h.address);return e.abrupt("return",o);case 12:throw new Error("FCL configureDependencies Error: Unsupported template version");case 13:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function Ti(e){return _i.apply(this,arguments)}function _i(){return(_i=l(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hi(null===t||void 0===t?void 0:t.template)){e.next=4;break}return e.next=3,ki({url:null===t||void 0===t?void 0:t.template});case 3:t.template=e.sent;case 4:if(n={},null===t||void 0===t||!t.template){e.next=10;break}return t.template=Si(null===t||void 0===t?void 0:t.template),e.next=9,Ri({template:t.template});case 9:n=e.sent;case 10:if(e.t0=t.cadence,e.t0){e.next=19;break}return e.t1=Ii,e.t2=t.template,e.next=16,ie().get("flow.network");case 16:e.t3=e.sent,e.t4={template:e.t2,network:e.t3},e.t0=(0,e.t1)(e.t4);case 19:return r=e.t0,t.cadence=r,t.dependencies=n,e.abrupt("return",t);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ci(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=l(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le(di(n),"".concat(t,"(opts) -- opts is required")),le(vi(n),"".concat(t,"(opts) -- opts must be an object")),le(!(n.cadence&&n.template),"".concat(t,"({ template, cadence }) -- cannot pass both cadence and template")),le(di(n.cadence||(null===n||void 0===n?void 0:n.template)),"".concat(t,"({ cadence }) -- cadence is required")),le(hi(n.cadence)||(null===n||void 0===n?void 0:n.template),"".concat(t,"({ cadence }) -- cadence must be a string")),e.t0=le,e.t1=n.cadence,e.t1){e.next=11;break}return e.next=10,ie().get("flow.network");case 10:e.t1=e.sent;case 11:return e.t2=e.t1,e.t3="".concat(t,'(opts) -- Required value for "flow.network" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t0)(e.t2,e.t3),e.t4=le,e.next=17,ie().get("accessNode.api");case 17:e.t5=e.sent,e.t6="".concat(t,'(opts) -- Required value for "accessNode.api" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t4)(e.t5,e.t6);case 20:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Pi(e){return Ni.apply(this,arguments)}function Ni(){return(Ni=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ci("mutate",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Li(e){return Fi.apply(this,arguments)}function Fi(){return(Fi=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ci("query",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(){return Gi.apply(this,arguments)}function Gi(){return Gi=l(d().mark((function e(){var t,n=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Li(t);case 3:return e.next=5,Ti(t);case 5:return t=e.sent,e.abrupt("return",ie().overload(t.dependencies||{},l(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo([pu(t.cadence),au(gi(t.args||[])),t.limit&&"number"===typeof t.limit&&ru(t.limit)]).then(Bo));case 1:case"end":return e.stop()}}),e)})))));case 7:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Di(e,t){return Ui.apply(this,arguments)}function Ui(){return(Ui=l(d().mark((function e(t,n){var r,a,o,u,c,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&null!=n){e.next=2;break}return e.abrupt("return",[]);case 2:return(r=new URL(t)).searchParams.append("code",n),e.next=6,fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 6:if(a=e.sent,!Array.isArray(a)){e.next=9;break}return e.abrupt("return",a);case 9:if(o=[],Array.isArray(a.authorizations)){u=x(a.authorizations);try{for(u.s();!(c=u.n()).done;)i=c.value,o.push(w({type:"authz",keyId:a.keyId},i))}catch(s){u.e(s)}finally{u.f()}}return null!=a.provider&&o.push(w({type:"authn",id:"wallet-provider#authn"},a.provider)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(pe(e),pe(t))}var Mi={f_type:"Service",f_vsn:"1.0.0"},zi={f_type:"Identity",f_vsn:"1.0.0"},Yi={f_type:"USER",f_vsn:"1.0.0"},qi={f_type:"PollingResponse",f_vsn:"1.0.0"},Hi={f_type:"CompositeSignature",f_vsn:"1.0.0"};function Ki(e){return null==e?null:"1.0.0"===e.f_vsn?e:w(w({old:e},Mi),{},{type:"frame",endpoint:e.endpoint,params:e.params||{},data:e.data||{}})}function Wi(e){return null==e?null:"1.0.0"===e.f_vsn?e:w(w({},Mi),{},{type:"back-channel-rpc",endpoint:e.endpoint,method:e.method,params:e.params||{},data:e.data||{}})}function Vi(e){return null==e?null:(null==e.method&&(e=w(w({},e),{},{type:"local-view",method:"VIEW/IFRAME"})),"1.0.0"===e.f_vsn?e:w(w({},Mi),{},{type:e.type||"local-view",method:e.method,endpoint:e.endpoint,data:e.data||{},params:e.params||{}}))}var Ji={"back-channel-rpc":Wi,"pre-authz":function(e){return null==e?null:"1.0.0"===e.f_vsn?e:w(w({},Mi),{},{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:w(w({},zi),{},{address:je(e.addr),keyId:e.keyId}),params:e.params,data:e.data})},authz:function(e){return null==e?null:"1.0.0"===e.f_vsn?e:w(w({},Mi),{},{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:w(w({},zi),{},{address:je(e.addr),keyId:e.keyId}),params:e.params,data:e.data})},authn:function(e){return null==e?null:"1.0.0"===e.f_vsn?e:w(w({},Mi),{},{type:e.type,uid:e.id,endpoint:e.authn,id:e.pid,provider:{address:je(e.addr),name:e.name,icon:e.icon}})},frame:Ki,"open-id":function(e){return null==e?null:"1.0.0"===e.f_vsn?e:null},"user-signature":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw new Error("Invalid user-signature service")},"local-view":Vi,"account-proof":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw new Error("FCL Normalizer Error: Invalid account-proof service")},"authn-refresh":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw new Error("Invalid authn-refresh service")}};function Xi(e,t){try{return Ji[e.type](e,t)}catch(n){return console.error("Unrecognized FCL Service Type [".concat(e.type,"]"),e,n),e}}function $i(e){return ye([e.provider.address||e.provider.name||"UNSPECIFIED",e.id]).toString("hex")}function Zi(e){return e.addr=e.addr?je(e.addr):null,e.paddr=e.paddr?je(e.paddr):null,e}function Qi(e,t){return t.find((function(t){return t.type===e}))}function es(e){return ts.apply(this,arguments)}function ts(){return ts=l(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Zi(t),e.t0=Bi,e.t1=t.services||[],e.next=5,Di(t.hks,t.code);case 5:return e.t2=e.sent,n=(0,e.t0)(e.t1,e.t2).map((function(e){return Xi(e,t)})),r=Qi("authn",n),e.abrupt("return",w(w({},Yi),{},{addr:je(t.addr),cid:$i(r),loggedIn:!0,services:n,expiresAt:t.expires}));case 9:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find((function(e){return e.type===t}))}function rs(e){var t=new URL(e.endpoint);if(t.searchParams.append("l6n",window.location.origin),null!=e.params)for(var n=0,r=Object.entries(e.params||{});n<r.length;n++){var a=s(r[n],2),o=a[0],u=a[1];t.searchParams.append(o,u)}return t}function as(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method||"POST",r="GET"===n?void 0:JSON.stringify(t.data||e.data||{});return fetch(rs(e),{method:n,headers:w(w(w({},e.headers||{}),t.headers||{}),{},{"Content-Type":"application/json"}),body:r}).then((function(e){return e.json()}))}function os(e){var t,n;return null==e?null:"1.0.0"===e.f_vsn?e:w(w({},qi),{},{status:null!==(t=e.status)&&void 0!==t?t:"APPROVED",reason:null!==(n=e.reason)&&void 0!==n?n:null,data:e.compositeSignature||e.data||w({},e)||{},updates:Wi(e.authorizationUpdates),local:Ki((e.local||[])[0])})}var us={"HTTP/GET":"GET","HTTP/POST":"POST"},cs=function(e){return le(us[e.method],"Invalid Service Method for type back-channel-rpc",{service:e}),us[e.method]};function is(e){return ss.apply(this,arguments)}function ss(){return ss=l(d().mark((function e(t){var n,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:function(){return!0},le(t,"Missing Polling Service",{service:t}),n()){e.next=4;break}throw new Error("Externally Halted");case 4:return e.next=6,as(t,{method:cs(t)}).then(os);case 6:r=e.sent,e.t0=r.status,e.next="APPROVED"===e.t0?10:"DECLINED"===e.t0?11:12;break;case 10:return e.abrupt("return",r.data);case 11:throw new Error("Declined: ".concat(r.reason||"No reason supplied."));case 12:return e.next=14,new Promise((function(e){return setTimeout(e,500)}));case 14:return e.abrupt("return",is(r.updates,n));case 15:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}var fs="FCL_IFRAME";function ls(e){le(!document.getElementById(fs),"Attempt at triggering multiple Frames",{src:e});var t=document.createElement("iframe");t.src=e,t.id=fs,t.allow="usb *; hid *",t.frameBorder="0",t.style.cssText="\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n  color-scheme: light;\n",document.body.append(t);return[t.contentWindow,function(){document.getElementById(fs)&&document.getElementById(fs).remove()}]}var ps=null,ds=null;function vs(e){var t;null==ps||null!==(t=ps)&&void 0!==t&&t.closed?ps=function(e,t,n,r,a){var o=n.top.outerHeight/2+n.top.screenY-a/2,u=n.top.outerWidth/2+n.top.screenX-r/2,c=n.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(r,", height=").concat(a,", top=").concat(o,", left=").concat(u));if(!c)throw new Error("Popup failed to open (was it blocked by a popup blocker?)");return c}(e,"FCL_POP",window,640,770):ds!==e?(ps.location.replace(e),ps.focus()):ps.focus(),ds=e;return[ps,function(){ps&&!ps.closed&&ps.close(),ps=null}]}var hs=null,ms=null;function ys(e){var t;if(null==hs||null!==(t=hs)&&void 0!==t&&t.closed){if(!(hs=window.open(e,"_blank")))throw new Error("Tab failed to open (was it blocked by the browser?)")}else ms!==e?(hs.location.replace(e),hs.focus()):hs.focus();ms=e;return[hs,function(){hs&&!hs.closed&&hs.close(),hs=null}]}var gs={"VIEW/IFRAME":ls,"VIEW/POP":vs,"VIEW/TAB":ys};function bs(e){return ws.apply(this,arguments)}function ws(){return ws=l(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.prev=1,e.abrupt("return",gs[t.method](rs(t),n));case 5:throw e.prev=5,e.t0=e.catch(1),console.error("execLocal({service, opts = {}})",e.t0,{service:t,opts:n}),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,5]])}))),ws.apply(this,arguments)}function xs(e){return ks.apply(this,arguments)}function ks(){return(ks=l(d().mark((function e(t){var n,r,a,o,u,c,i,f,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.service,r=t.body,a=t.config,t.opts,e.next=3,as(n,{data:w({fclVersion:li,service:{params:n.params,data:n.data,type:n.type},config:a},r)}).then(os);case 3:if("APPROVED"!==(o=e.sent).status){e.next=8;break}return e.abrupt("return",o.data);case 8:if("DECLINED"!==o.status){e.next=12;break}throw new Error("Declined: ".concat(o.reason||"No reason supplied."));case 12:if("REDIRECT"!==o.status){e.next=16;break}return e.abrupt("return",o);case 16:if("PENDING"!==o.status){e.next=28;break}return u=!0,e.next=20,bs(Vi(o.local));case 20:return c=e.sent,(i=s(c,2))[0],f=i[1],l=function(){try{f(),u=!1}catch(e){console.error("Frame Close Error",e)}},e.abrupt("return",is(o.updates,(function(){return u})).then((function(e){return l(),e})).catch((function(e){throw console.error(e),l(),e})));case 28:throw console.error("Auto Decline: Invalid Response",{service:n,resp:o}),new Error("Auto Decline: Invalid Response");case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Es="FCL:VIEW:CLOSE",Ss="FCL:VIEW:READY",Is="FCL:VIEW:RESPONSE",Rs=function(e){return"string"===typeof e&&e.toLowerCase()},As=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),Ts=function(e,t){return console.warn("DEPRECATION NOTICE","Received ".concat(e,", please use ").concat(t," for this and future versions of FCL"))},_s=function(e){var t=e.close,n=e.send,r=e.onReady,a=e.onResponse,o=e.onMessage;return function(e){try{if("object"!==m(e.data))return;if(As.has(e.data.type))return;Rs(e.data.type)===Rs(Es)&&t(),Rs(e.data.type)===Rs(Ss)&&r(e,{send:n,close:t}),Rs(e.data.type)===Rs(Is)&&a(e,{send:n,close:t}),o(e,{send:n,close:t}),Rs(e.data.type)===Rs("FCL:FRAME:READY")&&(Ts(e.data.type,Ss),r(e,{send:n,close:t})),Rs(e.data.type)===Rs("FCL:FRAME:RESPONSE")&&(Ts(e.data.type,Is),a(e,{send:n,close:t})),Rs(e.data.type)===Rs("FCL:FRAME:CLOSE")&&(Ts(e.data.type,Es),t()),Rs(e.data.type)===Rs("FCL::CHALLENGE::RESPONSE")&&(Ts(e.data.type,Is),a(e,{send:n,close:t})),Rs(e.data.type)===Rs("FCL::AUTHZ_READY")&&(Ts(e.data.type,Ss),r(e,{send:n,close:t})),Rs(e.data.type)===Rs("FCL::CHALLENGE::CANCEL")&&(Ts(e.data.type,Es),t()),Rs(e.data.type)===Rs("FCL::CANCEL")&&(Ts(e.data.type,Es),t())}catch(u){console.error("Frame Callback Error",u),t()}}},Cs=function(){};var Os=function(){};var Ps=function(){};var Ns=function(){};var Ls={"HTTP/RPC":xs,"HTTP/POST":xs,"IFRAME/RPC":function(e){var t=e.service,n=e.body,r=e.config,a=e.opts;return new Promise((function(e,o){var u=ci(),c=a.includeOlderJsonRpcCall;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return{send:Cs,close:Cs};var n=t.onClose||Cs,r=t.onMessage||Cs,a=t.onReady||Cs,o=t.onResponse||Cs,u=_s({close:p,send:d,onReady:a,onResponse:o,onMessage:r});window.addEventListener("message",u);var c=ls(rs(e)),i=s(c,2),f=i[0],l=i[1];return{send:d,close:p};function p(){try{window.removeEventListener("message",u),l(),n()}catch(e){console.error("Frame Close Error",e)}}function d(e){try{f.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Frame Send Error",e,t)}}}(t,{onReady:function(e,a){return l(d().mark((function e(){var o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.send,e.prev=1,o({type:"FCL:VIEW:READY:RESPONSE",fclVersion:li,body:n,service:{params:t.params,data:t.data,type:t.type},config:r}),o({fclVersion:li,type:"FCL:FRAME:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),c&&o({jsonrpc:"2.0",id:u,method:"fcl:sign",params:[n,t.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()},onResponse:function(t,n){var r=n.close;try{if("object"!==m(t.data))return;var a=os(t.data);switch(a.status){case"APPROVED":e(a.data),r();break;case"DECLINED":o("Declined: ".concat(a.reason||"No reason supplied")),r();break;case"REDIRECT":e(a),r();break;default:o("Declined: No reason supplied"),r()}}catch(u){throw console.error("execIframeRPC onResponse error",u),u}},onMessage:function(t,n){var r=n.close;try{if("object"!==m(t.data))return;if("2.0"!==t.data.jsonrpc)return;if(t.data.id!==u)return;var a=os(t.data.result);switch(a.status){case"APPROVED":e(a.data),r();break;case"DECLINED":o("Declined: ".concat(a.reason||"No reason supplied")),r();break;case"REDIRECT":e(a),r();break;default:o("Declined: No reason supplied"),r()}}catch(c){throw console.error("execIframeRPC onMessage error",c),c}},onClose:function(){o("Declined: Externally Halted")}})}))},"POP/RPC":function(e){var t=e.service,n=e.body,r=e.config,a=e.opts;return new Promise((function(e,o){var u=ci(),c=a.redir,i=a.includeOlderJsonRpcCall;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return{send:Os,close:Os};var n=t.onClose||Os,r=t.onMessage||Os,a=t.onReady||Os,o=t.onResponse||Os,u=_s({close:d,send:v,onReady:a,onResponse:o,onMessage:r});window.addEventListener("message",u);var c=vs(rs(e)),i=s(c,2),f=i[0],l=i[1],p=setInterval((function(){f&&f.closed&&d()}),500);return{send:v,close:d};function d(){try{window.removeEventListener("message",u),clearInterval(p),l(),n()}catch(e){console.error("Popup Close Error",e)}}function v(e){try{f.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Popup Send Error",e,t)}}}(t,{onReady:function(e,a){return l(d().mark((function e(){var o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.send,e.prev=1,o({fclVersion:li,type:"FCL:VIEW:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r}),o({fclVersion:li,type:"FCL:FRAME:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),i&&o({jsonrpc:"2.0",id:u,method:"fcl:sign",params:[n,t.params]}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()},onResponse:function(t,n){var r=n.close;try{if("object"!==m(t.data))return;var a=os(t.data);switch(a.status){case"APPROVED":e(a.data),!c&&r();break;case"DECLINED":o("Declined: ".concat(a.reason||"No reason supplied")),r();break;case"REDIRECT":e(a),r();break;default:o("Declined: No reason supplied"),r()}}catch(u){throw console.error("execPopRPC onResponse error",u),u}},onMessage:function(t,n){var r=n.close;try{if("object"!==m(t.data))return;if("2.0"!==t.data.jsonrpc)return;if(t.data.id!==u)return;var a=os(t.data.result);switch(a.status){case"APPROVED":e(a.data),!c&&r();break;case"DECLINED":o("Declined: ".concat(a.reason||"No reason supplied")),r();break;case"REDIRECT":e(a),r();break;default:o("Declined: No reason supplied"),r()}}catch(i){throw console.error("execPopRPC onMessage error",i),i}},onClose:function(){o("Declined: Externally Halted")}})}))},"TAB/RPC":function(e){var t=e.service,n=e.body,r=e.config,a=e.opts;return new Promise((function(e,o){var u=ci(),c=a.redir,i=a.includeOlderJsonRpcCall;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return{send:Ps,close:Ps};var n=t.onClose||Ps,r=t.onMessage||Ps,a=t.onReady||Ps,o=t.onResponse||Ps,u=_s({close:d,send:v,onReady:a,onResponse:o,onMessage:r});window.addEventListener("message",u);var c=ys(rs(e)),i=s(c,2),f=i[0],l=i[1],p=setInterval((function(){f&&f.closed&&d()}),500);return{send:v,close:d};function d(){try{window.removeEventListener("message",u),clearInterval(p),l(),n()}catch(e){console.error("Tab Close Error",e)}}function v(e){try{f.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Tab Send Error",e,t)}}}(t,{onReady:function(e,a){return l(d().mark((function e(){var o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.send,e.prev=1,o({fclVersion:li,type:"FCL:VIEW:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r}),o({fclVersion:li,type:"FCL:FRAME:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),i&&o({jsonrpc:"2.0",id:u,method:"fcl:sign",params:[n,t.params]}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()},onResponse:function(t,n){var r=n.close;try{if("object"!==m(t.data))return;var a=os(t.data);switch(a.status){case"APPROVED":e(a.data),!c&&r();break;case"DECLINED":o("Declined: ".concat(a.reason||"No reason supplied")),r();break;case"REDIRECT":e(a),r();break;default:o("Declined: No reason supplied"),r()}}catch(u){throw console.error("execPopRPC onResponse error",u),u}},onMessage:function(t,n){var r=n.close;try{if("object"!==m(t.data))return;if("2.0"!==t.data.jsonrpc)return;if(t.data.id!==u)return;var a=os(t.data.result);switch(a.status){case"APPROVED":e(a.data),!c&&r();break;case"DECLINED":o("Declined: ".concat(a.reason||"No reason supplied")),r();break;case"REDIRECT":e(a),r();break;default:o("Declined: No reason supplied"),r()}}catch(i){throw console.error("execPopRPC onMessage error",i),i}},onClose:function(){o("Declined: Externally Halted")}})}))},"EXT/RPC":function(e){var t=e.service,n=e.body,r=e.config;return e.opts,new Promise((function(e,a){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return{send:Ns,close:Ns};var n=t.onClose||Ns,r=t.onMessage||Ns,a=t.onReady||Ns,o=t.onResponse||Ns,u=_s({close:c,send:i,onReady:a,onResponse:o,onMessage:r});return window.addEventListener("message",u),i({service:e}),{send:i,close:c};function c(){try{window.removeEventListener("message",u),n()}catch(e){console.error("Ext Close Error",e)}}function i(e){try{window&&window.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Ext Send Error",e,t)}}}(t,{onReady:function(e,a){return l(d().mark((function e(){var o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.send,e.prev=1,o({fclVersion:li,type:"FCL:VIEW:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r}),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),e.t0;case 8:case"end":return e.stop()}}),e,null,[[1,5]])})))()},onResponse:function(t,n){var r=n.close;try{if("object"!==m(t.data))return;var o=os(t.data);switch(o.status){case"APPROVED":e(o.data),r();break;case"DECLINED":a("Declined: ".concat(o.reason||"No reason supplied")),r();break;case"REDIRECT":e(o),r();break;default:a("Declined: No reason supplied"),r()}}catch(u){throw console.error("execExtRPC onResponse error",u),u}},onClose:function(){a("Declined: Externally Halted")}})}))}},Fs=["ServicePlugin"],js=["discovery-service"],Gs=function(){var e=new Set,t=new Map(Object.entries(Ls)),n=function(t){return e=new Set(pe(t))};return Object.freeze({add:function(e){if(le(js.includes(e.type),"Service Plugin type ".concat(e.type," is not supported")),"discovery-service"===e.type){var r=function(e){var t=e.services,n=e.serviceStrategy;le(Array.isArray(t)&&t.length,"Array of Discovery Services is required");var r,a=x(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;le(di(o.f_type)&&"Service"===o.f_type,"Service is required"),le(di(o.type)&&"authn"===o.type,"Service must be type authn. Received ".concat(o.type)),le(o.method in Ls||n.method===o.method,"Service method ".concat(o.method," is not supported"))}}catch(u){a.e(u)}finally{a.f()}return le(di(n),"Service strategy is required"),le(di(n.method)&&hi(n.method),"Service strategy method is required"),le(di(n.exec)&&mi(n.exec),"Service strategy exec function is required"),{discoveryServices:t,serviceStrategy:n}}(e),a=r.discoveryServices,o=r.serviceStrategy;n(a),t.has(o.method)?he({title:"Add Service Plugin",message:"Service strategy for ".concat(o.method," already exists"),level:de.warn}):t.set(o.method,o.exec)}},getServices:function(){return pe(e)},getStrategy:function(e){return t.get(e)},getStrategies:function(){return pe(t.keys())}})}(),Ds=function(){var e=new Map;return Object.freeze({add:function(t){var n,r=function(e){var t;le(e,"No plugins supplied");var n,r=x(t=Array.isArray(e)?pe(e):[e]);try{for(r.s();!(n=r.n()).done;){var a=n.value;le(di(a.name),"Plugin name is required"),le(di(a.f_type),"Plugin f_type is required"),le(Fs.includes(a.f_type),"Plugin type ".concat(a.f_type," is not supported"))}}catch(o){r.e(o)}finally{r.f()}return t}(t),a=x(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;e.set(o.name,o),"ServicePlugin"===o.f_type&&Gs.add(o)}}catch(u){a.e(u)}finally{a.f()}},getPlugins:function(){return e}})}(),Us=function(){var e=l(d().mark((function e(t){var n,r,a,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.service,r=t.body,a=t.config,o=t.opts,u=Gs.getStrategy(n.method),e.abrupt("return",u({service:n,body:r,config:a,opts:o}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Bs(e){return Ms.apply(this,arguments)}function Ms(){return(Ms=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f,l,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.service,u=t.msg,c=void 0===u?{}:u,i=t.config,s=void 0===i?{}:i,f=t.opts,l=void 0===f?{}:f,c.data=o.data,e.next=4,si(/^service\./);case 4:return e.t0=e.sent,e.next=7,si(/^app\.detail\./);case 7:return e.t1=e.sent,e.t2=w(w({},s.client),{},{fclVersion:li,fclLibrary:"https://github.com/onflow/fcl-js",hostname:null!==(n=null===(r=window)||void 0===r||null===(a=r.location)||void 0===a?void 0:a.hostname)&&void 0!==n?n:null}),p={services:e.t0,app:e.t1,client:e.t2},e.prev=10,e.next=13,Us({service:o,body:c,config:p,opts:l});case 13:if("REDIRECT"!==(v=e.sent).status){e.next=21;break}return le(o.type===v.data.type,"Cannot shift recursive service type in execService"),e.next=18,Bs({service:v.data,msg:c,config:p,opts:l});case 18:return e.abrupt("return",e.sent);case 21:return e.abrupt("return",v);case 22:e.next=28;break;case 24:throw e.prev=24,e.t3=e.catch(10),he({title:"Error on execService ".concat(null===o||void 0===o?void 0:o.type),message:e.t3,level:de.error}),e.t3;case 28:case"end":return e.stop()}}),e,null,[[10,24]])})))).apply(this,arguments)}function zs(e){return null==e?null:"1.0.0"===e.f_vsn?e:w(w({},Hi),{},{addr:Fe(e.addr||e.address),signature:e.signature||e.sig,keyId:e.keyId})}var Ys,qs=function(){var e=l(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null===(t=window)||void 0===t?void 0:t.fcl_extensions)||[],e.abrupt("return",[].concat(pe(n),pe(Gs.getServices())));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Hs(e){return Ks.apply(this,arguments)}function Ks(){return(Ks=l(d().mark((function e(t){var n,r,a,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.get("discovery.authn.include",[]);case 2:return r=e.sent,e.next=5,ie.first(["discovery.wallet.method","discovery.wallet.method.default"]);case 5:if(a=e.sent,o=null!==t&&void 0!==t&&t.method?t.method:a,null===(n=null===t||void 0===t?void 0:t.endpoint)||void 0===n){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,ie.first(["discovery.wallet","challenge.handshake"]);case 13:e.t0=e.sent;case 14:return le(u=e.t0,'\n    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.\n    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"\n    '),e.abrupt("return",w(w({},t),{},{type:"authn",endpoint:u,method:o,discoveryAuthnInclude:r}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(e){return Vs.apply(this,arguments)}function Vs(){return(Vs=l(d().mark((function e(t){var n,r,a,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.types,e.next=3,ie.get("discovery.authn.endpoint");case 3:return o=e.sent,le(Boolean(o),'"discovery.authn.endpoint" in config must be defined.'),e.next=7,ie.get("discovery.authn.include",[]);case 7:return u=e.sent,c=new URL(o),e.t0=fetch,e.t1=c,e.t2={"Content-Type":"application/json"},e.t3=JSON,e.t4=a,e.t5=li,e.t6=u,e.next=18,qs();case 18:return e.t7=e.sent,e.t8=Gs.getStrategies(),e.t9=null===(n=window)||void 0===n||null===(r=n.navigator)||void 0===r?void 0:r.userAgent,e.t10={type:e.t4,fclVersion:e.t5,include:e.t6,clientServices:e.t7,supportedStrategies:e.t8,userAgent:e.t9},e.t11=e.t3.stringify.call(e.t3,e.t10),e.t12={method:"POST",headers:e.t2,body:e.t11},e.abrupt("return",(0,e.t0)(e.t1,e.t12).then((function(e){return e.json()})));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Js,Xs="authn",$s="SNAPSHOT",Zs="UPDATED",Qs="UPDATE_RESULTS",ef=function(){var e=l(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ws({types:[Xs]});case 3:t=e.sent,F(Xs,Qs,{results:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),he({title:"".concat(e.t0.name," Error fetching Discovery API services."),message:e.t0.message,level:de.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),tf=(g(Ys={},I,function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="undefined"===typeof window,n='"fcl.discovery" is only available in the browser.',t&&console.warn("\n      %cFCL Warning\n      ============================\n      ".concat(n,"\n      For more info, please see the docs: https://docs.onflow.org/fcl/\n      ============================\n      "),"font-weight:bold;font-family:monospace;"),"complete"===document.readyState?ef():window.onload=l(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ef();case 1:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}var t,n}),e)})));return function(t){return e.apply(this,arguments)}}()),g(Ys,Qs,(function(e,t,n){e.merge(n),e.broadcast(Zs,w({},e.all()))})),g(Ys,R,(function(e,t){e.subscribe(t.from),e.send(t.from,Zs,w({},e.all()))})),g(Ys,A,(function(e,t){return e.unsubscribe(t.from)})),g(Ys,$s,function(){var e=l(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.reply(w({},t.all())));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ys),nf=function(){return D(tf,Xs)},rf={authn:{subscribe:function(e){return U(Xs,nf,e)},snapshot:function(){return B(Xs,nf)},update:function(){return ef()}}};function af(){return"undefined"!==typeof navigator&&/iPhone|iPod/.test(navigator.userAgent)||"undefined"!==typeof navigator&&/iPad/.test(navigator.userAgent)}function of(){return"undefined"!==typeof navigator&&/android/i.test(navigator.userAgent)||af()}var uf=function(e){return"function"===typeof e},cf="CURRENT_USER",sf="CURRENT_USER/UPDATED",ff="SNAPSHOT",lf="SET_CURRENT_USER",pf="DEL_CURRENT_USER",df='{\n  "f_type": "User",\n  "f_vsn": "1.0.0",\n  "addr":null,\n  "cid":null,\n  "loggedIn":null,\n  "expiresAt":null,\n  "services":[]\n}',vf=function(){var e=l(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(df),e.next=3,t.get(cf);case 3:if(null==(r=e.sent)||n.f_vsn===r.f_vsn){e.next=7;break}return t.removeItem(cf),e.abrupt("return",n);case 7:return e.abrupt("return",r||n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hf=(g(Js={},I,function(){var e=l(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"===typeof window&&console.warn('\n        %cFCL Warning\n        ============================\n        "currentUser" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        ',"font-weight:bold;font-family:monospace;"),t.merge(JSON.parse(df)),e.next=4,ie.first(["fcl.storage","fcl.storage.default"]);case 4:if(!(n=e.sent).can){e.next=10;break}return e.next=8,vf(n);case 8:yf(r=e.sent)&&t.merge(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g(Js,R,(function(e,t){e.subscribe(t.from),e.send(t.from,sf,w({},e.all()))})),g(Js,A,(function(e,t){e.unsubscribe(t.from)})),g(Js,ff,function(){var e=l(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.reply(w({},t.all()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g(Js,lf,function(){var e=l(d().mark((function e(t,n,r){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.merge(r),e.next=3,ie.first(["fcl.storage","fcl.storage.default"]);case 3:(a=e.sent).can&&a.put(cf,t.all()),t.broadcast(sf,w({},t.all()));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),g(Js,pf,function(){var e=l(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.merge(JSON.parse(df)),e.next=3,ie.first(["fcl.storage","fcl.storage.default"]);case 3:(r=e.sent).can&&r.put(cf,t.all()),t.broadcast(sf,w({},t.all()));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Js),mf=function(){return D(hf,cf)};function yf(e){return null==e.expiresAt||0===e.expiresAt||e.expiresAt>Date.now()}function gf(){return bf.apply(this,arguments)}function bf(){return(bf=l(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.get("fcl.accountProof.resolver");case 2:if(t=e.sent,uf(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t();case 7:if(null!=(n=e.sent)){e.next=10;break}return e.abrupt("return");case 10:return le("string"===typeof n.appIdentifier,"appIdentifier must be a string"),le(/^[0-9a-f]+$/i.test(n.nonce),"Nonce must be a hex string"),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wf=function(){var e=l(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.discoveryAuthnInclude,e.t0=n,e.next=4,qs();case 4:return e.t1=e.sent,e.t2=Gs.getStrategies(),e.t3={discoveryAuthnInclude:e.t0,clientServices:e.t1,supportedStrategies:e.t2},e.abrupt("return",{client:e.t3});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function xf(){return kf.apply(this,arguments)}function kf(){return kf=l(d().mark((function e(){var t,n,r,a,o,u,c,i=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>0&&void 0!==i[0]?i[0]:{},a=r.service,o=r.redir,u=void 0!==o&&o,!a||null!==a&&void 0!==a&&null!==(t=a.provider)&&void 0!==t&&t.is_installed||null===a||void 0===a||null===(n=a.provider)||void 0===n||!n.requires_install){e.next=4;break}return window.location.href=null===a||void 0===a||null===(c=a.provider)||void 0===c?void 0:c.install_link,e.abrupt("return");case 4:return e.abrupt("return",new Promise(function(){var e=l(d().mark((function e(t,n){var r,o,c,i,s,f,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf(),r={redir:u},e.next=4,Tf();case 4:return o=e.sent,e.next=7,Hs(a);case 7:return c=e.sent,i=ns(o.services,"authn-refresh"),e.prev=9,e.next=12,gf();case 12:s=e.sent,e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),console.error("Error During Authentication: Could not resolve account proof data.\n        ".concat(e.t0)),e.abrupt("return",n(e.t0));case 19:if(!o.loggedIn){e.next=47;break}if(!i){e.next=46;break}return e.prev=21,e.next=24,Bs({service:i,msg:s,opts:r});case 24:return f=e.sent,e.t1=F,e.t2=cf,e.t3=lf,e.next=30,es(f);case 30:e.t4=e.sent,(0,e.t1)(e.t2,e.t3,e.t4),e.next=37;break;case 34:e.prev=34,e.t5=e.catch(21),console.error("Error: Could not refresh authentication.",e.t5);case 37:return e.prev=37,e.t6=t,e.next=41,Tf();case 41:return e.t7=e.sent,e.abrupt("return",(0,e.t6)(e.t7));case 44:e.next=47;break;case 46:return e.abrupt("return",t(o));case 47:return e.prev=47,e.t8=Bs,e.t9=c,e.t10=s,e.next=53,wf(c);case 53:return e.t11=e.sent,e.t12=r,e.t13={service:e.t9,msg:e.t10,config:e.t11,opts:e.t12},e.next=58,(0,e.t8)(e.t13);case 58:return l=e.sent,e.t14=F,e.t15=cf,e.t16=lf,e.next=64,es(l);case 64:e.t17=e.sent,(0,e.t14)(e.t15,e.t16,e.t17),e.next=71;break;case 68:e.prev=68,e.t18=e.catch(47),console.error("Error while authenticating",e.t18);case 71:return e.prev=71,e.t19=t,e.next=75,Tf();case 75:return e.t20=e.sent,(0,e.t19)(e.t20),e.finish(71);case 78:case"end":return e.stop()}}),e,null,[[9,15],[21,34,37,44],[47,68,71,78]])})));return function(t,n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function Ef(){mf(),F(cf,pf)}function Sf(e){var t=function(e){return{f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(e||{}).proposer,payer:(e||{}).payer||[],authorization:(e||{}).authorization||[]}}(e),n=[];null!=t.proposer&&n.push(["PROPOSER",t.proposer]);var r,a=x(t.payer||[]);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.push(["PAYER",o])}}catch(l){a.e(l)}finally{a.f()}var u,c=x(t.authorization||[]);try{for(c.s();!(u=c.n()).done;){var i=u.value;n.push(["AUTHORIZER",i])}}catch(l){c.e(l)}finally{c.f()}var f=n.map((function(e){var t=s(e,2),n=t[0],r=t[1];return{tempId:[r.identity.address,r.identity.keyId].join("|"),addr:r.identity.address,keyId:r.identity.keyId,signingFunction:function(e){return Bs({service:r,msg:e})},role:{proposer:"PROPOSER"===n,payer:"PAYER"===n,authorizer:"AUTHORIZER"===n}}}));return f}function If(e){return Rf.apply(this,arguments)}function Rf(){return Rf=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf(),e.abrupt("return",w(w({},t),{},{tempId:"CURRENT_USER",resolve:function(e,t){return l(d().mark((function n(){var r,a,o,u;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xf({redir:!0});case 2:if(r=n.sent,a=ns(r.services,"authz"),!(o=ns(r.services,"pre-authz"))){n.next=11;break}return n.t0=Sf,n.next=9,Bs({service:o,msg:t});case 9:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 11:if(!a){n.next=14;break}return of()&&"WC/RPC"===a.method&&(u=window.open("","_blank")),n.abrupt("return",w(w({},e),{},{tempId:"CURRENT_USER",resolve:null,addr:Fe(a.identity.address),keyId:a.identity.keyId,sequenceNum:null,signature:null,signingFunction:function(e){return l(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zs,t.next=3,Bs({service:a,msg:e,opts:{includeOlderJsonRpcCall:!0,windowRef:u}});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})))()}}));case 14:throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER");case 15:case"end":return n.stop()}}),n)})))()}}));case 2:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}function Af(e){mf();var t="@EXIT",n=D(function(){var n=l(d().mark((function n(r){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.send(cf,R);case 1:return n.next=4,r.receive();case 4:if((a=n.sent).tag!==t){n.next=8;break}return r.send(cf,A),n.abrupt("return");case 8:e(a.data),n.next=1;break;case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return function(){return F(n,t)}}function Tf(){return mf(),F(cf,ff,null,{expectReply:!0,timeout:0})}function _f(){return Cf.apply(this,arguments)}function Cf(){return(Cf=l(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xf();case 2:return t=e.sent,n=t.addr,e.abrupt("return",ou(je(n),Vc));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Of=function(e){return le(/^[0-9a-f]+$/i.test(e),"Message must be a hex string"),{message:e}};function Pf(e){return Nf.apply(this,arguments)}function Nf(){return Nf=l(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf(),e.next=3,xf({redir:!0});case 3:return n=e.sent,le(r=ns(n.services,"user-signature"),"Current user must have authorized a signing service."),e.prev=6,e.next=9,Bs({service:r,msg:Of(t)});case 9:if(a=e.sent,!Array.isArray(a)){e.next=14;break}return e.abrupt("return",a.map((function(e){return zs(e)})));case 14:return e.abrupt("return",[zs(a)]);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(6),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])}))),Nf.apply(this,arguments)}var Lf=function(){return{authenticate:xf,unauthenticate:Ef,authorization:If,signUserMessage:Pf,subscribe:Af,snapshot:Tf,resolveArgument:_f}};function Ff(){return jf.apply(this,arguments)}function jf(){return jf=l(d().mark((function e(){var t,n,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,Pi(t);case 4:return e.next=6,Ti(t);case 6:return t=e.sent,e.next=9,ie().get("fcl.authz",Lf().authorization);case 9:return r=e.sent,n=ie().overload(t.dependencies||{},l(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo([vu(t.cadence),au(gi(t.args||[])),t.limit&&yi(t.limit)&&ru(t.limit),uu(t.proposer||t.authz||r),iu(t.payer||t.authz||r),Vo(t.authorizations||[t.authz||r])]).then(Bo));case 1:case"end":return e.stop()}}),e)})))),e.abrupt("return",n);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])}))),jf.apply(this,arguments)}Lf.authenticate=xf,Lf.unauthenticate=Ef,Lf.authorization=If,Lf.signUserMessage=Pf,Lf.subscribe=Af,Lf.snapshot=Tf,Lf.resolveArgument=_f;var Gf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=function(e){var t;return e.deprecated&&console.warn("DEPRECATION NOTICE",e.deprecated.message),null===e||void 0===e||(null===(t=e.body)||void 0===t||delete t.interaction),e},r=function(r){var a=r.data;"object"===m(a)&&null!=m(a)&&a.type===e&&t(n(a))};return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}},Df=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.location!==window.parent.location)window.parent.postMessage(w(w({},t),{},{type:e}),"*");else{if(!window.opener)throw new Error("Unable to communicate with parent FCL instance");window.opener.postMessage(w(w({},t),{},{type:e}),"*")}};var Uf=function(e,t){return me.Buffer.from(e.padEnd(2*t,"0"),"hex")},Bf=function(e){return function(e,t){return me.Buffer.from(e.padStart(2*t,"0"),"hex")}(e,8)},Mf=function(e){return me.Buffer.from(e,"hex")},zf=function(e){var t=e.address,n=e.nonce,r=e.appIdentifier,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];le(t,"Encode Message For Provable Authn Error: address must be defined"),le(n,"Encode Message For Provable Authn Error: nonce must be defined"),le(r,"Encode Message For Provable Authn Error: appIdentifier must be defined"),le(n.length>=64,"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes");var o=Uf(me.Buffer.from("FCL-ACCOUNT-PROOF-V0.0").toString("hex"),32);return a?me.Buffer.concat([o,ye([r,Bf(Fe(t)),Mf(n)])]).toString("hex"):ye([r,Bf(Fe(t)),Mf(n)]).toString("hex")};var Yf=Object.freeze({__proto__:null,sendMsgToFCL:Df,ready:function(e){Gf("FCL:VIEW:READY:RESPONSE",e),Df("FCL:VIEW:READY")},close:function(){Df("FCL:VIEW:CLOSE")},approve:function(e){Df("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"APPROVED",reason:null,data:e})},decline:function(e){Df("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"DECLINED",reason:e,data:null})},redirect:function(e){Df("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"REDIRECT",reason:null,data:e})},onMessageFromFCL:Gf,encodeMessageFromSignable:function(e,t){var n=function(e){var t=new Set(e.authorizers);return t.add(e.proposalKey.address),t.delete(e.payer),Array.from(t).map(je)}(e.voucher),r=function(e){var t=new Set([e.payer]);return Array.from(t).map(je)}(e.voucher),a=n.includes(je(t)),o=r.includes(je(t));if(!a&&!o)throw new zo(t);var u={cadence:e.voucher.cadence,refBlock:e.voucher.refBlock,computeLimit:e.voucher.computeLimit,arguments:e.voucher.arguments,proposalKey:w(w({},e.voucher.proposalKey),{},{address:Fe(e.voucher.proposalKey.address)}),payer:Fe(e.voucher.payer),authorizers:e.voucher.authorizers.map(Fe),payloadSigs:e.voucher.payloadSigs.map((function(e){return w(w({},e),{},{address:Fe(e.address)})}))};return a?La(u):Fa(u)},CompositeSignature:function(e,t,n){this.f_type=Hi.f_type,this.f_vsn=Hi.f_vsn,this.addr=je(e),this.keyId=Number(t),this.signature=n},encodeAccountProof:zf,injectExtService:function(e){"authn"===e.type&&null!=e.endpoint?(Array.isArray(window.fcl_extensions)||(window.fcl_extensions=[]),window.fcl_extensions.push(e)):console.warn("Authn service is required")}}),qf="ACCOUNT_PROOF",Hf="USER_SIGNATURE",Kf=function(e){if(e.appIdentifier){var t=e.appIdentifier,n=e.address,r=e.nonce,a=e.signatures;return le(hi(t),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),le(hi(n)&&16===Fe(n).length,"verifyAccountProof({ address }) -- address must be a valid address"),le(/^[0-9a-f]+$/i.test(r),"nonce must be a hex string"),le(Array.isArray(a)&&a.every((function(e,t,n){return"CompositeSignature"===e.f_type})),"Must include an Array of CompositeSignatures to verify"),le(a.map((function(e){return e.addr})).every((function(e,t,n){return e===n[0]})),"User signatures to be verified must be from a single account address"),!0}var o=e.message,u=e.address,c=e.compSigs;return le(/^[0-9a-f]+$/i.test(o),"Signed message must be a hex string"),le(hi(u)&&16===Fe(u).length,"verifyUserSignatures({ address }) -- address must be a valid address"),le(Array.isArray(c)&&c.every((function(e,t,n){return"CompositeSignature"===e.f_type})),"Must include an Array of CompositeSignatures to verify"),le(c.map((function(e){return e.addr})).every((function(e,t,n){return e===n[0]})),"User signatures to be verified must be from a single account address"),!0},Wf=function(){var e=l(d().mark((function e(t,n){var r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="ACCOUNT_PROOF"===t?"verifyAccountProofSignatures":"verifyUserSignatures",e.next=3,ie.get("flow.network");case 3:if(a=e.sent){e.next=9;break}return e.next=7,ie.get("env");case 7:(a=e.sent)&&he.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:'Please use "flow.network" instead.',transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"});case 9:return le(n.fclCryptoContract||"testnet"===a||"mainnet"===a,"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract"),o=n.fclCryptoContract?n.fclCryptoContract:"testnet"===a?"0x74daa6f9c7ef24b1":"0xb4b82a1c9d21d284",e.abrupt("return","\n      import FCLCrypto from ".concat(o,"\n\n      pub fun main(\n          address: Address, \n          message: String, \n          keyIndices: [Int], \n          signatures: [String]\n      ): Bool {\n        return FCLCrypto.").concat(r,"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\n      }\n    "));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Vf(){return Vf=l(d().mark((function e(t,n){var r,a,o,u,c,i,s,f,l,p,v=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.address,a=n.nonce,o=n.signatures,u=v.length>2&&void 0!==v[2]?v[2]:{},Kf({appIdentifier:t,address:r,nonce:a,signatures:o}),c=zf({address:r,nonce:a,appIdentifier:t},!1),i=[],s=[],f=x(o);try{for(f.s();!(l=f.n()).done;)p=l.value,i.push(p.signature),s.push(p.keyId.toString())}catch(d){f.e(d)}finally{f.f()}return e.t0=ji,e.next=11,Wf(qf,u);case 11:return e.t1=e.sent,e.t2=function(e,t){return[e(je(r),t.Address),e(c,t.String),e(s,t.Array(t.Int)),e(i,t.Array(t.String))]},e.t3={cadence:e.t1,args:e.t2},e.abrupt("return",(0,e.t0)(e.t3));case 15:case"end":return e.stop()}}),e)}))),Vf.apply(this,arguments)}function Jf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=l(d().mark((function e(t,n){var r,a,o,u,c,i,s,f=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>2&&void 0!==f[2]?f[2]:{},a=je(n[0].addr),Kf({message:t,address:a,compSigs:n}),o=[],u=[],c=x(n);try{for(c.s();!(i=c.n()).done;)s=i.value,o.push(s.signature),u.push(s.keyId.toString())}catch(l){c.e(l)}finally{c.f()}return e.t0=ji,e.next=10,Wf(Hf,r);case 10:return e.t1=e.sent,e.t2=function(e,n){return[e(a,n.Address),e(t,n.String),e(u,n.Array(n.Int)),e(o,n.Array(n.String))]},e.t3={cadence:e.t1,args:e.t2},e.abrupt("return",(0,e.t0)(e.t3));case 14:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}var $f,Zf,Qf=Object.freeze({__proto__:null,verifyAccountProof:function(e,t){return Vf.apply(this,arguments)},verifyUserSignatures:Jf}),el=he.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(e,t){return Jf(e,t)}}),tl=function(){var e=l(d().mark((function e(){var t,n,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,ie.first(["sdk.resolve"],n.resolve||Fo);case 4:if(r=e.sent,!Array.isArray(t)){e.next=9;break}return e.next=8,Zr(ir(),t);case 8:t=e.sent;case 9:return e.t0=JSON,e.t1=yo,e.next=13,r(t);case 13:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0.stringify.call(e.t0,e.t3,null,2));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nl="POLL",rl=function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo([tu(t)]).then(Bo));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),al=function(e){return e.status>=4},ol=function(e){return e.status>=3},ul=function(e){return e.status>=2},cl=(g($f={},I,function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.sendSelf(nl);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g($f,R,(function(e,t){e.subscribe(t.from),e.send(t.from,T,e.all())})),g($f,A,(function(e,t){e.unsubscribe(t.from)})),g($f,_,function(){var e=l(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.reply(t.all());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g($f,nl,function(){var e=l(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rl(t.self());case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",t.fatalError(e.t0));case 9:al(n)||setTimeout((function(){return t.sendSelf(nl)}),2500),r=t.all(),a=n,JSON.stringify(r)!==JSON.stringify(a)&&t.broadcast(T,n),t.merge(n);case 12:case"end":return e.stop()}var r,a}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),$f),il=function(e){if("object"===m(e)&&(e=e.transactionId),null==e)throw new Error("transactionId required");return e},sl=function(e){return D(cl,il(e))};function fl(e){function t(t){return U(il(e),sl,t)}function n(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.suppress||!1;return new Promise((function(n,a){var o=t((function(t,u){!u&&!t.statusCode||r?e(t)&&(n(t),o()):(a(u||t.errorMessage),o())}))}))}}return{snapshot:function(){return B(e,sl)},subscribe:t,onceFinalized:n(ul),onceExecuted:n(ol),onceSealed:n(al)}}fl.isUnknown=function(e){return e.status>=0},fl.isPending=function(e){return e.status>=1},fl.isFinalized=ul,fl.isExecuted=ol,fl.isSealed=al,fl.isExpired=function(e){return 5===e.status};var ll="TICK",pl="hwm",dl=function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=setTimeout,e.t1=function(){return t.sendSelf(ll)},e.next=4,ie().get("fcl.eventPollRate",1e4);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vl=(g(Zf={},ll,function(){var e=l(d().mark((function e(t){var n,r,a,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasSubs()){e.next=2;break}return e.abrupt("return");case 2:if(null!=(n=t.get(pl))){e.next=18;break}return e.t0=t,e.t1=pl,e.next=8,Wo();case 8:return e.t2=e.sent,e.t0.put.call(e.t0,e.t1,e.t2),e.t3=t,e.t4=ll,e.next=14,dl(t);case 14:e.t5=e.sent,e.t3.put.call(e.t3,e.t4,e.t5),e.next=34;break;case 18:return e.next=20,Wo();case 20:if(r=e.sent,t.put(pl,r),!(n.height<r.height)){e.next=28;break}return e.next=25,Uo([$o(t.self(),n.height+1,r.height)]).then(Bo);case 25:a=e.sent,o=x(a);try{for(o.s();!(u=o.n()).done;)c=u.value,t.broadcast("UPDATED",c.data)}catch(i){o.e(i)}finally{o.f()}case 28:return e.t6=t,e.t7=ll,e.next=32,dl(t);case 32:e.t8=e.sent,e.t6.put.call(e.t6,e.t7,e.t8);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g(Zf,R,function(){var e=l(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasSubs()){e.next=7;break}return e.t0=t,e.t1=ll,e.next=5,dl(t);case 5:e.t2=e.sent,e.t0.put.call(e.t0,e.t1,e.t2);case 7:t.subscribe(n.from);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g(Zf,A,(function(e,t){e.unsubscribe(t.from),e.hasSubs()||(clearTimeout(e.get(ll)),e.delete(ll),e.delete(pl))})),Zf),hl=function(e){return D(vl,e)};function ml(e){return{subscribe:function(t){return U(e,hl,t)}}}var yl={},gl={},bl={},wl={},xl=function(e,t){return function(n,r){var a=2*r,o=2*t;n[a]=e[o],n[a+1]=e[o+1]}};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=(t=xl)&&t.__esModule?t:{default:t};var r=function(e){for(var t=e.A,r=e.C,a=0;a<25;a+=5){for(var o=0;o<5;o++)(0,n.default)(t,a+o)(r,o);for(var u=0;u<5;u++){var c=2*(a+u),i=(u+1)%5*2,s=(u+2)%5*2;t[c]^=~r[i]&r[s],t[c+1]^=~r[i+1]&r[s+1]}}};e.default=r}(wl);var kl={},El={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);e.default=t}(El),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=(t=El)&&t.__esModule?t:{default:t};var r=function(e){var t=e.A,r=2*e.roundIndex;t[0]^=n.default[r],t[1]^=n.default[r+1]};e.default=r}(kl);var Sl={},Il={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];e.default=t}(Il);var Rl={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];e.default=t}(Rl),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(Il),n=a(Rl),r=a(xl);function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var a=e.A,o=e.C,u=e.W;(0,r.default)(a,1)(u,0);for(var c=0,i=0,s=0,f=32,l=0;l<24;l++){var p=t.default[l],d=n.default[l];(0,r.default)(a,p)(o,0),c=u[0],i=u[1],f=32-d,u[s=d<32?0:1]=c<<d|i>>>f,u[(s+1)%2]=i<<d|c>>>f,(0,r.default)(u,0)(a,p),(0,r.default)(o,0)(u,0)}};e.default=o}(Sl);var Al={};function Tl(e){return _l.apply(this,arguments)}function _l(){return(_l=l(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new yl.SHA3(256)).update(me.Buffer.from(t,"utf8")),e.abrupt("return",n.digest("hex"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cl(e){return Ol.apply(this,arguments)}function Ol(){return Ol=l(d().mark((function e(t){var n,r,a,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Do(void 0!=(n=t.template),"generateTemplateId({ template }) -- template must be defined"),Do("object"===m(n),"generateTemplateId({ template }) -- template must be an object"),Do("InteractionTemplate"===typeof n.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate"),n=Si(n),e.t0=n.f_version,e.next="1.0.0"===e.t0?8:40;break;case 8:return r=n.data,e.next=11,Promise.all(Object.keys(r.messages).map(function(){var e=l(d().mark((function e(t){var n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(t);case 2:return e.t0=e.sent,e.next=5,Promise.all(Object.keys(null===(n=r.messages)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.i18n).map(function(){var e=l(d().mark((function e(n){var a,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(n);case 2:return e.t0=e.sent,e.next=5,Tl(null===(a=r.messages)||void 0===a||null===(o=a[t])||void 0===o||null===(u=o.i18n)||void 0===u?void 0:u[n]);case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return a=e.sent,e.next=14,Promise.all(Object.keys(null===r||void 0===r?void 0:r.dependencies).map(function(){var e=l(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(t);case 2:return e.t0=e.sent,e.next=5,Promise.all(Object.keys(null===r||void 0===r||null===(n=r.dependencies)||void 0===n?void 0:n[t]).map(function(){var e=l(d().mark((function e(n){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(n);case 2:return e.t0=e.sent,e.next=5,Promise.all(Object.keys(null===r||void 0===r||null===(a=r.dependencies)||void 0===a||null===(o=a[t])||void 0===o?void 0:o[n]).map(function(){var e=l(d().mark((function e(a){var o,u,c,i,s,f,l,p,v,h,m,y,g,b,w;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(a);case 2:return e.t0=e.sent,e.next=5,Tl(null===r||void 0===r||null===(o=r.dependencies)||void 0===o||null===(u=o[t])||void 0===u||null===(c=u[n])||void 0===c?void 0:c[a].address);case 5:return e.t1=e.sent,e.next=8,Tl(null===r||void 0===r||null===(i=r.dependencies)||void 0===i||null===(s=i[t])||void 0===s||null===(f=s[n])||void 0===f?void 0:f[a].contract);case 8:return e.t2=e.sent,e.next=11,Tl(null===r||void 0===r||null===(l=r.dependencies)||void 0===l||null===(p=l[t])||void 0===p||null===(v=p[n])||void 0===v?void 0:v[a].fq_address);case 11:return e.t3=e.sent,e.next=14,Tl(null===r||void 0===r||null===(h=r.dependencies)||void 0===h||null===(m=h[t])||void 0===m||null===(y=m[n])||void 0===y?void 0:y[a].pin);case 14:return e.t4=e.sent,e.next=17,Tl(String(null===r||void 0===r||null===(g=r.dependencies)||void 0===g||null===(b=g[t])||void 0===b||null===(w=b[n])||void 0===w?void 0:w[a].pin_block_height));case 17:return e.t5=e.sent,e.t6=[e.t1,e.t2,e.t3,e.t4,e.t5],e.abrupt("return",[e.t0,e.t6]);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return o=e.sent,e.next=17,Promise.all(Object.keys(null===r||void 0===r?void 0:r.arguments).map(function(){var e=l(d().mark((function e(t){var n,a,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(t);case 2:return e.t0=e.sent,e.next=5,Tl(String(null===r||void 0===r||null===(n=r.arguments)||void 0===n?void 0:n[t].index));case 5:return e.t1=e.sent,e.next=8,Tl(null===r||void 0===r||null===(a=r.arguments)||void 0===a?void 0:a[t].type);case 8:return e.t2=e.sent,e.next=11,Tl((null===r||void 0===r||null===(o=r.arguments)||void 0===o?void 0:o[t].balance)||"");case 11:return e.t3=e.sent,e.next=14,Promise.all(Object.keys(null===r||void 0===r||null===(u=r.arguments)||void 0===u?void 0:u[t].messages).map(function(){var e=l(d().mark((function e(n){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(n);case 2:return e.t0=e.sent,e.next=5,Promise.all(Object.keys(null===r||void 0===r||null===(a=r.arguments)||void 0===a||null===(o=a[t].messages)||void 0===o?void 0:o[n].i18n).map(function(){var e=l(d().mark((function e(a){var o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(a);case 2:return e.t0=e.sent,e.next=5,Tl(null===r||void 0===r||null===(o=r.arguments)||void 0===o||null===(u=o[t].messages)||void 0===u||null===(c=u[n].i18n)||void 0===c?void 0:c[a]);case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return e.t4=e.sent,e.t5=[e.t1,e.t2,e.t3,e.t4],e.abrupt("return",[e.t0,e.t5]);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 17:return u=e.sent,e.t1=ye,e.next=21,Tl("InteractionTemplate");case 21:return e.t2=e.sent,e.next=24,Tl("1.0.0");case 24:return e.t3=e.sent,e.next=27,Tl(null===r||void 0===r?void 0:r.type);case 27:return e.t4=e.sent,e.next=30,Tl(null===r||void 0===r?void 0:r.interface);case 30:return e.t5=e.sent,e.t6=a,e.next=34,Tl(null===r||void 0===r?void 0:r.cadence);case 34:return e.t7=e.sent,e.t8=o,e.t9=u,e.t10=[e.t2,e.t3,e.t4,e.t5,e.t6,e.t7,e.t8,e.t9],c=(0,e.t1)(e.t10).toString("hex"),e.abrupt("return",Tl(c));case 40:throw new Error("generateTemplateId Error: Unsupported template version");case 41:case"end":return e.stop()}}),e)}))),Ol.apply(this,arguments)}function Pl(){return Pl=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.template,r=t.auditors,a=f.length>1&&void 0!==f[1]?f[1]:{},Do(void 0!=n,"getInteractionTemplateAudits({ template }) -- template must be defined"),Do("InteractionTemplate"===(n=Si(n)).f_type,"getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate"),e.next=7,Cl({template:n});case 7:if((o=e.sent)===n.id){e.next=11;break}throw he({title:"getInteractionTemplateAudits Debug Error",message:"Could not recompute and match template ID\n                computed: ".concat(o,"\n                template: ").concat(n.id,"\n            "),level:de.debug}),new Error("getInteractionTemplateAudits Error: Could not recompute and match template ID");case 11:e.t0=n.f_version,e.next="1.0.0"===e.t0?14:33;break;case 14:if(e.t1=r,e.t1){e.next=19;break}return e.next=18,ie().get("flow.auditors");case 18:e.t1=e.sent;case 19:if(Do(u=e.t1,"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set"),Do(Array.isArray(u),"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array"),c=a.flowInteractionAuditContract){e.next=29;break}return e.next=26,ie().get("flow.network");case 26:Do("mainnet"===(i=e.sent)||"testnet"===i,"getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'"),c="mainnet"===i?"0xfd100e39d50a13e6":"0xf78bfc12d0a786dc";case 29:return e.next=31,ji({cadence:"\n        import FlowInteractionTemplateAudit from ".concat(c,"\n        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {\n          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)\n        }\n        "),args:function(e,t){return[e(o,t.String),e(u,t.Array(t.Address))]}});case 31:return s=e.sent,e.abrupt("return",s);case 33:throw new Error("getInteractionTemplateAudits Error: Unsupported template version");case 34:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Nl(e){return{contractName:e.contractName,address:e.address,contract:""}}function Ll(e){var t,n=[],r=x(e.match(/import ((\w|,| )+)* from 0x\w+/g)||[]);try{for(r.s();!(t=r.n()).done;){var a,o=t.value,u=/import ((\w+|, |)*) from (0x\w+)/g.exec(o),c=x(u[1].match(/((?:\w+)+),?/g)||[]);try{for(c.s();!(a=c.n()).done;){var i=a.value;n.push(Nl({address:u[3],contractName:i.replace(/,/g,"")}))}}catch(s){c.e(s)}finally{c.f()}}}catch(s){r.e(s)}finally{r.f()}return n}function Fl(e){return jl.apply(this,arguments)}function jl(){return jl=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f,l,p,v,h,m=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.address,r=t.contractName,a=t.blockHeight,o=m.length>1&&void 0!==m[1]?m[1]:{},Do(void 0!=n,"generateDependencyPin({ address }) -- address must be defined"),Do(void 0!=r,"generateDependencyPin({ contractName }) -- contractName must be defined"),Do(void 0!=a,"generateDependencyPin({ blockHeight }) -- blockHeight must be defined"),Do("string"===typeof n,"generateDependencyPin({ address }) -- address must be a string"),Do("string"===typeof r,"generateDependencyPin({ contractName }) -- contractName must be a string"),Do("number"===typeof a,"generateDependencyPin({ blockHeight }) -- blockHeight must be a number"),u=[Nl({contractName:r,address:n})],c=0,i=u;case 10:if(!(c<i.length)){e.next=33;break}return f=i[c],e.t0=Uo,e.t1=ca,e.next=16,ie().get(f.address,f.address);case 16:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=qo(a),e.t5=[e.t3,e.t4],e.t6=o,e.next=23,(0,e.t0)(e.t5,e.t6).then(Bo);case 23:if(l=e.sent,f.contract=null===(s=l.contracts)||void 0===s?void 0:s[f.contractName],f.contract){e.next=28;break}throw console.error("Did not find expected contract",f,l),new Error("Did not find expected contract");case 28:p=Ll(f.contract),u.push.apply(u,pe(p));case 30:c++,e.next=10;break;case 33:return v=u.map((function(e){return Tl(e.contract)})),h=v.join(""),e.abrupt("return",Tl(h));case 36:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function Gl(){return Gl=l(d().mark((function e(t){var n,r,a,o,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=t.contractName,a=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,Wo({sealed:!0},a);case 4:return o=e.sent,u=null===o||void 0===o?void 0:o.height,e.abrupt("return",Fl({address:n,contractName:r,blockHeight:u},a));case 7:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Dl(e){if(null==e)return null;if("1.0.0"===e.f_version)return e;throw new Error("normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface")}function Ul(){return Ul=l(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Do(void 0!=(n=t.templateInterface),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined"),Do("object"===m(n),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object"),Do("InteractionTemplateInterface"===typeof n.f_type,"generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate"),n=Dl(n),e.t0=n.f_version,e.next="1.0.0"===e.t0?8:25;break;case 8:return r=n.data,e.t1=ye,e.next=12,Tl("InteractionTemplateInterface");case 12:return e.t2=e.sent,e.next=15,Tl("1.0.0");case 15:return e.t3=e.sent,e.next=18,Tl(r.flip);case 18:return e.t4=e.sent,e.next=21,Promise.all(Object.keys(r.arguments).map(function(){var e=l(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(t);case 2:return e.t0=e.sent,e.next=5,Tl(String(r.arguments[t].index));case 5:return e.t1=e.sent,e.next=8,Tl(r.arguments[t].type);case 8:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 21:return e.t5=e.sent,e.t6=[e.t2,e.t3,e.t4,e.t5],a=(0,e.t1)(e.t6).toString("hex"),e.abrupt("return",Tl(a));case 25:throw new Error("generateTemplateInterfaceId Error: Unsupported templateInterface version");case 26:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function Bl(e){return Ml.apply(this,arguments)}function Ml(){return Ml=l(d().mark((function e(t){var n,r,a,o,u,c,i,s,f,l,p,v,h,y,g,b,w=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.template,r=t.blockHeight,a=t.network,o=w.length>1&&void 0!==w[1]?w[1]:{},Do(void 0!=n,"generateDependencyPin({ template }) -- template must be defined"),Do("object"===m(n),"generateDependencyPin({ template }) -- template must be an object"),Do("InteractionTemplate"===n.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),n=Si(n),Do(void 0!=a,"generateDependencyPin({ network }) network must be defined"),Do(void 0!=r,"generateDependencyPin({ blockHeight }) blockHeight must be defined"),Do("number"===typeof r,"generateDependencyPin({ blockHeight }) blockHeight must be a number"),e.t0=n.f_version,e.next="1.0.0"===e.t0?12:38;break;case 12:u=Object.keys(n.data.dependencies),c=0,i=u;case 14:if(!(c<i.length)){e.next=37;break}s=i[c],f=n.data.dependencies[s],l=Object.keys(f),p=0,v=l;case 19:if(!(p<v.length)){e.next=34;break}if(h=v[p],y=n.data.dependencies[s][h],"undefined"!==typeof(g=y[a])){e.next=25;break}return e.abrupt("continue",31);case 25:return e.next=27,Fl({address:g.address,contractName:g.contract,blockHeight:r},o);case 27:if((b=e.sent)===g.pin){e.next=31;break}return he({title:"verifyDependencyPinsSame Debug Error",message:"Could not recompute and match dependency pin.\n                                address: ".concat(g.address," | contract: ").concat(g.contract,"\n                                computed: ").concat(b,"\n                                template: ").concat(g.pin,"\n                            "),level:de.debug}),e.abrupt("return",!1);case 31:p++,e.next=19;break;case 34:c++,e.next=14;break;case 37:return e.abrupt("return",!0);case 38:throw new Error("verifyDependencyPinsSame Error: Unsupported template version");case 39:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function zl(){return zl=l(d().mark((function e(t){var n,r,a,o,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.template,r=t.network,a=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,Wo({sealed:!0});case 4:return o=e.sent,u=null===o||void 0===o?void 0:o.height,e.abrupt("return",Bl({template:n,network:r,blockHeight:u},a));case 7:case"end":return e.stop()}}),e)}))),zl.apply(this,arguments)}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=(t=xl)&&t.__esModule?t:{default:t};var r=function(e){for(var t=e.A,r=e.C,a=e.D,o=e.W,u=0,c=0,i=0;i<5;i++){var s=2*i,f=2*(i+5),l=2*(i+10),p=2*(i+15),d=2*(i+20);r[s]=t[s]^t[f]^t[l]^t[p]^t[d],r[s+1]=t[s+1]^t[f+1]^t[l+1]^t[p+1]^t[d+1]}for(var v=0;v<5;v++){(0,n.default)(r,(v+1)%5)(o,0),u=o[0],c=o[1],o[0]=u<<1|c>>>31,o[1]=c<<1|u>>>31,a[2*v]=r[(v+4)%5*2]^o[0],a[2*v+1]=r[(v+4)%5*2+1]^o[1];for(var h=0;h<25;h+=5)t[2*(h+v)]^=a[2*v],t[2*(h+v)+1]^=a[2*v+1]}};e.default=r}(Al),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(wl),n=o(kl),r=o(Sl),a=o(Al);function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){var e=new Uint32Array(10),o=new Uint32Array(10),u=new Uint32Array(2);return function(c){for(var i=0;i<24;i++)(0,a.default)({A:c,C:e,D:o,W:u}),(0,r.default)({A:c,C:e,W:u}),(0,t.default)({A:c,C:e}),(0,n.default)({A:c,roundIndex:i});e.fill(0),o.fill(0),u.fill(0)}};e.default=u}(bl),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=me,r=(t=bl)&&t.__esModule?t:{default:t};var a=function(e,t){for(var n=0;n<e.length;n+=8){var r=n/4;t[r]^=e[n+7]<<24|e[n+6]<<16|e[n+5]<<8|e[n+4],t[r+1]^=e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]}return t},o=function(e,t){for(var n=0;n<t.length;n+=8){var r=n/4;t[n]=e[r+1],t[n+1]=e[r+1]>>>8,t[n+2]=e[r+1]>>>16,t[n+3]=e[r+1]>>>24,t[n+4]=e[r],t[n+5]=e[r]>>>8,t[n+6]=e[r]>>>16,t[n+7]=e[r]>>>24}return t},u=function(e){var t=this,u=e.capacity,c=e.padding,i=(0,r.default)(),s=u/8,f=200-u/4,l=0,p=new Uint32Array(50),d=n.Buffer.allocUnsafe(f);return this.absorb=function(e){for(var n=0;n<e.length;n++)d[l]=e[n],(l+=1)>=f&&(a(d,p),i(p),l=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||n.Buffer.allocUnsafe(s),padding:e.padding||c,queue:n.Buffer.allocUnsafe(d.length),state:new Uint32Array(p.length)};d.copy(t.queue);for(var r=0;r<p.length;r++)t.state[r]=p[r];t.queue.fill(0,l),t.queue[l]|=t.padding,t.queue[f-1]|=128,a(t.queue,t.state);for(var u=0;u<t.buffer.length;u+=f)i(t.state),o(t.state,t.buffer.slice(u,u+f));return t.buffer},this.reset=function(){return d.fill(0),p.fill(0),l=0,t},this};e.default=u}(gl),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SHAKE=e.SHA3Hash=e.SHA3=e.Keccak=void 0;var t,n=me,r=(t=gl)&&t.__esModule?t:{default:t};var a=function(e){var t=e.allowedSizes,a=e.defaultSize,o=e.padding;return function e(){var u=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;if(!this||this.constructor!==e)return new e(c);if(t&&!t.includes(c))throw new Error("Unsupported hash length");var i=new r.default({capacity:c});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(n.Buffer.isBuffer(e))return i.absorb(e),u;if("string"===typeof e)return u.update(n.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"===typeof e?{format:e}:e,n=i.squeeze({buffer:t.buffer,padding:t.padding||o});return t.format&&"binary"!==t.format?n.toString(t.format):n},this.reset=function(){return i.reset(),u},this}},o=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});e.Keccak=o;var u=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});e.SHA3=u;var c=a({allowedSizes:[128,256],defaultSize:256,padding:31});e.SHAKE=c;var i=o;e.SHA3Hash=i,u.SHA3Hash=i;var s=u;e.default=s}(yl);var Yl=Object.freeze({__proto__:null,getInteractionTemplateAudits:function(e){return Pl.apply(this,arguments)},generateDependencyPin:Fl,generateDependencyPinAtLatestSealedBlock:function(e){return Gl.apply(this,arguments)},generateTemplateId:Cl,generateTemplateInterfaceId:function(e){return Ul.apply(this,arguments)},verifyDependencyPinsSame:Bl,verifyDependencyPinsSameAtLatestSealedBlock:function(e){return zl.apply(this,arguments)},deriveCadenceByNetwork:Ii,getTemplateMessage:function(e){var t,n,r,a=e.localization,o=void 0===a?"en-US":a,u=e.messageKey,c=e.template;Do(u,"getMessage({ messageKey }) -- messageKey must be defined"),Do("stirng"===typeof u,"getMessage({ messageKey }) -- messageKey must be a string"),Do(o,"getMessage({ localization }) -- localization must be defined"),Do("stirng"===typeof o,"getMessage({ localization }) -- localization must be a string"),Do(void 0!=c,"generateTemplateId({ template }) -- template must be defined"),Do("object"===m(c),"generateTemplateId({ template }) -- template must be an object"),Do("InteractionTemplate"===typeof c.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate");var i=null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.messages;return null===i||void 0===i||null===(n=i[u])||void 0===n||null===(r=n.i18n)||void 0===r?void 0:r[o]},getTemplateArgumentMessage:function(e){var t,n,r,a,o,u=e.localization,c=void 0===u?"en-US":u,i=e.argumentLabel,s=e.messageKey,f=e.template;Do(s,"getMessage({ messageKey }) -- messageKey must be defined"),Do("stirng"===typeof s,"getMessage({ messageKey }) -- messageKey must be a string"),Do(i,"getMessage({ argumentLabel }) -- argumentLabel must be defined"),Do("stirng"===typeof s,"getMessage({ argumentLabel }) -- argumentLabel must be a string"),Do(c,"getMessage({ localization }) -- localization must be defined"),Do("stirng"===typeof c,"getMessage({ localization }) -- localization must be a string"),Do(void 0!=f,"generateTemplateId({ template }) -- template must be defined"),Do("object"===m(f),"generateTemplateId({ template }) -- template must be an object"),Do("InteractionTemplate"===typeof f.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate");var l=null===f||void 0===f||null===(t=f.data)||void 0===t?void 0:t.arguments;return null===l||void 0===l||null===(n=l[i])||void 0===n||null===(r=n.messages)||void 0===r||null===(a=r[s])||void 0===a||null===(o=a.i18n)||void 0===o?void 0:o[c]}}),ql=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lf().authenticate(e)},Hl=function(){return Lf().unauthenticate()},Kl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lf().unauthenticate(),Lf().authenticate(e)},Wl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lf().authenticate(e)},Vl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lf().authenticate(e)},Jl=Lf().authorization,Xl=r;ie({"accessNode.api":"https://rest-mainnet.onflow.org","discovery.wallet":"https://fcl-discovery.onflow.org/authn"});var $l=function(){return a}},5359:(e,t)=>{"use strict";var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},4053:(e,t,n)=>{"use strict";t.Aj=void 0;var r,a=n(9778),o=(r=n(3969))&&r.__esModule?r:{default:r};var u=function(e){var t=e.allowedSizes,n=e.defaultSize,r=e.padding;return function e(){var u=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;if(!this||this.constructor!==e)return new e(c);if(t&&!t.includes(c))throw new Error("Unsupported hash length");var i=new o.default({capacity:c});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(a.Buffer.isBuffer(e))return i.absorb(e),u;if("string"===typeof e)return u.update(a.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"===typeof e?{format:e}:e,n=i.squeeze({buffer:t.buffer,padding:t.padding||r});return t.format&&"binary"!==t.format?n.toString(t.format):n},this.reset=function(){return i.reset(),u},this}},c=u({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});var i=u({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});t.Aj=i,u({allowedSizes:[128,256],defaultSize:256,padding:31});var s=c;i.SHA3Hash=s},3969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(9778),o=(r=n(4121))&&r.__esModule?r:{default:r};var u=function(e,t){for(var n=0;n<e.length;n+=8){var r=n/4;t[r]^=e[n+7]<<24|e[n+6]<<16|e[n+5]<<8|e[n+4],t[r+1]^=e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]}return t},c=function(e,t){for(var n=0;n<t.length;n+=8){var r=n/4;t[n]=e[r+1],t[n+1]=e[r+1]>>>8,t[n+2]=e[r+1]>>>16,t[n+3]=e[r+1]>>>24,t[n+4]=e[r],t[n+5]=e[r]>>>8,t[n+6]=e[r]>>>16,t[n+7]=e[r]>>>24}return t},i=function(e){var t=this,n=e.capacity,r=e.padding,i=(0,o.default)(),s=n/8,f=200-n/4,l=0,p=new Uint32Array(50),d=a.Buffer.allocUnsafe(f);return this.absorb=function(e){for(var n=0;n<e.length;n++)d[l]=e[n],(l+=1)>=f&&(u(d,p),i(p),l=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||a.Buffer.allocUnsafe(s),padding:e.padding||r,queue:a.Buffer.allocUnsafe(d.length),state:new Uint32Array(p.length)};d.copy(t.queue);for(var n=0;n<p.length;n++)t.state[n]=p[n];t.queue.fill(0,l),t.queue[l]|=t.padding,t.queue[f-1]|=128,u(t.queue,t.state);for(var o=0;o<t.buffer.length;o+=f)i(t.state),c(t.state,t.buffer.slice(o,o+f));return t.buffer},this.reset=function(){return d.fill(0),p.fill(0),l=0,t},this};t.default=i},5522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(2896))&&r.__esModule?r:{default:r};var o=function(e){for(var t=e.A,n=e.C,r=0;r<25;r+=5){for(var o=0;o<5;o++)(0,a.default)(t,r+o)(n,o);for(var u=0;u<5;u++){var c=2*(r+u),i=(u+1)%5*2,s=(u+2)%5*2;t[c]^=~n[i]&n[s],t[c+1]^=~n[i+1]&n[s+1]}}};t.default=o},2896:e=>{"use strict";e.exports=function(e,t){return function(n,r){var a=2*r,o=2*t;n[a]=e[o],n[a+1]=e[o+1]}}},4121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(5522)),a=c(n(7872)),o=c(n(8185)),u=c(n(8900));function c(e){return e&&e.__esModule?e:{default:e}}var i=function(){var e=new Uint32Array(10),t=new Uint32Array(10),n=new Uint32Array(2);return function(c){for(var i=0;i<24;i++)(0,u.default)({A:c,C:e,D:t,W:n}),(0,o.default)({A:c,C:e,W:n}),(0,r.default)({A:c,C:e}),(0,a.default)({A:c,roundIndex:i});e.fill(0),t.fill(0),n.fill(0)}};t.default=i},7872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(4004))&&r.__esModule?r:{default:r};var o=function(e){var t=e.A,n=2*e.roundIndex;t[0]^=a.default[n],t[1]^=a.default[n+1]};t.default=o},4004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);t.default=n},8185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(6366)),a=u(n(16)),o=u(n(2896));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.A,n=e.C,u=e.W;(0,o.default)(t,1)(u,0);for(var c=0,i=0,s=0,f=32,l=0;l<24;l++){var p=r.default[l],d=a.default[l];(0,o.default)(t,p)(n,0),c=u[0],i=u[1],f=32-d,u[s=d<32?0:1]=c<<d|i>>>f,u[(s+1)%2]=i<<d|c>>>f,(0,o.default)(u,0)(t,p),(0,o.default)(n,0)(u,0)}};t.default=c},6366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];t.default=n},16:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];t.default=n},8900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(2896))&&r.__esModule?r:{default:r};var o=function(e){for(var t=e.A,n=e.C,r=e.D,o=e.W,u=0,c=0,i=0;i<5;i++){var s=2*i,f=2*(i+5),l=2*(i+10),p=2*(i+15),d=2*(i+20);n[s]=t[s]^t[f]^t[l]^t[p]^t[d],n[s+1]=t[s+1]^t[f+1]^t[l+1]^t[p+1]^t[d+1]}for(var v=0;v<5;v++){(0,a.default)(n,(v+1)%5)(o,0),u=o[0],c=o[1],o[0]=u<<1|c>>>31,o[1]=c<<1|u>>>31,r[2*v]=n[(v+4)%5*2]^o[0],r[2*v+1]=n[(v+4)%5*2+1]^o[1];for(var h=0;h<25;h+=5)t[2*(h+v)]^=r[2*v],t[2*(h+v)+1]^=r[2*v+1]}};t.default=o},7061:(e,t,n)=>{var r=n(8698).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},i=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),c=new T(r||[]);return u(o,"_invoke",{value:S(e,n,c)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=p;var v={};function h(){}function m(){}function y(){}var g={};l(g,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(_([])));w&&w!==n&&o.call(w,i)&&(g=w);var x=y.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,u,c,i){var s=d(e[a],e,u);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==r(l)&&o.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(l).then((function(e){f.value=e,c(f)}),(function(e){return n("throw",e,c,i)}))}i(s.arg)}var a;u(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}})}function S(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var u=n.delegate;if(u){var c=I(u,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var i=d(e,t,n);if("normal"===i.type){if(r=n.done?"completed":"suspendedYield",i.arg===v)continue;return{value:i.arg,done:n.done}}"throw"===i.type&&(r="completed",n.method="throw",n.arg=i.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,v;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=y,u(x,"constructor",{value:y,configurable:!0}),u(y,"constructor",{value:m,configurable:!0}),m.displayName=l(y,f,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,f,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var u=new E(p(e,n,r,a),o);return t.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},k(x),l(x,f,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return u.type="throw",u.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),i=o.call(a,"finallyLoc");if(c&&i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},8698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:(e,t,n)=>{var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}}]);
//# sourceMappingURL=500.989d1d2c.chunk.js.map