(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[604],{67083:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var D=b(94846);function k(O,N,v){return void 0===N&&(N=new Uint8Array(2)),void 0===v&&(v=0),N[v+0]=O>>>8,N[v+1]=O>>>0,N}function L(O,N,v){return void 0===N&&(N=new Uint8Array(2)),void 0===v&&(v=0),N[v+0]=O>>>0,N[v+1]=O>>>8,N}function U(O,N){return void 0===N&&(N=0),O[N]<<24|O[N+1]<<16|O[N+2]<<8|O[N+3]}function R(O,N){return void 0===N&&(N=0),(O[N]<<24|O[N+1]<<16|O[N+2]<<8|O[N+3])>>>0}function A(O,N){return void 0===N&&(N=0),O[N+3]<<24|O[N+2]<<16|O[N+1]<<8|O[N]}function oe(O,N){return void 0===N&&(N=0),(O[N+3]<<24|O[N+2]<<16|O[N+1]<<8|O[N])>>>0}function pe(O,N,v){return void 0===N&&(N=new Uint8Array(4)),void 0===v&&(v=0),N[v+0]=O>>>24,N[v+1]=O>>>16,N[v+2]=O>>>8,N[v+3]=O>>>0,N}function re(O,N,v){return void 0===N&&(N=new Uint8Array(4)),void 0===v&&(v=0),N[v+0]=O>>>0,N[v+1]=O>>>8,N[v+2]=O>>>16,N[v+3]=O>>>24,N}function I(O,N,v){return void 0===N&&(N=new Uint8Array(8)),void 0===v&&(v=0),pe(O/4294967296>>>0,N,v),pe(O>>>0,N,v+4),N}function j(O,N,v){return void 0===N&&(N=new Uint8Array(8)),void 0===v&&(v=0),re(O>>>0,N,v),re(O/4294967296>>>0,N,v+4),N}f.readInt16BE=function ie(O,N){return void 0===N&&(N=0),(O[N+0]<<8|O[N+1])<<16>>16},f.readUint16BE=function se(O,N){return void 0===N&&(N=0),(O[N+0]<<8|O[N+1])>>>0},f.readInt16LE=function fe(O,N){return void 0===N&&(N=0),(O[N+1]<<8|O[N])<<16>>16},f.readUint16LE=function B(O,N){return void 0===N&&(N=0),(O[N+1]<<8|O[N])>>>0},f.writeUint16BE=k,f.writeInt16BE=k,f.writeUint16LE=L,f.writeInt16LE=L,f.readInt32BE=U,f.readUint32BE=R,f.readInt32LE=A,f.readUint32LE=oe,f.writeUint32BE=pe,f.writeInt32BE=pe,f.writeUint32LE=re,f.writeInt32LE=re,f.readInt64BE=function de(O,N){void 0===N&&(N=0);var v=U(O,N),K=U(O,N+4);return 4294967296*v+K-4294967296*(K>>31)},f.readUint64BE=function me(O,N){return void 0===N&&(N=0),4294967296*R(O,N)+R(O,N+4)},f.readInt64LE=function x(O,N){void 0===N&&(N=0);var v=A(O,N);return 4294967296*A(O,N+4)+v-4294967296*(v>>31)},f.readUint64LE=function _e(O,N){void 0===N&&(N=0);var v=oe(O,N);return 4294967296*oe(O,N+4)+v},f.writeUint64BE=I,f.writeInt64BE=I,f.writeUint64LE=j,f.writeInt64LE=j,f.readUintBE=function M(O,N,v){if(void 0===v&&(v=0),O%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(O/8>N.length-v)throw new Error("readUintBE: array is too short for the given bitLength");for(var K=0,le=1,V=O/8+v-1;V>=v;V--)K+=N[V]*le,le*=256;return K},f.readUintLE=function C(O,N,v){if(void 0===v&&(v=0),O%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(O/8>N.length-v)throw new Error("readUintLE: array is too short for the given bitLength");for(var K=0,le=1,V=v;V<v+O/8;V++)K+=N[V]*le,le*=256;return K},f.writeUintBE=function H(O,N,v,K){if(void 0===v&&(v=new Uint8Array(O/8)),void 0===K&&(K=0),O%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!D.isSafeInteger(N))throw new Error("writeUintBE value must be an integer");for(var le=1,V=O/8+K-1;V>=K;V--)v[V]=N/le&255,le*=256;return v},f.writeUintLE=function T(O,N,v,K){if(void 0===v&&(v=new Uint8Array(O/8)),void 0===K&&(K=0),O%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!D.isSafeInteger(N))throw new Error("writeUintLE value must be an integer");for(var le=1,V=K;V<K+O/8;V++)v[V]=N/le&255,le*=256;return v},f.readFloat32BE=function u(O,N){return void 0===N&&(N=0),new DataView(O.buffer,O.byteOffset,O.byteLength).getFloat32(N)},f.readFloat32LE=function a(O,N){return void 0===N&&(N=0),new DataView(O.buffer,O.byteOffset,O.byteLength).getFloat32(N,!0)},f.readFloat64BE=function m(O,N){return void 0===N&&(N=0),new DataView(O.buffer,O.byteOffset,O.byteLength).getFloat64(N)},f.readFloat64LE=function g(O,N){return void 0===N&&(N=0),new DataView(O.buffer,O.byteOffset,O.byteLength).getFloat64(N,!0)},f.writeFloat32BE=function w(O,N,v){return void 0===N&&(N=new Uint8Array(4)),void 0===v&&(v=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat32(v,O),N},f.writeFloat32LE=function _(O,N,v){return void 0===N&&(N=new Uint8Array(4)),void 0===v&&(v=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat32(v,O,!0),N},f.writeFloat64BE=function h(O,N,v){return void 0===N&&(N=new Uint8Array(8)),void 0===v&&(v=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat64(v,O),N},f.writeFloat64LE=function E(O,N,v){return void 0===N&&(N=new Uint8Array(8)),void 0===v&&(v=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat64(v,O,!0),N}},25046:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var D=b(67083),ie=b(91897);function fe(U,R,A){for(var oe=1634760805,pe=857760878,re=2036477234,de=1797285236,me=A[3]<<24|A[2]<<16|A[1]<<8|A[0],x=A[7]<<24|A[6]<<16|A[5]<<8|A[4],_e=A[11]<<24|A[10]<<16|A[9]<<8|A[8],I=A[15]<<24|A[14]<<16|A[13]<<8|A[12],j=A[19]<<24|A[18]<<16|A[17]<<8|A[16],M=A[23]<<24|A[22]<<16|A[21]<<8|A[20],C=A[27]<<24|A[26]<<16|A[25]<<8|A[24],H=A[31]<<24|A[30]<<16|A[29]<<8|A[28],T=R[3]<<24|R[2]<<16|R[1]<<8|R[0],u=R[7]<<24|R[6]<<16|R[5]<<8|R[4],a=R[11]<<24|R[10]<<16|R[9]<<8|R[8],m=R[15]<<24|R[14]<<16|R[13]<<8|R[12],g=oe,w=pe,_=re,h=de,E=me,O=x,N=_e,v=I,K=j,le=M,V=C,Ee=H,ye=T,ve=u,Se=a,Pe=m,Ne=0;Ne<20;Ne+=2)E=(E^=K=K+(ye=(ye^=g=g+E|0)>>>16|ye<<16)|0)>>>20|E<<12,O=(O^=le=le+(ve=(ve^=w=w+O|0)>>>16|ve<<16)|0)>>>20|O<<12,N=(N^=V=V+(Se=(Se^=_=_+N|0)>>>16|Se<<16)|0)>>>20|N<<12,v=(v^=Ee=Ee+(Pe=(Pe^=h=h+v|0)>>>16|Pe<<16)|0)>>>20|v<<12,N=(N^=V=V+(Se=(Se^=_=_+N|0)>>>24|Se<<8)|0)>>>25|N<<7,v=(v^=Ee=Ee+(Pe=(Pe^=h=h+v|0)>>>24|Pe<<8)|0)>>>25|v<<7,O=(O^=le=le+(ve=(ve^=w=w+O|0)>>>24|ve<<8)|0)>>>25|O<<7,E=(E^=K=K+(ye=(ye^=g=g+E|0)>>>24|ye<<8)|0)>>>25|E<<7,O=(O^=V=V+(Pe=(Pe^=g=g+O|0)>>>16|Pe<<16)|0)>>>20|O<<12,N=(N^=Ee=Ee+(ye=(ye^=w=w+N|0)>>>16|ye<<16)|0)>>>20|N<<12,v=(v^=K=K+(ve=(ve^=_=_+v|0)>>>16|ve<<16)|0)>>>20|v<<12,E=(E^=le=le+(Se=(Se^=h=h+E|0)>>>16|Se<<16)|0)>>>20|E<<12,v=(v^=K=K+(ve=(ve^=_=_+v|0)>>>24|ve<<8)|0)>>>25|v<<7,E=(E^=le=le+(Se=(Se^=h=h+E|0)>>>24|Se<<8)|0)>>>25|E<<7,N=(N^=Ee=Ee+(ye=(ye^=w=w+N|0)>>>24|ye<<8)|0)>>>25|N<<7,O=(O^=V=V+(Pe=(Pe^=g=g+O|0)>>>24|Pe<<8)|0)>>>25|O<<7;D.writeUint32LE(g+oe|0,U,0),D.writeUint32LE(w+pe|0,U,4),D.writeUint32LE(_+re|0,U,8),D.writeUint32LE(h+de|0,U,12),D.writeUint32LE(E+me|0,U,16),D.writeUint32LE(O+x|0,U,20),D.writeUint32LE(N+_e|0,U,24),D.writeUint32LE(v+I|0,U,28),D.writeUint32LE(K+j|0,U,32),D.writeUint32LE(le+M|0,U,36),D.writeUint32LE(V+C|0,U,40),D.writeUint32LE(Ee+H|0,U,44),D.writeUint32LE(ye+T|0,U,48),D.writeUint32LE(ve+u|0,U,52),D.writeUint32LE(Se+a|0,U,56),D.writeUint32LE(Pe+m|0,U,60)}function B(U,R,A,oe,pe){if(void 0===pe&&(pe=0),32!==U.length)throw new Error("ChaCha: key size must be 32 bytes");if(oe.length<A.length)throw new Error("ChaCha: destination is shorter than source");var re,de;if(0===pe){if(8!==R.length&&12!==R.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");(re=new Uint8Array(16)).set(R,de=re.length-R.length)}else{if(16!==R.length)throw new Error("ChaCha nonce with counter must be 16 bytes");re=R,de=pe}for(var me=new Uint8Array(64),x=0;x<A.length;x+=64){fe(me,re,U);for(var _e=x;_e<x+64&&_e<A.length;_e++)oe[_e]=A[_e]^me[_e-x];L(re,0,de)}return ie.wipe(me),0===pe&&ie.wipe(re),oe}function L(U,R,A){for(var oe=1;A--;)U[R]=255&(oe=oe+(255&U[R])|0),oe>>>=8,R++;if(oe>0)throw new Error("ChaCha: counter overflow")}f.streamXOR=B,f.stream=function k(U,R,A,oe){return void 0===oe&&(oe=0),ie.wipe(A),B(U,R,A,A,oe)}},91573:(we,f,b)=>{"use strict";var ie=b(25046),se=b(37852),fe=b(91897),B=b(67083),k=b(3054);f.Cv=32,f.WH=12,f.pg=16;var L=new Uint8Array(16),U=function(){function R(A){if(this.nonceLength=f.WH,this.tagLength=f.pg,A.length!==f.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(A)}return R.prototype.seal=function(A,oe,pe,re){if(A.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var de=new Uint8Array(16);de.set(A,de.length-A.length);var me=new Uint8Array(32);ie.stream(this._key,de,me,4);var _e,x=oe.length+this.tagLength;if(re){if(re.length!==x)throw new Error("ChaCha20Poly1305: incorrect destination length");_e=re}else _e=new Uint8Array(x);return ie.streamXOR(this._key,de,oe,_e,4),this._authenticate(_e.subarray(_e.length-this.tagLength,_e.length),me,_e.subarray(0,_e.length-this.tagLength),pe),fe.wipe(de),_e},R.prototype.open=function(A,oe,pe,re){if(A.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(oe.length<this.tagLength)return null;var de=new Uint8Array(16);de.set(A,de.length-A.length);var me=new Uint8Array(32);ie.stream(this._key,de,me,4);var x=new Uint8Array(this.tagLength);if(this._authenticate(x,me,oe.subarray(0,oe.length-this.tagLength),pe),!k.equal(x,oe.subarray(oe.length-this.tagLength,oe.length)))return null;var I,_e=oe.length-this.tagLength;if(re){if(re.length!==_e)throw new Error("ChaCha20Poly1305: incorrect destination length");I=re}else I=new Uint8Array(_e);return ie.streamXOR(this._key,de,oe.subarray(0,oe.length-this.tagLength),I,4),fe.wipe(de),I},R.prototype.clean=function(){return fe.wipe(this._key),this},R.prototype._authenticate=function(A,oe,pe,re){var de=new se.Poly1305(oe);re&&(de.update(re),re.length%16>0&&de.update(L.subarray(re.length%16))),de.update(pe),pe.length%16>0&&de.update(L.subarray(pe.length%16));var me=new Uint8Array(8);re&&B.writeUint64LE(re.length,me),de.update(me),B.writeUint64LE(pe.length,me),de.update(me);for(var x=de.digest(),_e=0;_e<x.length;_e++)A[_e]=x[_e];de.clean(),fe.wipe(x),fe.wipe(me)},R}();f.OK=U},3054:(we,f)=>{"use strict";function ie(fe,B){if(fe.length!==B.length)return 0;for(var k=0,L=0;L<fe.length;L++)k|=fe[L]^B[L];return 1&k-1>>>8}Object.defineProperty(f,"__esModule",{value:!0}),f.select=function b(fe,B,k){return~(fe-1)&B|fe-1&k},f.lessOrEqual=function D(fe,B){return(0|fe)-(0|B)-1>>>31&1},f.compare=ie,f.equal=function se(fe,B){return 0!==fe.length&&0!==B.length&&0!==ie(fe,B)}},47903:(we,f,b)=>{"use strict";f.Xx=f._w=f.aP=f.KS=f.jQ=void 0;b(52632);const se=b(16);b(91897);function B(he){const q=new Float64Array(16);if(he)for(let ae=0;ae<he.length;ae++)q[ae]=he[ae];return q}f.jQ=64,f.KS=64,f.aP=32,new Uint8Array(32)[0]=9;const L=B(),U=B([1]),A=(B([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),B([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),oe=B([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),pe=B([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);B([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function de(he,q){for(let ae=0;ae<16;ae++)he[ae]=0|q[ae]}function me(he){let q=1;for(let ae=0;ae<16;ae++){let p=he[ae]+q+65535;q=Math.floor(p/65536),he[ae]=p-65536*q}he[0]+=q-1+37*(q-1)}function x(he,q,ae){const p=~(ae-1);for(let G=0;G<16;G++){const De=p&(he[G]^q[G]);he[G]^=De,q[G]^=De}}function _e(he,q){const ae=B(),p=B();for(let G=0;G<16;G++)p[G]=q[G];me(p),me(p),me(p);for(let G=0;G<2;G++){ae[0]=p[0]-65517;for(let Te=1;Te<15;Te++)ae[Te]=p[Te]-65535-(ae[Te-1]>>16&1),ae[Te-1]&=65535;ae[15]=p[15]-32767-(ae[14]>>16&1);const De=ae[15]>>16&1;ae[14]&=65535,x(p,ae,1-De)}for(let G=0;G<16;G++)he[2*G]=255&p[G],he[2*G+1]=p[G]>>8}function M(he){const q=new Uint8Array(32);return _e(q,he),1&q[0]}function H(he,q,ae){for(let p=0;p<16;p++)he[p]=q[p]+ae[p]}function T(he,q,ae){for(let p=0;p<16;p++)he[p]=q[p]-ae[p]}function u(he,q,ae){let p,G,De=0,Te=0,Ke=0,ct=0,qe=0,ut=0,Et=0,Ct=0,et=0,tt=0,Ve=0,Xe=0,He=0,Ce=0,Fe=0,Me=0,Ue=0,ke=0,rt=0,ft=0,lt=0,ot=0,st=0,ht=0,ur=0,Yt=0,hr=0,wr=0,Or=0,yr=0,mr=0,wt=ae[0],_t=ae[1],At=ae[2],It=ae[3],nt=ae[4],Lt=ae[5],jt=ae[6],Mt=ae[7],Bt=ae[8],Ut=ae[9],Nt=ae[10],vt=ae[11],$t=ae[12],Ht=ae[13],zt=ae[14],Kt=ae[15];p=q[0],De+=p*wt,Te+=p*_t,Ke+=p*At,ct+=p*It,qe+=p*nt,ut+=p*Lt,Et+=p*jt,Ct+=p*Mt,et+=p*Bt,tt+=p*Ut,Ve+=p*Nt,Xe+=p*vt,He+=p*$t,Ce+=p*Ht,Fe+=p*zt,Me+=p*Kt,p=q[1],Te+=p*wt,Ke+=p*_t,ct+=p*At,qe+=p*It,ut+=p*nt,Et+=p*Lt,Ct+=p*jt,et+=p*Mt,tt+=p*Bt,Ve+=p*Ut,Xe+=p*Nt,He+=p*vt,Ce+=p*$t,Fe+=p*Ht,Me+=p*zt,Ue+=p*Kt,p=q[2],Ke+=p*wt,ct+=p*_t,qe+=p*At,ut+=p*It,Et+=p*nt,Ct+=p*Lt,et+=p*jt,tt+=p*Mt,Ve+=p*Bt,Xe+=p*Ut,He+=p*Nt,Ce+=p*vt,Fe+=p*$t,Me+=p*Ht,Ue+=p*zt,ke+=p*Kt,p=q[3],ct+=p*wt,qe+=p*_t,ut+=p*At,Et+=p*It,Ct+=p*nt,et+=p*Lt,tt+=p*jt,Ve+=p*Mt,Xe+=p*Bt,He+=p*Ut,Ce+=p*Nt,Fe+=p*vt,Me+=p*$t,Ue+=p*Ht,ke+=p*zt,rt+=p*Kt,p=q[4],qe+=p*wt,ut+=p*_t,Et+=p*At,Ct+=p*It,et+=p*nt,tt+=p*Lt,Ve+=p*jt,Xe+=p*Mt,He+=p*Bt,Ce+=p*Ut,Fe+=p*Nt,Me+=p*vt,Ue+=p*$t,ke+=p*Ht,rt+=p*zt,ft+=p*Kt,p=q[5],ut+=p*wt,Et+=p*_t,Ct+=p*At,et+=p*It,tt+=p*nt,Ve+=p*Lt,Xe+=p*jt,He+=p*Mt,Ce+=p*Bt,Fe+=p*Ut,Me+=p*Nt,Ue+=p*vt,ke+=p*$t,rt+=p*Ht,ft+=p*zt,lt+=p*Kt,p=q[6],Et+=p*wt,Ct+=p*_t,et+=p*At,tt+=p*It,Ve+=p*nt,Xe+=p*Lt,He+=p*jt,Ce+=p*Mt,Fe+=p*Bt,Me+=p*Ut,Ue+=p*Nt,ke+=p*vt,rt+=p*$t,ft+=p*Ht,lt+=p*zt,ot+=p*Kt,p=q[7],Ct+=p*wt,et+=p*_t,tt+=p*At,Ve+=p*It,Xe+=p*nt,He+=p*Lt,Ce+=p*jt,Fe+=p*Mt,Me+=p*Bt,Ue+=p*Ut,ke+=p*Nt,rt+=p*vt,ft+=p*$t,lt+=p*Ht,ot+=p*zt,st+=p*Kt,p=q[8],et+=p*wt,tt+=p*_t,Ve+=p*At,Xe+=p*It,He+=p*nt,Ce+=p*Lt,Fe+=p*jt,Me+=p*Mt,Ue+=p*Bt,ke+=p*Ut,rt+=p*Nt,ft+=p*vt,lt+=p*$t,ot+=p*Ht,st+=p*zt,ht+=p*Kt,p=q[9],tt+=p*wt,Ve+=p*_t,Xe+=p*At,He+=p*It,Ce+=p*nt,Fe+=p*Lt,Me+=p*jt,Ue+=p*Mt,ke+=p*Bt,rt+=p*Ut,ft+=p*Nt,lt+=p*vt,ot+=p*$t,st+=p*Ht,ht+=p*zt,ur+=p*Kt,p=q[10],Ve+=p*wt,Xe+=p*_t,He+=p*At,Ce+=p*It,Fe+=p*nt,Me+=p*Lt,Ue+=p*jt,ke+=p*Mt,rt+=p*Bt,ft+=p*Ut,lt+=p*Nt,ot+=p*vt,st+=p*$t,ht+=p*Ht,ur+=p*zt,Yt+=p*Kt,p=q[11],Xe+=p*wt,He+=p*_t,Ce+=p*At,Fe+=p*It,Me+=p*nt,Ue+=p*Lt,ke+=p*jt,rt+=p*Mt,ft+=p*Bt,lt+=p*Ut,ot+=p*Nt,st+=p*vt,ht+=p*$t,ur+=p*Ht,Yt+=p*zt,hr+=p*Kt,p=q[12],He+=p*wt,Ce+=p*_t,Fe+=p*At,Me+=p*It,Ue+=p*nt,ke+=p*Lt,rt+=p*jt,ft+=p*Mt,lt+=p*Bt,ot+=p*Ut,st+=p*Nt,ht+=p*vt,ur+=p*$t,Yt+=p*Ht,hr+=p*zt,wr+=p*Kt,p=q[13],Ce+=p*wt,Fe+=p*_t,Me+=p*At,Ue+=p*It,ke+=p*nt,rt+=p*Lt,ft+=p*jt,lt+=p*Mt,ot+=p*Bt,st+=p*Ut,ht+=p*Nt,ur+=p*vt,Yt+=p*$t,hr+=p*Ht,wr+=p*zt,Or+=p*Kt,p=q[14],Fe+=p*wt,Me+=p*_t,Ue+=p*At,ke+=p*It,rt+=p*nt,ft+=p*Lt,lt+=p*jt,ot+=p*Mt,st+=p*Bt,ht+=p*Ut,ur+=p*Nt,Yt+=p*vt,hr+=p*$t,wr+=p*Ht,Or+=p*zt,yr+=p*Kt,p=q[15],Me+=p*wt,Ue+=p*_t,ke+=p*At,rt+=p*It,ft+=p*nt,lt+=p*Lt,ot+=p*jt,st+=p*Mt,ht+=p*Bt,ur+=p*Ut,Yt+=p*Nt,hr+=p*vt,wr+=p*$t,Or+=p*Ht,yr+=p*zt,mr+=p*Kt,De+=38*Ue,Te+=38*ke,Ke+=38*rt,ct+=38*ft,qe+=38*lt,ut+=38*ot,Et+=38*st,Ct+=38*ht,et+=38*ur,tt+=38*Yt,Ve+=38*hr,Xe+=38*wr,He+=38*Or,Ce+=38*yr,Fe+=38*mr,G=1,p=De+G+65535,G=Math.floor(p/65536),De=p-65536*G,p=Te+G+65535,G=Math.floor(p/65536),Te=p-65536*G,p=Ke+G+65535,G=Math.floor(p/65536),Ke=p-65536*G,p=ct+G+65535,G=Math.floor(p/65536),ct=p-65536*G,p=qe+G+65535,G=Math.floor(p/65536),qe=p-65536*G,p=ut+G+65535,G=Math.floor(p/65536),ut=p-65536*G,p=Et+G+65535,G=Math.floor(p/65536),Et=p-65536*G,p=Ct+G+65535,G=Math.floor(p/65536),Ct=p-65536*G,p=et+G+65535,G=Math.floor(p/65536),et=p-65536*G,p=tt+G+65535,G=Math.floor(p/65536),tt=p-65536*G,p=Ve+G+65535,G=Math.floor(p/65536),Ve=p-65536*G,p=Xe+G+65535,G=Math.floor(p/65536),Xe=p-65536*G,p=He+G+65535,G=Math.floor(p/65536),He=p-65536*G,p=Ce+G+65535,G=Math.floor(p/65536),Ce=p-65536*G,p=Fe+G+65535,G=Math.floor(p/65536),Fe=p-65536*G,p=Me+G+65535,G=Math.floor(p/65536),Me=p-65536*G,De+=G-1+37*(G-1),G=1,p=De+G+65535,G=Math.floor(p/65536),De=p-65536*G,p=Te+G+65535,G=Math.floor(p/65536),Te=p-65536*G,p=Ke+G+65535,G=Math.floor(p/65536),Ke=p-65536*G,p=ct+G+65535,G=Math.floor(p/65536),ct=p-65536*G,p=qe+G+65535,G=Math.floor(p/65536),qe=p-65536*G,p=ut+G+65535,G=Math.floor(p/65536),ut=p-65536*G,p=Et+G+65535,G=Math.floor(p/65536),Et=p-65536*G,p=Ct+G+65535,G=Math.floor(p/65536),Ct=p-65536*G,p=et+G+65535,G=Math.floor(p/65536),et=p-65536*G,p=tt+G+65535,G=Math.floor(p/65536),tt=p-65536*G,p=Ve+G+65535,G=Math.floor(p/65536),Ve=p-65536*G,p=Xe+G+65535,G=Math.floor(p/65536),Xe=p-65536*G,p=He+G+65535,G=Math.floor(p/65536),He=p-65536*G,p=Ce+G+65535,G=Math.floor(p/65536),Ce=p-65536*G,p=Fe+G+65535,G=Math.floor(p/65536),Fe=p-65536*G,p=Me+G+65535,G=Math.floor(p/65536),Me=p-65536*G,De+=G-1+37*(G-1),he[0]=De,he[1]=Te,he[2]=Ke,he[3]=ct,he[4]=qe,he[5]=ut,he[6]=Et,he[7]=Ct,he[8]=et,he[9]=tt,he[10]=Ve,he[11]=Xe,he[12]=He,he[13]=Ce,he[14]=Fe,he[15]=Me}function a(he,q){u(he,q,q)}function w(he,q){const ae=B(),p=B(),G=B(),De=B(),Te=B(),Ke=B(),ct=B(),qe=B(),ut=B();T(ae,he[1],he[0]),T(ut,q[1],q[0]),u(ae,ae,ut),H(p,he[0],he[1]),H(ut,q[0],q[1]),u(p,p,ut),u(G,he[3],q[3]),u(G,G,A),u(De,he[2],q[2]),H(De,De,De),T(Te,p,ae),T(Ke,De,G),H(ct,De,G),H(qe,p,ae),u(he[0],Te,Ke),u(he[1],qe,ct),u(he[2],ct,Ke),u(he[3],Te,qe)}function _(he,q,ae){for(let p=0;p<4;p++)x(he[p],q[p],ae)}function h(he,q){const ae=B(),p=B(),G=B();(function m(he,q){const ae=B();let p;for(p=0;p<16;p++)ae[p]=q[p];for(p=253;p>=0;p--)a(ae,ae),2!==p&&4!==p&&u(ae,ae,q);for(p=0;p<16;p++)he[p]=ae[p]})(G,q[2]),u(ae,q[0],G),u(p,q[1],G),_e(he,p),he[31]^=M(ae)<<7}function O(he,q){const ae=[B(),B(),B(),B()];de(ae[0],oe),de(ae[1],pe),de(ae[2],U),u(ae[3],oe,pe),function E(he,q,ae){de(he[0],L),de(he[1],U),de(he[2],U),de(he[3],L);for(let p=255;p>=0;--p){const G=ae[p/8|0]>>(7&p)&1;_(he,q,G),w(q,he),w(he,he),_(he,q,G)}}(he,ae,q)}f._w=function N(he){if(he.length!==f.aP)throw new Error(`ed25519: seed must be ${f.aP} bytes`);const q=(0,se.hash)(he);q[0]&=248,q[31]&=127,q[31]|=64;const ae=new Uint8Array(32),p=[B(),B(),B(),B()];O(p,q),h(ae,p);const G=new Uint8Array(64);return G.set(he),G.set(ae,32),{publicKey:ae,secretKey:G}};const le=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function V(he,q){let ae,p,G,De;for(p=63;p>=32;--p){for(ae=0,G=p-32,De=p-12;G<De;++G)q[G]+=ae-16*q[p]*le[G-(p-32)],ae=Math.floor((q[G]+128)/256),q[G]-=256*ae;q[G]+=ae,q[p]=0}for(ae=0,G=0;G<32;G++)q[G]+=ae-(q[31]>>4)*le[G],ae=q[G]>>8,q[G]&=255;for(G=0;G<32;G++)q[G]-=ae*le[G];for(p=0;p<32;p++)q[p+1]+=q[p]>>8,he[p]=255&q[p]}function Ee(he){const q=new Float64Array(64);for(let ae=0;ae<64;ae++)q[ae]=he[ae];for(let ae=0;ae<64;ae++)he[ae]=0;V(he,q)}f.Xx=function ye(he,q){const ae=new Float64Array(64),p=[B(),B(),B(),B()],G=(0,se.hash)(he.subarray(0,32));G[0]&=248,G[31]&=127,G[31]|=64;const De=new Uint8Array(64);De.set(G.subarray(32),32);const Te=new se.SHA512;Te.update(De.subarray(32)),Te.update(q);const Ke=Te.digest();Te.clean(),Ee(Ke),O(p,Ke),h(De,p),Te.reset(),Te.update(De.subarray(0,32)),Te.update(he.subarray(32)),Te.update(q);const ct=Te.digest();Ee(ct);for(let qe=0;qe<32;qe++)ae[qe]=Ke[qe];for(let qe=0;qe<32;qe++)for(let ut=0;ut<32;ut++)ae[qe+ut]+=ct[qe]*G[ut];return V(De.subarray(32),ae),De}},22266:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.isSerializableHash=function b(D){return typeof D.saveState<"u"&&typeof D.restoreState<"u"&&typeof D.cleanSavedState<"u"}},37651:(we,f,b)=>{"use strict";var ie=b(56283),se=b(91897),fe=function(){function B(k,L,U,R){void 0===U&&(U=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=k,this._info=R;var A=ie.hmac(this._hash,U,L);this._hmac=new ie.HMAC(k,A),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return B.prototype._fillBuffer=function(){this._counter[0]++;var k=this._counter[0];if(0===k)throw new Error("hkdf: cannot expand more");this._hmac.reset(),k>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},B.prototype.expand=function(k){for(var L=new Uint8Array(k),U=0;U<L.length;U++)this._bufpos===this._buffer.length&&this._fillBuffer(),L[U]=this._buffer[this._bufpos++];return L},B.prototype.clean=function(){this._hmac.clean(),se.wipe(this._buffer),se.wipe(this._counter),this._bufpos=0},B}();f.t=fe},56283:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var D=b(22266),ie=b(3054),se=b(91897),fe=function(){function k(L,U){this._finished=!1,this._inner=new L,this._outer=new L,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var R=new Uint8Array(this.blockSize);U.length>this.blockSize?this._inner.update(U).finish(R).clean():R.set(U);for(var A=0;A<R.length;A++)R[A]^=54;for(this._inner.update(R),A=0;A<R.length;A++)R[A]^=106;this._outer.update(R),D.isSerializableHash(this._inner)&&D.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),se.wipe(R)}return k.prototype.reset=function(){if(!D.isSerializableHash(this._inner)||!D.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},k.prototype.clean=function(){D.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),D.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},k.prototype.update=function(L){return this._inner.update(L),this},k.prototype.finish=function(L){return this._finished?(this._outer.finish(L),this):(this._inner.finish(L),this._outer.update(L.subarray(0,this.digestLength)).finish(L),this._finished=!0,this)},k.prototype.digest=function(){var L=new Uint8Array(this.digestLength);return this.finish(L),L},k.prototype.saveState=function(){if(!D.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},k.prototype.restoreState=function(L){if(!D.isSerializableHash(this._inner)||!D.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(L),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},k.prototype.cleanSavedState=function(L){if(!D.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(L)},k}();f.HMAC=fe,f.hmac=function B(k,L,U){var R=new fe(k,L);R.update(U);var A=R.digest();return R.clean(),A},f.equal=ie.equal},94846:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.mul=Math.imul||function b(k,L){var R=65535&k,oe=65535&L;return R*oe+((k>>>16&65535)*oe+R*(L>>>16&65535)<<16>>>0)|0},f.add=function D(k,L){return k+L|0},f.sub=function ie(k,L){return k-L|0},f.rotl=function se(k,L){return k<<L|k>>>32-L},f.rotr=function fe(k,L){return k<<32-L|k>>>L},f.isInteger=Number.isInteger||function B(k){return"number"==typeof k&&isFinite(k)&&Math.floor(k)===k},f.MAX_SAFE_INTEGER=9007199254740991,f.isSafeInteger=function(k){return f.isInteger(k)&&k>=-f.MAX_SAFE_INTEGER&&k<=f.MAX_SAFE_INTEGER}},37852:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var D=b(3054),ie=b(91897);f.DIGEST_LENGTH=16;var se=function(){function k(L){this.digestLength=f.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var U=L[0]|L[1]<<8;this._r[0]=8191&U;var R=L[2]|L[3]<<8;this._r[1]=8191&(U>>>13|R<<3);var A=L[4]|L[5]<<8;this._r[2]=7939&(R>>>10|A<<6);var oe=L[6]|L[7]<<8;this._r[3]=8191&(A>>>7|oe<<9);var pe=L[8]|L[9]<<8;this._r[4]=255&(oe>>>4|pe<<12),this._r[5]=pe>>>1&8190;var re=L[10]|L[11]<<8;this._r[6]=8191&(pe>>>14|re<<2);var de=L[12]|L[13]<<8;this._r[7]=8065&(re>>>11|de<<5);var me=L[14]|L[15]<<8;this._r[8]=8191&(de>>>8|me<<8),this._r[9]=me>>>5&127,this._pad[0]=L[16]|L[17]<<8,this._pad[1]=L[18]|L[19]<<8,this._pad[2]=L[20]|L[21]<<8,this._pad[3]=L[22]|L[23]<<8,this._pad[4]=L[24]|L[25]<<8,this._pad[5]=L[26]|L[27]<<8,this._pad[6]=L[28]|L[29]<<8,this._pad[7]=L[30]|L[31]<<8}return k.prototype._blocks=function(L,U,R){for(var A=this._fin?0:2048,oe=this._h[0],pe=this._h[1],re=this._h[2],de=this._h[3],me=this._h[4],x=this._h[5],_e=this._h[6],I=this._h[7],j=this._h[8],M=this._h[9],C=this._r[0],H=this._r[1],T=this._r[2],u=this._r[3],a=this._r[4],m=this._r[5],g=this._r[6],w=this._r[7],_=this._r[8],h=this._r[9];R>=16;){var E=L[U+0]|L[U+1]<<8,O=L[U+2]|L[U+3]<<8,N=L[U+4]|L[U+5]<<8,v=L[U+6]|L[U+7]<<8,K=L[U+8]|L[U+9]<<8,le=L[U+10]|L[U+11]<<8,V=L[U+12]|L[U+13]<<8,Ee=L[U+14]|L[U+15]<<8,ye=0,ve=ye;ve+=(oe+=8191&E)*C,ve+=(pe+=8191&(E>>>13|O<<3))*(5*h),ve+=(re+=8191&(O>>>10|N<<6))*(5*_),ve+=(de+=8191&(N>>>7|v<<9))*(5*w),ye=(ve+=(me+=8191&(v>>>4|K<<12))*(5*g))>>>13,ve&=8191,ve+=(x+=K>>>1&8191)*(5*m),ve+=(_e+=8191&(K>>>14|le<<2))*(5*a),ve+=(I+=8191&(le>>>11|V<<5))*(5*u),ve+=(j+=8191&(V>>>8|Ee<<8))*(5*T);var Se=ye+=(ve+=(M+=Ee>>>5|A)*(5*H))>>>13;Se+=oe*H,Se+=pe*C,Se+=re*(5*h),Se+=de*(5*_),ye=(Se+=me*(5*w))>>>13,Se&=8191,Se+=x*(5*g),Se+=_e*(5*m),Se+=I*(5*a),Se+=j*(5*u),ye+=(Se+=M*(5*T))>>>13,Se&=8191;var Pe=ye;Pe+=oe*T,Pe+=pe*H,Pe+=re*C,Pe+=de*(5*h),ye=(Pe+=me*(5*_))>>>13,Pe&=8191,Pe+=x*(5*w),Pe+=_e*(5*g),Pe+=I*(5*m),Pe+=j*(5*a);var Ne=ye+=(Pe+=M*(5*u))>>>13;Ne+=oe*u,Ne+=pe*T,Ne+=re*H,Ne+=de*C,ye=(Ne+=me*(5*h))>>>13,Ne&=8191,Ne+=x*(5*_),Ne+=_e*(5*w),Ne+=I*(5*g),Ne+=j*(5*m);var he=ye+=(Ne+=M*(5*a))>>>13;he+=oe*a,he+=pe*u,he+=re*T,he+=de*H,ye=(he+=me*C)>>>13,he&=8191,he+=x*(5*h),he+=_e*(5*_),he+=I*(5*w),he+=j*(5*g);var q=ye+=(he+=M*(5*m))>>>13;q+=oe*m,q+=pe*a,q+=re*u,q+=de*T,ye=(q+=me*H)>>>13,q&=8191,q+=x*C,q+=_e*(5*h),q+=I*(5*_),q+=j*(5*w);var ae=ye+=(q+=M*(5*g))>>>13;ae+=oe*g,ae+=pe*m,ae+=re*a,ae+=de*u,ye=(ae+=me*T)>>>13,ae&=8191,ae+=x*H,ae+=_e*C,ae+=I*(5*h),ae+=j*(5*_);var p=ye+=(ae+=M*(5*w))>>>13;p+=oe*w,p+=pe*g,p+=re*m,p+=de*a,ye=(p+=me*u)>>>13,p&=8191,p+=x*T,p+=_e*H,p+=I*C,p+=j*(5*h);var G=ye+=(p+=M*(5*_))>>>13;G+=oe*_,G+=pe*w,G+=re*g,G+=de*m,ye=(G+=me*a)>>>13,G&=8191,G+=x*u,G+=_e*T,G+=I*H,G+=j*C;var De=ye+=(G+=M*(5*h))>>>13;De+=oe*h,De+=pe*_,De+=re*w,De+=de*g,ye=(De+=me*m)>>>13,De&=8191,De+=x*a,De+=_e*u,De+=I*T,De+=j*H,oe=ve=8191&(ye=(ye=((ye+=(De+=M*C)>>>13)<<2)+ye|0)+(ve&=8191)|0),pe=Se+=ye>>>=13,re=Pe&=8191,de=Ne&=8191,me=he&=8191,x=q&=8191,_e=ae&=8191,I=p&=8191,j=G&=8191,M=De&=8191,U+=16,R-=16}this._h[0]=oe,this._h[1]=pe,this._h[2]=re,this._h[3]=de,this._h[4]=me,this._h[5]=x,this._h[6]=_e,this._h[7]=I,this._h[8]=j,this._h[9]=M},k.prototype.finish=function(L,U){void 0===U&&(U=0);var A,oe,pe,re,R=new Uint16Array(10);if(this._leftover){for(re=this._leftover,this._buffer[re++]=1;re<16;re++)this._buffer[re]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(A=this._h[1]>>>13,this._h[1]&=8191,re=2;re<10;re++)this._h[re]+=A,A=this._h[re]>>>13,this._h[re]&=8191;for(this._h[0]+=5*A,A=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=A,A=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=A,R[0]=this._h[0]+5,A=R[0]>>>13,R[0]&=8191,re=1;re<10;re++)R[re]=this._h[re]+A,A=R[re]>>>13,R[re]&=8191;for(R[9]-=8192,oe=(1^A)-1,re=0;re<10;re++)R[re]&=oe;for(oe=~oe,re=0;re<10;re++)this._h[re]=this._h[re]&oe|R[re];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),this._h[0]=65535&(pe=this._h[0]+this._pad[0]),re=1;re<8;re++)this._h[re]=65535&(pe=(this._h[re]+this._pad[re]|0)+(pe>>>16)|0);return L[U+0]=this._h[0]>>>0,L[U+1]=this._h[0]>>>8,L[U+2]=this._h[1]>>>0,L[U+3]=this._h[1]>>>8,L[U+4]=this._h[2]>>>0,L[U+5]=this._h[2]>>>8,L[U+6]=this._h[3]>>>0,L[U+7]=this._h[3]>>>8,L[U+8]=this._h[4]>>>0,L[U+9]=this._h[4]>>>8,L[U+10]=this._h[5]>>>0,L[U+11]=this._h[5]>>>8,L[U+12]=this._h[6]>>>0,L[U+13]=this._h[6]>>>8,L[U+14]=this._h[7]>>>0,L[U+15]=this._h[7]>>>8,this._finished=!0,this},k.prototype.update=function(L){var A,U=0,R=L.length;if(this._leftover){(A=16-this._leftover)>R&&(A=R);for(var oe=0;oe<A;oe++)this._buffer[this._leftover+oe]=L[U+oe];if(R-=A,U+=A,this._leftover+=A,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(R>=16&&(this._blocks(L,U,A=R-R%16),U+=A,R-=A),R){for(oe=0;oe<R;oe++)this._buffer[this._leftover+oe]=L[U+oe];this._leftover+=R}return this},k.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var L=new Uint8Array(16);return this.finish(L),L},k.prototype.clean=function(){return ie.wipe(this._buffer),ie.wipe(this._r),ie.wipe(this._h),ie.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},k}();f.Poly1305=se,f.oneTimeAuth=function fe(k,L){var U=new se(k);U.update(L);var R=U.digest();return U.clean(),R},f.equal=function B(k,L){return k.length===f.DIGEST_LENGTH&&L.length===f.DIGEST_LENGTH&&D.equal(k,L)}},52632:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.randomStringForEntropy=f.randomString=f.randomUint32=f.randomBytes=f.defaultRandomSource=void 0;const D=b(88920),ie=b(67083),se=b(91897);function fe(R,A=f.defaultRandomSource){return A.randomBytes(R)}f.defaultRandomSource=new D.SystemRandomSource,f.randomBytes=fe,f.randomUint32=function B(R=f.defaultRandomSource){const A=fe(4,R),oe=(0,ie.readUint32LE)(A);return(0,se.wipe)(A),oe};const k="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function L(R,A=k,oe=f.defaultRandomSource){if(A.length<2)throw new Error("randomString charset is too short");if(A.length>256)throw new Error("randomString charset is too long");let pe="";const re=A.length,de=256-256%re;for(;R>0;){const me=fe(Math.ceil(256*R/de),oe);for(let x=0;x<me.length&&R>0;x++){const _e=me[x];_e<de&&(pe+=A.charAt(_e%re),R--)}(0,se.wipe)(me)}return pe}f.randomString=L,f.randomStringForEntropy=function U(R,A=k,oe=f.defaultRandomSource){return L(Math.ceil(R/(Math.log(A.length)/Math.LN2)),A,oe)}},65695:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.BrowserRandomSource=void 0,f.BrowserRandomSource=class D{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const se=typeof self<"u"?self.crypto||self.msCrypto:null;se&&void 0!==se.getRandomValues&&(this._crypto=se,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(se){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const fe=new Uint8Array(se);for(let B=0;B<fe.length;B+=65536)this._crypto.getRandomValues(fe.subarray(B,B+Math.min(fe.length-B,65536)));return fe}}},49398:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.NodeRandomSource=void 0;const D=b(91897);f.NodeRandomSource=class ie{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const fe=b(19726);fe&&fe.randomBytes&&(this._crypto=fe,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(fe){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let B=this._crypto.randomBytes(fe);if(B.length!==fe)throw new Error("NodeRandomSource: got fewer bytes than requested");const k=new Uint8Array(fe);for(let L=0;L<k.length;L++)k[L]=B[L];return(0,D.wipe)(B),k}}},88920:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.SystemRandomSource=void 0;const D=b(65695),ie=b(49398);f.SystemRandomSource=class se{constructor(){return this.isAvailable=!1,this.name="",this._source=new D.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new ie.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(B){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(B)}}},41027:(we,f,b)=>{"use strict";var ie=b(67083),se=b(91897);f.k=32,f.cn=64;var fe=function(){function U(){this.digestLength=f.k,this.blockSize=f.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return U.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},U.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},U.prototype.clean=function(){se.wipe(this._buffer),se.wipe(this._temp),this.reset()},U.prototype.update=function(R,A){if(void 0===A&&(A=R.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var oe=0;if(this._bytesHashed+=A,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&A>0;)this._buffer[this._bufferLength++]=R[oe++],A--;this._bufferLength===this.blockSize&&(k(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(A>=this.blockSize&&(oe=k(this._temp,this._state,R,oe,A),A%=this.blockSize);A>0;)this._buffer[this._bufferLength++]=R[oe++],A--;return this},U.prototype.finish=function(R){if(!this._finished){var A=this._bytesHashed,oe=this._bufferLength,pe=A/536870912|0,re=A<<3,de=A%64<56?64:128;this._buffer[oe]=128;for(var me=oe+1;me<de-8;me++)this._buffer[me]=0;ie.writeUint32BE(pe,this._buffer,de-8),ie.writeUint32BE(re,this._buffer,de-4),k(this._temp,this._state,this._buffer,0,de),this._finished=!0}for(me=0;me<this.digestLength/4;me++)ie.writeUint32BE(this._state[me],R,4*me);return this},U.prototype.digest=function(){var R=new Uint8Array(this.digestLength);return this.finish(R),R},U.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},U.prototype.restoreState=function(R){return this._state.set(R.state),this._bufferLength=R.bufferLength,R.buffer&&this._buffer.set(R.buffer),this._bytesHashed=R.bytesHashed,this._finished=!1,this},U.prototype.cleanSavedState=function(R){se.wipe(R.state),R.buffer&&se.wipe(R.buffer),R.bufferLength=0,R.bytesHashed=0},U}();f.mE=fe;var B=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function k(U,R,A,oe,pe){for(;pe>=64;){for(var re=R[0],de=R[1],me=R[2],x=R[3],_e=R[4],I=R[5],j=R[6],M=R[7],C=0;C<16;C++)U[C]=ie.readUint32BE(A,oe+4*C);for(C=16;C<64;C++){var T=U[C-2];U[C]=((u=(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10)+U[C-7]|0)+((a=((T=U[C-15])>>>7|T<<25)^(T>>>18|T<<14)^T>>>3)+U[C-16]|0)}for(C=0;C<64;C++){var u=(((_e>>>6|_e<<26)^(_e>>>11|_e<<21)^(_e>>>25|_e<<7))+(_e&I^~_e&j)|0)+(M+(B[C]+U[C]|0)|0)|0,a=((re>>>2|re<<30)^(re>>>13|re<<19)^(re>>>22|re<<10))+(re&de^re&me^de&me)|0;M=j,j=I,I=_e,_e=x+u|0,x=me,me=de,de=re,re=u+a|0}R[0]+=re,R[1]+=de,R[2]+=me,R[3]+=x,R[4]+=_e,R[5]+=I,R[6]+=j,R[7]+=M,oe+=64,pe-=64}return oe}f.vp=function L(U){var R=new fe;R.update(U);var A=R.digest();return R.clean(),A}},16:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var D=b(67083),ie=b(91897);f.DIGEST_LENGTH=64,f.BLOCK_SIZE=128;var se=function(){function L(){this.digestLength=f.DIGEST_LENGTH,this.blockSize=f.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return L.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},L.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},L.prototype.clean=function(){ie.wipe(this._buffer),ie.wipe(this._tempHi),ie.wipe(this._tempLo),this.reset()},L.prototype.update=function(U,R){if(void 0===R&&(R=U.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var A=0;if(this._bytesHashed+=R,this._bufferLength>0){for(;this._bufferLength<f.BLOCK_SIZE&&R>0;)this._buffer[this._bufferLength++]=U[A++],R--;this._bufferLength===this.blockSize&&(B(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(R>=this.blockSize&&(A=B(this._tempHi,this._tempLo,this._stateHi,this._stateLo,U,A,R),R%=this.blockSize);R>0;)this._buffer[this._bufferLength++]=U[A++],R--;return this},L.prototype.finish=function(U){if(!this._finished){var R=this._bytesHashed,A=this._bufferLength,oe=R/536870912|0,pe=R<<3,re=R%128<112?128:256;this._buffer[A]=128;for(var de=A+1;de<re-8;de++)this._buffer[de]=0;D.writeUint32BE(oe,this._buffer,re-8),D.writeUint32BE(pe,this._buffer,re-4),B(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,re),this._finished=!0}for(de=0;de<this.digestLength/8;de++)D.writeUint32BE(this._stateHi[de],U,8*de),D.writeUint32BE(this._stateLo[de],U,8*de+4);return this},L.prototype.digest=function(){var U=new Uint8Array(this.digestLength);return this.finish(U),U},L.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},L.prototype.restoreState=function(U){return this._stateHi.set(U.stateHi),this._stateLo.set(U.stateLo),this._bufferLength=U.bufferLength,U.buffer&&this._buffer.set(U.buffer),this._bytesHashed=U.bytesHashed,this._finished=!1,this},L.prototype.cleanSavedState=function(U){ie.wipe(U.stateHi),ie.wipe(U.stateLo),U.buffer&&ie.wipe(U.buffer),U.bufferLength=0,U.bytesHashed=0},L}();f.SHA512=se;var fe=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function B(L,U,R,A,oe,pe,re){for(var h,E,O,N,v,K,le,V,de=R[0],me=R[1],x=R[2],_e=R[3],I=R[4],j=R[5],M=R[6],C=R[7],H=A[0],T=A[1],u=A[2],a=A[3],m=A[4],g=A[5],w=A[6],_=A[7];re>=128;){for(var Ee=0;Ee<16;Ee++)L[Ee]=D.readUint32BE(oe,ye=8*Ee+pe),U[Ee]=D.readUint32BE(oe,ye+4);for(Ee=0;Ee<80;Ee++){var p,Et,Se=me,Pe=x,Ne=_e,he=I,q=j,ae=M,De=T,Te=u,Ke=a,ct=m,qe=g,ut=w;if(v=65535&(E=_),K=E>>>16,le=65535&(h=C),V=h>>>16,v+=65535&(E=(m>>>14|I<<18)^(m>>>18|I<<14)^(I>>>9|m<<23)),K+=E>>>16,le+=65535&(h=(I>>>14|m<<18)^(I>>>18|m<<14)^(m>>>9|I<<23)),V+=h>>>16,v+=65535&(E=m&g^~m&w),K+=E>>>16,le+=65535&(h=I&j^~I&M),V+=h>>>16,v+=65535&(E=fe[2*Ee+1]),K+=E>>>16,le+=65535&(h=fe[2*Ee]),V+=h>>>16,K+=(E=U[Ee%16])>>>16,le+=65535&(h=L[Ee%16]),V+=h>>>16,le+=(K+=(v+=65535&E)>>>16)>>>16,v=65535&(E=N=65535&v|K<<16),K=E>>>16,le=65535&(h=O=65535&le|(V+=le>>>16)<<16),V=h>>>16,v+=65535&(E=(H>>>28|de<<4)^(de>>>2|H<<30)^(de>>>7|H<<25)),K+=E>>>16,le+=65535&(h=(de>>>28|H<<4)^(H>>>2|de<<30)^(H>>>7|de<<25)),V+=h>>>16,K+=(E=H&T^H&u^T&u)>>>16,le+=65535&(h=de&me^de&x^me&x),V+=h>>>16,p=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,Et=65535&v|K<<16,v=65535&(E=Ke),K=E>>>16,le=65535&(h=Ne),V=h>>>16,K+=(E=N)>>>16,le+=65535&(h=O),V+=h>>>16,me=de,x=Se,_e=Pe,I=Ne=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,j=he,M=q,C=ae,de=p,T=H,u=De,a=Te,m=Ke=65535&v|K<<16,g=ct,w=qe,_=ut,H=Et,Ee%16==15)for(var ye=0;ye<16;ye++)v=65535&(E=U[ye]),K=E>>>16,le=65535&(h=L[ye]),V=h>>>16,v+=65535&(E=U[(ye+9)%16]),K+=E>>>16,le+=65535&(h=L[(ye+9)%16]),V+=h>>>16,v+=65535&(E=((N=U[(ye+1)%16])>>>1|(O=L[(ye+1)%16])<<31)^(N>>>8|O<<24)^(N>>>7|O<<25)),K+=E>>>16,le+=65535&(h=(O>>>1|N<<31)^(O>>>8|N<<24)^O>>>7),V+=h>>>16,K+=(E=((N=U[(ye+14)%16])>>>19|(O=L[(ye+14)%16])<<13)^(O>>>29|N<<3)^(N>>>6|O<<26))>>>16,le+=65535&(h=(O>>>19|N<<13)^(N>>>29|O<<3)^O>>>6),V+=h>>>16,L[ye]=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,U[ye]=65535&v|K<<16}v=65535&(E=H),K=E>>>16,le=65535&(h=de),V=h>>>16,K+=(E=A[0])>>>16,le+=65535&(h=R[0]),V+=h>>>16,R[0]=de=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,A[0]=H=65535&v|K<<16,v=65535&(E=T),K=E>>>16,le=65535&(h=me),V=h>>>16,K+=(E=A[1])>>>16,le+=65535&(h=R[1]),V+=h>>>16,R[1]=me=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,A[1]=T=65535&v|K<<16,v=65535&(E=u),K=E>>>16,le=65535&(h=x),V=h>>>16,K+=(E=A[2])>>>16,le+=65535&(h=R[2]),V+=h>>>16,R[2]=x=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,A[2]=u=65535&v|K<<16,v=65535&(E=a),K=E>>>16,le=65535&(h=_e),V=h>>>16,K+=(E=A[3])>>>16,le+=65535&(h=R[3]),V+=h>>>16,R[3]=_e=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,A[3]=a=65535&v|K<<16,v=65535&(E=m),K=E>>>16,le=65535&(h=I),V=h>>>16,K+=(E=A[4])>>>16,le+=65535&(h=R[4]),V+=h>>>16,R[4]=I=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,A[4]=m=65535&v|K<<16,v=65535&(E=g),K=E>>>16,le=65535&(h=j),V=h>>>16,K+=(E=A[5])>>>16,le+=65535&(h=R[5]),V+=h>>>16,R[5]=j=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,A[5]=g=65535&v|K<<16,v=65535&(E=w),K=E>>>16,le=65535&(h=M),V=h>>>16,K+=(E=A[6])>>>16,le+=65535&(h=R[6]),V+=h>>>16,R[6]=M=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,A[6]=w=65535&v|K<<16,v=65535&(E=_),K=E>>>16,le=65535&(h=C),V=h>>>16,K+=(E=A[7])>>>16,le+=65535&(h=R[7]),V+=h>>>16,R[7]=C=65535&(le+=(K+=(v+=65535&E)>>>16)>>>16)|(V+=le>>>16)<<16,A[7]=_=65535&v|K<<16,pe+=128,re-=128}return pe}f.hash=function k(L){var U=new se;U.update(L);var R=U.digest();return U.clean(),R}},91897:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.wipe=function b(D){for(var ie=0;ie<D.length;ie++)D[ie]=0;return D}},72180:(we,f,b)=>{"use strict";f.gi=f.Au=f.KS=f.kz=void 0;const ie=b(52632),se=b(91897);function fe(C){const H=new Float64Array(16);if(C)for(let T=0;T<C.length;T++)H[T]=C[T];return H}f.kz=32,f.KS=32;const B=new Uint8Array(32);B[0]=9;const k=fe([56129,1]);function L(C){let H=1;for(let T=0;T<16;T++){let u=C[T]+H+65535;H=Math.floor(u/65536),C[T]=u-65536*H}C[0]+=H-1+37*(H-1)}function U(C,H,T){const u=~(T-1);for(let a=0;a<16;a++){const m=u&(C[a]^H[a]);C[a]^=m,H[a]^=m}}function oe(C,H,T){for(let u=0;u<16;u++)C[u]=H[u]+T[u]}function pe(C,H,T){for(let u=0;u<16;u++)C[u]=H[u]-T[u]}function re(C,H,T){let u,a,m=0,g=0,w=0,_=0,h=0,E=0,O=0,N=0,v=0,K=0,le=0,V=0,Ee=0,ye=0,ve=0,Se=0,Pe=0,Ne=0,he=0,q=0,ae=0,p=0,G=0,De=0,Te=0,Ke=0,ct=0,qe=0,ut=0,Et=0,Ct=0,et=T[0],tt=T[1],Ve=T[2],Xe=T[3],He=T[4],Ce=T[5],Fe=T[6],Me=T[7],Ue=T[8],ke=T[9],rt=T[10],ft=T[11],lt=T[12],ot=T[13],st=T[14],ht=T[15];u=H[0],m+=u*et,g+=u*tt,w+=u*Ve,_+=u*Xe,h+=u*He,E+=u*Ce,O+=u*Fe,N+=u*Me,v+=u*Ue,K+=u*ke,le+=u*rt,V+=u*ft,Ee+=u*lt,ye+=u*ot,ve+=u*st,Se+=u*ht,u=H[1],g+=u*et,w+=u*tt,_+=u*Ve,h+=u*Xe,E+=u*He,O+=u*Ce,N+=u*Fe,v+=u*Me,K+=u*Ue,le+=u*ke,V+=u*rt,Ee+=u*ft,ye+=u*lt,ve+=u*ot,Se+=u*st,Pe+=u*ht,u=H[2],w+=u*et,_+=u*tt,h+=u*Ve,E+=u*Xe,O+=u*He,N+=u*Ce,v+=u*Fe,K+=u*Me,le+=u*Ue,V+=u*ke,Ee+=u*rt,ye+=u*ft,ve+=u*lt,Se+=u*ot,Pe+=u*st,Ne+=u*ht,u=H[3],_+=u*et,h+=u*tt,E+=u*Ve,O+=u*Xe,N+=u*He,v+=u*Ce,K+=u*Fe,le+=u*Me,V+=u*Ue,Ee+=u*ke,ye+=u*rt,ve+=u*ft,Se+=u*lt,Pe+=u*ot,Ne+=u*st,he+=u*ht,u=H[4],h+=u*et,E+=u*tt,O+=u*Ve,N+=u*Xe,v+=u*He,K+=u*Ce,le+=u*Fe,V+=u*Me,Ee+=u*Ue,ye+=u*ke,ve+=u*rt,Se+=u*ft,Pe+=u*lt,Ne+=u*ot,he+=u*st,q+=u*ht,u=H[5],E+=u*et,O+=u*tt,N+=u*Ve,v+=u*Xe,K+=u*He,le+=u*Ce,V+=u*Fe,Ee+=u*Me,ye+=u*Ue,ve+=u*ke,Se+=u*rt,Pe+=u*ft,Ne+=u*lt,he+=u*ot,q+=u*st,ae+=u*ht,u=H[6],O+=u*et,N+=u*tt,v+=u*Ve,K+=u*Xe,le+=u*He,V+=u*Ce,Ee+=u*Fe,ye+=u*Me,ve+=u*Ue,Se+=u*ke,Pe+=u*rt,Ne+=u*ft,he+=u*lt,q+=u*ot,ae+=u*st,p+=u*ht,u=H[7],N+=u*et,v+=u*tt,K+=u*Ve,le+=u*Xe,V+=u*He,Ee+=u*Ce,ye+=u*Fe,ve+=u*Me,Se+=u*Ue,Pe+=u*ke,Ne+=u*rt,he+=u*ft,q+=u*lt,ae+=u*ot,p+=u*st,G+=u*ht,u=H[8],v+=u*et,K+=u*tt,le+=u*Ve,V+=u*Xe,Ee+=u*He,ye+=u*Ce,ve+=u*Fe,Se+=u*Me,Pe+=u*Ue,Ne+=u*ke,he+=u*rt,q+=u*ft,ae+=u*lt,p+=u*ot,G+=u*st,De+=u*ht,u=H[9],K+=u*et,le+=u*tt,V+=u*Ve,Ee+=u*Xe,ye+=u*He,ve+=u*Ce,Se+=u*Fe,Pe+=u*Me,Ne+=u*Ue,he+=u*ke,q+=u*rt,ae+=u*ft,p+=u*lt,G+=u*ot,De+=u*st,Te+=u*ht,u=H[10],le+=u*et,V+=u*tt,Ee+=u*Ve,ye+=u*Xe,ve+=u*He,Se+=u*Ce,Pe+=u*Fe,Ne+=u*Me,he+=u*Ue,q+=u*ke,ae+=u*rt,p+=u*ft,G+=u*lt,De+=u*ot,Te+=u*st,Ke+=u*ht,u=H[11],V+=u*et,Ee+=u*tt,ye+=u*Ve,ve+=u*Xe,Se+=u*He,Pe+=u*Ce,Ne+=u*Fe,he+=u*Me,q+=u*Ue,ae+=u*ke,p+=u*rt,G+=u*ft,De+=u*lt,Te+=u*ot,Ke+=u*st,ct+=u*ht,u=H[12],Ee+=u*et,ye+=u*tt,ve+=u*Ve,Se+=u*Xe,Pe+=u*He,Ne+=u*Ce,he+=u*Fe,q+=u*Me,ae+=u*Ue,p+=u*ke,G+=u*rt,De+=u*ft,Te+=u*lt,Ke+=u*ot,ct+=u*st,qe+=u*ht,u=H[13],ye+=u*et,ve+=u*tt,Se+=u*Ve,Pe+=u*Xe,Ne+=u*He,he+=u*Ce,q+=u*Fe,ae+=u*Me,p+=u*Ue,G+=u*ke,De+=u*rt,Te+=u*ft,Ke+=u*lt,ct+=u*ot,qe+=u*st,ut+=u*ht,u=H[14],ve+=u*et,Se+=u*tt,Pe+=u*Ve,Ne+=u*Xe,he+=u*He,q+=u*Ce,ae+=u*Fe,p+=u*Me,G+=u*Ue,De+=u*ke,Te+=u*rt,Ke+=u*ft,ct+=u*lt,qe+=u*ot,ut+=u*st,Et+=u*ht,u=H[15],Se+=u*et,Pe+=u*tt,Ne+=u*Ve,he+=u*Xe,q+=u*He,ae+=u*Ce,p+=u*Fe,G+=u*Me,De+=u*Ue,Te+=u*ke,Ke+=u*rt,ct+=u*ft,qe+=u*lt,ut+=u*ot,Et+=u*st,Ct+=u*ht,m+=38*Pe,g+=38*Ne,w+=38*he,_+=38*q,h+=38*ae,E+=38*p,O+=38*G,N+=38*De,v+=38*Te,K+=38*Ke,le+=38*ct,V+=38*qe,Ee+=38*ut,ye+=38*Et,ve+=38*Ct,a=1,u=m+a+65535,a=Math.floor(u/65536),m=u-65536*a,u=g+a+65535,a=Math.floor(u/65536),g=u-65536*a,u=w+a+65535,a=Math.floor(u/65536),w=u-65536*a,u=_+a+65535,a=Math.floor(u/65536),_=u-65536*a,u=h+a+65535,a=Math.floor(u/65536),h=u-65536*a,u=E+a+65535,a=Math.floor(u/65536),E=u-65536*a,u=O+a+65535,a=Math.floor(u/65536),O=u-65536*a,u=N+a+65535,a=Math.floor(u/65536),N=u-65536*a,u=v+a+65535,a=Math.floor(u/65536),v=u-65536*a,u=K+a+65535,a=Math.floor(u/65536),K=u-65536*a,u=le+a+65535,a=Math.floor(u/65536),le=u-65536*a,u=V+a+65535,a=Math.floor(u/65536),V=u-65536*a,u=Ee+a+65535,a=Math.floor(u/65536),Ee=u-65536*a,u=ye+a+65535,a=Math.floor(u/65536),ye=u-65536*a,u=ve+a+65535,a=Math.floor(u/65536),ve=u-65536*a,u=Se+a+65535,a=Math.floor(u/65536),Se=u-65536*a,m+=a-1+37*(a-1),a=1,u=m+a+65535,a=Math.floor(u/65536),m=u-65536*a,u=g+a+65535,a=Math.floor(u/65536),g=u-65536*a,u=w+a+65535,a=Math.floor(u/65536),w=u-65536*a,u=_+a+65535,a=Math.floor(u/65536),_=u-65536*a,u=h+a+65535,a=Math.floor(u/65536),h=u-65536*a,u=E+a+65535,a=Math.floor(u/65536),E=u-65536*a,u=O+a+65535,a=Math.floor(u/65536),O=u-65536*a,u=N+a+65535,a=Math.floor(u/65536),N=u-65536*a,u=v+a+65535,a=Math.floor(u/65536),v=u-65536*a,u=K+a+65535,a=Math.floor(u/65536),K=u-65536*a,u=le+a+65535,a=Math.floor(u/65536),le=u-65536*a,u=V+a+65535,a=Math.floor(u/65536),V=u-65536*a,u=Ee+a+65535,a=Math.floor(u/65536),Ee=u-65536*a,u=ye+a+65535,a=Math.floor(u/65536),ye=u-65536*a,u=ve+a+65535,a=Math.floor(u/65536),ve=u-65536*a,u=Se+a+65535,a=Math.floor(u/65536),Se=u-65536*a,m+=a-1+37*(a-1),C[0]=m,C[1]=g,C[2]=w,C[3]=_,C[4]=h,C[5]=E,C[6]=O,C[7]=N,C[8]=v,C[9]=K,C[10]=le,C[11]=V,C[12]=Ee,C[13]=ye,C[14]=ve,C[15]=Se}function de(C,H){re(C,H,H)}function x(C,H){const T=new Uint8Array(32),u=new Float64Array(80),a=fe(),m=fe(),g=fe(),w=fe(),_=fe(),h=fe();for(let v=0;v<31;v++)T[v]=C[v];T[31]=127&C[31]|64,T[0]&=248,function A(C,H){for(let T=0;T<16;T++)C[T]=H[2*T]+(H[2*T+1]<<8);C[15]&=32767}(u,H);for(let v=0;v<16;v++)m[v]=u[v];a[0]=w[0]=1;for(let v=254;v>=0;--v){const K=T[v>>>3]>>>(7&v)&1;U(a,m,K),U(g,w,K),oe(_,a,g),pe(a,a,g),oe(g,m,w),pe(m,m,w),de(w,_),de(h,a),re(a,g,a),re(g,m,_),oe(_,a,g),pe(a,a,g),de(m,a),pe(g,w,h),re(a,g,k),oe(a,a,w),re(g,g,a),re(a,w,h),re(w,m,u),de(m,_),U(a,m,K),U(g,w,K)}for(let v=0;v<16;v++)u[v+16]=a[v],u[v+32]=g[v],u[v+48]=m[v],u[v+64]=w[v];const E=u.subarray(32),O=u.subarray(16);(function me(C,H){const T=fe();for(let u=0;u<16;u++)T[u]=H[u];for(let u=253;u>=0;u--)de(T,T),2!==u&&4!==u&&re(T,T,H);for(let u=0;u<16;u++)C[u]=T[u]})(E,E),re(O,O,E);const N=new Uint8Array(32);return function R(C,H){const T=fe(),u=fe();for(let a=0;a<16;a++)u[a]=H[a];L(u),L(u),L(u);for(let a=0;a<2;a++){T[0]=u[0]-65517;for(let g=1;g<15;g++)T[g]=u[g]-65535-(T[g-1]>>16&1),T[g-1]&=65535;T[15]=u[15]-32767-(T[14]>>16&1);const m=T[15]>>16&1;T[14]&=65535,U(u,T,1-m)}for(let a=0;a<16;a++)C[2*a]=255&u[a],C[2*a+1]=u[a]>>8}(N,O),N}function _e(C){return x(C,B)}f.Au=function j(C){const H=(0,ie.randomBytes)(32,C),T=function I(C){if(C.length!==f.KS)throw new Error(`x25519: seed must be ${f.KS} bytes`);const H=new Uint8Array(C);return{publicKey:_e(H),secretKey:H}}(H);return(0,se.wipe)(H),T},f.gi=function M(C,H,T=!1){if(C.length!==f.kz)throw new Error("X25519: incorrect secret key length");if(H.length!==f.kz)throw new Error("X25519: incorrect public key length");const u=x(C,H);if(T){let a=0;for(let m=0;m<u.length;m++)a|=u[m];if(0===a)throw new Error("X25519: invalid shared key")}return u}},2604:(we,f,b)=>{"use strict";b.r(f),b.d(f,{WC_DEFAULT_RPC_MAP:()=>Hd,WC_V2_DEFAULT_CHAINS:()=>zd,getWalletConnectV2ProviderInstance:()=>Kd});var D={};b.r(D),b.d(D,{identity:()=>Lt});var ie={};b.r(ie),b.d(ie,{base2:()=>jt});var se={};b.r(se),b.d(se,{base8:()=>Mt});var fe={};b.r(fe),b.d(fe,{base10:()=>Bt});var B={};b.r(B),b.d(B,{base16:()=>Ut,base16upper:()=>Nt});var k={};b.r(k),b.d(k,{base32:()=>vt,base32hex:()=>Kt,base32hexpad:()=>pr,base32hexpadupper:()=>Vn,base32hexupper:()=>Jn,base32pad:()=>Ht,base32padupper:()=>zt,base32upper:()=>$t,base32z:()=>Wn});var L={};b.r(L),b.d(L,{base36:()=>Gn,base36upper:()=>Yn});var U={};b.r(U),b.d(U,{base58btc:()=>Xn,base58flickr:()=>Dr});var R={};b.r(R),b.d(R,{base64:()=>qn,base64pad:()=>Qn,base64url:()=>Zn,base64urlpad:()=>kn});var A={};b.r(A),b.d(A,{base256emoji:()=>ri});var oe={};b.r(oe),b.d(oe,{sha256:()=>Qr,sha512:()=>yi});var pe={};b.r(pe),b.d(pe,{identity:()=>Dn});var re={};b.r(re),b.d(re,{code:()=>_i,decode:()=>F,encode:()=>vi,name:()=>mi});var de={};function me(r,e,t,n,s,o,y){try{var S=r[o](y),Y=S.value}catch(ue){return void t(ue)}S.done?e(Y):Promise.resolve(Y).then(n,s)}function x(r){return function(){var e=this,t=arguments;return new Promise(function(n,s){var o=r.apply(e,t);function y(Y){me(o,n,s,y,S,"next",Y)}function S(Y){me(o,n,s,y,S,"throw",Y)}y(void 0)})}}b.r(de),b.d(de,{code:()=>mt,decode:()=>Rt,encode:()=>$e,name:()=>Re});var _e=b(22694),I=b.n(_e),j=b(93105),M=b.n(j),C=b(3226),H=b(38960),T=b(66486),u=b(52399);class a extends u.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class g extends u.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class _ extends u.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class h extends u.q{constructor(e){super()}}class N extends u.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class K extends u.q{constructor(e,t){super(),this.core=e,this.logger=t}}var Ne=b(47903),he=b(52632),q=b(14611);const De="base64url",qe="did",ut="key",Et="base58btc";function He(r=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function Ce(r,e){e||(e=r.reduce((s,o)=>s+o.length,0));const t=He(e);let n=0;for(const s of r)t.set(s,n),n+=s.length;return t}const st=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class hr{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class wr{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return yr(this,e)}}class Or{constructor(e){this.decoders=e}or(e){return yr(this,e)}decode(e){const n=this.decoders[e[0]];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yr=(r,e)=>new Or({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class mr{constructor(e,t,n,s){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=s,this.encoder=new hr(e,t,n),this.decoder=new wr(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const wt=({name:r,prefix:e,encode:t,decode:n})=>new mr(r,e,t,n),_t=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:s}=function Fe(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var s=0;s<r.length;s++){var o=r.charAt(s),y=o.charCodeAt(0);if(255!==t[y])throw new TypeError(o+" is ambiguous");t[y]=s}var S=r.length,Y=r.charAt(0),ue=Math.log(S)/Math.log(256),ge=Math.log(256)/Math.log(S);function dt(Ie){if("string"!=typeof Ie)throw new TypeError("Expected String");if(0===Ie.length)return new Uint8Array;var je=0;if(" "!==Ie[je]){for(var xt=0,pt=0;Ie[je]===Y;)xt++,je++;for(var St=(Ie.length-je)*ue+1>>>0,bt=new Uint8Array(St);Ie[je];){var gt=t[Ie.charCodeAt(je)];if(255===gt)return;for(var yt=0,Ot=St-1;(0!==gt||yt<pt)&&-1!==Ot;Ot--,yt++)bt[Ot]=(gt+=S*bt[Ot]>>>0)%256>>>0,gt=gt/256>>>0;if(0!==gt)throw new Error("Non-zero carry");pt=yt,je++}if(" "!==Ie[je]){for(var it=St-pt;it!==St&&0===bt[it];)it++;for(var Tt=new Uint8Array(xt+(St-it)),Sr=xt;it!==St;)Tt[Sr++]=bt[it++];return Tt}}}return{encode:function xe(Ie){if(Ie instanceof Uint8Array||(ArrayBuffer.isView(Ie)?Ie=new Uint8Array(Ie.buffer,Ie.byteOffset,Ie.byteLength):Array.isArray(Ie)&&(Ie=Uint8Array.from(Ie))),!(Ie instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ie.length)return"";for(var je=0,xt=0,pt=0,St=Ie.length;pt!==St&&0===Ie[pt];)pt++,je++;for(var bt=(St-pt)*ge+1>>>0,gt=new Uint8Array(bt);pt!==St;){for(var yt=Ie[pt],Ot=0,it=bt-1;(0!==yt||Ot<xt)&&-1!==it;it--,Ot++)gt[it]=(yt+=256*gt[it]>>>0)%S>>>0,yt=yt/S>>>0;if(0!==yt)throw new Error("Non-zero carry");xt=Ot,pt++}for(var Tt=bt-xt;Tt!==bt&&0===gt[Tt];)Tt++;for(var Sr=Y.repeat(je);Tt<bt;++Tt)Sr+=r.charAt(gt[Tt]);return Sr},decodeUnsafe:dt,decode:function Pt(Ie){var je=dt(Ie);if(je)return je;throw new Error(`Non-${e} character`)}}}(t,e);return wt({prefix:r,name:e,encode:n,decode:o=>st(s(o))})},nt=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>wt({prefix:e,name:r,encode:s=>((r,e,t)=>{const n="="===e[e.length-1],s=(1<<t)-1;let o="",y=0,S=0;for(let Y=0;Y<r.length;++Y)for(S=S<<8|r[Y],y+=8;y>t;)y-=t,o+=e[s&S>>y];if(y&&(o+=e[s&S<<t-y]),n)for(;o.length*t&7;)o+="=";return o})(s,n,t),decode:s=>((r,e,t,n)=>{const s={};for(let ge=0;ge<e.length;++ge)s[e[ge]]=ge;let o=r.length;for(;"="===r[o-1];)--o;const y=new Uint8Array(o*t/8|0);let S=0,Y=0,ue=0;for(let ge=0;ge<o;++ge){const xe=s[r[ge]];if(void 0===xe)throw new SyntaxError(`Non-${n} character`);Y=Y<<t|xe,S+=t,S>=8&&(S-=8,y[ue++]=255&Y>>S)}if(S>=t||255&Y<<8-S)throw new SyntaxError("Unexpected end of data");return y})(s,n,t,r)}),Lt=wt({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),jt=nt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Mt=nt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Bt=_t({prefix:"9",name:"base10",alphabet:"0123456789"}),Ut=nt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nt=nt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),vt=nt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$t=nt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ht=nt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zt=nt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Kt=nt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Jn=nt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pr=nt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Vn=nt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Wn=nt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Gn=_t({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Yn=_t({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Xn=_t({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Dr=_t({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),qn=nt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Qn=nt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Zn=nt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kn=nt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),pn=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),zr=pn.reduce((r,e,t)=>(r[t]=e,r),[]),ei=pn.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]),ri=wt({prefix:"\u{1f680}",name:"base256emoji",encode:function ti(r){return r.reduce((e,t)=>e+zr[t],"")},decode:function _r(r){const e=[];for(const t of r){const n=ei[t.codePointAt(0)];if(void 0===n)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}});var oi=Math.pow(2,31),ci=Math.pow(2,7),ui=Math.pow(2,14),fi=Math.pow(2,21),li=Math.pow(2,28),yn=Math.pow(2,35),di=Math.pow(2,42),hi=Math.pow(2,49),mn=Math.pow(2,56),Jr=Math.pow(2,63);const gr_encode=function Fr(r,e,t){e=e||[];for(var n=t=t||0;r>=oi;)e[t++]=255&r|128,r/=128;for(;-128&r;)e[t++]=255&r|128,r>>>=7;return e[t]=0|r,Fr.bytes=t-n+1,e},gr_encodingLength=function(r){return r<ci?1:r<ui?2:r<fi?3:r<li?4:r<yn?5:r<di?6:r<hi?7:r<mn?8:r<Jr?9:10},_n=(r,e,t=0)=>(gr_encode(r,e,t),e),vn=r=>gr_encodingLength(r),Xr=(r,e)=>{const t=e.byteLength,n=vn(r),s=n+vn(t),o=new Uint8Array(s+t);return _n(r,o,0),_n(t,o,n),o.set(e,s),new qr(r,t,e,o)};class qr{constructor(e,t,n,s){this.code=e,this.size=t,this.digest=n,this.bytes=s}}const bn=({name:r,code:e,encode:t})=>new Vr(r,e,t);class Vr{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Xr(this.code,t):t.then(n=>Xr(this.code,n))}throw Error("Unknown type, must be binary type")}}const En=r=>function(){var e=x(function*(t){return new Uint8Array(yield crypto.subtle.digest(r,t))});return function(t){return e.apply(this,arguments)}}(),Qr=bn({name:"sha2-256",code:18,encode:En("SHA-256")}),yi=bn({name:"sha2-512",code:19,encode:En("SHA-512")}),kr=st,Dn={code:0,name:"identity",encode:kr,digest:r=>Xr(0,kr(r))},mi="raw",_i=85,vi=r=>st(r),F=r=>st(r),ce=new TextEncoder,be=new TextDecoder,Re="json",mt=512,$e=r=>ce.encode(JSON.stringify(r)),Rt=r=>JSON.parse(be.decode(r));Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const jr={...D,...ie,...se,...fe,...B,...k,...L,...U,...R,...A};function cs(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const us=cs("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),bi=cs("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{const e=He((r=r.substring(1)).length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),fs={utf8:us,"utf-8":us,hex:jr.base16,latin1:bi,ascii:bi,binary:bi,...jr};function nr(r,e="utf8"){const t=fs[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.encoder.encode(r).substring(1):globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8")}function ir(r,e="utf8"){const t=fs[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${r}`):globalThis.Buffer.from(r,"utf8")}function On(r){return nr(ir(function ta(r){return"string"==typeof r?r:JSON.stringify(r)}(r),"utf8"),De)}function ls(r){const t="z"+nr(Ce([ir("K36",Et),r]),Et);return[qe,ut,t].join(":")}function ra(r){return nr(r,De)}function ia(r){return ir([On(r.header),On(r.payload)].join("."),"utf8")}function sa(r){return[On(r.header),On(r.payload),ra(r.signature)].join(".")}function ds(r=(0,he.randomBytes)(32)){return Ne._w(r)}function Ei(){return(Ei=x(function*(r,e,t,n,s=(0,q.fromMiliseconds)(Date.now())){const o={alg:"EdDSA",typ:"JWT"},Y={iss:ls(n.publicKey),sub:r,aud:e,iat:s,exp:s+t},ue=ia({header:o,payload:Y});return sa({header:o,payload:Y,signature:Ne.Xx(n.secretKey,ue)})})).apply(this,arguments)}b(58083);var hs=b(91573),aa=b(37651),Di=b(41027),ps=b(72180),gs=function(r,e,t){if(t||2===arguments.length)for(var o,n=0,s=e.length;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},ca=function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},ua=function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},fa=function r(e,t,n,s){this.name=e,this.version=t,this.os=n,this.bot=s,this.type="bot-device"},la=function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},da=function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},pa=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ga=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ms=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vs(r){var e=function _s(r){return""!==r&&ga.reduce(function(e,t){var n=t[0];if(e)return e;var o=t[1].exec(r);return!!o&&[n,o]},!1)}(r);if(!e)return null;var t=e[0],n=e[1];if("searchbot"===t)return new la;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<3&&(s=gs(gs([],s,!0),function va(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}(3-s.length),!0)):s=[];var o=s.join("."),y=function ma(r){for(var e=0,t=ms.length;e<t;e++){var n=ms[e],s=n[0];if(n[1].exec(r))return s}return null}(r),S=pa.exec(r);return S&&S[1]?new fa(t,o,y,S[1]):new ca(t,o,y)}var In=b(45418),ba=b(31846),Rn=b(34955);b(45785);const Ea={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function An(r,e){return r.includes(":")?[r]:e.chains||[]}const sr="base16",Si="base64pad",Oi="utf8";function Pi(){return nr((0,he.randomBytes)(32),sr)}function Nn(r){return nr((0,Di.vp)(ir(r,Oi)),sr)}function en(r){return Number(nr(r,"base10"))}function Ai(r){const e=ir(r,Si),t=e.slice(0,1);if(1===en(t)){const S=33,Y=S+12,ue=e.slice(1,S),ge=e.slice(S,Y);return{type:t,sealed:e.slice(Y),iv:ge,senderPublicKey:ue}}const o=e.slice(1,13);return{type:t,sealed:e.slice(13),iv:o}}function Ss(r){const e=r?.type||0;if(1===e){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function Os(r){return 1===r.type&&"string"==typeof r.senderPublicKey&&"string"==typeof r.receiverPublicKey}var Ba=Object.defineProperty,Is=Object.getOwnPropertySymbols,$a=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable,Rs=(r,e,t)=>e in r?Ba(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ps=(r,e)=>{for(var t in e||(e={}))$a.call(e,t)&&Rs(r,t,e[t]);if(Is)for(var t of Is(e))Ha.call(e,t)&&Rs(r,t,e[t]);return r};const Ja="js";function Ns(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Qa(r,e,t){const n=function Xa(){const r=function ya(r){return r?vs(r):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new da:typeof navigator<"u"?vs(navigator.userAgent):function _a(){return typeof process<"u"&&process.version?new ua(process.version.slice(1)):null}()}();if(null===r)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return"browser"===r.type?[e,r.name,r.version].join("-"):[e,r.version].join("-")}(),s=function qa(){var r;const e=function Ts(){return function Va(){return!(0,In.getDocument)()&&!!(0,In.getNavigator)()&&"ReactNative"===navigator.product}()?"react-native":Ns()?"node":function Wa(){return!Ns()&&!!(0,In.getNavigator)()}()?"browser":"unknown"}();return"browser"===e?[e,(null==(r=(0,In.getLocation)())?void 0:r.host)||"unknown"].join(":"):e}();return[[r,e].join("-"),[Ja,t].join("-"),n,s].join("/")}function Pr(r,e){return r.filter(t=>e.includes(t)).length===r.length}function Cs(r){return Object.fromEntries(r.entries())}function Us(r){return new Map(Object.entries(r))}function Br(r){const e=(0,q.toMiliseconds)(r||q.FIVE_MINUTES);let t,n,s;return{resolve:o=>{s&&t&&(clearTimeout(s),t(o))},reject:o=>{s&&n&&(clearTimeout(s),n(o))},done:()=>new Promise((o,y)=>{s=setTimeout(y,e),t=o,n=y})}}function Fs(r,e){return new Promise(function(){var t=x(function*(n,s){const o=setTimeout(()=>s(),e),y=yield r;clearTimeout(o),n(y)});return function(n,s){return t.apply(this,arguments)}}())}function Ls(r,e){if("string"==typeof e&&e.startsWith(`${r}:`))return e;if("topic"===r.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===r.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function js(r){const[e,t]=r.split(":"),n={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof t)n.topic=t;else{if("id"!==e||!Number.isInteger(Number(t)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);n.id=Number(t)}return n}function vr(r,e){return(0,q.fromMiliseconds)((e||Date.now())+(0,q.toMiliseconds)(r))}function Ar(r){return Date.now()>=(0,q.toMiliseconds)(r)}function Ft(r,e){return`${r}${e?`:${e}`:""}`}function Ti(r){return r?.relay||{protocol:"irn"}}function Ci(r){const e=Ea[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var sc=Object.defineProperty,Ms=Object.getOwnPropertySymbols,oc=Object.prototype.hasOwnProperty,ac=Object.prototype.propertyIsEnumerable,Bs=(r,e,t)=>e in r?sc(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;function uc(r,e="-"){const t={},n="relay"+e;return Object.keys(r).forEach(s=>{if(s.startsWith(n)){const o=s.replace(n,"");t[o]=r[s]}}),t}function rn(r){const e=[];return r.forEach(t=>{const[n,s]=t.split(":");e.push(`${n}:${s}`)}),e}const mc={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},_c={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Oe(r,e){const{message:t,code:n}=_c[r];return{message:e?`${t} ${e}`:t,code:n}}function Wt(r,e){const{message:t,code:n}=mc[r];return{message:e?`${t} ${e}`:t,code:n}}function Tn(r,e){return!!Array.isArray(r)&&(!(typeof e<"u"&&r.length)||r.every(e))}function nn(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function tr(r){return typeof r>"u"}function Gt(r,e){return!(!e||!tr(r))||"string"==typeof r&&Boolean(r.trim().length)}function Ui(r,e){return!(!e||!tr(r))||"number"==typeof r&&!isNaN(r)}function Fi(r){return!(!Gt(r,!1)||!r.includes(":"))&&2===r.split(":").length}function $s(r){let e=!0;return Tn(r)?r.length&&(e=r.every(t=>Gt(t,!1))):e=!1,e}function Hs(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const s=function Pc(r,e){let t=null;return $s(r?.methods)?$s(r?.events)||(t=Wt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Wt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}(n,`${e}, namespace`);s&&(t=s)}),t}function Cn(r,e){let t=null;if(r&&nn(r)){const n=Hs(r,e);n&&(t=n);const s=function Rc(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const s=function Ic(r,e){let t=null;return Tn(r)?r.forEach(n=>{t||function bc(r){if(Gt(r,!1)&&r.includes(":")){const e=r.split(":");if(3===e.length){const t=e[0]+":"+e[1];return!!e[2]&&Fi(t)}}return!1}(n)||(t=Wt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):t=Wt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}(n?.accounts,`${e} namespace`);s&&(t=s)}),t}(r,e);s&&(t=s)}else t=Oe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function zs(r){return Gt(r.protocol,!0)}function or(r){return typeof r<"u"&&null!==typeof r}function Ks(r,e){return!(!Fi(e)||!function hc(r){const e=[];return Object.values(r).forEach(t=>{e.push(...rn(t.accounts))}),e}(r).includes(e))}function Li(r,e,t,n){let s=null;const o=Object.keys(r);return Pr(o,Object.keys(e))?o.forEach(S=>{if(s)return;const Y=rn(e[S].accounts);Pr(An(S,r[S]),Y)?Pr(r[S].methods,e[S].methods)?Pr(r[S].events,e[S].events)||(s=Oe("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${S}`)):s=Oe("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${S}`):s=Oe("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace chains for ${S}`)}):s=Oe("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy ${n}`),s}var Le=b(22339);class sn extends Le.IJsonRpcProvider{constructor(e){super(e),this.events=new j.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(e=this.connection){var t=this;return x(function*(){yield t.open(e)})()}disconnect(){var e=this;return x(function*(){yield e.close()})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}request(e,t){var n=this;return x(function*(){return n.requestStrict((0,Le.formatJsonRpcRequest)(e.method,e.params||[]),t)})()}requestStrict(e,t){var n=this;return x(function*(){return new Promise(function(){var s=x(function*(o,y){if(!n.connection.connected)try{yield n.open()}catch(S){y(S)}n.events.on(`${e.id}`,S=>{(0,Le.isJsonRpcError)(S)?y(S.error):o(S.result)});try{yield n.connection.send(e,t)}catch(S){y(S)}});return function(o,y){return s.apply(this,arguments)}}())})()}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,Le.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}open(e=this.connection){var t=this;return x(function*(){t.connection===e&&t.connection.connected||(t.connection.connected&&t.close(),"string"==typeof e&&(yield t.connection.open(e),e=t.connection),t.connection=t.setConnection(e),yield t.connection.open(),t.registerEventListeners(),t.events.emit("connect"))})()}close(){var e=this;return x(function*(){yield e.connection.close()})()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}const Jc=typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:b(44813);var Gc=b(6856),Yc=b.n(Gc);const Vs=r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};class eu{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tu{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ws(this,e)}}class ru{constructor(e){this.decoders=e}or(e){return Ws(this,e)}decode(e){const n=this.decoders[e[0]];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ws=(r,e)=>new ru({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class nu{constructor(e,t,n,s){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=s,this.encoder=new eu(e,t,n),this.decoder=new tu(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Un=({name:r,prefix:e,encode:t,decode:n})=>new nu(r,e,t,n),on=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:s}=function Xc(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var s=0;s<r.length;s++){var o=r.charAt(s),y=o.charCodeAt(0);if(255!==t[y])throw new TypeError(o+" is ambiguous");t[y]=s}var S=r.length,Y=r.charAt(0),ue=Math.log(S)/Math.log(256),ge=Math.log(256)/Math.log(S);function dt(Ie){if("string"!=typeof Ie)throw new TypeError("Expected String");if(0===Ie.length)return new Uint8Array;var je=0;if(" "!==Ie[je]){for(var xt=0,pt=0;Ie[je]===Y;)xt++,je++;for(var St=(Ie.length-je)*ue+1>>>0,bt=new Uint8Array(St);Ie[je];){var gt=t[Ie.charCodeAt(je)];if(255===gt)return;for(var yt=0,Ot=St-1;(0!==gt||yt<pt)&&-1!==Ot;Ot--,yt++)bt[Ot]=(gt+=S*bt[Ot]>>>0)%256>>>0,gt=gt/256>>>0;if(0!==gt)throw new Error("Non-zero carry");pt=yt,je++}if(" "!==Ie[je]){for(var it=St-pt;it!==St&&0===bt[it];)it++;for(var Tt=new Uint8Array(xt+(St-it)),Sr=xt;it!==St;)Tt[Sr++]=bt[it++];return Tt}}}return{encode:function xe(Ie){if(Ie instanceof Uint8Array||(ArrayBuffer.isView(Ie)?Ie=new Uint8Array(Ie.buffer,Ie.byteOffset,Ie.byteLength):Array.isArray(Ie)&&(Ie=Uint8Array.from(Ie))),!(Ie instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ie.length)return"";for(var je=0,xt=0,pt=0,St=Ie.length;pt!==St&&0===Ie[pt];)pt++,je++;for(var bt=(St-pt)*ge+1>>>0,gt=new Uint8Array(bt);pt!==St;){for(var yt=Ie[pt],Ot=0,it=bt-1;(0!==yt||Ot<xt)&&-1!==it;it--,Ot++)gt[it]=(yt+=256*gt[it]>>>0)%S>>>0,yt=yt/S>>>0;if(0!==yt)throw new Error("Non-zero carry");xt=Ot,pt++}for(var Tt=bt-xt;Tt!==bt&&0===gt[Tt];)Tt++;for(var Sr=Y.repeat(je);Tt<bt;++Tt)Sr+=r.charAt(gt[Tt]);return Sr},decodeUnsafe:dt,decode:function Pt(Ie){var je=dt(Ie);if(je)return je;throw new Error(`Non-${e} character`)}}}(t,e);return Un({prefix:r,name:e,encode:n,decode:o=>Vs(s(o))})},qt=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Un({prefix:e,name:r,encode:s=>((r,e,t)=>{const n="="===e[e.length-1],s=(1<<t)-1;let o="",y=0,S=0;for(let Y=0;Y<r.length;++Y)for(S=S<<8|r[Y],y+=8;y>t;)y-=t,o+=e[s&S>>y];if(y&&(o+=e[s&S<<t-y]),n)for(;o.length*t&7;)o+="=";return o})(s,n,t),decode:s=>((r,e,t,n)=>{const s={};for(let ge=0;ge<e.length;++ge)s[e[ge]]=ge;let o=r.length;for(;"="===r[o-1];)--o;const y=new Uint8Array(o*t/8|0);let S=0,Y=0,ue=0;for(let ge=0;ge<o;++ge){const xe=s[r[ge]];if(void 0===xe)throw new SyntaxError(`Non-${n} character`);Y=Y<<t|xe,S+=t,S>=8&&(S-=8,y[ue++]=255&Y>>S)}if(S>=t||255&Y<<8-S)throw new SyntaxError("Unexpected end of data");return y})(s,n,t,r)}),ou=Un({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)});var au=Object.freeze({__proto__:null,identity:ou});const cu=qt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var uu=Object.freeze({__proto__:null,base2:cu});const fu=qt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var lu=Object.freeze({__proto__:null,base8:fu});const du=on({prefix:"9",name:"base10",alphabet:"0123456789"});var hu=Object.freeze({__proto__:null,base10:du});const pu=qt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gu=qt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var yu=Object.freeze({__proto__:null,base16:pu,base16upper:gu});const mu=qt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_u=qt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vu=qt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bu=qt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Eu=qt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wu=qt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Du=qt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xu=qt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Su=qt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Ou=Object.freeze({__proto__:null,base32:mu,base32upper:_u,base32pad:vu,base32padupper:bu,base32hex:Eu,base32hexupper:wu,base32hexpad:Du,base32hexpadupper:xu,base32z:Su});const Iu=on({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ru=on({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Pu=Object.freeze({__proto__:null,base36:Iu,base36upper:Ru});const Au=on({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Nu=on({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Tu=Object.freeze({__proto__:null,base58btc:Au,base58flickr:Nu});const Cu=qt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Uu=qt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fu=qt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Lu=qt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ju=Object.freeze({__proto__:null,base64:Cu,base64pad:Uu,base64url:Fu,base64urlpad:Lu});const Gs=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Mu=Gs.reduce((r,e,t)=>(r[t]=e,r),[]),Bu=Gs.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]),zu=Un({prefix:"\u{1f680}",name:"base256emoji",encode:function $u(r){return r.reduce((e,t)=>e+Mu[t],"")},decode:function Hu(r){const e=[];for(const t of r){const n=Bu[t.codePointAt(0)];if(void 0===n)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}});var Ku=Object.freeze({__proto__:null,base256emoji:zu}),Gu=Math.pow(2,31),qu=Math.pow(2,7),Qu=Math.pow(2,14),Zu=Math.pow(2,21),ku=Math.pow(2,28),ef=Math.pow(2,35),tf=Math.pow(2,42),rf=Math.pow(2,49),nf=Math.pow(2,56),sf=Math.pow(2,63),Qs_encode=function Xs(r,e,t){e=e||[];for(var n=t=t||0;r>=Gu;)e[t++]=255&r|128,r/=128;for(;-128&r;)e[t++]=255&r|128,r>>>=7;return e[t]=0|r,Xs.bytes=t-n+1,e},Qs_encodingLength=function(r){return r<qu?1:r<Qu?2:r<Zu?3:r<ku?4:r<ef?5:r<tf?6:r<rf?7:r<nf?8:r<sf?9:10};const Zs=(r,e,t=0)=>(Qs_encode(r,e,t),e),ks=r=>Qs_encodingLength(r),Mi=(r,e)=>{const t=e.byteLength,n=ks(r),s=n+ks(t),o=new Uint8Array(s+t);return Zs(r,o,0),Zs(t,o,n),o.set(e,s),new cf(r,t,e,o)};class cf{constructor(e,t,n,s){this.code=e,this.size=t,this.digest=n,this.bytes=s}}const eo=({name:r,code:e,encode:t})=>new uf(r,e,t);class uf{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Mi(this.code,t):t.then(n=>Mi(this.code,n))}throw Error("Unknown type, must be binary type")}}const to=r=>function(){var e=x(function*(t){return new Uint8Array(yield crypto.subtle.digest(r,t))});return function(t){return e.apply(this,arguments)}}(),ff=eo({name:"sha2-256",code:18,encode:to("SHA-256")}),lf=eo({name:"sha2-512",code:19,encode:to("SHA-512")});Object.freeze({__proto__:null,sha256:ff,sha512:lf});const no=Vs;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:no,digest:r=>Mi(0,no(r))}}),new TextEncoder,new TextDecoder;const io={...au,...uu,...lu,...hu,...yu,...Ou,...Pu,...Tu,...ju,...Ku};function so(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const oo=so("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Bi=so("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{const e=function gf(r=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}((r=r.substring(1)).length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),yf={utf8:oo,"utf-8":oo,hex:io.base16,latin1:Bi,ascii:Bi,binary:Bi,...io},Nr="wc@2:core:",bf={database:":memory:"},co="client_ed25519_seed",wf=q.ONE_DAY,If=q.SIX_HOURS,fo="wss://relay.walletconnect.com",lo=q.ONE_SECOND,br_created="subscription_created",br_deleted="subscription_deleted",Lf=1e3*q.FIVE_SECONDS,an={wc_pairingDelete:{req:{ttl:q.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:q.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:q.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:q.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:q.ONE_DAY,prompt:!1,tag:0},res:{ttl:q.ONE_DAY,prompt:!1,tag:0}}},fr_expired="expirer_expired";class Kf{constructor(e,t){var n=this;this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Nr,this.init=x(function*(){if(!n.initialized){const s=yield n.getKeyChain();typeof s<"u"&&(n.keychain=s),n.initialized=!0}}),this.has=s=>(this.isInitialized(),this.keychain.has(s)),this.set=function(){var s=x(function*(o,y){n.isInitialized(),n.keychain.set(o,y),yield n.persist()});return function(o,y){return s.apply(this,arguments)}}(),this.get=s=>{this.isInitialized();const o=this.keychain.get(s);if(typeof o>"u"){const{message:y}=Oe("NO_MATCHING_KEY",`${this.name}: ${s}`);throw new Error(y)}return o},this.del=function(){var s=x(function*(o){n.isInitialized(),n.keychain.delete(o),yield n.persist()});return function(o){return s.apply(this,arguments)}}(),this.core=e,this.logger=(0,T.generateChildLogger)(t,this.name)}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setKeyChain(e){var t=this;return x(function*(){yield t.core.storage.setItem(t.storageKey,Cs(e))})()}getKeyChain(){var e=this;return x(function*(){const t=yield e.core.storage.getItem(e.storageKey);return typeof t<"u"?Us(t):void 0})()}persist(){var e=this;return x(function*(){yield e.setKeyChain(e.keychain)})()}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Jf{constructor(e,t,n){var s=this;this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=x(function*(){s.initialized||(yield s.keychain.init(),s.initialized=!0)}),this.hasKeys=o=>(this.isInitialized(),this.keychain.has(o)),this.getClientId=x(function*(){return s.isInitialized(),ls(ds(yield s.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const o=function Na(){const r=ps.Au();return{privateKey:nr(r.secretKey,sr),publicKey:nr(r.publicKey,sr)}}();return this.setPrivateKey(o.publicKey,o.privateKey)},this.signJWT=function(){var o=x(function*(y){s.isInitialized();const Y=ds(yield s.getClientSeed()),ue=Pi();return yield function oa(r,e,t,n){return Ei.apply(this,arguments)}(ue,y,wf,Y)});return function(y){return o.apply(this,arguments)}}(),this.generateSharedKey=(o,y,S)=>{this.isInitialized();const ue=function Ta(r,e){const t=ps.gi(ir(r,sr),ir(e,sr));return nr(new aa.t(Di.mE,t).expand(32),sr)}(this.getPrivateKey(o),y);return this.setSymKey(ue,S)},this.setSymKey=function(){var o=x(function*(y,S){s.isInitialized();const Y=S||function Ca(r){return nr((0,Di.vp)(ir(r,sr)),sr)}(y);return yield s.keychain.set(Y,y),Y});return function(y,S){return o.apply(this,arguments)}}(),this.deleteKeyPair=function(){var o=x(function*(y){s.isInitialized(),yield s.keychain.del(y)});return function(y){return o.apply(this,arguments)}}(),this.deleteSymKey=function(){var o=x(function*(y){s.isInitialized(),yield s.keychain.del(y)});return function(y){return o.apply(this,arguments)}}(),this.encode=function(){var o=x(function*(y,S,Y){s.isInitialized();const ue=Ss(Y),ge=function Pe(r){return"string"==typeof r?r:JSON.stringify(r)}(S);if(Os(ue)){const Ie=ue.senderPublicKey,je=ue.receiverPublicKey;y=yield s.generateSharedKey(Ie,je)}const xe=s.getSymKey(y),{type:dt,senderPublicKey:Pt}=ue;return function Fa(r){const e=function Ua(r){return ir(`${r}`,"base10")}(typeof r.type<"u"?r.type:0);if(1===en(e)&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?ir(r.senderPublicKey,sr):void 0,n=typeof r.iv<"u"?ir(r.iv,sr):(0,he.randomBytes)(12);return function ja(r){if(1===en(r.type)){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return nr(Ce([r.type,r.senderPublicKey,r.iv,r.sealed]),Si)}return nr(Ce([r.type,r.iv,r.sealed]),Si)}({type:e,sealed:new hs.OK(ir(r.symKey,sr)).seal(n,ir(r.message,Oi)),iv:n,senderPublicKey:t})}({type:dt,symKey:xe,message:ge,senderPublicKey:Pt})});return function(y,S,Y){return o.apply(this,arguments)}}(),this.decode=function(){var o=x(function*(y,S,Y){s.isInitialized();const ue=function Ma(r,e){const t=Ai(r);return Ss({type:en(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?nr(t.senderPublicKey,sr):void 0,receiverPublicKey:e?.receiverPublicKey})}(S,Y);if(Os(ue)){const dt=ue.receiverPublicKey,Pt=ue.senderPublicKey;y=yield s.generateSharedKey(dt,Pt)}const xe=function La(r){const e=new hs.OK(ir(r.symKey,sr)),{sealed:t,iv:n}=Ai(r.encoded),s=e.open(n,t);if(null===s)throw new Error("Failed to decrypt");return nr(s,Oi)}({symKey:s.getSymKey(y),encoded:S});return function Se(r){if("string"!=typeof r)throw new Error("Cannot safe json parse value of type "+typeof r);try{return JSON.parse(r)}catch{return r}}(xe)});return function(y,S,Y){return o.apply(this,arguments)}}(),this.core=e,this.logger=(0,T.generateChildLogger)(t,this.name),this.keychain=n||new Kf(this.core,this.logger)}get context(){return(0,T.getLoggerContext)(this.logger)}getPayloadType(e){return en(Ai(e).type)}setPrivateKey(e,t){var n=this;return x(function*(){return yield n.keychain.set(e,t),e})()}getPrivateKey(e){return this.keychain.get(e)}getClientSeed(){var e=this;return x(function*(){let t="";try{t=e.keychain.get(co)}catch{t=Pi(),yield e.keychain.set(co,t)}return function mf(r,e="utf8"){const t=yf[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${r}`):globalThis.Buffer.from(r,"utf8")}(t,"base16")})()}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Vf extends class w{constructor(e,t){this.logger=e,this.core=t}}{constructor(e,t){var n;super(e,t),n=this,this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Nr,this.init=x(function*(){if(!n.initialized){n.logger.trace("Initialized");try{const s=yield n.getRelayerMessages();typeof s<"u"&&(n.messages=s),n.logger.debug(`Successfully Restored records for ${n.name}`),n.logger.trace({type:"method",method:"restore",size:n.messages.size})}catch(s){n.logger.debug(`Failed to Restore records for ${n.name}`),n.logger.error(s)}finally{n.initialized=!0}}}),this.set=function(){var s=x(function*(o,y){n.isInitialized();const S=Nn(y);let Y=n.messages.get(o);return typeof Y>"u"&&(Y={}),typeof Y[S]<"u"||(Y[S]=y,n.messages.set(o,Y),yield n.persist()),S});return function(o,y){return s.apply(this,arguments)}}(),this.get=s=>{this.isInitialized();let o=this.messages.get(s);return typeof o>"u"&&(o={}),o},this.has=(s,o)=>(this.isInitialized(),typeof this.get(s)[Nn(o)]<"u"),this.del=function(){var s=x(function*(o){n.isInitialized(),n.messages.delete(o),yield n.persist()});return function(o){return s.apply(this,arguments)}}(),this.logger=(0,T.generateChildLogger)(e,this.name),this.core=t}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setRelayerMessages(e){var t=this;return x(function*(){yield t.core.storage.setItem(t.storageKey,Cs(e))})()}getRelayerMessages(){var e=this;return x(function*(){const t=yield e.core.storage.getItem(e.storageKey);return typeof t<"u"?Us(t):void 0})()}persist(){var e=this;return x(function*(){yield e.setRelayerMessages(e.messages)})()}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Wf extends _{constructor(e,t){var n;super(e,t),n=this,this.relayer=e,this.logger=t,this.events=new j.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=1e4,this.publish=function(){var s=x(function*(o,y,S){n.logger.debug("Publishing Payload"),n.logger.trace({type:"method",method:"publish",params:{topic:o,message:y,opts:S}});try{const Y=S?.ttl||If,ue=Ti(S),ge=S?.prompt||!1,xe=S?.tag||0,dt={topic:o,message:y,opts:{ttl:Y,relay:ue,prompt:ge,tag:xe}},Pt=Nn(y);n.queue.set(Pt,dt);try{yield yield Fs(n.rpcPublish(o,y,Y,ue,ge,xe),n.publishTimeout),n.relayer.events.emit("relayer_publish",dt)}catch{return n.logger.debug("Publishing Payload stalled"),void n.relayer.events.emit("relayer_connection_stalled")}n.onPublish(Pt,dt),n.logger.debug("Successfully Published Payload"),n.logger.trace({type:"method",method:"publish",params:{topic:o,message:y,opts:S}})}catch(Y){throw n.logger.debug("Failed to Publish Payload"),n.logger.error(Y),Y}});return function(o,y,S){return s.apply(this,arguments)}}(),this.on=(s,o)=>{this.events.on(s,o)},this.once=(s,o)=>{this.events.once(s,o)},this.off=(s,o)=>{this.events.off(s,o)},this.removeListener=(s,o)=>{this.events.removeListener(s,o)},this.relayer=e,this.logger=(0,T.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,T.getLoggerContext)(this.logger)}rpcPublish(e,t,n,s,o,y){var S,Y,ue,ge;const xe={method:Ci(s.protocol).publish,params:{topic:e,message:t,ttl:n,prompt:o,tag:y}};return tr(null==(S=xe.params)?void 0:S.prompt)&&(null==(Y=xe.params)||delete Y.prompt),tr(null==(ue=xe.params)?void 0:ue.tag)&&(null==(ge=xe.params)||delete ge.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:xe}),this.relayer.provider.request(xe)}onPublish(e,t){this.queue.delete(e)}checkQueue(){var e=this;this.queue.forEach(function(){var t=x(function*(n){const{topic:s,message:o,opts:y}=n;yield e.publish(s,o,y)});return function(n){return t.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(H.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}}class Gf{constructor(){this.map=new Map,this.set=(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const s=n.filter(o=>o!==t);s.length?this.map.set(e,s):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Yf=Object.defineProperty,Xf=Object.defineProperties,qf=Object.getOwnPropertyDescriptors,ho=Object.getOwnPropertySymbols,Qf=Object.prototype.hasOwnProperty,Zf=Object.prototype.propertyIsEnumerable,po=(r,e,t)=>e in r?Yf(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ln=(r,e)=>{for(var t in e||(e={}))Qf.call(e,t)&&po(r,t,e[t]);if(ho)for(var t of ho(e))Zf.call(e,t)&&po(r,t,e[t]);return r},Hi=(r,e)=>Xf(r,qf(e));class kf extends N{constructor(e,t){var n;super(e,t),n=this,this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new Gf,this.events=new j.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Nr,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.init=x(function*(){n.initialized||(n.logger.trace("Initialized"),yield n.restart(),n.registerEventListeners(),n.onEnable(),n.clientId=yield n.relayer.core.crypto.getClientId())}),this.subscribe=function(){var s=x(function*(o,y){yield n.restartToComplete(),n.isInitialized(),n.logger.debug("Subscribing Topic"),n.logger.trace({type:"method",method:"subscribe",params:{topic:o,opts:y}});try{const S=Ti(y),Y={topic:o,relay:S};n.pending.set(o,Y);const ue=yield n.rpcSubscribe(o,S);return n.onSubscribe(ue,Y),n.logger.debug("Successfully Subscribed Topic"),n.logger.trace({type:"method",method:"subscribe",params:{topic:o,opts:y}}),ue}catch(S){throw n.logger.debug("Failed to Subscribe Topic"),n.logger.error(S),S}});return function(o,y){return s.apply(this,arguments)}}(),this.unsubscribe=function(){var s=x(function*(o,y){yield n.restartToComplete(),n.isInitialized(),typeof y?.id<"u"?yield n.unsubscribeById(o,y.id,y):yield n.unsubscribeByTopic(o,y)});return function(o,y){return s.apply(this,arguments)}}(),this.isSubscribed=function(){var s=x(function*(o){return!!n.topics.includes(o)||(yield new Promise((y,S)=>{const Y=new q.Watch;Y.start(n.pendingSubscriptionWatchLabel);const ue=setInterval(()=>{!n.pending.has(o)&&n.topics.includes(o)&&(clearInterval(ue),Y.stop(n.pendingSubscriptionWatchLabel),y(!0)),Y.elapsed(n.pendingSubscriptionWatchLabel)>=Lf&&(clearInterval(ue),Y.stop(n.pendingSubscriptionWatchLabel),S(!1))},n.pollingInterval)}))});return function(o){return s.apply(this,arguments)}}(),this.on=(s,o)=>{this.events.on(s,o)},this.once=(s,o)=>{this.events.once(s,o)},this.off=(s,o)=>{this.events.off(s,o)},this.removeListener=(s,o)=>{this.events.removeListener(s,o)},this.restart=x(function*(){n.restartInProgress=!0,yield n.restore(),yield n.reset(),n.restartInProgress=!1}),this.relayer=e,this.logger=(0,T.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}unsubscribeByTopic(e,t){var n=this;return x(function*(){const s=n.topicMap.get(e);yield Promise.all(s.map(function(){var o=x(function*(y){return yield n.unsubscribeById(e,y,t)});return function(y){return o.apply(this,arguments)}}()))})()}unsubscribeById(e,t,n){var s=this;return x(function*(){s.logger.debug("Unsubscribing Topic"),s.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const o=Ti(n);yield s.rpcUnsubscribe(e,t,o);const y=Wt("USER_DISCONNECTED",`${s.name}, ${e}`);yield s.onUnsubscribe(e,t,y),s.logger.debug("Successfully Unsubscribed Topic"),s.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(o){throw s.logger.debug("Failed to Unsubscribe Topic"),s.logger.error(o),o}})()}rpcSubscribe(e,t){var n=this;return x(function*(){const s={method:Ci(t.protocol).subscribe,params:{topic:e}};n.logger.debug("Outgoing Relay Payload"),n.logger.trace({type:"payload",direction:"outgoing",request:s});try{yield yield Fs(n.relayer.provider.request(s),n.subscribeTimeout)}catch{n.logger.debug("Outgoing Relay Payload stalled"),n.relayer.events.emit("relayer_connection_stalled")}return Nn(e+n.clientId)})()}rpcUnsubscribe(e,t,n){const s={method:Ci(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.provider.request(s)}onSubscribe(e,t){this.setSubscription(e,Hi(Ln({},t),{id:e})),this.pending.delete(t.topic)}onResubscribe(e,t){this.addSubscription(e,Hi(Ln({},t),{id:e})),this.pending.delete(t.topic)}onUnsubscribe(e,t,n){var s=this;return x(function*(){s.events.removeAllListeners(t),s.hasSubscription(t,e)&&s.deleteSubscription(t,n),yield s.relayer.messages.del(e)})()}setRelayerSubscriptions(e){var t=this;return x(function*(){yield t.relayer.core.storage.setItem(t.storageKey,e)})()}getRelayerSubscriptions(){var e=this;return x(function*(){return yield e.relayer.core.storage.getItem(e.storageKey)})()}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Ln({},t)),this.topicMap.set(t.topic,e),this.events.emit(br_created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:n}=Oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(br_deleted,Hi(Ln({},n),{reason:t}))}persist(){var e=this;return x(function*(){yield e.setRelayerSubscriptions(e.values),e.events.emit("subscription_sync")})()}reset(){var e=this;return x(function*(){e.cached.length&&(yield Promise.all(e.cached.map(function(){var t=x(function*(n){return yield e.resubscribe(n)});return function(n){return t.apply(this,arguments)}}()))),e.events.emit("subscription_resubscribed")})()}restore(){var e=this;return x(function*(){try{const t=yield e.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(e.subscriptions.size){const{message:n}=Oe("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(n),e.logger.error(`${e.name}: ${JSON.stringify(e.values)}`),new Error(n)}e.cached=t,e.logger.debug(`Successfully Restored subscriptions for ${e.name}`),e.logger.trace({type:"method",method:"restore",subscriptions:e.values})}catch(t){e.logger.debug(`Failed to Restore subscriptions for ${e.name}`),e.logger.error(t)}})()}resubscribe(e){var t=this;return x(function*(){if(!t.ids.includes(e.id)){const{topic:n,relay:s}=e,o={topic:n,relay:s};t.pending.set(o.topic,o);const y=yield t.rpcSubscribe(o.topic,o.relay);t.onResubscribe(y,o)}})()}onConnect(){var e=this;return x(function*(){e.restartInProgress||(yield e.restart(),e.onEnable())})()}onDisconnect(){this.onDisable()}checkPending(){var e=this;this.relayer.transportExplicitlyClosed||this.pending.forEach(function(){var t=x(function*(n){const s=yield e.rpcSubscribe(n.topic,n.relay);e.onSubscribe(s,n)});return function(n){return t.apply(this,arguments)}}())}registerEventListeners(){var e=this;this.relayer.core.heartbeat.on(H.HEARTBEAT_EVENTS.pulse,()=>{this.checkPending()}),this.relayer.on("relayer_connect",x(function*(){yield e.onConnect()})),this.relayer.on("relayer_disconnect",()=>{this.onDisconnect()}),this.events.on(br_created,function(){var t=x(function*(n){const s=br_created;e.logger.info(`Emitting ${s}`),e.logger.debug({type:"event",event:s,data:n}),yield e.persist()});return function(n){return t.apply(this,arguments)}}()),this.events.on(br_deleted,function(){var t=x(function*(n){const s=br_deleted;e.logger.info(`Emitting ${s}`),e.logger.debug({type:"event",event:s,data:n}),yield e.persist()});return function(n){return t.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}restartToComplete(){var e=this;return x(function*(){e.restartInProgress&&(yield new Promise(t=>{const n=setInterval(()=>{e.restartInProgress||(clearInterval(n),t())},e.pollingInterval)}))})()}}var el=Object.defineProperty,go=Object.getOwnPropertySymbols,tl=Object.prototype.hasOwnProperty,rl=Object.prototype.propertyIsEnumerable,yo=(r,e,t)=>e in r?el(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class il extends h{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new j.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?(0,T.generateChildLogger)(e.logger,this.name):I()((0,T.getDefaultLoggerOptions)({level:e.logger||"error"})),this.messages=new Vf(this.logger,e.core),this.subscriber=new kf(this,this.logger),this.publisher=new Wf(this,this.logger),this.relayUrl=e?.relayUrl||fo,this.projectId=e.projectId,this.provider={}}init(){var e=this;return x(function*(){e.logger.trace("Initialized"),e.provider=yield e.createProvider(),yield Promise.all([e.messages.init(),e.transportOpen(),e.subscriber.init()]),e.registerEventListeners(),e.initialized=!0})()}get context(){return(0,T.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}publish(e,t,n){var s=this;return x(function*(){s.isInitialized(),yield s.publisher.publish(e,t,n),yield s.recordMessageEvent({topic:e,message:t})})()}subscribe(e,t){var n=this;return x(function*(){n.isInitialized();let s="";return yield Promise.all([new Promise(o=>{n.subscriber.once(br_created,y=>{y.topic===e&&o()})}),new Promise(function(){var o=x(function*(y){s=yield n.subscriber.subscribe(e,t),y()});return function(y){return o.apply(this,arguments)}}())]),s})()}unsubscribe(e,t){var n=this;return x(function*(){n.isInitialized(),yield n.subscriber.unsubscribe(e,t)})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}transportClose(){var e=this;return x(function*(){e.transportExplicitlyClosed=!0,e.connected&&(yield e.provider.disconnect(),e.events.emit("relayer_transport_closed"))})()}transportOpen(e){var t=this;return x(function*(){if(!t.reconnecting){t.relayUrl=e||t.relayUrl,t.transportExplicitlyClosed=!1,t.reconnecting=!0;try{yield Promise.all([new Promise(n=>{t.initialized||n(),t.subscriber.once("subscription_resubscribed",()=>{n()})}),yield Promise.race([new Promise(function(){var n=x(function*(s){yield t.provider.connect(),t.removeListener("relayer_transport_closed",t.rejectTransportOpen),s()});return function(s){return n.apply(this,arguments)}}()),new Promise(n=>t.once("relayer_transport_closed",t.rejectTransportOpen))])])}catch(n){if(!/socket hang up/i.test(n.message))throw n;t.logger.error(n),t.events.emit("relayer_transport_closed")}finally{t.reconnecting=!1}}})()}restartTransport(e){var t=this;return x(function*(){t.transportExplicitlyClosed||(yield t.transportClose(),yield new Promise(n=>setTimeout(n,lo)),yield t.transportOpen(e))})()}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}createProvider(){var e=this;return x(function*(){const t=yield e.core.crypto.signJWT(e.relayUrl);return new sn(new class Vc{constructor(e){if(this.url=e,this.events=new j.EventEmitter,this.registering=!1,!(0,Le.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(e=this.url){var t=this;return x(function*(){yield t.register(e)})()}close(){var e=this;return x(function*(){return new Promise((t,n)=>{typeof e.socket>"u"?n(new Error("Connection already closed")):(e.socket.onclose=()=>{e.onClose(),t()},e.socket.close())})})()}send(e,t){var n=this;return x(function*(){typeof n.socket>"u"&&(n.socket=yield n.register());try{n.socket.send(function Hc(r){return"string"==typeof r?r:JSON.stringify(r)}(e))}catch(s){n.onError(e.id,s)}})()}register(e=this.url){if(!(0,Le.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,s)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),s(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const s=(0,Le.isReactNative)()?void 0:{rejectUnauthorized:!(0,Le.isLocalhostUrl)(e)},o=new Jc(e,[],s);typeof window<"u"?o.onerror=y=>{n(this.emitError(y.error))}:o.on("error",y=>{n(this.emitError(y))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=()=>this.onClose(),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?function $c(r){if("string"!=typeof r)throw new Error("Cannot safe json parse value of type "+typeof r);try{return JSON.parse(r)}catch{return r}}(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),s=n.message||n.toString(),o=(0,Le.formatJsonRpcError)(e,s);this.events.emit("payload",o)}parseError(e,t=this.url){return(0,Le.parseConnectionError)(e,t,"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null==e?void 0:e.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",t),t}}(function Za({protocol:r,version:e,relayUrl:t,sdkVersion:n,auth:s,projectId:o}){const y=t.split("?"),S=Qa(r,e,n),ue=function Ga(r,e){let t=Rn.parse(r);return t=Ps(Ps({},t),e),Rn.stringify(t)}(y[1]||"",{auth:s,ua:S,projectId:o});return y[0]+"?"+ue}({sdkVersion:"2.4.5",protocol:e.protocol,version:e.version,relayUrl:e.relayUrl,projectId:e.projectId,auth:t})))})()}recordMessageEvent(e){var t=this;return x(function*(){const{topic:n,message:s}=e;yield t.messages.set(n,s)})()}shouldIgnoreMessageEvent(e){var t=this;return x(function*(){const{topic:n,message:s}=e;return!(yield t.subscriber.isSubscribed(n))||t.messages.has(n,s)})()}onProviderPayload(e){var t=this;return x(function*(){if(t.logger.debug("Incoming Relay Payload"),t.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,Le.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;const n=e.params,{topic:s,message:o}=n.data,y={topic:s,message:o};t.logger.debug("Emitting Relayer Payload"),t.logger.trace(((r,e)=>{for(var t in e||(e={}))tl.call(e,t)&&yo(r,t,e[t]);if(go)for(var t of go(e))rl.call(e,t)&&yo(r,t,e[t]);return r})({type:"event",event:n.id},y)),t.events.emit(n.id,y),yield t.acknowledgePayload(e),yield t.onMessageEvent(y)}})()}onMessageEvent(e){var t=this;return x(function*(){(yield t.shouldIgnoreMessageEvent(e))||(t.events.emit("relayer_message",e),yield t.recordMessageEvent(e))})()}acknowledgePayload(e){var t=this;return x(function*(){const n=(0,Le.formatJsonRpcResult)(e.id,!0);yield t.provider.connection.send(n)})()}registerEventListeners(){var e=this;this.provider.on("payload",t=>this.onProviderPayload(t)),this.provider.on("connect",()=>{this.events.emit("relayer_connect")}),this.provider.on("disconnect",()=>{this.events.emit("relayer_disconnect"),this.attemptToReconnect()}),this.provider.on("error",t=>this.events.emit("relayer_error",t)),this.events.on("relayer_connection_stalled",x(function*(){yield e.restartTransport()}))}attemptToReconnect(){var e=this;this.transportExplicitlyClosed||setTimeout(x(function*(){yield e.transportOpen()}),(0,q.toMiliseconds)(lo))}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var sl=Object.defineProperty,mo=Object.getOwnPropertySymbols,ol=Object.prototype.hasOwnProperty,al=Object.prototype.propertyIsEnumerable,_o=(r,e,t)=>e in r?sl(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vo=(r,e)=>{for(var t in e||(e={}))ol.call(e,t)&&_o(r,t,e[t]);if(mo)for(var t of mo(e))al.call(e,t)&&_o(r,t,e[t]);return r};class jn extends class E{constructor(e,t,n,s){this.core=e,this.logger=t,this.name=n}}{constructor(e,t,n,s=Nr,o){var y;super(e,t,n,s),y=this,this.core=e,this.logger=t,this.name=n,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Nr,this.init=x(function*(){y.initialized||(y.logger.trace("Initialized"),yield y.restore(),y.cached.forEach(S=>{!function wc(r){var e;return null==(e=r?.proposer)?void 0:e.publicKey}(S)?function Dc(r){return r?.topic}(S)?y.map.set(S.topic,S):y.getKey&&null!==S&&!tr(S)&&y.map.set(y.getKey(S),S):y.map.set(S.id,S)}),y.cached=[],y.initialized=!0)}),this.set=function(){var S=x(function*(Y,ue){y.isInitialized(),y.map.has(Y)?yield y.update(Y,ue):(y.logger.debug("Setting value"),y.logger.trace({type:"method",method:"set",key:Y,value:ue}),y.map.set(Y,ue),yield y.persist())});return function(Y,ue){return S.apply(this,arguments)}}(),this.get=S=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:S}),this.getData(S)),this.getAll=S=>(this.isInitialized(),S?this.values.filter(Y=>Object.keys(S).every(ue=>Yc()(Y[ue],S[ue]))):this.values),this.update=function(){var S=x(function*(Y,ue){y.isInitialized(),y.logger.debug("Updating value"),y.logger.trace({type:"method",method:"update",key:Y,update:ue});const ge=vo(vo({},y.getData(Y)),ue);y.map.set(Y,ge),yield y.persist()});return function(Y,ue){return S.apply(this,arguments)}}(),this.delete=function(){var S=x(function*(Y,ue){y.isInitialized(),y.map.has(Y)&&(y.logger.debug("Deleting value"),y.logger.trace({type:"method",method:"delete",key:Y,reason:ue}),y.map.delete(Y),yield y.persist())});return function(Y,ue){return S.apply(this,arguments)}}(),this.logger=(0,T.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=o}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}setDataStore(e){var t=this;return x(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getDataStore(){var e=this;return x(function*(){return yield e.core.storage.getItem(e.storageKey)})()}getData(e){const t=this.map.get(e);if(!t){const{message:n}=Oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}persist(){var e=this;return x(function*(){yield e.setDataStore(e.values)})()}restore(){var e=this;return x(function*(){try{const t=yield e.getDataStore();if(typeof t>"u"||!t.length)return;if(e.map.size){const{message:n}=Oe("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(n),new Error(n)}e.cached=t,e.logger.debug(`Successfully Restored value for ${e.name}`),e.logger.trace({type:"method",method:"restore",value:e.values})}catch(t){e.logger.debug(`Failed to Restore value for ${e.name}`),e.logger.error(t)}})()}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class cl{constructor(e,t){var n=this;this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(M()),this.initialized=!1,this.storagePrefix=Nr,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=x(function*(){n.initialized||(yield n.pairings.init(),yield n.cleanup(),n.registerRelayerEvents(),n.registerExpirerEvents(),n.initialized=!0,n.logger.trace("Initialized"))}),this.register=({methods:s})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...s])]},this.create=x(function*(){n.isInitialized();const s=Pi(),o=yield n.core.crypto.setSymKey(s),y=vr(q.FIVE_MINUTES),S={protocol:"irn"},Y={topic:o,expiry:y,relay:S,active:!1},ue=function dc(r){return`${r.protocol}:${r.topic}@${r.version}?`+Rn.stringify(((r,e)=>{for(var t in e||(e={}))oc.call(e,t)&&Bs(r,t,e[t]);if(Ms)for(var t of Ms(e))ac.call(e,t)&&Bs(r,t,e[t]);return r})({symKey:r.symKey},function lc(r,e="-"){const n={};return Object.keys(r).forEach(s=>{r[s]&&(n["relay"+e+s]=r[s])}),n}(r.relay)))}({protocol:n.core.protocol,version:n.core.version,topic:o,symKey:s,relay:S});return yield n.pairings.set(o,Y),yield n.core.relayer.subscribe(o),n.core.expirer.set(o,y),{topic:o,uri:ue}}),this.pair=function(){var s=x(function*(o){n.isInitialized(),n.isValidPair(o);const{topic:y,symKey:S,relay:Y}=function fc(r){const e=r.indexOf(":"),t=-1!==r.indexOf("?")?r.indexOf("?"):void 0,n=r.substring(0,e),s=r.substring(e+1,t).split("@"),o=typeof t<"u"?r.substring(t):"",y=Rn.parse(o);return{protocol:n,topic:s[0],version:parseInt(s[1],10),symKey:y.symKey,relay:uc(y)}}(o.uri),ue=vr(q.FIVE_MINUTES),ge={topic:y,relay:Y,expiry:ue,active:!1};return yield n.pairings.set(y,ge),yield n.core.crypto.setSymKey(S,y),yield n.core.relayer.subscribe(y,{relay:Y}),n.core.expirer.set(y,ue),o.activatePairing&&(yield n.activate({topic:y})),ge});return function(o){return s.apply(this,arguments)}}(),this.activate=function(){var s=x(function*({topic:o}){n.isInitialized();const y=vr(q.THIRTY_DAYS);yield n.pairings.update(o,{active:!0,expiry:y}),n.core.expirer.set(o,y)});return function(o){return s.apply(this,arguments)}}(),this.ping=function(){var s=x(function*(o){n.isInitialized(),yield n.isValidPing(o);const{topic:y}=o;if(n.pairings.keys.includes(y)){const S=yield n.sendRequest(y,"wc_pairingPing",{}),{done:Y,resolve:ue,reject:ge}=Br();n.events.once(Ft("pairing_ping",S),({error:xe})=>{xe?ge(xe):ue()}),yield Y()}});return function(o){return s.apply(this,arguments)}}(),this.updateExpiry=function(){var s=x(function*({topic:o,expiry:y}){n.isInitialized(),yield n.pairings.update(o,{expiry:y})});return function(o){return s.apply(this,arguments)}}(),this.updateMetadata=function(){var s=x(function*({topic:o,metadata:y}){n.isInitialized(),yield n.pairings.update(o,{peerMetadata:y})});return function(o){return s.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var s=x(function*(o){n.isInitialized(),yield n.isValidDisconnect(o);const{topic:y}=o;n.pairings.keys.includes(y)&&(yield n.sendRequest(y,"wc_pairingDelete",Wt("USER_DISCONNECTED")),yield n.deletePairing(y))});return function(o){return s.apply(this,arguments)}}(),this.sendRequest=function(){var s=x(function*(o,y,S){const Y=(0,Le.formatJsonRpcRequest)(y,S),ue=yield n.core.crypto.encode(o,Y),ge=an[y].req;return n.core.history.set(o,Y),yield n.core.relayer.publish(o,ue,ge),Y.id});return function(o,y,S){return s.apply(this,arguments)}}(),this.sendResult=function(){var s=x(function*(o,y,S){const Y=(0,Le.formatJsonRpcResult)(o,S),ue=yield n.core.crypto.encode(y,Y),ge=yield n.core.history.get(y,o),xe=an[ge.request.method].res;yield n.core.relayer.publish(y,ue,xe),yield n.core.history.resolve(Y)});return function(o,y,S){return s.apply(this,arguments)}}(),this.sendError=function(){var s=x(function*(o,y,S){const Y=(0,Le.formatJsonRpcError)(o,S),ue=yield n.core.crypto.encode(y,Y),ge=yield n.core.history.get(y,o),xe=an[ge.request.method]?an[ge.request.method].res:an.unregistered_method.res;yield n.core.relayer.publish(y,ue,xe),yield n.core.history.resolve(Y)});return function(o,y,S){return s.apply(this,arguments)}}(),this.deletePairing=function(){var s=x(function*(o,y){yield n.core.relayer.unsubscribe(o),yield Promise.all([n.pairings.delete(o,Wt("USER_DISCONNECTED")),n.core.crypto.deleteSymKey(o),y?Promise.resolve():n.core.expirer.del(o)])});return function(o,y){return s.apply(this,arguments)}}(),this.cleanup=x(function*(){const s=n.pairings.getAll().filter(o=>Ar(o.expiry));yield Promise.all(s.map(o=>n.deletePairing(o.topic)))}),this.onRelayEventRequest=s=>{const{topic:o,payload:y}=s,S=y.method;if(this.pairings.keys.includes(o))switch(S){case"wc_pairingPing":return this.onPairingPingRequest(o,y);case"wc_pairingDelete":return this.onPairingDeleteRequest(o,y);default:return this.onUnknownRpcMethodRequest(o,y)}},this.onRelayEventResponse=function(){var s=x(function*(o){const{topic:y,payload:S}=o,Y=(yield n.core.history.get(y,S.id)).request.method;if(n.pairings.keys.includes(y))return"wc_pairingPing"===Y?n.onPairingPingResponse(y,S):n.onUnknownRpcMethodResponse(Y)});return function(o){return s.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var s=x(function*(o,y){const{id:S}=y;try{n.isValidPing({topic:o}),yield n.sendResult(S,o,!0),n.events.emit("pairing_ping",{id:S,topic:o})}catch(Y){yield n.sendError(S,o,Y),n.logger.error(Y)}});return function(o,y){return s.apply(this,arguments)}}(),this.onPairingPingResponse=(s,o)=>{const{id:y}=o;setTimeout(()=>{(0,Le.isJsonRpcResult)(o)?this.events.emit(Ft("pairing_ping",y),{}):(0,Le.isJsonRpcError)(o)&&this.events.emit(Ft("pairing_ping",y),{error:o.error})},500)},this.onPairingDeleteRequest=function(){var s=x(function*(o,y){const{id:S}=y;try{n.isValidDisconnect({topic:o}),yield n.deletePairing(o),n.events.emit("pairing_delete",{id:S,topic:o})}catch(Y){yield n.sendError(S,o,Y),n.logger.error(Y)}});return function(o,y){return s.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var s=x(function*(o,y){const{id:S,method:Y}=y;try{if(n.registeredMethods.includes(Y))return;const ue=Wt("WC_METHOD_UNSUPPORTED",Y);yield n.sendError(S,o,ue),n.logger.error(ue)}catch(ue){yield n.sendError(S,o,ue),n.logger.error(ue)}});return function(o,y){return s.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=s=>{this.registeredMethods.includes(s)||this.logger.error(Wt("WC_METHOD_UNSUPPORTED",s))},this.isValidPair=s=>{if(!or(s)){const{message:o}=Oe("MISSING_OR_INVALID",`pair() params: ${s}`);throw new Error(o)}if(!function Ec(r){if(Gt(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}(s.uri)){const{message:o}=Oe("MISSING_OR_INVALID",`pair() uri: ${s.uri}`);throw new Error(o)}},this.isValidPing=function(){var s=x(function*(o){if(!or(o)){const{message:S}=Oe("MISSING_OR_INVALID",`ping() params: ${o}`);throw new Error(S)}const{topic:y}=o;yield n.isValidPairingTopic(y)});return function(o){return s.apply(this,arguments)}}(),this.isValidDisconnect=function(){var s=x(function*(o){if(!or(o)){const{message:S}=Oe("MISSING_OR_INVALID",`disconnect() params: ${o}`);throw new Error(S)}const{topic:y}=o;yield n.isValidPairingTopic(y)});return function(o){return s.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var s=x(function*(o){if(!Gt(o,!1)){const{message:y}=Oe("MISSING_OR_INVALID",`pairing topic should be a string: ${o}`);throw new Error(y)}if(!n.pairings.keys.includes(o)){const{message:y}=Oe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${o}`);throw new Error(y)}if(Ar(n.pairings.get(o).expiry)){yield n.deletePairing(o);const{message:y}=Oe("EXPIRED",`pairing topic: ${o}`);throw new Error(y)}});return function(o){return s.apply(this,arguments)}}(),this.core=e,this.logger=(0,T.generateChildLogger)(t,this.name),this.pairings=new jn(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,T.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){var e=this;this.core.relayer.on("relayer_message",function(){var t=x(function*(n){const{topic:s,message:o}=n;if(e.ignoredPayloadTypes.includes(e.core.crypto.getPayloadType(o)))return;const y=yield e.core.crypto.decode(s,o);(0,Le.isJsonRpcRequest)(y)?(e.core.history.set(s,y),e.onRelayEventRequest({topic:s,payload:y})):(0,Le.isJsonRpcResponse)(y)&&(yield e.core.history.resolve(y),e.onRelayEventResponse({topic:s,payload:y}))});return function(n){return t.apply(this,arguments)}}())}registerExpirerEvents(){var e=this;this.core.expirer.on(fr_expired,function(){var t=x(function*(n){const{topic:s}=js(n.target);s&&e.pairings.keys.includes(s)&&(yield e.deletePairing(s,!0),e.events.emit("pairing_expire",{topic:s}))});return function(n){return t.apply(this,arguments)}}())}}class ul extends g{constructor(e,t){var n;super(e,t),n=this,this.core=e,this.logger=t,this.records=new Map,this.events=new j.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Nr,this.init=x(function*(){n.initialized||(n.logger.trace("Initialized"),yield n.restore(),n.cached.forEach(s=>n.records.set(s.id,s)),n.cached=[],n.registerEventListeners(),n.initialized=!0)}),this.set=(s,o,y)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:s,request:o,chainId:y}),this.records.has(o.id))return;const S={id:o.id,topic:s,request:{method:o.method,params:o.params||null},chainId:y};this.records.set(S.id,S),this.events.emit("history_created",S)},this.resolve=function(){var s=x(function*(o){if(n.isInitialized(),n.logger.debug("Updating JSON-RPC response history record"),n.logger.trace({type:"method",method:"update",response:o}),!n.records.has(o.id))return;const y=yield n.getRecord(o.id);typeof y.response>"u"&&(y.response=(0,Le.isJsonRpcError)(o)?{error:o.error}:{result:o.result},n.records.set(y.id,y),n.events.emit("history_updated",y))});return function(o){return s.apply(this,arguments)}}(),this.get=function(){var s=x(function*(o,y){return n.isInitialized(),n.logger.debug("Getting record"),n.logger.trace({type:"method",method:"get",topic:o,id:y}),yield n.getRecord(y)});return function(o,y){return s.apply(this,arguments)}}(),this.delete=(s,o)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:o}),this.values.forEach(y=>{if(y.topic===s){if(typeof o<"u"&&y.id!==o)return;this.records.delete(y.id),this.events.emit("history_deleted",y)}})},this.exists=function(){var s=x(function*(o,y){return n.isInitialized(),!!n.records.has(y)&&(yield n.getRecord(y)).topic===o});return function(o,y){return s.apply(this,arguments)}}(),this.on=(s,o)=>{this.events.on(s,o)},this.once=(s,o)=>{this.events.once(s,o)},this.off=(s,o)=>{this.events.off(s,o)},this.removeListener=(s,o)=>{this.events.removeListener(s,o)},this.logger=(0,T.generateChildLogger)(t,this.name)}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:(0,Le.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}setJsonRpcRecords(e){var t=this;return x(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getJsonRpcRecords(){var e=this;return x(function*(){return yield e.core.storage.getItem(e.storageKey)})()}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:n}=Oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}persist(){var e=this;return x(function*(){yield e.setJsonRpcRecords(e.values),e.events.emit("history_sync")})()}restore(){var e=this;return x(function*(){try{const t=yield e.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(e.records.size){const{message:n}=Oe("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(n),new Error(n)}e.cached=t,e.logger.debug(`Successfully Restored records for ${e.name}`),e.logger.trace({type:"method",method:"restore",records:e.values})}catch(t){e.logger.debug(`Failed to Restore records for ${e.name}`),e.logger.error(t)}})()}registerEventListeners(){this.events.on("history_created",e=>{const t="history_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on("history_updated",e=>{const t="history_updated";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on("history_deleted",e=>{const t="history_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class fl extends K{constructor(e,t){var n;super(e,t),n=this,this.core=e,this.logger=t,this.expirations=new Map,this.events=new j.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Nr,this.init=x(function*(){n.initialized||(n.logger.trace("Initialized"),yield n.restore(),n.cached.forEach(s=>n.expirations.set(s.target,s)),n.cached=[],n.registerEventListeners(),n.initialized=!0)}),this.has=s=>{try{const o=this.formatTarget(s);return typeof this.getExpiration(o)<"u"}catch{return!1}},this.set=(s,o)=>{this.isInitialized();const y=this.formatTarget(s),S={target:y,expiry:o};this.expirations.set(y,S),this.checkExpiry(y,S),this.events.emit("expirer_created",{target:y,expiration:S})},this.get=s=>{this.isInitialized();const o=this.formatTarget(s);return this.getExpiration(o)},this.del=s=>{if(this.isInitialized(),this.has(s)){const o=this.formatTarget(s),y=this.getExpiration(o);this.expirations.delete(o),this.events.emit("expirer_deleted",{target:o,expiration:y})}},this.on=(s,o)=>{this.events.on(s,o)},this.once=(s,o)=>{this.events.once(s,o)},this.off=(s,o)=>{this.events.off(s,o)},this.removeListener=(s,o)=>{this.events.removeListener(s,o)},this.logger=(0,T.generateChildLogger)(t,this.name)}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function rc(r){return Ls("topic",r)}(e);if("number"==typeof e)return function nc(r){return Ls("id",r)}(e);const{message:t}=Oe("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}setExpirations(e){var t=this;return x(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getExpirations(){var e=this;return x(function*(){return yield e.core.storage.getItem(e.storageKey)})()}persist(){var e=this;return x(function*(){yield e.setExpirations(e.values),e.events.emit("expirer_sync")})()}restore(){var e=this;return x(function*(){try{const t=yield e.getExpirations();if(typeof t>"u"||!t.length)return;if(e.expirations.size){const{message:n}=Oe("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(n),new Error(n)}e.cached=t,e.logger.debug(`Successfully Restored expirations for ${e.name}`),e.logger.trace({type:"method",method:"restore",expirations:e.values})}catch(t){e.logger.debug(`Failed to Restore expirations for ${e.name}`),e.logger.error(t)}})()}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:n}=Oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,q.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(fr_expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(H.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on("expirer_created",e=>{const t="expirer_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(fr_expired,e=>{const t=fr_expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on("expirer_deleted",e=>{const t="expirer_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ll=Object.defineProperty,bo=Object.getOwnPropertySymbols,dl=Object.prototype.hasOwnProperty,hl=Object.prototype.propertyIsEnumerable,Eo=(r,e,t)=>e in r?ll(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wo=(r,e)=>{for(var t in e||(e={}))dl.call(e,t)&&Eo(r,t,e[t]);if(bo)for(var t of bo(e))hl.call(e,t)&&Eo(r,t,e[t]);return r};class zi extends a{constructor(e){super(e),this.protocol="wc",this.version=2,this.name="core",this.events=new j.EventEmitter,this.initialized=!1,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||fo;const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:I()((0,T.getDefaultLoggerOptions)({level:e?.logger||"error"}));this.logger=(0,T.generateChildLogger)(t,this.name),this.heartbeat=new H.HeartBeat,this.crypto=new Jf(this,this.logger,e?.keychain),this.history=new ul(this,this.logger),this.expirer=new fl(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new C.ZP(wo(wo({},bf),e?.storageOptions)),this.relayer=new il({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new cl(this,this.logger)}static init(e){return x(function*(){const t=new zi(e);return yield t.initialize(),t})()}get context(){return(0,T.getLoggerContext)(this.logger)}start(){var e=this;return x(function*(){e.initialized||(yield e.initialize())})()}initialize(){var e=this;return x(function*(){e.logger.trace("Initialized");try{yield e.crypto.init(),yield e.history.init(),yield e.expirer.init(),yield e.relayer.init(),yield e.heartbeat.init(),yield e.pairing.init(),e.initialized=!0,e.logger.info("Core Initialization Success")}catch(t){throw e.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),e.logger.error(t.message),t}})()}}const pl=zi,Ki="wc@2:client:",Mn=q.SEVEN_DAYS,cn={wc_sessionPropose:{req:{ttl:q.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:q.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:q.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:q.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:q.ONE_DAY,prompt:!1,tag:1104},res:{ttl:q.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:q.ONE_DAY,prompt:!1,tag:1106},res:{ttl:q.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:q.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:q.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:q.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:q.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:q.ONE_DAY,prompt:!1,tag:1112},res:{ttl:q.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:q.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:q.THIRTY_SECONDS,prompt:!1,tag:1115}}},Vi={min:q.FIVE_MINUTES,max:q.SEVEN_DAYS};var vl=Object.defineProperty,bl=Object.defineProperties,El=Object.getOwnPropertyDescriptors,Oo=Object.getOwnPropertySymbols,wl=Object.prototype.hasOwnProperty,Dl=Object.prototype.propertyIsEnumerable,Io=(r,e,t)=>e in r?vl(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,lr=(r,e)=>{for(var t in e||(e={}))wl.call(e,t)&&Io(r,t,e[t]);if(Oo)for(var t of Oo(e))Dl.call(e,t)&&Io(r,t,e[t]);return r},Wi=(r,e)=>bl(r,El(e));class xl extends class ve{constructor(e){this.client=e}}{constructor(e){var t;super(e),t=this,this.name="engine",this.events=new(M()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.init=x(function*(){t.initialized||(yield t.cleanup(),t.registerRelayerEvents(),t.registerExpirerEvents(),t.client.core.pairing.register({methods:Object.keys(cn)}),t.initialized=!0)}),this.connect=function(){var n=x(function*(s){t.isInitialized();const o=Wi(lr({},s),{requiredNamespaces:s.requiredNamespaces||{},optionalNamespaces:s.optionalNamespaces||{}});yield t.isValidConnect(o);const{pairingTopic:y,requiredNamespaces:S,optionalNamespaces:Y,sessionProperties:ue,relays:ge}=o;let dt,xe=y,Pt=!1;if(xe&&(Pt=t.client.core.pairing.pairings.get(xe).active),!xe||!Pt){const{topic:yt,uri:Ot}=yield t.client.core.pairing.create();xe=yt,dt=Ot}const Ie=yield t.client.core.crypto.generateKeyPair(),je=lr({requiredNamespaces:S,optionalNamespaces:Y,relays:ge??[{protocol:"irn"}],proposer:{publicKey:Ie,metadata:t.client.metadata}},ue&&{sessionProperties:ue}),{reject:xt,resolve:pt,done:St}=Br();if(t.events.once(Ft("session_connect"),function(){var yt=x(function*({error:Ot,session:it}){if(Ot)xt(Ot);else if(it){it.self.publicKey=Ie;const Tt=Wi(lr({},it),{requiredNamespaces:it.requiredNamespaces,optionalNamespaces:it.optionalNamespaces});yield t.client.session.set(it.topic,Tt),yield t.setExpiry(it.topic,it.expiry),xe&&(yield t.client.core.pairing.updateMetadata({topic:xe,metadata:it.peer.metadata})),pt(Tt)}});return function(Ot){return yt.apply(this,arguments)}}()),!xe){const{message:yt}=Oe("NO_MATCHING_KEY",`connect() pairing topic: ${xe}`);throw new Error(yt)}const bt=yield t.sendRequest(xe,"wc_sessionPropose",je),gt=vr(q.FIVE_MINUTES);return yield t.setProposal(bt,lr({id:bt,expiry:gt},je)),{uri:dt,approval:St}});return function(s){return n.apply(this,arguments)}}(),this.pair=function(){var n=x(function*(s){return t.isInitialized(),yield t.client.core.pairing.pair(s)});return function(s){return n.apply(this,arguments)}}(),this.approve=function(){var n=x(function*(s){t.isInitialized(),yield t.isValidApprove(s);const{id:o,relayProtocol:y,namespaces:S,sessionProperties:Y}=s,ue=t.client.proposal.get(o);let{pairingTopic:ge,proposer:xe,requiredNamespaces:dt,optionalNamespaces:Pt}=ue;nn(dt)||(dt=function yc(r,e){const t=Cn(r,e);if(t)throw new Error(t.message);const n={};for(const[s,o]of Object.entries(r))n[s]={methods:o.methods,events:o.events,chains:o.accounts.map(y=>`${y.split(":")[0]}:${y.split(":")[1]}`)};return n}(S,"approve()"));const Ie=yield t.client.core.crypto.generateKeyPair(),je=xe.publicKey,xt=yield t.client.core.crypto.generateSharedKey(Ie,je);ge&&o&&(yield t.client.core.pairing.updateMetadata({topic:ge,metadata:xe.metadata}),yield t.sendResult(o,ge,{relay:{protocol:y??"irn"},responderPublicKey:Ie}),yield t.client.proposal.delete(o,Wt("USER_DISCONNECTED")),yield t.client.core.pairing.activate({topic:ge}));const pt=lr({relay:{protocol:y??"irn"},namespaces:S,requiredNamespaces:dt,optionalNamespaces:Pt,controller:{publicKey:Ie,metadata:t.client.metadata},expiry:vr(Mn)},Y&&{sessionProperties:Y});yield t.client.core.relayer.subscribe(xt);const St=yield t.sendRequest(xt,"wc_sessionSettle",pt),{done:bt,resolve:gt,reject:yt}=Br();t.events.once(Ft("session_approve",St),({error:it})=>{it?yt(it):gt(t.client.session.get(xt))});const Ot=Wi(lr({},pt),{topic:xt,acknowledged:!1,self:pt.controller,peer:{publicKey:xe.publicKey,metadata:xe.metadata},controller:Ie});return yield t.client.session.set(xt,Ot),yield t.setExpiry(xt,vr(Mn)),{topic:xt,acknowledged:bt}});return function(s){return n.apply(this,arguments)}}(),this.reject=function(){var n=x(function*(s){t.isInitialized(),yield t.isValidReject(s);const{id:o,reason:y}=s,{pairingTopic:S}=t.client.proposal.get(o);S&&(yield t.sendError(o,S,y),yield t.client.proposal.delete(o,Wt("USER_DISCONNECTED")))});return function(s){return n.apply(this,arguments)}}(),this.update=function(){var n=x(function*(s){t.isInitialized(),yield t.isValidUpdate(s);const{topic:o,namespaces:y}=s,S=yield t.sendRequest(o,"wc_sessionUpdate",{namespaces:y}),{done:Y,resolve:ue,reject:ge}=Br();return t.events.once(Ft("session_update",S),({error:xe})=>{xe?ge(xe):ue()}),yield t.client.session.update(o,{namespaces:y}),{acknowledged:Y}});return function(s){return n.apply(this,arguments)}}(),this.extend=function(){var n=x(function*(s){t.isInitialized(),yield t.isValidExtend(s);const{topic:o}=s,y=yield t.sendRequest(o,"wc_sessionExtend",{}),{done:S,resolve:Y,reject:ue}=Br();return t.events.once(Ft("session_extend",y),({error:ge})=>{ge?ue(ge):Y()}),yield t.setExpiry(o,vr(Mn)),{acknowledged:S}});return function(s){return n.apply(this,arguments)}}(),this.request=function(){var n=x(function*(s){t.isInitialized(),yield t.isValidRequest(s);const{chainId:o,request:y,topic:S,expiry:Y}=s,ue=yield t.sendRequest(S,"wc_sessionRequest",{request:y,chainId:o},Y),{done:ge,resolve:xe,reject:dt}=Br(Y);return t.events.once(Ft("session_request",ue),({error:Pt,result:Ie})=>{Pt?dt(Pt):xe(Ie)}),t.client.events.emit("session_request_sent",{topic:S,request:y,chainId:o}),yield ge()});return function(s){return n.apply(this,arguments)}}(),this.respond=function(){var n=x(function*(s){t.isInitialized(),yield t.isValidRespond(s);const{topic:o,response:y}=s,{id:S}=y;(0,Le.isJsonRpcResult)(y)?yield t.sendResult(S,o,y.result):(0,Le.isJsonRpcError)(y)&&(yield t.sendError(S,o,y.error)),t.deletePendingSessionRequest(s.response.id,{message:"fulfilled",code:0})});return function(s){return n.apply(this,arguments)}}(),this.ping=function(){var n=x(function*(s){t.isInitialized(),yield t.isValidPing(s);const{topic:o}=s;if(t.client.session.keys.includes(o)){const y=yield t.sendRequest(o,"wc_sessionPing",{}),{done:S,resolve:Y,reject:ue}=Br();t.events.once(Ft("session_ping",y),({error:ge})=>{ge?ue(ge):Y()}),yield S()}else t.client.core.pairing.pairings.keys.includes(o)&&(yield t.client.core.pairing.ping({topic:o}))});return function(s){return n.apply(this,arguments)}}(),this.emit=function(){var n=x(function*(s){t.isInitialized(),yield t.isValidEmit(s);const{topic:o,event:y,chainId:S}=s;yield t.sendRequest(o,"wc_sessionEvent",{event:y,chainId:S})});return function(s){return n.apply(this,arguments)}}(),this.disconnect=function(){var n=x(function*(s){t.isInitialized(),yield t.isValidDisconnect(s);const{topic:o}=s;t.client.session.keys.includes(o)?(yield t.sendRequest(o,"wc_sessionDelete",Wt("USER_DISCONNECTED")),yield t.deleteSession(o)):yield t.client.core.pairing.disconnect({topic:o})});return function(s){return n.apply(this,arguments)}}(),this.find=n=>(this.isInitialized(),this.client.session.getAll().filter(s=>function vc(r,e){const{requiredNamespaces:t}=e,n=Object.keys(r.namespaces),s=Object.keys(t);let o=!0;return!!Pr(s,n)&&(n.forEach(y=>{const{accounts:S,methods:Y,events:ue}=r.namespaces[y],ge=rn(S),xe=t[y];Pr(An(y,xe),ge)&&Pr(xe.methods,Y)&&Pr(xe.events,ue)||(o=!1)}),o)}(s,n))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=function(){var n=x(function*(s,o){const{self:y}=t.client.session.get(s);yield t.client.core.relayer.unsubscribe(s),yield Promise.all([t.client.session.delete(s,Wt("USER_DISCONNECTED")),t.client.core.crypto.deleteKeyPair(y.publicKey),t.client.core.crypto.deleteSymKey(s),o?Promise.resolve():t.client.core.expirer.del(s)])});return function(s,o){return n.apply(this,arguments)}}(),this.deleteProposal=function(){var n=x(function*(s,o){yield Promise.all([t.client.proposal.delete(s,Wt("USER_DISCONNECTED")),o?Promise.resolve():t.client.core.expirer.del(s)])});return function(s,o){return n.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var n=x(function*(s,o,y=!1){yield Promise.all([t.client.pendingRequest.delete(s,o),y?Promise.resolve():t.client.core.expirer.del(s)])});return function(s,o){return n.apply(this,arguments)}}(),this.setExpiry=function(){var n=x(function*(s,o){t.client.session.keys.includes(s)&&(yield t.client.session.update(s,{expiry:o})),t.client.core.expirer.set(s,o)});return function(s,o){return n.apply(this,arguments)}}(),this.setProposal=function(){var n=x(function*(s,o){yield t.client.proposal.set(s,o),t.client.core.expirer.set(s,o.expiry)});return function(s,o){return n.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var n=x(function*(s){const o=cn.wc_sessionRequest.req.ttl,{id:y,topic:S,params:Y}=s;yield t.client.pendingRequest.set(y,{id:y,topic:S,params:Y}),o&&t.client.core.expirer.set(y,vr(o))});return function(s){return n.apply(this,arguments)}}(),this.sendRequest=function(){var n=x(function*(s,o,y,S){const Y=(0,Le.formatJsonRpcRequest)(o,y),ue=yield t.client.core.crypto.encode(s,Y),ge=cn[o].req;return S&&(ge.ttl=S),t.client.core.history.set(s,Y),t.client.core.relayer.publish(s,ue,ge),Y.id});return function(s,o,y,S){return n.apply(this,arguments)}}(),this.sendResult=function(){var n=x(function*(s,o,y){const S=(0,Le.formatJsonRpcResult)(s,y),Y=yield t.client.core.crypto.encode(o,S),ue=yield t.client.core.history.get(o,s);t.client.core.relayer.publish(o,Y,cn[ue.request.method].res),yield t.client.core.history.resolve(S)});return function(s,o,y){return n.apply(this,arguments)}}(),this.sendError=function(){var n=x(function*(s,o,y){const S=(0,Le.formatJsonRpcError)(s,y),Y=yield t.client.core.crypto.encode(o,S),ue=yield t.client.core.history.get(o,s);t.client.core.relayer.publish(o,Y,cn[ue.request.method].res),yield t.client.core.history.resolve(S)});return function(s,o,y){return n.apply(this,arguments)}}(),this.cleanup=x(function*(){const n=[],s=[];t.client.session.getAll().forEach(o=>{Ar(o.expiry)&&n.push(o.topic)}),t.client.proposal.getAll().forEach(o=>{Ar(o.expiry)&&s.push(o.id)}),yield Promise.all([...n.map(o=>t.deleteSession(o)),...s.map(o=>t.deleteProposal(o))])}),this.onRelayEventRequest=n=>{const{topic:s,payload:o}=n,y=o.method;switch(y){case"wc_sessionPropose":return this.onSessionProposeRequest(s,o);case"wc_sessionSettle":return this.onSessionSettleRequest(s,o);case"wc_sessionUpdate":return this.onSessionUpdateRequest(s,o);case"wc_sessionExtend":return this.onSessionExtendRequest(s,o);case"wc_sessionPing":return this.onSessionPingRequest(s,o);case"wc_sessionDelete":return this.onSessionDeleteRequest(s,o);case"wc_sessionRequest":return this.onSessionRequest(s,o);case"wc_sessionEvent":return this.onSessionEventRequest(s,o);default:return this.client.logger.info(`Unsupported request method ${y}`)}},this.onRelayEventResponse=function(){var n=x(function*(s){const{topic:o,payload:y}=s,S=(yield t.client.core.history.get(o,y.id)).request.method;switch(S){case"wc_sessionPropose":return t.onSessionProposeResponse(o,y);case"wc_sessionSettle":return t.onSessionSettleResponse(o,y);case"wc_sessionUpdate":return t.onSessionUpdateResponse(o,y);case"wc_sessionExtend":return t.onSessionExtendResponse(o,y);case"wc_sessionPing":return t.onSessionPingResponse(o,y);case"wc_sessionRequest":return t.onSessionRequestResponse(o,y);default:return t.client.logger.info(`Unsupported response method ${S}`)}});return function(s){return n.apply(this,arguments)}}(),this.onSessionProposeRequest=function(){var n=x(function*(s,o){const{params:y,id:S}=o;try{t.isValidConnect(lr({},o.params));const Y=vr(q.FIVE_MINUTES),ue=lr({id:S,pairingTopic:s,expiry:Y},y);yield t.setProposal(S,ue),t.client.events.emit("session_proposal",{id:S,params:ue})}catch(Y){yield t.sendError(S,s,Y),t.client.logger.error(Y)}});return function(s,o){return n.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var n=x(function*(s,o){const{id:y}=o;if((0,Le.isJsonRpcResult)(o)){const{result:S}=o;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:S});const Y=t.client.proposal.get(y);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:Y});const ue=Y.proposer.publicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:ue});const ge=S.responderPublicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:ge});const xe=yield t.client.core.crypto.generateSharedKey(ue,ge);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:xe});const dt=yield t.client.core.relayer.subscribe(xe);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:dt}),yield t.client.core.pairing.activate({topic:s})}else(0,Le.isJsonRpcError)(o)&&(yield t.client.proposal.delete(y,Wt("USER_DISCONNECTED")),t.events.emit(Ft("session_connect"),{error:o.error}))});return function(s,o){return n.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var n=x(function*(s,o){const{id:y,params:S}=o;try{t.isValidSessionSettleRequest(S);const{relay:Y,controller:ue,expiry:ge,namespaces:xe,requiredNamespaces:dt,optionalNamespaces:Pt,sessionProperties:Ie}=o.params,je=lr({topic:s,relay:Y,expiry:ge,namespaces:xe,acknowledged:!0,requiredNamespaces:dt,optionalNamespaces:Pt,controller:ue.publicKey,self:{publicKey:"",metadata:t.client.metadata},peer:{publicKey:ue.publicKey,metadata:ue.metadata}},Ie&&{sessionProperties:Ie});yield t.sendResult(o.id,s,!0),t.events.emit(Ft("session_connect"),{session:je})}catch(Y){yield t.sendError(y,s,Y),t.client.logger.error(Y)}});return function(s,o){return n.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var n=x(function*(s,o){const{id:y}=o;(0,Le.isJsonRpcResult)(o)?(yield t.client.session.update(s,{acknowledged:!0}),t.events.emit(Ft("session_approve",y),{})):(0,Le.isJsonRpcError)(o)&&(yield t.client.session.delete(s,Wt("USER_DISCONNECTED")),t.events.emit(Ft("session_approve",y),{error:o.error}))});return function(s,o){return n.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var n=x(function*(s,o){const{params:y,id:S}=o;try{t.isValidUpdate(lr({topic:s},y)),yield t.client.session.update(s,{namespaces:y.namespaces}),yield t.sendResult(S,s,!0),t.client.events.emit("session_update",{id:S,topic:s,params:y})}catch(Y){yield t.sendError(S,s,Y),t.client.logger.error(Y)}});return function(s,o){return n.apply(this,arguments)}}(),this.onSessionUpdateResponse=(n,s)=>{const{id:o}=s;(0,Le.isJsonRpcResult)(s)?this.events.emit(Ft("session_update",o),{}):(0,Le.isJsonRpcError)(s)&&this.events.emit(Ft("session_update",o),{error:s.error})},this.onSessionExtendRequest=function(){var n=x(function*(s,o){const{id:y}=o;try{t.isValidExtend({topic:s}),yield t.setExpiry(s,vr(Mn)),yield t.sendResult(y,s,!0),t.client.events.emit("session_extend",{id:y,topic:s})}catch(S){yield t.sendError(y,s,S),t.client.logger.error(S)}});return function(s,o){return n.apply(this,arguments)}}(),this.onSessionExtendResponse=(n,s)=>{const{id:o}=s;(0,Le.isJsonRpcResult)(s)?this.events.emit(Ft("session_extend",o),{}):(0,Le.isJsonRpcError)(s)&&this.events.emit(Ft("session_extend",o),{error:s.error})},this.onSessionPingRequest=function(){var n=x(function*(s,o){const{id:y}=o;try{t.isValidPing({topic:s}),yield t.sendResult(y,s,!0),t.client.events.emit("session_ping",{id:y,topic:s})}catch(S){yield t.sendError(y,s,S),t.client.logger.error(S)}});return function(s,o){return n.apply(this,arguments)}}(),this.onSessionPingResponse=(n,s)=>{const{id:o}=s;setTimeout(()=>{(0,Le.isJsonRpcResult)(s)?this.events.emit(Ft("session_ping",o),{}):(0,Le.isJsonRpcError)(s)&&this.events.emit(Ft("session_ping",o),{error:s.error})},500)},this.onSessionDeleteRequest=function(){var n=x(function*(s,o){const{id:y}=o;try{t.isValidDisconnect({topic:s,reason:o.params}),t.client.core.relayer.once("relayer_publish",x(function*(){yield t.deleteSession(s)})),yield t.sendResult(y,s,!0),t.client.events.emit("session_delete",{id:y,topic:s})}catch(S){yield t.sendError(y,s,S),t.client.logger.error(S)}});return function(s,o){return n.apply(this,arguments)}}(),this.onSessionRequest=function(){var n=x(function*(s,o){const{id:y,params:S}=o;try{t.isValidRequest(lr({topic:s},S)),yield t.setPendingSessionRequest({id:y,topic:s,params:S}),t.client.events.emit("session_request",{id:y,topic:s,params:S})}catch(Y){yield t.sendError(y,s,Y),t.client.logger.error(Y)}});return function(s,o){return n.apply(this,arguments)}}(),this.onSessionRequestResponse=(n,s)=>{const{id:o}=s;(0,Le.isJsonRpcResult)(s)?this.events.emit(Ft("session_request",o),{result:s.result}):(0,Le.isJsonRpcError)(s)&&this.events.emit(Ft("session_request",o),{error:s.error})},this.onSessionEventRequest=function(){var n=x(function*(s,o){const{id:y,params:S}=o;try{t.isValidEmit(lr({topic:s},S)),t.client.events.emit("session_event",{id:y,topic:s,params:S})}catch(Y){yield t.sendError(y,s,Y),t.client.logger.error(Y)}});return function(s,o){return n.apply(this,arguments)}}(),this.isValidConnect=function(){var n=x(function*(s){if(!or(s)){const{message:ge}=Oe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(s)}`);throw new Error(ge)}const{pairingTopic:o,requiredNamespaces:y,optionalNamespaces:S,sessionProperties:Y,relays:ue}=s;if(tr(o)||(yield t.isValidPairingTopic(o)),!function Nc(r,e){let t=!1;return e&&!r?t=!0:r&&Tn(r)&&r.length&&r.forEach(n=>{t=zs(n)}),t}(ue,!0)){const{message:ge}=Oe("MISSING_OR_INVALID",`connect() relays: ${ue}`);throw new Error(ge)}!tr(y)&&0!==nn(y)&&t.validateNamespaces(y,"requiredNamespaces"),!tr(S)&&0!==nn(S)&&t.validateNamespaces(S,"optionalNamespaces"),tr(Y)||t.validateSessionProps(Y,"sessionProperties")});return function(s){return n.apply(this,arguments)}}(),this.validateNamespaces=(n,s)=>{const o=function Ac(r,e,t){let n=null;if(r&&nn(r)){const s=Hs(r,e);s&&(n=s);const o=function Oc(r,e){let t=null;return Object.entries(r).forEach(([n,s])=>{if(t)return;const o=function Sc(r,e,t){let n=null;return Tn(e)?e.forEach(s=>{n||(!Fi(s)||!s.includes(r))&&(n=Wt("UNSUPPORTED_CHAINS",`${t}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):n=Wt("UNSUPPORTED_CHAINS",`${t}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),n}(n,An(n,s),`${e} requiredNamespace`);o&&(t=o)}),t}(r,e);o&&(n=o)}else n=Oe("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return n}(n,"connect()",s);if(o)throw new Error(o.message)},this.isValidApprove=function(){var n=x(function*(s){if(!or(s))throw new Error(Oe("MISSING_OR_INVALID",`approve() params: ${s}`).message);const{id:o,namespaces:y,relayProtocol:S,sessionProperties:Y}=s;yield t.isValidProposalId(o);const ue=t.client.proposal.get(o),ge=Cn(y,"approve()");if(ge)throw new Error(ge.message);const xe=Li(ue.requiredNamespaces,y,"approve()","requiredNamespaces");if(xe)throw new Error(xe.message);if(!Gt(S,!0)){const{message:dt}=Oe("MISSING_OR_INVALID",`approve() relayProtocol: ${S}`);throw new Error(dt)}if(Object.keys(y).length>Object.keys(ue.requiredNamespaces).length){const dt=Object.keys(ue.optionalNamespaces).filter(je=>y[je]),Pt={};for(const je in ue.optionalNamespaces)dt.includes(je)&&(Pt[je]=ue.optionalNamespaces[je]);const Ie=Li(Pt,y,"approve()","optionalNamespaces");if(Ie)throw new Error(Ie.message)}tr(Y)||t.validateSessionProps(Y,"sessionProperties")});return function(s){return n.apply(this,arguments)}}(),this.isValidReject=function(){var n=x(function*(s){if(!or(s)){const{message:S}=Oe("MISSING_OR_INVALID",`reject() params: ${s}`);throw new Error(S)}const{id:o,reason:y}=s;if(yield t.isValidProposalId(o),!function Cc(r){return!!(r&&"object"==typeof r&&r.code&&Ui(r.code,!1)&&r.message&&Gt(r.message,!1))}(y)){const{message:S}=Oe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(y)}`);throw new Error(S)}});return function(s){return n.apply(this,arguments)}}(),this.isValidSessionSettleRequest=n=>{if(!or(n)){const{message:ge}=Oe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(ge)}const{relay:s,controller:o,namespaces:y,expiry:S}=n;if(!zs(s)){const{message:ge}=Oe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(ge)}const Y=function xc(r,e){let t=null;return Gt(r?.publicKey,!1)||(t=Oe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}(o,"onSessionSettleRequest()");if(Y)throw new Error(Y.message);const ue=Cn(y,"onSessionSettleRequest()");if(ue)throw new Error(ue.message);if(Ar(S)){const{message:ge}=Oe("EXPIRED","onSessionSettleRequest()");throw new Error(ge)}},this.isValidUpdate=function(){var n=x(function*(s){if(!or(s)){const{message:ge}=Oe("MISSING_OR_INVALID",`update() params: ${s}`);throw new Error(ge)}const{topic:o,namespaces:y}=s;yield t.isValidSessionTopic(o);const S=t.client.session.get(o),Y=Cn(y,"update()");if(Y)throw new Error(Y.message);const ue=Li(S.requiredNamespaces,y,"update()","requiredNamespaces");if(ue)throw new Error(ue.message)});return function(s){return n.apply(this,arguments)}}(),this.isValidExtend=function(){var n=x(function*(s){if(!or(s)){const{message:y}=Oe("MISSING_OR_INVALID",`extend() params: ${s}`);throw new Error(y)}const{topic:o}=s;yield t.isValidSessionTopic(o)});return function(s){return n.apply(this,arguments)}}(),this.isValidRequest=function(){var n=x(function*(s){if(!or(s)){const{message:ge}=Oe("MISSING_OR_INVALID",`request() params: ${s}`);throw new Error(ge)}const{topic:o,request:y,chainId:S,expiry:Y}=s;yield t.isValidSessionTopic(o);const{namespaces:ue}=t.client.session.get(o);if(!Ks(ue,S)){const{message:ge}=Oe("MISSING_OR_INVALID",`request() chainId: ${S}`);throw new Error(ge)}if(!function Uc(r){return!(tr(r)||!Gt(r.method,!1))}(y)){const{message:ge}=Oe("MISSING_OR_INVALID",`request() ${JSON.stringify(y)}`);throw new Error(ge)}if(!function jc(r,e,t){return!!Gt(t,!1)&&function pc(r,e){const t=[];return Object.values(r).forEach(n=>{rn(n.accounts).includes(e)&&t.push(...n.methods)}),t}(r,e).includes(t)}(ue,S,y.method)){const{message:ge}=Oe("MISSING_OR_INVALID",`request() method: ${y.method}`);throw new Error(ge)}if(Y&&!function Bc(r,e){return Ui(r,!1)&&r<=e.max&&r>=e.min}(Y,Vi)){const{message:ge}=Oe("MISSING_OR_INVALID",`request() expiry: ${Y}. Expiry must be a number (in seconds) between ${Vi.min} and ${Vi.max}`);throw new Error(ge)}});return function(s){return n.apply(this,arguments)}}(),this.isValidRespond=function(){var n=x(function*(s){if(!or(s)){const{message:S}=Oe("MISSING_OR_INVALID",`respond() params: ${s}`);throw new Error(S)}const{topic:o,response:y}=s;if(yield t.isValidSessionTopic(o),!function Fc(r){return!(tr(r)||tr(r.result)&&tr(r.error)||!Ui(r.id,!1)||!Gt(r.jsonrpc,!1))}(y)){const{message:S}=Oe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(y)}`);throw new Error(S)}});return function(s){return n.apply(this,arguments)}}(),this.isValidPing=function(){var n=x(function*(s){if(!or(s)){const{message:y}=Oe("MISSING_OR_INVALID",`ping() params: ${s}`);throw new Error(y)}const{topic:o}=s;yield t.isValidSessionOrPairingTopic(o)});return function(s){return n.apply(this,arguments)}}(),this.isValidEmit=function(){var n=x(function*(s){if(!or(s)){const{message:ue}=Oe("MISSING_OR_INVALID",`emit() params: ${s}`);throw new Error(ue)}const{topic:o,event:y,chainId:S}=s;yield t.isValidSessionTopic(o);const{namespaces:Y}=t.client.session.get(o);if(!Ks(Y,S)){const{message:ue}=Oe("MISSING_OR_INVALID",`emit() chainId: ${S}`);throw new Error(ue)}if(!function Lc(r){return!(tr(r)||!Gt(r.name,!1))}(y)){const{message:ue}=Oe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(y)}`);throw new Error(ue)}if(!function Mc(r,e,t){return!!Gt(t,!1)&&function gc(r,e){const t=[];return Object.values(r).forEach(n=>{rn(n.accounts).includes(e)&&t.push(...n.events)}),t}(r,e).includes(t)}(Y,S,y.name)){const{message:ue}=Oe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(y)}`);throw new Error(ue)}});return function(s){return n.apply(this,arguments)}}(),this.isValidDisconnect=function(){var n=x(function*(s){if(!or(s)){const{message:y}=Oe("MISSING_OR_INVALID",`disconnect() params: ${s}`);throw new Error(y)}const{topic:o}=s;yield t.isValidSessionOrPairingTopic(o)});return function(s){return n.apply(this,arguments)}}(),this.validateSessionProps=(n,s)=>{Object.values(n).forEach(o=>{if(!Gt(o,!1)){const{message:y}=Oe("MISSING_OR_INVALID",`${s} must be in Record<string, string> format. Received: ${JSON.stringify(o)}`);throw new Error(y)}})}}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){var e=this;this.client.core.relayer.on("relayer_message",function(){var t=x(function*(n){const{topic:s,message:o}=n;if(e.ignoredPayloadTypes.includes(e.client.core.crypto.getPayloadType(o)))return;const y=yield e.client.core.crypto.decode(s,o);(0,Le.isJsonRpcRequest)(y)?(e.client.core.history.set(s,y),e.onRelayEventRequest({topic:s,payload:y})):(0,Le.isJsonRpcResponse)(y)&&(yield e.client.core.history.resolve(y),e.onRelayEventResponse({topic:s,payload:y}))});return function(n){return t.apply(this,arguments)}}())}registerExpirerEvents(){var e=this;this.client.core.expirer.on(fr_expired,function(){var t=x(function*(n){const{topic:s,id:o}=js(n.target);if(o&&e.client.pendingRequest.keys.includes(o))return yield e.deletePendingSessionRequest(o,Oe("EXPIRED"),!0);s?e.client.session.keys.includes(s)&&(yield e.deleteSession(s,!0),e.client.events.emit("session_expire",{topic:s})):o&&(yield e.deleteProposal(o,!0),e.client.events.emit("proposal_expire",{id:o}))});return function(n){return t.apply(this,arguments)}}())}isValidPairingTopic(e){if(!Gt(e,!1)){const{message:t}=Oe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=Oe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Ar(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=Oe("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}isValidSessionTopic(e){var t=this;return x(function*(){if(!Gt(e,!1)){const{message:n}=Oe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(!t.client.session.keys.includes(e)){const{message:n}=Oe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ar(t.client.session.get(e).expiry)){yield t.deleteSession(e);const{message:n}=Oe("EXPIRED",`session topic: ${e}`);throw new Error(n)}})()}isValidSessionOrPairingTopic(e){var t=this;return x(function*(){if(t.client.session.keys.includes(e))yield t.isValidSessionTopic(e);else{if(!t.client.core.pairing.pairings.keys.includes(e)){if(Gt(e,!1)){const{message:n}=Oe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}{const{message:n}=Oe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}t.isValidPairingTopic(e)}})()}isValidProposalId(e){var t=this;return x(function*(){if(!function Tc(r){return"number"==typeof r}(e)){const{message:n}=Oe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!t.client.proposal.keys.includes(e)){const{message:n}=Oe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ar(t.client.proposal.get(e).expiry)){yield t.deleteProposal(e);const{message:n}=Oe("EXPIRED",`proposal id: ${e}`);throw new Error(n)}})()}}class Sl extends jn{constructor(e,t){super(e,t,"proposal",Ki),this.core=e,this.logger=t}}class Ol extends jn{constructor(e,t){super(e,t,"session",Ki),this.core=e,this.logger=t}}class Il extends jn{constructor(e,t){super(e,t,"request",Ki),this.core=e,this.logger=t}}class Gi extends class Ee{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}{constructor(e){var t;super(e),t=this,this.protocol="wc",this.version=2,this.name="client",this.events=new j.EventEmitter,this.on=(s,o)=>this.events.on(s,o),this.once=(s,o)=>this.events.once(s,o),this.off=(s,o)=>this.events.off(s,o),this.removeListener=(s,o)=>this.events.removeListener(s,o),this.removeAllListeners=s=>this.events.removeAllListeners(s),this.connect=function(){var s=x(function*(o){try{return yield t.engine.connect(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.pair=function(){var s=x(function*(o){try{return yield t.engine.pair(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.approve=function(){var s=x(function*(o){try{return yield t.engine.approve(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.reject=function(){var s=x(function*(o){try{return yield t.engine.reject(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.update=function(){var s=x(function*(o){try{return yield t.engine.update(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.extend=function(){var s=x(function*(o){try{return yield t.engine.extend(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.request=function(){var s=x(function*(o){try{return yield t.engine.request(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.respond=function(){var s=x(function*(o){try{return yield t.engine.respond(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.ping=function(){var s=x(function*(o){try{return yield t.engine.ping(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.emit=function(){var s=x(function*(o){try{return yield t.engine.emit(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.disconnect=function(){var s=x(function*(o){try{return yield t.engine.disconnect(o)}catch(y){throw t.logger.error(y.message),y}});return function(o){return s.apply(this,arguments)}}(),this.find=s=>{try{return this.engine.find(s)}catch(o){throw this.logger.error(o.message),o}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(s){throw this.logger.error(s.message),s}},this.name=e?.name||"client",this.metadata=e?.metadata||function Ya(){return(0,ba.D)()||{name:"",description:"",url:"",icons:[""]}}();const n=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:I()((0,T.getDefaultLoggerOptions)({level:e?.logger||"error"}));this.core=e?.core||new pl(e),this.logger=(0,T.generateChildLogger)(n,this.name),this.session=new Ol(this.core,this.logger),this.proposal=new Sl(this.core,this.logger),this.pendingRequest=new Il(this.core,this.logger),this.engine=new xl(this)}static init(e){return x(function*(){const t=new Gi(e);return yield t.initialize(),t})()}get context(){return(0,T.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var e=this;return x(function*(){e.logger.trace("Initialized");try{yield e.core.start(),yield e.session.init(),yield e.proposal.init(),yield e.pendingRequest.init(),yield e.engine.init(),e.logger.info("SignClient Initialization Success")}catch(t){throw e.logger.info("SignClient Initialization Failure"),e.logger.error(t.message),t}})()}}b(7092),b(47274),b(49290);const ld={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function Cr(r,e){const{message:t,code:n}=ld[r];return{message:e?`${t} ${e}`:t,code:n}}var Ed=b(45002),Wo=b.n(Ed);function Go(r){return"string"==typeof r?r:JSON.stringify(r)}const Yo={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class qo{constructor(e){if(this.url=e,this.events=new j.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,Le.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(e=this.url){var t=this;return x(function*(){yield t.register(e)})()}close(){var e=this;return x(function*(){if(!e.isAvailable)throw new Error("Connection already closed");e.onClose()})()}send(e,t){var n=this;return x(function*(){n.isAvailable||(yield n.register());try{const s=Go(e),y=yield(yield Wo()(n.url,Object.assign(Object.assign({},Yo),{body:s}))).json();n.onPayload({data:y})}catch(s){n.onError(e.id,s)}})()}register(e=this.url){var t=this;return x(function*(){if(!(0,Le.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(t.registering){const n=t.events.getMaxListeners();return(t.events.listenerCount("register_error")>=n||t.events.listenerCount("open")>=n)&&t.events.setMaxListeners(n+1),new Promise((s,o)=>{t.events.once("register_error",y=>{t.resetMaxListeners(),o(y)}),t.events.once("open",()=>{if(t.resetMaxListeners(),typeof t.isAvailable>"u")return o(new Error("HTTP connection is missing or invalid"));s()})})}t.url=e,t.registering=!0;try{const n=Go({id:1,jsonrpc:"2.0",method:"test",params:[]});yield Wo()(e,Object.assign(Object.assign({},Yo),{body:n})),t.onOpen()}catch(n){const s=t.parseError(n);throw t.events.emit("register_error",s),t.onClose(),s}})()}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?function wd(r){if("string"!=typeof r)throw new Error("Cannot safe json parse value of type "+typeof r);try{return JSON.parse(r)}catch{return r}}(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),s=n.message||n.toString(),o=(0,Le.formatJsonRpcError)(e,s);this.events.emit("payload",o)}parseError(e,t=this.url){return(0,Le.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const rs=qo,Zo="wc@2:universal_provider:";function Ur(r,e,t){let n;const s=ns(r);return e.rpcMap&&(n=e.rpcMap[s]),n||(n=`https://rpc.walletconnect.com/v1?chainId=eip155:${s}&projectId=${t}`),n}function ns(r){return r.includes("eip155")?Number(r.split(":")[1]):Number(r)}const zn=(r,e)=>{const t=n=>{n.request!==e.request||n.topic!==e.topic||(r.events.removeListener("session_request_sent",t),function Pd(){if(typeof window<"u")try{const r=window.localStorage.getItem("WALLETCONNECT_DEEPLINK_CHOICE");if(r){const e=JSON.parse(r);window.open(e.href,"_self","noreferrer noopener")}}catch(r){console.error(r)}}())};r.on("session_request_sent",t)};class Ad{constructor(e){this.name="eip155",this.namespace=e.namespace,this.client=e.client,this.events=e.events,this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(e){var t=this;return x(function*(){var n;switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return t.getAccounts();case"wallet_switchEthereumChain":return t.handleSwitchChain(e.request.params?null==(n=e.request.params[0])?void 0:n.chainId:"0x0"),null;case"eth_chainId":return parseInt(t.getDefaultChain())}return t.namespace.methods.includes(e.request.method)?(zn(t.client,e),yield t.client.request(e)):t.getHttpProvider().request(e.request)})()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){const n=ns(e);if(!this.httpProviders[n]){const s=t||Ur(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,s)}this.chainId=n,this.events.emit("default_chain_changed",`${this.name}:${n}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||Ur(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new sn(new qo(n))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const n=ns(t);e[n]=this.createHttpProvider(n)}),e}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}handleSwitchChain(e){const t=parseInt(e,16);(function Id(r,e){if(!e.includes(r))throw new Error(`Chain '${r}' not approved. Please use one of the following: ${e.toString()}`)})(`${this.name}:${t}`,this.namespace.chains),this.setDefaultChain(`${t}`)}}class Nd{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?(zn(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const n=t||Ur(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Ur(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new sn(new rs(n))}}class Td{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?(zn(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||Ur(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Ur(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new sn(new rs(n))}}class Cd{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?(zn(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||Ur(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Ur(e,this.namespace);return typeof n>"u"?void 0:new sn(new rs(n))}}var Ud=Object.defineProperty,Fd=Object.defineProperties,Ld=Object.getOwnPropertyDescriptors,ko=Object.getOwnPropertySymbols,jd=Object.prototype.hasOwnProperty,Md=Object.prototype.propertyIsEnumerable,ea=(r,e,t)=>e in r?Ud(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kn=(r,e)=>{for(var t in e||(e={}))jd.call(e,t)&&ea(r,t,e[t]);if(ko)for(var t of ko(e))Md.call(e,t)&&ea(r,t,e[t]);return r},is=(r,e)=>Fd(r,Ld(e));class ss{constructor(e){this.events=new(M()),this.rpcProviders={},this.providerOpts=e,this.logger=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:I()((0,T.getDefaultLoggerOptions)({level:e?.logger||"error"}))}static init(e){return x(function*(){const t=new ss(e);return yield t.initialize(),t})()}request(e,t){var n=this;return x(function*(){const[s,o]=n.validateChain(t);if(!n.session)throw new Error("Please call connect() before request()");return yield n.getProvider(s).request({request:Kn({},e),chainId:`${s}:${o}`,topic:n.session.topic})})()}sendAsync(e,t,n){this.request(e,n).then(s=>t(null,s)).catch(s=>t(s,void 0))}enable(){var e=this;return x(function*(){if(!e.client)throw new Error("Sign Client not initialized");return e.session||(yield e.connect({namespaces:e.namespaces,optionalNamespaces:e.optionalNamespaces,sessionProperties:e.sessionProperties})),yield e.requestAccounts()})()}disconnect(){var e=this;return x(function*(){var t;if(!e.session)throw new Error("Please call connect() before enable()");yield e.client.disconnect({topic:null==(t=e.session)?void 0:t.topic,reason:Cr("USER_DISCONNECTED")}),yield e.cleanup()})()}connect(e){var t=this;return x(function*(){if(!t.client)throw new Error("Sign Client not initialized");if(t.setNamespaces(e),yield t.cleanupPendingPairings(),!e.skipPairing)return yield t.pair(e.pairingTopic)})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}pair(e){var t=this;return x(function*(){const{uri:n,approval:s}=yield t.client.connect({pairingTopic:e,requiredNamespaces:t.namespaces,optionalNamespaces:t.optionalNamespaces,sessionProperties:t.sessionProperties});return n&&(t.uri=n,t.events.emit("display_uri",n)),t.session=yield s(),t.createProviders(),t.onConnect(),t.session})()}setDefaultChain(e,t){try{const[n,s]=this.validateChain(e);this.getProvider(n).setDefaultChain(s,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}cleanupPendingPairings(e={}){var t=this;return x(function*(){t.logger.info("Cleaning up inactive pairings...");const n=t.client.pairing.getAll();if(function dn(r,e){return!!Array.isArray(r)&&(!(typeof e<"u"&&r.length)||r.every(e))}(n)){for(const s of n)e.deletePairings?t.client.core.expirer.set(s.topic,0):yield t.client.core.relayer.subscriber.unsubscribe(s.topic);t.logger.info(`Inactive pairings cleared: ${n.length}`)}})()}checkStorage(){var e=this;return x(function*(){e.namespaces=(yield e.getFromStore("namespaces"))||{},e.optionalNamespaces=(yield e.getFromStore("optionalNamespaces"))||{},e.client.session.length&&(e.session=e.client.session.get(e.client.session.keys[e.client.session.keys.length-1]),e.createProviders())})()}initialize(){var e=this;return x(function*(){e.logger.trace("Initialized"),yield e.createClient(),yield e.checkStorage(),e.registerEventListeners()})()}createClient(){var e=this;return x(function*(){e.client=e.providerOpts.client||(yield Gi.init({logger:e.providerOpts.logger||"error",relayUrl:e.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:e.providerOpts.projectId,metadata:e.providerOpts.metadata,storageOptions:e.providerOpts.storageOptions,name:e.providerOpts.name})),e.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");Object.keys(this.namespaces).forEach(e=>{var t,n,s;const o=(null==(t=this.session)?void 0:t.namespaces[e].accounts)||[],y=function Rd(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}(o),S=is(Kn({},Object.assign(this.namespaces[e],null!=(s=null==(n=this.optionalNamespaces)?void 0:n[e])?s:{})),{accounts:o,chains:y});switch(e){case"eip155":this.rpcProviders[e]=new Ad({client:this.client,namespace:S,events:this.events});break;case"solana":this.rpcProviders[e]=new Nd({client:this.client,namespace:S,events:this.events});break;case"cosmos":this.rpcProviders[e]=new Td({client:this.client,namespace:S,events:this.events});break;case"polkadot":break;case"cip34":this.rpcProviders[e]=new Cd({client:this.client,namespace:S,events:this.events})}})}registerEventListeners(){var e=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:n}=t,{event:s}=n;"accountsChanged"===s.name?this.events.emit("accountsChanged",s.data):"chainChanged"===s.name?this.onChainChanged(n.chainId):this.events.emit(s.name,s.data),this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var s;const{namespaces:o}=n,y=null==(s=this.client)?void 0:s.session.get(t);this.session=is(Kn({},y),{namespaces:o}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",function(){var t=x(function*(n){yield e.cleanup(),e.events.emit("session_delete",n),e.events.emit("disconnect",is(Kn({},Cr("USER_DISCONNECTED")),{data:n.topic}))});return function(n){return t.apply(this,arguments)}}()),this.on("default_chain_changed",t=>{this.onChainChanged(t,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:n,sessionProperties:s}=e;if(!t||!Object.keys(t).length)throw new Error("Namespaces must be not empty");this.namespaces=t,this.optionalNamespaces=n,this.sessionProperties=s,this.persist("namespaces",t),this.persist("optionalNamespaces",n)}validateChain(e){const[t,n]=e?.split(":")||["",""];if(t&&!Object.keys(this.namespaces).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&n)return[t,n];const s=Object.keys(this.namespaces)[0];return[s,this.rpcProviders[s].getDefaultChain()]}requestAccounts(){var e=this;return x(function*(){const[t]=e.validateChain();return yield e.getProvider(t).requestAccounts()})()}onChainChanged(e,t=!1){const[n,s]=this.validateChain(e);t||this.getProvider(n).setDefaultChain(s),this.namespaces[n].defaultChain=s,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",s)}onConnect(){this.events.emit("connect",{session:this.session})}cleanup(){var e=this;return x(function*(){e.session=void 0,yield e.cleanupPendingPairings({deletePairings:!0})})()}persist(e,t){this.client.core.storage.setItem(`${Zo}/${e}`,t)}getFromStore(e){var t=this;return x(function*(){return yield t.client.core.storage.getItem(`${Zo}/${e}`)})()}}var Hd={1:"https://ethereum.publicnode.com",5:"https://eth-goerli.g.alchemy.com/v2/yVhq9zPJorAWsw-F87fEabSUl7cCU6z4",11155111:"https://sepolia.infura.io/v3/9f79b2f9274344af90b8d4e244b580ef",137:"https://polygon-rpc.com/",80001:"https://polygon-mumbai.g.alchemy.com/v2/rVI6pOV4irVsrw20cJxc1fxK_1cSeiY0",56:"https://bsc-dataseed.binance.org/",97:"https://data-seed-prebsc-1-s1.binance.org:8545",43114:"https://api.avax.network/ext/bc/C/rpc",43113:"https://api.avax-test.network/ext/bc/C/rpc",250:"https://rpc.fantom.network/",25:"https://evm-cronos.crypto.org",338:"https://evm-t3.cronos.org",42161:"https://arb1.arbitrum.io/rpc",421613:"https://arb-goerli.g.alchemy.com/v2/nFrflomLgsQQL5NWjGileAVqIGGxZWce",10:"https://mainnet.optimism.io"},zd=["eip155:1","eip155:137","eip155:250","eip155:25","eip155:42161","eip155:10"],Kd=function(){return function(r,e,t,n){return new(t||(t=Promise))(function(o,y){function S(ge){try{ue(n.next(ge))}catch(xe){y(xe)}}function Y(ge){try{ue(n.throw(ge))}catch(xe){y(xe)}}function ue(ge){ge.done?o(ge.value):function s(o){return o instanceof t?o:new t(function(y){y(o)})}(ge.value).then(S,Y)}ue((n=n.apply(r,e||[])).next())})}(void 0,void 0,void 0,function(){return function(r,e){var n,s,o,y,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return y={next:S(0),throw:S(1),return:S(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y;function S(ue){return function(ge){return function Y(ue){if(n)throw new TypeError("Generator is already executing.");for(;y&&(y=0,ue[0]&&(t=0)),t;)try{if(n=1,s&&(o=2&ue[0]?s.return:ue[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,ue[1])).done)return o;switch(s=0,o&&(ue=[2&ue[0],o.value]),ue[0]){case 0:case 1:o=ue;break;case 4:return t.label++,{value:ue[1],done:!1};case 5:t.label++,s=ue[1],ue=[0];continue;case 7:ue=t.ops.pop(),t.trys.pop();continue;default:if(!(o=(o=t.trys).length>0&&o[o.length-1])&&(6===ue[0]||2===ue[0])){t=0;continue}if(3===ue[0]&&(!o||ue[1]>o[0]&&ue[1]<o[3])){t.label=ue[1];break}if(6===ue[0]&&t.label<o[1]){t.label=o[1],o=ue;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(ue);break}o[2]&&t.ops.pop(),t.trys.pop();continue}ue=e.call(r,t)}catch(ge){ue=[6,ge],s=0}finally{n=o=0}if(5&ue[0])throw ue[1];return{value:ue[0]?ue[1]:void 0,done:!0}}([ue,ge])}}}(this,function(r){switch(r.label){case 0:return[4,ss.init({projectId:"2ec7ead81da1226703ad789c0b2f7b30",logger:"debug",relayUrl:"wss://relay.walletconnect.com"})];case 1:return[2,r.sent()]}})})}},5158:(we,f)=>{"use strict";function b(){return(null==global?void 0:global.crypto)||(null==global?void 0:global.msCrypto)||{}}function D(){const se=b();return se.subtle||se.webkitSubtle}Object.defineProperty(f,"__esModule",{value:!0}),f.isBrowserCryptoAvailable=f.getSubtleCrypto=f.getBrowerCrypto=void 0,f.getBrowerCrypto=b,f.getSubtleCrypto=D,f.isBrowserCryptoAvailable=function ie(){return!!b()&&!!D()}},69537:(we,f)=>{"use strict";function b(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function D(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Object.defineProperty(f,"__esModule",{value:!0}),f.isBrowser=f.isNode=f.isReactNative=void 0,f.isReactNative=b,f.isNode=D,f.isBrowser=function ie(){return!b()&&!D()}},38572:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const D=b(33172);D.__exportStar(b(5158),f),D.__exportStar(b(69537),f)},52399:(we,f,b)=>{"use strict";b.d(f,{q:()=>D});class D{}},1577:(we,f,b)=>{"use strict";b.r(f),b.d(f,{IEvents:()=>D.q});var D=b(52399)},63029:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.HEARTBEAT_EVENTS=f.HEARTBEAT_INTERVAL=void 0;const D=b(14611);f.HEARTBEAT_INTERVAL=D.FIVE_SECONDS,f.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},76505:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),b(83411).__exportStar(b(63029),f)},33435:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.HeartBeat=void 0;const D=b(83411),ie=b(93105),se=b(14611),fe=b(76157),B=b(76505);class k extends fe.IHeartBeat{constructor(U){super(U),this.events=new ie.EventEmitter,this.interval=B.HEARTBEAT_INTERVAL,this.interval=(null==U?void 0:U.interval)||B.HEARTBEAT_INTERVAL}static init(U){return D.__awaiter(this,void 0,void 0,function*(){const R=new k(U);return yield R.init(),R})}init(){return D.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(U,R){this.events.on(U,R)}once(U,R){this.events.once(U,R)}off(U,R){this.events.off(U,R)}removeListener(U,R){this.events.removeListener(U,R)}initialize(){return D.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),se.toMiliseconds(this.interval))})}pulse(){this.events.emit(B.HEARTBEAT_EVENTS.pulse)}}f.HeartBeat=k},38960:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const D=b(83411);D.__exportStar(b(33435),f),D.__exportStar(b(76157),f),D.__exportStar(b(76505),f)},41760:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.IHeartBeat=void 0;const D=b(1577);f.IHeartBeat=class ie extends D.IEvents{constructor(fe){super()}}},76157:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),b(83411).__exportStar(b(41760),f)},45002:function(we,f){var se,b=typeof self<"u"?self:this,D=function(){function se(){this.fetch=!1,this.DOMException=b.DOMException}return se.prototype=b,new se}();se=D,function(B){var k_searchParams="URLSearchParams"in se,k_iterable="Symbol"in se&&"iterator"in Symbol,k_blob="FileReader"in se&&"Blob"in se&&function(){try{return new Blob,!0}catch{return!1}}(),k_formData="FormData"in se,k_arrayBuffer="ArrayBuffer"in se;if(k_arrayBuffer)var U=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],R=ArrayBuffer.isView||function(_){return _&&U.indexOf(Object.prototype.toString.call(_))>-1};function A(_){if("string"!=typeof _&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(_))throw new TypeError("Invalid character in header field name");return _.toLowerCase()}function oe(_){return"string"!=typeof _&&(_=String(_)),_}function pe(_){var h={next:function(){var E=_.shift();return{done:void 0===E,value:E}}};return k_iterable&&(h[Symbol.iterator]=function(){return h}),h}function re(_){this.map={},_ instanceof re?_.forEach(function(h,E){this.append(E,h)},this):Array.isArray(_)?_.forEach(function(h){this.append(h[0],h[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(h){this.append(h,_[h])},this)}function de(_){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}function me(_){return new Promise(function(h,E){_.onload=function(){h(_.result)},_.onerror=function(){E(_.error)}})}function x(_){var h=new FileReader,E=me(h);return h.readAsArrayBuffer(_),E}function j(_){if(_.slice)return _.slice(0);var h=new Uint8Array(_.byteLength);return h.set(new Uint8Array(_)),h.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(_){this._bodyInit=_,_?"string"==typeof _?this._bodyText=_:k_blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:k_formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:k_searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():k_arrayBuffer&&k_blob&&function L(_){return _&&DataView.prototype.isPrototypeOf(_)}(_)?(this._bodyArrayBuffer=j(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):k_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||R(_))?this._bodyArrayBuffer=j(_):this._bodyText=_=Object.prototype.toString.call(_):this._bodyText="",this.headers.get("content-type")||("string"==typeof _?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):k_searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},k_blob&&(this.blob=function(){var _=de(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?de(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var _=de(this);if(_)return _;if(this._bodyBlob)return function _e(_){var h=new FileReader,E=me(h);return h.readAsText(_),E}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function I(_){for(var h=new Uint8Array(_),E=new Array(h.length),O=0;O<h.length;O++)E[O]=String.fromCharCode(h[O]);return E.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},k_formData&&(this.formData=function(){return this.text().then(u)}),this.json=function(){return this.text().then(JSON.parse)},this}re.prototype.append=function(_,h){_=A(_),h=oe(h);var E=this.map[_];this.map[_]=E?E+", "+h:h},re.prototype.delete=function(_){delete this.map[A(_)]},re.prototype.get=function(_){return _=A(_),this.has(_)?this.map[_]:null},re.prototype.has=function(_){return this.map.hasOwnProperty(A(_))},re.prototype.set=function(_,h){this.map[A(_)]=oe(h)},re.prototype.forEach=function(_,h){for(var E in this.map)this.map.hasOwnProperty(E)&&_.call(h,this.map[E],E,this)},re.prototype.keys=function(){var _=[];return this.forEach(function(h,E){_.push(E)}),pe(_)},re.prototype.values=function(){var _=[];return this.forEach(function(h){_.push(h)}),pe(_)},re.prototype.entries=function(){var _=[];return this.forEach(function(h,E){_.push([E,h])}),pe(_)},k_iterable&&(re.prototype[Symbol.iterator]=re.prototype.entries);var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(_,h){var E=(h=h||{}).body;if(_ instanceof T){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,h.headers||(this.headers=new re(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,!E&&null!=_._bodyInit&&(E=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new re(h.headers)),this.method=function H(_){var h=_.toUpperCase();return C.indexOf(h)>-1?h:_}(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&E)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(E)}function u(_){var h=new FormData;return _.trim().split("&").forEach(function(E){if(E){var O=E.split("="),N=O.shift().replace(/\+/g," "),v=O.join("=").replace(/\+/g," ");h.append(decodeURIComponent(N),decodeURIComponent(v))}}),h}function a(_){var h=new re;return _.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(O){var N=O.split(":"),v=N.shift().trim();if(v){var K=N.join(":").trim();h.append(v,K)}}),h}function m(_,h){h||(h={}),this.type="default",this.status=void 0===h.status?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in h?h.statusText:"OK",this.headers=new re(h.headers),this.url=h.url||"",this._initBody(_)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},M.call(T.prototype),M.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new re(this.headers),url:this.url})},m.error=function(){var _=new m(null,{status:0,statusText:""});return _.type="error",_};var g=[301,302,303,307,308];m.redirect=function(_,h){if(-1===g.indexOf(h))throw new RangeError("Invalid status code");return new m(null,{status:h,headers:{location:_}})},B.DOMException=se.DOMException;try{new B.DOMException}catch{B.DOMException=function(h,E){this.message=h,this.name=E;var O=Error(h);this.stack=O.stack},B.DOMException.prototype=Object.create(Error.prototype),B.DOMException.prototype.constructor=B.DOMException}function w(_,h){return new Promise(function(E,O){var N=new T(_,h);if(N.signal&&N.signal.aborted)return O(new B.DOMException("Aborted","AbortError"));var v=new XMLHttpRequest;function K(){v.abort()}v.onload=function(){var le={status:v.status,statusText:v.statusText,headers:a(v.getAllResponseHeaders()||"")};le.url="responseURL"in v?v.responseURL:le.headers.get("X-Request-URL"),E(new m("response"in v?v.response:v.responseText,le))},v.onerror=function(){O(new TypeError("Network request failed"))},v.ontimeout=function(){O(new TypeError("Network request failed"))},v.onabort=function(){O(new B.DOMException("Aborted","AbortError"))},v.open(N.method,N.url,!0),"include"===N.credentials?v.withCredentials=!0:"omit"===N.credentials&&(v.withCredentials=!1),"responseType"in v&&k_blob&&(v.responseType="blob"),N.headers.forEach(function(le,V){v.setRequestHeader(V,le)}),N.signal&&(N.signal.addEventListener("abort",K),v.onreadystatechange=function(){4===v.readyState&&N.signal.removeEventListener("abort",K)}),v.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}w.polyfill=!0,se.fetch||(se.fetch=w,se.Headers=re,se.Request=T,se.Response=m),B.Headers=re,B.Request=T,B.Response=m,B.fetch=w,Object.defineProperty(B,"__esModule",{value:!0})}({}),D.fetch.ponyfill=!0,delete D.fetch.polyfill;var ie=D;(f=ie.fetch).default=ie.fetch,f.fetch=ie.fetch,f.Headers=ie.Headers,f.Request=ie.Request,f.Response=ie.Response,we.exports=f},45643:(we,f,b)=>{"use strict";b.d(f,{IJsonRpcProvider:()=>se.x0});var D=b(14966);b.o(D,"IJsonRpcProvider")&&b.d(f,{IJsonRpcProvider:function(){return D.IJsonRpcProvider}}),b.o(D,"isHttpUrl")&&b.d(f,{isHttpUrl:function(){return D.isHttpUrl}}),b.o(D,"isJsonRpcError")&&b.d(f,{isJsonRpcError:function(){return D.isJsonRpcError}}),b.o(D,"isJsonRpcRequest")&&b.d(f,{isJsonRpcRequest:function(){return D.isJsonRpcRequest}}),b.o(D,"isJsonRpcResponse")&&b.d(f,{isJsonRpcResponse:function(){return D.isJsonRpcResponse}}),b.o(D,"isJsonRpcResult")&&b.d(f,{isJsonRpcResult:function(){return D.isJsonRpcResult}}),b.o(D,"isLocalhostUrl")&&b.d(f,{isLocalhostUrl:function(){return D.isLocalhostUrl}}),b.o(D,"isReactNative")&&b.d(f,{isReactNative:function(){return D.isReactNative}}),b.o(D,"isWsUrl")&&b.d(f,{isWsUrl:function(){return D.isWsUrl}});var se=b(81104),fe=b(12817);b.o(fe,"isHttpUrl")&&b.d(f,{isHttpUrl:function(){return fe.isHttpUrl}}),b.o(fe,"isJsonRpcError")&&b.d(f,{isJsonRpcError:function(){return fe.isJsonRpcError}}),b.o(fe,"isJsonRpcRequest")&&b.d(f,{isJsonRpcRequest:function(){return fe.isJsonRpcRequest}}),b.o(fe,"isJsonRpcResponse")&&b.d(f,{isJsonRpcResponse:function(){return fe.isJsonRpcResponse}}),b.o(fe,"isJsonRpcResult")&&b.d(f,{isJsonRpcResult:function(){return fe.isJsonRpcResult}}),b.o(fe,"isLocalhostUrl")&&b.d(f,{isLocalhostUrl:function(){return fe.isLocalhostUrl}}),b.o(fe,"isReactNative")&&b.d(f,{isReactNative:function(){return fe.isReactNative}}),b.o(fe,"isWsUrl")&&b.d(f,{isWsUrl:function(){return fe.isWsUrl}})},14966:()=>{},81104:(we,f,b)=>{"use strict";b.d(f,{x0:()=>fe});class fe extends class se extends class D{}{constructor(){super()}}{constructor(k){super()}}},12817:()=>{},52885:(we,f,b)=>{"use strict";b.d(f,{CA:()=>k,JV:()=>A,O4:()=>B,dQ:()=>L,xK:()=>R});const B="INTERNAL_ERROR",k="SERVER_ERROR",L=[-32700,-32600,-32601,-32602,-32603],R={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[B]:{code:-32603,message:"Internal error"},[k]:{code:-32e3,message:"Server error"}},A=k},84275:(we,f,b)=>{"use strict";var D=b(38572);b.o(D,"IJsonRpcProvider")&&b.d(f,{IJsonRpcProvider:function(){return D.IJsonRpcProvider}}),b.o(D,"formatJsonRpcError")&&b.d(f,{formatJsonRpcError:function(){return D.formatJsonRpcError}}),b.o(D,"formatJsonRpcRequest")&&b.d(f,{formatJsonRpcRequest:function(){return D.formatJsonRpcRequest}}),b.o(D,"formatJsonRpcResult")&&b.d(f,{formatJsonRpcResult:function(){return D.formatJsonRpcResult}}),b.o(D,"isHttpUrl")&&b.d(f,{isHttpUrl:function(){return D.isHttpUrl}}),b.o(D,"isJsonRpcError")&&b.d(f,{isJsonRpcError:function(){return D.isJsonRpcError}}),b.o(D,"isJsonRpcRequest")&&b.d(f,{isJsonRpcRequest:function(){return D.isJsonRpcRequest}}),b.o(D,"isJsonRpcResponse")&&b.d(f,{isJsonRpcResponse:function(){return D.isJsonRpcResponse}}),b.o(D,"isJsonRpcResult")&&b.d(f,{isJsonRpcResult:function(){return D.isJsonRpcResult}}),b.o(D,"isLocalhostUrl")&&b.d(f,{isLocalhostUrl:function(){return D.isLocalhostUrl}}),b.o(D,"isReactNative")&&b.d(f,{isReactNative:function(){return D.isReactNative}}),b.o(D,"isWsUrl")&&b.d(f,{isWsUrl:function(){return D.isWsUrl}})},93938:(we,f,b)=>{"use strict";b.d(f,{CX:()=>U,L2:()=>k,by:()=>B,i5:()=>se});var D=b(52885);function se(R){return D.dQ.includes(R)}function B(R){return Object.keys(D.xK).includes(R)?D.xK[R]:D.xK[D.JV]}function k(R){return Object.values(D.xK).find(oe=>oe.code===R)||D.xK[D.JV]}function U(R,A,oe){return R.message.includes("getaddrinfo ENOTFOUND")||R.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${oe} RPC url at ${A}`):R}},90863:(we,f,b)=>{"use strict";b.d(f,{RI:()=>k,sT:()=>fe,tm:()=>B});var D=b(93938),ie=b(52885);function fe(U,R,A){return{id:A||Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3)),jsonrpc:"2.0",method:U,params:R}}function B(U,R){return{id:U,jsonrpc:"2.0",result:R}}function k(U,R,A){return{id:U,jsonrpc:"2.0",error:L(R,A)}}function L(U,R){return typeof U>"u"?(0,D.by)(ie.O4):("string"==typeof U&&(U=Object.assign(Object.assign({},(0,D.by)(ie.CA)),{message:U})),typeof R<"u"&&(U.data=R),(0,D.i5)(U.code)&&(U=(0,D.L2)(U.code)),U)}},22339:(we,f,b)=>{"use strict";b.d(f,{formatJsonRpcError:()=>fe.RI,formatJsonRpcRequest:()=>fe.sT,formatJsonRpcResult:()=>fe.tm,isHttpUrl:()=>k.jK,isJsonRpcError:()=>L.jg,isJsonRpcRequest:()=>L.DW,isJsonRpcResponse:()=>L.u,isJsonRpcResult:()=>L.k4,isLocalhostUrl:()=>k.JF,isWsUrl:()=>k.UZ,parseConnectionError:()=>ie.CX}),b(52885);var ie=b(93938),se=b(84275);b.o(se,"IJsonRpcProvider")&&b.d(f,{IJsonRpcProvider:function(){return se.IJsonRpcProvider}}),b.o(se,"formatJsonRpcError")&&b.d(f,{formatJsonRpcError:function(){return se.formatJsonRpcError}}),b.o(se,"formatJsonRpcRequest")&&b.d(f,{formatJsonRpcRequest:function(){return se.formatJsonRpcRequest}}),b.o(se,"formatJsonRpcResult")&&b.d(f,{formatJsonRpcResult:function(){return se.formatJsonRpcResult}}),b.o(se,"isHttpUrl")&&b.d(f,{isHttpUrl:function(){return se.isHttpUrl}}),b.o(se,"isJsonRpcError")&&b.d(f,{isJsonRpcError:function(){return se.isJsonRpcError}}),b.o(se,"isJsonRpcRequest")&&b.d(f,{isJsonRpcRequest:function(){return se.isJsonRpcRequest}}),b.o(se,"isJsonRpcResponse")&&b.d(f,{isJsonRpcResponse:function(){return se.isJsonRpcResponse}}),b.o(se,"isJsonRpcResult")&&b.d(f,{isJsonRpcResult:function(){return se.isJsonRpcResult}}),b.o(se,"isLocalhostUrl")&&b.d(f,{isLocalhostUrl:function(){return se.isLocalhostUrl}}),b.o(se,"isReactNative")&&b.d(f,{isReactNative:function(){return se.isReactNative}}),b.o(se,"isWsUrl")&&b.d(f,{isWsUrl:function(){return se.isWsUrl}});var fe=b(90863),B=b(72265);b.o(B,"IJsonRpcProvider")&&b.d(f,{IJsonRpcProvider:function(){return B.IJsonRpcProvider}}),b.o(B,"isHttpUrl")&&b.d(f,{isHttpUrl:function(){return B.isHttpUrl}}),b.o(B,"isJsonRpcError")&&b.d(f,{isJsonRpcError:function(){return B.isJsonRpcError}}),b.o(B,"isJsonRpcRequest")&&b.d(f,{isJsonRpcRequest:function(){return B.isJsonRpcRequest}}),b.o(B,"isJsonRpcResponse")&&b.d(f,{isJsonRpcResponse:function(){return B.isJsonRpcResponse}}),b.o(B,"isJsonRpcResult")&&b.d(f,{isJsonRpcResult:function(){return B.isJsonRpcResult}}),b.o(B,"isLocalhostUrl")&&b.d(f,{isLocalhostUrl:function(){return B.isLocalhostUrl}}),b.o(B,"isReactNative")&&b.d(f,{isReactNative:function(){return B.isReactNative}}),b.o(B,"isWsUrl")&&b.d(f,{isWsUrl:function(){return B.isWsUrl}});var k=b(96796),L=b(9087)},72265:(we,f,b)=>{"use strict";b.d(f,{IJsonRpcProvider:()=>D.IJsonRpcProvider});var D=b(45643);b.o(D,"isHttpUrl")&&b.d(f,{isHttpUrl:function(){return D.isHttpUrl}}),b.o(D,"isJsonRpcError")&&b.d(f,{isJsonRpcError:function(){return D.isJsonRpcError}}),b.o(D,"isJsonRpcRequest")&&b.d(f,{isJsonRpcRequest:function(){return D.isJsonRpcRequest}}),b.o(D,"isJsonRpcResponse")&&b.d(f,{isJsonRpcResponse:function(){return D.isJsonRpcResponse}}),b.o(D,"isJsonRpcResult")&&b.d(f,{isJsonRpcResult:function(){return D.isJsonRpcResult}}),b.o(D,"isLocalhostUrl")&&b.d(f,{isLocalhostUrl:function(){return D.isLocalhostUrl}}),b.o(D,"isReactNative")&&b.d(f,{isReactNative:function(){return D.isReactNative}}),b.o(D,"isWsUrl")&&b.d(f,{isWsUrl:function(){return D.isWsUrl}})},96796:(we,f,b)=>{"use strict";function fe(U,R){const A=function se(U){const R=U.match(new RegExp(/^\w+:/,"gi"));if(R&&R.length)return R[0]}(U);return!(typeof A>"u")&&new RegExp(R).test(A)}function B(U){return fe(U,"^https?:")}function k(U){return fe(U,"^wss?:")}function L(U){return new RegExp("wss?://localhost(:d{2,5})?").test(U)}b.d(f,{JF:()=>L,UZ:()=>k,jK:()=>B})},9087:(we,f,b)=>{"use strict";function D(L){return"object"==typeof L&&"id"in L&&"jsonrpc"in L&&"2.0"===L.jsonrpc}function ie(L){return D(L)&&"method"in L}function se(L){return D(L)&&(fe(L)||B(L))}function fe(L){return"result"in L}function B(L){return"error"in L}b.d(f,{DW:()=>ie,jg:()=>B,k4:()=>fe,u:()=>se})},3226:(we,f,b)=>{"use strict";const ie=b(57436),se=b(28898),fe=ie.__importDefault(b(87733)),B=b(54653);f.ZP=class k{constructor(){this.localStorage=fe.default}getKeys(){return ie.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return ie.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(B.parseEntry)})}getItem(U){return ie.__awaiter(this,void 0,void 0,function*(){const R=this.localStorage.getItem(U);if(null!==R)return se.safeJsonParse(R)})}setItem(U,R){return ie.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(U,se.safeJsonStringify(R))})}removeItem(U){return ie.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(U)})}}},87733:we=>{"use strict";!function(){let f;function b(){}f=b,f.prototype.getItem=function(D){return this.hasOwnProperty(D)?String(this[D]):null},f.prototype.setItem=function(D,ie){this[D]=String(ie)},f.prototype.removeItem=function(D){delete this[D]},f.prototype.clear=function(){const D=this;Object.keys(D).forEach(function(ie){D[ie]=void 0,delete D[ie]})},f.prototype.key=function(D){return D=D||0,Object.keys(this)[D]},f.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),we.exports=typeof global<"u"&&global.localStorage?global.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new b}()},54653:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const D=b(57436);D.__exportStar(b(87402),f),D.__exportStar(b(94164),f)},87402:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.IKeyValueStorage=void 0,f.IKeyValueStorage=class b{}},94164:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.parseEntry=void 0;const D=b(28898);f.parseEntry=function ie(se){var fe;return[se[0],D.safeJsonParse(null!==(fe=se[1])&&void 0!==fe?fe:"")]}},73671:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.PINO_CUSTOM_CONTEXT_KEY=f.PINO_LOGGER_DEFAULTS=void 0,f.PINO_LOGGER_DEFAULTS={level:"info"},f.PINO_CUSTOM_CONTEXT_KEY="custom_context"},66486:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.pino=void 0;const D=b(17978),ie=D.__importDefault(b(22694));Object.defineProperty(f,"pino",{enumerable:!0,get:function(){return ie.default}}),D.__exportStar(b(73671),f),D.__exportStar(b(70769),f)},70769:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.generateChildLogger=f.formatChildLoggerContext=f.getLoggerContext=f.setBrowserLoggerContext=f.getBrowserLoggerContext=f.getDefaultLoggerOptions=void 0;const D=b(73671);function se(U,R=D.PINO_CUSTOM_CONTEXT_KEY){return U[R]||""}function fe(U,R,A=D.PINO_CUSTOM_CONTEXT_KEY){return U[A]=R,U}function B(U,R=D.PINO_CUSTOM_CONTEXT_KEY){let A="";return A=typeof U.bindings>"u"?se(U,R):U.bindings().context||"",A}function k(U,R,A=D.PINO_CUSTOM_CONTEXT_KEY){const oe=B(U,A);return oe.trim()?`${oe}/${R}`:R}f.getDefaultLoggerOptions=function ie(U){return Object.assign(Object.assign({},U),{level:(null==U?void 0:U.level)||D.PINO_LOGGER_DEFAULTS.level})},f.getBrowserLoggerContext=se,f.setBrowserLoggerContext=fe,f.getLoggerContext=B,f.formatChildLoggerContext=k,f.generateChildLogger=function L(U,R,A=D.PINO_CUSTOM_CONTEXT_KEY){const oe=k(U,R,A);return fe(U.child({context:oe}),oe,A)}},45785:()=>{},58083:()=>{},45418:(we,f)=>{"use strict";function b(pe){let re;return typeof window<"u"&&typeof window[pe]<"u"&&(re=window[pe]),re}function D(pe){const re=b(pe);if(!re)throw new Error(`${pe} is not defined in Window`);return re}Object.defineProperty(f,"__esModule",{value:!0}),f.getLocalStorage=f.getLocalStorageOrThrow=f.getCrypto=f.getCryptoOrThrow=f.getLocation=f.getLocationOrThrow=f.getNavigator=f.getNavigatorOrThrow=f.getDocument=f.getDocumentOrThrow=f.getFromWindowOrThrow=f.getFromWindow=void 0,f.getFromWindow=b,f.getFromWindowOrThrow=D,f.getDocumentOrThrow=function ie(){return D("document")},f.getDocument=function se(){return b("document")},f.getNavigatorOrThrow=function fe(){return D("navigator")},f.getNavigator=function B(){return b("navigator")},f.getLocationOrThrow=function k(){return D("location")},f.getLocation=function L(){return b("location")},f.getCryptoOrThrow=function U(){return D("crypto")},f.getCrypto=function R(){return b("crypto")},f.getLocalStorageOrThrow=function A(){return D("localStorage")},f.getLocalStorage=function oe(){return b("localStorage")}},31846:(we,f,b)=>{"use strict";f.D=void 0;const ie=b(45418);f.D=function se(){let fe,B;try{fe=ie.getDocumentOrThrow(),B=ie.getLocationOrThrow()}catch{return null}function L(...me){const x=fe.getElementsByTagName("meta");for(let _e=0;_e<x.length;_e++){const I=x[_e],j=["itemprop","property","name"].map(M=>I.getAttribute(M)).filter(M=>!!M&&me.includes(M));if(j.length&&j){const M=I.getAttribute("content");if(M)return M}}return""}const A=function U(){let me=L("name","og:site_name","og:title","twitter:title");return me||(me=fe.title),me}();return{description:function R(){return L("description","og:description","twitter:description","keywords")}(),url:B.origin,icons:function k(){const me=fe.getElementsByTagName("link"),x=[];for(let _e=0;_e<me.length;_e++){const I=me[_e],j=I.getAttribute("rel");if(j&&j.toLowerCase().indexOf("icon")>-1){const M=I.getAttribute("href");if(M)if(-1===M.toLowerCase().indexOf("https:")&&-1===M.toLowerCase().indexOf("http:")&&0!==M.indexOf("//")){let C=B.protocol+"//"+B.host;if(0===M.indexOf("/"))C+=M;else{const H=B.pathname.split("/");H.pop(),C+=H.join("/")+"/"+M}x.push(C)}else 0===M.indexOf("//")?x.push(B.protocol+M):x.push(M)}}return x}(),name:A}}},34955:(we,f,b)=>{"use strict";const D=b(82915),ie=b(65361),se=b(95967),fe=b(10979),k=Symbol("encodeFragmentIdentifier");function R(I){if("string"!=typeof I||1!==I.length)throw new TypeError("arrayFormatSeparator must be single character string")}function A(I,j){return j.encode?j.strict?D(I):encodeURIComponent(I):I}function oe(I,j){return j.decode?ie(I):I}function pe(I){return Array.isArray(I)?I.sort():"object"==typeof I?pe(Object.keys(I)).sort((j,M)=>Number(j)-Number(M)).map(j=>I[j]):I}function re(I){const j=I.indexOf("#");return-1!==j&&(I=I.slice(0,j)),I}function me(I){const j=(I=re(I)).indexOf("?");return-1===j?"":I.slice(j+1)}function x(I,j){return j.parseNumbers&&!Number.isNaN(Number(I))&&"string"==typeof I&&""!==I.trim()?I=Number(I):j.parseBooleans&&null!==I&&("true"===I.toLowerCase()||"false"===I.toLowerCase())&&(I="true"===I.toLowerCase()),I}function _e(I,j){R((j=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},j)).arrayFormatSeparator);const M=function U(I){let j;switch(I.arrayFormat){case"index":return(M,C,H)=>{j=/\[(\d*)\]$/.exec(M),M=M.replace(/\[\d*\]$/,""),j?(void 0===H[M]&&(H[M]={}),H[M][j[1]]=C):H[M]=C};case"bracket":return(M,C,H)=>{j=/(\[\])$/.exec(M),H[M=M.replace(/\[\]$/,"")]=j?void 0!==H[M]?[].concat(H[M],C):[C]:C};case"colon-list-separator":return(M,C,H)=>{j=/(:list)$/.exec(M),H[M=M.replace(/:list$/,"")]=j?void 0!==H[M]?[].concat(H[M],C):[C]:C};case"comma":case"separator":return(M,C,H)=>{const T="string"==typeof C&&C.includes(I.arrayFormatSeparator),u="string"==typeof C&&!T&&oe(C,I).includes(I.arrayFormatSeparator);C=u?oe(C,I):C;const a=T||u?C.split(I.arrayFormatSeparator).map(m=>oe(m,I)):null===C?C:oe(C,I);H[M]=a};case"bracket-separator":return(M,C,H)=>{const T=/(\[\])$/.test(M);if(M=M.replace(/\[\]$/,""),!T)return void(H[M]=C&&oe(C,I));const u=null===C?[]:C.split(I.arrayFormatSeparator).map(a=>oe(a,I));H[M]=void 0!==H[M]?[].concat(H[M],u):u};default:return(M,C,H)=>{H[M]=void 0!==H[M]?[].concat(H[M],C):C}}}(j),C=Object.create(null);if("string"!=typeof I||!(I=I.trim().replace(/^[?#&]/,"")))return C;for(const H of I.split("&")){if(""===H)continue;let[T,u]=se(j.decode?H.replace(/\+/g," "):H,"=");u=void 0===u?null:["comma","separator","bracket-separator"].includes(j.arrayFormat)?u:oe(u,j),M(oe(T,j),u,C)}for(const H of Object.keys(C)){const T=C[H];if("object"==typeof T&&null!==T)for(const u of Object.keys(T))T[u]=x(T[u],j);else C[H]=x(T,j)}return!1===j.sort?C:(!0===j.sort?Object.keys(C).sort():Object.keys(C).sort(j.sort)).reduce((H,T)=>{const u=C[T];return H[T]=Boolean(u)&&"object"==typeof u&&!Array.isArray(u)?pe(u):u,H},Object.create(null))}f.extract=me,f.parse=_e,f.stringify=(I,j)=>{if(!I)return"";R((j=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},j)).arrayFormatSeparator);const M=u=>j.skipNull&&(I=>null==I)(I[u])||j.skipEmptyString&&""===I[u],C=function L(I){switch(I.arrayFormat){case"index":return j=>(M,C)=>{const H=M.length;return void 0===C||I.skipNull&&null===C||I.skipEmptyString&&""===C?M:null===C?[...M,[A(j,I),"[",H,"]"].join("")]:[...M,[A(j,I),"[",A(H,I),"]=",A(C,I)].join("")]};case"bracket":return j=>(M,C)=>void 0===C||I.skipNull&&null===C||I.skipEmptyString&&""===C?M:null===C?[...M,[A(j,I),"[]"].join("")]:[...M,[A(j,I),"[]=",A(C,I)].join("")];case"colon-list-separator":return j=>(M,C)=>void 0===C||I.skipNull&&null===C||I.skipEmptyString&&""===C?M:null===C?[...M,[A(j,I),":list="].join("")]:[...M,[A(j,I),":list=",A(C,I)].join("")];case"comma":case"separator":case"bracket-separator":{const j="bracket-separator"===I.arrayFormat?"[]=":"=";return M=>(C,H)=>void 0===H||I.skipNull&&null===H||I.skipEmptyString&&""===H?C:(H=null===H?"":H,0===C.length?[[A(M,I),j,A(H,I)].join("")]:[[C,A(H,I)].join(I.arrayFormatSeparator)])}default:return j=>(M,C)=>void 0===C||I.skipNull&&null===C||I.skipEmptyString&&""===C?M:null===C?[...M,A(j,I)]:[...M,[A(j,I),"=",A(C,I)].join("")]}}(j),H={};for(const u of Object.keys(I))M(u)||(H[u]=I[u]);const T=Object.keys(H);return!1!==j.sort&&T.sort(j.sort),T.map(u=>{const a=I[u];return void 0===a?"":null===a?A(u,j):Array.isArray(a)?0===a.length&&"bracket-separator"===j.arrayFormat?A(u,j)+"[]":a.reduce(C(u),[]).join("&"):A(u,j)+"="+A(a,j)}).filter(u=>u.length>0).join("&")},f.parseUrl=(I,j)=>{j=Object.assign({decode:!0},j);const[M,C]=se(I,"#");return Object.assign({url:M.split("?")[0]||"",query:_e(me(I),j)},j&&j.parseFragmentIdentifier&&C?{fragmentIdentifier:oe(C,j)}:{})},f.stringifyUrl=(I,j)=>{j=Object.assign({encode:!0,strict:!0,[k]:!0},j);const M=re(I.url).split("?")[0]||"",C=f.extract(I.url),H=f.parse(C,{sort:!1}),T=Object.assign(H,I.query);let u=f.stringify(T,j);u&&(u=`?${u}`);let a=function de(I){let j="";const M=I.indexOf("#");return-1!==M&&(j=I.slice(M)),j}(I.url);return I.fragmentIdentifier&&(a=`#${j[k]?A(I.fragmentIdentifier,j):I.fragmentIdentifier}`),`${M}${u}${a}`},f.pick=(I,j,M)=>{M=Object.assign({parseFragmentIdentifier:!0,[k]:!1},M);const{url:C,query:H,fragmentIdentifier:T}=f.parseUrl(I,M);return f.stringifyUrl({url:C,query:fe(H,j),fragmentIdentifier:T},M)},f.exclude=(I,j,M)=>{const C=Array.isArray(j)?H=>!j.includes(H):(H,T)=>!j(H,T);return f.pick(I,C,M)}},78847:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const D=b(80017);D.__exportStar(b(77662),f),D.__exportStar(b(28456),f)},77662:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ONE_THOUSAND=f.ONE_HUNDRED=void 0,f.ONE_HUNDRED=100,f.ONE_THOUSAND=1e3},28456:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ONE_YEAR=f.FOUR_WEEKS=f.THREE_WEEKS=f.TWO_WEEKS=f.ONE_WEEK=f.THIRTY_DAYS=f.SEVEN_DAYS=f.FIVE_DAYS=f.THREE_DAYS=f.ONE_DAY=f.TWENTY_FOUR_HOURS=f.TWELVE_HOURS=f.SIX_HOURS=f.THREE_HOURS=f.ONE_HOUR=f.SIXTY_MINUTES=f.THIRTY_MINUTES=f.TEN_MINUTES=f.FIVE_MINUTES=f.ONE_MINUTE=f.SIXTY_SECONDS=f.THIRTY_SECONDS=f.TEN_SECONDS=f.FIVE_SECONDS=f.ONE_SECOND=void 0,f.ONE_SECOND=1,f.FIVE_SECONDS=5,f.TEN_SECONDS=10,f.THIRTY_SECONDS=30,f.SIXTY_SECONDS=60,f.ONE_MINUTE=f.SIXTY_SECONDS,f.FIVE_MINUTES=5*f.ONE_MINUTE,f.TEN_MINUTES=10*f.ONE_MINUTE,f.THIRTY_MINUTES=30*f.ONE_MINUTE,f.SIXTY_MINUTES=60*f.ONE_MINUTE,f.ONE_HOUR=f.SIXTY_MINUTES,f.THREE_HOURS=3*f.ONE_HOUR,f.SIX_HOURS=6*f.ONE_HOUR,f.TWELVE_HOURS=12*f.ONE_HOUR,f.TWENTY_FOUR_HOURS=24*f.ONE_HOUR,f.ONE_DAY=f.TWENTY_FOUR_HOURS,f.THREE_DAYS=3*f.ONE_DAY,f.FIVE_DAYS=5*f.ONE_DAY,f.SEVEN_DAYS=7*f.ONE_DAY,f.THIRTY_DAYS=30*f.ONE_DAY,f.ONE_WEEK=f.SEVEN_DAYS,f.TWO_WEEKS=2*f.ONE_WEEK,f.THREE_WEEKS=3*f.ONE_WEEK,f.FOUR_WEEKS=4*f.ONE_WEEK,f.ONE_YEAR=365*f.ONE_DAY},14611:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const D=b(80017);D.__exportStar(b(47344),f),D.__exportStar(b(1429),f),D.__exportStar(b(40214),f),D.__exportStar(b(78847),f)},40214:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),b(80017).__exportStar(b(47997),f)},47997:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.IWatch=void 0,f.IWatch=class b{}},45442:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.fromMiliseconds=f.toMiliseconds=void 0;const D=b(78847);f.toMiliseconds=function ie(fe){return fe*D.ONE_THOUSAND},f.fromMiliseconds=function se(fe){return Math.floor(fe/D.ONE_THOUSAND)}},67406:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.delay=void 0,f.delay=function b(D){return new Promise(ie=>{setTimeout(()=>{ie(!0)},D)})}},47344:(we,f,b)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const D=b(80017);D.__exportStar(b(67406),f),D.__exportStar(b(45442),f)},1429:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Watch=void 0;class b{constructor(){this.timestamps=new Map}start(ie){if(this.timestamps.has(ie))throw new Error(`Watch already started for label: ${ie}`);this.timestamps.set(ie,{started:Date.now()})}stop(ie){const se=this.get(ie);if(typeof se.elapsed<"u")throw new Error(`Watch already stopped for label: ${ie}`);const fe=Date.now()-se.started;this.timestamps.set(ie,{started:se.started,elapsed:fe})}get(ie){const se=this.timestamps.get(ie);if(typeof se>"u")throw new Error(`No timestamp found for label: ${ie}`);return se}elapsed(ie){const se=this.get(ie);return se.elapsed||Date.now()-se.started}}f.Watch=b,f.default=b},7092:(we,f)=>{"use strict";function b(pe){let re;return typeof window<"u"&&typeof window[pe]<"u"&&(re=window[pe]),re}function D(pe){const re=b(pe);if(!re)throw new Error(`${pe} is not defined in Window`);return re}Object.defineProperty(f,"__esModule",{value:!0}),f.getLocalStorage=f.getLocalStorageOrThrow=f.getCrypto=f.getCryptoOrThrow=f.getLocation=f.getLocationOrThrow=f.getNavigator=f.getNavigatorOrThrow=f.getDocument=f.getDocumentOrThrow=f.getFromWindowOrThrow=f.getFromWindow=void 0,f.getFromWindow=b,f.getFromWindowOrThrow=D,f.getDocumentOrThrow=function ie(){return D("document")},f.getDocument=function se(){return b("document")},f.getNavigatorOrThrow=function fe(){return D("navigator")},f.getNavigator=function B(){return b("navigator")},f.getLocationOrThrow=function k(){return D("location")},f.getLocation=function L(){return b("location")},f.getCryptoOrThrow=function U(){return D("crypto")},f.getCrypto=function R(){return b("crypto")},f.getLocalStorageOrThrow=function A(){return D("localStorage")},f.getLocalStorage=function oe(){return b("localStorage")}},47274:(we,f,b)=>{"use strict";b(7092)},49290:(we,f,b)=>{"use strict";const D=b(82915),ie=b(65361),se=b(95967),fe=b(10979),k=Symbol("encodeFragmentIdentifier");function R(I){if("string"!=typeof I||1!==I.length)throw new TypeError("arrayFormatSeparator must be single character string")}function A(I,j){return j.encode?j.strict?D(I):encodeURIComponent(I):I}function oe(I,j){return j.decode?ie(I):I}function pe(I){return Array.isArray(I)?I.sort():"object"==typeof I?pe(Object.keys(I)).sort((j,M)=>Number(j)-Number(M)).map(j=>I[j]):I}function re(I){const j=I.indexOf("#");return-1!==j&&(I=I.slice(0,j)),I}function me(I){const j=(I=re(I)).indexOf("?");return-1===j?"":I.slice(j+1)}function x(I,j){return j.parseNumbers&&!Number.isNaN(Number(I))&&"string"==typeof I&&""!==I.trim()?I=Number(I):j.parseBooleans&&null!==I&&("true"===I.toLowerCase()||"false"===I.toLowerCase())&&(I="true"===I.toLowerCase()),I}function _e(I,j){R((j=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},j)).arrayFormatSeparator);const M=function U(I){let j;switch(I.arrayFormat){case"index":return(M,C,H)=>{j=/\[(\d*)\]$/.exec(M),M=M.replace(/\[\d*\]$/,""),j?(void 0===H[M]&&(H[M]={}),H[M][j[1]]=C):H[M]=C};case"bracket":return(M,C,H)=>{j=/(\[\])$/.exec(M),H[M=M.replace(/\[\]$/,"")]=j?void 0!==H[M]?[].concat(H[M],C):[C]:C};case"colon-list-separator":return(M,C,H)=>{j=/(:list)$/.exec(M),H[M=M.replace(/:list$/,"")]=j?void 0!==H[M]?[].concat(H[M],C):[C]:C};case"comma":case"separator":return(M,C,H)=>{const T="string"==typeof C&&C.includes(I.arrayFormatSeparator),u="string"==typeof C&&!T&&oe(C,I).includes(I.arrayFormatSeparator);C=u?oe(C,I):C;const a=T||u?C.split(I.arrayFormatSeparator).map(m=>oe(m,I)):null===C?C:oe(C,I);H[M]=a};case"bracket-separator":return(M,C,H)=>{const T=/(\[\])$/.test(M);if(M=M.replace(/\[\]$/,""),!T)return void(H[M]=C&&oe(C,I));const u=null===C?[]:C.split(I.arrayFormatSeparator).map(a=>oe(a,I));H[M]=void 0!==H[M]?[].concat(H[M],u):u};default:return(M,C,H)=>{H[M]=void 0!==H[M]?[].concat(H[M],C):C}}}(j),C=Object.create(null);if("string"!=typeof I||!(I=I.trim().replace(/^[?#&]/,"")))return C;for(const H of I.split("&")){if(""===H)continue;let[T,u]=se(j.decode?H.replace(/\+/g," "):H,"=");u=void 0===u?null:["comma","separator","bracket-separator"].includes(j.arrayFormat)?u:oe(u,j),M(oe(T,j),u,C)}for(const H of Object.keys(C)){const T=C[H];if("object"==typeof T&&null!==T)for(const u of Object.keys(T))T[u]=x(T[u],j);else C[H]=x(T,j)}return!1===j.sort?C:(!0===j.sort?Object.keys(C).sort():Object.keys(C).sort(j.sort)).reduce((H,T)=>{const u=C[T];return H[T]=Boolean(u)&&"object"==typeof u&&!Array.isArray(u)?pe(u):u,H},Object.create(null))}f.extract=me,f.parse=_e,f.stringify=(I,j)=>{if(!I)return"";R((j=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},j)).arrayFormatSeparator);const M=u=>j.skipNull&&(I=>null==I)(I[u])||j.skipEmptyString&&""===I[u],C=function L(I){switch(I.arrayFormat){case"index":return j=>(M,C)=>{const H=M.length;return void 0===C||I.skipNull&&null===C||I.skipEmptyString&&""===C?M:null===C?[...M,[A(j,I),"[",H,"]"].join("")]:[...M,[A(j,I),"[",A(H,I),"]=",A(C,I)].join("")]};case"bracket":return j=>(M,C)=>void 0===C||I.skipNull&&null===C||I.skipEmptyString&&""===C?M:null===C?[...M,[A(j,I),"[]"].join("")]:[...M,[A(j,I),"[]=",A(C,I)].join("")];case"colon-list-separator":return j=>(M,C)=>void 0===C||I.skipNull&&null===C||I.skipEmptyString&&""===C?M:null===C?[...M,[A(j,I),":list="].join("")]:[...M,[A(j,I),":list=",A(C,I)].join("")];case"comma":case"separator":case"bracket-separator":{const j="bracket-separator"===I.arrayFormat?"[]=":"=";return M=>(C,H)=>void 0===H||I.skipNull&&null===H||I.skipEmptyString&&""===H?C:(H=null===H?"":H,0===C.length?[[A(M,I),j,A(H,I)].join("")]:[[C,A(H,I)].join(I.arrayFormatSeparator)])}default:return j=>(M,C)=>void 0===C||I.skipNull&&null===C||I.skipEmptyString&&""===C?M:null===C?[...M,A(j,I)]:[...M,[A(j,I),"=",A(C,I)].join("")]}}(j),H={};for(const u of Object.keys(I))M(u)||(H[u]=I[u]);const T=Object.keys(H);return!1!==j.sort&&T.sort(j.sort),T.map(u=>{const a=I[u];return void 0===a?"":null===a?A(u,j):Array.isArray(a)?0===a.length&&"bracket-separator"===j.arrayFormat?A(u,j)+"[]":a.reduce(C(u),[]).join("&"):A(u,j)+"="+A(a,j)}).filter(u=>u.length>0).join("&")},f.parseUrl=(I,j)=>{j=Object.assign({decode:!0},j);const[M,C]=se(I,"#");return Object.assign({url:M.split("?")[0]||"",query:_e(me(I),j)},j&&j.parseFragmentIdentifier&&C?{fragmentIdentifier:oe(C,j)}:{})},f.stringifyUrl=(I,j)=>{j=Object.assign({encode:!0,strict:!0,[k]:!0},j);const M=re(I.url).split("?")[0]||"",C=f.extract(I.url),H=f.parse(C,{sort:!1}),T=Object.assign(H,I.query);let u=f.stringify(T,j);u&&(u=`?${u}`);let a=function de(I){let j="";const M=I.indexOf("#");return-1!==M&&(j=I.slice(M)),j}(I.url);return I.fragmentIdentifier&&(a=`#${j[k]?A(I.fragmentIdentifier,j):I.fragmentIdentifier}`),`${M}${u}${a}`},f.pick=(I,j,M)=>{M=Object.assign({parseFragmentIdentifier:!0,[k]:!1},M);const{url:C,query:H,fragmentIdentifier:T}=f.parseUrl(I,M);return f.stringifyUrl({url:C,query:fe(H,j),fragmentIdentifier:T},M)},f.exclude=(I,j,M)=>{const C=Array.isArray(j)?H=>!j.includes(H):(H,T)=>!j(H,T);return f.pick(I,C,M)}},65361:we=>{"use strict";var f="%[a-f0-9]{2}",b=new RegExp(f,"gi"),D=new RegExp("("+f+")+","gi");function ie(B,k){try{return decodeURIComponent(B.join(""))}catch{}if(1===B.length)return B;var L=B.slice(0,k=k||1),U=B.slice(k);return Array.prototype.concat.call([],ie(L),ie(U))}function se(B){try{return decodeURIComponent(B)}catch{for(var k=B.match(b),L=1;L<k.length;L++)k=(B=ie(k,L).join("")).match(b);return B}}we.exports=function(B){if("string"!=typeof B)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof B+"`");try{return B=B.replace(/\+/g," "),decodeURIComponent(B)}catch{return function fe(B){for(var k={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},L=D.exec(B);L;){try{k[L[0]]=decodeURIComponent(L[0])}catch{var U=se(L[0]);U!==L[0]&&(k[L[0]]=U)}L=D.exec(B)}k["%C2"]="\ufffd";for(var R=Object.keys(k),A=0;A<R.length;A++){var oe=R[A];B=B.replace(new RegExp(oe,"g"),k[oe])}return B}(B)}}},10979:we=>{"use strict";we.exports=function(f,b){for(var D={},ie=Object.keys(f),se=Array.isArray(b),fe=0;fe<ie.length;fe++){var B=ie[fe],k=f[B];(se?-1!==b.indexOf(B):b(B,k,f))&&(D[B]=k)}return D}},6856:(we,f,b)=>{we=b.nmd(we);var ie="__lodash_hash_undefined__",B=9007199254740991,k="[object Arguments]",L="[object Array]",R="[object Boolean]",A="[object Date]",oe="[object Error]",pe="[object Function]",de="[object Map]",me="[object Number]",_e="[object Object]",I="[object Promise]",M="[object RegExp]",C="[object Set]",H="[object String]",a="[object WeakMap]",m="[object ArrayBuffer]",g="[object DataView]",Ee=/^\[object .+?Constructor\]$/,ye=/^(?:0|[1-9]\d*)$/,ve={};ve["[object Float32Array]"]=ve["[object Float64Array]"]=ve["[object Int8Array]"]=ve["[object Int16Array]"]=ve["[object Int32Array]"]=ve["[object Uint8Array]"]=ve["[object Uint8ClampedArray]"]=ve["[object Uint16Array]"]=ve["[object Uint32Array]"]=!0,ve[k]=ve[L]=ve[m]=ve[R]=ve[g]=ve[A]=ve[oe]=ve[pe]=ve[de]=ve[me]=ve[_e]=ve[M]=ve[C]=ve[H]=ve[a]=!1;var Se="object"==typeof global&&global&&global.Object===Object&&global,Pe="object"==typeof self&&self&&self.Object===Object&&self,Ne=Se||Pe||Function("return this")(),he=f&&!f.nodeType&&f,q=he&&we&&!we.nodeType&&we,ae=q&&q.exports===he,p=ae&&Se.process,G=function(){try{return p&&p.binding&&p.binding("util")}catch{}}(),De=G&&G.isTypedArray;function ct(F,ce){for(var be=-1,Re=null==F?0:F.length;++be<Re;)if(ce(F[be],be,F))return!0;return!1}function Et(F,ce){return F.has(ce)}function et(F){var ce=-1,be=Array(F.size);return F.forEach(function(Re,mt){be[++ce]=[mt,Re]}),be}function Ve(F){var ce=-1,be=Array(F.size);return F.forEach(function(Re){be[++ce]=Re}),be}var F,Xe=Array.prototype,Ce=Object.prototype,Fe=Ne["__core-js_shared__"],Me=Function.prototype.toString,Ue=Ce.hasOwnProperty,ke=(F=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",rt=Ce.toString,ft=RegExp("^"+Me.call(Ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=ae?Ne.Buffer:void 0,ot=Ne.Symbol,st=Ne.Uint8Array,ht=Ce.propertyIsEnumerable,ur=Xe.splice,Yt=ot?ot.toStringTag:void 0,hr=Object.getOwnPropertySymbols,wr=lt?lt.isBuffer:void 0,Or=function tt(F,ce){return function(be){return F(ce(be))}}(Object.keys,Object),yr=Ir(Ne,"DataView"),mr=Ir(Ne,"Map"),wt=Ir(Ne,"Promise"),_t=Ir(Ne,"Set"),At=Ir(Ne,"WeakMap"),It=Ir(Object,"create"),nt=Rr(yr),Lt=Rr(mr),jt=Rr(wt),Mt=Rr(_t),Bt=Rr(At),Ut=ot?ot.prototype:void 0,Nt=Ut?Ut.valueOf:void 0;function vt(F){var ce=-1,be=null==F?0:F.length;for(this.clear();++ce<be;){var Re=F[ce];this.set(Re[0],Re[1])}}function pr(F){var ce=-1,be=null==F?0:F.length;for(this.clear();++ce<be;){var Re=F[ce];this.set(Re[0],Re[1])}}function Dr(F){var ce=-1,be=null==F?0:F.length;for(this.clear();++ce<be;){var Re=F[ce];this.set(Re[0],Re[1])}}function zr(F){var ce=-1,be=null==F?0:F.length;for(this.__data__=new Dr;++ce<be;)this.add(F[ce])}function _r(F){var ce=this.__data__=new pr(F);this.size=ce.size}function Fr(F,ce){for(var be=F.length;be--;)if(qr(F[be][0],ce))return be;return-1}function Lr(F){return null==F?void 0===F?"[object Undefined]":"[object Null]":Yt&&Yt in Object(F)?function pi(F){var ce=Ue.call(F,Yt),be=F[Yt];try{F[Yt]=void 0;var Re=!0}catch{}var mt=rt.call(F);return Re&&(ce?F[Yt]=be:delete F[Yt]),mt}(F):function as(F){return rt.call(F)}(F)}function Yr(F){return Wr(F)&&Lr(F)==k}function Kr(F,ce,be,Re,mt){return F===ce||(null==F||null==ce||!Wr(F)&&!Wr(ce)?F!=F&&ce!=ce:function ci(F,ce,be,Re,mt,$e){var Rt=Vr(F),at=Vr(ce),Jt=Rt?L:gr(F),Dt=at?L:gr(ce),Zt=(Jt=Jt==k?_e:Jt)==_e,Xt=(Dt=Dt==k?_e:Dt)==_e,Vt=Jt==Dt;if(Vt&&Qr(F)){if(!Qr(ce))return!1;Rt=!0,Zt=!1}if(Vt&&!Zt)return $e||($e=new _r),Rt||Dn(F)?yn(F,ce,be,Re,mt,$e):function di(F,ce,be,Re,mt,$e,Rt){switch(be){case g:if(F.byteLength!=ce.byteLength||F.byteOffset!=ce.byteOffset)return!1;F=F.buffer,ce=ce.buffer;case m:return!(F.byteLength!=ce.byteLength||!$e(new st(F),new st(ce)));case R:case A:case me:return qr(+F,+ce);case oe:return F.name==ce.name&&F.message==ce.message;case M:case H:return F==ce+"";case de:var at=et;case C:if(at||(at=Ve),F.size!=ce.size&&!(1&Re))return!1;var Dt=Rt.get(F);if(Dt)return Dt==ce;Re|=2,Rt.set(F,ce);var Zt=yn(at(F),at(ce),Re,mt,$e,Rt);return Rt.delete(F),Zt;case"[object Symbol]":if(Nt)return Nt.call(F)==Nt.call(ce)}return!1}(F,ce,Jt,be,Re,mt,$e);if(!(1&be)){var kt=Zt&&Ue.call(F,"__wrapped__"),er=Xt&&Ue.call(ce,"__wrapped__");if(kt||er){var cr=kt?F.value():F,rr=er?ce.value():ce;return $e||($e=new _r),mt(cr,rr,be,Re,$e)}}return!!Vt&&($e||($e=new _r),function hi(F,ce,be,Re,mt,$e){var Rt=1&be,at=mn(F),Jt=at.length;if(Jt!=mn(ce).length&&!Rt)return!1;for(var Xt=Jt;Xt--;){var Vt=at[Xt];if(!(Rt?Vt in ce:Ue.call(ce,Vt)))return!1}var kt=$e.get(F);if(kt&&$e.get(ce))return kt==ce;var er=!0;$e.set(F,ce),$e.set(ce,F);for(var cr=Rt;++Xt<Jt;){var rr=F[Vt=at[Xt]],xr=ce[Vt];if(Re)var xn=Rt?Re(xr,rr,Vt,ce,F,$e):Re(rr,xr,Vt,F,ce,$e);if(!(void 0===xn?rr===xr||mt(rr,xr,be,Re,$e):xn)){er=!1;break}cr||(cr="constructor"==Vt)}if(er&&!cr){var Gr=F.constructor,jr=ce.constructor;Gr!=jr&&"constructor"in F&&"constructor"in ce&&!("function"==typeof Gr&&Gr instanceof Gr&&"function"==typeof jr&&jr instanceof jr)&&(er=!1)}return $e.delete(F),$e.delete(ce),er}(F,ce,be,Re,mt,$e))}(F,ce,be,Re,Kr,mt))}function yn(F,ce,be,Re,mt,$e){var Rt=1&be,at=F.length,Jt=ce.length;if(at!=Jt&&!(Rt&&Jt>at))return!1;var Dt=$e.get(F);if(Dt&&$e.get(ce))return Dt==ce;var Zt=-1,Xt=!0,Vt=2&be?new zr:void 0;for($e.set(F,ce),$e.set(ce,F);++Zt<at;){var kt=F[Zt],er=ce[Zt];if(Re)var cr=Rt?Re(er,kt,Zt,ce,F,$e):Re(kt,er,Zt,F,ce,$e);if(void 0!==cr){if(cr)continue;Xt=!1;break}if(Vt){if(!ct(ce,function(rr,xr){if(!Et(Vt,xr)&&(kt===rr||mt(kt,rr,be,Re,$e)))return Vt.push(xr)})){Xt=!1;break}}else if(kt!==er&&!mt(kt,er,be,Re,$e)){Xt=!1;break}}return $e.delete(F),$e.delete(ce),Xt}function mn(F){return function ai(F,ce,be){var Re=ce(F);return Vr(F)?Re:function Ke(F,ce){for(var be=-1,Re=ce.length,mt=F.length;++be<Re;)F[mt+be]=ce[be];return F}(Re,be(F))}(F,mi,gi)}function Jr(F,ce){var be=F.__data__;return function _n(F){var ce=typeof F;return"string"==ce||"number"==ce||"symbol"==ce||"boolean"==ce?"__proto__"!==F:null===F}(ce)?be["string"==typeof ce?"string":"hash"]:be.map}function Ir(F,ce){var be=function Ct(F,ce){return null==F?void 0:F[ce]}(F,ce);return function ui(F){return!(!kr(F)||function vn(F){return!!ke&&ke in F}(F))&&(Zr(F)?ft:Ee).test(Rr(F))}(be)?be:void 0}vt.prototype.clear=function $t(){this.__data__=It?It(null):{},this.size=0},vt.prototype.delete=function Ht(F){var ce=this.has(F)&&delete this.__data__[F];return this.size-=ce?1:0,ce},vt.prototype.get=function zt(F){var ce=this.__data__;if(It){var be=ce[F];return be===ie?void 0:be}return Ue.call(ce,F)?ce[F]:void 0},vt.prototype.has=function Kt(F){var ce=this.__data__;return It?void 0!==ce[F]:Ue.call(ce,F)},vt.prototype.set=function Jn(F,ce){var be=this.__data__;return this.size+=this.has(F)?0:1,be[F]=It&&void 0===ce?ie:ce,this},pr.prototype.clear=function Vn(){this.__data__=[],this.size=0},pr.prototype.delete=function Wn(F){var ce=this.__data__,be=Fr(ce,F);return!(be<0||(be==ce.length-1?ce.pop():ur.call(ce,be,1),--this.size,0))},pr.prototype.get=function Gn(F){var ce=this.__data__,be=Fr(ce,F);return be<0?void 0:ce[be][1]},pr.prototype.has=function Yn(F){return Fr(this.__data__,F)>-1},pr.prototype.set=function Xn(F,ce){var be=this.__data__,Re=Fr(be,F);return Re<0?(++this.size,be.push([F,ce])):be[Re][1]=ce,this},Dr.prototype.clear=function qn(){this.size=0,this.__data__={hash:new vt,map:new(mr||pr),string:new vt}},Dr.prototype.delete=function Qn(F){var ce=Jr(this,F).delete(F);return this.size-=ce?1:0,ce},Dr.prototype.get=function Zn(F){return Jr(this,F).get(F)},Dr.prototype.has=function kn(F){return Jr(this,F).has(F)},Dr.prototype.set=function pn(F,ce){var be=Jr(this,F),Re=be.size;return be.set(F,ce),this.size+=be.size==Re?0:1,this},zr.prototype.add=zr.prototype.push=function ei(F){return this.__data__.set(F,ie),this},zr.prototype.has=function ti(F){return this.__data__.has(F)},_r.prototype.clear=function ri(){this.__data__=new pr,this.size=0},_r.prototype.delete=function ni(F){var ce=this.__data__,be=ce.delete(F);return this.size=ce.size,be},_r.prototype.get=function gn(F){return this.__data__.get(F)},_r.prototype.has=function ii(F){return this.__data__.has(F)},_r.prototype.set=function si(F,ce){var be=this.__data__;if(be instanceof pr){var Re=be.__data__;if(!mr||Re.length<199)return Re.push([F,ce]),this.size=++be.size,this;be=this.__data__=new Dr(Re)}return be.set(F,ce),this.size=be.size,this};var gi=hr?function(F){return null==F?[]:(F=Object(F),function Te(F,ce){for(var be=-1,Re=null==F?0:F.length,mt=0,$e=[];++be<Re;){var Rt=F[be];ce(Rt,be,F)&&($e[mt++]=Rt)}return $e}(hr(F),function(ce){return ht.call(F,ce)}))}:function _i(){return[]},gr=Lr;function os(F,ce){return!!(ce=ce??B)&&("number"==typeof F||ye.test(F))&&F>-1&&F%1==0&&F<ce}function Rr(F){if(null!=F){try{return Me.call(F)}catch{}try{return F+""}catch{}}return""}function qr(F,ce){return F===ce||F!=F&&ce!=ce}(yr&&gr(new yr(new ArrayBuffer(1)))!=g||mr&&gr(new mr)!=de||wt&&gr(wt.resolve())!=I||_t&&gr(new _t)!=C||At&&gr(new At)!=a)&&(gr=function(F){var ce=Lr(F),be=ce==_e?F.constructor:void 0,Re=be?Rr(be):"";if(Re)switch(Re){case nt:return g;case Lt:return de;case jt:return I;case Mt:return C;case Bt:return a}return ce});var bn=Yr(function(){return arguments}())?Yr:function(F){return Wr(F)&&Ue.call(F,"callee")&&!ht.call(F,"callee")},Vr=Array.isArray,Qr=wr||function vi(){return!1};function Zr(F){if(!kr(F))return!1;var ce=Lr(F);return ce==pe||"[object GeneratorFunction]"==ce||"[object AsyncFunction]"==ce||"[object Proxy]"==ce}function wn(F){return"number"==typeof F&&F>-1&&F%1==0&&F<=B}function kr(F){var ce=typeof F;return null!=F&&("object"==ce||"function"==ce)}function Wr(F){return null!=F&&"object"==typeof F}var Dn=De?function ut(F){return function(ce){return F(ce)}}(De):function fi(F){return Wr(F)&&wn(F.length)&&!!ve[Lr(F)]};function mi(F){return function En(F){return null!=F&&wn(F.length)&&!Zr(F)}(F)?function oi(F,ce){var be=Vr(F),Re=!be&&bn(F),mt=!be&&!Re&&Qr(F),$e=!be&&!Re&&!mt&&Dn(F),Rt=be||Re||mt||$e,at=Rt?function qe(F,ce){for(var be=-1,Re=Array(F);++be<F;)Re[be]=ce(be);return Re}(F.length,String):[],Jt=at.length;for(var Dt in F)(ce||Ue.call(F,Dt))&&(!Rt||!("length"==Dt||mt&&("offset"==Dt||"parent"==Dt)||$e&&("buffer"==Dt||"byteLength"==Dt||"byteOffset"==Dt)||os(Dt,Jt)))&&at.push(Dt);return at}(F):function li(F){if(!function Xr(F){var ce=F&&F.constructor;return F===("function"==typeof ce&&ce.prototype||Ce)}(F))return Or(F);var ce=[];for(var be in Object(F))Ue.call(F,be)&&"constructor"!=be&&ce.push(be);return ce}(F)}we.exports=function yi(F,ce){return Kr(F,ce)}},71778:we=>{"use strict";function f(D){try{return JSON.stringify(D)}catch{return'"[Circular]"'}}we.exports=function b(D,ie,se){var fe=se&&se.stringify||f;if("object"==typeof D&&null!==D){var k=ie.length+1;if(1===k)return D;var L=new Array(k);L[0]=fe(D);for(var U=1;U<k;U++)L[U]=fe(ie[U]);return L.join(" ")}if("string"!=typeof D)return D;var R=ie.length;if(0===R)return D;for(var A="",oe=0,pe=-1,re=D&&D.length||0,de=0;de<re;){if(37===D.charCodeAt(de)&&de+1<re){switch(pe=pe>-1?pe:0,D.charCodeAt(de+1)){case 100:case 102:if(oe>=R||null==ie[oe])break;pe<de&&(A+=D.slice(pe,de)),A+=Number(ie[oe]),pe=de+2,de++;break;case 105:if(oe>=R||null==ie[oe])break;pe<de&&(A+=D.slice(pe,de)),A+=Math.floor(Number(ie[oe])),pe=de+2,de++;break;case 79:case 111:case 106:if(oe>=R||void 0===ie[oe])break;pe<de&&(A+=D.slice(pe,de));var me=typeof ie[oe];if("string"===me){A+="'"+ie[oe]+"'",pe=de+2,de++;break}if("function"===me){A+=ie[oe].name||"<anonymous>",pe=de+2,de++;break}A+=fe(ie[oe]),pe=de+2,de++;break;case 115:if(oe>=R)break;pe<de&&(A+=D.slice(pe,de)),A+=String(ie[oe]),pe=de+2,de++;break;case 37:pe<de&&(A+=D.slice(pe,de)),A+="%",pe=de+2,de++,oe--}++oe}++de}return-1===pe?D:(pe<re&&(A+=D.slice(pe)),A)}},28898:(we,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.safeJsonParse=function b(ie){if("string"!=typeof ie)throw new Error("Cannot safe json parse value of type "+typeof ie);try{return JSON.parse(ie)}catch{return ie}},f.safeJsonStringify=function D(ie){return"string"==typeof ie?ie:JSON.stringify(ie,(se,fe)=>typeof fe>"u"?null:fe)}},95967:we=>{"use strict";we.exports=(f,b)=>{if("string"!=typeof f||"string"!=typeof b)throw new TypeError("Expected the arguments to be of type `string`");if(""===b)return[f];const D=f.indexOf(b);return-1===D?[f]:[f.slice(0,D),f.slice(D+b.length)]}},82915:we=>{"use strict";we.exports=f=>encodeURIComponent(f).replace(/[!'()*]/g,b=>`%${b.charCodeAt(0).toString(16).toUpperCase()}`)},44813:we=>{"use strict";we.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},33172:(we,f,b)=>{"use strict";b.r(f),b.d(f,{__assign:()=>se,__asyncDelegator:()=>I,__asyncGenerator:()=>_e,__asyncValues:()=>j,__await:()=>x,__awaiter:()=>U,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>u,__createBinding:()=>A,__decorate:()=>B,__exportStar:()=>oe,__extends:()=>ie,__generator:()=>R,__importDefault:()=>H,__importStar:()=>C,__makeTemplateObject:()=>M,__metadata:()=>L,__param:()=>k,__read:()=>re,__rest:()=>fe,__spread:()=>de,__spreadArrays:()=>me,__values:()=>pe});var D=function(a,m){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var _ in w)w.hasOwnProperty(_)&&(g[_]=w[_])})(a,m)};function ie(a,m){function g(){this.constructor=a}D(a,m),a.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}var se=function(){return se=Object.assign||function(m){for(var g,w=1,_=arguments.length;w<_;w++)for(var h in g=arguments[w])Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h]);return m},se.apply(this,arguments)};function fe(a,m){var g={};for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&m.indexOf(w)<0&&(g[w]=a[w]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(w=Object.getOwnPropertySymbols(a);_<w.length;_++)m.indexOf(w[_])<0&&Object.prototype.propertyIsEnumerable.call(a,w[_])&&(g[w[_]]=a[w[_]])}return g}function B(a,m,g,w){var E,_=arguments.length,h=_<3?m:null===w?w=Object.getOwnPropertyDescriptor(m,g):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(a,m,g,w);else for(var O=a.length-1;O>=0;O--)(E=a[O])&&(h=(_<3?E(h):_>3?E(m,g,h):E(m,g))||h);return _>3&&h&&Object.defineProperty(m,g,h),h}function k(a,m){return function(g,w){m(g,w,a)}}function L(a,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,m)}function U(a,m,g,w){return new(g||(g=Promise))(function(h,E){function O(K){try{v(w.next(K))}catch(le){E(le)}}function N(K){try{v(w.throw(K))}catch(le){E(le)}}function v(K){K.done?h(K.value):function _(h){return h instanceof g?h:new g(function(E){E(h)})}(K.value).then(O,N)}v((w=w.apply(a,m||[])).next())})}function R(a,m){var w,_,h,E,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return E={next:O(0),throw:O(1),return:O(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function O(v){return function(K){return function N(v){if(w)throw new TypeError("Generator is already executing.");for(;g;)try{if(w=1,_&&(h=2&v[0]?_.return:v[0]?_.throw||((h=_.return)&&h.call(_),0):_.next)&&!(h=h.call(_,v[1])).done)return h;switch(_=0,h&&(v=[2&v[0],h.value]),v[0]){case 0:case 1:h=v;break;case 4:return g.label++,{value:v[1],done:!1};case 5:g.label++,_=v[1],v=[0];continue;case 7:v=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(6===v[0]||2===v[0])){g=0;continue}if(3===v[0]&&(!h||v[1]>h[0]&&v[1]<h[3])){g.label=v[1];break}if(6===v[0]&&g.label<h[1]){g.label=h[1],h=v;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(v);break}h[2]&&g.ops.pop(),g.trys.pop();continue}v=m.call(a,g)}catch(K){v=[6,K],_=0}finally{w=h=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,K])}}}function A(a,m,g,w){void 0===w&&(w=g),a[w]=m[g]}function oe(a,m){for(var g in a)"default"!==g&&!m.hasOwnProperty(g)&&(m[g]=a[g])}function pe(a){var m="function"==typeof Symbol&&Symbol.iterator,g=m&&a[m],w=0;if(g)return g.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&w>=a.length&&(a=void 0),{value:a&&a[w++],done:!a}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(a,m){var g="function"==typeof Symbol&&a[Symbol.iterator];if(!g)return a;var _,E,w=g.call(a),h=[];try{for(;(void 0===m||m-- >0)&&!(_=w.next()).done;)h.push(_.value)}catch(O){E={error:O}}finally{try{_&&!_.done&&(g=w.return)&&g.call(w)}finally{if(E)throw E.error}}return h}function de(){for(var a=[],m=0;m<arguments.length;m++)a=a.concat(re(arguments[m]));return a}function me(){for(var a=0,m=0,g=arguments.length;m<g;m++)a+=arguments[m].length;var w=Array(a),_=0;for(m=0;m<g;m++)for(var h=arguments[m],E=0,O=h.length;E<O;E++,_++)w[_]=h[E];return w}function x(a){return this instanceof x?(this.v=a,this):new x(a)}function _e(a,m,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,w=g.apply(a,m||[]),h=[];return _={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_;function E(V){w[V]&&(_[V]=function(Ee){return new Promise(function(ye,ve){h.push([V,Ee,ye,ve])>1||O(V,Ee)})})}function O(V,Ee){try{!function N(V){V.value instanceof x?Promise.resolve(V.value.v).then(v,K):le(h[0][2],V)}(w[V](Ee))}catch(ye){le(h[0][3],ye)}}function v(V){O("next",V)}function K(V){O("throw",V)}function le(V,Ee){V(Ee),h.shift(),h.length&&O(h[0][0],h[0][1])}}function I(a){var m,g;return m={},w("next"),w("throw",function(_){throw _}),w("return"),m[Symbol.iterator]=function(){return this},m;function w(_,h){m[_]=a[_]?function(E){return(g=!g)?{value:x(a[_](E)),done:"return"===_}:h?h(E):E}:h}}function j(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,m=a[Symbol.asyncIterator];return m?m.call(a):(a=pe(a),g={},w("next"),w("throw"),w("return"),g[Symbol.asyncIterator]=function(){return this},g);function w(h){g[h]=a[h]&&function(E){return new Promise(function(O,N){!function _(h,E,O,N){Promise.resolve(N).then(function(v){h({value:v,done:O})},E)}(O,N,(E=a[h](E)).done,E.value)})}}}function M(a,m){return Object.defineProperty?Object.defineProperty(a,"raw",{value:m}):a.raw=m,a}function C(a){if(a&&a.__esModule)return a;var m={};if(null!=a)for(var g in a)Object.hasOwnProperty.call(a,g)&&(m[g]=a[g]);return m.default=a,m}function H(a){return a&&a.__esModule?a:{default:a}}function T(a,m){if(!m.has(a))throw new TypeError("attempted to get private field on non-instance");return m.get(a)}function u(a,m,g){if(!m.has(a))throw new TypeError("attempted to set private field on non-instance");return m.set(a,g),g}},83411:(we,f,b)=>{"use strict";b.r(f),b.d(f,{__assign:()=>se,__asyncDelegator:()=>I,__asyncGenerator:()=>_e,__asyncValues:()=>j,__await:()=>x,__awaiter:()=>U,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>u,__createBinding:()=>A,__decorate:()=>B,__exportStar:()=>oe,__extends:()=>ie,__generator:()=>R,__importDefault:()=>H,__importStar:()=>C,__makeTemplateObject:()=>M,__metadata:()=>L,__param:()=>k,__read:()=>re,__rest:()=>fe,__spread:()=>de,__spreadArrays:()=>me,__values:()=>pe});var D=function(a,m){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var _ in w)w.hasOwnProperty(_)&&(g[_]=w[_])})(a,m)};function ie(a,m){function g(){this.constructor=a}D(a,m),a.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}var se=function(){return se=Object.assign||function(m){for(var g,w=1,_=arguments.length;w<_;w++)for(var h in g=arguments[w])Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h]);return m},se.apply(this,arguments)};function fe(a,m){var g={};for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&m.indexOf(w)<0&&(g[w]=a[w]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(w=Object.getOwnPropertySymbols(a);_<w.length;_++)m.indexOf(w[_])<0&&Object.prototype.propertyIsEnumerable.call(a,w[_])&&(g[w[_]]=a[w[_]])}return g}function B(a,m,g,w){var E,_=arguments.length,h=_<3?m:null===w?w=Object.getOwnPropertyDescriptor(m,g):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(a,m,g,w);else for(var O=a.length-1;O>=0;O--)(E=a[O])&&(h=(_<3?E(h):_>3?E(m,g,h):E(m,g))||h);return _>3&&h&&Object.defineProperty(m,g,h),h}function k(a,m){return function(g,w){m(g,w,a)}}function L(a,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,m)}function U(a,m,g,w){return new(g||(g=Promise))(function(h,E){function O(K){try{v(w.next(K))}catch(le){E(le)}}function N(K){try{v(w.throw(K))}catch(le){E(le)}}function v(K){K.done?h(K.value):function _(h){return h instanceof g?h:new g(function(E){E(h)})}(K.value).then(O,N)}v((w=w.apply(a,m||[])).next())})}function R(a,m){var w,_,h,E,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return E={next:O(0),throw:O(1),return:O(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function O(v){return function(K){return function N(v){if(w)throw new TypeError("Generator is already executing.");for(;g;)try{if(w=1,_&&(h=2&v[0]?_.return:v[0]?_.throw||((h=_.return)&&h.call(_),0):_.next)&&!(h=h.call(_,v[1])).done)return h;switch(_=0,h&&(v=[2&v[0],h.value]),v[0]){case 0:case 1:h=v;break;case 4:return g.label++,{value:v[1],done:!1};case 5:g.label++,_=v[1],v=[0];continue;case 7:v=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(6===v[0]||2===v[0])){g=0;continue}if(3===v[0]&&(!h||v[1]>h[0]&&v[1]<h[3])){g.label=v[1];break}if(6===v[0]&&g.label<h[1]){g.label=h[1],h=v;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(v);break}h[2]&&g.ops.pop(),g.trys.pop();continue}v=m.call(a,g)}catch(K){v=[6,K],_=0}finally{w=h=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,K])}}}function A(a,m,g,w){void 0===w&&(w=g),a[w]=m[g]}function oe(a,m){for(var g in a)"default"!==g&&!m.hasOwnProperty(g)&&(m[g]=a[g])}function pe(a){var m="function"==typeof Symbol&&Symbol.iterator,g=m&&a[m],w=0;if(g)return g.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&w>=a.length&&(a=void 0),{value:a&&a[w++],done:!a}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(a,m){var g="function"==typeof Symbol&&a[Symbol.iterator];if(!g)return a;var _,E,w=g.call(a),h=[];try{for(;(void 0===m||m-- >0)&&!(_=w.next()).done;)h.push(_.value)}catch(O){E={error:O}}finally{try{_&&!_.done&&(g=w.return)&&g.call(w)}finally{if(E)throw E.error}}return h}function de(){for(var a=[],m=0;m<arguments.length;m++)a=a.concat(re(arguments[m]));return a}function me(){for(var a=0,m=0,g=arguments.length;m<g;m++)a+=arguments[m].length;var w=Array(a),_=0;for(m=0;m<g;m++)for(var h=arguments[m],E=0,O=h.length;E<O;E++,_++)w[_]=h[E];return w}function x(a){return this instanceof x?(this.v=a,this):new x(a)}function _e(a,m,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,w=g.apply(a,m||[]),h=[];return _={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_;function E(V){w[V]&&(_[V]=function(Ee){return new Promise(function(ye,ve){h.push([V,Ee,ye,ve])>1||O(V,Ee)})})}function O(V,Ee){try{!function N(V){V.value instanceof x?Promise.resolve(V.value.v).then(v,K):le(h[0][2],V)}(w[V](Ee))}catch(ye){le(h[0][3],ye)}}function v(V){O("next",V)}function K(V){O("throw",V)}function le(V,Ee){V(Ee),h.shift(),h.length&&O(h[0][0],h[0][1])}}function I(a){var m,g;return m={},w("next"),w("throw",function(_){throw _}),w("return"),m[Symbol.iterator]=function(){return this},m;function w(_,h){m[_]=a[_]?function(E){return(g=!g)?{value:x(a[_](E)),done:"return"===_}:h?h(E):E}:h}}function j(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,m=a[Symbol.asyncIterator];return m?m.call(a):(a=pe(a),g={},w("next"),w("throw"),w("return"),g[Symbol.asyncIterator]=function(){return this},g);function w(h){g[h]=a[h]&&function(E){return new Promise(function(O,N){!function _(h,E,O,N){Promise.resolve(N).then(function(v){h({value:v,done:O})},E)}(O,N,(E=a[h](E)).done,E.value)})}}}function M(a,m){return Object.defineProperty?Object.defineProperty(a,"raw",{value:m}):a.raw=m,a}function C(a){if(a&&a.__esModule)return a;var m={};if(null!=a)for(var g in a)Object.hasOwnProperty.call(a,g)&&(m[g]=a[g]);return m.default=a,m}function H(a){return a&&a.__esModule?a:{default:a}}function T(a,m){if(!m.has(a))throw new TypeError("attempted to get private field on non-instance");return m.get(a)}function u(a,m,g){if(!m.has(a))throw new TypeError("attempted to set private field on non-instance");return m.set(a,g),g}},57436:(we,f,b)=>{"use strict";b.r(f),b.d(f,{__assign:()=>se,__asyncDelegator:()=>I,__asyncGenerator:()=>_e,__asyncValues:()=>j,__await:()=>x,__awaiter:()=>U,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>u,__createBinding:()=>A,__decorate:()=>B,__exportStar:()=>oe,__extends:()=>ie,__generator:()=>R,__importDefault:()=>H,__importStar:()=>C,__makeTemplateObject:()=>M,__metadata:()=>L,__param:()=>k,__read:()=>re,__rest:()=>fe,__spread:()=>de,__spreadArrays:()=>me,__values:()=>pe});var D=function(a,m){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var _ in w)w.hasOwnProperty(_)&&(g[_]=w[_])})(a,m)};function ie(a,m){function g(){this.constructor=a}D(a,m),a.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}var se=function(){return se=Object.assign||function(m){for(var g,w=1,_=arguments.length;w<_;w++)for(var h in g=arguments[w])Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h]);return m},se.apply(this,arguments)};function fe(a,m){var g={};for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&m.indexOf(w)<0&&(g[w]=a[w]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(w=Object.getOwnPropertySymbols(a);_<w.length;_++)m.indexOf(w[_])<0&&Object.prototype.propertyIsEnumerable.call(a,w[_])&&(g[w[_]]=a[w[_]])}return g}function B(a,m,g,w){var E,_=arguments.length,h=_<3?m:null===w?w=Object.getOwnPropertyDescriptor(m,g):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(a,m,g,w);else for(var O=a.length-1;O>=0;O--)(E=a[O])&&(h=(_<3?E(h):_>3?E(m,g,h):E(m,g))||h);return _>3&&h&&Object.defineProperty(m,g,h),h}function k(a,m){return function(g,w){m(g,w,a)}}function L(a,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,m)}function U(a,m,g,w){return new(g||(g=Promise))(function(h,E){function O(K){try{v(w.next(K))}catch(le){E(le)}}function N(K){try{v(w.throw(K))}catch(le){E(le)}}function v(K){K.done?h(K.value):function _(h){return h instanceof g?h:new g(function(E){E(h)})}(K.value).then(O,N)}v((w=w.apply(a,m||[])).next())})}function R(a,m){var w,_,h,E,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return E={next:O(0),throw:O(1),return:O(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function O(v){return function(K){return function N(v){if(w)throw new TypeError("Generator is already executing.");for(;g;)try{if(w=1,_&&(h=2&v[0]?_.return:v[0]?_.throw||((h=_.return)&&h.call(_),0):_.next)&&!(h=h.call(_,v[1])).done)return h;switch(_=0,h&&(v=[2&v[0],h.value]),v[0]){case 0:case 1:h=v;break;case 4:return g.label++,{value:v[1],done:!1};case 5:g.label++,_=v[1],v=[0];continue;case 7:v=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(6===v[0]||2===v[0])){g=0;continue}if(3===v[0]&&(!h||v[1]>h[0]&&v[1]<h[3])){g.label=v[1];break}if(6===v[0]&&g.label<h[1]){g.label=h[1],h=v;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(v);break}h[2]&&g.ops.pop(),g.trys.pop();continue}v=m.call(a,g)}catch(K){v=[6,K],_=0}finally{w=h=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,K])}}}function A(a,m,g,w){void 0===w&&(w=g),a[w]=m[g]}function oe(a,m){for(var g in a)"default"!==g&&!m.hasOwnProperty(g)&&(m[g]=a[g])}function pe(a){var m="function"==typeof Symbol&&Symbol.iterator,g=m&&a[m],w=0;if(g)return g.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&w>=a.length&&(a=void 0),{value:a&&a[w++],done:!a}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(a,m){var g="function"==typeof Symbol&&a[Symbol.iterator];if(!g)return a;var _,E,w=g.call(a),h=[];try{for(;(void 0===m||m-- >0)&&!(_=w.next()).done;)h.push(_.value)}catch(O){E={error:O}}finally{try{_&&!_.done&&(g=w.return)&&g.call(w)}finally{if(E)throw E.error}}return h}function de(){for(var a=[],m=0;m<arguments.length;m++)a=a.concat(re(arguments[m]));return a}function me(){for(var a=0,m=0,g=arguments.length;m<g;m++)a+=arguments[m].length;var w=Array(a),_=0;for(m=0;m<g;m++)for(var h=arguments[m],E=0,O=h.length;E<O;E++,_++)w[_]=h[E];return w}function x(a){return this instanceof x?(this.v=a,this):new x(a)}function _e(a,m,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,w=g.apply(a,m||[]),h=[];return _={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_;function E(V){w[V]&&(_[V]=function(Ee){return new Promise(function(ye,ve){h.push([V,Ee,ye,ve])>1||O(V,Ee)})})}function O(V,Ee){try{!function N(V){V.value instanceof x?Promise.resolve(V.value.v).then(v,K):le(h[0][2],V)}(w[V](Ee))}catch(ye){le(h[0][3],ye)}}function v(V){O("next",V)}function K(V){O("throw",V)}function le(V,Ee){V(Ee),h.shift(),h.length&&O(h[0][0],h[0][1])}}function I(a){var m,g;return m={},w("next"),w("throw",function(_){throw _}),w("return"),m[Symbol.iterator]=function(){return this},m;function w(_,h){m[_]=a[_]?function(E){return(g=!g)?{value:x(a[_](E)),done:"return"===_}:h?h(E):E}:h}}function j(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,m=a[Symbol.asyncIterator];return m?m.call(a):(a=pe(a),g={},w("next"),w("throw"),w("return"),g[Symbol.asyncIterator]=function(){return this},g);function w(h){g[h]=a[h]&&function(E){return new Promise(function(O,N){!function _(h,E,O,N){Promise.resolve(N).then(function(v){h({value:v,done:O})},E)}(O,N,(E=a[h](E)).done,E.value)})}}}function M(a,m){return Object.defineProperty?Object.defineProperty(a,"raw",{value:m}):a.raw=m,a}function C(a){if(a&&a.__esModule)return a;var m={};if(null!=a)for(var g in a)Object.hasOwnProperty.call(a,g)&&(m[g]=a[g]);return m.default=a,m}function H(a){return a&&a.__esModule?a:{default:a}}function T(a,m){if(!m.has(a))throw new TypeError("attempted to get private field on non-instance");return m.get(a)}function u(a,m,g){if(!m.has(a))throw new TypeError("attempted to set private field on non-instance");return m.set(a,g),g}},17978:(we,f,b)=>{"use strict";b.r(f),b.d(f,{__assign:()=>se,__asyncDelegator:()=>I,__asyncGenerator:()=>_e,__asyncValues:()=>j,__await:()=>x,__awaiter:()=>U,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>u,__createBinding:()=>A,__decorate:()=>B,__exportStar:()=>oe,__extends:()=>ie,__generator:()=>R,__importDefault:()=>H,__importStar:()=>C,__makeTemplateObject:()=>M,__metadata:()=>L,__param:()=>k,__read:()=>re,__rest:()=>fe,__spread:()=>de,__spreadArrays:()=>me,__values:()=>pe});var D=function(a,m){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var _ in w)w.hasOwnProperty(_)&&(g[_]=w[_])})(a,m)};function ie(a,m){function g(){this.constructor=a}D(a,m),a.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}var se=function(){return se=Object.assign||function(m){for(var g,w=1,_=arguments.length;w<_;w++)for(var h in g=arguments[w])Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h]);return m},se.apply(this,arguments)};function fe(a,m){var g={};for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&m.indexOf(w)<0&&(g[w]=a[w]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(w=Object.getOwnPropertySymbols(a);_<w.length;_++)m.indexOf(w[_])<0&&Object.prototype.propertyIsEnumerable.call(a,w[_])&&(g[w[_]]=a[w[_]])}return g}function B(a,m,g,w){var E,_=arguments.length,h=_<3?m:null===w?w=Object.getOwnPropertyDescriptor(m,g):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(a,m,g,w);else for(var O=a.length-1;O>=0;O--)(E=a[O])&&(h=(_<3?E(h):_>3?E(m,g,h):E(m,g))||h);return _>3&&h&&Object.defineProperty(m,g,h),h}function k(a,m){return function(g,w){m(g,w,a)}}function L(a,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,m)}function U(a,m,g,w){return new(g||(g=Promise))(function(h,E){function O(K){try{v(w.next(K))}catch(le){E(le)}}function N(K){try{v(w.throw(K))}catch(le){E(le)}}function v(K){K.done?h(K.value):function _(h){return h instanceof g?h:new g(function(E){E(h)})}(K.value).then(O,N)}v((w=w.apply(a,m||[])).next())})}function R(a,m){var w,_,h,E,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return E={next:O(0),throw:O(1),return:O(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function O(v){return function(K){return function N(v){if(w)throw new TypeError("Generator is already executing.");for(;g;)try{if(w=1,_&&(h=2&v[0]?_.return:v[0]?_.throw||((h=_.return)&&h.call(_),0):_.next)&&!(h=h.call(_,v[1])).done)return h;switch(_=0,h&&(v=[2&v[0],h.value]),v[0]){case 0:case 1:h=v;break;case 4:return g.label++,{value:v[1],done:!1};case 5:g.label++,_=v[1],v=[0];continue;case 7:v=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(6===v[0]||2===v[0])){g=0;continue}if(3===v[0]&&(!h||v[1]>h[0]&&v[1]<h[3])){g.label=v[1];break}if(6===v[0]&&g.label<h[1]){g.label=h[1],h=v;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(v);break}h[2]&&g.ops.pop(),g.trys.pop();continue}v=m.call(a,g)}catch(K){v=[6,K],_=0}finally{w=h=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,K])}}}function A(a,m,g,w){void 0===w&&(w=g),a[w]=m[g]}function oe(a,m){for(var g in a)"default"!==g&&!m.hasOwnProperty(g)&&(m[g]=a[g])}function pe(a){var m="function"==typeof Symbol&&Symbol.iterator,g=m&&a[m],w=0;if(g)return g.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&w>=a.length&&(a=void 0),{value:a&&a[w++],done:!a}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(a,m){var g="function"==typeof Symbol&&a[Symbol.iterator];if(!g)return a;var _,E,w=g.call(a),h=[];try{for(;(void 0===m||m-- >0)&&!(_=w.next()).done;)h.push(_.value)}catch(O){E={error:O}}finally{try{_&&!_.done&&(g=w.return)&&g.call(w)}finally{if(E)throw E.error}}return h}function de(){for(var a=[],m=0;m<arguments.length;m++)a=a.concat(re(arguments[m]));return a}function me(){for(var a=0,m=0,g=arguments.length;m<g;m++)a+=arguments[m].length;var w=Array(a),_=0;for(m=0;m<g;m++)for(var h=arguments[m],E=0,O=h.length;E<O;E++,_++)w[_]=h[E];return w}function x(a){return this instanceof x?(this.v=a,this):new x(a)}function _e(a,m,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,w=g.apply(a,m||[]),h=[];return _={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_;function E(V){w[V]&&(_[V]=function(Ee){return new Promise(function(ye,ve){h.push([V,Ee,ye,ve])>1||O(V,Ee)})})}function O(V,Ee){try{!function N(V){V.value instanceof x?Promise.resolve(V.value.v).then(v,K):le(h[0][2],V)}(w[V](Ee))}catch(ye){le(h[0][3],ye)}}function v(V){O("next",V)}function K(V){O("throw",V)}function le(V,Ee){V(Ee),h.shift(),h.length&&O(h[0][0],h[0][1])}}function I(a){var m,g;return m={},w("next"),w("throw",function(_){throw _}),w("return"),m[Symbol.iterator]=function(){return this},m;function w(_,h){m[_]=a[_]?function(E){return(g=!g)?{value:x(a[_](E)),done:"return"===_}:h?h(E):E}:h}}function j(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,m=a[Symbol.asyncIterator];return m?m.call(a):(a=pe(a),g={},w("next"),w("throw"),w("return"),g[Symbol.asyncIterator]=function(){return this},g);function w(h){g[h]=a[h]&&function(E){return new Promise(function(O,N){!function _(h,E,O,N){Promise.resolve(N).then(function(v){h({value:v,done:O})},E)}(O,N,(E=a[h](E)).done,E.value)})}}}function M(a,m){return Object.defineProperty?Object.defineProperty(a,"raw",{value:m}):a.raw=m,a}function C(a){if(a&&a.__esModule)return a;var m={};if(null!=a)for(var g in a)Object.hasOwnProperty.call(a,g)&&(m[g]=a[g]);return m.default=a,m}function H(a){return a&&a.__esModule?a:{default:a}}function T(a,m){if(!m.has(a))throw new TypeError("attempted to get private field on non-instance");return m.get(a)}function u(a,m,g){if(!m.has(a))throw new TypeError("attempted to set private field on non-instance");return m.set(a,g),g}},80017:(we,f,b)=>{"use strict";b.r(f),b.d(f,{__assign:()=>se,__asyncDelegator:()=>I,__asyncGenerator:()=>_e,__asyncValues:()=>j,__await:()=>x,__awaiter:()=>U,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>u,__createBinding:()=>A,__decorate:()=>B,__exportStar:()=>oe,__extends:()=>ie,__generator:()=>R,__importDefault:()=>H,__importStar:()=>C,__makeTemplateObject:()=>M,__metadata:()=>L,__param:()=>k,__read:()=>re,__rest:()=>fe,__spread:()=>de,__spreadArrays:()=>me,__values:()=>pe});var D=function(a,m){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var _ in w)w.hasOwnProperty(_)&&(g[_]=w[_])})(a,m)};function ie(a,m){function g(){this.constructor=a}D(a,m),a.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}var se=function(){return se=Object.assign||function(m){for(var g,w=1,_=arguments.length;w<_;w++)for(var h in g=arguments[w])Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h]);return m},se.apply(this,arguments)};function fe(a,m){var g={};for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&m.indexOf(w)<0&&(g[w]=a[w]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(w=Object.getOwnPropertySymbols(a);_<w.length;_++)m.indexOf(w[_])<0&&Object.prototype.propertyIsEnumerable.call(a,w[_])&&(g[w[_]]=a[w[_]])}return g}function B(a,m,g,w){var E,_=arguments.length,h=_<3?m:null===w?w=Object.getOwnPropertyDescriptor(m,g):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(a,m,g,w);else for(var O=a.length-1;O>=0;O--)(E=a[O])&&(h=(_<3?E(h):_>3?E(m,g,h):E(m,g))||h);return _>3&&h&&Object.defineProperty(m,g,h),h}function k(a,m){return function(g,w){m(g,w,a)}}function L(a,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,m)}function U(a,m,g,w){return new(g||(g=Promise))(function(h,E){function O(K){try{v(w.next(K))}catch(le){E(le)}}function N(K){try{v(w.throw(K))}catch(le){E(le)}}function v(K){K.done?h(K.value):function _(h){return h instanceof g?h:new g(function(E){E(h)})}(K.value).then(O,N)}v((w=w.apply(a,m||[])).next())})}function R(a,m){var w,_,h,E,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return E={next:O(0),throw:O(1),return:O(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function O(v){return function(K){return function N(v){if(w)throw new TypeError("Generator is already executing.");for(;g;)try{if(w=1,_&&(h=2&v[0]?_.return:v[0]?_.throw||((h=_.return)&&h.call(_),0):_.next)&&!(h=h.call(_,v[1])).done)return h;switch(_=0,h&&(v=[2&v[0],h.value]),v[0]){case 0:case 1:h=v;break;case 4:return g.label++,{value:v[1],done:!1};case 5:g.label++,_=v[1],v=[0];continue;case 7:v=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(6===v[0]||2===v[0])){g=0;continue}if(3===v[0]&&(!h||v[1]>h[0]&&v[1]<h[3])){g.label=v[1];break}if(6===v[0]&&g.label<h[1]){g.label=h[1],h=v;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(v);break}h[2]&&g.ops.pop(),g.trys.pop();continue}v=m.call(a,g)}catch(K){v=[6,K],_=0}finally{w=h=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,K])}}}function A(a,m,g,w){void 0===w&&(w=g),a[w]=m[g]}function oe(a,m){for(var g in a)"default"!==g&&!m.hasOwnProperty(g)&&(m[g]=a[g])}function pe(a){var m="function"==typeof Symbol&&Symbol.iterator,g=m&&a[m],w=0;if(g)return g.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&w>=a.length&&(a=void 0),{value:a&&a[w++],done:!a}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(a,m){var g="function"==typeof Symbol&&a[Symbol.iterator];if(!g)return a;var _,E,w=g.call(a),h=[];try{for(;(void 0===m||m-- >0)&&!(_=w.next()).done;)h.push(_.value)}catch(O){E={error:O}}finally{try{_&&!_.done&&(g=w.return)&&g.call(w)}finally{if(E)throw E.error}}return h}function de(){for(var a=[],m=0;m<arguments.length;m++)a=a.concat(re(arguments[m]));return a}function me(){for(var a=0,m=0,g=arguments.length;m<g;m++)a+=arguments[m].length;var w=Array(a),_=0;for(m=0;m<g;m++)for(var h=arguments[m],E=0,O=h.length;E<O;E++,_++)w[_]=h[E];return w}function x(a){return this instanceof x?(this.v=a,this):new x(a)}function _e(a,m,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,w=g.apply(a,m||[]),h=[];return _={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_;function E(V){w[V]&&(_[V]=function(Ee){return new Promise(function(ye,ve){h.push([V,Ee,ye,ve])>1||O(V,Ee)})})}function O(V,Ee){try{!function N(V){V.value instanceof x?Promise.resolve(V.value.v).then(v,K):le(h[0][2],V)}(w[V](Ee))}catch(ye){le(h[0][3],ye)}}function v(V){O("next",V)}function K(V){O("throw",V)}function le(V,Ee){V(Ee),h.shift(),h.length&&O(h[0][0],h[0][1])}}function I(a){var m,g;return m={},w("next"),w("throw",function(_){throw _}),w("return"),m[Symbol.iterator]=function(){return this},m;function w(_,h){m[_]=a[_]?function(E){return(g=!g)?{value:x(a[_](E)),done:"return"===_}:h?h(E):E}:h}}function j(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,m=a[Symbol.asyncIterator];return m?m.call(a):(a=pe(a),g={},w("next"),w("throw"),w("return"),g[Symbol.asyncIterator]=function(){return this},g);function w(h){g[h]=a[h]&&function(E){return new Promise(function(O,N){!function _(h,E,O,N){Promise.resolve(N).then(function(v){h({value:v,done:O})},E)}(O,N,(E=a[h](E)).done,E.value)})}}}function M(a,m){return Object.defineProperty?Object.defineProperty(a,"raw",{value:m}):a.raw=m,a}function C(a){if(a&&a.__esModule)return a;var m={};if(null!=a)for(var g in a)Object.hasOwnProperty.call(a,g)&&(m[g]=a[g]);return m.default=a,m}function H(a){return a&&a.__esModule?a:{default:a}}function T(a,m){if(!m.has(a))throw new TypeError("attempted to get private field on non-instance");return m.get(a)}function u(a,m,g){if(!m.has(a))throw new TypeError("attempted to set private field on non-instance");return m.set(a,g),g}},22694:(we,f,b)=>{"use strict";const D=b(71778);we.exports=B;const ie=function H(){function T(u){return typeof u<"u"&&u}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}().console||{},se={mapHttpRequest:me,mapHttpResponse:me,wrapRequestSerializer:x,wrapResponseSerializer:x,wrapErrorSerializer:x,req:me,res:me,err:function re(T){const u={type:T.constructor.name,msg:T.message,stack:T.stack};for(const a in T)void 0===u[a]&&(u[a]=T[a]);return u}};function B(T){(T=T||{}).browser=T.browser||{};const u=T.browser.transmit;if(u&&"function"!=typeof u.send)throw Error("pino: transmit option must have a send function");const a=T.browser.write||ie;T.browser.write&&(T.browser.asObject=!0);const m=T.serializers||{},g=function fe(T,u){return Array.isArray(T)?T.filter(function(m){return"!stdSerializers.err"!==m}):!0===T&&Object.keys(u)}(T.browser.serialize,m);let w=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(w=!1),"function"==typeof a&&(a.error=a.fatal=a.warn=a.info=a.debug=a.trace=a),!1===T.enabled&&(T.level="silent");const h=T.level||"info",E=Object.create(a);E.log||(E.log=_e),Object.defineProperty(E,"levelVal",{get:function N(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(E,"level",{get:function v(){return this._level},set:function K(V){if("silent"!==V&&!this.levels.values[V])throw Error("unknown level "+V);this._level=V,k(O,E,"error","log"),k(O,E,"fatal","error"),k(O,E,"warn","error"),k(O,E,"info","log"),k(O,E,"debug","log"),k(O,E,"trace","log")}});const O={transmit:u,serialize:g,asObject:T.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:de(T)};return E.levels=B.levels,E.level=h,E.setMaxListeners=E.getMaxListeners=E.emit=E.addListener=E.on=E.prependListener=E.once=E.prependOnceListener=E.removeListener=E.removeAllListeners=E.listeners=E.listenerCount=E.eventNames=E.write=E.flush=_e,E.serializers=m,E._serialize=g,E._stdErrSerialize=w,E.child=function le(V,Ee){if(!V)throw new Error("missing bindings for child Pino");Ee=Ee||{},g&&V.serializers&&(Ee.serializers=V.serializers);const ye=Ee.serializers;if(g&&ye){var ve=Object.assign({},m,ye),Se=!0===T.browser.serialize?Object.keys(ve):g;delete V.serializers,R([V],Se,ve,this._stdErrSerialize)}function Pe(Ne){this._childLevel=1+(0|Ne._childLevel),this.error=A(Ne,V,"error"),this.fatal=A(Ne,V,"fatal"),this.warn=A(Ne,V,"warn"),this.info=A(Ne,V,"info"),this.debug=A(Ne,V,"debug"),this.trace=A(Ne,V,"trace"),ve&&(this.serializers=ve,this._serialize=Se),u&&(this._logEvent=pe([].concat(Ne._logEvent.bindings,V)))}return Pe.prototype=this,new Pe(this)},u&&(E._logEvent=pe()),E}function k(T,u,a,m){const g=Object.getPrototypeOf(u);u[a]=u.levelVal>u.levels.values[a]?_e:g[a]?g[a]:ie[a]||ie[m]||_e,function L(T,u,a){!T.transmit&&u[a]===_e||(u[a]=function(m){return function(){const w=T.timestamp(),_=new Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ie?ie:this;for(var E=0;E<_.length;E++)_[E]=arguments[E];if(T.serialize&&!T.asObject&&R(_,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?m.call(h,U(this,a,_,w)):m.apply(h,_),T.transmit){const O=T.transmit.level||u.level,v=B.levels.values[a];if(v<B.levels.values[O])return;oe(this,{ts:w,methodLevel:a,methodValue:v,transmitLevel:O,transmitValue:B.levels.values[T.transmit.level||u.level],send:T.transmit.send,val:u.levelVal},_)}}}(u[a]))}(T,u,a)}function U(T,u,a,m){T._serialize&&R(a,T._serialize,T.serializers,T._stdErrSerialize);const g=a.slice();let w=g[0];const _={};m&&(_.time=m),_.level=B.levels.values[u];let h=1+(0|T._childLevel);if(h<1&&(h=1),null!==w&&"object"==typeof w){for(;h--&&"object"==typeof g[0];)Object.assign(_,g.shift());w=g.length?D(g.shift(),g):void 0}else"string"==typeof w&&(w=D(g.shift(),g));return void 0!==w&&(_.msg=w),_}function R(T,u,a,m){for(const g in T)if(m&&T[g]instanceof Error)T[g]=B.stdSerializers.err(T[g]);else if("object"==typeof T[g]&&!Array.isArray(T[g]))for(const w in T[g])u&&u.indexOf(w)>-1&&w in a&&(T[g][w]=a[w](T[g][w]))}function A(T,u,a){return function(){const m=new Array(1+arguments.length);m[0]=u;for(var g=1;g<m.length;g++)m[g]=arguments[g-1];return T[a].apply(this,m)}}function oe(T,u,a){const m=u.send,g=u.ts,w=u.methodLevel,_=u.methodValue,h=u.val,E=T._logEvent.bindings;R(a,T._serialize||Object.keys(T.serializers),T.serializers,void 0===T._stdErrSerialize||T._stdErrSerialize),T._logEvent.ts=g,T._logEvent.messages=a.filter(function(O){return-1===E.indexOf(O)}),T._logEvent.level.label=w,T._logEvent.level.value=_,m(w,T._logEvent,h),T._logEvent=pe(E)}function pe(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function de(T){return"function"==typeof T.timestamp?T.timestamp:!1===T.timestamp?I:j}function me(){return{}}function x(T){return T}function _e(){}function I(){return!1}function j(){return Date.now()}B.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},B.stdSerializers=se,B.stdTimeFunctions=Object.assign({},{nullTime:I,epochTime:j,unixTime:function M(){return Math.round(Date.now()/1e3)},isoTime:function C(){return new Date(Date.now()).toISOString()}})}}]);