(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[354],{24070:(V,O,l)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.ComposedStore=void 0;const w=l(36812);O.ComposedStore=class N extends w.ObservableStore{constructor(c){super({}),this._children=c||{},Object.keys(this._children).forEach(p=>{this._addChild(p,this._children[p])})}_addChild(c,p){const y=b=>{const C=this.getState();C[c]=b,this.putState(C)};p.subscribe(y),y(p.getState())}}},32053:(V,O,l)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.MergedStore=void 0;const w=l(36812);O.MergedStore=class N extends w.ObservableStore{constructor(c=[]){super({}),this._children=c,c.forEach(p=>this._addChild(p)),this._updateWholeState()}_addChild(c){c.subscribe(()=>this._updateWholeState())}_updateWholeState(){const c=this._children.map(y=>y.getState()),p=Object.assign({},...c);this.putState(p)}}},36812:function(V,O,l){"use strict";var w=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(O,"__esModule",{value:!0}),O.ObservableStore=void 0;const N=w(l(14521));O.ObservableStore=class T extends N.default{constructor(p){super(),this._state=p||{}}getState(){return this._getState()}putState(p){this._putState(p),this.emit("update",p)}updateState(p){if(p&&"object"==typeof p){const y=this.getState();this.putState(Object.assign(Object.assign({},y),p))}else this.putState(p)}subscribe(p){this.on("update",p)}unsubscribe(p){this.removeListener("update",p)}_getState(){return this._state}_putState(p){this._state=p}}},91905:(V,O,l)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.storeAsStream=void 0;const w=l(36917);class N extends w.Duplex{constructor(p){super({objectMode:!0}),this.resume(),this.handler=y=>this.push(y),this.obsStore=p,this.obsStore.subscribe(this.handler)}pipe(p,y){const b=super.pipe(p,y);return p.write(this.obsStore.getState()),b}_write(p,y,b){this.obsStore.putState(p),b()}_read(p){}_destroy(p,y){this.obsStore.unsubscribe(this.handler),super._destroy(p,y)}}O.storeAsStream=function T(c){return new N(c)}},16177:function(V,O,l){"use strict";var w=this&&this.__createBinding||(Object.create?function(T,c,p,y){void 0===y&&(y=p),Object.defineProperty(T,y,{enumerable:!0,get:function(){return c[p]}})}:function(T,c,p,y){void 0===y&&(y=p),T[y]=c[p]}),N=this&&this.__exportStar||function(T,c){for(var p in T)"default"!==p&&!Object.prototype.hasOwnProperty.call(c,p)&&w(c,T,p)};Object.defineProperty(O,"__esModule",{value:!0}),N(l(91905),O),N(l(24070),O),N(l(32053),O),N(l(36812),O),N(l(58503),O)},58503:(V,O,l)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.storeTransformStream=void 0;const w=l(73529);O.storeTransformStream=function N(T){return w.obj((c,p,y)=>{try{return void y(null,T(c))}catch(b){return void y(b)}})}},81354:(V,O,l)=>{"use strict";l.r(O),l.d(O,{getTorusProviderInstance:()=>dn});var w=l(8239);function c(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var p=l(41413),y=l.n(p),b=l(58330),C=l.n(b);function j(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function x(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?j(Object(e),!0).forEach(function(r){c(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):j(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}const te=C().getLogger("http-helpers");te.setLevel(b.levels.INFO);let q="torus-default";function re(n,t){return Se.apply(this,arguments)}function Se(){return(Se=(0,w.Z)(function*(n,t){let e=null;try{e=new URL(n)}catch{}return fetch(n,t)})).apply(this,arguments)}function _e(){const n={};return q&&(n["x-api-key"]=q),n}function Ae(n){te.info("Response: ".concat(n.status," ").concat(n.statusText)),te.info("Url: ".concat(n.url))}const M=function(){var n=(0,w.Z)(function*(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i={mode:"cors",headers:{}};r.useAPIKey&&(i.headers=x(x({},i.headers),_e()));const s=y()(i,e,{method:"GET"}),g=yield re(t,s);if(g.ok)return g.json();throw Ae(g),g});return function(e){return n.apply(this,arguments)}}();function Z(n){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function J(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function le(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ve(n,t,e){return t&&le(n.prototype,t),e&&le(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function oe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function we(n,t){return(we=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(n,t)}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&we(n,t)}function u(n,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oe(n)}function R(n){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(n)}var W=l(18300),fe=l(88774),$=l.n(fe),ne=l(16589),ze=l.n(ne);l(37092),l(58577),URL;var _t=l(93105);function Nt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function it(n,t,e){return(it=Nt()?Reflect.construct:function(i,s,g){var S=[null];S.push.apply(S,s);var _=new(Function.bind.apply(i,S));return g&&we(_,g.prototype),_}).apply(null,arguments)}function ct(n){var t="function"==typeof Map?new Map:void 0;return ct=function(r){if(null===r||!function Lt(n){return-1!==Function.toString.call(n).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return it(r,arguments,R(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),we(i,r)},ct(n)}var ir=l(47300),ar=l.n(ir);function jt(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function ht(n,t){return function Ze(n){if(Array.isArray(n))return n}(n)||function dt(n,t){var e=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var g,S,r=[],i=!0,s=!1;try{for(e=e.call(n);!(i=(g=e.next()).done)&&(r.push(g.value),!t||r.length!==t);i=!0);}catch(L){s=!0,S=L}finally{try{!i&&null!=e.return&&e.return()}finally{if(s)throw S}}return r}}(n,t)||function Ut(n,t){if(n){if("string"==typeof n)return jt(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return jt(n,t)}}(n,t)||function or(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Le=l(56396),sr=l(75859),Fe=l.n(sr),ur=l(99318),lr=l.n(ur),fr=l(30968),pt=l.n(fr);function gt(){}var xt=function(n){o(e,n);var t=function cr(n){var t=function He(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=R(n);if(t){var s=R(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(r){var i,s=r.name,g=r.target,S=r.targetWindow,L=void 0===S?window:S,_=r.targetOrigin,A=void 0===_?"*":_;if(J(this,e),c(oe(i=t.call(this,{objectMode:!0})),"_init",void 0),c(oe(i),"_haveSyn",void 0),c(oe(i),"_name",void 0),c(oe(i),"_target",void 0),c(oe(i),"_targetWindow",void 0),c(oe(i),"_targetOrigin",void 0),c(oe(i),"_onMessage",void 0),c(oe(i),"_synIntervalId",void 0),!s||!g)throw new Error("Invalid input.");return i._init=!1,i._haveSyn=!1,i._name=s,i._target=g,i._targetWindow=L,i._targetOrigin=A,i._onMessage=i.onMessage.bind(oe(i)),i._synIntervalId=null,window.addEventListener("message",i._onMessage,!1),i._handShake(),i}return ve(e,[{key:"_break",value:function(){this.cork(),this._write("BRK",null,gt),this._haveSyn=!1,this._init=!1}},{key:"_handShake",value:function(){this._write("SYN",null,gt),this.cork()}},{key:"_onData",value:function(i){if(this._init)if("BRK"===i)this._break();else try{this.push(i)}catch(s){this.emit("error",s)}else"SYN"===i?(this._haveSyn=!0,this._write("ACK",null,gt)):"ACK"===i&&(this._init=!0,this._haveSyn||this._write("ACK",null,gt),this.uncork())}},{key:"_postMessage",value:function(i){this._targetWindow.postMessage({target:this._target,data:i},this._targetOrigin)}},{key:"onMessage",value:function(i){var s=i.data;"*"!==this._targetOrigin&&i.origin!==this._targetOrigin||i.source!==this._targetWindow||"object"!==Z(s)||s.target!==this._name||!s.data||this._onData(s.data)}},{key:"_read",value:function(){}},{key:"_write",value:function(i,s,g){this._postMessage(i),g()}},{key:"_destroy",value:function(){window.removeEventListener("message",this._onMessage,!1)}}]),e}(W.Duplex);function Wt(n,t,e){try{Reflect.apply(n,t,e)}catch(r){setTimeout(function(){throw r})}}function hr(n){for(var t=n.length,e=new Array(t),r=0;r<t;r+=1)e[r]=n[r];return e}var yt=function(n){o(e,n);var t=function et(n){var t=function dr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=R(n);if(t){var s=R(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(){return J(this,e),t.apply(this,arguments)}return ve(e,[{key:"emit",value:function(i){var s="error"===i,g=this._events;if(void 0!==g)s=s&&void 0===g.error;else if(!s)return!1;for(var S=arguments.length,L=new Array(S>1?S-1:0),_=1;_<S;_++)L[_-1]=arguments[_];if(s){var A;if(L.length>0&&(A=L[0]),A instanceof Error)throw A;var G=new Error("Unhandled error.".concat(A?" (".concat(A.message,")"):""));throw G.context=A,G}var Y=g[i];if(void 0===Y)return!1;if("function"==typeof Y)Wt(Y,this,L);else for(var Q=Y.length,X=hr(Y),pe=0;pe<Q;pe+=1)Wt(X[pe],this,L);return!0}}]),e}(_t.EventEmitter);var Ye=function(n){o(e,n);var t=function pr(n){var t=function tt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=R(n);if(t){var s=R(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(r){var i,s=r.code,g=r.message,S=r.data;if(J(this,e),!Number.isInteger(s))throw new Error("code must be an integer");if(!g||"string"!=typeof g)throw new Error("message must be string");return c(oe(i=t.call(this,g)),"code",void 0),c(oe(i),"data",void 0),i.code=s,void 0!==S&&(i.data=S),i}return ve(e,[{key:"toString",value:function(){return ar()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}]),e}(ct(Error));function at(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function Ot(n,t){if(n){if("string"==typeof n)return Kt(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Kt(n,t)}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(_){throw _},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var S,s=!0,g=!1;return{s:function(){e=e.call(n)},n:function(){var _=e.next();return s=_.done,_},e:function(_){g=!0,S=_},f:function(){try{!s&&null!=e.return&&e.return()}finally{if(g)throw S}}}}function Kt(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function ot(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ft(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(e),!0).forEach(function(r){c(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ot(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}var Vt=function(n){o(e,n);var r,t=function mr(n){var t=function vr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=R(n);if(t){var s=R(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(){var r;return J(this,e),c(oe(r=t.call(this)),"_middleware",void 0),r._middleware=[],r}return ve(e,[{key:"push",value:function(i){this._middleware.push(i)}},{key:"handle",value:function(i,s){if(s&&"function"!=typeof s)throw new Error('"callback" must be a function if provided.');return Array.isArray(i)?s?this._handleBatch(i,s):this._handleBatch(i):s?this._handle(i,s):this._promiseHandle(i)}},{key:"asMiddleware",value:function(){var i=this;return function(){var s=(0,w.Z)($().mark(function g(S,L,_,A){var Y,Q,pe;return $().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.prev=0,ce.next=3,e._runAllMiddleware(S,L,i._middleware);case 3:if(Y=ht(ce.sent,3),Q=Y[0],pe=Y[2],!Y[1]){ce.next=12;break}return ce.next=11,e._runReturnHandlers(pe);case 11:return ce.abrupt("return",A(Q));case 12:return ce.abrupt("return",_(function(){var ye=(0,w.Z)($().mark(function nr(Nr){return $().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.prev=0,Pe.next=3,e._runReturnHandlers(pe);case 3:Pe.next=8;break;case 5:return Pe.prev=5,Pe.t0=Pe.catch(0),Pe.abrupt("return",Nr(Pe.t0));case 8:return Pe.abrupt("return",Nr());case 9:case"end":return Pe.stop()}},nr,null,[[0,5]])}));return function(nr){return ye.apply(this,arguments)}}()));case 15:return ce.prev=15,ce.t0=ce.catch(0),ce.abrupt("return",A(ce.t0));case 18:case"end":return ce.stop()}},g,null,[[0,15]])}));return function(g,S,L,_){return s.apply(this,arguments)}}()}},{key:"_handleBatch",value:(r=(0,w.Z)($().mark(function s(g,S){var L;return $().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,Promise.all(g.map(this._promiseHandle.bind(this)));case 3:if(L=A.sent,!S){A.next=6;break}return A.abrupt("return",S(null,L));case 6:return A.abrupt("return",L);case 9:if(A.prev=9,A.t0=A.catch(0),!S){A.next=13;break}return A.abrupt("return",S(A.t0));case 13:throw A.t0;case 14:case"end":return A.stop()}},s,this,[[0,9]])})),function i(s,g){return r.apply(this,arguments)})},{key:"_promiseHandle",value:function(i){var s=this;return new Promise(function(g){s._handle(i,function(S,L){g(L)})})}},{key:"_handle",value:function(){var r=(0,w.Z)($().mark(function s(g,S){var L,_,A,G,Y;return $().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(g&&!Array.isArray(g)&&"object"===Z(g)){X.next=3;break}return L=new Ye({code:-32603,message:"request must be plain object"}),X.abrupt("return",S(L,{id:void 0,jsonrpc:"2.0",error:L}));case 3:if("string"==typeof g.method){X.next=6;break}return _=new Ye({code:-32603,message:"method must be string"}),X.abrupt("return",S(_,{id:g.id,jsonrpc:"2.0",error:_}));case 6:return A=Ft({},g),G={id:A.id,jsonrpc:A.jsonrpc},Y=null,X.prev=9,X.next=12,this._processRequest(A,G);case 12:X.next=17;break;case 14:X.prev=14,X.t0=X.catch(9),Y=X.t0;case 17:return Y&&(delete G.result,G.error||(G.error=(0,Le.serializeError)(Y))),X.abrupt("return",S(Y,G));case 19:case"end":return X.stop()}},s,this,[[9,14]])}));return function i(s,g){return r.apply(this,arguments)}}()},{key:"_processRequest",value:function(){var r=(0,w.Z)($().mark(function s(g,S){var _,A,Y;return $().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,e._runAllMiddleware(g,S,this._middleware);case 2:return _=ht(X.sent,3),A=_[0],Y=_[2],e._checkForCompletion(g,S,_[1]),X.next=10,e._runReturnHandlers(Y);case 10:if(!A){X.next=12;break}throw A;case 12:case"end":return X.stop()}},s,this)}));return function i(s,g){return r.apply(this,arguments)}}()}],[{key:"_runAllMiddleware",value:function(){var r=(0,w.Z)($().mark(function s(g,S,L){var _,A,G,Y,Q,X,Oe;return $().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:_=[],A=null,G=!1,Y=at(L),ye.prev=4,Y.s();case 6:if((Q=Y.n()).done){ye.next=18;break}return X=Q.value,ye.next=10,e._runMiddleware(g,S,X,_);case 10:if(Oe=ht(ye.sent,2),A=Oe[0],!(G=Oe[1])){ye.next=16;break}return ye.abrupt("break",18);case 16:ye.next=6;break;case 18:ye.next=23;break;case 20:ye.prev=20,ye.t0=ye.catch(4),Y.e(ye.t0);case 23:return ye.prev=23,Y.f(),ye.finish(23);case 26:return ye.abrupt("return",[A,G,_.reverse()]);case 27:case"end":return ye.stop()}},s,null,[[4,20,23,26]])}));return function i(s,g,S){return r.apply(this,arguments)}}()},{key:"_runMiddleware",value:function(i,s,g,S){return new Promise(function(L){var _=function(Y){var Q=Y||s.error;Q&&(s.error=(0,Le.serializeError)(Q)),L([Q,!0])};try{g(i,s,function(Y){s.error?_(s.error):(Y&&("function"!=typeof Y&&_(new Ye({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),S.push(Y)),L([null,!1]))},_)}catch(G){_(G)}})}},{key:"_runReturnHandlers",value:function(){var r=(0,w.Z)($().mark(function s(g){var S,L,_;return $().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:S=at(g),G.prev=1,_=$().mark(function Y(){var Q;return $().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return Q=L.value,pe.next=3,new Promise(function(Oe,ce){Q(function(ye){return ye?ce(ye):Oe()})});case 3:case"end":return pe.stop()}},Y)}),S.s();case 4:if((L=S.n()).done){G.next=8;break}return G.delegateYield(_(),"t0",6);case 6:G.next=4;break;case 8:G.next=13;break;case 10:G.prev=10,G.t1=G.catch(1),S.e(G.t1);case 13:return G.prev=13,S.f(),G.finish(13);case 16:case"end":return G.stop()}},s,null,[[1,10,13,16]])}));return function i(s){return r.apply(this,arguments)}}()},{key:"_checkForCompletion",value:function(i,s,g){if(!("result"in s)&&!("error"in s))throw new Ye({code:-32603,message:"Response has no error or result for request"});if(!g)throw new Ye({code:-32603,message:"Nothing ended request"})}}]),e}(yt);var _r=function(n){o(e,n);var t=function br(n){var t=function Sr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=R(n);if(t){var s=R(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(r){var i,s=r.parent,g=r.name;return J(this,e),c(oe(i=t.call(this,{objectMode:!0})),"_parent",void 0),c(oe(i),"_name",void 0),i._parent=s,i._name=g,i}return ve(e,[{key:"_read",value:function(){}},{key:"_write",value:function(i,s,g){this._parent.push({name:this._name,data:i}),g()}}]),e}(W.Duplex);function Gt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function $t(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(e),!0).forEach(function(r){c(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Gt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}var Zt=Symbol("IGNORE_SUBSTREAM"),Yt=function(n){o(e,n);var t=function Cr(n){var t=function Or(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=R(n);if(t){var s=R(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return J(this,e),c(oe(r=t.call(this,$t($t({},i),{},{objectMode:!0}))),"_substreams",void 0),c(oe(r),"getStream",void 0),r._substreams={},r}return ve(e,[{key:"createStream",value:function(i){if(!i)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[i])throw new Error('ObjectMultiplex - Substream for name "'.concat(i,'" already exists'));var s=new _r({parent:this,name:i});return this._substreams[i]=s,function mt(n,t){var e=lr()(t);Fe()(n,{readable:!1},e),Fe()(n,{writable:!1},e)}(this,function(g){return s.destroy(g||void 0)}),s}},{key:"ignoreStream",value:function(i){if(!i)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[i])throw new Error('ObjectMultiplex - Substream for name "'.concat(i,'" already exists'));this._substreams[i]=Zt}},{key:"_read",value:function(){}},{key:"_write",value:function(i,s,g){var S=i.name,L=i.data;if(!S)return window.console.warn('ObjectMultiplex - malformed chunk without name "'.concat(i,'"')),g();var _=this._substreams[S];return _?(_!==Zt&&_.push(L),g()):(window.console.warn('ObjectMultiplex - orphaned data for stream "'.concat(S,'"')),g())}}]),e}(W.Duplex),zt=l(16177),Ar=l(95439),Rr=l.n(Ar),Xt=l(78936),Pr=l(12506),Mr=l.n(Pr);const Ke={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord",EMAIL_PASSWORDLESS:"torus-auth0-email-passwordless"},Jt={[Ke.GOOGLE]:"tkey-google",[Ke.FACEBOOK]:"tkey-facebook",[Ke.TWITCH]:"tkey-twitch",[Ke.REDDIT]:"tkey-reddit",[Ke.DISCORD]:"tkey-discord",[Ke.EMAIL_PASSWORDLESS]:"tkey-auth0-email-passwordless"},vt={PRODUCTION:"production",DEVELOPMENT:"development",BINANCE:"binance",TESTING:"testing",LRC:"lrc",BETA:"beta",BNB:"bnb",POLYGON:"polygon"},Ve={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},At={moonpay:["AUD","BGN","BRL","CAD","CHF","CNY","COP","CZK","DKK","DOP","EGP","EUR","GBP","HKD","HRK","IDR","ILS","JPY","JOD","KES","KRW","KWD","LKR","MAD","MXN","MYR","NGN","NOK","NZD","OMR","PEN","PKR","PLN","RON","RUB","SEK","SGD","THB","TRY","TWD","USD","VND","ZAR"],wyre:["USD","EUR","GBP","AUD","CAD","NZD","ARS","BRL","CHF","CLP","COP","CZK","DKK","HKD","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","PHP","PLN","SEK","THB","VND","ZAR"],rampnetwork:["USD","EUR","GBP"],xanpool:["SGD","HKD","THB","PHP","INR","IDR","MYR","AUD","NZD","KRW"],mercuryo:["EUR","USD","GBP","TRY","JPY","BRL","NGN","VND","MXN","KRW"],transak:["ARS","AUD","BBD","BGN","BMD","BRL","CAD","CHF","CLP","CRC","CZK","DKK","DOP","EUR","FJD","FKP","GBP","GIP","HRK","HUF","IDR","ILS","ISK","JMD","JPY","KES","KRW","MDL","MXN","MYR","NOK","NZD","PEN","PHP","PLN","PYG","RON","SEK","SGD","THB","TRY","TZS","USD","ZAR"],banxa:["EUR","GBP","USD"]},Dr=new Set(["ETH","USDT","USDC","TUSD","EOSDT","USD","DAI","GUSD","DKKT","PAX","ILS","RUB","BYN","EUR","GBP","JPY","KRW","PLN","MXN","AUD","BRL","CAD","CHF","KPW","LAK","LBP","LKR","XOF","CNHT","DOGE","UAH","TRY","HKD","XJP","SGD","USC","NZD","NGN","RUR","COP","GHS","EGP","IDR","BHD","CRC","PEN","AED","DOP","PKR","HUF","VND","XAR","LTC","RON","OMR","MYR","DKK","UGX","ZMW","SAR","SEK","GEL","RWF","IRR","TZS","CNY","VEF","BDT","HRK","CLP","THB","XAF","ARS","UYU","SZL","KZT","NOK","KES","PAB","INR","CZK","MAD","TWD","PHP","ZAR","BOB","CDF","DASH","VES","ISK","MWK","BAM","TTD","XRP","JOD","RSD","HNL","BGN","GTQ","BWP","XMR","MMK","QAR","AOA","KWD","MUR","WUSD","WEUR","WAVES","WTRY","LRD","LSL","LYD","AWG","MDL","BTO","EURS","CHFT","MKD","MNT","MOP","MRO","MVR","VOLLAR","CKUSD","KHR","VUV","BITCNY","QC","BBD","NAD","NPR","PGK","PYG","BIF","BMD","BND","XLM","BNB","SCR","BAT","CRO","HT","KCS","LEO","LINK","MKR","NPXS","OMG","REP","ZB","ZIL","ZRX","BCH","BZD","CUP","CVE","DJF","DZD","ERN","ETB","FJD","FKP","BUSD","ANCT","ALL","AMD","ANG","CNYX","IQD","UZS","TND","GGP","XAU","KGS","GIP","JMD","ZEC","USDP","BSV","EMC2","SNT","GTO","POWR","EUSD","EURT","BCY","BTS","ATM","BLOCKPAY","ARDR","AMP","B2X","BITGOLD","BITEUR","ATB","BITUSD","AGRS","DFXT","HIKEN","BIX","KNC","EOS","COB","COSS","BMH","NANO","BDG","BNT","XVG","LKK1Y","LKK","USDK","EURN","NZDT","JSE","GMD","GNF","GYD","YER","XPF","HTG","SLL","SOS","WST","SVC","SYP","NEO","KMF","JUMP","AYA","BLAST","WGR","BCN","BTG","URALS","INN","USDQ","CNH","HUSD","BKRW","NZDX","EURX","CADX","USDEX","JPYX","AUDX","VNDC","EON","GBPX","CHFX","USDJ","IDRT","USDS","USDN","BIDR","IDK","BSD","BTN","KYD","NIO","SBD","SDG","SHP","TOP","XCD","XCHF","CNYT","GYEN","ZUSD","GOLD","TRX","TRYB","PLATC","STRAX","UST","GLM","VAI","BRZ","DDRST","XAUT","MIM"]);function Ge(n){return At[n].filter(e=>Dr.has(e))}const Rt={moonpay:{line1:"Credit/ Debit Card/ Apple Pay",line2:"4.5% or 5 USD",line3:"2,000\u20ac/day, 10,000\u20ac/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:Ge("moonpay"),validCryptoCurrenciesByChain:{mainnet:[{value:"aave",display:"AAVE"},{value:"bat",display:"BAT"},{value:"dai",display:"DAI"},{value:"eth",display:"ETH"},{value:"mkr",display:"MKR"},{value:"matic",display:"MATIC"},{value:"usdt",display:"USDT"},{value:"usdc",display:"USDC"}],matic:[{value:"eth_polygon",display:"ETH"},{value:"matic_polygon",display:"MATIC"},{value:"usdc_polygon",display:"USDC"}],bsc_mainnet:[{value:"bnb_bsc",display:"BNB"},{value:"busd_bsc",display:"BUSD"}],avalanche_mainnet:[{value:"avax_cchain",display:"AVAX"}]},includeFees:!0,api:!0,enforceMax:!1},wyre:{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30\xa2 or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:Ge("wyre"),validCryptoCurrenciesByChain:{mainnet:[{value:"AAVE",display:"AAVE"},{value:"BAT",display:"BAT"},{value:"BUSD",display:"BUSD"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"MKR",display:"MKR"},{value:"UNI",display:"UNI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],matic:[{value:"MUSDC",display:"USDC"}],avalanche_mainnet:[{value:"AVAXC",display:"AVAXC"}]},includeFees:!1,api:!0,enforceMax:!1},rampnetwork:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:Ge("rampnetwork"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],matic:[{value:"MATIC_DAI",display:"DAI"},{value:"MATIC_MATIC",display:"MATIC"},{value:"MATIC_USDC",display:"USDC"}],avalanche_mainnet:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,api:!0,receiveHint:"walletTopUp.receiveHintRamp",enforceMax:!1},xanpool:{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:Ge("xanpool"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"}]},includeFees:!0,api:!0,sell:!0,enforceMax:!1},mercuryo:{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000\u20ac/day, 25,000\u20ac/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:Ge("mercuryo"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"BAT",display:"BAT"},{value:"USDT",display:"USDT"},{value:"DAI",display:"DAI"}],bsc_mainnet:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"},{value:"1INCH",display:"1INCH"}]},includeFees:!0,api:!0,enforceMax:!1},transak:{line1:"Apple & Google Pay / Credit/Debit Card<br/>Bangkok Bank Mobile & iPay<br/>Bank Transfer (sepa/gbp) / SCB Mobile & Easy",line2:"0.99% - 5.5% or 5 USD",line3:"$5,000/day, $28,000/mo",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:30,maxOrderValue:500,validCurrencies:Ge("transak"),validCryptoCurrenciesByChain:{mainnet:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],matic:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"MATIC",display:"MATIC"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"},{value:"WETH",display:"WETH"}],bsc_mainnet:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"}],avalanche_mainnet:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,enforceMax:!0},banxa:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://support.banxa.com",minOrderValue:20,maxOrderValue:15e3,validCurrencies:Ge("banxa"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"},{value:"BUSD",display:"BUSD"},{value:"LINK",display:"LINK"},{value:"USDC",display:"USDC"},{value:"CHZ",display:"CHZ"},{value:"BAT",display:"BAT"},{value:"MANA",display:"MANA"},{value:"AAVE",display:"AAVE"},{value:"COMP",display:"COMP"},{value:"ENJ",display:"ENJ"}],matic:[{value:"MATIC",display:"MATIC"}]},includeFees:!0,enforceMax:!0}};var Te={supportedVerifierList:Object.values(Ke),paymentProviders:Rt,api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"};const rt=n=>new Promise((t,e)=>{null!=window.document.body?Promise.resolve(n()).then(t).catch(e):window.document.addEventListener("DOMContentLoaded",()=>{Promise.resolve(n()).then(t).catch(e)})}),ut=n=>{const t=window.document.createElement("template"),e=n.trim();return t.innerHTML=e,t.content.firstChild},Qt=function(n,t,e){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const g=()=>{e(...i),n.removeEventListener(t,g)};n.addEventListener(t,g)},Be=(n,t,e)=>{const r=i=>{e(i),n.removeListener(t,r)};n.on(t,r)};function Pt(){return(Pt=(0,w.Z)(function*(){return new Promise(n=>{"loading"!==document.readyState?n():Qt(document,"DOMContentLoaded",n)})})).apply(this,arguments)}var de=C().getLogger("torus-embed"),Re={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",sendSiteMetadata:()=>"Torus: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:n=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${n} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:(n,t)=>`Invalid options. Received: { maxEventListeners: ${n}, shouldSendMetadata: ${t} }`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:n=>`'args.logger' must include required method '${n}'.`},info:{connected:n=>`Torus: Connected to chain with ID "${n}".`},warnings:{enableDeprecation:'Torus: ""ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.send("eth_requestAccounts")" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:'Torus: "ethereum.send(...)" is deprecated and may be removed in the future. Please use "ethereum.sendAsync(...)" or "ethereum.request(...)" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',events:{close:'Torus: The event "close" is deprecated and may be removed in the future. Please use "disconnect" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',data:'Torus: The event "data" is deprecated and will be removed in the future.Use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',networkChanged:'Torus: The event "networkChanged" is deprecated and may be removed in the future. Please use "chainChanged" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',notification:'Torus: The event "notification" is deprecated and may be removed in the future. Please use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193'},publicConfigStore:'Torus: The property "publicConfigStore" is deprecated and WILL be removed in the future.'}};const{paymentProviders:tr}=Te;function m(n,t,e){let r=`MetaMask: Lost connection to "${n}".`;null!=t&&t.stack&&(r+=`\n${t.stack}`),de.warn(r),e&&e.listenerCount("error")>0&&e.emit("error",r)}const K=()=>Math.random().toString(36).slice(2),se=function(){var n=(0,w.Z)(function*(t,e){let r,i;const s="1.37.1";let g=e.version||s;try{if(("binance"===t||"production"===t)&&!e.version){let S;S=Te.prodTorusUrl?{data:Te.prodTorusUrl}:yield M(`${Te.api}/latestversion?name=@toruslabs/torus-embed&version=${s}`,{},{useAPIKey:!0}),g=S.data,Te.prodTorusUrl=S.data}}catch(S){de.error(S,"unable to fetch latest version")}switch(de.info("version used: ",g),t){case"binance":r=`https://binance.tor.us/v${g}`,i="info";break;case"testing":r="https://testing.tor.us",i="debug";break;case"bnb":r="https://bnb.tor.us",i="error";break;case"polygon":r="https://polygon.tor.us",i="error";break;case"lrc":r="https://lrc.tor.us",i="debug";break;case"beta":r="https://beta.tor.us",i="debug";break;case"development":r="http://localhost:4050",i="debug";break;default:r=`https://app.tor.us/v${g}`,i="error"}return{torusUrl:r,logLevel:i}});return function(e,r){return n.apply(this,arguments)}}(),he=()=>{let n=window.navigator.language||"en-US";const t=n.split("-");return n=Object.prototype.hasOwnProperty.call(Te.translations,t[0])?t[0]:"en",n},me=["eth_subscription"],ie=()=>{},ge="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",Ee="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";function wt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}yt.defaultMaxListeners=100;const Dt=function(n,t){let e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(r,i)=>r||i.error?t(r||i.error):!e||Array.isArray(i)?n(i):n(i.result)};class rr extends yt{constructor(t){let{maxEventListeners:e=100,shouldSendMetadata:r=!0,jsonRpcStreamName:i="provider"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),c(this,"chainId",void 0),c(this,"selectedAddress",void 0),c(this,"_rpcEngine",void 0),c(this,"networkVersion",void 0),c(this,"shouldSendMetadata",void 0),c(this,"isTorus",void 0),c(this,"_publicConfigStore",void 0),c(this,"tryPreopenHandle",void 0),c(this,"enable",void 0),c(this,"_state",void 0),c(this,"_jsonRpcConnection",void 0),c(this,"_sentWarnings",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),!(0,Xt.duplex)(t))throw new Error(Re.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(e),this._state=function Mt(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(e),!0).forEach(function(r){c(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}({},rr._defaultState),this.selectedAddress=null,this.networkVersion=null,this.chainId=null,this.shouldSendMetadata=r,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._sendSync=this._sendSync.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this);const s=new Yt;pt()(t,s,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._publicConfigStore=new zt.ObservableStore({storageKey:"Metamask-Config"}),pt()(s.createStream("publicConfig"),(0,zt.storeAsStream)(this._publicConfigStore),m.bind(this,"MetaMask PublicConfigStore")),s.ignoreStream("phishing"),this.on("connect",()=>{this._state.isConnected=!0});const g=function gr(){var n={},e=new yt,g=new W.Duplex({objectMode:!0,read:function t(){return!1},write:function s(L,_,A){var G;try{L.id?function r(L){var _=n[L.id];if(!_)throw new Error('StreamMiddleware - Unknown response id "'.concat(L.id,'"'));delete n[L.id],Object.assign(_.res,L),setTimeout(_.end)}(L):function i(L){e.emit("notification",L)}(L)}catch(Q){G=Q}A(G)}});return{events:e,middleware:function(_,A,G,Y){g.push(_),n[_.id]={req:_,res:A,next:G,end:Y}},stream:g}}();pt()(g.stream,s.createStream(i),g.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const S=new Vt;S.push(function yr(){return function(n,t,e,r){var i=n.id,s=ze()(32).toString("hex");n.id=s,t.id=s,e(function(g){n.id=i,t.id=i,g()})}}()),S.push(function f(){return(n,t,e)=>{("string"!=typeof n.method||!n.method)&&(t.error=Le.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:n})),e(r=>{const{error:i}=t;return i&&de.error(`MetaMask - RPC Error: ${i.message}`,i),r()})}}()),S.push(g.middleware),this._rpcEngine=S,g.events.on("notification",L=>{const{method:_,params:A}=L;"wallet_accountsChanged"===_?this._handleAccountsChanged(A):"wallet_unlockStateChanged"===_?this._handleUnlockStateChanged(A):"wallet_chainChanged"===_?this._handleChainChanged(A):me.includes(L.method)&&(this.emit("data",L),this.emit("notification",A.result),this.emit("message",{type:_,data:A}))})}get publicConfigStore(){return this._sentWarnings.publicConfigStore||(de.warn(Re.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}isConnected(){return this._state.isConnected}request(t){var e=this;return(0,w.Z)(function*(){if(!t||"object"!=typeof t||Array.isArray(t))throw Le.ethErrors.rpc.invalidRequest({message:Re.errors.invalidRequestArgs(),data:t});const{method:r,params:i}=t;if("string"!=typeof r||0===r.length)throw Le.ethErrors.rpc.invalidRequest({message:Re.errors.invalidRequestMethod(),data:t});if(void 0!==i&&!Array.isArray(i)&&("object"!=typeof i||null===i))throw Le.ethErrors.rpc.invalidRequest({message:Re.errors.invalidRequestParams(),data:t});return new Promise((s,g)=>{e._rpcRequest({method:r,params:i},Dt(s,g))})})()}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_initializeState(){var t=this;return(0,w.Z)(function*(){try{const{accounts:e,chainId:r,isUnlocked:i,networkVersion:s}=yield t.request({method:"wallet_getProviderState"});t.emit("connect",{chainId:r}),t._handleChainChanged({chainId:r,networkVersion:s}),t._handleUnlockStateChanged({accounts:e,isUnlocked:i}),t._handleAccountsChanged(e)}catch(e){de.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{de.info("initialized state"),t._state.initialized=!0,t.emit("_initialized")}})()}_rpcRequest(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e;const s=t;if(!Array.isArray(s))if(s.jsonrpc||(s.jsonrpc="2.0"),"eth_accounts"===s.method||"eth_requestAccounts"===s.method)i=(g,S)=>{this._handleAccountsChanged(S.result||[],"eth_accounts"===s.method,r),e(g,S)};else if("wallet_getProviderState"===s.method)return void this._rpcEngine.handle(t,i);this.tryPreopenHandle(s,i)}send(t,e){return this._sentWarnings.send||(de.warn(Re.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof t||e&&!Array.isArray(e)?t&&"object"==typeof t&&"function"==typeof e?this._rpcRequest(t,e):this._sendSync(t):new Promise((r,i)=>{try{this._rpcRequest({method:t,params:e},Dt(r,i,!1))}catch(s){i(s)}})}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(t,ie),e=!0;break;case"net_version":e=this.networkVersion||null;break;default:throw new Error(Re.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_handleConnect(t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:t}),de.debug(Re.info.connected(t)))}_handleDisconnect(t,e){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){let r;this._state.isConnected=!1,t?(r=new Le.EthereumRpcError(1013,e||Re.errors.disconnected()),de.debug(r)):(r=new Le.EthereumRpcError(1011,e||Re.errors.permanentlyDisconnected()),de.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleStreamDisconnect(t,e){m(t,e,this),this._handleDisconnect(!1,e?e.message:void 0)}_handleAccountsChanged(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t;Array.isArray(i)||(de.error("MetaMask: Received non-array accounts parameter. Please report this bug.",i),i=[]);for(const s of t)if("string"!=typeof s){de.error("MetaMask: Received non-string account. Please report this bug.",t),i=[];break}Rr()(this._state.accounts,i)||(e&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&de.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',i),this._state.accounts=i,this.emit("accountsChanged",i)),this.selectedAddress!==i[0]&&(this.selectedAddress=i[0]||null)}_handleChainChanged(){let{chainId:t,networkVersion:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&e?"loading"===e?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId))):de.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:t,networkVersion:e})}_handleUnlockStateChanged(){let{accounts:t,isUnlocked:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"==typeof e?e!==this._state.isUnlocked&&(this._state.isUnlocked=e,this._handleAccountsChanged(t||[])):de.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:e})}_warnOfDeprecation(t){!1===this._sentWarnings.events[t]&&(de.warn(Re.warnings.events[t]),this._sentWarnings.events[t]=!0)}}c(rr,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const Xr=(n,t)=>{const e={};return n.algorithms.forEach(r=>{e[r]=Mr()(r).update(t,"utf8").digest("base64")}),e};class Fr extends _t.EventEmitter{constructor(t){let{url:e,target:r,features:i}=t;super(),c(this,"url",void 0),c(this,"target",void 0),c(this,"features",void 0),c(this,"window",void 0),c(this,"windowTimer",void 0),c(this,"iClosedWindow",void 0),this.url=e,this.target=r||"_blank",this.features=i||function lt(){const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,t=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,S=Math.abs((i-1200)/2/1+n);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=1200,top=${Math.abs((s-700)/2/1+t)},left=${S}`}(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var t;return this.window=window.open(this.url.href,this.target,this.features),null!==(t=this.window)&&void 0!==t&&t.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(t){t?window.location.replace(this.url.href):window.location.href=this.url.href}}function Vr(n){return new Promise((t,e)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=n}catch(r){e(r)}})}const Qr=n=>{const{document:t}=n,e=t.querySelector('head > meta[property="og:site_name"]');if(e)return e.content;const r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:n.location.hostname};function en(n){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,w.Z)(function*(n){const{document:t}=n;let e=t.querySelector('head > link[rel="shortcut icon"]');return e&&(yield Vr(e.href))||(e=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(r=>Boolean(r.href)),e&&(yield Vr(e.href)))?e.href:null})).apply(this,arguments)}const tn=function(){var n=(0,w.Z)(function*(){return{name:Qr(window),icon:yield en(window)}});return function(){return n.apply(this,arguments)}}();function Lr(){return(Lr=(0,w.Z)(function*(n){try{const t=yield tn();n.handle({jsonrpc:"2.0",id:K(),method:"wallet_sendDomainMetadata",params:t},ie)}catch(t){de.error({message:Re.errors.sendSiteMetadata(),originalError:t})}})).apply(this,arguments)}const nn=["host","chainId","networkName"];function Gr(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function an(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(e),!0).forEach(function(r){c(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Gr(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}const on={google:!0,facebook:!0,reddit:!0,twitch:!0,discord:!0},$r="sha384-vZLQKTacdmYxZGVcNrID0PKKmhV3SFNZ1Sc5kV7vUQeu9XBaq51SVMO67pHOacNI",un=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt"];var n;(n=(0,w.Z)(function*(){try{if(typeof document>"u")return;const e=document.createElement("link"),{torusUrl:r}=yield se("production",{check:!1,hash:$r,version:""});e.href=`${r}/popup`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){de.warn(e)}}),function t(){return n.apply(this,arguments)})();class ln{constructor(){let{buttonPosition:t=Ve.BOTTOM_LEFT,buttonSize:e=56,modalZIndex:r=99999,apiKey:i="torus-default"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,"buttonPosition",Ve.BOTTOM_LEFT),c(this,"buttonSize",void 0),c(this,"torusUrl",void 0),c(this,"torusIframe",void 0),c(this,"styleLink",void 0),c(this,"isLoggedIn",void 0),c(this,"isInitialized",void 0),c(this,"torusWidgetVisibility",void 0),c(this,"torusAlert",void 0),c(this,"apiKey",void 0),c(this,"modalZIndex",void 0),c(this,"alertZIndex",void 0),c(this,"torusAlertContainer",void 0),c(this,"isIframeFullScreen",void 0),c(this,"whiteLabel",void 0),c(this,"requestedVerifier",void 0),c(this,"currentVerifier",void 0),c(this,"embedTranslations",void 0),c(this,"ethereum",void 0),c(this,"provider",void 0),c(this,"communicationMux",void 0),c(this,"isLoginCallback",void 0),c(this,"paymentProviders",Te.paymentProviders),c(this,"loginHint",""),c(this,"useWalletConnect",void 0),c(this,"isCustomLogin",!1),this.buttonPosition=t,this.buttonSize=e,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.apiKey=i,function je(n){q=n}(i),this.modalZIndex=r,this.alertZIndex=r+1e3,this.isIframeFullScreen=!1}init(){var t=arguments,e=this;return(0,w.Z)(function*(){let{buildEnv:r=vt.PRODUCTION,enableLogging:i=!1,enabledVerifiers:s=on,network:g={host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""},loginConfig:S={},showTorusButton:L=!0,integrity:_={check:!1,hash:$r,version:""},whiteLabel:A,skipTKey:G=!1,useWalletConnect:Y=!1,mfaLevel:Q="default"}=t.length>0&&void 0!==t[0]?t[0]:{};if(e.isInitialized)throw new Error("Already initialized");const{torusUrl:X,logLevel:pe}=yield se(r,_);de.info(X,"url loaded"),e.torusUrl=X,e.whiteLabel=A,e.useWalletConnect=Y,e.isCustomLogin=!!(S&&Object.keys(S).length>0)||!!(A&&Object.keys(A).length>0),de.setDefaultLevel(pe),i?de.enableAll():de.disableAll(),e.torusWidgetVisibility=L;const Oe=new URL(X);Oe.pathname.endsWith("/")?Oe.pathname+="popup":Oe.pathname+="/popup",Oe.hash=`#isCustomLogin=${e.isCustomLogin}`,e.torusIframe=ut(`<iframe\n        id="torusIframe"\n        allow=${Y?"camera":""}\n        class="torusIframe"\n        src="${Oe.href}"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%; color-scheme: none;\n        height: 100%; border: none; border-radius: 0; z-index: ${e.modalZIndex}"\n      ></iframe>`),e.torusAlertContainer=ut('<div id="torusAlertContainer"></div>'),e.torusAlertContainer.style.display="none",e.torusAlertContainer.style.setProperty("z-index",e.alertZIndex.toString());const ce=window.document.createElement("link");ce.setAttribute("rel","stylesheet"),ce.setAttribute("type","text/css"),ce.setAttribute("href",`${X}/css/widget.css`),e.styleLink=ce;const{defaultLanguage:ye=he(),customTranslations:nr={}}=e.whiteLabel||{},Zr=y()(Te.translations,nr)[ye]||Te.translations[he()];e.embedTranslations=Zr.embed;const Pe=function(){var jr=(0,w.Z)(function*(){return yield function er(){return Pt.apply(this,arguments)}(),new Promise((bt,Ur)=>{e.torusIframe.onload=(0,w.Z)(function*(){e._setupWeb3();const It=e.communicationMux.getStream("init_stream");It.on("data",hn=>{const{name:pn,data:gn,error:Yr}=hn;"init_complete"===pn&&gn.success?(e.isInitialized=!0,e._displayIframe(e.isIframeFullScreen),bt(void 0)):Yr&&Ur(new Error(Yr))}),It.write({name:"init_stream",data:{enabledVerifiers:s,loginConfig:S,whiteLabel:e.whiteLabel,buttonPosition:e.buttonPosition,buttonSize:e.buttonSize,torusWidgetVisibility:e.torusWidgetVisibility,apiKey:e.apiKey,skipTKey:G,network:g,mfaLevel:Q}})}),window.document.head.appendChild(e.styleLink),window.document.body.appendChild(e.torusIframe),window.document.body.appendChild(e.torusAlertContainer)})});return function(){return jr.apply(this,arguments)}}();if("production"===r&&_.check){const jr=`${X}/popup`,bt=yield fetch(jr,{cache:"reload"});if("max-age=3600"!==bt.headers.get("Cache-Control"))throw new Error(`Unexpected Cache-Control headers, got ${bt.headers.get("Cache-Control")}`);const It=((n,t)=>{const e=(n=>({algorithms:n.algorithms||["sha256"],delimiter:n.delimiter||" ",full:n.full||!1}))(n),r={hashes:Xr(e,t),integrity:void 0};return r.integrity=((n,t)=>{let e="";return e+=Object.keys(t.hashes).map(r=>`${r}-${t.hashes[r]}`).join(n.delimiter),e})(e,r),e.full?r:r.integrity})({algorithms:["sha384"]},yield bt.text());if(de.info(It,"integrity"),It!==_.hash)throw e.clearInit(),new Error("Integrity check failed");yield Pe()}else yield Pe()})()}login(){let{verifier:t="",login_hint:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");return this.requestedVerifier=t,this.loginHint=e,this.ethereum.enable()}logout(){return new Promise((t,e)=>{if(!this.isLoggedIn)return void e(new Error("User has not logged in yet"));this.communicationMux.getStream("logout").write({name:"logOut"});const i=this.communicationMux.getStream("status");Be(i,"data",g=>{g.loggedIn?e(new Error("Some Error Occured")):(this.isLoggedIn=!1,this.currentVerifier="",this.requestedVerifier="",t())})})}cleanUp(){var t=this;return(0,w.Z)(function*(){t.isLoggedIn&&(yield t.logout()),t.clearInit()})()}clearInit(){function t(e){return e instanceof Element||e instanceof HTMLDocument}t(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),t(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),t(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}showTorusButton(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}setProvider(t){let{host:e="mainnet",chainId:r=null,networkName:i=""}=t,s=function T(n,t){if(null==n)return{};var r,i,e=function N(n,t){if(null==n)return{};var i,s,e={},r=Object.keys(n);for(s=0;s<r.length;s++)!(t.indexOf(i=r[s])>=0)&&(e[i]=n[i]);return e}(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)!(t.indexOf(r=s[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(e[r]=n[r]))}return e}(t,nn);return new Promise((g,S)=>{const L=this.communicationMux.getStream("provider_change");Be(L,"data",G=>{const{err:Y,success:Q}=G.data;de.info(G),Y?S(Y):Q?g():S(new Error("some error occured"))});const A=K();this._handleWindow(A,{target:"_blank",features:ge}),L.write({name:"show_provider_change",data:{network:an({host:e,chainId:r,networkName:i},s),preopenInstanceId:A,override:!1}})})}showWallet(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.communicationMux.getStream("show_wallet"),i=t?`/${t}`:"";r.write({name:"show_wallet",data:{path:i}}),Be(r,"data",g=>{if("show_wallet_instance"===g.name){const{instanceId:S}=g.data,L=new URL(`${this.torusUrl}/wallet${i}`);L.searchParams.append("integrity","true"),L.searchParams.append("instanceId",S),Object.keys(e).forEach(A=>{L.searchParams.append(A,e[A])}),L.hash=`#isCustomLogin=${this.isCustomLogin}`,new Fr({url:L,features:"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315"}).open()}})}getPublicAddress(t){return(0,w.Z)(function*(){let{verifier:e,verifierId:r,isExtended:i=!1}=t;if(!Te.supportedVerifierList.includes(e)||!Jt[e])throw new Error("Unsupported verifier");const s=e,g=Jt[e],S=new URL("https://api.tor.us/lookup/torus");return S.searchParams.append("verifier",g),S.searchParams.append("verifierId",r),S.searchParams.append("walletVerifier",s),S.searchParams.append("network","mainnet"),S.searchParams.append("isExtended",i.toString()),M(S.href,{headers:{"Content-Type":"application/json; charset=utf-8"}},{useAPIKey:!0})})()}getUserInfo(t){return new Promise((e,r)=>{if(this.isLoggedIn){const i=this.communicationMux.getStream("user_info_access");i.write({name:"user_info_access_request"}),Be(i,"data",g=>{const{name:S,data:{approved:L,payload:_,rejected:A,newRequest:G}}=g;if("user_info_access_response"===S)if(L)e(_);else if(A)r(new Error("User rejected the request"));else if(G){const Y=this.communicationMux.getStream("user_info");Be(Y,"data",pe=>{"user_info_response"===pe.name&&(pe.data.approved?e(pe.data.payload):r(new Error("User rejected the request")))});const X=K();this._handleWindow(X,{target:"_blank",features:ge}),Y.write({name:"user_info_request",data:{message:t,preopenInstanceId:X}})}})}else r(new Error("User has not logged in yet"))})}initiateTopup(t,e){return new Promise((r,i)=>{if(this.isInitialized){const{errors:s,isValid:g}=((n,t)=>{const e={};if(!n)return{errors:e,isValid:!0};if(n&&!tr[n])return e.provider="Invalid Provider",{errors:e,isValid:0===Object.keys(e).length};const r=tr[n],i=t||{};if(i.fiatValue){const s=+parseFloat(i.fiatValue.toString())||0;s<r.minOrderValue&&(e.fiatValue="Requested amount is lower than supported"),s>r.maxOrderValue&&r.enforceMax&&(e.fiatValue="Requested amount is higher than supported")}if(i.selectedCurrency&&!r.validCurrencies.includes(i.selectedCurrency)&&(e.selectedCurrency="Unsupported currency"),i.selectedCryptoCurrency){const s=Object.values(r.validCryptoCurrenciesByChain).flat().map(S=>S.value),g="moonpay"===n?i.selectedCryptoCurrency.toLowerCase():i.selectedCryptoCurrency;s&&!s.includes(g)&&(e.selectedCryptoCurrency="Unsupported cryptoCurrency")}return{errors:e,isValid:0===Object.keys(e).length}})(t,e);if(!g)return void i(new Error(JSON.stringify(s)));const S=this.communicationMux.getStream("topup");Be(S,"data",A=>{"topup_response"===A.name&&(A.data.success?r(A.data.success):i(new Error(A.data.error)))});const _=K();this._handleWindow(_),S.write({name:"topup_request",data:{provider:t,params:e,preopenInstanceId:_}})}else i(new Error("Torus is not initialized yet"))})}loginWithPrivateKey(t){var e=this;return(0,w.Z)(function*(){const{privateKey:r,userInfo:i}=t;return new Promise((s,g)=>{if(e.isInitialized){if(32!==Buffer.from(r,"hex").length)return void g(new Error("Invalid private key, Please provide a 32 byte valid secp25k1 private key"));const S=e.communicationMux.getStream("login_with_private_key");Be(S,"data",_=>{"login_with_private_key_response"===_.name&&(_.data.success?s(_.data.success):g(new Error(_.data.error)))}),S.write({name:"login_with_private_key_request",data:{privateKey:r,userInfo:i}})}else g(new Error("Torus is not initialized yet"))})})()}showWalletConnectScanner(){var t=this;return(0,w.Z)(function*(){if(!t.useWalletConnect)throw new Error("Set `useWalletConnect` as true in init function options to use wallet connect scanner");return new Promise((e,r)=>{if(t.isLoggedIn){const i=t.communicationMux.getStream("wallet_connect_stream");Be(i,"data",g=>{"wallet_connect_stream_res"===g.name&&(g.data.success?e(g.data.success):r(new Error(g.data.error)),t._displayIframe())}),i.write({name:"wallet_connect_stream_req"}),t._displayIframe(!0)}else r(new Error("User has not logged in yet"))})})()}_handleWindow(t){let{url:e,target:r,features:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){const s=this.communicationMux.getStream("window"),g=new URL(e||`${this.torusUrl}/redirect?preopenInstanceId=${t}`);g.hash?g.hash+=`&isCustomLogin=${this.isCustomLogin}`:g.hash=`#isCustomLogin=${this.isCustomLogin}`;const S=new Fr({url:g,target:r,features:i});if(S.open(),!S.window)return void this._createPopupBlockAlert(t,g.href);s.write({name:"opened_window",data:{preopenInstanceId:t}});const L=_=>{let{preopenInstanceId:A,close:G}=_;A===t&&G&&(S.close(),s.removeListener("data",L))};s.on("data",L),S.once("close",()=>{s.write({data:{preopenInstanceId:t,closed:!0}}),s.removeListener("data",L)})}}_setEmbedWhiteLabel(t){const{theme:e}=this.whiteLabel||{};if(e){const{isDark:r=!1,colors:i={}}=e;r&&t.classList.add("torus-dark"),i.torusBrand1&&t.style.setProperty("--torus-brand-1",i.torusBrand1),i.torusGray2&&t.style.setProperty("--torus-gray-2",i.torusGray2)}}_getLogoUrl(){var t,e;let r=`${this.torusUrl}/images/torus_icon-blue.svg`;var i,s;return r=null!==(t=this.whiteLabel)&&void 0!==t&&null!==(e=t.theme)&&void 0!==e&&e.isDark?(null===(i=this.whiteLabel)||void 0===i?void 0:i.logoLight)||r:(null===(s=this.whiteLabel)||void 0===s?void 0:s.logoDark)||r,r}_sendWidgetVisibilityStatus(t){this.communicationMux.getStream("torus-widget-visibility").write({data:t})}_displayIframe(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e={},r=this.buttonSize+14;if(t)e.display="block",e.width="100%",e.height="100%",e.top="0px",e.right="0px",e.left="0px",e.bottom="0px";else switch(e.display=this.torusWidgetVisibility?"block":"none",e.height=`${r}px`,e.width=`${r}px`,this.buttonPosition){case Ve.TOP_LEFT:e.top="0px",e.left="0px",e.right="auto",e.bottom="auto";break;case Ve.TOP_RIGHT:e.top="0px",e.right="0px",e.left="auto",e.bottom="auto";break;case Ve.BOTTOM_RIGHT:e.bottom="0px",e.right="0px",e.top="auto",e.left="auto";break;default:e.bottom="0px",e.left="0px",e.top="auto",e.right="auto"}Object.assign(this.torusIframe.style,e),this.isIframeFullScreen=t}_setupWeb3(){de.info("setupWeb3 running");const t=new xt({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),e=new xt({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),r=new rr(t),i=A=>{const G=r[A];r[A]=function(Q){if(Q&&"eth_requestAccounts"===Q)return r.enable();for(var X=arguments.length,pe=new Array(X>1?X-1:0),Oe=1;Oe<X;Oe++)pe[Oe-1]=arguments[Oe];return G.apply(this,[Q,...pe])}};i("send"),i("sendAsync"),r.enable=()=>new Promise((A,G)=>{r.sendAsync({jsonrpc:"2.0",id:K(),method:"eth_requestAccounts",params:[]},(Y,Q)=>{const{result:X}=Q||{};if(Y)setTimeout(()=>{G(Y)},50);else if(Array.isArray(X)&&X.length>0){const pe=()=>{if(""!==this.requestedVerifier&&this.currentVerifier!==this.requestedVerifier){const{requestedVerifier:Oe}=this;this.logout().then(ce=>{this.requestedVerifier=Oe,this._showLoginPopup(!0,A,G)}).catch(ce=>G(ce))}else A(X)};this.isLoggedIn?pe():this.isLoginCallback=pe}else this._showLoginPopup(!0,A,G)})}),r.tryPreopenHandle=(A,G)=>{const Y=A;if(!Array.isArray(Y)&&un.includes(Y.method)){const Q=K();this._handleWindow(Q,{target:"_blank",features:Ee}),Y.preopenInstanceId=Q}r._rpcEngine.handle(Y,G)};const s=new Proxy(r,{deleteProperty:()=>!0});this.ethereum=s;const g=function Tt(n){var t=new Yt;return t.getStream=function(r){return this._substreams[r]?this._substreams[r]:this.createStream(r)},pt()(n,t,n,function(e){e&&window.console.error(e)}),t}(e);this.communicationMux=g,g.getStream("window").on("data",A=>{"create_window"===A.name&&this._createPopupBlockAlert(A.data.preopenInstanceId,A.data.url)}),g.getStream("widget").on("data",A=>{const{data:G}=A;this._displayIframe(G)}),g.getStream("status").on("data",A=>{A.loggedIn?(this.isLoggedIn=A.loggedIn,this.currentVerifier=A.verifier):this._displayIframe(),this.isLoginCallback&&(this.isLoginCallback(),delete this.isLoginCallback)}),this.provider=s,this.provider.shouldSendMetadata&&function rn(n){Lr.apply(this,arguments)}(this.provider._rpcEngine),r._initializeState(),de.debug("Torus - injected provider")}_showLoginPopup(t,e,r){const i=g=>{const{err:S,selectedAddress:L}=g;S?(de.error(S),r&&r(S)):e&&e([L]),this.isIframeFullScreen&&this._displayIframe()},s=this.communicationMux.getStream("oauth");if(this.requestedVerifier){Be(s,"data",i);const g=K();this._handleWindow(g),s.write({name:"oauth",data:{calledFromEmbed:t,verifier:this.requestedVerifier,preopenInstanceId:g,login_hint:this.loginHint}})}else this._displayIframe(!0),Be(s,"data",i),s.write({name:"oauth_modal",data:{calledFromEmbed:t}})}_createPopupBlockAlert(t,e){const r=this._getLogoUrl(),i=ut(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${r}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),s=ut(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),g=ut('<div id="torusAlert__btn-container"></div>');g.appendChild(s),i.appendChild(g),this._setEmbedWhiteLabel(i),rt(()=>{this.torusAlertContainer.style.display="block",this.torusAlertContainer.appendChild(i)}),rt(()=>{s.addEventListener("click",()=>{this._handleWindow(t,{url:e,target:"_blank",features:Ee}),i.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})})}}var dn=function(){return function(n,t,e,r){return new(e||(e=Promise))(function(s,g){function S(A){try{_(r.next(A))}catch(G){g(G)}}function L(A){try{_(r.throw(A))}catch(G){g(G)}}function _(A){A.done?s(A.value):function i(s){return s instanceof e?s:new e(function(g){g(s)})}(A.value).then(S,L)}_((r=r.apply(n,t||[])).next())})}(void 0,void 0,void 0,function(){return function(n,t){var r,i,s,g,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return g={next:S(0),throw:S(1),return:S(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function S(_){return function(A){return function L(_){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(s=2&_[0]?i.return:_[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,_[1])).done)return s;switch(i=0,s&&(_=[2&_[0],s.value]),_[0]){case 0:case 1:s=_;break;case 4:return e.label++,{value:_[1],done:!1};case 5:e.label++,i=_[1],_=[0];continue;case 7:_=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===_[0]||2===_[0])){e=0;continue}if(3===_[0]&&(!s||_[1]>s[0]&&_[1]<s[3])){e.label=_[1];break}if(6===_[0]&&e.label<s[1]){e.label=s[1],s=_;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(_);break}s[2]&&e.ops.pop(),e.trys.pop();continue}_=t.call(n,e)}catch(A){_=[6,A],i=0}finally{r=s=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,A])}}}(this,function(n){return[2,new ln]})})}},45611:(V,O,l)=>{"use strict";var N=l(49152);function T(j,x){return void 0===x&&(x="utf8"),Buffer.isBuffer(j)?y(j.toString("base64")):y(Buffer.from(j,x).toString("base64"))}function p(j){return j=j.toString(),N.default(j).replace(/\-/g,"+").replace(/_/g,"/")}function y(j){return j.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var C=T;C.encode=T,C.decode=function c(j,x){return void 0===x&&(x="utf8"),Buffer.from(p(j),"base64").toString(x)},C.toBase64=p,C.fromBase64=y,C.toBuffer=function b(j){return Buffer.from(p(j),"base64")},O.default=C},49152:(V,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function l(w){var T=w.length,c=T%4;if(!c)return w;var p=T,y=4-c,C=Buffer.alloc(T+y);for(C.write(w);y--;)C.write("=",p++);return C.toString()}},37092:(V,O,l)=>{V.exports=l(45611).default,V.exports.default=V.exports},93605:(V,O)=>{function ee(k){return Object.prototype.toString.call(k)}O.isArray=function l(k){return Array.isArray?Array.isArray(k):"[object Array]"===ee(k)},O.isBoolean=function w(k){return"boolean"==typeof k},O.isNull=function N(k){return null===k},O.isNullOrUndefined=function T(k){return null==k},O.isNumber=function c(k){return"number"==typeof k},O.isString=function p(k){return"string"==typeof k},O.isSymbol=function y(k){return"symbol"==typeof k},O.isUndefined=function b(k){return void 0===k},O.isRegExp=function C(k){return"[object RegExp]"===ee(k)},O.isObject=function j(k){return"object"==typeof k&&null!==k},O.isDate=function x(k){return"[object Date]"===ee(k)},O.isError=function te(k){return"[object Error]"===ee(k)||k instanceof Error},O.isFunction=function q(k){return"function"==typeof k},O.isPrimitive=function U(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||typeof k>"u"},O.isBuffer=Buffer.isBuffer},75859:(V,O,l)=>{var w=l(99318),N=function(){},p=function(y,b,C){if("function"==typeof b)return p(y,null,b);b||(b={}),C=w(C||N);var j=y._writableState,x=y._readableState,te=b.readable||!1!==b.readable&&y.readable,q=b.writable||!1!==b.writable&&y.writable,U=!1,ee=function(){y.writable||k()},k=function(){q=!1,te||C.call(y)},ae=function(){te=!1,q||C.call(y)},F=function(z){C.call(y,z?new Error("exited with error code: "+z):null)},v=function(z){C.call(y,z)},D=function(){process.nextTick(I)},I=function(){if(!U){if(te&&(!x||!x.ended||x.destroyed))return C.call(y,new Error("premature close"));if(q&&(!j||!j.ended||j.destroyed))return C.call(y,new Error("premature close"))}},ue=function(){y.req.on("finish",k)};return function(y){return y.setHeader&&"function"==typeof y.abort}(y)?(y.on("complete",k),y.on("abort",D),y.req?ue():y.on("request",ue)):q&&!j&&(y.on("end",ee),y.on("close",ee)),function(y){return y.stdio&&Array.isArray(y.stdio)&&3===y.stdio.length}(y)&&y.on("exit",F),y.on("end",ae),y.on("finish",k),!1!==b.error&&y.on("error",v),y.on("close",D),function(){U=!0,y.removeListener("complete",k),y.removeListener("abort",D),y.removeListener("request",ue),y.req&&y.req.removeListener("finish",k),y.removeListener("end",ee),y.removeListener("close",ee),y.removeListener("finish",k),y.removeListener("exit",F),y.removeListener("end",ae),y.removeListener("error",v),y.removeListener("close",D)}};V.exports=p},95439:V=>{"use strict";V.exports=function O(l,w){if(l===w)return!0;if(l&&w&&"object"==typeof l&&"object"==typeof w){if(l.constructor!==w.constructor)return!1;var N,T,c;if(Array.isArray(l)){if((N=l.length)!=w.length)return!1;for(T=N;0!=T--;)if(!O(l[T],w[T]))return!1;return!0}if(l.constructor===RegExp)return l.source===w.source&&l.flags===w.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===w.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===w.toString();if((N=(c=Object.keys(l)).length)!==Object.keys(w).length)return!1;for(T=N;0!=T--;)if(!Object.prototype.hasOwnProperty.call(w,c[T]))return!1;for(T=N;0!=T--;){var p=c[T];if(!O(l[p],w[p]))return!1}return!0}return l!=l&&w!=w}},78936:V=>{"use strict";const O=l=>null!==l&&"object"==typeof l&&"function"==typeof l.pipe;O.writable=l=>O(l)&&!1!==l.writable&&"function"==typeof l._write&&"object"==typeof l._writableState,O.readable=l=>O(l)&&!1!==l.readable&&"function"==typeof l._read&&"object"==typeof l._readableState,O.duplex=l=>O.writable(l)&&O.readable(l),O.transform=l=>O.duplex(l)&&"function"==typeof l._transform,V.exports=O},41413:(V,O,l)=>{V=l.nmd(V);var N="__lodash_hash_undefined__",p=9007199254740991,y="[object Arguments]",q="[object Function]",F="[object Object]",h=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B[y]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object Boolean]"]=B["[object DataView]"]=B["[object Date]"]=B["[object Error]"]=B[q]=B["[object Map]"]=B["[object Number]"]=B[F]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object WeakMap]"]=!1;var Z="object"==typeof global&&global&&global.Object===Object&&global,J="object"==typeof self&&self&&self.Object===Object&&self,le=Z||J||Function("return this")(),ve=O&&!O.nodeType&&O,oe=ve&&V&&!V.nodeType&&V,we=oe&&oe.exports===ve,o=we&&Z.process,u=function(){try{return oe&&oe.require&&oe.require("util").types||o&&o.binding&&o.binding("util")}catch{}}(),R=u&&u.isTypedArray;function W(a,f,m){switch(m.length){case 0:return a.call(f);case 1:return a.call(f,m[0]);case 2:return a.call(f,m[0],m[1]);case 3:return a.call(f,m[0],m[1],m[2])}return a.apply(f,m)}var a,ft=Array.prototype,Xe=Object.prototype,Je=le["__core-js_shared__"],Ue=Function.prototype.toString,Ie=Xe.hasOwnProperty,nt=(a=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",qe=Xe.toString,Qe=Ue.call(Object),$e=RegExp("^"+Ue.call(Ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=we?le.Buffer:void 0,_t=le.Symbol,Lt=le.Uint8Array,Nt=We?We.allocUnsafe:void 0,it=function ze(a,f){return function(m){return a(f(m))}}(Object.getPrototypeOf,Object),ct=Object.create,ir=Xe.propertyIsEnumerable,ar=ft.splice,Ze=_t?_t.toStringTag:void 0,dt=function(){try{var a=Tt(Object,"defineProperty");return a({},"",{}),a}catch{}}(),jt=We?We.isBuffer:void 0,Ut=Math.max,or=Date.now,ht=Tt(le,"Map"),Le=Tt(Object,"create"),sr=function(){function a(){}return function(f){if(!Te(f))return{};if(ct)return ct(f);a.prototype=f;var m=new a;return a.prototype=void 0,m}}();function Fe(a){var f=-1,m=null==a?0:a.length;for(this.clear();++f<m;){var K=a[f];this.set(K[0],K[1])}}function He(a){var f=-1,m=null==a?0:a.length;for(this.clear();++f<m;){var K=a[f];this.set(K[0],K[1])}}function et(a){var f=-1,m=null==a?0:a.length;for(this.clear();++f<m;){var K=a[f];this.set(K[0],K[1])}}function tt(a){var f=this.__data__=new He(a);this.size=f.size}function Ht(a,f,m){(void 0!==m&&!vt(a[f],m)||void 0===m&&!(f in a))&&Ot(a,f,m)}function Wr(a,f,m){var K=a[f];(!Ie.call(a,f)||!vt(K,m)||void 0===m&&!(f in a))&&Ot(a,f,m)}function at(a,f){for(var m=a.length;m--;)if(vt(a[m][0],f))return m;return-1}function Ot(a,f,m){"__proto__"==f&&dt?dt(a,f,{configurable:!0,enumerable:!0,value:m,writable:!0}):a[f]=m}Fe.prototype.clear=function ur(){this.__data__=Le?Le(null):{},this.size=0},Fe.prototype.delete=function lr(a){var f=this.has(a)&&delete this.__data__[a];return this.size-=f?1:0,f},Fe.prototype.get=function fr(a){var f=this.__data__;if(Le){var m=f[a];return m===N?void 0:m}return Ie.call(f,a)?f[a]:void 0},Fe.prototype.has=function pt(a){var f=this.__data__;return Le?void 0!==f[a]:Ie.call(f,a)},Fe.prototype.set=function cr(a,f){var m=this.__data__;return this.size+=this.has(a)?0:1,m[a]=Le&&void 0===f?N:f,this},He.prototype.clear=function gt(){this.__data__=[],this.size=0},He.prototype.delete=function Bt(a){var f=this.__data__,m=at(f,a);return!(m<0||(m==f.length-1?f.pop():ar.call(f,m,1),--this.size,0))},He.prototype.get=function Ct(a){var f=this.__data__,m=at(f,a);return m<0?void 0:f[m][1]},He.prototype.has=function kt(a){return at(this.__data__,a)>-1},He.prototype.set=function xt(a,f){var m=this.__data__,K=at(m,a);return K<0?(++this.size,m.push([a,f])):m[K][1]=f,this},et.prototype.clear=function dr(){this.size=0,this.__data__={hash:new Fe,map:new(ht||He),string:new Fe}},et.prototype.delete=function Wt(a){var f=mt(this,a).delete(a);return this.size-=f?1:0,f},et.prototype.get=function hr(a){return mt(this,a).get(a)},et.prototype.has=function yt(a){return mt(this,a).has(a)},et.prototype.set=function pr(a,f){var m=mt(this,a),K=m.size;return m.set(a,f),this.size+=m.size==K?0:1,this},tt.prototype.clear=function Ye(){this.__data__=new He,this.size=0},tt.prototype.delete=function Br(a){var f=this.__data__,m=f.delete(a);return this.size=f.size,m},tt.prototype.get=function kr(a){return this.__data__.get(a)},tt.prototype.has=function gr(a){return this.__data__.has(a)},tt.prototype.set=function xr(a,f){var m=this.__data__;if(m instanceof He){var K=m.__data__;if(!ht||K.length<199)return K.push([a,f]),this.size=++m.size,this;m=this.__data__=new et(K)}return m.set(a,f),this.size=m.size,this};var Kt=function Yt(a){return function(f,m,K){for(var se=-1,he=Object(f),me=K(f),ie=me.length;ie--;){var ge=me[a?ie:++se];if(!1===m(he[ge],ge,he))break}return f}}();function ot(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":Ze&&Ze in Object(a)?function Kr(a){var f=Ie.call(a,Ze),m=a[Ze];try{a[Ze]=void 0;var K=!0}catch{}var se=qe.call(a);return K&&(f?a[Ze]=m:delete a[Ze]),se}(a):function Mr(a){return qe.call(a)}(a)}function Ft(a){return rt(a)&&ot(a)==y}function wr(a,f,m,K,se){a!==f&&Kt(f,function(he,me){if(se||(se=new tt),Te(he))!function Hr(a,f,m,K,se,he,me){var ie=Ke(a,m),ge=Ke(f,m),Ne=me.get(ge);if(Ne)Ht(a,m,Ne);else{var Ee=he?he(ie,ge,m+"",a,f,me):void 0,lt=void 0===Ee;if(lt){var wt=Et(ge),Mt=!wt&&Ge(ge),Dt=!wt&&!Mt&&Qt(ge);Ee=ge,wt||Mt||Dt?Et(ie)?Ee=ie:function Dr(a){return rt(a)&&At(a)}(ie)?Ee=function Cr(a,f){var m=-1,K=a.length;for(f||(f=Array(K));++m<K;)f[m]=a[m];return f}(ie):Mt?(lt=!1,Ee=function _r(a,f){if(f)return a.slice();var m=a.length,K=Nt?Nt(m):new a.constructor(m);return a.copy(K),K}(ge,!0)):Dt?(lt=!1,Ee=function $t(a,f){var m=f?function Gt(a){var f=new a.constructor(a.byteLength);return new Lt(f).set(new Lt(a)),f}(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.length)}(ge,!0)):Ee=[]:function ut(a){if(!rt(a)||ot(a)!=F)return!1;var f=it(a);if(null===f)return!0;var m=Ie.call(f,"constructor")&&f.constructor;return"function"==typeof m&&m instanceof m&&Ue.call(m)==Qe}(ge)||Ve(ge)?(Ee=ie,Ve(ie)?Ee=function Be(a){return function Or(a,f,m,K){var se=!m;m||(m={});for(var he=-1,me=f.length;++he<me;){var ie=f[he],ge=K?K(m[ie],a[ie],ie,m,a):void 0;void 0===ge&&(ge=a[ie]),se?Ot(m,ie,ge):Wr(m,ie,ge)}return m}(a,er(a))}(ie):(!Te(ie)||Rt(ie))&&(Ee=function Tr(a){return"function"!=typeof a.constructor||Xt(a)?{}:sr(it(a))}(ge))):lt=!1}lt&&(me.set(ge,Ee),se(Ee,ge,K,he,me),me.delete(ge)),Ht(a,m,Ee)}}(a,f,me,m,wr,K,se);else{var ie=K?K(Ke(a,me),he,me+"",a,f,se):void 0;void 0===ie&&(ie=he),Ht(a,me,ie)}},er)}var Sr=dt?function(a,f){return dt(a,"toString",{configurable:!0,enumerable:!1,value:de(f),writable:!0})}:Re;function mt(a,f){var m=a.__data__;return function Ar(a){var f=typeof a;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==a:null===a}(f)?m["string"==typeof f?"string":"hash"]:m.map}function Tt(a,f){var m=function ne(a,f){return null==a?void 0:a[f]}(a,f);return function mr(a){return!(!Te(a)||function Rr(a){return!!nt&&nt in a}(a))&&(Rt(a)?$e:h).test(function Ce(a){if(null!=a){try{return Ue.call(a)}catch{}try{return a+""}catch{}}return""}(a))}(m)?m:void 0}function Er(a,f){var m=typeof a;return!!(f=f??p)&&("number"==m||"symbol"!=m&&E.test(a))&&a>-1&&a%1==0&&a<f}function Xt(a){var f=a&&a.constructor;return a===("function"==typeof f&&f.prototype||Xe)}function Ke(a,f){if(("constructor"!==f||"function"!=typeof a[f])&&"__proto__"!=f)return a[f]}var Jt=function be(a){var f=0,m=0;return function(){var K=or(),se=16-(K-m);if(m=K,se>0){if(++f>=800)return arguments[0]}else f=0;return a.apply(void 0,arguments)}}(Sr);function vt(a,f){return a===f||a!=a&&f!=f}var Ve=Ft(function(){return arguments}())?Ft:function(a){return rt(a)&&Ie.call(a,"callee")&&!ir.call(a,"callee")},Et=Array.isArray;function At(a){return null!=a&&qt(a.length)&&!Rt(a)}var Ge=jt||function tr(){return!1};function Rt(a){if(!Te(a))return!1;var f=ot(a);return f==q||"[object GeneratorFunction]"==f||"[object AsyncFunction]"==f||"[object Proxy]"==f}function qt(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=p}function Te(a){var f=typeof a;return null!=a&&("object"==f||"function"==f)}function rt(a){return null!=a&&"object"==typeof a}var Qt=R?function $(a){return function(f){return a(f)}}(R):function vr(a){return rt(a)&&qt(a.length)&&!!B[ot(a)]};function er(a){return At(a)?function yr(a,f){var m=Et(a),K=!m&&Ve(a),se=!m&&!K&&Ge(a),he=!m&&!K&&!se&&Qt(a),me=m||K||se||he,ie=me?function fe(a,f){for(var m=-1,K=Array(a);++m<a;)K[m]=f(m);return K}(a.length,String):[],ge=ie.length;for(var Ne in a)(f||Ie.call(a,Ne))&&(!me||!("length"==Ne||se&&("offset"==Ne||"parent"==Ne)||he&&("buffer"==Ne||"byteLength"==Ne||"byteOffset"==Ne)||Er(Ne,ge)))&&ie.push(Ne);return ie}(a,!0):function Vt(a){if(!Te(a))return function Pr(a){var f=[];if(null!=a)for(var m in Object(a))f.push(m);return f}(a);var f=Xt(a),m=[];for(var K in a)"constructor"==K&&(f||!Ie.call(a,K))||m.push(K);return m}(a)}var Pt=function Zt(a){return function br(a,f){return Jt(function st(a,f,m){return f=Ut(void 0===f?a.length-1:f,0),function(){for(var K=arguments,se=-1,he=Ut(K.length-f,0),me=Array(he);++se<he;)me[se]=K[f+se];se=-1;for(var ie=Array(f+1);++se<f;)ie[se]=K[se];return ie[f]=m(me),W(a,this,ie)}}(a,f,Re),a+"")}(function(f,m){var K=-1,se=m.length,he=se>1?m[se-1]:void 0,me=se>2?m[2]:void 0;for(he=a.length>3&&"function"==typeof he?(se--,he):void 0,me&&function zt(a,f,m){if(!Te(m))return!1;var K=typeof f;return!!("number"==K?At(m)&&Er(f,m.length):"string"==K&&f in m)&&vt(m[f],a)}(m[0],m[1],me)&&(he=se<3?void 0:he,se=1),f=Object(f);++K<se;){var ie=m[K];ie&&a(f,ie,K,he)}return f})}(function(a,f,m){wr(a,f,m)});function de(a){return function(){return a}}function Re(a){return a}V.exports=Pt},58330:function(V,O,l){var w,N;!function(T,c){"use strict";w=function(){var T=function(){},c="undefined",p=typeof window!==c&&typeof window.navigator!==c&&/Trident\/|MSIE /.test(window.navigator.userAgent),y=["trace","debug","info","warn","error"];function b(F,v){var D=F[v];if("function"==typeof D.bind)return D.bind(F);try{return Function.prototype.bind.call(D,F)}catch{return function(){return Function.prototype.apply.apply(D,[F,arguments])}}}function C(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function j(F){return"debug"===F&&(F="log"),typeof console!==c&&("trace"===F&&p?C:void 0!==console[F]?b(console,F):void 0!==console.log?b(console,"log"):T)}function x(F,v){for(var D=0;D<y.length;D++){var I=y[D];this[I]=D<F?T:this.methodFactory(I,F,v)}this.log=this.debug}function te(F,v,D){return function(){typeof console!==c&&(x.call(this,v,D),this[F].apply(this,arguments))}}function q(F,v,D){return j(F)||te.apply(this,arguments)}function U(F,v,D){var ue,I=this;v=v??"WARN";var z="loglevel";function Me(){var re;if(typeof window!==c&&z){try{re=window.localStorage[z]}catch{}if(typeof re===c)try{var Se=window.document.cookie,_e=Se.indexOf(encodeURIComponent(z)+"=");-1!==_e&&(re=/^([^;]+)/.exec(Se.slice(_e))[1])}catch{}return void 0===I.levels[re]&&(re=void 0),re}}"string"==typeof F?z+=":"+F:"symbol"==typeof F&&(z=void 0),I.name=F,I.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},I.methodFactory=D||q,I.getLevel=function(){return ue},I.setLevel=function(re,Se){if("string"==typeof re&&void 0!==I.levels[re.toUpperCase()]&&(re=I.levels[re.toUpperCase()]),!("number"==typeof re&&re>=0&&re<=I.levels.SILENT))throw"log.setLevel() called with invalid level: "+re;if(ue=re,!1!==Se&&function je(re){var Se=(y[re]||"silent").toUpperCase();if(typeof window!==c&&z){try{return void(window.localStorage[z]=Se)}catch{}try{window.document.cookie=encodeURIComponent(z)+"="+Se+";"}catch{}}}(re),x.call(I,re,F),typeof console===c&&re<I.levels.SILENT)return"No console available for logging"},I.setDefaultLevel=function(re){v=re,Me()||I.setLevel(re,!1)},I.resetLevel=function(){I.setLevel(v,!1),function ke(){if(typeof window!==c&&z){try{return void window.localStorage.removeItem(z)}catch{}try{window.document.cookie=encodeURIComponent(z)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}()},I.enableAll=function(re){I.setLevel(I.levels.TRACE,re)},I.disableAll=function(re){I.setLevel(I.levels.SILENT,re)};var De=Me();null==De&&(De=v),I.setLevel(De,!1)}var ee=new U,k={};ee.getLogger=function(v){if("symbol"!=typeof v&&"string"!=typeof v||""===v)throw new TypeError("You must supply a name when creating a logger.");var D=k[v];return D||(D=k[v]=new U(v,ee.getLevel(),ee.methodFactory)),D};var ae=typeof window!==c?window.log:void 0;return ee.noConflict=function(){return typeof window!==c&&window.log===ee&&(window.log=ae),ee},ee.getLoggers=function(){return k},ee.default=ee,ee},void 0!==(N=w.call(O,l,O,V))&&(V.exports=N)}()},99318:(V,O,l)=>{var w=l(99006);function N(c){var p=function(){return p.called?p.value:(p.called=!0,p.value=c.apply(this,arguments))};return p.called=!1,p}function T(c){var p=function(){if(p.called)throw new Error(p.onceError);return p.called=!0,p.value=c.apply(this,arguments)};return p.onceError=(c.name||"Function wrapped with `once`")+" shouldn't be called more than once",p.called=!1,p}V.exports=w(N),V.exports.strict=w(T),N.proto=N(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return N(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return T(this)},configurable:!0})})},16349:V=>{"use strict";V.exports=typeof process>"u"||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?{nextTick:function O(l,w,N,T){if("function"!=typeof l)throw new TypeError('"callback" argument must be a function');var p,y,c=arguments.length;switch(c){case 0:case 1:return process.nextTick(l);case 2:return process.nextTick(function(){l.call(null,w)});case 3:return process.nextTick(function(){l.call(null,w,N)});case 4:return process.nextTick(function(){l.call(null,w,N,T)});default:for(p=new Array(c-1),y=0;y<p.length;)p[y++]=arguments[y];return process.nextTick(function(){l.apply(null,p)})}}}:process},30968:(V,O,l)=>{var w=l(99318),N=l(75859),T=l(71156),c=function(){},p=/^v?\.0/.test(process.version),y=function(U){return"function"==typeof U},j=function(U,ee,k,ae){ae=w(ae);var F=!1;U.on("close",function(){F=!0}),N(U,{readable:ee,writable:k},function(D){if(D)return ae(D);F=!0,ae()});var v=!1;return function(D){if(!F&&!v){if(v=!0,function(U){return!(!p||!T)&&(U instanceof(T.ReadStream||c)||U instanceof(T.WriteStream||c))&&y(U.close)}(U))return U.close(c);if(function(U){return U.setHeader&&y(U.abort)}(U))return U.abort();if(y(U.destroy))return U.destroy();ae(D||new Error("stream was destroyed"))}}},x=function(U){U()},te=function(U,ee){return U.pipe(ee)};V.exports=function(){var U=Array.prototype.slice.call(arguments),ee=y(U[U.length-1]||c)&&U.pop()||c;if(Array.isArray(U[0])&&(U=U[0]),U.length<2)throw new Error("pump requires two streams per minimum");var k,ae=U.map(function(F,v){var D=v<U.length-1;return j(F,D,v>0,function(ue){k||(k=ue),ue&&ae.forEach(x),!D&&(ae.forEach(x),ee(k))})});return U.reduce(te)}},67941:V=>{var O=function(l){"use strict";var T,w=Object.prototype,N=w.hasOwnProperty,c="function"==typeof Symbol?Symbol:{},p=c.iterator||"@@iterator",y=c.asyncIterator||"@@asyncIterator",b=c.toStringTag||"@@toStringTag";function C(M,P,H){return Object.defineProperty(M,P,{value:H,enumerable:!0,configurable:!0,writable:!0}),M[P]}try{C({},"")}catch{C=function(P,H,d){return P[H]=d}}function j(M,P,H,d){var E=Object.create((P&&P.prototype instanceof ae?P:ae).prototype),B=new _e(d||[]);return E._invoke=function ke(M,P,H){var d=te;return function(E,B){if(d===U)throw new Error("Generator is already running");if(d===ee){if("throw"===E)throw B;return xe()}for(H.method=E,H.arg=B;;){var Z=H.delegate;if(Z){var J=De(Z,H);if(J){if(J===k)continue;return J}}if("next"===H.method)H.sent=H._sent=H.arg;else if("throw"===H.method){if(d===te)throw d=ee,H.arg;H.dispatchException(H.arg)}else"return"===H.method&&H.abrupt("return",H.arg);d=U;var le=x(M,P,H);if("normal"===le.type){if(d=H.done?ee:q,le.arg===k)continue;return{value:le.arg,done:H.done}}"throw"===le.type&&(d=ee,H.method="throw",H.arg=le.arg)}}}(M,H,B),E}function x(M,P,H){try{return{type:"normal",arg:M.call(P,H)}}catch(d){return{type:"throw",arg:d}}}l.wrap=j;var te="suspendedStart",q="suspendedYield",U="executing",ee="completed",k={};function ae(){}function F(){}function v(){}var D={};C(D,p,function(){return this});var I=Object.getPrototypeOf,ue=I&&I(I(Ae([])));ue&&ue!==w&&N.call(ue,p)&&(D=ue);var z=v.prototype=ae.prototype=Object.create(D);function je(M){["next","throw","return"].forEach(function(P){C(M,P,function(H){return this._invoke(P,H)})})}function Me(M,P){function H(E,B,Z,J){var le=x(M[E],M,B);if("throw"!==le.type){var ve=le.arg,oe=ve.value;return oe&&"object"==typeof oe&&N.call(oe,"__await")?P.resolve(oe.__await).then(function(we){H("next",we,Z,J)},function(we){H("throw",we,Z,J)}):P.resolve(oe).then(function(we){ve.value=we,Z(ve)},function(we){return H("throw",we,Z,J)})}J(le.arg)}var d;this._invoke=function h(E,B){function Z(){return new P(function(J,le){H(E,B,J,le)})}return d=d?d.then(Z,Z):Z()}}function De(M,P){var H=M.iterator[P.method];if(H===T){if(P.delegate=null,"throw"===P.method){if(M.iterator.return&&(P.method="return",P.arg=T,De(M,P),"throw"===P.method))return k;P.method="throw",P.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var d=x(H,M.iterator,P.arg);if("throw"===d.type)return P.method="throw",P.arg=d.arg,P.delegate=null,k;var h=d.arg;return h?h.done?(P[M.resultName]=h.value,P.next=M.nextLoc,"return"!==P.method&&(P.method="next",P.arg=T),P.delegate=null,k):h:(P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,k)}function re(M){var P={tryLoc:M[0]};1 in M&&(P.catchLoc=M[1]),2 in M&&(P.finallyLoc=M[2],P.afterLoc=M[3]),this.tryEntries.push(P)}function Se(M){var P=M.completion||{};P.type="normal",delete P.arg,M.completion=P}function _e(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(re,this),this.reset(!0)}function Ae(M){if(M){var P=M[p];if(P)return P.call(M);if("function"==typeof M.next)return M;if(!isNaN(M.length)){var H=-1,d=function h(){for(;++H<M.length;)if(N.call(M,H))return h.value=M[H],h.done=!1,h;return h.value=T,h.done=!0,h};return d.next=d}}return{next:xe}}function xe(){return{value:T,done:!0}}return F.prototype=v,C(z,"constructor",v),C(v,"constructor",F),F.displayName=C(v,b,"GeneratorFunction"),l.isGeneratorFunction=function(M){var P="function"==typeof M&&M.constructor;return!!P&&(P===F||"GeneratorFunction"===(P.displayName||P.name))},l.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,v):(M.__proto__=v,C(M,b,"GeneratorFunction")),M.prototype=Object.create(z),M},l.awrap=function(M){return{__await:M}},je(Me.prototype),C(Me.prototype,y,function(){return this}),l.AsyncIterator=Me,l.async=function(M,P,H,d,h){void 0===h&&(h=Promise);var E=new Me(j(M,P,H,d),h);return l.isGeneratorFunction(P)?E:E.next().then(function(B){return B.done?B.value:E.next()})},je(z),C(z,b,"Generator"),C(z,p,function(){return this}),C(z,"toString",function(){return"[object Generator]"}),l.keys=function(M){var P=[];for(var H in M)P.push(H);return P.reverse(),function d(){for(;P.length;){var h=P.pop();if(h in M)return d.value=h,d.done=!1,d}return d.done=!0,d}},l.values=Ae,_e.prototype={constructor:_e,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=T,this.done=!1,this.delegate=null,this.method="next",this.arg=T,this.tryEntries.forEach(Se),!M)for(var P in this)"t"===P.charAt(0)&&N.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=T)},stop:function(){this.done=!0;var P=this.tryEntries[0].completion;if("throw"===P.type)throw P.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var P=this;function H(J,le){return E.type="throw",E.arg=M,P.next=J,le&&(P.method="next",P.arg=T),!!le}for(var d=this.tryEntries.length-1;d>=0;--d){var h=this.tryEntries[d],E=h.completion;if("root"===h.tryLoc)return H("end");if(h.tryLoc<=this.prev){var B=N.call(h,"catchLoc"),Z=N.call(h,"finallyLoc");if(B&&Z){if(this.prev<h.catchLoc)return H(h.catchLoc,!0);if(this.prev<h.finallyLoc)return H(h.finallyLoc)}else if(B){if(this.prev<h.catchLoc)return H(h.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<h.finallyLoc)return H(h.finallyLoc)}}}},abrupt:function(M,P){for(var H=this.tryEntries.length-1;H>=0;--H){var d=this.tryEntries[H];if(d.tryLoc<=this.prev&&N.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var h=d;break}}h&&("break"===M||"continue"===M)&&h.tryLoc<=P&&P<=h.finallyLoc&&(h=null);var E=h?h.completion:{};return E.type=M,E.arg=P,h?(this.method="next",this.next=h.finallyLoc,k):this.complete(E)},complete:function(M,P){if("throw"===M.type)throw M.arg;return"break"===M.type||"continue"===M.type?this.next=M.arg:"return"===M.type?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):"normal"===M.type&&P&&(this.next=P),k},finish:function(M){for(var P=this.tryEntries.length-1;P>=0;--P){var H=this.tryEntries[P];if(H.finallyLoc===M)return this.complete(H.completion,H.afterLoc),Se(H),k}},catch:function(M){for(var P=this.tryEntries.length-1;P>=0;--P){var H=this.tryEntries[P];if(H.tryLoc===M){var d=H.completion;if("throw"===d.type){var h=d.arg;Se(H)}return h}}throw new Error("illegal catch attempt")},delegateYield:function(M,P,H){return this.delegate={iterator:Ae(M),resultName:P,nextLoc:H},"next"===this.method&&(this.arg=T),k}},l}(V.exports);try{regeneratorRuntime=O}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=O:Function("r","regeneratorRuntime = r")(O)}},12979:V=>{var O={}.toString;V.exports=Array.isArray||function(l){return"[object Array]"==O.call(l)}},84491:(V,O,l)=>{"use strict";var w=l(16349),N=Object.keys||function(q){var U=[];for(var ee in q)U.push(ee);return U};V.exports=j;var T=Object.create(l(93605));T.inherits=l(59879);var c=l(97866),p=l(3976);T.inherits(j,c);for(var y=N(p.prototype),b=0;b<y.length;b++){var C=y[b];j.prototype[C]||(j.prototype[C]=p.prototype[C])}function j(q){if(!(this instanceof j))return new j(q);c.call(this,q),p.call(this,q),q&&!1===q.readable&&(this.readable=!1),q&&!1===q.writable&&(this.writable=!1),this.allowHalfOpen=!0,q&&!1===q.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",x)}function x(){this.allowHalfOpen||this._writableState.ended||w.nextTick(te,this)}function te(q){q.end()}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(j.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(q){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=q,this._writableState.destroyed=q)}}),j.prototype._destroy=function(q,U){this.push(null),this.end(),w.nextTick(U,q)}},44842:(V,O,l)=>{"use strict";V.exports=T;var w=l(71481),N=Object.create(l(93605));function T(c){if(!(this instanceof T))return new T(c);w.call(this,c)}N.inherits=l(59879),N.inherits(T,w),T.prototype._transform=function(c,p,y){y(null,c)}},97866:(V,O,l)=>{"use strict";var w=l(16349);V.exports=I;var T,N=l(12979);I.ReadableState=D,l(93105);var p=function(o,u){return o.listeners(u).length},y=l(78204),b=l(13402).Buffer,C=global.Uint8Array||function(){},te=Object.create(l(93605));te.inherits=l(59879);var q=l(66882),U=void 0;U=q&&q.debuglog?q.debuglog("stream"):function(){};var ae,ee=l(52911),k=l(69559);te.inherits(I,y);var F=["error","close","destroy","pause","resume"];function D(o,u){var R=u instanceof(T=T||l(84491));this.objectMode=!!(o=o||{}).objectMode,R&&(this.objectMode=this.objectMode||!!o.readableObjectMode);var W=o.highWaterMark,fe=o.readableHighWaterMark;this.highWaterMark=W||0===W?W:R&&(fe||0===fe)?fe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ee,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=o.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,o.encoding&&(ae||(ae=l(57990).s),this.decoder=new ae(o.encoding),this.encoding=o.encoding)}function I(o){if(T=T||l(84491),!(this instanceof I))return new I(o);this._readableState=new D(o,this),this.readable=!0,o&&("function"==typeof o.read&&(this._read=o.read),"function"==typeof o.destroy&&(this._destroy=o.destroy)),y.call(this)}function ue(o,u,R,W,fe){var ne,$=o._readableState;return null===u?($.reading=!1,function Se(o,u){if(!u.ended){if(u.decoder){var R=u.decoder.end();R&&R.length&&(u.buffer.push(R),u.length+=u.objectMode?1:R.length)}u.ended=!0,_e(o)}}(o,$)):(fe||(ne=function je(o,u){var R;return!function x(o){return b.isBuffer(o)||o instanceof C}(u)&&"string"!=typeof u&&void 0!==u&&!o.objectMode&&(R=new TypeError("Invalid non-string/buffer chunk")),R}($,u)),ne?o.emit("error",ne):$.objectMode||u&&u.length>0?("string"!=typeof u&&!$.objectMode&&Object.getPrototypeOf(u)!==b.prototype&&(u=function j(o){return b.from(o)}(u)),W?$.endEmitted?o.emit("error",new Error("stream.unshift() after end event")):z(o,$,u,!0):$.ended?o.emit("error",new Error("stream.push() after EOF")):($.reading=!1,$.decoder&&!R?(u=$.decoder.write(u),$.objectMode||0!==u.length?z(o,$,u,!1):xe(o,$)):z(o,$,u,!1))):W||($.reading=!1)),function Me(o){return!o.ended&&(o.needReadable||o.length<o.highWaterMark||0===o.length)}($)}function z(o,u,R,W){u.flowing&&0===u.length&&!u.sync?(o.emit("data",R),o.read(0)):(u.length+=u.objectMode?1:R.length,W?u.buffer.unshift(R):u.buffer.push(R),u.needReadable&&_e(o)),xe(o,u)}function re(o,u){return o<=0||0===u.length&&u.ended?0:u.objectMode?1:o!=o?u.flowing&&u.length?u.buffer.head.data.length:u.length:(o>u.highWaterMark&&(u.highWaterMark=function De(o){return o>=8388608?o=8388608:(o--,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o++),o}(o)),o<=u.length?o:u.ended?u.length:(u.needReadable=!0,0))}function _e(o){var u=o._readableState;u.needReadable=!1,u.emittedReadable||(U("emitReadable",u.flowing),u.emittedReadable=!0,u.sync?w.nextTick(Ae,o):Ae(o))}function Ae(o){U("emit readable"),o.emit("readable"),E(o)}function xe(o,u){u.readingMore||(u.readingMore=!0,w.nextTick(M,o,u))}function M(o,u){for(var R=u.length;!u.reading&&!u.flowing&&!u.ended&&u.length<u.highWaterMark&&(U("maybeReadMore read 0"),o.read(0),R!==u.length);)R=u.length;u.readingMore=!1}function H(o){U("readable nexttick read 0"),o.read(0)}function h(o,u){u.reading||(U("resume read 0"),o.read(0)),u.resumeScheduled=!1,u.awaitDrain=0,o.emit("resume"),E(o),u.flowing&&!u.reading&&o.read(0)}function E(o){var u=o._readableState;for(U("flow",u.flowing);u.flowing&&null!==o.read(););}function B(o,u){return 0===u.length?null:(u.objectMode?R=u.buffer.shift():!o||o>=u.length?(R=u.decoder?u.buffer.join(""):1===u.buffer.length?u.buffer.head.data:u.buffer.concat(u.length),u.buffer.clear()):R=function Z(o,u,R){var W;return o<u.head.data.length?(W=u.head.data.slice(0,o),u.head.data=u.head.data.slice(o)):W=o===u.head.data.length?u.shift():R?function J(o,u){var R=u.head,W=1,fe=R.data;for(o-=fe.length;R=R.next;){var $=R.data,ne=o>$.length?$.length:o;if(fe+=ne===$.length?$:$.slice(0,o),0==(o-=ne)){ne===$.length?(++W,u.head=R.next?R.next:u.tail=null):(u.head=R,R.data=$.slice(ne));break}++W}return u.length-=W,fe}(o,u):function le(o,u){var R=b.allocUnsafe(o),W=u.head,fe=1;for(W.data.copy(R),o-=W.data.length;W=W.next;){var $=W.data,ne=o>$.length?$.length:o;if($.copy(R,R.length-o,0,ne),0==(o-=ne)){ne===$.length?(++fe,u.head=W.next?W.next:u.tail=null):(u.head=W,W.data=$.slice(ne));break}++fe}return u.length-=fe,R}(o,u),W}(o,u.buffer,u.decoder),R);var R}function ve(o){var u=o._readableState;if(u.length>0)throw new Error('"endReadable()" called on non-empty stream');u.endEmitted||(u.ended=!0,w.nextTick(oe,u,o))}function oe(o,u){!o.endEmitted&&0===o.length&&(o.endEmitted=!0,u.readable=!1,u.emit("end"))}function we(o,u){for(var R=0,W=o.length;R<W;R++)if(o[R]===u)return R;return-1}Object.defineProperty(I.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(o){!this._readableState||(this._readableState.destroyed=o)}}),I.prototype.destroy=k.destroy,I.prototype._undestroy=k.undestroy,I.prototype._destroy=function(o,u){this.push(null),u(o)},I.prototype.push=function(o,u){var W,R=this._readableState;return R.objectMode?W=!0:"string"==typeof o&&((u=u||R.defaultEncoding)!==R.encoding&&(o=b.from(o,u),u=""),W=!0),ue(this,o,u,!1,W)},I.prototype.unshift=function(o){return ue(this,o,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(o){return ae||(ae=l(57990).s),this._readableState.decoder=new ae(o),this._readableState.encoding=o,this},I.prototype.read=function(o){U("read",o),o=parseInt(o,10);var u=this._readableState,R=o;if(0!==o&&(u.emittedReadable=!1),0===o&&u.needReadable&&(u.length>=u.highWaterMark||u.ended))return U("read: emitReadable",u.length,u.ended),0===u.length&&u.ended?ve(this):_e(this),null;if(0===(o=re(o,u))&&u.ended)return 0===u.length&&ve(this),null;var fe,W=u.needReadable;return U("need readable",W),(0===u.length||u.length-o<u.highWaterMark)&&U("length less than watermark",W=!0),u.ended||u.reading?U("reading or ended",W=!1):W&&(U("do read"),u.reading=!0,u.sync=!0,0===u.length&&(u.needReadable=!0),this._read(u.highWaterMark),u.sync=!1,u.reading||(o=re(R,u))),null===(fe=o>0?B(o,u):null)?(u.needReadable=!0,o=0):u.length-=o,0===u.length&&(u.ended||(u.needReadable=!0),R!==o&&u.ended&&ve(this)),null!==fe&&this.emit("data",fe),fe},I.prototype._read=function(o){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(o,u){var R=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=o;break;case 1:W.pipes=[W.pipes,o];break;default:W.pipes.push(o)}W.pipesCount+=1,U("pipe count=%d opts=%j",W.pipesCount,u);var $=u&&!1===u.end||o===process.stdout||o===process.stderr?Qe:ze;function ze(){U("onend"),o.end()}W.endEmitted?w.nextTick($):R.once("end",$),o.on("unpipe",function ne($e,We){U("onunpipe"),$e===R&&We&&!1===We.hasUnpiped&&(We.hasUnpiped=!0,function Xe(){U("cleanup"),o.removeListener("close",nt),o.removeListener("finish",qe),o.removeListener("drain",ft),o.removeListener("error",Ie),o.removeListener("unpipe",ne),R.removeListener("end",ze),R.removeListener("end",Qe),R.removeListener("data",Ue),St=!0,W.awaitDrain&&(!o._writableState||o._writableState.needDrain)&&ft()}())});var ft=function P(o){return function(){var u=o._readableState;U("pipeOnDrain",u.awaitDrain),u.awaitDrain&&u.awaitDrain--,0===u.awaitDrain&&p(o,"data")&&(u.flowing=!0,E(o))}}(R);o.on("drain",ft);var St=!1,Je=!1;function Ue($e){U("ondata"),Je=!1,!1===o.write($e)&&!Je&&((1===W.pipesCount&&W.pipes===o||W.pipesCount>1&&-1!==we(W.pipes,o))&&!St&&(U("false write response, pause",R._readableState.awaitDrain),R._readableState.awaitDrain++,Je=!0),R.pause())}function Ie($e){U("onerror",$e),Qe(),o.removeListener("error",Ie),0===p(o,"error")&&o.emit("error",$e)}function nt(){o.removeListener("finish",qe),Qe()}function qe(){U("onfinish"),o.removeListener("close",nt),Qe()}function Qe(){U("unpipe"),R.unpipe(o)}return R.on("data",Ue),function v(o,u,R){if("function"==typeof o.prependListener)return o.prependListener(u,R);o._events&&o._events[u]?N(o._events[u])?o._events[u].unshift(R):o._events[u]=[R,o._events[u]]:o.on(u,R)}(o,"error",Ie),o.once("close",nt),o.once("finish",qe),o.emit("pipe",R),W.flowing||(U("pipe resume"),R.resume()),o},I.prototype.unpipe=function(o){var u=this._readableState,R={hasUnpiped:!1};if(0===u.pipesCount)return this;if(1===u.pipesCount)return o&&o!==u.pipes||(o||(o=u.pipes),u.pipes=null,u.pipesCount=0,u.flowing=!1,o&&o.emit("unpipe",this,R)),this;if(!o){var W=u.pipes,fe=u.pipesCount;u.pipes=null,u.pipesCount=0,u.flowing=!1;for(var $=0;$<fe;$++)W[$].emit("unpipe",this,R);return this}var ne=we(u.pipes,o);return-1===ne||(u.pipes.splice(ne,1),u.pipesCount-=1,1===u.pipesCount&&(u.pipes=u.pipes[0]),o.emit("unpipe",this,R)),this},I.prototype.addListener=I.prototype.on=function(o,u){var R=y.prototype.on.call(this,o,u);if("data"===o)!1!==this._readableState.flowing&&this.resume();else if("readable"===o){var W=this._readableState;!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&_e(this):w.nextTick(H,this))}return R},I.prototype.resume=function(){var o=this._readableState;return o.flowing||(U("resume"),o.flowing=!0,function d(o,u){u.resumeScheduled||(u.resumeScheduled=!0,w.nextTick(h,o,u))}(this,o)),this},I.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(o){var u=this,R=this._readableState,W=!1;for(var fe in o.on("end",function(){if(U("wrapped end"),R.decoder&&!R.ended){var ne=R.decoder.end();ne&&ne.length&&u.push(ne)}u.push(null)}),o.on("data",function(ne){U("wrapped data"),R.decoder&&(ne=R.decoder.write(ne)),R.objectMode&&null==ne||!(R.objectMode||ne&&ne.length)||u.push(ne)||(W=!0,o.pause())}),o)void 0===this[fe]&&"function"==typeof o[fe]&&(this[fe]=function(ne){return function(){return o[ne].apply(o,arguments)}}(fe));for(var $=0;$<F.length;$++)o.on(F[$],this.emit.bind(this,F[$]));return this._read=function(ne){U("wrapped _read",ne),W&&(W=!1,o.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=B},71481:(V,O,l)=>{"use strict";V.exports=c;var w=l(84491),N=Object.create(l(93605));function T(b,C){var j=this._transformState;j.transforming=!1;var x=j.writecb;if(!x)return this.emit("error",new Error("write callback called multiple times"));j.writechunk=null,j.writecb=null,null!=C&&this.push(C),x(b);var te=this._readableState;te.reading=!1,(te.needReadable||te.length<te.highWaterMark)&&this._read(te.highWaterMark)}function c(b){if(!(this instanceof c))return new c(b);w.call(this,b),this._transformState={afterTransform:T.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&("function"==typeof b.transform&&(this._transform=b.transform),"function"==typeof b.flush&&(this._flush=b.flush)),this.on("prefinish",p)}function p(){var b=this;"function"==typeof this._flush?this._flush(function(C,j){y(b,C,j)}):y(this,null,null)}function y(b,C,j){if(C)return b.emit("error",C);if(null!=j&&b.push(j),b._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(b._transformState.transforming)throw new Error("Calling transform done when still transforming");return b.push(null)}N.inherits=l(59879),N.inherits(c,w),c.prototype.push=function(b,C){return this._transformState.needTransform=!1,w.prototype.push.call(this,b,C)},c.prototype._transform=function(b,C,j){throw new Error("_transform() is not implemented")},c.prototype._write=function(b,C,j){var x=this._transformState;if(x.writecb=j,x.writechunk=b,x.writeencoding=C,!x.transforming){var te=this._readableState;(x.needTransform||te.needReadable||te.length<te.highWaterMark)&&this._read(te.highWaterMark)}},c.prototype._read=function(b){var C=this._transformState;null!==C.writechunk&&C.writecb&&!C.transforming?(C.transforming=!0,this._transform(C.writechunk,C.writeencoding,C.afterTransform)):C.needTransform=!0},c.prototype._destroy=function(b,C){var j=this;w.prototype._destroy.call(this,b,function(x){C(x),j.emit("close")})}},3976:(V,O,l)=>{"use strict";var w=l(16349);function T(d){var h=this;this.next=null,this.entry=null,this.finish=function(){!function H(d,h,E){var B=d.entry;for(d.entry=null;B;){var Z=B.callback;h.pendingcb--,Z(E),B=B.next}h.corkedRequestsFree?h.corkedRequestsFree.next=d:h.corkedRequestsFree=d}(h,d)}}V.exports=F;var p,c=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:w.nextTick;F.WritableState=k;var y=Object.create(l(93605));y.inherits=l(59879);var ae,b={deprecate:l(15822)},C=l(78204),j=l(13402).Buffer,x=global.Uint8Array||function(){},U=l(69559);function ee(){}function k(d,h){p=p||l(84491);var E=h instanceof p;this.objectMode=!!(d=d||{}).objectMode,E&&(this.objectMode=this.objectMode||!!d.writableObjectMode);var B=d.highWaterMark,Z=d.writableHighWaterMark;this.highWaterMark=B||0===B?B:E&&(Z||0===Z)?Z:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===d.decodeStrings),this.defaultEncoding=d.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ve){!function ke(d,h){var E=d._writableState,B=E.sync,Z=E.writecb;if(function Me(d){d.writing=!1,d.writecb=null,d.length-=d.writelen,d.writelen=0}(E),h)!function je(d,h,E,B,Z){--h.pendingcb,E?(w.nextTick(Z,B),w.nextTick(M,d,h),d._writableState.errorEmitted=!0,d.emit("error",B)):(Z(B),d._writableState.errorEmitted=!0,d.emit("error",B),M(d,h))}(d,E,B,h,Z);else{var J=_e(E);!J&&!E.corked&&!E.bufferProcessing&&E.bufferedRequest&&Se(d,E),B?c(De,d,E,J,Z):De(d,E,J,Z)}}(h,ve)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new T(this)}function F(d){if(p=p||l(84491),!(ae.call(F,this)||this instanceof p))return new F(d);this._writableState=new k(d,this),this.writable=!0,d&&("function"==typeof d.write&&(this._write=d.write),"function"==typeof d.writev&&(this._writev=d.writev),"function"==typeof d.destroy&&(this._destroy=d.destroy),"function"==typeof d.final&&(this._final=d.final)),C.call(this)}function z(d,h,E,B,Z,J,le){h.writelen=B,h.writecb=le,h.writing=!0,h.sync=!0,E?d._writev(Z,h.onwrite):d._write(Z,J,h.onwrite),h.sync=!1}function De(d,h,E,B){E||function re(d,h){0===h.length&&h.needDrain&&(h.needDrain=!1,d.emit("drain"))}(d,h),h.pendingcb--,B(),M(d,h)}function Se(d,h){h.bufferProcessing=!0;var E=h.bufferedRequest;if(d._writev&&E&&E.next){var Z=new Array(h.bufferedRequestCount),J=h.corkedRequestsFree;J.entry=E;for(var le=0,ve=!0;E;)Z[le]=E,E.isBuf||(ve=!1),E=E.next,le+=1;Z.allBuffers=ve,z(d,h,!0,h.length,Z,"",J.finish),h.pendingcb++,h.lastBufferedRequest=null,J.next?(h.corkedRequestsFree=J.next,J.next=null):h.corkedRequestsFree=new T(h),h.bufferedRequestCount=0}else{for(;E;){var oe=E.chunk;if(z(d,h,!1,h.objectMode?1:oe.length,oe,E.encoding,E.callback),E=E.next,h.bufferedRequestCount--,h.writing)break}null===E&&(h.lastBufferedRequest=null)}h.bufferedRequest=E,h.bufferProcessing=!1}function _e(d){return d.ending&&0===d.length&&null===d.bufferedRequest&&!d.finished&&!d.writing}function Ae(d,h){d._final(function(E){h.pendingcb--,E&&d.emit("error",E),h.prefinished=!0,d.emit("prefinish"),M(d,h)})}function M(d,h){var E=_e(h);return E&&(function xe(d,h){!h.prefinished&&!h.finalCalled&&("function"==typeof d._final?(h.pendingcb++,h.finalCalled=!0,w.nextTick(Ae,d,h)):(h.prefinished=!0,d.emit("prefinish")))}(d,h),0===h.pendingcb&&(h.finished=!0,d.emit("finish"))),E}y.inherits(F,C),k.prototype.getBuffer=function(){for(var h=this.bufferedRequest,E=[];h;)E.push(h),h=h.next;return E},function(){try{Object.defineProperty(k.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(d){return!!ae.call(this,d)||this===F&&d&&d._writableState instanceof k}})):ae=function(d){return d instanceof this},F.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},F.prototype.write=function(d,h,E){var B=this._writableState,Z=!1,J=!B.objectMode&&function q(d){return j.isBuffer(d)||d instanceof x}(d);return J&&!j.isBuffer(d)&&(d=function te(d){return j.from(d)}(d)),"function"==typeof h&&(E=h,h=null),J?h="buffer":h||(h=B.defaultEncoding),"function"!=typeof E&&(E=ee),B.ended?function v(d,h){var E=new Error("write after end");d.emit("error",E),w.nextTick(h,E)}(this,E):(J||function D(d,h,E,B){var Z=!0,J=!1;return null===E?J=new TypeError("May not write null values to stream"):"string"!=typeof E&&void 0!==E&&!h.objectMode&&(J=new TypeError("Invalid non-string/buffer chunk")),J&&(d.emit("error",J),w.nextTick(B,J),Z=!1),Z}(this,B,d,E))&&(B.pendingcb++,Z=function ue(d,h,E,B,Z,J){if(!E){var le=function I(d,h,E){return!d.objectMode&&!1!==d.decodeStrings&&"string"==typeof h&&(h=j.from(h,E)),h}(h,B,Z);B!==le&&(E=!0,Z="buffer",B=le)}var ve=h.objectMode?1:B.length;h.length+=ve;var oe=h.length<h.highWaterMark;if(oe||(h.needDrain=!0),h.writing||h.corked){var we=h.lastBufferedRequest;h.lastBufferedRequest={chunk:B,encoding:Z,isBuf:E,callback:J,next:null},we?we.next=h.lastBufferedRequest:h.bufferedRequest=h.lastBufferedRequest,h.bufferedRequestCount+=1}else z(d,h,!1,ve,B,Z,J);return oe}(this,B,J,d,h,E)),Z},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var d=this._writableState;d.corked&&(d.corked--,!d.writing&&!d.corked&&!d.finished&&!d.bufferProcessing&&d.bufferedRequest&&Se(this,d))},F.prototype.setDefaultEncoding=function(h){if("string"==typeof h&&(h=h.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((h+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+h);return this._writableState.defaultEncoding=h,this},Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),F.prototype._write=function(d,h,E){E(new Error("_write() is not implemented"))},F.prototype._writev=null,F.prototype.end=function(d,h,E){var B=this._writableState;"function"==typeof d?(E=d,d=null,h=null):"function"==typeof h&&(E=h,h=null),null!=d&&this.write(d,h),B.corked&&(B.corked=1,this.uncork()),!B.ending&&!B.finished&&function P(d,h,E){h.ending=!0,M(d,h),E&&(h.finished?w.nextTick(E):d.once("finish",E)),h.ended=!0,d.writable=!1}(this,B,E)},Object.defineProperty(F.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(d){!this._writableState||(this._writableState.destroyed=d)}}),F.prototype.destroy=U.destroy,F.prototype._undestroy=U.undestroy,F.prototype._destroy=function(d,h){this.end(),h(d)}},52911:(V,O,l)=>{"use strict";var N=l(13402).Buffer,T=l(50522);function c(p,y,b){p.copy(y,b)}V.exports=function(){function p(){(function w(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.head=null,this.tail=null,this.length=0}return p.prototype.push=function(b){var C={data:b,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length},p.prototype.unshift=function(b){var C={data:b,next:this.head};0===this.length&&(this.tail=C),this.head=C,++this.length},p.prototype.shift=function(){if(0!==this.length){var b=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,b}},p.prototype.clear=function(){this.head=this.tail=null,this.length=0},p.prototype.join=function(b){if(0===this.length)return"";for(var C=this.head,j=""+C.data;C=C.next;)j+=b+C.data;return j},p.prototype.concat=function(b){if(0===this.length)return N.alloc(0);if(1===this.length)return this.head.data;for(var C=N.allocUnsafe(b>>>0),j=this.head,x=0;j;)c(j.data,C,x),x+=j.data.length,j=j.next;return C},p}(),T&&T.inspect&&T.inspect.custom&&(V.exports.prototype[T.inspect.custom]=function(){var p=T.inspect({length:this.length});return this.constructor.name+" "+p})},69559:(V,O,l)=>{"use strict";var w=l(16349);function c(p,y){p.emit("error",y)}V.exports={destroy:function N(p,y){var b=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(y?y(p):p&&(!this._writableState||!this._writableState.errorEmitted)&&w.nextTick(c,this,p),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(x){!y&&x?(w.nextTick(c,b,x),b._writableState&&(b._writableState.errorEmitted=!0)):y&&y(x)}),this)},undestroy:function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},78204:(V,O,l)=>{V.exports=l(93105).EventEmitter},14560:(V,O,l)=>{(O=V.exports=l(97866)).Stream=O,O.Readable=O,O.Writable=l(3976),O.Duplex=l(84491),O.Transform=l(71481),O.PassThrough=l(44842)},13402:(V,O,l)=>{var w=l(3875),N=w.Buffer;function T(p,y){for(var b in p)y[b]=p[b]}function c(p,y,b){return N(p,y,b)}N.from&&N.alloc&&N.allocUnsafe&&N.allocUnsafeSlow?V.exports=w:(T(w,O),O.Buffer=c),T(N,c),c.from=function(p,y,b){if("number"==typeof p)throw new TypeError("Argument must not be a number");return N(p,y,b)},c.alloc=function(p,y,b){if("number"!=typeof p)throw new TypeError("Argument must be a number");var C=N(p);return void 0!==y?"string"==typeof b?C.fill(y,b):C.fill(y):C.fill(0),C},c.allocUnsafe=function(p){if("number"!=typeof p)throw new TypeError("Argument must be a number");return N(p)},c.allocUnsafeSlow=function(p){if("number"!=typeof p)throw new TypeError("Argument must be a number");return w.SlowBuffer(p)}},57990:(V,O,l)=>{"use strict";var w=l(13402).Buffer,N=w.isEncoding||function(v){switch((v=""+v)&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p(v){var D;switch(this.encoding=function c(v){var D=function T(v){if(!v)return"utf8";for(var D;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(D)return;v=(""+v).toLowerCase(),D=!0}}(v);if("string"!=typeof D&&(w.isEncoding===N||!N(v)))throw new Error("Unknown encoding: "+v);return D||v}(v),this.encoding){case"utf16le":this.text=q,this.end=U,D=4;break;case"utf8":this.fillLast=j,D=4;break;case"base64":this.text=ee,this.end=k,D=3;break;default:return this.write=ae,void(this.end=F)}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(D)}function y(v){return v<=127?0:v>>5==6?2:v>>4==14?3:v>>3==30?4:v>>6==2?-1:-2}function j(v){var D=this.lastTotal-this.lastNeed,I=function C(v,D,I){if(128!=(192&D[0]))return v.lastNeed=0,"\ufffd";if(v.lastNeed>1&&D.length>1){if(128!=(192&D[1]))return v.lastNeed=1,"\ufffd";if(v.lastNeed>2&&D.length>2&&128!=(192&D[2]))return v.lastNeed=2,"\ufffd"}}(this,v);return void 0!==I?I:this.lastNeed<=v.length?(v.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(v.copy(this.lastChar,D,0,v.length),void(this.lastNeed-=v.length))}function q(v,D){if((v.length-D)%2==0){var I=v.toString("utf16le",D);if(I){var ue=I.charCodeAt(I.length-1);if(ue>=55296&&ue<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",D,v.length-1)}function U(v){var D=v&&v.length?this.write(v):"";return this.lastNeed?D+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):D}function ee(v,D){var I=(v.length-D)%3;return 0===I?v.toString("base64",D):(this.lastNeed=3-I,this.lastTotal=3,1===I?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",D,v.length-I))}function k(v){var D=v&&v.length?this.write(v):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function ae(v){return v.toString(this.encoding)}function F(v){return v&&v.length?this.write(v):""}O.s=p,p.prototype.write=function(v){if(0===v.length)return"";var D,I;if(this.lastNeed){if(void 0===(D=this.fillLast(v)))return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<v.length?D?D+this.text(v,I):this.text(v,I):D||""},p.prototype.end=function te(v){var D=v&&v.length?this.write(v):"";return this.lastNeed?D+"\ufffd":D},p.prototype.text=function x(v,D){var I=function b(v,D,I){var ue=D.length-1;if(ue<I)return 0;var z=y(D[ue]);return z>=0?(z>0&&(v.lastNeed=z-1),z):--ue<I||-2===z?0:(z=y(D[ue]))>=0?(z>0&&(v.lastNeed=z-2),z):--ue<I||-2===z?0:(z=y(D[ue]))>=0?(z>0&&(2===z?z=0:v.lastNeed=z-3),z):0}(this,v,D);if(!this.lastNeed)return v.toString("utf8",D);this.lastTotal=I;var ue=v.length-(I-this.lastNeed);return v.copy(this.lastChar,0,ue),v.toString("utf8",D,ue)},p.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length}},73529:(V,O,l)=>{var w=l(14560).Transform,N=l(71732).inherits,T=l(70166);function c(b){w.call(this,b),this._destroyed=!1}function p(b,C,j){j(null,b)}function y(b){return function(C,j,x){return"function"==typeof C&&(x=j,j=C,C={}),"function"!=typeof j&&(j=p),"function"!=typeof x&&(x=null),b(C,j,x)}}N(c,w),c.prototype.destroy=function(b){if(!this._destroyed){this._destroyed=!0;var C=this;process.nextTick(function(){b&&C.emit("error",b),C.emit("close")})}},V.exports=y(function(b,C,j){var x=new c(b);return x._transform=C,j&&(x._flush=j),x}),V.exports.ctor=y(function(b,C,j){function x(te){if(!(this instanceof x))return new x(te);this.options=T(b,te),c.call(this,this.options)}return N(x,c),x.prototype._transform=C,j&&(x.prototype._flush=j),x}),V.exports.obj=y(function(b,C,j){var x=new c(T({objectMode:!0,highWaterMark:16},b));return x._transform=C,j&&(x._flush=j),x})},99006:V=>{V.exports=function O(l,w){if(l&&w)return O(l)(w);if("function"!=typeof l)throw new TypeError("need wrapper function");return Object.keys(l).forEach(function(T){N[T]=l[T]}),N;function N(){for(var T=new Array(arguments.length),c=0;c<T.length;c++)T[c]=arguments[c];var p=l.apply(this,T),y=T[T.length-1];return"function"==typeof p&&p!==y&&Object.keys(y).forEach(function(b){p[b]=y[b]}),p}}},88774:(V,O,l)=>{V.exports=l(67941)},71156:()=>{},50522:()=>{},66882:()=>{}}]);