(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[235],{8983:function(Ki,er){!function(B){"use strict";function tn(t){if(Array.isArray(t))return t}function ar(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function yn(t,n){if(t){if("string"==typeof t)return ar(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ar(t,n):void 0}}function Va(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lt(t,n){return tn(t)||function(r,e){var a=null==r?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(null!=a){var o,u,i=[],c=!0,l=!1;try{for(a=a.call(r);!(c=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);c=!0);}catch(d){l=!0,u=d}finally{try{c||null==a.return||a.return()}finally{if(l)throw u}}return i}}(t,n)||yn(t,n)||Va()}function Ja(t,n,r,e,a,o,u){try{var i=t[o](u),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(e,a)}function x(t){return function(){var n=this,r=arguments;return new Promise(function(e,a){var o=t.apply(n,r);function u(c){Ja(o,e,a,u,i,"next",c)}function i(c){Ja(o,e,a,u,i,"throw",c)}u(void 0)})}}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var Xa={exports:{}},Za={exports:{}};(function(t){function n(r){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(Za),function(t){var n=Za.exports.default;function r(){t.exports=r=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},a=Object.prototype,o=a.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},i=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function d(_,A,U){return Object.defineProperty(_,A,{value:U,enumerable:!0,configurable:!0,writable:!0}),_[A]}try{d({},"")}catch{d=function(A,U,Y){return A[U]=Y}}function g(_,A,U,Y){var yt,pt,F,kt,ut=Object.create((A&&A.prototype instanceof b?A:b).prototype),it=new Rt(Y||[]);return ut._invoke=(yt=_,pt=U,F=it,kt="suspendedStart",function(Tt,$t){if("executing"===kt)throw new Error("Generator is already running");if("completed"===kt){if("throw"===Tt)throw $t;return{value:void 0,done:!0}}for(F.method=Tt,F.arg=$t;;){var on=F.delegate;if(on){var tr=lt(on,F);if(tr){if(tr===m)continue;return tr}}if("next"===F.method)F.sent=F._sent=F.arg;else if("throw"===F.method){if("suspendedStart"===kt)throw kt="completed",F.arg;F.dispatchException(F.arg)}else"return"===F.method&&F.abrupt("return",F.arg);kt="executing";var Qt=v(yt,pt,F);if("normal"===Qt.type){if(kt=F.done?"completed":"suspendedYield",Qt.arg===m)continue;return{value:Qt.arg,done:F.done}}"throw"===Qt.type&&(kt="completed",F.method="throw",F.arg=Qt.arg)}}),ut}function v(_,A,U){try{return{type:"normal",arg:_.call(A,U)}}catch(Y){return{type:"throw",arg:Y}}}e.wrap=g;var m={};function b(){}function E(){}function S(){}var N={};d(N,i,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(_t([])));R&&R!==a&&o.call(R,i)&&(N=R);var L=S.prototype=b.prototype=Object.create(N);function I(_){["next","throw","return"].forEach(function(A){d(_,A,function(U){return this._invoke(A,U)})})}function W(_,A){function U(D,ut,it,yt){var pt=v(_[D],_,ut);if("throw"!==pt.type){var F=pt.arg,kt=F.value;return kt&&"object"==n(kt)&&o.call(kt,"__await")?A.resolve(kt.__await).then(function(Tt){U("next",Tt,it,yt)},function(Tt){U("throw",Tt,it,yt)}):A.resolve(kt).then(function(Tt){F.value=Tt,it(F)},function(Tt){return U("throw",Tt,it,yt)})}yt(pt.arg)}var Y;this._invoke=function(D,ut){function it(){return new A(function(yt,pt){U(D,ut,yt,pt)})}return Y=Y?Y.then(it,it):it()}}function lt(_,A){var U=_.iterator[A.method];if(void 0===U){if(A.delegate=null,"throw"===A.method){if(_.iterator.return&&(A.method="return",A.arg=void 0,lt(_,A),"throw"===A.method))return m;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var Y=v(U,_.iterator,A.arg);if("throw"===Y.type)return A.method="throw",A.arg=Y.arg,A.delegate=null,m;var D=Y.arg;return D?D.done?(A[_.resultName]=D.value,A.next=_.nextLoc,"return"!==A.method&&(A.method="next",A.arg=void 0),A.delegate=null,m):D:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,m)}function It(_){var A={tryLoc:_[0]};1 in _&&(A.catchLoc=_[1]),2 in _&&(A.finallyLoc=_[2],A.afterLoc=_[3]),this.tryEntries.push(A)}function At(_){var A=_.completion||{};A.type="normal",delete A.arg,_.completion=A}function Rt(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(It,this),this.reset(!0)}function _t(_){if(_){var A=_[i];if(A)return A.call(_);if("function"==typeof _.next)return _;if(!isNaN(_.length)){var U=-1,Y=function D(){for(;++U<_.length;)if(o.call(_,U))return D.value=_[U],D.done=!1,D;return D.value=void 0,D.done=!0,D};return Y.next=Y}}return{next:Nt}}function Nt(){return{value:void 0,done:!0}}return E.prototype=S,d(L,"constructor",S),d(S,"constructor",E),E.displayName=d(S,l,"GeneratorFunction"),e.isGeneratorFunction=function(_){var A="function"==typeof _&&_.constructor;return!!A&&(A===E||"GeneratorFunction"===(A.displayName||A.name))},e.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,S):(_.__proto__=S,d(_,l,"GeneratorFunction")),_.prototype=Object.create(L),_},e.awrap=function(_){return{__await:_}},I(W.prototype),d(W.prototype,c,function(){return this}),e.AsyncIterator=W,e.async=function(_,A,U,Y,D){void 0===D&&(D=Promise);var ut=new W(g(_,A,U,Y),D);return e.isGeneratorFunction(A)?ut:ut.next().then(function(it){return it.done?it.value:ut.next()})},I(L),d(L,l,"Generator"),d(L,i,function(){return this}),d(L,"toString",function(){return"[object Generator]"}),e.keys=function(_){var A=[];for(var U in _)A.push(U);return A.reverse(),function Y(){for(;A.length;){var D=A.pop();if(D in _)return Y.value=D,Y.done=!1,Y}return Y.done=!0,Y}},e.values=_t,Rt.prototype={constructor:Rt,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(At),!_)for(var A in this)"t"===A.charAt(0)&&o.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if("throw"===_.type)throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var A=this;function U(pt,F){return ut.type="throw",ut.arg=_,A.next=pt,F&&(A.method="next",A.arg=void 0),!!F}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var D=this.tryEntries[Y],ut=D.completion;if("root"===D.tryLoc)return U("end");if(D.tryLoc<=this.prev){var it=o.call(D,"catchLoc"),yt=o.call(D,"finallyLoc");if(it&&yt){if(this.prev<D.catchLoc)return U(D.catchLoc,!0);if(this.prev<D.finallyLoc)return U(D.finallyLoc)}else if(it){if(this.prev<D.catchLoc)return U(D.catchLoc,!0)}else{if(!yt)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return U(D.finallyLoc)}}}},abrupt:function(_,A){for(var U=this.tryEntries.length-1;U>=0;--U){var Y=this.tryEntries[U];if(Y.tryLoc<=this.prev&&o.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var D=Y;break}}D&&("break"===_||"continue"===_)&&D.tryLoc<=A&&A<=D.finallyLoc&&(D=null);var ut=D?D.completion:{};return ut.type=_,ut.arg=A,D?(this.method="next",this.next=D.finallyLoc,m):this.complete(ut)},complete:function(_,A){if("throw"===_.type)throw _.arg;return"break"===_.type||"continue"===_.type?this.next=_.arg:"return"===_.type?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):"normal"===_.type&&A&&(this.next=A),m},finish:function(_){for(var A=this.tryEntries.length-1;A>=0;--A){var U=this.tryEntries[A];if(U.finallyLoc===_)return this.complete(U.completion,U.afterLoc),At(U),m}},catch:function(_){for(var A=this.tryEntries.length-1;A>=0;--A){var U=this.tryEntries[A];if(U.tryLoc===_){var Y=U.completion;if("throw"===Y.type){var D=Y.arg;At(U)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(_,A,U){return this.delegate={iterator:_t(_),resultName:A,nextLoc:U},"next"===this.method&&(this.arg=void 0),m}},e}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Xa);var $a,or=Xa.exports(),h=or;try{regeneratorRuntime=or}catch{"object"===(typeof globalThis>"u"?"undefined":z(globalThis))?globalThis.regeneratorRuntime=or:Function("r","regeneratorRuntime = r")(or)}function Qa(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Fn(t){return tn(t)||Qa(t)||yn(t)||Va()}function q(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function to(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,e)}return r}function O(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?to(Object(r),!0).forEach(function(e){q(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function bt(t,n){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=yn(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(c){throw c},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return u=c.done,c},e:function(c){i=!0,o=c},f:function(){try{u||null==r.return||r.return()}finally{if(i)throw o}}}}var Hi="function"==typeof queueMicrotask?queueMicrotask:function(t){return($a||($a=Promise.resolve())).then(t).catch(function(n){return setTimeout(function(){throw n},0)})},Wi=function(){var t,n=[];return{deliver:function(r){return x(h.mark(function e(){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.push(r),t&&(t(n.shift()),t=void 0);case 2:case"end":return a.stop()}},e)}))()},receive:function(){return new Promise(function(r){var e=n.shift();if(e)return r(e);t=r})}}},Nr="INIT",cn="SUBSCRIBE",nn="UNSUBSCRIBE",Br="UPDATED",no="SNAPSHOT",$="object"===(typeof self>"u"?"undefined":z(self))&&self.self===self&&self||"object"===(typeof global>"u"?"undefined":z(global))&&global.global===global&&global||"object"===(typeof window>"u"?"undefined":z(window))&&window.window===window&&window;$.FCL_REGISTRY=$.FCL_REGISTRY??{};var zt,Ji=0,dt=function(t,n,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(a,o){var u=e.expectReply||!1,i=null!=e.timeout?e.timeout:5e3;u&&i&&setTimeout(function(){return o(new Error("Timeout: ".concat(i,"ms passed without a response.")))},i);var c={to:t,from:e.from,tag:n,data:r,timeout:i,reply:a,reject:o};try{$.FCL_REGISTRY[t]&&$.FCL_REGISTRY[t].mailbox.deliver(c),u||a(!0)}catch(l){console.error("FCL.Actor -- Could Not Deliver Message",c,$.FCL_REGISTRY[t],l)}})},Xi=function(t){delete $.FCL_REGISTRY[t]},Zi=function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=x(h.mark(function r(e){var a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if("function"!=typeof t.INIT){o.next=3;break}return o.next=3,t.INIT(e);case 3:return o.next=6,e.receive();case 6:if(a=o.sent,o.prev=7,"EXIT"!==a.tag){o.next=13;break}if("function"!=typeof t.TERMINATE){o.next=12;break}return o.next=12,t.TERMINATE(e,a,a.data||{});case 12:return o.abrupt("break",25);case 13:return o.next=15,t[a.tag](e,a,a.data||{});case 15:o.next=20;break;case 17:o.prev=17,o.t0=o.catch(7),console.error("".concat(e.self()," Error"),a,o.t0);case 20:return o.prev=20,o.abrupt("continue",3);case 23:o.next=3;break;case 25:case"end":return o.stop()}},r,null,[[7,17,20,23]])})),function(r){return n.apply(this,arguments)}},rn=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==n&&(n=++Ji),null!=$.FCL_REGISTRY[n])return n;$.FCL_REGISTRY[n]={addr:n,mailbox:Wi(),subs:new Set,kvs:{},error:null};var r={self:function(){return n},receive:function(){return $.FCL_REGISTRY[n].mailbox.receive()},send:function(e,a,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return u.from=n,dt(e,a,o,u)},sendSelf:function(e,a,o){$.FCL_REGISTRY[n]&&dt(n,e,a,o)},broadcast:function(e,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.from=n;var u,i=bt($.FCL_REGISTRY[n].subs);try{for(i.s();!(u=i.n()).done;)dt(u.value,e,a,o)}catch(l){i.e(l)}finally{i.f()}},subscribe:function(e){return null!=e&&$.FCL_REGISTRY[n].subs.add(e)},unsubscribe:function(e){return null!=e&&$.FCL_REGISTRY[n].subs.delete(e)},subscriberCount:function(){return $.FCL_REGISTRY[n].subs.size},hasSubs:function(){return!!$.FCL_REGISTRY[n].subs.size},put:function(e,a){null!=e&&($.FCL_REGISTRY[n].kvs[e]=a)},get:function(e,a){return $.FCL_REGISTRY[n].kvs[e]??a},delete:function(e){delete $.FCL_REGISTRY[n].kvs[e]},update:function(e,a){null!=e&&($.FCL_REGISTRY[n].kvs[e]=a($.FCL_REGISTRY[n].kvs[e]))},keys:function(){return Object.keys($.FCL_REGISTRY[n].kvs)},all:function(){return $.FCL_REGISTRY[n].kvs},where:function(e){return Object.keys($.FCL_REGISTRY[n].kvs).reduce(function(a,o){return e.test(o)?O(O({},a),{},q({},o,$.FCL_REGISTRY[n].kvs[o])):a},{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach(function(a){return $.FCL_REGISTRY[n].kvs[a]=e[a]})},fatalError:function(e){$.FCL_REGISTRY[n].error=e;var a,o=bt($.FCL_REGISTRY[n].subs);try{for(o.s();!(a=o.n()).done;)dt(a.value,Br)}catch(i){o.e(i)}finally{o.f()}}};return"object"===z(t)&&(t=Zi(t)),Hi(x(h.mark(function e(){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(r);case 2:Xi(n);case 3:case"end":return a.stop()}},e)}))),n};function ur(t,n,r){n(t);var o,e="@EXIT",a=rn((o=x(h.mark(function u(i){var c,l;return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:i.send(t,cn);case 1:return d.next=4,i.receive();case 4:if(l=$.FCL_REGISTRY[t].error,(c=d.sent).tag!==e){d.next=9;break}return i.send(t,nn),d.abrupt("return");case 9:if(!l){d.next=13;break}return r(null,l),i.send(t,nn),d.abrupt("return");case 13:r(c.data,null),d.next=1;break;case 16:case"end":return d.stop()}},u)})),function(u){return o.apply(this,arguments)}));return function(){return dt(a,e)}}function ro(t,n){return n(t),dt(t,no,null,{expectReply:!0,timeout:0})}var Yt="config",eo="PUT_CONFIG",ao="GET_CONFIG",oo="GET_ALL_CONFIG",uo="UPDATE_CONFIG",so="DELETE_CONFIG",io="CLEAR_CONFIG",co="WHERE_CONFIG",jn="CONFIG/UPDATED",fo=function(t){return t},lo=(q(zt={},eo,function(t,n,r){var e=r.key,a=r.value;if(null==e)throw new Error("Missing 'key' for config/put.");t.put(e,a),t.broadcast(jn,O({},t.all()))}),q(zt,ao,function(t,n,r){var e=r.key,a=r.fallback;if(null==e)throw new Error("Missing 'key' for config/get");n.reply(t.get(e,a))}),q(zt,oo,function(t,n){n.reply(O({},t.all()))}),q(zt,uo,function(t,n,r){var e=r.key,a=r.fn;if(null==e)throw new Error("Missing 'key' for config/update");t.update(e,a||fo),t.broadcast(jn,O({},t.all()))}),q(zt,so,function(t,n,r){var e=r.key;if(null==e)throw new Error("Missing 'key' for config/delete");t.delete(e),t.broadcast(jn,O({},t.all()))}),q(zt,io,function(t,n){for(var r=0,e=Object.keys(t.all());r<e.length;r++)t.delete(e[r]);t.broadcast(jn,O({},t.all()))}),q(zt,co,function(t,n,r){var e=r.pattern;if(null==e)throw new Error("Missing 'pattern' for config/where");n.reply(t.where(e))}),q(zt,cn,function(t,n){t.subscribe(n.from),t.send(n.from,jn,O({},t.all()))}),q(zt,nn,function(t,n){t.unsubscribe(n.from)}),zt);function Lr(t,n){return dt(Yt,eo,{key:t,value:n}),j()}function Ur(t,n){return dt(Yt,ao,{key:t,fallback:n},{expectReply:!0,timeout:10})}function Fr(){return jr.apply(this,arguments)}function jr(){return jr=x(h.mark(function t(){var n,r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=i.length>1?i[1]:void 0,(n=i.length>0&&void 0!==i[0]?i[0]:[]).length){c.next=4;break}return c.abrupt("return",r);case 4:return e=Fn(n),a=e[0],o=e.slice(1),c.next=7,Ur(a);case 7:if(null!=(u=c.sent)){c.next=10;break}return c.abrupt("return",Fr(o,r));case 10:return c.abrupt("return",u);case 11:case"end":return c.stop()}},t)})),jr.apply(this,arguments)}function sr(){return dt(Yt,oo,null,{expectReply:!0,timeout:10})}function po(t){return dt(Yt,uo,{key:t,fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:fo}),j()}function ho(t){return dt(Yt,so,{key:t}),j()}function go(t){return dt(Yt,co,{pattern:t},{expectReply:!0,timeout:10})}function mo(t){return ur(Yt,function(){return rn(lo,Yt)},t)}function vo(t){return dt(Yt,io).then(j(t))}function j(t){return null!=t&&"object"===z(t)&&Object.keys(t).map(function(n){return Lr(n,t[n])}),{put:Lr,get:Ur,all:sr,first:Fr,update:po,delete:ho,where:go,subscribe:mo,overload:yo}}rn(lo,Yt),j.put=Lr,j.get=Ur,j.all=sr,j.first=Fr,j.update=po,j.delete=ho,j.where=go,j.subscribe=mo,j.overload=yo;var $i=function(t){return t};function yo(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i;return new Promise((r=x(h.mark(function e(a,o){var u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,sr();case 2:return u=c.sent,c.prev=3,j(t),c.t0=n,c.next=8,sr();case 8:return c.t1=c.sent,c.next=11,(0,c.t0)(c.t1);case 11:return i=c.sent,c.next=14,vo(u);case 14:a(i),c.next=22;break;case 17:return c.prev=17,c.t2=c.catch(3),c.next=21,vo(u);case 21:o(c.t2);case 22:case"end":return c.stop()}},e,null,[[3,17]])})),function(e,a){return r.apply(this,arguments)}))}var bo,wo,Qi={can:!(typeof window>"u"),get:(wo=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",JSON.parse(sessionStorage.getItem(n)));case 1:case"end":return r.stop()}},t)})),function(t){return wo.apply(this,arguments)}),put:(bo=x(h.mark(function t(n,r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.setItem(n,JSON.stringify(r)));case 1:case"end":return e.stop()}},t)})),function(t,n){return bo.apply(this,arguments)})};function xo(t){return ko.apply(this,arguments)}function ko(){return(ko=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Object,r.t1=Object,r.next=4,j().where(n);case 4:return r.t2=r.sent,r.t3=r.t1.entries.call(r.t1,r.t2).map(function(e){var a=Lt(e,2),u=a[1];return[a[0].replace(n,""),u]}),r.abrupt("return",r.t0.fromEntries.call(r.t0,r.t3));case 7:case"end":return r.stop()}},t)}))).apply(this,arguments)}j({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":Qi});var Ut="1.3.2";function C(t,n){if(!t){var r,e=new Error("INVARIANT ".concat(n));e.stack=e.stack.split("\n").filter(function(i){return!/at invariant/.test(i)}).join("\n");for(var a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];throw(r=console).error.apply(r,["\n\n---\n\n",e,"\n\n"].concat(o,["\n\n---\n\n"])),e}}function K(t){return function(n){if(Array.isArray(n))return ar(n)}(t)||Qa(t)||yn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var t,St=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),tc=function(t){var r=t.message;return["\n    %c".concat(t.title,"\n    ============================\n\n    ").concat(r,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},wt=(t=x(h.mark(function n(r){var e,a,o,u,i,c,l,d,g,v,m,b;return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return c=r.title,l=r.message,d=r.level,v=void 0!==(g=r.always)&&g,E.next=3,j.get("logger.level",St.warn);case 3:if(m=E.sent,v||!(m<d)){E.next=6;break}return E.abrupt("return");case 6:b=tc({title:c,message:l}),E.t0=d,E.next=E.t0===St.debug?10:E.t0===St.info?12:E.t0===St.warn?14:E.t0===St.error?16:18;break;case 10:return(e=console).debug.apply(e,K(b)),E.abrupt("break",19);case 12:return(a=console).info.apply(a,K(b)),E.abrupt("break",19);case 14:return(o=console).warn.apply(o,K(b)),E.abrupt("break",19);case 16:return(u=console).error.apply(u,K(b)),E.abrupt("break",19);case 18:(i=console).log.apply(i,K(b));case 19:case"end":return E.stop()}},n)})),function(n){return t.apply(this,arguments)});function Dr(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Eo(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Gr(t,n,r){return n&&Eo(t.prototype,n),r&&Eo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dn(t,n){return(Dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r})(t,n)}function zr(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Dn(t,n)}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(t)}function Io(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nc(t,n){if(n&&("object"===z(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Mr(t)}function Yr(t){var n=Io();return function(){var r,e=Gn(t);if(n){var a=Gn(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return nc(this,r)}}wt.deprecate=function(t){var n=t.pkg,r=t.subject,e=t.transition,a=t.level,o=void 0===a?St.warn:a,u=t.message,i=void 0===u?"":u,c=t.callback,l=void 0===c?null:c,d=function(){return wt({title:"".concat(n?n+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat((g=r,g.charAt(0).toUpperCase()+g.slice(1))," is deprecated and will cease to work in future releases").concat(n?" of "+n:"","."):"").concat(i?"\n"+i:"").concat(e?"\nYou can learn more (including a guide on common transition paths) here: ".concat(e):"","\n    ").trim(),level:o});var g};return"function"==typeof l?x(h.mark(function g(){var v=arguments;return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,d();case 2:return m.next=4,l.apply(void 0,v);case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}},g)})):d()};for(var X={},rc={byteLength:function(t){var n=So(t),e=n[1];return 3*(n[0]+e)/4-e},toByteArray:function(t){var n,r,g,e=So(t),a=e[0],o=e[1],u=new ec(3*(a+(g=o))/4-g),i=0,c=o>0?a-4:a;for(r=0;r<c;r+=4)n=Ct[t.charCodeAt(r)]<<18|Ct[t.charCodeAt(r+1)]<<12|Ct[t.charCodeAt(r+2)]<<6|Ct[t.charCodeAt(r+3)],u[i++]=n>>16&255,u[i++]=n>>8&255,u[i++]=255&n;return 2===o&&(n=Ct[t.charCodeAt(r)]<<2|Ct[t.charCodeAt(r+1)]>>4,u[i++]=255&n),1===o&&(n=Ct[t.charCodeAt(r)]<<10|Ct[t.charCodeAt(r+1)]<<4|Ct[t.charCodeAt(r+2)]>>2,u[i++]=n>>8&255,u[i++]=255&n),u},fromByteArray:function(t){for(var n,r=t.length,e=r%3,a=[],o=16383,u=0,i=r-e;u<i;u+=o)a.push(oc(t,u,u+o>i?i:u+o));return 1===e?a.push(qt[(n=t[r-1])>>2]+qt[n<<4&63]+"=="):2===e&&a.push(qt[(n=(t[r-2]<<8)+t[r-1])>>10]+qt[n>>4&63]+qt[n<<2&63]+"="),a.join("")}},qt=[],Ct=[],ec=typeof Uint8Array<"u"?Uint8Array:Array,qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bn=0,ac=qr.length;bn<ac;++bn)qt[bn]=qr[bn],Ct[qr.charCodeAt(bn)]=bn;function So(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=n),[r,r===n?0:4-r%4]}function oc(t,n,r){for(var a,o=[],u=n;u<r;u+=3)o.push(qt[(a=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]))>>18&63]+qt[a>>12&63]+qt[a>>6&63]+qt[63&a]);return o.join("")}Ct["-".charCodeAt(0)]=62,Ct["_".charCodeAt(0)]=63;var Kr={};function fn(t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++)n.push(fn(t[r]));var e=X.Buffer.concat(n);return X.Buffer.concat([Ao(e.length,192),e])}var a=function(o){if(!X.Buffer.isBuffer(o)){if("string"==typeof o)return Ro(o)?X.Buffer.from((c="string"!=typeof(i=o)?i:Ro(i)?i.slice(2):i).length%2?"0"+c:c,"hex"):X.Buffer.from(o);if("number"==typeof o)return o?(u=Hr(o),X.Buffer.from(u,"hex")):X.Buffer.from([]);if(null==o)return X.Buffer.from([]);if(o instanceof Uint8Array)return X.Buffer.from(o);throw new Error("invalid type")}var u,i,c;return o}(t);return 1===a.length&&a[0]<128?a:X.Buffer.concat([Ao(a.length,128),a])}function Ao(t,n){if(t<56)return X.Buffer.from([t+n]);var r=Hr(t),e=Hr(n+55+r.length/2);return X.Buffer.from(e+r,"hex")}function Ro(t){return"0x"===t.slice(0,2)}function Hr(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");var n=t.toString(16);return n.length%2?"0"+n:n}function Wr(t,n,r){return(Wr=Io()?Reflect.construct.bind():function(e,a,o){var u=[null];u.push.apply(u,a);var i=new(Function.bind.apply(e,u));return o&&Dn(i,o.prototype),i}).apply(null,arguments)}function ir(t){var n="function"==typeof Map?new Map:void 0;return ir=function(r){if(null===r||-1===Function.toString.call(r).indexOf("[native code]"))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(r))return n.get(r);n.set(r,a)}function a(){return Wr(r,arguments,Gn(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Dn(a,r)},ir(t)}Kr.read=function(t,n,r,e,a){var o,u,i=8*a-e-1,c=(1<<i)-1,l=c>>1,d=-7,g=r?a-1:0,v=r?-1:1,m=t[n+g];for(g+=v,o=m&(1<<-d)-1,m>>=-d,d+=i;d>0;o=256*o+t[n+g],g+=v,d-=8);for(u=o&(1<<-d)-1,o>>=-d,d+=e;d>0;u=256*u+t[n+g],g+=v,d-=8);if(0===o)o=1-l;else{if(o===c)return u?NaN:1/0*(m?-1:1);u+=Math.pow(2,e),o-=l}return(m?-1:1)*u*Math.pow(2,o-e)},Kr.write=function(t,n,r,e,a,o){var u,i,c,l=8*o-a-1,d=(1<<l)-1,g=d>>1,v=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,m=e?0:o-1,b=e?1:-1,E=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(i=isNaN(n)?1:0,u=d):(u=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-u))<1&&(u--,c*=2),(n+=u+g>=1?v/c:v*Math.pow(2,1-g))*c>=2&&(u++,c/=2),u+g>=d?(i=0,u=d):u+g>=1?(i=(n*c-1)*Math.pow(2,a),u+=g):(i=n*Math.pow(2,g-1)*Math.pow(2,a),u=0));a>=8;t[r+m]=255&i,m+=b,i/=256,a-=8);for(u=u<<a|i,l+=a;l>0;t[r+m]=255&u,m+=b,u/=256,l-=8);t[r+m-b]|=128*E},function(t){var n=rc,r=Kr,e="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(s){return+s!=s&&(s=0),u.alloc(+s)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function o(s){if(s>a)throw new RangeError('The value "'+s+'" is invalid for option "size"');var f=new Uint8Array(s);return Object.setPrototypeOf(f,u.prototype),f}function u(s,f,p){if("number"==typeof s){if("string"==typeof f)throw new TypeError('The "string" argument must be of type string. Received type number');return l(s)}return i(s,f,p)}function i(s,f,p){if("string"==typeof s)return function(w,P){if("string"==typeof P&&""!==P||(P="utf8"),!u.isEncoding(P))throw new TypeError("Unknown encoding: "+P);var M=0|m(w,P),tt=o(M),rt=tt.write(w,P);return rt!==M&&(tt=tt.slice(0,rt)),tt}(s,f);if(ArrayBuffer.isView(s))return function(w){if(Vt(w,Uint8Array)){var P=new Uint8Array(w);return g(P.buffer,P.byteOffset,P.byteLength)}return d(w)}(s);if(null==s)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+z(s));if(Vt(s,ArrayBuffer)||s&&Vt(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Vt(s,SharedArrayBuffer)||s&&Vt(s.buffer,SharedArrayBuffer)))return g(s,f,p);if("number"==typeof s)throw new TypeError('The "value" argument must not be of type number. Received type number');var y=s.valueOf&&s.valueOf();if(null!=y&&y!==s)return u.from(y,f,p);var k=function(w){if(u.isBuffer(w)){var P=0|v(w.length),M=o(P);return 0===M.length||w.copy(M,0,0,P),M}return void 0!==w.length?"number"!=typeof w.length||Ha(w.length)?o(0):d(w):"Buffer"===w.type&&Array.isArray(w.data)?d(w.data):void 0}(s);if(k)return k;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof s[Symbol.toPrimitive])return u.from(s[Symbol.toPrimitive]("string"),f,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+z(s))}function c(s){if("number"!=typeof s)throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function l(s){return c(s),o(s<0?0:0|v(s))}function d(s){for(var f=s.length<0?0:0|v(s.length),p=o(f),y=0;y<f;y+=1)p[y]=255&s[y];return p}function g(s,f,p){if(f<0||s.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<f+(p||0))throw new RangeError('"length" is outside of buffer bounds');var y;return y=void 0===f&&void 0===p?new Uint8Array(s):void 0===p?new Uint8Array(s,f):new Uint8Array(s,f,p),Object.setPrototypeOf(y,u.prototype),y}function v(s){if(s>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|s}function m(s,f){if(u.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||Vt(s,ArrayBuffer))return s.byteLength;if("string"!=typeof s)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+z(s));var p=s.length,y=arguments.length>2&&!0===arguments[2];if(!y&&0===p)return 0;for(var k=!1;;)switch(f){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return Qt(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return qi(s).length;default:if(k)return y?-1:Qt(s).length;f=(""+f).toLowerCase(),k=!0}}function b(s,f,p){var y=!1;if((void 0===f||f<0)&&(f=0),f>this.length||((void 0===p||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(f>>>=0))return"";for(s||(s="utf8");;)switch(s){case"hex":return Nt(this,f,p);case"utf8":case"utf-8":return It(this,f,p);case"ascii":return Rt(this,f,p);case"latin1":case"binary":return _t(this,f,p);case"base64":return lt(this,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,f,p);default:if(y)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),y=!0}}function E(s,f,p){var y=s[f];s[f]=s[p],s[p]=y}function S(s,f,p,y,k){if(0===s.length)return-1;if("string"==typeof p?(y=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),Ha(p=+p)&&(p=k?0:s.length-1),p<0&&(p=s.length+p),p>=s.length){if(k)return-1;p=s.length-1}else if(p<0){if(!k)return-1;p=0}if("string"==typeof f&&(f=u.from(f,y)),u.isBuffer(f))return 0===f.length?-1:N(s,f,p,y,k);if("number"==typeof f)return f&=255,"function"==typeof Uint8Array.prototype.indexOf?k?Uint8Array.prototype.indexOf.call(s,f,p):Uint8Array.prototype.lastIndexOf.call(s,f,p):N(s,[f],p,y,k);throw new TypeError("val must be string, number or Buffer")}function N(s,f,p,y,k){var w,P=1,M=s.length,tt=f.length;if(void 0!==y&&("ucs2"===(y=String(y).toLowerCase())||"ucs-2"===y||"utf16le"===y||"utf-16le"===y)){if(s.length<2||f.length<2)return-1;P=2,M/=2,tt/=2,p/=2}function rt(nr,rr){return 1===P?nr[rr]:nr.readUInt16BE(rr*P)}if(k){var nt=-1;for(w=p;w<M;w++)if(rt(s,w)===rt(f,-1===nt?0:w-nt)){if(-1===nt&&(nt=w),w-nt+1===tt)return nt*P}else-1!==nt&&(w-=w-nt),nt=-1}else for(p+tt>M&&(p=M-tt),w=p;w>=0;w--){for(var Bt=!0,sn=0;sn<tt;sn++)if(rt(s,w+sn)!==rt(f,sn)){Bt=!1;break}if(Bt)return w}return-1}function T(s,f,p,y){p=Number(p)||0;var k=s.length-p;y?(y=Number(y))>k&&(y=k):y=k;var w,P=f.length;for(y>P/2&&(y=P/2),w=0;w<y;++w){var M=parseInt(f.substr(2*w,2),16);if(Ha(M))return w;s[p+w]=M}return w}function R(s,f,p,y){return Pr(Qt(f,s.length-p),s,p,y)}function L(s,f,p,y){return Pr(function(k){for(var w=[],P=0;P<k.length;++P)w.push(255&k.charCodeAt(P));return w}(f),s,p,y)}function I(s,f,p,y){return Pr(qi(f),s,p,y)}function W(s,f,p,y){return Pr(function(k,w){for(var P,M,rt=[],nt=0;nt<k.length&&!((w-=2)<0);++nt)M=(P=k.charCodeAt(nt))>>8,rt.push(P%256),rt.push(M);return rt}(f,s.length-p),s,p,y)}function lt(s,f,p){return n.fromByteArray(0===f&&p===s.length?s:s.slice(f,p))}function It(s,f,p){p=Math.min(s.length,p);for(var y=[],k=f;k<p;){var w=s[k],P=null,M=w>239?4:w>223?3:w>191?2:1;if(k+M<=p){var tt=void 0,rt=void 0,nt=void 0,Bt=void 0;switch(M){case 1:w<128&&(P=w);break;case 2:128==(192&(tt=s[k+1]))&&(Bt=(31&w)<<6|63&tt)>127&&(P=Bt);break;case 3:rt=s[k+2],128==(192&(tt=s[k+1]))&&128==(192&rt)&&(Bt=(15&w)<<12|(63&tt)<<6|63&rt)>2047&&(Bt<55296||Bt>57343)&&(P=Bt);break;case 4:rt=s[k+2],nt=s[k+3],128==(192&(tt=s[k+1]))&&128==(192&rt)&&128==(192&nt)&&(Bt=(15&w)<<18|(63&tt)<<12|(63&rt)<<6|63&nt)>65535&&Bt<1114112&&(P=Bt)}}null===P?(P=65533,M=1):P>65535&&(y.push((P-=65536)>>>10&1023|55296),P=56320|1023&P),y.push(P),k+=M}return function(sn){var nr=sn.length;if(nr<=At)return String.fromCharCode.apply(String,sn);for(var rr="",Wa=0;Wa<nr;)rr+=String.fromCharCode.apply(String,sn.slice(Wa,Wa+=At));return rr}(y)}t.kMaxLength=a,(u.TYPED_ARRAY_SUPPORT=function(){try{var s=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(s,f),42===s.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(s,f,p){return i(s,f,p)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(s,f,p){return k=f,w=p,c(y=s),y<=0?o(y):void 0!==k?"string"==typeof w?o(y).fill(k,w):o(y).fill(k):o(y);var y,k,w},u.allocUnsafe=function(s){return l(s)},u.allocUnsafeSlow=function(s){return l(s)},u.isBuffer=function(s){return null!=s&&!0===s._isBuffer&&s!==u.prototype},u.compare=function(s,f){if(Vt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),Vt(f,Uint8Array)&&(f=u.from(f,f.offset,f.byteLength)),!u.isBuffer(s)||!u.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===f)return 0;for(var p=s.length,y=f.length,k=0,w=Math.min(p,y);k<w;++k)if(s[k]!==f[k]){p=s[k],y=f[k];break}return p<y?-1:y<p?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,f){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(0===s.length)return u.alloc(0);var p;if(void 0===f)for(f=0,p=0;p<s.length;++p)f+=s[p].length;var y=u.allocUnsafe(f),k=0;for(p=0;p<s.length;++p){var w=s[p];if(Vt(w,Uint8Array))k+w.length>y.length?(u.isBuffer(w)||(w=u.from(w)),w.copy(y,k)):Uint8Array.prototype.set.call(y,w,k);else{if(!u.isBuffer(w))throw new TypeError('"list" argument must be an Array of Buffers');w.copy(y,k)}k+=w.length}return y},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<s;f+=2)E(this,f,f+1);return this},u.prototype.swap32=function(){var s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<s;f+=4)E(this,f,f+3),E(this,f+1,f+2);return this},u.prototype.swap64=function(){var s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<s;f+=8)E(this,f,f+7),E(this,f+1,f+6),E(this,f+2,f+5),E(this,f+3,f+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){var s=this.length;return 0===s?"":0===arguments.length?It(this,0,s):b.apply(this,arguments)},u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||0===u.compare(this,s)},u.prototype.inspect=function(){var s="",f=t.INSPECT_MAX_BYTES;return s=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(s+=" ... "),"<Buffer "+s+">"},e&&(u.prototype[e]=u.prototype.inspect),u.prototype.compare=function(s,f,p,y,k){if(Vt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+z(s));if(void 0===f&&(f=0),void 0===p&&(p=s?s.length:0),void 0===y&&(y=0),void 0===k&&(k=this.length),f<0||p>s.length||y<0||k>this.length)throw new RangeError("out of range index");if(y>=k&&f>=p)return 0;if(y>=k)return-1;if(f>=p)return 1;if(this===s)return 0;for(var w=(k>>>=0)-(y>>>=0),P=(p>>>=0)-(f>>>=0),M=Math.min(w,P),tt=this.slice(y,k),rt=s.slice(f,p),nt=0;nt<M;++nt)if(tt[nt]!==rt[nt]){w=tt[nt],P=rt[nt];break}return w<P?-1:P<w?1:0},u.prototype.includes=function(s,f,p){return-1!==this.indexOf(s,f,p)},u.prototype.indexOf=function(s,f,p){return S(this,s,f,p,!0)},u.prototype.lastIndexOf=function(s,f,p){return S(this,s,f,p,!1)},u.prototype.write=function(s,f,p,y){if(void 0===f)y="utf8",p=this.length,f=0;else if(void 0===p&&"string"==typeof f)y=f,p=this.length,f=0;else{if(!isFinite(f))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");f>>>=0,isFinite(p)?(p>>>=0,void 0===y&&(y="utf8")):(y=p,p=void 0)}var k=this.length-f;if((void 0===p||p>k)&&(p=k),s.length>0&&(p<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");for(var w=!1;;)switch(y){case"hex":return T(this,s,f,p);case"utf8":case"utf-8":return R(this,s,f,p);case"ascii":case"latin1":case"binary":return L(this,s,f,p);case"base64":return I(this,s,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,s,f,p);default:if(w)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),w=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var At=4096;function Rt(s,f,p){var y="";p=Math.min(s.length,p);for(var k=f;k<p;++k)y+=String.fromCharCode(127&s[k]);return y}function _t(s,f,p){var y="";p=Math.min(s.length,p);for(var k=f;k<p;++k)y+=String.fromCharCode(s[k]);return y}function Nt(s,f,p){var y=s.length;(!f||f<0)&&(f=0),(!p||p<0||p>y)&&(p=y);for(var k="",w=f;w<p;++w)k+=fp[s[w]];return k}function _(s,f,p){for(var y=s.slice(f,p),k="",w=0;w<y.length-1;w+=2)k+=String.fromCharCode(y[w]+256*y[w+1]);return k}function A(s,f,p){if(s%1!=0||s<0)throw new RangeError("offset is not uint");if(s+f>p)throw new RangeError("Trying to access beyond buffer length")}function U(s,f,p,y,k,w){if(!u.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>k||f<w)throw new RangeError('"value" argument is out of bounds');if(p+y>s.length)throw new RangeError("Index out of range")}function Y(s,f,p,y,k){Tt(f,y,k,s,p,7);var w=Number(f&BigInt(4294967295));s[p++]=w,s[p++]=w>>=8,s[p++]=w>>=8,s[p++]=w>>=8;var P=Number(f>>BigInt(32)&BigInt(4294967295));return s[p++]=P,s[p++]=P>>=8,s[p++]=P>>=8,s[p++]=P>>=8,p}function D(s,f,p,y,k){Tt(f,y,k,s,p,7);var w=Number(f&BigInt(4294967295));s[p+7]=w,s[p+6]=w>>=8,s[p+5]=w>>=8,s[p+4]=w>>=8;var P=Number(f>>BigInt(32)&BigInt(4294967295));return s[p+3]=P,s[p+2]=P>>=8,s[p+1]=P>>=8,s[p]=P>>=8,p+8}function ut(s,f,p,y,k,w){if(p+y>s.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function it(s,f,p,y,k){return f=+f,p>>>=0,k||ut(s,0,p,4),r.write(s,f,p,y,23,4),p+4}function yt(s,f,p,y,k){return f=+f,p>>>=0,k||ut(s,0,p,8),r.write(s,f,p,y,52,8),p+8}u.prototype.slice=function(s,f){var p=this.length;(s=~~s)<0?(s+=p)<0&&(s=0):s>p&&(s=p),(f=void 0===f?p:~~f)<0?(f+=p)<0&&(f=0):f>p&&(f=p),f<s&&(f=s);var y=this.subarray(s,f);return Object.setPrototypeOf(y,u.prototype),y},u.prototype.readUintLE=u.prototype.readUIntLE=function(s,f,p){s>>>=0,f>>>=0,p||A(s,f,this.length);for(var y=this[s],k=1,w=0;++w<f&&(k*=256);)y+=this[s+w]*k;return y},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,f,p){s>>>=0,f>>>=0,p||A(s,f,this.length);for(var y=this[s+--f],k=1;f>0&&(k*=256);)y+=this[s+--f]*k;return y},u.prototype.readUint8=u.prototype.readUInt8=function(s,f){return s>>>=0,f||A(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,f){return s>>>=0,f||A(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,f){return s>>>=0,f||A(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,f){return s>>>=0,f||A(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,f){return s>>>=0,f||A(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=un(function(s){$t(s>>>=0,"offset");var f=this[s],p=this[s+7];void 0!==f&&void 0!==p||on(s,this.length-8);var y=f+this[++s]*Math.pow(2,8)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,24),k=this[++s]+this[++s]*Math.pow(2,8)+this[++s]*Math.pow(2,16)+p*Math.pow(2,24);return BigInt(y)+(BigInt(k)<<BigInt(32))}),u.prototype.readBigUInt64BE=un(function(s){$t(s>>>=0,"offset");var f=this[s],p=this[s+7];void 0!==f&&void 0!==p||on(s,this.length-8);var y=f*Math.pow(2,24)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,8)+this[++s],k=this[++s]*Math.pow(2,24)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,8)+p;return(BigInt(y)<<BigInt(32))+BigInt(k)}),u.prototype.readIntLE=function(s,f,p){s>>>=0,f>>>=0,p||A(s,f,this.length);for(var y=this[s],k=1,w=0;++w<f&&(k*=256);)y+=this[s+w]*k;return y>=(k*=128)&&(y-=Math.pow(2,8*f)),y},u.prototype.readIntBE=function(s,f,p){s>>>=0,f>>>=0,p||A(s,f,this.length);for(var y=f,k=1,w=this[s+--y];y>0&&(k*=256);)w+=this[s+--y]*k;return w>=(k*=128)&&(w-=Math.pow(2,8*f)),w},u.prototype.readInt8=function(s,f){return s>>>=0,f||A(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},u.prototype.readInt16LE=function(s,f){s>>>=0,f||A(s,2,this.length);var p=this[s]|this[s+1]<<8;return 32768&p?4294901760|p:p},u.prototype.readInt16BE=function(s,f){s>>>=0,f||A(s,2,this.length);var p=this[s+1]|this[s]<<8;return 32768&p?4294901760|p:p},u.prototype.readInt32LE=function(s,f){return s>>>=0,f||A(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,f){return s>>>=0,f||A(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=un(function(s){$t(s>>>=0,"offset");var f=this[s],p=this[s+7];void 0!==f&&void 0!==p||on(s,this.length-8);var y=this[s+4]+this[s+5]*Math.pow(2,8)+this[s+6]*Math.pow(2,16)+(p<<24);return(BigInt(y)<<BigInt(32))+BigInt(f+this[++s]*Math.pow(2,8)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,24))}),u.prototype.readBigInt64BE=un(function(s){$t(s>>>=0,"offset");var f=this[s],p=this[s+7];void 0!==f&&void 0!==p||on(s,this.length-8);var y=(f<<24)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,8)+this[++s];return(BigInt(y)<<BigInt(32))+BigInt(this[++s]*Math.pow(2,24)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,8)+p)}),u.prototype.readFloatLE=function(s,f){return s>>>=0,f||A(s,4,this.length),r.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,f){return s>>>=0,f||A(s,4,this.length),r.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,f){return s>>>=0,f||A(s,8,this.length),r.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,f){return s>>>=0,f||A(s,8,this.length),r.read(this,s,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,f,p,y){s=+s,f>>>=0,p>>>=0,y||U(this,s,f,p,Math.pow(2,8*p)-1,0);var k=1,w=0;for(this[f]=255&s;++w<p&&(k*=256);)this[f+w]=s/k&255;return f+p},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,f,p,y){s=+s,f>>>=0,p>>>=0,y||U(this,s,f,p,Math.pow(2,8*p)-1,0);var k=p-1,w=1;for(this[f+k]=255&s;--k>=0&&(w*=256);)this[f+k]=s/w&255;return f+p},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,1,255,0),this[f]=255&s,f+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,2,65535,0),this[f]=255&s,this[f+1]=s>>>8,f+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,2,65535,0),this[f]=s>>>8,this[f+1]=255&s,f+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,4,4294967295,0),this[f+3]=s>>>24,this[f+2]=s>>>16,this[f+1]=s>>>8,this[f]=255&s,f+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,4,4294967295,0),this[f]=s>>>24,this[f+1]=s>>>16,this[f+2]=s>>>8,this[f+3]=255&s,f+4},u.prototype.writeBigUInt64LE=un(function(s){return Y(this,s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=un(function(s){return D(this,s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,f,p,y){if(s=+s,f>>>=0,!y){var k=Math.pow(2,8*p-1);U(this,s,f,p,k-1,-k)}var w=0,P=1,M=0;for(this[f]=255&s;++w<p&&(P*=256);)s<0&&0===M&&0!==this[f+w-1]&&(M=1),this[f+w]=(s/P>>0)-M&255;return f+p},u.prototype.writeIntBE=function(s,f,p,y){if(s=+s,f>>>=0,!y){var k=Math.pow(2,8*p-1);U(this,s,f,p,k-1,-k)}var w=p-1,P=1,M=0;for(this[f+w]=255&s;--w>=0&&(P*=256);)s<0&&0===M&&0!==this[f+w+1]&&(M=1),this[f+w]=(s/P>>0)-M&255;return f+p},u.prototype.writeInt8=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,1,127,-128),s<0&&(s=255+s+1),this[f]=255&s,f+1},u.prototype.writeInt16LE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,2,32767,-32768),this[f]=255&s,this[f+1]=s>>>8,f+2},u.prototype.writeInt16BE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,2,32767,-32768),this[f]=s>>>8,this[f+1]=255&s,f+2},u.prototype.writeInt32LE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,4,2147483647,-2147483648),this[f]=255&s,this[f+1]=s>>>8,this[f+2]=s>>>16,this[f+3]=s>>>24,f+4},u.prototype.writeInt32BE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[f]=s>>>24,this[f+1]=s>>>16,this[f+2]=s>>>8,this[f+3]=255&s,f+4},u.prototype.writeBigInt64LE=un(function(s){return Y(this,s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=un(function(s){return D(this,s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(s,f,p){return it(this,s,f,!0,p)},u.prototype.writeFloatBE=function(s,f,p){return it(this,s,f,!1,p)},u.prototype.writeDoubleLE=function(s,f,p){return yt(this,s,f,!0,p)},u.prototype.writeDoubleBE=function(s,f,p){return yt(this,s,f,!1,p)},u.prototype.copy=function(s,f,p,y){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(p||(p=0),y||0===y||(y=this.length),f>=s.length&&(f=s.length),f||(f=0),y>0&&y<p&&(y=p),y===p||0===s.length||0===this.length)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),s.length-f<y-p&&(y=s.length-f+p);var k=y-p;return this===s&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(f,p,y):Uint8Array.prototype.set.call(s,this.subarray(p,y),f),k},u.prototype.fill=function(s,f,p,y){if("string"==typeof s){if("string"==typeof f?(y=f,f=0,p=this.length):"string"==typeof p&&(y=p,p=this.length),void 0!==y&&"string"!=typeof y)throw new TypeError("encoding must be a string");if("string"==typeof y&&!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(1===s.length){var k=s.charCodeAt(0);("utf8"===y&&k<128||"latin1"===y)&&(s=k)}}else"number"==typeof s?s&=255:"boolean"==typeof s&&(s=Number(s));if(f<0||this.length<f||this.length<p)throw new RangeError("Out of range index");if(p<=f)return this;var w;if(f>>>=0,p=void 0===p?this.length:p>>>0,s||(s=0),"number"==typeof s)for(w=f;w<p;++w)this[w]=s;else{var P=u.isBuffer(s)?s:u.from(s,y),M=P.length;if(0===M)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(w=0;w<p-f;++w)this[w+f]=P[w%M]}return this};var pt={};function F(s,f,p){pt[s]=function(y){zr(w,y);var k=Yr(w);function w(){var P;return Dr(this,w),P=k.call(this),Object.defineProperty(Mr(P),"message",{value:f.apply(Mr(P),arguments),writable:!0,configurable:!0}),P.name="".concat(P.name," [").concat(s,"]"),delete P.name,P}return Gr(w,[{key:"code",get:function(){return s},set:function(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(s,"]: ").concat(this.message)}}]),w}(p)}function kt(s){for(var f="",p=s.length,y="-"===s[0]?1:0;p>=y+4;p-=3)f="_".concat(s.slice(p-3,p)).concat(f);return"".concat(s.slice(0,p)).concat(f)}function Tt(s,f,p,y,k,w){if(s>p||s<f){var P,M="bigint"==typeof f?"n":"";throw P=w>3?0===f||f===BigInt(0)?">= 0".concat(M," and < 2").concat(M," ** ").concat(8*(w+1)).concat(M):">= -(2".concat(M," ** ").concat(8*(w+1)-1).concat(M,") and < 2 ** ")+"".concat(8*(w+1)-1).concat(M):">= ".concat(f).concat(M," and <= ").concat(p).concat(M),new pt.ERR_OUT_OF_RANGE("value",P,s)}var tt,rt,nt;tt=y,nt=w,$t(rt=k,"offset"),void 0!==tt[rt]&&void 0!==tt[rt+nt]||on(rt,tt.length-(nt+1))}function $t(s,f){if("number"!=typeof s)throw new pt.ERR_INVALID_ARG_TYPE(f,"number",s)}function on(s,f,p){throw Math.floor(s)!==s?($t(s,p),new pt.ERR_OUT_OF_RANGE(p||"offset","an integer",s)):f<0?new pt.ERR_BUFFER_OUT_OF_BOUNDS:new pt.ERR_OUT_OF_RANGE(p||"offset",">= ".concat(p?1:0," and <= ").concat(f),s)}F("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?"".concat(s," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),F("ERR_INVALID_ARG_TYPE",function(s,f){return'The "'.concat(s,'" argument must be of type number. Received type ').concat(z(f))},TypeError),F("ERR_OUT_OF_RANGE",function(s,f,p){var y='The value of "'.concat(s,'" is out of range.'),k=p;return Number.isInteger(p)&&Math.abs(p)>Math.pow(2,32)?k=kt(String(p)):"bigint"==typeof p&&(k=String(p),(p>Math.pow(BigInt(2),BigInt(32))||p<-Math.pow(BigInt(2),BigInt(32)))&&(k=kt(k)),k+="n"),y+" It must be ".concat(f,". Received ").concat(k)},RangeError);var tr=/[^+/0-9A-Za-z-_]/g;function Qt(s,f){var p;f=f||1/0;for(var y=s.length,k=null,w=[],P=0;P<y;++P){if((p=s.charCodeAt(P))>55295&&p<57344){if(!k){if(p>56319){(f-=3)>-1&&w.push(239,191,189);continue}if(P+1===y){(f-=3)>-1&&w.push(239,191,189);continue}k=p;continue}if(p<56320){(f-=3)>-1&&w.push(239,191,189),k=p;continue}p=65536+(k-55296<<10|p-56320)}else k&&(f-=3)>-1&&w.push(239,191,189);if(k=null,p<128){if((f-=1)<0)break;w.push(p)}else if(p<2048){if((f-=2)<0)break;w.push(p>>6|192,63&p|128)}else if(p<65536){if((f-=3)<0)break;w.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((f-=4)<0)break;w.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return w}function qi(s){return n.toByteArray(function(f){if((f=(f=f.split("=")[0]).trim().replace(tr,"")).length<2)return"";for(;f.length%4!=0;)f+="=";return f}(s))}function Pr(s,f,p,y){var k;for(k=0;k<y&&!(k+p>=f.length||k>=s.length);++k)f[k+p]=s[k];return k}function Vt(s,f){return s instanceof f||null!=s&&null!=s.constructor&&null!=s.constructor.name&&s.constructor.name===f.name}function Ha(s){return s!=s}var fp=function(){for(var s="0123456789abcdef",f=new Array(256),p=0;p<16;++p)for(var y=16*p,k=0;k<16;++k)f[y+k]=s[p]+s[k];return f}();function un(s){return typeof BigInt>"u"?lp:s}function lp(){throw new Error("BigInt not supported")}}(X);var Vr={exports:{}};!function(t,n){var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();t.exports=n=r.fetch,r.fetch&&(n.default=r.fetch.bind(r)),n.Headers=r.Headers,n.Request=r.Request,n.Response=r.Response}(Vr,Vr.exports);var _o=Vr.exports;function Z(t){return null==t?null:t.replace(/^0x/,"").replace(/^Fx/,"")}function at(t){return null==t?null:"0x"+Z(t)}var Jr=function(t){zr(r,t);var n=Yr(r);function r(e){var a,o=e.error,u=e.hostname,i=e.path,c=e.method,l=e.requestBody,d=e.responseBody,g=e.responseStatusText,v=e.statusCode;Dr(this,r);var m="\n      HTTP Request Error: An error occurred when interacting with the Access API.\n      ".concat(o?"error=".concat(o):"","\n      ").concat(u?"hostname=".concat(u):"","\n      ").concat(i?"path=".concat(i):"","\n      ").concat(c?"method=".concat(c):"","\n      ").concat(l?"requestBody=".concat(l):"","\n      ").concat(d?"responseBody=".concat(d):"","\n      ").concat(g?"responseStatusText=".concat(g):"","\n      ").concat(v?"statusCode=".concat(v):"","\n    ");return(a=n.call(this,m)).name="HTTP Request Error",a.statusCode=v,a.errorMessage=o,a}return Gr(r)}(ir(Error));function gt(t){return Xr.apply(this,arguments)}function Xr(){return Xr=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m,b;return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return b=function(){return b=x(h.mark(function S(){var N,R=arguments;return h.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return N=R.length>0&&void 0!==R[0]?R[0]:0,L.prev=1,L.next=4,v();case 4:case 14:return L.abrupt("return",L.sent);case 8:if(L.prev=8,L.t0=L.catch(1),![408,429,500,502,503,504].includes(L.t0.statusCode)){L.next=17;break}return L.next=14,new Promise(function(I,W){N<c?(console.warn("Access node unavailable, retrying in ".concat(d," ms...")),setTimeout(function(){I(m(N+1))},d)):W(L.t0)});case 17:throw L.t0;case 18:case"end":return L.stop()}},S,null,[[1,8]])})),b.apply(this,arguments)},m=function(){return b.apply(this,arguments)},v=function(){return _o("".concat(r).concat(e),{method:a,body:g,headers:u}).then((S=x(h.mark(function N(T){var R,L;return h.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!T.ok){I.next=2;break}return I.abrupt("return",T.json());case 2:if(!T.body){I.next=8;break}return I.next=5,T.text();case 5:I.t0=I.sent,I.next=9;break;case 8:I.t0=null;case 9:throw L=uc(R=I.t0),new Jr({error:null==L?void 0:L.message,hostname:r,path:e,method:a,requestBody:g,responseBody:R,responseStatusText:T.statusText,statusCode:T.status});case 12:case"end":return I.stop()}},N)})),function(N){return S.apply(this,arguments)})).catch(function(){var S=x(h.mark(function N(T){return h.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!(T instanceof Jr)){R.next=2;break}throw T;case 2:return R.next=4,wt({title:"Access Node Error",message:"The provided access node ".concat(r," does not appear to be a valid REST/HTTP access node.\nPlease verify that you are not unintentionally using a GRPC access node.\nSee more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect"),level:St.error});case 4:throw new Jr({error:null==T?void 0:T.message,hostname:r,path:e,method:a,requestBody:g});case 5:case"end":return R.stop()}},N)}));return function(N){return S.apply(this,arguments)}}());var S},r=n.hostname,e=n.path,a=n.method,u=n.headers,c=void 0===(i=n.retryLimit)?5:i,d=void 0===(l=n.retryIntervalMs)?1e3:l,g=(o=n.body)?JSON.stringify(o):null,E.next=7,m();case 7:return E.abrupt("return",E.sent);case 8:case"end":return E.stop()}},t)})),Xr.apply(this,arguments)}function uc(t){try{return JSON.parse(t)}catch{return null}}function sc(t,n,r){return Zr.apply(this,arguments)}function Zr(){return Zr=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/scripts?block_id=".concat(n.block.id),method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:n.message.arguments.map(function(i){return r.Buffer.from(JSON.stringify(n.arguments[i].asArgument)).toString("base64")})}});case 3:return u.abrupt("return",te(n,r,u.sent));case 5:case"end":return u.stop()}},t)})),Zr.apply(this,arguments)}function ic(t,n,r){return $r.apply(this,arguments)}function $r(){return $r=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/scripts?block_height=".concat(n.block.height),method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:n.message.arguments.map(function(i){return r.Buffer.from(JSON.stringify(n.arguments[i].asArgument)).toString("base64")})}});case 3:return u.abrupt("return",te(n,r,u.sent));case 5:case"end":return u.stop()}},t)})),$r.apply(this,arguments)}function cc(t,n,r){return Qr.apply(this,arguments)}function Qr(){return Qr=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:n.message.arguments.map(function(i){return r.Buffer.from(JSON.stringify(n.arguments[i].asArgument)).toString("base64")})}});case 3:return u.abrupt("return",te(n,r,u.sent));case 5:case"end":return u.stop()}},t)})),Qr.apply(this,arguments)}function te(t,n,r){var e=n.response();return e.tag=t.tag,e.encodedData=JSON.parse(n.Buffer.from(r,"base64").toString()),e}function fc(t){return ne.apply(this,arguments)}function ne(){return ne=x(h.mark(function t(n){var r,e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},C((e=a.length>2&&void 0!==a[2]?a[2]:{}).node,"SDK Send Execute Script Error: opts.node must be defined."),C(r.response,"SDK Send Execute Script Error: context.response must be defined."),C(r.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),o.next=7,n;case 7:if(!(n=o.sent).block.id){o.next=14;break}return o.next=11,sc(n,r,e);case 11:case 17:case 22:return o.abrupt("return",o.sent);case 14:if(!n.block.height){o.next=20;break}return o.next=17,ic(n,r,e);case 20:return o.next=22,cc(n,r,e);case 23:case"end":return o.stop()}},t)})),ne.apply(this,arguments)}var lc={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},pc={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};function dc(t,n,r){return To.apply(this,arguments)}function To(){return(To=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/accounts/".concat(n.account.addr,"?block_height=").concat(n.block.height,"&expand=contracts,keys"),method:"GET",body:null});case 3:return u.abrupt("return",Oo(n,r,u.sent));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function hc(t,n,r){return Co.apply(this,arguments)}function Co(){return(Co=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/accounts/".concat(n.account.addr,"?block_height=sealed&expand=contracts,keys"),method:"GET",body:null});case 3:return u.abrupt("return",Oo(n,r,u.sent));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function Oo(t,n,r){var e,a,o=n.response();return o.tag=t.tag,o.account={address:r.address,balance:Number(r.balance),code:"",contracts:function(u){var i={};if(!u)return i;for(var c=0,l=Object.keys(u);c<l.length;c++){var d=l[c];i[d]=n.Buffer.from(u[d],"base64").toString()}return i}(r.contracts),keys:null!==(e=null===(a=r.keys)||void 0===a?void 0:a.map(function(u){return{index:Number(u.index),publicKey:u.public_key.replace(/^0x/,""),signAlgo:pc[u.signing_algorithm],signAlgoString:u.signing_algorithm,hashAlgo:lc[u.hashing_algorithm],hashAlgoString:u.hashing_algorithm,sequenceNumber:Number(u.sequence_number),weight:Number(u.weight),revoked:u.revoked}}))&&void 0!==e?e:[]},o}function gc(t){return re.apply(this,arguments)}function re(){return re=x(h.mark(function t(n){var r,e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},C((e=a.length>2&&void 0!==a[2]?a[2]:{}).node,"SDK Send Get Account Error: opts.node must be defined."),C(r.response,"SDK Send Get Account Error: context.response must be defined."),C(r.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),o.next=7,n;case 7:if(null===(n=o.sent).block.height){o.next=14;break}return o.next=11,dc(n,r,e);case 11:case 16:return o.abrupt("return",o.sent);case 14:return o.next=16,hc(n,r,e);case 17:case"end":return o.stop()}},t)})),re.apply(this,arguments)}function mc(t,n,r){return Po.apply(this,arguments)}function Po(){return(Po=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/blocks/".concat(n.block.id),method:"GET",body:null});case 3:return u.abrupt("return",ee(n,r,u.sent));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function vc(t,n,r){return No.apply(this,arguments)}function No(){return(No=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/blocks?height=".concat(n.block.height),method:"GET",body:null});case 3:return u.abrupt("return",ee(n,r,u.sent));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function yc(t,n,r){return Bo.apply(this,arguments)}function Bo(){return(Bo=x(h.mark(function t(n,r,e){var a,o,u;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=e.httpRequest||gt,u=null!==(a=n.block)&&void 0!==a&&a.isSealed?"sealed":"finalized",c.next=4,o({hostname:e.node,path:"/v1/blocks?height=".concat(u),method:"GET",body:null});case 4:return c.abrupt("return",ee(n,r,c.sent));case 6:case"end":return c.stop()}},t)}))).apply(this,arguments)}function ee(t,n,r){var e=r.length?r[0]:null,a=n.response();return a.tag=t.tag,a.blockHeader={id:e.header.id,parentId:e.header.parent_id,height:Number(e.header.height),timestamp:e.header.timestamp},a}function bc(t){return ae.apply(this,arguments)}function ae(){return ae=x(h.mark(function t(n){var r,e,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},C((e=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Block Header Error: opts.node must be defined."),C(r.response,"SDK Send Get Block Header Error: context.response must be defined."),i.next=6,n;case 6:if(o=null!==(n=i.sent).block.height,null===n.block.id){i.next=15;break}return i.next=12,mc(n,r,e);case 12:case 18:case 23:return i.abrupt("return",i.sent);case 15:if(!o){i.next=21;break}return i.next=18,vc(n,r,e);case 21:return i.next=23,yc(n,r,e);case 24:case"end":return i.stop()}},t)})),ae.apply(this,arguments)}function wc(t,n,r){return Lo.apply(this,arguments)}function Lo(){return(Lo=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/blocks/".concat(n.block.id,"?expand=payload"),method:"GET",body:null});case 3:return u.abrupt("return",oe(n,r,u.sent));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function xc(t,n,r){return Uo.apply(this,arguments)}function Uo(){return(Uo=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/blocks?height=".concat(n.block.height,"&expand=payload"),method:"GET",body:null});case 3:return u.abrupt("return",oe(n,r,u.sent));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function kc(t,n,r){return Fo.apply(this,arguments)}function Fo(){return(Fo=x(h.mark(function t(n,r,e){var a,o,u;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=e.httpRequest||gt,u=null!==(a=n.block)&&void 0!==a&&a.isSealed?"sealed":"final",c.next=4,o({hostname:e.node,path:"/v1/blocks?height=".concat(u,"&expand=payload"),method:"GET",body:null});case 4:return c.abrupt("return",oe(n,r,c.sent));case 6:case"end":return c.stop()}},t)}))).apply(this,arguments)}function oe(t,n,r){var e=r.length?r[0]:null,a=n.response();return a.tag=t.tag,a.block={id:e.header.id,parentId:e.header.parent_id,height:Number(e.header.height),timestamp:e.header.timestamp,collectionGuarantees:e.payload.collection_guarantees.map(function(o){return{collectionId:o.collection_id,signerIds:o.signer_ids}}),blockSeals:e.payload.block_seals.map(function(o){return{blockId:o.block_id,executionReceiptId:o.result_id}})},a}function Ec(t){return ue.apply(this,arguments)}function ue(){return ue=x(h.mark(function t(n){var r,e,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},C((e=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Block Error: opts.node must be defined."),C(r.response,"SDK Send Get Block Error: context.response must be defined."),i.next=6,n;case 6:if(o=null!==(n=i.sent).block.height,null===n.block.id){i.next=15;break}return i.next=12,wc(n,r,e);case 12:case 18:case 23:return i.abrupt("return",i.sent);case 15:if(!o){i.next=21;break}return i.next=18,xc(n,r,e);case 21:return i.next=23,kc(n,r,e);case 24:case"end":return i.stop()}},t)})),ue.apply(this,arguments)}function Ic(t){return se.apply(this,arguments)}function se(){return se=x(h.mark(function t(n){var r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},C((e=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Collection Error: opts.node must be defined."),C(r.response,"SDK Send Get Collection Error: context.response must be defined."),a=e.httpRequest||gt,c.next=7,a({hostname:e.node,path:"/v1/collections/".concat(n.collection.id,"?expand=transactions"),method:"GET",body:null});case 7:return o=c.sent,(u=r.response()).tag=n.tag,u.collection={id:o.id,transactionIds:o.transactions.map(function(l){return l.id})},c.abrupt("return",u);case 12:case"end":return c.stop()}},t)})),se.apply(this,arguments)}function Sc(t,n,r){return jo.apply(this,arguments)}function jo(){return(jo=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/events?type=".concat(n.events.eventType,"&start_height=").concat(n.events.start,"&end_height=").concat(n.events.end),method:"GET",body:null});case 3:return u.abrupt("return",Go(n,r,u.sent));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function Ac(t,n,r){return Do.apply(this,arguments)}function Do(){return(Do=x(h.mark(function t(n,r,e){var a;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/events?type=".concat(n.events.eventType,"&block_ids=").concat(n.events.blockIds.join(",")),method:"GET",body:null});case 3:return u.abrupt("return",Go(n,r,u.sent));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function Go(t,n,r){var e=n.response();return e.tag=t.tag,e.events=[],r.forEach(function(a){return a.events?a.events.forEach(function(o){return e.events.push({blockId:a.block_id,blockHeight:Number(a.block_height),blockTimestamp:a.block_timestamp,type:o.type,transactionId:o.transaction_id,transactionIndex:Number(o.transaction_index),eventIndex:Number(o.event_index),payload:JSON.parse(n.Buffer.from(o.payload,"base64").toString())})}):null}),e}function Rc(t){return ie.apply(this,arguments)}function ie(){return ie=x(h.mark(function t(n){var r,e,a,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},C((e=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Events Error: opts.node must be defined."),C(r.response,"SDK Send Get Events Error: context.response must be defined."),C(r.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),i.next=7,n;case 7:if(a=null!==(n=i.sent).events.start,o=Array.isArray(n.events.blockIds)&&n.events.blockIds.length>0,C(a||o,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),!a){i.next=17;break}return i.next=14,Sc(n,r,e);case 14:case 19:return i.abrupt("return",i.sent);case 17:return i.next=19,Ac(n,r,e);case 20:case"end":return i.stop()}},t)})),ie.apply(this,arguments)}function _c(t){return ce.apply(this,arguments)}function ce(){return ce=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d=arguments;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},C((e=d.length>2&&void 0!==d[2]?d[2]:{}).node,"SDK Send Get Transaction Error: opts.node must be defined."),C(r.response,"SDK Send Get Transaction Error: context.response must be defined."),C(r.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined."),a=e.httpRequest||gt,g.next=8,n;case 8:return n=g.sent,g.next=11,a({hostname:e.node,path:"/v1/transactions/".concat(n.transaction.id),method:"GET",body:null});case 11:return o=g.sent,u=function(v){return{address:v.address,keyId:Number(v.key_id),sequenceNumber:Number(v.sequence_number)}},i=function(v){return{address:v.address,keyId:Number(v.key_index),signature:v.signature}},c=function(v){return JSON.parse(r.Buffer.from(v,"base64").toString())},(l=r.response()).tag=n.tag,l.transaction={script:r.Buffer.from(o.script,"base64").toString(),args:K(o.arguments.map(c)),referenceBlockId:o.reference_block_id,gasLimit:Number(o.gas_limit),payer:o.payer,proposalKey:o.proposal_key?u(o.proposal_key):o.proposal_key,authorizers:o.authorizers,payloadSignatures:K(o.payload_signatures.map(i)),envelopeSignatures:K(o.envelope_signatures.map(i))},g.abrupt("return",l);case 19:case"end":return g.stop()}},t)})),ce.apply(this,arguments)}var Tc={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};function Cc(t){return fe.apply(this,arguments)}function fe(){return fe=x(h.mark(function t(n){var r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},C((e=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Transaction Status Error: opts.node must be defined."),C(r.response,"SDK Send Get Transaction Status Error: context.response must be defined."),C(r.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined."),a=e.httpRequest||gt,c.next=8,n;case 8:return n=c.sent,c.next=11,a({hostname:e.node,path:"/v1/transaction_results/".concat(n.transaction.id),method:"GET",body:null});case 11:return o=c.sent,(u=r.response()).tag=n.tag,u.transactionStatus={blockId:o.block_id,status:Tc[o.status.toUpperCase()]||"",statusString:o.status.toUpperCase(),statusCode:o.status_code,errorMessage:o.error_message,events:o.events.map(function(l){return{type:l.type,transactionId:l.transaction_id,transactionIndex:Number(l.transaction_index),eventIndex:Number(l.event_index),payload:JSON.parse(r.Buffer.from(l.payload,"base64").toString())}})},c.abrupt("return",u);case 16:case"end":return c.stop()}},t)})),fe.apply(this,arguments)}function Oc(t){return le.apply(this,arguments)}function le(){return le=x(h.mark(function t(n){var r,e,a,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},C((e=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Ping Error: opts.node must be defined."),C(r.response,"SDK Send Ping Error: context.response must be defined."),a=e.httpRequest||gt,i.next=7,a({hostname:e.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});case 7:return(o=r.response()).tag=n.tag,i.abrupt("return",o);case 10:case"end":return i.stop()}},t)})),le.apply(this,arguments)}var Pc=function(t){return"".concat(withPrefix(t.addr),"-").concat(t.keyId)};function Nc(t){return pe.apply(this,arguments)}function pe(){return pe=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m,b,E,S,N,T=arguments;return h.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return r=T.length>1&&void 0!==T[1]?T[1]:{},C((e=T.length>2&&void 0!==T[2]?T[2]:{}).node,"SDK Send Transaction Error: opts.node must be defined."),C(r.response,"SDK Send Transaction Error: context.response must be defined."),C(r.Buffer,"SDK Send Transaction Error: context.Buffer must be defined."),a=e.httpRequest||gt,R.next=8,n;case 8:n=R.sent,o=[],u=0,i=Object.values(n.accounts);case 11:if(!(u<i.length)){R.next=24;break}c=i[u],R.prev=13,c.role.payer||null==c.signature||o.push({address:Z(c.addr),key_index:String(c.keyId),signature:r.Buffer.from(c.signature,"hex").toString("base64")}),R.next=21;break;case 17:throw R.prev=17,R.t0=R.catch(13),console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:c,ix:n}),R.t0;case 21:u++,R.next=11;break;case 24:l={},d=0,g=Object.values(n.accounts);case 26:if(!(d<g.length)){R.next=39;break}v=g[d],R.prev=28,v.role.payer&&null!=v.signature&&(m=v.tempId||Pc(v),l[m]=l[m]||{address:Z(v.addr),key_index:String(v.keyId),signature:r.Buffer.from(v.signature,"hex").toString("base64")}),R.next=36;break;case 32:throw R.prev=32,R.t1=R.catch(28),console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:v,ix:n}),R.t1;case 36:d++,R.next=26;break;case 39:return l=Object.values(l),b=Date.now(),R.next=43,a({hostname:e.node,path:"/v1/transactions",method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:K(n.message.arguments.map(function(L){return r.Buffer.from(JSON.stringify(n.arguments[L].asArgument)).toString("base64")})),reference_block_id:n.message.refBlock?n.message.refBlock:null,gas_limit:String(n.message.computeLimit),payer:Z(n.accounts[Array.isArray(n.payer)?n.payer[0]:n.payer].addr),proposal_key:{address:Z(n.accounts[n.proposer].addr),key_index:String(n.accounts[n.proposer].keyId),sequence_number:String(n.accounts[n.proposer].sequenceNum)},authorizers:n.authorizations.map(function(L){return n.accounts[L].addr}).reduce(function(L,I){return L.find(function(W){return W===I})?L:[].concat(K(L),[I])},[]).map(Z),payload_signatures:o,envelope_signatures:l}});case 43:return E=R.sent,S=Date.now(),(N=r.response()).tag=n.tag,N.transactionId=E.id,typeof window<"u"&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:N.transactionId,delta:S-b}})),R.abrupt("return",N);case 50:case"end":return R.stop()}},t,null,[[13,17],[28,32]])})),pe.apply(this,arguments)}var de=function(){var t=x(h.mark(function n(r){var e,a,o=arguments;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return e=o.length>1&&void 0!==o[1]?o[1]:{},C((a=o.length>2&&void 0!==o[2]?o[2]:{}).node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),C(e.ix,"SDK Send Error: context.ix must be defined."),u.next=6,r;case 6:r=u.sent,u.t0=!0,u.next=u.t0===e.ix.isTransaction(r)?10:u.t0===e.ix.isGetTransactionStatus(r)?11:u.t0===e.ix.isGetTransaction(r)?12:u.t0===e.ix.isScript(r)?13:u.t0===e.ix.isGetAccount(r)?14:u.t0===e.ix.isGetEvents(r)?15:u.t0===e.ix.isGetBlock(r)?16:u.t0===e.ix.isGetBlockHeader(r)?17:u.t0===e.ix.isGetCollection(r)?18:u.t0===e.ix.isPing(r)?19:20;break;case 10:return u.abrupt("return",a.sendTransaction?a.sendTransaction(r,e,a):Nc(r,e,a));case 11:return u.abrupt("return",a.sendGetTransactionStatus?a.sendGetTransactionStatus(r,e,a):Cc(r,e,a));case 12:return u.abrupt("return",a.sendGetTransaction?a.sendGetTransaction(r,e,a):_c(r,e,a));case 13:return u.abrupt("return",a.sendExecuteScript?a.sendExecuteScript(r,e,a):fc(r,e,a));case 14:return u.abrupt("return",a.sendGetAccount?a.sendGetAccount(r,e,a):gc(r,e,a));case 15:return u.abrupt("return",a.sendGetEvents?a.sendGetEvents(r,e,a):Rc(r,e,a));case 16:return u.abrupt("return",a.sendGetBlock?a.sendGetBlock(r,e,a):Ec(r,e,a));case 17:return u.abrupt("return",a.sendGetBlockHeader?a.sendGetBlockHeader(r,e,a):bc(r,e,a));case 18:return u.abrupt("return",a.sendGetCollection?a.sendGetCollection(r,e,a):Ic(r,e,a));case 19:return u.abrupt("return",a.sendPing?a.sendPing(r,e,a):Oc(r,e,a));case 20:return u.abrupt("return",r);case 21:case"end":return u.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),he={},Mo={},zo={},Yo={},ge=function(t,n){return function(r,e){var a=2*e,o=2*n;r[a]=t[o],r[a+1]=t[o+1]}};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=ge)&&n.__esModule?n:{default:n};t.default=function(a){for(var o=a.A,u=a.C,i=0;i<25;i+=5){for(var c=0;c<5;c++)(0,r.default)(o,i+c)(u,c);for(var l=0;l<5;l++){var d=2*(i+l),g=(l+1)%5*2,v=(l+2)%5*2;o[d]^=~u[g]&u[v],o[d+1]^=~u[g+1]&u[v+1]}}}}(Yo);var qo={},Ko={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);t.default=n})(Ko),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=Ko)&&n.__esModule?n:{default:n};t.default=function(a){var o=a.A,u=2*a.roundIndex;o[0]^=r.default[u],o[1]^=r.default[u+1]}}(qo);var Ho={},Wo={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1]}(Wo);var Vo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44]})(Vo),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(Wo),r=a(Vo),e=a(ge);function a(u){return u&&u.__esModule?u:{default:u}}t.default=function(u){var i=u.A,c=u.C,l=u.W;(0,e.default)(i,1)(l,0);for(var d=0,g=0,v=0,m=32,b=0;b<24;b++){var E=n.default[b],S=r.default[b];(0,e.default)(i,E)(c,0),l[v=S<32?0:1]=(d=l[0])<<S|(g=l[1])>>>(m=32-S),l[(v+1)%2]=g<<S|d>>>m,(0,e.default)(l,0)(i,E),(0,e.default)(c,0)(l,0)}}}(Ho);var Jo={};function Xo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t.length&&!n.length||!t.length)return r;if(!n.length)return[].concat(K(r),[t[0]]);var e=Fn(t),a=e[0],o=e.slice(1),u=Fn(n),i=u[0],c=u.slice(1);return void 0!==a&&r.push(a),void 0!==i&&r.push(i),Xo(o,c,r)}function Zo(t){return function(n){return"function"==typeof n?(wt.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),Zo(t)(n(t))):String(n)}}function cr(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return"string"==typeof t?function(){return t}:Array.isArray(t)?function(a){return Xo(t,r.map(Zo(a))).join("").trim()}:t}function Bc(t,n){if(null==t)return{};var r,e,a=function(u,i){if(null==u)return{};var c,l,d={},g=Object.keys(u);for(l=0;l<g.length;l++)i.indexOf(c=g[l])>=0||(d[c]=u[c]);return d}(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)n.indexOf(r=o[e])>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=ge)&&n.__esModule?n:{default:n};t.default=function(a){for(var o=a.A,u=a.C,i=a.D,c=a.W,l=0,d=0,g=0;g<5;g++){var v=2*g,m=2*(g+5),b=2*(g+10),E=2*(g+15),S=2*(g+20);u[v]=o[v]^o[m]^o[b]^o[E]^o[S],u[v+1]=o[v+1]^o[m+1]^o[b+1]^o[E+1]^o[S+1]}for(var N=0;N<5;N++){(0,r.default)(u,(N+1)%5)(c,0),c[0]=(l=c[0])<<1|(d=c[1])>>>31,c[1]=d<<1|l>>>31,i[2*N]=u[(N+4)%5*2]^c[0],i[2*N+1]=u[(N+4)%5*2+1]^c[1];for(var T=0;T<25;T+=5)o[2*(T+N)]^=i[2*N],o[2*(T+N)+1]^=i[2*N+1]}}})(Jo),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(Yo),r=o(qo),e=o(Ho),a=o(Jo);function o(i){return i&&i.__esModule?i:{default:i}}t.default=function(){var i=new Uint32Array(10),c=new Uint32Array(10),l=new Uint32Array(2);return function(d){for(var g=0;g<24;g++)(0,a.default)({A:d,C:i,D:c,W:l}),(0,e.default)({A:d,C:i,W:l}),(0,n.default)({A:d,C:i}),(0,r.default)({A:d,roundIndex:g});i.fill(0),c.fill(0),l.fill(0)}}}(zo),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=X,e=(n=zo)&&n.__esModule?n:{default:n},a=function(i,c){for(var l=0;l<i.length;l+=8){var d=l/4;c[d]^=i[l+7]<<24|i[l+6]<<16|i[l+5]<<8|i[l+4],c[d+1]^=i[l+3]<<24|i[l+2]<<16|i[l+1]<<8|i[l]}return c},o=function(i,c){for(var l=0;l<c.length;l+=8){var d=l/4;c[l]=i[d+1],c[l+1]=i[d+1]>>>8,c[l+2]=i[d+1]>>>16,c[l+3]=i[d+1]>>>24,c[l+4]=i[d],c[l+5]=i[d]>>>8,c[l+6]=i[d]>>>16,c[l+7]=i[d]>>>24}return c};t.default=function(i){var c=this,l=i.capacity,d=i.padding,g=(0,e.default)(),v=l/8,m=200-l/4,b=0,E=new Uint32Array(50),S=r.Buffer.allocUnsafe(m);return this.absorb=function(N){for(var T=0;T<N.length;T++)S[b]=N[T],(b+=1)>=m&&(a(S,E),g(E),b=0);return c},this.squeeze=function(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},T={buffer:N.buffer||r.Buffer.allocUnsafe(v),padding:N.padding||d,queue:r.Buffer.allocUnsafe(S.length),state:new Uint32Array(E.length)};S.copy(T.queue);for(var R=0;R<E.length;R++)T.state[R]=E[R];T.queue.fill(0,b),T.queue[b]|=T.padding,T.queue[m-1]|=128,a(T.queue,T.state);for(var L=0;L<T.buffer.length;L+=m)g(T.state),o(T.state,T.buffer.slice(L,L+m));return T.buffer},this.reset=function(){return S.fill(0),E.fill(0),b=0,c},this}}(Mo),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHAKE=t.SHA3Hash=t.SHA3=t.Keccak=void 0;var n,r=X,e=(n=Mo)&&n.__esModule?n:{default:n},a=function(d){var g=d.allowedSizes,v=d.defaultSize,m=d.padding;return function b(){var E=this,S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;if(!this||this.constructor!==b)return new b(S);if(g&&!g.includes(S))throw new Error("Unsupported hash length");var N=new e.default({capacity:S});return this.update=function(T){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(r.Buffer.isBuffer(T))return N.absorb(T),E;if("string"==typeof T)return E.update(r.Buffer.from(T,R));throw new TypeError("Not a string or buffer")},this.digest=function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",R="string"==typeof T?{format:T}:T,L=N.squeeze({buffer:R.buffer,padding:R.padding||m});return R.format&&"binary"!==R.format?L.toString(R.format):L},this.reset=function(){return N.reset(),E},this}},o=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});t.Keccak=o;var u=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});t.SHA3=u;var i=a({allowedSizes:[128,256],defaultSize:256,padding:31});t.SHAKE=i;var c=o;t.SHA3Hash=c,u.SHA3Hash=c,t.default=u}(he);var fr="UNKNOWN",me="SCRIPT",ve="TRANSACTION",ye="GET_TRANSACTION_STATUS",be="GET_ACCOUNT",we="GET_EVENTS",xe="PING",ke="GET_TRANSACTION",Ee="GET_BLOCK",Ie="GET_BLOCK_HEADER",Se="GET_COLLECTION",Re="ACCOUNT",_e="ARGUMENT",Te="authorizer",Ce="payer",Qo="proposer",Lc='{\n  "kind":"'.concat(Re,'",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),Uc='{\n  "kind":"'.concat(_e,'",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}'),tu='{\n  "tag":"'.concat(fr,'",\n  "assigns":{},\n  "status":"').concat("OK",'",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":[],\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}'),nu=new Set(Object.keys(JSON.parse(tu))),pr=function(){return JSON.parse(tu)},ru="abcdefghijklmnopqrstuvwxyz0123456789".split(""),Fc=function(){return ru[~~(Math.random()*ru.length)]},Oe=function(){return Array.from({length:10},Fc).join("")},eu=function(t){return"number"==typeof t},au=function(t){return Array.isArray(t)},ou=function(t){return null!==t&&"object"===z(t)},Pe=function(t){return null==t},wn=function(t){return"function"==typeof t},uu=function(t){if(!ou(t)||Pe(t)||eu(t))return!1;var n,r=bt(nu);try{for(r.s();!(n=r.n()).done;)if(!t.hasOwnProperty(n.value))return!1}catch(a){r.e(a)}finally{r.f()}return!0},ht=function(t){return t.status="OK",t},Ne=function(t,n){return t.status="BAD",t.reason=n,t},Ft=function(t){return function(n){return n.tag=t,ht(n)}},su=function(t){return null==t.keyId?t:(C(!isNaN(parseInt(t.keyId)),"account.keyId must be an integer"),O(O({},t),{},{keyId:parseInt(t.keyId)}))},dr=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){C("function"==typeof t||"object"===z(t),"prepAccount must be passed an authorization function or an account object"),C(null!=n.role,"Account must have a role");var e=JSON.parse(Lc),a=n.role,o=Oe();t.authorization&&wn(t.authorization)&&(t={resolve:t.authorization}),!t.authorization&&wn(t)&&(t={resolve:t});var u=t.resolve;return u&&(t.resolve=function(i){for(var c=arguments.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=arguments[d];return[u,su].reduce((g=x(h.mark(function v(m,b){return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.t0=b,E.t1=void 0,E.next=4,m;case 4:return E.t2=E.sent,E.t3=[E.t2].concat(l),E.abrupt("return",E.t0.apply.call(E.t0,E.t1,E.t3));case 7:case"end":return E.stop()}},v)})),function(v,m){return g.apply(this,arguments)}),i);var g}),t=su(t),r.accounts[o]=O(O(O({},e),{},{tempId:o},t),{},{role:O(O(O({},e.role),"object"===z(t.role)?t.role:{}),{},q({},a,!0))}),a===Te?r.authorizations.push(o):a===Ce?r.payer.push(o):r[a]=o,r}},iu=function(t){return function(n){var r=Oe();return n.message.arguments.push(r),n.arguments[r]=JSON.parse(Uc),n.arguments[r].tempId=r,n.arguments[r].value=t.value,n.arguments[r].asArgument=t.asArgument,n.arguments[r].xform=t.xform,n.arguments[r].resolve=t.resolve,n.arguments[r].resolveArgument=wn(t.resolveArgument)?t.resolveArgument.bind(t):t.resolveArgument,ht(n)}},jc=Ft(fr),cu=Ft(me),fu=Ft(ve),lu=Ft(ye),pu=Ft(ke),du=Ft(be),hr=Ft(we),hu=Ft(xe),gu=Ft(Ee),mu=Ft(Ie),vu=Ft(Se),jt=function(t){return function(n){return n.tag===t}},Dc=jt(fr),Be=jt(me),en=jt(ve),Gc=jt(ye),Mc=jt(ke),Le=jt(be),zc=jt(we),Yc=jt(xe),yu=jt(Ee),qc=jt(Ie),Kc=jt(Se),bu=function(t){return"OK"===t.status},Ue=function(t){return"BAD"===t.status},wu=function(t){return t.reason},Hc=function(t){for(var n=0,r=Object.keys(t);n<r.length;n++){var e=r[n];if(!nu.has(e))throw new Error('"'.concat(e,'" is an invalid root level Interaction property.'))}return t},gr=function(){var t=x(h.mark(function n(r){var e,a,o,u,i,c=arguments;return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=c.length>1&&void 0!==c[1]?c[1]:[],l.prev=1,l.t0=Hc,l.next=5,r;case 5:if(l.t1=l.sent,r=(0,l.t0)(l.t1),!Ue(r)){l.next=9;break}throw new Error("Interaction Error: ".concat(r.reason));case 9:if(e.length){l.next=11;break}return l.abrupt("return",r);case 11:return a=Fn(e),o=a[0],u=a.slice(1),l.next=14,o;case 14:if(!wn(i=l.sent)){l.next=17;break}return l.abrupt("return",gr(i(r),u));case 17:if(!Pe(i)&&i){l.next=19;break}return l.abrupt("return",gr(r,u));case 19:if(!uu(i)){l.next=21;break}return l.abrupt("return",gr(i,u));case 21:throw new Error("Invalid Interaction Composition");case 24:throw l.prev=24,l.t2=l.catch(1),l.t2;case 27:case"end":return l.stop()}},n,null,[[1,24]])}));return function(n){return t.apply(this,arguments)}}(),st=function t(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var a=r[0],o=r[1];return au(a)&&null==o?function(u){return t(u,a)}:gr(a,o)},Wc=function(t){return t},mr=function(t,n,r){return t.assigns[n]??r},vr=function(t,n){return function(r){return r.assigns[t]=n,ht(r)}},xu=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wc;return function(r){return r.assigns[t]=n(r.assigns[t],r),ht(r)}},Fe=Object.freeze({__proto__:null,UNKNOWN:fr,SCRIPT:me,TRANSACTION:ve,GET_TRANSACTION_STATUS:ye,GET_ACCOUNT:be,GET_EVENTS:we,PING:xe,GET_TRANSACTION:ke,GET_BLOCK:Ee,GET_BLOCK_HEADER:Ie,GET_COLLECTION:Se,BAD:"BAD",OK:"OK",ACCOUNT:Re,PARAM:"PARAM",ARGUMENT:_e,AUTHORIZER:Te,PAYER:Ce,PROPOSER:Qo,interaction:pr,uuid:Oe,isNumber:eu,isArray:au,isObj:ou,isNull:Pe,isFn:wn,isInteraction:uu,Ok:ht,Bad:Ne,prepAccount:dr,makeArgument:iu,makeUnknown:jc,makeScript:cu,makeTransaction:fu,makeGetTransactionStatus:lu,makeGetTransaction:pu,makeGetAccount:du,makeGetEvents:hr,makePing:hu,makeGetBlock:gu,makeGetBlockHeader:mu,makeGetCollection:vu,isUnknown:Dc,isScript:Be,isTransaction:en,isGetTransactionStatus:Gc,isGetTransaction:Mc,isGetAccount:Le,isGetEvents:zc,isPing:Yc,isGetBlock:yu,isGetBlockHeader:qc,isGetCollection:Kc,isOk:bu,isBad:Ue,why:wu,isAccount:function(t){return t.kind===Re},isParam:function(t){return"PARAM"===t.kind},isArgument:function(t){return t.kind===_e},pipe:st,get:mr,put:vr,update:xu,destroy:function(t){return function(n){return delete n.assigns[t],ht(n)}}});function yr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return st(pr(),t)}var je=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}')};function Mn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return st([gu,function(n){return n.block.isSealed=t,ht(n)}])}function xn(t){return st([du,function(n){return n.account.addr=Z(t),ht(n)}])}var Vc=function(){wt.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})},ot=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Jc=function(){var t=x(h.mark(function n(){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",null);case 1:case"end":return r.stop()}},n)}));return function(){return t.apply(this,arguments)}}(),Xc=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.staticType);case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Zc=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{domain:r.domain,identifier:r.identifier});case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),$c=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{path:r.path,address:r.address,borrowType:r.borrowType});case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Qc=function(){var t=x(h.mark(function n(r,e,a){return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!r){o.next=6;break}return o.next=3,kn(r,e,a);case 3:o.t0=o.sent,o.next=7;break;case 6:o.t0=null;case 7:return o.abrupt("return",o.t0);case 8:case"end":return o.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),tf=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{address:r.address,type:r.type});case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),nf=function(){var t=x(h.mark(function n(r,e,a){return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Promise.all(r.map(function(u){return new Promise((i=x(h.mark(function c(l){return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.t0=l,d.next=3,kn(u,e,[].concat(K(a),[u.type]));case 3:return d.t1=d.sent,d.abrupt("return",(0,d.t0)(d.t1));case 5:case"end":return d.stop()}},c)})),function(c){return i.apply(this,arguments)}));var i}));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),rf=function(){var t=x(h.mark(function n(r,e,a){return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.reduce(function(){var u=x(h.mark(function i(c,l){return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,c;case 2:return c=d.sent,d.next=5,kn(l.key,e,[].concat(K(a),[l.key]));case 5:return d.t0=d.sent,d.next=8,kn(l.value,e,[].concat(K(a),[l.key]));case 8:return c[d.t0]=d.sent,d.abrupt("return",c);case 10:case"end":return d.stop()}},i)}));return function(i,c){return u.apply(this,arguments)}}(),Promise.resolve({}));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),br=function(){var t=x(h.mark(function n(r,e,a){var o,u;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.fields.reduce(function(){var c=x(h.mark(function l(d,g){return h.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,d;case 2:return d=v.sent,v.next=5,kn(g.value,e,[].concat(K(a),[g.name]));case 5:return d[g.name]=v.sent,v.abrupt("return",d);case 7:case"end":return v.stop()}},l)}));return function(l,d){return c.apply(this,arguments)}}(),Promise.resolve({}));case 2:if(o=i.sent,!(u=r.id&&Eu(e,r.id))){i.next=10;break}return i.next=7,u(o);case 7:i.t0=i.sent,i.next=11;break;case 10:i.t0=o;case 11:return i.abrupt("return",i.t0);case 12:case"end":return i.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),ku={UInt:ot,Int:ot,UInt8:ot,Int8:ot,UInt16:ot,Int16:ot,UInt32:ot,Int32:ot,UInt64:ot,Int64:ot,UInt128:ot,Int128:ot,UInt256:ot,Int256:ot,Word8:ot,Word16:ot,Word32:ot,Word64:ot,UFix64:ot,Fix64:ot,String:ot,Character:ot,Bool:ot,Address:ot,Void:Jc,Optional:Qc,Reference:tf,Array:nf,Dictionary:rf,Event:br,Resource:br,Struct:br,Enum:br,Type:Xc,Path:Zc,Capability:$c},Eu=function(t,n){var r=Object.keys(t).find(function(e){return/^\/.*\/$/.test(e)?new RegExp(e.substring(1,e.length-1)).test(n):e===n});return n&&r&&t[r]},kn=function(){var t=x(h.mark(function n(r,e,a){var o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(o=Eu(e,r.type)){u.next=3;break}throw new Error("Undefined Decoder Error: ".concat(r.type,"@").concat(a.join(".")));case 3:return u.next=5,o(r.value,e,a);case 5:return u.abrupt("return",u.sent);case 6:case"end":return u.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),De=function(){var t=x(h.mark(function n(r){var e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return e=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2&&void 0!==i[2]?i[2]:[],o=Object.keys(ku).filter(function(l){return!Object.keys(e).find(function(d){return new RegExp(d).test(l)})}).reduce(function(l,d){return l[d]=ku[d],l},e),u=O(O({},o),e),c.abrupt("return",kn(r,u,a));case 5:case"end":return c.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Jt=function(){var t=x(h.mark(function n(r){var e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=a.length>1&&void 0!==a[1]?a[1]:{},!r.encodedData){o.next=5;break}return o.abrupt("return",De(r.encodedData,e));case 5:if(!r.transactionStatus){o.next=16;break}return o.t0=O,o.t1=O({},r.transactionStatus),o.t2={},o.next=11,Promise.all(r.transactionStatus.events.map(function(){var u=x(h.mark(function i(c){return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.t0=c.type,l.t1=c.transactionId,l.t2=c.transactionIndex,l.t3=c.eventIndex,l.next=6,De(c.payload,e);case 6:return l.t4=l.sent,l.abrupt("return",{type:l.t0,transactionId:l.t1,transactionIndex:l.t2,eventIndex:l.t3,data:l.t4});case 8:case"end":return l.stop()}},i)}));return function(i){return u.apply(this,arguments)}}()));case 11:return o.t3=o.sent,o.t4={events:o.t3},o.abrupt("return",(0,o.t0)(o.t1,o.t2,o.t4));case 16:if(!r.transaction){o.next=20;break}return o.abrupt("return",r.transaction);case 20:if(!r.events){o.next=26;break}return o.next=23,Promise.all(r.events.map(function(){var u=x(h.mark(function i(c){return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.t0=c.blockId,l.t1=c.blockHeight,l.t2=c.blockTimestamp,l.t3=c.type,l.t4=c.transactionId,l.t5=c.transactionIndex,l.t6=c.eventIndex,l.next=9,De(c.payload,e);case 9:return l.t7=l.sent,l.abrupt("return",{blockId:l.t0,blockHeight:l.t1,blockTimestamp:l.t2,type:l.t3,transactionId:l.t4,transactionIndex:l.t5,eventIndex:l.t6,data:l.t7});case 11:case"end":return l.stop()}},i)}));return function(i){return u.apply(this,arguments)}}()));case 23:return o.abrupt("return",o.sent);case 26:if(!r.account){o.next=30;break}return o.abrupt("return",r.account);case 30:if(!r.block){o.next=34;break}return o.abrupt("return",r.block);case 34:if(!r.blockHeader){o.next=38;break}return o.abrupt("return",r.blockHeader);case 38:if(!r.latestBlock){o.next=43;break}return Vc(),o.abrupt("return",r.latestBlock);case 43:if(!r.transactionId){o.next=47;break}return o.abrupt("return",r.transactionId);case 47:if(!r.collection){o.next=49;break}return o.abrupt("return",r.collection);case 49:return o.abrupt("return",null);case 50:case"end":return o.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Iu=function(t){return"function"==typeof t},Su=function(t){return"string"==typeof t};function Au(){return(Au=x(h.mark(function t(n){var r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!en(n)&&!Be(n)){e.next=11;break}if(r=mr(n,"ix.cadence"),C(Iu(r)||Su(r),"Cadence needs to be a function or a string."),!Iu(r)){e.next=7;break}return e.next=6,r({});case 6:r=e.sent;case 7:return C(Su(r),"Cadence needs to be a string at this point."),e.next=10,j().where(/^0x/).then(function(a){return Object.entries(a).reduce(function(o,u){var i=Lt(u,2),l=i[1],d=new RegExp("(\\b"+i[0]+"\\b)","g");return o.replace(d,l)},r)});case 10:n.message.cadence=e.sent;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},t)}))).apply(this,arguments)}var Ge=function(t){return"function"==typeof t};function ef(t){return C(null!=z(t.xform),"No type specified for argument: ".concat(t.value)),Ge(t.xform)?t.xform(t.value):Ge(t.xform.asArgument)?t.xform.asArgument(t.value):void C(!1,"Invalid Argument",t)}function Ru(t){return Me.apply(this,arguments)}function Me(){return Me=x(h.mark(function t(n){var r,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(C((r=a.length>1&&void 0!==a[1]?a[1]:3)>0,"Argument Resolve Recursion Limit Exceeded for Arg: ".concat(n.tempId)),!Ge(n.resolveArgument)){o.next=9;break}return o.next=5,n.resolveArgument();case 5:return o.abrupt("return",Ru(o.sent,r-1));case 9:return o.abrupt("return",n);case 10:case"end":return o.stop()}},t)})),Me.apply(this,arguments)}function ze(){return ze=x(h.mark(function t(n){var r,e,a,o,u;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!en(n)&&!Be(n)){c.next=11;break}r=0,e=Object.entries(n.arguments);case 2:if(!(r<e.length)){c.next=11;break}return a=Lt(e[r],2),o=a[0],u=a[1],c.next=6,Ru(u);case 6:n.arguments[o].asArgument=ef(c.sent);case 8:r++,c.next=2;break;case 11:return c.abrupt("return",n);case 12:case"end":return c.stop()}},t)})),ze.apply(this,arguments)}var _u,Cu=function(t){return Nu(Ye(ju(t)))},Ou=function(t){return Nu(Ye(uf(t)))},Pu=function(t,n){return X.Buffer.from(t.padStart(2*n,0),"hex")},af=(_u=X.Buffer.from("FLOW-V0.0-transaction").toString("hex"),32,X.Buffer.from(_u.padEnd(64,0),"hex")).toString("hex"),Nu=function(t){return af+t},En=function(t){return Pu(t,8)},Bu=function(t){return Pu(t,32)},Lu=function(t){return X.Buffer.from(JSON.stringify(t),"utf8")},Uu=function(t){return X.Buffer.from(t,"utf8")},Fu=function(t){return X.Buffer.from(t,"hex")},Ye=function(t){return fn(t).toString("hex")},ju=function(t){return ff(t),[Uu(t.cadence),t.arguments.map(Lu),Bu(t.refBlock),t.computeLimit,En(Z(t.proposalKey.address)),t.proposalKey.keyId,t.proposalKey.sequenceNum,En(Z(t.payer)),t.authorizers.map(function(n){return En(Z(n))})]},uf=function(t){return lf(t),[ju(t),sf(t)]},sf=function(t){var n=Du(t);return t.payloadSigs.map(function(r){return{signerIndex:n.get(r.address),keyId:r.keyId,sig:r.sig}}).sort(function(r,e){return r.signerIndex>e.signerIndex?1:r.signerIndex<e.signerIndex?-1:r.keyId>e.keyId?1:r.keyId<e.keyId?-1:void 0}).map(function(r){return[r.signerIndex,r.keyId,Fu(r.sig)]})},Du=function(t){var n=new Map,r=0,e=function(a){n.has(a)||(n.set(a,r),r++)};return e(t.proposalKey.address),e(t.payer),t.authorizers.forEach(e),n},ff=function(t){Mu.forEach(function(n){return Kt(t,n)}),zu.forEach(function(n){return Kt(t.proposalKey,n,"proposalKey")})},lf=function(t){Yu.forEach(function(n){return Kt(t,n)}),t.payloadSigs.forEach(function(n,r){qu.forEach(function(e){return Kt(n,e,"payloadSigs",r)})})},pf=function(t){Mu.forEach(function(n){return Kt(t,n)}),zu.forEach(function(n){return Kt(t.proposalKey,n,"proposalKey")}),Yu.forEach(function(n){return Kt(t,n)}),t.payloadSigs.forEach(function(n,r){qu.forEach(function(e){return Kt(n,e,"payloadSigs",r)})}),df.forEach(function(n){return Kt(t,n)}),t.envelopeSigs.forEach(function(n,r){hf.forEach(function(e){return Kt(n,e,"envelopeSigs",r)})})},zn=function(t){return"number"==typeof t},an=function(t){return"string"==typeof t},Gu=function(t){return null!==t&&"object"===z(t)},wr=function(t){return Gu(t)&&t instanceof Array},Mu=[{name:"cadence",check:an},{name:"arguments",check:wr},{name:"refBlock",check:an,defaultVal:"0"},{name:"computeLimit",check:zn},{name:"proposalKey",check:Gu},{name:"payer",check:an},{name:"authorizers",check:wr}],zu=[{name:"address",check:an},{name:"keyId",check:zn},{name:"sequenceNum",check:zn}],Yu=[{name:"payloadSigs",check:wr}],qu=[{name:"address",check:an},{name:"keyId",check:zn},{name:"sig",check:an}],df=[{name:"envelopeSigs",check:wr}],hf=[{name:"address",check:an},{name:"keyId",check:zn},{name:"sig",check:an}],Kt=function(t,n,r,e){var a=n.name,o=n.check,u=n.defaultVal;if(null==t[a]&&null!=u&&(t[a]=u),null==t[a])throw gf(a,r,e);if(!o(t[a]))throw mf(a,r,e)},Ku=function(t,n,r){return n?null==r?"".concat(n,".").concat(t):"".concat(n,".").concat(r,".").concat(t):t},gf=function(t,n,r){return new Error("Missing field ".concat(Ku(t,n,r)))},mf=function(t,n,r){return new Error("Invalid field ".concat(Ku(t,n,r)))};function Hu(t){var n=new Set(t.authorizations);return n.add(t.proposer),Array.isArray(t.payer)?t.payer.forEach(function(r){return n.delete(r)}):n.delete(t.payer),Array.from(n)}function Wu(t){var n=new Set(Array.isArray(t.payer)?t.payer:[t.payer]);return Array.from(n)}var Yn=function(t){return{cadence:t.message.cadence,refBlock:t.message.refBlock||null,computeLimit:t.message.computeLimit,arguments:t.message.arguments.map(function(n){return t.arguments[n].asArgument}),proposalKey:{address:at(t.accounts[t.proposer].addr),keyId:t.accounts[t.proposer].keyId,sequenceNum:t.accounts[t.proposer].sequenceNum},payer:at(t.accounts[Array.isArray(t.payer)?t.payer[0]:t.payer].addr),authorizers:(n=t.authorizations.map(function(r){return at(t.accounts[r].addr)}).reduce(function(r,e){return r.find(function(a){return a===e})?r:[].concat(K(r),[e])},[]),n[0]?n:[]),payloadSigs:Hu(t).map(function(n){return{address:at(t.accounts[n].addr),keyId:t.accounts[n].keyId,sig:t.accounts[n].signature}}),envelopeSigs:Wu(t).map(function(n){return{address:at(t.accounts[n].addr),keyId:t.accounts[n].keyId,sig:t.accounts[n].signature}})};var n},Vu=function(t){return"".concat(at(t.addr),"-").concat(t.keyId)},vf=function(t){return"function"==typeof t};function yf(t,n){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:t.role,cadence:n.message.cadence,args:n.message.arguments.map(function(r){return n.arguments[r].asArgument}),data:{},interaction:n,voucher:Yn(n)}}catch(r){throw console.error("buildPreSignable",r),r}}function qe(t,n,r){return Ke.apply(this,arguments)}function Ke(){return Ke=x(h.mark(function t(n,r,e){var a,o,u,i,c,l,d=arguments;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:C(a=d.length>3&&void 0!==d[3]?d[3]:3,"Account Resolve Recursion Limit Exceeded",{ix:n,accounts:r}),o=[],u=bt(r),g.prev=4,c=h.mark(function v(){var m,b,E,S;return h.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(b=(m=i.value).resolve,m.resolve=null,l=e||m,!vf(b)){N.next=8;break}return N.next=7,b(m,yf(m,n));case 7:m=N.sent;case 8:if(!Array.isArray(m)){N.next=13;break}return N.next=11,qe(n,m,l,a-1);case 11:N.next=30;break;case 13:if(m.addr&&(m.addr=Z(m.addr)),null!=m.addr&&null!=m.keyId&&(m.tempId=Vu(m)),n.accounts[m.tempId]=n.accounts[m.tempId]||m,n.accounts[m.tempId].role.proposer=n.accounts[m.tempId].role.proposer||m.role.proposer,n.accounts[m.tempId].role.payer=n.accounts[m.tempId].role.payer||m.role.payer,n.accounts[m.tempId].role.authorizer=n.accounts[m.tempId].role.authorizer||m.role.authorizer,n.accounts[m.tempId].role.proposer&&n.proposer===l.tempId&&(n.proposer=m.tempId),!n.accounts[m.tempId].role.payer){N.next=29;break}if(n.payer=Array.isArray(n.payer)?Array.from(new Set([].concat(K(n.payer),[m.tempId]).map(function(T){return T===l.tempId?m.tempId:T}))):Array.from(new Set([n.payer,m.tempId].map(function(T){return T===l.tempId?m.tempId:T}))),!(n.payer.length>1)){N.next=29;break}if(E=[],S=[],n.payer=n.payer.reduce(function(T,R){var L=n.accounts[R].addr,I=Vu(n.accounts[R]);return S.push(L),E.includes(I)?T:(E.push(I),[].concat(K(T),[R]))},[]),!(Array.from(new Set(S)).length>1)){N.next=29;break}throw new Error("Payer can not be different accounts");case 29:n.accounts[m.tempId].role.authorizer&&(e?o=Array.from(new Set([].concat(K(o),[m.tempId]))):n.authorizations=n.authorizations.map(function(T){return T===l.tempId?m.tempId:T}));case 30:l.tempId!=m.tempId&&delete n.accounts[l.tempId];case 31:case"end":return N.stop()}},v)}),u.s();case 7:if((i=u.n()).done){g.next=11;break}return g.delegateYield(c(),"t0",9);case 9:g.next=7;break;case 11:g.next=16;break;case 13:g.prev=13,g.t1=g.catch(4),u.e(g.t1);case 16:return g.prev=16,u.f(),g.finish(16);case 19:e&&(n.authorizations=n.authorizations.map(function(v){return v===e.tempId?o:v}).reduce(function(v,m){return Array.isArray(m)?[].concat(K(v),K(m)):[].concat(K(v),[m])},[]));case 20:case"end":return g.stop()}},t,null,[[4,13,16,19]])})),Ke.apply(this,arguments)}function Ju(){return(Ju=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!en(n)){r.next=13;break}return Array.isArray(n.payer)||wt.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."}),r.prev=2,r.next=5,qe(n,Object.values(n.accounts));case 5:return r.next=7,qe(n,Object.values(n.accounts));case 7:r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(2),console.error("=== SAD PANDA ===\n\n",r.t0,"\n\n=== SAD PANDA ==="),r.t0;case 13:return r.abrupt("return",n);case 14:case"end":return r.stop()}},t,null,[[2,9]])}))).apply(this,arguments)}function Xu(){return(Xu=x(h.mark(function t(n){var r,e,a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!en(n)){u.next=16;break}return u.prev=1,r=Hu(n),e=Cu($u(n)),u.next=6,Promise.all(r.map(Zu(n,e)));case 6:return a=Wu(n),o=Ou(O(O({},$u(n)),{},{payloadSigs:r.map(function(i){return{address:n.accounts[i].addr,keyId:n.accounts[i].keyId,sig:n.accounts[i].signature}})})),u.next=10,Promise.all(a.map(Zu(n,o)));case 10:u.next=16;break;case 12:throw u.prev=12,u.t0=u.catch(1),console.error("Signatures",u.t0,{ix:n}),u.t0;case 16:return u.abrupt("return",n);case 17:case"end":return u.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function Zu(t,n){return r=x(h.mark(function e(a){var o;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null==(o=t.accounts[a]).signature){c.next=3;break}return c.abrupt("return");case 3:return c.next=5,o.signingFunction(bf(o,n,t));case 5:t.accounts[a].signature=c.sent.signature;case 8:case"end":return c.stop()}},e)})),function(e){return r.apply(this,arguments)};var r}function bf(t,n,r){try{return{f_type:"Signable",f_vsn:"1.0.1",message:n,addr:Z(t.addr),keyId:t.keyId,roles:t.role,cadence:r.message.cadence,args:r.message.arguments.map(function(e){return r.arguments[e].asArgument}),data:{},interaction:r,voucher:Yn(r)}}catch(e){throw console.error("buildSignable",e),e}}function $u(t){var n=Z((Array.isArray(t.payer)?t.accounts[t.payer[0]]:t.accounts[t.payer]).addr);return{cadence:t.message.cadence,refBlock:t.message.refBlock||null,computeLimit:t.message.computeLimit,arguments:t.message.arguments.map(function(r){return t.arguments[r].asArgument}),proposalKey:{address:Z(t.accounts[t.proposer].addr),keyId:t.accounts[t.proposer].keyId,sequenceNum:t.accounts[t.proposer].sequenceNum},payer:n,authorizers:t.authorizations.map(function(r){return Z(t.accounts[r].addr)}).reduce(function(r,e){return r.find(function(a){return a===e})?r:[].concat(K(r),[e])},[])}}function Qu(){return(Qu=x(h.mark(function t(n){var r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr(n,"ix.validators",[]),e.abrupt("return",st(n,r.map(function(a){return function(o){return a(o,{Ok:ht,Bad:Ne})}})));case 2:case"end":return e.stop()}},t)}))).apply(this,arguments)}function ts(){return(ts=x(h.mark(function t(n){var r,e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(r=0,e=Object.keys(n.accounts);r<e.length;r++)n.accounts[a=e[r]].addr=Z(n.accounts[a].addr);return o.abrupt("return",n);case 2:case"end":return o.stop()}},t)}))).apply(this,arguments)}function ns(){return(ns=x(h.mark(function t(n){var r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mr(n,"ix.voucher-intercept"),!wn(r)){e.next=4;break}return e.next=4,r(Yn(n));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}},t)}))).apply(this,arguments)}function rs(){return(rs=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!en(n)){r.next=8;break}if(r.t0=n.message.computeLimit,r.t0){r.next=6;break}return r.next=5,j.get("fcl.limit");case 5:r.t0=r.sent;case 6:n.message.computeLimit=r.t0,n.message.computeLimit||(wt.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),n.message.computeLimit=100);case 8:return r.abrupt("return",n);case 9:case"end":return r.stop()}},t)}))).apply(this,arguments)}var wf=function(t){return t},In=function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wf;return r=x(h.mark(function e(a){var o,u;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(c){return["\nAccounts:",{proposer:c.proposer,authorizations:c.authorizations,payer:c.payer},"\n\nDetails:",c.accounts].filter(Boolean)},u=function(){for(var c,l=arguments.length,d=new Array(l),g=0;g<l;g++)d[g]=arguments[g];(c=console).log.apply(c,["debug[".concat(t,"] ---\n")].concat(d,["\n\n\n---"]))},i.next=5,j.get("debug.".concat(t));case 5:if(!i.sent){i.next=8;break}return i.next=8,n(a,u,o);case 8:return i.abrupt("return",a);case 9:case"end":return i.stop()}},e)})),function(e){return r.apply(this,arguments)}},He=st([function(t){return Au.apply(this,arguments)},In("cadence",function(t,n){return n(t.message.cadence)}),function(t){return rs.apply(this,arguments)},In("compute limit",function(t,n){return n(t.message.computeLimit)}),function(t){return ze.apply(this,arguments)},In("arguments",function(t,n){return n(t.message.arguments,t.message)}),function(t){return Ju.apply(this,arguments)},In("accounts",function(t,n,r){return n.apply(void 0,K(r(t)))}),function(t){return es.apply(this,arguments)},function(t){return as.apply(this,arguments)},function(t){return Xu.apply(this,arguments)},In("signatures",function(t,n,r){return n.apply(void 0,K(r(t)))}),function(t){return ts.apply(this,arguments)},function(t){return Qu.apply(this,arguments)},function(t){return ns.apply(this,arguments)},In("resolved",function(t,n){return n(t)})]);function es(){return(es=x(h.mark(function t(n){var r,e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!en(n)||null!=n.message.refBlock){a.next=11;break}return a.next=3,j().get("accessNode.api");case 3:return r=a.sent,a.next=6,j.first(["sdk.transport","sdk.send"],de);case 6:return C(e=a.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),a.next=10,e(yr([Mn()]),{config:j,response:je,Buffer:X.Buffer,ix:Fe},{node:r}).then(Jt);case 10:n.message.refBlock=a.sent.id;case 11:return a.abrupt("return",n);case 12:case"end":return a.stop()}},t)}))).apply(this,arguments)}function as(){return(as=x(h.mark(function t(n){var r,e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!en(n)){o.next=20;break}if(C(r=Object.values(n.accounts).find(function(u){return u.role.proposer}),"Transactions require a proposer"),null!=r.sequenceNum){o.next=20;break}return o.next=6,j().get("accessNode.api");case 6:return e=o.sent,o.next=9,j.first(["sdk.transport","sdk.send"],de);case 9:return C(a=o.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),o.t0=a,o.next=14,yr([xn(r.addr)]);case 14:return o.t1=o.sent,o.t2={config:j,response:je,Buffer:X.Buffer,ix:Fe},o.t3={node:e},o.next=19,(0,o.t0)(o.t1,o.t2,o.t3).then(Jt).then(function(u){return u.keys}).then(function(u){return u.find(function(i){return i.index===r.keyId})}).then(function(u){return u.sequenceNumber});case 19:n.accounts[r.tempId].sequenceNum=o.sent;case 20:return o.abrupt("return",n);case 21:case"end":return o.stop()}},t)}))).apply(this,arguments)}function G(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length>1){var e=n[0],a=n[1];return G(function(u,i){var l=i.Bad;return e?(0,i.Ok)(u):l(u,a)})}var o=n[0];return function(u){return o(u,{Ok:ht,Bad:Ne})}}var Ot=function(){var t=x(h.mark(function n(){var r,e,a,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>0&&void 0!==u[0]?u[0]:[],e=u.length>1&&void 0!==u[1]?u[1]:{},i.next=4,j.first(["sdk.transport","sdk.send"],e.send||de);case 4:return G(a=i.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),i.next=8,j.first(["sdk.resolve"],e.resolve||He);case 8:if(o=i.sent,i.t0=e.node,i.t0){i.next=14;break}return i.next=13,j().get("accessNode.api");case 13:i.t0=i.sent;case 14:return e.node=i.t0,Array.isArray(r)&&(r=st(pr(),r)),i.t1=a,i.next=19,o(r);case 19:return i.t2=i.sent,i.t3={config:j,response:je,ix:Fe,Buffer:X.Buffer},i.t4=e,i.abrupt("return",(0,i.t1)(i.t2,i.t3,i.t4));case 23:case"end":return i.stop()}},n)}));return function(){return t.apply(this,arguments)}}();function Sn(t){return We.apply(this,arguments)}function We(){return We=x(h.mark(function t(n){var e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j().where(/^decoder\./);case 2:return e=Object.entries(a.sent).map(function(o){var u=Lt(o,2),i=u[0],c=u[1];return[i="/".concat(i.replace(/^decoder\./,""),"$/"),c]}),a.abrupt("return",Jt(n,Object.fromEntries(e)));case 5:case"end":return a.stop()}},t)})),We.apply(this,arguments)}var xf=function(t){zr(r,t);var n=Yr(r);function r(e){var a;Dr(this,r);var o="\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ".concat(e,". \n        Please ensure the address: ").concat(e," is intended to sign the given transaction as specified by the transaction signable.\n      ").trim();return(a=n.call(this,o)).name="Unable To Determine Message Encoding For Signer Addresss",a}return Gr(r)}(ir(Error));function Ve(t){return xu("ix.validators",function(n){return Array.isArray(n)?n.push(t):[t]})}function xr(t){return st([function(n){return n.block.height=t,n},Ve(function(n){if("boolean"==typeof n.block.isSealed)throw new Error("Unable to specify both block height and isSealed.");if(n.block.id)throw new Error("Unable to specify both block height and block id.");return n})])}function Je(t){return st([function(n){return n.block.id=t,ht(n)},Ve(function(n,r){var e=r.Ok,a=r.Bad;return Le(n)?a(n,"Unable to specify a block id with a Get Account interaction."):"boolean"==typeof n.block.isSealed?a(n,"Unable to specify both block id and isSealed."):n.block.height?a(n,"Unable to specify both block id and block height."):e(n)})])}function qn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.sealed,r=void 0!==n&&n,e=t.id,a=t.height,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C(!(r&&e||r&&a),'Method: block -- Cannot pass "sealed" with "id" or "height"'),C(!(e&&a),'Method: block -- Cannot pass "id" and "height" simultaneously'),e?Ot([Mn(),Je(e)],o).then(Jt):a?Ot([Mn(),xr(a)],o).then(Jt):Ot([Mn(r)],o).then(Jt)}function os(){return st((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(n){return dr(n,{role:Te})}))}function us(t,n,r){return st([hr,function(e){return e.events.eventType=t,e.events.start=n,e.events.end=r,ht(e)}])}function ss(t){return st([lu,function(n){return n.transaction.id=t,ht(n)}])}function Xe(t){return function(n){return n.message.computeLimit=t,n}}function Ze(){return st((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(iu))}function $e(t,n){return{value:t,xform:n}}function is(t){return Qe.apply(this,arguments)}function Qe(){return Qe=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",dr(n,{role:Qo}));case 1:case"end":return r.stop()}},t)})),Qe.apply(this,arguments)}function cs(t){return ta.apply(this,arguments)}function ta(){return ta=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",dr(n,{role:Ce}));case 1:case"end":return r.stop()}},t)})),ta.apply(this,arguments)}function fs(t){return st([function(n){return n.message.refBlock=t,ht(n)}])}function ls(){return st([cu,vr("ix.cadence",cr.apply(void 0,arguments))])}var kf=[];function ps(){return st([fu,vr("ix.cadence",cr.apply(void 0,arguments)),function(t){return t.message.refBlock=t.message.refBlock||null,t.authorizations=t.authorizations||kf,ht(t)}])}function Ef(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return C(t.account,"mockAccountResponse(ix) -- ix.account is missing",t),C(t.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",t),{account:{addr:t.account.addr,keys:Array.from({length:n},function(e,a){return{index:a,sequenceNumber:42}})}}}var If=function(t){return t},Sf=["tempId"];function ds(t){return["SIGNATURE",t.addr,t.keyId].join(".")}function Kn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=O(O(O({},n),t),{},{signingFunction:t.signingFunction||n.signingFunction||function(e){return{addr:r.addr,keyId:r.keyId,signature:ds(r)}}});return r}}var hs,na={proposer:!1,authorizer:!1,payer:!1},Af=Object.freeze({__proto__:null,mockSend:function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:If;return n=x(h.mark(function r(e){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e;case 2:e=a.sent,a.t0=!0,a.next=a.t0===Le(e)?6:a.t0===yu(e)?7:8;break;case 6:return a.abrupt("return",Ef(e));case 7:return a.abrupt("return",{tag:"GET_BLOCK",block:{id:"32"}});case 8:return a.abrupt("return",t(e));case 9:case"end":return a.stop()}},r)})),function(r){return n.apply(this,arguments)}},authzFn:Kn,authzResolve:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=t.tempId,e=Bc(t,Sf);return O(O({},n),{},{tempId:r||"WITH_RESOLVE",resolve:Kn(e)})}},authzResolveMany:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=t.tempId||"AUTHZ_RESOLVE_MANY";return O(O({},n),{},{tempId:r,resolve:function(){return[t.proposer&&Kn(t.proposer)({role:O(O({},na),{},{proposer:!0})})].concat(K(t.authorizations.map(Kn).map(function(e){return e({role:O(O({},na),{},{authorizer:!0})})})),[t.payer&&Kn(t.payer)({role:O(O({},na),{},{payer:!0})})]).filter(Boolean)}})}},sig:ds,idof:function(t){return"".concat(at(t.addr),"-").concat(t.keyId)},run:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return yr([fs("123")].concat(K(t))).then(He)}}),kr=function(t){return function(n){return z(n)===t}},Xt=function(t){return null!=t},Rf=kr("object"),An=kr("string"),gs=kr("function"),_f=kr("number"),Tf="function"==typeof queueMicrotask?queueMicrotask:function(t){return(hs||(hs=Promise.resolve())).then(t).catch(function(n){return setTimeout(function(){throw n},0)})},Cf=function(){var t,n=[];return{deliver:function(r){return x(h.mark(function e(){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.push(r),t&&(t(n.shift()),t=void 0);case 2:case"end":return a.stop()}},e)}))()},receive:function(){return new Promise(function(r){var e=n.shift();if(e)return r(e);t=r})}}},ms="SUBSCRIBE",ra="UNSUBSCRIBE",Of="UPDATED",Q="object"===(typeof self>"u"?"undefined":z(self))&&self.self===self&&self||"object"===(typeof global>"u"?"undefined":z(global))&&global.global===global&&global||"object"===(typeof window>"u"?"undefined":z(window))&&window.window===window&&window;Q.FCL_REGISTRY=Q.FCL_REGISTRY??{};var Ht,Nf=0,Pt=function(t,n,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(a,o){var u=e.expectReply||!1,i=null!=e.timeout?e.timeout:5e3;u&&i&&setTimeout(function(){return o(new Error("Timeout: ".concat(i,"ms passed without a response.")))},i);var c={to:t,from:e.from,tag:n,data:r,timeout:i,reply:a,reject:o};try{Q.FCL_REGISTRY[t]&&Q.FCL_REGISTRY[t].mailbox.deliver(c),u||a(!0)}catch(l){console.error("FCL.Actor -- Could Not Deliver Message",c,Q.FCL_REGISTRY[t],l)}})},Bf=function(t){delete Q.FCL_REGISTRY[t]},Lf=function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=x(h.mark(function r(e){var a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if("function"!=typeof t.INIT){o.next=3;break}return o.next=3,t.INIT(e);case 3:return o.next=6,e.receive();case 6:if(a=o.sent,o.prev=7,"EXIT"!==a.tag){o.next=13;break}if("function"!=typeof t.TERMINATE){o.next=12;break}return o.next=12,t.TERMINATE(e,a,a.data||{});case 12:return o.abrupt("break",25);case 13:return o.next=15,t[a.tag](e,a,a.data||{});case 15:o.next=20;break;case 17:o.prev=17,o.t0=o.catch(7),console.error("".concat(e.self()," Error"),a,o.t0);case 20:return o.prev=20,o.abrupt("continue",3);case 23:o.next=3;break;case 25:case"end":return o.stop()}},r,null,[[7,17,20,23]])})),function(r){return n.apply(this,arguments)}},ea=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==n&&(n=++Nf),null!=Q.FCL_REGISTRY[n])return n;Q.FCL_REGISTRY[n]={addr:n,mailbox:Cf(),subs:new Set,kvs:{},error:null};var r={self:function(){return n},receive:function(){return Q.FCL_REGISTRY[n].mailbox.receive()},send:function(e,a,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return u.from=n,Pt(e,a,o,u)},sendSelf:function(e,a,o){Q.FCL_REGISTRY[n]&&Pt(n,e,a,o)},broadcast:function(e,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.from=n;var u,i=bt(Q.FCL_REGISTRY[n].subs);try{for(i.s();!(u=i.n()).done;)Pt(u.value,e,a,o)}catch(l){i.e(l)}finally{i.f()}},subscribe:function(e){return null!=e&&Q.FCL_REGISTRY[n].subs.add(e)},unsubscribe:function(e){return null!=e&&Q.FCL_REGISTRY[n].subs.delete(e)},subscriberCount:function(){return Q.FCL_REGISTRY[n].subs.size},hasSubs:function(){return!!Q.FCL_REGISTRY[n].subs.size},put:function(e,a){null!=e&&(Q.FCL_REGISTRY[n].kvs[e]=a)},get:function(e,a){return Q.FCL_REGISTRY[n].kvs[e]??a},delete:function(e){delete Q.FCL_REGISTRY[n].kvs[e]},update:function(e,a){null!=e&&(Q.FCL_REGISTRY[n].kvs[e]=a(Q.FCL_REGISTRY[n].kvs[e]))},keys:function(){return Object.keys(Q.FCL_REGISTRY[n].kvs)},all:function(){return Q.FCL_REGISTRY[n].kvs},where:function(e){return Object.keys(Q.FCL_REGISTRY[n].kvs).reduce(function(a,o){return e.test(o)?O(O({},a),{},q({},o,Q.FCL_REGISTRY[n].kvs[o])):a},{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach(function(a){return Q.FCL_REGISTRY[n].kvs[a]=e[a]})},fatalError:function(e){Q.FCL_REGISTRY[n].error=e;var a,o=bt(Q.FCL_REGISTRY[n].subs);try{for(o.s();!(a=o.n()).done;)Pt(a.value,Of)}catch(i){o.e(i)}finally{o.f()}}};return"object"===z(t)&&(t=Lf(t)),Tf(x(h.mark(function e(){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(r);case 2:Bf(n);case 3:case"end":return a.stop()}},e)}))),n},Wt="config",vs="PUT_CONFIG",ys="GET_CONFIG",bs="GET_ALL_CONFIG",ws="UPDATE_CONFIG",xs="DELETE_CONFIG",ks="CLEAR_CONFIG",Es="WHERE_CONFIG",Hn="CONFIG/UPDATED",Is=function(t){return t},Ss=(q(Ht={},vs,function(t,n,r){var e=r.key,a=r.value;if(null==e)throw new Error("Missing 'key' for config/put.");t.put(e,a),t.broadcast(Hn,O({},t.all()))}),q(Ht,ys,function(t,n,r){var e=r.key,a=r.fallback;if(null==e)throw new Error("Missing 'key' for config/get");n.reply(t.get(e,a))}),q(Ht,bs,function(t,n){n.reply(O({},t.all()))}),q(Ht,ws,function(t,n,r){var e=r.key,a=r.fn;if(null==e)throw new Error("Missing 'key' for config/update");t.update(e,a||Is),t.broadcast(Hn,O({},t.all()))}),q(Ht,xs,function(t,n,r){var e=r.key;if(null==e)throw new Error("Missing 'key' for config/delete");t.delete(e),t.broadcast(Hn,O({},t.all()))}),q(Ht,ks,function(t,n){for(var r=0,e=Object.keys(t.all());r<e.length;r++)t.delete(e[r]);t.broadcast(Hn,O({},t.all()))}),q(Ht,Es,function(t,n,r){var e=r.pattern;if(null==e)throw new Error("Missing 'pattern' for config/where");n.reply(t.where(e))}),q(Ht,ms,function(t,n){t.subscribe(n.from),t.send(n.from,Hn,O({},t.all()))}),q(Ht,ra,function(t,n){t.unsubscribe(n.from)}),Ht);function aa(t,n){return Pt(Wt,vs,{key:t,value:n}),Et()}function oa(t,n){return Pt(Wt,ys,{key:t,fallback:n},{expectReply:!0,timeout:10})}function ua(){return sa.apply(this,arguments)}function sa(){return sa=x(h.mark(function t(){var n,r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=i.length>1?i[1]:void 0,(n=i.length>0&&void 0!==i[0]?i[0]:[]).length){c.next=4;break}return c.abrupt("return",r);case 4:return e=Fn(n),a=e[0],o=e.slice(1),c.next=7,oa(a);case 7:if(null!=(u=c.sent)){c.next=10;break}return c.abrupt("return",ua(o,r));case 10:return c.abrupt("return",u);case 11:case"end":return c.stop()}},t)})),sa.apply(this,arguments)}function Er(){return Pt(Wt,bs,null,{expectReply:!0,timeout:10})}function As(t){return Pt(Wt,ws,{key:t,fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Is}),Et()}function Rs(t){return Pt(Wt,xs,{key:t}),Et()}function _s(t){return Pt(Wt,Es,{pattern:t},{expectReply:!0,timeout:10})}function Ts(t){return function(n,r,e){ea(Ss,Wt);var u,a="@EXIT",o=ea((u=x(h.mark(function i(c){var l,d;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:c.send(n,ms);case 1:return g.next=4,c.receive();case 4:if(d=Q.FCL_REGISTRY[n].error,(l=g.sent).tag!==a){g.next=9;break}return c.send(n,ra),g.abrupt("return");case 9:if(!d){g.next=13;break}return e(null,d),c.send(n,ra),g.abrupt("return");case 13:e(l.data,null),g.next=1;break;case 16:case"end":return g.stop()}},i)})),function(i){return u.apply(this,arguments)}));return function(){return Pt(o,a)}}(Wt,0,t)}function Cs(t){return Pt(Wt,ks).then(Et(t))}function Et(t){return null!=t&&"object"===z(t)&&Object.keys(t).map(function(n){return aa(n,t[n])}),{put:aa,get:oa,all:Er,first:ua,update:As,delete:Rs,where:_s,subscribe:Ts,overload:Os}}ea(Ss,Wt),Et.put=aa,Et.get=oa,Et.all=Er,Et.first=ua,Et.update=As,Et.delete=Rs,Et.where=_s,Et.subscribe=Ts,Et.overload=Os;var Uf=function(t){return t};function Os(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uf;return new Promise((r=x(h.mark(function e(a,o){var u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Er();case 2:return u=c.sent,c.prev=3,Et(t),c.t0=n,c.next=8,Er();case 8:return c.t1=c.sent,c.next=11,(0,c.t0)(c.t1);case 11:return i=c.sent,c.next=14,Cs(u);case 14:a(i),c.next=22;break;case 17:return c.prev=17,c.t2=c.catch(3),c.next=21,Cs(u);case 21:o(c.t2);case 22:case"end":return c.stop()}},e,null,[[3,17]])})),function(e,a){return r.apply(this,arguments)}))}var Rn=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Ff=function(t){var r=t.message;return["\n    %c".concat(t.title,"\n    ============================\n\n    ").concat(r,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},Ir=function(){var t=x(h.mark(function n(r){var e,a,o,u,i,c,l,d,g,v,m,b;return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return c=r.title,l=r.message,d=r.level,v=void 0!==(g=r.always)&&g,E.next=3,Et.get("logger.level",Rn.warn);case 3:if(m=E.sent,v||!(m<d)){E.next=6;break}return E.abrupt("return");case 6:b=Ff({title:c,message:l}),E.t0=d,E.next=E.t0===Rn.debug?10:E.t0===Rn.info?12:E.t0===Rn.warn?14:E.t0===Rn.error?16:18;break;case 10:return(e=console).debug.apply(e,K(b)),E.abrupt("break",19);case 12:return(a=console).info.apply(a,K(b)),E.abrupt("break",19);case 14:return(o=console).warn.apply(o,K(b)),E.abrupt("break",19);case 16:return(u=console).error.apply(u,K(b)),E.abrupt("break",19);case 18:(i=console).log.apply(i,K(b));case 19:case"end":return E.stop()}},n)}));return function(n){return t.apply(this,arguments)}}();Ir.deprecate=function(t){var n=t.pkg,r=t.subject,e=t.transition,a=t.level,o=void 0===a?Rn.warn:a,u=t.message,i=void 0===u?"":u,c=t.callback,l=void 0===c?null:c,d=function(){return Ir({title:"".concat(n?n+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat((g=r,g.charAt(0).toUpperCase()+g.slice(1))," is deprecated and will cease to work in future releases").concat(n?" of "+n:"","."):"").concat(i?"\n"+i:"").concat(e?"\nYou can learn more (including a guide on common transition paths) here: ".concat(e):"","\n    ").trim(),level:o});var g};return"function"==typeof l?x(h.mark(function g(){var v=arguments;return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,d();case 2:return m.next=4,l.apply(void 0,v);case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}},g)})):d()};var V=function(t,n,r){return{label:t,asArgument:n,asInjection:r}},ln=function(t){return Array.isArray(t)},pn=function(t){return"object"===z(t)},Ps=function(t){return null==t},ct=function(t){return"number"==typeof t},mt=function(t){return Number.isInteger(t)},et=function(t){return"string"==typeof t},H=function(t){throw new Error("Type Error: "+t)},vt=function(t){Ir.deprecate({pkg:"@onflow/types",subject:"Passing in Number as value for ".concat(t),message:"Going forward, use String as value for ".concat(t,"."),transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})},jf=V("Identity",function(t){return t},function(t){return t}),Df=V("UInt",function(t){return ct(t)&&mt(t)?(vt("UInt"),{type:"UInt",value:t.toString()}):et(t)?{type:"UInt",value:t}:void H("Expected Positive Integer for type Unsigned Int")},function(t){return t}),Gf=V("Int",function(t){return ct(t)&&mt(t)?(vt("Int"),{type:"Int",value:t.toString()}):et(t)?{type:"Int",value:t}:void H("Expected Integer for type Int")},function(t){return t}),Mf=V("UInt8",function(t){return ct(t)&&mt(t)?(vt("UInt8"),{type:"UInt8",value:t.toString()}):et(t)?{type:"UInt8",value:t}:void H("Expected integer for UInt8")},function(t){return t}),zf=V("Int8",function(t){return ct(t)&&mt(t)?(vt("Int8"),{type:"Int8",value:t.toString()}):et(t)?{type:"Int8",value:t}:void H("Expected positive integer for Int8")},function(t){return t}),Yf=V("UInt16",function(t){return ct(t)&&mt(t)?(vt("UInt16"),{type:"UInt16",value:t.toString()}):et(t)?{type:"UInt16",value:t}:void H("Expected integer for UInt16")},function(t){return t}),qf=V("Int16",function(t){return ct(t)&&mt(t)?(vt("Int16"),{type:"Int16",value:t.toString()}):et(t)?{type:"Int16",value:t}:void H("Expected positive integer for Int16")},function(t){return t}),Kf=V("UInt32",function(t){return ct(t)&&mt(t)?(vt("UInt32"),{type:"UInt32",value:t.toString()}):et(t)?{type:"UInt32",value:t}:void H("Expected integer for UInt32")},function(t){return t}),Hf=V("Int32",function(t){return ct(t)&&mt(t)?(vt("Int32"),{type:"Int32",value:t.toString()}):et(t)?{type:"Int32",value:t}:void H("Expected positive integer for Int32")},function(t){return t}),Wf=V("UInt64",function(t){return ct(t)&&mt(t)?(vt("UInt64"),{type:"UInt64",value:t.toString()}):et(t)?{type:"UInt64",value:t}:void H("Expected integer for UInt64")},function(t){return t}),Vf=V("Int64",function(t){return ct(t)&&mt(t)?(vt("Int64"),{type:"Int64",value:t.toString()}):et(t)?{type:"Int64",value:t}:void H("Expected positive integer for Int64")},function(t){return t}),Jf=V("UInt128",function(t){return ct(t)&&mt(t)?(vt("UInt128"),{type:"UInt128",value:t.toString()}):et(t)?{type:"UInt128",value:t}:void H("Expected integer for UInt128")},function(t){return t}),Xf=V("Int128",function(t){return ct(t)&&mt(t)?(vt("Int128"),{type:"Int128",value:t.toString()}):et(t)?{type:"Int128",value:t}:void H("Expected positive integer for Int128")},function(t){return t}),Zf=V("UInt256",function(t){return ct(t)&&mt(t)?(vt("UInt256"),{type:"UInt256",value:t.toString()}):et(t)?{type:"UInt256",value:t}:void H("Expected integer for UInt256")},function(t){return t}),$f=V("Int256",function(t){return ct(t)&&mt(t)?(vt("Int256"),{type:"Int256",value:t.toString()}):et(t)?{type:"Int256",value:t}:void H("Expected integer for Int256")},function(t){return t}),Qf=V("Word8",function(t){return ct(t)&&mt(t)?(vt("Word8"),{type:"Word8",value:t.toString()}):et(t)?{type:"Word8",value:t}:void H("Expected positive number for Word8")},function(t){return t}),tl=V("Word16",function(t){return ct(t)&&mt(t)?(vt("Word16"),{type:"Word16",value:t.toString()}):et(t)?{type:"Word16",value:t}:void H("Expected positive number for Word16")},function(t){return t}),nl=V("Word32",function(t){return ct(t)&&mt(t)?(vt("Word32"),{type:"Word32",value:t.toString()}):et(t)?{type:"Word32",value:t}:void H("Expected positive number for Word32")},function(t){return t}),rl=V("Word64",function(t){return ct(t)&&mt(t)?(vt("Word64"),{type:"Word64",value:t.toString()}):et(t)?{type:"Word64",value:t}:void H("Expected positive number for Word64")},function(t){return t}),Ns=function(){Ir.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},el=V("UFix64",function(t){if(et(t)){var n=t.split(".");return 2!==n.length&&H("Expected one decimal but found ".concat(n.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==n[1].length||n[1].length>8)&&H("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(n[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),n[1]=n[1].padEnd(8,"0"),{type:"UFix64",value:t=n.join(".")}}if(ct(t))return Ns(),{type:"UFix64",value:t.toString()};H("Expected String for UFix64")},function(t){return t}),al=V("Fix64",function(t){if(et(t)){var n=t.split(".");return 2!==n.length&&H("Expected one decimal but found ".concat(n.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==n[1].length||n[1].length>8)&&H("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(n[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),n[1]=n[1].padEnd(8,"0"),{type:"Fix64",value:t=n.join(".")}}if(ct(t))return Ns(),{type:"Fix64",value:t.toString()};H("Expected String for Fix64")},function(t){return t}),ol=V("String",function(t){if(et(t))return{type:"String",value:t};H("Expected String for type String")},function(t){return t}),ul=V("Character",function(t){if(et(t))return{type:"Character",value:t};H("Expected Character for type Character")},function(t){return t}),sl=V("Bool",function(t){if("boolean"==typeof t)return{type:"Bool",value:t};H("Expected Boolean for type Bool")},function(t){return t}),Bs=V("Address",function(t){if(et(t))return{type:"Address",value:t};H("Expected Address for type Address")},function(t){return t}),il=V("Void",function(t){if(!t||Ps(t))return{type:"Void"};H("Expected Void for type Void")},function(t){return t}),cl=V("Reference",function(t){if(pn(t))return{type:"Reference",value:t};H("Expected Object for type Reference")},function(t){return t}),Ls=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return V("Array",function(n){return{type:"Array",value:ln(t)?t.map(function(r,e){return r.asArgument(n[e])}):n.map(function(r){return t.asArgument(r)})}},function(n){return n})},fl=V("Path",function(t){if(pn(t))return et(t.domain)||H("Expected a string for the Path domain but found ".concat(t.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),"storage"!==t.domain&&"private"!==t.domain&&"public"!==t.domain&&H('Expected either "storage", "private" or "public" as the Path domain but found '.concat(t.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),et(t.identifier)||H("Expected a string for the Path identifier but found ".concat(t.identifier,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),{type:"Path",value:{domain:t.domain,identifier:t.identifier}};H("Expected Object for type Path")},function(t){return t}),Us=Object.freeze({__proto__:null,Address:Bs,Array:Ls,Bool:sl,Character:ul,Dictionary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return V("Dictionary",function(n){if(pn(n))return{type:"Dictionary",value:ln(t)?t.map(function(r,e){return{key:r.key.asArgument(n[e].key),value:r.value.asArgument(n[e].value)}}):ln(n)?n.map(function(r){return{key:t.key.asArgument(r.key),value:t.value.asArgument(r.value)}}):[{key:t.key.asArgument(n.key),value:t.value.asArgument(n.value)}]};H("Expected Object for type Dictionary")},function(n){return n})},Enum:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return V("Enum",function(r){if(pn(r))return{type:"Enum",value:{id:t,fields:ln(n)?n.map(function(e,a){return{name:r.fields[a].name,value:e.value.asArgument(r.fields[a].value)}}):r.fields.map(function(e){return{name:e.name,value:n.value.asArgument(e.value)}})}};H("Expected Object for type Enum")},function(r){return r})},Event:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return V("Event",function(r){if(pn(r))return{type:"Event",value:{id:t,fields:ln(n)?n.map(function(e,a){return{name:r.fields[a].name,value:e.value.asArgument(r.fields[a].value)}}):r.fields.map(function(e){return{name:e.name,value:n.value.asArgument(e.value)}})}};H("Expected Object for type Event")},function(r){return r})},Fix64:al,Identity:jf,Int:Gf,Int128:Xf,Int16:qf,Int256:$f,Int32:Hf,Int64:Vf,Int8:zf,Optional:function(t){return V("Optional",function(n){return{type:"Optional",value:Ps(n)?null:t.asArgument(n)}},function(n){return n})},Path:fl,Reference:cl,Resource:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return V("Resource",function(r){if(pn(r))return{type:"Resource",value:{id:t,fields:ln(n)?n.map(function(e,a){return{name:r.fields[a].name,value:e.value.asArgument(r.fields[a].value)}}):r.fields.map(function(e){return{name:e.name,value:n.value.asArgument(e.value)}})}};H("Expected Object for type Resource")},function(r){return r})},String:ol,Struct:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return V("Struct",function(r){if(pn(r))return{type:"Struct",value:{id:t,fields:ln(n)?n.map(function(e,a){return{name:r.fields[a].name,value:e.value.asArgument(r.fields[a].value)}}):r.fields.map(function(e){return{name:e.name,value:n.value.asArgument(e.value)}})}};H("Expected Object for type Struct")},function(r){return r})},UFix64:el,UInt:Df,UInt128:Jf,UInt16:Yf,UInt256:Zf,UInt32:Kf,UInt64:Wf,UInt8:Mf,Void:il,Word16:tl,Word32:nl,Word64:rl,Word8:Qf,_Array:Ls});function Fs(t){return gs(t)?t($e,Us):[]}function js(t){return Ds.apply(this,arguments)}function Ds(){return(Ds=x(h.mark(function t(n){var r,e;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return C(void 0!==(r=n.url),"retrieve({ url }) -- url must be defined"),o.prev=2,o.next=5,_o(r);case 5:e=o.sent,o.next=11;break;case 8:throw o.prev=8,o.t0=o.catch(2),new Error("httpDocumentResolver Error: Failed to retrieve document.");case 11:if(!e.ok){o.next=17;break}return o.next=14,e.json();case 14:o.t1=o.sent,o.next=18;break;case 17:o.t1=null;case 18:return o.abrupt("return",o.t1);case 20:case"end":return o.stop()}},t,null,[[2,8]])}))).apply(this,arguments)}var Gs=new Map([["http",js],["https",js]]);function ll(t){return Ms.apply(this,arguments)}function Ms(){return(Ms=x(h.mark(function t(n){var r,e,a,o,u;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return C(void 0!==(r=n.url),"retrieve({ url }) -- url must be defined"),C("string"==typeof r,"retrieve({ url }) -- url must be a string"),c.next=5,j().where(/^document\.resolver\./);case 5:return e=c.sent,Object.keys(e).map(function(l){var d=e[l],g=l.replace(/^document\.resolver\./,"");Gs.set(g,d)}),C(a=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(r),"Failed to parse URL"),o=a[1],C(a,"Failed to parse URL protocol"),C(u=Gs.get(o),"No resolver found for protcol=".concat(o)),c.next=15,u({url:r});case 15:return c.abrupt("return",c.sent);case 17:case"end":return c.stop()}},t)}))).apply(this,arguments)}function Wn(t){if(null==t)return null;if("1.0.0"===t.f_version)return t;throw new Error("normalizeInteractionTemplate Error: Invalid InteractionTemplate")}function zs(t){var n,r,e=t.network,a=t.template;if(G(null!=e,"deriveCadenceByNetwork({ network }) -- network must be defined"),G("string"==typeof e,"deriveCadenceByNetwork({ network }) -- network must be a string"),G(null!=a,"generateDependencyPin({ template }) -- template must be defined"),G("object"===z(a),"generateDependencyPin({ template }) -- template must be an object"),G("InteractionTemplate"===a.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),"1.0.0"===(a=Wn(a)).f_version)return Object.keys(null===(n=a)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.dependencies).map(function(o){var u,i,c,l=Object.values(null===(u=a)||void 0===u||null===(i=u.data)||void 0===i||null===(c=i.dependencies)||void 0===c?void 0:c[o]);G(l,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(o)),G(0===l.length,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(o));var d=l[0],g=null==d?void 0:d[e];return G(g,"deriveCadenceByNetwork -- Could not find ".concat(e," network information for dependency: ").concat(o)),[o,g.address]}).reduce(function(o,u){var i=Lt(u,2),l=i[1],d=new RegExp("(\\b"+i[0]+"\\b)","g");return o.replace(d,l)},a.data.cadence);throw new Error("deriveCadenceByNetwork Error: Unsupported template version")}function pl(t){return ia.apply(this,arguments)}function ia(){return ia=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,b;return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return e=n.template,E.next=3,j.get("flow.network");case 3:C(a=E.sent,"FCL configureDependencies Error: Missing configuration value for 'flow.network'"),o={},E.t0=e.f_version,E.next="1.0.0"===E.t0?9:12;break;case 9:for(u=Object.keys(null==e||null===(r=e.data)||void 0===r?void 0:r.dependencies),i=0,c=u;i<c.length;i++)d=c[i],g=null==e||null===(l=e.data)||void 0===l?void 0:l.dependencies[d],C((v=Object.keys(g)).length>0,"FCL configureDependencies Error: No contracts found in template for placeholder=".concat(d)),C(b=g[v[0]][a],"FCL configureDependencies Error: No dependency information for placeholder=".concat(d," contract=").concat(v[0]," network=").concat(a)),C(null==b?void 0:b.address,"FCL configureDependencies Error: No address information for placeholder=".concat(d," contract=").concat(v[0]," network=").concat(a)),o[d]=at(null==b?void 0:b.address);return E.abrupt("return",o);case 12:throw new Error("FCL configureDependencies Error: Unsupported template version");case 13:case"end":return E.stop()}},t)})),ia.apply(this,arguments)}function Ys(t){return qs.apply(this,arguments)}function qs(){return(qs=x(h.mark(function t(n){var r;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!An(null==n?void 0:n.template)){a.next=4;break}return a.next=3,ll({url:null==n?void 0:n.template});case 3:n.template=a.sent;case 4:if(r={},null==n||!n.template){a.next=10;break}return n.template=Wn(null==n?void 0:n.template),a.next=9,pl({template:n.template});case 9:r=a.sent;case 10:if(a.t0=n.cadence,a.t0){a.next=19;break}return a.t1=zs,a.t2=n.template,a.next=16,j().get("flow.network");case 16:a.t3=a.sent,a.t4={template:a.t2,network:a.t3},a.t0=(0,a.t1)(a.t4);case 19:return n.cadence=a.t0,n.dependencies=r,a.abrupt("return",n);case 23:case"end":return a.stop()}},t)}))).apply(this,arguments)}function Ks(t,n){return ca.apply(this,arguments)}function ca(){return ca=x(h.mark(function t(n,r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C(Xt(r),"".concat(n,"(opts) -- opts is required")),C(Rf(r),"".concat(n,"(opts) -- opts must be an object")),C(!(r.cadence&&r.template),"".concat(n,"({ template, cadence }) -- cannot pass both cadence and template")),C(Xt(r.cadence||(null==r?void 0:r.template)),"".concat(n,"({ cadence }) -- cadence is required")),C(An(r.cadence)||(null==r?void 0:r.template),"".concat(n,"({ cadence }) -- cadence must be a string")),e.t0=C,e.t1=r.cadence,e.t1){e.next=11;break}return e.next=10,j().get("flow.network");case 10:e.t1=e.sent;case 11:return e.t2=e.t1,e.t3="".concat(n,'(opts) -- Required value for "flow.network" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t0)(e.t2,e.t3),e.t4=C,e.next=17,j().get("accessNode.api");case 17:e.t5=e.sent,e.t6="".concat(n,'(opts) -- Required value for "accessNode.api" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t4)(e.t5,e.t6);case 20:case"end":return e.stop()}},t)})),ca.apply(this,arguments)}function dl(t){return Hs.apply(this,arguments)}function Hs(){return(Hs=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Ks("mutate",n));case 1:case"end":return r.stop()}},t)}))).apply(this,arguments)}function hl(t){return Ws.apply(this,arguments)}function Ws(){return(Ws=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Ks("query",n));case 1:case"end":return r.stop()}},t)}))).apply(this,arguments)}function Sr(){return fa.apply(this,arguments)}function fa(){return fa=x(h.mark(function t(){var n,r=arguments;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,hl(n);case 3:return e.next=5,Ys(n);case 5:return n=e.sent,e.abrupt("return",j().overload(n.dependencies||{},x(h.mark(function a(){return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Ot([ls(n.cadence),Ze(Fs(n.args||[])),n.limit&&"number"==typeof n.limit&&Xe(n.limit)]).then(Sn));case 1:case"end":return o.stop()}},a)}))));case 7:case"end":return e.stop()}},t)})),fa.apply(this,arguments)}function gl(t,n){return la.apply(this,arguments)}function la(){return la=x(h.mark(function t(n,r){var e,a,o,u,i;return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(null!=n&&null!=r){l.next=2;break}return l.abrupt("return",[]);case 2:return(e=new URL(n)).searchParams.append("code",r),l.next=6,fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(d){return d.json()});case 6:if(a=l.sent,!Array.isArray(a)){l.next=9;break}return l.abrupt("return",a);case 9:if(o=[],Array.isArray(a.authorizations)){u=bt(a.authorizations);try{for(u.s();!(i=u.n()).done;)o.push(O({type:"authz",keyId:a.keyId},i.value))}catch(d){u.e(d)}finally{u.f()}}return null!=a.provider&&o.push(O({type:"authn",id:"wallet-provider#authn"},a.provider)),l.abrupt("return",o);case 13:case"end":return l.stop()}},t)})),la.apply(this,arguments)}function ml(){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(K(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),K(n))}var _n={f_type:"Service",f_vsn:"1.0.0"},Vs={f_type:"Identity",f_vsn:"1.0.0"},vl={f_type:"USER",f_vsn:"1.0.0"},yl={f_type:"PollingResponse",f_vsn:"1.0.0"},pa={f_type:"CompositeSignature",f_vsn:"1.0.0"};function Js(t){return null==t?null:"1.0.0"===t.f_vsn?t:O(O({old:t},_n),{},{type:"frame",endpoint:t.endpoint,params:t.params||{},data:t.data||{}})}function Xs(t){return null==t?null:"1.0.0"===t.f_vsn?t:O(O({},_n),{},{type:"back-channel-rpc",endpoint:t.endpoint,method:t.method,params:t.params||{},data:t.data||{}})}function Zs(t){return null==t?null:(null==t.method&&(t=O(O({},t),{},{type:"local-view",method:"VIEW/IFRAME"})),"1.0.0"===t.f_vsn?t:O(O({},_n),{},{type:t.type||"local-view",method:t.method,endpoint:t.endpoint,data:t.data||{},params:t.params||{}}))}var bl={"back-channel-rpc":Xs,"pre-authz":function(t){return null==t?null:"1.0.0"===t.f_vsn?t:O(O({},_n),{},{type:t.type,uid:t.id,endpoint:t.endpoint,method:t.method,identity:O(O({},Vs),{},{address:at(t.addr),keyId:t.keyId}),params:t.params,data:t.data})},authz:function(t){return null==t?null:"1.0.0"===t.f_vsn?t:O(O({},_n),{},{type:t.type,uid:t.id,endpoint:t.endpoint,method:t.method,identity:O(O({},Vs),{},{address:at(t.addr),keyId:t.keyId}),params:t.params,data:t.data})},authn:function(t){return null==t?null:"1.0.0"===t.f_vsn?t:O(O({},_n),{},{type:t.type,uid:t.id,endpoint:t.authn,id:t.pid,provider:{address:at(t.addr),name:t.name,icon:t.icon}})},frame:Js,"open-id":function(t){return null==t?null:"1.0.0"===t.f_vsn?t:null},"user-signature":function(t){if(null==t)return null;if("1.0.0"===t.f_vsn)return t;throw new Error("Invalid user-signature service")},"local-view":Zs,"account-proof":function(t){if(null==t)return null;if("1.0.0"===t.f_vsn)return t;throw new Error("FCL Normalizer Error: Invalid account-proof service")},"authn-refresh":function(t){if(null==t)return null;if("1.0.0"===t.f_vsn)return t;throw new Error("Invalid authn-refresh service")}};function wl(t,n){try{return bl[t.type](t,n)}catch(r){return console.error("Unrecognized FCL Service Type [".concat(t.type,"]"),t,r),t}}function xl(t){return fn([t.provider.address||t.provider.name||"UNSPECIFIED",t.id]).toString("hex")}function kl(t){return t.addr=t.addr?at(t.addr):null,t.paddr=t.paddr?at(t.paddr):null,t}function El(t,n){return n.find(function(r){return r.type===t})}function $s(t){return da.apply(this,arguments)}function da(){return da=x(h.mark(function t(n){var r,e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=kl(n),a.t0=ml,a.t1=n.services||[],a.next=5,gl(n.hks,n.code);case 5:return a.t2=a.sent,r=(0,a.t0)(a.t1,a.t2).map(function(o){return wl(o,n)}),e=El("authn",r),a.abrupt("return",O(O({},vl),{},{addr:at(n.addr),cid:xl(e),loggedIn:!0,services:r,expiresAt:n.expires}));case 9:case"end":return a.stop()}},t)})),da.apply(this,arguments)}function Ar(){var n=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(function(r){return r.type===n})}function Vn(t){var n=new URL(t.endpoint);if(n.searchParams.append("l6n",window.location.origin),null!=t.params)for(var r=0,e=Object.entries(t.params||{});r<e.length;r++){var a=Lt(e[r],2);n.searchParams.append(a[0],a[1])}return n}function Qs(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.method||"POST",e="GET"===r?void 0:JSON.stringify(n.data||t.data||{});return fetch(Vn(t),{method:r,headers:O(O(O({},t.headers||{}),n.headers||{}),{},{"Content-Type":"application/json"}),body:e}).then(function(a){return a.json()})}function Zt(t){var n,r;return null==t?null:"1.0.0"===t.f_vsn?t:O(O({},yl),{},{status:null!==(n=t.status)&&void 0!==n?n:"APPROVED",reason:null!==(r=t.reason)&&void 0!==r?r:null,data:t.compositeSignature||t.data||O({},t)||{},updates:Xs(t.authorizationUpdates),local:Js((t.local||[])[0])})}var ti={"HTTP/GET":"GET","HTTP/POST":"POST"},Il=function(t){return C(ti[t.method],"Invalid Service Method for type back-channel-rpc",{service:t}),ti[t.method]};function ni(t){return ha.apply(this,arguments)}function ha(){return ha=x(h.mark(function t(n){var r,e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:function(){return!0},C(n,"Missing Polling Service",{service:n}),r()){o.next=4;break}throw new Error("Externally Halted");case 4:return o.next=6,Qs(n,{method:Il(n)}).then(Zt);case 6:o.t0=(e=o.sent).status,o.next="APPROVED"===o.t0?10:"DECLINED"===o.t0?11:12;break;case 10:return o.abrupt("return",e.data);case 11:throw new Error("Declined: ".concat(e.reason||"No reason supplied."));case 12:return o.next=14,new Promise(function(u){return setTimeout(u,500)});case 14:return o.abrupt("return",ni(e.updates,r));case 15:case"end":return o.stop()}},t)})),ha.apply(this,arguments)}var Rr="FCL_IFRAME";function ri(t){C(!document.getElementById(Rr),"Attempt at triggering multiple Frames",{src:t});var n=document.createElement("iframe");return n.src=t,n.id=Rr,n.allow="usb *; hid *",n.frameBorder="0",n.style.cssText="\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n  color-scheme: light;\n",document.body.append(n),[n.contentWindow,function(){document.getElementById(Rr)&&document.getElementById(Rr).remove()}]}var Dt=null,ei=null;function ai(t){var n;return null==Dt||null!==(n=Dt)&&void 0!==n&&n.closed?Dt=function(r,e,a,o,u){var i=a.top.outerHeight/2+a.top.screenY-385,c=a.top.outerWidth/2+a.top.screenX-320,l=a.open(r,"FCL_POP","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(640,", height=").concat(770,", top=").concat(i,", left=").concat(c));if(!l)throw new Error("Popup failed to open (was it blocked by a popup blocker?)");return l}(t,0,window):(ei!==t&&Dt.location.replace(t),Dt.focus()),ei=t,[Dt,function(){Dt&&!Dt.closed&&Dt.close(),Dt=null}]}var Gt=null,oi=null;function ui(t){var n;if(null==Gt||null!==(n=Gt)&&void 0!==n&&n.closed){if(!(Gt=window.open(t,"_blank")))throw new Error("Tab failed to open (was it blocked by the browser?)")}else oi!==t&&Gt.location.replace(t),Gt.focus();return oi=t,[Gt,function(){Gt&&!Gt.closed&&Gt.close(),Gt=null}]}var Sl={"VIEW/IFRAME":ri,"VIEW/POP":ai,"VIEW/TAB":ui};function Al(t){return ga.apply(this,arguments)}function ga(){return ga=x(h.mark(function t(n){var r,e=arguments;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.length>1&&void 0!==e[1]?e[1]:{},a.prev=1,a.abrupt("return",Sl[n.method](Vn(n),r));case 5:throw a.prev=5,a.t0=a.catch(1),console.error("execLocal({service, opts = {}})",a.t0,{service:n,opts:r}),a.t0;case 9:case"end":return a.stop()}},t,null,[[1,5]])})),ga.apply(this,arguments)}function si(t){return ma.apply(this,arguments)}function ma(){return ma=x(h.mark(function t(n){var r,e,a,o,u,c,l,d;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return r=n.service,e=n.body,a=n.config,g.next=3,Qs(r,{data:O({fclVersion:Ut,service:{params:r.params,data:r.data,type:r.type},config:a},e)}).then(Zt);case 3:if("APPROVED"!==(o=g.sent).status){g.next=8;break}return g.abrupt("return",o.data);case 8:if("DECLINED"!==o.status){g.next=12;break}throw new Error("Declined: ".concat(o.reason||"No reason supplied."));case 12:if("REDIRECT"!==o.status){g.next=16;break}return g.abrupt("return",o);case 16:if("PENDING"!==o.status){g.next=28;break}return u=!0,g.next=20,Al(Zs(o.local));case 20:return c=Lt(g.sent,2),l=c[1],d=function(){try{l(),u=!1}catch(v){console.error("Frame Close Error",v)}},g.abrupt("return",ni(o.updates,function(){return u}).then(function(v){return d(),v}).catch(function(v){throw console.error(v),d(),v}));case 28:throw console.error("Auto Decline: Invalid Response",{service:r,resp:o}),new Error("Auto Decline: Invalid Response");case 30:case"end":return g.stop()}},t)})),ma.apply(this,arguments)}var ii="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Rl=ii.length;function va(){for(var t="",n=32;n--;)t+=ii[Math.random()*Rl|0];return t}var wa,Jn,ci,xa,_r="FCL:VIEW:CLOSE",ya="FCL:VIEW:READY",ba="FCL:VIEW:RESPONSE",ft=function(t){return"string"==typeof t&&t.toLowerCase()},_l=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),dn=function(t,n){return console.warn("DEPRECATION NOTICE","Received ".concat(t,", please use ").concat(n," for this and future versions of FCL"))},Tr=function(t){var n=t.close,r=t.send,e=t.onReady,a=t.onResponse,o=t.onMessage;return function(u){try{if("object"!==z(u.data)||_l.has(u.data.type))return;ft(u.data.type)===ft(_r)&&n(),ft(u.data.type)===ft(ya)&&e(u,{send:r,close:n}),ft(u.data.type)===ft(ba)&&a(u,{send:r,close:n}),o(u,{send:r,close:n}),ft(u.data.type)===ft("FCL:FRAME:READY")&&(dn(u.data.type,ya),e(u,{send:r,close:n})),ft(u.data.type)===ft("FCL:FRAME:RESPONSE")&&(dn(u.data.type,ba),a(u,{send:r,close:n})),ft(u.data.type)===ft("FCL:FRAME:CLOSE")&&(dn(u.data.type,_r),n()),ft(u.data.type)===ft("FCL::CHALLENGE::RESPONSE")&&(dn(u.data.type,ba),a(u,{send:r,close:n})),ft(u.data.type)===ft("FCL::AUTHZ_READY")&&(dn(u.data.type,ya),e(u,{send:r,close:n})),ft(u.data.type)===ft("FCL::CHALLENGE::CANCEL")&&(dn(u.data.type,_r),n()),ft(u.data.type)===ft("FCL::CANCEL")&&(dn(u.data.type,_r),n())}catch(i){console.error("Frame Callback Error",i),n()}}},Tn=function(){},Cn=function(){},On=function(){},Pn=function(){},fi={"HTTP/RPC":si,"HTTP/POST":si,"IFRAME/RPC":function(t){var n=t.service,r=t.body,e=t.config,a=t.opts;return new Promise(function(o,u){var i=va(),c=a.includeOlderJsonRpcCall;!function(l){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==l)return{send:Tn,close:Tn};var g=d.onClose||Tn,E=Tr({close:R,send:L,onReady:d.onReady||Tn,onResponse:d.onResponse||Tn,onMessage:d.onMessage||Tn});window.addEventListener("message",E);var S=Lt(ri(Vn(l)),2),N=S[0],T=S[1];return{send:L,close:R};function R(){try{window.removeEventListener("message",E),T(),g()}catch(I){console.error("Frame Close Error",I)}}function L(I){try{N.postMessage(JSON.parse(JSON.stringify(I||{})),"*")}catch(W){console.error("Frame Send Error",I,W)}}}(n,{onReady:function(l,d){return x(h.mark(function g(){var v;return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:v=d.send,m.prev=1,v({type:"FCL:VIEW:READY:RESPONSE",fclVersion:Ut,body:r,service:{params:n.params,data:n.data,type:n.type},config:e}),v({fclVersion:Ut,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),c&&v({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[r,n.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),m.next=10;break;case 7:throw m.prev=7,m.t0=m.catch(1),m.t0;case 10:case"end":return m.stop()}},g,null,[[1,7]])}))()},onResponse:function(l,d){var g=d.close;try{if("object"!==z(l.data))return;var v=Zt(l.data);switch(v.status){case"APPROVED":o(v.data),g();break;case"DECLINED":u("Declined: ".concat(v.reason||"No reason supplied")),g();break;case"REDIRECT":o(v),g();break;default:u("Declined: No reason supplied"),g()}}catch(m){throw console.error("execIframeRPC onResponse error",m),m}},onMessage:function(l,d){var g=d.close;try{if("object"!==z(l.data)||"2.0"!==l.data.jsonrpc||l.data.id!==i)return;var v=Zt(l.data.result);switch(v.status){case"APPROVED":o(v.data),g();break;case"DECLINED":u("Declined: ".concat(v.reason||"No reason supplied")),g();break;case"REDIRECT":o(v),g();break;default:u("Declined: No reason supplied"),g()}}catch(m){throw console.error("execIframeRPC onMessage error",m),m}},onClose:function(){u("Declined: Externally Halted")}})})},"POP/RPC":function(t){var n=t.service,r=t.body,e=t.config,a=t.opts;return new Promise(function(o,u){var i=va(),c=a.redir,l=a.includeOlderJsonRpcCall;!function(d){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==d)return{send:Cn,close:Cn};var v=g.onClose||Cn,S=Tr({close:I,send:W,onReady:g.onReady||Cn,onResponse:g.onResponse||Cn,onMessage:g.onMessage||Cn});window.addEventListener("message",S);var N=Lt(ai(Vn(d)),2),T=N[0],R=N[1],L=setInterval(function(){T&&T.closed&&I()},500);return{send:W,close:I};function I(){try{window.removeEventListener("message",S),clearInterval(L),R(),v()}catch(lt){console.error("Popup Close Error",lt)}}function W(lt){try{T.postMessage(JSON.parse(JSON.stringify(lt||{})),"*")}catch(It){console.error("Popup Send Error",lt,It)}}}(n,{onReady:function(d,g){return x(h.mark(function v(){var m;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:m=g.send,b.prev=1,m({fclVersion:Ut,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e}),m({fclVersion:Ut,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),l&&m({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[r,n.params]}),b.next=10;break;case 7:throw b.prev=7,b.t0=b.catch(1),b.t0;case 10:case"end":return b.stop()}},v,null,[[1,7]])}))()},onResponse:function(d,g){var v=g.close;try{if("object"!==z(d.data))return;var m=Zt(d.data);switch(m.status){case"APPROVED":o(m.data),!c&&v();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),v();break;case"REDIRECT":o(m),v();break;default:u("Declined: No reason supplied"),v()}}catch(b){throw console.error("execPopRPC onResponse error",b),b}},onMessage:function(d,g){var v=g.close;try{if("object"!==z(d.data)||"2.0"!==d.data.jsonrpc||d.data.id!==i)return;var m=Zt(d.data.result);switch(m.status){case"APPROVED":o(m.data),!c&&v();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),v();break;case"REDIRECT":o(m),v();break;default:u("Declined: No reason supplied"),v()}}catch(b){throw console.error("execPopRPC onMessage error",b),b}},onClose:function(){u("Declined: Externally Halted")}})})},"TAB/RPC":function(t){var n=t.service,r=t.body,e=t.config,a=t.opts;return new Promise(function(o,u){var i=va(),c=a.redir,l=a.includeOlderJsonRpcCall;!function(d){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==d)return{send:On,close:On};var v=g.onClose||On,S=Tr({close:I,send:W,onReady:g.onReady||On,onResponse:g.onResponse||On,onMessage:g.onMessage||On});window.addEventListener("message",S);var N=Lt(ui(Vn(d)),2),T=N[0],R=N[1],L=setInterval(function(){T&&T.closed&&I()},500);return{send:W,close:I};function I(){try{window.removeEventListener("message",S),clearInterval(L),R(),v()}catch(lt){console.error("Tab Close Error",lt)}}function W(lt){try{T.postMessage(JSON.parse(JSON.stringify(lt||{})),"*")}catch(It){console.error("Tab Send Error",lt,It)}}}(n,{onReady:function(d,g){return x(h.mark(function v(){var m;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:m=g.send,b.prev=1,m({fclVersion:Ut,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e}),m({fclVersion:Ut,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),l&&m({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[r,n.params]}),b.next=10;break;case 7:throw b.prev=7,b.t0=b.catch(1),b.t0;case 10:case"end":return b.stop()}},v,null,[[1,7]])}))()},onResponse:function(d,g){var v=g.close;try{if("object"!==z(d.data))return;var m=Zt(d.data);switch(m.status){case"APPROVED":o(m.data),!c&&v();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),v();break;case"REDIRECT":o(m),v();break;default:u("Declined: No reason supplied"),v()}}catch(b){throw console.error("execPopRPC onResponse error",b),b}},onMessage:function(d,g){var v=g.close;try{if("object"!==z(d.data)||"2.0"!==d.data.jsonrpc||d.data.id!==i)return;var m=Zt(d.data.result);switch(m.status){case"APPROVED":o(m.data),!c&&v();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),v();break;case"REDIRECT":o(m),v();break;default:u("Declined: No reason supplied"),v()}}catch(b){throw console.error("execPopRPC onMessage error",b),b}},onClose:function(){u("Declined: Externally Halted")}})})},"EXT/RPC":function(t){var n=t.service,r=t.body,e=t.config;return new Promise(function(a,o){!function(u){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==u)return{send:Pn,close:Pn};var c=i.onClose||Pn,v=Tr({close:m,send:b,onReady:i.onReady||Pn,onResponse:i.onResponse||Pn,onMessage:i.onMessage||Pn});return window.addEventListener("message",v),b({service:u}),{send:b,close:m};function m(){try{window.removeEventListener("message",v),c()}catch(E){console.error("Ext Close Error",E)}}function b(E){try{window&&window.postMessage(JSON.parse(JSON.stringify(E||{})),"*")}catch(S){console.error("Ext Send Error",E,S)}}}(n,{onReady:function(u,i){return x(h.mark(function c(){var l;return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:l=i.send,d.prev=1,l({fclVersion:Ut,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e}),d.next=8;break;case 5:throw d.prev=5,d.t0=d.catch(1),d.t0;case 8:case"end":return d.stop()}},c,null,[[1,5]])}))()},onResponse:function(u,i){var c=i.close;try{if("object"!==z(u.data))return;var l=Zt(u.data);switch(l.status){case"APPROVED":a(l.data),c();break;case"DECLINED":o("Declined: ".concat(l.reason||"No reason supplied")),c();break;case"REDIRECT":a(l),c();break;default:o("Declined: No reason supplied"),c()}}catch(d){throw console.error("execExtRPC onResponse error",d),d}},onClose:function(){o("Declined: Externally Halted")}})})}},Tl=["ServicePlugin"],Cl=["discovery-service"],Xn=(wa=new Set,Jn=new Map(Object.entries(fi)),ci=function(t){return wa=new Set(K(t))},Object.freeze({add:function(t){if(C(Cl.includes(t.type),"Service Plugin type ".concat(t.type," is not supported")),"discovery-service"===t.type){var n=function(a){var o=a.services,u=a.serviceStrategy;C(Array.isArray(o)&&o.length,"Array of Discovery Services is required");var i,c=bt(o);try{for(c.s();!(i=c.n()).done;){var l=i.value;C(Xt(l.f_type)&&"Service"===l.f_type,"Service is required"),C(Xt(l.type)&&"authn"===l.type,"Service must be type authn. Received ".concat(l.type)),C(l.method in fi||u.method===l.method,"Service method ".concat(l.method," is not supported"))}}catch(d){c.e(d)}finally{c.f()}return C(Xt(u),"Service strategy is required"),C(Xt(u.method)&&An(u.method),"Service strategy method is required"),C(Xt(u.exec)&&gs(u.exec),"Service strategy exec function is required"),{discoveryServices:o,serviceStrategy:u}}(t),e=n.serviceStrategy;ci(n.discoveryServices),Jn.has(e.method)?wt({title:"Add Service Plugin",message:"Service strategy for ".concat(e.method," already exists"),level:St.warn}):Jn.set(e.method,e.exec)}},getServices:function(){return K(wa)},getStrategy:function(t){return Jn.get(t)},getStrategies:function(){return K(Jn.keys())}})),Ol=(xa=new Map,Object.freeze({add:function(t){var n,r=function(o){var u;C(o,"No plugins supplied");var i,c=bt(u=Array.isArray(o)?K(o):[o]);try{for(c.s();!(i=c.n()).done;){var l=i.value;C(Xt(l.name),"Plugin name is required"),C(Xt(l.f_type),"Plugin f_type is required"),C(Tl.includes(l.f_type),"Plugin type ".concat(l.f_type," is not supported"))}}catch(d){c.e(d)}finally{c.f()}return u}(t),e=bt(r);try{for(e.s();!(n=e.n()).done;){var a=n.value;xa.set(a.name,a),"ServicePlugin"===a.f_type&&Xn.add(a)}}catch(o){e.e(o)}finally{e.f()}},getPlugins:function(){return xa}})),Pl=function(){var t=x(h.mark(function n(r){var e,a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return a=r.body,o=r.config,u=r.opts,i=Xn.getStrategy((e=r.service).method),c.abrupt("return",i({service:e,body:a,config:o,opts:u}));case 3:case"end":return c.stop()}},n)}));return function(n){return t.apply(this,arguments)}}();function hn(t){return ka.apply(this,arguments)}function ka(){return ka=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return l=void 0===(c=n.config)?{}:c,g=void 0===(d=n.opts)?{}:d,(i=void 0===(u=n.msg)?{}:u).data=(o=n.service).data,b.next=4,xo(/^service\./);case 4:return b.t0=b.sent,b.next=7,xo(/^app\.detail\./);case 7:return b.t1=b.sent,b.t2=O(O({},l.client),{},{fclVersion:Ut,fclLibrary:"https://github.com/onflow/fcl-js",hostname:null!==(r=null===(e=window)||void 0===e||null===(a=e.location)||void 0===a?void 0:a.hostname)&&void 0!==r?r:null}),v={services:b.t0,app:b.t1,client:b.t2},b.prev=10,b.next=13,Pl({service:o,body:i,config:v,opts:g});case 13:if("REDIRECT"!==(m=b.sent).status){b.next=21;break}return C(o.type===m.data.type,"Cannot shift recursive service type in execService"),b.next=18,hn({service:m.data,msg:i,config:v,opts:g});case 18:return b.abrupt("return",b.sent);case 21:return b.abrupt("return",m);case 22:b.next=28;break;case 24:throw b.prev=24,b.t3=b.catch(10),wt({title:"Error on execService ".concat(null==o?void 0:o.type),message:b.t3,level:St.error}),b.t3;case 28:case"end":return b.stop()}},t,null,[[10,24]])})),ka.apply(this,arguments)}function Ea(t){return null==t?null:"1.0.0"===t.f_vsn?t:O(O({},pa),{},{addr:Z(t.addr||t.address),signature:t.signature||t.sig,keyId:t.keyId})}var Nn,li=function(){var t=x(h.mark(function n(){var r,e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=(null===(r=window)||void 0===r?void 0:r.fcl_extensions)||[],a.abrupt("return",[].concat(K(e),K(Xn.getServices())));case 2:case"end":return a.stop()}},n)}));return function(){return t.apply(this,arguments)}}();function Nl(t){return pi.apply(this,arguments)}function pi(){return(pi=x(h.mark(function t(n){var r,e,a,o,u;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,j.get("discovery.authn.include",[]);case 2:return e=i.sent,i.next=5,j.first(["discovery.wallet.method","discovery.wallet.method.default"]);case 5:if(a=i.sent,o=null!=n&&n.method?n.method:a,null===(r=null==n?void 0:n.endpoint)||void 0===r){i.next=11;break}i.t0=r,i.next=14;break;case 11:return i.next=13,j.first(["discovery.wallet","challenge.handshake"]);case 13:i.t0=i.sent;case 14:return C(u=i.t0,'\n    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.\n    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"\n    '),i.abrupt("return",O(O({},n),{},{type:"authn",endpoint:u,method:o,discoveryAuthnInclude:e}));case 17:case"end":return i.stop()}},t)}))).apply(this,arguments)}function Bl(t){return Ia.apply(this,arguments)}function Ia(){return Ia=x(h.mark(function t(n){var r,e,a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return a=n.types,c.next=3,j.get("discovery.authn.endpoint");case 3:return o=c.sent,C(Boolean(o),'"discovery.authn.endpoint" in config must be defined.'),c.next=7,j.get("discovery.authn.include",[]);case 7:return u=c.sent,i=new URL(o),c.t0=fetch,c.t1=i,c.t2={"Content-Type":"application/json"},c.t3=JSON,c.t4=a,c.t5=Ut,c.t6=u,c.next=18,li();case 18:return c.t7=c.sent,c.t8=Xn.getStrategies(),c.t9=null===(r=window)||void 0===r||null===(e=r.navigator)||void 0===e?void 0:e.userAgent,c.t10={type:c.t4,fclVersion:c.t5,include:c.t6,clientServices:c.t7,supportedStrategies:c.t8,userAgent:c.t9},c.t11=c.t3.stringify.call(c.t3,c.t10),c.t12={method:"POST",headers:c.t2,body:c.t11},c.abrupt("return",(0,c.t0)(c.t1,c.t12).then(function(l){return l.json()}));case 25:case"end":return c.stop()}},t)})),Ia.apply(this,arguments)}var di,hi,gn,Zn="authn",gi="UPDATED",mi="UPDATE_RESULTS",Sa=function(){var t=x(h.mark(function n(){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bl({types:[Zn]});case 3:dt(Zn,mi,{results:e.sent}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),wt({title:"".concat(e.t0.name," Error fetching Discovery API services."),message:e.t0.message,level:St.error});case 10:case"end":return e.stop()}},n,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),Ul=(q(Nn={},Nr,(hi=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:typeof window>"u"&&console.warn("\n      %cFCL Warning\n      ============================\n      ".concat('"fcl.discovery" is only available in the browser.',"\n      For more info, please see the docs: https://docs.onflow.org/fcl/\n      ============================\n      "),"font-weight:bold;font-family:monospace;"),"complete"===document.readyState?Sa():window.onload=x(h.mark(function o(){return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:Sa();case 1:case"end":return u.stop()}},o)}));case 2:case"end":return r.stop()}},t)})),function(t){return hi.apply(this,arguments)})),q(Nn,mi,function(t,n,r){t.merge(r),t.broadcast(gi,O({},t.all()))}),q(Nn,cn,function(t,n){t.subscribe(n.from),t.send(n.from,gi,O({},t.all()))}),q(Nn,nn,function(t,n){return t.unsubscribe(n.from)}),q(Nn,"SNAPSHOT",(di=x(h.mark(function t(n,r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.reply(O({},n.all())));case 1:case"end":return e.stop()}},t)})),function(t,n){return di.apply(this,arguments)})),Nn),vi=function(){return rn(Ul,Zn)},Fl={authn:{subscribe:function(t){return ur(Zn,vi,t)},snapshot:function(){return ro(Zn,vi)},update:function(){return Sa()}}};function Dl(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)||function jl(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)||typeof navigator<"u"&&/iPad/.test(navigator.userAgent)}()}var yi,bi,Gl=function(t){return"function"==typeof t},Mt="CURRENT_USER",Aa="CURRENT_USER/UPDATED",wi="SNAPSHOT",Ra="SET_CURRENT_USER",xi="DEL_CURRENT_USER",_a='{\n  "f_type": "User",\n  "f_vsn": "1.0.0",\n  "addr":null,\n  "cid":null,\n  "loggedIn":null,\n  "expiresAt":null,\n  "services":[]\n}',Ml=function(){var t=x(h.mark(function n(r){var e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=JSON.parse(_a),o.next=3,r.get(Mt);case 3:if(null==(a=o.sent)||e.f_vsn===a.f_vsn){o.next=7;break}return r.removeItem(Mt),o.abrupt("return",e);case 7:return o.abrupt("return",a||e);case 8:case"end":return o.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),zl=(q(gn={},Nr,function(){var t=x(h.mark(function n(r){var e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return typeof window>"u"&&console.warn('\n        %cFCL Warning\n        ============================\n        "currentUser" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        ',"font-weight:bold;font-family:monospace;"),r.merge(JSON.parse(_a)),o.next=4,j.first(["fcl.storage","fcl.storage.default"]);case 4:if(!(e=o.sent).can){o.next=10;break}return o.next=8,Ml(e);case 8:Yl(a=o.sent)&&r.merge(a);case 10:case"end":return o.stop()}},n)}));return function(n){return t.apply(this,arguments)}}()),q(gn,cn,function(t,n){t.subscribe(n.from),t.send(n.from,Aa,O({},t.all()))}),q(gn,nn,function(t,n){t.unsubscribe(n.from)}),q(gn,wi,(bi=x(h.mark(function t(n,r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.reply(O({},n.all()));case 1:case"end":return e.stop()}},t)})),function(t,n){return bi.apply(this,arguments)})),q(gn,Ra,function(){var t=x(h.mark(function n(r,e,a){var o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r.merge(a),u.next=3,j.first(["fcl.storage","fcl.storage.default"]);case 3:(o=u.sent).can&&o.put(Mt,r.all()),r.broadcast(Aa,O({},r.all()));case 6:case"end":return u.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}()),q(gn,xi,(yi=x(h.mark(function t(n,r){var e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n.merge(JSON.parse(_a)),a.next=3,j.first(["fcl.storage","fcl.storage.default"]);case 3:(e=a.sent).can&&e.put(Mt,n.all()),n.broadcast(Aa,O({},n.all()));case 6:case"end":return a.stop()}},t)})),function(t,n){return yi.apply(this,arguments)})),gn),Bn=function(){return rn(zl,Mt)};function Yl(t){return null==t.expiresAt||0===t.expiresAt||t.expiresAt>Date.now()}function ql(){return ki.apply(this,arguments)}function ki(){return(ki=x(h.mark(function t(){var n,r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("fcl.accountProof.resolver");case 2:if(Gl(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n();case 7:if(null!=(r=e.sent)){e.next=10;break}return e.abrupt("return");case 10:return C("string"==typeof r.appIdentifier,"appIdentifier must be a string"),C(/^[0-9a-f]+$/i.test(r.nonce),"Nonce must be a hex string"),e.abrupt("return",r);case 13:case"end":return e.stop()}},t)}))).apply(this,arguments)}var Kl=function(){var t=x(h.mark(function n(r){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=r.discoveryAuthnInclude,a.next=4,li();case 4:return a.t1=a.sent,a.t2=Xn.getStrategies(),a.t3={discoveryAuthnInclude:a.t0,clientServices:a.t1,supportedStrategies:a.t2},a.abrupt("return",{client:a.t3});case 8:case"end":return a.stop()}},n)}));return function(n){return t.apply(this,arguments)}}();function $n(){return Ta.apply(this,arguments)}function Ta(){return Ta=x(h.mark(function t(){var n,r,e,a,o,u,i,c=arguments;return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(u=void 0!==(o=(e=c.length>0&&void 0!==c[0]?c[0]:{}).redir)&&o,!(a=e.service)||null!=a&&null!==(n=a.provider)&&void 0!==n&&n.is_installed||null==a||null===(r=a.provider)||void 0===r||!r.requires_install){l.next=4;break}return window.location.href=null==a||null===(i=a.provider)||void 0===i?void 0:i.install_link,l.abrupt("return");case 4:return l.abrupt("return",new Promise(function(){var d=x(h.mark(function g(v,m){var b,E,S,N,T,R,L;return h.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return Bn(),b={redir:u},I.next=4,Qn();case 4:return E=I.sent,I.next=7,Nl(a);case 7:return S=I.sent,N=Ar(E.services,"authn-refresh"),I.prev=9,I.next=12,ql();case 12:T=I.sent,I.next=19;break;case 15:return I.prev=15,I.t0=I.catch(9),console.error("Error During Authentication: Could not resolve account proof data.\n        ".concat(I.t0)),I.abrupt("return",m(I.t0));case 19:if(!E.loggedIn){I.next=47;break}if(!N){I.next=46;break}return I.prev=21,I.next=24,hn({service:N,msg:T,opts:b});case 24:return R=I.sent,I.t1=dt,I.t2=Mt,I.t3=Ra,I.next=30,$s(R);case 30:I.t4=I.sent,(0,I.t1)(I.t2,I.t3,I.t4),I.next=37;break;case 34:I.prev=34,I.t5=I.catch(21),console.error("Error: Could not refresh authentication.",I.t5);case 37:return I.prev=37,I.t6=v,I.next=41,Qn();case 41:return I.t7=I.sent,I.abrupt("return",(0,I.t6)(I.t7));case 44:I.next=47;break;case 46:return I.abrupt("return",v(E));case 47:return I.prev=47,I.t8=hn,I.t9=S,I.t10=T,I.next=53,Kl(S);case 53:return I.t11=I.sent,I.t12=b,I.t13={service:I.t9,msg:I.t10,config:I.t11,opts:I.t12},I.next=58,(0,I.t8)(I.t13);case 58:return L=I.sent,I.t14=dt,I.t15=Mt,I.t16=Ra,I.next=64,$s(L);case 64:I.t17=I.sent,(0,I.t14)(I.t15,I.t16,I.t17),I.next=71;break;case 68:I.prev=68,I.t18=I.catch(47),console.error("Error while authenticating",I.t18);case 71:return I.prev=71,I.t19=v,I.next=75,Qn();case 75:return I.t20=I.sent,(0,I.t19)(I.t20),I.finish(71);case 78:case"end":return I.stop()}},g,null,[[9,15],[21,34,37,44],[47,68,71,78]])}));return function(g,v){return d.apply(this,arguments)}}()));case 5:case"end":return l.stop()}},t)})),Ta.apply(this,arguments)}function Ei(){Bn(),dt(Mt,xi)}function Hl(t){var d,n={f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:((d=t)||{}).proposer,payer:(d||{}).payer||[],authorization:(d||{}).authorization||[]},r=[];null!=n.proposer&&r.push(["PROPOSER",n.proposer]);var e,a=bt(n.payer||[]);try{for(a.s();!(e=a.n()).done;)r.push(["PAYER",e.value])}catch(d){a.e(d)}finally{a.f()}var u,i=bt(n.authorization||[]);try{for(i.s();!(u=i.n()).done;)r.push(["AUTHORIZER",u.value])}catch(d){i.e(d)}finally{i.f()}var l=r.map(function(d){var g=Lt(d,2),v=g[0],m=g[1];return{tempId:[m.identity.address,m.identity.keyId].join("|"),addr:m.identity.address,keyId:m.identity.keyId,signingFunction:function(b){return hn({service:m,msg:b})},role:{proposer:"PROPOSER"===v,payer:"PAYER"===v,authorizer:"AUTHORIZER"===v}}});return l}function Ii(t){return Ca.apply(this,arguments)}function Ca(){return Ca=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Bn(),r.abrupt("return",O(O({},n),{},{tempId:"CURRENT_USER",resolve:function(e,a){return x(h.mark(function o(){var u,i,c,l;return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,$n({redir:!0});case 2:if(i=Ar((u=d.sent).services,"authz"),!(c=Ar(u.services,"pre-authz"))){d.next=11;break}return d.t0=Hl,d.next=9,hn({service:c,msg:a});case 9:return d.t1=d.sent,d.abrupt("return",(0,d.t0)(d.t1));case 11:if(!i){d.next=14;break}return Dl()&&"WC/RPC"===i.method&&(l=window.open("","_blank")),d.abrupt("return",O(O({},e),{},{tempId:"CURRENT_USER",resolve:null,addr:Z(i.identity.address),keyId:i.identity.keyId,sequenceNum:null,signature:null,signingFunction:function(g){return x(h.mark(function v(){return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.t0=Ea,m.next=3,hn({service:i,msg:g,opts:{includeOlderJsonRpcCall:!0,windowRef:l}});case 3:return m.t1=m.sent,m.abrupt("return",(0,m.t0)(m.t1));case 5:case"end":return m.stop()}},v)}))()}}));case 14:throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER");case 15:case"end":return d.stop()}},o)}))()}}));case 2:case"end":return r.stop()}},t)})),Ca.apply(this,arguments)}function Si(t){Bn();var e,n="@EXIT",r=rn((e=x(h.mark(function a(o){var u;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o.send(Mt,cn);case 1:return i.next=4,o.receive();case 4:if((u=i.sent).tag!==n){i.next=8;break}return o.send(Mt,nn),i.abrupt("return");case 8:t(u.data),i.next=1;break;case 11:case"end":return i.stop()}},a)})),function(a){return e.apply(this,arguments)}));return function(){return dt(r,n)}}function Qn(){return Bn(),dt(Mt,wi,null,{expectReply:!0,timeout:0})}function Ai(){return Ri.apply(this,arguments)}function Ri(){return(Ri=x(h.mark(function t(){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n();case 2:return e.abrupt("return",$e(at(e.sent.addr),Bs));case 5:case"end":return e.stop()}},t)}))).apply(this,arguments)}var Wl=function(t){return C(/^[0-9a-f]+$/i.test(t),"Message must be a hex string"),{message:t}};function _i(t){return Oa.apply(this,arguments)}function Oa(){return Oa=x(h.mark(function t(n){var e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return Bn(),o.next=3,$n({redir:!0});case 3:return C(e=Ar(o.sent.services,"user-signature"),"Current user must have authorized a signing service."),o.prev=6,o.next=9,hn({service:e,msg:Wl(n)});case 9:if(a=o.sent,!Array.isArray(a)){o.next=14;break}return o.abrupt("return",a.map(function(u){return Ea(u)}));case 14:return o.abrupt("return",[Ea(a)]);case 15:o.next=20;break;case 17:return o.prev=17,o.t0=o.catch(6),o.abrupt("return",o.t0);case 20:case"end":return o.stop()}},t,null,[[6,17]])})),Oa.apply(this,arguments)}var xt=function(){return{authenticate:$n,unauthenticate:Ei,authorization:Ii,signUserMessage:_i,subscribe:Si,snapshot:Qn,resolveArgument:Ai}};function Pa(){return Pa=x(h.mark(function t(){var n,r,e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},o.prev=1,o.next=4,dl(n);case 4:return o.next=6,Ys(n);case 6:return n=o.sent,o.next=9,j().get("fcl.authz",xt().authorization);case 9:return e=o.sent,r=j().overload(n.dependencies||{},x(h.mark(function u(){return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Ot([ps(n.cadence),Ze(Fs(n.args||[])),n.limit&&_f(n.limit)&&Xe(n.limit),is(n.proposer||n.authz||e),cs(n.payer||n.authz||e),os(n.authorizations||[n.authz||e])]).then(Sn));case 1:case"end":return i.stop()}},u)}))),o.abrupt("return",r);case 14:throw o.prev=14,o.t0=o.catch(1),o.t0;case 17:case"end":return o.stop()}},t,null,[[1,14]])})),Pa.apply(this,arguments)}xt.authenticate=$n,xt.unauthenticate=Ei,xt.authorization=Ii,xt.signUserMessage=_i,xt.subscribe=Si,xt.snapshot=Qn,xt.resolveArgument=Ai;var Ti=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=function(a){var o;return a.deprecated&&console.warn("DEPRECATION NOTICE",a.deprecated.message),null==a||null===(o=a.body)||void 0===o||delete o.interaction,a},e=function(a){var o=a.data;"object"===z(o)&&null!=z(o)&&o.type===t&&n(r(o))};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}},Ln=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.location!==window.parent.location)window.parent.postMessage(O(O({},n),{},{type:t}),"*");else{if(!window.opener)throw new Error("Unable to communicate with parent FCL instance");window.opener.postMessage(O(O({},n),{},{type:t}),"*")}},Vl=function(t,n){return X.Buffer.from(t.padEnd(2*n,"0"),"hex")},Ci=function(t){return X.Buffer.from(t.padStart(16,"0"),"hex")},Oi=function(t){return X.Buffer.from(t,"hex")},Pi=function(t){var n=t.address,r=t.nonce,e=t.appIdentifier,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];C(n,"Encode Message For Provable Authn Error: address must be defined"),C(r,"Encode Message For Provable Authn Error: nonce must be defined"),C(e,"Encode Message For Provable Authn Error: appIdentifier must be defined"),C(r.length>=64,"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes");var o=Vl(X.Buffer.from("FCL-ACCOUNT-PROOF-V0.0").toString("hex"),32);return a?X.Buffer.concat([o,fn([e,Ci(Z(n)),Oi(r)])]).toString("hex"):fn([e,Ci(Z(n)),Oi(r)]).toString("hex")},Jl=Object.freeze({__proto__:null,sendMsgToFCL:Ln,ready:function(t){Ti("FCL:VIEW:READY:RESPONSE",t),Ln("FCL:VIEW:READY")},close:function(){Ln("FCL:VIEW:CLOSE")},approve:function(t){Ln("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"APPROVED",reason:null,data:t})},decline:function(t){Ln("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"DECLINED",reason:t,data:null})},redirect:function(t){Ln("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"REDIRECT",reason:null,data:t})},onMessageFromFCL:Ti,encodeMessageFromSignable:function(t,n){var r,e,a=(r=t.voucher,(e=new Set(r.authorizers)).add(r.proposalKey.address),e.delete(r.payer),Array.from(e).map(at)),o=Array.from(new Set([t.voucher.payer])).map(at),u=a.includes(at(n)),i=o.includes(at(n));if(!u&&!i)throw new xf(n);var c={cadence:t.voucher.cadence,refBlock:t.voucher.refBlock,computeLimit:t.voucher.computeLimit,arguments:t.voucher.arguments,proposalKey:O(O({},t.voucher.proposalKey),{},{address:Z(t.voucher.proposalKey.address)}),payer:Z(t.voucher.payer),authorizers:t.voucher.authorizers.map(Z),payloadSigs:t.voucher.payloadSigs.map(function(l){return O(O({},l),{},{address:Z(l.address)})})};return u?Cu(c):Ou(c)},CompositeSignature:function(t,n,r){this.f_type=pa.f_type,this.f_vsn=pa.f_vsn,this.addr=at(t),this.keyId=Number(n),this.signature=r},encodeAccountProof:Pi,injectExtService:function(t){"authn"===t.type&&null!=t.endpoint?(Array.isArray(window.fcl_extensions)||(window.fcl_extensions=[]),window.fcl_extensions.push(t)):console.warn("Authn service is required")}}),Xl="ACCOUNT_PROOF",Zl="USER_SIGNATURE",Ni=function(t){if(t.appIdentifier){var r=t.address,e=t.nonce,a=t.signatures;return C(An(t.appIdentifier),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),C(An(r)&&16===Z(r).length,"verifyAccountProof({ address }) -- address must be a valid address"),C(/^[0-9a-f]+$/i.test(e),"nonce must be a hex string"),C(Array.isArray(a)&&a.every(function(c,l,d){return"CompositeSignature"===c.f_type}),"Must include an Array of CompositeSignatures to verify"),C(a.map(function(c){return c.addr}).every(function(c,l,d){return c===d[0]}),"User signatures to be verified must be from a single account address"),!0}var u=t.address,i=t.compSigs;return C(/^[0-9a-f]+$/i.test(t.message),"Signed message must be a hex string"),C(An(u)&&16===Z(u).length,"verifyUserSignatures({ address }) -- address must be a valid address"),C(Array.isArray(i)&&i.every(function(c,l,d){return"CompositeSignature"===c.f_type}),"Must include an Array of CompositeSignatures to verify"),C(i.map(function(c){return c.addr}).every(function(c,l,d){return c===d[0]}),"User signatures to be verified must be from a single account address"),!0},Bi=function(){var t=x(h.mark(function n(r,e){var a,o;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a="ACCOUNT_PROOF"===r?"verifyAccountProofSignatures":"verifyUserSignatures",i.next=3,j.get("flow.network");case 3:if(o=i.sent){i.next=9;break}return i.next=7,j.get("env");case 7:(o=i.sent)&&wt.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:'Please use "flow.network" instead.',transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"});case 9:return C(e.fclCryptoContract||"testnet"===o||"mainnet"===o,"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract"),i.abrupt("return","\n      import FCLCrypto from ".concat(e.fclCryptoContract?e.fclCryptoContract:"testnet"===o?"0x74daa6f9c7ef24b1":"0xb4b82a1c9d21d284","\n\n      pub fun main(\n          address: Address, \n          message: String, \n          keyIndices: [Int], \n          signatures: [String]\n      ): Bool {\n        return FCLCrypto.").concat(a,"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\n      }\n    "));case 12:case"end":return i.stop()}},n)}));return function(n,r){return t.apply(this,arguments)}}();function Na(){return Na=x(h.mark(function t(n,r){var e,a,o,u,i,c,l,d,g,v,m=arguments;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:u=m.length>2&&void 0!==m[2]?m[2]:{},Ni({appIdentifier:n,address:e=r.address,nonce:a=r.nonce,signatures:o=r.signatures}),i=Pi({address:e,nonce:a,appIdentifier:n},!1),c=[],l=[],d=bt(o);try{for(d.s();!(g=d.n()).done;)c.push((v=g.value).signature),l.push(v.keyId.toString())}catch(E){d.e(E)}finally{d.f()}return b.t0=Sr,b.next=11,Bi(Xl,u);case 11:return b.t1=b.sent,b.t2=function(E,S){return[E(at(e),S.Address),E(i,S.String),E(l,S.Array(S.Int)),E(c,S.Array(S.String))]},b.t3={cadence:b.t1,args:b.t2},b.abrupt("return",(0,b.t0)(b.t3));case 15:case"end":return b.stop()}},t)})),Na.apply(this,arguments)}function Li(t,n){return Ba.apply(this,arguments)}function Ba(){return Ba=x(h.mark(function t(n,r){var e,a,o,u,i,c,l,d=arguments;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:e=d.length>2&&void 0!==d[2]?d[2]:{},a=at(r[0].addr),Ni({message:n,address:a,compSigs:r}),o=[],u=[],i=bt(r);try{for(i.s();!(c=i.n()).done;)o.push((l=c.value).signature),u.push(l.keyId.toString())}catch(v){i.e(v)}finally{i.f()}return g.t0=Sr,g.next=10,Bi(Zl,e);case 10:return g.t1=g.sent,g.t2=function(v,m){return[v(a,m.Address),v(n,m.String),v(u,m.Array(m.Int)),v(o,m.Array(m.String))]},g.t3={cadence:g.t1,args:g.t2},g.abrupt("return",(0,g.t0)(g.t3));case 14:case"end":return g.stop()}},t)})),Ba.apply(this,arguments)}var Un,Cr,$l=Object.freeze({__proto__:null,verifyAccountProof:function(t,n){return Na.apply(this,arguments)},verifyUserSignatures:Li}),Ql=wt.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(t,n){return Li(t,n)}}),tp=function(){var t=x(h.mark(function n(){var r,e,a,o=arguments;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:[],e=o.length>1&&void 0!==o[1]?o[1]:{},u.next=4,j.first(["sdk.resolve"],e.resolve||He);case 4:if(a=u.sent,!Array.isArray(r)){u.next=9;break}return u.next=8,st(pr(),r);case 8:r=u.sent;case 9:return u.t0=JSON,u.t1=Yn,u.next=13,a(r);case 13:return u.t2=u.sent,u.t3=(0,u.t1)(u.t2),u.abrupt("return",u.t0.stringify.call(u.t0,u.t3,null,2));case 16:case"end":return u.stop()}},n)}));return function(){return t.apply(this,arguments)}}(),La="POLL",np=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot([ss(r)]).then(Sn));case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Ua=function(t){return t.status>=4},Ui=function(t){return t.status>=3},Fi=function(t){return t.status>=2},rp=(q(Un={},Nr,function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.sendSelf(La);case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}()),q(Un,cn,function(t,n){t.subscribe(n.from),t.send(n.from,Br,t.all())}),q(Un,nn,function(t,n){t.unsubscribe(n.from)}),q(Un,no,function(){var t=x(h.mark(function n(r,e){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.reply(r.all());case 1:case"end":return a.stop()}},n)}));return function(n,r){return t.apply(this,arguments)}}()),q(Un,La,function(){var t=x(h.mark(function n(r){var e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,np(r.self());case 3:e=a.sent,a.next=9;break;case 6:return a.prev=6,a.t0=a.catch(0),a.abrupt("return",r.fatalError(a.t0));case 9:Ua(e)||setTimeout(function(){return r.sendSelf(La)},2500),o=r.all(),u=e,JSON.stringify(o)!==JSON.stringify(u)&&r.broadcast(Br,e),r.merge(e);case 12:case"end":return a.stop()}var o,u},n,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}()),Un),ji=function(t){if("object"===z(t)&&(t=t.transactionId),null==t)throw new Error("transactionId required");return t},Di=function(t){return rn(rp,ji(t))};function mn(t){function n(e){return ur(ji(t),Di,e)}function r(e){return function(){var o=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).suppress||!1;return new Promise(function(u,i){var c=n(function(l,d){!d&&!l.statusCode||o?e(l)&&(u(l),c()):(i(d||l.errorMessage),c())})})}}return{snapshot:function(){return ro(t,Di)},subscribe:n,onceFinalized:r(Fi),onceExecuted:r(Ui),onceSealed:r(Ua)}}mn.isUnknown=function(t){return t.status>=0},mn.isPending=function(t){return t.status>=1},mn.isFinalized=Fi,mn.isExecuted=Ui,mn.isSealed=Ua,mn.isExpired=function(t){return 5===t.status};var vn="TICK",Or="hwm",Fa=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=setTimeout,e.t1=function(){return r.sendSelf(vn)},e.next=4,j().get("fcl.eventPollRate",1e4);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),ep=(q(Cr={},vn,function(){var t=x(h.mark(function n(r){var e,a,u,i;return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r.hasSubs()){l.next=2;break}return l.abrupt("return");case 2:if(null!=(e=r.get(Or))){l.next=18;break}return l.t0=r,l.t1=Or,l.next=8,qn();case 8:return l.t2=l.sent,l.t0.put.call(l.t0,l.t1,l.t2),l.t3=r,l.t4=vn,l.next=14,Fa(r);case 14:l.t5=l.sent,l.t3.put.call(l.t3,l.t4,l.t5),l.next=34;break;case 18:return l.next=20,qn();case 20:if(r.put(Or,a=l.sent),!(e.height<a.height)){l.next=28;break}return l.next=25,Ot([us(r.self(),e.height+1,a.height)]).then(Sn);case 25:u=bt(l.sent);try{for(u.s();!(i=u.n()).done;)r.broadcast("UPDATED",i.value.data)}catch(d){u.e(d)}finally{u.f()}case 28:return l.t6=r,l.t7=vn,l.next=32,Fa(r);case 32:l.t8=l.sent,l.t6.put.call(l.t6,l.t7,l.t8);case 34:case"end":return l.stop()}},n)}));return function(n){return t.apply(this,arguments)}}()),q(Cr,cn,function(){var t=x(h.mark(function n(r,e){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r.hasSubs()){a.next=7;break}return a.t0=r,a.t1=vn,a.next=5,Fa(r);case 5:a.t2=a.sent,a.t0.put.call(a.t0,a.t1,a.t2);case 7:r.subscribe(e.from);case 8:case"end":return a.stop()}},n)}));return function(n,r){return t.apply(this,arguments)}}()),q(Cr,nn,function(t,n){t.unsubscribe(n.from),t.hasSubs()||(clearTimeout(t.get(vn)),t.delete(vn),t.delete(Or))}),Cr),ap=function(t){return rn(ep,t)};function J(t){return Gi.apply(this,arguments)}function Gi(){return(Gi=x(h.mark(function t(n){var r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new he.SHA3(256)).update(X.Buffer.from(n,"utf8")),e.abrupt("return",r.digest("hex"));case 3:case"end":return e.stop()}},t)}))).apply(this,arguments)}function Mi(t){return ja.apply(this,arguments)}function ja(){return ja=x(h.mark(function t(n){var r,e,a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:G(null!=(r=n.template),"generateTemplateId({ template }) -- template must be defined"),G("object"===z(r),"generateTemplateId({ template }) -- template must be an object"),G("InteractionTemplate"==typeof r.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate"),r=Wn(r),c.t0=r.f_version,c.next="1.0.0"===c.t0?8:40;break;case 8:return e=r.data,c.next=11,Promise.all(Object.keys(e.messages).map(function(){var l=x(h.mark(function d(g){var v,m;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,J(g);case 2:return b.t0=b.sent,b.next=5,Promise.all(Object.keys(null===(v=e.messages)||void 0===v||null===(m=v[g])||void 0===m?void 0:m.i18n).map(function(){var E=x(h.mark(function S(N){var T,R,L;return h.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,J(N);case 2:return I.t0=I.sent,I.next=5,J(null===(T=e.messages)||void 0===T||null===(R=T[g])||void 0===R||null===(L=R.i18n)||void 0===L?void 0:L[N]);case 5:return I.t1=I.sent,I.abrupt("return",[I.t0,I.t1]);case 7:case"end":return I.stop()}},S)}));return function(S){return E.apply(this,arguments)}}()));case 5:return b.t1=b.sent,b.abrupt("return",[b.t0,b.t1]);case 7:case"end":return b.stop()}},d)}));return function(d){return l.apply(this,arguments)}}()));case 11:return a=c.sent,c.next=14,Promise.all(Object.keys(null==e?void 0:e.dependencies).map(function(){var l=x(h.mark(function d(g){var v;return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,J(g);case 2:return m.t0=m.sent,m.next=5,Promise.all(Object.keys(null==e||null===(v=e.dependencies)||void 0===v?void 0:v[g]).map(function(){var b=x(h.mark(function E(S){var N,T;return h.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,J(S);case 2:return R.t0=R.sent,R.next=5,Promise.all(Object.keys(null==e||null===(N=e.dependencies)||void 0===N||null===(T=N[g])||void 0===T?void 0:T[S]).map(function(){var L=x(h.mark(function I(W){var lt,It,At,Rt,_t,Nt,_,A,U,Y,D,ut,it,yt,pt;return h.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,J(W);case 2:return F.t0=F.sent,F.next=5,J(null==e||null===(lt=e.dependencies)||void 0===lt||null===(It=lt[g])||void 0===It||null===(At=It[S])||void 0===At?void 0:At[W].address);case 5:return F.t1=F.sent,F.next=8,J(null==e||null===(Rt=e.dependencies)||void 0===Rt||null===(_t=Rt[g])||void 0===_t||null===(Nt=_t[S])||void 0===Nt?void 0:Nt[W].contract);case 8:return F.t2=F.sent,F.next=11,J(null==e||null===(_=e.dependencies)||void 0===_||null===(A=_[g])||void 0===A||null===(U=A[S])||void 0===U?void 0:U[W].fq_address);case 11:return F.t3=F.sent,F.next=14,J(null==e||null===(Y=e.dependencies)||void 0===Y||null===(D=Y[g])||void 0===D||null===(ut=D[S])||void 0===ut?void 0:ut[W].pin);case 14:return F.t4=F.sent,F.next=17,J(String(null==e||null===(it=e.dependencies)||void 0===it||null===(yt=it[g])||void 0===yt||null===(pt=yt[S])||void 0===pt?void 0:pt[W].pin_block_height));case 17:return F.t5=F.sent,F.t6=[F.t1,F.t2,F.t3,F.t4,F.t5],F.abrupt("return",[F.t0,F.t6]);case 20:case"end":return F.stop()}},I)}));return function(I){return L.apply(this,arguments)}}()));case 5:return R.t1=R.sent,R.abrupt("return",[R.t0,R.t1]);case 7:case"end":return R.stop()}},E)}));return function(E){return b.apply(this,arguments)}}()));case 5:return m.t1=m.sent,m.abrupt("return",[m.t0,m.t1]);case 7:case"end":return m.stop()}},d)}));return function(d){return l.apply(this,arguments)}}()));case 14:return o=c.sent,c.next=17,Promise.all(Object.keys(null==e?void 0:e.arguments).map(function(){var l=x(h.mark(function d(g){var v,m,b,E;return h.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,J(g);case 2:return S.t0=S.sent,S.next=5,J(String(null==e||null===(v=e.arguments)||void 0===v?void 0:v[g].index));case 5:return S.t1=S.sent,S.next=8,J(null==e||null===(m=e.arguments)||void 0===m?void 0:m[g].type);case 8:return S.t2=S.sent,S.next=11,J((null==e||null===(b=e.arguments)||void 0===b?void 0:b[g].balance)||"");case 11:return S.t3=S.sent,S.next=14,Promise.all(Object.keys(null==e||null===(E=e.arguments)||void 0===E?void 0:E[g].messages).map(function(){var N=x(h.mark(function T(R){var L,I;return h.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,J(R);case 2:return W.t0=W.sent,W.next=5,Promise.all(Object.keys(null==e||null===(L=e.arguments)||void 0===L||null===(I=L[g].messages)||void 0===I?void 0:I[R].i18n).map(function(){var lt=x(h.mark(function It(At){var Rt,_t,Nt;return h.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,J(At);case 2:return _.t0=_.sent,_.next=5,J(null==e||null===(Rt=e.arguments)||void 0===Rt||null===(_t=Rt[g].messages)||void 0===_t||null===(Nt=_t[R].i18n)||void 0===Nt?void 0:Nt[At]);case 5:return _.t1=_.sent,_.abrupt("return",[_.t0,_.t1]);case 7:case"end":return _.stop()}},It)}));return function(It){return lt.apply(this,arguments)}}()));case 5:return W.t1=W.sent,W.abrupt("return",[W.t0,W.t1]);case 7:case"end":return W.stop()}},T)}));return function(T){return N.apply(this,arguments)}}()));case 14:return S.t4=S.sent,S.t5=[S.t1,S.t2,S.t3,S.t4],S.abrupt("return",[S.t0,S.t5]);case 17:case"end":return S.stop()}},d)}));return function(d){return l.apply(this,arguments)}}()));case 17:return u=c.sent,c.t1=fn,c.next=21,J("InteractionTemplate");case 21:return c.t2=c.sent,c.next=24,J("1.0.0");case 24:return c.t3=c.sent,c.next=27,J(null==e?void 0:e.type);case 27:return c.t4=c.sent,c.next=30,J(null==e?void 0:e.interface);case 30:return c.t5=c.sent,c.t6=a,c.next=34,J(null==e?void 0:e.cadence);case 34:return c.t7=c.sent,c.t8=o,c.t9=u,c.t10=[c.t2,c.t3,c.t4,c.t5,c.t6,c.t7,c.t8,c.t9],i=(0,c.t1)(c.t10).toString("hex"),c.abrupt("return",J(i));case 40:throw new Error("generateTemplateId Error: Unsupported template version");case 41:case"end":return c.stop()}},t)})),ja.apply(this,arguments)}function Da(){return Da=x(h.mark(function t(n){var r,e,a,o,u,i,c,d=arguments;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return e=n.auditors,a=d.length>1&&void 0!==d[1]?d[1]:{},G(null!=(r=n.template),"getInteractionTemplateAudits({ template }) -- template must be defined"),G("InteractionTemplate"===(r=Wn(r)).f_type,"getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate"),g.next=7,Mi({template:r});case 7:if((o=g.sent)===r.id){g.next=11;break}throw wt({title:"getInteractionTemplateAudits Debug Error",message:"Could not recompute and match template ID\n                computed: ".concat(o,"\n                template: ").concat(r.id,"\n            "),level:St.debug}),new Error("getInteractionTemplateAudits Error: Could not recompute and match template ID");case 11:g.t0=r.f_version,g.next="1.0.0"===g.t0?14:33;break;case 14:if(g.t1=e,g.t1){g.next=19;break}return g.next=18,j().get("flow.auditors");case 18:g.t1=g.sent;case 19:if(G(u=g.t1,"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set"),G(Array.isArray(u),"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array"),i=a.flowInteractionAuditContract){g.next=29;break}return g.next=26,j().get("flow.network");case 26:G("mainnet"===(c=g.sent)||"testnet"===c,"getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'"),i="mainnet"===c?"0xfd100e39d50a13e6":"0xf78bfc12d0a786dc";case 29:return g.next=31,Sr({cadence:"\n        import FlowInteractionTemplateAudit from ".concat(i,"\n        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {\n          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)\n        }\n        "),args:function(v,m){return[v(o,m.String),v(u,m.Array(m.Address))]}});case 31:return g.abrupt("return",g.sent);case 33:throw new Error("getInteractionTemplateAudits Error: Unsupported template version");case 34:case"end":return g.stop()}},t)})),Da.apply(this,arguments)}function zi(t){return{contractName:t.contractName,address:t.address,contract:""}}function op(t){var n,r=[],e=bt(t.match(/import ((\w|,| )+)* from 0x\w+/g)||[]);try{for(e.s();!(n=e.n()).done;){var a,u=/import ((\w+|, |)*) from (0x\w+)/g.exec(n.value),i=bt(u[1].match(/((?:\w+)+),?/g)||[]);try{for(i.s();!(a=i.n()).done;)r.push(zi({address:u[3],contractName:a.value.replace(/,/g,"")}))}catch(l){i.e(l)}finally{i.f()}}}catch(l){e.e(l)}finally{e.f()}return r}function Ga(t){return Ma.apply(this,arguments)}function Ma(){return Ma=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m,b,E=arguments;return h.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:e=n.contractName,a=n.blockHeight,o=E.length>1&&void 0!==E[1]?E[1]:{},G(null!=(r=n.address),"generateDependencyPin({ address }) -- address must be defined"),G(null!=e,"generateDependencyPin({ contractName }) -- contractName must be defined"),G(null!=a,"generateDependencyPin({ blockHeight }) -- blockHeight must be defined"),G("string"==typeof r,"generateDependencyPin({ address }) -- address must be a string"),G("string"==typeof e,"generateDependencyPin({ contractName }) -- contractName must be a string"),G("number"==typeof a,"generateDependencyPin({ blockHeight }) -- blockHeight must be a number"),u=[zi({contractName:e,address:r})],i=0,c=u;case 10:if(!(i<c.length)){S.next=33;break}return d=c[i],S.t0=Ot,S.t1=xn,S.next=16,j().get(d.address,d.address);case 16:return S.t2=S.sent,S.t3=(0,S.t1)(S.t2),S.t4=xr(a),S.t5=[S.t3,S.t4],S.t6=o,S.next=23,(0,S.t0)(S.t5,S.t6).then(Sn);case 23:if(d.contract=null===(l=(g=S.sent).contracts)||void 0===l?void 0:l[d.contractName],d.contract){S.next=28;break}throw console.error("Did not find expected contract",d,g),new Error("Did not find expected contract");case 28:v=op(d.contract),u.push.apply(u,K(v));case 30:i++,S.next=10;break;case 33:return m=u.map(function(N){return J(N.contract)}),b=m.join(""),S.abrupt("return",J(b));case 36:case"end":return S.stop()}},t)})),Ma.apply(this,arguments)}function za(){return za=x(h.mark(function t(n){var r,e,a,o,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.address,e=n.contractName,a=i.length>1&&void 0!==i[1]?i[1]:{},c.next=4,qn({sealed:!0},a);case 4:return c.abrupt("return",Ga({address:r,contractName:e,blockHeight:null==(o=c.sent)?void 0:o.height},a));case 7:case"end":return c.stop()}},t)})),za.apply(this,arguments)}function up(t){if(null==t)return null;if("1.0.0"===t.f_version)return t;throw new Error("normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface")}function Ya(){return Ya=x(h.mark(function t(n){var r,e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:G(null!=(r=n.templateInterface),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined"),G("object"===z(r),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object"),G("InteractionTemplateInterface"==typeof r.f_type,"generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate"),r=up(r),o.t0=r.f_version,o.next="1.0.0"===o.t0?8:25;break;case 8:return e=r.data,o.t1=fn,o.next=12,J("InteractionTemplateInterface");case 12:return o.t2=o.sent,o.next=15,J("1.0.0");case 15:return o.t3=o.sent,o.next=18,J(e.flip);case 18:return o.t4=o.sent,o.next=21,Promise.all(Object.keys(e.arguments).map(function(){var u=x(h.mark(function i(c){return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,J(c);case 2:return l.t0=l.sent,l.next=5,J(String(e.arguments[c].index));case 5:return l.t1=l.sent,l.next=8,J(e.arguments[c].type);case 8:return l.t2=l.sent,l.abrupt("return",[l.t0,l.t1,l.t2]);case 10:case"end":return l.stop()}},i)}));return function(i){return u.apply(this,arguments)}}()));case 21:return o.t5=o.sent,o.t6=[o.t2,o.t3,o.t4,o.t5],a=(0,o.t1)(o.t6).toString("hex"),o.abrupt("return",J(a));case 25:throw new Error("generateTemplateInterfaceId Error: Unsupported templateInterface version");case 26:case"end":return o.stop()}},t)})),Ya.apply(this,arguments)}function Yi(t){return qa.apply(this,arguments)}function qa(){return qa=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,g,v,m,S,N,T=arguments;return h.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:e=n.blockHeight,a=n.network,o=T.length>1&&void 0!==T[1]?T[1]:{},G(null!=(r=n.template),"generateDependencyPin({ template }) -- template must be defined"),G("object"===z(r),"generateDependencyPin({ template }) -- template must be an object"),G("InteractionTemplate"===r.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),r=Wn(r),G(null!=a,"generateDependencyPin({ network }) network must be defined"),G(null!=e,"generateDependencyPin({ blockHeight }) blockHeight must be defined"),G("number"==typeof e,"generateDependencyPin({ blockHeight }) blockHeight must be a number"),R.t0=r.f_version,R.next="1.0.0"===R.t0?12:38;break;case 12:u=Object.keys(r.data.dependencies),i=0,c=u;case 14:if(!(i<c.length)){R.next=37;break}l=c[i],g=Object.keys(r.data.dependencies[l]),v=0,m=g;case 19:if(!(v<m.length)){R.next=34;break}if(void 0!==(S=r.data.dependencies[l][m[v]][a])){R.next=25;break}return R.abrupt("continue",31);case 25:return R.next=27,Ga({address:S.address,contractName:S.contract,blockHeight:e},o);case 27:if((N=R.sent)===S.pin){R.next=31;break}return wt({title:"verifyDependencyPinsSame Debug Error",message:"Could not recompute and match dependency pin.\n                                address: ".concat(S.address," | contract: ").concat(S.contract,"\n                                computed: ").concat(N,"\n                                template: ").concat(S.pin,"\n                            "),level:St.debug}),R.abrupt("return",!1);case 31:v++,R.next=19;break;case 34:i++,R.next=14;break;case 37:return R.abrupt("return",!0);case 38:throw new Error("verifyDependencyPinsSame Error: Unsupported template version");case 39:case"end":return R.stop()}},t)})),qa.apply(this,arguments)}function Ka(){return Ka=x(h.mark(function t(n){var r,e,a,o,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.template,e=n.network,a=i.length>1&&void 0!==i[1]?i[1]:{},c.next=4,qn({sealed:!0});case 4:return c.abrupt("return",Yi({template:r,network:e,blockHeight:null==(o=c.sent)?void 0:o.height},a));case 7:case"end":return c.stop()}},t)})),Ka.apply(this,arguments)}var sp=Object.freeze({__proto__:null,getInteractionTemplateAudits:function(t){return Da.apply(this,arguments)},generateDependencyPin:Ga,generateDependencyPinAtLatestSealedBlock:function(t){return za.apply(this,arguments)},generateTemplateId:Mi,generateTemplateInterfaceId:function(t){return Ya.apply(this,arguments)},verifyDependencyPinsSame:Yi,verifyDependencyPinsSameAtLatestSealedBlock:function(t){return Ka.apply(this,arguments)},deriveCadenceByNetwork:zs,getTemplateMessage:function(t){var n,r,e,a=t.localization,o=void 0===a?"en-US":a,u=t.messageKey,i=t.template;G(u,"getMessage({ messageKey }) -- messageKey must be defined"),G("stirng"==typeof u,"getMessage({ messageKey }) -- messageKey must be a string"),G(o,"getMessage({ localization }) -- localization must be defined"),G("stirng"==typeof o,"getMessage({ localization }) -- localization must be a string"),G(null!=i,"generateTemplateId({ template }) -- template must be defined"),G("object"===z(i),"generateTemplateId({ template }) -- template must be an object"),G("InteractionTemplate"==typeof i.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate");var c=null==i||null===(n=i.data)||void 0===n?void 0:n.messages;return null==c||null===(r=c[u])||void 0===r||null===(e=r.i18n)||void 0===e?void 0:e[o]},getTemplateArgumentMessage:function(t){var n,r,e,a,o,u=t.localization,i=void 0===u?"en-US":u,c=t.argumentLabel,l=t.messageKey,d=t.template;G(l,"getMessage({ messageKey }) -- messageKey must be defined"),G("stirng"==typeof l,"getMessage({ messageKey }) -- messageKey must be a string"),G(c,"getMessage({ argumentLabel }) -- argumentLabel must be defined"),G("stirng"==typeof l,"getMessage({ argumentLabel }) -- argumentLabel must be a string"),G(i,"getMessage({ localization }) -- localization must be defined"),G("stirng"==typeof i,"getMessage({ localization }) -- localization must be a string"),G(null!=d,"generateTemplateId({ template }) -- template must be defined"),G("object"===z(d),"generateTemplateId({ template }) -- template must be an object"),G("InteractionTemplate"==typeof d.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate");var g=null==d||null===(n=d.data)||void 0===n?void 0:n.arguments;return null==g||null===(r=g[c])||void 0===r||null===(e=r.messages)||void 0===e||null===(a=e[l])||void 0===a||null===(o=a.i18n)||void 0===o?void 0:o[i]}}),ip=xt().authorization,cp=Us;B.AppUtils=$l,B.InteractionTemplateUtils=sp,B.TestUtils=Af,B.VERSION=Ut,B.WalletUtils=Jl,B.account=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.height,e=n.id,a=arguments.length>2?arguments[2]:void 0;return C(!(e&&r),'Method: account -- Cannot pass "id" and "height" simultaneously'),e?Ot([xn(t),Je(e)],a).then(Jt):r?Ot([xn(t),xr(r)],a).then(Jt):Ot([xn(t)],a).then(Jt)},B.arg=$e,B.args=Ze,B.atBlockHeight=xr,B.atBlockId=Je,B.authenticate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xt().authenticate(t)},B.authorization=function(t,n,r,e){return{addr:t,signingFunction:n,keyId:r,sequenceNum:e}},B.authorizations=os,B.authz=ip,B.block=qn,B.build=yr,B.cadence=cr,B.cdc=cr,B.config=j,B.createSignableVoucher=Yn,B.currentUser=xt,B.decode=Sn,B.discovery=Fl,B.display=function(t){return at(t)},B.events=function(t){return{subscribe:function(n){return ur(t,ap,n)}}},B.getAccount=xn,B.getBlock=Mn,B.getBlockHeader=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return st([mu,function(n){return n.block.isSealed=t,ht(n)}])},B.getCollection=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return st([vu,function(n){return n.collection.id=t,n}])},B.getEvents=function(t,n,r){return void 0===n&&void 0===r||wt.deprecate({pkg:"FCL/SDK",subject:"Passing a start and end into getEvents",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder"}),st([hr,function(e){return e.events.eventType=t,e.events.start=n,e.events.end=r,ht(e)}])},B.getEventsAtBlockHeightRange=us,B.getEventsAtBlockIds=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return st([hr,function(r){return r.events.eventType=t,r.events.blockIds=n,ht(r)}])},B.getTransaction=function(t){return st([pu,function(n){return n.transaction.id=t,ht(n)}])},B.getTransactionStatus=ss,B.invariant=G,B.isBad=Ue,B.isOk=bu,B.limit=Xe,B.logIn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xt().authenticate(t)},B.mutate=function(){return Pa.apply(this,arguments)},B.param=function(t){return wt.deprecate({pkg:"FCL/SDK",message:"The param builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:St.error})},B.params=function(t){return wt.deprecate({pkg:"FCL/SDK",message:"The params builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:St.error})},B.payer=cs,B.ping=function(){return hu},B.pipe=st,B.pluginRegistry=Ol,B.proposer=is,B.query=Sr,B.reauthenticate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xt().unauthenticate(),xt().authenticate(t)},B.ref=fs,B.sansPrefix=Z,B.script=ls,B.send=Ot,B.serialize=tp,B.signUp=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xt().authenticate(t)},B.t=cp,B.transaction=ps,B.tx=mn,B.unauthenticate=function(){return xt().unauthenticate()},B.validator=Ve,B.verifyUserSignatures=Ql,B.voucherIntercept=function(t){return vr("ix.voucher-intercept",t)},B.voucherToTxId=function(t){return function(t){var n=new he.SHA3(256);return n.update(X.Buffer.from(t,"hex")),n.digest().toString("hex")}(Ye(function(t){pf(t);var n=Du(t),r=function(e){return e.map(function(a){var u=a.keyId,i=a.sig;return{signerIndex:n.get(a.address),keyId:u,sig:i}}).sort(function(a,o){return a.signerIndex>o.signerIndex?1:a.signerIndex<o.signerIndex?-1:a.keyId>o.keyId?1:a.keyId<o.keyId?-1:void 0}).map(function(a){return[a.signerIndex,a.keyId,Fu(a.sig)]})};return[[Uu(t.cadence),t.arguments.map(Lu),Bu(t.refBlock),t.computeLimit,En(Z(t.proposalKey.address)),t.proposalKey.keyId,t.proposalKey.sequenceNum,En(Z(t.payer)),t.authorizers.map(function(e){return En(Z(e))})],r(t.payloadSigs),r(t.envelopeSigs)]}(t)))},B.why=wu,B.withPrefix=at,Object.defineProperty(B,"__esModule",{value:!0})}(er)},5235:(Ki,er,B)=>{"use strict";B.r(er),B.d(er,{getFlowProvider:()=>yn});var tn=B(8983);tn.config({"accessNode.api":"https://rest-mainnet.onflow.org","discovery.wallet":"https://fcl-discovery.onflow.org/authn"});var yn=function(){return tn}}}]);