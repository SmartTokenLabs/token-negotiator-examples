(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[515],{67083:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var O=D(94846);function k(A,N,E){return void 0===N&&(N=new Uint8Array(2)),void 0===E&&(E=0),N[E+0]=A>>>8,N[E+1]=A>>>0,N}function j(A,N,E){return void 0===N&&(N=new Uint8Array(2)),void 0===E&&(E=0),N[E+0]=A>>>0,N[E+1]=A>>>8,N}function L(A,N){return void 0===N&&(N=0),A[N]<<24|A[N+1]<<16|A[N+2]<<8|A[N+3]}function T(A,N){return void 0===N&&(N=0),(A[N]<<24|A[N+1]<<16|A[N+2]<<8|A[N+3])>>>0}function U(A,N){return void 0===N&&(N=0),A[N+3]<<24|A[N+2]<<16|A[N+1]<<8|A[N]}function oe(A,N){return void 0===N&&(N=0),(A[N+3]<<24|A[N+2]<<16|A[N+1]<<8|A[N])>>>0}function ye(A,N,E){return void 0===N&&(N=new Uint8Array(4)),void 0===E&&(E=0),N[E+0]=A>>>24,N[E+1]=A>>>16,N[E+2]=A>>>8,N[E+3]=A>>>0,N}function ne(A,N,E){return void 0===N&&(N=new Uint8Array(4)),void 0===E&&(E=0),N[E+0]=A>>>0,N[E+1]=A>>>8,N[E+2]=A>>>16,N[E+3]=A>>>24,N}function X(A,N,E){return void 0===N&&(N=new Uint8Array(8)),void 0===E&&(E=0),ye(A/4294967296>>>0,N,E),ye(A>>>0,N,E+4),N}function ge(A,N,E){return void 0===N&&(N=new Uint8Array(8)),void 0===E&&(E=0),ne(A>>>0,N,E),ne(A/4294967296>>>0,N,E+4),N}g.readInt16BE=function te(A,N){return void 0===N&&(N=0),(A[N+0]<<8|A[N+1])<<16>>16},g.readUint16BE=function re(A,N){return void 0===N&&(N=0),(A[N+0]<<8|A[N+1])>>>0},g.readInt16LE=function ae(A,N){return void 0===N&&(N=0),(A[N+1]<<8|A[N])<<16>>16},g.readUint16LE=function $(A,N){return void 0===N&&(N=0),(A[N+1]<<8|A[N])>>>0},g.writeUint16BE=k,g.writeInt16BE=k,g.writeUint16LE=j,g.writeInt16LE=j,g.readInt32BE=L,g.readUint32BE=T,g.readInt32LE=U,g.readUint32LE=oe,g.writeUint32BE=ye,g.writeInt32BE=ye,g.writeUint32LE=ne,g.writeInt32LE=ne,g.readInt64BE=function fe(A,N){void 0===N&&(N=0);var E=L(A,N),K=L(A,N+4);return 4294967296*E+K-4294967296*(K>>31)},g.readUint64BE=function xe(A,N){return void 0===N&&(N=0),4294967296*T(A,N)+T(A,N+4)},g.readInt64LE=function P(A,N){void 0===N&&(N=0);var E=U(A,N);return 4294967296*U(A,N+4)+E-4294967296*(E>>31)},g.readUint64LE=function be(A,N){void 0===N&&(N=0);var E=oe(A,N);return 4294967296*oe(A,N+4)+E},g.writeUint64BE=X,g.writeInt64BE=X,g.writeUint64LE=ge,g.writeInt64LE=ge,g.readUintBE=function le(A,N,E){if(void 0===E&&(E=0),A%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(A/8>N.length-E)throw new Error("readUintBE: array is too short for the given bitLength");for(var K=0,ue=1,W=A/8+E-1;W>=E;W--)K+=N[W]*ue,ue*=256;return K},g.readUintLE=function H(A,N,E){if(void 0===E&&(E=0),A%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(A/8>N.length-E)throw new Error("readUintLE: array is too short for the given bitLength");for(var K=0,ue=1,W=E;W<E+A/8;W++)K+=N[W]*ue,ue*=256;return K},g.writeUintBE=function Z(A,N,E,K){if(void 0===E&&(E=new Uint8Array(A/8)),void 0===K&&(K=0),A%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!O.isSafeInteger(N))throw new Error("writeUintBE value must be an integer");for(var ue=1,W=A/8+K-1;W>=K;W--)E[W]=N/ue&255,ue*=256;return E},g.writeUintLE=function M(A,N,E,K){if(void 0===E&&(E=new Uint8Array(A/8)),void 0===K&&(K=0),A%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!O.isSafeInteger(N))throw new Error("writeUintLE value must be an integer");for(var ue=1,W=K;W<K+A/8;W++)E[W]=N/ue&255,ue*=256;return E},g.readFloat32BE=function p(A,N){return void 0===N&&(N=0),new DataView(A.buffer,A.byteOffset,A.byteLength).getFloat32(N)},g.readFloat32LE=function l(A,N){return void 0===N&&(N=0),new DataView(A.buffer,A.byteOffset,A.byteLength).getFloat32(N,!0)},g.readFloat64BE=function _(A,N){return void 0===N&&(N=0),new DataView(A.buffer,A.byteOffset,A.byteLength).getFloat64(N)},g.readFloat64LE=function m(A,N){return void 0===N&&(N=0),new DataView(A.buffer,A.byteOffset,A.byteLength).getFloat64(N,!0)},g.writeFloat32BE=function S(A,N,E){return void 0===N&&(N=new Uint8Array(4)),void 0===E&&(E=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat32(E,A),N},g.writeFloat32LE=function b(A,N,E){return void 0===N&&(N=new Uint8Array(4)),void 0===E&&(E=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat32(E,A,!0),N},g.writeFloat64BE=function d(A,N,E){return void 0===N&&(N=new Uint8Array(8)),void 0===E&&(E=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat64(E,A),N},g.writeFloat64LE=function x(A,N,E){return void 0===N&&(N=new Uint8Array(8)),void 0===E&&(E=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat64(E,A,!0),N}},25046:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var O=D(67083),te=D(91897);function ae(L,T,U){for(var oe=1634760805,ye=857760878,ne=2036477234,fe=1797285236,xe=U[3]<<24|U[2]<<16|U[1]<<8|U[0],P=U[7]<<24|U[6]<<16|U[5]<<8|U[4],be=U[11]<<24|U[10]<<16|U[9]<<8|U[8],X=U[15]<<24|U[14]<<16|U[13]<<8|U[12],ge=U[19]<<24|U[18]<<16|U[17]<<8|U[16],le=U[23]<<24|U[22]<<16|U[21]<<8|U[20],H=U[27]<<24|U[26]<<16|U[25]<<8|U[24],Z=U[31]<<24|U[30]<<16|U[29]<<8|U[28],M=T[3]<<24|T[2]<<16|T[1]<<8|T[0],p=T[7]<<24|T[6]<<16|T[5]<<8|T[4],l=T[11]<<24|T[10]<<16|T[9]<<8|T[8],_=T[15]<<24|T[14]<<16|T[13]<<8|T[12],m=oe,S=ye,b=ne,d=fe,x=xe,A=P,N=be,E=X,K=ge,ue=le,W=H,Re=Z,me=M,Se=p,Ue=l,Le=_,Me=0;Me<20;Me+=2)x=(x^=K=K+(me=(me^=m=m+x|0)>>>16|me<<16)|0)>>>20|x<<12,A=(A^=ue=ue+(Se=(Se^=S=S+A|0)>>>16|Se<<16)|0)>>>20|A<<12,N=(N^=W=W+(Ue=(Ue^=b=b+N|0)>>>16|Ue<<16)|0)>>>20|N<<12,E=(E^=Re=Re+(Le=(Le^=d=d+E|0)>>>16|Le<<16)|0)>>>20|E<<12,N=(N^=W=W+(Ue=(Ue^=b=b+N|0)>>>24|Ue<<8)|0)>>>25|N<<7,E=(E^=Re=Re+(Le=(Le^=d=d+E|0)>>>24|Le<<8)|0)>>>25|E<<7,A=(A^=ue=ue+(Se=(Se^=S=S+A|0)>>>24|Se<<8)|0)>>>25|A<<7,x=(x^=K=K+(me=(me^=m=m+x|0)>>>24|me<<8)|0)>>>25|x<<7,A=(A^=W=W+(Le=(Le^=m=m+A|0)>>>16|Le<<16)|0)>>>20|A<<12,N=(N^=Re=Re+(me=(me^=S=S+N|0)>>>16|me<<16)|0)>>>20|N<<12,E=(E^=K=K+(Se=(Se^=b=b+E|0)>>>16|Se<<16)|0)>>>20|E<<12,x=(x^=ue=ue+(Ue=(Ue^=d=d+x|0)>>>16|Ue<<16)|0)>>>20|x<<12,E=(E^=K=K+(Se=(Se^=b=b+E|0)>>>24|Se<<8)|0)>>>25|E<<7,x=(x^=ue=ue+(Ue=(Ue^=d=d+x|0)>>>24|Ue<<8)|0)>>>25|x<<7,N=(N^=Re=Re+(me=(me^=S=S+N|0)>>>24|me<<8)|0)>>>25|N<<7,A=(A^=W=W+(Le=(Le^=m=m+A|0)>>>24|Le<<8)|0)>>>25|A<<7;O.writeUint32LE(m+oe|0,L,0),O.writeUint32LE(S+ye|0,L,4),O.writeUint32LE(b+ne|0,L,8),O.writeUint32LE(d+fe|0,L,12),O.writeUint32LE(x+xe|0,L,16),O.writeUint32LE(A+P|0,L,20),O.writeUint32LE(N+be|0,L,24),O.writeUint32LE(E+X|0,L,28),O.writeUint32LE(K+ge|0,L,32),O.writeUint32LE(ue+le|0,L,36),O.writeUint32LE(W+H|0,L,40),O.writeUint32LE(Re+Z|0,L,44),O.writeUint32LE(me+M|0,L,48),O.writeUint32LE(Se+p|0,L,52),O.writeUint32LE(Ue+l|0,L,56),O.writeUint32LE(Le+_|0,L,60)}function $(L,T,U,oe,ye){if(void 0===ye&&(ye=0),32!==L.length)throw new Error("ChaCha: key size must be 32 bytes");if(oe.length<U.length)throw new Error("ChaCha: destination is shorter than source");var ne,fe;if(0===ye){if(8!==T.length&&12!==T.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");(ne=new Uint8Array(16)).set(T,fe=ne.length-T.length)}else{if(16!==T.length)throw new Error("ChaCha nonce with counter must be 16 bytes");ne=T,fe=ye}for(var xe=new Uint8Array(64),P=0;P<U.length;P+=64){ae(xe,ne,L);for(var be=P;be<P+64&&be<U.length;be++)oe[be]=U[be]^xe[be-P];j(ne,0,fe)}return te.wipe(xe),0===ye&&te.wipe(ne),oe}function j(L,T,U){for(var oe=1;U--;)L[T]=255&(oe=oe+(255&L[T])|0),oe>>>=8,T++;if(oe>0)throw new Error("ChaCha: counter overflow")}g.streamXOR=$,g.stream=function k(L,T,U,oe){return void 0===oe&&(oe=0),te.wipe(U),$(L,T,U,U,oe)}},91573:(Pe,g,D)=>{"use strict";var te=D(25046),re=D(37852),ae=D(91897),$=D(67083),k=D(3054);g.Cv=32,g.WH=12,g.pg=16;var j=new Uint8Array(16),L=function(){function T(U){if(this.nonceLength=g.WH,this.tagLength=g.pg,U.length!==g.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(U)}return T.prototype.seal=function(U,oe,ye,ne){if(U.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var fe=new Uint8Array(16);fe.set(U,fe.length-U.length);var xe=new Uint8Array(32);te.stream(this._key,fe,xe,4);var be,P=oe.length+this.tagLength;if(ne){if(ne.length!==P)throw new Error("ChaCha20Poly1305: incorrect destination length");be=ne}else be=new Uint8Array(P);return te.streamXOR(this._key,fe,oe,be,4),this._authenticate(be.subarray(be.length-this.tagLength,be.length),xe,be.subarray(0,be.length-this.tagLength),ye),ae.wipe(fe),be},T.prototype.open=function(U,oe,ye,ne){if(U.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(oe.length<this.tagLength)return null;var fe=new Uint8Array(16);fe.set(U,fe.length-U.length);var xe=new Uint8Array(32);te.stream(this._key,fe,xe,4);var P=new Uint8Array(this.tagLength);if(this._authenticate(P,xe,oe.subarray(0,oe.length-this.tagLength),ye),!k.equal(P,oe.subarray(oe.length-this.tagLength,oe.length)))return null;var X,be=oe.length-this.tagLength;if(ne){if(ne.length!==be)throw new Error("ChaCha20Poly1305: incorrect destination length");X=ne}else X=new Uint8Array(be);return te.streamXOR(this._key,fe,oe.subarray(0,oe.length-this.tagLength),X,4),ae.wipe(fe),X},T.prototype.clean=function(){return ae.wipe(this._key),this},T.prototype._authenticate=function(U,oe,ye,ne){var fe=new re.Poly1305(oe);ne&&(fe.update(ne),ne.length%16>0&&fe.update(j.subarray(ne.length%16))),fe.update(ye),ye.length%16>0&&fe.update(j.subarray(ye.length%16));var xe=new Uint8Array(8);ne&&$.writeUint64LE(ne.length,xe),fe.update(xe),$.writeUint64LE(ye.length,xe),fe.update(xe);for(var P=fe.digest(),be=0;be<P.length;be++)U[be]=P[be];fe.clean(),ae.wipe(P),ae.wipe(xe)},T}();g.OK=L},3054:(Pe,g)=>{"use strict";function te(ae,$){if(ae.length!==$.length)return 0;for(var k=0,j=0;j<ae.length;j++)k|=ae[j]^$[j];return 1&k-1>>>8}Object.defineProperty(g,"__esModule",{value:!0}),g.select=function D(ae,$,k){return~(ae-1)&$|ae-1&k},g.lessOrEqual=function O(ae,$){return(0|ae)-(0|$)-1>>>31&1},g.compare=te,g.equal=function re(ae,$){return 0!==ae.length&&0!==$.length&&0!==te(ae,$)}},47903:(Pe,g,D)=>{"use strict";g.Xx=g._w=g.aP=g.KS=g.jQ=void 0;D(52632);const re=D(16);D(91897);function $(ce){const he=new Float64Array(16);if(ce)for(let J=0;J<ce.length;J++)he[J]=ce[J];return he}g.jQ=64,g.KS=64,g.aP=32,new Uint8Array(32)[0]=9;const j=$(),L=$([1]),U=($([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),$([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),oe=$([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ye=$([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);$([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function fe(ce,he){for(let J=0;J<16;J++)ce[J]=0|he[J]}function xe(ce){let he=1;for(let J=0;J<16;J++){let v=ce[J]+he+65535;he=Math.floor(v/65536),ce[J]=v-65536*he}ce[0]+=he-1+37*(he-1)}function P(ce,he,J){const v=~(J-1);for(let G=0;G<16;G++){const Ae=v&(ce[G]^he[G]);ce[G]^=Ae,he[G]^=Ae}}function be(ce,he){const J=$(),v=$();for(let G=0;G<16;G++)v[G]=he[G];xe(v),xe(v),xe(v);for(let G=0;G<2;G++){J[0]=v[0]-65517;for(let He=1;He<15;He++)J[He]=v[He]-65535-(J[He-1]>>16&1),J[He-1]&=65535;J[15]=v[15]-32767-(J[14]>>16&1);const Ae=J[15]>>16&1;J[14]&=65535,P(v,J,1-Ae)}for(let G=0;G<16;G++)ce[2*G]=255&v[G],ce[2*G+1]=v[G]>>8}function le(ce){const he=new Uint8Array(32);return be(he,ce),1&he[0]}function Z(ce,he,J){for(let v=0;v<16;v++)ce[v]=he[v]+J[v]}function M(ce,he,J){for(let v=0;v<16;v++)ce[v]=he[v]-J[v]}function p(ce,he,J){let v,G,Ae=0,He=0,ut=0,Pt=0,pt=0,At=0,Kt=0,Xt=0,_t=0,gt=0,yt=0,ct=0,it=0,et=0,Xe=0,Ze=0,qe=0,vt=0,bt=0,St=0,It=0,Ot=0,Ct=0,Nt=0,Rr=0,Sr=0,ln=0,Tn=0,Kn=0,Nn=0,wn=0,qt=J[0],Zt=J[1],Jt=J[2],jt=J[3],nr=J[4],ir=J[5],Et=J[6],sr=J[7],or=J[8],er=J[9],Qt=J[10],$t=J[11],ar=J[12],ur=J[13],cr=J[14],fr=J[15];v=he[0],Ae+=v*qt,He+=v*Zt,ut+=v*Jt,Pt+=v*jt,pt+=v*nr,At+=v*ir,Kt+=v*Et,Xt+=v*sr,_t+=v*or,gt+=v*er,yt+=v*Qt,ct+=v*$t,it+=v*ar,et+=v*ur,Xe+=v*cr,Ze+=v*fr,v=he[1],He+=v*qt,ut+=v*Zt,Pt+=v*Jt,pt+=v*jt,At+=v*nr,Kt+=v*ir,Xt+=v*Et,_t+=v*sr,gt+=v*or,yt+=v*er,ct+=v*Qt,it+=v*$t,et+=v*ar,Xe+=v*ur,Ze+=v*cr,qe+=v*fr,v=he[2],ut+=v*qt,Pt+=v*Zt,pt+=v*Jt,At+=v*jt,Kt+=v*nr,Xt+=v*ir,_t+=v*Et,gt+=v*sr,yt+=v*or,ct+=v*er,it+=v*Qt,et+=v*$t,Xe+=v*ar,Ze+=v*ur,qe+=v*cr,vt+=v*fr,v=he[3],Pt+=v*qt,pt+=v*Zt,At+=v*Jt,Kt+=v*jt,Xt+=v*nr,_t+=v*ir,gt+=v*Et,yt+=v*sr,ct+=v*or,it+=v*er,et+=v*Qt,Xe+=v*$t,Ze+=v*ar,qe+=v*ur,vt+=v*cr,bt+=v*fr,v=he[4],pt+=v*qt,At+=v*Zt,Kt+=v*Jt,Xt+=v*jt,_t+=v*nr,gt+=v*ir,yt+=v*Et,ct+=v*sr,it+=v*or,et+=v*er,Xe+=v*Qt,Ze+=v*$t,qe+=v*ar,vt+=v*ur,bt+=v*cr,St+=v*fr,v=he[5],At+=v*qt,Kt+=v*Zt,Xt+=v*Jt,_t+=v*jt,gt+=v*nr,yt+=v*ir,ct+=v*Et,it+=v*sr,et+=v*or,Xe+=v*er,Ze+=v*Qt,qe+=v*$t,vt+=v*ar,bt+=v*ur,St+=v*cr,It+=v*fr,v=he[6],Kt+=v*qt,Xt+=v*Zt,_t+=v*Jt,gt+=v*jt,yt+=v*nr,ct+=v*ir,it+=v*Et,et+=v*sr,Xe+=v*or,Ze+=v*er,qe+=v*Qt,vt+=v*$t,bt+=v*ar,St+=v*ur,It+=v*cr,Ot+=v*fr,v=he[7],Xt+=v*qt,_t+=v*Zt,gt+=v*Jt,yt+=v*jt,ct+=v*nr,it+=v*ir,et+=v*Et,Xe+=v*sr,Ze+=v*or,qe+=v*er,vt+=v*Qt,bt+=v*$t,St+=v*ar,It+=v*ur,Ot+=v*cr,Ct+=v*fr,v=he[8],_t+=v*qt,gt+=v*Zt,yt+=v*Jt,ct+=v*jt,it+=v*nr,et+=v*ir,Xe+=v*Et,Ze+=v*sr,qe+=v*or,vt+=v*er,bt+=v*Qt,St+=v*$t,It+=v*ar,Ot+=v*ur,Ct+=v*cr,Nt+=v*fr,v=he[9],gt+=v*qt,yt+=v*Zt,ct+=v*Jt,it+=v*jt,et+=v*nr,Xe+=v*ir,Ze+=v*Et,qe+=v*sr,vt+=v*or,bt+=v*er,St+=v*Qt,It+=v*$t,Ot+=v*ar,Ct+=v*ur,Nt+=v*cr,Rr+=v*fr,v=he[10],yt+=v*qt,ct+=v*Zt,it+=v*Jt,et+=v*jt,Xe+=v*nr,Ze+=v*ir,qe+=v*Et,vt+=v*sr,bt+=v*or,St+=v*er,It+=v*Qt,Ot+=v*$t,Ct+=v*ar,Nt+=v*ur,Rr+=v*cr,Sr+=v*fr,v=he[11],ct+=v*qt,it+=v*Zt,et+=v*Jt,Xe+=v*jt,Ze+=v*nr,qe+=v*ir,vt+=v*Et,bt+=v*sr,St+=v*or,It+=v*er,Ot+=v*Qt,Ct+=v*$t,Nt+=v*ar,Rr+=v*ur,Sr+=v*cr,ln+=v*fr,v=he[12],it+=v*qt,et+=v*Zt,Xe+=v*Jt,Ze+=v*jt,qe+=v*nr,vt+=v*ir,bt+=v*Et,St+=v*sr,It+=v*or,Ot+=v*er,Ct+=v*Qt,Nt+=v*$t,Rr+=v*ar,Sr+=v*ur,ln+=v*cr,Tn+=v*fr,v=he[13],et+=v*qt,Xe+=v*Zt,Ze+=v*Jt,qe+=v*jt,vt+=v*nr,bt+=v*ir,St+=v*Et,It+=v*sr,Ot+=v*or,Ct+=v*er,Nt+=v*Qt,Rr+=v*$t,Sr+=v*ar,ln+=v*ur,Tn+=v*cr,Kn+=v*fr,v=he[14],Xe+=v*qt,Ze+=v*Zt,qe+=v*Jt,vt+=v*jt,bt+=v*nr,St+=v*ir,It+=v*Et,Ot+=v*sr,Ct+=v*or,Nt+=v*er,Rr+=v*Qt,Sr+=v*$t,ln+=v*ar,Tn+=v*ur,Kn+=v*cr,Nn+=v*fr,v=he[15],Ze+=v*qt,qe+=v*Zt,vt+=v*Jt,bt+=v*jt,St+=v*nr,It+=v*ir,Ot+=v*Et,Ct+=v*sr,Nt+=v*or,Rr+=v*er,Sr+=v*Qt,ln+=v*$t,Tn+=v*ar,Kn+=v*ur,Nn+=v*cr,wn+=v*fr,Ae+=38*qe,He+=38*vt,ut+=38*bt,Pt+=38*St,pt+=38*It,At+=38*Ot,Kt+=38*Ct,Xt+=38*Nt,_t+=38*Rr,gt+=38*Sr,yt+=38*ln,ct+=38*Tn,it+=38*Kn,et+=38*Nn,Xe+=38*wn,G=1,v=Ae+G+65535,G=Math.floor(v/65536),Ae=v-65536*G,v=He+G+65535,G=Math.floor(v/65536),He=v-65536*G,v=ut+G+65535,G=Math.floor(v/65536),ut=v-65536*G,v=Pt+G+65535,G=Math.floor(v/65536),Pt=v-65536*G,v=pt+G+65535,G=Math.floor(v/65536),pt=v-65536*G,v=At+G+65535,G=Math.floor(v/65536),At=v-65536*G,v=Kt+G+65535,G=Math.floor(v/65536),Kt=v-65536*G,v=Xt+G+65535,G=Math.floor(v/65536),Xt=v-65536*G,v=_t+G+65535,G=Math.floor(v/65536),_t=v-65536*G,v=gt+G+65535,G=Math.floor(v/65536),gt=v-65536*G,v=yt+G+65535,G=Math.floor(v/65536),yt=v-65536*G,v=ct+G+65535,G=Math.floor(v/65536),ct=v-65536*G,v=it+G+65535,G=Math.floor(v/65536),it=v-65536*G,v=et+G+65535,G=Math.floor(v/65536),et=v-65536*G,v=Xe+G+65535,G=Math.floor(v/65536),Xe=v-65536*G,v=Ze+G+65535,G=Math.floor(v/65536),Ze=v-65536*G,Ae+=G-1+37*(G-1),G=1,v=Ae+G+65535,G=Math.floor(v/65536),Ae=v-65536*G,v=He+G+65535,G=Math.floor(v/65536),He=v-65536*G,v=ut+G+65535,G=Math.floor(v/65536),ut=v-65536*G,v=Pt+G+65535,G=Math.floor(v/65536),Pt=v-65536*G,v=pt+G+65535,G=Math.floor(v/65536),pt=v-65536*G,v=At+G+65535,G=Math.floor(v/65536),At=v-65536*G,v=Kt+G+65535,G=Math.floor(v/65536),Kt=v-65536*G,v=Xt+G+65535,G=Math.floor(v/65536),Xt=v-65536*G,v=_t+G+65535,G=Math.floor(v/65536),_t=v-65536*G,v=gt+G+65535,G=Math.floor(v/65536),gt=v-65536*G,v=yt+G+65535,G=Math.floor(v/65536),yt=v-65536*G,v=ct+G+65535,G=Math.floor(v/65536),ct=v-65536*G,v=it+G+65535,G=Math.floor(v/65536),it=v-65536*G,v=et+G+65535,G=Math.floor(v/65536),et=v-65536*G,v=Xe+G+65535,G=Math.floor(v/65536),Xe=v-65536*G,v=Ze+G+65535,G=Math.floor(v/65536),Ze=v-65536*G,Ae+=G-1+37*(G-1),ce[0]=Ae,ce[1]=He,ce[2]=ut,ce[3]=Pt,ce[4]=pt,ce[5]=At,ce[6]=Kt,ce[7]=Xt,ce[8]=_t,ce[9]=gt,ce[10]=yt,ce[11]=ct,ce[12]=it,ce[13]=et,ce[14]=Xe,ce[15]=Ze}function l(ce,he){p(ce,he,he)}function S(ce,he){const J=$(),v=$(),G=$(),Ae=$(),He=$(),ut=$(),Pt=$(),pt=$(),At=$();M(J,ce[1],ce[0]),M(At,he[1],he[0]),p(J,J,At),Z(v,ce[0],ce[1]),Z(At,he[0],he[1]),p(v,v,At),p(G,ce[3],he[3]),p(G,G,U),p(Ae,ce[2],he[2]),Z(Ae,Ae,Ae),M(He,v,J),M(ut,Ae,G),Z(Pt,Ae,G),Z(pt,v,J),p(ce[0],He,ut),p(ce[1],pt,Pt),p(ce[2],Pt,ut),p(ce[3],He,pt)}function b(ce,he,J){for(let v=0;v<4;v++)P(ce[v],he[v],J)}function d(ce,he){const J=$(),v=$(),G=$();(function _(ce,he){const J=$();let v;for(v=0;v<16;v++)J[v]=he[v];for(v=253;v>=0;v--)l(J,J),2!==v&&4!==v&&p(J,J,he);for(v=0;v<16;v++)ce[v]=J[v]})(G,he[2]),p(J,he[0],G),p(v,he[1],G),be(ce,v),ce[31]^=le(J)<<7}function A(ce,he){const J=[$(),$(),$(),$()];fe(J[0],oe),fe(J[1],ye),fe(J[2],L),p(J[3],oe,ye),function x(ce,he,J){fe(ce[0],j),fe(ce[1],L),fe(ce[2],L),fe(ce[3],j);for(let v=255;v>=0;--v){const G=J[v/8|0]>>(7&v)&1;b(ce,he,G),S(he,ce),S(ce,ce),b(ce,he,G)}}(ce,J,he)}g._w=function N(ce){if(ce.length!==g.aP)throw new Error(`ed25519: seed must be ${g.aP} bytes`);const he=(0,re.hash)(ce);he[0]&=248,he[31]&=127,he[31]|=64;const J=new Uint8Array(32),v=[$(),$(),$(),$()];A(v,he),d(J,v);const G=new Uint8Array(64);return G.set(ce),G.set(J,32),{publicKey:J,secretKey:G}};const ue=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function W(ce,he){let J,v,G,Ae;for(v=63;v>=32;--v){for(J=0,G=v-32,Ae=v-12;G<Ae;++G)he[G]+=J-16*he[v]*ue[G-(v-32)],J=Math.floor((he[G]+128)/256),he[G]-=256*J;he[G]+=J,he[v]=0}for(J=0,G=0;G<32;G++)he[G]+=J-(he[31]>>4)*ue[G],J=he[G]>>8,he[G]&=255;for(G=0;G<32;G++)he[G]-=J*ue[G];for(v=0;v<32;v++)he[v+1]+=he[v]>>8,ce[v]=255&he[v]}function Re(ce){const he=new Float64Array(64);for(let J=0;J<64;J++)he[J]=ce[J];for(let J=0;J<64;J++)ce[J]=0;W(ce,he)}g.Xx=function me(ce,he){const J=new Float64Array(64),v=[$(),$(),$(),$()],G=(0,re.hash)(ce.subarray(0,32));G[0]&=248,G[31]&=127,G[31]|=64;const Ae=new Uint8Array(64);Ae.set(G.subarray(32),32);const He=new re.SHA512;He.update(Ae.subarray(32)),He.update(he);const ut=He.digest();He.clean(),Re(ut),A(v,ut),d(Ae,v),He.reset(),He.update(Ae.subarray(0,32)),He.update(ce.subarray(32)),He.update(he);const Pt=He.digest();Re(Pt);for(let pt=0;pt<32;pt++)J[pt]=ut[pt];for(let pt=0;pt<32;pt++)for(let At=0;At<32;At++)J[pt+At]+=Pt[pt]*G[At];return W(Ae.subarray(32),J),Ae}},22266:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.isSerializableHash=function D(O){return typeof O.saveState<"u"&&typeof O.restoreState<"u"&&typeof O.cleanSavedState<"u"}},37651:(Pe,g,D)=>{"use strict";var te=D(56283),re=D(91897),ae=function(){function $(k,j,L,T){void 0===L&&(L=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=k,this._info=T;var U=te.hmac(this._hash,L,j);this._hmac=new te.HMAC(k,U),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return $.prototype._fillBuffer=function(){this._counter[0]++;var k=this._counter[0];if(0===k)throw new Error("hkdf: cannot expand more");this._hmac.reset(),k>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},$.prototype.expand=function(k){for(var j=new Uint8Array(k),L=0;L<j.length;L++)this._bufpos===this._buffer.length&&this._fillBuffer(),j[L]=this._buffer[this._bufpos++];return j},$.prototype.clean=function(){this._hmac.clean(),re.wipe(this._buffer),re.wipe(this._counter),this._bufpos=0},$}();g.t=ae},56283:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var O=D(22266),te=D(3054),re=D(91897),ae=function(){function k(j,L){this._finished=!1,this._inner=new j,this._outer=new j,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var T=new Uint8Array(this.blockSize);L.length>this.blockSize?this._inner.update(L).finish(T).clean():T.set(L);for(var U=0;U<T.length;U++)T[U]^=54;for(this._inner.update(T),U=0;U<T.length;U++)T[U]^=106;this._outer.update(T),O.isSerializableHash(this._inner)&&O.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),re.wipe(T)}return k.prototype.reset=function(){if(!O.isSerializableHash(this._inner)||!O.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},k.prototype.clean=function(){O.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),O.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},k.prototype.update=function(j){return this._inner.update(j),this},k.prototype.finish=function(j){return this._finished?(this._outer.finish(j),this):(this._inner.finish(j),this._outer.update(j.subarray(0,this.digestLength)).finish(j),this._finished=!0,this)},k.prototype.digest=function(){var j=new Uint8Array(this.digestLength);return this.finish(j),j},k.prototype.saveState=function(){if(!O.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},k.prototype.restoreState=function(j){if(!O.isSerializableHash(this._inner)||!O.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(j),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},k.prototype.cleanSavedState=function(j){if(!O.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(j)},k}();g.HMAC=ae,g.hmac=function $(k,j,L){var T=new ae(k,j);T.update(L);var U=T.digest();return T.clean(),U},g.equal=te.equal},94846:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.mul=Math.imul||function D(k,j){var T=65535&k,oe=65535&j;return T*oe+((k>>>16&65535)*oe+T*(j>>>16&65535)<<16>>>0)|0},g.add=function O(k,j){return k+j|0},g.sub=function te(k,j){return k-j|0},g.rotl=function re(k,j){return k<<j|k>>>32-j},g.rotr=function ae(k,j){return k<<32-j|k>>>j},g.isInteger=Number.isInteger||function $(k){return"number"==typeof k&&isFinite(k)&&Math.floor(k)===k},g.MAX_SAFE_INTEGER=9007199254740991,g.isSafeInteger=function(k){return g.isInteger(k)&&k>=-g.MAX_SAFE_INTEGER&&k<=g.MAX_SAFE_INTEGER}},37852:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var O=D(3054),te=D(91897);g.DIGEST_LENGTH=16;var re=function(){function k(j){this.digestLength=g.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var L=j[0]|j[1]<<8;this._r[0]=8191&L;var T=j[2]|j[3]<<8;this._r[1]=8191&(L>>>13|T<<3);var U=j[4]|j[5]<<8;this._r[2]=7939&(T>>>10|U<<6);var oe=j[6]|j[7]<<8;this._r[3]=8191&(U>>>7|oe<<9);var ye=j[8]|j[9]<<8;this._r[4]=255&(oe>>>4|ye<<12),this._r[5]=ye>>>1&8190;var ne=j[10]|j[11]<<8;this._r[6]=8191&(ye>>>14|ne<<2);var fe=j[12]|j[13]<<8;this._r[7]=8065&(ne>>>11|fe<<5);var xe=j[14]|j[15]<<8;this._r[8]=8191&(fe>>>8|xe<<8),this._r[9]=xe>>>5&127,this._pad[0]=j[16]|j[17]<<8,this._pad[1]=j[18]|j[19]<<8,this._pad[2]=j[20]|j[21]<<8,this._pad[3]=j[22]|j[23]<<8,this._pad[4]=j[24]|j[25]<<8,this._pad[5]=j[26]|j[27]<<8,this._pad[6]=j[28]|j[29]<<8,this._pad[7]=j[30]|j[31]<<8}return k.prototype._blocks=function(j,L,T){for(var U=this._fin?0:2048,oe=this._h[0],ye=this._h[1],ne=this._h[2],fe=this._h[3],xe=this._h[4],P=this._h[5],be=this._h[6],X=this._h[7],ge=this._h[8],le=this._h[9],H=this._r[0],Z=this._r[1],M=this._r[2],p=this._r[3],l=this._r[4],_=this._r[5],m=this._r[6],S=this._r[7],b=this._r[8],d=this._r[9];T>=16;){var x=j[L+0]|j[L+1]<<8,A=j[L+2]|j[L+3]<<8,N=j[L+4]|j[L+5]<<8,E=j[L+6]|j[L+7]<<8,K=j[L+8]|j[L+9]<<8,ue=j[L+10]|j[L+11]<<8,W=j[L+12]|j[L+13]<<8,Re=j[L+14]|j[L+15]<<8,me=0,Se=me;Se+=(oe+=8191&x)*H,Se+=(ye+=8191&(x>>>13|A<<3))*(5*d),Se+=(ne+=8191&(A>>>10|N<<6))*(5*b),Se+=(fe+=8191&(N>>>7|E<<9))*(5*S),me=(Se+=(xe+=8191&(E>>>4|K<<12))*(5*m))>>>13,Se&=8191,Se+=(P+=K>>>1&8191)*(5*_),Se+=(be+=8191&(K>>>14|ue<<2))*(5*l),Se+=(X+=8191&(ue>>>11|W<<5))*(5*p),Se+=(ge+=8191&(W>>>8|Re<<8))*(5*M);var Ue=me+=(Se+=(le+=Re>>>5|U)*(5*Z))>>>13;Ue+=oe*Z,Ue+=ye*H,Ue+=ne*(5*d),Ue+=fe*(5*b),me=(Ue+=xe*(5*S))>>>13,Ue&=8191,Ue+=P*(5*m),Ue+=be*(5*_),Ue+=X*(5*l),Ue+=ge*(5*p),me+=(Ue+=le*(5*M))>>>13,Ue&=8191;var Le=me;Le+=oe*M,Le+=ye*Z,Le+=ne*H,Le+=fe*(5*d),me=(Le+=xe*(5*b))>>>13,Le&=8191,Le+=P*(5*S),Le+=be*(5*m),Le+=X*(5*_),Le+=ge*(5*l);var Me=me+=(Le+=le*(5*p))>>>13;Me+=oe*p,Me+=ye*M,Me+=ne*Z,Me+=fe*H,me=(Me+=xe*(5*d))>>>13,Me&=8191,Me+=P*(5*b),Me+=be*(5*S),Me+=X*(5*m),Me+=ge*(5*_);var ce=me+=(Me+=le*(5*l))>>>13;ce+=oe*l,ce+=ye*p,ce+=ne*M,ce+=fe*Z,me=(ce+=xe*H)>>>13,ce&=8191,ce+=P*(5*d),ce+=be*(5*b),ce+=X*(5*S),ce+=ge*(5*m);var he=me+=(ce+=le*(5*_))>>>13;he+=oe*_,he+=ye*l,he+=ne*p,he+=fe*M,me=(he+=xe*Z)>>>13,he&=8191,he+=P*H,he+=be*(5*d),he+=X*(5*b),he+=ge*(5*S);var J=me+=(he+=le*(5*m))>>>13;J+=oe*m,J+=ye*_,J+=ne*l,J+=fe*p,me=(J+=xe*M)>>>13,J&=8191,J+=P*Z,J+=be*H,J+=X*(5*d),J+=ge*(5*b);var v=me+=(J+=le*(5*S))>>>13;v+=oe*S,v+=ye*m,v+=ne*_,v+=fe*l,me=(v+=xe*p)>>>13,v&=8191,v+=P*M,v+=be*Z,v+=X*H,v+=ge*(5*d);var G=me+=(v+=le*(5*b))>>>13;G+=oe*b,G+=ye*S,G+=ne*m,G+=fe*_,me=(G+=xe*l)>>>13,G&=8191,G+=P*p,G+=be*M,G+=X*Z,G+=ge*H;var Ae=me+=(G+=le*(5*d))>>>13;Ae+=oe*d,Ae+=ye*b,Ae+=ne*S,Ae+=fe*m,me=(Ae+=xe*_)>>>13,Ae&=8191,Ae+=P*l,Ae+=be*p,Ae+=X*M,Ae+=ge*Z,oe=Se=8191&(me=(me=((me+=(Ae+=le*H)>>>13)<<2)+me|0)+(Se&=8191)|0),ye=Ue+=me>>>=13,ne=Le&=8191,fe=Me&=8191,xe=ce&=8191,P=he&=8191,be=J&=8191,X=v&=8191,ge=G&=8191,le=Ae&=8191,L+=16,T-=16}this._h[0]=oe,this._h[1]=ye,this._h[2]=ne,this._h[3]=fe,this._h[4]=xe,this._h[5]=P,this._h[6]=be,this._h[7]=X,this._h[8]=ge,this._h[9]=le},k.prototype.finish=function(j,L){void 0===L&&(L=0);var U,oe,ye,ne,T=new Uint16Array(10);if(this._leftover){for(ne=this._leftover,this._buffer[ne++]=1;ne<16;ne++)this._buffer[ne]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(U=this._h[1]>>>13,this._h[1]&=8191,ne=2;ne<10;ne++)this._h[ne]+=U,U=this._h[ne]>>>13,this._h[ne]&=8191;for(this._h[0]+=5*U,U=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=U,U=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=U,T[0]=this._h[0]+5,U=T[0]>>>13,T[0]&=8191,ne=1;ne<10;ne++)T[ne]=this._h[ne]+U,U=T[ne]>>>13,T[ne]&=8191;for(T[9]-=8192,oe=(1^U)-1,ne=0;ne<10;ne++)T[ne]&=oe;for(oe=~oe,ne=0;ne<10;ne++)this._h[ne]=this._h[ne]&oe|T[ne];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),this._h[0]=65535&(ye=this._h[0]+this._pad[0]),ne=1;ne<8;ne++)this._h[ne]=65535&(ye=(this._h[ne]+this._pad[ne]|0)+(ye>>>16)|0);return j[L+0]=this._h[0]>>>0,j[L+1]=this._h[0]>>>8,j[L+2]=this._h[1]>>>0,j[L+3]=this._h[1]>>>8,j[L+4]=this._h[2]>>>0,j[L+5]=this._h[2]>>>8,j[L+6]=this._h[3]>>>0,j[L+7]=this._h[3]>>>8,j[L+8]=this._h[4]>>>0,j[L+9]=this._h[4]>>>8,j[L+10]=this._h[5]>>>0,j[L+11]=this._h[5]>>>8,j[L+12]=this._h[6]>>>0,j[L+13]=this._h[6]>>>8,j[L+14]=this._h[7]>>>0,j[L+15]=this._h[7]>>>8,this._finished=!0,this},k.prototype.update=function(j){var U,L=0,T=j.length;if(this._leftover){(U=16-this._leftover)>T&&(U=T);for(var oe=0;oe<U;oe++)this._buffer[this._leftover+oe]=j[L+oe];if(T-=U,L+=U,this._leftover+=U,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(T>=16&&(this._blocks(j,L,U=T-T%16),L+=U,T-=U),T){for(oe=0;oe<T;oe++)this._buffer[this._leftover+oe]=j[L+oe];this._leftover+=T}return this},k.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var j=new Uint8Array(16);return this.finish(j),j},k.prototype.clean=function(){return te.wipe(this._buffer),te.wipe(this._r),te.wipe(this._h),te.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},k}();g.Poly1305=re,g.oneTimeAuth=function ae(k,j){var L=new re(k);L.update(j);var T=L.digest();return L.clean(),T},g.equal=function $(k,j){return k.length===g.DIGEST_LENGTH&&j.length===g.DIGEST_LENGTH&&O.equal(k,j)}},52632:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.randomStringForEntropy=g.randomString=g.randomUint32=g.randomBytes=g.defaultRandomSource=void 0;const O=D(88920),te=D(67083),re=D(91897);function ae(T,U=g.defaultRandomSource){return U.randomBytes(T)}g.defaultRandomSource=new O.SystemRandomSource,g.randomBytes=ae,g.randomUint32=function $(T=g.defaultRandomSource){const U=ae(4,T),oe=(0,te.readUint32LE)(U);return(0,re.wipe)(U),oe};const k="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function j(T,U=k,oe=g.defaultRandomSource){if(U.length<2)throw new Error("randomString charset is too short");if(U.length>256)throw new Error("randomString charset is too long");let ye="";const ne=U.length,fe=256-256%ne;for(;T>0;){const xe=ae(Math.ceil(256*T/fe),oe);for(let P=0;P<xe.length&&T>0;P++){const be=xe[P];be<fe&&(ye+=U.charAt(be%ne),T--)}(0,re.wipe)(xe)}return ye}g.randomString=j,g.randomStringForEntropy=function L(T,U=k,oe=g.defaultRandomSource){return j(Math.ceil(T/(Math.log(U.length)/Math.LN2)),U,oe)}},65695:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.BrowserRandomSource=void 0,g.BrowserRandomSource=class O{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const re=typeof self<"u"?self.crypto||self.msCrypto:null;re&&void 0!==re.getRandomValues&&(this._crypto=re,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(re){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const ae=new Uint8Array(re);for(let $=0;$<ae.length;$+=65536)this._crypto.getRandomValues(ae.subarray($,$+Math.min(ae.length-$,65536)));return ae}}},49398:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.NodeRandomSource=void 0;const O=D(91897);g.NodeRandomSource=class te{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const ae=D(19726);ae&&ae.randomBytes&&(this._crypto=ae,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(ae){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let $=this._crypto.randomBytes(ae);if($.length!==ae)throw new Error("NodeRandomSource: got fewer bytes than requested");const k=new Uint8Array(ae);for(let j=0;j<k.length;j++)k[j]=$[j];return(0,O.wipe)($),k}}},88920:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.SystemRandomSource=void 0;const O=D(65695),te=D(49398);g.SystemRandomSource=class re{constructor(){return this.isAvailable=!1,this.name="",this._source=new O.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new te.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes($){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes($)}}},41027:(Pe,g,D)=>{"use strict";var te=D(67083),re=D(91897);g.k=32,g.cn=64;var ae=function(){function L(){this.digestLength=g.k,this.blockSize=g.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return L.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},L.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},L.prototype.clean=function(){re.wipe(this._buffer),re.wipe(this._temp),this.reset()},L.prototype.update=function(T,U){if(void 0===U&&(U=T.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var oe=0;if(this._bytesHashed+=U,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&U>0;)this._buffer[this._bufferLength++]=T[oe++],U--;this._bufferLength===this.blockSize&&(k(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(U>=this.blockSize&&(oe=k(this._temp,this._state,T,oe,U),U%=this.blockSize);U>0;)this._buffer[this._bufferLength++]=T[oe++],U--;return this},L.prototype.finish=function(T){if(!this._finished){var U=this._bytesHashed,oe=this._bufferLength,ye=U/536870912|0,ne=U<<3,fe=U%64<56?64:128;this._buffer[oe]=128;for(var xe=oe+1;xe<fe-8;xe++)this._buffer[xe]=0;te.writeUint32BE(ye,this._buffer,fe-8),te.writeUint32BE(ne,this._buffer,fe-4),k(this._temp,this._state,this._buffer,0,fe),this._finished=!0}for(xe=0;xe<this.digestLength/4;xe++)te.writeUint32BE(this._state[xe],T,4*xe);return this},L.prototype.digest=function(){var T=new Uint8Array(this.digestLength);return this.finish(T),T},L.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},L.prototype.restoreState=function(T){return this._state.set(T.state),this._bufferLength=T.bufferLength,T.buffer&&this._buffer.set(T.buffer),this._bytesHashed=T.bytesHashed,this._finished=!1,this},L.prototype.cleanSavedState=function(T){re.wipe(T.state),T.buffer&&re.wipe(T.buffer),T.bufferLength=0,T.bytesHashed=0},L}();g.mE=ae;var $=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function k(L,T,U,oe,ye){for(;ye>=64;){for(var ne=T[0],fe=T[1],xe=T[2],P=T[3],be=T[4],X=T[5],ge=T[6],le=T[7],H=0;H<16;H++)L[H]=te.readUint32BE(U,oe+4*H);for(H=16;H<64;H++){var M=L[H-2];L[H]=((p=(M>>>17|M<<15)^(M>>>19|M<<13)^M>>>10)+L[H-7]|0)+((l=((M=L[H-15])>>>7|M<<25)^(M>>>18|M<<14)^M>>>3)+L[H-16]|0)}for(H=0;H<64;H++){var p=(((be>>>6|be<<26)^(be>>>11|be<<21)^(be>>>25|be<<7))+(be&X^~be&ge)|0)+(le+($[H]+L[H]|0)|0)|0,l=((ne>>>2|ne<<30)^(ne>>>13|ne<<19)^(ne>>>22|ne<<10))+(ne&fe^ne&xe^fe&xe)|0;le=ge,ge=X,X=be,be=P+p|0,P=xe,xe=fe,fe=ne,ne=p+l|0}T[0]+=ne,T[1]+=fe,T[2]+=xe,T[3]+=P,T[4]+=be,T[5]+=X,T[6]+=ge,T[7]+=le,oe+=64,ye-=64}return oe}g.vp=function j(L){var T=new ae;T.update(L);var U=T.digest();return T.clean(),U}},16:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var O=D(67083),te=D(91897);g.DIGEST_LENGTH=64,g.BLOCK_SIZE=128;var re=function(){function j(){this.digestLength=g.DIGEST_LENGTH,this.blockSize=g.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return j.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},j.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},j.prototype.clean=function(){te.wipe(this._buffer),te.wipe(this._tempHi),te.wipe(this._tempLo),this.reset()},j.prototype.update=function(L,T){if(void 0===T&&(T=L.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var U=0;if(this._bytesHashed+=T,this._bufferLength>0){for(;this._bufferLength<g.BLOCK_SIZE&&T>0;)this._buffer[this._bufferLength++]=L[U++],T--;this._bufferLength===this.blockSize&&($(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(T>=this.blockSize&&(U=$(this._tempHi,this._tempLo,this._stateHi,this._stateLo,L,U,T),T%=this.blockSize);T>0;)this._buffer[this._bufferLength++]=L[U++],T--;return this},j.prototype.finish=function(L){if(!this._finished){var T=this._bytesHashed,U=this._bufferLength,oe=T/536870912|0,ye=T<<3,ne=T%128<112?128:256;this._buffer[U]=128;for(var fe=U+1;fe<ne-8;fe++)this._buffer[fe]=0;O.writeUint32BE(oe,this._buffer,ne-8),O.writeUint32BE(ye,this._buffer,ne-4),$(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,ne),this._finished=!0}for(fe=0;fe<this.digestLength/8;fe++)O.writeUint32BE(this._stateHi[fe],L,8*fe),O.writeUint32BE(this._stateLo[fe],L,8*fe+4);return this},j.prototype.digest=function(){var L=new Uint8Array(this.digestLength);return this.finish(L),L},j.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},j.prototype.restoreState=function(L){return this._stateHi.set(L.stateHi),this._stateLo.set(L.stateLo),this._bufferLength=L.bufferLength,L.buffer&&this._buffer.set(L.buffer),this._bytesHashed=L.bytesHashed,this._finished=!1,this},j.prototype.cleanSavedState=function(L){te.wipe(L.stateHi),te.wipe(L.stateLo),L.buffer&&te.wipe(L.buffer),L.bufferLength=0,L.bytesHashed=0},j}();g.SHA512=re;var ae=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function $(j,L,T,U,oe,ye,ne){for(var d,x,A,N,E,K,ue,W,fe=T[0],xe=T[1],P=T[2],be=T[3],X=T[4],ge=T[5],le=T[6],H=T[7],Z=U[0],M=U[1],p=U[2],l=U[3],_=U[4],m=U[5],S=U[6],b=U[7];ne>=128;){for(var Re=0;Re<16;Re++)j[Re]=O.readUint32BE(oe,me=8*Re+ye),L[Re]=O.readUint32BE(oe,me+4);for(Re=0;Re<80;Re++){var v,Kt,Ue=xe,Le=P,Me=be,ce=X,he=ge,J=le,Ae=M,He=p,ut=l,Pt=_,pt=m,At=S;if(E=65535&(x=b),K=x>>>16,ue=65535&(d=H),W=d>>>16,E+=65535&(x=(_>>>14|X<<18)^(_>>>18|X<<14)^(X>>>9|_<<23)),K+=x>>>16,ue+=65535&(d=(X>>>14|_<<18)^(X>>>18|_<<14)^(_>>>9|X<<23)),W+=d>>>16,E+=65535&(x=_&m^~_&S),K+=x>>>16,ue+=65535&(d=X&ge^~X&le),W+=d>>>16,E+=65535&(x=ae[2*Re+1]),K+=x>>>16,ue+=65535&(d=ae[2*Re]),W+=d>>>16,K+=(x=L[Re%16])>>>16,ue+=65535&(d=j[Re%16]),W+=d>>>16,ue+=(K+=(E+=65535&x)>>>16)>>>16,E=65535&(x=N=65535&E|K<<16),K=x>>>16,ue=65535&(d=A=65535&ue|(W+=ue>>>16)<<16),W=d>>>16,E+=65535&(x=(Z>>>28|fe<<4)^(fe>>>2|Z<<30)^(fe>>>7|Z<<25)),K+=x>>>16,ue+=65535&(d=(fe>>>28|Z<<4)^(Z>>>2|fe<<30)^(Z>>>7|fe<<25)),W+=d>>>16,K+=(x=Z&M^Z&p^M&p)>>>16,ue+=65535&(d=fe&xe^fe&P^xe&P),W+=d>>>16,v=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,Kt=65535&E|K<<16,E=65535&(x=ut),K=x>>>16,ue=65535&(d=Me),W=d>>>16,K+=(x=N)>>>16,ue+=65535&(d=A),W+=d>>>16,xe=fe,P=Ue,be=Le,X=Me=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,ge=ce,le=he,H=J,fe=v,M=Z,p=Ae,l=He,_=ut=65535&E|K<<16,m=Pt,S=pt,b=At,Z=Kt,Re%16==15)for(var me=0;me<16;me++)E=65535&(x=L[me]),K=x>>>16,ue=65535&(d=j[me]),W=d>>>16,E+=65535&(x=L[(me+9)%16]),K+=x>>>16,ue+=65535&(d=j[(me+9)%16]),W+=d>>>16,E+=65535&(x=((N=L[(me+1)%16])>>>1|(A=j[(me+1)%16])<<31)^(N>>>8|A<<24)^(N>>>7|A<<25)),K+=x>>>16,ue+=65535&(d=(A>>>1|N<<31)^(A>>>8|N<<24)^A>>>7),W+=d>>>16,K+=(x=((N=L[(me+14)%16])>>>19|(A=j[(me+14)%16])<<13)^(A>>>29|N<<3)^(N>>>6|A<<26))>>>16,ue+=65535&(d=(A>>>19|N<<13)^(N>>>29|A<<3)^A>>>6),W+=d>>>16,j[me]=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,L[me]=65535&E|K<<16}E=65535&(x=Z),K=x>>>16,ue=65535&(d=fe),W=d>>>16,K+=(x=U[0])>>>16,ue+=65535&(d=T[0]),W+=d>>>16,T[0]=fe=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,U[0]=Z=65535&E|K<<16,E=65535&(x=M),K=x>>>16,ue=65535&(d=xe),W=d>>>16,K+=(x=U[1])>>>16,ue+=65535&(d=T[1]),W+=d>>>16,T[1]=xe=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,U[1]=M=65535&E|K<<16,E=65535&(x=p),K=x>>>16,ue=65535&(d=P),W=d>>>16,K+=(x=U[2])>>>16,ue+=65535&(d=T[2]),W+=d>>>16,T[2]=P=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,U[2]=p=65535&E|K<<16,E=65535&(x=l),K=x>>>16,ue=65535&(d=be),W=d>>>16,K+=(x=U[3])>>>16,ue+=65535&(d=T[3]),W+=d>>>16,T[3]=be=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,U[3]=l=65535&E|K<<16,E=65535&(x=_),K=x>>>16,ue=65535&(d=X),W=d>>>16,K+=(x=U[4])>>>16,ue+=65535&(d=T[4]),W+=d>>>16,T[4]=X=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,U[4]=_=65535&E|K<<16,E=65535&(x=m),K=x>>>16,ue=65535&(d=ge),W=d>>>16,K+=(x=U[5])>>>16,ue+=65535&(d=T[5]),W+=d>>>16,T[5]=ge=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,U[5]=m=65535&E|K<<16,E=65535&(x=S),K=x>>>16,ue=65535&(d=le),W=d>>>16,K+=(x=U[6])>>>16,ue+=65535&(d=T[6]),W+=d>>>16,T[6]=le=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,U[6]=S=65535&E|K<<16,E=65535&(x=b),K=x>>>16,ue=65535&(d=H),W=d>>>16,K+=(x=U[7])>>>16,ue+=65535&(d=T[7]),W+=d>>>16,T[7]=H=65535&(ue+=(K+=(E+=65535&x)>>>16)>>>16)|(W+=ue>>>16)<<16,U[7]=b=65535&E|K<<16,ye+=128,ne-=128}return ye}g.hash=function k(j){var L=new re;L.update(j);var T=L.digest();return L.clean(),T}},91897:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.wipe=function D(O){for(var te=0;te<O.length;te++)O[te]=0;return O}},72180:(Pe,g,D)=>{"use strict";g.gi=g.Au=g.KS=g.kz=void 0;const te=D(52632),re=D(91897);function ae(H){const Z=new Float64Array(16);if(H)for(let M=0;M<H.length;M++)Z[M]=H[M];return Z}g.kz=32,g.KS=32;const $=new Uint8Array(32);$[0]=9;const k=ae([56129,1]);function j(H){let Z=1;for(let M=0;M<16;M++){let p=H[M]+Z+65535;Z=Math.floor(p/65536),H[M]=p-65536*Z}H[0]+=Z-1+37*(Z-1)}function L(H,Z,M){const p=~(M-1);for(let l=0;l<16;l++){const _=p&(H[l]^Z[l]);H[l]^=_,Z[l]^=_}}function oe(H,Z,M){for(let p=0;p<16;p++)H[p]=Z[p]+M[p]}function ye(H,Z,M){for(let p=0;p<16;p++)H[p]=Z[p]-M[p]}function ne(H,Z,M){let p,l,_=0,m=0,S=0,b=0,d=0,x=0,A=0,N=0,E=0,K=0,ue=0,W=0,Re=0,me=0,Se=0,Ue=0,Le=0,Me=0,ce=0,he=0,J=0,v=0,G=0,Ae=0,He=0,ut=0,Pt=0,pt=0,At=0,Kt=0,Xt=0,_t=M[0],gt=M[1],yt=M[2],ct=M[3],it=M[4],et=M[5],Xe=M[6],Ze=M[7],qe=M[8],vt=M[9],bt=M[10],St=M[11],It=M[12],Ot=M[13],Ct=M[14],Nt=M[15];p=Z[0],_+=p*_t,m+=p*gt,S+=p*yt,b+=p*ct,d+=p*it,x+=p*et,A+=p*Xe,N+=p*Ze,E+=p*qe,K+=p*vt,ue+=p*bt,W+=p*St,Re+=p*It,me+=p*Ot,Se+=p*Ct,Ue+=p*Nt,p=Z[1],m+=p*_t,S+=p*gt,b+=p*yt,d+=p*ct,x+=p*it,A+=p*et,N+=p*Xe,E+=p*Ze,K+=p*qe,ue+=p*vt,W+=p*bt,Re+=p*St,me+=p*It,Se+=p*Ot,Ue+=p*Ct,Le+=p*Nt,p=Z[2],S+=p*_t,b+=p*gt,d+=p*yt,x+=p*ct,A+=p*it,N+=p*et,E+=p*Xe,K+=p*Ze,ue+=p*qe,W+=p*vt,Re+=p*bt,me+=p*St,Se+=p*It,Ue+=p*Ot,Le+=p*Ct,Me+=p*Nt,p=Z[3],b+=p*_t,d+=p*gt,x+=p*yt,A+=p*ct,N+=p*it,E+=p*et,K+=p*Xe,ue+=p*Ze,W+=p*qe,Re+=p*vt,me+=p*bt,Se+=p*St,Ue+=p*It,Le+=p*Ot,Me+=p*Ct,ce+=p*Nt,p=Z[4],d+=p*_t,x+=p*gt,A+=p*yt,N+=p*ct,E+=p*it,K+=p*et,ue+=p*Xe,W+=p*Ze,Re+=p*qe,me+=p*vt,Se+=p*bt,Ue+=p*St,Le+=p*It,Me+=p*Ot,ce+=p*Ct,he+=p*Nt,p=Z[5],x+=p*_t,A+=p*gt,N+=p*yt,E+=p*ct,K+=p*it,ue+=p*et,W+=p*Xe,Re+=p*Ze,me+=p*qe,Se+=p*vt,Ue+=p*bt,Le+=p*St,Me+=p*It,ce+=p*Ot,he+=p*Ct,J+=p*Nt,p=Z[6],A+=p*_t,N+=p*gt,E+=p*yt,K+=p*ct,ue+=p*it,W+=p*et,Re+=p*Xe,me+=p*Ze,Se+=p*qe,Ue+=p*vt,Le+=p*bt,Me+=p*St,ce+=p*It,he+=p*Ot,J+=p*Ct,v+=p*Nt,p=Z[7],N+=p*_t,E+=p*gt,K+=p*yt,ue+=p*ct,W+=p*it,Re+=p*et,me+=p*Xe,Se+=p*Ze,Ue+=p*qe,Le+=p*vt,Me+=p*bt,ce+=p*St,he+=p*It,J+=p*Ot,v+=p*Ct,G+=p*Nt,p=Z[8],E+=p*_t,K+=p*gt,ue+=p*yt,W+=p*ct,Re+=p*it,me+=p*et,Se+=p*Xe,Ue+=p*Ze,Le+=p*qe,Me+=p*vt,ce+=p*bt,he+=p*St,J+=p*It,v+=p*Ot,G+=p*Ct,Ae+=p*Nt,p=Z[9],K+=p*_t,ue+=p*gt,W+=p*yt,Re+=p*ct,me+=p*it,Se+=p*et,Ue+=p*Xe,Le+=p*Ze,Me+=p*qe,ce+=p*vt,he+=p*bt,J+=p*St,v+=p*It,G+=p*Ot,Ae+=p*Ct,He+=p*Nt,p=Z[10],ue+=p*_t,W+=p*gt,Re+=p*yt,me+=p*ct,Se+=p*it,Ue+=p*et,Le+=p*Xe,Me+=p*Ze,ce+=p*qe,he+=p*vt,J+=p*bt,v+=p*St,G+=p*It,Ae+=p*Ot,He+=p*Ct,ut+=p*Nt,p=Z[11],W+=p*_t,Re+=p*gt,me+=p*yt,Se+=p*ct,Ue+=p*it,Le+=p*et,Me+=p*Xe,ce+=p*Ze,he+=p*qe,J+=p*vt,v+=p*bt,G+=p*St,Ae+=p*It,He+=p*Ot,ut+=p*Ct,Pt+=p*Nt,p=Z[12],Re+=p*_t,me+=p*gt,Se+=p*yt,Ue+=p*ct,Le+=p*it,Me+=p*et,ce+=p*Xe,he+=p*Ze,J+=p*qe,v+=p*vt,G+=p*bt,Ae+=p*St,He+=p*It,ut+=p*Ot,Pt+=p*Ct,pt+=p*Nt,p=Z[13],me+=p*_t,Se+=p*gt,Ue+=p*yt,Le+=p*ct,Me+=p*it,ce+=p*et,he+=p*Xe,J+=p*Ze,v+=p*qe,G+=p*vt,Ae+=p*bt,He+=p*St,ut+=p*It,Pt+=p*Ot,pt+=p*Ct,At+=p*Nt,p=Z[14],Se+=p*_t,Ue+=p*gt,Le+=p*yt,Me+=p*ct,ce+=p*it,he+=p*et,J+=p*Xe,v+=p*Ze,G+=p*qe,Ae+=p*vt,He+=p*bt,ut+=p*St,Pt+=p*It,pt+=p*Ot,At+=p*Ct,Kt+=p*Nt,p=Z[15],Ue+=p*_t,Le+=p*gt,Me+=p*yt,ce+=p*ct,he+=p*it,J+=p*et,v+=p*Xe,G+=p*Ze,Ae+=p*qe,He+=p*vt,ut+=p*bt,Pt+=p*St,pt+=p*It,At+=p*Ot,Kt+=p*Ct,Xt+=p*Nt,_+=38*Le,m+=38*Me,S+=38*ce,b+=38*he,d+=38*J,x+=38*v,A+=38*G,N+=38*Ae,E+=38*He,K+=38*ut,ue+=38*Pt,W+=38*pt,Re+=38*At,me+=38*Kt,Se+=38*Xt,l=1,p=_+l+65535,l=Math.floor(p/65536),_=p-65536*l,p=m+l+65535,l=Math.floor(p/65536),m=p-65536*l,p=S+l+65535,l=Math.floor(p/65536),S=p-65536*l,p=b+l+65535,l=Math.floor(p/65536),b=p-65536*l,p=d+l+65535,l=Math.floor(p/65536),d=p-65536*l,p=x+l+65535,l=Math.floor(p/65536),x=p-65536*l,p=A+l+65535,l=Math.floor(p/65536),A=p-65536*l,p=N+l+65535,l=Math.floor(p/65536),N=p-65536*l,p=E+l+65535,l=Math.floor(p/65536),E=p-65536*l,p=K+l+65535,l=Math.floor(p/65536),K=p-65536*l,p=ue+l+65535,l=Math.floor(p/65536),ue=p-65536*l,p=W+l+65535,l=Math.floor(p/65536),W=p-65536*l,p=Re+l+65535,l=Math.floor(p/65536),Re=p-65536*l,p=me+l+65535,l=Math.floor(p/65536),me=p-65536*l,p=Se+l+65535,l=Math.floor(p/65536),Se=p-65536*l,p=Ue+l+65535,l=Math.floor(p/65536),Ue=p-65536*l,_+=l-1+37*(l-1),l=1,p=_+l+65535,l=Math.floor(p/65536),_=p-65536*l,p=m+l+65535,l=Math.floor(p/65536),m=p-65536*l,p=S+l+65535,l=Math.floor(p/65536),S=p-65536*l,p=b+l+65535,l=Math.floor(p/65536),b=p-65536*l,p=d+l+65535,l=Math.floor(p/65536),d=p-65536*l,p=x+l+65535,l=Math.floor(p/65536),x=p-65536*l,p=A+l+65535,l=Math.floor(p/65536),A=p-65536*l,p=N+l+65535,l=Math.floor(p/65536),N=p-65536*l,p=E+l+65535,l=Math.floor(p/65536),E=p-65536*l,p=K+l+65535,l=Math.floor(p/65536),K=p-65536*l,p=ue+l+65535,l=Math.floor(p/65536),ue=p-65536*l,p=W+l+65535,l=Math.floor(p/65536),W=p-65536*l,p=Re+l+65535,l=Math.floor(p/65536),Re=p-65536*l,p=me+l+65535,l=Math.floor(p/65536),me=p-65536*l,p=Se+l+65535,l=Math.floor(p/65536),Se=p-65536*l,p=Ue+l+65535,l=Math.floor(p/65536),Ue=p-65536*l,_+=l-1+37*(l-1),H[0]=_,H[1]=m,H[2]=S,H[3]=b,H[4]=d,H[5]=x,H[6]=A,H[7]=N,H[8]=E,H[9]=K,H[10]=ue,H[11]=W,H[12]=Re,H[13]=me,H[14]=Se,H[15]=Ue}function fe(H,Z){ne(H,Z,Z)}function P(H,Z){const M=new Uint8Array(32),p=new Float64Array(80),l=ae(),_=ae(),m=ae(),S=ae(),b=ae(),d=ae();for(let E=0;E<31;E++)M[E]=H[E];M[31]=127&H[31]|64,M[0]&=248,function U(H,Z){for(let M=0;M<16;M++)H[M]=Z[2*M]+(Z[2*M+1]<<8);H[15]&=32767}(p,Z);for(let E=0;E<16;E++)_[E]=p[E];l[0]=S[0]=1;for(let E=254;E>=0;--E){const K=M[E>>>3]>>>(7&E)&1;L(l,_,K),L(m,S,K),oe(b,l,m),ye(l,l,m),oe(m,_,S),ye(_,_,S),fe(S,b),fe(d,l),ne(l,m,l),ne(m,_,b),oe(b,l,m),ye(l,l,m),fe(_,l),ye(m,S,d),ne(l,m,k),oe(l,l,S),ne(m,m,l),ne(l,S,d),ne(S,_,p),fe(_,b),L(l,_,K),L(m,S,K)}for(let E=0;E<16;E++)p[E+16]=l[E],p[E+32]=m[E],p[E+48]=_[E],p[E+64]=S[E];const x=p.subarray(32),A=p.subarray(16);(function xe(H,Z){const M=ae();for(let p=0;p<16;p++)M[p]=Z[p];for(let p=253;p>=0;p--)fe(M,M),2!==p&&4!==p&&ne(M,M,Z);for(let p=0;p<16;p++)H[p]=M[p]})(x,x),ne(A,A,x);const N=new Uint8Array(32);return function T(H,Z){const M=ae(),p=ae();for(let l=0;l<16;l++)p[l]=Z[l];j(p),j(p),j(p);for(let l=0;l<2;l++){M[0]=p[0]-65517;for(let m=1;m<15;m++)M[m]=p[m]-65535-(M[m-1]>>16&1),M[m-1]&=65535;M[15]=p[15]-32767-(M[14]>>16&1);const _=M[15]>>16&1;M[14]&=65535,L(p,M,1-_)}for(let l=0;l<16;l++)H[2*l]=255&p[l],H[2*l+1]=p[l]>>8}(N,A),N}function be(H){return P(H,$)}g.Au=function ge(H){const Z=(0,te.randomBytes)(32,H),M=function X(H){if(H.length!==g.KS)throw new Error(`x25519: seed must be ${g.KS} bytes`);const Z=new Uint8Array(H);return{publicKey:be(Z),secretKey:Z}}(Z);return(0,re.wipe)(Z),M},g.gi=function le(H,Z,M=!1){if(H.length!==g.kz)throw new Error("X25519: incorrect secret key length");if(Z.length!==g.kz)throw new Error("X25519: incorrect public key length");const p=P(H,Z);if(M){let l=0;for(let _=0;_<p.length;_++)l|=p[_];if(0===l)throw new Error("X25519: invalid shared key")}return p}},14515:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{WC_DEFAULT_RPC_MAP:()=>s1,WC_V2_DEFAULT_CHAINS:()=>o1,getWalletConnectV2ProviderInstance:()=>a1});var O={};D.r(O),D.d(O,{identity:()=>sr});var te={};D.r(te),D.d(te,{base2:()=>or});var re={};D.r(re),D.d(re,{base8:()=>er});var ae={};D.r(ae),D.d(ae,{base10:()=>Qt});var $={};D.r($),D.d($,{base16:()=>$t,base16upper:()=>ar});var k={};D.r(k),D.d(k,{base32:()=>ur,base32hex:()=>hn,base32hexpad:()=>ra,base32hexpadupper:()=>na,base32hexupper:()=>ta,base32pad:()=>fr,base32padupper:()=>ea,base32upper:()=>cr,base32z:()=>ia});var j={};D.r(j),D.d(j,{base36:()=>sa,base36upper:()=>Un});var L={};D.r(L),D.d(L,{base58btc:()=>oa,base58flickr:()=>aa});var T={};D.r(T),D.d(T,{base64:()=>ua,base64pad:()=>ca,base64url:()=>fa,base64urlpad:()=>Oi});var U={};D.r(U),D.d(U,{base256emoji:()=>pa});var oe={};D.r(oe),D.d(oe,{sha256:()=>Vs,sha512:()=>Ks});var ye={};D.r(ye),D.d(ye,{identity:()=>Ia});var ne={};D.r(ne),D.d(ne,{code:()=>F,decode:()=>Ie,encode:()=>Q,name:()=>Oa});var fe={};function xe(a,t,r,s,u,f,y){try{var R=a[f](y),V=R.value}catch(Y){return void r(Y)}R.done?t(V):Promise.resolve(V).then(s,u)}function P(a){return function(){var t=this,r=arguments;return new Promise(function(s,u){var f=a.apply(t,r);function y(V){xe(f,s,u,y,R,"next",V)}function R(V){xe(f,s,u,y,R,"throw",V)}y(void 0)})}}D.r(fe),D.d(fe,{code:()=>Wt,decode:()=>pr,encode:()=>lr,name:()=>tt});var be=D(93105),X=D.n(be),ge=D(3226),le=D(38960),H=D(66486),Z=D(52399);class M extends Z.q{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class l extends Z.q{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}}class m extends Z.q{constructor(t,r){super(),this.relayer=t,this.logger=r}}class S extends Z.q{constructor(t){super()}}class x extends Z.q{constructor(t,r){super(),this.relayer=t,this.logger=r}}class N extends Z.q{constructor(t,r){super(),this.core=t,this.logger=r}}function Le(a){if("string"!=typeof a)throw new Error("Cannot safe json parse value of type "+typeof a);try{return(a=>{const r=a.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(r,(s,u)=>"string"==typeof u&&u.match(/^\d+n$/)?BigInt(u.substring(0,u.length-1)):u)})(a)}catch{return a}}function Me(a){return"string"==typeof a?a:(a=>JSON.stringify(a,(t,r)=>"bigint"==typeof r?r.toString()+"n":r))(a)||""}var ce=D(47903),he=D(52632),J=D(14611);const v="EdDSA",He="base64url",At="did",Kt="key",Xt="base58btc";function it(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function Xe(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?it(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function Ze(a,t){t||(t=a.reduce((u,f)=>u+f.length,0));const r=Xe(t);let s=0;for(const u of a)r.set(u,s),s+=u.length;return it(r)}const St=function qe(a,t){if(a.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var u=0;u<a.length;u++){var f=a.charAt(u),y=f.charCodeAt(0);if(255!==r[y])throw new TypeError(f+" is ambiguous");r[y]=u}var R=a.length,V=a.charAt(0),Y=Math.log(R)/Math.log(256),de=Math.log(256)/Math.log(R);function Ke(Ce){if("string"!=typeof Ce)throw new TypeError("Expected String");if(0===Ce.length)return new Uint8Array;var ze=0;if(" "!==Ce[ze]){for(var Je=0,lt=0;Ce[ze]===V;)Je++,ze++;for(var Ut=(Ce.length-ze)*Y+1>>>0,ht=new Uint8Array(Ut);Ce[ze];){var st=r[Ce.charCodeAt(ze)];if(255===st)return;for(var Ye=0,wt=Ut-1;(0!==st||Ye<lt)&&-1!==wt;wt--,Ye++)ht[wt]=(st+=R*ht[wt]>>>0)%256>>>0,st=st/256>>>0;if(0!==st)throw new Error("Non-zero carry");lt=Ye,ze++}if(" "!==Ce[ze]){for(var rt=Ut-lt;rt!==Ut&&0===ht[rt];)rt++;for(var Mt=new Uint8Array(Je+(Ut-rt)),Vr=Je;rt!==Ut;)Mt[Vr++]=ht[rt++];return Mt}}}return{encode:function De(Ce){if(Ce instanceof Uint8Array||(ArrayBuffer.isView(Ce)?Ce=new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength):Array.isArray(Ce)&&(Ce=Uint8Array.from(Ce))),!(Ce instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ce.length)return"";for(var ze=0,Je=0,lt=0,Ut=Ce.length;lt!==Ut&&0===Ce[lt];)lt++,ze++;for(var ht=(Ut-lt)*de+1>>>0,st=new Uint8Array(ht);lt!==Ut;){for(var Ye=Ce[lt],wt=0,rt=ht-1;(0!==Ye||wt<Je)&&-1!==rt;rt--,wt++)st[rt]=(Ye+=256*st[rt]>>>0)%R>>>0,Ye=Ye/R>>>0;if(0!==Ye)throw new Error("Non-zero carry");Je=wt,lt++}for(var Mt=ht-Je;Mt!==ht&&0===st[Mt];)Mt++;for(var Vr=V.repeat(ze);Mt<ht;++Mt)Vr+=a.charAt(st[Mt]);return Vr},decodeUnsafe:Ke,decode:function Rt(Ce){var ze=Ke(Ce);if(ze)return ze;throw new Error(`Non-${t} character`)}}},Rr=(new Uint8Array(0),a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")});class Kn{constructor(t,r,s){this.name=t,this.prefix=r,this.baseEncode=s}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Nn{constructor(t,r,s){if(this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=s}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return qt(this,t)}}class wn{constructor(t){this.decoders=t}or(t){return qt(this,t)}decode(t){const s=this.decoders[t[0]];if(s)return s.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const qt=(a,t)=>new wn({...a.decoders||{[a.prefix]:a},...t.decoders||{[t.prefix]:t}});class Zt{constructor(t,r,s,u){this.name=t,this.prefix=r,this.baseEncode=s,this.baseDecode=u,this.encoder=new Kn(t,r,s),this.decoder=new Nn(t,r,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Jt=({name:a,prefix:t,encode:r,decode:s})=>new Zt(a,t,r,s),jt=({prefix:a,name:t,alphabet:r})=>{const{encode:s,decode:u}=St(r,t);return Jt({prefix:a,name:t,encode:s,decode:f=>Rr(u(f))})},Et=({name:a,prefix:t,bitsPerChar:r,alphabet:s})=>Jt({prefix:t,name:a,encode:u=>((a,t,r)=>{const s="="===t[t.length-1],u=(1<<r)-1;let f="",y=0,R=0;for(let V=0;V<a.length;++V)for(R=R<<8|a[V],y+=8;y>r;)y-=r,f+=t[u&R>>y];if(y&&(f+=t[u&R<<r-y]),s)for(;f.length*r&7;)f+="=";return f})(u,s,r),decode:u=>((a,t,r,s)=>{const u={};for(let de=0;de<t.length;++de)u[t[de]]=de;let f=a.length;for(;"="===a[f-1];)--f;const y=new Uint8Array(f*r/8|0);let R=0,V=0,Y=0;for(let de=0;de<f;++de){const De=u[a[de]];if(void 0===De)throw new SyntaxError(`Non-${s} character`);V=V<<r|De,R+=r,R>=8&&(R-=8,y[Y++]=255&V>>R)}if(R>=r||255&V<<8-R)throw new SyntaxError("Unexpected end of data");return y})(u,s,r,a)}),sr=Jt({prefix:"\0",name:"identity",encode:a=>(a=>(new TextDecoder).decode(a))(a),decode:a=>(a=>(new TextEncoder).encode(a))(a)}),or=Et({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),er=Et({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Qt=jt({prefix:"9",name:"base10",alphabet:"0123456789"}),$t=Et({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ar=Et({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ur=Et({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cr=Et({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fr=Et({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ea=Et({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hn=Et({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ta=Et({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ra=Et({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),na=Et({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ia=Et({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),sa=jt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Un=jt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),oa=jt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),aa=jt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ua=Et({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ca=Et({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fa=Et({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Oi=Et({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ts=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),la=Ts.reduce((a,t,r)=>(a[r]=t,a),[]),Dn=Ts.reduce((a,t,r)=>(a[t.codePointAt(0)]=r,a),[]),pa=Jt({prefix:"\u{1f680}",name:"base256emoji",encode:function ha(a){return a.reduce((t,r)=>t+la[r],"")},decode:function da(a){const t=[];for(const r of a){const s=Dn[r.codePointAt(0)];if(void 0===s)throw new Error(`Non-base256emoji character: ${r}`);t.push(s)}return new Uint8Array(t)}});var va=Math.pow(2,31),ma=Math.pow(2,7),_a=Math.pow(2,14),js=Math.pow(2,21),ba=Math.pow(2,28),Ea=Math.pow(2,35),Ms=Math.pow(2,42),Pi=Math.pow(2,49),Gn=Math.pow(2,56),wa=Math.pow(2,63),xn={encode:function Wn(a,t,r){t=t||[];for(var s=r=r||0;a>=va;)t[r++]=255&a|128,a/=128;for(;-128&a;)t[r++]=255&a|128,a>>>=7;return t[r]=0|a,Wn.bytes=r-s+1,t},decode:function Qi(a,s){var y,r=0,u=0,f=s=s||0,R=a.length;do{if(f>=R)throw Qi.bytes=0,new RangeError("Could not decode varint");y=a[f++],r+=u<28?(127&y)<<u:(127&y)*Math.pow(2,u),u+=7}while(y>=128);return Qi.bytes=f-s,r},encodingLength:function(a){return a<ma?1:a<_a?2:a<js?3:a<ba?4:a<Ea?5:a<Ms?6:a<Pi?7:a<Gn?8:a<wa?9:10}};const Bs=xn,zs=(a,t,r=0)=>(Bs.encode(a,t,r),t),$s=a=>Bs.encodingLength(a),dn=(a,t)=>{const r=t.byteLength,s=$s(a),u=s+$s(r),f=new Uint8Array(u+r);return zs(a,f,0),zs(r,f,s),f.set(t,u),new ui(a,r,t,f)};class ui{constructor(t,r,s,u){this.code=t,this.size=r,this.digest=s,this.bytes=u}}const Hs=({name:a,code:t,encode:r})=>new ki(a,t,r);class ki{constructor(t,r,s){this.name=t,this.code=r,this.encode=s}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?dn(this.code,r):r.then(s=>dn(this.code,s))}throw Error("Unknown type, must be binary type")}}const Js=a=>function(){var t=P(function*(r){return new Uint8Array(yield crypto.subtle.digest(a,r))});return function(r){return t.apply(this,arguments)}}(),Vs=Hs({name:"sha2-256",code:18,encode:Js("SHA-256")}),Ks=Hs({name:"sha2-512",code:19,encode:Js("SHA-512")}),ts=Rr,Ia={code:0,name:"identity",encode:ts,digest:a=>dn(0,ts(a))},Oa="raw",F=85,Q=a=>Rr(a),Ie=a=>Rr(a),Fe=new TextEncoder,Bt=new TextDecoder,tt="json",Wt=512,lr=a=>Fe.encode(JSON.stringify(a)),pr=a=>JSON.parse(Bt.decode(a));Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Uc={...O,...te,...re,...ae,...$,...k,...j,...L,...T,...U};function Fc(a,t,r,s){return{name:a,prefix:t,encoder:{name:a,prefix:t,encode:r},decoder:{decode:s}}}const Lc=Fc("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>(new TextEncoder).encode(a.substring(1))),Ra=Fc("ascii","a",a=>{let t="a";for(let r=0;r<a.length;r++)t+=String.fromCharCode(a[r]);return t},a=>{const t=Xe((a=a.substring(1)).length);for(let r=0;r<a.length;r++)t[r]=a.charCodeAt(r);return t}),jc={utf8:Lc,"utf-8":Lc,hex:Uc.base16,latin1:Ra,ascii:Ra,binary:Ra,...Uc};function Ar(a,t="utf8"){const r=jc[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(a).substring(1):globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8")}function jr(a,t="utf8"){const r=jc[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${a}`):it(globalThis.Buffer.from(a,"utf-8"))}function Gs(a){return Ar(jr(Me(a),"utf8"),He)}function Mc(a){const r="z"+Ar(Ze([jr("K36",Xt),a]),Xt);return[At,Kt,r].join(":")}function Xd(a){return Ar(a,He)}function Qd(a){return jr([Gs(a.header),Gs(a.payload)].join("."),"utf8")}function kd(a){return[Gs(a.header),Gs(a.payload),Xd(a.signature)].join(".")}function Bc(a=(0,he.randomBytes)(32)){return ce._w(a)}function Pa(){return(Pa=P(function*(a,t,r,s,u=(0,J.fromMiliseconds)(Date.now())){const f={alg:v,typ:"JWT"},V={iss:Mc(s.publicKey),sub:a,aud:t,iat:u,exp:u+r},Y=Qd({header:f,payload:V});return kd({header:f,payload:V,signature:ce.Xx(s.secretKey,Y)})})).apply(this,arguments)}D(58083);var zc=D(91573),tp=D(37651),Ca=D(41027),$c=D(72180),Hc=function(a,t,r){if(r||2===arguments.length)for(var f,s=0,u=t.length;s<u;s++)(f||!(s in t))&&(f||(f=Array.prototype.slice.call(t,0,s)),f[s]=t[s]);return a.concat(f||Array.prototype.slice.call(t))},rp=function a(t,r,s){this.name=t,this.version=r,this.os=s,this.type="browser"},np=function a(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},ip=function a(t,r,s,u){this.name=t,this.version=r,this.os=s,this.bot=u,this.type="bot-device"},sp=function a(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},op=function a(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},up=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,cp=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Vc=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Wc(a){var t=function Kc(a){return""!==a&&cp.reduce(function(t,r){var s=r[0];if(t)return t;var f=r[1].exec(a);return!!f&&[s,f]},!1)}(a);if(!t)return null;var r=t[0],s=t[1];if("searchbot"===r)return new sp;var u=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);u?u.length<3&&(u=Hc(Hc([],u,!0),function dp(a){for(var t=[],r=0;r<a;r++)t.push("0");return t}(3-u.length),!0)):u=[];var f=u.join("."),y=function lp(a){for(var t=0,r=Vc.length;t<r;t++){var s=Vc[t],u=s[0];if(s[1].exec(a))return u}return null}(a),R=up.exec(a);return R&&R[1]?new ip(r,f,y,R[1]):new rp(r,f,y)}var qs=D(37167),pp=D(78359),Ys=D(45703);D(45785);const gp={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function Ta(a,t){return a.includes(":")?[a]:t.chains||[]}const Cr="base16",Ua="base64pad",Fa="utf8";function Ma(){return Ar((0,he.randomBytes)(32),Cr)}function hi(a){return Ar((0,Ca.vp)(jr(a,Fa)),Cr)}function rs(a){return Number(Ar(a,"base10"))}function Zs(a){const t=jr(a,Ua),r=t.slice(0,1);if(1===rs(r)){const R=33,V=R+12,Y=t.slice(1,R),de=t.slice(R,V);return{type:r,sealed:t.slice(V),iv:de,senderPublicKey:Y}}const f=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:f}}function Qc(a){const t=a?.type||0;if(1===t){if(typeof a?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof a?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:a?.senderPublicKey,receiverPublicKey:a?.receiverPublicKey}}function kc(a){return 1===a.type&&"string"==typeof a.senderPublicKey&&"string"==typeof a.receiverPublicKey}var Np=Object.defineProperty,ef=Object.getOwnPropertySymbols,Up=Object.prototype.hasOwnProperty,Fp=Object.prototype.propertyIsEnumerable,tf=(a,t,r)=>t in a?Np(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,rf=(a,t)=>{for(var r in t||(t={}))Up.call(t,r)&&tf(a,r,t[r]);if(ef)for(var r of ef(t))Fp.call(t,r)&&tf(a,r,t[r]);return a};const Mp="js";function za(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function sf(){return!(0,qs.getDocument)()&&!!(0,qs.getNavigator)()&&"ReactNative"===navigator.product}function $a(){return!za()&&!!(0,qs.getNavigator)()}function Ha(){return sf()?"react-native":za()?"node":$a()?"browser":"unknown"}function Jp(a,t,r){const s=function $p(){const a=function fp(a){return a?Wc(a):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new op:typeof navigator<"u"?Wc(navigator.userAgent):function hp(){return typeof process<"u"&&process.version?new np(process.version.slice(1)):null}()}();if(null===a)return"unknown";const t=a.os?a.os.replace(" ","").toLowerCase():"unknown";return"browser"===a.type?[t,a.name,a.version].join("-"):[t,a.version].join("-")}(),u=function Hp(){var a;const t=Ha();return"browser"===t?[t,(null==(a=(0,qs.getLocation)())?void 0:a.host)||"unknown"].join(":"):t}();return[[a,t].join("-"),[Mp,r].join("-"),s,u].join("/")}function pi(a,t){return a.filter(r=>t.includes(r)).length===a.length}function of(a){return Object.fromEntries(a.entries())}function af(a){return new Map(Object.entries(a))}function Ti(a=J.FIVE_MINUTES,t){const r=(0,J.toMiliseconds)(a||J.FIVE_MINUTES);let s,u,f;return{resolve:y=>{f&&s&&(clearTimeout(f),s(y))},reject:y=>{f&&u&&(clearTimeout(f),u(y))},done:()=>new Promise((y,R)=>{f=setTimeout(()=>{R(new Error(t))},r),s=y,u=R})}}function Qs(a,t,r){return new Promise(function(){var s=P(function*(u,f){const y=setTimeout(()=>f(new Error(r)),t);try{u(yield a)}catch(R){f(R)}clearTimeout(y)});return function(u,f){return s.apply(this,arguments)}}())}function uf(a,t){if("string"==typeof t&&t.startsWith(`${a}:`))return t;if("topic"===a.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===a.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${a}`)}function cf(a){const[t,r]=a.split(":"),s={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)s.topic=r;else{if("id"!==t||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);s.id=Number(r)}return s}function gn(a,t){return(0,J.fromMiliseconds)((t||Date.now())+(0,J.toMiliseconds)(a))}function qn(a){return Date.now()>=(0,J.toMiliseconds)(a)}function hr(a,t){return`${a}${t?`:${t}`:""}`}function Sn(a=[],t=[]){return[...new Set([...a,...t])]}function Ja(a){return a?.relay||{protocol:"irn"}}function ks(a){const t=gp[a];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${a}`);return t}var Zp=Object.defineProperty,ff=Object.getOwnPropertySymbols,Qp=Object.prototype.hasOwnProperty,kp=Object.prototype.propertyIsEnumerable,lf=(a,t,r)=>t in a?Zp(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;function tg(a,t="-"){const r={},s="relay"+t;return Object.keys(a).forEach(u=>{if(u.startsWith(s)){const f=u.replace(s,"");r[f]=a[u]}}),r}function Ni(a){const t=[];return a.forEach(r=>{const[s,u]=r.split(":");t.push(`${s}:${u}`)}),t}function Va(a){return a.includes(":")}function ns(a){return Va(a)?a.split(":")[0]:a}const yg={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},vg={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ne(a,t){const{message:r,code:s}=vg[a];return{message:t?`${r} ${t}`:r,code:s}}function dr(a,t){const{message:r,code:s}=yg[a];return{message:t?`${r} ${t}`:r,code:s}}function Ui(a,t){return!!Array.isArray(a)&&(!(typeof t<"u"&&a.length)||a.every(t))}function gi(a){return Object.getPrototypeOf(a)===Object.prototype&&Object.keys(a).length}function Tr(a){return typeof a>"u"}function _r(a,t){return!(!t||!Tr(a))||"string"==typeof a&&Boolean(a.trim().length)}function Ka(a,t){return!(!t||!Tr(a))||"number"==typeof a&&!isNaN(a)}function Wa(a){return!(!_r(a,!1)||!a.includes(":"))&&2===a.split(":").length}function gf(a){let t=!0;return Ui(a)?a.length&&(t=a.every(r=>_r(r,!1))):t=!1,t}function yf(a,t){let r=null;return Object.values(a).forEach(s=>{if(r)return;const u=function Rg(a,t){let r=null;return gf(a?.methods)?gf(a?.events)||(r=dr("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=dr("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}(s,`${t}, namespace`);u&&(r=u)}),r}function eo(a,t){let r=null;if(a&&gi(a)){const s=yf(a,t);s&&(r=s);const u=function Og(a,t){let r=null;return Object.values(a).forEach(s=>{if(r)return;const u=function Ig(a,t){let r=null;return Ui(a)?a.forEach(s=>{r||function _g(a){if(_r(a,!1)&&a.includes(":")){const t=a.split(":");if(3===t.length){const r=t[0]+":"+t[1];return!!t[2]&&Wa(r)}}return!1}(s)||(r=dr("UNSUPPORTED_ACCOUNTS",`${t}, account ${s} should be a string and conform to "namespace:chainId:address" format`))}):r=dr("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}(s?.accounts,`${t} namespace`);u&&(r=u)}),r}(a,t);u&&(r=u)}else r=Ne("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function vf(a){return _r(a.protocol,!0)}function Mr(a){return typeof a<"u"&&null!==typeof a}function mf(a,t){return!(!Wa(t)||!function hg(a){const t=[];return Object.values(a).forEach(r=>{t.push(...Ni(r.accounts))}),t}(a).includes(t))}function Ga(a,t,r){let s=null;const u=function Mg(a){const t={};return Object.keys(a).forEach(r=>{var s;r.includes(":")?t[r]=a[r]:null==(s=a[r].chains)||s.forEach(u=>{t[u]={methods:a[r].methods,events:a[r].events}})}),t}(a),f=function Bg(a){const t={};return Object.keys(a).forEach(r=>{r.includes(":")?t[r]=a[r]:Ni(a[r].accounts)?.forEach(u=>{t[u]={accounts:a[r].accounts.filter(f=>f.includes(`${u}:`)),methods:a[r].methods,events:a[r].events}})}),t}(t),y=Object.keys(u),R=Object.keys(f),V=_f(Object.keys(a)),Y=_f(Object.keys(t)),de=V.filter(De=>!Y.includes(De));return de.length&&(s=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${de.toString()}\n      Received: ${Object.keys(t).toString()}`)),pi(y,R)||(s=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${y.toString()}\n      Approved: ${R.toString()}`)),Object.keys(t).forEach(De=>{if(!De.includes(":")||s)return;const Ke=Ni(t[De].accounts);Ke.includes(De)||(s=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${De}\n        Required: ${De}\n        Approved: ${Ke.toString()}`))}),y.forEach(De=>{s||(pi(u[De].methods,f[De].methods)?pi(u[De].events,f[De].events)||(s=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${De}`)):s=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${De}`))}),s}function _f(a){return[...new Set(a.map(t=>t.includes(":")?t.split(":")[0]:t))]}var Qe=D(22339);class Yn extends Qe.IJsonRpcProvider{constructor(t){super(t),this.events=new be.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}connect(t=this.connection){var r=this;return P(function*(){yield r.open(t)})()}disconnect(){var t=this;return P(function*(){yield t.close()})()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}request(t,r){var s=this;return P(function*(){return s.requestStrict((0,Qe.formatJsonRpcRequest)(t.method,t.params||[],(0,Qe.getBigIntRpcId)().toString()),r)})()}requestStrict(t,r){var s=this;return P(function*(){return new Promise(function(){var u=P(function*(f,y){if(!s.connection.connected)try{yield s.open()}catch(R){y(R)}s.events.on(`${t.id}`,R=>{(0,Qe.isJsonRpcError)(R)?y(R.error):f(R.result)});try{yield s.connection.send(t,r)}catch(R){y(R)}});return function(f,y){return u.apply(this,arguments)}}())})()}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),(0,Qe.isJsonRpcResponse)(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&3e3===t.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}open(t=this.connection){var r=this;return P(function*(){r.connection===t&&r.connection.connected||(r.connection.connected&&r.close(),"string"==typeof t&&(yield r.connection.open(t),t=r.connection),r.connection=r.setConnection(t),yield r.connection.open(),r.registerEventListeners(),r.events.emit("connect"))})()}close(){var t=this;return P(function*(){yield t.connection.close()})()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const Jg=typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:D(44813);var Wg=D(6856),Gg=D.n(Wg),Xg=function qg(a,t){if(a.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var u=0;u<a.length;u++){var f=a.charAt(u),y=f.charCodeAt(0);if(255!==r[y])throw new TypeError(f+" is ambiguous");r[y]=u}var R=a.length,V=a.charAt(0),Y=Math.log(R)/Math.log(256),de=Math.log(256)/Math.log(R);function Ke(Ce){if("string"!=typeof Ce)throw new TypeError("Expected String");if(0===Ce.length)return new Uint8Array;var ze=0;if(" "!==Ce[ze]){for(var Je=0,lt=0;Ce[ze]===V;)Je++,ze++;for(var Ut=(Ce.length-ze)*Y+1>>>0,ht=new Uint8Array(Ut);Ce[ze];){var st=r[Ce.charCodeAt(ze)];if(255===st)return;for(var Ye=0,wt=Ut-1;(0!==st||Ye<lt)&&-1!==wt;wt--,Ye++)ht[wt]=(st+=R*ht[wt]>>>0)%256>>>0,st=st/256>>>0;if(0!==st)throw new Error("Non-zero carry");lt=Ye,ze++}if(" "!==Ce[ze]){for(var rt=Ut-lt;rt!==Ut&&0===ht[rt];)rt++;for(var Mt=new Uint8Array(Je+(Ut-rt)),Vr=Je;rt!==Ut;)Mt[Vr++]=ht[rt++];return Mt}}}return{encode:function De(Ce){if(Ce instanceof Uint8Array||(ArrayBuffer.isView(Ce)?Ce=new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength):Array.isArray(Ce)&&(Ce=Uint8Array.from(Ce))),!(Ce instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ce.length)return"";for(var ze=0,Je=0,lt=0,Ut=Ce.length;lt!==Ut&&0===Ce[lt];)lt++,ze++;for(var ht=(Ut-lt)*de+1>>>0,st=new Uint8Array(ht);lt!==Ut;){for(var Ye=Ce[lt],wt=0,rt=ht-1;(0!==Ye||wt<Je)&&-1!==rt;rt--,wt++)st[rt]=(Ye+=256*st[rt]>>>0)%R>>>0,Ye=Ye/R>>>0;if(0!==Ye)throw new Error("Non-zero carry");Je=wt,lt++}for(var Mt=ht-Je;Mt!==ht&&0===st[Mt];)Mt++;for(var Vr=V.repeat(ze);Mt<ht;++Mt)Vr+=a.charAt(st[Mt]);return Vr},decodeUnsafe:Ke,decode:function Rt(Ce){var ze=Ke(Ce);if(ze)return ze;throw new Error(`Non-${t} character`)}}};const Ef=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")};class kg{constructor(t,r,s){this.name=t,this.prefix=r,this.baseEncode=s}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ey{constructor(t,r,s){if(this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=s}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return wf(this,t)}}class ty{constructor(t){this.decoders=t}or(t){return wf(this,t)}decode(t){const s=this.decoders[t[0]];if(s)return s.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const wf=(a,t)=>new ty({...a.decoders||{[a.prefix]:a},...t.decoders||{[t.prefix]:t}});class ry{constructor(t,r,s,u){this.name=t,this.prefix=r,this.baseEncode=s,this.baseDecode=u,this.encoder=new kg(t,r,s),this.decoder=new ey(t,r,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const to=({name:a,prefix:t,encode:r,decode:s})=>new ry(a,t,r,s),is=({prefix:a,name:t,alphabet:r})=>{const{encode:s,decode:u}=Xg(r,t);return to({prefix:a,name:t,encode:s,decode:f=>Ef(u(f))})},wr=({name:a,prefix:t,bitsPerChar:r,alphabet:s})=>to({prefix:t,name:a,encode:u=>((a,t,r)=>{const s="="===t[t.length-1],u=(1<<r)-1;let f="",y=0,R=0;for(let V=0;V<a.length;++V)for(R=R<<8|a[V],y+=8;y>r;)y-=r,f+=t[u&R>>y];if(y&&(f+=t[u&R<<r-y]),s)for(;f.length*r&7;)f+="=";return f})(u,s,r),decode:u=>((a,t,r,s)=>{const u={};for(let de=0;de<t.length;++de)u[t[de]]=de;let f=a.length;for(;"="===a[f-1];)--f;const y=new Uint8Array(f*r/8|0);let R=0,V=0,Y=0;for(let de=0;de<f;++de){const De=u[a[de]];if(void 0===De)throw new SyntaxError(`Non-${s} character`);V=V<<r|De,R+=r,R>=8&&(R-=8,y[Y++]=255&V>>R)}if(R>=r||255&V<<8-R)throw new SyntaxError("Unexpected end of data");return y})(u,s,r,a)}),sy=to({prefix:"\0",name:"identity",encode:a=>(a=>(new TextDecoder).decode(a))(a),decode:a=>(a=>(new TextEncoder).encode(a))(a)});var oy=Object.freeze({__proto__:null,identity:sy});const ay=wr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var uy=Object.freeze({__proto__:null,base2:ay});const cy=wr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var fy=Object.freeze({__proto__:null,base8:cy});const ly=is({prefix:"9",name:"base10",alphabet:"0123456789"});var hy=Object.freeze({__proto__:null,base10:ly});const dy=wr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),py=wr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var gy=Object.freeze({__proto__:null,base16:dy,base16upper:py});const yy=wr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),vy=wr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),my=wr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_y=wr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),by=wr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ey=wr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wy=wr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Dy=wr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),xy=wr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Sy=Object.freeze({__proto__:null,base32:yy,base32upper:vy,base32pad:my,base32padupper:_y,base32hex:by,base32hexupper:Ey,base32hexpad:wy,base32hexpadupper:Dy,base32z:xy});const Iy=is({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Oy=is({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ry=Object.freeze({__proto__:null,base36:Iy,base36upper:Oy});const Py=is({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ay=is({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Cy=Object.freeze({__proto__:null,base58btc:Py,base58flickr:Ay});const Ty=wr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ny=wr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Uy=wr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Fy=wr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ly=Object.freeze({__proto__:null,base64:Ty,base64pad:Ny,base64url:Uy,base64urlpad:Fy});const Df=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),jy=Df.reduce((a,t,r)=>(a[r]=t,a),[]),My=Df.reduce((a,t,r)=>(a[t.codePointAt(0)]=r,a),[]),$y=to({prefix:"\u{1f680}",name:"base256emoji",encode:function By(a){return a.reduce((t,r)=>t+jy[r],"")},decode:function zy(a){const t=[];for(const r of a){const s=My[r.codePointAt(0)];if(void 0===s)throw new Error(`Non-base256emoji character: ${r}`);t.push(s)}return new Uint8Array(t)}});var Hy=Object.freeze({__proto__:null,base256emoji:$y}),Wy=Math.pow(2,31),Yy=Math.pow(2,7),Xy=Math.pow(2,14),Zy=Math.pow(2,21),Qy=Math.pow(2,28),ky=Math.pow(2,35),e0=Math.pow(2,42),t0=Math.pow(2,49),r0=Math.pow(2,56),n0=Math.pow(2,63),s0={encode:function Sf(a,t,r){t=t||[];for(var s=r=r||0;a>=Wy;)t[r++]=255&a|128,a/=128;for(;-128&a;)t[r++]=255&a|128,a>>>=7;return t[r]=0|a,Sf.bytes=r-s+1,t},decode:function qa(a,s){var y,r=0,u=0,f=s=s||0,R=a.length;do{if(f>=R)throw qa.bytes=0,new RangeError("Could not decode varint");y=a[f++],r+=u<28?(127&y)<<u:(127&y)*Math.pow(2,u),u+=7}while(y>=128);return qa.bytes=f-s,r},encodingLength:function(a){return a<Yy?1:a<Xy?2:a<Zy?3:a<Qy?4:a<ky?5:a<e0?6:a<t0?7:a<r0?8:a<n0?9:10}},Of=s0;const Rf=(a,t,r=0)=>(Of.encode(a,t,r),t),Pf=a=>Of.encodingLength(a),Ya=(a,t)=>{const r=t.byteLength,s=Pf(a),u=s+Pf(r),f=new Uint8Array(u+r);return Rf(a,f,0),Rf(r,f,s),f.set(t,u),new o0(a,r,t,f)};class o0{constructor(t,r,s,u){this.code=t,this.size=r,this.digest=s,this.bytes=u}}const Af=({name:a,code:t,encode:r})=>new a0(a,t,r);class a0{constructor(t,r,s){this.name=t,this.code=r,this.encode=s}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?Ya(this.code,r):r.then(s=>Ya(this.code,s))}throw Error("Unknown type, must be binary type")}}const Cf=a=>function(){var t=P(function*(r){return new Uint8Array(yield crypto.subtle.digest(a,r))});return function(r){return t.apply(this,arguments)}}(),u0=Af({name:"sha2-256",code:18,encode:Cf("SHA-256")}),c0=Af({name:"sha2-512",code:19,encode:Cf("SHA-512")});Object.freeze({__proto__:null,sha256:u0,sha512:c0});const Nf=Ef;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Nf,digest:a=>Ya(0,Nf(a))}}),new TextEncoder,new TextDecoder;const Uf={...oy,...uy,...fy,...hy,...gy,...Sy,...Ry,...Cy,...Ly,...Hy};function Ff(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function Lf(a,t,r,s){return{name:a,prefix:t,encoder:{name:a,prefix:t,encode:r},decoder:{decode:s}}}const jf=Lf("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>(new TextEncoder).encode(a.substring(1))),Xa=Lf("ascii","a",a=>{let t="a";for(let r=0;r<a.length;r++)t+=String.fromCharCode(a[r]);return t},a=>{const t=function d0(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Ff(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}((a=a.substring(1)).length);for(let r=0;r<a.length;r++)t[r]=a.charCodeAt(r);return t}),p0={utf8:jf,"utf-8":jf,hex:Uf.base16,latin1:Xa,ascii:Xa,binary:Xa,...Uf},Xn="wc@2:core:",m0={database:":memory:"},Bf="client_ed25519_seed",b0=J.ONE_DAY,S0=J.SIX_HOURS,$f="wss://relay.walletconnect.com",A0=J.ONE_SECOND/2,In_created="subscription_created",In_deleted="subscription_deleted",F0=1e3*J.FIVE_SECONDS,os={wc_pairingDelete:{req:{ttl:J.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:J.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:J.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:J.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:J.ONE_DAY,prompt:!1,tag:0},res:{ttl:J.ONE_DAY,prompt:!1,tag:0}}},kr_expired="expirer_expired",Hf="verify-api",Jf="https://verify.walletconnect.com";class H0{constructor(t,r){var s=this;this.core=t,this.logger=r,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Xn,this.init=P(function*(){if(!s.initialized){const u=yield s.getKeyChain();typeof u<"u"&&(s.keychain=u),s.initialized=!0}}),this.has=u=>(this.isInitialized(),this.keychain.has(u)),this.set=function(){var u=P(function*(f,y){s.isInitialized(),s.keychain.set(f,y),yield s.persist()});return function(f,y){return u.apply(this,arguments)}}(),this.get=u=>{this.isInitialized();const f=this.keychain.get(u);if(typeof f>"u"){const{message:y}=Ne("NO_MATCHING_KEY",`${this.name}: ${u}`);throw new Error(y)}return f},this.del=function(){var u=P(function*(f){s.isInitialized(),s.keychain.delete(f),yield s.persist()});return function(f){return u.apply(this,arguments)}}(),this.core=t,this.logger=(0,H.generateChildLogger)(r,this.name)}get context(){return(0,H.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setKeyChain(t){var r=this;return P(function*(){yield r.core.storage.setItem(r.storageKey,of(t))})()}getKeyChain(){var t=this;return P(function*(){const r=yield t.core.storage.getItem(t.storageKey);return typeof r<"u"?af(r):void 0})()}persist(){var t=this;return P(function*(){yield t.setKeyChain(t.keychain)})()}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class J0{constructor(t,r,s){var u=this;this.core=t,this.logger=r,this.name="crypto",this.initialized=!1,this.init=P(function*(){u.initialized||(yield u.keychain.init(),u.initialized=!0)}),this.hasKeys=f=>(this.isInitialized(),this.keychain.has(f)),this.getClientId=P(function*(){return u.isInitialized(),Mc(Bc(yield u.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const f=function Sp(){const a=$c.Au();return{privateKey:Ar(a.secretKey,Cr),publicKey:Ar(a.publicKey,Cr)}}();return this.setPrivateKey(f.publicKey,f.privateKey)},this.signJWT=function(){var f=P(function*(y){u.isInitialized();const V=Bc(yield u.getClientSeed()),Y=Ma();return yield function ep(a,t,r,s){return Pa.apply(this,arguments)}(Y,y,b0,V)});return function(y){return f.apply(this,arguments)}}(),this.generateSharedKey=(f,y,R)=>{this.isInitialized();const Y=function Ip(a,t){const r=$c.gi(jr(a,Cr),jr(t,Cr));return Ar(new tp.t(Ca.mE,r).expand(32),Cr)}(this.getPrivateKey(f),y);return this.setSymKey(Y,R)},this.setSymKey=function(){var f=P(function*(y,R){u.isInitialized();const V=R||function Op(a){return Ar((0,Ca.vp)(jr(a,Cr)),Cr)}(y);return yield u.keychain.set(V,y),V});return function(y,R){return f.apply(this,arguments)}}(),this.deleteKeyPair=function(){var f=P(function*(y){u.isInitialized(),yield u.keychain.del(y)});return function(y){return f.apply(this,arguments)}}(),this.deleteSymKey=function(){var f=P(function*(y){u.isInitialized(),yield u.keychain.del(y)});return function(y){return f.apply(this,arguments)}}(),this.encode=function(){var f=P(function*(y,R,V){u.isInitialized();const Y=Qc(V),de=Me(R);if(kc(Y)){const Ce=Y.senderPublicKey,ze=Y.receiverPublicKey;y=yield u.generateSharedKey(Ce,ze)}const De=u.getSymKey(y),{type:Ke,senderPublicKey:Rt}=Y;return function Pp(a){const t=function Rp(a){return jr(`${a}`,"base10")}(typeof a.type<"u"?a.type:0);if(1===rs(t)&&typeof a.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof a.senderPublicKey<"u"?jr(a.senderPublicKey,Cr):void 0,s=typeof a.iv<"u"?jr(a.iv,Cr):(0,he.randomBytes)(12);return function Cp(a){if(1===rs(a.type)){if(typeof a.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ar(Ze([a.type,a.senderPublicKey,a.iv,a.sealed]),Ua)}return Ar(Ze([a.type,a.iv,a.sealed]),Ua)}({type:t,sealed:new zc.OK(jr(a.symKey,Cr)).seal(s,jr(a.message,Fa)),iv:s,senderPublicKey:r})}({type:Ke,symKey:De,message:de,senderPublicKey:Rt})});return function(y,R,V){return f.apply(this,arguments)}}(),this.decode=function(){var f=P(function*(y,R,V){u.isInitialized();const Y=function Tp(a,t){const r=Zs(a);return Qc({type:rs(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ar(r.senderPublicKey,Cr):void 0,receiverPublicKey:t?.receiverPublicKey})}(R,V);if(kc(Y)){const Ke=Y.receiverPublicKey,Rt=Y.senderPublicKey;y=yield u.generateSharedKey(Ke,Rt)}const De=function Ap(a){const t=new zc.OK(jr(a.symKey,Cr)),{sealed:r,iv:s}=Zs(a.encoded),u=t.open(s,r);if(null===u)throw new Error("Failed to decrypt");return Ar(u,Fa)}({symKey:u.getSymKey(y),encoded:R});return Le(De)});return function(y,R,V){return f.apply(this,arguments)}}(),this.getPayloadType=f=>rs(Zs(f).type),this.getPayloadSenderPublicKey=f=>{const y=Zs(f);return y.senderPublicKey?Ar(y.senderPublicKey,Cr):void 0},this.core=t,this.logger=(0,H.generateChildLogger)(r,this.name),this.keychain=s||new H0(this.core,this.logger)}get context(){return(0,H.getLoggerContext)(this.logger)}setPrivateKey(t,r){var s=this;return P(function*(){return yield s.keychain.set(t,r),t})()}getPrivateKey(t){return this.keychain.get(t)}getClientSeed(){var t=this;return P(function*(){let r="";try{r=t.keychain.get(Bf)}catch{r=Ma(),yield t.keychain.set(Bf,r)}return function g0(a,t="utf8"){const r=p0[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${a}`):Ff(globalThis.Buffer.from(a,"utf-8"))}(r,"base16")})()}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class V0 extends class _{constructor(t,r){this.logger=t,this.core=r}}{constructor(t,r){var s;super(t,r),s=this,this.logger=t,this.core=r,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Xn,this.init=P(function*(){if(!s.initialized){s.logger.trace("Initialized");try{const u=yield s.getRelayerMessages();typeof u<"u"&&(s.messages=u),s.logger.debug(`Successfully Restored records for ${s.name}`),s.logger.trace({type:"method",method:"restore",size:s.messages.size})}catch(u){s.logger.debug(`Failed to Restore records for ${s.name}`),s.logger.error(u)}finally{s.initialized=!0}}}),this.set=function(){var u=P(function*(f,y){s.isInitialized();const R=hi(y);let V=s.messages.get(f);return typeof V>"u"&&(V={}),typeof V[R]<"u"||(V[R]=y,s.messages.set(f,V),yield s.persist()),R});return function(f,y){return u.apply(this,arguments)}}(),this.get=u=>{this.isInitialized();let f=this.messages.get(u);return typeof f>"u"&&(f={}),f},this.has=(u,f)=>(this.isInitialized(),typeof this.get(u)[hi(f)]<"u"),this.del=function(){var u=P(function*(f){s.isInitialized(),s.messages.delete(f),yield s.persist()});return function(f){return u.apply(this,arguments)}}(),this.logger=(0,H.generateChildLogger)(t,this.name),this.core=r}get context(){return(0,H.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setRelayerMessages(t){var r=this;return P(function*(){yield r.core.storage.setItem(r.storageKey,of(t))})()}getRelayerMessages(){var t=this;return P(function*(){const r=yield t.core.storage.getItem(t.storageKey);return typeof r<"u"?af(r):void 0})()}persist(){var t=this;return P(function*(){yield t.setRelayerMessages(t.messages)})()}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class K0 extends m{constructor(t,r){var s;super(t,r),s=this,this.relayer=t,this.logger=r,this.events=new be.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=1e4,this.publish=function(){var u=P(function*(f,y,R){s.logger.debug("Publishing Payload"),s.logger.trace({type:"method",method:"publish",params:{topic:f,message:y,opts:R}});try{const V=R?.ttl||S0,Y=Ja(R),de=R?.prompt||!1,De=R?.tag||0,Ke={topic:f,message:y,opts:{ttl:V,relay:Y,prompt:de,tag:De}},Rt=hi(y);s.queue.set(Rt,Ke);try{yield yield Qs(s.rpcPublish(f,y,V,Y,de,De),s.publishTimeout),s.relayer.events.emit("relayer_publish",Ke)}catch{return s.logger.debug("Publishing Payload stalled"),void s.relayer.events.emit("relayer_connection_stalled")}s.onPublish(Rt,Ke),s.logger.debug("Successfully Published Payload"),s.logger.trace({type:"method",method:"publish",params:{topic:f,message:y,opts:R}})}catch(V){throw s.logger.debug("Failed to Publish Payload"),s.logger.error(V),V}});return function(f,y,R){return u.apply(this,arguments)}}(),this.on=(u,f)=>{this.events.on(u,f)},this.once=(u,f)=>{this.events.once(u,f)},this.off=(u,f)=>{this.events.off(u,f)},this.removeListener=(u,f)=>{this.events.removeListener(u,f)},this.relayer=t,this.logger=(0,H.generateChildLogger)(r,this.name),this.registerEventListeners()}get context(){return(0,H.getLoggerContext)(this.logger)}rpcPublish(t,r,s,u,f,y){var R,V,Y,de;const De={method:ks(u.protocol).publish,params:{topic:t,message:r,ttl:s,prompt:f,tag:y}};return Tr(null==(R=De.params)?void 0:R.prompt)&&(null==(V=De.params)||delete V.prompt),Tr(null==(Y=De.params)?void 0:Y.tag)&&(null==(de=De.params)||delete de.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:De}),this.relayer.request(De)}onPublish(t,r){this.queue.delete(t)}checkQueue(){var t=this;this.queue.forEach(function(){var r=P(function*(s){const{topic:u,message:f,opts:y}=s;yield t.publish(u,f,y)});return function(s){return r.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(le.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}}class W0{constructor(){this.map=new Map,this.set=(t,r)=>{const s=this.get(t);this.exists(t,r)||this.map.set(t,[...s,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u")return void this.map.delete(t);if(!this.map.has(t))return;const s=this.get(t);if(!this.exists(t,r))return;const u=s.filter(f=>f!==r);u.length?this.map.set(t,u):this.map.delete(t)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var G0=Object.defineProperty,q0=Object.defineProperties,Y0=Object.getOwnPropertyDescriptors,Vf=Object.getOwnPropertySymbols,X0=Object.prototype.hasOwnProperty,Z0=Object.prototype.propertyIsEnumerable,Kf=(a,t,r)=>t in a?G0(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,as=(a,t)=>{for(var r in t||(t={}))X0.call(t,r)&&Kf(a,r,t[r]);if(Vf)for(var r of Vf(t))Z0.call(t,r)&&Kf(a,r,t[r]);return a},Qa=(a,t)=>q0(a,Y0(t));class Q0 extends x{constructor(t,r){var s;super(t,r),s=this,this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new W0,this.events=new be.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Xn,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=P(function*(){s.initialized||(s.logger.trace("Initialized"),yield s.restart(),s.registerEventListeners(),s.onEnable(),s.clientId=yield s.relayer.core.crypto.getClientId())}),this.subscribe=function(){var u=P(function*(f,y){yield s.restartToComplete(),s.isInitialized(),s.logger.debug("Subscribing Topic"),s.logger.trace({type:"method",method:"subscribe",params:{topic:f,opts:y}});try{const R=Ja(y),V={topic:f,relay:R};s.pending.set(f,V);const Y=yield s.rpcSubscribe(f,R);return s.onSubscribe(Y,V),s.logger.debug("Successfully Subscribed Topic"),s.logger.trace({type:"method",method:"subscribe",params:{topic:f,opts:y}}),Y}catch(R){throw s.logger.debug("Failed to Subscribe Topic"),s.logger.error(R),R}});return function(f,y){return u.apply(this,arguments)}}(),this.unsubscribe=function(){var u=P(function*(f,y){yield s.restartToComplete(),s.isInitialized(),typeof y?.id<"u"?yield s.unsubscribeById(f,y.id,y):yield s.unsubscribeByTopic(f,y)});return function(f,y){return u.apply(this,arguments)}}(),this.isSubscribed=function(){var u=P(function*(f){return!!s.topics.includes(f)||(yield new Promise((y,R)=>{const V=new J.Watch;V.start(s.pendingSubscriptionWatchLabel);const Y=setInterval(()=>{!s.pending.has(f)&&s.topics.includes(f)&&(clearInterval(Y),V.stop(s.pendingSubscriptionWatchLabel),y(!0)),V.elapsed(s.pendingSubscriptionWatchLabel)>=F0&&(clearInterval(Y),V.stop(s.pendingSubscriptionWatchLabel),R(!1))},s.pollingInterval)}))});return function(f){return u.apply(this,arguments)}}(),this.on=(u,f)=>{this.events.on(u,f)},this.once=(u,f)=>{this.events.once(u,f)},this.off=(u,f)=>{this.events.off(u,f)},this.removeListener=(u,f)=>{this.events.removeListener(u,f)},this.restart=P(function*(){s.restartInProgress=!0,yield s.restore(),yield s.reset(),s.restartInProgress=!1}),this.relayer=t,this.logger=(0,H.generateChildLogger)(r,this.name),this.clientId=""}get context(){return(0,H.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let s=!1;try{s=this.getSubscription(t).topic===r}catch{}return s}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}unsubscribeByTopic(t,r){var s=this;return P(function*(){const u=s.topicMap.get(t);yield Promise.all(u.map(function(){var f=P(function*(y){return yield s.unsubscribeById(t,y,r)});return function(y){return f.apply(this,arguments)}}()))})()}unsubscribeById(t,r,s){var u=this;return P(function*(){u.logger.debug("Unsubscribing Topic"),u.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:s}});try{const f=Ja(s);yield u.rpcUnsubscribe(t,r,f);const y=dr("USER_DISCONNECTED",`${u.name}, ${t}`);yield u.onUnsubscribe(t,r,y),u.logger.debug("Successfully Unsubscribed Topic"),u.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:s}})}catch(f){throw u.logger.debug("Failed to Unsubscribe Topic"),u.logger.error(f),f}})()}rpcSubscribe(t,r){var s=this;return P(function*(){const u={method:ks(r.protocol).subscribe,params:{topic:t}};s.logger.debug("Outgoing Relay Payload"),s.logger.trace({type:"payload",direction:"outgoing",request:u});try{yield yield Qs(s.relayer.request(u),s.subscribeTimeout)}catch{s.logger.debug("Outgoing Relay Subscribe Payload stalled"),s.relayer.events.emit("relayer_connection_stalled")}return hi(t+s.clientId)})()}rpcBatchSubscribe(t){var r=this;return P(function*(){if(!t.length)return;const u={method:ks(t[0].relay.protocol).batchSubscribe,params:{topics:t.map(f=>f.topic)}};r.logger.debug("Outgoing Relay Payload"),r.logger.trace({type:"payload",direction:"outgoing",request:u});try{return yield yield Qs(r.relayer.request(u),r.subscribeTimeout)}catch{r.logger.debug("Outgoing Relay Payload stalled"),r.relayer.events.emit("relayer_connection_stalled")}})()}rpcUnsubscribe(t,r,s){const u={method:ks(s.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:u}),this.relayer.request(u)}onSubscribe(t,r){this.setSubscription(t,Qa(as({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,as({},r)),this.pending.delete(r.topic)})}onUnsubscribe(t,r,s){var u=this;return P(function*(){u.events.removeAllListeners(r),u.hasSubscription(r,t)&&u.deleteSubscription(r,s),yield u.relayer.messages.del(t)})()}setRelayerSubscriptions(t){var r=this;return P(function*(){yield r.relayer.core.storage.setItem(r.storageKey,t)})()}getRelayerSubscriptions(){var t=this;return P(function*(){return yield t.relayer.core.storage.getItem(t.storageKey)})()}setSubscription(t,r){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r))}addSubscription(t,r){this.subscriptions.set(t,as({},r)),this.topicMap.set(r.topic,t),this.events.emit(In_created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(s)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const s=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(s.topic,t),this.events.emit(In_deleted,Qa(as({},s),{reason:r}))}persist(){var t=this;return P(function*(){yield t.setRelayerSubscriptions(t.values),t.events.emit("subscription_sync")})()}reset(){var t=this;return P(function*(){if(t.cached.length){const r=Math.ceil(t.cached.length/t.batchSubscribeTopicsLimit);for(let s=0;s<r;s++){const u=t.cached.splice(0,t.batchSubscribeTopicsLimit);yield t.batchSubscribe(u)}}t.events.emit("subscription_resubscribed")})()}restore(){var t=this;return P(function*(){try{const r=yield t.getRelayerSubscriptions();if(typeof r>"u"||!r.length)return;if(t.subscriptions.size){const{message:s}=Ne("RESTORE_WILL_OVERRIDE",t.name);throw t.logger.error(s),t.logger.error(`${t.name}: ${JSON.stringify(t.values)}`),new Error(s)}t.cached=r,t.logger.debug(`Successfully Restored subscriptions for ${t.name}`),t.logger.trace({type:"method",method:"restore",subscriptions:t.values})}catch(r){t.logger.debug(`Failed to Restore subscriptions for ${t.name}`),t.logger.error(r)}})()}batchSubscribe(t){var r=this;return P(function*(){if(!t.length)return;const s=yield r.rpcBatchSubscribe(t);Ui(s)&&r.onBatchSubscribe(s.map((u,f)=>Qa(as({},t[f]),{id:u})))})()}onConnect(){var t=this;return P(function*(){t.restartInProgress||(yield t.restart(),t.onEnable())})()}onDisconnect(){this.onDisable()}checkPending(){var t=this;return P(function*(){if(t.relayer.transportExplicitlyClosed)return;const r=[];t.pending.forEach(s=>{r.push(s)}),yield t.batchSubscribe(r)})()}registerEventListeners(){var t=this;this.relayer.core.heartbeat.on(le.HEARTBEAT_EVENTS.pulse,P(function*(){yield t.checkPending()})),this.relayer.on("relayer_connect",P(function*(){yield t.onConnect()})),this.relayer.on("relayer_disconnect",()=>{this.onDisconnect()}),this.events.on(In_created,function(){var r=P(function*(s){const u=In_created;t.logger.info(`Emitting ${u}`),t.logger.debug({type:"event",event:u,data:s}),yield t.persist()});return function(s){return r.apply(this,arguments)}}()),this.events.on(In_deleted,function(){var r=P(function*(s){const u=In_deleted;t.logger.info(`Emitting ${u}`),t.logger.debug({type:"event",event:u,data:s}),yield t.persist()});return function(s){return r.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}restartToComplete(){var t=this;return P(function*(){t.restartInProgress&&(yield new Promise(r=>{const s=setInterval(()=>{t.restartInProgress||(clearInterval(s),r())},t.pollingInterval)}))})()}}var k0=Object.defineProperty,Wf=Object.getOwnPropertySymbols,ev=Object.prototype.hasOwnProperty,tv=Object.prototype.propertyIsEnumerable,Gf=(a,t,r)=>t in a?k0(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;class nv extends S{constructor(t){var r;super(t),r=this,this.protocol="wc",this.version=2,this.events=new be.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=function(){var s=P(function*(u){r.logger.debug("Publishing Request Payload");try{return yield r.toEstablishConnection(),yield r.provider.request(u)}catch(f){throw r.logger.debug("Failed to Publish Request"),r.logger.error(f),f}});return function(u){return s.apply(this,arguments)}}(),this.core=t.core,this.logger=typeof t.logger<"u"&&"string"!=typeof t.logger?(0,H.generateChildLogger)(t.logger,this.name):(0,H.pino)((0,H.getDefaultLoggerOptions)({level:t.logger||"error"})),this.messages=new V0(this.logger,t.core),this.subscriber=new Q0(this,this.logger),this.publisher=new K0(this,this.logger),this.relayUrl=t?.relayUrl||$f,this.projectId=t.projectId,this.provider={}}init(){var t=this;return P(function*(){t.logger.trace("Initialized"),yield t.createProvider(),yield Promise.all([t.messages.init(),t.transportOpen(),t.subscriber.init()]),t.registerEventListeners(),t.initialized=!0})()}get context(){return(0,H.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}publish(t,r,s){var u=this;return P(function*(){u.isInitialized(),yield u.publisher.publish(t,r,s),yield u.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()})})()}subscribe(t,r){var s=this;return P(function*(){s.isInitialized();let u="";return yield Promise.all([new Promise(f=>{s.subscriber.once(In_created,y=>{y.topic===t&&f()})}),new Promise(function(){var f=P(function*(y){u=yield s.subscriber.subscribe(t,r),y()});return function(y){return f.apply(this,arguments)}}())]),u})()}unsubscribe(t,r){var s=this;return P(function*(){s.isInitialized(),yield s.subscriber.unsubscribe(t,r)})()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}transportClose(){var t=this;return P(function*(){t.transportExplicitlyClosed=!0,t.connected&&(yield t.provider.disconnect(),t.events.emit("relayer_transport_closed"))})()}transportOpen(t){var r=this;return P(function*(){if(r.transportExplicitlyClosed=!1,!r.reconnecting){r.relayUrl=t||r.relayUrl,r.reconnecting=!0;try{yield Promise.all([new Promise(s=>{r.initialized||s(),r.subscriber.once("subscription_resubscribed",()=>{s()})}),yield Promise.race([new Promise(function(){var s=P(function*(u,f){yield Qs(r.provider.connect(),5e3,"socket stalled").catch(y=>f(y)).then(()=>u()).finally(()=>r.removeListener("relayer_transport_closed",r.rejectTransportOpen))});return function(u,f){return s.apply(this,arguments)}}()),new Promise(s=>r.once("relayer_transport_closed",r.rejectTransportOpen))])])}catch(s){if(r.logger.error(s),!r.isConnectionStalled(s.message))throw s;r.events.emit("relayer_transport_closed")}finally{r.reconnecting=!1}}})()}restartTransport(t){var r=this;return P(function*(){r.transportExplicitlyClosed||(r.relayUrl=t||r.relayUrl,r.connected&&(yield Promise.all([new Promise(s=>{r.provider.once("disconnect",()=>{s()})}),r.transportClose()])),yield r.createProvider(),yield r.transportOpen())})()}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}createProvider(){var t=this;return P(function*(){const r=yield t.core.crypto.signJWT(t.relayUrl);t.provider=new Yn(new class Vg{constructor(t){if(this.url=t,this.events=new be.EventEmitter,this.registering=!1,!(0,Qe.isWsUrl)(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}open(t=this.url){var r=this;return P(function*(){yield r.register(t)})()}close(){var t=this;return P(function*(){return new Promise((r,s)=>{typeof t.socket>"u"?s(new Error("Connection already closed")):(t.socket.onclose=u=>{t.onClose(u),r()},t.socket.close())})})()}send(t,r){var s=this;return P(function*(){typeof s.socket>"u"&&(s.socket=yield s.register());try{s.socket.send(Me(t))}catch(u){s.onError(t.id,u)}})()}register(t=this.url){if(!(0,Qe.isWsUrl)(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((s,u)=>{this.events.once("register_error",f=>{this.resetMaxListeners(),u(f)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return u(new Error("WebSocket connection is missing or invalid"));s(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,s)=>{const u=(0,Qe.isReactNative)()?void 0:{rejectUnauthorized:!(0,Qe.isLocalhostUrl)(t)},f=new Jg(t,[],u);typeof window<"u"?f.onerror=y=>{s(this.emitError(y.error))}:f.on("error",y=>{s(this.emitError(y))}),f.onopen=()=>{this.onOpen(f),r(f)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r="string"==typeof t.data?Le(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const s=this.parseError(r),u=s.message||s.toString(),f=(0,Qe.formatJsonRpcError)(t,u);this.events.emit("payload",f)}parseError(t,r=this.url){return(0,Qe.parseConnectionError)(t,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(t){const r=this.parseError(new Error((null==t?void 0:t.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",r),r}}(function Vp({protocol:a,version:t,relayUrl:r,sdkVersion:s,auth:u,projectId:f,useOnCloseEvent:y}){const R=r.split("?"),V=Jp(a,t,s),de=function Bp(a,t){let r=Ys.parse(a);return r=rf(rf({},r),t),Ys.stringify(r)}(R[1]||"",{auth:u,ua:V,projectId:f,useOnCloseEvent:y||void 0});return R[0]+"?"+de}({sdkVersion:"2.7.2",protocol:t.protocol,version:t.version,relayUrl:t.relayUrl,projectId:t.projectId,auth:r,useOnCloseEvent:!0}))),t.registerProviderListeners()})()}recordMessageEvent(t){var r=this;return P(function*(){const{topic:s,message:u}=t;yield r.messages.set(s,u)})()}shouldIgnoreMessageEvent(t){var r=this;return P(function*(){const{topic:s,message:u}=t;return!(yield r.subscriber.isSubscribed(s))||r.messages.has(s,u)})()}onProviderPayload(t){var r=this;return P(function*(){if(r.logger.debug("Incoming Relay Payload"),r.logger.trace({type:"payload",direction:"incoming",payload:t}),(0,Qe.isJsonRpcRequest)(t)){if(!t.method.endsWith("_subscription"))return;const s=t.params,{topic:u,message:f,publishedAt:y}=s.data,R={topic:u,message:f,publishedAt:y};r.logger.debug("Emitting Relayer Payload"),r.logger.trace(((a,t)=>{for(var r in t||(t={}))ev.call(t,r)&&Gf(a,r,t[r]);if(Wf)for(var r of Wf(t))tv.call(t,r)&&Gf(a,r,t[r]);return a})({type:"event",event:s.id},R)),r.events.emit(s.id,R),yield r.acknowledgePayload(t),yield r.onMessageEvent(R)}})()}onMessageEvent(t){var r=this;return P(function*(){(yield r.shouldIgnoreMessageEvent(t))||(r.events.emit("relayer_message",t),yield r.recordMessageEvent(t))})()}acknowledgePayload(t){var r=this;return P(function*(){const s=(0,Qe.formatJsonRpcResult)(t.id,!0);yield r.provider.connection.send(s)})()}registerProviderListeners(){this.provider.on("payload",t=>this.onProviderPayload(t)),this.provider.on("connect",()=>{this.events.emit("relayer_connect")}),this.provider.on("disconnect",()=>{this.onProviderDisconnect()}),this.provider.on("error",t=>{this.logger.error(t),this.events.emit("relayer_error",t)})}registerEventListeners(){var t=this;this.events.on("relayer_connection_stalled",P(function*(){yield t.restartTransport()}))}onProviderDisconnect(){this.events.emit("relayer_disconnect"),this.attemptToReconnect()}attemptToReconnect(){var t=this;this.transportExplicitlyClosed||setTimeout(P(function*(){yield t.restartTransport()}),(0,J.toMiliseconds)(A0))}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}toEstablishConnection(){var t=this;return P(function*(){if(!t.connected){if(t.connecting)return yield new Promise(r=>{const s=setInterval(()=>{t.connected&&(clearInterval(s),r())},t.connectionStatusPollingInterval)});yield t.restartTransport()}})()}}var iv=Object.defineProperty,qf=Object.getOwnPropertySymbols,sv=Object.prototype.hasOwnProperty,ov=Object.prototype.propertyIsEnumerable,Yf=(a,t,r)=>t in a?iv(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,Xf=(a,t)=>{for(var r in t||(t={}))sv.call(t,r)&&Yf(a,r,t[r]);if(qf)for(var r of qf(t))ov.call(t,r)&&Yf(a,r,t[r]);return a};class ro extends class b{constructor(t,r,s,u){this.core=t,this.logger=r,this.name=s}}{constructor(t,r,s,u=Xn,f){var y;super(t,r,s,u),y=this,this.core=t,this.logger=r,this.name=s,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Xn,this.init=P(function*(){y.initialized||(y.logger.trace("Initialized"),yield y.restore(),y.cached.forEach(R=>{y.getKey&&null!==R&&!Tr(R)?y.map.set(y.getKey(R),R):function Eg(a){var t;return null==(t=a?.proposer)?void 0:t.publicKey}(R)?y.map.set(R.id,R):function wg(a){return a?.topic}(R)&&y.map.set(R.topic,R)}),y.cached=[],y.initialized=!0)}),this.set=function(){var R=P(function*(V,Y){y.isInitialized(),y.map.has(V)?yield y.update(V,Y):(y.logger.debug("Setting value"),y.logger.trace({type:"method",method:"set",key:V,value:Y}),y.map.set(V,Y),yield y.persist())});return function(V,Y){return R.apply(this,arguments)}}(),this.get=R=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:R}),this.getData(R)),this.getAll=R=>(this.isInitialized(),R?this.values.filter(V=>Object.keys(R).every(Y=>Gg()(V[Y],R[Y]))):this.values),this.update=function(){var R=P(function*(V,Y){y.isInitialized(),y.logger.debug("Updating value"),y.logger.trace({type:"method",method:"update",key:V,update:Y});const de=Xf(Xf({},y.getData(V)),Y);y.map.set(V,de),yield y.persist()});return function(V,Y){return R.apply(this,arguments)}}(),this.delete=function(){var R=P(function*(V,Y){y.isInitialized(),y.map.has(V)&&(y.logger.debug("Deleting value"),y.logger.trace({type:"method",method:"delete",key:V,reason:Y}),y.map.delete(V),yield y.persist())});return function(V,Y){return R.apply(this,arguments)}}(),this.logger=(0,H.generateChildLogger)(r,this.name),this.storagePrefix=u,this.getKey=f}get context(){return(0,H.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}setDataStore(t){var r=this;return P(function*(){yield r.core.storage.setItem(r.storageKey,t)})()}getDataStore(){var t=this;return P(function*(){return yield t.core.storage.getItem(t.storageKey)})()}getData(t){const r=this.map.get(t);if(!r){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}return r}persist(){var t=this;return P(function*(){yield t.setDataStore(t.values)})()}restore(){var t=this;return P(function*(){try{const r=yield t.getDataStore();if(typeof r>"u"||!r.length)return;if(t.map.size){const{message:s}=Ne("RESTORE_WILL_OVERRIDE",t.name);throw t.logger.error(s),new Error(s)}t.cached=r,t.logger.debug(`Successfully Restored value for ${t.name}`),t.logger.trace({type:"method",method:"restore",value:t.values})}catch(r){t.logger.debug(`Failed to Restore value for ${t.name}`),t.logger.error(r)}})()}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class av{constructor(t,r){var s=this;this.core=t,this.logger=r,this.name="pairing",this.version="0.3",this.events=new(X()),this.initialized=!1,this.storagePrefix=Xn,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=P(function*(){s.initialized||(yield s.pairings.init(),yield s.cleanup(),s.registerRelayerEvents(),s.registerExpirerEvents(),s.initialized=!0,s.logger.trace("Initialized"))}),this.register=({methods:u})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...u])]},this.create=P(function*(){s.isInitialized();const u=Ma(),f=yield s.core.crypto.setSymKey(u),y=gn(J.FIVE_MINUTES),R={protocol:"irn"},V={topic:f,expiry:y,relay:R,active:!1},Y=function ig(a){return`${a.protocol}:${a.topic}@${a.version}?`+Ys.stringify(((a,t)=>{for(var r in t||(t={}))Qp.call(t,r)&&lf(a,r,t[r]);if(ff)for(var r of ff(t))kp.call(t,r)&&lf(a,r,t[r]);return a})({symKey:a.symKey},function ng(a,t="-"){const s={};return Object.keys(a).forEach(u=>{a[u]&&(s["relay"+t+u]=a[u])}),s}(a.relay)))}({protocol:s.core.protocol,version:s.core.version,topic:f,symKey:u,relay:R});return yield s.pairings.set(f,V),yield s.core.relayer.subscribe(f),s.core.expirer.set(f,y),{topic:f,uri:Y}}),this.pair=function(){var u=P(function*(f){s.isInitialized(),s.isValidPair(f);const{topic:y,symKey:R,relay:V}=function rg(a){const t=a.indexOf(":"),r=-1!==a.indexOf("?")?a.indexOf("?"):void 0,s=a.substring(0,t),u=a.substring(t+1,r).split("@"),f=typeof r<"u"?a.substring(r):"",y=Ys.parse(f);return{protocol:s,topic:u[0],version:parseInt(u[1],10),symKey:y.symKey,relay:tg(y)}}(f.uri);if(s.pairings.keys.includes(y))throw new Error(`Pairing already exists: ${y}`);if(s.core.crypto.hasKeys(y))throw new Error(`Keychain already exists: ${y}`);const Y=gn(J.FIVE_MINUTES),de={topic:y,relay:V,expiry:Y,active:!1};return yield s.pairings.set(y,de),yield s.core.crypto.setSymKey(R,y),yield s.core.relayer.subscribe(y,{relay:V}),s.core.expirer.set(y,Y),f.activatePairing&&(yield s.activate({topic:y})),de});return function(f){return u.apply(this,arguments)}}(),this.activate=function(){var u=P(function*({topic:f}){s.isInitialized();const y=gn(J.THIRTY_DAYS);yield s.pairings.update(f,{active:!0,expiry:y}),s.core.expirer.set(f,y)});return function(f){return u.apply(this,arguments)}}(),this.ping=function(){var u=P(function*(f){s.isInitialized(),yield s.isValidPing(f);const{topic:y}=f;if(s.pairings.keys.includes(y)){const R=yield s.sendRequest(y,"wc_pairingPing",{}),{done:V,resolve:Y,reject:de}=Ti();s.events.once(hr("pairing_ping",R),({error:De})=>{De?de(De):Y()}),yield V()}});return function(f){return u.apply(this,arguments)}}(),this.updateExpiry=function(){var u=P(function*({topic:f,expiry:y}){s.isInitialized(),yield s.pairings.update(f,{expiry:y})});return function(f){return u.apply(this,arguments)}}(),this.updateMetadata=function(){var u=P(function*({topic:f,metadata:y}){s.isInitialized(),yield s.pairings.update(f,{peerMetadata:y})});return function(f){return u.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var u=P(function*(f){s.isInitialized(),yield s.isValidDisconnect(f);const{topic:y}=f;s.pairings.keys.includes(y)&&(yield s.sendRequest(y,"wc_pairingDelete",dr("USER_DISCONNECTED")),yield s.deletePairing(y))});return function(f){return u.apply(this,arguments)}}(),this.sendRequest=function(){var u=P(function*(f,y,R){const V=(0,Qe.formatJsonRpcRequest)(y,R),Y=yield s.core.crypto.encode(f,V),de=os[y].req;return s.core.history.set(f,V),yield s.core.relayer.publish(f,Y,de),V.id});return function(f,y,R){return u.apply(this,arguments)}}(),this.sendResult=function(){var u=P(function*(f,y,R){const V=(0,Qe.formatJsonRpcResult)(f,R),Y=yield s.core.crypto.encode(y,V),de=yield s.core.history.get(y,f),De=os[de.request.method].res;yield s.core.relayer.publish(y,Y,De),yield s.core.history.resolve(V)});return function(f,y,R){return u.apply(this,arguments)}}(),this.sendError=function(){var u=P(function*(f,y,R){const V=(0,Qe.formatJsonRpcError)(f,R),Y=yield s.core.crypto.encode(y,V),de=yield s.core.history.get(y,f),De=os[de.request.method]?os[de.request.method].res:os.unregistered_method.res;yield s.core.relayer.publish(y,Y,De),yield s.core.history.resolve(V)});return function(f,y,R){return u.apply(this,arguments)}}(),this.deletePairing=function(){var u=P(function*(f,y){yield s.core.relayer.unsubscribe(f),yield Promise.all([s.pairings.delete(f,dr("USER_DISCONNECTED")),s.core.crypto.deleteSymKey(f),y?Promise.resolve():s.core.expirer.del(f)])});return function(f,y){return u.apply(this,arguments)}}(),this.cleanup=P(function*(){const u=s.pairings.getAll().filter(f=>qn(f.expiry));yield Promise.all(u.map(f=>s.deletePairing(f.topic)))}),this.onRelayEventRequest=u=>{const{topic:f,payload:y}=u,R=y.method;if(this.pairings.keys.includes(f))switch(R){case"wc_pairingPing":return this.onPairingPingRequest(f,y);case"wc_pairingDelete":return this.onPairingDeleteRequest(f,y);default:return this.onUnknownRpcMethodRequest(f,y)}},this.onRelayEventResponse=function(){var u=P(function*(f){const{topic:y,payload:R}=f,V=(yield s.core.history.get(y,R.id)).request.method;if(s.pairings.keys.includes(y))return"wc_pairingPing"===V?s.onPairingPingResponse(y,R):s.onUnknownRpcMethodResponse(V)});return function(f){return u.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var u=P(function*(f,y){const{id:R}=y;try{s.isValidPing({topic:f}),yield s.sendResult(R,f,!0),s.events.emit("pairing_ping",{id:R,topic:f})}catch(V){yield s.sendError(R,f,V),s.logger.error(V)}});return function(f,y){return u.apply(this,arguments)}}(),this.onPairingPingResponse=(u,f)=>{const{id:y}=f;setTimeout(()=>{(0,Qe.isJsonRpcResult)(f)?this.events.emit(hr("pairing_ping",y),{}):(0,Qe.isJsonRpcError)(f)&&this.events.emit(hr("pairing_ping",y),{error:f.error})},500)},this.onPairingDeleteRequest=function(){var u=P(function*(f,y){const{id:R}=y;try{s.isValidDisconnect({topic:f}),yield s.deletePairing(f),s.events.emit("pairing_delete",{id:R,topic:f})}catch(V){yield s.sendError(R,f,V),s.logger.error(V)}});return function(f,y){return u.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var u=P(function*(f,y){const{id:R,method:V}=y;try{if(s.registeredMethods.includes(V))return;const Y=dr("WC_METHOD_UNSUPPORTED",V);yield s.sendError(R,f,Y),s.logger.error(Y)}catch(Y){yield s.sendError(R,f,Y),s.logger.error(Y)}});return function(f,y){return u.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=u=>{this.registeredMethods.includes(u)||this.logger.error(dr("WC_METHOD_UNSUPPORTED",u))},this.isValidPair=u=>{if(!Mr(u)){const{message:f}=Ne("MISSING_OR_INVALID",`pair() params: ${u}`);throw new Error(f)}if(!function bg(a){if(_r(a,!1))try{return typeof new URL(a)<"u"}catch{return!1}return!1}(u.uri)){const{message:f}=Ne("MISSING_OR_INVALID",`pair() uri: ${u.uri}`);throw new Error(f)}},this.isValidPing=function(){var u=P(function*(f){if(!Mr(f)){const{message:R}=Ne("MISSING_OR_INVALID",`ping() params: ${f}`);throw new Error(R)}const{topic:y}=f;yield s.isValidPairingTopic(y)});return function(f){return u.apply(this,arguments)}}(),this.isValidDisconnect=function(){var u=P(function*(f){if(!Mr(f)){const{message:R}=Ne("MISSING_OR_INVALID",`disconnect() params: ${f}`);throw new Error(R)}const{topic:y}=f;yield s.isValidPairingTopic(y)});return function(f){return u.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var u=P(function*(f){if(!_r(f,!1)){const{message:y}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${f}`);throw new Error(y)}if(!s.pairings.keys.includes(f)){const{message:y}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${f}`);throw new Error(y)}if(qn(s.pairings.get(f).expiry)){yield s.deletePairing(f);const{message:y}=Ne("EXPIRED",`pairing topic: ${f}`);throw new Error(y)}});return function(f){return u.apply(this,arguments)}}(),this.core=t,this.logger=(0,H.generateChildLogger)(r,this.name),this.pairings=new ro(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,H.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){var t=this;this.core.relayer.on("relayer_message",function(){var r=P(function*(s){const{topic:u,message:f}=s;if(t.ignoredPayloadTypes.includes(t.core.crypto.getPayloadType(f)))return;const y=yield t.core.crypto.decode(u,f);(0,Qe.isJsonRpcRequest)(y)?(t.core.history.set(u,y),t.onRelayEventRequest({topic:u,payload:y})):(0,Qe.isJsonRpcResponse)(y)&&(yield t.core.history.resolve(y),t.onRelayEventResponse({topic:u,payload:y}))});return function(s){return r.apply(this,arguments)}}())}registerExpirerEvents(){var t=this;this.core.expirer.on(kr_expired,function(){var r=P(function*(s){const{topic:u}=cf(s.target);u&&t.pairings.keys.includes(u)&&(yield t.deletePairing(u,!0),t.events.emit("pairing_expire",{topic:u}))});return function(s){return r.apply(this,arguments)}}())}}class uv extends l{constructor(t,r){var s;super(t,r),s=this,this.core=t,this.logger=r,this.records=new Map,this.events=new be.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Xn,this.init=P(function*(){s.initialized||(s.logger.trace("Initialized"),yield s.restore(),s.cached.forEach(u=>s.records.set(u.id,u)),s.cached=[],s.registerEventListeners(),s.initialized=!0)}),this.set=(u,f,y)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:u,request:f,chainId:y}),this.records.has(f.id))return;const R={id:f.id,topic:u,request:{method:f.method,params:f.params||null},chainId:y};this.records.set(R.id,R),this.events.emit("history_created",R)},this.resolve=function(){var u=P(function*(f){if(s.isInitialized(),s.logger.debug("Updating JSON-RPC response history record"),s.logger.trace({type:"method",method:"update",response:f}),!s.records.has(f.id))return;const y=yield s.getRecord(f.id);typeof y.response>"u"&&(y.response=(0,Qe.isJsonRpcError)(f)?{error:f.error}:{result:f.result},s.records.set(y.id,y),s.events.emit("history_updated",y))});return function(f){return u.apply(this,arguments)}}(),this.get=function(){var u=P(function*(f,y){return s.isInitialized(),s.logger.debug("Getting record"),s.logger.trace({type:"method",method:"get",topic:f,id:y}),yield s.getRecord(y)});return function(f,y){return u.apply(this,arguments)}}(),this.delete=(u,f)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:f}),this.values.forEach(y=>{if(y.topic===u){if(typeof f<"u"&&y.id!==f)return;this.records.delete(y.id),this.events.emit("history_deleted",y)}})},this.exists=function(){var u=P(function*(f,y){return s.isInitialized(),!!s.records.has(y)&&(yield s.getRecord(y)).topic===f});return function(f,y){return u.apply(this,arguments)}}(),this.on=(u,f)=>{this.events.on(u,f)},this.once=(u,f)=>{this.events.once(u,f)},this.off=(u,f)=>{this.events.off(u,f)},this.removeListener=(u,f)=>{this.events.removeListener(u,f)},this.logger=(0,H.generateChildLogger)(r,this.name)}get context(){return(0,H.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const s={topic:r.topic,request:(0,Qe.formatJsonRpcRequest)(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(s)}),t}setJsonRpcRecords(t){var r=this;return P(function*(){yield r.core.storage.setItem(r.storageKey,t)})()}getJsonRpcRecords(){var t=this;return P(function*(){return yield t.core.storage.getItem(t.storageKey)})()}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(s)}return r}persist(){var t=this;return P(function*(){yield t.setJsonRpcRecords(t.values),t.events.emit("history_sync")})()}restore(){var t=this;return P(function*(){try{const r=yield t.getJsonRpcRecords();if(typeof r>"u"||!r.length)return;if(t.records.size){const{message:s}=Ne("RESTORE_WILL_OVERRIDE",t.name);throw t.logger.error(s),new Error(s)}t.cached=r,t.logger.debug(`Successfully Restored records for ${t.name}`),t.logger.trace({type:"method",method:"restore",records:t.values})}catch(r){t.logger.debug(`Failed to Restore records for ${t.name}`),t.logger.error(r)}})()}registerEventListeners(){this.events.on("history_created",t=>{const r="history_created";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on("history_updated",t=>{const r="history_updated";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on("history_deleted",t=>{const r="history_deleted";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class cv extends N{constructor(t,r){var s;super(t,r),s=this,this.core=t,this.logger=r,this.expirations=new Map,this.events=new be.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Xn,this.init=P(function*(){s.initialized||(s.logger.trace("Initialized"),yield s.restore(),s.cached.forEach(u=>s.expirations.set(u.target,u)),s.cached=[],s.registerEventListeners(),s.initialized=!0)}),this.has=u=>{try{const f=this.formatTarget(u);return typeof this.getExpiration(f)<"u"}catch{return!1}},this.set=(u,f)=>{this.isInitialized();const y=this.formatTarget(u),R={target:y,expiry:f};this.expirations.set(y,R),this.checkExpiry(y,R),this.events.emit("expirer_created",{target:y,expiration:R})},this.get=u=>{this.isInitialized();const f=this.formatTarget(u);return this.getExpiration(f)},this.del=u=>{if(this.isInitialized(),this.has(u)){const f=this.formatTarget(u),y=this.getExpiration(f);this.expirations.delete(f),this.events.emit("expirer_deleted",{target:f,expiration:y})}},this.on=(u,f)=>{this.events.on(u,f)},this.once=(u,f)=>{this.events.once(u,f)},this.off=(u,f)=>{this.events.off(u,f)},this.removeListener=(u,f)=>{this.events.removeListener(u,f)},this.logger=(0,H.generateChildLogger)(r,this.name)}get context(){return(0,H.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if("string"==typeof t)return function qp(a){return uf("topic",a)}(t);if("number"==typeof t)return function Yp(a){return uf("id",a)}(t);const{message:r}=Ne("UNKNOWN_TYPE","Target type: "+typeof t);throw new Error(r)}setExpirations(t){var r=this;return P(function*(){yield r.core.storage.setItem(r.storageKey,t)})()}getExpirations(){var t=this;return P(function*(){return yield t.core.storage.getItem(t.storageKey)})()}persist(){var t=this;return P(function*(){yield t.setExpirations(t.values),t.events.emit("expirer_sync")})()}restore(){var t=this;return P(function*(){try{const r=yield t.getExpirations();if(typeof r>"u"||!r.length)return;if(t.expirations.size){const{message:s}=Ne("RESTORE_WILL_OVERRIDE",t.name);throw t.logger.error(s),new Error(s)}t.cached=r,t.logger.debug(`Successfully Restored expirations for ${t.name}`),t.logger.trace({type:"method",method:"restore",expirations:t.values})}catch(r){t.logger.debug(`Failed to Restore expirations for ${t.name}`),t.logger.error(r)}})()}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}return r}checkExpiry(t,r){const{expiry:s}=r;(0,J.toMiliseconds)(s)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(kr_expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(le.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on("expirer_created",t=>{const r="expirer_created";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(kr_expired,t=>{const r=kr_expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on("expirer_deleted",t=>{const r="expirer_deleted";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class fv extends class K{constructor(t,r){this.projectId=t,this.logger=r}}{constructor(t,r){var s;super(t,r),s=this,this.projectId=t,this.logger=r,this.name=Hf,this.initialized=!1,this.init=function(){var u=P(function*(f){sf()||!$a()||(s.verifyUrl=f?.verifyUrl||Jf,yield s.createIframe())});return function(f){return u.apply(this,arguments)}}(),this.register=function(){var u=P(function*(f){var y;s.initialized||(yield s.init()),s.iframe&&(null==(y=s.iframe.contentWindow)||y.postMessage(f.attestationId,s.verifyUrl),s.logger.info(`postMessage sent: ${f.attestationId} ${s.verifyUrl}`))});return function(f){return u.apply(this,arguments)}}(),this.resolve=function(){var u=P(function*(f){var y;if(s.isDevEnv)return"";s.logger.info(`resolving attestation: ${f.attestationId}`);const R=s.startAbortTimer(J.FIVE_SECONDS),V=yield fetch(`${s.verifyUrl}/attestation/${f.attestationId}`,{signal:s.abortController.signal});return clearTimeout(R),200===V.status?null==(y=yield V.json())?void 0:y.origin:""});return function(f){return u.apply(this,arguments)}}(),this.createIframe=P(function*(){try{const u=s.startAbortTimer(J.FIVE_SECONDS);yield Promise.race([new Promise((f,y)=>{const R=document.createElement("iframe");R.setAttribute("id",Hf),R.setAttribute("src",`${s.verifyUrl}/${s.projectId}`),R.style.display="none",R.addEventListener("load",()=>{s.initialized=!0,clearTimeout(u),f()}),R.addEventListener("error",V=>{y(V)}),document.body.append(R),s.iframe=R}),new Promise(f=>{s.abortController.signal.addEventListener("abort",()=>{f("iframe load timeout")})})])}catch(u){s.logger.error(`Verify iframe failed to load: ${s.verifyUrl}`),s.logger.error(u)}}),this.logger=(0,H.generateChildLogger)(r,this.name),this.verifyUrl=Jf,this.abortController=new AbortController,this.isDevEnv=za()&&process.env.IS_VITEST}get context(){return(0,H.getLoggerContext)(this.logger)}startAbortTimer(t){return setTimeout(()=>this.abortController.abort(),gn(t))}}var lv=Object.defineProperty,Zf=Object.getOwnPropertySymbols,hv=Object.prototype.hasOwnProperty,dv=Object.prototype.propertyIsEnumerable,Qf=(a,t,r)=>t in a?lv(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,kf=(a,t)=>{for(var r in t||(t={}))hv.call(t,r)&&Qf(a,r,t[r]);if(Zf)for(var r of Zf(t))dv.call(t,r)&&Qf(a,r,t[r]);return a};class ka extends M{constructor(t){super(t),this.protocol="wc",this.version=2,this.name="core",this.events=new be.EventEmitter,this.initialized=!1,this.on=(s,u)=>this.events.on(s,u),this.once=(s,u)=>this.events.once(s,u),this.off=(s,u)=>this.events.off(s,u),this.removeListener=(s,u)=>this.events.removeListener(s,u),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||$f;const r=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,H.pino)((0,H.getDefaultLoggerOptions)({level:t?.logger||"error"}));this.logger=(0,H.generateChildLogger)(r,this.name),this.heartbeat=new le.HeartBeat,this.crypto=new J0(this,this.logger,t?.keychain),this.history=new uv(this,this.logger),this.expirer=new cv(this,this.logger),this.storage=null!=t&&t.storage?t.storage:new ge.ZP(kf(kf({},m0),t?.storageOptions)),this.relayer=new nv({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new av(this,this.logger),this.verify=new fv(this.projectId||"",this.logger)}static init(t){return P(function*(){const r=new ka(t);return yield r.initialize(),r})()}get context(){return(0,H.getLoggerContext)(this.logger)}start(){var t=this;return P(function*(){t.initialized||(yield t.initialize())})()}initialize(){var t=this;return P(function*(){t.logger.trace("Initialized");try{yield t.crypto.init(),yield t.history.init(),yield t.expirer.init(),yield t.relayer.init(),yield t.heartbeat.init(),yield t.pairing.init(),t.initialized=!0,t.logger.info("Core Initialization Success")}catch(r){throw t.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,r),t.logger.error(r.message),r}})()}}const pv=ka,eu="wc@2:client:",nl="Proposal expired",no=J.SEVEN_DAYS,us={wc_sessionPropose:{req:{ttl:J.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:J.ONE_DAY,prompt:!1,tag:1104},res:{ttl:J.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:J.ONE_DAY,prompt:!1,tag:1106},res:{ttl:J.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:J.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:J.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:J.ONE_DAY,prompt:!1,tag:1112},res:{ttl:J.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:J.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:J.THIRTY_SECONDS,prompt:!1,tag:1115}}},ru={min:J.FIVE_MINUTES,max:J.SEVEN_DAYS},_v=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var bv=Object.defineProperty,Ev=Object.defineProperties,wv=Object.getOwnPropertyDescriptors,il=Object.getOwnPropertySymbols,Dv=Object.prototype.hasOwnProperty,xv=Object.prototype.propertyIsEnumerable,sl=(a,t,r)=>t in a?bv(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,en=(a,t)=>{for(var r in t||(t={}))Dv.call(t,r)&&sl(a,r,t[r]);if(il)for(var r of il(t))xv.call(t,r)&&sl(a,r,t[r]);return a},nu=(a,t)=>Ev(a,wv(t));class Sv extends class me{constructor(t){this.client=t}}{constructor(t){var r;super(t),r=this,this.name="engine",this.events=new(X()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.init=P(function*(){r.initialized||(yield r.cleanup(),r.registerRelayerEvents(),r.registerExpirerEvents(),r.client.core.pairing.register({methods:Object.keys(us)}),r.initialized=!0)}),this.connect=function(){var s=P(function*(u){r.isInitialized();const f=nu(en({},u),{requiredNamespaces:u.requiredNamespaces||{},optionalNamespaces:u.optionalNamespaces||{}});yield r.isValidConnect(f);const{pairingTopic:y,requiredNamespaces:R,optionalNamespaces:V,sessionProperties:Y,relays:de}=f;let Ke,De=y,Rt=!1;if(De&&(Rt=r.client.core.pairing.pairings.get(De).active),!De||!Rt){const{topic:Ye,uri:wt}=yield r.client.core.pairing.create();De=Ye,Ke=wt}const Ce=yield r.client.core.crypto.generateKeyPair(),ze=en({requiredNamespaces:R,optionalNamespaces:V,relays:de??[{protocol:"irn"}],proposer:{publicKey:Ce,metadata:r.client.metadata}},Y&&{sessionProperties:Y}),{reject:Je,resolve:lt,done:Ut}=Ti(J.FIVE_MINUTES,nl);if(r.events.once(hr("session_connect"),function(){var Ye=P(function*({error:wt,session:rt}){if(wt)Je(wt);else if(rt){rt.self.publicKey=Ce;const Mt=nu(en({},rt),{requiredNamespaces:rt.requiredNamespaces,optionalNamespaces:rt.optionalNamespaces});yield r.client.session.set(rt.topic,Mt),yield r.setExpiry(rt.topic,rt.expiry),De&&(yield r.client.core.pairing.updateMetadata({topic:De,metadata:rt.peer.metadata})),lt(Mt)}});return function(wt){return Ye.apply(this,arguments)}}()),!De){const{message:Ye}=Ne("NO_MATCHING_KEY",`connect() pairing topic: ${De}`);throw new Error(Ye)}const ht=yield r.sendRequest(De,"wc_sessionPropose",ze),st=gn(J.FIVE_MINUTES);return yield r.setProposal(ht,en({id:ht,expiry:st},ze)),{uri:Ke,approval:Ut}});return function(u){return s.apply(this,arguments)}}(),this.pair=function(){var s=P(function*(u){return r.isInitialized(),yield r.client.core.pairing.pair(u)});return function(u){return s.apply(this,arguments)}}(),this.approve=function(){var s=P(function*(u){r.isInitialized(),yield r.isValidApprove(u);const{id:f,relayProtocol:y,namespaces:R,sessionProperties:V}=u,Y=r.client.proposal.get(f);let{pairingTopic:de,proposer:De,requiredNamespaces:Ke,optionalNamespaces:Rt}=Y;de=de||"",gi(Ke)||(Ke=function gg(a,t){const r=eo(a,t);if(r)throw new Error(r.message);const s={};for(const[u,f]of Object.entries(a))s[u]={methods:f.methods,events:f.events,chains:f.accounts.map(y=>`${y.split(":")[0]}:${y.split(":")[1]}`)};return s}(R,"approve()"));const Ce=yield r.client.core.crypto.generateKeyPair(),ze=De.publicKey,Je=yield r.client.core.crypto.generateSharedKey(Ce,ze);de&&f&&(yield r.client.core.pairing.updateMetadata({topic:de,metadata:De.metadata}),yield r.sendResult(f,de,{relay:{protocol:y??"irn"},responderPublicKey:Ce}),yield r.client.proposal.delete(f,dr("USER_DISCONNECTED")),yield r.client.core.pairing.activate({topic:de}));const lt=en({relay:{protocol:y??"irn"},namespaces:R,requiredNamespaces:Ke,optionalNamespaces:Rt,pairingTopic:de,controller:{publicKey:Ce,metadata:r.client.metadata},expiry:gn(no)},V&&{sessionProperties:V});yield r.client.core.relayer.subscribe(Je),yield r.sendRequest(Je,"wc_sessionSettle",lt);const Ut=nu(en({},lt),{topic:Je,pairingTopic:de,acknowledged:!1,self:lt.controller,peer:{publicKey:De.publicKey,metadata:De.metadata},controller:Ce});return yield r.client.session.set(Je,Ut),yield r.setExpiry(Je,gn(no)),{topic:Je,acknowledged:()=>new Promise(ht=>ht(r.client.session.get(Je)))}});return function(u){return s.apply(this,arguments)}}(),this.reject=function(){var s=P(function*(u){r.isInitialized(),yield r.isValidReject(u);const{id:f,reason:y}=u,{pairingTopic:R}=r.client.proposal.get(f);R&&(yield r.sendError(f,R,y),yield r.client.proposal.delete(f,dr("USER_DISCONNECTED")))});return function(u){return s.apply(this,arguments)}}(),this.update=function(){var s=P(function*(u){r.isInitialized(),yield r.isValidUpdate(u);const{topic:f,namespaces:y}=u,R=yield r.sendRequest(f,"wc_sessionUpdate",{namespaces:y}),{done:V,resolve:Y,reject:de}=Ti();return r.events.once(hr("session_update",R),({error:De})=>{De?de(De):Y()}),yield r.client.session.update(f,{namespaces:y}),{acknowledged:V}});return function(u){return s.apply(this,arguments)}}(),this.extend=function(){var s=P(function*(u){r.isInitialized(),yield r.isValidExtend(u);const{topic:f}=u,y=yield r.sendRequest(f,"wc_sessionExtend",{}),{done:R,resolve:V,reject:Y}=Ti();return r.events.once(hr("session_extend",y),({error:de})=>{de?Y(de):V()}),yield r.setExpiry(f,gn(no)),{acknowledged:R}});return function(u){return s.apply(this,arguments)}}(),this.request=function(){var s=P(function*(u){r.isInitialized(),yield r.isValidRequest(u);const{chainId:f,request:y,topic:R,expiry:V}=u,Y=yield r.sendRequest(R,"wc_sessionRequest",{request:y,chainId:f},V),{done:de,resolve:De,reject:Ke}=Ti(V);return r.events.once(hr("session_request",Y),({error:Rt,result:Ce})=>{Rt?Ke(Rt):De(Ce)}),r.client.events.emit("session_request_sent",{topic:R,request:y,chainId:f,id:Y}),yield de()});return function(u){return s.apply(this,arguments)}}(),this.respond=function(){var s=P(function*(u){r.isInitialized(),yield r.isValidRespond(u);const{topic:f,response:y}=u,{id:R}=y;(0,Qe.isJsonRpcResult)(y)?yield r.sendResult(R,f,y.result):(0,Qe.isJsonRpcError)(y)&&(yield r.sendError(R,f,y.error)),r.deletePendingSessionRequest(u.response.id,{message:"fulfilled",code:0})});return function(u){return s.apply(this,arguments)}}(),this.ping=function(){var s=P(function*(u){r.isInitialized(),yield r.isValidPing(u);const{topic:f}=u;if(r.client.session.keys.includes(f)){const y=yield r.sendRequest(f,"wc_sessionPing",{}),{done:R,resolve:V,reject:Y}=Ti();r.events.once(hr("session_ping",y),({error:de})=>{de?Y(de):V()}),yield R()}else r.client.core.pairing.pairings.keys.includes(f)&&(yield r.client.core.pairing.ping({topic:f}))});return function(u){return s.apply(this,arguments)}}(),this.emit=function(){var s=P(function*(u){r.isInitialized(),yield r.isValidEmit(u);const{topic:f,event:y,chainId:R}=u;yield r.sendRequest(f,"wc_sessionEvent",{event:y,chainId:R})});return function(u){return s.apply(this,arguments)}}(),this.disconnect=function(){var s=P(function*(u){r.isInitialized(),yield r.isValidDisconnect(u);const{topic:f}=u;r.client.session.keys.includes(f)?(yield r.sendRequest(f,"wc_sessionDelete",dr("USER_DISCONNECTED")),yield r.deleteSession(f)):yield r.client.core.pairing.disconnect({topic:f})});return function(u){return s.apply(this,arguments)}}(),this.find=s=>(this.isInitialized(),this.client.session.getAll().filter(u=>function mg(a,t){const{requiredNamespaces:r}=t,s=Object.keys(a.namespaces),u=Object.keys(r);let f=!0;return!!pi(u,s)&&(s.forEach(y=>{const{accounts:R,methods:V,events:Y}=a.namespaces[y],de=Ni(R),De=r[y];pi(Ta(y,De),de)&&pi(De.methods,V)&&pi(De.events,Y)||(f=!1)}),f)}(u,s))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=function(){var s=P(function*(u,f){const{self:y}=r.client.session.get(u);yield r.client.core.relayer.unsubscribe(u),yield Promise.all([r.client.session.delete(u,dr("USER_DISCONNECTED")),r.client.core.crypto.deleteKeyPair(y.publicKey),r.client.core.crypto.deleteSymKey(u),f?Promise.resolve():r.client.core.expirer.del(u)])});return function(u,f){return s.apply(this,arguments)}}(),this.deleteProposal=function(){var s=P(function*(u,f){yield Promise.all([r.client.proposal.delete(u,dr("USER_DISCONNECTED")),f?Promise.resolve():r.client.core.expirer.del(u)])});return function(u,f){return s.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var s=P(function*(u,f,y=!1){yield Promise.all([r.client.pendingRequest.delete(u,f),y?Promise.resolve():r.client.core.expirer.del(u)])});return function(u,f){return s.apply(this,arguments)}}(),this.setExpiry=function(){var s=P(function*(u,f){r.client.session.keys.includes(u)&&(yield r.client.session.update(u,{expiry:f})),r.client.core.expirer.set(u,f)});return function(u,f){return s.apply(this,arguments)}}(),this.setProposal=function(){var s=P(function*(u,f){yield r.client.proposal.set(u,f),r.client.core.expirer.set(u,f.expiry)});return function(u,f){return s.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var s=P(function*(u){const f=us.wc_sessionRequest.req.ttl,{id:y,topic:R,params:V}=u;yield r.client.pendingRequest.set(y,{id:y,topic:R,params:V}),f&&r.client.core.expirer.set(y,gn(f))});return function(u){return s.apply(this,arguments)}}(),this.sendRequest=function(){var s=P(function*(u,f,y,R){const V=(0,Qe.formatJsonRpcRequest)(f,y);if($a()&&_v.includes(f)){const De=hi(JSON.stringify(V));yield r.client.core.verify.register({attestationId:De})}const Y=yield r.client.core.crypto.encode(u,V),de=us[f].req;return R&&(de.ttl=R),r.client.core.history.set(u,V),r.client.core.relayer.publish(u,Y,de),V.id});return function(u,f,y,R){return s.apply(this,arguments)}}(),this.sendResult=function(){var s=P(function*(u,f,y){const R=(0,Qe.formatJsonRpcResult)(u,y),V=yield r.client.core.crypto.encode(f,R),Y=yield r.client.core.history.get(f,u);r.client.core.relayer.publish(f,V,us[Y.request.method].res),yield r.client.core.history.resolve(R)});return function(u,f,y){return s.apply(this,arguments)}}(),this.sendError=function(){var s=P(function*(u,f,y){const R=(0,Qe.formatJsonRpcError)(u,y),V=yield r.client.core.crypto.encode(f,R),Y=yield r.client.core.history.get(f,u);r.client.core.relayer.publish(f,V,us[Y.request.method].res),yield r.client.core.history.resolve(R)});return function(u,f,y){return s.apply(this,arguments)}}(),this.cleanup=P(function*(){const s=[],u=[];r.client.session.getAll().forEach(f=>{qn(f.expiry)&&s.push(f.topic)}),r.client.proposal.getAll().forEach(f=>{qn(f.expiry)&&u.push(f.id)}),yield Promise.all([...s.map(f=>r.deleteSession(f)),...u.map(f=>r.deleteProposal(f))])}),this.onRelayEventRequest=s=>{const{topic:u,payload:f}=s,y=f.method;switch(y){case"wc_sessionPropose":return this.onSessionProposeRequest(u,f);case"wc_sessionSettle":return this.onSessionSettleRequest(u,f);case"wc_sessionUpdate":return this.onSessionUpdateRequest(u,f);case"wc_sessionExtend":return this.onSessionExtendRequest(u,f);case"wc_sessionPing":return this.onSessionPingRequest(u,f);case"wc_sessionDelete":return this.onSessionDeleteRequest(u,f);case"wc_sessionRequest":return this.onSessionRequest(u,f);case"wc_sessionEvent":return this.onSessionEventRequest(u,f);default:return this.client.logger.info(`Unsupported request method ${y}`)}},this.onRelayEventResponse=function(){var s=P(function*(u){const{topic:f,payload:y}=u,R=(yield r.client.core.history.get(f,y.id)).request.method;switch(R){case"wc_sessionPropose":return r.onSessionProposeResponse(f,y);case"wc_sessionSettle":return r.onSessionSettleResponse(f,y);case"wc_sessionUpdate":return r.onSessionUpdateResponse(f,y);case"wc_sessionExtend":return r.onSessionExtendResponse(f,y);case"wc_sessionPing":return r.onSessionPingResponse(f,y);case"wc_sessionRequest":return r.onSessionRequestResponse(f,y);default:return r.client.logger.info(`Unsupported response method ${R}`)}});return function(u){return s.apply(this,arguments)}}(),this.onSessionProposeRequest=function(){var s=P(function*(u,f){const{params:y,id:R}=f;try{r.isValidConnect(en({},f.params));const V=gn(J.FIVE_MINUTES),Y=en({id:R,pairingTopic:u,expiry:V},y);yield r.setProposal(R,Y);const de=hi(JSON.stringify(f)),De=yield r.getVerifyContext(de,Y.proposer.metadata);r.client.events.emit("session_proposal",{id:R,params:Y,context:De})}catch(V){yield r.sendError(R,u,V),r.client.logger.error(V)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var s=P(function*(u,f){const{id:y}=f;if((0,Qe.isJsonRpcResult)(f)){const{result:R}=f;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:R});const V=r.client.proposal.get(y);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:V});const Y=V.proposer.publicKey;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:Y});const de=R.responderPublicKey;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:de});const De=yield r.client.core.crypto.generateSharedKey(Y,de);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:De});const Ke=yield r.client.core.relayer.subscribe(De);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Ke}),yield r.client.core.pairing.activate({topic:u})}else(0,Qe.isJsonRpcError)(f)&&(yield r.client.proposal.delete(y,dr("USER_DISCONNECTED")),r.events.emit(hr("session_connect"),{error:f.error}))});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var s=P(function*(u,f){const{id:y,params:R}=f;try{r.isValidSessionSettleRequest(R);const{relay:V,controller:Y,expiry:de,namespaces:De,requiredNamespaces:Ke,optionalNamespaces:Rt,sessionProperties:Ce,pairingTopic:ze}=f.params,Je=en({topic:u,relay:V,expiry:de,namespaces:De,acknowledged:!0,pairingTopic:ze,requiredNamespaces:Ke,optionalNamespaces:Rt,controller:Y.publicKey,self:{publicKey:"",metadata:r.client.metadata},peer:{publicKey:Y.publicKey,metadata:Y.metadata}},Ce&&{sessionProperties:Ce});yield r.sendResult(f.id,u,!0),r.events.emit(hr("session_connect"),{session:Je})}catch(V){yield r.sendError(y,u,V),r.client.logger.error(V)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var s=P(function*(u,f){const{id:y}=f;(0,Qe.isJsonRpcResult)(f)?(yield r.client.session.update(u,{acknowledged:!0}),r.events.emit(hr("session_approve",y),{})):(0,Qe.isJsonRpcError)(f)&&(yield r.client.session.delete(u,dr("USER_DISCONNECTED")),r.events.emit(hr("session_approve",y),{error:f.error}))});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var s=P(function*(u,f){const{params:y,id:R}=f;try{r.isValidUpdate(en({topic:u},y)),yield r.client.session.update(u,{namespaces:y.namespaces}),yield r.sendResult(R,u,!0),r.client.events.emit("session_update",{id:R,topic:u,params:y})}catch(V){yield r.sendError(R,u,V),r.client.logger.error(V)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionUpdateResponse=(s,u)=>{const{id:f}=u;(0,Qe.isJsonRpcResult)(u)?this.events.emit(hr("session_update",f),{}):(0,Qe.isJsonRpcError)(u)&&this.events.emit(hr("session_update",f),{error:u.error})},this.onSessionExtendRequest=function(){var s=P(function*(u,f){const{id:y}=f;try{r.isValidExtend({topic:u}),yield r.setExpiry(u,gn(no)),yield r.sendResult(y,u,!0),r.client.events.emit("session_extend",{id:y,topic:u})}catch(R){yield r.sendError(y,u,R),r.client.logger.error(R)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionExtendResponse=(s,u)=>{const{id:f}=u;(0,Qe.isJsonRpcResult)(u)?this.events.emit(hr("session_extend",f),{}):(0,Qe.isJsonRpcError)(u)&&this.events.emit(hr("session_extend",f),{error:u.error})},this.onSessionPingRequest=function(){var s=P(function*(u,f){const{id:y}=f;try{r.isValidPing({topic:u}),yield r.sendResult(y,u,!0),r.client.events.emit("session_ping",{id:y,topic:u})}catch(R){yield r.sendError(y,u,R),r.client.logger.error(R)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionPingResponse=(s,u)=>{const{id:f}=u;setTimeout(()=>{(0,Qe.isJsonRpcResult)(u)?this.events.emit(hr("session_ping",f),{}):(0,Qe.isJsonRpcError)(u)&&this.events.emit(hr("session_ping",f),{error:u.error})},500)},this.onSessionDeleteRequest=function(){var s=P(function*(u,f){const{id:y}=f;try{r.isValidDisconnect({topic:u,reason:f.params}),yield Promise.all([new Promise(R=>{r.client.core.relayer.once("relayer_publish",P(function*(){R(yield r.deleteSession(u))}))}),r.sendResult(y,u,!0)]),r.client.events.emit("session_delete",{id:y,topic:u})}catch(R){yield r.sendError(y,u,R),r.client.logger.error(R)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionRequest=function(){var s=P(function*(u,f){const{id:y,params:R}=f;try{r.isValidRequest(en({topic:u},R)),yield r.setPendingSessionRequest({id:y,topic:u,params:R});const V=hi(JSON.stringify(f)),Y=r.client.session.get(u),de=yield r.getVerifyContext(V,Y.peer.metadata);r.client.events.emit("session_request",{id:y,topic:u,params:R,context:de})}catch(V){yield r.sendError(y,u,V),r.client.logger.error(V)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionRequestResponse=(s,u)=>{const{id:f}=u;(0,Qe.isJsonRpcResult)(u)?this.events.emit(hr("session_request",f),{result:u.result}):(0,Qe.isJsonRpcError)(u)&&this.events.emit(hr("session_request",f),{error:u.error})},this.onSessionEventRequest=function(){var s=P(function*(u,f){const{id:y,params:R}=f;try{r.isValidEmit(en({topic:u},R)),r.client.events.emit("session_event",{id:y,topic:u,params:R})}catch(V){yield r.sendError(y,u,V),r.client.logger.error(V)}});return function(u,f){return s.apply(this,arguments)}}(),this.isValidConnect=function(){var s=P(function*(u){if(!Mr(u)){const{message:de}=Ne("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(u)}`);throw new Error(de)}const{pairingTopic:f,requiredNamespaces:y,optionalNamespaces:R,sessionProperties:V,relays:Y}=u;if(Tr(f)||(yield r.isValidPairingTopic(f)),!function Ag(a,t){let r=!1;return t&&!a?r=!0:a&&Ui(a)&&a.length&&a.forEach(s=>{r=vf(s)}),r}(Y,!0)){const{message:de}=Ne("MISSING_OR_INVALID",`connect() relays: ${Y}`);throw new Error(de)}!Tr(y)&&0!==gi(y)&&r.validateNamespaces(y,"requiredNamespaces"),!Tr(R)&&0!==gi(R)&&r.validateNamespaces(R,"optionalNamespaces"),Tr(V)||r.validateSessionProps(V,"sessionProperties")});return function(u){return s.apply(this,arguments)}}(),this.validateNamespaces=(s,u)=>{const f=function Pg(a,t,r){let s=null;if(a&&gi(a)){const u=yf(a,t);u&&(s=u);const f=function Sg(a,t){let r=null;return Object.entries(a).forEach(([s,u])=>{if(r)return;const f=function xg(a,t,r){let s=null;return Ui(t)?t.forEach(u=>{s||(!Wa(u)||!u.includes(a))&&(s=dr("UNSUPPORTED_CHAINS",`${r}, chain ${u} should be a string and conform to "namespace:chainId" format`))}):s=dr("UNSUPPORTED_CHAINS",`${r}, chains ${t} should be an array of strings conforming to "namespace:chainId" format`),s}(s,Ta(s,u),`${t} requiredNamespace`);f&&(r=f)}),r}(a,t);f&&(s=f)}else s=Ne("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return s}(s,"connect()",u);if(f)throw new Error(f.message)},this.isValidApprove=function(){var s=P(function*(u){if(!Mr(u))throw new Error(Ne("MISSING_OR_INVALID",`approve() params: ${u}`).message);const{id:f,namespaces:y,relayProtocol:R,sessionProperties:V}=u;yield r.isValidProposalId(f);const Y=r.client.proposal.get(f),de=eo(y,"approve()");if(de)throw new Error(de.message);const De=Ga(Y.requiredNamespaces,y,"approve()");if(De)throw new Error(De.message);if(!_r(R,!0)){const{message:Ke}=Ne("MISSING_OR_INVALID",`approve() relayProtocol: ${R}`);throw new Error(Ke)}Tr(V)||r.validateSessionProps(V,"sessionProperties")});return function(u){return s.apply(this,arguments)}}(),this.isValidReject=function(){var s=P(function*(u){if(!Mr(u)){const{message:R}=Ne("MISSING_OR_INVALID",`reject() params: ${u}`);throw new Error(R)}const{id:f,reason:y}=u;if(yield r.isValidProposalId(f),!function Tg(a){return!!(a&&"object"==typeof a&&a.code&&Ka(a.code,!1)&&a.message&&_r(a.message,!1))}(y)){const{message:R}=Ne("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(y)}`);throw new Error(R)}});return function(u){return s.apply(this,arguments)}}(),this.isValidSessionSettleRequest=s=>{if(!Mr(s)){const{message:de}=Ne("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${s}`);throw new Error(de)}const{relay:u,controller:f,namespaces:y,expiry:R}=s;if(!vf(u)){const{message:de}=Ne("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(de)}const V=function Dg(a,t){let r=null;return _r(a?.publicKey,!1)||(r=Ne("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}(f,"onSessionSettleRequest()");if(V)throw new Error(V.message);const Y=eo(y,"onSessionSettleRequest()");if(Y)throw new Error(Y.message);if(qn(R)){const{message:de}=Ne("EXPIRED","onSessionSettleRequest()");throw new Error(de)}},this.isValidUpdate=function(){var s=P(function*(u){if(!Mr(u)){const{message:de}=Ne("MISSING_OR_INVALID",`update() params: ${u}`);throw new Error(de)}const{topic:f,namespaces:y}=u;yield r.isValidSessionTopic(f);const R=r.client.session.get(f),V=eo(y,"update()");if(V)throw new Error(V.message);const Y=Ga(R.requiredNamespaces,y,"update()");if(Y)throw new Error(Y.message)});return function(u){return s.apply(this,arguments)}}(),this.isValidExtend=function(){var s=P(function*(u){if(!Mr(u)){const{message:y}=Ne("MISSING_OR_INVALID",`extend() params: ${u}`);throw new Error(y)}const{topic:f}=u;yield r.isValidSessionTopic(f)});return function(u){return s.apply(this,arguments)}}(),this.isValidRequest=function(){var s=P(function*(u){if(!Mr(u)){const{message:de}=Ne("MISSING_OR_INVALID",`request() params: ${u}`);throw new Error(de)}const{topic:f,request:y,chainId:R,expiry:V}=u;yield r.isValidSessionTopic(f);const{namespaces:Y}=r.client.session.get(f);if(!mf(Y,R)){const{message:de}=Ne("MISSING_OR_INVALID",`request() chainId: ${R}`);throw new Error(de)}if(!function Ng(a){return!(Tr(a)||!_r(a.method,!1))}(y)){const{message:de}=Ne("MISSING_OR_INVALID",`request() ${JSON.stringify(y)}`);throw new Error(de)}if(!function Lg(a,t,r){return!!_r(r,!1)&&function dg(a,t){const r=[];return Object.values(a).forEach(s=>{Ni(s.accounts).includes(t)&&r.push(...s.methods)}),r}(a,t).includes(r)}(Y,R,y.method)){const{message:de}=Ne("MISSING_OR_INVALID",`request() method: ${y.method}`);throw new Error(de)}if(V&&!function zg(a,t){return Ka(a,!1)&&a<=t.max&&a>=t.min}(V,ru)){const{message:de}=Ne("MISSING_OR_INVALID",`request() expiry: ${V}. Expiry must be a number (in seconds) between ${ru.min} and ${ru.max}`);throw new Error(de)}});return function(u){return s.apply(this,arguments)}}(),this.isValidRespond=function(){var s=P(function*(u){if(!Mr(u)){const{message:R}=Ne("MISSING_OR_INVALID",`respond() params: ${u}`);throw new Error(R)}const{topic:f,response:y}=u;if(yield r.isValidSessionTopic(f),!function Ug(a){return!(Tr(a)||Tr(a.result)&&Tr(a.error)||!Ka(a.id,!1)||!_r(a.jsonrpc,!1))}(y)){const{message:R}=Ne("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(y)}`);throw new Error(R)}});return function(u){return s.apply(this,arguments)}}(),this.isValidPing=function(){var s=P(function*(u){if(!Mr(u)){const{message:y}=Ne("MISSING_OR_INVALID",`ping() params: ${u}`);throw new Error(y)}const{topic:f}=u;yield r.isValidSessionOrPairingTopic(f)});return function(u){return s.apply(this,arguments)}}(),this.isValidEmit=function(){var s=P(function*(u){if(!Mr(u)){const{message:Y}=Ne("MISSING_OR_INVALID",`emit() params: ${u}`);throw new Error(Y)}const{topic:f,event:y,chainId:R}=u;yield r.isValidSessionTopic(f);const{namespaces:V}=r.client.session.get(f);if(!mf(V,R)){const{message:Y}=Ne("MISSING_OR_INVALID",`emit() chainId: ${R}`);throw new Error(Y)}if(!function Fg(a){return!(Tr(a)||!_r(a.name,!1))}(y)){const{message:Y}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(y)}`);throw new Error(Y)}if(!function jg(a,t,r){return!!_r(r,!1)&&function pg(a,t){const r=[];return Object.values(a).forEach(s=>{Ni(s.accounts).includes(t)&&r.push(...s.events)}),r}(a,t).includes(r)}(V,R,y.name)){const{message:Y}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(y)}`);throw new Error(Y)}});return function(u){return s.apply(this,arguments)}}(),this.isValidDisconnect=function(){var s=P(function*(u){if(!Mr(u)){const{message:y}=Ne("MISSING_OR_INVALID",`disconnect() params: ${u}`);throw new Error(y)}const{topic:f}=u;yield r.isValidSessionOrPairingTopic(f)});return function(u){return s.apply(this,arguments)}}(),this.getVerifyContext=function(){var s=P(function*(u,f){const y={verified:{verifyUrl:f.verifyUrl||"",validation:"UNKNOWN",origin:f.url||""}};try{const R=yield r.client.core.verify.resolve({attestationId:u,verifyUrl:f.verifyUrl});R&&(y.verified.origin=R,y.verified.validation=R===f.url?"VALID":"INVALID")}catch(R){r.client.logger.error(R)}return r.client.logger.info(`Verify context: ${JSON.stringify(y)}`),y});return function(u,f){return s.apply(this,arguments)}}(),this.validateSessionProps=(s,u)=>{Object.values(s).forEach(f=>{if(!_r(f,!1)){const{message:y}=Ne("MISSING_OR_INVALID",`${u} must be in Record<string, string> format. Received: ${JSON.stringify(f)}`);throw new Error(y)}})}}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){var t=this;this.client.core.relayer.on("relayer_message",function(){var r=P(function*(s){const{topic:u,message:f}=s;if(t.ignoredPayloadTypes.includes(t.client.core.crypto.getPayloadType(f)))return;const y=yield t.client.core.crypto.decode(u,f);(0,Qe.isJsonRpcRequest)(y)?(t.client.core.history.set(u,y),t.onRelayEventRequest({topic:u,payload:y})):(0,Qe.isJsonRpcResponse)(y)&&(yield t.client.core.history.resolve(y),t.onRelayEventResponse({topic:u,payload:y}))});return function(s){return r.apply(this,arguments)}}())}registerExpirerEvents(){var t=this;this.client.core.expirer.on(kr_expired,function(){var r=P(function*(s){const{topic:u,id:f}=cf(s.target);if(f&&t.client.pendingRequest.keys.includes(f))return yield t.deletePendingSessionRequest(f,Ne("EXPIRED"),!0);u?t.client.session.keys.includes(u)&&(yield t.deleteSession(u,!0),t.client.events.emit("session_expire",{topic:u})):f&&(yield t.deleteProposal(f,!0),t.client.events.emit("proposal_expire",{id:f}))});return function(s){return r.apply(this,arguments)}}())}isValidPairingTopic(t){if(!_r(t,!1)){const{message:r}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(qn(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=Ne("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}isValidSessionTopic(t){var r=this;return P(function*(){if(!_r(t,!1)){const{message:s}=Ne("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(s)}if(!r.client.session.keys.includes(t)){const{message:s}=Ne("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(s)}if(qn(r.client.session.get(t).expiry)){yield r.deleteSession(t);const{message:s}=Ne("EXPIRED",`session topic: ${t}`);throw new Error(s)}})()}isValidSessionOrPairingTopic(t){var r=this;return P(function*(){if(r.client.session.keys.includes(t))yield r.isValidSessionTopic(t);else{if(!r.client.core.pairing.pairings.keys.includes(t)){if(_r(t,!1)){const{message:s}=Ne("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(s)}{const{message:s}=Ne("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(s)}}r.isValidPairingTopic(t)}})()}isValidProposalId(t){var r=this;return P(function*(){if(!function Cg(a){return"number"==typeof a}(t)){const{message:s}=Ne("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(s)}if(!r.client.proposal.keys.includes(t)){const{message:s}=Ne("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(s)}if(qn(r.client.proposal.get(t).expiry)){yield r.deleteProposal(t);const{message:s}=Ne("EXPIRED",`proposal id: ${t}`);throw new Error(s)}})()}}class Iv extends ro{constructor(t,r){super(t,r,"proposal",eu),this.core=t,this.logger=r}}class Ov extends ro{constructor(t,r){super(t,r,"session",eu),this.core=t,this.logger=r}}class Rv extends ro{constructor(t,r){super(t,r,"request",eu,s=>s.id),this.core=t,this.logger=r}}class iu extends class W{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}{constructor(t){var r;super(t),r=this,this.protocol="wc",this.version=2,this.name="client",this.events=new be.EventEmitter,this.on=(u,f)=>this.events.on(u,f),this.once=(u,f)=>this.events.once(u,f),this.off=(u,f)=>this.events.off(u,f),this.removeListener=(u,f)=>this.events.removeListener(u,f),this.removeAllListeners=u=>this.events.removeAllListeners(u),this.connect=function(){var u=P(function*(f){try{return yield r.engine.connect(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.pair=function(){var u=P(function*(f){try{return yield r.engine.pair(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.approve=function(){var u=P(function*(f){try{return yield r.engine.approve(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.reject=function(){var u=P(function*(f){try{return yield r.engine.reject(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.update=function(){var u=P(function*(f){try{return yield r.engine.update(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.extend=function(){var u=P(function*(f){try{return yield r.engine.extend(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.request=function(){var u=P(function*(f){try{return yield r.engine.request(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.respond=function(){var u=P(function*(f){try{return yield r.engine.respond(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.ping=function(){var u=P(function*(f){try{return yield r.engine.ping(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.emit=function(){var u=P(function*(f){try{return yield r.engine.emit(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.disconnect=function(){var u=P(function*(f){try{return yield r.engine.disconnect(f)}catch(y){throw r.logger.error(y.message),y}});return function(f){return u.apply(this,arguments)}}(),this.find=u=>{try{return this.engine.find(u)}catch(f){throw this.logger.error(f.message),f}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(u){throw this.logger.error(u.message),u}},this.name=t?.name||"client",this.metadata=t?.metadata||function zp(){return(0,pp.D)()||{name:"",description:"",url:"",icons:[""]}}();const s=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,H.pino)((0,H.getDefaultLoggerOptions)({level:t?.logger||"error"}));this.core=t?.core||new pv(t),this.logger=(0,H.generateChildLogger)(s,this.name),this.session=new Ov(this.core,this.logger),this.proposal=new Iv(this.core,this.logger),this.pendingRequest=new Rv(this.core,this.logger),this.engine=new Sv(this)}static init(t){return P(function*(){const r=new iu(t);return yield r.initialize(),r})()}get context(){return(0,H.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var t=this;return P(function*(){t.logger.trace("Initialized");try{yield t.core.start(),yield t.session.init(),yield t.proposal.init(),yield t.pendingRequest.init(),yield t.engine.init(),t.core.verify.init({verifyUrl:t.metadata.verifyUrl}),t.logger.info("SignClient Initialization Success")}catch(r){throw t.logger.info("SignClient Initialization Failure"),t.logger.error(r.message),r}})()}}var Pv=D(75630),ol=D.n(Pv);const al={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class cl{constructor(t){if(this.url=t,this.events=new be.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,Qe.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}open(t=this.url){var r=this;return P(function*(){yield r.register(t)})()}close(){var t=this;return P(function*(){if(!t.isAvailable)throw new Error("Connection already closed");t.onClose()})()}send(t,r){var s=this;return P(function*(){s.isAvailable||(yield s.register());try{const u=Me(t),y=yield(yield ol()(s.url,Object.assign(Object.assign({},al),{body:u}))).json();s.onPayload({data:y})}catch(u){s.onError(t.id,u)}})()}register(t=this.url){var r=this;return P(function*(){if(!(0,Qe.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(r.registering){const s=r.events.getMaxListeners();return(r.events.listenerCount("register_error")>=s||r.events.listenerCount("open")>=s)&&r.events.setMaxListeners(s+1),new Promise((u,f)=>{r.events.once("register_error",y=>{r.resetMaxListeners(),f(y)}),r.events.once("open",()=>{if(r.resetMaxListeners(),typeof r.isAvailable>"u")return f(new Error("HTTP connection is missing or invalid"));u()})})}r.url=t,r.registering=!0;try{const s=Me({id:1,jsonrpc:"2.0",method:"test",params:[]});yield ol()(t,Object.assign(Object.assign({},al),{body:s})),r.onOpen()}catch(s){const u=r.parseError(s);throw r.events.emit("register_error",u),r.onClose(),u}})()}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r="string"==typeof t.data?Le(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const s=this.parseError(r),u=s.message||s.toString(),f=(0,Qe.formatJsonRpcError)(t,u);this.events.emit("payload",f)}parseError(t,r=this.url){return(0,Qe.parseConnectionError)(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const Fi=cl,ll="wc@2:universal_provider:";var a,t,cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},su={exports:{}};a=su,t=su.exports,function(){var r,y="Expected a function",V="__lodash_hash_undefined__",de="__lodash_placeholder__",vi=1/0,Qn=9007199254740991,Rn=4294967295,v1=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Li="[object Arguments]",ao="[object Array]",fs="[object Boolean]",ls="[object Date]",uo="[object Error]",co="[object Function]",ml="[object GeneratorFunction]",yn="[object Map]",hs="[object Number]",Fn="[object Object]",_l="[object Promise]",ds="[object RegExp]",vn="[object Set]",ps="[object String]",fo="[object Symbol]",gs="[object WeakMap]",ys="[object ArrayBuffer]",ji="[object DataView]",fu="[object Float32Array]",lu="[object Float64Array]",hu="[object Int8Array]",du="[object Int16Array]",pu="[object Int32Array]",gu="[object Uint8Array]",yu="[object Uint8ClampedArray]",vu="[object Uint16Array]",mu="[object Uint32Array]",x1=/\b__p \+= '';/g,S1=/\b(__p \+=) '' \+/g,I1=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bl=/&(?:amp|lt|gt|quot|#39);/g,El=/[&<>"']/g,O1=RegExp(bl.source),R1=RegExp(El.source),P1=/<%-([\s\S]+?)%>/g,A1=/<%([\s\S]+?)%>/g,wl=/<%=([\s\S]+?)%>/g,C1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T1=/^\w*$/,N1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_u=/[\\^$.*+?()[\]{}|]/g,U1=RegExp(_u.source),bu=/^\s+/,F1=/\s/,L1=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,j1=/\{\n\/\* \[wrapped with (.+)\] \*/,M1=/,? & /,B1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,z1=/[()=,{}\[\]\/\s]/,$1=/\\(\\)?/g,H1=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dl=/\w*$/,J1=/^[-+]0x[0-9a-f]+$/i,V1=/^0b[01]+$/i,K1=/^\[object .+?Constructor\]$/,W1=/^0o[0-7]+$/i,G1=/^(?:0|[1-9]\d*)$/,q1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lo=/($^)/,Y1=/['\n\r\u2028\u2029\\]/g,ho="\\ud800-\\udfff",xl="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Sl="\\u2700-\\u27bf",Il="a-z\\xdf-\\xf6\\xf8-\\xff",Ol="A-Z\\xc0-\\xd6\\xd8-\\xde",Rl="\\ufe0e\\ufe0f",Pl="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nm="["+ho+"]",Al="["+Pl+"]",po="["+xl+"]",Cl="\\d+",im="["+Sl+"]",Tl="["+Il+"]",Nl="[^"+ho+Pl+Cl+Sl+Il+Ol+"]",wu="\\ud83c[\\udffb-\\udfff]",Ul="[^"+ho+"]",Du="(?:\\ud83c[\\udde6-\\uddff]){2}",xu="[\\ud800-\\udbff][\\udc00-\\udfff]",Mi="["+Ol+"]",Ll="(?:"+Tl+"|"+Nl+")",om="(?:"+Mi+"|"+Nl+")",jl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ml="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Bl="(?:"+po+"|"+wu+")?",zl="["+Rl+"]?",$l=zl+Bl+"(?:\\u200d(?:"+[Ul,Du,xu].join("|")+")"+zl+Bl+")*",fm="(?:"+[im,Du,xu].join("|")+")"+$l,lm="(?:"+[Ul+po+"?",po,Du,xu,nm].join("|")+")",hm=RegExp("['\u2019]","g"),dm=RegExp(po,"g"),Su=RegExp(wu+"(?="+wu+")|"+lm+$l,"g"),pm=RegExp([Mi+"?"+Tl+"+"+jl+"(?="+[Al,Mi,"$"].join("|")+")",om+"+"+Ml+"(?="+[Al,Mi+Ll,"$"].join("|")+")",Mi+"?"+Ll+"+"+jl,Mi+"+"+Ml,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cl,fm].join("|"),"g"),gm=RegExp("[\\u200d"+ho+xl+Rl+"]"),ym=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mm=-1,Vt={};Vt[fu]=Vt[lu]=Vt[hu]=Vt[du]=Vt[pu]=Vt[gu]=Vt[yu]=Vt[vu]=Vt[mu]=!0,Vt[Li]=Vt[ao]=Vt[ys]=Vt[fs]=Vt[ji]=Vt[ls]=Vt[uo]=Vt[co]=Vt[yn]=Vt[hs]=Vt[Fn]=Vt[ds]=Vt[vn]=Vt[ps]=Vt[gs]=!1;var Ht={};Ht[Li]=Ht[ao]=Ht[ys]=Ht[ji]=Ht[fs]=Ht[ls]=Ht[fu]=Ht[lu]=Ht[hu]=Ht[du]=Ht[pu]=Ht[yn]=Ht[hs]=Ht[Fn]=Ht[ds]=Ht[vn]=Ht[ps]=Ht[fo]=Ht[gu]=Ht[yu]=Ht[vu]=Ht[mu]=!0,Ht[uo]=Ht[co]=Ht[gs]=!1;var wm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dm=parseFloat,xm=parseInt,Hl="object"==typeof cs&&cs&&cs.Object===Object&&cs,Sm="object"==typeof self&&self&&self.Object===Object&&self,Dr=Hl||Sm||Function("return this")(),Iu=t&&!t.nodeType&&t,mi=Iu&&a&&!a.nodeType&&a,Jl=mi&&mi.exports===Iu,Ou=Jl&&Hl.process,rn=function(){try{return mi&&mi.require&&mi.require("util").types||Ou&&Ou.binding&&Ou.binding("util")}catch{}}(),Vl=rn&&rn.isArrayBuffer,Kl=rn&&rn.isDate,Wl=rn&&rn.isMap,Gl=rn&&rn.isRegExp,ql=rn&&rn.isSet,Yl=rn&&rn.isTypedArray;function Kr(ee,_e,ve){switch(ve.length){case 0:return ee.call(_e);case 1:return ee.call(_e,ve[0]);case 2:return ee.call(_e,ve[0],ve[1]);case 3:return ee.call(_e,ve[0],ve[1],ve[2])}return ee.apply(_e,ve)}function Im(ee,_e,ve,je){for(var ke=-1,Tt=null==ee?0:ee.length;++ke<Tt;){var gr=ee[ke];_e(je,gr,ve(gr),ee)}return je}function nn(ee,_e){for(var ve=-1,je=null==ee?0:ee.length;++ve<je&&!1!==_e(ee[ve],ve,ee););return ee}function Om(ee,_e){for(var ve=null==ee?0:ee.length;ve--&&!1!==_e(ee[ve],ve,ee););return ee}function Xl(ee,_e){for(var ve=-1,je=null==ee?0:ee.length;++ve<je;)if(!_e(ee[ve],ve,ee))return!1;return!0}function kn(ee,_e){for(var ve=-1,je=null==ee?0:ee.length,ke=0,Tt=[];++ve<je;){var gr=ee[ve];_e(gr,ve,ee)&&(Tt[ke++]=gr)}return Tt}function go(ee,_e){return!(null==ee||!ee.length)&&Bi(ee,_e,0)>-1}function Ru(ee,_e,ve){for(var je=-1,ke=null==ee?0:ee.length;++je<ke;)if(ve(_e,ee[je]))return!0;return!1}function Gt(ee,_e){for(var ve=-1,je=null==ee?0:ee.length,ke=Array(je);++ve<je;)ke[ve]=_e(ee[ve],ve,ee);return ke}function ei(ee,_e){for(var ve=-1,je=_e.length,ke=ee.length;++ve<je;)ee[ke+ve]=_e[ve];return ee}function Pu(ee,_e,ve,je){var ke=-1,Tt=null==ee?0:ee.length;for(je&&Tt&&(ve=ee[++ke]);++ke<Tt;)ve=_e(ve,ee[ke],ke,ee);return ve}function Rm(ee,_e,ve,je){var ke=null==ee?0:ee.length;for(je&&ke&&(ve=ee[--ke]);ke--;)ve=_e(ve,ee[ke],ke,ee);return ve}function Au(ee,_e){for(var ve=-1,je=null==ee?0:ee.length;++ve<je;)if(_e(ee[ve],ve,ee))return!0;return!1}var Pm=Cu("length");function Zl(ee,_e,ve){var je;return ve(ee,function(ke,Tt,gr){if(_e(ke,Tt,gr))return je=Tt,!1}),je}function yo(ee,_e,ve,je){for(var ke=ee.length,Tt=ve+(je?1:-1);je?Tt--:++Tt<ke;)if(_e(ee[Tt],Tt,ee))return Tt;return-1}function Bi(ee,_e,ve){return _e==_e?function Jm(ee,_e,ve){for(var je=ve-1,ke=ee.length;++je<ke;)if(ee[je]===_e)return je;return-1}(ee,_e,ve):yo(ee,Ql,ve)}function Tm(ee,_e,ve,je){for(var ke=ve-1,Tt=ee.length;++ke<Tt;)if(je(ee[ke],_e))return ke;return-1}function Ql(ee){return ee!=ee}function kl(ee,_e){var ve=null==ee?0:ee.length;return ve?Nu(ee,_e)/ve:NaN}function Cu(ee){return function(_e){return null==_e?r:_e[ee]}}function Tu(ee){return function(_e){return null==ee?r:ee[_e]}}function eh(ee,_e,ve,je,ke){return ke(ee,function(Tt,gr,zt){ve=je?(je=!1,Tt):_e(ve,Tt,gr,zt)}),ve}function Nu(ee,_e){for(var ve,je=-1,ke=ee.length;++je<ke;){var Tt=_e(ee[je]);Tt!==r&&(ve=ve===r?Tt:ve+Tt)}return ve}function Uu(ee,_e){for(var ve=-1,je=Array(ee);++ve<ee;)je[ve]=_e(ve);return je}function th(ee){return ee&&ee.slice(0,sh(ee)+1).replace(bu,"")}function Wr(ee){return function(_e){return ee(_e)}}function Fu(ee,_e){return Gt(_e,function(ve){return ee[ve]})}function vs(ee,_e){return ee.has(_e)}function rh(ee,_e){for(var ve=-1,je=ee.length;++ve<je&&Bi(_e,ee[ve],0)>-1;);return ve}function nh(ee,_e){for(var ve=ee.length;ve--&&Bi(_e,ee[ve],0)>-1;);return ve}function Fm(ee,_e){for(var ve=ee.length,je=0;ve--;)ee[ve]===_e&&++je;return je}var Lm=Tu({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),jm=Tu({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Mm(ee){return"\\"+wm[ee]}function zi(ee){return gm.test(ee)}function Lu(ee){var _e=-1,ve=Array(ee.size);return ee.forEach(function(je,ke){ve[++_e]=[ke,je]}),ve}function ih(ee,_e){return function(ve){return ee(_e(ve))}}function ti(ee,_e){for(var ve=-1,je=ee.length,ke=0,Tt=[];++ve<je;){var gr=ee[ve];(gr===_e||gr===de)&&(ee[ve]=de,Tt[ke++]=ve)}return Tt}function vo(ee){var _e=-1,ve=Array(ee.size);return ee.forEach(function(je){ve[++_e]=je}),ve}function $i(ee){return zi(ee)?function Wm(ee){for(var _e=Su.lastIndex=0;Su.test(ee);)++_e;return _e}(ee):Pm(ee)}function mn(ee){return zi(ee)?function Gm(ee){return ee.match(Su)||[]}(ee):function Am(ee){return ee.split("")}(ee)}function sh(ee){for(var _e=ee.length;_e--&&F1.test(ee.charAt(_e)););return _e}var Km=Tu({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Hi=function ee(_e){var e,ve=(_e=null==_e?Dr:Hi.defaults(Dr.Object(),_e,Hi.pick(Dr,vm))).Array,je=_e.Date,ke=_e.Error,Tt=_e.Function,gr=_e.Math,zt=_e.Object,ju=_e.RegExp,Xm=_e.String,sn=_e.TypeError,mo=ve.prototype,Ji=zt.prototype,_o=_e["__core-js_shared__"],bo=Tt.prototype.toString,Lt=Ji.hasOwnProperty,Qm=0,oh=(e=/[^.]+$/.exec(_o&&_o.keys&&_o.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",Eo=Ji.toString,km=bo.call(zt),e_=Dr._,t_=ju("^"+bo.call(Lt).replace(_u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wo=Jl?_e.Buffer:r,ri=_e.Symbol,Do=_e.Uint8Array,ah=wo?wo.allocUnsafe:r,xo=ih(zt.getPrototypeOf,zt),uh=zt.create,ch=Ji.propertyIsEnumerable,So=mo.splice,fh=ri?ri.isConcatSpreadable:r,ms=ri?ri.iterator:r,_i=ri?ri.toStringTag:r,Io=function(){try{var e=xi(zt,"defineProperty");return e({},"",{}),e}catch{}}(),r_=_e.clearTimeout!==Dr.clearTimeout&&_e.clearTimeout,n_=je&&je.now!==Dr.Date.now&&je.now,i_=_e.setTimeout!==Dr.setTimeout&&_e.setTimeout,Oo=gr.ceil,Ro=gr.floor,Mu=zt.getOwnPropertySymbols,s_=wo?wo.isBuffer:r,lh=_e.isFinite,o_=mo.join,a_=ih(zt.keys,zt),yr=gr.max,Ir=gr.min,u_=je.now,c_=_e.parseInt,hh=gr.random,f_=mo.reverse,Bu=xi(_e,"DataView"),_s=xi(_e,"Map"),zu=xi(_e,"Promise"),Vi=xi(_e,"Set"),bs=xi(_e,"WeakMap"),Es=xi(zt,"create"),Po=bs&&new bs,Ki={},l_=Si(Bu),h_=Si(_s),d_=Si(zu),p_=Si(Vi),g_=Si(bs),Ao=ri?ri.prototype:r,ws=Ao?Ao.valueOf:r,dh=Ao?Ao.toString:r;function I(e){if(kt(e)&&!nt(e)&&!(e instanceof Dt)){if(e instanceof on)return e;if(Lt.call(e,"__wrapped__"))return pd(e)}return new on(e)}var Wi=function(){function e(){}return function(n){if(!Yt(n))return{};if(uh)return uh(n);e.prototype=n;var o=new e;return e.prototype=r,o}}();function Co(){}function on(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=r}function Dt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rn,this.__views__=[]}function bi(e){var n=-1,o=null==e?0:e.length;for(this.clear();++n<o;){var h=e[n];this.set(h[0],h[1])}}function Ln(e){var n=-1,o=null==e?0:e.length;for(this.clear();++n<o;){var h=e[n];this.set(h[0],h[1])}}function jn(e){var n=-1,o=null==e?0:e.length;for(this.clear();++n<o;){var h=e[n];this.set(h[0],h[1])}}function Ei(e){var n=-1,o=null==e?0:e.length;for(this.__data__=new jn;++n<o;)this.add(e[n])}function _n(e){var n=this.__data__=new Ln(e);this.size=n.size}function ph(e,n){var o=nt(e),h=!o&&Ii(e),w=!o&&!h&&ai(e),C=!o&&!h&&!w&&Xi(e),B=o||h||w||C,q=B?Uu(e.length,Xm):[],se=q.length;for(var Ee in e)(n||Lt.call(e,Ee))&&(!B||!("length"==Ee||w&&("offset"==Ee||"parent"==Ee)||C&&("buffer"==Ee||"byteLength"==Ee||"byteOffset"==Ee)||$n(Ee,se)))&&q.push(Ee);return q}function gh(e){var n=e.length;return n?e[Zu(0,n-1)]:r}function $_(e,n){return Ko(Br(e),wi(n,0,e.length))}function H_(e){return Ko(Br(e))}function $u(e,n,o){(o!==r&&!bn(e[n],o)||o===r&&!(n in e))&&Mn(e,n,o)}function Ds(e,n,o){var h=e[n];(!Lt.call(e,n)||!bn(h,o)||o===r&&!(n in e))&&Mn(e,n,o)}function To(e,n){for(var o=e.length;o--;)if(bn(e[o][0],n))return o;return-1}function J_(e,n,o,h){return ni(e,function(w,C,B){n(h,w,o(w),B)}),h}function yh(e,n){return e&&An(n,Er(n),e)}function Mn(e,n,o){"__proto__"==n&&Io?Io(e,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[n]=o}function Hu(e,n){for(var o=-1,h=n.length,w=ve(h),C=null==e;++o<h;)w[o]=C?r:wc(e,n[o]);return w}function wi(e,n,o){return e==e&&(o!==r&&(e=e<=o?e:o),n!==r&&(e=e>=n?e:n)),e}function an(e,n,o,h,w,C){var B,q=1&n,se=2&n,Ee=4&n;if(o&&(B=w?o(e,h,w,C):o(e)),B!==r)return B;if(!Yt(e))return e;var we=nt(e);if(we){if(B=function Tb(e){var n=e.length,o=new e.constructor(n);return n&&"string"==typeof e[0]&&Lt.call(e,"index")&&(o.index=e.index,o.input=e.input),o}(e),!q)return Br(e,B)}else{var Oe=Or(e),Te=Oe==co||Oe==ml;if(ai(e))return zh(e,q);if(Oe==Fn||Oe==Li||Te&&!w){if(B=se||Te?{}:sd(e),!q)return se?function Eb(e,n){return An(e,nd(e),n)}(e,function V_(e,n){return e&&An(n,$r(n),e)}(B,e)):function bb(e,n){return An(e,lc(e),n)}(e,yh(B,e))}else{if(!Ht[Oe])return w?e:{};B=function Nb(e,n,o){var h=e.constructor;switch(n){case ys:return ic(e);case fs:case ls:return new h(+e);case ji:return function yb(e,n){var o=n?ic(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}(e,o);case fu:case lu:case hu:case du:case pu:case gu:case yu:case vu:case mu:return $h(e,o);case yn:return new h;case hs:case ps:return new h(e);case ds:return function vb(e){var n=new e.constructor(e.source,Dl.exec(e));return n.lastIndex=e.lastIndex,n}(e);case vn:return new h;case fo:return function mb(e){return ws?zt(ws.call(e)):{}}(e)}}(e,Oe,q)}}C||(C=new _n);var Be=C.get(e);if(Be)return Be;C.set(e,B),Ud(e)?e.forEach(function(Ge){B.add(an(Ge,n,o,Ge,e,C))}):Td(e)&&e.forEach(function(Ge,mt){B.set(mt,an(Ge,n,o,mt,e,C))});var at=we?r:(Ee?se?uc:ac:se?$r:Er)(e);return nn(at||e,function(Ge,mt){at&&(Ge=e[mt=Ge]),Ds(B,mt,an(Ge,n,o,mt,e,C))}),B}function vh(e,n,o){var h=o.length;if(null==e)return!h;for(e=zt(e);h--;){var w=o[h],B=e[w];if(B===r&&!(w in e)||!(0,n[w])(B))return!1}return!0}function mh(e,n,o){if("function"!=typeof e)throw new sn(y);return As(function(){e.apply(r,o)},n)}function xs(e,n,o,h){var w=-1,C=go,B=!0,q=e.length,se=[],Ee=n.length;if(!q)return se;o&&(n=Gt(n,Wr(o))),h?(C=Ru,B=!1):n.length>=200&&(C=vs,B=!1,n=new Ei(n));e:for(;++w<q;){var we=e[w],Oe=null==o?we:o(we);if(we=h||0!==we?we:0,B&&Oe==Oe){for(var Te=Ee;Te--;)if(n[Te]===Oe)continue e;se.push(we)}else C(n,Oe,h)||se.push(we)}return se}I.templateSettings={escape:P1,evaluate:A1,interpolate:wl,variable:"",imports:{_:I}},(I.prototype=Co.prototype).constructor=I,(on.prototype=Wi(Co.prototype)).constructor=on,(Dt.prototype=Wi(Co.prototype)).constructor=Dt,bi.prototype.clear=function __(){this.__data__=Es?Es(null):{},this.size=0},bi.prototype.delete=function b_(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},bi.prototype.get=function E_(e){var n=this.__data__;if(Es){var o=n[e];return o===V?r:o}return Lt.call(n,e)?n[e]:r},bi.prototype.has=function w_(e){var n=this.__data__;return Es?n[e]!==r:Lt.call(n,e)},bi.prototype.set=function D_(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Es&&n===r?V:n,this},Ln.prototype.clear=function x_(){this.__data__=[],this.size=0},Ln.prototype.delete=function S_(e){var n=this.__data__,o=To(n,e);return!(o<0||(o==n.length-1?n.pop():So.call(n,o,1),--this.size,0))},Ln.prototype.get=function I_(e){var n=this.__data__,o=To(n,e);return o<0?r:n[o][1]},Ln.prototype.has=function O_(e){return To(this.__data__,e)>-1},Ln.prototype.set=function R_(e,n){var o=this.__data__,h=To(o,e);return h<0?(++this.size,o.push([e,n])):o[h][1]=n,this},jn.prototype.clear=function P_(){this.size=0,this.__data__={hash:new bi,map:new(_s||Ln),string:new bi}},jn.prototype.delete=function A_(e){var n=Vo(this,e).delete(e);return this.size-=n?1:0,n},jn.prototype.get=function C_(e){return Vo(this,e).get(e)},jn.prototype.has=function T_(e){return Vo(this,e).has(e)},jn.prototype.set=function N_(e,n){var o=Vo(this,e),h=o.size;return o.set(e,n),this.size+=o.size==h?0:1,this},Ei.prototype.add=Ei.prototype.push=function U_(e){return this.__data__.set(e,V),this},Ei.prototype.has=function F_(e){return this.__data__.has(e)},_n.prototype.clear=function L_(){this.__data__=new Ln,this.size=0},_n.prototype.delete=function j_(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o},_n.prototype.get=function M_(e){return this.__data__.get(e)},_n.prototype.has=function B_(e){return this.__data__.has(e)},_n.prototype.set=function z_(e,n){var o=this.__data__;if(o instanceof Ln){var h=o.__data__;if(!_s||h.length<199)return h.push([e,n]),this.size=++o.size,this;o=this.__data__=new jn(h)}return o.set(e,n),this.size=o.size,this};var ni=Kh(Pn),_h=Kh(Vu,!0);function W_(e,n){var o=!0;return ni(e,function(h,w,C){return o=!!n(h,w,C)}),o}function No(e,n,o){for(var h=-1,w=e.length;++h<w;){var C=e[h],B=n(C);if(null!=B&&(q===r?B==B&&!qr(B):o(B,q)))var q=B,se=C}return se}function bh(e,n){var o=[];return ni(e,function(h,w,C){n(h,w,C)&&o.push(h)}),o}function xr(e,n,o,h,w){var C=-1,B=e.length;for(o||(o=Fb),w||(w=[]);++C<B;){var q=e[C];n>0&&o(q)?n>1?xr(q,n-1,o,h,w):ei(w,q):h||(w[w.length]=q)}return w}var Ju=Wh(),Eh=Wh(!0);function Pn(e,n){return e&&Ju(e,n,Er)}function Vu(e,n){return e&&Eh(e,n,Er)}function Uo(e,n){return kn(n,function(o){return Hn(e[o])})}function Di(e,n){for(var o=0,h=(n=si(n,e)).length;null!=e&&o<h;)e=e[Cn(n[o++])];return o&&o==h?e:r}function wh(e,n,o){var h=n(e);return nt(e)?h:ei(h,o(e))}function Nr(e){return null==e?e===r?"[object Undefined]":"[object Null]":_i&&_i in zt(e)?function Pb(e){var n=Lt.call(e,_i),o=e[_i];try{e[_i]=r;var h=!0}catch{}var w=Eo.call(e);return h&&(n?e[_i]=o:delete e[_i]),w}(e):function Hb(e){return Eo.call(e)}(e)}function Ku(e,n){return e>n}function q_(e,n){return null!=e&&Lt.call(e,n)}function Y_(e,n){return null!=e&&n in zt(e)}function Wu(e,n,o){for(var h=o?Ru:go,w=e[0].length,C=e.length,B=C,q=ve(C),se=1/0,Ee=[];B--;){var we=e[B];B&&n&&(we=Gt(we,Wr(n))),se=Ir(we.length,se),q[B]=!o&&(n||w>=120&&we.length>=120)?new Ei(B&&we):r}we=e[0];var Oe=-1,Te=q[0];e:for(;++Oe<w&&Ee.length<se;){var Be=we[Oe],We=n?n(Be):Be;if(Be=o||0!==Be?Be:0,!(Te?vs(Te,We):h(Ee,We,o))){for(B=C;--B;){var at=q[B];if(!(at?vs(at,We):h(e[B],We,o)))continue e}Te&&Te.push(We),Ee.push(Be)}}return Ee}function Ss(e,n,o){var h=null==(e=cd(e,n=si(n,e)))?e:e[Cn(cn(n))];return null==h?r:Kr(h,e,o)}function Dh(e){return kt(e)&&Nr(e)==Li}function Is(e,n,o,h,w){return e===n||(null==e||null==n||!kt(e)&&!kt(n)?e!=e&&n!=n:function eb(e,n,o,h,w,C){var B=nt(e),q=nt(n),se=B?ao:Or(e),Ee=q?ao:Or(n),we=(se=se==Li?Fn:se)==Fn,Oe=(Ee=Ee==Li?Fn:Ee)==Fn,Te=se==Ee;if(Te&&ai(e)){if(!ai(n))return!1;B=!0,we=!1}if(Te&&!we)return C||(C=new _n),B||Xi(e)?rd(e,n,o,h,w,C):function Ob(e,n,o,h,w,C,B){switch(o){case ji:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case ys:return!(e.byteLength!=n.byteLength||!C(new Do(e),new Do(n)));case fs:case ls:case hs:return bn(+e,+n);case uo:return e.name==n.name&&e.message==n.message;case ds:case ps:return e==n+"";case yn:var q=Lu;case vn:if(q||(q=vo),e.size!=n.size&&!(1&h))return!1;var Ee=B.get(e);if(Ee)return Ee==n;h|=2,B.set(e,n);var we=rd(q(e),q(n),h,w,C,B);return B.delete(e),we;case fo:if(ws)return ws.call(e)==ws.call(n)}return!1}(e,n,se,o,h,w,C);if(!(1&o)){var Be=we&&Lt.call(e,"__wrapped__"),We=Oe&&Lt.call(n,"__wrapped__");if(Be||We){var at=Be?e.value():e,Ge=We?n.value():n;return C||(C=new _n),w(at,Ge,o,h,C)}}return!!Te&&(C||(C=new _n),function Rb(e,n,o,h,w,C){var B=1&o,q=ac(e),se=q.length;if(se!=ac(n).length&&!B)return!1;for(var Oe=se;Oe--;){var Te=q[Oe];if(!(B?Te in n:Lt.call(n,Te)))return!1}var Be=C.get(e),We=C.get(n);if(Be&&We)return Be==n&&We==e;var at=!0;C.set(e,n),C.set(n,e);for(var Ge=B;++Oe<se;){var mt=e[Te=q[Oe]],xt=n[Te];if(h)var Yr=B?h(xt,mt,Te,n,e,C):h(mt,xt,Te,e,n,C);if(!(Yr===r?mt===xt||w(mt,xt,o,h,C):Yr)){at=!1;break}Ge||(Ge="constructor"==Te)}if(at&&!Ge){var Fr=e.constructor,Xr=n.constructor;Fr!=Xr&&"constructor"in e&&"constructor"in n&&!("function"==typeof Fr&&Fr instanceof Fr&&"function"==typeof Xr&&Xr instanceof Xr)&&(at=!1)}return C.delete(e),C.delete(n),at}(e,n,o,h,w,C))}(e,n,o,h,Is,w))}function Gu(e,n,o,h){var w=o.length,C=w,B=!h;if(null==e)return!C;for(e=zt(e);w--;){var q=o[w];if(B&&q[2]?q[1]!==e[q[0]]:!(q[0]in e))return!1}for(;++w<C;){var se=(q=o[w])[0],Ee=e[se],we=q[1];if(B&&q[2]){if(Ee===r&&!(se in e))return!1}else{var Oe=new _n;if(h)var Te=h(Ee,we,se,e,n,Oe);if(!(Te===r?Is(we,Ee,3,h,Oe):Te))return!1}}return!0}function xh(e){return!(!Yt(e)||function jb(e){return!!oh&&oh in e}(e))&&(Hn(e)?t_:K1).test(Si(e))}function Sh(e){return"function"==typeof e?e:null==e?Hr:"object"==typeof e?nt(e)?Rh(e[0],e[1]):Oh(e):Gd(e)}function qu(e){if(!Ps(e))return a_(e);var n=[];for(var o in zt(e))Lt.call(e,o)&&"constructor"!=o&&n.push(o);return n}function Yu(e,n){return e<n}function Ih(e,n){var o=-1,h=zr(e)?ve(e.length):[];return ni(e,function(w,C,B){h[++o]=n(w,C,B)}),h}function Oh(e){var n=fc(e);return 1==n.length&&n[0][2]?ad(n[0][0],n[0][1]):function(o){return o===e||Gu(o,e,n)}}function Rh(e,n){return hc(e)&&od(n)?ad(Cn(e),n):function(o){var h=wc(o,e);return h===r&&h===n?Dc(o,e):Is(n,h,3)}}function Fo(e,n,o,h,w){e!==n&&Ju(n,function(C,B){if(w||(w=new _n),Yt(C))!function ob(e,n,o,h,w,C,B){var q=pc(e,o),se=pc(n,o),Ee=B.get(se);if(Ee)$u(e,o,Ee);else{var we=C?C(q,se,o+"",e,n,B):r,Oe=we===r;if(Oe){var Te=nt(se),Be=!Te&&ai(se),We=!Te&&!Be&&Xi(se);we=se,Te||Be||We?nt(q)?we=q:tr(q)?we=Br(q):Be?(Oe=!1,we=zh(se,!0)):We?(Oe=!1,we=$h(se,!0)):we=[]:Cs(se)||Ii(se)?(we=q,Ii(q)?we=jd(q):(!Yt(q)||Hn(q))&&(we=sd(se))):Oe=!1}Oe&&(B.set(se,we),w(we,se,h,C,B),B.delete(se)),$u(e,o,we)}}(e,n,B,o,Fo,h,w);else{var q=h?h(pc(e,B),C,B+"",e,n,w):r;q===r&&(q=C),$u(e,B,q)}},$r)}function Ph(e,n){var o=e.length;if(o)return $n(n+=n<0?o:0,o)?e[n]:r}function Ah(e,n,o){n=n.length?Gt(n,function(C){return nt(C)?function(B){return Di(B,1===C.length?C[0]:C)}:C}):[Hr];var h=-1;return n=Gt(n,Wr(Ve())),function Nm(ee,_e){var ve=ee.length;for(ee.sort(_e);ve--;)ee[ve]=ee[ve].value;return ee}(Ih(e,function(C,B,q){return{criteria:Gt(n,function(Ee){return Ee(C)}),index:++h,value:C}}),function(C,B){return function _b(e,n,o){for(var h=-1,w=e.criteria,C=n.criteria,B=w.length,q=o.length;++h<B;){var se=Hh(w[h],C[h]);if(se)return h>=q?se:se*("desc"==o[h]?-1:1)}return e.index-n.index}(C,B,o)})}function Ch(e,n,o){for(var h=-1,w=n.length,C={};++h<w;){var B=n[h],q=Di(e,B);o(q,B)&&Os(C,si(B,e),q)}return C}function Xu(e,n,o,h){var w=h?Tm:Bi,C=-1,B=n.length,q=e;for(e===n&&(n=Br(n)),o&&(q=Gt(e,Wr(o)));++C<B;)for(var se=0,Ee=n[C],we=o?o(Ee):Ee;(se=w(q,we,se,h))>-1;)q!==e&&So.call(q,se,1),So.call(e,se,1);return e}function Th(e,n){for(var o=e?n.length:0,h=o-1;o--;){var w=n[o];if(o==h||w!==C){var C=w;$n(w)?So.call(e,w,1):ec(e,w)}}return e}function Zu(e,n){return e+Ro(hh()*(n-e+1))}function Qu(e,n){var o="";if(!e||n<1||n>Qn)return o;do{n%2&&(o+=e),(n=Ro(n/2))&&(e+=e)}while(n);return o}function dt(e,n){return gc(ud(e,n,Hr),e+"")}function fb(e){return gh(Zi(e))}function lb(e,n){var o=Zi(e);return Ko(o,wi(n,0,o.length))}function Os(e,n,o,h){if(!Yt(e))return e;for(var w=-1,C=(n=si(n,e)).length,B=C-1,q=e;null!=q&&++w<C;){var se=Cn(n[w]),Ee=o;if("__proto__"===se||"constructor"===se||"prototype"===se)return e;if(w!=B){var we=q[se];(Ee=h?h(we,se,q):r)===r&&(Ee=Yt(we)?we:$n(n[w+1])?[]:{})}Ds(q,se,Ee),q=q[se]}return e}var Nh=Po?function(e,n){return Po.set(e,n),e}:Hr,hb=Io?function(e,n){return Io(e,"toString",{configurable:!0,enumerable:!1,value:Sc(n),writable:!0})}:Hr;function db(e){return Ko(Zi(e))}function un(e,n,o){var h=-1,w=e.length;n<0&&(n=-n>w?0:w+n),(o=o>w?w:o)<0&&(o+=w),w=n>o?0:o-n>>>0,n>>>=0;for(var C=ve(w);++h<w;)C[h]=e[h+n];return C}function pb(e,n){var o;return ni(e,function(h,w,C){return!(o=n(h,w,C))}),!!o}function Lo(e,n,o){var h=0,w=null==e?h:e.length;if("number"==typeof n&&n==n&&w<=2147483647){for(;h<w;){var C=h+w>>>1,B=e[C];null!==B&&!qr(B)&&(o?B<=n:B<n)?h=C+1:w=C}return w}return ku(e,n,Hr,o)}function ku(e,n,o,h){var w=0,C=null==e?0:e.length;if(0===C)return 0;for(var B=(n=o(n))!=n,q=null===n,se=qr(n),Ee=n===r;w<C;){var we=Ro((w+C)/2),Oe=o(e[we]),Te=Oe!==r,Be=null===Oe,We=Oe==Oe,at=qr(Oe);if(B)var Ge=h||We;else Ge=Ee?We&&(h||Te):q?We&&Te&&(h||!Be):se?We&&Te&&!Be&&(h||!at):!Be&&!at&&(h?Oe<=n:Oe<n);Ge?w=we+1:C=we}return Ir(C,4294967294)}function Uh(e,n){for(var o=-1,h=e.length,w=0,C=[];++o<h;){var B=e[o],q=n?n(B):B;if(!o||!bn(q,se)){var se=q;C[w++]=0===B?0:B}}return C}function Fh(e){return"number"==typeof e?e:qr(e)?NaN:+e}function Gr(e){if("string"==typeof e)return e;if(nt(e))return Gt(e,Gr)+"";if(qr(e))return dh?dh.call(e):"";var n=e+"";return"0"==n&&1/e==-vi?"-0":n}function ii(e,n,o){var h=-1,w=go,C=e.length,B=!0,q=[],se=q;if(o)B=!1,w=Ru;else if(C>=200){var Ee=n?null:Sb(e);if(Ee)return vo(Ee);B=!1,w=vs,se=new Ei}else se=n?[]:q;e:for(;++h<C;){var we=e[h],Oe=n?n(we):we;if(we=o||0!==we?we:0,B&&Oe==Oe){for(var Te=se.length;Te--;)if(se[Te]===Oe)continue e;n&&se.push(Oe),q.push(we)}else w(se,Oe,o)||(se!==q&&se.push(Oe),q.push(we))}return q}function ec(e,n){return null==(e=cd(e,n=si(n,e)))||delete e[Cn(cn(n))]}function Lh(e,n,o,h){return Os(e,n,o(Di(e,n)),h)}function jo(e,n,o,h){for(var w=e.length,C=h?w:-1;(h?C--:++C<w)&&n(e[C],C,e););return o?un(e,h?0:C,h?C+1:w):un(e,h?C+1:0,h?w:C)}function jh(e,n){var o=e;return o instanceof Dt&&(o=o.value()),Pu(n,function(h,w){return w.func.apply(w.thisArg,ei([h],w.args))},o)}function tc(e,n,o){var h=e.length;if(h<2)return h?ii(e[0]):[];for(var w=-1,C=ve(h);++w<h;)for(var B=e[w],q=-1;++q<h;)q!=w&&(C[w]=xs(C[w]||B,e[q],n,o));return ii(xr(C,1),n,o)}function Mh(e,n,o){for(var h=-1,w=e.length,C=n.length,B={};++h<w;)o(B,e[h],h<C?n[h]:r);return B}function rc(e){return tr(e)?e:[]}function nc(e){return"function"==typeof e?e:Hr}function si(e,n){return nt(e)?e:hc(e,n)?[e]:dd(Ft(e))}var gb=dt;function oi(e,n,o){var h=e.length;return o=o===r?h:o,!n&&o>=h?e:un(e,n,o)}var Bh=r_||function(e){return Dr.clearTimeout(e)};function zh(e,n){if(n)return e.slice();var o=e.length,h=ah?ah(o):new e.constructor(o);return e.copy(h),h}function ic(e){var n=new e.constructor(e.byteLength);return new Do(n).set(new Do(e)),n}function $h(e,n){var o=n?ic(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Hh(e,n){if(e!==n){var o=e!==r,h=null===e,w=e==e,C=qr(e),B=n!==r,q=null===n,se=n==n,Ee=qr(n);if(!q&&!Ee&&!C&&e>n||C&&B&&se&&!q&&!Ee||h&&B&&se||!o&&se||!w)return 1;if(!h&&!C&&!Ee&&e<n||Ee&&o&&w&&!h&&!C||q&&o&&w||!B&&w||!se)return-1}return 0}function Jh(e,n,o,h){for(var w=-1,C=e.length,B=o.length,q=-1,se=n.length,Ee=yr(C-B,0),we=ve(se+Ee),Oe=!h;++q<se;)we[q]=n[q];for(;++w<B;)(Oe||w<C)&&(we[o[w]]=e[w]);for(;Ee--;)we[q++]=e[w++];return we}function Vh(e,n,o,h){for(var w=-1,C=e.length,B=-1,q=o.length,se=-1,Ee=n.length,we=yr(C-q,0),Oe=ve(we+Ee),Te=!h;++w<we;)Oe[w]=e[w];for(var Be=w;++se<Ee;)Oe[Be+se]=n[se];for(;++B<q;)(Te||w<C)&&(Oe[Be+o[B]]=e[w++]);return Oe}function Br(e,n){var o=-1,h=e.length;for(n||(n=ve(h));++o<h;)n[o]=e[o];return n}function An(e,n,o,h){var w=!o;o||(o={});for(var C=-1,B=n.length;++C<B;){var q=n[C],se=h?h(o[q],e[q],q,o,e):r;se===r&&(se=e[q]),w?Mn(o,q,se):Ds(o,q,se)}return o}function Mo(e,n){return function(o,h){var w=nt(o)?Im:J_,C=n?n():{};return w(o,e,Ve(h,2),C)}}function Gi(e){return dt(function(n,o){var h=-1,w=o.length,C=w>1?o[w-1]:r,B=w>2?o[2]:r;for(C=e.length>3&&"function"==typeof C?(w--,C):r,B&&Ur(o[0],o[1],B)&&(C=w<3?r:C,w=1),n=zt(n);++h<w;){var q=o[h];q&&e(n,q,h,C)}return n})}function Kh(e,n){return function(o,h){if(null==o)return o;if(!zr(o))return e(o,h);for(var w=o.length,C=n?w:-1,B=zt(o);(n?C--:++C<w)&&!1!==h(B[C],C,B););return o}}function Wh(e){return function(n,o,h){for(var w=-1,C=zt(n),B=h(n),q=B.length;q--;){var se=B[e?q:++w];if(!1===o(C[se],se,C))break}return n}}function Gh(e){return function(n){var o=zi(n=Ft(n))?mn(n):r,h=o?o[0]:n.charAt(0),w=o?oi(o,1).join(""):n.slice(1);return h[e]()+w}}function qi(e){return function(n){return Pu(Kd(Vd(n).replace(hm,"")),e,"")}}function Rs(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var o=Wi(e.prototype),h=e.apply(o,n);return Yt(h)?h:o}}function qh(e){return function(n,o,h){var w=zt(n);if(!zr(n)){var C=Ve(o,3);n=Er(n),o=function(q){return C(w[q],q,w)}}var B=e(n,o,h);return B>-1?w[C?n[B]:B]:r}}function Yh(e){return zn(function(n){var o=n.length,h=o,w=on.prototype.thru;for(e&&n.reverse();h--;){var C=n[h];if("function"!=typeof C)throw new sn(y);if(w&&!B&&"wrapper"==Jo(C))var B=new on([],!0)}for(h=B?h:o;++h<o;){var q=Jo(C=n[h]),se="wrapper"==q?cc(C):r;B=se&&dc(se[0])&&424==se[1]&&!se[4].length&&1==se[9]?B[Jo(se[0])].apply(B,se[3]):1==C.length&&dc(C)?B[q]():B.thru(C)}return function(){var Ee=arguments,we=Ee[0];if(B&&1==Ee.length&&nt(we))return B.plant(we).value();for(var Oe=0,Te=o?n[Oe].apply(this,Ee):we;++Oe<o;)Te=n[Oe].call(this,Te);return Te}})}function Bo(e,n,o,h,w,C,B,q,se,Ee){var we=128&n,Oe=1&n,Te=2&n,Be=24&n,We=512&n,at=Te?r:Rs(e);return function Ge(){for(var mt=arguments.length,xt=ve(mt),Yr=mt;Yr--;)xt[Yr]=arguments[Yr];if(Be)var Fr=Yi(Ge),Xr=Fm(xt,Fr);if(h&&(xt=Jh(xt,h,w,Be)),C&&(xt=Vh(xt,C,B,Be)),mt-=Xr,Be&&mt<Ee){var rr=ti(xt,Fr);return Qh(e,n,Bo,Ge.placeholder,o,xt,rr,q,se,Ee-mt)}var En=Oe?o:this,Vn=Te?En[e]:e;return mt=xt.length,q?xt=Jb(xt,q):We&&mt>1&&xt.reverse(),we&&se<mt&&(xt.length=se),this&&this!==Dr&&this instanceof Ge&&(Vn=at||Rs(Vn)),Vn.apply(En,xt)}}function Xh(e,n){return function(o,h){return function Z_(e,n,o,h){return Pn(e,function(w,C,B){n(h,o(w),C,B)}),h}(o,e,n(h),{})}}function zo(e,n){return function(o,h){var w;if(o===r&&h===r)return n;if(o!==r&&(w=o),h!==r){if(w===r)return h;"string"==typeof o||"string"==typeof h?(o=Gr(o),h=Gr(h)):(o=Fh(o),h=Fh(h)),w=e(o,h)}return w}}function sc(e){return zn(function(n){return n=Gt(n,Wr(Ve())),dt(function(o){var h=this;return e(n,function(w){return Kr(w,h,o)})})})}function $o(e,n){var o=(n=n===r?" ":Gr(n)).length;if(o<2)return o?Qu(n,e):n;var h=Qu(n,Oo(e/$i(n)));return zi(n)?oi(mn(h),0,e).join(""):h.slice(0,e)}function Zh(e){return function(n,o,h){return h&&"number"!=typeof h&&Ur(n,o,h)&&(o=h=r),n=Jn(n),o===r?(o=n,n=0):o=Jn(o),function cb(e,n,o,h){for(var w=-1,C=yr(Oo((n-e)/(o||1)),0),B=ve(C);C--;)B[h?C:++w]=e,e+=o;return B}(n,o,h=h===r?n<o?1:-1:Jn(h),e)}}function Ho(e){return function(n,o){return"string"==typeof n&&"string"==typeof o||(n=fn(n),o=fn(o)),e(n,o)}}function Qh(e,n,o,h,w,C,B,q,se,Ee){var we=8&n;n|=we?32:64,4&(n&=~(we?64:32))||(n&=-4);var at=[e,n,w,we?C:r,we?B:r,we?r:C,we?r:B,q,se,Ee],Ge=o.apply(r,at);return dc(e)&&fd(Ge,at),Ge.placeholder=h,ld(Ge,e,n)}function oc(e){var n=gr[e];return function(o,h){if(o=fn(o),(h=null==h?0:Ir(ot(h),292))&&lh(o)){var w=(Ft(o)+"e").split("e");return+((w=(Ft(n(w[0]+"e"+(+w[1]+h)))+"e").split("e"))[0]+"e"+(+w[1]-h))}return n(o)}}var Sb=Vi&&1/vo(new Vi([,-0]))[1]==vi?function(e){return new Vi(e)}:Rc;function kh(e){return function(n){var o=Or(n);return o==yn?Lu(n):o==vn?function Hm(ee){var _e=-1,ve=Array(ee.size);return ee.forEach(function(je){ve[++_e]=[je,je]}),ve}(n):function Um(ee,_e){return Gt(_e,function(ve){return[ve,ee[ve]]})}(n,e(n))}}function Bn(e,n,o,h,w,C,B,q){var se=2&n;if(!se&&"function"!=typeof e)throw new sn(y);var Ee=h?h.length:0;if(Ee||(n&=-97,h=w=r),B=B===r?B:yr(ot(B),0),q=q===r?q:ot(q),Ee-=w?w.length:0,64&n){var we=h,Oe=w;h=w=r}var Te=se?r:cc(e),Be=[e,n,o,h,w,we,Oe,C,B,q];if(Te&&function zb(e,n){var o=e[1],h=n[1],w=o|h;if(!(w<131||(128==h&&8==o||128==h&&256==o&&e[7].length<=n[8]||384==h&&n[7].length<=n[8]&&8==o)))return e;1&h&&(e[2]=n[2],w|=1&o?0:4);var q=n[3];if(q){var se=e[3];e[3]=se?Jh(se,q,n[4]):q,e[4]=se?ti(e[3],de):n[4]}(q=n[5])&&(e[5]=(se=e[5])?Vh(se,q,n[6]):q,e[6]=se?ti(e[5],de):n[6]),(q=n[7])&&(e[7]=q),128&h&&(e[8]=null==e[8]?n[8]:Ir(e[8],n[8])),null==e[9]&&(e[9]=n[9]),e[0]=n[0],e[1]=w}(Be,Te),e=Be[0],n=Be[1],o=Be[2],h=Be[3],w=Be[4],!(q=Be[9]=Be[9]===r?se?0:e.length:yr(Be[9]-Ee,0))&&24&n&&(n&=-25),n&&1!=n)We=8==n||16==n?function Db(e,n,o){var h=Rs(e);return function w(){for(var C=arguments.length,B=ve(C),q=C,se=Yi(w);q--;)B[q]=arguments[q];var Ee=C<3&&B[0]!==se&&B[C-1]!==se?[]:ti(B,se);return(C-=Ee.length)<o?Qh(e,n,Bo,w.placeholder,r,B,Ee,r,r,o-C):Kr(this&&this!==Dr&&this instanceof w?h:e,this,B)}}(e,n,q):32!=n&&33!=n||w.length?Bo.apply(r,Be):function xb(e,n,o,h){var w=1&n,C=Rs(e);return function B(){for(var q=-1,se=arguments.length,Ee=-1,we=h.length,Oe=ve(we+se),Te=this&&this!==Dr&&this instanceof B?C:e;++Ee<we;)Oe[Ee]=h[Ee];for(;se--;)Oe[Ee++]=arguments[++q];return Kr(Te,w?o:this,Oe)}}(e,n,o,h);else var We=function wb(e,n,o){var h=1&n,w=Rs(e);return function C(){return(this&&this!==Dr&&this instanceof C?w:e).apply(h?o:this,arguments)}}(e,n,o);return ld((Te?Nh:fd)(We,Be),e,n)}function ed(e,n,o,h){return e===r||bn(e,Ji[o])&&!Lt.call(h,o)?n:e}function td(e,n,o,h,w,C){return Yt(e)&&Yt(n)&&(C.set(n,e),Fo(e,n,r,td,C),C.delete(n)),e}function Ib(e){return Cs(e)?r:e}function rd(e,n,o,h,w,C){var B=1&o,q=e.length,se=n.length;if(q!=se&&!(B&&se>q))return!1;var Ee=C.get(e),we=C.get(n);if(Ee&&we)return Ee==n&&we==e;var Oe=-1,Te=!0,Be=2&o?new Ei:r;for(C.set(e,n),C.set(n,e);++Oe<q;){var We=e[Oe],at=n[Oe];if(h)var Ge=B?h(at,We,Oe,n,e,C):h(We,at,Oe,e,n,C);if(Ge!==r){if(Ge)continue;Te=!1;break}if(Be){if(!Au(n,function(mt,xt){if(!vs(Be,xt)&&(We===mt||w(We,mt,o,h,C)))return Be.push(xt)})){Te=!1;break}}else if(We!==at&&!w(We,at,o,h,C)){Te=!1;break}}return C.delete(e),C.delete(n),Te}function zn(e){return gc(ud(e,r,vd),e+"")}function ac(e){return wh(e,Er,lc)}function uc(e){return wh(e,$r,nd)}var cc=Po?function(e){return Po.get(e)}:Rc;function Jo(e){for(var n=e.name+"",o=Ki[n],h=Lt.call(Ki,n)?o.length:0;h--;){var w=o[h],C=w.func;if(null==C||C==e)return w.name}return n}function Yi(e){return(Lt.call(I,"placeholder")?I:e).placeholder}function Ve(){var e=I.iteratee||Ic;return e=e===Ic?Sh:e,arguments.length?e(arguments[0],arguments[1]):e}function Vo(e,n){var o=e.__data__;return function Lb(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?o["string"==typeof n?"string":"hash"]:o.map}function fc(e){for(var n=Er(e),o=n.length;o--;){var h=n[o],w=e[h];n[o]=[h,w,od(w)]}return n}function xi(e,n){var o=function Bm(ee,_e){return null==ee?r:ee[_e]}(e,n);return xh(o)?o:r}var lc=Mu?function(e){return null==e?[]:(e=zt(e),kn(Mu(e),function(n){return ch.call(e,n)}))}:Pc,nd=Mu?function(e){for(var n=[];e;)ei(n,lc(e)),e=xo(e);return n}:Pc,Or=Nr;function id(e,n,o){for(var h=-1,w=(n=si(n,e)).length,C=!1;++h<w;){var B=Cn(n[h]);if(!(C=null!=e&&o(e,B)))break;e=e[B]}return C||++h!=w?C:!!(w=null==e?0:e.length)&&Zo(w)&&$n(B,w)&&(nt(e)||Ii(e))}function sd(e){return"function"!=typeof e.constructor||Ps(e)?{}:Wi(xo(e))}function Fb(e){return nt(e)||Ii(e)||!!(fh&&e&&e[fh])}function $n(e,n){var o=typeof e;return!!(n=n??Qn)&&("number"==o||"symbol"!=o&&G1.test(e))&&e>-1&&e%1==0&&e<n}function Ur(e,n,o){if(!Yt(o))return!1;var h=typeof n;return!!("number"==h?zr(o)&&$n(n,o.length):"string"==h&&n in o)&&bn(o[n],e)}function hc(e,n){if(nt(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!qr(e))||T1.test(e)||!C1.test(e)||null!=n&&e in zt(n)}function dc(e){var n=Jo(e),o=I[n];if("function"!=typeof o||!(n in Dt.prototype))return!1;if(e===o)return!0;var h=cc(o);return!!h&&e===h[0]}(Bu&&Or(new Bu(new ArrayBuffer(1)))!=ji||_s&&Or(new _s)!=yn||zu&&Or(zu.resolve())!=_l||Vi&&Or(new Vi)!=vn||bs&&Or(new bs)!=gs)&&(Or=function(e){var n=Nr(e),o=n==Fn?e.constructor:r,h=o?Si(o):"";if(h)switch(h){case l_:return ji;case h_:return yn;case d_:return _l;case p_:return vn;case g_:return gs}return n});var Mb=_o?Hn:Ac;function Ps(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||Ji)}function od(e){return e==e&&!Yt(e)}function ad(e,n){return function(o){return null!=o&&o[e]===n&&(n!==r||e in zt(o))}}function ud(e,n,o){return n=yr(n===r?e.length-1:n,0),function(){for(var h=arguments,w=-1,C=yr(h.length-n,0),B=ve(C);++w<C;)B[w]=h[n+w];w=-1;for(var q=ve(n+1);++w<n;)q[w]=h[w];return q[n]=o(B),Kr(e,this,q)}}function cd(e,n){return n.length<2?e:Di(e,un(n,0,-1))}function Jb(e,n){for(var o=e.length,h=Ir(n.length,o),w=Br(e);h--;){var C=n[h];e[h]=$n(C,o)?w[C]:r}return e}function pc(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]}var fd=hd(Nh),As=i_||function(e,n){return Dr.setTimeout(e,n)},gc=hd(hb);function ld(e,n,o){var h=n+"";return gc(e,function Ub(e,n){var o=n.length;if(!o)return e;var h=o-1;return n[h]=(o>1?"& ":"")+n[h],n=n.join(o>2?", ":" "),e.replace(L1,"{\n/* [wrapped with "+n+"] */\n")}(h,function Vb(e,n){return nn(v1,function(o){var h="_."+o[0];n&o[1]&&!go(e,h)&&e.push(h)}),e.sort()}(function Cb(e){var n=e.match(j1);return n?n[1].split(M1):[]}(h),o)))}function hd(e){var n=0,o=0;return function(){var h=u_(),w=16-(h-o);if(o=h,w>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(r,arguments)}}function Ko(e,n){var o=-1,h=e.length,w=h-1;for(n=n===r?h:n;++o<n;){var C=Zu(o,w),B=e[C];e[C]=e[o],e[o]=B}return e.length=n,e}var dd=function Bb(e){var n=Yo(e,function(h){return 500===o.size&&o.clear(),h}),o=n.cache;return n}(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(N1,function(o,h,w,C){n.push(w?C.replace($1,"$1"):h||o)}),n});function Cn(e){if("string"==typeof e||qr(e))return e;var n=e+"";return"0"==n&&1/e==-vi?"-0":n}function Si(e){if(null!=e){try{return bo.call(e)}catch{}try{return e+""}catch{}}return""}function pd(e){if(e instanceof Dt)return e.clone();var n=new on(e.__wrapped__,e.__chain__);return n.__actions__=Br(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}var qb=dt(function(e,n){return tr(e)?xs(e,xr(n,1,tr,!0)):[]}),Yb=dt(function(e,n){var o=cn(n);return tr(o)&&(o=r),tr(e)?xs(e,xr(n,1,tr,!0),Ve(o,2)):[]}),Xb=dt(function(e,n){var o=cn(n);return tr(o)&&(o=r),tr(e)?xs(e,xr(n,1,tr,!0),r,o):[]});function gd(e,n,o){var h=null==e?0:e.length;if(!h)return-1;var w=null==o?0:ot(o);return w<0&&(w=yr(h+w,0)),yo(e,Ve(n,3),w)}function yd(e,n,o){var h=null==e?0:e.length;if(!h)return-1;var w=h-1;return o!==r&&(w=ot(o),w=o<0?yr(h+w,0):Ir(w,h-1)),yo(e,Ve(n,3),w,!0)}function vd(e){return null!=e&&e.length?xr(e,1):[]}function md(e){return e&&e.length?e[0]:r}var aE=dt(function(e){var n=Gt(e,rc);return n.length&&n[0]===e[0]?Wu(n):[]}),uE=dt(function(e){var n=cn(e),o=Gt(e,rc);return n===cn(o)?n=r:o.pop(),o.length&&o[0]===e[0]?Wu(o,Ve(n,2)):[]}),cE=dt(function(e){var n=cn(e),o=Gt(e,rc);return(n="function"==typeof n?n:r)&&o.pop(),o.length&&o[0]===e[0]?Wu(o,r,n):[]});function cn(e){var n=null==e?0:e.length;return n?e[n-1]:r}var dE=dt(_d);function _d(e,n){return e&&e.length&&n&&n.length?Xu(e,n):e}var yE=zn(function(e,n){var o=null==e?0:e.length,h=Hu(e,n);return Th(e,Gt(n,function(w){return $n(w,o)?+w:w}).sort(Hh)),h});function yc(e){return null==e?e:f_.call(e)}var TE=dt(function(e){return ii(xr(e,1,tr,!0))}),NE=dt(function(e){var n=cn(e);return tr(n)&&(n=r),ii(xr(e,1,tr,!0),Ve(n,2))}),UE=dt(function(e){var n=cn(e);return n="function"==typeof n?n:r,ii(xr(e,1,tr,!0),r,n)});function vc(e){if(!e||!e.length)return[];var n=0;return e=kn(e,function(o){if(tr(o))return n=yr(o.length,n),!0}),Uu(n,function(o){return Gt(e,Cu(o))})}function bd(e,n){if(!e||!e.length)return[];var o=vc(e);return null==n?o:Gt(o,function(h){return Kr(n,r,h)})}var ME=dt(function(e,n){return tr(e)?xs(e,n):[]}),BE=dt(function(e){return tc(kn(e,tr))}),zE=dt(function(e){var n=cn(e);return tr(n)&&(n=r),tc(kn(e,tr),Ve(n,2))}),$E=dt(function(e){var n=cn(e);return n="function"==typeof n?n:r,tc(kn(e,tr),r,n)}),HE=dt(vc),KE=dt(function(e){var n=e.length,o=n>1?e[n-1]:r;return o="function"==typeof o?(e.pop(),o):r,bd(e,o)});function Ed(e){var n=I(e);return n.__chain__=!0,n}function Wo(e,n){return n(e)}var GE=zn(function(e){var n=e.length,o=n?e[0]:0,h=this.__wrapped__,w=function(C){return Hu(C,e)};return!(n>1||this.__actions__.length)&&h instanceof Dt&&$n(o)?((h=h.slice(o,+o+(n?1:0))).__actions__.push({func:Wo,args:[w],thisArg:r}),new on(h,this.__chain__).thru(function(C){return n&&!C.length&&C.push(r),C})):this.thru(w)}),tw=Mo(function(e,n,o){Lt.call(e,o)?++e[o]:Mn(e,o,1)}),iw=qh(gd),sw=qh(yd);function wd(e,n){return(nt(e)?nn:ni)(e,Ve(n,3))}function Dd(e,n){return(nt(e)?Om:_h)(e,Ve(n,3))}var cw=Mo(function(e,n,o){Lt.call(e,o)?e[o].push(n):Mn(e,o,[n])}),lw=dt(function(e,n,o){var h=-1,w="function"==typeof n,C=zr(e)?ve(e.length):[];return ni(e,function(B){C[++h]=w?Kr(n,B,o):Ss(B,n,o)}),C}),hw=Mo(function(e,n,o){Mn(e,o,n)});function Go(e,n){return(nt(e)?Gt:Ih)(e,Ve(n,3))}var pw=Mo(function(e,n,o){e[o?0:1].push(n)},function(){return[[],[]]}),Dw=dt(function(e,n){if(null==e)return[];var o=n.length;return o>1&&Ur(e,n[0],n[1])?n=[]:o>2&&Ur(n[0],n[1],n[2])&&(n=[n[0]]),Ah(e,xr(n,1),[])}),qo=n_||function(){return Dr.Date.now()};function xd(e,n,o){return n=o?r:n,Bn(e,128,r,r,r,r,n=e&&null==n?e.length:n)}function Sd(e,n){var o;if("function"!=typeof n)throw new sn(y);return e=ot(e),function(){return--e>0&&(o=n.apply(this,arguments)),e<=1&&(n=r),o}}var mc=dt(function(e,n,o){var h=1;if(o.length){var w=ti(o,Yi(mc));h|=32}return Bn(e,h,n,o,w)}),Id=dt(function(e,n,o){var h=3;if(o.length){var w=ti(o,Yi(Id));h|=32}return Bn(n,h,e,o,w)});function Pd(e,n,o){var h,w,C,B,q,se,Ee=0,we=!1,Oe=!1,Te=!0;if("function"!=typeof e)throw new sn(y);function Be(rr){var En=h,Vn=w;return h=w=r,Ee=rr,B=e.apply(Vn,En)}function We(rr){return Ee=rr,q=As(mt,n),we?Be(rr):B}function Ge(rr){var En=rr-se;return se===r||En>=n||En<0||Oe&&rr-Ee>=C}function mt(){var rr=qo();if(Ge(rr))return xt(rr);q=As(mt,function at(rr){var qd=n-(rr-se);return Oe?Ir(qd,C-(rr-Ee)):qd}(rr))}function xt(rr){return q=r,Te&&h?Be(rr):(h=w=r,B)}function Xr(){var rr=qo(),En=Ge(rr);if(h=arguments,w=this,se=rr,En){if(q===r)return We(se);if(Oe)return Bh(q),q=As(mt,n),Be(se)}return q===r&&(q=As(mt,n)),B}return n=fn(n)||0,Yt(o)&&(we=!!o.leading,C=(Oe="maxWait"in o)?yr(fn(o.maxWait)||0,n):C,Te="trailing"in o?!!o.trailing:Te),Xr.cancel=function Yr(){q!==r&&Bh(q),Ee=0,h=se=w=q=r},Xr.flush=function Fr(){return q===r?B:xt(qo())},Xr}var Sw=dt(function(e,n){return mh(e,1,n)}),Iw=dt(function(e,n,o){return mh(e,fn(n)||0,o)});function Yo(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new sn(y);var o=function(){var h=arguments,w=n?n.apply(this,h):h[0],C=o.cache;if(C.has(w))return C.get(w);var B=e.apply(this,h);return o.cache=C.set(w,B)||C,B};return o.cache=new(Yo.Cache||jn),o}function Xo(e){if("function"!=typeof e)throw new sn(y);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}Yo.Cache=jn;var Pw=gb(function(e,n){var o=(n=1==n.length&&nt(n[0])?Gt(n[0],Wr(Ve())):Gt(xr(n,1),Wr(Ve()))).length;return dt(function(h){for(var w=-1,C=Ir(h.length,o);++w<C;)h[w]=n[w].call(this,h[w]);return Kr(e,this,h)})}),_c=dt(function(e,n){var o=ti(n,Yi(_c));return Bn(e,32,r,n,o)}),Ad=dt(function(e,n){var o=ti(n,Yi(Ad));return Bn(e,64,r,n,o)}),Aw=zn(function(e,n){return Bn(e,256,r,r,r,n)});function bn(e,n){return e===n||e!=e&&n!=n}var Hw=Ho(Ku),Jw=Ho(function(e,n){return e>=n}),Ii=Dh(function(){return arguments}())?Dh:function(e){return kt(e)&&Lt.call(e,"callee")&&!ch.call(e,"callee")},nt=ve.isArray,Vw=Vl?Wr(Vl):function Q_(e){return kt(e)&&Nr(e)==ys};function zr(e){return null!=e&&Zo(e.length)&&!Hn(e)}function tr(e){return kt(e)&&zr(e)}var ai=s_||Ac,Ww=Kl?Wr(Kl):function k_(e){return kt(e)&&Nr(e)==ls};function bc(e){if(!kt(e))return!1;var n=Nr(e);return n==uo||"[object DOMException]"==n||"string"==typeof e.message&&"string"==typeof e.name&&!Cs(e)}function Hn(e){if(!Yt(e))return!1;var n=Nr(e);return n==co||n==ml||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Cd(e){return"number"==typeof e&&e==ot(e)}function Zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Qn}function Yt(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function kt(e){return null!=e&&"object"==typeof e}var Td=Wl?Wr(Wl):function tb(e){return kt(e)&&Or(e)==yn};function Nd(e){return"number"==typeof e||kt(e)&&Nr(e)==hs}function Cs(e){if(!kt(e)||Nr(e)!=Fn)return!1;var n=xo(e);if(null===n)return!0;var o=Lt.call(n,"constructor")&&n.constructor;return"function"==typeof o&&o instanceof o&&bo.call(o)==km}var Ec=Gl?Wr(Gl):function rb(e){return kt(e)&&Nr(e)==ds},Ud=ql?Wr(ql):function nb(e){return kt(e)&&Or(e)==vn};function Qo(e){return"string"==typeof e||!nt(e)&&kt(e)&&Nr(e)==ps}function qr(e){return"symbol"==typeof e||kt(e)&&Nr(e)==fo}var Xi=Yl?Wr(Yl):function ib(e){return kt(e)&&Zo(e.length)&&!!Vt[Nr(e)]},u3=Ho(Yu),c3=Ho(function(e,n){return e<=n});function Fd(e){if(!e)return[];if(zr(e))return Qo(e)?mn(e):Br(e);if(ms&&e[ms])return function $m(ee){for(var _e,ve=[];!(_e=ee.next()).done;)ve.push(_e.value);return ve}(e[ms]());var n=Or(e);return(n==yn?Lu:n==vn?vo:Zi)(e)}function Jn(e){return e?(e=fn(e))===vi||e===-vi?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ot(e){var n=Jn(e),o=n%1;return n==n?o?n-o:n:0}function Ld(e){return e?wi(ot(e),0,Rn):0}function fn(e){if("number"==typeof e)return e;if(qr(e))return NaN;if(Yt(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Yt(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=th(e);var o=V1.test(e);return o||W1.test(e)?xm(e.slice(2),o?2:8):J1.test(e)?NaN:+e}function jd(e){return An(e,$r(e))}function Ft(e){return null==e?"":Gr(e)}var l3=Gi(function(e,n){if(Ps(n)||zr(n))An(n,Er(n),e);else for(var o in n)Lt.call(n,o)&&Ds(e,o,n[o])}),Md=Gi(function(e,n){An(n,$r(n),e)}),ko=Gi(function(e,n,o,h){An(n,$r(n),e,h)}),h3=Gi(function(e,n,o,h){An(n,Er(n),e,h)}),d3=zn(Hu),g3=dt(function(e,n){e=zt(e);var o=-1,h=n.length,w=h>2?n[2]:r;for(w&&Ur(n[0],n[1],w)&&(h=1);++o<h;)for(var C=n[o],B=$r(C),q=-1,se=B.length;++q<se;){var Ee=B[q],we=e[Ee];(we===r||bn(we,Ji[Ee])&&!Lt.call(e,Ee))&&(e[Ee]=C[Ee])}return e}),y3=dt(function(e){return e.push(r,td),Kr(Bd,r,e)});function wc(e,n,o){var h=null==e?r:Di(e,n);return h===r?o:h}function Dc(e,n){return null!=e&&id(e,n,Y_)}var I3=Xh(function(e,n,o){null!=n&&"function"!=typeof n.toString&&(n=Eo.call(n)),e[n]=o},Sc(Hr)),O3=Xh(function(e,n,o){null!=n&&"function"!=typeof n.toString&&(n=Eo.call(n)),Lt.call(e,n)?e[n].push(o):e[n]=[o]},Ve),R3=dt(Ss);function Er(e){return zr(e)?ph(e):qu(e)}function $r(e){return zr(e)?ph(e,!0):function sb(e){if(!Yt(e))return function $b(e){var n=[];if(null!=e)for(var o in zt(e))n.push(o);return n}(e);var n=Ps(e),o=[];for(var h in e)"constructor"==h&&(n||!Lt.call(e,h))||o.push(h);return o}(e)}var C3=Gi(function(e,n,o){Fo(e,n,o)}),Bd=Gi(function(e,n,o,h){Fo(e,n,o,h)}),T3=zn(function(e,n){var o={};if(null==e)return o;var h=!1;n=Gt(n,function(C){return C=si(C,e),h||(h=C.length>1),C}),An(e,uc(e),o),h&&(o=an(o,7,Ib));for(var w=n.length;w--;)ec(o,n[w]);return o}),U3=zn(function(e,n){return null==e?{}:function ab(e,n){return Ch(e,n,function(o,h){return Dc(e,h)})}(e,n)});function zd(e,n){if(null==e)return{};var o=Gt(uc(e),function(h){return[h]});return n=Ve(n),Ch(e,o,function(h,w){return n(h,w[0])})}var $d=kh(Er),Hd=kh($r);function Zi(e){return null==e?[]:Fu(e,Er(e))}var W3=qi(function(e,n,o){return n=n.toLowerCase(),e+(o?Jd(n):n)});function Jd(e){return xc(Ft(e).toLowerCase())}function Vd(e){return(e=Ft(e))&&e.replace(q1,Lm).replace(dm,"")}var X3=qi(function(e,n,o){return e+(o?"-":"")+n.toLowerCase()}),Z3=qi(function(e,n,o){return e+(o?" ":"")+n.toLowerCase()}),Q3=Gh("toLowerCase"),s6=qi(function(e,n,o){return e+(o?"_":"")+n.toLowerCase()}),a6=qi(function(e,n,o){return e+(o?" ":"")+xc(n)}),v6=qi(function(e,n,o){return e+(o?" ":"")+n.toUpperCase()}),xc=Gh("toUpperCase");function Kd(e,n,o){return e=Ft(e),(n=o?r:n)===r?function zm(ee){return ym.test(ee)}(e)?function qm(ee){return ee.match(pm)||[]}(e):function Cm(ee){return ee.match(B1)||[]}(e):e.match(n)||[]}var Wd=dt(function(e,n){try{return Kr(e,r,n)}catch(o){return bc(o)?o:new ke(o)}}),m6=zn(function(e,n){return nn(n,function(o){o=Cn(o),Mn(e,o,mc(e[o],e))}),e});function Sc(e){return function(){return e}}var w6=Yh(),D6=Yh(!0);function Hr(e){return e}function Ic(e){return Sh("function"==typeof e?e:an(e,1))}var I6=dt(function(e,n){return function(o){return Ss(o,e,n)}}),O6=dt(function(e,n){return function(o){return Ss(e,o,n)}});function Oc(e,n,o){var h=Er(n),w=Uo(n,h);null==o&&(!Yt(n)||!w.length&&h.length)&&(o=n,n=e,e=this,w=Uo(n,Er(n)));var C=!(Yt(o)&&"chain"in o&&!o.chain),B=Hn(e);return nn(w,function(q){var se=n[q];e[q]=se,B&&(e.prototype[q]=function(){var Ee=this.__chain__;if(C||Ee){var we=e(this.__wrapped__),Oe=we.__actions__=Br(this.__actions__);return Oe.push({func:se,args:arguments,thisArg:e}),we.__chain__=Ee,we}return se.apply(e,ei([this.value()],arguments))})}),e}function Rc(){}var A6=sc(Gt),C6=sc(Xl),T6=sc(Au);function Gd(e){return hc(e)?Cu(Cn(e)):function ub(e){return function(n){return Di(n,e)}}(e)}var U6=Zh(),F6=Zh(!0);function Pc(){return[]}function Ac(){return!1}var H6=zo(function(e,n){return e+n},0),J6=oc("ceil"),V6=zo(function(e,n){return e/n},1),K6=oc("floor"),Q6=zo(function(e,n){return e*n},1),k6=oc("round"),e2=zo(function(e,n){return e-n},0);return I.after=function xw(e,n){if("function"!=typeof n)throw new sn(y);return e=ot(e),function(){if(--e<1)return n.apply(this,arguments)}},I.ary=xd,I.assign=l3,I.assignIn=Md,I.assignInWith=ko,I.assignWith=h3,I.at=d3,I.before=Sd,I.bind=mc,I.bindAll=m6,I.bindKey=Id,I.castArray=function Lw(){if(!arguments.length)return[];var e=arguments[0];return nt(e)?e:[e]},I.chain=Ed,I.chunk=function Kb(e,n,o){n=(o?Ur(e,n,o):n===r)?1:yr(ot(n),0);var h=null==e?0:e.length;if(!h||n<1)return[];for(var w=0,C=0,B=ve(Oo(h/n));w<h;)B[C++]=un(e,w,w+=n);return B},I.compact=function Wb(e){for(var n=-1,o=null==e?0:e.length,h=0,w=[];++n<o;){var C=e[n];C&&(w[h++]=C)}return w},I.concat=function Gb(){var e=arguments.length;if(!e)return[];for(var n=ve(e-1),o=arguments[0],h=e;h--;)n[h-1]=arguments[h];return ei(nt(o)?Br(o):[o],xr(n,1))},I.cond=function _6(e){var n=null==e?0:e.length,o=Ve();return e=n?Gt(e,function(h){if("function"!=typeof h[1])throw new sn(y);return[o(h[0]),h[1]]}):[],dt(function(h){for(var w=-1;++w<n;){var C=e[w];if(Kr(C[0],this,h))return Kr(C[1],this,h)}})},I.conforms=function b6(e){return function K_(e){var n=Er(e);return function(o){return vh(o,e,n)}}(an(e,1))},I.constant=Sc,I.countBy=tw,I.create=function p3(e,n){var o=Wi(e);return null==n?o:yh(o,n)},I.curry=function Od(e,n,o){var h=Bn(e,8,r,r,r,r,r,n=o?r:n);return h.placeholder=Od.placeholder,h},I.curryRight=function Rd(e,n,o){var h=Bn(e,16,r,r,r,r,r,n=o?r:n);return h.placeholder=Rd.placeholder,h},I.debounce=Pd,I.defaults=g3,I.defaultsDeep=y3,I.defer=Sw,I.delay=Iw,I.difference=qb,I.differenceBy=Yb,I.differenceWith=Xb,I.drop=function Zb(e,n,o){var h=null==e?0:e.length;return h?un(e,(n=o||n===r?1:ot(n))<0?0:n,h):[]},I.dropRight=function Qb(e,n,o){var h=null==e?0:e.length;return h?un(e,0,(n=h-(n=o||n===r?1:ot(n)))<0?0:n):[]},I.dropRightWhile=function kb(e,n){return e&&e.length?jo(e,Ve(n,3),!0,!0):[]},I.dropWhile=function eE(e,n){return e&&e.length?jo(e,Ve(n,3),!0):[]},I.fill=function tE(e,n,o,h){var w=null==e?0:e.length;return w?(o&&"number"!=typeof o&&Ur(e,n,o)&&(o=0,h=w),function G_(e,n,o,h){var w=e.length;for((o=ot(o))<0&&(o=-o>w?0:w+o),(h=h===r||h>w?w:ot(h))<0&&(h+=w),h=o>h?0:Ld(h);o<h;)e[o++]=n;return e}(e,n,o,h)):[]},I.filter=function nw(e,n){return(nt(e)?kn:bh)(e,Ve(n,3))},I.flatMap=function ow(e,n){return xr(Go(e,n),1)},I.flatMapDeep=function aw(e,n){return xr(Go(e,n),vi)},I.flatMapDepth=function uw(e,n,o){return o=o===r?1:ot(o),xr(Go(e,n),o)},I.flatten=vd,I.flattenDeep=function rE(e){return null!=e&&e.length?xr(e,vi):[]},I.flattenDepth=function nE(e,n){return null!=e&&e.length?xr(e,n=n===r?1:ot(n)):[]},I.flip=function Ow(e){return Bn(e,512)},I.flow=w6,I.flowRight=D6,I.fromPairs=function iE(e){for(var n=-1,o=null==e?0:e.length,h={};++n<o;){var w=e[n];h[w[0]]=w[1]}return h},I.functions=function D3(e){return null==e?[]:Uo(e,Er(e))},I.functionsIn=function x3(e){return null==e?[]:Uo(e,$r(e))},I.groupBy=cw,I.initial=function oE(e){return null!=e&&e.length?un(e,0,-1):[]},I.intersection=aE,I.intersectionBy=uE,I.intersectionWith=cE,I.invert=I3,I.invertBy=O3,I.invokeMap=lw,I.iteratee=Ic,I.keyBy=hw,I.keys=Er,I.keysIn=$r,I.map=Go,I.mapKeys=function P3(e,n){var o={};return n=Ve(n,3),Pn(e,function(h,w,C){Mn(o,n(h,w,C),h)}),o},I.mapValues=function A3(e,n){var o={};return n=Ve(n,3),Pn(e,function(h,w,C){Mn(o,w,n(h,w,C))}),o},I.matches=function x6(e){return Oh(an(e,1))},I.matchesProperty=function S6(e,n){return Rh(e,an(n,1))},I.memoize=Yo,I.merge=C3,I.mergeWith=Bd,I.method=I6,I.methodOf=O6,I.mixin=Oc,I.negate=Xo,I.nthArg=function P6(e){return e=ot(e),dt(function(n){return Ph(n,e)})},I.omit=T3,I.omitBy=function N3(e,n){return zd(e,Xo(Ve(n)))},I.once=function Rw(e){return Sd(2,e)},I.orderBy=function dw(e,n,o,h){return null==e?[]:(nt(n)||(n=null==n?[]:[n]),nt(o=h?r:o)||(o=null==o?[]:[o]),Ah(e,n,o))},I.over=A6,I.overArgs=Pw,I.overEvery=C6,I.overSome=T6,I.partial=_c,I.partialRight=Ad,I.partition=pw,I.pick=U3,I.pickBy=zd,I.property=Gd,I.propertyOf=function N6(e){return function(n){return null==e?r:Di(e,n)}},I.pull=dE,I.pullAll=_d,I.pullAllBy=function pE(e,n,o){return e&&e.length&&n&&n.length?Xu(e,n,Ve(o,2)):e},I.pullAllWith=function gE(e,n,o){return e&&e.length&&n&&n.length?Xu(e,n,r,o):e},I.pullAt=yE,I.range=U6,I.rangeRight=F6,I.rearg=Aw,I.reject=function vw(e,n){return(nt(e)?kn:bh)(e,Xo(Ve(n,3)))},I.remove=function vE(e,n){var o=[];if(!e||!e.length)return o;var h=-1,w=[],C=e.length;for(n=Ve(n,3);++h<C;){var B=e[h];n(B,h,e)&&(o.push(B),w.push(h))}return Th(e,w),o},I.rest=function Cw(e,n){if("function"!=typeof e)throw new sn(y);return dt(e,n=n===r?n:ot(n))},I.reverse=yc,I.sampleSize=function _w(e,n,o){return n=(o?Ur(e,n,o):n===r)?1:ot(n),(nt(e)?$_:lb)(e,n)},I.set=function L3(e,n,o){return null==e?e:Os(e,n,o)},I.setWith=function j3(e,n,o,h){return h="function"==typeof h?h:r,null==e?e:Os(e,n,o,h)},I.shuffle=function bw(e){return(nt(e)?H_:db)(e)},I.slice=function mE(e,n,o){var h=null==e?0:e.length;return h?(o&&"number"!=typeof o&&Ur(e,n,o)?(n=0,o=h):(n=null==n?0:ot(n),o=o===r?h:ot(o)),un(e,n,o)):[]},I.sortBy=Dw,I.sortedUniq=function SE(e){return e&&e.length?Uh(e):[]},I.sortedUniqBy=function IE(e,n){return e&&e.length?Uh(e,Ve(n,2)):[]},I.split=function o6(e,n,o){return o&&"number"!=typeof o&&Ur(e,n,o)&&(n=o=r),(o=o===r?Rn:o>>>0)?(e=Ft(e))&&("string"==typeof n||null!=n&&!Ec(n))&&!(n=Gr(n))&&zi(e)?oi(mn(e),0,o):e.split(n,o):[]},I.spread=function Tw(e,n){if("function"!=typeof e)throw new sn(y);return n=null==n?0:yr(ot(n),0),dt(function(o){var h=o[n],w=oi(o,0,n);return h&&ei(w,h),Kr(e,this,w)})},I.tail=function OE(e){var n=null==e?0:e.length;return n?un(e,1,n):[]},I.take=function RE(e,n,o){return e&&e.length?un(e,0,(n=o||n===r?1:ot(n))<0?0:n):[]},I.takeRight=function PE(e,n,o){var h=null==e?0:e.length;return h?un(e,(n=h-(n=o||n===r?1:ot(n)))<0?0:n,h):[]},I.takeRightWhile=function AE(e,n){return e&&e.length?jo(e,Ve(n,3),!1,!0):[]},I.takeWhile=function CE(e,n){return e&&e.length?jo(e,Ve(n,3)):[]},I.tap=function WE(e,n){return n(e),e},I.throttle=function Nw(e,n,o){var h=!0,w=!0;if("function"!=typeof e)throw new sn(y);return Yt(o)&&(h="leading"in o?!!o.leading:h,w="trailing"in o?!!o.trailing:w),Pd(e,n,{leading:h,maxWait:n,trailing:w})},I.thru=Wo,I.toArray=Fd,I.toPairs=$d,I.toPairsIn=Hd,I.toPath=function z6(e){return nt(e)?Gt(e,Cn):qr(e)?[e]:Br(dd(Ft(e)))},I.toPlainObject=jd,I.transform=function M3(e,n,o){var h=nt(e),w=h||ai(e)||Xi(e);if(n=Ve(n,4),null==o){var C=e&&e.constructor;o=w?h?new C:[]:Yt(e)&&Hn(C)?Wi(xo(e)):{}}return(w?nn:Pn)(e,function(B,q,se){return n(o,B,q,se)}),o},I.unary=function Uw(e){return xd(e,1)},I.union=TE,I.unionBy=NE,I.unionWith=UE,I.uniq=function FE(e){return e&&e.length?ii(e):[]},I.uniqBy=function LE(e,n){return e&&e.length?ii(e,Ve(n,2)):[]},I.uniqWith=function jE(e,n){return n="function"==typeof n?n:r,e&&e.length?ii(e,r,n):[]},I.unset=function B3(e,n){return null==e||ec(e,n)},I.unzip=vc,I.unzipWith=bd,I.update=function z3(e,n,o){return null==e?e:Lh(e,n,nc(o))},I.updateWith=function $3(e,n,o,h){return h="function"==typeof h?h:r,null==e?e:Lh(e,n,nc(o),h)},I.values=Zi,I.valuesIn=function H3(e){return null==e?[]:Fu(e,$r(e))},I.without=ME,I.words=Kd,I.wrap=function Fw(e,n){return _c(nc(n),e)},I.xor=BE,I.xorBy=zE,I.xorWith=$E,I.zip=HE,I.zipObject=function JE(e,n){return Mh(e||[],n||[],Ds)},I.zipObjectDeep=function VE(e,n){return Mh(e||[],n||[],Os)},I.zipWith=KE,I.entries=$d,I.entriesIn=Hd,I.extend=Md,I.extendWith=ko,Oc(I,I),I.add=H6,I.attempt=Wd,I.camelCase=W3,I.capitalize=Jd,I.ceil=J6,I.clamp=function J3(e,n,o){return o===r&&(o=n,n=r),o!==r&&(o=(o=fn(o))==o?o:0),n!==r&&(n=(n=fn(n))==n?n:0),wi(fn(e),n,o)},I.clone=function jw(e){return an(e,4)},I.cloneDeep=function Bw(e){return an(e,5)},I.cloneDeepWith=function zw(e,n){return an(e,5,n="function"==typeof n?n:r)},I.cloneWith=function Mw(e,n){return an(e,4,n="function"==typeof n?n:r)},I.conformsTo=function $w(e,n){return null==n||vh(e,n,Er(n))},I.deburr=Vd,I.defaultTo=function E6(e,n){return null==e||e!=e?n:e},I.divide=V6,I.endsWith=function G3(e,n,o){e=Ft(e),n=Gr(n);var h=e.length,w=o=o===r?h:wi(ot(o),0,h);return(o-=n.length)>=0&&e.slice(o,w)==n},I.eq=bn,I.escape=function q3(e){return(e=Ft(e))&&R1.test(e)?e.replace(El,jm):e},I.escapeRegExp=function Y3(e){return(e=Ft(e))&&U1.test(e)?e.replace(_u,"\\$&"):e},I.every=function rw(e,n,o){var h=nt(e)?Xl:W_;return o&&Ur(e,n,o)&&(n=r),h(e,Ve(n,3))},I.find=iw,I.findIndex=gd,I.findKey=function v3(e,n){return Zl(e,Ve(n,3),Pn)},I.findLast=sw,I.findLastIndex=yd,I.findLastKey=function m3(e,n){return Zl(e,Ve(n,3),Vu)},I.floor=K6,I.forEach=wd,I.forEachRight=Dd,I.forIn=function _3(e,n){return null==e?e:Ju(e,Ve(n,3),$r)},I.forInRight=function b3(e,n){return null==e?e:Eh(e,Ve(n,3),$r)},I.forOwn=function E3(e,n){return e&&Pn(e,Ve(n,3))},I.forOwnRight=function w3(e,n){return e&&Vu(e,Ve(n,3))},I.get=wc,I.gt=Hw,I.gte=Jw,I.has=function S3(e,n){return null!=e&&id(e,n,q_)},I.hasIn=Dc,I.head=md,I.identity=Hr,I.includes=function fw(e,n,o,h){e=zr(e)?e:Zi(e),o=o&&!h?ot(o):0;var w=e.length;return o<0&&(o=yr(w+o,0)),Qo(e)?o<=w&&e.indexOf(n,o)>-1:!!w&&Bi(e,n,o)>-1},I.indexOf=function sE(e,n,o){var h=null==e?0:e.length;if(!h)return-1;var w=null==o?0:ot(o);return w<0&&(w=yr(h+w,0)),Bi(e,n,w)},I.inRange=function V3(e,n,o){return n=Jn(n),o===r?(o=n,n=0):o=Jn(o),function X_(e,n,o){return e>=Ir(n,o)&&e<yr(n,o)}(e=fn(e),n,o)},I.invoke=R3,I.isArguments=Ii,I.isArray=nt,I.isArrayBuffer=Vw,I.isArrayLike=zr,I.isArrayLikeObject=tr,I.isBoolean=function Kw(e){return!0===e||!1===e||kt(e)&&Nr(e)==fs},I.isBuffer=ai,I.isDate=Ww,I.isElement=function Gw(e){return kt(e)&&1===e.nodeType&&!Cs(e)},I.isEmpty=function qw(e){if(null==e)return!0;if(zr(e)&&(nt(e)||"string"==typeof e||"function"==typeof e.splice||ai(e)||Xi(e)||Ii(e)))return!e.length;var n=Or(e);if(n==yn||n==vn)return!e.size;if(Ps(e))return!qu(e).length;for(var o in e)if(Lt.call(e,o))return!1;return!0},I.isEqual=function Yw(e,n){return Is(e,n)},I.isEqualWith=function Xw(e,n,o){var h=(o="function"==typeof o?o:r)?o(e,n):r;return h===r?Is(e,n,r,o):!!h},I.isError=bc,I.isFinite=function Zw(e){return"number"==typeof e&&lh(e)},I.isFunction=Hn,I.isInteger=Cd,I.isLength=Zo,I.isMap=Td,I.isMatch=function Qw(e,n){return e===n||Gu(e,n,fc(n))},I.isMatchWith=function kw(e,n,o){return o="function"==typeof o?o:r,Gu(e,n,fc(n),o)},I.isNaN=function e3(e){return Nd(e)&&e!=+e},I.isNative=function t3(e){if(Mb(e))throw new ke("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xh(e)},I.isNil=function n3(e){return null==e},I.isNull=function r3(e){return null===e},I.isNumber=Nd,I.isObject=Yt,I.isObjectLike=kt,I.isPlainObject=Cs,I.isRegExp=Ec,I.isSafeInteger=function i3(e){return Cd(e)&&e>=-Qn&&e<=Qn},I.isSet=Ud,I.isString=Qo,I.isSymbol=qr,I.isTypedArray=Xi,I.isUndefined=function s3(e){return e===r},I.isWeakMap=function o3(e){return kt(e)&&Or(e)==gs},I.isWeakSet=function a3(e){return kt(e)&&"[object WeakSet]"==Nr(e)},I.join=function fE(e,n){return null==e?"":o_.call(e,n)},I.kebabCase=X3,I.last=cn,I.lastIndexOf=function lE(e,n,o){var h=null==e?0:e.length;if(!h)return-1;var w=h;return o!==r&&(w=(w=ot(o))<0?yr(h+w,0):Ir(w,h-1)),n==n?function Vm(ee,_e,ve){for(var je=ve+1;je--;)if(ee[je]===_e)return je;return je}(e,n,w):yo(e,Ql,w,!0)},I.lowerCase=Z3,I.lowerFirst=Q3,I.lt=u3,I.lte=c3,I.max=function W6(e){return e&&e.length?No(e,Hr,Ku):r},I.maxBy=function G6(e,n){return e&&e.length?No(e,Ve(n,2),Ku):r},I.mean=function q6(e){return kl(e,Hr)},I.meanBy=function Y6(e,n){return kl(e,Ve(n,2))},I.min=function X6(e){return e&&e.length?No(e,Hr,Yu):r},I.minBy=function Z6(e,n){return e&&e.length?No(e,Ve(n,2),Yu):r},I.stubArray=Pc,I.stubFalse=Ac,I.stubObject=function L6(){return{}},I.stubString=function j6(){return""},I.stubTrue=function M6(){return!0},I.multiply=Q6,I.nth=function hE(e,n){return e&&e.length?Ph(e,ot(n)):r},I.noConflict=function R6(){return Dr._===this&&(Dr._=e_),this},I.noop=Rc,I.now=qo,I.pad=function k3(e,n,o){e=Ft(e);var h=(n=ot(n))?$i(e):0;if(!n||h>=n)return e;var w=(n-h)/2;return $o(Ro(w),o)+e+$o(Oo(w),o)},I.padEnd=function e6(e,n,o){e=Ft(e);var h=(n=ot(n))?$i(e):0;return n&&h<n?e+$o(n-h,o):e},I.padStart=function t6(e,n,o){e=Ft(e);var h=(n=ot(n))?$i(e):0;return n&&h<n?$o(n-h,o)+e:e},I.parseInt=function r6(e,n,o){return o||null==n?n=0:n&&(n=+n),c_(Ft(e).replace(bu,""),n||0)},I.random=function K3(e,n,o){if(o&&"boolean"!=typeof o&&Ur(e,n,o)&&(n=o=r),o===r&&("boolean"==typeof n?(o=n,n=r):"boolean"==typeof e&&(o=e,e=r)),e===r&&n===r?(e=0,n=1):(e=Jn(e),n===r?(n=e,e=0):n=Jn(n)),e>n){var h=e;e=n,n=h}if(o||e%1||n%1){var w=hh();return Ir(e+w*(n-e+Dm("1e-"+((w+"").length-1))),n)}return Zu(e,n)},I.reduce=function gw(e,n,o){var h=nt(e)?Pu:eh,w=arguments.length<3;return h(e,Ve(n,4),o,w,ni)},I.reduceRight=function yw(e,n,o){var h=nt(e)?Rm:eh,w=arguments.length<3;return h(e,Ve(n,4),o,w,_h)},I.repeat=function n6(e,n,o){return n=(o?Ur(e,n,o):n===r)?1:ot(n),Qu(Ft(e),n)},I.replace=function i6(){var e=arguments,n=Ft(e[0]);return e.length<3?n:n.replace(e[1],e[2])},I.result=function F3(e,n,o){var h=-1,w=(n=si(n,e)).length;for(w||(w=1,e=r);++h<w;){var C=null==e?r:e[Cn(n[h])];C===r&&(h=w,C=o),e=Hn(C)?C.call(e):C}return e},I.round=k6,I.runInContext=ee,I.sample=function mw(e){return(nt(e)?gh:fb)(e)},I.size=function Ew(e){if(null==e)return 0;if(zr(e))return Qo(e)?$i(e):e.length;var n=Or(e);return n==yn||n==vn?e.size:qu(e).length},I.snakeCase=s6,I.some=function ww(e,n,o){var h=nt(e)?Au:pb;return o&&Ur(e,n,o)&&(n=r),h(e,Ve(n,3))},I.sortedIndex=function _E(e,n){return Lo(e,n)},I.sortedIndexBy=function bE(e,n,o){return ku(e,n,Ve(o,2))},I.sortedIndexOf=function EE(e,n){var o=null==e?0:e.length;if(o){var h=Lo(e,n);if(h<o&&bn(e[h],n))return h}return-1},I.sortedLastIndex=function wE(e,n){return Lo(e,n,!0)},I.sortedLastIndexBy=function DE(e,n,o){return ku(e,n,Ve(o,2),!0)},I.sortedLastIndexOf=function xE(e,n){if(null!=e&&e.length){var h=Lo(e,n,!0)-1;if(bn(e[h],n))return h}return-1},I.startCase=a6,I.startsWith=function u6(e,n,o){return e=Ft(e),o=null==o?0:wi(ot(o),0,e.length),n=Gr(n),e.slice(o,o+n.length)==n},I.subtract=e2,I.sum=function t2(e){return e&&e.length?Nu(e,Hr):0},I.sumBy=function r2(e,n){return e&&e.length?Nu(e,Ve(n,2)):0},I.template=function c6(e,n,o){var h=I.templateSettings;o&&Ur(e,n,o)&&(n=r),e=Ft(e),n=ko({},n,h,ed);var q,se,w=ko({},n.imports,h.imports,ed),C=Er(w),B=Fu(w,C),Ee=0,we=n.interpolate||lo,Oe="__p += '",Te=ju((n.escape||lo).source+"|"+we.source+"|"+(we===wl?H1:lo).source+"|"+(n.evaluate||lo).source+"|$","g"),Be="//# sourceURL="+(Lt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++mm+"]")+"\n";e.replace(Te,function(Ge,mt,xt,Yr,Fr,Xr){return xt||(xt=Yr),Oe+=e.slice(Ee,Xr).replace(Y1,Mm),mt&&(q=!0,Oe+="' +\n__e("+mt+") +\n'"),Fr&&(se=!0,Oe+="';\n"+Fr+";\n__p += '"),xt&&(Oe+="' +\n((__t = ("+xt+")) == null ? '' : __t) +\n'"),Ee=Xr+Ge.length,Ge}),Oe+="';\n";var We=Lt.call(n,"variable")&&n.variable;if(We){if(z1.test(We))throw new ke("Invalid `variable` option passed into `_.template`")}else Oe="with (obj) {\n"+Oe+"\n}\n";Oe=(se?Oe.replace(x1,""):Oe).replace(S1,"$1").replace(I1,"$1;"),Oe="function("+(We||"obj")+") {\n"+(We?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(q?", __e = _.escape":"")+(se?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Oe+"return __p\n}";var at=Wd(function(){return Tt(C,Be+"return "+Oe).apply(r,B)});if(at.source=Oe,bc(at))throw at;return at},I.times=function B6(e,n){if((e=ot(e))<1||e>Qn)return[];var o=Rn,h=Ir(e,Rn);n=Ve(n),e-=Rn;for(var w=Uu(h,n);++o<e;)n(o);return w},I.toFinite=Jn,I.toInteger=ot,I.toLength=Ld,I.toLower=function f6(e){return Ft(e).toLowerCase()},I.toNumber=fn,I.toSafeInteger=function f3(e){return e?wi(ot(e),-Qn,Qn):0===e?e:0},I.toString=Ft,I.toUpper=function l6(e){return Ft(e).toUpperCase()},I.trim=function h6(e,n,o){if((e=Ft(e))&&(o||n===r))return th(e);if(!e||!(n=Gr(n)))return e;var h=mn(e),w=mn(n);return oi(h,rh(h,w),nh(h,w)+1).join("")},I.trimEnd=function d6(e,n,o){if((e=Ft(e))&&(o||n===r))return e.slice(0,sh(e)+1);if(!e||!(n=Gr(n)))return e;var h=mn(e);return oi(h,0,nh(h,mn(n))+1).join("")},I.trimStart=function p6(e,n,o){if((e=Ft(e))&&(o||n===r))return e.replace(bu,"");if(!e||!(n=Gr(n)))return e;var h=mn(e);return oi(h,rh(h,mn(n))).join("")},I.truncate=function g6(e,n){var o=30,h="...";if(Yt(n)){var w="separator"in n?n.separator:w;o="length"in n?ot(n.length):o,h="omission"in n?Gr(n.omission):h}var C=(e=Ft(e)).length;if(zi(e)){var B=mn(e);C=B.length}if(o>=C)return e;var q=o-$i(h);if(q<1)return h;var se=B?oi(B,0,q).join(""):e.slice(0,q);if(w===r)return se+h;if(B&&(q+=se.length-q),Ec(w)){if(e.slice(q).search(w)){var Ee,we=se;for(w.global||(w=ju(w.source,Ft(Dl.exec(w))+"g")),w.lastIndex=0;Ee=w.exec(we);)var Oe=Ee.index;se=se.slice(0,Oe===r?q:Oe)}}else if(e.indexOf(Gr(w),q)!=q){var Te=se.lastIndexOf(w);Te>-1&&(se=se.slice(0,Te))}return se+h},I.unescape=function y6(e){return(e=Ft(e))&&O1.test(e)?e.replace(bl,Km):e},I.uniqueId=function $6(e){var n=++Qm;return Ft(e)+n},I.upperCase=v6,I.upperFirst=xc,I.each=wd,I.eachRight=Dd,I.first=md,Oc(I,function(){var e={};return Pn(I,function(n,o){Lt.call(I.prototype,o)||(e[o]=n)}),e}(),{chain:!1}),I.VERSION="4.17.21",nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){I[e].placeholder=I}),nn(["drop","take"],function(e,n){Dt.prototype[e]=function(o){o=o===r?1:yr(ot(o),0);var h=this.__filtered__&&!n?new Dt(this):this.clone();return h.__filtered__?h.__takeCount__=Ir(o,h.__takeCount__):h.__views__.push({size:Ir(o,Rn),type:e+(h.__dir__<0?"Right":"")}),h},Dt.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),nn(["filter","map","takeWhile"],function(e,n){var o=n+1,h=1==o||3==o;Dt.prototype[e]=function(w){var C=this.clone();return C.__iteratees__.push({iteratee:Ve(w,3),type:o}),C.__filtered__=C.__filtered__||h,C}}),nn(["head","last"],function(e,n){var o="take"+(n?"Right":"");Dt.prototype[e]=function(){return this[o](1).value()[0]}}),nn(["initial","tail"],function(e,n){var o="drop"+(n?"":"Right");Dt.prototype[e]=function(){return this.__filtered__?new Dt(this):this[o](1)}}),Dt.prototype.compact=function(){return this.filter(Hr)},Dt.prototype.find=function(e){return this.filter(e).head()},Dt.prototype.findLast=function(e){return this.reverse().find(e)},Dt.prototype.invokeMap=dt(function(e,n){return"function"==typeof e?new Dt(this):this.map(function(o){return Ss(o,e,n)})}),Dt.prototype.reject=function(e){return this.filter(Xo(Ve(e)))},Dt.prototype.slice=function(e,n){e=ot(e);var o=this;return o.__filtered__&&(e>0||n<0)?new Dt(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),n!==r&&(o=(n=ot(n))<0?o.dropRight(-n):o.take(n-e)),o)},Dt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Dt.prototype.toArray=function(){return this.take(Rn)},Pn(Dt.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),h=/^(?:head|last)$/.test(n),w=I[h?"take"+("last"==n?"Right":""):n],C=h||/^find/.test(n);w&&(I.prototype[n]=function(){var B=this.__wrapped__,q=h?[1]:arguments,se=B instanceof Dt,Ee=q[0],we=se||nt(B),Oe=function(mt){var xt=w.apply(I,ei([mt],q));return h&&Te?xt[0]:xt};we&&o&&"function"==typeof Ee&&1!=Ee.length&&(se=we=!1);var Te=this.__chain__,Be=!!this.__actions__.length,We=C&&!Te,at=se&&!Be;if(!C&&we){B=at?B:new Dt(this);var Ge=e.apply(B,q);return Ge.__actions__.push({func:Wo,args:[Oe],thisArg:r}),new on(Ge,Te)}return We&&at?e.apply(this,q):(Ge=this.thru(Oe),We?h?Ge.value()[0]:Ge.value():Ge)})}),nn(["pop","push","shift","sort","splice","unshift"],function(e){var n=mo[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",h=/^(?:pop|shift)$/.test(e);I.prototype[e]=function(){var w=arguments;if(h&&!this.__chain__){var C=this.value();return n.apply(nt(C)?C:[],w)}return this[o](function(B){return n.apply(nt(B)?B:[],w)})}}),Pn(Dt.prototype,function(e,n){var o=I[n];if(o){var h=o.name+"";Lt.call(Ki,h)||(Ki[h]=[]),Ki[h].push({name:n,func:o})}}),Ki[Bo(r,2).name]=[{name:"wrapper",func:r}],Dt.prototype.clone=function y_(){var e=new Dt(this.__wrapped__);return e.__actions__=Br(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Br(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Br(this.__views__),e},Dt.prototype.reverse=function v_(){if(this.__filtered__){var e=new Dt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Dt.prototype.value=function m_(){var e=this.__wrapped__.value(),n=this.__dir__,o=nt(e),h=n<0,w=o?e.length:0,C=function Ab(e,n,o){for(var h=-1,w=o.length;++h<w;){var C=o[h],B=C.size;switch(C.type){case"drop":e+=B;break;case"dropRight":n-=B;break;case"take":n=Ir(n,e+B);break;case"takeRight":e=yr(e,n-B)}}return{start:e,end:n}}(0,w,this.__views__),B=C.start,q=C.end,se=q-B,Ee=h?q:B-1,we=this.__iteratees__,Oe=we.length,Te=0,Be=Ir(se,this.__takeCount__);if(!o||!h&&w==se&&Be==se)return jh(e,this.__actions__);var We=[];e:for(;se--&&Te<Be;){for(var at=-1,Ge=e[Ee+=n];++at<Oe;){var mt=we[at],Yr=mt.type,Fr=(0,mt.iteratee)(Ge);if(2==Yr)Ge=Fr;else if(!Fr){if(1==Yr)continue e;break e}}We[Te++]=Ge}return We},I.prototype.at=GE,I.prototype.chain=function qE(){return Ed(this)},I.prototype.commit=function YE(){return new on(this.value(),this.__chain__)},I.prototype.next=function XE(){this.__values__===r&&(this.__values__=Fd(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},I.prototype.plant=function QE(e){for(var n,o=this;o instanceof Co;){var h=pd(o);h.__index__=0,h.__values__=r,n?w.__wrapped__=h:n=h;var w=h;o=o.__wrapped__}return w.__wrapped__=e,n},I.prototype.reverse=function kE(){var e=this.__wrapped__;if(e instanceof Dt){var n=e;return this.__actions__.length&&(n=new Dt(this)),(n=n.reverse()).__actions__.push({func:Wo,args:[yc],thisArg:r}),new on(n,this.__chain__)}return this.thru(yc)},I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=function ew(){return jh(this.__wrapped__,this.__actions__)},I.prototype.first=I.prototype.head,ms&&(I.prototype[ms]=function ZE(){return this}),I}();mi?((mi.exports=Hi)._=Hi,Iu._=Hi):Dr._=Hi}.call(cs);var Uv=Object.defineProperty,Fv=Object.defineProperties,Lv=Object.getOwnPropertyDescriptors,hl=Object.getOwnPropertySymbols,jv=Object.prototype.hasOwnProperty,Mv=Object.prototype.propertyIsEnumerable,dl=(a,t,r)=>t in a?Uv(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,io=(a,t)=>{for(var r in t||(t={}))jv.call(t,r)&&dl(a,r,t[r]);if(hl)for(var r of hl(t))Mv.call(t,r)&&dl(a,r,t[r]);return a},Bv=(a,t)=>Fv(a,Lv(t));function tn(a,t,r){let s;const u=ou(a);return t.rpcMap&&(s=t.rpcMap[u]),s||(s=`https://rpc.walletconnect.com/v1?chainId=eip155:${u}&projectId=${r}`),s}function ou(a){return a.includes("eip155")?Number(a.split(":")[1]):Number(a)}function pl(a){var t,r,s,u;const f={};if(!gi(a))return f;for(const[y,R]of Object.entries(a)){const V=Va(y)?[y]:R.chains,Y=R.methods||[],de=R.events||[],De=R.rpcMap||{},Ke=ns(y);f[Ke]=Bv(io(io({},f[Ke]),R),{chains:Sn(V,null==(t=f[Ke])?void 0:t.chains),methods:Sn(Y,null==(r=f[Ke])?void 0:r.methods),events:Sn(de,null==(s=f[Ke])?void 0:s.events),rpcMap:io(io({},De),null==(u=f[Ke])?void 0:u.rpcMap)})}return f}const yi=(a,t)=>{const r=s=>{s.request!==t.request||s.topic!==t.topic||(a.events.removeListener("session_request_sent",r),function Vv(a,t){au.apply(this,arguments)}(t,a.core.storage))};a.on("session_request_sent",r)};function au(){return au=P(function*(a,t){try{const r=yield t.getItem("WALLETCONNECT_DEEPLINK_CHOICE");if(!r)return;const u=("string"==typeof r?JSON.parse(r):r)?.href;if("string"!=typeof u)return;u.endsWith("/")&&u.slice(0,-1);const f=`${u}/wc?requestId=${a.id}&sessionTopic=${a.topic}`,y=Ha();"browser"===y?window.open(f,"_self","noreferrer noopener"):"react-native"===y&&(yield Object(function(){var V=new Error("Cannot find module 'react-native'");throw V.code="MODULE_NOT_FOUND",V}())(f))}catch(r){console.error(r)}}),au.apply(this,arguments)}class Kv{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?(yi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const s=r||tn(`${this.name}:${t}`,this.namespace);if(!s)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,s)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var s;t[r]=this.createHttpProvider(r,null==(s=this.namespace.rpcMap)?void 0:s[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const s=this.createHttpProvider(t,r);s&&(this.httpProviders[t]=s)}createHttpProvider(t,r){const s=r||tn(t,this.namespace);return typeof s>"u"?void 0:new Yn(new Fi(s))}}class Wv{constructor(t){this.name="eip155",this.namespace=t.namespace,this.client=t.client,this.events=t.events,this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(t){var r=this;return P(function*(){var s;switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return r.getAccounts();case"wallet_switchEthereumChain":return r.handleSwitchChain(t.request.params?null==(s=t.request.params[0])?void 0:s.chainId:"0x0"),null;case"eth_chainId":return parseInt(r.getDefaultChain())}return r.namespace.methods.includes(t.request.method)?(yi(r.client,t),yield r.client.request(t)):r.getHttpProvider().request(t.request)})()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){const s=ou(t);if(!this.httpProviders[s]){const u=r||tn(`${this.name}:${s}`,this.namespace,this.client.core.projectId);if(!u)throw new Error(`No RPC url provided for chainId: ${s}`);this.setHttpProvider(s,u)}this.chainId=s,this.events.emit("default_chain_changed",`${this.name}:${s}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const s=r||tn(`${this.name}:${t}`,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new cl(s))}setHttpProvider(t,r){const s=this.createHttpProvider(t,r);s&&(this.httpProviders[t]=s)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var s;const u=ou(r);t[u]=this.createHttpProvider(u,null==(s=this.namespace.rpcMap)?void 0:s[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}handleSwitchChain(t){const r=parseInt(t,16);(function zv(a,t){if(!t.includes(a))throw new Error(`Chain '${a}' not approved. Please use one of the following: ${t.toString()}`)})(`${this.name}:${r}`,this.namespace.chains),this.setDefaultChain(`${r}`)}}class Gv{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?(yi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const s=r||tn(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,s)}this.chainId=t,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var s;t[r]=this.createHttpProvider(r,null==(s=this.namespace.rpcMap)?void 0:s[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const s=this.createHttpProvider(t,r);s&&(this.httpProviders[t]=s)}createHttpProvider(t,r){const s=r||tn(t,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new Fi(s))}}class qv{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?(yi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const s=r||tn(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,s)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var s;t[r]=this.createHttpProvider(r,null==(s=this.namespace.rpcMap)?void 0:s[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const s=this.createHttpProvider(t,r);s&&(this.httpProviders[t]=s)}createHttpProvider(t,r){const s=r||tn(t,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new Fi(s))}}class Yv{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?(yi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const s=r||this.getCardanoRPCUrl(t);if(!s)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,s)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const s=this.getCardanoRPCUrl(r);t[r]=this.createHttpProvider(r,s)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const s=this.createHttpProvider(t,r);s&&(this.httpProviders[t]=s)}createHttpProvider(t,r){const s=r||this.getCardanoRPCUrl(t);return typeof s>"u"?void 0:new Yn(new Fi(s))}}class Xv{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?(yi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const s=r||tn(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,s)}this.chainId=t,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var s;t[r]=this.createHttpProvider(r,null==(s=this.namespace.rpcMap)?void 0:s[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const s=this.createHttpProvider(t,r);s&&(this.httpProviders[t]=s)}createHttpProvider(t,r){const s=r||tn(t,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new Fi(s))}}class Zv{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?(yi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const s=r||tn(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,s)}this.chainId=t,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var s;t[r]=this.createHttpProvider(r,null==(s=this.namespace.rpcMap)?void 0:s[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const s=this.createHttpProvider(t,r);s&&(this.httpProviders[t]=s)}createHttpProvider(t,r){const s=r||tn(t,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new Fi(s))}}var Qv=Object.defineProperty,kv=Object.defineProperties,e1=Object.getOwnPropertyDescriptors,gl=Object.getOwnPropertySymbols,t1=Object.prototype.hasOwnProperty,r1=Object.prototype.propertyIsEnumerable,yl=(a,t,r)=>t in a?Qv(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,so=(a,t)=>{for(var r in t||(t={}))t1.call(t,r)&&yl(a,r,t[r]);if(gl)for(var r of gl(t))r1.call(t,r)&&yl(a,r,t[r]);return a},uu=(a,t)=>kv(a,e1(t));class cu{constructor(t){this.events=new(X()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,H.pino)((0,H.getDefaultLoggerOptions)({level:t?.logger||"error"}))}static init(t){return P(function*(){const r=new cu(t);return yield r.initialize(),r})()}request(t,r){var s=this;return P(function*(){const[u,f]=s.validateChain(r);if(!s.session)throw new Error("Please call connect() before request()");return yield s.getProvider(u).request({request:so({},t),chainId:`${u}:${f}`,topic:s.session.topic})})()}sendAsync(t,r,s){this.request(t,s).then(u=>r(null,u)).catch(u=>r(u,void 0))}enable(){var t=this;return P(function*(){if(!t.client)throw new Error("Sign Client not initialized");return t.session||(yield t.connect({namespaces:t.namespaces,optionalNamespaces:t.optionalNamespaces,sessionProperties:t.sessionProperties})),yield t.requestAccounts()})()}disconnect(){var t=this;return P(function*(){var r;if(!t.session)throw new Error("Please call connect() before enable()");yield t.client.disconnect({topic:null==(r=t.session)?void 0:r.topic,reason:dr("USER_DISCONNECTED")}),yield t.cleanup()})()}connect(t){var r=this;return P(function*(){if(!r.client)throw new Error("Sign Client not initialized");if(r.setNamespaces(t),yield r.cleanupPendingPairings(),!t.skipPairing)return yield r.pair(t.pairingTopic)})()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}pair(t){var r=this;return P(function*(){r.shouldAbortPairingAttempt=!1;let s=0;do{if(r.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(s>=r.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:u,approval:f}=yield r.client.connect({pairingTopic:t,requiredNamespaces:r.namespaces,optionalNamespaces:r.optionalNamespaces,sessionProperties:r.sessionProperties});u&&(r.uri=u,r.events.emit("display_uri",u)),yield f().then(y=>{r.session=y}).catch(y=>{if(y.message!==nl)throw y;s++})}while(!r.session);return r.onConnect(),r.session})()}setDefaultChain(t,r){try{const[s,u]=this.validateChain(t);this.getProvider(s).setDefaultChain(u,r)}catch(s){if(!/Please call connect/.test(s.message))throw s}}cleanupPendingPairings(t={}){var r=this;return P(function*(){r.logger.info("Cleaning up inactive pairings...");const s=r.client.pairing.getAll();if(Ui(s)){for(const u of s)t.deletePairings?r.client.core.expirer.set(u.topic,0):yield r.client.core.relayer.subscriber.unsubscribe(u.topic);r.logger.info(`Inactive pairings cleared: ${s.length}`)}})()}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}checkStorage(){var t=this;return P(function*(){t.namespaces=(yield t.getFromStore("namespaces"))||{},t.optionalNamespaces=(yield t.getFromStore("optionalNamespaces"))||{},t.client.session.length&&(t.session=t.client.session.get(t.client.session.keys[t.client.session.keys.length-1]),t.createProviders())})()}initialize(){var t=this;return P(function*(){t.logger.trace("Initialized"),yield t.createClient(),yield t.checkStorage(),t.registerEventListeners()})()}createClient(){var t=this;return P(function*(){t.client=t.providerOpts.client||(yield iu.init({logger:t.providerOpts.logger||"error",relayUrl:t.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:t.providerOpts.projectId,metadata:t.providerOpts.metadata,storageOptions:t.providerOpts.storageOptions,name:t.providerOpts.name})),t.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");[...new Set(Object.keys(this.session.namespaces).map(t=>ns(t)))].forEach(t=>{if(!this.session)return;const r=function Hv(a,t){const r=Object.keys(t.namespaces).filter(u=>u.includes(a));if(!r.length)return[];const s=[];return r.forEach(u=>{s.push(...t.namespaces[u].accounts)}),s}(t,this.session),s=function $v(a){return a.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}(r),u=function Jv(a,t={}){const r=pl(a),s=pl(t);return su.exports.merge(r,s)}(this.namespaces,this.optionalNamespaces),f=uu(so({},u[t]),{accounts:r,chains:s});switch(t){case"eip155":this.rpcProviders[t]=new Wv({client:this.client,namespace:f,events:this.events});break;case"solana":this.rpcProviders[t]=new Gv({client:this.client,namespace:f,events:this.events});break;case"cosmos":this.rpcProviders[t]=new qv({client:this.client,namespace:f,events:this.events});break;case"polkadot":this.rpcProviders[t]=new Kv({client:this.client,namespace:f,events:this.events});break;case"cip34":this.rpcProviders[t]=new Yv({client:this.client,namespace:f,events:this.events});break;case"elrond":this.rpcProviders[t]=new Xv({client:this.client,namespace:f,events:this.events});break;case"multiversx":this.rpcProviders[t]=new Zv({client:this.client,namespace:f,events:this.events})}})}registerEventListeners(){var t=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",r=>{this.events.emit("session_ping",r)}),this.client.on("session_event",r=>{const{params:s}=r,{event:u}=s;"accountsChanged"===u.name?this.events.emit("accountsChanged",u.data):"chainChanged"===u.name?this.onChainChanged(s.chainId):this.events.emit(u.name,u.data),this.events.emit("session_event",r)}),this.client.on("session_update",({topic:r,params:s})=>{var u;const{namespaces:f}=s,y=null==(u=this.client)?void 0:u.session.get(r);this.session=uu(so({},y),{namespaces:f}),this.onSessionUpdate(),this.events.emit("session_update",{topic:r,params:s})}),this.client.on("session_delete",function(){var r=P(function*(s){yield t.cleanup(),t.events.emit("session_delete",s),t.events.emit("disconnect",uu(so({},dr("USER_DISCONNECTED")),{data:s.topic}))});return function(s){return r.apply(this,arguments)}}()),this.on("default_chain_changed",r=>{this.onChainChanged(r,!0)})}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace(null==(r=this.session)?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r,optionalNamespaces:s,sessionProperties:u}=t;if(!r||!Object.keys(r).length)throw new Error("Namespaces must be not empty");this.namespaces=r,this.optionalNamespaces=s,this.sessionProperties=u,this.persist("namespaces",r),this.persist("optionalNamespaces",s)}validateChain(t){const[r,s]=t?.split(":")||["",""];if(r&&!Object.keys(this.namespaces).map(y=>ns(y)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&s)return[r,s];const u=ns(Object.keys(this.namespaces)[0]);return[u,this.rpcProviders[u].getDefaultChain()]}requestAccounts(){var t=this;return P(function*(){const[r]=t.validateChain();return yield t.getProvider(r).requestAccounts()})()}onChainChanged(t,r=!1){var s;const[u,f]=this.validateChain(t);r||this.getProvider(u).setDefaultChain(f),(null!=(s=this.namespaces[u])?s:this.namespaces[`${u}:${f}`]).defaultChain=f,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",f)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}cleanup(){var t=this;return P(function*(){t.session=void 0,yield t.cleanupPendingPairings({deletePairings:!0})})()}persist(t,r){this.client.core.storage.setItem(`${ll}/${t}`,r)}getFromStore(t){var r=this;return P(function*(){return yield r.client.core.storage.getItem(`${ll}/${t}`)})()}}var s1={1:"https://ethereum.publicnode.com",5:"https://eth-goerli.g.alchemy.com/v2/yVhq9zPJorAWsw-F87fEabSUl7cCU6z4",11155111:"https://sepolia.infura.io/v3/9f79b2f9274344af90b8d4e244b580ef",137:"https://polygon-rpc.com/",80001:"https://polygon-mumbai.g.alchemy.com/v2/rVI6pOV4irVsrw20cJxc1fxK_1cSeiY0",56:"https://bsc-dataseed.binance.org/",97:"https://data-seed-prebsc-1-s1.binance.org:8545",43114:"https://api.avax.network/ext/bc/C/rpc",43113:"https://api.avax-test.network/ext/bc/C/rpc",250:"https://rpc.fantom.network/",25:"https://evm-cronos.crypto.org",338:"https://evm-t3.cronos.org",42161:"https://arb1.arbitrum.io/rpc",421613:"https://arb-goerli.g.alchemy.com/v2/nFrflomLgsQQL5NWjGileAVqIGGxZWce",10:"https://mainnet.optimism.io"},o1=["eip155:1","eip155:137","eip155:250","eip155:25","eip155:42161","eip155:10"],a1=function(){return function(a,t,r,s){return new(r||(r=Promise))(function(f,y){function R(de){try{Y(s.next(de))}catch(De){y(De)}}function V(de){try{Y(s.throw(de))}catch(De){y(De)}}function Y(de){de.done?f(de.value):function u(f){return f instanceof r?f:new r(function(y){y(f)})}(de.value).then(R,V)}Y((s=s.apply(a,t||[])).next())})}(void 0,void 0,void 0,function(){return function(a,t){var s,u,f,y,r={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return y={next:R(0),throw:R(1),return:R(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y;function R(Y){return function(de){return function V(Y){if(s)throw new TypeError("Generator is already executing.");for(;y&&(y=0,Y[0]&&(r=0)),r;)try{if(s=1,u&&(f=2&Y[0]?u.return:Y[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,Y[1])).done)return f;switch(u=0,f&&(Y=[2&Y[0],f.value]),Y[0]){case 0:case 1:f=Y;break;case 4:return r.label++,{value:Y[1],done:!1};case 5:r.label++,u=Y[1],Y=[0];continue;case 7:Y=r.ops.pop(),r.trys.pop();continue;default:if(!(f=(f=r.trys).length>0&&f[f.length-1])&&(6===Y[0]||2===Y[0])){r=0;continue}if(3===Y[0]&&(!f||Y[1]>f[0]&&Y[1]<f[3])){r.label=Y[1];break}if(6===Y[0]&&r.label<f[1]){r.label=f[1],f=Y;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(Y);break}f[2]&&r.ops.pop(),r.trys.pop();continue}Y=t.call(a,r)}catch(de){Y=[6,de],u=0}finally{s=f=0}if(5&Y[0])throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}([Y,de])}}}(this,function(a){switch(a.label){case 0:return[4,cu.init({projectId:"2ec7ead81da1226703ad789c0b2f7b30",logger:"debug",relayUrl:"wss://relay.walletconnect.com"})];case 1:return[2,a.sent()]}})})}},5158:(Pe,g)=>{"use strict";function D(){return(null==global?void 0:global.crypto)||(null==global?void 0:global.msCrypto)||{}}function O(){const re=D();return re.subtle||re.webkitSubtle}Object.defineProperty(g,"__esModule",{value:!0}),g.isBrowserCryptoAvailable=g.getSubtleCrypto=g.getBrowerCrypto=void 0,g.getBrowerCrypto=D,g.getSubtleCrypto=O,g.isBrowserCryptoAvailable=function te(){return!!D()&&!!O()}},69537:(Pe,g)=>{"use strict";function D(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function O(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Object.defineProperty(g,"__esModule",{value:!0}),g.isBrowser=g.isNode=g.isReactNative=void 0,g.isReactNative=D,g.isNode=O,g.isBrowser=function te(){return!D()&&!O()}},38572:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const O=D(33172);O.__exportStar(D(5158),g),O.__exportStar(D(69537),g)},52399:(Pe,g,D)=>{"use strict";D.d(g,{q:()=>O});class O{}},1577:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{IEvents:()=>O.q});var O=D(52399)},63029:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.HEARTBEAT_EVENTS=g.HEARTBEAT_INTERVAL=void 0;const O=D(14611);g.HEARTBEAT_INTERVAL=O.FIVE_SECONDS,g.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},76505:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),D(83411).__exportStar(D(63029),g)},33435:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.HeartBeat=void 0;const O=D(83411),te=D(93105),re=D(14611),ae=D(76157),$=D(76505);class k extends ae.IHeartBeat{constructor(L){super(L),this.events=new te.EventEmitter,this.interval=$.HEARTBEAT_INTERVAL,this.interval=(null==L?void 0:L.interval)||$.HEARTBEAT_INTERVAL}static init(L){return O.__awaiter(this,void 0,void 0,function*(){const T=new k(L);return yield T.init(),T})}init(){return O.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(L,T){this.events.on(L,T)}once(L,T){this.events.once(L,T)}off(L,T){this.events.off(L,T)}removeListener(L,T){this.events.removeListener(L,T)}initialize(){return O.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),re.toMiliseconds(this.interval))})}pulse(){this.events.emit($.HEARTBEAT_EVENTS.pulse)}}g.HeartBeat=k},38960:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const O=D(83411);O.__exportStar(D(33435),g),O.__exportStar(D(76157),g),O.__exportStar(D(76505),g)},41760:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.IHeartBeat=void 0;const O=D(1577);g.IHeartBeat=class te extends O.IEvents{constructor(ae){super()}}},76157:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),D(83411).__exportStar(D(41760),g)},45643:(Pe,g,D)=>{"use strict";D.d(g,{IJsonRpcProvider:()=>re.x0});var O=D(14966);D.o(O,"IJsonRpcProvider")&&D.d(g,{IJsonRpcProvider:function(){return O.IJsonRpcProvider}}),D.o(O,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return O.isHttpUrl}}),D.o(O,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return O.isJsonRpcError}}),D.o(O,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return O.isJsonRpcRequest}}),D.o(O,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return O.isJsonRpcResponse}}),D.o(O,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return O.isJsonRpcResult}}),D.o(O,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return O.isLocalhostUrl}}),D.o(O,"isReactNative")&&D.d(g,{isReactNative:function(){return O.isReactNative}}),D.o(O,"isWsUrl")&&D.d(g,{isWsUrl:function(){return O.isWsUrl}});var re=D(81104),ae=D(12817);D.o(ae,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return ae.isHttpUrl}}),D.o(ae,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return ae.isJsonRpcError}}),D.o(ae,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return ae.isJsonRpcRequest}}),D.o(ae,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return ae.isJsonRpcResponse}}),D.o(ae,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return ae.isJsonRpcResult}}),D.o(ae,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return ae.isLocalhostUrl}}),D.o(ae,"isReactNative")&&D.d(g,{isReactNative:function(){return ae.isReactNative}}),D.o(ae,"isWsUrl")&&D.d(g,{isWsUrl:function(){return ae.isWsUrl}})},14966:()=>{},81104:(Pe,g,D)=>{"use strict";D.d(g,{x0:()=>ae});class ae extends class re extends class O{}{constructor(){super()}}{constructor(k){super()}}},12817:()=>{},52885:(Pe,g,D)=>{"use strict";D.d(g,{CA:()=>k,JV:()=>U,O4:()=>$,dQ:()=>j,xK:()=>T});const $="INTERNAL_ERROR",k="SERVER_ERROR",j=[-32700,-32600,-32601,-32602,-32603],T={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[$]:{code:-32603,message:"Internal error"},[k]:{code:-32e3,message:"Server error"}},U=k},84275:(Pe,g,D)=>{"use strict";var O=D(38572);D.o(O,"IJsonRpcProvider")&&D.d(g,{IJsonRpcProvider:function(){return O.IJsonRpcProvider}}),D.o(O,"formatJsonRpcError")&&D.d(g,{formatJsonRpcError:function(){return O.formatJsonRpcError}}),D.o(O,"formatJsonRpcRequest")&&D.d(g,{formatJsonRpcRequest:function(){return O.formatJsonRpcRequest}}),D.o(O,"formatJsonRpcResult")&&D.d(g,{formatJsonRpcResult:function(){return O.formatJsonRpcResult}}),D.o(O,"getBigIntRpcId")&&D.d(g,{getBigIntRpcId:function(){return O.getBigIntRpcId}}),D.o(O,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return O.isHttpUrl}}),D.o(O,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return O.isJsonRpcError}}),D.o(O,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return O.isJsonRpcRequest}}),D.o(O,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return O.isJsonRpcResponse}}),D.o(O,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return O.isJsonRpcResult}}),D.o(O,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return O.isLocalhostUrl}}),D.o(O,"isReactNative")&&D.d(g,{isReactNative:function(){return O.isReactNative}}),D.o(O,"isWsUrl")&&D.d(g,{isWsUrl:function(){return O.isWsUrl}})},93938:(Pe,g,D)=>{"use strict";D.d(g,{CX:()=>L,L2:()=>k,by:()=>$,i5:()=>re});var O=D(52885);function re(T){return O.dQ.includes(T)}function $(T){return Object.keys(O.xK).includes(T)?O.xK[T]:O.xK[O.JV]}function k(T){return Object.values(O.xK).find(oe=>oe.code===T)||O.xK[O.JV]}function L(T,U,oe){return T.message.includes("getaddrinfo ENOTFOUND")||T.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${oe} RPC url at ${U}`):T}},90863:(Pe,g,D)=>{"use strict";D.d(g,{CS:()=>ae,RI:()=>j,sT:()=>$,tm:()=>k});var O=D(93938),te=D(52885);function re(T=3){return Date.now()*Math.pow(10,T)+Math.floor(Math.random()*Math.pow(10,T))}function ae(T=6){return BigInt(re(T))}function $(T,U,oe){return{id:oe||re(),jsonrpc:"2.0",method:T,params:U}}function k(T,U){return{id:T,jsonrpc:"2.0",result:U}}function j(T,U,oe){return{id:T,jsonrpc:"2.0",error:L(U,oe)}}function L(T,U){return typeof T>"u"?(0,O.by)(te.O4):("string"==typeof T&&(T=Object.assign(Object.assign({},(0,O.by)(te.CA)),{message:T})),typeof U<"u"&&(T.data=U),(0,O.i5)(T.code)&&(T=(0,O.L2)(T.code)),T)}},22339:(Pe,g,D)=>{"use strict";D.d(g,{formatJsonRpcError:()=>ae.RI,formatJsonRpcRequest:()=>ae.sT,formatJsonRpcResult:()=>ae.tm,getBigIntRpcId:()=>ae.CS,isHttpUrl:()=>k.jK,isJsonRpcError:()=>j.jg,isJsonRpcRequest:()=>j.DW,isJsonRpcResponse:()=>j.u,isJsonRpcResult:()=>j.k4,isLocalhostUrl:()=>k.JF,isWsUrl:()=>k.UZ,parseConnectionError:()=>te.CX}),D(52885);var te=D(93938),re=D(84275);D.o(re,"IJsonRpcProvider")&&D.d(g,{IJsonRpcProvider:function(){return re.IJsonRpcProvider}}),D.o(re,"formatJsonRpcError")&&D.d(g,{formatJsonRpcError:function(){return re.formatJsonRpcError}}),D.o(re,"formatJsonRpcRequest")&&D.d(g,{formatJsonRpcRequest:function(){return re.formatJsonRpcRequest}}),D.o(re,"formatJsonRpcResult")&&D.d(g,{formatJsonRpcResult:function(){return re.formatJsonRpcResult}}),D.o(re,"getBigIntRpcId")&&D.d(g,{getBigIntRpcId:function(){return re.getBigIntRpcId}}),D.o(re,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return re.isHttpUrl}}),D.o(re,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return re.isJsonRpcError}}),D.o(re,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return re.isJsonRpcRequest}}),D.o(re,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return re.isJsonRpcResponse}}),D.o(re,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return re.isJsonRpcResult}}),D.o(re,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return re.isLocalhostUrl}}),D.o(re,"isReactNative")&&D.d(g,{isReactNative:function(){return re.isReactNative}}),D.o(re,"isWsUrl")&&D.d(g,{isWsUrl:function(){return re.isWsUrl}});var ae=D(90863),$=D(72265);D.o($,"IJsonRpcProvider")&&D.d(g,{IJsonRpcProvider:function(){return $.IJsonRpcProvider}}),D.o($,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return $.isHttpUrl}}),D.o($,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return $.isJsonRpcError}}),D.o($,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return $.isJsonRpcRequest}}),D.o($,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return $.isJsonRpcResponse}}),D.o($,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return $.isJsonRpcResult}}),D.o($,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return $.isLocalhostUrl}}),D.o($,"isReactNative")&&D.d(g,{isReactNative:function(){return $.isReactNative}}),D.o($,"isWsUrl")&&D.d(g,{isWsUrl:function(){return $.isWsUrl}});var k=D(96796),j=D(9087)},72265:(Pe,g,D)=>{"use strict";D.d(g,{IJsonRpcProvider:()=>O.IJsonRpcProvider});var O=D(45643);D.o(O,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return O.isHttpUrl}}),D.o(O,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return O.isJsonRpcError}}),D.o(O,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return O.isJsonRpcRequest}}),D.o(O,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return O.isJsonRpcResponse}}),D.o(O,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return O.isJsonRpcResult}}),D.o(O,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return O.isLocalhostUrl}}),D.o(O,"isReactNative")&&D.d(g,{isReactNative:function(){return O.isReactNative}}),D.o(O,"isWsUrl")&&D.d(g,{isWsUrl:function(){return O.isWsUrl}})},96796:(Pe,g,D)=>{"use strict";function ae(L,T){const U=function re(L){const T=L.match(new RegExp(/^\w+:/,"gi"));if(T&&T.length)return T[0]}(L);return!(typeof U>"u")&&new RegExp(T).test(U)}function $(L){return ae(L,"^https?:")}function k(L){return ae(L,"^wss?:")}function j(L){return new RegExp("wss?://localhost(:d{2,5})?").test(L)}D.d(g,{JF:()=>j,UZ:()=>k,jK:()=>$})},9087:(Pe,g,D)=>{"use strict";function O(j){return"object"==typeof j&&"id"in j&&"jsonrpc"in j&&"2.0"===j.jsonrpc}function te(j){return O(j)&&"method"in j}function re(j){return O(j)&&(ae(j)||$(j))}function ae(j){return"result"in j}function $(j){return"error"in j}D.d(g,{DW:()=>te,jg:()=>$,k4:()=>ae,u:()=>re})},3226:(Pe,g,D)=>{"use strict";const te=D(57436),re=D(28898),ae=te.__importDefault(D(87733)),$=D(54653);g.ZP=class k{constructor(){this.localStorage=ae.default}getKeys(){return te.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return te.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map($.parseEntry)})}getItem(L){return te.__awaiter(this,void 0,void 0,function*(){const T=this.localStorage.getItem(L);if(null!==T)return re.safeJsonParse(T)})}setItem(L,T){return te.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(L,re.safeJsonStringify(T))})}removeItem(L){return te.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(L)})}}},87733:Pe=>{"use strict";!function(){let g;function D(){}g=D,g.prototype.getItem=function(O){return this.hasOwnProperty(O)?String(this[O]):null},g.prototype.setItem=function(O,te){this[O]=String(te)},g.prototype.removeItem=function(O){delete this[O]},g.prototype.clear=function(){const O=this;Object.keys(O).forEach(function(te){O[te]=void 0,delete O[te]})},g.prototype.key=function(O){return O=O||0,Object.keys(this)[O]},g.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),Pe.exports=typeof global<"u"&&global.localStorage?global.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new D}()},54653:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const O=D(57436);O.__exportStar(D(87402),g),O.__exportStar(D(94164),g)},87402:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.IKeyValueStorage=void 0,g.IKeyValueStorage=class D{}},94164:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.parseEntry=void 0;const O=D(28898);g.parseEntry=function te(re){var ae;return[re[0],O.safeJsonParse(null!==(ae=re[1])&&void 0!==ae?ae:"")]}},73671:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.PINO_CUSTOM_CONTEXT_KEY=g.PINO_LOGGER_DEFAULTS=void 0,g.PINO_LOGGER_DEFAULTS={level:"info"},g.PINO_CUSTOM_CONTEXT_KEY="custom_context"},66486:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.pino=void 0;const O=D(17978),te=O.__importDefault(D(22694));Object.defineProperty(g,"pino",{enumerable:!0,get:function(){return te.default}}),O.__exportStar(D(73671),g),O.__exportStar(D(70769),g)},70769:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.generateChildLogger=g.formatChildLoggerContext=g.getLoggerContext=g.setBrowserLoggerContext=g.getBrowserLoggerContext=g.getDefaultLoggerOptions=void 0;const O=D(73671);function re(L,T=O.PINO_CUSTOM_CONTEXT_KEY){return L[T]||""}function ae(L,T,U=O.PINO_CUSTOM_CONTEXT_KEY){return L[U]=T,L}function $(L,T=O.PINO_CUSTOM_CONTEXT_KEY){let U="";return U=typeof L.bindings>"u"?re(L,T):L.bindings().context||"",U}function k(L,T,U=O.PINO_CUSTOM_CONTEXT_KEY){const oe=$(L,U);return oe.trim()?`${oe}/${T}`:T}g.getDefaultLoggerOptions=function te(L){return Object.assign(Object.assign({},L),{level:(null==L?void 0:L.level)||O.PINO_LOGGER_DEFAULTS.level})},g.getBrowserLoggerContext=re,g.setBrowserLoggerContext=ae,g.getLoggerContext=$,g.formatChildLoggerContext=k,g.generateChildLogger=function j(L,T,U=O.PINO_CUSTOM_CONTEXT_KEY){const oe=k(L,T,U);return ae(L.child({context:oe}),oe,U)}},45785:()=>{},58083:()=>{},78847:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const O=D(80017);O.__exportStar(D(77662),g),O.__exportStar(D(28456),g)},77662:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.ONE_THOUSAND=g.ONE_HUNDRED=void 0,g.ONE_HUNDRED=100,g.ONE_THOUSAND=1e3},28456:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.ONE_YEAR=g.FOUR_WEEKS=g.THREE_WEEKS=g.TWO_WEEKS=g.ONE_WEEK=g.THIRTY_DAYS=g.SEVEN_DAYS=g.FIVE_DAYS=g.THREE_DAYS=g.ONE_DAY=g.TWENTY_FOUR_HOURS=g.TWELVE_HOURS=g.SIX_HOURS=g.THREE_HOURS=g.ONE_HOUR=g.SIXTY_MINUTES=g.THIRTY_MINUTES=g.TEN_MINUTES=g.FIVE_MINUTES=g.ONE_MINUTE=g.SIXTY_SECONDS=g.THIRTY_SECONDS=g.TEN_SECONDS=g.FIVE_SECONDS=g.ONE_SECOND=void 0,g.ONE_SECOND=1,g.FIVE_SECONDS=5,g.TEN_SECONDS=10,g.THIRTY_SECONDS=30,g.SIXTY_SECONDS=60,g.ONE_MINUTE=g.SIXTY_SECONDS,g.FIVE_MINUTES=5*g.ONE_MINUTE,g.TEN_MINUTES=10*g.ONE_MINUTE,g.THIRTY_MINUTES=30*g.ONE_MINUTE,g.SIXTY_MINUTES=60*g.ONE_MINUTE,g.ONE_HOUR=g.SIXTY_MINUTES,g.THREE_HOURS=3*g.ONE_HOUR,g.SIX_HOURS=6*g.ONE_HOUR,g.TWELVE_HOURS=12*g.ONE_HOUR,g.TWENTY_FOUR_HOURS=24*g.ONE_HOUR,g.ONE_DAY=g.TWENTY_FOUR_HOURS,g.THREE_DAYS=3*g.ONE_DAY,g.FIVE_DAYS=5*g.ONE_DAY,g.SEVEN_DAYS=7*g.ONE_DAY,g.THIRTY_DAYS=30*g.ONE_DAY,g.ONE_WEEK=g.SEVEN_DAYS,g.TWO_WEEKS=2*g.ONE_WEEK,g.THREE_WEEKS=3*g.ONE_WEEK,g.FOUR_WEEKS=4*g.ONE_WEEK,g.ONE_YEAR=365*g.ONE_DAY},14611:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const O=D(80017);O.__exportStar(D(47344),g),O.__exportStar(D(1429),g),O.__exportStar(D(40214),g),O.__exportStar(D(78847),g)},40214:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),D(80017).__exportStar(D(47997),g)},47997:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.IWatch=void 0,g.IWatch=class D{}},45442:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.fromMiliseconds=g.toMiliseconds=void 0;const O=D(78847);g.toMiliseconds=function te(ae){return ae*O.ONE_THOUSAND},g.fromMiliseconds=function re(ae){return Math.floor(ae/O.ONE_THOUSAND)}},67406:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.delay=void 0,g.delay=function D(O){return new Promise(te=>{setTimeout(()=>{te(!0)},O)})}},47344:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const O=D(80017);O.__exportStar(D(67406),g),O.__exportStar(D(45442),g)},1429:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.Watch=void 0;class D{constructor(){this.timestamps=new Map}start(te){if(this.timestamps.has(te))throw new Error(`Watch already started for label: ${te}`);this.timestamps.set(te,{started:Date.now()})}stop(te){const re=this.get(te);if(typeof re.elapsed<"u")throw new Error(`Watch already stopped for label: ${te}`);const ae=Date.now()-re.started;this.timestamps.set(te,{started:re.started,elapsed:ae})}get(te){const re=this.timestamps.get(te);if(typeof re>"u")throw new Error(`No timestamp found for label: ${te}`);return re}elapsed(te){const re=this.get(te);return re.elapsed||Date.now()-re.started}}g.Watch=D,g.default=D},37167:(Pe,g)=>{"use strict";function D(ye){let ne;return typeof window<"u"&&typeof window[ye]<"u"&&(ne=window[ye]),ne}function O(ye){const ne=D(ye);if(!ne)throw new Error(`${ye} is not defined in Window`);return ne}Object.defineProperty(g,"__esModule",{value:!0}),g.getLocalStorage=g.getLocalStorageOrThrow=g.getCrypto=g.getCryptoOrThrow=g.getLocation=g.getLocationOrThrow=g.getNavigator=g.getNavigatorOrThrow=g.getDocument=g.getDocumentOrThrow=g.getFromWindowOrThrow=g.getFromWindow=void 0,g.getFromWindow=D,g.getFromWindowOrThrow=O,g.getDocumentOrThrow=function te(){return O("document")},g.getDocument=function re(){return D("document")},g.getNavigatorOrThrow=function ae(){return O("navigator")},g.getNavigator=function $(){return D("navigator")},g.getLocationOrThrow=function k(){return O("location")},g.getLocation=function j(){return D("location")},g.getCryptoOrThrow=function L(){return O("crypto")},g.getCrypto=function T(){return D("crypto")},g.getLocalStorageOrThrow=function U(){return O("localStorage")},g.getLocalStorage=function oe(){return D("localStorage")}},78359:(Pe,g,D)=>{"use strict";g.D=void 0;const te=D(37167);g.D=function re(){let ae,$;try{ae=te.getDocumentOrThrow(),$=te.getLocationOrThrow()}catch{return null}function j(...xe){const P=ae.getElementsByTagName("meta");for(let be=0;be<P.length;be++){const X=P[be],ge=["itemprop","property","name"].map(le=>X.getAttribute(le)).filter(le=>!!le&&xe.includes(le));if(ge.length&&ge){const le=X.getAttribute("content");if(le)return le}}return""}const U=function L(){let xe=j("name","og:site_name","og:title","twitter:title");return xe||(xe=ae.title),xe}();return{description:function T(){return j("description","og:description","twitter:description","keywords")}(),url:$.origin,icons:function k(){const xe=ae.getElementsByTagName("link"),P=[];for(let be=0;be<xe.length;be++){const X=xe[be],ge=X.getAttribute("rel");if(ge&&ge.toLowerCase().indexOf("icon")>-1){const le=X.getAttribute("href");if(le)if(-1===le.toLowerCase().indexOf("https:")&&-1===le.toLowerCase().indexOf("http:")&&0!==le.indexOf("//")){let H=$.protocol+"//"+$.host;if(0===le.indexOf("/"))H+=le;else{const Z=$.pathname.split("/");Z.pop(),H+=Z.join("/")+"/"+le}P.push(H)}else 0===le.indexOf("//")?P.push($.protocol+le):P.push(le)}}return P}(),name:U}}},75630:function(Pe,g){var re,D=typeof self<"u"?self:this,O=function(){function re(){this.fetch=!1,this.DOMException=D.DOMException}return re.prototype=D,new re}();re=O,function($){var k_searchParams="URLSearchParams"in re,k_iterable="Symbol"in re&&"iterator"in Symbol,k_blob="FileReader"in re&&"Blob"in re&&function(){try{return new Blob,!0}catch{return!1}}(),k_formData="FormData"in re,k_arrayBuffer="ArrayBuffer"in re;if(k_arrayBuffer)var L=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],T=ArrayBuffer.isView||function(b){return b&&L.indexOf(Object.prototype.toString.call(b))>-1};function U(b){if("string"!=typeof b&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function oe(b){return"string"!=typeof b&&(b=String(b)),b}function ye(b){var d={next:function(){var x=b.shift();return{done:void 0===x,value:x}}};return k_iterable&&(d[Symbol.iterator]=function(){return d}),d}function ne(b){this.map={},b instanceof ne?b.forEach(function(d,x){this.append(x,d)},this):Array.isArray(b)?b.forEach(function(d){this.append(d[0],d[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(d){this.append(d,b[d])},this)}function fe(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function xe(b){return new Promise(function(d,x){b.onload=function(){d(b.result)},b.onerror=function(){x(b.error)}})}function P(b){var d=new FileReader,x=xe(d);return d.readAsArrayBuffer(b),x}function ge(b){if(b.slice)return b.slice(0);var d=new Uint8Array(b.byteLength);return d.set(new Uint8Array(b)),d.buffer}function le(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?"string"==typeof b?this._bodyText=b:k_blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:k_formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:k_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():k_arrayBuffer&&k_blob&&function j(b){return b&&DataView.prototype.isPrototypeOf(b)}(b)?(this._bodyArrayBuffer=ge(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):k_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||T(b))?this._bodyArrayBuffer=ge(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||("string"==typeof b?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):k_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},k_blob&&(this.blob=function(){var b=fe(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?fe(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(P)}),this.text=function(){var b=fe(this);if(b)return b;if(this._bodyBlob)return function be(b){var d=new FileReader,x=xe(d);return d.readAsText(b),x}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function X(b){for(var d=new Uint8Array(b),x=new Array(d.length),A=0;A<d.length;A++)x[A]=String.fromCharCode(d[A]);return x.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},k_formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}ne.prototype.append=function(b,d){b=U(b),d=oe(d);var x=this.map[b];this.map[b]=x?x+", "+d:d},ne.prototype.delete=function(b){delete this.map[U(b)]},ne.prototype.get=function(b){return b=U(b),this.has(b)?this.map[b]:null},ne.prototype.has=function(b){return this.map.hasOwnProperty(U(b))},ne.prototype.set=function(b,d){this.map[U(b)]=oe(d)},ne.prototype.forEach=function(b,d){for(var x in this.map)this.map.hasOwnProperty(x)&&b.call(d,this.map[x],x,this)},ne.prototype.keys=function(){var b=[];return this.forEach(function(d,x){b.push(x)}),ye(b)},ne.prototype.values=function(){var b=[];return this.forEach(function(d){b.push(d)}),ye(b)},ne.prototype.entries=function(){var b=[];return this.forEach(function(d,x){b.push([x,d])}),ye(b)},k_iterable&&(ne.prototype[Symbol.iterator]=ne.prototype.entries);var H=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(b,d){var x=(d=d||{}).body;if(b instanceof M){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,d.headers||(this.headers=new ne(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!x&&null!=b._bodyInit&&(x=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new ne(d.headers)),this.method=function Z(b){var d=b.toUpperCase();return H.indexOf(d)>-1?d:b}(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&x)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(x)}function p(b){var d=new FormData;return b.trim().split("&").forEach(function(x){if(x){var A=x.split("="),N=A.shift().replace(/\+/g," "),E=A.join("=").replace(/\+/g," ");d.append(decodeURIComponent(N),decodeURIComponent(E))}}),d}function l(b){var d=new ne;return b.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(A){var N=A.split(":"),E=N.shift().trim();if(E){var K=N.join(":").trim();d.append(E,K)}}),d}function _(b,d){d||(d={}),this.type="default",this.status=void 0===d.status?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new ne(d.headers),this.url=d.url||"",this._initBody(b)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})},le.call(M.prototype),le.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ne(this.headers),url:this.url})},_.error=function(){var b=new _(null,{status:0,statusText:""});return b.type="error",b};var m=[301,302,303,307,308];_.redirect=function(b,d){if(-1===m.indexOf(d))throw new RangeError("Invalid status code");return new _(null,{status:d,headers:{location:b}})},$.DOMException=re.DOMException;try{new $.DOMException}catch{$.DOMException=function(d,x){this.message=d,this.name=x;var A=Error(d);this.stack=A.stack},$.DOMException.prototype=Object.create(Error.prototype),$.DOMException.prototype.constructor=$.DOMException}function S(b,d){return new Promise(function(x,A){var N=new M(b,d);if(N.signal&&N.signal.aborted)return A(new $.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function K(){E.abort()}E.onload=function(){var ue={status:E.status,statusText:E.statusText,headers:l(E.getAllResponseHeaders()||"")};ue.url="responseURL"in E?E.responseURL:ue.headers.get("X-Request-URL"),x(new _("response"in E?E.response:E.responseText,ue))},E.onerror=function(){A(new TypeError("Network request failed"))},E.ontimeout=function(){A(new TypeError("Network request failed"))},E.onabort=function(){A(new $.DOMException("Aborted","AbortError"))},E.open(N.method,N.url,!0),"include"===N.credentials?E.withCredentials=!0:"omit"===N.credentials&&(E.withCredentials=!1),"responseType"in E&&k_blob&&(E.responseType="blob"),N.headers.forEach(function(ue,W){E.setRequestHeader(W,ue)}),N.signal&&(N.signal.addEventListener("abort",K),E.onreadystatechange=function(){4===E.readyState&&N.signal.removeEventListener("abort",K)}),E.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}S.polyfill=!0,re.fetch||(re.fetch=S,re.Headers=ne,re.Request=M,re.Response=_),$.Headers=ne,$.Request=M,$.Response=_,$.fetch=S,Object.defineProperty($,"__esModule",{value:!0})}({}),O.fetch.ponyfill=!0,delete O.fetch.polyfill;var te=O;(g=te.fetch).default=te.fetch,g.fetch=te.fetch,g.Headers=te.Headers,g.Request=te.Request,g.Response=te.Response,Pe.exports=g},65361:Pe=>{"use strict";var g="%[a-f0-9]{2}",D=new RegExp("("+g+")|([^%]+?)","gi"),O=new RegExp("("+g+")+","gi");function te($,k){try{return[decodeURIComponent($.join(""))]}catch{}if(1===$.length)return $;var j=$.slice(0,k=k||1),L=$.slice(k);return Array.prototype.concat.call([],te(j),te(L))}function re($){try{return decodeURIComponent($)}catch{for(var k=$.match(D)||[],j=1;j<k.length;j++)k=($=te(k,j).join("")).match(D)||[];return $}}Pe.exports=function($){if("string"!=typeof $)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof $+"`");try{return $=$.replace(/\+/g," "),decodeURIComponent($)}catch{return function ae($){for(var k={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},j=O.exec($);j;){try{k[j[0]]=decodeURIComponent(j[0])}catch{var L=re(j[0]);L!==j[0]&&(k[j[0]]=L)}j=O.exec($)}k["%C2"]="\ufffd";for(var T=Object.keys(k),U=0;U<T.length;U++){var oe=T[U];$=$.replace(new RegExp(oe,"g"),k[oe])}return $}($)}}},10979:Pe=>{"use strict";Pe.exports=function(g,D){for(var O={},te=Object.keys(g),re=Array.isArray(D),ae=0;ae<te.length;ae++){var $=te[ae],k=g[$];(re?-1!==D.indexOf($):D($,k,g))&&(O[$]=k)}return O}},6856:(Pe,g,D)=>{Pe=D.nmd(Pe);var te="__lodash_hash_undefined__",$=9007199254740991,k="[object Arguments]",j="[object Array]",T="[object Boolean]",U="[object Date]",oe="[object Error]",ye="[object Function]",fe="[object Map]",xe="[object Number]",be="[object Object]",X="[object Promise]",le="[object RegExp]",H="[object Set]",Z="[object String]",l="[object WeakMap]",_="[object ArrayBuffer]",m="[object DataView]",Re=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,Se={};Se["[object Float32Array]"]=Se["[object Float64Array]"]=Se["[object Int8Array]"]=Se["[object Int16Array]"]=Se["[object Int32Array]"]=Se["[object Uint8Array]"]=Se["[object Uint8ClampedArray]"]=Se["[object Uint16Array]"]=Se["[object Uint32Array]"]=!0,Se[k]=Se[j]=Se[_]=Se[T]=Se[m]=Se[U]=Se[oe]=Se[ye]=Se[fe]=Se[xe]=Se[be]=Se[le]=Se[H]=Se[Z]=Se[l]=!1;var Ue="object"==typeof global&&global&&global.Object===Object&&global,Le="object"==typeof self&&self&&self.Object===Object&&self,Me=Ue||Le||Function("return this")(),ce=g&&!g.nodeType&&g,he=ce&&Pe&&!Pe.nodeType&&Pe,J=he&&he.exports===ce,v=J&&Ue.process,G=function(){try{return v&&v.binding&&v.binding("util")}catch{}}(),Ae=G&&G.isTypedArray;function Pt(F,Q){for(var Ie=-1,Fe=null==F?0:F.length;++Ie<Fe;)if(Q(F[Ie],Ie,F))return!0;return!1}function Kt(F,Q){return F.has(Q)}function _t(F){var Q=-1,Ie=Array(F.size);return F.forEach(function(Fe,Bt){Ie[++Q]=[Bt,Fe]}),Ie}function yt(F){var Q=-1,Ie=Array(F.size);return F.forEach(function(Fe){Ie[++Q]=Fe}),Ie}var F,ct=Array.prototype,et=Object.prototype,Xe=Me["__core-js_shared__"],Ze=Function.prototype.toString,qe=et.hasOwnProperty,vt=(F=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",bt=et.toString,St=RegExp("^"+Ze.call(qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=J?Me.Buffer:void 0,Ot=Me.Symbol,Ct=Me.Uint8Array,Nt=et.propertyIsEnumerable,Rr=ct.splice,Sr=Ot?Ot.toStringTag:void 0,ln=Object.getOwnPropertySymbols,Tn=It?It.isBuffer:void 0,Kn=function gt(F,Q){return function(Ie){return F(Q(Ie))}}(Object.keys,Object),Nn=Gn(Me,"DataView"),wn=Gn(Me,"Map"),qt=Gn(Me,"Promise"),Zt=Gn(Me,"Set"),Jt=Gn(Me,"WeakMap"),jt=Gn(Object,"create"),nr=dn(Nn),ir=dn(wn),Et=dn(qt),sr=dn(Zt),or=dn(Jt),er=Ot?Ot.prototype:void 0,Qt=er?er.valueOf:void 0;function $t(F){var Q=-1,Ie=null==F?0:F.length;for(this.clear();++Q<Ie;){var Fe=F[Q];this.set(Fe[0],Fe[1])}}function hn(F){var Q=-1,Ie=null==F?0:F.length;for(this.clear();++Q<Ie;){var Fe=F[Q];this.set(Fe[0],Fe[1])}}function Un(F){var Q=-1,Ie=null==F?0:F.length;for(this.clear();++Q<Ie;){var Fe=F[Q];this.set(Fe[0],Fe[1])}}function Oi(F){var Q=-1,Ie=null==F?0:F.length;for(this.__data__=new Un;++Q<Ie;)this.add(F[Q])}function Dn(F){var Q=this.__data__=new hn(F);this.size=Q.size}function Ri(F,Q){for(var Ie=F.length;Ie--;)if(Sa(F[Ie][0],Q))return Ie;return-1}function Wn(F){return null==F?void 0===F?"[object Undefined]":"[object Null]":Sr&&Sr in Object(F)?function wa(F){var Q=qe.call(F,Sr),Ie=F[Sr];try{F[Sr]=void 0;var Fe=!0}catch{}var Bt=bt.call(F);return Fe&&(Q?F[Sr]=Ie:delete F[Sr]),Bt}(F):function $s(F){return bt.call(F)}(F)}function Us(F){return ci(F)&&Wn(F)==k}function Fs(F,Q,Ie,Fe,Bt){return F===Q||(null==F||null==Q||!ci(F)&&!ci(Q)?F!=F&&Q!=Q:function Ls(F,Q,Ie,Fe,Bt,tt){var Wt=ui(F),lr=ui(Q),pr=Wt?j:xn(F),ft=lr?j:xn(Q),Pr=(pr=pr==k?be:pr)==be,Jr=(ft=ft==k?be:ft)==be,vr=pr==ft;if(vr&&ki(F)){if(!ki(Q))return!1;Wt=!0,Pr=!1}if(vr&&!Pr)return tt||(tt=new Dn),Wt||ts(F)?js(F,Q,Ie,Fe,Bt,tt):function ba(F,Q,Ie,Fe,Bt,tt,Wt){switch(Ie){case m:if(F.byteLength!=Q.byteLength||F.byteOffset!=Q.byteOffset)return!1;F=F.buffer,Q=Q.buffer;case _:return!(F.byteLength!=Q.byteLength||!tt(new Ct(F),new Ct(Q)));case T:case U:case xe:return Sa(+F,+Q);case oe:return F.name==Q.name&&F.message==Q.message;case le:case Z:return F==Q+"";case fe:var lr=_t;case H:if(lr||(lr=yt),F.size!=Q.size&&!(1&Fe))return!1;var ft=Wt.get(F);if(ft)return ft==Q;Fe|=2,Wt.set(F,Q);var Pr=js(lr(F),lr(Q),Fe,Bt,tt,Wt);return Wt.delete(F),Pr;case"[object Symbol]":if(Qt)return Qt.call(F)==Qt.call(Q)}return!1}(F,Q,pr,Ie,Fe,Bt,tt);if(!(1&Ie)){var mr=Pr&&qe.call(F,"__wrapped__"),Lr=Jr&&qe.call(Q,"__wrapped__");if(mr||Lr){var pn=mr?F.value():F,Zr=Lr?Q.value():Q;return tt||(tt=new Dn),Bt(pn,Zr,Ie,Fe,tt)}}return!!vr&&(tt||(tt=new Dn),function Ea(F,Q,Ie,Fe,Bt,tt){var Wt=1&Ie,lr=Ms(F),pr=lr.length;if(pr!=Ms(Q).length&&!Wt)return!1;for(var Jr=pr;Jr--;){var vr=lr[Jr];if(!(Wt?vr in Q:qe.call(Q,vr)))return!1}var mr=tt.get(F);if(mr&&tt.get(Q))return mr==Q;var Lr=!0;tt.set(F,Q),tt.set(Q,F);for(var pn=Wt;++Jr<pr;){var Zr=F[vr=lr[Jr]],Qr=Q[vr];if(Fe)var fi=Wt?Fe(Qr,Zr,vr,Q,F,tt):Fe(Zr,Qr,vr,F,Q,tt);if(!(void 0===fi?Zr===Qr||Bt(Zr,Qr,Ie,Fe,tt):fi)){Lr=!1;break}pn||(pn="constructor"==vr)}if(Lr&&!pn){var Ai=F.constructor,Ci=Q.constructor;Ai!=Ci&&"constructor"in F&&"constructor"in Q&&!("function"==typeof Ai&&Ai instanceof Ai&&"function"==typeof Ci&&Ci instanceof Ci)&&(Lr=!1)}return tt.delete(F),tt.delete(Q),Lr}(F,Q,Ie,Fe,Bt,tt))}(F,Q,Ie,Fe,Fs,Bt))}function js(F,Q,Ie,Fe,Bt,tt){var Wt=1&Ie,lr=F.length,pr=Q.length;if(lr!=pr&&!(Wt&&pr>lr))return!1;var ft=tt.get(F);if(ft&&tt.get(Q))return ft==Q;var Pr=-1,Jr=!0,vr=2&Ie?new Oi:void 0;for(tt.set(F,Q),tt.set(Q,F);++Pr<lr;){var mr=F[Pr],Lr=Q[Pr];if(Fe)var pn=Wt?Fe(Lr,mr,Pr,Q,F,tt):Fe(mr,Lr,Pr,F,Q,tt);if(void 0!==pn){if(pn)continue;Jr=!1;break}if(vr){if(!Pt(Q,function(Zr,Qr){if(!Kt(vr,Qr)&&(mr===Zr||Bt(mr,Zr,Ie,Fe,tt)))return vr.push(Qr)})){Jr=!1;break}}else if(mr!==Lr&&!Bt(mr,Lr,Ie,Fe,tt)){Jr=!1;break}}return tt.delete(F),tt.delete(Q),Jr}function Ms(F){return function va(F,Q,Ie){var Fe=Q(F);return ui(F)?Fe:function ut(F,Q){for(var Ie=-1,Fe=Q.length,Bt=F.length;++Ie<Fe;)F[Bt+Ie]=Q[Ie];return F}(Fe,Ie(F))}(F,Nc,Da)}function Pi(F,Q){var Ie=F.__data__;return function Bs(F){var Q=typeof F;return"string"==Q||"number"==Q||"symbol"==Q||"boolean"==Q?"__proto__"!==F:null===F}(Q)?Ie["string"==typeof Q?"string":"hash"]:Ie.map}function Gn(F,Q){var Ie=function Xt(F,Q){return null==F?void 0:F[Q]}(F,Q);return function Qi(F){return!(!es(F)||function Cc(F){return!!vt&&vt in F}(F))&&(Vs(F)?St:Re).test(dn(F))}(Ie)?Ie:void 0}$t.prototype.clear=function ar(){this.__data__=jt?jt(null):{},this.size=0},$t.prototype.delete=function ur(F){var Q=this.has(F)&&delete this.__data__[F];return this.size-=Q?1:0,Q},$t.prototype.get=function cr(F){var Q=this.__data__;if(jt){var Ie=Q[F];return Ie===te?void 0:Ie}return qe.call(Q,F)?Q[F]:void 0},$t.prototype.has=function fr(F){var Q=this.__data__;return jt?void 0!==Q[F]:qe.call(Q,F)},$t.prototype.set=function ea(F,Q){var Ie=this.__data__;return this.size+=this.has(F)?0:1,Ie[F]=jt&&void 0===Q?te:Q,this},hn.prototype.clear=function ta(){this.__data__=[],this.size=0},hn.prototype.delete=function ra(F){var Q=this.__data__,Ie=Ri(Q,F);return!(Ie<0||(Ie==Q.length-1?Q.pop():Rr.call(Q,Ie,1),--this.size,0))},hn.prototype.get=function na(F){var Q=this.__data__,Ie=Ri(Q,F);return Ie<0?void 0:Q[Ie][1]},hn.prototype.has=function ia(F){return Ri(this.__data__,F)>-1},hn.prototype.set=function sa(F,Q){var Ie=this.__data__,Fe=Ri(Ie,F);return Fe<0?(++this.size,Ie.push([F,Q])):Ie[Fe][1]=Q,this},Un.prototype.clear=function oa(){this.size=0,this.__data__={hash:new $t,map:new(wn||hn),string:new $t}},Un.prototype.delete=function aa(F){var Q=Pi(this,F).delete(F);return this.size-=Q?1:0,Q},Un.prototype.get=function ua(F){return Pi(this,F).get(F)},Un.prototype.has=function ca(F){return Pi(this,F).has(F)},Un.prototype.set=function fa(F,Q){var Ie=Pi(this,F),Fe=Ie.size;return Ie.set(F,Q),this.size+=Ie.size==Fe?0:1,this},Oi.prototype.add=Oi.prototype.push=function Ts(F){return this.__data__.set(F,te),this},Oi.prototype.has=function la(F){return this.__data__.has(F)},Dn.prototype.clear=function ha(){this.__data__=new hn,this.size=0},Dn.prototype.delete=function da(F){var Q=this.__data__,Ie=Q.delete(F);return this.size=Q.size,Ie},Dn.prototype.get=function pa(F){return this.__data__.get(F)},Dn.prototype.has=function ga(F){return this.__data__.has(F)},Dn.prototype.set=function Ns(F,Q){var Ie=this.__data__;if(Ie instanceof hn){var Fe=Ie.__data__;if(!wn||Fe.length<199)return Fe.push([F,Q]),this.size=++Ie.size,this;Ie=this.__data__=new Un(Fe)}return Ie.set(F,Q),this.size=Ie.size,this};var Da=ln?function(F){return null==F?[]:(F=Object(F),function He(F,Q){for(var Ie=-1,Fe=null==F?0:F.length,Bt=0,tt=[];++Ie<Fe;){var Wt=F[Ie];Q(Wt,Ie,F)&&(tt[Bt++]=Wt)}return tt}(ln(F),function(Q){return Nt.call(F,Q)}))}:function Ia(){return[]},xn=Wn;function xa(F,Q){return!!(Q=Q??$)&&("number"==typeof F||me.test(F))&&F>-1&&F%1==0&&F<Q}function dn(F){if(null!=F){try{return Ze.call(F)}catch{}try{return F+""}catch{}}return""}function Sa(F,Q){return F===Q||F!=F&&Q!=Q}(Nn&&xn(new Nn(new ArrayBuffer(1)))!=m||wn&&xn(new wn)!=fe||qt&&xn(qt.resolve())!=X||Zt&&xn(new Zt)!=H||Jt&&xn(new Jt)!=l)&&(xn=function(F){var Q=Wn(F),Ie=Q==be?F.constructor:void 0,Fe=Ie?dn(Ie):"";if(Fe)switch(Fe){case nr:return m;case ir:return fe;case Et:return X;case sr:return H;case or:return l}return Q});var Tc=Us(function(){return arguments}())?Us:function(F){return ci(F)&&qe.call(F,"callee")&&!Nt.call(F,"callee")},ui=Array.isArray,ki=Tn||function Oa(){return!1};function Vs(F){if(!es(F))return!1;var Q=Wn(F);return Q==ye||"[object GeneratorFunction]"==Q||"[object AsyncFunction]"==Q||"[object Proxy]"==Q}function Ks(F){return"number"==typeof F&&F>-1&&F%1==0&&F<=$}function es(F){var Q=typeof F;return null!=F&&("object"==Q||"function"==Q)}function ci(F){return null!=F&&"object"==typeof F}var ts=Ae?function At(F){return function(Q){return F(Q)}}(Ae):function ma(F){return ci(F)&&Ks(F.length)&&!!Se[Wn(F)]};function Nc(F){return function Hs(F){return null!=F&&Ks(F.length)&&!Vs(F)}(F)?function ya(F,Q){var Ie=ui(F),Fe=!Ie&&Tc(F),Bt=!Ie&&!Fe&&ki(F),tt=!Ie&&!Fe&&!Bt&&ts(F),Wt=Ie||Fe||Bt||tt,lr=Wt?function pt(F,Q){for(var Ie=-1,Fe=Array(F);++Ie<F;)Fe[Ie]=Q(Ie);return Fe}(F.length,String):[],pr=lr.length;for(var ft in F)(Q||qe.call(F,ft))&&(!Wt||!("length"==ft||Bt&&("offset"==ft||"parent"==ft)||tt&&("buffer"==ft||"byteLength"==ft||"byteOffset"==ft)||xa(ft,pr)))&&lr.push(ft);return lr}(F):function _a(F){if(!function zs(F){var Q=F&&F.constructor;return F===("function"==typeof Q&&Q.prototype||et)}(F))return Kn(F);var Q=[];for(var Ie in Object(F))qe.call(F,Ie)&&"constructor"!=Ie&&Q.push(Ie);return Q}(F)}Pe.exports=function Js(F,Q){return Fs(F,Q)}},45703:(Pe,g,D)=>{"use strict";const O=D(82915),te=D(65361),re=D(95967),ae=D(10979),k=Symbol("encodeFragmentIdentifier");function T(X){if("string"!=typeof X||1!==X.length)throw new TypeError("arrayFormatSeparator must be single character string")}function U(X,ge){return ge.encode?ge.strict?O(X):encodeURIComponent(X):X}function oe(X,ge){return ge.decode?te(X):X}function ye(X){return Array.isArray(X)?X.sort():"object"==typeof X?ye(Object.keys(X)).sort((ge,le)=>Number(ge)-Number(le)).map(ge=>X[ge]):X}function ne(X){const ge=X.indexOf("#");return-1!==ge&&(X=X.slice(0,ge)),X}function xe(X){const ge=(X=ne(X)).indexOf("?");return-1===ge?"":X.slice(ge+1)}function P(X,ge){return ge.parseNumbers&&!Number.isNaN(Number(X))&&"string"==typeof X&&""!==X.trim()?X=Number(X):ge.parseBooleans&&null!==X&&("true"===X.toLowerCase()||"false"===X.toLowerCase())&&(X="true"===X.toLowerCase()),X}function be(X,ge){T((ge=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},ge)).arrayFormatSeparator);const le=function L(X){let ge;switch(X.arrayFormat){case"index":return(le,H,Z)=>{ge=/\[(\d*)\]$/.exec(le),le=le.replace(/\[\d*\]$/,""),ge?(void 0===Z[le]&&(Z[le]={}),Z[le][ge[1]]=H):Z[le]=H};case"bracket":return(le,H,Z)=>{ge=/(\[\])$/.exec(le),Z[le=le.replace(/\[\]$/,"")]=ge?void 0!==Z[le]?[].concat(Z[le],H):[H]:H};case"colon-list-separator":return(le,H,Z)=>{ge=/(:list)$/.exec(le),Z[le=le.replace(/:list$/,"")]=ge?void 0!==Z[le]?[].concat(Z[le],H):[H]:H};case"comma":case"separator":return(le,H,Z)=>{const M="string"==typeof H&&H.includes(X.arrayFormatSeparator),p="string"==typeof H&&!M&&oe(H,X).includes(X.arrayFormatSeparator);H=p?oe(H,X):H;const l=M||p?H.split(X.arrayFormatSeparator).map(_=>oe(_,X)):null===H?H:oe(H,X);Z[le]=l};case"bracket-separator":return(le,H,Z)=>{const M=/(\[\])$/.test(le);if(le=le.replace(/\[\]$/,""),!M)return void(Z[le]=H&&oe(H,X));const p=null===H?[]:H.split(X.arrayFormatSeparator).map(l=>oe(l,X));Z[le]=void 0!==Z[le]?[].concat(Z[le],p):p};default:return(le,H,Z)=>{Z[le]=void 0!==Z[le]?[].concat(Z[le],H):H}}}(ge),H=Object.create(null);if("string"!=typeof X||!(X=X.trim().replace(/^[?#&]/,"")))return H;for(const Z of X.split("&")){if(""===Z)continue;let[M,p]=re(ge.decode?Z.replace(/\+/g," "):Z,"=");p=void 0===p?null:["comma","separator","bracket-separator"].includes(ge.arrayFormat)?p:oe(p,ge),le(oe(M,ge),p,H)}for(const Z of Object.keys(H)){const M=H[Z];if("object"==typeof M&&null!==M)for(const p of Object.keys(M))M[p]=P(M[p],ge);else H[Z]=P(M,ge)}return!1===ge.sort?H:(!0===ge.sort?Object.keys(H).sort():Object.keys(H).sort(ge.sort)).reduce((Z,M)=>{const p=H[M];return Z[M]=Boolean(p)&&"object"==typeof p&&!Array.isArray(p)?ye(p):p,Z},Object.create(null))}g.extract=xe,g.parse=be,g.stringify=(X,ge)=>{if(!X)return"";T((ge=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},ge)).arrayFormatSeparator);const le=p=>ge.skipNull&&(X=>null==X)(X[p])||ge.skipEmptyString&&""===X[p],H=function j(X){switch(X.arrayFormat){case"index":return ge=>(le,H)=>{const Z=le.length;return void 0===H||X.skipNull&&null===H||X.skipEmptyString&&""===H?le:null===H?[...le,[U(ge,X),"[",Z,"]"].join("")]:[...le,[U(ge,X),"[",U(Z,X),"]=",U(H,X)].join("")]};case"bracket":return ge=>(le,H)=>void 0===H||X.skipNull&&null===H||X.skipEmptyString&&""===H?le:null===H?[...le,[U(ge,X),"[]"].join("")]:[...le,[U(ge,X),"[]=",U(H,X)].join("")];case"colon-list-separator":return ge=>(le,H)=>void 0===H||X.skipNull&&null===H||X.skipEmptyString&&""===H?le:null===H?[...le,[U(ge,X),":list="].join("")]:[...le,[U(ge,X),":list=",U(H,X)].join("")];case"comma":case"separator":case"bracket-separator":{const ge="bracket-separator"===X.arrayFormat?"[]=":"=";return le=>(H,Z)=>void 0===Z||X.skipNull&&null===Z||X.skipEmptyString&&""===Z?H:(Z=null===Z?"":Z,0===H.length?[[U(le,X),ge,U(Z,X)].join("")]:[[H,U(Z,X)].join(X.arrayFormatSeparator)])}default:return ge=>(le,H)=>void 0===H||X.skipNull&&null===H||X.skipEmptyString&&""===H?le:null===H?[...le,U(ge,X)]:[...le,[U(ge,X),"=",U(H,X)].join("")]}}(ge),Z={};for(const p of Object.keys(X))le(p)||(Z[p]=X[p]);const M=Object.keys(Z);return!1!==ge.sort&&M.sort(ge.sort),M.map(p=>{const l=X[p];return void 0===l?"":null===l?U(p,ge):Array.isArray(l)?0===l.length&&"bracket-separator"===ge.arrayFormat?U(p,ge)+"[]":l.reduce(H(p),[]).join("&"):U(p,ge)+"="+U(l,ge)}).filter(p=>p.length>0).join("&")},g.parseUrl=(X,ge)=>{ge=Object.assign({decode:!0},ge);const[le,H]=re(X,"#");return Object.assign({url:le.split("?")[0]||"",query:be(xe(X),ge)},ge&&ge.parseFragmentIdentifier&&H?{fragmentIdentifier:oe(H,ge)}:{})},g.stringifyUrl=(X,ge)=>{ge=Object.assign({encode:!0,strict:!0,[k]:!0},ge);const le=ne(X.url).split("?")[0]||"",H=g.extract(X.url),Z=g.parse(H,{sort:!1}),M=Object.assign(Z,X.query);let p=g.stringify(M,ge);p&&(p=`?${p}`);let l=function fe(X){let ge="";const le=X.indexOf("#");return-1!==le&&(ge=X.slice(le)),ge}(X.url);return X.fragmentIdentifier&&(l=`#${ge[k]?U(X.fragmentIdentifier,ge):X.fragmentIdentifier}`),`${le}${p}${l}`},g.pick=(X,ge,le)=>{le=Object.assign({parseFragmentIdentifier:!0,[k]:!1},le);const{url:H,query:Z,fragmentIdentifier:M}=g.parseUrl(X,le);return g.stringifyUrl({url:H,query:ae(Z,ge),fragmentIdentifier:M},le)},g.exclude=(X,ge,le)=>{const H=Array.isArray(ge)?Z=>!ge.includes(Z):(Z,M)=>!ge(Z,M);return g.pick(X,H,le)}},71778:Pe=>{"use strict";function g(O){try{return JSON.stringify(O)}catch{return'"[Circular]"'}}Pe.exports=function D(O,te,re){var ae=re&&re.stringify||g;if("object"==typeof O&&null!==O){var k=te.length+1;if(1===k)return O;var j=new Array(k);j[0]=ae(O);for(var L=1;L<k;L++)j[L]=ae(te[L]);return j.join(" ")}if("string"!=typeof O)return O;var T=te.length;if(0===T)return O;for(var U="",oe=0,ye=-1,ne=O&&O.length||0,fe=0;fe<ne;){if(37===O.charCodeAt(fe)&&fe+1<ne){switch(ye=ye>-1?ye:0,O.charCodeAt(fe+1)){case 100:case 102:if(oe>=T||null==te[oe])break;ye<fe&&(U+=O.slice(ye,fe)),U+=Number(te[oe]),ye=fe+2,fe++;break;case 105:if(oe>=T||null==te[oe])break;ye<fe&&(U+=O.slice(ye,fe)),U+=Math.floor(Number(te[oe])),ye=fe+2,fe++;break;case 79:case 111:case 106:if(oe>=T||void 0===te[oe])break;ye<fe&&(U+=O.slice(ye,fe));var xe=typeof te[oe];if("string"===xe){U+="'"+te[oe]+"'",ye=fe+2,fe++;break}if("function"===xe){U+=te[oe].name||"<anonymous>",ye=fe+2,fe++;break}U+=ae(te[oe]),ye=fe+2,fe++;break;case 115:if(oe>=T)break;ye<fe&&(U+=O.slice(ye,fe)),U+=String(te[oe]),ye=fe+2,fe++;break;case 37:ye<fe&&(U+=O.slice(ye,fe)),U+="%",ye=fe+2,fe++,oe--}++oe}++fe}return-1===ye?O:(ye<ne&&(U+=O.slice(ye)),U)}},28898:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.safeJsonParse=function D(te){if("string"!=typeof te)throw new Error("Cannot safe json parse value of type "+typeof te);try{return JSON.parse(te)}catch{return te}},g.safeJsonStringify=function O(te){return"string"==typeof te?te:JSON.stringify(te,(re,ae)=>typeof ae>"u"?null:ae)}},95967:Pe=>{"use strict";Pe.exports=(g,D)=>{if("string"!=typeof g||"string"!=typeof D)throw new TypeError("Expected the arguments to be of type `string`");if(""===D)return[g];const O=g.indexOf(D);return-1===O?[g]:[g.slice(0,O),g.slice(O+D.length)]}},82915:Pe=>{"use strict";Pe.exports=g=>encodeURIComponent(g).replace(/[!'()*]/g,D=>`%${D.charCodeAt(0).toString(16).toUpperCase()}`)},44813:Pe=>{"use strict";Pe.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},33172:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>re,__asyncDelegator:()=>X,__asyncGenerator:()=>be,__asyncValues:()=>ge,__await:()=>P,__awaiter:()=>L,__classPrivateFieldGet:()=>M,__classPrivateFieldSet:()=>p,__createBinding:()=>U,__decorate:()=>$,__exportStar:()=>oe,__extends:()=>te,__generator:()=>T,__importDefault:()=>Z,__importStar:()=>H,__makeTemplateObject:()=>le,__metadata:()=>j,__param:()=>k,__read:()=>ne,__rest:()=>ae,__spread:()=>fe,__spreadArrays:()=>xe,__values:()=>ye});var O=function(l,_){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var b in S)S.hasOwnProperty(b)&&(m[b]=S[b])})(l,_)};function te(l,_){function m(){this.constructor=l}O(l,_),l.prototype=null===_?Object.create(_):(m.prototype=_.prototype,new m)}var re=function(){return re=Object.assign||function(_){for(var m,S=1,b=arguments.length;S<b;S++)for(var d in m=arguments[S])Object.prototype.hasOwnProperty.call(m,d)&&(_[d]=m[d]);return _},re.apply(this,arguments)};function ae(l,_){var m={};for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&_.indexOf(S)<0&&(m[S]=l[S]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(l);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(l,S[b])&&(m[S[b]]=l[S[b]])}return m}function $(l,_,m,S){var x,b=arguments.length,d=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,m):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(l,_,m,S);else for(var A=l.length-1;A>=0;A--)(x=l[A])&&(d=(b<3?x(d):b>3?x(_,m,d):x(_,m))||d);return b>3&&d&&Object.defineProperty(_,m,d),d}function k(l,_){return function(m,S){_(m,S,l)}}function j(l,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,_)}function L(l,_,m,S){return new(m||(m=Promise))(function(d,x){function A(K){try{E(S.next(K))}catch(ue){x(ue)}}function N(K){try{E(S.throw(K))}catch(ue){x(ue)}}function E(K){K.done?d(K.value):function b(d){return d instanceof m?d:new m(function(x){x(d)})}(K.value).then(A,N)}E((S=S.apply(l,_||[])).next())})}function T(l,_){var S,b,d,x,m={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return x={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function A(E){return function(K){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;m;)try{if(S=1,b&&(d=2&E[0]?b.return:E[0]?b.throw||((d=b.return)&&d.call(b),0):b.next)&&!(d=d.call(b,E[1])).done)return d;switch(b=0,d&&(E=[2&E[0],d.value]),E[0]){case 0:case 1:d=E;break;case 4:return m.label++,{value:E[1],done:!1};case 5:m.label++,b=E[1],E=[0];continue;case 7:E=m.ops.pop(),m.trys.pop();continue;default:if(!(d=(d=m.trys).length>0&&d[d.length-1])&&(6===E[0]||2===E[0])){m=0;continue}if(3===E[0]&&(!d||E[1]>d[0]&&E[1]<d[3])){m.label=E[1];break}if(6===E[0]&&m.label<d[1]){m.label=d[1],d=E;break}if(d&&m.label<d[2]){m.label=d[2],m.ops.push(E);break}d[2]&&m.ops.pop(),m.trys.pop();continue}E=_.call(l,m)}catch(K){E=[6,K],b=0}finally{S=d=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,K])}}}function U(l,_,m,S){void 0===S&&(S=m),l[S]=_[m]}function oe(l,_){for(var m in l)"default"!==m&&!_.hasOwnProperty(m)&&(_[m]=l[m])}function ye(l){var _="function"==typeof Symbol&&Symbol.iterator,m=_&&l[_],S=0;if(m)return m.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&S>=l.length&&(l=void 0),{value:l&&l[S++],done:!l}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(l,_){var m="function"==typeof Symbol&&l[Symbol.iterator];if(!m)return l;var b,x,S=m.call(l),d=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)d.push(b.value)}catch(A){x={error:A}}finally{try{b&&!b.done&&(m=S.return)&&m.call(S)}finally{if(x)throw x.error}}return d}function fe(){for(var l=[],_=0;_<arguments.length;_++)l=l.concat(ne(arguments[_]));return l}function xe(){for(var l=0,_=0,m=arguments.length;_<m;_++)l+=arguments[_].length;var S=Array(l),b=0;for(_=0;_<m;_++)for(var d=arguments[_],x=0,A=d.length;x<A;x++,b++)S[b]=d[x];return S}function P(l){return this instanceof P?(this.v=l,this):new P(l)}function be(l,_,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=m.apply(l,_||[]),d=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(W){S[W]&&(b[W]=function(Re){return new Promise(function(me,Se){d.push([W,Re,me,Se])>1||A(W,Re)})})}function A(W,Re){try{!function N(W){W.value instanceof P?Promise.resolve(W.value.v).then(E,K):ue(d[0][2],W)}(S[W](Re))}catch(me){ue(d[0][3],me)}}function E(W){A("next",W)}function K(W){A("throw",W)}function ue(W,Re){W(Re),d.shift(),d.length&&A(d[0][0],d[0][1])}}function X(l){var _,m;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,d){_[b]=l[b]?function(x){return(m=!m)?{value:P(l[b](x)),done:"return"===b}:d?d(x):x}:d}}function ge(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m,_=l[Symbol.asyncIterator];return _?_.call(l):(l=ye(l),m={},S("next"),S("throw"),S("return"),m[Symbol.asyncIterator]=function(){return this},m);function S(d){m[d]=l[d]&&function(x){return new Promise(function(A,N){!function b(d,x,A,N){Promise.resolve(N).then(function(E){d({value:E,done:A})},x)}(A,N,(x=l[d](x)).done,x.value)})}}}function le(l,_){return Object.defineProperty?Object.defineProperty(l,"raw",{value:_}):l.raw=_,l}function H(l){if(l&&l.__esModule)return l;var _={};if(null!=l)for(var m in l)Object.hasOwnProperty.call(l,m)&&(_[m]=l[m]);return _.default=l,_}function Z(l){return l&&l.__esModule?l:{default:l}}function M(l,_){if(!_.has(l))throw new TypeError("attempted to get private field on non-instance");return _.get(l)}function p(l,_,m){if(!_.has(l))throw new TypeError("attempted to set private field on non-instance");return _.set(l,m),m}},83411:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>re,__asyncDelegator:()=>X,__asyncGenerator:()=>be,__asyncValues:()=>ge,__await:()=>P,__awaiter:()=>L,__classPrivateFieldGet:()=>M,__classPrivateFieldSet:()=>p,__createBinding:()=>U,__decorate:()=>$,__exportStar:()=>oe,__extends:()=>te,__generator:()=>T,__importDefault:()=>Z,__importStar:()=>H,__makeTemplateObject:()=>le,__metadata:()=>j,__param:()=>k,__read:()=>ne,__rest:()=>ae,__spread:()=>fe,__spreadArrays:()=>xe,__values:()=>ye});var O=function(l,_){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var b in S)S.hasOwnProperty(b)&&(m[b]=S[b])})(l,_)};function te(l,_){function m(){this.constructor=l}O(l,_),l.prototype=null===_?Object.create(_):(m.prototype=_.prototype,new m)}var re=function(){return re=Object.assign||function(_){for(var m,S=1,b=arguments.length;S<b;S++)for(var d in m=arguments[S])Object.prototype.hasOwnProperty.call(m,d)&&(_[d]=m[d]);return _},re.apply(this,arguments)};function ae(l,_){var m={};for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&_.indexOf(S)<0&&(m[S]=l[S]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(l);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(l,S[b])&&(m[S[b]]=l[S[b]])}return m}function $(l,_,m,S){var x,b=arguments.length,d=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,m):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(l,_,m,S);else for(var A=l.length-1;A>=0;A--)(x=l[A])&&(d=(b<3?x(d):b>3?x(_,m,d):x(_,m))||d);return b>3&&d&&Object.defineProperty(_,m,d),d}function k(l,_){return function(m,S){_(m,S,l)}}function j(l,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,_)}function L(l,_,m,S){return new(m||(m=Promise))(function(d,x){function A(K){try{E(S.next(K))}catch(ue){x(ue)}}function N(K){try{E(S.throw(K))}catch(ue){x(ue)}}function E(K){K.done?d(K.value):function b(d){return d instanceof m?d:new m(function(x){x(d)})}(K.value).then(A,N)}E((S=S.apply(l,_||[])).next())})}function T(l,_){var S,b,d,x,m={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return x={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function A(E){return function(K){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;m;)try{if(S=1,b&&(d=2&E[0]?b.return:E[0]?b.throw||((d=b.return)&&d.call(b),0):b.next)&&!(d=d.call(b,E[1])).done)return d;switch(b=0,d&&(E=[2&E[0],d.value]),E[0]){case 0:case 1:d=E;break;case 4:return m.label++,{value:E[1],done:!1};case 5:m.label++,b=E[1],E=[0];continue;case 7:E=m.ops.pop(),m.trys.pop();continue;default:if(!(d=(d=m.trys).length>0&&d[d.length-1])&&(6===E[0]||2===E[0])){m=0;continue}if(3===E[0]&&(!d||E[1]>d[0]&&E[1]<d[3])){m.label=E[1];break}if(6===E[0]&&m.label<d[1]){m.label=d[1],d=E;break}if(d&&m.label<d[2]){m.label=d[2],m.ops.push(E);break}d[2]&&m.ops.pop(),m.trys.pop();continue}E=_.call(l,m)}catch(K){E=[6,K],b=0}finally{S=d=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,K])}}}function U(l,_,m,S){void 0===S&&(S=m),l[S]=_[m]}function oe(l,_){for(var m in l)"default"!==m&&!_.hasOwnProperty(m)&&(_[m]=l[m])}function ye(l){var _="function"==typeof Symbol&&Symbol.iterator,m=_&&l[_],S=0;if(m)return m.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&S>=l.length&&(l=void 0),{value:l&&l[S++],done:!l}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(l,_){var m="function"==typeof Symbol&&l[Symbol.iterator];if(!m)return l;var b,x,S=m.call(l),d=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)d.push(b.value)}catch(A){x={error:A}}finally{try{b&&!b.done&&(m=S.return)&&m.call(S)}finally{if(x)throw x.error}}return d}function fe(){for(var l=[],_=0;_<arguments.length;_++)l=l.concat(ne(arguments[_]));return l}function xe(){for(var l=0,_=0,m=arguments.length;_<m;_++)l+=arguments[_].length;var S=Array(l),b=0;for(_=0;_<m;_++)for(var d=arguments[_],x=0,A=d.length;x<A;x++,b++)S[b]=d[x];return S}function P(l){return this instanceof P?(this.v=l,this):new P(l)}function be(l,_,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=m.apply(l,_||[]),d=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(W){S[W]&&(b[W]=function(Re){return new Promise(function(me,Se){d.push([W,Re,me,Se])>1||A(W,Re)})})}function A(W,Re){try{!function N(W){W.value instanceof P?Promise.resolve(W.value.v).then(E,K):ue(d[0][2],W)}(S[W](Re))}catch(me){ue(d[0][3],me)}}function E(W){A("next",W)}function K(W){A("throw",W)}function ue(W,Re){W(Re),d.shift(),d.length&&A(d[0][0],d[0][1])}}function X(l){var _,m;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,d){_[b]=l[b]?function(x){return(m=!m)?{value:P(l[b](x)),done:"return"===b}:d?d(x):x}:d}}function ge(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m,_=l[Symbol.asyncIterator];return _?_.call(l):(l=ye(l),m={},S("next"),S("throw"),S("return"),m[Symbol.asyncIterator]=function(){return this},m);function S(d){m[d]=l[d]&&function(x){return new Promise(function(A,N){!function b(d,x,A,N){Promise.resolve(N).then(function(E){d({value:E,done:A})},x)}(A,N,(x=l[d](x)).done,x.value)})}}}function le(l,_){return Object.defineProperty?Object.defineProperty(l,"raw",{value:_}):l.raw=_,l}function H(l){if(l&&l.__esModule)return l;var _={};if(null!=l)for(var m in l)Object.hasOwnProperty.call(l,m)&&(_[m]=l[m]);return _.default=l,_}function Z(l){return l&&l.__esModule?l:{default:l}}function M(l,_){if(!_.has(l))throw new TypeError("attempted to get private field on non-instance");return _.get(l)}function p(l,_,m){if(!_.has(l))throw new TypeError("attempted to set private field on non-instance");return _.set(l,m),m}},57436:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>re,__asyncDelegator:()=>X,__asyncGenerator:()=>be,__asyncValues:()=>ge,__await:()=>P,__awaiter:()=>L,__classPrivateFieldGet:()=>M,__classPrivateFieldSet:()=>p,__createBinding:()=>U,__decorate:()=>$,__exportStar:()=>oe,__extends:()=>te,__generator:()=>T,__importDefault:()=>Z,__importStar:()=>H,__makeTemplateObject:()=>le,__metadata:()=>j,__param:()=>k,__read:()=>ne,__rest:()=>ae,__spread:()=>fe,__spreadArrays:()=>xe,__values:()=>ye});var O=function(l,_){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var b in S)S.hasOwnProperty(b)&&(m[b]=S[b])})(l,_)};function te(l,_){function m(){this.constructor=l}O(l,_),l.prototype=null===_?Object.create(_):(m.prototype=_.prototype,new m)}var re=function(){return re=Object.assign||function(_){for(var m,S=1,b=arguments.length;S<b;S++)for(var d in m=arguments[S])Object.prototype.hasOwnProperty.call(m,d)&&(_[d]=m[d]);return _},re.apply(this,arguments)};function ae(l,_){var m={};for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&_.indexOf(S)<0&&(m[S]=l[S]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(l);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(l,S[b])&&(m[S[b]]=l[S[b]])}return m}function $(l,_,m,S){var x,b=arguments.length,d=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,m):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(l,_,m,S);else for(var A=l.length-1;A>=0;A--)(x=l[A])&&(d=(b<3?x(d):b>3?x(_,m,d):x(_,m))||d);return b>3&&d&&Object.defineProperty(_,m,d),d}function k(l,_){return function(m,S){_(m,S,l)}}function j(l,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,_)}function L(l,_,m,S){return new(m||(m=Promise))(function(d,x){function A(K){try{E(S.next(K))}catch(ue){x(ue)}}function N(K){try{E(S.throw(K))}catch(ue){x(ue)}}function E(K){K.done?d(K.value):function b(d){return d instanceof m?d:new m(function(x){x(d)})}(K.value).then(A,N)}E((S=S.apply(l,_||[])).next())})}function T(l,_){var S,b,d,x,m={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return x={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function A(E){return function(K){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;m;)try{if(S=1,b&&(d=2&E[0]?b.return:E[0]?b.throw||((d=b.return)&&d.call(b),0):b.next)&&!(d=d.call(b,E[1])).done)return d;switch(b=0,d&&(E=[2&E[0],d.value]),E[0]){case 0:case 1:d=E;break;case 4:return m.label++,{value:E[1],done:!1};case 5:m.label++,b=E[1],E=[0];continue;case 7:E=m.ops.pop(),m.trys.pop();continue;default:if(!(d=(d=m.trys).length>0&&d[d.length-1])&&(6===E[0]||2===E[0])){m=0;continue}if(3===E[0]&&(!d||E[1]>d[0]&&E[1]<d[3])){m.label=E[1];break}if(6===E[0]&&m.label<d[1]){m.label=d[1],d=E;break}if(d&&m.label<d[2]){m.label=d[2],m.ops.push(E);break}d[2]&&m.ops.pop(),m.trys.pop();continue}E=_.call(l,m)}catch(K){E=[6,K],b=0}finally{S=d=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,K])}}}function U(l,_,m,S){void 0===S&&(S=m),l[S]=_[m]}function oe(l,_){for(var m in l)"default"!==m&&!_.hasOwnProperty(m)&&(_[m]=l[m])}function ye(l){var _="function"==typeof Symbol&&Symbol.iterator,m=_&&l[_],S=0;if(m)return m.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&S>=l.length&&(l=void 0),{value:l&&l[S++],done:!l}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(l,_){var m="function"==typeof Symbol&&l[Symbol.iterator];if(!m)return l;var b,x,S=m.call(l),d=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)d.push(b.value)}catch(A){x={error:A}}finally{try{b&&!b.done&&(m=S.return)&&m.call(S)}finally{if(x)throw x.error}}return d}function fe(){for(var l=[],_=0;_<arguments.length;_++)l=l.concat(ne(arguments[_]));return l}function xe(){for(var l=0,_=0,m=arguments.length;_<m;_++)l+=arguments[_].length;var S=Array(l),b=0;for(_=0;_<m;_++)for(var d=arguments[_],x=0,A=d.length;x<A;x++,b++)S[b]=d[x];return S}function P(l){return this instanceof P?(this.v=l,this):new P(l)}function be(l,_,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=m.apply(l,_||[]),d=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(W){S[W]&&(b[W]=function(Re){return new Promise(function(me,Se){d.push([W,Re,me,Se])>1||A(W,Re)})})}function A(W,Re){try{!function N(W){W.value instanceof P?Promise.resolve(W.value.v).then(E,K):ue(d[0][2],W)}(S[W](Re))}catch(me){ue(d[0][3],me)}}function E(W){A("next",W)}function K(W){A("throw",W)}function ue(W,Re){W(Re),d.shift(),d.length&&A(d[0][0],d[0][1])}}function X(l){var _,m;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,d){_[b]=l[b]?function(x){return(m=!m)?{value:P(l[b](x)),done:"return"===b}:d?d(x):x}:d}}function ge(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m,_=l[Symbol.asyncIterator];return _?_.call(l):(l=ye(l),m={},S("next"),S("throw"),S("return"),m[Symbol.asyncIterator]=function(){return this},m);function S(d){m[d]=l[d]&&function(x){return new Promise(function(A,N){!function b(d,x,A,N){Promise.resolve(N).then(function(E){d({value:E,done:A})},x)}(A,N,(x=l[d](x)).done,x.value)})}}}function le(l,_){return Object.defineProperty?Object.defineProperty(l,"raw",{value:_}):l.raw=_,l}function H(l){if(l&&l.__esModule)return l;var _={};if(null!=l)for(var m in l)Object.hasOwnProperty.call(l,m)&&(_[m]=l[m]);return _.default=l,_}function Z(l){return l&&l.__esModule?l:{default:l}}function M(l,_){if(!_.has(l))throw new TypeError("attempted to get private field on non-instance");return _.get(l)}function p(l,_,m){if(!_.has(l))throw new TypeError("attempted to set private field on non-instance");return _.set(l,m),m}},17978:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>re,__asyncDelegator:()=>X,__asyncGenerator:()=>be,__asyncValues:()=>ge,__await:()=>P,__awaiter:()=>L,__classPrivateFieldGet:()=>M,__classPrivateFieldSet:()=>p,__createBinding:()=>U,__decorate:()=>$,__exportStar:()=>oe,__extends:()=>te,__generator:()=>T,__importDefault:()=>Z,__importStar:()=>H,__makeTemplateObject:()=>le,__metadata:()=>j,__param:()=>k,__read:()=>ne,__rest:()=>ae,__spread:()=>fe,__spreadArrays:()=>xe,__values:()=>ye});var O=function(l,_){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var b in S)S.hasOwnProperty(b)&&(m[b]=S[b])})(l,_)};function te(l,_){function m(){this.constructor=l}O(l,_),l.prototype=null===_?Object.create(_):(m.prototype=_.prototype,new m)}var re=function(){return re=Object.assign||function(_){for(var m,S=1,b=arguments.length;S<b;S++)for(var d in m=arguments[S])Object.prototype.hasOwnProperty.call(m,d)&&(_[d]=m[d]);return _},re.apply(this,arguments)};function ae(l,_){var m={};for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&_.indexOf(S)<0&&(m[S]=l[S]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(l);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(l,S[b])&&(m[S[b]]=l[S[b]])}return m}function $(l,_,m,S){var x,b=arguments.length,d=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,m):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(l,_,m,S);else for(var A=l.length-1;A>=0;A--)(x=l[A])&&(d=(b<3?x(d):b>3?x(_,m,d):x(_,m))||d);return b>3&&d&&Object.defineProperty(_,m,d),d}function k(l,_){return function(m,S){_(m,S,l)}}function j(l,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,_)}function L(l,_,m,S){return new(m||(m=Promise))(function(d,x){function A(K){try{E(S.next(K))}catch(ue){x(ue)}}function N(K){try{E(S.throw(K))}catch(ue){x(ue)}}function E(K){K.done?d(K.value):function b(d){return d instanceof m?d:new m(function(x){x(d)})}(K.value).then(A,N)}E((S=S.apply(l,_||[])).next())})}function T(l,_){var S,b,d,x,m={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return x={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function A(E){return function(K){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;m;)try{if(S=1,b&&(d=2&E[0]?b.return:E[0]?b.throw||((d=b.return)&&d.call(b),0):b.next)&&!(d=d.call(b,E[1])).done)return d;switch(b=0,d&&(E=[2&E[0],d.value]),E[0]){case 0:case 1:d=E;break;case 4:return m.label++,{value:E[1],done:!1};case 5:m.label++,b=E[1],E=[0];continue;case 7:E=m.ops.pop(),m.trys.pop();continue;default:if(!(d=(d=m.trys).length>0&&d[d.length-1])&&(6===E[0]||2===E[0])){m=0;continue}if(3===E[0]&&(!d||E[1]>d[0]&&E[1]<d[3])){m.label=E[1];break}if(6===E[0]&&m.label<d[1]){m.label=d[1],d=E;break}if(d&&m.label<d[2]){m.label=d[2],m.ops.push(E);break}d[2]&&m.ops.pop(),m.trys.pop();continue}E=_.call(l,m)}catch(K){E=[6,K],b=0}finally{S=d=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,K])}}}function U(l,_,m,S){void 0===S&&(S=m),l[S]=_[m]}function oe(l,_){for(var m in l)"default"!==m&&!_.hasOwnProperty(m)&&(_[m]=l[m])}function ye(l){var _="function"==typeof Symbol&&Symbol.iterator,m=_&&l[_],S=0;if(m)return m.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&S>=l.length&&(l=void 0),{value:l&&l[S++],done:!l}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(l,_){var m="function"==typeof Symbol&&l[Symbol.iterator];if(!m)return l;var b,x,S=m.call(l),d=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)d.push(b.value)}catch(A){x={error:A}}finally{try{b&&!b.done&&(m=S.return)&&m.call(S)}finally{if(x)throw x.error}}return d}function fe(){for(var l=[],_=0;_<arguments.length;_++)l=l.concat(ne(arguments[_]));return l}function xe(){for(var l=0,_=0,m=arguments.length;_<m;_++)l+=arguments[_].length;var S=Array(l),b=0;for(_=0;_<m;_++)for(var d=arguments[_],x=0,A=d.length;x<A;x++,b++)S[b]=d[x];return S}function P(l){return this instanceof P?(this.v=l,this):new P(l)}function be(l,_,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=m.apply(l,_||[]),d=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(W){S[W]&&(b[W]=function(Re){return new Promise(function(me,Se){d.push([W,Re,me,Se])>1||A(W,Re)})})}function A(W,Re){try{!function N(W){W.value instanceof P?Promise.resolve(W.value.v).then(E,K):ue(d[0][2],W)}(S[W](Re))}catch(me){ue(d[0][3],me)}}function E(W){A("next",W)}function K(W){A("throw",W)}function ue(W,Re){W(Re),d.shift(),d.length&&A(d[0][0],d[0][1])}}function X(l){var _,m;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,d){_[b]=l[b]?function(x){return(m=!m)?{value:P(l[b](x)),done:"return"===b}:d?d(x):x}:d}}function ge(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m,_=l[Symbol.asyncIterator];return _?_.call(l):(l=ye(l),m={},S("next"),S("throw"),S("return"),m[Symbol.asyncIterator]=function(){return this},m);function S(d){m[d]=l[d]&&function(x){return new Promise(function(A,N){!function b(d,x,A,N){Promise.resolve(N).then(function(E){d({value:E,done:A})},x)}(A,N,(x=l[d](x)).done,x.value)})}}}function le(l,_){return Object.defineProperty?Object.defineProperty(l,"raw",{value:_}):l.raw=_,l}function H(l){if(l&&l.__esModule)return l;var _={};if(null!=l)for(var m in l)Object.hasOwnProperty.call(l,m)&&(_[m]=l[m]);return _.default=l,_}function Z(l){return l&&l.__esModule?l:{default:l}}function M(l,_){if(!_.has(l))throw new TypeError("attempted to get private field on non-instance");return _.get(l)}function p(l,_,m){if(!_.has(l))throw new TypeError("attempted to set private field on non-instance");return _.set(l,m),m}},80017:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>re,__asyncDelegator:()=>X,__asyncGenerator:()=>be,__asyncValues:()=>ge,__await:()=>P,__awaiter:()=>L,__classPrivateFieldGet:()=>M,__classPrivateFieldSet:()=>p,__createBinding:()=>U,__decorate:()=>$,__exportStar:()=>oe,__extends:()=>te,__generator:()=>T,__importDefault:()=>Z,__importStar:()=>H,__makeTemplateObject:()=>le,__metadata:()=>j,__param:()=>k,__read:()=>ne,__rest:()=>ae,__spread:()=>fe,__spreadArrays:()=>xe,__values:()=>ye});var O=function(l,_){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var b in S)S.hasOwnProperty(b)&&(m[b]=S[b])})(l,_)};function te(l,_){function m(){this.constructor=l}O(l,_),l.prototype=null===_?Object.create(_):(m.prototype=_.prototype,new m)}var re=function(){return re=Object.assign||function(_){for(var m,S=1,b=arguments.length;S<b;S++)for(var d in m=arguments[S])Object.prototype.hasOwnProperty.call(m,d)&&(_[d]=m[d]);return _},re.apply(this,arguments)};function ae(l,_){var m={};for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&_.indexOf(S)<0&&(m[S]=l[S]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(l);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(l,S[b])&&(m[S[b]]=l[S[b]])}return m}function $(l,_,m,S){var x,b=arguments.length,d=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,m):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(l,_,m,S);else for(var A=l.length-1;A>=0;A--)(x=l[A])&&(d=(b<3?x(d):b>3?x(_,m,d):x(_,m))||d);return b>3&&d&&Object.defineProperty(_,m,d),d}function k(l,_){return function(m,S){_(m,S,l)}}function j(l,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,_)}function L(l,_,m,S){return new(m||(m=Promise))(function(d,x){function A(K){try{E(S.next(K))}catch(ue){x(ue)}}function N(K){try{E(S.throw(K))}catch(ue){x(ue)}}function E(K){K.done?d(K.value):function b(d){return d instanceof m?d:new m(function(x){x(d)})}(K.value).then(A,N)}E((S=S.apply(l,_||[])).next())})}function T(l,_){var S,b,d,x,m={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return x={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function A(E){return function(K){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;m;)try{if(S=1,b&&(d=2&E[0]?b.return:E[0]?b.throw||((d=b.return)&&d.call(b),0):b.next)&&!(d=d.call(b,E[1])).done)return d;switch(b=0,d&&(E=[2&E[0],d.value]),E[0]){case 0:case 1:d=E;break;case 4:return m.label++,{value:E[1],done:!1};case 5:m.label++,b=E[1],E=[0];continue;case 7:E=m.ops.pop(),m.trys.pop();continue;default:if(!(d=(d=m.trys).length>0&&d[d.length-1])&&(6===E[0]||2===E[0])){m=0;continue}if(3===E[0]&&(!d||E[1]>d[0]&&E[1]<d[3])){m.label=E[1];break}if(6===E[0]&&m.label<d[1]){m.label=d[1],d=E;break}if(d&&m.label<d[2]){m.label=d[2],m.ops.push(E);break}d[2]&&m.ops.pop(),m.trys.pop();continue}E=_.call(l,m)}catch(K){E=[6,K],b=0}finally{S=d=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,K])}}}function U(l,_,m,S){void 0===S&&(S=m),l[S]=_[m]}function oe(l,_){for(var m in l)"default"!==m&&!_.hasOwnProperty(m)&&(_[m]=l[m])}function ye(l){var _="function"==typeof Symbol&&Symbol.iterator,m=_&&l[_],S=0;if(m)return m.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&S>=l.length&&(l=void 0),{value:l&&l[S++],done:!l}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(l,_){var m="function"==typeof Symbol&&l[Symbol.iterator];if(!m)return l;var b,x,S=m.call(l),d=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)d.push(b.value)}catch(A){x={error:A}}finally{try{b&&!b.done&&(m=S.return)&&m.call(S)}finally{if(x)throw x.error}}return d}function fe(){for(var l=[],_=0;_<arguments.length;_++)l=l.concat(ne(arguments[_]));return l}function xe(){for(var l=0,_=0,m=arguments.length;_<m;_++)l+=arguments[_].length;var S=Array(l),b=0;for(_=0;_<m;_++)for(var d=arguments[_],x=0,A=d.length;x<A;x++,b++)S[b]=d[x];return S}function P(l){return this instanceof P?(this.v=l,this):new P(l)}function be(l,_,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=m.apply(l,_||[]),d=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(W){S[W]&&(b[W]=function(Re){return new Promise(function(me,Se){d.push([W,Re,me,Se])>1||A(W,Re)})})}function A(W,Re){try{!function N(W){W.value instanceof P?Promise.resolve(W.value.v).then(E,K):ue(d[0][2],W)}(S[W](Re))}catch(me){ue(d[0][3],me)}}function E(W){A("next",W)}function K(W){A("throw",W)}function ue(W,Re){W(Re),d.shift(),d.length&&A(d[0][0],d[0][1])}}function X(l){var _,m;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,d){_[b]=l[b]?function(x){return(m=!m)?{value:P(l[b](x)),done:"return"===b}:d?d(x):x}:d}}function ge(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m,_=l[Symbol.asyncIterator];return _?_.call(l):(l=ye(l),m={},S("next"),S("throw"),S("return"),m[Symbol.asyncIterator]=function(){return this},m);function S(d){m[d]=l[d]&&function(x){return new Promise(function(A,N){!function b(d,x,A,N){Promise.resolve(N).then(function(E){d({value:E,done:A})},x)}(A,N,(x=l[d](x)).done,x.value)})}}}function le(l,_){return Object.defineProperty?Object.defineProperty(l,"raw",{value:_}):l.raw=_,l}function H(l){if(l&&l.__esModule)return l;var _={};if(null!=l)for(var m in l)Object.hasOwnProperty.call(l,m)&&(_[m]=l[m]);return _.default=l,_}function Z(l){return l&&l.__esModule?l:{default:l}}function M(l,_){if(!_.has(l))throw new TypeError("attempted to get private field on non-instance");return _.get(l)}function p(l,_,m){if(!_.has(l))throw new TypeError("attempted to set private field on non-instance");return _.set(l,m),m}},22694:(Pe,g,D)=>{"use strict";const O=D(71778);Pe.exports=$;const te=function Z(){function M(p){return typeof p<"u"&&p}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return M(self)||M(window)||M(this)||{}}}().console||{},re={mapHttpRequest:xe,mapHttpResponse:xe,wrapRequestSerializer:P,wrapResponseSerializer:P,wrapErrorSerializer:P,req:xe,res:xe,err:function ne(M){const p={type:M.constructor.name,msg:M.message,stack:M.stack};for(const l in M)void 0===p[l]&&(p[l]=M[l]);return p}};function $(M){(M=M||{}).browser=M.browser||{};const p=M.browser.transmit;if(p&&"function"!=typeof p.send)throw Error("pino: transmit option must have a send function");const l=M.browser.write||te;M.browser.write&&(M.browser.asObject=!0);const _=M.serializers||{},m=function ae(M,p){return Array.isArray(M)?M.filter(function(_){return"!stdSerializers.err"!==_}):!0===M&&Object.keys(p)}(M.browser.serialize,_);let S=M.browser.serialize;Array.isArray(M.browser.serialize)&&M.browser.serialize.indexOf("!stdSerializers.err")>-1&&(S=!1),"function"==typeof l&&(l.error=l.fatal=l.warn=l.info=l.debug=l.trace=l),!1===M.enabled&&(M.level="silent");const d=M.level||"info",x=Object.create(l);x.log||(x.log=be),Object.defineProperty(x,"levelVal",{get:function N(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(x,"level",{get:function E(){return this._level},set:function K(W){if("silent"!==W&&!this.levels.values[W])throw Error("unknown level "+W);this._level=W,k(A,x,"error","log"),k(A,x,"fatal","error"),k(A,x,"warn","error"),k(A,x,"info","log"),k(A,x,"debug","log"),k(A,x,"trace","log")}});const A={transmit:p,serialize:m,asObject:M.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:fe(M)};return x.levels=$.levels,x.level=d,x.setMaxListeners=x.getMaxListeners=x.emit=x.addListener=x.on=x.prependListener=x.once=x.prependOnceListener=x.removeListener=x.removeAllListeners=x.listeners=x.listenerCount=x.eventNames=x.write=x.flush=be,x.serializers=_,x._serialize=m,x._stdErrSerialize=S,x.child=function ue(W,Re){if(!W)throw new Error("missing bindings for child Pino");Re=Re||{},m&&W.serializers&&(Re.serializers=W.serializers);const me=Re.serializers;if(m&&me){var Se=Object.assign({},_,me),Ue=!0===M.browser.serialize?Object.keys(Se):m;delete W.serializers,T([W],Ue,Se,this._stdErrSerialize)}function Le(Me){this._childLevel=1+(0|Me._childLevel),this.error=U(Me,W,"error"),this.fatal=U(Me,W,"fatal"),this.warn=U(Me,W,"warn"),this.info=U(Me,W,"info"),this.debug=U(Me,W,"debug"),this.trace=U(Me,W,"trace"),Se&&(this.serializers=Se,this._serialize=Ue),p&&(this._logEvent=ye([].concat(Me._logEvent.bindings,W)))}return Le.prototype=this,new Le(this)},p&&(x._logEvent=ye()),x}function k(M,p,l,_){const m=Object.getPrototypeOf(p);p[l]=p.levelVal>p.levels.values[l]?be:m[l]?m[l]:te[l]||te[_]||be,function j(M,p,l){!M.transmit&&p[l]===be||(p[l]=function(_){return function(){const S=M.timestamp(),b=new Array(arguments.length),d=Object.getPrototypeOf&&Object.getPrototypeOf(this)===te?te:this;for(var x=0;x<b.length;x++)b[x]=arguments[x];if(M.serialize&&!M.asObject&&T(b,this._serialize,this.serializers,this._stdErrSerialize),M.asObject?_.call(d,L(this,l,b,S)):_.apply(d,b),M.transmit){const A=M.transmit.level||p.level,E=$.levels.values[l];if(E<$.levels.values[A])return;oe(this,{ts:S,methodLevel:l,methodValue:E,transmitLevel:A,transmitValue:$.levels.values[M.transmit.level||p.level],send:M.transmit.send,val:p.levelVal},b)}}}(p[l]))}(M,p,l)}function L(M,p,l,_){M._serialize&&T(l,M._serialize,M.serializers,M._stdErrSerialize);const m=l.slice();let S=m[0];const b={};_&&(b.time=_),b.level=$.levels.values[p];let d=1+(0|M._childLevel);if(d<1&&(d=1),null!==S&&"object"==typeof S){for(;d--&&"object"==typeof m[0];)Object.assign(b,m.shift());S=m.length?O(m.shift(),m):void 0}else"string"==typeof S&&(S=O(m.shift(),m));return void 0!==S&&(b.msg=S),b}function T(M,p,l,_){for(const m in M)if(_&&M[m]instanceof Error)M[m]=$.stdSerializers.err(M[m]);else if("object"==typeof M[m]&&!Array.isArray(M[m]))for(const S in M[m])p&&p.indexOf(S)>-1&&S in l&&(M[m][S]=l[S](M[m][S]))}function U(M,p,l){return function(){const _=new Array(1+arguments.length);_[0]=p;for(var m=1;m<_.length;m++)_[m]=arguments[m-1];return M[l].apply(this,_)}}function oe(M,p,l){const _=p.send,m=p.ts,S=p.methodLevel,b=p.methodValue,d=p.val,x=M._logEvent.bindings;T(l,M._serialize||Object.keys(M.serializers),M.serializers,void 0===M._stdErrSerialize||M._stdErrSerialize),M._logEvent.ts=m,M._logEvent.messages=l.filter(function(A){return-1===x.indexOf(A)}),M._logEvent.level.label=S,M._logEvent.level.value=b,_(S,M._logEvent,d),M._logEvent=ye(x)}function ye(M){return{ts:0,messages:[],bindings:M||[],level:{label:"",value:0}}}function fe(M){return"function"==typeof M.timestamp?M.timestamp:!1===M.timestamp?X:ge}function xe(){return{}}function P(M){return M}function be(){}function X(){return!1}function ge(){return Date.now()}$.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},$.stdSerializers=re,$.stdTimeFunctions=Object.assign({},{nullTime:X,epochTime:ge,unixTime:function le(){return Math.round(Date.now()/1e3)},isoTime:function H(){return new Date(Date.now()).toISOString()}})}}]);