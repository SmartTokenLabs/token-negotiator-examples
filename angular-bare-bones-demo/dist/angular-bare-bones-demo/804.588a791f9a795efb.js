(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[804],{88804:($,S,m)=>{"use strict";m.r(S),m.d(S,{getTorusProviderInstance:()=>mn});var y=m(34553);function M(U,E,v){return E in U?Object.defineProperty(U,E,{value:v,enumerable:!0,configurable:!0,writable:!0}):U[E]=v,U}var i=m(83096),c=m.n(i),s=m(66638);const f={ROPSTEN:"ropsten",MAINNET:"mainnet",POLYGON:"polygon-mainnet"},u=[{inputs:[{internalType:"string",name:"_verifier",type:"string"},{internalType:"bytes32",name:"hashedVerifierId",type:"bytes32"}],name:"getNodeSet",outputs:[{internalType:"uint256",name:"currentEpoch",type:"uint256"},{internalType:"string[]",name:"torusNodeEndpoints",type:"string[]"},{internalType:"uint256[]",name:"torusNodePubX",type:"uint256[]"},{internalType:"uint256[]",name:"torusNodePubY",type:"uint256[]"},{internalType:"uint256[]",name:"torusIndexes",type:"uint256[]"}],stateMutability:"view",type:"function"}];class p{constructor(){let _,{network:E=f.MAINNET,proxyAddress:v=p.PROXY_ADDRESS_MAINNET}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,"_currentEpoch",""),M(this,"_torusNodeEndpoints",[]),M(this,"_torusNodePub",[]),M(this,"_torusIndexes",[]),M(this,"nodeListAddress",void 0),M(this,"updated",void 0),M(this,"nodeListContract",void 0);try{_=new URL(E).href}catch{const K="b8cdb0e4cff24599a286bf8e87ff1c96";_="https://".concat(E,".infura.io/v3/").concat(K)}c().setProvider(_),this.nodeListContract=new(c())(u,v),this.nodeListAddress=v,this.updated=!1}get _nodeDetails(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}getNodeDetails(E){var v=this;return(0,y.Z)(function*(){let{verifier:_,verifierId:k}=E;try{if(v.updated&&(v.nodeListAddress===p.PROXY_ADDRESS_MAINNET||v.nodeListAddress===p.PROXY_ADDRESS_ROPSTEN))return v._nodeDetails;const K=(0,s.keccak256)(k),J=yield v.nodeListContract.methods.getNodeSet(_,K).call(),{currentEpoch:et,torusNodeEndpoints:at,torusNodePubX:it,torusNodePubY:ut,torusIndexes:ct}=J;v._currentEpoch=et,v._torusIndexes=ct.map(xt=>Number(xt));const yt=[],Xt=[];for(let xt=0;xt<at.length;xt+=1){const Jt=it[xt],Pt=ut[xt],ee="https://".concat(at[xt].split(":")[0],"/jrpc");yt.push(ee),Xt.push({X:(0,s.toHex)(Jt).replace("0x",""),Y:(0,s.toHex)(Pt).replace("0x","")})}return v._torusNodeEndpoints=yt,v._torusNodePub=Xt,v.updated=!0,v._nodeDetails}catch(K){if(v.nodeListAddress===p.PROXY_ADDRESS_MAINNET)return p.NODE_DETAILS_MAINNET;throw K}})()}}M(p,"PROXY_ADDRESS_MAINNET","0xf20336e16B5182637f09821c27BDe29b0AFcfe80"),M(p,"PROXY_ADDRESS_ROPSTEN","0x6258c9d6c12ed3edda59a1a6527e469517744aa7"),M(p,"PROXY_ADDRESS_POLYGON","0x9f072ba19b3370e512aa1b4bfcdaf97283168005"),M(p,"NODE_DETAILS_MAINNET",{currentEpoch:"19",nodeListAddress:p.PROXY_ADDRESS_MAINNET,torusNodeEndpoints:["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"],torusIndexes:[1,2,3,4,5,6,7,8,9],torusNodePub:[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}],updated:!1});var l=m(28648),b=m.n(l),x=m(24393),O=m.n(x);function R(U,E){var v=Object.keys(U);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(U);E&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(U,k).enumerable})),v.push.apply(v,_)}return v}function D(U){for(var E=1;E<arguments.length;E++){var v=null!=arguments[E]?arguments[E]:{};E%2?R(Object(v),!0).forEach(function(_){M(U,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(v)):R(Object(v)).forEach(function(_){Object.defineProperty(U,_,Object.getOwnPropertyDescriptor(v,_))})}return U}const C=O().getLogger("http-helpers");C.setLevel(x.levels.INFO);let F="torus-default",j="";function o(U){F=U}function B(U,E){return d.apply(this,arguments)}function d(){return(d=(0,y.Z)(function*(U,E){let v=null;try{v=new URL(U)}catch{}return fetch(U,E)})).apply(this,arguments)}function e(){const U={};return F&&(U["x-api-key"]=F),j&&(U["x-embed-host"]=j),U}function n(U){C.info("Response: ".concat(U.status," ").concat(U.statusText)),C.info("Url: ".concat(U.url))}const I=(U,E)=>{const v=new Promise((_,k)=>{const K=setTimeout(()=>{clearTimeout(K),k(new Error("Timed out in ".concat(U,"ms")))},U)});return Promise.race([E,v])},W=function(){var U=(0,y.Z)(function*(E){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const k={mode:"cors",headers:{}};_.useAPIKey&&(k.headers=D(D({},k.headers),e()));const K=b()(k,v,{method:"GET"}),J=yield B(E,K);if(J.ok)return J.json();throw n(J),J});return function(v){return U.apply(this,arguments)}}(),X=function(U){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const k={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};_.useAPIKey&&(k.headers=D(D({},k.headers),e()));const K=b()(k,v,{method:"POST"});return _.isUrlEncodedData?(K.body=E,"application/json; charset=utf-8"===K.headers["Content-Type"]&&delete K.headers["Content-Type"]):K.body=JSON.stringify(E),I(_.timeout||6e4,B(U,K).then(J=>{if(J.ok)return J.json();throw n(J),J}))},ft=(U,E)=>({jsonrpc:"2.0",method:U,id:10,params:E});var ht=m(23225),L=m(67505),V=m.n(L),nt=(m(90344),m(78556)),Yt=m.n(nt);URL;var At=m(2272),Tt=m(93726),ge=m.n(Tt),mt=m(85327),wt=m(6875),Ue=m.n(wt),It=m(23866),Nt=m.n(It),ze=m(16010),Ct=m.n(ze);function _t(){}class Ye extends ht.Duplex{constructor(E){let{name:v,target:_,targetWindow:k=window,targetOrigin:K="*"}=E;if(super({objectMode:!0}),M(this,"_init",void 0),M(this,"_haveSyn",void 0),M(this,"_name",void 0),M(this,"_target",void 0),M(this,"_targetWindow",void 0),M(this,"_targetOrigin",void 0),M(this,"_onMessage",void 0),M(this,"_synIntervalId",void 0),!v||!_)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=v,this._target=_,this._targetWindow=k,this._targetOrigin=K,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,_t),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,_t),this.cork()}_onData(E){if(this._init)if("BRK"===E)this._break();else try{this.push(E)}catch(v){this.emit("error",v)}else"SYN"===E?(this._haveSyn=!0,this._write("ACK",null,_t)):"ACK"===E&&(this._init=!0,this._haveSyn||this._write("ACK",null,_t),this.uncork())}_postMessage(E){this._targetWindow.postMessage({target:this._target,data:E},this._targetOrigin)}onMessage(E){const v=E.data;"*"!==this._targetOrigin&&E.origin!==this._targetOrigin||E.source!==this._targetWindow||"object"!=typeof v||v.target!==this._name||!v.data||this._onData(v.data)}_read(){}_write(E,v,_){this._postMessage(E),_()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function Rt(U,E,v){try{Reflect.apply(U,E,v)}catch(_){setTimeout(()=>{throw _})}}class Be extends At.EventEmitter{emit(E){let v="error"===E;const _=this._events;if(void 0!==_)v=v&&void 0===_.error;else if(!v)return!1;for(var k=arguments.length,K=new Array(k>1?k-1:0),J=1;J<k;J++)K[J-1]=arguments[J];if(v){let at;if(K.length>0&&([at]=K),at instanceof Error)throw at;const it=new Error("Unhandled error.".concat(at?" (".concat(at.message,")"):""));throw it.context=at,it}const et=_[E];if(void 0===et)return!1;if("function"==typeof et)Rt(et,this,K);else{const at=et.length,it=function jt(U){const E=U.length,v=new Array(E);for(let _=0;_<E;_+=1)v[_]=U[_];return v}(et);for(let ut=0;ut<at;ut+=1)Rt(it[ut],this,K)}return!0}}class gt extends Error{constructor(E){let{code:v,message:_,data:k}=E;if(!Number.isInteger(v))throw new Error("code must be an integer");if(!_||"string"!=typeof _)throw new Error("message must be string");super(_),M(this,"code",void 0),M(this,"data",void 0),this.code=v,void 0!==k&&(this.data=k)}toString(){return ge()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function pe(U,E){var v=Object.keys(U);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(U);E&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(U,k).enumerable})),v.push.apply(v,_)}return v}class Mt extends Be{constructor(){super(),M(this,"_middleware",void 0),this._middleware=[]}static _runAllMiddleware(E,v,_){return(0,y.Z)(function*(){const k=[];let K=null,J=!1;for(const et of _)if([K,J]=yield Mt._runMiddleware(E,v,et,k),J)break;return[K,J,k.reverse()]})()}static _runMiddleware(E,v,_,k){return new Promise(K=>{const J=at=>{const it=at||v.error;it&&(v.error=(0,mt.serializeError)(it)),K([it,!0])},et=at=>{v.error?J(v.error):(at&&("function"!=typeof at&&J(new gt({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),k.push(at)),K([null,!1]))};try{_(E,v,et,J)}catch(at){J(at)}})}static _runReturnHandlers(E){return(0,y.Z)(function*(){for(const v of E)yield new Promise((_,k)=>{v(K=>K?k(K):_())})})()}static _checkForCompletion(E,v,_){if(!("result"in v)&&!("error"in v))throw new gt({code:-32603,message:"Response has no error or result for request"});if(!_)throw new gt({code:-32603,message:"Nothing ended request"})}push(E){this._middleware.push(E)}handle(E,v){if(v&&"function"!=typeof v)throw new Error('"callback" must be a function if provided.');return Array.isArray(E)?v?this._handleBatch(E,v):this._handleBatch(E):v?this._handle(E,v):this._promiseHandle(E)}asMiddleware(){var E=this;return function(){var v=(0,y.Z)(function*(_,k,K,J){try{const[et,at,it]=yield Mt._runAllMiddleware(_,k,E._middleware);return at?(yield Mt._runReturnHandlers(it),J(et)):K(function(){var ut=(0,y.Z)(function*(ct){try{yield Mt._runReturnHandlers(it)}catch(yt){return ct(yt)}return ct()});return function(ct){return ut.apply(this,arguments)}}())}catch(et){return J(et)}});return function(_,k,K,J){return v.apply(this,arguments)}}()}_handleBatch(E,v){var _=this;return(0,y.Z)(function*(){try{const k=yield Promise.all(E.map(_._promiseHandle.bind(_)));return v?v(null,k):k}catch(k){if(v)return v(k);throw k}})()}_promiseHandle(E){return new Promise(v=>{this._handle(E,(_,k)=>{v(k)})})}_handle(E,v){var _=this;return(0,y.Z)(function*(){if(!E||Array.isArray(E)||"object"!=typeof E){const et=new gt({code:-32603,message:"request must be plain object"});return v(et,{id:void 0,jsonrpc:"2.0",error:et})}if("string"!=typeof E.method){const et=new gt({code:-32603,message:"method must be string"});return v(et,{id:E.id,jsonrpc:"2.0",error:et})}const k=function Ft(U){for(var E=1;E<arguments.length;E++){var v=null!=arguments[E]?arguments[E]:{};E%2?pe(Object(v),!0).forEach(function(_){M(U,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(v)):pe(Object(v)).forEach(function(_){Object.defineProperty(U,_,Object.getOwnPropertyDescriptor(v,_))})}return U}({},E),K={id:k.id,jsonrpc:k.jsonrpc};let J=null;try{yield _._processRequest(k,K)}catch(et){J=et}return J&&(delete K.result,K.error||(K.error=(0,mt.serializeError)(J))),v(J,K)})()}_processRequest(E,v){var _=this;return(0,y.Z)(function*(){const[k,K,J]=yield Mt._runAllMiddleware(E,v,_._middleware);if(Mt._checkForCompletion(E,v,K),yield Mt._runReturnHandlers(J),k)throw k})()}}class Ut extends ht.Duplex{constructor(E){let{parent:v,name:_}=E;super({objectMode:!0}),M(this,"_parent",void 0),M(this,"_name",void 0),this._parent=v,this._name=_}_read(){}_write(E,v,_){this._parent.push({name:this._name,data:E}),_()}}function ye(U,E){var v=Object.keys(U);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(U);E&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(U,k).enumerable})),v.push.apply(v,_)}return v}function Lt(U){for(var E=1;E<arguments.length;E++){var v=null!=arguments[E]?arguments[E]:{};E%2?ye(Object(v),!0).forEach(function(_){M(U,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(v)):ye(Object(v)).forEach(function(_){Object.defineProperty(U,_,Object.getOwnPropertyDescriptor(v,_))})}return U}const Dt=Symbol("IGNORE_SUBSTREAM");class Je extends ht.Duplex{constructor(){super(Lt(Lt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{objectMode:!0})),M(this,"_substreams",void 0),M(this,"getStream",void 0),this._substreams={}}createStream(E){if(!E)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[E])throw new Error('ObjectMultiplex - Substream for name "'.concat(E,'" already exists'));const v=new Ut({parent:this,name:E});return this._substreams[E]=v,function Ht(U,E){const v=Nt()(E);Ue()(U,{readable:!1},v),Ue()(U,{writable:!1},v)}(this,_=>v.destroy(_||void 0)),v}ignoreStream(E){if(!E)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[E])throw new Error('ObjectMultiplex - Substream for name "'.concat(E,'" already exists'));this._substreams[E]=Dt}_read(){}_write(E,v,_){const{name:k,data:K}=E;if(!k)return window.console.warn('ObjectMultiplex - malformed chunk without name "'.concat(E,'"')),_();const J=this._substreams[k];return J?(J!==Dt&&J.push(K),_()):(window.console.warn('ObjectMultiplex - orphaned data for stream "'.concat(k,'"')),_())}}var we=m(15814),He=m(17907),te=m.n(He),Ke=m(4913),We=m(18535),De=m.n(We);const oe=O().getLogger("torus.js");oe.disableAll();class Oe extends Error{constructor(E){let{errors:v,responses:_,predicate:k}=E;super("Unable to resolve enough promises."),M(this,"errors",void 0),M(this,"responses",void 0),M(this,"predicate",void 0),this.errors=v,this.responses=_,this.predicate=k}}const Me=(U,E)=>new Promise((v,_)=>{let k=0;const K={resolved:!1},J=new Array(U.length).fill(void 0),et=new Array(U.length).fill(void 0);let at;return U.forEach((it,ut)=>it.then(ct=>{et[ut]=ct}).catch(ct=>{J[ut]=ct}).finally(()=>{if(!K.resolved)return E(et.slice(0),K).then(ct=>{K.resolved=!0,v(ct)}).catch(ct=>{at=ct}).finally(()=>{if(k+=1,k===U.length){const yt=Object.values(et.reduce((Xt,xt)=>{if(xt){var Et;const{id:Jt,error:Pt}=xt;(null==Pt||null===(Et=Pt.data)||void 0===Et?void 0:Et.length)>0&&(Xt[Jt]=Pt.data.startsWith("Error occurred while verifying params")?function Ve(U){return U.charAt(0).toUpperCase()+U.slice(1)}(Pt.data):Pt.data)}return Xt},{}));if(yt.length>0){const Xt=yt.length>1?`\n${yt.map(xt=>`\u2022 ${xt}`).join("\n")}`:yt[0];_(new Error(Xt))}else{var ct;_(new Oe({errors:J,responses:et,predicate:(null===(ct=at)||void 0===ct?void 0:ct.message)||at}))}}})}))});function je(U,E){var v=Object.keys(U);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(U);E&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(U,k).enumerable})),v.push.apply(v,_)}return v}function Ee(U){for(var E=1;E<arguments.length;E++){var v=null!=arguments[E]?arguments[E]:{};E%2?je(Object(v),!0).forEach(function(_){M(U,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(v)):je(Object(v)).forEach(function(_){Object.defineProperty(U,_,Object.getOwnPropertyDescriptor(v,_))})}return U}class Te extends Error{}const ke=(U,E)=>{let v=U;if("number"==typeof v&&(v=Array.from({length:v},(K,J)=>J)),E>v.length||E<=0)return[];if(E===v.length)return[v];if(1===E)return v.reduce((K,J)=>[...K,[J]],[]);const _=[];let k=[];for(let K=0;K<=v.length-E+1;K+=1){k=ke(v.slice(K+1),E-1);for(let J=0;J<k.length;J+=1)_.push([v[K],...k[J]])}return _},_e=(U,E)=>{const v={};for(let _=0;_<U.length;_+=1){const k=De()(U[_]);if(v[k]=v[k]?v[k]+1:1,v[k]===E)return U[_]}},Re=function(){var U=(0,y.Z)(function*(E,v,_){const k=E.map(K=>X(K,ft("VerifierLookupRequest",{verifier:v,verifier_id:_.toString()})).catch(J=>oe.error("lookup request failed",J)));return Me(k,K=>{const J=K.filter(it=>it),et=_e(J.map(it=>it&&it.error),1+~~(E.length/2)),at=_e(J.map(it=>it&&it.result),1+~~(E.length/2));return at||et?Promise.resolve({keyResult:at,errorResult:et}):Promise.reject(new Error(`invalid results ${JSON.stringify(K)}`))})});return function(v,_,k){return U.apply(this,arguments)}}(),Ie=(U,E,v,_)=>new Promise((k,K)=>{setTimeout(()=>{Re(U,E,v).then(k).catch(K)},_)}),Ne=function(){var U=(0,y.Z)(function*(E){let ut,ct,{endpoints:v,torusNodePubs:_,lastPoint:k,firstPoint:K,verifier:J,verifierId:et,signerHost:at,network:it}=E;if(void 0===k?(ut=Math.floor(Math.random()*v.length),ct=ut):ut=k%v.length,ut===K)throw new Error("Looped through all");void 0!==K&&(ct=K);const yt=ft("KeyAssign",{verifier:J,verifier_id:et.toString()});try{const Xt=yield X(at,yt,{headers:{pubKeyX:_[ut].X,pubKeyY:_[ut].Y,network:it}},{useAPIKey:!0});return yield X(v[ut],Ee(Ee({},yt),Xt),{headers:{"Content-Type":"application/json; charset=utf-8"}})}catch(Xt){if(oe.error(Xt),["Timed out","TypeError: Failed to fetch","TypeError: cancelled","TypeError: NetworkError when attempting to fetch resource."].includes(Xt.message))return Ne({endpoints:v,torusNodePubs:_,lastPoint:ut+1,firstPoint:ct,verifier:J,verifierId:et,signerHost:at,network:it});throw new Error(`Sorry, the Torus Network that powers Web3Auth is currently very busy.\n    We will generate your key in time. Pls try again later. \n\n    ${Xt.message||""}`)}});return function(v){return U.apply(this,arguments)}}();function dr(U){return`0x${Yt()("keccak256").update(U).digest().toString("hex")}`}function Pr(U,E){var v=Object.keys(U);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(U);E&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(U,k).enumerable})),v.push.apply(v,_)}return v}function pr(U){for(var E=1;E<arguments.length;E++){var v=null!=arguments[E]?arguments[E]:{};E%2?Pr(Object(v),!0).forEach(function(_){M(U,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(v)):Pr(Object(v)).forEach(function(_){Object.defineProperty(U,_,Object.getOwnPropertyDescriptor(v,_))})}return U}class Cr{constructor(){let{enableOneKey:E=!1,metadataHost:v="https://metadata.tor.us",allowHost:_="https://signer.tor.us/api/allow",signerHost:k="https://signer.tor.us/api/sign",serverTimeOffset:K=0,network:J="mainnet"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,"metadataHost",void 0),M(this,"allowHost",void 0),M(this,"serverTimeOffset",void 0),M(this,"enableOneKey",void 0),M(this,"signerHost",void 0),M(this,"network",void 0),M(this,"ec",void 0),this.ec=new Ke.ec("secp256k1"),this.metadataHost=v,this.allowHost=_,this.enableOneKey=E,this.serverTimeOffset=K||0,this.signerHost=k,this.network=J}static enableLogging(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?oe.disableAll():oe.enableAll()}static setAPIKey(E){o(E)}static setEmbedHost(E){!function h(U){j=U}(E)}static isGetOrSetNonceError(E){return E instanceof Te}getUserTypeAndAddress(E,v,_){var k=arguments,K=this;return(0,y.Z)(function*(){let{verifier:J,verifierId:et}=_,at=k.length>3&&void 0!==k[3]&&k[3];const{keyResult:it,errorResult:ut}=(yield Re(E,J,et))||{};let yt,ct=!1;if(ut&&JSON.stringify(ut).includes("Verifier + VerifierID has not yet been assigned")){if(!at)throw new Error("Verifier + VerifierID has not yet been assigned");yield Ne({endpoints:E,torusNodePubs:v,lastPoint:void 0,firstPoint:void 0,verifier:J,verifierId:et,signerHost:K.signerHost,network:K.network});const Xt=yield Ie(E,J,et,1e3);yt=null==Xt?void 0:Xt.keyResult,ct=!0}else{if(!it)throw new Error(`node results do not match at first lookup ${JSON.stringify(it||{})}, ${JSON.stringify(ut||{})}`);yt=it}if(yt){const{pub_key_X:Xt,pub_key_Y:xt}=yt.keys[0];let Et,Jt,Pt;try{Et=yield K.getOrSetNonce(Xt,xt,void 0,!ct),Jt=new(te())(Et.nonce||"0",16)}catch{throw new Te}if("v1"===Et.typeOfUser)Pt=K.ec.keyFromPublic({x:Xt,y:xt}).getPublic().add(K.ec.keyFromPrivate(Jt.toString(16)).getPublic());else{if("v2"!==Et.typeOfUser)throw new Error("getOrSetNonce should always return typeOfUser.");Pt=K.ec.keyFromPublic({x:Xt,y:xt}).getPublic().add(K.ec.keyFromPublic({x:Et.pubNonce.x,y:Et.pubNonce.y}).getPublic())}const ee=Pt.getX().toString(16),ce=Pt.getY().toString(16),ve=K.generateAddressFromPubKey(Pt.getX(),Pt.getY());if("v1"===Et.typeOfUser)return{typeOfUser:Et.typeOfUser,nonce:Jt,X:ee,Y:ce,address:ve};if("v2"===Et.typeOfUser)return{typeOfUser:Et.typeOfUser,nonce:Jt,pubNonce:Et.pubNonce,upgraded:Et.upgraded,X:ee,Y:ce,address:ve}}throw new Error(`node results do not match at final lookup ${JSON.stringify(it||{})}, ${JSON.stringify(ut||{})}`)})()}setCustomKey(E){var v=this;return(0,y.Z)(function*(){let et,{privKeyHex:_,metadataNonce:k,torusKeyHex:K,customKeyHex:J}=E;et=K?new(te())(K,16):new(te())(_,16).sub(k).umod(v.ec.curve.n);const it=new(te())(J,16).sub(et).umod(v.ec.curve.n),ut=v.generateMetadataParams(it.toString(16),et);yield v.setMetadata(ut)})()}retrieveShares(E,v,_,k,K){var J=arguments,et=this;return(0,y.Z)(function*(){let at=J.length>5&&void 0!==J[5]?J[5]:{};const it=[];yield W(et.allowHost,{headers:{verifier:_,verifier_id:k.verifier_id,network:et.network}},{useAPIKey:!0});const ut=(0,we.oq)(),ct=(0,we.rc)(ut).toString("hex"),yt=ct.slice(2,66),Xt=ct.slice(66),xt=dr(K);for(let Et=0;Et<E.length;Et+=1){const Jt=X(E[Et],ft("CommitmentRequest",{messageprefix:"mug00",tokencommitment:xt.slice(2),temppubx:yt,temppuby:Xt,verifieridentifier:_})).catch(Pt=>{oe.error("commitment",Pt)});it.push(Jt)}return Me(it,Et=>Et.filter(Pt=>!(!Pt||"object"!=typeof Pt||Pt.error)).length>=3*~~(E.length/4)+1?Promise.resolve(Et):Promise.reject(new Error(`invalid ${JSON.stringify(Et)}`))).then(Et=>{const Jt=[],Pt=[];for(let ee=0;ee<Et.length;ee+=1)Et[ee]&&Pt.push(Et[ee].result);for(let ee=0;ee<E.length;ee+=1){const ce=X(E[ee],ft("ShareRequest",{encrypted:"yes",item:[pr(pr({},k),{},{idtoken:K,nodesignatures:Pt,verifieridentifier:_},at)]})).catch(ve=>oe.error("share req",ve));Jt.push(ce)}return Me(Jt,function(){var ee=(0,y.Z)(function*(ce,ve){const Fe=ce.filter(he=>he),fr=_e(ce.map(he=>he&&he.result&&he.result.keys[0].PublicKey),1+~~(E.length/2));if(Fe.length>=1+~~(E.length/2)&&fr){const he=[],ir=[];for(let Ce=0;Ce<ce.length;Ce+=1){var lr,qe;const Qe=ce[Ce];if((null==Qe||null===(lr=Qe.result)||void 0===lr||null===(qe=lr.keys)||void 0===qe?void 0:qe.length)>0){Qe.result.keys.sort((Tr,xr)=>new(te())(Tr.Index,16).cmp(new(te())(xr.Index,16)));const Ze=Qe.result.keys[0];if(Ze.Metadata){const Tr={ephemPublicKey:Buffer.from(Ze.Metadata.ephemPublicKey,"hex"),iv:Buffer.from(Ze.Metadata.iv,"hex"),mac:Buffer.from(Ze.Metadata.mac,"hex")};he.push((0,we.pe)(ut,pr(pr({},Tr),{},{ciphertext:Buffer.from(Buffer.from(Ze.Share,"base64").toString("binary").padStart(64,"0"),"hex")})).catch(xr=>oe.debug("share decryption",xr)))}else he.push(Promise.resolve(Buffer.from(Ze.Share.padStart(64,"0"),"hex")))}else he.push(Promise.resolve(void 0));ir.push(new(te())(v[Ce],16))}const hr=yield Promise.all(he);if(ve.resolved)return;const kr=hr.reduce((Ce,Qe,Ze)=>(Qe&&Ce.push({index:ir[Ze],value:new(te())(Qe)}),Ce),[]),Fr=ke(kr.length,1+~~(E.length/2));let gr=null;for(let Ce=0;Ce<Fr.length;Ce+=1){const Qe=Fr[Ce],Ze=kr.filter((Ur,yn)=>Qe.includes(yn)),Tr=Ze.map(Ur=>Ur.value),xr=Ze.map(Ur=>Ur.index),Qr=et.lagrangeInterpolation(Tr,xr);if(!Qr)continue;const rn=(0,we.rc)(Buffer.from(Qr.toString(16,64),"hex")).toString("hex"),vn=rn.slice(2,66),gn=rn.slice(66);if(0===new(te())(vn,16).cmp(new(te())(fr.X,16))&&0===new(te())(gn,16).cmp(new(te())(fr.Y,16))){gr=Qr;break}}if(null==gr)throw new Error("could not derive private key");return gr}throw new Error("invalid")});return function(ce,ve){return ee.apply(this,arguments)}}())}).then(function(){var Et=(0,y.Z)(function*(Jt){let Pt=Jt;if(!Pt)throw new Error("Invalid private key returned");const ee=(0,we.rc)(Buffer.from(Pt.toString(16,64),"hex")).toString("hex"),ce=ee.slice(2,66),ve=ee.slice(66);let Fe;if(et.enableOneKey){const{nonce:lr}=yield et.getNonce(ce,ve,Pt);Fe=new(te())(lr||"0",16)}else Fe=yield et.getMetadata({pub_key_X:ce,pub_key_Y:ve});oe.debug("> torus.js/retrieveShares",{privKey:Pt.toString(16),metadataNonce:Fe.toString(16)}),Pt=Pt.add(Fe).umod(et.ec.curve.n);const fr=et.generateAddressFromPrivKey(Pt);return oe.debug("> torus.js/retrieveShares",{ethAddress:fr,privKey:Pt.toString(16)}),{ethAddress:fr,privKey:Pt.toString("hex",64),metadataNonce:Fe}});return function(Jt){return Et.apply(this,arguments)}}())})()}getMetadata(E){var v=arguments,_=this;return(0,y.Z)(function*(){let k=v.length>1&&void 0!==v[1]?v[1]:{};try{const K=yield X(`${_.metadataHost}/get`,E,k,{useAPIKey:!0});return K&&K.message?new(te())(K.message,16):new(te())(0)}catch(K){return oe.error("get metadata error",K),new(te())(0)}})()}generateMetadataParams(E,v){const _=this.ec.keyFromPrivate(v.toString("hex",64)),k={data:E,timestamp:new(te())(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)},K=_.sign(dr(De()(k)).slice(2));return{pub_key_X:_.getPublic().getX().toString("hex"),pub_key_Y:_.getPublic().getY().toString("hex"),set_data:k,signature:Buffer.from(K.r.toString(16,64)+K.s.toString(16,64)+new(te())("").toString(16,2),"hex").toString("base64")}}setMetadata(E){var v=arguments,_=this;return(0,y.Z)(function*(){let k=v.length>1&&void 0!==v[1]?v[1]:{};try{return(yield X(`${_.metadataHost}/set`,E,k,{useAPIKey:!0})).message}catch(K){return oe.error("set metadata error",K),""}})()}lagrangeInterpolation(E,v){if(E.length!==v.length)return null;let _=new(te())(0);for(let k=0;k<E.length;k+=1){let K=new(te())(1),J=new(te())(1);for(let at=0;at<E.length;at+=1)if(k!==at){K=K.mul(v[at].neg()),K=K.umod(this.ec.curve.n);let it=v[k].sub(v[at]);it=it.umod(this.ec.curve.n),J=J.mul(it).umod(this.ec.curve.n)}let et=K.mul(J.invm(this.ec.curve.n)).umod(this.ec.curve.n);et=et.mul(E[k]).umod(this.ec.curve.n),_=_.add(et)}return _.umod(this.ec.curve.n)}generateAddressFromPrivKey(E){const _=this.ec.keyFromPrivate(E.toString("hex",64),"hex").getPublic().encode("hex",!1).slice(2);oe.info(_,"public key");const k=`0x${dr(Buffer.from(_,"hex")).slice(26)}`;return(0,s.toChecksumAddress)(k)}generateAddressFromPubKey(E,v){const _=this.ec.keyFromPublic({x:E.toString("hex",64),y:v.toString("hex",64)}),k=_.getPublic().encode("hex",!1).slice(2);oe.info(_.getPublic().encode("hex",!1),"public key");const K=`0x${dr(Buffer.from(k,"hex")).slice(26)}`;return(0,s.toChecksumAddress)(K)}getPublicAddress(E,v,_){var k=arguments,K=this;return(0,y.Z)(function*(){let{verifier:J,verifierId:et}=_,at=k.length>3&&void 0!==k[3]&&k[3];oe.debug("> torus.js/getPublicAddress",{endpoints:E,torusNodePubs:v,verifier:J,verifierId:et,isExtended:at});let it,ut=!1;const{keyResult:ct,errorResult:yt}=(yield Re(E,J,et))||{};if(yt&&JSON.stringify(yt).includes("Verifier not supported"))throw new Error("Verifier not supported. Check if you: \n\n      1. Are on the right network (Torus testnet/mainnet) \n\n      2. Have setup a verifier on dashboard.web3auth.io?");if(yt&&JSON.stringify(yt).includes("Verifier + VerifierID has not yet been assigned")){yield Ne({endpoints:E,torusNodePubs:v,lastPoint:void 0,firstPoint:void 0,verifier:J,verifierId:et,signerHost:K.signerHost,network:K.network});const xt=yield Ie(E,J,et,1e3);it=null==xt?void 0:xt.keyResult,ut=!0}else{if(!ct)throw new Error(`node results do not match at first lookup ${JSON.stringify(ct||{})}, ${JSON.stringify(yt||{})}`);it=ct}if(oe.debug("> torus.js/getPublicAddress",{finalKeyResult:it,isNewKey:ut}),it){var Xt;let Jt,Pt,ee,ce,ve,{pub_key_X:xt,pub_key_Y:Et}=it.keys[0];if(K.enableOneKey){try{Jt=yield K.getOrSetNonce(xt,Et,void 0,!ut),Pt=new(te())(Jt.nonce||"0",16),ce=Jt.typeOfUser}catch{throw new Te}if("v1"===Jt.typeOfUser)ee=K.ec.keyFromPublic({x:xt,y:Et}).getPublic().add(K.ec.keyFromPrivate(Pt.toString(16)).getPublic());else{if("v2"!==Jt.typeOfUser)throw new Error("getOrSetNonce should always return typeOfUser.");Jt.upgraded?ee=K.ec.keyFromPublic({x:xt,y:Et}).getPublic():(ee=K.ec.keyFromPublic({x:xt,y:Et}).getPublic().add(K.ec.keyFromPublic({x:Jt.pubNonce.x,y:Jt.pubNonce.y}).getPublic()),ve=Jt.pubNonce)}}else ce="v1",Pt=yield K.getMetadata({pub_key_X:xt,pub_key_Y:Et}),ee=K.ec.keyFromPublic({x:xt,y:Et}).getPublic().add(K.ec.keyFromPrivate(Pt.toString(16)).getPublic());xt=ee.getX().toString(16),Et=ee.getY().toString(16);const Fe=K.generateAddressFromPubKey(ee.getX(),ee.getY());return oe.debug("> torus.js/getPublicAddress",{X:xt,Y:Et,address:Fe,typeOfUser:ce,nonce:null===(Xt=Pt)||void 0===Xt?void 0:Xt.toString(16),pubNonce:ve}),at?{typeOfUser:ce,address:Fe,X:xt,Y:Et,metadataNonce:Pt,pubNonce:ve}:Fe}throw new Error(`node results do not match at final lookup ${JSON.stringify(ct||{})}, ${JSON.stringify(yt||{})}`)})()}getOrSetNonce(E,v,_){var k=arguments,K=this;return(0,y.Z)(function*(){let et;const at=k.length>3&&void 0!==k[3]&&k[3]?"getNonce":"getOrSetNonce";return et=_?K.generateMetadataParams(at,_):{pub_key_X:E,pub_key_Y:v,set_data:{data:at}},X(`${K.metadataHost}/get_or_set_nonce`,et,void 0,{useAPIKey:!0})})()}getNonce(E,v,_){var k=this;return(0,y.Z)(function*(){return k.getOrSetNonce(E,v,_,!0)})()}getPostboxKeyFrom1OutOf1(E,v){const _=new(te())(E,16),k=new(te())(v,16);return _.sub(k).umod(this.ec.curve.n).toString("hex")}}var Br=m(84198),Hr=m(55019),Kr=m.n(Hr),Wr=m(86849),Vr=m(45429),mr=m.n(Vr);const rr={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord",EMAIL_PASSWORDLESS:"torus-auth0-email-passwordless"},_r={[rr.GOOGLE]:"tkey-google",[rr.FACEBOOK]:"tkey-facebook",[rr.TWITCH]:"tkey-twitch",[rr.REDDIT]:"tkey-reddit",[rr.DISCORD]:"tkey-discord",[rr.EMAIL_PASSWORDLESS]:"tkey-auth0-email-passwordless"},Gr={PRODUCTION:"production",DEVELOPMENT:"development",BINANCE:"binance",TESTING:"testing",LRC:"lrc",BETA:"beta"},sr={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},Zr={moonpay:["AUD","BGN","BRL","CAD","CHF","CNY","COP","CZK","DKK","DOP","EGP","EUR","GBP","HKD","HRK","IDR","ILS","JPY","JOD","KES","KRW","KWD","LKR","MAD","MXN","MYR","NGN","NOK","NZD","OMR","PEN","PKR","PLN","RON","RUB","SEK","SGD","THB","TRY","TWD","USD","VND","ZAR"],wyre:["USD","EUR","GBP","AUD","CAD","NZD","ARS","BRL","CHF","CLP","COP","CZK","DKK","HKD","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","PHP","PLN","SEK","THB","VND","ZAR"],rampnetwork:["USD","EUR","GBP"],xanpool:["SGD","HKD","THB","PHP","INR","IDR","MYR","AUD","NZD","KRW"],mercuryo:["EUR","USD","GBP","TRY","JPY","BRL","NGN","VND","MXN","KRW"],transak:["ARS","AUD","BBD","BGN","BMD","BRL","CAD","CHF","CLP","CRC","CZK","DKK","DOP","EUR","FJD","FKP","GBP","GIP","HRK","HUF","IDR","ILS","ISK","JMD","JPY","KES","KRW","MDL","MXN","MYR","NOK","NZD","PEN","PHP","PLN","PYG","RON","SEK","SGD","THB","TRY","TZS","USD","ZAR"]},zr=new Set(["ETH","USDT","USDC","TUSD","EOSDT","USD","DAI","GUSD","DKKT","PAX","ILS","RUB","BYN","EUR","GBP","JPY","KRW","PLN","MXN","AUD","BRL","CAD","CHF","KPW","LAK","LBP","LKR","XOF","CNHT","DOGE","UAH","TRY","HKD","XJP","SGD","USC","NZD","NGN","RUR","COP","GHS","EGP","IDR","BHD","CRC","PEN","AED","DOP","PKR","HUF","VND","XAR","LTC","RON","OMR","MYR","DKK","UGX","ZMW","SAR","SEK","GEL","RWF","IRR","TZS","CNY","VEF","BDT","HRK","CLP","THB","XAF","ARS","UYU","SZL","KZT","NOK","KES","PAB","INR","CZK","MAD","TWD","PHP","ZAR","BOB","CDF","DASH","VES","ISK","MWK","BAM","TTD","XRP","JOD","RSD","HNL","BGN","GTQ","BWP","XMR","MMK","QAR","AOA","KWD","MUR","WUSD","WEUR","WAVES","WTRY","LRD","LSL","LYD","AWG","MDL","BTO","EURS","CHFT","MKD","MNT","MOP","MRO","MVR","VOLLAR","CKUSD","KHR","VUV","BITCNY","QC","BBD","NAD","NPR","PGK","PYG","BIF","BMD","BND","XLM","BNB","SCR","BAT","CRO","HT","KCS","LEO","LINK","MKR","NPXS","OMG","REP","ZB","ZIL","ZRX","BCH","BZD","CUP","CVE","DJF","DZD","ERN","ETB","FJD","FKP","BUSD","ANCT","ALL","AMD","ANG","CNYX","IQD","UZS","TND","GGP","XAU","KGS","GIP","JMD","ZEC","USDP","BSV","EMC2","SNT","GTO","POWR","EUSD","EURT","BCY","BTS","ATM","BLOCKPAY","ARDR","AMP","B2X","BITGOLD","BITEUR","ATB","BITUSD","AGRS","DFXT","HIKEN","BIX","KNC","EOS","COB","COSS","BMH","NANO","BDG","BNT","XVG","LKK1Y","LKK","USDK","EURN","NZDT","JSE","GMD","GNF","GYD","YER","XPF","HTG","SLL","SOS","WST","SVC","SYP","NEO","KMF","JUMP","AYA","BLAST","WGR","BCN","BTG","URALS","INN","USDQ","CNH","HUSD","BKRW","NZDX","EURX","CADX","USDEX","JPYX","AUDX","VNDC","EON","GBPX","CHFX","USDJ","IDRT","USDS","USDN","BIDR","IDK","BSD","BTN","KYD","NIO","SBD","SDG","SHP","TOP","XCD","XCHF","CNYT","GYEN","ZUSD","GOLD","TRX","TRYB","PLATC","STRAX","UST","GLM","VAI","BRZ","DDRST","XAUT","MIM"]);function ar(U){return Zr[U].filter(v=>zr.has(v))}const yr={moonpay:{line1:"Credit/ Debit Card/ Apple Pay",line2:"4.5% or 5 USD",line3:"2,000\u20ac/day, 10,000\u20ac/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:ar("moonpay"),validCryptoCurrenciesByChain:{mainnet:[{value:"aave",display:"AAVE"},{value:"bat",display:"BAT"},{value:"dai",display:"DAI"},{value:"eth",display:"ETH"},{value:"mkr",display:"MKR"},{value:"matic",display:"MATIC"},{value:"usdt",display:"USDT"},{value:"usdc",display:"USDC"}],matic:[{value:"eth_polygon",display:"ETH"},{value:"matic_polygon",display:"MATIC"},{value:"usdc_polygon",display:"USDC"}],bsc_mainnet:[{value:"bnb_bsc",display:"BNB"},{value:"busd_bsc",display:"BUSD"}],avalanche_mainnet:[{value:"avax_cchain",display:"AVAX"}]},includeFees:!0,api:!0,enforceMax:!1},wyre:{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30\xa2 or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:ar("wyre"),validCryptoCurrenciesByChain:{mainnet:[{value:"AAVE",display:"AAVE"},{value:"BAT",display:"BAT"},{value:"BUSD",display:"BUSD"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"MKR",display:"MKR"},{value:"UNI",display:"UNI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],matic:[{value:"MUSDC",display:"USDC"}],avalanche_mainnet:[{value:"AVAXC",display:"AVAXC"}]},includeFees:!1,api:!0,enforceMax:!1},rampnetwork:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:ar("rampnetwork"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],matic:[{value:"MATIC_DAI",display:"DAI"},{value:"MATIC_MATIC",display:"MATIC"},{value:"MATIC_USDC",display:"USDC"}],avalanche_mainnet:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,api:!0,receiveHint:"walletTopUp.receiveHintRamp",enforceMax:!1},xanpool:{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:ar("xanpool"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"}]},includeFees:!0,api:!0,sell:!0,enforceMax:!1},mercuryo:{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000\u20ac/day, 25,000\u20ac/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:ar("mercuryo"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"BAT",display:"BAT"},{value:"USDT",display:"USDT"},{value:"DAI",display:"DAI"}],bsc_mainnet:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"},{value:"1INCH",display:"1INCH"}]},includeFees:!0,api:!0,enforceMax:!1},transak:{line1:"Credit/ Debit Card/ <br/>Bank Transfer (sepa/gbp)",line2:"0.99% - 5.5% or 5 USD",line3:"500\u20ac/day",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:30,maxOrderValue:500,validCurrencies:ar("transak"),validCryptoCurrenciesByChain:{mainnet:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],matic:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"MATIC",display:"MATIC"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"},{value:"WETH",display:"WETH"}],bsc_mainnet:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"}],avalanche_mainnet:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,enforceMax:!0}};var Le={supportedVerifierList:Object.values(rr),paymentProviders:yr,api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"};const Ir=U=>new Promise((E,v)=>{null!=window.document.body?Promise.resolve(U()).then(E).catch(v):window.document.addEventListener("DOMContentLoaded",()=>{Promise.resolve(U()).then(E).catch(v)})}),$e=U=>{const E=window.document.createElement("template"),v=U.trim();return E.innerHTML=v,E.content.firstChild},br=function(U,E,v){for(var _=arguments.length,k=new Array(_>3?_-3:0),K=3;K<_;K++)k[K-3]=arguments[K];const J=()=>{v(...k),U.removeEventListener(E,J)};U.addEventListener(E,J)},xe=(U,E,v)=>{const _=k=>{v(k),U.removeListener(E,_)};U.on(E,_)};function Mr(){return(Mr=(0,y.Z)(function*(){return new Promise(U=>{"loading"!==document.readyState?U():br(document,"DOMContentLoaded",U)})})).apply(this,arguments)}var ne=O().getLogger("torus-embed"),me={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",sendSiteMetadata:()=>"Torus: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:U=>"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(U," without a callback parameter."),invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:(U,E)=>"Invalid options. Received: { maxEventListeners: ".concat(U,", shouldSendMetadata: ").concat(E," }"),invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:U=>"'args.logger' must include required method '".concat(U,"'.")},info:{connected:U=>'Torus: Connected to chain with ID "'.concat(U,'".')},warnings:{enableDeprecation:'Torus: ""ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.send("eth_requestAccounts")" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:'Torus: "ethereum.send(...)" is deprecated and may be removed in the future. Please use "ethereum.sendAsync(...)" or "ethereum.request(...)" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',events:{close:'Torus: The event "close" is deprecated and may be removed in the future. Please use "disconnect" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',data:'Torus: The event "data" is deprecated and will be removed in the future.Use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',networkChanged:'Torus: The event "networkChanged" is deprecated and may be removed in the future. Please use "chainChanged" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',notification:'Torus: The event "notification" is deprecated and may be removed in the future. Please use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193'},publicConfigStore:'Torus: The property "publicConfigStore" is deprecated and WILL be removed in the future.'}};const{paymentProviders:Er}=Le;function Nr(U,E,v){let _='MetaMask: Lost connection to "'.concat(U,'".');null!=E&&E.stack&&(_+="\n".concat(E.stack)),ne.warn(_),v&&v.listenerCount("error")>0&&v.emit("error",_)}const Ge=()=>Math.random().toString(36).slice(2),Lr=function(){var U=(0,y.Z)(function*(E,v){let _,k;const K="1.27.2";let J=v.version||K;try{if(("binance"===E||"production"===E)&&!v.version){let et;et=Le.prodTorusUrl?{data:Le.prodTorusUrl}:yield W("".concat(Le.api,"/latestversion?name=@toruslabs/torus-embed&version=").concat(K),{},{useAPIKey:!0}),J=et.data,Le.prodTorusUrl=et.data}}catch(et){ne.error(et,"unable to fetch latest version")}switch(ne.info("version used: ",J),E){case"binance":_="https://binance.tor.us/v".concat(J),k="info";break;case"testing":_="https://testing.tor.us",k="debug";break;case"lrc":_="https://lrc.tor.us",k="debug";break;case"beta":_="https://beta.tor.us",k="debug";break;case"development":_="http://localhost:4050",k="debug";break;default:_="https://app.tor.us/v".concat(J),k="error"}return{torusUrl:_,logLevel:k}});return function(v,_){return U.apply(this,arguments)}}(),Sr=()=>{let U=window.navigator.language||"en-US";const E=U.split("-");return U=Object.prototype.hasOwnProperty.call(Le.translations,E[0])?E[0]:"en",U},Yr=["eth_subscription"],Dr=()=>{},Ar="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",H="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";function pt(U,E){var v=Object.keys(U);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(U);E&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(U,k).enumerable})),v.push.apply(v,_)}return v}Be.defaultMaxListeners=100;const ie=function(U,E){let v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(_,k)=>_||k.error?E(_||k.error):!v||Array.isArray(k)?U(k):U(k.result)};class se extends Be{constructor(E){let{maxEventListeners:v=100,shouldSendMetadata:_=!0,jsonRpcStreamName:k="provider"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),M(this,"chainId",void 0),M(this,"selectedAddress",void 0),M(this,"_rpcEngine",void 0),M(this,"networkVersion",void 0),M(this,"shouldSendMetadata",void 0),M(this,"isTorus",void 0),M(this,"_publicConfigStore",void 0),M(this,"tryPreopenHandle",void 0),M(this,"enable",void 0),M(this,"_state",void 0),M(this,"_jsonRpcConnection",void 0),M(this,"_sentWarnings",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),!(0,Wr.duplex)(E))throw new Error(me.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(v),this._state=function Qt(U){for(var E=1;E<arguments.length;E++){var v=null!=arguments[E]?arguments[E]:{};E%2?pt(Object(v),!0).forEach(function(_){M(U,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(v)):pt(Object(v)).forEach(function(_){Object.defineProperty(U,_,Object.getOwnPropertyDescriptor(v,_))})}return U}({},se._defaultState),this.selectedAddress=null,this.networkVersion=null,this.chainId=null,this.shouldSendMetadata=_,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._sendSync=this._sendSync.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this);const K=new Je;Ct()(E,K,E,this._handleStreamDisconnect.bind(this,"MetaMask")),this._publicConfigStore=new Br.ObservableStore({storageKey:"Metamask-Config"}),Ct()(K.createStream("publicConfig"),(0,Br.storeAsStream)(this._publicConfigStore),Nr.bind(this,"MetaMask PublicConfigStore")),K.ignoreStream("phishing"),this.on("connect",()=>{this._state.isConnected=!0});const J=function kt(){const U={},v=new Be,J=new ht.Duplex({objectMode:!0,read:function E(){return!1},write:function K(at,it,ut){let ct;try{at.id?function _(at){const it=U[at.id];if(!it)throw new Error('StreamMiddleware - Unknown response id "'.concat(at.id,'"'));delete U[at.id],Object.assign(it.res,at),setTimeout(it.end)}(at):function k(at){v.emit("notification",at)}(at)}catch(yt){ct=yt}ut(ct)}});return{events:v,middleware:(at,it,ut,ct)=>{J.push(at),U[at.id]={req:at,res:it,next:ut,end:ct}},stream:J}}();Ct()(J.stream,K.createStream(k),J.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const et=new Mt;et.push(function tr(){return(U,E,v,_)=>{const k=U.id,K=V()(32).toString("hex");U.id=K,E.id=K,v(J=>{U.id=k,E.id=k,J()})}}()),et.push(function cr(){return(U,E,v)=>{("string"!=typeof U.method||!U.method)&&(E.error=mt.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:U})),v(_=>{const{error:k}=E;return k&&ne.error("MetaMask - RPC Error: ".concat(k.message),k),_()})}}()),et.push(J.middleware),this._rpcEngine=et,J.events.on("notification",at=>{const{method:it,params:ut}=at;"wallet_accountsChanged"===it?this._handleAccountsChanged(ut):"wallet_unlockStateChanged"===it?this._handleUnlockStateChanged(ut):"wallet_chainChanged"===it?this._handleChainChanged(ut):Yr.includes(at.method)&&(this.emit("data",at),this.emit("notification",ut.result),this.emit("message",{type:it,data:ut}))})}get publicConfigStore(){return this._sentWarnings.publicConfigStore||(ne.warn(me.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}isConnected(){return this._state.isConnected}request(E){var v=this;return(0,y.Z)(function*(){if(!E||"object"!=typeof E||Array.isArray(E))throw mt.ethErrors.rpc.invalidRequest({message:me.errors.invalidRequestArgs(),data:E});const{method:_,params:k}=E;if("string"!=typeof _||0===_.length)throw mt.ethErrors.rpc.invalidRequest({message:me.errors.invalidRequestMethod(),data:E});if(void 0!==k&&!Array.isArray(k)&&("object"!=typeof k||null===k))throw mt.ethErrors.rpc.invalidRequest({message:me.errors.invalidRequestParams(),data:E});return new Promise((K,J)=>{v._rpcRequest({method:_,params:k},ie(K,J))})})()}sendAsync(E,v){this._rpcRequest(E,v)}addListener(E,v){return this._warnOfDeprecation(E),super.addListener(E,v)}on(E,v){return this._warnOfDeprecation(E),super.on(E,v)}once(E,v){return this._warnOfDeprecation(E),super.once(E,v)}prependListener(E,v){return this._warnOfDeprecation(E),super.prependListener(E,v)}prependOnceListener(E,v){return this._warnOfDeprecation(E),super.prependOnceListener(E,v)}_initializeState(){var E=this;return(0,y.Z)(function*(){try{const{accounts:v,chainId:_,isUnlocked:k,networkVersion:K}=yield E.request({method:"wallet_getProviderState"});E.emit("connect",{chainId:_}),E._handleChainChanged({chainId:_,networkVersion:K}),E._handleUnlockStateChanged({accounts:v,isUnlocked:k}),E._handleAccountsChanged(v)}catch(v){ne.error("MetaMask: Failed to get initial state. Please report this bug.",v)}finally{ne.info("initialized state"),E._state.initialized=!0,E.emit("_initialized")}})()}_rpcRequest(E,v){let _=arguments.length>2&&void 0!==arguments[2]&&arguments[2],k=v;const K=E;if(!Array.isArray(K))if(K.jsonrpc||(K.jsonrpc="2.0"),"eth_accounts"===K.method||"eth_requestAccounts"===K.method)k=(J,et)=>{this._handleAccountsChanged(et.result||[],"eth_accounts"===K.method,_),v(J,et)};else if("wallet_getProviderState"===K.method)return void this._rpcEngine.handle(E,k);this.tryPreopenHandle(K,k)}send(E,v){return this._sentWarnings.send||(ne.warn(me.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof E||v&&!Array.isArray(v)?E&&"object"==typeof E&&"function"==typeof v?this._rpcRequest(E,v):this._sendSync(E):new Promise((_,k)=>{try{this._rpcRequest({method:E,params:v},ie(_,k,!1))}catch(K){k(K)}})}_sendSync(E){let v;switch(E.method){case"eth_accounts":v=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":v=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(E,Dr),v=!0;break;case"net_version":v=this.networkVersion||null;break;default:throw new Error(me.errors.unsupportedSync(E.method))}return{id:E.id,jsonrpc:E.jsonrpc,result:v}}_handleConnect(E){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:E}),ne.debug(me.info.connected(E)))}_handleDisconnect(E,v){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!E){let _;this._state.isConnected=!1,E?(_=new mt.EthereumRpcError(1013,v||me.errors.disconnected()),ne.debug(_)):(_=new mt.EthereumRpcError(1011,v||me.errors.permanentlyDisconnected()),ne.error(_),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",_)}}_handleStreamDisconnect(E,v){Nr(E,v,this),this._handleDisconnect(!1,v?v.message:void 0)}_handleAccountsChanged(E){let v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=arguments.length>2&&void 0!==arguments[2]&&arguments[2],k=E;Array.isArray(k)||(ne.error("MetaMask: Received non-array accounts parameter. Please report this bug.",k),k=[]);for(const K of E)if("string"!=typeof K){ne.error("MetaMask: Received non-string account. Please report this bug.",E),k=[];break}Kr()(this._state.accounts,k)||(v&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!_&&ne.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',k),this._state.accounts=k,this.emit("accountsChanged",k)),this.selectedAddress!==k[0]&&(this.selectedAddress=k[0]||null)}_handleChainChanged(){let{chainId:E,networkVersion:v}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E&&v?"loading"===v?this._handleDisconnect(!0):(this._handleConnect(E),E!==this.chainId&&(this.chainId=E,this._state.initialized&&this.emit("chainChanged",this.chainId))):ne.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:E,networkVersion:v})}_handleUnlockStateChanged(){let{accounts:E,isUnlocked:v}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"==typeof v?v!==this._state.isUnlocked&&(this._state.isUnlocked=v,this._handleAccountsChanged(E||[])):ne.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:v})}_warnOfDeprecation(E){!1===this._sentWarnings.events[E]&&(ne.warn(me.warnings.events[E]),this._sentWarnings.events[E]=!0)}}M(se,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const ae=(U,E)=>{const v={};return U.algorithms.forEach(_=>{v[_]=mr()(_).update(E,"utf8").digest("base64")}),v};class ur extends At.EventEmitter{constructor(E){let{url:v,target:_,features:k}=E;super(),M(this,"url",void 0),M(this,"target",void 0),M(this,"features",void 0),M(this,"window",void 0),M(this,"windowTimer",void 0),M(this,"iClosedWindow",void 0),this.url=v,this.target=_||"_blank",this.features=k||function q(){const U=void 0!==window.screenLeft?window.screenLeft:window.screenX,E=void 0!==window.screenTop?window.screenTop:window.screenY,k=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,K=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,et=Math.abs((k-1200)/2/1+U),at=Math.abs((K-700)/2/1+E);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(700,",width=").concat(1200,",top=").concat(at,",left=").concat(et)}(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var E;return this.window=window.open(this.url.href,this.target,this.features),null!==(E=this.window)&&void 0!==E&&E.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(E){E?window.location.replace(this.url.href):window.location.href=this.url.href}}function vr(U){return new Promise((E,v)=>{try{const _=document.createElement("img");_.onload=()=>E(!0),_.onerror=()=>E(!1),_.src=U}catch(_){v(_)}})}const Or=U=>{const{document:E}=U,v=E.querySelector('head > meta[property="og:site_name"]');if(v)return v.content;const _=E.querySelector('head > meta[name="title"]');return _?_.content:E.title&&E.title.length>0?E.title:U.location.hostname};function jr(U){return $r.apply(this,arguments)}function $r(){return($r=(0,y.Z)(function*(U){const{document:E}=U;let v=E.querySelector('head > link[rel="shortcut icon"]');return v&&(yield vr(v.href))||(v=Array.from(E.querySelectorAll('head > link[rel="icon"]')).find(_=>Boolean(_.href)),v&&(yield vr(v.href)))?v.href:null})).apply(this,arguments)}const nn=function(){var U=(0,y.Z)(function*(){return{name:Or(window),icon:yield jr(window)}});return function(){return U.apply(this,arguments)}}();function qr(){return(qr=(0,y.Z)(function*(U){try{const E=yield nn();U.handle({jsonrpc:"2.0",id:Ge(),method:"wallet_sendDomainMetadata",params:E},Dr)}catch(E){ne.error({message:me.errors.sendSiteMetadata(),originalError:E})}})).apply(this,arguments)}const sn=["host","chainId","networkName"];function tn(U,E){var v=Object.keys(U);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(U);E&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(U,k).enumerable})),v.push.apply(v,_)}return v}function an(U){for(var E=1;E<arguments.length;E++){var v=null!=arguments[E]?arguments[E]:{};E%2?tn(Object(v),!0).forEach(function(_){M(U,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(v)):tn(Object(v)).forEach(function(_){Object.defineProperty(U,_,Object.getOwnPropertyDescriptor(v,_))})}return U}const un={google:!0,facebook:!0,reddit:!0,twitch:!0,discord:!0},en="sha384-FLPj0jKrb6vIli62Ed4n/sqWhdhHMpFz3NffAV4H8uqTkzPsf4IAtKFgeVGgxb4+",ln=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt"],cn=function Z(U){let E;try{E=window[U];const v="__storage_test__";return E.setItem(v,v),E.removeItem(v),!0}catch(v){return v&&(22===v.code||1014===v.code||"QuotaExceededError"===v.name||"NS_ERROR_DOM_QUOTA_REACHED"===v.name)&&E&&0!==E.length}}("localStorage");var U;(U=(0,y.Z)(function*(){try{if(typeof document>"u")return;const v=document.createElement("link"),{torusUrl:_}=yield Lr("production",{check:!1,hash:en,version:""});v.href="".concat(_,"/popup"),v.crossOrigin="anonymous",v.type="text/html",v.rel="prefetch",v.relList&&v.relList.supports&&v.relList.supports("prefetch")&&document.head.appendChild(v)}catch(v){ne.warn(v)}}),function E(){return U.apply(this,arguments)})();class hn{constructor(){let{buttonPosition:E=sr.BOTTOM_LEFT,modalZIndex:v=99999,apiKey:_="torus-default"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,"buttonPosition",sr.BOTTOM_LEFT),M(this,"torusUrl",void 0),M(this,"torusIframe",void 0),M(this,"styleLink",void 0),M(this,"isLoggedIn",void 0),M(this,"isInitialized",void 0),M(this,"torusWidgetVisibility",void 0),M(this,"torusAlert",void 0),M(this,"nodeDetailManager",void 0),M(this,"torusJs",void 0),M(this,"apiKey",void 0),M(this,"modalZIndex",void 0),M(this,"alertZIndex",void 0),M(this,"torusAlertContainer",void 0),M(this,"isIframeFullScreen",void 0),M(this,"whiteLabel",void 0),M(this,"requestedVerifier",void 0),M(this,"currentVerifier",void 0),M(this,"embedTranslations",void 0),M(this,"ethereum",void 0),M(this,"provider",void 0),M(this,"communicationMux",void 0),M(this,"isLoginCallback",void 0),M(this,"dappStorageKey",void 0),M(this,"paymentProviders",Le.paymentProviders),M(this,"loginHint",""),M(this,"useWalletConnect",void 0),this.buttonPosition=E,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.nodeDetailManager=new p,this.torusJs=new Cr({metadataHost:"https://metadata.tor.us",allowHost:"https://signer.tor.us/api/allow",network:"mainnet"}),this.apiKey=_,Cr.setAPIKey(_),o(_),this.modalZIndex=v,this.alertZIndex=v+1e3,this.isIframeFullScreen=!1,this.dappStorageKey=""}init(){var E=arguments,v=this;return(0,y.Z)(function*(){let{buildEnv:_=Gr.PRODUCTION,enableLogging:k=!1,enabledVerifiers:K=un,network:J={host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""},loginConfig:et={},showTorusButton:at=!0,integrity:it={check:!1,hash:en,version:""},whiteLabel:ut,skipTKey:ct=!1,useLocalStorage:yt=!1,useWalletConnect:Xt=!1}=E.length>0&&void 0!==E[0]?E[0]:{};if(v.isInitialized)throw new Error("Already initialized");const{torusUrl:xt,logLevel:Et}=yield Lr(_,it);ne.info(xt,"url loaded"),v.torusUrl=xt,v.whiteLabel=ut,v.useWalletConnect=Xt,ne.setDefaultLevel(Et),k?ne.enableAll():ne.disableAll(),v.torusWidgetVisibility=at;let Jt="";if(cn&&yt){const qe="".concat(Le.localStorageKeyPrefix).concat(window.location.hostname),he=window.localStorage.getItem(qe);if(he)Jt=he;else{const ir="torus-app-".concat(Ge());window.localStorage.setItem(qe,ir),Jt=ir}}v.dappStorageKey=Jt;const Pt=new URL(xt);Pt.pathname.endsWith("/")?Pt.pathname+="popup":Pt.pathname+="/popup",Jt&&(Pt.hash="#dappStorageKey=".concat(Jt)),v.torusIframe=$e('<iframe\n        id="torusIframe"\n        allow='.concat(Xt?"camera":"",'\n        class="torusIframe"\n        src="').concat(Pt.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(v.modalZIndex,'"\n      ></iframe>')),v.torusAlertContainer=$e('<div id="torusAlertContainer"></div>'),v.torusAlertContainer.style.display="none",v.torusAlertContainer.style.setProperty("z-index",v.alertZIndex.toString());const ee=window.document.createElement("link");ee.setAttribute("rel","stylesheet"),ee.setAttribute("type","text/css"),ee.setAttribute("href","".concat(xt,"/css/widget.css")),v.styleLink=ee;const{defaultLanguage:ce=Sr(),customTranslations:ve={}}=v.whiteLabel||{},fr=b()(Le.translations,ve)[ce]||Le.translations[Sr()];v.embedTranslations=fr.embed;const lr=function(){var qe=(0,y.Z)(function*(){return yield function wr(){return Mr.apply(this,arguments)}(),new Promise((he,ir)=>{v.torusIframe.onload=(0,y.Z)(function*(){v._setupWeb3();const hr=v.communicationMux.getStream("init_stream");hr.on("data",kr=>{const{name:Fr,data:gr,error:Ce}=kr;"init_complete"===Fr&&gr.success?(v.isInitialized=!0,v._displayIframe(v.isIframeFullScreen),he(void 0)):Ce&&ir(new Error(Ce))}),hr.write({name:"init_stream",data:{enabledVerifiers:K,loginConfig:et,whiteLabel:v.whiteLabel,buttonPosition:v.buttonPosition,torusWidgetVisibility:v.torusWidgetVisibility,apiKey:v.apiKey,skipTKey:ct,network:J}})}),window.document.head.appendChild(v.styleLink),window.document.body.appendChild(v.torusIframe),window.document.body.appendChild(v.torusAlertContainer)})});return function(){return qe.apply(this,arguments)}}();if("production"===_&&it.check){const qe="".concat(xt,"/popup"),he=yield fetch(qe,{cache:"reload"});if("max-age=3600"!==he.headers.get("Cache-Control"))throw new Error("Unexpected Cache-Control headers, got ".concat(he.headers.get("Cache-Control")));const hr=((U,E)=>{const v=(U=>({algorithms:U.algorithms||["sha256"],delimiter:U.delimiter||" ",full:U.full||!1}))(U),_={hashes:ae(v,E),integrity:void 0};return _.integrity=((U,E)=>{let v="";return v+=Object.keys(E.hashes).map(_=>"".concat(_,"-").concat(E.hashes[_])).join(U.delimiter),v})(v,_),v.full?_:_.integrity})({algorithms:["sha384"]},yield he.text());if(ne.info(hr,"integrity"),hr!==it.hash)throw v.clearInit(),new Error("Integrity check failed");yield lr()}else yield lr()})()}login(){let{verifier:E="",login_hint:v=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");return this.requestedVerifier=E,this.loginHint=v,this.ethereum.enable()}logout(){return new Promise((E,v)=>{if(!this.isLoggedIn)return void v(new Error("User has not logged in yet"));this.communicationMux.getStream("logout").write({name:"logOut"});const k=this.communicationMux.getStream("status");xe(k,"data",J=>{J.loggedIn?v(new Error("Some Error Occured")):(this.isLoggedIn=!1,this.currentVerifier="",this.requestedVerifier="",E())})})}cleanUp(){var E=this;return(0,y.Z)(function*(){E.isLoggedIn&&(yield E.logout()),E.clearInit()})()}clearInit(){function E(v){return v instanceof Element||v instanceof HTMLDocument}E(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),E(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),E(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}showTorusButton(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}setProvider(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{host:v="mainnet",chainId:_=null,networkName:k=""}=E,K=function w(U,E){if(null==U)return{};var _,k,v=function T(U,E){if(null==U)return{};var k,K,v={},_=Object.keys(U);for(K=0;K<_.length;K++)!(E.indexOf(k=_[K])>=0)&&(v[k]=U[k]);return v}(U,E);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(U);for(k=0;k<K.length;k++)!(E.indexOf(_=K[k])>=0)&&(!Object.prototype.propertyIsEnumerable.call(U,_)||(v[_]=U[_]))}return v}(E,sn);return new Promise((J,et)=>{const at=this.communicationMux.getStream("provider_change");xe(at,"data",ct=>{const{err:yt,success:Xt}=ct.data;ne.info(ct),yt?et(yt):Xt?J():et(new Error("some error occured"))});const ut=Ge();this._handleWindow(ut,{target:"_blank",features:Ar}),at.write({name:"show_provider_change",data:{network:an({host:v,chainId:_,networkName:k},K),preopenInstanceId:ut,override:!1}})})}showWallet(E){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const _=this.communicationMux.getStream("show_wallet"),k=E?"/".concat(E):"";_.write({name:"show_wallet",data:{path:k}}),xe(_,"data",J=>{if("show_wallet_instance"===J.name){const{instanceId:et}=J.data,at=new URL("".concat(this.torusUrl,"/wallet").concat(k));at.searchParams.append("integrity","true"),at.searchParams.append("instanceId",et),Object.keys(v).forEach(ut=>{at.searchParams.append(ut,v[ut])}),this.dappStorageKey&&(at.hash="#dappStorageKey=".concat(this.dappStorageKey)),new ur({url:at,features:"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315"}).open()}})}getPublicAddress(E){var v=this;return(0,y.Z)(function*(){let{verifier:_,verifierId:k,isExtended:K=!1}=E;if(!Le.supportedVerifierList.includes(_)||!_r[_])throw new Error("Unsupported verifier");const J=yield v.nodeDetailManager.getNodeDetails({verifier:_,verifierId:k}),et=J.torusNodeEndpoints,at=J.torusNodePub,it=_,ut=_r[_];try{const ct=yield v.torusJs.getUserTypeAndAddress(et,at,{verifier:it,verifierId:k});if("v1"===ct.typeOfUser)return K?ct:ct.address;const yt=yield v.torusJs.getUserTypeAndAddress(et,at,{verifier:ut,verifierId:k},!0);return K?yt:yt.address}catch(ct){if(null!=ct&&ct.message.includes("Verifier + VerifierID has not yet been assigned")){const yt=yield v.torusJs.getUserTypeAndAddress(et,at,{verifier:ut,verifierId:k},!0);return K?yt:yt.address}throw ct}})()}getUserInfo(E){return new Promise((v,_)=>{if(this.isLoggedIn){const k=this.communicationMux.getStream("user_info_access");k.write({name:"user_info_access_request"}),xe(k,"data",J=>{const{name:et,data:{approved:at,payload:it,rejected:ut,newRequest:ct}}=J;if("user_info_access_response"===et)if(at)v(it);else if(ut)_(new Error("User rejected the request"));else if(ct){const yt=this.communicationMux.getStream("user_info");xe(yt,"data",Et=>{"user_info_response"===Et.name&&(Et.data.approved?v(Et.data.payload):_(new Error("User rejected the request")))});const xt=Ge();this._handleWindow(xt,{target:"_blank",features:Ar}),yt.write({name:"user_info_request",data:{message:E,preopenInstanceId:xt}})}})}else _(new Error("User has not logged in yet"))})}initiateTopup(E,v){return new Promise((_,k)=>{if(this.isInitialized){const{errors:K,isValid:J}=((U,E)=>{const v={};if(!U)return{errors:v,isValid:!0};if(U&&!Er[U])return v.provider="Invalid Provider",{errors:v,isValid:0===Object.keys(v).length};const _=Er[U],k=E||{};if(k.fiatValue){const K=+parseFloat(k.fiatValue.toString())||0;K<_.minOrderValue&&(v.fiatValue="Requested amount is lower than supported"),K>_.maxOrderValue&&_.enforceMax&&(v.fiatValue="Requested amount is higher than supported")}if(k.selectedCurrency&&!_.validCurrencies.includes(k.selectedCurrency)&&(v.selectedCurrency="Unsupported currency"),k.selectedCryptoCurrency){const K=Object.values(_.validCryptoCurrenciesByChain).flat().map(et=>et.value),J="moonpay"===U?k.selectedCryptoCurrency.toLowerCase():k.selectedCryptoCurrency;K&&!K.includes(J)&&(v.selectedCryptoCurrency="Unsupported cryptoCurrency")}return{errors:v,isValid:0===Object.keys(v).length}})(E,v);if(!J)return void k(new Error(JSON.stringify(K)));const et=this.communicationMux.getStream("topup");xe(et,"data",ut=>{"topup_response"===ut.name&&(ut.data.success?_(ut.data.success):k(new Error(ut.data.error)))});const it=Ge();this._handleWindow(it),et.write({name:"topup_request",data:{provider:E,params:v,preopenInstanceId:it}})}else k(new Error("Torus is not initialized yet"))})}loginWithPrivateKey(E){var v=this;return(0,y.Z)(function*(){const{privateKey:_,userInfo:k}=E;return new Promise((K,J)=>{if(v.isInitialized){if(32!==Buffer.from(_,"hex").length)return void J(new Error("Invalid private key, Please provide a 32 byte valid secp25k1 private key"));const et=v.communicationMux.getStream("login_with_private_key");xe(et,"data",it=>{"login_with_private_key_response"===it.name&&(it.data.success?K(it.data.success):J(new Error(it.data.error)))}),et.write({name:"login_with_private_key_request",data:{privateKey:_,userInfo:k}})}else J(new Error("Torus is not initialized yet"))})})()}showWalletConnectScanner(){var E=this;return(0,y.Z)(function*(){if(!E.useWalletConnect)throw new Error("Set `useWalletConnect` as true in init function options to use wallet connect scanner");return new Promise((v,_)=>{if(E.isLoggedIn){const k=E.communicationMux.getStream("wallet_connect_stream");xe(k,"data",J=>{"wallet_connect_stream_res"===J.name&&(J.data.success?v(J.data.success):_(new Error(J.data.error)),E._displayIframe())}),k.write({name:"wallet_connect_stream_req"}),E._displayIframe(!0)}else _(new Error("User has not logged in yet"))})})()}_handleWindow(E){let{url:v,target:_,features:k}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(E){const K=this.communicationMux.getStream("window"),J=new URL(v||"".concat(this.torusUrl,"/redirect?preopenInstanceId=").concat(E));this.dappStorageKey&&(J.hash?J.hash+="&dappStorageKey=".concat(this.dappStorageKey):J.hash="#dappStorageKey=".concat(this.dappStorageKey));const et=new ur({url:J,target:_,features:k});if(et.open(),!et.window)return void this._createPopupBlockAlert(E,J.href);K.write({name:"opened_window",data:{preopenInstanceId:E}});const at=it=>{let{preopenInstanceId:ut,close:ct}=it;ut===E&&ct&&(et.close(),K.removeListener("data",at))};K.on("data",at),et.once("close",()=>{K.write({data:{preopenInstanceId:E,closed:!0}}),K.removeListener("data",at)})}}_setEmbedWhiteLabel(E){const{theme:v}=this.whiteLabel||{};if(v){const{isDark:_=!1,colors:k={}}=v;_&&E.classList.add("torus-dark"),k.torusBrand1&&E.style.setProperty("--torus-brand-1",k.torusBrand1),k.torusGray2&&E.style.setProperty("--torus-gray-2",k.torusGray2)}}_getLogoUrl(){var E,v;let _="".concat(this.torusUrl,"/images/torus_icon-blue.svg");var k,K;return _=null!==(E=this.whiteLabel)&&void 0!==E&&null!==(v=E.theme)&&void 0!==v&&v.isDark?(null===(k=this.whiteLabel)||void 0===k?void 0:k.logoLight)||_:(null===(K=this.whiteLabel)||void 0===K?void 0:K.logoDark)||_,_}_sendWidgetVisibilityStatus(E){this.communicationMux.getStream("torus-widget-visibility").write({data:E})}_displayIframe(){let E=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const v={};if(E)v.display="block",v.width="100%",v.height="100%",v.top="0px",v.right="0px",v.left="0px",v.bottom="0px";else switch(v.display=this.torusWidgetVisibility?"block":"none",v.height="70px",v.width="70px",this.buttonPosition){case sr.TOP_LEFT:v.top="0px",v.left="0px",v.right="auto",v.bottom="auto";break;case sr.TOP_RIGHT:v.top="0px",v.right="0px",v.left="auto",v.bottom="auto";break;case sr.BOTTOM_RIGHT:v.bottom="0px",v.right="0px",v.top="auto",v.left="auto";break;default:v.bottom="0px",v.left="0px",v.top="auto",v.right="auto"}Object.assign(this.torusIframe.style,v),this.isIframeFullScreen=E}_setupWeb3(){ne.info("setupWeb3 running");const E=new Ye({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),v=new Ye({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),_=new se(E),k=ut=>{const ct=_[ut];_[ut]=function(Xt){if(Xt&&"eth_requestAccounts"===Xt)return _.enable();for(var xt=arguments.length,Et=new Array(xt>1?xt-1:0),Jt=1;Jt<xt;Jt++)Et[Jt-1]=arguments[Jt];return ct.apply(this,[Xt,...Et])}};k("send"),k("sendAsync"),_.enable=()=>new Promise((ut,ct)=>{_.sendAsync({jsonrpc:"2.0",id:Ge(),method:"eth_requestAccounts",params:[]},(yt,Xt)=>{const{result:xt}=Xt||{};if(yt)setTimeout(()=>{ct(yt)},50);else if(Array.isArray(xt)&&xt.length>0){const Et=()=>{if(""!==this.requestedVerifier&&this.currentVerifier!==this.requestedVerifier){const{requestedVerifier:Jt}=this;this.logout().then(Pt=>{this.requestedVerifier=Jt,this._showLoginPopup(!0,ut,ct)}).catch(Pt=>ct(Pt))}else ut(xt)};this.isLoggedIn?Et():this.isLoginCallback=Et}else this._showLoginPopup(!0,ut,ct)})}),_.tryPreopenHandle=(ut,ct)=>{const yt=ut;if(!Array.isArray(yt)&&ln.includes(yt.method)){const Xt=Ge();this._handleWindow(Xt,{target:"_blank",features:H}),yt.preopenInstanceId=Xt}_._rpcEngine.handle(yt,ct)};const K=new Proxy(_,{deleteProperty:()=>!0});this.ethereum=K;const J=function Kt(U){const E=new Je;return E.getStream=function(_){return this._substreams[_]?this._substreams[_]:this.createStream(_)},Ct()(U,E,U,v=>{v&&window.console.error(v)}),E}(v);this.communicationMux=J,J.getStream("window").on("data",ut=>{"create_window"===ut.name&&this._createPopupBlockAlert(ut.data.preopenInstanceId,ut.data.url)}),J.getStream("widget").on("data",ut=>{const{data:ct}=ut;this._displayIframe(ct)}),J.getStream("status").on("data",ut=>{ut.loggedIn?(this.isLoggedIn=ut.loggedIn,this.currentVerifier=ut.verifier):this._displayIframe(),this.isLoginCallback&&(this.isLoginCallback(),delete this.isLoginCallback)}),this.provider=K,this.provider.shouldSendMetadata&&function on(U){qr.apply(this,arguments)}(this.provider._rpcEngine),_._initializeState(),ne.debug("Torus - injected provider")}_showLoginPopup(E,v,_){const k=J=>{const{err:et,selectedAddress:at}=J;et?(ne.error(et),_&&_(et)):v&&v([at]),this.isIframeFullScreen&&this._displayIframe()},K=this.communicationMux.getStream("oauth");if(this.requestedVerifier){xe(K,"data",k);const J=Ge();this._handleWindow(J),K.write({name:"oauth",data:{calledFromEmbed:E,verifier:this.requestedVerifier,preopenInstanceId:J,login_hint:this.loginHint}})}else this._displayIframe(!0),xe(K,"data",k),K.write({name:"oauth_modal",data:{calledFromEmbed:E}})}_createPopupBlockAlert(E,v){const _=this._getLogoUrl(),k=$e('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(_,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),K=$e('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),J=$e('<div id="torusAlert__btn-container"></div>');J.appendChild(K),k.appendChild(J),this._setEmbedWhiteLabel(k),Ir(()=>{this.torusAlertContainer.style.display="block",this.torusAlertContainer.appendChild(k)}),Ir(()=>{K.addEventListener("click",()=>{this._handleWindow(E,{url:v,target:"_blank",features:H}),k.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})})}}var mn=function(){return function(U,E,v,_){return new(v||(v=Promise))(function(K,J){function et(ut){try{it(_.next(ut))}catch(ct){J(ct)}}function at(ut){try{it(_.throw(ut))}catch(ct){J(ct)}}function it(ut){ut.done?K(ut.value):function k(K){return K instanceof v?K:new v(function(J){J(K)})}(ut.value).then(et,at)}it((_=_.apply(U,E||[])).next())})}(void 0,void 0,void 0,function(){return function(U,E){var _,k,K,J,v={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return J={next:et(0),throw:et(1),return:et(2)},"function"==typeof Symbol&&(J[Symbol.iterator]=function(){return this}),J;function et(it){return function(ut){return function at(it){if(_)throw new TypeError("Generator is already executing.");for(;v;)try{if(_=1,k&&(K=2&it[0]?k.return:it[0]?k.throw||((K=k.return)&&K.call(k),0):k.next)&&!(K=K.call(k,it[1])).done)return K;switch(k=0,K&&(it=[2&it[0],K.value]),it[0]){case 0:case 1:K=it;break;case 4:return v.label++,{value:it[1],done:!1};case 5:v.label++,k=it[1],it=[0];continue;case 7:it=v.ops.pop(),v.trys.pop();continue;default:if(!(K=(K=v.trys).length>0&&K[K.length-1])&&(6===it[0]||2===it[0])){v=0;continue}if(3===it[0]&&(!K||it[1]>K[0]&&it[1]<K[3])){v.label=it[1];break}if(6===it[0]&&v.label<K[1]){v.label=K[1],K=it;break}if(K&&v.label<K[2]){v.label=K[2],v.ops.push(it);break}K[2]&&v.ops.pop(),v.trys.pop();continue}it=E.call(U,v)}catch(ut){it=[6,ut],k=0}finally{_=K=0}if(5&it[0])throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}([it,ut])}}}(this,function(U){return[2,new hn]})})}},94833:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ComposedStore=void 0;const y=m(53119);S.ComposedStore=class T extends y.ObservableStore{constructor(M){super({}),this._children=M||{},Object.keys(this._children).forEach(i=>{this._addChild(i,this._children[i])})}_addChild(M,i){const c=s=>{const f=this.getState();f[M]=s,this.putState(f)};i.subscribe(c),c(i.getState())}}},9276:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MergedStore=void 0;const y=m(53119);S.MergedStore=class T extends y.ObservableStore{constructor(M=[]){super({}),this._children=M,M.forEach(i=>this._addChild(i)),this._updateWholeState()}_addChild(M){M.subscribe(()=>this._updateWholeState())}_updateWholeState(){const M=this._children.map(c=>c.getState()),i=Object.assign({},...M);this.putState(i)}}},53119:function($,S,m){"use strict";var y=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(S,"__esModule",{value:!0}),S.ObservableStore=void 0;const T=y(m(70912));S.ObservableStore=class w extends T.default{constructor(i){super(),this._state=i||{}}getState(){return this._getState()}putState(i){this._putState(i),this.emit("update",i)}updateState(i){if(i&&"object"==typeof i){const c=this.getState();this.putState(Object.assign(Object.assign({},c),i))}else this.putState(i)}subscribe(i){this.on("update",i)}unsubscribe(i){this.removeListener("update",i)}_getState(){return this._state}_putState(i){this._state=i}}},48815:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.storeAsStream=void 0;const y=m(36917);class T extends y.Duplex{constructor(i){super({objectMode:!0}),this.resume(),this.handler=c=>this.push(c),this.obsStore=i,this.obsStore.subscribe(this.handler)}pipe(i,c){const s=super.pipe(i,c);return i.write(this.obsStore.getState()),s}_write(i,c,s){this.obsStore.putState(i),s()}_read(i){}_destroy(i,c){this.obsStore.unsubscribe(this.handler),super._destroy(i,c)}}S.storeAsStream=function w(M){return new T(M)}},84198:function($,S,m){"use strict";var y=this&&this.__createBinding||(Object.create?function(w,M,i,c){void 0===c&&(c=i),Object.defineProperty(w,c,{enumerable:!0,get:function(){return M[i]}})}:function(w,M,i,c){void 0===c&&(c=i),w[c]=M[i]}),T=this&&this.__exportStar||function(w,M){for(var i in w)"default"!==i&&!Object.prototype.hasOwnProperty.call(M,i)&&y(M,w,i)};Object.defineProperty(S,"__esModule",{value:!0}),T(m(48815),S),T(m(94833),S),T(m(9276),S),T(m(53119),S),T(m(82904),S)},82904:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.storeTransformStream=void 0;const y=m(24065);S.storeTransformStream=function T(w){return y.obj((M,i,c)=>{try{return void c(null,w(M))}catch(s){return void c(s)}})}},15814:($,S,m)=>{"use strict";var w=new(0,m(4913).ec)("secp256k1"),M=global.crypto||global.msCrypto||{},i=M.subtle||M.webkitSubtle,c=m(19726);const s=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),f=Buffer.alloc(32,0);function u(Y,G){if(!Y)throw new Error(G||"Assertion failed")}function l(Y){return!!function p(Y){return Buffer.isBuffer(Y)&&32===Y.length}(Y)&&Y.compare(f)>0&&Y.compare(s)<0}function x(Y){var G=new Uint8Array(Y);return typeof M.getRandomValues>"u"?Buffer.from(c.randomBytes(Y)):(M.getRandomValues(G),Buffer.from(G))}function R(Y){return function(G,st,h){return new Promise(function(t){if(i)return i.importKey("raw",st,{name:"AES-CBC"},!1,[Y]).then(function(A){return i[Y]({name:"AES-CBC",iv:G},A,h)}).then(function(A){t(Buffer.from(new Uint8Array(A)))});if("encrypt"===Y){var a=c.createCipheriv("aes-256-cbc",st,G);let A=a.update(h),B=a.final();t(Buffer.concat([A,B]))}else if("decrypt"===Y){var g=c.createDecipheriv("aes-256-cbc",st,G);let A=g.update(h),B=g.final();t(Buffer.concat([A,B]))}})}}R("encrypt");var C=R("decrypt");S.oq=function(){for(var Y=x(32);!l(Y);)Y=x(32);return Y};S.rc=function(Y){return u(32===Y.length,"Bad private key"),u(l(Y),"Bad private key"),Buffer.from(w.keyFromPrivate(Y).getPublic("arr"))};S.pe=function(Y,G){var st;return function(Y,G){return new Promise(function(st){u(Buffer.isBuffer(Y),"Bad private key"),u(Buffer.isBuffer(G),"Bad public key"),u(32===Y.length,"Bad private key"),u(l(Y),"Bad private key"),u(65===G.length||33===G.length,"Bad public key"),65===G.length&&u(4===G[0],"Bad public key"),33===G.length&&u(2===G[0]||3===G[0],"Bad public key");var h=w.keyFromPrivate(Y),t=w.keyFromPublic(G),r=h.derive(t.getPublic());st(Buffer.from(r.toArray()))})}(Y,G.ephemPublicKey).then(function(h){return function O(Y){return new Promise(function(G){var h=c.createHash("sha512").update(Y).digest();G(new Uint8Array(h))})}(h)}).then(function(h){return st=h.slice(0,32),function j(Y,G,st){return new Promise(function(h){var t=c.createHmac("sha256",Buffer.from(Y));t.update(G),h(function b(Y,G){if(Y.length!==G.length)return!1;for(var st=0,h=0;h<Y.length;h++)st|=Y[h]^G[h];return 0===st}(t.digest(),st))})}(h.slice(32),Buffer.concat([G.iv,G.ephemPublicKey,G.ciphertext]),G.mac)}).then(function(h){return u(h,"Bad MAC"),C(G.iv,st,G.ciphertext)}).then(function(h){return Buffer.from(new Uint8Array(h))})}},68011:($,S,m)=>{"use strict";var T=m(488);function w(u,p){return void 0===p&&(p="utf8"),Buffer.isBuffer(u)?c(u.toString("base64")):c(Buffer.from(u,p).toString("base64"))}function i(u){return u=u.toString(),T.default(u).replace(/\-/g,"+").replace(/_/g,"/")}function c(u){return u.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var f=w;f.encode=w,f.decode=function M(u,p){return void 0===p&&(p="utf8"),Buffer.from(i(u),"base64").toString(p)},f.toBase64=i,f.fromBase64=c,f.toBuffer=function s(u){return Buffer.from(i(u),"base64")},S.default=f},488:($,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function m(y){var w=y.length,M=w%4;if(!M)return y;var i=w,c=4-M,f=Buffer.alloc(w+c);for(f.write(y);c--;)f.write("=",i++);return f.toString()}},90344:($,S,m)=>{$.exports=m(68011).default,$.exports.default=$.exports},35967:($,S)=>{function O(R){return Object.prototype.toString.call(R)}S.isArray=function m(R){return Array.isArray?Array.isArray(R):"[object Array]"===O(R)},S.isBoolean=function y(R){return"boolean"==typeof R},S.isNull=function T(R){return null===R},S.isNullOrUndefined=function w(R){return null==R},S.isNumber=function M(R){return"number"==typeof R},S.isString=function i(R){return"string"==typeof R},S.isSymbol=function c(R){return"symbol"==typeof R},S.isUndefined=function s(R){return void 0===R},S.isRegExp=function f(R){return"[object RegExp]"===O(R)},S.isObject=function u(R){return"object"==typeof R&&null!==R},S.isDate=function p(R){return"[object Date]"===O(R)},S.isError=function l(R){return"[object Error]"===O(R)||R instanceof Error},S.isFunction=function b(R){return"function"==typeof R},S.isPrimitive=function x(R){return null===R||"boolean"==typeof R||"number"==typeof R||"string"==typeof R||"symbol"==typeof R||typeof R>"u"},S.isBuffer=Buffer.isBuffer},6875:($,S,m)=>{var y=m(23866),T=function(){},i=function(c,s,f){if("function"==typeof s)return i(c,null,s);s||(s={}),f=y(f||T);var u=c._writableState,p=c._readableState,l=s.readable||!1!==s.readable&&c.readable,b=s.writable||!1!==s.writable&&c.writable,x=!1,O=function(){c.writable||R()},R=function(){b=!1,l||f.call(c)},D=function(){l=!1,b||f.call(c)},C=function(P){f.call(c,P?new Error("exited with error code: "+P):null)},F=function(P){f.call(c,P)},j=function(){process.nextTick(N)},N=function(){if(!x){if(l&&(!p||!p.ended||p.destroyed))return f.call(c,new Error("premature close"));if(b&&(!u||!u.ended||u.destroyed))return f.call(c,new Error("premature close"))}},z=function(){c.req.on("finish",R)};return function(c){return c.setHeader&&"function"==typeof c.abort}(c)?(c.on("complete",R),c.on("abort",j),c.req?z():c.on("request",z)):b&&!u&&(c.on("end",O),c.on("close",O)),function(c){return c.stdio&&Array.isArray(c.stdio)&&3===c.stdio.length}(c)&&c.on("exit",C),c.on("end",D),c.on("finish",R),!1!==s.error&&c.on("error",F),c.on("close",j),function(){x=!0,c.removeListener("complete",R),c.removeListener("abort",j),c.removeListener("request",z),c.req&&c.req.removeListener("finish",R),c.removeListener("end",O),c.removeListener("close",O),c.removeListener("finish",R),c.removeListener("exit",C),c.removeListener("end",D),c.removeListener("error",F),c.removeListener("close",j)}};$.exports=i},83982:$=>{var S=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};$.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return S()}try{return __global__||S()}finally{delete Object.prototype.__global__}}()},61569:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const y=m(63957);function T(p){return!("string"!=typeof p||!/^(0x)?[0-9a-f]{512}$/i.test(p)||!/^(0x)?[0-9a-f]{512}$/.test(p)&&!/^(0x)?[0-9A-F]{512}$/.test(p))}function w(p,l){"object"==typeof l&&l.constructor===Uint8Array&&(l=y.bytesToHex(l));const b=y.keccak256(l).replace("0x","");for(let x=0;x<12;x+=4){const O=(parseInt(b.substr(x,2),16)<<8)+parseInt(b.substr(x+2,2),16)&2047,D=1<<O%4;if((M(p.charCodeAt(p.length-1-Math.floor(O/4)))&D)!==D)return!1}return!0}function M(p){if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;throw new Error("invalid bloom")}function f(p){return!("string"!=typeof p||!/^(0x)?[0-9a-f]{64}$/i.test(p)||!/^(0x)?[0-9a-f]{64}$/.test(p)&&!/^(0x)?[0-9A-F]{64}$/.test(p))}function u(p){return"string"==typeof p&&!(!p.match(/^(0x)?[0-9a-fA-F]{40}$/)&&!p.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}S.isBloom=T,S.isInBloom=w,S.isUserEthereumAddressInBloom=function i(p,l){if(!T(p))throw new Error("Invalid bloom given");if(!u(l))throw new Error(`Invalid ethereum address given: "${l}"`);return w(p,y.padLeft(l,64))},S.isContractAddressInBloom=function c(p,l){if(!T(p))throw new Error("Invalid bloom given");if(!u(l))throw new Error(`Invalid contract address given: "${l}"`);return w(p,l)},S.isTopicInBloom=function s(p,l){if(!T(p))throw new Error("Invalid bloom given");if(!f(l))throw new Error("Invalid topic");return w(p,l)},S.isTopic=f,S.isAddress=u},63957:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const y=m(81403);function M(s){if(null==s)throw new Error("cannot convert null value to array");if("string"==typeof s){const f=s.match(/^(0x)?[0-9a-fA-F]*$/);if(!f)throw new Error("invalid hexidecimal string");if("0x"!==f[1])throw new Error("hex string must have 0x prefix");(s=s.substring(2)).length%2&&(s="0"+s);const u=[];for(let p=0;p<s.length;p+=2)u.push(parseInt(s.substr(p,2),16));return c(new Uint8Array(u))}if(function i(s){if(!s||parseInt(String(s.length))!=s.length||"string"==typeof s)return!1;for(let f=0;f<s.length;f++){const u=s[f];if(u<0||u>=256||parseInt(String(u))!=u)return!1}return!0}(s))return c(new Uint8Array(s));throw new Error("invalid arrayify value")}function c(s){return void 0!==s.slice||(s.slice=()=>{const f=Array.prototype.slice.call(arguments);return c(new Uint8Array(Array.prototype.slice.apply(s,f)))}),s}S.keccak256=function T(s){return"0x"+y.keccak_256(M(s))},S.padLeft=(s,f)=>{const u=/^0x/i.test(s)||"number"==typeof s;return s=s.toString().replace(/^0x/i,""),(u?"0x":"")+new Array(f-s.length+1>=0?f-s.length+1:0).join("0")+s},S.bytesToHex=function w(s){const f=[];for(let u=0;u<s.length;u++)f.push((s[u]>>>4).toString(16)),f.push((15&s[u]).toString(16));return`0x${f.join("").replace(/^0+/,"")}`},S.toByteArray=M},8355:function($,S,m){"use strict";var y=this&&this.__read||function(h,t){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var a,A,o=r.call(h),g=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)g.push(a.value)}catch(B){A={error:B}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(A)throw A.error}}return g},T=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(S,"__esModule",{value:!0}),S.isZeroAddress=S.zeroAddress=S.importPublic=S.privateToAddress=S.privateToPublic=S.publicToAddress=S.pubToAddress=S.isValidPublic=S.isValidPrivate=S.generateAddress2=S.generateAddress=S.isValidChecksumAddress=S.toChecksumAddress=S.isValidAddress=S.Account=void 0;var w=T(m(80469)),M=m(59969),i=m(37712),c=m(975),s=m(62221),f=m(5479),u=m(1438),p=m(33439),l=m(12858),b=function(){function h(t,r,o,a){void 0===t&&(t=new M.BN(0)),void 0===r&&(r=new M.BN(0)),void 0===o&&(o=s.KECCAK256_RLP),void 0===a&&(a=s.KECCAK256_NULL),this.nonce=t,this.balance=r,this.stateRoot=o,this.codeHash=a,this._validate()}return h.fromAccountData=function(t){var r=t.nonce,o=t.balance,a=t.stateRoot,g=t.codeHash;return new h(r?new M.BN((0,f.toBuffer)(r)):void 0,o?new M.BN((0,f.toBuffer)(o)):void 0,a?(0,f.toBuffer)(a):void 0,g?(0,f.toBuffer)(g):void 0)},h.fromRlpSerializedAccount=function(t){var r=M.rlp.decode(t);if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)},h.fromValuesArray=function(t){var r=y(t,4),a=r[1],g=r[2],A=r[3];return new h(new M.BN(r[0]),new M.BN(a),g,A)},h.prototype._validate=function(){if(this.nonce.lt(new M.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new M.BN(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},h.prototype.raw=function(){return[(0,l.bnToUnpaddedBuffer)(this.nonce),(0,l.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},h.prototype.serialize=function(){return M.rlp.encode(this.raw())},h.prototype.isContract=function(){return!this.codeHash.equals(s.KECCAK256_NULL)},h.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(s.KECCAK256_NULL)},h}();S.Account=b,S.isValidAddress=function(h){try{(0,p.assertIsString)(h)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(h)},S.toChecksumAddress=function(h,t){(0,p.assertIsHexString)(h);var r=(0,c.stripHexPrefix)(h).toLowerCase(),o="";t&&(o=(0,l.toType)(t,l.TypeOutput.BN).toString()+"0x");for(var g=(0,u.keccakFromString)(o+r).toString("hex"),A="0x",B=0;B<r.length;B++)parseInt(g[B],16)>=8?A+=r[B].toUpperCase():A+=r[B];return A},S.isValidChecksumAddress=function(h,t){return(0,S.isValidAddress)(h)&&(0,S.toChecksumAddress)(h,t)===h},S.generateAddress=function(h,t){(0,p.assertIsBuffer)(h),(0,p.assertIsBuffer)(t);var r=new M.BN(t);return r.isZero()?(0,u.rlphash)([h,null]).slice(-20):(0,u.rlphash)([h,Buffer.from(r.toArray())]).slice(-20)},S.generateAddress2=function(h,t,r){return(0,p.assertIsBuffer)(h),(0,p.assertIsBuffer)(t),(0,p.assertIsBuffer)(r),(0,w.default)(20===h.length),(0,w.default)(32===t.length),(0,u.keccak256)(Buffer.concat([Buffer.from("ff","hex"),h,t,(0,u.keccak256)(r)])).slice(-20)},S.isValidPrivate=function(h){return(0,i.privateKeyVerify)(h)},S.isValidPublic=function(h,t){return void 0===t&&(t=!1),(0,p.assertIsBuffer)(h),64===h.length?(0,i.publicKeyVerify)(Buffer.concat([Buffer.from([4]),h])):!!t&&(0,i.publicKeyVerify)(h)},S.pubToAddress=function(h,t){return void 0===t&&(t=!1),(0,p.assertIsBuffer)(h),t&&64!==h.length&&(h=Buffer.from((0,i.publicKeyConvert)(h,!1).slice(1))),(0,w.default)(64===h.length),(0,u.keccak)(h).slice(-20)},S.publicToAddress=S.pubToAddress,S.privateToPublic=function(h){return(0,p.assertIsBuffer)(h),Buffer.from((0,i.publicKeyCreate)(h,!1)).slice(1)},S.privateToAddress=function(h){return(0,S.publicToAddress)((0,S.privateToPublic)(h))},S.importPublic=function(h){return(0,p.assertIsBuffer)(h),64!==h.length&&(h=Buffer.from((0,i.publicKeyConvert)(h,!1).slice(1))),h},S.zeroAddress=function(){var t=(0,f.zeros)(20);return(0,f.bufferToHex)(t)},S.isZeroAddress=function(h){try{(0,p.assertIsString)(h)}catch{return!1}return(0,S.zeroAddress)()===h}},71484:function($,S,m){"use strict";var y=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(S,"__esModule",{value:!0}),S.Address=void 0;var T=y(m(80469)),w=m(59969),M=m(5479),i=m(8355),c=function(){function s(f){(0,T.default)(20===f.length,"Invalid address length"),this.buf=f}return s.zero=function(){return new s((0,M.zeros)(20))},s.fromString=function(f){return(0,T.default)((0,i.isValidAddress)(f),"Invalid address"),new s((0,M.toBuffer)(f))},s.fromPublicKey=function(f){return(0,T.default)(Buffer.isBuffer(f),"Public key should be Buffer"),new s((0,i.pubToAddress)(f))},s.fromPrivateKey=function(f){return(0,T.default)(Buffer.isBuffer(f),"Private key should be Buffer"),new s((0,i.privateToAddress)(f))},s.generate=function(f,u){return(0,T.default)(w.BN.isBN(u)),new s((0,i.generateAddress)(f.buf,u.toArrayLike(Buffer)))},s.generate2=function(f,u,p){return(0,T.default)(Buffer.isBuffer(u)),(0,T.default)(Buffer.isBuffer(p)),new s((0,i.generateAddress2)(f.buf,u,p))},s.prototype.equals=function(f){return this.buf.equals(f.buf)},s.prototype.isZero=function(){return this.equals(s.zero())},s.prototype.isPrecompileOrSystemAddress=function(){var f=new w.BN(this.buf),u=new w.BN(0),p=new w.BN("ffff","hex");return f.gte(u)&&f.lte(p)},s.prototype.toString=function(){return"0x"+this.buf.toString("hex")},s.prototype.toBuffer=function(){return Buffer.from(this.buf)},s}();S.Address=c},5479:function($,S,m){"use strict";var y=this&&this.__values||function(t){var r="function"==typeof Symbol&&Symbol.iterator,o=r&&t[r],a=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},T=this&&this.__read||function(t,r){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var g,B,a=o.call(t),A=[];try{for(;(void 0===r||r-- >0)&&!(g=a.next()).done;)A.push(g.value)}catch(d){B={error:d}}finally{try{g&&!g.done&&(o=a.return)&&o.call(a)}finally{if(B)throw B.error}}return A};Object.defineProperty(S,"__esModule",{value:!0}),S.bufArrToArr=S.arrToBufArr=S.validateNoLeadingZeroes=S.baToJSON=S.toUtf8=S.addHexPrefix=S.toUnsigned=S.fromSigned=S.bufferToHex=S.bufferToInt=S.toBuffer=S.unpadHexString=S.unpadArray=S.unpadBuffer=S.setLengthRight=S.setLengthLeft=S.zeros=S.intToBuffer=S.intToHex=void 0;var w=m(59969),M=m(975),i=m(33439);S.intToHex=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("Received an invalid integer type: ".concat(t));return"0x".concat(t.toString(16))},S.intToBuffer=function(t){var r=(0,S.intToHex)(t);return Buffer.from((0,M.padToEven)(r.slice(2)),"hex")},S.zeros=function(t){return Buffer.allocUnsafe(t).fill(0)};var u=function(t,r,o){var a=(0,S.zeros)(r);return o?t.length<r?(t.copy(a),a):t.slice(0,r):t.length<r?(t.copy(a,r-t.length),a):t.slice(-r)};S.setLengthLeft=function(t,r){return(0,i.assertIsBuffer)(t),u(t,r,!1)},S.setLengthRight=function(t,r){return(0,i.assertIsBuffer)(t),u(t,r,!0)};var b=function(t){for(var r=t[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t};S.unpadBuffer=function(t){return(0,i.assertIsBuffer)(t),b(t)},S.unpadArray=function(t){return(0,i.assertIsArray)(t),b(t)},S.unpadHexString=function(t){return(0,i.assertIsHexString)(t),t=(0,M.stripHexPrefix)(t),b(t)},S.toBuffer=function(t){if(null==t)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(t)||Array.isArray(t)||t instanceof Uint8Array)return Buffer.from(t);if("string"==typeof t){if(!(0,M.isHexString)(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(t));return Buffer.from((0,M.padToEven)((0,M.stripHexPrefix)(t)),"hex")}if("number"==typeof t)return(0,S.intToBuffer)(t);if(w.BN.isBN(t)){if(t.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(t));return t.toArrayLike(Buffer)}if(t.toArray)return Buffer.from(t.toArray());if(t.toBuffer)return Buffer.from(t.toBuffer());throw new Error("invalid type")},S.bufferToInt=function(t){return new w.BN((0,S.toBuffer)(t)).toNumber()},S.bufferToHex=function(t){return"0x"+(t=(0,S.toBuffer)(t)).toString("hex")},S.fromSigned=function(t){return new w.BN(t).fromTwos(256)},S.toUnsigned=function(t){return Buffer.from(t.toTwos(256).toArray())},S.addHexPrefix=function(t){return"string"!=typeof t||(0,M.isHexPrefixed)(t)?t:"0x"+t},S.toUtf8=function(t){if((t=(0,M.stripHexPrefix)(t)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(t.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")},S.baToJSON=function(t){if(Buffer.isBuffer(t))return"0x".concat(t.toString("hex"));if(t instanceof Array){for(var r=[],o=0;o<t.length;o++)r.push((0,S.baToJSON)(t[o]));return r}},S.validateNoLeadingZeroes=function(t){var r,o;try{for(var a=y(Object.entries(t)),g=a.next();!g.done;g=a.next()){var A=T(g.value,2),d=A[1];if(void 0!==d&&d.length>0&&0===d[0])throw new Error("".concat(A[0]," cannot have leading zeroes, received: ").concat(d.toString("hex")))}}catch(e){r={error:e}}finally{try{g&&!g.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}},S.arrToBufArr=function st(t){return Array.isArray(t)?t.map(function(r){return st(r)}):Buffer.from(t)},S.bufArrToArr=function h(t){return Array.isArray(t)?t.map(function(r){return h(r)}):Uint8Array.from(t??[])}},62221:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KECCAK256_RLP=S.KECCAK256_RLP_S=S.KECCAK256_RLP_ARRAY=S.KECCAK256_RLP_ARRAY_S=S.KECCAK256_NULL=S.KECCAK256_NULL_S=S.TWO_POW256=S.MAX_INTEGER=S.MAX_UINT64=void 0;var y=m(44381),T=m(59969);S.MAX_UINT64=new T.BN("ffffffffffffffff",16),S.MAX_INTEGER=new T.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),S.TWO_POW256=new T.BN("10000000000000000000000000000000000000000000000000000000000000000",16),S.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",S.KECCAK256_NULL=y.Buffer.from(S.KECCAK256_NULL_S,"hex"),S.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",S.KECCAK256_RLP_ARRAY=y.Buffer.from(S.KECCAK256_RLP_ARRAY_S,"hex"),S.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",S.KECCAK256_RLP=y.Buffer.from(S.KECCAK256_RLP_S,"hex")},59969:function($,S,m){"use strict";var y=this&&this.__createBinding||(Object.create?function(s,f,u,p){void 0===p&&(p=u);var l=Object.getOwnPropertyDescriptor(f,u);(!l||("get"in l?!f.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return f[u]}}),Object.defineProperty(s,p,l)}:function(s,f,u,p){void 0===p&&(p=u),s[p]=f[u]}),T=this&&this.__setModuleDefault||(Object.create?function(s,f){Object.defineProperty(s,"default",{enumerable:!0,value:f})}:function(s,f){s.default=f}),w=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var f={};if(null!=s)for(var u in s)"default"!==u&&Object.prototype.hasOwnProperty.call(s,u)&&y(f,s,u);return T(f,s),f},M=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(S,"__esModule",{value:!0}),S.rlp=S.BN=void 0;var i=M(m(17907));S.BN=i.default;var c=w(m(26651));S.rlp=c},1438:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.rlphash=S.ripemd160FromArray=S.ripemd160FromString=S.ripemd160=S.sha256FromArray=S.sha256FromString=S.sha256=S.keccakFromArray=S.keccakFromHexString=S.keccakFromString=S.keccak256=S.keccak=void 0;var y=m(75512),T=m(45429),w=m(59969),M=m(5479),i=m(33439);S.keccak=function(N,z){switch(void 0===z&&(z=256),(0,i.assertIsBuffer)(N),z){case 224:return(0,y.keccak224)(N);case 256:return(0,y.keccak256)(N);case 384:return(0,y.keccak384)(N);case 512:return(0,y.keccak512)(N);default:throw new Error("Invald algorithm: keccak".concat(z))}},S.keccak256=function(N){return(0,S.keccak)(N)},S.keccakFromString=function(N,z){void 0===z&&(z=256),(0,i.assertIsString)(N);var P=Buffer.from(N,"utf8");return(0,S.keccak)(P,z)},S.keccakFromHexString=function(N,z){return void 0===z&&(z=256),(0,i.assertIsHexString)(N),(0,S.keccak)((0,M.toBuffer)(N),z)},S.keccakFromArray=function(N,z){return void 0===z&&(z=256),(0,i.assertIsArray)(N),(0,S.keccak)((0,M.toBuffer)(N),z)};var l=function(N){return N=(0,M.toBuffer)(N),T("sha256").update(N).digest()};S.sha256=function(N){return(0,i.assertIsBuffer)(N),l(N)},S.sha256FromString=function(N){return(0,i.assertIsString)(N),l(N)},S.sha256FromArray=function(N){return(0,i.assertIsArray)(N),l(N)};var R=function(N,z){N=(0,M.toBuffer)(N);var P=T("rmd160").update(N).digest();return!0===z?(0,M.setLengthLeft)(P,32):P};S.ripemd160=function(N,z){return(0,i.assertIsBuffer)(N),R(N,z)},S.ripemd160FromString=function(N,z){return(0,i.assertIsString)(N),R(N,z)},S.ripemd160FromArray=function(N,z){return(0,i.assertIsArray)(N),R(N,z)},S.rlphash=function(N){return(0,S.keccak)(w.rlp.encode(N))}},33439:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.assertIsString=S.assertIsArray=S.assertIsBuffer=S.assertIsHexString=void 0;var y=m(975);S.assertIsHexString=function(c){if(!(0,y.isHexString)(c)){var s="This method only supports 0x-prefixed hex strings but input was: ".concat(c);throw new Error(s)}},S.assertIsBuffer=function(c){if(!Buffer.isBuffer(c)){var s="This method only supports Buffer but input was: ".concat(c);throw new Error(s)}},S.assertIsArray=function(c){if(!Array.isArray(c)){var s="This method only supports number arrays but input was: ".concat(c);throw new Error(s)}},S.assertIsString=function(c){if("string"!=typeof c){var s="This method only supports strings but input was: ".concat(c);throw new Error(s)}}},57215:function($,S,m){"use strict";var y=this&&this.__createBinding||(Object.create?function(M,i,c,s){void 0===s&&(s=c);var f=Object.getOwnPropertyDescriptor(i,c);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[c]}}),Object.defineProperty(M,s,f)}:function(M,i,c,s){void 0===s&&(s=c),M[s]=i[c]}),T=this&&this.__exportStar||function(M,i){for(var c in M)"default"!==c&&!Object.prototype.hasOwnProperty.call(i,c)&&y(i,M,c)};Object.defineProperty(S,"__esModule",{value:!0}),S.isHexString=S.getKeys=S.fromAscii=S.fromUtf8=S.toAscii=S.arrayContainsArray=S.getBinarySize=S.padToEven=S.stripHexPrefix=S.isHexPrefixed=void 0,T(m(62221),S),T(m(8355),S),T(m(71484),S),T(m(1438),S),T(m(60231),S),T(m(5479),S),T(m(26668),S),T(m(59969),S),T(m(12858),S);var w=m(975);Object.defineProperty(S,"isHexPrefixed",{enumerable:!0,get:function(){return w.isHexPrefixed}}),Object.defineProperty(S,"stripHexPrefix",{enumerable:!0,get:function(){return w.stripHexPrefix}}),Object.defineProperty(S,"padToEven",{enumerable:!0,get:function(){return w.padToEven}}),Object.defineProperty(S,"getBinarySize",{enumerable:!0,get:function(){return w.getBinarySize}}),Object.defineProperty(S,"arrayContainsArray",{enumerable:!0,get:function(){return w.arrayContainsArray}}),Object.defineProperty(S,"toAscii",{enumerable:!0,get:function(){return w.toAscii}}),Object.defineProperty(S,"fromUtf8",{enumerable:!0,get:function(){return w.fromUtf8}}),Object.defineProperty(S,"fromAscii",{enumerable:!0,get:function(){return w.fromAscii}}),Object.defineProperty(S,"getKeys",{enumerable:!0,get:function(){return w.getKeys}}),Object.defineProperty(S,"isHexString",{enumerable:!0,get:function(){return w.isHexString}})},975:($,S)=>{"use strict";function m(p){if("string"!=typeof p)throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof p));return"0"===p[0]&&"x"===p[1]}function T(p){var l=p;if("string"!=typeof l)throw new Error("[padToEven] value must be type 'string', received ".concat(typeof l));return l.length%2&&(l="0".concat(l)),l}Object.defineProperty(S,"__esModule",{value:!0}),S.isHexString=S.getKeys=S.fromAscii=S.fromUtf8=S.toAscii=S.arrayContainsArray=S.getBinarySize=S.padToEven=S.stripHexPrefix=S.isHexPrefixed=void 0,S.isHexPrefixed=m,S.stripHexPrefix=function(p){if("string"!=typeof p)throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof p));return m(p)?p.slice(2):p},S.padToEven=T,S.getBinarySize=function w(p){if("string"!=typeof p)throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof p));return Buffer.byteLength(p,"utf8")},S.arrayContainsArray=function M(p,l,b){if(!0!==Array.isArray(p))throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof p,"'"));if(!0!==Array.isArray(l))throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof l,"'"));return l[b?"some":"every"](function(x){return p.indexOf(x)>=0})},S.toAscii=function i(p){var l="",b=0,x=p.length;for("0x"===p.substring(0,2)&&(b=2);b<x;b+=2){var O=parseInt(p.substr(b,2),16);l+=String.fromCharCode(O)}return l},S.fromUtf8=function c(p){var l=Buffer.from(p,"utf8");return"0x".concat(T(l.toString("hex")).replace(/^0+|0+$/g,""))},S.fromAscii=function s(p){for(var l="",b=0;b<p.length;b++){var O=p.charCodeAt(b).toString(16);l+=O.length<2?"0".concat(O):O}return"0x".concat(l)},S.getKeys=function f(p,l,b){if(!Array.isArray(p))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof p));if("string"!=typeof l)throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof p));for(var x=[],O=0;O<p.length;O++){var R=p[O][l];if(b&&!R)R="";else if("string"!=typeof R)throw new Error("invalid abi - expected type 'string', received ".concat(typeof R));x.push(R)}return x},S.isHexString=function u(p,l){return!("string"!=typeof p||!p.match(/^0x[0-9A-Fa-f]*$/)||l&&p.length!==2+2*l)}},26668:function($,S,m){"use strict";var y=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(S,"__esModule",{value:!0}),S.defineProperties=void 0;var T=y(m(80469)),w=m(975),M=m(59969),i=m(5479);S.defineProperties=function(s,f,u){if(s.raw=[],s._fields=[],s.toJSON=function(l){if(void 0===l&&(l=!1),l){var b={};return s._fields.forEach(function(x){b[x]="0x".concat(s[x].toString("hex"))}),b}return(0,i.baToJSON)(s.raw)},s.serialize=function(){return M.rlp.encode(s.raw)},f.forEach(function(l,b){function x(){return s.raw[b]}function O(R){"00"===(R=(0,i.toBuffer)(R)).toString("hex")&&!l.allowZero&&(R=Buffer.allocUnsafe(0)),l.allowLess&&l.length?(R=(0,i.unpadBuffer)(R),(0,T.default)(l.length>=R.length,"The field ".concat(l.name," must not have more ").concat(l.length," bytes"))):!(l.allowZero&&0===R.length)&&l.length&&(0,T.default)(l.length===R.length,"The field ".concat(l.name," must have byte length of ").concat(l.length)),s.raw[b]=R}s._fields.push(l.name),Object.defineProperty(s,l.name,{enumerable:!0,configurable:!0,get:x,set:O}),l.default&&(s[l.name]=l.default),l.alias&&Object.defineProperty(s,l.alias,{enumerable:!1,configurable:!0,set:O,get:x})}),u)if("string"==typeof u&&(u=Buffer.from((0,w.stripHexPrefix)(u),"hex")),Buffer.isBuffer(u)&&(u=M.rlp.decode(u)),Array.isArray(u)){if(u.length>s._fields.length)throw new Error("wrong number of fields in data");u.forEach(function(l,b){s[s._fields[b]]=(0,i.toBuffer)(l)})}else{if("object"!=typeof u)throw new Error("invalid data");var p=Object.keys(u);f.forEach(function(l){-1!==p.indexOf(l.name)&&(s[l.name]=u[l.name]),-1!==p.indexOf(l.alias)&&(s[l.alias]=u[l.alias])})}}},60231:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.hashPersonalMessage=S.isValidSignature=S.fromRpcSig=S.toCompactSig=S.toRpcSig=S.ecrecover=S.ecsign=void 0;var y=m(37712),T=m(59969),w=m(5479),M=m(1438),i=m(33439),c=m(12858);function f(D,C){var F=(0,c.toType)(D,c.TypeOutput.BN);if(F.eqn(0)||F.eqn(1))return(0,c.toType)(D,c.TypeOutput.BN);if(!C)return F.subn(27);var j=(0,c.toType)(C,c.TypeOutput.BN);return F.sub(j.muln(2).addn(35))}function u(D){var C=new T.BN(D);return C.eqn(0)||C.eqn(1)}S.ecsign=function s(D,C,F){var j=(0,y.ecdsaSign)(D,C),N=j.signature,z=j.recid,P=Buffer.from(N.slice(0,32)),Y=Buffer.from(N.slice(32,64));if(!F||"number"==typeof F){if(F&&!Number.isSafeInteger(F))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:P,s:Y,v:F?z+(2*F+35):z+27}}return{r:P,s:Y,v:(0,c.toType)(F,c.TypeOutput.BN).muln(2).addn(35).addn(z).toArrayLike(Buffer)}},S.ecrecover=function(D,C,F,j,N){var z=Buffer.concat([(0,w.setLengthLeft)(F,32),(0,w.setLengthLeft)(j,32)],64),P=f(C,N);if(!u(P))throw new Error("Invalid signature v value");var Y=(0,y.ecdsaRecover)(z,P.toNumber(),D);return Buffer.from((0,y.publicKeyConvert)(Y,!1).slice(1))},S.toRpcSig=function(D,C,F,j){if(!u(f(D,j)))throw new Error("Invalid signature v value");return(0,w.bufferToHex)(Buffer.concat([(0,w.setLengthLeft)(C,32),(0,w.setLengthLeft)(F,32),(0,w.toBuffer)(D)]))},S.toCompactSig=function(D,C,F,j){if(!u(f(D,j)))throw new Error("Invalid signature v value");var z=(0,c.toType)(D,c.TypeOutput.Number),P=F;return(z>28&&z%2==1||1===z||28===z)&&((P=Buffer.from(F))[0]|=128),(0,w.bufferToHex)(Buffer.concat([(0,w.setLengthLeft)(C,32),(0,w.setLengthLeft)(P,32)]))},S.fromRpcSig=function(D){var F,j,N,C=(0,w.toBuffer)(D);if(C.length>=65)F=C.slice(0,32),j=C.slice(32,64),N=(0,w.bufferToInt)(C.slice(64));else{if(64!==C.length)throw new Error("Invalid signature length");F=C.slice(0,32),j=C.slice(32,64),N=(0,w.bufferToInt)(C.slice(32,33))>>7,j[0]&=127}return N<27&&(N+=27),{v:N,r:F,s:j}},S.isValidSignature=function(D,C,F,j,N){void 0===j&&(j=!0);var z=new T.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),P=new T.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==C.length||32!==F.length||!u(f(D,N)))return!1;var Y=new T.BN(C),G=new T.BN(F);return!(Y.isZero()||Y.gt(P)||G.isZero()||G.gt(P)||j&&1===G.cmp(z))},S.hashPersonalMessage=function(D){(0,i.assertIsBuffer)(D);var C=Buffer.from("\x19Ethereum Signed Message:\n".concat(D.length),"utf-8");return(0,M.keccak)(Buffer.concat([C,D]))}},12858:($,S,m)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toType=S.TypeOutput=S.bnToRlp=S.bnToUnpaddedBuffer=S.bnToHex=void 0;var s,u,y=m(59969),T=m(975),w=m(5479);function i(u){return(0,w.unpadBuffer)(u.toArrayLike(Buffer))}S.bnToHex=function M(u){return"0x".concat(u.toString(16))},S.bnToUnpaddedBuffer=i,S.bnToRlp=function c(u){return i(u)},(u=s=S.TypeOutput||(S.TypeOutput={}))[u.Number=0]="Number",u[u.BN=1]="BN",u[u.Buffer=2]="Buffer",u[u.PrefixedHexString=3]="PrefixedHexString",S.toType=function f(u,p){if(null===u)return null;if(void 0!==u){if("string"==typeof u&&!(0,T.isHexString)(u))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(u));if("number"==typeof u&&!Number.isSafeInteger(u))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var l=(0,w.toBuffer)(u);if(p===s.Buffer)return l;if(p===s.BN)return new y.BN(l);if(p===s.Number){var b=new y.BN(l),x=new y.BN(Number.MAX_SAFE_INTEGER.toString());if(b.gt(x))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return b.toNumber()}return"0x".concat(l.toString("hex"))}}},20534:($,S,m)=>{"use strict";var y=m(97944),T=m(76967),w=new y(0),M=new y(-1),i={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function c(p){var l=p?p.toLowerCase():"ether",b=i[l];if("string"!=typeof b)throw new Error("[ethjs-unit] the unit provided "+p+" doesn't exists, please use the one of the following units "+JSON.stringify(i,null,2));return new y(b,10)}function s(p){if("string"==typeof p){if(!p.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+p+"', should be a number matching (^-?[0-9.]+).");return p}if("number"==typeof p)return String(p);if("object"==typeof p&&p.toString&&(p.toTwos||p.dividedToIntegerBy))return p.toPrecision?String(p.toPrecision()):p.toString(10);throw new Error("while converting number to string, invalid number value '"+p+"' type "+typeof p+".")}$.exports={unitMap:i,numberToString:s,getValueOfUnit:c,fromWei:function f(p,l,b){var x=T(p),O=x.lt(w),R=c(l),D=i[l].length-1||1,C=b||{};O&&(x=x.mul(M));for(var F=x.mod(R).toString(10);F.length<D;)F="0"+F;C.pad||(F=F.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var j=x.div(R).toString(10);C.commify&&(j=j.replace(/\B(?=(\d{3})+(?!\d))/g,","));var N=j+("0"==F?"":"."+F);return O&&(N="-"+N),N},toWei:function u(p,l){var b=s(p),x=c(l),O=i[l].length-1||1,R="-"===b.substring(0,1);if(R&&(b=b.substring(1)),"."===b)throw new Error("[ethjs-unit] while converting number "+p+" to wei, invalid value");var D=b.split(".");if(D.length>2)throw new Error("[ethjs-unit] while converting number "+p+" to wei,  too many decimal points");var C=D[0],F=D[1];if(C||(C="0"),F||(F="0"),F.length>O)throw new Error("[ethjs-unit] while converting number "+p+" to wei, too many decimal places");for(;F.length<O;)F+="0";C=new y(C),F=new y(F);var j=C.mul(x).add(F);return R&&(j=j.mul(M)),new y(j.toString(10),10)}}},97944:function($,S,m){!function(y,T){"use strict";function w(h,t){if(!h)throw new Error(t||"Assertion failed")}function M(h,t){h.super_=t;var r=function(){};r.prototype=t.prototype,h.prototype=new r,h.prototype.constructor=h}function i(h,t,r){if(i.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,null!==h&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(h||0,t||10,r||"be"))}var c;"object"==typeof y?y.exports=i:T.BN=i,i.BN=i,i.wordSize=26;try{c=m(44381).Buffer}catch{}function s(h,t,r){for(var o=0,a=Math.min(h.length,r),g=t;g<a;g++){var A=h.charCodeAt(g)-48;o<<=4,o|=A>=49&&A<=54?A-49+10:A>=17&&A<=22?A-17+10:15&A}return o}function f(h,t,r,o){for(var a=0,g=Math.min(h.length,r),A=t;A<g;A++){var B=h.charCodeAt(A)-48;a*=o,a+=B>=49?B-49+10:B>=17?B-17+10:B}return a}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,o){if("number"==typeof t)return this._initNumber(t,r,o);if("object"==typeof t)return this._initArray(t,r,o);"hex"===r&&(r=16),w(r===(0|r)&&r>=2&&r<=36);var a=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&a++,16===r?this._parseHex(t,a):this._parseBase(t,r,a),"-"===t[0]&&(this.negative=1),this.strip(),"le"===o&&this._initArray(this.toArray(),r,o)},i.prototype._initNumber=function(t,r,o){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(w(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===o&&this._initArray(this.toArray(),r,o)},i.prototype._initArray=function(t,r,o){if(w("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var g,A,B=0;if("be"===o)for(a=t.length-1,g=0;a>=0;a-=3)this.words[g]|=(A=t[a]|t[a-1]<<8|t[a-2]<<16)<<B&67108863,this.words[g+1]=A>>>26-B&67108863,(B+=24)>=26&&(B-=26,g++);else if("le"===o)for(a=0,g=0;a<t.length;a+=3)this.words[g]|=(A=t[a]|t[a+1]<<8|t[a+2]<<16)<<B&67108863,this.words[g+1]=A>>>26-B&67108863,(B+=24)>=26&&(B-=26,g++);return this.strip()},i.prototype._parseHex=function(t,r){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var a,g,A=0;for(o=t.length-6,a=0;o>=r;o-=6)g=s(t,o,o+6),this.words[a]|=g<<A&67108863,this.words[a+1]|=g>>>26-A&4194303,(A+=24)>=26&&(A-=26,a++);o+6!==r&&(g=s(t,r,o+6),this.words[a]|=g<<A&67108863,this.words[a+1]|=g>>>26-A&4194303),this.strip()},i.prototype._parseBase=function(t,r,o){this.words=[0],this.length=1;for(var a=0,g=1;g<=67108863;g*=r)a++;a--,g=g/r|0;for(var A=t.length-o,B=A%a,d=Math.min(A,A-B)+o,e=0,n=o;n<d;n+=a)e=f(t,n,n+a,r),this.imuln(g),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(0!==B){var I=1;for(e=f(t,n,t.length,r),n=0;n<B;n++)I*=r;this.imuln(I),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(h,t,r){r.negative=t.negative^h.negative;var o=h.length+t.length|0;r.length=o,o=o-1|0;var a=0|h.words[0],g=0|t.words[0],A=a*g,d=A/67108864|0;r.words[0]=67108863&A;for(var e=1;e<o;e++){for(var n=d>>>26,I=67108863&d,W=Math.min(e,t.length-1),X=Math.max(0,e-h.length+1);X<=W;X++)n+=(A=(a=0|h.words[e-X|0])*(g=0|t.words[X])+I)/67108864|0,I=67108863&A;r.words[e]=0|I,d=0|n}return 0!==d?r.words[e]=0|d:r.length--,r.strip()}i.prototype.toString=function(t,r){var o;if(r=0|r||1,16===(t=t||10)||"hex"===t){o="";for(var a=0,g=0,A=0;A<this.length;A++){var B=this.words[A],d=(16777215&(B<<a|g)).toString(16);o=0!=(g=B>>>24-a&16777215)||A!==this.length-1?u[6-d.length]+d+o:d+o,(a+=2)>=26&&(a-=26,A--)}for(0!==g&&(o=g.toString(16)+o);o.length%r!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}if(t===(0|t)&&t>=2&&t<=36){var e=p[t],n=l[t];o="";var I=this.clone();for(I.negative=0;!I.isZero();){var W=I.modn(n).toString(t);o=(I=I.idivn(n)).isZero()?W+o:u[e-W.length]+W+o}for(this.isZero()&&(o="0"+o);o.length%r!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}w(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&w(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return w(typeof c<"u"),this.toArrayLike(c,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,o){var a=this.byteLength(),g=o||Math.max(1,a);w(a<=g,"byte array longer than desired length"),w(g>0,"Requested array length <= 0"),this.strip();var d,e,A="le"===r,B=new t(g),n=this.clone();if(A){for(e=0;!n.isZero();e++)d=n.andln(255),n.iushrn(8),B[e]=d;for(;e<g;e++)B[e]=0}else{for(e=0;e<g-a;e++)B[e]=0;for(e=0;!n.isZero();e++)d=n.andln(255),n.iushrn(8),B[g-e-1]=d}return B},i.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var r=t,o=0;return r>=4096&&(o+=13,r>>>=13),r>=64&&(o+=7,r>>>=7),r>=8&&(o+=4,r>>>=4),r>=2&&(o+=2,r>>>=2),o+r},i.prototype._zeroBits=function(t){if(0===t)return 26;var r=t,o=0;return 0==(8191&r)&&(o+=13,r>>>=13),0==(127&r)&&(o+=7,r>>>=7),0==(15&r)&&(o+=4,r>>>=4),0==(3&r)&&(o+=2,r>>>=2),0==(1&r)&&o++,o},i.prototype.bitLength=function(){var r=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+r},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var o=this._zeroBits(this.words[r]);if(t+=o,26!==o)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return w(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;r=this.length>t.length?t:this;for(var o=0;o<r.length;o++)this.words[o]=this.words[o]&t.words[o];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return w(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,o;this.length>t.length?(r=this,o=t):(r=t,o=this);for(var a=0;a<o.length;a++)this.words[a]=r.words[a]^o.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return w(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){w("number"==typeof t&&t>=0);var r=0|Math.ceil(t/26),o=t%26;this._expand(r),o>0&&r--;for(var a=0;a<r;a++)this.words[a]=67108863&~this.words[a];return o>0&&(this.words[a]=~this.words[a]&67108863>>26-o),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){w("number"==typeof t&&t>=0);var o=t/26|0,a=t%26;return this._expand(o+1),this.words[o]=r?this.words[o]|1<<a:this.words[o]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r,o,a;if(0!==this.negative&&0===t.negative)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();this.length>t.length?(o=this,a=t):(o=t,a=this);for(var g=0,A=0;A<a.length;A++)this.words[A]=67108863&(r=(0|o.words[A])+(0|a.words[A])+g),g=r>>>26;for(;0!==g&&A<o.length;A++)this.words[A]=67108863&(r=(0|o.words[A])+g),g=r>>>26;if(this.length=o.length,0!==g)this.words[this.length]=g,this.length++;else if(o!==this)for(;A<o.length;A++)this.words[A]=o.words[A];return this},i.prototype.add=function(t){var r;return 0!==t.negative&&0===this.negative?(t.negative=0,r=this.sub(t),t.negative^=1,r):0===t.negative&&0!==this.negative?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var a,g,o=this.cmp(t);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(a=this,g=t):(a=t,g=this);for(var A=0,B=0;B<g.length;B++)A=(r=(0|a.words[B])-(0|g.words[B])+A)>>26,this.words[B]=67108863&r;for(;0!==A&&B<a.length;B++)A=(r=(0|a.words[B])+A)>>26,this.words[B]=67108863&r;if(0===A&&B<a.length&&a!==this)for(;B<a.length;B++)this.words[B]=a.words[B];return this.length=Math.max(this.length,B),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var O=function(t,r,o){var d,e,n,a=t.words,g=r.words,A=o.words,B=0,I=0|a[0],W=8191&I,X=I>>>13,Q=0|a[1],rt=8191&Q,ft=Q>>>13,qt=0|a[2],ht=8191&qt,L=qt>>>13,V=0|a[3],tt=8191&V,nt=V>>>13,Yt=0|a[4],ot=8191&Yt,lt=Yt>>>13,ue=0|a[5],Ot=8191&ue,dt=ue>>>13,re=0|a[6],vt=8191&re,bt=re>>>13,le=0|a[7],At=8191&le,Tt=le>>>13,ge=0|a[8],mt=8191&ge,wt=ge>>>13,Ue=0|a[9],It=8191&Ue,Nt=Ue>>>13,ze=0|g[0],Ct=8191&ze,_t=ze>>>13,Xe=0|g[1],St=8191&Xe,Bt=Xe>>>13,Ye=0|g[2],Rt=8191&Ye,jt=Ye>>>13,Be=0|g[3],gt=8191&Be,Wt=Be>>>13,Ae=0|g[4],kt=8191&Ae,Vt=Ae>>>13,tr=0|g[5],Gt=8191&tr,Zt=tr>>>13,pe=0|g[6],Ft=8191&pe,Mt=pe>>>13,or=0|g[7],zt=8191&or,Ut=or>>>13,ye=0|g[8],Lt=8191&ye,Dt=ye>>>13,Je=0|g[9],Ht=8191&Je,Kt=Je>>>13;o.negative=t.negative^r.negative,o.length=19;var be=(B+(d=Math.imul(W,Ct))|0)+((8191&(e=(e=Math.imul(W,_t))+Math.imul(X,Ct)|0))<<13)|0;B=((n=Math.imul(X,_t))+(e>>>13)|0)+(be>>>26)|0,be&=67108863,d=Math.imul(rt,Ct),e=(e=Math.imul(rt,_t))+Math.imul(ft,Ct)|0,n=Math.imul(ft,_t);var we=(B+(d=d+Math.imul(W,St)|0)|0)+((8191&(e=(e=e+Math.imul(W,Bt)|0)+Math.imul(X,St)|0))<<13)|0;B=((n=n+Math.imul(X,Bt)|0)+(e>>>13)|0)+(we>>>26)|0,we&=67108863,d=Math.imul(ht,Ct),e=(e=Math.imul(ht,_t))+Math.imul(L,Ct)|0,n=Math.imul(L,_t),d=d+Math.imul(rt,St)|0,e=(e=e+Math.imul(rt,Bt)|0)+Math.imul(ft,St)|0,n=n+Math.imul(ft,Bt)|0;var He=(B+(d=d+Math.imul(W,Rt)|0)|0)+((8191&(e=(e=e+Math.imul(W,jt)|0)+Math.imul(X,Rt)|0))<<13)|0;B=((n=n+Math.imul(X,jt)|0)+(e>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(tt,Ct),e=(e=Math.imul(tt,_t))+Math.imul(nt,Ct)|0,n=Math.imul(nt,_t),d=d+Math.imul(ht,St)|0,e=(e=e+Math.imul(ht,Bt)|0)+Math.imul(L,St)|0,n=n+Math.imul(L,Bt)|0,d=d+Math.imul(rt,Rt)|0,e=(e=e+Math.imul(rt,jt)|0)+Math.imul(ft,Rt)|0,n=n+Math.imul(ft,jt)|0;var te=(B+(d=d+Math.imul(W,gt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Wt)|0)+Math.imul(X,gt)|0))<<13)|0;B=((n=n+Math.imul(X,Wt)|0)+(e>>>13)|0)+(te>>>26)|0,te&=67108863,d=Math.imul(ot,Ct),e=(e=Math.imul(ot,_t))+Math.imul(lt,Ct)|0,n=Math.imul(lt,_t),d=d+Math.imul(tt,St)|0,e=(e=e+Math.imul(tt,Bt)|0)+Math.imul(nt,St)|0,n=n+Math.imul(nt,Bt)|0,d=d+Math.imul(ht,Rt)|0,e=(e=e+Math.imul(ht,jt)|0)+Math.imul(L,Rt)|0,n=n+Math.imul(L,jt)|0,d=d+Math.imul(rt,gt)|0,e=(e=e+Math.imul(rt,Wt)|0)+Math.imul(ft,gt)|0,n=n+Math.imul(ft,Wt)|0;var Ke=(B+(d=d+Math.imul(W,kt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Vt)|0)+Math.imul(X,kt)|0))<<13)|0;B=((n=n+Math.imul(X,Vt)|0)+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(Ot,Ct),e=(e=Math.imul(Ot,_t))+Math.imul(dt,Ct)|0,n=Math.imul(dt,_t),d=d+Math.imul(ot,St)|0,e=(e=e+Math.imul(ot,Bt)|0)+Math.imul(lt,St)|0,n=n+Math.imul(lt,Bt)|0,d=d+Math.imul(tt,Rt)|0,e=(e=e+Math.imul(tt,jt)|0)+Math.imul(nt,Rt)|0,n=n+Math.imul(nt,jt)|0,d=d+Math.imul(ht,gt)|0,e=(e=e+Math.imul(ht,Wt)|0)+Math.imul(L,gt)|0,n=n+Math.imul(L,Wt)|0,d=d+Math.imul(rt,kt)|0,e=(e=e+Math.imul(rt,Vt)|0)+Math.imul(ft,kt)|0,n=n+Math.imul(ft,Vt)|0;var We=(B+(d=d+Math.imul(W,Gt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Zt)|0)+Math.imul(X,Gt)|0))<<13)|0;B=((n=n+Math.imul(X,Zt)|0)+(e>>>13)|0)+(We>>>26)|0,We&=67108863,d=Math.imul(vt,Ct),e=(e=Math.imul(vt,_t))+Math.imul(bt,Ct)|0,n=Math.imul(bt,_t),d=d+Math.imul(Ot,St)|0,e=(e=e+Math.imul(Ot,Bt)|0)+Math.imul(dt,St)|0,n=n+Math.imul(dt,Bt)|0,d=d+Math.imul(ot,Rt)|0,e=(e=e+Math.imul(ot,jt)|0)+Math.imul(lt,Rt)|0,n=n+Math.imul(lt,jt)|0,d=d+Math.imul(tt,gt)|0,e=(e=e+Math.imul(tt,Wt)|0)+Math.imul(nt,gt)|0,n=n+Math.imul(nt,Wt)|0,d=d+Math.imul(ht,kt)|0,e=(e=e+Math.imul(ht,Vt)|0)+Math.imul(L,kt)|0,n=n+Math.imul(L,Vt)|0,d=d+Math.imul(rt,Gt)|0,e=(e=e+Math.imul(rt,Zt)|0)+Math.imul(ft,Gt)|0,n=n+Math.imul(ft,Zt)|0;var De=(B+(d=d+Math.imul(W,Ft)|0)|0)+((8191&(e=(e=e+Math.imul(W,Mt)|0)+Math.imul(X,Ft)|0))<<13)|0;B=((n=n+Math.imul(X,Mt)|0)+(e>>>13)|0)+(De>>>26)|0,De&=67108863,d=Math.imul(At,Ct),e=(e=Math.imul(At,_t))+Math.imul(Tt,Ct)|0,n=Math.imul(Tt,_t),d=d+Math.imul(vt,St)|0,e=(e=e+Math.imul(vt,Bt)|0)+Math.imul(bt,St)|0,n=n+Math.imul(bt,Bt)|0,d=d+Math.imul(Ot,Rt)|0,e=(e=e+Math.imul(Ot,jt)|0)+Math.imul(dt,Rt)|0,n=n+Math.imul(dt,jt)|0,d=d+Math.imul(ot,gt)|0,e=(e=e+Math.imul(ot,Wt)|0)+Math.imul(lt,gt)|0,n=n+Math.imul(lt,Wt)|0,d=d+Math.imul(tt,kt)|0,e=(e=e+Math.imul(tt,Vt)|0)+Math.imul(nt,kt)|0,n=n+Math.imul(nt,Vt)|0,d=d+Math.imul(ht,Gt)|0,e=(e=e+Math.imul(ht,Zt)|0)+Math.imul(L,Gt)|0,n=n+Math.imul(L,Zt)|0,d=d+Math.imul(rt,Ft)|0,e=(e=e+Math.imul(rt,Mt)|0)+Math.imul(ft,Ft)|0,n=n+Math.imul(ft,Mt)|0;var oe=(B+(d=d+Math.imul(W,zt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Ut)|0)+Math.imul(X,zt)|0))<<13)|0;B=((n=n+Math.imul(X,Ut)|0)+(e>>>13)|0)+(oe>>>26)|0,oe&=67108863,d=Math.imul(mt,Ct),e=(e=Math.imul(mt,_t))+Math.imul(wt,Ct)|0,n=Math.imul(wt,_t),d=d+Math.imul(At,St)|0,e=(e=e+Math.imul(At,Bt)|0)+Math.imul(Tt,St)|0,n=n+Math.imul(Tt,Bt)|0,d=d+Math.imul(vt,Rt)|0,e=(e=e+Math.imul(vt,jt)|0)+Math.imul(bt,Rt)|0,n=n+Math.imul(bt,jt)|0,d=d+Math.imul(Ot,gt)|0,e=(e=e+Math.imul(Ot,Wt)|0)+Math.imul(dt,gt)|0,n=n+Math.imul(dt,Wt)|0,d=d+Math.imul(ot,kt)|0,e=(e=e+Math.imul(ot,Vt)|0)+Math.imul(lt,kt)|0,n=n+Math.imul(lt,Vt)|0,d=d+Math.imul(tt,Gt)|0,e=(e=e+Math.imul(tt,Zt)|0)+Math.imul(nt,Gt)|0,n=n+Math.imul(nt,Zt)|0,d=d+Math.imul(ht,Ft)|0,e=(e=e+Math.imul(ht,Mt)|0)+Math.imul(L,Ft)|0,n=n+Math.imul(L,Mt)|0,d=d+Math.imul(rt,zt)|0,e=(e=e+Math.imul(rt,Ut)|0)+Math.imul(ft,zt)|0,n=n+Math.imul(ft,Ut)|0;var Ve=(B+(d=d+Math.imul(W,Lt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Dt)|0)+Math.imul(X,Lt)|0))<<13)|0;B=((n=n+Math.imul(X,Dt)|0)+(e>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,d=Math.imul(It,Ct),e=(e=Math.imul(It,_t))+Math.imul(Nt,Ct)|0,n=Math.imul(Nt,_t),d=d+Math.imul(mt,St)|0,e=(e=e+Math.imul(mt,Bt)|0)+Math.imul(wt,St)|0,n=n+Math.imul(wt,Bt)|0,d=d+Math.imul(At,Rt)|0,e=(e=e+Math.imul(At,jt)|0)+Math.imul(Tt,Rt)|0,n=n+Math.imul(Tt,jt)|0,d=d+Math.imul(vt,gt)|0,e=(e=e+Math.imul(vt,Wt)|0)+Math.imul(bt,gt)|0,n=n+Math.imul(bt,Wt)|0,d=d+Math.imul(Ot,kt)|0,e=(e=e+Math.imul(Ot,Vt)|0)+Math.imul(dt,kt)|0,n=n+Math.imul(dt,Vt)|0,d=d+Math.imul(ot,Gt)|0,e=(e=e+Math.imul(ot,Zt)|0)+Math.imul(lt,Gt)|0,n=n+Math.imul(lt,Zt)|0,d=d+Math.imul(tt,Ft)|0,e=(e=e+Math.imul(tt,Mt)|0)+Math.imul(nt,Ft)|0,n=n+Math.imul(nt,Mt)|0,d=d+Math.imul(ht,zt)|0,e=(e=e+Math.imul(ht,Ut)|0)+Math.imul(L,zt)|0,n=n+Math.imul(L,Ut)|0,d=d+Math.imul(rt,Lt)|0,e=(e=e+Math.imul(rt,Dt)|0)+Math.imul(ft,Lt)|0,n=n+Math.imul(ft,Dt)|0;var Oe=(B+(d=d+Math.imul(W,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(W,Kt)|0)+Math.imul(X,Ht)|0))<<13)|0;B=((n=n+Math.imul(X,Kt)|0)+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,d=Math.imul(It,St),e=(e=Math.imul(It,Bt))+Math.imul(Nt,St)|0,n=Math.imul(Nt,Bt),d=d+Math.imul(mt,Rt)|0,e=(e=e+Math.imul(mt,jt)|0)+Math.imul(wt,Rt)|0,n=n+Math.imul(wt,jt)|0,d=d+Math.imul(At,gt)|0,e=(e=e+Math.imul(At,Wt)|0)+Math.imul(Tt,gt)|0,n=n+Math.imul(Tt,Wt)|0,d=d+Math.imul(vt,kt)|0,e=(e=e+Math.imul(vt,Vt)|0)+Math.imul(bt,kt)|0,n=n+Math.imul(bt,Vt)|0,d=d+Math.imul(Ot,Gt)|0,e=(e=e+Math.imul(Ot,Zt)|0)+Math.imul(dt,Gt)|0,n=n+Math.imul(dt,Zt)|0,d=d+Math.imul(ot,Ft)|0,e=(e=e+Math.imul(ot,Mt)|0)+Math.imul(lt,Ft)|0,n=n+Math.imul(lt,Mt)|0,d=d+Math.imul(tt,zt)|0,e=(e=e+Math.imul(tt,Ut)|0)+Math.imul(nt,zt)|0,n=n+Math.imul(nt,Ut)|0,d=d+Math.imul(ht,Lt)|0,e=(e=e+Math.imul(ht,Dt)|0)+Math.imul(L,Lt)|0,n=n+Math.imul(L,Dt)|0;var Me=(B+(d=d+Math.imul(rt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(rt,Kt)|0)+Math.imul(ft,Ht)|0))<<13)|0;B=((n=n+Math.imul(ft,Kt)|0)+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,d=Math.imul(It,Rt),e=(e=Math.imul(It,jt))+Math.imul(Nt,Rt)|0,n=Math.imul(Nt,jt),d=d+Math.imul(mt,gt)|0,e=(e=e+Math.imul(mt,Wt)|0)+Math.imul(wt,gt)|0,n=n+Math.imul(wt,Wt)|0,d=d+Math.imul(At,kt)|0,e=(e=e+Math.imul(At,Vt)|0)+Math.imul(Tt,kt)|0,n=n+Math.imul(Tt,Vt)|0,d=d+Math.imul(vt,Gt)|0,e=(e=e+Math.imul(vt,Zt)|0)+Math.imul(bt,Gt)|0,n=n+Math.imul(bt,Zt)|0,d=d+Math.imul(Ot,Ft)|0,e=(e=e+Math.imul(Ot,Mt)|0)+Math.imul(dt,Ft)|0,n=n+Math.imul(dt,Mt)|0,d=d+Math.imul(ot,zt)|0,e=(e=e+Math.imul(ot,Ut)|0)+Math.imul(lt,zt)|0,n=n+Math.imul(lt,Ut)|0,d=d+Math.imul(tt,Lt)|0,e=(e=e+Math.imul(tt,Dt)|0)+Math.imul(nt,Lt)|0,n=n+Math.imul(nt,Dt)|0;var je=(B+(d=d+Math.imul(ht,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(ht,Kt)|0)+Math.imul(L,Ht)|0))<<13)|0;B=((n=n+Math.imul(L,Kt)|0)+(e>>>13)|0)+(je>>>26)|0,je&=67108863,d=Math.imul(It,gt),e=(e=Math.imul(It,Wt))+Math.imul(Nt,gt)|0,n=Math.imul(Nt,Wt),d=d+Math.imul(mt,kt)|0,e=(e=e+Math.imul(mt,Vt)|0)+Math.imul(wt,kt)|0,n=n+Math.imul(wt,Vt)|0,d=d+Math.imul(At,Gt)|0,e=(e=e+Math.imul(At,Zt)|0)+Math.imul(Tt,Gt)|0,n=n+Math.imul(Tt,Zt)|0,d=d+Math.imul(vt,Ft)|0,e=(e=e+Math.imul(vt,Mt)|0)+Math.imul(bt,Ft)|0,n=n+Math.imul(bt,Mt)|0,d=d+Math.imul(Ot,zt)|0,e=(e=e+Math.imul(Ot,Ut)|0)+Math.imul(dt,zt)|0,n=n+Math.imul(dt,Ut)|0,d=d+Math.imul(ot,Lt)|0,e=(e=e+Math.imul(ot,Dt)|0)+Math.imul(lt,Lt)|0,n=n+Math.imul(lt,Dt)|0;var Ee=(B+(d=d+Math.imul(tt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(tt,Kt)|0)+Math.imul(nt,Ht)|0))<<13)|0;B=((n=n+Math.imul(nt,Kt)|0)+(e>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,d=Math.imul(It,kt),e=(e=Math.imul(It,Vt))+Math.imul(Nt,kt)|0,n=Math.imul(Nt,Vt),d=d+Math.imul(mt,Gt)|0,e=(e=e+Math.imul(mt,Zt)|0)+Math.imul(wt,Gt)|0,n=n+Math.imul(wt,Zt)|0,d=d+Math.imul(At,Ft)|0,e=(e=e+Math.imul(At,Mt)|0)+Math.imul(Tt,Ft)|0,n=n+Math.imul(Tt,Mt)|0,d=d+Math.imul(vt,zt)|0,e=(e=e+Math.imul(vt,Ut)|0)+Math.imul(bt,zt)|0,n=n+Math.imul(bt,Ut)|0,d=d+Math.imul(Ot,Lt)|0,e=(e=e+Math.imul(Ot,Dt)|0)+Math.imul(dt,Lt)|0,n=n+Math.imul(dt,Dt)|0;var Te=(B+(d=d+Math.imul(ot,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(ot,Kt)|0)+Math.imul(lt,Ht)|0))<<13)|0;B=((n=n+Math.imul(lt,Kt)|0)+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,d=Math.imul(It,Gt),e=(e=Math.imul(It,Zt))+Math.imul(Nt,Gt)|0,n=Math.imul(Nt,Zt),d=d+Math.imul(mt,Ft)|0,e=(e=e+Math.imul(mt,Mt)|0)+Math.imul(wt,Ft)|0,n=n+Math.imul(wt,Mt)|0,d=d+Math.imul(At,zt)|0,e=(e=e+Math.imul(At,Ut)|0)+Math.imul(Tt,zt)|0,n=n+Math.imul(Tt,Ut)|0,d=d+Math.imul(vt,Lt)|0,e=(e=e+Math.imul(vt,Dt)|0)+Math.imul(bt,Lt)|0,n=n+Math.imul(bt,Dt)|0;var ke=(B+(d=d+Math.imul(Ot,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(Ot,Kt)|0)+Math.imul(dt,Ht)|0))<<13)|0;B=((n=n+Math.imul(dt,Kt)|0)+(e>>>13)|0)+(ke>>>26)|0,ke&=67108863,d=Math.imul(It,Ft),e=(e=Math.imul(It,Mt))+Math.imul(Nt,Ft)|0,n=Math.imul(Nt,Mt),d=d+Math.imul(mt,zt)|0,e=(e=e+Math.imul(mt,Ut)|0)+Math.imul(wt,zt)|0,n=n+Math.imul(wt,Ut)|0,d=d+Math.imul(At,Lt)|0,e=(e=e+Math.imul(At,Dt)|0)+Math.imul(Tt,Lt)|0,n=n+Math.imul(Tt,Dt)|0;var _e=(B+(d=d+Math.imul(vt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(vt,Kt)|0)+Math.imul(bt,Ht)|0))<<13)|0;B=((n=n+Math.imul(bt,Kt)|0)+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,d=Math.imul(It,zt),e=(e=Math.imul(It,Ut))+Math.imul(Nt,zt)|0,n=Math.imul(Nt,Ut),d=d+Math.imul(mt,Lt)|0,e=(e=e+Math.imul(mt,Dt)|0)+Math.imul(wt,Lt)|0,n=n+Math.imul(wt,Dt)|0;var Re=(B+(d=d+Math.imul(At,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(At,Kt)|0)+Math.imul(Tt,Ht)|0))<<13)|0;B=((n=n+Math.imul(Tt,Kt)|0)+(e>>>13)|0)+(Re>>>26)|0,Re&=67108863,d=Math.imul(It,Lt),e=(e=Math.imul(It,Dt))+Math.imul(Nt,Lt)|0,n=Math.imul(Nt,Dt);var Ie=(B+(d=d+Math.imul(mt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(mt,Kt)|0)+Math.imul(wt,Ht)|0))<<13)|0;B=((n=n+Math.imul(wt,Kt)|0)+(e>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Ne=(B+(d=Math.imul(It,Ht))|0)+((8191&(e=(e=Math.imul(It,Kt))+Math.imul(Nt,Ht)|0))<<13)|0;return B=((n=Math.imul(Nt,Kt))+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,A[0]=be,A[1]=we,A[2]=He,A[3]=te,A[4]=Ke,A[5]=We,A[6]=De,A[7]=oe,A[8]=Ve,A[9]=Oe,A[10]=Me,A[11]=je,A[12]=Ee,A[13]=Te,A[14]=ke,A[15]=_e,A[16]=Re,A[17]=Ie,A[18]=Ne,0!==B&&(A[19]=B,o.length++),o};function D(h,t,r){return(new C).mulp(h,t,r)}function C(h,t){this.x=h,this.y=t}Math.imul||(O=x),i.prototype.mulTo=function(t,r){var o,a=this.length+t.length;return o=10===this.length&&10===t.length?O(this,t,r):a<63?x(this,t,r):a<1024?function R(h,t,r){r.negative=t.negative^h.negative,r.length=h.length+t.length;for(var o=0,a=0,g=0;g<r.length-1;g++){var A=a;a=0;for(var B=67108863&o,d=Math.min(g,t.length-1),e=Math.max(0,g-h.length+1);e<=d;e++){var X=(0|h.words[g-e])*(0|t.words[e]),Q=67108863&X;B=67108863&(Q=Q+B|0),a+=(A=(A=A+(X/67108864|0)|0)+(Q>>>26)|0)>>>26,A&=67108863}r.words[g]=B,o=A,A=a}return 0!==o?r.words[g]=o:r.length--,r.strip()}(this,t,r):D(this,t,r),o},C.prototype.makeRBT=function(t){for(var r=new Array(t),o=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,o,t);return r},C.prototype.revBin=function(t,r,o){if(0===t||t===o-1)return t;for(var a=0,g=0;g<r;g++)a|=(1&t)<<r-g-1,t>>=1;return a},C.prototype.permute=function(t,r,o,a,g,A){for(var B=0;B<A;B++)a[B]=r[t[B]],g[B]=o[t[B]]},C.prototype.transform=function(t,r,o,a,g,A){this.permute(A,t,r,o,a,g);for(var B=1;B<g;B<<=1)for(var d=B<<1,e=Math.cos(2*Math.PI/d),n=Math.sin(2*Math.PI/d),I=0;I<g;I+=d)for(var W=e,X=n,Q=0;Q<B;Q++){var rt=o[I+Q],ft=a[I+Q],qt=o[I+Q+B],ht=a[I+Q+B],L=W*qt-X*ht;ht=W*ht+X*qt,o[I+Q]=rt+(qt=L),a[I+Q]=ft+ht,o[I+Q+B]=rt-qt,a[I+Q+B]=ft-ht,Q!==d&&(L=e*W-n*X,X=e*X+n*W,W=L)}},C.prototype.guessLen13b=function(t,r){var o=1|Math.max(r,t),a=1&o,g=0;for(o=o/2|0;o;o>>>=1)g++;return 1<<g+1+a},C.prototype.conjugate=function(t,r,o){if(!(o<=1))for(var a=0;a<o/2;a++){var g=t[a];t[a]=t[o-a-1],t[o-a-1]=g,g=r[a],r[a]=-r[o-a-1],r[o-a-1]=-g}},C.prototype.normalize13b=function(t,r){for(var o=0,a=0;a<r/2;a++){var g=8192*Math.round(t[2*a+1]/r)+Math.round(t[2*a]/r)+o;t[a]=67108863&g,o=g<67108864?0:g/67108864|0}return t},C.prototype.convert13b=function(t,r,o,a){for(var g=0,A=0;A<r;A++)o[2*A]=8191&(g+=0|t[A]),o[2*A+1]=8191&(g>>>=13),g>>>=13;for(A=2*r;A<a;++A)o[A]=0;w(0===g),w(0==(-8192&g))},C.prototype.stub=function(t){for(var r=new Array(t),o=0;o<t;o++)r[o]=0;return r},C.prototype.mulp=function(t,r,o){var a=2*this.guessLen13b(t.length,r.length),g=this.makeRBT(a),A=this.stub(a),B=new Array(a),d=new Array(a),e=new Array(a),n=new Array(a),I=new Array(a),W=new Array(a),X=o.words;X.length=a,this.convert13b(t.words,t.length,B,a),this.convert13b(r.words,r.length,n,a),this.transform(B,A,d,e,a,g),this.transform(n,A,I,W,a,g);for(var Q=0;Q<a;Q++){var rt=d[Q]*I[Q]-e[Q]*W[Q];e[Q]=d[Q]*W[Q]+e[Q]*I[Q],d[Q]=rt}return this.conjugate(d,e,a),this.transform(d,e,X,A,a,g),this.conjugate(X,A,a),this.normalize13b(X,a),o.negative=t.negative^r.negative,o.length=t.length+r.length,o.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),D(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){w("number"==typeof t),w(t<67108864);for(var r=0,o=0;o<this.length;o++){var a=(0|this.words[o])*t,g=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=g>>>26,this.words[o]=67108863&g}return 0!==r&&(this.words[o]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=function b(h){for(var t=new Array(h.bitLength()),r=0;r<t.length;r++){var a=r%26;t[r]=(h.words[r/26|0]&1<<a)>>>a}return t}(t);if(0===r.length)return new i(1);for(var o=this,a=0;a<r.length&&0===r[a];a++,o=o.sqr());if(++a<r.length)for(var g=o.sqr();a<r.length;a++,g=g.sqr())0!==r[a]&&(o=o.mul(g));return o},i.prototype.iushln=function(t){w("number"==typeof t&&t>=0);var g,r=t%26,o=(t-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var A=0;for(g=0;g<this.length;g++){var B=this.words[g]&a;this.words[g]=(0|this.words[g])-B<<r|A,A=B>>>26-r}A&&(this.words[g]=A,this.length++)}if(0!==o){for(g=this.length-1;g>=0;g--)this.words[g+o]=this.words[g];for(g=0;g<o;g++)this.words[g]=0;this.length+=o}return this.strip()},i.prototype.ishln=function(t){return w(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,r,o){var a;w("number"==typeof t&&t>=0),a=r?(r-r%26)/26:0;var g=t%26,A=Math.min((t-g)/26,this.length),B=67108863^67108863>>>g<<g,d=o;if(a-=A,a=Math.max(0,a),d){for(var e=0;e<A;e++)d.words[e]=this.words[e];d.length=A}if(0!==A)if(this.length>A)for(this.length-=A,e=0;e<this.length;e++)this.words[e]=this.words[e+A];else this.words[0]=0,this.length=1;var n=0;for(e=this.length-1;e>=0&&(0!==n||e>=a);e--){var I=0|this.words[e];this.words[e]=n<<26-g|I>>>g,n=I&B}return d&&0!==n&&(d.words[d.length++]=n),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,o){return w(0===this.negative),this.iushrn(t,r,o)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){w("number"==typeof t&&t>=0);var r=t%26,o=(t-r)/26;return!(this.length<=o||!(this.words[o]&1<<r))},i.prototype.imaskn=function(t){w("number"==typeof t&&t>=0);var r=t%26,o=(t-r)/26;return w(0===this.negative,"imaskn works only with positive numbers"),this.length<=o?this:(0!==r&&o++,this.length=Math.min(o,this.length),0!==r&&(this.words[this.length-1]&=67108863^67108863>>>r<<r),this.strip())},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return w("number"==typeof t),w(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(w("number"==typeof t),w(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,o){var g;this._expand(t.length+o);var A,B=0;for(g=0;g<t.length;g++){A=(0|this.words[g+o])+B;var d=(0|t.words[g])*r;B=((A-=67108863&d)>>26)-(d/67108864|0),this.words[g+o]=67108863&A}for(;g<this.length-o;g++)B=(A=(0|this.words[g+o])+B)>>26,this.words[g+o]=67108863&A;if(0===B)return this.strip();for(w(-1===B),B=0,g=0;g<this.length;g++)B=(A=-(0|this.words[g])+B)>>26,this.words[g]=67108863&A;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var o,a=this.clone(),g=t,A=0|g.words[g.length-1];0!=(o=26-this._countBits(A))&&(g=g.ushln(o),a.iushln(o),A=0|g.words[g.length-1]);var e,d=a.length-g.length;if("mod"!==r){(e=new i(null)).length=d+1,e.words=new Array(e.length);for(var n=0;n<e.length;n++)e.words[n]=0}var I=a.clone()._ishlnsubmul(g,1,d);0===I.negative&&(a=I,e&&(e.words[d]=1));for(var W=d-1;W>=0;W--){var X=67108864*(0|a.words[g.length+W])+(0|a.words[g.length+W-1]);for(X=Math.min(X/A|0,67108863),a._ishlnsubmul(g,X,W);0!==a.negative;)X--,a.negative=0,a._ishlnsubmul(g,1,W),a.isZero()||(a.negative^=1);e&&(e.words[W]=X)}return e&&e.strip(),a.strip(),"div"!==r&&0!==o&&a.iushrn(o),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,o){return w(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(A=this.neg().divmod(t,r),"mod"!==r&&(a=A.div.neg()),"div"!==r&&(g=A.mod.neg(),o&&0!==g.negative&&g.iadd(t)),{div:a,mod:g}):0===this.negative&&0!==t.negative?(A=this.divmod(t.neg(),r),"mod"!==r&&(a=A.div.neg()),{div:a,mod:A.mod}):0!=(this.negative&t.negative)?(A=this.neg().divmod(t.neg(),r),"div"!==r&&(g=A.mod.neg(),o&&0!==g.negative&&g.isub(t)),{div:A.div,mod:g}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===r?{div:this.divn(t.words[0]),mod:null}:"mod"===r?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r);var a,g,A},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var o=0!==r.div.negative?r.mod.isub(t):r.mod,a=t.ushrn(1),g=t.andln(1),A=o.cmp(a);return A<0||1===g&&0===A?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){w(t<=67108863);for(var r=(1<<26)%t,o=0,a=this.length-1;a>=0;a--)o=(r*o+(0|this.words[a]))%t;return o},i.prototype.idivn=function(t){w(t<=67108863);for(var r=0,o=this.length-1;o>=0;o--){var a=(0|this.words[o])+67108864*r;this.words[o]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){w(0===t.negative),w(!t.isZero());var r=this,o=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new i(1),g=new i(0),A=new i(0),B=new i(1),d=0;r.isEven()&&o.isEven();)r.iushrn(1),o.iushrn(1),++d;for(var e=o.clone(),n=r.clone();!r.isZero();){for(var I=0,W=1;0==(r.words[0]&W)&&I<26;++I,W<<=1);if(I>0)for(r.iushrn(I);I-- >0;)(a.isOdd()||g.isOdd())&&(a.iadd(e),g.isub(n)),a.iushrn(1),g.iushrn(1);for(var X=0,Q=1;0==(o.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(o.iushrn(X);X-- >0;)(A.isOdd()||B.isOdd())&&(A.iadd(e),B.isub(n)),A.iushrn(1),B.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(A),g.isub(B)):(o.isub(r),A.isub(a),B.isub(g))}return{a:A,b:B,gcd:o.iushln(d)}},i.prototype._invmp=function(t){w(0===t.negative),w(!t.isZero());var I,r=this,o=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new i(1),g=new i(0),A=o.clone();r.cmpn(1)>0&&o.cmpn(1)>0;){for(var B=0,d=1;0==(r.words[0]&d)&&B<26;++B,d<<=1);if(B>0)for(r.iushrn(B);B-- >0;)a.isOdd()&&a.iadd(A),a.iushrn(1);for(var e=0,n=1;0==(o.words[0]&n)&&e<26;++e,n<<=1);if(e>0)for(o.iushrn(e);e-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(g)):(o.isub(r),g.isub(a))}return(I=0===r.cmpn(1)?a:g).cmpn(0)<0&&I.iadd(t),I},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),o=t.clone();r.negative=0,o.negative=0;for(var a=0;r.isEven()&&o.isEven();a++)r.iushrn(1),o.iushrn(1);for(;;){for(;r.isEven();)r.iushrn(1);for(;o.isEven();)o.iushrn(1);var g=r.cmp(o);if(g<0){var A=r;r=o,o=A}else if(0===g||0===o.cmpn(1))break;r.isub(o)}return o.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){w("number"==typeof t);var r=t%26,o=(t-r)/26,a=1<<r;if(this.length<=o)return this._expand(o+1),this.words[o]|=a,this;for(var g=a,A=o;0!==g&&A<this.length;A++){var B=0|this.words[A];g=(B+=g)>>>26,this.words[A]=B&=67108863}return 0!==g&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var o,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)o=1;else{r&&(t=-t),w(t<=67108863,"Number is too big");var a=0|this.words[0];o=a===t?0:a<t?-1:1}return 0!==this.negative?0|-o:o},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var r=this.ucmp(t);return 0!==this.negative?0|-r:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,o=this.length-1;o>=0;o--){var a=0|this.words[o],g=0|t.words[o];if(a!==g){a<g?r=-1:a>g&&(r=1);break}}return r},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new G(t)},i.prototype.toRed=function(t){return w(!this.red,"Already a number in reduction context"),w(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return w(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return w(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return w(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return w(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return w(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return w(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return w(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return w(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return w(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return w(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return w(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return w(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return w(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return w(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return w(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var F={k256:null,p224:null,p192:null,p25519:null};function j(h,t){this.name=h,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function N(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Y(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function G(h){if("string"==typeof h){var t=i._prime(h);this.m=t.p,this.prime=t}else w(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}function st(h){G.call(this,h),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},j.prototype.ireduce=function(t){var o,r=t;do{this.split(r,this.tmp),o=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(o>this.n);var a=o<this.n?-1:r.ucmp(this.p);return 0===a?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip(),r},j.prototype.split=function(t,r){t.iushrn(this.n,0,r)},j.prototype.imulK=function(t){return t.imul(this.k)},M(N,j),N.prototype.split=function(t,r){for(var o=4194303,a=Math.min(t.length,9),g=0;g<a;g++)r.words[g]=t.words[g];if(r.length=a,t.length<=9)return t.words[0]=0,void(t.length=1);var A=t.words[9];for(r.words[r.length++]=A&o,g=10;g<t.length;g++){var B=0|t.words[g];t.words[g-10]=(B&o)<<4|A>>>22,A=B}t.words[g-10]=A>>>=22,t.length-=0===A&&t.length>10?10:9},N.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,o=0;o<t.length;o++){var a=0|t.words[o];t.words[o]=67108863&(r+=977*a),r=64*a+(r/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},M(z,j),M(P,j),M(Y,j),Y.prototype.imulK=function(t){for(var r=0,o=0;o<t.length;o++){var a=19*(0|t.words[o])+r,g=67108863&a;a>>>=26,t.words[o]=g,r=a}return 0!==r&&(t.words[t.length++]=r),t},i._prime=function(t){if(F[t])return F[t];var r;if("k256"===t)r=new N;else if("p224"===t)r=new z;else if("p192"===t)r=new P;else{if("p25519"!==t)throw new Error("Unknown prime "+t);r=new Y}return F[t]=r,r},G.prototype._verify1=function(t){w(0===t.negative,"red works only with positives"),w(t.red,"red works only with red numbers")},G.prototype._verify2=function(t,r){w(0==(t.negative|r.negative),"red works only with positives"),w(t.red&&t.red===r.red,"red works only with red numbers")},G.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},G.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},G.prototype.add=function(t,r){this._verify2(t,r);var o=t.add(r);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},G.prototype.iadd=function(t,r){this._verify2(t,r);var o=t.iadd(r);return o.cmp(this.m)>=0&&o.isub(this.m),o},G.prototype.sub=function(t,r){this._verify2(t,r);var o=t.sub(r);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},G.prototype.isub=function(t,r){this._verify2(t,r);var o=t.isub(r);return o.cmpn(0)<0&&o.iadd(this.m),o},G.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},G.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},G.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},G.prototype.isqr=function(t){return this.imul(t,t.clone())},G.prototype.sqr=function(t){return this.mul(t,t)},G.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(w(r%2==1),3===r){var o=this.m.add(new i(1)).iushrn(2);return this.pow(t,o)}for(var a=this.m.subn(1),g=0;!a.isZero()&&0===a.andln(1);)g++,a.iushrn(1);w(!a.isZero());var A=new i(1).toRed(this),B=A.redNeg(),d=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);0!==this.pow(e,d).cmp(B);)e.redIAdd(B);for(var n=this.pow(e,a),I=this.pow(t,a.addn(1).iushrn(1)),W=this.pow(t,a),X=g;0!==W.cmp(A);){for(var Q=W,rt=0;0!==Q.cmp(A);rt++)Q=Q.redSqr();w(rt<X);var ft=this.pow(n,new i(1).iushln(X-rt-1));I=I.redMul(ft),n=ft.redSqr(),W=W.redMul(n),X=rt}return I},G.prototype.invm=function(t){var r=t._invmp(this.m);return 0!==r.negative?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},G.prototype.pow=function(t,r){if(r.isZero())return new i(1);if(0===r.cmpn(1))return t.clone();var a=new Array(16);a[0]=new i(1).toRed(this),a[1]=t;for(var g=2;g<a.length;g++)a[g]=this.mul(a[g-1],t);var A=a[0],B=0,d=0,e=r.bitLength()%26;for(0===e&&(e=26),g=r.length-1;g>=0;g--){for(var n=r.words[g],I=e-1;I>=0;I--){var W=n>>I&1;A!==a[0]&&(A=this.sqr(A)),0!==W||0!==B?(B<<=1,B|=W,(4==++d||0===g&&0===I)&&(A=this.mul(A,a[B]),d=0,B=0)):d=0}e=26}return A},G.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},G.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new st(t)},M(st,G),st.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},st.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},st.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var o=t.imul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=o.isub(a).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},st.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var o=t.mul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=o.isub(a).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},st.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}($=m.nmd($),this)},55019:$=>{"use strict";$.exports=function S(m,y){if(m===y)return!0;if(m&&y&&"object"==typeof m&&"object"==typeof y){if(m.constructor!==y.constructor)return!1;var T,w,M;if(Array.isArray(m)){if((T=m.length)!=y.length)return!1;for(w=T;0!=w--;)if(!S(m[w],y[w]))return!1;return!0}if(m.constructor===RegExp)return m.source===y.source&&m.flags===y.flags;if(m.valueOf!==Object.prototype.valueOf)return m.valueOf()===y.valueOf();if(m.toString!==Object.prototype.toString)return m.toString()===y.toString();if((T=(M=Object.keys(m)).length)!==Object.keys(y).length)return!1;for(w=T;0!=w--;)if(!Object.prototype.hasOwnProperty.call(y,M[w]))return!1;for(w=T;0!=w--;){var i=M[w];if(!S(m[i],y[i]))return!1}return!0}return m!=m&&y!=y}},86849:$=>{"use strict";const S=m=>null!==m&&"object"==typeof m&&"function"==typeof m.pipe;S.writable=m=>S(m)&&!1!==m.writable&&"function"==typeof m._write&&"object"==typeof m._writableState,S.readable=m=>S(m)&&!1!==m.readable&&"function"==typeof m._read&&"object"==typeof m._readableState,S.duplex=m=>S.writable(m)&&S.readable(m),S.transform=m=>S.duplex(m)&&"function"==typeof m._transform,$.exports=S},28648:($,S,m)=>{$=m.nmd($);var T="__lodash_hash_undefined__",i=9007199254740991,c="[object Arguments]",b="[object Function]",C="[object Object]",n=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W[c]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object Boolean]"]=W["[object DataView]"]=W["[object Date]"]=W["[object Error]"]=W[b]=W["[object Map]"]=W["[object Number]"]=W[C]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object WeakMap]"]=!1;var X="object"==typeof global&&global&&global.Object===Object&&global,Q="object"==typeof self&&self&&self.Object===Object&&self,rt=X||Q||Function("return this")(),ft=S&&!S.nodeType&&S,qt=ft&&$&&!$.nodeType&&$,ht=qt&&qt.exports===ft,L=ht&&X.process,V=function(){try{return qt&&qt.require&&qt.require("util").types||L&&L.binding&&L.binding("util")}catch{}}(),tt=V&&V.isTypedArray;function nt(H,Z,q){switch(q.length){case 0:return H.call(Z);case 1:return H.call(Z,q[0]);case 2:return H.call(Z,q[0],q[1]);case 3:return H.call(Z,q[0],q[1],q[2])}return H.apply(Z,q)}var H,Ot=Array.prototype,re=Object.prototype,vt=rt["__core-js_shared__"],bt=Function.prototype.toString,le=re.hasOwnProperty,At=(H=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",Tt=re.toString,ge=bt.call(Object),mt=RegExp("^"+bt.call(le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=ht?rt.Buffer:void 0,Ue=rt.Symbol,It=rt.Uint8Array,Nt=wt?wt.allocUnsafe:void 0,ze=function ue(H,Z){return function(q){return H(Z(q))}}(Object.getPrototypeOf,Object),Ct=Object.create,_t=re.propertyIsEnumerable,Xe=Ot.splice,St=Ue?Ue.toStringTag:void 0,Bt=function(){try{var H=er(Object,"defineProperty");return H({},"",{}),H}catch{}}(),Ye=wt?wt.isBuffer:void 0,Rt=Math.max,jt=Date.now,Be=er(rt,"Map"),gt=er(Object,"create"),Wt=function(){function H(){}return function(Z){if(!nr(Z))return{};if(Ct)return Ct(Z);H.prototype=Z;var q=new H;return H.prototype=void 0,q}}();function Ae(H){var Z=-1,q=null==H?0:H.length;for(this.clear();++Z<q;){var pt=H[Z];this.set(pt[0],pt[1])}}function pe(H){var Z=-1,q=null==H?0:H.length;for(this.clear();++Z<q;){var pt=H[Z];this.set(pt[0],pt[1])}}function ye(H){var Z=-1,q=null==H?0:H.length;for(this.clear();++Z<q;){var pt=H[Z];this.set(pt[0],pt[1])}}function be(H){var Z=this.__data__=new pe(H);this.size=Z.size}function oe(H,Z,q){(void 0!==q&&!$e(H[Z],q)||void 0===q&&!(Z in H))&&Me(H,Z,q)}function Ve(H,Z,q){var pt=H[Z];(!le.call(H,Z)||!$e(pt,q)||void 0===q&&!(Z in H))&&Me(H,Z,q)}function Oe(H,Z){for(var q=H.length;q--;)if($e(H[q][0],Z))return q;return-1}function Me(H,Z,q){"__proto__"==Z&&Bt?Bt(H,Z,{configurable:!0,enumerable:!0,value:q,writable:!0}):H[Z]=q}Ae.prototype.clear=function kt(){this.__data__=gt?gt(null):{},this.size=0},Ae.prototype.delete=function Vt(H){var Z=this.has(H)&&delete this.__data__[H];return this.size-=Z?1:0,Z},Ae.prototype.get=function tr(H){var Z=this.__data__;if(gt){var q=Z[H];return q===T?void 0:q}return le.call(Z,H)?Z[H]:void 0},Ae.prototype.has=function Gt(H){var Z=this.__data__;return gt?void 0!==Z[H]:le.call(Z,H)},Ae.prototype.set=function Zt(H,Z){var q=this.__data__;return this.size+=this.has(H)?0:1,q[H]=gt&&void 0===Z?T:Z,this},pe.prototype.clear=function Ft(){this.__data__=[],this.size=0},pe.prototype.delete=function Mt(H){var Z=this.__data__,q=Oe(Z,H);return!(q<0||(q==Z.length-1?Z.pop():Xe.call(Z,q,1),--this.size,0))},pe.prototype.get=function or(H){var Z=this.__data__,q=Oe(Z,H);return q<0?void 0:Z[q][1]},pe.prototype.has=function zt(H){return Oe(this.__data__,H)>-1},pe.prototype.set=function Ut(H,Z){var q=this.__data__,pt=Oe(q,H);return pt<0?(++this.size,q.push([H,Z])):q[pt][1]=Z,this},ye.prototype.clear=function Lt(){this.size=0,this.__data__={hash:new Ae,map:new(Be||pe),string:new Ae}},ye.prototype.delete=function Dt(H){var Z=mr(this,H).delete(H);return this.size-=Z?1:0,Z},ye.prototype.get=function Je(H){return mr(this,H).get(H)},ye.prototype.has=function Ht(H){return mr(this,H).has(H)},ye.prototype.set=function Kt(H,Z){var q=mr(this,H),pt=q.size;return q.set(H,Z),this.size+=q.size==pt?0:1,this},be.prototype.clear=function we(){this.__data__=new pe,this.size=0},be.prototype.delete=function He(H){var Z=this.__data__,q=Z.delete(H);return this.size=Z.size,q},be.prototype.get=function te(H){return this.__data__.get(H)},be.prototype.has=function Ke(H){return this.__data__.has(H)},be.prototype.set=function We(H,Z){var q=this.__data__;if(q instanceof pe){var pt=q.__data__;if(!Be||pt.length<199)return pt.push([H,Z]),this.size=++q.size,this;q=this.__data__=new ye(pt)}return q.set(H,Z),this.size=q.size,this};var je=function Vr(H){return function(Z,q,pt){for(var Qt=-1,ie=Object(Z),se=pt(Z),$t=se.length;$t--;){var ae=se[H?$t:++Qt];if(!1===q(ie[ae],ae,ie))break}return Z}}();function Ee(H){return null==H?void 0===H?"[object Undefined]":"[object Null]":St&&St in Object(H)?function rr(H){var Z=le.call(H,St),q=H[St];try{H[St]=void 0;var pt=!0}catch{}var Qt=Tt.call(H);return pt&&(Z?H[St]=q:delete H[St]),Qt}(H):function zr(H){return Tt.call(H)}(H)}function Te(H){return cr(H)&&Ee(H)==c}function Ie(H,Z,q,pt,Qt){H!==Z&&je(Z,function(ie,se){if(Qt||(Qt=new be),nr(ie))!function Ne(H,Z,q,pt,Qt,ie,se){var $t=yr(H,q),ae=yr(Z,q),Pe=se.get(ae);if(Pe)oe(H,q,Pe);else{var Se=ie?ie($t,ae,q+"",H,Z,se):void 0,ur=void 0===Se;if(ur){var vr=xe(ae),Or=!vr&&ne(ae),jr=!vr&&!Or&&Ge(ae);Se=ae,vr||Or||jr?xe($t)?Se=$t:function Mr(H){return cr(H)&&wr(H)}($t)?Se=function Hr(H,Z){var q=-1,pt=H.length;for(Z||(Z=Array(pt));++q<pt;)Z[q]=H[q];return Z}($t):Or?(ur=!1,Se=function pr(H,Z){if(Z)return H.slice();var q=H.length,pt=Nt?Nt(q):new H.constructor(q);return H.copy(pt),pt}(ae,!0)):jr?(ur=!1,Se=function Br(H,Z){var q=Z?function Cr(H){var Z=new H.constructor(H.byteLength);return new It(Z).set(new It(H)),Z}(H.buffer):H.buffer;return new H.constructor(q,H.byteOffset,H.length)}(ae,!0)):Se=[]:function Nr(H){if(!cr(H)||Ee(H)!=C)return!1;var Z=ze(H);if(null===Z)return!0;var q=le.call(Z,"constructor")&&Z.constructor;return"function"==typeof q&&q instanceof q&&bt.call(q)==ge}(ae)||br(ae)?(Se=$t,br($t)?Se=function Lr(H){return function Kr(H,Z,q,pt){var Qt=!q;q||(q={});for(var ie=-1,se=Z.length;++ie<se;){var $t=Z[ie],ae=pt?pt(q[$t],H[$t],$t,q,H):void 0;void 0===ae&&(ae=H[$t]),Qt?Me(q,$t,ae):Ve(q,$t,ae)}return q}(H,Sr(H))}($t):(!nr($t)||me($t))&&(Se=function _r(H){return"function"!=typeof H.constructor||Rr(H)?{}:Wt(ze(H))}(ae))):ur=!1}ur&&(se.set(ae,Se),Qt(Se,ae,pt,ie,se),se.delete(ae)),oe(H,q,Se)}}(H,Z,se,q,Ie,pt,Qt);else{var $t=pt?pt(yr(H,se),ie,se+"",H,Z,Qt):void 0;void 0===$t&&($t=ie),oe(H,se,$t)}},Sr)}var Pr=Bt?function(H,Z){return Bt(H,"toString",{configurable:!0,enumerable:!1,value:Dr(Z),writable:!0})}:Ar;function mr(H,Z){var q=H.__data__;return function Gr(H){var Z=typeof H;return"string"==Z||"number"==Z||"symbol"==Z||"boolean"==Z?"__proto__"!==H:null===H}(Z)?q["string"==typeof Z?"string":"hash"]:q.map}function er(H,Z){var q=function lt(H,Z){return null==H?void 0:H[Z]}(H,Z);return function ke(H){return!(!nr(H)||function sr(H){return!!At&&At in H}(H))&&(me(H)?mt:n).test(function Ir(H){if(null!=H){try{return bt.call(H)}catch{}try{return H+""}catch{}}return""}(H))}(q)?q:void 0}function fe(H,Z){var q=typeof H;return!!(Z=Z??i)&&("number"==q||"symbol"!=q&&I.test(H))&&H>-1&&H%1==0&&H<Z}function Rr(H){var Z=H&&H.constructor;return H===("function"==typeof Z&&Z.prototype||re)}function yr(H,Z){if(("constructor"!==Z||"function"!=typeof H[Z])&&"__proto__"!=Z)return H[Z]}var Xr=function Le(H){var Z=0,q=0;return function(){var pt=jt(),Qt=16-(pt-q);if(q=pt,Qt>0){if(++Z>=800)return arguments[0]}else Z=0;return H.apply(void 0,arguments)}}(Pr);function $e(H,Z){return H===Z||H!=H&&Z!=Z}var br=Te(function(){return arguments}())?Te:function(H){return cr(H)&&le.call(H,"callee")&&!_t.call(H,"callee")},xe=Array.isArray;function wr(H){return null!=H&&Er(H.length)&&!me(H)}var ne=Ye||function Jr(){return!1};function me(H){if(!nr(H))return!1;var Z=Ee(H);return Z==b||"[object GeneratorFunction]"==Z||"[object AsyncFunction]"==Z||"[object Proxy]"==Z}function Er(H){return"number"==typeof H&&H>-1&&H%1==0&&H<=i}function nr(H){var Z=typeof H;return null!=H&&("object"==Z||"function"==Z)}function cr(H){return null!=H&&"object"==typeof H}var Ge=tt?function ot(H){return function(Z){return H(Z)}}(tt):function _e(H){return cr(H)&&Er(H.length)&&!!W[Ee(H)]};function Sr(H){return wr(H)?function De(H,Z){var q=xe(H),pt=!q&&br(H),Qt=!q&&!pt&&ne(H),ie=!q&&!pt&&!Qt&&Ge(H),se=q||pt||Qt||ie,$t=se?function Yt(H,Z){for(var q=-1,pt=Array(H);++q<H;)pt[q]=Z(q);return pt}(H.length,String):[],ae=$t.length;for(var Pe in H)(Z||le.call(H,Pe))&&(!se||!("length"==Pe||Qt&&("offset"==Pe||"parent"==Pe)||ie&&("buffer"==Pe||"byteLength"==Pe||"byteOffset"==Pe)||fe(Pe,ae)))&&$t.push(Pe);return $t}(H,!0):function Re(H){if(!nr(H))return function Zr(H){var Z=[];if(null!=H)for(var q in Object(H))Z.push(q);return Z}(H);var Z=Rr(H),q=[];for(var pt in H)"constructor"==pt&&(Z||!le.call(H,pt))||q.push(pt);return q}(H)}var Yr=function Wr(H){return function dr(H,Z){return Xr(function ar(H,Z,q){return Z=Rt(void 0===Z?H.length-1:Z,0),function(){for(var pt=arguments,Qt=-1,ie=Rt(pt.length-Z,0),se=Array(ie);++Qt<ie;)se[Qt]=pt[Z+Qt];Qt=-1;for(var $t=Array(Z+1);++Qt<Z;)$t[Qt]=pt[Qt];return $t[Z]=q(se),nt(H,this,$t)}}(H,Z,Ar),H+"")}(function(Z,q){var pt=-1,Qt=q.length,ie=Qt>1?q[Qt-1]:void 0,se=Qt>2?q[2]:void 0;for(ie=H.length>3&&"function"==typeof ie?(Qt--,ie):void 0,se&&function de(H,Z,q){if(!nr(q))return!1;var pt=typeof Z;return!!("number"==pt?wr(q)&&fe(Z,q.length):"string"==pt&&Z in q)&&$e(q[Z],H)}(q[0],q[1],se)&&(ie=Qt<3?void 0:ie,Qt=1),Z=Object(Z);++pt<Qt;){var $t=q[pt];$t&&H(Z,$t,pt,ie)}return Z})}(function(H,Z,q){Ie(H,Z,q)});function Dr(H){return function(){return H}}function Ar(H){return H}$.exports=Yr},24393:function($,S,m){var y,T;!function(w,M){"use strict";y=function(){var w=function(){},M="undefined",i=typeof window!==M&&typeof window.navigator!==M&&/Trident\/|MSIE /.test(window.navigator.userAgent),c=["trace","debug","info","warn","error"];function s(C,F){var j=C[F];if("function"==typeof j.bind)return j.bind(C);try{return Function.prototype.bind.call(j,C)}catch{return function(){return Function.prototype.apply.apply(j,[C,arguments])}}}function f(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(C){return"debug"===C&&(C="log"),typeof console!==M&&("trace"===C&&i?f:void 0!==console[C]?s(console,C):void 0!==console.log?s(console,"log"):w)}function p(C,F){for(var j=0;j<c.length;j++){var N=c[j];this[N]=j<C?w:this.methodFactory(N,C,F)}this.log=this.debug}function l(C,F,j){return function(){typeof console!==M&&(p.call(this,F,j),this[C].apply(this,arguments))}}function b(C,F,j){return u(C)||l.apply(this,arguments)}function x(C,F,j){var z,N=this;F=F??"WARN";var P="loglevel";function G(){var t;if(typeof window!==M&&P){try{t=window.localStorage[P]}catch{}if(typeof t===M)try{var r=window.document.cookie,o=r.indexOf(encodeURIComponent(P)+"=");-1!==o&&(t=/^([^;]+)/.exec(r.slice(o))[1])}catch{}return void 0===N.levels[t]&&(t=void 0),t}}"string"==typeof C?P+=":"+C:"symbol"==typeof C&&(P=void 0),N.name=C,N.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},N.methodFactory=j||b,N.getLevel=function(){return z},N.setLevel=function(t,r){if("string"==typeof t&&void 0!==N.levels[t.toUpperCase()]&&(t=N.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=N.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(z=t,!1!==r&&function Y(t){var r=(c[t]||"silent").toUpperCase();if(typeof window!==M&&P){try{return void(window.localStorage[P]=r)}catch{}try{window.document.cookie=encodeURIComponent(P)+"="+r+";"}catch{}}}(t),p.call(N,t,C),typeof console===M&&t<N.levels.SILENT)return"No console available for logging"},N.setDefaultLevel=function(t){F=t,G()||N.setLevel(t,!1)},N.resetLevel=function(){N.setLevel(F,!1),function st(){if(typeof window!==M&&P){try{return void window.localStorage.removeItem(P)}catch{}try{window.document.cookie=encodeURIComponent(P)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}()},N.enableAll=function(t){N.setLevel(N.levels.TRACE,t)},N.disableAll=function(t){N.setLevel(N.levels.SILENT,t)};var h=G();null==h&&(h=F),N.setLevel(h,!1)}var O=new x,R={};O.getLogger=function(F){if("symbol"!=typeof F&&"string"!=typeof F||""===F)throw new TypeError("You must supply a name when creating a logger.");var j=R[F];return j||(j=R[F]=new x(F,O.getLevel(),O.methodFactory)),j};var D=typeof window!==M?window.log:void 0;return O.noConflict=function(){return typeof window!==M&&window.log===O&&(window.log=D),O},O.getLoggers=function(){return R},O.default=O,O},void 0!==(T=y.call(S,m,S,$))&&($.exports=T)}()},91354:function($,S,m){!function(y,T){"use strict";function w(h,t){if(!h)throw new Error(t||"Assertion failed")}function M(h,t){h.super_=t;var r=function(){};r.prototype=t.prototype,h.prototype=new r,h.prototype.constructor=h}function i(h,t,r){if(i.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,null!==h&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(h||0,t||10,r||"be"))}var c;"object"==typeof y?y.exports=i:T.BN=i,i.BN=i,i.wordSize=26;try{c=m(44381).Buffer}catch{}function s(h,t,r){for(var o=0,a=Math.min(h.length,r),g=t;g<a;g++){var A=h.charCodeAt(g)-48;o<<=4,o|=A>=49&&A<=54?A-49+10:A>=17&&A<=22?A-17+10:15&A}return o}function f(h,t,r,o){for(var a=0,g=Math.min(h.length,r),A=t;A<g;A++){var B=h.charCodeAt(A)-48;a*=o,a+=B>=49?B-49+10:B>=17?B-17+10:B}return a}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,o){if("number"==typeof t)return this._initNumber(t,r,o);if("object"==typeof t)return this._initArray(t,r,o);"hex"===r&&(r=16),w(r===(0|r)&&r>=2&&r<=36);var a=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&a++,16===r?this._parseHex(t,a):this._parseBase(t,r,a),"-"===t[0]&&(this.negative=1),this.strip(),"le"===o&&this._initArray(this.toArray(),r,o)},i.prototype._initNumber=function(t,r,o){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(w(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===o&&this._initArray(this.toArray(),r,o)},i.prototype._initArray=function(t,r,o){if(w("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var g,A,B=0;if("be"===o)for(a=t.length-1,g=0;a>=0;a-=3)this.words[g]|=(A=t[a]|t[a-1]<<8|t[a-2]<<16)<<B&67108863,this.words[g+1]=A>>>26-B&67108863,(B+=24)>=26&&(B-=26,g++);else if("le"===o)for(a=0,g=0;a<t.length;a+=3)this.words[g]|=(A=t[a]|t[a+1]<<8|t[a+2]<<16)<<B&67108863,this.words[g+1]=A>>>26-B&67108863,(B+=24)>=26&&(B-=26,g++);return this.strip()},i.prototype._parseHex=function(t,r){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var a,g,A=0;for(o=t.length-6,a=0;o>=r;o-=6)g=s(t,o,o+6),this.words[a]|=g<<A&67108863,this.words[a+1]|=g>>>26-A&4194303,(A+=24)>=26&&(A-=26,a++);o+6!==r&&(g=s(t,r,o+6),this.words[a]|=g<<A&67108863,this.words[a+1]|=g>>>26-A&4194303),this.strip()},i.prototype._parseBase=function(t,r,o){this.words=[0],this.length=1;for(var a=0,g=1;g<=67108863;g*=r)a++;a--,g=g/r|0;for(var A=t.length-o,B=A%a,d=Math.min(A,A-B)+o,e=0,n=o;n<d;n+=a)e=f(t,n,n+a,r),this.imuln(g),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(0!==B){var I=1;for(e=f(t,n,t.length,r),n=0;n<B;n++)I*=r;this.imuln(I),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(h,t,r){r.negative=t.negative^h.negative;var o=h.length+t.length|0;r.length=o,o=o-1|0;var a=0|h.words[0],g=0|t.words[0],A=a*g,d=A/67108864|0;r.words[0]=67108863&A;for(var e=1;e<o;e++){for(var n=d>>>26,I=67108863&d,W=Math.min(e,t.length-1),X=Math.max(0,e-h.length+1);X<=W;X++)n+=(A=(a=0|h.words[e-X|0])*(g=0|t.words[X])+I)/67108864|0,I=67108863&A;r.words[e]=0|I,d=0|n}return 0!==d?r.words[e]=0|d:r.length--,r.strip()}i.prototype.toString=function(t,r){var o;if(r=0|r||1,16===(t=t||10)||"hex"===t){o="";for(var a=0,g=0,A=0;A<this.length;A++){var B=this.words[A],d=(16777215&(B<<a|g)).toString(16);o=0!=(g=B>>>24-a&16777215)||A!==this.length-1?u[6-d.length]+d+o:d+o,(a+=2)>=26&&(a-=26,A--)}for(0!==g&&(o=g.toString(16)+o);o.length%r!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}if(t===(0|t)&&t>=2&&t<=36){var e=p[t],n=l[t];o="";var I=this.clone();for(I.negative=0;!I.isZero();){var W=I.modn(n).toString(t);o=(I=I.idivn(n)).isZero()?W+o:u[e-W.length]+W+o}for(this.isZero()&&(o="0"+o);o.length%r!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}w(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&w(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return w(typeof c<"u"),this.toArrayLike(c,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,o){var a=this.byteLength(),g=o||Math.max(1,a);w(a<=g,"byte array longer than desired length"),w(g>0,"Requested array length <= 0"),this.strip();var d,e,A="le"===r,B=new t(g),n=this.clone();if(A){for(e=0;!n.isZero();e++)d=n.andln(255),n.iushrn(8),B[e]=d;for(;e<g;e++)B[e]=0}else{for(e=0;e<g-a;e++)B[e]=0;for(e=0;!n.isZero();e++)d=n.andln(255),n.iushrn(8),B[g-e-1]=d}return B},i.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var r=t,o=0;return r>=4096&&(o+=13,r>>>=13),r>=64&&(o+=7,r>>>=7),r>=8&&(o+=4,r>>>=4),r>=2&&(o+=2,r>>>=2),o+r},i.prototype._zeroBits=function(t){if(0===t)return 26;var r=t,o=0;return 0==(8191&r)&&(o+=13,r>>>=13),0==(127&r)&&(o+=7,r>>>=7),0==(15&r)&&(o+=4,r>>>=4),0==(3&r)&&(o+=2,r>>>=2),0==(1&r)&&o++,o},i.prototype.bitLength=function(){var r=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+r},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var o=this._zeroBits(this.words[r]);if(t+=o,26!==o)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return w(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;r=this.length>t.length?t:this;for(var o=0;o<r.length;o++)this.words[o]=this.words[o]&t.words[o];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return w(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,o;this.length>t.length?(r=this,o=t):(r=t,o=this);for(var a=0;a<o.length;a++)this.words[a]=r.words[a]^o.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return w(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){w("number"==typeof t&&t>=0);var r=0|Math.ceil(t/26),o=t%26;this._expand(r),o>0&&r--;for(var a=0;a<r;a++)this.words[a]=67108863&~this.words[a];return o>0&&(this.words[a]=~this.words[a]&67108863>>26-o),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){w("number"==typeof t&&t>=0);var o=t/26|0,a=t%26;return this._expand(o+1),this.words[o]=r?this.words[o]|1<<a:this.words[o]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r,o,a;if(0!==this.negative&&0===t.negative)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();this.length>t.length?(o=this,a=t):(o=t,a=this);for(var g=0,A=0;A<a.length;A++)this.words[A]=67108863&(r=(0|o.words[A])+(0|a.words[A])+g),g=r>>>26;for(;0!==g&&A<o.length;A++)this.words[A]=67108863&(r=(0|o.words[A])+g),g=r>>>26;if(this.length=o.length,0!==g)this.words[this.length]=g,this.length++;else if(o!==this)for(;A<o.length;A++)this.words[A]=o.words[A];return this},i.prototype.add=function(t){var r;return 0!==t.negative&&0===this.negative?(t.negative=0,r=this.sub(t),t.negative^=1,r):0===t.negative&&0!==this.negative?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var a,g,o=this.cmp(t);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(a=this,g=t):(a=t,g=this);for(var A=0,B=0;B<g.length;B++)A=(r=(0|a.words[B])-(0|g.words[B])+A)>>26,this.words[B]=67108863&r;for(;0!==A&&B<a.length;B++)A=(r=(0|a.words[B])+A)>>26,this.words[B]=67108863&r;if(0===A&&B<a.length&&a!==this)for(;B<a.length;B++)this.words[B]=a.words[B];return this.length=Math.max(this.length,B),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var O=function(t,r,o){var d,e,n,a=t.words,g=r.words,A=o.words,B=0,I=0|a[0],W=8191&I,X=I>>>13,Q=0|a[1],rt=8191&Q,ft=Q>>>13,qt=0|a[2],ht=8191&qt,L=qt>>>13,V=0|a[3],tt=8191&V,nt=V>>>13,Yt=0|a[4],ot=8191&Yt,lt=Yt>>>13,ue=0|a[5],Ot=8191&ue,dt=ue>>>13,re=0|a[6],vt=8191&re,bt=re>>>13,le=0|a[7],At=8191&le,Tt=le>>>13,ge=0|a[8],mt=8191&ge,wt=ge>>>13,Ue=0|a[9],It=8191&Ue,Nt=Ue>>>13,ze=0|g[0],Ct=8191&ze,_t=ze>>>13,Xe=0|g[1],St=8191&Xe,Bt=Xe>>>13,Ye=0|g[2],Rt=8191&Ye,jt=Ye>>>13,Be=0|g[3],gt=8191&Be,Wt=Be>>>13,Ae=0|g[4],kt=8191&Ae,Vt=Ae>>>13,tr=0|g[5],Gt=8191&tr,Zt=tr>>>13,pe=0|g[6],Ft=8191&pe,Mt=pe>>>13,or=0|g[7],zt=8191&or,Ut=or>>>13,ye=0|g[8],Lt=8191&ye,Dt=ye>>>13,Je=0|g[9],Ht=8191&Je,Kt=Je>>>13;o.negative=t.negative^r.negative,o.length=19;var be=(B+(d=Math.imul(W,Ct))|0)+((8191&(e=(e=Math.imul(W,_t))+Math.imul(X,Ct)|0))<<13)|0;B=((n=Math.imul(X,_t))+(e>>>13)|0)+(be>>>26)|0,be&=67108863,d=Math.imul(rt,Ct),e=(e=Math.imul(rt,_t))+Math.imul(ft,Ct)|0,n=Math.imul(ft,_t);var we=(B+(d=d+Math.imul(W,St)|0)|0)+((8191&(e=(e=e+Math.imul(W,Bt)|0)+Math.imul(X,St)|0))<<13)|0;B=((n=n+Math.imul(X,Bt)|0)+(e>>>13)|0)+(we>>>26)|0,we&=67108863,d=Math.imul(ht,Ct),e=(e=Math.imul(ht,_t))+Math.imul(L,Ct)|0,n=Math.imul(L,_t),d=d+Math.imul(rt,St)|0,e=(e=e+Math.imul(rt,Bt)|0)+Math.imul(ft,St)|0,n=n+Math.imul(ft,Bt)|0;var He=(B+(d=d+Math.imul(W,Rt)|0)|0)+((8191&(e=(e=e+Math.imul(W,jt)|0)+Math.imul(X,Rt)|0))<<13)|0;B=((n=n+Math.imul(X,jt)|0)+(e>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(tt,Ct),e=(e=Math.imul(tt,_t))+Math.imul(nt,Ct)|0,n=Math.imul(nt,_t),d=d+Math.imul(ht,St)|0,e=(e=e+Math.imul(ht,Bt)|0)+Math.imul(L,St)|0,n=n+Math.imul(L,Bt)|0,d=d+Math.imul(rt,Rt)|0,e=(e=e+Math.imul(rt,jt)|0)+Math.imul(ft,Rt)|0,n=n+Math.imul(ft,jt)|0;var te=(B+(d=d+Math.imul(W,gt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Wt)|0)+Math.imul(X,gt)|0))<<13)|0;B=((n=n+Math.imul(X,Wt)|0)+(e>>>13)|0)+(te>>>26)|0,te&=67108863,d=Math.imul(ot,Ct),e=(e=Math.imul(ot,_t))+Math.imul(lt,Ct)|0,n=Math.imul(lt,_t),d=d+Math.imul(tt,St)|0,e=(e=e+Math.imul(tt,Bt)|0)+Math.imul(nt,St)|0,n=n+Math.imul(nt,Bt)|0,d=d+Math.imul(ht,Rt)|0,e=(e=e+Math.imul(ht,jt)|0)+Math.imul(L,Rt)|0,n=n+Math.imul(L,jt)|0,d=d+Math.imul(rt,gt)|0,e=(e=e+Math.imul(rt,Wt)|0)+Math.imul(ft,gt)|0,n=n+Math.imul(ft,Wt)|0;var Ke=(B+(d=d+Math.imul(W,kt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Vt)|0)+Math.imul(X,kt)|0))<<13)|0;B=((n=n+Math.imul(X,Vt)|0)+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(Ot,Ct),e=(e=Math.imul(Ot,_t))+Math.imul(dt,Ct)|0,n=Math.imul(dt,_t),d=d+Math.imul(ot,St)|0,e=(e=e+Math.imul(ot,Bt)|0)+Math.imul(lt,St)|0,n=n+Math.imul(lt,Bt)|0,d=d+Math.imul(tt,Rt)|0,e=(e=e+Math.imul(tt,jt)|0)+Math.imul(nt,Rt)|0,n=n+Math.imul(nt,jt)|0,d=d+Math.imul(ht,gt)|0,e=(e=e+Math.imul(ht,Wt)|0)+Math.imul(L,gt)|0,n=n+Math.imul(L,Wt)|0,d=d+Math.imul(rt,kt)|0,e=(e=e+Math.imul(rt,Vt)|0)+Math.imul(ft,kt)|0,n=n+Math.imul(ft,Vt)|0;var We=(B+(d=d+Math.imul(W,Gt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Zt)|0)+Math.imul(X,Gt)|0))<<13)|0;B=((n=n+Math.imul(X,Zt)|0)+(e>>>13)|0)+(We>>>26)|0,We&=67108863,d=Math.imul(vt,Ct),e=(e=Math.imul(vt,_t))+Math.imul(bt,Ct)|0,n=Math.imul(bt,_t),d=d+Math.imul(Ot,St)|0,e=(e=e+Math.imul(Ot,Bt)|0)+Math.imul(dt,St)|0,n=n+Math.imul(dt,Bt)|0,d=d+Math.imul(ot,Rt)|0,e=(e=e+Math.imul(ot,jt)|0)+Math.imul(lt,Rt)|0,n=n+Math.imul(lt,jt)|0,d=d+Math.imul(tt,gt)|0,e=(e=e+Math.imul(tt,Wt)|0)+Math.imul(nt,gt)|0,n=n+Math.imul(nt,Wt)|0,d=d+Math.imul(ht,kt)|0,e=(e=e+Math.imul(ht,Vt)|0)+Math.imul(L,kt)|0,n=n+Math.imul(L,Vt)|0,d=d+Math.imul(rt,Gt)|0,e=(e=e+Math.imul(rt,Zt)|0)+Math.imul(ft,Gt)|0,n=n+Math.imul(ft,Zt)|0;var De=(B+(d=d+Math.imul(W,Ft)|0)|0)+((8191&(e=(e=e+Math.imul(W,Mt)|0)+Math.imul(X,Ft)|0))<<13)|0;B=((n=n+Math.imul(X,Mt)|0)+(e>>>13)|0)+(De>>>26)|0,De&=67108863,d=Math.imul(At,Ct),e=(e=Math.imul(At,_t))+Math.imul(Tt,Ct)|0,n=Math.imul(Tt,_t),d=d+Math.imul(vt,St)|0,e=(e=e+Math.imul(vt,Bt)|0)+Math.imul(bt,St)|0,n=n+Math.imul(bt,Bt)|0,d=d+Math.imul(Ot,Rt)|0,e=(e=e+Math.imul(Ot,jt)|0)+Math.imul(dt,Rt)|0,n=n+Math.imul(dt,jt)|0,d=d+Math.imul(ot,gt)|0,e=(e=e+Math.imul(ot,Wt)|0)+Math.imul(lt,gt)|0,n=n+Math.imul(lt,Wt)|0,d=d+Math.imul(tt,kt)|0,e=(e=e+Math.imul(tt,Vt)|0)+Math.imul(nt,kt)|0,n=n+Math.imul(nt,Vt)|0,d=d+Math.imul(ht,Gt)|0,e=(e=e+Math.imul(ht,Zt)|0)+Math.imul(L,Gt)|0,n=n+Math.imul(L,Zt)|0,d=d+Math.imul(rt,Ft)|0,e=(e=e+Math.imul(rt,Mt)|0)+Math.imul(ft,Ft)|0,n=n+Math.imul(ft,Mt)|0;var oe=(B+(d=d+Math.imul(W,zt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Ut)|0)+Math.imul(X,zt)|0))<<13)|0;B=((n=n+Math.imul(X,Ut)|0)+(e>>>13)|0)+(oe>>>26)|0,oe&=67108863,d=Math.imul(mt,Ct),e=(e=Math.imul(mt,_t))+Math.imul(wt,Ct)|0,n=Math.imul(wt,_t),d=d+Math.imul(At,St)|0,e=(e=e+Math.imul(At,Bt)|0)+Math.imul(Tt,St)|0,n=n+Math.imul(Tt,Bt)|0,d=d+Math.imul(vt,Rt)|0,e=(e=e+Math.imul(vt,jt)|0)+Math.imul(bt,Rt)|0,n=n+Math.imul(bt,jt)|0,d=d+Math.imul(Ot,gt)|0,e=(e=e+Math.imul(Ot,Wt)|0)+Math.imul(dt,gt)|0,n=n+Math.imul(dt,Wt)|0,d=d+Math.imul(ot,kt)|0,e=(e=e+Math.imul(ot,Vt)|0)+Math.imul(lt,kt)|0,n=n+Math.imul(lt,Vt)|0,d=d+Math.imul(tt,Gt)|0,e=(e=e+Math.imul(tt,Zt)|0)+Math.imul(nt,Gt)|0,n=n+Math.imul(nt,Zt)|0,d=d+Math.imul(ht,Ft)|0,e=(e=e+Math.imul(ht,Mt)|0)+Math.imul(L,Ft)|0,n=n+Math.imul(L,Mt)|0,d=d+Math.imul(rt,zt)|0,e=(e=e+Math.imul(rt,Ut)|0)+Math.imul(ft,zt)|0,n=n+Math.imul(ft,Ut)|0;var Ve=(B+(d=d+Math.imul(W,Lt)|0)|0)+((8191&(e=(e=e+Math.imul(W,Dt)|0)+Math.imul(X,Lt)|0))<<13)|0;B=((n=n+Math.imul(X,Dt)|0)+(e>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,d=Math.imul(It,Ct),e=(e=Math.imul(It,_t))+Math.imul(Nt,Ct)|0,n=Math.imul(Nt,_t),d=d+Math.imul(mt,St)|0,e=(e=e+Math.imul(mt,Bt)|0)+Math.imul(wt,St)|0,n=n+Math.imul(wt,Bt)|0,d=d+Math.imul(At,Rt)|0,e=(e=e+Math.imul(At,jt)|0)+Math.imul(Tt,Rt)|0,n=n+Math.imul(Tt,jt)|0,d=d+Math.imul(vt,gt)|0,e=(e=e+Math.imul(vt,Wt)|0)+Math.imul(bt,gt)|0,n=n+Math.imul(bt,Wt)|0,d=d+Math.imul(Ot,kt)|0,e=(e=e+Math.imul(Ot,Vt)|0)+Math.imul(dt,kt)|0,n=n+Math.imul(dt,Vt)|0,d=d+Math.imul(ot,Gt)|0,e=(e=e+Math.imul(ot,Zt)|0)+Math.imul(lt,Gt)|0,n=n+Math.imul(lt,Zt)|0,d=d+Math.imul(tt,Ft)|0,e=(e=e+Math.imul(tt,Mt)|0)+Math.imul(nt,Ft)|0,n=n+Math.imul(nt,Mt)|0,d=d+Math.imul(ht,zt)|0,e=(e=e+Math.imul(ht,Ut)|0)+Math.imul(L,zt)|0,n=n+Math.imul(L,Ut)|0,d=d+Math.imul(rt,Lt)|0,e=(e=e+Math.imul(rt,Dt)|0)+Math.imul(ft,Lt)|0,n=n+Math.imul(ft,Dt)|0;var Oe=(B+(d=d+Math.imul(W,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(W,Kt)|0)+Math.imul(X,Ht)|0))<<13)|0;B=((n=n+Math.imul(X,Kt)|0)+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,d=Math.imul(It,St),e=(e=Math.imul(It,Bt))+Math.imul(Nt,St)|0,n=Math.imul(Nt,Bt),d=d+Math.imul(mt,Rt)|0,e=(e=e+Math.imul(mt,jt)|0)+Math.imul(wt,Rt)|0,n=n+Math.imul(wt,jt)|0,d=d+Math.imul(At,gt)|0,e=(e=e+Math.imul(At,Wt)|0)+Math.imul(Tt,gt)|0,n=n+Math.imul(Tt,Wt)|0,d=d+Math.imul(vt,kt)|0,e=(e=e+Math.imul(vt,Vt)|0)+Math.imul(bt,kt)|0,n=n+Math.imul(bt,Vt)|0,d=d+Math.imul(Ot,Gt)|0,e=(e=e+Math.imul(Ot,Zt)|0)+Math.imul(dt,Gt)|0,n=n+Math.imul(dt,Zt)|0,d=d+Math.imul(ot,Ft)|0,e=(e=e+Math.imul(ot,Mt)|0)+Math.imul(lt,Ft)|0,n=n+Math.imul(lt,Mt)|0,d=d+Math.imul(tt,zt)|0,e=(e=e+Math.imul(tt,Ut)|0)+Math.imul(nt,zt)|0,n=n+Math.imul(nt,Ut)|0,d=d+Math.imul(ht,Lt)|0,e=(e=e+Math.imul(ht,Dt)|0)+Math.imul(L,Lt)|0,n=n+Math.imul(L,Dt)|0;var Me=(B+(d=d+Math.imul(rt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(rt,Kt)|0)+Math.imul(ft,Ht)|0))<<13)|0;B=((n=n+Math.imul(ft,Kt)|0)+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,d=Math.imul(It,Rt),e=(e=Math.imul(It,jt))+Math.imul(Nt,Rt)|0,n=Math.imul(Nt,jt),d=d+Math.imul(mt,gt)|0,e=(e=e+Math.imul(mt,Wt)|0)+Math.imul(wt,gt)|0,n=n+Math.imul(wt,Wt)|0,d=d+Math.imul(At,kt)|0,e=(e=e+Math.imul(At,Vt)|0)+Math.imul(Tt,kt)|0,n=n+Math.imul(Tt,Vt)|0,d=d+Math.imul(vt,Gt)|0,e=(e=e+Math.imul(vt,Zt)|0)+Math.imul(bt,Gt)|0,n=n+Math.imul(bt,Zt)|0,d=d+Math.imul(Ot,Ft)|0,e=(e=e+Math.imul(Ot,Mt)|0)+Math.imul(dt,Ft)|0,n=n+Math.imul(dt,Mt)|0,d=d+Math.imul(ot,zt)|0,e=(e=e+Math.imul(ot,Ut)|0)+Math.imul(lt,zt)|0,n=n+Math.imul(lt,Ut)|0,d=d+Math.imul(tt,Lt)|0,e=(e=e+Math.imul(tt,Dt)|0)+Math.imul(nt,Lt)|0,n=n+Math.imul(nt,Dt)|0;var je=(B+(d=d+Math.imul(ht,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(ht,Kt)|0)+Math.imul(L,Ht)|0))<<13)|0;B=((n=n+Math.imul(L,Kt)|0)+(e>>>13)|0)+(je>>>26)|0,je&=67108863,d=Math.imul(It,gt),e=(e=Math.imul(It,Wt))+Math.imul(Nt,gt)|0,n=Math.imul(Nt,Wt),d=d+Math.imul(mt,kt)|0,e=(e=e+Math.imul(mt,Vt)|0)+Math.imul(wt,kt)|0,n=n+Math.imul(wt,Vt)|0,d=d+Math.imul(At,Gt)|0,e=(e=e+Math.imul(At,Zt)|0)+Math.imul(Tt,Gt)|0,n=n+Math.imul(Tt,Zt)|0,d=d+Math.imul(vt,Ft)|0,e=(e=e+Math.imul(vt,Mt)|0)+Math.imul(bt,Ft)|0,n=n+Math.imul(bt,Mt)|0,d=d+Math.imul(Ot,zt)|0,e=(e=e+Math.imul(Ot,Ut)|0)+Math.imul(dt,zt)|0,n=n+Math.imul(dt,Ut)|0,d=d+Math.imul(ot,Lt)|0,e=(e=e+Math.imul(ot,Dt)|0)+Math.imul(lt,Lt)|0,n=n+Math.imul(lt,Dt)|0;var Ee=(B+(d=d+Math.imul(tt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(tt,Kt)|0)+Math.imul(nt,Ht)|0))<<13)|0;B=((n=n+Math.imul(nt,Kt)|0)+(e>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,d=Math.imul(It,kt),e=(e=Math.imul(It,Vt))+Math.imul(Nt,kt)|0,n=Math.imul(Nt,Vt),d=d+Math.imul(mt,Gt)|0,e=(e=e+Math.imul(mt,Zt)|0)+Math.imul(wt,Gt)|0,n=n+Math.imul(wt,Zt)|0,d=d+Math.imul(At,Ft)|0,e=(e=e+Math.imul(At,Mt)|0)+Math.imul(Tt,Ft)|0,n=n+Math.imul(Tt,Mt)|0,d=d+Math.imul(vt,zt)|0,e=(e=e+Math.imul(vt,Ut)|0)+Math.imul(bt,zt)|0,n=n+Math.imul(bt,Ut)|0,d=d+Math.imul(Ot,Lt)|0,e=(e=e+Math.imul(Ot,Dt)|0)+Math.imul(dt,Lt)|0,n=n+Math.imul(dt,Dt)|0;var Te=(B+(d=d+Math.imul(ot,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(ot,Kt)|0)+Math.imul(lt,Ht)|0))<<13)|0;B=((n=n+Math.imul(lt,Kt)|0)+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,d=Math.imul(It,Gt),e=(e=Math.imul(It,Zt))+Math.imul(Nt,Gt)|0,n=Math.imul(Nt,Zt),d=d+Math.imul(mt,Ft)|0,e=(e=e+Math.imul(mt,Mt)|0)+Math.imul(wt,Ft)|0,n=n+Math.imul(wt,Mt)|0,d=d+Math.imul(At,zt)|0,e=(e=e+Math.imul(At,Ut)|0)+Math.imul(Tt,zt)|0,n=n+Math.imul(Tt,Ut)|0,d=d+Math.imul(vt,Lt)|0,e=(e=e+Math.imul(vt,Dt)|0)+Math.imul(bt,Lt)|0,n=n+Math.imul(bt,Dt)|0;var ke=(B+(d=d+Math.imul(Ot,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(Ot,Kt)|0)+Math.imul(dt,Ht)|0))<<13)|0;B=((n=n+Math.imul(dt,Kt)|0)+(e>>>13)|0)+(ke>>>26)|0,ke&=67108863,d=Math.imul(It,Ft),e=(e=Math.imul(It,Mt))+Math.imul(Nt,Ft)|0,n=Math.imul(Nt,Mt),d=d+Math.imul(mt,zt)|0,e=(e=e+Math.imul(mt,Ut)|0)+Math.imul(wt,zt)|0,n=n+Math.imul(wt,Ut)|0,d=d+Math.imul(At,Lt)|0,e=(e=e+Math.imul(At,Dt)|0)+Math.imul(Tt,Lt)|0,n=n+Math.imul(Tt,Dt)|0;var _e=(B+(d=d+Math.imul(vt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(vt,Kt)|0)+Math.imul(bt,Ht)|0))<<13)|0;B=((n=n+Math.imul(bt,Kt)|0)+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,d=Math.imul(It,zt),e=(e=Math.imul(It,Ut))+Math.imul(Nt,zt)|0,n=Math.imul(Nt,Ut),d=d+Math.imul(mt,Lt)|0,e=(e=e+Math.imul(mt,Dt)|0)+Math.imul(wt,Lt)|0,n=n+Math.imul(wt,Dt)|0;var Re=(B+(d=d+Math.imul(At,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(At,Kt)|0)+Math.imul(Tt,Ht)|0))<<13)|0;B=((n=n+Math.imul(Tt,Kt)|0)+(e>>>13)|0)+(Re>>>26)|0,Re&=67108863,d=Math.imul(It,Lt),e=(e=Math.imul(It,Dt))+Math.imul(Nt,Lt)|0,n=Math.imul(Nt,Dt);var Ie=(B+(d=d+Math.imul(mt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(mt,Kt)|0)+Math.imul(wt,Ht)|0))<<13)|0;B=((n=n+Math.imul(wt,Kt)|0)+(e>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Ne=(B+(d=Math.imul(It,Ht))|0)+((8191&(e=(e=Math.imul(It,Kt))+Math.imul(Nt,Ht)|0))<<13)|0;return B=((n=Math.imul(Nt,Kt))+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,A[0]=be,A[1]=we,A[2]=He,A[3]=te,A[4]=Ke,A[5]=We,A[6]=De,A[7]=oe,A[8]=Ve,A[9]=Oe,A[10]=Me,A[11]=je,A[12]=Ee,A[13]=Te,A[14]=ke,A[15]=_e,A[16]=Re,A[17]=Ie,A[18]=Ne,0!==B&&(A[19]=B,o.length++),o};function D(h,t,r){return(new C).mulp(h,t,r)}function C(h,t){this.x=h,this.y=t}Math.imul||(O=x),i.prototype.mulTo=function(t,r){var o,a=this.length+t.length;return o=10===this.length&&10===t.length?O(this,t,r):a<63?x(this,t,r):a<1024?function R(h,t,r){r.negative=t.negative^h.negative,r.length=h.length+t.length;for(var o=0,a=0,g=0;g<r.length-1;g++){var A=a;a=0;for(var B=67108863&o,d=Math.min(g,t.length-1),e=Math.max(0,g-h.length+1);e<=d;e++){var X=(0|h.words[g-e])*(0|t.words[e]),Q=67108863&X;B=67108863&(Q=Q+B|0),a+=(A=(A=A+(X/67108864|0)|0)+(Q>>>26)|0)>>>26,A&=67108863}r.words[g]=B,o=A,A=a}return 0!==o?r.words[g]=o:r.length--,r.strip()}(this,t,r):D(this,t,r),o},C.prototype.makeRBT=function(t){for(var r=new Array(t),o=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,o,t);return r},C.prototype.revBin=function(t,r,o){if(0===t||t===o-1)return t;for(var a=0,g=0;g<r;g++)a|=(1&t)<<r-g-1,t>>=1;return a},C.prototype.permute=function(t,r,o,a,g,A){for(var B=0;B<A;B++)a[B]=r[t[B]],g[B]=o[t[B]]},C.prototype.transform=function(t,r,o,a,g,A){this.permute(A,t,r,o,a,g);for(var B=1;B<g;B<<=1)for(var d=B<<1,e=Math.cos(2*Math.PI/d),n=Math.sin(2*Math.PI/d),I=0;I<g;I+=d)for(var W=e,X=n,Q=0;Q<B;Q++){var rt=o[I+Q],ft=a[I+Q],qt=o[I+Q+B],ht=a[I+Q+B],L=W*qt-X*ht;ht=W*ht+X*qt,o[I+Q]=rt+(qt=L),a[I+Q]=ft+ht,o[I+Q+B]=rt-qt,a[I+Q+B]=ft-ht,Q!==d&&(L=e*W-n*X,X=e*X+n*W,W=L)}},C.prototype.guessLen13b=function(t,r){var o=1|Math.max(r,t),a=1&o,g=0;for(o=o/2|0;o;o>>>=1)g++;return 1<<g+1+a},C.prototype.conjugate=function(t,r,o){if(!(o<=1))for(var a=0;a<o/2;a++){var g=t[a];t[a]=t[o-a-1],t[o-a-1]=g,g=r[a],r[a]=-r[o-a-1],r[o-a-1]=-g}},C.prototype.normalize13b=function(t,r){for(var o=0,a=0;a<r/2;a++){var g=8192*Math.round(t[2*a+1]/r)+Math.round(t[2*a]/r)+o;t[a]=67108863&g,o=g<67108864?0:g/67108864|0}return t},C.prototype.convert13b=function(t,r,o,a){for(var g=0,A=0;A<r;A++)o[2*A]=8191&(g+=0|t[A]),o[2*A+1]=8191&(g>>>=13),g>>>=13;for(A=2*r;A<a;++A)o[A]=0;w(0===g),w(0==(-8192&g))},C.prototype.stub=function(t){for(var r=new Array(t),o=0;o<t;o++)r[o]=0;return r},C.prototype.mulp=function(t,r,o){var a=2*this.guessLen13b(t.length,r.length),g=this.makeRBT(a),A=this.stub(a),B=new Array(a),d=new Array(a),e=new Array(a),n=new Array(a),I=new Array(a),W=new Array(a),X=o.words;X.length=a,this.convert13b(t.words,t.length,B,a),this.convert13b(r.words,r.length,n,a),this.transform(B,A,d,e,a,g),this.transform(n,A,I,W,a,g);for(var Q=0;Q<a;Q++){var rt=d[Q]*I[Q]-e[Q]*W[Q];e[Q]=d[Q]*W[Q]+e[Q]*I[Q],d[Q]=rt}return this.conjugate(d,e,a),this.transform(d,e,X,A,a,g),this.conjugate(X,A,a),this.normalize13b(X,a),o.negative=t.negative^r.negative,o.length=t.length+r.length,o.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),D(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){w("number"==typeof t),w(t<67108864);for(var r=0,o=0;o<this.length;o++){var a=(0|this.words[o])*t,g=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=g>>>26,this.words[o]=67108863&g}return 0!==r&&(this.words[o]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=function b(h){for(var t=new Array(h.bitLength()),r=0;r<t.length;r++){var a=r%26;t[r]=(h.words[r/26|0]&1<<a)>>>a}return t}(t);if(0===r.length)return new i(1);for(var o=this,a=0;a<r.length&&0===r[a];a++,o=o.sqr());if(++a<r.length)for(var g=o.sqr();a<r.length;a++,g=g.sqr())0!==r[a]&&(o=o.mul(g));return o},i.prototype.iushln=function(t){w("number"==typeof t&&t>=0);var g,r=t%26,o=(t-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var A=0;for(g=0;g<this.length;g++){var B=this.words[g]&a;this.words[g]=(0|this.words[g])-B<<r|A,A=B>>>26-r}A&&(this.words[g]=A,this.length++)}if(0!==o){for(g=this.length-1;g>=0;g--)this.words[g+o]=this.words[g];for(g=0;g<o;g++)this.words[g]=0;this.length+=o}return this.strip()},i.prototype.ishln=function(t){return w(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,r,o){var a;w("number"==typeof t&&t>=0),a=r?(r-r%26)/26:0;var g=t%26,A=Math.min((t-g)/26,this.length),B=67108863^67108863>>>g<<g,d=o;if(a-=A,a=Math.max(0,a),d){for(var e=0;e<A;e++)d.words[e]=this.words[e];d.length=A}if(0!==A)if(this.length>A)for(this.length-=A,e=0;e<this.length;e++)this.words[e]=this.words[e+A];else this.words[0]=0,this.length=1;var n=0;for(e=this.length-1;e>=0&&(0!==n||e>=a);e--){var I=0|this.words[e];this.words[e]=n<<26-g|I>>>g,n=I&B}return d&&0!==n&&(d.words[d.length++]=n),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,o){return w(0===this.negative),this.iushrn(t,r,o)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){w("number"==typeof t&&t>=0);var r=t%26,o=(t-r)/26;return!(this.length<=o||!(this.words[o]&1<<r))},i.prototype.imaskn=function(t){w("number"==typeof t&&t>=0);var r=t%26,o=(t-r)/26;return w(0===this.negative,"imaskn works only with positive numbers"),this.length<=o?this:(0!==r&&o++,this.length=Math.min(o,this.length),0!==r&&(this.words[this.length-1]&=67108863^67108863>>>r<<r),this.strip())},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return w("number"==typeof t),w(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(w("number"==typeof t),w(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,o){var g;this._expand(t.length+o);var A,B=0;for(g=0;g<t.length;g++){A=(0|this.words[g+o])+B;var d=(0|t.words[g])*r;B=((A-=67108863&d)>>26)-(d/67108864|0),this.words[g+o]=67108863&A}for(;g<this.length-o;g++)B=(A=(0|this.words[g+o])+B)>>26,this.words[g+o]=67108863&A;if(0===B)return this.strip();for(w(-1===B),B=0,g=0;g<this.length;g++)B=(A=-(0|this.words[g])+B)>>26,this.words[g]=67108863&A;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var o,a=this.clone(),g=t,A=0|g.words[g.length-1];0!=(o=26-this._countBits(A))&&(g=g.ushln(o),a.iushln(o),A=0|g.words[g.length-1]);var e,d=a.length-g.length;if("mod"!==r){(e=new i(null)).length=d+1,e.words=new Array(e.length);for(var n=0;n<e.length;n++)e.words[n]=0}var I=a.clone()._ishlnsubmul(g,1,d);0===I.negative&&(a=I,e&&(e.words[d]=1));for(var W=d-1;W>=0;W--){var X=67108864*(0|a.words[g.length+W])+(0|a.words[g.length+W-1]);for(X=Math.min(X/A|0,67108863),a._ishlnsubmul(g,X,W);0!==a.negative;)X--,a.negative=0,a._ishlnsubmul(g,1,W),a.isZero()||(a.negative^=1);e&&(e.words[W]=X)}return e&&e.strip(),a.strip(),"div"!==r&&0!==o&&a.iushrn(o),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,o){return w(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(A=this.neg().divmod(t,r),"mod"!==r&&(a=A.div.neg()),"div"!==r&&(g=A.mod.neg(),o&&0!==g.negative&&g.iadd(t)),{div:a,mod:g}):0===this.negative&&0!==t.negative?(A=this.divmod(t.neg(),r),"mod"!==r&&(a=A.div.neg()),{div:a,mod:A.mod}):0!=(this.negative&t.negative)?(A=this.neg().divmod(t.neg(),r),"div"!==r&&(g=A.mod.neg(),o&&0!==g.negative&&g.isub(t)),{div:A.div,mod:g}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===r?{div:this.divn(t.words[0]),mod:null}:"mod"===r?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r);var a,g,A},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var o=0!==r.div.negative?r.mod.isub(t):r.mod,a=t.ushrn(1),g=t.andln(1),A=o.cmp(a);return A<0||1===g&&0===A?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){w(t<=67108863);for(var r=(1<<26)%t,o=0,a=this.length-1;a>=0;a--)o=(r*o+(0|this.words[a]))%t;return o},i.prototype.idivn=function(t){w(t<=67108863);for(var r=0,o=this.length-1;o>=0;o--){var a=(0|this.words[o])+67108864*r;this.words[o]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){w(0===t.negative),w(!t.isZero());var r=this,o=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new i(1),g=new i(0),A=new i(0),B=new i(1),d=0;r.isEven()&&o.isEven();)r.iushrn(1),o.iushrn(1),++d;for(var e=o.clone(),n=r.clone();!r.isZero();){for(var I=0,W=1;0==(r.words[0]&W)&&I<26;++I,W<<=1);if(I>0)for(r.iushrn(I);I-- >0;)(a.isOdd()||g.isOdd())&&(a.iadd(e),g.isub(n)),a.iushrn(1),g.iushrn(1);for(var X=0,Q=1;0==(o.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(o.iushrn(X);X-- >0;)(A.isOdd()||B.isOdd())&&(A.iadd(e),B.isub(n)),A.iushrn(1),B.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(A),g.isub(B)):(o.isub(r),A.isub(a),B.isub(g))}return{a:A,b:B,gcd:o.iushln(d)}},i.prototype._invmp=function(t){w(0===t.negative),w(!t.isZero());var I,r=this,o=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new i(1),g=new i(0),A=o.clone();r.cmpn(1)>0&&o.cmpn(1)>0;){for(var B=0,d=1;0==(r.words[0]&d)&&B<26;++B,d<<=1);if(B>0)for(r.iushrn(B);B-- >0;)a.isOdd()&&a.iadd(A),a.iushrn(1);for(var e=0,n=1;0==(o.words[0]&n)&&e<26;++e,n<<=1);if(e>0)for(o.iushrn(e);e-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(g)):(o.isub(r),g.isub(a))}return(I=0===r.cmpn(1)?a:g).cmpn(0)<0&&I.iadd(t),I},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),o=t.clone();r.negative=0,o.negative=0;for(var a=0;r.isEven()&&o.isEven();a++)r.iushrn(1),o.iushrn(1);for(;;){for(;r.isEven();)r.iushrn(1);for(;o.isEven();)o.iushrn(1);var g=r.cmp(o);if(g<0){var A=r;r=o,o=A}else if(0===g||0===o.cmpn(1))break;r.isub(o)}return o.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){w("number"==typeof t);var r=t%26,o=(t-r)/26,a=1<<r;if(this.length<=o)return this._expand(o+1),this.words[o]|=a,this;for(var g=a,A=o;0!==g&&A<this.length;A++){var B=0|this.words[A];g=(B+=g)>>>26,this.words[A]=B&=67108863}return 0!==g&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var o,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)o=1;else{r&&(t=-t),w(t<=67108863,"Number is too big");var a=0|this.words[0];o=a===t?0:a<t?-1:1}return 0!==this.negative?0|-o:o},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var r=this.ucmp(t);return 0!==this.negative?0|-r:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,o=this.length-1;o>=0;o--){var a=0|this.words[o],g=0|t.words[o];if(a!==g){a<g?r=-1:a>g&&(r=1);break}}return r},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new G(t)},i.prototype.toRed=function(t){return w(!this.red,"Already a number in reduction context"),w(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return w(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return w(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return w(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return w(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return w(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return w(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return w(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return w(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return w(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return w(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return w(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return w(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return w(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return w(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return w(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var F={k256:null,p224:null,p192:null,p25519:null};function j(h,t){this.name=h,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function N(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Y(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function G(h){if("string"==typeof h){var t=i._prime(h);this.m=t.p,this.prime=t}else w(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}function st(h){G.call(this,h),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},j.prototype.ireduce=function(t){var o,r=t;do{this.split(r,this.tmp),o=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(o>this.n);var a=o<this.n?-1:r.ucmp(this.p);return 0===a?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip(),r},j.prototype.split=function(t,r){t.iushrn(this.n,0,r)},j.prototype.imulK=function(t){return t.imul(this.k)},M(N,j),N.prototype.split=function(t,r){for(var o=4194303,a=Math.min(t.length,9),g=0;g<a;g++)r.words[g]=t.words[g];if(r.length=a,t.length<=9)return t.words[0]=0,void(t.length=1);var A=t.words[9];for(r.words[r.length++]=A&o,g=10;g<t.length;g++){var B=0|t.words[g];t.words[g-10]=(B&o)<<4|A>>>22,A=B}t.words[g-10]=A>>>=22,t.length-=0===A&&t.length>10?10:9},N.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,o=0;o<t.length;o++){var a=0|t.words[o];t.words[o]=67108863&(r+=977*a),r=64*a+(r/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},M(z,j),M(P,j),M(Y,j),Y.prototype.imulK=function(t){for(var r=0,o=0;o<t.length;o++){var a=19*(0|t.words[o])+r,g=67108863&a;a>>>=26,t.words[o]=g,r=a}return 0!==r&&(t.words[t.length++]=r),t},i._prime=function(t){if(F[t])return F[t];var r;if("k256"===t)r=new N;else if("p224"===t)r=new z;else if("p192"===t)r=new P;else{if("p25519"!==t)throw new Error("Unknown prime "+t);r=new Y}return F[t]=r,r},G.prototype._verify1=function(t){w(0===t.negative,"red works only with positives"),w(t.red,"red works only with red numbers")},G.prototype._verify2=function(t,r){w(0==(t.negative|r.negative),"red works only with positives"),w(t.red&&t.red===r.red,"red works only with red numbers")},G.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},G.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},G.prototype.add=function(t,r){this._verify2(t,r);var o=t.add(r);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},G.prototype.iadd=function(t,r){this._verify2(t,r);var o=t.iadd(r);return o.cmp(this.m)>=0&&o.isub(this.m),o},G.prototype.sub=function(t,r){this._verify2(t,r);var o=t.sub(r);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},G.prototype.isub=function(t,r){this._verify2(t,r);var o=t.isub(r);return o.cmpn(0)<0&&o.iadd(this.m),o},G.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},G.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},G.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},G.prototype.isqr=function(t){return this.imul(t,t.clone())},G.prototype.sqr=function(t){return this.mul(t,t)},G.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(w(r%2==1),3===r){var o=this.m.add(new i(1)).iushrn(2);return this.pow(t,o)}for(var a=this.m.subn(1),g=0;!a.isZero()&&0===a.andln(1);)g++,a.iushrn(1);w(!a.isZero());var A=new i(1).toRed(this),B=A.redNeg(),d=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);0!==this.pow(e,d).cmp(B);)e.redIAdd(B);for(var n=this.pow(e,a),I=this.pow(t,a.addn(1).iushrn(1)),W=this.pow(t,a),X=g;0!==W.cmp(A);){for(var Q=W,rt=0;0!==Q.cmp(A);rt++)Q=Q.redSqr();w(rt<X);var ft=this.pow(n,new i(1).iushln(X-rt-1));I=I.redMul(ft),n=ft.redSqr(),W=W.redMul(n),X=rt}return I},G.prototype.invm=function(t){var r=t._invmp(this.m);return 0!==r.negative?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},G.prototype.pow=function(t,r){if(r.isZero())return new i(1);if(0===r.cmpn(1))return t.clone();var a=new Array(16);a[0]=new i(1).toRed(this),a[1]=t;for(var g=2;g<a.length;g++)a[g]=this.mul(a[g-1],t);var A=a[0],B=0,d=0,e=r.bitLength()%26;for(0===e&&(e=26),g=r.length-1;g>=0;g--){for(var n=r.words[g],I=e-1;I>=0;I--){var W=n>>I&1;A!==a[0]&&(A=this.sqr(A)),0!==W||0!==B?(B<<=1,B|=W,(4==++d||0===g&&0===I)&&(A=this.mul(A,a[B]),d=0,B=0)):d=0}e=26}return A},G.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},G.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new st(t)},M(st,G),st.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},st.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},st.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var o=t.imul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=o.isub(a).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},st.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var o=t.mul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=o.isub(a).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},st.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}($=m.nmd($),this)},76967:($,S,m)=>{var y=m(91354),T=m(77021);$.exports=function(M){if("string"==typeof M||"number"==typeof M){var i=new y(1),c=String(M).toLowerCase().trim(),s="0x"===c.substr(0,2)||"-0x"===c.substr(0,3),f=T(c);if("-"===f.substr(0,1)&&(f=T(f.slice(1)),i=new y(-1,10)),!(f=""===f?"0":f).match(/^-?[0-9]+$/)&&f.match(/^[0-9A-Fa-f]+$/)||f.match(/^[a-fA-F]+$/)||!0===s&&f.match(/^[0-9A-Fa-f]+$/))return new y(f,16).mul(i);if((f.match(/^-?[0-9]+$/)||""===f)&&!1===s)return new y(f,10).mul(i)}else if("object"==typeof M&&M.toString&&!M.pop&&!M.push&&M.toString(10).match(/^-?[0-9]+$/)&&(M.mul||M.dividedToIntegerBy))return new y(M.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(M)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}},26744:function($){typeof self<"u"&&self,$.exports=function(S){var m={};function y(T){if(m[T])return m[T].exports;var w=m[T]={i:T,l:!1,exports:{}};return S[T].call(w.exports,w,w.exports,y),w.l=!0,w.exports}return y.m=S,y.c=m,y.d=function(T,w,M){y.o(T,w)||Object.defineProperty(T,w,{configurable:!1,enumerable:!0,get:M})},y.n=function(T){var w=T&&T.__esModule?function(){return T.default}:function(){return T};return y.d(w,"a",w),w},y.o=function(T,w){return Object.prototype.hasOwnProperty.call(T,w)},y.p="",y(y.s=7)}([function(S,m,y){"use strict";y.d(m,"j",function(){return w}),y.d(m,"d",function(){return i}),y.d(m,"c",function(){return c}),y.d(m,"h",function(){return s}),y.d(m,"b",function(){return f}),y.d(m,"k",function(){return u}),y.d(m,"e",function(){return p}),y.d(m,"g",function(){return l}),y.d(m,"i",function(){return b}),y.d(m,"a",function(){return x}),y.d(m,"f",function(){return O});var T=y(1),w=u(function(R,D){var C=D.length;return u(function(F){for(var j=0;j<F.length;j++)D[C+j]=F[j];return D.length=C+F.length,R.apply(this,D)})});function i(R,D){return function(){return R.call(this,D.apply(this,arguments))}}function c(R){return function(D){return D[R]}}u(function(R){var D=Object(T.c)(R);function C(F,j){return[f(F,j)]}return u(function(F){return Object(T.f)(C,F,D)[0]})});var s=u(function(R){return u(function(D){for(var C,F=0;F<c("length")(R);F++)if(C=f(D,R[F]))return C})});function f(R,D){return D.apply(void 0,R)}function u(R){var D=R.length-1,C=Array.prototype.slice;if(0===D)return function(){return R.call(this,C.call(arguments))};if(1===D)return function(){return R.call(this,arguments[0],C.call(arguments,1))};var F=Array(R.length);return function(){for(var j=0;j<D;j++)F[j]=arguments[j];return F[D]=C.call(arguments,D),R.apply(this,F)}}function p(R){return function(D,C){return R(C,D)}}function l(R,D){return function(C){return R(C)&&D(C)}}function b(){}function x(){return!0}function O(R){return function(){return R}}},function(S,m,y){"use strict";y.d(m,"d",function(){return w}),y.d(m,"g",function(){return i}),y.d(m,"l",function(){return c}),y.d(m,"c",function(){return s}),y.d(m,"h",function(){return f}),y.d(m,"i",function(){return u}),y.d(m,"j",function(){return p}),y.d(m,"f",function(){return l}),y.d(m,"m",function(){return x}),y.d(m,"a",function(){return O}),y.d(m,"b",function(){return R}),y.d(m,"k",function(){return D}),y.d(m,"e",function(){return C});var T=y(0);function w(F,j){return[F,j]}var M=null,i=Object(T.c)(0),c=Object(T.c)(1);function s(F){return D(F.reduce(Object(T.e)(w),M))}var f=Object(T.k)(s);function u(F){return l(function(j,N){return j.unshift(N),j},[],F)}function p(F,j){return j?w(F(i(j)),p(F,c(j))):M}function l(F,j,N){return N?F(l(F,j,c(N)),i(N)):j}function x(F,j,N){return function z(P,Y){return P?j(i(P))?(Y(i(P)),c(P)):w(i(P),z(c(P),Y)):M}(F,N||T.i)}function O(F,j){return!j||F(i(j))&&O(F,c(j))}function R(F,j){F&&(i(F).apply(null,j),R(c(F),j))}function D(F){return function j(N,z){return N?j(c(N),w(i(N),z)):z}(F,M)}function C(F,j){return j&&(F(i(j))?i(j):C(F,c(j)))}},function(S,m,y){"use strict";y.d(m,"c",function(){return M}),y.d(m,"e",function(){return i}),y.d(m,"d",function(){return c}),y.d(m,"a",function(){return s}),y.d(m,"b",function(){return f});var T=y(1),w=y(0);function M(u,p){return p&&p.constructor===u}var i=Object(w.c)("length"),c=Object(w.j)(M,String);function s(u){return void 0!==u}function f(u,p){return p instanceof Object&&Object(T.a)(function(l){return l in p},u)}},function(S,m,y){"use strict";y.d(m,"f",function(){return w}),y.d(m,"d",function(){return M}),y.d(m,"g",function(){return i}),y.d(m,"e",function(){return c}),y.d(m,"b",function(){return s}),y.d(m,"h",function(){return f}),y.d(m,"i",function(){return u}),y.d(m,"c",function(){return p}),y.d(m,"m",function(){return l}),y.d(m,"n",function(){return b}),y.d(m,"a",function(){return x}),y.d(m,"j",function(){return O}),y.d(m,"l",function(){return R}),y.d(m,"k",function(){return D}),y.d(m,"o",function(){return C});var T=1,w=T++,M=T++,i=T++,c=T++,s="fail",f=T++,u=T++,p="start",l="data",b="end",x=T++,O=T++,R=T++,D=T++;function C(F,j,N){try{var z=JSON.parse(j)}catch{}return{statusCode:F,body:j,jsonBody:z,thrown:N}}},function(S,m,y){"use strict";y.d(m,"b",function(){return w}),y.d(m,"a",function(){return M}),y.d(m,"c",function(){return i});var T=y(0);function w(c,s){return{key:c,node:s}}var M=Object(T.c)("key"),i=Object(T.c)("node")},function(S,m,y){"use strict";y.d(m,"a",function(){return s});var T=y(1),w=y(0),M=y(2),i=y(8),c=y(9);function s(f){var u=Object(T.h)("resume","pause","pipe"),p=Object(w.j)(M.b,u);return f?p(f)||Object(M.d)(f)?Object(i.a)(c.a,f):Object(i.a)(c.a,f.url,f.method,f.body,f.headers,f.withCredentials,f.cached):Object(c.a)()}s.drop=function(){return s.drop}},function(S,m,y){"use strict";y.d(m,"b",function(){return s}),y.d(m,"a",function(){return c});var T=y(3),w=y(4),M=y(2),i=y(1),c={};function s(f){var u=f(T.f).emit,p=f(T.d).emit,l=f(T.i).emit,b=f(T.h).emit;function R(j,N,z){Object(w.c)(Object(i.g)(j))[N]=z}function D(j,N,z){j&&R(j,N,z);var P=Object(i.d)(Object(w.b)(N,z),j);return u(P),P}var F={};return F[T.l]=function O(j,N){if(!j)return l(N),D(j,c,N);var z=function x(j,N){var z=Object(w.c)(Object(i.g)(j));return Object(M.c)(Array,z)?D(j,Object(M.e)(z),N):j}(j,N),P=Object(i.l)(z),Y=Object(w.a)(Object(i.g)(z));return R(P,Y,N),Object(i.d)(Object(w.b)(Y,N),P)},F[T.k]=function C(j){return p(j),Object(i.l)(j)||b(Object(w.c)(Object(i.g)(j)))},F[T.j]=D,F}},function(S,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var T=y(5);m.default=T.a},function(S,m,y){"use strict";y.d(m,"a",function(){return w});var T=y(2);function w(M,i,c,s,f,u,p){return f=f?JSON.parse(JSON.stringify(f)):{},s?(Object(T.d)(s)||(s=JSON.stringify(s),f["Content-Type"]=f["Content-Type"]||"application/json"),f["Content-Length"]=f["Content-Length"]||s.length):s=null,M(c||"GET",function l(b,x){return!1===x&&(-1===b.indexOf("?")?b+="?":b+="&",b+="_="+(new Date).getTime()),b}(i,p),s,f,u||!1)}},function(S,m,y){"use strict";y.d(m,"a",function(){return p});var T=y(10),w=y(12),M=y(6),i=y(13),c=y(14),s=y(16),f=y(17),u=y(18);function p(l,b,x,O,R){var D=Object(T.a)();return b&&Object(u.b)(D,Object(u.a)(),l,b,x,O,R),Object(f.a)(D),Object(w.a)(D,Object(M.b)(D)),Object(i.a)(D,c.a),Object(s.a)(D,b)}},function(S,m,y){"use strict";y.d(m,"a",function(){return M});var T=y(11),w=y(0);function M(){var i={},c=f("newListener"),s=f("removeListener");function f(p){return i[p]=Object(T.a)(p,c,s),i[p]}function u(p){return i[p]||f(p)}return["emit","on","un"].forEach(function(p){u[p]=Object(w.k)(function(l,b){Object(w.b)(b,u(l)[p])})}),u}},function(S,m,y){"use strict";y.d(m,"a",function(){return i});var T=y(1),w=y(2),M=y(0);function i(c,s,f){var u,p;function l(b){return function(x){return x.id===b}}return{on:function(b,x){var O={listener:b,id:x||b};return s&&s.emit(c,b,O.id),u=Object(T.d)(O,u),p=Object(T.d)(b,p),this},emit:function(){Object(T.b)(p,arguments)},un:function(b){var x;u=Object(T.m)(u,l(b),function(O){x=O}),x&&(p=Object(T.m)(p,function(O){return O===x.listener}),f&&f.emit(c,x.listener,x.id))},listeners:function(){return p},hasListener:function(b){var x=b?l(b):M.a;return Object(w.a)(Object(T.e)(x,u))}}}},function(S,m,y){"use strict";y.d(m,"a",function(){return i});var T=y(4),w=y(3),M=y(1);function i(c,s){var u,f={};function p(b){return function(x){u=b(u,x)}}for(var l in s)c(l).on(p(s[l]),f);c(w.g).on(function(b){var x=Object(M.g)(u),O=Object(T.a)(x),R=Object(M.l)(u);R&&(Object(T.c)(Object(M.g)(R))[O]=b)}),c(w.e).on(function(){var b=Object(M.g)(u),x=Object(T.a)(b),O=Object(M.l)(u);O&&delete Object(T.c)(Object(M.g)(O))[x]}),c(w.a).on(function(){for(var b in s)c(b).un(f)})}},function(S,m,y){"use strict";y.d(m,"a",function(){return i});var T=y(3),w=y(1),M=y(4);function i(c,s){var f={node:c(T.d),path:c(T.f)};function p(l,b,x){var O=c(l).emit;b.on(function(R){var D=x(R);!1!==D&&function u(l,b,x){var O=Object(w.k)(x);l(b,Object(w.i)(Object(w.l)(Object(w.j)(M.a,O))),Object(w.i)(Object(w.j)(M.c,O)))}(O,Object(M.c)(D),R)},l),c("removeListener").on(function(R){R===l&&(c(R).listeners()||b.un(l))})}c("newListener").on(function(l){var b=/(node|path):(.*)/.exec(l);if(b){var x=f[b[1]];x.hasListener(l)||p(l,x,s(b[2]))}})}},function(S,m,y){"use strict";y.d(m,"a",function(){return f});var T=y(0),w=y(1),M=y(4),i=y(2),c=y(6),s=y(15),f=Object(s.a)(function(u,p,l,b,x){var C=Object(T.d)(M.a,w.g),F=Object(T.d)(M.c,w.g);function z(A,B){return B[1]?Object(T.g)(A,w.g):A}function P(A){if(A===T.a)return T.a;return Object(T.g)(function B(d){return C(d)!==c.a},Object(T.d)(A,w.l))}function G(){return function(A){return C(A)===c.a}}function t(A,B,d,e,n){var I=A(d);if(I){var W=function h(A,B,d){return Object(w.f)(function(e,n){return n(e,d)},B,A)}(B,e,I);return n(d.substr(Object(i.e)(I[0])),W)}}function r(A,B){return Object(T.j)(t,A,B)}var o=Object(T.h)(r(u,Object(w.h)(z,function N(A,B){var d=B[3];if(!d)return A;var e=Object(T.j)(i.b,Object(w.c)(d.split(/\W+/))),n=Object(T.d)(e,F);return Object(T.g)(n,A)},function j(A,B){var d=B[2],e=d&&"*"!==d?function(n){return String(C(n))===d}:T.a;return Object(T.g)(e,A)},P)),r(p,Object(w.h)(function Y(A){if(A===T.a)return T.a;var B=G(),d=A,e=P(function(I){return n(I)}),n=Object(T.h)(B,d,e);return n})),r(l,Object(w.h)()),r(b,Object(w.h)(z,G)),r(x,Object(w.h)(function st(A){return function(B){var d=A(B);return!0===d?Object(w.g)(B):d}})),function(A){throw Error('"'+A+'" could not be tokenised')});function a(A,B){return B}function g(A,B){return o(A,B,A?g:a)}return function(A){try{return g(A,T.a)}catch(B){throw Error('Could not compile "'+A+'" because '+B.message)}}})},function(S,m,y){"use strict";y.d(m,"a",function(){return w});var M,i,c,f,u,p,l,b,x,O,R,D,C,F,j,N,T=y(0),w=(M=function(P){return P.exec.bind(P)},i=Object(T.k)(function(z){return z.unshift(/^/),M(RegExp(z.map(Object(T.c)("source")).join("")))}),f=/()/,u=/\["([^"]+)"\]/,p=/\[(\d+|\*)\]/,l=/{([\w ]*?)}/,x=i(c=/(\$?)/,/([\w-_]+|\*)/,b=/(?:{([\w ]*?)})?/),O=i(c,u,b),R=i(c,p,b),D=i(c,f,l),C=i(/\.\./),F=i(/\./),j=i(c,/!/),N=i(/$/),function(z){return z(Object(T.h)(x,O,R,D),C,F,j,N)})},function(S,m,y){"use strict";y.d(m,"a",function(){return c});var T=y(3),w=y(0),M=y(2),i=y(5);function c(s,f){var u,p=/^(node|path):./,l=s(T.h),b=s(T.e).emit,x=s(T.g).emit,O=Object(w.k)(function(G,st){if(u[G])Object(w.b)(st,u[G]);else{var h=s(G),t=st[0];p.test(G)?C(h,N(t)):h.on(t)}return u});function C(G,st,h){h=h||st;var t=F(st);return G.on(function(){var r=!1;u.forget=function(){r=!0},Object(w.b)(arguments,t),delete u.forget,r&&G.un(h)},h),u}function F(G){return function(){try{return G.apply(u,arguments)}catch(st){setTimeout(function(){throw new Error(st.message)})}}}function N(G){return function(){var st=G.apply(this,arguments);Object(M.a)(st)&&(st===i.a.drop?b():x(st))}}function z(G,st,h){var t;t="node"===G?N(h):h,C(function j(G,st){return s(G+":"+st)}(G,st),t,h)}function Y(G,st,h){return Object(M.d)(st)?z(G,st,h):function P(G,st){for(var h in st)z(G,h,st[h])}(G,st),u}return s(T.i).on(function(G){u.root=Object(w.f)(G)}),s(T.c).on(function(G,st){u.header=function(h){return h?st[h]:st}}),u={on:O,addListener:O,removeListener:function(G,st,h){if("done"===G)l.un(st);else if("node"===G||"path"===G)s.un(G+":"+st,h);else{var t=st;s(G).un(t)}return u},emit:s.emit,node:Object(w.j)(Y,"node"),path:Object(w.j)(Y,"path"),done:Object(w.j)(C,l),start:Object(w.j)(function D(G,st){return s(G).on(F(st),st),u},T.c),fail:s(T.b).on,abort:s(T.a).emit,header:w.i,root:w.i,source:f}}},function(S,m,y){"use strict";y.d(m,"a",function(){return w});var T=y(3);function w(M){var d,e,n,I,i=M(T.j).emit,c=M(T.l).emit,s=M(T.k).emit,f=M(T.b).emit,u=65536,p=/[\\"\n]/g,l=0,b=l++,x=l++,O=l++,R=l++,D=l++,C=l++,F=l++,j=l++,N=l++,z=l++,P=l++,Y=l++,G=l++,st=l++,h=l++,t=l++,r=l++,o=l++,a=l++,g=l++,B=u,W="",X=!1,Q=!1,rt=b,ft=[],qt=null,ht=0,L=0,V=0,tt=0,nt=1;function ot(dt){void 0!==I&&(c(I),s(),I=void 0),d=Error(dt+"\nLn: "+nt+"\nCol: "+tt+"\nChr: "+e),f(Object(T.o)(void 0,void 0,d))}function ue(dt){return"\r"===dt||"\n"===dt||" "===dt||"\t"===dt}M(T.m).on(function Ot(dt){if(!d){if(Q)return ot("Cannot write after close");var re=0;for(e=dt[0];e&&(re>0&&(n=e),e=dt[re++]);)switch(V++,"\n"===e?(nt++,tt=0):tt++,rt){case b:if("{"===e)rt=O;else if("["===e)rt=D;else if(!ue(e))return ot("Non-whitespace before {[.");continue;case j:case O:if(ue(e))continue;if(rt===j)ft.push(N);else{if("}"===e){c({}),s(),rt=ft.pop()||x;continue}ft.push(R)}if('"'!==e)return ot('Malformed object key should start with " ');rt=F;continue;case N:case R:if(ue(e))continue;if(":"===e)rt===R?(ft.push(R),void 0!==I&&(c({}),i(I),I=void 0),L++):void 0!==I&&(i(I),I=void 0),rt=x;else if("}"===e)void 0!==I&&(c(I),s(),I=void 0),s(),L--,rt=ft.pop()||x;else{if(","!==e)return ot("Bad object");rt===R&&ft.push(R),void 0!==I&&(c(I),s(),I=void 0),rt=j}continue;case D:case x:if(ue(e))continue;if(rt===D){if(c([]),L++,rt=x,"]"===e){s(),L--,rt=ft.pop()||x;continue}ft.push(C)}if('"'===e)rt=F;else if("{"===e)rt=O;else if("["===e)rt=D;else if("t"===e)rt=z;else if("f"===e)rt=G;else if("n"===e)rt=r;else if("-"===e)W+=e;else if("0"===e)W+=e,rt=20;else{if(-1==="123456789".indexOf(e))return ot("Bad value");W+=e,rt=20}continue;case C:if(","===e)ft.push(C),void 0!==I&&(c(I),s(),I=void 0),rt=x;else{if("]"!==e){if(ue(e))continue;return ot("Bad array")}void 0!==I&&(c(I),s(),I=void 0),s(),L--,rt=ft.pop()||x}continue;case F:void 0===I&&(I="");var vt=re-1;t:for(;;){for(;ht>0;)if(qt+=e,e=dt.charAt(re++),4===ht?(I+=String.fromCharCode(parseInt(qt,16)),ht=0,vt=re-1):ht++,!e)break t;if('"'===e&&!X){rt=ft.pop()||x,I+=dt.substring(vt,re-1);break}if(!("\\"!==e||X||(X=!0,I+=dt.substring(vt,re-1),e=dt.charAt(re++))))break;if(X){if(X=!1,"n"===e?I+="\n":"r"===e?I+="\r":"t"===e?I+="\t":"f"===e?I+="\f":"b"===e?I+="\b":"u"===e?(ht=1,qt=""):I+=e,e=dt.charAt(re++),vt=re-1,e)continue;break}p.lastIndex=re;var bt=p.exec(dt);if(!bt){I+=dt.substring(vt,(re=dt.length+1)-1);break}if(re=bt.index+1,!(e=dt.charAt(bt.index))){I+=dt.substring(vt,re-1);break}}continue;case z:if(!e)continue;if("r"!==e)return ot("Invalid true started with t"+e);rt=P;continue;case P:if(!e)continue;if("u"!==e)return ot("Invalid true started with tr"+e);rt=Y;continue;case Y:if(!e)continue;if("e"!==e)return ot("Invalid true started with tru"+e);c(!0),s(),rt=ft.pop()||x;continue;case G:if(!e)continue;if("a"!==e)return ot("Invalid false started with f"+e);rt=st;continue;case st:if(!e)continue;if("l"!==e)return ot("Invalid false started with fa"+e);rt=h;continue;case h:if(!e)continue;if("s"!==e)return ot("Invalid false started with fal"+e);rt=t;continue;case t:if(!e)continue;if("e"!==e)return ot("Invalid false started with fals"+e);c(!1),s(),rt=ft.pop()||x;continue;case r:if(!e)continue;if("u"!==e)return ot("Invalid null started with n"+e);rt=o;continue;case o:if(!e)continue;if("l"!==e)return ot("Invalid null started with nu"+e);rt=a;continue;case a:if(!e)continue;if("l"!==e)return ot("Invalid null started with nul"+e);c(null),s(),rt=ft.pop()||x;continue;case g:if("."!==e)return ot("Leading zero not followed by .");W+=e,rt=20;continue;case 20:if(-1!=="0123456789".indexOf(e))W+=e;else if("."===e){if(-1!==W.indexOf("."))return ot("Invalid number has two dots");W+=e}else if("e"===e||"E"===e){if(-1!==W.indexOf("e")||-1!==W.indexOf("E"))return ot("Invalid number has two exponential");W+=e}else if("+"===e||"-"===e){if("e"!==n&&"E"!==n)return ot("Invalid symbol in number");W+=e}else W&&(c(parseFloat(W)),s(),W=""),re--,rt=ft.pop()||x;continue;default:return ot("Unknown state: "+rt)}V>=B&&function Yt(){var dt=0;void 0!==I&&I.length>u&&(ot("Max buffer length exceeded: textNode"),dt=Math.max(dt,I.length)),W.length>u&&(ot("Max buffer length exceeded: numberNode"),dt=Math.max(dt,W.length)),B=u-dt+V}()}}),M(T.n).on(function lt(){if(rt===b)return c({}),s(),void(Q=!0);(rt!==x||0!==L)&&ot("Unexpected end"),void 0!==I&&(c(I),s(),I=void 0),Q=!0})}},function(S,m,y){"use strict";y.d(m,"a",function(){return s}),y.d(m,"b",function(){return f});var T=y(19),w=y(3),M=y(2),i=y(20),c=y(0);function s(){return new XMLHttpRequest}function f(u,p,l,b,x,O,R){var D=u(w.m).emit,C=u(w.b).emit,F=0,j=!0;function N(){if("2"===String(p.status)[0]){var Y=p.responseText,G=(" "+Y.substr(F)).substr(1);G&&D(G),F=Object(M.e)(Y)}}function z(Y){try{j&&u(w.c).emit(Y.status,Object(i.a)(Y.getAllResponseHeaders())),j=!1}catch{}}u(w.a).on(function(){p.onreadystatechange=null,p.abort()}),"onprogress"in p&&(p.onprogress=N),p.onreadystatechange=function(){switch(p.readyState){case 2:case 3:return z(p);case 4:z(p),"2"===String(p.status)[0]?(N(),u(w.n).emit()):C(Object(w.o)(p.status,p.responseText))}};try{for(var P in p.open(l,b,!0),O)p.setRequestHeader(P,O[P]);Object(T.a)(window.location,Object(T.b)(b))||p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.withCredentials=R,p.send(x)}catch(Y){window.setTimeout(Object(c.j)(C,Object(w.o)(void 0,void 0,Y)),0)}}},function(S,m,y){"use strict";function T(M,i){function s(f){return String(f.port||function c(f){return{"http:":80,"https:":443}[f]}(f.protocol||M.protocol))}return!!(i.protocol&&i.protocol!==M.protocol||i.host&&i.host!==M.host||i.host&&s(i)!==s(M))}function w(M){var c=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(M)||[];return{protocol:c[1]||"",host:c[2]||"",port:c[3]||""}}y.d(m,"a",function(){return T}),y.d(m,"b",function(){return w})},function(S,m,y){"use strict";function T(w){var M={};return w&&w.split("\r\n").forEach(function(i){var c=i.indexOf(": ");M[i.substring(0,c)]=i.substring(c+2)}),M}y.d(m,"a",function(){return T})}]).default},23866:($,S,m)=>{var y=m(63111);function T(M){var i=function(){return i.called?i.value:(i.called=!0,i.value=M.apply(this,arguments))};return i.called=!1,i}function w(M){var i=function(){if(i.called)throw new Error(i.onceError);return i.called=!0,i.value=M.apply(this,arguments)};return i.onceError=(M.name||"Function wrapped with `once`")+" shouldn't be called more than once",i.called=!1,i}$.exports=y(T),$.exports.strict=y(w),T.proto=T(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return T(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w(this)},configurable:!0})})},61066:$=>{"use strict";$.exports=typeof process>"u"||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?{nextTick:function S(m,y,T,w){if("function"!=typeof m)throw new TypeError('"callback" argument must be a function');var i,c,M=arguments.length;switch(M){case 0:case 1:return process.nextTick(m);case 2:return process.nextTick(function(){m.call(null,y)});case 3:return process.nextTick(function(){m.call(null,y,T)});case 4:return process.nextTick(function(){m.call(null,y,T,w)});default:for(i=new Array(M-1),c=0;c<i.length;)i[c++]=arguments[c];return process.nextTick(function(){m.apply(null,i)})}}}:process},16010:($,S,m)=>{var y=m(23866),T=m(6875),w=m(25348),M=function(){},i=/^v?\.0/.test(process.version),c=function(x){return"function"==typeof x},u=function(x,O,R,D){D=y(D);var C=!1;x.on("close",function(){C=!0}),T(x,{readable:O,writable:R},function(j){if(j)return D(j);C=!0,D()});var F=!1;return function(j){if(!C&&!F){if(F=!0,function(x){return!(!i||!w)&&(x instanceof(w.ReadStream||M)||x instanceof(w.WriteStream||M))&&c(x.close)}(x))return x.close(M);if(function(x){return x.setHeader&&c(x.abort)}(x))return x.abort();if(c(x.destroy))return x.destroy();D(j||new Error("stream was destroyed"))}}},p=function(x){x()},l=function(x,O){return x.pipe(O)};$.exports=function(){var x=Array.prototype.slice.call(arguments),O=c(x[x.length-1]||M)&&x.pop()||M;if(Array.isArray(x[0])&&(x=x[0]),x.length<2)throw new Error("pump requires two streams per minimum");var R,D=x.map(function(C,F){var j=F<x.length-1;return u(C,j,F>0,function(z){R||(R=z),z&&D.forEach(p),!j&&(D.forEach(p),O(R))})});return x.reduce(l)}},38275:$=>{var S={}.toString;$.exports=Array.isArray||function(m){return"[object Array]"==S.call(m)}},47156:($,S,m)=>{"use strict";var y=m(61066),T=Object.keys||function(b){var x=[];for(var O in b)x.push(O);return x};$.exports=u;var w=Object.create(m(35967));w.inherits=m(61390);var M=m(51662),i=m(69802);w.inherits(u,M);for(var c=T(i.prototype),s=0;s<c.length;s++){var f=c[s];u.prototype[f]||(u.prototype[f]=i.prototype[f])}function u(b){if(!(this instanceof u))return new u(b);M.call(this,b),i.call(this,b),b&&!1===b.readable&&(this.readable=!1),b&&!1===b.writable&&(this.writable=!1),this.allowHalfOpen=!0,b&&!1===b.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||y.nextTick(l,this)}function l(b){b.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=b,this._writableState.destroyed=b)}}),u.prototype._destroy=function(b,x){this.push(null),this.end(),y.nextTick(x,b)}},50253:($,S,m)=>{"use strict";$.exports=w;var y=m(43615),T=Object.create(m(35967));function w(M){if(!(this instanceof w))return new w(M);y.call(this,M)}T.inherits=m(61390),T.inherits(w,y),w.prototype._transform=function(M,i,c){c(null,M)}},51662:($,S,m)=>{"use strict";var y=m(61066);$.exports=N;var w,T=m(38275);N.ReadableState=j,m(2272);var i=function(L,V){return L.listeners(V).length},c=m(45119),s=m(73217).Buffer,f=global.Uint8Array||function(){},l=Object.create(m(35967));l.inherits=m(61390);var b=m(51109),x=void 0;x=b&&b.debuglog?b.debuglog("stream"):function(){};var D,O=m(23838),R=m(62802);l.inherits(N,c);var C=["error","close","destroy","pause","resume"];function j(L,V){var tt=V instanceof(w=w||m(47156));this.objectMode=!!(L=L||{}).objectMode,tt&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var nt=L.highWaterMark,Yt=L.readableHighWaterMark;this.highWaterMark=nt||0===nt?nt:tt&&(Yt||0===Yt)?Yt:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new O,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(D||(D=m(77195).s),this.decoder=new D(L.encoding),this.encoding=L.encoding)}function N(L){if(w=w||m(47156),!(this instanceof N))return new N(L);this._readableState=new j(L,this),this.readable=!0,L&&("function"==typeof L.read&&(this._read=L.read),"function"==typeof L.destroy&&(this._destroy=L.destroy)),c.call(this)}function z(L,V,tt,nt,Yt){var lt,ot=L._readableState;return null===V?(ot.reading=!1,function r(L,V){if(!V.ended){if(V.decoder){var tt=V.decoder.end();tt&&tt.length&&(V.buffer.push(tt),V.length+=V.objectMode?1:tt.length)}V.ended=!0,o(L)}}(L,ot)):(Yt||(lt=function Y(L,V){var tt;return!function p(L){return s.isBuffer(L)||L instanceof f}(V)&&"string"!=typeof V&&void 0!==V&&!L.objectMode&&(tt=new TypeError("Invalid non-string/buffer chunk")),tt}(ot,V)),lt?L.emit("error",lt):ot.objectMode||V&&V.length>0?("string"!=typeof V&&!ot.objectMode&&Object.getPrototypeOf(V)!==s.prototype&&(V=function u(L){return s.from(L)}(V)),nt?ot.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):P(L,ot,V,!0):ot.ended?L.emit("error",new Error("stream.push() after EOF")):(ot.reading=!1,ot.decoder&&!tt?(V=ot.decoder.write(V),ot.objectMode||0!==V.length?P(L,ot,V,!1):g(L,ot)):P(L,ot,V,!1))):nt||(ot.reading=!1)),function G(L){return!L.ended&&(L.needReadable||L.length<L.highWaterMark||0===L.length)}(ot)}function P(L,V,tt,nt){V.flowing&&0===V.length&&!V.sync?(L.emit("data",tt),L.read(0)):(V.length+=V.objectMode?1:tt.length,nt?V.buffer.unshift(tt):V.buffer.push(tt),V.needReadable&&o(L)),g(L,V)}function t(L,V){return L<=0||0===V.length&&V.ended?0:V.objectMode?1:L!=L?V.flowing&&V.length?V.buffer.head.data.length:V.length:(L>V.highWaterMark&&(V.highWaterMark=function h(L){return L>=8388608?L=8388608:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}(L)),L<=V.length?L:V.ended?V.length:(V.needReadable=!0,0))}function o(L){var V=L._readableState;V.needReadable=!1,V.emittedReadable||(x("emitReadable",V.flowing),V.emittedReadable=!0,V.sync?y.nextTick(a,L):a(L))}function a(L){x("emit readable"),L.emit("readable"),I(L)}function g(L,V){V.readingMore||(V.readingMore=!0,y.nextTick(A,L,V))}function A(L,V){for(var tt=V.length;!V.reading&&!V.flowing&&!V.ended&&V.length<V.highWaterMark&&(x("maybeReadMore read 0"),L.read(0),tt!==V.length);)tt=V.length;V.readingMore=!1}function d(L){x("readable nexttick read 0"),L.read(0)}function n(L,V){V.reading||(x("resume read 0"),L.read(0)),V.resumeScheduled=!1,V.awaitDrain=0,L.emit("resume"),I(L),V.flowing&&!V.reading&&L.read(0)}function I(L){var V=L._readableState;for(x("flow",V.flowing);V.flowing&&null!==L.read(););}function W(L,V){return 0===V.length?null:(V.objectMode?tt=V.buffer.shift():!L||L>=V.length?(tt=V.decoder?V.buffer.join(""):1===V.buffer.length?V.buffer.head.data:V.buffer.concat(V.length),V.buffer.clear()):tt=function X(L,V,tt){var nt;return L<V.head.data.length?(nt=V.head.data.slice(0,L),V.head.data=V.head.data.slice(L)):nt=L===V.head.data.length?V.shift():tt?function Q(L,V){var tt=V.head,nt=1,Yt=tt.data;for(L-=Yt.length;tt=tt.next;){var ot=tt.data,lt=L>ot.length?ot.length:L;if(Yt+=lt===ot.length?ot:ot.slice(0,L),0==(L-=lt)){lt===ot.length?(++nt,V.head=tt.next?tt.next:V.tail=null):(V.head=tt,tt.data=ot.slice(lt));break}++nt}return V.length-=nt,Yt}(L,V):function rt(L,V){var tt=s.allocUnsafe(L),nt=V.head,Yt=1;for(nt.data.copy(tt),L-=nt.data.length;nt=nt.next;){var ot=nt.data,lt=L>ot.length?ot.length:L;if(ot.copy(tt,tt.length-L,0,lt),0==(L-=lt)){lt===ot.length?(++Yt,V.head=nt.next?nt.next:V.tail=null):(V.head=nt,nt.data=ot.slice(lt));break}++Yt}return V.length-=Yt,tt}(L,V),nt}(L,V.buffer,V.decoder),tt);var tt}function ft(L){var V=L._readableState;if(V.length>0)throw new Error('"endReadable()" called on non-empty stream');V.endEmitted||(V.ended=!0,y.nextTick(qt,V,L))}function qt(L,V){!L.endEmitted&&0===L.length&&(L.endEmitted=!0,V.readable=!1,V.emit("end"))}function ht(L,V){for(var tt=0,nt=L.length;tt<nt;tt++)if(L[tt]===V)return tt;return-1}Object.defineProperty(N.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(L){!this._readableState||(this._readableState.destroyed=L)}}),N.prototype.destroy=R.destroy,N.prototype._undestroy=R.undestroy,N.prototype._destroy=function(L,V){this.push(null),V(L)},N.prototype.push=function(L,V){var nt,tt=this._readableState;return tt.objectMode?nt=!0:"string"==typeof L&&((V=V||tt.defaultEncoding)!==tt.encoding&&(L=s.from(L,V),V=""),nt=!0),z(this,L,V,!1,nt)},N.prototype.unshift=function(L){return z(this,L,null,!0,!1)},N.prototype.isPaused=function(){return!1===this._readableState.flowing},N.prototype.setEncoding=function(L){return D||(D=m(77195).s),this._readableState.decoder=new D(L),this._readableState.encoding=L,this},N.prototype.read=function(L){x("read",L),L=parseInt(L,10);var V=this._readableState,tt=L;if(0!==L&&(V.emittedReadable=!1),0===L&&V.needReadable&&(V.length>=V.highWaterMark||V.ended))return x("read: emitReadable",V.length,V.ended),0===V.length&&V.ended?ft(this):o(this),null;if(0===(L=t(L,V))&&V.ended)return 0===V.length&&ft(this),null;var Yt,nt=V.needReadable;return x("need readable",nt),(0===V.length||V.length-L<V.highWaterMark)&&x("length less than watermark",nt=!0),V.ended||V.reading?x("reading or ended",nt=!1):nt&&(x("do read"),V.reading=!0,V.sync=!0,0===V.length&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1,V.reading||(L=t(tt,V))),null===(Yt=L>0?W(L,V):null)?(V.needReadable=!0,L=0):V.length-=L,0===V.length&&(V.ended||(V.needReadable=!0),tt!==L&&V.ended&&ft(this)),null!==Yt&&this.emit("data",Yt),Yt},N.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},N.prototype.pipe=function(L,V){var tt=this,nt=this._readableState;switch(nt.pipesCount){case 0:nt.pipes=L;break;case 1:nt.pipes=[nt.pipes,L];break;default:nt.pipes.push(L)}nt.pipesCount+=1,x("pipe count=%d opts=%j",nt.pipesCount,V);var ot=V&&!1===V.end||L===process.stdout||L===process.stderr?ge:ue;function ue(){x("onend"),L.end()}nt.endEmitted?y.nextTick(ot):tt.once("end",ot),L.on("unpipe",function lt(mt,wt){x("onunpipe"),mt===tt&&wt&&!1===wt.hasUnpiped&&(wt.hasUnpiped=!0,function re(){x("cleanup"),L.removeListener("close",At),L.removeListener("finish",Tt),L.removeListener("drain",Ot),L.removeListener("error",le),L.removeListener("unpipe",lt),tt.removeListener("end",ue),tt.removeListener("end",ge),tt.removeListener("data",bt),dt=!0,nt.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&Ot()}())});var Ot=function B(L){return function(){var V=L._readableState;x("pipeOnDrain",V.awaitDrain),V.awaitDrain&&V.awaitDrain--,0===V.awaitDrain&&i(L,"data")&&(V.flowing=!0,I(L))}}(tt);L.on("drain",Ot);var dt=!1,vt=!1;function bt(mt){x("ondata"),vt=!1,!1===L.write(mt)&&!vt&&((1===nt.pipesCount&&nt.pipes===L||nt.pipesCount>1&&-1!==ht(nt.pipes,L))&&!dt&&(x("false write response, pause",tt._readableState.awaitDrain),tt._readableState.awaitDrain++,vt=!0),tt.pause())}function le(mt){x("onerror",mt),ge(),L.removeListener("error",le),0===i(L,"error")&&L.emit("error",mt)}function At(){L.removeListener("finish",Tt),ge()}function Tt(){x("onfinish"),L.removeListener("close",At),ge()}function ge(){x("unpipe"),tt.unpipe(L)}return tt.on("data",bt),function F(L,V,tt){if("function"==typeof L.prependListener)return L.prependListener(V,tt);L._events&&L._events[V]?T(L._events[V])?L._events[V].unshift(tt):L._events[V]=[tt,L._events[V]]:L.on(V,tt)}(L,"error",le),L.once("close",At),L.once("finish",Tt),L.emit("pipe",tt),nt.flowing||(x("pipe resume"),tt.resume()),L},N.prototype.unpipe=function(L){var V=this._readableState,tt={hasUnpiped:!1};if(0===V.pipesCount)return this;if(1===V.pipesCount)return L&&L!==V.pipes||(L||(L=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,L&&L.emit("unpipe",this,tt)),this;if(!L){var nt=V.pipes,Yt=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var ot=0;ot<Yt;ot++)nt[ot].emit("unpipe",this,tt);return this}var lt=ht(V.pipes,L);return-1===lt||(V.pipes.splice(lt,1),V.pipesCount-=1,1===V.pipesCount&&(V.pipes=V.pipes[0]),L.emit("unpipe",this,tt)),this},N.prototype.addListener=N.prototype.on=function(L,V){var tt=c.prototype.on.call(this,L,V);if("data"===L)!1!==this._readableState.flowing&&this.resume();else if("readable"===L){var nt=this._readableState;!nt.endEmitted&&!nt.readableListening&&(nt.readableListening=nt.needReadable=!0,nt.emittedReadable=!1,nt.reading?nt.length&&o(this):y.nextTick(d,this))}return tt},N.prototype.resume=function(){var L=this._readableState;return L.flowing||(x("resume"),L.flowing=!0,function e(L,V){V.resumeScheduled||(V.resumeScheduled=!0,y.nextTick(n,L,V))}(this,L)),this},N.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this},N.prototype.wrap=function(L){var V=this,tt=this._readableState,nt=!1;for(var Yt in L.on("end",function(){if(x("wrapped end"),tt.decoder&&!tt.ended){var lt=tt.decoder.end();lt&&lt.length&&V.push(lt)}V.push(null)}),L.on("data",function(lt){x("wrapped data"),tt.decoder&&(lt=tt.decoder.write(lt)),tt.objectMode&&null==lt||!(tt.objectMode||lt&&lt.length)||V.push(lt)||(nt=!0,L.pause())}),L)void 0===this[Yt]&&"function"==typeof L[Yt]&&(this[Yt]=function(lt){return function(){return L[lt].apply(L,arguments)}}(Yt));for(var ot=0;ot<C.length;ot++)L.on(C[ot],this.emit.bind(this,C[ot]));return this._read=function(lt){x("wrapped _read",lt),nt&&(nt=!1,L.resume())},this},Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),N._fromList=W},43615:($,S,m)=>{"use strict";$.exports=M;var y=m(47156),T=Object.create(m(35967));function w(s,f){var u=this._transformState;u.transforming=!1;var p=u.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,null!=f&&this.push(f),p(s);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function M(s){if(!(this instanceof M))return new M(s);y.call(this,s),this._transformState={afterTransform:w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,s&&("function"==typeof s.transform&&(this._transform=s.transform),"function"==typeof s.flush&&(this._flush=s.flush)),this.on("prefinish",i)}function i(){var s=this;"function"==typeof this._flush?this._flush(function(f,u){c(s,f,u)}):c(this,null,null)}function c(s,f,u){if(f)return s.emit("error",f);if(null!=u&&s.push(u),s._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(s._transformState.transforming)throw new Error("Calling transform done when still transforming");return s.push(null)}T.inherits=m(61390),T.inherits(M,y),M.prototype.push=function(s,f){return this._transformState.needTransform=!1,y.prototype.push.call(this,s,f)},M.prototype._transform=function(s,f,u){throw new Error("_transform() is not implemented")},M.prototype._write=function(s,f,u){var p=this._transformState;if(p.writecb=u,p.writechunk=s,p.writeencoding=f,!p.transforming){var l=this._readableState;(p.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},M.prototype._read=function(s){var f=this._transformState;null!==f.writechunk&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},M.prototype._destroy=function(s,f){var u=this;y.prototype._destroy.call(this,s,function(p){f(p),u.emit("close")})}},69802:($,S,m)=>{"use strict";var y=m(61066);function w(e){var n=this;this.next=null,this.entry=null,this.finish=function(){!function d(e,n,I){var W=e.entry;for(e.entry=null;W;){var X=W.callback;n.pendingcb--,X(I),W=W.next}n.corkedRequestsFree?n.corkedRequestsFree.next=e:n.corkedRequestsFree=e}(n,e)}}$.exports=C;var i,M=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:y.nextTick;C.WritableState=R;var c=Object.create(m(35967));c.inherits=m(61390);var D,s={deprecate:m(12779)},f=m(45119),u=m(73217).Buffer,p=global.Uint8Array||function(){},x=m(62802);function O(){}function R(e,n){i=i||m(47156);var I=n instanceof i;this.objectMode=!!(e=e||{}).objectMode,I&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var W=e.highWaterMark,X=e.writableHighWaterMark;this.highWaterMark=W||0===W?W:I&&(X||0===X)?X:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ft){!function st(e,n){var I=e._writableState,W=I.sync,X=I.writecb;if(function G(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(I),n)!function Y(e,n,I,W,X){--n.pendingcb,I?(y.nextTick(X,W),y.nextTick(A,e,n),e._writableState.errorEmitted=!0,e.emit("error",W)):(X(W),e._writableState.errorEmitted=!0,e.emit("error",W),A(e,n))}(e,I,W,n,X);else{var Q=o(I);!Q&&!I.corked&&!I.bufferProcessing&&I.bufferedRequest&&r(e,I),W?M(h,e,I,Q,X):h(e,I,Q,X)}}(n,ft)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function C(e){if(i=i||m(47156),!(D.call(C,this)||this instanceof i))return new C(e);this._writableState=new R(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function P(e,n,I,W,X,Q,rt){n.writelen=W,n.writecb=rt,n.writing=!0,n.sync=!0,I?e._writev(X,n.onwrite):e._write(X,Q,n.onwrite),n.sync=!1}function h(e,n,I,W){I||function t(e,n){0===n.length&&n.needDrain&&(n.needDrain=!1,e.emit("drain"))}(e,n),n.pendingcb--,W(),A(e,n)}function r(e,n){n.bufferProcessing=!0;var I=n.bufferedRequest;if(e._writev&&I&&I.next){var X=new Array(n.bufferedRequestCount),Q=n.corkedRequestsFree;Q.entry=I;for(var rt=0,ft=!0;I;)X[rt]=I,I.isBuf||(ft=!1),I=I.next,rt+=1;X.allBuffers=ft,P(e,n,!0,n.length,X,"",Q.finish),n.pendingcb++,n.lastBufferedRequest=null,Q.next?(n.corkedRequestsFree=Q.next,Q.next=null):n.corkedRequestsFree=new w(n),n.bufferedRequestCount=0}else{for(;I;){var qt=I.chunk;if(P(e,n,!1,n.objectMode?1:qt.length,qt,I.encoding,I.callback),I=I.next,n.bufferedRequestCount--,n.writing)break}null===I&&(n.lastBufferedRequest=null)}n.bufferedRequest=I,n.bufferProcessing=!1}function o(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function a(e,n){e._final(function(I){n.pendingcb--,I&&e.emit("error",I),n.prefinished=!0,e.emit("prefinish"),A(e,n)})}function A(e,n){var I=o(n);return I&&(function g(e,n){!n.prefinished&&!n.finalCalled&&("function"==typeof e._final?(n.pendingcb++,n.finalCalled=!0,y.nextTick(a,e,n)):(n.prefinished=!0,e.emit("prefinish")))}(e,n),0===n.pendingcb&&(n.finished=!0,e.emit("finish"))),I}c.inherits(C,f),R.prototype.getBuffer=function(){for(var n=this.bufferedRequest,I=[];n;)I.push(n),n=n.next;return I},function(){try{Object.defineProperty(R.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!D.call(this,e)||this===C&&e&&e._writableState instanceof R}})):D=function(e){return e instanceof this},C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},C.prototype.write=function(e,n,I){var W=this._writableState,X=!1,Q=!W.objectMode&&function b(e){return u.isBuffer(e)||e instanceof p}(e);return Q&&!u.isBuffer(e)&&(e=function l(e){return u.from(e)}(e)),"function"==typeof n&&(I=n,n=null),Q?n="buffer":n||(n=W.defaultEncoding),"function"!=typeof I&&(I=O),W.ended?function F(e,n){var I=new Error("write after end");e.emit("error",I),y.nextTick(n,I)}(this,I):(Q||function j(e,n,I,W){var X=!0,Q=!1;return null===I?Q=new TypeError("May not write null values to stream"):"string"!=typeof I&&void 0!==I&&!n.objectMode&&(Q=new TypeError("Invalid non-string/buffer chunk")),Q&&(e.emit("error",Q),y.nextTick(W,Q),X=!1),X}(this,W,e,I))&&(W.pendingcb++,X=function z(e,n,I,W,X,Q){if(!I){var rt=function N(e,n,I){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof n&&(n=u.from(n,I)),n}(n,W,X);W!==rt&&(I=!0,X="buffer",W=rt)}var ft=n.objectMode?1:W.length;n.length+=ft;var qt=n.length<n.highWaterMark;if(qt||(n.needDrain=!0),n.writing||n.corked){var ht=n.lastBufferedRequest;n.lastBufferedRequest={chunk:W,encoding:X,isBuf:I,callback:Q,next:null},ht?ht.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else P(e,n,!1,ft,W,X,Q);return qt}(this,W,Q,e,n,I)),X},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&r(this,e))},C.prototype.setDefaultEncoding=function(n){if("string"==typeof n&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this},Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,n,I){I(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(e,n,I){var W=this._writableState;"function"==typeof e?(I=e,e=null,n=null):"function"==typeof n&&(I=n,n=null),null!=e&&this.write(e,n),W.corked&&(W.corked=1,this.uncork()),!W.ending&&!W.finished&&function B(e,n,I){n.ending=!0,A(e,n),I&&(n.finished?y.nextTick(I):e.once("finish",I)),n.ended=!0,e.writable=!1}(this,W,I)},Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}}),C.prototype.destroy=x.destroy,C.prototype._undestroy=x.undestroy,C.prototype._destroy=function(e,n){this.end(),n(e)}},23838:($,S,m)=>{"use strict";var T=m(73217).Buffer,w=m(74923);function M(i,c,s){i.copy(c,s)}$.exports=function(){function i(){(function y(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.head=null,this.tail=null,this.length=0}return i.prototype.push=function(s){var f={data:s,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length},i.prototype.unshift=function(s){var f={data:s,next:this.head};0===this.length&&(this.tail=f),this.head=f,++this.length},i.prototype.shift=function(){if(0!==this.length){var s=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,s}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(s){if(0===this.length)return"";for(var f=this.head,u=""+f.data;f=f.next;)u+=s+f.data;return u},i.prototype.concat=function(s){if(0===this.length)return T.alloc(0);if(1===this.length)return this.head.data;for(var f=T.allocUnsafe(s>>>0),u=this.head,p=0;u;)M(u.data,f,p),p+=u.data.length,u=u.next;return f},i}(),w&&w.inspect&&w.inspect.custom&&($.exports.prototype[w.inspect.custom]=function(){var i=w.inspect({length:this.length});return this.constructor.name+" "+i})},62802:($,S,m)=>{"use strict";var y=m(61066);function M(i,c){i.emit("error",c)}$.exports={destroy:function T(i,c){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(c?c(i):i&&(!this._writableState||!this._writableState.errorEmitted)&&y.nextTick(M,this,i),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(p){!c&&p?(y.nextTick(M,s,p),s._writableState&&(s._writableState.errorEmitted=!0)):c&&c(p)}),this)},undestroy:function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},45119:($,S,m)=>{$.exports=m(2272).EventEmitter},31429:($,S,m)=>{(S=$.exports=m(51662)).Stream=S,S.Readable=S,S.Writable=m(69802),S.Duplex=m(47156),S.Transform=m(43615),S.PassThrough=m(50253)},73217:($,S,m)=>{var y=m(44381),T=y.Buffer;function w(i,c){for(var s in i)c[s]=i[s]}function M(i,c,s){return T(i,c,s)}T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?$.exports=y:(w(y,S),S.Buffer=M),w(T,M),M.from=function(i,c,s){if("number"==typeof i)throw new TypeError("Argument must not be a number");return T(i,c,s)},M.alloc=function(i,c,s){if("number"!=typeof i)throw new TypeError("Argument must be a number");var f=T(i);return void 0!==c?"string"==typeof s?f.fill(c,s):f.fill(c):f.fill(0),f},M.allocUnsafe=function(i){if("number"!=typeof i)throw new TypeError("Argument must be a number");return T(i)},M.allocUnsafeSlow=function(i){if("number"!=typeof i)throw new TypeError("Argument must be a number");return y.SlowBuffer(i)}},24065:($,S,m)=>{var y=m(31429).Transform,T=m(44407).inherits,w=m(26939);function M(s){y.call(this,s),this._destroyed=!1}function i(s,f,u){u(null,s)}function c(s){return function(f,u,p){return"function"==typeof f&&(p=u,u=f,f={}),"function"!=typeof u&&(u=i),"function"!=typeof p&&(p=null),s(f,u,p)}}T(M,y),M.prototype.destroy=function(s){if(!this._destroyed){this._destroyed=!0;var f=this;process.nextTick(function(){s&&f.emit("error",s),f.emit("close")})}},$.exports=c(function(s,f,u){var p=new M(s);return p._transform=f,u&&(p._flush=u),p}),$.exports.ctor=c(function(s,f,u){function p(l){if(!(this instanceof p))return new p(l);this.options=w(s,l),M.call(this,this.options)}return T(p,M),p.prototype._transform=f,u&&(p.prototype._flush=u),p}),$.exports.obj=c(function(s,f,u){var p=new M(w({objectMode:!0,highWaterMark:16},s));return p._transform=f,u&&(p._flush=u),p})},78210:($,S)=>{!function(m){var p,l,b,y=String.fromCharCode;function T(O){for(var F,j,R=[],D=0,C=O.length;D<C;)(F=O.charCodeAt(D++))>=55296&&F<=56319&&D<C?56320==(64512&(j=O.charCodeAt(D++)))?R.push(((1023&F)<<10)+(1023&j)+65536):(R.push(F),D--):R.push(F);return R}function M(O){if(O>=55296&&O<=57343)throw Error("Lone surrogate U+"+O.toString(16).toUpperCase()+" is not a scalar value")}function i(O,R){return y(O>>R&63|128)}function c(O){if(0==(4294967168&O))return y(O);var R="";return 0==(4294965248&O)?R=y(O>>6&31|192):0==(4294901760&O)?(M(O),R=y(O>>12&15|224),R+=i(O,6)):0==(4292870144&O)&&(R=y(O>>18&7|240),R+=i(O,12),R+=i(O,6)),R+y(63&O|128)}function f(){if(b>=l)throw Error("Invalid byte index");var O=255&p[b];if(b++,128==(192&O))return 63&O;throw Error("Invalid continuation byte")}function u(){var O,F;if(b>l)throw Error("Invalid byte index");if(b==l)return!1;if(O=255&p[b],b++,0==(128&O))return O;if(192==(224&O)){if((F=(31&O)<<6|f())>=128)return F;throw Error("Invalid continuation byte")}if(224==(240&O)){if((F=(15&O)<<12|f()<<6|f())>=2048)return M(F),F;throw Error("Invalid continuation byte")}if(240==(248&O)&&(F=(7&O)<<18|f()<<12|f()<<6|f())>=65536&&F<=1114111)return F;throw Error("Invalid UTF-8 detected")}m.version="3.0.0",m.encode=function s(O){for(var R=T(O),D=R.length,C=-1,j="";++C<D;)j+=c(R[C]);return j},m.decode=function x(O){p=T(O),l=p.length,b=0;for(var D,R=[];!1!==(D=u());)R.push(D);return function w(O){for(var C,R=O.length,D=-1,F="";++D<R;)(C=O[D])>65535&&(F+=y((C-=65536)>>>10&1023|55296),C=56320|1023&C),F+=y(C);return F}(R)}}(S)},52584:$=>{"use strict";$.exports={ErrorResponse:function(S){var m=S&&S.error&&S.error.message?S.error.message:JSON.stringify(S),y=S.error&&S.error.data?S.error.data:null,T=new Error("Returned error: "+m);return T.data=y,T},InvalidNumberOfParams:function(S,m,y){return new Error('Invalid number of parameters for "'+y+'". Got '+S+" expected "+m+"!")},InvalidConnection:function(S,m){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+S+".",m)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(S){var m=S&&S.error&&S.error.message?S.error.message:"Invalid JSON RPC response: "+JSON.stringify(S);return new Error(m)},ConnectionTimeout:function(S){return new Error("CONNECTION TIMEOUT: timeout of "+S+" ms achived")},ConnectionNotOpenError:function(S){return this.ConnectionError("connection not open on send()",S)},ConnectionCloseError:function(S){return"object"==typeof S&&S.code&&S.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+S.code+"` and the following reason string `"+S.reason+"`",S):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(S,m){const y=new Error(S);return m&&(y.code=m.code,y.reason=m.reason),y},RevertInstructionError:function(S,m){var y=new Error("Your request got reverted with the following reason string: "+S);return y.reason=S,y.signature=m,y},TransactionRevertInstructionError:function(S,m,y){var T=new Error("Transaction has been reverted by the EVM:\n"+JSON.stringify(y,null,2));return T.reason=S,T.signature=m,T.receipt=y,T},TransactionError:function(S,m){var y=new Error(S);return y.receipt=m,y},NoContractAddressFoundError:function(S){return this.TransactionError("The transaction receipt didn't contain a contract address.",S)},ContractCodeNotStoredError:function(S){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",S)},TransactionRevertedWithoutReasonError:function(S){return this.TransactionError("Transaction has been reverted by the EVM:\n"+JSON.stringify(S,null,2),S)},TransactionOutOfGasError:function(S){return this.TransactionError("Transaction ran out of gas. Please provide more gas:\n"+JSON.stringify(S,null,2),S)},ResolverMethodMissingError:function(S,m){return new Error("The resolver at "+S+'does not implement requested method: "'+m+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(S){return new Error('Event "'+S+"\" doesn't exist in this contract.")},ContractReservedEventError:function(S){return new Error('The event "'+S+"\" is a reserved event name, you can't use it.")},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}}},5831:($,S,m)=>{"use strict";var y=m(66638),T=m(96844),i=function(P){return y.toBN(P).toString(10)},f=function(P){if(void 0!==P)return function(P){return"latest"===P||"pending"===P||"earliest"===P}(P)?P:"genesis"===P?"0x0":y.isHexStrict(P)?"string"==typeof P?P.toLowerCase():P:y.numberToHex(P)},u=function(P){if(P.to&&(P.to=N(P.to)),P.data&&P.input)throw new Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!P.data&&P.input&&(P.data=P.input,delete P.input),P.data&&!P.data.startsWith("0x")&&(P.data="0x"+P.data),P.data&&!y.isHex(P.data))throw new Error("The data field must be HEX encoded data.");return(P.gas||P.gasLimit)&&(P.gas=P.gas||P.gasLimit),(P.maxPriorityFeePerGas||P.maxFeePerGas)&&delete P.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(Y){return void 0!==P[Y]}).forEach(function(Y){P[Y]=y.numberToHex(P[Y])}),P},x=function(P){return null!==P.blockNumber&&(P.blockNumber=y.hexToNumber(P.blockNumber)),null!==P.transactionIndex&&(P.transactionIndex=y.hexToNumber(P.transactionIndex)),P.nonce=y.hexToNumber(P.nonce),P.gas=y.hexToNumber(P.gas),P.gasPrice&&(P.gasPrice=i(P.gasPrice)),P.maxFeePerGas&&(P.maxFeePerGas=i(P.maxFeePerGas)),P.maxPriorityFeePerGas&&(P.maxPriorityFeePerGas=i(P.maxPriorityFeePerGas)),P.type&&(P.type=y.hexToNumber(P.type)),P.value=i(P.value),P.to=P.to&&y.isAddress(P.to)?y.toChecksumAddress(P.to):null,P.from&&(P.from=y.toChecksumAddress(P.from)),P},C=function(P){if("string"==typeof P.blockHash&&"string"==typeof P.transactionHash&&"string"==typeof P.logIndex){var Y=y.sha3(P.blockHash.replace("0x","")+P.transactionHash.replace("0x","")+P.logIndex.replace("0x",""));P.id="log_"+Y.replace("0x","").slice(0,8)}else P.id||(P.id=null);return null!==P.blockNumber&&(P.blockNumber=y.hexToNumber(P.blockNumber)),null!==P.transactionIndex&&(P.transactionIndex=y.hexToNumber(P.transactionIndex)),null!==P.logIndex&&(P.logIndex=y.hexToNumber(P.logIndex)),P.address&&(P.address=y.toChecksumAddress(P.address)),P},N=function(P){var Y=new T(P);if(Y.isValid()&&Y.isDirect())return Y.toAddress().toLowerCase();if(y.isAddress(P))return"0x"+P.toLowerCase().replace("0x","");throw new Error(`Provided address ${P} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)};$.exports={inputDefaultBlockNumberFormatter:function(P){return f(this&&null==P?this.defaultBlock:P)},inputBlockNumberFormatter:f,inputCallFormatter:function(P){var Y=(P=u(P)).from||(this?this.defaultAccount:null);return Y&&(P.from=N(Y)),P},inputTransactionFormatter:function(P){if("number"!=typeof(P=u(P)).from&&(!P.from||"object"!=typeof P.from)){if(P.from=P.from||(this?this.defaultAccount:null),!P.from&&"number"!=typeof P.from)throw new Error('The send transactions "from" field must be defined!');P.from=N(P.from)}return P},inputAddressFormatter:N,inputPostFormatter:function(P){return P.ttl&&(P.ttl=y.numberToHex(P.ttl)),P.workToProve&&(P.workToProve=y.numberToHex(P.workToProve)),P.priority&&(P.priority=y.numberToHex(P.priority)),Array.isArray(P.topics)||(P.topics=P.topics?[P.topics]:[]),P.topics=P.topics.map(function(Y){return 0===Y.indexOf("0x")?Y:y.fromUtf8(Y)}),P},inputLogFormatter:function(P){var Y=function(G){return null===G||typeof G>"u"?null:0===(G=String(G)).indexOf("0x")?G:y.fromUtf8(G)};return void 0===P&&(P={}),void 0===P.fromBlock&&(P={...P,fromBlock:"latest"}),(P.fromBlock||0===P.fromBlock)&&(P.fromBlock=f(P.fromBlock)),(P.toBlock||0===P.toBlock)&&(P.toBlock=f(P.toBlock)),P.topics=P.topics||[],P.topics=P.topics.map(function(G){return Array.isArray(G)?G.map(Y):Y(G)}),Y=null,P.address&&(P.address=Array.isArray(P.address)?P.address.map(function(G){return N(G)}):N(P.address)),P},inputSignFormatter:function(P){return y.isHexStrict(P)?P:y.utf8ToHex(P)},inputStorageKeysFormatter:function(P){return P.map(y.numberToHex)},outputProofFormatter:function(P){return P.address=y.toChecksumAddress(P.address),P.nonce=y.hexToNumberString(P.nonce),P.balance=y.hexToNumberString(P.balance),P},outputBigNumberFormatter:i,outputTransactionFormatter:x,outputTransactionReceiptFormatter:function(P){if("object"!=typeof P)throw new Error("Received receipt is invalid: "+P);return null!==P.blockNumber&&(P.blockNumber=y.hexToNumber(P.blockNumber)),null!==P.transactionIndex&&(P.transactionIndex=y.hexToNumber(P.transactionIndex)),P.cumulativeGasUsed=y.hexToNumber(P.cumulativeGasUsed),P.gasUsed=y.hexToNumber(P.gasUsed),Array.isArray(P.logs)&&(P.logs=P.logs.map(C)),P.effectiveGasPrice&&(P.effectiveGasPrice=y.hexToNumber(P.effectiveGasPrice)),P.contractAddress&&(P.contractAddress=y.toChecksumAddress(P.contractAddress)),typeof P.status<"u"&&null!==P.status&&(P.status=Boolean(parseInt(P.status))),P},outputBlockFormatter:function(P){return P.gasLimit=y.hexToNumber(P.gasLimit),P.gasUsed=y.hexToNumber(P.gasUsed),P.size=y.hexToNumber(P.size),P.timestamp=y.hexToNumber(P.timestamp),null!==P.number&&(P.number=y.hexToNumber(P.number)),P.difficulty&&(P.difficulty=i(P.difficulty)),P.totalDifficulty&&(P.totalDifficulty=i(P.totalDifficulty)),Array.isArray(P.transactions)&&P.transactions.forEach(function(Y){if("string"!=typeof Y)return x(Y)}),P.miner&&(P.miner=y.toChecksumAddress(P.miner)),P.baseFeePerGas&&(P.baseFeePerGas=y.hexToNumber(P.baseFeePerGas)),P},outputLogFormatter:C,outputPostFormatter:function(P){return P.expiry=y.hexToNumber(P.expiry),P.sent=y.hexToNumber(P.sent),P.ttl=y.hexToNumber(P.ttl),P.workProved=y.hexToNumber(P.workProved),P.topics||(P.topics=[]),P.topics=P.topics.map(function(Y){return y.toUtf8(Y)}),P},outputSyncingFormatter:function(P){return P.startingBlock=y.hexToNumber(P.startingBlock),P.currentBlock=y.hexToNumber(P.currentBlock),P.highestBlock=y.hexToNumber(P.highestBlock),P.knownStates&&(P.knownStates=y.hexToNumber(P.knownStates),P.pulledStates=y.hexToNumber(P.pulledStates)),P}}},97958:($,S,m)=>{"use strict";var y=m(52584),T=m(5831);$.exports={errors:y,formatters:T}},75698:($,S,m)=>{"use strict";var y=m(31325).default,T=m(97958).errors,w=m(97958).formatters,M=m(66638),i=m(3552),c=m(65854).subscriptions,s=m(38806),f=function(b){if(!b.call||!b.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=b.name,this.call=b.call,this.params=b.params||0,this.inputFormatter=b.inputFormatter,this.outputFormatter=b.outputFormatter,this.transformPayload=b.transformPayload,this.extraFormatters=b.extraFormatters,this.abiCoder=b.abiCoder,this.requestManager=b.requestManager,this.accounts=b.accounts,this.defaultBlock=b.defaultBlock||"latest",this.defaultAccount=b.defaultAccount||null,this.transactionBlockTimeout=b.transactionBlockTimeout||50,this.transactionConfirmationBlocks=b.transactionConfirmationBlocks||24,this.transactionPollingTimeout=b.transactionPollingTimeout||750,this.transactionPollingInterval=b.transactionPollingInterval||1e3,this.blockHeaderTimeout=b.blockHeaderTimeout||10,this.defaultCommon=b.defaultCommon,this.defaultChain=b.defaultChain,this.defaultHardfork=b.defaultHardfork,this.handleRevert=b.handleRevert};f.prototype.setRequestManager=function(l,b){this.requestManager=l,b&&(this.accounts=b)},f.prototype.createFunction=function(l,b){var x=this.buildCall();return Object.defineProperty(x,"call",{configurable:!0,writable:!0,value:this.call}),this.setRequestManager(l||this.requestManager,b||this.accounts),x},f.prototype.attachToObject=function(l){var b=this.buildCall();Object.defineProperty(b,"call",{configurable:!0,writable:!0,value:this.call});var x=this.name.split(".");x.length>1?(l[x[0]]=l[x[0]]||{},l[x[0]][x[1]]=b):l[x[0]]=b},f.prototype.getCall=function(l){return"function"==typeof this.call?this.call(l):this.call},f.prototype.extractCallback=function(l){if("function"==typeof l[l.length-1])return l.pop()},f.prototype.validateArgs=function(l){if(l.length!==this.params)throw T.InvalidNumberOfParams(l.length,this.params,this.name)},f.prototype.formatInput=function(l){var b=this;return this.inputFormatter?this.inputFormatter.map(function(x,O){return x?x.call(b,l[O]):l[O]}):l},f.prototype.formatOutput=function(l){var b=this;return Array.isArray(l)?l.map(function(x){return b.outputFormatter&&x?b.outputFormatter(x):x}):this.outputFormatter&&l?this.outputFormatter(l):l},f.prototype.toPayload=function(l){var b=this.getCall(l),x=this.extractCallback(l),O=this.formatInput(l);this.validateArgs(O);var R={method:b,params:O,callback:x};return this.transformPayload&&(R=this.transformPayload(R)),R},f.prototype._confirmTransaction=function(l,b,x){var O=this,R=!1,D=!0,C=0,F=0,j=null,N=null,z=null,Y=x.params[0]&&"object"==typeof x.params[0]&&x.params[0].gas?x.params[0].gas:null,G=!!x.params[0]&&"object"==typeof x.params[0]&&x.params[0].data&&x.params[0].from&&!x.params[0].to,st=G&&x.params[0].data.length>2,h=[new f({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[w.inputBlockNumberFormatter,function(a){return!!a}],outputFormatter:w.outputBlockFormatter}),new f({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:w.outputTransactionReceiptFormatter}),new f({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[w.inputAddressFormatter,w.inputDefaultBlockNumberFormatter]}),new f({name:"getTransactionByHash",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:w.outputTransactionFormatter}),new c({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:w.outputBlockFormatter}}})],t={};h.forEach(a=>{a.attachToObject(t),a.requestManager=O.requestManager});var r=function(a,g,A,B,d){if(!A)return d||(d={unsubscribe:function(){clearInterval(j),clearTimeout(N)}}),(a?i.resolve(a):t.getTransactionReceipt(b)).catch(function(e){d.unsubscribe(),R=!0,M._fireError({message:"Failed to check for transaction receipt:",data:e},l.eventEmitter,l.reject)}).then(function(){var e=y(function*(n){if(!n||!n.blockHash)throw new Error("Receipt missing or blockHash null");if(O.extraFormatters&&O.extraFormatters.receiptFormatter&&(n=O.extraFormatters.receiptFormatter(n)),l.eventEmitter.listeners("confirmation").length>0){var I;if(void 0===a||0!==F){var W=yield t.getBlockByNumber("latest"),X=W?W.hash:null;g?z?(I=yield t.getBlockByNumber(z.number+1))&&(z=I,l.eventEmitter.emit("confirmation",F,n,X)):(I=yield t.getBlockByNumber(n.blockNumber),z=I,l.eventEmitter.emit("confirmation",F,n,X)):l.eventEmitter.emit("confirmation",F,n,X)}(g&&I||!g)&&F++,D=!1,F===O.transactionConfirmationBlocks+1&&(d.unsubscribe(),l.eventEmitter.removeAllListeners())}return n});return function(n){return e.apply(this,arguments)}}()).then(function(){var e=y(function*(n){if(G&&!R){if(!n.contractAddress)return D&&(d.unsubscribe(),R=!0),void M._fireError(T.NoContractAddressFoundError(n),l.eventEmitter,l.reject,null,n);var I;try{I=yield t.getCode(n.contractAddress)}catch{}if(!I)return;!0===n.status&&st||I.length>2?(l.eventEmitter.emit("receipt",n),l.resolve(O.extraFormatters&&O.extraFormatters.contractDeployFormatter?O.extraFormatters.contractDeployFormatter(n):n),D&&l.eventEmitter.removeAllListeners()):M._fireError(T.ContractCodeNotStoredError(n),l.eventEmitter,l.reject,null,n),D&&d.unsubscribe(),R=!0}return n});return function(n){return e.apply(this,arguments)}}()).then(function(){var e=y(function*(n){if(!G&&!R){if(n.outOfGas||Y&&Y===n.gasUsed||!(!0===n.status||"0x1"===n.status||typeof n.status>"u"))if(JSON.stringify(n,null,2),!1===n.status||"0x0"===n.status)try{var I;if(!O.handleRevert||"eth_sendTransaction"!==O.call&&"eth_sendRawTransaction"!==O.call)throw!1;var W=x.params[0];if("eth_sendRawTransaction"===O.call){var Q=s.parse(x.params[0]);W=w.inputTransactionFormatter({data:Q.data,to:Q.to,from:Q.from,gas:Q.gasLimit.toHexString(),gasPrice:Q.gasPrice?Q.gasPrice.toHexString():void 0,value:Q.value.toHexString()})}if(!(I=yield O.getRevertReason(W,n.blockNumber)))throw!1;M._fireError(T.TransactionRevertInstructionError(I.reason,I.signature,n),l.eventEmitter,l.reject,null,n)}catch{M._fireError(T.TransactionRevertedWithoutReasonError(n),l.eventEmitter,l.reject,null,n)}else M._fireError(T.TransactionOutOfGasError(n),l.eventEmitter,l.reject,null,n);else l.eventEmitter.emit("receipt",n),l.resolve(n),D&&l.eventEmitter.removeAllListeners();D&&d.unsubscribe(),R=!0}});return function(n){return e.apply(this,arguments)}}()).catch(function(){C++,g?C-1>=O.transactionPollingTimeout&&(d.unsubscribe(),R=!0,M._fireError(T.TransactionError("Transaction was not mined within "+O.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),l.eventEmitter,l.reject)):C-1>=O.transactionBlockTimeout&&(d.unsubscribe(),R=!0,M._fireError(T.TransactionError("Transaction was not mined within "+O.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),l.eventEmitter,l.reject))});d.unsubscribe(),R=!0,M._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:A},l.eventEmitter,l.reject)},o=function(a){let g=!1;const A=()=>{j=setInterval(r.bind(null,a,!0),O.transactionPollingInterval)};if(!this.requestManager.provider.on)return A();t.subscribe("newBlockHeaders",function(B,d,e){if(g=!0,B||!d)return A();r(a,!1,B,0,e)}),N=setTimeout(()=>{g||A()},1e3*this.blockHeaderTimeout)}.bind(this);t.getTransactionReceipt(b).then(function(a){a&&a.blockHash?(l.eventEmitter.listeners("confirmation").length>0&&o(a),r(a,!1)):R||o()}).catch(function(){R||o()})};var u=function(l,b){return"number"==typeof l?b.wallet[l]:l&&"object"==typeof l&&l.address&&l.privateKey?l:b.wallet[l.toLowerCase()]};function p(l,b){return new Promise((x,O)=>{try{var R=new f({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(C){return C?M.toHex(C):"latest"},function(){return!1}]}).createFunction(l.requestManager),D=new f({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(l.requestManager);Promise.all([R(),D()]).then(C=>{const[F,j]=C;if(("0x2"===b.type||void 0===b.type)&&F&&F.baseFeePerGas){let N,z;b.gasPrice?(N=b.gasPrice,z=b.gasPrice,delete b.gasPrice):(N=b.maxPriorityFeePerGas||"0x9502F900",z=b.maxFeePerGas||M.toHex(M.toBN(F.baseFeePerGas).mul(M.toBN(2)).add(M.toBN(N)))),x({maxFeePerGas:z,maxPriorityFeePerGas:N})}else{if(b.maxPriorityFeePerGas||b.maxFeePerGas)throw Error("Network doesn't support eip-1559");x({gasPrice:j})}})}catch(C){O(C)}})}f.prototype.buildCall=function(){var l=this,b="eth_sendTransaction"===l.call||"eth_sendRawTransaction"===l.call,x="eth_call"===l.call,O=function(){var R=i(!b),D=l.toPayload(Array.prototype.slice.call(arguments)),C=function(N,z){var P;if(l.handleRevert&&x&&l.abiCoder&&(!N&&l.isRevertReasonString(z)?P=z.substring(10):N&&N.data&&(P=N.data.substring(10)),P)){var Y=l.abiCoder.decodeParameter("string","0x"+P),G="Error(String)";M._fireError(T.RevertInstructionError(Y,G),R.eventEmitter,R.reject,D.callback,{reason:Y,signature:G})}else{try{z=l.formatOutput(z)}catch(st){N=st}if(z instanceof Error&&(N=z),N)return N.error&&(N=N.error),M._fireError(N,R.eventEmitter,R.reject,D.callback);D.callback&&D.callback(null,z),b?(R.eventEmitter.emit("transactionHash",z),l._confirmTransaction(R,z,D)):N||R.resolve(z)}},F=function(N){var z={...D,method:"eth_sendRawTransaction",params:[N.rawTransaction]};l.requestManager.send(z,C)},j=function(N,z){var P,Y;if(z&&z.accounts&&z.accounts.wallet&&z.accounts.wallet.length)if("eth_sendTransaction"===N.method){if((P=u((Y=N.params[0])&&"object"==typeof Y?Y.from:null,z.accounts))&&P.privateKey)return delete(Y=JSON.parse(JSON.stringify(Y))).from,z.defaultChain&&!Y.chain&&(Y.chain=z.defaultChain),z.defaultHardfork&&!Y.hardfork&&(Y.hardfork=z.defaultHardfork),z.defaultCommon&&!Y.common&&(Y.common=z.defaultCommon),void z.accounts.signTransaction(Y,P.privateKey).then(F).catch(function(t){if("function"==typeof R.eventEmitter.listeners&&R.eventEmitter.listeners("error").length){try{R.eventEmitter.emit("error",t)}catch{}R.eventEmitter.removeAllListeners(),R.eventEmitter.catch(function(){})}R.reject(t)})}else if("eth_sign"===N.method){var G=N.params[1];if((P=u(N.params[0],z.accounts))&&P.privateKey){var st=z.accounts.sign(G,P.privateKey);return N.callback&&N.callback(null,st.signature),void R.resolve(st.signature)}}return z.requestManager.send(N,C)};return b&&D.params[0]&&"object"==typeof D.params[0]&&typeof D.params[0].gasPrice>"u"&&(typeof D.params[0].maxPriorityFeePerGas>"u"||typeof D.params[0].maxFeePerGas>"u")?p(l,D.params[0]).then(N=>{void 0!==N.gasPrice?D.params[0].gasPrice=N.gasPrice:void 0!==N.maxPriorityFeePerGas&&void 0!==N.maxFeePerGas&&(D.params[0].maxPriorityFeePerGas=N.maxPriorityFeePerGas,D.params[0].maxFeePerGas=N.maxFeePerGas),b&&setTimeout(()=>{R.eventEmitter.emit("sending",D)},0),j(D,l)}):(b&&setTimeout(()=>{R.eventEmitter.emit("sending",D)},0),j(D,l)),b&&setTimeout(()=>{R.eventEmitter.emit("sent",D)},0),R.eventEmitter};return O.method=l,O.request=this.request.bind(this),O},f.prototype.getRevertReason=function(l,b){var x=this;return new Promise(function(O,R){new f({name:"call",call:"eth_call",params:2,abiCoder:x.abiCoder,handleRevert:!0}).createFunction(x.requestManager)(l,M.numberToHex(b)).then(function(){O(!1)}).catch(function(D){D.reason?O({reason:D.reason,signature:D.signature}):R(D)})})},f.prototype.isRevertReasonString=function(l){return"string"==typeof l&&(l.length-2)/2%32==4&&"0x08c379a0"===l.substring(0,10)},f.prototype.request=function(){var l=this.toPayload(Array.prototype.slice.call(arguments));return l.format=this.formatOutput.bind(this),l},$.exports=f},3552:($,S,m)=>{"use strict";var y=m(79846),T=function(M){var i,c,s=new Promise(function(){i=arguments[0],c=arguments[1]});if(M)return{resolve:i,reject:c,eventEmitter:s};var f=new y;return s._events=f._events,s.emit=f.emit,s.on=f.on,s.once=f.once,s.off=f.off,s.listeners=f.listeners,s.addListener=f.addListener,s.removeListener=f.removeListener,s.removeAllListeners=f.removeAllListeners,{resolve:i,reject:c,eventEmitter:s}};T.resolve=function(w){var M=T(!0);return M.resolve(w),M.eventEmitter},$.exports=T},79846:$=>{"use strict";var S=Object.prototype.hasOwnProperty,m="~";function y(){}function T(c,s,f){this.fn=c,this.context=s,this.once=f||!1}function w(c,s,f,u,p){if("function"!=typeof f)throw new TypeError("The listener must be a function");var l=new T(f,u||c,p),b=m?m+s:s;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],l]:c._events[b].push(l):(c._events[b]=l,c._eventsCount++),c}function M(c,s){0==--c._eventsCount?c._events=new y:delete c._events[s]}function i(){this._events=new y,this._eventsCount=0}Object.create&&(y.prototype=Object.create(null),(new y).__proto__||(m=!1)),i.prototype.eventNames=function(){var f,u,s=[];if(0===this._eventsCount)return s;for(u in f=this._events)S.call(f,u)&&s.push(m?u.slice(1):u);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},i.prototype.listeners=function(s){var u=this._events[m?m+s:s];if(!u)return[];if(u.fn)return[u.fn];for(var p=0,l=u.length,b=new Array(l);p<l;p++)b[p]=u[p].fn;return b},i.prototype.listenerCount=function(s){var u=this._events[m?m+s:s];return u?u.fn?1:u.length:0},i.prototype.emit=function(s,f,u,p,l,b){var x=m?m+s:s;if(!this._events[x])return!1;var D,C,O=this._events[x],R=arguments.length;if(O.fn){switch(O.once&&this.removeListener(s,O.fn,void 0,!0),R){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,f),!0;case 3:return O.fn.call(O.context,f,u),!0;case 4:return O.fn.call(O.context,f,u,p),!0;case 5:return O.fn.call(O.context,f,u,p,l),!0;case 6:return O.fn.call(O.context,f,u,p,l,b),!0}for(C=1,D=new Array(R-1);C<R;C++)D[C-1]=arguments[C];O.fn.apply(O.context,D)}else{var j,F=O.length;for(C=0;C<F;C++)switch(O[C].once&&this.removeListener(s,O[C].fn,void 0,!0),R){case 1:O[C].fn.call(O[C].context);break;case 2:O[C].fn.call(O[C].context,f);break;case 3:O[C].fn.call(O[C].context,f,u);break;case 4:O[C].fn.call(O[C].context,f,u,p);break;default:if(!D)for(j=1,D=new Array(R-1);j<R;j++)D[j-1]=arguments[j];O[C].fn.apply(O[C].context,D)}}return!0},i.prototype.on=function(s,f,u){return w(this,s,f,u,!1)},i.prototype.once=function(s,f,u){return w(this,s,f,u,!0)},i.prototype.removeListener=function(s,f,u,p){var l=m?m+s:s;if(!this._events[l])return this;if(!f)return M(this,l),this;var b=this._events[l];if(b.fn)b.fn===f&&(!p||b.once)&&(!u||b.context===u)&&M(this,l);else{for(var x=0,O=[],R=b.length;x<R;x++)(b[x].fn!==f||p&&!b[x].once||u&&b[x].context!==u)&&O.push(b[x]);O.length?this._events[l]=1===O.length?O[0]:O:M(this,l)}return this},i.prototype.removeAllListeners=function(s){var f;return s?this._events[f=m?m+s:s]&&M(this,f):(this._events=new y,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=m,i.EventEmitter=i,$.exports=i},50204:($,S,m)=>{"use strict";var y=m(31894),T=m(97958).errors,w=function(M){this.requestManager=M,this.requests=[]};w.prototype.add=function(M){this.requests.push(M)},w.prototype.execute=function(){var M=this.requests,i=this._sortResponses.bind(this);this.requestManager.sendBatch(M,function(c,s){s=i(s),M.map(function(f,u){return s[u]||{}}).forEach(function(f,u){if(M[u].callback){if(f&&f.error)return M[u].callback(T.ErrorResponse(f));if(!y.isValidResponse(f))return M[u].callback(T.InvalidResponse(f));try{M[u].callback(null,M[u].format?M[u].format(f.result):f.result)}catch(p){M[u].callback(p)}}})})},w.prototype._sortResponses=function(M){return(M||[]).sort((i,c)=>i.id-c.id)},$.exports=w},12342:$=>{"use strict";var S=null,m="object"==typeof globalThis?globalThis:void 0;if(!m)try{m=Function("return this")()}catch{m=self}typeof m.ethereum<"u"?S=m.ethereum:typeof m.web3<"u"&&m.web3.currentProvider&&(m.web3.currentProvider.sendAsync&&(m.web3.currentProvider.send=m.web3.currentProvider.sendAsync,delete m.web3.currentProvider.sendAsync),!m.web3.currentProvider.on&&m.web3.currentProvider.connection&&"ipcProviderWrapper"===m.web3.currentProvider.connection.constructor.name&&(m.web3.currentProvider.on=function(y,T){if("function"!=typeof T)throw new Error("The second parameter callback must be a function.");"data"===y?this.connection.on("data",function(w){var M="";w=w.toString();try{M=JSON.parse(w)}catch{return T(new Error("Couldn't parse response data"+w))}!M.id&&-1!==M.method.indexOf("_subscription")&&T(null,M)}):this.connection.on(y,T)}),S=m.web3.currentProvider),$.exports=S},94099:($,S,m)=>{"use strict";const{callbackify:y}=m(44407);var T=m(97958).errors,w=m(31894),M=m(50204),i=m(12342),c=function s(f,u){this.provider=null,this.providers=s.providers,this.setProvider(f,u),this.subscriptions=new Map};c.givenProvider=i,c.providers={WebsocketProvider:m(83549),HttpProvider:m(40159),IpcProvider:m(87388)},c.prototype.setProvider=function(s,f){var u=this;if(s&&"string"==typeof s&&this.providers)if(/^http(s)?:\/\//i.test(s))s=new this.providers.HttpProvider(s);else if(/^ws(s)?:\/\//i.test(s))s=new this.providers.WebsocketProvider(s);else if(s&&"object"==typeof f&&"function"==typeof f.connect)s=new this.providers.IpcProvider(s,f);else if(s)throw new Error("Can't autodetect provider for \""+s+'"');this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=s||null,this.provider&&this.provider.on&&("function"==typeof s.request?this.provider.on("message",function(l){if(l&&"eth_subscription"===l.type&&l.data){const b=l.data;b.subscription&&u.subscriptions.has(b.subscription)&&u.subscriptions.get(b.subscription).callback(null,b.result)}}):this.provider.on("data",function(b,x){(b=b||x).method&&b.params&&b.params.subscription&&u.subscriptions.has(b.params.subscription)&&u.subscriptions.get(b.params.subscription).callback(null,b.params.result)}),this.provider.on("connect",function(){u.subscriptions.forEach(function(b){b.subscription.resubscribe()})}),this.provider.on("error",function(l){u.subscriptions.forEach(function(b){b.callback(l)})}),this.provider.on("disconnect",function(b){(!u._isCleanCloseEvent(b)||u._isIpcCloseError(b))&&(u.subscriptions.forEach(function(x){x.callback(T.ConnectionCloseError(b)),u.subscriptions.delete(x.subscription.id)}),u.provider&&u.provider.emit&&u.provider.emit("error",T.ConnectionCloseError(b))),u.provider&&u.provider.emit&&u.provider.emit("end",b)}))},c.prototype.send=function(s,f){if(f=f||function(){},!this.provider)return f(T.InvalidProvider());const{method:u,params:p}=s,l=w.toPayload(u,p),b=this._jsonrpcResultCallback(f,l);if(this.provider.request)y(this.provider.request.bind(this.provider))({method:u,params:p},f);else if(this.provider.sendAsync)this.provider.sendAsync(l,b);else{if(!this.provider.send)throw new Error("Provider does not have a request or send method to use.");this.provider.send(l,b)}},c.prototype.sendBatch=function(s,f){if(!this.provider)return f(T.InvalidProvider());var u=w.toBatchPayload(s);this.provider[this.provider.sendAsync?"sendAsync":"send"](u,function(p,l){return p?f(p):Array.isArray(l)?void f(null,l):f(T.InvalidResponse(l))})},c.prototype.addSubscription=function(s,f){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions.set(s.id,{callback:f,subscription:s})},c.prototype.removeSubscription=function(s,f){if(this.subscriptions.has(s)){var u=this.subscriptions.get(s).subscription.options.type;return this.subscriptions.delete(s),void this.send({method:u+"_unsubscribe",params:[s]},f)}"function"==typeof f&&f(null)},c.prototype.clearSubscriptions=function(s){try{var f=this;return this.subscriptions.size>0&&this.subscriptions.forEach(function(u,p){(!s||"syncing"!==u.name)&&f.removeSubscription(p)}),this.provider.reset&&this.provider.reset(),!0}catch(u){throw new Error(`Error while clearing subscriptions: ${u}`)}},c.prototype._isCleanCloseEvent=function(s){return"object"==typeof s&&([1e3].includes(s.code)||!0===s.wasClean)},c.prototype._isIpcCloseError=function(s){return"boolean"==typeof s&&s},c.prototype._jsonrpcResultCallback=function(s,f){return function(u,p){return p&&p.id&&f.id!==p.id?s(new Error(`Wrong response id ${p.id} (expected: ${f.id}) in ${JSON.stringify(f)}`)):u?s(u):p&&p.error?s(T.ErrorResponse(p)):w.isValidResponse(p)?void s(null,p.result):s(T.InvalidResponse(p))}},$.exports={Manager:c,BatchManager:M}},31894:$=>{"use strict";var S={messageId:0,toPayload:function(m,y){if(!m)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(y)+'"!');return S.messageId++,{jsonrpc:"2.0",id:S.messageId,method:m,params:y||[]}},isValidResponse:function(m){return Array.isArray(m)?m.every(y):y(m);function y(T){return!(!T||T.error||"2.0"!==T.jsonrpc||"number"!=typeof T.id&&"string"!=typeof T.id||void 0===T.result)}},toBatchPayload:function(m){return m.map(function(y){return S.toPayload(y.method,y.params)})}};$.exports=S},65854:($,S,m)=>{"use strict";var y=m(34883),T=function(M){this.name=M.name,this.type=M.type,this.subscriptions=M.subscriptions||{},this.requestManager=null};T.prototype.setRequestManager=function(w){this.requestManager=w},T.prototype.attachToObject=function(w){var M=this.buildCall(),i=this.name.split(".");i.length>1?(w[i[0]]=w[i[0]]||{},w[i[0]][i[1]]=M):w[i[0]]=M},T.prototype.buildCall=function(){var w=this;return function(){w.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var M=new y({subscription:w.subscriptions[arguments[0]]||{},requestManager:w.requestManager,type:w.type});return M.subscribe.apply(M,arguments)}},$.exports={subscriptions:T,subscription:y}},34883:($,S,m)=>{"use strict";var y=m(97958).errors,T=m(35786),w=m(97958).formatters;function M(c){return c}function i(c){T.call(this),this.id=null,this.callback=M,this.arguments=null,this.lastBlock=null,this.options={subscription:c.subscription,type:c.type,requestManager:c.requestManager}}(i.prototype=Object.create(T.prototype)).constructor=i,i.prototype._extractCallback=function(c){if("function"==typeof c[c.length-1])return c.pop()},i.prototype._validateArgs=function(c){var s=this.options.subscription;if(s||(s={}),s.params||(s.params=0),c.length!==s.params)throw y.InvalidNumberOfParams(c.length,s.params,s.subscriptionName)},i.prototype._formatInput=function(c){var s=this.options.subscription;return s&&s.inputFormatter?s.inputFormatter.map(function(u,p){return u?u(c[p]):c[p]}):c},i.prototype._formatOutput=function(c){var s=this.options.subscription;return s&&s.outputFormatter&&c?s.outputFormatter(c):c},i.prototype._toPayload=function(c){var s=[];if(this.callback=this._extractCallback(c)||M,this.subscriptionMethod||(this.subscriptionMethod=c.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(c),this._validateArgs(this.arguments),c=[]),s.push(this.subscriptionMethod),s=s.concat(this.arguments),c.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:s}},i.prototype.unsubscribe=function(c){this.options.requestManager.removeSubscription(this.id,c),this.id=null,this.lastBlock=null,this.removeAllListeners()},i.prototype.subscribe=function(){var c=this,s=Array.prototype.slice.call(arguments),f=this._toPayload(s);if(!f)return this;if(!this.options.requestManager.provider)return setTimeout(function(){var p=new Error("No provider set.");c.callback(p,null,c),c.emit("error",p)},0),this;if(!this.options.requestManager.provider.on)return setTimeout(function(){var p=new Error("The current provider doesn't support subscriptions: "+c.options.requestManager.provider.constructor.name);c.callback(p,null,c),c.emit("error",p)},0),this;if(this.lastBlock&&!!this.options.params&&"object"==typeof this.options.params&&(f.params[1]=this.options.params,f.params[1].fromBlock=w.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=f.params[1],"logs"===f.params[0]&&f.params[1]&&"object"==typeof f.params[1]&&f.params[1].hasOwnProperty("fromBlock")&&isFinite(f.params[1].fromBlock)){var u=Object.assign({},f.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[u]},function(p,l){p?setTimeout(function(){c.callback(p,null,c),c.emit("error",p)},0):l.forEach(function(b){var x=c._formatOutput(b);c.callback(null,x,c),c.emit("data",x)})})}return"object"==typeof f.params[1]&&delete f.params[1].fromBlock,this.options.requestManager.send(f,function(p,l){!p&&l?(c.id=l,c.method=f.params[0],c.options.requestManager.addSubscription(c,function(b,x){b?(c.callback(b,!1,c),c.emit("error",b)):(Array.isArray(x)||(x=[x]),x.forEach(function(O){var R=c._formatOutput(O);if(c.lastBlock=R&&"object"==typeof R?R.blockNumber:null,"function"==typeof c.options.subscription.subscriptionHandler)return c.options.subscription.subscriptionHandler.call(c,R);c.emit("data",R),c.callback(null,R,c)}))}),c.emit("connected",l)):setTimeout(function(){c.callback(p,!1,c),c.emit("error",p)},0)}),this},i.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)},$.exports=i},35786:$=>{"use strict";var S=Object.prototype.hasOwnProperty,m="~";function y(){}function T(c,s,f){this.fn=c,this.context=s,this.once=f||!1}function w(c,s,f,u,p){if("function"!=typeof f)throw new TypeError("The listener must be a function");var l=new T(f,u||c,p),b=m?m+s:s;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],l]:c._events[b].push(l):(c._events[b]=l,c._eventsCount++),c}function M(c,s){0==--c._eventsCount?c._events=new y:delete c._events[s]}function i(){this._events=new y,this._eventsCount=0}Object.create&&(y.prototype=Object.create(null),(new y).__proto__||(m=!1)),i.prototype.eventNames=function(){var f,u,s=[];if(0===this._eventsCount)return s;for(u in f=this._events)S.call(f,u)&&s.push(m?u.slice(1):u);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},i.prototype.listeners=function(s){var u=this._events[m?m+s:s];if(!u)return[];if(u.fn)return[u.fn];for(var p=0,l=u.length,b=new Array(l);p<l;p++)b[p]=u[p].fn;return b},i.prototype.listenerCount=function(s){var u=this._events[m?m+s:s];return u?u.fn?1:u.length:0},i.prototype.emit=function(s,f,u,p,l,b){var x=m?m+s:s;if(!this._events[x])return!1;var D,C,O=this._events[x],R=arguments.length;if(O.fn){switch(O.once&&this.removeListener(s,O.fn,void 0,!0),R){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,f),!0;case 3:return O.fn.call(O.context,f,u),!0;case 4:return O.fn.call(O.context,f,u,p),!0;case 5:return O.fn.call(O.context,f,u,p,l),!0;case 6:return O.fn.call(O.context,f,u,p,l,b),!0}for(C=1,D=new Array(R-1);C<R;C++)D[C-1]=arguments[C];O.fn.apply(O.context,D)}else{var j,F=O.length;for(C=0;C<F;C++)switch(O[C].once&&this.removeListener(s,O[C].fn,void 0,!0),R){case 1:O[C].fn.call(O[C].context);break;case 2:O[C].fn.call(O[C].context,f);break;case 3:O[C].fn.call(O[C].context,f,u);break;case 4:O[C].fn.call(O[C].context,f,u,p);break;default:if(!D)for(j=1,D=new Array(R-1);j<R;j++)D[j-1]=arguments[j];O[C].fn.apply(O[C].context,D)}}return!0},i.prototype.on=function(s,f,u){return w(this,s,f,u,!1)},i.prototype.once=function(s,f,u){return w(this,s,f,u,!0)},i.prototype.removeListener=function(s,f,u,p){var l=m?m+s:s;if(!this._events[l])return this;if(!f)return M(this,l),this;var b=this._events[l];if(b.fn)b.fn===f&&(!p||b.once)&&(!u||b.context===u)&&M(this,l);else{for(var x=0,O=[],R=b.length;x<R;x++)(b[x].fn!==f||p&&!b[x].once||u&&b[x].context!==u)&&O.push(b[x]);O.length?this._events[l]=1===O.length?O[0]:O:M(this,l)}return this},i.prototype.removeAllListeners=function(s){var f;return s?this._events[f=m?m+s:s]&&M(this,f):(this._events=new y,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=m,i.EventEmitter=i,$.exports=i},16320:($,S,m)=>{"use strict";var y=m(97958).formatters,T=m(75698),w=m(66638);$.exports=function(i){var c=function(s){var f;return s.property?(i[s.property]||(i[s.property]={}),f=i[s.property]):f=i,s.methods&&s.methods.forEach(function(u){u instanceof T||(u=new T(u)),u.attachToObject(f),u.setRequestManager(i._requestManager)}),i};return c.formatters=y,c.utils=w,c.Method=T,c}},37936:($,S,m)=>{const y=m(94099),T=m(16320);$.exports={packageInit:(i,c)=>{if(c=Array.prototype.slice.call(c),!i)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(i,"currentProvider",{get:()=>i._provider,set:s=>i.setProvider(s),enumerable:!0,configurable:!0}),i._requestManager=c[0]&&c[0]._requestManager?c[0]._requestManager:new y.Manager(c[0],c[1]),i.givenProvider=y.Manager.givenProvider,i.providers=y.Manager.providers,i._provider=i._requestManager.provider,i.setProvider||(i.setProvider=(s,f)=>(i._requestManager.setProvider(s,f),i._provider=i._requestManager.provider,!0)),i.setRequestManager=s=>{i._requestManager=s,i._provider=s.provider},i.BatchRequest=y.BatchManager.bind(null,i._requestManager),i.extend=T(i)},addProviders:i=>{i.givenProvider=y.Manager.givenProvider,i.providers=y.Manager.providers}}},94839:($,S,m)=>{var y=m(44381).Buffer,T=m(66638),w=m(42867).AbiCoder,M=m(42867).ParamType,i=new w(function(u,p){return!u.match(/^u?int/)||Array.isArray(p)||p&&"object"==typeof p&&"BN"===p.constructor.name?p:p.toString()});function c(){}var s=function(){};s.prototype.encodeFunctionSignature=function(u){return("function"==typeof u||"object"==typeof u&&u)&&(u=T._jsonInterfaceMethodToString(u)),T.sha3(u).slice(0,10)},s.prototype.encodeEventSignature=function(u){return("function"==typeof u||"object"==typeof u&&u)&&(u=T._jsonInterfaceMethodToString(u)),T.sha3(u)},s.prototype.encodeParameter=function(u,p){return this.encodeParameters([u],[p])},s.prototype.encodeParameters=function(u,p){var l=this;return u=l.mapTypes(u),p=p.map(function(b,x){let O=u[x];if("object"==typeof O&&O.type&&(O=O.type),b=l.formatParam(O,b),"string"==typeof O&&O.includes("tuple")){const R=i._getCoder(M.from(O)),D=(C,F)=>{if("array"===C.name){if(!C.type.match(/\[(\d+)\]/))return F.map(N=>D(i._getCoder(M.from(C.type.replace("[]",""))),N));const j=parseInt(C.type.match(/\[(\d+)\]/)[1]);if(F.length!==j)throw new Error("Array length does not matches with the given input");return F.map(N=>D(i._getCoder(M.from(C.type.replace(/\[\d+\]/,""))),N))}C.coders.forEach((j,N)=>{"tuple"===j.name?D(j,F[N]):F[N]=l.formatParam(j.name,F[N])})};D(R,b)}return b}),i.encode(u,p)},s.prototype.mapTypes=function(u){var p=this,l=[];return u.forEach(function(b){if("object"==typeof b&&"function"===b.type&&(b=Object.assign({},b,{type:"bytes24"})),p.isSimplifiedStructFormat(b)){var x=Object.keys(b)[0];l.push(Object.assign(p.mapStructNameAndType(x),{components:p.mapStructToCoderFormat(b[x])}))}else l.push(b)}),l},s.prototype.isSimplifiedStructFormat=function(u){return"object"==typeof u&&typeof u.components>"u"&&typeof u.name>"u"},s.prototype.mapStructNameAndType=function(u){var p="tuple";return u.indexOf("[]")>-1&&(p="tuple[]",u=u.slice(0,-2)),{type:p,name:u}},s.prototype.mapStructToCoderFormat=function(u){var p=this,l=[];return Object.keys(u).forEach(function(b){l.push("object"!=typeof u[b]?{name:b,type:u[b]}:Object.assign(p.mapStructNameAndType(b),{components:p.mapStructToCoderFormat(u[b])}))}),l},s.prototype.formatParam=function(u,p){const l=new RegExp(/^bytes([0-9]*)$/),b=new RegExp(/^bytes([0-9]*)\[\]$/),x=new RegExp(/^(u?int)([0-9]*)$/),O=new RegExp(/^(u?int)([0-9]*)\[\]$/);if(T.isBN(p)||T.isBigNumber(p))return p.toString(10);if(u.match(b)||u.match(O))return p.map(D=>this.formatParam(u.replace("[]",""),D));let R=u.match(x);if(R){let D=parseInt(R[2]||"256");D/8<p.length&&(p=T.leftPad(p,D))}if(R=u.match(l),R){y.isBuffer(p)&&(p=T.toHex(p));let D=parseInt(R[1]);if(D){let C=2*D;"0x"===p.substring(0,2)&&(C+=2),p.length<C&&(p=T.rightPad(p,2*D))}p.length%2==1&&(p="0x0"+p.substring(2))}return p},s.prototype.encodeFunctionCall=function(u,p){return this.encodeFunctionSignature(u)+this.encodeParameters(u.inputs,p).replace("0x","")},s.prototype.decodeParameter=function(u,p){return this.decodeParameters([u],p)[0]},s.prototype.decodeParameters=function(u,p){return this.decodeParametersWith(u,p,!1)},s.prototype.decodeParametersWith=function(u,p,l){if(u.length>0&&(!p||"0x"===p||"0X"===p))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var b=i.decode(this.mapTypes(u),"0x"+p.replace(/0x/i,""),l),x=new c;return x.__length__=0,u.forEach(function(O,R){var D=b[x.__length__];x[R]=D="0x"!==D||"object"==typeof O&&O.type&&"string"===O.type||"string"==typeof O&&"string"===O?D:null,("function"==typeof O||!!O&&"object"==typeof O)&&O.name&&(x[O.name]=D),x.__length__++}),x},s.prototype.decodeLog=function(u,p,l){var b=this;l=Array.isArray(l)?l:[l],p=p||"";var x=[],O=[],R=0;u.forEach(function(j,N){j.indexed?(O[N]=["bool","int","uint","address","fixed","ufixed"].find(function(z){return-1!==j.type.indexOf(z)})?b.decodeParameter(j.type,l[R]):l[R],R++):x[N]=j});var C=p?this.decodeParametersWith(x,p,!0):[],F=new c;return F.__length__=0,u.forEach(function(j,N){F[N]="string"===j.type?"":null,typeof C[N]<"u"&&(F[N]=C[N]),typeof O[N]<"u"&&(F[N]=O[N]),j.name&&(F[j.name]=F[N]),F.__length__++}),F};var f=new s;$.exports=f},83096:($,S,m)=>{"use strict";var y=m(37936),T=m(75698),w=m(66638),M=m(65854).subscription,i=m(97958).formatters,c=m(97958).errors,s=m(3552),f=m(94839),u=function p(l,b,x){var O=this,R=Array.prototype.slice.call(arguments);if(!(this instanceof p))throw new Error('Please use the "new" keyword to instantiate a web3.eth.Contract() object!');if(this.setProvider=function(){y.packageInit(O,arguments),O.clearSubscriptions=O._requestManager.clearSubscriptions},y.packageInit(this,[this.constructor]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!l||!Array.isArray(l))throw c.ContractMissingABIError();this.options={};var D=R[R.length-1];!!D&&"object"==typeof D&&!Array.isArray(D)&&(this.options={...this.options,...this._getOrSetDefaultOptions(x=D)},!!b&&"object"==typeof b&&(b=null)),Object.defineProperty(this.options,"address",{set:function(j){j&&(O._address=w.toChecksumAddress(i.inputAddressFormatter(j)))},get:function(){return O._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(j){return O.methods={},O.events={},O._jsonInterface=j.map(function(N){var z,P;if(N.constant="view"===N.stateMutability||"pure"===N.stateMutability||N.constant,N.payable="payable"===N.stateMutability||N.payable,N.name&&(P=w._jsonInterfaceMethodToString(N)),"function"===N.type){if(N.signature=f.encodeFunctionSignature(P),z=O._createTxObject.bind({method:N,parent:O}),O.methods[N.name]){var Y=O._createTxObject.bind({method:N,parent:O,nextMethod:O.methods[N.name]});O.methods[N.name]=Y}else O.methods[N.name]=z;O.methods[N.signature]=z,O.methods[P]=z}else if("event"===N.type){N.signature=f.encodeEventSignature(P);var G=O._on.bind(O,N.signature);(!O.events[N.name]||"bound "===O.events[N.name].name)&&(O.events[N.name]=G),O.events[N.signature]=G,O.events[P]=G}return N}),O.events.allEvents=O._on.bind(O,"allevents"),O._jsonInterface},get:function(){return O._jsonInterface},enumerable:!0});var C=this.constructor.defaultAccount,F=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"handleRevert",{get:function(){return!1===O.options.handleRevert||!0===O.options.handleRevert?O.options.handleRevert:this.constructor.handleRevert},set:function(j){O.options.handleRevert=j},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return O.options.common||this.constructor.defaultCommon},set:function(j){O.options.common=j},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return O.options.hardfork||this.constructor.defaultHardfork},set:function(j){O.options.hardfork=j},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return O.options.chain||this.constructor.defaultChain},set:function(j){O.options.chain=j},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return 0===O.options.transactionPollingTimeout?O.options.transactionPollingTimeout:O.options.transactionPollingTimeout||this.constructor.transactionPollingTimeout},set:function(j){O.options.transactionPollingTimeout=j},enumerable:!0}),Object.defineProperty(this,"transactionPollingInterval",{get:function(){return 0===O.options.transactionPollingInterval?O.options.transactionPollingInterval:O.options.transactionPollingInterval||this.constructor.transactionPollingInterval},set:function(j){O.options.transactionPollingInterval=j},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return 0===O.options.transactionConfirmationBlocks?O.options.transactionConfirmationBlocks:O.options.transactionConfirmationBlocks||this.constructor.transactionConfirmationBlocks},set:function(j){O.options.transactionConfirmationBlocks=j},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return 0===O.options.transactionBlockTimeout?O.options.transactionBlockTimeout:O.options.transactionBlockTimeout||this.constructor.transactionBlockTimeout},set:function(j){O.options.transactionBlockTimeout=j},enumerable:!0}),Object.defineProperty(this,"blockHeaderTimeout",{get:function(){return 0===O.options.blockHeaderTimeout?O.options.blockHeaderTimeout:O.options.blockHeaderTimeout||this.constructor.blockHeaderTimeout},set:function(j){O.options.blockHeaderTimeout=j},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return C},set:function(j){return j&&(C=w.toChecksumAddress(i.inputAddressFormatter(j))),j},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return F},set:function(j){return F=j,j},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=b,this.options.jsonInterface=l};u.setProvider=function(p,l){y.packageInit(this,[p]),this._ethAccounts=l},u.prototype._getCallback=function(l){if(l&&l[l.length-1]&&"function"==typeof l[l.length-1])return l.pop()},u.prototype._checkListener=function(p,l){if(l===p)throw c.ContractReservedEventError(p)},u.prototype._getOrSetDefaultOptions=function(l){var b=l.gasPrice?String(l.gasPrice):null,x=l.from?w.toChecksumAddress(i.inputAddressFormatter(l.from)):null;return l.data=l.data||this.options.data,l.from=x||this.options.from,l.gasPrice=b||this.options.gasPrice,l.gas=l.gas||l.gasLimit||this.options.gas,delete l.gasLimit,l},u.prototype._encodeEventABI=function(p,l){var b=(l=l||{}).filter||{},x={};if(["fromBlock","toBlock"].filter(function(R){return void 0!==l[R]}).forEach(function(R){x[R]=i.inputBlockNumberFormatter(l[R])}),Array.isArray(l.topics))x.topics=l.topics;else{if(x.topics=[],p&&!p.anonymous&&"ALLEVENTS"!==p.name&&x.topics.push(p.signature),"ALLEVENTS"!==p.name){var O=p.inputs.filter(function(R){return!0===R.indexed}).map(function(R){var D=b[R.name];return D?Array.isArray(D)?D.map(function(C){return f.encodeParameter(R.type,C)}):f.encodeParameter(R.type,D):null});x.topics=x.topics.concat(O)}x.topics.length||delete x.topics}return this.options.address&&(x.address=this.options.address.toLowerCase()),x},u.prototype._decodeEventABI=function(p){var l=this;p.data=p.data||"",p.topics=p.topics||[];var b=i.outputLogFormatter(p);if("ALLEVENTS"===l.name&&(l=l.jsonInterface.find(function(O){return O.signature===p.topics[0]})||{anonymous:!0}),l.inputs=l.inputs||[],!l.anonymous){let O=0;l.inputs.forEach(R=>R.indexed?O++:null),O>0&&p.topics.length!==O+1&&(l={anonymous:!0,inputs:[]})}var x=l.anonymous?p.topics:p.topics.slice(1);return b.returnValues=f.decodeLog(l.inputs,p.data,x),delete b.returnValues.__length__,b.event=l.name,b.signature=l.anonymous||!p.topics[0]?null:p.topics[0],b.raw={data:b.data,topics:b.topics},delete b.data,delete b.topics,b},u.prototype._encodeMethodABI=function(){var l=this._method.signature,b=this.arguments||[],x=!1,O=this._parent.options.jsonInterface.filter(function(D){return"constructor"===l&&D.type===l||(D.signature===l||D.signature===l.replace("0x","")||D.name===l)&&"function"===D.type}).map(function(D){var C=Array.isArray(D.inputs)?D.inputs.length:0;if(C!==b.length)throw new Error("The number of arguments is not matching the methods required number. You need to pass "+C+" arguments.");return"function"===D.type&&(x=D.signature),Array.isArray(D.inputs)?D.inputs:[]}).map(function(D){return f.encodeParameters(D,b).replace("0x","")})[0]||"";if("constructor"===l){if(!this._deployData)throw new Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData.startsWith("0x")||(this._deployData="0x"+this._deployData),this._deployData+O}var R=x?x+O:O;if(!R)throw new Error("Couldn't find a matching contract method named \""+this._method.name+'".');return R},u.prototype._decodeMethodReturn=function(p,l){if(!l)return null;l=l.length>=2?l.slice(2):l;var b=f.decodeParameters(p,l);return 1===b.__length__?b[0]:(delete b.__length__,b)},u.prototype.deploy=function(p,l){if((p=p||{}).arguments=p.arguments||[],!(p=this._getOrSetDefaultOptions(p)).data){if("function"==typeof l)return l(c.ContractMissingDeployDataError());throw c.ContractMissingDeployDataError()}var b=this.options.jsonInterface.find(x=>"constructor"===x.type)||{};return b.signature="constructor",this._createTxObject.apply({method:b,parent:this,deployData:p.data,_ethAccounts:this.constructor._ethAccounts},p.arguments)},u.prototype._generateEventOptions=function(){var p=Array.prototype.slice.call(arguments),l=this._getCallback(p),b="object"===(!!p[p.length-1]&&typeof p[p.length-1])?p.pop():{},x="string"==typeof p[0]?p[0]:"allevents",O="allevents"===x.toLowerCase()?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find(function(R){return"event"===R.type&&(R.name===x||R.signature==="0x"+x.replace("0x",""))});if(!O)throw c.ContractEventDoesNotExistError(x);if(!w.isAddress(this.options.address))throw c.ContractNoAddressDefinedError();return{params:this._encodeEventABI(O,b),event:O,callback:l}},u.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)},u.prototype.once=function(p,l,b){var x=Array.prototype.slice.call(arguments);if(!(b=this._getCallback(x)))throw c.ContractOnceRequiresCallbackError();l&&delete l.fromBlock,this._on(p,l,function(O,R,D){D.unsubscribe(),"function"==typeof b&&b(O,R,D)})},u.prototype._on=function(){var p=this._generateEventOptions.apply(this,arguments);p.params&&p.params.toBlock&&(delete p.params.toBlock,console.warn("Invalid option: toBlock. Use getPastEvents for specific range.")),this._checkListener("newListener",p.event.name),this._checkListener("removeListener",p.event.name);var l=new M({subscription:{params:1,inputFormatter:[i.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(p.event),subscriptionHandler:function(b){this.emit(b.removed?"changed":"data",b),"function"==typeof this.callback&&this.callback(null,b,this)}},type:"eth",requestManager:this._requestManager});return l.subscribe("logs",p.params,p.callback||function(){}),l},u.prototype.getPastEvents=function(){var p=this._generateEventOptions.apply(this,arguments),l=new T({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[i.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(p.event)});l.setRequestManager(this._requestManager);var b=l.buildCall();return l=null,b(p.params,p.callback)},u.prototype._createTxObject=function(){var l=Array.prototype.slice.call(arguments),b={};if("function"===this.method.type&&(b.call=this.parent._executeMethod.bind(b,"call"),b.call.request=this.parent._executeMethod.bind(b,"call",!0)),b.send=this.parent._executeMethod.bind(b,"send"),b.send.request=this.parent._executeMethod.bind(b,"send",!0),b.encodeABI=this.parent._encodeMethodABI.bind(b),b.estimateGas=this.parent._executeMethod.bind(b,"estimate"),b.createAccessList=this.parent._executeMethod.bind(b,"createAccessList"),l&&this.method.inputs&&l.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,l);throw c.InvalidNumberOfParams(l.length,this.method.inputs.length,this.method.name)}return b.arguments=l||[],b._method=this.method,b._parent=this.parent,b._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(b._deployData=this.deployData),b},u.prototype._processExecuteArguments=function(l,b){var x={};if(x.type=l.shift(),x.callback=this._parent._getCallback(l),"call"===x.type&&!0!==l[l.length-1]&&("string"==typeof l[l.length-1]||isFinite(l[l.length-1]))&&(x.defaultBlock=l.pop()),x.options="object"===(!!l[l.length-1]&&typeof l[l.length-1])?l.pop():{},x.generateRequest=!0===l[l.length-1]&&l.pop(),x.options=this._parent._getOrSetDefaultOptions(x.options),x.options.data=this.encodeABI(),!this._deployData&&!w.isAddress(this._parent.options.address))throw c.ContractNoAddressDefinedError();return this._deployData||(x.options.to=this._parent.options.address),x.options.data?x:w._fireError(new Error("Couldn't find a matching contract method, or the number of parameters is wrong."),b.eventEmitter,b.reject,x.callback)},u.prototype._executeMethod=function(){var l=this,b=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),x),x=s("send"!==b.type),O=l.constructor._ethAccounts||l._ethAccounts;if(b.generateRequest){var R={params:[i.inputCallFormatter.call(this._parent,b.options)],callback:b.callback};return"call"===b.type?(R.params.push(i.inputDefaultBlockNumberFormatter.call(this._parent,b.defaultBlock)),R.method="eth_call",R.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):R.method="eth_sendTransaction",R}switch(b.type){case"createAccessList":if(!w.isAddress(b.options.from))return w._fireError(c.ContractNoFromAddressDefinedError(),x.eventEmitter,x.reject,b.callback);var D=new T({name:"createAccessList",call:"eth_createAccessList",params:2,inputFormatter:[i.inputTransactionFormatter,i.inputDefaultBlockNumberFormatter],requestManager:l._parent._requestManager,accounts:O,defaultAccount:l._parent.defaultAccount,defaultBlock:l._parent.defaultBlock}).createFunction();return D(b.options,b.callback);case"estimate":var C=new T({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[i.inputCallFormatter],outputFormatter:w.hexToNumber,requestManager:l._parent._requestManager,accounts:O,defaultAccount:l._parent.defaultAccount,defaultBlock:l._parent.defaultBlock}).createFunction();return C(b.options,b.callback);case"call":var F=new T({name:"call",call:"eth_call",params:2,inputFormatter:[i.inputCallFormatter,i.inputDefaultBlockNumberFormatter],outputFormatter:function(z){return l._parent._decodeMethodReturn(l._method.outputs,z)},requestManager:l._parent._requestManager,accounts:O,defaultAccount:l._parent.defaultAccount,defaultBlock:l._parent.defaultBlock,handleRevert:l._parent.handleRevert,abiCoder:f}).createFunction();return F(b.options,b.defaultBlock,b.callback);case"send":if(!w.isAddress(b.options.from))return w._fireError(c.ContractNoFromAddressDefinedError(),x.eventEmitter,x.reject,b.callback);if("boolean"==typeof this._method.payable&&!this._method.payable&&b.options.value&&b.options.value>0)return w._fireError(new Error("Can not send value to non-payable contract method or constructor"),x.eventEmitter,x.reject,b.callback);var j={receiptFormatter:function(z){if(Array.isArray(z.logs)){var P=z.logs.map(G=>l._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:l._parent.options.jsonInterface},G));z.events={};var Y=0;P.forEach(function(G){G.event?z.events[G.event]?Array.isArray(z.events[G.event])?z.events[G.event].push(G):z.events[G.event]=[z.events[G.event],G]:z.events[G.event]=G:(z.events[Y]=G,Y++)}),delete z.logs}return z},contractDeployFormatter:function(z){var P=l._parent.clone();return P.options.address=z.contractAddress,P}},N=new T({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[i.inputTransactionFormatter],requestManager:l._parent._requestManager,accounts:l.constructor._ethAccounts||l._ethAccounts,defaultAccount:l._parent.defaultAccount,defaultBlock:l._parent.defaultBlock,transactionBlockTimeout:l._parent.transactionBlockTimeout,transactionConfirmationBlocks:l._parent.transactionConfirmationBlocks,transactionPollingTimeout:l._parent.transactionPollingTimeout,transactionPollingInterval:l._parent.transactionPollingInterval,defaultCommon:l._parent.defaultCommon,defaultChain:l._parent.defaultChain,defaultHardfork:l._parent.defaultHardfork,handleRevert:l._parent.handleRevert,extraFormatters:j,abiCoder:f}).createFunction();return N(b.options,b.callback);default:throw new Error('Method "'+b.type+'" not implemented.')}},$.exports=u},96844:($,S,m)=>{"use strict";const y=m(66638),T=m(17907),M=function(s){const f="A".charCodeAt(0),u="Z".charCodeAt(0);return(s=(s=s.toUpperCase()).slice(4)+s.slice(0,4)).split("").map(function(p){const l=p.charCodeAt(0);return l>=f&&l<=u?l-f+10:p}).join("")},i=function(s){let u,f=s;for(;f.length>2;)u=f.slice(0,9),f=parseInt(u,10)%97+f.slice(u.length);return parseInt(f,10)%97};class c{constructor(f){this._iban=f}static toAddress(f){if(!(f=new c(f)).isDirect())throw new Error("IBAN is indirect and can't be converted");return f.toAddress()}static toIban(f){return c.fromAddress(f).toString()}static fromAddress(f){if(!y.isAddress(f))throw new Error("Provided address is not a valid address: "+f);f=f.replace("0x","").replace("0X","");const l=function(s,f){let u=s;for(;u.length<30;)u="0"+u;return u}(new T(f,16).toString(36));return c.fromBban(l.toUpperCase())}static fromBban(f){const l=("0"+(98-i(M("XE00"+f)))).slice(-2);return new c("XE"+l+f)}static createIndirect(f){return c.fromBban("ETH"+f.institution+f.identifier)}static isValid(f){return new c(f).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===i(M(this._iban))}isDirect(){return 34===this._iban.length||35===this._iban.length}isIndirect(){return 20===this._iban.length}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const f=this._iban.slice(4),u=new T(f,36);return y.toChecksumAddress(u.toString(16,20))}return""}toString(){return this._iban}}$.exports=c},40159:($,S,m)=>{var y=m(97958).errors,T=m(44052).XMLHttpRequest,w=m(12703),M=m(54557),i=function(s,f){this.withCredentials=(f=f||{}).withCredentials||!1,this.timeout=f.timeout||0,this.headers=f.headers,this.agent=f.agent,this.connected=!1;const u=!1!==f.keepAlive;this.host=s||"http://localhost:8545",this.agent||("https"===this.host.substring(0,5)?this.httpsAgent=new M.Agent({keepAlive:u}):this.httpAgent=new w.Agent({keepAlive:u}))};i.prototype._prepareRequest=function(){var c;if(typeof XMLHttpRequest<"u")c=new XMLHttpRequest;else{c=new T;var s={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent,baseUrl:this.baseUrl};this.agent&&(s.httpsAgent=this.agent.https,s.httpAgent=this.agent.http,s.baseUrl=this.agent.baseUrl),c.nodejsSet(s)}return c.open("POST",this.host,!0),c.setRequestHeader("Content-Type","application/json"),c.timeout=this.timeout,c.withCredentials=this.withCredentials,this.headers&&this.headers.forEach(function(f){c.setRequestHeader(f.name,f.value)}),c},i.prototype.send=function(c,s){var f=this,u=this._prepareRequest();u.onreadystatechange=function(){if(4===u.readyState&&1!==u.timeout){var p=u.responseText,l=null;try{p=JSON.parse(p)}catch{l=y.InvalidResponse(u.responseText)}f.connected=!0,s(l,p)}},u.ontimeout=function(){f.connected=!1,s(y.ConnectionTimeout(this.timeout))};try{u.send(JSON.stringify(c))}catch{this.connected=!1,s(y.InvalidConnection(this.host))}},i.prototype.disconnect=function(){},i.prototype.supportsSubscriptions=function(){return!1},$.exports=i},87388:($,S,m)=>{"use strict";var y=m(97958).errors,T=m(26744),w=function(i,c){var s=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=i,this.connected=!1,this.connection=c.connect({path:this.path}),this.addDefaultEvents();var f=function(u){var p=null;Array.isArray(u)?u.forEach(function(l){s.responseCallbacks[l.id]&&(p=l.id)}):p=u.id,p||-1===u.method.indexOf("_subscription")?s.responseCallbacks[p]&&(s.responseCallbacks[p](null,u),delete s.responseCallbacks[p]):s.notificationCallbacks.forEach(function(l){"function"==typeof l&&l(u)})};"Socket"===c.constructor.name?T(this.connection).done(f):this.connection.on("data",function(u){s._parseResponse(u.toString()).forEach(f)})};w.prototype.addDefaultEvents=function(){var M=this;this.connection.on("connect",function(){M.connected=!0}),this.connection.on("close",function(){M.connected=!1}),this.connection.on("error",function(){M._timeout()}),this.connection.on("end",function(){M._timeout()}),this.connection.on("timeout",function(){M._timeout()})},w.prototype._parseResponse=function(M){var i=this,c=[];return M.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(f){i.lastChunk&&(f=i.lastChunk+f);var u=null;try{u=JSON.parse(f)}catch{return i.lastChunk=f,clearTimeout(i.lastChunkTimeout),void(i.lastChunkTimeout=setTimeout(function(){throw i._timeout(),y.InvalidResponse(f)},15e3))}clearTimeout(i.lastChunkTimeout),i.lastChunk=null,u&&c.push(u)}),c},w.prototype._addResponseCallback=function(M,i){var c=M.id||M[0].id,s=M.method||M[0].method;this.responseCallbacks[c]=i,this.responseCallbacks[c].method=s},w.prototype._timeout=function(){for(var M in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(M)&&(this.responseCallbacks[M](y.InvalidConnection("on IPC")),delete this.responseCallbacks[M])},w.prototype.reconnect=function(){this.connection.connect({path:this.path})},w.prototype.send=function(M,i){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(M)),this._addResponseCallback(M,i)},w.prototype.on=function(M,i){if("function"!=typeof i)throw new Error("The second parameter callback must be a function.");"data"===M?this.notificationCallbacks.push(i):this.connection.on(M,i)},w.prototype.once=function(M,i){if("function"!=typeof i)throw new Error("The second parameter callback must be a function.");this.connection.once(M,i)},w.prototype.removeListener=function(M,i){var c=this;"data"===M?this.notificationCallbacks.forEach(function(s,f){s===i&&c.notificationCallbacks.splice(f,1)}):this.connection.removeListener(M,i)},w.prototype.removeAllListeners=function(M){"data"===M?this.notificationCallbacks=[]:this.connection.removeAllListeners(M)},w.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()},w.prototype.supportsSubscriptions=function(){return!0},$.exports=w},17101:($,S,m)=>{var y="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0),T=typeof navigator<"u"&&"ReactNative"===navigator.product,w=null,M=null;if(y||T){w=function(s){return Buffer.from(s).toString("base64")};var i=m(95498);if(i.URL){var c=i.URL;M=function(s){return new c(s)}}else M=m(95498).parse}else w=btoa.bind("object"==typeof globalThis?globalThis:self),M=function(s){return new URL(s)};$.exports={parseURL:M,btoa:w}},83549:($,S,m)=>{"use strict";var y=m(19659),T=m(17101),w=m(97958).errors,M=m(63413).w3cwebsocket,i=function(s,f){y.call(this),f=f||{},this.url=s,this._customTimeout=f.timeout||15e3,this.headers=f.headers||{},this.protocol=f.protocol||void 0,this.reconnectOptions=Object.assign({auto:!1,delay:5e3,maxAttempts:!1,onTimeout:!1},f.reconnect),this.clientConfig=f.clientConfig||void 0,this.requestOptions=f.requestOptions||void 0,this.DATA="data",this.CLOSE="close",this.ERROR="error",this.CONNECT="connect",this.RECONNECT="reconnect",this.connection=null,this.requestQueue=new Map,this.responseQueue=new Map,this.reconnectAttempts=0,this.reconnecting=!1;var u=T.parseURL(s);u.username&&u.password&&(this.headers.authorization="Basic "+T.btoa(u.username+":"+u.password)),u.auth&&(this.headers.authorization="Basic "+T.btoa(u.auth)),Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0}),this.connect()};(i.prototype=Object.create(y.prototype)).constructor=i,i.prototype.connect=function(){this.connection=new M(this.url,this.protocol,void 0,this.headers,this.requestOptions,this.clientConfig),this._addSocketListeners()},i.prototype._onMessage=function(c){var s=this;this._parseResponse("string"==typeof c.data?c.data:"").forEach(function(f){if(f.method&&-1!==f.method.indexOf("_subscription"))s.emit(s.DATA,f);else{var u=f.id;Array.isArray(f)&&(u=f[0].id),s.responseQueue.has(u)&&(void 0!==s.responseQueue.get(u).callback&&s.responseQueue.get(u).callback(!1,f),s.responseQueue.delete(u))}})},i.prototype._onConnect=function(){if(this.emit(this.CONNECT),this.reconnectAttempts=0,this.reconnecting=!1,this.requestQueue.size>0){var c=this;this.requestQueue.forEach(function(s,f){c.send(s.payload,s.callback),c.requestQueue.delete(f)})}},i.prototype._onClose=function(c){var s=this;!this.reconnectOptions.auto||[1e3,1001].includes(c.code)&&!1!==c.wasClean?(this.emit(this.CLOSE,c),this.requestQueue.size>0&&this.requestQueue.forEach(function(f,u){f.callback(w.ConnectionNotOpenError(c)),s.requestQueue.delete(u)}),this.responseQueue.size>0&&this.responseQueue.forEach(function(f,u){f.callback(w.InvalidConnection("on WS",c)),s.responseQueue.delete(u)}),this._removeSocketListeners(),this.removeAllListeners()):this.reconnect()},i.prototype._addSocketListeners=function(){this.connection.addEventListener("message",this._onMessage.bind(this)),this.connection.addEventListener("open",this._onConnect.bind(this)),this.connection.addEventListener("close",this._onClose.bind(this))},i.prototype._removeSocketListeners=function(){this.connection.removeEventListener("message",this._onMessage),this.connection.removeEventListener("open",this._onConnect),this.connection.removeEventListener("close",this._onClose)},i.prototype._parseResponse=function(c){var s=this,f=[];return c.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(p){s.lastChunk&&(p=s.lastChunk+p);var l=null;try{l=JSON.parse(p)}catch{return s.lastChunk=p,clearTimeout(s.lastChunkTimeout),void(s.lastChunkTimeout=setTimeout(function(){s.reconnectOptions.auto&&s.reconnectOptions.onTimeout?s.reconnect():(s.emit(s.ERROR,w.ConnectionTimeout(s._customTimeout)),s.requestQueue.size>0&&s.requestQueue.forEach(function(x,O){x.callback(w.ConnectionTimeout(s._customTimeout)),s.requestQueue.delete(O)}))},s._customTimeout))}clearTimeout(s.lastChunkTimeout),s.lastChunk=null,l&&f.push(l)}),f},i.prototype.send=function(c,s){var u=c.id,p={payload:c,callback:s};if(Array.isArray(c)&&(u=c[0].id),this.connection.readyState===this.connection.CONNECTING||this.reconnecting)this.requestQueue.set(u,p);else{if(this.connection.readyState!==this.connection.OPEN)return this.requestQueue.delete(u),this.emit(this.ERROR,w.ConnectionNotOpenError()),void p.callback(w.ConnectionNotOpenError());this.responseQueue.set(u,p),this.requestQueue.delete(u);try{this.connection.send(JSON.stringify(p.payload))}catch(l){p.callback(l),this.responseQueue.delete(u)}}},i.prototype.reset=function(){this.responseQueue.clear(),this.requestQueue.clear(),this.removeAllListeners(),this._removeSocketListeners(),this._addSocketListeners()},i.prototype.disconnect=function(c,s){this._removeSocketListeners(),this.connection.close(c||1e3,s)},i.prototype.supportsSubscriptions=function(){return!0},i.prototype.reconnect=function(){var c=this;this.reconnecting=!0,this.responseQueue.size>0&&this.responseQueue.forEach(function(s,f){s.callback(w.PendingRequestsOnReconnectingError()),c.responseQueue.delete(f)}),!this.reconnectOptions.maxAttempts||this.reconnectAttempts<this.reconnectOptions.maxAttempts?setTimeout(function(){c.reconnectAttempts++,c._removeSocketListeners(),c.emit(c.RECONNECT,c.reconnectAttempts),c.connect()},this.reconnectOptions.delay):(this.emit(this.ERROR,w.MaxAttemptsReachedOnReconnectingError()),this.reconnecting=!1,this.requestQueue.size>0&&this.requestQueue.forEach(function(s,f){s.callback(w.MaxAttemptsReachedOnReconnectingError()),c.requestQueue.delete(f)}))},$.exports=i},19659:$=>{"use strict";var S=Object.prototype.hasOwnProperty,m="~";function y(){}function T(c,s,f){this.fn=c,this.context=s,this.once=f||!1}function w(c,s,f,u,p){if("function"!=typeof f)throw new TypeError("The listener must be a function");var l=new T(f,u||c,p),b=m?m+s:s;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],l]:c._events[b].push(l):(c._events[b]=l,c._eventsCount++),c}function M(c,s){0==--c._eventsCount?c._events=new y:delete c._events[s]}function i(){this._events=new y,this._eventsCount=0}Object.create&&(y.prototype=Object.create(null),(new y).__proto__||(m=!1)),i.prototype.eventNames=function(){var f,u,s=[];if(0===this._eventsCount)return s;for(u in f=this._events)S.call(f,u)&&s.push(m?u.slice(1):u);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},i.prototype.listeners=function(s){var u=this._events[m?m+s:s];if(!u)return[];if(u.fn)return[u.fn];for(var p=0,l=u.length,b=new Array(l);p<l;p++)b[p]=u[p].fn;return b},i.prototype.listenerCount=function(s){var u=this._events[m?m+s:s];return u?u.fn?1:u.length:0},i.prototype.emit=function(s,f,u,p,l,b){var x=m?m+s:s;if(!this._events[x])return!1;var D,C,O=this._events[x],R=arguments.length;if(O.fn){switch(O.once&&this.removeListener(s,O.fn,void 0,!0),R){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,f),!0;case 3:return O.fn.call(O.context,f,u),!0;case 4:return O.fn.call(O.context,f,u,p),!0;case 5:return O.fn.call(O.context,f,u,p,l),!0;case 6:return O.fn.call(O.context,f,u,p,l,b),!0}for(C=1,D=new Array(R-1);C<R;C++)D[C-1]=arguments[C];O.fn.apply(O.context,D)}else{var j,F=O.length;for(C=0;C<F;C++)switch(O[C].once&&this.removeListener(s,O[C].fn,void 0,!0),R){case 1:O[C].fn.call(O[C].context);break;case 2:O[C].fn.call(O[C].context,f);break;case 3:O[C].fn.call(O[C].context,f,u);break;case 4:O[C].fn.call(O[C].context,f,u,p);break;default:if(!D)for(j=1,D=new Array(R-1);j<R;j++)D[j-1]=arguments[j];O[C].fn.apply(O[C].context,D)}}return!0},i.prototype.on=function(s,f,u){return w(this,s,f,u,!1)},i.prototype.once=function(s,f,u){return w(this,s,f,u,!0)},i.prototype.removeListener=function(s,f,u,p){var l=m?m+s:s;if(!this._events[l])return this;if(!f)return M(this,l),this;var b=this._events[l];if(b.fn)b.fn===f&&(!p||b.once)&&(!u||b.context===u)&&M(this,l);else{for(var x=0,O=[],R=b.length;x<R;x++)(b[x].fn!==f||p&&!b[x].once||u&&b[x].context!==u)&&O.push(b[x]);O.length?this._events[l]=1===O.length?O[0]:O:M(this,l)}return this},i.prototype.removeAllListeners=function(s){var f;return s?this._events[f=m?m+s:s]&&M(this,f):(this._events=new y,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=m,i.EventEmitter=i,$.exports=i},66638:($,S,m)=>{var y=m(20534),T=m(69301),w=m(3654),M=m(67505),i=m(17907),f=function(C,F){var j=[];return F.forEach(function(N){if("object"==typeof N.components){if("tuple"!==N.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var z="",P=N.type.indexOf("[");P>=0&&(z=N.type.substring(P));var Y=f(C,N.components);Array.isArray(Y)&&C?j.push("tuple("+Y.join(",")+")"+z):j.push(C?"("+Y+")":"("+Y.join(",")+")"+z)}else j.push(N.type)}),j},p=function(C){if(!T.isHexStrict(C))throw new Error("The parameter must be a valid HEX string.");var F="",j=0,N=C.length;for("0x"===C.substring(0,2)&&(j=2);j<N;j+=2){var z=parseInt(C.slice(j,j+2),16);F+=String.fromCharCode(z)}return F},l=function(C){if(!C)return"0x00";for(var F="",j=0;j<C.length;j++){var z=C.charCodeAt(j).toString(16);F+=z.length<2?"0"+z:z}return"0x"+F},b=function(C){if(C=C?C.toLowerCase():"ether",!y.unitMap[C])throw new Error('This unit "'+C+"\" doesn't exist, please use the one of the following units"+JSON.stringify(y.unitMap,null,2));return C};$.exports={_fireError:function(C,F,j,N,z){return!!C&&"object"==typeof C&&!(C instanceof Error)&&C.data&&((!!C.data&&"object"==typeof C.data||Array.isArray(C.data))&&(C.data=JSON.stringify(C.data,null,2)),C=C.message+"\n"+C.data),"string"==typeof C&&(C=new Error(C)),"function"==typeof N&&N(C,z),"function"==typeof j&&((F&&"function"==typeof F.listeners&&F.listeners("error").length||"function"==typeof N)&&F.catch(function(){}),setTimeout(function(){j(C)},1)),F&&"function"==typeof F.emit&&setTimeout(function(){F.emit("error",C,z),F.removeAllListeners()},1),F},_jsonInterfaceMethodToString:function(C){return C&&"object"==typeof C&&C.name&&-1!==C.name.indexOf("(")?C.name:C.name+"("+f(!1,C.inputs).join(",")+")"},_flattenTypes:f,randomHex:function(C){return"0x"+M(C).toString("hex")},BN:T.BN,isBN:T.isBN,isBigNumber:T.isBigNumber,isHex:T.isHex,isHexStrict:T.isHexStrict,sha3:T.sha3,sha3Raw:T.sha3Raw,keccak256:T.sha3,soliditySha3:w.soliditySha3,soliditySha3Raw:w.soliditySha3Raw,encodePacked:w.encodePacked,isAddress:T.isAddress,checkAddressChecksum:T.checkAddressChecksum,toChecksumAddress:function(C){if(typeof C>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(C))throw new Error('Given address "'+C+'" is not a valid Ethereum address.');C=C.toLowerCase().replace(/^0x/i,"");for(var F=T.sha3(C).replace(/^0x/i,""),j="0x",N=0;N<C.length;N++)parseInt(F[N],16)>7?j+=C[N].toUpperCase():j+=C[N];return j},toHex:T.toHex,toBN:T.toBN,bytesToHex:T.bytesToHex,hexToBytes:T.hexToBytes,hexToNumberString:T.hexToNumberString,hexToNumber:T.hexToNumber,toDecimal:T.hexToNumber,numberToHex:T.numberToHex,fromDecimal:T.numberToHex,hexToUtf8:T.hexToUtf8,hexToString:T.hexToUtf8,toUtf8:T.hexToUtf8,stripHexPrefix:T.stripHexPrefix,utf8ToHex:T.utf8ToHex,stringToHex:T.utf8ToHex,fromUtf8:T.utf8ToHex,hexToAscii:p,toAscii:p,asciiToHex:l,fromAscii:l,unitMap:y.unitMap,toWei:function(C,F){if(F=b(F),!T.isBN(C)&&"string"!=typeof C)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return T.isBN(C)?y.toWei(C,F):y.toWei(C,F).toString(10)},fromWei:function(C,F){if(F=b(F),!T.isBN(C)&&"string"!=typeof C)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return T.isBN(C)?y.fromWei(C,F):y.fromWei(C,F).toString(10)},padLeft:T.leftPad,leftPad:T.leftPad,padRight:T.rightPad,rightPad:T.rightPad,toTwosComplement:T.toTwosComplement,isBloom:T.isBloom,isUserEthereumAddressInBloom:T.isUserEthereumAddressInBloom,isContractAddressInBloom:T.isContractAddressInBloom,isTopic:T.isTopic,isTopicInBloom:T.isTopicInBloom,isInBloom:T.isInBloom,compareBlockNumbers:function(C,F){if(C==F)return 0;if(!("genesis"!=C&&"earliest"!=C&&0!=C||"genesis"!=F&&"earliest"!=F&&0!=F))return 0;if("genesis"==C||"earliest"==C)return-1;if("genesis"==F||"earliest"==F)return 1;if("latest"==C)return"pending"==F?-1:1;if("latest"===F)return"pending"==C?1:-1;if("pending"==C)return 1;if("pending"==F)return-1;{let j=new i(C),N=new i(F);return j.lt(N)?-1:j.eq(N)?0:1}},toNumber:T.toNumber}},3654:($,S,m)=>{var y=m(17907),T=m(69301),c=function(b){var x=typeof b;if("string"===x)return T.isHexStrict(b)?new y(b.replace(/0x/i,""),16):new y(b,10);if("number"===x)return new y(b);if(T.isBigNumber(b))return new y(b.toString(10));if(T.isBN(b))return b;throw new Error(b+" is not a number")},s=function(b,x,O){var R,D;if("bytes"===(b=function(b){return b.startsWith("int[")?"int256"+b.slice(3):"int"===b?"int256":b.startsWith("uint[")?"uint256"+b.slice(4):"uint"===b?"uint256":b.startsWith("fixed[")?"fixed128x128"+b.slice(5):"fixed"===b?"fixed128x128":b.startsWith("ufixed[")?"ufixed128x128"+b.slice(6):"ufixed"===b?"ufixed128x128":b}(b))){if(x.replace(/^0x/i,"").length%2!=0)throw new Error("Invalid bytes characters "+x.length);return x}if("string"===b)return T.utf8ToHex(x);if("bool"===b)return x?"01":"00";if(b.startsWith("address")){if(R=O?64:40,!T.isAddress(x))throw new Error(x+" is not a valid address, or the checksum is invalid.");return T.leftPad(x.toLowerCase(),R)}if(R=function(b){var x=/^\D+(\d+).*$/.exec(b);return x?parseInt(x[1],10):null}(b),b.startsWith("bytes")){if(!R)throw new Error("bytes[] not yet supported in solidity");if(O&&(R=32),R<1||R>32||R<x.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+R+" for "+x);return T.rightPad(x,2*R)}if(b.startsWith("uint")){if(R%8||R<8||R>256)throw new Error("Invalid uint"+R+" size");if((D=c(x)).bitLength()>R)throw new Error("Supplied uint exceeds width: "+R+" vs "+D.bitLength());if(D.lt(new y(0)))throw new Error("Supplied uint "+D.toString()+" is negative");return R?T.leftPad(D.toString("hex"),R/8*2):D}if(b.startsWith("int")){if(R%8||R<8||R>256)throw new Error("Invalid int"+R+" size");if((D=c(x)).bitLength()>R)throw new Error("Supplied int exceeds width: "+R+" vs "+D.bitLength());return D.lt(new y(0))?D.toTwos(R).toString("hex"):R?T.leftPad(D.toString("hex"),R/8*2):D}throw new Error("Unsupported or invalid type: "+b)},f=function(b){if(Array.isArray(b))throw new Error("Autodetection of array types is not supported.");var x,D,O="";if(b&&"object"==typeof b&&(b.hasOwnProperty("v")||b.hasOwnProperty("t")||b.hasOwnProperty("value")||b.hasOwnProperty("type"))?(x=b.hasOwnProperty("t")?b.t:b.type,O=b.hasOwnProperty("v")?b.v:b.value):(x=T.toHex(b,!0),O=T.toHex(b),!x.startsWith("int")&&!x.startsWith("uint")&&(x="bytes")),(x.startsWith("int")||x.startsWith("uint"))&&"string"==typeof O&&!/^(-)?0x/i.test(O)&&(O=new y(O)),Array.isArray(O)){if(D=function(b){var x=/^\D+\d*\[(\d+)\]$/.exec(b);return x?parseInt(x[1],10):null}(x),D&&O.length!==D)throw new Error(x+" is not matching the given array "+JSON.stringify(O));D=O.length}return Array.isArray(O)?O.map(function(C){return s(x,C,D).toString("hex").replace("0x","")}).join(""):s(x,O,D).toString("hex").replace("0x","")};$.exports={soliditySha3:function(){var b=Array.prototype.slice.call(arguments),x=b.map(f);return T.sha3("0x"+x.join(""))},soliditySha3Raw:function(){return T.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(f).join(""))},encodePacked:function(){var b=Array.prototype.slice.call(arguments),x=b.map(f);return"0x"+x.join("").toLowerCase()}}},69301:($,S,m)=>{var y=m(17907),T=m(76967),w=m(78210),M=m(57215),i=m(61569),c=function(n){return y.isBN(n)},s=function(n){return n&&n.constructor&&"BigNumber"===n.constructor.name},f=function(n){try{return T.apply(null,arguments)}catch(I){throw new Error(I+' Given value: "'+n+'"')}},p=function(n){return!!/^(0x)?[0-9a-f]{40}$/i.test(n)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(n)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(n))||l(n))},l=function(n){n=n.replace(/^0x/i,"");for(var I=A(n.toLowerCase()).replace(/^0x/i,""),W=0;W<40;W++)if(parseInt(I[W],16)>7&&n[W].toUpperCase()!==n[W]||parseInt(I[W],16)<=7&&n[W].toLowerCase()!==n[W])return!1;return!0},O=function(n){var I="";n=(n=(n=(n=(n=w.encode(n)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var W=0;W<n.length;W++){var Q=n.charCodeAt(W).toString(16);I+=Q.length<2?"0"+Q:Q}return"0x"+I},D=function(n){if(!n)return n;if("string"==typeof n&&!P(n))throw new Error('Given value "'+n+'" is not a valid hex string.');return f(n).toNumber()},F=function(n){if(null==n)return n;if(!isFinite(n)&&!P(n))throw new Error('Given input "'+n+'" is not a number.');var I=f(n),W=I.toString(16);return I.lt(new y(0))?"-0x"+W.slice(1):"0x"+W},z=function(n,I){if(p(n))return I?"address":"0x"+n.toLowerCase().replace(/^0x/i,"");if("boolean"==typeof n)return I?"bool":n?"0x01":"0x00";if(Buffer.isBuffer(n))return"0x"+n.toString("hex");if("object"==typeof n&&n&&!s(n)&&!c(n))return I?"string":O(JSON.stringify(n));if("string"==typeof n){if(0===n.indexOf("-0x")||0===n.indexOf("-0X"))return I?"int256":F(n);if(0===n.indexOf("0x")||0===n.indexOf("0X"))return I?"bytes":n;if(!isFinite(n))return I?"string":O(n)}return I?n<0?"int256":"uint256":F(n)},P=function(n){return("string"==typeof n||"number"==typeof n)&&/^(-)?0x[0-9a-f]*$/i.test(n)},Y=function(n){return("string"==typeof n||"number"==typeof n)&&/^(-0x|0x)?[0-9a-f]*$/i.test(n)},g="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",A=function(n){c(n)&&(n=n.toString()),P(n)&&/^0x/i.test(n.toString())?n=M.toBuffer(n):"string"==typeof n&&(n=Buffer.from(n,"utf-8"));var I=M.bufferToHex(M.keccak256(n));return I===g?null:I};A._Hash=M.keccak256;var e=function(n){if("string"==typeof n&&n.includes("0x")){const[I,W]=n.toLocaleLowerCase().startsWith("-")?["-",n.slice(3)]:["",n.slice(2)];return new y(I+W,16)}return new y(n)};Object.setPrototypeOf(e,y),Object.setPrototypeOf(e.prototype,y.prototype),$.exports={BN:e,isBN:c,isBigNumber:s,toBN:f,isAddress:p,isBloom:function(n){return i.isBloom(n)},isUserEthereumAddressInBloom:function(n,I){return i.isUserEthereumAddressInBloom(n,I)},isContractAddressInBloom:function(n,I){return i.isContractAddressInBloom(n,I)},isTopic:function(n){return i.isTopic(n)},isTopicInBloom:function(n,I){return i.isTopicInBloom(n,I)},isInBloom:function(n,I){return i.isInBloom(n,I)},checkAddressChecksum:l,utf8ToHex:O,hexToUtf8:function(n){if(!P(n))throw new Error('The parameter "'+n+'" must be a valid HEX string.');for(var I="",W=0,X=(n=(n=(n=(n=(n=n.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,Q=0;Q<X;Q+=2)W=parseInt(n.slice(Q,Q+2),16),I+=String.fromCharCode(W);return w.decode(I)},hexToNumber:D,hexToNumberString:function(n){if(!n)return n;if("string"==typeof n&&!P(n))throw new Error('Given value "'+n+'" is not a valid hex string.');return f(n).toString(10)},numberToHex:F,toHex:z,hexToBytes:function(n){if(n=n.toString(16),!P(n))throw new Error('Given value "'+n+'" is not a valid hex string.');n=n.replace(/^0x/i,"");for(var I=[],W=0;W<n.length;W+=2)I.push(parseInt(n.slice(W,W+2),16));return I},bytesToHex:function(n){for(var I=[],W=0;W<n.length;W++)I.push((n[W]>>>4).toString(16)),I.push((15&n[W]).toString(16));return"0x"+I.join("")},isHex:Y,isHexStrict:P,stripHexPrefix:function(n){return 0!==n&&Y(n)?n.replace(/^(-)?0x/i,"$1"):n},leftPad:function(n,I,W){var X=/^0x/i.test(n)||"number"==typeof n;return n=n.toString(16).replace(/^0x/i,""),(X?"0x":"")+new Array(I-n.length+1>=0?I-n.length+1:0).join(W||"0")+n},rightPad:function(n,I,W){return(/^0x/i.test(n)||"number"==typeof n?"0x":"")+(n=n.toString(16).replace(/^0x/i,""))+new Array(I-n.length+1>=0?I-n.length+1:0).join(W||"0")},toTwosComplement:function(n){return"0x"+f(n).toTwos(256).toString(16,64)},sha3:A,sha3Raw:function(n){return null===(n=A(n))?g:n},toNumber:function(n){return"number"==typeof n?n:D(z(n))}}},63413:($,S,m)=>{var y;if("object"==typeof globalThis)y=globalThis;else try{y=m(83982)}catch{}finally{if(!y&&typeof window<"u"&&(y=window),!y)throw new Error("Could not determine global this")}var T=y.WebSocket||y.MozWebSocket,w=m(38468);function M(i,c){return c?new T(i,c):new T(i)}T&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(M,i,{get:function(){return T[i]}})}),$.exports={w3cwebsocket:T?M:null,version:w}},38468:($,S,m)=>{$.exports=m(29714).version},63111:$=>{$.exports=function S(m,y){if(m&&y)return S(m)(y);if("function"!=typeof m)throw new TypeError("need wrapper function");return Object.keys(m).forEach(function(w){T[w]=m[w]}),T;function T(){for(var w=new Array(arguments.length),M=0;M<w.length;M++)w[M]=arguments[M];var i=m.apply(this,w),c=w[w.length-1];return"function"==typeof i&&i!==c&&Object.keys(c).forEach(function(s){i[s]=c[s]}),i}}},25348:()=>{},74923:()=>{},51109:()=>{},29714:$=>{"use strict";$.exports={version:"1.0.34"}}}]);