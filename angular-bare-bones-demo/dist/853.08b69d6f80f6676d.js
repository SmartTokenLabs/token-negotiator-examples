(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[853],{87853:(he,f,v)=>{"use strict";v.r(f),v.d(f,{WC_DEFAULT_RPC_MAP:()=>zl,WC_V2_DEFAULT_CHAINS:()=>Hl,getWalletConnectV2ProviderInstance:()=>$l});var E={};v.r(E),v.d(E,{identity:()=>vt});var W={};v.r(W),v.d(W,{base2:()=>bt});var q={};v.r(q),v.d(q,{base8:()=>_t});var V={};v.r(V),v.d(V,{base10:()=>Et});var N={};v.r(N),v.d(N,{base16:()=>yt,base16upper:()=>dt});var K={};v.r(K),v.d(K,{base32:()=>tt,base32hex:()=>St,base32hexpad:()=>Yt,base32hexpadupper:()=>gn,base32hexupper:()=>pn,base32pad:()=>Dt,base32padupper:()=>xt,base32upper:()=>wt,base32z:()=>yn});var T={};v.r(T),v.d(T,{base36:()=>mn,base36upper:()=>vn});var R={};v.r(R),v.d(R,{base58btc:()=>bn,base58flickr:()=>nr});var O={};v.r(O),v.d(O,{base64:()=>_n,base64pad:()=>En,base64url:()=>wn,base64urlpad:()=>Dn});var P={};v.r(P),v.d(P,{base256emoji:()=>On});var Q={};v.r(Q),v.d(Q,{sha256:()=>Ir,sha512:()=>zn});var ne={};v.r(ne),v.d(ne,{identity:()=>qr});var X={};v.r(X),v.d(X,{code:()=>$n,decode:()=>C,encode:()=>Jn,name:()=>Hn});var re={};function ae(n,e,t,r,s,a,p){try{var S=n[a](p),H=S.value}catch(Z){return void t(Z)}S.done?e(H):Promise.resolve(H).then(r,s)}function D(n){return function(){var e=this,t=arguments;return new Promise(function(r,s){var a=n.apply(e,t);function p(H){ae(a,r,s,p,S,"next",H)}function S(H){ae(a,r,s,p,S,"throw",H)}p(void 0)})}}v.r(re),v.d(re,{code:()=>ke,decode:()=>lt,encode:()=>Re,name:()=>be});var ce=v(37386),J=v.n(ce),L=v(2272),U=v.n(L),A=v(83169),F=v(40851),x=v(71268),u=v(43795);class o extends u.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class d extends u.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class y extends u.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class l extends u.q{constructor(e){super()}}class I extends u.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class M extends u.q{constructor(e,t){super(),this.core=e,this.logger=t}}function pe(n){if("string"!=typeof n)throw new Error("Cannot safe json parse value of type "+typeof n);try{return JSON.parse(n)}catch{return n}}function me(n){return"string"==typeof n?n:JSON.stringify(n)}var _e=v(52877),ee=v(7841),$=v(40145);const G="EdDSA",de="base64url",Ne="did",Ke="key",nt="base58btc";function Pe(n=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(n):new Uint8Array(n)}function we(n,e){e||(e=n.reduce((s,a)=>s+a.length,0));const t=Pe(e);let r=0;for(const s of n)t.set(s,r),r+=s.length;return t}const He=(new Uint8Array(0),n=>{if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")});class Gt{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class rr{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return qt(this,e)}}class or{constructor(e){this.decoders=e}or(e){return qt(this,e)}decode(e){const r=this.decoders[e[0]];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const qt=(n,e)=>new or({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});class Qt{constructor(e,t,r,s){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=s,this.encoder=new Gt(e,t,r),this.decoder=new rr(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const it=({name:n,prefix:e,encode:t,decode:r})=>new Qt(n,e,t,r),et=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:s}=function xe(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var s=0;s<n.length;s++){var a=n.charAt(s),p=a.charCodeAt(0);if(255!==t[p])throw new TypeError(a+" is ambiguous");t[p]=s}var S=n.length,H=n.charAt(0),Z=Math.log(S)/Math.log(256),oe=Math.log(256)/Math.log(S);function Ye(ve){if("string"!=typeof ve)throw new TypeError("Expected String");if(0===ve.length)return new Uint8Array;var Oe=0;if(" "!==ve[Oe]){for(var ot=0,qe=0;ve[Oe]===H;)ot++,Oe++;for(var at=(ve.length-Oe)*Z+1>>>0,rt=new Uint8Array(at);ve[Oe];){var Qe=t[ve.charCodeAt(Oe)];if(255===Qe)return;for(var Ze=0,ct=at-1;(0!==Qe||Ze<qe)&&-1!==ct;ct--,Ze++)rt[ct]=(Qe+=S*rt[ct]>>>0)%256>>>0,Qe=Qe/256>>>0;if(0!==Qe)throw new Error("Non-zero carry");qe=Ze,Oe++}if(" "!==ve[Oe]){for(var ze=at-qe;ze!==at&&0===rt[ze];)ze++;for(var pt=new Uint8Array(ot+(at-ze)),sr=ot;ze!==at;)pt[sr++]=rt[ze++];return pt}}}return{encode:function ge(ve){if(ve instanceof Uint8Array||(ArrayBuffer.isView(ve)?ve=new Uint8Array(ve.buffer,ve.byteOffset,ve.byteLength):Array.isArray(ve)&&(ve=Uint8Array.from(ve))),!(ve instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ve.length)return"";for(var Oe=0,ot=0,qe=0,at=ve.length;qe!==at&&0===ve[qe];)qe++,Oe++;for(var rt=(at-qe)*oe+1>>>0,Qe=new Uint8Array(rt);qe!==at;){for(var Ze=ve[qe],ct=0,ze=rt-1;(0!==Ze||ct<ot)&&-1!==ze;ze--,ct++)Qe[ze]=(Ze+=256*Qe[ze]>>>0)%S>>>0,Ze=Ze/S>>>0;if(0!==Ze)throw new Error("Non-zero carry");ot=ct,qe++}for(var pt=rt-ot;pt!==rt&&0===Qe[pt];)pt++;for(var sr=H.repeat(Oe);pt<rt;++pt)sr+=n.charAt(Qe[pt]);return sr},decodeUnsafe:Ye,decode:function ft(ve){var Oe=Ye(ve);if(Oe)return Oe;throw new Error(`Non-${e} character`)}}}(t,e);return it({prefix:n,name:e,encode:r,decode:a=>He(s(a))})},Be=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>it({prefix:e,name:n,encode:s=>((n,e,t)=>{const r="="===e[e.length-1],s=(1<<t)-1;let a="",p=0,S=0;for(let H=0;H<n.length;++H)for(S=S<<8|n[H],p+=8;p>t;)p-=t,a+=e[s&S>>p];if(p&&(a+=e[s&S<<t-p]),r)for(;a.length*t&7;)a+="=";return a})(s,r,t),decode:s=>((n,e,t,r)=>{const s={};for(let oe=0;oe<e.length;++oe)s[e[oe]]=oe;let a=n.length;for(;"="===n[a-1];)--a;const p=new Uint8Array(a*t/8|0);let S=0,H=0,Z=0;for(let oe=0;oe<a;++oe){const ge=s[n[oe]];if(void 0===ge)throw new SyntaxError(`Non-${r} character`);H=H<<t|ge,S+=t,S>=8&&(S-=8,p[Z++]=255&H>>S)}if(S>=t||255&H<<8-S)throw new SyntaxError("Unexpected end of data");return p})(s,r,t,n)}),vt=it({prefix:"\0",name:"identity",encode:n=>(n=>(new TextDecoder).decode(n))(n),decode:n=>(n=>(new TextEncoder).encode(n))(n)}),bt=Be({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),_t=Be({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Et=et({prefix:"9",name:"base10",alphabet:"0123456789"}),yt=Be({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dt=Be({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),tt=Be({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wt=Be({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Dt=Be({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xt=Be({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),St=Be({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),pn=Be({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Yt=Be({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),gn=Be({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),yn=Be({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),mn=et({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),vn=et({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),bn=et({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),nr=et({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),_n=Be({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),En=Be({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wn=Be({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Dn=Be({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Hr=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),vr=Hr.reduce((n,e,t)=>(n[t]=e,n),[]),xn=Hr.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]),On=it({prefix:"\u{1f680}",name:"base256emoji",encode:function Sn(n){return n.reduce((e,t)=>e+vr[t],"")},decode:function Zt(n){const e=[];for(const t of n){const r=xn[t.codePointAt(0)];if(void 0===r)throw new Error(`Non-base256emoji character: ${t}`);e.push(r)}return new Uint8Array(e)}});var An=Math.pow(2,31),Tn=Math.pow(2,7),Nn=Math.pow(2,14),Un=Math.pow(2,21),Ln=Math.pow(2,28),Jr=Math.pow(2,35),Fn=Math.pow(2,42),Mn=Math.pow(2,49),Vr=Math.pow(2,56),_r=Math.pow(2,63);const Xt_encode=function dr(n,e,t){e=e||[];for(var r=t=t||0;n>=An;)e[t++]=255&n|128,n/=128;for(;-128&n;)e[t++]=255&n|128,n>>>=7;return e[t]=0|n,dr.bytes=t-r+1,e},Xt_encodingLength=function(n){return n<Tn?1:n<Nn?2:n<Un?3:n<Ln?4:n<Jr?5:n<Fn?6:n<Mn?7:n<Vr?8:n<_r?9:10},Kr=(n,e,t=0)=>(Xt_encode(n,e,t),e),Wr=n=>Xt_encodingLength(n),Sr=(n,e)=>{const t=e.byteLength,r=Wr(n),s=r+Wr(t),a=new Uint8Array(s+t);return Kr(n,a,0),Kr(t,a,r),a.set(e,s),new Or(n,t,e,a)};class Or{constructor(e,t,r,s){this.code=e,this.size=t,this.digest=r,this.bytes=s}}const Gr=({name:n,code:e,encode:t})=>new Er(n,e,t);class Er{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Sr(this.code,t):t.then(r=>Sr(this.code,r))}throw Error("Unknown type, must be binary type")}}const Yr=n=>function(){var e=D(function*(t){return new Uint8Array(yield crypto.subtle.digest(n,t))});return function(t){return e.apply(this,arguments)}}(),Ir=Gr({name:"sha2-256",code:18,encode:Yr("SHA-256")}),zn=Gr({name:"sha2-512",code:19,encode:Yr("SHA-512")}),Pr=He,qr={code:0,name:"identity",encode:Pr,digest:n=>Sr(0,Pr(n))},Hn="raw",$n=85,Jn=n=>He(n),C=n=>He(n),Y=new TextEncoder,le=new TextDecoder,be="json",ke=512,Re=n=>Y.encode(JSON.stringify(n)),lt=n=>JSON.parse(le.decode(n));Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const gr={...E,...W,...q,...V,...N,...K,...T,...R,...O,...P};function xi(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const Si=xi("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>(new TextEncoder).encode(n.substring(1))),Vn=xi("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{const e=Pe((n=n.substring(1)).length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),Oi={utf8:Si,"utf-8":Si,hex:gr.base16,latin1:Vn,ascii:Vn,binary:Vn,...gr};function Bt(n,e="utf8"){const t=Oi[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.encoder.encode(n).substring(1):globalThis.Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("utf8")}function zt(n,e="utf8"){const t=Oi[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${n}`):globalThis.Buffer.from(n,"utf8")}function kr(n){return Bt(zt(me(n),"utf8"),de)}function Ii(n){const t="z"+Bt(we([zt("K36",nt),n]),nt);return[Ne,Ke,t].join(":")}function Qs(n){return Bt(n,de)}function ks(n){return zt([kr(n.header),kr(n.payload)].join("."),"utf8")}function eo(n){return[kr(n.header),kr(n.payload),Qs(n.signature)].join(".")}function Ri(n=(0,ee.randomBytes)(32)){return _e._w(n)}function Kn(){return(Kn=D(function*(n,e,t,r,s=(0,$.fromMiliseconds)(Date.now())){const a={alg:G,typ:"JWT"},H={iss:Ii(r.publicKey),sub:n,aud:e,iat:s,exp:s+t},Z=ks({header:a,payload:H});return eo({header:a,payload:H,signature:_e.Xx(r.secretKey,Z)})})).apply(this,arguments)}v(84143);var Pi=v(31118),ro=v(82584),Gn=v(59373),Ai=v(65504),Ci=function(n,e,t){if(t||2===arguments.length)for(var a,r=0,s=e.length;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))},no=function n(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},io=function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},so=function n(e,t,r,s){this.name=e,this.version=t,this.os=r,this.bot=s,this.type="bot-device"},oo=function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ao=function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},uo=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,lo=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Ni=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Li(n){var e=function Ui(n){return""!==n&&lo.reduce(function(e,t){var r=t[0];if(e)return e;var a=t[1].exec(n);return!!a&&[r,a]},!1)}(n);if(!e)return null;var t=e[0],r=e[1];if("searchbot"===t)return new oo;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<3&&(s=Ci(Ci([],s,!0),function go(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}(3-s.length),!0)):s=[];var a=s.join("."),p=function ho(n){for(var e=0,t=Ni.length;e<t;e++){var r=Ni[e],s=r[0];if(r[1].exec(n))return s}return null}(n),S=uo.exec(n);return S&&S[1]?new so(t,a,p,S[1]):new no(t,a,p)}var en=v(6179),yo=v(98064),tn=v(9805);v(43025);const mo={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function nn(n,e){return n.includes(":")?[n]:e.chains||[]}const Ht="base16",Xn="base64pad",qn="utf8";function kn(){return Bt((0,ee.randomBytes)(32),Ht)}function sn(n){return Bt((0,Gn.vp)(zt(n,qn)),Ht)}function Ar(n){return Number(Bt(n,"base10"))}function ei(n){const e=zt(n,Xn),t=e.slice(0,1);if(1===Ar(t)){const S=33,H=S+12,Z=e.slice(1,S),oe=e.slice(S,H);return{type:t,sealed:e.slice(H),iv:oe,senderPublicKey:Z}}const a=e.slice(1,13);return{type:t,sealed:e.slice(13),iv:a}}function Hi(n){const e=n?.type||0;if(1===e){if(typeof n?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof n?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:n?.senderPublicKey,receiverPublicKey:n?.receiverPublicKey}}function $i(n){return 1===n.type&&"string"==typeof n.senderPublicKey&&"string"==typeof n.receiverPublicKey}var Lo=Object.defineProperty,Ji=Object.getOwnPropertySymbols,Fo=Object.prototype.hasOwnProperty,Mo=Object.prototype.propertyIsEnumerable,Vi=(n,e,t)=>e in n?Lo(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ki=(n,e)=>{for(var t in e||(e={}))Fo.call(e,t)&&Vi(n,t,e[t]);if(Ji)for(var t of Ji(e))Mo.call(e,t)&&Vi(n,t,e[t]);return n};const zo="js";function Gi(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Go(n,e,t){const r=function Ko(){const n=function fo(n){return n?Li(n):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new ao:typeof navigator<"u"?Li(navigator.userAgent):function po(){return typeof process<"u"&&process.version?new io(process.version.slice(1)):null}()}();if(null===n)return"unknown";const e=n.os?n.os.replace(" ","").toLowerCase():"unknown";return"browser"===n.type?[e,n.name,n.version].join("-"):[e,n.version].join("-")}(),s=function Wo(){var n;const e=function Yi(){return function Ho(){return!(0,en.getDocument)()&&!!(0,en.getNavigator)()&&"ReactNative"===navigator.product}()?"react-native":Gi()?"node":function $o(){return!Gi()&&!!(0,en.getNavigator)()}()?"browser":"unknown"}();return"browser"===e?[e,(null==(n=(0,en.getLocation)())?void 0:n.host)||"unknown"].join(":"):e}();return[[n,e].join("-"),[zo,t].join("-"),r,s].join("/")}function ur(n,e){return n.filter(t=>e.includes(t)).length===n.length}function Xi(n){return Object.fromEntries(n.entries())}function qi(n){return new Map(Object.entries(n))}function mr(n=$.FIVE_MINUTES,e){const t=(0,$.toMiliseconds)(n||$.FIVE_MINUTES);let r,s,a;return{resolve:p=>{a&&r&&(clearTimeout(a),r(p))},reject:p=>{a&&s&&(clearTimeout(a),s(p))},done:()=>new Promise((p,S)=>{a=setTimeout(()=>{S(new Error(e))},t),r=p,s=S})}}function ri(n,e){return new Promise(function(){var t=D(function*(r,s){const a=setTimeout(()=>s(),e),p=yield n;clearTimeout(a),r(p)});return function(r,s){return t.apply(this,arguments)}}())}function Qi(n,e){if("string"==typeof e&&e.startsWith(`${n}:`))return e;if("topic"===n.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===n.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${n}`)}function Zi(n){const[e,t]=n.split(":"),r={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof t)r.topic=t;else{if("id"!==e||!Number.isInteger(Number(t)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);r.id=Number(t)}return r}function kt(n,e){return(0,$.fromMiliseconds)((e||Date.now())+(0,$.toMiliseconds)(n))}function lr(n){return Date.now()>=(0,$.toMiliseconds)(n)}function mt(n,e){return`${n}${e?`:${e}`:""}`}function ni(n){return n?.relay||{protocol:"irn"}}function on(n){const e=mo[n];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${n}`);return e}var ta=Object.defineProperty,ki=Object.getOwnPropertySymbols,ra=Object.prototype.hasOwnProperty,na=Object.prototype.propertyIsEnumerable,es=(n,e,t)=>e in n?ta(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;function sa(n,e="-"){const t={},r="relay"+e;return Object.keys(n).forEach(s=>{if(s.startsWith(r)){const a=s.replace(r,"");t[a]=n[s]}}),t}function Tr(n){const e=[];return n.forEach(t=>{const[r,s]=t.split(":");e.push(`${r}:${s}`)}),e}const da={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},pa={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ye(n,e){const{message:t,code:r}=pa[n];return{message:e?`${t} ${e}`:t,code:r}}function Ot(n,e){const{message:t,code:r}=da[n];return{message:e?`${t} ${e}`:t,code:r}}function Nr(n,e){return!!Array.isArray(n)&&(!(typeof e<"u"&&n.length)||n.every(e))}function Ur(n){return Object.getPrototypeOf(n)===Object.prototype&&Object.keys(n).length}function Mt(n){return typeof n>"u"}function Pt(n,e){return!(!e||!Mt(n))||"string"==typeof n&&Boolean(n.trim().length)}function ii(n,e){return!(!e||!Mt(n))||"number"==typeof n&&!isNaN(n)}function si(n){return!(!Pt(n,!1)||!n.includes(":"))&&2===n.split(":").length}function ts(n){let e=!0;return Nr(n)?n.length&&(e=n.every(t=>Pt(t,!1))):e=!1,e}function rs(n,e){let t=null;return Object.values(n).forEach(r=>{if(t)return;const s=function Sa(n,e){let t=null;return ts(n?.methods)?ts(n?.events)||(t=Ot("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Ot("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}(r,`${e}, namespace`);s&&(t=s)}),t}function an(n,e){let t=null;if(n&&Ur(n)){const r=rs(n,e);r&&(t=r);const s=function xa(n,e){let t=null;return Object.values(n).forEach(r=>{if(t)return;const s=function Da(n,e){let t=null;return Nr(n)?n.forEach(r=>{t||function ya(n){if(Pt(n,!1)&&n.includes(":")){const e=n.split(":");if(3===e.length){const t=e[0]+":"+e[1];return!!e[2]&&si(t)}}return!1}(r)||(t=Ot("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):t=Ot("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}(r?.accounts,`${e} namespace`);s&&(t=s)}),t}(n,e);s&&(t=s)}else t=ye("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function ns(n){return Pt(n.protocol,!0)}function $t(n){return typeof n<"u"&&null!==typeof n}function is(n,e){return!(!si(e)||!function ua(n){const e=[];return Object.values(n).forEach(t=>{e.push(...Tr(t.accounts))}),e}(n).includes(e))}function oi(n,e,t,r){let s=null;const a=Object.keys(n);return ur(a,Object.keys(e))?a.forEach(S=>{if(s)return;const H=Tr(e[S].accounts);ur(nn(S,n[S]),H)?ur(n[S].methods,e[S].methods)?ur(n[S].events,e[S].events)||(s=ye("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${S}`)):s=ye("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${S}`):s=ye("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace chains for ${S}`)}):s=ye("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy ${r}`),s}var Se=v(80663);class Lr extends Se.IJsonRpcProvider{constructor(e){super(e),this.events=new L.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(e=this.connection){var t=this;return D(function*(){yield t.open(e)})()}disconnect(){var e=this;return D(function*(){yield e.close()})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}request(e,t){var r=this;return D(function*(){return r.requestStrict((0,Se.formatJsonRpcRequest)(e.method,e.params||[]),t)})()}requestStrict(e,t){var r=this;return D(function*(){return new Promise(function(){var s=D(function*(a,p){if(!r.connection.connected)try{yield r.open()}catch(S){p(S)}r.events.on(`${e.id}`,S=>{(0,Se.isJsonRpcError)(S)?p(S.error):a(S.result)});try{yield r.connection.send(e,t)}catch(S){p(S)}});return function(a,p){return s.apply(this,arguments)}}())})()}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,Se.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}open(e=this.connection){var t=this;return D(function*(){t.connection===e&&t.connection.connected||(t.connection.connected&&t.close(),"string"==typeof e&&(yield t.connection.open(e),e=t.connection),t.connection=t.setConnection(e),yield t.connection.open(),t.registerEventListeners(),t.events.emit("connect"))})()}close(){var e=this;return D(function*(){yield e.connection.close()})()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}const ja=typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:v(82791);var Ha=v(60066),$a=v.n(Ha);const os=n=>{if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")};class Ya{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xa{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return as(this,e)}}class qa{constructor(e){this.decoders=e}or(e){return as(this,e)}decode(e){const r=this.decoders[e[0]];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const as=(n,e)=>new qa({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});class Qa{constructor(e,t,r,s){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=s,this.encoder=new Ya(e,t,r),this.decoder=new Xa(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const cn=({name:n,prefix:e,encode:t,decode:r})=>new Qa(n,e,t,r),Fr=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:s}=function Ja(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var s=0;s<n.length;s++){var a=n.charAt(s),p=a.charCodeAt(0);if(255!==t[p])throw new TypeError(a+" is ambiguous");t[p]=s}var S=n.length,H=n.charAt(0),Z=Math.log(S)/Math.log(256),oe=Math.log(256)/Math.log(S);function Ye(ve){if("string"!=typeof ve)throw new TypeError("Expected String");if(0===ve.length)return new Uint8Array;var Oe=0;if(" "!==ve[Oe]){for(var ot=0,qe=0;ve[Oe]===H;)ot++,Oe++;for(var at=(ve.length-Oe)*Z+1>>>0,rt=new Uint8Array(at);ve[Oe];){var Qe=t[ve.charCodeAt(Oe)];if(255===Qe)return;for(var Ze=0,ct=at-1;(0!==Qe||Ze<qe)&&-1!==ct;ct--,Ze++)rt[ct]=(Qe+=S*rt[ct]>>>0)%256>>>0,Qe=Qe/256>>>0;if(0!==Qe)throw new Error("Non-zero carry");qe=Ze,Oe++}if(" "!==ve[Oe]){for(var ze=at-qe;ze!==at&&0===rt[ze];)ze++;for(var pt=new Uint8Array(ot+(at-ze)),sr=ot;ze!==at;)pt[sr++]=rt[ze++];return pt}}}return{encode:function ge(ve){if(ve instanceof Uint8Array||(ArrayBuffer.isView(ve)?ve=new Uint8Array(ve.buffer,ve.byteOffset,ve.byteLength):Array.isArray(ve)&&(ve=Uint8Array.from(ve))),!(ve instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ve.length)return"";for(var Oe=0,ot=0,qe=0,at=ve.length;qe!==at&&0===ve[qe];)qe++,Oe++;for(var rt=(at-qe)*oe+1>>>0,Qe=new Uint8Array(rt);qe!==at;){for(var Ze=ve[qe],ct=0,ze=rt-1;(0!==Ze||ct<ot)&&-1!==ze;ze--,ct++)Qe[ze]=(Ze+=256*Qe[ze]>>>0)%S>>>0,Ze=Ze/S>>>0;if(0!==Ze)throw new Error("Non-zero carry");ot=ct,qe++}for(var pt=rt-ot;pt!==rt&&0===Qe[pt];)pt++;for(var sr=H.repeat(Oe);pt<rt;++pt)sr+=n.charAt(Qe[pt]);return sr},decodeUnsafe:Ye,decode:function ft(ve){var Oe=Ye(ve);if(Oe)return Oe;throw new Error(`Non-${e} character`)}}}(t,e);return cn({prefix:n,name:e,encode:r,decode:a=>os(s(a))})},Nt=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>cn({prefix:e,name:n,encode:s=>((n,e,t)=>{const r="="===e[e.length-1],s=(1<<t)-1;let a="",p=0,S=0;for(let H=0;H<n.length;++H)for(S=S<<8|n[H],p+=8;p>t;)p-=t,a+=e[s&S>>p];if(p&&(a+=e[s&S<<t-p]),r)for(;a.length*t&7;)a+="=";return a})(s,r,t),decode:s=>((n,e,t,r)=>{const s={};for(let oe=0;oe<e.length;++oe)s[e[oe]]=oe;let a=n.length;for(;"="===n[a-1];)--a;const p=new Uint8Array(a*t/8|0);let S=0,H=0,Z=0;for(let oe=0;oe<a;++oe){const ge=s[n[oe]];if(void 0===ge)throw new SyntaxError(`Non-${r} character`);H=H<<t|ge,S+=t,S>=8&&(S-=8,p[Z++]=255&H>>S)}if(S>=t||255&H<<8-S)throw new SyntaxError("Unexpected end of data");return p})(s,r,t,n)}),ec=cn({prefix:"\0",name:"identity",encode:n=>(n=>(new TextDecoder).decode(n))(n),decode:n=>(n=>(new TextEncoder).encode(n))(n)});var tc=Object.freeze({__proto__:null,identity:ec});const rc=Nt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var nc=Object.freeze({__proto__:null,base2:rc});const ic=Nt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var sc=Object.freeze({__proto__:null,base8:ic});const oc=Fr({prefix:"9",name:"base10",alphabet:"0123456789"});var ac=Object.freeze({__proto__:null,base10:oc});const cc=Nt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uc=Nt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var lc=Object.freeze({__proto__:null,base16:cc,base16upper:uc});const fc=Nt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),hc=Nt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),dc=Nt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pc=Nt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),gc=Nt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yc=Nt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),mc=Nt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vc=Nt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bc=Nt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var _c=Object.freeze({__proto__:null,base32:fc,base32upper:hc,base32pad:dc,base32padupper:pc,base32hex:gc,base32hexupper:yc,base32hexpad:mc,base32hexpadupper:vc,base32z:bc});const Ec=Fr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wc=Fr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Dc=Object.freeze({__proto__:null,base36:Ec,base36upper:wc});const xc=Fr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sc=Fr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Oc=Object.freeze({__proto__:null,base58btc:xc,base58flickr:Sc});const Ic=Nt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rc=Nt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Pc=Nt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ac=Nt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Cc=Object.freeze({__proto__:null,base64:Ic,base64pad:Rc,base64url:Pc,base64urlpad:Ac});const cs=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Tc=cs.reduce((n,e,t)=>(n[t]=e,n),[]),Nc=cs.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]),Fc=cn({prefix:"\u{1f680}",name:"base256emoji",encode:function Uc(n){return n.reduce((e,t)=>e+Tc[t],"")},decode:function Lc(n){const e=[];for(const t of n){const r=Nc[t.codePointAt(0)];if(void 0===r)throw new Error(`Non-base256emoji character: ${t}`);e.push(r)}return new Uint8Array(e)}});var Mc=Object.freeze({__proto__:null,base256emoji:Fc}),Hc=Math.pow(2,31),Vc=Math.pow(2,7),Kc=Math.pow(2,14),Wc=Math.pow(2,21),Gc=Math.pow(2,28),Yc=Math.pow(2,35),Xc=Math.pow(2,42),qc=Math.pow(2,49),Qc=Math.pow(2,56),Zc=Math.pow(2,63),hs_encode=function ls(n,e,t){e=e||[];for(var r=t=t||0;n>=Hc;)e[t++]=255&n|128,n/=128;for(;-128&n;)e[t++]=255&n|128,n>>>=7;return e[t]=0|n,ls.bytes=t-r+1,e},hs_encodingLength=function(n){return n<Vc?1:n<Kc?2:n<Wc?3:n<Gc?4:n<Yc?5:n<Xc?6:n<qc?7:n<Qc?8:n<Zc?9:10};const ds=(n,e,t=0)=>(hs_encode(n,e,t),e),ps=n=>hs_encodingLength(n),ci=(n,e)=>{const t=e.byteLength,r=ps(n),s=r+ps(t),a=new Uint8Array(s+t);return ds(n,a,0),ds(t,a,r),a.set(e,s),new tu(n,t,e,a)};class tu{constructor(e,t,r,s){this.code=e,this.size=t,this.digest=r,this.bytes=s}}const gs=({name:n,code:e,encode:t})=>new ru(n,e,t);class ru{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ci(this.code,t):t.then(r=>ci(this.code,r))}throw Error("Unknown type, must be binary type")}}const ys=n=>function(){var e=D(function*(t){return new Uint8Array(yield crypto.subtle.digest(n,t))});return function(t){return e.apply(this,arguments)}}(),nu=gs({name:"sha2-256",code:18,encode:ys("SHA-256")}),iu=gs({name:"sha2-512",code:19,encode:ys("SHA-512")});Object.freeze({__proto__:null,sha256:nu,sha512:iu});const vs=os;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:vs,digest:n=>ci(0,vs(n))}}),new TextEncoder,new TextDecoder;const bs={...tc,...nc,...sc,...ac,...lc,..._c,...Dc,...Oc,...Cc,...Mc};function _s(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const Es=_s("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>(new TextEncoder).encode(n.substring(1))),ui=_s("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{const e=function cu(n=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(n):new Uint8Array(n)}((n=n.substring(1)).length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),uu={utf8:Es,"utf-8":Es,hex:bs.base16,latin1:ui,ascii:ui,binary:ui,...bs},fr="wc@2:core:",du={database:":memory:"},Ds="client_ed25519_seed",gu=$.ONE_DAY,_u=$.SIX_HOURS,Ss="wss://relay.walletconnect.com",Os=$.ONE_SECOND,er_created="subscription_created",er_deleted="subscription_deleted",Pu=1e3*$.FIVE_SECONDS,Mr={wc_pairingDelete:{req:{ttl:$.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:$.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:$.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:$.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:$.ONE_DAY,prompt:!1,tag:0},res:{ttl:$.ONE_DAY,prompt:!1,tag:0}}},Kt_expired="expirer_expired";class Fu{constructor(e,t){var r=this;this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=fr,this.init=D(function*(){if(!r.initialized){const s=yield r.getKeyChain();typeof s<"u"&&(r.keychain=s),r.initialized=!0}}),this.has=s=>(this.isInitialized(),this.keychain.has(s)),this.set=function(){var s=D(function*(a,p){r.isInitialized(),r.keychain.set(a,p),yield r.persist()});return function(a,p){return s.apply(this,arguments)}}(),this.get=s=>{this.isInitialized();const a=this.keychain.get(s);if(typeof a>"u"){const{message:p}=ye("NO_MATCHING_KEY",`${this.name}: ${s}`);throw new Error(p)}return a},this.del=function(){var s=D(function*(a){r.isInitialized(),r.keychain.delete(a),yield r.persist()});return function(a){return s.apply(this,arguments)}}(),this.core=e,this.logger=(0,x.generateChildLogger)(t,this.name)}get context(){return(0,x.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setKeyChain(e){var t=this;return D(function*(){yield t.core.storage.setItem(t.storageKey,Xi(e))})()}getKeyChain(){var e=this;return D(function*(){const t=yield e.core.storage.getItem(e.storageKey);return typeof t<"u"?qi(t):void 0})()}persist(){var e=this;return D(function*(){yield e.setKeyChain(e.keychain)})()}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Mu{constructor(e,t,r){var s=this;this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=D(function*(){s.initialized||(yield s.keychain.init(),s.initialized=!0)}),this.hasKeys=a=>(this.isInitialized(),this.keychain.has(a)),this.getClientId=D(function*(){return s.isInitialized(),Ii(Ri(yield s.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const a=function Io(){const n=Ai.Au();return{privateKey:Bt(n.secretKey,Ht),publicKey:Bt(n.publicKey,Ht)}}();return this.setPrivateKey(a.publicKey,a.privateKey)},this.signJWT=function(){var a=D(function*(p){s.isInitialized();const H=Ri(yield s.getClientSeed()),Z=kn();return yield function to(n,e,t,r){return Kn.apply(this,arguments)}(Z,p,gu,H)});return function(p){return a.apply(this,arguments)}}(),this.generateSharedKey=(a,p,S)=>{this.isInitialized();const Z=function Ro(n,e){const t=Ai.gi(zt(n,Ht),zt(e,Ht));return Bt(new ro.t(Gn.mE,t).expand(32),Ht)}(this.getPrivateKey(a),p);return this.setSymKey(Z,S)},this.setSymKey=function(){var a=D(function*(p,S){s.isInitialized();const H=S||function Po(n){return Bt((0,Gn.vp)(zt(n,Ht)),Ht)}(p);return yield s.keychain.set(H,p),H});return function(p,S){return a.apply(this,arguments)}}(),this.deleteKeyPair=function(){var a=D(function*(p){s.isInitialized(),yield s.keychain.del(p)});return function(p){return a.apply(this,arguments)}}(),this.deleteSymKey=function(){var a=D(function*(p){s.isInitialized(),yield s.keychain.del(p)});return function(p){return a.apply(this,arguments)}}(),this.encode=function(){var a=D(function*(p,S,H){s.isInitialized();const Z=Hi(H),oe=me(S);if($i(Z)){const ve=Z.senderPublicKey,Oe=Z.receiverPublicKey;p=yield s.generateSharedKey(ve,Oe)}const ge=s.getSymKey(p),{type:Ye,senderPublicKey:ft}=Z;return function Co(n){const e=function Ao(n){return zt(`${n}`,"base10")}(typeof n.type<"u"?n.type:0);if(1===Ar(e)&&typeof n.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof n.senderPublicKey<"u"?zt(n.senderPublicKey,Ht):void 0,r=typeof n.iv<"u"?zt(n.iv,Ht):(0,ee.randomBytes)(12);return function No(n){if(1===Ar(n.type)){if(typeof n.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Bt(we([n.type,n.senderPublicKey,n.iv,n.sealed]),Xn)}return Bt(we([n.type,n.iv,n.sealed]),Xn)}({type:e,sealed:new Pi.OK(zt(n.symKey,Ht)).seal(r,zt(n.message,qn)),iv:r,senderPublicKey:t})}({type:Ye,symKey:ge,message:oe,senderPublicKey:ft})});return function(p,S,H){return a.apply(this,arguments)}}(),this.decode=function(){var a=D(function*(p,S,H){s.isInitialized();const Z=function Uo(n,e){const t=ei(n);return Hi({type:Ar(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Bt(t.senderPublicKey,Ht):void 0,receiverPublicKey:e?.receiverPublicKey})}(S,H);if($i(Z)){const Ye=Z.receiverPublicKey,ft=Z.senderPublicKey;p=yield s.generateSharedKey(Ye,ft)}const ge=function To(n){const e=new Pi.OK(zt(n.symKey,Ht)),{sealed:t,iv:r}=ei(n.encoded),s=e.open(r,t);if(null===s)throw new Error("Failed to decrypt");return Bt(s,qn)}({symKey:s.getSymKey(p),encoded:S});return pe(ge)});return function(p,S,H){return a.apply(this,arguments)}}(),this.core=e,this.logger=(0,x.generateChildLogger)(t,this.name),this.keychain=r||new Fu(this.core,this.logger)}get context(){return(0,x.getLoggerContext)(this.logger)}getPayloadType(e){return Ar(ei(e).type)}setPrivateKey(e,t){var r=this;return D(function*(){return yield r.keychain.set(e,t),e})()}getPrivateKey(e){return this.keychain.get(e)}getClientSeed(){var e=this;return D(function*(){let t="";try{t=e.keychain.get(Ds)}catch{t=kn(),yield e.keychain.set(Ds,t)}return function lu(n,e="utf8"){const t=uu[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${n}`):globalThis.Buffer.from(n,"utf8")}(t,"base16")})()}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}class ju extends class _{constructor(e,t){this.logger=e,this.core=t}}{constructor(e,t){var r;super(e,t),r=this,this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=fr,this.init=D(function*(){if(!r.initialized){r.logger.trace("Initialized");try{const s=yield r.getRelayerMessages();typeof s<"u"&&(r.messages=s),r.logger.debug(`Successfully Restored records for ${r.name}`),r.logger.trace({type:"method",method:"restore",size:r.messages.size})}catch(s){r.logger.debug(`Failed to Restore records for ${r.name}`),r.logger.error(s)}finally{r.initialized=!0}}}),this.set=function(){var s=D(function*(a,p){r.isInitialized();const S=sn(p);let H=r.messages.get(a);return typeof H>"u"&&(H={}),typeof H[S]<"u"||(H[S]=p,r.messages.set(a,H),yield r.persist()),S});return function(a,p){return s.apply(this,arguments)}}(),this.get=s=>{this.isInitialized();let a=this.messages.get(s);return typeof a>"u"&&(a={}),a},this.has=(s,a)=>(this.isInitialized(),typeof this.get(s)[sn(a)]<"u"),this.del=function(){var s=D(function*(a){r.isInitialized(),r.messages.delete(a),yield r.persist()});return function(a){return s.apply(this,arguments)}}(),this.logger=(0,x.generateChildLogger)(e,this.name),this.core=t}get context(){return(0,x.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setRelayerMessages(e){var t=this;return D(function*(){yield t.core.storage.setItem(t.storageKey,Xi(e))})()}getRelayerMessages(){var e=this;return D(function*(){const t=yield e.core.storage.getItem(e.storageKey);return typeof t<"u"?qi(t):void 0})()}persist(){var e=this;return D(function*(){yield e.setRelayerMessages(e.messages)})()}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Bu extends y{constructor(e,t){var r;super(e,t),r=this,this.relayer=e,this.logger=t,this.events=new L.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=1e4,this.publish=function(){var s=D(function*(a,p,S){r.logger.debug("Publishing Payload"),r.logger.trace({type:"method",method:"publish",params:{topic:a,message:p,opts:S}});try{const H=S?.ttl||_u,Z=ni(S),oe=S?.prompt||!1,ge=S?.tag||0,Ye={topic:a,message:p,opts:{ttl:H,relay:Z,prompt:oe,tag:ge}},ft=sn(p);r.queue.set(ft,Ye);try{yield yield ri(r.rpcPublish(a,p,H,Z,oe,ge),r.publishTimeout),r.relayer.events.emit("relayer_publish",Ye)}catch{return r.logger.debug("Publishing Payload stalled"),void r.relayer.events.emit("relayer_connection_stalled")}r.onPublish(ft,Ye),r.logger.debug("Successfully Published Payload"),r.logger.trace({type:"method",method:"publish",params:{topic:a,message:p,opts:S}})}catch(H){throw r.logger.debug("Failed to Publish Payload"),r.logger.error(H),H}});return function(a,p,S){return s.apply(this,arguments)}}(),this.on=(s,a)=>{this.events.on(s,a)},this.once=(s,a)=>{this.events.once(s,a)},this.off=(s,a)=>{this.events.off(s,a)},this.removeListener=(s,a)=>{this.events.removeListener(s,a)},this.relayer=e,this.logger=(0,x.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,x.getLoggerContext)(this.logger)}rpcPublish(e,t,r,s,a,p){var S,H,Z,oe;const ge={method:on(s.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:a,tag:p}};return Mt(null==(S=ge.params)?void 0:S.prompt)&&(null==(H=ge.params)||delete H.prompt),Mt(null==(Z=ge.params)?void 0:Z.tag)&&(null==(oe=ge.params)||delete oe.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:ge}),this.relayer.provider.request(ge)}onPublish(e,t){this.queue.delete(e)}checkQueue(){var e=this;this.queue.forEach(function(){var t=D(function*(r){const{topic:s,message:a,opts:p}=r;yield e.publish(s,a,p)});return function(r){return t.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(F.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}}class zu{constructor(){this.map=new Map,this.set=(e,t)=>{const r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,t))return;const s=r.filter(a=>a!==t);s.length?this.map.set(e,s):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Hu=Object.defineProperty,$u=Object.defineProperties,Ju=Object.getOwnPropertyDescriptors,Is=Object.getOwnPropertySymbols,Vu=Object.prototype.hasOwnProperty,Ku=Object.prototype.propertyIsEnumerable,Rs=(n,e,t)=>e in n?Hu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jr=(n,e)=>{for(var t in e||(e={}))Vu.call(e,t)&&Rs(n,t,e[t]);if(Is)for(var t of Is(e))Ku.call(e,t)&&Rs(n,t,e[t]);return n},fi=(n,e)=>$u(n,Ju(e));class Wu extends I{constructor(e,t){var r;super(e,t),r=this,this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new zu,this.events=new L.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=fr,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=D(function*(){r.initialized||(r.logger.trace("Initialized"),yield r.restart(),r.registerEventListeners(),r.onEnable(),r.clientId=yield r.relayer.core.crypto.getClientId())}),this.subscribe=function(){var s=D(function*(a,p){yield r.restartToComplete(),r.isInitialized(),r.logger.debug("Subscribing Topic"),r.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:p}});try{const S=ni(p),H={topic:a,relay:S};r.pending.set(a,H);const Z=yield r.rpcSubscribe(a,S);return r.onSubscribe(Z,H),r.logger.debug("Successfully Subscribed Topic"),r.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:p}}),Z}catch(S){throw r.logger.debug("Failed to Subscribe Topic"),r.logger.error(S),S}});return function(a,p){return s.apply(this,arguments)}}(),this.unsubscribe=function(){var s=D(function*(a,p){yield r.restartToComplete(),r.isInitialized(),typeof p?.id<"u"?yield r.unsubscribeById(a,p.id,p):yield r.unsubscribeByTopic(a,p)});return function(a,p){return s.apply(this,arguments)}}(),this.isSubscribed=function(){var s=D(function*(a){return!!r.topics.includes(a)||(yield new Promise((p,S)=>{const H=new $.Watch;H.start(r.pendingSubscriptionWatchLabel);const Z=setInterval(()=>{!r.pending.has(a)&&r.topics.includes(a)&&(clearInterval(Z),H.stop(r.pendingSubscriptionWatchLabel),p(!0)),H.elapsed(r.pendingSubscriptionWatchLabel)>=Pu&&(clearInterval(Z),H.stop(r.pendingSubscriptionWatchLabel),S(!1))},r.pollingInterval)}))});return function(a){return s.apply(this,arguments)}}(),this.on=(s,a)=>{this.events.on(s,a)},this.once=(s,a)=>{this.events.once(s,a)},this.off=(s,a)=>{this.events.off(s,a)},this.removeListener=(s,a)=>{this.events.removeListener(s,a)},this.restart=D(function*(){r.restartInProgress=!0,yield r.restore(),yield r.reset(),r.restartInProgress=!1}),this.relayer=e,this.logger=(0,x.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,x.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}unsubscribeByTopic(e,t){var r=this;return D(function*(){const s=r.topicMap.get(e);yield Promise.all(s.map(function(){var a=D(function*(p){return yield r.unsubscribeById(e,p,t)});return function(p){return a.apply(this,arguments)}}()))})()}unsubscribeById(e,t,r){var s=this;return D(function*(){s.logger.debug("Unsubscribing Topic"),s.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{const a=ni(r);yield s.rpcUnsubscribe(e,t,a);const p=Ot("USER_DISCONNECTED",`${s.name}, ${e}`);yield s.onUnsubscribe(e,t,p),s.logger.debug("Successfully Unsubscribed Topic"),s.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(a){throw s.logger.debug("Failed to Unsubscribe Topic"),s.logger.error(a),a}})()}rpcSubscribe(e,t){var r=this;return D(function*(){const s={method:on(t.protocol).subscribe,params:{topic:e}};r.logger.debug("Outgoing Relay Payload"),r.logger.trace({type:"payload",direction:"outgoing",request:s});try{yield yield ri(r.relayer.provider.request(s),r.subscribeTimeout)}catch{r.logger.debug("Outgoing Relay Payload stalled"),r.relayer.events.emit("relayer_connection_stalled")}return sn(e+r.clientId)})()}rpcBatchSubscribe(e){var t=this;return D(function*(){if(!e.length)return;const s={method:on(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(a=>a.topic)}};t.logger.debug("Outgoing Relay Payload"),t.logger.trace({type:"payload",direction:"outgoing",request:s});try{return yield yield ri(t.relayer.provider.request(s),t.subscribeTimeout)}catch{t.logger.debug("Outgoing Relay Payload stalled"),t.relayer.events.emit("relayer_connection_stalled")}})()}rpcUnsubscribe(e,t,r){const s={method:on(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.provider.request(s)}onSubscribe(e,t){this.setSubscription(e,fi(jr({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,jr({},t)),this.pending.delete(t.topic)})}onUnsubscribe(e,t,r){var s=this;return D(function*(){s.events.removeAllListeners(t),s.hasSubscription(t,e)&&s.deleteSubscription(t,r),yield s.relayer.messages.del(e)})()}setRelayerSubscriptions(e){var t=this;return D(function*(){yield t.relayer.core.storage.setItem(t.storageKey,e)})()}getRelayerSubscriptions(){var e=this;return D(function*(){return yield e.relayer.core.storage.getItem(e.storageKey)})()}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,jr({},t)),this.topicMap.set(t.topic,e),this.events.emit(er_created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(er_deleted,fi(jr({},r),{reason:t}))}persist(){var e=this;return D(function*(){yield e.setRelayerSubscriptions(e.values),e.events.emit("subscription_sync")})()}reset(){var e=this;return D(function*(){if(!e.cached.length)return;const t=Math.ceil(e.cached.length/e.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const s=e.cached.splice(0,e.batchSubscribeTopicsLimit);yield e.batchSubscribe(s)}e.events.emit("subscription_resubscribed")})()}restore(){var e=this;return D(function*(){try{const t=yield e.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(e.subscriptions.size){const{message:r}=ye("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(r),e.logger.error(`${e.name}: ${JSON.stringify(e.values)}`),new Error(r)}e.cached=t,e.logger.debug(`Successfully Restored subscriptions for ${e.name}`),e.logger.trace({type:"method",method:"restore",subscriptions:e.values})}catch(t){e.logger.debug(`Failed to Restore subscriptions for ${e.name}`),e.logger.error(t)}})()}batchSubscribe(e){var t=this;return D(function*(){if(!e.length)return;const r=yield t.rpcBatchSubscribe(e);t.onBatchSubscribe(r.map((s,a)=>fi(jr({},e[a]),{id:s})))})()}onConnect(){var e=this;return D(function*(){e.restartInProgress||(yield e.restart(),e.onEnable())})()}onDisconnect(){this.onDisable()}checkPending(){var e=this;return D(function*(){if(e.relayer.transportExplicitlyClosed)return;const t=[];e.pending.forEach(r=>{t.push(r)}),yield e.batchSubscribe(t)})()}registerEventListeners(){var e=this;this.relayer.core.heartbeat.on(F.HEARTBEAT_EVENTS.pulse,D(function*(){yield e.checkPending()})),this.relayer.on("relayer_connect",D(function*(){yield e.onConnect()})),this.relayer.on("relayer_disconnect",()=>{this.onDisconnect()}),this.events.on(er_created,function(){var t=D(function*(r){const s=er_created;e.logger.info(`Emitting ${s}`),e.logger.debug({type:"event",event:s,data:r}),yield e.persist()});return function(r){return t.apply(this,arguments)}}()),this.events.on(er_deleted,function(){var t=D(function*(r){const s=er_deleted;e.logger.info(`Emitting ${s}`),e.logger.debug({type:"event",event:s,data:r}),yield e.persist()});return function(r){return t.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}restartToComplete(){var e=this;return D(function*(){e.restartInProgress&&(yield new Promise(t=>{const r=setInterval(()=>{e.restartInProgress||(clearInterval(r),t())},e.pollingInterval)}))})()}}var Gu=Object.defineProperty,Ps=Object.getOwnPropertySymbols,Yu=Object.prototype.hasOwnProperty,Xu=Object.prototype.propertyIsEnumerable,As=(n,e,t)=>e in n?Gu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class Qu extends l{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new L.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?(0,x.generateChildLogger)(e.logger,this.name):J()((0,x.getDefaultLoggerOptions)({level:e.logger||"error"})),this.messages=new ju(this.logger,e.core),this.subscriber=new Wu(this,this.logger),this.publisher=new Bu(this,this.logger),this.relayUrl=e?.relayUrl||Ss,this.projectId=e.projectId,this.provider={}}init(){var e=this;return D(function*(){e.logger.trace("Initialized"),e.provider=yield e.createProvider(),yield Promise.all([e.messages.init(),e.transportOpen(),e.subscriber.init()]),e.registerEventListeners(),e.initialized=!0})()}get context(){return(0,x.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}publish(e,t,r){var s=this;return D(function*(){s.isInitialized(),yield s.publisher.publish(e,t,r),yield s.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})})()}subscribe(e,t){var r=this;return D(function*(){r.isInitialized();let s="";return yield Promise.all([new Promise(a=>{r.subscriber.once(er_created,p=>{p.topic===e&&a()})}),new Promise(function(){var a=D(function*(p){s=yield r.subscriber.subscribe(e,t),p()});return function(p){return a.apply(this,arguments)}}())]),s})()}unsubscribe(e,t){var r=this;return D(function*(){r.isInitialized(),yield r.subscriber.unsubscribe(e,t)})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}transportClose(){var e=this;return D(function*(){e.transportExplicitlyClosed=!0,e.connected&&(yield e.provider.disconnect(),e.events.emit("relayer_transport_closed"))})()}transportOpen(e){var t=this;return D(function*(){if(!t.reconnecting){t.relayUrl=e||t.relayUrl,t.transportExplicitlyClosed=!1,t.reconnecting=!0;try{yield Promise.all([new Promise(r=>{t.initialized||r(),t.subscriber.once("subscription_resubscribed",()=>{r()})}),yield Promise.race([new Promise(function(){var r=D(function*(s){yield t.provider.connect(),t.removeListener("relayer_transport_closed",t.rejectTransportOpen),s()});return function(s){return r.apply(this,arguments)}}()),new Promise(r=>t.once("relayer_transport_closed",t.rejectTransportOpen))])])}catch(r){if(!/socket hang up/i.test(r.message))throw r;t.logger.error(r),t.events.emit("relayer_transport_closed")}finally{t.reconnecting=!1}}})()}restartTransport(e){var t=this;return D(function*(){t.transportExplicitlyClosed||(yield t.transportClose(),yield new Promise(r=>setTimeout(r,Os)),yield t.transportOpen(e))})()}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}createProvider(){var e=this;return D(function*(){const t=yield e.core.crypto.signJWT(e.relayUrl);return new Lr(new class Ba{constructor(e){if(this.url=e,this.events=new L.EventEmitter,this.registering=!1,!(0,Se.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(e=this.url){var t=this;return D(function*(){yield t.register(e)})()}close(){var e=this;return D(function*(){return new Promise((t,r)=>{typeof e.socket>"u"?r(new Error("Connection already closed")):(e.socket.onclose=()=>{e.onClose(),t()},e.socket.close())})})()}send(e,t){var r=this;return D(function*(){typeof r.socket>"u"&&(r.socket=yield r.register());try{r.socket.send(me(e))}catch(s){r.onError(e.id,s)}})()}register(e=this.url){if(!(0,Se.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((r,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const s=(0,Se.isReactNative)()?void 0:{rejectUnauthorized:!(0,Se.isLocalhostUrl)(e)},a=new ja(e,[],s);typeof window<"u"?a.onerror=p=>{r(this.emitError(p.error))}:a.on("error",p=>{r(this.emitError(p))}),a.onopen=()=>{this.onOpen(a),t(a)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=()=>this.onClose(),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?pe(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),s=r.message||r.toString(),a=(0,Se.formatJsonRpcError)(e,s);this.events.emit("payload",a)}parseError(e,t=this.url){return(0,Se.parseConnectionError)(e,t,"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null==e?void 0:e.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",t),t}}(function Yo({protocol:n,version:e,relayUrl:t,sdkVersion:r,auth:s,projectId:a}){const p=t.split("?"),S=Go(n,e,r),Z=function Jo(n,e){let t=tn.parse(n);return t=Ki(Ki({},t),e),tn.stringify(t)}(p[1]||"",{auth:s,ua:S,projectId:a});return p[0]+"?"+Z}({sdkVersion:"2.4.6",protocol:e.protocol,version:e.version,relayUrl:e.relayUrl,projectId:e.projectId,auth:t})))})()}recordMessageEvent(e){var t=this;return D(function*(){const{topic:r,message:s}=e;yield t.messages.set(r,s)})()}shouldIgnoreMessageEvent(e){var t=this;return D(function*(){const{topic:r,message:s}=e;return!(yield t.subscriber.isSubscribed(r))||t.messages.has(r,s)})()}onProviderPayload(e){var t=this;return D(function*(){if(t.logger.debug("Incoming Relay Payload"),t.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,Se.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;const r=e.params,{topic:s,message:a,publishedAt:p}=r.data,S={topic:s,message:a,publishedAt:p};t.logger.debug("Emitting Relayer Payload"),t.logger.trace(((n,e)=>{for(var t in e||(e={}))Yu.call(e,t)&&As(n,t,e[t]);if(Ps)for(var t of Ps(e))Xu.call(e,t)&&As(n,t,e[t]);return n})({type:"event",event:r.id},S)),t.events.emit(r.id,S),yield t.acknowledgePayload(e),yield t.onMessageEvent(S)}})()}onMessageEvent(e){var t=this;return D(function*(){(yield t.shouldIgnoreMessageEvent(e))||(t.events.emit("relayer_message",e),yield t.recordMessageEvent(e))})()}acknowledgePayload(e){var t=this;return D(function*(){const r=(0,Se.formatJsonRpcResult)(e.id,!0);yield t.provider.connection.send(r)})()}registerEventListeners(){var e=this;this.provider.on("payload",t=>this.onProviderPayload(t)),this.provider.on("connect",()=>{this.events.emit("relayer_connect")}),this.provider.on("disconnect",()=>{this.events.emit("relayer_disconnect"),this.attemptToReconnect()}),this.provider.on("error",t=>this.events.emit("relayer_error",t)),this.events.on("relayer_connection_stalled",D(function*(){yield e.restartTransport()}))}attemptToReconnect(){var e=this;this.transportExplicitlyClosed||setTimeout(D(function*(){yield e.transportOpen()}),(0,$.toMiliseconds)(Os))}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Zu=Object.defineProperty,Cs=Object.getOwnPropertySymbols,ku=Object.prototype.hasOwnProperty,el=Object.prototype.propertyIsEnumerable,Ts=(n,e,t)=>e in n?Zu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ns=(n,e)=>{for(var t in e||(e={}))ku.call(e,t)&&Ts(n,t,e[t]);if(Cs)for(var t of Cs(e))el.call(e,t)&&Ts(n,t,e[t]);return n};class ln extends class b{constructor(e,t,r,s){this.core=e,this.logger=t,this.name=r}}{constructor(e,t,r,s=fr,a){var p;super(e,t,r,s),p=this,this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=fr,this.init=D(function*(){p.initialized||(p.logger.trace("Initialized"),yield p.restore(),p.cached.forEach(S=>{!function va(n){var e;return null==(e=n?.proposer)?void 0:e.publicKey}(S)?function ba(n){return n?.topic}(S)?p.map.set(S.topic,S):p.getKey&&null!==S&&!Mt(S)&&p.map.set(p.getKey(S),S):p.map.set(S.id,S)}),p.cached=[],p.initialized=!0)}),this.set=function(){var S=D(function*(H,Z){p.isInitialized(),p.map.has(H)?yield p.update(H,Z):(p.logger.debug("Setting value"),p.logger.trace({type:"method",method:"set",key:H,value:Z}),p.map.set(H,Z),yield p.persist())});return function(H,Z){return S.apply(this,arguments)}}(),this.get=S=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:S}),this.getData(S)),this.getAll=S=>(this.isInitialized(),S?this.values.filter(H=>Object.keys(S).every(Z=>$a()(H[Z],S[Z]))):this.values),this.update=function(){var S=D(function*(H,Z){p.isInitialized(),p.logger.debug("Updating value"),p.logger.trace({type:"method",method:"update",key:H,update:Z});const oe=Ns(Ns({},p.getData(H)),Z);p.map.set(H,oe),yield p.persist()});return function(H,Z){return S.apply(this,arguments)}}(),this.delete=function(){var S=D(function*(H,Z){p.isInitialized(),p.map.has(H)&&(p.logger.debug("Deleting value"),p.logger.trace({type:"method",method:"delete",key:H,reason:Z}),p.map.delete(H),yield p.persist())});return function(H,Z){return S.apply(this,arguments)}}(),this.logger=(0,x.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=a}get context(){return(0,x.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}setDataStore(e){var t=this;return D(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getDataStore(){var e=this;return D(function*(){return yield e.core.storage.getItem(e.storageKey)})()}getData(e){const t=this.map.get(e);if(!t){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return t}persist(){var e=this;return D(function*(){yield e.setDataStore(e.values)})()}restore(){var e=this;return D(function*(){try{const t=yield e.getDataStore();if(typeof t>"u"||!t.length)return;if(e.map.size){const{message:r}=ye("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(r),new Error(r)}e.cached=t,e.logger.debug(`Successfully Restored value for ${e.name}`),e.logger.trace({type:"method",method:"restore",value:e.values})}catch(t){e.logger.debug(`Failed to Restore value for ${e.name}`),e.logger.error(t)}})()}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}class tl{constructor(e,t){var r=this;this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(U()),this.initialized=!1,this.storagePrefix=fr,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=D(function*(){r.initialized||(yield r.pairings.init(),yield r.cleanup(),r.registerRelayerEvents(),r.registerExpirerEvents(),r.initialized=!0,r.logger.trace("Initialized"))}),this.register=({methods:s})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...s])]},this.create=D(function*(){r.isInitialized();const s=kn(),a=yield r.core.crypto.setSymKey(s),p=kt($.FIVE_MINUTES),S={protocol:"irn"},H={topic:a,expiry:p,relay:S,active:!1},Z=function ca(n){return`${n.protocol}:${n.topic}@${n.version}?`+tn.stringify(((n,e)=>{for(var t in e||(e={}))ra.call(e,t)&&es(n,t,e[t]);if(ki)for(var t of ki(e))na.call(e,t)&&es(n,t,e[t]);return n})({symKey:n.symKey},function aa(n,e="-"){const r={};return Object.keys(n).forEach(s=>{n[s]&&(r["relay"+e+s]=n[s])}),r}(n.relay)))}({protocol:r.core.protocol,version:r.core.version,topic:a,symKey:s,relay:S});return yield r.pairings.set(a,H),yield r.core.relayer.subscribe(a),r.core.expirer.set(a,p),{topic:a,uri:Z}}),this.pair=function(){var s=D(function*(a){r.isInitialized(),r.isValidPair(a);const{topic:p,symKey:S,relay:H}=function oa(n){const e=n.indexOf(":"),t=-1!==n.indexOf("?")?n.indexOf("?"):void 0,r=n.substring(0,e),s=n.substring(e+1,t).split("@"),a=typeof t<"u"?n.substring(t):"",p=tn.parse(a);return{protocol:r,topic:s[0],version:parseInt(s[1],10),symKey:p.symKey,relay:sa(p)}}(a.uri),Z=kt($.FIVE_MINUTES),oe={topic:p,relay:H,expiry:Z,active:!1};return yield r.pairings.set(p,oe),yield r.core.crypto.setSymKey(S,p),yield r.core.relayer.subscribe(p,{relay:H}),r.core.expirer.set(p,Z),a.activatePairing&&(yield r.activate({topic:p})),oe});return function(a){return s.apply(this,arguments)}}(),this.activate=function(){var s=D(function*({topic:a}){r.isInitialized();const p=kt($.THIRTY_DAYS);yield r.pairings.update(a,{active:!0,expiry:p}),r.core.expirer.set(a,p)});return function(a){return s.apply(this,arguments)}}(),this.ping=function(){var s=D(function*(a){r.isInitialized(),yield r.isValidPing(a);const{topic:p}=a;if(r.pairings.keys.includes(p)){const S=yield r.sendRequest(p,"wc_pairingPing",{}),{done:H,resolve:Z,reject:oe}=mr();r.events.once(mt("pairing_ping",S),({error:ge})=>{ge?oe(ge):Z()}),yield H()}});return function(a){return s.apply(this,arguments)}}(),this.updateExpiry=function(){var s=D(function*({topic:a,expiry:p}){r.isInitialized(),yield r.pairings.update(a,{expiry:p})});return function(a){return s.apply(this,arguments)}}(),this.updateMetadata=function(){var s=D(function*({topic:a,metadata:p}){r.isInitialized(),yield r.pairings.update(a,{peerMetadata:p})});return function(a){return s.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var s=D(function*(a){r.isInitialized(),yield r.isValidDisconnect(a);const{topic:p}=a;r.pairings.keys.includes(p)&&(yield r.sendRequest(p,"wc_pairingDelete",Ot("USER_DISCONNECTED")),yield r.deletePairing(p))});return function(a){return s.apply(this,arguments)}}(),this.sendRequest=function(){var s=D(function*(a,p,S){const H=(0,Se.formatJsonRpcRequest)(p,S),Z=yield r.core.crypto.encode(a,H),oe=Mr[p].req;return r.core.history.set(a,H),yield r.core.relayer.publish(a,Z,oe),H.id});return function(a,p,S){return s.apply(this,arguments)}}(),this.sendResult=function(){var s=D(function*(a,p,S){const H=(0,Se.formatJsonRpcResult)(a,S),Z=yield r.core.crypto.encode(p,H),oe=yield r.core.history.get(p,a),ge=Mr[oe.request.method].res;yield r.core.relayer.publish(p,Z,ge),yield r.core.history.resolve(H)});return function(a,p,S){return s.apply(this,arguments)}}(),this.sendError=function(){var s=D(function*(a,p,S){const H=(0,Se.formatJsonRpcError)(a,S),Z=yield r.core.crypto.encode(p,H),oe=yield r.core.history.get(p,a),ge=Mr[oe.request.method]?Mr[oe.request.method].res:Mr.unregistered_method.res;yield r.core.relayer.publish(p,Z,ge),yield r.core.history.resolve(H)});return function(a,p,S){return s.apply(this,arguments)}}(),this.deletePairing=function(){var s=D(function*(a,p){yield r.core.relayer.unsubscribe(a),yield Promise.all([r.pairings.delete(a,Ot("USER_DISCONNECTED")),r.core.crypto.deleteSymKey(a),p?Promise.resolve():r.core.expirer.del(a)])});return function(a,p){return s.apply(this,arguments)}}(),this.cleanup=D(function*(){const s=r.pairings.getAll().filter(a=>lr(a.expiry));yield Promise.all(s.map(a=>r.deletePairing(a.topic)))}),this.onRelayEventRequest=s=>{const{topic:a,payload:p}=s,S=p.method;if(this.pairings.keys.includes(a))switch(S){case"wc_pairingPing":return this.onPairingPingRequest(a,p);case"wc_pairingDelete":return this.onPairingDeleteRequest(a,p);default:return this.onUnknownRpcMethodRequest(a,p)}},this.onRelayEventResponse=function(){var s=D(function*(a){const{topic:p,payload:S}=a,H=(yield r.core.history.get(p,S.id)).request.method;if(r.pairings.keys.includes(p))return"wc_pairingPing"===H?r.onPairingPingResponse(p,S):r.onUnknownRpcMethodResponse(H)});return function(a){return s.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var s=D(function*(a,p){const{id:S}=p;try{r.isValidPing({topic:a}),yield r.sendResult(S,a,!0),r.events.emit("pairing_ping",{id:S,topic:a})}catch(H){yield r.sendError(S,a,H),r.logger.error(H)}});return function(a,p){return s.apply(this,arguments)}}(),this.onPairingPingResponse=(s,a)=>{const{id:p}=a;setTimeout(()=>{(0,Se.isJsonRpcResult)(a)?this.events.emit(mt("pairing_ping",p),{}):(0,Se.isJsonRpcError)(a)&&this.events.emit(mt("pairing_ping",p),{error:a.error})},500)},this.onPairingDeleteRequest=function(){var s=D(function*(a,p){const{id:S}=p;try{r.isValidDisconnect({topic:a}),yield r.deletePairing(a),r.events.emit("pairing_delete",{id:S,topic:a})}catch(H){yield r.sendError(S,a,H),r.logger.error(H)}});return function(a,p){return s.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var s=D(function*(a,p){const{id:S,method:H}=p;try{if(r.registeredMethods.includes(H))return;const Z=Ot("WC_METHOD_UNSUPPORTED",H);yield r.sendError(S,a,Z),r.logger.error(Z)}catch(Z){yield r.sendError(S,a,Z),r.logger.error(Z)}});return function(a,p){return s.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=s=>{this.registeredMethods.includes(s)||this.logger.error(Ot("WC_METHOD_UNSUPPORTED",s))},this.isValidPair=s=>{if(!$t(s)){const{message:a}=ye("MISSING_OR_INVALID",`pair() params: ${s}`);throw new Error(a)}if(!function ma(n){if(Pt(n,!1))try{return typeof new URL(n)<"u"}catch{return!1}return!1}(s.uri)){const{message:a}=ye("MISSING_OR_INVALID",`pair() uri: ${s.uri}`);throw new Error(a)}},this.isValidPing=function(){var s=D(function*(a){if(!$t(a)){const{message:S}=ye("MISSING_OR_INVALID",`ping() params: ${a}`);throw new Error(S)}const{topic:p}=a;yield r.isValidPairingTopic(p)});return function(a){return s.apply(this,arguments)}}(),this.isValidDisconnect=function(){var s=D(function*(a){if(!$t(a)){const{message:S}=ye("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw new Error(S)}const{topic:p}=a;yield r.isValidPairingTopic(p)});return function(a){return s.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var s=D(function*(a){if(!Pt(a,!1)){const{message:p}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${a}`);throw new Error(p)}if(!r.pairings.keys.includes(a)){const{message:p}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${a}`);throw new Error(p)}if(lr(r.pairings.get(a).expiry)){yield r.deletePairing(a);const{message:p}=ye("EXPIRED",`pairing topic: ${a}`);throw new Error(p)}});return function(a){return s.apply(this,arguments)}}(),this.core=e,this.logger=(0,x.generateChildLogger)(t,this.name),this.pairings=new ln(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,x.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){var e=this;this.core.relayer.on("relayer_message",function(){var t=D(function*(r){const{topic:s,message:a}=r;if(e.ignoredPayloadTypes.includes(e.core.crypto.getPayloadType(a)))return;const p=yield e.core.crypto.decode(s,a);(0,Se.isJsonRpcRequest)(p)?(e.core.history.set(s,p),e.onRelayEventRequest({topic:s,payload:p})):(0,Se.isJsonRpcResponse)(p)&&(yield e.core.history.resolve(p),e.onRelayEventResponse({topic:s,payload:p}))});return function(r){return t.apply(this,arguments)}}())}registerExpirerEvents(){var e=this;this.core.expirer.on(Kt_expired,function(){var t=D(function*(r){const{topic:s}=Zi(r.target);s&&e.pairings.keys.includes(s)&&(yield e.deletePairing(s,!0),e.events.emit("pairing_expire",{topic:s}))});return function(r){return t.apply(this,arguments)}}())}}class rl extends d{constructor(e,t){var r;super(e,t),r=this,this.core=e,this.logger=t,this.records=new Map,this.events=new L.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=fr,this.init=D(function*(){r.initialized||(r.logger.trace("Initialized"),yield r.restore(),r.cached.forEach(s=>r.records.set(s.id,s)),r.cached=[],r.registerEventListeners(),r.initialized=!0)}),this.set=(s,a,p)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:s,request:a,chainId:p}),this.records.has(a.id))return;const S={id:a.id,topic:s,request:{method:a.method,params:a.params||null},chainId:p};this.records.set(S.id,S),this.events.emit("history_created",S)},this.resolve=function(){var s=D(function*(a){if(r.isInitialized(),r.logger.debug("Updating JSON-RPC response history record"),r.logger.trace({type:"method",method:"update",response:a}),!r.records.has(a.id))return;const p=yield r.getRecord(a.id);typeof p.response>"u"&&(p.response=(0,Se.isJsonRpcError)(a)?{error:a.error}:{result:a.result},r.records.set(p.id,p),r.events.emit("history_updated",p))});return function(a){return s.apply(this,arguments)}}(),this.get=function(){var s=D(function*(a,p){return r.isInitialized(),r.logger.debug("Getting record"),r.logger.trace({type:"method",method:"get",topic:a,id:p}),yield r.getRecord(p)});return function(a,p){return s.apply(this,arguments)}}(),this.delete=(s,a)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:a}),this.values.forEach(p=>{if(p.topic===s){if(typeof a<"u"&&p.id!==a)return;this.records.delete(p.id),this.events.emit("history_deleted",p)}})},this.exists=function(){var s=D(function*(a,p){return r.isInitialized(),!!r.records.has(p)&&(yield r.getRecord(p)).topic===a});return function(a,p){return s.apply(this,arguments)}}(),this.on=(s,a)=>{this.events.on(s,a)},this.once=(s,a)=>{this.events.once(s,a)},this.off=(s,a)=>{this.events.off(s,a)},this.removeListener=(s,a)=>{this.events.removeListener(s,a)},this.logger=(0,x.generateChildLogger)(t,this.name)}get context(){return(0,x.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const r={topic:t.topic,request:(0,Se.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}setJsonRpcRecords(e){var t=this;return D(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getJsonRpcRecords(){var e=this;return D(function*(){return yield e.core.storage.getItem(e.storageKey)})()}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return t}persist(){var e=this;return D(function*(){yield e.setJsonRpcRecords(e.values),e.events.emit("history_sync")})()}restore(){var e=this;return D(function*(){try{const t=yield e.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(e.records.size){const{message:r}=ye("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(r),new Error(r)}e.cached=t,e.logger.debug(`Successfully Restored records for ${e.name}`),e.logger.trace({type:"method",method:"restore",records:e.values})}catch(t){e.logger.debug(`Failed to Restore records for ${e.name}`),e.logger.error(t)}})()}registerEventListeners(){this.events.on("history_created",e=>{const t="history_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on("history_updated",e=>{const t="history_updated";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on("history_deleted",e=>{const t="history_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}class nl extends M{constructor(e,t){var r;super(e,t),r=this,this.core=e,this.logger=t,this.expirations=new Map,this.events=new L.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=fr,this.init=D(function*(){r.initialized||(r.logger.trace("Initialized"),yield r.restore(),r.cached.forEach(s=>r.expirations.set(s.target,s)),r.cached=[],r.registerEventListeners(),r.initialized=!0)}),this.has=s=>{try{const a=this.formatTarget(s);return typeof this.getExpiration(a)<"u"}catch{return!1}},this.set=(s,a)=>{this.isInitialized();const p=this.formatTarget(s),S={target:p,expiry:a};this.expirations.set(p,S),this.checkExpiry(p,S),this.events.emit("expirer_created",{target:p,expiration:S})},this.get=s=>{this.isInitialized();const a=this.formatTarget(s);return this.getExpiration(a)},this.del=s=>{if(this.isInitialized(),this.has(s)){const a=this.formatTarget(s),p=this.getExpiration(a);this.expirations.delete(a),this.events.emit("expirer_deleted",{target:a,expiration:p})}},this.on=(s,a)=>{this.events.on(s,a)},this.once=(s,a)=>{this.events.once(s,a)},this.off=(s,a)=>{this.events.off(s,a)},this.removeListener=(s,a)=>{this.events.removeListener(s,a)},this.logger=(0,x.generateChildLogger)(t,this.name)}get context(){return(0,x.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function Zo(n){return Qi("topic",n)}(e);if("number"==typeof e)return function ko(n){return Qi("id",n)}(e);const{message:t}=ye("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}setExpirations(e){var t=this;return D(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getExpirations(){var e=this;return D(function*(){return yield e.core.storage.getItem(e.storageKey)})()}persist(){var e=this;return D(function*(){yield e.setExpirations(e.values),e.events.emit("expirer_sync")})()}restore(){var e=this;return D(function*(){try{const t=yield e.getExpirations();if(typeof t>"u"||!t.length)return;if(e.expirations.size){const{message:r}=ye("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(r),new Error(r)}e.cached=t,e.logger.debug(`Successfully Restored expirations for ${e.name}`),e.logger.trace({type:"method",method:"restore",expirations:e.values})}catch(t){e.logger.debug(`Failed to Restore expirations for ${e.name}`),e.logger.error(t)}})()}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return t}checkExpiry(e,t){const{expiry:r}=t;(0,$.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Kt_expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(F.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on("expirer_created",e=>{const t="expirer_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Kt_expired,e=>{const t=Kt_expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on("expirer_deleted",e=>{const t="expirer_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var il=Object.defineProperty,Us=Object.getOwnPropertySymbols,sl=Object.prototype.hasOwnProperty,ol=Object.prototype.propertyIsEnumerable,Ls=(n,e,t)=>e in n?il(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fs=(n,e)=>{for(var t in e||(e={}))sl.call(e,t)&&Ls(n,t,e[t]);if(Us)for(var t of Us(e))ol.call(e,t)&&Ls(n,t,e[t]);return n};class hi extends o{constructor(e){super(e),this.protocol="wc",this.version=2,this.name="core",this.events=new L.EventEmitter,this.initialized=!1,this.on=(r,s)=>this.events.on(r,s),this.once=(r,s)=>this.events.once(r,s),this.off=(r,s)=>this.events.off(r,s),this.removeListener=(r,s)=>this.events.removeListener(r,s),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ss;const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:J()((0,x.getDefaultLoggerOptions)({level:e?.logger||"error"}));this.logger=(0,x.generateChildLogger)(t,this.name),this.heartbeat=new F.HeartBeat,this.crypto=new Mu(this,this.logger,e?.keychain),this.history=new rl(this,this.logger),this.expirer=new nl(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new A.ZP(Fs(Fs({},du),e?.storageOptions)),this.relayer=new Qu({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new tl(this,this.logger)}static init(e){return D(function*(){const t=new hi(e);return yield t.initialize(),t})()}get context(){return(0,x.getLoggerContext)(this.logger)}start(){var e=this;return D(function*(){e.initialized||(yield e.initialize())})()}initialize(){var e=this;return D(function*(){e.logger.trace("Initialized");try{yield e.crypto.init(),yield e.history.init(),yield e.expirer.init(),yield e.relayer.init(),yield e.heartbeat.init(),yield e.pairing.init(),e.initialized=!0,e.logger.info("Core Initialization Success")}catch(t){throw e.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),e.logger.error(t.message),t}})()}}const al=hi,di="wc@2:client:",zs="Proposal expired",fn=$.SEVEN_DAYS,Br={wc_sessionPropose:{req:{ttl:$.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:$.ONE_DAY,prompt:!1,tag:1104},res:{ttl:$.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:$.ONE_DAY,prompt:!1,tag:1106},res:{ttl:$.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:$.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:$.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:$.ONE_DAY,prompt:!1,tag:1112},res:{ttl:$.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:$.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:$.THIRTY_SECONDS,prompt:!1,tag:1115}}},gi={min:$.FIVE_MINUTES,max:$.SEVEN_DAYS};var hl=Object.defineProperty,dl=Object.defineProperties,pl=Object.getOwnPropertyDescriptors,Hs=Object.getOwnPropertySymbols,gl=Object.prototype.hasOwnProperty,yl=Object.prototype.propertyIsEnumerable,$s=(n,e,t)=>e in n?hl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wt=(n,e)=>{for(var t in e||(e={}))gl.call(e,t)&&$s(n,t,e[t]);if(Hs)for(var t of Hs(e))yl.call(e,t)&&$s(n,t,e[t]);return n},yi=(n,e)=>dl(n,pl(e));class ml extends class ue{constructor(e){this.client=e}}{constructor(e){var t;super(e),t=this,this.name="engine",this.events=new(U()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.init=D(function*(){t.initialized||(yield t.cleanup(),t.registerRelayerEvents(),t.registerExpirerEvents(),t.client.core.pairing.register({methods:Object.keys(Br)}),t.initialized=!0)}),this.connect=function(){var r=D(function*(s){t.isInitialized();const a=yi(Wt({},s),{requiredNamespaces:s.requiredNamespaces||{},optionalNamespaces:s.optionalNamespaces||{}});yield t.isValidConnect(a);const{pairingTopic:p,requiredNamespaces:S,optionalNamespaces:H,sessionProperties:Z,relays:oe}=a;let Ye,ge=p,ft=!1;if(ge&&(ft=t.client.core.pairing.pairings.get(ge).active),!ge||!ft){const{topic:Ze,uri:ct}=yield t.client.core.pairing.create();ge=Ze,Ye=ct}const ve=yield t.client.core.crypto.generateKeyPair(),Oe=Wt({requiredNamespaces:S,optionalNamespaces:H,relays:oe??[{protocol:"irn"}],proposer:{publicKey:ve,metadata:t.client.metadata}},Z&&{sessionProperties:Z}),{reject:ot,resolve:qe,done:at}=mr($.FIVE_MINUTES,zs);if(t.events.once(mt("session_connect"),function(){var Ze=D(function*({error:ct,session:ze}){if(ct)ot(ct);else if(ze){ze.self.publicKey=ve;const pt=yi(Wt({},ze),{requiredNamespaces:ze.requiredNamespaces,optionalNamespaces:ze.optionalNamespaces});yield t.client.session.set(ze.topic,pt),yield t.setExpiry(ze.topic,ze.expiry),ge&&(yield t.client.core.pairing.updateMetadata({topic:ge,metadata:ze.peer.metadata})),qe(pt)}});return function(ct){return Ze.apply(this,arguments)}}()),!ge){const{message:Ze}=ye("NO_MATCHING_KEY",`connect() pairing topic: ${ge}`);throw new Error(Ze)}const rt=yield t.sendRequest(ge,"wc_sessionPropose",Oe),Qe=kt($.FIVE_MINUTES);return yield t.setProposal(rt,Wt({id:rt,expiry:Qe},Oe)),{uri:Ye,approval:at}});return function(s){return r.apply(this,arguments)}}(),this.pair=function(){var r=D(function*(s){return t.isInitialized(),yield t.client.core.pairing.pair(s)});return function(s){return r.apply(this,arguments)}}(),this.approve=function(){var r=D(function*(s){t.isInitialized(),yield t.isValidApprove(s);const{id:a,relayProtocol:p,namespaces:S,sessionProperties:H}=s,Z=t.client.proposal.get(a);let{pairingTopic:oe,proposer:ge,requiredNamespaces:Ye,optionalNamespaces:ft}=Z;Ur(Ye)||(Ye=function ha(n,e){const t=an(n,e);if(t)throw new Error(t.message);const r={};for(const[s,a]of Object.entries(n))r[s]={methods:a.methods,events:a.events,chains:a.accounts.map(p=>`${p.split(":")[0]}:${p.split(":")[1]}`)};return r}(S,"approve()"));const ve=yield t.client.core.crypto.generateKeyPair(),Oe=ge.publicKey,ot=yield t.client.core.crypto.generateSharedKey(ve,Oe);oe&&a&&(yield t.client.core.pairing.updateMetadata({topic:oe,metadata:ge.metadata}),yield t.sendResult(a,oe,{relay:{protocol:p??"irn"},responderPublicKey:ve}),yield t.client.proposal.delete(a,Ot("USER_DISCONNECTED")),yield t.client.core.pairing.activate({topic:oe}));const qe=Wt({relay:{protocol:p??"irn"},namespaces:S,requiredNamespaces:Ye,optionalNamespaces:ft,controller:{publicKey:ve,metadata:t.client.metadata},expiry:kt(fn)},H&&{sessionProperties:H});yield t.client.core.relayer.subscribe(ot);const at=yield t.sendRequest(ot,"wc_sessionSettle",qe),{done:rt,resolve:Qe,reject:Ze}=mr();t.events.once(mt("session_approve",at),({error:ze})=>{ze?Ze(ze):Qe(t.client.session.get(ot))});const ct=yi(Wt({},qe),{topic:ot,acknowledged:!1,self:qe.controller,peer:{publicKey:ge.publicKey,metadata:ge.metadata},controller:ve});return yield t.client.session.set(ot,ct),yield t.setExpiry(ot,kt(fn)),{topic:ot,acknowledged:rt}});return function(s){return r.apply(this,arguments)}}(),this.reject=function(){var r=D(function*(s){t.isInitialized(),yield t.isValidReject(s);const{id:a,reason:p}=s,{pairingTopic:S}=t.client.proposal.get(a);S&&(yield t.sendError(a,S,p),yield t.client.proposal.delete(a,Ot("USER_DISCONNECTED")))});return function(s){return r.apply(this,arguments)}}(),this.update=function(){var r=D(function*(s){t.isInitialized(),yield t.isValidUpdate(s);const{topic:a,namespaces:p}=s,S=yield t.sendRequest(a,"wc_sessionUpdate",{namespaces:p}),{done:H,resolve:Z,reject:oe}=mr();return t.events.once(mt("session_update",S),({error:ge})=>{ge?oe(ge):Z()}),yield t.client.session.update(a,{namespaces:p}),{acknowledged:H}});return function(s){return r.apply(this,arguments)}}(),this.extend=function(){var r=D(function*(s){t.isInitialized(),yield t.isValidExtend(s);const{topic:a}=s,p=yield t.sendRequest(a,"wc_sessionExtend",{}),{done:S,resolve:H,reject:Z}=mr();return t.events.once(mt("session_extend",p),({error:oe})=>{oe?Z(oe):H()}),yield t.setExpiry(a,kt(fn)),{acknowledged:S}});return function(s){return r.apply(this,arguments)}}(),this.request=function(){var r=D(function*(s){t.isInitialized(),yield t.isValidRequest(s);const{chainId:a,request:p,topic:S,expiry:H}=s,Z=yield t.sendRequest(S,"wc_sessionRequest",{request:p,chainId:a},H),{done:oe,resolve:ge,reject:Ye}=mr(H);return t.events.once(mt("session_request",Z),({error:ft,result:ve})=>{ft?Ye(ft):ge(ve)}),t.client.events.emit("session_request_sent",{topic:S,request:p,chainId:a}),yield oe()});return function(s){return r.apply(this,arguments)}}(),this.respond=function(){var r=D(function*(s){t.isInitialized(),yield t.isValidRespond(s);const{topic:a,response:p}=s,{id:S}=p;(0,Se.isJsonRpcResult)(p)?yield t.sendResult(S,a,p.result):(0,Se.isJsonRpcError)(p)&&(yield t.sendError(S,a,p.error)),t.deletePendingSessionRequest(s.response.id,{message:"fulfilled",code:0})});return function(s){return r.apply(this,arguments)}}(),this.ping=function(){var r=D(function*(s){t.isInitialized(),yield t.isValidPing(s);const{topic:a}=s;if(t.client.session.keys.includes(a)){const p=yield t.sendRequest(a,"wc_sessionPing",{}),{done:S,resolve:H,reject:Z}=mr();t.events.once(mt("session_ping",p),({error:oe})=>{oe?Z(oe):H()}),yield S()}else t.client.core.pairing.pairings.keys.includes(a)&&(yield t.client.core.pairing.ping({topic:a}))});return function(s){return r.apply(this,arguments)}}(),this.emit=function(){var r=D(function*(s){t.isInitialized(),yield t.isValidEmit(s);const{topic:a,event:p,chainId:S}=s;yield t.sendRequest(a,"wc_sessionEvent",{event:p,chainId:S})});return function(s){return r.apply(this,arguments)}}(),this.disconnect=function(){var r=D(function*(s){t.isInitialized(),yield t.isValidDisconnect(s);const{topic:a}=s;t.client.session.keys.includes(a)?(yield t.sendRequest(a,"wc_sessionDelete",Ot("USER_DISCONNECTED")),yield t.deleteSession(a)):yield t.client.core.pairing.disconnect({topic:a})});return function(s){return r.apply(this,arguments)}}(),this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(s=>function ga(n,e){const{requiredNamespaces:t}=e,r=Object.keys(n.namespaces),s=Object.keys(t);let a=!0;return!!ur(s,r)&&(r.forEach(p=>{const{accounts:S,methods:H,events:Z}=n.namespaces[p],oe=Tr(S),ge=t[p];ur(nn(p,ge),oe)&&ur(ge.methods,H)&&ur(ge.events,Z)||(a=!1)}),a)}(s,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=function(){var r=D(function*(s,a){const{self:p}=t.client.session.get(s);yield t.client.core.relayer.unsubscribe(s),yield Promise.all([t.client.session.delete(s,Ot("USER_DISCONNECTED")),t.client.core.crypto.deleteKeyPair(p.publicKey),t.client.core.crypto.deleteSymKey(s),a?Promise.resolve():t.client.core.expirer.del(s)])});return function(s,a){return r.apply(this,arguments)}}(),this.deleteProposal=function(){var r=D(function*(s,a){yield Promise.all([t.client.proposal.delete(s,Ot("USER_DISCONNECTED")),a?Promise.resolve():t.client.core.expirer.del(s)])});return function(s,a){return r.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var r=D(function*(s,a,p=!1){yield Promise.all([t.client.pendingRequest.delete(s,a),p?Promise.resolve():t.client.core.expirer.del(s)])});return function(s,a){return r.apply(this,arguments)}}(),this.setExpiry=function(){var r=D(function*(s,a){t.client.session.keys.includes(s)&&(yield t.client.session.update(s,{expiry:a})),t.client.core.expirer.set(s,a)});return function(s,a){return r.apply(this,arguments)}}(),this.setProposal=function(){var r=D(function*(s,a){yield t.client.proposal.set(s,a),t.client.core.expirer.set(s,a.expiry)});return function(s,a){return r.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var r=D(function*(s){const a=Br.wc_sessionRequest.req.ttl,{id:p,topic:S,params:H}=s;yield t.client.pendingRequest.set(p,{id:p,topic:S,params:H}),a&&t.client.core.expirer.set(p,kt(a))});return function(s){return r.apply(this,arguments)}}(),this.sendRequest=function(){var r=D(function*(s,a,p,S){const H=(0,Se.formatJsonRpcRequest)(a,p),Z=yield t.client.core.crypto.encode(s,H),oe=Br[a].req;return S&&(oe.ttl=S),t.client.core.history.set(s,H),t.client.core.relayer.publish(s,Z,oe),H.id});return function(s,a,p,S){return r.apply(this,arguments)}}(),this.sendResult=function(){var r=D(function*(s,a,p){const S=(0,Se.formatJsonRpcResult)(s,p),H=yield t.client.core.crypto.encode(a,S),Z=yield t.client.core.history.get(a,s);t.client.core.relayer.publish(a,H,Br[Z.request.method].res),yield t.client.core.history.resolve(S)});return function(s,a,p){return r.apply(this,arguments)}}(),this.sendError=function(){var r=D(function*(s,a,p){const S=(0,Se.formatJsonRpcError)(s,p),H=yield t.client.core.crypto.encode(a,S),Z=yield t.client.core.history.get(a,s);t.client.core.relayer.publish(a,H,Br[Z.request.method].res),yield t.client.core.history.resolve(S)});return function(s,a,p){return r.apply(this,arguments)}}(),this.cleanup=D(function*(){const r=[],s=[];t.client.session.getAll().forEach(a=>{lr(a.expiry)&&r.push(a.topic)}),t.client.proposal.getAll().forEach(a=>{lr(a.expiry)&&s.push(a.id)}),yield Promise.all([...r.map(a=>t.deleteSession(a)),...s.map(a=>t.deleteProposal(a))])}),this.onRelayEventRequest=r=>{const{topic:s,payload:a}=r,p=a.method;switch(p){case"wc_sessionPropose":return this.onSessionProposeRequest(s,a);case"wc_sessionSettle":return this.onSessionSettleRequest(s,a);case"wc_sessionUpdate":return this.onSessionUpdateRequest(s,a);case"wc_sessionExtend":return this.onSessionExtendRequest(s,a);case"wc_sessionPing":return this.onSessionPingRequest(s,a);case"wc_sessionDelete":return this.onSessionDeleteRequest(s,a);case"wc_sessionRequest":return this.onSessionRequest(s,a);case"wc_sessionEvent":return this.onSessionEventRequest(s,a);default:return this.client.logger.info(`Unsupported request method ${p}`)}},this.onRelayEventResponse=function(){var r=D(function*(s){const{topic:a,payload:p}=s,S=(yield t.client.core.history.get(a,p.id)).request.method;switch(S){case"wc_sessionPropose":return t.onSessionProposeResponse(a,p);case"wc_sessionSettle":return t.onSessionSettleResponse(a,p);case"wc_sessionUpdate":return t.onSessionUpdateResponse(a,p);case"wc_sessionExtend":return t.onSessionExtendResponse(a,p);case"wc_sessionPing":return t.onSessionPingResponse(a,p);case"wc_sessionRequest":return t.onSessionRequestResponse(a,p);default:return t.client.logger.info(`Unsupported response method ${S}`)}});return function(s){return r.apply(this,arguments)}}(),this.onSessionProposeRequest=function(){var r=D(function*(s,a){const{params:p,id:S}=a;try{t.isValidConnect(Wt({},a.params));const H=kt($.FIVE_MINUTES),Z=Wt({id:S,pairingTopic:s,expiry:H},p);yield t.setProposal(S,Z),t.client.events.emit("session_proposal",{id:S,params:Z})}catch(H){yield t.sendError(S,s,H),t.client.logger.error(H)}});return function(s,a){return r.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var r=D(function*(s,a){const{id:p}=a;if((0,Se.isJsonRpcResult)(a)){const{result:S}=a;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:S});const H=t.client.proposal.get(p);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:H});const Z=H.proposer.publicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:Z});const oe=S.responderPublicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:oe});const ge=yield t.client.core.crypto.generateSharedKey(Z,oe);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:ge});const Ye=yield t.client.core.relayer.subscribe(ge);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Ye}),yield t.client.core.pairing.activate({topic:s})}else(0,Se.isJsonRpcError)(a)&&(yield t.client.proposal.delete(p,Ot("USER_DISCONNECTED")),t.events.emit(mt("session_connect"),{error:a.error}))});return function(s,a){return r.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var r=D(function*(s,a){const{id:p,params:S}=a;try{t.isValidSessionSettleRequest(S);const{relay:H,controller:Z,expiry:oe,namespaces:ge,requiredNamespaces:Ye,optionalNamespaces:ft,sessionProperties:ve}=a.params,Oe=Wt({topic:s,relay:H,expiry:oe,namespaces:ge,acknowledged:!0,requiredNamespaces:Ye,optionalNamespaces:ft,controller:Z.publicKey,self:{publicKey:"",metadata:t.client.metadata},peer:{publicKey:Z.publicKey,metadata:Z.metadata}},ve&&{sessionProperties:ve});yield t.sendResult(a.id,s,!0),t.events.emit(mt("session_connect"),{session:Oe})}catch(H){yield t.sendError(p,s,H),t.client.logger.error(H)}});return function(s,a){return r.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var r=D(function*(s,a){const{id:p}=a;(0,Se.isJsonRpcResult)(a)?(yield t.client.session.update(s,{acknowledged:!0}),t.events.emit(mt("session_approve",p),{})):(0,Se.isJsonRpcError)(a)&&(yield t.client.session.delete(s,Ot("USER_DISCONNECTED")),t.events.emit(mt("session_approve",p),{error:a.error}))});return function(s,a){return r.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var r=D(function*(s,a){const{params:p,id:S}=a;try{t.isValidUpdate(Wt({topic:s},p)),yield t.client.session.update(s,{namespaces:p.namespaces}),yield t.sendResult(S,s,!0),t.client.events.emit("session_update",{id:S,topic:s,params:p})}catch(H){yield t.sendError(S,s,H),t.client.logger.error(H)}});return function(s,a){return r.apply(this,arguments)}}(),this.onSessionUpdateResponse=(r,s)=>{const{id:a}=s;(0,Se.isJsonRpcResult)(s)?this.events.emit(mt("session_update",a),{}):(0,Se.isJsonRpcError)(s)&&this.events.emit(mt("session_update",a),{error:s.error})},this.onSessionExtendRequest=function(){var r=D(function*(s,a){const{id:p}=a;try{t.isValidExtend({topic:s}),yield t.setExpiry(s,kt(fn)),yield t.sendResult(p,s,!0),t.client.events.emit("session_extend",{id:p,topic:s})}catch(S){yield t.sendError(p,s,S),t.client.logger.error(S)}});return function(s,a){return r.apply(this,arguments)}}(),this.onSessionExtendResponse=(r,s)=>{const{id:a}=s;(0,Se.isJsonRpcResult)(s)?this.events.emit(mt("session_extend",a),{}):(0,Se.isJsonRpcError)(s)&&this.events.emit(mt("session_extend",a),{error:s.error})},this.onSessionPingRequest=function(){var r=D(function*(s,a){const{id:p}=a;try{t.isValidPing({topic:s}),yield t.sendResult(p,s,!0),t.client.events.emit("session_ping",{id:p,topic:s})}catch(S){yield t.sendError(p,s,S),t.client.logger.error(S)}});return function(s,a){return r.apply(this,arguments)}}(),this.onSessionPingResponse=(r,s)=>{const{id:a}=s;setTimeout(()=>{(0,Se.isJsonRpcResult)(s)?this.events.emit(mt("session_ping",a),{}):(0,Se.isJsonRpcError)(s)&&this.events.emit(mt("session_ping",a),{error:s.error})},500)},this.onSessionDeleteRequest=function(){var r=D(function*(s,a){const{id:p}=a;try{t.isValidDisconnect({topic:s,reason:a.params}),t.client.core.relayer.once("relayer_publish",D(function*(){yield t.deleteSession(s)})),yield t.sendResult(p,s,!0),t.client.events.emit("session_delete",{id:p,topic:s})}catch(S){yield t.sendError(p,s,S),t.client.logger.error(S)}});return function(s,a){return r.apply(this,arguments)}}(),this.onSessionRequest=function(){var r=D(function*(s,a){const{id:p,params:S}=a;try{t.isValidRequest(Wt({topic:s},S)),yield t.setPendingSessionRequest({id:p,topic:s,params:S}),t.client.events.emit("session_request",{id:p,topic:s,params:S})}catch(H){yield t.sendError(p,s,H),t.client.logger.error(H)}});return function(s,a){return r.apply(this,arguments)}}(),this.onSessionRequestResponse=(r,s)=>{const{id:a}=s;(0,Se.isJsonRpcResult)(s)?this.events.emit(mt("session_request",a),{result:s.result}):(0,Se.isJsonRpcError)(s)&&this.events.emit(mt("session_request",a),{error:s.error})},this.onSessionEventRequest=function(){var r=D(function*(s,a){const{id:p,params:S}=a;try{t.isValidEmit(Wt({topic:s},S)),t.client.events.emit("session_event",{id:p,topic:s,params:S})}catch(H){yield t.sendError(p,s,H),t.client.logger.error(H)}});return function(s,a){return r.apply(this,arguments)}}(),this.isValidConnect=function(){var r=D(function*(s){if(!$t(s)){const{message:oe}=ye("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(s)}`);throw new Error(oe)}const{pairingTopic:a,requiredNamespaces:p,optionalNamespaces:S,sessionProperties:H,relays:Z}=s;if(Mt(a)||(yield t.isValidPairingTopic(a)),!function Ia(n,e){let t=!1;return e&&!n?t=!0:n&&Nr(n)&&n.length&&n.forEach(r=>{t=ns(r)}),t}(Z,!0)){const{message:oe}=ye("MISSING_OR_INVALID",`connect() relays: ${Z}`);throw new Error(oe)}!Mt(p)&&0!==Ur(p)&&t.validateNamespaces(p,"requiredNamespaces"),!Mt(S)&&0!==Ur(S)&&t.validateNamespaces(S,"optionalNamespaces"),Mt(H)||t.validateSessionProps(H,"sessionProperties")});return function(s){return r.apply(this,arguments)}}(),this.validateNamespaces=(r,s)=>{const a=function Oa(n,e,t){let r=null;if(n&&Ur(n)){const s=rs(n,e);s&&(r=s);const a=function wa(n,e){let t=null;return Object.entries(n).forEach(([r,s])=>{if(t)return;const a=function Ea(n,e,t){let r=null;return Nr(e)?e.forEach(s=>{r||(!si(s)||!s.includes(n))&&(r=Ot("UNSUPPORTED_CHAINS",`${t}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):r=Ot("UNSUPPORTED_CHAINS",`${t}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),r}(r,nn(r,s),`${e} requiredNamespace`);a&&(t=a)}),t}(n,e);a&&(r=a)}else r=ye("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return r}(r,"connect()",s);if(a)throw new Error(a.message)},this.isValidApprove=function(){var r=D(function*(s){if(!$t(s))throw new Error(ye("MISSING_OR_INVALID",`approve() params: ${s}`).message);const{id:a,namespaces:p,relayProtocol:S,sessionProperties:H}=s;yield t.isValidProposalId(a);const Z=t.client.proposal.get(a),oe=an(p,"approve()");if(oe)throw new Error(oe.message);const ge=oi(Z.requiredNamespaces,p,"approve()","requiredNamespaces");if(ge)throw new Error(ge.message);if(!Pt(S,!0)){const{message:Ye}=ye("MISSING_OR_INVALID",`approve() relayProtocol: ${S}`);throw new Error(Ye)}if(Object.keys(p).length>Object.keys(Z.requiredNamespaces).length){const Ye=Object.keys(Z.optionalNamespaces).filter(Oe=>p[Oe]),ft={};for(const Oe in Z.optionalNamespaces)Ye.includes(Oe)&&(ft[Oe]=Z.optionalNamespaces[Oe]);const ve=oi(ft,p,"approve()","optionalNamespaces");if(ve)throw new Error(ve.message)}Mt(H)||t.validateSessionProps(H,"sessionProperties")});return function(s){return r.apply(this,arguments)}}(),this.isValidReject=function(){var r=D(function*(s){if(!$t(s)){const{message:S}=ye("MISSING_OR_INVALID",`reject() params: ${s}`);throw new Error(S)}const{id:a,reason:p}=s;if(yield t.isValidProposalId(a),!function Pa(n){return!!(n&&"object"==typeof n&&n.code&&ii(n.code,!1)&&n.message&&Pt(n.message,!1))}(p)){const{message:S}=ye("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(p)}`);throw new Error(S)}});return function(s){return r.apply(this,arguments)}}(),this.isValidSessionSettleRequest=r=>{if(!$t(r)){const{message:oe}=ye("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(oe)}const{relay:s,controller:a,namespaces:p,expiry:S}=r;if(!ns(s)){const{message:oe}=ye("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(oe)}const H=function _a(n,e){let t=null;return Pt(n?.publicKey,!1)||(t=ye("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}(a,"onSessionSettleRequest()");if(H)throw new Error(H.message);const Z=an(p,"onSessionSettleRequest()");if(Z)throw new Error(Z.message);if(lr(S)){const{message:oe}=ye("EXPIRED","onSessionSettleRequest()");throw new Error(oe)}},this.isValidUpdate=function(){var r=D(function*(s){if(!$t(s)){const{message:oe}=ye("MISSING_OR_INVALID",`update() params: ${s}`);throw new Error(oe)}const{topic:a,namespaces:p}=s;yield t.isValidSessionTopic(a);const S=t.client.session.get(a),H=an(p,"update()");if(H)throw new Error(H.message);const Z=oi(S.requiredNamespaces,p,"update()","requiredNamespaces");if(Z)throw new Error(Z.message)});return function(s){return r.apply(this,arguments)}}(),this.isValidExtend=function(){var r=D(function*(s){if(!$t(s)){const{message:p}=ye("MISSING_OR_INVALID",`extend() params: ${s}`);throw new Error(p)}const{topic:a}=s;yield t.isValidSessionTopic(a)});return function(s){return r.apply(this,arguments)}}(),this.isValidRequest=function(){var r=D(function*(s){if(!$t(s)){const{message:oe}=ye("MISSING_OR_INVALID",`request() params: ${s}`);throw new Error(oe)}const{topic:a,request:p,chainId:S,expiry:H}=s;yield t.isValidSessionTopic(a);const{namespaces:Z}=t.client.session.get(a);if(!is(Z,S)){const{message:oe}=ye("MISSING_OR_INVALID",`request() chainId: ${S}`);throw new Error(oe)}if(!function Aa(n){return!(Mt(n)||!Pt(n.method,!1))}(p)){const{message:oe}=ye("MISSING_OR_INVALID",`request() ${JSON.stringify(p)}`);throw new Error(oe)}if(!function Na(n,e,t){return!!Pt(t,!1)&&function la(n,e){const t=[];return Object.values(n).forEach(r=>{Tr(r.accounts).includes(e)&&t.push(...r.methods)}),t}(n,e).includes(t)}(Z,S,p.method)){const{message:oe}=ye("MISSING_OR_INVALID",`request() method: ${p.method}`);throw new Error(oe)}if(H&&!function La(n,e){return ii(n,!1)&&n<=e.max&&n>=e.min}(H,gi)){const{message:oe}=ye("MISSING_OR_INVALID",`request() expiry: ${H}. Expiry must be a number (in seconds) between ${gi.min} and ${gi.max}`);throw new Error(oe)}});return function(s){return r.apply(this,arguments)}}(),this.isValidRespond=function(){var r=D(function*(s){if(!$t(s)){const{message:S}=ye("MISSING_OR_INVALID",`respond() params: ${s}`);throw new Error(S)}const{topic:a,response:p}=s;if(yield t.isValidSessionTopic(a),!function Ca(n){return!(Mt(n)||Mt(n.result)&&Mt(n.error)||!ii(n.id,!1)||!Pt(n.jsonrpc,!1))}(p)){const{message:S}=ye("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(p)}`);throw new Error(S)}});return function(s){return r.apply(this,arguments)}}(),this.isValidPing=function(){var r=D(function*(s){if(!$t(s)){const{message:p}=ye("MISSING_OR_INVALID",`ping() params: ${s}`);throw new Error(p)}const{topic:a}=s;yield t.isValidSessionOrPairingTopic(a)});return function(s){return r.apply(this,arguments)}}(),this.isValidEmit=function(){var r=D(function*(s){if(!$t(s)){const{message:Z}=ye("MISSING_OR_INVALID",`emit() params: ${s}`);throw new Error(Z)}const{topic:a,event:p,chainId:S}=s;yield t.isValidSessionTopic(a);const{namespaces:H}=t.client.session.get(a);if(!is(H,S)){const{message:Z}=ye("MISSING_OR_INVALID",`emit() chainId: ${S}`);throw new Error(Z)}if(!function Ta(n){return!(Mt(n)||!Pt(n.name,!1))}(p)){const{message:Z}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(p)}`);throw new Error(Z)}if(!function Ua(n,e,t){return!!Pt(t,!1)&&function fa(n,e){const t=[];return Object.values(n).forEach(r=>{Tr(r.accounts).includes(e)&&t.push(...r.events)}),t}(n,e).includes(t)}(H,S,p.name)){const{message:Z}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(p)}`);throw new Error(Z)}});return function(s){return r.apply(this,arguments)}}(),this.isValidDisconnect=function(){var r=D(function*(s){if(!$t(s)){const{message:p}=ye("MISSING_OR_INVALID",`disconnect() params: ${s}`);throw new Error(p)}const{topic:a}=s;yield t.isValidSessionOrPairingTopic(a)});return function(s){return r.apply(this,arguments)}}(),this.validateSessionProps=(r,s)=>{Object.values(r).forEach(a=>{if(!Pt(a,!1)){const{message:p}=ye("MISSING_OR_INVALID",`${s} must be in Record<string, string> format. Received: ${JSON.stringify(a)}`);throw new Error(p)}})}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){var e=this;this.client.core.relayer.on("relayer_message",function(){var t=D(function*(r){const{topic:s,message:a}=r;if(e.ignoredPayloadTypes.includes(e.client.core.crypto.getPayloadType(a)))return;const p=yield e.client.core.crypto.decode(s,a);(0,Se.isJsonRpcRequest)(p)?(e.client.core.history.set(s,p),e.onRelayEventRequest({topic:s,payload:p})):(0,Se.isJsonRpcResponse)(p)&&(yield e.client.core.history.resolve(p),e.onRelayEventResponse({topic:s,payload:p}))});return function(r){return t.apply(this,arguments)}}())}registerExpirerEvents(){var e=this;this.client.core.expirer.on(Kt_expired,function(){var t=D(function*(r){const{topic:s,id:a}=Zi(r.target);if(a&&e.client.pendingRequest.keys.includes(a))return yield e.deletePendingSessionRequest(a,ye("EXPIRED"),!0);s?e.client.session.keys.includes(s)&&(yield e.deleteSession(s,!0),e.client.events.emit("session_expire",{topic:s})):a&&(yield e.deleteProposal(a,!0),e.client.events.emit("proposal_expire",{id:a}))});return function(r){return t.apply(this,arguments)}}())}isValidPairingTopic(e){if(!Pt(e,!1)){const{message:t}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(lr(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=ye("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}isValidSessionTopic(e){var t=this;return D(function*(){if(!Pt(e,!1)){const{message:r}=ye("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!t.client.session.keys.includes(e)){const{message:r}=ye("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(lr(t.client.session.get(e).expiry)){yield t.deleteSession(e);const{message:r}=ye("EXPIRED",`session topic: ${e}`);throw new Error(r)}})()}isValidSessionOrPairingTopic(e){var t=this;return D(function*(){if(t.client.session.keys.includes(e))yield t.isValidSessionTopic(e);else{if(!t.client.core.pairing.pairings.keys.includes(e)){if(Pt(e,!1)){const{message:r}=ye("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}{const{message:r}=ye("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}t.isValidPairingTopic(e)}})()}isValidProposalId(e){var t=this;return D(function*(){if(!function Ra(n){return"number"==typeof n}(e)){const{message:r}=ye("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!t.client.proposal.keys.includes(e)){const{message:r}=ye("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(lr(t.client.proposal.get(e).expiry)){yield t.deleteProposal(e);const{message:r}=ye("EXPIRED",`proposal id: ${e}`);throw new Error(r)}})()}}class vl extends ln{constructor(e,t){super(e,t,"proposal",di),this.core=e,this.logger=t}}class bl extends ln{constructor(e,t){super(e,t,"session",di),this.core=e,this.logger=t}}class _l extends ln{constructor(e,t){super(e,t,"request",di),this.core=e,this.logger=t}}class mi extends class fe{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}{constructor(e){var t;super(e),t=this,this.protocol="wc",this.version=2,this.name="client",this.events=new L.EventEmitter,this.on=(s,a)=>this.events.on(s,a),this.once=(s,a)=>this.events.once(s,a),this.off=(s,a)=>this.events.off(s,a),this.removeListener=(s,a)=>this.events.removeListener(s,a),this.removeAllListeners=s=>this.events.removeAllListeners(s),this.connect=function(){var s=D(function*(a){try{return yield t.engine.connect(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.pair=function(){var s=D(function*(a){try{return yield t.engine.pair(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.approve=function(){var s=D(function*(a){try{return yield t.engine.approve(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.reject=function(){var s=D(function*(a){try{return yield t.engine.reject(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.update=function(){var s=D(function*(a){try{return yield t.engine.update(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.extend=function(){var s=D(function*(a){try{return yield t.engine.extend(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.request=function(){var s=D(function*(a){try{return yield t.engine.request(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.respond=function(){var s=D(function*(a){try{return yield t.engine.respond(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.ping=function(){var s=D(function*(a){try{return yield t.engine.ping(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.emit=function(){var s=D(function*(a){try{return yield t.engine.emit(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.disconnect=function(){var s=D(function*(a){try{return yield t.engine.disconnect(a)}catch(p){throw t.logger.error(p.message),p}});return function(a){return s.apply(this,arguments)}}(),this.find=s=>{try{return this.engine.find(s)}catch(a){throw this.logger.error(a.message),a}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(s){throw this.logger.error(s.message),s}},this.name=e?.name||"client",this.metadata=e?.metadata||function Vo(){return(0,yo.D)()||{name:"",description:"",url:"",icons:[""]}}();const r=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:J()((0,x.getDefaultLoggerOptions)({level:e?.logger||"error"}));this.core=e?.core||new al(e),this.logger=(0,x.generateChildLogger)(r,this.name),this.session=new bl(this.core,this.logger),this.proposal=new vl(this.core,this.logger),this.pendingRequest=new _l(this.core,this.logger),this.engine=new ml(this)}static init(e){return D(function*(){const t=new mi(e);return yield t.initialize(),t})()}get context(){return(0,x.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var e=this;return D(function*(){e.logger.trace("Initialized");try{yield e.core.start(),yield e.session.init(),yield e.proposal.init(),yield e.pendingRequest.init(),yield e.engine.init(),e.logger.info("SignClient Initialization Success")}catch(t){throw e.logger.info("SignClient Initialization Failure"),e.logger.error(t.message),t}})()}}var El=v(5928),Js=v.n(El);const Vs={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class Ws{constructor(e){if(this.url=e,this.events=new L.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,Se.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(e=this.url){var t=this;return D(function*(){yield t.register(e)})()}close(){var e=this;return D(function*(){if(!e.isAvailable)throw new Error("Connection already closed");e.onClose()})()}send(e,t){var r=this;return D(function*(){r.isAvailable||(yield r.register());try{const s=me(e),p=yield(yield Js()(r.url,Object.assign(Object.assign({},Vs),{body:s}))).json();r.onPayload({data:p})}catch(s){r.onError(e.id,s)}})()}register(e=this.url){var t=this;return D(function*(){if(!(0,Se.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(t.registering){const r=t.events.getMaxListeners();return(t.events.listenerCount("register_error")>=r||t.events.listenerCount("open")>=r)&&t.events.setMaxListeners(r+1),new Promise((s,a)=>{t.events.once("register_error",p=>{t.resetMaxListeners(),a(p)}),t.events.once("open",()=>{if(t.resetMaxListeners(),typeof t.isAvailable>"u")return a(new Error("HTTP connection is missing or invalid"));s()})})}t.url=e,t.registering=!0;try{const r=me({id:1,jsonrpc:"2.0",method:"test",params:[]});yield Js()(e,Object.assign(Object.assign({},Vs),{body:r})),t.onOpen()}catch(r){const s=t.parseError(r);throw t.events.emit("register_error",s),t.onClose(),s}})()}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?pe(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),s=r.message||r.toString(),a=(0,Se.formatJsonRpcError)(e,s);this.events.emit("payload",a)}parseError(e,t=this.url){return(0,Se.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const vi=Ws,Ys="wc@2:universal_provider:";function hr(n,e,t){let r;const s=bi(n);return e.rpcMap&&(r=e.rpcMap[s]),r||(r=`https://rpc.walletconnect.com/v1?chainId=eip155:${s}&projectId=${t}`),r}function bi(n){return n.includes("eip155")?Number(n.split(":")[1]):Number(n)}const hn=(n,e)=>{const t=r=>{r.request!==e.request||r.topic!==e.topic||(n.events.removeListener("session_request_sent",t),function Rl(){if(typeof window<"u")try{const n=window.localStorage.getItem("WALLETCONNECT_DEEPLINK_CHOICE");if(n){const e=JSON.parse(n);window.open(e.href,"_self","noreferrer noopener")}}catch(n){console.error(n)}}())};n.on("session_request_sent",t)};class Pl{constructor(e){this.name="eip155",this.namespace=e.namespace,this.client=e.client,this.events=e.events,this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(e){var t=this;return D(function*(){var r;switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return t.getAccounts();case"wallet_switchEthereumChain":return t.handleSwitchChain(e.request.params?null==(r=e.request.params[0])?void 0:r.chainId:"0x0"),null;case"eth_chainId":return parseInt(t.getDefaultChain())}return t.namespace.methods.includes(e.request.method)?(hn(t.client,e),yield t.client.request(e)):t.getHttpProvider().request(e.request)})()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){const r=bi(e);if(!this.httpProviders[r]){const s=t||hr(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,s)}this.chainId=r,this.events.emit("default_chain_changed",`${this.name}:${r}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const r=t||hr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Lr(new Ws(r))}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const r=bi(t);e[r]=this.createHttpProvider(r)}),e}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}handleSwitchChain(e){const t=parseInt(e,16);(function Ol(n,e){if(!e.includes(n))throw new Error(`Chain '${n}' not approved. Please use one of the following: ${e.toString()}`)})(`${this.name}:${t}`,this.namespace.chains),this.setDefaultChain(`${t}`)}}class Al{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?(hn(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const r=t||hr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||hr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Lr(new vi(r))}}class Cl{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?(hn(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const r=t||hr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||hr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Lr(new vi(r))}}class Tl{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?(hn(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const r=t||hr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||hr(e,this.namespace);return typeof r>"u"?void 0:new Lr(new vi(r))}}var Nl=Object.defineProperty,Ul=Object.defineProperties,Ll=Object.getOwnPropertyDescriptors,Xs=Object.getOwnPropertySymbols,Fl=Object.prototype.hasOwnProperty,Ml=Object.prototype.propertyIsEnumerable,qs=(n,e,t)=>e in n?Nl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dn=(n,e)=>{for(var t in e||(e={}))Fl.call(e,t)&&qs(n,t,e[t]);if(Xs)for(var t of Xs(e))Ml.call(e,t)&&qs(n,t,e[t]);return n},_i=(n,e)=>Ul(n,Ll(e));class Ei{constructor(e){this.events=new(U()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:J()((0,x.getDefaultLoggerOptions)({level:e?.logger||"error"}))}static init(e){return D(function*(){const t=new Ei(e);return yield t.initialize(),t})()}request(e,t){var r=this;return D(function*(){const[s,a]=r.validateChain(t);if(!r.session)throw new Error("Please call connect() before request()");return yield r.getProvider(s).request({request:dn({},e),chainId:`${s}:${a}`,topic:r.session.topic})})()}sendAsync(e,t,r){this.request(e,r).then(s=>t(null,s)).catch(s=>t(s,void 0))}enable(){var e=this;return D(function*(){if(!e.client)throw new Error("Sign Client not initialized");return e.session||(yield e.connect({namespaces:e.namespaces,optionalNamespaces:e.optionalNamespaces,sessionProperties:e.sessionProperties})),yield e.requestAccounts()})()}disconnect(){var e=this;return D(function*(){var t;if(!e.session)throw new Error("Please call connect() before enable()");yield e.client.disconnect({topic:null==(t=e.session)?void 0:t.topic,reason:Ot("USER_DISCONNECTED")}),yield e.cleanup()})()}connect(e){var t=this;return D(function*(){if(!t.client)throw new Error("Sign Client not initialized");if(t.setNamespaces(e),yield t.cleanupPendingPairings(),!e.skipPairing)return yield t.pair(e.pairingTopic)})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}pair(e){var t=this;return D(function*(){t.shouldAbortPairingAttempt=!1;let r=0;do{if(t.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=t.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:s,approval:a}=yield t.client.connect({pairingTopic:e,requiredNamespaces:t.namespaces,optionalNamespaces:t.optionalNamespaces,sessionProperties:t.sessionProperties});s&&(t.uri=s,t.events.emit("display_uri",s)),yield a().then(p=>{t.session=p}).catch(p=>{if(p.message!==zs)throw p;r++})}while(!t.session);return t.onConnect(),t.session})()}setDefaultChain(e,t){try{const[r,s]=this.validateChain(e);this.getProvider(r).setDefaultChain(s,t)}catch(r){if(!/Please call connect/.test(r.message))throw r}}cleanupPendingPairings(e={}){var t=this;return D(function*(){t.logger.info("Cleaning up inactive pairings...");const r=t.client.pairing.getAll();if(Nr(r)){for(const s of r)e.deletePairings?t.client.core.expirer.set(s.topic,0):yield t.client.core.relayer.subscriber.unsubscribe(s.topic);t.logger.info(`Inactive pairings cleared: ${r.length}`)}})()}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}checkStorage(){var e=this;return D(function*(){e.namespaces=(yield e.getFromStore("namespaces"))||{},e.optionalNamespaces=(yield e.getFromStore("optionalNamespaces"))||{},e.client.session.length&&(e.session=e.client.session.get(e.client.session.keys[e.client.session.keys.length-1]),e.createProviders())})()}initialize(){var e=this;return D(function*(){e.logger.trace("Initialized"),yield e.createClient(),yield e.checkStorage(),e.registerEventListeners()})()}createClient(){var e=this;return D(function*(){e.client=e.providerOpts.client||(yield mi.init({logger:e.providerOpts.logger||"error",relayUrl:e.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:e.providerOpts.projectId,metadata:e.providerOpts.metadata,storageOptions:e.providerOpts.storageOptions,name:e.providerOpts.name})),e.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");Object.keys(this.namespaces).forEach(e=>{var t,r,s;const a=(null==(t=this.session)?void 0:t.namespaces[e].accounts)||[],p=function Il(n){return n.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}(a),S=_i(dn({},Object.assign(this.namespaces[e],null!=(s=null==(r=this.optionalNamespaces)?void 0:r[e])?s:{})),{accounts:a,chains:p});switch(e){case"eip155":this.rpcProviders[e]=new Pl({client:this.client,namespace:S,events:this.events});break;case"solana":this.rpcProviders[e]=new Al({client:this.client,namespace:S,events:this.events});break;case"cosmos":this.rpcProviders[e]=new Cl({client:this.client,namespace:S,events:this.events});break;case"polkadot":break;case"cip34":this.rpcProviders[e]=new Tl({client:this.client,namespace:S,events:this.events})}})}registerEventListeners(){var e=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:r}=t,{event:s}=r;"accountsChanged"===s.name?this.events.emit("accountsChanged",s.data):"chainChanged"===s.name?this.onChainChanged(r.chainId):this.events.emit(s.name,s.data),this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var s;const{namespaces:a}=r,p=null==(s=this.client)?void 0:s.session.get(t);this.session=_i(dn({},p),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",function(){var t=D(function*(r){yield e.cleanup(),e.events.emit("session_delete",r),e.events.emit("disconnect",_i(dn({},Ot("USER_DISCONNECTED")),{data:r.topic}))});return function(r){return t.apply(this,arguments)}}()),this.on("default_chain_changed",t=>{this.onChainChanged(t,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:r,sessionProperties:s}=e;if(!t||!Object.keys(t).length)throw new Error("Namespaces must be not empty");this.namespaces=t,this.optionalNamespaces=r,this.sessionProperties=s,this.persist("namespaces",t),this.persist("optionalNamespaces",r)}validateChain(e){const[t,r]=e?.split(":")||["",""];if(t&&!Object.keys(this.namespaces).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];const s=Object.keys(this.namespaces)[0];return[s,this.rpcProviders[s].getDefaultChain()]}requestAccounts(){var e=this;return D(function*(){const[t]=e.validateChain();return yield e.getProvider(t).requestAccounts()})()}onChainChanged(e,t=!1){const[r,s]=this.validateChain(e);t||this.getProvider(r).setDefaultChain(s),this.namespaces[r].defaultChain=s,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",s)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}cleanup(){var e=this;return D(function*(){e.session=void 0,yield e.cleanupPendingPairings({deletePairings:!0})})()}persist(e,t){this.client.core.storage.setItem(`${Ys}/${e}`,t)}getFromStore(e){var t=this;return D(function*(){return yield t.client.core.storage.getItem(`${Ys}/${e}`)})()}}var zl={1:"https://ethereum.publicnode.com",5:"https://eth-goerli.g.alchemy.com/v2/yVhq9zPJorAWsw-F87fEabSUl7cCU6z4",11155111:"https://sepolia.infura.io/v3/9f79b2f9274344af90b8d4e244b580ef",137:"https://polygon-rpc.com/",80001:"https://polygon-mumbai.g.alchemy.com/v2/rVI6pOV4irVsrw20cJxc1fxK_1cSeiY0",56:"https://bsc-dataseed.binance.org/",97:"https://data-seed-prebsc-1-s1.binance.org:8545",43114:"https://api.avax.network/ext/bc/C/rpc",43113:"https://api.avax-test.network/ext/bc/C/rpc",250:"https://rpc.fantom.network/",25:"https://evm-cronos.crypto.org",338:"https://evm-t3.cronos.org",42161:"https://arb1.arbitrum.io/rpc",421613:"https://arb-goerli.g.alchemy.com/v2/nFrflomLgsQQL5NWjGileAVqIGGxZWce",10:"https://mainnet.optimism.io"},Hl=["eip155:1","eip155:137","eip155:250","eip155:25","eip155:42161","eip155:10"],$l=function(){return function(n,e,t,r){return new(t||(t=Promise))(function(a,p){function S(oe){try{Z(r.next(oe))}catch(ge){p(ge)}}function H(oe){try{Z(r.throw(oe))}catch(ge){p(ge)}}function Z(oe){oe.done?a(oe.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(oe.value).then(S,H)}Z((r=r.apply(n,e||[])).next())})}(void 0,void 0,void 0,function(){return function(n,e){var r,s,a,p,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return p={next:S(0),throw:S(1),return:S(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function S(Z){return function(oe){return function H(Z){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,Z[0]&&(t=0)),t;)try{if(r=1,s&&(a=2&Z[0]?s.return:Z[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,Z[1])).done)return a;switch(s=0,a&&(Z=[2&Z[0],a.value]),Z[0]){case 0:case 1:a=Z;break;case 4:return t.label++,{value:Z[1],done:!1};case 5:t.label++,s=Z[1],Z=[0];continue;case 7:Z=t.ops.pop(),t.trys.pop();continue;default:if(!(a=(a=t.trys).length>0&&a[a.length-1])&&(6===Z[0]||2===Z[0])){t=0;continue}if(3===Z[0]&&(!a||Z[1]>a[0]&&Z[1]<a[3])){t.label=Z[1];break}if(6===Z[0]&&t.label<a[1]){t.label=a[1],a=Z;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(Z);break}a[2]&&t.ops.pop(),t.trys.pop();continue}Z=e.call(n,t)}catch(oe){Z=[6,oe],s=0}finally{r=a=0}if(5&Z[0])throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}([Z,oe])}}}(this,function(n){switch(n.label){case 0:return[4,Ei.init({projectId:"2ec7ead81da1226703ad789c0b2f7b30",logger:"debug",relayUrl:"wss://relay.walletconnect.com"})];case 1:return[2,n.sent()]}})})}},32222:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var E=v(17686);function K(w,I,m){return void 0===I&&(I=new Uint8Array(2)),void 0===m&&(m=0),I[m+0]=w>>>8,I[m+1]=w>>>0,I}function T(w,I,m){return void 0===I&&(I=new Uint8Array(2)),void 0===m&&(m=0),I[m+0]=w>>>0,I[m+1]=w>>>8,I}function R(w,I){return void 0===I&&(I=0),w[I]<<24|w[I+1]<<16|w[I+2]<<8|w[I+3]}function O(w,I){return void 0===I&&(I=0),(w[I]<<24|w[I+1]<<16|w[I+2]<<8|w[I+3])>>>0}function P(w,I){return void 0===I&&(I=0),w[I+3]<<24|w[I+2]<<16|w[I+1]<<8|w[I]}function Q(w,I){return void 0===I&&(I=0),(w[I+3]<<24|w[I+2]<<16|w[I+1]<<8|w[I])>>>0}function ne(w,I,m){return void 0===I&&(I=new Uint8Array(4)),void 0===m&&(m=0),I[m+0]=w>>>24,I[m+1]=w>>>16,I[m+2]=w>>>8,I[m+3]=w>>>0,I}function X(w,I,m){return void 0===I&&(I=new Uint8Array(4)),void 0===m&&(m=0),I[m+0]=w>>>0,I[m+1]=w>>>8,I[m+2]=w>>>16,I[m+3]=w>>>24,I}function J(w,I,m){return void 0===I&&(I=new Uint8Array(8)),void 0===m&&(m=0),ne(w/4294967296>>>0,I,m),ne(w>>>0,I,m+4),I}function L(w,I,m){return void 0===I&&(I=new Uint8Array(8)),void 0===m&&(m=0),X(w>>>0,I,m),X(w/4294967296>>>0,I,m+4),I}f.readInt16BE=function W(w,I){return void 0===I&&(I=0),(w[I+0]<<8|w[I+1])<<16>>16},f.readUint16BE=function q(w,I){return void 0===I&&(I=0),(w[I+0]<<8|w[I+1])>>>0},f.readInt16LE=function V(w,I){return void 0===I&&(I=0),(w[I+1]<<8|w[I])<<16>>16},f.readUint16LE=function N(w,I){return void 0===I&&(I=0),(w[I+1]<<8|w[I])>>>0},f.writeUint16BE=K,f.writeInt16BE=K,f.writeUint16LE=T,f.writeInt16LE=T,f.readInt32BE=R,f.readUint32BE=O,f.readInt32LE=P,f.readUint32LE=Q,f.writeUint32BE=ne,f.writeInt32BE=ne,f.writeUint32LE=X,f.writeInt32LE=X,f.readInt64BE=function re(w,I){void 0===I&&(I=0);var m=R(w,I),M=R(w,I+4);return 4294967296*m+M-4294967296*(M>>31)},f.readUint64BE=function ae(w,I){return void 0===I&&(I=0),4294967296*O(w,I)+O(w,I+4)},f.readInt64LE=function D(w,I){void 0===I&&(I=0);var m=P(w,I);return 4294967296*P(w,I+4)+m-4294967296*(m>>31)},f.readUint64LE=function ce(w,I){void 0===I&&(I=0);var m=Q(w,I);return 4294967296*Q(w,I+4)+m},f.writeUint64BE=J,f.writeInt64BE=J,f.writeUint64LE=L,f.writeInt64LE=L,f.readUintBE=function U(w,I,m){if(void 0===m&&(m=0),w%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(w/8>I.length-m)throw new Error("readUintBE: array is too short for the given bitLength");for(var M=0,k=1,j=w/8+m-1;j>=m;j--)M+=I[j]*k,k*=256;return M},f.readUintLE=function A(w,I,m){if(void 0===m&&(m=0),w%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(w/8>I.length-m)throw new Error("readUintLE: array is too short for the given bitLength");for(var M=0,k=1,j=m;j<m+w/8;j++)M+=I[j]*k,k*=256;return M},f.writeUintBE=function F(w,I,m,M){if(void 0===m&&(m=new Uint8Array(w/8)),void 0===M&&(M=0),w%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!E.isSafeInteger(I))throw new Error("writeUintBE value must be an integer");for(var k=1,j=w/8+M-1;j>=M;j--)m[j]=I/k&255,k*=256;return m},f.writeUintLE=function x(w,I,m,M){if(void 0===m&&(m=new Uint8Array(w/8)),void 0===M&&(M=0),w%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!E.isSafeInteger(I))throw new Error("writeUintLE value must be an integer");for(var k=1,j=M;j<M+w/8;j++)m[j]=I/k&255,k*=256;return m},f.readFloat32BE=function u(w,I){return void 0===I&&(I=0),new DataView(w.buffer,w.byteOffset,w.byteLength).getFloat32(I)},f.readFloat32LE=function o(w,I){return void 0===I&&(I=0),new DataView(w.buffer,w.byteOffset,w.byteLength).getFloat32(I,!0)},f.readFloat64BE=function g(w,I){return void 0===I&&(I=0),new DataView(w.buffer,w.byteOffset,w.byteLength).getFloat64(I)},f.readFloat64LE=function d(w,I){return void 0===I&&(I=0),new DataView(w.buffer,w.byteOffset,w.byteLength).getFloat64(I,!0)},f.writeFloat32BE=function _(w,I,m){return void 0===I&&(I=new Uint8Array(4)),void 0===m&&(m=0),new DataView(I.buffer,I.byteOffset,I.byteLength).setFloat32(m,w),I},f.writeFloat32LE=function y(w,I,m){return void 0===I&&(I=new Uint8Array(4)),void 0===m&&(m=0),new DataView(I.buffer,I.byteOffset,I.byteLength).setFloat32(m,w,!0),I},f.writeFloat64BE=function l(w,I,m){return void 0===I&&(I=new Uint8Array(8)),void 0===m&&(m=0),new DataView(I.buffer,I.byteOffset,I.byteLength).setFloat64(m,w),I},f.writeFloat64LE=function b(w,I,m){return void 0===I&&(I=new Uint8Array(8)),void 0===m&&(m=0),new DataView(I.buffer,I.byteOffset,I.byteLength).setFloat64(m,w,!0),I}},24553:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var E=v(32222),W=v(11512);function V(R,O,P){for(var Q=1634760805,ne=857760878,X=2036477234,re=1797285236,ae=P[3]<<24|P[2]<<16|P[1]<<8|P[0],D=P[7]<<24|P[6]<<16|P[5]<<8|P[4],ce=P[11]<<24|P[10]<<16|P[9]<<8|P[8],J=P[15]<<24|P[14]<<16|P[13]<<8|P[12],L=P[19]<<24|P[18]<<16|P[17]<<8|P[16],U=P[23]<<24|P[22]<<16|P[21]<<8|P[20],A=P[27]<<24|P[26]<<16|P[25]<<8|P[24],F=P[31]<<24|P[30]<<16|P[29]<<8|P[28],x=O[3]<<24|O[2]<<16|O[1]<<8|O[0],u=O[7]<<24|O[6]<<16|O[5]<<8|O[4],o=O[11]<<24|O[10]<<16|O[9]<<8|O[8],g=O[15]<<24|O[14]<<16|O[13]<<8|O[12],d=Q,_=ne,y=X,l=re,b=ae,w=D,I=ce,m=J,M=L,k=U,j=A,fe=F,se=x,ue=u,pe=o,me=g,_e=0;_e<20;_e+=2)b=(b^=M=M+(se=(se^=d=d+b|0)>>>16|se<<16)|0)>>>20|b<<12,w=(w^=k=k+(ue=(ue^=_=_+w|0)>>>16|ue<<16)|0)>>>20|w<<12,I=(I^=j=j+(pe=(pe^=y=y+I|0)>>>16|pe<<16)|0)>>>20|I<<12,m=(m^=fe=fe+(me=(me^=l=l+m|0)>>>16|me<<16)|0)>>>20|m<<12,I=(I^=j=j+(pe=(pe^=y=y+I|0)>>>24|pe<<8)|0)>>>25|I<<7,m=(m^=fe=fe+(me=(me^=l=l+m|0)>>>24|me<<8)|0)>>>25|m<<7,w=(w^=k=k+(ue=(ue^=_=_+w|0)>>>24|ue<<8)|0)>>>25|w<<7,b=(b^=M=M+(se=(se^=d=d+b|0)>>>24|se<<8)|0)>>>25|b<<7,w=(w^=j=j+(me=(me^=d=d+w|0)>>>16|me<<16)|0)>>>20|w<<12,I=(I^=fe=fe+(se=(se^=_=_+I|0)>>>16|se<<16)|0)>>>20|I<<12,m=(m^=M=M+(ue=(ue^=y=y+m|0)>>>16|ue<<16)|0)>>>20|m<<12,b=(b^=k=k+(pe=(pe^=l=l+b|0)>>>16|pe<<16)|0)>>>20|b<<12,m=(m^=M=M+(ue=(ue^=y=y+m|0)>>>24|ue<<8)|0)>>>25|m<<7,b=(b^=k=k+(pe=(pe^=l=l+b|0)>>>24|pe<<8)|0)>>>25|b<<7,I=(I^=fe=fe+(se=(se^=_=_+I|0)>>>24|se<<8)|0)>>>25|I<<7,w=(w^=j=j+(me=(me^=d=d+w|0)>>>24|me<<8)|0)>>>25|w<<7;E.writeUint32LE(d+Q|0,R,0),E.writeUint32LE(_+ne|0,R,4),E.writeUint32LE(y+X|0,R,8),E.writeUint32LE(l+re|0,R,12),E.writeUint32LE(b+ae|0,R,16),E.writeUint32LE(w+D|0,R,20),E.writeUint32LE(I+ce|0,R,24),E.writeUint32LE(m+J|0,R,28),E.writeUint32LE(M+L|0,R,32),E.writeUint32LE(k+U|0,R,36),E.writeUint32LE(j+A|0,R,40),E.writeUint32LE(fe+F|0,R,44),E.writeUint32LE(se+x|0,R,48),E.writeUint32LE(ue+u|0,R,52),E.writeUint32LE(pe+o|0,R,56),E.writeUint32LE(me+g|0,R,60)}function N(R,O,P,Q,ne){if(void 0===ne&&(ne=0),32!==R.length)throw new Error("ChaCha: key size must be 32 bytes");if(Q.length<P.length)throw new Error("ChaCha: destination is shorter than source");var X,re;if(0===ne){if(8!==O.length&&12!==O.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");(X=new Uint8Array(16)).set(O,re=X.length-O.length)}else{if(16!==O.length)throw new Error("ChaCha nonce with counter must be 16 bytes");X=O,re=ne}for(var ae=new Uint8Array(64),D=0;D<P.length;D+=64){V(ae,X,R);for(var ce=D;ce<D+64&&ce<P.length;ce++)Q[ce]=P[ce]^ae[ce-D];T(X,0,re)}return W.wipe(ae),0===ne&&W.wipe(X),Q}function T(R,O,P){for(var Q=1;P--;)R[O]=255&(Q=Q+(255&R[O])|0),Q>>>=8,O++;if(Q>0)throw new Error("ChaCha: counter overflow")}f.streamXOR=N,f.stream=function K(R,O,P,Q){return void 0===Q&&(Q=0),W.wipe(P),N(R,O,P,P,Q)}},31118:(he,f,v)=>{"use strict";var W=v(24553),q=v(83905),V=v(11512),N=v(32222),K=v(93386);f.Cv=32,f.WH=12,f.pg=16;var T=new Uint8Array(16),R=function(){function O(P){if(this.nonceLength=f.WH,this.tagLength=f.pg,P.length!==f.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(P)}return O.prototype.seal=function(P,Q,ne,X){if(P.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var re=new Uint8Array(16);re.set(P,re.length-P.length);var ae=new Uint8Array(32);W.stream(this._key,re,ae,4);var ce,D=Q.length+this.tagLength;if(X){if(X.length!==D)throw new Error("ChaCha20Poly1305: incorrect destination length");ce=X}else ce=new Uint8Array(D);return W.streamXOR(this._key,re,Q,ce,4),this._authenticate(ce.subarray(ce.length-this.tagLength,ce.length),ae,ce.subarray(0,ce.length-this.tagLength),ne),V.wipe(re),ce},O.prototype.open=function(P,Q,ne,X){if(P.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(Q.length<this.tagLength)return null;var re=new Uint8Array(16);re.set(P,re.length-P.length);var ae=new Uint8Array(32);W.stream(this._key,re,ae,4);var D=new Uint8Array(this.tagLength);if(this._authenticate(D,ae,Q.subarray(0,Q.length-this.tagLength),ne),!K.equal(D,Q.subarray(Q.length-this.tagLength,Q.length)))return null;var J,ce=Q.length-this.tagLength;if(X){if(X.length!==ce)throw new Error("ChaCha20Poly1305: incorrect destination length");J=X}else J=new Uint8Array(ce);return W.streamXOR(this._key,re,Q.subarray(0,Q.length-this.tagLength),J,4),V.wipe(re),J},O.prototype.clean=function(){return V.wipe(this._key),this},O.prototype._authenticate=function(P,Q,ne,X){var re=new q.Poly1305(Q);X&&(re.update(X),X.length%16>0&&re.update(T.subarray(X.length%16))),re.update(ne),ne.length%16>0&&re.update(T.subarray(ne.length%16));var ae=new Uint8Array(8);X&&N.writeUint64LE(X.length,ae),re.update(ae),N.writeUint64LE(ne.length,ae),re.update(ae);for(var D=re.digest(),ce=0;ce<D.length;ce++)P[ce]=D[ce];re.clean(),V.wipe(D),V.wipe(ae)},O}();f.OK=R},93386:(he,f)=>{"use strict";function W(V,N){if(V.length!==N.length)return 0;for(var K=0,T=0;T<V.length;T++)K|=V[T]^N[T];return 1&K-1>>>8}Object.defineProperty(f,"__esModule",{value:!0}),f.select=function v(V,N,K){return~(V-1)&N|V-1&K},f.lessOrEqual=function E(V,N){return(0|V)-(0|N)-1>>>31&1},f.compare=W,f.equal=function q(V,N){return 0!==V.length&&0!==N.length&&0!==W(V,N)}},52877:(he,f,v)=>{"use strict";f.Xx=f._w=f.aP=f.KS=f.jQ=void 0;v(7841);const q=v(85198);v(11512);function N(ee){const $=new Float64Array(16);if(ee)for(let G=0;G<ee.length;G++)$[G]=ee[G];return $}f.jQ=64,f.KS=64,f.aP=32,new Uint8Array(32)[0]=9;const T=N(),R=N([1]),P=(N([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),N([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),Q=N([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ne=N([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);N([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function re(ee,$){for(let G=0;G<16;G++)ee[G]=0|$[G]}function ae(ee){let $=1;for(let G=0;G<16;G++){let h=ee[G]+$+65535;$=Math.floor(h/65536),ee[G]=h-65536*$}ee[0]+=$-1+37*($-1)}function D(ee,$,G){const h=~(G-1);for(let B=0;B<16;B++){const de=h&(ee[B]^$[B]);ee[B]^=de,$[B]^=de}}function ce(ee,$){const G=N(),h=N();for(let B=0;B<16;B++)h[B]=$[B];ae(h),ae(h),ae(h);for(let B=0;B<2;B++){G[0]=h[0]-65517;for(let Ee=1;Ee<15;Ee++)G[Ee]=h[Ee]-65535-(G[Ee-1]>>16&1),G[Ee-1]&=65535;G[15]=h[15]-32767-(G[14]>>16&1);const de=G[15]>>16&1;G[14]&=65535,D(h,G,1-de)}for(let B=0;B<16;B++)ee[2*B]=255&h[B],ee[2*B+1]=h[B]>>8}function U(ee){const $=new Uint8Array(32);return ce($,ee),1&$[0]}function F(ee,$,G){for(let h=0;h<16;h++)ee[h]=$[h]+G[h]}function x(ee,$,G){for(let h=0;h<16;h++)ee[h]=$[h]-G[h]}function u(ee,$,G){let h,B,de=0,Ee=0,Ae=0,Ve=0,Ne=0,Ke=0,nt=0,gt=0,Fe=0,Me=0,Ce=0,Te=0,Pe=0,we=0,xe=0,Ie=0,De=0,Ue=0,je=0,We=0,Ge=0,$e=0,He=0,Xe=0,Vt=0,Ct=0,Gt=0,rr=0,or=0,qt=0,Qt=0,it=G[0],et=G[1],ht=G[2],ut=G[3],Be=G[4],vt=G[5],bt=G[6],_t=G[7],Et=G[8],yt=G[9],dt=G[10],tt=G[11],wt=G[12],Dt=G[13],xt=G[14],St=G[15];h=$[0],de+=h*it,Ee+=h*et,Ae+=h*ht,Ve+=h*ut,Ne+=h*Be,Ke+=h*vt,nt+=h*bt,gt+=h*_t,Fe+=h*Et,Me+=h*yt,Ce+=h*dt,Te+=h*tt,Pe+=h*wt,we+=h*Dt,xe+=h*xt,Ie+=h*St,h=$[1],Ee+=h*it,Ae+=h*et,Ve+=h*ht,Ne+=h*ut,Ke+=h*Be,nt+=h*vt,gt+=h*bt,Fe+=h*_t,Me+=h*Et,Ce+=h*yt,Te+=h*dt,Pe+=h*tt,we+=h*wt,xe+=h*Dt,Ie+=h*xt,De+=h*St,h=$[2],Ae+=h*it,Ve+=h*et,Ne+=h*ht,Ke+=h*ut,nt+=h*Be,gt+=h*vt,Fe+=h*bt,Me+=h*_t,Ce+=h*Et,Te+=h*yt,Pe+=h*dt,we+=h*tt,xe+=h*wt,Ie+=h*Dt,De+=h*xt,Ue+=h*St,h=$[3],Ve+=h*it,Ne+=h*et,Ke+=h*ht,nt+=h*ut,gt+=h*Be,Fe+=h*vt,Me+=h*bt,Ce+=h*_t,Te+=h*Et,Pe+=h*yt,we+=h*dt,xe+=h*tt,Ie+=h*wt,De+=h*Dt,Ue+=h*xt,je+=h*St,h=$[4],Ne+=h*it,Ke+=h*et,nt+=h*ht,gt+=h*ut,Fe+=h*Be,Me+=h*vt,Ce+=h*bt,Te+=h*_t,Pe+=h*Et,we+=h*yt,xe+=h*dt,Ie+=h*tt,De+=h*wt,Ue+=h*Dt,je+=h*xt,We+=h*St,h=$[5],Ke+=h*it,nt+=h*et,gt+=h*ht,Fe+=h*ut,Me+=h*Be,Ce+=h*vt,Te+=h*bt,Pe+=h*_t,we+=h*Et,xe+=h*yt,Ie+=h*dt,De+=h*tt,Ue+=h*wt,je+=h*Dt,We+=h*xt,Ge+=h*St,h=$[6],nt+=h*it,gt+=h*et,Fe+=h*ht,Me+=h*ut,Ce+=h*Be,Te+=h*vt,Pe+=h*bt,we+=h*_t,xe+=h*Et,Ie+=h*yt,De+=h*dt,Ue+=h*tt,je+=h*wt,We+=h*Dt,Ge+=h*xt,$e+=h*St,h=$[7],gt+=h*it,Fe+=h*et,Me+=h*ht,Ce+=h*ut,Te+=h*Be,Pe+=h*vt,we+=h*bt,xe+=h*_t,Ie+=h*Et,De+=h*yt,Ue+=h*dt,je+=h*tt,We+=h*wt,Ge+=h*Dt,$e+=h*xt,He+=h*St,h=$[8],Fe+=h*it,Me+=h*et,Ce+=h*ht,Te+=h*ut,Pe+=h*Be,we+=h*vt,xe+=h*bt,Ie+=h*_t,De+=h*Et,Ue+=h*yt,je+=h*dt,We+=h*tt,Ge+=h*wt,$e+=h*Dt,He+=h*xt,Xe+=h*St,h=$[9],Me+=h*it,Ce+=h*et,Te+=h*ht,Pe+=h*ut,we+=h*Be,xe+=h*vt,Ie+=h*bt,De+=h*_t,Ue+=h*Et,je+=h*yt,We+=h*dt,Ge+=h*tt,$e+=h*wt,He+=h*Dt,Xe+=h*xt,Vt+=h*St,h=$[10],Ce+=h*it,Te+=h*et,Pe+=h*ht,we+=h*ut,xe+=h*Be,Ie+=h*vt,De+=h*bt,Ue+=h*_t,je+=h*Et,We+=h*yt,Ge+=h*dt,$e+=h*tt,He+=h*wt,Xe+=h*Dt,Vt+=h*xt,Ct+=h*St,h=$[11],Te+=h*it,Pe+=h*et,we+=h*ht,xe+=h*ut,Ie+=h*Be,De+=h*vt,Ue+=h*bt,je+=h*_t,We+=h*Et,Ge+=h*yt,$e+=h*dt,He+=h*tt,Xe+=h*wt,Vt+=h*Dt,Ct+=h*xt,Gt+=h*St,h=$[12],Pe+=h*it,we+=h*et,xe+=h*ht,Ie+=h*ut,De+=h*Be,Ue+=h*vt,je+=h*bt,We+=h*_t,Ge+=h*Et,$e+=h*yt,He+=h*dt,Xe+=h*tt,Vt+=h*wt,Ct+=h*Dt,Gt+=h*xt,rr+=h*St,h=$[13],we+=h*it,xe+=h*et,Ie+=h*ht,De+=h*ut,Ue+=h*Be,je+=h*vt,We+=h*bt,Ge+=h*_t,$e+=h*Et,He+=h*yt,Xe+=h*dt,Vt+=h*tt,Ct+=h*wt,Gt+=h*Dt,rr+=h*xt,or+=h*St,h=$[14],xe+=h*it,Ie+=h*et,De+=h*ht,Ue+=h*ut,je+=h*Be,We+=h*vt,Ge+=h*bt,$e+=h*_t,He+=h*Et,Xe+=h*yt,Vt+=h*dt,Ct+=h*tt,Gt+=h*wt,rr+=h*Dt,or+=h*xt,qt+=h*St,h=$[15],Ie+=h*it,De+=h*et,Ue+=h*ht,je+=h*ut,We+=h*Be,Ge+=h*vt,$e+=h*bt,He+=h*_t,Xe+=h*Et,Vt+=h*yt,Ct+=h*dt,Gt+=h*tt,rr+=h*wt,or+=h*Dt,qt+=h*xt,Qt+=h*St,de+=38*De,Ee+=38*Ue,Ae+=38*je,Ve+=38*We,Ne+=38*Ge,Ke+=38*$e,nt+=38*He,gt+=38*Xe,Fe+=38*Vt,Me+=38*Ct,Ce+=38*Gt,Te+=38*rr,Pe+=38*or,we+=38*qt,xe+=38*Qt,B=1,h=de+B+65535,B=Math.floor(h/65536),de=h-65536*B,h=Ee+B+65535,B=Math.floor(h/65536),Ee=h-65536*B,h=Ae+B+65535,B=Math.floor(h/65536),Ae=h-65536*B,h=Ve+B+65535,B=Math.floor(h/65536),Ve=h-65536*B,h=Ne+B+65535,B=Math.floor(h/65536),Ne=h-65536*B,h=Ke+B+65535,B=Math.floor(h/65536),Ke=h-65536*B,h=nt+B+65535,B=Math.floor(h/65536),nt=h-65536*B,h=gt+B+65535,B=Math.floor(h/65536),gt=h-65536*B,h=Fe+B+65535,B=Math.floor(h/65536),Fe=h-65536*B,h=Me+B+65535,B=Math.floor(h/65536),Me=h-65536*B,h=Ce+B+65535,B=Math.floor(h/65536),Ce=h-65536*B,h=Te+B+65535,B=Math.floor(h/65536),Te=h-65536*B,h=Pe+B+65535,B=Math.floor(h/65536),Pe=h-65536*B,h=we+B+65535,B=Math.floor(h/65536),we=h-65536*B,h=xe+B+65535,B=Math.floor(h/65536),xe=h-65536*B,h=Ie+B+65535,B=Math.floor(h/65536),Ie=h-65536*B,de+=B-1+37*(B-1),B=1,h=de+B+65535,B=Math.floor(h/65536),de=h-65536*B,h=Ee+B+65535,B=Math.floor(h/65536),Ee=h-65536*B,h=Ae+B+65535,B=Math.floor(h/65536),Ae=h-65536*B,h=Ve+B+65535,B=Math.floor(h/65536),Ve=h-65536*B,h=Ne+B+65535,B=Math.floor(h/65536),Ne=h-65536*B,h=Ke+B+65535,B=Math.floor(h/65536),Ke=h-65536*B,h=nt+B+65535,B=Math.floor(h/65536),nt=h-65536*B,h=gt+B+65535,B=Math.floor(h/65536),gt=h-65536*B,h=Fe+B+65535,B=Math.floor(h/65536),Fe=h-65536*B,h=Me+B+65535,B=Math.floor(h/65536),Me=h-65536*B,h=Ce+B+65535,B=Math.floor(h/65536),Ce=h-65536*B,h=Te+B+65535,B=Math.floor(h/65536),Te=h-65536*B,h=Pe+B+65535,B=Math.floor(h/65536),Pe=h-65536*B,h=we+B+65535,B=Math.floor(h/65536),we=h-65536*B,h=xe+B+65535,B=Math.floor(h/65536),xe=h-65536*B,h=Ie+B+65535,B=Math.floor(h/65536),Ie=h-65536*B,de+=B-1+37*(B-1),ee[0]=de,ee[1]=Ee,ee[2]=Ae,ee[3]=Ve,ee[4]=Ne,ee[5]=Ke,ee[6]=nt,ee[7]=gt,ee[8]=Fe,ee[9]=Me,ee[10]=Ce,ee[11]=Te,ee[12]=Pe,ee[13]=we,ee[14]=xe,ee[15]=Ie}function o(ee,$){u(ee,$,$)}function _(ee,$){const G=N(),h=N(),B=N(),de=N(),Ee=N(),Ae=N(),Ve=N(),Ne=N(),Ke=N();x(G,ee[1],ee[0]),x(Ke,$[1],$[0]),u(G,G,Ke),F(h,ee[0],ee[1]),F(Ke,$[0],$[1]),u(h,h,Ke),u(B,ee[3],$[3]),u(B,B,P),u(de,ee[2],$[2]),F(de,de,de),x(Ee,h,G),x(Ae,de,B),F(Ve,de,B),F(Ne,h,G),u(ee[0],Ee,Ae),u(ee[1],Ne,Ve),u(ee[2],Ve,Ae),u(ee[3],Ee,Ne)}function y(ee,$,G){for(let h=0;h<4;h++)D(ee[h],$[h],G)}function l(ee,$){const G=N(),h=N(),B=N();(function g(ee,$){const G=N();let h;for(h=0;h<16;h++)G[h]=$[h];for(h=253;h>=0;h--)o(G,G),2!==h&&4!==h&&u(G,G,$);for(h=0;h<16;h++)ee[h]=G[h]})(B,$[2]),u(G,$[0],B),u(h,$[1],B),ce(ee,h),ee[31]^=U(G)<<7}function w(ee,$){const G=[N(),N(),N(),N()];re(G[0],Q),re(G[1],ne),re(G[2],R),u(G[3],Q,ne),function b(ee,$,G){re(ee[0],T),re(ee[1],R),re(ee[2],R),re(ee[3],T);for(let h=255;h>=0;--h){const B=G[h/8|0]>>(7&h)&1;y(ee,$,B),_($,ee),_(ee,ee),y(ee,$,B)}}(ee,G,$)}f._w=function I(ee){if(ee.length!==f.aP)throw new Error(`ed25519: seed must be ${f.aP} bytes`);const $=(0,q.hash)(ee);$[0]&=248,$[31]&=127,$[31]|=64;const G=new Uint8Array(32),h=[N(),N(),N(),N()];w(h,$),l(G,h);const B=new Uint8Array(64);return B.set(ee),B.set(G,32),{publicKey:G,secretKey:B}};const k=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function j(ee,$){let G,h,B,de;for(h=63;h>=32;--h){for(G=0,B=h-32,de=h-12;B<de;++B)$[B]+=G-16*$[h]*k[B-(h-32)],G=Math.floor(($[B]+128)/256),$[B]-=256*G;$[B]+=G,$[h]=0}for(G=0,B=0;B<32;B++)$[B]+=G-($[31]>>4)*k[B],G=$[B]>>8,$[B]&=255;for(B=0;B<32;B++)$[B]-=G*k[B];for(h=0;h<32;h++)$[h+1]+=$[h]>>8,ee[h]=255&$[h]}function fe(ee){const $=new Float64Array(64);for(let G=0;G<64;G++)$[G]=ee[G];for(let G=0;G<64;G++)ee[G]=0;j(ee,$)}f.Xx=function se(ee,$){const G=new Float64Array(64),h=[N(),N(),N(),N()],B=(0,q.hash)(ee.subarray(0,32));B[0]&=248,B[31]&=127,B[31]|=64;const de=new Uint8Array(64);de.set(B.subarray(32),32);const Ee=new q.SHA512;Ee.update(de.subarray(32)),Ee.update($);const Ae=Ee.digest();Ee.clean(),fe(Ae),w(h,Ae),l(de,h),Ee.reset(),Ee.update(de.subarray(0,32)),Ee.update(ee.subarray(32)),Ee.update($);const Ve=Ee.digest();fe(Ve);for(let Ne=0;Ne<32;Ne++)G[Ne]=Ae[Ne];for(let Ne=0;Ne<32;Ne++)for(let Ke=0;Ke<32;Ke++)G[Ne+Ke]+=Ve[Ne]*B[Ke];return j(de.subarray(32),G),de}},51845:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.isSerializableHash=function v(E){return typeof E.saveState<"u"&&typeof E.restoreState<"u"&&typeof E.cleanSavedState<"u"}},82584:(he,f,v)=>{"use strict";var W=v(99171),q=v(11512),V=function(){function N(K,T,R,O){void 0===R&&(R=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=K,this._info=O;var P=W.hmac(this._hash,R,T);this._hmac=new W.HMAC(K,P),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return N.prototype._fillBuffer=function(){this._counter[0]++;var K=this._counter[0];if(0===K)throw new Error("hkdf: cannot expand more");this._hmac.reset(),K>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},N.prototype.expand=function(K){for(var T=new Uint8Array(K),R=0;R<T.length;R++)this._bufpos===this._buffer.length&&this._fillBuffer(),T[R]=this._buffer[this._bufpos++];return T},N.prototype.clean=function(){this._hmac.clean(),q.wipe(this._buffer),q.wipe(this._counter),this._bufpos=0},N}();f.t=V},99171:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var E=v(51845),W=v(93386),q=v(11512),V=function(){function K(T,R){this._finished=!1,this._inner=new T,this._outer=new T,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var O=new Uint8Array(this.blockSize);R.length>this.blockSize?this._inner.update(R).finish(O).clean():O.set(R);for(var P=0;P<O.length;P++)O[P]^=54;for(this._inner.update(O),P=0;P<O.length;P++)O[P]^=106;this._outer.update(O),E.isSerializableHash(this._inner)&&E.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),q.wipe(O)}return K.prototype.reset=function(){if(!E.isSerializableHash(this._inner)||!E.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},K.prototype.clean=function(){E.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),E.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},K.prototype.update=function(T){return this._inner.update(T),this},K.prototype.finish=function(T){return this._finished?(this._outer.finish(T),this):(this._inner.finish(T),this._outer.update(T.subarray(0,this.digestLength)).finish(T),this._finished=!0,this)},K.prototype.digest=function(){var T=new Uint8Array(this.digestLength);return this.finish(T),T},K.prototype.saveState=function(){if(!E.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},K.prototype.restoreState=function(T){if(!E.isSerializableHash(this._inner)||!E.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(T),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},K.prototype.cleanSavedState=function(T){if(!E.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(T)},K}();f.HMAC=V,f.hmac=function N(K,T,R){var O=new V(K,T);O.update(R);var P=O.digest();return O.clean(),P},f.equal=W.equal},17686:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.mul=Math.imul||function v(K,T){var O=65535&K,Q=65535&T;return O*Q+((K>>>16&65535)*Q+O*(T>>>16&65535)<<16>>>0)|0},f.add=function E(K,T){return K+T|0},f.sub=function W(K,T){return K-T|0},f.rotl=function q(K,T){return K<<T|K>>>32-T},f.rotr=function V(K,T){return K<<32-T|K>>>T},f.isInteger=Number.isInteger||function N(K){return"number"==typeof K&&isFinite(K)&&Math.floor(K)===K},f.MAX_SAFE_INTEGER=9007199254740991,f.isSafeInteger=function(K){return f.isInteger(K)&&K>=-f.MAX_SAFE_INTEGER&&K<=f.MAX_SAFE_INTEGER}},83905:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var E=v(93386),W=v(11512);f.DIGEST_LENGTH=16;var q=function(){function K(T){this.digestLength=f.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var R=T[0]|T[1]<<8;this._r[0]=8191&R;var O=T[2]|T[3]<<8;this._r[1]=8191&(R>>>13|O<<3);var P=T[4]|T[5]<<8;this._r[2]=7939&(O>>>10|P<<6);var Q=T[6]|T[7]<<8;this._r[3]=8191&(P>>>7|Q<<9);var ne=T[8]|T[9]<<8;this._r[4]=255&(Q>>>4|ne<<12),this._r[5]=ne>>>1&8190;var X=T[10]|T[11]<<8;this._r[6]=8191&(ne>>>14|X<<2);var re=T[12]|T[13]<<8;this._r[7]=8065&(X>>>11|re<<5);var ae=T[14]|T[15]<<8;this._r[8]=8191&(re>>>8|ae<<8),this._r[9]=ae>>>5&127,this._pad[0]=T[16]|T[17]<<8,this._pad[1]=T[18]|T[19]<<8,this._pad[2]=T[20]|T[21]<<8,this._pad[3]=T[22]|T[23]<<8,this._pad[4]=T[24]|T[25]<<8,this._pad[5]=T[26]|T[27]<<8,this._pad[6]=T[28]|T[29]<<8,this._pad[7]=T[30]|T[31]<<8}return K.prototype._blocks=function(T,R,O){for(var P=this._fin?0:2048,Q=this._h[0],ne=this._h[1],X=this._h[2],re=this._h[3],ae=this._h[4],D=this._h[5],ce=this._h[6],J=this._h[7],L=this._h[8],U=this._h[9],A=this._r[0],F=this._r[1],x=this._r[2],u=this._r[3],o=this._r[4],g=this._r[5],d=this._r[6],_=this._r[7],y=this._r[8],l=this._r[9];O>=16;){var b=T[R+0]|T[R+1]<<8,w=T[R+2]|T[R+3]<<8,I=T[R+4]|T[R+5]<<8,m=T[R+6]|T[R+7]<<8,M=T[R+8]|T[R+9]<<8,k=T[R+10]|T[R+11]<<8,j=T[R+12]|T[R+13]<<8,fe=T[R+14]|T[R+15]<<8,se=0,ue=se;ue+=(Q+=8191&b)*A,ue+=(ne+=8191&(b>>>13|w<<3))*(5*l),ue+=(X+=8191&(w>>>10|I<<6))*(5*y),ue+=(re+=8191&(I>>>7|m<<9))*(5*_),se=(ue+=(ae+=8191&(m>>>4|M<<12))*(5*d))>>>13,ue&=8191,ue+=(D+=M>>>1&8191)*(5*g),ue+=(ce+=8191&(M>>>14|k<<2))*(5*o),ue+=(J+=8191&(k>>>11|j<<5))*(5*u),ue+=(L+=8191&(j>>>8|fe<<8))*(5*x);var pe=se+=(ue+=(U+=fe>>>5|P)*(5*F))>>>13;pe+=Q*F,pe+=ne*A,pe+=X*(5*l),pe+=re*(5*y),se=(pe+=ae*(5*_))>>>13,pe&=8191,pe+=D*(5*d),pe+=ce*(5*g),pe+=J*(5*o),pe+=L*(5*u),se+=(pe+=U*(5*x))>>>13,pe&=8191;var me=se;me+=Q*x,me+=ne*F,me+=X*A,me+=re*(5*l),se=(me+=ae*(5*y))>>>13,me&=8191,me+=D*(5*_),me+=ce*(5*d),me+=J*(5*g),me+=L*(5*o);var _e=se+=(me+=U*(5*u))>>>13;_e+=Q*u,_e+=ne*x,_e+=X*F,_e+=re*A,se=(_e+=ae*(5*l))>>>13,_e&=8191,_e+=D*(5*y),_e+=ce*(5*_),_e+=J*(5*d),_e+=L*(5*g);var ee=se+=(_e+=U*(5*o))>>>13;ee+=Q*o,ee+=ne*u,ee+=X*x,ee+=re*F,se=(ee+=ae*A)>>>13,ee&=8191,ee+=D*(5*l),ee+=ce*(5*y),ee+=J*(5*_),ee+=L*(5*d);var $=se+=(ee+=U*(5*g))>>>13;$+=Q*g,$+=ne*o,$+=X*u,$+=re*x,se=($+=ae*F)>>>13,$&=8191,$+=D*A,$+=ce*(5*l),$+=J*(5*y),$+=L*(5*_);var G=se+=($+=U*(5*d))>>>13;G+=Q*d,G+=ne*g,G+=X*o,G+=re*u,se=(G+=ae*x)>>>13,G&=8191,G+=D*F,G+=ce*A,G+=J*(5*l),G+=L*(5*y);var h=se+=(G+=U*(5*_))>>>13;h+=Q*_,h+=ne*d,h+=X*g,h+=re*o,se=(h+=ae*u)>>>13,h&=8191,h+=D*x,h+=ce*F,h+=J*A,h+=L*(5*l);var B=se+=(h+=U*(5*y))>>>13;B+=Q*y,B+=ne*_,B+=X*d,B+=re*g,se=(B+=ae*o)>>>13,B&=8191,B+=D*u,B+=ce*x,B+=J*F,B+=L*A;var de=se+=(B+=U*(5*l))>>>13;de+=Q*l,de+=ne*y,de+=X*_,de+=re*d,se=(de+=ae*g)>>>13,de&=8191,de+=D*o,de+=ce*u,de+=J*x,de+=L*F,Q=ue=8191&(se=(se=((se+=(de+=U*A)>>>13)<<2)+se|0)+(ue&=8191)|0),ne=pe+=se>>>=13,X=me&=8191,re=_e&=8191,ae=ee&=8191,D=$&=8191,ce=G&=8191,J=h&=8191,L=B&=8191,U=de&=8191,R+=16,O-=16}this._h[0]=Q,this._h[1]=ne,this._h[2]=X,this._h[3]=re,this._h[4]=ae,this._h[5]=D,this._h[6]=ce,this._h[7]=J,this._h[8]=L,this._h[9]=U},K.prototype.finish=function(T,R){void 0===R&&(R=0);var P,Q,ne,X,O=new Uint16Array(10);if(this._leftover){for(X=this._leftover,this._buffer[X++]=1;X<16;X++)this._buffer[X]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(P=this._h[1]>>>13,this._h[1]&=8191,X=2;X<10;X++)this._h[X]+=P,P=this._h[X]>>>13,this._h[X]&=8191;for(this._h[0]+=5*P,P=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=P,P=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=P,O[0]=this._h[0]+5,P=O[0]>>>13,O[0]&=8191,X=1;X<10;X++)O[X]=this._h[X]+P,P=O[X]>>>13,O[X]&=8191;for(O[9]-=8192,Q=(1^P)-1,X=0;X<10;X++)O[X]&=Q;for(Q=~Q,X=0;X<10;X++)this._h[X]=this._h[X]&Q|O[X];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),this._h[0]=65535&(ne=this._h[0]+this._pad[0]),X=1;X<8;X++)this._h[X]=65535&(ne=(this._h[X]+this._pad[X]|0)+(ne>>>16)|0);return T[R+0]=this._h[0]>>>0,T[R+1]=this._h[0]>>>8,T[R+2]=this._h[1]>>>0,T[R+3]=this._h[1]>>>8,T[R+4]=this._h[2]>>>0,T[R+5]=this._h[2]>>>8,T[R+6]=this._h[3]>>>0,T[R+7]=this._h[3]>>>8,T[R+8]=this._h[4]>>>0,T[R+9]=this._h[4]>>>8,T[R+10]=this._h[5]>>>0,T[R+11]=this._h[5]>>>8,T[R+12]=this._h[6]>>>0,T[R+13]=this._h[6]>>>8,T[R+14]=this._h[7]>>>0,T[R+15]=this._h[7]>>>8,this._finished=!0,this},K.prototype.update=function(T){var P,R=0,O=T.length;if(this._leftover){(P=16-this._leftover)>O&&(P=O);for(var Q=0;Q<P;Q++)this._buffer[this._leftover+Q]=T[R+Q];if(O-=P,R+=P,this._leftover+=P,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(O>=16&&(this._blocks(T,R,P=O-O%16),R+=P,O-=P),O){for(Q=0;Q<O;Q++)this._buffer[this._leftover+Q]=T[R+Q];this._leftover+=O}return this},K.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var T=new Uint8Array(16);return this.finish(T),T},K.prototype.clean=function(){return W.wipe(this._buffer),W.wipe(this._r),W.wipe(this._h),W.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},K}();f.Poly1305=q,f.oneTimeAuth=function V(K,T){var R=new q(K);R.update(T);var O=R.digest();return R.clean(),O},f.equal=function N(K,T){return K.length===f.DIGEST_LENGTH&&T.length===f.DIGEST_LENGTH&&E.equal(K,T)}},7841:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.randomStringForEntropy=f.randomString=f.randomUint32=f.randomBytes=f.defaultRandomSource=void 0;const E=v(14894),W=v(32222),q=v(11512);function V(O,P=f.defaultRandomSource){return P.randomBytes(O)}f.defaultRandomSource=new E.SystemRandomSource,f.randomBytes=V,f.randomUint32=function N(O=f.defaultRandomSource){const P=V(4,O),Q=(0,W.readUint32LE)(P);return(0,q.wipe)(P),Q};const K="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function T(O,P=K,Q=f.defaultRandomSource){if(P.length<2)throw new Error("randomString charset is too short");if(P.length>256)throw new Error("randomString charset is too long");let ne="";const X=P.length,re=256-256%X;for(;O>0;){const ae=V(Math.ceil(256*O/re),Q);for(let D=0;D<ae.length&&O>0;D++){const ce=ae[D];ce<re&&(ne+=P.charAt(ce%X),O--)}(0,q.wipe)(ae)}return ne}f.randomString=T,f.randomStringForEntropy=function R(O,P=K,Q=f.defaultRandomSource){return T(Math.ceil(O/(Math.log(P.length)/Math.LN2)),P,Q)}},33607:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.BrowserRandomSource=void 0,f.BrowserRandomSource=class E{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const q=typeof self<"u"?self.crypto||self.msCrypto:null;q&&void 0!==q.getRandomValues&&(this._crypto=q,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(q){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const V=new Uint8Array(q);for(let N=0;N<V.length;N+=65536)this._crypto.getRandomValues(V.subarray(N,N+Math.min(V.length-N,65536)));return V}}},73022:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.NodeRandomSource=void 0;const E=v(11512);f.NodeRandomSource=class W{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const V=v(19726);V&&V.randomBytes&&(this._crypto=V,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(V){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let N=this._crypto.randomBytes(V);if(N.length!==V)throw new Error("NodeRandomSource: got fewer bytes than requested");const K=new Uint8Array(V);for(let T=0;T<K.length;T++)K[T]=N[T];return(0,E.wipe)(N),K}}},14894:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.SystemRandomSource=void 0;const E=v(33607),W=v(73022);f.SystemRandomSource=class q{constructor(){return this.isAvailable=!1,this.name="",this._source=new E.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new W.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(N){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(N)}}},59373:(he,f,v)=>{"use strict";var W=v(32222),q=v(11512);f.k=32,f.cn=64;var V=function(){function R(){this.digestLength=f.k,this.blockSize=f.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return R.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},R.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},R.prototype.clean=function(){q.wipe(this._buffer),q.wipe(this._temp),this.reset()},R.prototype.update=function(O,P){if(void 0===P&&(P=O.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var Q=0;if(this._bytesHashed+=P,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&P>0;)this._buffer[this._bufferLength++]=O[Q++],P--;this._bufferLength===this.blockSize&&(K(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(P>=this.blockSize&&(Q=K(this._temp,this._state,O,Q,P),P%=this.blockSize);P>0;)this._buffer[this._bufferLength++]=O[Q++],P--;return this},R.prototype.finish=function(O){if(!this._finished){var P=this._bytesHashed,Q=this._bufferLength,ne=P/536870912|0,X=P<<3,re=P%64<56?64:128;this._buffer[Q]=128;for(var ae=Q+1;ae<re-8;ae++)this._buffer[ae]=0;W.writeUint32BE(ne,this._buffer,re-8),W.writeUint32BE(X,this._buffer,re-4),K(this._temp,this._state,this._buffer,0,re),this._finished=!0}for(ae=0;ae<this.digestLength/4;ae++)W.writeUint32BE(this._state[ae],O,4*ae);return this},R.prototype.digest=function(){var O=new Uint8Array(this.digestLength);return this.finish(O),O},R.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},R.prototype.restoreState=function(O){return this._state.set(O.state),this._bufferLength=O.bufferLength,O.buffer&&this._buffer.set(O.buffer),this._bytesHashed=O.bytesHashed,this._finished=!1,this},R.prototype.cleanSavedState=function(O){q.wipe(O.state),O.buffer&&q.wipe(O.buffer),O.bufferLength=0,O.bytesHashed=0},R}();f.mE=V;var N=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function K(R,O,P,Q,ne){for(;ne>=64;){for(var X=O[0],re=O[1],ae=O[2],D=O[3],ce=O[4],J=O[5],L=O[6],U=O[7],A=0;A<16;A++)R[A]=W.readUint32BE(P,Q+4*A);for(A=16;A<64;A++){var x=R[A-2];R[A]=((u=(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10)+R[A-7]|0)+((o=((x=R[A-15])>>>7|x<<25)^(x>>>18|x<<14)^x>>>3)+R[A-16]|0)}for(A=0;A<64;A++){var u=(((ce>>>6|ce<<26)^(ce>>>11|ce<<21)^(ce>>>25|ce<<7))+(ce&J^~ce&L)|0)+(U+(N[A]+R[A]|0)|0)|0,o=((X>>>2|X<<30)^(X>>>13|X<<19)^(X>>>22|X<<10))+(X&re^X&ae^re&ae)|0;U=L,L=J,J=ce,ce=D+u|0,D=ae,ae=re,re=X,X=u+o|0}O[0]+=X,O[1]+=re,O[2]+=ae,O[3]+=D,O[4]+=ce,O[5]+=J,O[6]+=L,O[7]+=U,Q+=64,ne-=64}return Q}f.vp=function T(R){var O=new V;O.update(R);var P=O.digest();return O.clean(),P}},85198:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var E=v(32222),W=v(11512);f.DIGEST_LENGTH=64,f.BLOCK_SIZE=128;var q=function(){function T(){this.digestLength=f.DIGEST_LENGTH,this.blockSize=f.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return T.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},T.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},T.prototype.clean=function(){W.wipe(this._buffer),W.wipe(this._tempHi),W.wipe(this._tempLo),this.reset()},T.prototype.update=function(R,O){if(void 0===O&&(O=R.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var P=0;if(this._bytesHashed+=O,this._bufferLength>0){for(;this._bufferLength<f.BLOCK_SIZE&&O>0;)this._buffer[this._bufferLength++]=R[P++],O--;this._bufferLength===this.blockSize&&(N(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(O>=this.blockSize&&(P=N(this._tempHi,this._tempLo,this._stateHi,this._stateLo,R,P,O),O%=this.blockSize);O>0;)this._buffer[this._bufferLength++]=R[P++],O--;return this},T.prototype.finish=function(R){if(!this._finished){var O=this._bytesHashed,P=this._bufferLength,Q=O/536870912|0,ne=O<<3,X=O%128<112?128:256;this._buffer[P]=128;for(var re=P+1;re<X-8;re++)this._buffer[re]=0;E.writeUint32BE(Q,this._buffer,X-8),E.writeUint32BE(ne,this._buffer,X-4),N(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,X),this._finished=!0}for(re=0;re<this.digestLength/8;re++)E.writeUint32BE(this._stateHi[re],R,8*re),E.writeUint32BE(this._stateLo[re],R,8*re+4);return this},T.prototype.digest=function(){var R=new Uint8Array(this.digestLength);return this.finish(R),R},T.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},T.prototype.restoreState=function(R){return this._stateHi.set(R.stateHi),this._stateLo.set(R.stateLo),this._bufferLength=R.bufferLength,R.buffer&&this._buffer.set(R.buffer),this._bytesHashed=R.bytesHashed,this._finished=!1,this},T.prototype.cleanSavedState=function(R){W.wipe(R.stateHi),W.wipe(R.stateLo),R.buffer&&W.wipe(R.buffer),R.bufferLength=0,R.bytesHashed=0},T}();f.SHA512=q;var V=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function N(T,R,O,P,Q,ne,X){for(var l,b,w,I,m,M,k,j,re=O[0],ae=O[1],D=O[2],ce=O[3],J=O[4],L=O[5],U=O[6],A=O[7],F=P[0],x=P[1],u=P[2],o=P[3],g=P[4],d=P[5],_=P[6],y=P[7];X>=128;){for(var fe=0;fe<16;fe++)T[fe]=E.readUint32BE(Q,se=8*fe+ne),R[fe]=E.readUint32BE(Q,se+4);for(fe=0;fe<80;fe++){var h,nt,pe=ae,me=D,_e=ce,ee=J,$=L,G=U,de=x,Ee=u,Ae=o,Ve=g,Ne=d,Ke=_;if(m=65535&(b=y),M=b>>>16,k=65535&(l=A),j=l>>>16,m+=65535&(b=(g>>>14|J<<18)^(g>>>18|J<<14)^(J>>>9|g<<23)),M+=b>>>16,k+=65535&(l=(J>>>14|g<<18)^(J>>>18|g<<14)^(g>>>9|J<<23)),j+=l>>>16,m+=65535&(b=g&d^~g&_),M+=b>>>16,k+=65535&(l=J&L^~J&U),j+=l>>>16,m+=65535&(b=V[2*fe+1]),M+=b>>>16,k+=65535&(l=V[2*fe]),j+=l>>>16,M+=(b=R[fe%16])>>>16,k+=65535&(l=T[fe%16]),j+=l>>>16,k+=(M+=(m+=65535&b)>>>16)>>>16,m=65535&(b=I=65535&m|M<<16),M=b>>>16,k=65535&(l=w=65535&k|(j+=k>>>16)<<16),j=l>>>16,m+=65535&(b=(F>>>28|re<<4)^(re>>>2|F<<30)^(re>>>7|F<<25)),M+=b>>>16,k+=65535&(l=(re>>>28|F<<4)^(F>>>2|re<<30)^(F>>>7|re<<25)),j+=l>>>16,M+=(b=F&x^F&u^x&u)>>>16,k+=65535&(l=re&ae^re&D^ae&D),j+=l>>>16,h=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,nt=65535&m|M<<16,m=65535&(b=Ae),M=b>>>16,k=65535&(l=_e),j=l>>>16,M+=(b=I)>>>16,k+=65535&(l=w),j+=l>>>16,ae=re,D=pe,ce=me,J=_e=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,L=ee,U=$,A=G,re=h,x=F,u=de,o=Ee,g=Ae=65535&m|M<<16,d=Ve,_=Ne,y=Ke,F=nt,fe%16==15)for(var se=0;se<16;se++)m=65535&(b=R[se]),M=b>>>16,k=65535&(l=T[se]),j=l>>>16,m+=65535&(b=R[(se+9)%16]),M+=b>>>16,k+=65535&(l=T[(se+9)%16]),j+=l>>>16,m+=65535&(b=((I=R[(se+1)%16])>>>1|(w=T[(se+1)%16])<<31)^(I>>>8|w<<24)^(I>>>7|w<<25)),M+=b>>>16,k+=65535&(l=(w>>>1|I<<31)^(w>>>8|I<<24)^w>>>7),j+=l>>>16,M+=(b=((I=R[(se+14)%16])>>>19|(w=T[(se+14)%16])<<13)^(w>>>29|I<<3)^(I>>>6|w<<26))>>>16,k+=65535&(l=(w>>>19|I<<13)^(I>>>29|w<<3)^w>>>6),j+=l>>>16,T[se]=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,R[se]=65535&m|M<<16}m=65535&(b=F),M=b>>>16,k=65535&(l=re),j=l>>>16,M+=(b=P[0])>>>16,k+=65535&(l=O[0]),j+=l>>>16,O[0]=re=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,P[0]=F=65535&m|M<<16,m=65535&(b=x),M=b>>>16,k=65535&(l=ae),j=l>>>16,M+=(b=P[1])>>>16,k+=65535&(l=O[1]),j+=l>>>16,O[1]=ae=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,P[1]=x=65535&m|M<<16,m=65535&(b=u),M=b>>>16,k=65535&(l=D),j=l>>>16,M+=(b=P[2])>>>16,k+=65535&(l=O[2]),j+=l>>>16,O[2]=D=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,P[2]=u=65535&m|M<<16,m=65535&(b=o),M=b>>>16,k=65535&(l=ce),j=l>>>16,M+=(b=P[3])>>>16,k+=65535&(l=O[3]),j+=l>>>16,O[3]=ce=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,P[3]=o=65535&m|M<<16,m=65535&(b=g),M=b>>>16,k=65535&(l=J),j=l>>>16,M+=(b=P[4])>>>16,k+=65535&(l=O[4]),j+=l>>>16,O[4]=J=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,P[4]=g=65535&m|M<<16,m=65535&(b=d),M=b>>>16,k=65535&(l=L),j=l>>>16,M+=(b=P[5])>>>16,k+=65535&(l=O[5]),j+=l>>>16,O[5]=L=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,P[5]=d=65535&m|M<<16,m=65535&(b=_),M=b>>>16,k=65535&(l=U),j=l>>>16,M+=(b=P[6])>>>16,k+=65535&(l=O[6]),j+=l>>>16,O[6]=U=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,P[6]=_=65535&m|M<<16,m=65535&(b=y),M=b>>>16,k=65535&(l=A),j=l>>>16,M+=(b=P[7])>>>16,k+=65535&(l=O[7]),j+=l>>>16,O[7]=A=65535&(k+=(M+=(m+=65535&b)>>>16)>>>16)|(j+=k>>>16)<<16,P[7]=y=65535&m|M<<16,ne+=128,X-=128}return ne}f.hash=function K(T){var R=new q;R.update(T);var O=R.digest();return R.clean(),O}},11512:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.wipe=function v(E){for(var W=0;W<E.length;W++)E[W]=0;return E}},65504:(he,f,v)=>{"use strict";f.gi=f.Au=f.KS=f.kz=void 0;const W=v(7841),q=v(11512);function V(A){const F=new Float64Array(16);if(A)for(let x=0;x<A.length;x++)F[x]=A[x];return F}f.kz=32,f.KS=32;const N=new Uint8Array(32);N[0]=9;const K=V([56129,1]);function T(A){let F=1;for(let x=0;x<16;x++){let u=A[x]+F+65535;F=Math.floor(u/65536),A[x]=u-65536*F}A[0]+=F-1+37*(F-1)}function R(A,F,x){const u=~(x-1);for(let o=0;o<16;o++){const g=u&(A[o]^F[o]);A[o]^=g,F[o]^=g}}function Q(A,F,x){for(let u=0;u<16;u++)A[u]=F[u]+x[u]}function ne(A,F,x){for(let u=0;u<16;u++)A[u]=F[u]-x[u]}function X(A,F,x){let u,o,g=0,d=0,_=0,y=0,l=0,b=0,w=0,I=0,m=0,M=0,k=0,j=0,fe=0,se=0,ue=0,pe=0,me=0,_e=0,ee=0,$=0,G=0,h=0,B=0,de=0,Ee=0,Ae=0,Ve=0,Ne=0,Ke=0,nt=0,gt=0,Fe=x[0],Me=x[1],Ce=x[2],Te=x[3],Pe=x[4],we=x[5],xe=x[6],Ie=x[7],De=x[8],Ue=x[9],je=x[10],We=x[11],Ge=x[12],$e=x[13],He=x[14],Xe=x[15];u=F[0],g+=u*Fe,d+=u*Me,_+=u*Ce,y+=u*Te,l+=u*Pe,b+=u*we,w+=u*xe,I+=u*Ie,m+=u*De,M+=u*Ue,k+=u*je,j+=u*We,fe+=u*Ge,se+=u*$e,ue+=u*He,pe+=u*Xe,u=F[1],d+=u*Fe,_+=u*Me,y+=u*Ce,l+=u*Te,b+=u*Pe,w+=u*we,I+=u*xe,m+=u*Ie,M+=u*De,k+=u*Ue,j+=u*je,fe+=u*We,se+=u*Ge,ue+=u*$e,pe+=u*He,me+=u*Xe,u=F[2],_+=u*Fe,y+=u*Me,l+=u*Ce,b+=u*Te,w+=u*Pe,I+=u*we,m+=u*xe,M+=u*Ie,k+=u*De,j+=u*Ue,fe+=u*je,se+=u*We,ue+=u*Ge,pe+=u*$e,me+=u*He,_e+=u*Xe,u=F[3],y+=u*Fe,l+=u*Me,b+=u*Ce,w+=u*Te,I+=u*Pe,m+=u*we,M+=u*xe,k+=u*Ie,j+=u*De,fe+=u*Ue,se+=u*je,ue+=u*We,pe+=u*Ge,me+=u*$e,_e+=u*He,ee+=u*Xe,u=F[4],l+=u*Fe,b+=u*Me,w+=u*Ce,I+=u*Te,m+=u*Pe,M+=u*we,k+=u*xe,j+=u*Ie,fe+=u*De,se+=u*Ue,ue+=u*je,pe+=u*We,me+=u*Ge,_e+=u*$e,ee+=u*He,$+=u*Xe,u=F[5],b+=u*Fe,w+=u*Me,I+=u*Ce,m+=u*Te,M+=u*Pe,k+=u*we,j+=u*xe,fe+=u*Ie,se+=u*De,ue+=u*Ue,pe+=u*je,me+=u*We,_e+=u*Ge,ee+=u*$e,$+=u*He,G+=u*Xe,u=F[6],w+=u*Fe,I+=u*Me,m+=u*Ce,M+=u*Te,k+=u*Pe,j+=u*we,fe+=u*xe,se+=u*Ie,ue+=u*De,pe+=u*Ue,me+=u*je,_e+=u*We,ee+=u*Ge,$+=u*$e,G+=u*He,h+=u*Xe,u=F[7],I+=u*Fe,m+=u*Me,M+=u*Ce,k+=u*Te,j+=u*Pe,fe+=u*we,se+=u*xe,ue+=u*Ie,pe+=u*De,me+=u*Ue,_e+=u*je,ee+=u*We,$+=u*Ge,G+=u*$e,h+=u*He,B+=u*Xe,u=F[8],m+=u*Fe,M+=u*Me,k+=u*Ce,j+=u*Te,fe+=u*Pe,se+=u*we,ue+=u*xe,pe+=u*Ie,me+=u*De,_e+=u*Ue,ee+=u*je,$+=u*We,G+=u*Ge,h+=u*$e,B+=u*He,de+=u*Xe,u=F[9],M+=u*Fe,k+=u*Me,j+=u*Ce,fe+=u*Te,se+=u*Pe,ue+=u*we,pe+=u*xe,me+=u*Ie,_e+=u*De,ee+=u*Ue,$+=u*je,G+=u*We,h+=u*Ge,B+=u*$e,de+=u*He,Ee+=u*Xe,u=F[10],k+=u*Fe,j+=u*Me,fe+=u*Ce,se+=u*Te,ue+=u*Pe,pe+=u*we,me+=u*xe,_e+=u*Ie,ee+=u*De,$+=u*Ue,G+=u*je,h+=u*We,B+=u*Ge,de+=u*$e,Ee+=u*He,Ae+=u*Xe,u=F[11],j+=u*Fe,fe+=u*Me,se+=u*Ce,ue+=u*Te,pe+=u*Pe,me+=u*we,_e+=u*xe,ee+=u*Ie,$+=u*De,G+=u*Ue,h+=u*je,B+=u*We,de+=u*Ge,Ee+=u*$e,Ae+=u*He,Ve+=u*Xe,u=F[12],fe+=u*Fe,se+=u*Me,ue+=u*Ce,pe+=u*Te,me+=u*Pe,_e+=u*we,ee+=u*xe,$+=u*Ie,G+=u*De,h+=u*Ue,B+=u*je,de+=u*We,Ee+=u*Ge,Ae+=u*$e,Ve+=u*He,Ne+=u*Xe,u=F[13],se+=u*Fe,ue+=u*Me,pe+=u*Ce,me+=u*Te,_e+=u*Pe,ee+=u*we,$+=u*xe,G+=u*Ie,h+=u*De,B+=u*Ue,de+=u*je,Ee+=u*We,Ae+=u*Ge,Ve+=u*$e,Ne+=u*He,Ke+=u*Xe,u=F[14],ue+=u*Fe,pe+=u*Me,me+=u*Ce,_e+=u*Te,ee+=u*Pe,$+=u*we,G+=u*xe,h+=u*Ie,B+=u*De,de+=u*Ue,Ee+=u*je,Ae+=u*We,Ve+=u*Ge,Ne+=u*$e,Ke+=u*He,nt+=u*Xe,u=F[15],pe+=u*Fe,me+=u*Me,_e+=u*Ce,ee+=u*Te,$+=u*Pe,G+=u*we,h+=u*xe,B+=u*Ie,de+=u*De,Ee+=u*Ue,Ae+=u*je,Ve+=u*We,Ne+=u*Ge,Ke+=u*$e,nt+=u*He,gt+=u*Xe,g+=38*me,d+=38*_e,_+=38*ee,y+=38*$,l+=38*G,b+=38*h,w+=38*B,I+=38*de,m+=38*Ee,M+=38*Ae,k+=38*Ve,j+=38*Ne,fe+=38*Ke,se+=38*nt,ue+=38*gt,o=1,u=g+o+65535,o=Math.floor(u/65536),g=u-65536*o,u=d+o+65535,o=Math.floor(u/65536),d=u-65536*o,u=_+o+65535,o=Math.floor(u/65536),_=u-65536*o,u=y+o+65535,o=Math.floor(u/65536),y=u-65536*o,u=l+o+65535,o=Math.floor(u/65536),l=u-65536*o,u=b+o+65535,o=Math.floor(u/65536),b=u-65536*o,u=w+o+65535,o=Math.floor(u/65536),w=u-65536*o,u=I+o+65535,o=Math.floor(u/65536),I=u-65536*o,u=m+o+65535,o=Math.floor(u/65536),m=u-65536*o,u=M+o+65535,o=Math.floor(u/65536),M=u-65536*o,u=k+o+65535,o=Math.floor(u/65536),k=u-65536*o,u=j+o+65535,o=Math.floor(u/65536),j=u-65536*o,u=fe+o+65535,o=Math.floor(u/65536),fe=u-65536*o,u=se+o+65535,o=Math.floor(u/65536),se=u-65536*o,u=ue+o+65535,o=Math.floor(u/65536),ue=u-65536*o,u=pe+o+65535,o=Math.floor(u/65536),pe=u-65536*o,g+=o-1+37*(o-1),o=1,u=g+o+65535,o=Math.floor(u/65536),g=u-65536*o,u=d+o+65535,o=Math.floor(u/65536),d=u-65536*o,u=_+o+65535,o=Math.floor(u/65536),_=u-65536*o,u=y+o+65535,o=Math.floor(u/65536),y=u-65536*o,u=l+o+65535,o=Math.floor(u/65536),l=u-65536*o,u=b+o+65535,o=Math.floor(u/65536),b=u-65536*o,u=w+o+65535,o=Math.floor(u/65536),w=u-65536*o,u=I+o+65535,o=Math.floor(u/65536),I=u-65536*o,u=m+o+65535,o=Math.floor(u/65536),m=u-65536*o,u=M+o+65535,o=Math.floor(u/65536),M=u-65536*o,u=k+o+65535,o=Math.floor(u/65536),k=u-65536*o,u=j+o+65535,o=Math.floor(u/65536),j=u-65536*o,u=fe+o+65535,o=Math.floor(u/65536),fe=u-65536*o,u=se+o+65535,o=Math.floor(u/65536),se=u-65536*o,u=ue+o+65535,o=Math.floor(u/65536),ue=u-65536*o,u=pe+o+65535,o=Math.floor(u/65536),pe=u-65536*o,g+=o-1+37*(o-1),A[0]=g,A[1]=d,A[2]=_,A[3]=y,A[4]=l,A[5]=b,A[6]=w,A[7]=I,A[8]=m,A[9]=M,A[10]=k,A[11]=j,A[12]=fe,A[13]=se,A[14]=ue,A[15]=pe}function re(A,F){X(A,F,F)}function D(A,F){const x=new Uint8Array(32),u=new Float64Array(80),o=V(),g=V(),d=V(),_=V(),y=V(),l=V();for(let m=0;m<31;m++)x[m]=A[m];x[31]=127&A[31]|64,x[0]&=248,function P(A,F){for(let x=0;x<16;x++)A[x]=F[2*x]+(F[2*x+1]<<8);A[15]&=32767}(u,F);for(let m=0;m<16;m++)g[m]=u[m];o[0]=_[0]=1;for(let m=254;m>=0;--m){const M=x[m>>>3]>>>(7&m)&1;R(o,g,M),R(d,_,M),Q(y,o,d),ne(o,o,d),Q(d,g,_),ne(g,g,_),re(_,y),re(l,o),X(o,d,o),X(d,g,y),Q(y,o,d),ne(o,o,d),re(g,o),ne(d,_,l),X(o,d,K),Q(o,o,_),X(d,d,o),X(o,_,l),X(_,g,u),re(g,y),R(o,g,M),R(d,_,M)}for(let m=0;m<16;m++)u[m+16]=o[m],u[m+32]=d[m],u[m+48]=g[m],u[m+64]=_[m];const b=u.subarray(32),w=u.subarray(16);(function ae(A,F){const x=V();for(let u=0;u<16;u++)x[u]=F[u];for(let u=253;u>=0;u--)re(x,x),2!==u&&4!==u&&X(x,x,F);for(let u=0;u<16;u++)A[u]=x[u]})(b,b),X(w,w,b);const I=new Uint8Array(32);return function O(A,F){const x=V(),u=V();for(let o=0;o<16;o++)u[o]=F[o];T(u),T(u),T(u);for(let o=0;o<2;o++){x[0]=u[0]-65517;for(let d=1;d<15;d++)x[d]=u[d]-65535-(x[d-1]>>16&1),x[d-1]&=65535;x[15]=u[15]-32767-(x[14]>>16&1);const g=x[15]>>16&1;x[14]&=65535,R(u,x,1-g)}for(let o=0;o<16;o++)A[2*o]=255&u[o],A[2*o+1]=u[o]>>8}(I,w),I}function ce(A){return D(A,N)}f.Au=function L(A){const F=(0,W.randomBytes)(32,A),x=function J(A){if(A.length!==f.KS)throw new Error(`x25519: seed must be ${f.KS} bytes`);const F=new Uint8Array(A);return{publicKey:ce(F),secretKey:F}}(F);return(0,q.wipe)(F),x},f.gi=function U(A,F,x=!1){if(A.length!==f.kz)throw new Error("X25519: incorrect secret key length");if(F.length!==f.kz)throw new Error("X25519: incorrect public key length");const u=D(A,F);if(x){let o=0;for(let g=0;g<u.length;g++)o|=u[g];if(0===o)throw new Error("X25519: invalid shared key")}return u}},38573:(he,f)=>{"use strict";function v(){return(null==global?void 0:global.crypto)||(null==global?void 0:global.msCrypto)||{}}function E(){const q=v();return q.subtle||q.webkitSubtle}Object.defineProperty(f,"__esModule",{value:!0}),f.isBrowserCryptoAvailable=f.getSubtleCrypto=f.getBrowerCrypto=void 0,f.getBrowerCrypto=v,f.getSubtleCrypto=E,f.isBrowserCryptoAvailable=function W(){return!!v()&&!!E()}},26e3:(he,f)=>{"use strict";function v(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function E(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Object.defineProperty(f,"__esModule",{value:!0}),f.isBrowser=f.isNode=f.isReactNative=void 0,f.isReactNative=v,f.isNode=E,f.isBrowser=function W(){return!v()&&!E()}},43841:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const E=v(69763);E.__exportStar(v(38573),f),E.__exportStar(v(26e3),f)},43795:(he,f,v)=>{"use strict";v.d(f,{q:()=>E});class E{}},39282:(he,f,v)=>{"use strict";v.r(f),v.d(f,{IEvents:()=>E.q});var E=v(43795)},6602:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.HEARTBEAT_EVENTS=f.HEARTBEAT_INTERVAL=void 0;const E=v(40145);f.HEARTBEAT_INTERVAL=E.FIVE_SECONDS,f.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},40073:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),v(99940).__exportStar(v(6602),f)},81382:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.HeartBeat=void 0;const E=v(99940),W=v(2272),q=v(40145),V=v(77522),N=v(40073);class K extends V.IHeartBeat{constructor(R){super(R),this.events=new W.EventEmitter,this.interval=N.HEARTBEAT_INTERVAL,this.interval=(null==R?void 0:R.interval)||N.HEARTBEAT_INTERVAL}static init(R){return E.__awaiter(this,void 0,void 0,function*(){const O=new K(R);return yield O.init(),O})}init(){return E.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(R,O){this.events.on(R,O)}once(R,O){this.events.once(R,O)}off(R,O){this.events.off(R,O)}removeListener(R,O){this.events.removeListener(R,O)}initialize(){return E.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),q.toMiliseconds(this.interval))})}pulse(){this.events.emit(N.HEARTBEAT_EVENTS.pulse)}}f.HeartBeat=K},40851:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const E=v(99940);E.__exportStar(v(81382),f),E.__exportStar(v(77522),f),E.__exportStar(v(40073),f)},31849:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.IHeartBeat=void 0;const E=v(39282);f.IHeartBeat=class W extends E.IEvents{constructor(V){super()}}},77522:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),v(99940).__exportStar(v(31849),f)},85666:(he,f,v)=>{"use strict";v.d(f,{IJsonRpcProvider:()=>q.x0});var E=v(24530);v.o(E,"IJsonRpcProvider")&&v.d(f,{IJsonRpcProvider:function(){return E.IJsonRpcProvider}}),v.o(E,"isHttpUrl")&&v.d(f,{isHttpUrl:function(){return E.isHttpUrl}}),v.o(E,"isJsonRpcError")&&v.d(f,{isJsonRpcError:function(){return E.isJsonRpcError}}),v.o(E,"isJsonRpcRequest")&&v.d(f,{isJsonRpcRequest:function(){return E.isJsonRpcRequest}}),v.o(E,"isJsonRpcResponse")&&v.d(f,{isJsonRpcResponse:function(){return E.isJsonRpcResponse}}),v.o(E,"isJsonRpcResult")&&v.d(f,{isJsonRpcResult:function(){return E.isJsonRpcResult}}),v.o(E,"isLocalhostUrl")&&v.d(f,{isLocalhostUrl:function(){return E.isLocalhostUrl}}),v.o(E,"isReactNative")&&v.d(f,{isReactNative:function(){return E.isReactNative}}),v.o(E,"isWsUrl")&&v.d(f,{isWsUrl:function(){return E.isWsUrl}});var q=v(15466),V=v(14980);v.o(V,"isHttpUrl")&&v.d(f,{isHttpUrl:function(){return V.isHttpUrl}}),v.o(V,"isJsonRpcError")&&v.d(f,{isJsonRpcError:function(){return V.isJsonRpcError}}),v.o(V,"isJsonRpcRequest")&&v.d(f,{isJsonRpcRequest:function(){return V.isJsonRpcRequest}}),v.o(V,"isJsonRpcResponse")&&v.d(f,{isJsonRpcResponse:function(){return V.isJsonRpcResponse}}),v.o(V,"isJsonRpcResult")&&v.d(f,{isJsonRpcResult:function(){return V.isJsonRpcResult}}),v.o(V,"isLocalhostUrl")&&v.d(f,{isLocalhostUrl:function(){return V.isLocalhostUrl}}),v.o(V,"isReactNative")&&v.d(f,{isReactNative:function(){return V.isReactNative}}),v.o(V,"isWsUrl")&&v.d(f,{isWsUrl:function(){return V.isWsUrl}})},24530:()=>{},15466:(he,f,v)=>{"use strict";v.d(f,{x0:()=>V});class V extends class q extends class E{}{constructor(){super()}}{constructor(K){super()}}},14980:()=>{},90680:(he,f,v)=>{"use strict";v.d(f,{CA:()=>K,JV:()=>P,O4:()=>N,dQ:()=>T,xK:()=>O});const N="INTERNAL_ERROR",K="SERVER_ERROR",T=[-32700,-32600,-32601,-32602,-32603],O={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[N]:{code:-32603,message:"Internal error"},[K]:{code:-32e3,message:"Server error"}},P=K},20429:(he,f,v)=>{"use strict";var E=v(43841);v.o(E,"IJsonRpcProvider")&&v.d(f,{IJsonRpcProvider:function(){return E.IJsonRpcProvider}}),v.o(E,"formatJsonRpcError")&&v.d(f,{formatJsonRpcError:function(){return E.formatJsonRpcError}}),v.o(E,"formatJsonRpcRequest")&&v.d(f,{formatJsonRpcRequest:function(){return E.formatJsonRpcRequest}}),v.o(E,"formatJsonRpcResult")&&v.d(f,{formatJsonRpcResult:function(){return E.formatJsonRpcResult}}),v.o(E,"isHttpUrl")&&v.d(f,{isHttpUrl:function(){return E.isHttpUrl}}),v.o(E,"isJsonRpcError")&&v.d(f,{isJsonRpcError:function(){return E.isJsonRpcError}}),v.o(E,"isJsonRpcRequest")&&v.d(f,{isJsonRpcRequest:function(){return E.isJsonRpcRequest}}),v.o(E,"isJsonRpcResponse")&&v.d(f,{isJsonRpcResponse:function(){return E.isJsonRpcResponse}}),v.o(E,"isJsonRpcResult")&&v.d(f,{isJsonRpcResult:function(){return E.isJsonRpcResult}}),v.o(E,"isLocalhostUrl")&&v.d(f,{isLocalhostUrl:function(){return E.isLocalhostUrl}}),v.o(E,"isReactNative")&&v.d(f,{isReactNative:function(){return E.isReactNative}}),v.o(E,"isWsUrl")&&v.d(f,{isWsUrl:function(){return E.isWsUrl}})},49286:(he,f,v)=>{"use strict";v.d(f,{CX:()=>R,L2:()=>K,by:()=>N,i5:()=>q});var E=v(90680);function q(O){return E.dQ.includes(O)}function N(O){return Object.keys(E.xK).includes(O)?E.xK[O]:E.xK[E.JV]}function K(O){return Object.values(E.xK).find(Q=>Q.code===O)||E.xK[E.JV]}function R(O,P,Q){return O.message.includes("getaddrinfo ENOTFOUND")||O.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${Q} RPC url at ${P}`):O}},76212:(he,f,v)=>{"use strict";v.d(f,{RI:()=>K,sT:()=>V,tm:()=>N});var E=v(49286),W=v(90680);function V(R,O,P){return{id:P||Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3)),jsonrpc:"2.0",method:R,params:O}}function N(R,O){return{id:R,jsonrpc:"2.0",result:O}}function K(R,O,P){return{id:R,jsonrpc:"2.0",error:T(O,P)}}function T(R,O){return typeof R>"u"?(0,E.by)(W.O4):("string"==typeof R&&(R=Object.assign(Object.assign({},(0,E.by)(W.CA)),{message:R})),typeof O<"u"&&(R.data=O),(0,E.i5)(R.code)&&(R=(0,E.L2)(R.code)),R)}},80663:(he,f,v)=>{"use strict";v.d(f,{formatJsonRpcError:()=>V.RI,formatJsonRpcRequest:()=>V.sT,formatJsonRpcResult:()=>V.tm,isHttpUrl:()=>K.jK,isJsonRpcError:()=>T.jg,isJsonRpcRequest:()=>T.DW,isJsonRpcResponse:()=>T.u,isJsonRpcResult:()=>T.k4,isLocalhostUrl:()=>K.JF,isWsUrl:()=>K.UZ,parseConnectionError:()=>W.CX}),v(90680);var W=v(49286),q=v(20429);v.o(q,"IJsonRpcProvider")&&v.d(f,{IJsonRpcProvider:function(){return q.IJsonRpcProvider}}),v.o(q,"formatJsonRpcError")&&v.d(f,{formatJsonRpcError:function(){return q.formatJsonRpcError}}),v.o(q,"formatJsonRpcRequest")&&v.d(f,{formatJsonRpcRequest:function(){return q.formatJsonRpcRequest}}),v.o(q,"formatJsonRpcResult")&&v.d(f,{formatJsonRpcResult:function(){return q.formatJsonRpcResult}}),v.o(q,"isHttpUrl")&&v.d(f,{isHttpUrl:function(){return q.isHttpUrl}}),v.o(q,"isJsonRpcError")&&v.d(f,{isJsonRpcError:function(){return q.isJsonRpcError}}),v.o(q,"isJsonRpcRequest")&&v.d(f,{isJsonRpcRequest:function(){return q.isJsonRpcRequest}}),v.o(q,"isJsonRpcResponse")&&v.d(f,{isJsonRpcResponse:function(){return q.isJsonRpcResponse}}),v.o(q,"isJsonRpcResult")&&v.d(f,{isJsonRpcResult:function(){return q.isJsonRpcResult}}),v.o(q,"isLocalhostUrl")&&v.d(f,{isLocalhostUrl:function(){return q.isLocalhostUrl}}),v.o(q,"isReactNative")&&v.d(f,{isReactNative:function(){return q.isReactNative}}),v.o(q,"isWsUrl")&&v.d(f,{isWsUrl:function(){return q.isWsUrl}});var V=v(76212),N=v(85713);v.o(N,"IJsonRpcProvider")&&v.d(f,{IJsonRpcProvider:function(){return N.IJsonRpcProvider}}),v.o(N,"isHttpUrl")&&v.d(f,{isHttpUrl:function(){return N.isHttpUrl}}),v.o(N,"isJsonRpcError")&&v.d(f,{isJsonRpcError:function(){return N.isJsonRpcError}}),v.o(N,"isJsonRpcRequest")&&v.d(f,{isJsonRpcRequest:function(){return N.isJsonRpcRequest}}),v.o(N,"isJsonRpcResponse")&&v.d(f,{isJsonRpcResponse:function(){return N.isJsonRpcResponse}}),v.o(N,"isJsonRpcResult")&&v.d(f,{isJsonRpcResult:function(){return N.isJsonRpcResult}}),v.o(N,"isLocalhostUrl")&&v.d(f,{isLocalhostUrl:function(){return N.isLocalhostUrl}}),v.o(N,"isReactNative")&&v.d(f,{isReactNative:function(){return N.isReactNative}}),v.o(N,"isWsUrl")&&v.d(f,{isWsUrl:function(){return N.isWsUrl}});var K=v(81230),T=v(74019)},85713:(he,f,v)=>{"use strict";v.d(f,{IJsonRpcProvider:()=>E.IJsonRpcProvider});var E=v(85666);v.o(E,"isHttpUrl")&&v.d(f,{isHttpUrl:function(){return E.isHttpUrl}}),v.o(E,"isJsonRpcError")&&v.d(f,{isJsonRpcError:function(){return E.isJsonRpcError}}),v.o(E,"isJsonRpcRequest")&&v.d(f,{isJsonRpcRequest:function(){return E.isJsonRpcRequest}}),v.o(E,"isJsonRpcResponse")&&v.d(f,{isJsonRpcResponse:function(){return E.isJsonRpcResponse}}),v.o(E,"isJsonRpcResult")&&v.d(f,{isJsonRpcResult:function(){return E.isJsonRpcResult}}),v.o(E,"isLocalhostUrl")&&v.d(f,{isLocalhostUrl:function(){return E.isLocalhostUrl}}),v.o(E,"isReactNative")&&v.d(f,{isReactNative:function(){return E.isReactNative}}),v.o(E,"isWsUrl")&&v.d(f,{isWsUrl:function(){return E.isWsUrl}})},81230:(he,f,v)=>{"use strict";function V(R,O){const P=function q(R){const O=R.match(new RegExp(/^\w+:/,"gi"));if(O&&O.length)return O[0]}(R);return!(typeof P>"u")&&new RegExp(O).test(P)}function N(R){return V(R,"^https?:")}function K(R){return V(R,"^wss?:")}function T(R){return new RegExp("wss?://localhost(:d{2,5})?").test(R)}v.d(f,{JF:()=>T,UZ:()=>K,jK:()=>N})},74019:(he,f,v)=>{"use strict";function E(T){return"object"==typeof T&&"id"in T&&"jsonrpc"in T&&"2.0"===T.jsonrpc}function W(T){return E(T)&&"method"in T}function q(T){return E(T)&&(V(T)||N(T))}function V(T){return"result"in T}function N(T){return"error"in T}v.d(f,{DW:()=>W,jg:()=>N,k4:()=>V,u:()=>q})},83169:(he,f,v)=>{"use strict";const W=v(92818),q=v(53439),V=W.__importDefault(v(271)),N=v(86586);f.ZP=class K{constructor(){this.localStorage=V.default}getKeys(){return W.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return W.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(N.parseEntry)})}getItem(R){return W.__awaiter(this,void 0,void 0,function*(){const O=this.localStorage.getItem(R);if(null!==O)return q.safeJsonParse(O)})}setItem(R,O){return W.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(R,q.safeJsonStringify(O))})}removeItem(R){return W.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(R)})}}},271:he=>{"use strict";!function(){let f;function v(){}f=v,f.prototype.getItem=function(E){return this.hasOwnProperty(E)?String(this[E]):null},f.prototype.setItem=function(E,W){this[E]=String(W)},f.prototype.removeItem=function(E){delete this[E]},f.prototype.clear=function(){const E=this;Object.keys(E).forEach(function(W){E[W]=void 0,delete E[W]})},f.prototype.key=function(E){return E=E||0,Object.keys(this)[E]},f.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),he.exports=typeof global<"u"&&global.localStorage?global.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new v}()},86586:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const E=v(92818);E.__exportStar(v(68684),f),E.__exportStar(v(2043),f)},68684:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.IKeyValueStorage=void 0,f.IKeyValueStorage=class v{}},2043:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.parseEntry=void 0;const E=v(53439);f.parseEntry=function W(q){var V;return[q[0],E.safeJsonParse(null!==(V=q[1])&&void 0!==V?V:"")]}},20191:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.PINO_CUSTOM_CONTEXT_KEY=f.PINO_LOGGER_DEFAULTS=void 0,f.PINO_LOGGER_DEFAULTS={level:"info"},f.PINO_CUSTOM_CONTEXT_KEY="custom_context"},71268:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.pino=void 0;const E=v(20263),W=E.__importDefault(v(37386));Object.defineProperty(f,"pino",{enumerable:!0,get:function(){return W.default}}),E.__exportStar(v(20191),f),E.__exportStar(v(59164),f)},59164:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.generateChildLogger=f.formatChildLoggerContext=f.getLoggerContext=f.setBrowserLoggerContext=f.getBrowserLoggerContext=f.getDefaultLoggerOptions=void 0;const E=v(20191);function q(R,O=E.PINO_CUSTOM_CONTEXT_KEY){return R[O]||""}function V(R,O,P=E.PINO_CUSTOM_CONTEXT_KEY){return R[P]=O,R}function N(R,O=E.PINO_CUSTOM_CONTEXT_KEY){let P="";return P=typeof R.bindings>"u"?q(R,O):R.bindings().context||"",P}function K(R,O,P=E.PINO_CUSTOM_CONTEXT_KEY){const Q=N(R,P);return Q.trim()?`${Q}/${O}`:O}f.getDefaultLoggerOptions=function W(R){return Object.assign(Object.assign({},R),{level:(null==R?void 0:R.level)||E.PINO_LOGGER_DEFAULTS.level})},f.getBrowserLoggerContext=q,f.setBrowserLoggerContext=V,f.getLoggerContext=N,f.formatChildLoggerContext=K,f.generateChildLogger=function T(R,O,P=E.PINO_CUSTOM_CONTEXT_KEY){const Q=K(R,O,P);return V(R.child({context:Q}),Q,P)}},43025:()=>{},84143:()=>{},21833:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const E=v(58092);E.__exportStar(v(77892),f),E.__exportStar(v(72562),f)},77892:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ONE_THOUSAND=f.ONE_HUNDRED=void 0,f.ONE_HUNDRED=100,f.ONE_THOUSAND=1e3},72562:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ONE_YEAR=f.FOUR_WEEKS=f.THREE_WEEKS=f.TWO_WEEKS=f.ONE_WEEK=f.THIRTY_DAYS=f.SEVEN_DAYS=f.FIVE_DAYS=f.THREE_DAYS=f.ONE_DAY=f.TWENTY_FOUR_HOURS=f.TWELVE_HOURS=f.SIX_HOURS=f.THREE_HOURS=f.ONE_HOUR=f.SIXTY_MINUTES=f.THIRTY_MINUTES=f.TEN_MINUTES=f.FIVE_MINUTES=f.ONE_MINUTE=f.SIXTY_SECONDS=f.THIRTY_SECONDS=f.TEN_SECONDS=f.FIVE_SECONDS=f.ONE_SECOND=void 0,f.ONE_SECOND=1,f.FIVE_SECONDS=5,f.TEN_SECONDS=10,f.THIRTY_SECONDS=30,f.SIXTY_SECONDS=60,f.ONE_MINUTE=f.SIXTY_SECONDS,f.FIVE_MINUTES=5*f.ONE_MINUTE,f.TEN_MINUTES=10*f.ONE_MINUTE,f.THIRTY_MINUTES=30*f.ONE_MINUTE,f.SIXTY_MINUTES=60*f.ONE_MINUTE,f.ONE_HOUR=f.SIXTY_MINUTES,f.THREE_HOURS=3*f.ONE_HOUR,f.SIX_HOURS=6*f.ONE_HOUR,f.TWELVE_HOURS=12*f.ONE_HOUR,f.TWENTY_FOUR_HOURS=24*f.ONE_HOUR,f.ONE_DAY=f.TWENTY_FOUR_HOURS,f.THREE_DAYS=3*f.ONE_DAY,f.FIVE_DAYS=5*f.ONE_DAY,f.SEVEN_DAYS=7*f.ONE_DAY,f.THIRTY_DAYS=30*f.ONE_DAY,f.ONE_WEEK=f.SEVEN_DAYS,f.TWO_WEEKS=2*f.ONE_WEEK,f.THREE_WEEKS=3*f.ONE_WEEK,f.FOUR_WEEKS=4*f.ONE_WEEK,f.ONE_YEAR=365*f.ONE_DAY},40145:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const E=v(58092);E.__exportStar(v(94256),f),E.__exportStar(v(59794),f),E.__exportStar(v(16834),f),E.__exportStar(v(21833),f)},16834:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),v(58092).__exportStar(v(45412),f)},45412:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.IWatch=void 0,f.IWatch=class v{}},24500:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.fromMiliseconds=f.toMiliseconds=void 0;const E=v(21833);f.toMiliseconds=function W(V){return V*E.ONE_THOUSAND},f.fromMiliseconds=function q(V){return Math.floor(V/E.ONE_THOUSAND)}},23337:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.delay=void 0,f.delay=function v(E){return new Promise(W=>{setTimeout(()=>{W(!0)},E)})}},94256:(he,f,v)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const E=v(58092);E.__exportStar(v(23337),f),E.__exportStar(v(24500),f)},59794:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Watch=void 0;class v{constructor(){this.timestamps=new Map}start(W){if(this.timestamps.has(W))throw new Error(`Watch already started for label: ${W}`);this.timestamps.set(W,{started:Date.now()})}stop(W){const q=this.get(W);if(typeof q.elapsed<"u")throw new Error(`Watch already stopped for label: ${W}`);const V=Date.now()-q.started;this.timestamps.set(W,{started:q.started,elapsed:V})}get(W){const q=this.timestamps.get(W);if(typeof q>"u")throw new Error(`No timestamp found for label: ${W}`);return q}elapsed(W){const q=this.get(W);return q.elapsed||Date.now()-q.started}}f.Watch=v,f.default=v},6179:(he,f)=>{"use strict";function v(ne){let X;return typeof window<"u"&&typeof window[ne]<"u"&&(X=window[ne]),X}function E(ne){const X=v(ne);if(!X)throw new Error(`${ne} is not defined in Window`);return X}Object.defineProperty(f,"__esModule",{value:!0}),f.getLocalStorage=f.getLocalStorageOrThrow=f.getCrypto=f.getCryptoOrThrow=f.getLocation=f.getLocationOrThrow=f.getNavigator=f.getNavigatorOrThrow=f.getDocument=f.getDocumentOrThrow=f.getFromWindowOrThrow=f.getFromWindow=void 0,f.getFromWindow=v,f.getFromWindowOrThrow=E,f.getDocumentOrThrow=function W(){return E("document")},f.getDocument=function q(){return v("document")},f.getNavigatorOrThrow=function V(){return E("navigator")},f.getNavigator=function N(){return v("navigator")},f.getLocationOrThrow=function K(){return E("location")},f.getLocation=function T(){return v("location")},f.getCryptoOrThrow=function R(){return E("crypto")},f.getCrypto=function O(){return v("crypto")},f.getLocalStorageOrThrow=function P(){return E("localStorage")},f.getLocalStorage=function Q(){return v("localStorage")}},98064:(he,f,v)=>{"use strict";f.D=void 0;const W=v(6179);f.D=function q(){let V,N;try{V=W.getDocumentOrThrow(),N=W.getLocationOrThrow()}catch{return null}function T(...ae){const D=V.getElementsByTagName("meta");for(let ce=0;ce<D.length;ce++){const J=D[ce],L=["itemprop","property","name"].map(U=>J.getAttribute(U)).filter(U=>!!U&&ae.includes(U));if(L.length&&L){const U=J.getAttribute("content");if(U)return U}}return""}const P=function R(){let ae=T("name","og:site_name","og:title","twitter:title");return ae||(ae=V.title),ae}();return{description:function O(){return T("description","og:description","twitter:description","keywords")}(),url:N.origin,icons:function K(){const ae=V.getElementsByTagName("link"),D=[];for(let ce=0;ce<ae.length;ce++){const J=ae[ce],L=J.getAttribute("rel");if(L&&L.toLowerCase().indexOf("icon")>-1){const U=J.getAttribute("href");if(U)if(-1===U.toLowerCase().indexOf("https:")&&-1===U.toLowerCase().indexOf("http:")&&0!==U.indexOf("//")){let A=N.protocol+"//"+N.host;if(0===U.indexOf("/"))A+=U;else{const F=N.pathname.split("/");F.pop(),A+=F.join("/")+"/"+U}D.push(A)}else 0===U.indexOf("//")?D.push(N.protocol+U):D.push(U)}}return D}(),name:P}}},5928:function(he,f){var q,v=typeof self<"u"?self:this,E=function(){function q(){this.fetch=!1,this.DOMException=v.DOMException}return q.prototype=v,new q}();q=E,function(N){var K_searchParams="URLSearchParams"in q,K_iterable="Symbol"in q&&"iterator"in Symbol,K_blob="FileReader"in q&&"Blob"in q&&function(){try{return new Blob,!0}catch{return!1}}(),K_formData="FormData"in q,K_arrayBuffer="ArrayBuffer"in q;if(K_arrayBuffer)var R=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],O=ArrayBuffer.isView||function(y){return y&&R.indexOf(Object.prototype.toString.call(y))>-1};function P(y){if("string"!=typeof y&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(y))throw new TypeError("Invalid character in header field name");return y.toLowerCase()}function Q(y){return"string"!=typeof y&&(y=String(y)),y}function ne(y){var l={next:function(){var b=y.shift();return{done:void 0===b,value:b}}};return K_iterable&&(l[Symbol.iterator]=function(){return l}),l}function X(y){this.map={},y instanceof X?y.forEach(function(l,b){this.append(b,l)},this):Array.isArray(y)?y.forEach(function(l){this.append(l[0],l[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(l){this.append(l,y[l])},this)}function re(y){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}function ae(y){return new Promise(function(l,b){y.onload=function(){l(y.result)},y.onerror=function(){b(y.error)}})}function D(y){var l=new FileReader,b=ae(l);return l.readAsArrayBuffer(y),b}function L(y){if(y.slice)return y.slice(0);var l=new Uint8Array(y.byteLength);return l.set(new Uint8Array(y)),l.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(y){this._bodyInit=y,y?"string"==typeof y?this._bodyText=y:K_blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:K_formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:K_searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():K_arrayBuffer&&K_blob&&function T(y){return y&&DataView.prototype.isPrototypeOf(y)}(y)?(this._bodyArrayBuffer=L(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):K_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||O(y))?this._bodyArrayBuffer=L(y):this._bodyText=y=Object.prototype.toString.call(y):this._bodyText="",this.headers.get("content-type")||("string"==typeof y?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):K_searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},K_blob&&(this.blob=function(){var y=re(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?re(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(D)}),this.text=function(){var y=re(this);if(y)return y;if(this._bodyBlob)return function ce(y){var l=new FileReader,b=ae(l);return l.readAsText(y),b}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function J(y){for(var l=new Uint8Array(y),b=new Array(l.length),w=0;w<l.length;w++)b[w]=String.fromCharCode(l[w]);return b.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},K_formData&&(this.formData=function(){return this.text().then(u)}),this.json=function(){return this.text().then(JSON.parse)},this}X.prototype.append=function(y,l){y=P(y),l=Q(l);var b=this.map[y];this.map[y]=b?b+", "+l:l},X.prototype.delete=function(y){delete this.map[P(y)]},X.prototype.get=function(y){return y=P(y),this.has(y)?this.map[y]:null},X.prototype.has=function(y){return this.map.hasOwnProperty(P(y))},X.prototype.set=function(y,l){this.map[P(y)]=Q(l)},X.prototype.forEach=function(y,l){for(var b in this.map)this.map.hasOwnProperty(b)&&y.call(l,this.map[b],b,this)},X.prototype.keys=function(){var y=[];return this.forEach(function(l,b){y.push(b)}),ne(y)},X.prototype.values=function(){var y=[];return this.forEach(function(l){y.push(l)}),ne(y)},X.prototype.entries=function(){var y=[];return this.forEach(function(l,b){y.push([b,l])}),ne(y)},K_iterable&&(X.prototype[Symbol.iterator]=X.prototype.entries);var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(y,l){var b=(l=l||{}).body;if(y instanceof x){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,l.headers||(this.headers=new X(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!b&&null!=y._bodyInit&&(b=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=l.credentials||this.credentials||"same-origin",(l.headers||!this.headers)&&(this.headers=new X(l.headers)),this.method=function F(y){var l=y.toUpperCase();return A.indexOf(l)>-1?l:y}(l.method||this.method||"GET"),this.mode=l.mode||this.mode||null,this.signal=l.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&b)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(b)}function u(y){var l=new FormData;return y.trim().split("&").forEach(function(b){if(b){var w=b.split("="),I=w.shift().replace(/\+/g," "),m=w.join("=").replace(/\+/g," ");l.append(decodeURIComponent(I),decodeURIComponent(m))}}),l}function o(y){var l=new X;return y.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(w){var I=w.split(":"),m=I.shift().trim();if(m){var M=I.join(":").trim();l.append(m,M)}}),l}function g(y,l){l||(l={}),this.type="default",this.status=void 0===l.status?200:l.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in l?l.statusText:"OK",this.headers=new X(l.headers),this.url=l.url||"",this._initBody(y)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},U.call(x.prototype),U.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new X(this.headers),url:this.url})},g.error=function(){var y=new g(null,{status:0,statusText:""});return y.type="error",y};var d=[301,302,303,307,308];g.redirect=function(y,l){if(-1===d.indexOf(l))throw new RangeError("Invalid status code");return new g(null,{status:l,headers:{location:y}})},N.DOMException=q.DOMException;try{new N.DOMException}catch{N.DOMException=function(l,b){this.message=l,this.name=b;var w=Error(l);this.stack=w.stack},N.DOMException.prototype=Object.create(Error.prototype),N.DOMException.prototype.constructor=N.DOMException}function _(y,l){return new Promise(function(b,w){var I=new x(y,l);if(I.signal&&I.signal.aborted)return w(new N.DOMException("Aborted","AbortError"));var m=new XMLHttpRequest;function M(){m.abort()}m.onload=function(){var k={status:m.status,statusText:m.statusText,headers:o(m.getAllResponseHeaders()||"")};k.url="responseURL"in m?m.responseURL:k.headers.get("X-Request-URL"),b(new g("response"in m?m.response:m.responseText,k))},m.onerror=function(){w(new TypeError("Network request failed"))},m.ontimeout=function(){w(new TypeError("Network request failed"))},m.onabort=function(){w(new N.DOMException("Aborted","AbortError"))},m.open(I.method,I.url,!0),"include"===I.credentials?m.withCredentials=!0:"omit"===I.credentials&&(m.withCredentials=!1),"responseType"in m&&K_blob&&(m.responseType="blob"),I.headers.forEach(function(k,j){m.setRequestHeader(j,k)}),I.signal&&(I.signal.addEventListener("abort",M),m.onreadystatechange=function(){4===m.readyState&&I.signal.removeEventListener("abort",M)}),m.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}_.polyfill=!0,q.fetch||(q.fetch=_,q.Headers=X,q.Request=x,q.Response=g),N.Headers=X,N.Request=x,N.Response=g,N.fetch=_,Object.defineProperty(N,"__esModule",{value:!0})}({}),E.fetch.ponyfill=!0,delete E.fetch.polyfill;var W=E;(f=W.fetch).default=W.fetch,f.fetch=W.fetch,f.Headers=W.Headers,f.Request=W.Request,f.Response=W.Response,he.exports=f},80318:he=>{"use strict";var f="%[a-f0-9]{2}",v=new RegExp("("+f+")|([^%]+?)","gi"),E=new RegExp("("+f+")+","gi");function W(N,K){try{return[decodeURIComponent(N.join(""))]}catch{}if(1===N.length)return N;var T=N.slice(0,K=K||1),R=N.slice(K);return Array.prototype.concat.call([],W(T),W(R))}function q(N){try{return decodeURIComponent(N)}catch{for(var K=N.match(v)||[],T=1;T<K.length;T++)K=(N=W(K,T).join("")).match(v)||[];return N}}he.exports=function(N){if("string"!=typeof N)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof N+"`");try{return N=N.replace(/\+/g," "),decodeURIComponent(N)}catch{return function V(N){for(var K={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},T=E.exec(N);T;){try{K[T[0]]=decodeURIComponent(T[0])}catch{var R=q(T[0]);R!==T[0]&&(K[T[0]]=R)}T=E.exec(N)}K["%C2"]="\ufffd";for(var O=Object.keys(K),P=0;P<O.length;P++){var Q=O[P];N=N.replace(new RegExp(Q,"g"),K[Q])}return N}(N)}}},2272:he=>{"use strict";var E,f="object"==typeof Reflect?Reflect:null,v=f&&"function"==typeof f.apply?f.apply:function(U,A,F){return Function.prototype.apply.call(U,A,F)};E=f&&"function"==typeof f.ownKeys?f.ownKeys:Object.getOwnPropertySymbols?function(U){return Object.getOwnPropertyNames(U).concat(Object.getOwnPropertySymbols(U))}:function(U){return Object.getOwnPropertyNames(U)};var q=Number.isNaN||function(U){return U!=U};function V(){V.init.call(this)}he.exports=V,he.exports.once=function D(L,U){return new Promise(function(A,F){function x(o){L.removeListener(U,u),F(o)}function u(){"function"==typeof L.removeListener&&L.removeListener("error",x),A([].slice.call(arguments))}J(L,U,u,{once:!0}),"error"!==U&&function ce(L,U,A){"function"==typeof L.on&&J(L,"error",U,A)}(L,x,{once:!0})})},V.EventEmitter=V,V.prototype._events=void 0,V.prototype._eventsCount=0,V.prototype._maxListeners=void 0;var N=10;function K(L){if("function"!=typeof L)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function T(L){return void 0===L._maxListeners?V.defaultMaxListeners:L._maxListeners}function R(L,U,A,F){var x,u,o;if(K(A),void 0===(u=L._events)?(u=L._events=Object.create(null),L._eventsCount=0):(void 0!==u.newListener&&(L.emit("newListener",U,A.listener?A.listener:A),u=L._events),o=u[U]),void 0===o)o=u[U]=A,++L._eventsCount;else if("function"==typeof o?o=u[U]=F?[A,o]:[o,A]:F?o.unshift(A):o.push(A),(x=T(L))>0&&o.length>x&&!o.warned){o.warned=!0;var g=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(U)+" listeners added. Use emitter.setMaxListeners() to increase limit");g.name="MaxListenersExceededWarning",g.emitter=L,g.type=U,g.count=o.length,function W(L){console&&console.warn&&console.warn(L)}(g)}return L}function O(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function P(L,U,A){var F={fired:!1,wrapFn:void 0,target:L,type:U,listener:A},x=O.bind(F);return x.listener=A,F.wrapFn=x,x}function Q(L,U,A){var F=L._events;if(void 0===F)return[];var x=F[U];return void 0===x?[]:"function"==typeof x?A?[x.listener||x]:[x]:A?function ae(L){for(var U=new Array(L.length),A=0;A<U.length;++A)U[A]=L[A].listener||L[A];return U}(x):X(x,x.length)}function ne(L){var U=this._events;if(void 0!==U){var A=U[L];if("function"==typeof A)return 1;if(void 0!==A)return A.length}return 0}function X(L,U){for(var A=new Array(U),F=0;F<U;++F)A[F]=L[F];return A}function J(L,U,A,F){if("function"==typeof L.on)F.once?L.once(U,A):L.on(U,A);else{if("function"!=typeof L.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L);L.addEventListener(U,function x(u){F.once&&L.removeEventListener(U,x),A(u)})}}Object.defineProperty(V,"defaultMaxListeners",{enumerable:!0,get:function(){return N},set:function(L){if("number"!=typeof L||L<0||q(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");N=L}}),V.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},V.prototype.setMaxListeners=function(U){if("number"!=typeof U||U<0||q(U))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+U+".");return this._maxListeners=U,this},V.prototype.getMaxListeners=function(){return T(this)},V.prototype.emit=function(U){for(var A=[],F=1;F<arguments.length;F++)A.push(arguments[F]);var x="error"===U,u=this._events;if(void 0!==u)x=x&&void 0===u.error;else if(!x)return!1;if(x){var o;if(A.length>0&&(o=A[0]),o instanceof Error)throw o;var g=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw g.context=o,g}var d=u[U];if(void 0===d)return!1;if("function"==typeof d)v(d,this,A);else{var _=d.length,y=X(d,_);for(F=0;F<_;++F)v(y[F],this,A)}return!0},V.prototype.on=V.prototype.addListener=function(U,A){return R(this,U,A,!1)},V.prototype.prependListener=function(U,A){return R(this,U,A,!0)},V.prototype.once=function(U,A){return K(A),this.on(U,P(this,U,A)),this},V.prototype.prependOnceListener=function(U,A){return K(A),this.prependListener(U,P(this,U,A)),this},V.prototype.off=V.prototype.removeListener=function(U,A){var F,x,u,o,g;if(K(A),void 0===(x=this._events))return this;if(void 0===(F=x[U]))return this;if(F===A||F.listener===A)0==--this._eventsCount?this._events=Object.create(null):(delete x[U],x.removeListener&&this.emit("removeListener",U,F.listener||A));else if("function"!=typeof F){for(u=-1,o=F.length-1;o>=0;o--)if(F[o]===A||F[o].listener===A){g=F[o].listener,u=o;break}if(u<0)return this;0===u?F.shift():function re(L,U){for(;U+1<L.length;U++)L[U]=L[U+1];L.pop()}(F,u),1===F.length&&(x[U]=F[0]),void 0!==x.removeListener&&this.emit("removeListener",U,g||A)}return this},V.prototype.removeAllListeners=function(U){var A,F,x;if(void 0===(F=this._events))return this;if(void 0===F.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==F[U]&&(0==--this._eventsCount?this._events=Object.create(null):delete F[U]),this;if(0===arguments.length){var o,u=Object.keys(F);for(x=0;x<u.length;++x)"removeListener"!==(o=u[x])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(A=F[U]))this.removeListener(U,A);else if(void 0!==A)for(x=A.length-1;x>=0;x--)this.removeListener(U,A[x]);return this},V.prototype.listeners=function(U){return Q(this,U,!0)},V.prototype.rawListeners=function(U){return Q(this,U,!1)},V.listenerCount=function(L,U){return"function"==typeof L.listenerCount?L.listenerCount(U):ne.call(L,U)},V.prototype.listenerCount=ne,V.prototype.eventNames=function(){return this._eventsCount>0?E(this._events):[]}},25633:he=>{"use strict";he.exports=function(f,v){for(var E={},W=Object.keys(f),q=Array.isArray(v),V=0;V<W.length;V++){var N=W[V],K=f[N];(q?-1!==v.indexOf(N):v(N,K,f))&&(E[N]=K)}return E}},60066:(he,f,v)=>{he=v.nmd(he);var W="__lodash_hash_undefined__",N=9007199254740991,K="[object Arguments]",T="[object Array]",O="[object Boolean]",P="[object Date]",Q="[object Error]",ne="[object Function]",re="[object Map]",ae="[object Number]",ce="[object Object]",J="[object Promise]",U="[object RegExp]",A="[object Set]",F="[object String]",o="[object WeakMap]",g="[object ArrayBuffer]",d="[object DataView]",fe=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ue={};ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue[K]=ue[T]=ue[g]=ue[O]=ue[d]=ue[P]=ue[Q]=ue[ne]=ue[re]=ue[ae]=ue[ce]=ue[U]=ue[A]=ue[F]=ue[o]=!1;var pe="object"==typeof global&&global&&global.Object===Object&&global,me="object"==typeof self&&self&&self.Object===Object&&self,_e=pe||me||Function("return this")(),ee=f&&!f.nodeType&&f,$=ee&&he&&!he.nodeType&&he,G=$&&$.exports===ee,h=G&&pe.process,B=function(){try{return h&&h.binding&&h.binding("util")}catch{}}(),de=B&&B.isTypedArray;function Ve(C,Y){for(var le=-1,be=null==C?0:C.length;++le<be;)if(Y(C[le],le,C))return!0;return!1}function nt(C,Y){return C.has(Y)}function Fe(C){var Y=-1,le=Array(C.size);return C.forEach(function(be,ke){le[++Y]=[ke,be]}),le}function Ce(C){var Y=-1,le=Array(C.size);return C.forEach(function(be){le[++Y]=be}),le}var C,Te=Array.prototype,we=Object.prototype,xe=_e["__core-js_shared__"],Ie=Function.prototype.toString,De=we.hasOwnProperty,Ue=(C=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",je=we.toString,We=RegExp("^"+Ie.call(De).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=G?_e.Buffer:void 0,$e=_e.Symbol,He=_e.Uint8Array,Xe=we.propertyIsEnumerable,Vt=Te.splice,Ct=$e?$e.toStringTag:void 0,Gt=Object.getOwnPropertySymbols,rr=Ge?Ge.isBuffer:void 0,or=function Me(C,Y){return function(le){return C(Y(le))}}(Object.keys,Object),qt=ar(_e,"DataView"),Qt=ar(_e,"Map"),it=ar(_e,"Promise"),et=ar(_e,"Set"),ht=ar(_e,"WeakMap"),ut=ar(Object,"create"),Be=cr(qt),vt=cr(Qt),bt=cr(it),_t=cr(et),Et=cr(ht),yt=$e?$e.prototype:void 0,dt=yt?yt.valueOf:void 0;function tt(C){var Y=-1,le=null==C?0:C.length;for(this.clear();++Y<le;){var be=C[Y];this.set(be[0],be[1])}}function Yt(C){var Y=-1,le=null==C?0:C.length;for(this.clear();++Y<le;){var be=C[Y];this.set(be[0],be[1])}}function nr(C){var Y=-1,le=null==C?0:C.length;for(this.clear();++Y<le;){var be=C[Y];this.set(be[0],be[1])}}function vr(C){var Y=-1,le=null==C?0:C.length;for(this.__data__=new nr;++Y<le;)this.add(C[Y])}function Zt(C){var Y=this.__data__=new Yt(C);this.size=Y.size}function dr(C,Y){for(var le=C.length;le--;)if(Or(C[le][0],Y))return le;return-1}function pr(C){return null==C?void 0===C?"[object Undefined]":"[object Null]":Ct&&Ct in Object(C)?function jn(C){var Y=De.call(C,Ct),le=C[Ct];try{C[Ct]=void 0;var be=!0}catch{}var ke=je.call(C);return be&&(Y?C[Ct]=le:delete C[Ct]),ke}(C):function Di(C){return je.call(C)}(C)}function xr(C){return wr(C)&&pr(C)==K}function br(C,Y,le,be,ke){return C===Y||(null==C||null==Y||!wr(C)&&!wr(Y)?C!=C&&Y!=Y:function Tn(C,Y,le,be,ke,Re){var lt=Er(C),Je=Er(Y),It=lt?T:Xt(C),st=Je?T:Xt(Y),Ut=(It=It==K?ce:It)==ce,Tt=(st=st==K?ce:st)==ce,Rt=It==st;if(Rt&&Ir(C)){if(!Ir(Y))return!1;lt=!0,Ut=!1}if(Rt&&!Ut)return Re||(Re=new Zt),lt||qr(C)?Jr(C,Y,le,be,ke,Re):function Fn(C,Y,le,be,ke,Re,lt){switch(le){case d:if(C.byteLength!=Y.byteLength||C.byteOffset!=Y.byteOffset)return!1;C=C.buffer,Y=Y.buffer;case g:return!(C.byteLength!=Y.byteLength||!Re(new He(C),new He(Y)));case O:case P:case ae:return Or(+C,+Y);case Q:return C.name==Y.name&&C.message==Y.message;case U:case F:return C==Y+"";case re:var Je=Fe;case A:if(Je||(Je=Ce),C.size!=Y.size&&!(1&be))return!1;var st=lt.get(C);if(st)return st==Y;be|=2,lt.set(C,Y);var Ut=Jr(Je(C),Je(Y),be,ke,Re,lt);return lt.delete(C),Ut;case"[object Symbol]":if(dt)return dt.call(C)==dt.call(Y)}return!1}(C,Y,It,le,be,ke,Re);if(!(1&le)){var Lt=Ut&&De.call(C,"__wrapped__"),Ft=Tt&&De.call(Y,"__wrapped__");if(Lt||Ft){var Jt=Lt?C.value():C,jt=Ft?Y.value():Y;return Re||(Re=new Zt),ke(Jt,jt,le,be,Re)}}return!!Rt&&(Re||(Re=new Zt),function Mn(C,Y,le,be,ke,Re){var lt=1&le,Je=Vr(C),It=Je.length;if(It!=Vr(Y).length&&!lt)return!1;for(var Tt=It;Tt--;){var Rt=Je[Tt];if(!(lt?Rt in Y:De.call(Y,Rt)))return!1}var Lt=Re.get(C);if(Lt&&Re.get(Y))return Lt==Y;var Ft=!0;Re.set(C,Y),Re.set(Y,C);for(var Jt=lt;++Tt<It;){var jt=C[Rt=Je[Tt]],ir=Y[Rt];if(be)var Qr=lt?be(ir,jt,Rt,Y,C,Re):be(jt,ir,Rt,C,Y,Re);if(!(void 0===Qr?jt===ir||ke(jt,ir,le,be,Re):Qr)){Ft=!1;break}Jt||(Jt="constructor"==Rt)}if(Ft&&!Jt){var Dr=C.constructor,gr=Y.constructor;Dr!=gr&&"constructor"in C&&"constructor"in Y&&!("function"==typeof Dr&&Dr instanceof Dr&&"function"==typeof gr&&gr instanceof gr)&&(Ft=!1)}return Re.delete(C),Re.delete(Y),Ft}(C,Y,le,be,ke,Re))}(C,Y,le,be,br,ke))}function Jr(C,Y,le,be,ke,Re){var lt=1&le,Je=C.length,It=Y.length;if(Je!=It&&!(lt&&It>Je))return!1;var st=Re.get(C);if(st&&Re.get(Y))return st==Y;var Ut=-1,Tt=!0,Rt=2&le?new vr:void 0;for(Re.set(C,Y),Re.set(Y,C);++Ut<Je;){var Lt=C[Ut],Ft=Y[Ut];if(be)var Jt=lt?be(Ft,Lt,Ut,Y,C,Re):be(Lt,Ft,Ut,C,Y,Re);if(void 0!==Jt){if(Jt)continue;Tt=!1;break}if(Rt){if(!Ve(Y,function(jt,ir){if(!nt(Rt,ir)&&(Lt===jt||ke(Lt,jt,le,be,Re)))return Rt.push(ir)})){Tt=!1;break}}else if(Lt!==Ft&&!ke(Lt,Ft,le,be,Re)){Tt=!1;break}}return Re.delete(C),Re.delete(Y),Tt}function Vr(C){return function Cn(C,Y,le){var be=Y(C);return Er(C)?be:function Ae(C,Y){for(var le=-1,be=Y.length,ke=C.length;++le<be;)C[ke+le]=Y[le];return C}(be,le(C))}(C,Hn,Bn)}function _r(C,Y){var le=C.__data__;return function Kr(C){var Y=typeof C;return"string"==Y||"number"==Y||"symbol"==Y||"boolean"==Y?"__proto__"!==C:null===C}(Y)?le["string"==typeof Y?"string":"hash"]:le.map}function ar(C,Y){var le=function gt(C,Y){return null==C?void 0:C[Y]}(C,Y);return function Nn(C){return!(!Pr(C)||function Wr(C){return!!Ue&&Ue in C}(C))&&(Rr(C)?We:fe).test(cr(C))}(le)?le:void 0}tt.prototype.clear=function wt(){this.__data__=ut?ut(null):{},this.size=0},tt.prototype.delete=function Dt(C){var Y=this.has(C)&&delete this.__data__[C];return this.size-=Y?1:0,Y},tt.prototype.get=function xt(C){var Y=this.__data__;if(ut){var le=Y[C];return le===W?void 0:le}return De.call(Y,C)?Y[C]:void 0},tt.prototype.has=function St(C){var Y=this.__data__;return ut?void 0!==Y[C]:De.call(Y,C)},tt.prototype.set=function pn(C,Y){var le=this.__data__;return this.size+=this.has(C)?0:1,le[C]=ut&&void 0===Y?W:Y,this},Yt.prototype.clear=function gn(){this.__data__=[],this.size=0},Yt.prototype.delete=function yn(C){var Y=this.__data__,le=dr(Y,C);return!(le<0||(le==Y.length-1?Y.pop():Vt.call(Y,le,1),--this.size,0))},Yt.prototype.get=function mn(C){var Y=this.__data__,le=dr(Y,C);return le<0?void 0:Y[le][1]},Yt.prototype.has=function vn(C){return dr(this.__data__,C)>-1},Yt.prototype.set=function bn(C,Y){var le=this.__data__,be=dr(le,C);return be<0?(++this.size,le.push([C,Y])):le[be][1]=Y,this},nr.prototype.clear=function _n(){this.size=0,this.__data__={hash:new tt,map:new(Qt||Yt),string:new tt}},nr.prototype.delete=function En(C){var Y=_r(this,C).delete(C);return this.size-=Y?1:0,Y},nr.prototype.get=function wn(C){return _r(this,C).get(C)},nr.prototype.has=function Dn(C){return _r(this,C).has(C)},nr.prototype.set=function Hr(C,Y){var le=_r(this,C),be=le.size;return le.set(C,Y),this.size+=le.size==be?0:1,this},vr.prototype.add=vr.prototype.push=function xn(C){return this.__data__.set(C,W),this},vr.prototype.has=function Sn(C){return this.__data__.has(C)},Zt.prototype.clear=function On(){this.__data__=new Yt,this.size=0},Zt.prototype.delete=function In(C){var Y=this.__data__,le=Y.delete(C);return this.size=Y.size,le},Zt.prototype.get=function $r(C){return this.__data__.get(C)},Zt.prototype.has=function Rn(C){return this.__data__.has(C)},Zt.prototype.set=function Pn(C,Y){var le=this.__data__;if(le instanceof Yt){var be=le.__data__;if(!Qt||be.length<199)return be.push([C,Y]),this.size=++le.size,this;le=this.__data__=new nr(be)}return le.set(C,Y),this.size=le.size,this};var Bn=Gt?function(C){return null==C?[]:(C=Object(C),function Ee(C,Y){for(var le=-1,be=null==C?0:C.length,ke=0,Re=[];++le<be;){var lt=C[le];Y(lt,le,C)&&(Re[ke++]=lt)}return Re}(Gt(C),function(Y){return Xe.call(C,Y)}))}:function $n(){return[]},Xt=pr;function wi(C,Y){return!!(Y=Y??N)&&("number"==typeof C||se.test(C))&&C>-1&&C%1==0&&C<Y}function cr(C){if(null!=C){try{return Ie.call(C)}catch{}try{return C+""}catch{}}return""}function Or(C,Y){return C===Y||C!=C&&Y!=Y}(qt&&Xt(new qt(new ArrayBuffer(1)))!=d||Qt&&Xt(new Qt)!=re||it&&Xt(it.resolve())!=J||et&&Xt(new et)!=A||ht&&Xt(new ht)!=o)&&(Xt=function(C){var Y=pr(C),le=Y==ce?C.constructor:void 0,be=le?cr(le):"";if(be)switch(be){case Be:return d;case vt:return re;case bt:return J;case _t:return A;case Et:return o}return Y});var Gr=xr(function(){return arguments}())?xr:function(C){return wr(C)&&De.call(C,"callee")&&!Xe.call(C,"callee")},Er=Array.isArray,Ir=rr||function Jn(){return!1};function Rr(C){if(!Pr(C))return!1;var Y=pr(C);return Y==ne||"[object GeneratorFunction]"==Y||"[object AsyncFunction]"==Y||"[object Proxy]"==Y}function Xr(C){return"number"==typeof C&&C>-1&&C%1==0&&C<=N}function Pr(C){var Y=typeof C;return null!=C&&("object"==Y||"function"==Y)}function wr(C){return null!=C&&"object"==typeof C}var qr=de?function Ke(C){return function(Y){return C(Y)}}(de):function Un(C){return wr(C)&&Xr(C.length)&&!!ue[pr(C)]};function Hn(C){return function Yr(C){return null!=C&&Xr(C.length)&&!Rr(C)}(C)?function An(C,Y){var le=Er(C),be=!le&&Gr(C),ke=!le&&!be&&Ir(C),Re=!le&&!be&&!ke&&qr(C),lt=le||be||ke||Re,Je=lt?function Ne(C,Y){for(var le=-1,be=Array(C);++le<C;)be[le]=Y(le);return be}(C.length,String):[],It=Je.length;for(var st in C)(Y||De.call(C,st))&&(!lt||!("length"==st||ke&&("offset"==st||"parent"==st)||Re&&("buffer"==st||"byteLength"==st||"byteOffset"==st)||wi(st,It)))&&Je.push(st);return Je}(C):function Ln(C){if(!function Sr(C){var Y=C&&C.constructor;return C===("function"==typeof Y&&Y.prototype||we)}(C))return or(C);var Y=[];for(var le in Object(C))De.call(C,le)&&"constructor"!=le&&Y.push(le);return Y}(C)}he.exports=function zn(C,Y){return br(C,Y)}},9805:(he,f,v)=>{"use strict";const E=v(71141),W=v(80318),q=v(71675),V=v(25633),K=Symbol("encodeFragmentIdentifier");function O(J){if("string"!=typeof J||1!==J.length)throw new TypeError("arrayFormatSeparator must be single character string")}function P(J,L){return L.encode?L.strict?E(J):encodeURIComponent(J):J}function Q(J,L){return L.decode?W(J):J}function ne(J){return Array.isArray(J)?J.sort():"object"==typeof J?ne(Object.keys(J)).sort((L,U)=>Number(L)-Number(U)).map(L=>J[L]):J}function X(J){const L=J.indexOf("#");return-1!==L&&(J=J.slice(0,L)),J}function ae(J){const L=(J=X(J)).indexOf("?");return-1===L?"":J.slice(L+1)}function D(J,L){return L.parseNumbers&&!Number.isNaN(Number(J))&&"string"==typeof J&&""!==J.trim()?J=Number(J):L.parseBooleans&&null!==J&&("true"===J.toLowerCase()||"false"===J.toLowerCase())&&(J="true"===J.toLowerCase()),J}function ce(J,L){O((L=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},L)).arrayFormatSeparator);const U=function R(J){let L;switch(J.arrayFormat){case"index":return(U,A,F)=>{L=/\[(\d*)\]$/.exec(U),U=U.replace(/\[\d*\]$/,""),L?(void 0===F[U]&&(F[U]={}),F[U][L[1]]=A):F[U]=A};case"bracket":return(U,A,F)=>{L=/(\[\])$/.exec(U),F[U=U.replace(/\[\]$/,"")]=L?void 0!==F[U]?[].concat(F[U],A):[A]:A};case"colon-list-separator":return(U,A,F)=>{L=/(:list)$/.exec(U),F[U=U.replace(/:list$/,"")]=L?void 0!==F[U]?[].concat(F[U],A):[A]:A};case"comma":case"separator":return(U,A,F)=>{const x="string"==typeof A&&A.includes(J.arrayFormatSeparator),u="string"==typeof A&&!x&&Q(A,J).includes(J.arrayFormatSeparator);A=u?Q(A,J):A;const o=x||u?A.split(J.arrayFormatSeparator).map(g=>Q(g,J)):null===A?A:Q(A,J);F[U]=o};case"bracket-separator":return(U,A,F)=>{const x=/(\[\])$/.test(U);if(U=U.replace(/\[\]$/,""),!x)return void(F[U]=A&&Q(A,J));const u=null===A?[]:A.split(J.arrayFormatSeparator).map(o=>Q(o,J));F[U]=void 0!==F[U]?[].concat(F[U],u):u};default:return(U,A,F)=>{F[U]=void 0!==F[U]?[].concat(F[U],A):A}}}(L),A=Object.create(null);if("string"!=typeof J||!(J=J.trim().replace(/^[?#&]/,"")))return A;for(const F of J.split("&")){if(""===F)continue;let[x,u]=q(L.decode?F.replace(/\+/g," "):F,"=");u=void 0===u?null:["comma","separator","bracket-separator"].includes(L.arrayFormat)?u:Q(u,L),U(Q(x,L),u,A)}for(const F of Object.keys(A)){const x=A[F];if("object"==typeof x&&null!==x)for(const u of Object.keys(x))x[u]=D(x[u],L);else A[F]=D(x,L)}return!1===L.sort?A:(!0===L.sort?Object.keys(A).sort():Object.keys(A).sort(L.sort)).reduce((F,x)=>{const u=A[x];return F[x]=Boolean(u)&&"object"==typeof u&&!Array.isArray(u)?ne(u):u,F},Object.create(null))}f.extract=ae,f.parse=ce,f.stringify=(J,L)=>{if(!J)return"";O((L=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},L)).arrayFormatSeparator);const U=u=>L.skipNull&&(J=>null==J)(J[u])||L.skipEmptyString&&""===J[u],A=function T(J){switch(J.arrayFormat){case"index":return L=>(U,A)=>{const F=U.length;return void 0===A||J.skipNull&&null===A||J.skipEmptyString&&""===A?U:null===A?[...U,[P(L,J),"[",F,"]"].join("")]:[...U,[P(L,J),"[",P(F,J),"]=",P(A,J)].join("")]};case"bracket":return L=>(U,A)=>void 0===A||J.skipNull&&null===A||J.skipEmptyString&&""===A?U:null===A?[...U,[P(L,J),"[]"].join("")]:[...U,[P(L,J),"[]=",P(A,J)].join("")];case"colon-list-separator":return L=>(U,A)=>void 0===A||J.skipNull&&null===A||J.skipEmptyString&&""===A?U:null===A?[...U,[P(L,J),":list="].join("")]:[...U,[P(L,J),":list=",P(A,J)].join("")];case"comma":case"separator":case"bracket-separator":{const L="bracket-separator"===J.arrayFormat?"[]=":"=";return U=>(A,F)=>void 0===F||J.skipNull&&null===F||J.skipEmptyString&&""===F?A:(F=null===F?"":F,0===A.length?[[P(U,J),L,P(F,J)].join("")]:[[A,P(F,J)].join(J.arrayFormatSeparator)])}default:return L=>(U,A)=>void 0===A||J.skipNull&&null===A||J.skipEmptyString&&""===A?U:null===A?[...U,P(L,J)]:[...U,[P(L,J),"=",P(A,J)].join("")]}}(L),F={};for(const u of Object.keys(J))U(u)||(F[u]=J[u]);const x=Object.keys(F);return!1!==L.sort&&x.sort(L.sort),x.map(u=>{const o=J[u];return void 0===o?"":null===o?P(u,L):Array.isArray(o)?0===o.length&&"bracket-separator"===L.arrayFormat?P(u,L)+"[]":o.reduce(A(u),[]).join("&"):P(u,L)+"="+P(o,L)}).filter(u=>u.length>0).join("&")},f.parseUrl=(J,L)=>{L=Object.assign({decode:!0},L);const[U,A]=q(J,"#");return Object.assign({url:U.split("?")[0]||"",query:ce(ae(J),L)},L&&L.parseFragmentIdentifier&&A?{fragmentIdentifier:Q(A,L)}:{})},f.stringifyUrl=(J,L)=>{L=Object.assign({encode:!0,strict:!0,[K]:!0},L);const U=X(J.url).split("?")[0]||"",A=f.extract(J.url),F=f.parse(A,{sort:!1}),x=Object.assign(F,J.query);let u=f.stringify(x,L);u&&(u=`?${u}`);let o=function re(J){let L="";const U=J.indexOf("#");return-1!==U&&(L=J.slice(U)),L}(J.url);return J.fragmentIdentifier&&(o=`#${L[K]?P(J.fragmentIdentifier,L):J.fragmentIdentifier}`),`${U}${u}${o}`},f.pick=(J,L,U)=>{U=Object.assign({parseFragmentIdentifier:!0,[K]:!1},U);const{url:A,query:F,fragmentIdentifier:x}=f.parseUrl(J,U);return f.stringifyUrl({url:A,query:V(F,L),fragmentIdentifier:x},U)},f.exclude=(J,L,U)=>{const A=Array.isArray(L)?F=>!L.includes(F):(F,x)=>!L(F,x);return f.pick(J,A,U)}},51958:he=>{"use strict";function f(E){try{return JSON.stringify(E)}catch{return'"[Circular]"'}}he.exports=function v(E,W,q){var V=q&&q.stringify||f;if("object"==typeof E&&null!==E){var K=W.length+1;if(1===K)return E;var T=new Array(K);T[0]=V(E);for(var R=1;R<K;R++)T[R]=V(W[R]);return T.join(" ")}if("string"!=typeof E)return E;var O=W.length;if(0===O)return E;for(var P="",Q=0,ne=-1,X=E&&E.length||0,re=0;re<X;){if(37===E.charCodeAt(re)&&re+1<X){switch(ne=ne>-1?ne:0,E.charCodeAt(re+1)){case 100:case 102:if(Q>=O||null==W[Q])break;ne<re&&(P+=E.slice(ne,re)),P+=Number(W[Q]),ne=re+2,re++;break;case 105:if(Q>=O||null==W[Q])break;ne<re&&(P+=E.slice(ne,re)),P+=Math.floor(Number(W[Q])),ne=re+2,re++;break;case 79:case 111:case 106:if(Q>=O||void 0===W[Q])break;ne<re&&(P+=E.slice(ne,re));var ae=typeof W[Q];if("string"===ae){P+="'"+W[Q]+"'",ne=re+2,re++;break}if("function"===ae){P+=W[Q].name||"<anonymous>",ne=re+2,re++;break}P+=V(W[Q]),ne=re+2,re++;break;case 115:if(Q>=O)break;ne<re&&(P+=E.slice(ne,re)),P+=String(W[Q]),ne=re+2,re++;break;case 37:ne<re&&(P+=E.slice(ne,re)),P+="%",ne=re+2,re++,Q--}++Q}++re}return-1===ne?E:(ne<X&&(P+=E.slice(ne)),P)}},53439:(he,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.safeJsonParse=function v(W){if("string"!=typeof W)throw new Error("Cannot safe json parse value of type "+typeof W);try{return JSON.parse(W)}catch{return W}},f.safeJsonStringify=function E(W){return"string"==typeof W?W:JSON.stringify(W,(q,V)=>typeof V>"u"?null:V)}},71675:he=>{"use strict";he.exports=(f,v)=>{if("string"!=typeof f||"string"!=typeof v)throw new TypeError("Expected the arguments to be of type `string`");if(""===v)return[f];const E=f.indexOf(v);return-1===E?[f]:[f.slice(0,E),f.slice(E+v.length)]}},71141:he=>{"use strict";he.exports=f=>encodeURIComponent(f).replace(/[!'()*]/g,v=>`%${v.charCodeAt(0).toString(16).toUpperCase()}`)},82791:he=>{"use strict";he.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},69763:(he,f,v)=>{"use strict";v.r(f),v.d(f,{__assign:()=>q,__asyncDelegator:()=>J,__asyncGenerator:()=>ce,__asyncValues:()=>L,__await:()=>D,__awaiter:()=>R,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>u,__createBinding:()=>P,__decorate:()=>N,__exportStar:()=>Q,__extends:()=>W,__generator:()=>O,__importDefault:()=>F,__importStar:()=>A,__makeTemplateObject:()=>U,__metadata:()=>T,__param:()=>K,__read:()=>X,__rest:()=>V,__spread:()=>re,__spreadArrays:()=>ae,__values:()=>ne});var E=function(o,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var y in _)_.hasOwnProperty(y)&&(d[y]=_[y])})(o,g)};function W(o,g){function d(){this.constructor=o}E(o,g),o.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}var q=function(){return q=Object.assign||function(g){for(var d,_=1,y=arguments.length;_<y;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},q.apply(this,arguments)};function V(o,g){var d={};for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&g.indexOf(_)<0&&(d[_]=o[_]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var y=0;for(_=Object.getOwnPropertySymbols(o);y<_.length;y++)g.indexOf(_[y])<0&&Object.prototype.propertyIsEnumerable.call(o,_[y])&&(d[_[y]]=o[_[y]])}return d}function N(o,g,d,_){var b,y=arguments.length,l=y<3?g:null===_?_=Object.getOwnPropertyDescriptor(g,d):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,g,d,_);else for(var w=o.length-1;w>=0;w--)(b=o[w])&&(l=(y<3?b(l):y>3?b(g,d,l):b(g,d))||l);return y>3&&l&&Object.defineProperty(g,d,l),l}function K(o,g){return function(d,_){g(d,_,o)}}function T(o,g){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,g)}function R(o,g,d,_){return new(d||(d=Promise))(function(l,b){function w(M){try{m(_.next(M))}catch(k){b(k)}}function I(M){try{m(_.throw(M))}catch(k){b(k)}}function m(M){M.done?l(M.value):function y(l){return l instanceof d?l:new d(function(b){b(l)})}(M.value).then(w,I)}m((_=_.apply(o,g||[])).next())})}function O(o,g){var _,y,l,b,d={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return b={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function w(m){return function(M){return function I(m){if(_)throw new TypeError("Generator is already executing.");for(;d;)try{if(_=1,y&&(l=2&m[0]?y.return:m[0]?y.throw||((l=y.return)&&l.call(y),0):y.next)&&!(l=l.call(y,m[1])).done)return l;switch(y=0,l&&(m=[2&m[0],l.value]),m[0]){case 0:case 1:l=m;break;case 4:return d.label++,{value:m[1],done:!1};case 5:d.label++,y=m[1],m=[0];continue;case 7:m=d.ops.pop(),d.trys.pop();continue;default:if(!(l=(l=d.trys).length>0&&l[l.length-1])&&(6===m[0]||2===m[0])){d=0;continue}if(3===m[0]&&(!l||m[1]>l[0]&&m[1]<l[3])){d.label=m[1];break}if(6===m[0]&&d.label<l[1]){d.label=l[1],l=m;break}if(l&&d.label<l[2]){d.label=l[2],d.ops.push(m);break}l[2]&&d.ops.pop(),d.trys.pop();continue}m=g.call(o,d)}catch(M){m=[6,M],y=0}finally{_=l=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,M])}}}function P(o,g,d,_){void 0===_&&(_=d),o[_]=g[d]}function Q(o,g){for(var d in o)"default"!==d&&!g.hasOwnProperty(d)&&(g[d]=o[d])}function ne(o){var g="function"==typeof Symbol&&Symbol.iterator,d=g&&o[g],_=0;if(d)return d.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&_>=o.length&&(o=void 0),{value:o&&o[_++],done:!o}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(o,g){var d="function"==typeof Symbol&&o[Symbol.iterator];if(!d)return o;var y,b,_=d.call(o),l=[];try{for(;(void 0===g||g-- >0)&&!(y=_.next()).done;)l.push(y.value)}catch(w){b={error:w}}finally{try{y&&!y.done&&(d=_.return)&&d.call(_)}finally{if(b)throw b.error}}return l}function re(){for(var o=[],g=0;g<arguments.length;g++)o=o.concat(X(arguments[g]));return o}function ae(){for(var o=0,g=0,d=arguments.length;g<d;g++)o+=arguments[g].length;var _=Array(o),y=0;for(g=0;g<d;g++)for(var l=arguments[g],b=0,w=l.length;b<w;b++,y++)_[y]=l[b];return _}function D(o){return this instanceof D?(this.v=o,this):new D(o)}function ce(o,g,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,_=d.apply(o,g||[]),l=[];return y={},b("next"),b("throw"),b("return"),y[Symbol.asyncIterator]=function(){return this},y;function b(j){_[j]&&(y[j]=function(fe){return new Promise(function(se,ue){l.push([j,fe,se,ue])>1||w(j,fe)})})}function w(j,fe){try{!function I(j){j.value instanceof D?Promise.resolve(j.value.v).then(m,M):k(l[0][2],j)}(_[j](fe))}catch(se){k(l[0][3],se)}}function m(j){w("next",j)}function M(j){w("throw",j)}function k(j,fe){j(fe),l.shift(),l.length&&w(l[0][0],l[0][1])}}function J(o){var g,d;return g={},_("next"),_("throw",function(y){throw y}),_("return"),g[Symbol.iterator]=function(){return this},g;function _(y,l){g[y]=o[y]?function(b){return(d=!d)?{value:D(o[y](b)),done:"return"===y}:l?l(b):b}:l}}function L(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,g=o[Symbol.asyncIterator];return g?g.call(o):(o=ne(o),d={},_("next"),_("throw"),_("return"),d[Symbol.asyncIterator]=function(){return this},d);function _(l){d[l]=o[l]&&function(b){return new Promise(function(w,I){!function y(l,b,w,I){Promise.resolve(I).then(function(m){l({value:m,done:w})},b)}(w,I,(b=o[l](b)).done,b.value)})}}}function U(o,g){return Object.defineProperty?Object.defineProperty(o,"raw",{value:g}):o.raw=g,o}function A(o){if(o&&o.__esModule)return o;var g={};if(null!=o)for(var d in o)Object.hasOwnProperty.call(o,d)&&(g[d]=o[d]);return g.default=o,g}function F(o){return o&&o.__esModule?o:{default:o}}function x(o,g){if(!g.has(o))throw new TypeError("attempted to get private field on non-instance");return g.get(o)}function u(o,g,d){if(!g.has(o))throw new TypeError("attempted to set private field on non-instance");return g.set(o,d),d}},99940:(he,f,v)=>{"use strict";v.r(f),v.d(f,{__assign:()=>q,__asyncDelegator:()=>J,__asyncGenerator:()=>ce,__asyncValues:()=>L,__await:()=>D,__awaiter:()=>R,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>u,__createBinding:()=>P,__decorate:()=>N,__exportStar:()=>Q,__extends:()=>W,__generator:()=>O,__importDefault:()=>F,__importStar:()=>A,__makeTemplateObject:()=>U,__metadata:()=>T,__param:()=>K,__read:()=>X,__rest:()=>V,__spread:()=>re,__spreadArrays:()=>ae,__values:()=>ne});var E=function(o,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var y in _)_.hasOwnProperty(y)&&(d[y]=_[y])})(o,g)};function W(o,g){function d(){this.constructor=o}E(o,g),o.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}var q=function(){return q=Object.assign||function(g){for(var d,_=1,y=arguments.length;_<y;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},q.apply(this,arguments)};function V(o,g){var d={};for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&g.indexOf(_)<0&&(d[_]=o[_]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var y=0;for(_=Object.getOwnPropertySymbols(o);y<_.length;y++)g.indexOf(_[y])<0&&Object.prototype.propertyIsEnumerable.call(o,_[y])&&(d[_[y]]=o[_[y]])}return d}function N(o,g,d,_){var b,y=arguments.length,l=y<3?g:null===_?_=Object.getOwnPropertyDescriptor(g,d):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,g,d,_);else for(var w=o.length-1;w>=0;w--)(b=o[w])&&(l=(y<3?b(l):y>3?b(g,d,l):b(g,d))||l);return y>3&&l&&Object.defineProperty(g,d,l),l}function K(o,g){return function(d,_){g(d,_,o)}}function T(o,g){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,g)}function R(o,g,d,_){return new(d||(d=Promise))(function(l,b){function w(M){try{m(_.next(M))}catch(k){b(k)}}function I(M){try{m(_.throw(M))}catch(k){b(k)}}function m(M){M.done?l(M.value):function y(l){return l instanceof d?l:new d(function(b){b(l)})}(M.value).then(w,I)}m((_=_.apply(o,g||[])).next())})}function O(o,g){var _,y,l,b,d={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return b={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function w(m){return function(M){return function I(m){if(_)throw new TypeError("Generator is already executing.");for(;d;)try{if(_=1,y&&(l=2&m[0]?y.return:m[0]?y.throw||((l=y.return)&&l.call(y),0):y.next)&&!(l=l.call(y,m[1])).done)return l;switch(y=0,l&&(m=[2&m[0],l.value]),m[0]){case 0:case 1:l=m;break;case 4:return d.label++,{value:m[1],done:!1};case 5:d.label++,y=m[1],m=[0];continue;case 7:m=d.ops.pop(),d.trys.pop();continue;default:if(!(l=(l=d.trys).length>0&&l[l.length-1])&&(6===m[0]||2===m[0])){d=0;continue}if(3===m[0]&&(!l||m[1]>l[0]&&m[1]<l[3])){d.label=m[1];break}if(6===m[0]&&d.label<l[1]){d.label=l[1],l=m;break}if(l&&d.label<l[2]){d.label=l[2],d.ops.push(m);break}l[2]&&d.ops.pop(),d.trys.pop();continue}m=g.call(o,d)}catch(M){m=[6,M],y=0}finally{_=l=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,M])}}}function P(o,g,d,_){void 0===_&&(_=d),o[_]=g[d]}function Q(o,g){for(var d in o)"default"!==d&&!g.hasOwnProperty(d)&&(g[d]=o[d])}function ne(o){var g="function"==typeof Symbol&&Symbol.iterator,d=g&&o[g],_=0;if(d)return d.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&_>=o.length&&(o=void 0),{value:o&&o[_++],done:!o}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(o,g){var d="function"==typeof Symbol&&o[Symbol.iterator];if(!d)return o;var y,b,_=d.call(o),l=[];try{for(;(void 0===g||g-- >0)&&!(y=_.next()).done;)l.push(y.value)}catch(w){b={error:w}}finally{try{y&&!y.done&&(d=_.return)&&d.call(_)}finally{if(b)throw b.error}}return l}function re(){for(var o=[],g=0;g<arguments.length;g++)o=o.concat(X(arguments[g]));return o}function ae(){for(var o=0,g=0,d=arguments.length;g<d;g++)o+=arguments[g].length;var _=Array(o),y=0;for(g=0;g<d;g++)for(var l=arguments[g],b=0,w=l.length;b<w;b++,y++)_[y]=l[b];return _}function D(o){return this instanceof D?(this.v=o,this):new D(o)}function ce(o,g,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,_=d.apply(o,g||[]),l=[];return y={},b("next"),b("throw"),b("return"),y[Symbol.asyncIterator]=function(){return this},y;function b(j){_[j]&&(y[j]=function(fe){return new Promise(function(se,ue){l.push([j,fe,se,ue])>1||w(j,fe)})})}function w(j,fe){try{!function I(j){j.value instanceof D?Promise.resolve(j.value.v).then(m,M):k(l[0][2],j)}(_[j](fe))}catch(se){k(l[0][3],se)}}function m(j){w("next",j)}function M(j){w("throw",j)}function k(j,fe){j(fe),l.shift(),l.length&&w(l[0][0],l[0][1])}}function J(o){var g,d;return g={},_("next"),_("throw",function(y){throw y}),_("return"),g[Symbol.iterator]=function(){return this},g;function _(y,l){g[y]=o[y]?function(b){return(d=!d)?{value:D(o[y](b)),done:"return"===y}:l?l(b):b}:l}}function L(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,g=o[Symbol.asyncIterator];return g?g.call(o):(o=ne(o),d={},_("next"),_("throw"),_("return"),d[Symbol.asyncIterator]=function(){return this},d);function _(l){d[l]=o[l]&&function(b){return new Promise(function(w,I){!function y(l,b,w,I){Promise.resolve(I).then(function(m){l({value:m,done:w})},b)}(w,I,(b=o[l](b)).done,b.value)})}}}function U(o,g){return Object.defineProperty?Object.defineProperty(o,"raw",{value:g}):o.raw=g,o}function A(o){if(o&&o.__esModule)return o;var g={};if(null!=o)for(var d in o)Object.hasOwnProperty.call(o,d)&&(g[d]=o[d]);return g.default=o,g}function F(o){return o&&o.__esModule?o:{default:o}}function x(o,g){if(!g.has(o))throw new TypeError("attempted to get private field on non-instance");return g.get(o)}function u(o,g,d){if(!g.has(o))throw new TypeError("attempted to set private field on non-instance");return g.set(o,d),d}},92818:(he,f,v)=>{"use strict";v.r(f),v.d(f,{__assign:()=>q,__asyncDelegator:()=>J,__asyncGenerator:()=>ce,__asyncValues:()=>L,__await:()=>D,__awaiter:()=>R,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>u,__createBinding:()=>P,__decorate:()=>N,__exportStar:()=>Q,__extends:()=>W,__generator:()=>O,__importDefault:()=>F,__importStar:()=>A,__makeTemplateObject:()=>U,__metadata:()=>T,__param:()=>K,__read:()=>X,__rest:()=>V,__spread:()=>re,__spreadArrays:()=>ae,__values:()=>ne});var E=function(o,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var y in _)_.hasOwnProperty(y)&&(d[y]=_[y])})(o,g)};function W(o,g){function d(){this.constructor=o}E(o,g),o.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}var q=function(){return q=Object.assign||function(g){for(var d,_=1,y=arguments.length;_<y;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},q.apply(this,arguments)};function V(o,g){var d={};for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&g.indexOf(_)<0&&(d[_]=o[_]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var y=0;for(_=Object.getOwnPropertySymbols(o);y<_.length;y++)g.indexOf(_[y])<0&&Object.prototype.propertyIsEnumerable.call(o,_[y])&&(d[_[y]]=o[_[y]])}return d}function N(o,g,d,_){var b,y=arguments.length,l=y<3?g:null===_?_=Object.getOwnPropertyDescriptor(g,d):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,g,d,_);else for(var w=o.length-1;w>=0;w--)(b=o[w])&&(l=(y<3?b(l):y>3?b(g,d,l):b(g,d))||l);return y>3&&l&&Object.defineProperty(g,d,l),l}function K(o,g){return function(d,_){g(d,_,o)}}function T(o,g){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,g)}function R(o,g,d,_){return new(d||(d=Promise))(function(l,b){function w(M){try{m(_.next(M))}catch(k){b(k)}}function I(M){try{m(_.throw(M))}catch(k){b(k)}}function m(M){M.done?l(M.value):function y(l){return l instanceof d?l:new d(function(b){b(l)})}(M.value).then(w,I)}m((_=_.apply(o,g||[])).next())})}function O(o,g){var _,y,l,b,d={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return b={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function w(m){return function(M){return function I(m){if(_)throw new TypeError("Generator is already executing.");for(;d;)try{if(_=1,y&&(l=2&m[0]?y.return:m[0]?y.throw||((l=y.return)&&l.call(y),0):y.next)&&!(l=l.call(y,m[1])).done)return l;switch(y=0,l&&(m=[2&m[0],l.value]),m[0]){case 0:case 1:l=m;break;case 4:return d.label++,{value:m[1],done:!1};case 5:d.label++,y=m[1],m=[0];continue;case 7:m=d.ops.pop(),d.trys.pop();continue;default:if(!(l=(l=d.trys).length>0&&l[l.length-1])&&(6===m[0]||2===m[0])){d=0;continue}if(3===m[0]&&(!l||m[1]>l[0]&&m[1]<l[3])){d.label=m[1];break}if(6===m[0]&&d.label<l[1]){d.label=l[1],l=m;break}if(l&&d.label<l[2]){d.label=l[2],d.ops.push(m);break}l[2]&&d.ops.pop(),d.trys.pop();continue}m=g.call(o,d)}catch(M){m=[6,M],y=0}finally{_=l=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,M])}}}function P(o,g,d,_){void 0===_&&(_=d),o[_]=g[d]}function Q(o,g){for(var d in o)"default"!==d&&!g.hasOwnProperty(d)&&(g[d]=o[d])}function ne(o){var g="function"==typeof Symbol&&Symbol.iterator,d=g&&o[g],_=0;if(d)return d.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&_>=o.length&&(o=void 0),{value:o&&o[_++],done:!o}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(o,g){var d="function"==typeof Symbol&&o[Symbol.iterator];if(!d)return o;var y,b,_=d.call(o),l=[];try{for(;(void 0===g||g-- >0)&&!(y=_.next()).done;)l.push(y.value)}catch(w){b={error:w}}finally{try{y&&!y.done&&(d=_.return)&&d.call(_)}finally{if(b)throw b.error}}return l}function re(){for(var o=[],g=0;g<arguments.length;g++)o=o.concat(X(arguments[g]));return o}function ae(){for(var o=0,g=0,d=arguments.length;g<d;g++)o+=arguments[g].length;var _=Array(o),y=0;for(g=0;g<d;g++)for(var l=arguments[g],b=0,w=l.length;b<w;b++,y++)_[y]=l[b];return _}function D(o){return this instanceof D?(this.v=o,this):new D(o)}function ce(o,g,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,_=d.apply(o,g||[]),l=[];return y={},b("next"),b("throw"),b("return"),y[Symbol.asyncIterator]=function(){return this},y;function b(j){_[j]&&(y[j]=function(fe){return new Promise(function(se,ue){l.push([j,fe,se,ue])>1||w(j,fe)})})}function w(j,fe){try{!function I(j){j.value instanceof D?Promise.resolve(j.value.v).then(m,M):k(l[0][2],j)}(_[j](fe))}catch(se){k(l[0][3],se)}}function m(j){w("next",j)}function M(j){w("throw",j)}function k(j,fe){j(fe),l.shift(),l.length&&w(l[0][0],l[0][1])}}function J(o){var g,d;return g={},_("next"),_("throw",function(y){throw y}),_("return"),g[Symbol.iterator]=function(){return this},g;function _(y,l){g[y]=o[y]?function(b){return(d=!d)?{value:D(o[y](b)),done:"return"===y}:l?l(b):b}:l}}function L(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,g=o[Symbol.asyncIterator];return g?g.call(o):(o=ne(o),d={},_("next"),_("throw"),_("return"),d[Symbol.asyncIterator]=function(){return this},d);function _(l){d[l]=o[l]&&function(b){return new Promise(function(w,I){!function y(l,b,w,I){Promise.resolve(I).then(function(m){l({value:m,done:w})},b)}(w,I,(b=o[l](b)).done,b.value)})}}}function U(o,g){return Object.defineProperty?Object.defineProperty(o,"raw",{value:g}):o.raw=g,o}function A(o){if(o&&o.__esModule)return o;var g={};if(null!=o)for(var d in o)Object.hasOwnProperty.call(o,d)&&(g[d]=o[d]);return g.default=o,g}function F(o){return o&&o.__esModule?o:{default:o}}function x(o,g){if(!g.has(o))throw new TypeError("attempted to get private field on non-instance");return g.get(o)}function u(o,g,d){if(!g.has(o))throw new TypeError("attempted to set private field on non-instance");return g.set(o,d),d}},20263:(he,f,v)=>{"use strict";v.r(f),v.d(f,{__assign:()=>q,__asyncDelegator:()=>J,__asyncGenerator:()=>ce,__asyncValues:()=>L,__await:()=>D,__awaiter:()=>R,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>u,__createBinding:()=>P,__decorate:()=>N,__exportStar:()=>Q,__extends:()=>W,__generator:()=>O,__importDefault:()=>F,__importStar:()=>A,__makeTemplateObject:()=>U,__metadata:()=>T,__param:()=>K,__read:()=>X,__rest:()=>V,__spread:()=>re,__spreadArrays:()=>ae,__values:()=>ne});var E=function(o,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var y in _)_.hasOwnProperty(y)&&(d[y]=_[y])})(o,g)};function W(o,g){function d(){this.constructor=o}E(o,g),o.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}var q=function(){return q=Object.assign||function(g){for(var d,_=1,y=arguments.length;_<y;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},q.apply(this,arguments)};function V(o,g){var d={};for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&g.indexOf(_)<0&&(d[_]=o[_]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var y=0;for(_=Object.getOwnPropertySymbols(o);y<_.length;y++)g.indexOf(_[y])<0&&Object.prototype.propertyIsEnumerable.call(o,_[y])&&(d[_[y]]=o[_[y]])}return d}function N(o,g,d,_){var b,y=arguments.length,l=y<3?g:null===_?_=Object.getOwnPropertyDescriptor(g,d):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,g,d,_);else for(var w=o.length-1;w>=0;w--)(b=o[w])&&(l=(y<3?b(l):y>3?b(g,d,l):b(g,d))||l);return y>3&&l&&Object.defineProperty(g,d,l),l}function K(o,g){return function(d,_){g(d,_,o)}}function T(o,g){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,g)}function R(o,g,d,_){return new(d||(d=Promise))(function(l,b){function w(M){try{m(_.next(M))}catch(k){b(k)}}function I(M){try{m(_.throw(M))}catch(k){b(k)}}function m(M){M.done?l(M.value):function y(l){return l instanceof d?l:new d(function(b){b(l)})}(M.value).then(w,I)}m((_=_.apply(o,g||[])).next())})}function O(o,g){var _,y,l,b,d={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return b={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function w(m){return function(M){return function I(m){if(_)throw new TypeError("Generator is already executing.");for(;d;)try{if(_=1,y&&(l=2&m[0]?y.return:m[0]?y.throw||((l=y.return)&&l.call(y),0):y.next)&&!(l=l.call(y,m[1])).done)return l;switch(y=0,l&&(m=[2&m[0],l.value]),m[0]){case 0:case 1:l=m;break;case 4:return d.label++,{value:m[1],done:!1};case 5:d.label++,y=m[1],m=[0];continue;case 7:m=d.ops.pop(),d.trys.pop();continue;default:if(!(l=(l=d.trys).length>0&&l[l.length-1])&&(6===m[0]||2===m[0])){d=0;continue}if(3===m[0]&&(!l||m[1]>l[0]&&m[1]<l[3])){d.label=m[1];break}if(6===m[0]&&d.label<l[1]){d.label=l[1],l=m;break}if(l&&d.label<l[2]){d.label=l[2],d.ops.push(m);break}l[2]&&d.ops.pop(),d.trys.pop();continue}m=g.call(o,d)}catch(M){m=[6,M],y=0}finally{_=l=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,M])}}}function P(o,g,d,_){void 0===_&&(_=d),o[_]=g[d]}function Q(o,g){for(var d in o)"default"!==d&&!g.hasOwnProperty(d)&&(g[d]=o[d])}function ne(o){var g="function"==typeof Symbol&&Symbol.iterator,d=g&&o[g],_=0;if(d)return d.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&_>=o.length&&(o=void 0),{value:o&&o[_++],done:!o}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(o,g){var d="function"==typeof Symbol&&o[Symbol.iterator];if(!d)return o;var y,b,_=d.call(o),l=[];try{for(;(void 0===g||g-- >0)&&!(y=_.next()).done;)l.push(y.value)}catch(w){b={error:w}}finally{try{y&&!y.done&&(d=_.return)&&d.call(_)}finally{if(b)throw b.error}}return l}function re(){for(var o=[],g=0;g<arguments.length;g++)o=o.concat(X(arguments[g]));return o}function ae(){for(var o=0,g=0,d=arguments.length;g<d;g++)o+=arguments[g].length;var _=Array(o),y=0;for(g=0;g<d;g++)for(var l=arguments[g],b=0,w=l.length;b<w;b++,y++)_[y]=l[b];return _}function D(o){return this instanceof D?(this.v=o,this):new D(o)}function ce(o,g,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,_=d.apply(o,g||[]),l=[];return y={},b("next"),b("throw"),b("return"),y[Symbol.asyncIterator]=function(){return this},y;function b(j){_[j]&&(y[j]=function(fe){return new Promise(function(se,ue){l.push([j,fe,se,ue])>1||w(j,fe)})})}function w(j,fe){try{!function I(j){j.value instanceof D?Promise.resolve(j.value.v).then(m,M):k(l[0][2],j)}(_[j](fe))}catch(se){k(l[0][3],se)}}function m(j){w("next",j)}function M(j){w("throw",j)}function k(j,fe){j(fe),l.shift(),l.length&&w(l[0][0],l[0][1])}}function J(o){var g,d;return g={},_("next"),_("throw",function(y){throw y}),_("return"),g[Symbol.iterator]=function(){return this},g;function _(y,l){g[y]=o[y]?function(b){return(d=!d)?{value:D(o[y](b)),done:"return"===y}:l?l(b):b}:l}}function L(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,g=o[Symbol.asyncIterator];return g?g.call(o):(o=ne(o),d={},_("next"),_("throw"),_("return"),d[Symbol.asyncIterator]=function(){return this},d);function _(l){d[l]=o[l]&&function(b){return new Promise(function(w,I){!function y(l,b,w,I){Promise.resolve(I).then(function(m){l({value:m,done:w})},b)}(w,I,(b=o[l](b)).done,b.value)})}}}function U(o,g){return Object.defineProperty?Object.defineProperty(o,"raw",{value:g}):o.raw=g,o}function A(o){if(o&&o.__esModule)return o;var g={};if(null!=o)for(var d in o)Object.hasOwnProperty.call(o,d)&&(g[d]=o[d]);return g.default=o,g}function F(o){return o&&o.__esModule?o:{default:o}}function x(o,g){if(!g.has(o))throw new TypeError("attempted to get private field on non-instance");return g.get(o)}function u(o,g,d){if(!g.has(o))throw new TypeError("attempted to set private field on non-instance");return g.set(o,d),d}},58092:(he,f,v)=>{"use strict";v.r(f),v.d(f,{__assign:()=>q,__asyncDelegator:()=>J,__asyncGenerator:()=>ce,__asyncValues:()=>L,__await:()=>D,__awaiter:()=>R,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>u,__createBinding:()=>P,__decorate:()=>N,__exportStar:()=>Q,__extends:()=>W,__generator:()=>O,__importDefault:()=>F,__importStar:()=>A,__makeTemplateObject:()=>U,__metadata:()=>T,__param:()=>K,__read:()=>X,__rest:()=>V,__spread:()=>re,__spreadArrays:()=>ae,__values:()=>ne});var E=function(o,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var y in _)_.hasOwnProperty(y)&&(d[y]=_[y])})(o,g)};function W(o,g){function d(){this.constructor=o}E(o,g),o.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}var q=function(){return q=Object.assign||function(g){for(var d,_=1,y=arguments.length;_<y;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},q.apply(this,arguments)};function V(o,g){var d={};for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&g.indexOf(_)<0&&(d[_]=o[_]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var y=0;for(_=Object.getOwnPropertySymbols(o);y<_.length;y++)g.indexOf(_[y])<0&&Object.prototype.propertyIsEnumerable.call(o,_[y])&&(d[_[y]]=o[_[y]])}return d}function N(o,g,d,_){var b,y=arguments.length,l=y<3?g:null===_?_=Object.getOwnPropertyDescriptor(g,d):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,g,d,_);else for(var w=o.length-1;w>=0;w--)(b=o[w])&&(l=(y<3?b(l):y>3?b(g,d,l):b(g,d))||l);return y>3&&l&&Object.defineProperty(g,d,l),l}function K(o,g){return function(d,_){g(d,_,o)}}function T(o,g){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,g)}function R(o,g,d,_){return new(d||(d=Promise))(function(l,b){function w(M){try{m(_.next(M))}catch(k){b(k)}}function I(M){try{m(_.throw(M))}catch(k){b(k)}}function m(M){M.done?l(M.value):function y(l){return l instanceof d?l:new d(function(b){b(l)})}(M.value).then(w,I)}m((_=_.apply(o,g||[])).next())})}function O(o,g){var _,y,l,b,d={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return b={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function w(m){return function(M){return function I(m){if(_)throw new TypeError("Generator is already executing.");for(;d;)try{if(_=1,y&&(l=2&m[0]?y.return:m[0]?y.throw||((l=y.return)&&l.call(y),0):y.next)&&!(l=l.call(y,m[1])).done)return l;switch(y=0,l&&(m=[2&m[0],l.value]),m[0]){case 0:case 1:l=m;break;case 4:return d.label++,{value:m[1],done:!1};case 5:d.label++,y=m[1],m=[0];continue;case 7:m=d.ops.pop(),d.trys.pop();continue;default:if(!(l=(l=d.trys).length>0&&l[l.length-1])&&(6===m[0]||2===m[0])){d=0;continue}if(3===m[0]&&(!l||m[1]>l[0]&&m[1]<l[3])){d.label=m[1];break}if(6===m[0]&&d.label<l[1]){d.label=l[1],l=m;break}if(l&&d.label<l[2]){d.label=l[2],d.ops.push(m);break}l[2]&&d.ops.pop(),d.trys.pop();continue}m=g.call(o,d)}catch(M){m=[6,M],y=0}finally{_=l=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,M])}}}function P(o,g,d,_){void 0===_&&(_=d),o[_]=g[d]}function Q(o,g){for(var d in o)"default"!==d&&!g.hasOwnProperty(d)&&(g[d]=o[d])}function ne(o){var g="function"==typeof Symbol&&Symbol.iterator,d=g&&o[g],_=0;if(d)return d.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&_>=o.length&&(o=void 0),{value:o&&o[_++],done:!o}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(o,g){var d="function"==typeof Symbol&&o[Symbol.iterator];if(!d)return o;var y,b,_=d.call(o),l=[];try{for(;(void 0===g||g-- >0)&&!(y=_.next()).done;)l.push(y.value)}catch(w){b={error:w}}finally{try{y&&!y.done&&(d=_.return)&&d.call(_)}finally{if(b)throw b.error}}return l}function re(){for(var o=[],g=0;g<arguments.length;g++)o=o.concat(X(arguments[g]));return o}function ae(){for(var o=0,g=0,d=arguments.length;g<d;g++)o+=arguments[g].length;var _=Array(o),y=0;for(g=0;g<d;g++)for(var l=arguments[g],b=0,w=l.length;b<w;b++,y++)_[y]=l[b];return _}function D(o){return this instanceof D?(this.v=o,this):new D(o)}function ce(o,g,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,_=d.apply(o,g||[]),l=[];return y={},b("next"),b("throw"),b("return"),y[Symbol.asyncIterator]=function(){return this},y;function b(j){_[j]&&(y[j]=function(fe){return new Promise(function(se,ue){l.push([j,fe,se,ue])>1||w(j,fe)})})}function w(j,fe){try{!function I(j){j.value instanceof D?Promise.resolve(j.value.v).then(m,M):k(l[0][2],j)}(_[j](fe))}catch(se){k(l[0][3],se)}}function m(j){w("next",j)}function M(j){w("throw",j)}function k(j,fe){j(fe),l.shift(),l.length&&w(l[0][0],l[0][1])}}function J(o){var g,d;return g={},_("next"),_("throw",function(y){throw y}),_("return"),g[Symbol.iterator]=function(){return this},g;function _(y,l){g[y]=o[y]?function(b){return(d=!d)?{value:D(o[y](b)),done:"return"===y}:l?l(b):b}:l}}function L(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,g=o[Symbol.asyncIterator];return g?g.call(o):(o=ne(o),d={},_("next"),_("throw"),_("return"),d[Symbol.asyncIterator]=function(){return this},d);function _(l){d[l]=o[l]&&function(b){return new Promise(function(w,I){!function y(l,b,w,I){Promise.resolve(I).then(function(m){l({value:m,done:w})},b)}(w,I,(b=o[l](b)).done,b.value)})}}}function U(o,g){return Object.defineProperty?Object.defineProperty(o,"raw",{value:g}):o.raw=g,o}function A(o){if(o&&o.__esModule)return o;var g={};if(null!=o)for(var d in o)Object.hasOwnProperty.call(o,d)&&(g[d]=o[d]);return g.default=o,g}function F(o){return o&&o.__esModule?o:{default:o}}function x(o,g){if(!g.has(o))throw new TypeError("attempted to get private field on non-instance");return g.get(o)}function u(o,g,d){if(!g.has(o))throw new TypeError("attempted to set private field on non-instance");return g.set(o,d),d}},37386:(he,f,v)=>{"use strict";const E=v(51958);he.exports=N;const W=function F(){function x(u){return typeof u<"u"&&u}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return x(self)||x(window)||x(this)||{}}}().console||{},q={mapHttpRequest:ae,mapHttpResponse:ae,wrapRequestSerializer:D,wrapResponseSerializer:D,wrapErrorSerializer:D,req:ae,res:ae,err:function X(x){const u={type:x.constructor.name,msg:x.message,stack:x.stack};for(const o in x)void 0===u[o]&&(u[o]=x[o]);return u}};function N(x){(x=x||{}).browser=x.browser||{};const u=x.browser.transmit;if(u&&"function"!=typeof u.send)throw Error("pino: transmit option must have a send function");const o=x.browser.write||W;x.browser.write&&(x.browser.asObject=!0);const g=x.serializers||{},d=function V(x,u){return Array.isArray(x)?x.filter(function(g){return"!stdSerializers.err"!==g}):!0===x&&Object.keys(u)}(x.browser.serialize,g);let _=x.browser.serialize;Array.isArray(x.browser.serialize)&&x.browser.serialize.indexOf("!stdSerializers.err")>-1&&(_=!1),"function"==typeof o&&(o.error=o.fatal=o.warn=o.info=o.debug=o.trace=o),!1===x.enabled&&(x.level="silent");const l=x.level||"info",b=Object.create(o);b.log||(b.log=ce),Object.defineProperty(b,"levelVal",{get:function I(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(b,"level",{get:function m(){return this._level},set:function M(j){if("silent"!==j&&!this.levels.values[j])throw Error("unknown level "+j);this._level=j,K(w,b,"error","log"),K(w,b,"fatal","error"),K(w,b,"warn","error"),K(w,b,"info","log"),K(w,b,"debug","log"),K(w,b,"trace","log")}});const w={transmit:u,serialize:d,asObject:x.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:re(x)};return b.levels=N.levels,b.level=l,b.setMaxListeners=b.getMaxListeners=b.emit=b.addListener=b.on=b.prependListener=b.once=b.prependOnceListener=b.removeListener=b.removeAllListeners=b.listeners=b.listenerCount=b.eventNames=b.write=b.flush=ce,b.serializers=g,b._serialize=d,b._stdErrSerialize=_,b.child=function k(j,fe){if(!j)throw new Error("missing bindings for child Pino");fe=fe||{},d&&j.serializers&&(fe.serializers=j.serializers);const se=fe.serializers;if(d&&se){var ue=Object.assign({},g,se),pe=!0===x.browser.serialize?Object.keys(ue):d;delete j.serializers,O([j],pe,ue,this._stdErrSerialize)}function me(_e){this._childLevel=1+(0|_e._childLevel),this.error=P(_e,j,"error"),this.fatal=P(_e,j,"fatal"),this.warn=P(_e,j,"warn"),this.info=P(_e,j,"info"),this.debug=P(_e,j,"debug"),this.trace=P(_e,j,"trace"),ue&&(this.serializers=ue,this._serialize=pe),u&&(this._logEvent=ne([].concat(_e._logEvent.bindings,j)))}return me.prototype=this,new me(this)},u&&(b._logEvent=ne()),b}function K(x,u,o,g){const d=Object.getPrototypeOf(u);u[o]=u.levelVal>u.levels.values[o]?ce:d[o]?d[o]:W[o]||W[g]||ce,function T(x,u,o){!x.transmit&&u[o]===ce||(u[o]=function(g){return function(){const _=x.timestamp(),y=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===W?W:this;for(var b=0;b<y.length;b++)y[b]=arguments[b];if(x.serialize&&!x.asObject&&O(y,this._serialize,this.serializers,this._stdErrSerialize),x.asObject?g.call(l,R(this,o,y,_)):g.apply(l,y),x.transmit){const w=x.transmit.level||u.level,m=N.levels.values[o];if(m<N.levels.values[w])return;Q(this,{ts:_,methodLevel:o,methodValue:m,transmitLevel:w,transmitValue:N.levels.values[x.transmit.level||u.level],send:x.transmit.send,val:u.levelVal},y)}}}(u[o]))}(x,u,o)}function R(x,u,o,g){x._serialize&&O(o,x._serialize,x.serializers,x._stdErrSerialize);const d=o.slice();let _=d[0];const y={};g&&(y.time=g),y.level=N.levels.values[u];let l=1+(0|x._childLevel);if(l<1&&(l=1),null!==_&&"object"==typeof _){for(;l--&&"object"==typeof d[0];)Object.assign(y,d.shift());_=d.length?E(d.shift(),d):void 0}else"string"==typeof _&&(_=E(d.shift(),d));return void 0!==_&&(y.msg=_),y}function O(x,u,o,g){for(const d in x)if(g&&x[d]instanceof Error)x[d]=N.stdSerializers.err(x[d]);else if("object"==typeof x[d]&&!Array.isArray(x[d]))for(const _ in x[d])u&&u.indexOf(_)>-1&&_ in o&&(x[d][_]=o[_](x[d][_]))}function P(x,u,o){return function(){const g=new Array(1+arguments.length);g[0]=u;for(var d=1;d<g.length;d++)g[d]=arguments[d-1];return x[o].apply(this,g)}}function Q(x,u,o){const g=u.send,d=u.ts,_=u.methodLevel,y=u.methodValue,l=u.val,b=x._logEvent.bindings;O(o,x._serialize||Object.keys(x.serializers),x.serializers,void 0===x._stdErrSerialize||x._stdErrSerialize),x._logEvent.ts=d,x._logEvent.messages=o.filter(function(w){return-1===b.indexOf(w)}),x._logEvent.level.label=_,x._logEvent.level.value=y,g(_,x._logEvent,l),x._logEvent=ne(b)}function ne(x){return{ts:0,messages:[],bindings:x||[],level:{label:"",value:0}}}function re(x){return"function"==typeof x.timestamp?x.timestamp:!1===x.timestamp?J:L}function ae(){return{}}function D(x){return x}function ce(){}function J(){return!1}function L(){return Date.now()}N.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},N.stdSerializers=q,N.stdTimeFunctions=Object.assign({},{nullTime:J,epochTime:L,unixTime:function U(){return Math.round(Date.now()/1e3)},isoTime:function A(){return new Date(Date.now()).toISOString()}})}}]);