(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[819],{9819:(Ae,m,L)=>{"use strict";L.r(m),L.d(m,{WC_V2_DEFAULT_CHAINS:()=>k0,getWalletConnectV2ProviderInstance:()=>G0});var B={};L.r(B),L.d(B,{identity:()=>Je});var ae={};L.r(ae),L.d(ae,{base2:()=>ft});var _e={};L.r(_e),L.d(_e,{base8:()=>ht});var fe={};L.r(fe),L.d(fe,{base10:()=>mt});var Z={};L.r(Z),L.d(Z,{base16:()=>bt,base16upper:()=>gt});var oe={};L.r(oe),L.d(oe,{base36:()=>Dt,base36upper:()=>Jr});var K={};L.r(K),L.d(K,{base64:()=>cn,base64pad:()=>An,base64url:()=>Wn,base64urlpad:()=>Cn});var $={};L.r($),L.d($,{base256emoji:()=>sr});var M={};L.r(M),L.d(M,{sha256:()=>or,sha512:()=>ar});var F={};L.r(F),L.d(F,{identity:()=>ur});var ue={};L.r(ue),L.d(ue,{code:()=>ca,decode:()=>fa,encode:()=>ln,name:()=>cr});var he={};function ie(a,r,t,s,u,f,g){try{var I=a[f](g),X=I.value}catch(Y){return void t(Y)}I.done?r(X):Promise.resolve(X).then(s,u)}function S(a){return function(){var r=this,t=arguments;return new Promise(function(s,u){var f=a.apply(r,t);function g(X){ie(f,s,u,g,I,"next",X)}function I(X){ie(f,s,u,g,I,"throw",X)}g(void 0)})}}L.r(he),L.d(he,{code:()=>pa,decode:()=>ga,encode:()=>Tn,name:()=>da});var me=L(2272),De=L.n(me),Ee=L(83169),ee=L(40851),j=L(71268),z=L(43795);class R extends z.q{constructor(r){super(),this.opts=r,this.protocol="wc",this.version=2}}class T extends z.q{constructor(r,t){super(),this.core=r,this.logger=t,this.records=new Map}}class l extends z.q{constructor(r,t){super(),this.relayer=r,this.logger=t}}class v extends z.q{constructor(r){super()}}class b extends z.q{constructor(r,t){super(),this.relayer=r,this.logger=t}}class D extends z.q{constructor(r,t){super(),this.core=r,this.logger=t}}function xe(a){if("string"!=typeof a)throw new Error("Cannot safe json parse value of type "+typeof a);try{return(a=>{const t=a.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(s,u)=>"string"==typeof u&&u.match(/^\d+n$/)?BigInt(u.substring(0,u.length-1)):u)})(a)}catch{return a}}function Te(a){return"string"==typeof a?a:(a=>JSON.stringify(a,(r,t)=>"bigint"==typeof t?t.toString()+"n":t))(a)||""}var Le=L(52877),Me=L(7841),G=L(40145);const k="base64url",wt="did",ut="key",vt="base58btc";function nt(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function tt(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?nt(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function Ge(a,r){r||(r=a.reduce((u,f)=>u+f.length,0));const t=tt(r);let s=0;for(const u of a)t.set(u,s),s+=u.length;return nt(t)}var $e=L(29161),We=L(91744);const Je=(0,$e.Dp)({prefix:"\0",name:"identity",encode:a=>(0,We.toString)(a),decode:a=>(0,We.fromString)(a)}),ft=(0,$e.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ht=(0,$e.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),mt=(0,$e.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),bt=(0,$e.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gt=(0,$e.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Et=L(79515);const Dt=(0,$e.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Jr=(0,$e.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var wr=L(59942);const cn=(0,$e.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),An=(0,$e.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Wn=(0,$e.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Cn=(0,$e.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),fn=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),qt=fn.reduce((a,r,t)=>(a[t]=r,a),[]),Wt=fn.reduce((a,r,t)=>(a[r.codePointAt(0)]=t,a),[]),sr=(0,$e.Dp)({prefix:"\u{1f680}",name:"base256emoji",encode:function kt(a){return a.reduce((r,t)=>r+qt[t],"")},decode:function $t(a){const r=[];for(const t of a){const s=Wt[t.codePointAt(0)];if(void 0===s)throw new Error(`Non-base256emoji character: ${t}`);r.push(s)}return new Uint8Array(r)}});var Xt=L(53907);const Qt=a=>function(){var r=S(function*(t){return new Uint8Array(yield crypto.subtle.digest(a,t))});return function(t){return r.apply(this,arguments)}}(),or=(0,Xt.from)({name:"sha2-256",code:18,encode:Qt("SHA-256")}),ar=(0,Xt.from)({name:"sha2-512",code:19,encode:Qt("SHA-512")});var Zt=L(22834);const er=We.coerce,ur={code:0,name:"identity",encode:er,digest:a=>Zt.create(0,er(a))},cr="raw",ca=85,ln=a=>(0,We.coerce)(a),fa=a=>(0,We.coerce)(a),la=new TextEncoder,ha=new TextDecoder,da="json",pa=512,Tn=a=>la.encode(JSON.stringify(a)),ga=a=>JSON.parse(ha.decode(a));L(8422);const $s={...B,...ae,..._e,...fe,...Z,...Et,...oe,...wr,...K,...$};function fi(a,r,t,s){return{name:a,prefix:r,encoder:{name:a,prefix:r,encode:t},decoder:{decode:s}}}const zs=fi("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>(new TextEncoder).encode(a.substring(1))),ts=fi("ascii","a",a=>{let r="a";for(let t=0;t<a.length;t++)r+=String.fromCharCode(a[t]);return r},a=>{const r=tt((a=a.substring(1)).length);for(let t=0;t<a.length;t++)r[t]=a.charCodeAt(t);return r}),Hs={utf8:zs,"utf-8":zs,hex:$s.base16,latin1:ts,ascii:ts,binary:ts,...$s};function Er(a,r="utf8"){const t=Hs[r];if(!t)throw new Error(`Unsupported encoding "${r}"`);return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.encoder.encode(a).substring(1):globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8")}function Or(a,r="utf8"){const t=Hs[r];if(!t)throw new Error(`Unsupported encoding "${r}"`);return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${a}`):nt(globalThis.Buffer.from(a,"utf-8"))}function Ai(a){return Er(Or(Te(a),"utf8"),k)}function Vs(a){const t="z"+Er(Ge([Or("K36",vt),a]),vt);return[wt,ut,t].join(":")}function _a(a){return Er(a,k)}function Ks(a){return Or([Ai(a.header),Ai(a.payload)].join("."),"utf8")}function va(a){return[Ai(a.header),Ai(a.payload),_a(a.signature)].join(".")}function qs(a=(0,Me.randomBytes)(32)){return Le._w(a)}function Ci(){return(Ci=S(function*(a,r,t,s,u=(0,G.fromMiliseconds)(Date.now())){const f={alg:"EdDSA",typ:"JWT"},X={iss:Vs(s.publicKey),sub:a,aud:r,iat:u,exp:u+t},Y=Ks({header:f,payload:X});return va({header:f,payload:X,signature:Le.Xx(s.secretKey,Y)})})).apply(this,arguments)}L(84143);var hi=L(31118),kn=L(82584),is=L(59373),Ws=L(65504),hn=function(a,r,t){if(t||2===arguments.length)for(var f,s=0,u=r.length;s<u;s++)(f||!(s in r))&&(f||(f=Array.prototype.slice.call(r,0,s)),f[s]=r[s]);return a.concat(f||Array.prototype.slice.call(r))},wa=function a(r,t,s){this.name=r,this.version=t,this.os=s,this.type="browser"},Ea=function a(r){this.version=r,this.type="node",this.name="node",this.os=process.platform},Da=function a(r,t,s,u){this.name=r,this.version=t,this.os=s,this.bot=u,this.type="bot-device"},xa=function a(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Sa=function a(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},ks=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ti=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Js=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function os(a){var r=function Ys(a){return""!==a&&Ti.reduce(function(r,t){var s=t[0];if(r)return r;var f=t[1].exec(a);return!!f&&[s,f]},!1)}(a);if(!r)return null;var t=r[0],s=r[1];if("searchbot"===t)return new xa;var u=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);u?u.length<3&&(u=hn(hn([],u,!0),function Qs(a){for(var r=[],t=0;t<a;t++)r.push("0");return r}(3-u.length),!0)):u=[];var f=u.join("."),g=function Xs(a){for(var r=0,t=Js.length;r<t;r++){var s=Js[r],u=s[0];if(s[1].exec(a))return u}return null}(a),I=ks.exec(a);return I&&I[1]?new Da(t,f,g,I[1]):new wa(t,f,g)}var Ri=L(6179),Ia=L(98064),Ni=L(9805);L(43025);const re={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function Hr(a,r){return a.includes(":")?[a]:r.chains||[]}const Ar="base16",Pa="base64pad",Aa="utf8";function Ra(){return Er((0,Me.randomBytes)(32),Ar)}function ji(a){return Er((0,is.vp)(Or(a,Aa)),Ar)}function us(a){return Number(Er(a,"base10"))}function eo(a){const r=Or(a,Pa),t=r.slice(0,1);if(1===us(t)){const I=33,X=I+12,Y=r.slice(1,I),de=r.slice(I,X);return{type:t,sealed:r.slice(X),iv:de,senderPublicKey:Y}}const f=r.slice(1,13);return{type:t,sealed:r.slice(13),iv:f}}function Lc(a){const r=a?.type||0;if(1===r){if(typeof a?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof a?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:r,senderPublicKey:a?.senderPublicKey,receiverPublicKey:a?.receiverPublicKey}}function Uc(a){return 1===a.type&&"string"==typeof a.senderPublicKey&&"string"==typeof a.receiverPublicKey}var rp=Object.defineProperty,Mc=Object.getOwnPropertySymbols,np=Object.prototype.hasOwnProperty,ip=Object.prototype.propertyIsEnumerable,Bc=(a,r,t)=>r in a?rp(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,$c=(a,r)=>{for(var t in r||(r={}))np.call(r,t)&&Bc(a,t,r[t]);if(Mc)for(var t of Mc(r))ip.call(r,t)&&Bc(a,t,r[t]);return a};const ap="js";function Fa(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Hc(){return!(0,Ri.getDocument)()&&!!(0,Ri.getNavigator)()&&"ReactNative"===navigator.product}function ja(){return!Fa()&&!!(0,Ri.getNavigator)()}function to(){return Hc()?"react-native":Fa()?"node":ja()?"browser":"unknown"}function hp(a,r,t){const s=function fp(){if("react-native"===to()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){const{OS:t,Version:s}=global.Platform;return[t,s].join("-")}const a=function ss(a){return a?os(a):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new Sa:typeof navigator<"u"?os(navigator.userAgent):function di(){return typeof process<"u"&&process.version?new Ea(process.version.slice(1)):null}()}();if(null===a)return"unknown";const r=a.os?a.os.replace(" ","").toLowerCase():"unknown";return"browser"===a.type?[r,a.name,a.version].join("-"):[r,a.version].join("-")}(),u=function lp(){var a;const r=to();return"browser"===r?[r,(null==(a=(0,Ri.getLocation)())?void 0:a.host)||"unknown"].join(":"):r}();return[[a,r].join("-"),[ap,t].join("-"),s,u].join("/")}function gi(a,r){return a.filter(t=>r.includes(t)).length===a.length}function Vc(a){return Object.fromEntries(a.entries())}function Kc(a){return new Map(Object.entries(a))}function Li(a=G.FIVE_MINUTES,r){const t=(0,G.toMiliseconds)(a||G.FIVE_MINUTES);let s,u,f;return{resolve:g=>{f&&s&&(clearTimeout(f),s(g))},reject:g=>{f&&u&&(clearTimeout(f),u(g))},done:()=>new Promise((g,I)=>{f=setTimeout(()=>{I(new Error(r))},t),s=g,u=I})}}function ro(a,r,t){return new Promise(function(){var s=S(function*(u,f){const g=setTimeout(()=>f(new Error(t)),r);try{u(yield a)}catch(I){f(I)}clearTimeout(g)});return function(u,f){return s.apply(this,arguments)}}())}function qc(a,r){if("string"==typeof r&&r.startsWith(`${a}:`))return r;if("topic"===a.toLowerCase()){if("string"!=typeof r)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${r}`}if("id"===a.toLowerCase()){if("number"!=typeof r)throw new Error('Value must be "number" for expirer target type: id');return`id:${r}`}throw new Error(`Unknown expirer target type: ${a}`)}function Wc(a){const[r,t]=a.split(":"),s={id:void 0,topic:void 0};if("topic"===r&&"string"==typeof t)s.topic=t;else{if("id"!==r||!Number.isInteger(Number(t)))throw new Error(`Invalid target, expected id:number or topic:string, got ${r}:${t}`);s.id=Number(t)}return s}function pn(a,r){return(0,G.fromMiliseconds)((r||Date.now())+(0,G.toMiliseconds)(a))}function Jn(a){return Date.now()>=(0,G.toMiliseconds)(a)}function fr(a,r){return`${a}${r?`:${r}`:""}`}function En(a=[],r=[]){return[...new Set([...a,...r])]}function La(){return(La=S(function*({id:a,topic:r,wcDeepLink:t}){try{if(!t)return;let u=("string"==typeof t?JSON.parse(t):t)?.href;if("string"!=typeof u)return;u.endsWith("/")&&(u=u.slice(0,-1));const f=`${u}/wc?requestId=${a}&sessionTopic=${r}`,g=to();"browser"===g?f.startsWith("https://")?window.open(f,"_blank","noreferrer noopener"):window.open(f,"_self","noreferrer noopener"):"react-native"===g&&typeof(null==global?void 0:global.Linking)<"u"&&(yield global.Linking.openURL(f))}catch(s){console.error(s)}})).apply(this,arguments)}function Ua(a){return a?.relay||{protocol:"irn"}}function no(a){const r=re[a];if(typeof r>"u")throw new Error(`Relay Protocol not supported: ${a}`);return r}var wp=Object.defineProperty,kc=Object.getOwnPropertySymbols,Ep=Object.prototype.hasOwnProperty,Dp=Object.prototype.propertyIsEnumerable,Gc=(a,r,t)=>r in a?wp(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t;function Sp(a,r="-"){const t={},s="relay"+r;return Object.keys(a).forEach(u=>{if(u.startsWith(s)){const f=u.replace(s,"");t[f]=a[u]}}),t}function Ip(a){return a.startsWith("//")?a.substring(2):a}function Ui(a){const r=[];return a.forEach(t=>{const[s,u]=t.split(":");r.push(`${s}:${u}`)}),r}function io(a){return a.includes(":")}function cs(a){return io(a)?a.split(":")[0]:a}const zp={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Hp={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ne(a,r){const{message:t,code:s}=Hp[a];return{message:r?`${t} ${r}`:t,code:s}}function lr(a,r){const{message:t,code:s}=zp[a];return{message:r?`${t} ${r}`:t,code:s}}function _i(a,r){return!!Array.isArray(a)&&(!(typeof r<"u"&&a.length)||a.every(r))}function yi(a){return Object.getPrototypeOf(a)===Object.prototype&&Object.keys(a).length}function Cr(a){return typeof a>"u"}function vr(a,r){return!(!r||!Cr(a))||"string"==typeof a&&!!a.trim().length}function Ma(a,r){return!(!r||!Cr(a))||"number"==typeof a&&!isNaN(a)}function so(a){return!(!vr(a,!1)||!a.includes(":"))&&2===a.split(":").length}function Qc(a){let r=!0;return _i(a)?a.length&&(r=a.every(t=>vr(t,!1))):r=!1,r}function Zc(a,r){let t=null;return Object.values(a).forEach(s=>{if(t)return;const u=function Zp(a,r){let t=null;return Qc(a?.methods)?Qc(a?.events)||(t=lr("UNSUPPORTED_EVENTS",`${r}, events should be an array of strings or empty array for no events`)):t=lr("UNSUPPORTED_METHODS",`${r}, methods should be an array of strings or empty array for no methods`),t}(s,`${r}, namespace`);u&&(t=u)}),t}function oo(a,r){let t=null;if(a&&yi(a)){const s=Zc(a,r);s&&(t=s);const u=function Qp(a,r){let t=null;return Object.values(a).forEach(s=>{if(t)return;const u=function Xp(a,r){let t=null;return _i(a)?a.forEach(s=>{t||function Kp(a){if(vr(a,!1)&&a.includes(":")){const r=a.split(":");if(3===r.length){const t=r[0]+":"+r[1];return!!r[2]&&so(t)}}return!1}(s)||(t=lr("UNSUPPORTED_ACCOUNTS",`${r}, account ${s} should be a string and conform to "namespace:chainId:address" format`))}):t=lr("UNSUPPORTED_ACCOUNTS",`${r}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}(s?.accounts,`${r} namespace`);u&&(t=u)}),t}(a,r);u&&(t=u)}else t=Ne("MISSING_OR_INVALID",`${r}, namespaces should be an object with data`);return t}function ef(a){return vr(a.protocol,!0)}function jr(a){return typeof a<"u"&&null!==typeof a}function tf(a,r){return!(!so(r)||!function Up(a){const r=[];return Object.values(a).forEach(t=>{r.push(...Ui(t.accounts))}),r}(a).includes(r))}function Ba(a,r,t){let s=null;const u=function cg(a){const r={};return Object.keys(a).forEach(t=>{var s;t.includes(":")?r[t]=a[t]:null==(s=a[t].chains)||s.forEach(u=>{r[u]={methods:a[t].methods,events:a[t].events}})}),r}(a),f=function fg(a){const r={};return Object.keys(a).forEach(t=>{t.includes(":")?r[t]=a[t]:Ui(a[t].accounts)?.forEach(u=>{r[u]={accounts:a[t].accounts.filter(f=>f.includes(`${u}:`)),methods:a[t].methods,events:a[t].events}})}),r}(r),g=Object.keys(u),I=Object.keys(f),X=rf(Object.keys(a)),Y=rf(Object.keys(r)),de=X.filter(Oe=>!Y.includes(Oe));return de.length&&(s=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${de.toString()}\n      Received: ${Object.keys(r).toString()}`)),gi(g,I)||(s=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.\n      Required: ${g.toString()}\n      Approved: ${I.toString()}`)),Object.keys(r).forEach(Oe=>{if(!Oe.includes(":")||s)return;const He=Ui(r[Oe].accounts);He.includes(Oe)||(s=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${Oe}\n        Required: ${Oe}\n        Approved: ${He.toString()}`))}),g.forEach(Oe=>{s||(gi(u[Oe].methods,f[Oe].methods)?gi(u[Oe].events,f[Oe].events)||(s=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${Oe}`)):s=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${Oe}`))}),s}function rf(a){return[...new Set(a.map(r=>r.includes(":")?r.split(":")[0]:r))]}const nf="INTERNAL_ERROR",$a="SERVER_ERROR",_g=[-32700,-32600,-32601,-32602,-32603],fs={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[nf]:{code:-32603,message:"Internal error"},[$a]:{code:-32e3,message:"Server error"}},sf=$a;function af(a){return Object.keys(fs).includes(a)?fs[a]:fs[sf]}function cf(a,r,t){return a.message.includes("getaddrinfo ENOTFOUND")||a.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${r}`):a}var vg=L(43841);function ff(a=3){return Date.now()*Math.pow(10,a)+Math.floor(Math.random()*Math.pow(10,a))}function za(a=6){return BigInt(ff(a))}function ao(a,r,t){return{id:t||ff(),jsonrpc:"2.0",method:a,params:r}}function Ha(a,r){return{id:a,jsonrpc:"2.0",result:r}}function uo(a,r,t){return{id:a,jsonrpc:"2.0",error:mg(r,t)}}function mg(a,r){return typeof a>"u"?af(nf):("string"==typeof a&&(a=Object.assign(Object.assign({},af($a)),{message:a})),typeof r<"u"&&(a.data=r),function of(a){return _g.includes(a)}(a.code)&&(a=function uf(a){return Object.values(fs).find(t=>t.code===a)||fs[sf]}(a.code)),a)}function lf(a,r){const t=function Sg(a){const r=a.match(new RegExp(/^\w+:/,"gi"));if(r&&r.length)return r[0]}(a);return!(typeof t>"u")&&new RegExp(r).test(t)}function hf(a){return lf(a,"^https?:")}function df(a){return lf(a,"^wss?:")}function pf(a){return"object"==typeof a&&"id"in a&&"jsonrpc"in a&&"2.0"===a.jsonrpc}function Va(a){return pf(a)&&"method"in a}function co(a){return pf(a)&&(jn(a)||gn(a))}function jn(a){return"result"in a}function gn(a){return"error"in a}class Yn extends class Eg extends class wg extends class bg{}{constructor(){super()}}{constructor(r){super()}}{constructor(r){super(r),this.events=new me.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(r),this.connection.connected&&this.registerEventListeners()}connect(r=this.connection){var t=this;return S(function*(){yield t.open(r)})()}disconnect(){var r=this;return S(function*(){yield r.close()})()}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}off(r,t){this.events.off(r,t)}removeListener(r,t){this.events.removeListener(r,t)}request(r,t){var s=this;return S(function*(){return s.requestStrict(ao(r.method,r.params||[],r.id||za().toString()),t)})()}requestStrict(r,t){var s=this;return S(function*(){return new Promise(function(){var u=S(function*(f,g){if(!s.connection.connected)try{yield s.open()}catch(I){g(I)}s.events.on(`${r.id}`,I=>{gn(I)?g(I.error):f(I.result)});try{yield s.connection.send(r,t)}catch(I){g(I)}});return function(f,g){return u.apply(this,arguments)}}())})()}setConnection(r=this.connection){return r}onPayload(r){this.events.emit("payload",r),co(r)?this.events.emit(`${r.id}`,r):this.events.emit("message",{type:r.method,data:r.params})}onClose(r){r&&3e3===r.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${r.code} ${r.reason?`(${r.reason})`:""}`)),this.events.emit("disconnect")}open(r=this.connection){var t=this;return S(function*(){t.connection===r&&t.connection.connected||(t.connection.connected&&t.close(),"string"==typeof r&&(yield t.connection.open(r),r=t.connection),t.connection=t.setConnection(r),yield t.connection.open(),t.registerEventListeners(),t.events.emit("connect"))})()}close(){var r=this;return S(function*(){yield r.connection.close()})()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",r=>this.onPayload(r)),this.connection.on("close",r=>this.onClose(r)),this.connection.on("error",r=>this.events.emit("error",r)),this.connection.on("register_error",r=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const gf=a=>a.split("?")[0],Ag=typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:L(82791);var Rg=L(60066),Ng=L.n(Rg),Lg=function Fg(a,r){if(a.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),s=0;s<t.length;s++)t[s]=255;for(var u=0;u<a.length;u++){var f=a.charAt(u),g=f.charCodeAt(0);if(255!==t[g])throw new TypeError(f+" is ambiguous");t[g]=u}var I=a.length,X=a.charAt(0),Y=Math.log(I)/Math.log(256),de=Math.log(256)/Math.log(I);function He(Ue){if("string"!=typeof Ue)throw new TypeError("Expected String");if(0===Ue.length)return new Uint8Array;var Ye=0;if(" "!==Ue[Ye]){for(var Xe=0,Rt=0;Ue[Ye]===X;)Xe++,Ye++;for(var pr=(Ue.length-Ye)*Y+1>>>0,Ct=new Uint8Array(pr);Ue[Ye];){var Pt=t[Ue.charCodeAt(Ye)];if(255===Pt)return;for(var _t=0,Nt=pr-1;(0!==Pt||_t<Rt)&&-1!==Nt;Nt--,_t++)Ct[Nt]=(Pt+=I*Ct[Nt]>>>0)%256>>>0,Pt=Pt/256>>>0;if(0!==Pt)throw new Error("Non-zero carry");Rt=_t,Ye++}if(" "!==Ue[Ye]){for(var xt=pr-Rt;xt!==pr&&0===Ct[xt];)xt++;for(var mr=new Uint8Array(Xe+(pr-xt)),Zn=Xe;xt!==pr;)mr[Zn++]=Ct[xt++];return mr}}}return{encode:function Oe(Ue){if(Ue instanceof Uint8Array||(ArrayBuffer.isView(Ue)?Ue=new Uint8Array(Ue.buffer,Ue.byteOffset,Ue.byteLength):Array.isArray(Ue)&&(Ue=Uint8Array.from(Ue))),!(Ue instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ue.length)return"";for(var Ye=0,Xe=0,Rt=0,pr=Ue.length;Rt!==pr&&0===Ue[Rt];)Rt++,Ye++;for(var Ct=(pr-Rt)*de+1>>>0,Pt=new Uint8Array(Ct);Rt!==pr;){for(var _t=Ue[Rt],Nt=0,xt=Ct-1;(0!==_t||Nt<Xe)&&-1!==xt;xt--,Nt++)Pt[xt]=(_t+=256*Pt[xt]>>>0)%I>>>0,_t=_t/I>>>0;if(0!==_t)throw new Error("Non-zero carry");Xe=Nt,Rt++}for(var mr=Ct-Xe;mr!==Ct&&0===Pt[mr];)mr++;for(var Zn=X.repeat(Ye);mr<Ct;++mr)Zn+=a.charAt(Pt[mr]);return Zn},decodeUnsafe:He,decode:function Ot(Ue){var Ye=He(Ue);if(Ye)return Ye;throw new Error(`Non-${r} character`)}}};const yf=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")};class Bg{constructor(r,t,s){this.name=r,this.prefix=t,this.baseEncode=s}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class $g{constructor(r,t,s){if(this.name=r,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=s}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return vf(this,r)}}class zg{constructor(r){this.decoders=r}or(r){return vf(this,r)}decode(r){const s=this.decoders[r[0]];if(s)return s.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const vf=(a,r)=>new zg({...a.decoders||{[a.prefix]:a},...r.decoders||{[r.prefix]:r}});class Hg{constructor(r,t,s,u){this.name=r,this.prefix=t,this.baseEncode=s,this.baseDecode=u,this.encoder=new Bg(r,t,s),this.decoder=new $g(r,t,u)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const fo=({name:a,prefix:r,encode:t,decode:s})=>new Hg(a,r,t,s),ls=({prefix:a,name:r,alphabet:t})=>{const{encode:s,decode:u}=Lg(t,r);return fo({prefix:a,name:r,encode:s,decode:f=>yf(u(f))})},Dr=({name:a,prefix:r,bitsPerChar:t,alphabet:s})=>fo({prefix:r,name:a,encode:u=>((a,r,t)=>{const s="="===r[r.length-1],u=(1<<t)-1;let f="",g=0,I=0;for(let X=0;X<a.length;++X)for(I=I<<8|a[X],g+=8;g>t;)g-=t,f+=r[u&I>>g];if(g&&(f+=r[u&I<<t-g]),s)for(;f.length*t&7;)f+="=";return f})(u,s,t),decode:u=>((a,r,t,s)=>{const u={};for(let de=0;de<r.length;++de)u[r[de]]=de;let f=a.length;for(;"="===a[f-1];)--f;const g=new Uint8Array(f*t/8|0);let I=0,X=0,Y=0;for(let de=0;de<f;++de){const Oe=u[a[de]];if(void 0===Oe)throw new SyntaxError(`Non-${s} character`);X=X<<t|Oe,I+=t,I>=8&&(I-=8,g[Y++]=255&X>>I)}if(I>=t||255&X<<8-I)throw new SyntaxError("Unexpected end of data");return g})(u,s,t,a)}),qg=fo({prefix:"\0",name:"identity",encode:a=>(a=>(new TextDecoder).decode(a))(a),decode:a=>(a=>(new TextEncoder).encode(a))(a)});var Wg=Object.freeze({__proto__:null,identity:qg});const kg=Dr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Gg=Object.freeze({__proto__:null,base2:kg});const Jg=Dr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Yg=Object.freeze({__proto__:null,base8:Jg});const Xg=ls({prefix:"9",name:"base10",alphabet:"0123456789"});var Qg=Object.freeze({__proto__:null,base10:Xg});const Zg=Dr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),e_=Dr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var t_=Object.freeze({__proto__:null,base16:Zg,base16upper:e_});const r_=Dr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),n_=Dr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),i_=Dr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s_=Dr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),o_=Dr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),a_=Dr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),u_=Dr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),c_=Dr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),f_=Dr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var l_=Object.freeze({__proto__:null,base32:r_,base32upper:n_,base32pad:i_,base32padupper:s_,base32hex:o_,base32hexupper:a_,base32hexpad:u_,base32hexpadupper:c_,base32z:f_});const h_=ls({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),d_=ls({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var p_=Object.freeze({__proto__:null,base36:h_,base36upper:d_});const g_=ls({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),__=ls({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var y_=Object.freeze({__proto__:null,base58btc:g_,base58flickr:__});const v_=Dr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),m_=Dr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),b_=Dr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),w_=Dr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var E_=Object.freeze({__proto__:null,base64:v_,base64pad:m_,base64url:b_,base64urlpad:w_});const mf=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),D_=mf.reduce((a,r,t)=>(a[t]=r,a),[]),x_=mf.reduce((a,r,t)=>(a[r.codePointAt(0)]=t,a),[]),I_=fo({prefix:"\u{1f680}",name:"base256emoji",encode:function S_(a){return a.reduce((r,t)=>r+D_[t],"")},decode:function O_(a){const r=[];for(const t of a){const s=x_[t.codePointAt(0)];if(void 0===s)throw new Error(`Non-base256emoji character: ${t}`);r.push(s)}return new Uint8Array(r)}});var P_=Object.freeze({__proto__:null,base256emoji:I_}),R_=Math.pow(2,31),j_=Math.pow(2,7),L_=Math.pow(2,14),U_=Math.pow(2,21),M_=Math.pow(2,28),B_=Math.pow(2,35),$_=Math.pow(2,42),z_=Math.pow(2,49),H_=Math.pow(2,56),V_=Math.pow(2,63),q_={encode:function wf(a,r,t){r=r||[];for(var s=t=t||0;a>=R_;)r[t++]=255&a|128,a/=128;for(;-128&a;)r[t++]=255&a|128,a>>>=7;return r[t]=0|a,wf.bytes=t-s+1,r},decode:function Ka(a,s){var g,t=0,u=0,f=s=s||0,I=a.length;do{if(f>=I)throw Ka.bytes=0,new RangeError("Could not decode varint");g=a[f++],t+=u<28?(127&g)<<u:(127&g)*Math.pow(2,u),u+=7}while(g>=128);return Ka.bytes=f-s,t},encodingLength:function(a){return a<j_?1:a<L_?2:a<U_?3:a<M_?4:a<B_?5:a<$_?6:a<z_?7:a<H_?8:a<V_?9:10}},Df=q_;const xf=(a,r,t=0)=>(Df.encode(a,r,t),r),Sf=a=>Df.encodingLength(a),qa=(a,r)=>{const t=r.byteLength,s=Sf(a),u=s+Sf(t),f=new Uint8Array(u+t);return xf(a,f,0),xf(t,f,s),f.set(r,u),new W_(a,t,r,f)};class W_{constructor(r,t,s,u){this.code=r,this.size=t,this.digest=s,this.bytes=u}}const Of=({name:a,code:r,encode:t})=>new k_(a,r,t);class k_{constructor(r,t,s){this.name=r,this.code=t,this.encode=s}digest(r){if(r instanceof Uint8Array){const t=this.encode(r);return t instanceof Uint8Array?qa(this.code,t):t.then(s=>qa(this.code,s))}throw Error("Unknown type, must be binary type")}}const If=a=>function(){var r=S(function*(t){return new Uint8Array(yield crypto.subtle.digest(a,t))});return function(t){return r.apply(this,arguments)}}(),G_=Of({name:"sha2-256",code:18,encode:If("SHA-256")}),J_=Of({name:"sha2-512",code:19,encode:If("SHA-512")});Object.freeze({__proto__:null,sha256:G_,sha512:J_});const Af=yf;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Af,digest:a=>qa(0,Af(a))}}),new TextEncoder,new TextDecoder;const Cf={...Wg,...Gg,...Yg,...Qg,...t_,...l_,...p_,...y_,...E_,...P_};function Tf(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function Rf(a,r,t,s){return{name:a,prefix:r,encoder:{name:a,prefix:r,encode:t},decoder:{decode:s}}}const Nf=Rf("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>(new TextEncoder).encode(a.substring(1))),Wa=Rf("ascii","a",a=>{let r="a";for(let t=0;t<a.length;t++)r+=String.fromCharCode(a[t]);return r},a=>{const r=function Z_(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Tf(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}((a=a.substring(1)).length);for(let t=0;t<a.length;t++)r[t]=a.charCodeAt(t);return r}),ey={utf8:Nf,"utf-8":Nf,hex:Cf.base16,latin1:Wa,ascii:Wa,binary:Wa,...Cf},Xn="wc@2:core:",iy={database:":memory:"},jf="client_ed25519_seed",oy=G.ONE_DAY,ly=G.SIX_HOURS,Uf="wss://relay.walletconnect.com",Mf="wss://relay.walletconnect.org",_y=G.ONE_SECOND/2,Dn_created="subscription_created",Dn_deleted="subscription_deleted",Dy=1e3*G.FIVE_SECONDS,ds={wc_pairingDelete:{req:{ttl:G.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:G.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:G.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:G.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:G.ONE_DAY,prompt:!1,tag:0},res:{ttl:G.ONE_DAY,prompt:!1,tag:0}}},Xr_expired="expirer_expired",Ga="verify-api",Bf="https://verify.walletconnect.com";class Cy{constructor(r,t){var s=this;this.core=r,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Xn,this.init=S(function*(){if(!s.initialized){const u=yield s.getKeyChain();typeof u<"u"&&(s.keychain=u),s.initialized=!0}}),this.has=u=>(this.isInitialized(),this.keychain.has(u)),this.set=function(){var u=S(function*(f,g){s.isInitialized(),s.keychain.set(f,g),yield s.persist()});return function(f,g){return u.apply(this,arguments)}}(),this.get=u=>{this.isInitialized();const f=this.keychain.get(u);if(typeof f>"u"){const{message:g}=Ne("NO_MATCHING_KEY",`${this.name}: ${u}`);throw new Error(g)}return f},this.del=function(){var u=S(function*(f){s.isInitialized(),s.keychain.delete(f),yield s.persist()});return function(f){return u.apply(this,arguments)}}(),this.core=r,this.logger=(0,j.generateChildLogger)(t,this.name)}get context(){return(0,j.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setKeyChain(r){var t=this;return S(function*(){yield t.core.storage.setItem(t.storageKey,Vc(r))})()}getKeyChain(){var r=this;return S(function*(){const t=yield r.core.storage.getItem(r.storageKey);return typeof t<"u"?Kc(t):void 0})()}persist(){var r=this;return S(function*(){yield r.setKeyChain(r.keychain)})()}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class Ty{constructor(r,t,s){var u=this;this.core=r,this.logger=t,this.name="crypto",this.initialized=!1,this.init=S(function*(){u.initialized||(yield u.keychain.init(),u.initialized=!0)}),this.hasKeys=f=>(this.isInitialized(),this.keychain.has(f)),this.getClientId=S(function*(){return u.isInitialized(),Vs(qs(yield u.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const f=function Gd(){const a=Ws.Au();return{privateKey:Er(a.secretKey,Ar),publicKey:Er(a.publicKey,Ar)}}();return this.setPrivateKey(f.publicKey,f.privateKey)},this.signJWT=function(){var f=S(function*(g){u.isInitialized();const X=qs(yield u.getClientSeed()),Y=Ra();return yield function ma(a,r,t,s){return Ci.apply(this,arguments)}(Y,g,oy,X)});return function(g){return f.apply(this,arguments)}}(),this.generateSharedKey=(f,g,I)=>{this.isInitialized();const Y=function Jd(a,r){const t=Ws.gi(Or(a,Ar),Or(r,Ar));return Er(new kn.t(is.mE,t).expand(32),Ar)}(this.getPrivateKey(f),g);return this.setSymKey(Y,I)},this.setSymKey=function(){var f=S(function*(g,I){u.isInitialized();const X=I||function Yd(a){return Er((0,is.vp)(Or(a,Ar)),Ar)}(g);return yield u.keychain.set(X,g),X});return function(g,I){return f.apply(this,arguments)}}(),this.deleteKeyPair=function(){var f=S(function*(g){u.isInitialized(),yield u.keychain.del(g)});return function(g){return f.apply(this,arguments)}}(),this.deleteSymKey=function(){var f=S(function*(g){u.isInitialized(),yield u.keychain.del(g)});return function(g){return f.apply(this,arguments)}}(),this.encode=function(){var f=S(function*(g,I,X){u.isInitialized();const Y=Lc(X),de=Te(I);if(Uc(Y)){const Ue=Y.senderPublicKey,Ye=Y.receiverPublicKey;g=yield u.generateSharedKey(Ue,Ye)}const Oe=u.getSymKey(g),{type:He,senderPublicKey:Ot}=Y;return function Qd(a){const r=function Xd(a){return Or(`${a}`,"base10")}(typeof a.type<"u"?a.type:0);if(1===us(r)&&typeof a.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof a.senderPublicKey<"u"?Or(a.senderPublicKey,Ar):void 0,s=typeof a.iv<"u"?Or(a.iv,Ar):(0,Me.randomBytes)(12);return function ep(a){if(1===us(a.type)){if(typeof a.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Er(Ge([a.type,a.senderPublicKey,a.iv,a.sealed]),Pa)}return Er(Ge([a.type,a.iv,a.sealed]),Pa)}({type:r,sealed:new hi.OK(Or(a.symKey,Ar)).seal(s,Or(a.message,Aa)),iv:s,senderPublicKey:t})}({type:He,symKey:Oe,message:de,senderPublicKey:Ot})});return function(g,I,X){return f.apply(this,arguments)}}(),this.decode=function(){var f=S(function*(g,I,X){u.isInitialized();const Y=function tp(a,r){const t=eo(a);return Lc({type:us(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Er(t.senderPublicKey,Ar):void 0,receiverPublicKey:r?.receiverPublicKey})}(I,X);if(Uc(Y)){const de=Y.receiverPublicKey,Oe=Y.senderPublicKey;g=yield u.generateSharedKey(de,Oe)}try{const Oe=function Zd(a){const r=new hi.OK(Or(a.symKey,Ar)),{sealed:t,iv:s}=eo(a.encoded),u=r.open(s,t);if(null===u)throw new Error("Failed to decrypt");return Er(u,Aa)}({symKey:u.getSymKey(g),encoded:I});return xe(Oe)}catch(de){u.logger.error(`Failed to decode message from topic: '${g}', clientId: '${yield u.getClientId()}'`),u.logger.error(de)}});return function(g,I,X){return f.apply(this,arguments)}}(),this.getPayloadType=f=>us(eo(f).type),this.getPayloadSenderPublicKey=f=>{const g=eo(f);return g.senderPublicKey?Er(g.senderPublicKey,Ar):void 0},this.core=r,this.logger=(0,j.generateChildLogger)(t,this.name),this.keychain=s||new Cy(this.core,this.logger)}get context(){return(0,j.getLoggerContext)(this.logger)}setPrivateKey(r,t){var s=this;return S(function*(){return yield s.keychain.set(r,t),r})()}getPrivateKey(r){return this.keychain.get(r)}getClientSeed(){var r=this;return S(function*(){let t="";try{t=r.keychain.get(jf)}catch{t=Ra(),yield r.keychain.set(jf,t)}return function ty(a,r="utf8"){const t=ey[r];if(!t)throw new Error(`Unsupported encoding "${r}"`);return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${a}`):Tf(globalThis.Buffer.from(a,"utf-8"))}(t,"base16")})()}getSymKey(r){return this.keychain.get(r)}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class Ry extends class h{constructor(r,t){this.logger=r,this.core=t}}{constructor(r,t){var s;super(r,t),s=this,this.logger=r,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Xn,this.init=S(function*(){if(!s.initialized){s.logger.trace("Initialized");try{const u=yield s.getRelayerMessages();typeof u<"u"&&(s.messages=u),s.logger.debug(`Successfully Restored records for ${s.name}`),s.logger.trace({type:"method",method:"restore",size:s.messages.size})}catch(u){s.logger.debug(`Failed to Restore records for ${s.name}`),s.logger.error(u)}finally{s.initialized=!0}}}),this.set=function(){var u=S(function*(f,g){s.isInitialized();const I=ji(g);let X=s.messages.get(f);return typeof X>"u"&&(X={}),typeof X[I]<"u"||(X[I]=g,s.messages.set(f,X),yield s.persist()),I});return function(f,g){return u.apply(this,arguments)}}(),this.get=u=>{this.isInitialized();let f=this.messages.get(u);return typeof f>"u"&&(f={}),f},this.has=(u,f)=>(this.isInitialized(),typeof this.get(u)[ji(f)]<"u"),this.del=function(){var u=S(function*(f){s.isInitialized(),s.messages.delete(f),yield s.persist()});return function(f){return u.apply(this,arguments)}}(),this.logger=(0,j.generateChildLogger)(r,this.name),this.core=t}get context(){return(0,j.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setRelayerMessages(r){var t=this;return S(function*(){yield t.core.storage.setItem(t.storageKey,Vc(r))})()}getRelayerMessages(){var r=this;return S(function*(){const t=yield r.core.storage.getItem(r.storageKey);return typeof t<"u"?Kc(t):void 0})()}persist(){var r=this;return S(function*(){yield r.setRelayerMessages(r.messages)})()}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class Ny extends l{constructor(r,t){var s;super(r,t),s=this,this.relayer=r,this.logger=t,this.events=new me.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,G.toMiliseconds)(G.TEN_SECONDS),this.queueTimeout=(0,G.toMiliseconds)(G.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=function(){var u=S(function*(f,g,I){s.logger.debug("Publishing Payload"),s.logger.trace({type:"method",method:"publish",params:{topic:f,message:g,opts:I}});try{const X=I?.ttl||ly,Y=Ua(I),de=I?.prompt||!1,Oe=I?.tag||0,He=I?.id||za().toString(),Ot={topic:f,message:g,opts:{ttl:X,relay:Y,prompt:de,tag:Oe,id:He}},Ue=setTimeout(()=>s.queue.set(He,Ot),s.queueTimeout);try{yield yield ro(s.rpcPublish(f,g,X,Y,de,Oe,He),s.publishTimeout),clearTimeout(Ue),s.relayer.events.emit("relayer_publish",Ot)}catch{return s.logger.debug("Publishing Payload stalled"),void(s.needsTransportRestart=!0)}s.logger.debug("Successfully Published Payload"),s.logger.trace({type:"method",method:"publish",params:{topic:f,message:g,opts:I}})}catch(X){throw s.logger.debug("Failed to Publish Payload"),s.logger.error(X),X}});return function(f,g,I){return u.apply(this,arguments)}}(),this.on=(u,f)=>{this.events.on(u,f)},this.once=(u,f)=>{this.events.once(u,f)},this.off=(u,f)=>{this.events.off(u,f)},this.removeListener=(u,f)=>{this.events.removeListener(u,f)},this.relayer=r,this.logger=(0,j.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,j.getLoggerContext)(this.logger)}rpcPublish(r,t,s,u,f,g,I){var X,Y,de,Oe;const He={method:no(u.protocol).publish,params:{topic:r,message:t,ttl:s,prompt:f,tag:g},id:I};return Cr(null==(X=He.params)?void 0:X.prompt)&&(null==(Y=He.params)||delete Y.prompt),Cr(null==(de=He.params)?void 0:de.tag)&&(null==(Oe=He.params)||delete Oe.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:He}),this.relayer.request(He)}onPublish(r){this.queue.delete(r)}checkQueue(){var r=this;this.queue.forEach(function(){var t=S(function*(s){const{topic:u,message:f,opts:g}=s;yield r.publish(u,f,g)});return function(s){return t.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(ee.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit("relayer_connection_stalled");this.checkQueue()}),this.relayer.on("relayer_message_ack",r=>{this.onPublish(r.id.toString())})}}class Fy{constructor(){this.map=new Map,this.set=(r,t)=>{const s=this.get(r);this.exists(r,t)||this.map.set(r,[...s,t])},this.get=r=>this.map.get(r)||[],this.exists=(r,t)=>this.get(r).includes(t),this.delete=(r,t)=>{if(typeof t>"u")return void this.map.delete(r);if(!this.map.has(r))return;const s=this.get(r);if(!this.exists(r,t))return;const u=s.filter(f=>f!==t);u.length?this.map.set(r,u):this.map.delete(r)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var jy=Object.defineProperty,Ly=Object.defineProperties,Uy=Object.getOwnPropertyDescriptors,$f=Object.getOwnPropertySymbols,My=Object.prototype.hasOwnProperty,By=Object.prototype.propertyIsEnumerable,zf=(a,r,t)=>r in a?jy(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,ps=(a,r)=>{for(var t in r||(r={}))My.call(r,t)&&zf(a,t,r[t]);if($f)for(var t of $f(r))By.call(r,t)&&zf(a,t,r[t]);return a},Ja=(a,r)=>Ly(a,Uy(r));class $y extends b{constructor(r,t){var s;super(r,t),s=this,this.relayer=r,this.logger=t,this.subscriptions=new Map,this.topicMap=new Fy,this.events=new me.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Xn,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=S(function*(){s.initialized||(s.logger.trace("Initialized"),yield s.restart(),s.registerEventListeners(),s.onEnable(),s.clientId=yield s.relayer.core.crypto.getClientId())}),this.subscribe=function(){var u=S(function*(f,g){yield s.restartToComplete(),s.isInitialized(),s.logger.debug("Subscribing Topic"),s.logger.trace({type:"method",method:"subscribe",params:{topic:f,opts:g}});try{const I=Ua(g),X={topic:f,relay:I};s.pending.set(f,X);const Y=yield s.rpcSubscribe(f,I);return s.onSubscribe(Y,X),s.logger.debug("Successfully Subscribed Topic"),s.logger.trace({type:"method",method:"subscribe",params:{topic:f,opts:g}}),Y}catch(I){throw s.logger.debug("Failed to Subscribe Topic"),s.logger.error(I),I}});return function(f,g){return u.apply(this,arguments)}}(),this.unsubscribe=function(){var u=S(function*(f,g){yield s.restartToComplete(),s.isInitialized(),typeof g?.id<"u"?yield s.unsubscribeById(f,g.id,g):yield s.unsubscribeByTopic(f,g)});return function(f,g){return u.apply(this,arguments)}}(),this.isSubscribed=function(){var u=S(function*(f){return!!s.topics.includes(f)||(yield new Promise((g,I)=>{const X=new G.Watch;X.start(s.pendingSubscriptionWatchLabel);const Y=setInterval(()=>{!s.pending.has(f)&&s.topics.includes(f)&&(clearInterval(Y),X.stop(s.pendingSubscriptionWatchLabel),g(!0)),X.elapsed(s.pendingSubscriptionWatchLabel)>=Dy&&(clearInterval(Y),X.stop(s.pendingSubscriptionWatchLabel),I(new Error("Subscription resolution timeout")))},s.pollingInterval)}).catch(()=>!1))});return function(f){return u.apply(this,arguments)}}(),this.on=(u,f)=>{this.events.on(u,f)},this.once=(u,f)=>{this.events.once(u,f)},this.off=(u,f)=>{this.events.off(u,f)},this.removeListener=(u,f)=>{this.events.removeListener(u,f)},this.restart=S(function*(){s.restartInProgress=!0,yield s.restore(),yield s.reset(),s.restartInProgress=!1}),this.relayer=r,this.logger=(0,j.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,j.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(r,t){let s=!1;try{s=this.getSubscription(r).topic===t}catch{}return s}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}unsubscribeByTopic(r,t){var s=this;return S(function*(){const u=s.topicMap.get(r);yield Promise.all(u.map(function(){var f=S(function*(g){return yield s.unsubscribeById(r,g,t)});return function(g){return f.apply(this,arguments)}}()))})()}unsubscribeById(r,t,s){var u=this;return S(function*(){u.logger.debug("Unsubscribing Topic"),u.logger.trace({type:"method",method:"unsubscribe",params:{topic:r,id:t,opts:s}});try{const f=Ua(s);yield u.rpcUnsubscribe(r,t,f);const g=lr("USER_DISCONNECTED",`${u.name}, ${r}`);yield u.onUnsubscribe(r,t,g),u.logger.debug("Successfully Unsubscribed Topic"),u.logger.trace({type:"method",method:"unsubscribe",params:{topic:r,id:t,opts:s}})}catch(f){throw u.logger.debug("Failed to Unsubscribe Topic"),u.logger.error(f),f}})()}rpcSubscribe(r,t){var s=this;return S(function*(){const u={method:no(t.protocol).subscribe,params:{topic:r}};s.logger.debug("Outgoing Relay Payload"),s.logger.trace({type:"payload",direction:"outgoing",request:u});try{yield yield ro(s.relayer.request(u),s.subscribeTimeout)}catch{s.logger.debug("Outgoing Relay Subscribe Payload stalled"),s.relayer.events.emit("relayer_connection_stalled")}return ji(r+s.clientId)})()}rpcBatchSubscribe(r){var t=this;return S(function*(){if(!r.length)return;const u={method:no(r[0].relay.protocol).batchSubscribe,params:{topics:r.map(f=>f.topic)}};t.logger.debug("Outgoing Relay Payload"),t.logger.trace({type:"payload",direction:"outgoing",request:u});try{return yield yield ro(t.relayer.request(u),t.subscribeTimeout)}catch{t.logger.debug("Outgoing Relay Payload stalled"),t.relayer.events.emit("relayer_connection_stalled")}})()}rpcUnsubscribe(r,t,s){const u={method:no(s.protocol).unsubscribe,params:{topic:r,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:u}),this.relayer.request(u)}onSubscribe(r,t){this.setSubscription(r,Ja(ps({},t),{id:r})),this.pending.delete(t.topic)}onBatchSubscribe(r){r.length&&r.forEach(t=>{this.setSubscription(t.id,ps({},t)),this.pending.delete(t.topic)})}onUnsubscribe(r,t,s){var u=this;return S(function*(){u.events.removeAllListeners(t),u.hasSubscription(t,r)&&u.deleteSubscription(t,s),yield u.relayer.messages.del(r)})()}setRelayerSubscriptions(r){var t=this;return S(function*(){yield t.relayer.core.storage.setItem(t.storageKey,r)})()}getRelayerSubscriptions(){var r=this;return S(function*(){return yield r.relayer.core.storage.getItem(r.storageKey)})()}setSubscription(r,t){this.subscriptions.has(r)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:r,subscription:t}),this.addSubscription(r,t))}addSubscription(r,t){this.subscriptions.set(r,ps({},t)),this.topicMap.set(t.topic,r),this.events.emit(Dn_created,t)}getSubscription(r){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:r});const t=this.subscriptions.get(r);if(!t){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return t}deleteSubscription(r,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:r,reason:t});const s=this.getSubscription(r);this.subscriptions.delete(r),this.topicMap.delete(s.topic,r),this.events.emit(Dn_deleted,Ja(ps({},s),{reason:t}))}persist(){var r=this;return S(function*(){yield r.setRelayerSubscriptions(r.values),r.events.emit("subscription_sync")})()}reset(){var r=this;return S(function*(){if(r.cached.length){const t=Math.ceil(r.cached.length/r.batchSubscribeTopicsLimit);for(let s=0;s<t;s++){const u=r.cached.splice(0,r.batchSubscribeTopicsLimit);yield r.batchSubscribe(u)}}r.events.emit("subscription_resubscribed")})()}restore(){var r=this;return S(function*(){try{const t=yield r.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(r.subscriptions.size){const{message:s}=Ne("RESTORE_WILL_OVERRIDE",r.name);throw r.logger.error(s),r.logger.error(`${r.name}: ${JSON.stringify(r.values)}`),new Error(s)}r.cached=t,r.logger.debug(`Successfully Restored subscriptions for ${r.name}`),r.logger.trace({type:"method",method:"restore",subscriptions:r.values})}catch(t){r.logger.debug(`Failed to Restore subscriptions for ${r.name}`),r.logger.error(t)}})()}batchSubscribe(r){var t=this;return S(function*(){if(!r.length)return;const s=yield t.rpcBatchSubscribe(r);_i(s)&&t.onBatchSubscribe(s.map((u,f)=>Ja(ps({},r[f]),{id:u})))})()}onConnect(){var r=this;return S(function*(){r.restartInProgress||(yield r.restart(),r.onEnable())})()}onDisconnect(){this.onDisable()}checkPending(){var r=this;return S(function*(){if(r.relayer.transportExplicitlyClosed)return;const t=[];r.pending.forEach(s=>{t.push(s)}),yield r.batchSubscribe(t)})()}registerEventListeners(){var r=this;this.relayer.core.heartbeat.on(ee.HEARTBEAT_EVENTS.pulse,S(function*(){yield r.checkPending()})),this.relayer.on("relayer_connect",S(function*(){yield r.onConnect()})),this.relayer.on("relayer_disconnect",()=>{this.onDisconnect()}),this.events.on(Dn_created,function(){var t=S(function*(s){const u=Dn_created;r.logger.info(`Emitting ${u}`),r.logger.debug({type:"event",event:u,data:s}),yield r.persist()});return function(s){return t.apply(this,arguments)}}()),this.events.on(Dn_deleted,function(){var t=S(function*(s){const u=Dn_deleted;r.logger.info(`Emitting ${u}`),r.logger.debug({type:"event",event:u,data:s}),yield r.persist()});return function(s){return t.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}restartToComplete(){var r=this;return S(function*(){r.restartInProgress&&(yield new Promise(t=>{const s=setInterval(()=>{r.restartInProgress||(clearInterval(s),t())},r.pollingInterval)}))})()}}var zy=Object.defineProperty,Hf=Object.getOwnPropertySymbols,Hy=Object.prototype.hasOwnProperty,Vy=Object.prototype.propertyIsEnumerable,Vf=(a,r,t)=>r in a?zy(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t;class qy extends v{constructor(r){var t;super(r),t=this,this.protocol="wc",this.version=2,this.events=new me.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=function(){var s=S(function*(u){t.logger.debug("Publishing Request Payload");try{return yield t.toEstablishConnection(),yield t.provider.request(u)}catch(f){throw t.logger.debug("Failed to Publish Request"),t.logger.error(f),f}});return function(u){return s.apply(this,arguments)}}(),this.core=r.core,this.logger=typeof r.logger<"u"&&"string"!=typeof r.logger?(0,j.generateChildLogger)(r.logger,this.name):(0,j.pino)((0,j.getDefaultLoggerOptions)({level:r.logger||"error"})),this.messages=new Ry(this.logger,r.core),this.subscriber=new $y(this,this.logger),this.publisher=new Ny(this,this.logger),this.relayUrl=r?.relayUrl||Uf,this.projectId=r.projectId,this.provider={}}init(){var r=this;return S(function*(){r.logger.trace("Initialized"),yield r.createProvider(),yield Promise.all([r.messages.init(),r.subscriber.init()]);try{yield r.transportOpen()}catch{r.logger.warn(`Connection via ${r.relayUrl} failed, attempting to connect via failover domain ${Mf}...`),yield r.restartTransport(Mf)}r.registerEventListeners(),r.initialized=!0,setTimeout(S(function*(){0===r.subscriber.topics.length&&(r.logger.info("No topics subscribed to after init, closing transport"),yield r.transportClose(),r.transportExplicitlyClosed=!1)}),1e4)})()}get context(){return(0,j.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}publish(r,t,s){var u=this;return S(function*(){u.isInitialized(),yield u.publisher.publish(r,t,s),yield u.recordMessageEvent({topic:r,message:t,publishedAt:Date.now()})})()}subscribe(r,t){var s=this;return S(function*(){var u;s.isInitialized();let f=(null==(u=s.subscriber.topicMap.get(r))?void 0:u[0])||"";return f||(yield Promise.all([new Promise(g=>{s.subscriber.once(Dn_created,I=>{I.topic===r&&g()})}),new Promise(function(){var g=S(function*(I){f=yield s.subscriber.subscribe(r,t),I()});return function(I){return g.apply(this,arguments)}}())]),f)})()}unsubscribe(r,t){var s=this;return S(function*(){s.isInitialized(),yield s.subscriber.unsubscribe(r,t)})()}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}off(r,t){this.events.off(r,t)}removeListener(r,t){this.events.removeListener(r,t)}transportClose(){var r=this;return S(function*(){r.transportExplicitlyClosed=!0,r.connected&&(yield r.provider.disconnect(),r.events.emit("relayer_transport_closed"))})()}transportOpen(r){var t=this;return S(function*(){if(t.transportExplicitlyClosed=!1,!t.reconnecting){t.relayUrl=r||t.relayUrl,t.reconnecting=!0;try{yield Promise.all([new Promise(s=>{t.initialized||s(),t.subscriber.once("subscription_resubscribed",()=>{s()})}),yield Promise.race([new Promise(function(){var s=S(function*(u,f){yield ro(t.provider.connect(),1e4,`Socket stalled when trying to connect to ${t.relayUrl}`).catch(g=>f(g)).then(()=>u()).finally(()=>t.removeListener("relayer_transport_closed",t.rejectTransportOpen))});return function(u,f){return s.apply(this,arguments)}}()),new Promise(s=>t.once("relayer_transport_closed",t.rejectTransportOpen))])])}catch(s){if(t.logger.error(s),!t.isConnectionStalled(s.message))throw s;t.events.emit("relayer_transport_closed")}finally{t.reconnecting=!1}}})()}restartTransport(r){var t=this;return S(function*(){t.transportExplicitlyClosed||t.reconnecting||(t.relayUrl=r||t.relayUrl,t.connected&&(yield Promise.all([new Promise(s=>{t.provider.once("disconnect",()=>{s()})}),t.transportClose()])),yield t.createProvider(),yield t.transportOpen())})()}isConnectionStalled(r){return this.staleConnectionErrors.some(t=>r.includes(t))}rejectTransportOpen(){throw new Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}createProvider(){var r=this;return S(function*(){const t=yield r.core.crypto.signJWT(r.relayUrl);r.provider=new Yn(new class Cg{constructor(r){if(this.url=r,this.events=new me.EventEmitter,this.registering=!1,!df(r))throw new Error(`Provided URL is not compatible with WebSocket connection: ${r}`);this.url=r}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}off(r,t){this.events.off(r,t)}removeListener(r,t){this.events.removeListener(r,t)}open(r=this.url){var t=this;return S(function*(){yield t.register(r)})()}close(){var r=this;return S(function*(){return new Promise((t,s)=>{typeof r.socket>"u"?s(new Error("Connection already closed")):(r.socket.onclose=u=>{r.onClose(u),t()},r.socket.close())})})()}send(r,t){var s=this;return S(function*(){typeof s.socket>"u"&&(s.socket=yield s.register());try{s.socket.send(Te(r))}catch(u){s.onError(r.id,u)}})()}register(r=this.url){if(!df(r))throw new Error(`Provided URL is not compatible with WebSocket connection: ${r}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((s,u)=>{this.events.once("register_error",f=>{this.resetMaxListeners(),u(f)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return u(new Error("WebSocket connection is missing or invalid"));s(this.socket)})})}return this.url=r,this.registering=!0,new Promise((t,s)=>{const u=(0,vg.isReactNative)()?void 0:{rejectUnauthorized:(a=r,!new RegExp("wss?://localhost(:d{2,5})?").test(a))},f=new Ag(r,[],u);var a;typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?f.onerror=g=>{s(this.emitError(g.error))}:f.on("error",g=>{s(this.emitError(g))}),f.onopen=()=>{this.onOpen(f),t(f)}})}onOpen(r){r.onmessage=t=>this.onPayload(t),r.onclose=t=>this.onClose(t),this.socket=r,this.registering=!1,this.events.emit("open")}onClose(r){this.socket=void 0,this.registering=!1,this.events.emit("close",r)}onPayload(r){if(typeof r.data>"u")return;const t="string"==typeof r.data?xe(r.data):r.data;this.events.emit("payload",t)}onError(r,t){const s=this.parseError(t),f=uo(r,s.message||s.toString());this.events.emit("payload",f)}parseError(r,t=this.url){return cf(r,gf(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(r){const t=this.parseError(new Error((null==r?void 0:r.message)||`WebSocket connection failed for host: ${gf(this.url)}`));return this.events.emit("register_error",t),t}}(function dp({protocol:a,version:r,relayUrl:t,sdkVersion:s,auth:u,projectId:f,useOnCloseEvent:g}){const I=t.split("?"),X=hp(a,r,s),de=function up(a,r){let t=Ni.parse(a);return t=$c($c({},t),r),Ni.stringify(t)}(I[1]||"",{auth:u,ua:X,projectId:f,useOnCloseEvent:g||void 0});return I[0]+"?"+de}({sdkVersion:"2.9.1",protocol:r.protocol,version:r.version,relayUrl:r.relayUrl,projectId:r.projectId,auth:t,useOnCloseEvent:!0}))),r.registerProviderListeners()})()}recordMessageEvent(r){var t=this;return S(function*(){const{topic:s,message:u}=r;yield t.messages.set(s,u)})()}shouldIgnoreMessageEvent(r){var t=this;return S(function*(){const{topic:s,message:u}=r;if(!u||0===u.length)return t.logger.debug(`Ignoring invalid/empty message: ${u}`),!0;if(!(yield t.subscriber.isSubscribed(s)))return t.logger.debug(`Ignoring message for non-subscribed topic ${s}`),!0;const f=t.messages.has(s,u);return f&&t.logger.debug(`Ignoring duplicate message: ${u}`),f})()}onProviderPayload(r){var t=this;return S(function*(){if(t.logger.debug("Incoming Relay Payload"),t.logger.trace({type:"payload",direction:"incoming",payload:r}),Va(r)){if(!r.method.endsWith("_subscription"))return;const s=r.params,{topic:u,message:f,publishedAt:g}=s.data,I={topic:u,message:f,publishedAt:g};t.logger.debug("Emitting Relayer Payload"),t.logger.trace(((a,r)=>{for(var t in r||(r={}))Hy.call(r,t)&&Vf(a,t,r[t]);if(Hf)for(var t of Hf(r))Vy.call(r,t)&&Vf(a,t,r[t]);return a})({type:"event",event:s.id},I)),t.events.emit(s.id,I),yield t.acknowledgePayload(r),yield t.onMessageEvent(I)}else co(r)&&t.events.emit("relayer_message_ack",r)})()}onMessageEvent(r){var t=this;return S(function*(){(yield t.shouldIgnoreMessageEvent(r))||(t.events.emit("relayer_message",r),yield t.recordMessageEvent(r))})()}acknowledgePayload(r){var t=this;return S(function*(){const s=Ha(r.id,!0);yield t.provider.connection.send(s)})()}registerProviderListeners(){this.provider.on("payload",r=>this.onProviderPayload(r)),this.provider.on("connect",()=>{this.events.emit("relayer_connect")}),this.provider.on("disconnect",()=>{this.onProviderDisconnect()}),this.provider.on("error",r=>{this.logger.error(r),this.events.emit("relayer_error",r)})}registerEventListeners(){var r=this;this.events.on("relayer_connection_stalled",S(function*(){yield r.restartTransport()}))}onProviderDisconnect(){this.events.emit("relayer_disconnect"),this.attemptToReconnect()}attemptToReconnect(){var r=this;this.transportExplicitlyClosed||setTimeout(S(function*(){yield r.restartTransport()}),(0,G.toMiliseconds)(_y))}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}toEstablishConnection(){var r=this;return S(function*(){if(!r.connected){if(r.connecting)return yield new Promise(t=>{const s=setInterval(()=>{r.connected&&(clearInterval(s),t())},r.connectionStatusPollingInterval)});yield r.restartTransport()}})()}}var Wy=Object.defineProperty,Kf=Object.getOwnPropertySymbols,ky=Object.prototype.hasOwnProperty,Gy=Object.prototype.propertyIsEnumerable,qf=(a,r,t)=>r in a?Wy(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,Wf=(a,r)=>{for(var t in r||(r={}))ky.call(r,t)&&qf(a,t,r[t]);if(Kf)for(var t of Kf(r))Gy.call(r,t)&&qf(a,t,r[t]);return a};class lo extends class y{constructor(r,t,s,u){this.core=r,this.logger=t,this.name=s}}{constructor(r,t,s,u=Xn,f){var g;super(r,t,s,u),g=this,this.core=r,this.logger=t,this.name=s,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Xn,this.init=S(function*(){g.initialized||(g.logger.trace("Initialized"),yield g.restore(),g.cached.forEach(I=>{g.getKey&&null!==I&&!Cr(I)?g.map.set(g.getKey(I),I):function Wp(a){var r;return null==(r=a?.proposer)?void 0:r.publicKey}(I)?g.map.set(I.id,I):function kp(a){return a?.topic}(I)&&g.map.set(I.topic,I)}),g.cached=[],g.initialized=!0)}),this.set=function(){var I=S(function*(X,Y){g.isInitialized(),g.map.has(X)?yield g.update(X,Y):(g.logger.debug("Setting value"),g.logger.trace({type:"method",method:"set",key:X,value:Y}),g.map.set(X,Y),yield g.persist())});return function(X,Y){return I.apply(this,arguments)}}(),this.get=I=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:I}),this.getData(I)),this.getAll=I=>(this.isInitialized(),I?this.values.filter(X=>Object.keys(I).every(Y=>Ng()(X[Y],I[Y]))):this.values),this.update=function(){var I=S(function*(X,Y){g.isInitialized(),g.logger.debug("Updating value"),g.logger.trace({type:"method",method:"update",key:X,update:Y});const de=Wf(Wf({},g.getData(X)),Y);g.map.set(X,de),yield g.persist()});return function(X,Y){return I.apply(this,arguments)}}(),this.delete=function(){var I=S(function*(X,Y){g.isInitialized(),g.map.has(X)&&(g.logger.debug("Deleting value"),g.logger.trace({type:"method",method:"delete",key:X,reason:Y}),g.map.delete(X),yield g.persist())});return function(X,Y){return I.apply(this,arguments)}}(),this.logger=(0,j.generateChildLogger)(t,this.name),this.storagePrefix=u,this.getKey=f}get context(){return(0,j.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}setDataStore(r){var t=this;return S(function*(){yield t.core.storage.setItem(t.storageKey,r)})()}getDataStore(){var r=this;return S(function*(){return yield r.core.storage.getItem(r.storageKey)})()}getData(r){const t=this.map.get(r);if(!t){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${r}`);throw this.logger.error(s),new Error(s)}return t}persist(){var r=this;return S(function*(){yield r.setDataStore(r.values)})()}restore(){var r=this;return S(function*(){try{const t=yield r.getDataStore();if(typeof t>"u"||!t.length)return;if(r.map.size){const{message:s}=Ne("RESTORE_WILL_OVERRIDE",r.name);throw r.logger.error(s),new Error(s)}r.cached=t,r.logger.debug(`Successfully Restored value for ${r.name}`),r.logger.trace({type:"method",method:"restore",value:r.values})}catch(t){r.logger.debug(`Failed to Restore value for ${r.name}`),r.logger.error(t)}})()}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class Jy{constructor(r,t){var s=this;this.core=r,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(De()),this.initialized=!1,this.storagePrefix=Xn,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=S(function*(){s.initialized||(yield s.pairings.init(),yield s.cleanup(),s.registerRelayerEvents(),s.registerExpirerEvents(),s.initialized=!0,s.logger.trace("Initialized"))}),this.register=({methods:u})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...u])]},this.create=S(function*(){s.isInitialized();const u=Ra(),f=yield s.core.crypto.setSymKey(u),g=pn(G.FIVE_MINUTES),I={protocol:"irn"},X={topic:f,expiry:g,relay:I,active:!1},Y=function Ap(a){return`${a.protocol}:${a.topic}@${a.version}?`+Ni.stringify(((a,r)=>{for(var t in r||(r={}))Ep.call(r,t)&&Gc(a,t,r[t]);if(kc)for(var t of kc(r))Dp.call(r,t)&&Gc(a,t,r[t]);return a})({symKey:a.symKey},function Pp(a,r="-"){const s={};return Object.keys(a).forEach(u=>{a[u]&&(s["relay"+r+u]=a[u])}),s}(a.relay)))}({protocol:s.core.protocol,version:s.core.version,topic:f,symKey:u,relay:I});return yield s.pairings.set(f,X),yield s.core.relayer.subscribe(f),s.core.expirer.set(f,g),{topic:f,uri:Y}}),this.pair=function(){var u=S(function*(f){s.isInitialized(),s.isValidPair(f);const{topic:g,symKey:I,relay:X}=function Op(a){const r=a.indexOf(":"),t=-1!==a.indexOf("?")?a.indexOf("?"):void 0,s=a.substring(0,r),u=a.substring(r+1,t).split("@"),f=typeof t<"u"?a.substring(t):"",g=Ni.parse(f);return{protocol:s,topic:Ip(u[0]),version:parseInt(u[1],10),symKey:g.symKey,relay:Sp(g)}}(f.uri);if(s.pairings.keys.includes(g))throw new Error(`Pairing already exists: ${g}`);if(s.core.crypto.hasKeys(g))throw new Error(`Keychain already exists: ${g}`);const Y=pn(G.FIVE_MINUTES),de={topic:g,relay:X,expiry:Y,active:!1};return yield s.pairings.set(g,de),yield s.core.crypto.setSymKey(I,g),yield s.core.relayer.subscribe(g,{relay:X}),s.core.expirer.set(g,Y),f.activatePairing&&(yield s.activate({topic:g})),de});return function(f){return u.apply(this,arguments)}}(),this.activate=function(){var u=S(function*({topic:f}){s.isInitialized();const g=pn(G.THIRTY_DAYS);yield s.pairings.update(f,{active:!0,expiry:g}),s.core.expirer.set(f,g)});return function(f){return u.apply(this,arguments)}}(),this.ping=function(){var u=S(function*(f){s.isInitialized(),yield s.isValidPing(f);const{topic:g}=f;if(s.pairings.keys.includes(g)){const I=yield s.sendRequest(g,"wc_pairingPing",{}),{done:X,resolve:Y,reject:de}=Li();s.events.once(fr("pairing_ping",I),({error:Oe})=>{Oe?de(Oe):Y()}),yield X()}});return function(f){return u.apply(this,arguments)}}(),this.updateExpiry=function(){var u=S(function*({topic:f,expiry:g}){s.isInitialized(),yield s.pairings.update(f,{expiry:g})});return function(f){return u.apply(this,arguments)}}(),this.updateMetadata=function(){var u=S(function*({topic:f,metadata:g}){s.isInitialized(),yield s.pairings.update(f,{peerMetadata:g})});return function(f){return u.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var u=S(function*(f){s.isInitialized(),yield s.isValidDisconnect(f);const{topic:g}=f;s.pairings.keys.includes(g)&&(yield s.sendRequest(g,"wc_pairingDelete",lr("USER_DISCONNECTED")),yield s.deletePairing(g))});return function(f){return u.apply(this,arguments)}}(),this.sendRequest=function(){var u=S(function*(f,g,I){const X=ao(g,I),Y=yield s.core.crypto.encode(f,X),de=ds[g].req;return s.core.history.set(f,X),s.core.relayer.publish(f,Y,de),X.id});return function(f,g,I){return u.apply(this,arguments)}}(),this.sendResult=function(){var u=S(function*(f,g,I){const X=Ha(f,I),Y=yield s.core.crypto.encode(g,X),de=yield s.core.history.get(g,f),Oe=ds[de.request.method].res;yield s.core.relayer.publish(g,Y,Oe),yield s.core.history.resolve(X)});return function(f,g,I){return u.apply(this,arguments)}}(),this.sendError=function(){var u=S(function*(f,g,I){const X=uo(f,I),Y=yield s.core.crypto.encode(g,X),de=yield s.core.history.get(g,f),Oe=ds[de.request.method]?ds[de.request.method].res:ds.unregistered_method.res;yield s.core.relayer.publish(g,Y,Oe),yield s.core.history.resolve(X)});return function(f,g,I){return u.apply(this,arguments)}}(),this.deletePairing=function(){var u=S(function*(f,g){yield s.core.relayer.unsubscribe(f),yield Promise.all([s.pairings.delete(f,lr("USER_DISCONNECTED")),s.core.crypto.deleteSymKey(f),g?Promise.resolve():s.core.expirer.del(f)])});return function(f,g){return u.apply(this,arguments)}}(),this.cleanup=S(function*(){const u=s.pairings.getAll().filter(f=>Jn(f.expiry));yield Promise.all(u.map(f=>s.deletePairing(f.topic)))}),this.onRelayEventRequest=u=>{const{topic:f,payload:g}=u;switch(g.method){case"wc_pairingPing":return this.onPairingPingRequest(f,g);case"wc_pairingDelete":return this.onPairingDeleteRequest(f,g);default:return this.onUnknownRpcMethodRequest(f,g)}},this.onRelayEventResponse=function(){var u=S(function*(f){const{topic:g,payload:I}=f,X=(yield s.core.history.get(g,I.id)).request.method;return"wc_pairingPing"===X?s.onPairingPingResponse(g,I):s.onUnknownRpcMethodResponse(X)});return function(f){return u.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var u=S(function*(f,g){const{id:I}=g;try{s.isValidPing({topic:f}),yield s.sendResult(I,f,!0),s.events.emit("pairing_ping",{id:I,topic:f})}catch(X){yield s.sendError(I,f,X),s.logger.error(X)}});return function(f,g){return u.apply(this,arguments)}}(),this.onPairingPingResponse=(u,f)=>{const{id:g}=f;setTimeout(()=>{jn(f)?this.events.emit(fr("pairing_ping",g),{}):gn(f)&&this.events.emit(fr("pairing_ping",g),{error:f.error})},500)},this.onPairingDeleteRequest=function(){var u=S(function*(f,g){const{id:I}=g;try{s.isValidDisconnect({topic:f}),yield s.deletePairing(f),s.events.emit("pairing_delete",{id:I,topic:f})}catch(X){yield s.sendError(I,f,X),s.logger.error(X)}});return function(f,g){return u.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var u=S(function*(f,g){const{id:I,method:X}=g;try{if(s.registeredMethods.includes(X))return;const Y=lr("WC_METHOD_UNSUPPORTED",X);yield s.sendError(I,f,Y),s.logger.error(Y)}catch(Y){yield s.sendError(I,f,Y),s.logger.error(Y)}});return function(f,g){return u.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=u=>{this.registeredMethods.includes(u)||this.logger.error(lr("WC_METHOD_UNSUPPORTED",u))},this.isValidPair=u=>{if(!jr(u)){const{message:f}=Ne("MISSING_OR_INVALID",`pair() params: ${u}`);throw new Error(f)}if(!function qp(a){if(vr(a,!1))try{return typeof new URL(a)<"u"}catch{return!1}return!1}(u.uri)){const{message:f}=Ne("MISSING_OR_INVALID",`pair() uri: ${u.uri}`);throw new Error(f)}},this.isValidPing=function(){var u=S(function*(f){if(!jr(f)){const{message:I}=Ne("MISSING_OR_INVALID",`ping() params: ${f}`);throw new Error(I)}const{topic:g}=f;yield s.isValidPairingTopic(g)});return function(f){return u.apply(this,arguments)}}(),this.isValidDisconnect=function(){var u=S(function*(f){if(!jr(f)){const{message:I}=Ne("MISSING_OR_INVALID",`disconnect() params: ${f}`);throw new Error(I)}const{topic:g}=f;yield s.isValidPairingTopic(g)});return function(f){return u.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var u=S(function*(f){if(!vr(f,!1)){const{message:g}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${f}`);throw new Error(g)}if(!s.pairings.keys.includes(f)){const{message:g}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${f}`);throw new Error(g)}if(Jn(s.pairings.get(f).expiry)){yield s.deletePairing(f);const{message:g}=Ne("EXPIRED",`pairing topic: ${f}`);throw new Error(g)}});return function(f){return u.apply(this,arguments)}}(),this.core=r,this.logger=(0,j.generateChildLogger)(t,this.name),this.pairings=new lo(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,j.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}registerRelayerEvents(){var r=this;this.core.relayer.on("relayer_message",function(){var t=S(function*(s){const{topic:u,message:f}=s;if(!r.pairings.keys.includes(u)||r.ignoredPayloadTypes.includes(r.core.crypto.getPayloadType(f)))return;const g=yield r.core.crypto.decode(u,f);Va(g)?(r.core.history.set(u,g),r.onRelayEventRequest({topic:u,payload:g})):co(g)&&(yield r.core.history.resolve(g),yield r.onRelayEventResponse({topic:u,payload:g}),r.core.history.delete(u,g.id))});return function(s){return t.apply(this,arguments)}}())}registerExpirerEvents(){var r=this;this.core.expirer.on(Xr_expired,function(){var t=S(function*(s){const{topic:u}=Wc(s.target);u&&r.pairings.keys.includes(u)&&(yield r.deletePairing(u,!0),r.events.emit("pairing_expire",{topic:u}))});return function(s){return t.apply(this,arguments)}}())}}class Yy extends T{constructor(r,t){var s;super(r,t),s=this,this.core=r,this.logger=t,this.records=new Map,this.events=new me.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Xn,this.init=S(function*(){s.initialized||(s.logger.trace("Initialized"),yield s.restore(),s.cached.forEach(u=>s.records.set(u.id,u)),s.cached=[],s.registerEventListeners(),s.initialized=!0)}),this.set=(u,f,g)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:u,request:f,chainId:g}),this.records.has(f.id))return;const I={id:f.id,topic:u,request:{method:f.method,params:f.params||null},chainId:g,expiry:pn(G.THIRTY_DAYS)};this.records.set(I.id,I),this.events.emit("history_created",I)},this.resolve=function(){var u=S(function*(f){if(s.isInitialized(),s.logger.debug("Updating JSON-RPC response history record"),s.logger.trace({type:"method",method:"update",response:f}),!s.records.has(f.id))return;const g=yield s.getRecord(f.id);typeof g.response>"u"&&(g.response=gn(f)?{error:f.error}:{result:f.result},s.records.set(g.id,g),s.events.emit("history_updated",g))});return function(f){return u.apply(this,arguments)}}(),this.get=function(){var u=S(function*(f,g){return s.isInitialized(),s.logger.debug("Getting record"),s.logger.trace({type:"method",method:"get",topic:f,id:g}),yield s.getRecord(g)});return function(f,g){return u.apply(this,arguments)}}(),this.delete=(u,f)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:f}),this.values.forEach(g=>{if(g.topic===u){if(typeof f<"u"&&g.id!==f)return;this.records.delete(g.id),this.events.emit("history_deleted",g)}})},this.exists=function(){var u=S(function*(f,g){return s.isInitialized(),!!s.records.has(g)&&(yield s.getRecord(g)).topic===f});return function(f,g){return u.apply(this,arguments)}}(),this.on=(u,f)=>{this.events.on(u,f)},this.once=(u,f)=>{this.events.once(u,f)},this.off=(u,f)=>{this.events.off(u,f)},this.removeListener=(u,f)=>{this.events.removeListener(u,f)},this.logger=(0,j.generateChildLogger)(t,this.name)}get context(){return(0,j.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const r=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const s={topic:t.topic,request:ao(t.request.method,t.request.params,t.id),chainId:t.chainId};return r.push(s)}),r}setJsonRpcRecords(r){var t=this;return S(function*(){yield t.core.storage.setItem(t.storageKey,r)})()}getJsonRpcRecords(){var r=this;return S(function*(){return yield r.core.storage.getItem(r.storageKey)})()}getRecord(r){this.isInitialized();const t=this.records.get(r);if(!t){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return t}persist(){var r=this;return S(function*(){yield r.setJsonRpcRecords(r.values),r.events.emit("history_sync")})()}restore(){var r=this;return S(function*(){try{const t=yield r.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(r.records.size){const{message:s}=Ne("RESTORE_WILL_OVERRIDE",r.name);throw r.logger.error(s),new Error(s)}r.cached=t,r.logger.debug(`Successfully Restored records for ${r.name}`),r.logger.trace({type:"method",method:"restore",records:r.values})}catch(t){r.logger.debug(`Failed to Restore records for ${r.name}`),r.logger.error(t)}})()}registerEventListeners(){this.events.on("history_created",r=>{const t="history_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:r}),this.persist()}),this.events.on("history_updated",r=>{const t="history_updated";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:r}),this.persist()}),this.events.on("history_deleted",r=>{const t="history_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:r}),this.persist()}),this.core.heartbeat.on(ee.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(r=>{(0,G.toMiliseconds)(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.delete(r.topic,r.id))})}catch(r){this.logger.warn(r)}}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class Xy extends D{constructor(r,t){var s;super(r,t),s=this,this.core=r,this.logger=t,this.expirations=new Map,this.events=new me.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Xn,this.init=S(function*(){s.initialized||(s.logger.trace("Initialized"),yield s.restore(),s.cached.forEach(u=>s.expirations.set(u.target,u)),s.cached=[],s.registerEventListeners(),s.initialized=!0)}),this.has=u=>{try{const f=this.formatTarget(u);return typeof this.getExpiration(f)<"u"}catch{return!1}},this.set=(u,f)=>{this.isInitialized();const g=this.formatTarget(u),I={target:g,expiry:f};this.expirations.set(g,I),this.checkExpiry(g,I),this.events.emit("expirer_created",{target:g,expiration:I})},this.get=u=>{this.isInitialized();const f=this.formatTarget(u);return this.getExpiration(f)},this.del=u=>{if(this.isInitialized(),this.has(u)){const f=this.formatTarget(u),g=this.getExpiration(f);this.expirations.delete(f),this.events.emit("expirer_deleted",{target:f,expiration:g})}},this.on=(u,f)=>{this.events.on(u,f)},this.once=(u,f)=>{this.events.once(u,f)},this.off=(u,f)=>{this.events.off(u,f)},this.removeListener=(u,f)=>{this.events.removeListener(u,f)},this.logger=(0,j.generateChildLogger)(t,this.name)}get context(){return(0,j.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(r){if("string"==typeof r)return function yp(a){return qc("topic",a)}(r);if("number"==typeof r)return function vp(a){return qc("id",a)}(r);const{message:t}=Ne("UNKNOWN_TYPE","Target type: "+typeof r);throw new Error(t)}setExpirations(r){var t=this;return S(function*(){yield t.core.storage.setItem(t.storageKey,r)})()}getExpirations(){var r=this;return S(function*(){return yield r.core.storage.getItem(r.storageKey)})()}persist(){var r=this;return S(function*(){yield r.setExpirations(r.values),r.events.emit("expirer_sync")})()}restore(){var r=this;return S(function*(){try{const t=yield r.getExpirations();if(typeof t>"u"||!t.length)return;if(r.expirations.size){const{message:s}=Ne("RESTORE_WILL_OVERRIDE",r.name);throw r.logger.error(s),new Error(s)}r.cached=t,r.logger.debug(`Successfully Restored expirations for ${r.name}`),r.logger.trace({type:"method",method:"restore",expirations:r.values})}catch(t){r.logger.debug(`Failed to Restore expirations for ${r.name}`),r.logger.error(t)}})()}getExpiration(r){const t=this.expirations.get(r);if(!t){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${r}`);throw this.logger.error(s),new Error(s)}return t}checkExpiry(r,t){const{expiry:s}=t;(0,G.toMiliseconds)(s)-Date.now()<=0&&this.expire(r,t)}expire(r,t){this.expirations.delete(r),this.events.emit(Xr_expired,{target:r,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((r,t)=>this.checkExpiry(t,r))}registerEventListeners(){this.core.heartbeat.on(ee.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on("expirer_created",r=>{const t="expirer_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:r}),this.persist()}),this.events.on(Xr_expired,r=>{const t=Xr_expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:r}),this.persist()}),this.events.on("expirer_deleted",r=>{const t="expirer_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:r}),this.persist()})}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class Qy extends class C{constructor(r,t){this.projectId=r,this.logger=t}}{constructor(r,t){var s;super(r,t),s=this,this.projectId=r,this.logger=t,this.name=Ga,this.initialized=!1,this.init=function(){var u=S(function*(f){Hc()||!ja()||(s.verifyUrl=f?.verifyUrl||Bf,yield s.createIframe())});return function(f){return u.apply(this,arguments)}}(),this.register=function(){var u=S(function*(f){var g;if(s.initialized||(yield s.init()),s.iframe)try{null==(g=s.iframe.contentWindow)||g.postMessage(f.attestationId,s.verifyUrl),s.logger.info(`postMessage sent: ${f.attestationId} ${s.verifyUrl}`)}catch{}});return function(f){return u.apply(this,arguments)}}(),this.resolve=function(){var u=S(function*(f){var g;if(s.isDevEnv)return"";s.logger.info(`resolving attestation: ${f.attestationId}`);const I=s.startAbortTimer(G.FIVE_SECONDS),X=yield fetch(`${s.verifyUrl}/attestation/${f.attestationId}`,{signal:s.abortController.signal});return clearTimeout(I),200===X.status?null==(g=yield X.json())?void 0:g.origin:""});return function(f){return u.apply(this,arguments)}}(),this.createIframe=S(function*(){try{yield Promise.race([new Promise((u,f)=>{if(document.getElementById(Ga))return u();const g=document.createElement("iframe");g.setAttribute("id",Ga),g.setAttribute("src",`${s.verifyUrl}/${s.projectId}`),g.style.display="none",g.addEventListener("load",()=>{s.initialized=!0,u()}),g.addEventListener("error",I=>{f(I)}),document.body.append(g),s.iframe=g}),new Promise(u=>{setTimeout(()=>u("iframe load timeout"),(0,G.toMiliseconds)(G.ONE_SECOND/2))})])}catch(u){s.logger.error(`Verify iframe failed to load: ${s.verifyUrl}`),s.logger.error(u)}}),this.logger=(0,j.generateChildLogger)(t,this.name),this.verifyUrl=Bf,this.abortController=new AbortController,this.isDevEnv=Fa()&&process.env.IS_VITEST}get context(){return(0,j.getLoggerContext)(this.logger)}startAbortTimer(r){return setTimeout(()=>this.abortController.abort(),(0,G.toMiliseconds)(r))}}var Zy=Object.defineProperty,kf=Object.getOwnPropertySymbols,e0=Object.prototype.hasOwnProperty,t0=Object.prototype.propertyIsEnumerable,Gf=(a,r,t)=>r in a?Zy(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,Jf=(a,r)=>{for(var t in r||(r={}))e0.call(r,t)&&Gf(a,t,r[t]);if(kf)for(var t of kf(r))t0.call(r,t)&&Gf(a,t,r[t]);return a};class Ya extends R{constructor(r){super(r),this.protocol="wc",this.version=2,this.name="core",this.events=new me.EventEmitter,this.initialized=!1,this.on=(s,u)=>this.events.on(s,u),this.once=(s,u)=>this.events.once(s,u),this.off=(s,u)=>this.events.off(s,u),this.removeListener=(s,u)=>this.events.removeListener(s,u),this.projectId=r?.projectId,this.relayUrl=r?.relayUrl||Uf;const t=typeof r?.logger<"u"&&"string"!=typeof r?.logger?r.logger:(0,j.pino)((0,j.getDefaultLoggerOptions)({level:r?.logger||"error"}));this.logger=(0,j.generateChildLogger)(t,this.name),this.heartbeat=new ee.HeartBeat,this.crypto=new Ty(this,this.logger,r?.keychain),this.history=new Yy(this,this.logger),this.expirer=new Xy(this,this.logger),this.storage=null!=r&&r.storage?r.storage:new Ee.ZP(Jf(Jf({},iy),r?.storageOptions)),this.relayer=new qy({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Jy(this,this.logger),this.verify=new Qy(this.projectId||"",this.logger)}static init(r){return S(function*(){const t=new Ya(r);yield t.initialize();const s=yield t.crypto.getClientId();return yield t.storage.setItem("WALLETCONNECT_CLIENT_ID",s),t})()}get context(){return(0,j.getLoggerContext)(this.logger)}start(){var r=this;return S(function*(){r.initialized||(yield r.initialize())})()}initialize(){var r=this;return S(function*(){r.logger.trace("Initialized");try{yield r.crypto.init(),yield r.history.init(),yield r.expirer.init(),yield r.relayer.init(),yield r.heartbeat.init(),yield r.pairing.init(),r.initialized=!0,r.logger.info("Core Initialization Success")}catch(t){throw r.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),r.logger.error(t.message),t}})()}}const r0=Ya,Xa="wc@2:client:",Zf="Proposal expired",ho=G.SEVEN_DAYS,gs={wc_sessionPropose:{req:{ttl:G.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:G.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:G.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:G.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:G.ONE_DAY,prompt:!1,tag:1104},res:{ttl:G.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:G.ONE_DAY,prompt:!1,tag:1106},res:{ttl:G.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:G.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:G.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:G.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:G.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:G.ONE_DAY,prompt:!1,tag:1112},res:{ttl:G.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:G.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:G.THIRTY_SECONDS,prompt:!1,tag:1115}}},Za={min:G.FIVE_MINUTES,max:G.SEVEN_DAYS},u0=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var c0=Object.defineProperty,f0=Object.defineProperties,l0=Object.getOwnPropertyDescriptors,el=Object.getOwnPropertySymbols,h0=Object.prototype.hasOwnProperty,d0=Object.prototype.propertyIsEnumerable,tl=(a,r,t)=>r in a?c0(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,Qr=(a,r)=>{for(var t in r||(r={}))h0.call(r,t)&&tl(a,t,r[t]);if(el)for(var t of el(r))d0.call(r,t)&&tl(a,t,r[t]);return a},eu=(a,r)=>f0(a,l0(r));class p0 extends class W{constructor(r){this.client=r}}{constructor(r){var t;super(r),t=this,this.name="engine",this.events=new(De()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.requestQueue={state:"idle",requests:[]},this.requestQueueDelay=G.ONE_SECOND,this.init=S(function*(){t.initialized||(yield t.cleanup(),t.registerRelayerEvents(),t.registerExpirerEvents(),t.client.core.pairing.register({methods:Object.keys(gs)}),t.initialized=!0,setTimeout(()=>{t.requestQueue.requests=t.getPendingSessionRequests(),t.processRequestQueue()},(0,G.toMiliseconds)(t.requestQueueDelay)))}),this.connect=function(){var s=S(function*(u){t.isInitialized();const f=eu(Qr({},u),{requiredNamespaces:u.requiredNamespaces||{},optionalNamespaces:u.optionalNamespaces||{}});yield t.isValidConnect(f);const{pairingTopic:g,requiredNamespaces:I,optionalNamespaces:X,sessionProperties:Y,relays:de}=f;let He,Oe=g,Ot=!1;if(Oe&&(Ot=t.client.core.pairing.pairings.get(Oe).active),!Oe||!Ot){const{topic:_t,uri:Nt}=yield t.client.core.pairing.create();Oe=_t,He=Nt}const Ue=yield t.client.core.crypto.generateKeyPair(),Ye=Qr({requiredNamespaces:I,optionalNamespaces:X,relays:de??[{protocol:"irn"}],proposer:{publicKey:Ue,metadata:t.client.metadata}},Y&&{sessionProperties:Y}),{reject:Xe,resolve:Rt,done:pr}=Li(G.FIVE_MINUTES,Zf);if(t.events.once(fr("session_connect"),function(){var _t=S(function*({error:Nt,session:xt}){if(Nt)Xe(Nt);else if(xt){xt.self.publicKey=Ue;const mr=eu(Qr({},xt),{requiredNamespaces:xt.requiredNamespaces,optionalNamespaces:xt.optionalNamespaces});yield t.client.session.set(xt.topic,mr),yield t.setExpiry(xt.topic,xt.expiry),Oe&&(yield t.client.core.pairing.updateMetadata({topic:Oe,metadata:xt.peer.metadata})),Rt(mr)}});return function(Nt){return _t.apply(this,arguments)}}()),!Oe){const{message:_t}=Ne("NO_MATCHING_KEY",`connect() pairing topic: ${Oe}`);throw new Error(_t)}const Ct=yield t.sendRequest(Oe,"wc_sessionPropose",Ye),Pt=pn(G.FIVE_MINUTES);return yield t.setProposal(Ct,Qr({id:Ct,expiry:Pt},Ye)),{uri:He,approval:pr}});return function(u){return s.apply(this,arguments)}}(),this.pair=function(){var s=S(function*(u){return t.isInitialized(),yield t.client.core.pairing.pair(u)});return function(u){return s.apply(this,arguments)}}(),this.approve=function(){var s=S(function*(u){t.isInitialized(),yield t.isValidApprove(u);const{id:f,relayProtocol:g,namespaces:I,sessionProperties:X}=u,Y=t.client.proposal.get(f);let{pairingTopic:de,proposer:Oe,requiredNamespaces:He,optionalNamespaces:Ot}=Y;de=de||"",yi(He)||(He=function $p(a,r){const t=oo(a,r);if(t)throw new Error(t.message);const s={};for(const[u,f]of Object.entries(a))s[u]={methods:f.methods,events:f.events,chains:f.accounts.map(g=>`${g.split(":")[0]}:${g.split(":")[1]}`)};return s}(I,"approve()"));const Ue=yield t.client.core.crypto.generateKeyPair(),Ye=Oe.publicKey,Xe=yield t.client.core.crypto.generateSharedKey(Ue,Ye);de&&f&&(yield t.client.core.pairing.updateMetadata({topic:de,metadata:Oe.metadata}),yield t.sendResult(f,de,{relay:{protocol:g??"irn"},responderPublicKey:Ue}),yield t.client.proposal.delete(f,lr("USER_DISCONNECTED")),yield t.client.core.pairing.activate({topic:de}));const Rt=Qr({relay:{protocol:g??"irn"},namespaces:I,requiredNamespaces:He,optionalNamespaces:Ot,pairingTopic:de,controller:{publicKey:Ue,metadata:t.client.metadata},expiry:pn(ho)},X&&{sessionProperties:X});yield t.client.core.relayer.subscribe(Xe),yield t.sendRequest(Xe,"wc_sessionSettle",Rt);const pr=eu(Qr({},Rt),{topic:Xe,pairingTopic:de,acknowledged:!1,self:Rt.controller,peer:{publicKey:Oe.publicKey,metadata:Oe.metadata},controller:Ue});return yield t.client.session.set(Xe,pr),yield t.setExpiry(Xe,pn(ho)),{topic:Xe,acknowledged:()=>new Promise(Ct=>setTimeout(()=>Ct(t.client.session.get(Xe)),500))}});return function(u){return s.apply(this,arguments)}}(),this.reject=function(){var s=S(function*(u){t.isInitialized(),yield t.isValidReject(u);const{id:f,reason:g}=u,{pairingTopic:I}=t.client.proposal.get(f);I&&(yield t.sendError(f,I,g),yield t.client.proposal.delete(f,lr("USER_DISCONNECTED")))});return function(u){return s.apply(this,arguments)}}(),this.update=function(){var s=S(function*(u){t.isInitialized(),yield t.isValidUpdate(u);const{topic:f,namespaces:g}=u,I=yield t.sendRequest(f,"wc_sessionUpdate",{namespaces:g}),{done:X,resolve:Y,reject:de}=Li();return t.events.once(fr("session_update",I),({error:Oe})=>{Oe?de(Oe):Y()}),yield t.client.session.update(f,{namespaces:g}),{acknowledged:X}});return function(u){return s.apply(this,arguments)}}(),this.extend=function(){var s=S(function*(u){t.isInitialized(),yield t.isValidExtend(u);const{topic:f}=u,g=yield t.sendRequest(f,"wc_sessionExtend",{}),{done:I,resolve:X,reject:Y}=Li();return t.events.once(fr("session_extend",g),({error:de})=>{de?Y(de):X()}),yield t.setExpiry(f,pn(ho)),{acknowledged:I}});return function(u){return s.apply(this,arguments)}}(),this.request=function(){var s=S(function*(u){t.isInitialized(),yield t.isValidRequest(u);const{chainId:f,request:g,topic:I,expiry:X}=u,Y=yield t.sendRequest(I,"wc_sessionRequest",{request:g,chainId:f},X),{done:de,resolve:Oe,reject:He}=Li(X);return t.events.once(fr("session_request",Y),({error:Ue,result:Ye})=>{Ue?He(Ue):Oe(Ye)}),t.client.events.emit("session_request_sent",{topic:I,request:g,chainId:f,id:Y}),function mp(a){La.apply(this,arguments)}({id:Y,topic:I,wcDeepLink:yield t.client.core.storage.getItem("WALLETCONNECT_DEEPLINK_CHOICE")}),yield de()});return function(u){return s.apply(this,arguments)}}(),this.respond=function(){var s=S(function*(u){t.isInitialized(),yield t.isValidRespond(u);const{topic:f,response:g}=u,{id:I}=g;jn(g)?yield t.sendResult(I,f,g.result):gn(g)&&(yield t.sendError(I,f,g.error)),t.cleanupAfterResponse(u)});return function(u){return s.apply(this,arguments)}}(),this.ping=function(){var s=S(function*(u){t.isInitialized(),yield t.isValidPing(u);const{topic:f}=u;if(t.client.session.keys.includes(f)){const g=yield t.sendRequest(f,"wc_sessionPing",{}),{done:I,resolve:X,reject:Y}=Li();t.events.once(fr("session_ping",g),({error:de})=>{de?Y(de):X()}),yield I()}else t.client.core.pairing.pairings.keys.includes(f)&&(yield t.client.core.pairing.ping({topic:f}))});return function(u){return s.apply(this,arguments)}}(),this.emit=function(){var s=S(function*(u){t.isInitialized(),yield t.isValidEmit(u);const{topic:f,event:g,chainId:I}=u;yield t.sendRequest(f,"wc_sessionEvent",{event:g,chainId:I})});return function(u){return s.apply(this,arguments)}}(),this.disconnect=function(){var s=S(function*(u){t.isInitialized(),yield t.isValidDisconnect(u);const{topic:f}=u;if(t.client.session.keys.includes(f)){const g=za().toString();let I;const X=Y=>{Y?.id.toString()===g&&(t.client.core.relayer.events.removeListener("relayer_message_ack",X),I())};yield Promise.all([new Promise(Y=>{I=Y,t.client.core.relayer.on("relayer_message_ack",X)}),t.sendRequest(f,"wc_sessionDelete",lr("USER_DISCONNECTED"),void 0,g)]),yield t.deleteSession(f)}else yield t.client.core.pairing.disconnect({topic:f})});return function(u){return s.apply(this,arguments)}}(),this.find=s=>(this.isInitialized(),this.client.session.getAll().filter(u=>function Vp(a,r){const{requiredNamespaces:t}=r,s=Object.keys(a.namespaces),u=Object.keys(t);let f=!0;return!!gi(u,s)&&(s.forEach(g=>{const{accounts:I,methods:X,events:Y}=a.namespaces[g],de=Ui(I),Oe=t[g];gi(Hr(g,Oe),de)&&gi(Oe.methods,X)&&gi(Oe.events,Y)||(f=!1)}),f)}(u,s))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=function(){var s=S(function*(u){if(u.pairingTopic)try{const f=t.client.core.pairing.pairings.get(u.pairingTopic),g=t.client.core.pairing.pairings.getAll().filter(I=>{var X,Y;return(null==(X=I.peerMetadata)?void 0:X.url)&&(null==(Y=I.peerMetadata)?void 0:Y.url)===u.peer.metadata.url&&I.topic&&I.topic!==f.topic});if(0===g.length)return;t.client.logger.info(`Cleaning up ${g.length} duplicate pairing(s)`),yield Promise.all(g.map(I=>t.client.core.pairing.disconnect({topic:I.topic}))),t.client.logger.info("Duplicate pairings clean up finished")}catch(f){t.client.logger.error(f)}});return function(u){return s.apply(this,arguments)}}(),this.deleteSession=function(){var s=S(function*(u,f){const{self:g}=t.client.session.get(u);yield t.client.core.relayer.unsubscribe(u),t.client.session.delete(u,lr("USER_DISCONNECTED")),t.client.core.crypto.keychain.has(g.publicKey)&&(yield t.client.core.crypto.deleteKeyPair(g.publicKey)),t.client.core.crypto.keychain.has(u)&&(yield t.client.core.crypto.deleteSymKey(u)),f||t.client.core.expirer.del(u)});return function(u,f){return s.apply(this,arguments)}}(),this.deleteProposal=function(){var s=S(function*(u,f){yield Promise.all([t.client.proposal.delete(u,lr("USER_DISCONNECTED")),f?Promise.resolve():t.client.core.expirer.del(u)])});return function(u,f){return s.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var s=S(function*(u,f,g=!1){yield Promise.all([t.client.pendingRequest.delete(u,f),g?Promise.resolve():t.client.core.expirer.del(u)]),t.requestQueue.requests=t.requestQueue.requests.filter(I=>I.id!==u),g&&(t.requestQueue.state="idle")});return function(u,f){return s.apply(this,arguments)}}(),this.setExpiry=function(){var s=S(function*(u,f){t.client.session.keys.includes(u)&&(yield t.client.session.update(u,{expiry:f})),t.client.core.expirer.set(u,f)});return function(u,f){return s.apply(this,arguments)}}(),this.setProposal=function(){var s=S(function*(u,f){yield t.client.proposal.set(u,f),t.client.core.expirer.set(u,f.expiry)});return function(u,f){return s.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var s=S(function*(u){const f=gs.wc_sessionRequest.req.ttl,{id:g,topic:I,params:X}=u;yield t.client.pendingRequest.set(g,{id:g,topic:I,params:X}),f&&t.client.core.expirer.set(g,pn(f))});return function(u){return s.apply(this,arguments)}}(),this.sendRequest=function(){var s=S(function*(u,f,g,I,X){const Y=ao(f,g);if(ja()&&u0.includes(f)){const He=ji(JSON.stringify(Y));yield t.client.core.verify.register({attestationId:He})}const de=yield t.client.core.crypto.encode(u,Y),Oe=gs[f].req;return I&&(Oe.ttl=I),X&&(Oe.id=X),t.client.core.history.set(u,Y),t.client.core.relayer.publish(u,de,Oe),Y.id});return function(u,f,g,I,X){return s.apply(this,arguments)}}(),this.sendResult=function(){var s=S(function*(u,f,g){const I=Ha(u,g),X=yield t.client.core.crypto.encode(f,I),Y=yield t.client.core.history.get(f,u);t.client.core.relayer.publish(f,X,gs[Y.request.method].res),yield t.client.core.history.resolve(I)});return function(u,f,g){return s.apply(this,arguments)}}(),this.sendError=function(){var s=S(function*(u,f,g){const I=uo(u,g),X=yield t.client.core.crypto.encode(f,I),Y=yield t.client.core.history.get(f,u);t.client.core.relayer.publish(f,X,gs[Y.request.method].res),yield t.client.core.history.resolve(I)});return function(u,f,g){return s.apply(this,arguments)}}(),this.cleanup=S(function*(){const s=[],u=[];t.client.session.getAll().forEach(f=>{Jn(f.expiry)&&s.push(f.topic)}),t.client.proposal.getAll().forEach(f=>{Jn(f.expiry)&&u.push(f.id)}),yield Promise.all([...s.map(f=>t.deleteSession(f)),...u.map(f=>t.deleteProposal(f))])}),this.onRelayEventRequest=s=>{const{topic:u,payload:f}=s,g=f.method;switch(g){case"wc_sessionPropose":return this.onSessionProposeRequest(u,f);case"wc_sessionSettle":return this.onSessionSettleRequest(u,f);case"wc_sessionUpdate":return this.onSessionUpdateRequest(u,f);case"wc_sessionExtend":return this.onSessionExtendRequest(u,f);case"wc_sessionPing":return this.onSessionPingRequest(u,f);case"wc_sessionDelete":return this.onSessionDeleteRequest(u,f);case"wc_sessionRequest":return this.onSessionRequest(u,f);case"wc_sessionEvent":return this.onSessionEventRequest(u,f);default:return this.client.logger.info(`Unsupported request method ${g}`)}},this.onRelayEventResponse=function(){var s=S(function*(u){const{topic:f,payload:g}=u,I=(yield t.client.core.history.get(f,g.id)).request.method;switch(I){case"wc_sessionPropose":return t.onSessionProposeResponse(f,g);case"wc_sessionSettle":return t.onSessionSettleResponse(f,g);case"wc_sessionUpdate":return t.onSessionUpdateResponse(f,g);case"wc_sessionExtend":return t.onSessionExtendResponse(f,g);case"wc_sessionPing":return t.onSessionPingResponse(f,g);case"wc_sessionRequest":return t.onSessionRequestResponse(f,g);default:return t.client.logger.info(`Unsupported response method ${I}`)}});return function(u){return s.apply(this,arguments)}}(),this.onRelayEventUnknownPayload=s=>{const{topic:u}=s,{message:f}=Ne("MISSING_OR_INVALID",`Decoded payload on topic ${u} is not identifiable as a JSON-RPC request or a response.`);throw new Error(f)},this.onSessionProposeRequest=function(){var s=S(function*(u,f){const{params:g,id:I}=f;try{t.isValidConnect(Qr({},f.params));const X=pn(G.FIVE_MINUTES),Y=Qr({id:I,pairingTopic:u,expiry:X},g);yield t.setProposal(I,Y);const de=ji(JSON.stringify(f)),Oe=yield t.getVerifyContext(de,Y.proposer.metadata);t.client.events.emit("session_proposal",{id:I,params:Y,verifyContext:Oe})}catch(X){yield t.sendError(I,u,X),t.client.logger.error(X)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var s=S(function*(u,f){const{id:g}=f;if(jn(f)){const{result:I}=f;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:I});const X=t.client.proposal.get(g);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:X});const Y=X.proposer.publicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:Y});const de=I.responderPublicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:de});const Oe=yield t.client.core.crypto.generateSharedKey(Y,de);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:Oe});const He=yield t.client.core.relayer.subscribe(Oe);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:He}),yield t.client.core.pairing.activate({topic:u})}else gn(f)&&(yield t.client.proposal.delete(g,lr("USER_DISCONNECTED")),t.events.emit(fr("session_connect"),{error:f.error}))});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var s=S(function*(u,f){const{id:g,params:I}=f;try{t.isValidSessionSettleRequest(I);const{relay:X,controller:Y,expiry:de,namespaces:Oe,requiredNamespaces:He,optionalNamespaces:Ot,sessionProperties:Ue,pairingTopic:Ye}=f.params,Xe=Qr({topic:u,relay:X,expiry:de,namespaces:Oe,acknowledged:!0,pairingTopic:Ye,requiredNamespaces:He,optionalNamespaces:Ot,controller:Y.publicKey,self:{publicKey:"",metadata:t.client.metadata},peer:{publicKey:Y.publicKey,metadata:Y.metadata}},Ue&&{sessionProperties:Ue});yield t.sendResult(f.id,u,!0),t.events.emit(fr("session_connect"),{session:Xe}),t.cleanupDuplicatePairings(Xe)}catch(X){yield t.sendError(g,u,X),t.client.logger.error(X)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var s=S(function*(u,f){const{id:g}=f;jn(f)?(yield t.client.session.update(u,{acknowledged:!0}),t.events.emit(fr("session_approve",g),{})):gn(f)&&(yield t.client.session.delete(u,lr("USER_DISCONNECTED")),t.events.emit(fr("session_approve",g),{error:f.error}))});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var s=S(function*(u,f){const{params:g,id:I}=f;try{t.isValidUpdate(Qr({topic:u},g)),yield t.client.session.update(u,{namespaces:g.namespaces}),yield t.sendResult(I,u,!0),t.client.events.emit("session_update",{id:I,topic:u,params:g})}catch(X){yield t.sendError(I,u,X),t.client.logger.error(X)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionUpdateResponse=(s,u)=>{const{id:f}=u;jn(u)?this.events.emit(fr("session_update",f),{}):gn(u)&&this.events.emit(fr("session_update",f),{error:u.error})},this.onSessionExtendRequest=function(){var s=S(function*(u,f){const{id:g}=f;try{t.isValidExtend({topic:u}),yield t.setExpiry(u,pn(ho)),yield t.sendResult(g,u,!0),t.client.events.emit("session_extend",{id:g,topic:u})}catch(I){yield t.sendError(g,u,I),t.client.logger.error(I)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionExtendResponse=(s,u)=>{const{id:f}=u;jn(u)?this.events.emit(fr("session_extend",f),{}):gn(u)&&this.events.emit(fr("session_extend",f),{error:u.error})},this.onSessionPingRequest=function(){var s=S(function*(u,f){const{id:g}=f;try{t.isValidPing({topic:u}),yield t.sendResult(g,u,!0),t.client.events.emit("session_ping",{id:g,topic:u})}catch(I){yield t.sendError(g,u,I),t.client.logger.error(I)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionPingResponse=(s,u)=>{const{id:f}=u;setTimeout(()=>{jn(u)?this.events.emit(fr("session_ping",f),{}):gn(u)&&this.events.emit(fr("session_ping",f),{error:u.error})},500)},this.onSessionDeleteRequest=function(){var s=S(function*(u,f){const{id:g}=f;try{t.isValidDisconnect({topic:u,reason:f.params}),yield Promise.all([new Promise(I=>{t.client.core.relayer.once("relayer_publish",S(function*(){I(yield t.deleteSession(u))}))}),t.sendResult(g,u,!0)]),t.client.events.emit("session_delete",{id:g,topic:u})}catch(I){t.client.logger.error(I)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionRequest=function(){var s=S(function*(u,f){const{id:g,params:I}=f;try{t.isValidRequest(Qr({topic:u},I)),yield t.setPendingSessionRequest({id:g,topic:u,params:I}),t.addRequestToQueue({id:g,topic:u,params:I}),yield t.processRequestQueue()}catch(X){yield t.sendError(g,u,X),t.client.logger.error(X)}});return function(u,f){return s.apply(this,arguments)}}(),this.onSessionRequestResponse=(s,u)=>{const{id:f}=u;jn(u)?this.events.emit(fr("session_request",f),{result:u.result}):gn(u)&&this.events.emit(fr("session_request",f),{error:u.error})},this.onSessionEventRequest=function(){var s=S(function*(u,f){const{id:g,params:I}=f;try{t.isValidEmit(Qr({topic:u},I)),t.client.events.emit("session_event",{id:g,topic:u,params:I})}catch(X){yield t.sendError(g,u,X),t.client.logger.error(X)}});return function(u,f){return s.apply(this,arguments)}}(),this.addRequestToQueue=s=>{this.requestQueue.requests.push(s)},this.cleanupAfterResponse=s=>{this.deletePendingSessionRequest(s.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.requestQueue.state="idle",this.processRequestQueue()},(0,G.toMiliseconds)(this.requestQueueDelay))},this.processRequestQueue=S(function*(){if("active"===t.requestQueue.state)return void t.client.logger.info("session request queue is already active.");const s=t.requestQueue.requests[0];if(s)try{const{id:u,topic:f,params:g}=s,I=ji(JSON.stringify({id:u,params:g})),X=t.client.session.get(f),Y=yield t.getVerifyContext(I,X.peer.metadata);t.requestQueue.state="active",t.client.events.emit("session_request",{id:u,topic:f,params:g,verifyContext:Y})}catch(u){t.client.logger.error(u)}else t.client.logger.info("session request queue is empty.")}),this.isValidConnect=function(){var s=S(function*(u){if(!jr(u)){const{message:de}=Ne("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(u)}`);throw new Error(de)}const{pairingTopic:f,requiredNamespaces:g,optionalNamespaces:I,sessionProperties:X,relays:Y}=u;if(Cr(f)||(yield t.isValidPairingTopic(f)),!function tg(a,r){let t=!1;return r&&!a?t=!0:a&&_i(a)&&a.length&&a.forEach(s=>{t=ef(s)}),t}(Y,!0)){const{message:de}=Ne("MISSING_OR_INVALID",`connect() relays: ${Y}`);throw new Error(de)}!Cr(g)&&0!==yi(g)&&t.validateNamespaces(g,"requiredNamespaces"),!Cr(I)&&0!==yi(I)&&t.validateNamespaces(I,"optionalNamespaces"),Cr(X)||t.validateSessionProps(X,"sessionProperties")});return function(u){return s.apply(this,arguments)}}(),this.validateNamespaces=(s,u)=>{const f=function eg(a,r,t){let s=null;if(a&&yi(a)){const u=Zc(a,r);u&&(s=u);const f=function Yp(a,r,t){let s=null;return Object.entries(a).forEach(([u,f])=>{if(s)return;const g=function Jp(a,r,t){let s=null;return _i(r)&&r.length?r.forEach(u=>{s||so(u)||(s=lr("UNSUPPORTED_CHAINS",`${t}, chain ${u} should be a string and conform to "namespace:chainId" format`))}):so(a)||(s=lr("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),s}(u,Hr(u,f),`${r} ${t}`);g&&(s=g)}),s}(a,r,t);f&&(s=f)}else s=Ne("MISSING_OR_INVALID",`${r}, ${t} should be an object with data`);return s}(s,"connect()",u);if(f)throw new Error(f.message)},this.isValidApprove=function(){var s=S(function*(u){if(!jr(u))throw new Error(Ne("MISSING_OR_INVALID",`approve() params: ${u}`).message);const{id:f,namespaces:g,relayProtocol:I,sessionProperties:X}=u;yield t.isValidProposalId(f);const Y=t.client.proposal.get(f),de=oo(g,"approve()");if(de)throw new Error(de.message);const Oe=Ba(Y.requiredNamespaces,g,"approve()");if(Oe)throw new Error(Oe.message);if(!vr(I,!0)){const{message:He}=Ne("MISSING_OR_INVALID",`approve() relayProtocol: ${I}`);throw new Error(He)}Cr(X)||t.validateSessionProps(X,"sessionProperties")});return function(u){return s.apply(this,arguments)}}(),this.isValidReject=function(){var s=S(function*(u){if(!jr(u)){const{message:I}=Ne("MISSING_OR_INVALID",`reject() params: ${u}`);throw new Error(I)}const{id:f,reason:g}=u;if(yield t.isValidProposalId(f),!function ng(a){return!!(a&&"object"==typeof a&&a.code&&Ma(a.code,!1)&&a.message&&vr(a.message,!1))}(g)){const{message:I}=Ne("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(g)}`);throw new Error(I)}});return function(u){return s.apply(this,arguments)}}(),this.isValidSessionSettleRequest=s=>{if(!jr(s)){const{message:de}=Ne("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${s}`);throw new Error(de)}const{relay:u,controller:f,namespaces:g,expiry:I}=s;if(!ef(u)){const{message:de}=Ne("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(de)}const X=function Gp(a,r){let t=null;return vr(a?.publicKey,!1)||(t=Ne("MISSING_OR_INVALID",`${r} controller public key should be a string`)),t}(f,"onSessionSettleRequest()");if(X)throw new Error(X.message);const Y=oo(g,"onSessionSettleRequest()");if(Y)throw new Error(Y.message);if(Jn(I)){const{message:de}=Ne("EXPIRED","onSessionSettleRequest()");throw new Error(de)}},this.isValidUpdate=function(){var s=S(function*(u){if(!jr(u)){const{message:de}=Ne("MISSING_OR_INVALID",`update() params: ${u}`);throw new Error(de)}const{topic:f,namespaces:g}=u;yield t.isValidSessionTopic(f);const I=t.client.session.get(f),X=oo(g,"update()");if(X)throw new Error(X.message);const Y=Ba(I.requiredNamespaces,g,"update()");if(Y)throw new Error(Y.message)});return function(u){return s.apply(this,arguments)}}(),this.isValidExtend=function(){var s=S(function*(u){if(!jr(u)){const{message:g}=Ne("MISSING_OR_INVALID",`extend() params: ${u}`);throw new Error(g)}const{topic:f}=u;yield t.isValidSessionTopic(f)});return function(u){return s.apply(this,arguments)}}(),this.isValidRequest=function(){var s=S(function*(u){if(!jr(u)){const{message:de}=Ne("MISSING_OR_INVALID",`request() params: ${u}`);throw new Error(de)}const{topic:f,request:g,chainId:I,expiry:X}=u;yield t.isValidSessionTopic(f);const{namespaces:Y}=t.client.session.get(f);if(!tf(Y,I)){const{message:de}=Ne("MISSING_OR_INVALID",`request() chainId: ${I}`);throw new Error(de)}if(!function ig(a){return!(Cr(a)||!vr(a.method,!1))}(g)){const{message:de}=Ne("MISSING_OR_INVALID",`request() ${JSON.stringify(g)}`);throw new Error(de)}if(!function ag(a,r,t){return!!vr(t,!1)&&function Mp(a,r){const t=[];return Object.values(a).forEach(s=>{Ui(s.accounts).includes(r)&&t.push(...s.methods)}),t}(a,r).includes(t)}(Y,I,g.method)){const{message:de}=Ne("MISSING_OR_INVALID",`request() method: ${g.method}`);throw new Error(de)}if(X&&!function lg(a,r){return Ma(a,!1)&&a<=r.max&&a>=r.min}(X,Za)){const{message:de}=Ne("MISSING_OR_INVALID",`request() expiry: ${X}. Expiry must be a number (in seconds) between ${Za.min} and ${Za.max}`);throw new Error(de)}});return function(u){return s.apply(this,arguments)}}(),this.isValidRespond=function(){var s=S(function*(u){if(!jr(u)){const{message:I}=Ne("MISSING_OR_INVALID",`respond() params: ${u}`);throw new Error(I)}const{topic:f,response:g}=u;if(yield t.isValidSessionTopic(f),!function sg(a){return!(Cr(a)||Cr(a.result)&&Cr(a.error)||!Ma(a.id,!1)||!vr(a.jsonrpc,!1))}(g)){const{message:I}=Ne("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(g)}`);throw new Error(I)}});return function(u){return s.apply(this,arguments)}}(),this.isValidPing=function(){var s=S(function*(u){if(!jr(u)){const{message:g}=Ne("MISSING_OR_INVALID",`ping() params: ${u}`);throw new Error(g)}const{topic:f}=u;yield t.isValidSessionOrPairingTopic(f)});return function(u){return s.apply(this,arguments)}}(),this.isValidEmit=function(){var s=S(function*(u){if(!jr(u)){const{message:Y}=Ne("MISSING_OR_INVALID",`emit() params: ${u}`);throw new Error(Y)}const{topic:f,event:g,chainId:I}=u;yield t.isValidSessionTopic(f);const{namespaces:X}=t.client.session.get(f);if(!tf(X,I)){const{message:Y}=Ne("MISSING_OR_INVALID",`emit() chainId: ${I}`);throw new Error(Y)}if(!function og(a){return!(Cr(a)||!vr(a.name,!1))}(g)){const{message:Y}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(g)}`);throw new Error(Y)}if(!function ug(a,r,t){return!!vr(t,!1)&&function Bp(a,r){const t=[];return Object.values(a).forEach(s=>{Ui(s.accounts).includes(r)&&t.push(...s.events)}),t}(a,r).includes(t)}(X,I,g.name)){const{message:Y}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(g)}`);throw new Error(Y)}});return function(u){return s.apply(this,arguments)}}(),this.isValidDisconnect=function(){var s=S(function*(u){if(!jr(u)){const{message:g}=Ne("MISSING_OR_INVALID",`disconnect() params: ${u}`);throw new Error(g)}const{topic:f}=u;yield t.isValidSessionOrPairingTopic(f)});return function(u){return s.apply(this,arguments)}}(),this.getVerifyContext=function(){var s=S(function*(u,f){const g={verified:{verifyUrl:f.verifyUrl||"",validation:"UNKNOWN",origin:f.url||""}};try{const I=yield t.client.core.verify.resolve({attestationId:u,verifyUrl:f.verifyUrl});I&&(g.verified.origin=I,g.verified.validation=I===f.url?"VALID":"INVALID")}catch(I){t.client.logger.error(I)}return t.client.logger.info(`Verify context: ${JSON.stringify(g)}`),g});return function(u,f){return s.apply(this,arguments)}}(),this.validateSessionProps=(s,u)=>{Object.values(s).forEach(f=>{if(!vr(f,!1)){const{message:g}=Ne("MISSING_OR_INVALID",`${u} must be in Record<string, string> format. Received: ${JSON.stringify(f)}`);throw new Error(g)}})}}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}registerRelayerEvents(){var r=this;this.client.core.relayer.on("relayer_message",function(){var t=S(function*(s){const{topic:u,message:f}=s;if(r.ignoredPayloadTypes.includes(r.client.core.crypto.getPayloadType(f)))return;const g=yield r.client.core.crypto.decode(u,f);Va(g)?(r.client.core.history.set(u,g),r.onRelayEventRequest({topic:u,payload:g})):co(g)?(yield r.client.core.history.resolve(g),yield r.onRelayEventResponse({topic:u,payload:g}),r.client.core.history.delete(u,g.id)):r.onRelayEventUnknownPayload({topic:u,payload:g})});return function(s){return t.apply(this,arguments)}}())}registerExpirerEvents(){var r=this;this.client.core.expirer.on(Xr_expired,function(){var t=S(function*(s){const{topic:u,id:f}=Wc(s.target);if(f&&r.client.pendingRequest.keys.includes(f))return yield r.deletePendingSessionRequest(f,Ne("EXPIRED"),!0);u?r.client.session.keys.includes(u)&&(yield r.deleteSession(u,!0),r.client.events.emit("session_expire",{topic:u})):f&&(yield r.deleteProposal(f,!0),r.client.events.emit("proposal_expire",{id:f}))});return function(s){return t.apply(this,arguments)}}())}isValidPairingTopic(r){if(!vr(r,!1)){const{message:t}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(r)){const{message:t}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(t)}if(Jn(this.client.core.pairing.pairings.get(r).expiry)){const{message:t}=Ne("EXPIRED",`pairing topic: ${r}`);throw new Error(t)}}isValidSessionTopic(r){var t=this;return S(function*(){if(!vr(r,!1)){const{message:s}=Ne("MISSING_OR_INVALID",`session topic should be a string: ${r}`);throw new Error(s)}if(!t.client.session.keys.includes(r)){const{message:s}=Ne("NO_MATCHING_KEY",`session topic doesn't exist: ${r}`);throw new Error(s)}if(Jn(t.client.session.get(r).expiry)){yield t.deleteSession(r);const{message:s}=Ne("EXPIRED",`session topic: ${r}`);throw new Error(s)}})()}isValidSessionOrPairingTopic(r){var t=this;return S(function*(){if(t.client.session.keys.includes(r))yield t.isValidSessionTopic(r);else{if(!t.client.core.pairing.pairings.keys.includes(r)){if(vr(r,!1)){const{message:s}=Ne("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${r}`);throw new Error(s)}{const{message:s}=Ne("MISSING_OR_INVALID",`session or pairing topic should be a string: ${r}`);throw new Error(s)}}t.isValidPairingTopic(r)}})()}isValidProposalId(r){var t=this;return S(function*(){if(!function rg(a){return"number"==typeof a}(r)){const{message:s}=Ne("MISSING_OR_INVALID",`proposal id should be a number: ${r}`);throw new Error(s)}if(!t.client.proposal.keys.includes(r)){const{message:s}=Ne("NO_MATCHING_KEY",`proposal id doesn't exist: ${r}`);throw new Error(s)}if(Jn(t.client.proposal.get(r).expiry)){yield t.deleteProposal(r);const{message:s}=Ne("EXPIRED",`proposal id: ${r}`);throw new Error(s)}})()}}class g0 extends lo{constructor(r,t){super(r,t,"proposal",Xa),this.core=r,this.logger=t}}class _0 extends lo{constructor(r,t){super(r,t,"session",Xa),this.core=r,this.logger=t}}class y0 extends lo{constructor(r,t){super(r,t,"request",Xa,s=>s.id),this.core=r,this.logger=t}}class tu extends class q{constructor(r){this.opts=r,this.protocol="wc",this.version=2}}{constructor(r){var t;super(r),t=this,this.protocol="wc",this.version=2,this.name="client",this.events=new me.EventEmitter,this.on=(u,f)=>this.events.on(u,f),this.once=(u,f)=>this.events.once(u,f),this.off=(u,f)=>this.events.off(u,f),this.removeListener=(u,f)=>this.events.removeListener(u,f),this.removeAllListeners=u=>this.events.removeAllListeners(u),this.connect=function(){var u=S(function*(f){try{return yield t.engine.connect(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.pair=function(){var u=S(function*(f){try{return yield t.engine.pair(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.approve=function(){var u=S(function*(f){try{return yield t.engine.approve(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.reject=function(){var u=S(function*(f){try{return yield t.engine.reject(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.update=function(){var u=S(function*(f){try{return yield t.engine.update(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.extend=function(){var u=S(function*(f){try{return yield t.engine.extend(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.request=function(){var u=S(function*(f){try{return yield t.engine.request(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.respond=function(){var u=S(function*(f){try{return yield t.engine.respond(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.ping=function(){var u=S(function*(f){try{return yield t.engine.ping(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.emit=function(){var u=S(function*(f){try{return yield t.engine.emit(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.disconnect=function(){var u=S(function*(f){try{return yield t.engine.disconnect(f)}catch(g){throw t.logger.error(g.message),g}});return function(f){return u.apply(this,arguments)}}(),this.find=u=>{try{return this.engine.find(u)}catch(f){throw this.logger.error(f.message),f}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(u){throw this.logger.error(u.message),u}},this.name=r?.name||"client",this.metadata=r?.metadata||function cp(){return(0,Ia.D)()||{name:"",description:"",url:"",icons:[""]}}();const s=typeof r?.logger<"u"&&"string"!=typeof r?.logger?r.logger:(0,j.pino)((0,j.getDefaultLoggerOptions)({level:r?.logger||"error"}));this.core=r?.core||new r0(r),this.logger=(0,j.generateChildLogger)(s,this.name),this.session=new _0(this.core,this.logger),this.proposal=new g0(this.core,this.logger),this.pendingRequest=new y0(this.core,this.logger),this.engine=new p0(this)}static init(r){return S(function*(){const t=new tu(r);return yield t.initialize(),t})()}get context(){return(0,j.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var r=this;return S(function*(){r.logger.trace("Initialized");try{yield r.core.start(),yield r.session.init(),yield r.proposal.init(),yield r.pendingRequest.init(),yield r.engine.init(),r.core.verify.init({verifyUrl:r.metadata.verifyUrl}),r.logger.info("SignClient Initialization Success")}catch(t){throw r.logger.info("SignClient Initialization Failure"),r.logger.error(t.message),t}})()}}var v0=L(5928),rl=L.n(v0);const nl={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class sl{constructor(r,t=!1){if(this.url=r,this.disableProviderPing=t,this.events=new me.EventEmitter,this.isAvailable=!1,this.registering=!1,!hf(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);this.url=r,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}off(r,t){this.events.off(r,t)}removeListener(r,t){this.events.removeListener(r,t)}open(r=this.url){var t=this;return S(function*(){yield t.register(r)})()}close(){var r=this;return S(function*(){if(!r.isAvailable)throw new Error("Connection already closed");r.onClose()})()}send(r,t){var s=this;return S(function*(){s.isAvailable||(yield s.register());try{const u=Te(r),g=yield(yield rl()(s.url,Object.assign(Object.assign({},nl),{body:u}))).json();s.onPayload({data:g})}catch(u){s.onError(r.id,u)}})()}register(r=this.url){var t=this;return S(function*(){if(!hf(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);if(t.registering){const s=t.events.getMaxListeners();return(t.events.listenerCount("register_error")>=s||t.events.listenerCount("open")>=s)&&t.events.setMaxListeners(s+1),new Promise((u,f)=>{t.events.once("register_error",g=>{t.resetMaxListeners(),f(g)}),t.events.once("open",()=>{if(t.resetMaxListeners(),typeof t.isAvailable>"u")return f(new Error("HTTP connection is missing or invalid"));u()})})}t.url=r,t.registering=!0;try{if(!t.disableProviderPing){const s=Te({id:1,jsonrpc:"2.0",method:"test",params:[]});yield rl()(r,Object.assign(Object.assign({},nl),{body:s}))}t.onOpen()}catch(s){const u=t.parseError(s);throw t.events.emit("register_error",u),t.onClose(),u}})()}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(r){if(typeof r.data>"u")return;const t="string"==typeof r.data?xe(r.data):r.data;this.events.emit("payload",t)}onError(r,t){const s=this.parseError(t),f=uo(r,s.message||s.toString());this.events.emit("payload",f)}parseError(r,t=this.url){return cf(r,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const Mi=sl,al="wc@2:universal_provider:";var a,r,ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ru={exports:{}};a=ru,r=ru.exports,function(){var t,g="Expected a function",X="__lodash_hash_undefined__",de="__lodash_placeholder__",vi=1/0,ei=9007199254740991,Sn=4294967295,iv=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Bi="[object Arguments]",yo="[object Array]",vs="[object Boolean]",ms="[object Date]",vo="[object Error]",mo="[object Function]",_l="[object GeneratorFunction]",_n="[object Map]",bs="[object Number]",Ln="[object Object]",yl="[object Promise]",ws="[object RegExp]",yn="[object Set]",Es="[object String]",bo="[object Symbol]",Ds="[object WeakMap]",xs="[object ArrayBuffer]",$i="[object DataView]",au="[object Float32Array]",uu="[object Float64Array]",cu="[object Int8Array]",fu="[object Int16Array]",lu="[object Int32Array]",hu="[object Uint8Array]",du="[object Uint8ClampedArray]",pu="[object Uint16Array]",gu="[object Uint32Array]",lv=/\b__p \+= '';/g,hv=/\b(__p \+=) '' \+/g,dv=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vl=/&(?:amp|lt|gt|quot|#39);/g,ml=/[&<>"']/g,pv=RegExp(vl.source),gv=RegExp(ml.source),_v=/<%-([\s\S]+?)%>/g,yv=/<%([\s\S]+?)%>/g,bl=/<%=([\s\S]+?)%>/g,vv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mv=/^\w*$/,bv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_u=/[\\^$.*+?()[\]{}|]/g,wv=RegExp(_u.source),yu=/^\s+/,Ev=/\s/,Dv=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xv=/\{\n\/\* \[wrapped with (.+)\] \*/,Sv=/,? & /,Ov=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Iv=/[()=,{}\[\]\/\s]/,Pv=/\\(\\)?/g,Av=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wl=/\w*$/,Cv=/^[-+]0x[0-9a-f]+$/i,Tv=/^0b[01]+$/i,Rv=/^\[object .+?Constructor\]$/,Nv=/^0o[0-7]+$/i,Fv=/^(?:0|[1-9]\d*)$/,jv=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wo=/($^)/,Lv=/['\n\r\u2028\u2029\\]/g,Eo="\\ud800-\\udfff",El="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Dl="\\u2700-\\u27bf",xl="a-z\\xdf-\\xf6\\xf8-\\xff",Sl="A-Z\\xc0-\\xd6\\xd8-\\xde",Ol="\\ufe0e\\ufe0f",Il="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kv="["+Eo+"]",Pl="["+Il+"]",Do="["+El+"]",Al="\\d+",qv="["+Dl+"]",Cl="["+xl+"]",Tl="[^"+Eo+Il+Al+Dl+xl+Sl+"]",mu="\\ud83c[\\udffb-\\udfff]",Rl="[^"+Eo+"]",bu="(?:\\ud83c[\\udde6-\\uddff]){2}",wu="[\\ud800-\\udbff][\\udc00-\\udfff]",zi="["+Sl+"]",Fl="(?:"+Cl+"|"+Tl+")",kv="(?:"+zi+"|"+Tl+")",jl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ll="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ul="(?:"+Do+"|"+mu+")?",Ml="["+Ol+"]?",Bl=Ml+Ul+"(?:\\u200d(?:"+[Rl,bu,wu].join("|")+")"+Ml+Ul+")*",Xv="(?:"+[qv,bu,wu].join("|")+")"+Bl,Qv="(?:"+[Rl+Do+"?",Do,bu,wu,Kv].join("|")+")",Zv=RegExp("['\u2019]","g"),e1=RegExp(Do,"g"),Eu=RegExp(mu+"(?="+mu+")|"+Qv+Bl,"g"),t1=RegExp([zi+"?"+Cl+"+"+jl+"(?="+[Pl,zi,"$"].join("|")+")",kv+"+"+Ll+"(?="+[Pl,zi+Fl,"$"].join("|")+")",zi+"?"+Fl+"+"+jl,zi+"+"+Ll,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Al,Xv].join("|"),"g"),r1=RegExp("[\\u200d"+Eo+El+Ol+"]"),n1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,i1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],s1=-1,Mt={};Mt[au]=Mt[uu]=Mt[cu]=Mt[fu]=Mt[lu]=Mt[hu]=Mt[du]=Mt[pu]=Mt[gu]=!0,Mt[Bi]=Mt[yo]=Mt[xs]=Mt[vs]=Mt[$i]=Mt[ms]=Mt[vo]=Mt[mo]=Mt[_n]=Mt[bs]=Mt[Ln]=Mt[ws]=Mt[yn]=Mt[Es]=Mt[Ds]=!1;var Lt={};Lt[Bi]=Lt[yo]=Lt[xs]=Lt[$i]=Lt[vs]=Lt[ms]=Lt[au]=Lt[uu]=Lt[cu]=Lt[fu]=Lt[lu]=Lt[_n]=Lt[bs]=Lt[Ln]=Lt[ws]=Lt[yn]=Lt[Es]=Lt[bo]=Lt[hu]=Lt[du]=Lt[pu]=Lt[gu]=!0,Lt[vo]=Lt[mo]=Lt[Ds]=!1;var c1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},f1=parseFloat,l1=parseInt,$l="object"==typeof ys&&ys&&ys.Object===Object&&ys,h1="object"==typeof self&&self&&self.Object===Object&&self,xr=$l||h1||Function("return this")(),Du=r&&!r.nodeType&&r,mi=Du&&a&&!a.nodeType&&a,zl=mi&&mi.exports===Du,xu=zl&&$l.process,en=function(){try{return mi&&mi.require&&mi.require("util").types||xu&&xu.binding&&xu.binding("util")}catch{}}(),Hl=en&&en.isArrayBuffer,Vl=en&&en.isDate,Kl=en&&en.isMap,ql=en&&en.isRegExp,Wl=en&&en.isSet,kl=en&&en.isTypedArray;function Vr(ne,ve,ge){switch(ge.length){case 0:return ne.call(ve);case 1:return ne.call(ve,ge[0]);case 2:return ne.call(ve,ge[0],ge[1]);case 3:return ne.call(ve,ge[0],ge[1],ge[2])}return ne.apply(ve,ge)}function d1(ne,ve,ge,je){for(var Ze=-1,St=null==ne?0:ne.length;++Ze<St;){var gr=ne[Ze];ve(je,gr,ge(gr),ne)}return je}function tn(ne,ve){for(var ge=-1,je=null==ne?0:ne.length;++ge<je&&!1!==ve(ne[ge],ge,ne););return ne}function p1(ne,ve){for(var ge=null==ne?0:ne.length;ge--&&!1!==ve(ne[ge],ge,ne););return ne}function Gl(ne,ve){for(var ge=-1,je=null==ne?0:ne.length;++ge<je;)if(!ve(ne[ge],ge,ne))return!1;return!0}function ti(ne,ve){for(var ge=-1,je=null==ne?0:ne.length,Ze=0,St=[];++ge<je;){var gr=ne[ge];ve(gr,ge,ne)&&(St[Ze++]=gr)}return St}function xo(ne,ve){return!(null==ne||!ne.length)&&Hi(ne,ve,0)>-1}function Su(ne,ve,ge){for(var je=-1,Ze=null==ne?0:ne.length;++je<Ze;)if(ge(ve,ne[je]))return!0;return!1}function Ht(ne,ve){for(var ge=-1,je=null==ne?0:ne.length,Ze=Array(je);++ge<je;)Ze[ge]=ve(ne[ge],ge,ne);return Ze}function ri(ne,ve){for(var ge=-1,je=ve.length,Ze=ne.length;++ge<je;)ne[Ze+ge]=ve[ge];return ne}function Ou(ne,ve,ge,je){var Ze=-1,St=null==ne?0:ne.length;for(je&&St&&(ge=ne[++Ze]);++Ze<St;)ge=ve(ge,ne[Ze],Ze,ne);return ge}function g1(ne,ve,ge,je){var Ze=null==ne?0:ne.length;for(je&&Ze&&(ge=ne[--Ze]);Ze--;)ge=ve(ge,ne[Ze],Ze,ne);return ge}function Iu(ne,ve){for(var ge=-1,je=null==ne?0:ne.length;++ge<je;)if(ve(ne[ge],ge,ne))return!0;return!1}var _1=Pu("length");function Jl(ne,ve,ge){var je;return ge(ne,function(Ze,St,gr){if(ve(Ze,St,gr))return je=St,!1}),je}function So(ne,ve,ge,je){for(var Ze=ne.length,St=ge+(je?1:-1);je?St--:++St<Ze;)if(ve(ne[St],St,ne))return St;return-1}function Hi(ne,ve,ge){return ve==ve?function C1(ne,ve,ge){for(var je=ge-1,Ze=ne.length;++je<Ze;)if(ne[je]===ve)return je;return-1}(ne,ve,ge):So(ne,Yl,ge)}function m1(ne,ve,ge,je){for(var Ze=ge-1,St=ne.length;++Ze<St;)if(je(ne[Ze],ve))return Ze;return-1}function Yl(ne){return ne!=ne}function Xl(ne,ve){var ge=null==ne?0:ne.length;return ge?Cu(ne,ve)/ge:NaN}function Pu(ne){return function(ve){return null==ve?t:ve[ne]}}function Au(ne){return function(ve){return null==ne?t:ne[ve]}}function Ql(ne,ve,ge,je,Ze){return Ze(ne,function(St,gr,Ft){ge=je?(je=!1,St):ve(ge,St,gr,Ft)}),ge}function Cu(ne,ve){for(var ge,je=-1,Ze=ne.length;++je<Ze;){var St=ve(ne[je]);St!==t&&(ge=ge===t?St:ge+St)}return ge}function Tu(ne,ve){for(var ge=-1,je=Array(ne);++ge<ne;)je[ge]=ve(ge);return je}function Zl(ne){return ne&&ne.slice(0,nh(ne)+1).replace(yu,"")}function Kr(ne){return function(ve){return ne(ve)}}function Ru(ne,ve){return Ht(ve,function(ge){return ne[ge]})}function Ss(ne,ve){return ne.has(ve)}function eh(ne,ve){for(var ge=-1,je=ne.length;++ge<je&&Hi(ve,ne[ge],0)>-1;);return ge}function th(ne,ve){for(var ge=ne.length;ge--&&Hi(ve,ne[ge],0)>-1;);return ge}function E1(ne,ve){for(var ge=ne.length,je=0;ge--;)ne[ge]===ve&&++je;return je}var D1=Au({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),x1=Au({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function S1(ne){return"\\"+c1[ne]}function Vi(ne){return r1.test(ne)}function Nu(ne){var ve=-1,ge=Array(ne.size);return ne.forEach(function(je,Ze){ge[++ve]=[Ze,je]}),ge}function rh(ne,ve){return function(ge){return ne(ve(ge))}}function ni(ne,ve){for(var ge=-1,je=ne.length,Ze=0,St=[];++ge<je;){var gr=ne[ge];(gr===ve||gr===de)&&(ne[ge]=de,St[Ze++]=ge)}return St}function Oo(ne){var ve=-1,ge=Array(ne.size);return ne.forEach(function(je){ge[++ve]=je}),ge}function Ki(ne){return Vi(ne)?function N1(ne){for(var ve=Eu.lastIndex=0;Eu.test(ne);)++ve;return ve}(ne):_1(ne)}function vn(ne){return Vi(ne)?function F1(ne){return ne.match(Eu)||[]}(ne):function y1(ne){return ne.split("")}(ne)}function nh(ne){for(var ve=ne.length;ve--&&Ev.test(ne.charAt(ve)););return ve}var R1=Au({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),qi=function ne(ve){var e,ge=(ve=null==ve?xr:qi.defaults(xr.Object(),ve,qi.pick(xr,i1))).Array,je=ve.Date,Ze=ve.Error,St=ve.Function,gr=ve.Math,Ft=ve.Object,Fu=ve.RegExp,U1=ve.String,rn=ve.TypeError,Io=ge.prototype,Wi=Ft.prototype,Po=ve["__core-js_shared__"],Ao=St.prototype.toString,At=Wi.hasOwnProperty,B1=0,ih=(e=/[^.]+$/.exec(Po&&Po.keys&&Po.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",Co=Wi.toString,$1=Ao.call(Ft),z1=xr._,H1=Fu("^"+Ao.call(At).replace(_u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),To=zl?ve.Buffer:t,ii=ve.Symbol,Ro=ve.Uint8Array,sh=To?To.allocUnsafe:t,No=rh(Ft.getPrototypeOf,Ft),oh=Ft.create,ah=Wi.propertyIsEnumerable,Fo=Io.splice,uh=ii?ii.isConcatSpreadable:t,Os=ii?ii.iterator:t,bi=ii?ii.toStringTag:t,jo=function(){try{var e=Si(Ft,"defineProperty");return e({},"",{}),e}catch{}}(),V1=ve.clearTimeout!==xr.clearTimeout&&ve.clearTimeout,K1=je&&je.now!==xr.Date.now&&je.now,q1=ve.setTimeout!==xr.setTimeout&&ve.setTimeout,Lo=gr.ceil,Uo=gr.floor,ju=Ft.getOwnPropertySymbols,W1=To?To.isBuffer:t,ch=ve.isFinite,k1=Io.join,G1=rh(Ft.keys,Ft),_r=gr.max,Ir=gr.min,J1=je.now,Y1=ve.parseInt,fh=gr.random,X1=Io.reverse,Lu=Si(ve,"DataView"),Is=Si(ve,"Map"),Uu=Si(ve,"Promise"),ki=Si(ve,"Set"),Ps=Si(ve,"WeakMap"),As=Si(Ft,"create"),Mo=Ps&&new Ps,Gi={},Q1=Oi(Lu),Z1=Oi(Is),em=Oi(Uu),tm=Oi(ki),rm=Oi(Ps),Bo=ii?ii.prototype:t,Cs=Bo?Bo.valueOf:t,lh=Bo?Bo.toString:t;function O(e){if(Jt(e)&&!et(e)&&!(e instanceof dt)){if(e instanceof nn)return e;if(At.call(e,"__wrapped__"))return hd(e)}return new nn(e)}var Ji=function(){function e(){}return function(n){if(!Kt(n))return{};if(oh)return oh(n);e.prototype=n;var o=new e;return e.prototype=t,o}}();function $o(){}function nn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}function dt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Sn,this.__views__=[]}function wi(e){var n=-1,o=null==e?0:e.length;for(this.clear();++n<o;){var d=e[n];this.set(d[0],d[1])}}function Un(e){var n=-1,o=null==e?0:e.length;for(this.clear();++n<o;){var d=e[n];this.set(d[0],d[1])}}function Mn(e){var n=-1,o=null==e?0:e.length;for(this.clear();++n<o;){var d=e[n];this.set(d[0],d[1])}}function Ei(e){var n=-1,o=null==e?0:e.length;for(this.__data__=new Mn;++n<o;)this.add(e[n])}function mn(e){var n=this.__data__=new Un(e);this.size=n.size}function hh(e,n){var o=et(e),d=!o&&Ii(e),E=!o&&!d&&ci(e),A=!o&&!d&&!E&&Zi(e),H=o||d||E||A,Q=H?Tu(e.length,U1):[],se=Q.length;for(var be in e)(n||At.call(e,be))&&(!H||!("length"==be||E&&("offset"==be||"parent"==be)||A&&("buffer"==be||"byteLength"==be||"byteOffset"==be)||Hn(be,se)))&&Q.push(be);return Q}function dh(e){var n=e.length;return n?e[Gu(0,n-1)]:t}function Pm(e,n){return ea(Lr(e),Di(n,0,e.length))}function Am(e){return ea(Lr(e))}function Mu(e,n,o){(o!==t&&!bn(e[n],o)||o===t&&!(n in e))&&Bn(e,n,o)}function Ts(e,n,o){var d=e[n];(!At.call(e,n)||!bn(d,o)||o===t&&!(n in e))&&Bn(e,n,o)}function zo(e,n){for(var o=e.length;o--;)if(bn(e[o][0],n))return o;return-1}function Cm(e,n,o,d){return si(e,function(E,A,H){n(d,E,o(E),H)}),d}function ph(e,n){return e&&In(n,br(n),e)}function Bn(e,n,o){"__proto__"==n&&jo?jo(e,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[n]=o}function Bu(e,n){for(var o=-1,d=n.length,E=ge(d),A=null==e;++o<d;)E[o]=A?t:mc(e,n[o]);return E}function Di(e,n,o){return e==e&&(o!==t&&(e=e<=o?e:o),n!==t&&(e=e>=n?e:n)),e}function sn(e,n,o,d,E,A){var H,Q=1&n,se=2&n,be=4&n;if(o&&(H=E?o(e,d,E,A):o(e)),H!==t)return H;if(!Kt(e))return e;var we=et(e);if(we){if(H=function mb(e){var n=e.length,o=new e.constructor(n);return n&&"string"==typeof e[0]&&At.call(e,"index")&&(o.index=e.index,o.input=e.input),o}(e),!Q)return Lr(e,H)}else{var Ie=Pr(e),Re=Ie==mo||Ie==_l;if(ci(e))return Mh(e,Q);if(Ie==Ln||Ie==Bi||Re&&!E){if(H=se||Re?{}:nd(e),!Q)return se?function ub(e,n){return In(e,td(e),n)}(e,function Tm(e,n){return e&&In(n,Mr(n),e)}(H,e)):function ab(e,n){return In(e,uc(e),n)}(e,ph(H,e))}else{if(!Lt[Ie])return E?e:{};H=function bb(e,n,o){var d=e.constructor;switch(n){case xs:return tc(e);case vs:case ms:return new d(+e);case $i:return function nb(e,n){var o=n?tc(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}(e,o);case au:case uu:case cu:case fu:case lu:case hu:case du:case pu:case gu:return Bh(e,o);case _n:return new d;case bs:case Es:return new d(e);case ws:return function ib(e){var n=new e.constructor(e.source,wl.exec(e));return n.lastIndex=e.lastIndex,n}(e);case yn:return new d;case bo:return function sb(e){return Cs?Ft(Cs.call(e)):{}}(e)}}(e,Ie,Q)}}A||(A=new mn);var Be=A.get(e);if(Be)return Be;A.set(e,H),Rd(e)?e.forEach(function(qe){H.add(sn(qe,n,o,qe,e,A))}):Cd(e)&&e.forEach(function(qe,lt){H.set(lt,sn(qe,n,o,lt,e,A))});var it=we?t:(be?se?sc:ic:se?Mr:br)(e);return tn(it||e,function(qe,lt){it&&(qe=e[lt=qe]),Ts(H,lt,sn(qe,n,o,lt,e,A))}),H}function gh(e,n,o){var d=o.length;if(null==e)return!d;for(e=Ft(e);d--;){var E=o[d],H=e[E];if(H===t&&!(E in e)||!(0,n[E])(H))return!1}return!0}function _h(e,n,o){if("function"!=typeof e)throw new rn(g);return Ms(function(){e.apply(t,o)},n)}function Rs(e,n,o,d){var E=-1,A=xo,H=!0,Q=e.length,se=[],be=n.length;if(!Q)return se;o&&(n=Ht(n,Kr(o))),d?(A=Su,H=!1):n.length>=200&&(A=Ss,H=!1,n=new Ei(n));e:for(;++E<Q;){var we=e[E],Ie=null==o?we:o(we);if(we=d||0!==we?we:0,H&&Ie==Ie){for(var Re=be;Re--;)if(n[Re]===Ie)continue e;se.push(we)}else A(n,Ie,d)||se.push(we)}return se}O.templateSettings={escape:_v,evaluate:yv,interpolate:bl,variable:"",imports:{_:O}},(O.prototype=$o.prototype).constructor=O,(nn.prototype=Ji($o.prototype)).constructor=nn,(dt.prototype=Ji($o.prototype)).constructor=dt,wi.prototype.clear=function om(){this.__data__=As?As(null):{},this.size=0},wi.prototype.delete=function am(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},wi.prototype.get=function um(e){var n=this.__data__;if(As){var o=n[e];return o===X?t:o}return At.call(n,e)?n[e]:t},wi.prototype.has=function cm(e){var n=this.__data__;return As?n[e]!==t:At.call(n,e)},wi.prototype.set=function fm(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=As&&n===t?X:n,this},Un.prototype.clear=function lm(){this.__data__=[],this.size=0},Un.prototype.delete=function hm(e){var n=this.__data__,o=zo(n,e);return!(o<0||(o==n.length-1?n.pop():Fo.call(n,o,1),--this.size,0))},Un.prototype.get=function dm(e){var n=this.__data__,o=zo(n,e);return o<0?t:n[o][1]},Un.prototype.has=function pm(e){return zo(this.__data__,e)>-1},Un.prototype.set=function gm(e,n){var o=this.__data__,d=zo(o,e);return d<0?(++this.size,o.push([e,n])):o[d][1]=n,this},Mn.prototype.clear=function _m(){this.size=0,this.__data__={hash:new wi,map:new(Is||Un),string:new wi}},Mn.prototype.delete=function ym(e){var n=Zo(this,e).delete(e);return this.size-=n?1:0,n},Mn.prototype.get=function vm(e){return Zo(this,e).get(e)},Mn.prototype.has=function mm(e){return Zo(this,e).has(e)},Mn.prototype.set=function bm(e,n){var o=Zo(this,e),d=o.size;return o.set(e,n),this.size+=o.size==d?0:1,this},Ei.prototype.add=Ei.prototype.push=function wm(e){return this.__data__.set(e,X),this},Ei.prototype.has=function Em(e){return this.__data__.has(e)},mn.prototype.clear=function Dm(){this.__data__=new Un,this.size=0},mn.prototype.delete=function xm(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o},mn.prototype.get=function Sm(e){return this.__data__.get(e)},mn.prototype.has=function Om(e){return this.__data__.has(e)},mn.prototype.set=function Im(e,n){var o=this.__data__;if(o instanceof Un){var d=o.__data__;if(!Is||d.length<199)return d.push([e,n]),this.size=++o.size,this;o=this.__data__=new Mn(d)}return o.set(e,n),this.size=o.size,this};var si=Vh(On),yh=Vh(zu,!0);function Nm(e,n){var o=!0;return si(e,function(d,E,A){return o=!!n(d,E,A)}),o}function Ho(e,n,o){for(var d=-1,E=e.length;++d<E;){var A=e[d],H=n(A);if(null!=H&&(Q===t?H==H&&!Wr(H):o(H,Q)))var Q=H,se=A}return se}function vh(e,n){var o=[];return si(e,function(d,E,A){n(d,E,A)&&o.push(d)}),o}function Sr(e,n,o,d,E){var A=-1,H=e.length;for(o||(o=Eb),E||(E=[]);++A<H;){var Q=e[A];n>0&&o(Q)?n>1?Sr(Q,n-1,o,d,E):ri(E,Q):d||(E[E.length]=Q)}return E}var $u=Kh(),mh=Kh(!0);function On(e,n){return e&&$u(e,n,br)}function zu(e,n){return e&&mh(e,n,br)}function Vo(e,n){return ti(n,function(o){return Vn(e[o])})}function xi(e,n){for(var o=0,d=(n=ai(n,e)).length;null!=e&&o<d;)e=e[Pn(n[o++])];return o&&o==d?e:t}function bh(e,n,o){var d=n(e);return et(e)?d:ri(d,o(e))}function Tr(e){return null==e?e===t?"[object Undefined]":"[object Null]":bi&&bi in Ft(e)?function _b(e){var n=At.call(e,bi),o=e[bi];try{e[bi]=t;var d=!0}catch{}var E=Co.call(e);return d&&(n?e[bi]=o:delete e[bi]),E}(e):function Ab(e){return Co.call(e)}(e)}function Hu(e,n){return e>n}function jm(e,n){return null!=e&&At.call(e,n)}function Lm(e,n){return null!=e&&n in Ft(e)}function Vu(e,n,o){for(var d=o?Su:xo,E=e[0].length,A=e.length,H=A,Q=ge(A),se=1/0,be=[];H--;){var we=e[H];H&&n&&(we=Ht(we,Kr(n))),se=Ir(we.length,se),Q[H]=!o&&(n||E>=120&&we.length>=120)?new Ei(H&&we):t}we=e[0];var Ie=-1,Re=Q[0];e:for(;++Ie<E&&be.length<se;){var Be=we[Ie],Ke=n?n(Be):Be;if(Be=o||0!==Be?Be:0,!(Re?Ss(Re,Ke):d(be,Ke,o))){for(H=A;--H;){var it=Q[H];if(!(it?Ss(it,Ke):d(e[H],Ke,o)))continue e}Re&&Re.push(Ke),be.push(Be)}}return be}function Ns(e,n,o){var d=null==(e=ad(e,n=ai(n,e)))?e:e[Pn(an(n))];return null==d?t:Vr(d,e,o)}function wh(e){return Jt(e)&&Tr(e)==Bi}function Fs(e,n,o,d,E){return e===n||(null==e||null==n||!Jt(e)&&!Jt(n)?e!=e&&n!=n:function zm(e,n,o,d,E,A){var H=et(e),Q=et(n),se=H?yo:Pr(e),be=Q?yo:Pr(n),we=(se=se==Bi?Ln:se)==Ln,Ie=(be=be==Bi?Ln:be)==Ln,Re=se==be;if(Re&&ci(e)){if(!ci(n))return!1;H=!0,we=!1}if(Re&&!we)return A||(A=new mn),H||Zi(e)?ed(e,n,o,d,E,A):function pb(e,n,o,d,E,A,H){switch(o){case $i:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case xs:return!(e.byteLength!=n.byteLength||!A(new Ro(e),new Ro(n)));case vs:case ms:case bs:return bn(+e,+n);case vo:return e.name==n.name&&e.message==n.message;case ws:case Es:return e==n+"";case _n:var Q=Nu;case yn:if(Q||(Q=Oo),e.size!=n.size&&!(1&d))return!1;var be=H.get(e);if(be)return be==n;d|=2,H.set(e,n);var we=ed(Q(e),Q(n),d,E,A,H);return H.delete(e),we;case bo:if(Cs)return Cs.call(e)==Cs.call(n)}return!1}(e,n,se,o,d,E,A);if(!(1&o)){var Be=we&&At.call(e,"__wrapped__"),Ke=Ie&&At.call(n,"__wrapped__");if(Be||Ke){var it=Be?e.value():e,qe=Ke?n.value():n;return A||(A=new mn),E(it,qe,o,d,A)}}return!!Re&&(A||(A=new mn),function gb(e,n,o,d,E,A){var H=1&o,Q=ic(e),se=Q.length;if(se!=ic(n).length&&!H)return!1;for(var Ie=se;Ie--;){var Re=Q[Ie];if(!(H?Re in n:At.call(n,Re)))return!1}var Be=A.get(e),Ke=A.get(n);if(Be&&Ke)return Be==n&&Ke==e;var it=!0;A.set(e,n),A.set(n,e);for(var qe=H;++Ie<se;){var lt=e[Re=Q[Ie]],yt=n[Re];if(d)var kr=H?d(yt,lt,Re,n,e,A):d(lt,yt,Re,e,n,A);if(!(kr===t?lt===yt||E(lt,yt,o,d,A):kr)){it=!1;break}qe||(qe="constructor"==Re)}if(it&&!qe){var Nr=e.constructor,Gr=n.constructor;Nr!=Gr&&"constructor"in e&&"constructor"in n&&!("function"==typeof Nr&&Nr instanceof Nr&&"function"==typeof Gr&&Gr instanceof Gr)&&(it=!1)}return A.delete(e),A.delete(n),it}(e,n,o,d,E,A))}(e,n,o,d,Fs,E))}function Ku(e,n,o,d){var E=o.length,A=E,H=!d;if(null==e)return!A;for(e=Ft(e);E--;){var Q=o[E];if(H&&Q[2]?Q[1]!==e[Q[0]]:!(Q[0]in e))return!1}for(;++E<A;){var se=(Q=o[E])[0],be=e[se],we=Q[1];if(H&&Q[2]){if(be===t&&!(se in e))return!1}else{var Ie=new mn;if(d)var Re=d(be,we,se,e,n,Ie);if(!(Re===t?Fs(we,be,3,d,Ie):Re))return!1}}return!0}function Eh(e){return!(!Kt(e)||function xb(e){return!!ih&&ih in e}(e))&&(Vn(e)?H1:Rv).test(Oi(e))}function Dh(e){return"function"==typeof e?e:null==e?Br:"object"==typeof e?et(e)?Oh(e[0],e[1]):Sh(e):qd(e)}function qu(e){if(!Us(e))return G1(e);var n=[];for(var o in Ft(e))At.call(e,o)&&"constructor"!=o&&n.push(o);return n}function Wu(e,n){return e<n}function xh(e,n){var o=-1,d=Ur(e)?ge(e.length):[];return si(e,function(E,A,H){d[++o]=n(E,A,H)}),d}function Sh(e){var n=ac(e);return 1==n.length&&n[0][2]?sd(n[0][0],n[0][1]):function(o){return o===e||Ku(o,e,n)}}function Oh(e,n){return cc(e)&&id(n)?sd(Pn(e),n):function(o){var d=mc(o,e);return d===t&&d===n?bc(o,e):Fs(n,d,3)}}function Ko(e,n,o,d,E){e!==n&&$u(n,function(A,H){if(E||(E=new mn),Kt(A))!function km(e,n,o,d,E,A,H){var Q=lc(e,o),se=lc(n,o),be=H.get(se);if(be)Mu(e,o,be);else{var we=A?A(Q,se,o+"",e,n,H):t,Ie=we===t;if(Ie){var Re=et(se),Be=!Re&&ci(se),Ke=!Re&&!Be&&Zi(se);we=se,Re||Be||Ke?et(Q)?we=Q:nr(Q)?we=Lr(Q):Be?(Ie=!1,we=Mh(se,!0)):Ke?(Ie=!1,we=Bh(se,!0)):we=[]:Bs(se)||Ii(se)?(we=Q,Ii(Q)?we=jd(Q):(!Kt(Q)||Vn(Q))&&(we=nd(se))):Ie=!1}Ie&&(H.set(se,we),E(we,se,d,A,H),H.delete(se)),Mu(e,o,we)}}(e,n,H,o,Ko,d,E);else{var Q=d?d(lc(e,H),A,H+"",e,n,E):t;Q===t&&(Q=A),Mu(e,H,Q)}},Mr)}function Ih(e,n){var o=e.length;if(o)return Hn(n+=n<0?o:0,o)?e[n]:t}function Ph(e,n,o){n=n.length?Ht(n,function(A){return et(A)?function(H){return xi(H,1===A.length?A[0]:A)}:A}):[Br];var d=-1;return n=Ht(n,Kr(Ve())),function b1(ne,ve){var ge=ne.length;for(ne.sort(ve);ge--;)ne[ge]=ne[ge].value;return ne}(xh(e,function(A,H,Q){return{criteria:Ht(n,function(be){return be(A)}),index:++d,value:A}}),function(A,H){return function ob(e,n,o){for(var d=-1,E=e.criteria,A=n.criteria,H=E.length,Q=o.length;++d<H;){var se=$h(E[d],A[d]);if(se)return d>=Q?se:se*("desc"==o[d]?-1:1)}return e.index-n.index}(A,H,o)})}function Ah(e,n,o){for(var d=-1,E=n.length,A={};++d<E;){var H=n[d],Q=xi(e,H);o(Q,H)&&js(A,ai(H,e),Q)}return A}function ku(e,n,o,d){var E=d?m1:Hi,A=-1,H=n.length,Q=e;for(e===n&&(n=Lr(n)),o&&(Q=Ht(e,Kr(o)));++A<H;)for(var se=0,be=n[A],we=o?o(be):be;(se=E(Q,we,se,d))>-1;)Q!==e&&Fo.call(Q,se,1),Fo.call(e,se,1);return e}function Ch(e,n){for(var o=e?n.length:0,d=o-1;o--;){var E=n[o];if(o==d||E!==A){var A=E;Hn(E)?Fo.call(e,E,1):Xu(e,E)}}return e}function Gu(e,n){return e+Uo(fh()*(n-e+1))}function Ju(e,n){var o="";if(!e||n<1||n>ei)return o;do{n%2&&(o+=e),(n=Uo(n/2))&&(e+=e)}while(n);return o}function ot(e,n){return hc(od(e,n,Br),e+"")}function Xm(e){return dh(es(e))}function Qm(e,n){var o=es(e);return ea(o,Di(n,0,o.length))}function js(e,n,o,d){if(!Kt(e))return e;for(var E=-1,A=(n=ai(n,e)).length,H=A-1,Q=e;null!=Q&&++E<A;){var se=Pn(n[E]),be=o;if("__proto__"===se||"constructor"===se||"prototype"===se)return e;if(E!=H){var we=Q[se];(be=d?d(we,se,Q):t)===t&&(be=Kt(we)?we:Hn(n[E+1])?[]:{})}Ts(Q,se,be),Q=Q[se]}return e}var Th=Mo?function(e,n){return Mo.set(e,n),e}:Br,Zm=jo?function(e,n){return jo(e,"toString",{configurable:!0,enumerable:!1,value:Ec(n),writable:!0})}:Br;function eb(e){return ea(es(e))}function on(e,n,o){var d=-1,E=e.length;n<0&&(n=-n>E?0:E+n),(o=o>E?E:o)<0&&(o+=E),E=n>o?0:o-n>>>0,n>>>=0;for(var A=ge(E);++d<E;)A[d]=e[d+n];return A}function tb(e,n){var o;return si(e,function(d,E,A){return!(o=n(d,E,A))}),!!o}function qo(e,n,o){var d=0,E=null==e?d:e.length;if("number"==typeof n&&n==n&&E<=2147483647){for(;d<E;){var A=d+E>>>1,H=e[A];null!==H&&!Wr(H)&&(o?H<=n:H<n)?d=A+1:E=A}return E}return Yu(e,n,Br,o)}function Yu(e,n,o,d){var E=0,A=null==e?0:e.length;if(0===A)return 0;for(var H=(n=o(n))!=n,Q=null===n,se=Wr(n),be=n===t;E<A;){var we=Uo((E+A)/2),Ie=o(e[we]),Re=Ie!==t,Be=null===Ie,Ke=Ie==Ie,it=Wr(Ie);if(H)var qe=d||Ke;else qe=be?Ke&&(d||Re):Q?Ke&&Re&&(d||!Be):se?Ke&&Re&&!Be&&(d||!it):!Be&&!it&&(d?Ie<=n:Ie<n);qe?E=we+1:A=we}return Ir(A,4294967294)}function Rh(e,n){for(var o=-1,d=e.length,E=0,A=[];++o<d;){var H=e[o],Q=n?n(H):H;if(!o||!bn(Q,se)){var se=Q;A[E++]=0===H?0:H}}return A}function Nh(e){return"number"==typeof e?e:Wr(e)?NaN:+e}function qr(e){if("string"==typeof e)return e;if(et(e))return Ht(e,qr)+"";if(Wr(e))return lh?lh.call(e):"";var n=e+"";return"0"==n&&1/e==-vi?"-0":n}function oi(e,n,o){var d=-1,E=xo,A=e.length,H=!0,Q=[],se=Q;if(o)H=!1,E=Su;else if(A>=200){var be=n?null:hb(e);if(be)return Oo(be);H=!1,E=Ss,se=new Ei}else se=n?[]:Q;e:for(;++d<A;){var we=e[d],Ie=n?n(we):we;if(we=o||0!==we?we:0,H&&Ie==Ie){for(var Re=se.length;Re--;)if(se[Re]===Ie)continue e;n&&se.push(Ie),Q.push(we)}else E(se,Ie,o)||(se!==Q&&se.push(Ie),Q.push(we))}return Q}function Xu(e,n){return null==(e=ad(e,n=ai(n,e)))||delete e[Pn(an(n))]}function Fh(e,n,o,d){return js(e,n,o(xi(e,n)),d)}function Wo(e,n,o,d){for(var E=e.length,A=d?E:-1;(d?A--:++A<E)&&n(e[A],A,e););return o?on(e,d?0:A,d?A+1:E):on(e,d?A+1:0,d?E:A)}function jh(e,n){var o=e;return o instanceof dt&&(o=o.value()),Ou(n,function(d,E){return E.func.apply(E.thisArg,ri([d],E.args))},o)}function Qu(e,n,o){var d=e.length;if(d<2)return d?oi(e[0]):[];for(var E=-1,A=ge(d);++E<d;)for(var H=e[E],Q=-1;++Q<d;)Q!=E&&(A[E]=Rs(A[E]||H,e[Q],n,o));return oi(Sr(A,1),n,o)}function Lh(e,n,o){for(var d=-1,E=e.length,A=n.length,H={};++d<E;)o(H,e[d],d<A?n[d]:t);return H}function Zu(e){return nr(e)?e:[]}function ec(e){return"function"==typeof e?e:Br}function ai(e,n){return et(e)?e:cc(e,n)?[e]:ld(It(e))}var rb=ot;function ui(e,n,o){var d=e.length;return o=o===t?d:o,!n&&o>=d?e:on(e,n,o)}var Uh=V1||function(e){return xr.clearTimeout(e)};function Mh(e,n){if(n)return e.slice();var o=e.length,d=sh?sh(o):new e.constructor(o);return e.copy(d),d}function tc(e){var n=new e.constructor(e.byteLength);return new Ro(n).set(new Ro(e)),n}function Bh(e,n){var o=n?tc(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function $h(e,n){if(e!==n){var o=e!==t,d=null===e,E=e==e,A=Wr(e),H=n!==t,Q=null===n,se=n==n,be=Wr(n);if(!Q&&!be&&!A&&e>n||A&&H&&se&&!Q&&!be||d&&H&&se||!o&&se||!E)return 1;if(!d&&!A&&!be&&e<n||be&&o&&E&&!d&&!A||Q&&o&&E||!H&&E||!se)return-1}return 0}function zh(e,n,o,d){for(var E=-1,A=e.length,H=o.length,Q=-1,se=n.length,be=_r(A-H,0),we=ge(se+be),Ie=!d;++Q<se;)we[Q]=n[Q];for(;++E<H;)(Ie||E<A)&&(we[o[E]]=e[E]);for(;be--;)we[Q++]=e[E++];return we}function Hh(e,n,o,d){for(var E=-1,A=e.length,H=-1,Q=o.length,se=-1,be=n.length,we=_r(A-Q,0),Ie=ge(we+be),Re=!d;++E<we;)Ie[E]=e[E];for(var Be=E;++se<be;)Ie[Be+se]=n[se];for(;++H<Q;)(Re||E<A)&&(Ie[Be+o[H]]=e[E++]);return Ie}function Lr(e,n){var o=-1,d=e.length;for(n||(n=ge(d));++o<d;)n[o]=e[o];return n}function In(e,n,o,d){var E=!o;o||(o={});for(var A=-1,H=n.length;++A<H;){var Q=n[A],se=d?d(o[Q],e[Q],Q,o,e):t;se===t&&(se=e[Q]),E?Bn(o,Q,se):Ts(o,Q,se)}return o}function ko(e,n){return function(o,d){var E=et(o)?d1:Cm,A=n?n():{};return E(o,e,Ve(d,2),A)}}function Yi(e){return ot(function(n,o){var d=-1,E=o.length,A=E>1?o[E-1]:t,H=E>2?o[2]:t;for(A=e.length>3&&"function"==typeof A?(E--,A):t,H&&Rr(o[0],o[1],H)&&(A=E<3?t:A,E=1),n=Ft(n);++d<E;){var Q=o[d];Q&&e(n,Q,d,A)}return n})}function Vh(e,n){return function(o,d){if(null==o)return o;if(!Ur(o))return e(o,d);for(var E=o.length,A=n?E:-1,H=Ft(o);(n?A--:++A<E)&&!1!==d(H[A],A,H););return o}}function Kh(e){return function(n,o,d){for(var E=-1,A=Ft(n),H=d(n),Q=H.length;Q--;){var se=H[e?Q:++E];if(!1===o(A[se],se,A))break}return n}}function qh(e){return function(n){var o=Vi(n=It(n))?vn(n):t,d=o?o[0]:n.charAt(0),E=o?ui(o,1).join(""):n.slice(1);return d[e]()+E}}function Xi(e){return function(n){return Ou(Vd(Hd(n).replace(Zv,"")),e,"")}}function Ls(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var o=Ji(e.prototype),d=e.apply(o,n);return Kt(d)?d:o}}function Wh(e){return function(n,o,d){var E=Ft(n);if(!Ur(n)){var A=Ve(o,3);n=br(n),o=function(Q){return A(E[Q],Q,E)}}var H=e(n,o,d);return H>-1?E[A?n[H]:H]:t}}function kh(e){return zn(function(n){var o=n.length,d=o,E=nn.prototype.thru;for(e&&n.reverse();d--;){var A=n[d];if("function"!=typeof A)throw new rn(g);if(E&&!H&&"wrapper"==Qo(A))var H=new nn([],!0)}for(d=H?d:o;++d<o;){var Q=Qo(A=n[d]),se="wrapper"==Q?oc(A):t;H=se&&fc(se[0])&&424==se[1]&&!se[4].length&&1==se[9]?H[Qo(se[0])].apply(H,se[3]):1==A.length&&fc(A)?H[Q]():H.thru(A)}return function(){var be=arguments,we=be[0];if(H&&1==be.length&&et(we))return H.plant(we).value();for(var Ie=0,Re=o?n[Ie].apply(this,be):we;++Ie<o;)Re=n[Ie].call(this,Re);return Re}})}function Go(e,n,o,d,E,A,H,Q,se,be){var we=128&n,Ie=1&n,Re=2&n,Be=24&n,Ke=512&n,it=Re?t:Ls(e);return function qe(){for(var lt=arguments.length,yt=ge(lt),kr=lt;kr--;)yt[kr]=arguments[kr];if(Be)var Nr=Qi(qe),Gr=E1(yt,Nr);if(d&&(yt=zh(yt,d,E,Be)),A&&(yt=Hh(yt,A,H,Be)),lt-=Gr,Be&&lt<be){var ir=ni(yt,Nr);return Yh(e,n,Go,qe.placeholder,o,yt,ir,Q,se,be-lt)}var wn=Ie?o:this,qn=Re?wn[e]:e;return lt=yt.length,Q?yt=Cb(yt,Q):Ke&&lt>1&&yt.reverse(),we&&se<lt&&(yt.length=se),this&&this!==xr&&this instanceof qe&&(qn=it||Ls(qn)),qn.apply(wn,yt)}}function Gh(e,n){return function(o,d){return function Mm(e,n,o,d){return On(e,function(E,A,H){n(d,o(E),A,H)}),d}(o,e,n(d),{})}}function Jo(e,n){return function(o,d){var E;if(o===t&&d===t)return n;if(o!==t&&(E=o),d!==t){if(E===t)return d;"string"==typeof o||"string"==typeof d?(o=qr(o),d=qr(d)):(o=Nh(o),d=Nh(d)),E=e(o,d)}return E}}function rc(e){return zn(function(n){return n=Ht(n,Kr(Ve())),ot(function(o){var d=this;return e(n,function(E){return Vr(E,d,o)})})})}function Yo(e,n){var o=(n=n===t?" ":qr(n)).length;if(o<2)return o?Ju(n,e):n;var d=Ju(n,Lo(e/Ki(n)));return Vi(n)?ui(vn(d),0,e).join(""):d.slice(0,e)}function Jh(e){return function(n,o,d){return d&&"number"!=typeof d&&Rr(n,o,d)&&(o=d=t),n=Kn(n),o===t?(o=n,n=0):o=Kn(o),function Ym(e,n,o,d){for(var E=-1,A=_r(Lo((n-e)/(o||1)),0),H=ge(A);A--;)H[d?A:++E]=e,e+=o;return H}(n,o,d=d===t?n<o?1:-1:Kn(d),e)}}function Xo(e){return function(n,o){return"string"==typeof n&&"string"==typeof o||(n=un(n),o=un(o)),e(n,o)}}function Yh(e,n,o,d,E,A,H,Q,se,be){var we=8&n;n|=we?32:64,4&(n&=~(we?64:32))||(n&=-4);var it=[e,n,E,we?A:t,we?H:t,we?t:A,we?t:H,Q,se,be],qe=o.apply(t,it);return fc(e)&&ud(qe,it),qe.placeholder=d,cd(qe,e,n)}function nc(e){var n=gr[e];return function(o,d){if(o=un(o),(d=null==d?0:Ir(rt(d),292))&&ch(o)){var E=(It(o)+"e").split("e");return+((E=(It(n(E[0]+"e"+(+E[1]+d)))+"e").split("e"))[0]+"e"+(+E[1]-d))}return n(o)}}var hb=ki&&1/Oo(new ki([,-0]))[1]==vi?function(e){return new ki(e)}:Sc;function Xh(e){return function(n){var o=Pr(n);return o==_n?Nu(n):o==yn?function A1(ne){var ve=-1,ge=Array(ne.size);return ne.forEach(function(je){ge[++ve]=[je,je]}),ge}(n):function w1(ne,ve){return Ht(ve,function(ge){return[ge,ne[ge]]})}(n,e(n))}}function $n(e,n,o,d,E,A,H,Q){var se=2&n;if(!se&&"function"!=typeof e)throw new rn(g);var be=d?d.length:0;if(be||(n&=-97,d=E=t),H=H===t?H:_r(rt(H),0),Q=Q===t?Q:rt(Q),be-=E?E.length:0,64&n){var we=d,Ie=E;d=E=t}var Re=se?t:oc(e),Be=[e,n,o,d,E,we,Ie,A,H,Q];if(Re&&function Ib(e,n){var o=e[1],d=n[1],E=o|d;if(!(E<131||(128==d&&8==o||128==d&&256==o&&e[7].length<=n[8]||384==d&&n[7].length<=n[8]&&8==o)))return e;1&d&&(e[2]=n[2],E|=1&o?0:4);var Q=n[3];if(Q){var se=e[3];e[3]=se?zh(se,Q,n[4]):Q,e[4]=se?ni(e[3],de):n[4]}(Q=n[5])&&(e[5]=(se=e[5])?Hh(se,Q,n[6]):Q,e[6]=se?ni(e[5],de):n[6]),(Q=n[7])&&(e[7]=Q),128&d&&(e[8]=null==e[8]?n[8]:Ir(e[8],n[8])),null==e[9]&&(e[9]=n[9]),e[0]=n[0],e[1]=E}(Be,Re),e=Be[0],n=Be[1],o=Be[2],d=Be[3],E=Be[4],!(Q=Be[9]=Be[9]===t?se?0:e.length:_r(Be[9]-be,0))&&24&n&&(n&=-25),n&&1!=n)Ke=8==n||16==n?function fb(e,n,o){var d=Ls(e);return function E(){for(var A=arguments.length,H=ge(A),Q=A,se=Qi(E);Q--;)H[Q]=arguments[Q];var be=A<3&&H[0]!==se&&H[A-1]!==se?[]:ni(H,se);return(A-=be.length)<o?Yh(e,n,Go,E.placeholder,t,H,be,t,t,o-A):Vr(this&&this!==xr&&this instanceof E?d:e,this,H)}}(e,n,Q):32!=n&&33!=n||E.length?Go.apply(t,Be):function lb(e,n,o,d){var E=1&n,A=Ls(e);return function H(){for(var Q=-1,se=arguments.length,be=-1,we=d.length,Ie=ge(we+se),Re=this&&this!==xr&&this instanceof H?A:e;++be<we;)Ie[be]=d[be];for(;se--;)Ie[be++]=arguments[++Q];return Vr(Re,E?o:this,Ie)}}(e,n,o,d);else var Ke=function cb(e,n,o){var d=1&n,E=Ls(e);return function A(){return(this&&this!==xr&&this instanceof A?E:e).apply(d?o:this,arguments)}}(e,n,o);return cd((Re?Th:ud)(Ke,Be),e,n)}function Qh(e,n,o,d){return e===t||bn(e,Wi[o])&&!At.call(d,o)?n:e}function Zh(e,n,o,d,E,A){return Kt(e)&&Kt(n)&&(A.set(n,e),Ko(e,n,t,Zh,A),A.delete(n)),e}function db(e){return Bs(e)?t:e}function ed(e,n,o,d,E,A){var H=1&o,Q=e.length,se=n.length;if(Q!=se&&!(H&&se>Q))return!1;var be=A.get(e),we=A.get(n);if(be&&we)return be==n&&we==e;var Ie=-1,Re=!0,Be=2&o?new Ei:t;for(A.set(e,n),A.set(n,e);++Ie<Q;){var Ke=e[Ie],it=n[Ie];if(d)var qe=H?d(it,Ke,Ie,n,e,A):d(Ke,it,Ie,e,n,A);if(qe!==t){if(qe)continue;Re=!1;break}if(Be){if(!Iu(n,function(lt,yt){if(!Ss(Be,yt)&&(Ke===lt||E(Ke,lt,o,d,A)))return Be.push(yt)})){Re=!1;break}}else if(Ke!==it&&!E(Ke,it,o,d,A)){Re=!1;break}}return A.delete(e),A.delete(n),Re}function zn(e){return hc(od(e,t,gd),e+"")}function ic(e){return bh(e,br,uc)}function sc(e){return bh(e,Mr,td)}var oc=Mo?function(e){return Mo.get(e)}:Sc;function Qo(e){for(var n=e.name+"",o=Gi[n],d=At.call(Gi,n)?o.length:0;d--;){var E=o[d],A=E.func;if(null==A||A==e)return E.name}return n}function Qi(e){return(At.call(O,"placeholder")?O:e).placeholder}function Ve(){var e=O.iteratee||Dc;return e=e===Dc?Dh:e,arguments.length?e(arguments[0],arguments[1]):e}function Zo(e,n){var o=e.__data__;return function Db(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?o["string"==typeof n?"string":"hash"]:o.map}function ac(e){for(var n=br(e),o=n.length;o--;){var d=n[o],E=e[d];n[o]=[d,E,id(E)]}return n}function Si(e,n){var o=function O1(ne,ve){return null==ne?t:ne[ve]}(e,n);return Eh(o)?o:t}var uc=ju?function(e){return null==e?[]:(e=Ft(e),ti(ju(e),function(n){return ah.call(e,n)}))}:Oc,td=ju?function(e){for(var n=[];e;)ri(n,uc(e)),e=No(e);return n}:Oc,Pr=Tr;function rd(e,n,o){for(var d=-1,E=(n=ai(n,e)).length,A=!1;++d<E;){var H=Pn(n[d]);if(!(A=null!=e&&o(e,H)))break;e=e[H]}return A||++d!=E?A:!!(E=null==e?0:e.length)&&oa(E)&&Hn(H,E)&&(et(e)||Ii(e))}function nd(e){return"function"!=typeof e.constructor||Us(e)?{}:Ji(No(e))}function Eb(e){return et(e)||Ii(e)||!!(uh&&e&&e[uh])}function Hn(e,n){var o=typeof e;return!!(n=n??ei)&&("number"==o||"symbol"!=o&&Fv.test(e))&&e>-1&&e%1==0&&e<n}function Rr(e,n,o){if(!Kt(o))return!1;var d=typeof n;return!!("number"==d?Ur(o)&&Hn(n,o.length):"string"==d&&n in o)&&bn(o[n],e)}function cc(e,n){if(et(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!Wr(e))||mv.test(e)||!vv.test(e)||null!=n&&e in Ft(n)}function fc(e){var n=Qo(e),o=O[n];if("function"!=typeof o||!(n in dt.prototype))return!1;if(e===o)return!0;var d=oc(o);return!!d&&e===d[0]}(Lu&&Pr(new Lu(new ArrayBuffer(1)))!=$i||Is&&Pr(new Is)!=_n||Uu&&Pr(Uu.resolve())!=yl||ki&&Pr(new ki)!=yn||Ps&&Pr(new Ps)!=Ds)&&(Pr=function(e){var n=Tr(e),o=n==Ln?e.constructor:t,d=o?Oi(o):"";if(d)switch(d){case Q1:return $i;case Z1:return _n;case em:return yl;case tm:return yn;case rm:return Ds}return n});var Sb=Po?Vn:Ic;function Us(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||Wi)}function id(e){return e==e&&!Kt(e)}function sd(e,n){return function(o){return null!=o&&o[e]===n&&(n!==t||e in Ft(o))}}function od(e,n,o){return n=_r(n===t?e.length-1:n,0),function(){for(var d=arguments,E=-1,A=_r(d.length-n,0),H=ge(A);++E<A;)H[E]=d[n+E];E=-1;for(var Q=ge(n+1);++E<n;)Q[E]=d[E];return Q[n]=o(H),Vr(e,this,Q)}}function ad(e,n){return n.length<2?e:xi(e,on(n,0,-1))}function Cb(e,n){for(var o=e.length,d=Ir(n.length,o),E=Lr(e);d--;){var A=n[d];e[d]=Hn(A,o)?E[A]:t}return e}function lc(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]}var ud=fd(Th),Ms=q1||function(e,n){return xr.setTimeout(e,n)},hc=fd(Zm);function cd(e,n,o){var d=n+"";return hc(e,function wb(e,n){var o=n.length;if(!o)return e;var d=o-1;return n[d]=(o>1?"& ":"")+n[d],n=n.join(o>2?", ":" "),e.replace(Dv,"{\n/* [wrapped with "+n+"] */\n")}(d,function Tb(e,n){return tn(iv,function(o){var d="_."+o[0];n&o[1]&&!xo(e,d)&&e.push(d)}),e.sort()}(function vb(e){var n=e.match(xv);return n?n[1].split(Sv):[]}(d),o)))}function fd(e){var n=0,o=0;return function(){var d=J1(),E=16-(d-o);if(o=d,E>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(t,arguments)}}function ea(e,n){var o=-1,d=e.length,E=d-1;for(n=n===t?d:n;++o<n;){var A=Gu(o,E),H=e[A];e[A]=e[o],e[o]=H}return e.length=n,e}var ld=function Ob(e){var n=ia(e,function(d){return 500===o.size&&o.clear(),d}),o=n.cache;return n}(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(bv,function(o,d,E,A){n.push(E?A.replace(Pv,"$1"):d||o)}),n});function Pn(e){if("string"==typeof e||Wr(e))return e;var n=e+"";return"0"==n&&1/e==-vi?"-0":n}function Oi(e){if(null!=e){try{return Ao.call(e)}catch{}try{return e+""}catch{}}return""}function hd(e){if(e instanceof dt)return e.clone();var n=new nn(e.__wrapped__,e.__chain__);return n.__actions__=Lr(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}var jb=ot(function(e,n){return nr(e)?Rs(e,Sr(n,1,nr,!0)):[]}),Lb=ot(function(e,n){var o=an(n);return nr(o)&&(o=t),nr(e)?Rs(e,Sr(n,1,nr,!0),Ve(o,2)):[]}),Ub=ot(function(e,n){var o=an(n);return nr(o)&&(o=t),nr(e)?Rs(e,Sr(n,1,nr,!0),t,o):[]});function dd(e,n,o){var d=null==e?0:e.length;if(!d)return-1;var E=null==o?0:rt(o);return E<0&&(E=_r(d+E,0)),So(e,Ve(n,3),E)}function pd(e,n,o){var d=null==e?0:e.length;if(!d)return-1;var E=d-1;return o!==t&&(E=rt(o),E=o<0?_r(d+E,0):Ir(E,d-1)),So(e,Ve(n,3),E,!0)}function gd(e){return null!=e&&e.length?Sr(e,1):[]}function _d(e){return e&&e.length?e[0]:t}var Gb=ot(function(e){var n=Ht(e,Zu);return n.length&&n[0]===e[0]?Vu(n):[]}),Jb=ot(function(e){var n=an(e),o=Ht(e,Zu);return n===an(o)?n=t:o.pop(),o.length&&o[0]===e[0]?Vu(o,Ve(n,2)):[]}),Yb=ot(function(e){var n=an(e),o=Ht(e,Zu);return(n="function"==typeof n?n:t)&&o.pop(),o.length&&o[0]===e[0]?Vu(o,t,n):[]});function an(e){var n=null==e?0:e.length;return n?e[n-1]:t}var ew=ot(yd);function yd(e,n){return e&&e.length&&n&&n.length?ku(e,n):e}var nw=zn(function(e,n){var o=null==e?0:e.length,d=Bu(e,n);return Ch(e,Ht(n,function(E){return Hn(E,o)?+E:E}).sort($h)),d});function dc(e){return null==e?e:X1.call(e)}var mw=ot(function(e){return oi(Sr(e,1,nr,!0))}),bw=ot(function(e){var n=an(e);return nr(n)&&(n=t),oi(Sr(e,1,nr,!0),Ve(n,2))}),ww=ot(function(e){var n=an(e);return n="function"==typeof n?n:t,oi(Sr(e,1,nr,!0),t,n)});function pc(e){if(!e||!e.length)return[];var n=0;return e=ti(e,function(o){if(nr(o))return n=_r(o.length,n),!0}),Tu(n,function(o){return Ht(e,Pu(o))})}function vd(e,n){if(!e||!e.length)return[];var o=pc(e);return null==n?o:Ht(o,function(d){return Vr(n,t,d)})}var Sw=ot(function(e,n){return nr(e)?Rs(e,n):[]}),Ow=ot(function(e){return Qu(ti(e,nr))}),Iw=ot(function(e){var n=an(e);return nr(n)&&(n=t),Qu(ti(e,nr),Ve(n,2))}),Pw=ot(function(e){var n=an(e);return n="function"==typeof n?n:t,Qu(ti(e,nr),t,n)}),Aw=ot(pc),Rw=ot(function(e){var n=e.length,o=n>1?e[n-1]:t;return o="function"==typeof o?(e.pop(),o):t,vd(e,o)});function md(e){var n=O(e);return n.__chain__=!0,n}function ta(e,n){return n(e)}var Fw=zn(function(e){var n=e.length,o=n?e[0]:0,d=this.__wrapped__,E=function(A){return Bu(A,e)};return!(n>1||this.__actions__.length)&&d instanceof dt&&Hn(o)?((d=d.slice(o,+o+(n?1:0))).__actions__.push({func:ta,args:[E],thisArg:t}),new nn(d,this.__chain__).thru(function(A){return n&&!A.length&&A.push(t),A})):this.thru(E)}),Hw=ko(function(e,n,o){At.call(e,o)?++e[o]:Bn(e,o,1)}),qw=Wh(dd),Ww=Wh(pd);function bd(e,n){return(et(e)?tn:si)(e,Ve(n,3))}function wd(e,n){return(et(e)?p1:yh)(e,Ve(n,3))}var Yw=ko(function(e,n,o){At.call(e,o)?e[o].push(n):Bn(e,o,[n])}),Qw=ot(function(e,n,o){var d=-1,E="function"==typeof n,A=Ur(e)?ge(e.length):[];return si(e,function(H){A[++d]=E?Vr(n,H,o):Ns(H,n,o)}),A}),Zw=ko(function(e,n,o){Bn(e,o,n)});function ra(e,n){return(et(e)?Ht:xh)(e,Ve(n,3))}var tE=ko(function(e,n,o){e[o?0:1].push(n)},function(){return[[],[]]}),fE=ot(function(e,n){if(null==e)return[];var o=n.length;return o>1&&Rr(e,n[0],n[1])?n=[]:o>2&&Rr(n[0],n[1],n[2])&&(n=[n[0]]),Ph(e,Sr(n,1),[])}),na=K1||function(){return xr.Date.now()};function Ed(e,n,o){return n=o?t:n,$n(e,128,t,t,t,t,n=e&&null==n?e.length:n)}function Dd(e,n){var o;if("function"!=typeof n)throw new rn(g);return e=rt(e),function(){return--e>0&&(o=n.apply(this,arguments)),e<=1&&(n=t),o}}var gc=ot(function(e,n,o){var d=1;if(o.length){var E=ni(o,Qi(gc));d|=32}return $n(e,d,n,o,E)}),xd=ot(function(e,n,o){var d=3;if(o.length){var E=ni(o,Qi(xd));d|=32}return $n(n,d,e,o,E)});function Id(e,n,o){var d,E,A,H,Q,se,be=0,we=!1,Ie=!1,Re=!0;if("function"!=typeof e)throw new rn(g);function Be(ir){var wn=d,qn=E;return d=E=t,be=ir,H=e.apply(qn,wn)}function Ke(ir){return be=ir,Q=Ms(lt,n),we?Be(ir):H}function qe(ir){var wn=ir-se;return se===t||wn>=n||wn<0||Ie&&ir-be>=A}function lt(){var ir=na();if(qe(ir))return yt(ir);Q=Ms(lt,function it(ir){var Wd=n-(ir-se);return Ie?Ir(Wd,A-(ir-be)):Wd}(ir))}function yt(ir){return Q=t,Re&&d?Be(ir):(d=E=t,H)}function Gr(){var ir=na(),wn=qe(ir);if(d=arguments,E=this,se=ir,wn){if(Q===t)return Ke(se);if(Ie)return Uh(Q),Q=Ms(lt,n),Be(se)}return Q===t&&(Q=Ms(lt,n)),H}return n=un(n)||0,Kt(o)&&(we=!!o.leading,A=(Ie="maxWait"in o)?_r(un(o.maxWait)||0,n):A,Re="trailing"in o?!!o.trailing:Re),Gr.cancel=function kr(){Q!==t&&Uh(Q),be=0,d=se=E=Q=t},Gr.flush=function Nr(){return Q===t?H:yt(na())},Gr}var hE=ot(function(e,n){return _h(e,1,n)}),dE=ot(function(e,n,o){return _h(e,un(n)||0,o)});function ia(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new rn(g);var o=function(){var d=arguments,E=n?n.apply(this,d):d[0],A=o.cache;if(A.has(E))return A.get(E);var H=e.apply(this,d);return o.cache=A.set(E,H)||A,H};return o.cache=new(ia.Cache||Mn),o}function sa(e){if("function"!=typeof e)throw new rn(g);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}ia.Cache=Mn;var _E=rb(function(e,n){var o=(n=1==n.length&&et(n[0])?Ht(n[0],Kr(Ve())):Ht(Sr(n,1),Kr(Ve()))).length;return ot(function(d){for(var E=-1,A=Ir(d.length,o);++E<A;)d[E]=n[E].call(this,d[E]);return Vr(e,this,d)})}),_c=ot(function(e,n){var o=ni(n,Qi(_c));return $n(e,32,t,n,o)}),Pd=ot(function(e,n){var o=ni(n,Qi(Pd));return $n(e,64,t,n,o)}),yE=zn(function(e,n){return $n(e,256,t,t,t,n)});function bn(e,n){return e===n||e!=e&&n!=n}var AE=Xo(Hu),CE=Xo(function(e,n){return e>=n}),Ii=wh(function(){return arguments}())?wh:function(e){return Jt(e)&&At.call(e,"callee")&&!ah.call(e,"callee")},et=ge.isArray,TE=Hl?Kr(Hl):function Bm(e){return Jt(e)&&Tr(e)==xs};function Ur(e){return null!=e&&oa(e.length)&&!Vn(e)}function nr(e){return Jt(e)&&Ur(e)}var ci=W1||Ic,NE=Vl?Kr(Vl):function $m(e){return Jt(e)&&Tr(e)==ms};function yc(e){if(!Jt(e))return!1;var n=Tr(e);return n==vo||"[object DOMException]"==n||"string"==typeof e.message&&"string"==typeof e.name&&!Bs(e)}function Vn(e){if(!Kt(e))return!1;var n=Tr(e);return n==mo||n==_l||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Ad(e){return"number"==typeof e&&e==rt(e)}function oa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ei}function Kt(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function Jt(e){return null!=e&&"object"==typeof e}var Cd=Kl?Kr(Kl):function Hm(e){return Jt(e)&&Pr(e)==_n};function Td(e){return"number"==typeof e||Jt(e)&&Tr(e)==bs}function Bs(e){if(!Jt(e)||Tr(e)!=Ln)return!1;var n=No(e);if(null===n)return!0;var o=At.call(n,"constructor")&&n.constructor;return"function"==typeof o&&o instanceof o&&Ao.call(o)==$1}var vc=ql?Kr(ql):function Vm(e){return Jt(e)&&Tr(e)==ws},Rd=Wl?Kr(Wl):function Km(e){return Jt(e)&&Pr(e)==yn};function aa(e){return"string"==typeof e||!et(e)&&Jt(e)&&Tr(e)==Es}function Wr(e){return"symbol"==typeof e||Jt(e)&&Tr(e)==bo}var Zi=kl?Kr(kl):function qm(e){return Jt(e)&&oa(e.length)&&!!Mt[Tr(e)]},JE=Xo(Wu),YE=Xo(function(e,n){return e<=n});function Nd(e){if(!e)return[];if(Ur(e))return aa(e)?vn(e):Lr(e);if(Os&&e[Os])return function P1(ne){for(var ve,ge=[];!(ve=ne.next()).done;)ge.push(ve.value);return ge}(e[Os]());var n=Pr(e);return(n==_n?Nu:n==yn?Oo:es)(e)}function Kn(e){return e?(e=un(e))===vi||e===-vi?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rt(e){var n=Kn(e),o=n%1;return n==n?o?n-o:n:0}function Fd(e){return e?Di(rt(e),0,Sn):0}function un(e){if("number"==typeof e)return e;if(Wr(e))return NaN;if(Kt(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Kt(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=Zl(e);var o=Tv.test(e);return o||Nv.test(e)?l1(e.slice(2),o?2:8):Cv.test(e)?NaN:+e}function jd(e){return In(e,Mr(e))}function It(e){return null==e?"":qr(e)}var QE=Yi(function(e,n){if(Us(n)||Ur(n))In(n,br(n),e);else for(var o in n)At.call(n,o)&&Ts(e,o,n[o])}),Ld=Yi(function(e,n){In(n,Mr(n),e)}),ua=Yi(function(e,n,o,d){In(n,Mr(n),e,d)}),ZE=Yi(function(e,n,o,d){In(n,br(n),e,d)}),e3=zn(Bu),r3=ot(function(e,n){e=Ft(e);var o=-1,d=n.length,E=d>2?n[2]:t;for(E&&Rr(n[0],n[1],E)&&(d=1);++o<d;)for(var A=n[o],H=Mr(A),Q=-1,se=H.length;++Q<se;){var be=H[Q],we=e[be];(we===t||bn(we,Wi[be])&&!At.call(e,be))&&(e[be]=A[be])}return e}),n3=ot(function(e){return e.push(t,Zh),Vr(Ud,t,e)});function mc(e,n,o){var d=null==e?t:xi(e,n);return d===t?o:d}function bc(e,n){return null!=e&&rd(e,n,Lm)}var d3=Gh(function(e,n,o){null!=n&&"function"!=typeof n.toString&&(n=Co.call(n)),e[n]=o},Ec(Br)),p3=Gh(function(e,n,o){null!=n&&"function"!=typeof n.toString&&(n=Co.call(n)),At.call(e,n)?e[n].push(o):e[n]=[o]},Ve),g3=ot(Ns);function br(e){return Ur(e)?hh(e):qu(e)}function Mr(e){return Ur(e)?hh(e,!0):function Wm(e){if(!Kt(e))return function Pb(e){var n=[];if(null!=e)for(var o in Ft(e))n.push(o);return n}(e);var n=Us(e),o=[];for(var d in e)"constructor"==d&&(n||!At.call(e,d))||o.push(d);return o}(e)}var v3=Yi(function(e,n,o){Ko(e,n,o)}),Ud=Yi(function(e,n,o,d){Ko(e,n,o,d)}),m3=zn(function(e,n){var o={};if(null==e)return o;var d=!1;n=Ht(n,function(A){return A=ai(A,e),d||(d=A.length>1),A}),In(e,sc(e),o),d&&(o=sn(o,7,db));for(var E=n.length;E--;)Xu(o,n[E]);return o}),w3=zn(function(e,n){return null==e?{}:function Gm(e,n){return Ah(e,n,function(o,d){return bc(e,d)})}(e,n)});function Md(e,n){if(null==e)return{};var o=Ht(sc(e),function(d){return[d]});return n=Ve(n),Ah(e,o,function(d,E){return n(d,E[0])})}var Bd=Xh(br),$d=Xh(Mr);function es(e){return null==e?[]:Ru(e,br(e))}var N3=Xi(function(e,n,o){return n=n.toLowerCase(),e+(o?zd(n):n)});function zd(e){return wc(It(e).toLowerCase())}function Hd(e){return(e=It(e))&&e.replace(jv,D1).replace(e1,"")}var U3=Xi(function(e,n,o){return e+(o?"-":"")+n.toLowerCase()}),M3=Xi(function(e,n,o){return e+(o?" ":"")+n.toLowerCase()}),B3=qh("toLowerCase"),W3=Xi(function(e,n,o){return e+(o?"_":"")+n.toLowerCase()}),G3=Xi(function(e,n,o){return e+(o?" ":"")+wc(n)}),i2=Xi(function(e,n,o){return e+(o?" ":"")+n.toUpperCase()}),wc=qh("toUpperCase");function Vd(e,n,o){return e=It(e),(n=o?t:n)===t?function I1(ne){return n1.test(ne)}(e)?function j1(ne){return ne.match(t1)||[]}(e):function v1(ne){return ne.match(Ov)||[]}(e):e.match(n)||[]}var Kd=ot(function(e,n){try{return Vr(e,t,n)}catch(o){return yc(o)?o:new Ze(o)}}),s2=zn(function(e,n){return tn(n,function(o){o=Pn(o),Bn(e,o,gc(e[o],e))}),e});function Ec(e){return function(){return e}}var c2=kh(),f2=kh(!0);function Br(e){return e}function Dc(e){return Dh("function"==typeof e?e:sn(e,1))}var d2=ot(function(e,n){return function(o){return Ns(o,e,n)}}),p2=ot(function(e,n){return function(o){return Ns(e,o,n)}});function xc(e,n,o){var d=br(n),E=Vo(n,d);null==o&&(!Kt(n)||!E.length&&d.length)&&(o=n,n=e,e=this,E=Vo(n,br(n)));var A=!(Kt(o)&&"chain"in o&&!o.chain),H=Vn(e);return tn(E,function(Q){var se=n[Q];e[Q]=se,H&&(e.prototype[Q]=function(){var be=this.__chain__;if(A||be){var we=e(this.__wrapped__),Ie=we.__actions__=Lr(this.__actions__);return Ie.push({func:se,args:arguments,thisArg:e}),we.__chain__=be,we}return se.apply(e,ri([this.value()],arguments))})}),e}function Sc(){}var y2=rc(Ht),v2=rc(Gl),m2=rc(Iu);function qd(e){return cc(e)?Pu(Pn(e)):function Jm(e){return function(n){return xi(n,e)}}(e)}var w2=Jh(),E2=Jh(!0);function Oc(){return[]}function Ic(){return!1}var A2=Jo(function(e,n){return e+n},0),C2=nc("ceil"),T2=Jo(function(e,n){return e/n},1),R2=nc("floor"),B2=Jo(function(e,n){return e*n},1),$2=nc("round"),z2=Jo(function(e,n){return e-n},0);return O.after=function lE(e,n){if("function"!=typeof n)throw new rn(g);return e=rt(e),function(){if(--e<1)return n.apply(this,arguments)}},O.ary=Ed,O.assign=QE,O.assignIn=Ld,O.assignInWith=ua,O.assignWith=ZE,O.at=e3,O.before=Dd,O.bind=gc,O.bindAll=s2,O.bindKey=xd,O.castArray=function DE(){if(!arguments.length)return[];var e=arguments[0];return et(e)?e:[e]},O.chain=md,O.chunk=function Rb(e,n,o){n=(o?Rr(e,n,o):n===t)?1:_r(rt(n),0);var d=null==e?0:e.length;if(!d||n<1)return[];for(var E=0,A=0,H=ge(Lo(d/n));E<d;)H[A++]=on(e,E,E+=n);return H},O.compact=function Nb(e){for(var n=-1,o=null==e?0:e.length,d=0,E=[];++n<o;){var A=e[n];A&&(E[d++]=A)}return E},O.concat=function Fb(){var e=arguments.length;if(!e)return[];for(var n=ge(e-1),o=arguments[0],d=e;d--;)n[d-1]=arguments[d];return ri(et(o)?Lr(o):[o],Sr(n,1))},O.cond=function o2(e){var n=null==e?0:e.length,o=Ve();return e=n?Ht(e,function(d){if("function"!=typeof d[1])throw new rn(g);return[o(d[0]),d[1]]}):[],ot(function(d){for(var E=-1;++E<n;){var A=e[E];if(Vr(A[0],this,d))return Vr(A[1],this,d)}})},O.conforms=function a2(e){return function Rm(e){var n=br(e);return function(o){return gh(o,e,n)}}(sn(e,1))},O.constant=Ec,O.countBy=Hw,O.create=function t3(e,n){var o=Ji(e);return null==n?o:ph(o,n)},O.curry=function Sd(e,n,o){var d=$n(e,8,t,t,t,t,t,n=o?t:n);return d.placeholder=Sd.placeholder,d},O.curryRight=function Od(e,n,o){var d=$n(e,16,t,t,t,t,t,n=o?t:n);return d.placeholder=Od.placeholder,d},O.debounce=Id,O.defaults=r3,O.defaultsDeep=n3,O.defer=hE,O.delay=dE,O.difference=jb,O.differenceBy=Lb,O.differenceWith=Ub,O.drop=function Mb(e,n,o){var d=null==e?0:e.length;return d?on(e,(n=o||n===t?1:rt(n))<0?0:n,d):[]},O.dropRight=function Bb(e,n,o){var d=null==e?0:e.length;return d?on(e,0,(n=d-(n=o||n===t?1:rt(n)))<0?0:n):[]},O.dropRightWhile=function $b(e,n){return e&&e.length?Wo(e,Ve(n,3),!0,!0):[]},O.dropWhile=function zb(e,n){return e&&e.length?Wo(e,Ve(n,3),!0):[]},O.fill=function Hb(e,n,o,d){var E=null==e?0:e.length;return E?(o&&"number"!=typeof o&&Rr(e,n,o)&&(o=0,d=E),function Fm(e,n,o,d){var E=e.length;for((o=rt(o))<0&&(o=-o>E?0:E+o),(d=d===t||d>E?E:rt(d))<0&&(d+=E),d=o>d?0:Fd(d);o<d;)e[o++]=n;return e}(e,n,o,d)):[]},O.filter=function Kw(e,n){return(et(e)?ti:vh)(e,Ve(n,3))},O.flatMap=function kw(e,n){return Sr(ra(e,n),1)},O.flatMapDeep=function Gw(e,n){return Sr(ra(e,n),vi)},O.flatMapDepth=function Jw(e,n,o){return o=o===t?1:rt(o),Sr(ra(e,n),o)},O.flatten=gd,O.flattenDeep=function Vb(e){return null!=e&&e.length?Sr(e,vi):[]},O.flattenDepth=function Kb(e,n){return null!=e&&e.length?Sr(e,n=n===t?1:rt(n)):[]},O.flip=function pE(e){return $n(e,512)},O.flow=c2,O.flowRight=f2,O.fromPairs=function qb(e){for(var n=-1,o=null==e?0:e.length,d={};++n<o;){var E=e[n];d[E[0]]=E[1]}return d},O.functions=function f3(e){return null==e?[]:Vo(e,br(e))},O.functionsIn=function l3(e){return null==e?[]:Vo(e,Mr(e))},O.groupBy=Yw,O.initial=function kb(e){return null!=e&&e.length?on(e,0,-1):[]},O.intersection=Gb,O.intersectionBy=Jb,O.intersectionWith=Yb,O.invert=d3,O.invertBy=p3,O.invokeMap=Qw,O.iteratee=Dc,O.keyBy=Zw,O.keys=br,O.keysIn=Mr,O.map=ra,O.mapKeys=function _3(e,n){var o={};return n=Ve(n,3),On(e,function(d,E,A){Bn(o,n(d,E,A),d)}),o},O.mapValues=function y3(e,n){var o={};return n=Ve(n,3),On(e,function(d,E,A){Bn(o,E,n(d,E,A))}),o},O.matches=function l2(e){return Sh(sn(e,1))},O.matchesProperty=function h2(e,n){return Oh(e,sn(n,1))},O.memoize=ia,O.merge=v3,O.mergeWith=Ud,O.method=d2,O.methodOf=p2,O.mixin=xc,O.negate=sa,O.nthArg=function _2(e){return e=rt(e),ot(function(n){return Ih(n,e)})},O.omit=m3,O.omitBy=function b3(e,n){return Md(e,sa(Ve(n)))},O.once=function gE(e){return Dd(2,e)},O.orderBy=function eE(e,n,o,d){return null==e?[]:(et(n)||(n=null==n?[]:[n]),et(o=d?t:o)||(o=null==o?[]:[o]),Ph(e,n,o))},O.over=y2,O.overArgs=_E,O.overEvery=v2,O.overSome=m2,O.partial=_c,O.partialRight=Pd,O.partition=tE,O.pick=w3,O.pickBy=Md,O.property=qd,O.propertyOf=function b2(e){return function(n){return null==e?t:xi(e,n)}},O.pull=ew,O.pullAll=yd,O.pullAllBy=function tw(e,n,o){return e&&e.length&&n&&n.length?ku(e,n,Ve(o,2)):e},O.pullAllWith=function rw(e,n,o){return e&&e.length&&n&&n.length?ku(e,n,t,o):e},O.pullAt=nw,O.range=w2,O.rangeRight=E2,O.rearg=yE,O.reject=function iE(e,n){return(et(e)?ti:vh)(e,sa(Ve(n,3)))},O.remove=function iw(e,n){var o=[];if(!e||!e.length)return o;var d=-1,E=[],A=e.length;for(n=Ve(n,3);++d<A;){var H=e[d];n(H,d,e)&&(o.push(H),E.push(d))}return Ch(e,E),o},O.rest=function vE(e,n){if("function"!=typeof e)throw new rn(g);return ot(e,n=n===t?n:rt(n))},O.reverse=dc,O.sampleSize=function oE(e,n,o){return n=(o?Rr(e,n,o):n===t)?1:rt(n),(et(e)?Pm:Qm)(e,n)},O.set=function D3(e,n,o){return null==e?e:js(e,n,o)},O.setWith=function x3(e,n,o,d){return d="function"==typeof d?d:t,null==e?e:js(e,n,o,d)},O.shuffle=function aE(e){return(et(e)?Am:eb)(e)},O.slice=function sw(e,n,o){var d=null==e?0:e.length;return d?(o&&"number"!=typeof o&&Rr(e,n,o)?(n=0,o=d):(n=null==n?0:rt(n),o=o===t?d:rt(o)),on(e,n,o)):[]},O.sortBy=fE,O.sortedUniq=function hw(e){return e&&e.length?Rh(e):[]},O.sortedUniqBy=function dw(e,n){return e&&e.length?Rh(e,Ve(n,2)):[]},O.split=function k3(e,n,o){return o&&"number"!=typeof o&&Rr(e,n,o)&&(n=o=t),(o=o===t?Sn:o>>>0)?(e=It(e))&&("string"==typeof n||null!=n&&!vc(n))&&!(n=qr(n))&&Vi(e)?ui(vn(e),0,o):e.split(n,o):[]},O.spread=function mE(e,n){if("function"!=typeof e)throw new rn(g);return n=null==n?0:_r(rt(n),0),ot(function(o){var d=o[n],E=ui(o,0,n);return d&&ri(E,d),Vr(e,this,E)})},O.tail=function pw(e){var n=null==e?0:e.length;return n?on(e,1,n):[]},O.take=function gw(e,n,o){return e&&e.length?on(e,0,(n=o||n===t?1:rt(n))<0?0:n):[]},O.takeRight=function _w(e,n,o){var d=null==e?0:e.length;return d?on(e,(n=d-(n=o||n===t?1:rt(n)))<0?0:n,d):[]},O.takeRightWhile=function yw(e,n){return e&&e.length?Wo(e,Ve(n,3),!1,!0):[]},O.takeWhile=function vw(e,n){return e&&e.length?Wo(e,Ve(n,3)):[]},O.tap=function Nw(e,n){return n(e),e},O.throttle=function bE(e,n,o){var d=!0,E=!0;if("function"!=typeof e)throw new rn(g);return Kt(o)&&(d="leading"in o?!!o.leading:d,E="trailing"in o?!!o.trailing:E),Id(e,n,{leading:d,maxWait:n,trailing:E})},O.thru=ta,O.toArray=Nd,O.toPairs=Bd,O.toPairsIn=$d,O.toPath=function I2(e){return et(e)?Ht(e,Pn):Wr(e)?[e]:Lr(ld(It(e)))},O.toPlainObject=jd,O.transform=function S3(e,n,o){var d=et(e),E=d||ci(e)||Zi(e);if(n=Ve(n,4),null==o){var A=e&&e.constructor;o=E?d?new A:[]:Kt(e)&&Vn(A)?Ji(No(e)):{}}return(E?tn:On)(e,function(H,Q,se){return n(o,H,Q,se)}),o},O.unary=function wE(e){return Ed(e,1)},O.union=mw,O.unionBy=bw,O.unionWith=ww,O.uniq=function Ew(e){return e&&e.length?oi(e):[]},O.uniqBy=function Dw(e,n){return e&&e.length?oi(e,Ve(n,2)):[]},O.uniqWith=function xw(e,n){return n="function"==typeof n?n:t,e&&e.length?oi(e,t,n):[]},O.unset=function O3(e,n){return null==e||Xu(e,n)},O.unzip=pc,O.unzipWith=vd,O.update=function I3(e,n,o){return null==e?e:Fh(e,n,ec(o))},O.updateWith=function P3(e,n,o,d){return d="function"==typeof d?d:t,null==e?e:Fh(e,n,ec(o),d)},O.values=es,O.valuesIn=function A3(e){return null==e?[]:Ru(e,Mr(e))},O.without=Sw,O.words=Vd,O.wrap=function EE(e,n){return _c(ec(n),e)},O.xor=Ow,O.xorBy=Iw,O.xorWith=Pw,O.zip=Aw,O.zipObject=function Cw(e,n){return Lh(e||[],n||[],Ts)},O.zipObjectDeep=function Tw(e,n){return Lh(e||[],n||[],js)},O.zipWith=Rw,O.entries=Bd,O.entriesIn=$d,O.extend=Ld,O.extendWith=ua,xc(O,O),O.add=A2,O.attempt=Kd,O.camelCase=N3,O.capitalize=zd,O.ceil=C2,O.clamp=function C3(e,n,o){return o===t&&(o=n,n=t),o!==t&&(o=(o=un(o))==o?o:0),n!==t&&(n=(n=un(n))==n?n:0),Di(un(e),n,o)},O.clone=function xE(e){return sn(e,4)},O.cloneDeep=function OE(e){return sn(e,5)},O.cloneDeepWith=function IE(e,n){return sn(e,5,n="function"==typeof n?n:t)},O.cloneWith=function SE(e,n){return sn(e,4,n="function"==typeof n?n:t)},O.conformsTo=function PE(e,n){return null==n||gh(e,n,br(n))},O.deburr=Hd,O.defaultTo=function u2(e,n){return null==e||e!=e?n:e},O.divide=T2,O.endsWith=function F3(e,n,o){e=It(e),n=qr(n);var d=e.length,E=o=o===t?d:Di(rt(o),0,d);return(o-=n.length)>=0&&e.slice(o,E)==n},O.eq=bn,O.escape=function j3(e){return(e=It(e))&&gv.test(e)?e.replace(ml,x1):e},O.escapeRegExp=function L3(e){return(e=It(e))&&wv.test(e)?e.replace(_u,"\\$&"):e},O.every=function Vw(e,n,o){var d=et(e)?Gl:Nm;return o&&Rr(e,n,o)&&(n=t),d(e,Ve(n,3))},O.find=qw,O.findIndex=dd,O.findKey=function i3(e,n){return Jl(e,Ve(n,3),On)},O.findLast=Ww,O.findLastIndex=pd,O.findLastKey=function s3(e,n){return Jl(e,Ve(n,3),zu)},O.floor=R2,O.forEach=bd,O.forEachRight=wd,O.forIn=function o3(e,n){return null==e?e:$u(e,Ve(n,3),Mr)},O.forInRight=function a3(e,n){return null==e?e:mh(e,Ve(n,3),Mr)},O.forOwn=function u3(e,n){return e&&On(e,Ve(n,3))},O.forOwnRight=function c3(e,n){return e&&zu(e,Ve(n,3))},O.get=mc,O.gt=AE,O.gte=CE,O.has=function h3(e,n){return null!=e&&rd(e,n,jm)},O.hasIn=bc,O.head=_d,O.identity=Br,O.includes=function Xw(e,n,o,d){e=Ur(e)?e:es(e),o=o&&!d?rt(o):0;var E=e.length;return o<0&&(o=_r(E+o,0)),aa(e)?o<=E&&e.indexOf(n,o)>-1:!!E&&Hi(e,n,o)>-1},O.indexOf=function Wb(e,n,o){var d=null==e?0:e.length;if(!d)return-1;var E=null==o?0:rt(o);return E<0&&(E=_r(d+E,0)),Hi(e,n,E)},O.inRange=function T3(e,n,o){return n=Kn(n),o===t?(o=n,n=0):o=Kn(o),function Um(e,n,o){return e>=Ir(n,o)&&e<_r(n,o)}(e=un(e),n,o)},O.invoke=g3,O.isArguments=Ii,O.isArray=et,O.isArrayBuffer=TE,O.isArrayLike=Ur,O.isArrayLikeObject=nr,O.isBoolean=function RE(e){return!0===e||!1===e||Jt(e)&&Tr(e)==vs},O.isBuffer=ci,O.isDate=NE,O.isElement=function FE(e){return Jt(e)&&1===e.nodeType&&!Bs(e)},O.isEmpty=function jE(e){if(null==e)return!0;if(Ur(e)&&(et(e)||"string"==typeof e||"function"==typeof e.splice||ci(e)||Zi(e)||Ii(e)))return!e.length;var n=Pr(e);if(n==_n||n==yn)return!e.size;if(Us(e))return!qu(e).length;for(var o in e)if(At.call(e,o))return!1;return!0},O.isEqual=function LE(e,n){return Fs(e,n)},O.isEqualWith=function UE(e,n,o){var d=(o="function"==typeof o?o:t)?o(e,n):t;return d===t?Fs(e,n,t,o):!!d},O.isError=yc,O.isFinite=function ME(e){return"number"==typeof e&&ch(e)},O.isFunction=Vn,O.isInteger=Ad,O.isLength=oa,O.isMap=Cd,O.isMatch=function BE(e,n){return e===n||Ku(e,n,ac(n))},O.isMatchWith=function $E(e,n,o){return o="function"==typeof o?o:t,Ku(e,n,ac(n),o)},O.isNaN=function zE(e){return Td(e)&&e!=+e},O.isNative=function HE(e){if(Sb(e))throw new Ze("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Eh(e)},O.isNil=function KE(e){return null==e},O.isNull=function VE(e){return null===e},O.isNumber=Td,O.isObject=Kt,O.isObjectLike=Jt,O.isPlainObject=Bs,O.isRegExp=vc,O.isSafeInteger=function qE(e){return Ad(e)&&e>=-ei&&e<=ei},O.isSet=Rd,O.isString=aa,O.isSymbol=Wr,O.isTypedArray=Zi,O.isUndefined=function WE(e){return e===t},O.isWeakMap=function kE(e){return Jt(e)&&Pr(e)==Ds},O.isWeakSet=function GE(e){return Jt(e)&&"[object WeakSet]"==Tr(e)},O.join=function Xb(e,n){return null==e?"":k1.call(e,n)},O.kebabCase=U3,O.last=an,O.lastIndexOf=function Qb(e,n,o){var d=null==e?0:e.length;if(!d)return-1;var E=d;return o!==t&&(E=(E=rt(o))<0?_r(d+E,0):Ir(E,d-1)),n==n?function T1(ne,ve,ge){for(var je=ge+1;je--;)if(ne[je]===ve)return je;return je}(e,n,E):So(e,Yl,E,!0)},O.lowerCase=M3,O.lowerFirst=B3,O.lt=JE,O.lte=YE,O.max=function N2(e){return e&&e.length?Ho(e,Br,Hu):t},O.maxBy=function F2(e,n){return e&&e.length?Ho(e,Ve(n,2),Hu):t},O.mean=function j2(e){return Xl(e,Br)},O.meanBy=function L2(e,n){return Xl(e,Ve(n,2))},O.min=function U2(e){return e&&e.length?Ho(e,Br,Wu):t},O.minBy=function M2(e,n){return e&&e.length?Ho(e,Ve(n,2),Wu):t},O.stubArray=Oc,O.stubFalse=Ic,O.stubObject=function D2(){return{}},O.stubString=function x2(){return""},O.stubTrue=function S2(){return!0},O.multiply=B2,O.nth=function Zb(e,n){return e&&e.length?Ih(e,rt(n)):t},O.noConflict=function g2(){return xr._===this&&(xr._=z1),this},O.noop=Sc,O.now=na,O.pad=function $3(e,n,o){e=It(e);var d=(n=rt(n))?Ki(e):0;if(!n||d>=n)return e;var E=(n-d)/2;return Yo(Uo(E),o)+e+Yo(Lo(E),o)},O.padEnd=function z3(e,n,o){e=It(e);var d=(n=rt(n))?Ki(e):0;return n&&d<n?e+Yo(n-d,o):e},O.padStart=function H3(e,n,o){e=It(e);var d=(n=rt(n))?Ki(e):0;return n&&d<n?Yo(n-d,o)+e:e},O.parseInt=function V3(e,n,o){return o||null==n?n=0:n&&(n=+n),Y1(It(e).replace(yu,""),n||0)},O.random=function R3(e,n,o){if(o&&"boolean"!=typeof o&&Rr(e,n,o)&&(n=o=t),o===t&&("boolean"==typeof n?(o=n,n=t):"boolean"==typeof e&&(o=e,e=t)),e===t&&n===t?(e=0,n=1):(e=Kn(e),n===t?(n=e,e=0):n=Kn(n)),e>n){var d=e;e=n,n=d}if(o||e%1||n%1){var E=fh();return Ir(e+E*(n-e+f1("1e-"+((E+"").length-1))),n)}return Gu(e,n)},O.reduce=function rE(e,n,o){var d=et(e)?Ou:Ql,E=arguments.length<3;return d(e,Ve(n,4),o,E,si)},O.reduceRight=function nE(e,n,o){var d=et(e)?g1:Ql,E=arguments.length<3;return d(e,Ve(n,4),o,E,yh)},O.repeat=function K3(e,n,o){return n=(o?Rr(e,n,o):n===t)?1:rt(n),Ju(It(e),n)},O.replace=function q3(){var e=arguments,n=It(e[0]);return e.length<3?n:n.replace(e[1],e[2])},O.result=function E3(e,n,o){var d=-1,E=(n=ai(n,e)).length;for(E||(E=1,e=t);++d<E;){var A=null==e?t:e[Pn(n[d])];A===t&&(d=E,A=o),e=Vn(A)?A.call(e):A}return e},O.round=$2,O.runInContext=ne,O.sample=function sE(e){return(et(e)?dh:Xm)(e)},O.size=function uE(e){if(null==e)return 0;if(Ur(e))return aa(e)?Ki(e):e.length;var n=Pr(e);return n==_n||n==yn?e.size:qu(e).length},O.snakeCase=W3,O.some=function cE(e,n,o){var d=et(e)?Iu:tb;return o&&Rr(e,n,o)&&(n=t),d(e,Ve(n,3))},O.sortedIndex=function ow(e,n){return qo(e,n)},O.sortedIndexBy=function aw(e,n,o){return Yu(e,n,Ve(o,2))},O.sortedIndexOf=function uw(e,n){var o=null==e?0:e.length;if(o){var d=qo(e,n);if(d<o&&bn(e[d],n))return d}return-1},O.sortedLastIndex=function cw(e,n){return qo(e,n,!0)},O.sortedLastIndexBy=function fw(e,n,o){return Yu(e,n,Ve(o,2),!0)},O.sortedLastIndexOf=function lw(e,n){if(null!=e&&e.length){var d=qo(e,n,!0)-1;if(bn(e[d],n))return d}return-1},O.startCase=G3,O.startsWith=function J3(e,n,o){return e=It(e),o=null==o?0:Di(rt(o),0,e.length),n=qr(n),e.slice(o,o+n.length)==n},O.subtract=z2,O.sum=function H2(e){return e&&e.length?Cu(e,Br):0},O.sumBy=function V2(e,n){return e&&e.length?Cu(e,Ve(n,2)):0},O.template=function Y3(e,n,o){var d=O.templateSettings;o&&Rr(e,n,o)&&(n=t),e=It(e),n=ua({},n,d,Qh);var Q,se,E=ua({},n.imports,d.imports,Qh),A=br(E),H=Ru(E,A),be=0,we=n.interpolate||wo,Ie="__p += '",Re=Fu((n.escape||wo).source+"|"+we.source+"|"+(we===bl?Av:wo).source+"|"+(n.evaluate||wo).source+"|$","g"),Be="//# sourceURL="+(At.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++s1+"]")+"\n";e.replace(Re,function(qe,lt,yt,kr,Nr,Gr){return yt||(yt=kr),Ie+=e.slice(be,Gr).replace(Lv,S1),lt&&(Q=!0,Ie+="' +\n__e("+lt+") +\n'"),Nr&&(se=!0,Ie+="';\n"+Nr+";\n__p += '"),yt&&(Ie+="' +\n((__t = ("+yt+")) == null ? '' : __t) +\n'"),be=Gr+qe.length,qe}),Ie+="';\n";var Ke=At.call(n,"variable")&&n.variable;if(Ke){if(Iv.test(Ke))throw new Ze("Invalid `variable` option passed into `_.template`")}else Ie="with (obj) {\n"+Ie+"\n}\n";Ie=(se?Ie.replace(lv,""):Ie).replace(hv,"$1").replace(dv,"$1;"),Ie="function("+(Ke||"obj")+") {\n"+(Ke?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Q?", __e = _.escape":"")+(se?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ie+"return __p\n}";var it=Kd(function(){return St(A,Be+"return "+Ie).apply(t,H)});if(it.source=Ie,yc(it))throw it;return it},O.times=function O2(e,n){if((e=rt(e))<1||e>ei)return[];var o=Sn,d=Ir(e,Sn);n=Ve(n),e-=Sn;for(var E=Tu(d,n);++o<e;)n(o);return E},O.toFinite=Kn,O.toInteger=rt,O.toLength=Fd,O.toLower=function X3(e){return It(e).toLowerCase()},O.toNumber=un,O.toSafeInteger=function XE(e){return e?Di(rt(e),-ei,ei):0===e?e:0},O.toString=It,O.toUpper=function Q3(e){return It(e).toUpperCase()},O.trim=function Z3(e,n,o){if((e=It(e))&&(o||n===t))return Zl(e);if(!e||!(n=qr(n)))return e;var d=vn(e),E=vn(n);return ui(d,eh(d,E),th(d,E)+1).join("")},O.trimEnd=function e2(e,n,o){if((e=It(e))&&(o||n===t))return e.slice(0,nh(e)+1);if(!e||!(n=qr(n)))return e;var d=vn(e);return ui(d,0,th(d,vn(n))+1).join("")},O.trimStart=function t2(e,n,o){if((e=It(e))&&(o||n===t))return e.replace(yu,"");if(!e||!(n=qr(n)))return e;var d=vn(e);return ui(d,eh(d,vn(n))).join("")},O.truncate=function r2(e,n){var o=30,d="...";if(Kt(n)){var E="separator"in n?n.separator:E;o="length"in n?rt(n.length):o,d="omission"in n?qr(n.omission):d}var A=(e=It(e)).length;if(Vi(e)){var H=vn(e);A=H.length}if(o>=A)return e;var Q=o-Ki(d);if(Q<1)return d;var se=H?ui(H,0,Q).join(""):e.slice(0,Q);if(E===t)return se+d;if(H&&(Q+=se.length-Q),vc(E)){if(e.slice(Q).search(E)){var be,we=se;for(E.global||(E=Fu(E.source,It(wl.exec(E))+"g")),E.lastIndex=0;be=E.exec(we);)var Ie=be.index;se=se.slice(0,Ie===t?Q:Ie)}}else if(e.indexOf(qr(E),Q)!=Q){var Re=se.lastIndexOf(E);Re>-1&&(se=se.slice(0,Re))}return se+d},O.unescape=function n2(e){return(e=It(e))&&pv.test(e)?e.replace(vl,R1):e},O.uniqueId=function P2(e){var n=++B1;return It(e)+n},O.upperCase=i2,O.upperFirst=wc,O.each=bd,O.eachRight=wd,O.first=_d,xc(O,function(){var e={};return On(O,function(n,o){At.call(O.prototype,o)||(e[o]=n)}),e}(),{chain:!1}),O.VERSION="4.17.21",tn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){O[e].placeholder=O}),tn(["drop","take"],function(e,n){dt.prototype[e]=function(o){o=o===t?1:_r(rt(o),0);var d=this.__filtered__&&!n?new dt(this):this.clone();return d.__filtered__?d.__takeCount__=Ir(o,d.__takeCount__):d.__views__.push({size:Ir(o,Sn),type:e+(d.__dir__<0?"Right":"")}),d},dt.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),tn(["filter","map","takeWhile"],function(e,n){var o=n+1,d=1==o||3==o;dt.prototype[e]=function(E){var A=this.clone();return A.__iteratees__.push({iteratee:Ve(E,3),type:o}),A.__filtered__=A.__filtered__||d,A}}),tn(["head","last"],function(e,n){var o="take"+(n?"Right":"");dt.prototype[e]=function(){return this[o](1).value()[0]}}),tn(["initial","tail"],function(e,n){var o="drop"+(n?"":"Right");dt.prototype[e]=function(){return this.__filtered__?new dt(this):this[o](1)}}),dt.prototype.compact=function(){return this.filter(Br)},dt.prototype.find=function(e){return this.filter(e).head()},dt.prototype.findLast=function(e){return this.reverse().find(e)},dt.prototype.invokeMap=ot(function(e,n){return"function"==typeof e?new dt(this):this.map(function(o){return Ns(o,e,n)})}),dt.prototype.reject=function(e){return this.filter(sa(Ve(e)))},dt.prototype.slice=function(e,n){e=rt(e);var o=this;return o.__filtered__&&(e>0||n<0)?new dt(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),n!==t&&(o=(n=rt(n))<0?o.dropRight(-n):o.take(n-e)),o)},dt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},dt.prototype.toArray=function(){return this.take(Sn)},On(dt.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),d=/^(?:head|last)$/.test(n),E=O[d?"take"+("last"==n?"Right":""):n],A=d||/^find/.test(n);E&&(O.prototype[n]=function(){var H=this.__wrapped__,Q=d?[1]:arguments,se=H instanceof dt,be=Q[0],we=se||et(H),Ie=function(lt){var yt=E.apply(O,ri([lt],Q));return d&&Re?yt[0]:yt};we&&o&&"function"==typeof be&&1!=be.length&&(se=we=!1);var Re=this.__chain__,Be=!!this.__actions__.length,Ke=A&&!Re,it=se&&!Be;if(!A&&we){H=it?H:new dt(this);var qe=e.apply(H,Q);return qe.__actions__.push({func:ta,args:[Ie],thisArg:t}),new nn(qe,Re)}return Ke&&it?e.apply(this,Q):(qe=this.thru(Ie),Ke?d?qe.value()[0]:qe.value():qe)})}),tn(["pop","push","shift","sort","splice","unshift"],function(e){var n=Io[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",d=/^(?:pop|shift)$/.test(e);O.prototype[e]=function(){var E=arguments;if(d&&!this.__chain__){var A=this.value();return n.apply(et(A)?A:[],E)}return this[o](function(H){return n.apply(et(H)?H:[],E)})}}),On(dt.prototype,function(e,n){var o=O[n];if(o){var d=o.name+"";At.call(Gi,d)||(Gi[d]=[]),Gi[d].push({name:n,func:o})}}),Gi[Go(t,2).name]=[{name:"wrapper",func:t}],dt.prototype.clone=function nm(){var e=new dt(this.__wrapped__);return e.__actions__=Lr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Lr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Lr(this.__views__),e},dt.prototype.reverse=function im(){if(this.__filtered__){var e=new dt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},dt.prototype.value=function sm(){var e=this.__wrapped__.value(),n=this.__dir__,o=et(e),d=n<0,E=o?e.length:0,A=function yb(e,n,o){for(var d=-1,E=o.length;++d<E;){var A=o[d],H=A.size;switch(A.type){case"drop":e+=H;break;case"dropRight":n-=H;break;case"take":n=Ir(n,e+H);break;case"takeRight":e=_r(e,n-H)}}return{start:e,end:n}}(0,E,this.__views__),H=A.start,Q=A.end,se=Q-H,be=d?Q:H-1,we=this.__iteratees__,Ie=we.length,Re=0,Be=Ir(se,this.__takeCount__);if(!o||!d&&E==se&&Be==se)return jh(e,this.__actions__);var Ke=[];e:for(;se--&&Re<Be;){for(var it=-1,qe=e[be+=n];++it<Ie;){var lt=we[it],kr=lt.type,Nr=(0,lt.iteratee)(qe);if(2==kr)qe=Nr;else if(!Nr){if(1==kr)continue e;break e}}Ke[Re++]=qe}return Ke},O.prototype.at=Fw,O.prototype.chain=function jw(){return md(this)},O.prototype.commit=function Lw(){return new nn(this.value(),this.__chain__)},O.prototype.next=function Uw(){this.__values__===t&&(this.__values__=Nd(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?t:this.__values__[this.__index__++]}},O.prototype.plant=function Bw(e){for(var n,o=this;o instanceof $o;){var d=hd(o);d.__index__=0,d.__values__=t,n?E.__wrapped__=d:n=d;var E=d;o=o.__wrapped__}return E.__wrapped__=e,n},O.prototype.reverse=function $w(){var e=this.__wrapped__;if(e instanceof dt){var n=e;return this.__actions__.length&&(n=new dt(this)),(n=n.reverse()).__actions__.push({func:ta,args:[dc],thisArg:t}),new nn(n,this.__chain__)}return this.thru(dc)},O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=function zw(){return jh(this.__wrapped__,this.__actions__)},O.prototype.first=O.prototype.head,Os&&(O.prototype[Os]=function Mw(){return this}),O}();mi?((mi.exports=qi)._=qi,Du._=qi):xr._=qi}.call(ys);var D0=Object.defineProperty,x0=Object.defineProperties,S0=Object.getOwnPropertyDescriptors,ul=Object.getOwnPropertySymbols,O0=Object.prototype.hasOwnProperty,I0=Object.prototype.propertyIsEnumerable,cl=(a,r,t)=>r in a?D0(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,po=(a,r)=>{for(var t in r||(r={}))O0.call(r,t)&&cl(a,t,r[t]);if(ul)for(var t of ul(r))I0.call(r,t)&&cl(a,t,r[t]);return a},P0=(a,r)=>x0(a,S0(r));function Zr(a,r,t){let s;const u=nu(a);return r.rpcMap&&(s=r.rpcMap[u]),s||(s=`https://rpc.walletconnect.com/v1?chainId=eip155:${u}&projectId=${t}`),s}function nu(a){return a.includes("eip155")?Number(a.split(":")[1]):Number(a)}function fl(a){return a.map(r=>`${r.split(":")[0]}:${r.split(":")[1]}`)}function ll(a){var r,t,s,u;const f={};if(!yi(a))return f;for(const[g,I]of Object.entries(a)){const X=io(g)?[g]:I.chains,Y=I.methods||[],de=I.events||[],Oe=I.rpcMap||{},He=cs(g);f[He]=P0(po(po({},f[He]),I),{chains:En(X,null==(r=f[He])?void 0:r.chains),methods:En(Y,null==(t=f[He])?void 0:t.methods),events:En(de,null==(s=f[He])?void 0:s.events),rpcMap:po(po({},Oe),null==(u=f[He])?void 0:u.rpcMap)})}return f}function T0(a){return a.includes(":")?a.split(":")[2]:a}function R0(a){const r={};for(const[t,s]of Object.entries(a)){const u=s.methods||[],f=s.events||[],g=s.accounts||[],I=io(t)?[t]:s.chains?s.chains:fl(s.accounts);r[t]={chains:I,methods:u,events:f,accounts:g}}return r}const hl={},rr=a=>hl[a],iu=(a,r)=>{hl[a]=r};class N0{constructor(r){this.name="polkadot",this.namespace=r.namespace,this.events=rr("events"),this.client=rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(this.chainId=r,!this.httpProviders[r]){const s=t||Zr(`${this.name}:${r}`,this.namespace);if(!s)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,s)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r&&r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var s;r[t]=this.createHttpProvider(t,null==(s=this.namespace.rpcMap)?void 0:s[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const s=this.createHttpProvider(r,t);s&&(this.httpProviders[r]=s)}createHttpProvider(r,t){const s=t||Zr(r,this.namespace);return typeof s>"u"?void 0:new Yn(new Mi(s,rr("disableProviderPing")))}}class F0{constructor(r){this.name="eip155",this.namespace=r.namespace,this.events=rr("events"),this.client=rr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(r){var t=this;return S(function*(){switch(r.request.method){case"eth_requestAccounts":case"eth_accounts":return t.getAccounts();case"wallet_switchEthereumChain":return yield t.handleSwitchChain(r);case"eth_chainId":return parseInt(t.getDefaultChain())}return t.namespace.methods.includes(r.request.method)?yield t.client.request(r):t.getHttpProvider().request(r.request)})()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}setDefaultChain(r,t){const s=nu(r);if(!this.httpProviders[s]){const u=t||Zr(`${this.name}:${s}`,this.namespace,this.client.core.projectId);if(!u)throw new Error(`No RPC url provided for chainId: ${s}`);this.setHttpProvider(s,u)}this.chainId=s,this.events.emit("default_chain_changed",`${this.name}:${s}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}createHttpProvider(r,t){const s=t||Zr(`${this.name}:${r}`,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new sl(s,rr("disableProviderPing")))}setHttpProvider(r,t){const s=this.createHttpProvider(r,t);s&&(this.httpProviders[r]=s)}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var s;const u=nu(t);r[u]=this.createHttpProvider(u,null==(s=this.namespace.rpcMap)?void 0:s[t])}),r}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const r=this.chainId,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}handleSwitchChain(r){var t=this;return S(function*(){var s,u;let f=r.request.params?null==(s=r.request.params[0])?void 0:s.chainId:"0x0";f=f.startsWith("0x")?f:`0x${f}`;const g=parseInt(f,16);if(t.isChainApproved(g))t.setDefaultChain(`${g}`);else{if(!t.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${g}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);yield t.client.request({topic:r.topic,request:{method:r.request.method,params:[{chainId:f}]},chainId:null==(u=t.namespace.chains)?void 0:u[0]}),t.setDefaultChain(`${g}`)}return null})()}isChainApproved(r){return this.namespace.chains.includes(`${this.name}:${r}`)}}class j0{constructor(r){this.name="solana",this.namespace=r.namespace,this.events=rr("events"),this.client=rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(!this.httpProviders[r]){const s=t||Zr(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,s)}this.chainId=r,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var s;r[t]=this.createHttpProvider(t,null==(s=this.namespace.rpcMap)?void 0:s[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const s=this.createHttpProvider(r,t);s&&(this.httpProviders[r]=s)}createHttpProvider(r,t){const s=t||Zr(r,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new Mi(s,rr("disableProviderPing")))}}class L0{constructor(r){this.name="cosmos",this.namespace=r.namespace,this.events=rr("events"),this.client=rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(this.chainId=r,!this.httpProviders[r]){const s=t||Zr(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,s)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var s;r[t]=this.createHttpProvider(t,null==(s=this.namespace.rpcMap)?void 0:s[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const s=this.createHttpProvider(r,t);s&&(this.httpProviders[r]=s)}createHttpProvider(r,t){const s=t||Zr(r,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new Mi(s,rr("disableProviderPing")))}}class U0{constructor(r){this.name="cip34",this.namespace=r.namespace,this.events=rr("events"),this.client=rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(this.chainId=r,!this.httpProviders[r]){const s=t||this.getCardanoRPCUrl(r);if(!s)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,s)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{const s=this.getCardanoRPCUrl(t);r[t]=this.createHttpProvider(t,s)}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}getCardanoRPCUrl(r){const t=this.namespace.rpcMap;if(t)return t[r]}setHttpProvider(r,t){const s=this.createHttpProvider(r,t);s&&(this.httpProviders[r]=s)}createHttpProvider(r,t){const s=t||this.getCardanoRPCUrl(r);return typeof s>"u"?void 0:new Yn(new Mi(s,rr("disableProviderPing")))}}class M0{constructor(r){this.name="elrond",this.namespace=r.namespace,this.events=rr("events"),this.client=rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(!this.httpProviders[r]){const s=t||Zr(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,s)}this.chainId=r,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var s;r[t]=this.createHttpProvider(t,null==(s=this.namespace.rpcMap)?void 0:s[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const s=this.createHttpProvider(r,t);s&&(this.httpProviders[r]=s)}createHttpProvider(r,t){const s=t||Zr(r,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new Mi(s,rr("disableProviderPing")))}}class B0{constructor(r){this.name="multiversx",this.namespace=r.namespace,this.events=rr("events"),this.client=rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(!this.httpProviders[r]){const s=t||Zr(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,s)}this.chainId=r,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var s;r[t]=this.createHttpProvider(t,null==(s=this.namespace.rpcMap)?void 0:s[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const s=this.createHttpProvider(r,t);s&&(this.httpProviders[r]=s)}createHttpProvider(r,t){const s=t||Zr(r,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new Yn(new Mi(s,rr("disableProviderPing")))}}var $0=Object.defineProperty,z0=Object.defineProperties,H0=Object.getOwnPropertyDescriptors,dl=Object.getOwnPropertySymbols,V0=Object.prototype.hasOwnProperty,K0=Object.prototype.propertyIsEnumerable,pl=(a,r,t)=>r in a?$0(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,go=(a,r)=>{for(var t in r||(r={}))V0.call(r,t)&&pl(a,t,r[t]);if(dl)for(var t of dl(r))K0.call(r,t)&&pl(a,t,r[t]);return a},su=(a,r)=>z0(a,H0(r));class ou{constructor(r){this.events=new(De()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=r,this.logger=typeof r?.logger<"u"&&"string"!=typeof r?.logger?r.logger:(0,j.pino)((0,j.getDefaultLoggerOptions)({level:r?.logger||"error"})),this.disableProviderPing=r?.disableProviderPing||!1}static init(r){return S(function*(){const t=new ou(r);return yield t.initialize(),t})()}request(r,t){var s=this;return S(function*(){const[u,f]=s.validateChain(t);if(!s.session)throw new Error("Please call connect() before request()");return yield s.getProvider(u).request({request:go({},r),chainId:`${u}:${f}`,topic:s.session.topic})})()}sendAsync(r,t,s){this.request(r,s).then(u=>t(null,u)).catch(u=>t(u,void 0))}enable(){var r=this;return S(function*(){if(!r.client)throw new Error("Sign Client not initialized");return r.session||(yield r.connect({namespaces:r.namespaces,optionalNamespaces:r.optionalNamespaces,sessionProperties:r.sessionProperties})),yield r.requestAccounts()})()}disconnect(){var r=this;return S(function*(){var t;if(!r.session)throw new Error("Please call connect() before enable()");yield r.client.disconnect({topic:null==(t=r.session)?void 0:t.topic,reason:lr("USER_DISCONNECTED")}),yield r.cleanup()})()}connect(r){var t=this;return S(function*(){if(!t.client)throw new Error("Sign Client not initialized");if(t.setNamespaces(r),yield t.cleanupPendingPairings(),!r.skipPairing)return yield t.pair(r.pairingTopic)})()}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}removeListener(r,t){this.events.removeListener(r,t)}off(r,t){this.events.off(r,t)}get isWalletConnect(){return!0}pair(r){var t=this;return S(function*(){t.shouldAbortPairingAttempt=!1;let s=0;do{if(t.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(s>=t.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:u,approval:f}=yield t.client.connect({pairingTopic:r,requiredNamespaces:t.namespaces,optionalNamespaces:t.optionalNamespaces,sessionProperties:t.sessionProperties});u&&(t.uri=u,t.events.emit("display_uri",u)),yield f().then(g=>{t.session=g,t.namespaces||(t.namespaces=R0(g.namespaces),t.persist("namespaces",t.namespaces))}).catch(g=>{if(g.message!==Zf)throw g;s++})}while(!t.session);return t.onConnect(),t.session})()}setDefaultChain(r,t){try{if(!this.session)return;const[s,u]=this.validateChain(r);this.getProvider(s).setDefaultChain(u,t)}catch(s){if(!/Please call connect/.test(s.message))throw s}}cleanupPendingPairings(r={}){var t=this;return S(function*(){t.logger.info("Cleaning up inactive pairings...");const s=t.client.pairing.getAll();if(_i(s)){for(const u of s)r.deletePairings?t.client.core.expirer.set(u.topic,0):yield t.client.core.relayer.subscriber.unsubscribe(u.topic);t.logger.info(`Inactive pairings cleared: ${s.length}`)}})()}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}checkStorage(){var r=this;return S(function*(){r.namespaces=yield r.getFromStore("namespaces"),r.optionalNamespaces=(yield r.getFromStore("optionalNamespaces"))||{},r.client.session.length&&(r.session=r.client.session.get(r.client.session.keys[r.client.session.keys.length-1]),r.createProviders())})()}initialize(){var r=this;return S(function*(){r.logger.trace("Initialized"),yield r.createClient(),yield r.checkStorage(),r.registerEventListeners()})()}createClient(){var r=this;return S(function*(){r.client=r.providerOpts.client||(yield tu.init({logger:r.providerOpts.logger||"error",relayUrl:r.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:r.providerOpts.projectId,metadata:r.providerOpts.metadata,storageOptions:r.providerOpts.storageOptions,storage:r.providerOpts.storage,name:r.providerOpts.name})),r.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const r=[...new Set(Object.keys(this.session.namespaces).map(t=>cs(t)))];iu("client",this.client),iu("events",this.events),iu("disableProviderPing",this.disableProviderPing),r.forEach(t=>{if(!this.session)return;const s=function A0(a,r){const t=Object.keys(r.namespaces).filter(u=>u.includes(a));if(!t.length)return[];const s=[];return t.forEach(u=>{s.push(...r.namespaces[u].accounts)}),s}(t,this.session),u=fl(s),f=function C0(a={},r={}){const t=ll(a),s=ll(r);return ru.exports.merge(t,s)}(this.namespaces,this.optionalNamespaces),g=su(go({},f[t]),{accounts:s,chains:u});switch(t){case"eip155":this.rpcProviders[t]=new F0({namespace:g});break;case"solana":this.rpcProviders[t]=new j0({namespace:g});break;case"cosmos":this.rpcProviders[t]=new L0({namespace:g});break;case"polkadot":this.rpcProviders[t]=new N0({namespace:g});break;case"cip34":this.rpcProviders[t]=new U0({namespace:g});break;case"elrond":this.rpcProviders[t]=new M0({namespace:g});break;case"multiversx":this.rpcProviders[t]=new B0({namespace:g})}})}registerEventListeners(){var r=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:s}=t,{event:u}=s;if("accountsChanged"===u.name){const f=u.data;f&&_i(f)&&this.events.emit("accountsChanged",f.map(T0))}else"chainChanged"===u.name?this.onChainChanged(s.chainId):this.events.emit(u.name,u.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:s})=>{var u;const{namespaces:f}=s,g=null==(u=this.client)?void 0:u.session.get(t);this.session=su(go({},g),{namespaces:f}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:s})}),this.client.on("session_delete",function(){var t=S(function*(s){yield r.cleanup(),r.events.emit("session_delete",s),r.events.emit("disconnect",su(go({},lr("USER_DISCONNECTED")),{data:s.topic}))});return function(s){return t.apply(this,arguments)}}()),this.on("default_chain_changed",t=>{this.onChainChanged(t,!0)})}getProvider(r){if(!this.rpcProviders[r])throw new Error(`Provider not found: ${r}`);return this.rpcProviders[r]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(r=>{var t;this.getProvider(r).updateNamespace(null==(t=this.session)?void 0:t.namespaces[r])})}setNamespaces(r){const{namespaces:t,optionalNamespaces:s,sessionProperties:u}=r;t&&Object.keys(t).length&&(this.namespaces=t),s&&Object.keys(s).length&&(this.optionalNamespaces=s),this.sessionProperties=u,this.persist("namespaces",t),this.persist("optionalNamespaces",s)}validateChain(r){const[t,s]=r?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,s];if(t&&!Object.keys(this.namespaces||{}).map(g=>cs(g)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&s)return[t,s];const u=cs(Object.keys(this.namespaces)[0]);return[u,this.rpcProviders[u].getDefaultChain()]}requestAccounts(){var r=this;return S(function*(){const[t]=r.validateChain();return yield r.getProvider(t).requestAccounts()})()}onChainChanged(r,t=!1){var s;if(!this.namespaces)return;const[u,f]=this.validateChain(r);t||this.getProvider(u).setDefaultChain(f),(null!=(s=this.namespaces[u])?s:this.namespaces[`${u}:${f}`]).defaultChain=f,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",f)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}cleanup(){var r=this;return S(function*(){r.session=void 0,r.namespaces=void 0,r.optionalNamespaces=void 0,r.sessionProperties=void 0,r.persist("namespaces",void 0),r.persist("optionalNamespaces",void 0),r.persist("sessionProperties",void 0),yield r.cleanupPendingPairings({deletePairings:!0})})()}persist(r,t){this.client.core.storage.setItem(`${al}/${r}`,t)}getFromStore(r){var t=this;return S(function*(){return yield t.client.core.storage.getItem(`${al}/${r}`)})()}}var k0=["eip155:1"],G0=function(){return function(a,r,t,s){return new(t||(t=Promise))(function(f,g){function I(de){try{Y(s.next(de))}catch(Oe){g(Oe)}}function X(de){try{Y(s.throw(de))}catch(Oe){g(Oe)}}function Y(de){de.done?f(de.value):function u(f){return f instanceof t?f:new t(function(g){g(f)})}(de.value).then(I,X)}Y((s=s.apply(a,r||[])).next())})}(void 0,void 0,void 0,function(){return function(a,r){var s,u,f,g,t={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return g={next:I(0),throw:I(1),return:I(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function I(Y){return function(de){return function X(Y){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,Y[0]&&(t=0)),t;)try{if(s=1,u&&(f=2&Y[0]?u.return:Y[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,Y[1])).done)return f;switch(u=0,f&&(Y=[2&Y[0],f.value]),Y[0]){case 0:case 1:f=Y;break;case 4:return t.label++,{value:Y[1],done:!1};case 5:t.label++,u=Y[1],Y=[0];continue;case 7:Y=t.ops.pop(),t.trys.pop();continue;default:if(!(f=(f=t.trys).length>0&&f[f.length-1])&&(6===Y[0]||2===Y[0])){t=0;continue}if(3===Y[0]&&(!f||Y[1]>f[0]&&Y[1]<f[3])){t.label=Y[1];break}if(6===Y[0]&&t.label<f[1]){t.label=f[1],f=Y;break}if(f&&t.label<f[2]){t.label=f[2],t.ops.push(Y);break}f[2]&&t.ops.pop(),t.trys.pop();continue}Y=r.call(a,t)}catch(de){Y=[6,de],u=0}finally{s=f=0}if(5&Y[0])throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}([Y,de])}}}(this,function(a){switch(a.label){case 0:return[4,ou.init({projectId:"2ec7ead81da1226703ad789c0b2f7b30",logger:"debug",relayUrl:"wss://relay.walletconnect.com"})];case 1:return[2,a.sent()]}})})}},32222:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var B=L(17686);function oe(P,C,w){return void 0===C&&(C=new Uint8Array(2)),void 0===w&&(w=0),C[w+0]=P>>>8,C[w+1]=P>>>0,C}function K(P,C,w){return void 0===C&&(C=new Uint8Array(2)),void 0===w&&(w=0),C[w+0]=P>>>0,C[w+1]=P>>>8,C}function $(P,C){return void 0===C&&(C=0),P[C]<<24|P[C+1]<<16|P[C+2]<<8|P[C+3]}function M(P,C){return void 0===C&&(C=0),(P[C]<<24|P[C+1]<<16|P[C+2]<<8|P[C+3])>>>0}function F(P,C){return void 0===C&&(C=0),P[C+3]<<24|P[C+2]<<16|P[C+1]<<8|P[C]}function ue(P,C){return void 0===C&&(C=0),(P[C+3]<<24|P[C+2]<<16|P[C+1]<<8|P[C])>>>0}function he(P,C,w){return void 0===C&&(C=new Uint8Array(4)),void 0===w&&(w=0),C[w+0]=P>>>24,C[w+1]=P>>>16,C[w+2]=P>>>8,C[w+3]=P>>>0,C}function ie(P,C,w){return void 0===C&&(C=new Uint8Array(4)),void 0===w&&(w=0),C[w+0]=P>>>0,C[w+1]=P>>>8,C[w+2]=P>>>16,C[w+3]=P>>>24,C}function ee(P,C,w){return void 0===C&&(C=new Uint8Array(8)),void 0===w&&(w=0),he(P/4294967296>>>0,C,w),he(P>>>0,C,w+4),C}function j(P,C,w){return void 0===C&&(C=new Uint8Array(8)),void 0===w&&(w=0),ie(P>>>0,C,w),ie(P/4294967296>>>0,C,w+4),C}m.readInt16BE=function ae(P,C){return void 0===C&&(C=0),(P[C+0]<<8|P[C+1])<<16>>16},m.readUint16BE=function _e(P,C){return void 0===C&&(C=0),(P[C+0]<<8|P[C+1])>>>0},m.readInt16LE=function fe(P,C){return void 0===C&&(C=0),(P[C+1]<<8|P[C])<<16>>16},m.readUint16LE=function Z(P,C){return void 0===C&&(C=0),(P[C+1]<<8|P[C])>>>0},m.writeUint16BE=oe,m.writeInt16BE=oe,m.writeUint16LE=K,m.writeInt16LE=K,m.readInt32BE=$,m.readUint32BE=M,m.readInt32LE=F,m.readUint32LE=ue,m.writeUint32BE=he,m.writeInt32BE=he,m.writeUint32LE=ie,m.writeInt32LE=ie,m.readInt64BE=function S(P,C){void 0===C&&(C=0);var w=$(P,C),q=$(P,C+4);return 4294967296*w+q-4294967296*(q>>31)},m.readUint64BE=function me(P,C){return void 0===C&&(C=0),4294967296*M(P,C)+M(P,C+4)},m.readInt64LE=function De(P,C){void 0===C&&(C=0);var w=F(P,C);return 4294967296*F(P,C+4)+w-4294967296*(w>>31)},m.readUint64LE=function Ee(P,C){void 0===C&&(C=0);var w=ue(P,C);return 4294967296*ue(P,C+4)+w},m.writeUint64BE=ee,m.writeInt64BE=ee,m.writeUint64LE=j,m.writeInt64LE=j,m.readUintBE=function z(P,C,w){if(void 0===w&&(w=0),P%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(P/8>C.length-w)throw new Error("readUintBE: array is too short for the given bitLength");for(var q=0,ce=1,W=P/8+w-1;W>=w;W--)q+=C[W]*ce,ce*=256;return q},m.readUintLE=function R(P,C,w){if(void 0===w&&(w=0),P%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(P/8>C.length-w)throw new Error("readUintLE: array is too short for the given bitLength");for(var q=0,ce=1,W=w;W<w+P/8;W++)q+=C[W]*ce,ce*=256;return q},m.writeUintBE=function V(P,C,w,q){if(void 0===w&&(w=new Uint8Array(P/8)),void 0===q&&(q=0),P%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!B.isSafeInteger(C))throw new Error("writeUintBE value must be an integer");for(var ce=1,W=P/8+q-1;W>=q;W--)w[W]=C/ce&255,ce*=256;return w},m.writeUintLE=function T(P,C,w,q){if(void 0===w&&(w=new Uint8Array(P/8)),void 0===q&&(q=0),P%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!B.isSafeInteger(C))throw new Error("writeUintLE value must be an integer");for(var ce=1,W=q;W<q+P/8;W++)w[W]=C/ce&255,ce*=256;return w},m.readFloat32BE=function h(P,C){return void 0===C&&(C=0),new DataView(P.buffer,P.byteOffset,P.byteLength).getFloat32(C)},m.readFloat32LE=function l(P,C){return void 0===C&&(C=0),new DataView(P.buffer,P.byteOffset,P.byteLength).getFloat32(C,!0)},m.readFloat64BE=function v(P,C){return void 0===C&&(C=0),new DataView(P.buffer,P.byteOffset,P.byteLength).getFloat64(C)},m.readFloat64LE=function y(P,C){return void 0===C&&(C=0),new DataView(P.buffer,P.byteOffset,P.byteLength).getFloat64(C,!0)},m.writeFloat32BE=function x(P,C,w){return void 0===C&&(C=new Uint8Array(4)),void 0===w&&(w=0),new DataView(C.buffer,C.byteOffset,C.byteLength).setFloat32(w,P),C},m.writeFloat32LE=function b(P,C,w){return void 0===C&&(C=new Uint8Array(4)),void 0===w&&(w=0),new DataView(C.buffer,C.byteOffset,C.byteLength).setFloat32(w,P,!0),C},m.writeFloat64BE=function p(P,C,w){return void 0===C&&(C=new Uint8Array(8)),void 0===w&&(w=0),new DataView(C.buffer,C.byteOffset,C.byteLength).setFloat64(w,P),C},m.writeFloat64LE=function D(P,C,w){return void 0===C&&(C=new Uint8Array(8)),void 0===w&&(w=0),new DataView(C.buffer,C.byteOffset,C.byteLength).setFloat64(w,P,!0),C}},24553:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var B=L(32222),ae=L(11512);function fe($,M,F){for(var ue=1634760805,he=857760878,ie=2036477234,S=1797285236,me=F[3]<<24|F[2]<<16|F[1]<<8|F[0],De=F[7]<<24|F[6]<<16|F[5]<<8|F[4],Ee=F[11]<<24|F[10]<<16|F[9]<<8|F[8],ee=F[15]<<24|F[14]<<16|F[13]<<8|F[12],j=F[19]<<24|F[18]<<16|F[17]<<8|F[16],z=F[23]<<24|F[22]<<16|F[21]<<8|F[20],R=F[27]<<24|F[26]<<16|F[25]<<8|F[24],V=F[31]<<24|F[30]<<16|F[29]<<8|F[28],T=M[3]<<24|M[2]<<16|M[1]<<8|M[0],h=M[7]<<24|M[6]<<16|M[5]<<8|M[4],l=M[11]<<24|M[10]<<16|M[9]<<8|M[8],v=M[15]<<24|M[14]<<16|M[13]<<8|M[12],y=ue,x=he,b=ie,p=S,D=me,P=De,C=Ee,w=ee,q=j,ce=z,W=R,Pe=V,ye=T,xe=h,Te=l,Le=v,Me=0;Me<20;Me+=2)D=(D^=q=q+(ye=(ye^=y=y+D|0)>>>16|ye<<16)|0)>>>20|D<<12,P=(P^=ce=ce+(xe=(xe^=x=x+P|0)>>>16|xe<<16)|0)>>>20|P<<12,C=(C^=W=W+(Te=(Te^=b=b+C|0)>>>16|Te<<16)|0)>>>20|C<<12,w=(w^=Pe=Pe+(Le=(Le^=p=p+w|0)>>>16|Le<<16)|0)>>>20|w<<12,C=(C^=W=W+(Te=(Te^=b=b+C|0)>>>24|Te<<8)|0)>>>25|C<<7,w=(w^=Pe=Pe+(Le=(Le^=p=p+w|0)>>>24|Le<<8)|0)>>>25|w<<7,P=(P^=ce=ce+(xe=(xe^=x=x+P|0)>>>24|xe<<8)|0)>>>25|P<<7,D=(D^=q=q+(ye=(ye^=y=y+D|0)>>>24|ye<<8)|0)>>>25|D<<7,P=(P^=W=W+(Le=(Le^=y=y+P|0)>>>16|Le<<16)|0)>>>20|P<<12,C=(C^=Pe=Pe+(ye=(ye^=x=x+C|0)>>>16|ye<<16)|0)>>>20|C<<12,w=(w^=q=q+(xe=(xe^=b=b+w|0)>>>16|xe<<16)|0)>>>20|w<<12,D=(D^=ce=ce+(Te=(Te^=p=p+D|0)>>>16|Te<<16)|0)>>>20|D<<12,w=(w^=q=q+(xe=(xe^=b=b+w|0)>>>24|xe<<8)|0)>>>25|w<<7,D=(D^=ce=ce+(Te=(Te^=p=p+D|0)>>>24|Te<<8)|0)>>>25|D<<7,C=(C^=Pe=Pe+(ye=(ye^=x=x+C|0)>>>24|ye<<8)|0)>>>25|C<<7,P=(P^=W=W+(Le=(Le^=y=y+P|0)>>>24|Le<<8)|0)>>>25|P<<7;B.writeUint32LE(y+ue|0,$,0),B.writeUint32LE(x+he|0,$,4),B.writeUint32LE(b+ie|0,$,8),B.writeUint32LE(p+S|0,$,12),B.writeUint32LE(D+me|0,$,16),B.writeUint32LE(P+De|0,$,20),B.writeUint32LE(C+Ee|0,$,24),B.writeUint32LE(w+ee|0,$,28),B.writeUint32LE(q+j|0,$,32),B.writeUint32LE(ce+z|0,$,36),B.writeUint32LE(W+R|0,$,40),B.writeUint32LE(Pe+V|0,$,44),B.writeUint32LE(ye+T|0,$,48),B.writeUint32LE(xe+h|0,$,52),B.writeUint32LE(Te+l|0,$,56),B.writeUint32LE(Le+v|0,$,60)}function Z($,M,F,ue,he){if(void 0===he&&(he=0),32!==$.length)throw new Error("ChaCha: key size must be 32 bytes");if(ue.length<F.length)throw new Error("ChaCha: destination is shorter than source");var ie,S;if(0===he){if(8!==M.length&&12!==M.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");(ie=new Uint8Array(16)).set(M,S=ie.length-M.length)}else{if(16!==M.length)throw new Error("ChaCha nonce with counter must be 16 bytes");ie=M,S=he}for(var me=new Uint8Array(64),De=0;De<F.length;De+=64){fe(me,ie,$);for(var Ee=De;Ee<De+64&&Ee<F.length;Ee++)ue[Ee]=F[Ee]^me[Ee-De];K(ie,0,S)}return ae.wipe(me),0===he&&ae.wipe(ie),ue}function K($,M,F){for(var ue=1;F--;)$[M]=255&(ue=ue+(255&$[M])|0),ue>>>=8,M++;if(ue>0)throw new Error("ChaCha: counter overflow")}m.streamXOR=Z,m.stream=function oe($,M,F,ue){return void 0===ue&&(ue=0),ae.wipe(F),Z($,M,F,F,ue)}},31118:(Ae,m,L)=>{"use strict";var ae=L(24553),_e=L(83905),fe=L(11512),Z=L(32222),oe=L(93386);m.Cv=32,m.WH=12,m.pg=16;var K=new Uint8Array(16),$=function(){function M(F){if(this.nonceLength=m.WH,this.tagLength=m.pg,F.length!==m.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(F)}return M.prototype.seal=function(F,ue,he,ie){if(F.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var S=new Uint8Array(16);S.set(F,S.length-F.length);var me=new Uint8Array(32);ae.stream(this._key,S,me,4);var Ee,De=ue.length+this.tagLength;if(ie){if(ie.length!==De)throw new Error("ChaCha20Poly1305: incorrect destination length");Ee=ie}else Ee=new Uint8Array(De);return ae.streamXOR(this._key,S,ue,Ee,4),this._authenticate(Ee.subarray(Ee.length-this.tagLength,Ee.length),me,Ee.subarray(0,Ee.length-this.tagLength),he),fe.wipe(S),Ee},M.prototype.open=function(F,ue,he,ie){if(F.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(ue.length<this.tagLength)return null;var S=new Uint8Array(16);S.set(F,S.length-F.length);var me=new Uint8Array(32);ae.stream(this._key,S,me,4);var De=new Uint8Array(this.tagLength);if(this._authenticate(De,me,ue.subarray(0,ue.length-this.tagLength),he),!oe.equal(De,ue.subarray(ue.length-this.tagLength,ue.length)))return null;var ee,Ee=ue.length-this.tagLength;if(ie){if(ie.length!==Ee)throw new Error("ChaCha20Poly1305: incorrect destination length");ee=ie}else ee=new Uint8Array(Ee);return ae.streamXOR(this._key,S,ue.subarray(0,ue.length-this.tagLength),ee,4),fe.wipe(S),ee},M.prototype.clean=function(){return fe.wipe(this._key),this},M.prototype._authenticate=function(F,ue,he,ie){var S=new _e.Poly1305(ue);ie&&(S.update(ie),ie.length%16>0&&S.update(K.subarray(ie.length%16))),S.update(he),he.length%16>0&&S.update(K.subarray(he.length%16));var me=new Uint8Array(8);ie&&Z.writeUint64LE(ie.length,me),S.update(me),Z.writeUint64LE(he.length,me),S.update(me);for(var De=S.digest(),Ee=0;Ee<De.length;Ee++)F[Ee]=De[Ee];S.clean(),fe.wipe(De),fe.wipe(me)},M}();m.OK=$},93386:(Ae,m)=>{"use strict";function ae(fe,Z){if(fe.length!==Z.length)return 0;for(var oe=0,K=0;K<fe.length;K++)oe|=fe[K]^Z[K];return 1&oe-1>>>8}Object.defineProperty(m,"__esModule",{value:!0}),m.select=function L(fe,Z,oe){return~(fe-1)&Z|fe-1&oe},m.lessOrEqual=function B(fe,Z){return(0|fe)-(0|Z)-1>>>31&1},m.compare=ae,m.equal=function _e(fe,Z){return 0!==fe.length&&0!==Z.length&&0!==ae(fe,Z)}},52877:(Ae,m,L)=>{"use strict";m.Xx=m._w=m.aP=m.KS=m.jQ=void 0;L(7841);const _e=L(85198);L(11512);function Z(G){const le=new Float64Array(16);if(G)for(let te=0;te<G.length;te++)le[te]=G[te];return le}m.jQ=64,m.KS=64,m.aP=32,new Uint8Array(32)[0]=9;const K=Z(),$=Z([1]),F=(Z([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Z([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),ue=Z([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),he=Z([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);Z([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function S(G,le){for(let te=0;te<16;te++)G[te]=0|le[te]}function me(G){let le=1;for(let te=0;te<16;te++){let _=G[te]+le+65535;le=Math.floor(_/65536),G[te]=_-65536*le}G[0]+=le-1+37*(le-1)}function De(G,le,te){const _=~(te-1);for(let k=0;k<16;k++){const Ce=_&(G[k]^le[k]);G[k]^=Ce,le[k]^=Ce}}function Ee(G,le){const te=Z(),_=Z();for(let k=0;k<16;k++)_[k]=le[k];me(_),me(_),me(_);for(let k=0;k<2;k++){te[0]=_[0]-65517;for(let ze=1;ze<15;ze++)te[ze]=_[ze]-65535-(te[ze-1]>>16&1),te[ze-1]&=65535;te[15]=_[15]-32767-(te[14]>>16&1);const Ce=te[15]>>16&1;te[14]&=65535,De(_,te,1-Ce)}for(let k=0;k<16;k++)G[2*k]=255&_[k],G[2*k+1]=_[k]>>8}function z(G){const le=new Uint8Array(32);return Ee(le,G),1&le[0]}function V(G,le,te){for(let _=0;_<16;_++)G[_]=le[_]+te[_]}function T(G,le,te){for(let _=0;_<16;_++)G[_]=le[_]-te[_]}function h(G,le,te){let _,k,Ce=0,ze=0,st=0,wt=0,ut=0,vt=0,Bt=0,Yt=0,pt=0,ct=0,nt=0,at=0,tt=0,Ge=0,$e=0,We=0,Je=0,ft=0,ht=0,mt=0,bt=0,gt=0,Et=0,Dt=0,Jr=0,wr=0,cn=0,An=0,Wn=0,Cn=0,fn=0,qt=te[0],Wt=te[1],kt=te[2],$t=te[3],sr=te[4],Xt=te[5],Qt=te[6],or=te[7],ar=te[8],Zt=te[9],Vt=te[10],jt=te[11],er=te[12],hr=te[13],ur=te[14],cr=te[15];_=le[0],Ce+=_*qt,ze+=_*Wt,st+=_*kt,wt+=_*$t,ut+=_*sr,vt+=_*Xt,Bt+=_*Qt,Yt+=_*or,pt+=_*ar,ct+=_*Zt,nt+=_*Vt,at+=_*jt,tt+=_*er,Ge+=_*hr,$e+=_*ur,We+=_*cr,_=le[1],ze+=_*qt,st+=_*Wt,wt+=_*kt,ut+=_*$t,vt+=_*sr,Bt+=_*Xt,Yt+=_*Qt,pt+=_*or,ct+=_*ar,nt+=_*Zt,at+=_*Vt,tt+=_*jt,Ge+=_*er,$e+=_*hr,We+=_*ur,Je+=_*cr,_=le[2],st+=_*qt,wt+=_*Wt,ut+=_*kt,vt+=_*$t,Bt+=_*sr,Yt+=_*Xt,pt+=_*Qt,ct+=_*or,nt+=_*ar,at+=_*Zt,tt+=_*Vt,Ge+=_*jt,$e+=_*er,We+=_*hr,Je+=_*ur,ft+=_*cr,_=le[3],wt+=_*qt,ut+=_*Wt,vt+=_*kt,Bt+=_*$t,Yt+=_*sr,pt+=_*Xt,ct+=_*Qt,nt+=_*or,at+=_*ar,tt+=_*Zt,Ge+=_*Vt,$e+=_*jt,We+=_*er,Je+=_*hr,ft+=_*ur,ht+=_*cr,_=le[4],ut+=_*qt,vt+=_*Wt,Bt+=_*kt,Yt+=_*$t,pt+=_*sr,ct+=_*Xt,nt+=_*Qt,at+=_*or,tt+=_*ar,Ge+=_*Zt,$e+=_*Vt,We+=_*jt,Je+=_*er,ft+=_*hr,ht+=_*ur,mt+=_*cr,_=le[5],vt+=_*qt,Bt+=_*Wt,Yt+=_*kt,pt+=_*$t,ct+=_*sr,nt+=_*Xt,at+=_*Qt,tt+=_*or,Ge+=_*ar,$e+=_*Zt,We+=_*Vt,Je+=_*jt,ft+=_*er,ht+=_*hr,mt+=_*ur,bt+=_*cr,_=le[6],Bt+=_*qt,Yt+=_*Wt,pt+=_*kt,ct+=_*$t,nt+=_*sr,at+=_*Xt,tt+=_*Qt,Ge+=_*or,$e+=_*ar,We+=_*Zt,Je+=_*Vt,ft+=_*jt,ht+=_*er,mt+=_*hr,bt+=_*ur,gt+=_*cr,_=le[7],Yt+=_*qt,pt+=_*Wt,ct+=_*kt,nt+=_*$t,at+=_*sr,tt+=_*Xt,Ge+=_*Qt,$e+=_*or,We+=_*ar,Je+=_*Zt,ft+=_*Vt,ht+=_*jt,mt+=_*er,bt+=_*hr,gt+=_*ur,Et+=_*cr,_=le[8],pt+=_*qt,ct+=_*Wt,nt+=_*kt,at+=_*$t,tt+=_*sr,Ge+=_*Xt,$e+=_*Qt,We+=_*or,Je+=_*ar,ft+=_*Zt,ht+=_*Vt,mt+=_*jt,bt+=_*er,gt+=_*hr,Et+=_*ur,Dt+=_*cr,_=le[9],ct+=_*qt,nt+=_*Wt,at+=_*kt,tt+=_*$t,Ge+=_*sr,$e+=_*Xt,We+=_*Qt,Je+=_*or,ft+=_*ar,ht+=_*Zt,mt+=_*Vt,bt+=_*jt,gt+=_*er,Et+=_*hr,Dt+=_*ur,Jr+=_*cr,_=le[10],nt+=_*qt,at+=_*Wt,tt+=_*kt,Ge+=_*$t,$e+=_*sr,We+=_*Xt,Je+=_*Qt,ft+=_*or,ht+=_*ar,mt+=_*Zt,bt+=_*Vt,gt+=_*jt,Et+=_*er,Dt+=_*hr,Jr+=_*ur,wr+=_*cr,_=le[11],at+=_*qt,tt+=_*Wt,Ge+=_*kt,$e+=_*$t,We+=_*sr,Je+=_*Xt,ft+=_*Qt,ht+=_*or,mt+=_*ar,bt+=_*Zt,gt+=_*Vt,Et+=_*jt,Dt+=_*er,Jr+=_*hr,wr+=_*ur,cn+=_*cr,_=le[12],tt+=_*qt,Ge+=_*Wt,$e+=_*kt,We+=_*$t,Je+=_*sr,ft+=_*Xt,ht+=_*Qt,mt+=_*or,bt+=_*ar,gt+=_*Zt,Et+=_*Vt,Dt+=_*jt,Jr+=_*er,wr+=_*hr,cn+=_*ur,An+=_*cr,_=le[13],Ge+=_*qt,$e+=_*Wt,We+=_*kt,Je+=_*$t,ft+=_*sr,ht+=_*Xt,mt+=_*Qt,bt+=_*or,gt+=_*ar,Et+=_*Zt,Dt+=_*Vt,Jr+=_*jt,wr+=_*er,cn+=_*hr,An+=_*ur,Wn+=_*cr,_=le[14],$e+=_*qt,We+=_*Wt,Je+=_*kt,ft+=_*$t,ht+=_*sr,mt+=_*Xt,bt+=_*Qt,gt+=_*or,Et+=_*ar,Dt+=_*Zt,Jr+=_*Vt,wr+=_*jt,cn+=_*er,An+=_*hr,Wn+=_*ur,Cn+=_*cr,_=le[15],We+=_*qt,Je+=_*Wt,ft+=_*kt,ht+=_*$t,mt+=_*sr,bt+=_*Xt,gt+=_*Qt,Et+=_*or,Dt+=_*ar,Jr+=_*Zt,wr+=_*Vt,cn+=_*jt,An+=_*er,Wn+=_*hr,Cn+=_*ur,fn+=_*cr,Ce+=38*Je,ze+=38*ft,st+=38*ht,wt+=38*mt,ut+=38*bt,vt+=38*gt,Bt+=38*Et,Yt+=38*Dt,pt+=38*Jr,ct+=38*wr,nt+=38*cn,at+=38*An,tt+=38*Wn,Ge+=38*Cn,$e+=38*fn,k=1,_=Ce+k+65535,k=Math.floor(_/65536),Ce=_-65536*k,_=ze+k+65535,k=Math.floor(_/65536),ze=_-65536*k,_=st+k+65535,k=Math.floor(_/65536),st=_-65536*k,_=wt+k+65535,k=Math.floor(_/65536),wt=_-65536*k,_=ut+k+65535,k=Math.floor(_/65536),ut=_-65536*k,_=vt+k+65535,k=Math.floor(_/65536),vt=_-65536*k,_=Bt+k+65535,k=Math.floor(_/65536),Bt=_-65536*k,_=Yt+k+65535,k=Math.floor(_/65536),Yt=_-65536*k,_=pt+k+65535,k=Math.floor(_/65536),pt=_-65536*k,_=ct+k+65535,k=Math.floor(_/65536),ct=_-65536*k,_=nt+k+65535,k=Math.floor(_/65536),nt=_-65536*k,_=at+k+65535,k=Math.floor(_/65536),at=_-65536*k,_=tt+k+65535,k=Math.floor(_/65536),tt=_-65536*k,_=Ge+k+65535,k=Math.floor(_/65536),Ge=_-65536*k,_=$e+k+65535,k=Math.floor(_/65536),$e=_-65536*k,_=We+k+65535,k=Math.floor(_/65536),We=_-65536*k,Ce+=k-1+37*(k-1),k=1,_=Ce+k+65535,k=Math.floor(_/65536),Ce=_-65536*k,_=ze+k+65535,k=Math.floor(_/65536),ze=_-65536*k,_=st+k+65535,k=Math.floor(_/65536),st=_-65536*k,_=wt+k+65535,k=Math.floor(_/65536),wt=_-65536*k,_=ut+k+65535,k=Math.floor(_/65536),ut=_-65536*k,_=vt+k+65535,k=Math.floor(_/65536),vt=_-65536*k,_=Bt+k+65535,k=Math.floor(_/65536),Bt=_-65536*k,_=Yt+k+65535,k=Math.floor(_/65536),Yt=_-65536*k,_=pt+k+65535,k=Math.floor(_/65536),pt=_-65536*k,_=ct+k+65535,k=Math.floor(_/65536),ct=_-65536*k,_=nt+k+65535,k=Math.floor(_/65536),nt=_-65536*k,_=at+k+65535,k=Math.floor(_/65536),at=_-65536*k,_=tt+k+65535,k=Math.floor(_/65536),tt=_-65536*k,_=Ge+k+65535,k=Math.floor(_/65536),Ge=_-65536*k,_=$e+k+65535,k=Math.floor(_/65536),$e=_-65536*k,_=We+k+65535,k=Math.floor(_/65536),We=_-65536*k,Ce+=k-1+37*(k-1),G[0]=Ce,G[1]=ze,G[2]=st,G[3]=wt,G[4]=ut,G[5]=vt,G[6]=Bt,G[7]=Yt,G[8]=pt,G[9]=ct,G[10]=nt,G[11]=at,G[12]=tt,G[13]=Ge,G[14]=$e,G[15]=We}function l(G,le){h(G,le,le)}function x(G,le){const te=Z(),_=Z(),k=Z(),Ce=Z(),ze=Z(),st=Z(),wt=Z(),ut=Z(),vt=Z();T(te,G[1],G[0]),T(vt,le[1],le[0]),h(te,te,vt),V(_,G[0],G[1]),V(vt,le[0],le[1]),h(_,_,vt),h(k,G[3],le[3]),h(k,k,F),h(Ce,G[2],le[2]),V(Ce,Ce,Ce),T(ze,_,te),T(st,Ce,k),V(wt,Ce,k),V(ut,_,te),h(G[0],ze,st),h(G[1],ut,wt),h(G[2],wt,st),h(G[3],ze,ut)}function b(G,le,te){for(let _=0;_<4;_++)De(G[_],le[_],te)}function p(G,le){const te=Z(),_=Z(),k=Z();(function v(G,le){const te=Z();let _;for(_=0;_<16;_++)te[_]=le[_];for(_=253;_>=0;_--)l(te,te),2!==_&&4!==_&&h(te,te,le);for(_=0;_<16;_++)G[_]=te[_]})(k,le[2]),h(te,le[0],k),h(_,le[1],k),Ee(G,_),G[31]^=z(te)<<7}function P(G,le){const te=[Z(),Z(),Z(),Z()];S(te[0],ue),S(te[1],he),S(te[2],$),h(te[3],ue,he),function D(G,le,te){S(G[0],K),S(G[1],$),S(G[2],$),S(G[3],K);for(let _=255;_>=0;--_){const k=te[_/8|0]>>(7&_)&1;b(G,le,k),x(le,G),x(G,G),b(G,le,k)}}(G,te,le)}m._w=function C(G){if(G.length!==m.aP)throw new Error(`ed25519: seed must be ${m.aP} bytes`);const le=(0,_e.hash)(G);le[0]&=248,le[31]&=127,le[31]|=64;const te=new Uint8Array(32),_=[Z(),Z(),Z(),Z()];P(_,le),p(te,_);const k=new Uint8Array(64);return k.set(G),k.set(te,32),{publicKey:te,secretKey:k}};const ce=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function W(G,le){let te,_,k,Ce;for(_=63;_>=32;--_){for(te=0,k=_-32,Ce=_-12;k<Ce;++k)le[k]+=te-16*le[_]*ce[k-(_-32)],te=Math.floor((le[k]+128)/256),le[k]-=256*te;le[k]+=te,le[_]=0}for(te=0,k=0;k<32;k++)le[k]+=te-(le[31]>>4)*ce[k],te=le[k]>>8,le[k]&=255;for(k=0;k<32;k++)le[k]-=te*ce[k];for(_=0;_<32;_++)le[_+1]+=le[_]>>8,G[_]=255&le[_]}function Pe(G){const le=new Float64Array(64);for(let te=0;te<64;te++)le[te]=G[te];for(let te=0;te<64;te++)G[te]=0;W(G,le)}m.Xx=function ye(G,le){const te=new Float64Array(64),_=[Z(),Z(),Z(),Z()],k=(0,_e.hash)(G.subarray(0,32));k[0]&=248,k[31]&=127,k[31]|=64;const Ce=new Uint8Array(64);Ce.set(k.subarray(32),32);const ze=new _e.SHA512;ze.update(Ce.subarray(32)),ze.update(le);const st=ze.digest();ze.clean(),Pe(st),P(_,st),p(Ce,_),ze.reset(),ze.update(Ce.subarray(0,32)),ze.update(G.subarray(32)),ze.update(le);const wt=ze.digest();Pe(wt);for(let ut=0;ut<32;ut++)te[ut]=st[ut];for(let ut=0;ut<32;ut++)for(let vt=0;vt<32;vt++)te[ut+vt]+=wt[ut]*k[vt];return W(Ce.subarray(32),te),Ce}},51845:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.isSerializableHash=function L(B){return typeof B.saveState<"u"&&typeof B.restoreState<"u"&&typeof B.cleanSavedState<"u"}},82584:(Ae,m,L)=>{"use strict";var ae=L(99171),_e=L(11512),fe=function(){function Z(oe,K,$,M){void 0===$&&($=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=oe,this._info=M;var F=ae.hmac(this._hash,$,K);this._hmac=new ae.HMAC(oe,F),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return Z.prototype._fillBuffer=function(){this._counter[0]++;var oe=this._counter[0];if(0===oe)throw new Error("hkdf: cannot expand more");this._hmac.reset(),oe>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},Z.prototype.expand=function(oe){for(var K=new Uint8Array(oe),$=0;$<K.length;$++)this._bufpos===this._buffer.length&&this._fillBuffer(),K[$]=this._buffer[this._bufpos++];return K},Z.prototype.clean=function(){this._hmac.clean(),_e.wipe(this._buffer),_e.wipe(this._counter),this._bufpos=0},Z}();m.t=fe},99171:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var B=L(51845),ae=L(93386),_e=L(11512),fe=function(){function oe(K,$){this._finished=!1,this._inner=new K,this._outer=new K,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var M=new Uint8Array(this.blockSize);$.length>this.blockSize?this._inner.update($).finish(M).clean():M.set($);for(var F=0;F<M.length;F++)M[F]^=54;for(this._inner.update(M),F=0;F<M.length;F++)M[F]^=106;this._outer.update(M),B.isSerializableHash(this._inner)&&B.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),_e.wipe(M)}return oe.prototype.reset=function(){if(!B.isSerializableHash(this._inner)||!B.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},oe.prototype.clean=function(){B.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),B.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},oe.prototype.update=function(K){return this._inner.update(K),this},oe.prototype.finish=function(K){return this._finished?(this._outer.finish(K),this):(this._inner.finish(K),this._outer.update(K.subarray(0,this.digestLength)).finish(K),this._finished=!0,this)},oe.prototype.digest=function(){var K=new Uint8Array(this.digestLength);return this.finish(K),K},oe.prototype.saveState=function(){if(!B.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},oe.prototype.restoreState=function(K){if(!B.isSerializableHash(this._inner)||!B.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(K),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},oe.prototype.cleanSavedState=function(K){if(!B.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(K)},oe}();m.HMAC=fe,m.hmac=function Z(oe,K,$){var M=new fe(oe,K);M.update($);var F=M.digest();return M.clean(),F},m.equal=ae.equal},17686:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.mul=Math.imul||function L(oe,K){var M=65535&oe,ue=65535&K;return M*ue+((oe>>>16&65535)*ue+M*(K>>>16&65535)<<16>>>0)|0},m.add=function B(oe,K){return oe+K|0},m.sub=function ae(oe,K){return oe-K|0},m.rotl=function _e(oe,K){return oe<<K|oe>>>32-K},m.rotr=function fe(oe,K){return oe<<32-K|oe>>>K},m.isInteger=Number.isInteger||function Z(oe){return"number"==typeof oe&&isFinite(oe)&&Math.floor(oe)===oe},m.MAX_SAFE_INTEGER=9007199254740991,m.isSafeInteger=function(oe){return m.isInteger(oe)&&oe>=-m.MAX_SAFE_INTEGER&&oe<=m.MAX_SAFE_INTEGER}},83905:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var B=L(93386),ae=L(11512);m.DIGEST_LENGTH=16;var _e=function(){function oe(K){this.digestLength=m.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var $=K[0]|K[1]<<8;this._r[0]=8191&$;var M=K[2]|K[3]<<8;this._r[1]=8191&($>>>13|M<<3);var F=K[4]|K[5]<<8;this._r[2]=7939&(M>>>10|F<<6);var ue=K[6]|K[7]<<8;this._r[3]=8191&(F>>>7|ue<<9);var he=K[8]|K[9]<<8;this._r[4]=255&(ue>>>4|he<<12),this._r[5]=he>>>1&8190;var ie=K[10]|K[11]<<8;this._r[6]=8191&(he>>>14|ie<<2);var S=K[12]|K[13]<<8;this._r[7]=8065&(ie>>>11|S<<5);var me=K[14]|K[15]<<8;this._r[8]=8191&(S>>>8|me<<8),this._r[9]=me>>>5&127,this._pad[0]=K[16]|K[17]<<8,this._pad[1]=K[18]|K[19]<<8,this._pad[2]=K[20]|K[21]<<8,this._pad[3]=K[22]|K[23]<<8,this._pad[4]=K[24]|K[25]<<8,this._pad[5]=K[26]|K[27]<<8,this._pad[6]=K[28]|K[29]<<8,this._pad[7]=K[30]|K[31]<<8}return oe.prototype._blocks=function(K,$,M){for(var F=this._fin?0:2048,ue=this._h[0],he=this._h[1],ie=this._h[2],S=this._h[3],me=this._h[4],De=this._h[5],Ee=this._h[6],ee=this._h[7],j=this._h[8],z=this._h[9],R=this._r[0],V=this._r[1],T=this._r[2],h=this._r[3],l=this._r[4],v=this._r[5],y=this._r[6],x=this._r[7],b=this._r[8],p=this._r[9];M>=16;){var D=K[$+0]|K[$+1]<<8,P=K[$+2]|K[$+3]<<8,C=K[$+4]|K[$+5]<<8,w=K[$+6]|K[$+7]<<8,q=K[$+8]|K[$+9]<<8,ce=K[$+10]|K[$+11]<<8,W=K[$+12]|K[$+13]<<8,Pe=K[$+14]|K[$+15]<<8,ye=0,xe=ye;xe+=(ue+=8191&D)*R,xe+=(he+=8191&(D>>>13|P<<3))*(5*p),xe+=(ie+=8191&(P>>>10|C<<6))*(5*b),xe+=(S+=8191&(C>>>7|w<<9))*(5*x),ye=(xe+=(me+=8191&(w>>>4|q<<12))*(5*y))>>>13,xe&=8191,xe+=(De+=q>>>1&8191)*(5*v),xe+=(Ee+=8191&(q>>>14|ce<<2))*(5*l),xe+=(ee+=8191&(ce>>>11|W<<5))*(5*h),xe+=(j+=8191&(W>>>8|Pe<<8))*(5*T);var Te=ye+=(xe+=(z+=Pe>>>5|F)*(5*V))>>>13;Te+=ue*V,Te+=he*R,Te+=ie*(5*p),Te+=S*(5*b),ye=(Te+=me*(5*x))>>>13,Te&=8191,Te+=De*(5*y),Te+=Ee*(5*v),Te+=ee*(5*l),Te+=j*(5*h),ye+=(Te+=z*(5*T))>>>13,Te&=8191;var Le=ye;Le+=ue*T,Le+=he*V,Le+=ie*R,Le+=S*(5*p),ye=(Le+=me*(5*b))>>>13,Le&=8191,Le+=De*(5*x),Le+=Ee*(5*y),Le+=ee*(5*v),Le+=j*(5*l);var Me=ye+=(Le+=z*(5*h))>>>13;Me+=ue*h,Me+=he*T,Me+=ie*V,Me+=S*R,ye=(Me+=me*(5*p))>>>13,Me&=8191,Me+=De*(5*b),Me+=Ee*(5*x),Me+=ee*(5*y),Me+=j*(5*v);var G=ye+=(Me+=z*(5*l))>>>13;G+=ue*l,G+=he*h,G+=ie*T,G+=S*V,ye=(G+=me*R)>>>13,G&=8191,G+=De*(5*p),G+=Ee*(5*b),G+=ee*(5*x),G+=j*(5*y);var le=ye+=(G+=z*(5*v))>>>13;le+=ue*v,le+=he*l,le+=ie*h,le+=S*T,ye=(le+=me*V)>>>13,le&=8191,le+=De*R,le+=Ee*(5*p),le+=ee*(5*b),le+=j*(5*x);var te=ye+=(le+=z*(5*y))>>>13;te+=ue*y,te+=he*v,te+=ie*l,te+=S*h,ye=(te+=me*T)>>>13,te&=8191,te+=De*V,te+=Ee*R,te+=ee*(5*p),te+=j*(5*b);var _=ye+=(te+=z*(5*x))>>>13;_+=ue*x,_+=he*y,_+=ie*v,_+=S*l,ye=(_+=me*h)>>>13,_&=8191,_+=De*T,_+=Ee*V,_+=ee*R,_+=j*(5*p);var k=ye+=(_+=z*(5*b))>>>13;k+=ue*b,k+=he*x,k+=ie*y,k+=S*v,ye=(k+=me*l)>>>13,k&=8191,k+=De*h,k+=Ee*T,k+=ee*V,k+=j*R;var Ce=ye+=(k+=z*(5*p))>>>13;Ce+=ue*p,Ce+=he*b,Ce+=ie*x,Ce+=S*y,ye=(Ce+=me*v)>>>13,Ce&=8191,Ce+=De*l,Ce+=Ee*h,Ce+=ee*T,Ce+=j*V,ue=xe=8191&(ye=(ye=((ye+=(Ce+=z*R)>>>13)<<2)+ye|0)+(xe&=8191)|0),he=Te+=ye>>>=13,ie=Le&=8191,S=Me&=8191,me=G&=8191,De=le&=8191,Ee=te&=8191,ee=_&=8191,j=k&=8191,z=Ce&=8191,$+=16,M-=16}this._h[0]=ue,this._h[1]=he,this._h[2]=ie,this._h[3]=S,this._h[4]=me,this._h[5]=De,this._h[6]=Ee,this._h[7]=ee,this._h[8]=j,this._h[9]=z},oe.prototype.finish=function(K,$){void 0===$&&($=0);var F,ue,he,ie,M=new Uint16Array(10);if(this._leftover){for(ie=this._leftover,this._buffer[ie++]=1;ie<16;ie++)this._buffer[ie]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(F=this._h[1]>>>13,this._h[1]&=8191,ie=2;ie<10;ie++)this._h[ie]+=F,F=this._h[ie]>>>13,this._h[ie]&=8191;for(this._h[0]+=5*F,F=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=F,F=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=F,M[0]=this._h[0]+5,F=M[0]>>>13,M[0]&=8191,ie=1;ie<10;ie++)M[ie]=this._h[ie]+F,F=M[ie]>>>13,M[ie]&=8191;for(M[9]-=8192,ue=(1^F)-1,ie=0;ie<10;ie++)M[ie]&=ue;for(ue=~ue,ie=0;ie<10;ie++)this._h[ie]=this._h[ie]&ue|M[ie];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),this._h[0]=65535&(he=this._h[0]+this._pad[0]),ie=1;ie<8;ie++)this._h[ie]=65535&(he=(this._h[ie]+this._pad[ie]|0)+(he>>>16)|0);return K[$+0]=this._h[0]>>>0,K[$+1]=this._h[0]>>>8,K[$+2]=this._h[1]>>>0,K[$+3]=this._h[1]>>>8,K[$+4]=this._h[2]>>>0,K[$+5]=this._h[2]>>>8,K[$+6]=this._h[3]>>>0,K[$+7]=this._h[3]>>>8,K[$+8]=this._h[4]>>>0,K[$+9]=this._h[4]>>>8,K[$+10]=this._h[5]>>>0,K[$+11]=this._h[5]>>>8,K[$+12]=this._h[6]>>>0,K[$+13]=this._h[6]>>>8,K[$+14]=this._h[7]>>>0,K[$+15]=this._h[7]>>>8,this._finished=!0,this},oe.prototype.update=function(K){var F,$=0,M=K.length;if(this._leftover){(F=16-this._leftover)>M&&(F=M);for(var ue=0;ue<F;ue++)this._buffer[this._leftover+ue]=K[$+ue];if(M-=F,$+=F,this._leftover+=F,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(M>=16&&(this._blocks(K,$,F=M-M%16),$+=F,M-=F),M){for(ue=0;ue<M;ue++)this._buffer[this._leftover+ue]=K[$+ue];this._leftover+=M}return this},oe.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var K=new Uint8Array(16);return this.finish(K),K},oe.prototype.clean=function(){return ae.wipe(this._buffer),ae.wipe(this._r),ae.wipe(this._h),ae.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},oe}();m.Poly1305=_e,m.oneTimeAuth=function fe(oe,K){var $=new _e(oe);$.update(K);var M=$.digest();return $.clean(),M},m.equal=function Z(oe,K){return oe.length===m.DIGEST_LENGTH&&K.length===m.DIGEST_LENGTH&&B.equal(oe,K)}},7841:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.randomStringForEntropy=m.randomString=m.randomUint32=m.randomBytes=m.defaultRandomSource=void 0;const B=L(14894),ae=L(32222),_e=L(11512);function fe(M,F=m.defaultRandomSource){return F.randomBytes(M)}m.defaultRandomSource=new B.SystemRandomSource,m.randomBytes=fe,m.randomUint32=function Z(M=m.defaultRandomSource){const F=fe(4,M),ue=(0,ae.readUint32LE)(F);return(0,_e.wipe)(F),ue};const oe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function K(M,F=oe,ue=m.defaultRandomSource){if(F.length<2)throw new Error("randomString charset is too short");if(F.length>256)throw new Error("randomString charset is too long");let he="";const ie=F.length,S=256-256%ie;for(;M>0;){const me=fe(Math.ceil(256*M/S),ue);for(let De=0;De<me.length&&M>0;De++){const Ee=me[De];Ee<S&&(he+=F.charAt(Ee%ie),M--)}(0,_e.wipe)(me)}return he}m.randomString=K,m.randomStringForEntropy=function $(M,F=oe,ue=m.defaultRandomSource){return K(Math.ceil(M/(Math.log(F.length)/Math.LN2)),F,ue)}},33607:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.BrowserRandomSource=void 0,m.BrowserRandomSource=class B{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const _e=typeof self<"u"?self.crypto||self.msCrypto:null;_e&&void 0!==_e.getRandomValues&&(this._crypto=_e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(_e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const fe=new Uint8Array(_e);for(let Z=0;Z<fe.length;Z+=65536)this._crypto.getRandomValues(fe.subarray(Z,Z+Math.min(fe.length-Z,65536)));return fe}}},73022:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.NodeRandomSource=void 0;const B=L(11512);m.NodeRandomSource=class ae{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const fe=L(19726);fe&&fe.randomBytes&&(this._crypto=fe,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(fe){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let Z=this._crypto.randomBytes(fe);if(Z.length!==fe)throw new Error("NodeRandomSource: got fewer bytes than requested");const oe=new Uint8Array(fe);for(let K=0;K<oe.length;K++)oe[K]=Z[K];return(0,B.wipe)(Z),oe}}},14894:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SystemRandomSource=void 0;const B=L(33607),ae=L(73022);m.SystemRandomSource=class _e{constructor(){return this.isAvailable=!1,this.name="",this._source=new B.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new ae.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(Z){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(Z)}}},59373:(Ae,m,L)=>{"use strict";var ae=L(32222),_e=L(11512);m.k=32,m.cn=64;var fe=function(){function $(){this.digestLength=m.k,this.blockSize=m.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return $.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},$.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},$.prototype.clean=function(){_e.wipe(this._buffer),_e.wipe(this._temp),this.reset()},$.prototype.update=function(M,F){if(void 0===F&&(F=M.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var ue=0;if(this._bytesHashed+=F,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&F>0;)this._buffer[this._bufferLength++]=M[ue++],F--;this._bufferLength===this.blockSize&&(oe(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(F>=this.blockSize&&(ue=oe(this._temp,this._state,M,ue,F),F%=this.blockSize);F>0;)this._buffer[this._bufferLength++]=M[ue++],F--;return this},$.prototype.finish=function(M){if(!this._finished){var F=this._bytesHashed,ue=this._bufferLength,he=F/536870912|0,ie=F<<3,S=F%64<56?64:128;this._buffer[ue]=128;for(var me=ue+1;me<S-8;me++)this._buffer[me]=0;ae.writeUint32BE(he,this._buffer,S-8),ae.writeUint32BE(ie,this._buffer,S-4),oe(this._temp,this._state,this._buffer,0,S),this._finished=!0}for(me=0;me<this.digestLength/4;me++)ae.writeUint32BE(this._state[me],M,4*me);return this},$.prototype.digest=function(){var M=new Uint8Array(this.digestLength);return this.finish(M),M},$.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},$.prototype.restoreState=function(M){return this._state.set(M.state),this._bufferLength=M.bufferLength,M.buffer&&this._buffer.set(M.buffer),this._bytesHashed=M.bytesHashed,this._finished=!1,this},$.prototype.cleanSavedState=function(M){_e.wipe(M.state),M.buffer&&_e.wipe(M.buffer),M.bufferLength=0,M.bytesHashed=0},$}();m.mE=fe;var Z=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function oe($,M,F,ue,he){for(;he>=64;){for(var ie=M[0],S=M[1],me=M[2],De=M[3],Ee=M[4],ee=M[5],j=M[6],z=M[7],R=0;R<16;R++)$[R]=ae.readUint32BE(F,ue+4*R);for(R=16;R<64;R++){var T=$[R-2];$[R]=((h=(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10)+$[R-7]|0)+((l=((T=$[R-15])>>>7|T<<25)^(T>>>18|T<<14)^T>>>3)+$[R-16]|0)}for(R=0;R<64;R++){var h=(((Ee>>>6|Ee<<26)^(Ee>>>11|Ee<<21)^(Ee>>>25|Ee<<7))+(Ee&ee^~Ee&j)|0)+(z+(Z[R]+$[R]|0)|0)|0,l=((ie>>>2|ie<<30)^(ie>>>13|ie<<19)^(ie>>>22|ie<<10))+(ie&S^ie&me^S&me)|0;z=j,j=ee,ee=Ee,Ee=De+h|0,De=me,me=S,S=ie,ie=h+l|0}M[0]+=ie,M[1]+=S,M[2]+=me,M[3]+=De,M[4]+=Ee,M[5]+=ee,M[6]+=j,M[7]+=z,ue+=64,he-=64}return ue}m.vp=function K($){var M=new fe;M.update($);var F=M.digest();return M.clean(),F}},85198:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var B=L(32222),ae=L(11512);m.DIGEST_LENGTH=64,m.BLOCK_SIZE=128;var _e=function(){function K(){this.digestLength=m.DIGEST_LENGTH,this.blockSize=m.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return K.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},K.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},K.prototype.clean=function(){ae.wipe(this._buffer),ae.wipe(this._tempHi),ae.wipe(this._tempLo),this.reset()},K.prototype.update=function($,M){if(void 0===M&&(M=$.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var F=0;if(this._bytesHashed+=M,this._bufferLength>0){for(;this._bufferLength<m.BLOCK_SIZE&&M>0;)this._buffer[this._bufferLength++]=$[F++],M--;this._bufferLength===this.blockSize&&(Z(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(M>=this.blockSize&&(F=Z(this._tempHi,this._tempLo,this._stateHi,this._stateLo,$,F,M),M%=this.blockSize);M>0;)this._buffer[this._bufferLength++]=$[F++],M--;return this},K.prototype.finish=function($){if(!this._finished){var M=this._bytesHashed,F=this._bufferLength,ue=M/536870912|0,he=M<<3,ie=M%128<112?128:256;this._buffer[F]=128;for(var S=F+1;S<ie-8;S++)this._buffer[S]=0;B.writeUint32BE(ue,this._buffer,ie-8),B.writeUint32BE(he,this._buffer,ie-4),Z(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,ie),this._finished=!0}for(S=0;S<this.digestLength/8;S++)B.writeUint32BE(this._stateHi[S],$,8*S),B.writeUint32BE(this._stateLo[S],$,8*S+4);return this},K.prototype.digest=function(){var $=new Uint8Array(this.digestLength);return this.finish($),$},K.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},K.prototype.restoreState=function($){return this._stateHi.set($.stateHi),this._stateLo.set($.stateLo),this._bufferLength=$.bufferLength,$.buffer&&this._buffer.set($.buffer),this._bytesHashed=$.bytesHashed,this._finished=!1,this},K.prototype.cleanSavedState=function($){ae.wipe($.stateHi),ae.wipe($.stateLo),$.buffer&&ae.wipe($.buffer),$.bufferLength=0,$.bytesHashed=0},K}();m.SHA512=_e;var fe=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function Z(K,$,M,F,ue,he,ie){for(var p,D,P,C,w,q,ce,W,S=M[0],me=M[1],De=M[2],Ee=M[3],ee=M[4],j=M[5],z=M[6],R=M[7],V=F[0],T=F[1],h=F[2],l=F[3],v=F[4],y=F[5],x=F[6],b=F[7];ie>=128;){for(var Pe=0;Pe<16;Pe++)K[Pe]=B.readUint32BE(ue,ye=8*Pe+he),$[Pe]=B.readUint32BE(ue,ye+4);for(Pe=0;Pe<80;Pe++){var _,Bt,Te=me,Le=De,Me=Ee,G=ee,le=j,te=z,Ce=T,ze=h,st=l,wt=v,ut=y,vt=x;if(w=65535&(D=b),q=D>>>16,ce=65535&(p=R),W=p>>>16,w+=65535&(D=(v>>>14|ee<<18)^(v>>>18|ee<<14)^(ee>>>9|v<<23)),q+=D>>>16,ce+=65535&(p=(ee>>>14|v<<18)^(ee>>>18|v<<14)^(v>>>9|ee<<23)),W+=p>>>16,w+=65535&(D=v&y^~v&x),q+=D>>>16,ce+=65535&(p=ee&j^~ee&z),W+=p>>>16,w+=65535&(D=fe[2*Pe+1]),q+=D>>>16,ce+=65535&(p=fe[2*Pe]),W+=p>>>16,q+=(D=$[Pe%16])>>>16,ce+=65535&(p=K[Pe%16]),W+=p>>>16,ce+=(q+=(w+=65535&D)>>>16)>>>16,w=65535&(D=C=65535&w|q<<16),q=D>>>16,ce=65535&(p=P=65535&ce|(W+=ce>>>16)<<16),W=p>>>16,w+=65535&(D=(V>>>28|S<<4)^(S>>>2|V<<30)^(S>>>7|V<<25)),q+=D>>>16,ce+=65535&(p=(S>>>28|V<<4)^(V>>>2|S<<30)^(V>>>7|S<<25)),W+=p>>>16,q+=(D=V&T^V&h^T&h)>>>16,ce+=65535&(p=S&me^S&De^me&De),W+=p>>>16,_=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,Bt=65535&w|q<<16,w=65535&(D=st),q=D>>>16,ce=65535&(p=Me),W=p>>>16,q+=(D=C)>>>16,ce+=65535&(p=P),W+=p>>>16,me=S,De=Te,Ee=Le,ee=Me=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,j=G,z=le,R=te,S=_,T=V,h=Ce,l=ze,v=st=65535&w|q<<16,y=wt,x=ut,b=vt,V=Bt,Pe%16==15)for(var ye=0;ye<16;ye++)w=65535&(D=$[ye]),q=D>>>16,ce=65535&(p=K[ye]),W=p>>>16,w+=65535&(D=$[(ye+9)%16]),q+=D>>>16,ce+=65535&(p=K[(ye+9)%16]),W+=p>>>16,w+=65535&(D=((C=$[(ye+1)%16])>>>1|(P=K[(ye+1)%16])<<31)^(C>>>8|P<<24)^(C>>>7|P<<25)),q+=D>>>16,ce+=65535&(p=(P>>>1|C<<31)^(P>>>8|C<<24)^P>>>7),W+=p>>>16,q+=(D=((C=$[(ye+14)%16])>>>19|(P=K[(ye+14)%16])<<13)^(P>>>29|C<<3)^(C>>>6|P<<26))>>>16,ce+=65535&(p=(P>>>19|C<<13)^(C>>>29|P<<3)^P>>>6),W+=p>>>16,K[ye]=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,$[ye]=65535&w|q<<16}w=65535&(D=V),q=D>>>16,ce=65535&(p=S),W=p>>>16,q+=(D=F[0])>>>16,ce+=65535&(p=M[0]),W+=p>>>16,M[0]=S=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,F[0]=V=65535&w|q<<16,w=65535&(D=T),q=D>>>16,ce=65535&(p=me),W=p>>>16,q+=(D=F[1])>>>16,ce+=65535&(p=M[1]),W+=p>>>16,M[1]=me=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,F[1]=T=65535&w|q<<16,w=65535&(D=h),q=D>>>16,ce=65535&(p=De),W=p>>>16,q+=(D=F[2])>>>16,ce+=65535&(p=M[2]),W+=p>>>16,M[2]=De=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,F[2]=h=65535&w|q<<16,w=65535&(D=l),q=D>>>16,ce=65535&(p=Ee),W=p>>>16,q+=(D=F[3])>>>16,ce+=65535&(p=M[3]),W+=p>>>16,M[3]=Ee=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,F[3]=l=65535&w|q<<16,w=65535&(D=v),q=D>>>16,ce=65535&(p=ee),W=p>>>16,q+=(D=F[4])>>>16,ce+=65535&(p=M[4]),W+=p>>>16,M[4]=ee=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,F[4]=v=65535&w|q<<16,w=65535&(D=y),q=D>>>16,ce=65535&(p=j),W=p>>>16,q+=(D=F[5])>>>16,ce+=65535&(p=M[5]),W+=p>>>16,M[5]=j=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,F[5]=y=65535&w|q<<16,w=65535&(D=x),q=D>>>16,ce=65535&(p=z),W=p>>>16,q+=(D=F[6])>>>16,ce+=65535&(p=M[6]),W+=p>>>16,M[6]=z=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,F[6]=x=65535&w|q<<16,w=65535&(D=b),q=D>>>16,ce=65535&(p=R),W=p>>>16,q+=(D=F[7])>>>16,ce+=65535&(p=M[7]),W+=p>>>16,M[7]=R=65535&(ce+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ce>>>16)<<16,F[7]=b=65535&w|q<<16,he+=128,ie-=128}return he}m.hash=function oe(K){var $=new _e;$.update(K);var M=$.digest();return $.clean(),M}},11512:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.wipe=function L(B){for(var ae=0;ae<B.length;ae++)B[ae]=0;return B}},65504:(Ae,m,L)=>{"use strict";m.gi=m.Au=m.KS=m.kz=void 0;const ae=L(7841),_e=L(11512);function fe(R){const V=new Float64Array(16);if(R)for(let T=0;T<R.length;T++)V[T]=R[T];return V}m.kz=32,m.KS=32;const Z=new Uint8Array(32);Z[0]=9;const oe=fe([56129,1]);function K(R){let V=1;for(let T=0;T<16;T++){let h=R[T]+V+65535;V=Math.floor(h/65536),R[T]=h-65536*V}R[0]+=V-1+37*(V-1)}function $(R,V,T){const h=~(T-1);for(let l=0;l<16;l++){const v=h&(R[l]^V[l]);R[l]^=v,V[l]^=v}}function ue(R,V,T){for(let h=0;h<16;h++)R[h]=V[h]+T[h]}function he(R,V,T){for(let h=0;h<16;h++)R[h]=V[h]-T[h]}function ie(R,V,T){let h,l,v=0,y=0,x=0,b=0,p=0,D=0,P=0,C=0,w=0,q=0,ce=0,W=0,Pe=0,ye=0,xe=0,Te=0,Le=0,Me=0,G=0,le=0,te=0,_=0,k=0,Ce=0,ze=0,st=0,wt=0,ut=0,vt=0,Bt=0,Yt=0,pt=T[0],ct=T[1],nt=T[2],at=T[3],tt=T[4],Ge=T[5],$e=T[6],We=T[7],Je=T[8],ft=T[9],ht=T[10],mt=T[11],bt=T[12],gt=T[13],Et=T[14],Dt=T[15];h=V[0],v+=h*pt,y+=h*ct,x+=h*nt,b+=h*at,p+=h*tt,D+=h*Ge,P+=h*$e,C+=h*We,w+=h*Je,q+=h*ft,ce+=h*ht,W+=h*mt,Pe+=h*bt,ye+=h*gt,xe+=h*Et,Te+=h*Dt,h=V[1],y+=h*pt,x+=h*ct,b+=h*nt,p+=h*at,D+=h*tt,P+=h*Ge,C+=h*$e,w+=h*We,q+=h*Je,ce+=h*ft,W+=h*ht,Pe+=h*mt,ye+=h*bt,xe+=h*gt,Te+=h*Et,Le+=h*Dt,h=V[2],x+=h*pt,b+=h*ct,p+=h*nt,D+=h*at,P+=h*tt,C+=h*Ge,w+=h*$e,q+=h*We,ce+=h*Je,W+=h*ft,Pe+=h*ht,ye+=h*mt,xe+=h*bt,Te+=h*gt,Le+=h*Et,Me+=h*Dt,h=V[3],b+=h*pt,p+=h*ct,D+=h*nt,P+=h*at,C+=h*tt,w+=h*Ge,q+=h*$e,ce+=h*We,W+=h*Je,Pe+=h*ft,ye+=h*ht,xe+=h*mt,Te+=h*bt,Le+=h*gt,Me+=h*Et,G+=h*Dt,h=V[4],p+=h*pt,D+=h*ct,P+=h*nt,C+=h*at,w+=h*tt,q+=h*Ge,ce+=h*$e,W+=h*We,Pe+=h*Je,ye+=h*ft,xe+=h*ht,Te+=h*mt,Le+=h*bt,Me+=h*gt,G+=h*Et,le+=h*Dt,h=V[5],D+=h*pt,P+=h*ct,C+=h*nt,w+=h*at,q+=h*tt,ce+=h*Ge,W+=h*$e,Pe+=h*We,ye+=h*Je,xe+=h*ft,Te+=h*ht,Le+=h*mt,Me+=h*bt,G+=h*gt,le+=h*Et,te+=h*Dt,h=V[6],P+=h*pt,C+=h*ct,w+=h*nt,q+=h*at,ce+=h*tt,W+=h*Ge,Pe+=h*$e,ye+=h*We,xe+=h*Je,Te+=h*ft,Le+=h*ht,Me+=h*mt,G+=h*bt,le+=h*gt,te+=h*Et,_+=h*Dt,h=V[7],C+=h*pt,w+=h*ct,q+=h*nt,ce+=h*at,W+=h*tt,Pe+=h*Ge,ye+=h*$e,xe+=h*We,Te+=h*Je,Le+=h*ft,Me+=h*ht,G+=h*mt,le+=h*bt,te+=h*gt,_+=h*Et,k+=h*Dt,h=V[8],w+=h*pt,q+=h*ct,ce+=h*nt,W+=h*at,Pe+=h*tt,ye+=h*Ge,xe+=h*$e,Te+=h*We,Le+=h*Je,Me+=h*ft,G+=h*ht,le+=h*mt,te+=h*bt,_+=h*gt,k+=h*Et,Ce+=h*Dt,h=V[9],q+=h*pt,ce+=h*ct,W+=h*nt,Pe+=h*at,ye+=h*tt,xe+=h*Ge,Te+=h*$e,Le+=h*We,Me+=h*Je,G+=h*ft,le+=h*ht,te+=h*mt,_+=h*bt,k+=h*gt,Ce+=h*Et,ze+=h*Dt,h=V[10],ce+=h*pt,W+=h*ct,Pe+=h*nt,ye+=h*at,xe+=h*tt,Te+=h*Ge,Le+=h*$e,Me+=h*We,G+=h*Je,le+=h*ft,te+=h*ht,_+=h*mt,k+=h*bt,Ce+=h*gt,ze+=h*Et,st+=h*Dt,h=V[11],W+=h*pt,Pe+=h*ct,ye+=h*nt,xe+=h*at,Te+=h*tt,Le+=h*Ge,Me+=h*$e,G+=h*We,le+=h*Je,te+=h*ft,_+=h*ht,k+=h*mt,Ce+=h*bt,ze+=h*gt,st+=h*Et,wt+=h*Dt,h=V[12],Pe+=h*pt,ye+=h*ct,xe+=h*nt,Te+=h*at,Le+=h*tt,Me+=h*Ge,G+=h*$e,le+=h*We,te+=h*Je,_+=h*ft,k+=h*ht,Ce+=h*mt,ze+=h*bt,st+=h*gt,wt+=h*Et,ut+=h*Dt,h=V[13],ye+=h*pt,xe+=h*ct,Te+=h*nt,Le+=h*at,Me+=h*tt,G+=h*Ge,le+=h*$e,te+=h*We,_+=h*Je,k+=h*ft,Ce+=h*ht,ze+=h*mt,st+=h*bt,wt+=h*gt,ut+=h*Et,vt+=h*Dt,h=V[14],xe+=h*pt,Te+=h*ct,Le+=h*nt,Me+=h*at,G+=h*tt,le+=h*Ge,te+=h*$e,_+=h*We,k+=h*Je,Ce+=h*ft,ze+=h*ht,st+=h*mt,wt+=h*bt,ut+=h*gt,vt+=h*Et,Bt+=h*Dt,h=V[15],Te+=h*pt,Le+=h*ct,Me+=h*nt,G+=h*at,le+=h*tt,te+=h*Ge,_+=h*$e,k+=h*We,Ce+=h*Je,ze+=h*ft,st+=h*ht,wt+=h*mt,ut+=h*bt,vt+=h*gt,Bt+=h*Et,Yt+=h*Dt,v+=38*Le,y+=38*Me,x+=38*G,b+=38*le,p+=38*te,D+=38*_,P+=38*k,C+=38*Ce,w+=38*ze,q+=38*st,ce+=38*wt,W+=38*ut,Pe+=38*vt,ye+=38*Bt,xe+=38*Yt,l=1,h=v+l+65535,l=Math.floor(h/65536),v=h-65536*l,h=y+l+65535,l=Math.floor(h/65536),y=h-65536*l,h=x+l+65535,l=Math.floor(h/65536),x=h-65536*l,h=b+l+65535,l=Math.floor(h/65536),b=h-65536*l,h=p+l+65535,l=Math.floor(h/65536),p=h-65536*l,h=D+l+65535,l=Math.floor(h/65536),D=h-65536*l,h=P+l+65535,l=Math.floor(h/65536),P=h-65536*l,h=C+l+65535,l=Math.floor(h/65536),C=h-65536*l,h=w+l+65535,l=Math.floor(h/65536),w=h-65536*l,h=q+l+65535,l=Math.floor(h/65536),q=h-65536*l,h=ce+l+65535,l=Math.floor(h/65536),ce=h-65536*l,h=W+l+65535,l=Math.floor(h/65536),W=h-65536*l,h=Pe+l+65535,l=Math.floor(h/65536),Pe=h-65536*l,h=ye+l+65535,l=Math.floor(h/65536),ye=h-65536*l,h=xe+l+65535,l=Math.floor(h/65536),xe=h-65536*l,h=Te+l+65535,l=Math.floor(h/65536),Te=h-65536*l,v+=l-1+37*(l-1),l=1,h=v+l+65535,l=Math.floor(h/65536),v=h-65536*l,h=y+l+65535,l=Math.floor(h/65536),y=h-65536*l,h=x+l+65535,l=Math.floor(h/65536),x=h-65536*l,h=b+l+65535,l=Math.floor(h/65536),b=h-65536*l,h=p+l+65535,l=Math.floor(h/65536),p=h-65536*l,h=D+l+65535,l=Math.floor(h/65536),D=h-65536*l,h=P+l+65535,l=Math.floor(h/65536),P=h-65536*l,h=C+l+65535,l=Math.floor(h/65536),C=h-65536*l,h=w+l+65535,l=Math.floor(h/65536),w=h-65536*l,h=q+l+65535,l=Math.floor(h/65536),q=h-65536*l,h=ce+l+65535,l=Math.floor(h/65536),ce=h-65536*l,h=W+l+65535,l=Math.floor(h/65536),W=h-65536*l,h=Pe+l+65535,l=Math.floor(h/65536),Pe=h-65536*l,h=ye+l+65535,l=Math.floor(h/65536),ye=h-65536*l,h=xe+l+65535,l=Math.floor(h/65536),xe=h-65536*l,h=Te+l+65535,l=Math.floor(h/65536),Te=h-65536*l,v+=l-1+37*(l-1),R[0]=v,R[1]=y,R[2]=x,R[3]=b,R[4]=p,R[5]=D,R[6]=P,R[7]=C,R[8]=w,R[9]=q,R[10]=ce,R[11]=W,R[12]=Pe,R[13]=ye,R[14]=xe,R[15]=Te}function S(R,V){ie(R,V,V)}function De(R,V){const T=new Uint8Array(32),h=new Float64Array(80),l=fe(),v=fe(),y=fe(),x=fe(),b=fe(),p=fe();for(let w=0;w<31;w++)T[w]=R[w];T[31]=127&R[31]|64,T[0]&=248,function F(R,V){for(let T=0;T<16;T++)R[T]=V[2*T]+(V[2*T+1]<<8);R[15]&=32767}(h,V);for(let w=0;w<16;w++)v[w]=h[w];l[0]=x[0]=1;for(let w=254;w>=0;--w){const q=T[w>>>3]>>>(7&w)&1;$(l,v,q),$(y,x,q),ue(b,l,y),he(l,l,y),ue(y,v,x),he(v,v,x),S(x,b),S(p,l),ie(l,y,l),ie(y,v,b),ue(b,l,y),he(l,l,y),S(v,l),he(y,x,p),ie(l,y,oe),ue(l,l,x),ie(y,y,l),ie(l,x,p),ie(x,v,h),S(v,b),$(l,v,q),$(y,x,q)}for(let w=0;w<16;w++)h[w+16]=l[w],h[w+32]=y[w],h[w+48]=v[w],h[w+64]=x[w];const D=h.subarray(32),P=h.subarray(16);(function me(R,V){const T=fe();for(let h=0;h<16;h++)T[h]=V[h];for(let h=253;h>=0;h--)S(T,T),2!==h&&4!==h&&ie(T,T,V);for(let h=0;h<16;h++)R[h]=T[h]})(D,D),ie(P,P,D);const C=new Uint8Array(32);return function M(R,V){const T=fe(),h=fe();for(let l=0;l<16;l++)h[l]=V[l];K(h),K(h),K(h);for(let l=0;l<2;l++){T[0]=h[0]-65517;for(let y=1;y<15;y++)T[y]=h[y]-65535-(T[y-1]>>16&1),T[y-1]&=65535;T[15]=h[15]-32767-(T[14]>>16&1);const v=T[15]>>16&1;T[14]&=65535,$(h,T,1-v)}for(let l=0;l<16;l++)R[2*l]=255&h[l],R[2*l+1]=h[l]>>8}(C,P),C}function Ee(R){return De(R,Z)}m.Au=function j(R){const V=(0,ae.randomBytes)(32,R),T=function ee(R){if(R.length!==m.KS)throw new Error(`x25519: seed must be ${m.KS} bytes`);const V=new Uint8Array(R);return{publicKey:Ee(V),secretKey:V}}(V);return(0,_e.wipe)(V),T},m.gi=function z(R,V,T=!1){if(R.length!==m.kz)throw new Error("X25519: incorrect secret key length");if(V.length!==m.kz)throw new Error("X25519: incorrect public key length");const h=De(R,V);if(T){let l=0;for(let v=0;v<h.length;v++)l|=h[v];if(0===l)throw new Error("X25519: invalid shared key")}return h}},38573:(Ae,m)=>{"use strict";function L(){return(null==global?void 0:global.crypto)||(null==global?void 0:global.msCrypto)||{}}function B(){const _e=L();return _e.subtle||_e.webkitSubtle}Object.defineProperty(m,"__esModule",{value:!0}),m.isBrowserCryptoAvailable=m.getSubtleCrypto=m.getBrowerCrypto=void 0,m.getBrowerCrypto=L,m.getSubtleCrypto=B,m.isBrowserCryptoAvailable=function ae(){return!!L()&&!!B()}},26e3:(Ae,m)=>{"use strict";function L(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function B(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Object.defineProperty(m,"__esModule",{value:!0}),m.isBrowser=m.isNode=m.isReactNative=void 0,m.isReactNative=L,m.isNode=B,m.isBrowser=function ae(){return!L()&&!B()}},43841:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const B=L(69763);B.__exportStar(L(38573),m),B.__exportStar(L(26e3),m)},43795:(Ae,m,L)=>{"use strict";L.d(m,{q:()=>B});class B{}},39282:(Ae,m,L)=>{"use strict";L.r(m),L.d(m,{IEvents:()=>B.q});var B=L(43795)},6602:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.HEARTBEAT_EVENTS=m.HEARTBEAT_INTERVAL=void 0;const B=L(40145);m.HEARTBEAT_INTERVAL=B.FIVE_SECONDS,m.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},40073:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),L(99940).__exportStar(L(6602),m)},81382:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.HeartBeat=void 0;const B=L(99940),ae=L(2272),_e=L(40145),fe=L(77522),Z=L(40073);class oe extends fe.IHeartBeat{constructor($){super($),this.events=new ae.EventEmitter,this.interval=Z.HEARTBEAT_INTERVAL,this.interval=(null==$?void 0:$.interval)||Z.HEARTBEAT_INTERVAL}static init($){return B.__awaiter(this,void 0,void 0,function*(){const M=new oe($);return yield M.init(),M})}init(){return B.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on($,M){this.events.on($,M)}once($,M){this.events.once($,M)}off($,M){this.events.off($,M)}removeListener($,M){this.events.removeListener($,M)}initialize(){return B.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),_e.toMiliseconds(this.interval))})}pulse(){this.events.emit(Z.HEARTBEAT_EVENTS.pulse)}}m.HeartBeat=oe},40851:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const B=L(99940);B.__exportStar(L(81382),m),B.__exportStar(L(77522),m),B.__exportStar(L(40073),m)},31849:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.IHeartBeat=void 0;const B=L(39282);m.IHeartBeat=class ae extends B.IEvents{constructor(fe){super()}}},77522:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),L(99940).__exportStar(L(31849),m)},83169:(Ae,m,L)=>{"use strict";const ae=L(92818),_e=L(53439),fe=ae.__importDefault(L(271)),Z=L(86586);m.ZP=class oe{constructor(){this.localStorage=fe.default}getKeys(){return ae.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return ae.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(Z.parseEntry)})}getItem($){return ae.__awaiter(this,void 0,void 0,function*(){const M=this.localStorage.getItem($);if(null!==M)return _e.safeJsonParse(M)})}setItem($,M){return ae.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem($,_e.safeJsonStringify(M))})}removeItem($){return ae.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem($)})}}},271:Ae=>{"use strict";!function(){let m;function L(){}m=L,m.prototype.getItem=function(B){return this.hasOwnProperty(B)?String(this[B]):null},m.prototype.setItem=function(B,ae){this[B]=String(ae)},m.prototype.removeItem=function(B){delete this[B]},m.prototype.clear=function(){const B=this;Object.keys(B).forEach(function(ae){B[ae]=void 0,delete B[ae]})},m.prototype.key=function(B){return B=B||0,Object.keys(this)[B]},m.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),Ae.exports=typeof global<"u"&&global.localStorage?global.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new L}()},86586:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const B=L(92818);B.__exportStar(L(68684),m),B.__exportStar(L(2043),m)},68684:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.IKeyValueStorage=void 0,m.IKeyValueStorage=class L{}},2043:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.parseEntry=void 0;const B=L(53439);m.parseEntry=function ae(_e){var fe;return[_e[0],B.safeJsonParse(null!==(fe=_e[1])&&void 0!==fe?fe:"")]}},20191:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.PINO_CUSTOM_CONTEXT_KEY=m.PINO_LOGGER_DEFAULTS=void 0,m.PINO_LOGGER_DEFAULTS={level:"info"},m.PINO_CUSTOM_CONTEXT_KEY="custom_context"},71268:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.pino=void 0;const B=L(20263),ae=B.__importDefault(L(37386));Object.defineProperty(m,"pino",{enumerable:!0,get:function(){return ae.default}}),B.__exportStar(L(20191),m),B.__exportStar(L(59164),m)},59164:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.generateChildLogger=m.formatChildLoggerContext=m.getLoggerContext=m.setBrowserLoggerContext=m.getBrowserLoggerContext=m.getDefaultLoggerOptions=void 0;const B=L(20191);function _e($,M=B.PINO_CUSTOM_CONTEXT_KEY){return $[M]||""}function fe($,M,F=B.PINO_CUSTOM_CONTEXT_KEY){return $[F]=M,$}function Z($,M=B.PINO_CUSTOM_CONTEXT_KEY){let F="";return F=typeof $.bindings>"u"?_e($,M):$.bindings().context||"",F}function oe($,M,F=B.PINO_CUSTOM_CONTEXT_KEY){const ue=Z($,F);return ue.trim()?`${ue}/${M}`:M}m.getDefaultLoggerOptions=function ae($){return Object.assign(Object.assign({},$),{level:(null==$?void 0:$.level)||B.PINO_LOGGER_DEFAULTS.level})},m.getBrowserLoggerContext=_e,m.setBrowserLoggerContext=fe,m.getLoggerContext=Z,m.formatChildLoggerContext=oe,m.generateChildLogger=function K($,M,F=B.PINO_CUSTOM_CONTEXT_KEY){const ue=oe($,M,F);return fe($.child({context:ue}),ue,F)}},43025:()=>{},84143:()=>{},21833:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const B=L(58092);B.__exportStar(L(77892),m),B.__exportStar(L(72562),m)},77892:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ONE_THOUSAND=m.ONE_HUNDRED=void 0,m.ONE_HUNDRED=100,m.ONE_THOUSAND=1e3},72562:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ONE_YEAR=m.FOUR_WEEKS=m.THREE_WEEKS=m.TWO_WEEKS=m.ONE_WEEK=m.THIRTY_DAYS=m.SEVEN_DAYS=m.FIVE_DAYS=m.THREE_DAYS=m.ONE_DAY=m.TWENTY_FOUR_HOURS=m.TWELVE_HOURS=m.SIX_HOURS=m.THREE_HOURS=m.ONE_HOUR=m.SIXTY_MINUTES=m.THIRTY_MINUTES=m.TEN_MINUTES=m.FIVE_MINUTES=m.ONE_MINUTE=m.SIXTY_SECONDS=m.THIRTY_SECONDS=m.TEN_SECONDS=m.FIVE_SECONDS=m.ONE_SECOND=void 0,m.ONE_SECOND=1,m.FIVE_SECONDS=5,m.TEN_SECONDS=10,m.THIRTY_SECONDS=30,m.SIXTY_SECONDS=60,m.ONE_MINUTE=m.SIXTY_SECONDS,m.FIVE_MINUTES=5*m.ONE_MINUTE,m.TEN_MINUTES=10*m.ONE_MINUTE,m.THIRTY_MINUTES=30*m.ONE_MINUTE,m.SIXTY_MINUTES=60*m.ONE_MINUTE,m.ONE_HOUR=m.SIXTY_MINUTES,m.THREE_HOURS=3*m.ONE_HOUR,m.SIX_HOURS=6*m.ONE_HOUR,m.TWELVE_HOURS=12*m.ONE_HOUR,m.TWENTY_FOUR_HOURS=24*m.ONE_HOUR,m.ONE_DAY=m.TWENTY_FOUR_HOURS,m.THREE_DAYS=3*m.ONE_DAY,m.FIVE_DAYS=5*m.ONE_DAY,m.SEVEN_DAYS=7*m.ONE_DAY,m.THIRTY_DAYS=30*m.ONE_DAY,m.ONE_WEEK=m.SEVEN_DAYS,m.TWO_WEEKS=2*m.ONE_WEEK,m.THREE_WEEKS=3*m.ONE_WEEK,m.FOUR_WEEKS=4*m.ONE_WEEK,m.ONE_YEAR=365*m.ONE_DAY},40145:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const B=L(58092);B.__exportStar(L(94256),m),B.__exportStar(L(59794),m),B.__exportStar(L(16834),m),B.__exportStar(L(21833),m)},16834:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),L(58092).__exportStar(L(45412),m)},45412:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.IWatch=void 0,m.IWatch=class L{}},24500:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.fromMiliseconds=m.toMiliseconds=void 0;const B=L(21833);m.toMiliseconds=function ae(fe){return fe*B.ONE_THOUSAND},m.fromMiliseconds=function _e(fe){return Math.floor(fe/B.ONE_THOUSAND)}},23337:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.delay=void 0,m.delay=function L(B){return new Promise(ae=>{setTimeout(()=>{ae(!0)},B)})}},94256:(Ae,m,L)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const B=L(58092);B.__exportStar(L(23337),m),B.__exportStar(L(24500),m)},59794:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.Watch=void 0;class L{constructor(){this.timestamps=new Map}start(ae){if(this.timestamps.has(ae))throw new Error(`Watch already started for label: ${ae}`);this.timestamps.set(ae,{started:Date.now()})}stop(ae){const _e=this.get(ae);if(typeof _e.elapsed<"u")throw new Error(`Watch already stopped for label: ${ae}`);const fe=Date.now()-_e.started;this.timestamps.set(ae,{started:_e.started,elapsed:fe})}get(ae){const _e=this.timestamps.get(ae);if(typeof _e>"u")throw new Error(`No timestamp found for label: ${ae}`);return _e}elapsed(ae){const _e=this.get(ae);return _e.elapsed||Date.now()-_e.started}}m.Watch=L,m.default=L},6179:(Ae,m)=>{"use strict";function L(he){let ie;return typeof window<"u"&&typeof window[he]<"u"&&(ie=window[he]),ie}function B(he){const ie=L(he);if(!ie)throw new Error(`${he} is not defined in Window`);return ie}Object.defineProperty(m,"__esModule",{value:!0}),m.getLocalStorage=m.getLocalStorageOrThrow=m.getCrypto=m.getCryptoOrThrow=m.getLocation=m.getLocationOrThrow=m.getNavigator=m.getNavigatorOrThrow=m.getDocument=m.getDocumentOrThrow=m.getFromWindowOrThrow=m.getFromWindow=void 0,m.getFromWindow=L,m.getFromWindowOrThrow=B,m.getDocumentOrThrow=function ae(){return B("document")},m.getDocument=function _e(){return L("document")},m.getNavigatorOrThrow=function fe(){return B("navigator")},m.getNavigator=function Z(){return L("navigator")},m.getLocationOrThrow=function oe(){return B("location")},m.getLocation=function K(){return L("location")},m.getCryptoOrThrow=function $(){return B("crypto")},m.getCrypto=function M(){return L("crypto")},m.getLocalStorageOrThrow=function F(){return B("localStorage")},m.getLocalStorage=function ue(){return L("localStorage")}},98064:(Ae,m,L)=>{"use strict";m.D=void 0;const ae=L(6179);m.D=function _e(){let fe,Z;try{fe=ae.getDocumentOrThrow(),Z=ae.getLocationOrThrow()}catch{return null}function K(...me){const De=fe.getElementsByTagName("meta");for(let Ee=0;Ee<De.length;Ee++){const ee=De[Ee],j=["itemprop","property","name"].map(z=>ee.getAttribute(z)).filter(z=>!!z&&me.includes(z));if(j.length&&j){const z=ee.getAttribute("content");if(z)return z}}return""}const F=function $(){let me=K("name","og:site_name","og:title","twitter:title");return me||(me=fe.title),me}();return{description:function M(){return K("description","og:description","twitter:description","keywords")}(),url:Z.origin,icons:function oe(){const me=fe.getElementsByTagName("link"),De=[];for(let Ee=0;Ee<me.length;Ee++){const ee=me[Ee],j=ee.getAttribute("rel");if(j&&j.toLowerCase().indexOf("icon")>-1){const z=ee.getAttribute("href");if(z)if(-1===z.toLowerCase().indexOf("https:")&&-1===z.toLowerCase().indexOf("http:")&&0!==z.indexOf("//")){let R=Z.protocol+"//"+Z.host;if(0===z.indexOf("/"))R+=z;else{const V=Z.pathname.split("/");V.pop(),R+=V.join("/")+"/"+z}De.push(R)}else 0===z.indexOf("//")?De.push(Z.protocol+z):De.push(z)}}return De}(),name:F}}},5928:function(Ae,m){var _e,L=typeof self<"u"?self:this,B=function(){function _e(){this.fetch=!1,this.DOMException=L.DOMException}return _e.prototype=L,new _e}();_e=B,function(Z){var oe_searchParams="URLSearchParams"in _e,oe_iterable="Symbol"in _e&&"iterator"in Symbol,oe_blob="FileReader"in _e&&"Blob"in _e&&function(){try{return new Blob,!0}catch{return!1}}(),oe_formData="FormData"in _e,oe_arrayBuffer="ArrayBuffer"in _e;if(oe_arrayBuffer)var $=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],M=ArrayBuffer.isView||function(b){return b&&$.indexOf(Object.prototype.toString.call(b))>-1};function F(b){if("string"!=typeof b&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function ue(b){return"string"!=typeof b&&(b=String(b)),b}function he(b){var p={next:function(){var D=b.shift();return{done:void 0===D,value:D}}};return oe_iterable&&(p[Symbol.iterator]=function(){return p}),p}function ie(b){this.map={},b instanceof ie?b.forEach(function(p,D){this.append(D,p)},this):Array.isArray(b)?b.forEach(function(p){this.append(p[0],p[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(p){this.append(p,b[p])},this)}function S(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function me(b){return new Promise(function(p,D){b.onload=function(){p(b.result)},b.onerror=function(){D(b.error)}})}function De(b){var p=new FileReader,D=me(p);return p.readAsArrayBuffer(b),D}function j(b){if(b.slice)return b.slice(0);var p=new Uint8Array(b.byteLength);return p.set(new Uint8Array(b)),p.buffer}function z(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?"string"==typeof b?this._bodyText=b:oe_blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:oe_formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:oe_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():oe_arrayBuffer&&oe_blob&&function K(b){return b&&DataView.prototype.isPrototypeOf(b)}(b)?(this._bodyArrayBuffer=j(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):oe_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||M(b))?this._bodyArrayBuffer=j(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||("string"==typeof b?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):oe_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},oe_blob&&(this.blob=function(){var b=S(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(De)}),this.text=function(){var b=S(this);if(b)return b;if(this._bodyBlob)return function Ee(b){var p=new FileReader,D=me(p);return p.readAsText(b),D}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function ee(b){for(var p=new Uint8Array(b),D=new Array(p.length),P=0;P<p.length;P++)D[P]=String.fromCharCode(p[P]);return D.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},oe_formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}ie.prototype.append=function(b,p){b=F(b),p=ue(p);var D=this.map[b];this.map[b]=D?D+", "+p:p},ie.prototype.delete=function(b){delete this.map[F(b)]},ie.prototype.get=function(b){return b=F(b),this.has(b)?this.map[b]:null},ie.prototype.has=function(b){return this.map.hasOwnProperty(F(b))},ie.prototype.set=function(b,p){this.map[F(b)]=ue(p)},ie.prototype.forEach=function(b,p){for(var D in this.map)this.map.hasOwnProperty(D)&&b.call(p,this.map[D],D,this)},ie.prototype.keys=function(){var b=[];return this.forEach(function(p,D){b.push(D)}),he(b)},ie.prototype.values=function(){var b=[];return this.forEach(function(p){b.push(p)}),he(b)},ie.prototype.entries=function(){var b=[];return this.forEach(function(p,D){b.push([D,p])}),he(b)},oe_iterable&&(ie.prototype[Symbol.iterator]=ie.prototype.entries);var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(b,p){var D=(p=p||{}).body;if(b instanceof T){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,p.headers||(this.headers=new ie(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!D&&null!=b._bodyInit&&(D=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new ie(p.headers)),this.method=function V(b){var p=b.toUpperCase();return R.indexOf(p)>-1?p:b}(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&D)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(D)}function h(b){var p=new FormData;return b.trim().split("&").forEach(function(D){if(D){var P=D.split("="),C=P.shift().replace(/\+/g," "),w=P.join("=").replace(/\+/g," ");p.append(decodeURIComponent(C),decodeURIComponent(w))}}),p}function l(b){var p=new ie;return b.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(P){var C=P.split(":"),w=C.shift().trim();if(w){var q=C.join(":").trim();p.append(w,q)}}),p}function v(b,p){p||(p={}),this.type="default",this.status=void 0===p.status?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"OK",this.headers=new ie(p.headers),this.url=p.url||"",this._initBody(b)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},z.call(T.prototype),z.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ie(this.headers),url:this.url})},v.error=function(){var b=new v(null,{status:0,statusText:""});return b.type="error",b};var y=[301,302,303,307,308];v.redirect=function(b,p){if(-1===y.indexOf(p))throw new RangeError("Invalid status code");return new v(null,{status:p,headers:{location:b}})},Z.DOMException=_e.DOMException;try{new Z.DOMException}catch{Z.DOMException=function(p,D){this.message=p,this.name=D;var P=Error(p);this.stack=P.stack},Z.DOMException.prototype=Object.create(Error.prototype),Z.DOMException.prototype.constructor=Z.DOMException}function x(b,p){return new Promise(function(D,P){var C=new T(b,p);if(C.signal&&C.signal.aborted)return P(new Z.DOMException("Aborted","AbortError"));var w=new XMLHttpRequest;function q(){w.abort()}w.onload=function(){var ce={status:w.status,statusText:w.statusText,headers:l(w.getAllResponseHeaders()||"")};ce.url="responseURL"in w?w.responseURL:ce.headers.get("X-Request-URL"),D(new v("response"in w?w.response:w.responseText,ce))},w.onerror=function(){P(new TypeError("Network request failed"))},w.ontimeout=function(){P(new TypeError("Network request failed"))},w.onabort=function(){P(new Z.DOMException("Aborted","AbortError"))},w.open(C.method,C.url,!0),"include"===C.credentials?w.withCredentials=!0:"omit"===C.credentials&&(w.withCredentials=!1),"responseType"in w&&oe_blob&&(w.responseType="blob"),C.headers.forEach(function(ce,W){w.setRequestHeader(W,ce)}),C.signal&&(C.signal.addEventListener("abort",q),w.onreadystatechange=function(){4===w.readyState&&C.signal.removeEventListener("abort",q)}),w.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}x.polyfill=!0,_e.fetch||(_e.fetch=x,_e.Headers=ie,_e.Request=T,_e.Response=v),Z.Headers=ie,Z.Request=T,Z.Response=v,Z.fetch=x,Object.defineProperty(Z,"__esModule",{value:!0})}({}),B.fetch.ponyfill=!0,delete B.fetch.polyfill;var ae=B;(m=ae.fetch).default=ae.fetch,m.fetch=ae.fetch,m.Headers=ae.Headers,m.Request=ae.Request,m.Response=ae.Response,Ae.exports=m},80318:Ae=>{"use strict";var m="%[a-f0-9]{2}",L=new RegExp("("+m+")|([^%]+?)","gi"),B=new RegExp("("+m+")+","gi");function ae(Z,oe){try{return[decodeURIComponent(Z.join(""))]}catch{}if(1===Z.length)return Z;var K=Z.slice(0,oe=oe||1),$=Z.slice(oe);return Array.prototype.concat.call([],ae(K),ae($))}function _e(Z){try{return decodeURIComponent(Z)}catch{for(var oe=Z.match(L)||[],K=1;K<oe.length;K++)oe=(Z=ae(oe,K).join("")).match(L)||[];return Z}}Ae.exports=function(Z){if("string"!=typeof Z)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof Z+"`");try{return Z=Z.replace(/\+/g," "),decodeURIComponent(Z)}catch{return function fe(Z){for(var oe={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},K=B.exec(Z);K;){try{oe[K[0]]=decodeURIComponent(K[0])}catch{var $=_e(K[0]);$!==K[0]&&(oe[K[0]]=$)}K=B.exec(Z)}oe["%C2"]="\ufffd";for(var M=Object.keys(oe),F=0;F<M.length;F++){var ue=M[F];Z=Z.replace(new RegExp(ue,"g"),oe[ue])}return Z}(Z)}}},2272:Ae=>{"use strict";var B,m="object"==typeof Reflect?Reflect:null,L=m&&"function"==typeof m.apply?m.apply:function(z,R,V){return Function.prototype.apply.call(z,R,V)};B=m&&"function"==typeof m.ownKeys?m.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var _e=Number.isNaN||function(z){return z!=z};function fe(){fe.init.call(this)}Ae.exports=fe,Ae.exports.once=function De(j,z){return new Promise(function(R,V){function T(l){j.removeListener(z,h),V(l)}function h(){"function"==typeof j.removeListener&&j.removeListener("error",T),R([].slice.call(arguments))}ee(j,z,h,{once:!0}),"error"!==z&&function Ee(j,z,R){"function"==typeof j.on&&ee(j,"error",z,R)}(j,T,{once:!0})})},fe.EventEmitter=fe,fe.prototype._events=void 0,fe.prototype._eventsCount=0,fe.prototype._maxListeners=void 0;var Z=10;function oe(j){if("function"!=typeof j)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}function K(j){return void 0===j._maxListeners?fe.defaultMaxListeners:j._maxListeners}function $(j,z,R,V){var T,h,l;if(oe(R),void 0===(h=j._events)?(h=j._events=Object.create(null),j._eventsCount=0):(void 0!==h.newListener&&(j.emit("newListener",z,R.listener?R.listener:R),h=j._events),l=h[z]),void 0===l)l=h[z]=R,++j._eventsCount;else if("function"==typeof l?l=h[z]=V?[R,l]:[l,R]:V?l.unshift(R):l.push(R),(T=K(j))>0&&l.length>T&&!l.warned){l.warned=!0;var v=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");v.name="MaxListenersExceededWarning",v.emitter=j,v.type=z,v.count=l.length,function ae(j){console&&console.warn&&console.warn(j)}(v)}return j}function M(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function F(j,z,R){var V={fired:!1,wrapFn:void 0,target:j,type:z,listener:R},T=M.bind(V);return T.listener=R,V.wrapFn=T,T}function ue(j,z,R){var V=j._events;if(void 0===V)return[];var T=V[z];return void 0===T?[]:"function"==typeof T?R?[T.listener||T]:[T]:R?function me(j){for(var z=new Array(j.length),R=0;R<z.length;++R)z[R]=j[R].listener||j[R];return z}(T):ie(T,T.length)}function he(j){var z=this._events;if(void 0!==z){var R=z[j];if("function"==typeof R)return 1;if(void 0!==R)return R.length}return 0}function ie(j,z){for(var R=new Array(z),V=0;V<z;++V)R[V]=j[V];return R}function ee(j,z,R,V){if("function"==typeof j.on)V.once?j.once(z,R):j.on(z,R);else{if("function"!=typeof j.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j);j.addEventListener(z,function T(h){V.once&&j.removeEventListener(z,T),R(h)})}}Object.defineProperty(fe,"defaultMaxListeners",{enumerable:!0,get:function(){return Z},set:function(j){if("number"!=typeof j||j<0||_e(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");Z=j}}),fe.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},fe.prototype.setMaxListeners=function(z){if("number"!=typeof z||z<0||_e(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},fe.prototype.getMaxListeners=function(){return K(this)},fe.prototype.emit=function(z){for(var R=[],V=1;V<arguments.length;V++)R.push(arguments[V]);var T="error"===z,h=this._events;if(void 0!==h)T=T&&void 0===h.error;else if(!T)return!1;if(T){var l;if(R.length>0&&(l=R[0]),l instanceof Error)throw l;var v=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw v.context=l,v}var y=h[z];if(void 0===y)return!1;if("function"==typeof y)L(y,this,R);else{var x=y.length,b=ie(y,x);for(V=0;V<x;++V)L(b[V],this,R)}return!0},fe.prototype.on=fe.prototype.addListener=function(z,R){return $(this,z,R,!1)},fe.prototype.prependListener=function(z,R){return $(this,z,R,!0)},fe.prototype.once=function(z,R){return oe(R),this.on(z,F(this,z,R)),this},fe.prototype.prependOnceListener=function(z,R){return oe(R),this.prependListener(z,F(this,z,R)),this},fe.prototype.off=fe.prototype.removeListener=function(z,R){var V,T,h,l,v;if(oe(R),void 0===(T=this._events))return this;if(void 0===(V=T[z]))return this;if(V===R||V.listener===R)0==--this._eventsCount?this._events=Object.create(null):(delete T[z],T.removeListener&&this.emit("removeListener",z,V.listener||R));else if("function"!=typeof V){for(h=-1,l=V.length-1;l>=0;l--)if(V[l]===R||V[l].listener===R){v=V[l].listener,h=l;break}if(h<0)return this;0===h?V.shift():function S(j,z){for(;z+1<j.length;z++)j[z]=j[z+1];j.pop()}(V,h),1===V.length&&(T[z]=V[0]),void 0!==T.removeListener&&this.emit("removeListener",z,v||R)}return this},fe.prototype.removeAllListeners=function(z){var R,V,T;if(void 0===(V=this._events))return this;if(void 0===V.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==V[z]&&(0==--this._eventsCount?this._events=Object.create(null):delete V[z]),this;if(0===arguments.length){var l,h=Object.keys(V);for(T=0;T<h.length;++T)"removeListener"!==(l=h[T])&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(R=V[z]))this.removeListener(z,R);else if(void 0!==R)for(T=R.length-1;T>=0;T--)this.removeListener(z,R[T]);return this},fe.prototype.listeners=function(z){return ue(this,z,!0)},fe.prototype.rawListeners=function(z){return ue(this,z,!1)},fe.listenerCount=function(j,z){return"function"==typeof j.listenerCount?j.listenerCount(z):he.call(j,z)},fe.prototype.listenerCount=he,fe.prototype.eventNames=function(){return this._eventsCount>0?B(this._events):[]}},25633:Ae=>{"use strict";Ae.exports=function(m,L){for(var B={},ae=Object.keys(m),_e=Array.isArray(L),fe=0;fe<ae.length;fe++){var Z=ae[fe],oe=m[Z];(_e?-1!==L.indexOf(Z):L(Z,oe,m))&&(B[Z]=oe)}return B}},60066:(Ae,m,L)=>{Ae=L.nmd(Ae);var ae="__lodash_hash_undefined__",Z=9007199254740991,oe="[object Arguments]",K="[object Array]",M="[object Boolean]",F="[object Date]",ue="[object Error]",he="[object Function]",S="[object Map]",me="[object Number]",Ee="[object Object]",ee="[object Promise]",z="[object RegExp]",R="[object Set]",V="[object String]",l="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",Pe=/^\[object .+?Constructor\]$/,ye=/^(?:0|[1-9]\d*)$/,xe={};xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe[oe]=xe[K]=xe[v]=xe[M]=xe[y]=xe[F]=xe[ue]=xe[he]=xe[S]=xe[me]=xe[Ee]=xe[z]=xe[R]=xe[V]=xe[l]=!1;var Te="object"==typeof global&&global&&global.Object===Object&&global,Le="object"==typeof self&&self&&self.Object===Object&&self,Me=Te||Le||Function("return this")(),G=m&&!m.nodeType&&m,le=G&&Ae&&!Ae.nodeType&&Ae,te=le&&le.exports===G,_=te&&Te.process,k=function(){try{return _&&_.binding&&_.binding("util")}catch{}}(),Ce=k&&k.isTypedArray;function wt(N,re){for(var Se=-1,Fe=null==N?0:N.length;++Se<Fe;)if(re(N[Se],Se,N))return!0;return!1}function Bt(N,re){return N.has(re)}function pt(N){var re=-1,Se=Array(N.size);return N.forEach(function(Fe,Tt){Se[++re]=[Tt,Fe]}),Se}function nt(N){var re=-1,Se=Array(N.size);return N.forEach(function(Fe){Se[++re]=Fe}),Se}var N,at=Array.prototype,Ge=Object.prototype,$e=Me["__core-js_shared__"],We=Function.prototype.toString,Je=Ge.hasOwnProperty,ft=(N=/[^.]+$/.exec($e&&$e.keys&&$e.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",ht=Ge.toString,mt=RegExp("^"+We.call(Je).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bt=te?Me.Buffer:void 0,gt=Me.Symbol,Et=Me.Uint8Array,Dt=Ge.propertyIsEnumerable,Jr=at.splice,wr=gt?gt.toStringTag:void 0,cn=Object.getOwnPropertySymbols,An=bt?bt.isBuffer:void 0,Wn=function ct(N,re){return function(Se){return N(re(Se))}}(Object.keys,Object),Cn=kn(Me,"DataView"),fn=kn(Me,"Map"),qt=kn(Me,"Promise"),Wt=kn(Me,"Set"),kt=kn(Me,"WeakMap"),$t=kn(Object,"create"),sr=Nn(Cn),Xt=Nn(fn),Qt=Nn(qt),or=Nn(Wt),ar=Nn(kt),Zt=gt?gt.prototype:void 0,Vt=Zt?Zt.valueOf:void 0;function jt(N){var re=-1,Se=null==N?0:N.length;for(this.clear();++re<Se;){var Fe=N[re];this.set(Fe[0],Fe[1])}}function ln(N){var re=-1,Se=null==N?0:N.length;for(this.clear();++re<Se;){var Fe=N[re];this.set(Fe[0],Fe[1])}}function Tn(N){var re=-1,Se=null==N?0:N.length;for(this.clear();++re<Se;){var Fe=N[re];this.set(Fe[0],Fe[1])}}function fi(N){var re=-1,Se=null==N?0:N.length;for(this.__data__=new Tn;++re<Se;)this.add(N[re])}function Rn(N){var re=this.__data__=new ln(N);this.size=re.size}function rs(N,re){for(var Se=N.length;Se--;)if(ks(N[Se][0],re))return Se;return-1}function li(N){return null==N?void 0===N?"[object Undefined]":"[object Null]":wr&&wr in Object(N)?function is(N){var re=Je.call(N,wr),Se=N[wr];try{N[wr]=void 0;var Fe=!0}catch{}var Tt=ht.call(N);return Fe&&(re?N[wr]=Se:delete N[wr]),Tt}(N):function Sa(N){return ht.call(N)}(N)}function Ks(N){return di(N)&&li(N)==oe}function ya(N,re,Se,Fe,Tt){return N===re||(null==N||null==re||!di(N)&&!di(re)?N!=N&&re!=re:function va(N,re,Se,Fe,Tt,Qe){var zt=Ti(N),tr=Ti(re),dr=zt?K:hn(N),Ut=tr?K:hn(re),Fr=(dr=dr==oe?Ee:dr)==Ee,Yr=(Ut=Ut==oe?Ee:Ut)==Ee,yr=dr==Ut;if(yr&&ss(N)){if(!ss(re))return!1;zt=!0,Fr=!1}if(yr&&!Fr)return Qe||(Qe=new Rn),zt||Qs(N)?Ci(N,re,Se,Fe,Tt,Qe):function Rc(N,re,Se,Fe,Tt,Qe,zt){switch(Se){case y:if(N.byteLength!=re.byteLength||N.byteOffset!=re.byteOffset)return!1;N=N.buffer,re=re.buffer;case v:return!(N.byteLength!=re.byteLength||!Qe(new Et(N),new Et(re)));case M:case F:case me:return ks(+N,+re);case ue:return N.name==re.name&&N.message==re.message;case z:case V:return N==re+"";case S:var tr=pt;case R:if(tr||(tr=nt),N.size!=re.size&&!(1&Fe))return!1;var Ut=zt.get(N);if(Ut)return Ut==re;Fe|=2,zt.set(N,re);var Fr=Ci(tr(N),tr(re),Fe,Tt,Qe,zt);return zt.delete(N),Fr;case"[object Symbol]":if(Vt)return Vt.call(N)==Vt.call(re)}return!1}(N,re,dr,Se,Fe,Tt,Qe);if(!(1&Se)){var $r=Fr&&Je.call(N,"__wrapped__"),zr=Yr&&Je.call(re,"__wrapped__");if($r||zr){var Fn=$r?N.value():N,Hr=zr?re.value():re;return Qe||(Qe=new Rn),Tt(Fn,Hr,Se,Fe,Qe)}}return!!yr&&(Qe||(Qe=new Rn),function ns(N,re,Se,Fe,Tt,Qe){var zt=1&Se,tr=ba(N),dr=tr.length;if(dr!=ba(re).length&&!zt)return!1;for(var Yr=dr;Yr--;){var yr=tr[Yr];if(!(zt?yr in re:Je.call(re,yr)))return!1}var $r=Qe.get(N);if($r&&Qe.get(re))return $r==re;var zr=!0;Qe.set(N,re),Qe.set(re,N);for(var Fn=zt;++Yr<dr;){var Hr=N[yr=tr[Yr]],dn=re[yr];if(Fe)var Zs=zt?Fe(dn,Hr,yr,re,N,Qe):Fe(Hr,dn,yr,N,re,Qe);if(!(void 0===Zs?Hr===dn||Tt(Hr,dn,Se,Fe,Qe):Zs)){zr=!1;break}Fn||(Fn="constructor"==yr)}if(zr&&!Fn){var as=N.constructor,Fi=re.constructor;as!=Fi&&"constructor"in N&&"constructor"in re&&!("function"==typeof as&&as instanceof as&&"function"==typeof Fi&&Fi instanceof Fi)&&(zr=!1)}return Qe.delete(N),Qe.delete(re),zr}(N,re,Se,Fe,Tt,Qe))}(N,re,Se,Fe,ya,Tt))}function Ci(N,re,Se,Fe,Tt,Qe){var zt=1&Se,tr=N.length,dr=re.length;if(tr!=dr&&!(zt&&dr>tr))return!1;var Ut=Qe.get(N);if(Ut&&Qe.get(re))return Ut==re;var Fr=-1,Yr=!0,yr=2&Se?new fi:void 0;for(Qe.set(N,re),Qe.set(re,N);++Fr<tr;){var $r=N[Fr],zr=re[Fr];if(Fe)var Fn=zt?Fe(zr,$r,Fr,re,N,Qe):Fe($r,zr,Fr,N,re,Qe);if(void 0!==Fn){if(Fn)continue;Yr=!1;break}if(yr){if(!wt(re,function(Hr,dn){if(!Bt(yr,dn)&&($r===Hr||Tt($r,Hr,Se,Fe,Qe)))return yr.push(dn)})){Yr=!1;break}}else if($r!==zr&&!Tt($r,zr,Se,Fe,Qe)){Yr=!1;break}}return Qe.delete(N),Qe.delete(re),Yr}function ba(N){return function _a(N,re,Se){var Fe=re(N);return Ti(N)?Fe:function st(N,re){for(var Se=-1,Fe=re.length,Tt=N.length;++Se<Fe;)N[Tt+Se]=re[Se];return N}(Fe,Se(N))}(N,Ri,Ws)}function hi(N,re){var Se=N.__data__;return function Ea(N){var re=typeof N;return"string"==re||"number"==re||"symbol"==re||"boolean"==re?"__proto__"!==N:null===N}(re)?Se["string"==typeof re?"string":"hash"]:Se.map}function kn(N,re){var Se=function Yt(N,re){return null==N?void 0:N[re]}(N,re);return function Tc(N){return!(!Xs(N)||function Da(N){return!!ft&&ft in N}(N))&&(Oa(N)?mt:Pe).test(Nn(N))}(Se)?Se:void 0}jt.prototype.clear=function er(){this.__data__=$t?$t(null):{},this.size=0},jt.prototype.delete=function hr(N){var re=this.has(N)&&delete this.__data__[N];return this.size-=re?1:0,re},jt.prototype.get=function ur(N){var re=this.__data__;if($t){var Se=re[N];return Se===ae?void 0:Se}return Je.call(re,N)?re[N]:void 0},jt.prototype.has=function cr(N){var re=this.__data__;return $t?void 0!==re[N]:Je.call(re,N)},jt.prototype.set=function ca(N,re){var Se=this.__data__;return this.size+=this.has(N)?0:1,Se[N]=$t&&void 0===re?ae:re,this},ln.prototype.clear=function fa(){this.__data__=[],this.size=0},ln.prototype.delete=function la(N){var re=this.__data__,Se=rs(re,N);return!(Se<0||(Se==re.length-1?re.pop():Jr.call(re,Se,1),--this.size,0))},ln.prototype.get=function ha(N){var re=this.__data__,Se=rs(re,N);return Se<0?void 0:re[Se][1]},ln.prototype.has=function da(N){return rs(this.__data__,N)>-1},ln.prototype.set=function pa(N,re){var Se=this.__data__,Fe=rs(Se,N);return Fe<0?(++this.size,Se.push([N,re])):Se[Fe][1]=re,this},Tn.prototype.clear=function ga(){this.size=0,this.__data__={hash:new jt,map:new(fn||ln),string:new jt}},Tn.prototype.delete=function Pc(N){var re=hi(this,N).delete(N);return this.size-=re?1:0,re},Tn.prototype.get=function $s(N){return hi(this,N).get(N)},Tn.prototype.has=function Ac(N){return hi(this,N).has(N)},Tn.prototype.set=function Cc(N,re){var Se=hi(this,N),Fe=Se.size;return Se.set(N,re),this.size+=Se.size==Fe?0:1,this},fi.prototype.add=fi.prototype.push=function zs(N){return this.__data__.set(N,ae),this},fi.prototype.has=function ts(N){return this.__data__.has(N)},Rn.prototype.clear=function Hs(){this.__data__=new ln,this.size=0},Rn.prototype.delete=function Er(N){var re=this.__data__,Se=re.delete(N);return this.size=re.size,Se},Rn.prototype.get=function Or(N){return this.__data__.get(N)},Rn.prototype.has=function Pi(N){return this.__data__.has(N)},Rn.prototype.set=function Ai(N,re){var Se=this.__data__;if(Se instanceof ln){var Fe=Se.__data__;if(!fn||Fe.length<199)return Fe.push([N,re]),this.size=++Se.size,this;Se=this.__data__=new Tn(Fe)}return Se.set(N,re),this.size=Se.size,this};var Ws=cn?function(N){return null==N?[]:(N=Object(N),function ze(N,re){for(var Se=-1,Fe=null==N?0:N.length,Tt=0,Qe=[];++Se<Fe;){var zt=N[Se];re(zt,Se,N)&&(Qe[Tt++]=zt)}return Qe}(cn(N),function(re){return Dt.call(N,re)}))}:function Ia(){return[]},hn=li;function wa(N,re){return!!(re=re??Z)&&("number"==typeof N||ye.test(N))&&N>-1&&N%1==0&&N<re}function Nn(N){if(null!=N){try{return We.call(N)}catch{}try{return N+""}catch{}}return""}function ks(N,re){return N===re||N!=N&&re!=re}(Cn&&hn(new Cn(new ArrayBuffer(1)))!=y||fn&&hn(new fn)!=S||qt&&hn(qt.resolve())!=ee||Wt&&hn(new Wt)!=R||kt&&hn(new kt)!=l)&&(hn=function(N){var re=li(N),Se=re==Ee?N.constructor:void 0,Fe=Se?Nn(Se):"";if(Fe)switch(Fe){case sr:return y;case Xt:return S;case Qt:return ee;case or:return R;case ar:return l}return re});var Gs=Ks(function(){return arguments}())?Ks:function(N){return di(N)&&Je.call(N,"callee")&&!Dt.call(N,"callee")},Ti=Array.isArray,ss=An||function Ni(){return!1};function Oa(N){if(!Xs(N))return!1;var re=li(N);return re==he||"[object GeneratorFunction]"==re||"[object AsyncFunction]"==re||"[object Proxy]"==re}function os(N){return"number"==typeof N&&N>-1&&N%1==0&&N<=Z}function Xs(N){var re=typeof N;return null!=N&&("object"==re||"function"==re)}function di(N){return null!=N&&"object"==typeof N}var Qs=Ce?function vt(N){return function(re){return N(re)}}(Ce):function qs(N){return di(N)&&os(N.length)&&!!xe[li(N)]};function Ri(N){return function Js(N){return null!=N&&os(N.length)&&!Oa(N)}(N)?function Vs(N,re){var Se=Ti(N),Fe=!Se&&Gs(N),Tt=!Se&&!Fe&&ss(N),Qe=!Se&&!Fe&&!Tt&&Qs(N),zt=Se||Fe||Tt||Qe,tr=zt?function ut(N,re){for(var Se=-1,Fe=Array(N);++Se<N;)Fe[Se]=re(Se);return Fe}(N.length,String):[],dr=tr.length;for(var Ut in N)(re||Je.call(N,Ut))&&(!zt||!("length"==Ut||Tt&&("offset"==Ut||"parent"==Ut)||Qe&&("buffer"==Ut||"byteLength"==Ut||"byteOffset"==Ut)||wa(Ut,dr)))&&tr.push(Ut);return tr}(N):function ma(N){if(!function xa(N){var re=N&&N.constructor;return N===("function"==typeof re&&re.prototype||Ge)}(N))return Wn(N);var re=[];for(var Se in Object(N))Je.call(N,Se)&&"constructor"!=Se&&re.push(Se);return re}(N)}Ae.exports=function Ys(N,re){return ya(N,re)}},9805:(Ae,m,L)=>{"use strict";const B=L(71141),ae=L(80318),_e=L(71675),fe=L(25633),oe=Symbol("encodeFragmentIdentifier");function M(ee){if("string"!=typeof ee||1!==ee.length)throw new TypeError("arrayFormatSeparator must be single character string")}function F(ee,j){return j.encode?j.strict?B(ee):encodeURIComponent(ee):ee}function ue(ee,j){return j.decode?ae(ee):ee}function he(ee){return Array.isArray(ee)?ee.sort():"object"==typeof ee?he(Object.keys(ee)).sort((j,z)=>Number(j)-Number(z)).map(j=>ee[j]):ee}function ie(ee){const j=ee.indexOf("#");return-1!==j&&(ee=ee.slice(0,j)),ee}function me(ee){const j=(ee=ie(ee)).indexOf("?");return-1===j?"":ee.slice(j+1)}function De(ee,j){return j.parseNumbers&&!Number.isNaN(Number(ee))&&"string"==typeof ee&&""!==ee.trim()?ee=Number(ee):j.parseBooleans&&null!==ee&&("true"===ee.toLowerCase()||"false"===ee.toLowerCase())&&(ee="true"===ee.toLowerCase()),ee}function Ee(ee,j){M((j=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},j)).arrayFormatSeparator);const z=function $(ee){let j;switch(ee.arrayFormat){case"index":return(z,R,V)=>{j=/\[(\d*)\]$/.exec(z),z=z.replace(/\[\d*\]$/,""),j?(void 0===V[z]&&(V[z]={}),V[z][j[1]]=R):V[z]=R};case"bracket":return(z,R,V)=>{j=/(\[\])$/.exec(z),V[z=z.replace(/\[\]$/,"")]=j?void 0!==V[z]?[].concat(V[z],R):[R]:R};case"colon-list-separator":return(z,R,V)=>{j=/(:list)$/.exec(z),V[z=z.replace(/:list$/,"")]=j?void 0!==V[z]?[].concat(V[z],R):[R]:R};case"comma":case"separator":return(z,R,V)=>{const T="string"==typeof R&&R.includes(ee.arrayFormatSeparator),h="string"==typeof R&&!T&&ue(R,ee).includes(ee.arrayFormatSeparator);R=h?ue(R,ee):R;const l=T||h?R.split(ee.arrayFormatSeparator).map(v=>ue(v,ee)):null===R?R:ue(R,ee);V[z]=l};case"bracket-separator":return(z,R,V)=>{const T=/(\[\])$/.test(z);if(z=z.replace(/\[\]$/,""),!T)return void(V[z]=R&&ue(R,ee));const h=null===R?[]:R.split(ee.arrayFormatSeparator).map(l=>ue(l,ee));V[z]=void 0!==V[z]?[].concat(V[z],h):h};default:return(z,R,V)=>{V[z]=void 0!==V[z]?[].concat(V[z],R):R}}}(j),R=Object.create(null);if("string"!=typeof ee||!(ee=ee.trim().replace(/^[?#&]/,"")))return R;for(const V of ee.split("&")){if(""===V)continue;let[T,h]=_e(j.decode?V.replace(/\+/g," "):V,"=");h=void 0===h?null:["comma","separator","bracket-separator"].includes(j.arrayFormat)?h:ue(h,j),z(ue(T,j),h,R)}for(const V of Object.keys(R)){const T=R[V];if("object"==typeof T&&null!==T)for(const h of Object.keys(T))T[h]=De(T[h],j);else R[V]=De(T,j)}return!1===j.sort?R:(!0===j.sort?Object.keys(R).sort():Object.keys(R).sort(j.sort)).reduce((V,T)=>{const h=R[T];return V[T]=Boolean(h)&&"object"==typeof h&&!Array.isArray(h)?he(h):h,V},Object.create(null))}m.extract=me,m.parse=Ee,m.stringify=(ee,j)=>{if(!ee)return"";M((j=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},j)).arrayFormatSeparator);const z=h=>j.skipNull&&(ee=>null==ee)(ee[h])||j.skipEmptyString&&""===ee[h],R=function K(ee){switch(ee.arrayFormat){case"index":return j=>(z,R)=>{const V=z.length;return void 0===R||ee.skipNull&&null===R||ee.skipEmptyString&&""===R?z:null===R?[...z,[F(j,ee),"[",V,"]"].join("")]:[...z,[F(j,ee),"[",F(V,ee),"]=",F(R,ee)].join("")]};case"bracket":return j=>(z,R)=>void 0===R||ee.skipNull&&null===R||ee.skipEmptyString&&""===R?z:null===R?[...z,[F(j,ee),"[]"].join("")]:[...z,[F(j,ee),"[]=",F(R,ee)].join("")];case"colon-list-separator":return j=>(z,R)=>void 0===R||ee.skipNull&&null===R||ee.skipEmptyString&&""===R?z:null===R?[...z,[F(j,ee),":list="].join("")]:[...z,[F(j,ee),":list=",F(R,ee)].join("")];case"comma":case"separator":case"bracket-separator":{const j="bracket-separator"===ee.arrayFormat?"[]=":"=";return z=>(R,V)=>void 0===V||ee.skipNull&&null===V||ee.skipEmptyString&&""===V?R:(V=null===V?"":V,0===R.length?[[F(z,ee),j,F(V,ee)].join("")]:[[R,F(V,ee)].join(ee.arrayFormatSeparator)])}default:return j=>(z,R)=>void 0===R||ee.skipNull&&null===R||ee.skipEmptyString&&""===R?z:null===R?[...z,F(j,ee)]:[...z,[F(j,ee),"=",F(R,ee)].join("")]}}(j),V={};for(const h of Object.keys(ee))z(h)||(V[h]=ee[h]);const T=Object.keys(V);return!1!==j.sort&&T.sort(j.sort),T.map(h=>{const l=ee[h];return void 0===l?"":null===l?F(h,j):Array.isArray(l)?0===l.length&&"bracket-separator"===j.arrayFormat?F(h,j)+"[]":l.reduce(R(h),[]).join("&"):F(h,j)+"="+F(l,j)}).filter(h=>h.length>0).join("&")},m.parseUrl=(ee,j)=>{j=Object.assign({decode:!0},j);const[z,R]=_e(ee,"#");return Object.assign({url:z.split("?")[0]||"",query:Ee(me(ee),j)},j&&j.parseFragmentIdentifier&&R?{fragmentIdentifier:ue(R,j)}:{})},m.stringifyUrl=(ee,j)=>{j=Object.assign({encode:!0,strict:!0,[oe]:!0},j);const z=ie(ee.url).split("?")[0]||"",R=m.extract(ee.url),V=m.parse(R,{sort:!1}),T=Object.assign(V,ee.query);let h=m.stringify(T,j);h&&(h=`?${h}`);let l=function S(ee){let j="";const z=ee.indexOf("#");return-1!==z&&(j=ee.slice(z)),j}(ee.url);return ee.fragmentIdentifier&&(l=`#${j[oe]?F(ee.fragmentIdentifier,j):ee.fragmentIdentifier}`),`${z}${h}${l}`},m.pick=(ee,j,z)=>{z=Object.assign({parseFragmentIdentifier:!0,[oe]:!1},z);const{url:R,query:V,fragmentIdentifier:T}=m.parseUrl(ee,z);return m.stringifyUrl({url:R,query:fe(V,j),fragmentIdentifier:T},z)},m.exclude=(ee,j,z)=>{const R=Array.isArray(j)?V=>!j.includes(V):(V,T)=>!j(V,T);return m.pick(ee,R,z)}},51958:Ae=>{"use strict";function m(B){try{return JSON.stringify(B)}catch{return'"[Circular]"'}}Ae.exports=function L(B,ae,_e){var fe=_e&&_e.stringify||m;if("object"==typeof B&&null!==B){var oe=ae.length+1;if(1===oe)return B;var K=new Array(oe);K[0]=fe(B);for(var $=1;$<oe;$++)K[$]=fe(ae[$]);return K.join(" ")}if("string"!=typeof B)return B;var M=ae.length;if(0===M)return B;for(var F="",ue=0,he=-1,ie=B&&B.length||0,S=0;S<ie;){if(37===B.charCodeAt(S)&&S+1<ie){switch(he=he>-1?he:0,B.charCodeAt(S+1)){case 100:case 102:if(ue>=M||null==ae[ue])break;he<S&&(F+=B.slice(he,S)),F+=Number(ae[ue]),he=S+2,S++;break;case 105:if(ue>=M||null==ae[ue])break;he<S&&(F+=B.slice(he,S)),F+=Math.floor(Number(ae[ue])),he=S+2,S++;break;case 79:case 111:case 106:if(ue>=M||void 0===ae[ue])break;he<S&&(F+=B.slice(he,S));var me=typeof ae[ue];if("string"===me){F+="'"+ae[ue]+"'",he=S+2,S++;break}if("function"===me){F+=ae[ue].name||"<anonymous>",he=S+2,S++;break}F+=fe(ae[ue]),he=S+2,S++;break;case 115:if(ue>=M)break;he<S&&(F+=B.slice(he,S)),F+=String(ae[ue]),he=S+2,S++;break;case 37:he<S&&(F+=B.slice(he,S)),F+="%",he=S+2,S++,ue--}++ue}++S}return-1===he?B:(he<ie&&(F+=B.slice(he)),F)}},53439:(Ae,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.safeJsonParse=function L(ae){if("string"!=typeof ae)throw new Error("Cannot safe json parse value of type "+typeof ae);try{return JSON.parse(ae)}catch{return ae}},m.safeJsonStringify=function B(ae){return"string"==typeof ae?ae:JSON.stringify(ae,(_e,fe)=>typeof fe>"u"?null:fe)}},71675:Ae=>{"use strict";Ae.exports=(m,L)=>{if("string"!=typeof m||"string"!=typeof L)throw new TypeError("Expected the arguments to be of type `string`");if(""===L)return[m];const B=m.indexOf(L);return-1===B?[m]:[m.slice(0,B),m.slice(B+L.length)]}},71141:Ae=>{"use strict";Ae.exports=m=>encodeURIComponent(m).replace(/[!'()*]/g,L=>`%${L.charCodeAt(0).toString(16).toUpperCase()}`)},82791:Ae=>{"use strict";Ae.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},69763:(Ae,m,L)=>{"use strict";L.r(m),L.d(m,{__assign:()=>_e,__asyncDelegator:()=>ee,__asyncGenerator:()=>Ee,__asyncValues:()=>j,__await:()=>De,__awaiter:()=>$,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>Z,__exportStar:()=>ue,__extends:()=>ae,__generator:()=>M,__importDefault:()=>V,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>oe,__read:()=>ie,__rest:()=>fe,__spread:()=>S,__spreadArrays:()=>me,__values:()=>he});var B=function(l,v){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(l,v)};function ae(l,v){function y(){this.constructor=l}B(l,v),l.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(l,v){var y={};for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&v.indexOf(x)<0&&(y[x]=l[x]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(l);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(l,x[b])&&(y[x[b]]=l[x[b]])}return y}function Z(l,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(l,v,y,x);else for(var P=l.length-1;P>=0;P--)(D=l[P])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function oe(l,v){return function(y,x){v(y,x,l)}}function K(l,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,v)}function $(l,v,y,x){return new(y||(y=Promise))(function(p,D){function P(q){try{w(x.next(q))}catch(ce){D(ce)}}function C(q){try{w(x.throw(q))}catch(ce){D(ce)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(P,C)}w((x=x.apply(l,v||[])).next())})}function M(l,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function P(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(l,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(l,v,y,x){void 0===x&&(x=y),l[x]=v[y]}function ue(l,v){for(var y in l)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=l[y])}function he(l){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&l[v],x=0;if(y)return y.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&x>=l.length&&(l=void 0),{value:l&&l[x++],done:!l}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(l,v){var y="function"==typeof Symbol&&l[Symbol.iterator];if(!y)return l;var b,D,x=y.call(l),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(P){D={error:P}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function S(){for(var l=[],v=0;v<arguments.length;v++)l=l.concat(ie(arguments[v]));return l}function me(){for(var l=0,v=0,y=arguments.length;v<y;v++)l+=arguments[v].length;var x=Array(l),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,P=p.length;D<P;D++,b++)x[b]=p[D];return x}function De(l){return this instanceof De?(this.v=l,this):new De(l)}function Ee(l,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(l,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Pe){return new Promise(function(ye,xe){p.push([W,Pe,ye,xe])>1||P(W,Pe)})})}function P(W,Pe){try{!function C(W){W.value instanceof De?Promise.resolve(W.value.v).then(w,q):ce(p[0][2],W)}(x[W](Pe))}catch(ye){ce(p[0][3],ye)}}function w(W){P("next",W)}function q(W){P("throw",W)}function ce(W,Pe){W(Pe),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(l){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=l[b]?function(D){return(y=!y)?{value:De(l[b](D)),done:"return"===b}:p?p(D):D}:p}}function j(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=l[Symbol.asyncIterator];return v?v.call(l):(l=he(l),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=l[p]&&function(D){return new Promise(function(P,C){!function b(p,D,P,C){Promise.resolve(C).then(function(w){p({value:w,done:P})},D)}(P,C,(D=l[p](D)).done,D.value)})}}}function z(l,v){return Object.defineProperty?Object.defineProperty(l,"raw",{value:v}):l.raw=v,l}function R(l){if(l&&l.__esModule)return l;var v={};if(null!=l)for(var y in l)Object.hasOwnProperty.call(l,y)&&(v[y]=l[y]);return v.default=l,v}function V(l){return l&&l.__esModule?l:{default:l}}function T(l,v){if(!v.has(l))throw new TypeError("attempted to get private field on non-instance");return v.get(l)}function h(l,v,y){if(!v.has(l))throw new TypeError("attempted to set private field on non-instance");return v.set(l,y),y}},99940:(Ae,m,L)=>{"use strict";L.r(m),L.d(m,{__assign:()=>_e,__asyncDelegator:()=>ee,__asyncGenerator:()=>Ee,__asyncValues:()=>j,__await:()=>De,__awaiter:()=>$,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>Z,__exportStar:()=>ue,__extends:()=>ae,__generator:()=>M,__importDefault:()=>V,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>oe,__read:()=>ie,__rest:()=>fe,__spread:()=>S,__spreadArrays:()=>me,__values:()=>he});var B=function(l,v){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(l,v)};function ae(l,v){function y(){this.constructor=l}B(l,v),l.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(l,v){var y={};for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&v.indexOf(x)<0&&(y[x]=l[x]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(l);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(l,x[b])&&(y[x[b]]=l[x[b]])}return y}function Z(l,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(l,v,y,x);else for(var P=l.length-1;P>=0;P--)(D=l[P])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function oe(l,v){return function(y,x){v(y,x,l)}}function K(l,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,v)}function $(l,v,y,x){return new(y||(y=Promise))(function(p,D){function P(q){try{w(x.next(q))}catch(ce){D(ce)}}function C(q){try{w(x.throw(q))}catch(ce){D(ce)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(P,C)}w((x=x.apply(l,v||[])).next())})}function M(l,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function P(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(l,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(l,v,y,x){void 0===x&&(x=y),l[x]=v[y]}function ue(l,v){for(var y in l)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=l[y])}function he(l){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&l[v],x=0;if(y)return y.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&x>=l.length&&(l=void 0),{value:l&&l[x++],done:!l}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(l,v){var y="function"==typeof Symbol&&l[Symbol.iterator];if(!y)return l;var b,D,x=y.call(l),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(P){D={error:P}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function S(){for(var l=[],v=0;v<arguments.length;v++)l=l.concat(ie(arguments[v]));return l}function me(){for(var l=0,v=0,y=arguments.length;v<y;v++)l+=arguments[v].length;var x=Array(l),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,P=p.length;D<P;D++,b++)x[b]=p[D];return x}function De(l){return this instanceof De?(this.v=l,this):new De(l)}function Ee(l,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(l,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Pe){return new Promise(function(ye,xe){p.push([W,Pe,ye,xe])>1||P(W,Pe)})})}function P(W,Pe){try{!function C(W){W.value instanceof De?Promise.resolve(W.value.v).then(w,q):ce(p[0][2],W)}(x[W](Pe))}catch(ye){ce(p[0][3],ye)}}function w(W){P("next",W)}function q(W){P("throw",W)}function ce(W,Pe){W(Pe),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(l){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=l[b]?function(D){return(y=!y)?{value:De(l[b](D)),done:"return"===b}:p?p(D):D}:p}}function j(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=l[Symbol.asyncIterator];return v?v.call(l):(l=he(l),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=l[p]&&function(D){return new Promise(function(P,C){!function b(p,D,P,C){Promise.resolve(C).then(function(w){p({value:w,done:P})},D)}(P,C,(D=l[p](D)).done,D.value)})}}}function z(l,v){return Object.defineProperty?Object.defineProperty(l,"raw",{value:v}):l.raw=v,l}function R(l){if(l&&l.__esModule)return l;var v={};if(null!=l)for(var y in l)Object.hasOwnProperty.call(l,y)&&(v[y]=l[y]);return v.default=l,v}function V(l){return l&&l.__esModule?l:{default:l}}function T(l,v){if(!v.has(l))throw new TypeError("attempted to get private field on non-instance");return v.get(l)}function h(l,v,y){if(!v.has(l))throw new TypeError("attempted to set private field on non-instance");return v.set(l,y),y}},92818:(Ae,m,L)=>{"use strict";L.r(m),L.d(m,{__assign:()=>_e,__asyncDelegator:()=>ee,__asyncGenerator:()=>Ee,__asyncValues:()=>j,__await:()=>De,__awaiter:()=>$,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>Z,__exportStar:()=>ue,__extends:()=>ae,__generator:()=>M,__importDefault:()=>V,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>oe,__read:()=>ie,__rest:()=>fe,__spread:()=>S,__spreadArrays:()=>me,__values:()=>he});var B=function(l,v){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(l,v)};function ae(l,v){function y(){this.constructor=l}B(l,v),l.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(l,v){var y={};for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&v.indexOf(x)<0&&(y[x]=l[x]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(l);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(l,x[b])&&(y[x[b]]=l[x[b]])}return y}function Z(l,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(l,v,y,x);else for(var P=l.length-1;P>=0;P--)(D=l[P])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function oe(l,v){return function(y,x){v(y,x,l)}}function K(l,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,v)}function $(l,v,y,x){return new(y||(y=Promise))(function(p,D){function P(q){try{w(x.next(q))}catch(ce){D(ce)}}function C(q){try{w(x.throw(q))}catch(ce){D(ce)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(P,C)}w((x=x.apply(l,v||[])).next())})}function M(l,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function P(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(l,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(l,v,y,x){void 0===x&&(x=y),l[x]=v[y]}function ue(l,v){for(var y in l)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=l[y])}function he(l){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&l[v],x=0;if(y)return y.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&x>=l.length&&(l=void 0),{value:l&&l[x++],done:!l}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(l,v){var y="function"==typeof Symbol&&l[Symbol.iterator];if(!y)return l;var b,D,x=y.call(l),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(P){D={error:P}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function S(){for(var l=[],v=0;v<arguments.length;v++)l=l.concat(ie(arguments[v]));return l}function me(){for(var l=0,v=0,y=arguments.length;v<y;v++)l+=arguments[v].length;var x=Array(l),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,P=p.length;D<P;D++,b++)x[b]=p[D];return x}function De(l){return this instanceof De?(this.v=l,this):new De(l)}function Ee(l,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(l,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Pe){return new Promise(function(ye,xe){p.push([W,Pe,ye,xe])>1||P(W,Pe)})})}function P(W,Pe){try{!function C(W){W.value instanceof De?Promise.resolve(W.value.v).then(w,q):ce(p[0][2],W)}(x[W](Pe))}catch(ye){ce(p[0][3],ye)}}function w(W){P("next",W)}function q(W){P("throw",W)}function ce(W,Pe){W(Pe),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(l){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=l[b]?function(D){return(y=!y)?{value:De(l[b](D)),done:"return"===b}:p?p(D):D}:p}}function j(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=l[Symbol.asyncIterator];return v?v.call(l):(l=he(l),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=l[p]&&function(D){return new Promise(function(P,C){!function b(p,D,P,C){Promise.resolve(C).then(function(w){p({value:w,done:P})},D)}(P,C,(D=l[p](D)).done,D.value)})}}}function z(l,v){return Object.defineProperty?Object.defineProperty(l,"raw",{value:v}):l.raw=v,l}function R(l){if(l&&l.__esModule)return l;var v={};if(null!=l)for(var y in l)Object.hasOwnProperty.call(l,y)&&(v[y]=l[y]);return v.default=l,v}function V(l){return l&&l.__esModule?l:{default:l}}function T(l,v){if(!v.has(l))throw new TypeError("attempted to get private field on non-instance");return v.get(l)}function h(l,v,y){if(!v.has(l))throw new TypeError("attempted to set private field on non-instance");return v.set(l,y),y}},20263:(Ae,m,L)=>{"use strict";L.r(m),L.d(m,{__assign:()=>_e,__asyncDelegator:()=>ee,__asyncGenerator:()=>Ee,__asyncValues:()=>j,__await:()=>De,__awaiter:()=>$,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>Z,__exportStar:()=>ue,__extends:()=>ae,__generator:()=>M,__importDefault:()=>V,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>oe,__read:()=>ie,__rest:()=>fe,__spread:()=>S,__spreadArrays:()=>me,__values:()=>he});var B=function(l,v){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(l,v)};function ae(l,v){function y(){this.constructor=l}B(l,v),l.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(l,v){var y={};for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&v.indexOf(x)<0&&(y[x]=l[x]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(l);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(l,x[b])&&(y[x[b]]=l[x[b]])}return y}function Z(l,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(l,v,y,x);else for(var P=l.length-1;P>=0;P--)(D=l[P])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function oe(l,v){return function(y,x){v(y,x,l)}}function K(l,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,v)}function $(l,v,y,x){return new(y||(y=Promise))(function(p,D){function P(q){try{w(x.next(q))}catch(ce){D(ce)}}function C(q){try{w(x.throw(q))}catch(ce){D(ce)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(P,C)}w((x=x.apply(l,v||[])).next())})}function M(l,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function P(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(l,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(l,v,y,x){void 0===x&&(x=y),l[x]=v[y]}function ue(l,v){for(var y in l)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=l[y])}function he(l){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&l[v],x=0;if(y)return y.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&x>=l.length&&(l=void 0),{value:l&&l[x++],done:!l}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(l,v){var y="function"==typeof Symbol&&l[Symbol.iterator];if(!y)return l;var b,D,x=y.call(l),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(P){D={error:P}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function S(){for(var l=[],v=0;v<arguments.length;v++)l=l.concat(ie(arguments[v]));return l}function me(){for(var l=0,v=0,y=arguments.length;v<y;v++)l+=arguments[v].length;var x=Array(l),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,P=p.length;D<P;D++,b++)x[b]=p[D];return x}function De(l){return this instanceof De?(this.v=l,this):new De(l)}function Ee(l,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(l,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Pe){return new Promise(function(ye,xe){p.push([W,Pe,ye,xe])>1||P(W,Pe)})})}function P(W,Pe){try{!function C(W){W.value instanceof De?Promise.resolve(W.value.v).then(w,q):ce(p[0][2],W)}(x[W](Pe))}catch(ye){ce(p[0][3],ye)}}function w(W){P("next",W)}function q(W){P("throw",W)}function ce(W,Pe){W(Pe),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(l){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=l[b]?function(D){return(y=!y)?{value:De(l[b](D)),done:"return"===b}:p?p(D):D}:p}}function j(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=l[Symbol.asyncIterator];return v?v.call(l):(l=he(l),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=l[p]&&function(D){return new Promise(function(P,C){!function b(p,D,P,C){Promise.resolve(C).then(function(w){p({value:w,done:P})},D)}(P,C,(D=l[p](D)).done,D.value)})}}}function z(l,v){return Object.defineProperty?Object.defineProperty(l,"raw",{value:v}):l.raw=v,l}function R(l){if(l&&l.__esModule)return l;var v={};if(null!=l)for(var y in l)Object.hasOwnProperty.call(l,y)&&(v[y]=l[y]);return v.default=l,v}function V(l){return l&&l.__esModule?l:{default:l}}function T(l,v){if(!v.has(l))throw new TypeError("attempted to get private field on non-instance");return v.get(l)}function h(l,v,y){if(!v.has(l))throw new TypeError("attempted to set private field on non-instance");return v.set(l,y),y}},58092:(Ae,m,L)=>{"use strict";L.r(m),L.d(m,{__assign:()=>_e,__asyncDelegator:()=>ee,__asyncGenerator:()=>Ee,__asyncValues:()=>j,__await:()=>De,__awaiter:()=>$,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>Z,__exportStar:()=>ue,__extends:()=>ae,__generator:()=>M,__importDefault:()=>V,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>oe,__read:()=>ie,__rest:()=>fe,__spread:()=>S,__spreadArrays:()=>me,__values:()=>he});var B=function(l,v){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(l,v)};function ae(l,v){function y(){this.constructor=l}B(l,v),l.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(l,v){var y={};for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&v.indexOf(x)<0&&(y[x]=l[x]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(l);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(l,x[b])&&(y[x[b]]=l[x[b]])}return y}function Z(l,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(l,v,y,x);else for(var P=l.length-1;P>=0;P--)(D=l[P])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function oe(l,v){return function(y,x){v(y,x,l)}}function K(l,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,v)}function $(l,v,y,x){return new(y||(y=Promise))(function(p,D){function P(q){try{w(x.next(q))}catch(ce){D(ce)}}function C(q){try{w(x.throw(q))}catch(ce){D(ce)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(P,C)}w((x=x.apply(l,v||[])).next())})}function M(l,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function P(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(l,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(l,v,y,x){void 0===x&&(x=y),l[x]=v[y]}function ue(l,v){for(var y in l)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=l[y])}function he(l){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&l[v],x=0;if(y)return y.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&x>=l.length&&(l=void 0),{value:l&&l[x++],done:!l}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(l,v){var y="function"==typeof Symbol&&l[Symbol.iterator];if(!y)return l;var b,D,x=y.call(l),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(P){D={error:P}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function S(){for(var l=[],v=0;v<arguments.length;v++)l=l.concat(ie(arguments[v]));return l}function me(){for(var l=0,v=0,y=arguments.length;v<y;v++)l+=arguments[v].length;var x=Array(l),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,P=p.length;D<P;D++,b++)x[b]=p[D];return x}function De(l){return this instanceof De?(this.v=l,this):new De(l)}function Ee(l,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(l,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Pe){return new Promise(function(ye,xe){p.push([W,Pe,ye,xe])>1||P(W,Pe)})})}function P(W,Pe){try{!function C(W){W.value instanceof De?Promise.resolve(W.value.v).then(w,q):ce(p[0][2],W)}(x[W](Pe))}catch(ye){ce(p[0][3],ye)}}function w(W){P("next",W)}function q(W){P("throw",W)}function ce(W,Pe){W(Pe),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(l){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=l[b]?function(D){return(y=!y)?{value:De(l[b](D)),done:"return"===b}:p?p(D):D}:p}}function j(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=l[Symbol.asyncIterator];return v?v.call(l):(l=he(l),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=l[p]&&function(D){return new Promise(function(P,C){!function b(p,D,P,C){Promise.resolve(C).then(function(w){p({value:w,done:P})},D)}(P,C,(D=l[p](D)).done,D.value)})}}}function z(l,v){return Object.defineProperty?Object.defineProperty(l,"raw",{value:v}):l.raw=v,l}function R(l){if(l&&l.__esModule)return l;var v={};if(null!=l)for(var y in l)Object.hasOwnProperty.call(l,y)&&(v[y]=l[y]);return v.default=l,v}function V(l){return l&&l.__esModule?l:{default:l}}function T(l,v){if(!v.has(l))throw new TypeError("attempted to get private field on non-instance");return v.get(l)}function h(l,v,y){if(!v.has(l))throw new TypeError("attempted to set private field on non-instance");return v.set(l,y),y}},37386:(Ae,m,L)=>{"use strict";const B=L(51958);Ae.exports=Z;const ae=function V(){function T(h){return typeof h<"u"&&h}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}().console||{},_e={mapHttpRequest:me,mapHttpResponse:me,wrapRequestSerializer:De,wrapResponseSerializer:De,wrapErrorSerializer:De,req:me,res:me,err:function ie(T){const h={type:T.constructor.name,msg:T.message,stack:T.stack};for(const l in T)void 0===h[l]&&(h[l]=T[l]);return h}};function Z(T){(T=T||{}).browser=T.browser||{};const h=T.browser.transmit;if(h&&"function"!=typeof h.send)throw Error("pino: transmit option must have a send function");const l=T.browser.write||ae;T.browser.write&&(T.browser.asObject=!0);const v=T.serializers||{},y=function fe(T,h){return Array.isArray(T)?T.filter(function(v){return"!stdSerializers.err"!==v}):!0===T&&Object.keys(h)}(T.browser.serialize,v);let x=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(x=!1),"function"==typeof l&&(l.error=l.fatal=l.warn=l.info=l.debug=l.trace=l),!1===T.enabled&&(T.level="silent");const p=T.level||"info",D=Object.create(l);D.log||(D.log=Ee),Object.defineProperty(D,"levelVal",{get:function C(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(D,"level",{get:function w(){return this._level},set:function q(W){if("silent"!==W&&!this.levels.values[W])throw Error("unknown level "+W);this._level=W,oe(P,D,"error","log"),oe(P,D,"fatal","error"),oe(P,D,"warn","error"),oe(P,D,"info","log"),oe(P,D,"debug","log"),oe(P,D,"trace","log")}});const P={transmit:h,serialize:y,asObject:T.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:S(T)};return D.levels=Z.levels,D.level=p,D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=Ee,D.serializers=v,D._serialize=y,D._stdErrSerialize=x,D.child=function ce(W,Pe){if(!W)throw new Error("missing bindings for child Pino");Pe=Pe||{},y&&W.serializers&&(Pe.serializers=W.serializers);const ye=Pe.serializers;if(y&&ye){var xe=Object.assign({},v,ye),Te=!0===T.browser.serialize?Object.keys(xe):y;delete W.serializers,M([W],Te,xe,this._stdErrSerialize)}function Le(Me){this._childLevel=1+(0|Me._childLevel),this.error=F(Me,W,"error"),this.fatal=F(Me,W,"fatal"),this.warn=F(Me,W,"warn"),this.info=F(Me,W,"info"),this.debug=F(Me,W,"debug"),this.trace=F(Me,W,"trace"),xe&&(this.serializers=xe,this._serialize=Te),h&&(this._logEvent=he([].concat(Me._logEvent.bindings,W)))}return Le.prototype=this,new Le(this)},h&&(D._logEvent=he()),D}function oe(T,h,l,v){const y=Object.getPrototypeOf(h);h[l]=h.levelVal>h.levels.values[l]?Ee:y[l]?y[l]:ae[l]||ae[v]||Ee,function K(T,h,l){!T.transmit&&h[l]===Ee||(h[l]=function(v){return function(){const x=T.timestamp(),b=new Array(arguments.length),p=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ae?ae:this;for(var D=0;D<b.length;D++)b[D]=arguments[D];if(T.serialize&&!T.asObject&&M(b,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?v.call(p,$(this,l,b,x)):v.apply(p,b),T.transmit){const P=T.transmit.level||h.level,w=Z.levels.values[l];if(w<Z.levels.values[P])return;ue(this,{ts:x,methodLevel:l,methodValue:w,transmitLevel:P,transmitValue:Z.levels.values[T.transmit.level||h.level],send:T.transmit.send,val:h.levelVal},b)}}}(h[l]))}(T,h,l)}function $(T,h,l,v){T._serialize&&M(l,T._serialize,T.serializers,T._stdErrSerialize);const y=l.slice();let x=y[0];const b={};v&&(b.time=v),b.level=Z.levels.values[h];let p=1+(0|T._childLevel);if(p<1&&(p=1),null!==x&&"object"==typeof x){for(;p--&&"object"==typeof y[0];)Object.assign(b,y.shift());x=y.length?B(y.shift(),y):void 0}else"string"==typeof x&&(x=B(y.shift(),y));return void 0!==x&&(b.msg=x),b}function M(T,h,l,v){for(const y in T)if(v&&T[y]instanceof Error)T[y]=Z.stdSerializers.err(T[y]);else if("object"==typeof T[y]&&!Array.isArray(T[y]))for(const x in T[y])h&&h.indexOf(x)>-1&&x in l&&(T[y][x]=l[x](T[y][x]))}function F(T,h,l){return function(){const v=new Array(1+arguments.length);v[0]=h;for(var y=1;y<v.length;y++)v[y]=arguments[y-1];return T[l].apply(this,v)}}function ue(T,h,l){const v=h.send,y=h.ts,x=h.methodLevel,b=h.methodValue,p=h.val,D=T._logEvent.bindings;M(l,T._serialize||Object.keys(T.serializers),T.serializers,void 0===T._stdErrSerialize||T._stdErrSerialize),T._logEvent.ts=y,T._logEvent.messages=l.filter(function(P){return-1===D.indexOf(P)}),T._logEvent.level.label=x,T._logEvent.level.value=b,v(x,T._logEvent,p),T._logEvent=he(D)}function he(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function S(T){return"function"==typeof T.timestamp?T.timestamp:!1===T.timestamp?ee:j}function me(){return{}}function De(T){return T}function Ee(){}function ee(){return!1}function j(){return Date.now()}Z.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Z.stdSerializers=_e,Z.stdTimeFunctions=Object.assign({},{nullTime:ee,epochTime:j,unixTime:function z(){return Math.round(Date.now()/1e3)},isoTime:function R(){return new Date(Date.now()).toISOString()}})}}]);