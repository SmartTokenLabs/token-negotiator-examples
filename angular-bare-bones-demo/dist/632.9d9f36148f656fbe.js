(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[632],{28632:(Ce,m,j)=>{"use strict";j.r(m),j.d(m,{WC_V2_DEFAULT_CHAINS:()=>Wy,getWalletConnectV2ProviderInstance:()=>ky});var M={};j.r(M),j.d(M,{identity:()=>Xe});var oe={};j.r(oe),j.d(oe,{base2:()=>We});var _e={};j.r(_e),j.d(_e,{base8:()=>ft});var fe={};j.r(fe),j.d(fe,{base10:()=>dt});var X={};j.r(X),j.d(X,{base16:()=>vt,base16upper:()=>mt});var ie={};j.r(ie),j.d(ie,{base36:()=>Et,base36upper:()=>Dt});var K={};j.r(K),j.d(K,{base64:()=>br,base64pad:()=>fn,base64url:()=>Rn,base64urlpad:()=>Wn});var B={};j.r(B),j.d(B,{base256emoji:()=>$t});var L={};j.r(L),j.d(L,{sha256:()=>nr,sha512:()=>ir});var F={};j.r(F),j.d(F,{identity:()=>or});var ae={};j.r(ae),j.d(ae,{code:()=>ur,decode:()=>ln,encode:()=>sa,name:()=>ar});var he={};j.r(he),j.d(he,{code:()=>ca,decode:()=>Nn,encode:()=>fa,name:()=>ua});var S=j(8239),se=j(2272),De=j.n(se),Se=j(83169),be=j(40851),V=j(71268),H=j(43795);class z extends H.q{constructor(r){super(),this.opts=r,this.protocol="wc",this.version=2}}class Z extends H.q{constructor(r,t){super(),this.core=r,this.logger=t,this.records=new Map}}class h extends H.q{constructor(r,t){super(),this.relayer=r,this.logger=t}}class f extends H.q{constructor(r){super()}}class x extends H.q{constructor(r,t){super(),this.relayer=r,this.logger=t}}class p extends H.q{constructor(r,t){super(),this.core=r,this.logger=t}}function ye(a){if("string"!=typeof a)throw new Error("Cannot safe json parse value of type "+typeof a);try{return(a=>{const t=a.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(o,u)=>"string"==typeof u&&u.match(/^\d+n$/)?BigInt(u.substring(0,u.length-1)):u)})(a)}catch{return a}}function xe(a){return"string"==typeof a?a:(a=>JSON.stringify(a,(r,t)=>"bigint"==typeof t?t.toString()+"n":t))(a)||""}var Fe=j(52877),Le=j(7841),me=j(40145);const _="base64url",st="did",bt="key",ut="base58btc";function ot(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function nt(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?ot(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function tt(a,r){r||(r=a.reduce((u,l)=>u+l.length,0));const t=nt(r);let o=0;for(const u of a)t.set(u,o),o+=u.length;return ot(t)}var $e=j(29161),qe=j(91744);const Xe=(0,$e.Dp)({prefix:"\0",name:"identity",encode:a=>(0,qe.toString)(a),decode:a=>(0,qe.fromString)(a)}),We=(0,$e.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ft=(0,$e.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),dt=(0,$e.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),vt=(0,$e.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mt=(0,$e.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var gt=j(79515);const Et=(0,$e.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Dt=(0,$e.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Jr=j(59942);const br=(0,$e.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),fn=(0,$e.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Rn=(0,$e.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Wn=(0,$e.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),wn=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),En=wn.reduce((a,r,t)=>(a[t]=r,a),[]),Vt=wn.reduce((a,r,t)=>(a[r.codePointAt(0)]=t,a),[]),$t=(0,$e.Dp)({prefix:"\u{1f680}",name:"base256emoji",encode:function Kt(a){return a.reduce((r,t)=>r+En[t],"")},decode:function qt(a){const r=[];for(const t of a){const o=Vt[t.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${t}`);r.push(o)}return new Uint8Array(r)}});var Yt=j(53907);const Xt=a=>function(){var r=(0,S.Z)(function*(t){return new Uint8Array(yield crypto.subtle.digest(a,t))});return function(t){return r.apply(this,arguments)}}(),nr=(0,Yt.from)({name:"sha2-256",code:18,encode:Xt("SHA-256")}),ir=(0,Yt.from)({name:"sha2-512",code:19,encode:Xt("SHA-512")});var sr=j(22834);const Rt=qe.coerce,or={code:0,name:"identity",encode:Rt,digest:a=>sr.create(0,Rt(a))},ar="raw",ur=85,sa=a=>(0,qe.coerce)(a),ln=a=>(0,qe.coerce)(a),oa=new TextEncoder,aa=new TextDecoder,ua="json",ca=512,fa=a=>oa.encode(JSON.stringify(a)),Nn=a=>JSON.parse(aa.decode(a));j(8422);const zs={...M,...oe,..._e,...fe,...X,...gt,...ie,...Jr,...K,...B};function Hs(a,r,t,o){return{name:a,prefix:r,encoder:{name:a,prefix:r,encode:t},decoder:{decode:o}}}const fi=Hs("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>(new TextEncoder).encode(a.substring(1))),rs=Hs("ascii","a",a=>{let r="a";for(let t=0;t<a.length;t++)r+=String.fromCharCode(a[t]);return r},a=>{const r=nt((a=a.substring(1)).length);for(let t=0;t<a.length;t++)r[t]=a.charCodeAt(t);return r}),hn={utf8:fi,"utf-8":fi,hex:zs.base16,latin1:rs,ascii:rs,binary:rs,...zs};function wr(a,r="utf8"){const t=hn[r];if(!t)throw new Error(`Unsupported encoding "${r}"`);return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.encoder.encode(a).substring(1):globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8")}function Or(a,r="utf8"){const t=hn[r];if(!t)throw new Error(`Unsupported encoding "${r}"`);return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${a}`):ot(globalThis.Buffer.from(a,"utf-8"))}function Ci(a){return wr(Or(xe(a),"utf8"),_)}function Zs(a){const t="z"+wr(tt([Or("K36",ut),a]),ut);return[st,bt,t].join(":")}function Ti(a){return wr(a,_)}function li(a){return Or([Ci(a.header),Ci(a.payload)].join("."),"utf8")}function Vs(a){return[Ci(a.header),Ci(a.payload),Ti(a.signature)].join(".")}function Ks(a=(0,Le.randomBytes)(32)){return Fe._w(a)}function ns(){return(ns=(0,S.Z)(function*(a,r,t,o,u=(0,me.fromMiliseconds)(Date.now())){const l={alg:"EdDSA",typ:"JWT"},Q={iss:Zs(o.publicKey),sub:a,aud:r,iat:u,exp:u+t},G=li({header:l,payload:Q});return Vs({header:l,payload:Q,signature:Fe.Xx(o.secretKey,G)})})).apply(this,arguments)}j(84143);var ss=j(31118),Ri=j(82584),Dn=j(59373),qs=j(65504),Ws=function(a,r,t){if(t||2===arguments.length)for(var l,o=0,u=r.length;o<u;o++)(l||!(o in r))&&(l||(l=Array.prototype.slice.call(r,0,o)),l[o]=r[o]);return a.concat(l||Array.prototype.slice.call(r))},xn=function a(r,t,o){this.name=r,this.version=t,this.os=o,this.type="browser"},ga=function a(r){this.version=r,this.type="node",this.name="node",this.os=process.platform},_a=function a(r,t,o,u){this.name=r,this.version=t,this.os=o,this.bot=u,this.type="bot-device"},ya=function a(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},va=function a(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Fn=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ba=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],hi=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function as(a){var r=function Ni(a){return""!==a&&ba.reduce(function(r,t){var o=t[0];if(r)return r;var l=t[1].exec(a);return!!l&&[o,l]},!1)}(a);if(!r)return null;var t=r[0],o=r[1];if("searchbot"===t)return new ya;var u=o[1]&&o[1].split(".").join("_").split("_").slice(0,3);u?u.length<3&&(u=Ws(Ws([],u,!0),function di(a){for(var r=[],t=0;t<a;t++)r.push("0");return r}(3-u.length),!0)):u=[];var l=u.join("."),g=function ks(a){for(var r=0,t=hi.length;r<t;r++){var o=hi[r],u=o[0];if(o[1].exec(a))return u}return null}(a),A=Fn.exec(a);return A&&A[1]?new _a(t,l,g,A[1]):new xn(t,l,g)}var pi=j(6179),Ea=j(98064),Fi=j(9805);j(43025);const N={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function Yr(a,r){return a.includes(":")?[a]:r.chains||[]}const Ar="base16",xa="base64pad",Sa="utf8";function Pa(){return wr((0,Le.randomBytes)(32),Ar)}function Li(a){return wr((0,Dn.vp)(Or(a,Sa)),Ar)}function cs(a){return Number(wr(a,"base10"))}function Js(a){const r=Or(a,xa),t=r.slice(0,1);if(1===cs(t)){const A=33,Q=A+12,G=r.slice(1,A),de=r.slice(A,Q);return{type:t,sealed:r.slice(Q),iv:de,senderPublicKey:G}}const l=r.slice(1,13);return{type:t,sealed:r.slice(13),iv:l}}function Lc(a){const r=a?.type||0;if(1===r){if(typeof a?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof a?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:r,senderPublicKey:a?.senderPublicKey,receiverPublicKey:a?.receiverPublicKey}}function Uc(a){return 1===a.type&&"string"==typeof a.senderPublicKey&&"string"==typeof a.receiverPublicKey}var rp=Object.defineProperty,Mc=Object.getOwnPropertySymbols,np=Object.prototype.hasOwnProperty,ip=Object.prototype.propertyIsEnumerable,Bc=(a,r,t)=>r in a?rp(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,$c=(a,r)=>{for(var t in r||(r={}))np.call(r,t)&&Bc(a,t,r[t]);if(Mc)for(var t of Mc(r))ip.call(r,t)&&Bc(a,t,r[t]);return a};const ap="js";function Ca(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Hc(){return!(0,pi.getDocument)()&&!!(0,pi.getNavigator)()&&"ReactNative"===navigator.product}function Ta(){return!Ca()&&!!(0,pi.getNavigator)()}function Ys(){return Hc()?"react-native":Ca()?"node":Ta()?"browser":"unknown"}function hp(a,r,t){const o=function fp(){if("react-native"===Ys()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){const{OS:t,Version:o}=global.Platform;return[t,o].join("-")}const a=function wa(a){return a?as(a):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new va:typeof navigator<"u"?as(navigator.userAgent):function Gs(){return typeof process<"u"&&process.version?new ga(process.version.slice(1)):null}()}();if(null===a)return"unknown";const r=a.os?a.os.replace(" ","").toLowerCase():"unknown";return"browser"===a.type?[r,a.name,a.version].join("-"):[r,a.version].join("-")}(),u=function lp(){var a;const r=Ys();return"browser"===r?[r,(null==(a=(0,pi.getLocation)())?void 0:a.host)||"unknown"].join(":"):r}();return[[a,r].join("-"),[ap,t].join("-"),o,u].join("/")}function _i(a,r){return a.filter(t=>r.includes(t)).length===a.length}function Zc(a){return Object.fromEntries(a.entries())}function Vc(a){return new Map(Object.entries(a))}function Ui(a=me.FIVE_MINUTES,r){const t=(0,me.toMiliseconds)(a||me.FIVE_MINUTES);let o,u,l;return{resolve:g=>{l&&o&&(clearTimeout(l),o(g))},reject:g=>{l&&u&&(clearTimeout(l),u(g))},done:()=>new Promise((g,A)=>{l=setTimeout(()=>{A(new Error(r))},t),o=g,u=A})}}function Xs(a,r,t){return new Promise(function(){var o=(0,S.Z)(function*(u,l){const g=setTimeout(()=>l(new Error(t)),r);try{u(yield a)}catch(A){l(A)}clearTimeout(g)});return function(u,l){return o.apply(this,arguments)}}())}function Kc(a,r){if("string"==typeof r&&r.startsWith(`${a}:`))return r;if("topic"===a.toLowerCase()){if("string"!=typeof r)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${r}`}if("id"===a.toLowerCase()){if("number"!=typeof r)throw new Error('Value must be "number" for expirer target type: id');return`id:${r}`}throw new Error(`Unknown expirer target type: ${a}`)}function qc(a){const[r,t]=a.split(":"),o={id:void 0,topic:void 0};if("topic"===r&&"string"==typeof t)o.topic=t;else{if("id"!==r||!Number.isInteger(Number(t)))throw new Error(`Invalid target, expected id:number or topic:string, got ${r}:${t}`);o.id=Number(t)}return o}function dn(a,r){return(0,me.fromMiliseconds)((r||Date.now())+(0,me.toMiliseconds)(a))}function Gn(a){return Date.now()>=(0,me.toMiliseconds)(a)}function fr(a,r){return`${a}${r?`:${r}`:""}`}function Sn(a=[],r=[]){return[...new Set([...a,...r])]}function Ra(){return(Ra=(0,S.Z)(function*({id:a,topic:r,wcDeepLink:t}){try{if(!t)return;let u=("string"==typeof t?JSON.parse(t):t)?.href;if("string"!=typeof u)return;u.endsWith("/")&&(u=u.slice(0,-1));const l=`${u}/wc?requestId=${a}&sessionTopic=${r}`,g=Ys();"browser"===g?l.startsWith("https://")?window.open(l,"_blank","noreferrer noopener"):window.open(l,"_self","noreferrer noopener"):"react-native"===g&&typeof(null==global?void 0:global.Linking)<"u"&&(yield global.Linking.openURL(l))}catch(o){console.error(o)}})).apply(this,arguments)}function Na(a){return a?.relay||{protocol:"irn"}}function Qs(a){const r=N[a];if(typeof r>"u")throw new Error(`Relay Protocol not supported: ${a}`);return r}var wp=Object.defineProperty,Wc=Object.getOwnPropertySymbols,Ep=Object.prototype.hasOwnProperty,Dp=Object.prototype.propertyIsEnumerable,kc=(a,r,t)=>r in a?wp(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t;function Sp(a,r="-"){const t={},o="relay"+r;return Object.keys(a).forEach(u=>{if(u.startsWith(o)){const l=u.replace(o,"");t[l]=a[u]}}),t}function Ip(a){return a.startsWith("//")?a.substring(2):a}function Mi(a){const r=[];return a.forEach(t=>{const[o,u]=t.split(":");r.push(`${o}:${u}`)}),r}function eo(a){return a.includes(":")}function fs(a){return eo(a)?a.split(":")[0]:a}const zp={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Hp={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ne(a,r){const{message:t,code:o}=Hp[a];return{message:r?`${t} ${r}`:t,code:o}}function lr(a,r){const{message:t,code:o}=zp[a];return{message:r?`${t} ${r}`:t,code:o}}function yi(a,r){return!!Array.isArray(a)&&(!(typeof r<"u"&&a.length)||a.every(r))}function vi(a){return Object.getPrototypeOf(a)===Object.prototype&&Object.keys(a).length}function Cr(a){return typeof a>"u"}function yr(a,r){return!(!r||!Cr(a))||"string"==typeof a&&!!a.trim().length}function Fa(a,r){return!(!r||!Cr(a))||"number"==typeof a&&!isNaN(a)}function to(a){return!(!yr(a,!1)||!a.includes(":"))&&2===a.split(":").length}function Xc(a){let r=!0;return yi(a)?a.length&&(r=a.every(t=>yr(t,!1))):r=!1,r}function Qc(a,r){let t=null;return Object.values(a).forEach(o=>{if(t)return;const u=function Qp(a,r){let t=null;return Xc(a?.methods)?Xc(a?.events)||(t=lr("UNSUPPORTED_EVENTS",`${r}, events should be an array of strings or empty array for no events`)):t=lr("UNSUPPORTED_METHODS",`${r}, methods should be an array of strings or empty array for no methods`),t}(o,`${r}, namespace`);u&&(t=u)}),t}function ro(a,r){let t=null;if(a&&vi(a)){const o=Qc(a,r);o&&(t=o);const u=function Xp(a,r){let t=null;return Object.values(a).forEach(o=>{if(t)return;const u=function Yp(a,r){let t=null;return yi(a)?a.forEach(o=>{t||function Vp(a){if(yr(a,!1)&&a.includes(":")){const r=a.split(":");if(3===r.length){const t=r[0]+":"+r[1];return!!r[2]&&to(t)}}return!1}(o)||(t=lr("UNSUPPORTED_ACCOUNTS",`${r}, account ${o} should be a string and conform to "namespace:chainId:address" format`))}):t=lr("UNSUPPORTED_ACCOUNTS",`${r}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}(o?.accounts,`${r} namespace`);u&&(t=u)}),t}(a,r);u&&(t=u)}else t=Ne("MISSING_OR_INVALID",`${r}, namespaces should be an object with data`);return t}function ef(a){return yr(a.protocol,!0)}function jr(a){return typeof a<"u"&&null!==typeof a}function tf(a,r){return!(!to(r)||!function Up(a){const r=[];return Object.values(a).forEach(t=>{r.push(...Mi(t.accounts))}),r}(a).includes(r))}function ja(a,r,t){let o=null;const u=function cg(a){const r={};return Object.keys(a).forEach(t=>{var o;t.includes(":")?r[t]=a[t]:null==(o=a[t].chains)||o.forEach(u=>{r[u]={methods:a[t].methods,events:a[t].events}})}),r}(a),l=function fg(a){const r={};return Object.keys(a).forEach(t=>{t.includes(":")?r[t]=a[t]:Mi(a[t].accounts)?.forEach(u=>{r[u]={accounts:a[t].accounts.filter(l=>l.includes(`${u}:`)),methods:a[t].methods,events:a[t].events}})}),r}(r),g=Object.keys(u),A=Object.keys(l),Q=rf(Object.keys(a)),G=rf(Object.keys(r)),de=Q.filter(Ie=>!G.includes(Ie));return de.length&&(o=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${de.toString()}\n      Received: ${Object.keys(r).toString()}`)),_i(g,A)||(o=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.\n      Required: ${g.toString()}\n      Approved: ${A.toString()}`)),Object.keys(r).forEach(Ie=>{if(!Ie.includes(":")||o)return;const He=Mi(r[Ie].accounts);He.includes(Ie)||(o=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${Ie}\n        Required: ${Ie}\n        Approved: ${He.toString()}`))}),g.forEach(Ie=>{o||(_i(u[Ie].methods,l[Ie].methods)?_i(u[Ie].events,l[Ie].events)||(o=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${Ie}`)):o=Ne("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${Ie}`))}),o}function rf(a){return[...new Set(a.map(r=>r.includes(":")?r.split(":")[0]:r))]}const nf="INTERNAL_ERROR",La="SERVER_ERROR",_g=[-32700,-32600,-32601,-32602,-32603],ls={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[nf]:{code:-32603,message:"Internal error"},[La]:{code:-32e3,message:"Server error"}},sf=La;function af(a){return Object.keys(ls).includes(a)?ls[a]:ls[sf]}function cf(a,r,t){return a.message.includes("getaddrinfo ENOTFOUND")||a.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${r}`):a}var vg=j(43841);function ff(a=3){return Date.now()*Math.pow(10,a)+Math.floor(Math.random()*Math.pow(10,a))}function Ua(a=6){return BigInt(ff(a))}function no(a,r,t){return{id:t||ff(),jsonrpc:"2.0",method:a,params:r}}function Ma(a,r){return{id:a,jsonrpc:"2.0",result:r}}function io(a,r,t){return{id:a,jsonrpc:"2.0",error:mg(r,t)}}function mg(a,r){return typeof a>"u"?af(nf):("string"==typeof a&&(a=Object.assign(Object.assign({},af(La)),{message:a})),typeof r<"u"&&(a.data=r),function of(a){return _g.includes(a)}(a.code)&&(a=function uf(a){return Object.values(ls).find(t=>t.code===a)||ls[sf]}(a.code)),a)}function lf(a,r){const t=function Sg(a){const r=a.match(new RegExp(/^\w+:/,"gi"));if(r&&r.length)return r[0]}(a);return!(typeof t>"u")&&new RegExp(r).test(t)}function hf(a){return lf(a,"^https?:")}function df(a){return lf(a,"^wss?:")}function pf(a){return"object"==typeof a&&"id"in a&&"jsonrpc"in a&&"2.0"===a.jsonrpc}function Ba(a){return pf(a)&&"method"in a}function so(a){return pf(a)&&(Ln(a)||pn(a))}function Ln(a){return"result"in a}function pn(a){return"error"in a}class Jn extends class Eg extends class wg extends class bg{}{constructor(){super()}}{constructor(r){super()}}{constructor(r){super(r),this.events=new se.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(r),this.connection.connected&&this.registerEventListeners()}connect(r=this.connection){var t=this;return(0,S.Z)(function*(){yield t.open(r)})()}disconnect(){var r=this;return(0,S.Z)(function*(){yield r.close()})()}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}off(r,t){this.events.off(r,t)}removeListener(r,t){this.events.removeListener(r,t)}request(r,t){var o=this;return(0,S.Z)(function*(){return o.requestStrict(no(r.method,r.params||[],r.id||Ua().toString()),t)})()}requestStrict(r,t){var o=this;return(0,S.Z)(function*(){return new Promise(function(){var u=(0,S.Z)(function*(l,g){if(!o.connection.connected)try{yield o.open()}catch(A){g(A)}o.events.on(`${r.id}`,A=>{pn(A)?g(A.error):l(A.result)});try{yield o.connection.send(r,t)}catch(A){g(A)}});return function(l,g){return u.apply(this,arguments)}}())})()}setConnection(r=this.connection){return r}onPayload(r){this.events.emit("payload",r),so(r)?this.events.emit(`${r.id}`,r):this.events.emit("message",{type:r.method,data:r.params})}onClose(r){r&&3e3===r.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${r.code} ${r.reason?`(${r.reason})`:""}`)),this.events.emit("disconnect")}open(r=this.connection){var t=this;return(0,S.Z)(function*(){t.connection===r&&t.connection.connected||(t.connection.connected&&t.close(),"string"==typeof r&&(yield t.connection.open(r),r=t.connection),t.connection=t.setConnection(r),yield t.connection.open(),t.registerEventListeners(),t.events.emit("connect"))})()}close(){var r=this;return(0,S.Z)(function*(){yield r.connection.close()})()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",r=>this.onPayload(r)),this.connection.on("close",r=>this.onClose(r)),this.connection.on("error",r=>this.events.emit("error",r)),this.connection.on("register_error",r=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const gf=a=>a.split("?")[0],Ag=typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:j(82791);var Rg=j(60066),Ng=j.n(Rg),Lg=function Fg(a,r){if(a.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),o=0;o<t.length;o++)t[o]=255;for(var u=0;u<a.length;u++){var l=a.charAt(u),g=l.charCodeAt(0);if(255!==t[g])throw new TypeError(l+" is ambiguous");t[g]=u}var A=a.length,Q=a.charAt(0),G=Math.log(A)/Math.log(256),de=Math.log(256)/Math.log(A);function He(Me){if("string"!=typeof Me)throw new TypeError("Expected String");if(0===Me.length)return new Uint8Array;var Ge=0;if(" "!==Me[Ge]){for(var Je=0,Nt=0;Me[Ge]===Q;)Je++,Ge++;for(var pr=(Me.length-Ge)*G+1>>>0,Tt=new Uint8Array(pr);Me[Ge];){var Pt=t[Me.charCodeAt(Ge)];if(255===Pt)return;for(var _t=0,Ft=pr-1;(0!==Pt||_t<Nt)&&-1!==Ft;Ft--,_t++)Tt[Ft]=(Pt+=A*Tt[Ft]>>>0)%256>>>0,Pt=Pt/256>>>0;if(0!==Pt)throw new Error("Non-zero carry");Nt=_t,Ge++}if(" "!==Me[Ge]){for(var xt=pr-Nt;xt!==pr&&0===Tt[xt];)xt++;for(var vr=new Uint8Array(Je+(pr-xt)),Qn=Je;xt!==pr;)vr[Qn++]=Tt[xt++];return vr}}}return{encode:function Ie(Me){if(Me instanceof Uint8Array||(ArrayBuffer.isView(Me)?Me=new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength):Array.isArray(Me)&&(Me=Uint8Array.from(Me))),!(Me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Me.length)return"";for(var Ge=0,Je=0,Nt=0,pr=Me.length;Nt!==pr&&0===Me[Nt];)Nt++,Ge++;for(var Tt=(pr-Nt)*de+1>>>0,Pt=new Uint8Array(Tt);Nt!==pr;){for(var _t=Me[Nt],Ft=0,xt=Tt-1;(0!==_t||Ft<Je)&&-1!==xt;xt--,Ft++)Pt[xt]=(_t+=256*Pt[xt]>>>0)%A>>>0,_t=_t/A>>>0;if(0!==_t)throw new Error("Non-zero carry");Je=Ft,Nt++}for(var vr=Tt-Je;vr!==Tt&&0===Pt[vr];)vr++;for(var Qn=Q.repeat(Ge);vr<Tt;++vr)Qn+=a.charAt(Pt[vr]);return Qn},decodeUnsafe:He,decode:function Ot(Me){var Ge=He(Me);if(Ge)return Ge;throw new Error(`Non-${r} character`)}}};const yf=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")};class Bg{constructor(r,t,o){this.name=r,this.prefix=t,this.baseEncode=o}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class $g{constructor(r,t,o){if(this.name=r,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=o}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return vf(this,r)}}class zg{constructor(r){this.decoders=r}or(r){return vf(this,r)}decode(r){const o=this.decoders[r[0]];if(o)return o.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const vf=(a,r)=>new zg({...a.decoders||{[a.prefix]:a},...r.decoders||{[r.prefix]:r}});class Hg{constructor(r,t,o,u){this.name=r,this.prefix=t,this.baseEncode=o,this.baseDecode=u,this.encoder=new Bg(r,t,o),this.decoder=new $g(r,t,u)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const oo=({name:a,prefix:r,encode:t,decode:o})=>new Hg(a,r,t,o),hs=({prefix:a,name:r,alphabet:t})=>{const{encode:o,decode:u}=Lg(t,r);return oo({prefix:a,name:r,encode:o,decode:l=>yf(u(l))})},Dr=({name:a,prefix:r,bitsPerChar:t,alphabet:o})=>oo({prefix:r,name:a,encode:u=>((a,r,t)=>{const o="="===r[r.length-1],u=(1<<t)-1;let l="",g=0,A=0;for(let Q=0;Q<a.length;++Q)for(A=A<<8|a[Q],g+=8;g>t;)g-=t,l+=r[u&A>>g];if(g&&(l+=r[u&A<<t-g]),o)for(;l.length*t&7;)l+="=";return l})(u,o,t),decode:u=>((a,r,t,o)=>{const u={};for(let de=0;de<r.length;++de)u[r[de]]=de;let l=a.length;for(;"="===a[l-1];)--l;const g=new Uint8Array(l*t/8|0);let A=0,Q=0,G=0;for(let de=0;de<l;++de){const Ie=u[a[de]];if(void 0===Ie)throw new SyntaxError(`Non-${o} character`);Q=Q<<t|Ie,A+=t,A>=8&&(A-=8,g[G++]=255&Q>>A)}if(A>=t||255&Q<<8-A)throw new SyntaxError("Unexpected end of data");return g})(u,o,t,a)}),Kg=oo({prefix:"\0",name:"identity",encode:a=>(a=>(new TextDecoder).decode(a))(a),decode:a=>(a=>(new TextEncoder).encode(a))(a)});var qg=Object.freeze({__proto__:null,identity:Kg});const Wg=Dr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var kg=Object.freeze({__proto__:null,base2:Wg});const Gg=Dr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Jg=Object.freeze({__proto__:null,base8:Gg});const Yg=hs({prefix:"9",name:"base10",alphabet:"0123456789"});var Xg=Object.freeze({__proto__:null,base10:Yg});const Qg=Dr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),e0=Dr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var t0=Object.freeze({__proto__:null,base16:Qg,base16upper:e0});const r0=Dr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),n0=Dr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),i0=Dr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s0=Dr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),o0=Dr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),a0=Dr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),u0=Dr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),c0=Dr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),f0=Dr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var l0=Object.freeze({__proto__:null,base32:r0,base32upper:n0,base32pad:i0,base32padupper:s0,base32hex:o0,base32hexupper:a0,base32hexpad:u0,base32hexpadupper:c0,base32z:f0});const h0=hs({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),d0=hs({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var p0=Object.freeze({__proto__:null,base36:h0,base36upper:d0});const g0=hs({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_0=hs({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var y0=Object.freeze({__proto__:null,base58btc:g0,base58flickr:_0});const v0=Dr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),m0=Dr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),b0=Dr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),w0=Dr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var E0=Object.freeze({__proto__:null,base64:v0,base64pad:m0,base64url:b0,base64urlpad:w0});const mf=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),D0=mf.reduce((a,r,t)=>(a[t]=r,a),[]),x0=mf.reduce((a,r,t)=>(a[r.codePointAt(0)]=t,a),[]),I0=oo({prefix:"\u{1f680}",name:"base256emoji",encode:function S0(a){return a.reduce((r,t)=>r+D0[t],"")},decode:function O0(a){const r=[];for(const t of a){const o=x0[t.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${t}`);r.push(o)}return new Uint8Array(r)}});var P0=Object.freeze({__proto__:null,base256emoji:I0}),R0=Math.pow(2,31),j0=Math.pow(2,7),L0=Math.pow(2,14),U0=Math.pow(2,21),M0=Math.pow(2,28),B0=Math.pow(2,35),$0=Math.pow(2,42),z0=Math.pow(2,49),H0=Math.pow(2,56),Z0=Math.pow(2,63),K0={encode:function wf(a,r,t){r=r||[];for(var o=t=t||0;a>=R0;)r[t++]=255&a|128,a/=128;for(;-128&a;)r[t++]=255&a|128,a>>>=7;return r[t]=0|a,wf.bytes=t-o+1,r},decode:function $a(a,o){var g,t=0,u=0,l=o=o||0,A=a.length;do{if(l>=A)throw $a.bytes=0,new RangeError("Could not decode varint");g=a[l++],t+=u<28?(127&g)<<u:(127&g)*Math.pow(2,u),u+=7}while(g>=128);return $a.bytes=l-o,t},encodingLength:function(a){return a<j0?1:a<L0?2:a<U0?3:a<M0?4:a<B0?5:a<$0?6:a<z0?7:a<H0?8:a<Z0?9:10}},Df=K0;const xf=(a,r,t=0)=>(Df.encode(a,r,t),r),Sf=a=>Df.encodingLength(a),za=(a,r)=>{const t=r.byteLength,o=Sf(a),u=o+Sf(t),l=new Uint8Array(u+t);return xf(a,l,0),xf(t,l,o),l.set(r,u),new q0(a,t,r,l)};class q0{constructor(r,t,o,u){this.code=r,this.size=t,this.digest=o,this.bytes=u}}const Of=({name:a,code:r,encode:t})=>new W0(a,r,t);class W0{constructor(r,t,o){this.name=r,this.code=t,this.encode=o}digest(r){if(r instanceof Uint8Array){const t=this.encode(r);return t instanceof Uint8Array?za(this.code,t):t.then(o=>za(this.code,o))}throw Error("Unknown type, must be binary type")}}const If=a=>function(){var r=(0,S.Z)(function*(t){return new Uint8Array(yield crypto.subtle.digest(a,t))});return function(t){return r.apply(this,arguments)}}(),k0=Of({name:"sha2-256",code:18,encode:If("SHA-256")}),G0=Of({name:"sha2-512",code:19,encode:If("SHA-512")});Object.freeze({__proto__:null,sha256:k0,sha512:G0});const Af=yf;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Af,digest:a=>za(0,Af(a))}}),new TextEncoder,new TextDecoder;const Cf={...qg,...kg,...Jg,...Xg,...t0,...l0,...p0,...y0,...E0,...P0};function Tf(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function Rf(a,r,t,o){return{name:a,prefix:r,encoder:{name:a,prefix:r,encode:t},decoder:{decode:o}}}const Nf=Rf("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>(new TextEncoder).encode(a.substring(1))),Ha=Rf("ascii","a",a=>{let r="a";for(let t=0;t<a.length;t++)r+=String.fromCharCode(a[t]);return r},a=>{const r=function Q0(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Tf(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}((a=a.substring(1)).length);for(let t=0;t<a.length;t++)r[t]=a.charCodeAt(t);return r}),e_={utf8:Nf,"utf-8":Nf,hex:Cf.base16,latin1:Ha,ascii:Ha,binary:Ha,...Cf},Yn="wc@2:core:",i_={database:":memory:"},jf="client_ed25519_seed",o_=me.ONE_DAY,l_=me.SIX_HOURS,Uf="wss://relay.walletconnect.com",Mf="wss://relay.walletconnect.org",__=me.ONE_SECOND/2,On_created="subscription_created",On_deleted="subscription_deleted",D_=1e3*me.FIVE_SECONDS,ps={wc_pairingDelete:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:me.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:me.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:me.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:me.ONE_DAY,prompt:!1,tag:0},res:{ttl:me.ONE_DAY,prompt:!1,tag:0}}},Xr_expired="expirer_expired",Va="verify-api",Bf="https://verify.walletconnect.com";class C_{constructor(r,t){var o=this;this.core=r,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Yn,this.init=(0,S.Z)(function*(){if(!o.initialized){const u=yield o.getKeyChain();typeof u<"u"&&(o.keychain=u),o.initialized=!0}}),this.has=u=>(this.isInitialized(),this.keychain.has(u)),this.set=function(){var u=(0,S.Z)(function*(l,g){o.isInitialized(),o.keychain.set(l,g),yield o.persist()});return function(l,g){return u.apply(this,arguments)}}(),this.get=u=>{this.isInitialized();const l=this.keychain.get(u);if(typeof l>"u"){const{message:g}=Ne("NO_MATCHING_KEY",`${this.name}: ${u}`);throw new Error(g)}return l},this.del=function(){var u=(0,S.Z)(function*(l){o.isInitialized(),o.keychain.delete(l),yield o.persist()});return function(l){return u.apply(this,arguments)}}(),this.core=r,this.logger=(0,V.generateChildLogger)(t,this.name)}get context(){return(0,V.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setKeyChain(r){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,Zc(r))})()}getKeyChain(){var r=this;return(0,S.Z)(function*(){const t=yield r.core.storage.getItem(r.storageKey);return typeof t<"u"?Vc(t):void 0})()}persist(){var r=this;return(0,S.Z)(function*(){yield r.setKeyChain(r.keychain)})()}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class T_{constructor(r,t,o){var u=this;this.core=r,this.logger=t,this.name="crypto",this.initialized=!1,this.init=(0,S.Z)(function*(){u.initialized||(yield u.keychain.init(),u.initialized=!0)}),this.hasKeys=l=>(this.isInitialized(),this.keychain.has(l)),this.getClientId=(0,S.Z)(function*(){return u.isInitialized(),Zs(Ks(yield u.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const l=function kd(){const a=qs.Au();return{privateKey:wr(a.secretKey,Ar),publicKey:wr(a.publicKey,Ar)}}();return this.setPrivateKey(l.publicKey,l.privateKey)},this.signJWT=function(){var l=(0,S.Z)(function*(g){u.isInitialized();const Q=Ks(yield u.getClientSeed()),G=Pa();return yield function da(a,r,t,o){return ns.apply(this,arguments)}(G,g,o_,Q)});return function(g){return l.apply(this,arguments)}}(),this.generateSharedKey=(l,g,A)=>{this.isInitialized();const G=function Gd(a,r){const t=qs.gi(Or(a,Ar),Or(r,Ar));return wr(new Ri.t(Dn.mE,t).expand(32),Ar)}(this.getPrivateKey(l),g);return this.setSymKey(G,A)},this.setSymKey=function(){var l=(0,S.Z)(function*(g,A){u.isInitialized();const Q=A||function Jd(a){return wr((0,Dn.vp)(Or(a,Ar)),Ar)}(g);return yield u.keychain.set(Q,g),Q});return function(g,A){return l.apply(this,arguments)}}(),this.deleteKeyPair=function(){var l=(0,S.Z)(function*(g){u.isInitialized(),yield u.keychain.del(g)});return function(g){return l.apply(this,arguments)}}(),this.deleteSymKey=function(){var l=(0,S.Z)(function*(g){u.isInitialized(),yield u.keychain.del(g)});return function(g){return l.apply(this,arguments)}}(),this.encode=function(){var l=(0,S.Z)(function*(g,A,Q){u.isInitialized();const G=Lc(Q),de=xe(A);if(Uc(G)){const Me=G.senderPublicKey,Ge=G.receiverPublicKey;g=yield u.generateSharedKey(Me,Ge)}const Ie=u.getSymKey(g),{type:He,senderPublicKey:Ot}=G;return function Xd(a){const r=function Yd(a){return Or(`${a}`,"base10")}(typeof a.type<"u"?a.type:0);if(1===cs(r)&&typeof a.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof a.senderPublicKey<"u"?Or(a.senderPublicKey,Ar):void 0,o=typeof a.iv<"u"?Or(a.iv,Ar):(0,Le.randomBytes)(12);return function ep(a){if(1===cs(a.type)){if(typeof a.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return wr(tt([a.type,a.senderPublicKey,a.iv,a.sealed]),xa)}return wr(tt([a.type,a.iv,a.sealed]),xa)}({type:r,sealed:new ss.OK(Or(a.symKey,Ar)).seal(o,Or(a.message,Sa)),iv:o,senderPublicKey:t})}({type:He,symKey:Ie,message:de,senderPublicKey:Ot})});return function(g,A,Q){return l.apply(this,arguments)}}(),this.decode=function(){var l=(0,S.Z)(function*(g,A,Q){u.isInitialized();const G=function tp(a,r){const t=Js(a);return Lc({type:cs(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?wr(t.senderPublicKey,Ar):void 0,receiverPublicKey:r?.receiverPublicKey})}(A,Q);if(Uc(G)){const de=G.receiverPublicKey,Ie=G.senderPublicKey;g=yield u.generateSharedKey(de,Ie)}try{const Ie=function Qd(a){const r=new ss.OK(Or(a.symKey,Ar)),{sealed:t,iv:o}=Js(a.encoded),u=r.open(o,t);if(null===u)throw new Error("Failed to decrypt");return wr(u,Sa)}({symKey:u.getSymKey(g),encoded:A});return ye(Ie)}catch(de){u.logger.error(`Failed to decode message from topic: '${g}', clientId: '${yield u.getClientId()}'`),u.logger.error(de)}});return function(g,A,Q){return l.apply(this,arguments)}}(),this.getPayloadType=l=>cs(Js(l).type),this.getPayloadSenderPublicKey=l=>{const g=Js(l);return g.senderPublicKey?wr(g.senderPublicKey,Ar):void 0},this.core=r,this.logger=(0,V.generateChildLogger)(t,this.name),this.keychain=o||new C_(this.core,this.logger)}get context(){return(0,V.getLoggerContext)(this.logger)}setPrivateKey(r,t){var o=this;return(0,S.Z)(function*(){return yield o.keychain.set(r,t),r})()}getPrivateKey(r){return this.keychain.get(r)}getClientSeed(){var r=this;return(0,S.Z)(function*(){let t="";try{t=r.keychain.get(jf)}catch{t=Pa(),yield r.keychain.set(jf,t)}return function t_(a,r="utf8"){const t=e_[r];if(!t)throw new Error(`Unsupported encoding "${r}"`);return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${a}`):Tf(globalThis.Buffer.from(a,"utf-8"))}(t,"base16")})()}getSymKey(r){return this.keychain.get(r)}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class R_ extends class T{constructor(r,t){this.logger=r,this.core=t}}{constructor(r,t){var o;super(r,t),o=this,this.logger=r,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Yn,this.init=(0,S.Z)(function*(){if(!o.initialized){o.logger.trace("Initialized");try{const u=yield o.getRelayerMessages();typeof u<"u"&&(o.messages=u),o.logger.debug(`Successfully Restored records for ${o.name}`),o.logger.trace({type:"method",method:"restore",size:o.messages.size})}catch(u){o.logger.debug(`Failed to Restore records for ${o.name}`),o.logger.error(u)}finally{o.initialized=!0}}}),this.set=function(){var u=(0,S.Z)(function*(l,g){o.isInitialized();const A=Li(g);let Q=o.messages.get(l);return typeof Q>"u"&&(Q={}),typeof Q[A]<"u"||(Q[A]=g,o.messages.set(l,Q),yield o.persist()),A});return function(l,g){return u.apply(this,arguments)}}(),this.get=u=>{this.isInitialized();let l=this.messages.get(u);return typeof l>"u"&&(l={}),l},this.has=(u,l)=>(this.isInitialized(),typeof this.get(u)[Li(l)]<"u"),this.del=function(){var u=(0,S.Z)(function*(l){o.isInitialized(),o.messages.delete(l),yield o.persist()});return function(l){return u.apply(this,arguments)}}(),this.logger=(0,V.generateChildLogger)(r,this.name),this.core=t}get context(){return(0,V.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setRelayerMessages(r){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,Zc(r))})()}getRelayerMessages(){var r=this;return(0,S.Z)(function*(){const t=yield r.core.storage.getItem(r.storageKey);return typeof t<"u"?Vc(t):void 0})()}persist(){var r=this;return(0,S.Z)(function*(){yield r.setRelayerMessages(r.messages)})()}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class N_ extends h{constructor(r,t){var o;super(r,t),o=this,this.relayer=r,this.logger=t,this.events=new se.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,me.toMiliseconds)(me.TEN_SECONDS),this.queueTimeout=(0,me.toMiliseconds)(me.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=function(){var u=(0,S.Z)(function*(l,g,A){o.logger.debug("Publishing Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:l,message:g,opts:A}});try{const Q=A?.ttl||l_,G=Na(A),de=A?.prompt||!1,Ie=A?.tag||0,He=A?.id||Ua().toString(),Ot={topic:l,message:g,opts:{ttl:Q,relay:G,prompt:de,tag:Ie,id:He}},Me=setTimeout(()=>o.queue.set(He,Ot),o.queueTimeout);try{yield yield Xs(o.rpcPublish(l,g,Q,G,de,Ie,He),o.publishTimeout),clearTimeout(Me),o.relayer.events.emit("relayer_publish",Ot)}catch{return o.logger.debug("Publishing Payload stalled"),void(o.needsTransportRestart=!0)}o.logger.debug("Successfully Published Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:l,message:g,opts:A}})}catch(Q){throw o.logger.debug("Failed to Publish Payload"),o.logger.error(Q),Q}});return function(l,g,A){return u.apply(this,arguments)}}(),this.on=(u,l)=>{this.events.on(u,l)},this.once=(u,l)=>{this.events.once(u,l)},this.off=(u,l)=>{this.events.off(u,l)},this.removeListener=(u,l)=>{this.events.removeListener(u,l)},this.relayer=r,this.logger=(0,V.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,V.getLoggerContext)(this.logger)}rpcPublish(r,t,o,u,l,g,A){var Q,G,de,Ie;const He={method:Qs(u.protocol).publish,params:{topic:r,message:t,ttl:o,prompt:l,tag:g},id:A};return Cr(null==(Q=He.params)?void 0:Q.prompt)&&(null==(G=He.params)||delete G.prompt),Cr(null==(de=He.params)?void 0:de.tag)&&(null==(Ie=He.params)||delete Ie.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:He}),this.relayer.request(He)}onPublish(r){this.queue.delete(r)}checkQueue(){var r=this;this.queue.forEach(function(){var t=(0,S.Z)(function*(o){const{topic:u,message:l,opts:g}=o;yield r.publish(u,l,g)});return function(o){return t.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(be.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit("relayer_connection_stalled");this.checkQueue()}),this.relayer.on("relayer_message_ack",r=>{this.onPublish(r.id.toString())})}}class F_{constructor(){this.map=new Map,this.set=(r,t)=>{const o=this.get(r);this.exists(r,t)||this.map.set(r,[...o,t])},this.get=r=>this.map.get(r)||[],this.exists=(r,t)=>this.get(r).includes(t),this.delete=(r,t)=>{if(typeof t>"u")return void this.map.delete(r);if(!this.map.has(r))return;const o=this.get(r);if(!this.exists(r,t))return;const u=o.filter(l=>l!==t);u.length?this.map.set(r,u):this.map.delete(r)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var j_=Object.defineProperty,L_=Object.defineProperties,U_=Object.getOwnPropertyDescriptors,$f=Object.getOwnPropertySymbols,M_=Object.prototype.hasOwnProperty,B_=Object.prototype.propertyIsEnumerable,zf=(a,r,t)=>r in a?j_(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,gs=(a,r)=>{for(var t in r||(r={}))M_.call(r,t)&&zf(a,t,r[t]);if($f)for(var t of $f(r))B_.call(r,t)&&zf(a,t,r[t]);return a},Ka=(a,r)=>L_(a,U_(r));class $_ extends x{constructor(r,t){var o;super(r,t),o=this,this.relayer=r,this.logger=t,this.subscriptions=new Map,this.topicMap=new F_,this.events=new se.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Yn,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=(0,S.Z)(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restart(),o.registerEventListeners(),o.onEnable(),o.clientId=yield o.relayer.core.crypto.getClientId())}),this.subscribe=function(){var u=(0,S.Z)(function*(l,g){yield o.restartToComplete(),o.isInitialized(),o.logger.debug("Subscribing Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:l,opts:g}});try{const A=Na(g),Q={topic:l,relay:A};o.pending.set(l,Q);const G=yield o.rpcSubscribe(l,A);return o.onSubscribe(G,Q),o.logger.debug("Successfully Subscribed Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:l,opts:g}}),G}catch(A){throw o.logger.debug("Failed to Subscribe Topic"),o.logger.error(A),A}});return function(l,g){return u.apply(this,arguments)}}(),this.unsubscribe=function(){var u=(0,S.Z)(function*(l,g){yield o.restartToComplete(),o.isInitialized(),typeof g?.id<"u"?yield o.unsubscribeById(l,g.id,g):yield o.unsubscribeByTopic(l,g)});return function(l,g){return u.apply(this,arguments)}}(),this.isSubscribed=function(){var u=(0,S.Z)(function*(l){return!!o.topics.includes(l)||(yield new Promise((g,A)=>{const Q=new me.Watch;Q.start(o.pendingSubscriptionWatchLabel);const G=setInterval(()=>{!o.pending.has(l)&&o.topics.includes(l)&&(clearInterval(G),Q.stop(o.pendingSubscriptionWatchLabel),g(!0)),Q.elapsed(o.pendingSubscriptionWatchLabel)>=D_&&(clearInterval(G),Q.stop(o.pendingSubscriptionWatchLabel),A(new Error("Subscription resolution timeout")))},o.pollingInterval)}).catch(()=>!1))});return function(l){return u.apply(this,arguments)}}(),this.on=(u,l)=>{this.events.on(u,l)},this.once=(u,l)=>{this.events.once(u,l)},this.off=(u,l)=>{this.events.off(u,l)},this.removeListener=(u,l)=>{this.events.removeListener(u,l)},this.restart=(0,S.Z)(function*(){o.restartInProgress=!0,yield o.restore(),yield o.reset(),o.restartInProgress=!1}),this.relayer=r,this.logger=(0,V.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,V.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(r,t){let o=!1;try{o=this.getSubscription(r).topic===t}catch{}return o}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}unsubscribeByTopic(r,t){var o=this;return(0,S.Z)(function*(){const u=o.topicMap.get(r);yield Promise.all(u.map(function(){var l=(0,S.Z)(function*(g){return yield o.unsubscribeById(r,g,t)});return function(g){return l.apply(this,arguments)}}()))})()}unsubscribeById(r,t,o){var u=this;return(0,S.Z)(function*(){u.logger.debug("Unsubscribing Topic"),u.logger.trace({type:"method",method:"unsubscribe",params:{topic:r,id:t,opts:o}});try{const l=Na(o);yield u.rpcUnsubscribe(r,t,l);const g=lr("USER_DISCONNECTED",`${u.name}, ${r}`);yield u.onUnsubscribe(r,t,g),u.logger.debug("Successfully Unsubscribed Topic"),u.logger.trace({type:"method",method:"unsubscribe",params:{topic:r,id:t,opts:o}})}catch(l){throw u.logger.debug("Failed to Unsubscribe Topic"),u.logger.error(l),l}})()}rpcSubscribe(r,t){var o=this;return(0,S.Z)(function*(){const u={method:Qs(t.protocol).subscribe,params:{topic:r}};o.logger.debug("Outgoing Relay Payload"),o.logger.trace({type:"payload",direction:"outgoing",request:u});try{yield yield Xs(o.relayer.request(u),o.subscribeTimeout)}catch{o.logger.debug("Outgoing Relay Subscribe Payload stalled"),o.relayer.events.emit("relayer_connection_stalled")}return Li(r+o.clientId)})()}rpcBatchSubscribe(r){var t=this;return(0,S.Z)(function*(){if(!r.length)return;const u={method:Qs(r[0].relay.protocol).batchSubscribe,params:{topics:r.map(l=>l.topic)}};t.logger.debug("Outgoing Relay Payload"),t.logger.trace({type:"payload",direction:"outgoing",request:u});try{return yield yield Xs(t.relayer.request(u),t.subscribeTimeout)}catch{t.logger.debug("Outgoing Relay Payload stalled"),t.relayer.events.emit("relayer_connection_stalled")}})()}rpcUnsubscribe(r,t,o){const u={method:Qs(o.protocol).unsubscribe,params:{topic:r,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:u}),this.relayer.request(u)}onSubscribe(r,t){this.setSubscription(r,Ka(gs({},t),{id:r})),this.pending.delete(t.topic)}onBatchSubscribe(r){r.length&&r.forEach(t=>{this.setSubscription(t.id,gs({},t)),this.pending.delete(t.topic)})}onUnsubscribe(r,t,o){var u=this;return(0,S.Z)(function*(){u.events.removeAllListeners(t),u.hasSubscription(t,r)&&u.deleteSubscription(t,o),yield u.relayer.messages.del(r)})()}setRelayerSubscriptions(r){var t=this;return(0,S.Z)(function*(){yield t.relayer.core.storage.setItem(t.storageKey,r)})()}getRelayerSubscriptions(){var r=this;return(0,S.Z)(function*(){return yield r.relayer.core.storage.getItem(r.storageKey)})()}setSubscription(r,t){this.subscriptions.has(r)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:r,subscription:t}),this.addSubscription(r,t))}addSubscription(r,t){this.subscriptions.set(r,gs({},t)),this.topicMap.set(t.topic,r),this.events.emit(On_created,t)}getSubscription(r){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:r});const t=this.subscriptions.get(r);if(!t){const{message:o}=Ne("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(o)}return t}deleteSubscription(r,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:r,reason:t});const o=this.getSubscription(r);this.subscriptions.delete(r),this.topicMap.delete(o.topic,r),this.events.emit(On_deleted,Ka(gs({},o),{reason:t}))}persist(){var r=this;return(0,S.Z)(function*(){yield r.setRelayerSubscriptions(r.values),r.events.emit("subscription_sync")})()}reset(){var r=this;return(0,S.Z)(function*(){if(r.cached.length){const t=Math.ceil(r.cached.length/r.batchSubscribeTopicsLimit);for(let o=0;o<t;o++){const u=r.cached.splice(0,r.batchSubscribeTopicsLimit);yield r.batchSubscribe(u)}}r.events.emit("subscription_resubscribed")})()}restore(){var r=this;return(0,S.Z)(function*(){try{const t=yield r.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(r.subscriptions.size){const{message:o}=Ne("RESTORE_WILL_OVERRIDE",r.name);throw r.logger.error(o),r.logger.error(`${r.name}: ${JSON.stringify(r.values)}`),new Error(o)}r.cached=t,r.logger.debug(`Successfully Restored subscriptions for ${r.name}`),r.logger.trace({type:"method",method:"restore",subscriptions:r.values})}catch(t){r.logger.debug(`Failed to Restore subscriptions for ${r.name}`),r.logger.error(t)}})()}batchSubscribe(r){var t=this;return(0,S.Z)(function*(){if(!r.length)return;const o=yield t.rpcBatchSubscribe(r);yi(o)&&t.onBatchSubscribe(o.map((u,l)=>Ka(gs({},r[l]),{id:u})))})()}onConnect(){var r=this;return(0,S.Z)(function*(){r.restartInProgress||(yield r.restart(),r.onEnable())})()}onDisconnect(){this.onDisable()}checkPending(){var r=this;return(0,S.Z)(function*(){if(r.relayer.transportExplicitlyClosed)return;const t=[];r.pending.forEach(o=>{t.push(o)}),yield r.batchSubscribe(t)})()}registerEventListeners(){var r=this;this.relayer.core.heartbeat.on(be.HEARTBEAT_EVENTS.pulse,(0,S.Z)(function*(){yield r.checkPending()})),this.relayer.on("relayer_connect",(0,S.Z)(function*(){yield r.onConnect()})),this.relayer.on("relayer_disconnect",()=>{this.onDisconnect()}),this.events.on(On_created,function(){var t=(0,S.Z)(function*(o){const u=On_created;r.logger.info(`Emitting ${u}`),r.logger.debug({type:"event",event:u,data:o}),yield r.persist()});return function(o){return t.apply(this,arguments)}}()),this.events.on(On_deleted,function(){var t=(0,S.Z)(function*(o){const u=On_deleted;r.logger.info(`Emitting ${u}`),r.logger.debug({type:"event",event:u,data:o}),yield r.persist()});return function(o){return t.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}restartToComplete(){var r=this;return(0,S.Z)(function*(){r.restartInProgress&&(yield new Promise(t=>{const o=setInterval(()=>{r.restartInProgress||(clearInterval(o),t())},r.pollingInterval)}))})()}}var z_=Object.defineProperty,Hf=Object.getOwnPropertySymbols,H_=Object.prototype.hasOwnProperty,Z_=Object.prototype.propertyIsEnumerable,Zf=(a,r,t)=>r in a?z_(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t;class K_ extends f{constructor(r){var t;super(r),t=this,this.protocol="wc",this.version=2,this.events=new se.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=function(){var o=(0,S.Z)(function*(u){t.logger.debug("Publishing Request Payload");try{return yield t.toEstablishConnection(),yield t.provider.request(u)}catch(l){throw t.logger.debug("Failed to Publish Request"),t.logger.error(l),l}});return function(u){return o.apply(this,arguments)}}(),this.core=r.core,this.logger=typeof r.logger<"u"&&"string"!=typeof r.logger?(0,V.generateChildLogger)(r.logger,this.name):(0,V.pino)((0,V.getDefaultLoggerOptions)({level:r.logger||"error"})),this.messages=new R_(this.logger,r.core),this.subscriber=new $_(this,this.logger),this.publisher=new N_(this,this.logger),this.relayUrl=r?.relayUrl||Uf,this.projectId=r.projectId,this.provider={}}init(){var r=this;return(0,S.Z)(function*(){r.logger.trace("Initialized"),yield r.createProvider(),yield Promise.all([r.messages.init(),r.subscriber.init()]);try{yield r.transportOpen()}catch{r.logger.warn(`Connection via ${r.relayUrl} failed, attempting to connect via failover domain ${Mf}...`),yield r.restartTransport(Mf)}r.registerEventListeners(),r.initialized=!0,setTimeout((0,S.Z)(function*(){0===r.subscriber.topics.length&&(r.logger.info("No topics subscribed to after init, closing transport"),yield r.transportClose(),r.transportExplicitlyClosed=!1)}),1e4)})()}get context(){return(0,V.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}publish(r,t,o){var u=this;return(0,S.Z)(function*(){u.isInitialized(),yield u.publisher.publish(r,t,o),yield u.recordMessageEvent({topic:r,message:t,publishedAt:Date.now()})})()}subscribe(r,t){var o=this;return(0,S.Z)(function*(){var u;o.isInitialized();let l=(null==(u=o.subscriber.topicMap.get(r))?void 0:u[0])||"";return l||(yield Promise.all([new Promise(g=>{o.subscriber.once(On_created,A=>{A.topic===r&&g()})}),new Promise(function(){var g=(0,S.Z)(function*(A){l=yield o.subscriber.subscribe(r,t),A()});return function(A){return g.apply(this,arguments)}}())]),l)})()}unsubscribe(r,t){var o=this;return(0,S.Z)(function*(){o.isInitialized(),yield o.subscriber.unsubscribe(r,t)})()}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}off(r,t){this.events.off(r,t)}removeListener(r,t){this.events.removeListener(r,t)}transportClose(){var r=this;return(0,S.Z)(function*(){r.transportExplicitlyClosed=!0,r.connected&&(yield r.provider.disconnect(),r.events.emit("relayer_transport_closed"))})()}transportOpen(r){var t=this;return(0,S.Z)(function*(){if(t.transportExplicitlyClosed=!1,!t.reconnecting){t.relayUrl=r||t.relayUrl,t.reconnecting=!0;try{yield Promise.all([new Promise(o=>{t.initialized||o(),t.subscriber.once("subscription_resubscribed",()=>{o()})}),yield Promise.race([new Promise(function(){var o=(0,S.Z)(function*(u,l){yield Xs(t.provider.connect(),1e4,`Socket stalled when trying to connect to ${t.relayUrl}`).catch(g=>l(g)).then(()=>u()).finally(()=>t.removeListener("relayer_transport_closed",t.rejectTransportOpen))});return function(u,l){return o.apply(this,arguments)}}()),new Promise(o=>t.once("relayer_transport_closed",t.rejectTransportOpen))])])}catch(o){if(t.logger.error(o),!t.isConnectionStalled(o.message))throw o;t.events.emit("relayer_transport_closed")}finally{t.reconnecting=!1}}})()}restartTransport(r){var t=this;return(0,S.Z)(function*(){t.transportExplicitlyClosed||t.reconnecting||(t.relayUrl=r||t.relayUrl,t.connected&&(yield Promise.all([new Promise(o=>{t.provider.once("disconnect",()=>{o()})}),t.transportClose()])),yield t.createProvider(),yield t.transportOpen())})()}isConnectionStalled(r){return this.staleConnectionErrors.some(t=>r.includes(t))}rejectTransportOpen(){throw new Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}createProvider(){var r=this;return(0,S.Z)(function*(){const t=yield r.core.crypto.signJWT(r.relayUrl);r.provider=new Jn(new class Cg{constructor(r){if(this.url=r,this.events=new se.EventEmitter,this.registering=!1,!df(r))throw new Error(`Provided URL is not compatible with WebSocket connection: ${r}`);this.url=r}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}off(r,t){this.events.off(r,t)}removeListener(r,t){this.events.removeListener(r,t)}open(r=this.url){var t=this;return(0,S.Z)(function*(){yield t.register(r)})()}close(){var r=this;return(0,S.Z)(function*(){return new Promise((t,o)=>{typeof r.socket>"u"?o(new Error("Connection already closed")):(r.socket.onclose=u=>{r.onClose(u),t()},r.socket.close())})})()}send(r,t){var o=this;return(0,S.Z)(function*(){typeof o.socket>"u"&&(o.socket=yield o.register());try{o.socket.send(xe(r))}catch(u){o.onError(r.id,u)}})()}register(r=this.url){if(!df(r))throw new Error(`Provided URL is not compatible with WebSocket connection: ${r}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((o,u)=>{this.events.once("register_error",l=>{this.resetMaxListeners(),u(l)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return u(new Error("WebSocket connection is missing or invalid"));o(this.socket)})})}return this.url=r,this.registering=!0,new Promise((t,o)=>{const u=(0,vg.isReactNative)()?void 0:{rejectUnauthorized:(a=r,!new RegExp("wss?://localhost(:d{2,5})?").test(a))},l=new Ag(r,[],u);var a;typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?l.onerror=g=>{o(this.emitError(g.error))}:l.on("error",g=>{o(this.emitError(g))}),l.onopen=()=>{this.onOpen(l),t(l)}})}onOpen(r){r.onmessage=t=>this.onPayload(t),r.onclose=t=>this.onClose(t),this.socket=r,this.registering=!1,this.events.emit("open")}onClose(r){this.socket=void 0,this.registering=!1,this.events.emit("close",r)}onPayload(r){if(typeof r.data>"u")return;const t="string"==typeof r.data?ye(r.data):r.data;this.events.emit("payload",t)}onError(r,t){const o=this.parseError(t),l=io(r,o.message||o.toString());this.events.emit("payload",l)}parseError(r,t=this.url){return cf(r,gf(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(r){const t=this.parseError(new Error((null==r?void 0:r.message)||`WebSocket connection failed for host: ${gf(this.url)}`));return this.events.emit("register_error",t),t}}(function dp({protocol:a,version:r,relayUrl:t,sdkVersion:o,auth:u,projectId:l,useOnCloseEvent:g}){const A=t.split("?"),Q=hp(a,r,o),de=function up(a,r){let t=Fi.parse(a);return t=$c($c({},t),r),Fi.stringify(t)}(A[1]||"",{auth:u,ua:Q,projectId:l,useOnCloseEvent:g||void 0});return A[0]+"?"+de}({sdkVersion:"2.9.1",protocol:r.protocol,version:r.version,relayUrl:r.relayUrl,projectId:r.projectId,auth:t,useOnCloseEvent:!0}))),r.registerProviderListeners()})()}recordMessageEvent(r){var t=this;return(0,S.Z)(function*(){const{topic:o,message:u}=r;yield t.messages.set(o,u)})()}shouldIgnoreMessageEvent(r){var t=this;return(0,S.Z)(function*(){const{topic:o,message:u}=r;if(!u||0===u.length)return t.logger.debug(`Ignoring invalid/empty message: ${u}`),!0;if(!(yield t.subscriber.isSubscribed(o)))return t.logger.debug(`Ignoring message for non-subscribed topic ${o}`),!0;const l=t.messages.has(o,u);return l&&t.logger.debug(`Ignoring duplicate message: ${u}`),l})()}onProviderPayload(r){var t=this;return(0,S.Z)(function*(){if(t.logger.debug("Incoming Relay Payload"),t.logger.trace({type:"payload",direction:"incoming",payload:r}),Ba(r)){if(!r.method.endsWith("_subscription"))return;const o=r.params,{topic:u,message:l,publishedAt:g}=o.data,A={topic:u,message:l,publishedAt:g};t.logger.debug("Emitting Relayer Payload"),t.logger.trace(((a,r)=>{for(var t in r||(r={}))H_.call(r,t)&&Zf(a,t,r[t]);if(Hf)for(var t of Hf(r))Z_.call(r,t)&&Zf(a,t,r[t]);return a})({type:"event",event:o.id},A)),t.events.emit(o.id,A),yield t.acknowledgePayload(r),yield t.onMessageEvent(A)}else so(r)&&t.events.emit("relayer_message_ack",r)})()}onMessageEvent(r){var t=this;return(0,S.Z)(function*(){(yield t.shouldIgnoreMessageEvent(r))||(t.events.emit("relayer_message",r),yield t.recordMessageEvent(r))})()}acknowledgePayload(r){var t=this;return(0,S.Z)(function*(){const o=Ma(r.id,!0);yield t.provider.connection.send(o)})()}registerProviderListeners(){this.provider.on("payload",r=>this.onProviderPayload(r)),this.provider.on("connect",()=>{this.events.emit("relayer_connect")}),this.provider.on("disconnect",()=>{this.onProviderDisconnect()}),this.provider.on("error",r=>{this.logger.error(r),this.events.emit("relayer_error",r)})}registerEventListeners(){var r=this;this.events.on("relayer_connection_stalled",(0,S.Z)(function*(){yield r.restartTransport()}))}onProviderDisconnect(){this.events.emit("relayer_disconnect"),this.attemptToReconnect()}attemptToReconnect(){var r=this;this.transportExplicitlyClosed||setTimeout((0,S.Z)(function*(){yield r.restartTransport()}),(0,me.toMiliseconds)(__))}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}toEstablishConnection(){var r=this;return(0,S.Z)(function*(){if(!r.connected){if(r.connecting)return yield new Promise(t=>{const o=setInterval(()=>{r.connected&&(clearInterval(o),t())},r.connectionStatusPollingInterval)});yield r.restartTransport()}})()}}var q_=Object.defineProperty,Vf=Object.getOwnPropertySymbols,W_=Object.prototype.hasOwnProperty,k_=Object.prototype.propertyIsEnumerable,Kf=(a,r,t)=>r in a?q_(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,qf=(a,r)=>{for(var t in r||(r={}))W_.call(r,t)&&Kf(a,t,r[t]);if(Vf)for(var t of Vf(r))k_.call(r,t)&&Kf(a,t,r[t]);return a};class ao extends class v{constructor(r,t,o,u){this.core=r,this.logger=t,this.name=o}}{constructor(r,t,o,u=Yn,l){var g;super(r,t,o,u),g=this,this.core=r,this.logger=t,this.name=o,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Yn,this.init=(0,S.Z)(function*(){g.initialized||(g.logger.trace("Initialized"),yield g.restore(),g.cached.forEach(A=>{g.getKey&&null!==A&&!Cr(A)?g.map.set(g.getKey(A),A):function qp(a){var r;return null==(r=a?.proposer)?void 0:r.publicKey}(A)?g.map.set(A.id,A):function Wp(a){return a?.topic}(A)&&g.map.set(A.topic,A)}),g.cached=[],g.initialized=!0)}),this.set=function(){var A=(0,S.Z)(function*(Q,G){g.isInitialized(),g.map.has(Q)?yield g.update(Q,G):(g.logger.debug("Setting value"),g.logger.trace({type:"method",method:"set",key:Q,value:G}),g.map.set(Q,G),yield g.persist())});return function(Q,G){return A.apply(this,arguments)}}(),this.get=A=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:A}),this.getData(A)),this.getAll=A=>(this.isInitialized(),A?this.values.filter(Q=>Object.keys(A).every(G=>Ng()(Q[G],A[G]))):this.values),this.update=function(){var A=(0,S.Z)(function*(Q,G){g.isInitialized(),g.logger.debug("Updating value"),g.logger.trace({type:"method",method:"update",key:Q,update:G});const de=qf(qf({},g.getData(Q)),G);g.map.set(Q,de),yield g.persist()});return function(Q,G){return A.apply(this,arguments)}}(),this.delete=function(){var A=(0,S.Z)(function*(Q,G){g.isInitialized(),g.map.has(Q)&&(g.logger.debug("Deleting value"),g.logger.trace({type:"method",method:"delete",key:Q,reason:G}),g.map.delete(Q),yield g.persist())});return function(Q,G){return A.apply(this,arguments)}}(),this.logger=(0,V.generateChildLogger)(t,this.name),this.storagePrefix=u,this.getKey=l}get context(){return(0,V.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}setDataStore(r){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,r)})()}getDataStore(){var r=this;return(0,S.Z)(function*(){return yield r.core.storage.getItem(r.storageKey)})()}getData(r){const t=this.map.get(r);if(!t){const{message:o}=Ne("NO_MATCHING_KEY",`${this.name}: ${r}`);throw this.logger.error(o),new Error(o)}return t}persist(){var r=this;return(0,S.Z)(function*(){yield r.setDataStore(r.values)})()}restore(){var r=this;return(0,S.Z)(function*(){try{const t=yield r.getDataStore();if(typeof t>"u"||!t.length)return;if(r.map.size){const{message:o}=Ne("RESTORE_WILL_OVERRIDE",r.name);throw r.logger.error(o),new Error(o)}r.cached=t,r.logger.debug(`Successfully Restored value for ${r.name}`),r.logger.trace({type:"method",method:"restore",value:r.values})}catch(t){r.logger.debug(`Failed to Restore value for ${r.name}`),r.logger.error(t)}})()}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class G_{constructor(r,t){var o=this;this.core=r,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(De()),this.initialized=!1,this.storagePrefix=Yn,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=(0,S.Z)(function*(){o.initialized||(yield o.pairings.init(),yield o.cleanup(),o.registerRelayerEvents(),o.registerExpirerEvents(),o.initialized=!0,o.logger.trace("Initialized"))}),this.register=({methods:u})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...u])]},this.create=(0,S.Z)(function*(){o.isInitialized();const u=Pa(),l=yield o.core.crypto.setSymKey(u),g=dn(me.FIVE_MINUTES),A={protocol:"irn"},Q={topic:l,expiry:g,relay:A,active:!1},G=function Ap(a){return`${a.protocol}:${a.topic}@${a.version}?`+Fi.stringify(((a,r)=>{for(var t in r||(r={}))Ep.call(r,t)&&kc(a,t,r[t]);if(Wc)for(var t of Wc(r))Dp.call(r,t)&&kc(a,t,r[t]);return a})({symKey:a.symKey},function Pp(a,r="-"){const o={};return Object.keys(a).forEach(u=>{a[u]&&(o["relay"+r+u]=a[u])}),o}(a.relay)))}({protocol:o.core.protocol,version:o.core.version,topic:l,symKey:u,relay:A});return yield o.pairings.set(l,Q),yield o.core.relayer.subscribe(l),o.core.expirer.set(l,g),{topic:l,uri:G}}),this.pair=function(){var u=(0,S.Z)(function*(l){o.isInitialized(),o.isValidPair(l);const{topic:g,symKey:A,relay:Q}=function Op(a){const r=a.indexOf(":"),t=-1!==a.indexOf("?")?a.indexOf("?"):void 0,o=a.substring(0,r),u=a.substring(r+1,t).split("@"),l=typeof t<"u"?a.substring(t):"",g=Fi.parse(l);return{protocol:o,topic:Ip(u[0]),version:parseInt(u[1],10),symKey:g.symKey,relay:Sp(g)}}(l.uri);if(o.pairings.keys.includes(g))throw new Error(`Pairing already exists: ${g}`);if(o.core.crypto.hasKeys(g))throw new Error(`Keychain already exists: ${g}`);const G=dn(me.FIVE_MINUTES),de={topic:g,relay:Q,expiry:G,active:!1};return yield o.pairings.set(g,de),yield o.core.crypto.setSymKey(A,g),yield o.core.relayer.subscribe(g,{relay:Q}),o.core.expirer.set(g,G),l.activatePairing&&(yield o.activate({topic:g})),de});return function(l){return u.apply(this,arguments)}}(),this.activate=function(){var u=(0,S.Z)(function*({topic:l}){o.isInitialized();const g=dn(me.THIRTY_DAYS);yield o.pairings.update(l,{active:!0,expiry:g}),o.core.expirer.set(l,g)});return function(l){return u.apply(this,arguments)}}(),this.ping=function(){var u=(0,S.Z)(function*(l){o.isInitialized(),yield o.isValidPing(l);const{topic:g}=l;if(o.pairings.keys.includes(g)){const A=yield o.sendRequest(g,"wc_pairingPing",{}),{done:Q,resolve:G,reject:de}=Ui();o.events.once(fr("pairing_ping",A),({error:Ie})=>{Ie?de(Ie):G()}),yield Q()}});return function(l){return u.apply(this,arguments)}}(),this.updateExpiry=function(){var u=(0,S.Z)(function*({topic:l,expiry:g}){o.isInitialized(),yield o.pairings.update(l,{expiry:g})});return function(l){return u.apply(this,arguments)}}(),this.updateMetadata=function(){var u=(0,S.Z)(function*({topic:l,metadata:g}){o.isInitialized(),yield o.pairings.update(l,{peerMetadata:g})});return function(l){return u.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var u=(0,S.Z)(function*(l){o.isInitialized(),yield o.isValidDisconnect(l);const{topic:g}=l;o.pairings.keys.includes(g)&&(yield o.sendRequest(g,"wc_pairingDelete",lr("USER_DISCONNECTED")),yield o.deletePairing(g))});return function(l){return u.apply(this,arguments)}}(),this.sendRequest=function(){var u=(0,S.Z)(function*(l,g,A){const Q=no(g,A),G=yield o.core.crypto.encode(l,Q),de=ps[g].req;return o.core.history.set(l,Q),o.core.relayer.publish(l,G,de),Q.id});return function(l,g,A){return u.apply(this,arguments)}}(),this.sendResult=function(){var u=(0,S.Z)(function*(l,g,A){const Q=Ma(l,A),G=yield o.core.crypto.encode(g,Q),de=yield o.core.history.get(g,l),Ie=ps[de.request.method].res;yield o.core.relayer.publish(g,G,Ie),yield o.core.history.resolve(Q)});return function(l,g,A){return u.apply(this,arguments)}}(),this.sendError=function(){var u=(0,S.Z)(function*(l,g,A){const Q=io(l,A),G=yield o.core.crypto.encode(g,Q),de=yield o.core.history.get(g,l),Ie=ps[de.request.method]?ps[de.request.method].res:ps.unregistered_method.res;yield o.core.relayer.publish(g,G,Ie),yield o.core.history.resolve(Q)});return function(l,g,A){return u.apply(this,arguments)}}(),this.deletePairing=function(){var u=(0,S.Z)(function*(l,g){yield o.core.relayer.unsubscribe(l),yield Promise.all([o.pairings.delete(l,lr("USER_DISCONNECTED")),o.core.crypto.deleteSymKey(l),g?Promise.resolve():o.core.expirer.del(l)])});return function(l,g){return u.apply(this,arguments)}}(),this.cleanup=(0,S.Z)(function*(){const u=o.pairings.getAll().filter(l=>Gn(l.expiry));yield Promise.all(u.map(l=>o.deletePairing(l.topic)))}),this.onRelayEventRequest=u=>{const{topic:l,payload:g}=u;switch(g.method){case"wc_pairingPing":return this.onPairingPingRequest(l,g);case"wc_pairingDelete":return this.onPairingDeleteRequest(l,g);default:return this.onUnknownRpcMethodRequest(l,g)}},this.onRelayEventResponse=function(){var u=(0,S.Z)(function*(l){const{topic:g,payload:A}=l,Q=(yield o.core.history.get(g,A.id)).request.method;return"wc_pairingPing"===Q?o.onPairingPingResponse(g,A):o.onUnknownRpcMethodResponse(Q)});return function(l){return u.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var u=(0,S.Z)(function*(l,g){const{id:A}=g;try{o.isValidPing({topic:l}),yield o.sendResult(A,l,!0),o.events.emit("pairing_ping",{id:A,topic:l})}catch(Q){yield o.sendError(A,l,Q),o.logger.error(Q)}});return function(l,g){return u.apply(this,arguments)}}(),this.onPairingPingResponse=(u,l)=>{const{id:g}=l;setTimeout(()=>{Ln(l)?this.events.emit(fr("pairing_ping",g),{}):pn(l)&&this.events.emit(fr("pairing_ping",g),{error:l.error})},500)},this.onPairingDeleteRequest=function(){var u=(0,S.Z)(function*(l,g){const{id:A}=g;try{o.isValidDisconnect({topic:l}),yield o.deletePairing(l),o.events.emit("pairing_delete",{id:A,topic:l})}catch(Q){yield o.sendError(A,l,Q),o.logger.error(Q)}});return function(l,g){return u.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var u=(0,S.Z)(function*(l,g){const{id:A,method:Q}=g;try{if(o.registeredMethods.includes(Q))return;const G=lr("WC_METHOD_UNSUPPORTED",Q);yield o.sendError(A,l,G),o.logger.error(G)}catch(G){yield o.sendError(A,l,G),o.logger.error(G)}});return function(l,g){return u.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=u=>{this.registeredMethods.includes(u)||this.logger.error(lr("WC_METHOD_UNSUPPORTED",u))},this.isValidPair=u=>{if(!jr(u)){const{message:l}=Ne("MISSING_OR_INVALID",`pair() params: ${u}`);throw new Error(l)}if(!function Kp(a){if(yr(a,!1))try{return typeof new URL(a)<"u"}catch{return!1}return!1}(u.uri)){const{message:l}=Ne("MISSING_OR_INVALID",`pair() uri: ${u.uri}`);throw new Error(l)}},this.isValidPing=function(){var u=(0,S.Z)(function*(l){if(!jr(l)){const{message:A}=Ne("MISSING_OR_INVALID",`ping() params: ${l}`);throw new Error(A)}const{topic:g}=l;yield o.isValidPairingTopic(g)});return function(l){return u.apply(this,arguments)}}(),this.isValidDisconnect=function(){var u=(0,S.Z)(function*(l){if(!jr(l)){const{message:A}=Ne("MISSING_OR_INVALID",`disconnect() params: ${l}`);throw new Error(A)}const{topic:g}=l;yield o.isValidPairingTopic(g)});return function(l){return u.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var u=(0,S.Z)(function*(l){if(!yr(l,!1)){const{message:g}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${l}`);throw new Error(g)}if(!o.pairings.keys.includes(l)){const{message:g}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${l}`);throw new Error(g)}if(Gn(o.pairings.get(l).expiry)){yield o.deletePairing(l);const{message:g}=Ne("EXPIRED",`pairing topic: ${l}`);throw new Error(g)}});return function(l){return u.apply(this,arguments)}}(),this.core=r,this.logger=(0,V.generateChildLogger)(t,this.name),this.pairings=new ao(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,V.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}registerRelayerEvents(){var r=this;this.core.relayer.on("relayer_message",function(){var t=(0,S.Z)(function*(o){const{topic:u,message:l}=o;if(!r.pairings.keys.includes(u)||r.ignoredPayloadTypes.includes(r.core.crypto.getPayloadType(l)))return;const g=yield r.core.crypto.decode(u,l);Ba(g)?(r.core.history.set(u,g),r.onRelayEventRequest({topic:u,payload:g})):so(g)&&(yield r.core.history.resolve(g),yield r.onRelayEventResponse({topic:u,payload:g}),r.core.history.delete(u,g.id))});return function(o){return t.apply(this,arguments)}}())}registerExpirerEvents(){var r=this;this.core.expirer.on(Xr_expired,function(){var t=(0,S.Z)(function*(o){const{topic:u}=qc(o.target);u&&r.pairings.keys.includes(u)&&(yield r.deletePairing(u,!0),r.events.emit("pairing_expire",{topic:u}))});return function(o){return t.apply(this,arguments)}}())}}class J_ extends Z{constructor(r,t){var o;super(r,t),o=this,this.core=r,this.logger=t,this.records=new Map,this.events=new se.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Yn,this.init=(0,S.Z)(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restore(),o.cached.forEach(u=>o.records.set(u.id,u)),o.cached=[],o.registerEventListeners(),o.initialized=!0)}),this.set=(u,l,g)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:u,request:l,chainId:g}),this.records.has(l.id))return;const A={id:l.id,topic:u,request:{method:l.method,params:l.params||null},chainId:g,expiry:dn(me.THIRTY_DAYS)};this.records.set(A.id,A),this.events.emit("history_created",A)},this.resolve=function(){var u=(0,S.Z)(function*(l){if(o.isInitialized(),o.logger.debug("Updating JSON-RPC response history record"),o.logger.trace({type:"method",method:"update",response:l}),!o.records.has(l.id))return;const g=yield o.getRecord(l.id);typeof g.response>"u"&&(g.response=pn(l)?{error:l.error}:{result:l.result},o.records.set(g.id,g),o.events.emit("history_updated",g))});return function(l){return u.apply(this,arguments)}}(),this.get=function(){var u=(0,S.Z)(function*(l,g){return o.isInitialized(),o.logger.debug("Getting record"),o.logger.trace({type:"method",method:"get",topic:l,id:g}),yield o.getRecord(g)});return function(l,g){return u.apply(this,arguments)}}(),this.delete=(u,l)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:l}),this.values.forEach(g=>{if(g.topic===u){if(typeof l<"u"&&g.id!==l)return;this.records.delete(g.id),this.events.emit("history_deleted",g)}})},this.exists=function(){var u=(0,S.Z)(function*(l,g){return o.isInitialized(),!!o.records.has(g)&&(yield o.getRecord(g)).topic===l});return function(l,g){return u.apply(this,arguments)}}(),this.on=(u,l)=>{this.events.on(u,l)},this.once=(u,l)=>{this.events.once(u,l)},this.off=(u,l)=>{this.events.off(u,l)},this.removeListener=(u,l)=>{this.events.removeListener(u,l)},this.logger=(0,V.generateChildLogger)(t,this.name)}get context(){return(0,V.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const r=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const o={topic:t.topic,request:no(t.request.method,t.request.params,t.id),chainId:t.chainId};return r.push(o)}),r}setJsonRpcRecords(r){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,r)})()}getJsonRpcRecords(){var r=this;return(0,S.Z)(function*(){return yield r.core.storage.getItem(r.storageKey)})()}getRecord(r){this.isInitialized();const t=this.records.get(r);if(!t){const{message:o}=Ne("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(o)}return t}persist(){var r=this;return(0,S.Z)(function*(){yield r.setJsonRpcRecords(r.values),r.events.emit("history_sync")})()}restore(){var r=this;return(0,S.Z)(function*(){try{const t=yield r.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(r.records.size){const{message:o}=Ne("RESTORE_WILL_OVERRIDE",r.name);throw r.logger.error(o),new Error(o)}r.cached=t,r.logger.debug(`Successfully Restored records for ${r.name}`),r.logger.trace({type:"method",method:"restore",records:r.values})}catch(t){r.logger.debug(`Failed to Restore records for ${r.name}`),r.logger.error(t)}})()}registerEventListeners(){this.events.on("history_created",r=>{const t="history_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:r}),this.persist()}),this.events.on("history_updated",r=>{const t="history_updated";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:r}),this.persist()}),this.events.on("history_deleted",r=>{const t="history_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:r}),this.persist()}),this.core.heartbeat.on(be.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(r=>{(0,me.toMiliseconds)(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.delete(r.topic,r.id))})}catch(r){this.logger.warn(r)}}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class Y_ extends p{constructor(r,t){var o;super(r,t),o=this,this.core=r,this.logger=t,this.expirations=new Map,this.events=new se.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Yn,this.init=(0,S.Z)(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restore(),o.cached.forEach(u=>o.expirations.set(u.target,u)),o.cached=[],o.registerEventListeners(),o.initialized=!0)}),this.has=u=>{try{const l=this.formatTarget(u);return typeof this.getExpiration(l)<"u"}catch{return!1}},this.set=(u,l)=>{this.isInitialized();const g=this.formatTarget(u),A={target:g,expiry:l};this.expirations.set(g,A),this.checkExpiry(g,A),this.events.emit("expirer_created",{target:g,expiration:A})},this.get=u=>{this.isInitialized();const l=this.formatTarget(u);return this.getExpiration(l)},this.del=u=>{if(this.isInitialized(),this.has(u)){const l=this.formatTarget(u),g=this.getExpiration(l);this.expirations.delete(l),this.events.emit("expirer_deleted",{target:l,expiration:g})}},this.on=(u,l)=>{this.events.on(u,l)},this.once=(u,l)=>{this.events.once(u,l)},this.off=(u,l)=>{this.events.off(u,l)},this.removeListener=(u,l)=>{this.events.removeListener(u,l)},this.logger=(0,V.generateChildLogger)(t,this.name)}get context(){return(0,V.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(r){if("string"==typeof r)return function yp(a){return Kc("topic",a)}(r);if("number"==typeof r)return function vp(a){return Kc("id",a)}(r);const{message:t}=Ne("UNKNOWN_TYPE","Target type: "+typeof r);throw new Error(t)}setExpirations(r){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,r)})()}getExpirations(){var r=this;return(0,S.Z)(function*(){return yield r.core.storage.getItem(r.storageKey)})()}persist(){var r=this;return(0,S.Z)(function*(){yield r.setExpirations(r.values),r.events.emit("expirer_sync")})()}restore(){var r=this;return(0,S.Z)(function*(){try{const t=yield r.getExpirations();if(typeof t>"u"||!t.length)return;if(r.expirations.size){const{message:o}=Ne("RESTORE_WILL_OVERRIDE",r.name);throw r.logger.error(o),new Error(o)}r.cached=t,r.logger.debug(`Successfully Restored expirations for ${r.name}`),r.logger.trace({type:"method",method:"restore",expirations:r.values})}catch(t){r.logger.debug(`Failed to Restore expirations for ${r.name}`),r.logger.error(t)}})()}getExpiration(r){const t=this.expirations.get(r);if(!t){const{message:o}=Ne("NO_MATCHING_KEY",`${this.name}: ${r}`);throw this.logger.error(o),new Error(o)}return t}checkExpiry(r,t){const{expiry:o}=t;(0,me.toMiliseconds)(o)-Date.now()<=0&&this.expire(r,t)}expire(r,t){this.expirations.delete(r),this.events.emit(Xr_expired,{target:r,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((r,t)=>this.checkExpiry(t,r))}registerEventListeners(){this.core.heartbeat.on(be.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on("expirer_created",r=>{const t="expirer_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:r}),this.persist()}),this.events.on(Xr_expired,r=>{const t=Xr_expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:r}),this.persist()}),this.events.on("expirer_deleted",r=>{const t="expirer_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:r}),this.persist()})}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}}class X_ extends class I{constructor(r,t){this.projectId=r,this.logger=t}}{constructor(r,t){var o;super(r,t),o=this,this.projectId=r,this.logger=t,this.name=Va,this.initialized=!1,this.init=function(){var u=(0,S.Z)(function*(l){Hc()||!Ta()||(o.verifyUrl=l?.verifyUrl||Bf,yield o.createIframe())});return function(l){return u.apply(this,arguments)}}(),this.register=function(){var u=(0,S.Z)(function*(l){var g;if(o.initialized||(yield o.init()),o.iframe)try{null==(g=o.iframe.contentWindow)||g.postMessage(l.attestationId,o.verifyUrl),o.logger.info(`postMessage sent: ${l.attestationId} ${o.verifyUrl}`)}catch{}});return function(l){return u.apply(this,arguments)}}(),this.resolve=function(){var u=(0,S.Z)(function*(l){var g;if(o.isDevEnv)return"";o.logger.info(`resolving attestation: ${l.attestationId}`);const A=o.startAbortTimer(me.FIVE_SECONDS),Q=yield fetch(`${o.verifyUrl}/attestation/${l.attestationId}`,{signal:o.abortController.signal});return clearTimeout(A),200===Q.status?null==(g=yield Q.json())?void 0:g.origin:""});return function(l){return u.apply(this,arguments)}}(),this.createIframe=(0,S.Z)(function*(){try{yield Promise.race([new Promise((u,l)=>{if(document.getElementById(Va))return u();const g=document.createElement("iframe");g.setAttribute("id",Va),g.setAttribute("src",`${o.verifyUrl}/${o.projectId}`),g.style.display="none",g.addEventListener("load",()=>{o.initialized=!0,u()}),g.addEventListener("error",A=>{l(A)}),document.body.append(g),o.iframe=g}),new Promise(u=>{setTimeout(()=>u("iframe load timeout"),(0,me.toMiliseconds)(me.ONE_SECOND/2))})])}catch(u){o.logger.error(`Verify iframe failed to load: ${o.verifyUrl}`),o.logger.error(u)}}),this.logger=(0,V.generateChildLogger)(t,this.name),this.verifyUrl=Bf,this.abortController=new AbortController,this.isDevEnv=Ca()&&process.env.IS_VITEST}get context(){return(0,V.getLoggerContext)(this.logger)}startAbortTimer(r){return setTimeout(()=>this.abortController.abort(),(0,me.toMiliseconds)(r))}}var Q_=Object.defineProperty,Wf=Object.getOwnPropertySymbols,ey=Object.prototype.hasOwnProperty,ty=Object.prototype.propertyIsEnumerable,kf=(a,r,t)=>r in a?Q_(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,Gf=(a,r)=>{for(var t in r||(r={}))ey.call(r,t)&&kf(a,t,r[t]);if(Wf)for(var t of Wf(r))ty.call(r,t)&&kf(a,t,r[t]);return a};class qa extends z{constructor(r){super(r),this.protocol="wc",this.version=2,this.name="core",this.events=new se.EventEmitter,this.initialized=!1,this.on=(o,u)=>this.events.on(o,u),this.once=(o,u)=>this.events.once(o,u),this.off=(o,u)=>this.events.off(o,u),this.removeListener=(o,u)=>this.events.removeListener(o,u),this.projectId=r?.projectId,this.relayUrl=r?.relayUrl||Uf;const t=typeof r?.logger<"u"&&"string"!=typeof r?.logger?r.logger:(0,V.pino)((0,V.getDefaultLoggerOptions)({level:r?.logger||"error"}));this.logger=(0,V.generateChildLogger)(t,this.name),this.heartbeat=new be.HeartBeat,this.crypto=new T_(this,this.logger,r?.keychain),this.history=new J_(this,this.logger),this.expirer=new Y_(this,this.logger),this.storage=null!=r&&r.storage?r.storage:new Se.ZP(Gf(Gf({},i_),r?.storageOptions)),this.relayer=new K_({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new G_(this,this.logger),this.verify=new X_(this.projectId||"",this.logger)}static init(r){return(0,S.Z)(function*(){const t=new qa(r);yield t.initialize();const o=yield t.crypto.getClientId();return yield t.storage.setItem("WALLETCONNECT_CLIENT_ID",o),t})()}get context(){return(0,V.getLoggerContext)(this.logger)}start(){var r=this;return(0,S.Z)(function*(){r.initialized||(yield r.initialize())})()}initialize(){var r=this;return(0,S.Z)(function*(){r.logger.trace("Initialized");try{yield r.crypto.init(),yield r.history.init(),yield r.expirer.init(),yield r.relayer.init(),yield r.heartbeat.init(),yield r.pairing.init(),r.initialized=!0,r.logger.info("Core Initialization Success")}catch(t){throw r.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),r.logger.error(t.message),t}})()}}const ry=qa,Wa="wc@2:client:",Qf="Proposal expired",uo=me.SEVEN_DAYS,_s={wc_sessionPropose:{req:{ttl:me.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1104},res:{ttl:me.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1106},res:{ttl:me.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:me.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:me.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1112},res:{ttl:me.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:me.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:me.THIRTY_SECONDS,prompt:!1,tag:1115}}},Ga={min:me.FIVE_MINUTES,max:me.SEVEN_DAYS},uy=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var cy=Object.defineProperty,fy=Object.defineProperties,ly=Object.getOwnPropertyDescriptors,el=Object.getOwnPropertySymbols,hy=Object.prototype.hasOwnProperty,dy=Object.prototype.propertyIsEnumerable,tl=(a,r,t)=>r in a?cy(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,Qr=(a,r)=>{for(var t in r||(r={}))hy.call(r,t)&&tl(a,t,r[t]);if(el)for(var t of el(r))dy.call(r,t)&&tl(a,t,r[t]);return a},Ja=(a,r)=>fy(a,ly(r));class py extends class ue{constructor(r){this.client=r}}{constructor(r){var t;super(r),t=this,this.name="engine",this.events=new(De()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.requestQueue={state:"idle",requests:[]},this.requestQueueDelay=me.ONE_SECOND,this.init=(0,S.Z)(function*(){t.initialized||(yield t.cleanup(),t.registerRelayerEvents(),t.registerExpirerEvents(),t.client.core.pairing.register({methods:Object.keys(_s)}),t.initialized=!0,setTimeout(()=>{t.requestQueue.requests=t.getPendingSessionRequests(),t.processRequestQueue()},(0,me.toMiliseconds)(t.requestQueueDelay)))}),this.connect=function(){var o=(0,S.Z)(function*(u){t.isInitialized();const l=Ja(Qr({},u),{requiredNamespaces:u.requiredNamespaces||{},optionalNamespaces:u.optionalNamespaces||{}});yield t.isValidConnect(l);const{pairingTopic:g,requiredNamespaces:A,optionalNamespaces:Q,sessionProperties:G,relays:de}=l;let He,Ie=g,Ot=!1;if(Ie&&(Ot=t.client.core.pairing.pairings.get(Ie).active),!Ie||!Ot){const{topic:_t,uri:Ft}=yield t.client.core.pairing.create();Ie=_t,He=Ft}const Me=yield t.client.core.crypto.generateKeyPair(),Ge=Qr({requiredNamespaces:A,optionalNamespaces:Q,relays:de??[{protocol:"irn"}],proposer:{publicKey:Me,metadata:t.client.metadata}},G&&{sessionProperties:G}),{reject:Je,resolve:Nt,done:pr}=Ui(me.FIVE_MINUTES,Qf);if(t.events.once(fr("session_connect"),function(){var _t=(0,S.Z)(function*({error:Ft,session:xt}){if(Ft)Je(Ft);else if(xt){xt.self.publicKey=Me;const vr=Ja(Qr({},xt),{requiredNamespaces:xt.requiredNamespaces,optionalNamespaces:xt.optionalNamespaces});yield t.client.session.set(xt.topic,vr),yield t.setExpiry(xt.topic,xt.expiry),Ie&&(yield t.client.core.pairing.updateMetadata({topic:Ie,metadata:xt.peer.metadata})),Nt(vr)}});return function(Ft){return _t.apply(this,arguments)}}()),!Ie){const{message:_t}=Ne("NO_MATCHING_KEY",`connect() pairing topic: ${Ie}`);throw new Error(_t)}const Tt=yield t.sendRequest(Ie,"wc_sessionPropose",Ge),Pt=dn(me.FIVE_MINUTES);return yield t.setProposal(Tt,Qr({id:Tt,expiry:Pt},Ge)),{uri:He,approval:pr}});return function(u){return o.apply(this,arguments)}}(),this.pair=function(){var o=(0,S.Z)(function*(u){return t.isInitialized(),yield t.client.core.pairing.pair(u)});return function(u){return o.apply(this,arguments)}}(),this.approve=function(){var o=(0,S.Z)(function*(u){t.isInitialized(),yield t.isValidApprove(u);const{id:l,relayProtocol:g,namespaces:A,sessionProperties:Q}=u,G=t.client.proposal.get(l);let{pairingTopic:de,proposer:Ie,requiredNamespaces:He,optionalNamespaces:Ot}=G;de=de||"",vi(He)||(He=function $p(a,r){const t=ro(a,r);if(t)throw new Error(t.message);const o={};for(const[u,l]of Object.entries(a))o[u]={methods:l.methods,events:l.events,chains:l.accounts.map(g=>`${g.split(":")[0]}:${g.split(":")[1]}`)};return o}(A,"approve()"));const Me=yield t.client.core.crypto.generateKeyPair(),Ge=Ie.publicKey,Je=yield t.client.core.crypto.generateSharedKey(Me,Ge);de&&l&&(yield t.client.core.pairing.updateMetadata({topic:de,metadata:Ie.metadata}),yield t.sendResult(l,de,{relay:{protocol:g??"irn"},responderPublicKey:Me}),yield t.client.proposal.delete(l,lr("USER_DISCONNECTED")),yield t.client.core.pairing.activate({topic:de}));const Nt=Qr({relay:{protocol:g??"irn"},namespaces:A,requiredNamespaces:He,optionalNamespaces:Ot,pairingTopic:de,controller:{publicKey:Me,metadata:t.client.metadata},expiry:dn(uo)},Q&&{sessionProperties:Q});yield t.client.core.relayer.subscribe(Je),yield t.sendRequest(Je,"wc_sessionSettle",Nt);const pr=Ja(Qr({},Nt),{topic:Je,pairingTopic:de,acknowledged:!1,self:Nt.controller,peer:{publicKey:Ie.publicKey,metadata:Ie.metadata},controller:Me});return yield t.client.session.set(Je,pr),yield t.setExpiry(Je,dn(uo)),{topic:Je,acknowledged:()=>new Promise(Tt=>setTimeout(()=>Tt(t.client.session.get(Je)),500))}});return function(u){return o.apply(this,arguments)}}(),this.reject=function(){var o=(0,S.Z)(function*(u){t.isInitialized(),yield t.isValidReject(u);const{id:l,reason:g}=u,{pairingTopic:A}=t.client.proposal.get(l);A&&(yield t.sendError(l,A,g),yield t.client.proposal.delete(l,lr("USER_DISCONNECTED")))});return function(u){return o.apply(this,arguments)}}(),this.update=function(){var o=(0,S.Z)(function*(u){t.isInitialized(),yield t.isValidUpdate(u);const{topic:l,namespaces:g}=u,A=yield t.sendRequest(l,"wc_sessionUpdate",{namespaces:g}),{done:Q,resolve:G,reject:de}=Ui();return t.events.once(fr("session_update",A),({error:Ie})=>{Ie?de(Ie):G()}),yield t.client.session.update(l,{namespaces:g}),{acknowledged:Q}});return function(u){return o.apply(this,arguments)}}(),this.extend=function(){var o=(0,S.Z)(function*(u){t.isInitialized(),yield t.isValidExtend(u);const{topic:l}=u,g=yield t.sendRequest(l,"wc_sessionExtend",{}),{done:A,resolve:Q,reject:G}=Ui();return t.events.once(fr("session_extend",g),({error:de})=>{de?G(de):Q()}),yield t.setExpiry(l,dn(uo)),{acknowledged:A}});return function(u){return o.apply(this,arguments)}}(),this.request=function(){var o=(0,S.Z)(function*(u){t.isInitialized(),yield t.isValidRequest(u);const{chainId:l,request:g,topic:A,expiry:Q}=u,G=yield t.sendRequest(A,"wc_sessionRequest",{request:g,chainId:l},Q),{done:de,resolve:Ie,reject:He}=Ui(Q);return t.events.once(fr("session_request",G),({error:Me,result:Ge})=>{Me?He(Me):Ie(Ge)}),t.client.events.emit("session_request_sent",{topic:A,request:g,chainId:l,id:G}),function mp(a){Ra.apply(this,arguments)}({id:G,topic:A,wcDeepLink:yield t.client.core.storage.getItem("WALLETCONNECT_DEEPLINK_CHOICE")}),yield de()});return function(u){return o.apply(this,arguments)}}(),this.respond=function(){var o=(0,S.Z)(function*(u){t.isInitialized(),yield t.isValidRespond(u);const{topic:l,response:g}=u,{id:A}=g;Ln(g)?yield t.sendResult(A,l,g.result):pn(g)&&(yield t.sendError(A,l,g.error)),t.cleanupAfterResponse(u)});return function(u){return o.apply(this,arguments)}}(),this.ping=function(){var o=(0,S.Z)(function*(u){t.isInitialized(),yield t.isValidPing(u);const{topic:l}=u;if(t.client.session.keys.includes(l)){const g=yield t.sendRequest(l,"wc_sessionPing",{}),{done:A,resolve:Q,reject:G}=Ui();t.events.once(fr("session_ping",g),({error:de})=>{de?G(de):Q()}),yield A()}else t.client.core.pairing.pairings.keys.includes(l)&&(yield t.client.core.pairing.ping({topic:l}))});return function(u){return o.apply(this,arguments)}}(),this.emit=function(){var o=(0,S.Z)(function*(u){t.isInitialized(),yield t.isValidEmit(u);const{topic:l,event:g,chainId:A}=u;yield t.sendRequest(l,"wc_sessionEvent",{event:g,chainId:A})});return function(u){return o.apply(this,arguments)}}(),this.disconnect=function(){var o=(0,S.Z)(function*(u){t.isInitialized(),yield t.isValidDisconnect(u);const{topic:l}=u;if(t.client.session.keys.includes(l)){const g=Ua().toString();let A;const Q=G=>{G?.id.toString()===g&&(t.client.core.relayer.events.removeListener("relayer_message_ack",Q),A())};yield Promise.all([new Promise(G=>{A=G,t.client.core.relayer.on("relayer_message_ack",Q)}),t.sendRequest(l,"wc_sessionDelete",lr("USER_DISCONNECTED"),void 0,g)]),yield t.deleteSession(l)}else yield t.client.core.pairing.disconnect({topic:l})});return function(u){return o.apply(this,arguments)}}(),this.find=o=>(this.isInitialized(),this.client.session.getAll().filter(u=>function Zp(a,r){const{requiredNamespaces:t}=r,o=Object.keys(a.namespaces),u=Object.keys(t);let l=!0;return!!_i(u,o)&&(o.forEach(g=>{const{accounts:A,methods:Q,events:G}=a.namespaces[g],de=Mi(A),Ie=t[g];_i(Yr(g,Ie),de)&&_i(Ie.methods,Q)&&_i(Ie.events,G)||(l=!1)}),l)}(u,o))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=function(){var o=(0,S.Z)(function*(u){if(u.pairingTopic)try{const l=t.client.core.pairing.pairings.get(u.pairingTopic),g=t.client.core.pairing.pairings.getAll().filter(A=>{var Q,G;return(null==(Q=A.peerMetadata)?void 0:Q.url)&&(null==(G=A.peerMetadata)?void 0:G.url)===u.peer.metadata.url&&A.topic&&A.topic!==l.topic});if(0===g.length)return;t.client.logger.info(`Cleaning up ${g.length} duplicate pairing(s)`),yield Promise.all(g.map(A=>t.client.core.pairing.disconnect({topic:A.topic}))),t.client.logger.info("Duplicate pairings clean up finished")}catch(l){t.client.logger.error(l)}});return function(u){return o.apply(this,arguments)}}(),this.deleteSession=function(){var o=(0,S.Z)(function*(u,l){const{self:g}=t.client.session.get(u);yield t.client.core.relayer.unsubscribe(u),t.client.session.delete(u,lr("USER_DISCONNECTED")),t.client.core.crypto.keychain.has(g.publicKey)&&(yield t.client.core.crypto.deleteKeyPair(g.publicKey)),t.client.core.crypto.keychain.has(u)&&(yield t.client.core.crypto.deleteSymKey(u)),l||t.client.core.expirer.del(u)});return function(u,l){return o.apply(this,arguments)}}(),this.deleteProposal=function(){var o=(0,S.Z)(function*(u,l){yield Promise.all([t.client.proposal.delete(u,lr("USER_DISCONNECTED")),l?Promise.resolve():t.client.core.expirer.del(u)])});return function(u,l){return o.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var o=(0,S.Z)(function*(u,l,g=!1){yield Promise.all([t.client.pendingRequest.delete(u,l),g?Promise.resolve():t.client.core.expirer.del(u)]),t.requestQueue.requests=t.requestQueue.requests.filter(A=>A.id!==u),g&&(t.requestQueue.state="idle")});return function(u,l){return o.apply(this,arguments)}}(),this.setExpiry=function(){var o=(0,S.Z)(function*(u,l){t.client.session.keys.includes(u)&&(yield t.client.session.update(u,{expiry:l})),t.client.core.expirer.set(u,l)});return function(u,l){return o.apply(this,arguments)}}(),this.setProposal=function(){var o=(0,S.Z)(function*(u,l){yield t.client.proposal.set(u,l),t.client.core.expirer.set(u,l.expiry)});return function(u,l){return o.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var o=(0,S.Z)(function*(u){const l=_s.wc_sessionRequest.req.ttl,{id:g,topic:A,params:Q}=u;yield t.client.pendingRequest.set(g,{id:g,topic:A,params:Q}),l&&t.client.core.expirer.set(g,dn(l))});return function(u){return o.apply(this,arguments)}}(),this.sendRequest=function(){var o=(0,S.Z)(function*(u,l,g,A,Q){const G=no(l,g);if(Ta()&&uy.includes(l)){const He=Li(JSON.stringify(G));yield t.client.core.verify.register({attestationId:He})}const de=yield t.client.core.crypto.encode(u,G),Ie=_s[l].req;return A&&(Ie.ttl=A),Q&&(Ie.id=Q),t.client.core.history.set(u,G),t.client.core.relayer.publish(u,de,Ie),G.id});return function(u,l,g,A,Q){return o.apply(this,arguments)}}(),this.sendResult=function(){var o=(0,S.Z)(function*(u,l,g){const A=Ma(u,g),Q=yield t.client.core.crypto.encode(l,A),G=yield t.client.core.history.get(l,u);t.client.core.relayer.publish(l,Q,_s[G.request.method].res),yield t.client.core.history.resolve(A)});return function(u,l,g){return o.apply(this,arguments)}}(),this.sendError=function(){var o=(0,S.Z)(function*(u,l,g){const A=io(u,g),Q=yield t.client.core.crypto.encode(l,A),G=yield t.client.core.history.get(l,u);t.client.core.relayer.publish(l,Q,_s[G.request.method].res),yield t.client.core.history.resolve(A)});return function(u,l,g){return o.apply(this,arguments)}}(),this.cleanup=(0,S.Z)(function*(){const o=[],u=[];t.client.session.getAll().forEach(l=>{Gn(l.expiry)&&o.push(l.topic)}),t.client.proposal.getAll().forEach(l=>{Gn(l.expiry)&&u.push(l.id)}),yield Promise.all([...o.map(l=>t.deleteSession(l)),...u.map(l=>t.deleteProposal(l))])}),this.onRelayEventRequest=o=>{const{topic:u,payload:l}=o,g=l.method;switch(g){case"wc_sessionPropose":return this.onSessionProposeRequest(u,l);case"wc_sessionSettle":return this.onSessionSettleRequest(u,l);case"wc_sessionUpdate":return this.onSessionUpdateRequest(u,l);case"wc_sessionExtend":return this.onSessionExtendRequest(u,l);case"wc_sessionPing":return this.onSessionPingRequest(u,l);case"wc_sessionDelete":return this.onSessionDeleteRequest(u,l);case"wc_sessionRequest":return this.onSessionRequest(u,l);case"wc_sessionEvent":return this.onSessionEventRequest(u,l);default:return this.client.logger.info(`Unsupported request method ${g}`)}},this.onRelayEventResponse=function(){var o=(0,S.Z)(function*(u){const{topic:l,payload:g}=u,A=(yield t.client.core.history.get(l,g.id)).request.method;switch(A){case"wc_sessionPropose":return t.onSessionProposeResponse(l,g);case"wc_sessionSettle":return t.onSessionSettleResponse(l,g);case"wc_sessionUpdate":return t.onSessionUpdateResponse(l,g);case"wc_sessionExtend":return t.onSessionExtendResponse(l,g);case"wc_sessionPing":return t.onSessionPingResponse(l,g);case"wc_sessionRequest":return t.onSessionRequestResponse(l,g);default:return t.client.logger.info(`Unsupported response method ${A}`)}});return function(u){return o.apply(this,arguments)}}(),this.onRelayEventUnknownPayload=o=>{const{topic:u}=o,{message:l}=Ne("MISSING_OR_INVALID",`Decoded payload on topic ${u} is not identifiable as a JSON-RPC request or a response.`);throw new Error(l)},this.onSessionProposeRequest=function(){var o=(0,S.Z)(function*(u,l){const{params:g,id:A}=l;try{t.isValidConnect(Qr({},l.params));const Q=dn(me.FIVE_MINUTES),G=Qr({id:A,pairingTopic:u,expiry:Q},g);yield t.setProposal(A,G);const de=Li(JSON.stringify(l)),Ie=yield t.getVerifyContext(de,G.proposer.metadata);t.client.events.emit("session_proposal",{id:A,params:G,verifyContext:Ie})}catch(Q){yield t.sendError(A,u,Q),t.client.logger.error(Q)}});return function(u,l){return o.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var o=(0,S.Z)(function*(u,l){const{id:g}=l;if(Ln(l)){const{result:A}=l;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:A});const Q=t.client.proposal.get(g);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:Q});const G=Q.proposer.publicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:G});const de=A.responderPublicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:de});const Ie=yield t.client.core.crypto.generateSharedKey(G,de);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:Ie});const He=yield t.client.core.relayer.subscribe(Ie);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:He}),yield t.client.core.pairing.activate({topic:u})}else pn(l)&&(yield t.client.proposal.delete(g,lr("USER_DISCONNECTED")),t.events.emit(fr("session_connect"),{error:l.error}))});return function(u,l){return o.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var o=(0,S.Z)(function*(u,l){const{id:g,params:A}=l;try{t.isValidSessionSettleRequest(A);const{relay:Q,controller:G,expiry:de,namespaces:Ie,requiredNamespaces:He,optionalNamespaces:Ot,sessionProperties:Me,pairingTopic:Ge}=l.params,Je=Qr({topic:u,relay:Q,expiry:de,namespaces:Ie,acknowledged:!0,pairingTopic:Ge,requiredNamespaces:He,optionalNamespaces:Ot,controller:G.publicKey,self:{publicKey:"",metadata:t.client.metadata},peer:{publicKey:G.publicKey,metadata:G.metadata}},Me&&{sessionProperties:Me});yield t.sendResult(l.id,u,!0),t.events.emit(fr("session_connect"),{session:Je}),t.cleanupDuplicatePairings(Je)}catch(Q){yield t.sendError(g,u,Q),t.client.logger.error(Q)}});return function(u,l){return o.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var o=(0,S.Z)(function*(u,l){const{id:g}=l;Ln(l)?(yield t.client.session.update(u,{acknowledged:!0}),t.events.emit(fr("session_approve",g),{})):pn(l)&&(yield t.client.session.delete(u,lr("USER_DISCONNECTED")),t.events.emit(fr("session_approve",g),{error:l.error}))});return function(u,l){return o.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var o=(0,S.Z)(function*(u,l){const{params:g,id:A}=l;try{t.isValidUpdate(Qr({topic:u},g)),yield t.client.session.update(u,{namespaces:g.namespaces}),yield t.sendResult(A,u,!0),t.client.events.emit("session_update",{id:A,topic:u,params:g})}catch(Q){yield t.sendError(A,u,Q),t.client.logger.error(Q)}});return function(u,l){return o.apply(this,arguments)}}(),this.onSessionUpdateResponse=(o,u)=>{const{id:l}=u;Ln(u)?this.events.emit(fr("session_update",l),{}):pn(u)&&this.events.emit(fr("session_update",l),{error:u.error})},this.onSessionExtendRequest=function(){var o=(0,S.Z)(function*(u,l){const{id:g}=l;try{t.isValidExtend({topic:u}),yield t.setExpiry(u,dn(uo)),yield t.sendResult(g,u,!0),t.client.events.emit("session_extend",{id:g,topic:u})}catch(A){yield t.sendError(g,u,A),t.client.logger.error(A)}});return function(u,l){return o.apply(this,arguments)}}(),this.onSessionExtendResponse=(o,u)=>{const{id:l}=u;Ln(u)?this.events.emit(fr("session_extend",l),{}):pn(u)&&this.events.emit(fr("session_extend",l),{error:u.error})},this.onSessionPingRequest=function(){var o=(0,S.Z)(function*(u,l){const{id:g}=l;try{t.isValidPing({topic:u}),yield t.sendResult(g,u,!0),t.client.events.emit("session_ping",{id:g,topic:u})}catch(A){yield t.sendError(g,u,A),t.client.logger.error(A)}});return function(u,l){return o.apply(this,arguments)}}(),this.onSessionPingResponse=(o,u)=>{const{id:l}=u;setTimeout(()=>{Ln(u)?this.events.emit(fr("session_ping",l),{}):pn(u)&&this.events.emit(fr("session_ping",l),{error:u.error})},500)},this.onSessionDeleteRequest=function(){var o=(0,S.Z)(function*(u,l){const{id:g}=l;try{t.isValidDisconnect({topic:u,reason:l.params}),yield Promise.all([new Promise(A=>{t.client.core.relayer.once("relayer_publish",(0,S.Z)(function*(){A(yield t.deleteSession(u))}))}),t.sendResult(g,u,!0)]),t.client.events.emit("session_delete",{id:g,topic:u})}catch(A){t.client.logger.error(A)}});return function(u,l){return o.apply(this,arguments)}}(),this.onSessionRequest=function(){var o=(0,S.Z)(function*(u,l){const{id:g,params:A}=l;try{t.isValidRequest(Qr({topic:u},A)),yield t.setPendingSessionRequest({id:g,topic:u,params:A}),t.addRequestToQueue({id:g,topic:u,params:A}),yield t.processRequestQueue()}catch(Q){yield t.sendError(g,u,Q),t.client.logger.error(Q)}});return function(u,l){return o.apply(this,arguments)}}(),this.onSessionRequestResponse=(o,u)=>{const{id:l}=u;Ln(u)?this.events.emit(fr("session_request",l),{result:u.result}):pn(u)&&this.events.emit(fr("session_request",l),{error:u.error})},this.onSessionEventRequest=function(){var o=(0,S.Z)(function*(u,l){const{id:g,params:A}=l;try{t.isValidEmit(Qr({topic:u},A)),t.client.events.emit("session_event",{id:g,topic:u,params:A})}catch(Q){yield t.sendError(g,u,Q),t.client.logger.error(Q)}});return function(u,l){return o.apply(this,arguments)}}(),this.addRequestToQueue=o=>{this.requestQueue.requests.push(o)},this.cleanupAfterResponse=o=>{this.deletePendingSessionRequest(o.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.requestQueue.state="idle",this.processRequestQueue()},(0,me.toMiliseconds)(this.requestQueueDelay))},this.processRequestQueue=(0,S.Z)(function*(){if("active"===t.requestQueue.state)return void t.client.logger.info("session request queue is already active.");const o=t.requestQueue.requests[0];if(o)try{const{id:u,topic:l,params:g}=o,A=Li(JSON.stringify({id:u,params:g})),Q=t.client.session.get(l),G=yield t.getVerifyContext(A,Q.peer.metadata);t.requestQueue.state="active",t.client.events.emit("session_request",{id:u,topic:l,params:g,verifyContext:G})}catch(u){t.client.logger.error(u)}else t.client.logger.info("session request queue is empty.")}),this.isValidConnect=function(){var o=(0,S.Z)(function*(u){if(!jr(u)){const{message:de}=Ne("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(u)}`);throw new Error(de)}const{pairingTopic:l,requiredNamespaces:g,optionalNamespaces:A,sessionProperties:Q,relays:G}=u;if(Cr(l)||(yield t.isValidPairingTopic(l)),!function tg(a,r){let t=!1;return r&&!a?t=!0:a&&yi(a)&&a.length&&a.forEach(o=>{t=ef(o)}),t}(G,!0)){const{message:de}=Ne("MISSING_OR_INVALID",`connect() relays: ${G}`);throw new Error(de)}!Cr(g)&&0!==vi(g)&&t.validateNamespaces(g,"requiredNamespaces"),!Cr(A)&&0!==vi(A)&&t.validateNamespaces(A,"optionalNamespaces"),Cr(Q)||t.validateSessionProps(Q,"sessionProperties")});return function(u){return o.apply(this,arguments)}}(),this.validateNamespaces=(o,u)=>{const l=function eg(a,r,t){let o=null;if(a&&vi(a)){const u=Qc(a,r);u&&(o=u);const l=function Jp(a,r,t){let o=null;return Object.entries(a).forEach(([u,l])=>{if(o)return;const g=function Gp(a,r,t){let o=null;return yi(r)&&r.length?r.forEach(u=>{o||to(u)||(o=lr("UNSUPPORTED_CHAINS",`${t}, chain ${u} should be a string and conform to "namespace:chainId" format`))}):to(a)||(o=lr("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),o}(u,Yr(u,l),`${r} ${t}`);g&&(o=g)}),o}(a,r,t);l&&(o=l)}else o=Ne("MISSING_OR_INVALID",`${r}, ${t} should be an object with data`);return o}(o,"connect()",u);if(l)throw new Error(l.message)},this.isValidApprove=function(){var o=(0,S.Z)(function*(u){if(!jr(u))throw new Error(Ne("MISSING_OR_INVALID",`approve() params: ${u}`).message);const{id:l,namespaces:g,relayProtocol:A,sessionProperties:Q}=u;yield t.isValidProposalId(l);const G=t.client.proposal.get(l),de=ro(g,"approve()");if(de)throw new Error(de.message);const Ie=ja(G.requiredNamespaces,g,"approve()");if(Ie)throw new Error(Ie.message);if(!yr(A,!0)){const{message:He}=Ne("MISSING_OR_INVALID",`approve() relayProtocol: ${A}`);throw new Error(He)}Cr(Q)||t.validateSessionProps(Q,"sessionProperties")});return function(u){return o.apply(this,arguments)}}(),this.isValidReject=function(){var o=(0,S.Z)(function*(u){if(!jr(u)){const{message:A}=Ne("MISSING_OR_INVALID",`reject() params: ${u}`);throw new Error(A)}const{id:l,reason:g}=u;if(yield t.isValidProposalId(l),!function ng(a){return!!(a&&"object"==typeof a&&a.code&&Fa(a.code,!1)&&a.message&&yr(a.message,!1))}(g)){const{message:A}=Ne("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(g)}`);throw new Error(A)}});return function(u){return o.apply(this,arguments)}}(),this.isValidSessionSettleRequest=o=>{if(!jr(o)){const{message:de}=Ne("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${o}`);throw new Error(de)}const{relay:u,controller:l,namespaces:g,expiry:A}=o;if(!ef(u)){const{message:de}=Ne("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(de)}const Q=function kp(a,r){let t=null;return yr(a?.publicKey,!1)||(t=Ne("MISSING_OR_INVALID",`${r} controller public key should be a string`)),t}(l,"onSessionSettleRequest()");if(Q)throw new Error(Q.message);const G=ro(g,"onSessionSettleRequest()");if(G)throw new Error(G.message);if(Gn(A)){const{message:de}=Ne("EXPIRED","onSessionSettleRequest()");throw new Error(de)}},this.isValidUpdate=function(){var o=(0,S.Z)(function*(u){if(!jr(u)){const{message:de}=Ne("MISSING_OR_INVALID",`update() params: ${u}`);throw new Error(de)}const{topic:l,namespaces:g}=u;yield t.isValidSessionTopic(l);const A=t.client.session.get(l),Q=ro(g,"update()");if(Q)throw new Error(Q.message);const G=ja(A.requiredNamespaces,g,"update()");if(G)throw new Error(G.message)});return function(u){return o.apply(this,arguments)}}(),this.isValidExtend=function(){var o=(0,S.Z)(function*(u){if(!jr(u)){const{message:g}=Ne("MISSING_OR_INVALID",`extend() params: ${u}`);throw new Error(g)}const{topic:l}=u;yield t.isValidSessionTopic(l)});return function(u){return o.apply(this,arguments)}}(),this.isValidRequest=function(){var o=(0,S.Z)(function*(u){if(!jr(u)){const{message:de}=Ne("MISSING_OR_INVALID",`request() params: ${u}`);throw new Error(de)}const{topic:l,request:g,chainId:A,expiry:Q}=u;yield t.isValidSessionTopic(l);const{namespaces:G}=t.client.session.get(l);if(!tf(G,A)){const{message:de}=Ne("MISSING_OR_INVALID",`request() chainId: ${A}`);throw new Error(de)}if(!function ig(a){return!(Cr(a)||!yr(a.method,!1))}(g)){const{message:de}=Ne("MISSING_OR_INVALID",`request() ${JSON.stringify(g)}`);throw new Error(de)}if(!function ag(a,r,t){return!!yr(t,!1)&&function Mp(a,r){const t=[];return Object.values(a).forEach(o=>{Mi(o.accounts).includes(r)&&t.push(...o.methods)}),t}(a,r).includes(t)}(G,A,g.method)){const{message:de}=Ne("MISSING_OR_INVALID",`request() method: ${g.method}`);throw new Error(de)}if(Q&&!function lg(a,r){return Fa(a,!1)&&a<=r.max&&a>=r.min}(Q,Ga)){const{message:de}=Ne("MISSING_OR_INVALID",`request() expiry: ${Q}. Expiry must be a number (in seconds) between ${Ga.min} and ${Ga.max}`);throw new Error(de)}});return function(u){return o.apply(this,arguments)}}(),this.isValidRespond=function(){var o=(0,S.Z)(function*(u){if(!jr(u)){const{message:A}=Ne("MISSING_OR_INVALID",`respond() params: ${u}`);throw new Error(A)}const{topic:l,response:g}=u;if(yield t.isValidSessionTopic(l),!function sg(a){return!(Cr(a)||Cr(a.result)&&Cr(a.error)||!Fa(a.id,!1)||!yr(a.jsonrpc,!1))}(g)){const{message:A}=Ne("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(g)}`);throw new Error(A)}});return function(u){return o.apply(this,arguments)}}(),this.isValidPing=function(){var o=(0,S.Z)(function*(u){if(!jr(u)){const{message:g}=Ne("MISSING_OR_INVALID",`ping() params: ${u}`);throw new Error(g)}const{topic:l}=u;yield t.isValidSessionOrPairingTopic(l)});return function(u){return o.apply(this,arguments)}}(),this.isValidEmit=function(){var o=(0,S.Z)(function*(u){if(!jr(u)){const{message:G}=Ne("MISSING_OR_INVALID",`emit() params: ${u}`);throw new Error(G)}const{topic:l,event:g,chainId:A}=u;yield t.isValidSessionTopic(l);const{namespaces:Q}=t.client.session.get(l);if(!tf(Q,A)){const{message:G}=Ne("MISSING_OR_INVALID",`emit() chainId: ${A}`);throw new Error(G)}if(!function og(a){return!(Cr(a)||!yr(a.name,!1))}(g)){const{message:G}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(g)}`);throw new Error(G)}if(!function ug(a,r,t){return!!yr(t,!1)&&function Bp(a,r){const t=[];return Object.values(a).forEach(o=>{Mi(o.accounts).includes(r)&&t.push(...o.events)}),t}(a,r).includes(t)}(Q,A,g.name)){const{message:G}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(g)}`);throw new Error(G)}});return function(u){return o.apply(this,arguments)}}(),this.isValidDisconnect=function(){var o=(0,S.Z)(function*(u){if(!jr(u)){const{message:g}=Ne("MISSING_OR_INVALID",`disconnect() params: ${u}`);throw new Error(g)}const{topic:l}=u;yield t.isValidSessionOrPairingTopic(l)});return function(u){return o.apply(this,arguments)}}(),this.getVerifyContext=function(){var o=(0,S.Z)(function*(u,l){const g={verified:{verifyUrl:l.verifyUrl||"",validation:"UNKNOWN",origin:l.url||""}};try{const A=yield t.client.core.verify.resolve({attestationId:u,verifyUrl:l.verifyUrl});A&&(g.verified.origin=A,g.verified.validation=A===l.url?"VALID":"INVALID")}catch(A){t.client.logger.error(A)}return t.client.logger.info(`Verify context: ${JSON.stringify(g)}`),g});return function(u,l){return o.apply(this,arguments)}}(),this.validateSessionProps=(o,u)=>{Object.values(o).forEach(l=>{if(!yr(l,!1)){const{message:g}=Ne("MISSING_OR_INVALID",`${u} must be in Record<string, string> format. Received: ${JSON.stringify(l)}`);throw new Error(g)}})}}isInitialized(){if(!this.initialized){const{message:r}=Ne("NOT_INITIALIZED",this.name);throw new Error(r)}}registerRelayerEvents(){var r=this;this.client.core.relayer.on("relayer_message",function(){var t=(0,S.Z)(function*(o){const{topic:u,message:l}=o;if(r.ignoredPayloadTypes.includes(r.client.core.crypto.getPayloadType(l)))return;const g=yield r.client.core.crypto.decode(u,l);Ba(g)?(r.client.core.history.set(u,g),r.onRelayEventRequest({topic:u,payload:g})):so(g)?(yield r.client.core.history.resolve(g),yield r.onRelayEventResponse({topic:u,payload:g}),r.client.core.history.delete(u,g.id)):r.onRelayEventUnknownPayload({topic:u,payload:g})});return function(o){return t.apply(this,arguments)}}())}registerExpirerEvents(){var r=this;this.client.core.expirer.on(Xr_expired,function(){var t=(0,S.Z)(function*(o){const{topic:u,id:l}=qc(o.target);if(l&&r.client.pendingRequest.keys.includes(l))return yield r.deletePendingSessionRequest(l,Ne("EXPIRED"),!0);u?r.client.session.keys.includes(u)&&(yield r.deleteSession(u,!0),r.client.events.emit("session_expire",{topic:u})):l&&(yield r.deleteProposal(l,!0),r.client.events.emit("proposal_expire",{id:l}))});return function(o){return t.apply(this,arguments)}}())}isValidPairingTopic(r){if(!yr(r,!1)){const{message:t}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(r)){const{message:t}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(t)}if(Gn(this.client.core.pairing.pairings.get(r).expiry)){const{message:t}=Ne("EXPIRED",`pairing topic: ${r}`);throw new Error(t)}}isValidSessionTopic(r){var t=this;return(0,S.Z)(function*(){if(!yr(r,!1)){const{message:o}=Ne("MISSING_OR_INVALID",`session topic should be a string: ${r}`);throw new Error(o)}if(!t.client.session.keys.includes(r)){const{message:o}=Ne("NO_MATCHING_KEY",`session topic doesn't exist: ${r}`);throw new Error(o)}if(Gn(t.client.session.get(r).expiry)){yield t.deleteSession(r);const{message:o}=Ne("EXPIRED",`session topic: ${r}`);throw new Error(o)}})()}isValidSessionOrPairingTopic(r){var t=this;return(0,S.Z)(function*(){if(t.client.session.keys.includes(r))yield t.isValidSessionTopic(r);else{if(!t.client.core.pairing.pairings.keys.includes(r)){if(yr(r,!1)){const{message:o}=Ne("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${r}`);throw new Error(o)}{const{message:o}=Ne("MISSING_OR_INVALID",`session or pairing topic should be a string: ${r}`);throw new Error(o)}}t.isValidPairingTopic(r)}})()}isValidProposalId(r){var t=this;return(0,S.Z)(function*(){if(!function rg(a){return"number"==typeof a}(r)){const{message:o}=Ne("MISSING_OR_INVALID",`proposal id should be a number: ${r}`);throw new Error(o)}if(!t.client.proposal.keys.includes(r)){const{message:o}=Ne("NO_MATCHING_KEY",`proposal id doesn't exist: ${r}`);throw new Error(o)}if(Gn(t.client.proposal.get(r).expiry)){yield t.deleteProposal(r);const{message:o}=Ne("EXPIRED",`proposal id: ${r}`);throw new Error(o)}})()}}class gy extends ao{constructor(r,t){super(r,t,"proposal",Wa),this.core=r,this.logger=t}}class _y extends ao{constructor(r,t){super(r,t,"session",Wa),this.core=r,this.logger=t}}class yy extends ao{constructor(r,t){super(r,t,"request",Wa,o=>o.id),this.core=r,this.logger=t}}class Ya extends class w{constructor(r){this.opts=r,this.protocol="wc",this.version=2}}{constructor(r){var t;super(r),t=this,this.protocol="wc",this.version=2,this.name="client",this.events=new se.EventEmitter,this.on=(u,l)=>this.events.on(u,l),this.once=(u,l)=>this.events.once(u,l),this.off=(u,l)=>this.events.off(u,l),this.removeListener=(u,l)=>this.events.removeListener(u,l),this.removeAllListeners=u=>this.events.removeAllListeners(u),this.connect=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.connect(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.pair=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.pair(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.approve=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.approve(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.reject=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.reject(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.update=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.update(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.extend=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.extend(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.request=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.request(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.respond=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.respond(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.ping=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.ping(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.emit=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.emit(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.disconnect=function(){var u=(0,S.Z)(function*(l){try{return yield t.engine.disconnect(l)}catch(g){throw t.logger.error(g.message),g}});return function(l){return u.apply(this,arguments)}}(),this.find=u=>{try{return this.engine.find(u)}catch(l){throw this.logger.error(l.message),l}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(u){throw this.logger.error(u.message),u}},this.name=r?.name||"client",this.metadata=r?.metadata||function cp(){return(0,Ea.D)()||{name:"",description:"",url:"",icons:[""]}}();const o=typeof r?.logger<"u"&&"string"!=typeof r?.logger?r.logger:(0,V.pino)((0,V.getDefaultLoggerOptions)({level:r?.logger||"error"}));this.core=r?.core||new ry(r),this.logger=(0,V.generateChildLogger)(o,this.name),this.session=new _y(this.core,this.logger),this.proposal=new gy(this.core,this.logger),this.pendingRequest=new yy(this.core,this.logger),this.engine=new py(this)}static init(r){return(0,S.Z)(function*(){const t=new Ya(r);return yield t.initialize(),t})()}get context(){return(0,V.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var r=this;return(0,S.Z)(function*(){r.logger.trace("Initialized");try{yield r.core.start(),yield r.session.init(),yield r.proposal.init(),yield r.pendingRequest.init(),yield r.engine.init(),r.core.verify.init({verifyUrl:r.metadata.verifyUrl}),r.logger.info("SignClient Initialization Success")}catch(t){throw r.logger.info("SignClient Initialization Failure"),r.logger.error(t.message),t}})()}}var vy=j(5928),rl=j.n(vy);const nl={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class sl{constructor(r,t=!1){if(this.url=r,this.disableProviderPing=t,this.events=new se.EventEmitter,this.isAvailable=!1,this.registering=!1,!hf(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);this.url=r,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}off(r,t){this.events.off(r,t)}removeListener(r,t){this.events.removeListener(r,t)}open(r=this.url){var t=this;return(0,S.Z)(function*(){yield t.register(r)})()}close(){var r=this;return(0,S.Z)(function*(){if(!r.isAvailable)throw new Error("Connection already closed");r.onClose()})()}send(r,t){var o=this;return(0,S.Z)(function*(){o.isAvailable||(yield o.register());try{const u=xe(r),g=yield(yield rl()(o.url,Object.assign(Object.assign({},nl),{body:u}))).json();o.onPayload({data:g})}catch(u){o.onError(r.id,u)}})()}register(r=this.url){var t=this;return(0,S.Z)(function*(){if(!hf(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);if(t.registering){const o=t.events.getMaxListeners();return(t.events.listenerCount("register_error")>=o||t.events.listenerCount("open")>=o)&&t.events.setMaxListeners(o+1),new Promise((u,l)=>{t.events.once("register_error",g=>{t.resetMaxListeners(),l(g)}),t.events.once("open",()=>{if(t.resetMaxListeners(),typeof t.isAvailable>"u")return l(new Error("HTTP connection is missing or invalid"));u()})})}t.url=r,t.registering=!0;try{if(!t.disableProviderPing){const o=xe({id:1,jsonrpc:"2.0",method:"test",params:[]});yield rl()(r,Object.assign(Object.assign({},nl),{body:o}))}t.onOpen()}catch(o){const u=t.parseError(o);throw t.events.emit("register_error",u),t.onClose(),u}})()}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(r){if(typeof r.data>"u")return;const t="string"==typeof r.data?ye(r.data):r.data;this.events.emit("payload",t)}onError(r,t){const o=this.parseError(t),l=io(r,o.message||o.toString());this.events.emit("payload",l)}parseError(r,t=this.url){return cf(r,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const Bi=sl,al="wc@2:universal_provider:";var a,r,vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xa={exports:{}};a=Xa,r=Xa.exports,function(){var t,g="Expected a function",Q="__lodash_hash_undefined__",de="__lodash_placeholder__",mi=1/0,ei=9007199254740991,Pn=4294967295,iv=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$i="[object Arguments]",ho="[object Array]",ms="[object Boolean]",bs="[object Date]",po="[object Error]",go="[object Function]",_l="[object GeneratorFunction]",gn="[object Map]",ws="[object Number]",Un="[object Object]",yl="[object Promise]",Es="[object RegExp]",_n="[object Set]",Ds="[object String]",_o="[object Symbol]",xs="[object WeakMap]",Ss="[object ArrayBuffer]",zi="[object DataView]",nu="[object Float32Array]",iu="[object Float64Array]",su="[object Int8Array]",ou="[object Int16Array]",au="[object Int32Array]",uu="[object Uint8Array]",cu="[object Uint8ClampedArray]",fu="[object Uint16Array]",lu="[object Uint32Array]",lv=/\b__p \+= '';/g,hv=/\b(__p \+=) '' \+/g,dv=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vl=/&(?:amp|lt|gt|quot|#39);/g,ml=/[&<>"']/g,pv=RegExp(vl.source),gv=RegExp(ml.source),_v=/<%-([\s\S]+?)%>/g,yv=/<%([\s\S]+?)%>/g,bl=/<%=([\s\S]+?)%>/g,vv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mv=/^\w*$/,bv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hu=/[\\^$.*+?()[\]{}|]/g,wv=RegExp(hu.source),du=/^\s+/,Ev=/\s/,Dv=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xv=/\{\n\/\* \[wrapped with (.+)\] \*/,Sv=/,? & /,Ov=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Iv=/[()=,{}\[\]\/\s]/,Pv=/\\(\\)?/g,Av=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wl=/\w*$/,Cv=/^[-+]0x[0-9a-f]+$/i,Tv=/^0b[01]+$/i,Rv=/^\[object .+?Constructor\]$/,Nv=/^0o[0-7]+$/i,Fv=/^(?:0|[1-9]\d*)$/,jv=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yo=/($^)/,Lv=/['\n\r\u2028\u2029\\]/g,vo="\\ud800-\\udfff",El="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Dl="\\u2700-\\u27bf",xl="a-z\\xdf-\\xf6\\xf8-\\xff",Sl="A-Z\\xc0-\\xd6\\xd8-\\xde",Ol="\\ufe0e\\ufe0f",Il="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vv="["+vo+"]",Pl="["+Il+"]",mo="["+El+"]",Al="\\d+",Kv="["+Dl+"]",Cl="["+xl+"]",Tl="[^"+vo+Il+Al+Dl+xl+Sl+"]",gu="\\ud83c[\\udffb-\\udfff]",Rl="[^"+vo+"]",_u="(?:\\ud83c[\\udde6-\\uddff]){2}",yu="[\\ud800-\\udbff][\\udc00-\\udfff]",Hi="["+Sl+"]",Fl="(?:"+Cl+"|"+Tl+")",Wv="(?:"+Hi+"|"+Tl+")",jl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ll="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ul="(?:"+mo+"|"+gu+")?",Ml="["+Ol+"]?",Bl=Ml+Ul+"(?:\\u200d(?:"+[Rl,_u,yu].join("|")+")"+Ml+Ul+")*",Yv="(?:"+[Kv,_u,yu].join("|")+")"+Bl,Xv="(?:"+[Rl+mo+"?",mo,_u,yu,Vv].join("|")+")",Qv=RegExp("['\u2019]","g"),e1=RegExp(mo,"g"),vu=RegExp(gu+"(?="+gu+")|"+Xv+Bl,"g"),t1=RegExp([Hi+"?"+Cl+"+"+jl+"(?="+[Pl,Hi,"$"].join("|")+")",Wv+"+"+Ll+"(?="+[Pl,Hi+Fl,"$"].join("|")+")",Hi+"?"+Fl+"+"+jl,Hi+"+"+Ll,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Al,Yv].join("|"),"g"),r1=RegExp("[\\u200d"+vo+El+Ol+"]"),n1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,i1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],s1=-1,Mt={};Mt[nu]=Mt[iu]=Mt[su]=Mt[ou]=Mt[au]=Mt[uu]=Mt[cu]=Mt[fu]=Mt[lu]=!0,Mt[$i]=Mt[ho]=Mt[Ss]=Mt[ms]=Mt[zi]=Mt[bs]=Mt[po]=Mt[go]=Mt[gn]=Mt[ws]=Mt[Un]=Mt[Es]=Mt[_n]=Mt[Ds]=Mt[xs]=!1;var Lt={};Lt[$i]=Lt[ho]=Lt[Ss]=Lt[zi]=Lt[ms]=Lt[bs]=Lt[nu]=Lt[iu]=Lt[su]=Lt[ou]=Lt[au]=Lt[gn]=Lt[ws]=Lt[Un]=Lt[Es]=Lt[_n]=Lt[Ds]=Lt[_o]=Lt[uu]=Lt[cu]=Lt[fu]=Lt[lu]=!0,Lt[po]=Lt[go]=Lt[xs]=!1;var c1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},f1=parseFloat,l1=parseInt,$l="object"==typeof vs&&vs&&vs.Object===Object&&vs,h1="object"==typeof self&&self&&self.Object===Object&&self,xr=$l||h1||Function("return this")(),mu=r&&!r.nodeType&&r,bi=mu&&a&&!a.nodeType&&a,zl=bi&&bi.exports===mu,bu=zl&&$l.process,tn=function(){try{return bi&&bi.require&&bi.require("util").types||bu&&bu.binding&&bu.binding("util")}catch{}}(),Hl=tn&&tn.isArrayBuffer,Zl=tn&&tn.isDate,Vl=tn&&tn.isMap,Kl=tn&&tn.isRegExp,ql=tn&&tn.isSet,Wl=tn&&tn.isTypedArray;function Vr(re,ve,ge){switch(ge.length){case 0:return re.call(ve);case 1:return re.call(ve,ge[0]);case 2:return re.call(ve,ge[0],ge[1]);case 3:return re.call(ve,ge[0],ge[1],ge[2])}return re.apply(ve,ge)}function d1(re,ve,ge,Ue){for(var Ye=-1,St=null==re?0:re.length;++Ye<St;){var gr=re[Ye];ve(Ue,gr,ge(gr),re)}return Ue}function rn(re,ve){for(var ge=-1,Ue=null==re?0:re.length;++ge<Ue&&!1!==ve(re[ge],ge,re););return re}function p1(re,ve){for(var ge=null==re?0:re.length;ge--&&!1!==ve(re[ge],ge,re););return re}function kl(re,ve){for(var ge=-1,Ue=null==re?0:re.length;++ge<Ue;)if(!ve(re[ge],ge,re))return!1;return!0}function ti(re,ve){for(var ge=-1,Ue=null==re?0:re.length,Ye=0,St=[];++ge<Ue;){var gr=re[ge];ve(gr,ge,re)&&(St[Ye++]=gr)}return St}function bo(re,ve){return!(null==re||!re.length)&&Zi(re,ve,0)>-1}function wu(re,ve,ge){for(var Ue=-1,Ye=null==re?0:re.length;++Ue<Ye;)if(ge(ve,re[Ue]))return!0;return!1}function Ht(re,ve){for(var ge=-1,Ue=null==re?0:re.length,Ye=Array(Ue);++ge<Ue;)Ye[ge]=ve(re[ge],ge,re);return Ye}function ri(re,ve){for(var ge=-1,Ue=ve.length,Ye=re.length;++ge<Ue;)re[Ye+ge]=ve[ge];return re}function Eu(re,ve,ge,Ue){var Ye=-1,St=null==re?0:re.length;for(Ue&&St&&(ge=re[++Ye]);++Ye<St;)ge=ve(ge,re[Ye],Ye,re);return ge}function g1(re,ve,ge,Ue){var Ye=null==re?0:re.length;for(Ue&&Ye&&(ge=re[--Ye]);Ye--;)ge=ve(ge,re[Ye],Ye,re);return ge}function Du(re,ve){for(var ge=-1,Ue=null==re?0:re.length;++ge<Ue;)if(ve(re[ge],ge,re))return!0;return!1}var _1=xu("length");function Gl(re,ve,ge){var Ue;return ge(re,function(Ye,St,gr){if(ve(Ye,St,gr))return Ue=St,!1}),Ue}function wo(re,ve,ge,Ue){for(var Ye=re.length,St=ge+(Ue?1:-1);Ue?St--:++St<Ye;)if(ve(re[St],St,re))return St;return-1}function Zi(re,ve,ge){return ve==ve?function C1(re,ve,ge){for(var Ue=ge-1,Ye=re.length;++Ue<Ye;)if(re[Ue]===ve)return Ue;return-1}(re,ve,ge):wo(re,Jl,ge)}function m1(re,ve,ge,Ue){for(var Ye=ge-1,St=re.length;++Ye<St;)if(Ue(re[Ye],ve))return Ye;return-1}function Jl(re){return re!=re}function Yl(re,ve){var ge=null==re?0:re.length;return ge?Ou(re,ve)/ge:NaN}function xu(re){return function(ve){return null==ve?t:ve[re]}}function Su(re){return function(ve){return null==re?t:re[ve]}}function Xl(re,ve,ge,Ue,Ye){return Ye(re,function(St,gr,jt){ge=Ue?(Ue=!1,St):ve(ge,St,gr,jt)}),ge}function Ou(re,ve){for(var ge,Ue=-1,Ye=re.length;++Ue<Ye;){var St=ve(re[Ue]);St!==t&&(ge=ge===t?St:ge+St)}return ge}function Iu(re,ve){for(var ge=-1,Ue=Array(re);++ge<re;)Ue[ge]=ve(ge);return Ue}function Ql(re){return re&&re.slice(0,nh(re)+1).replace(du,"")}function Kr(re){return function(ve){return re(ve)}}function Pu(re,ve){return Ht(ve,function(ge){return re[ge]})}function Os(re,ve){return re.has(ve)}function eh(re,ve){for(var ge=-1,Ue=re.length;++ge<Ue&&Zi(ve,re[ge],0)>-1;);return ge}function th(re,ve){for(var ge=re.length;ge--&&Zi(ve,re[ge],0)>-1;);return ge}function E1(re,ve){for(var ge=re.length,Ue=0;ge--;)re[ge]===ve&&++Ue;return Ue}var D1=Su({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),x1=Su({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function S1(re){return"\\"+c1[re]}function Vi(re){return r1.test(re)}function Au(re){var ve=-1,ge=Array(re.size);return re.forEach(function(Ue,Ye){ge[++ve]=[Ye,Ue]}),ge}function rh(re,ve){return function(ge){return re(ve(ge))}}function ni(re,ve){for(var ge=-1,Ue=re.length,Ye=0,St=[];++ge<Ue;){var gr=re[ge];(gr===ve||gr===de)&&(re[ge]=de,St[Ye++]=ge)}return St}function Eo(re){var ve=-1,ge=Array(re.size);return re.forEach(function(Ue){ge[++ve]=Ue}),ge}function Ki(re){return Vi(re)?function N1(re){for(var ve=vu.lastIndex=0;vu.test(re);)++ve;return ve}(re):_1(re)}function yn(re){return Vi(re)?function F1(re){return re.match(vu)||[]}(re):function y1(re){return re.split("")}(re)}function nh(re){for(var ve=re.length;ve--&&Ev.test(re.charAt(ve)););return ve}var R1=Su({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),qi=function re(ve){var e,ge=(ve=null==ve?xr:qi.defaults(xr.Object(),ve,qi.pick(xr,i1))).Array,Ue=ve.Date,Ye=ve.Error,St=ve.Function,gr=ve.Math,jt=ve.Object,Cu=ve.RegExp,U1=ve.String,nn=ve.TypeError,Do=ge.prototype,Wi=jt.prototype,xo=ve["__core-js_shared__"],So=St.prototype.toString,At=Wi.hasOwnProperty,B1=0,ih=(e=/[^.]+$/.exec(xo&&xo.keys&&xo.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",Oo=Wi.toString,$1=So.call(jt),z1=xr._,H1=Cu("^"+So.call(At).replace(hu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Io=zl?ve.Buffer:t,ii=ve.Symbol,Po=ve.Uint8Array,sh=Io?Io.allocUnsafe:t,Ao=rh(jt.getPrototypeOf,jt),oh=jt.create,ah=Wi.propertyIsEnumerable,Co=Do.splice,uh=ii?ii.isConcatSpreadable:t,Is=ii?ii.iterator:t,wi=ii?ii.toStringTag:t,To=function(){try{var e=Oi(jt,"defineProperty");return e({},"",{}),e}catch{}}(),Z1=ve.clearTimeout!==xr.clearTimeout&&ve.clearTimeout,V1=Ue&&Ue.now!==xr.Date.now&&Ue.now,K1=ve.setTimeout!==xr.setTimeout&&ve.setTimeout,Ro=gr.ceil,No=gr.floor,Tu=jt.getOwnPropertySymbols,q1=Io?Io.isBuffer:t,ch=ve.isFinite,W1=Do.join,k1=rh(jt.keys,jt),_r=gr.max,Ir=gr.min,G1=Ue.now,J1=ve.parseInt,fh=gr.random,Y1=Do.reverse,Ru=Oi(ve,"DataView"),Ps=Oi(ve,"Map"),Nu=Oi(ve,"Promise"),ki=Oi(ve,"Set"),As=Oi(ve,"WeakMap"),Cs=Oi(jt,"create"),Fo=As&&new As,Gi={},X1=Ii(Ru),Q1=Ii(Ps),em=Ii(Nu),tm=Ii(ki),rm=Ii(As),jo=ii?ii.prototype:t,Ts=jo?jo.valueOf:t,lh=jo?jo.toString:t;function O(e){if(Jt(e)&&!et(e)&&!(e instanceof pt)){if(e instanceof sn)return e;if(At.call(e,"__wrapped__"))return hd(e)}return new sn(e)}var Ji=function(){function e(){}return function(n){if(!Zt(n))return{};if(oh)return oh(n);e.prototype=n;var s=new e;return e.prototype=t,s}}();function Lo(){}function sn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}function pt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pn,this.__views__=[]}function Ei(e){var n=-1,s=null==e?0:e.length;for(this.clear();++n<s;){var d=e[n];this.set(d[0],d[1])}}function Mn(e){var n=-1,s=null==e?0:e.length;for(this.clear();++n<s;){var d=e[n];this.set(d[0],d[1])}}function Bn(e){var n=-1,s=null==e?0:e.length;for(this.clear();++n<s;){var d=e[n];this.set(d[0],d[1])}}function Di(e){var n=-1,s=null==e?0:e.length;for(this.__data__=new Bn;++n<s;)this.add(e[n])}function vn(e){var n=this.__data__=new Mn(e);this.size=n.size}function hh(e,n){var s=et(e),d=!s&&Pi(e),E=!s&&!d&&ci(e),P=!s&&!d&&!E&&es(e),$=s||d||E||P,Y=$?Iu(e.length,U1):[],ne=Y.length;for(var we in e)(n||At.call(e,we))&&(!$||!("length"==we||E&&("offset"==we||"parent"==we)||P&&("buffer"==we||"byteLength"==we||"byteOffset"==we)||Zn(we,ne)))&&Y.push(we);return Y}function dh(e){var n=e.length;return n?e[Vu(0,n-1)]:t}function Pm(e,n){return Jo(Lr(e),xi(n,0,e.length))}function Am(e){return Jo(Lr(e))}function Fu(e,n,s){(s!==t&&!mn(e[n],s)||s===t&&!(n in e))&&$n(e,n,s)}function Rs(e,n,s){var d=e[n];(!At.call(e,n)||!mn(d,s)||s===t&&!(n in e))&&$n(e,n,s)}function Uo(e,n){for(var s=e.length;s--;)if(mn(e[s][0],n))return s;return-1}function Cm(e,n,s,d){return si(e,function(E,P,$){n(d,E,s(E),$)}),d}function ph(e,n){return e&&Cn(n,mr(n),e)}function $n(e,n,s){"__proto__"==n&&To?To(e,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[n]=s}function ju(e,n){for(var s=-1,d=n.length,E=ge(d),P=null==e;++s<d;)E[s]=P?t:gc(e,n[s]);return E}function xi(e,n,s){return e==e&&(s!==t&&(e=e<=s?e:s),n!==t&&(e=e>=n?e:n)),e}function on(e,n,s,d,E,P){var $,Y=1&n,ne=2&n,we=4&n;if(s&&($=E?s(e,d,E,P):s(e)),$!==t)return $;if(!Zt(e))return e;var Ee=et(e);if(Ee){if($=function mb(e){var n=e.length,s=new e.constructor(n);return n&&"string"==typeof e[0]&&At.call(e,"index")&&(s.index=e.index,s.input=e.input),s}(e),!Y)return Lr(e,$)}else{var Pe=Pr(e),Re=Pe==go||Pe==_l;if(ci(e))return Mh(e,Y);if(Pe==Un||Pe==$i||Re&&!E){if($=ne||Re?{}:nd(e),!Y)return ne?function ub(e,n){return Cn(e,td(e),n)}(e,function Tm(e,n){return e&&Cn(n,Mr(n),e)}($,e)):function ab(e,n){return Cn(e,ic(e),n)}(e,ph($,e))}else{if(!Lt[Pe])return E?e:{};$=function bb(e,n,s){var d=e.constructor;switch(n){case Ss:return Yu(e);case ms:case bs:return new d(+e);case zi:return function nb(e,n){var s=n?Yu(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}(e,s);case nu:case iu:case su:case ou:case au:case uu:case cu:case fu:case lu:return Bh(e,s);case gn:return new d;case ws:case Ds:return new d(e);case Es:return function ib(e){var n=new e.constructor(e.source,wl.exec(e));return n.lastIndex=e.lastIndex,n}(e);case _n:return new d;case _o:return function sb(e){return Ts?jt(Ts.call(e)):{}}(e)}}(e,Pe,Y)}}P||(P=new vn);var Be=P.get(e);if(Be)return Be;P.set(e,$),Rd(e)?e.forEach(function(Ke){$.add(on(Ke,n,s,Ke,e,P))}):Cd(e)&&e.forEach(function(Ke,lt){$.set(lt,on(Ke,n,s,lt,e,P))});var it=Ee?t:(we?ne?tc:ec:ne?Mr:mr)(e);return rn(it||e,function(Ke,lt){it&&(Ke=e[lt=Ke]),Rs($,lt,on(Ke,n,s,lt,e,P))}),$}function gh(e,n,s){var d=s.length;if(null==e)return!d;for(e=jt(e);d--;){var E=s[d],$=e[E];if($===t&&!(E in e)||!(0,n[E])($))return!1}return!0}function _h(e,n,s){if("function"!=typeof e)throw new nn(g);return Bs(function(){e.apply(t,s)},n)}function Ns(e,n,s,d){var E=-1,P=bo,$=!0,Y=e.length,ne=[],we=n.length;if(!Y)return ne;s&&(n=Ht(n,Kr(s))),d?(P=wu,$=!1):n.length>=200&&(P=Os,$=!1,n=new Di(n));e:for(;++E<Y;){var Ee=e[E],Pe=null==s?Ee:s(Ee);if(Ee=d||0!==Ee?Ee:0,$&&Pe==Pe){for(var Re=we;Re--;)if(n[Re]===Pe)continue e;ne.push(Ee)}else P(n,Pe,d)||ne.push(Ee)}return ne}O.templateSettings={escape:_v,evaluate:yv,interpolate:bl,variable:"",imports:{_:O}},(O.prototype=Lo.prototype).constructor=O,(sn.prototype=Ji(Lo.prototype)).constructor=sn,(pt.prototype=Ji(Lo.prototype)).constructor=pt,Ei.prototype.clear=function om(){this.__data__=Cs?Cs(null):{},this.size=0},Ei.prototype.delete=function am(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},Ei.prototype.get=function um(e){var n=this.__data__;if(Cs){var s=n[e];return s===Q?t:s}return At.call(n,e)?n[e]:t},Ei.prototype.has=function cm(e){var n=this.__data__;return Cs?n[e]!==t:At.call(n,e)},Ei.prototype.set=function fm(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Cs&&n===t?Q:n,this},Mn.prototype.clear=function lm(){this.__data__=[],this.size=0},Mn.prototype.delete=function hm(e){var n=this.__data__,s=Uo(n,e);return!(s<0||(s==n.length-1?n.pop():Co.call(n,s,1),--this.size,0))},Mn.prototype.get=function dm(e){var n=this.__data__,s=Uo(n,e);return s<0?t:n[s][1]},Mn.prototype.has=function pm(e){return Uo(this.__data__,e)>-1},Mn.prototype.set=function gm(e,n){var s=this.__data__,d=Uo(s,e);return d<0?(++this.size,s.push([e,n])):s[d][1]=n,this},Bn.prototype.clear=function _m(){this.size=0,this.__data__={hash:new Ei,map:new(Ps||Mn),string:new Ei}},Bn.prototype.delete=function ym(e){var n=Go(this,e).delete(e);return this.size-=n?1:0,n},Bn.prototype.get=function vm(e){return Go(this,e).get(e)},Bn.prototype.has=function mm(e){return Go(this,e).has(e)},Bn.prototype.set=function bm(e,n){var s=Go(this,e),d=s.size;return s.set(e,n),this.size+=s.size==d?0:1,this},Di.prototype.add=Di.prototype.push=function wm(e){return this.__data__.set(e,Q),this},Di.prototype.has=function Em(e){return this.__data__.has(e)},vn.prototype.clear=function Dm(){this.__data__=new Mn,this.size=0},vn.prototype.delete=function xm(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s},vn.prototype.get=function Sm(e){return this.__data__.get(e)},vn.prototype.has=function Om(e){return this.__data__.has(e)},vn.prototype.set=function Im(e,n){var s=this.__data__;if(s instanceof Mn){var d=s.__data__;if(!Ps||d.length<199)return d.push([e,n]),this.size=++s.size,this;s=this.__data__=new Bn(d)}return s.set(e,n),this.size=s.size,this};var si=Zh(An),yh=Zh(Uu,!0);function Nm(e,n){var s=!0;return si(e,function(d,E,P){return s=!!n(d,E,P)}),s}function Mo(e,n,s){for(var d=-1,E=e.length;++d<E;){var P=e[d],$=n(P);if(null!=$&&(Y===t?$==$&&!Wr($):s($,Y)))var Y=$,ne=P}return ne}function vh(e,n){var s=[];return si(e,function(d,E,P){n(d,E,P)&&s.push(d)}),s}function Sr(e,n,s,d,E){var P=-1,$=e.length;for(s||(s=Eb),E||(E=[]);++P<$;){var Y=e[P];n>0&&s(Y)?n>1?Sr(Y,n-1,s,d,E):ri(E,Y):d||(E[E.length]=Y)}return E}var Lu=Vh(),mh=Vh(!0);function An(e,n){return e&&Lu(e,n,mr)}function Uu(e,n){return e&&mh(e,n,mr)}function Bo(e,n){return ti(n,function(s){return Vn(e[s])})}function Si(e,n){for(var s=0,d=(n=ai(n,e)).length;null!=e&&s<d;)e=e[Tn(n[s++])];return s&&s==d?e:t}function bh(e,n,s){var d=n(e);return et(e)?d:ri(d,s(e))}function Tr(e){return null==e?e===t?"[object Undefined]":"[object Null]":wi&&wi in jt(e)?function _b(e){var n=At.call(e,wi),s=e[wi];try{e[wi]=t;var d=!0}catch{}var E=Oo.call(e);return d&&(n?e[wi]=s:delete e[wi]),E}(e):function Ab(e){return Oo.call(e)}(e)}function Mu(e,n){return e>n}function jm(e,n){return null!=e&&At.call(e,n)}function Lm(e,n){return null!=e&&n in jt(e)}function Bu(e,n,s){for(var d=s?wu:bo,E=e[0].length,P=e.length,$=P,Y=ge(P),ne=1/0,we=[];$--;){var Ee=e[$];$&&n&&(Ee=Ht(Ee,Kr(n))),ne=Ir(Ee.length,ne),Y[$]=!s&&(n||E>=120&&Ee.length>=120)?new Di($&&Ee):t}Ee=e[0];var Pe=-1,Re=Y[0];e:for(;++Pe<E&&we.length<ne;){var Be=Ee[Pe],Ve=n?n(Be):Be;if(Be=s||0!==Be?Be:0,!(Re?Os(Re,Ve):d(we,Ve,s))){for($=P;--$;){var it=Y[$];if(!(it?Os(it,Ve):d(e[$],Ve,s)))continue e}Re&&Re.push(Ve),we.push(Be)}}return we}function Fs(e,n,s){var d=null==(e=ad(e,n=ai(n,e)))?e:e[Tn(un(n))];return null==d?t:Vr(d,e,s)}function wh(e){return Jt(e)&&Tr(e)==$i}function js(e,n,s,d,E){return e===n||(null==e||null==n||!Jt(e)&&!Jt(n)?e!=e&&n!=n:function zm(e,n,s,d,E,P){var $=et(e),Y=et(n),ne=$?ho:Pr(e),we=Y?ho:Pr(n),Ee=(ne=ne==$i?Un:ne)==Un,Pe=(we=we==$i?Un:we)==Un,Re=ne==we;if(Re&&ci(e)){if(!ci(n))return!1;$=!0,Ee=!1}if(Re&&!Ee)return P||(P=new vn),$||es(e)?ed(e,n,s,d,E,P):function pb(e,n,s,d,E,P,$){switch(s){case zi:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Ss:return!(e.byteLength!=n.byteLength||!P(new Po(e),new Po(n)));case ms:case bs:case ws:return mn(+e,+n);case po:return e.name==n.name&&e.message==n.message;case Es:case Ds:return e==n+"";case gn:var Y=Au;case _n:if(Y||(Y=Eo),e.size!=n.size&&!(1&d))return!1;var we=$.get(e);if(we)return we==n;d|=2,$.set(e,n);var Ee=ed(Y(e),Y(n),d,E,P,$);return $.delete(e),Ee;case _o:if(Ts)return Ts.call(e)==Ts.call(n)}return!1}(e,n,ne,s,d,E,P);if(!(1&s)){var Be=Ee&&At.call(e,"__wrapped__"),Ve=Pe&&At.call(n,"__wrapped__");if(Be||Ve){var it=Be?e.value():e,Ke=Ve?n.value():n;return P||(P=new vn),E(it,Ke,s,d,P)}}return!!Re&&(P||(P=new vn),function gb(e,n,s,d,E,P){var $=1&s,Y=ec(e),ne=Y.length;if(ne!=ec(n).length&&!$)return!1;for(var Pe=ne;Pe--;){var Re=Y[Pe];if(!($?Re in n:At.call(n,Re)))return!1}var Be=P.get(e),Ve=P.get(n);if(Be&&Ve)return Be==n&&Ve==e;var it=!0;P.set(e,n),P.set(n,e);for(var Ke=$;++Pe<ne;){var lt=e[Re=Y[Pe]],yt=n[Re];if(d)var kr=$?d(yt,lt,Re,n,e,P):d(lt,yt,Re,e,n,P);if(!(kr===t?lt===yt||E(lt,yt,s,d,P):kr)){it=!1;break}Ke||(Ke="constructor"==Re)}if(it&&!Ke){var Nr=e.constructor,Gr=n.constructor;Nr!=Gr&&"constructor"in e&&"constructor"in n&&!("function"==typeof Nr&&Nr instanceof Nr&&"function"==typeof Gr&&Gr instanceof Gr)&&(it=!1)}return P.delete(e),P.delete(n),it}(e,n,s,d,E,P))}(e,n,s,d,js,E))}function $u(e,n,s,d){var E=s.length,P=E,$=!d;if(null==e)return!P;for(e=jt(e);E--;){var Y=s[E];if($&&Y[2]?Y[1]!==e[Y[0]]:!(Y[0]in e))return!1}for(;++E<P;){var ne=(Y=s[E])[0],we=e[ne],Ee=Y[1];if($&&Y[2]){if(we===t&&!(ne in e))return!1}else{var Pe=new vn;if(d)var Re=d(we,Ee,ne,e,n,Pe);if(!(Re===t?js(Ee,we,3,d,Pe):Re))return!1}}return!0}function Eh(e){return!(!Zt(e)||function xb(e){return!!ih&&ih in e}(e))&&(Vn(e)?H1:Rv).test(Ii(e))}function Dh(e){return"function"==typeof e?e:null==e?Br:"object"==typeof e?et(e)?Oh(e[0],e[1]):Sh(e):Kd(e)}function zu(e){if(!Ms(e))return k1(e);var n=[];for(var s in jt(e))At.call(e,s)&&"constructor"!=s&&n.push(s);return n}function Hu(e,n){return e<n}function xh(e,n){var s=-1,d=Ur(e)?ge(e.length):[];return si(e,function(E,P,$){d[++s]=n(E,P,$)}),d}function Sh(e){var n=nc(e);return 1==n.length&&n[0][2]?sd(n[0][0],n[0][1]):function(s){return s===e||$u(s,e,n)}}function Oh(e,n){return sc(e)&&id(n)?sd(Tn(e),n):function(s){var d=gc(s,e);return d===t&&d===n?_c(s,e):js(n,d,3)}}function $o(e,n,s,d,E){e!==n&&Lu(n,function(P,$){if(E||(E=new vn),Zt(P))!function Wm(e,n,s,d,E,P,$){var Y=ac(e,s),ne=ac(n,s),we=$.get(ne);if(we)Fu(e,s,we);else{var Ee=P?P(Y,ne,s+"",e,n,$):t,Pe=Ee===t;if(Pe){var Re=et(ne),Be=!Re&&ci(ne),Ve=!Re&&!Be&&es(ne);Ee=ne,Re||Be||Ve?et(Y)?Ee=Y:er(Y)?Ee=Lr(Y):Be?(Pe=!1,Ee=Mh(ne,!0)):Ve?(Pe=!1,Ee=Bh(ne,!0)):Ee=[]:$s(ne)||Pi(ne)?(Ee=Y,Pi(Y)?Ee=jd(Y):(!Zt(Y)||Vn(Y))&&(Ee=nd(ne))):Pe=!1}Pe&&($.set(ne,Ee),E(Ee,ne,d,P,$),$.delete(ne)),Fu(e,s,Ee)}}(e,n,$,s,$o,d,E);else{var Y=d?d(ac(e,$),P,$+"",e,n,E):t;Y===t&&(Y=P),Fu(e,$,Y)}},Mr)}function Ih(e,n){var s=e.length;if(s)return Zn(n+=n<0?s:0,s)?e[n]:t}function Ph(e,n,s){n=n.length?Ht(n,function(P){return et(P)?function($){return Si($,1===P.length?P[0]:P)}:P}):[Br];var d=-1;return n=Ht(n,Kr(Ze())),function b1(re,ve){var ge=re.length;for(re.sort(ve);ge--;)re[ge]=re[ge].value;return re}(xh(e,function(P,$,Y){return{criteria:Ht(n,function(we){return we(P)}),index:++d,value:P}}),function(P,$){return function ob(e,n,s){for(var d=-1,E=e.criteria,P=n.criteria,$=E.length,Y=s.length;++d<$;){var ne=$h(E[d],P[d]);if(ne)return d>=Y?ne:ne*("desc"==s[d]?-1:1)}return e.index-n.index}(P,$,s)})}function Ah(e,n,s){for(var d=-1,E=n.length,P={};++d<E;){var $=n[d],Y=Si(e,$);s(Y,$)&&Ls(P,ai($,e),Y)}return P}function Zu(e,n,s,d){var E=d?m1:Zi,P=-1,$=n.length,Y=e;for(e===n&&(n=Lr(n)),s&&(Y=Ht(e,Kr(s)));++P<$;)for(var ne=0,we=n[P],Ee=s?s(we):we;(ne=E(Y,Ee,ne,d))>-1;)Y!==e&&Co.call(Y,ne,1),Co.call(e,ne,1);return e}function Ch(e,n){for(var s=e?n.length:0,d=s-1;s--;){var E=n[s];if(s==d||E!==P){var P=E;Zn(E)?Co.call(e,E,1):Wu(e,E)}}return e}function Vu(e,n){return e+No(fh()*(n-e+1))}function Ku(e,n){var s="";if(!e||n<1||n>ei)return s;do{n%2&&(s+=e),(n=No(n/2))&&(e+=e)}while(n);return s}function at(e,n){return uc(od(e,n,Br),e+"")}function Ym(e){return dh(ts(e))}function Xm(e,n){var s=ts(e);return Jo(s,xi(n,0,s.length))}function Ls(e,n,s,d){if(!Zt(e))return e;for(var E=-1,P=(n=ai(n,e)).length,$=P-1,Y=e;null!=Y&&++E<P;){var ne=Tn(n[E]),we=s;if("__proto__"===ne||"constructor"===ne||"prototype"===ne)return e;if(E!=$){var Ee=Y[ne];(we=d?d(Ee,ne,Y):t)===t&&(we=Zt(Ee)?Ee:Zn(n[E+1])?[]:{})}Rs(Y,ne,we),Y=Y[ne]}return e}var Th=Fo?function(e,n){return Fo.set(e,n),e}:Br,Qm=To?function(e,n){return To(e,"toString",{configurable:!0,enumerable:!1,value:vc(n),writable:!0})}:Br;function eb(e){return Jo(ts(e))}function an(e,n,s){var d=-1,E=e.length;n<0&&(n=-n>E?0:E+n),(s=s>E?E:s)<0&&(s+=E),E=n>s?0:s-n>>>0,n>>>=0;for(var P=ge(E);++d<E;)P[d]=e[d+n];return P}function tb(e,n){var s;return si(e,function(d,E,P){return!(s=n(d,E,P))}),!!s}function zo(e,n,s){var d=0,E=null==e?d:e.length;if("number"==typeof n&&n==n&&E<=2147483647){for(;d<E;){var P=d+E>>>1,$=e[P];null!==$&&!Wr($)&&(s?$<=n:$<n)?d=P+1:E=P}return E}return qu(e,n,Br,s)}function qu(e,n,s,d){var E=0,P=null==e?0:e.length;if(0===P)return 0;for(var $=(n=s(n))!=n,Y=null===n,ne=Wr(n),we=n===t;E<P;){var Ee=No((E+P)/2),Pe=s(e[Ee]),Re=Pe!==t,Be=null===Pe,Ve=Pe==Pe,it=Wr(Pe);if($)var Ke=d||Ve;else Ke=we?Ve&&(d||Re):Y?Ve&&Re&&(d||!Be):ne?Ve&&Re&&!Be&&(d||!it):!Be&&!it&&(d?Pe<=n:Pe<n);Ke?E=Ee+1:P=Ee}return Ir(P,4294967294)}function Rh(e,n){for(var s=-1,d=e.length,E=0,P=[];++s<d;){var $=e[s],Y=n?n($):$;if(!s||!mn(Y,ne)){var ne=Y;P[E++]=0===$?0:$}}return P}function Nh(e){return"number"==typeof e?e:Wr(e)?NaN:+e}function qr(e){if("string"==typeof e)return e;if(et(e))return Ht(e,qr)+"";if(Wr(e))return lh?lh.call(e):"";var n=e+"";return"0"==n&&1/e==-mi?"-0":n}function oi(e,n,s){var d=-1,E=bo,P=e.length,$=!0,Y=[],ne=Y;if(s)$=!1,E=wu;else if(P>=200){var we=n?null:hb(e);if(we)return Eo(we);$=!1,E=Os,ne=new Di}else ne=n?[]:Y;e:for(;++d<P;){var Ee=e[d],Pe=n?n(Ee):Ee;if(Ee=s||0!==Ee?Ee:0,$&&Pe==Pe){for(var Re=ne.length;Re--;)if(ne[Re]===Pe)continue e;n&&ne.push(Pe),Y.push(Ee)}else E(ne,Pe,s)||(ne!==Y&&ne.push(Pe),Y.push(Ee))}return Y}function Wu(e,n){return null==(e=ad(e,n=ai(n,e)))||delete e[Tn(un(n))]}function Fh(e,n,s,d){return Ls(e,n,s(Si(e,n)),d)}function Ho(e,n,s,d){for(var E=e.length,P=d?E:-1;(d?P--:++P<E)&&n(e[P],P,e););return s?an(e,d?0:P,d?P+1:E):an(e,d?P+1:0,d?E:P)}function jh(e,n){var s=e;return s instanceof pt&&(s=s.value()),Eu(n,function(d,E){return E.func.apply(E.thisArg,ri([d],E.args))},s)}function ku(e,n,s){var d=e.length;if(d<2)return d?oi(e[0]):[];for(var E=-1,P=ge(d);++E<d;)for(var $=e[E],Y=-1;++Y<d;)Y!=E&&(P[E]=Ns(P[E]||$,e[Y],n,s));return oi(Sr(P,1),n,s)}function Lh(e,n,s){for(var d=-1,E=e.length,P=n.length,$={};++d<E;)s($,e[d],d<P?n[d]:t);return $}function Gu(e){return er(e)?e:[]}function Ju(e){return"function"==typeof e?e:Br}function ai(e,n){return et(e)?e:sc(e,n)?[e]:ld(It(e))}var rb=at;function ui(e,n,s){var d=e.length;return s=s===t?d:s,!n&&s>=d?e:an(e,n,s)}var Uh=Z1||function(e){return xr.clearTimeout(e)};function Mh(e,n){if(n)return e.slice();var s=e.length,d=sh?sh(s):new e.constructor(s);return e.copy(d),d}function Yu(e){var n=new e.constructor(e.byteLength);return new Po(n).set(new Po(e)),n}function Bh(e,n){var s=n?Yu(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function $h(e,n){if(e!==n){var s=e!==t,d=null===e,E=e==e,P=Wr(e),$=n!==t,Y=null===n,ne=n==n,we=Wr(n);if(!Y&&!we&&!P&&e>n||P&&$&&ne&&!Y&&!we||d&&$&&ne||!s&&ne||!E)return 1;if(!d&&!P&&!we&&e<n||we&&s&&E&&!d&&!P||Y&&s&&E||!$&&E||!ne)return-1}return 0}function zh(e,n,s,d){for(var E=-1,P=e.length,$=s.length,Y=-1,ne=n.length,we=_r(P-$,0),Ee=ge(ne+we),Pe=!d;++Y<ne;)Ee[Y]=n[Y];for(;++E<$;)(Pe||E<P)&&(Ee[s[E]]=e[E]);for(;we--;)Ee[Y++]=e[E++];return Ee}function Hh(e,n,s,d){for(var E=-1,P=e.length,$=-1,Y=s.length,ne=-1,we=n.length,Ee=_r(P-Y,0),Pe=ge(Ee+we),Re=!d;++E<Ee;)Pe[E]=e[E];for(var Be=E;++ne<we;)Pe[Be+ne]=n[ne];for(;++$<Y;)(Re||E<P)&&(Pe[Be+s[$]]=e[E++]);return Pe}function Lr(e,n){var s=-1,d=e.length;for(n||(n=ge(d));++s<d;)n[s]=e[s];return n}function Cn(e,n,s,d){var E=!s;s||(s={});for(var P=-1,$=n.length;++P<$;){var Y=n[P],ne=d?d(s[Y],e[Y],Y,s,e):t;ne===t&&(ne=e[Y]),E?$n(s,Y,ne):Rs(s,Y,ne)}return s}function Zo(e,n){return function(s,d){var E=et(s)?d1:Cm,P=n?n():{};return E(s,e,Ze(d,2),P)}}function Yi(e){return at(function(n,s){var d=-1,E=s.length,P=E>1?s[E-1]:t,$=E>2?s[2]:t;for(P=e.length>3&&"function"==typeof P?(E--,P):t,$&&Rr(s[0],s[1],$)&&(P=E<3?t:P,E=1),n=jt(n);++d<E;){var Y=s[d];Y&&e(n,Y,d,P)}return n})}function Zh(e,n){return function(s,d){if(null==s)return s;if(!Ur(s))return e(s,d);for(var E=s.length,P=n?E:-1,$=jt(s);(n?P--:++P<E)&&!1!==d($[P],P,$););return s}}function Vh(e){return function(n,s,d){for(var E=-1,P=jt(n),$=d(n),Y=$.length;Y--;){var ne=$[e?Y:++E];if(!1===s(P[ne],ne,P))break}return n}}function Kh(e){return function(n){var s=Vi(n=It(n))?yn(n):t,d=s?s[0]:n.charAt(0),E=s?ui(s,1).join(""):n.slice(1);return d[e]()+E}}function Xi(e){return function(n){return Eu(Zd(Hd(n).replace(Qv,"")),e,"")}}function Us(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=Ji(e.prototype),d=e.apply(s,n);return Zt(d)?d:s}}function qh(e){return function(n,s,d){var E=jt(n);if(!Ur(n)){var P=Ze(s,3);n=mr(n),s=function(Y){return P(E[Y],Y,E)}}var $=e(n,s,d);return $>-1?E[P?n[$]:$]:t}}function Wh(e){return Hn(function(n){var s=n.length,d=s,E=sn.prototype.thru;for(e&&n.reverse();d--;){var P=n[d];if("function"!=typeof P)throw new nn(g);if(E&&!$&&"wrapper"==ko(P))var $=new sn([],!0)}for(d=$?d:s;++d<s;){var Y=ko(P=n[d]),ne="wrapper"==Y?rc(P):t;$=ne&&oc(ne[0])&&424==ne[1]&&!ne[4].length&&1==ne[9]?$[ko(ne[0])].apply($,ne[3]):1==P.length&&oc(P)?$[Y]():$.thru(P)}return function(){var we=arguments,Ee=we[0];if($&&1==we.length&&et(Ee))return $.plant(Ee).value();for(var Pe=0,Re=s?n[Pe].apply(this,we):Ee;++Pe<s;)Re=n[Pe].call(this,Re);return Re}})}function Vo(e,n,s,d,E,P,$,Y,ne,we){var Ee=128&n,Pe=1&n,Re=2&n,Be=24&n,Ve=512&n,it=Re?t:Us(e);return function Ke(){for(var lt=arguments.length,yt=ge(lt),kr=lt;kr--;)yt[kr]=arguments[kr];if(Be)var Nr=Qi(Ke),Gr=E1(yt,Nr);if(d&&(yt=zh(yt,d,E,Be)),P&&(yt=Hh(yt,P,$,Be)),lt-=Gr,Be&&lt<we){var tr=ni(yt,Nr);return Jh(e,n,Vo,Ke.placeholder,s,yt,tr,Y,ne,we-lt)}var bn=Pe?s:this,qn=Re?bn[e]:e;return lt=yt.length,Y?yt=Cb(yt,Y):Ve&&lt>1&&yt.reverse(),Ee&&ne<lt&&(yt.length=ne),this&&this!==xr&&this instanceof Ke&&(qn=it||Us(qn)),qn.apply(bn,yt)}}function kh(e,n){return function(s,d){return function Mm(e,n,s,d){return An(e,function(E,P,$){n(d,s(E),P,$)}),d}(s,e,n(d),{})}}function Ko(e,n){return function(s,d){var E;if(s===t&&d===t)return n;if(s!==t&&(E=s),d!==t){if(E===t)return d;"string"==typeof s||"string"==typeof d?(s=qr(s),d=qr(d)):(s=Nh(s),d=Nh(d)),E=e(s,d)}return E}}function Xu(e){return Hn(function(n){return n=Ht(n,Kr(Ze())),at(function(s){var d=this;return e(n,function(E){return Vr(E,d,s)})})})}function qo(e,n){var s=(n=n===t?" ":qr(n)).length;if(s<2)return s?Ku(n,e):n;var d=Ku(n,Ro(e/Ki(n)));return Vi(n)?ui(yn(d),0,e).join(""):d.slice(0,e)}function Gh(e){return function(n,s,d){return d&&"number"!=typeof d&&Rr(n,s,d)&&(s=d=t),n=Kn(n),s===t?(s=n,n=0):s=Kn(s),function Jm(e,n,s,d){for(var E=-1,P=_r(Ro((n-e)/(s||1)),0),$=ge(P);P--;)$[d?P:++E]=e,e+=s;return $}(n,s,d=d===t?n<s?1:-1:Kn(d),e)}}function Wo(e){return function(n,s){return"string"==typeof n&&"string"==typeof s||(n=cn(n),s=cn(s)),e(n,s)}}function Jh(e,n,s,d,E,P,$,Y,ne,we){var Ee=8&n;n|=Ee?32:64,4&(n&=~(Ee?64:32))||(n&=-4);var it=[e,n,E,Ee?P:t,Ee?$:t,Ee?t:P,Ee?t:$,Y,ne,we],Ke=s.apply(t,it);return oc(e)&&ud(Ke,it),Ke.placeholder=d,cd(Ke,e,n)}function Qu(e){var n=gr[e];return function(s,d){if(s=cn(s),(d=null==d?0:Ir(rt(d),292))&&ch(s)){var E=(It(s)+"e").split("e");return+((E=(It(n(E[0]+"e"+(+E[1]+d)))+"e").split("e"))[0]+"e"+(+E[1]-d))}return n(s)}}var hb=ki&&1/Eo(new ki([,-0]))[1]==mi?function(e){return new ki(e)}:wc;function Yh(e){return function(n){var s=Pr(n);return s==gn?Au(n):s==_n?function A1(re){var ve=-1,ge=Array(re.size);return re.forEach(function(Ue){ge[++ve]=[Ue,Ue]}),ge}(n):function w1(re,ve){return Ht(ve,function(ge){return[ge,re[ge]]})}(n,e(n))}}function zn(e,n,s,d,E,P,$,Y){var ne=2&n;if(!ne&&"function"!=typeof e)throw new nn(g);var we=d?d.length:0;if(we||(n&=-97,d=E=t),$=$===t?$:_r(rt($),0),Y=Y===t?Y:rt(Y),we-=E?E.length:0,64&n){var Ee=d,Pe=E;d=E=t}var Re=ne?t:rc(e),Be=[e,n,s,d,E,Ee,Pe,P,$,Y];if(Re&&function Ib(e,n){var s=e[1],d=n[1],E=s|d;if(!(E<131||(128==d&&8==s||128==d&&256==s&&e[7].length<=n[8]||384==d&&n[7].length<=n[8]&&8==s)))return e;1&d&&(e[2]=n[2],E|=1&s?0:4);var Y=n[3];if(Y){var ne=e[3];e[3]=ne?zh(ne,Y,n[4]):Y,e[4]=ne?ni(e[3],de):n[4]}(Y=n[5])&&(e[5]=(ne=e[5])?Hh(ne,Y,n[6]):Y,e[6]=ne?ni(e[5],de):n[6]),(Y=n[7])&&(e[7]=Y),128&d&&(e[8]=null==e[8]?n[8]:Ir(e[8],n[8])),null==e[9]&&(e[9]=n[9]),e[0]=n[0],e[1]=E}(Be,Re),e=Be[0],n=Be[1],s=Be[2],d=Be[3],E=Be[4],!(Y=Be[9]=Be[9]===t?ne?0:e.length:_r(Be[9]-we,0))&&24&n&&(n&=-25),n&&1!=n)Ve=8==n||16==n?function fb(e,n,s){var d=Us(e);return function E(){for(var P=arguments.length,$=ge(P),Y=P,ne=Qi(E);Y--;)$[Y]=arguments[Y];var we=P<3&&$[0]!==ne&&$[P-1]!==ne?[]:ni($,ne);return(P-=we.length)<s?Jh(e,n,Vo,E.placeholder,t,$,we,t,t,s-P):Vr(this&&this!==xr&&this instanceof E?d:e,this,$)}}(e,n,Y):32!=n&&33!=n||E.length?Vo.apply(t,Be):function lb(e,n,s,d){var E=1&n,P=Us(e);return function $(){for(var Y=-1,ne=arguments.length,we=-1,Ee=d.length,Pe=ge(Ee+ne),Re=this&&this!==xr&&this instanceof $?P:e;++we<Ee;)Pe[we]=d[we];for(;ne--;)Pe[we++]=arguments[++Y];return Vr(Re,E?s:this,Pe)}}(e,n,s,d);else var Ve=function cb(e,n,s){var d=1&n,E=Us(e);return function P(){return(this&&this!==xr&&this instanceof P?E:e).apply(d?s:this,arguments)}}(e,n,s);return cd((Re?Th:ud)(Ve,Be),e,n)}function Xh(e,n,s,d){return e===t||mn(e,Wi[s])&&!At.call(d,s)?n:e}function Qh(e,n,s,d,E,P){return Zt(e)&&Zt(n)&&(P.set(n,e),$o(e,n,t,Qh,P),P.delete(n)),e}function db(e){return $s(e)?t:e}function ed(e,n,s,d,E,P){var $=1&s,Y=e.length,ne=n.length;if(Y!=ne&&!($&&ne>Y))return!1;var we=P.get(e),Ee=P.get(n);if(we&&Ee)return we==n&&Ee==e;var Pe=-1,Re=!0,Be=2&s?new Di:t;for(P.set(e,n),P.set(n,e);++Pe<Y;){var Ve=e[Pe],it=n[Pe];if(d)var Ke=$?d(it,Ve,Pe,n,e,P):d(Ve,it,Pe,e,n,P);if(Ke!==t){if(Ke)continue;Re=!1;break}if(Be){if(!Du(n,function(lt,yt){if(!Os(Be,yt)&&(Ve===lt||E(Ve,lt,s,d,P)))return Be.push(yt)})){Re=!1;break}}else if(Ve!==it&&!E(Ve,it,s,d,P)){Re=!1;break}}return P.delete(e),P.delete(n),Re}function Hn(e){return uc(od(e,t,gd),e+"")}function ec(e){return bh(e,mr,ic)}function tc(e){return bh(e,Mr,td)}var rc=Fo?function(e){return Fo.get(e)}:wc;function ko(e){for(var n=e.name+"",s=Gi[n],d=At.call(Gi,n)?s.length:0;d--;){var E=s[d],P=E.func;if(null==P||P==e)return E.name}return n}function Qi(e){return(At.call(O,"placeholder")?O:e).placeholder}function Ze(){var e=O.iteratee||mc;return e=e===mc?Dh:e,arguments.length?e(arguments[0],arguments[1]):e}function Go(e,n){var s=e.__data__;return function Db(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?s["string"==typeof n?"string":"hash"]:s.map}function nc(e){for(var n=mr(e),s=n.length;s--;){var d=n[s],E=e[d];n[s]=[d,E,id(E)]}return n}function Oi(e,n){var s=function O1(re,ve){return null==re?t:re[ve]}(e,n);return Eh(s)?s:t}var ic=Tu?function(e){return null==e?[]:(e=jt(e),ti(Tu(e),function(n){return ah.call(e,n)}))}:Ec,td=Tu?function(e){for(var n=[];e;)ri(n,ic(e)),e=Ao(e);return n}:Ec,Pr=Tr;function rd(e,n,s){for(var d=-1,E=(n=ai(n,e)).length,P=!1;++d<E;){var $=Tn(n[d]);if(!(P=null!=e&&s(e,$)))break;e=e[$]}return P||++d!=E?P:!!(E=null==e?0:e.length)&&ra(E)&&Zn($,E)&&(et(e)||Pi(e))}function nd(e){return"function"!=typeof e.constructor||Ms(e)?{}:Ji(Ao(e))}function Eb(e){return et(e)||Pi(e)||!!(uh&&e&&e[uh])}function Zn(e,n){var s=typeof e;return!!(n=n??ei)&&("number"==s||"symbol"!=s&&Fv.test(e))&&e>-1&&e%1==0&&e<n}function Rr(e,n,s){if(!Zt(s))return!1;var d=typeof n;return!!("number"==d?Ur(s)&&Zn(n,s.length):"string"==d&&n in s)&&mn(s[n],e)}function sc(e,n){if(et(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!Wr(e))||mv.test(e)||!vv.test(e)||null!=n&&e in jt(n)}function oc(e){var n=ko(e),s=O[n];if("function"!=typeof s||!(n in pt.prototype))return!1;if(e===s)return!0;var d=rc(s);return!!d&&e===d[0]}(Ru&&Pr(new Ru(new ArrayBuffer(1)))!=zi||Ps&&Pr(new Ps)!=gn||Nu&&Pr(Nu.resolve())!=yl||ki&&Pr(new ki)!=_n||As&&Pr(new As)!=xs)&&(Pr=function(e){var n=Tr(e),s=n==Un?e.constructor:t,d=s?Ii(s):"";if(d)switch(d){case X1:return zi;case Q1:return gn;case em:return yl;case tm:return _n;case rm:return xs}return n});var Sb=xo?Vn:Dc;function Ms(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||Wi)}function id(e){return e==e&&!Zt(e)}function sd(e,n){return function(s){return null!=s&&s[e]===n&&(n!==t||e in jt(s))}}function od(e,n,s){return n=_r(n===t?e.length-1:n,0),function(){for(var d=arguments,E=-1,P=_r(d.length-n,0),$=ge(P);++E<P;)$[E]=d[n+E];E=-1;for(var Y=ge(n+1);++E<n;)Y[E]=d[E];return Y[n]=s($),Vr(e,this,Y)}}function ad(e,n){return n.length<2?e:Si(e,an(n,0,-1))}function Cb(e,n){for(var s=e.length,d=Ir(n.length,s),E=Lr(e);d--;){var P=n[d];e[d]=Zn(P,s)?E[P]:t}return e}function ac(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]}var ud=fd(Th),Bs=K1||function(e,n){return xr.setTimeout(e,n)},uc=fd(Qm);function cd(e,n,s){var d=n+"";return uc(e,function wb(e,n){var s=n.length;if(!s)return e;var d=s-1;return n[d]=(s>1?"& ":"")+n[d],n=n.join(s>2?", ":" "),e.replace(Dv,"{\n/* [wrapped with "+n+"] */\n")}(d,function Tb(e,n){return rn(iv,function(s){var d="_."+s[0];n&s[1]&&!bo(e,d)&&e.push(d)}),e.sort()}(function vb(e){var n=e.match(xv);return n?n[1].split(Sv):[]}(d),s)))}function fd(e){var n=0,s=0;return function(){var d=G1(),E=16-(d-s);if(s=d,E>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(t,arguments)}}function Jo(e,n){var s=-1,d=e.length,E=d-1;for(n=n===t?d:n;++s<n;){var P=Vu(s,E),$=e[P];e[P]=e[s],e[s]=$}return e.length=n,e}var ld=function Ob(e){var n=ea(e,function(d){return 500===s.size&&s.clear(),d}),s=n.cache;return n}(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(bv,function(s,d,E,P){n.push(E?P.replace(Pv,"$1"):d||s)}),n});function Tn(e){if("string"==typeof e||Wr(e))return e;var n=e+"";return"0"==n&&1/e==-mi?"-0":n}function Ii(e){if(null!=e){try{return So.call(e)}catch{}try{return e+""}catch{}}return""}function hd(e){if(e instanceof pt)return e.clone();var n=new sn(e.__wrapped__,e.__chain__);return n.__actions__=Lr(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}var jb=at(function(e,n){return er(e)?Ns(e,Sr(n,1,er,!0)):[]}),Lb=at(function(e,n){var s=un(n);return er(s)&&(s=t),er(e)?Ns(e,Sr(n,1,er,!0),Ze(s,2)):[]}),Ub=at(function(e,n){var s=un(n);return er(s)&&(s=t),er(e)?Ns(e,Sr(n,1,er,!0),t,s):[]});function dd(e,n,s){var d=null==e?0:e.length;if(!d)return-1;var E=null==s?0:rt(s);return E<0&&(E=_r(d+E,0)),wo(e,Ze(n,3),E)}function pd(e,n,s){var d=null==e?0:e.length;if(!d)return-1;var E=d-1;return s!==t&&(E=rt(s),E=s<0?_r(d+E,0):Ir(E,d-1)),wo(e,Ze(n,3),E,!0)}function gd(e){return null!=e&&e.length?Sr(e,1):[]}function _d(e){return e&&e.length?e[0]:t}var kb=at(function(e){var n=Ht(e,Gu);return n.length&&n[0]===e[0]?Bu(n):[]}),Gb=at(function(e){var n=un(e),s=Ht(e,Gu);return n===un(s)?n=t:s.pop(),s.length&&s[0]===e[0]?Bu(s,Ze(n,2)):[]}),Jb=at(function(e){var n=un(e),s=Ht(e,Gu);return(n="function"==typeof n?n:t)&&s.pop(),s.length&&s[0]===e[0]?Bu(s,t,n):[]});function un(e){var n=null==e?0:e.length;return n?e[n-1]:t}var ew=at(yd);function yd(e,n){return e&&e.length&&n&&n.length?Zu(e,n):e}var nw=Hn(function(e,n){var s=null==e?0:e.length,d=ju(e,n);return Ch(e,Ht(n,function(E){return Zn(E,s)?+E:E}).sort($h)),d});function cc(e){return null==e?e:Y1.call(e)}var mw=at(function(e){return oi(Sr(e,1,er,!0))}),bw=at(function(e){var n=un(e);return er(n)&&(n=t),oi(Sr(e,1,er,!0),Ze(n,2))}),ww=at(function(e){var n=un(e);return n="function"==typeof n?n:t,oi(Sr(e,1,er,!0),t,n)});function fc(e){if(!e||!e.length)return[];var n=0;return e=ti(e,function(s){if(er(s))return n=_r(s.length,n),!0}),Iu(n,function(s){return Ht(e,xu(s))})}function vd(e,n){if(!e||!e.length)return[];var s=fc(e);return null==n?s:Ht(s,function(d){return Vr(n,t,d)})}var Sw=at(function(e,n){return er(e)?Ns(e,n):[]}),Ow=at(function(e){return ku(ti(e,er))}),Iw=at(function(e){var n=un(e);return er(n)&&(n=t),ku(ti(e,er),Ze(n,2))}),Pw=at(function(e){var n=un(e);return n="function"==typeof n?n:t,ku(ti(e,er),t,n)}),Aw=at(fc),Rw=at(function(e){var n=e.length,s=n>1?e[n-1]:t;return s="function"==typeof s?(e.pop(),s):t,vd(e,s)});function md(e){var n=O(e);return n.__chain__=!0,n}function Yo(e,n){return n(e)}var Fw=Hn(function(e){var n=e.length,s=n?e[0]:0,d=this.__wrapped__,E=function(P){return ju(P,e)};return!(n>1||this.__actions__.length)&&d instanceof pt&&Zn(s)?((d=d.slice(s,+s+(n?1:0))).__actions__.push({func:Yo,args:[E],thisArg:t}),new sn(d,this.__chain__).thru(function(P){return n&&!P.length&&P.push(t),P})):this.thru(E)}),Hw=Zo(function(e,n,s){At.call(e,s)?++e[s]:$n(e,s,1)}),Kw=qh(dd),qw=qh(pd);function bd(e,n){return(et(e)?rn:si)(e,Ze(n,3))}function wd(e,n){return(et(e)?p1:yh)(e,Ze(n,3))}var Jw=Zo(function(e,n,s){At.call(e,s)?e[s].push(n):$n(e,s,[n])}),Xw=at(function(e,n,s){var d=-1,E="function"==typeof n,P=Ur(e)?ge(e.length):[];return si(e,function($){P[++d]=E?Vr(n,$,s):Fs($,n,s)}),P}),Qw=Zo(function(e,n,s){$n(e,s,n)});function Xo(e,n){return(et(e)?Ht:xh)(e,Ze(n,3))}var tE=Zo(function(e,n,s){e[s?0:1].push(n)},function(){return[[],[]]}),fE=at(function(e,n){if(null==e)return[];var s=n.length;return s>1&&Rr(e,n[0],n[1])?n=[]:s>2&&Rr(n[0],n[1],n[2])&&(n=[n[0]]),Ph(e,Sr(n,1),[])}),Qo=V1||function(){return xr.Date.now()};function Ed(e,n,s){return n=s?t:n,zn(e,128,t,t,t,t,n=e&&null==n?e.length:n)}function Dd(e,n){var s;if("function"!=typeof n)throw new nn(g);return e=rt(e),function(){return--e>0&&(s=n.apply(this,arguments)),e<=1&&(n=t),s}}var lc=at(function(e,n,s){var d=1;if(s.length){var E=ni(s,Qi(lc));d|=32}return zn(e,d,n,s,E)}),xd=at(function(e,n,s){var d=3;if(s.length){var E=ni(s,Qi(xd));d|=32}return zn(n,d,e,s,E)});function Id(e,n,s){var d,E,P,$,Y,ne,we=0,Ee=!1,Pe=!1,Re=!0;if("function"!=typeof e)throw new nn(g);function Be(tr){var bn=d,qn=E;return d=E=t,we=tr,$=e.apply(qn,bn)}function Ve(tr){return we=tr,Y=Bs(lt,n),Ee?Be(tr):$}function Ke(tr){var bn=tr-ne;return ne===t||bn>=n||bn<0||Pe&&tr-we>=P}function lt(){var tr=Qo();if(Ke(tr))return yt(tr);Y=Bs(lt,function it(tr){var qd=n-(tr-ne);return Pe?Ir(qd,P-(tr-we)):qd}(tr))}function yt(tr){return Y=t,Re&&d?Be(tr):(d=E=t,$)}function Gr(){var tr=Qo(),bn=Ke(tr);if(d=arguments,E=this,ne=tr,bn){if(Y===t)return Ve(ne);if(Pe)return Uh(Y),Y=Bs(lt,n),Be(ne)}return Y===t&&(Y=Bs(lt,n)),$}return n=cn(n)||0,Zt(s)&&(Ee=!!s.leading,P=(Pe="maxWait"in s)?_r(cn(s.maxWait)||0,n):P,Re="trailing"in s?!!s.trailing:Re),Gr.cancel=function kr(){Y!==t&&Uh(Y),we=0,d=ne=E=Y=t},Gr.flush=function Nr(){return Y===t?$:yt(Qo())},Gr}var hE=at(function(e,n){return _h(e,1,n)}),dE=at(function(e,n,s){return _h(e,cn(n)||0,s)});function ea(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new nn(g);var s=function(){var d=arguments,E=n?n.apply(this,d):d[0],P=s.cache;if(P.has(E))return P.get(E);var $=e.apply(this,d);return s.cache=P.set(E,$)||P,$};return s.cache=new(ea.Cache||Bn),s}function ta(e){if("function"!=typeof e)throw new nn(g);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}ea.Cache=Bn;var _E=rb(function(e,n){var s=(n=1==n.length&&et(n[0])?Ht(n[0],Kr(Ze())):Ht(Sr(n,1),Kr(Ze()))).length;return at(function(d){for(var E=-1,P=Ir(d.length,s);++E<P;)d[E]=n[E].call(this,d[E]);return Vr(e,this,d)})}),hc=at(function(e,n){var s=ni(n,Qi(hc));return zn(e,32,t,n,s)}),Pd=at(function(e,n){var s=ni(n,Qi(Pd));return zn(e,64,t,n,s)}),yE=Hn(function(e,n){return zn(e,256,t,t,t,n)});function mn(e,n){return e===n||e!=e&&n!=n}var AE=Wo(Mu),CE=Wo(function(e,n){return e>=n}),Pi=wh(function(){return arguments}())?wh:function(e){return Jt(e)&&At.call(e,"callee")&&!ah.call(e,"callee")},et=ge.isArray,TE=Hl?Kr(Hl):function Bm(e){return Jt(e)&&Tr(e)==Ss};function Ur(e){return null!=e&&ra(e.length)&&!Vn(e)}function er(e){return Jt(e)&&Ur(e)}var ci=q1||Dc,NE=Zl?Kr(Zl):function $m(e){return Jt(e)&&Tr(e)==bs};function dc(e){if(!Jt(e))return!1;var n=Tr(e);return n==po||"[object DOMException]"==n||"string"==typeof e.message&&"string"==typeof e.name&&!$s(e)}function Vn(e){if(!Zt(e))return!1;var n=Tr(e);return n==go||n==_l||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Ad(e){return"number"==typeof e&&e==rt(e)}function ra(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ei}function Zt(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function Jt(e){return null!=e&&"object"==typeof e}var Cd=Vl?Kr(Vl):function Hm(e){return Jt(e)&&Pr(e)==gn};function Td(e){return"number"==typeof e||Jt(e)&&Tr(e)==ws}function $s(e){if(!Jt(e)||Tr(e)!=Un)return!1;var n=Ao(e);if(null===n)return!0;var s=At.call(n,"constructor")&&n.constructor;return"function"==typeof s&&s instanceof s&&So.call(s)==$1}var pc=Kl?Kr(Kl):function Zm(e){return Jt(e)&&Tr(e)==Es},Rd=ql?Kr(ql):function Vm(e){return Jt(e)&&Pr(e)==_n};function na(e){return"string"==typeof e||!et(e)&&Jt(e)&&Tr(e)==Ds}function Wr(e){return"symbol"==typeof e||Jt(e)&&Tr(e)==_o}var es=Wl?Kr(Wl):function Km(e){return Jt(e)&&ra(e.length)&&!!Mt[Tr(e)]},GE=Wo(Hu),JE=Wo(function(e,n){return e<=n});function Nd(e){if(!e)return[];if(Ur(e))return na(e)?yn(e):Lr(e);if(Is&&e[Is])return function P1(re){for(var ve,ge=[];!(ve=re.next()).done;)ge.push(ve.value);return ge}(e[Is]());var n=Pr(e);return(n==gn?Au:n==_n?Eo:ts)(e)}function Kn(e){return e?(e=cn(e))===mi||e===-mi?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rt(e){var n=Kn(e),s=n%1;return n==n?s?n-s:n:0}function Fd(e){return e?xi(rt(e),0,Pn):0}function cn(e){if("number"==typeof e)return e;if(Wr(e))return NaN;if(Zt(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Zt(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=Ql(e);var s=Tv.test(e);return s||Nv.test(e)?l1(e.slice(2),s?2:8):Cv.test(e)?NaN:+e}function jd(e){return Cn(e,Mr(e))}function It(e){return null==e?"":qr(e)}var XE=Yi(function(e,n){if(Ms(n)||Ur(n))Cn(n,mr(n),e);else for(var s in n)At.call(n,s)&&Rs(e,s,n[s])}),Ld=Yi(function(e,n){Cn(n,Mr(n),e)}),ia=Yi(function(e,n,s,d){Cn(n,Mr(n),e,d)}),QE=Yi(function(e,n,s,d){Cn(n,mr(n),e,d)}),e3=Hn(ju),r3=at(function(e,n){e=jt(e);var s=-1,d=n.length,E=d>2?n[2]:t;for(E&&Rr(n[0],n[1],E)&&(d=1);++s<d;)for(var P=n[s],$=Mr(P),Y=-1,ne=$.length;++Y<ne;){var we=$[Y],Ee=e[we];(Ee===t||mn(Ee,Wi[we])&&!At.call(e,we))&&(e[we]=P[we])}return e}),n3=at(function(e){return e.push(t,Qh),Vr(Ud,t,e)});function gc(e,n,s){var d=null==e?t:Si(e,n);return d===t?s:d}function _c(e,n){return null!=e&&rd(e,n,Lm)}var d3=kh(function(e,n,s){null!=n&&"function"!=typeof n.toString&&(n=Oo.call(n)),e[n]=s},vc(Br)),p3=kh(function(e,n,s){null!=n&&"function"!=typeof n.toString&&(n=Oo.call(n)),At.call(e,n)?e[n].push(s):e[n]=[s]},Ze),g3=at(Fs);function mr(e){return Ur(e)?hh(e):zu(e)}function Mr(e){return Ur(e)?hh(e,!0):function qm(e){if(!Zt(e))return function Pb(e){var n=[];if(null!=e)for(var s in jt(e))n.push(s);return n}(e);var n=Ms(e),s=[];for(var d in e)"constructor"==d&&(n||!At.call(e,d))||s.push(d);return s}(e)}var v3=Yi(function(e,n,s){$o(e,n,s)}),Ud=Yi(function(e,n,s,d){$o(e,n,s,d)}),m3=Hn(function(e,n){var s={};if(null==e)return s;var d=!1;n=Ht(n,function(P){return P=ai(P,e),d||(d=P.length>1),P}),Cn(e,tc(e),s),d&&(s=on(s,7,db));for(var E=n.length;E--;)Wu(s,n[E]);return s}),w3=Hn(function(e,n){return null==e?{}:function km(e,n){return Ah(e,n,function(s,d){return _c(e,d)})}(e,n)});function Md(e,n){if(null==e)return{};var s=Ht(tc(e),function(d){return[d]});return n=Ze(n),Ah(e,s,function(d,E){return n(d,E[0])})}var Bd=Yh(mr),$d=Yh(Mr);function ts(e){return null==e?[]:Pu(e,mr(e))}var N3=Xi(function(e,n,s){return n=n.toLowerCase(),e+(s?zd(n):n)});function zd(e){return yc(It(e).toLowerCase())}function Hd(e){return(e=It(e))&&e.replace(jv,D1).replace(e1,"")}var U3=Xi(function(e,n,s){return e+(s?"-":"")+n.toLowerCase()}),M3=Xi(function(e,n,s){return e+(s?" ":"")+n.toLowerCase()}),B3=Kh("toLowerCase"),q3=Xi(function(e,n,s){return e+(s?"_":"")+n.toLowerCase()}),k3=Xi(function(e,n,s){return e+(s?" ":"")+yc(n)}),i2=Xi(function(e,n,s){return e+(s?" ":"")+n.toUpperCase()}),yc=Kh("toUpperCase");function Zd(e,n,s){return e=It(e),(n=s?t:n)===t?function I1(re){return n1.test(re)}(e)?function j1(re){return re.match(t1)||[]}(e):function v1(re){return re.match(Ov)||[]}(e):e.match(n)||[]}var Vd=at(function(e,n){try{return Vr(e,t,n)}catch(s){return dc(s)?s:new Ye(s)}}),s2=Hn(function(e,n){return rn(n,function(s){s=Tn(s),$n(e,s,lc(e[s],e))}),e});function vc(e){return function(){return e}}var c2=Wh(),f2=Wh(!0);function Br(e){return e}function mc(e){return Dh("function"==typeof e?e:on(e,1))}var d2=at(function(e,n){return function(s){return Fs(s,e,n)}}),p2=at(function(e,n){return function(s){return Fs(e,s,n)}});function bc(e,n,s){var d=mr(n),E=Bo(n,d);null==s&&(!Zt(n)||!E.length&&d.length)&&(s=n,n=e,e=this,E=Bo(n,mr(n)));var P=!(Zt(s)&&"chain"in s&&!s.chain),$=Vn(e);return rn(E,function(Y){var ne=n[Y];e[Y]=ne,$&&(e.prototype[Y]=function(){var we=this.__chain__;if(P||we){var Ee=e(this.__wrapped__),Pe=Ee.__actions__=Lr(this.__actions__);return Pe.push({func:ne,args:arguments,thisArg:e}),Ee.__chain__=we,Ee}return ne.apply(e,ri([this.value()],arguments))})}),e}function wc(){}var y2=Xu(Ht),v2=Xu(kl),m2=Xu(Du);function Kd(e){return sc(e)?xu(Tn(e)):function Gm(e){return function(n){return Si(n,e)}}(e)}var w2=Gh(),E2=Gh(!0);function Ec(){return[]}function Dc(){return!1}var A2=Ko(function(e,n){return e+n},0),C2=Qu("ceil"),T2=Ko(function(e,n){return e/n},1),R2=Qu("floor"),B2=Ko(function(e,n){return e*n},1),$2=Qu("round"),z2=Ko(function(e,n){return e-n},0);return O.after=function lE(e,n){if("function"!=typeof n)throw new nn(g);return e=rt(e),function(){if(--e<1)return n.apply(this,arguments)}},O.ary=Ed,O.assign=XE,O.assignIn=Ld,O.assignInWith=ia,O.assignWith=QE,O.at=e3,O.before=Dd,O.bind=lc,O.bindAll=s2,O.bindKey=xd,O.castArray=function DE(){if(!arguments.length)return[];var e=arguments[0];return et(e)?e:[e]},O.chain=md,O.chunk=function Rb(e,n,s){n=(s?Rr(e,n,s):n===t)?1:_r(rt(n),0);var d=null==e?0:e.length;if(!d||n<1)return[];for(var E=0,P=0,$=ge(Ro(d/n));E<d;)$[P++]=an(e,E,E+=n);return $},O.compact=function Nb(e){for(var n=-1,s=null==e?0:e.length,d=0,E=[];++n<s;){var P=e[n];P&&(E[d++]=P)}return E},O.concat=function Fb(){var e=arguments.length;if(!e)return[];for(var n=ge(e-1),s=arguments[0],d=e;d--;)n[d-1]=arguments[d];return ri(et(s)?Lr(s):[s],Sr(n,1))},O.cond=function o2(e){var n=null==e?0:e.length,s=Ze();return e=n?Ht(e,function(d){if("function"!=typeof d[1])throw new nn(g);return[s(d[0]),d[1]]}):[],at(function(d){for(var E=-1;++E<n;){var P=e[E];if(Vr(P[0],this,d))return Vr(P[1],this,d)}})},O.conforms=function a2(e){return function Rm(e){var n=mr(e);return function(s){return gh(s,e,n)}}(on(e,1))},O.constant=vc,O.countBy=Hw,O.create=function t3(e,n){var s=Ji(e);return null==n?s:ph(s,n)},O.curry=function Sd(e,n,s){var d=zn(e,8,t,t,t,t,t,n=s?t:n);return d.placeholder=Sd.placeholder,d},O.curryRight=function Od(e,n,s){var d=zn(e,16,t,t,t,t,t,n=s?t:n);return d.placeholder=Od.placeholder,d},O.debounce=Id,O.defaults=r3,O.defaultsDeep=n3,O.defer=hE,O.delay=dE,O.difference=jb,O.differenceBy=Lb,O.differenceWith=Ub,O.drop=function Mb(e,n,s){var d=null==e?0:e.length;return d?an(e,(n=s||n===t?1:rt(n))<0?0:n,d):[]},O.dropRight=function Bb(e,n,s){var d=null==e?0:e.length;return d?an(e,0,(n=d-(n=s||n===t?1:rt(n)))<0?0:n):[]},O.dropRightWhile=function $b(e,n){return e&&e.length?Ho(e,Ze(n,3),!0,!0):[]},O.dropWhile=function zb(e,n){return e&&e.length?Ho(e,Ze(n,3),!0):[]},O.fill=function Hb(e,n,s,d){var E=null==e?0:e.length;return E?(s&&"number"!=typeof s&&Rr(e,n,s)&&(s=0,d=E),function Fm(e,n,s,d){var E=e.length;for((s=rt(s))<0&&(s=-s>E?0:E+s),(d=d===t||d>E?E:rt(d))<0&&(d+=E),d=s>d?0:Fd(d);s<d;)e[s++]=n;return e}(e,n,s,d)):[]},O.filter=function Vw(e,n){return(et(e)?ti:vh)(e,Ze(n,3))},O.flatMap=function Ww(e,n){return Sr(Xo(e,n),1)},O.flatMapDeep=function kw(e,n){return Sr(Xo(e,n),mi)},O.flatMapDepth=function Gw(e,n,s){return s=s===t?1:rt(s),Sr(Xo(e,n),s)},O.flatten=gd,O.flattenDeep=function Zb(e){return null!=e&&e.length?Sr(e,mi):[]},O.flattenDepth=function Vb(e,n){return null!=e&&e.length?Sr(e,n=n===t?1:rt(n)):[]},O.flip=function pE(e){return zn(e,512)},O.flow=c2,O.flowRight=f2,O.fromPairs=function Kb(e){for(var n=-1,s=null==e?0:e.length,d={};++n<s;){var E=e[n];d[E[0]]=E[1]}return d},O.functions=function f3(e){return null==e?[]:Bo(e,mr(e))},O.functionsIn=function l3(e){return null==e?[]:Bo(e,Mr(e))},O.groupBy=Jw,O.initial=function Wb(e){return null!=e&&e.length?an(e,0,-1):[]},O.intersection=kb,O.intersectionBy=Gb,O.intersectionWith=Jb,O.invert=d3,O.invertBy=p3,O.invokeMap=Xw,O.iteratee=mc,O.keyBy=Qw,O.keys=mr,O.keysIn=Mr,O.map=Xo,O.mapKeys=function _3(e,n){var s={};return n=Ze(n,3),An(e,function(d,E,P){$n(s,n(d,E,P),d)}),s},O.mapValues=function y3(e,n){var s={};return n=Ze(n,3),An(e,function(d,E,P){$n(s,E,n(d,E,P))}),s},O.matches=function l2(e){return Sh(on(e,1))},O.matchesProperty=function h2(e,n){return Oh(e,on(n,1))},O.memoize=ea,O.merge=v3,O.mergeWith=Ud,O.method=d2,O.methodOf=p2,O.mixin=bc,O.negate=ta,O.nthArg=function _2(e){return e=rt(e),at(function(n){return Ih(n,e)})},O.omit=m3,O.omitBy=function b3(e,n){return Md(e,ta(Ze(n)))},O.once=function gE(e){return Dd(2,e)},O.orderBy=function eE(e,n,s,d){return null==e?[]:(et(n)||(n=null==n?[]:[n]),et(s=d?t:s)||(s=null==s?[]:[s]),Ph(e,n,s))},O.over=y2,O.overArgs=_E,O.overEvery=v2,O.overSome=m2,O.partial=hc,O.partialRight=Pd,O.partition=tE,O.pick=w3,O.pickBy=Md,O.property=Kd,O.propertyOf=function b2(e){return function(n){return null==e?t:Si(e,n)}},O.pull=ew,O.pullAll=yd,O.pullAllBy=function tw(e,n,s){return e&&e.length&&n&&n.length?Zu(e,n,Ze(s,2)):e},O.pullAllWith=function rw(e,n,s){return e&&e.length&&n&&n.length?Zu(e,n,t,s):e},O.pullAt=nw,O.range=w2,O.rangeRight=E2,O.rearg=yE,O.reject=function iE(e,n){return(et(e)?ti:vh)(e,ta(Ze(n,3)))},O.remove=function iw(e,n){var s=[];if(!e||!e.length)return s;var d=-1,E=[],P=e.length;for(n=Ze(n,3);++d<P;){var $=e[d];n($,d,e)&&(s.push($),E.push(d))}return Ch(e,E),s},O.rest=function vE(e,n){if("function"!=typeof e)throw new nn(g);return at(e,n=n===t?n:rt(n))},O.reverse=cc,O.sampleSize=function oE(e,n,s){return n=(s?Rr(e,n,s):n===t)?1:rt(n),(et(e)?Pm:Xm)(e,n)},O.set=function D3(e,n,s){return null==e?e:Ls(e,n,s)},O.setWith=function x3(e,n,s,d){return d="function"==typeof d?d:t,null==e?e:Ls(e,n,s,d)},O.shuffle=function aE(e){return(et(e)?Am:eb)(e)},O.slice=function sw(e,n,s){var d=null==e?0:e.length;return d?(s&&"number"!=typeof s&&Rr(e,n,s)?(n=0,s=d):(n=null==n?0:rt(n),s=s===t?d:rt(s)),an(e,n,s)):[]},O.sortBy=fE,O.sortedUniq=function hw(e){return e&&e.length?Rh(e):[]},O.sortedUniqBy=function dw(e,n){return e&&e.length?Rh(e,Ze(n,2)):[]},O.split=function W3(e,n,s){return s&&"number"!=typeof s&&Rr(e,n,s)&&(n=s=t),(s=s===t?Pn:s>>>0)?(e=It(e))&&("string"==typeof n||null!=n&&!pc(n))&&!(n=qr(n))&&Vi(e)?ui(yn(e),0,s):e.split(n,s):[]},O.spread=function mE(e,n){if("function"!=typeof e)throw new nn(g);return n=null==n?0:_r(rt(n),0),at(function(s){var d=s[n],E=ui(s,0,n);return d&&ri(E,d),Vr(e,this,E)})},O.tail=function pw(e){var n=null==e?0:e.length;return n?an(e,1,n):[]},O.take=function gw(e,n,s){return e&&e.length?an(e,0,(n=s||n===t?1:rt(n))<0?0:n):[]},O.takeRight=function _w(e,n,s){var d=null==e?0:e.length;return d?an(e,(n=d-(n=s||n===t?1:rt(n)))<0?0:n,d):[]},O.takeRightWhile=function yw(e,n){return e&&e.length?Ho(e,Ze(n,3),!1,!0):[]},O.takeWhile=function vw(e,n){return e&&e.length?Ho(e,Ze(n,3)):[]},O.tap=function Nw(e,n){return n(e),e},O.throttle=function bE(e,n,s){var d=!0,E=!0;if("function"!=typeof e)throw new nn(g);return Zt(s)&&(d="leading"in s?!!s.leading:d,E="trailing"in s?!!s.trailing:E),Id(e,n,{leading:d,maxWait:n,trailing:E})},O.thru=Yo,O.toArray=Nd,O.toPairs=Bd,O.toPairsIn=$d,O.toPath=function I2(e){return et(e)?Ht(e,Tn):Wr(e)?[e]:Lr(ld(It(e)))},O.toPlainObject=jd,O.transform=function S3(e,n,s){var d=et(e),E=d||ci(e)||es(e);if(n=Ze(n,4),null==s){var P=e&&e.constructor;s=E?d?new P:[]:Zt(e)&&Vn(P)?Ji(Ao(e)):{}}return(E?rn:An)(e,function($,Y,ne){return n(s,$,Y,ne)}),s},O.unary=function wE(e){return Ed(e,1)},O.union=mw,O.unionBy=bw,O.unionWith=ww,O.uniq=function Ew(e){return e&&e.length?oi(e):[]},O.uniqBy=function Dw(e,n){return e&&e.length?oi(e,Ze(n,2)):[]},O.uniqWith=function xw(e,n){return n="function"==typeof n?n:t,e&&e.length?oi(e,t,n):[]},O.unset=function O3(e,n){return null==e||Wu(e,n)},O.unzip=fc,O.unzipWith=vd,O.update=function I3(e,n,s){return null==e?e:Fh(e,n,Ju(s))},O.updateWith=function P3(e,n,s,d){return d="function"==typeof d?d:t,null==e?e:Fh(e,n,Ju(s),d)},O.values=ts,O.valuesIn=function A3(e){return null==e?[]:Pu(e,Mr(e))},O.without=Sw,O.words=Zd,O.wrap=function EE(e,n){return hc(Ju(n),e)},O.xor=Ow,O.xorBy=Iw,O.xorWith=Pw,O.zip=Aw,O.zipObject=function Cw(e,n){return Lh(e||[],n||[],Rs)},O.zipObjectDeep=function Tw(e,n){return Lh(e||[],n||[],Ls)},O.zipWith=Rw,O.entries=Bd,O.entriesIn=$d,O.extend=Ld,O.extendWith=ia,bc(O,O),O.add=A2,O.attempt=Vd,O.camelCase=N3,O.capitalize=zd,O.ceil=C2,O.clamp=function C3(e,n,s){return s===t&&(s=n,n=t),s!==t&&(s=(s=cn(s))==s?s:0),n!==t&&(n=(n=cn(n))==n?n:0),xi(cn(e),n,s)},O.clone=function xE(e){return on(e,4)},O.cloneDeep=function OE(e){return on(e,5)},O.cloneDeepWith=function IE(e,n){return on(e,5,n="function"==typeof n?n:t)},O.cloneWith=function SE(e,n){return on(e,4,n="function"==typeof n?n:t)},O.conformsTo=function PE(e,n){return null==n||gh(e,n,mr(n))},O.deburr=Hd,O.defaultTo=function u2(e,n){return null==e||e!=e?n:e},O.divide=T2,O.endsWith=function F3(e,n,s){e=It(e),n=qr(n);var d=e.length,E=s=s===t?d:xi(rt(s),0,d);return(s-=n.length)>=0&&e.slice(s,E)==n},O.eq=mn,O.escape=function j3(e){return(e=It(e))&&gv.test(e)?e.replace(ml,x1):e},O.escapeRegExp=function L3(e){return(e=It(e))&&wv.test(e)?e.replace(hu,"\\$&"):e},O.every=function Zw(e,n,s){var d=et(e)?kl:Nm;return s&&Rr(e,n,s)&&(n=t),d(e,Ze(n,3))},O.find=Kw,O.findIndex=dd,O.findKey=function i3(e,n){return Gl(e,Ze(n,3),An)},O.findLast=qw,O.findLastIndex=pd,O.findLastKey=function s3(e,n){return Gl(e,Ze(n,3),Uu)},O.floor=R2,O.forEach=bd,O.forEachRight=wd,O.forIn=function o3(e,n){return null==e?e:Lu(e,Ze(n,3),Mr)},O.forInRight=function a3(e,n){return null==e?e:mh(e,Ze(n,3),Mr)},O.forOwn=function u3(e,n){return e&&An(e,Ze(n,3))},O.forOwnRight=function c3(e,n){return e&&Uu(e,Ze(n,3))},O.get=gc,O.gt=AE,O.gte=CE,O.has=function h3(e,n){return null!=e&&rd(e,n,jm)},O.hasIn=_c,O.head=_d,O.identity=Br,O.includes=function Yw(e,n,s,d){e=Ur(e)?e:ts(e),s=s&&!d?rt(s):0;var E=e.length;return s<0&&(s=_r(E+s,0)),na(e)?s<=E&&e.indexOf(n,s)>-1:!!E&&Zi(e,n,s)>-1},O.indexOf=function qb(e,n,s){var d=null==e?0:e.length;if(!d)return-1;var E=null==s?0:rt(s);return E<0&&(E=_r(d+E,0)),Zi(e,n,E)},O.inRange=function T3(e,n,s){return n=Kn(n),s===t?(s=n,n=0):s=Kn(s),function Um(e,n,s){return e>=Ir(n,s)&&e<_r(n,s)}(e=cn(e),n,s)},O.invoke=g3,O.isArguments=Pi,O.isArray=et,O.isArrayBuffer=TE,O.isArrayLike=Ur,O.isArrayLikeObject=er,O.isBoolean=function RE(e){return!0===e||!1===e||Jt(e)&&Tr(e)==ms},O.isBuffer=ci,O.isDate=NE,O.isElement=function FE(e){return Jt(e)&&1===e.nodeType&&!$s(e)},O.isEmpty=function jE(e){if(null==e)return!0;if(Ur(e)&&(et(e)||"string"==typeof e||"function"==typeof e.splice||ci(e)||es(e)||Pi(e)))return!e.length;var n=Pr(e);if(n==gn||n==_n)return!e.size;if(Ms(e))return!zu(e).length;for(var s in e)if(At.call(e,s))return!1;return!0},O.isEqual=function LE(e,n){return js(e,n)},O.isEqualWith=function UE(e,n,s){var d=(s="function"==typeof s?s:t)?s(e,n):t;return d===t?js(e,n,t,s):!!d},O.isError=dc,O.isFinite=function ME(e){return"number"==typeof e&&ch(e)},O.isFunction=Vn,O.isInteger=Ad,O.isLength=ra,O.isMap=Cd,O.isMatch=function BE(e,n){return e===n||$u(e,n,nc(n))},O.isMatchWith=function $E(e,n,s){return s="function"==typeof s?s:t,$u(e,n,nc(n),s)},O.isNaN=function zE(e){return Td(e)&&e!=+e},O.isNative=function HE(e){if(Sb(e))throw new Ye("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Eh(e)},O.isNil=function VE(e){return null==e},O.isNull=function ZE(e){return null===e},O.isNumber=Td,O.isObject=Zt,O.isObjectLike=Jt,O.isPlainObject=$s,O.isRegExp=pc,O.isSafeInteger=function KE(e){return Ad(e)&&e>=-ei&&e<=ei},O.isSet=Rd,O.isString=na,O.isSymbol=Wr,O.isTypedArray=es,O.isUndefined=function qE(e){return e===t},O.isWeakMap=function WE(e){return Jt(e)&&Pr(e)==xs},O.isWeakSet=function kE(e){return Jt(e)&&"[object WeakSet]"==Tr(e)},O.join=function Yb(e,n){return null==e?"":W1.call(e,n)},O.kebabCase=U3,O.last=un,O.lastIndexOf=function Xb(e,n,s){var d=null==e?0:e.length;if(!d)return-1;var E=d;return s!==t&&(E=(E=rt(s))<0?_r(d+E,0):Ir(E,d-1)),n==n?function T1(re,ve,ge){for(var Ue=ge+1;Ue--;)if(re[Ue]===ve)return Ue;return Ue}(e,n,E):wo(e,Jl,E,!0)},O.lowerCase=M3,O.lowerFirst=B3,O.lt=GE,O.lte=JE,O.max=function N2(e){return e&&e.length?Mo(e,Br,Mu):t},O.maxBy=function F2(e,n){return e&&e.length?Mo(e,Ze(n,2),Mu):t},O.mean=function j2(e){return Yl(e,Br)},O.meanBy=function L2(e,n){return Yl(e,Ze(n,2))},O.min=function U2(e){return e&&e.length?Mo(e,Br,Hu):t},O.minBy=function M2(e,n){return e&&e.length?Mo(e,Ze(n,2),Hu):t},O.stubArray=Ec,O.stubFalse=Dc,O.stubObject=function D2(){return{}},O.stubString=function x2(){return""},O.stubTrue=function S2(){return!0},O.multiply=B2,O.nth=function Qb(e,n){return e&&e.length?Ih(e,rt(n)):t},O.noConflict=function g2(){return xr._===this&&(xr._=z1),this},O.noop=wc,O.now=Qo,O.pad=function $3(e,n,s){e=It(e);var d=(n=rt(n))?Ki(e):0;if(!n||d>=n)return e;var E=(n-d)/2;return qo(No(E),s)+e+qo(Ro(E),s)},O.padEnd=function z3(e,n,s){e=It(e);var d=(n=rt(n))?Ki(e):0;return n&&d<n?e+qo(n-d,s):e},O.padStart=function H3(e,n,s){e=It(e);var d=(n=rt(n))?Ki(e):0;return n&&d<n?qo(n-d,s)+e:e},O.parseInt=function Z3(e,n,s){return s||null==n?n=0:n&&(n=+n),J1(It(e).replace(du,""),n||0)},O.random=function R3(e,n,s){if(s&&"boolean"!=typeof s&&Rr(e,n,s)&&(n=s=t),s===t&&("boolean"==typeof n?(s=n,n=t):"boolean"==typeof e&&(s=e,e=t)),e===t&&n===t?(e=0,n=1):(e=Kn(e),n===t?(n=e,e=0):n=Kn(n)),e>n){var d=e;e=n,n=d}if(s||e%1||n%1){var E=fh();return Ir(e+E*(n-e+f1("1e-"+((E+"").length-1))),n)}return Vu(e,n)},O.reduce=function rE(e,n,s){var d=et(e)?Eu:Xl,E=arguments.length<3;return d(e,Ze(n,4),s,E,si)},O.reduceRight=function nE(e,n,s){var d=et(e)?g1:Xl,E=arguments.length<3;return d(e,Ze(n,4),s,E,yh)},O.repeat=function V3(e,n,s){return n=(s?Rr(e,n,s):n===t)?1:rt(n),Ku(It(e),n)},O.replace=function K3(){var e=arguments,n=It(e[0]);return e.length<3?n:n.replace(e[1],e[2])},O.result=function E3(e,n,s){var d=-1,E=(n=ai(n,e)).length;for(E||(E=1,e=t);++d<E;){var P=null==e?t:e[Tn(n[d])];P===t&&(d=E,P=s),e=Vn(P)?P.call(e):P}return e},O.round=$2,O.runInContext=re,O.sample=function sE(e){return(et(e)?dh:Ym)(e)},O.size=function uE(e){if(null==e)return 0;if(Ur(e))return na(e)?Ki(e):e.length;var n=Pr(e);return n==gn||n==_n?e.size:zu(e).length},O.snakeCase=q3,O.some=function cE(e,n,s){var d=et(e)?Du:tb;return s&&Rr(e,n,s)&&(n=t),d(e,Ze(n,3))},O.sortedIndex=function ow(e,n){return zo(e,n)},O.sortedIndexBy=function aw(e,n,s){return qu(e,n,Ze(s,2))},O.sortedIndexOf=function uw(e,n){var s=null==e?0:e.length;if(s){var d=zo(e,n);if(d<s&&mn(e[d],n))return d}return-1},O.sortedLastIndex=function cw(e,n){return zo(e,n,!0)},O.sortedLastIndexBy=function fw(e,n,s){return qu(e,n,Ze(s,2),!0)},O.sortedLastIndexOf=function lw(e,n){if(null!=e&&e.length){var d=zo(e,n,!0)-1;if(mn(e[d],n))return d}return-1},O.startCase=k3,O.startsWith=function G3(e,n,s){return e=It(e),s=null==s?0:xi(rt(s),0,e.length),n=qr(n),e.slice(s,s+n.length)==n},O.subtract=z2,O.sum=function H2(e){return e&&e.length?Ou(e,Br):0},O.sumBy=function Z2(e,n){return e&&e.length?Ou(e,Ze(n,2)):0},O.template=function J3(e,n,s){var d=O.templateSettings;s&&Rr(e,n,s)&&(n=t),e=It(e),n=ia({},n,d,Xh);var Y,ne,E=ia({},n.imports,d.imports,Xh),P=mr(E),$=Pu(E,P),we=0,Ee=n.interpolate||yo,Pe="__p += '",Re=Cu((n.escape||yo).source+"|"+Ee.source+"|"+(Ee===bl?Av:yo).source+"|"+(n.evaluate||yo).source+"|$","g"),Be="//# sourceURL="+(At.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++s1+"]")+"\n";e.replace(Re,function(Ke,lt,yt,kr,Nr,Gr){return yt||(yt=kr),Pe+=e.slice(we,Gr).replace(Lv,S1),lt&&(Y=!0,Pe+="' +\n__e("+lt+") +\n'"),Nr&&(ne=!0,Pe+="';\n"+Nr+";\n__p += '"),yt&&(Pe+="' +\n((__t = ("+yt+")) == null ? '' : __t) +\n'"),we=Gr+Ke.length,Ke}),Pe+="';\n";var Ve=At.call(n,"variable")&&n.variable;if(Ve){if(Iv.test(Ve))throw new Ye("Invalid `variable` option passed into `_.template`")}else Pe="with (obj) {\n"+Pe+"\n}\n";Pe=(ne?Pe.replace(lv,""):Pe).replace(hv,"$1").replace(dv,"$1;"),Pe="function("+(Ve||"obj")+") {\n"+(Ve?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Y?", __e = _.escape":"")+(ne?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Pe+"return __p\n}";var it=Vd(function(){return St(P,Be+"return "+Pe).apply(t,$)});if(it.source=Pe,dc(it))throw it;return it},O.times=function O2(e,n){if((e=rt(e))<1||e>ei)return[];var s=Pn,d=Ir(e,Pn);n=Ze(n),e-=Pn;for(var E=Iu(d,n);++s<e;)n(s);return E},O.toFinite=Kn,O.toInteger=rt,O.toLength=Fd,O.toLower=function Y3(e){return It(e).toLowerCase()},O.toNumber=cn,O.toSafeInteger=function YE(e){return e?xi(rt(e),-ei,ei):0===e?e:0},O.toString=It,O.toUpper=function X3(e){return It(e).toUpperCase()},O.trim=function Q3(e,n,s){if((e=It(e))&&(s||n===t))return Ql(e);if(!e||!(n=qr(n)))return e;var d=yn(e),E=yn(n);return ui(d,eh(d,E),th(d,E)+1).join("")},O.trimEnd=function e2(e,n,s){if((e=It(e))&&(s||n===t))return e.slice(0,nh(e)+1);if(!e||!(n=qr(n)))return e;var d=yn(e);return ui(d,0,th(d,yn(n))+1).join("")},O.trimStart=function t2(e,n,s){if((e=It(e))&&(s||n===t))return e.replace(du,"");if(!e||!(n=qr(n)))return e;var d=yn(e);return ui(d,eh(d,yn(n))).join("")},O.truncate=function r2(e,n){var s=30,d="...";if(Zt(n)){var E="separator"in n?n.separator:E;s="length"in n?rt(n.length):s,d="omission"in n?qr(n.omission):d}var P=(e=It(e)).length;if(Vi(e)){var $=yn(e);P=$.length}if(s>=P)return e;var Y=s-Ki(d);if(Y<1)return d;var ne=$?ui($,0,Y).join(""):e.slice(0,Y);if(E===t)return ne+d;if($&&(Y+=ne.length-Y),pc(E)){if(e.slice(Y).search(E)){var we,Ee=ne;for(E.global||(E=Cu(E.source,It(wl.exec(E))+"g")),E.lastIndex=0;we=E.exec(Ee);)var Pe=we.index;ne=ne.slice(0,Pe===t?Y:Pe)}}else if(e.indexOf(qr(E),Y)!=Y){var Re=ne.lastIndexOf(E);Re>-1&&(ne=ne.slice(0,Re))}return ne+d},O.unescape=function n2(e){return(e=It(e))&&pv.test(e)?e.replace(vl,R1):e},O.uniqueId=function P2(e){var n=++B1;return It(e)+n},O.upperCase=i2,O.upperFirst=yc,O.each=bd,O.eachRight=wd,O.first=_d,bc(O,function(){var e={};return An(O,function(n,s){At.call(O.prototype,s)||(e[s]=n)}),e}(),{chain:!1}),O.VERSION="4.17.21",rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){O[e].placeholder=O}),rn(["drop","take"],function(e,n){pt.prototype[e]=function(s){s=s===t?1:_r(rt(s),0);var d=this.__filtered__&&!n?new pt(this):this.clone();return d.__filtered__?d.__takeCount__=Ir(s,d.__takeCount__):d.__views__.push({size:Ir(s,Pn),type:e+(d.__dir__<0?"Right":"")}),d},pt.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),rn(["filter","map","takeWhile"],function(e,n){var s=n+1,d=1==s||3==s;pt.prototype[e]=function(E){var P=this.clone();return P.__iteratees__.push({iteratee:Ze(E,3),type:s}),P.__filtered__=P.__filtered__||d,P}}),rn(["head","last"],function(e,n){var s="take"+(n?"Right":"");pt.prototype[e]=function(){return this[s](1).value()[0]}}),rn(["initial","tail"],function(e,n){var s="drop"+(n?"":"Right");pt.prototype[e]=function(){return this.__filtered__?new pt(this):this[s](1)}}),pt.prototype.compact=function(){return this.filter(Br)},pt.prototype.find=function(e){return this.filter(e).head()},pt.prototype.findLast=function(e){return this.reverse().find(e)},pt.prototype.invokeMap=at(function(e,n){return"function"==typeof e?new pt(this):this.map(function(s){return Fs(s,e,n)})}),pt.prototype.reject=function(e){return this.filter(ta(Ze(e)))},pt.prototype.slice=function(e,n){e=rt(e);var s=this;return s.__filtered__&&(e>0||n<0)?new pt(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),n!==t&&(s=(n=rt(n))<0?s.dropRight(-n):s.take(n-e)),s)},pt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},pt.prototype.toArray=function(){return this.take(Pn)},An(pt.prototype,function(e,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),d=/^(?:head|last)$/.test(n),E=O[d?"take"+("last"==n?"Right":""):n],P=d||/^find/.test(n);E&&(O.prototype[n]=function(){var $=this.__wrapped__,Y=d?[1]:arguments,ne=$ instanceof pt,we=Y[0],Ee=ne||et($),Pe=function(lt){var yt=E.apply(O,ri([lt],Y));return d&&Re?yt[0]:yt};Ee&&s&&"function"==typeof we&&1!=we.length&&(ne=Ee=!1);var Re=this.__chain__,Be=!!this.__actions__.length,Ve=P&&!Re,it=ne&&!Be;if(!P&&Ee){$=it?$:new pt(this);var Ke=e.apply($,Y);return Ke.__actions__.push({func:Yo,args:[Pe],thisArg:t}),new sn(Ke,Re)}return Ve&&it?e.apply(this,Y):(Ke=this.thru(Pe),Ve?d?Ke.value()[0]:Ke.value():Ke)})}),rn(["pop","push","shift","sort","splice","unshift"],function(e){var n=Do[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",d=/^(?:pop|shift)$/.test(e);O.prototype[e]=function(){var E=arguments;if(d&&!this.__chain__){var P=this.value();return n.apply(et(P)?P:[],E)}return this[s](function($){return n.apply(et($)?$:[],E)})}}),An(pt.prototype,function(e,n){var s=O[n];if(s){var d=s.name+"";At.call(Gi,d)||(Gi[d]=[]),Gi[d].push({name:n,func:s})}}),Gi[Vo(t,2).name]=[{name:"wrapper",func:t}],pt.prototype.clone=function nm(){var e=new pt(this.__wrapped__);return e.__actions__=Lr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Lr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Lr(this.__views__),e},pt.prototype.reverse=function im(){if(this.__filtered__){var e=new pt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},pt.prototype.value=function sm(){var e=this.__wrapped__.value(),n=this.__dir__,s=et(e),d=n<0,E=s?e.length:0,P=function yb(e,n,s){for(var d=-1,E=s.length;++d<E;){var P=s[d],$=P.size;switch(P.type){case"drop":e+=$;break;case"dropRight":n-=$;break;case"take":n=Ir(n,e+$);break;case"takeRight":e=_r(e,n-$)}}return{start:e,end:n}}(0,E,this.__views__),$=P.start,Y=P.end,ne=Y-$,we=d?Y:$-1,Ee=this.__iteratees__,Pe=Ee.length,Re=0,Be=Ir(ne,this.__takeCount__);if(!s||!d&&E==ne&&Be==ne)return jh(e,this.__actions__);var Ve=[];e:for(;ne--&&Re<Be;){for(var it=-1,Ke=e[we+=n];++it<Pe;){var lt=Ee[it],kr=lt.type,Nr=(0,lt.iteratee)(Ke);if(2==kr)Ke=Nr;else if(!Nr){if(1==kr)continue e;break e}}Ve[Re++]=Ke}return Ve},O.prototype.at=Fw,O.prototype.chain=function jw(){return md(this)},O.prototype.commit=function Lw(){return new sn(this.value(),this.__chain__)},O.prototype.next=function Uw(){this.__values__===t&&(this.__values__=Nd(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?t:this.__values__[this.__index__++]}},O.prototype.plant=function Bw(e){for(var n,s=this;s instanceof Lo;){var d=hd(s);d.__index__=0,d.__values__=t,n?E.__wrapped__=d:n=d;var E=d;s=s.__wrapped__}return E.__wrapped__=e,n},O.prototype.reverse=function $w(){var e=this.__wrapped__;if(e instanceof pt){var n=e;return this.__actions__.length&&(n=new pt(this)),(n=n.reverse()).__actions__.push({func:Yo,args:[cc],thisArg:t}),new sn(n,this.__chain__)}return this.thru(cc)},O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=function zw(){return jh(this.__wrapped__,this.__actions__)},O.prototype.first=O.prototype.head,Is&&(O.prototype[Is]=function Mw(){return this}),O}();bi?((bi.exports=qi)._=qi,mu._=qi):xr._=qi}.call(vs);var Dy=Object.defineProperty,xy=Object.defineProperties,Sy=Object.getOwnPropertyDescriptors,ul=Object.getOwnPropertySymbols,Oy=Object.prototype.hasOwnProperty,Iy=Object.prototype.propertyIsEnumerable,cl=(a,r,t)=>r in a?Dy(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,co=(a,r)=>{for(var t in r||(r={}))Oy.call(r,t)&&cl(a,t,r[t]);if(ul)for(var t of ul(r))Iy.call(r,t)&&cl(a,t,r[t]);return a},Py=(a,r)=>xy(a,Sy(r));function en(a,r,t){let o;const u=Qa(a);return r.rpcMap&&(o=r.rpcMap[u]),o||(o=`https://rpc.walletconnect.com/v1?chainId=eip155:${u}&projectId=${t}`),o}function Qa(a){return a.includes("eip155")?Number(a.split(":")[1]):Number(a)}function fl(a){return a.map(r=>`${r.split(":")[0]}:${r.split(":")[1]}`)}function ll(a){var r,t,o,u;const l={};if(!vi(a))return l;for(const[g,A]of Object.entries(a)){const Q=eo(g)?[g]:A.chains,G=A.methods||[],de=A.events||[],Ie=A.rpcMap||{},He=fs(g);l[He]=Py(co(co({},l[He]),A),{chains:Sn(Q,null==(r=l[He])?void 0:r.chains),methods:Sn(G,null==(t=l[He])?void 0:t.methods),events:Sn(de,null==(o=l[He])?void 0:o.events),rpcMap:co(co({},Ie),null==(u=l[He])?void 0:u.rpcMap)})}return l}function Ty(a){return a.includes(":")?a.split(":")[2]:a}function Ry(a){const r={};for(const[t,o]of Object.entries(a)){const u=o.methods||[],l=o.events||[],g=o.accounts||[],A=eo(t)?[t]:o.chains?o.chains:fl(o.accounts);r[t]={chains:A,methods:u,events:l,accounts:g}}return r}const hl={},Qt=a=>hl[a],eu=(a,r)=>{hl[a]=r};class Ny{constructor(r){this.name="polkadot",this.namespace=r.namespace,this.events=Qt("events"),this.client=Qt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(this.chainId=r,!this.httpProviders[r]){const o=t||en(`${this.name}:${r}`,this.namespace);if(!o)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r&&r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var o;r[t]=this.createHttpProvider(t,null==(o=this.namespace.rpcMap)?void 0:o[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const o=this.createHttpProvider(r,t);o&&(this.httpProviders[r]=o)}createHttpProvider(r,t){const o=t||en(r,this.namespace);return typeof o>"u"?void 0:new Jn(new Bi(o,Qt("disableProviderPing")))}}class Fy{constructor(r){this.name="eip155",this.namespace=r.namespace,this.events=Qt("events"),this.client=Qt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(r){var t=this;return(0,S.Z)(function*(){switch(r.request.method){case"eth_requestAccounts":case"eth_accounts":return t.getAccounts();case"wallet_switchEthereumChain":return yield t.handleSwitchChain(r);case"eth_chainId":return parseInt(t.getDefaultChain())}return t.namespace.methods.includes(r.request.method)?yield t.client.request(r):t.getHttpProvider().request(r.request)})()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}setDefaultChain(r,t){const o=Qa(r);if(!this.httpProviders[o]){const u=t||en(`${this.name}:${o}`,this.namespace,this.client.core.projectId);if(!u)throw new Error(`No RPC url provided for chainId: ${o}`);this.setHttpProvider(o,u)}this.chainId=o,this.events.emit("default_chain_changed",`${this.name}:${o}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}createHttpProvider(r,t){const o=t||en(`${this.name}:${r}`,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Jn(new sl(o,Qt("disableProviderPing")))}setHttpProvider(r,t){const o=this.createHttpProvider(r,t);o&&(this.httpProviders[r]=o)}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var o;const u=Qa(t);r[u]=this.createHttpProvider(u,null==(o=this.namespace.rpcMap)?void 0:o[t])}),r}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const r=this.chainId,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}handleSwitchChain(r){var t=this;return(0,S.Z)(function*(){var o,u;let l=r.request.params?null==(o=r.request.params[0])?void 0:o.chainId:"0x0";l=l.startsWith("0x")?l:`0x${l}`;const g=parseInt(l,16);if(t.isChainApproved(g))t.setDefaultChain(`${g}`);else{if(!t.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${g}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);yield t.client.request({topic:r.topic,request:{method:r.request.method,params:[{chainId:l}]},chainId:null==(u=t.namespace.chains)?void 0:u[0]}),t.setDefaultChain(`${g}`)}return null})()}isChainApproved(r){return this.namespace.chains.includes(`${this.name}:${r}`)}}class jy{constructor(r){this.name="solana",this.namespace=r.namespace,this.events=Qt("events"),this.client=Qt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(!this.httpProviders[r]){const o=t||en(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,o)}this.chainId=r,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var o;r[t]=this.createHttpProvider(t,null==(o=this.namespace.rpcMap)?void 0:o[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const o=this.createHttpProvider(r,t);o&&(this.httpProviders[r]=o)}createHttpProvider(r,t){const o=t||en(r,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Jn(new Bi(o,Qt("disableProviderPing")))}}class Ly{constructor(r){this.name="cosmos",this.namespace=r.namespace,this.events=Qt("events"),this.client=Qt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(this.chainId=r,!this.httpProviders[r]){const o=t||en(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var o;r[t]=this.createHttpProvider(t,null==(o=this.namespace.rpcMap)?void 0:o[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const o=this.createHttpProvider(r,t);o&&(this.httpProviders[r]=o)}createHttpProvider(r,t){const o=t||en(r,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Jn(new Bi(o,Qt("disableProviderPing")))}}class Uy{constructor(r){this.name="cip34",this.namespace=r.namespace,this.events=Qt("events"),this.client=Qt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(this.chainId=r,!this.httpProviders[r]){const o=t||this.getCardanoRPCUrl(r);if(!o)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{const o=this.getCardanoRPCUrl(t);r[t]=this.createHttpProvider(t,o)}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}getCardanoRPCUrl(r){const t=this.namespace.rpcMap;if(t)return t[r]}setHttpProvider(r,t){const o=this.createHttpProvider(r,t);o&&(this.httpProviders[r]=o)}createHttpProvider(r,t){const o=t||this.getCardanoRPCUrl(r);return typeof o>"u"?void 0:new Jn(new Bi(o,Qt("disableProviderPing")))}}class My{constructor(r){this.name="elrond",this.namespace=r.namespace,this.events=Qt("events"),this.client=Qt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(!this.httpProviders[r]){const o=t||en(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,o)}this.chainId=r,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var o;r[t]=this.createHttpProvider(t,null==(o=this.namespace.rpcMap)?void 0:o[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const o=this.createHttpProvider(r,t);o&&(this.httpProviders[r]=o)}createHttpProvider(r,t){const o=t||en(r,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Jn(new Bi(o,Qt("disableProviderPing")))}}class By{constructor(r){this.name="multiversx",this.namespace=r.namespace,this.events=Qt("events"),this.client=Qt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,t){if(!this.httpProviders[r]){const o=t||en(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,o)}this.chainId=r,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(t=>{var o;r[t]=this.createHttpProvider(t,null==(o=this.namespace.rpcMap)?void 0:o[t])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,t=this.httpProviders[r];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return t}setHttpProvider(r,t){const o=this.createHttpProvider(r,t);o&&(this.httpProviders[r]=o)}createHttpProvider(r,t){const o=t||en(r,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Jn(new Bi(o,Qt("disableProviderPing")))}}var $y=Object.defineProperty,zy=Object.defineProperties,Hy=Object.getOwnPropertyDescriptors,dl=Object.getOwnPropertySymbols,Zy=Object.prototype.hasOwnProperty,Vy=Object.prototype.propertyIsEnumerable,pl=(a,r,t)=>r in a?$y(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,fo=(a,r)=>{for(var t in r||(r={}))Zy.call(r,t)&&pl(a,t,r[t]);if(dl)for(var t of dl(r))Vy.call(r,t)&&pl(a,t,r[t]);return a},tu=(a,r)=>zy(a,Hy(r));class ru{constructor(r){this.events=new(De()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=r,this.logger=typeof r?.logger<"u"&&"string"!=typeof r?.logger?r.logger:(0,V.pino)((0,V.getDefaultLoggerOptions)({level:r?.logger||"error"})),this.disableProviderPing=r?.disableProviderPing||!1}static init(r){return(0,S.Z)(function*(){const t=new ru(r);return yield t.initialize(),t})()}request(r,t){var o=this;return(0,S.Z)(function*(){const[u,l]=o.validateChain(t);if(!o.session)throw new Error("Please call connect() before request()");return yield o.getProvider(u).request({request:fo({},r),chainId:`${u}:${l}`,topic:o.session.topic})})()}sendAsync(r,t,o){this.request(r,o).then(u=>t(null,u)).catch(u=>t(u,void 0))}enable(){var r=this;return(0,S.Z)(function*(){if(!r.client)throw new Error("Sign Client not initialized");return r.session||(yield r.connect({namespaces:r.namespaces,optionalNamespaces:r.optionalNamespaces,sessionProperties:r.sessionProperties})),yield r.requestAccounts()})()}disconnect(){var r=this;return(0,S.Z)(function*(){var t;if(!r.session)throw new Error("Please call connect() before enable()");yield r.client.disconnect({topic:null==(t=r.session)?void 0:t.topic,reason:lr("USER_DISCONNECTED")}),yield r.cleanup()})()}connect(r){var t=this;return(0,S.Z)(function*(){if(!t.client)throw new Error("Sign Client not initialized");if(t.setNamespaces(r),yield t.cleanupPendingPairings(),!r.skipPairing)return yield t.pair(r.pairingTopic)})()}on(r,t){this.events.on(r,t)}once(r,t){this.events.once(r,t)}removeListener(r,t){this.events.removeListener(r,t)}off(r,t){this.events.off(r,t)}get isWalletConnect(){return!0}pair(r){var t=this;return(0,S.Z)(function*(){t.shouldAbortPairingAttempt=!1;let o=0;do{if(t.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(o>=t.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:u,approval:l}=yield t.client.connect({pairingTopic:r,requiredNamespaces:t.namespaces,optionalNamespaces:t.optionalNamespaces,sessionProperties:t.sessionProperties});u&&(t.uri=u,t.events.emit("display_uri",u)),yield l().then(g=>{t.session=g,t.namespaces||(t.namespaces=Ry(g.namespaces),t.persist("namespaces",t.namespaces))}).catch(g=>{if(g.message!==Qf)throw g;o++})}while(!t.session);return t.onConnect(),t.session})()}setDefaultChain(r,t){try{if(!this.session)return;const[o,u]=this.validateChain(r);this.getProvider(o).setDefaultChain(u,t)}catch(o){if(!/Please call connect/.test(o.message))throw o}}cleanupPendingPairings(r={}){var t=this;return(0,S.Z)(function*(){t.logger.info("Cleaning up inactive pairings...");const o=t.client.pairing.getAll();if(yi(o)){for(const u of o)r.deletePairings?t.client.core.expirer.set(u.topic,0):yield t.client.core.relayer.subscriber.unsubscribe(u.topic);t.logger.info(`Inactive pairings cleared: ${o.length}`)}})()}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}checkStorage(){var r=this;return(0,S.Z)(function*(){r.namespaces=yield r.getFromStore("namespaces"),r.optionalNamespaces=(yield r.getFromStore("optionalNamespaces"))||{},r.client.session.length&&(r.session=r.client.session.get(r.client.session.keys[r.client.session.keys.length-1]),r.createProviders())})()}initialize(){var r=this;return(0,S.Z)(function*(){r.logger.trace("Initialized"),yield r.createClient(),yield r.checkStorage(),r.registerEventListeners()})()}createClient(){var r=this;return(0,S.Z)(function*(){r.client=r.providerOpts.client||(yield Ya.init({logger:r.providerOpts.logger||"error",relayUrl:r.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:r.providerOpts.projectId,metadata:r.providerOpts.metadata,storageOptions:r.providerOpts.storageOptions,storage:r.providerOpts.storage,name:r.providerOpts.name})),r.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const r=[...new Set(Object.keys(this.session.namespaces).map(t=>fs(t)))];eu("client",this.client),eu("events",this.events),eu("disableProviderPing",this.disableProviderPing),r.forEach(t=>{if(!this.session)return;const o=function Ay(a,r){const t=Object.keys(r.namespaces).filter(u=>u.includes(a));if(!t.length)return[];const o=[];return t.forEach(u=>{o.push(...r.namespaces[u].accounts)}),o}(t,this.session),u=fl(o),l=function Cy(a={},r={}){const t=ll(a),o=ll(r);return Xa.exports.merge(t,o)}(this.namespaces,this.optionalNamespaces),g=tu(fo({},l[t]),{accounts:o,chains:u});switch(t){case"eip155":this.rpcProviders[t]=new Fy({namespace:g});break;case"solana":this.rpcProviders[t]=new jy({namespace:g});break;case"cosmos":this.rpcProviders[t]=new Ly({namespace:g});break;case"polkadot":this.rpcProviders[t]=new Ny({namespace:g});break;case"cip34":this.rpcProviders[t]=new Uy({namespace:g});break;case"elrond":this.rpcProviders[t]=new My({namespace:g});break;case"multiversx":this.rpcProviders[t]=new By({namespace:g})}})}registerEventListeners(){var r=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:o}=t,{event:u}=o;if("accountsChanged"===u.name){const l=u.data;l&&yi(l)&&this.events.emit("accountsChanged",l.map(Ty))}else"chainChanged"===u.name?this.onChainChanged(o.chainId):this.events.emit(u.name,u.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:o})=>{var u;const{namespaces:l}=o,g=null==(u=this.client)?void 0:u.session.get(t);this.session=tu(fo({},g),{namespaces:l}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:o})}),this.client.on("session_delete",function(){var t=(0,S.Z)(function*(o){yield r.cleanup(),r.events.emit("session_delete",o),r.events.emit("disconnect",tu(fo({},lr("USER_DISCONNECTED")),{data:o.topic}))});return function(o){return t.apply(this,arguments)}}()),this.on("default_chain_changed",t=>{this.onChainChanged(t,!0)})}getProvider(r){if(!this.rpcProviders[r])throw new Error(`Provider not found: ${r}`);return this.rpcProviders[r]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(r=>{var t;this.getProvider(r).updateNamespace(null==(t=this.session)?void 0:t.namespaces[r])})}setNamespaces(r){const{namespaces:t,optionalNamespaces:o,sessionProperties:u}=r;t&&Object.keys(t).length&&(this.namespaces=t),o&&Object.keys(o).length&&(this.optionalNamespaces=o),this.sessionProperties=u,this.persist("namespaces",t),this.persist("optionalNamespaces",o)}validateChain(r){const[t,o]=r?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,o];if(t&&!Object.keys(this.namespaces||{}).map(g=>fs(g)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&o)return[t,o];const u=fs(Object.keys(this.namespaces)[0]);return[u,this.rpcProviders[u].getDefaultChain()]}requestAccounts(){var r=this;return(0,S.Z)(function*(){const[t]=r.validateChain();return yield r.getProvider(t).requestAccounts()})()}onChainChanged(r,t=!1){var o;if(!this.namespaces)return;const[u,l]=this.validateChain(r);t||this.getProvider(u).setDefaultChain(l),(null!=(o=this.namespaces[u])?o:this.namespaces[`${u}:${l}`]).defaultChain=l,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",l)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}cleanup(){var r=this;return(0,S.Z)(function*(){r.session=void 0,r.namespaces=void 0,r.optionalNamespaces=void 0,r.sessionProperties=void 0,r.persist("namespaces",void 0),r.persist("optionalNamespaces",void 0),r.persist("sessionProperties",void 0),yield r.cleanupPendingPairings({deletePairings:!0})})()}persist(r,t){this.client.core.storage.setItem(`${al}/${r}`,t)}getFromStore(r){var t=this;return(0,S.Z)(function*(){return yield t.client.core.storage.getItem(`${al}/${r}`)})()}}var Wy=["eip155:1"],ky=function(){return function(a,r,t,o){return new(t||(t=Promise))(function(l,g){function A(de){try{G(o.next(de))}catch(Ie){g(Ie)}}function Q(de){try{G(o.throw(de))}catch(Ie){g(Ie)}}function G(de){de.done?l(de.value):function u(l){return l instanceof t?l:new t(function(g){g(l)})}(de.value).then(A,Q)}G((o=o.apply(a,r||[])).next())})}(void 0,void 0,void 0,function(){return function(a,r){var o,u,l,g,t={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return g={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function A(G){return function(de){return function Q(G){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,G[0]&&(t=0)),t;)try{if(o=1,u&&(l=2&G[0]?u.return:G[0]?u.throw||((l=u.return)&&l.call(u),0):u.next)&&!(l=l.call(u,G[1])).done)return l;switch(u=0,l&&(G=[2&G[0],l.value]),G[0]){case 0:case 1:l=G;break;case 4:return t.label++,{value:G[1],done:!1};case 5:t.label++,u=G[1],G=[0];continue;case 7:G=t.ops.pop(),t.trys.pop();continue;default:if(!(l=(l=t.trys).length>0&&l[l.length-1])&&(6===G[0]||2===G[0])){t=0;continue}if(3===G[0]&&(!l||G[1]>l[0]&&G[1]<l[3])){t.label=G[1];break}if(6===G[0]&&t.label<l[1]){t.label=l[1],l=G;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(G);break}l[2]&&t.ops.pop(),t.trys.pop();continue}G=r.call(a,t)}catch(de){G=[6,de],u=0}finally{o=l=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,de])}}}(this,function(a){switch(a.label){case 0:return[4,ru.init({projectId:"2ec7ead81da1226703ad789c0b2f7b30",logger:"debug",relayUrl:"wss://relay.walletconnect.com"})];case 1:return[2,a.sent()]}})})}},32222:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var M=j(17686);function ie(I,C,w){return void 0===C&&(C=new Uint8Array(2)),void 0===w&&(w=0),C[w+0]=I>>>8,C[w+1]=I>>>0,C}function K(I,C,w){return void 0===C&&(C=new Uint8Array(2)),void 0===w&&(w=0),C[w+0]=I>>>0,C[w+1]=I>>>8,C}function B(I,C){return void 0===C&&(C=0),I[C]<<24|I[C+1]<<16|I[C+2]<<8|I[C+3]}function L(I,C){return void 0===C&&(C=0),(I[C]<<24|I[C+1]<<16|I[C+2]<<8|I[C+3])>>>0}function F(I,C){return void 0===C&&(C=0),I[C+3]<<24|I[C+2]<<16|I[C+1]<<8|I[C]}function ae(I,C){return void 0===C&&(C=0),(I[C+3]<<24|I[C+2]<<16|I[C+1]<<8|I[C])>>>0}function he(I,C,w){return void 0===C&&(C=new Uint8Array(4)),void 0===w&&(w=0),C[w+0]=I>>>24,C[w+1]=I>>>16,C[w+2]=I>>>8,C[w+3]=I>>>0,C}function S(I,C,w){return void 0===C&&(C=new Uint8Array(4)),void 0===w&&(w=0),C[w+0]=I>>>0,C[w+1]=I>>>8,C[w+2]=I>>>16,C[w+3]=I>>>24,C}function V(I,C,w){return void 0===C&&(C=new Uint8Array(8)),void 0===w&&(w=0),he(I/4294967296>>>0,C,w),he(I>>>0,C,w+4),C}function H(I,C,w){return void 0===C&&(C=new Uint8Array(8)),void 0===w&&(w=0),S(I>>>0,C,w),S(I/4294967296>>>0,C,w+4),C}m.readInt16BE=function oe(I,C){return void 0===C&&(C=0),(I[C+0]<<8|I[C+1])<<16>>16},m.readUint16BE=function _e(I,C){return void 0===C&&(C=0),(I[C+0]<<8|I[C+1])>>>0},m.readInt16LE=function fe(I,C){return void 0===C&&(C=0),(I[C+1]<<8|I[C])<<16>>16},m.readUint16LE=function X(I,C){return void 0===C&&(C=0),(I[C+1]<<8|I[C])>>>0},m.writeUint16BE=ie,m.writeInt16BE=ie,m.writeUint16LE=K,m.writeInt16LE=K,m.readInt32BE=B,m.readUint32BE=L,m.readInt32LE=F,m.readUint32LE=ae,m.writeUint32BE=he,m.writeInt32BE=he,m.writeUint32LE=S,m.writeInt32LE=S,m.readInt64BE=function se(I,C){void 0===C&&(C=0);var w=B(I,C),q=B(I,C+4);return 4294967296*w+q-4294967296*(q>>31)},m.readUint64BE=function De(I,C){return void 0===C&&(C=0),4294967296*L(I,C)+L(I,C+4)},m.readInt64LE=function Se(I,C){void 0===C&&(C=0);var w=F(I,C);return 4294967296*F(I,C+4)+w-4294967296*(w>>31)},m.readUint64LE=function be(I,C){void 0===C&&(C=0);var w=ae(I,C);return 4294967296*ae(I,C+4)+w},m.writeUint64BE=V,m.writeInt64BE=V,m.writeUint64LE=H,m.writeInt64LE=H,m.readUintBE=function z(I,C,w){if(void 0===w&&(w=0),I%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(I/8>C.length-w)throw new Error("readUintBE: array is too short for the given bitLength");for(var q=0,ue=1,W=I/8+w-1;W>=w;W--)q+=C[W]*ue,ue*=256;return q},m.readUintLE=function R(I,C,w){if(void 0===w&&(w=0),I%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(I/8>C.length-w)throw new Error("readUintLE: array is too short for the given bitLength");for(var q=0,ue=1,W=w;W<w+I/8;W++)q+=C[W]*ue,ue*=256;return q},m.writeUintBE=function Z(I,C,w,q){if(void 0===w&&(w=new Uint8Array(I/8)),void 0===q&&(q=0),I%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!M.isSafeInteger(C))throw new Error("writeUintBE value must be an integer");for(var ue=1,W=I/8+q-1;W>=q;W--)w[W]=C/ue&255,ue*=256;return w},m.writeUintLE=function T(I,C,w,q){if(void 0===w&&(w=new Uint8Array(I/8)),void 0===q&&(q=0),I%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!M.isSafeInteger(C))throw new Error("writeUintLE value must be an integer");for(var ue=1,W=q;W<q+I/8;W++)w[W]=C/ue&255,ue*=256;return w},m.readFloat32BE=function h(I,C){return void 0===C&&(C=0),new DataView(I.buffer,I.byteOffset,I.byteLength).getFloat32(C)},m.readFloat32LE=function f(I,C){return void 0===C&&(C=0),new DataView(I.buffer,I.byteOffset,I.byteLength).getFloat32(C,!0)},m.readFloat64BE=function v(I,C){return void 0===C&&(C=0),new DataView(I.buffer,I.byteOffset,I.byteLength).getFloat64(C)},m.readFloat64LE=function y(I,C){return void 0===C&&(C=0),new DataView(I.buffer,I.byteOffset,I.byteLength).getFloat64(C,!0)},m.writeFloat32BE=function x(I,C,w){return void 0===C&&(C=new Uint8Array(4)),void 0===w&&(w=0),new DataView(C.buffer,C.byteOffset,C.byteLength).setFloat32(w,I),C},m.writeFloat32LE=function b(I,C,w){return void 0===C&&(C=new Uint8Array(4)),void 0===w&&(w=0),new DataView(C.buffer,C.byteOffset,C.byteLength).setFloat32(w,I,!0),C},m.writeFloat64BE=function p(I,C,w){return void 0===C&&(C=new Uint8Array(8)),void 0===w&&(w=0),new DataView(C.buffer,C.byteOffset,C.byteLength).setFloat64(w,I),C},m.writeFloat64LE=function D(I,C,w){return void 0===C&&(C=new Uint8Array(8)),void 0===w&&(w=0),new DataView(C.buffer,C.byteOffset,C.byteLength).setFloat64(w,I,!0),C}},24553:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var M=j(32222),oe=j(11512);function fe(B,L,F){for(var ae=1634760805,he=857760878,S=2036477234,se=1797285236,De=F[3]<<24|F[2]<<16|F[1]<<8|F[0],Se=F[7]<<24|F[6]<<16|F[5]<<8|F[4],be=F[11]<<24|F[10]<<16|F[9]<<8|F[8],V=F[15]<<24|F[14]<<16|F[13]<<8|F[12],H=F[19]<<24|F[18]<<16|F[17]<<8|F[16],z=F[23]<<24|F[22]<<16|F[21]<<8|F[20],R=F[27]<<24|F[26]<<16|F[25]<<8|F[24],Z=F[31]<<24|F[30]<<16|F[29]<<8|F[28],T=L[3]<<24|L[2]<<16|L[1]<<8|L[0],h=L[7]<<24|L[6]<<16|L[5]<<8|L[4],f=L[11]<<24|L[10]<<16|L[9]<<8|L[8],v=L[15]<<24|L[14]<<16|L[13]<<8|L[12],y=ae,x=he,b=S,p=se,D=De,I=Se,C=be,w=V,q=H,ue=z,W=R,Ae=Z,ye=T,xe=h,Fe=f,Le=v,me=0;me<20;me+=2)D=(D^=q=q+(ye=(ye^=y=y+D|0)>>>16|ye<<16)|0)>>>20|D<<12,I=(I^=ue=ue+(xe=(xe^=x=x+I|0)>>>16|xe<<16)|0)>>>20|I<<12,C=(C^=W=W+(Fe=(Fe^=b=b+C|0)>>>16|Fe<<16)|0)>>>20|C<<12,w=(w^=Ae=Ae+(Le=(Le^=p=p+w|0)>>>16|Le<<16)|0)>>>20|w<<12,C=(C^=W=W+(Fe=(Fe^=b=b+C|0)>>>24|Fe<<8)|0)>>>25|C<<7,w=(w^=Ae=Ae+(Le=(Le^=p=p+w|0)>>>24|Le<<8)|0)>>>25|w<<7,I=(I^=ue=ue+(xe=(xe^=x=x+I|0)>>>24|xe<<8)|0)>>>25|I<<7,D=(D^=q=q+(ye=(ye^=y=y+D|0)>>>24|ye<<8)|0)>>>25|D<<7,I=(I^=W=W+(Le=(Le^=y=y+I|0)>>>16|Le<<16)|0)>>>20|I<<12,C=(C^=Ae=Ae+(ye=(ye^=x=x+C|0)>>>16|ye<<16)|0)>>>20|C<<12,w=(w^=q=q+(xe=(xe^=b=b+w|0)>>>16|xe<<16)|0)>>>20|w<<12,D=(D^=ue=ue+(Fe=(Fe^=p=p+D|0)>>>16|Fe<<16)|0)>>>20|D<<12,w=(w^=q=q+(xe=(xe^=b=b+w|0)>>>24|xe<<8)|0)>>>25|w<<7,D=(D^=ue=ue+(Fe=(Fe^=p=p+D|0)>>>24|Fe<<8)|0)>>>25|D<<7,C=(C^=Ae=Ae+(ye=(ye^=x=x+C|0)>>>24|ye<<8)|0)>>>25|C<<7,I=(I^=W=W+(Le=(Le^=y=y+I|0)>>>24|Le<<8)|0)>>>25|I<<7;M.writeUint32LE(y+ae|0,B,0),M.writeUint32LE(x+he|0,B,4),M.writeUint32LE(b+S|0,B,8),M.writeUint32LE(p+se|0,B,12),M.writeUint32LE(D+De|0,B,16),M.writeUint32LE(I+Se|0,B,20),M.writeUint32LE(C+be|0,B,24),M.writeUint32LE(w+V|0,B,28),M.writeUint32LE(q+H|0,B,32),M.writeUint32LE(ue+z|0,B,36),M.writeUint32LE(W+R|0,B,40),M.writeUint32LE(Ae+Z|0,B,44),M.writeUint32LE(ye+T|0,B,48),M.writeUint32LE(xe+h|0,B,52),M.writeUint32LE(Fe+f|0,B,56),M.writeUint32LE(Le+v|0,B,60)}function X(B,L,F,ae,he){if(void 0===he&&(he=0),32!==B.length)throw new Error("ChaCha: key size must be 32 bytes");if(ae.length<F.length)throw new Error("ChaCha: destination is shorter than source");var S,se;if(0===he){if(8!==L.length&&12!==L.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");(S=new Uint8Array(16)).set(L,se=S.length-L.length)}else{if(16!==L.length)throw new Error("ChaCha nonce with counter must be 16 bytes");S=L,se=he}for(var De=new Uint8Array(64),Se=0;Se<F.length;Se+=64){fe(De,S,B);for(var be=Se;be<Se+64&&be<F.length;be++)ae[be]=F[be]^De[be-Se];K(S,0,se)}return oe.wipe(De),0===he&&oe.wipe(S),ae}function K(B,L,F){for(var ae=1;F--;)B[L]=255&(ae=ae+(255&B[L])|0),ae>>>=8,L++;if(ae>0)throw new Error("ChaCha: counter overflow")}m.streamXOR=X,m.stream=function ie(B,L,F,ae){return void 0===ae&&(ae=0),oe.wipe(F),X(B,L,F,F,ae)}},31118:(Ce,m,j)=>{"use strict";var oe=j(24553),_e=j(83905),fe=j(11512),X=j(32222),ie=j(93386);m.Cv=32,m.WH=12,m.pg=16;var K=new Uint8Array(16),B=function(){function L(F){if(this.nonceLength=m.WH,this.tagLength=m.pg,F.length!==m.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(F)}return L.prototype.seal=function(F,ae,he,S){if(F.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var se=new Uint8Array(16);se.set(F,se.length-F.length);var De=new Uint8Array(32);oe.stream(this._key,se,De,4);var be,Se=ae.length+this.tagLength;if(S){if(S.length!==Se)throw new Error("ChaCha20Poly1305: incorrect destination length");be=S}else be=new Uint8Array(Se);return oe.streamXOR(this._key,se,ae,be,4),this._authenticate(be.subarray(be.length-this.tagLength,be.length),De,be.subarray(0,be.length-this.tagLength),he),fe.wipe(se),be},L.prototype.open=function(F,ae,he,S){if(F.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(ae.length<this.tagLength)return null;var se=new Uint8Array(16);se.set(F,se.length-F.length);var De=new Uint8Array(32);oe.stream(this._key,se,De,4);var Se=new Uint8Array(this.tagLength);if(this._authenticate(Se,De,ae.subarray(0,ae.length-this.tagLength),he),!ie.equal(Se,ae.subarray(ae.length-this.tagLength,ae.length)))return null;var V,be=ae.length-this.tagLength;if(S){if(S.length!==be)throw new Error("ChaCha20Poly1305: incorrect destination length");V=S}else V=new Uint8Array(be);return oe.streamXOR(this._key,se,ae.subarray(0,ae.length-this.tagLength),V,4),fe.wipe(se),V},L.prototype.clean=function(){return fe.wipe(this._key),this},L.prototype._authenticate=function(F,ae,he,S){var se=new _e.Poly1305(ae);S&&(se.update(S),S.length%16>0&&se.update(K.subarray(S.length%16))),se.update(he),he.length%16>0&&se.update(K.subarray(he.length%16));var De=new Uint8Array(8);S&&X.writeUint64LE(S.length,De),se.update(De),X.writeUint64LE(he.length,De),se.update(De);for(var Se=se.digest(),be=0;be<Se.length;be++)F[be]=Se[be];se.clean(),fe.wipe(Se),fe.wipe(De)},L}();m.OK=B},93386:(Ce,m)=>{"use strict";function oe(fe,X){if(fe.length!==X.length)return 0;for(var ie=0,K=0;K<fe.length;K++)ie|=fe[K]^X[K];return 1&ie-1>>>8}Object.defineProperty(m,"__esModule",{value:!0}),m.select=function j(fe,X,ie){return~(fe-1)&X|fe-1&ie},m.lessOrEqual=function M(fe,X){return(0|fe)-(0|X)-1>>>31&1},m.compare=oe,m.equal=function _e(fe,X){return 0!==fe.length&&0!==X.length&&0!==oe(fe,X)}},52877:(Ce,m,j)=>{"use strict";m.Xx=m._w=m.aP=m.KS=m.jQ=void 0;j(7841);const _e=j(85198);j(11512);function X(ce){const le=new Float64Array(16);if(ce)for(let te=0;te<ce.length;te++)le[te]=ce[te];return le}m.jQ=64,m.KS=64,m.aP=32,new Uint8Array(32)[0]=9;const K=X(),B=X([1]),F=(X([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),X([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),ae=X([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),he=X([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);X([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function se(ce,le){for(let te=0;te<16;te++)ce[te]=0|le[te]}function De(ce){let le=1;for(let te=0;te<16;te++){let _=ce[te]+le+65535;le=Math.floor(_/65536),ce[te]=_-65536*le}ce[0]+=le-1+37*(le-1)}function Se(ce,le,te){const _=~(te-1);for(let k=0;k<16;k++){const Te=_&(ce[k]^le[k]);ce[k]^=Te,le[k]^=Te}}function be(ce,le){const te=X(),_=X();for(let k=0;k<16;k++)_[k]=le[k];De(_),De(_),De(_);for(let k=0;k<2;k++){te[0]=_[0]-65517;for(let ze=1;ze<15;ze++)te[ze]=_[ze]-65535-(te[ze-1]>>16&1),te[ze-1]&=65535;te[15]=_[15]-32767-(te[14]>>16&1);const Te=te[15]>>16&1;te[14]&=65535,Se(_,te,1-Te)}for(let k=0;k<16;k++)ce[2*k]=255&_[k],ce[2*k+1]=_[k]>>8}function z(ce){const le=new Uint8Array(32);return be(le,ce),1&le[0]}function Z(ce,le,te){for(let _=0;_<16;_++)ce[_]=le[_]+te[_]}function T(ce,le,te){for(let _=0;_<16;_++)ce[_]=le[_]-te[_]}function h(ce,le,te){let _,k,Te=0,ze=0,st=0,bt=0,ut=0,wt=0,Bt=0,rr=0,ht=0,ot=0,ct=0,nt=0,tt=0,$e=0,qe=0,Xe=0,We=0,ft=0,dt=0,vt=0,mt=0,gt=0,Et=0,Dt=0,Jr=0,br=0,fn=0,Rn=0,Wn=0,wn=0,En=0,Vt=te[0],Kt=te[1],qt=te[2],$t=te[3],Yt=te[4],Xt=te[5],nr=te[6],ir=te[7],sr=te[8],Wt=te[9],kt=te[10],Rt=te[11],hr=te[12],or=te[13],ar=te[14],ur=te[15];_=le[0],Te+=_*Vt,ze+=_*Kt,st+=_*qt,bt+=_*$t,ut+=_*Yt,wt+=_*Xt,Bt+=_*nr,rr+=_*ir,ht+=_*sr,ot+=_*Wt,ct+=_*kt,nt+=_*Rt,tt+=_*hr,$e+=_*or,qe+=_*ar,Xe+=_*ur,_=le[1],ze+=_*Vt,st+=_*Kt,bt+=_*qt,ut+=_*$t,wt+=_*Yt,Bt+=_*Xt,rr+=_*nr,ht+=_*ir,ot+=_*sr,ct+=_*Wt,nt+=_*kt,tt+=_*Rt,$e+=_*hr,qe+=_*or,Xe+=_*ar,We+=_*ur,_=le[2],st+=_*Vt,bt+=_*Kt,ut+=_*qt,wt+=_*$t,Bt+=_*Yt,rr+=_*Xt,ht+=_*nr,ot+=_*ir,ct+=_*sr,nt+=_*Wt,tt+=_*kt,$e+=_*Rt,qe+=_*hr,Xe+=_*or,We+=_*ar,ft+=_*ur,_=le[3],bt+=_*Vt,ut+=_*Kt,wt+=_*qt,Bt+=_*$t,rr+=_*Yt,ht+=_*Xt,ot+=_*nr,ct+=_*ir,nt+=_*sr,tt+=_*Wt,$e+=_*kt,qe+=_*Rt,Xe+=_*hr,We+=_*or,ft+=_*ar,dt+=_*ur,_=le[4],ut+=_*Vt,wt+=_*Kt,Bt+=_*qt,rr+=_*$t,ht+=_*Yt,ot+=_*Xt,ct+=_*nr,nt+=_*ir,tt+=_*sr,$e+=_*Wt,qe+=_*kt,Xe+=_*Rt,We+=_*hr,ft+=_*or,dt+=_*ar,vt+=_*ur,_=le[5],wt+=_*Vt,Bt+=_*Kt,rr+=_*qt,ht+=_*$t,ot+=_*Yt,ct+=_*Xt,nt+=_*nr,tt+=_*ir,$e+=_*sr,qe+=_*Wt,Xe+=_*kt,We+=_*Rt,ft+=_*hr,dt+=_*or,vt+=_*ar,mt+=_*ur,_=le[6],Bt+=_*Vt,rr+=_*Kt,ht+=_*qt,ot+=_*$t,ct+=_*Yt,nt+=_*Xt,tt+=_*nr,$e+=_*ir,qe+=_*sr,Xe+=_*Wt,We+=_*kt,ft+=_*Rt,dt+=_*hr,vt+=_*or,mt+=_*ar,gt+=_*ur,_=le[7],rr+=_*Vt,ht+=_*Kt,ot+=_*qt,ct+=_*$t,nt+=_*Yt,tt+=_*Xt,$e+=_*nr,qe+=_*ir,Xe+=_*sr,We+=_*Wt,ft+=_*kt,dt+=_*Rt,vt+=_*hr,mt+=_*or,gt+=_*ar,Et+=_*ur,_=le[8],ht+=_*Vt,ot+=_*Kt,ct+=_*qt,nt+=_*$t,tt+=_*Yt,$e+=_*Xt,qe+=_*nr,Xe+=_*ir,We+=_*sr,ft+=_*Wt,dt+=_*kt,vt+=_*Rt,mt+=_*hr,gt+=_*or,Et+=_*ar,Dt+=_*ur,_=le[9],ot+=_*Vt,ct+=_*Kt,nt+=_*qt,tt+=_*$t,$e+=_*Yt,qe+=_*Xt,Xe+=_*nr,We+=_*ir,ft+=_*sr,dt+=_*Wt,vt+=_*kt,mt+=_*Rt,gt+=_*hr,Et+=_*or,Dt+=_*ar,Jr+=_*ur,_=le[10],ct+=_*Vt,nt+=_*Kt,tt+=_*qt,$e+=_*$t,qe+=_*Yt,Xe+=_*Xt,We+=_*nr,ft+=_*ir,dt+=_*sr,vt+=_*Wt,mt+=_*kt,gt+=_*Rt,Et+=_*hr,Dt+=_*or,Jr+=_*ar,br+=_*ur,_=le[11],nt+=_*Vt,tt+=_*Kt,$e+=_*qt,qe+=_*$t,Xe+=_*Yt,We+=_*Xt,ft+=_*nr,dt+=_*ir,vt+=_*sr,mt+=_*Wt,gt+=_*kt,Et+=_*Rt,Dt+=_*hr,Jr+=_*or,br+=_*ar,fn+=_*ur,_=le[12],tt+=_*Vt,$e+=_*Kt,qe+=_*qt,Xe+=_*$t,We+=_*Yt,ft+=_*Xt,dt+=_*nr,vt+=_*ir,mt+=_*sr,gt+=_*Wt,Et+=_*kt,Dt+=_*Rt,Jr+=_*hr,br+=_*or,fn+=_*ar,Rn+=_*ur,_=le[13],$e+=_*Vt,qe+=_*Kt,Xe+=_*qt,We+=_*$t,ft+=_*Yt,dt+=_*Xt,vt+=_*nr,mt+=_*ir,gt+=_*sr,Et+=_*Wt,Dt+=_*kt,Jr+=_*Rt,br+=_*hr,fn+=_*or,Rn+=_*ar,Wn+=_*ur,_=le[14],qe+=_*Vt,Xe+=_*Kt,We+=_*qt,ft+=_*$t,dt+=_*Yt,vt+=_*Xt,mt+=_*nr,gt+=_*ir,Et+=_*sr,Dt+=_*Wt,Jr+=_*kt,br+=_*Rt,fn+=_*hr,Rn+=_*or,Wn+=_*ar,wn+=_*ur,_=le[15],Xe+=_*Vt,We+=_*Kt,ft+=_*qt,dt+=_*$t,vt+=_*Yt,mt+=_*Xt,gt+=_*nr,Et+=_*ir,Dt+=_*sr,Jr+=_*Wt,br+=_*kt,fn+=_*Rt,Rn+=_*hr,Wn+=_*or,wn+=_*ar,En+=_*ur,Te+=38*We,ze+=38*ft,st+=38*dt,bt+=38*vt,ut+=38*mt,wt+=38*gt,Bt+=38*Et,rr+=38*Dt,ht+=38*Jr,ot+=38*br,ct+=38*fn,nt+=38*Rn,tt+=38*Wn,$e+=38*wn,qe+=38*En,k=1,_=Te+k+65535,k=Math.floor(_/65536),Te=_-65536*k,_=ze+k+65535,k=Math.floor(_/65536),ze=_-65536*k,_=st+k+65535,k=Math.floor(_/65536),st=_-65536*k,_=bt+k+65535,k=Math.floor(_/65536),bt=_-65536*k,_=ut+k+65535,k=Math.floor(_/65536),ut=_-65536*k,_=wt+k+65535,k=Math.floor(_/65536),wt=_-65536*k,_=Bt+k+65535,k=Math.floor(_/65536),Bt=_-65536*k,_=rr+k+65535,k=Math.floor(_/65536),rr=_-65536*k,_=ht+k+65535,k=Math.floor(_/65536),ht=_-65536*k,_=ot+k+65535,k=Math.floor(_/65536),ot=_-65536*k,_=ct+k+65535,k=Math.floor(_/65536),ct=_-65536*k,_=nt+k+65535,k=Math.floor(_/65536),nt=_-65536*k,_=tt+k+65535,k=Math.floor(_/65536),tt=_-65536*k,_=$e+k+65535,k=Math.floor(_/65536),$e=_-65536*k,_=qe+k+65535,k=Math.floor(_/65536),qe=_-65536*k,_=Xe+k+65535,k=Math.floor(_/65536),Xe=_-65536*k,Te+=k-1+37*(k-1),k=1,_=Te+k+65535,k=Math.floor(_/65536),Te=_-65536*k,_=ze+k+65535,k=Math.floor(_/65536),ze=_-65536*k,_=st+k+65535,k=Math.floor(_/65536),st=_-65536*k,_=bt+k+65535,k=Math.floor(_/65536),bt=_-65536*k,_=ut+k+65535,k=Math.floor(_/65536),ut=_-65536*k,_=wt+k+65535,k=Math.floor(_/65536),wt=_-65536*k,_=Bt+k+65535,k=Math.floor(_/65536),Bt=_-65536*k,_=rr+k+65535,k=Math.floor(_/65536),rr=_-65536*k,_=ht+k+65535,k=Math.floor(_/65536),ht=_-65536*k,_=ot+k+65535,k=Math.floor(_/65536),ot=_-65536*k,_=ct+k+65535,k=Math.floor(_/65536),ct=_-65536*k,_=nt+k+65535,k=Math.floor(_/65536),nt=_-65536*k,_=tt+k+65535,k=Math.floor(_/65536),tt=_-65536*k,_=$e+k+65535,k=Math.floor(_/65536),$e=_-65536*k,_=qe+k+65535,k=Math.floor(_/65536),qe=_-65536*k,_=Xe+k+65535,k=Math.floor(_/65536),Xe=_-65536*k,Te+=k-1+37*(k-1),ce[0]=Te,ce[1]=ze,ce[2]=st,ce[3]=bt,ce[4]=ut,ce[5]=wt,ce[6]=Bt,ce[7]=rr,ce[8]=ht,ce[9]=ot,ce[10]=ct,ce[11]=nt,ce[12]=tt,ce[13]=$e,ce[14]=qe,ce[15]=Xe}function f(ce,le){h(ce,le,le)}function x(ce,le){const te=X(),_=X(),k=X(),Te=X(),ze=X(),st=X(),bt=X(),ut=X(),wt=X();T(te,ce[1],ce[0]),T(wt,le[1],le[0]),h(te,te,wt),Z(_,ce[0],ce[1]),Z(wt,le[0],le[1]),h(_,_,wt),h(k,ce[3],le[3]),h(k,k,F),h(Te,ce[2],le[2]),Z(Te,Te,Te),T(ze,_,te),T(st,Te,k),Z(bt,Te,k),Z(ut,_,te),h(ce[0],ze,st),h(ce[1],ut,bt),h(ce[2],bt,st),h(ce[3],ze,ut)}function b(ce,le,te){for(let _=0;_<4;_++)Se(ce[_],le[_],te)}function p(ce,le){const te=X(),_=X(),k=X();(function v(ce,le){const te=X();let _;for(_=0;_<16;_++)te[_]=le[_];for(_=253;_>=0;_--)f(te,te),2!==_&&4!==_&&h(te,te,le);for(_=0;_<16;_++)ce[_]=te[_]})(k,le[2]),h(te,le[0],k),h(_,le[1],k),be(ce,_),ce[31]^=z(te)<<7}function I(ce,le){const te=[X(),X(),X(),X()];se(te[0],ae),se(te[1],he),se(te[2],B),h(te[3],ae,he),function D(ce,le,te){se(ce[0],K),se(ce[1],B),se(ce[2],B),se(ce[3],K);for(let _=255;_>=0;--_){const k=te[_/8|0]>>(7&_)&1;b(ce,le,k),x(le,ce),x(ce,ce),b(ce,le,k)}}(ce,te,le)}m._w=function C(ce){if(ce.length!==m.aP)throw new Error(`ed25519: seed must be ${m.aP} bytes`);const le=(0,_e.hash)(ce);le[0]&=248,le[31]&=127,le[31]|=64;const te=new Uint8Array(32),_=[X(),X(),X(),X()];I(_,le),p(te,_);const k=new Uint8Array(64);return k.set(ce),k.set(te,32),{publicKey:te,secretKey:k}};const ue=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function W(ce,le){let te,_,k,Te;for(_=63;_>=32;--_){for(te=0,k=_-32,Te=_-12;k<Te;++k)le[k]+=te-16*le[_]*ue[k-(_-32)],te=Math.floor((le[k]+128)/256),le[k]-=256*te;le[k]+=te,le[_]=0}for(te=0,k=0;k<32;k++)le[k]+=te-(le[31]>>4)*ue[k],te=le[k]>>8,le[k]&=255;for(k=0;k<32;k++)le[k]-=te*ue[k];for(_=0;_<32;_++)le[_+1]+=le[_]>>8,ce[_]=255&le[_]}function Ae(ce){const le=new Float64Array(64);for(let te=0;te<64;te++)le[te]=ce[te];for(let te=0;te<64;te++)ce[te]=0;W(ce,le)}m.Xx=function ye(ce,le){const te=new Float64Array(64),_=[X(),X(),X(),X()],k=(0,_e.hash)(ce.subarray(0,32));k[0]&=248,k[31]&=127,k[31]|=64;const Te=new Uint8Array(64);Te.set(k.subarray(32),32);const ze=new _e.SHA512;ze.update(Te.subarray(32)),ze.update(le);const st=ze.digest();ze.clean(),Ae(st),I(_,st),p(Te,_),ze.reset(),ze.update(Te.subarray(0,32)),ze.update(ce.subarray(32)),ze.update(le);const bt=ze.digest();Ae(bt);for(let ut=0;ut<32;ut++)te[ut]=st[ut];for(let ut=0;ut<32;ut++)for(let wt=0;wt<32;wt++)te[ut+wt]+=bt[ut]*k[wt];return W(Te.subarray(32),te),Te}},51845:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.isSerializableHash=function j(M){return typeof M.saveState<"u"&&typeof M.restoreState<"u"&&typeof M.cleanSavedState<"u"}},82584:(Ce,m,j)=>{"use strict";var oe=j(99171),_e=j(11512),fe=function(){function X(ie,K,B,L){void 0===B&&(B=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=ie,this._info=L;var F=oe.hmac(this._hash,B,K);this._hmac=new oe.HMAC(ie,F),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return X.prototype._fillBuffer=function(){this._counter[0]++;var ie=this._counter[0];if(0===ie)throw new Error("hkdf: cannot expand more");this._hmac.reset(),ie>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},X.prototype.expand=function(ie){for(var K=new Uint8Array(ie),B=0;B<K.length;B++)this._bufpos===this._buffer.length&&this._fillBuffer(),K[B]=this._buffer[this._bufpos++];return K},X.prototype.clean=function(){this._hmac.clean(),_e.wipe(this._buffer),_e.wipe(this._counter),this._bufpos=0},X}();m.t=fe},99171:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var M=j(51845),oe=j(93386),_e=j(11512),fe=function(){function ie(K,B){this._finished=!1,this._inner=new K,this._outer=new K,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var L=new Uint8Array(this.blockSize);B.length>this.blockSize?this._inner.update(B).finish(L).clean():L.set(B);for(var F=0;F<L.length;F++)L[F]^=54;for(this._inner.update(L),F=0;F<L.length;F++)L[F]^=106;this._outer.update(L),M.isSerializableHash(this._inner)&&M.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),_e.wipe(L)}return ie.prototype.reset=function(){if(!M.isSerializableHash(this._inner)||!M.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},ie.prototype.clean=function(){M.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),M.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},ie.prototype.update=function(K){return this._inner.update(K),this},ie.prototype.finish=function(K){return this._finished?(this._outer.finish(K),this):(this._inner.finish(K),this._outer.update(K.subarray(0,this.digestLength)).finish(K),this._finished=!0,this)},ie.prototype.digest=function(){var K=new Uint8Array(this.digestLength);return this.finish(K),K},ie.prototype.saveState=function(){if(!M.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},ie.prototype.restoreState=function(K){if(!M.isSerializableHash(this._inner)||!M.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(K),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},ie.prototype.cleanSavedState=function(K){if(!M.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(K)},ie}();m.HMAC=fe,m.hmac=function X(ie,K,B){var L=new fe(ie,K);L.update(B);var F=L.digest();return L.clean(),F},m.equal=oe.equal},17686:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.mul=Math.imul||function j(ie,K){var L=65535&ie,ae=65535&K;return L*ae+((ie>>>16&65535)*ae+L*(K>>>16&65535)<<16>>>0)|0},m.add=function M(ie,K){return ie+K|0},m.sub=function oe(ie,K){return ie-K|0},m.rotl=function _e(ie,K){return ie<<K|ie>>>32-K},m.rotr=function fe(ie,K){return ie<<32-K|ie>>>K},m.isInteger=Number.isInteger||function X(ie){return"number"==typeof ie&&isFinite(ie)&&Math.floor(ie)===ie},m.MAX_SAFE_INTEGER=9007199254740991,m.isSafeInteger=function(ie){return m.isInteger(ie)&&ie>=-m.MAX_SAFE_INTEGER&&ie<=m.MAX_SAFE_INTEGER}},83905:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var M=j(93386),oe=j(11512);m.DIGEST_LENGTH=16;var _e=function(){function ie(K){this.digestLength=m.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var B=K[0]|K[1]<<8;this._r[0]=8191&B;var L=K[2]|K[3]<<8;this._r[1]=8191&(B>>>13|L<<3);var F=K[4]|K[5]<<8;this._r[2]=7939&(L>>>10|F<<6);var ae=K[6]|K[7]<<8;this._r[3]=8191&(F>>>7|ae<<9);var he=K[8]|K[9]<<8;this._r[4]=255&(ae>>>4|he<<12),this._r[5]=he>>>1&8190;var S=K[10]|K[11]<<8;this._r[6]=8191&(he>>>14|S<<2);var se=K[12]|K[13]<<8;this._r[7]=8065&(S>>>11|se<<5);var De=K[14]|K[15]<<8;this._r[8]=8191&(se>>>8|De<<8),this._r[9]=De>>>5&127,this._pad[0]=K[16]|K[17]<<8,this._pad[1]=K[18]|K[19]<<8,this._pad[2]=K[20]|K[21]<<8,this._pad[3]=K[22]|K[23]<<8,this._pad[4]=K[24]|K[25]<<8,this._pad[5]=K[26]|K[27]<<8,this._pad[6]=K[28]|K[29]<<8,this._pad[7]=K[30]|K[31]<<8}return ie.prototype._blocks=function(K,B,L){for(var F=this._fin?0:2048,ae=this._h[0],he=this._h[1],S=this._h[2],se=this._h[3],De=this._h[4],Se=this._h[5],be=this._h[6],V=this._h[7],H=this._h[8],z=this._h[9],R=this._r[0],Z=this._r[1],T=this._r[2],h=this._r[3],f=this._r[4],v=this._r[5],y=this._r[6],x=this._r[7],b=this._r[8],p=this._r[9];L>=16;){var D=K[B+0]|K[B+1]<<8,I=K[B+2]|K[B+3]<<8,C=K[B+4]|K[B+5]<<8,w=K[B+6]|K[B+7]<<8,q=K[B+8]|K[B+9]<<8,ue=K[B+10]|K[B+11]<<8,W=K[B+12]|K[B+13]<<8,Ae=K[B+14]|K[B+15]<<8,ye=0,xe=ye;xe+=(ae+=8191&D)*R,xe+=(he+=8191&(D>>>13|I<<3))*(5*p),xe+=(S+=8191&(I>>>10|C<<6))*(5*b),xe+=(se+=8191&(C>>>7|w<<9))*(5*x),ye=(xe+=(De+=8191&(w>>>4|q<<12))*(5*y))>>>13,xe&=8191,xe+=(Se+=q>>>1&8191)*(5*v),xe+=(be+=8191&(q>>>14|ue<<2))*(5*f),xe+=(V+=8191&(ue>>>11|W<<5))*(5*h),xe+=(H+=8191&(W>>>8|Ae<<8))*(5*T);var Fe=ye+=(xe+=(z+=Ae>>>5|F)*(5*Z))>>>13;Fe+=ae*Z,Fe+=he*R,Fe+=S*(5*p),Fe+=se*(5*b),ye=(Fe+=De*(5*x))>>>13,Fe&=8191,Fe+=Se*(5*y),Fe+=be*(5*v),Fe+=V*(5*f),Fe+=H*(5*h),ye+=(Fe+=z*(5*T))>>>13,Fe&=8191;var Le=ye;Le+=ae*T,Le+=he*Z,Le+=S*R,Le+=se*(5*p),ye=(Le+=De*(5*b))>>>13,Le&=8191,Le+=Se*(5*x),Le+=be*(5*y),Le+=V*(5*v),Le+=H*(5*f);var me=ye+=(Le+=z*(5*h))>>>13;me+=ae*h,me+=he*T,me+=S*Z,me+=se*R,ye=(me+=De*(5*p))>>>13,me&=8191,me+=Se*(5*b),me+=be*(5*x),me+=V*(5*y),me+=H*(5*v);var ce=ye+=(me+=z*(5*f))>>>13;ce+=ae*f,ce+=he*h,ce+=S*T,ce+=se*Z,ye=(ce+=De*R)>>>13,ce&=8191,ce+=Se*(5*p),ce+=be*(5*b),ce+=V*(5*x),ce+=H*(5*y);var le=ye+=(ce+=z*(5*v))>>>13;le+=ae*v,le+=he*f,le+=S*h,le+=se*T,ye=(le+=De*Z)>>>13,le&=8191,le+=Se*R,le+=be*(5*p),le+=V*(5*b),le+=H*(5*x);var te=ye+=(le+=z*(5*y))>>>13;te+=ae*y,te+=he*v,te+=S*f,te+=se*h,ye=(te+=De*T)>>>13,te&=8191,te+=Se*Z,te+=be*R,te+=V*(5*p),te+=H*(5*b);var _=ye+=(te+=z*(5*x))>>>13;_+=ae*x,_+=he*y,_+=S*v,_+=se*f,ye=(_+=De*h)>>>13,_&=8191,_+=Se*T,_+=be*Z,_+=V*R,_+=H*(5*p);var k=ye+=(_+=z*(5*b))>>>13;k+=ae*b,k+=he*x,k+=S*y,k+=se*v,ye=(k+=De*f)>>>13,k&=8191,k+=Se*h,k+=be*T,k+=V*Z,k+=H*R;var Te=ye+=(k+=z*(5*p))>>>13;Te+=ae*p,Te+=he*b,Te+=S*x,Te+=se*y,ye=(Te+=De*v)>>>13,Te&=8191,Te+=Se*f,Te+=be*h,Te+=V*T,Te+=H*Z,ae=xe=8191&(ye=(ye=((ye+=(Te+=z*R)>>>13)<<2)+ye|0)+(xe&=8191)|0),he=Fe+=ye>>>=13,S=Le&=8191,se=me&=8191,De=ce&=8191,Se=le&=8191,be=te&=8191,V=_&=8191,H=k&=8191,z=Te&=8191,B+=16,L-=16}this._h[0]=ae,this._h[1]=he,this._h[2]=S,this._h[3]=se,this._h[4]=De,this._h[5]=Se,this._h[6]=be,this._h[7]=V,this._h[8]=H,this._h[9]=z},ie.prototype.finish=function(K,B){void 0===B&&(B=0);var F,ae,he,S,L=new Uint16Array(10);if(this._leftover){for(S=this._leftover,this._buffer[S++]=1;S<16;S++)this._buffer[S]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(F=this._h[1]>>>13,this._h[1]&=8191,S=2;S<10;S++)this._h[S]+=F,F=this._h[S]>>>13,this._h[S]&=8191;for(this._h[0]+=5*F,F=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=F,F=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=F,L[0]=this._h[0]+5,F=L[0]>>>13,L[0]&=8191,S=1;S<10;S++)L[S]=this._h[S]+F,F=L[S]>>>13,L[S]&=8191;for(L[9]-=8192,ae=(1^F)-1,S=0;S<10;S++)L[S]&=ae;for(ae=~ae,S=0;S<10;S++)this._h[S]=this._h[S]&ae|L[S];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),this._h[0]=65535&(he=this._h[0]+this._pad[0]),S=1;S<8;S++)this._h[S]=65535&(he=(this._h[S]+this._pad[S]|0)+(he>>>16)|0);return K[B+0]=this._h[0]>>>0,K[B+1]=this._h[0]>>>8,K[B+2]=this._h[1]>>>0,K[B+3]=this._h[1]>>>8,K[B+4]=this._h[2]>>>0,K[B+5]=this._h[2]>>>8,K[B+6]=this._h[3]>>>0,K[B+7]=this._h[3]>>>8,K[B+8]=this._h[4]>>>0,K[B+9]=this._h[4]>>>8,K[B+10]=this._h[5]>>>0,K[B+11]=this._h[5]>>>8,K[B+12]=this._h[6]>>>0,K[B+13]=this._h[6]>>>8,K[B+14]=this._h[7]>>>0,K[B+15]=this._h[7]>>>8,this._finished=!0,this},ie.prototype.update=function(K){var F,B=0,L=K.length;if(this._leftover){(F=16-this._leftover)>L&&(F=L);for(var ae=0;ae<F;ae++)this._buffer[this._leftover+ae]=K[B+ae];if(L-=F,B+=F,this._leftover+=F,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(L>=16&&(this._blocks(K,B,F=L-L%16),B+=F,L-=F),L){for(ae=0;ae<L;ae++)this._buffer[this._leftover+ae]=K[B+ae];this._leftover+=L}return this},ie.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var K=new Uint8Array(16);return this.finish(K),K},ie.prototype.clean=function(){return oe.wipe(this._buffer),oe.wipe(this._r),oe.wipe(this._h),oe.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},ie}();m.Poly1305=_e,m.oneTimeAuth=function fe(ie,K){var B=new _e(ie);B.update(K);var L=B.digest();return B.clean(),L},m.equal=function X(ie,K){return ie.length===m.DIGEST_LENGTH&&K.length===m.DIGEST_LENGTH&&M.equal(ie,K)}},7841:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.randomStringForEntropy=m.randomString=m.randomUint32=m.randomBytes=m.defaultRandomSource=void 0;const M=j(14894),oe=j(32222),_e=j(11512);function fe(L,F=m.defaultRandomSource){return F.randomBytes(L)}m.defaultRandomSource=new M.SystemRandomSource,m.randomBytes=fe,m.randomUint32=function X(L=m.defaultRandomSource){const F=fe(4,L),ae=(0,oe.readUint32LE)(F);return(0,_e.wipe)(F),ae};const ie="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function K(L,F=ie,ae=m.defaultRandomSource){if(F.length<2)throw new Error("randomString charset is too short");if(F.length>256)throw new Error("randomString charset is too long");let he="";const S=F.length,se=256-256%S;for(;L>0;){const De=fe(Math.ceil(256*L/se),ae);for(let Se=0;Se<De.length&&L>0;Se++){const be=De[Se];be<se&&(he+=F.charAt(be%S),L--)}(0,_e.wipe)(De)}return he}m.randomString=K,m.randomStringForEntropy=function B(L,F=ie,ae=m.defaultRandomSource){return K(Math.ceil(L/(Math.log(F.length)/Math.LN2)),F,ae)}},33607:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.BrowserRandomSource=void 0,m.BrowserRandomSource=class M{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const _e=typeof self<"u"?self.crypto||self.msCrypto:null;_e&&void 0!==_e.getRandomValues&&(this._crypto=_e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(_e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const fe=new Uint8Array(_e);for(let X=0;X<fe.length;X+=65536)this._crypto.getRandomValues(fe.subarray(X,X+Math.min(fe.length-X,65536)));return fe}}},73022:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.NodeRandomSource=void 0;const M=j(11512);m.NodeRandomSource=class oe{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const fe=j(19726);fe&&fe.randomBytes&&(this._crypto=fe,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(fe){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let X=this._crypto.randomBytes(fe);if(X.length!==fe)throw new Error("NodeRandomSource: got fewer bytes than requested");const ie=new Uint8Array(fe);for(let K=0;K<ie.length;K++)ie[K]=X[K];return(0,M.wipe)(X),ie}}},14894:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SystemRandomSource=void 0;const M=j(33607),oe=j(73022);m.SystemRandomSource=class _e{constructor(){return this.isAvailable=!1,this.name="",this._source=new M.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new oe.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(X){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(X)}}},59373:(Ce,m,j)=>{"use strict";var oe=j(32222),_e=j(11512);m.k=32,m.cn=64;var fe=function(){function B(){this.digestLength=m.k,this.blockSize=m.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return B.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},B.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},B.prototype.clean=function(){_e.wipe(this._buffer),_e.wipe(this._temp),this.reset()},B.prototype.update=function(L,F){if(void 0===F&&(F=L.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var ae=0;if(this._bytesHashed+=F,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&F>0;)this._buffer[this._bufferLength++]=L[ae++],F--;this._bufferLength===this.blockSize&&(ie(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(F>=this.blockSize&&(ae=ie(this._temp,this._state,L,ae,F),F%=this.blockSize);F>0;)this._buffer[this._bufferLength++]=L[ae++],F--;return this},B.prototype.finish=function(L){if(!this._finished){var F=this._bytesHashed,ae=this._bufferLength,he=F/536870912|0,S=F<<3,se=F%64<56?64:128;this._buffer[ae]=128;for(var De=ae+1;De<se-8;De++)this._buffer[De]=0;oe.writeUint32BE(he,this._buffer,se-8),oe.writeUint32BE(S,this._buffer,se-4),ie(this._temp,this._state,this._buffer,0,se),this._finished=!0}for(De=0;De<this.digestLength/4;De++)oe.writeUint32BE(this._state[De],L,4*De);return this},B.prototype.digest=function(){var L=new Uint8Array(this.digestLength);return this.finish(L),L},B.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},B.prototype.restoreState=function(L){return this._state.set(L.state),this._bufferLength=L.bufferLength,L.buffer&&this._buffer.set(L.buffer),this._bytesHashed=L.bytesHashed,this._finished=!1,this},B.prototype.cleanSavedState=function(L){_e.wipe(L.state),L.buffer&&_e.wipe(L.buffer),L.bufferLength=0,L.bytesHashed=0},B}();m.mE=fe;var X=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function ie(B,L,F,ae,he){for(;he>=64;){for(var S=L[0],se=L[1],De=L[2],Se=L[3],be=L[4],V=L[5],H=L[6],z=L[7],R=0;R<16;R++)B[R]=oe.readUint32BE(F,ae+4*R);for(R=16;R<64;R++){var T=B[R-2];B[R]=((h=(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10)+B[R-7]|0)+((f=((T=B[R-15])>>>7|T<<25)^(T>>>18|T<<14)^T>>>3)+B[R-16]|0)}for(R=0;R<64;R++){var h=(((be>>>6|be<<26)^(be>>>11|be<<21)^(be>>>25|be<<7))+(be&V^~be&H)|0)+(z+(X[R]+B[R]|0)|0)|0,f=((S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10))+(S&se^S&De^se&De)|0;z=H,H=V,V=be,be=Se+h|0,Se=De,De=se,se=S,S=h+f|0}L[0]+=S,L[1]+=se,L[2]+=De,L[3]+=Se,L[4]+=be,L[5]+=V,L[6]+=H,L[7]+=z,ae+=64,he-=64}return ae}m.vp=function K(B){var L=new fe;L.update(B);var F=L.digest();return L.clean(),F}},85198:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var M=j(32222),oe=j(11512);m.DIGEST_LENGTH=64,m.BLOCK_SIZE=128;var _e=function(){function K(){this.digestLength=m.DIGEST_LENGTH,this.blockSize=m.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return K.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},K.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},K.prototype.clean=function(){oe.wipe(this._buffer),oe.wipe(this._tempHi),oe.wipe(this._tempLo),this.reset()},K.prototype.update=function(B,L){if(void 0===L&&(L=B.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var F=0;if(this._bytesHashed+=L,this._bufferLength>0){for(;this._bufferLength<m.BLOCK_SIZE&&L>0;)this._buffer[this._bufferLength++]=B[F++],L--;this._bufferLength===this.blockSize&&(X(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(L>=this.blockSize&&(F=X(this._tempHi,this._tempLo,this._stateHi,this._stateLo,B,F,L),L%=this.blockSize);L>0;)this._buffer[this._bufferLength++]=B[F++],L--;return this},K.prototype.finish=function(B){if(!this._finished){var L=this._bytesHashed,F=this._bufferLength,ae=L/536870912|0,he=L<<3,S=L%128<112?128:256;this._buffer[F]=128;for(var se=F+1;se<S-8;se++)this._buffer[se]=0;M.writeUint32BE(ae,this._buffer,S-8),M.writeUint32BE(he,this._buffer,S-4),X(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,S),this._finished=!0}for(se=0;se<this.digestLength/8;se++)M.writeUint32BE(this._stateHi[se],B,8*se),M.writeUint32BE(this._stateLo[se],B,8*se+4);return this},K.prototype.digest=function(){var B=new Uint8Array(this.digestLength);return this.finish(B),B},K.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},K.prototype.restoreState=function(B){return this._stateHi.set(B.stateHi),this._stateLo.set(B.stateLo),this._bufferLength=B.bufferLength,B.buffer&&this._buffer.set(B.buffer),this._bytesHashed=B.bytesHashed,this._finished=!1,this},K.prototype.cleanSavedState=function(B){oe.wipe(B.stateHi),oe.wipe(B.stateLo),B.buffer&&oe.wipe(B.buffer),B.bufferLength=0,B.bytesHashed=0},K}();m.SHA512=_e;var fe=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function X(K,B,L,F,ae,he,S){for(var p,D,I,C,w,q,ue,W,se=L[0],De=L[1],Se=L[2],be=L[3],V=L[4],H=L[5],z=L[6],R=L[7],Z=F[0],T=F[1],h=F[2],f=F[3],v=F[4],y=F[5],x=F[6],b=F[7];S>=128;){for(var Ae=0;Ae<16;Ae++)K[Ae]=M.readUint32BE(ae,ye=8*Ae+he),B[Ae]=M.readUint32BE(ae,ye+4);for(Ae=0;Ae<80;Ae++){var _,Bt,Fe=De,Le=Se,me=be,ce=V,le=H,te=z,Te=T,ze=h,st=f,bt=v,ut=y,wt=x;if(w=65535&(D=b),q=D>>>16,ue=65535&(p=R),W=p>>>16,w+=65535&(D=(v>>>14|V<<18)^(v>>>18|V<<14)^(V>>>9|v<<23)),q+=D>>>16,ue+=65535&(p=(V>>>14|v<<18)^(V>>>18|v<<14)^(v>>>9|V<<23)),W+=p>>>16,w+=65535&(D=v&y^~v&x),q+=D>>>16,ue+=65535&(p=V&H^~V&z),W+=p>>>16,w+=65535&(D=fe[2*Ae+1]),q+=D>>>16,ue+=65535&(p=fe[2*Ae]),W+=p>>>16,q+=(D=B[Ae%16])>>>16,ue+=65535&(p=K[Ae%16]),W+=p>>>16,ue+=(q+=(w+=65535&D)>>>16)>>>16,w=65535&(D=C=65535&w|q<<16),q=D>>>16,ue=65535&(p=I=65535&ue|(W+=ue>>>16)<<16),W=p>>>16,w+=65535&(D=(Z>>>28|se<<4)^(se>>>2|Z<<30)^(se>>>7|Z<<25)),q+=D>>>16,ue+=65535&(p=(se>>>28|Z<<4)^(Z>>>2|se<<30)^(Z>>>7|se<<25)),W+=p>>>16,q+=(D=Z&T^Z&h^T&h)>>>16,ue+=65535&(p=se&De^se&Se^De&Se),W+=p>>>16,_=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,Bt=65535&w|q<<16,w=65535&(D=st),q=D>>>16,ue=65535&(p=me),W=p>>>16,q+=(D=C)>>>16,ue+=65535&(p=I),W+=p>>>16,De=se,Se=Fe,be=Le,V=me=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,H=ce,z=le,R=te,se=_,T=Z,h=Te,f=ze,v=st=65535&w|q<<16,y=bt,x=ut,b=wt,Z=Bt,Ae%16==15)for(var ye=0;ye<16;ye++)w=65535&(D=B[ye]),q=D>>>16,ue=65535&(p=K[ye]),W=p>>>16,w+=65535&(D=B[(ye+9)%16]),q+=D>>>16,ue+=65535&(p=K[(ye+9)%16]),W+=p>>>16,w+=65535&(D=((C=B[(ye+1)%16])>>>1|(I=K[(ye+1)%16])<<31)^(C>>>8|I<<24)^(C>>>7|I<<25)),q+=D>>>16,ue+=65535&(p=(I>>>1|C<<31)^(I>>>8|C<<24)^I>>>7),W+=p>>>16,q+=(D=((C=B[(ye+14)%16])>>>19|(I=K[(ye+14)%16])<<13)^(I>>>29|C<<3)^(C>>>6|I<<26))>>>16,ue+=65535&(p=(I>>>19|C<<13)^(C>>>29|I<<3)^I>>>6),W+=p>>>16,K[ye]=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,B[ye]=65535&w|q<<16}w=65535&(D=Z),q=D>>>16,ue=65535&(p=se),W=p>>>16,q+=(D=F[0])>>>16,ue+=65535&(p=L[0]),W+=p>>>16,L[0]=se=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,F[0]=Z=65535&w|q<<16,w=65535&(D=T),q=D>>>16,ue=65535&(p=De),W=p>>>16,q+=(D=F[1])>>>16,ue+=65535&(p=L[1]),W+=p>>>16,L[1]=De=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,F[1]=T=65535&w|q<<16,w=65535&(D=h),q=D>>>16,ue=65535&(p=Se),W=p>>>16,q+=(D=F[2])>>>16,ue+=65535&(p=L[2]),W+=p>>>16,L[2]=Se=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,F[2]=h=65535&w|q<<16,w=65535&(D=f),q=D>>>16,ue=65535&(p=be),W=p>>>16,q+=(D=F[3])>>>16,ue+=65535&(p=L[3]),W+=p>>>16,L[3]=be=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,F[3]=f=65535&w|q<<16,w=65535&(D=v),q=D>>>16,ue=65535&(p=V),W=p>>>16,q+=(D=F[4])>>>16,ue+=65535&(p=L[4]),W+=p>>>16,L[4]=V=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,F[4]=v=65535&w|q<<16,w=65535&(D=y),q=D>>>16,ue=65535&(p=H),W=p>>>16,q+=(D=F[5])>>>16,ue+=65535&(p=L[5]),W+=p>>>16,L[5]=H=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,F[5]=y=65535&w|q<<16,w=65535&(D=x),q=D>>>16,ue=65535&(p=z),W=p>>>16,q+=(D=F[6])>>>16,ue+=65535&(p=L[6]),W+=p>>>16,L[6]=z=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,F[6]=x=65535&w|q<<16,w=65535&(D=b),q=D>>>16,ue=65535&(p=R),W=p>>>16,q+=(D=F[7])>>>16,ue+=65535&(p=L[7]),W+=p>>>16,L[7]=R=65535&(ue+=(q+=(w+=65535&D)>>>16)>>>16)|(W+=ue>>>16)<<16,F[7]=b=65535&w|q<<16,he+=128,S-=128}return he}m.hash=function ie(K){var B=new _e;B.update(K);var L=B.digest();return B.clean(),L}},11512:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.wipe=function j(M){for(var oe=0;oe<M.length;oe++)M[oe]=0;return M}},65504:(Ce,m,j)=>{"use strict";m.gi=m.Au=m.KS=m.kz=void 0;const oe=j(7841),_e=j(11512);function fe(R){const Z=new Float64Array(16);if(R)for(let T=0;T<R.length;T++)Z[T]=R[T];return Z}m.kz=32,m.KS=32;const X=new Uint8Array(32);X[0]=9;const ie=fe([56129,1]);function K(R){let Z=1;for(let T=0;T<16;T++){let h=R[T]+Z+65535;Z=Math.floor(h/65536),R[T]=h-65536*Z}R[0]+=Z-1+37*(Z-1)}function B(R,Z,T){const h=~(T-1);for(let f=0;f<16;f++){const v=h&(R[f]^Z[f]);R[f]^=v,Z[f]^=v}}function ae(R,Z,T){for(let h=0;h<16;h++)R[h]=Z[h]+T[h]}function he(R,Z,T){for(let h=0;h<16;h++)R[h]=Z[h]-T[h]}function S(R,Z,T){let h,f,v=0,y=0,x=0,b=0,p=0,D=0,I=0,C=0,w=0,q=0,ue=0,W=0,Ae=0,ye=0,xe=0,Fe=0,Le=0,me=0,ce=0,le=0,te=0,_=0,k=0,Te=0,ze=0,st=0,bt=0,ut=0,wt=0,Bt=0,rr=0,ht=T[0],ot=T[1],ct=T[2],nt=T[3],tt=T[4],$e=T[5],qe=T[6],Xe=T[7],We=T[8],ft=T[9],dt=T[10],vt=T[11],mt=T[12],gt=T[13],Et=T[14],Dt=T[15];h=Z[0],v+=h*ht,y+=h*ot,x+=h*ct,b+=h*nt,p+=h*tt,D+=h*$e,I+=h*qe,C+=h*Xe,w+=h*We,q+=h*ft,ue+=h*dt,W+=h*vt,Ae+=h*mt,ye+=h*gt,xe+=h*Et,Fe+=h*Dt,h=Z[1],y+=h*ht,x+=h*ot,b+=h*ct,p+=h*nt,D+=h*tt,I+=h*$e,C+=h*qe,w+=h*Xe,q+=h*We,ue+=h*ft,W+=h*dt,Ae+=h*vt,ye+=h*mt,xe+=h*gt,Fe+=h*Et,Le+=h*Dt,h=Z[2],x+=h*ht,b+=h*ot,p+=h*ct,D+=h*nt,I+=h*tt,C+=h*$e,w+=h*qe,q+=h*Xe,ue+=h*We,W+=h*ft,Ae+=h*dt,ye+=h*vt,xe+=h*mt,Fe+=h*gt,Le+=h*Et,me+=h*Dt,h=Z[3],b+=h*ht,p+=h*ot,D+=h*ct,I+=h*nt,C+=h*tt,w+=h*$e,q+=h*qe,ue+=h*Xe,W+=h*We,Ae+=h*ft,ye+=h*dt,xe+=h*vt,Fe+=h*mt,Le+=h*gt,me+=h*Et,ce+=h*Dt,h=Z[4],p+=h*ht,D+=h*ot,I+=h*ct,C+=h*nt,w+=h*tt,q+=h*$e,ue+=h*qe,W+=h*Xe,Ae+=h*We,ye+=h*ft,xe+=h*dt,Fe+=h*vt,Le+=h*mt,me+=h*gt,ce+=h*Et,le+=h*Dt,h=Z[5],D+=h*ht,I+=h*ot,C+=h*ct,w+=h*nt,q+=h*tt,ue+=h*$e,W+=h*qe,Ae+=h*Xe,ye+=h*We,xe+=h*ft,Fe+=h*dt,Le+=h*vt,me+=h*mt,ce+=h*gt,le+=h*Et,te+=h*Dt,h=Z[6],I+=h*ht,C+=h*ot,w+=h*ct,q+=h*nt,ue+=h*tt,W+=h*$e,Ae+=h*qe,ye+=h*Xe,xe+=h*We,Fe+=h*ft,Le+=h*dt,me+=h*vt,ce+=h*mt,le+=h*gt,te+=h*Et,_+=h*Dt,h=Z[7],C+=h*ht,w+=h*ot,q+=h*ct,ue+=h*nt,W+=h*tt,Ae+=h*$e,ye+=h*qe,xe+=h*Xe,Fe+=h*We,Le+=h*ft,me+=h*dt,ce+=h*vt,le+=h*mt,te+=h*gt,_+=h*Et,k+=h*Dt,h=Z[8],w+=h*ht,q+=h*ot,ue+=h*ct,W+=h*nt,Ae+=h*tt,ye+=h*$e,xe+=h*qe,Fe+=h*Xe,Le+=h*We,me+=h*ft,ce+=h*dt,le+=h*vt,te+=h*mt,_+=h*gt,k+=h*Et,Te+=h*Dt,h=Z[9],q+=h*ht,ue+=h*ot,W+=h*ct,Ae+=h*nt,ye+=h*tt,xe+=h*$e,Fe+=h*qe,Le+=h*Xe,me+=h*We,ce+=h*ft,le+=h*dt,te+=h*vt,_+=h*mt,k+=h*gt,Te+=h*Et,ze+=h*Dt,h=Z[10],ue+=h*ht,W+=h*ot,Ae+=h*ct,ye+=h*nt,xe+=h*tt,Fe+=h*$e,Le+=h*qe,me+=h*Xe,ce+=h*We,le+=h*ft,te+=h*dt,_+=h*vt,k+=h*mt,Te+=h*gt,ze+=h*Et,st+=h*Dt,h=Z[11],W+=h*ht,Ae+=h*ot,ye+=h*ct,xe+=h*nt,Fe+=h*tt,Le+=h*$e,me+=h*qe,ce+=h*Xe,le+=h*We,te+=h*ft,_+=h*dt,k+=h*vt,Te+=h*mt,ze+=h*gt,st+=h*Et,bt+=h*Dt,h=Z[12],Ae+=h*ht,ye+=h*ot,xe+=h*ct,Fe+=h*nt,Le+=h*tt,me+=h*$e,ce+=h*qe,le+=h*Xe,te+=h*We,_+=h*ft,k+=h*dt,Te+=h*vt,ze+=h*mt,st+=h*gt,bt+=h*Et,ut+=h*Dt,h=Z[13],ye+=h*ht,xe+=h*ot,Fe+=h*ct,Le+=h*nt,me+=h*tt,ce+=h*$e,le+=h*qe,te+=h*Xe,_+=h*We,k+=h*ft,Te+=h*dt,ze+=h*vt,st+=h*mt,bt+=h*gt,ut+=h*Et,wt+=h*Dt,h=Z[14],xe+=h*ht,Fe+=h*ot,Le+=h*ct,me+=h*nt,ce+=h*tt,le+=h*$e,te+=h*qe,_+=h*Xe,k+=h*We,Te+=h*ft,ze+=h*dt,st+=h*vt,bt+=h*mt,ut+=h*gt,wt+=h*Et,Bt+=h*Dt,h=Z[15],Fe+=h*ht,Le+=h*ot,me+=h*ct,ce+=h*nt,le+=h*tt,te+=h*$e,_+=h*qe,k+=h*Xe,Te+=h*We,ze+=h*ft,st+=h*dt,bt+=h*vt,ut+=h*mt,wt+=h*gt,Bt+=h*Et,rr+=h*Dt,v+=38*Le,y+=38*me,x+=38*ce,b+=38*le,p+=38*te,D+=38*_,I+=38*k,C+=38*Te,w+=38*ze,q+=38*st,ue+=38*bt,W+=38*ut,Ae+=38*wt,ye+=38*Bt,xe+=38*rr,f=1,h=v+f+65535,f=Math.floor(h/65536),v=h-65536*f,h=y+f+65535,f=Math.floor(h/65536),y=h-65536*f,h=x+f+65535,f=Math.floor(h/65536),x=h-65536*f,h=b+f+65535,f=Math.floor(h/65536),b=h-65536*f,h=p+f+65535,f=Math.floor(h/65536),p=h-65536*f,h=D+f+65535,f=Math.floor(h/65536),D=h-65536*f,h=I+f+65535,f=Math.floor(h/65536),I=h-65536*f,h=C+f+65535,f=Math.floor(h/65536),C=h-65536*f,h=w+f+65535,f=Math.floor(h/65536),w=h-65536*f,h=q+f+65535,f=Math.floor(h/65536),q=h-65536*f,h=ue+f+65535,f=Math.floor(h/65536),ue=h-65536*f,h=W+f+65535,f=Math.floor(h/65536),W=h-65536*f,h=Ae+f+65535,f=Math.floor(h/65536),Ae=h-65536*f,h=ye+f+65535,f=Math.floor(h/65536),ye=h-65536*f,h=xe+f+65535,f=Math.floor(h/65536),xe=h-65536*f,h=Fe+f+65535,f=Math.floor(h/65536),Fe=h-65536*f,v+=f-1+37*(f-1),f=1,h=v+f+65535,f=Math.floor(h/65536),v=h-65536*f,h=y+f+65535,f=Math.floor(h/65536),y=h-65536*f,h=x+f+65535,f=Math.floor(h/65536),x=h-65536*f,h=b+f+65535,f=Math.floor(h/65536),b=h-65536*f,h=p+f+65535,f=Math.floor(h/65536),p=h-65536*f,h=D+f+65535,f=Math.floor(h/65536),D=h-65536*f,h=I+f+65535,f=Math.floor(h/65536),I=h-65536*f,h=C+f+65535,f=Math.floor(h/65536),C=h-65536*f,h=w+f+65535,f=Math.floor(h/65536),w=h-65536*f,h=q+f+65535,f=Math.floor(h/65536),q=h-65536*f,h=ue+f+65535,f=Math.floor(h/65536),ue=h-65536*f,h=W+f+65535,f=Math.floor(h/65536),W=h-65536*f,h=Ae+f+65535,f=Math.floor(h/65536),Ae=h-65536*f,h=ye+f+65535,f=Math.floor(h/65536),ye=h-65536*f,h=xe+f+65535,f=Math.floor(h/65536),xe=h-65536*f,h=Fe+f+65535,f=Math.floor(h/65536),Fe=h-65536*f,v+=f-1+37*(f-1),R[0]=v,R[1]=y,R[2]=x,R[3]=b,R[4]=p,R[5]=D,R[6]=I,R[7]=C,R[8]=w,R[9]=q,R[10]=ue,R[11]=W,R[12]=Ae,R[13]=ye,R[14]=xe,R[15]=Fe}function se(R,Z){S(R,Z,Z)}function Se(R,Z){const T=new Uint8Array(32),h=new Float64Array(80),f=fe(),v=fe(),y=fe(),x=fe(),b=fe(),p=fe();for(let w=0;w<31;w++)T[w]=R[w];T[31]=127&R[31]|64,T[0]&=248,function F(R,Z){for(let T=0;T<16;T++)R[T]=Z[2*T]+(Z[2*T+1]<<8);R[15]&=32767}(h,Z);for(let w=0;w<16;w++)v[w]=h[w];f[0]=x[0]=1;for(let w=254;w>=0;--w){const q=T[w>>>3]>>>(7&w)&1;B(f,v,q),B(y,x,q),ae(b,f,y),he(f,f,y),ae(y,v,x),he(v,v,x),se(x,b),se(p,f),S(f,y,f),S(y,v,b),ae(b,f,y),he(f,f,y),se(v,f),he(y,x,p),S(f,y,ie),ae(f,f,x),S(y,y,f),S(f,x,p),S(x,v,h),se(v,b),B(f,v,q),B(y,x,q)}for(let w=0;w<16;w++)h[w+16]=f[w],h[w+32]=y[w],h[w+48]=v[w],h[w+64]=x[w];const D=h.subarray(32),I=h.subarray(16);(function De(R,Z){const T=fe();for(let h=0;h<16;h++)T[h]=Z[h];for(let h=253;h>=0;h--)se(T,T),2!==h&&4!==h&&S(T,T,Z);for(let h=0;h<16;h++)R[h]=T[h]})(D,D),S(I,I,D);const C=new Uint8Array(32);return function L(R,Z){const T=fe(),h=fe();for(let f=0;f<16;f++)h[f]=Z[f];K(h),K(h),K(h);for(let f=0;f<2;f++){T[0]=h[0]-65517;for(let y=1;y<15;y++)T[y]=h[y]-65535-(T[y-1]>>16&1),T[y-1]&=65535;T[15]=h[15]-32767-(T[14]>>16&1);const v=T[15]>>16&1;T[14]&=65535,B(h,T,1-v)}for(let f=0;f<16;f++)R[2*f]=255&h[f],R[2*f+1]=h[f]>>8}(C,I),C}function be(R){return Se(R,X)}m.Au=function H(R){const Z=(0,oe.randomBytes)(32,R),T=function V(R){if(R.length!==m.KS)throw new Error(`x25519: seed must be ${m.KS} bytes`);const Z=new Uint8Array(R);return{publicKey:be(Z),secretKey:Z}}(Z);return(0,_e.wipe)(Z),T},m.gi=function z(R,Z,T=!1){if(R.length!==m.kz)throw new Error("X25519: incorrect secret key length");if(Z.length!==m.kz)throw new Error("X25519: incorrect public key length");const h=Se(R,Z);if(T){let f=0;for(let v=0;v<h.length;v++)f|=h[v];if(0===f)throw new Error("X25519: invalid shared key")}return h}},38573:(Ce,m)=>{"use strict";function j(){return(null==global?void 0:global.crypto)||(null==global?void 0:global.msCrypto)||{}}function M(){const _e=j();return _e.subtle||_e.webkitSubtle}Object.defineProperty(m,"__esModule",{value:!0}),m.isBrowserCryptoAvailable=m.getSubtleCrypto=m.getBrowerCrypto=void 0,m.getBrowerCrypto=j,m.getSubtleCrypto=M,m.isBrowserCryptoAvailable=function oe(){return!!j()&&!!M()}},26e3:(Ce,m)=>{"use strict";function j(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function M(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Object.defineProperty(m,"__esModule",{value:!0}),m.isBrowser=m.isNode=m.isReactNative=void 0,m.isReactNative=j,m.isNode=M,m.isBrowser=function oe(){return!j()&&!M()}},43841:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const M=j(69763);M.__exportStar(j(38573),m),M.__exportStar(j(26e3),m)},43795:(Ce,m,j)=>{"use strict";j.d(m,{q:()=>M});class M{}},39282:(Ce,m,j)=>{"use strict";j.r(m),j.d(m,{IEvents:()=>M.q});var M=j(43795)},6602:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.HEARTBEAT_EVENTS=m.HEARTBEAT_INTERVAL=void 0;const M=j(40145);m.HEARTBEAT_INTERVAL=M.FIVE_SECONDS,m.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},40073:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),j(99940).__exportStar(j(6602),m)},81382:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.HeartBeat=void 0;const M=j(99940),oe=j(2272),_e=j(40145),fe=j(77522),X=j(40073);class ie extends fe.IHeartBeat{constructor(B){super(B),this.events=new oe.EventEmitter,this.interval=X.HEARTBEAT_INTERVAL,this.interval=(null==B?void 0:B.interval)||X.HEARTBEAT_INTERVAL}static init(B){return M.__awaiter(this,void 0,void 0,function*(){const L=new ie(B);return yield L.init(),L})}init(){return M.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(B,L){this.events.on(B,L)}once(B,L){this.events.once(B,L)}off(B,L){this.events.off(B,L)}removeListener(B,L){this.events.removeListener(B,L)}initialize(){return M.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),_e.toMiliseconds(this.interval))})}pulse(){this.events.emit(X.HEARTBEAT_EVENTS.pulse)}}m.HeartBeat=ie},40851:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const M=j(99940);M.__exportStar(j(81382),m),M.__exportStar(j(77522),m),M.__exportStar(j(40073),m)},31849:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.IHeartBeat=void 0;const M=j(39282);m.IHeartBeat=class oe extends M.IEvents{constructor(fe){super()}}},77522:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),j(99940).__exportStar(j(31849),m)},83169:(Ce,m,j)=>{"use strict";const oe=j(92818),_e=j(53439),fe=oe.__importDefault(j(271)),X=j(86586);m.ZP=class ie{constructor(){this.localStorage=fe.default}getKeys(){return oe.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return oe.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(X.parseEntry)})}getItem(B){return oe.__awaiter(this,void 0,void 0,function*(){const L=this.localStorage.getItem(B);if(null!==L)return _e.safeJsonParse(L)})}setItem(B,L){return oe.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(B,_e.safeJsonStringify(L))})}removeItem(B){return oe.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(B)})}}},271:Ce=>{"use strict";!function(){let m;function j(){}m=j,m.prototype.getItem=function(M){return this.hasOwnProperty(M)?String(this[M]):null},m.prototype.setItem=function(M,oe){this[M]=String(oe)},m.prototype.removeItem=function(M){delete this[M]},m.prototype.clear=function(){const M=this;Object.keys(M).forEach(function(oe){M[oe]=void 0,delete M[oe]})},m.prototype.key=function(M){return M=M||0,Object.keys(this)[M]},m.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),Ce.exports=typeof global<"u"&&global.localStorage?global.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new j}()},86586:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const M=j(92818);M.__exportStar(j(68684),m),M.__exportStar(j(2043),m)},68684:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.IKeyValueStorage=void 0,m.IKeyValueStorage=class j{}},2043:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.parseEntry=void 0;const M=j(53439);m.parseEntry=function oe(_e){var fe;return[_e[0],M.safeJsonParse(null!==(fe=_e[1])&&void 0!==fe?fe:"")]}},20191:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.PINO_CUSTOM_CONTEXT_KEY=m.PINO_LOGGER_DEFAULTS=void 0,m.PINO_LOGGER_DEFAULTS={level:"info"},m.PINO_CUSTOM_CONTEXT_KEY="custom_context"},71268:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.pino=void 0;const M=j(20263),oe=M.__importDefault(j(37386));Object.defineProperty(m,"pino",{enumerable:!0,get:function(){return oe.default}}),M.__exportStar(j(20191),m),M.__exportStar(j(59164),m)},59164:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.generateChildLogger=m.formatChildLoggerContext=m.getLoggerContext=m.setBrowserLoggerContext=m.getBrowserLoggerContext=m.getDefaultLoggerOptions=void 0;const M=j(20191);function _e(B,L=M.PINO_CUSTOM_CONTEXT_KEY){return B[L]||""}function fe(B,L,F=M.PINO_CUSTOM_CONTEXT_KEY){return B[F]=L,B}function X(B,L=M.PINO_CUSTOM_CONTEXT_KEY){let F="";return F=typeof B.bindings>"u"?_e(B,L):B.bindings().context||"",F}function ie(B,L,F=M.PINO_CUSTOM_CONTEXT_KEY){const ae=X(B,F);return ae.trim()?`${ae}/${L}`:L}m.getDefaultLoggerOptions=function oe(B){return Object.assign(Object.assign({},B),{level:(null==B?void 0:B.level)||M.PINO_LOGGER_DEFAULTS.level})},m.getBrowserLoggerContext=_e,m.setBrowserLoggerContext=fe,m.getLoggerContext=X,m.formatChildLoggerContext=ie,m.generateChildLogger=function K(B,L,F=M.PINO_CUSTOM_CONTEXT_KEY){const ae=ie(B,L,F);return fe(B.child({context:ae}),ae,F)}},43025:()=>{},84143:()=>{},21833:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const M=j(58092);M.__exportStar(j(77892),m),M.__exportStar(j(72562),m)},77892:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ONE_THOUSAND=m.ONE_HUNDRED=void 0,m.ONE_HUNDRED=100,m.ONE_THOUSAND=1e3},72562:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ONE_YEAR=m.FOUR_WEEKS=m.THREE_WEEKS=m.TWO_WEEKS=m.ONE_WEEK=m.THIRTY_DAYS=m.SEVEN_DAYS=m.FIVE_DAYS=m.THREE_DAYS=m.ONE_DAY=m.TWENTY_FOUR_HOURS=m.TWELVE_HOURS=m.SIX_HOURS=m.THREE_HOURS=m.ONE_HOUR=m.SIXTY_MINUTES=m.THIRTY_MINUTES=m.TEN_MINUTES=m.FIVE_MINUTES=m.ONE_MINUTE=m.SIXTY_SECONDS=m.THIRTY_SECONDS=m.TEN_SECONDS=m.FIVE_SECONDS=m.ONE_SECOND=void 0,m.ONE_SECOND=1,m.FIVE_SECONDS=5,m.TEN_SECONDS=10,m.THIRTY_SECONDS=30,m.SIXTY_SECONDS=60,m.ONE_MINUTE=m.SIXTY_SECONDS,m.FIVE_MINUTES=5*m.ONE_MINUTE,m.TEN_MINUTES=10*m.ONE_MINUTE,m.THIRTY_MINUTES=30*m.ONE_MINUTE,m.SIXTY_MINUTES=60*m.ONE_MINUTE,m.ONE_HOUR=m.SIXTY_MINUTES,m.THREE_HOURS=3*m.ONE_HOUR,m.SIX_HOURS=6*m.ONE_HOUR,m.TWELVE_HOURS=12*m.ONE_HOUR,m.TWENTY_FOUR_HOURS=24*m.ONE_HOUR,m.ONE_DAY=m.TWENTY_FOUR_HOURS,m.THREE_DAYS=3*m.ONE_DAY,m.FIVE_DAYS=5*m.ONE_DAY,m.SEVEN_DAYS=7*m.ONE_DAY,m.THIRTY_DAYS=30*m.ONE_DAY,m.ONE_WEEK=m.SEVEN_DAYS,m.TWO_WEEKS=2*m.ONE_WEEK,m.THREE_WEEKS=3*m.ONE_WEEK,m.FOUR_WEEKS=4*m.ONE_WEEK,m.ONE_YEAR=365*m.ONE_DAY},40145:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const M=j(58092);M.__exportStar(j(94256),m),M.__exportStar(j(59794),m),M.__exportStar(j(16834),m),M.__exportStar(j(21833),m)},16834:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),j(58092).__exportStar(j(45412),m)},45412:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.IWatch=void 0,m.IWatch=class j{}},24500:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.fromMiliseconds=m.toMiliseconds=void 0;const M=j(21833);m.toMiliseconds=function oe(fe){return fe*M.ONE_THOUSAND},m.fromMiliseconds=function _e(fe){return Math.floor(fe/M.ONE_THOUSAND)}},23337:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.delay=void 0,m.delay=function j(M){return new Promise(oe=>{setTimeout(()=>{oe(!0)},M)})}},94256:(Ce,m,j)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const M=j(58092);M.__exportStar(j(23337),m),M.__exportStar(j(24500),m)},59794:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.Watch=void 0;class j{constructor(){this.timestamps=new Map}start(oe){if(this.timestamps.has(oe))throw new Error(`Watch already started for label: ${oe}`);this.timestamps.set(oe,{started:Date.now()})}stop(oe){const _e=this.get(oe);if(typeof _e.elapsed<"u")throw new Error(`Watch already stopped for label: ${oe}`);const fe=Date.now()-_e.started;this.timestamps.set(oe,{started:_e.started,elapsed:fe})}get(oe){const _e=this.timestamps.get(oe);if(typeof _e>"u")throw new Error(`No timestamp found for label: ${oe}`);return _e}elapsed(oe){const _e=this.get(oe);return _e.elapsed||Date.now()-_e.started}}m.Watch=j,m.default=j},6179:(Ce,m)=>{"use strict";function j(he){let S;return typeof window<"u"&&typeof window[he]<"u"&&(S=window[he]),S}function M(he){const S=j(he);if(!S)throw new Error(`${he} is not defined in Window`);return S}Object.defineProperty(m,"__esModule",{value:!0}),m.getLocalStorage=m.getLocalStorageOrThrow=m.getCrypto=m.getCryptoOrThrow=m.getLocation=m.getLocationOrThrow=m.getNavigator=m.getNavigatorOrThrow=m.getDocument=m.getDocumentOrThrow=m.getFromWindowOrThrow=m.getFromWindow=void 0,m.getFromWindow=j,m.getFromWindowOrThrow=M,m.getDocumentOrThrow=function oe(){return M("document")},m.getDocument=function _e(){return j("document")},m.getNavigatorOrThrow=function fe(){return M("navigator")},m.getNavigator=function X(){return j("navigator")},m.getLocationOrThrow=function ie(){return M("location")},m.getLocation=function K(){return j("location")},m.getCryptoOrThrow=function B(){return M("crypto")},m.getCrypto=function L(){return j("crypto")},m.getLocalStorageOrThrow=function F(){return M("localStorage")},m.getLocalStorage=function ae(){return j("localStorage")}},98064:(Ce,m,j)=>{"use strict";m.D=void 0;const oe=j(6179);m.D=function _e(){let fe,X;try{fe=oe.getDocumentOrThrow(),X=oe.getLocationOrThrow()}catch{return null}function K(...De){const Se=fe.getElementsByTagName("meta");for(let be=0;be<Se.length;be++){const V=Se[be],H=["itemprop","property","name"].map(z=>V.getAttribute(z)).filter(z=>!!z&&De.includes(z));if(H.length&&H){const z=V.getAttribute("content");if(z)return z}}return""}const F=function B(){let De=K("name","og:site_name","og:title","twitter:title");return De||(De=fe.title),De}();return{description:function L(){return K("description","og:description","twitter:description","keywords")}(),url:X.origin,icons:function ie(){const De=fe.getElementsByTagName("link"),Se=[];for(let be=0;be<De.length;be++){const V=De[be],H=V.getAttribute("rel");if(H&&H.toLowerCase().indexOf("icon")>-1){const z=V.getAttribute("href");if(z)if(-1===z.toLowerCase().indexOf("https:")&&-1===z.toLowerCase().indexOf("http:")&&0!==z.indexOf("//")){let R=X.protocol+"//"+X.host;if(0===z.indexOf("/"))R+=z;else{const Z=X.pathname.split("/");Z.pop(),R+=Z.join("/")+"/"+z}Se.push(R)}else 0===z.indexOf("//")?Se.push(X.protocol+z):Se.push(z)}}return Se}(),name:F}}},5928:function(Ce,m){var _e,j=typeof self<"u"?self:this,M=function(){function _e(){this.fetch=!1,this.DOMException=j.DOMException}return _e.prototype=j,new _e}();_e=M,function(X){var ie_searchParams="URLSearchParams"in _e,ie_iterable="Symbol"in _e&&"iterator"in Symbol,ie_blob="FileReader"in _e&&"Blob"in _e&&function(){try{return new Blob,!0}catch{return!1}}(),ie_formData="FormData"in _e,ie_arrayBuffer="ArrayBuffer"in _e;if(ie_arrayBuffer)var B=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],L=ArrayBuffer.isView||function(b){return b&&B.indexOf(Object.prototype.toString.call(b))>-1};function F(b){if("string"!=typeof b&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function ae(b){return"string"!=typeof b&&(b=String(b)),b}function he(b){var p={next:function(){var D=b.shift();return{done:void 0===D,value:D}}};return ie_iterable&&(p[Symbol.iterator]=function(){return p}),p}function S(b){this.map={},b instanceof S?b.forEach(function(p,D){this.append(D,p)},this):Array.isArray(b)?b.forEach(function(p){this.append(p[0],p[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(p){this.append(p,b[p])},this)}function se(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function De(b){return new Promise(function(p,D){b.onload=function(){p(b.result)},b.onerror=function(){D(b.error)}})}function Se(b){var p=new FileReader,D=De(p);return p.readAsArrayBuffer(b),D}function H(b){if(b.slice)return b.slice(0);var p=new Uint8Array(b.byteLength);return p.set(new Uint8Array(b)),p.buffer}function z(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?"string"==typeof b?this._bodyText=b:ie_blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:ie_formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:ie_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():ie_arrayBuffer&&ie_blob&&function K(b){return b&&DataView.prototype.isPrototypeOf(b)}(b)?(this._bodyArrayBuffer=H(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ie_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||L(b))?this._bodyArrayBuffer=H(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||("string"==typeof b?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ie_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ie_blob&&(this.blob=function(){var b=se(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?se(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Se)}),this.text=function(){var b=se(this);if(b)return b;if(this._bodyBlob)return function be(b){var p=new FileReader,D=De(p);return p.readAsText(b),D}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function V(b){for(var p=new Uint8Array(b),D=new Array(p.length),I=0;I<p.length;I++)D[I]=String.fromCharCode(p[I]);return D.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ie_formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}S.prototype.append=function(b,p){b=F(b),p=ae(p);var D=this.map[b];this.map[b]=D?D+", "+p:p},S.prototype.delete=function(b){delete this.map[F(b)]},S.prototype.get=function(b){return b=F(b),this.has(b)?this.map[b]:null},S.prototype.has=function(b){return this.map.hasOwnProperty(F(b))},S.prototype.set=function(b,p){this.map[F(b)]=ae(p)},S.prototype.forEach=function(b,p){for(var D in this.map)this.map.hasOwnProperty(D)&&b.call(p,this.map[D],D,this)},S.prototype.keys=function(){var b=[];return this.forEach(function(p,D){b.push(D)}),he(b)},S.prototype.values=function(){var b=[];return this.forEach(function(p){b.push(p)}),he(b)},S.prototype.entries=function(){var b=[];return this.forEach(function(p,D){b.push([D,p])}),he(b)},ie_iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(b,p){var D=(p=p||{}).body;if(b instanceof T){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,p.headers||(this.headers=new S(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!D&&null!=b._bodyInit&&(D=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new S(p.headers)),this.method=function Z(b){var p=b.toUpperCase();return R.indexOf(p)>-1?p:b}(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&D)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(D)}function h(b){var p=new FormData;return b.trim().split("&").forEach(function(D){if(D){var I=D.split("="),C=I.shift().replace(/\+/g," "),w=I.join("=").replace(/\+/g," ");p.append(decodeURIComponent(C),decodeURIComponent(w))}}),p}function f(b){var p=new S;return b.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(I){var C=I.split(":"),w=C.shift().trim();if(w){var q=C.join(":").trim();p.append(w,q)}}),p}function v(b,p){p||(p={}),this.type="default",this.status=void 0===p.status?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"OK",this.headers=new S(p.headers),this.url=p.url||"",this._initBody(b)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},z.call(T.prototype),z.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},v.error=function(){var b=new v(null,{status:0,statusText:""});return b.type="error",b};var y=[301,302,303,307,308];v.redirect=function(b,p){if(-1===y.indexOf(p))throw new RangeError("Invalid status code");return new v(null,{status:p,headers:{location:b}})},X.DOMException=_e.DOMException;try{new X.DOMException}catch{X.DOMException=function(p,D){this.message=p,this.name=D;var I=Error(p);this.stack=I.stack},X.DOMException.prototype=Object.create(Error.prototype),X.DOMException.prototype.constructor=X.DOMException}function x(b,p){return new Promise(function(D,I){var C=new T(b,p);if(C.signal&&C.signal.aborted)return I(new X.DOMException("Aborted","AbortError"));var w=new XMLHttpRequest;function q(){w.abort()}w.onload=function(){var ue={status:w.status,statusText:w.statusText,headers:f(w.getAllResponseHeaders()||"")};ue.url="responseURL"in w?w.responseURL:ue.headers.get("X-Request-URL"),D(new v("response"in w?w.response:w.responseText,ue))},w.onerror=function(){I(new TypeError("Network request failed"))},w.ontimeout=function(){I(new TypeError("Network request failed"))},w.onabort=function(){I(new X.DOMException("Aborted","AbortError"))},w.open(C.method,C.url,!0),"include"===C.credentials?w.withCredentials=!0:"omit"===C.credentials&&(w.withCredentials=!1),"responseType"in w&&ie_blob&&(w.responseType="blob"),C.headers.forEach(function(ue,W){w.setRequestHeader(W,ue)}),C.signal&&(C.signal.addEventListener("abort",q),w.onreadystatechange=function(){4===w.readyState&&C.signal.removeEventListener("abort",q)}),w.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}x.polyfill=!0,_e.fetch||(_e.fetch=x,_e.Headers=S,_e.Request=T,_e.Response=v),X.Headers=S,X.Request=T,X.Response=v,X.fetch=x,Object.defineProperty(X,"__esModule",{value:!0})}({}),M.fetch.ponyfill=!0,delete M.fetch.polyfill;var oe=M;(m=oe.fetch).default=oe.fetch,m.fetch=oe.fetch,m.Headers=oe.Headers,m.Request=oe.Request,m.Response=oe.Response,Ce.exports=m},80318:Ce=>{"use strict";var m="%[a-f0-9]{2}",j=new RegExp("("+m+")|([^%]+?)","gi"),M=new RegExp("("+m+")+","gi");function oe(X,ie){try{return[decodeURIComponent(X.join(""))]}catch{}if(1===X.length)return X;var K=X.slice(0,ie=ie||1),B=X.slice(ie);return Array.prototype.concat.call([],oe(K),oe(B))}function _e(X){try{return decodeURIComponent(X)}catch{for(var ie=X.match(j)||[],K=1;K<ie.length;K++)ie=(X=oe(ie,K).join("")).match(j)||[];return X}}Ce.exports=function(X){if("string"!=typeof X)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof X+"`");try{return X=X.replace(/\+/g," "),decodeURIComponent(X)}catch{return function fe(X){for(var ie={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},K=M.exec(X);K;){try{ie[K[0]]=decodeURIComponent(K[0])}catch{var B=_e(K[0]);B!==K[0]&&(ie[K[0]]=B)}K=M.exec(X)}ie["%C2"]="\ufffd";for(var L=Object.keys(ie),F=0;F<L.length;F++){var ae=L[F];X=X.replace(new RegExp(ae,"g"),ie[ae])}return X}(X)}}},2272:Ce=>{"use strict";var M,m="object"==typeof Reflect?Reflect:null,j=m&&"function"==typeof m.apply?m.apply:function(z,R,Z){return Function.prototype.apply.call(z,R,Z)};M=m&&"function"==typeof m.ownKeys?m.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var _e=Number.isNaN||function(z){return z!=z};function fe(){fe.init.call(this)}Ce.exports=fe,Ce.exports.once=function Se(H,z){return new Promise(function(R,Z){function T(f){H.removeListener(z,h),Z(f)}function h(){"function"==typeof H.removeListener&&H.removeListener("error",T),R([].slice.call(arguments))}V(H,z,h,{once:!0}),"error"!==z&&function be(H,z,R){"function"==typeof H.on&&V(H,"error",z,R)}(H,T,{once:!0})})},fe.EventEmitter=fe,fe.prototype._events=void 0,fe.prototype._eventsCount=0,fe.prototype._maxListeners=void 0;var X=10;function ie(H){if("function"!=typeof H)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof H)}function K(H){return void 0===H._maxListeners?fe.defaultMaxListeners:H._maxListeners}function B(H,z,R,Z){var T,h,f;if(ie(R),void 0===(h=H._events)?(h=H._events=Object.create(null),H._eventsCount=0):(void 0!==h.newListener&&(H.emit("newListener",z,R.listener?R.listener:R),h=H._events),f=h[z]),void 0===f)f=h[z]=R,++H._eventsCount;else if("function"==typeof f?f=h[z]=Z?[R,f]:[f,R]:Z?f.unshift(R):f.push(R),(T=K(H))>0&&f.length>T&&!f.warned){f.warned=!0;var v=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");v.name="MaxListenersExceededWarning",v.emitter=H,v.type=z,v.count=f.length,function oe(H){console&&console.warn&&console.warn(H)}(v)}return H}function L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function F(H,z,R){var Z={fired:!1,wrapFn:void 0,target:H,type:z,listener:R},T=L.bind(Z);return T.listener=R,Z.wrapFn=T,T}function ae(H,z,R){var Z=H._events;if(void 0===Z)return[];var T=Z[z];return void 0===T?[]:"function"==typeof T?R?[T.listener||T]:[T]:R?function De(H){for(var z=new Array(H.length),R=0;R<z.length;++R)z[R]=H[R].listener||H[R];return z}(T):S(T,T.length)}function he(H){var z=this._events;if(void 0!==z){var R=z[H];if("function"==typeof R)return 1;if(void 0!==R)return R.length}return 0}function S(H,z){for(var R=new Array(z),Z=0;Z<z;++Z)R[Z]=H[Z];return R}function V(H,z,R,Z){if("function"==typeof H.on)Z.once?H.once(z,R):H.on(z,R);else{if("function"!=typeof H.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof H);H.addEventListener(z,function T(h){Z.once&&H.removeEventListener(z,T),R(h)})}}Object.defineProperty(fe,"defaultMaxListeners",{enumerable:!0,get:function(){return X},set:function(H){if("number"!=typeof H||H<0||_e(H))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+H+".");X=H}}),fe.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},fe.prototype.setMaxListeners=function(z){if("number"!=typeof z||z<0||_e(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},fe.prototype.getMaxListeners=function(){return K(this)},fe.prototype.emit=function(z){for(var R=[],Z=1;Z<arguments.length;Z++)R.push(arguments[Z]);var T="error"===z,h=this._events;if(void 0!==h)T=T&&void 0===h.error;else if(!T)return!1;if(T){var f;if(R.length>0&&(f=R[0]),f instanceof Error)throw f;var v=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw v.context=f,v}var y=h[z];if(void 0===y)return!1;if("function"==typeof y)j(y,this,R);else{var x=y.length,b=S(y,x);for(Z=0;Z<x;++Z)j(b[Z],this,R)}return!0},fe.prototype.on=fe.prototype.addListener=function(z,R){return B(this,z,R,!1)},fe.prototype.prependListener=function(z,R){return B(this,z,R,!0)},fe.prototype.once=function(z,R){return ie(R),this.on(z,F(this,z,R)),this},fe.prototype.prependOnceListener=function(z,R){return ie(R),this.prependListener(z,F(this,z,R)),this},fe.prototype.off=fe.prototype.removeListener=function(z,R){var Z,T,h,f,v;if(ie(R),void 0===(T=this._events))return this;if(void 0===(Z=T[z]))return this;if(Z===R||Z.listener===R)0==--this._eventsCount?this._events=Object.create(null):(delete T[z],T.removeListener&&this.emit("removeListener",z,Z.listener||R));else if("function"!=typeof Z){for(h=-1,f=Z.length-1;f>=0;f--)if(Z[f]===R||Z[f].listener===R){v=Z[f].listener,h=f;break}if(h<0)return this;0===h?Z.shift():function se(H,z){for(;z+1<H.length;z++)H[z]=H[z+1];H.pop()}(Z,h),1===Z.length&&(T[z]=Z[0]),void 0!==T.removeListener&&this.emit("removeListener",z,v||R)}return this},fe.prototype.removeAllListeners=function(z){var R,Z,T;if(void 0===(Z=this._events))return this;if(void 0===Z.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Z[z]&&(0==--this._eventsCount?this._events=Object.create(null):delete Z[z]),this;if(0===arguments.length){var f,h=Object.keys(Z);for(T=0;T<h.length;++T)"removeListener"!==(f=h[T])&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(R=Z[z]))this.removeListener(z,R);else if(void 0!==R)for(T=R.length-1;T>=0;T--)this.removeListener(z,R[T]);return this},fe.prototype.listeners=function(z){return ae(this,z,!0)},fe.prototype.rawListeners=function(z){return ae(this,z,!1)},fe.listenerCount=function(H,z){return"function"==typeof H.listenerCount?H.listenerCount(z):he.call(H,z)},fe.prototype.listenerCount=he,fe.prototype.eventNames=function(){return this._eventsCount>0?M(this._events):[]}},25633:Ce=>{"use strict";Ce.exports=function(m,j){for(var M={},oe=Object.keys(m),_e=Array.isArray(j),fe=0;fe<oe.length;fe++){var X=oe[fe],ie=m[X];(_e?-1!==j.indexOf(X):j(X,ie,m))&&(M[X]=ie)}return M}},60066:(Ce,m,j)=>{Ce=j.nmd(Ce);var oe="__lodash_hash_undefined__",X=9007199254740991,ie="[object Arguments]",K="[object Array]",L="[object Boolean]",F="[object Date]",ae="[object Error]",he="[object Function]",se="[object Map]",De="[object Number]",be="[object Object]",V="[object Promise]",z="[object RegExp]",R="[object Set]",Z="[object String]",f="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",Ae=/^\[object .+?Constructor\]$/,ye=/^(?:0|[1-9]\d*)$/,xe={};xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe[ie]=xe[K]=xe[v]=xe[L]=xe[y]=xe[F]=xe[ae]=xe[he]=xe[se]=xe[De]=xe[be]=xe[z]=xe[R]=xe[Z]=xe[f]=!1;var Fe="object"==typeof global&&global&&global.Object===Object&&global,Le="object"==typeof self&&self&&self.Object===Object&&self,me=Fe||Le||Function("return this")(),ce=m&&!m.nodeType&&m,le=ce&&Ce&&!Ce.nodeType&&Ce,te=le&&le.exports===ce,_=te&&Fe.process,k=function(){try{return _&&_.binding&&_.binding("util")}catch{}}(),Te=k&&k.isTypedArray;function bt(N,ee){for(var Oe=-1,je=null==N?0:N.length;++Oe<je;)if(ee(N[Oe],Oe,N))return!0;return!1}function Bt(N,ee){return N.has(ee)}function ht(N){var ee=-1,Oe=Array(N.size);return N.forEach(function(je,Ct){Oe[++ee]=[Ct,je]}),Oe}function ct(N){var ee=-1,Oe=Array(N.size);return N.forEach(function(je){Oe[++ee]=je}),Oe}var N,nt=Array.prototype,$e=Object.prototype,qe=me["__core-js_shared__"],Xe=Function.prototype.toString,We=$e.hasOwnProperty,ft=(N=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",dt=$e.toString,vt=RegExp("^"+Xe.call(We).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=te?me.Buffer:void 0,gt=me.Symbol,Et=me.Uint8Array,Dt=$e.propertyIsEnumerable,Jr=nt.splice,br=gt?gt.toStringTag:void 0,fn=Object.getOwnPropertySymbols,Rn=mt?mt.isBuffer:void 0,Wn=function ot(N,ee){return function(Oe){return N(ee(Oe))}}(Object.keys,Object),wn=Dn(me,"DataView"),En=Dn(me,"Map"),Vt=Dn(me,"Promise"),Kt=Dn(me,"Set"),qt=Dn(me,"WeakMap"),$t=Dn(Object,"create"),Yt=Fn(wn),Xt=Fn(En),nr=Fn(Vt),ir=Fn(Kt),sr=Fn(qt),Wt=gt?gt.prototype:void 0,kt=Wt?Wt.valueOf:void 0;function Rt(N){var ee=-1,Oe=null==N?0:N.length;for(this.clear();++ee<Oe;){var je=N[ee];this.set(je[0],je[1])}}function ln(N){var ee=-1,Oe=null==N?0:N.length;for(this.clear();++ee<Oe;){var je=N[ee];this.set(je[0],je[1])}}function Nn(N){var ee=-1,Oe=null==N?0:N.length;for(this.clear();++ee<Oe;){var je=N[ee];this.set(je[0],je[1])}}function fi(N){var ee=-1,Oe=null==N?0:N.length;for(this.__data__=new Nn;++ee<Oe;)this.add(N[ee])}function hn(N){var ee=this.__data__=new ln(N);this.size=ee.size}function Ti(N,ee){for(var Oe=N.length;Oe--;)if(os(N[Oe][0],ee))return Oe;return-1}function li(N){return null==N?void 0===N?"[object Undefined]":"[object Null]":br&&br in Object(N)?function qs(N){var ee=We.call(N,br),Oe=N[br];try{N[br]=void 0;var je=!0}catch{}var Ct=dt.call(N);return je&&(ee?N[br]=Oe:delete N[br]),Ct}(N):function ma(N){return dt.call(N)}(N)}function ha(N){return di(N)&&li(N)==ie}function Vs(N,ee,Oe,je,Ct){return N===ee||(null==N||null==ee||!di(N)&&!di(ee)?N!=N&&ee!=ee:function Ac(N,ee,Oe,je,Ct,Qe){var Ut=hi(N),cr=hi(ee),dr=Ut?K:xn(N),zt=cr?K:xn(ee),Fr=(dr=dr==ie?be:dr)==be,$r=(zt=zt==ie?be:zt)==be,Er=dr==zt;if(Er&&Ni(N)){if(!Ni(ee))return!1;Ut=!0,Fr=!1}if(Er&&!Fr)return Qe||(Qe=new hn),Ut||pi(N)?pa(N,ee,Oe,je,Ct,Qe):function is(N,ee,Oe,je,Ct,Qe,Ut){switch(Oe){case y:if(N.byteLength!=ee.byteLength||N.byteOffset!=ee.byteOffset)return!1;N=N.buffer,ee=ee.buffer;case v:return!(N.byteLength!=ee.byteLength||!Qe(new Et(N),new Et(ee)));case L:case F:case De:return os(+N,+ee);case ae:return N.name==ee.name&&N.message==ee.message;case z:case Z:return N==ee+"";case se:var cr=ht;case R:if(cr||(cr=ct),N.size!=ee.size&&!(1&je))return!1;var zt=Ut.get(N);if(zt)return zt==ee;je|=2,Ut.set(N,ee);var Fr=pa(cr(N),cr(ee),je,Ct,Qe,Ut);return Ut.delete(N),Fr;case"[object Symbol]":if(kt)return kt.call(N)==kt.call(ee)}return!1}(N,ee,dr,Oe,je,Ct,Qe);if(!(1&Oe)){var zr=Fr&&We.call(N,"__wrapped__"),Hr=$r&&We.call(ee,"__wrapped__");if(zr||Hr){var Yr=zr?N.value():N,Zr=Hr?ee.value():ee;return Qe||(Qe=new hn),Ct(Yr,Zr,Oe,je,Qe)}}return!!Er&&(Qe||(Qe=new hn),function Cc(N,ee,Oe,je,Ct,Qe){var Ut=1&Oe,cr=ss(N),dr=cr.length;if(dr!=ss(ee).length&&!Ut)return!1;for(var $r=dr;$r--;){var Er=cr[$r];if(!(Ut?Er in ee:We.call(ee,Er)))return!1}var zr=Qe.get(N);if(zr&&Qe.get(ee))return zr==ee;var Hr=!0;Qe.set(N,ee),Qe.set(ee,N);for(var Yr=Ut;++$r<dr;){var Zr=N[Er=cr[$r]],jn=ee[Er];if(je)var Da=Ut?je(jn,Zr,Er,ee,N,Qe):je(Zr,jn,Er,N,ee,Qe);if(!(void 0===Da?Zr===jn||Ct(Zr,jn,Oe,je,Qe):Da)){Hr=!1;break}Yr||(Yr="constructor"==Er)}if(Hr&&!Yr){var ji=N.constructor,us=ee.constructor;ji!=us&&"constructor"in N&&"constructor"in ee&&!("function"==typeof ji&&ji instanceof ji&&"function"==typeof us&&us instanceof us)&&(Hr=!1)}return Qe.delete(N),Qe.delete(ee),Hr}(N,ee,Oe,je,Ct,Qe))}(N,ee,Oe,je,Vs,Ct))}function pa(N,ee,Oe,je,Ct,Qe){var Ut=1&Oe,cr=N.length,dr=ee.length;if(cr!=dr&&!(Ut&&dr>cr))return!1;var zt=Qe.get(N);if(zt&&Qe.get(ee))return zt==ee;var Fr=-1,$r=!0,Er=2&Oe?new fi:void 0;for(Qe.set(N,ee),Qe.set(ee,N);++Fr<cr;){var zr=N[Fr],Hr=ee[Fr];if(je)var Yr=Ut?je(Hr,zr,Fr,ee,N,Qe):je(zr,Hr,Fr,N,ee,Qe);if(void 0!==Yr){if(Yr)continue;$r=!1;break}if(Er){if(!bt(ee,function(Zr,jn){if(!Bt(Er,jn)&&(zr===Zr||Ct(zr,Zr,Oe,je,Qe)))return Er.push(jn)})){$r=!1;break}}else if(zr!==Hr&&!Ct(zr,Hr,Oe,je,Qe)){$r=!1;break}}return Qe.delete(N),Qe.delete(ee),$r}function ss(N){return function la(N,ee,Oe){var je=ee(N);return hi(N)?je:function st(N,ee){for(var Oe=-1,je=ee.length,Ct=N.length;++Oe<je;)N[Ct+Oe]=ee[Oe];return N}(je,Oe(N))}(N,Ea,Ws)}function Ri(N,ee){var Oe=N.__data__;return function _a(N){var ee=typeof N;return"string"==ee||"number"==ee||"symbol"==ee||"boolean"==ee?"__proto__"!==N:null===N}(ee)?Oe["string"==typeof ee?"string":"hash"]:Oe.map}function Dn(N,ee){var Oe=function rr(N,ee){return null==N?void 0:N[ee]}(N,ee);return function Ks(N){return!(!Gs(N)||function ya(N){return!!ft&&ft in N}(N))&&(as(N)?vt:Ae).test(Fn(N))}(Oe)?Oe:void 0}Rt.prototype.clear=function hr(){this.__data__=$t?$t(null):{},this.size=0},Rt.prototype.delete=function or(N){var ee=this.has(N)&&delete this.__data__[N];return this.size-=ee?1:0,ee},Rt.prototype.get=function ar(N){var ee=this.__data__;if($t){var Oe=ee[N];return Oe===oe?void 0:Oe}return We.call(ee,N)?ee[N]:void 0},Rt.prototype.has=function ur(N){var ee=this.__data__;return $t?void 0!==ee[N]:We.call(ee,N)},Rt.prototype.set=function sa(N,ee){var Oe=this.__data__;return this.size+=this.has(N)?0:1,Oe[N]=$t&&void 0===ee?oe:ee,this},ln.prototype.clear=function oa(){this.__data__=[],this.size=0},ln.prototype.delete=function aa(N){var ee=this.__data__,Oe=Ti(ee,N);return!(Oe<0||(Oe==ee.length-1?ee.pop():Jr.call(ee,Oe,1),--this.size,0))},ln.prototype.get=function ua(N){var ee=this.__data__,Oe=Ti(ee,N);return Oe<0?void 0:ee[Oe][1]},ln.prototype.has=function ca(N){return Ti(this.__data__,N)>-1},ln.prototype.set=function fa(N,ee){var Oe=this.__data__,je=Ti(Oe,N);return je<0?(++this.size,Oe.push([N,ee])):Oe[je][1]=ee,this},Nn.prototype.clear=function xc(){this.size=0,this.__data__={hash:new Rt,map:new(En||ln),string:new Rt}},Nn.prototype.delete=function zs(N){var ee=Ri(this,N).delete(N);return this.size-=ee?1:0,ee},Nn.prototype.get=function Sc(N){return Ri(this,N).get(N)},Nn.prototype.has=function Oc(N){return Ri(this,N).has(N)},Nn.prototype.set=function Hs(N,ee){var Oe=Ri(this,N),je=Oe.size;return Oe.set(N,ee),this.size+=Oe.size==je?0:1,this},fi.prototype.add=fi.prototype.push=function rs(N){return this.__data__.set(N,oe),this},fi.prototype.has=function Ic(N){return this.__data__.has(N)},hn.prototype.clear=function wr(){this.__data__=new ln,this.size=0},hn.prototype.delete=function Or(N){var ee=this.__data__,Oe=ee.delete(N);return this.size=ee.size,Oe},hn.prototype.get=function Ai(N){return this.__data__.get(N)},hn.prototype.has=function Ci(N){return this.__data__.has(N)},hn.prototype.set=function Zs(N,ee){var Oe=this.__data__;if(Oe instanceof ln){var je=Oe.__data__;if(!En||je.length<199)return je.push([N,ee]),this.size=++Oe.size,this;Oe=this.__data__=new Nn(je)}return Oe.set(N,ee),this.size=Oe.size,this};var Ws=fn?function(N){return null==N?[]:(N=Object(N),function ze(N,ee){for(var Oe=-1,je=null==N?0:N.length,Ct=0,Qe=[];++Oe<je;){var Ut=N[Oe];ee(Ut,Oe,N)&&(Qe[Ct++]=Ut)}return Qe}(fn(N),function(ee){return Dt.call(N,ee)}))}:function Fi(){return[]},xn=li;function ga(N,ee){return!!(ee=ee??X)&&("number"==typeof N||ye.test(N))&&N>-1&&N%1==0&&N<ee}function Fn(N){if(null!=N){try{return Xe.call(N)}catch{}try{return N+""}catch{}}return""}function os(N,ee){return N===ee||N!=N&&ee!=ee}(wn&&xn(new wn(new ArrayBuffer(1)))!=y||En&&xn(new En)!=se||Vt&&xn(Vt.resolve())!=V||Kt&&xn(new Kt)!=R||qt&&xn(new qt)!=f)&&(xn=function(N){var ee=li(N),Oe=ee==be?N.constructor:void 0,je=Oe?Fn(Oe):"";if(je)switch(je){case Yt:return y;case Xt:return se;case nr:return V;case ir:return R;case sr:return f}return ee});var ba=ha(function(){return arguments}())?ha:function(N){return di(N)&&We.call(N,"callee")&&!Dt.call(N,"callee")},hi=Array.isArray,Ni=Rn||function Rc(){return!1};function as(N){if(!Gs(N))return!1;var ee=li(N);return ee==he||"[object GeneratorFunction]"==ee||"[object AsyncFunction]"==ee||"[object Proxy]"==ee}function ks(N){return"number"==typeof N&&N>-1&&N%1==0&&N<=X}function Gs(N){var ee=typeof N;return null!=N&&("object"==ee||"function"==ee)}function di(N){return null!=N&&"object"==typeof N}var pi=Te?function wt(N){return function(ee){return N(ee)}}(Te):function da(N){return di(N)&&ks(N.length)&&!!xe[li(N)]};function Ea(N){return function wa(N){return null!=N&&ks(N.length)&&!as(N)}(N)?function Pc(N,ee){var Oe=hi(N),je=!Oe&&ba(N),Ct=!Oe&&!je&&Ni(N),Qe=!Oe&&!je&&!Ct&&pi(N),Ut=Oe||je||Ct||Qe,cr=Ut?function ut(N,ee){for(var Oe=-1,je=Array(N);++Oe<N;)je[Oe]=ee(Oe);return je}(N.length,String):[],dr=cr.length;for(var zt in N)(ee||We.call(N,zt))&&(!Ut||!("length"==zt||Ct&&("offset"==zt||"parent"==zt)||Qe&&("buffer"==zt||"byteLength"==zt||"byteOffset"==zt)||ga(zt,dr)))&&cr.push(zt);return cr}(N):function ns(N){if(!function va(N){var ee=N&&N.constructor;return N===("function"==typeof ee&&ee.prototype||$e)}(N))return Wn(N);var ee=[];for(var Oe in Object(N))We.call(N,Oe)&&"constructor"!=Oe&&ee.push(Oe);return ee}(N)}Ce.exports=function Tc(N,ee){return Vs(N,ee)}},9805:(Ce,m,j)=>{"use strict";const M=j(71141),oe=j(80318),_e=j(71675),fe=j(25633),ie=Symbol("encodeFragmentIdentifier");function L(V){if("string"!=typeof V||1!==V.length)throw new TypeError("arrayFormatSeparator must be single character string")}function F(V,H){return H.encode?H.strict?M(V):encodeURIComponent(V):V}function ae(V,H){return H.decode?oe(V):V}function he(V){return Array.isArray(V)?V.sort():"object"==typeof V?he(Object.keys(V)).sort((H,z)=>Number(H)-Number(z)).map(H=>V[H]):V}function S(V){const H=V.indexOf("#");return-1!==H&&(V=V.slice(0,H)),V}function De(V){const H=(V=S(V)).indexOf("?");return-1===H?"":V.slice(H+1)}function Se(V,H){return H.parseNumbers&&!Number.isNaN(Number(V))&&"string"==typeof V&&""!==V.trim()?V=Number(V):H.parseBooleans&&null!==V&&("true"===V.toLowerCase()||"false"===V.toLowerCase())&&(V="true"===V.toLowerCase()),V}function be(V,H){L((H=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},H)).arrayFormatSeparator);const z=function B(V){let H;switch(V.arrayFormat){case"index":return(z,R,Z)=>{H=/\[(\d*)\]$/.exec(z),z=z.replace(/\[\d*\]$/,""),H?(void 0===Z[z]&&(Z[z]={}),Z[z][H[1]]=R):Z[z]=R};case"bracket":return(z,R,Z)=>{H=/(\[\])$/.exec(z),Z[z=z.replace(/\[\]$/,"")]=H?void 0!==Z[z]?[].concat(Z[z],R):[R]:R};case"colon-list-separator":return(z,R,Z)=>{H=/(:list)$/.exec(z),Z[z=z.replace(/:list$/,"")]=H?void 0!==Z[z]?[].concat(Z[z],R):[R]:R};case"comma":case"separator":return(z,R,Z)=>{const T="string"==typeof R&&R.includes(V.arrayFormatSeparator),h="string"==typeof R&&!T&&ae(R,V).includes(V.arrayFormatSeparator);R=h?ae(R,V):R;const f=T||h?R.split(V.arrayFormatSeparator).map(v=>ae(v,V)):null===R?R:ae(R,V);Z[z]=f};case"bracket-separator":return(z,R,Z)=>{const T=/(\[\])$/.test(z);if(z=z.replace(/\[\]$/,""),!T)return void(Z[z]=R&&ae(R,V));const h=null===R?[]:R.split(V.arrayFormatSeparator).map(f=>ae(f,V));Z[z]=void 0!==Z[z]?[].concat(Z[z],h):h};default:return(z,R,Z)=>{Z[z]=void 0!==Z[z]?[].concat(Z[z],R):R}}}(H),R=Object.create(null);if("string"!=typeof V||!(V=V.trim().replace(/^[?#&]/,"")))return R;for(const Z of V.split("&")){if(""===Z)continue;let[T,h]=_e(H.decode?Z.replace(/\+/g," "):Z,"=");h=void 0===h?null:["comma","separator","bracket-separator"].includes(H.arrayFormat)?h:ae(h,H),z(ae(T,H),h,R)}for(const Z of Object.keys(R)){const T=R[Z];if("object"==typeof T&&null!==T)for(const h of Object.keys(T))T[h]=Se(T[h],H);else R[Z]=Se(T,H)}return!1===H.sort?R:(!0===H.sort?Object.keys(R).sort():Object.keys(R).sort(H.sort)).reduce((Z,T)=>{const h=R[T];return Z[T]=Boolean(h)&&"object"==typeof h&&!Array.isArray(h)?he(h):h,Z},Object.create(null))}m.extract=De,m.parse=be,m.stringify=(V,H)=>{if(!V)return"";L((H=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},H)).arrayFormatSeparator);const z=h=>H.skipNull&&(V=>null==V)(V[h])||H.skipEmptyString&&""===V[h],R=function K(V){switch(V.arrayFormat){case"index":return H=>(z,R)=>{const Z=z.length;return void 0===R||V.skipNull&&null===R||V.skipEmptyString&&""===R?z:null===R?[...z,[F(H,V),"[",Z,"]"].join("")]:[...z,[F(H,V),"[",F(Z,V),"]=",F(R,V)].join("")]};case"bracket":return H=>(z,R)=>void 0===R||V.skipNull&&null===R||V.skipEmptyString&&""===R?z:null===R?[...z,[F(H,V),"[]"].join("")]:[...z,[F(H,V),"[]=",F(R,V)].join("")];case"colon-list-separator":return H=>(z,R)=>void 0===R||V.skipNull&&null===R||V.skipEmptyString&&""===R?z:null===R?[...z,[F(H,V),":list="].join("")]:[...z,[F(H,V),":list=",F(R,V)].join("")];case"comma":case"separator":case"bracket-separator":{const H="bracket-separator"===V.arrayFormat?"[]=":"=";return z=>(R,Z)=>void 0===Z||V.skipNull&&null===Z||V.skipEmptyString&&""===Z?R:(Z=null===Z?"":Z,0===R.length?[[F(z,V),H,F(Z,V)].join("")]:[[R,F(Z,V)].join(V.arrayFormatSeparator)])}default:return H=>(z,R)=>void 0===R||V.skipNull&&null===R||V.skipEmptyString&&""===R?z:null===R?[...z,F(H,V)]:[...z,[F(H,V),"=",F(R,V)].join("")]}}(H),Z={};for(const h of Object.keys(V))z(h)||(Z[h]=V[h]);const T=Object.keys(Z);return!1!==H.sort&&T.sort(H.sort),T.map(h=>{const f=V[h];return void 0===f?"":null===f?F(h,H):Array.isArray(f)?0===f.length&&"bracket-separator"===H.arrayFormat?F(h,H)+"[]":f.reduce(R(h),[]).join("&"):F(h,H)+"="+F(f,H)}).filter(h=>h.length>0).join("&")},m.parseUrl=(V,H)=>{H=Object.assign({decode:!0},H);const[z,R]=_e(V,"#");return Object.assign({url:z.split("?")[0]||"",query:be(De(V),H)},H&&H.parseFragmentIdentifier&&R?{fragmentIdentifier:ae(R,H)}:{})},m.stringifyUrl=(V,H)=>{H=Object.assign({encode:!0,strict:!0,[ie]:!0},H);const z=S(V.url).split("?")[0]||"",R=m.extract(V.url),Z=m.parse(R,{sort:!1}),T=Object.assign(Z,V.query);let h=m.stringify(T,H);h&&(h=`?${h}`);let f=function se(V){let H="";const z=V.indexOf("#");return-1!==z&&(H=V.slice(z)),H}(V.url);return V.fragmentIdentifier&&(f=`#${H[ie]?F(V.fragmentIdentifier,H):V.fragmentIdentifier}`),`${z}${h}${f}`},m.pick=(V,H,z)=>{z=Object.assign({parseFragmentIdentifier:!0,[ie]:!1},z);const{url:R,query:Z,fragmentIdentifier:T}=m.parseUrl(V,z);return m.stringifyUrl({url:R,query:fe(Z,H),fragmentIdentifier:T},z)},m.exclude=(V,H,z)=>{const R=Array.isArray(H)?Z=>!H.includes(Z):(Z,T)=>!H(Z,T);return m.pick(V,R,z)}},51958:Ce=>{"use strict";function m(M){try{return JSON.stringify(M)}catch{return'"[Circular]"'}}Ce.exports=function j(M,oe,_e){var fe=_e&&_e.stringify||m;if("object"==typeof M&&null!==M){var ie=oe.length+1;if(1===ie)return M;var K=new Array(ie);K[0]=fe(M);for(var B=1;B<ie;B++)K[B]=fe(oe[B]);return K.join(" ")}if("string"!=typeof M)return M;var L=oe.length;if(0===L)return M;for(var F="",ae=0,he=-1,S=M&&M.length||0,se=0;se<S;){if(37===M.charCodeAt(se)&&se+1<S){switch(he=he>-1?he:0,M.charCodeAt(se+1)){case 100:case 102:if(ae>=L||null==oe[ae])break;he<se&&(F+=M.slice(he,se)),F+=Number(oe[ae]),he=se+2,se++;break;case 105:if(ae>=L||null==oe[ae])break;he<se&&(F+=M.slice(he,se)),F+=Math.floor(Number(oe[ae])),he=se+2,se++;break;case 79:case 111:case 106:if(ae>=L||void 0===oe[ae])break;he<se&&(F+=M.slice(he,se));var De=typeof oe[ae];if("string"===De){F+="'"+oe[ae]+"'",he=se+2,se++;break}if("function"===De){F+=oe[ae].name||"<anonymous>",he=se+2,se++;break}F+=fe(oe[ae]),he=se+2,se++;break;case 115:if(ae>=L)break;he<se&&(F+=M.slice(he,se)),F+=String(oe[ae]),he=se+2,se++;break;case 37:he<se&&(F+=M.slice(he,se)),F+="%",he=se+2,se++,ae--}++ae}++se}return-1===he?M:(he<S&&(F+=M.slice(he)),F)}},53439:(Ce,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.safeJsonParse=function j(oe){if("string"!=typeof oe)throw new Error("Cannot safe json parse value of type "+typeof oe);try{return JSON.parse(oe)}catch{return oe}},m.safeJsonStringify=function M(oe){return"string"==typeof oe?oe:JSON.stringify(oe,(_e,fe)=>typeof fe>"u"?null:fe)}},71675:Ce=>{"use strict";Ce.exports=(m,j)=>{if("string"!=typeof m||"string"!=typeof j)throw new TypeError("Expected the arguments to be of type `string`");if(""===j)return[m];const M=m.indexOf(j);return-1===M?[m]:[m.slice(0,M),m.slice(M+j.length)]}},71141:Ce=>{"use strict";Ce.exports=m=>encodeURIComponent(m).replace(/[!'()*]/g,j=>`%${j.charCodeAt(0).toString(16).toUpperCase()}`)},82791:Ce=>{"use strict";Ce.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},69763:(Ce,m,j)=>{"use strict";j.r(m),j.d(m,{__assign:()=>_e,__asyncDelegator:()=>V,__asyncGenerator:()=>be,__asyncValues:()=>H,__await:()=>Se,__awaiter:()=>B,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>X,__exportStar:()=>ae,__extends:()=>oe,__generator:()=>L,__importDefault:()=>Z,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>ie,__read:()=>S,__rest:()=>fe,__spread:()=>se,__spreadArrays:()=>De,__values:()=>he});var M=function(f,v){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(f,v)};function oe(f,v){function y(){this.constructor=f}M(f,v),f.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(f,v){var y={};for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&v.indexOf(x)<0&&(y[x]=f[x]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(f);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(f,x[b])&&(y[x[b]]=f[x[b]])}return y}function X(f,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,v,y,x);else for(var I=f.length-1;I>=0;I--)(D=f[I])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function ie(f,v){return function(y,x){v(y,x,f)}}function K(f,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,v)}function B(f,v,y,x){return new(y||(y=Promise))(function(p,D){function I(q){try{w(x.next(q))}catch(ue){D(ue)}}function C(q){try{w(x.throw(q))}catch(ue){D(ue)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(I,C)}w((x=x.apply(f,v||[])).next())})}function L(f,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:I(0),throw:I(1),return:I(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function I(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(f,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(f,v,y,x){void 0===x&&(x=y),f[x]=v[y]}function ae(f,v){for(var y in f)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=f[y])}function he(f){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&f[v],x=0;if(y)return y.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&x>=f.length&&(f=void 0),{value:f&&f[x++],done:!f}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(f,v){var y="function"==typeof Symbol&&f[Symbol.iterator];if(!y)return f;var b,D,x=y.call(f),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(I){D={error:I}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function se(){for(var f=[],v=0;v<arguments.length;v++)f=f.concat(S(arguments[v]));return f}function De(){for(var f=0,v=0,y=arguments.length;v<y;v++)f+=arguments[v].length;var x=Array(f),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,I=p.length;D<I;D++,b++)x[b]=p[D];return x}function Se(f){return this instanceof Se?(this.v=f,this):new Se(f)}function be(f,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(f,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Ae){return new Promise(function(ye,xe){p.push([W,Ae,ye,xe])>1||I(W,Ae)})})}function I(W,Ae){try{!function C(W){W.value instanceof Se?Promise.resolve(W.value.v).then(w,q):ue(p[0][2],W)}(x[W](Ae))}catch(ye){ue(p[0][3],ye)}}function w(W){I("next",W)}function q(W){I("throw",W)}function ue(W,Ae){W(Ae),p.shift(),p.length&&I(p[0][0],p[0][1])}}function V(f){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=f[b]?function(D){return(y=!y)?{value:Se(f[b](D)),done:"return"===b}:p?p(D):D}:p}}function H(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=f[Symbol.asyncIterator];return v?v.call(f):(f=he(f),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=f[p]&&function(D){return new Promise(function(I,C){!function b(p,D,I,C){Promise.resolve(C).then(function(w){p({value:w,done:I})},D)}(I,C,(D=f[p](D)).done,D.value)})}}}function z(f,v){return Object.defineProperty?Object.defineProperty(f,"raw",{value:v}):f.raw=v,f}function R(f){if(f&&f.__esModule)return f;var v={};if(null!=f)for(var y in f)Object.hasOwnProperty.call(f,y)&&(v[y]=f[y]);return v.default=f,v}function Z(f){return f&&f.__esModule?f:{default:f}}function T(f,v){if(!v.has(f))throw new TypeError("attempted to get private field on non-instance");return v.get(f)}function h(f,v,y){if(!v.has(f))throw new TypeError("attempted to set private field on non-instance");return v.set(f,y),y}},99940:(Ce,m,j)=>{"use strict";j.r(m),j.d(m,{__assign:()=>_e,__asyncDelegator:()=>V,__asyncGenerator:()=>be,__asyncValues:()=>H,__await:()=>Se,__awaiter:()=>B,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>X,__exportStar:()=>ae,__extends:()=>oe,__generator:()=>L,__importDefault:()=>Z,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>ie,__read:()=>S,__rest:()=>fe,__spread:()=>se,__spreadArrays:()=>De,__values:()=>he});var M=function(f,v){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(f,v)};function oe(f,v){function y(){this.constructor=f}M(f,v),f.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(f,v){var y={};for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&v.indexOf(x)<0&&(y[x]=f[x]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(f);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(f,x[b])&&(y[x[b]]=f[x[b]])}return y}function X(f,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,v,y,x);else for(var I=f.length-1;I>=0;I--)(D=f[I])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function ie(f,v){return function(y,x){v(y,x,f)}}function K(f,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,v)}function B(f,v,y,x){return new(y||(y=Promise))(function(p,D){function I(q){try{w(x.next(q))}catch(ue){D(ue)}}function C(q){try{w(x.throw(q))}catch(ue){D(ue)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(I,C)}w((x=x.apply(f,v||[])).next())})}function L(f,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:I(0),throw:I(1),return:I(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function I(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(f,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(f,v,y,x){void 0===x&&(x=y),f[x]=v[y]}function ae(f,v){for(var y in f)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=f[y])}function he(f){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&f[v],x=0;if(y)return y.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&x>=f.length&&(f=void 0),{value:f&&f[x++],done:!f}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(f,v){var y="function"==typeof Symbol&&f[Symbol.iterator];if(!y)return f;var b,D,x=y.call(f),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(I){D={error:I}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function se(){for(var f=[],v=0;v<arguments.length;v++)f=f.concat(S(arguments[v]));return f}function De(){for(var f=0,v=0,y=arguments.length;v<y;v++)f+=arguments[v].length;var x=Array(f),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,I=p.length;D<I;D++,b++)x[b]=p[D];return x}function Se(f){return this instanceof Se?(this.v=f,this):new Se(f)}function be(f,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(f,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Ae){return new Promise(function(ye,xe){p.push([W,Ae,ye,xe])>1||I(W,Ae)})})}function I(W,Ae){try{!function C(W){W.value instanceof Se?Promise.resolve(W.value.v).then(w,q):ue(p[0][2],W)}(x[W](Ae))}catch(ye){ue(p[0][3],ye)}}function w(W){I("next",W)}function q(W){I("throw",W)}function ue(W,Ae){W(Ae),p.shift(),p.length&&I(p[0][0],p[0][1])}}function V(f){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=f[b]?function(D){return(y=!y)?{value:Se(f[b](D)),done:"return"===b}:p?p(D):D}:p}}function H(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=f[Symbol.asyncIterator];return v?v.call(f):(f=he(f),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=f[p]&&function(D){return new Promise(function(I,C){!function b(p,D,I,C){Promise.resolve(C).then(function(w){p({value:w,done:I})},D)}(I,C,(D=f[p](D)).done,D.value)})}}}function z(f,v){return Object.defineProperty?Object.defineProperty(f,"raw",{value:v}):f.raw=v,f}function R(f){if(f&&f.__esModule)return f;var v={};if(null!=f)for(var y in f)Object.hasOwnProperty.call(f,y)&&(v[y]=f[y]);return v.default=f,v}function Z(f){return f&&f.__esModule?f:{default:f}}function T(f,v){if(!v.has(f))throw new TypeError("attempted to get private field on non-instance");return v.get(f)}function h(f,v,y){if(!v.has(f))throw new TypeError("attempted to set private field on non-instance");return v.set(f,y),y}},92818:(Ce,m,j)=>{"use strict";j.r(m),j.d(m,{__assign:()=>_e,__asyncDelegator:()=>V,__asyncGenerator:()=>be,__asyncValues:()=>H,__await:()=>Se,__awaiter:()=>B,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>X,__exportStar:()=>ae,__extends:()=>oe,__generator:()=>L,__importDefault:()=>Z,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>ie,__read:()=>S,__rest:()=>fe,__spread:()=>se,__spreadArrays:()=>De,__values:()=>he});var M=function(f,v){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(f,v)};function oe(f,v){function y(){this.constructor=f}M(f,v),f.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(f,v){var y={};for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&v.indexOf(x)<0&&(y[x]=f[x]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(f);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(f,x[b])&&(y[x[b]]=f[x[b]])}return y}function X(f,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,v,y,x);else for(var I=f.length-1;I>=0;I--)(D=f[I])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function ie(f,v){return function(y,x){v(y,x,f)}}function K(f,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,v)}function B(f,v,y,x){return new(y||(y=Promise))(function(p,D){function I(q){try{w(x.next(q))}catch(ue){D(ue)}}function C(q){try{w(x.throw(q))}catch(ue){D(ue)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(I,C)}w((x=x.apply(f,v||[])).next())})}function L(f,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:I(0),throw:I(1),return:I(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function I(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(f,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(f,v,y,x){void 0===x&&(x=y),f[x]=v[y]}function ae(f,v){for(var y in f)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=f[y])}function he(f){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&f[v],x=0;if(y)return y.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&x>=f.length&&(f=void 0),{value:f&&f[x++],done:!f}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(f,v){var y="function"==typeof Symbol&&f[Symbol.iterator];if(!y)return f;var b,D,x=y.call(f),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(I){D={error:I}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function se(){for(var f=[],v=0;v<arguments.length;v++)f=f.concat(S(arguments[v]));return f}function De(){for(var f=0,v=0,y=arguments.length;v<y;v++)f+=arguments[v].length;var x=Array(f),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,I=p.length;D<I;D++,b++)x[b]=p[D];return x}function Se(f){return this instanceof Se?(this.v=f,this):new Se(f)}function be(f,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(f,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Ae){return new Promise(function(ye,xe){p.push([W,Ae,ye,xe])>1||I(W,Ae)})})}function I(W,Ae){try{!function C(W){W.value instanceof Se?Promise.resolve(W.value.v).then(w,q):ue(p[0][2],W)}(x[W](Ae))}catch(ye){ue(p[0][3],ye)}}function w(W){I("next",W)}function q(W){I("throw",W)}function ue(W,Ae){W(Ae),p.shift(),p.length&&I(p[0][0],p[0][1])}}function V(f){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=f[b]?function(D){return(y=!y)?{value:Se(f[b](D)),done:"return"===b}:p?p(D):D}:p}}function H(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=f[Symbol.asyncIterator];return v?v.call(f):(f=he(f),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=f[p]&&function(D){return new Promise(function(I,C){!function b(p,D,I,C){Promise.resolve(C).then(function(w){p({value:w,done:I})},D)}(I,C,(D=f[p](D)).done,D.value)})}}}function z(f,v){return Object.defineProperty?Object.defineProperty(f,"raw",{value:v}):f.raw=v,f}function R(f){if(f&&f.__esModule)return f;var v={};if(null!=f)for(var y in f)Object.hasOwnProperty.call(f,y)&&(v[y]=f[y]);return v.default=f,v}function Z(f){return f&&f.__esModule?f:{default:f}}function T(f,v){if(!v.has(f))throw new TypeError("attempted to get private field on non-instance");return v.get(f)}function h(f,v,y){if(!v.has(f))throw new TypeError("attempted to set private field on non-instance");return v.set(f,y),y}},20263:(Ce,m,j)=>{"use strict";j.r(m),j.d(m,{__assign:()=>_e,__asyncDelegator:()=>V,__asyncGenerator:()=>be,__asyncValues:()=>H,__await:()=>Se,__awaiter:()=>B,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>X,__exportStar:()=>ae,__extends:()=>oe,__generator:()=>L,__importDefault:()=>Z,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>ie,__read:()=>S,__rest:()=>fe,__spread:()=>se,__spreadArrays:()=>De,__values:()=>he});var M=function(f,v){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(f,v)};function oe(f,v){function y(){this.constructor=f}M(f,v),f.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(f,v){var y={};for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&v.indexOf(x)<0&&(y[x]=f[x]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(f);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(f,x[b])&&(y[x[b]]=f[x[b]])}return y}function X(f,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,v,y,x);else for(var I=f.length-1;I>=0;I--)(D=f[I])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function ie(f,v){return function(y,x){v(y,x,f)}}function K(f,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,v)}function B(f,v,y,x){return new(y||(y=Promise))(function(p,D){function I(q){try{w(x.next(q))}catch(ue){D(ue)}}function C(q){try{w(x.throw(q))}catch(ue){D(ue)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(I,C)}w((x=x.apply(f,v||[])).next())})}function L(f,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:I(0),throw:I(1),return:I(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function I(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(f,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(f,v,y,x){void 0===x&&(x=y),f[x]=v[y]}function ae(f,v){for(var y in f)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=f[y])}function he(f){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&f[v],x=0;if(y)return y.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&x>=f.length&&(f=void 0),{value:f&&f[x++],done:!f}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(f,v){var y="function"==typeof Symbol&&f[Symbol.iterator];if(!y)return f;var b,D,x=y.call(f),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(I){D={error:I}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function se(){for(var f=[],v=0;v<arguments.length;v++)f=f.concat(S(arguments[v]));return f}function De(){for(var f=0,v=0,y=arguments.length;v<y;v++)f+=arguments[v].length;var x=Array(f),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,I=p.length;D<I;D++,b++)x[b]=p[D];return x}function Se(f){return this instanceof Se?(this.v=f,this):new Se(f)}function be(f,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(f,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Ae){return new Promise(function(ye,xe){p.push([W,Ae,ye,xe])>1||I(W,Ae)})})}function I(W,Ae){try{!function C(W){W.value instanceof Se?Promise.resolve(W.value.v).then(w,q):ue(p[0][2],W)}(x[W](Ae))}catch(ye){ue(p[0][3],ye)}}function w(W){I("next",W)}function q(W){I("throw",W)}function ue(W,Ae){W(Ae),p.shift(),p.length&&I(p[0][0],p[0][1])}}function V(f){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=f[b]?function(D){return(y=!y)?{value:Se(f[b](D)),done:"return"===b}:p?p(D):D}:p}}function H(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=f[Symbol.asyncIterator];return v?v.call(f):(f=he(f),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=f[p]&&function(D){return new Promise(function(I,C){!function b(p,D,I,C){Promise.resolve(C).then(function(w){p({value:w,done:I})},D)}(I,C,(D=f[p](D)).done,D.value)})}}}function z(f,v){return Object.defineProperty?Object.defineProperty(f,"raw",{value:v}):f.raw=v,f}function R(f){if(f&&f.__esModule)return f;var v={};if(null!=f)for(var y in f)Object.hasOwnProperty.call(f,y)&&(v[y]=f[y]);return v.default=f,v}function Z(f){return f&&f.__esModule?f:{default:f}}function T(f,v){if(!v.has(f))throw new TypeError("attempted to get private field on non-instance");return v.get(f)}function h(f,v,y){if(!v.has(f))throw new TypeError("attempted to set private field on non-instance");return v.set(f,y),y}},58092:(Ce,m,j)=>{"use strict";j.r(m),j.d(m,{__assign:()=>_e,__asyncDelegator:()=>V,__asyncGenerator:()=>be,__asyncValues:()=>H,__await:()=>Se,__awaiter:()=>B,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>h,__createBinding:()=>F,__decorate:()=>X,__exportStar:()=>ae,__extends:()=>oe,__generator:()=>L,__importDefault:()=>Z,__importStar:()=>R,__makeTemplateObject:()=>z,__metadata:()=>K,__param:()=>ie,__read:()=>S,__rest:()=>fe,__spread:()=>se,__spreadArrays:()=>De,__values:()=>he});var M=function(f,v){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])})(f,v)};function oe(f,v){function y(){this.constructor=f}M(f,v),f.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}var _e=function(){return _e=Object.assign||function(v){for(var y,x=1,b=arguments.length;x<b;x++)for(var p in y=arguments[x])Object.prototype.hasOwnProperty.call(y,p)&&(v[p]=y[p]);return v},_e.apply(this,arguments)};function fe(f,v){var y={};for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&v.indexOf(x)<0&&(y[x]=f[x]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(x=Object.getOwnPropertySymbols(f);b<x.length;b++)v.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(f,x[b])&&(y[x[b]]=f[x[b]])}return y}function X(f,v,y,x){var D,b=arguments.length,p=b<3?v:null===x?x=Object.getOwnPropertyDescriptor(v,y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,v,y,x);else for(var I=f.length-1;I>=0;I--)(D=f[I])&&(p=(b<3?D(p):b>3?D(v,y,p):D(v,y))||p);return b>3&&p&&Object.defineProperty(v,y,p),p}function ie(f,v){return function(y,x){v(y,x,f)}}function K(f,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,v)}function B(f,v,y,x){return new(y||(y=Promise))(function(p,D){function I(q){try{w(x.next(q))}catch(ue){D(ue)}}function C(q){try{w(x.throw(q))}catch(ue){D(ue)}}function w(q){q.done?p(q.value):function b(p){return p instanceof y?p:new y(function(D){D(p)})}(q.value).then(I,C)}w((x=x.apply(f,v||[])).next())})}function L(f,v){var x,b,p,D,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return D={next:I(0),throw:I(1),return:I(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function I(w){return function(q){return function C(w){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,b=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!(p=(p=y.trys).length>0&&p[p.length-1])&&(6===w[0]||2===w[0])){y=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(6===w[0]&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=v.call(f,y)}catch(q){w=[6,q],b=0}finally{x=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,q])}}}function F(f,v,y,x){void 0===x&&(x=y),f[x]=v[y]}function ae(f,v){for(var y in f)"default"!==y&&!v.hasOwnProperty(y)&&(v[y]=f[y])}function he(f){var v="function"==typeof Symbol&&Symbol.iterator,y=v&&f[v],x=0;if(y)return y.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&x>=f.length&&(f=void 0),{value:f&&f[x++],done:!f}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(f,v){var y="function"==typeof Symbol&&f[Symbol.iterator];if(!y)return f;var b,D,x=y.call(f),p=[];try{for(;(void 0===v||v-- >0)&&!(b=x.next()).done;)p.push(b.value)}catch(I){D={error:I}}finally{try{b&&!b.done&&(y=x.return)&&y.call(x)}finally{if(D)throw D.error}}return p}function se(){for(var f=[],v=0;v<arguments.length;v++)f=f.concat(S(arguments[v]));return f}function De(){for(var f=0,v=0,y=arguments.length;v<y;v++)f+=arguments[v].length;var x=Array(f),b=0;for(v=0;v<y;v++)for(var p=arguments[v],D=0,I=p.length;D<I;D++,b++)x[b]=p[D];return x}function Se(f){return this instanceof Se?(this.v=f,this):new Se(f)}function be(f,v,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,x=y.apply(f,v||[]),p=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(W){x[W]&&(b[W]=function(Ae){return new Promise(function(ye,xe){p.push([W,Ae,ye,xe])>1||I(W,Ae)})})}function I(W,Ae){try{!function C(W){W.value instanceof Se?Promise.resolve(W.value.v).then(w,q):ue(p[0][2],W)}(x[W](Ae))}catch(ye){ue(p[0][3],ye)}}function w(W){I("next",W)}function q(W){I("throw",W)}function ue(W,Ae){W(Ae),p.shift(),p.length&&I(p[0][0],p[0][1])}}function V(f){var v,y;return v={},x("next"),x("throw",function(b){throw b}),x("return"),v[Symbol.iterator]=function(){return this},v;function x(b,p){v[b]=f[b]?function(D){return(y=!y)?{value:Se(f[b](D)),done:"return"===b}:p?p(D):D}:p}}function H(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,v=f[Symbol.asyncIterator];return v?v.call(f):(f=he(f),y={},x("next"),x("throw"),x("return"),y[Symbol.asyncIterator]=function(){return this},y);function x(p){y[p]=f[p]&&function(D){return new Promise(function(I,C){!function b(p,D,I,C){Promise.resolve(C).then(function(w){p({value:w,done:I})},D)}(I,C,(D=f[p](D)).done,D.value)})}}}function z(f,v){return Object.defineProperty?Object.defineProperty(f,"raw",{value:v}):f.raw=v,f}function R(f){if(f&&f.__esModule)return f;var v={};if(null!=f)for(var y in f)Object.hasOwnProperty.call(f,y)&&(v[y]=f[y]);return v.default=f,v}function Z(f){return f&&f.__esModule?f:{default:f}}function T(f,v){if(!v.has(f))throw new TypeError("attempted to get private field on non-instance");return v.get(f)}function h(f,v,y){if(!v.has(f))throw new TypeError("attempted to set private field on non-instance");return v.set(f,y),y}},37386:(Ce,m,j)=>{"use strict";const M=j(51958);Ce.exports=X;const oe=function Z(){function T(h){return typeof h<"u"&&h}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}().console||{},_e={mapHttpRequest:De,mapHttpResponse:De,wrapRequestSerializer:Se,wrapResponseSerializer:Se,wrapErrorSerializer:Se,req:De,res:De,err:function S(T){const h={type:T.constructor.name,msg:T.message,stack:T.stack};for(const f in T)void 0===h[f]&&(h[f]=T[f]);return h}};function X(T){(T=T||{}).browser=T.browser||{};const h=T.browser.transmit;if(h&&"function"!=typeof h.send)throw Error("pino: transmit option must have a send function");const f=T.browser.write||oe;T.browser.write&&(T.browser.asObject=!0);const v=T.serializers||{},y=function fe(T,h){return Array.isArray(T)?T.filter(function(v){return"!stdSerializers.err"!==v}):!0===T&&Object.keys(h)}(T.browser.serialize,v);let x=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(x=!1),"function"==typeof f&&(f.error=f.fatal=f.warn=f.info=f.debug=f.trace=f),!1===T.enabled&&(T.level="silent");const p=T.level||"info",D=Object.create(f);D.log||(D.log=be),Object.defineProperty(D,"levelVal",{get:function C(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(D,"level",{get:function w(){return this._level},set:function q(W){if("silent"!==W&&!this.levels.values[W])throw Error("unknown level "+W);this._level=W,ie(I,D,"error","log"),ie(I,D,"fatal","error"),ie(I,D,"warn","error"),ie(I,D,"info","log"),ie(I,D,"debug","log"),ie(I,D,"trace","log")}});const I={transmit:h,serialize:y,asObject:T.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:se(T)};return D.levels=X.levels,D.level=p,D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=be,D.serializers=v,D._serialize=y,D._stdErrSerialize=x,D.child=function ue(W,Ae){if(!W)throw new Error("missing bindings for child Pino");Ae=Ae||{},y&&W.serializers&&(Ae.serializers=W.serializers);const ye=Ae.serializers;if(y&&ye){var xe=Object.assign({},v,ye),Fe=!0===T.browser.serialize?Object.keys(xe):y;delete W.serializers,L([W],Fe,xe,this._stdErrSerialize)}function Le(me){this._childLevel=1+(0|me._childLevel),this.error=F(me,W,"error"),this.fatal=F(me,W,"fatal"),this.warn=F(me,W,"warn"),this.info=F(me,W,"info"),this.debug=F(me,W,"debug"),this.trace=F(me,W,"trace"),xe&&(this.serializers=xe,this._serialize=Fe),h&&(this._logEvent=he([].concat(me._logEvent.bindings,W)))}return Le.prototype=this,new Le(this)},h&&(D._logEvent=he()),D}function ie(T,h,f,v){const y=Object.getPrototypeOf(h);h[f]=h.levelVal>h.levels.values[f]?be:y[f]?y[f]:oe[f]||oe[v]||be,function K(T,h,f){!T.transmit&&h[f]===be||(h[f]=function(v){return function(){const x=T.timestamp(),b=new Array(arguments.length),p=Object.getPrototypeOf&&Object.getPrototypeOf(this)===oe?oe:this;for(var D=0;D<b.length;D++)b[D]=arguments[D];if(T.serialize&&!T.asObject&&L(b,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?v.call(p,B(this,f,b,x)):v.apply(p,b),T.transmit){const I=T.transmit.level||h.level,w=X.levels.values[f];if(w<X.levels.values[I])return;ae(this,{ts:x,methodLevel:f,methodValue:w,transmitLevel:I,transmitValue:X.levels.values[T.transmit.level||h.level],send:T.transmit.send,val:h.levelVal},b)}}}(h[f]))}(T,h,f)}function B(T,h,f,v){T._serialize&&L(f,T._serialize,T.serializers,T._stdErrSerialize);const y=f.slice();let x=y[0];const b={};v&&(b.time=v),b.level=X.levels.values[h];let p=1+(0|T._childLevel);if(p<1&&(p=1),null!==x&&"object"==typeof x){for(;p--&&"object"==typeof y[0];)Object.assign(b,y.shift());x=y.length?M(y.shift(),y):void 0}else"string"==typeof x&&(x=M(y.shift(),y));return void 0!==x&&(b.msg=x),b}function L(T,h,f,v){for(const y in T)if(v&&T[y]instanceof Error)T[y]=X.stdSerializers.err(T[y]);else if("object"==typeof T[y]&&!Array.isArray(T[y]))for(const x in T[y])h&&h.indexOf(x)>-1&&x in f&&(T[y][x]=f[x](T[y][x]))}function F(T,h,f){return function(){const v=new Array(1+arguments.length);v[0]=h;for(var y=1;y<v.length;y++)v[y]=arguments[y-1];return T[f].apply(this,v)}}function ae(T,h,f){const v=h.send,y=h.ts,x=h.methodLevel,b=h.methodValue,p=h.val,D=T._logEvent.bindings;L(f,T._serialize||Object.keys(T.serializers),T.serializers,void 0===T._stdErrSerialize||T._stdErrSerialize),T._logEvent.ts=y,T._logEvent.messages=f.filter(function(I){return-1===D.indexOf(I)}),T._logEvent.level.label=x,T._logEvent.level.value=b,v(x,T._logEvent,p),T._logEvent=he(D)}function he(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function se(T){return"function"==typeof T.timestamp?T.timestamp:!1===T.timestamp?V:H}function De(){return{}}function Se(T){return T}function be(){}function V(){return!1}function H(){return Date.now()}X.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},X.stdSerializers=_e,X.stdTimeFunctions=Object.assign({},{nullTime:V,epochTime:H,unixTime:function z(){return Math.round(Date.now()/1e3)},isoTime:function R(){return new Date(Date.now()).toISOString()}})}}]);