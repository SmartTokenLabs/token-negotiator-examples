(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[538],{538:(Z,F,G)=>{"use strict";G.r(F),G.d(F,{getFlowProvider:()=>Cm});var N={};G.r(N),G.d(N,{Address:()=>Yi,Array:()=>Wi,Bool:()=>ff,Character:()=>df,Dictionary:()=>gf,Enum:()=>wf,Event:()=>hf,Fix64:()=>lf,Identity:()=>jd,Int:()=>Yd,Int128:()=>ef,Int16:()=>Jd,Int256:()=>nf,Int32:()=>Zd,Int64:()=>_d,Int8:()=>Kd,Optional:()=>mf,Path:()=>kf,Reference:()=>vf,Resource:()=>yf,String:()=>cf,Struct:()=>bf,UFix64:()=>of,UInt:()=>qd,UInt128:()=>xd,UInt16:()=>Vd,UInt256:()=>rf,UInt32:()=>Xd,UInt64:()=>Qd,UInt8:()=>Wd,Void:()=>pf,Word16:()=>af,Word32:()=>uf,Word64:()=>sf,Word8:()=>tf,_Array:()=>Wi});var fe={};function _(r){if(Array.isArray(r))return r}function V(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function re(r,e){if(r){if("string"==typeof r)return V(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if("Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n)return Array.from(r);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(r,e)}}function J(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(r,e){return _(r)||function he(r,e){var n=null==r?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,a,s,u,i=[],l=!0,o=!1;try{if(s=(n=n.call(r)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=s.call(n)).done)&&(i.push(t.value),i.length!==e);l=!0);}catch(c){o=!0,a=c}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(o)throw a}}return i}}(r,e)||re(r,e)||J()}function M(r,e,n,t,a,s,u){try{var i=r[s](u),l=i.value}catch(o){return void n(o)}i.done?e(l):Promise.resolve(l).then(t,a)}function v(r){return function(){var e=this,n=arguments;return new Promise(function(t,a){var s=r.apply(e,n);function u(l){M(s,t,a,u,i,"next",l)}function i(l){M(s,t,a,u,i,"throw",l)}u(void 0)})}}G.r(fe),G.d(fe,{AppUtils:()=>Zp,InteractionTemplateUtils:()=>wm,TestUtils:()=>Ad,VERSION:()=>Ve,WalletUtils:()=>Kp,account:()=>sd,arg:()=>va,args:()=>ma,atBlockHeight:()=>Sn,atBlockId:()=>fa,authenticate:()=>km,authorization:()=>id,authorizations:()=>mi,authz:()=>Am,block:()=>_r,build:()=>Jr,cadence:()=>pn,cdc:()=>pn,config:()=>$,createSignableVoucher:()=>Qr,currentUser:()=>Oe,decode:()=>Nr,discovery:()=>kp,display:()=>ol,events:()=>cm,getAccount:()=>cr,getBlock:()=>Ar,getBlockHeader:()=>cd,getCollection:()=>dd,getEvents:()=>od,getEventsAtBlockHeightRange:()=>vi,getEventsAtBlockIds:()=>ld,getTransaction:()=>fd,getTransactionStatus:()=>gi,invariant:()=>j,isBad:()=>Wt,isOk:()=>Ms,limit:()=>pa,logIn:()=>Rm,mutate:()=>Gp,param:()=>Cd,params:()=>Td,payer:()=>yi,ping:()=>pd,pipe:()=>ve,pluginRegistry:()=>mp,proposer:()=>hi,query:()=>Tn,reauthenticate:()=>Sm,ref:()=>bi,sansPrefix:()=>ae,script:()=>wi,send:()=>Be,serialize:()=>_p,signUp:()=>Im,t:()=>Tm,transaction:()=>ki,tx:()=>hr,unauthenticate:()=>Em,validator:()=>da,verifyUserSignatures:()=>Qp,voucherIntercept:()=>gd,voucherToTxId:()=>jc,why:()=>Hs,withPrefix:()=>me});var P=G(3033),d=G.n(P);function ne(r){if(typeof Symbol<"u"&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function x(r){return _(r)||ne(r)||re(r)||J()}function D(r){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function oe(r){var e=function ye(r,e){if("object"!==D(r)||null===r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,e||"default");if("object"!==D(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"===D(e)?e:String(e)}function T(r,e,n){return(e=oe(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function le(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function b(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach(function(t){T(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function U(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=re(r))||e&&r&&"number"==typeof r.length){n&&(r=n);var t=0,a=function(){};return{s:a,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(o){throw o},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(r)},n:function(){var o=n.next();return s=o.done,o},e:function(o){u=!0,i=o},f:function(){try{!s&&null!=n.return&&n.return()}finally{if(u)throw i}}}}var $e=G(3178),ze=G.n($e),Fn=function(){var n,e=[];return{deliver:function(a){return v(d().mark(function s(){return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e.push(a),n&&(n(e.shift()),n=void 0);case 2:case"end":return i.stop()}},s)}))()},receive:function(){return new Promise(function(s){var u=e.shift();if(u)return s(u);n=s})}}},ur="INIT",nr="SUBSCRIBE",Ge="UNSUBSCRIBE",or="UPDATED",Sr="SNAPSHOT",C="TERMINATE",w="object"===(typeof self>"u"?"undefined":D(self))&&self.self===self&&self||"object"===(typeof global>"u"?"undefined":D(global))&&global.global===global&&global||"object"===(typeof window>"u"?"undefined":D(window))&&window.window===window&&window;w.FCL_REGISTRY=w.FCL_REGISTRY??{};var A=0,O=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(s,u){var i=a.expectReply||!1,l=null!=a.timeout?a.timeout:5e3;i&&l&&setTimeout(function(){return u(new Error("Timeout: ".concat(l,"ms passed without a response.")))},l);var o={to:e,from:a.from,tag:n,data:t,timeout:l,reply:s,reject:u};try{w.FCL_REGISTRY[e]&&w.FCL_REGISTRY[e].mailbox.deliver(o),i||s(!0)}catch(c){console.error("FCL.Actor -- Could Not Deliver Message",o,w.FCL_REGISTRY[e],c)}})},Y=function(e){delete w.FCL_REGISTRY[e]},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var n=v(d().mark(function t(a){var s;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if("function"!=typeof e[ur]){i.next=3;break}return i.next=3,e[ur](a);case 3:return i.next=6,a.receive();case 6:if(s=i.sent,i.prev=7,"EXIT"!==s.tag){i.next=13;break}if("function"!=typeof e[C]){i.next=12;break}return i.next=12,e[C](a,s,s.data||{});case 12:return i.abrupt("break",25);case 13:return i.next=15,e[s.tag](a,s,s.data||{});case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(7),console.error("".concat(a.self()," Error"),s,i.t0);case 20:return i.prev=20,i.abrupt("continue",3);case 23:i.next=3;break;case 25:case"end":return i.stop()}},t,null,[[7,17,20,23]])}));return function(t){return n.apply(this,arguments)}}()},pe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==n&&(n=++A),null!=w.FCL_REGISTRY[n])return n;w.FCL_REGISTRY[n]={addr:n,mailbox:Fn(),subs:new Set,kvs:{},error:null};var t={self:function(){return n},receive:function(){return w.FCL_REGISTRY[n].mailbox.receive()},send:function(s,u,i){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.from=n,O(s,u,i,l)},sendSelf:function(s,u,i){w.FCL_REGISTRY[n]&&O(n,s,u,i)},broadcast:function(s,u){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.from=n;var o,l=U(w.FCL_REGISTRY[n].subs);try{for(l.s();!(o=l.n()).done;){var c=o.value;O(c,s,u,i)}}catch(p){l.e(p)}finally{l.f()}},subscribe:function(s){return null!=s&&w.FCL_REGISTRY[n].subs.add(s)},unsubscribe:function(s){return null!=s&&w.FCL_REGISTRY[n].subs.delete(s)},subscriberCount:function(){return w.FCL_REGISTRY[n].subs.size},hasSubs:function(){return!!w.FCL_REGISTRY[n].subs.size},put:function(s,u){null!=s&&(w.FCL_REGISTRY[n].kvs[s]=u)},get:function(s,u){return w.FCL_REGISTRY[n].kvs[s]??u},delete:function(s){delete w.FCL_REGISTRY[n].kvs[s]},update:function(s,u){null!=s&&(w.FCL_REGISTRY[n].kvs[s]=u(w.FCL_REGISTRY[n].kvs[s]))},keys:function(){return Object.keys(w.FCL_REGISTRY[n].kvs)},all:function(){return w.FCL_REGISTRY[n].kvs},where:function(s){return Object.keys(w.FCL_REGISTRY[n].kvs).reduce(function(u,i){return s.test(i)?b(b({},u),{},T({},i,w.FCL_REGISTRY[n].kvs[i])):u},{})},merge:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(s).forEach(function(u){return w.FCL_REGISTRY[n].kvs[u]=s[u]})},fatalError:function(s){w.FCL_REGISTRY[n].error=s;var i,u=U(w.FCL_REGISTRY[n].subs);try{for(u.s();!(i=u.n()).done;)O(i.value,or)}catch(o){u.e(o)}finally{u.f()}}};return"object"===D(e)&&(e=be(e)),ze()(v(d().mark(function a(){return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e(t);case 2:Y(n);case 3:case"end":return u.stop()}},a)}))),n};function Ie(r,e,n){e(r);var t="@EXIT",a=pe(function(){var s=v(d().mark(function u(i){var l,o;return d().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:i.send(r,nr);case 1:return p.next=4,i.receive();case 4:if(o=w.FCL_REGISTRY[r].error,(l=p.sent).tag!==t){p.next=9;break}return i.send(r,Ge),p.abrupt("return");case 9:if(!o){p.next=13;break}return n(null,o),i.send(r,Ge),p.abrupt("return");case 13:n(l.data,null),p.next=1;break;case 16:case"end":return p.stop()}},u)}));return function(u){return s.apply(this,arguments)}}());return function(){return O(a,t)}}function Ze(r,e){return e(r),O(r,Sr,null,{expectReply:!0,timeout:0})}var ke,Re="config",Ru="PUT_CONFIG",Au="GET_CONFIG",Tu="GET_ALL_CONFIG",Cu="UPDATE_CONFIG",Pu="DELETE_CONFIG",Nu="CLEAR_CONFIG",Ou="WHERE_CONFIG",jr="CONFIG/UPDATED",Du=function(e){return e},Lu=(T(ke={},Ru,function(r,e,n){var t=n.key,a=n.value;if(null==t)throw new Error("Missing 'key' for config/put.");r.put(t,a),r.broadcast(jr,b({},r.all()))}),T(ke,Au,function(r,e,n){var t=n.key,a=n.fallback;if(null==t)throw new Error("Missing 'key' for config/get");e.reply(r.get(t,a))}),T(ke,Tu,function(r,e){e.reply(b({},r.all()))}),T(ke,Cu,function(r,e,n){var t=n.key,a=n.fn;if(null==t)throw new Error("Missing 'key' for config/update");r.update(t,a||Du),r.broadcast(jr,b({},r.all()))}),T(ke,Pu,function(r,e,n){var t=n.key;if(null==t)throw new Error("Missing 'key' for config/delete");r.delete(t),r.broadcast(jr,b({},r.all()))}),T(ke,Nu,function(r,e){for(var t=0,a=Object.keys(r.all());t<a.length;t++)r.delete(a[t]);r.broadcast(jr,b({},r.all()))}),T(ke,Ou,function(r,e,n){var t=n.pattern;if(null==t)throw new Error("Missing 'pattern' for config/where");e.reply(r.where(t))}),T(ke,nr,function(r,e){r.subscribe(e.from),r.send(e.from,jr,b({},r.all()))}),T(ke,Ge,function(r,e){r.unsubscribe(e.from)}),ke);function $n(r,e){return O(Re,Ru,{key:r,value:e}),$()}function Gn(r,e){return O(Re,Au,{key:r,fallback:e},{expectReply:!0,timeout:10})}function Un(){return Bn.apply(this,arguments)}function Bn(){return Bn=v(d().mark(function r(){var e,n,t,a,s,u,i=arguments;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=i.length>1?i[1]:void 0,(e=i.length>0&&void 0!==i[0]?i[0]:[]).length){o.next=4;break}return o.abrupt("return",n);case 4:return t=x(e),a=t[0],s=t.slice(1),o.next=7,Gn(a);case 7:if(null!=(u=o.sent)){o.next=10;break}return o.abrupt("return",Un(s,n));case 10:return o.abrupt("return",u);case 11:case"end":return o.stop()}},r)})),Bn.apply(this,arguments)}function ln(){return O(Re,Tu,null,{expectReply:!0,timeout:10})}function Fu(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Du;return O(Re,Cu,{key:r,fn:e}),$()}function $u(r){return O(Re,Pu,{key:r}),$()}function Gu(r){return O(Re,Ou,{pattern:r},{expectReply:!0,timeout:10})}function Uu(r){return Ie(Re,function(){return pe(Lu,Re)},r)}function Bu(r){return function Zo(){return O(Re,Nu)}().then($(r))}function $(r){return null!=r&&"object"===D(r)&&Object.keys(r).map(function(e){return $n(e,r[e])}),{put:$n,get:Gn,all:ln,first:Un,update:Fu,delete:$u,where:Gu,subscribe:Uu,overload:Mu}}pe(Lu,Re),$.put=$n,$.get=Gn,$.all=ln,$.first=Un,$.update=Fu,$.delete=$u,$.where=Gu,$.subscribe=Uu,$.overload=Mu;var Qo=function(e){return e};function Mu(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo;return new Promise(function(){var n=v(d().mark(function t(a,s){var u,i;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ln();case 2:return u=o.sent,o.prev=3,$(r),o.t0=e,o.next=8,ln();case 8:return o.t1=o.sent,o.next=11,(0,o.t0)(o.t1);case 11:return i=o.sent,o.next=14,Bu(u);case 14:a(i),o.next=22;break;case 17:return o.prev=17,o.t2=o.catch(3),o.next=21,Bu(u);case 21:s(o.t2);case 22:case"end":return o.stop()}},t,null,[[3,17]])}));return function(t,a){return n.apply(this,arguments)}}())}function I(r,e){if(!r){var n,t=new Error("INVARIANT ".concat(e));t.stack=t.stack.split("\n").filter(function(i){return!/at invariant/.test(i)}).join("\n");for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];throw(n=console).error.apply(n,["\n\n---\n\n",t,"\n\n"].concat(s,["\n\n---\n\n"])),t}}function K(r){return function _o(r){if(Array.isArray(r))return V(r)}(r)||ne(r)||re(r)||function xo(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fe=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),el=function(e){var t=e.message;return["\n    %c".concat(e.title,"\n    ============================\n\n    ").concat(t,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},Pe=function(){var r=v(d().mark(function e(n){var t,a,s,u,i,l,o,c,p,f,g,m;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return l=n.title,o=n.message,c=n.level,f=void 0!==(p=n.always)&&p,y.next=3,$.get("logger.level",Fe.warn);case 3:if(g=y.sent,f||!(g<c)){y.next=6;break}return y.abrupt("return");case 6:m=el({title:l,message:o}),y.t0=c,y.next=y.t0===Fe.debug?10:y.t0===Fe.info?12:y.t0===Fe.warn?14:y.t0===Fe.error?16:18;break;case 10:return(t=console).debug.apply(t,K(m)),y.abrupt("break",19);case 12:return(a=console).info.apply(a,K(m)),y.abrupt("break",19);case 14:return(s=console).warn.apply(s,K(m)),y.abrupt("break",19);case 16:return(u=console).error.apply(u,K(m)),y.abrupt("break",19);case 18:(i=console).log.apply(i,K(m));case 19:case"end":return y.stop()}},e)}));return function(n){return r.apply(this,arguments)}}();Pe.deprecate=function(r){var e=r.pkg,n=r.subject,t=r.transition,a=r.level,s=void 0===a?Fe.warn:a,u=r.message,i=void 0===u?"":u,l=r.callback,o=void 0===l?null:l,p=function(){return Pe({title:"".concat(e?e+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((g=n,g.charAt(0).toUpperCase()+g.slice(1))," is deprecated and will cease to work in future releases").concat(e?" of "+e:"","."):"").concat(i?"\n"+i:"").concat(t?"\nYou can learn more (including a guide on common transition paths) here: ".concat(t):"","\n    ").trim(),level:s});var g};return"function"==typeof o?v(d().mark(function f(){var g=arguments;return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,p();case 2:return h.next=4,o.apply(void 0,g);case 4:return h.abrupt("return",h.sent);case 5:case"end":return h.stop()}},f)})):p()};var te=G(4381);function lr(r){if(Array.isArray(r)){for(var e=[],n=0;n<r.length;n++)e.push(lr(r[n]));var t=te.Buffer.concat(e);return te.Buffer.concat([Hu(t.length,192),t])}var a=function jn(r){if(!te.Buffer.isBuffer(r)){if("string"==typeof r)return zu(r)?te.Buffer.from(function nl(r){return r.length%2?"0"+r:r}(function rl(r){return"string"!=typeof r?r:zu(r)?r.slice(2):r}(r)),"hex"):te.Buffer.from(r);if("number"==typeof r)return r?function tl(r){var e=zn(r);return te.Buffer.from(e,"hex")}(r):te.Buffer.from([]);if(null==r)return te.Buffer.from([]);if(r instanceof Uint8Array)return te.Buffer.from(r);throw new Error("invalid type")}return r}(r);return 1===a.length&&a[0]<128?a:te.Buffer.concat([Hu(a.length,128),a])}function Hu(r,e){if(r<56)return te.Buffer.from([r+e]);var n=zn(r),a=zn(e+55+n.length/2);return te.Buffer.from(a+n,"hex")}function zu(r){return"0x"===r.slice(0,2)}function zn(r){if(r<0)throw new Error("Invalid integer as argument, must be unsigned!");var e=r.toString(16);return e.length%2?"0"+e:e}function ju(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,oe(t.key),t)}}function qu(r,e,n){return e&&ju(r.prototype,e),n&&ju(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Yu(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function qr(r,e){return(qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t})(r,e)}function Wu(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&qr(r,e)}function Yr(r){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(r)}function Ku(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ul(r,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function al(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r)}function Vu(r){var e=Ku();return function(){var a,t=Yr(r);if(e){var s=Yr(this).constructor;a=Reflect.construct(t,arguments,s)}else a=t.apply(this,arguments);return ul(this,a)}}function cn(r,e,n){return(cn=Ku()?Reflect.construct.bind():function(a,s,u){var i=[null];i.push.apply(i,s);var o=new(Function.bind.apply(a,i));return u&&qr(o,u.prototype),o}).apply(null,arguments)}function dn(r){var e="function"==typeof Map?new Map:void 0;return dn=function(t){if(null===t||!function sl(r){return-1!==Function.toString.call(r).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return cn(t,arguments,Yr(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),qr(a,t)},dn(r)}var il=G(8400),Ju=G.n(il);function ae(r){return null==r?null:r.replace(/^0x/,"").replace(/^Fx/,"")}function me(r){return null==r?null:"0x"+ae(r)}function ol(r){return me(r)}var qn=function(r){Wu(n,r);var e=Vu(n);function n(t){var a,s=t.error,u=t.hostname,i=t.path,l=t.method,o=t.requestBody,c=t.responseBody,p=t.responseStatusText,f=t.statusCode;Yu(this,n);var g="\n      HTTP Request Error: An error occurred when interacting with the Access API.\n      ".concat(s?"error=".concat(s):"","\n      ").concat(u?"hostname=".concat(u):"","\n      ").concat(i?"path=".concat(i):"","\n      ").concat(l?"method=".concat(l):"","\n      ").concat(o?"requestBody=".concat(o):"","\n      ").concat(c?"responseBody=".concat(c):"","\n      ").concat(p?"responseStatusText=".concat(p):"","\n      ").concat(f?"statusCode=".concat(f):"","\n    ");return(a=e.call(this,g)).name="HTTP Request Error",a.statusCode=f,a.errorMessage=s,a}return qu(n)}(dn(Error));function Ae(r){return Yn.apply(this,arguments)}function Yn(){return Yn=v(d().mark(function r(e){var n,t,a,s,u,i,l,o,c,p,f,g,m;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return m=function(){return m=v(d().mark(function S(){var B,W=arguments;return d().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return B=W.length>0&&void 0!==W[0]?W[0]:0,q.prev=1,q.next=4,f();case 4:case 14:return q.abrupt("return",q.sent);case 8:if(q.prev=8,q.t0=q.catch(1),![408,429,500,502,503,504].includes(q.t0.statusCode)){q.next=17;break}return q.next=14,new Promise(function(we,br){B<l?(console.warn("Access node unavailable, retrying in ".concat(c," ms...")),setTimeout(function(){we(g(B+1))},c)):br(q.t0)});case 17:throw q.t0;case 18:case"end":return q.stop()}},S,null,[[1,8]])})),m.apply(this,arguments)},g=function(){return m.apply(this,arguments)},f=function(){return Ju()("".concat(n).concat(t),{method:a,body:p,headers:u}).then(function(){var S=v(d().mark(function B(E){var L,W;return d().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!E.ok){q.next=2;break}return q.abrupt("return",E.json());case 2:if(!E.body){q.next=8;break}return q.next=5,E.text();case 5:q.t0=q.sent,q.next=9;break;case 8:q.t0=null;case 9:throw W=ll(L=q.t0),new qn({error:null==W?void 0:W.message,hostname:n,path:t,method:a,requestBody:p,responseBody:L,responseStatusText:E.statusText,statusCode:E.status});case 12:case"end":return q.stop()}},B)}));return function(B){return S.apply(this,arguments)}}()).catch(function(){var S=v(d().mark(function B(E){return d().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!(E instanceof qn)){W.next=2;break}throw E;case 2:return W.next=4,Pe({title:"Access Node Error",message:"The provided access node ".concat(n," does not appear to be a valid REST/HTTP access node.\nPlease verify that you are not unintentionally using a GRPC access node.\nSee more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect"),level:Fe.error});case 4:throw new qn({error:null==E?void 0:E.message,hostname:n,path:t,method:a,requestBody:p});case 5:case"end":return W.stop()}},B)}));return function(B){return S.apply(this,arguments)}}())},n=e.hostname,t=e.path,a=e.method,u=e.headers,l=void 0===(i=e.retryLimit)?5:i,c=void 0===(o=e.retryIntervalMs)?1e3:o,p=(s=e.body)?JSON.stringify(s):null,y.next=7,g();case 7:return y.abrupt("return",y.sent);case 8:case"end":return y.stop()}},r)})),Yn.apply(this,arguments)}function ll(r){try{return JSON.parse(r)}catch{return null}}function cl(r,e,n){return Wn.apply(this,arguments)}function Wn(){return(Wn=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/scripts?block_id=".concat(e.block.id),method:"POST",body:{script:n.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map(function(l){return n.Buffer.from(JSON.stringify(e.arguments[l].asArgument)).toString("base64")})}});case 3:return i.abrupt("return",Jn(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function dl(r,e,n){return Kn.apply(this,arguments)}function Kn(){return(Kn=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/scripts?block_height=".concat(e.block.height),method:"POST",body:{script:n.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map(function(l){return n.Buffer.from(JSON.stringify(e.arguments[l].asArgument)).toString("base64")})}});case 3:return i.abrupt("return",Jn(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function fl(r,e,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:n.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map(function(l){return n.Buffer.from(JSON.stringify(e.arguments[l].asArgument)).toString("base64")})}});case 3:return i.abrupt("return",Jn(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function Jn(r,e,n){var t=e.response();return t.tag=r.tag,t.encodedData=JSON.parse(e.Buffer.from(n,"base64").toString()),t}function pl(r){return Xn.apply(this,arguments)}function Xn(){return Xn=v(d().mark(function r(e){var n,t,a=arguments;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},I((t=a.length>2&&void 0!==a[2]?a[2]:{}).node,"SDK Send Execute Script Error: opts.node must be defined."),I(n.response,"SDK Send Execute Script Error: context.response must be defined."),I(n.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),u.next=7,e;case 7:if(!(e=u.sent).block.id){u.next=14;break}return u.next=11,cl(e,n,t);case 11:case 17:case 22:return u.abrupt("return",u.sent);case 14:if(!e.block.height){u.next=20;break}return u.next=17,dl(e,n,t);case 20:return u.next=22,fl(e,n,t);case 23:case"end":return u.stop()}},r)})),Xn.apply(this,arguments)}var ml={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},vl={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};function gl(r,e,n){return Zn.apply(this,arguments)}function Zn(){return(Zn=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/accounts/".concat(e.account.addr,"?block_height=").concat(e.block.height,"&expand=contracts,keys"),method:"GET",body:null});case 3:return i.abrupt("return",Xu(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function hl(r,e,n){return Qn.apply(this,arguments)}function Qn(){return(Qn=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/accounts/".concat(e.account.addr,"?block_height=sealed&expand=contracts,keys"),method:"GET",body:null});case 3:return i.abrupt("return",Xu(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function Xu(r,e,n){var t,a,s=e.response();return s.tag=r.tag,s.account={address:n.address,balance:Number(n.balance),code:"",contracts:function(l){var o={};if(!l)return o;for(var c=0,p=Object.keys(l);c<p.length;c++){var f=p[c];o[f]=e.Buffer.from(l[f],"base64").toString()}return o}(n.contracts),keys:null!==(t=null===(a=n.keys)||void 0===a?void 0:a.map(function(i){return{index:Number(i.index),publicKey:i.public_key.replace(/^0x/,""),signAlgo:vl[i.signing_algorithm],signAlgoString:i.signing_algorithm,hashAlgo:ml[i.hashing_algorithm],hashAlgoString:i.hashing_algorithm,sequenceNumber:Number(i.sequence_number),weight:Number(i.weight),revoked:i.revoked}}))&&void 0!==t?t:[]},s}function yl(r){return _n.apply(this,arguments)}function _n(){return _n=v(d().mark(function r(e){var n,t,a=arguments;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},I((t=a.length>2&&void 0!==a[2]?a[2]:{}).node,"SDK Send Get Account Error: opts.node must be defined."),I(n.response,"SDK Send Get Account Error: context.response must be defined."),I(n.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),u.next=7,e;case 7:if(null===(e=u.sent).block.height){u.next=14;break}return u.next=11,gl(e,n,t);case 11:case 16:return u.abrupt("return",u.sent);case 14:return u.next=16,hl(e,n,t);case 17:case"end":return u.stop()}},r)})),_n.apply(this,arguments)}function bl(r,e,n){return xn.apply(this,arguments)}function xn(){return(xn=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/blocks/".concat(e.block.id),method:"GET",body:null});case 3:return i.abrupt("return",nt(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function wl(r,e,n){return et.apply(this,arguments)}function et(){return(et=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/blocks?height=".concat(e.block.height),method:"GET",body:null});case 3:return i.abrupt("return",nt(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function kl(r,e,n){return rt.apply(this,arguments)}function rt(){return(rt=v(d().mark(function r(e,n,t){var a,s,u;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return s=t.httpRequest||Ae,u=null!==(a=e.block)&&void 0!==a&&a.isSealed?"sealed":"finalized",o.next=4,s({hostname:t.node,path:"/v1/blocks?height=".concat(u),method:"GET",body:null});case 4:return o.abrupt("return",nt(e,n,o.sent));case 6:case"end":return o.stop()}},r)}))).apply(this,arguments)}function nt(r,e,n){var t=n.length?n[0]:null,a=e.response();return a.tag=r.tag,a.blockHeader={id:t.header.id,parentId:t.header.parent_id,height:Number(t.header.height),timestamp:t.header.timestamp},a}function El(r){return tt.apply(this,arguments)}function tt(){return tt=v(d().mark(function r(e){var n,t,s,u=arguments;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},I((t=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Block Header Error: opts.node must be defined."),I(n.response,"SDK Send Get Block Header Error: context.response must be defined."),l.next=6,e;case 6:if(s=null!==(e=l.sent).block.height,null===e.block.id){l.next=15;break}return l.next=12,bl(e,n,t);case 12:case 18:case 23:return l.abrupt("return",l.sent);case 15:if(!s){l.next=21;break}return l.next=18,wl(e,n,t);case 21:return l.next=23,kl(e,n,t);case 24:case"end":return l.stop()}},r)})),tt.apply(this,arguments)}function Sl(r,e,n){return at.apply(this,arguments)}function at(){return(at=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/blocks/".concat(e.block.id,"?expand=payload"),method:"GET",body:null});case 3:return i.abrupt("return",it(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function Il(r,e,n){return ut.apply(this,arguments)}function ut(){return(ut=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/blocks?height=".concat(e.block.height,"&expand=payload"),method:"GET",body:null});case 3:return i.abrupt("return",it(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function Rl(r,e,n){return st.apply(this,arguments)}function st(){return(st=v(d().mark(function r(e,n,t){var a,s,u;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return s=t.httpRequest||Ae,u=null!==(a=e.block)&&void 0!==a&&a.isSealed?"sealed":"final",o.next=4,s({hostname:t.node,path:"/v1/blocks?height=".concat(u,"&expand=payload"),method:"GET",body:null});case 4:return o.abrupt("return",it(e,n,o.sent));case 6:case"end":return o.stop()}},r)}))).apply(this,arguments)}function it(r,e,n){var t=n.length?n[0]:null,a=e.response();return a.tag=r.tag,a.block={id:t.header.id,parentId:t.header.parent_id,height:Number(t.header.height),timestamp:t.header.timestamp,collectionGuarantees:t.payload.collection_guarantees.map(function(s){return{collectionId:s.collection_id,signerIds:s.signer_ids}}),blockSeals:t.payload.block_seals.map(function(s){return{blockId:s.block_id,executionReceiptId:s.result_id}})},a}function Al(r){return ot.apply(this,arguments)}function ot(){return ot=v(d().mark(function r(e){var n,t,s,u=arguments;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},I((t=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Block Error: opts.node must be defined."),I(n.response,"SDK Send Get Block Error: context.response must be defined."),l.next=6,e;case 6:if(s=null!==(e=l.sent).block.height,null===e.block.id){l.next=15;break}return l.next=12,Sl(e,n,t);case 12:case 18:case 23:return l.abrupt("return",l.sent);case 15:if(!s){l.next=21;break}return l.next=18,Il(e,n,t);case 21:return l.next=23,Rl(e,n,t);case 24:case"end":return l.stop()}},r)})),ot.apply(this,arguments)}function Tl(r){return lt.apply(this,arguments)}function lt(){return lt=v(d().mark(function r(e){var n,t,a,s,u,i=arguments;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},I((t=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Collection Error: opts.node must be defined."),I(n.response,"SDK Send Get Collection Error: context.response must be defined."),a=t.httpRequest||Ae,o.next=7,a({hostname:t.node,path:"/v1/collections/".concat(e.collection.id,"?expand=transactions"),method:"GET",body:null});case 7:return s=o.sent,(u=n.response()).tag=e.tag,u.collection={id:s.id,transactionIds:s.transactions.map(function(c){return c.id})},o.abrupt("return",u);case 12:case"end":return o.stop()}},r)})),lt.apply(this,arguments)}function Cl(r,e,n){return ct.apply(this,arguments)}function ct(){return(ct=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/events?type=".concat(e.events.eventType,"&start_height=").concat(e.events.start,"&end_height=").concat(e.events.end),method:"GET",body:null});case 3:return i.abrupt("return",Zu(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function Pl(r,e,n){return dt.apply(this,arguments)}function dt(){return(dt=v(d().mark(function r(e,n,t){var a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.httpRequest||Ae,i.next=3,a({hostname:t.node,path:"/v1/events?type=".concat(e.events.eventType,"&block_ids=").concat(e.events.blockIds.join(",")),method:"GET",body:null});case 3:return i.abrupt("return",Zu(e,n,i.sent));case 5:case"end":return i.stop()}},r)}))).apply(this,arguments)}function Zu(r,e,n){var t=e.response();return t.tag=r.tag,t.events=[],n.forEach(function(a){return a.events?a.events.forEach(function(s){return t.events.push({blockId:a.block_id,blockHeight:Number(a.block_height),blockTimestamp:a.block_timestamp,type:s.type,transactionId:s.transaction_id,transactionIndex:Number(s.transaction_index),eventIndex:Number(s.event_index),payload:JSON.parse(e.Buffer.from(s.payload,"base64").toString())})}):null}),t}function Nl(r){return ft.apply(this,arguments)}function ft(){return ft=v(d().mark(function r(e){var n,t,a,s,u=arguments;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},I((t=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Events Error: opts.node must be defined."),I(n.response,"SDK Send Get Events Error: context.response must be defined."),I(n.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),l.next=7,e;case 7:if(a=null!==(e=l.sent).events.start,s=Array.isArray(e.events.blockIds)&&e.events.blockIds.length>0,I(a||s,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),!a){l.next=17;break}return l.next=14,Cl(e,n,t);case 14:case 19:return l.abrupt("return",l.sent);case 17:return l.next=19,Pl(e,n,t);case 20:case"end":return l.stop()}},r)})),ft.apply(this,arguments)}function Ol(r){return pt.apply(this,arguments)}function pt(){return pt=v(d().mark(function r(e){var n,t,a,s,u,i,l,o,c=arguments;return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},I((t=c.length>2&&void 0!==c[2]?c[2]:{}).node,"SDK Send Get Transaction Error: opts.node must be defined."),I(n.response,"SDK Send Get Transaction Error: context.response must be defined."),I(n.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined."),a=t.httpRequest||Ae,f.next=8,e;case 8:return e=f.sent,f.next=11,a({hostname:t.node,path:"/v1/transactions/".concat(e.transaction.id),method:"GET",body:null});case 11:return s=f.sent,u=function(m){return{address:m.address,keyId:Number(m.key_id),sequenceNumber:Number(m.sequence_number)}},i=function(m){return{address:m.address,keyId:Number(m.key_index),signature:m.signature}},l=function(m){return JSON.parse(n.Buffer.from(m,"base64").toString())},(o=n.response()).tag=e.tag,o.transaction={script:n.Buffer.from(s.script,"base64").toString(),args:K(s.arguments.map(l)),referenceBlockId:s.reference_block_id,gasLimit:Number(s.gas_limit),payer:s.payer,proposalKey:s.proposal_key?u(s.proposal_key):s.proposal_key,authorizers:s.authorizers,payloadSignatures:K(s.payload_signatures.map(i)),envelopeSignatures:K(s.envelope_signatures.map(i))},f.abrupt("return",o);case 19:case"end":return f.stop()}},r)})),pt.apply(this,arguments)}var Dl={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};function Ll(r){return mt.apply(this,arguments)}function mt(){return mt=v(d().mark(function r(e){var n,t,a,s,u,i=arguments;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},I((t=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Transaction Status Error: opts.node must be defined."),I(n.response,"SDK Send Get Transaction Status Error: context.response must be defined."),I(n.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined."),a=t.httpRequest||Ae,o.next=8,e;case 8:return e=o.sent,o.next=11,a({hostname:t.node,path:"/v1/transaction_results/".concat(e.transaction.id),method:"GET",body:null});case 11:return s=o.sent,(u=n.response()).tag=e.tag,u.transactionStatus={blockId:s.block_id,status:Dl[s.status.toUpperCase()]||"",statusString:s.status.toUpperCase(),statusCode:s.status_code,errorMessage:s.error_message,events:s.events.map(function(c){return{type:c.type,transactionId:c.transaction_id,transactionIndex:Number(c.transaction_index),eventIndex:Number(c.event_index),payload:JSON.parse(n.Buffer.from(c.payload,"base64").toString())}})},o.abrupt("return",u);case 16:case"end":return o.stop()}},r)})),mt.apply(this,arguments)}function Fl(r){return vt.apply(this,arguments)}function vt(){return vt=v(d().mark(function r(e){var n,t,a,s,u=arguments;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},I((t=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Ping Error: opts.node must be defined."),I(n.response,"SDK Send Ping Error: context.response must be defined."),a=t.httpRequest||Ae,l.next=7,a({hostname:t.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});case 7:return(s=n.response()).tag=e.tag,l.abrupt("return",s);case 10:case"end":return l.stop()}},r)})),vt.apply(this,arguments)}var $l=function(e){return"".concat(withPrefix(e.addr),"-").concat(e.keyId)};function Gl(r){return gt.apply(this,arguments)}function gt(){return gt=v(d().mark(function r(e){var n,t,a,s,u,i,l,o,c,p,f,g,m,h,y,R,S=arguments;return d().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return n=S.length>1&&void 0!==S[1]?S[1]:{},I((t=S.length>2&&void 0!==S[2]?S[2]:{}).node,"SDK Send Transaction Error: opts.node must be defined."),I(n.response,"SDK Send Transaction Error: context.response must be defined."),I(n.Buffer,"SDK Send Transaction Error: context.Buffer must be defined."),a=t.httpRequest||Ae,E.next=8,e;case 8:e=E.sent,s=[],u=0,i=Object.values(e.accounts);case 11:if(!(u<i.length)){E.next=24;break}l=i[u],E.prev=13,!l.role.payer&&null!=l.signature&&s.push({address:ae(l.addr),key_index:String(l.keyId),signature:n.Buffer.from(l.signature,"hex").toString("base64")}),E.next=21;break;case 17:throw E.prev=17,E.t0=E.catch(13),console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:l,ix:e}),E.t0;case 21:u++,E.next=11;break;case 24:o={},c=0,p=Object.values(e.accounts);case 26:if(!(c<p.length)){E.next=39;break}f=p[c],E.prev=28,f.role.payer&&null!=f.signature&&(g=f.tempId||$l(f),o[g]=o[g]||{address:ae(f.addr),key_index:String(f.keyId),signature:n.Buffer.from(f.signature,"hex").toString("base64")}),E.next=36;break;case 32:throw E.prev=32,E.t1=E.catch(28),console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:f,ix:e}),E.t1;case 36:c++,E.next=26;break;case 39:return o=Object.values(o),m=Date.now(),E.next=43,a({hostname:t.node,path:"/v1/transactions",method:"POST",body:{script:n.Buffer.from(e.message.cadence).toString("base64"),arguments:K(e.message.arguments.map(function(L){return n.Buffer.from(JSON.stringify(e.arguments[L].asArgument)).toString("base64")})),reference_block_id:e.message.refBlock?e.message.refBlock:null,gas_limit:String(e.message.computeLimit),payer:ae(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),proposal_key:{address:ae(e.accounts[e.proposer].addr),key_index:String(e.accounts[e.proposer].keyId),sequence_number:String(e.accounts[e.proposer].sequenceNum)},authorizers:e.authorizations.map(function(L){return e.accounts[L].addr}).reduce(function(L,W){return L.find(function(k){return k===W})?L:[].concat(K(L),[W])},[]).map(ae),payload_signatures:s,envelope_signatures:o}});case 43:return h=E.sent,y=Date.now(),(R=n.response()).tag=e.tag,R.transactionId=h.id,typeof window<"u"&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:R.transactionId,delta:y-m}})),E.abrupt("return",R);case 50:case"end":return E.stop()}},r,null,[[13,17],[28,32]])})),gt.apply(this,arguments)}var Qu,ht=function(){var r=v(d().mark(function e(n){var t,a,s=arguments;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{},I((a=s.length>2&&void 0!==s[2]?s[2]:{}).node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),I(t.ix,"SDK Send Error: context.ix must be defined."),i.next=6,n;case 6:n=i.sent,i.t0=!0,i.next=i.t0===t.ix.isTransaction(n)?10:i.t0===t.ix.isGetTransactionStatus(n)?11:i.t0===t.ix.isGetTransaction(n)?12:i.t0===t.ix.isScript(n)?13:i.t0===t.ix.isGetAccount(n)?14:i.t0===t.ix.isGetEvents(n)?15:i.t0===t.ix.isGetBlock(n)?16:i.t0===t.ix.isGetBlockHeader(n)?17:i.t0===t.ix.isGetCollection(n)?18:i.t0===t.ix.isPing(n)?19:20;break;case 10:return i.abrupt("return",a.sendTransaction?a.sendTransaction(n,t,a):Gl(n,t,a));case 11:return i.abrupt("return",a.sendGetTransactionStatus?a.sendGetTransactionStatus(n,t,a):Ll(n,t,a));case 12:return i.abrupt("return",a.sendGetTransaction?a.sendGetTransaction(n,t,a):Ol(n,t,a));case 13:return i.abrupt("return",a.sendExecuteScript?a.sendExecuteScript(n,t,a):pl(n,t,a));case 14:return i.abrupt("return",a.sendGetAccount?a.sendGetAccount(n,t,a):yl(n,t,a));case 15:return i.abrupt("return",a.sendGetEvents?a.sendGetEvents(n,t,a):Nl(n,t,a));case 16:return i.abrupt("return",a.sendGetBlock?a.sendGetBlock(n,t,a):Al(n,t,a));case 17:return i.abrupt("return",a.sendGetBlockHeader?a.sendGetBlockHeader(n,t,a):El(n,t,a));case 18:return i.abrupt("return",a.sendGetCollection?a.sendGetCollection(n,t,a):Tl(n,t,a));case 19:return i.abrupt("return",a.sendPing?a.sendPing(n,t,a):Fl(n,t,a));case 20:return i.abrupt("return",n);case 21:case"end":return i.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),Ul=G(8582),Bl="function"==typeof queueMicrotask?queueMicrotask:function(r){return(Qu||(Qu=Promise.resolve())).then(r).catch(function(e){return setTimeout(function(){throw e},0)})},Ml=function(){var n,e=[];return{deliver:function(a){return v(d().mark(function s(){return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e.push(a),n&&(n(e.shift()),n=void 0);case 2:case"end":return i.stop()}},s)}))()},receive:function(){return new Promise(function(s){var u=e.shift();if(u)return s(u);n=s})}}},_u="INIT",xu="SUBSCRIBE",yt="UNSUBSCRIBE",Hl="UPDATED",es="TERMINATE",se="object"===(typeof self>"u"?"undefined":D(self))&&self.self===self&&self||"object"===(typeof global>"u"?"undefined":D(global))&&global.global===global&&global||"object"===(typeof window>"u"?"undefined":D(window))&&window.window===window&&window;se.FCL_REGISTRY=se.FCL_REGISTRY??{};var je,jl=0,Ue=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(s,u){var i=a.expectReply||!1,l=null!=a.timeout?a.timeout:5e3;i&&l&&setTimeout(function(){return u(new Error("Timeout: ".concat(l,"ms passed without a response.")))},l);var o={to:e,from:a.from,tag:n,data:t,timeout:l,reply:s,reject:u};try{se.FCL_REGISTRY[e]&&se.FCL_REGISTRY[e].mailbox.deliver(o),i||s(!0)}catch(c){console.error("FCL.Actor -- Could Not Deliver Message",o,se.FCL_REGISTRY[e],c)}})},Yl=function(e){delete se.FCL_REGISTRY[e]},Wl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var n=v(d().mark(function t(a){var s;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if("function"!=typeof e[_u]){i.next=3;break}return i.next=3,e[_u](a);case 3:return i.next=6,a.receive();case 6:if(s=i.sent,i.prev=7,"EXIT"!==s.tag){i.next=13;break}if("function"!=typeof e[es]){i.next=12;break}return i.next=12,e[es](a,s,s.data||{});case 12:return i.abrupt("break",25);case 13:return i.next=15,e[s.tag](a,s,s.data||{});case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(7),console.error("".concat(a.self()," Error"),s,i.t0);case 20:return i.prev=20,i.abrupt("continue",3);case 23:i.next=3;break;case 25:case"end":return i.stop()}},t,null,[[7,17,20,23]])}));return function(t){return n.apply(this,arguments)}}()},bt=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==n&&(n=++jl),null!=se.FCL_REGISTRY[n])return n;se.FCL_REGISTRY[n]={addr:n,mailbox:Ml(),subs:new Set,kvs:{},error:null};var t={self:function(){return n},receive:function(){return se.FCL_REGISTRY[n].mailbox.receive()},send:function(s,u,i){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.from=n,Ue(s,u,i,l)},sendSelf:function(s,u,i){se.FCL_REGISTRY[n]&&Ue(n,s,u,i)},broadcast:function(s,u){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.from=n;var o,l=U(se.FCL_REGISTRY[n].subs);try{for(l.s();!(o=l.n()).done;){var c=o.value;Ue(c,s,u,i)}}catch(p){l.e(p)}finally{l.f()}},subscribe:function(s){return null!=s&&se.FCL_REGISTRY[n].subs.add(s)},unsubscribe:function(s){return null!=s&&se.FCL_REGISTRY[n].subs.delete(s)},subscriberCount:function(){return se.FCL_REGISTRY[n].subs.size},hasSubs:function(){return!!se.FCL_REGISTRY[n].subs.size},put:function(s,u){null!=s&&(se.FCL_REGISTRY[n].kvs[s]=u)},get:function(s,u){return se.FCL_REGISTRY[n].kvs[s]??u},delete:function(s){delete se.FCL_REGISTRY[n].kvs[s]},update:function(s,u){null!=s&&(se.FCL_REGISTRY[n].kvs[s]=u(se.FCL_REGISTRY[n].kvs[s]))},keys:function(){return Object.keys(se.FCL_REGISTRY[n].kvs)},all:function(){return se.FCL_REGISTRY[n].kvs},where:function(s){return Object.keys(se.FCL_REGISTRY[n].kvs).reduce(function(u,i){return s.test(i)?b(b({},u),{},T({},i,se.FCL_REGISTRY[n].kvs[i])):u},{})},merge:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(s).forEach(function(u){return se.FCL_REGISTRY[n].kvs[u]=s[u]})},fatalError:function(s){se.FCL_REGISTRY[n].error=s;var i,u=U(se.FCL_REGISTRY[n].subs);try{for(u.s();!(i=u.n()).done;)Ue(i.value,Hl)}catch(o){u.e(o)}finally{u.f()}}};return"object"===D(e)&&(e=Wl(e)),Bl(v(d().mark(function a(){return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e(t);case 2:Yl(n);case 3:case"end":return u.stop()}},a)}))),n},Qe="config",rs="PUT_CONFIG",ns="GET_CONFIG",ts="GET_ALL_CONFIG",as="UPDATE_CONFIG",us="DELETE_CONFIG",ss="CLEAR_CONFIG",is="WHERE_CONFIG",Wr="CONFIG/UPDATED",os=function(e){return e},ls=(T(je={},rs,function(r,e,n){var t=n.key,a=n.value;if(null==t)throw new Error("Missing 'key' for config/put.");r.put(t,a),r.broadcast(Wr,b({},r.all()))}),T(je,ns,function(r,e,n){var t=n.key,a=n.fallback;if(null==t)throw new Error("Missing 'key' for config/get");e.reply(r.get(t,a))}),T(je,ts,function(r,e){e.reply(b({},r.all()))}),T(je,as,function(r,e,n){var t=n.key,a=n.fn;if(null==t)throw new Error("Missing 'key' for config/update");r.update(t,a||os),r.broadcast(Wr,b({},r.all()))}),T(je,us,function(r,e,n){var t=n.key;if(null==t)throw new Error("Missing 'key' for config/delete");r.delete(t),r.broadcast(Wr,b({},r.all()))}),T(je,ss,function(r,e){for(var t=0,a=Object.keys(r.all());t<a.length;t++)r.delete(a[t]);r.broadcast(Wr,b({},r.all()))}),T(je,is,function(r,e,n){var t=n.pattern;if(null==t)throw new Error("Missing 'pattern' for config/where");e.reply(r.where(t))}),T(je,xu,function(r,e){r.subscribe(e.from),r.send(e.from,Wr,b({},r.all()))}),T(je,yt,function(r,e){r.unsubscribe(e.from)}),je);function wt(r,e){return Ue(Qe,rs,{key:r,value:e}),Ne()}function kt(r,e){return Ue(Qe,ns,{key:r,fallback:e},{expectReply:!0,timeout:10})}function Et(){return St.apply(this,arguments)}function St(){return St=v(d().mark(function r(){var e,n,t,a,s,u,i=arguments;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=i.length>1?i[1]:void 0,(e=i.length>0&&void 0!==i[0]?i[0]:[]).length){o.next=4;break}return o.abrupt("return",n);case 4:return t=x(e),a=t[0],s=t.slice(1),o.next=7,kt(a);case 7:if(null!=(u=o.sent)){o.next=10;break}return o.abrupt("return",Et(s,n));case 10:return o.abrupt("return",u);case 11:case"end":return o.stop()}},r)})),St.apply(this,arguments)}function fn(){return Ue(Qe,ts,null,{expectReply:!0,timeout:10})}function cs(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:os;return Ue(Qe,as,{key:r,fn:e}),Ne()}function ds(r){return Ue(Qe,us,{key:r}),Ne()}function fs(r){return Ue(Qe,is,{pattern:r},{expectReply:!0,timeout:10})}function ps(r){return function Kl(r,e,n){e(r);var t="@EXIT",a=bt(function(){var s=v(d().mark(function u(i){var l,o;return d().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:i.send(r,xu);case 1:return p.next=4,i.receive();case 4:if(o=se.FCL_REGISTRY[r].error,(l=p.sent).tag!==t){p.next=9;break}return i.send(r,yt),p.abrupt("return");case 9:if(!o){p.next=13;break}return n(null,o),i.send(r,yt),p.abrupt("return");case 13:n(l.data,null),p.next=1;break;case 16:case"end":return p.stop()}},u)}));return function(u){return s.apply(this,arguments)}}());return function(){return Ue(a,t)}}(Qe,function(){return bt(ls,Qe)},r)}function ms(){return Ue(Qe,ss)}function Ne(r){return null!=r&&"object"===D(r)&&Object.keys(r).map(function(e){return wt(e,r[e])}),{put:wt,get:kt,all:fn,first:Et,update:cs,delete:ds,where:fs,subscribe:ps,overload:vs}}bt(ls,Qe),Ne.put=wt,Ne.get=kt,Ne.all=fn,Ne.first=Et,Ne.update=cs,Ne.delete=ds,Ne.where=fs,Ne.subscribe=ps,Ne.overload=vs;var Vl=function(e){return e};function vs(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vl;return new Promise(function(){var n=v(d().mark(function t(a,s){var u,i;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,fn();case 2:return u=o.sent,o.prev=3,Ne(r),o.t0=e,o.next=8,fn();case 8:return o.t1=o.sent,o.next=11,(0,o.t0)(o.t1);case 11:return i=o.sent,o.next=14,ms();case 14:return o.next=16,Ne(u);case 16:a(i),o.next=26;break;case 19:return o.prev=19,o.t2=o.catch(3),o.next=23,ms();case 23:return o.next=25,Ne(u);case 25:s(o.t2);case 26:case"end":return o.stop()}},t,null,[[3,19]])}));return function(t,a){return n.apply(this,arguments)}}())}var Ir=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Jl=function(e){var t=e.message;return["\n    %c".concat(e.title,"\n    ============================\n\n    ").concat(t,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},It=function(){var r=v(d().mark(function e(n){var t,a,s,u,i,l,o,c,p,f,g,m;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return l=n.title,o=n.message,c=n.level,f=void 0!==(p=n.always)&&p,y.next=3,Ne.get("logger.level",Ir.warn);case 3:if(g=y.sent,f||!(g<c)){y.next=6;break}return y.abrupt("return");case 6:m=Jl({title:l,message:o}),y.t0=c,y.next=y.t0===Ir.debug?10:y.t0===Ir.info?12:y.t0===Ir.warn?14:y.t0===Ir.error?16:18;break;case 10:return(t=console).debug.apply(t,K(m)),y.abrupt("break",19);case 12:return(a=console).info.apply(a,K(m)),y.abrupt("break",19);case 14:return(s=console).warn.apply(s,K(m)),y.abrupt("break",19);case 16:return(u=console).error.apply(u,K(m)),y.abrupt("break",19);case 18:(i=console).log.apply(i,K(m));case 19:case"end":return y.stop()}},e)}));return function(n){return r.apply(this,arguments)}}();function gs(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!r.length&&!e.length||!r.length)return n;if(!e.length)return[].concat(K(n),[r[0]]);var t=x(r),a=t[0],s=t.slice(1),u=x(e),i=u[0],l=u.slice(1);return void 0!==a&&n.push(a),void 0!==i&&n.push(i),gs(s,l,n)}function hs(r){return function(e){return"function"==typeof e?(It.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),hs(r)(e(r))):String(e)}}function pn(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return"string"==typeof r?function(){return r}:Array.isArray(r)?function(a){return gs(r,n.map(hs(a))).join("").trim()}:r}function Zl(r,e){if(null==r)return{};var t,a,n=function Xl(r,e){if(null==r)return{};var a,s,n={},t=Object.keys(r);for(s=0;s<t.length;s++)!(e.indexOf(a=t[s])>=0)&&(n[a]=r[a]);return n}(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)!(e.indexOf(t=s[a])>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,t)||(n[t]=r[t]))}return n}It.deprecate=function(r){var e=r.pkg,n=r.subject,t=r.transition,a=r.level,s=void 0===a?Ir.warn:a,u=r.message,i=void 0===u?"":u,l=r.callback,o=void 0===l?null:l,p=function(){return It({title:"".concat(e?e+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((g=n,g.charAt(0).toUpperCase()+g.slice(1))," is deprecated and will cease to work in future releases").concat(e?" of "+e:"","."):"").concat(i?"\n"+i:"").concat(t?"\nYou can learn more (including a guide on common transition paths) here: ".concat(t):"","\n    ").trim(),level:s});var g};return"function"==typeof o?v(d().mark(function f(){var g=arguments;return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,p();case 2:return h.next=4,o.apply(void 0,g);case 4:return h.abrupt("return",h.sent);case 5:case"end":return h.stop()}},f)})):p()};var mn="UNKNOWN",Rt="SCRIPT",At="TRANSACTION",Tt="GET_TRANSACTION_STATUS",Ct="GET_ACCOUNT",Pt="GET_EVENTS",Nt="PING",Ot="GET_TRANSACTION",Dt="GET_BLOCK",Lt="GET_BLOCK_HEADER",Ft="GET_COLLECTION",Gt="ACCOUNT",Ut="ARGUMENT",Bt="authorizer",Mt="payer",bs="proposer",Ql='{\n  "kind":"'.concat(Gt,'",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),_l='{\n  "kind":"'.concat(Ut,'",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}'),ws='{\n  "tag":"'.concat(mn,'",\n  "assigns":{},\n  "status":"').concat("OK",'",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":[],\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}'),ks=new Set(Object.keys(JSON.parse(ws))),Kr=function(){return JSON.parse(ws)},Es="abcdefghijklmnopqrstuvwxyz0123456789".split(""),xl=function(){return Es[~~(Math.random()*Es.length)]},Ht=function(){return Array.from({length:10},xl).join("")},Ss=function(e){return"number"==typeof e},Is=function(e){return Array.isArray(e)},Rs=function(e){return null!==e&&"object"===D(e)},zt=function(e){return null==e},Rr=function(e){return"function"==typeof e},As=function(e){if(!Rs(e)||zt(e)||Ss(e))return!1;var t,n=U(ks);try{for(n.s();!(t=n.n()).done;)if(!e.hasOwnProperty(t.value))return!1}catch(s){n.e(s)}finally{n.f()}return!0},ce=function(e){return e.status="OK",e},jt=function(e,n){return e.status="BAD",e.reason=n,e},qe=function(e){return function(n){return n.tag=e,ce(n)}},Ts=function(e){return null==e.keyId?e:(I(!isNaN(parseInt(e.keyId)),"account.keyId must be an integer"),b(b({},e),{},{keyId:parseInt(e.keyId)}))},gn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t){I("function"==typeof e||"object"===D(e),"prepAccount must be passed an authorization function or an account object"),I(null!=n.role,"Account must have a role");var a=JSON.parse(Ql),s=n.role,u=Ht();e.authorization&&Rr(e.authorization)&&(e={resolve:e.authorization}),!e.authorization&&Rr(e)&&(e={resolve:e});var i=e.resolve;return i&&(e.resolve=function(l){for(var o=arguments.length,c=new Array(o>1?o-1:0),p=1;p<o;p++)c[p-1]=arguments[p];return[i,Ts].reduce(function(){var f=v(d().mark(function g(m,h){return d().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.t0=h,R.t1=void 0,R.next=4,m;case 4:return R.t2=R.sent,R.t3=[R.t2].concat(c),R.abrupt("return",R.t0.apply.call(R.t0,R.t1,R.t3));case 7:case"end":return R.stop()}},g)}));return function(g,m){return f.apply(this,arguments)}}(),l)}),e=Ts(e),t.accounts[u]=b(b(b({},a),{},{tempId:u},e),{},{role:b(b(b({},a.role),"object"===D(e.role)?e.role:{}),{},T({},s,!0))}),s===Bt?t.authorizations.push(u):s===Mt?t.payer.push(u):t[s]=u,t}},Cs=function(e){return function(n){var t=Ht();return n.message.arguments.push(t),n.arguments[t]=JSON.parse(_l),n.arguments[t].tempId=t,n.arguments[t].value=e.value,n.arguments[t].asArgument=e.asArgument,n.arguments[t].xform=e.xform,n.arguments[t].resolve=e.resolve,n.arguments[t].resolveArgument=Rr(e.resolveArgument)?e.resolveArgument.bind(e):e.resolveArgument,ce(n)}},ec=qe(mn),Ps=qe(Rt),Ns=qe(At),Os=qe(Tt),Ds=qe(Ot),Ls=qe(Ct),hn=qe(Pt),Fs=qe(Nt),$s=qe(Dt),Gs=qe(Lt),Us=qe(Ft),Ye=function(e){return function(n){return n.tag===e}},rc=Ye(mn),qt=Ye(Rt),_e=Ye(At),nc=Ye(Tt),tc=Ye(Ot),Yt=Ye(Ct),ac=Ye(Pt),uc=Ye(Nt),Bs=Ye(Dt),sc=Ye(Lt),ic=Ye(Ft),Ms=function(e){return"OK"===e.status},Wt=function(e){return"BAD"===e.status},Hs=function(e){return e.reason},dc=function(e){for(var n=0,t=Object.keys(e);n<t.length;n++){var a=t[n];if(!ks.has(a))throw new Error('"'.concat(a,'" is an invalid root level Interaction property.'))}return e},yn=function(){var r=v(d().mark(function e(n){var t,a,s,u,i,l=arguments;return d().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:[],c.prev=1,c.t0=dc,c.next=5,n;case 5:if(c.t1=c.sent,n=(0,c.t0)(c.t1),!Wt(n)){c.next=9;break}throw new Error("Interaction Error: ".concat(n.reason));case 9:if(t.length){c.next=11;break}return c.abrupt("return",n);case 11:return a=x(t),s=a[0],u=a.slice(1),c.next=14,s;case 14:if(!Rr(i=c.sent)){c.next=17;break}return c.abrupt("return",yn(i(n),u));case 17:if(!zt(i)&&i){c.next=19;break}return c.abrupt("return",yn(n,u));case 19:if(!As(i)){c.next=21;break}return c.abrupt("return",yn(i,u));case 21:throw new Error("Invalid Interaction Composition");case 24:throw c.prev=24,c.t2=c.catch(1),c.t2;case 27:case"end":return c.stop()}},e,null,[[1,24]])}));return function(n){return r.apply(this,arguments)}}(),ve=function r(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var a=n[0],s=n[1];return Is(a)&&null==s?function(u){return r(u,a)}:yn(a,s)},fc=function(e){return e},bn=function(e,n,t){return e.assigns[n]??t},wn=function(e,n){return function(t){return t.assigns[e]=n,ce(t)}},zs=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fc;return function(t){return t.assigns[e]=n(t.assigns[e],t),ce(t)}},Vr=Object.freeze({__proto__:null,UNKNOWN:mn,SCRIPT:Rt,TRANSACTION:At,GET_TRANSACTION_STATUS:Tt,GET_ACCOUNT:Ct,GET_EVENTS:Pt,PING:Nt,GET_TRANSACTION:Ot,GET_BLOCK:Dt,GET_BLOCK_HEADER:Lt,GET_COLLECTION:Ft,BAD:"BAD",OK:"OK",ACCOUNT:Gt,PARAM:"PARAM",ARGUMENT:Ut,AUTHORIZER:Bt,PAYER:Mt,PROPOSER:bs,interaction:Kr,uuid:Ht,isNumber:Ss,isArray:Is,isObj:Rs,isNull:zt,isFn:Rr,isInteraction:As,Ok:ce,Bad:jt,prepAccount:gn,makeArgument:Cs,makeUnknown:ec,makeScript:Ps,makeTransaction:Ns,makeGetTransactionStatus:Os,makeGetTransaction:Ds,makeGetAccount:Ls,makeGetEvents:hn,makePing:Fs,makeGetBlock:$s,makeGetBlockHeader:Gs,makeGetCollection:Us,isUnknown:rc,isScript:qt,isTransaction:_e,isGetTransactionStatus:nc,isGetTransaction:tc,isGetAccount:Yt,isGetEvents:ac,isPing:uc,isGetBlock:Bs,isGetBlockHeader:sc,isGetCollection:ic,isOk:Ms,isBad:Wt,why:Hs,isAccount:function(e){return e.kind===Gt},isParam:function(e){return"PARAM"===e.kind},isArgument:function(e){return e.kind===Ut},pipe:ve,get:bn,put:wn,update:zs,destroy:function(e){return function(n){return delete n.assigns[e],ce(n)}}});function Jr(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ve(Kr(),r)}var Xr=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}')};function Ar(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ve([$s,function(e){return e.block.isSealed=r,ce(e)}])}function cr(r){return ve([Ls,function(e){return e.account.addr=ae(r),ce(e)}])}var vc=function(){Pe.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})},ge=function(){var r=v(d().mark(function e(n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n);case 1:case"end":return a.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),gc=function(){var r=v(d().mark(function e(){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}},e)}));return function(){return r.apply(this,arguments)}}(),hc=function(){var r=v(d().mark(function e(n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n.staticType);case 1:case"end":return a.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),yc=function(){var r=v(d().mark(function e(n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{domain:n.domain,identifier:n.identifier});case 1:case"end":return a.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),bc=function(){var r=v(d().mark(function e(n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{path:n.path,address:n.address,borrowType:n.borrowType});case 1:case"end":return a.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),wc=function(){var r=v(d().mark(function e(n,t,a){return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!n){u.next=6;break}return u.next=3,Tr(n,t,a);case 3:u.t0=u.sent,u.next=7;break;case 6:u.t0=null;case 7:return u.abrupt("return",u.t0);case 8:case"end":return u.stop()}},e)}));return function(n,t,a){return r.apply(this,arguments)}}(),kc=function(){var r=v(d().mark(function e(n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{address:n.address,type:n.type});case 1:case"end":return a.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),Ec=function(){var r=v(d().mark(function e(n,t,a){return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Promise.all(n.map(function(i){return new Promise(function(){var l=v(d().mark(function o(c){return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=c,f.next=3,Tr(i,t,[].concat(K(a),[i.type]));case 3:return f.t1=f.sent,f.abrupt("return",(0,f.t0)(f.t1));case 5:case"end":return f.stop()}},o)}));return function(o){return l.apply(this,arguments)}}())}));case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},e)}));return function(n,t,a){return r.apply(this,arguments)}}(),Sc=function(){var r=v(d().mark(function e(n,t,a){return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,n.reduce(function(){var i=v(d().mark(function l(o,c){return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,o;case 2:return o=f.sent,f.next=5,Tr(c.key,t,[].concat(K(a),[c.key]));case 5:return f.t0=f.sent,f.next=8,Tr(c.value,t,[].concat(K(a),[c.key]));case 8:return o[f.t0]=f.sent,f.abrupt("return",o);case 10:case"end":return f.stop()}},l)}));return function(l,o){return i.apply(this,arguments)}}(),Promise.resolve({}));case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},e)}));return function(n,t,a){return r.apply(this,arguments)}}(),kn=function(){var r=v(d().mark(function e(n,t,a){var s,u;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,n.fields.reduce(function(){var o=v(d().mark(function c(p,f){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,p;case 2:return p=m.sent,m.next=5,Tr(f.value,t,[].concat(K(a),[f.name]));case 5:return p[f.name]=m.sent,m.abrupt("return",p);case 7:case"end":return m.stop()}},c)}));return function(c,p){return o.apply(this,arguments)}}(),Promise.resolve({}));case 2:if(s=l.sent,!(u=n.id&&qs(t,n.id))){l.next=10;break}return l.next=7,u(s);case 7:l.t0=l.sent,l.next=11;break;case 10:l.t0=s;case 11:return l.abrupt("return",l.t0);case 12:case"end":return l.stop()}},e)}));return function(n,t,a){return r.apply(this,arguments)}}(),js={UInt:ge,Int:ge,UInt8:ge,Int8:ge,UInt16:ge,Int16:ge,UInt32:ge,Int32:ge,UInt64:ge,Int64:ge,UInt128:ge,Int128:ge,UInt256:ge,Int256:ge,Word8:ge,Word16:ge,Word32:ge,Word64:ge,UFix64:ge,Fix64:ge,String:ge,Character:ge,Bool:ge,Address:ge,Void:gc,Optional:wc,Reference:kc,Array:Ec,Dictionary:Sc,Event:kn,Resource:kn,Struct:kn,Enum:kn,Type:hc,Path:yc,Capability:bc},qs=function(e,n){var t=Object.keys(e).find(function(a){return/^\/.*\/$/.test(a)?new RegExp(a.substring(1,a.length-1)).test(n):a===n});return n&&t&&e[t]},Tr=function(){var r=v(d().mark(function e(n,t,a){var s;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=qs(t,n.type)){i.next=3;break}throw new Error("Undefined Decoder Error: ".concat(n.type,"@").concat(a.join(".")));case 3:return i.next=5,s(n.value,t,a);case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},e)}));return function(n,t,a){return r.apply(this,arguments)}}(),Kt=function(){var r=v(d().mark(function e(n){var t,a,s,u,i=arguments;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2&&void 0!==i[2]?i[2]:[],s=Object.keys(js).filter(function(c){return!Object.keys(t).find(function(p){return new RegExp(p).test(c)})}).reduce(function(c,p){return c[p]=js[p],c},t),u=b(b({},s),t),o.abrupt("return",Tr(n,u,a));case 5:case"end":return o.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),We=function(){var r=v(d().mark(function e(n){var t,a=arguments;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=a.length>1&&void 0!==a[1]?a[1]:{},!n.encodedData){u.next=5;break}return u.abrupt("return",Kt(n.encodedData,t));case 5:if(!n.transactionStatus){u.next=16;break}return u.t0=b,u.t1=b({},n.transactionStatus),u.t2={},u.next=11,Promise.all(n.transactionStatus.events.map(function(){var i=v(d().mark(function o(c){return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=c.type,f.t1=c.transactionId,f.t2=c.transactionIndex,f.t3=c.eventIndex,f.next=6,Kt(c.payload,t);case 6:return f.t4=f.sent,f.abrupt("return",{type:f.t0,transactionId:f.t1,transactionIndex:f.t2,eventIndex:f.t3,data:f.t4});case 8:case"end":return f.stop()}},o)}));return function l(o){return i.apply(this,arguments)}}()));case 11:return u.t3=u.sent,u.t4={events:u.t3},u.abrupt("return",(0,u.t0)(u.t1,u.t2,u.t4));case 16:if(!n.transaction){u.next=20;break}return u.abrupt("return",n.transaction);case 20:if(!n.events){u.next=26;break}return u.next=23,Promise.all(n.events.map(function(){var i=v(d().mark(function o(c){return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=c.blockId,f.t1=c.blockHeight,f.t2=c.blockTimestamp,f.t3=c.type,f.t4=c.transactionId,f.t5=c.transactionIndex,f.t6=c.eventIndex,f.next=9,Kt(c.payload,t);case 9:return f.t7=f.sent,f.abrupt("return",{blockId:f.t0,blockHeight:f.t1,blockTimestamp:f.t2,type:f.t3,transactionId:f.t4,transactionIndex:f.t5,eventIndex:f.t6,data:f.t7});case 11:case"end":return f.stop()}},o)}));return function l(o){return i.apply(this,arguments)}}()));case 23:return u.abrupt("return",u.sent);case 26:if(!n.account){u.next=30;break}return u.abrupt("return",n.account);case 30:if(!n.block){u.next=34;break}return u.abrupt("return",n.block);case 34:if(!n.blockHeader){u.next=38;break}return u.abrupt("return",n.blockHeader);case 38:if(!n.latestBlock){u.next=43;break}return vc(),u.abrupt("return",n.latestBlock);case 43:if(!n.transactionId){u.next=47;break}return u.abrupt("return",n.transactionId);case 47:if(!n.collection){u.next=49;break}return u.abrupt("return",n.collection);case 49:return u.abrupt("return",null);case 50:case"end":return u.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),Ys=function(e){return"function"==typeof e},Ws=function(e){return"string"==typeof e};function Jt(){return(Jt=v(d().mark(function r(e){var n;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!_e(e)&&!qt(e)){a.next=11;break}if(n=bn(e,"ix.cadence"),I(Ys(n)||Ws(n),"Cadence needs to be a function or a string."),!Ys(n)){a.next=7;break}return a.next=6,n({});case 6:n=a.sent;case 7:return I(Ws(n),"Cadence needs to be a string at this point."),a.next=10,$().where(/^0x/).then(function(s){return Object.entries(s).reduce(function(u,i){var l=H(i,2),c=l[1],p=new RegExp("(\\b"+l[0]+"\\b)","g");return u.replace(p,c)},n)});case 10:e.message.cadence=a.sent;case 11:return a.abrupt("return",e);case 12:case"end":return a.stop()}},r)}))).apply(this,arguments)}var Xt=function(e){return"function"==typeof e};function Ac(r){return I(null!=D(r.xform),"No type specified for argument: ".concat(r.value)),Xt(r.xform)?r.xform(r.value):Xt(r.xform.asArgument)?r.xform.asArgument(r.value):void I(!1,"Invalid Argument",r)}function Ks(r){return Zt.apply(this,arguments)}function Zt(){return Zt=v(d().mark(function r(e){var n,a=arguments;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(I((n=a.length>1&&void 0!==a[1]?a[1]:3)>0,"Argument Resolve Recursion Limit Exceeded for Arg: ".concat(e.tempId)),!Xt(e.resolveArgument)){u.next=9;break}return u.next=5,e.resolveArgument();case 5:return u.abrupt("return",Ks(u.sent,n-1));case 9:return u.abrupt("return",e);case 10:case"end":return u.stop()}},r)})),Zt.apply(this,arguments)}function Qt(){return(Qt=v(d().mark(function r(e){var n,t,a,s,u;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!_e(e)&&!qt(e)){o.next=11;break}n=0,t=Object.entries(e.arguments);case 2:if(!(n<t.length)){o.next=11;break}return a=H(t[n],2),s=a[0],u=a[1],o.next=6,Ks(u);case 6:e.arguments[s].asArgument=Ac(o.sent);case 8:n++,o.next=2;break;case 11:return o.abrupt("return",e);case 12:case"end":return o.stop()}},r)}))).apply(this,arguments)}var e,Vs=function(e){return Zs(_t(ri(e)))},Js=function(e){return Zs(_t(Dc(e)))},Xs=function(e,n){return te.Buffer.from(e.padStart(2*n,0),"hex")},Nc=(e=te.Buffer.from("FLOW-V0.0-transaction").toString("hex"),32,te.Buffer.from(e.padEnd(64,0),"hex")).toString("hex"),Zs=function(e){return Nc+e},Cr=function(e){return Xs(e,8)},Qs=function(e){return Xs(e,32)},_s=function(e){return te.Buffer.from(JSON.stringify(e),"utf8")},xs=function(e){return te.Buffer.from(e,"utf8")},ei=function(e){return te.Buffer.from(e,"hex")},_t=function(e){return lr(e).toString("hex")},ri=function(e){return $c(e),[xs(e.cadence),e.arguments.map(_s),Qs(e.refBlock),e.computeLimit,Cr(ae(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,Cr(ae(e.payer)),e.authorizers.map(function(n){return Cr(ae(n))})]},Dc=function(e){return Gc(e),[ri(e),Lc(e)]},Lc=function(e){var n=ni(e);return e.payloadSigs.map(function(t){return{signerIndex:n.get(t.address),keyId:t.keyId,sig:t.sig}}).sort(function(t,a){return t.signerIndex>a.signerIndex?1:t.signerIndex<a.signerIndex?-1:t.keyId>a.keyId?1:t.keyId<a.keyId?-1:void 0}).map(function(t){return[t.signerIndex,t.keyId,ei(t.sig)]})},ni=function(e){var n=new Map,t=0,a=function(u){n.has(u)||(n.set(u,t),t++)};return a(e.proposalKey.address),a(e.payer),e.authorizers.forEach(a),n},$c=function(e){ai.forEach(function(n){return xe(e,n)}),ui.forEach(function(n){return xe(e.proposalKey,n,"proposalKey")})},Gc=function(e){si.forEach(function(n){return xe(e,n)}),e.payloadSigs.forEach(function(n,t){ii.forEach(function(a){return xe(n,a,"payloadSigs",t)})})},Uc=function(e){ai.forEach(function(n){return xe(e,n)}),ui.forEach(function(n){return xe(e.proposalKey,n,"proposalKey")}),si.forEach(function(n){return xe(e,n)}),e.payloadSigs.forEach(function(n,t){ii.forEach(function(a){return xe(n,a,"payloadSigs",t)})}),Bc.forEach(function(n){return xe(e,n)}),e.envelopeSigs.forEach(function(n,t){Mc.forEach(function(a){return xe(n,a,"envelopeSigs",t)})})},Zr=function(e){return"number"==typeof e},sr=function(e){return"string"==typeof e},ti=function(e){return null!==e&&"object"===D(e)},En=function(e){return ti(e)&&e instanceof Array},ai=[{name:"cadence",check:sr},{name:"arguments",check:En},{name:"refBlock",check:sr,defaultVal:"0"},{name:"computeLimit",check:Zr},{name:"proposalKey",check:ti},{name:"payer",check:sr},{name:"authorizers",check:En}],ui=[{name:"address",check:sr},{name:"keyId",check:Zr},{name:"sequenceNum",check:Zr}],si=[{name:"payloadSigs",check:En}],ii=[{name:"address",check:sr},{name:"keyId",check:Zr},{name:"sig",check:sr}],Bc=[{name:"envelopeSigs",check:En}],Mc=[{name:"address",check:sr},{name:"keyId",check:Zr},{name:"sig",check:sr}],xe=function(e,n,t,a){var s=n.name,u=n.check,i=n.defaultVal;if(null==e[s]&&null!=i&&(e[s]=i),null==e[s])throw Hc(s,t,a);if(!u(e[s]))throw zc(s,t,a)},oi=function(e,n,t){return n?null==t?"".concat(n,".").concat(e):"".concat(n,".").concat(t,".").concat(e):e},Hc=function(e,n,t){return new Error("Missing field ".concat(oi(e,n,t)))},zc=function(e,n,t){return new Error("Invalid field ".concat(oi(e,n,t)))};function li(r){var e=new Set(r.authorizations);return e.add(r.proposer),Array.isArray(r.payer)?r.payer.forEach(function(n){return e.delete(n)}):e.delete(r.payer),Array.from(e)}function ci(r){var e=new Set(Array.isArray(r.payer)?r.payer:[r.payer]);return Array.from(e)}var Qr=function(e){var u;return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(function(s){return e.arguments[s].asArgument}),proposalKey:{address:me(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:me(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),authorizers:(u=e.authorizations.map(function(i){return me(e.accounts[i].addr)}).reduce(function(i,l){return i.find(function(o){return o===l})?i:[].concat(K(i),[l])},[]),u[0]?u:[]),payloadSigs:li(e).map(function(u){return{address:me(e.accounts[u].addr),keyId:e.accounts[u].keyId,sig:e.accounts[u].signature}}),envelopeSigs:ci(e).map(function(u){return{address:me(e.accounts[u].addr),keyId:e.accounts[u].keyId,sig:e.accounts[u].signature}})}},jc=function(e){return function(e){return function(e){var n=new Ul.Aj(256);return n.update(te.Buffer.from(e,"hex")),n.digest().toString("hex")}(_t(function(e){Uc(e);var n=ni(e),t=function(s){return s.map(function(u){var l=u.keyId,o=u.sig;return{signerIndex:n.get(u.address),keyId:l,sig:o}}).sort(function(u,i){return u.signerIndex>i.signerIndex?1:u.signerIndex<i.signerIndex?-1:u.keyId>i.keyId?1:u.keyId<i.keyId?-1:void 0}).map(function(u){return[u.signerIndex,u.keyId,ei(u.sig)]})};return[[xs(e.cadence),e.arguments.map(_s),Qs(e.refBlock),e.computeLimit,Cr(ae(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,Cr(ae(e.payer)),e.authorizers.map(function(a){return Cr(ae(a))})],t(e.payloadSigs),t(e.envelopeSigs)]}(e)))}(e)},di=function(e){return"".concat(me(e.addr),"-").concat(e.keyId)},qc=function(e){return"function"==typeof e};function Yc(r,e){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:r.role,cadence:e.message.cadence,args:e.message.arguments.map(function(n){return e.arguments[n].asArgument}),data:{},interaction:e,voucher:Qr(e)}}catch(n){throw console.error("buildPreSignable",n),n}}function xt(r,e,n){return ea.apply(this,arguments)}function ea(){return ea=v(d().mark(function r(e,n,t){var a,s,u,i,l,o,c=arguments;return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:I(a=c.length>3&&void 0!==c[3]?c[3]:3,"Account Resolve Recursion Limit Exceeded",{ix:e,accounts:n}),s=[],u=U(n),f.prev=4,l=d().mark(function g(){var m,h,y,R;return d().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(h=(m=i.value).resolve,m.resolve=null,o=t||m,!qc(h)){E.next=8;break}return E.next=7,h(m,Yc(m,e));case 7:m=E.sent;case 8:if(!Array.isArray(m)){E.next=13;break}return E.next=11,xt(e,m,o,a-1);case 11:E.next=30;break;case 13:if(m.addr&&(m.addr=ae(m.addr)),null!=m.addr&&null!=m.keyId&&(m.tempId=di(m)),e.accounts[m.tempId]=e.accounts[m.tempId]||m,e.accounts[m.tempId].role.proposer=e.accounts[m.tempId].role.proposer||m.role.proposer,e.accounts[m.tempId].role.payer=e.accounts[m.tempId].role.payer||m.role.payer,e.accounts[m.tempId].role.authorizer=e.accounts[m.tempId].role.authorizer||m.role.authorizer,e.accounts[m.tempId].role.proposer&&e.proposer===o.tempId&&(e.proposer=m.tempId),!e.accounts[m.tempId].role.payer){E.next=29;break}if(e.payer=Array.isArray(e.payer)?Array.from(new Set([].concat(K(e.payer),[m.tempId]).map(function(L){return L===o.tempId?m.tempId:L}))):Array.from(new Set([e.payer,m.tempId].map(function(L){return L===o.tempId?m.tempId:L}))),!(e.payer.length>1)){E.next=29;break}if(y=[],R=[],e.payer=e.payer.reduce(function(L,W){var k=e.accounts[W].addr,q=di(e.accounts[W]);return R.push(k),y.includes(q)?L:(y.push(q),[].concat(K(L),[W]))},[]),!(Array.from(new Set(R)).length>1)){E.next=29;break}throw new Error("Payer can not be different accounts");case 29:e.accounts[m.tempId].role.authorizer&&(t?s=Array.from(new Set([].concat(K(s),[m.tempId]))):e.authorizations=e.authorizations.map(function(L){return L===o.tempId?m.tempId:L}));case 30:o.tempId!=m.tempId&&delete e.accounts[o.tempId];case 31:case"end":return E.stop()}},g)}),u.s();case 7:if((i=u.n()).done){f.next=11;break}return f.delegateYield(l(),"t0",9);case 9:f.next=7;break;case 11:f.next=16;break;case 13:f.prev=13,f.t1=f.catch(4),u.e(f.t1);case 16:return f.prev=16,u.f(),f.finish(16);case 19:t&&(e.authorizations=e.authorizations.map(function(g){return g===t.tempId?s:g}).reduce(function(g,m){return Array.isArray(m)?[].concat(K(g),K(m)):[].concat(K(g),[m])},[]));case 20:case"end":return f.stop()}},r,null,[[4,13,16,19]])})),ea.apply(this,arguments)}function ra(){return ra=v(d().mark(function r(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!_e(e)){t.next=13;break}return Array.isArray(e.payer)||Pe.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."}),t.prev=2,t.next=5,xt(e,Object.values(e.accounts));case 5:return t.next=7,xt(e,Object.values(e.accounts));case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(2),console.error("=== SAD PANDA ===\n\n",t.t0,"\n\n=== SAD PANDA ==="),t.t0;case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}},r,null,[[2,9]])})),ra.apply(this,arguments)}function na(){return na=v(d().mark(function r(e){var n,t,a,s;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!_e(e)){i.next=16;break}return i.prev=1,n=li(e),t=Vs(pi(e)),i.next=6,Promise.all(n.map(fi(e,t)));case 6:return a=ci(e),s=Js(b(b({},pi(e)),{},{payloadSigs:n.map(function(l){return{address:e.accounts[l].addr,keyId:e.accounts[l].keyId,sig:e.accounts[l].signature}})})),i.next=10,Promise.all(a.map(fi(e,s)));case 10:i.next=16;break;case 12:throw i.prev=12,i.t0=i.catch(1),console.error("Signatures",i.t0,{ix:e}),i.t0;case 16:return i.abrupt("return",e);case 17:case"end":return i.stop()}},r,null,[[1,12]])})),na.apply(this,arguments)}function fi(r,e){return function(){var n=v(d().mark(function a(s){var u;return d().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null==(u=r.accounts[s]).signature){c.next=3;break}return c.abrupt("return");case 3:return c.next=5,u.signingFunction(Vc(u,e,r));case 5:r.accounts[s].signature=c.sent.signature;case 8:case"end":return c.stop()}},a)}));return function t(a){return n.apply(this,arguments)}}()}function Vc(r,e,n){try{return{f_type:"Signable",f_vsn:"1.0.1",message:e,addr:ae(r.addr),keyId:r.keyId,roles:r.role,cadence:n.message.cadence,args:n.message.arguments.map(function(t){return n.arguments[t].asArgument}),data:{},interaction:n,voucher:Qr(n)}}catch(t){throw console.error("buildSignable",t),t}}function pi(r){var e=ae((Array.isArray(r.payer)?r.accounts[r.payer[0]]:r.accounts[r.payer]).addr);return{cadence:r.message.cadence,refBlock:r.message.refBlock||null,computeLimit:r.message.computeLimit,arguments:r.message.arguments.map(function(n){return r.arguments[n].asArgument}),proposalKey:{address:ae(r.accounts[r.proposer].addr),keyId:r.accounts[r.proposer].keyId,sequenceNum:r.accounts[r.proposer].sequenceNum},payer:e,authorizers:r.authorizations.map(function(n){return ae(r.accounts[n].addr)}).reduce(function(n,t){return n.find(function(a){return a===t})?n:[].concat(K(n),[t])},[])}}function ta(){return ta=v(d().mark(function r(e){var n;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=bn(e,"ix.validators",[]),a.abrupt("return",ve(e,n.map(function(s){return function(u){return s(u,{Ok:ce,Bad:jt})}})));case 2:case"end":return a.stop()}},r)})),ta.apply(this,arguments)}function aa(){return aa=v(d().mark(function r(e){var n,t,a;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,t=Object.keys(e.accounts);n<t.length;n++)e.accounts[a=t[n]].addr=ae(e.accounts[a].addr);return u.abrupt("return",e);case 2:case"end":return u.stop()}},r)})),aa.apply(this,arguments)}function ua(){return ua=v(d().mark(function r(e){var n;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=bn(e,"ix.voucher-intercept"),!Rr(n)){a.next=4;break}return a.next=4,n(Qr(e));case 4:return a.abrupt("return",e);case 5:case"end":return a.stop()}},r)})),ua.apply(this,arguments)}function sa(){return sa=v(d().mark(function r(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!_e(e)){t.next=8;break}if(t.t0=e.message.computeLimit,t.t0){t.next=6;break}return t.next=5,$.get("fcl.limit");case 5:t.t0=t.sent;case 6:e.message.computeLimit=t.t0,e.message.computeLimit||(Pe.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),e.message.computeLimit=100);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},r)})),sa.apply(this,arguments)}var xc=function(e){return e},Pr=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xc;return function(){var t=v(d().mark(function a(s){var u,i;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return u=function(p){return["\nAccounts:",{proposer:p.proposer,authorizations:p.authorizations,payer:p.payer},"\n\nDetails:",p.accounts].filter(Boolean)},i=function(){for(var p,f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];(p=console).log.apply(p,["debug[".concat(e,"] ---\n")].concat(g,["\n\n\n---"]))},o.next=5,$.get("debug.".concat(e));case 5:if(!o.sent){o.next=8;break}return o.next=8,n(s,i,u);case 8:return o.abrupt("return",s);case 9:case"end":return o.stop()}},a)}));return function(a){return t.apply(this,arguments)}}()},ia=ve([function Rc(r){return Jt.apply(this,arguments)},Pr("cadence",function(r,e){return e(r.message.cadence)}),function _c(r){return sa.apply(this,arguments)},Pr("compute limit",function(r,e){return e(r.message.computeLimit)}),function Tc(r){return Qt.apply(this,arguments)},Pr("arguments",function(r,e){return e(r.message.arguments,r.message)}),function Wc(r){return ra.apply(this,arguments)},Pr("accounts",function(r,e,n){return e.apply(void 0,K(n(r)))}),function ed(r){return oa.apply(this,arguments)},function rd(r){return la.apply(this,arguments)},function Kc(r){return na.apply(this,arguments)},Pr("signatures",function(r,e,n){return e.apply(void 0,K(n(r)))}),function Xc(r){return aa.apply(this,arguments)},function Jc(r){return ta.apply(this,arguments)},function Zc(r){return ua.apply(this,arguments)},Pr("resolved",function(r,e){return e(r)})]);function oa(){return oa=v(d().mark(function r(e){var n,t;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!_e(e)||null!=e.message.refBlock){s.next=11;break}return s.next=3,$().get("accessNode.api");case 3:return n=s.sent,s.next=6,$.first(["sdk.transport","sdk.send"],ht);case 6:return I(t=s.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),s.next=10,t(Jr([Ar()]),{config:$,response:Xr,Buffer:te.Buffer,ix:Vr},{node:n}).then(We);case 10:e.message.refBlock=s.sent.id;case 11:return s.abrupt("return",e);case 12:case"end":return s.stop()}},r)})),oa.apply(this,arguments)}function la(){return la=v(d().mark(function r(e){var n,t,a;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!_e(e)){u.next=20;break}if(I(n=Object.values(e.accounts).find(function(i){return i.role.proposer}),"Transactions require a proposer"),null!=n.sequenceNum){u.next=20;break}return u.next=6,$().get("accessNode.api");case 6:return t=u.sent,u.next=9,$.first(["sdk.transport","sdk.send"],ht);case 9:return I(a=u.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),u.t0=a,u.next=14,Jr([cr(n.addr)]);case 14:return u.t1=u.sent,u.t2={config:$,response:Xr,Buffer:te.Buffer,ix:Vr},u.t3={node:t},u.next=19,(0,u.t0)(u.t1,u.t2,u.t3).then(We).then(function(i){return i.keys}).then(function(i){return i.find(function(l){return l.index===n.keyId})}).then(function(i){return i.sequenceNumber});case 19:e.accounts[n.tempId].sequenceNum=u.sent;case 20:return u.abrupt("return",e);case 21:case"end":return u.stop()}},r)})),la.apply(this,arguments)}function j(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];if(e.length>1){var t=e[0],a=e[1];return j(function(u,i){var o=i.Bad;return t?(0,i.Ok)(u):o(u,a)})}var s=e[0];return function(u){return s(u,{Ok:ce,Bad:jt})}}var Be=function(){var r=v(d().mark(function e(){var n,t,a,s,u=arguments;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:[],t=u.length>1&&void 0!==u[1]?u[1]:{},l.next=4,$.first(["sdk.transport","sdk.send"],t.send||ht);case 4:return j(a=l.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),l.next=8,$.first(["sdk.resolve"],t.resolve||ia);case 8:if(s=l.sent,l.t0=t.node,l.t0){l.next=14;break}return l.next=13,$().get("accessNode.api");case 13:l.t0=l.sent;case 14:return t.node=l.t0,Array.isArray(n)&&(n=ve(Kr(),n)),l.t1=a,l.next=19,s(n);case 19:return l.t2=l.sent,l.t3={config:$,response:Xr,ix:Vr,Buffer:te.Buffer},l.t4=t,l.abrupt("return",(0,l.t1)(l.t2,l.t3,l.t4));case 23:case"end":return l.stop()}},e)}));return function(){return r.apply(this,arguments)}}();function Nr(r){return ca.apply(this,arguments)}function ca(){return ca=v(d().mark(function r(e){var t;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,$().where(/^decoder\./);case 2:return t=Object.entries(s.sent).map(function(u){var i=H(u,2),l=i[0],o=i[1];return[l="/".concat(l.replace(/^decoder\./,""),"$/"),o]}),s.abrupt("return",We(e,Object.fromEntries(t)));case 5:case"end":return s.stop()}},r)})),ca.apply(this,arguments)}var ad=function(r){Wu(n,r);var e=Vu(n);function n(t){var a;Yu(this,n);var s="\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ".concat(t,". \n        Please ensure the address: ").concat(t," is intended to sign the given transaction as specified by the transaction signable.\n      ").trim();return(a=e.call(this,s)).name="Unable To Determine Message Encoding For Signer Addresss",a}return qu(n)}(dn(Error));function da(r){return zs("ix.validators",function(e){return Array.isArray(e)?e.push(r):[r]})}function Sn(r){return ve([function(e){return e.block.height=r,e},da(function(e){if("boolean"==typeof e.block.isSealed)throw new Error("Unable to specify both block height and isSealed.");if(e.block.id)throw new Error("Unable to specify both block height and block id.");return e})])}function fa(r){return ve([function(e){return e.block.id=r,ce(e)},da(function(e,n){var t=n.Ok,a=n.Bad;return Yt(e)?a(e,"Unable to specify a block id with a Get Account interaction."):"boolean"==typeof e.block.isSealed?a(e,"Unable to specify both block id and isSealed."):e.block.height?a(e,"Unable to specify both block id and block height."):t(e)})])}function sd(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.height,t=e.id,a=arguments.length>2?arguments[2]:void 0;return I(!(t&&n),'Method: account -- Cannot pass "id" and "height" simultaneously'),t?Be([cr(r),fa(t)],a).then(We):n?Be([cr(r),Sn(n)],a).then(We):Be([cr(r)],a).then(We)}function _r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r.sealed,n=void 0!==e&&e,t=r.id,a=r.height,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return I(!(n&&t||n&&a),'Method: block -- Cannot pass "sealed" with "id" or "height"'),I(!(t&&a),'Method: block -- Cannot pass "id" and "height" simultaneously'),t?Be([Ar(),fa(t)],s).then(We):a?Be([Ar(),Sn(a)],s).then(We):Be([Ar(n)],s).then(We)}function mi(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ve(r.map(function(e){return gn(e,{role:Bt})}))}function id(r,e,n,t){return{addr:r,signingFunction:e,keyId:n,sequenceNum:t}}function od(r,e,n){return(typeof e<"u"||typeof n<"u")&&Pe.deprecate({pkg:"FCL/SDK",subject:"Passing a start and end into getEvents",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder"}),ve([hn,function(t){return t.events.eventType=r,t.events.start=e,t.events.end=n,ce(t)}])}function vi(r,e,n){return ve([hn,function(t){return t.events.eventType=r,t.events.start=e,t.events.end=n,ce(t)}])}function ld(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ve([hn,function(n){return n.events.eventType=r,n.events.blockIds=e,ce(n)}])}function cd(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ve([Gs,function(e){return e.block.isSealed=r,ce(e)}])}function dd(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ve([Us,function(e){return e.collection.id=r,e}])}function gi(r){return ve([Os,function(e){return e.transaction.id=r,ce(e)}])}function fd(r){return ve([Ds,function(e){return e.transaction.id=r,ce(e)}])}function pa(r){return function(e){return e.message.computeLimit=r,e}}function ma(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ve(r.map(Cs))}function va(r,e){return{value:r,xform:e}}function hi(r){return ga.apply(this,arguments)}function ga(){return ga=v(d().mark(function r(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gn(e,{role:bs}));case 1:case"end":return t.stop()}},r)})),ga.apply(this,arguments)}function yi(r){return ha.apply(this,arguments)}function ha(){return ha=v(d().mark(function r(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gn(e,{role:Mt}));case 1:case"end":return t.stop()}},r)})),ha.apply(this,arguments)}function pd(){return Fs}function bi(r){return ve([function(e){return e.message.refBlock=r,ce(e)}])}function wi(){return ve([Ps,wn("ix.cadence",pn.apply(void 0,arguments))])}var md=[];function ki(){return ve([Ns,wn("ix.cadence",pn.apply(void 0,arguments)),function(r){return r.message.refBlock=r.message.refBlock||null,r.authorizations=r.authorizations||md,ce(r)}])}function gd(r){return wn("ix.voucher-intercept",r)}function hd(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;I(r.account,"mockAccountResponse(ix) -- ix.account is missing",r),I(r.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",r);var n=r.account.addr;return{account:{addr:n,keys:Array.from({length:e},function(t,a){return{index:a,sequenceNumber:42}})}}}var bd=function(e){return e},kd=["tempId"];function Ei(r){return["SIGNATURE",r.addr,r.keyId].join(".")}function xr(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var n=b(b(b({},e),r),{},{signingFunction:r.signingFunction||e.signingFunction||function t(a){return{addr:n.addr,keyId:n.keyId,signature:Ei(n)}}});return n}}var Si,ya={proposer:!1,authorizer:!1,payer:!1},Ad=Object.freeze({__proto__:null,mockSend:function wd(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bd;return function(){var e=v(d().mark(function t(a){return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a;case 2:a=u.sent,u.t0=!0,u.next=u.t0===Yt(a)?6:u.t0===Bs(a)?7:8;break;case 6:return u.abrupt("return",hd(a));case 7:return u.abrupt("return",{tag:"GET_BLOCK",block:{id:"32"}});case 8:return u.abrupt("return",r(a));case 9:case"end":return u.stop()}},t)}));return function n(t){return e.apply(this,arguments)}}()},authzFn:xr,authzResolve:function Sd(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var n=r.tempId,t=Zl(r,kd);return b(b({},e),{},{tempId:n||"WITH_RESOLVE",resolve:xr(t)})}},authzResolveMany:function Id(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var n=r.tempId||"AUTHZ_RESOLVE_MANY";return b(b({},e),{},{tempId:n,resolve:function(){return[r.proposer&&xr(r.proposer)({role:b(b({},ya),{},{proposer:!0})})].concat(K(r.authorizations.map(xr).map(function(a){return a({role:b(b({},ya),{},{authorizer:!0})})})),[r.payer&&xr(r.payer)({role:b(b({},ya),{},{payer:!0})})]).filter(Boolean)}})}},sig:Ei,idof:function(e){return"".concat(me(e.addr),"-").concat(e.keyId)},run:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Jr([bi("123")].concat(K(e))).then(ia)}}),Td=function(e){return Pe.deprecate({pkg:"FCL/SDK",message:"The params builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:Fe.error})},Cd=function(e){return Pe.deprecate({pkg:"FCL/SDK",message:"The param builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:Fe.error})},Pd="function"==typeof queueMicrotask?queueMicrotask:function(r){return(Si||(Si=Promise.resolve())).then(r).catch(function(e){return setTimeout(function(){throw e},0)})},Nd=function(){var n,e=[];return{deliver:function(a){return v(d().mark(function s(){return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e.push(a),n&&(n(e.shift()),n=void 0);case 2:case"end":return i.stop()}},s)}))()},receive:function(){return new Promise(function(s){var u=e.shift();if(u)return s(u);n=s})}}},Ii="INIT",Ri="SUBSCRIBE",ba="UNSUBSCRIBE",Od="UPDATED",Ai="TERMINATE",ie="object"===(typeof self>"u"?"undefined":D(self))&&self.self===self&&self||"object"===(typeof global>"u"?"undefined":D(global))&&global.global===global&&global||"object"===(typeof window>"u"?"undefined":D(window))&&window.window===window&&window;ie.FCL_REGISTRY=ie.FCL_REGISTRY??{};var Ke,Ld=0,Me=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(s,u){var i=a.expectReply||!1,l=null!=a.timeout?a.timeout:5e3;i&&l&&setTimeout(function(){return u(new Error("Timeout: ".concat(l,"ms passed without a response.")))},l);var o={to:e,from:a.from,tag:n,data:t,timeout:l,reply:s,reject:u};try{ie.FCL_REGISTRY[e]&&ie.FCL_REGISTRY[e].mailbox.deliver(o),i||s(!0)}catch(c){console.error("FCL.Actor -- Could Not Deliver Message",o,ie.FCL_REGISTRY[e],c)}})},$d=function(e){delete ie.FCL_REGISTRY[e]},Gd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var n=v(d().mark(function t(a){var s;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if("function"!=typeof e[Ii]){i.next=3;break}return i.next=3,e[Ii](a);case 3:return i.next=6,a.receive();case 6:if(s=i.sent,i.prev=7,"EXIT"!==s.tag){i.next=13;break}if("function"!=typeof e[Ai]){i.next=12;break}return i.next=12,e[Ai](a,s,s.data||{});case 12:return i.abrupt("break",25);case 13:return i.next=15,e[s.tag](a,s,s.data||{});case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(7),console.error("".concat(a.self()," Error"),s,i.t0);case 20:return i.prev=20,i.abrupt("continue",3);case 23:i.next=3;break;case 25:case"end":return i.stop()}},t,null,[[7,17,20,23]])}));return function(t){return n.apply(this,arguments)}}()},wa=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==n&&(n=++Ld),null!=ie.FCL_REGISTRY[n])return n;ie.FCL_REGISTRY[n]={addr:n,mailbox:Nd(),subs:new Set,kvs:{},error:null};var t={self:function(){return n},receive:function(){return ie.FCL_REGISTRY[n].mailbox.receive()},send:function(s,u,i){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.from=n,Me(s,u,i,l)},sendSelf:function(s,u,i){ie.FCL_REGISTRY[n]&&Me(n,s,u,i)},broadcast:function(s,u){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.from=n;var o,l=U(ie.FCL_REGISTRY[n].subs);try{for(l.s();!(o=l.n()).done;){var c=o.value;Me(c,s,u,i)}}catch(p){l.e(p)}finally{l.f()}},subscribe:function(s){return null!=s&&ie.FCL_REGISTRY[n].subs.add(s)},unsubscribe:function(s){return null!=s&&ie.FCL_REGISTRY[n].subs.delete(s)},subscriberCount:function(){return ie.FCL_REGISTRY[n].subs.size},hasSubs:function(){return!!ie.FCL_REGISTRY[n].subs.size},put:function(s,u){null!=s&&(ie.FCL_REGISTRY[n].kvs[s]=u)},get:function(s,u){return ie.FCL_REGISTRY[n].kvs[s]??u},delete:function(s){delete ie.FCL_REGISTRY[n].kvs[s]},update:function(s,u){null!=s&&(ie.FCL_REGISTRY[n].kvs[s]=u(ie.FCL_REGISTRY[n].kvs[s]))},keys:function(){return Object.keys(ie.FCL_REGISTRY[n].kvs)},all:function(){return ie.FCL_REGISTRY[n].kvs},where:function(s){return Object.keys(ie.FCL_REGISTRY[n].kvs).reduce(function(u,i){return s.test(i)?b(b({},u),{},T({},i,ie.FCL_REGISTRY[n].kvs[i])):u},{})},merge:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(s).forEach(function(u){return ie.FCL_REGISTRY[n].kvs[u]=s[u]})},fatalError:function(s){ie.FCL_REGISTRY[n].error=s;var i,u=U(ie.FCL_REGISTRY[n].subs);try{for(u.s();!(i=u.n()).done;)Me(i.value,Od)}catch(o){u.e(o)}finally{u.f()}}};return"object"===D(e)&&(e=Gd(e)),Pd(v(d().mark(function a(){return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e(t);case 2:$d(n);case 3:case"end":return u.stop()}},a)}))),n},er="config",Ti="PUT_CONFIG",Ci="GET_CONFIG",Pi="GET_ALL_CONFIG",Ni="UPDATE_CONFIG",Oi="DELETE_CONFIG",Di="CLEAR_CONFIG",Li="WHERE_CONFIG",en="CONFIG/UPDATED",Fi=function(e){return e},$i=(T(Ke={},Ti,function(r,e,n){var t=n.key,a=n.value;if(null==t)throw new Error("Missing 'key' for config/put.");r.put(t,a),r.broadcast(en,b({},r.all()))}),T(Ke,Ci,function(r,e,n){var t=n.key,a=n.fallback;if(null==t)throw new Error("Missing 'key' for config/get");e.reply(r.get(t,a))}),T(Ke,Pi,function(r,e){e.reply(b({},r.all()))}),T(Ke,Ni,function(r,e,n){var t=n.key,a=n.fn;if(null==t)throw new Error("Missing 'key' for config/update");r.update(t,a||Fi),r.broadcast(en,b({},r.all()))}),T(Ke,Oi,function(r,e,n){var t=n.key;if(null==t)throw new Error("Missing 'key' for config/delete");r.delete(t),r.broadcast(en,b({},r.all()))}),T(Ke,Di,function(r,e){for(var t=0,a=Object.keys(r.all());t<a.length;t++)r.delete(a[t]);r.broadcast(en,b({},r.all()))}),T(Ke,Li,function(r,e,n){var t=n.pattern;if(null==t)throw new Error("Missing 'pattern' for config/where");e.reply(r.where(t))}),T(Ke,Ri,function(r,e){r.subscribe(e.from),r.send(e.from,en,b({},r.all()))}),T(Ke,ba,function(r,e){r.unsubscribe(e.from)}),Ke);function ka(r,e){return Me(er,Ti,{key:r,value:e}),Le()}function Ea(r,e){return Me(er,Ci,{key:r,fallback:e},{expectReply:!0,timeout:10})}function Sa(){return Ia.apply(this,arguments)}function Ia(){return Ia=v(d().mark(function r(){var e,n,t,a,s,u,i=arguments;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=i.length>1?i[1]:void 0,(e=i.length>0&&void 0!==i[0]?i[0]:[]).length){o.next=4;break}return o.abrupt("return",n);case 4:return t=x(e),a=t[0],s=t.slice(1),o.next=7,Ea(a);case 7:if(null!=(u=o.sent)){o.next=10;break}return o.abrupt("return",Sa(s,n));case 10:return o.abrupt("return",u);case 11:case"end":return o.stop()}},r)})),Ia.apply(this,arguments)}function In(){return Me(er,Pi,null,{expectReply:!0,timeout:10})}function Gi(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fi;return Me(er,Ni,{key:r,fn:e}),Le()}function Ui(r){return Me(er,Oi,{key:r}),Le()}function Bi(r){return Me(er,Li,{pattern:r},{expectReply:!0,timeout:10})}function Mi(r){return function Ud(r,e,n){e(r);var t="@EXIT",a=wa(function(){var s=v(d().mark(function u(i){var l,o;return d().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:i.send(r,Ri);case 1:return p.next=4,i.receive();case 4:if(o=ie.FCL_REGISTRY[r].error,(l=p.sent).tag!==t){p.next=9;break}return i.send(r,ba),p.abrupt("return");case 9:if(!o){p.next=13;break}return n(null,o),i.send(r,ba),p.abrupt("return");case 13:n(l.data,null),p.next=1;break;case 16:case"end":return p.stop()}},u)}));return function(u){return s.apply(this,arguments)}}());return function(){return Me(a,t)}}(er,function(){return wa($i,er)},r)}function Hi(r){return function Bd(){return Me(er,Di)}().then(Le(r))}function Le(r){return null!=r&&"object"===D(r)&&Object.keys(r).map(function(e){return ka(e,r[e])}),{put:ka,get:Ea,all:In,first:Sa,update:Gi,delete:Ui,where:Bi,subscribe:Mi,overload:zi}}wa($i,er),Le.put=ka,Le.get=Ea,Le.all=In,Le.first=Sa,Le.update=Gi,Le.delete=Ui,Le.where=Bi,Le.subscribe=Mi,Le.overload=zi;var Md=function(e){return e};function zi(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Md;return new Promise(function(){var n=v(d().mark(function t(a,s){var u,i;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,In();case 2:return u=o.sent,o.prev=3,Le(r),o.t0=e,o.next=8,In();case 8:return o.t1=o.sent,o.next=11,(0,o.t0)(o.t1);case 11:return i=o.sent,o.next=14,Hi(u);case 14:a(i),o.next=22;break;case 17:return o.prev=17,o.t2=o.catch(3),o.next=21,Hi(u);case 21:s(o.t2);case 22:case"end":return o.stop()}},t,null,[[3,17]])}));return function(t,a){return n.apply(this,arguments)}}())}var Or=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Hd=function(e){var t=e.message;return["\n    %c".concat(e.title,"\n    ============================\n\n    ").concat(t,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},Rn=function(){var r=v(d().mark(function e(n){var t,a,s,u,i,l,o,c,p,f,g,m;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return l=n.title,o=n.message,c=n.level,f=void 0!==(p=n.always)&&p,y.next=3,Le.get("logger.level",Or.warn);case 3:if(g=y.sent,f||!(g<c)){y.next=6;break}return y.abrupt("return");case 6:m=Hd({title:l,message:o}),y.t0=c,y.next=y.t0===Or.debug?10:y.t0===Or.info?12:y.t0===Or.warn?14:y.t0===Or.error?16:18;break;case 10:return(t=console).debug.apply(t,K(m)),y.abrupt("break",19);case 12:return(a=console).info.apply(a,K(m)),y.abrupt("break",19);case 14:return(s=console).warn.apply(s,K(m)),y.abrupt("break",19);case 16:return(u=console).error.apply(u,K(m)),y.abrupt("break",19);case 18:(i=console).log.apply(i,K(m));case 19:case"end":return y.stop()}},e)}));return function(n){return r.apply(this,arguments)}}();Rn.deprecate=function(r){var e=r.pkg,n=r.subject,t=r.transition,a=r.level,s=void 0===a?Or.warn:a,u=r.message,i=void 0===u?"":u,l=r.callback,o=void 0===l?null:l,p=function(){return Rn({title:"".concat(e?e+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((g=n,g.charAt(0).toUpperCase()+g.slice(1))," is deprecated and will cease to work in future releases").concat(e?" of "+e:"","."):"").concat(i?"\n"+i:"").concat(t?"\nYou can learn more (including a guide on common transition paths) here: ".concat(t):"","\n    ").trim(),level:s});var g};return"function"==typeof o?v(d().mark(function f(){var g=arguments;return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,p();case 2:return h.next=4,o.apply(void 0,g);case 4:return h.abrupt("return",h.sent);case 5:case"end":return h.stop()}},f)})):p()};var Q=function(e,n,t){return{label:e,asArgument:n,asInjection:t}},dr=function(e){return Array.isArray(e)},fr=function(e){return"object"===D(e)},ji=function(e){return null==e},Ee=function(e){return"number"==typeof e},Te=function(e){return Number.isInteger(e)},de=function(e){return"string"==typeof e},X=function(e){throw new Error("Type Error: "+e)},Ce=function(e){Rn.deprecate({pkg:"@onflow/types",subject:"Passing in Number as value for ".concat(e),message:"Going forward, use String as value for ".concat(e,"."),transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})},jd=Q("Identity",function(r){return r},function(r){return r}),qd=Q("UInt",function(r){return Ee(r)&&Te(r)?(Ce("UInt"),{type:"UInt",value:r.toString()}):de(r)?{type:"UInt",value:r}:void X("Expected Positive Integer for type Unsigned Int")},function(r){return r}),Yd=Q("Int",function(r){return Ee(r)&&Te(r)?(Ce("Int"),{type:"Int",value:r.toString()}):de(r)?{type:"Int",value:r}:void X("Expected Integer for type Int")},function(r){return r}),Wd=Q("UInt8",function(r){return Ee(r)&&Te(r)?(Ce("UInt8"),{type:"UInt8",value:r.toString()}):de(r)?{type:"UInt8",value:r}:void X("Expected integer for UInt8")},function(r){return r}),Kd=Q("Int8",function(r){return Ee(r)&&Te(r)?(Ce("Int8"),{type:"Int8",value:r.toString()}):de(r)?{type:"Int8",value:r}:void X("Expected positive integer for Int8")},function(r){return r}),Vd=Q("UInt16",function(r){return Ee(r)&&Te(r)?(Ce("UInt16"),{type:"UInt16",value:r.toString()}):de(r)?{type:"UInt16",value:r}:void X("Expected integer for UInt16")},function(r){return r}),Jd=Q("Int16",function(r){return Ee(r)&&Te(r)?(Ce("Int16"),{type:"Int16",value:r.toString()}):de(r)?{type:"Int16",value:r}:void X("Expected positive integer for Int16")},function(r){return r}),Xd=Q("UInt32",function(r){return Ee(r)&&Te(r)?(Ce("UInt32"),{type:"UInt32",value:r.toString()}):de(r)?{type:"UInt32",value:r}:void X("Expected integer for UInt32")},function(r){return r}),Zd=Q("Int32",function(r){return Ee(r)&&Te(r)?(Ce("Int32"),{type:"Int32",value:r.toString()}):de(r)?{type:"Int32",value:r}:void X("Expected positive integer for Int32")},function(r){return r}),Qd=Q("UInt64",function(r){return Ee(r)&&Te(r)?(Ce("UInt64"),{type:"UInt64",value:r.toString()}):de(r)?{type:"UInt64",value:r}:void X("Expected integer for UInt64")},function(r){return r}),_d=Q("Int64",function(r){return Ee(r)&&Te(r)?(Ce("Int64"),{type:"Int64",value:r.toString()}):de(r)?{type:"Int64",value:r}:void X("Expected positive integer for Int64")},function(r){return r}),xd=Q("UInt128",function(r){return Ee(r)&&Te(r)?(Ce("UInt128"),{type:"UInt128",value:r.toString()}):de(r)?{type:"UInt128",value:r}:void X("Expected integer for UInt128")},function(r){return r}),ef=Q("Int128",function(r){return Ee(r)&&Te(r)?(Ce("Int128"),{type:"Int128",value:r.toString()}):de(r)?{type:"Int128",value:r}:void X("Expected positive integer for Int128")},function(r){return r}),rf=Q("UInt256",function(r){return Ee(r)&&Te(r)?(Ce("UInt256"),{type:"UInt256",value:r.toString()}):de(r)?{type:"UInt256",value:r}:void X("Expected integer for UInt256")},function(r){return r}),nf=Q("Int256",function(r){return Ee(r)&&Te(r)?(Ce("Int256"),{type:"Int256",value:r.toString()}):de(r)?{type:"Int256",value:r}:void X("Expected integer for Int256")},function(r){return r}),tf=Q("Word8",function(r){return Ee(r)&&Te(r)?(Ce("Word8"),{type:"Word8",value:r.toString()}):de(r)?{type:"Word8",value:r}:void X("Expected positive number for Word8")},function(r){return r}),af=Q("Word16",function(r){return Ee(r)&&Te(r)?(Ce("Word16"),{type:"Word16",value:r.toString()}):de(r)?{type:"Word16",value:r}:void X("Expected positive number for Word16")},function(r){return r}),uf=Q("Word32",function(r){return Ee(r)&&Te(r)?(Ce("Word32"),{type:"Word32",value:r.toString()}):de(r)?{type:"Word32",value:r}:void X("Expected positive number for Word32")},function(r){return r}),sf=Q("Word64",function(r){return Ee(r)&&Te(r)?(Ce("Word64"),{type:"Word64",value:r.toString()}):de(r)?{type:"Word64",value:r}:void X("Expected positive number for Word64")},function(r){return r}),qi=function(){Rn.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},of=Q("UFix64",function(r){if(de(r)){var e=r.split(".");return 2!==e.length&&X("Expected one decimal but found ".concat(e.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==e[1].length||e[1].length>8)&&X("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(e[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),e[1]=e[1].padEnd(8,"0"),{type:"UFix64",value:r=e.join(".")}}if(Ee(r))return qi(),{type:"UFix64",value:r.toString()};X("Expected String for UFix64")},function(r){return r}),lf=Q("Fix64",function(r){if(de(r)){var e=r.split(".");return 2!==e.length&&X("Expected one decimal but found ".concat(e.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==e[1].length||e[1].length>8)&&X("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(e[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),e[1]=e[1].padEnd(8,"0"),{type:"Fix64",value:r=e.join(".")}}if(Ee(r))return qi(),{type:"Fix64",value:r.toString()};X("Expected String for Fix64")},function(r){return r}),cf=Q("String",function(r){if(de(r))return{type:"String",value:r};X("Expected String for type String")},function(r){return r}),df=Q("Character",function(r){if(de(r))return{type:"Character",value:r};X("Expected Character for type Character")},function(r){return r}),ff=Q("Bool",function(r){if(function(e){return"boolean"==typeof e}(r))return{type:"Bool",value:r};X("Expected Boolean for type Bool")},function(r){return r}),Yi=Q("Address",function(r){if(de(r))return{type:"Address",value:r};X("Expected Address for type Address")},function(r){return r}),pf=Q("Void",function(r){if(!r||ji(r))return{type:"Void"};X("Expected Void for type Void")},function(r){return r}),mf=function(e){return Q("Optional",function(n){return{type:"Optional",value:ji(n)?null:e.asArgument(n)}},function(n){return n})},vf=Q("Reference",function(r){if(fr(r))return{type:"Reference",value:r};X("Expected Object for type Reference")},function(r){return r}),Wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Q("Array",function(n){return{type:"Array",value:dr(e)?e.map(function(t,a){return t.asArgument(n[a])}):n.map(function(t){return e.asArgument(t)})}},function(n){return n})},gf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Q("Dictionary",function(n){if(fr(n))return{type:"Dictionary",value:dr(e)?e.map(function(t,a){return{key:t.key.asArgument(n[a].key),value:t.value.asArgument(n[a].value)}}):dr(n)?n.map(function(t){return{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}}):[{key:e.key.asArgument(n.key),value:e.value.asArgument(n.value)}]};X("Expected Object for type Dictionary")},function(n){return n})},hf=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Q("Event",function(t){if(fr(t))return{type:"Event",value:{id:e,fields:dr(n)?n.map(function(a,s){return{name:t.fields[s].name,value:a.value.asArgument(t.fields[s].value)}}):t.fields.map(function(a){return{name:a.name,value:n.value.asArgument(a.value)}})}};X("Expected Object for type Event")},function(t){return t})},yf=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Q("Resource",function(t){if(fr(t))return{type:"Resource",value:{id:e,fields:dr(n)?n.map(function(a,s){return{name:t.fields[s].name,value:a.value.asArgument(t.fields[s].value)}}):t.fields.map(function(a){return{name:a.name,value:n.value.asArgument(a.value)}})}};X("Expected Object for type Resource")},function(t){return t})},bf=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Q("Struct",function(t){if(fr(t))return{type:"Struct",value:{id:e,fields:dr(n)?n.map(function(a,s){return{name:t.fields[s].name,value:a.value.asArgument(t.fields[s].value)}}):t.fields.map(function(a){return{name:a.name,value:n.value.asArgument(a.value)}})}};X("Expected Object for type Struct")},function(t){return t})},wf=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Q("Enum",function(t){if(fr(t))return{type:"Enum",value:{id:e,fields:dr(n)?n.map(function(a,s){return{name:t.fields[s].name,value:a.value.asArgument(t.fields[s].value)}}):t.fields.map(function(a){return{name:a.name,value:n.value.asArgument(a.value)}})}};X("Expected Object for type Enum")},function(t){return t})},kf=Q("Path",function(r){if(fr(r))return de(r.domain)||X("Expected a string for the Path domain but found ".concat(r.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),"storage"===r.domain||"private"===r.domain||"public"===r.domain||X('Expected either "storage", "private" or "public" as the Path domain but found '.concat(r.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),de(r.identifier)||X("Expected a string for the Path identifier but found ".concat(r.identifier,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),{type:"Path",value:{domain:r.domain,identifier:r.identifier}};X("Expected Object for type Path")},function(r){return r}),Ki="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Ef=Ki.length;function Ra(){for(var r="",e=32;e--;)r+=Ki[Math.random()*Ef|0];return r}var r,If={can:!(typeof window>"u"),get:(r=v(d().mark(function n(t){return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",JSON.parse(sessionStorage.getItem(t)));case 1:case"end":return s.stop()}},n)})),function e(n){return r.apply(this,arguments)}),put:function(){var r=v(d().mark(function n(t,a){return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",sessionStorage.setItem(t,JSON.stringify(a)));case 1:case"end":return u.stop()}},n)}));return function e(n,t){return r.apply(this,arguments)}}()};function Vi(r){return Aa.apply(this,arguments)}function Aa(){return Aa=v(d().mark(function r(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Object,t.t1=Object,t.next=4,$().where(e);case 4:return t.t2=t.sent,t.t3=t.t1.entries.call(t.t1,t.t2).map(function(a){var s=H(a,2),i=s[1];return[s[0].replace(e,""),i]}),t.abrupt("return",t.t0.fromEntries.call(t.t0,t.t3));case 7:case"end":return t.stop()}},r)})),Aa.apply(this,arguments)}$({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":If});var Ve="1.3.2",An=function(e){return function(n){return D(n)===e}},tr=function(e){return null!=e},Rf=An("object"),Dr=An("string"),Ji=An("function"),Af=An("number");function Xi(r){return Ji(r)?r(va,N):[]}function Zi(r){return Ta.apply(this,arguments)}function Ta(){return Ta=v(d().mark(function r(e){var n,t;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return I(typeof(n=e.url)<"u","retrieve({ url }) -- url must be defined"),u.prev=2,u.next=5,Ju()(n);case 5:t=u.sent,u.next=11;break;case 8:throw u.prev=8,u.t0=u.catch(2),new Error("httpDocumentResolver Error: Failed to retrieve document.");case 11:if(!t.ok){u.next=17;break}return u.next=14,t.json();case 14:u.t1=u.sent,u.next=18;break;case 17:u.t1=null;case 18:return u.abrupt("return",u.t1);case 20:case"end":return u.stop()}},r,null,[[2,8]])})),Ta.apply(this,arguments)}var Qi=new Map([["http",Zi],["https",Zi]]);function Tf(r){return Ca.apply(this,arguments)}function Ca(){return Ca=v(d().mark(function r(e){var n,t,a,s,u;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return I(typeof(n=e.url)<"u","retrieve({ url }) -- url must be defined"),I("string"==typeof n,"retrieve({ url }) -- url must be a string"),o.next=5,$().where(/^document\.resolver\./);case 5:return t=o.sent,Object.keys(t).map(function(c){var p=t[c],f=c.replace(/^document\.resolver\./,"");Qi.set(f,p)}),I(a=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(n),"Failed to parse URL"),s=a[1],I(a,"Failed to parse URL protocol"),I(u=Qi.get(s),"No resolver found for protcol=".concat(s)),o.next=15,u({url:n});case 15:return o.abrupt("return",o.sent);case 17:case"end":return o.stop()}},r)})),Ca.apply(this,arguments)}function rn(r){if(null==r)return null;if("1.0.0"===r.f_version)return r;throw new Error("normalizeInteractionTemplate Error: Invalid InteractionTemplate")}function _i(r){var e,n,t=r.network,a=r.template;if("1.0.0"===(j(null!=t,"deriveCadenceByNetwork({ network }) -- network must be defined"),j("string"==typeof t,"deriveCadenceByNetwork({ network }) -- network must be a string"),j(null!=a,"generateDependencyPin({ template }) -- template must be defined"),j("object"===D(a),"generateDependencyPin({ template }) -- template must be an object"),j("InteractionTemplate"===a.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),(a=rn(a)).f_version))return Object.keys(null===(e=a)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.dependencies).map(function(u){var i,l,o,c=Object.values(null===(i=a)||void 0===i||null===(l=i.data)||void 0===l||null===(o=l.dependencies)||void 0===o?void 0:o[u]);j(c,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(u)),j(0===c.length,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(u));var p=c[0],f=null==p?void 0:p[t];return j(f,"deriveCadenceByNetwork -- Could not find ".concat(t," network information for dependency: ").concat(u)),[u,f.address]}).reduce(function(u,i){var l=H(i,2),c=l[1],p=new RegExp("(\\b"+l[0]+"\\b)","g");return u.replace(p,c)},a.data.cadence);throw new Error("deriveCadenceByNetwork Error: Unsupported template version")}function Cf(r){return Pa.apply(this,arguments)}function Pa(){return Pa=v(d().mark(function r(e){var n,t,a,s,u,i,l,o,c,p,f,m;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return t=e.template,y.next=3,$.get("flow.network");case 3:I(a=y.sent,"FCL configureDependencies Error: Missing configuration value for 'flow.network'"),s={},y.t0=t.f_version,y.next="1.0.0"===y.t0?9:12;break;case 9:for(u=Object.keys(null==t||null===(n=t.data)||void 0===n?void 0:n.dependencies),i=0,l=u;i<l.length;i++)c=l[i],p=null==t||null===(o=t.data)||void 0===o?void 0:o.dependencies[c],I((f=Object.keys(p)).length>0,"FCL configureDependencies Error: No contracts found in template for placeholder=".concat(c)),I(m=p[f[0]][a],"FCL configureDependencies Error: No dependency information for placeholder=".concat(c," contract=").concat(f[0]," network=").concat(a)),I(null==m?void 0:m.address,"FCL configureDependencies Error: No address information for placeholder=".concat(c," contract=").concat(f[0]," network=").concat(a)),s[c]=me(null==m?void 0:m.address);return y.abrupt("return",s);case 12:throw new Error("FCL configureDependencies Error: Unsupported template version");case 13:case"end":return y.stop()}},r)})),Pa.apply(this,arguments)}function xi(r){return Na.apply(this,arguments)}function Na(){return Na=v(d().mark(function r(e){var n;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!Dr(null==e?void 0:e.template)){s.next=4;break}return s.next=3,Tf({url:null==e?void 0:e.template});case 3:e.template=s.sent;case 4:if(n={},null==e||!e.template){s.next=10;break}return e.template=rn(null==e?void 0:e.template),s.next=9,Cf({template:e.template});case 9:n=s.sent;case 10:if(s.t0=e.cadence,s.t0){s.next=19;break}return s.t1=_i,s.t2=e.template,s.next=16,$().get("flow.network");case 16:s.t3=s.sent,s.t4={template:s.t2,network:s.t3},s.t0=(0,s.t1)(s.t4);case 19:return e.cadence=s.t0,e.dependencies=n,s.abrupt("return",e);case 23:case"end":return s.stop()}},r)})),Na.apply(this,arguments)}function eo(r,e){return Oa.apply(this,arguments)}function Oa(){return Oa=v(d().mark(function r(e,n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(I(tr(n),"".concat(e,"(opts) -- opts is required")),I(Rf(n),"".concat(e,"(opts) -- opts must be an object")),I(!(n.cadence&&n.template),"".concat(e,"({ template, cadence }) -- cannot pass both cadence and template")),I(tr(n.cadence||(null==n?void 0:n.template)),"".concat(e,"({ cadence }) -- cadence is required")),I(Dr(n.cadence)||(null==n?void 0:n.template),"".concat(e,"({ cadence }) -- cadence must be a string")),a.t0=I,a.t1=n.cadence,a.t1){a.next=11;break}return a.next=10,$().get("flow.network");case 10:a.t1=a.sent;case 11:return a.t2=a.t1,a.t3="".concat(e,'(opts) -- Required value for "flow.network" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,a.t0)(a.t2,a.t3),a.t4=I,a.next=17,$().get("accessNode.api");case 17:a.t5=a.sent,a.t6="".concat(e,'(opts) -- Required value for "accessNode.api" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,a.t4)(a.t5,a.t6);case 20:case"end":return a.stop()}},r)})),Oa.apply(this,arguments)}function Pf(r){return Da.apply(this,arguments)}function Da(){return Da=v(d().mark(function r(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",eo("mutate",e));case 1:case"end":return t.stop()}},r)})),Da.apply(this,arguments)}function Nf(r){return La.apply(this,arguments)}function La(){return La=v(d().mark(function r(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",eo("query",e));case 1:case"end":return t.stop()}},r)})),La.apply(this,arguments)}function Tn(){return Fa.apply(this,arguments)}function Fa(){return Fa=v(d().mark(function r(){var e,n=arguments;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},a.next=3,Nf(e);case 3:return a.next=5,xi(e);case 5:return e=a.sent,a.abrupt("return",$().overload(e.dependencies||{},v(d().mark(function s(){return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Be([wi(e.cadence),ma(Xi(e.args||[])),e.limit&&"number"==typeof e.limit&&pa(e.limit)]).then(Nr));case 1:case"end":return i.stop()}},s)}))));case 7:case"end":return a.stop()}},r)})),Fa.apply(this,arguments)}function Of(r,e){return $a.apply(this,arguments)}function $a(){return $a=v(d().mark(function r(e,n){var t,a,s,u,i;return d().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null!=e&&null!=n){c.next=2;break}return c.abrupt("return",[]);case 2:return(t=new URL(e)).searchParams.append("code",n),c.next=6,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(p){return p.json()});case 6:if(a=c.sent,!Array.isArray(a)){c.next=9;break}return c.abrupt("return",a);case 9:if(s=[],Array.isArray(a.authorizations)){u=U(a.authorizations);try{for(u.s();!(i=u.n()).done;)s.push(b({type:"authz",keyId:a.keyId},i.value))}catch(p){u.e(p)}finally{u.f()}}return null!=a.provider&&s.push(b({type:"authn",id:"wallet-provider#authn"},a.provider)),c.abrupt("return",s);case 13:case"end":return c.stop()}},r)})),$a.apply(this,arguments)}function Df(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(K(r),K(e))}var Lr={f_type:"Service",f_vsn:"1.0.0"},ro={f_type:"Identity",f_vsn:"1.0.0"},Lf={f_type:"USER",f_vsn:"1.0.0"},Ff={f_type:"PollingResponse",f_vsn:"1.0.0"},Ga={f_type:"CompositeSignature",f_vsn:"1.0.0"};function no(r){return null==r?null:"1.0.0"===r.f_vsn?r:b(b({old:r},Lr),{},{type:"frame",endpoint:r.endpoint,params:r.params||{},data:r.data||{}})}function to(r){return null==r?null:"1.0.0"===r.f_vsn?r:b(b({},Lr),{},{type:"back-channel-rpc",endpoint:r.endpoint,method:r.method,params:r.params||{},data:r.data||{}})}function ao(r){return null==r?null:"1.0.0"===(null==r.method&&(r=b(b({},r),{},{type:"local-view",method:"VIEW/IFRAME"})),r.f_vsn)?r:b(b({},Lr),{},{type:r.type||"local-view",method:r.method,endpoint:r.endpoint,data:r.data||{},params:r.params||{}})}var jf={"back-channel-rpc":to,"pre-authz":function Uf(r){return null==r?null:"1.0.0"===r.f_vsn?r:b(b({},Lr),{},{type:r.type,uid:r.id,endpoint:r.endpoint,method:r.method,identity:b(b({},ro),{},{address:me(r.addr),keyId:r.keyId}),params:r.params,data:r.data})},authz:function Gf(r){return null==r?null:"1.0.0"===r.f_vsn?r:b(b({},Lr),{},{type:r.type,uid:r.id,endpoint:r.endpoint,method:r.method,identity:b(b({},ro),{},{address:me(r.addr),keyId:r.keyId}),params:r.params,data:r.data})},authn:function $f(r){return null==r?null:"1.0.0"===r.f_vsn?r:b(b({},Lr),{},{type:r.type,uid:r.id,endpoint:r.authn,id:r.pid,provider:{address:me(r.addr),name:r.name,icon:r.icon}})},frame:no,"open-id":function Bf(r){return null==r?null:"1.0.0"===r.f_vsn?r:null},"user-signature":function Mf(r){if(null==r)return null;if("1.0.0"===r.f_vsn)return r;throw new Error("Invalid user-signature service")},"local-view":ao,"account-proof":function Hf(r){if(null==r)return null;if("1.0.0"===r.f_vsn)return r;throw new Error("FCL Normalizer Error: Invalid account-proof service")},"authn-refresh":function zf(r){if(null==r)return null;if("1.0.0"===r.f_vsn)return r;throw new Error("Invalid authn-refresh service")}};function qf(r,e){try{return jf[r.type](r,e)}catch(t){return console.error("Unrecognized FCL Service Type [".concat(r.type,"]"),r,t),r}}function Yf(r){return lr([r.provider.address||r.provider.name||"UNSPECIFIED",r.id]).toString("hex")}function Wf(r){return r.addr=r.addr?me(r.addr):null,r.paddr=r.paddr?me(r.paddr):null,r}function Kf(r,e){return e.find(function(n){return n.type===r})}function uo(r){return Ua.apply(this,arguments)}function Ua(){return Ua=v(d().mark(function r(e){var n,t;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=Wf(e),s.t0=Df,s.t1=e.services||[],s.next=5,Of(e.hks,e.code);case 5:return s.t2=s.sent,n=(0,s.t0)(s.t1,s.t2).map(function(u){return qf(u,e)}),t=Kf("authn",n),s.abrupt("return",b(b({},Lf),{},{addr:me(e.addr),cid:Yf(t),loggedIn:!0,services:n,expiresAt:e.expires}));case 9:case"end":return s.stop()}},r)})),Ua.apply(this,arguments)}function Cn(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return r.find(function(n){return n.type===e})}function nn(r){var e=new URL(r.endpoint);if(e.searchParams.append("l6n",window.location.origin),null!=r.params)for(var n=0,t=Object.entries(r.params||{});n<t.length;n++){var a=H(t[n],2);e.searchParams.append(a[0],a[1])}return e}function so(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.method||"POST",t="GET"===n?void 0:JSON.stringify(e.data||r.data||{});return fetch(nn(r),{method:n,headers:b(b(b({},r.headers||{}),e.headers||{}),{},{"Content-Type":"application/json"}),body:t}).then(function(a){return a.json()})}function ar(r){var e,n;return null==r?null:"1.0.0"===r.f_vsn?r:b(b({},Ff),{},{status:null!==(e=r.status)&&void 0!==e?e:"APPROVED",reason:null!==(n=r.reason)&&void 0!==n?n:null,data:r.compositeSignature||r.data||b({},r)||{},updates:to(r.authorizationUpdates),local:no((r.local||[])[0])})}var io={"HTTP/GET":"GET","HTTP/POST":"POST"},Vf=function(e){return I(io[e.method],"Invalid Service Method for type back-channel-rpc",{service:e}),io[e.method]};function oo(r){return Ba.apply(this,arguments)}function Ba(){return Ba=v(d().mark(function r(e){var n,t,a=arguments;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:function(){return!0},I(e,"Missing Polling Service",{service:e}),n()){u.next=4;break}throw new Error("Externally Halted");case 4:return u.next=6,so(e,{method:Vf(e)}).then(ar);case 6:u.t0=(t=u.sent).status,u.next="APPROVED"===u.t0?10:"DECLINED"===u.t0?11:12;break;case 10:return u.abrupt("return",t.data);case 11:throw new Error("Declined: ".concat(t.reason||"No reason supplied."));case 12:return u.next=14,new Promise(function(i){return setTimeout(i,500)});case 14:return u.abrupt("return",oo(t.updates,n));case 15:case"end":return u.stop()}},r)})),Ba.apply(this,arguments)}var Pn="FCL_IFRAME";function lo(r){I(!document.getElementById(Pn),"Attempt at triggering multiple Frames",{src:r});var e=document.createElement("iframe");return e.src=r,e.id=Pn,e.allow="usb *; hid *",e.frameBorder="0",e.style.cssText="\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n  color-scheme: light;\n",document.body.append(e),[e.contentWindow,function(){document.getElementById(Pn)&&document.getElementById(Pn).remove()}]}var Je=null,co=null;function fo(r){var e;return null==Je||null!==(e=Je)&&void 0!==e&&e.closed?Je=function Zf(r,e,n,t,a){var s=n.top.outerHeight/2+n.top.screenY-a/2,u=n.top.outerWidth/2+n.top.screenX-t/2,i=n.open(r,e,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(t,", height=").concat(a,", top=").concat(s,", left=").concat(u));if(!i)throw new Error("Popup failed to open (was it blocked by a popup blocker?)");return i}(r,"FCL_POP",window,640,770):(co!==r&&Je.location.replace(r),Je.focus()),co=r,[Je,function(){Je&&!Je.closed&&Je.close(),Je=null}]}var He=null,po=null;function mo(r){var e;if(null==He||null!==(e=He)&&void 0!==e&&e.closed){if(!(He=window.open(r,"_blank")))throw new Error("Tab failed to open (was it blocked by the browser?)")}else po!==r&&He.location.replace(r),He.focus();return po=r,[He,function(){He&&!He.closed&&He.close(),He=null}]}var Qf={"VIEW/IFRAME":lo,"VIEW/POP":fo,"VIEW/TAB":mo};function _f(r){return Ma.apply(this,arguments)}function Ma(){return Ma=v(d().mark(function r(e){var n,t=arguments;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:{},s.prev=1,s.abrupt("return",Qf[e.method](nn(e),n));case 5:throw s.prev=5,s.t0=s.catch(1),console.error("execLocal({service, opts = {}})",s.t0,{service:e,opts:n}),s.t0;case 9:case"end":return s.stop()}},r,null,[[1,5]])})),Ma.apply(this,arguments)}function vo(r){return Ha.apply(this,arguments)}function Ha(){return Ha=v(d().mark(function r(e){var n,t,a,s,u,l,o,c;return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=e.service,t=e.body,a=e.config,f.next=3,so(n,{data:b({fclVersion:Ve,service:{params:n.params,data:n.data,type:n.type},config:a},t)}).then(ar);case 3:if("APPROVED"!==(s=f.sent).status){f.next=8;break}return f.abrupt("return",s.data);case 8:if("DECLINED"!==s.status){f.next=12;break}throw new Error("Declined: ".concat(s.reason||"No reason supplied."));case 12:if("REDIRECT"!==s.status){f.next=16;break}return f.abrupt("return",s);case 16:if("PENDING"!==s.status){f.next=28;break}return u=!0,f.next=20,_f(ao(s.local));case 20:return l=H(f.sent,2),o=l[1],c=function(){try{o(),u=!1}catch(m){console.error("Frame Close Error",m)}},f.abrupt("return",oo(s.updates,function(){return u}).then(function(g){return c(),g}).catch(function(g){throw console.error(g),c(),g}));case 28:throw console.error("Auto Decline: Invalid Response",{service:n,resp:s}),new Error("Auto Decline: Invalid Response");case 30:case"end":return f.stop()}},r)})),Ha.apply(this,arguments)}var Nn="FCL:VIEW:CLOSE",za="FCL:VIEW:READY",ja="FCL:VIEW:RESPONSE",Se=function(e){return"string"==typeof e&&e.toLowerCase()},xf=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),pr=function(e,n){return console.warn("DEPRECATION NOTICE","Received ".concat(e,", please use ").concat(n," for this and future versions of FCL"))},On=function(e){var n=e.close,t=e.send,a=e.onReady,s=e.onResponse,u=e.onMessage;return function(i){try{if("object"!==D(i.data)||xf.has(i.data.type))return;Se(i.data.type)===Se(Nn)&&n(),Se(i.data.type)===Se(za)&&a(i,{send:t,close:n}),Se(i.data.type)===Se(ja)&&s(i,{send:t,close:n}),u(i,{send:t,close:n}),Se(i.data.type)===Se("FCL:FRAME:READY")&&(pr(i.data.type,za),a(i,{send:t,close:n})),Se(i.data.type)===Se("FCL:FRAME:RESPONSE")&&(pr(i.data.type,ja),s(i,{send:t,close:n})),Se(i.data.type)===Se("FCL:FRAME:CLOSE")&&(pr(i.data.type,Nn),n()),Se(i.data.type)===Se("FCL::CHALLENGE::RESPONSE")&&(pr(i.data.type,ja),s(i,{send:t,close:n})),Se(i.data.type)===Se("FCL::AUTHZ_READY")&&(pr(i.data.type,za),a(i,{send:t,close:n})),Se(i.data.type)===Se("FCL::CHALLENGE::CANCEL")&&(pr(i.data.type,Nn),n()),Se(i.data.type)===Se("FCL::CANCEL")&&(pr(i.data.type,Nn),n())}catch(l){console.error("Frame Callback Error",l),n()}}},Fr=function(){},$r=function(){},Gr=function(){},Ur=function(){},go={"HTTP/RPC":vo,"HTTP/POST":vo,"IFRAME/RPC":function rp(r){var e=r.service,n=r.body,t=r.config,a=r.opts;return new Promise(function(s,u){var i=Ra(),l=a.includeOlderJsonRpcCall;!function ep(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==r)return{send:Fr,close:Fr};var n=e.onClose||Fr,u=On({close:p,send:f,onReady:e.onReady||Fr,onResponse:e.onResponse||Fr,onMessage:e.onMessage||Fr});window.addEventListener("message",u);var l=H(lo(nn(r)),2),o=l[0],c=l[1];return{send:f,close:p};function p(){try{window.removeEventListener("message",u),c(),n()}catch(g){console.error("Frame Close Error",g)}}function f(g){try{o.postMessage(JSON.parse(JSON.stringify(g||{})),"*")}catch(m){console.error("Frame Send Error",g,m)}}}(e,{onReady:function(c,p){return v(d().mark(function f(){var g;return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:g=p.send,h.prev=1,g({type:"FCL:VIEW:READY:RESPONSE",fclVersion:Ve,body:n,service:{params:e.params,data:e.data,type:e.type},config:t}),g({fclVersion:Ve,type:"FCL:FRAME:READY:RESPONSE",body:n,service:{params:e.params,data:e.data,type:e.type},config:t,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),l&&g({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[n,e.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),h.next=10;break;case 7:throw h.prev=7,h.t0=h.catch(1),h.t0;case 10:case"end":return h.stop()}},f,null,[[1,7]])}))()},onResponse:function(c,p){var f=p.close;try{if("object"!==D(c.data))return;var g=ar(c.data);switch(g.status){case"APPROVED":s(g.data),f();break;case"DECLINED":u("Declined: ".concat(g.reason||"No reason supplied")),f();break;case"REDIRECT":s(g),f();break;default:u("Declined: No reason supplied"),f()}}catch(m){throw console.error("execIframeRPC onResponse error",m),m}},onMessage:function(c,p){var f=p.close;try{if("object"!==D(c.data)||"2.0"!==c.data.jsonrpc||c.data.id!==i)return;var g=ar(c.data.result);switch(g.status){case"APPROVED":s(g.data),f();break;case"DECLINED":u("Declined: ".concat(g.reason||"No reason supplied")),f();break;case"REDIRECT":s(g),f();break;default:u("Declined: No reason supplied"),f()}}catch(m){throw console.error("execIframeRPC onMessage error",m),m}},onClose:function(){u("Declined: Externally Halted")}})})},"POP/RPC":function tp(r){var e=r.service,n=r.body,t=r.config,a=r.opts;return new Promise(function(s,u){var i=Ra(),l=a.redir,o=a.includeOlderJsonRpcCall;!function np(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==r)return{send:$r,close:$r};var n=e.onClose||$r,u=On({close:f,send:g,onReady:e.onReady||$r,onResponse:e.onResponse||$r,onMessage:e.onMessage||$r});window.addEventListener("message",u);var l=H(fo(nn(r)),2),o=l[0],c=l[1],p=setInterval(function(){o&&o.closed&&f()},500);return{send:g,close:f};function f(){try{window.removeEventListener("message",u),clearInterval(p),c(),n()}catch(m){console.error("Popup Close Error",m)}}function g(m){try{o.postMessage(JSON.parse(JSON.stringify(m||{})),"*")}catch(h){console.error("Popup Send Error",m,h)}}}(e,{onReady:function(p,f){return v(d().mark(function g(){var m;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:m=f.send,y.prev=1,m({fclVersion:Ve,type:"FCL:VIEW:READY:RESPONSE",body:n,service:{params:e.params,data:e.data,type:e.type},config:t}),m({fclVersion:Ve,type:"FCL:FRAME:READY:RESPONSE",body:n,service:{params:e.params,data:e.data,type:e.type},config:t,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),o&&m({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[n,e.params]}),y.next=10;break;case 7:throw y.prev=7,y.t0=y.catch(1),y.t0;case 10:case"end":return y.stop()}},g,null,[[1,7]])}))()},onResponse:function(p,f){var g=f.close;try{if("object"!==D(p.data))return;var m=ar(p.data);switch(m.status){case"APPROVED":s(m.data),!l&&g();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),g();break;case"REDIRECT":s(m),g();break;default:u("Declined: No reason supplied"),g()}}catch(h){throw console.error("execPopRPC onResponse error",h),h}},onMessage:function(p,f){var g=f.close;try{if("object"!==D(p.data)||"2.0"!==p.data.jsonrpc||p.data.id!==i)return;var m=ar(p.data.result);switch(m.status){case"APPROVED":s(m.data),!l&&g();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),g();break;case"REDIRECT":s(m),g();break;default:u("Declined: No reason supplied"),g()}}catch(h){throw console.error("execPopRPC onMessage error",h),h}},onClose:function(){u("Declined: Externally Halted")}})})},"TAB/RPC":function up(r){var e=r.service,n=r.body,t=r.config,a=r.opts;return new Promise(function(s,u){var i=Ra(),l=a.redir,o=a.includeOlderJsonRpcCall;!function ap(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==r)return{send:Gr,close:Gr};var n=e.onClose||Gr,u=On({close:f,send:g,onReady:e.onReady||Gr,onResponse:e.onResponse||Gr,onMessage:e.onMessage||Gr});window.addEventListener("message",u);var l=H(mo(nn(r)),2),o=l[0],c=l[1],p=setInterval(function(){o&&o.closed&&f()},500);return{send:g,close:f};function f(){try{window.removeEventListener("message",u),clearInterval(p),c(),n()}catch(m){console.error("Tab Close Error",m)}}function g(m){try{o.postMessage(JSON.parse(JSON.stringify(m||{})),"*")}catch(h){console.error("Tab Send Error",m,h)}}}(e,{onReady:function(p,f){return v(d().mark(function g(){var m;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:m=f.send,y.prev=1,m({fclVersion:Ve,type:"FCL:VIEW:READY:RESPONSE",body:n,service:{params:e.params,data:e.data,type:e.type},config:t}),m({fclVersion:Ve,type:"FCL:FRAME:READY:RESPONSE",body:n,service:{params:e.params,data:e.data,type:e.type},config:t,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),o&&m({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[n,e.params]}),y.next=10;break;case 7:throw y.prev=7,y.t0=y.catch(1),y.t0;case 10:case"end":return y.stop()}},g,null,[[1,7]])}))()},onResponse:function(p,f){var g=f.close;try{if("object"!==D(p.data))return;var m=ar(p.data);switch(m.status){case"APPROVED":s(m.data),!l&&g();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),g();break;case"REDIRECT":s(m),g();break;default:u("Declined: No reason supplied"),g()}}catch(h){throw console.error("execPopRPC onResponse error",h),h}},onMessage:function(p,f){var g=f.close;try{if("object"!==D(p.data)||"2.0"!==p.data.jsonrpc||p.data.id!==i)return;var m=ar(p.data.result);switch(m.status){case"APPROVED":s(m.data),!l&&g();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),g();break;case"REDIRECT":s(m),g();break;default:u("Declined: No reason supplied"),g()}}catch(h){throw console.error("execPopRPC onMessage error",h),h}},onClose:function(){u("Declined: Externally Halted")}})})},"EXT/RPC":function ip(r){var e=r.service,n=r.body,t=r.config;return new Promise(function(a,s){!function sp(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==r)return{send:Ur,close:Ur};var n=e.onClose||Ur,u=On({close:i,send:l,onReady:e.onReady||Ur,onResponse:e.onResponse||Ur,onMessage:e.onMessage||Ur});return window.addEventListener("message",u),l({service:r}),{send:l,close:i};function i(){try{window.removeEventListener("message",u),n()}catch(o){console.error("Ext Close Error",o)}}function l(o){try{window&&window.postMessage(JSON.parse(JSON.stringify(o||{})),"*")}catch(c){console.error("Ext Send Error",o,c)}}}(e,{onReady:function(i,l){return v(d().mark(function o(){var c;return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=l.send,f.prev=1,c({fclVersion:Ve,type:"FCL:VIEW:READY:RESPONSE",body:n,service:{params:e.params,data:e.data,type:e.type},config:t}),f.next=8;break;case 5:throw f.prev=5,f.t0=f.catch(1),f.t0;case 8:case"end":return f.stop()}},o,null,[[1,5]])}))()},onResponse:function(i,l){var o=l.close;try{if("object"!==D(i.data))return;var c=ar(i.data);switch(c.status){case"APPROVED":a(c.data),o();break;case"DECLINED":s("Declined: ".concat(c.reason||"No reason supplied")),o();break;case"REDIRECT":a(c),o();break;default:s("Declined: No reason supplied"),o()}}catch(p){throw console.error("execExtRPC onResponse error",p),p}},onClose:function(){s("Declined: Externally Halted")}})})}},op=["ServicePlugin"],lp=["discovery-service"],tn=function(){var e=new Set,n=new Map(Object.entries(go));return Object.freeze({add:function(o){if(I(lp.includes(o.type),"Service Plugin type ".concat(o.type," is not supported")),"discovery-service"===o.type){var c=function(e){var n=e.services,t=e.serviceStrategy;I(Array.isArray(n)&&n.length,"Array of Discovery Services is required");var s,a=U(n);try{for(a.s();!(s=a.n()).done;){var u=s.value;I(tr(u.f_type)&&"Service"===u.f_type,"Service is required"),I(tr(u.type)&&"authn"===u.type,"Service must be type authn. Received ".concat(u.type)),I(u.method in go||t.method===u.method,"Service method ".concat(u.method," is not supported"))}}catch(i){a.e(i)}finally{a.f()}return I(tr(t),"Service strategy is required"),I(tr(t.method)&&Dr(t.method),"Service strategy method is required"),I(tr(t.exec)&&Ji(t.exec),"Service strategy exec function is required"),{discoveryServices:n,serviceStrategy:t}}(o),f=c.serviceStrategy;(function(o){e=new Set(K(o))})(c.discoveryServices),n.has(f.method)?Pe({title:"Add Service Plugin",message:"Service strategy for ".concat(f.method," already exists"),level:Fe.warn}):n.set(f.method,f.exec)}},getServices:function(){return K(e)},getStrategy:function(o){return n.get(o)},getStrategies:function(){return K(n.keys())}})}(),mp=function(){var e=new Map;return Object.freeze({add:function(s){var l,u=function(e){var n;I(e,"No plugins supplied");var a,t=U(n=Array.isArray(e)?K(e):[e]);try{for(t.s();!(a=t.n()).done;){var s=a.value;I(tr(s.name),"Plugin name is required"),I(tr(s.f_type),"Plugin f_type is required"),I(op.includes(s.f_type),"Plugin type ".concat(s.f_type," is not supported"))}}catch(u){t.e(u)}finally{t.f()}return n}(s),i=U(u);try{for(i.s();!(l=i.n()).done;){var o=l.value;e.set(o.name,o),"ServicePlugin"===o.f_type&&tn.add(o)}}catch(c){i.e(c)}finally{i.f()}},getPlugins:function(){return e}})}(),vp=function(){var r=v(d().mark(function e(n){var t,a,s,u,i;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=n.body,s=n.config,u=n.opts,i=tn.getStrategy((t=n.service).method),o.abrupt("return",i({service:t,body:a,config:s,opts:u}));case 3:case"end":return o.stop()}},e)}));return function(n){return r.apply(this,arguments)}}();function mr(r){return qa.apply(this,arguments)}function qa(){return qa=v(d().mark(function r(e){var n,t,a,s,u,i,l,o,c,p,f,g;return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o=void 0===(l=e.config)?{}:l,p=void 0===(c=e.opts)?{}:c,(i=void 0===(u=e.msg)?{}:u).data=(s=e.service).data,h.next=4,Vi(/^service\./);case 4:return h.t0=h.sent,h.next=7,Vi(/^app\.detail\./);case 7:return h.t1=h.sent,h.t2=b(b({},o.client),{},{fclVersion:Ve,fclLibrary:"https://github.com/onflow/fcl-js",hostname:null!==(n=null===(t=window)||void 0===t||null===(a=t.location)||void 0===a?void 0:a.hostname)&&void 0!==n?n:null}),f={services:h.t0,app:h.t1,client:h.t2},h.prev=10,h.next=13,vp({service:s,body:i,config:f,opts:p});case 13:if("REDIRECT"!==(g=h.sent).status){h.next=21;break}return I(s.type===g.data.type,"Cannot shift recursive service type in execService"),h.next=18,mr({service:g.data,msg:i,config:f,opts:p});case 18:return h.abrupt("return",h.sent);case 21:return h.abrupt("return",g);case 22:h.next=28;break;case 24:throw h.prev=24,h.t3=h.catch(10),Pe({title:"Error on execService ".concat(null==s?void 0:s.type),message:h.t3,level:Fe.error}),h.t3;case 28:case"end":return h.stop()}},r,null,[[10,24]])})),qa.apply(this,arguments)}function Ya(r){return null==r?null:"1.0.0"===r.f_vsn?r:b(b({},Ga),{},{addr:ae(r.addr||r.address),signature:r.signature||r.sig,keyId:r.keyId})}var ho=function(){var r=v(d().mark(function e(){var n,t;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=(null===(n=window)||void 0===n?void 0:n.fcl_extensions)||[],s.abrupt("return",[].concat(K(t),K(tn.getServices())));case 2:case"end":return s.stop()}},e)}));return function(){return r.apply(this,arguments)}}();function gp(r){return Wa.apply(this,arguments)}function Wa(){return Wa=v(d().mark(function r(e){var n,t,a,s,u;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,$.get("discovery.authn.include",[]);case 2:return t=l.sent,l.next=5,$.first(["discovery.wallet.method","discovery.wallet.method.default"]);case 5:if(a=l.sent,s=null!=e&&e.method?e.method:a,null===(n=null==e?void 0:e.endpoint)||void 0===n){l.next=11;break}l.t0=n,l.next=14;break;case 11:return l.next=13,$.first(["discovery.wallet","challenge.handshake"]);case 13:l.t0=l.sent;case 14:return I(u=l.t0,'\n    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.\n    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"\n    '),l.abrupt("return",b(b({},e),{},{type:"authn",endpoint:u,method:s,discoveryAuthnInclude:t}));case 17:case"end":return l.stop()}},r)})),Wa.apply(this,arguments)}function hp(r){return Ka.apply(this,arguments)}function Ka(){return Ka=v(d().mark(function r(e){var n,t,a,s,u,i;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=e.types,o.next=3,$.get("discovery.authn.endpoint");case 3:return s=o.sent,I(Boolean(s),'"discovery.authn.endpoint" in config must be defined.'),o.next=7,$.get("discovery.authn.include",[]);case 7:return u=o.sent,i=new URL(s),o.t0=fetch,o.t1=i,o.t2={"Content-Type":"application/json"},o.t3=JSON,o.t4=a,o.t5=Ve,o.t6=u,o.next=18,ho();case 18:return o.t7=o.sent,o.t8=tn.getStrategies(),o.t9=null===(n=window)||void 0===n||null===(t=n.navigator)||void 0===t?void 0:t.userAgent,o.t10={type:o.t4,fclVersion:o.t5,include:o.t6,clientServices:o.t7,supportedStrategies:o.t8,userAgent:o.t9},o.t11=o.t3.stringify.call(o.t3,o.t10),o.t12={method:"POST",headers:o.t2,body:o.t11},o.abrupt("return",(0,o.t0)(o.t1,o.t12).then(function(c){return c.json()}));case 25:case"end":return o.stop()}},r)})),Ka.apply(this,arguments)}var vr,yp=function(e,n){e&&console.warn("\n      %cFCL Warning\n      ============================\n      ".concat(n,"\n      For more info, please see the docs: https://docs.onflow.org/fcl/\n      ============================\n      "),"font-weight:bold;font-family:monospace;")},Va=function(){var r=v(d().mark(function e(){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,hp({types:["authn"]});case 3:O("authn","UPDATE_RESULTS",{results:a.sent}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Pe({title:"".concat(a.t0.name," Error fetching Discovery API services."),message:a.t0.message,level:Fe.error});case 10:case"end":return a.stop()}},e,null,[[0,7]])}));return function(){return r.apply(this,arguments)}}(),bp=(T(vr={},ur,function(){var r=v(d().mark(function e(n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:yp(typeof window>"u",'"fcl.discovery" is only available in the browser.'),"complete"===document.readyState?Va():window.onload=v(d().mark(function s(){return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:Va();case 1:case"end":return i.stop()}},s)}));case 2:case"end":return a.stop()}},e)}));return function(e){return r.apply(this,arguments)}}()),T(vr,"UPDATE_RESULTS",function(r,e,n){r.merge(n),r.broadcast("UPDATED",b({},r.all()))}),T(vr,nr,function(r,e){r.subscribe(e.from),r.send(e.from,"UPDATED",b({},r.all()))}),T(vr,Ge,function(r,e){return r.unsubscribe(e.from)}),T(vr,"SNAPSHOT",function(){var r=v(d().mark(function e(n,t){return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",t.reply(b({},n.all())));case 1:case"end":return s.stop()}},e)}));return function(e,n){return r.apply(this,arguments)}}()),vr),yo=function(){return pe(bp,"authn")},wp={subscribe:function(e){return Ie("authn",yo,e)},snapshot:function(){return Ze("authn",yo)},update:function(){return Va()}},kp={authn:wp};function Ap(){return function Ep(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}()||function Rp(){return function Sp(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}()||function Ip(){return typeof navigator<"u"&&/iPad/.test(navigator.userAgent)}()}()}var ir,Tp=function(e){return"function"==typeof e},Xe="CURRENT_USER",Ja="CURRENT_USER/UPDATED",bo="SNAPSHOT",Xa="SET_CURRENT_USER",wo="DEL_CURRENT_USER",Za='{\n  "f_type": "User",\n  "f_vsn": "1.0.0",\n  "addr":null,\n  "cid":null,\n  "loggedIn":null,\n  "expiresAt":null,\n  "services":[]\n}',Cp=function(){var r=v(d().mark(function e(n){var t,a;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=JSON.parse(Za),u.next=3,n.get(Xe);case 3:if(null==(a=u.sent)||t.f_vsn===a.f_vsn){u.next=7;break}return n.removeItem(Xe),u.abrupt("return",t);case 7:return u.abrupt("return",a||t);case 8:case"end":return u.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),Pp=(T(ir={},ur,function(){var r=v(d().mark(function e(n){var t,a;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return typeof window>"u"&&console.warn('\n        %cFCL Warning\n        ============================\n        "currentUser" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        ',"font-weight:bold;font-family:monospace;"),n.merge(JSON.parse(Za)),u.next=4,$.first(["fcl.storage","fcl.storage.default"]);case 4:if(!(t=u.sent).can){u.next=10;break}return u.next=8,Cp(t);case 8:Np(a=u.sent)&&n.merge(a);case 10:case"end":return u.stop()}},e)}));return function(e){return r.apply(this,arguments)}}()),T(ir,nr,function(r,e){r.subscribe(e.from),r.send(e.from,Ja,b({},r.all()))}),T(ir,Ge,function(r,e){r.unsubscribe(e.from)}),T(ir,bo,function(){var r=v(d().mark(function e(n,t){return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t.reply(b({},n.all()));case 1:case"end":return s.stop()}},e)}));return function(e,n){return r.apply(this,arguments)}}()),T(ir,Xa,function(){var r=v(d().mark(function e(n,t,a){var s;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n.merge(a),i.next=3,$.first(["fcl.storage","fcl.storage.default"]);case 3:(s=i.sent).can&&s.put(Xe,n.all()),n.broadcast(Ja,b({},n.all()));case 6:case"end":return i.stop()}},e)}));return function(e,n,t){return r.apply(this,arguments)}}()),T(ir,wo,function(){var r=v(d().mark(function e(n,t){var a;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n.merge(JSON.parse(Za)),u.next=3,$.first(["fcl.storage","fcl.storage.default"]);case 3:(a=u.sent).can&&a.put(Xe,n.all()),n.broadcast(Ja,b({},n.all()));case 6:case"end":return u.stop()}},e)}));return function(e,n){return r.apply(this,arguments)}}()),ir),Br=function(){return pe(Pp,Xe)};function Np(r){return null==r.expiresAt||0===r.expiresAt||r.expiresAt>Date.now()}function Op(){return Qa.apply(this,arguments)}function Qa(){return Qa=v(d().mark(function r(){var e,n;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$.get("fcl.accountProof.resolver");case 2:if(Tp(e=a.sent)){a.next=5;break}return a.abrupt("return");case 5:return a.next=7,e();case 7:if(null!=(n=a.sent)){a.next=10;break}return a.abrupt("return");case 10:return I("string"==typeof n.appIdentifier,"appIdentifier must be a string"),I(/^[0-9a-f]+$/i.test(n.nonce),"Nonce must be a hex string"),a.abrupt("return",n);case 13:case"end":return a.stop()}},r)})),Qa.apply(this,arguments)}var Dp=function(){var r=v(d().mark(function e(n){return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=n.discoveryAuthnInclude,s.next=4,ho();case 4:return s.t1=s.sent,s.t2=tn.getStrategies(),s.t3={discoveryAuthnInclude:s.t0,clientServices:s.t1,supportedStrategies:s.t2},s.abrupt("return",{client:s.t3});case 8:case"end":return s.stop()}},e)}));return function(n){return r.apply(this,arguments)}}();function an(){return _a.apply(this,arguments)}function _a(){return _a=v(d().mark(function r(){var e,n,t,a,s,u,i,l=arguments;return d().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=void 0!==(s=(t=l.length>0&&void 0!==l[0]?l[0]:{}).redir)&&s,!(a=t.service)||null!=a&&null!==(e=a.provider)&&void 0!==e&&e.is_installed||null==a||null===(n=a.provider)||void 0===n||!n.requires_install){c.next=4;break}return window.location.href=null==a||null===(i=a.provider)||void 0===i?void 0:i.install_link,c.abrupt("return");case 4:return c.abrupt("return",new Promise(function(){var p=v(d().mark(function f(g,m){var h,y,R,S,B,E,L;return d().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return Br(),h={redir:u},k.next=4,un();case 4:return y=k.sent,k.next=7,gp(a);case 7:return R=k.sent,S=Cn(y.services,"authn-refresh"),k.prev=9,k.next=12,Op();case 12:B=k.sent,k.next=19;break;case 15:return k.prev=15,k.t0=k.catch(9),console.error("Error During Authentication: Could not resolve account proof data.\n        ".concat(k.t0)),k.abrupt("return",m(k.t0));case 19:if(!y.loggedIn){k.next=47;break}if(!S){k.next=46;break}return k.prev=21,k.next=24,mr({service:S,msg:B,opts:h});case 24:return E=k.sent,k.t1=O,k.t2=Xe,k.t3=Xa,k.next=30,uo(E);case 30:k.t4=k.sent,(0,k.t1)(k.t2,k.t3,k.t4),k.next=37;break;case 34:k.prev=34,k.t5=k.catch(21),console.error("Error: Could not refresh authentication.",k.t5);case 37:return k.prev=37,k.t6=g,k.next=41,un();case 41:return k.t7=k.sent,k.abrupt("return",(0,k.t6)(k.t7));case 44:k.next=47;break;case 46:return k.abrupt("return",g(y));case 47:return k.prev=47,k.t8=mr,k.t9=R,k.t10=B,k.next=53,Dp(R);case 53:return k.t11=k.sent,k.t12=h,k.t13={service:k.t9,msg:k.t10,config:k.t11,opts:k.t12},k.next=58,(0,k.t8)(k.t13);case 58:return L=k.sent,k.t14=O,k.t15=Xe,k.t16=Xa,k.next=64,uo(L);case 64:k.t17=k.sent,(0,k.t14)(k.t15,k.t16,k.t17),k.next=71;break;case 68:k.prev=68,k.t18=k.catch(47),console.error("Error while authenticating",k.t18);case 71:return k.prev=71,k.t19=g,k.next=75,un();case 75:return k.t20=k.sent,(0,k.t19)(k.t20),k.finish(71);case 78:case"end":return k.stop()}},f,null,[[9,15],[21,34,37,44],[47,68,71,78]])}));return function(f,g){return p.apply(this,arguments)}}()));case 5:case"end":return c.stop()}},r)})),_a.apply(this,arguments)}function ko(){Br(),O(Xe,wo)}function Fp(r){var e=function(e){return{f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(e||{}).proposer,payer:(e||{}).payer||[],authorization:(e||{}).authorization||[]}}(r),n=[];null!=e.proposer&&n.push(["PROPOSER",e.proposer]);var a,t=U(e.payer||[]);try{for(t.s();!(a=t.n()).done;)n.push(["PAYER",a.value])}catch(c){t.e(c)}finally{t.f()}var i,u=U(e.authorization||[]);try{for(u.s();!(i=u.n()).done;)n.push(["AUTHORIZER",i.value])}catch(c){u.e(c)}finally{u.f()}return n.map(function(c){var p=H(c,2),f=p[0],g=p[1];return{tempId:[g.identity.address,g.identity.keyId].join("|"),addr:g.identity.address,keyId:g.identity.keyId,signingFunction:function(h){return mr({service:g,msg:h})},role:{proposer:"PROPOSER"===f,payer:"PAYER"===f,authorizer:"AUTHORIZER"===f}}})}function Eo(r){return xa.apply(this,arguments)}function xa(){return xa=v(d().mark(function r(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Br(),t.abrupt("return",b(b({},e),{},{tempId:"CURRENT_USER",resolve:function(s,u){return v(d().mark(function i(){var l,o,c,p;return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,an({redir:!0});case 2:if(o=Cn((l=g.sent).services,"authz"),!(c=Cn(l.services,"pre-authz"))){g.next=11;break}return g.t0=Fp,g.next=9,mr({service:c,msg:u});case 9:return g.t1=g.sent,g.abrupt("return",(0,g.t0)(g.t1));case 11:if(!o){g.next=14;break}return Ap()&&"WC/RPC"===o.method&&(p=window.open("","_blank")),g.abrupt("return",b(b({},s),{},{tempId:"CURRENT_USER",resolve:null,addr:ae(o.identity.address),keyId:o.identity.keyId,sequenceNum:null,signature:null,signingFunction:function(h){return v(d().mark(function y(){return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.t0=Ya,S.next=3,mr({service:o,msg:h,opts:{includeOlderJsonRpcCall:!0,windowRef:p}});case 3:return S.t1=S.sent,S.abrupt("return",(0,S.t0)(S.t1));case 5:case"end":return S.stop()}},y)}))()}}));case 14:throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER");case 15:case"end":return g.stop()}},i)}))()}}));case 2:case"end":return t.stop()}},r)})),xa.apply(this,arguments)}function So(r){Br();var e="@EXIT",n=pe(function(){var t=v(d().mark(function a(s){var u;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:s.send(Xe,nr);case 1:return l.next=4,s.receive();case 4:if((u=l.sent).tag!==e){l.next=8;break}return s.send(Xe,Ge),l.abrupt("return");case 8:r(u.data),l.next=1;break;case 11:case"end":return l.stop()}},a)}));return function(a){return t.apply(this,arguments)}}());return function(){return O(n,e)}}function un(){return Br(),O(Xe,bo,null,{expectReply:!0,timeout:0})}function Io(){return eu.apply(this,arguments)}function eu(){return eu=v(d().mark(function r(){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,an();case 2:return a.abrupt("return",va(me(a.sent.addr),Yi));case 5:case"end":return a.stop()}},r)})),eu.apply(this,arguments)}var $p=function(e){return I(/^[0-9a-f]+$/i.test(e),"Message must be a hex string"),{message:e}};function Ro(r){return ru.apply(this,arguments)}function ru(){return ru=v(d().mark(function r(e){var t,a;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return Br(),u.next=3,an({redir:!0});case 3:return I(t=Cn(u.sent.services,"user-signature"),"Current user must have authorized a signing service."),u.prev=6,u.next=9,mr({service:t,msg:$p(e)});case 9:if(a=u.sent,!Array.isArray(a)){u.next=14;break}return u.abrupt("return",a.map(function(i){return Ya(i)}));case 14:return u.abrupt("return",[Ya(a)]);case 15:u.next=20;break;case 17:return u.prev=17,u.t0=u.catch(6),u.abrupt("return",u.t0);case 20:case"end":return u.stop()}},r,null,[[6,17]])})),ru.apply(this,arguments)}var Oe=function(){return{authenticate:an,unauthenticate:ko,authorization:Eo,signUserMessage:Ro,subscribe:So,snapshot:un,resolveArgument:Io}};function Gp(){return nu.apply(this,arguments)}function nu(){return nu=v(d().mark(function r(){var e,n,t,a=arguments;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},u.prev=1,u.next=4,Pf(e);case 4:return u.next=6,xi(e);case 6:return e=u.sent,u.next=9,$().get("fcl.authz",Oe().authorization);case 9:return t=u.sent,n=$().overload(e.dependencies||{},v(d().mark(function i(){return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Be([ki(e.cadence),ma(Xi(e.args||[])),e.limit&&Af(e.limit)&&pa(e.limit),hi(e.proposer||e.authz||t),yi(e.payer||e.authz||t),mi(e.authorizations||[e.authz||t])]).then(Nr));case 1:case"end":return o.stop()}},i)}))),u.abrupt("return",n);case 14:throw u.prev=14,u.t0=u.catch(1),u.t0;case 17:case"end":return u.stop()}},r,null,[[1,14]])})),nu.apply(this,arguments)}Oe.authenticate=an,Oe.unauthenticate=ko,Oe.authorization=Eo,Oe.signUserMessage=Ro,Oe.subscribe=So,Oe.snapshot=un,Oe.resolveArgument=Io;var Ao=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=function(u){var i;return u.deprecated&&console.warn("DEPRECATION NOTICE",u.deprecated.message),null==u||null===(i=u.body)||void 0===i||delete i.interaction,u},a=function(u){var i=u.data;"object"===D(i)&&null!=D(i)&&i.type===e&&n(t(i))};return window.addEventListener("message",a),function(){return window.removeEventListener("message",a)}},Mr=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.location!==window.parent.location)window.parent.postMessage(b(b({},n),{},{type:e}),"*");else{if(!window.opener)throw new Error("Unable to communicate with parent FCL instance");window.opener.postMessage(b(b({},n),{},{type:e}),"*")}},qp=function(e,n){return te.Buffer.from(e.padEnd(2*n,"0"),"hex")},To=function(e){return function(e,n){return te.Buffer.from(e.padStart(16,"0"),"hex")}(e)},Co=function(e){return te.Buffer.from(e,"hex")},Po=function(e){var n=e.address,t=e.nonce,a=e.appIdentifier,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];I(n,"Encode Message For Provable Authn Error: address must be defined"),I(t,"Encode Message For Provable Authn Error: nonce must be defined"),I(a,"Encode Message For Provable Authn Error: appIdentifier must be defined"),I(t.length>=64,"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes");var u=qp(te.Buffer.from("FCL-ACCOUNT-PROOF-V0.0").toString("hex"),32);return s?te.Buffer.concat([u,lr([a,To(ae(n)),Co(t)])]).toString("hex"):lr([a,To(ae(n)),Co(t)]).toString("hex")},Kp=Object.freeze({__proto__:null,sendMsgToFCL:Mr,ready:function(e){Ao("FCL:VIEW:READY:RESPONSE",e),Mr("FCL:VIEW:READY")},close:function(){Mr("FCL:VIEW:CLOSE")},approve:function(e){Mr("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"APPROVED",reason:null,data:e})},decline:function(e){Mr("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"DECLINED",reason:e,data:null})},redirect:function(e){Mr("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"REDIRECT",reason:null,data:e})},onMessageFromFCL:Ao,encodeMessageFromSignable:function(e,n){var t=function(e){var n=new Set(e.authorizers);return n.add(e.proposalKey.address),n.delete(e.payer),Array.from(n).map(me)}(e.voucher),a=function(e){return Array.from(new Set([e.payer])).map(me)}(e.voucher),s=t.includes(me(n)),u=a.includes(me(n));if(!s&&!u)throw new ad(n);var i={cadence:e.voucher.cadence,refBlock:e.voucher.refBlock,computeLimit:e.voucher.computeLimit,arguments:e.voucher.arguments,proposalKey:b(b({},e.voucher.proposalKey),{},{address:ae(e.voucher.proposalKey.address)}),payer:ae(e.voucher.payer),authorizers:e.voucher.authorizers.map(ae),payloadSigs:e.voucher.payloadSigs.map(function(l){return b(b({},l),{},{address:ae(l.address)})})};return s?Vs(i):Js(i)},CompositeSignature:function jp(r,e,n){this.f_type=Ga.f_type,this.f_vsn=Ga.f_vsn,this.addr=me(r),this.keyId=Number(e),this.signature=n},encodeAccountProof:Po,injectExtService:function Wp(r){"authn"===r.type&&null!=r.endpoint?(Array.isArray(window.fcl_extensions)||(window.fcl_extensions=[]),window.fcl_extensions.push(r)):console.warn("Authn service is required")}}),Vp="ACCOUNT_PROOF",Jp="USER_SIGNATURE",No=function(e){if(e.appIdentifier){var t=e.address,a=e.nonce,s=e.signatures;return I(Dr(e.appIdentifier),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),I(Dr(t)&&16===ae(t).length,"verifyAccountProof({ address }) -- address must be a valid address"),I(/^[0-9a-f]+$/i.test(a),"nonce must be a hex string"),I(Array.isArray(s)&&s.every(function(o,c,p){return"CompositeSignature"===o.f_type}),"Must include an Array of CompositeSignatures to verify"),I(s.map(function(o){return o.addr}).every(function(o,c,p){return o===p[0]}),"User signatures to be verified must be from a single account address"),!0}var i=e.address,l=e.compSigs;return I(/^[0-9a-f]+$/i.test(e.message),"Signed message must be a hex string"),I(Dr(i)&&16===ae(i).length,"verifyUserSignatures({ address }) -- address must be a valid address"),I(Array.isArray(l)&&l.every(function(o,c,p){return"CompositeSignature"===o.f_type}),"Must include an Array of CompositeSignatures to verify"),I(l.map(function(o){return o.addr}).every(function(o,c,p){return o===p[0]}),"User signatures to be verified must be from a single account address"),!0},Oo=function(){var r=v(d().mark(function e(n,t){var a,s;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a="ACCOUNT_PROOF"===n?"verifyAccountProofSignatures":"verifyUserSignatures",l.next=3,$.get("flow.network");case 3:if(s=l.sent){l.next=9;break}return l.next=7,$.get("env");case 7:(s=l.sent)&&Pe.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:'Please use "flow.network" instead.',transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"});case 9:return I(t.fclCryptoContract||"testnet"===s||"mainnet"===s,"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract"),l.abrupt("return","\n      import FCLCrypto from ".concat(t.fclCryptoContract?t.fclCryptoContract:"testnet"===s?"0x74daa6f9c7ef24b1":"0xb4b82a1c9d21d284","\n\n      pub fun main(\n          address: Address, \n          message: String, \n          keyIndices: [Int], \n          signatures: [String]\n      ): Bool {\n        return FCLCrypto.").concat(a,"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\n      }\n    "));case 12:case"end":return l.stop()}},e)}));return function(n,t){return r.apply(this,arguments)}}();function tu(){return tu=v(d().mark(function r(e,n){var t,a,s,u,i,l,o,c,p,f,g=arguments;return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:u=g.length>2&&void 0!==g[2]?g[2]:{},No({appIdentifier:e,address:t=n.address,nonce:a=n.nonce,signatures:s=n.signatures}),i=Po({address:t,nonce:a,appIdentifier:e},!1),l=[],o=[],c=U(s);try{for(c.s();!(p=c.n()).done;)l.push((f=p.value).signature),o.push(f.keyId.toString())}catch(y){c.e(y)}finally{c.f()}return h.t0=Tn,h.next=11,Oo(Vp,u);case 11:return h.t1=h.sent,h.t2=function(R,S){return[R(me(t),S.Address),R(i,S.String),R(o,S.Array(S.Int)),R(l,S.Array(S.String))]},h.t3={cadence:h.t1,args:h.t2},h.abrupt("return",(0,h.t0)(h.t3));case 15:case"end":return h.stop()}},r)})),tu.apply(this,arguments)}function Do(r,e){return au.apply(this,arguments)}function au(){return au=v(d().mark(function r(e,n){var t,a,s,u,i,l,o,c=arguments;return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t=c.length>2&&void 0!==c[2]?c[2]:{},a=me(n[0].addr),No({message:e,address:a,compSigs:n}),s=[],u=[],i=U(n);try{for(i.s();!(l=i.n()).done;)s.push((o=l.value).signature),u.push(o.keyId.toString())}catch(g){i.e(g)}finally{i.f()}return f.t0=Tn,f.next=10,Oo(Jp,t);case 10:return f.t1=f.sent,f.t2=function(m,h){return[m(a,h.Address),m(e,h.String),m(u,h.Array(h.Int)),m(s,h.Array(h.String))]},f.t3={cadence:f.t1,args:f.t2},f.abrupt("return",(0,f.t0)(f.t3));case 14:case"end":return f.stop()}},r)})),au.apply(this,arguments)}var gr,Zp=Object.freeze({__proto__:null,verifyAccountProof:function Xp(r,e){return tu.apply(this,arguments)},verifyUserSignatures:Do}),Qp=Pe.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(e,n){return Do(e,n)}}),_p=function(){var r=v(d().mark(function e(){var n,t,a,s=arguments;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:[],t=s.length>1&&void 0!==s[1]?s[1]:{},i.next=4,$.first(["sdk.resolve"],t.resolve||ia);case 4:if(a=i.sent,!Array.isArray(n)){i.next=9;break}return i.next=8,ve(Kr(),n);case 8:n=i.sent;case 9:return i.t0=JSON,i.t1=Qr,i.next=13,a(n);case 13:return i.t2=i.sent,i.t3=(0,i.t1)(i.t2),i.abrupt("return",i.t0.stringify.call(i.t0,i.t3,null,2));case 16:case"end":return i.stop()}},e)}));return function(){return r.apply(this,arguments)}}(),uu="POLL",em=function(){var r=v(d().mark(function e(n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Be([gi(n)]).then(Nr));case 1:case"end":return a.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),su=function(e){return e.status>=4},Lo=function(e){return e.status>=3},Fo=function(e){return e.status>=2},am=function(e,n){return JSON.stringify(e)!==JSON.stringify(n)},um=(T(gr={},ur,function(){var r=v(d().mark(function e(n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.sendSelf(uu);case 1:case"end":return a.stop()}},e)}));return function(e){return r.apply(this,arguments)}}()),T(gr,nr,function(r,e){r.subscribe(e.from),r.send(e.from,or,r.all())}),T(gr,Ge,function(r,e){r.unsubscribe(e.from)}),T(gr,Sr,function(){var r=v(d().mark(function e(n,t){return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t.reply(n.all());case 1:case"end":return s.stop()}},e)}));return function(e,n){return r.apply(this,arguments)}}()),T(gr,uu,function(){var r=v(d().mark(function e(n){var t;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,em(n.self());case 3:t=s.sent,s.next=9;break;case 6:return s.prev=6,s.t0=s.catch(0),s.abrupt("return",n.fatalError(s.t0));case 9:su(t)||setTimeout(function(){return n.sendSelf(uu)},2500),am(n.all(),t)&&n.broadcast(or,t),n.merge(t);case 12:case"end":return s.stop()}},e,null,[[0,6]])}));return function(e){return r.apply(this,arguments)}}()),gr),$o=function(e){if("object"===D(e)&&(e=e.transactionId),null==e)throw new Error("transactionId required");return e},Go=function(e){return pe(um,$o(e))};function hr(r){function n(a){return Ie($o(r),Go,a)}function t(a){return function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=u.suppress||!1;return new Promise(function(l,o){var c=n(function(p,f){!f&&!p.statusCode||i?a(p)&&(l(p),c()):(o(f||p.errorMessage),c())})})}}return{snapshot:function e(){return Ze(r,Go)},subscribe:n,onceFinalized:t(Fo),onceExecuted:t(Lo),onceSealed:t(su)}}hr.isUnknown=function(e){return e.status>=0},hr.isPending=function(e){return e.status>=1},hr.isFinalized=Fo,hr.isExecuted=Lo,hr.isSealed=su,hr.isExpired=function(e){return 5===e.status};var sn,yr="TICK",Dn="hwm",iu=function(){var r=v(d().mark(function e(n){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=setTimeout,a.t1=function(){return n.sendSelf(yr)},a.next=4,$().get("fcl.eventPollRate",1e4);case 4:return a.t2=a.sent,a.abrupt("return",(0,a.t0)(a.t1,a.t2));case 6:case"end":return a.stop()}},e)}));return function(n){return r.apply(this,arguments)}}(),om=(T(sn={},yr,function(){var r=v(d().mark(function e(n){var t,a,u,i;return d().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(n.hasSubs()){c.next=2;break}return c.abrupt("return");case 2:if(null!=(t=n.get(Dn))){c.next=18;break}return c.t0=n,c.t1=Dn,c.next=8,_r();case 8:return c.t2=c.sent,c.t0.put.call(c.t0,c.t1,c.t2),c.t3=n,c.t4=yr,c.next=14,iu(n);case 14:c.t5=c.sent,c.t3.put.call(c.t3,c.t4,c.t5),c.next=34;break;case 18:return c.next=20,_r();case 20:if(n.put(Dn,a=c.sent),!(t.height<a.height)){c.next=28;break}return c.next=25,Be([vi(n.self(),t.height+1,a.height)]).then(Nr);case 25:u=U(c.sent);try{for(u.s();!(i=u.n()).done;)n.broadcast("UPDATED",i.value.data)}catch(p){u.e(p)}finally{u.f()}case 28:return c.t6=n,c.t7=yr,c.next=32,iu(n);case 32:c.t8=c.sent,c.t6.put.call(c.t6,c.t7,c.t8);case 34:case"end":return c.stop()}},e)}));return function(e){return r.apply(this,arguments)}}()),T(sn,nr,function(){var r=v(d().mark(function e(n,t){return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(n.hasSubs()){s.next=7;break}return s.t0=n,s.t1=yr,s.next=5,iu(n);case 5:s.t2=s.sent,s.t0.put.call(s.t0,s.t1,s.t2);case 7:n.subscribe(t.from);case 8:case"end":return s.stop()}},e)}));return function(e,n){return r.apply(this,arguments)}}()),T(sn,Ge,function(r,e){r.unsubscribe(e.from),r.hasSubs()||(clearTimeout(r.get(yr)),r.delete(yr),r.delete(Dn))}),sn),lm=function(e){return pe(om,e)};function cm(r){return{subscribe:function(n){return Ie(r,lm,n)}}}var Uo={},Bo={},Mo={},Ho={},ou=function(e,n){return function(t,a){var s=2*a,u=2*n;t[s]=e[u],t[s+1]=e[u+1]}};!function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=function n(s){return s&&s.__esModule?s:{default:s}}(ou);r.default=function(u){for(var i=u.A,l=u.C,o=0;o<25;o+=5){for(var c=0;c<5;c++)(0,e.default)(i,o+c)(l,c);for(var p=0;p<5;p++){var f=2*(o+p),g=(p+1)%5*2,m=(p+2)%5*2;i[f]^=~l[g]&l[m],i[f+1]^=~l[g+1]&l[m+1]}}}}(Ho);var zo={},jo={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);r.default=e})(jo),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=function n(s){return s&&s.__esModule?s:{default:s}}(jo);r.default=function(u){var i=u.A,o=2*u.roundIndex;i[0]^=e.default[o],i[1]^=e.default[o+1]}}(zo);var qo={},Yo={};!function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1]}(Yo);var Wo={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44]})(Wo),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=a(Yo),n=a(Wo),t=a(ou);function a(i){return i&&i.__esModule?i:{default:i}}r.default=function(l){var o=l.A,c=l.C,p=l.W;(0,t.default)(o,1)(p,0);for(var f=0,g=0,m=0,h=32,y=0;y<24;y++){var R=e.default[y],S=n.default[y];(0,t.default)(o,R)(c,0),p[m=S<32?0:1]=(f=p[0])<<S|(g=p[1])>>>(h=32-S),p[(m+1)%2]=g<<S|f>>>h,(0,t.default)(p,0)(o,R),(0,t.default)(c,0)(p,0)}}}(qo);var Ko={};function ee(r){return lu.apply(this,arguments)}function lu(){return lu=v(d().mark(function r(e){var n;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new Uo.SHA3(256)).update(te.Buffer.from(e,"utf8")),a.abrupt("return",n.digest("hex"));case 3:case"end":return a.stop()}},r)})),lu.apply(this,arguments)}function Vo(r){return cu.apply(this,arguments)}function cu(){return cu=v(d().mark(function r(e){var n,t,a,s,u,i;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:j(null!=(n=e.template),"generateTemplateId({ template }) -- template must be defined"),j("object"===D(n),"generateTemplateId({ template }) -- template must be an object"),j("InteractionTemplate"==typeof n.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate"),n=rn(n),o.t0=n.f_version,o.next="1.0.0"===o.t0?8:40;break;case 8:return t=n.data,o.next=11,Promise.all(Object.keys(t.messages).map(function(){var c=v(d().mark(function p(f){var g,m;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,ee(f);case 2:return y.t0=y.sent,y.next=5,Promise.all(Object.keys(null===(g=t.messages)||void 0===g||null===(m=g[f])||void 0===m?void 0:m.i18n).map(function(){var R=v(d().mark(function S(B){var E,L,W;return d().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,ee(B);case 2:return q.t0=q.sent,q.next=5,ee(null===(E=t.messages)||void 0===E||null===(L=E[f])||void 0===L||null===(W=L.i18n)||void 0===W?void 0:W[B]);case 5:return q.t1=q.sent,q.abrupt("return",[q.t0,q.t1]);case 7:case"end":return q.stop()}},S)}));return function(S){return R.apply(this,arguments)}}()));case 5:return y.t1=y.sent,y.abrupt("return",[y.t0,y.t1]);case 7:case"end":return y.stop()}},p)}));return function(p){return c.apply(this,arguments)}}()));case 11:return a=o.sent,o.next=14,Promise.all(Object.keys(null==t?void 0:t.dependencies).map(function(){var c=v(d().mark(function p(f){var g;return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,ee(f);case 2:return h.t0=h.sent,h.next=5,Promise.all(Object.keys(null==t||null===(g=t.dependencies)||void 0===g?void 0:g[f]).map(function(){var y=v(d().mark(function R(S){var B,E;return d().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,ee(S);case 2:return W.t0=W.sent,W.next=5,Promise.all(Object.keys(null==t||null===(B=t.dependencies)||void 0===B||null===(E=B[f])||void 0===E?void 0:E[S]).map(function(){var k=v(d().mark(function q(we){var br,Hr,zr,wr,kr,Er,Ln,De,yu,bu,wu,ku,Eu,Su,Iu;return d().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,ee(we);case 2:return ue.t0=ue.sent,ue.next=5,ee(null==t||null===(br=t.dependencies)||void 0===br||null===(Hr=br[f])||void 0===Hr||null===(zr=Hr[S])||void 0===zr?void 0:zr[we].address);case 5:return ue.t1=ue.sent,ue.next=8,ee(null==t||null===(wr=t.dependencies)||void 0===wr||null===(kr=wr[f])||void 0===kr||null===(Er=kr[S])||void 0===Er?void 0:Er[we].contract);case 8:return ue.t2=ue.sent,ue.next=11,ee(null==t||null===(Ln=t.dependencies)||void 0===Ln||null===(De=Ln[f])||void 0===De||null===(yu=De[S])||void 0===yu?void 0:yu[we].fq_address);case 11:return ue.t3=ue.sent,ue.next=14,ee(null==t||null===(bu=t.dependencies)||void 0===bu||null===(wu=bu[f])||void 0===wu||null===(ku=wu[S])||void 0===ku?void 0:ku[we].pin);case 14:return ue.t4=ue.sent,ue.next=17,ee(String(null==t||null===(Eu=t.dependencies)||void 0===Eu||null===(Su=Eu[f])||void 0===Su||null===(Iu=Su[S])||void 0===Iu?void 0:Iu[we].pin_block_height));case 17:return ue.t5=ue.sent,ue.t6=[ue.t1,ue.t2,ue.t3,ue.t4,ue.t5],ue.abrupt("return",[ue.t0,ue.t6]);case 20:case"end":return ue.stop()}},q)}));return function(q){return k.apply(this,arguments)}}()));case 5:return W.t1=W.sent,W.abrupt("return",[W.t0,W.t1]);case 7:case"end":return W.stop()}},R)}));return function(R){return y.apply(this,arguments)}}()));case 5:return h.t1=h.sent,h.abrupt("return",[h.t0,h.t1]);case 7:case"end":return h.stop()}},p)}));return function(p){return c.apply(this,arguments)}}()));case 14:return s=o.sent,o.next=17,Promise.all(Object.keys(null==t?void 0:t.arguments).map(function(){var c=v(d().mark(function p(f){var g,m,h,y;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,ee(f);case 2:return S.t0=S.sent,S.next=5,ee(String(null==t||null===(g=t.arguments)||void 0===g?void 0:g[f].index));case 5:return S.t1=S.sent,S.next=8,ee(null==t||null===(m=t.arguments)||void 0===m?void 0:m[f].type);case 8:return S.t2=S.sent,S.next=11,ee((null==t||null===(h=t.arguments)||void 0===h?void 0:h[f].balance)||"");case 11:return S.t3=S.sent,S.next=14,Promise.all(Object.keys(null==t||null===(y=t.arguments)||void 0===y?void 0:y[f].messages).map(function(){var B=v(d().mark(function E(L){var W,k;return d().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,ee(L);case 2:return we.t0=we.sent,we.next=5,Promise.all(Object.keys(null==t||null===(W=t.arguments)||void 0===W||null===(k=W[f].messages)||void 0===k?void 0:k[L].i18n).map(function(){var br=v(d().mark(function Hr(zr){var wr,kr,Er;return d().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,ee(zr);case 2:return De.t0=De.sent,De.next=5,ee(null==t||null===(wr=t.arguments)||void 0===wr||null===(kr=wr[f].messages)||void 0===kr||null===(Er=kr[L].i18n)||void 0===Er?void 0:Er[zr]);case 5:return De.t1=De.sent,De.abrupt("return",[De.t0,De.t1]);case 7:case"end":return De.stop()}},Hr)}));return function(Hr){return br.apply(this,arguments)}}()));case 5:return we.t1=we.sent,we.abrupt("return",[we.t0,we.t1]);case 7:case"end":return we.stop()}},E)}));return function(E){return B.apply(this,arguments)}}()));case 14:return S.t4=S.sent,S.t5=[S.t1,S.t2,S.t3,S.t4],S.abrupt("return",[S.t0,S.t5]);case 17:case"end":return S.stop()}},p)}));return function(p){return c.apply(this,arguments)}}()));case 17:return u=o.sent,o.t1=lr,o.next=21,ee("InteractionTemplate");case 21:return o.t2=o.sent,o.next=24,ee("1.0.0");case 24:return o.t3=o.sent,o.next=27,ee(null==t?void 0:t.type);case 27:return o.t4=o.sent,o.next=30,ee(null==t?void 0:t.interface);case 30:return o.t5=o.sent,o.t6=a,o.next=34,ee(null==t?void 0:t.cadence);case 34:return o.t7=o.sent,o.t8=s,o.t9=u,o.t10=[o.t2,o.t3,o.t4,o.t5,o.t6,o.t7,o.t8,o.t9],i=(0,o.t1)(o.t10).toString("hex"),o.abrupt("return",ee(i));case 40:throw new Error("generateTemplateId Error: Unsupported template version");case 41:case"end":return o.stop()}},r)})),cu.apply(this,arguments)}function du(){return du=v(d().mark(function r(e){var n,t,a,s,u,i,l,c=arguments;return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.auditors,a=c.length>1&&void 0!==c[1]?c[1]:{},j(null!=(n=e.template),"getInteractionTemplateAudits({ template }) -- template must be defined"),j("InteractionTemplate"===(n=rn(n)).f_type,"getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate"),f.next=7,Vo({template:n});case 7:if((s=f.sent)===n.id){f.next=11;break}throw Pe({title:"getInteractionTemplateAudits Debug Error",message:"Could not recompute and match template ID\n                computed: ".concat(s,"\n                template: ").concat(n.id,"\n            "),level:Fe.debug}),new Error("getInteractionTemplateAudits Error: Could not recompute and match template ID");case 11:f.t0=n.f_version,f.next="1.0.0"===f.t0?14:33;break;case 14:if(f.t1=t,f.t1){f.next=19;break}return f.next=18,$().get("flow.auditors");case 18:f.t1=f.sent;case 19:if(j(u=f.t1,"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set"),j(Array.isArray(u),"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array"),i=a.flowInteractionAuditContract){f.next=29;break}return f.next=26,$().get("flow.network");case 26:j("mainnet"===(l=f.sent)||"testnet"===l,"getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'"),i="mainnet"===l?"0xfd100e39d50a13e6":"0xf78bfc12d0a786dc";case 29:return f.next=31,Tn({cadence:"\n        import FlowInteractionTemplateAudit from ".concat(i,"\n        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {\n          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)\n        }\n        "),args:function(m,h){return[m(s,h.String),m(u,h.Array(h.Address))]}});case 31:return f.abrupt("return",f.sent);case 33:throw new Error("getInteractionTemplateAudits Error: Unsupported template version");case 34:case"end":return f.stop()}},r)})),du.apply(this,arguments)}function Jo(r){return{contractName:r.contractName,address:r.address,contract:""}}function pm(r){var s,e=[],a=U(r.match(/import ((\w|,| )+)* from 0x\w+/g)||[]);try{for(a.s();!(s=a.n()).done;){var f,l=/import ((\w+|, |)*) from (0x\w+)/g.exec(s.value),p=U(l[1].match(/((?:\w+)+),?/g)||[]);try{for(p.s();!(f=p.n()).done;)e.push(Jo({address:l[3],contractName:f.value.replace(/,/g,"")}))}catch(m){p.e(m)}finally{p.f()}}}catch(m){a.e(m)}finally{a.f()}return e}function fu(r){return pu.apply(this,arguments)}function pu(){return pu=v(d().mark(function r(e){var n,t,a,s,u,i,l,o,c,p,f,g,m,h=arguments;return d().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:t=e.contractName,a=e.blockHeight,s=h.length>1&&void 0!==h[1]?h[1]:{},j(null!=(n=e.address),"generateDependencyPin({ address }) -- address must be defined"),j(null!=t,"generateDependencyPin({ contractName }) -- contractName must be defined"),j(null!=a,"generateDependencyPin({ blockHeight }) -- blockHeight must be defined"),j("string"==typeof n,"generateDependencyPin({ address }) -- address must be a string"),j("string"==typeof t,"generateDependencyPin({ contractName }) -- contractName must be a string"),j("number"==typeof a,"generateDependencyPin({ blockHeight }) -- blockHeight must be a number"),u=[Jo({contractName:t,address:n})],i=0,l=u;case 10:if(!(i<l.length)){R.next=33;break}return c=l[i],R.t0=Be,R.t1=cr,R.next=16,$().get(c.address,c.address);case 16:return R.t2=R.sent,R.t3=(0,R.t1)(R.t2),R.t4=Sn(a),R.t5=[R.t3,R.t4],R.t6=s,R.next=23,(0,R.t0)(R.t5,R.t6).then(Nr);case 23:if(c.contract=null===(o=(p=R.sent).contracts)||void 0===o?void 0:o[c.contractName],c.contract){R.next=28;break}throw console.error("Did not find expected contract",c,p),new Error("Did not find expected contract");case 28:f=pm(c.contract),u.push.apply(u,K(f));case 30:i++,R.next=10;break;case 33:return g=u.map(function(S){return ee(S.contract)}),m=g.join(""),R.abrupt("return",ee(m));case 36:case"end":return R.stop()}},r)})),pu.apply(this,arguments)}function mu(){return mu=v(d().mark(function r(e){var n,t,a,s,i=arguments;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.address,t=e.contractName,a=i.length>1&&void 0!==i[1]?i[1]:{},o.next=4,_r({sealed:!0},a);case 4:return o.abrupt("return",fu({address:n,contractName:t,blockHeight:null==(s=o.sent)?void 0:s.height},a));case 7:case"end":return o.stop()}},r)})),mu.apply(this,arguments)}function vm(r){if(null==r)return null;if("1.0.0"===r.f_version)return r;throw new Error("normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface")}function vu(){return vu=v(d().mark(function r(e){var n,t,a;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:j(null!=(n=e.templateInterface),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined"),j("object"===D(n),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object"),j("InteractionTemplateInterface"==typeof n.f_type,"generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate"),n=vm(n),u.t0=n.f_version,u.next="1.0.0"===u.t0?8:25;break;case 8:return t=n.data,u.t1=lr,u.next=12,ee("InteractionTemplateInterface");case 12:return u.t2=u.sent,u.next=15,ee("1.0.0");case 15:return u.t3=u.sent,u.next=18,ee(t.flip);case 18:return u.t4=u.sent,u.next=21,Promise.all(Object.keys(t.arguments).map(function(){var i=v(d().mark(function l(o){return d().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,ee(o);case 2:return p.t0=p.sent,p.next=5,ee(String(t.arguments[o].index));case 5:return p.t1=p.sent,p.next=8,ee(t.arguments[o].type);case 8:return p.t2=p.sent,p.abrupt("return",[p.t0,p.t1,p.t2]);case 10:case"end":return p.stop()}},l)}));return function(l){return i.apply(this,arguments)}}()));case 21:return u.t5=u.sent,u.t6=[u.t2,u.t3,u.t4,u.t5],a=(0,u.t1)(u.t6).toString("hex"),u.abrupt("return",ee(a));case 25:throw new Error("generateTemplateInterfaceId Error: Unsupported templateInterface version");case 26:case"end":return u.stop()}},r)})),vu.apply(this,arguments)}function Xo(r){return gu.apply(this,arguments)}function gu(){return gu=v(d().mark(function r(e){var n,t,a,s,u,i,l,o,c,p,f,g,y,R,S=arguments;return d().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:t=e.blockHeight,a=e.network,s=S.length>1&&void 0!==S[1]?S[1]:{},j(null!=(n=e.template),"generateDependencyPin({ template }) -- template must be defined"),j("object"===D(n),"generateDependencyPin({ template }) -- template must be an object"),j("InteractionTemplate"===n.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),n=rn(n),j(null!=a,"generateDependencyPin({ network }) network must be defined"),j(null!=t,"generateDependencyPin({ blockHeight }) blockHeight must be defined"),j("number"==typeof t,"generateDependencyPin({ blockHeight }) blockHeight must be a number"),E.t0=n.f_version,E.next="1.0.0"===E.t0?12:38;break;case 12:u=Object.keys(n.data.dependencies),i=0,l=u;case 14:if(!(i<l.length)){E.next=37;break}c=n.data.dependencies[o=l[i]],p=Object.keys(c),f=0,g=p;case 19:if(!(f<g.length)){E.next=34;break}if(!(typeof(y=n.data.dependencies[o][g[f]][a])>"u")){E.next=25;break}return E.abrupt("continue",31);case 25:return E.next=27,fu({address:y.address,contractName:y.contract,blockHeight:t},s);case 27:if((R=E.sent)===y.pin){E.next=31;break}return Pe({title:"verifyDependencyPinsSame Debug Error",message:"Could not recompute and match dependency pin.\n                                address: ".concat(y.address," | contract: ").concat(y.contract,"\n                                computed: ").concat(R,"\n                                template: ").concat(y.pin,"\n                            "),level:Fe.debug}),E.abrupt("return",!1);case 31:f++,E.next=19;break;case 34:i++,E.next=14;break;case 37:return E.abrupt("return",!0);case 38:throw new Error("verifyDependencyPinsSame Error: Unsupported template version");case 39:case"end":return E.stop()}},r)})),gu.apply(this,arguments)}function hu(){return hu=v(d().mark(function r(e){var n,t,a,s,i=arguments;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.template,t=e.network,a=i.length>1&&void 0!==i[1]?i[1]:{},o.next=4,_r({sealed:!0});case 4:return o.abrupt("return",Xo({template:n,network:t,blockHeight:null==(s=o.sent)?void 0:s.height},a));case 7:case"end":return o.stop()}},r)})),hu.apply(this,arguments)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=function n(s){return s&&s.__esModule?s:{default:s}}(ou);r.default=function(u){for(var i=u.A,l=u.C,o=u.D,c=u.W,p=0,f=0,g=0;g<5;g++){var m=2*g,h=2*(g+5),y=2*(g+10),R=2*(g+15),S=2*(g+20);l[m]=i[m]^i[h]^i[y]^i[R]^i[S],l[m+1]=i[m+1]^i[h+1]^i[y+1]^i[R+1]^i[S+1]}for(var B=0;B<5;B++){(0,e.default)(l,(B+1)%5)(c,0),c[0]=(p=c[0])<<1|(f=c[1])>>>31,c[1]=f<<1|p>>>31,o[2*B]=l[(B+4)%5*2]^c[0],o[2*B+1]=l[(B+4)%5*2+1]^c[1];for(var E=0;E<25;E+=5)i[2*(E+B)]^=o[2*B],i[2*(E+B)+1]^=o[2*B+1]}}})(Ko),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=s(Ho),n=s(zo),t=s(qo),a=s(Ko);function s(l){return l&&l.__esModule?l:{default:l}}r.default=function(){var o=new Uint32Array(10),c=new Uint32Array(10),p=new Uint32Array(2);return function(f){for(var g=0;g<24;g++)(0,a.default)({A:f,C:o,D:c,W:p}),(0,t.default)({A:f,C:o,W:p}),(0,e.default)({A:f,C:o}),(0,n.default)({A:f,roundIndex:g});o.fill(0),c.fill(0),p.fill(0)}}}(Mo),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=te,n=function t(l){return l&&l.__esModule?l:{default:l}}(Mo),a=function(o,c){for(var p=0;p<o.length;p+=8){var f=p/4;c[f]^=o[p+7]<<24|o[p+6]<<16|o[p+5]<<8|o[p+4],c[f+1]^=o[p+3]<<24|o[p+2]<<16|o[p+1]<<8|o[p]}return c},s=function(o,c){for(var p=0;p<c.length;p+=8){var f=p/4;c[p]=o[f+1],c[p+1]=o[f+1]>>>8,c[p+2]=o[f+1]>>>16,c[p+3]=o[f+1]>>>24,c[p+4]=o[f],c[p+5]=o[f]>>>8,c[p+6]=o[f]>>>16,c[p+7]=o[f]>>>24}return c};r.default=function(o){var c=this,p=o.capacity,f=o.padding,g=(0,n.default)(),h=p/8,y=200-p/4,R=0,S=new Uint32Array(50),B=e.Buffer.allocUnsafe(y);return this.absorb=function(E){for(var L=0;L<E.length;L++)B[R]=E[L],(R+=1)>=y&&(a(B,S),g(S),R=0);return c},this.squeeze=function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L={buffer:E.buffer||e.Buffer.allocUnsafe(h),padding:E.padding||f,queue:e.Buffer.allocUnsafe(B.length),state:new Uint32Array(S.length)};B.copy(L.queue);for(var W=0;W<S.length;W++)L.state[W]=S[W];L.queue.fill(0,R),L.queue[R]|=L.padding,L.queue[y-1]|=128,a(L.queue,L.state);for(var k=0;k<L.buffer.length;k+=y)g(L.state),s(L.state,L.buffer.slice(k,k+y));return L.buffer},this.reset=function(){return B.fill(0),S.fill(0),R=0,c},this}}(Bo),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.SHAKE=r.SHA3Hash=r.SHA3=r.Keccak=void 0;var e=te,n=function t(c){return c&&c.__esModule?c:{default:c}}(Bo),a=function(p){var f=p.allowedSizes,g=p.defaultSize,m=p.padding;return function h(){var y=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;if(!this||this.constructor!==h)return new h(R);if(f&&!f.includes(R))throw new Error("Unsupported hash length");var S=new n.default({capacity:R});return this.update=function(B){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(e.Buffer.isBuffer(B))return S.absorb(B),y;if("string"==typeof B)return y.update(e.Buffer.from(B,E));throw new TypeError("Not a string or buffer")},this.digest=function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",E="string"==typeof B?{format:B}:B,L=S.squeeze({buffer:E.buffer,padding:E.padding||m});return E.format&&"binary"!==E.format?L.toString(E.format):L},this.reset=function(){return S.reset(),y},this}},s=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});r.Keccak=s;var u=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});r.SHA3=u;var i=a({allowedSizes:[128,256],defaultSize:256,padding:31});r.SHAKE=i;var l=s;r.SHA3Hash=l,u.SHA3Hash=l,r.default=u}(Uo);var wm=Object.freeze({__proto__:null,getInteractionTemplateAudits:function fm(r){return du.apply(this,arguments)},generateDependencyPin:fu,generateDependencyPinAtLatestSealedBlock:function mm(r){return mu.apply(this,arguments)},generateTemplateId:Vo,generateTemplateInterfaceId:function gm(r){return vu.apply(this,arguments)},verifyDependencyPinsSame:Xo,verifyDependencyPinsSameAtLatestSealedBlock:function hm(r){return hu.apply(this,arguments)},deriveCadenceByNetwork:_i,getTemplateMessage:function ym(r){var e,n,t,a=r.localization,s=void 0===a?"en-US":a,u=r.messageKey,i=r.template;j(u,"getMessage({ messageKey }) -- messageKey must be defined"),j("stirng"==typeof u,"getMessage({ messageKey }) -- messageKey must be a string"),j(s,"getMessage({ localization }) -- localization must be defined"),j("stirng"==typeof s,"getMessage({ localization }) -- localization must be a string"),j(null!=i,"generateTemplateId({ template }) -- template must be defined"),j("object"===D(i),"generateTemplateId({ template }) -- template must be an object"),j("InteractionTemplate"==typeof i.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate");var l=null==i||null===(e=i.data)||void 0===e?void 0:e.messages;return null==l||null===(n=l[u])||void 0===n||null===(t=n.i18n)||void 0===t?void 0:t[s]},getTemplateArgumentMessage:function bm(r){var e,n,t,a,s,u=r.localization,i=void 0===u?"en-US":u,l=r.argumentLabel,o=r.messageKey,c=r.template;j(o,"getMessage({ messageKey }) -- messageKey must be defined"),j("stirng"==typeof o,"getMessage({ messageKey }) -- messageKey must be a string"),j(l,"getMessage({ argumentLabel }) -- argumentLabel must be defined"),j("stirng"==typeof o,"getMessage({ argumentLabel }) -- argumentLabel must be a string"),j(i,"getMessage({ localization }) -- localization must be defined"),j("stirng"==typeof i,"getMessage({ localization }) -- localization must be a string"),j(null!=c,"generateTemplateId({ template }) -- template must be defined"),j("object"===D(c),"generateTemplateId({ template }) -- template must be an object"),j("InteractionTemplate"==typeof c.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate");var p=null==c||null===(e=c.data)||void 0===e?void 0:e.arguments;return null==p||null===(n=p[l])||void 0===n||null===(t=n.messages)||void 0===t||null===(a=t[o])||void 0===a||null===(s=a.i18n)||void 0===s?void 0:s[i]}}),km=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oe().authenticate(e)},Em=function(){return Oe().unauthenticate()},Sm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oe().unauthenticate(),Oe().authenticate(e)},Im=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oe().authenticate(e)},Rm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oe().authenticate(e)},Am=Oe().authorization,Tm=N;$({"accessNode.api":"https://rest-mainnet.onflow.org","discovery.wallet":"https://fcl-discovery.onflow.org/authn"});var Cm=function(){return fe}},3178:Z=>{let F;Z.exports="function"==typeof queueMicrotask?queueMicrotask:G=>(F||(F=Promise.resolve())).then(G).catch(N=>setTimeout(()=>{throw N},0))},8400:(Z,F)=>{"use strict";var N=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof N<"u")return N;throw new Error("unable to locate global object")}();Z.exports=F=N.fetch,N.fetch&&(F.default=N.fetch.bind(N)),F.Headers=N.Headers,F.Request=N.Request,F.Response=N.Response},8582:(Z,F,G)=>{"use strict";F.Aj=void 0;var fe=G(4381),_=function he(P){return P&&P.__esModule?P:{default:P}}(G(4129)),V=function(d){var ne=d.allowedSizes,x=d.defaultSize,D=d.padding;return function ye(){var oe=this,T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;if(!this||this.constructor!==ye)return new ye(T);if(ne&&!ne.includes(T))throw new Error("Unsupported hash length");var le=new _.default({capacity:T});return this.update=function(b){var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(fe.Buffer.isBuffer(b))return le.absorb(b),oe;if("string"==typeof b)return oe.update(fe.Buffer.from(b,U));throw new TypeError("Not a string or buffer")},this.digest=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",U="string"==typeof b?{format:b}:b,$e=le.squeeze({buffer:U.buffer,padding:U.padding||D});return U.format&&"binary"!==U.format?$e.toString(U.format):$e},this.reset=function(){return le.reset(),oe},this}},re=V({allowedSizes:[224,256,384,512],defaultSize:512,padding:1}),J=V({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});F.Aj=J,V({allowedSizes:[128,256],defaultSize:256,padding:31}),J.SHA3Hash=re},4129:(Z,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var N=G(4381),fe=function _(H){return H&&H.__esModule?H:{default:H}}(G(7197)),he=function(M,v){for(var P=0;P<M.length;P+=8){var d=P/4;v[d]^=M[P+7]<<24|M[P+6]<<16|M[P+5]<<8|M[P+4],v[d+1]^=M[P+3]<<24|M[P+2]<<16|M[P+1]<<8|M[P]}return v},V=function(M,v){for(var P=0;P<v.length;P+=8){var d=P/4;v[P]=M[d+1],v[P+1]=M[d+1]>>>8,v[P+2]=M[d+1]>>>16,v[P+3]=M[d+1]>>>24,v[P+4]=M[d],v[P+5]=M[d]>>>8,v[P+6]=M[d]>>>16,v[P+7]=M[d]>>>24}return v};F.default=function(M){var v=this,P=M.capacity,d=M.padding,ne=(0,fe.default)(),D=P/8,ye=200-P/4,oe=0,T=new Uint32Array(50),le=N.Buffer.allocUnsafe(ye);return this.absorb=function(b){for(var U=0;U<b.length;U++)le[oe]=b[U],(oe+=1)>=ye&&(he(le,T),ne(T),oe=0);return v},this.squeeze=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},U={buffer:b.buffer||N.Buffer.allocUnsafe(D),padding:b.padding||d,queue:N.Buffer.allocUnsafe(le.length),state:new Uint32Array(T.length)};le.copy(U.queue);for(var $e=0;$e<T.length;$e++)U.state[$e]=T[$e];U.queue.fill(0,oe),U.queue[oe]|=U.padding,U.queue[ye-1]|=128,he(U.queue,U.state);for(var ze=0;ze<U.buffer.length;ze+=ye)ne(U.state),V(U.state,U.buffer.slice(ze,ze+ye));return U.buffer},this.reset=function(){return le.fill(0),T.fill(0),oe=0,v},this}},5529:(Z,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var N=function fe(V){return V&&V.__esModule?V:{default:V}}(G(8052));F.default=function(re){for(var J=re.A,H=re.C,M=0;M<25;M+=5){for(var v=0;v<5;v++)(0,N.default)(J,M+v)(H,v);for(var P=0;P<5;P++){var d=2*(M+P),ne=(P+1)%5*2,x=(P+2)%5*2;J[d]^=~H[ne]&H[x],J[d+1]^=~H[ne+1]&H[x+1]}}}},8052:Z=>{"use strict";Z.exports=function(N,fe){return function(_,he){var V=2*he,re=2*fe;_[V]=N[re],_[V+1]=N[re+1]}}},7197:(Z,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var N=V(G(5529)),fe=V(G(9946)),_=V(G(7750)),he=V(G(8549));function V(H){return H&&H.__esModule?H:{default:H}}F.default=function(){var M=new Uint32Array(10),v=new Uint32Array(10),P=new Uint32Array(2);return function(d){for(var ne=0;ne<24;ne++)(0,he.default)({A:d,C:M,D:v,W:P}),(0,_.default)({A:d,C:M,W:P}),(0,N.default)({A:d,C:M}),(0,fe.default)({A:d,roundIndex:ne});M.fill(0),v.fill(0),P.fill(0)}}},9946:(Z,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var N=function fe(V){return V&&V.__esModule?V:{default:V}}(G(6427));F.default=function(re){var J=re.A,M=2*re.roundIndex;J[0]^=N.default[M],J[1]^=N.default[M+1]}},6427:(Z,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var G=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);F.default=G},7750:(Z,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var N=he(G(5950)),fe=he(G(454)),_=he(G(8052));function he(J){return J&&J.__esModule?J:{default:J}}F.default=function(H){var M=H.A,v=H.C,P=H.W;(0,_.default)(M,1)(P,0);for(var d=0,ne=0,x=0,D=32,ye=0;ye<24;ye++){var oe=N.default[ye],T=fe.default[ye];(0,_.default)(M,oe)(v,0),P[x=T<32?0:1]=(d=P[0])<<T|(ne=P[1])>>>(D=32-T),P[(x+1)%2]=ne<<T|d>>>D,(0,_.default)(P,0)(M,oe),(0,_.default)(v,0)(P,0)}}},5950:(Z,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0,F.default=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1]},454:(Z,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0,F.default=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44]},8549:(Z,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var N=function fe(V){return V&&V.__esModule?V:{default:V}}(G(8052));F.default=function(re){for(var J=re.A,H=re.C,M=re.D,v=re.W,P=0,d=0,ne=0;ne<5;ne++){var x=2*ne,D=2*(ne+5),ye=2*(ne+10),oe=2*(ne+15),T=2*(ne+20);H[x]=J[x]^J[D]^J[ye]^J[oe]^J[T],H[x+1]=J[x+1]^J[D+1]^J[ye+1]^J[oe+1]^J[T+1]}for(var le=0;le<5;le++){(0,N.default)(H,(le+1)%5)(v,0),v[0]=(P=v[0])<<1|(d=v[1])>>>31,v[1]=d<<1|P>>>31,M[2*le]=H[(le+4)%5*2]^v[0],M[2*le+1]=H[(le+4)%5*2+1]^v[1];for(var b=0;b<25;b+=5)J[2*(b+le)]^=M[2*le],J[2*(b+le)+1]^=M[2*le+1]}}},4725:(Z,F,G)=>{var N=G(5731).default;function fe(){"use strict";Z.exports=fe=function(){return _},Z.exports.__esModule=!0,Z.exports.default=Z.exports;var _={},he=Object.prototype,V=he.hasOwnProperty,re=Object.defineProperty||function(C,w,A){C[w]=A.value},J="function"==typeof Symbol?Symbol:{},H=J.iterator||"@@iterator",M=J.asyncIterator||"@@asyncIterator",v=J.toStringTag||"@@toStringTag";function P(C,w,A){return Object.defineProperty(C,w,{value:A,enumerable:!0,configurable:!0,writable:!0}),C[w]}try{P({},"")}catch{P=function(A,z,O){return A[z]=O}}function d(C,w,A,z){var Y=Object.create((w&&w.prototype instanceof D?w:D).prototype),be=new or(z||[]);return re(Y,"_invoke",{value:Fn(C,A,be)}),Y}function ne(C,w,A){try{return{type:"normal",arg:C.call(w,A)}}catch(z){return{type:"throw",arg:z}}}_.wrap=d;var x={};function D(){}function ye(){}function oe(){}var T={};P(T,H,function(){return this});var le=Object.getPrototypeOf,b=le&&le(le(Sr([])));b&&b!==he&&V.call(b,H)&&(T=b);var U=oe.prototype=D.prototype=Object.create(T);function $e(C){["next","throw","return"].forEach(function(w){P(C,w,function(A){return this._invoke(w,A)})})}function ze(C,w){function A(O,Y,be,pe){var Ie=ne(C[O],C,Y);if("throw"!==Ie.type){var Ze=Ie.arg,ke=Ze.value;return ke&&"object"==N(ke)&&V.call(ke,"__await")?w.resolve(ke.__await).then(function(Re){A("next",Re,be,pe)},function(Re){A("throw",Re,be,pe)}):w.resolve(ke).then(function(Re){Ze.value=Re,be(Ze)},function(Re){return A("throw",Re,be,pe)})}pe(Ie.arg)}var z;re(this,"_invoke",{value:function(Y,be){function pe(){return new w(function(Ie,Ze){A(Y,be,Ie,Ze)})}return z=z?z.then(pe,pe):pe()}})}function Fn(C,w,A){var z="suspendedStart";return function(O,Y){if("executing"===z)throw new Error("Generator is already running");if("completed"===z){if("throw"===O)throw Y;return{value:void 0,done:!0}}for(A.method=O,A.arg=Y;;){var be=A.delegate;if(be){var pe=ur(be,A);if(pe){if(pe===x)continue;return pe}}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if("suspendedStart"===z)throw z="completed",A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);z="executing";var Ie=ne(C,w,A);if("normal"===Ie.type){if(z=A.done?"completed":"suspendedYield",Ie.arg===x)continue;return{value:Ie.arg,done:A.done}}"throw"===Ie.type&&(z="completed",A.method="throw",A.arg=Ie.arg)}}}function ur(C,w){var A=w.method,z=C.iterator[A];if(void 0===z)return w.delegate=null,"throw"===A&&C.iterator.return&&(w.method="return",w.arg=void 0,ur(C,w),"throw"===w.method)||"return"!==A&&(w.method="throw",w.arg=new TypeError("The iterator does not provide a '"+A+"' method")),x;var O=ne(z,C.iterator,w.arg);if("throw"===O.type)return w.method="throw",w.arg=O.arg,w.delegate=null,x;var Y=O.arg;return Y?Y.done?(w[C.resultName]=Y.value,w.next=C.nextLoc,"return"!==w.method&&(w.method="next",w.arg=void 0),w.delegate=null,x):Y:(w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,x)}function nr(C){var w={tryLoc:C[0]};1 in C&&(w.catchLoc=C[1]),2 in C&&(w.finallyLoc=C[2],w.afterLoc=C[3]),this.tryEntries.push(w)}function Ge(C){var w=C.completion||{};w.type="normal",delete w.arg,C.completion=w}function or(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(nr,this),this.reset(!0)}function Sr(C){if(C){var w=C[H];if(w)return w.call(C);if("function"==typeof C.next)return C;if(!isNaN(C.length)){var A=-1,z=function O(){for(;++A<C.length;)if(V.call(C,A))return O.value=C[A],O.done=!1,O;return O.value=void 0,O.done=!0,O};return z.next=z}}return{next:on}}function on(){return{value:void 0,done:!0}}return ye.prototype=oe,re(U,"constructor",{value:oe,configurable:!0}),re(oe,"constructor",{value:ye,configurable:!0}),ye.displayName=P(oe,v,"GeneratorFunction"),_.isGeneratorFunction=function(C){var w="function"==typeof C&&C.constructor;return!!w&&(w===ye||"GeneratorFunction"===(w.displayName||w.name))},_.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,oe):(C.__proto__=oe,P(C,v,"GeneratorFunction")),C.prototype=Object.create(U),C},_.awrap=function(C){return{__await:C}},$e(ze.prototype),P(ze.prototype,M,function(){return this}),_.AsyncIterator=ze,_.async=function(C,w,A,z,O){void 0===O&&(O=Promise);var Y=new ze(d(C,w,A,z),O);return _.isGeneratorFunction(w)?Y:Y.next().then(function(be){return be.done?be.value:Y.next()})},$e(U),P(U,v,"Generator"),P(U,H,function(){return this}),P(U,"toString",function(){return"[object Generator]"}),_.keys=function(C){var w=Object(C),A=[];for(var z in w)A.push(z);return A.reverse(),function O(){for(;A.length;){var Y=A.pop();if(Y in w)return O.value=Y,O.done=!1,O}return O.done=!0,O}},_.values=Sr,or.prototype={constructor:or,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ge),!w)for(var A in this)"t"===A.charAt(0)&&V.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if("throw"===w.type)throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var A=this;function z(Ze,ke){return be.type="throw",be.arg=w,A.next=Ze,ke&&(A.method="next",A.arg=void 0),!!ke}for(var O=this.tryEntries.length-1;O>=0;--O){var Y=this.tryEntries[O],be=Y.completion;if("root"===Y.tryLoc)return z("end");if(Y.tryLoc<=this.prev){var pe=V.call(Y,"catchLoc"),Ie=V.call(Y,"finallyLoc");if(pe&&Ie){if(this.prev<Y.catchLoc)return z(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return z(Y.finallyLoc)}else if(pe){if(this.prev<Y.catchLoc)return z(Y.catchLoc,!0)}else{if(!Ie)throw new Error("try statement without catch or finally");if(this.prev<Y.finallyLoc)return z(Y.finallyLoc)}}}},abrupt:function(w,A){for(var z=this.tryEntries.length-1;z>=0;--z){var O=this.tryEntries[z];if(O.tryLoc<=this.prev&&V.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var Y=O;break}}Y&&("break"===w||"continue"===w)&&Y.tryLoc<=A&&A<=Y.finallyLoc&&(Y=null);var be=Y?Y.completion:{};return be.type=w,be.arg=A,Y?(this.method="next",this.next=Y.finallyLoc,x):this.complete(be)},complete:function(w,A){if("throw"===w.type)throw w.arg;return"break"===w.type||"continue"===w.type?this.next=w.arg:"return"===w.type?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):"normal"===w.type&&A&&(this.next=A),x},finish:function(w){for(var A=this.tryEntries.length-1;A>=0;--A){var z=this.tryEntries[A];if(z.finallyLoc===w)return this.complete(z.completion,z.afterLoc),Ge(z),x}},catch:function(w){for(var A=this.tryEntries.length-1;A>=0;--A){var z=this.tryEntries[A];if(z.tryLoc===w){var O=z.completion;if("throw"===O.type){var Y=O.arg;Ge(z)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(w,A,z){return this.delegate={iterator:Sr(w),resultName:A,nextLoc:z},"next"===this.method&&(this.arg=void 0),x}},_}Z.exports=fe,Z.exports.__esModule=!0,Z.exports.default=Z.exports},5731:Z=>{function F(G){return Z.exports=F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},Z.exports.__esModule=!0,Z.exports.default=Z.exports,F(G)}Z.exports=F,Z.exports.__esModule=!0,Z.exports.default=Z.exports},3033:(Z,F,G)=>{var N=G(4725)();Z.exports=N;try{regeneratorRuntime=N}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=N:Function("r","regeneratorRuntime = r")(N)}}}]);