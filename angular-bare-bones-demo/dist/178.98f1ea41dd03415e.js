(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[178],{88178:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{WC_DEFAULT_RPC_MAP:()=>ev,WC_V2_DEFAULT_CHAINS:()=>tv,getWalletConnectV2ProviderInstance:()=>rv});var I={};D.r(I),D.d(I,{identity:()=>Ye});var re={};D.r(re),D.d(re,{base2:()=>lt});var ne={};D.r(ne),D.d(ne,{base8:()=>dt});var k={};D.r(k),D.d(k,{base10:()=>bt});var $={};D.r($),D.d($,{base16:()=>Et,base16upper:()=>yt});var te={};D.r(te),D.d(te,{base36:()=>St,base36upper:()=>qr});var H={};D.r(H),D.d(H,{base64:()=>cn,base64pad:()=>Rn,base64url:()=>Kn,base64urlpad:()=>Pn});var M={};D.r(M),D.d(M,{base256emoji:()=>ir});var C={};D.r(C),D.d(C,{sha256:()=>sr,sha512:()=>or});var L={};D.r(L),D.d(L,{identity:()=>ar});var ce={};D.r(ce),D.d(ce,{code:()=>ea,decode:()=>ta,encode:()=>ln,name:()=>ur});var de={};function ue(u,t,r,o,a,l,m){try{var T=u[l](m),X=T.value}catch(Q){return void r(Q)}T.done?t(X):Promise.resolve(X).then(o,a)}function O(u){return function(){var t=this,r=arguments;return new Promise(function(o,a){var l=u.apply(t,r);function m(X){ue(l,o,a,m,T,"next",X)}function T(X){ue(l,o,a,m,T,"throw",X)}m(void 0)})}}D.r(de),D.d(de,{code:()=>sa,decode:()=>oa,encode:()=>An,name:()=>ia});var _e=D(2272),De=D.n(_e),we=D(83169),ee=D(40851),B=D(71268),J=D(43795);class F extends J.q{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class U extends J.q{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}}class f extends J.q{constructor(t,r){super(),this.relayer=t,this.logger=r}}class _ extends J.q{constructor(t){super()}}class b extends J.q{constructor(t,r){super(),this.relayer=t,this.logger=r}}class x extends J.q{constructor(t,r){super(),this.core=t,this.logger=r}}function xe(u){if("string"!=typeof u)throw new Error("Cannot safe json parse value of type "+typeof u);try{return(u=>{const r=u.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(r,(o,a)=>"string"==typeof a&&a.match(/^\d+n$/)?BigInt(a.substring(0,a.length-1)):a)})(u)}catch{return u}}function Ce(u){return"string"==typeof u?u:(u=>JSON.stringify(u,(t,r)=>"bigint"==typeof r?r.toString()+"n":r))(u)||""}var Fe=D(52877),je=D(7841),Z=D(40145);const Y="base64url",wt="did",ct="key",_t="base58btc";function it(u){return null!=globalThis.Buffer?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):u}function rt(u=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?it(globalThis.Buffer.allocUnsafe(u)):new Uint8Array(u)}function Ge(u,t){t||(t=u.reduce((a,l)=>a+l.length,0));const r=rt(t);let o=0;for(const a of u)r.set(a,o),o+=a.length;return it(r)}var He=D(29161),We=D(91744);const Ye=(0,He.Dp)({prefix:"\0",name:"identity",encode:u=>(0,We.toString)(u),decode:u=>(0,We.fromString)(u)}),lt=(0,He.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),dt=(0,He.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),bt=(0,He.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),Et=(0,He.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),yt=(0,He.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Dt=D(79515);const St=(0,He.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qr=(0,He.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Er=D(59942);const cn=(0,He.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rn=(0,He.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Kn=(0,He.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Pn=(0,He.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),fn=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Wt=fn.reduce((u,t,r)=>(u[r]=t,u),[]),Gt=fn.reduce((u,t,r)=>(u[t.codePointAt(0)]=r,u),[]),ir=(0,He.Dp)({prefix:"\u{1f680}",name:"base256emoji",encode:function Yt(u){return u.reduce((t,r)=>t+Wt[r],"")},decode:function $t(u){const t=[];for(const r of u){const o=Gt[r.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${r}`);t.push(o)}return new Uint8Array(t)}});var Zt=D(53907);const Qt=u=>function(){var t=O(function*(r){return new Uint8Array(yield crypto.subtle.digest(u,r))});return function(r){return t.apply(this,arguments)}}(),sr=(0,Zt.from)({name:"sha2-256",code:18,encode:Qt("SHA-256")}),or=(0,Zt.from)({name:"sha2-512",code:19,encode:Qt("SHA-512")});var kt=D(22834);const er=We.coerce,ar={code:0,name:"identity",encode:er,digest:u=>kt.create(0,er(u))},ur="raw",ea=85,ln=u=>(0,We.coerce)(u),ta=u=>(0,We.coerce)(u),ra=new TextEncoder,na=new TextDecoder,ia="json",sa=512,An=u=>ra.encode(JSON.stringify(u)),oa=u=>JSON.parse(na.decode(u));D(8422);const js={...I,...re,...ne,...k,...$,...Dt,...te,...Er,...H,...M};function ai(u,t,r,o){return{name:u,prefix:t,encoder:{name:u,prefix:t,encode:r},decoder:{decode:o}}}const Ms=ai("utf8","u",u=>"u"+new TextDecoder("utf8").decode(u),u=>(new TextEncoder).encode(u.substring(1))),ki=ai("ascii","a",u=>{let t="a";for(let r=0;r<u.length;r++)t+=String.fromCharCode(u[r]);return t},u=>{const t=rt((u=u.substring(1)).length);for(let r=0;r<u.length;r++)t[r]=u.charCodeAt(r);return t}),Bs={utf8:Ms,"utf-8":Ms,hex:js.base16,latin1:ki,ascii:ki,binary:ki,...js};function wr(u,t="utf8"){const r=Bs[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(u).substring(1):globalThis.Buffer.from(u.buffer,u.byteOffset,u.byteLength).toString("utf8")}function Or(u,t="utf8"){const r=Bs[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${u}`):it(globalThis.Buffer.from(u,"utf-8"))}function Ii(u){return wr(Or(Ce(u),"utf8"),Y)}function Hs(u){const r="z"+wr(Ge([Or("K36",_t),u]),_t);return[wt,ct,r].join(":")}function aa(u){return wr(u,Y)}function $s(u){return Or([Ii(u.header),Ii(u.payload)].join("."),"utf8")}function ca(u){return[Ii(u.header),Ii(u.payload),aa(u.signature)].join(".")}function zs(u=(0,je.randomBytes)(32)){return Fe._w(u)}function Ri(){return(Ri=O(function*(u,t,r,o,a=(0,Z.fromMiliseconds)(Date.now())){const l={alg:"EdDSA",typ:"JWT"},X={iss:Hs(o.publicKey),sub:u,aud:t,iat:a,exp:a+r},Q=$s({header:l,payload:X});return ca({header:l,payload:X,signature:Fe.Xx(o.secretKey,Q)})})).apply(this,arguments)}D(84143);var ci=D(31118),Vn=D(82584),rs=D(59373),Js=D(65504),hn=function(u,t,r){if(r||2===arguments.length)for(var l,o=0,a=t.length;o<a;o++)(l||!(o in t))&&(l||(l=Array.prototype.slice.call(t,0,o)),l[o]=t[o]);return u.concat(l||Array.prototype.slice.call(t))},ha=function u(t,r,o){this.name=t,this.version=r,this.os=o,this.type="browser"},da=function u(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},pa=function u(t,r,o,a){this.name=t,this.version=r,this.os=o,this.bot=a,this.type="bot-device"},ga=function u(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ya=function u(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Ks=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Pi=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Ws=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function is(u){var t=function Gs(u){return""!==u&&Pi.reduce(function(t,r){var o=r[0];if(t)return t;var l=r[1].exec(u);return!!l&&[o,l]},!1)}(u);if(!t)return null;var r=t[0],o=t[1];if("searchbot"===r)return new ga;var a=o[1]&&o[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=hn(hn([],a,!0),function qs(u){for(var t=[],r=0;r<u;r++)t.push("0");return t}(3-a.length),!0)):a=[];var l=a.join("."),m=function Ys(u){for(var t=0,r=Ws.length;t<r;t++){var o=Ws[t],a=o[0];if(o[1].exec(u))return a}return null}(u),T=Ks.exec(u);return T&&T[1]?new pa(r,l,m,T[1]):new ha(r,l,m)}var Ai=D(6179),ma=D(98064),Ci=D(9805);D(43025);const oe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function zr(u,t){return u.includes(":")?[u]:t.chains||[]}const Pr="base16",_a="base64pad",ba="utf8";function Da(){return wr((0,je.randomBytes)(32),Pr)}function hi(u){return wr((0,rs.vp)(Or(u,ba)),Pr)}function os(u){return Number(wr(u,"base10"))}function Zs(u){const t=Or(u,_a),r=t.slice(0,1);if(1===os(r)){const T=33,X=T+12,Q=t.slice(1,T),ge=t.slice(T,X);return{type:r,sealed:t.slice(X),iv:ge,senderPublicKey:Q}}const l=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:l}}function wc(u){const t=u?.type||0;if(1===t){if(typeof u?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof u?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:u?.senderPublicKey,receiverPublicKey:u?.receiverPublicKey}}function Dc(u){return 1===u.type&&"string"==typeof u.senderPublicKey&&"string"==typeof u.receiverPublicKey}var Id=Object.defineProperty,xc=Object.getOwnPropertySymbols,Rd=Object.prototype.hasOwnProperty,Pd=Object.prototype.propertyIsEnumerable,Sc=(u,t,r)=>t in u?Id(u,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[t]=r,Oc=(u,t)=>{for(var r in t||(t={}))Rd.call(t,r)&&Sc(u,r,t[r]);if(xc)for(var r of xc(t))Pd.call(t,r)&&Sc(u,r,t[r]);return u};const Td="js";function Sa(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Oa(){return!Sa()&&!!(0,Ai.getNavigator)()}function Md(u,t,r){const o=function Fd(){const u=function ns(u){return u?is(u):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new ya:typeof navigator<"u"?is(navigator.userAgent):function fi(){return typeof process<"u"&&process.version?new da(process.version.slice(1)):null}()}();if(null===u)return"unknown";const t=u.os?u.os.replace(" ","").toLowerCase():"unknown";return"browser"===u.type?[t,u.name,u.version].join("-"):[t,u.version].join("-")}(),a=function jd(){var u;const t=function Rc(){return function Nd(){return!(0,Ai.getDocument)()&&!!(0,Ai.getNavigator)()&&"ReactNative"===navigator.product}()?"react-native":Sa()?"node":Oa()?"browser":"unknown"}();return"browser"===t?[t,(null==(u=(0,Ai.getLocation)())?void 0:u.host)||"unknown"].join(":"):t}();return[[u,t].join("-"),[Td,r].join("-"),o,a].join("/")}function di(u,t){return u.filter(r=>t.includes(r)).length===u.length}function Pc(u){return Object.fromEntries(u.entries())}function Ac(u){return new Map(Object.entries(u))}function Ni(u=Z.FIVE_MINUTES,t){const r=(0,Z.toMiliseconds)(u||Z.FIVE_MINUTES);let o,a,l;return{resolve:m=>{l&&o&&(clearTimeout(l),o(m))},reject:m=>{l&&a&&(clearTimeout(l),a(m))},done:()=>new Promise((m,T)=>{l=setTimeout(()=>{T(new Error(t))},r),o=m,a=T})}}function Qs(u,t,r){return new Promise(function(){var o=O(function*(a,l){const m=setTimeout(()=>l(new Error(r)),t);try{a(yield u)}catch(T){l(T)}clearTimeout(m)});return function(a,l){return o.apply(this,arguments)}}())}function Cc(u,t){if("string"==typeof t&&t.startsWith(`${u}:`))return t;if("topic"===u.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===u.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${u}`)}function Tc(u){const[t,r]=u.split(":"),o={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)o.topic=r;else{if("id"!==t||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);o.id=Number(r)}return o}function pn(u,t){return(0,Z.fromMiliseconds)((t||Date.now())+(0,Z.toMiliseconds)(u))}function Wn(u){return Date.now()>=(0,Z.toMiliseconds)(u)}function cr(u,t){return`${u}${t?`:${t}`:""}`}function En(u=[],t=[]){return[...new Set([...u,...t])]}function Ia(u){return u?.relay||{protocol:"irn"}}function ks(u){const t=oe[u];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${u}`);return t}var Wd=Object.defineProperty,Nc=Object.getOwnPropertySymbols,Gd=Object.prototype.hasOwnProperty,Yd=Object.prototype.propertyIsEnumerable,Uc=(u,t,r)=>t in u?Wd(u,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[t]=r;function Xd(u,t="-"){const r={},o="relay"+t;return Object.keys(u).forEach(a=>{if(a.startsWith(o)){const l=a.replace(o,"");r[l]=u[a]}}),r}function Ui(u){const t=[];return u.forEach(r=>{const[o,a]=r.split(":");t.push(`${o}:${a}`)}),t}function Ra(u){return u.includes(":")}function us(u){return Ra(u)?u.split(":")[0]:u}const lp={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},hp={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ne(u,t){const{message:r,code:o}=hp[u];return{message:t?`${r} ${t}`:r,code:o}}function fr(u,t){const{message:r,code:o}=lp[u];return{message:t?`${r} ${t}`:r,code:o}}function Li(u,t){return!!Array.isArray(u)&&(!(typeof t<"u"&&u.length)||u.every(t))}function pi(u){return Object.getPrototypeOf(u)===Object.prototype&&Object.keys(u).length}function Ar(u){return typeof u>"u"}function vr(u,t){return!(!t||!Ar(u))||"string"==typeof u&&Boolean(u.trim().length)}function Pa(u,t){return!(!t||!Ar(u))||"number"==typeof u&&!isNaN(u)}function Aa(u){return!(!vr(u,!1)||!u.includes(":"))&&2===u.split(":").length}function Mc(u){let t=!0;return Li(u)?u.length&&(t=u.every(r=>vr(r,!1))):t=!1,t}function Bc(u,t){let r=null;return Object.values(u).forEach(o=>{if(r)return;const a=function Dp(u,t){let r=null;return Mc(u?.methods)?Mc(u?.events)||(r=fr("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=fr("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}(o,`${t}, namespace`);a&&(r=a)}),r}function eo(u,t){let r=null;if(u&&pi(u)){const o=Bc(u,t);o&&(r=o);const a=function wp(u,t){let r=null;return Object.values(u).forEach(o=>{if(r)return;const a=function Ep(u,t){let r=null;return Li(u)?u.forEach(o=>{r||function pp(u){if(vr(u,!1)&&u.includes(":")){const t=u.split(":");if(3===t.length){const r=t[0]+":"+t[1];return!!t[2]&&Aa(r)}}return!1}(o)||(r=fr("UNSUPPORTED_ACCOUNTS",`${t}, account ${o} should be a string and conform to "namespace:chainId:address" format`))}):r=fr("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}(o?.accounts,`${t} namespace`);a&&(r=a)}),r}(u,t);a&&(r=a)}else r=Ne("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function Hc(u){return vr(u.protocol,!0)}function Lr(u){return typeof u<"u"&&null!==typeof u}function $c(u,t){return!(!Aa(t)||!function ap(u){const t=[];return Object.values(u).forEach(r=>{t.push(...Ui(r.accounts))}),t}(u).includes(t))}function Ca(u,t,r){let o=null;const a=function Np(u){const t={};return Object.keys(u).forEach(r=>{var o;r.includes(":")?t[r]=u[r]:null==(o=u[r].chains)||o.forEach(a=>{t[a]={methods:u[r].methods,events:u[r].events}})}),t}(u),l=function Up(u){const t={};return Object.keys(u).forEach(r=>{r.includes(":")?t[r]=u[r]:Ui(u[r].accounts)?.forEach(a=>{t[a]={accounts:u[r].accounts.filter(l=>l.includes(`${a}:`)),methods:u[r].methods,events:u[r].events}})}),t}(t),m=Object.keys(a),T=Object.keys(l),X=zc(Object.keys(u)),Q=zc(Object.keys(t)),ge=X.filter(Oe=>!Q.includes(Oe));return ge.length&&(o=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${ge.toString()}\n      Received: ${Object.keys(t).toString()}`)),di(m,T)||(o=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${m.toString()}\n      Approved: ${T.toString()}`)),Object.keys(t).forEach(Oe=>{if(!Oe.includes(":")||o)return;const Xe=Ui(t[Oe].accounts);Xe.includes(Oe)||(o=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${Oe}\n        Required: ${Oe}\n        Approved: ${Xe.toString()}`))}),m.forEach(Oe=>{o||(di(a[Oe].methods,l[Oe].methods)?di(a[Oe].events,l[Oe].events)||(o=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${Oe}`)):o=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${Oe}`))}),o}function zc(u){return[...new Set(u.map(t=>t.includes(":")?t.split(":")[0]:t))]}var qe=D(80663);class Gn extends qe.IJsonRpcProvider{constructor(t){super(t),this.events=new _e.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}connect(t=this.connection){var r=this;return O(function*(){yield r.open(t)})()}disconnect(){var t=this;return O(function*(){yield t.close()})()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}request(t,r){var o=this;return O(function*(){return o.requestStrict((0,qe.formatJsonRpcRequest)(t.method,t.params||[],(0,qe.getBigIntRpcId)().toString()),r)})()}requestStrict(t,r){var o=this;return O(function*(){return new Promise(function(){var a=O(function*(l,m){if(!o.connection.connected)try{yield o.open()}catch(T){m(T)}o.events.on(`${t.id}`,T=>{(0,qe.isJsonRpcError)(T)?m(T.error):l(T.result)});try{yield o.connection.send(t,r)}catch(T){m(T)}});return function(l,m){return a.apply(this,arguments)}}())})()}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),(0,qe.isJsonRpcResponse)(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&3e3===t.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}open(t=this.connection){var r=this;return O(function*(){r.connection===t&&r.connection.connected||(r.connection.connected&&r.close(),"string"==typeof t&&(yield r.connection.open(t),t=r.connection),r.connection=r.setConnection(t),yield r.connection.open(),r.registerEventListeners(),r.events.emit("connect"))})()}close(){var t=this;return O(function*(){yield t.connection.close()})()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const Mp=typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:D(82791);var $p=D(60066),zp=D.n($p),Vp=function Jp(u,t){if(u.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),o=0;o<r.length;o++)r[o]=255;for(var a=0;a<u.length;a++){var l=u.charAt(a),m=l.charCodeAt(0);if(255!==r[m])throw new TypeError(l+" is ambiguous");r[m]=a}var T=u.length,X=u.charAt(0),Q=Math.log(T)/Math.log(256),ge=Math.log(256)/Math.log(T);function Xe(Be){if("string"!=typeof Be)throw new TypeError("Expected String");if(0===Be.length)return new Uint8Array;var tt=0;if(" "!==Be[tt]){for(var Qe=0,Nt=0;Be[tt]===X;)Qe++,tt++;for(var dr=(Be.length-tt)*Q+1>>>0,Ct=new Uint8Array(dr);Be[tt];){var Pt=r[Be.charCodeAt(tt)];if(255===Pt)return;for(var vt=0,Ut=dr-1;(0!==Pt||vt<Nt)&&-1!==Ut;Ut--,vt++)Ct[Ut]=(Pt+=T*Ct[Ut]>>>0)%256>>>0,Pt=Pt/256>>>0;if(0!==Pt)throw new Error("Non-zero carry");Nt=vt,tt++}if(" "!==Be[tt]){for(var Ot=dr-Nt;Ot!==dr&&0===Ct[Ot];)Ot++;for(var _r=new Uint8Array(Qe+(dr-Ot)),Xn=Qe;Ot!==dr;)_r[Xn++]=Ct[Ot++];return _r}}}return{encode:function Oe(Be){if(Be instanceof Uint8Array||(ArrayBuffer.isView(Be)?Be=new Uint8Array(Be.buffer,Be.byteOffset,Be.byteLength):Array.isArray(Be)&&(Be=Uint8Array.from(Be))),!(Be instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Be.length)return"";for(var tt=0,Qe=0,Nt=0,dr=Be.length;Nt!==dr&&0===Be[Nt];)Nt++,tt++;for(var Ct=(dr-Nt)*ge+1>>>0,Pt=new Uint8Array(Ct);Nt!==dr;){for(var vt=Be[Nt],Ut=0,Ot=Ct-1;(0!==vt||Ut<Qe)&&-1!==Ot;Ot--,Ut++)Pt[Ot]=(vt+=256*Pt[Ot]>>>0)%T>>>0,vt=vt/T>>>0;if(0!==vt)throw new Error("Non-zero carry");Qe=Ut,Nt++}for(var _r=Ct-Qe;_r!==Ct&&0===Pt[_r];)_r++;for(var Xn=X.repeat(tt);_r<Ct;++_r)Xn+=u.charAt(Pt[_r]);return Xn},decodeUnsafe:Xe,decode:function xt(Be){var tt=Xe(Be);if(tt)return tt;throw new Error(`Non-${t} character`)}}};const Kc=u=>{if(u instanceof Uint8Array&&"Uint8Array"===u.constructor.name)return u;if(u instanceof ArrayBuffer)return new Uint8Array(u);if(ArrayBuffer.isView(u))return new Uint8Array(u.buffer,u.byteOffset,u.byteLength);throw new Error("Unknown type, must be binary type")};class Yp{constructor(t,r,o){this.name=t,this.prefix=r,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class qp{constructor(t,r,o){if(this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Vc(this,t)}}class Xp{constructor(t){this.decoders=t}or(t){return Vc(this,t)}decode(t){const o=this.decoders[t[0]];if(o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Vc=(u,t)=>new Xp({...u.decoders||{[u.prefix]:u},...t.decoders||{[t.prefix]:t}});class Zp{constructor(t,r,o,a){this.name=t,this.prefix=r,this.baseEncode=o,this.baseDecode=a,this.encoder=new Yp(t,r,o),this.decoder=new qp(t,r,a)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const to=({name:u,prefix:t,encode:r,decode:o})=>new Zp(u,t,r,o),cs=({prefix:u,name:t,alphabet:r})=>{const{encode:o,decode:a}=Vp(r,t);return to({prefix:u,name:t,encode:o,decode:l=>Kc(a(l))})},Dr=({name:u,prefix:t,bitsPerChar:r,alphabet:o})=>to({prefix:t,name:u,encode:a=>((u,t,r)=>{const o="="===t[t.length-1],a=(1<<r)-1;let l="",m=0,T=0;for(let X=0;X<u.length;++X)for(T=T<<8|u[X],m+=8;m>r;)m-=r,l+=t[a&T>>m];if(m&&(l+=t[a&T<<r-m]),o)for(;l.length*r&7;)l+="=";return l})(a,o,r),decode:a=>((u,t,r,o)=>{const a={};for(let ge=0;ge<t.length;++ge)a[t[ge]]=ge;let l=u.length;for(;"="===u[l-1];)--l;const m=new Uint8Array(l*r/8|0);let T=0,X=0,Q=0;for(let ge=0;ge<l;++ge){const Oe=a[u[ge]];if(void 0===Oe)throw new SyntaxError(`Non-${o} character`);X=X<<r|Oe,T+=r,T>=8&&(T-=8,m[Q++]=255&X>>T)}if(T>=r||255&X<<8-T)throw new SyntaxError("Unexpected end of data");return m})(a,o,r,u)}),eg=to({prefix:"\0",name:"identity",encode:u=>(u=>(new TextDecoder).decode(u))(u),decode:u=>(u=>(new TextEncoder).encode(u))(u)});var tg=Object.freeze({__proto__:null,identity:eg});const rg=Dr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ng=Object.freeze({__proto__:null,base2:rg});const ig=Dr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var sg=Object.freeze({__proto__:null,base8:ig});const og=cs({prefix:"9",name:"base10",alphabet:"0123456789"});var ag=Object.freeze({__proto__:null,base10:og});const ug=Dr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cg=Dr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var fg=Object.freeze({__proto__:null,base16:ug,base16upper:cg});const lg=Dr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),hg=Dr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),dg=Dr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pg=Dr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),gg=Dr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yg=Dr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vg=Dr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),mg=Dr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_g=Dr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var bg=Object.freeze({__proto__:null,base32:lg,base32upper:hg,base32pad:dg,base32padupper:pg,base32hex:gg,base32hexupper:yg,base32hexpad:vg,base32hexpadupper:mg,base32z:_g});const Eg=cs({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wg=cs({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Dg=Object.freeze({__proto__:null,base36:Eg,base36upper:wg});const xg=cs({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sg=cs({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Og=Object.freeze({__proto__:null,base58btc:xg,base58flickr:Sg});const Ig=Dr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rg=Dr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Pg=Dr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ag=Dr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Cg=Object.freeze({__proto__:null,base64:Ig,base64pad:Rg,base64url:Pg,base64urlpad:Ag});const Wc=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Tg=Wc.reduce((u,t,r)=>(u[r]=t,u),[]),Ng=Wc.reduce((u,t,r)=>(u[t.codePointAt(0)]=r,u),[]),Fg=to({prefix:"\u{1f680}",name:"base256emoji",encode:function Ug(u){return u.reduce((t,r)=>t+Tg[r],"")},decode:function Lg(u){const t=[];for(const r of u){const o=Ng[r.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${r}`);t.push(o)}return new Uint8Array(t)}});var jg=Object.freeze({__proto__:null,base256emoji:Fg}),$g=Math.pow(2,31),Kg=Math.pow(2,7),Vg=Math.pow(2,14),Wg=Math.pow(2,21),Gg=Math.pow(2,28),Yg=Math.pow(2,35),qg=Math.pow(2,42),Xg=Math.pow(2,49),Zg=Math.pow(2,56),Qg=Math.pow(2,63),e0={encode:function Yc(u,t,r){t=t||[];for(var o=r=r||0;u>=$g;)t[r++]=255&u|128,u/=128;for(;-128&u;)t[r++]=255&u|128,u>>>=7;return t[r]=0|u,Yc.bytes=r-o+1,t},decode:function Ta(u,o){var m,r=0,a=0,l=o=o||0,T=u.length;do{if(l>=T)throw Ta.bytes=0,new RangeError("Could not decode varint");m=u[l++],r+=a<28?(127&m)<<a:(127&m)*Math.pow(2,a),a+=7}while(m>=128);return Ta.bytes=l-o,r},encodingLength:function(u){return u<Kg?1:u<Vg?2:u<Wg?3:u<Gg?4:u<Yg?5:u<qg?6:u<Xg?7:u<Zg?8:u<Qg?9:10}},Xc=e0;const Zc=(u,t,r=0)=>(Xc.encode(u,t,r),t),Qc=u=>Xc.encodingLength(u),Na=(u,t)=>{const r=t.byteLength,o=Qc(u),a=o+Qc(r),l=new Uint8Array(a+r);return Zc(u,l,0),Zc(r,l,o),l.set(t,a),new t0(u,r,t,l)};class t0{constructor(t,r,o,a){this.code=t,this.size=r,this.digest=o,this.bytes=a}}const kc=({name:u,code:t,encode:r})=>new r0(u,t,r);class r0{constructor(t,r,o){this.name=t,this.code=r,this.encode=o}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?Na(this.code,r):r.then(o=>Na(this.code,o))}throw Error("Unknown type, must be binary type")}}const ef=u=>function(){var t=O(function*(r){return new Uint8Array(yield crypto.subtle.digest(u,r))});return function(r){return t.apply(this,arguments)}}(),n0=kc({name:"sha2-256",code:18,encode:ef("SHA-256")}),i0=kc({name:"sha2-512",code:19,encode:ef("SHA-512")});Object.freeze({__proto__:null,sha256:n0,sha512:i0});const rf=Kc;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:rf,digest:u=>Na(0,rf(u))}}),new TextEncoder,new TextDecoder;const nf={...tg,...ng,...sg,...ag,...fg,...bg,...Dg,...Og,...Cg,...jg};function sf(u,t,r,o){return{name:u,prefix:t,encoder:{name:u,prefix:t,encode:r},decoder:{decode:o}}}const of=sf("utf8","u",u=>"u"+new TextDecoder("utf8").decode(u),u=>(new TextEncoder).encode(u.substring(1))),Ua=sf("ascii","a",u=>{let t="a";for(let r=0;r<u.length;r++)t+=String.fromCharCode(u[r]);return t},u=>{const t=function u0(u=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(u):new Uint8Array(u)}((u=u.substring(1)).length);for(let r=0;r<u.length;r++)t[r]=u.charCodeAt(r);return t}),c0={utf8:of,"utf-8":of,hex:nf.base16,latin1:Ua,ascii:Ua,binary:Ua,...nf},Yn="wc@2:core:",d0={database:":memory:"},uf="client_ed25519_seed",g0=Z.ONE_DAY,b0=Z.SIX_HOURS,ff="wss://relay.walletconnect.com",S0=Z.ONE_SECOND,wn_created="subscription_created",wn_deleted="subscription_deleted",A0=1e3*Z.FIVE_SECONDS,ls={wc_pairingDelete:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Z.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Z.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Z.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:0},res:{ttl:Z.ONE_DAY,prompt:!1,tag:0}}},Zr_expired="expirer_expired",lf="verify-api",hf="https://verify.walletconnect.com";class j0{constructor(t,r){var o=this;this.core=t,this.logger=r,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Yn,this.init=O(function*(){if(!o.initialized){const a=yield o.getKeyChain();typeof a<"u"&&(o.keychain=a),o.initialized=!0}}),this.has=a=>(this.isInitialized(),this.keychain.has(a)),this.set=function(){var a=O(function*(l,m){o.isInitialized(),o.keychain.set(l,m),yield o.persist()});return function(l,m){return a.apply(this,arguments)}}(),this.get=a=>{this.isInitialized();const l=this.keychain.get(a);if(typeof l>"u"){const{message:m}=Ne("NO_MATCHING_KEY",`${this.name}: ${a}`);throw new Error(m)}return l},this.del=function(){var a=O(function*(l){o.isInitialized(),o.keychain.delete(l),yield o.persist()});return function(l){return a.apply(this,arguments)}}(),this.core=t,this.logger=(0,B.generateChildLogger)(r,this.name)}get context(){return(0,B.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setKeyChain(t){var r=this;return O(function*(){yield r.core.storage.setItem(r.storageKey,Pc(t))})()}getKeyChain(){var t=this;return O(function*(){const r=yield t.core.storage.getItem(t.storageKey);return typeof r<"u"?Ac(r):void 0})()}persist(){var t=this;return O(function*(){yield t.setKeyChain(t.keychain)})()}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class M0{constructor(t,r,o){var a=this;this.core=t,this.logger=r,this.name="crypto",this.initialized=!1,this.init=O(function*(){a.initialized||(yield a.keychain.init(),a.initialized=!0)}),this.hasKeys=l=>(this.isInitialized(),this.keychain.has(l)),this.getClientId=O(function*(){return a.isInitialized(),Hs(zs(yield a.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const l=function _d(){const u=Js.Au();return{privateKey:wr(u.secretKey,Pr),publicKey:wr(u.publicKey,Pr)}}();return this.setPrivateKey(l.publicKey,l.privateKey)},this.signJWT=function(){var l=O(function*(m){a.isInitialized();const X=zs(yield a.getClientSeed()),Q=Da();return yield function fa(u,t,r,o){return Ri.apply(this,arguments)}(Q,m,g0,X)});return function(m){return l.apply(this,arguments)}}(),this.generateSharedKey=(l,m,T)=>{this.isInitialized();const Q=function bd(u,t){const r=Js.gi(Or(u,Pr),Or(t,Pr));return wr(new Vn.t(rs.mE,r).expand(32),Pr)}(this.getPrivateKey(l),m);return this.setSymKey(Q,T)},this.setSymKey=function(){var l=O(function*(m,T){a.isInitialized();const X=T||function Ed(u){return wr((0,rs.vp)(Or(u,Pr)),Pr)}(m);return yield a.keychain.set(X,m),X});return function(m,T){return l.apply(this,arguments)}}(),this.deleteKeyPair=function(){var l=O(function*(m){a.isInitialized(),yield a.keychain.del(m)});return function(m){return l.apply(this,arguments)}}(),this.deleteSymKey=function(){var l=O(function*(m){a.isInitialized(),yield a.keychain.del(m)});return function(m){return l.apply(this,arguments)}}(),this.encode=function(){var l=O(function*(m,T,X){a.isInitialized();const Q=wc(X),ge=Ce(T);if(Dc(Q)){const Be=Q.senderPublicKey,tt=Q.receiverPublicKey;m=yield a.generateSharedKey(Be,tt)}const Oe=a.getSymKey(m),{type:Xe,senderPublicKey:xt}=Q;return function Dd(u){const t=function wd(u){return Or(`${u}`,"base10")}(typeof u.type<"u"?u.type:0);if(1===os(t)&&typeof u.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof u.senderPublicKey<"u"?Or(u.senderPublicKey,Pr):void 0,o=typeof u.iv<"u"?Or(u.iv,Pr):(0,je.randomBytes)(12);return function Sd(u){if(1===os(u.type)){if(typeof u.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return wr(Ge([u.type,u.senderPublicKey,u.iv,u.sealed]),_a)}return wr(Ge([u.type,u.iv,u.sealed]),_a)}({type:t,sealed:new ci.OK(Or(u.symKey,Pr)).seal(o,Or(u.message,ba)),iv:o,senderPublicKey:r})}({type:Xe,symKey:Oe,message:ge,senderPublicKey:xt})});return function(m,T,X){return l.apply(this,arguments)}}(),this.decode=function(){var l=O(function*(m,T,X){a.isInitialized();const Q=function Od(u,t){const r=Zs(u);return wc({type:os(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?wr(r.senderPublicKey,Pr):void 0,receiverPublicKey:t?.receiverPublicKey})}(T,X);if(Dc(Q)){const Xe=Q.receiverPublicKey,xt=Q.senderPublicKey;m=yield a.generateSharedKey(Xe,xt)}const Oe=function xd(u){const t=new ci.OK(Or(u.symKey,Pr)),{sealed:r,iv:o}=Zs(u.encoded),a=t.open(o,r);if(null===a)throw new Error("Failed to decrypt");return wr(a,ba)}({symKey:a.getSymKey(m),encoded:T});return xe(Oe)});return function(m,T,X){return l.apply(this,arguments)}}(),this.getPayloadType=l=>os(Zs(l).type),this.getPayloadSenderPublicKey=l=>{const m=Zs(l);return m.senderPublicKey?wr(m.senderPublicKey,Pr):void 0},this.core=t,this.logger=(0,B.generateChildLogger)(r,this.name),this.keychain=o||new j0(this.core,this.logger)}get context(){return(0,B.getLoggerContext)(this.logger)}setPrivateKey(t,r){var o=this;return O(function*(){return yield o.keychain.set(t,r),t})()}getPrivateKey(t){return this.keychain.get(t)}getClientSeed(){var t=this;return O(function*(){let r="";try{r=t.keychain.get(uf)}catch{r=Da(),yield t.keychain.set(uf,r)}return function f0(u,t="utf8"){const r=c0[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${u}`):globalThis.Buffer.from(u,"utf8")}(r,"base16")})()}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class B0 extends class h{constructor(t,r){this.logger=t,this.core=r}}{constructor(t,r){var o;super(t,r),o=this,this.logger=t,this.core=r,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Yn,this.init=O(function*(){if(!o.initialized){o.logger.trace("Initialized");try{const a=yield o.getRelayerMessages();typeof a<"u"&&(o.messages=a),o.logger.debug(`Successfully Restored records for ${o.name}`),o.logger.trace({type:"method",method:"restore",size:o.messages.size})}catch(a){o.logger.debug(`Failed to Restore records for ${o.name}`),o.logger.error(a)}finally{o.initialized=!0}}}),this.set=function(){var a=O(function*(l,m){o.isInitialized();const T=hi(m);let X=o.messages.get(l);return typeof X>"u"&&(X={}),typeof X[T]<"u"||(X[T]=m,o.messages.set(l,X),yield o.persist()),T});return function(l,m){return a.apply(this,arguments)}}(),this.get=a=>{this.isInitialized();let l=this.messages.get(a);return typeof l>"u"&&(l={}),l},this.has=(a,l)=>(this.isInitialized(),typeof this.get(a)[hi(l)]<"u"),this.del=function(){var a=O(function*(l){o.isInitialized(),o.messages.delete(l),yield o.persist()});return function(l){return a.apply(this,arguments)}}(),this.logger=(0,B.generateChildLogger)(t,this.name),this.core=r}get context(){return(0,B.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setRelayerMessages(t){var r=this;return O(function*(){yield r.core.storage.setItem(r.storageKey,Pc(t))})()}getRelayerMessages(){var t=this;return O(function*(){const r=yield t.core.storage.getItem(t.storageKey);return typeof r<"u"?Ac(r):void 0})()}persist(){var t=this;return O(function*(){yield t.setRelayerMessages(t.messages)})()}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class H0 extends f{constructor(t,r){var o;super(t,r),o=this,this.relayer=t,this.logger=r,this.events=new _e.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=1e4,this.publish=function(){var a=O(function*(l,m,T){o.logger.debug("Publishing Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:l,message:m,opts:T}});try{const X=T?.ttl||b0,Q=Ia(T),ge=T?.prompt||!1,Oe=T?.tag||0,Xe={topic:l,message:m,opts:{ttl:X,relay:Q,prompt:ge,tag:Oe}},xt=hi(m);o.queue.set(xt,Xe);try{yield yield Qs(o.rpcPublish(l,m,X,Q,ge,Oe),o.publishTimeout),o.relayer.events.emit("relayer_publish",Xe)}catch{return o.logger.debug("Publishing Payload stalled"),void o.relayer.events.emit("relayer_connection_stalled")}o.onPublish(xt,Xe),o.logger.debug("Successfully Published Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:l,message:m,opts:T}})}catch(X){throw o.logger.debug("Failed to Publish Payload"),o.logger.error(X),X}});return function(l,m,T){return a.apply(this,arguments)}}(),this.on=(a,l)=>{this.events.on(a,l)},this.once=(a,l)=>{this.events.once(a,l)},this.off=(a,l)=>{this.events.off(a,l)},this.removeListener=(a,l)=>{this.events.removeListener(a,l)},this.relayer=t,this.logger=(0,B.generateChildLogger)(r,this.name),this.registerEventListeners()}get context(){return(0,B.getLoggerContext)(this.logger)}rpcPublish(t,r,o,a,l,m){var T,X,Q,ge;const Oe={method:ks(a.protocol).publish,params:{topic:t,message:r,ttl:o,prompt:l,tag:m}};return Ar(null==(T=Oe.params)?void 0:T.prompt)&&(null==(X=Oe.params)||delete X.prompt),Ar(null==(Q=Oe.params)?void 0:Q.tag)&&(null==(ge=Oe.params)||delete ge.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:Oe}),this.relayer.request(Oe)}onPublish(t,r){this.queue.delete(t)}checkQueue(){var t=this;this.queue.forEach(function(){var r=O(function*(o){const{topic:a,message:l,opts:m}=o;yield t.publish(a,l,m)});return function(o){return r.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(ee.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}}class $0{constructor(){this.map=new Map,this.set=(t,r)=>{const o=this.get(t);this.exists(t,r)||this.map.set(t,[...o,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u")return void this.map.delete(t);if(!this.map.has(t))return;const o=this.get(t);if(!this.exists(t,r))return;const a=o.filter(l=>l!==r);a.length?this.map.set(t,a):this.map.delete(t)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var z0=Object.defineProperty,J0=Object.defineProperties,K0=Object.getOwnPropertyDescriptors,df=Object.getOwnPropertySymbols,V0=Object.prototype.hasOwnProperty,W0=Object.prototype.propertyIsEnumerable,pf=(u,t,r)=>t in u?z0(u,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[t]=r,hs=(u,t)=>{for(var r in t||(t={}))V0.call(t,r)&&pf(u,r,t[r]);if(df)for(var r of df(t))W0.call(t,r)&&pf(u,r,t[r]);return u},Fa=(u,t)=>J0(u,K0(t));class G0 extends b{constructor(t,r){var o;super(t,r),o=this,this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new $0,this.events=new _e.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Yn,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=O(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restart(),o.registerEventListeners(),o.onEnable(),o.clientId=yield o.relayer.core.crypto.getClientId())}),this.subscribe=function(){var a=O(function*(l,m){yield o.restartToComplete(),o.isInitialized(),o.logger.debug("Subscribing Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:l,opts:m}});try{const T=Ia(m),X={topic:l,relay:T};o.pending.set(l,X);const Q=yield o.rpcSubscribe(l,T);return o.onSubscribe(Q,X),o.logger.debug("Successfully Subscribed Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:l,opts:m}}),Q}catch(T){throw o.logger.debug("Failed to Subscribe Topic"),o.logger.error(T),T}});return function(l,m){return a.apply(this,arguments)}}(),this.unsubscribe=function(){var a=O(function*(l,m){yield o.restartToComplete(),o.isInitialized(),typeof m?.id<"u"?yield o.unsubscribeById(l,m.id,m):yield o.unsubscribeByTopic(l,m)});return function(l,m){return a.apply(this,arguments)}}(),this.isSubscribed=function(){var a=O(function*(l){return!!o.topics.includes(l)||(yield new Promise((m,T)=>{const X=new Z.Watch;X.start(o.pendingSubscriptionWatchLabel);const Q=setInterval(()=>{!o.pending.has(l)&&o.topics.includes(l)&&(clearInterval(Q),X.stop(o.pendingSubscriptionWatchLabel),m(!0)),X.elapsed(o.pendingSubscriptionWatchLabel)>=A0&&(clearInterval(Q),X.stop(o.pendingSubscriptionWatchLabel),T(!1))},o.pollingInterval)}))});return function(l){return a.apply(this,arguments)}}(),this.on=(a,l)=>{this.events.on(a,l)},this.once=(a,l)=>{this.events.once(a,l)},this.off=(a,l)=>{this.events.off(a,l)},this.removeListener=(a,l)=>{this.events.removeListener(a,l)},this.restart=O(function*(){o.restartInProgress=!0,yield o.restore(),yield o.reset(),o.restartInProgress=!1}),this.relayer=t,this.logger=(0,B.generateChildLogger)(r,this.name),this.clientId=""}get context(){return(0,B.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let o=!1;try{o=this.getSubscription(t).topic===r}catch{}return o}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}unsubscribeByTopic(t,r){var o=this;return O(function*(){const a=o.topicMap.get(t);yield Promise.all(a.map(function(){var l=O(function*(m){return yield o.unsubscribeById(t,m,r)});return function(m){return l.apply(this,arguments)}}()))})()}unsubscribeById(t,r,o){var a=this;return O(function*(){a.logger.debug("Unsubscribing Topic"),a.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:o}});try{const l=Ia(o);yield a.rpcUnsubscribe(t,r,l);const m=fr("USER_DISCONNECTED",`${a.name}, ${t}`);yield a.onUnsubscribe(t,r,m),a.logger.debug("Successfully Unsubscribed Topic"),a.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:o}})}catch(l){throw a.logger.debug("Failed to Unsubscribe Topic"),a.logger.error(l),l}})()}rpcSubscribe(t,r){var o=this;return O(function*(){const a={method:ks(r.protocol).subscribe,params:{topic:t}};o.logger.debug("Outgoing Relay Payload"),o.logger.trace({type:"payload",direction:"outgoing",request:a});try{yield yield Qs(o.relayer.request(a),o.subscribeTimeout)}catch{o.logger.debug("Outgoing Relay Subscribe Payload stalled"),o.relayer.events.emit("relayer_connection_stalled")}return hi(t+o.clientId)})()}rpcBatchSubscribe(t){var r=this;return O(function*(){if(!t.length)return;const a={method:ks(t[0].relay.protocol).batchSubscribe,params:{topics:t.map(l=>l.topic)}};r.logger.debug("Outgoing Relay Payload"),r.logger.trace({type:"payload",direction:"outgoing",request:a});try{return yield yield Qs(r.relayer.request(a),r.subscribeTimeout)}catch{r.logger.debug("Outgoing Relay Payload stalled"),r.relayer.events.emit("relayer_connection_stalled")}})()}rpcUnsubscribe(t,r,o){const a={method:ks(o.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a}),this.relayer.request(a)}onSubscribe(t,r){this.setSubscription(t,Fa(hs({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,hs({},r)),this.pending.delete(r.topic)})}onUnsubscribe(t,r,o){var a=this;return O(function*(){a.events.removeAllListeners(r),a.hasSubscription(r,t)&&a.deleteSubscription(r,o),yield a.relayer.messages.del(t)})()}setRelayerSubscriptions(t){var r=this;return O(function*(){yield r.relayer.core.storage.setItem(r.storageKey,t)})()}getRelayerSubscriptions(){var t=this;return O(function*(){return yield t.relayer.core.storage.getItem(t.storageKey)})()}setSubscription(t,r){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r))}addSubscription(t,r){this.subscriptions.set(t,hs({},r)),this.topicMap.set(r.topic,t),this.events.emit(wn_created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:o}=Ne("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(o)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const o=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(o.topic,t),this.events.emit(wn_deleted,Fa(hs({},o),{reason:r}))}persist(){var t=this;return O(function*(){yield t.setRelayerSubscriptions(t.values),t.events.emit("subscription_sync")})()}reset(){var t=this;return O(function*(){if(t.cached.length){const r=Math.ceil(t.cached.length/t.batchSubscribeTopicsLimit);for(let o=0;o<r;o++){const a=t.cached.splice(0,t.batchSubscribeTopicsLimit);yield t.batchSubscribe(a)}}t.events.emit("subscription_resubscribed")})()}restore(){var t=this;return O(function*(){try{const r=yield t.getRelayerSubscriptions();if(typeof r>"u"||!r.length)return;if(t.subscriptions.size){const{message:o}=Ne("RESTORE_WILL_OVERRIDE",t.name);throw t.logger.error(o),t.logger.error(`${t.name}: ${JSON.stringify(t.values)}`),new Error(o)}t.cached=r,t.logger.debug(`Successfully Restored subscriptions for ${t.name}`),t.logger.trace({type:"method",method:"restore",subscriptions:t.values})}catch(r){t.logger.debug(`Failed to Restore subscriptions for ${t.name}`),t.logger.error(r)}})()}batchSubscribe(t){var r=this;return O(function*(){if(!t.length)return;const o=yield r.rpcBatchSubscribe(t);Li(o)&&r.onBatchSubscribe(o.map((a,l)=>Fa(hs({},t[l]),{id:a})))})()}onConnect(){var t=this;return O(function*(){t.restartInProgress||(yield t.restart(),t.onEnable())})()}onDisconnect(){this.onDisable()}checkPending(){var t=this;return O(function*(){if(t.relayer.transportExplicitlyClosed)return;const r=[];t.pending.forEach(o=>{r.push(o)}),yield t.batchSubscribe(r)})()}registerEventListeners(){var t=this;this.relayer.core.heartbeat.on(ee.HEARTBEAT_EVENTS.pulse,O(function*(){yield t.checkPending()})),this.relayer.on("relayer_connect",O(function*(){yield t.onConnect()})),this.relayer.on("relayer_disconnect",()=>{this.onDisconnect()}),this.events.on(wn_created,function(){var r=O(function*(o){const a=wn_created;t.logger.info(`Emitting ${a}`),t.logger.debug({type:"event",event:a,data:o}),yield t.persist()});return function(o){return r.apply(this,arguments)}}()),this.events.on(wn_deleted,function(){var r=O(function*(o){const a=wn_deleted;t.logger.info(`Emitting ${a}`),t.logger.debug({type:"event",event:a,data:o}),yield t.persist()});return function(o){return r.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}restartToComplete(){var t=this;return O(function*(){t.restartInProgress&&(yield new Promise(r=>{const o=setInterval(()=>{t.restartInProgress||(clearInterval(o),r())},t.pollingInterval)}))})()}}var Y0=Object.defineProperty,gf=Object.getOwnPropertySymbols,q0=Object.prototype.hasOwnProperty,X0=Object.prototype.propertyIsEnumerable,yf=(u,t,r)=>t in u?Y0(u,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[t]=r;class Q0 extends _{constructor(t){var r;super(t),r=this,this.protocol="wc",this.version=2,this.events=new _e.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=function(){var o=O(function*(a){r.logger.debug("Publishing Request Payload");try{return yield r.toEstablishConnection(),yield r.provider.request(a)}catch(l){throw r.logger.debug("Failed to Publish Request"),r.logger.error(l),l}});return function(a){return o.apply(this,arguments)}}(),this.core=t.core,this.logger=typeof t.logger<"u"&&"string"!=typeof t.logger?(0,B.generateChildLogger)(t.logger,this.name):(0,B.pino)((0,B.getDefaultLoggerOptions)({level:t.logger||"error"})),this.messages=new B0(this.logger,t.core),this.subscriber=new G0(this,this.logger),this.publisher=new H0(this,this.logger),this.relayUrl=t?.relayUrl||ff,this.projectId=t.projectId,this.provider={}}init(){var t=this;return O(function*(){t.logger.trace("Initialized"),yield t.createProvider(),yield Promise.all([t.messages.init(),t.transportOpen(),t.subscriber.init()]),t.registerEventListeners(),t.initialized=!0})()}get context(){return(0,B.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}publish(t,r,o){var a=this;return O(function*(){a.isInitialized(),yield a.publisher.publish(t,r,o),yield a.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()})})()}subscribe(t,r){var o=this;return O(function*(){o.isInitialized();let a="";return yield Promise.all([new Promise(l=>{o.subscriber.once(wn_created,m=>{m.topic===t&&l()})}),new Promise(function(){var l=O(function*(m){a=yield o.subscriber.subscribe(t,r),m()});return function(m){return l.apply(this,arguments)}}())]),a})()}unsubscribe(t,r){var o=this;return O(function*(){o.isInitialized(),yield o.subscriber.unsubscribe(t,r)})()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}transportClose(){var t=this;return O(function*(){t.transportExplicitlyClosed=!0,t.connected&&(yield t.provider.disconnect(),t.events.emit("relayer_transport_closed"))})()}transportOpen(t){var r=this;return O(function*(){if(r.transportExplicitlyClosed=!1,!r.reconnecting){r.relayUrl=t||r.relayUrl,r.reconnecting=!0;try{yield Promise.all([new Promise(o=>{r.initialized||o(),r.subscriber.once("subscription_resubscribed",()=>{o()})}),yield Promise.race([new Promise(function(){var o=O(function*(a,l){yield Qs(r.provider.connect(),5e3,"socket stalled").catch(m=>l(m)).then(()=>a()).finally(()=>r.removeListener("relayer_transport_closed",r.rejectTransportOpen))});return function(a,l){return o.apply(this,arguments)}}()),new Promise(o=>r.once("relayer_transport_closed",r.rejectTransportOpen))])])}catch(o){if(r.logger.error(o),!r.isConnectionStalled(o.message))throw o;r.events.emit("relayer_transport_closed")}finally{r.reconnecting=!1}}})()}restartTransport(t){var r=this;return O(function*(){r.transportExplicitlyClosed||(r.relayUrl=t||r.relayUrl,yield Promise.all([new Promise(o=>{r.provider.once("disconnect",()=>{o()})}),r.transportClose()]),yield new Promise(o=>setTimeout(o,1e3)),yield r.createProvider(),yield r.transportOpen())})()}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}createProvider(){var t=this;return O(function*(){const r=yield t.core.crypto.signJWT(t.relayUrl);t.provider=new Gn(new class Bp{constructor(t){if(this.url=t,this.events=new _e.EventEmitter,this.registering=!1,!(0,qe.isWsUrl)(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}open(t=this.url){var r=this;return O(function*(){yield r.register(t)})()}close(){var t=this;return O(function*(){return new Promise((r,o)=>{typeof t.socket>"u"?o(new Error("Connection already closed")):(t.socket.onclose=a=>{t.onClose(a),r()},t.socket.close())})})()}send(t,r){var o=this;return O(function*(){typeof o.socket>"u"&&(o.socket=yield o.register());try{o.socket.send(Ce(t))}catch(a){o.onError(t.id,a)}})()}register(t=this.url){if(!(0,qe.isWsUrl)(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((o,a)=>{this.events.once("register_error",l=>{this.resetMaxListeners(),a(l)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return a(new Error("WebSocket connection is missing or invalid"));o(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,o)=>{const a=(0,qe.isReactNative)()?void 0:{rejectUnauthorized:!(0,qe.isLocalhostUrl)(t)},l=new Mp(t,[],a);typeof window<"u"?l.onerror=m=>{o(this.emitError(m.error))}:l.on("error",m=>{o(this.emitError(m))}),l.onopen=()=>{this.onOpen(l),r(l)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r="string"==typeof t.data?xe(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const o=this.parseError(r),a=o.message||o.toString(),l=(0,qe.formatJsonRpcError)(t,a);this.events.emit("payload",l)}parseError(t,r=this.url){return(0,qe.parseConnectionError)(t,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(t){const r=this.parseError(new Error((null==t?void 0:t.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",r),r}}(function Bd({protocol:u,version:t,relayUrl:r,sdkVersion:o,auth:a,projectId:l,useOnCloseEvent:m}){const T=r.split("?"),X=Md(u,t,o),ge=function Ud(u,t){let r=Ci.parse(u);return r=Oc(Oc({},r),t),Ci.stringify(r)}(T[1]||"",{auth:a,ua:X,projectId:l,useOnCloseEvent:m||void 0});return T[0]+"?"+ge}({sdkVersion:"2.7.0",protocol:t.protocol,version:t.version,relayUrl:t.relayUrl,projectId:t.projectId,auth:r,useOnCloseEvent:!0}))),t.registerProviderListeners()})()}recordMessageEvent(t){var r=this;return O(function*(){const{topic:o,message:a}=t;yield r.messages.set(o,a)})()}shouldIgnoreMessageEvent(t){var r=this;return O(function*(){const{topic:o,message:a}=t;return!(yield r.subscriber.isSubscribed(o))||r.messages.has(o,a)})()}onProviderPayload(t){var r=this;return O(function*(){if(r.logger.debug("Incoming Relay Payload"),r.logger.trace({type:"payload",direction:"incoming",payload:t}),(0,qe.isJsonRpcRequest)(t)){if(!t.method.endsWith("_subscription"))return;const o=t.params,{topic:a,message:l,publishedAt:m}=o.data,T={topic:a,message:l,publishedAt:m};r.logger.debug("Emitting Relayer Payload"),r.logger.trace(((u,t)=>{for(var r in t||(t={}))q0.call(t,r)&&yf(u,r,t[r]);if(gf)for(var r of gf(t))X0.call(t,r)&&yf(u,r,t[r]);return u})({type:"event",event:o.id},T)),r.events.emit(o.id,T),yield r.acknowledgePayload(t),yield r.onMessageEvent(T)}})()}onMessageEvent(t){var r=this;return O(function*(){(yield r.shouldIgnoreMessageEvent(t))||(r.events.emit("relayer_message",t),yield r.recordMessageEvent(t))})()}acknowledgePayload(t){var r=this;return O(function*(){const o=(0,qe.formatJsonRpcResult)(t.id,!0);yield r.provider.connection.send(o)})()}registerProviderListeners(){this.provider.on("payload",t=>this.onProviderPayload(t)),this.provider.on("connect",()=>{this.events.emit("relayer_connect")}),this.provider.on("disconnect",()=>{this.onProviderDisconnect()}),this.provider.on("error",t=>{this.logger.error(t),this.events.emit("relayer_error",t)})}registerEventListeners(){var t=this;this.events.on("relayer_connection_stalled",O(function*(){yield t.restartTransport()}))}onProviderDisconnect(){this.events.emit("relayer_disconnect"),this.attemptToReconnect()}attemptToReconnect(){var t=this;this.transportExplicitlyClosed||setTimeout(O(function*(){yield t.restartTransport()}),(0,Z.toMiliseconds)(S0))}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}toEstablishConnection(){var t=this;return O(function*(){if(!t.connected){if(t.connecting)return yield new Promise(r=>{const o=setInterval(()=>{t.connected&&(clearInterval(o),r())},t.connectionStatusPollingInterval)});yield t.restartTransport()}})()}}var k0=Object.defineProperty,vf=Object.getOwnPropertySymbols,ey=Object.prototype.hasOwnProperty,ty=Object.prototype.propertyIsEnumerable,mf=(u,t,r)=>t in u?k0(u,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[t]=r,_f=(u,t)=>{for(var r in t||(t={}))ey.call(t,r)&&mf(u,r,t[r]);if(vf)for(var r of vf(t))ty.call(t,r)&&mf(u,r,t[r]);return u};class ro extends class v{constructor(t,r,o,a){this.core=t,this.logger=r,this.name=o}}{constructor(t,r,o,a=Yn,l){var m;super(t,r,o,a),m=this,this.core=t,this.logger=r,this.name=o,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Yn,this.init=O(function*(){m.initialized||(m.logger.trace("Initialized"),yield m.restore(),m.cached.forEach(T=>{m.getKey&&null!==T&&!Ar(T)?m.map.set(m.getKey(T),T):function yp(u){var t;return null==(t=u?.proposer)?void 0:t.publicKey}(T)?m.map.set(T.id,T):function vp(u){return u?.topic}(T)&&m.map.set(T.topic,T)}),m.cached=[],m.initialized=!0)}),this.set=function(){var T=O(function*(X,Q){m.isInitialized(),m.map.has(X)?yield m.update(X,Q):(m.logger.debug("Setting value"),m.logger.trace({type:"method",method:"set",key:X,value:Q}),m.map.set(X,Q),yield m.persist())});return function(X,Q){return T.apply(this,arguments)}}(),this.get=T=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:T}),this.getData(T)),this.getAll=T=>(this.isInitialized(),T?this.values.filter(X=>Object.keys(T).every(Q=>zp()(X[Q],T[Q]))):this.values),this.update=function(){var T=O(function*(X,Q){m.isInitialized(),m.logger.debug("Updating value"),m.logger.trace({type:"method",method:"update",key:X,update:Q});const ge=_f(_f({},m.getData(X)),Q);m.map.set(X,ge),yield m.persist()});return function(X,Q){return T.apply(this,arguments)}}(),this.delete=function(){var T=O(function*(X,Q){m.isInitialized(),m.map.has(X)&&(m.logger.debug("Deleting value"),m.logger.trace({type:"method",method:"delete",key:X,reason:Q}),m.map.delete(X),yield m.persist())});return function(X,Q){return T.apply(this,arguments)}}(),this.logger=(0,B.generateChildLogger)(r,this.name),this.storagePrefix=a,this.getKey=l}get context(){return(0,B.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}setDataStore(t){var r=this;return O(function*(){yield r.core.storage.setItem(r.storageKey,t)})()}getDataStore(){var t=this;return O(function*(){return yield t.core.storage.getItem(t.storageKey)})()}getData(t){const r=this.map.get(t);if(!r){const{message:o}=Ne("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(o),new Error(o)}return r}persist(){var t=this;return O(function*(){yield t.setDataStore(t.values)})()}restore(){var t=this;return O(function*(){try{const r=yield t.getDataStore();if(typeof r>"u"||!r.length)return;if(t.map.size){const{message:o}=Ne("RESTORE_WILL_OVERRIDE",t.name);throw t.logger.error(o),new Error(o)}t.cached=r,t.logger.debug(`Successfully Restored value for ${t.name}`),t.logger.trace({type:"method",method:"restore",value:t.values})}catch(r){t.logger.debug(`Failed to Restore value for ${t.name}`),t.logger.error(r)}})()}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class ry{constructor(t,r){var o=this;this.core=t,this.logger=r,this.name="pairing",this.version="0.3",this.events=new(De()),this.initialized=!1,this.storagePrefix=Yn,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=O(function*(){o.initialized||(yield o.pairings.init(),yield o.cleanup(),o.registerRelayerEvents(),o.registerExpirerEvents(),o.initialized=!0,o.logger.trace("Initialized"))}),this.register=({methods:a})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...a])]},this.create=O(function*(){o.isInitialized();const a=Da(),l=yield o.core.crypto.setSymKey(a),m=pn(Z.FIVE_MINUTES),T={protocol:"irn"},X={topic:l,expiry:m,relay:T,active:!1},Q=function kd(u){return`${u.protocol}:${u.topic}@${u.version}?`+Ci.stringify(((u,t)=>{for(var r in t||(t={}))Gd.call(t,r)&&Uc(u,r,t[r]);if(Nc)for(var r of Nc(t))Yd.call(t,r)&&Uc(u,r,t[r]);return u})({symKey:u.symKey},function Qd(u,t="-"){const o={};return Object.keys(u).forEach(a=>{u[a]&&(o["relay"+t+a]=u[a])}),o}(u.relay)))}({protocol:o.core.protocol,version:o.core.version,topic:l,symKey:a,relay:T});return yield o.pairings.set(l,X),yield o.core.relayer.subscribe(l),o.core.expirer.set(l,m),{topic:l,uri:Q}}),this.pair=function(){var a=O(function*(l){o.isInitialized(),o.isValidPair(l);const{topic:m,symKey:T,relay:X}=function Zd(u){const t=u.indexOf(":"),r=-1!==u.indexOf("?")?u.indexOf("?"):void 0,o=u.substring(0,t),a=u.substring(t+1,r).split("@"),l=typeof r<"u"?u.substring(r):"",m=Ci.parse(l);return{protocol:o,topic:a[0],version:parseInt(a[1],10),symKey:m.symKey,relay:Xd(m)}}(l.uri);if(o.pairings.keys.includes(m))throw new Error(`Pairing already exists: ${m}`);if(o.core.crypto.hasKeys(m))throw new Error(`Keychain already exists: ${m}`);const Q=pn(Z.FIVE_MINUTES),ge={topic:m,relay:X,expiry:Q,active:!1};return yield o.pairings.set(m,ge),yield o.core.crypto.setSymKey(T,m),yield o.core.relayer.subscribe(m,{relay:X}),o.core.expirer.set(m,Q),l.activatePairing&&(yield o.activate({topic:m})),ge});return function(l){return a.apply(this,arguments)}}(),this.activate=function(){var a=O(function*({topic:l}){o.isInitialized();const m=pn(Z.THIRTY_DAYS);yield o.pairings.update(l,{active:!0,expiry:m}),o.core.expirer.set(l,m)});return function(l){return a.apply(this,arguments)}}(),this.ping=function(){var a=O(function*(l){o.isInitialized(),yield o.isValidPing(l);const{topic:m}=l;if(o.pairings.keys.includes(m)){const T=yield o.sendRequest(m,"wc_pairingPing",{}),{done:X,resolve:Q,reject:ge}=Ni();o.events.once(cr("pairing_ping",T),({error:Oe})=>{Oe?ge(Oe):Q()}),yield X()}});return function(l){return a.apply(this,arguments)}}(),this.updateExpiry=function(){var a=O(function*({topic:l,expiry:m}){o.isInitialized(),yield o.pairings.update(l,{expiry:m})});return function(l){return a.apply(this,arguments)}}(),this.updateMetadata=function(){var a=O(function*({topic:l,metadata:m}){o.isInitialized(),yield o.pairings.update(l,{peerMetadata:m})});return function(l){return a.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var a=O(function*(l){o.isInitialized(),yield o.isValidDisconnect(l);const{topic:m}=l;o.pairings.keys.includes(m)&&(yield o.sendRequest(m,"wc_pairingDelete",fr("USER_DISCONNECTED")),yield o.deletePairing(m))});return function(l){return a.apply(this,arguments)}}(),this.sendRequest=function(){var a=O(function*(l,m,T){const X=(0,qe.formatJsonRpcRequest)(m,T),Q=yield o.core.crypto.encode(l,X),ge=ls[m].req;return o.core.history.set(l,X),yield o.core.relayer.publish(l,Q,ge),X.id});return function(l,m,T){return a.apply(this,arguments)}}(),this.sendResult=function(){var a=O(function*(l,m,T){const X=(0,qe.formatJsonRpcResult)(l,T),Q=yield o.core.crypto.encode(m,X),ge=yield o.core.history.get(m,l),Oe=ls[ge.request.method].res;yield o.core.relayer.publish(m,Q,Oe),yield o.core.history.resolve(X)});return function(l,m,T){return a.apply(this,arguments)}}(),this.sendError=function(){var a=O(function*(l,m,T){const X=(0,qe.formatJsonRpcError)(l,T),Q=yield o.core.crypto.encode(m,X),ge=yield o.core.history.get(m,l),Oe=ls[ge.request.method]?ls[ge.request.method].res:ls.unregistered_method.res;yield o.core.relayer.publish(m,Q,Oe),yield o.core.history.resolve(X)});return function(l,m,T){return a.apply(this,arguments)}}(),this.deletePairing=function(){var a=O(function*(l,m){yield o.core.relayer.unsubscribe(l),yield Promise.all([o.pairings.delete(l,fr("USER_DISCONNECTED")),o.core.crypto.deleteSymKey(l),m?Promise.resolve():o.core.expirer.del(l)])});return function(l,m){return a.apply(this,arguments)}}(),this.cleanup=O(function*(){const a=o.pairings.getAll().filter(l=>Wn(l.expiry));yield Promise.all(a.map(l=>o.deletePairing(l.topic)))}),this.onRelayEventRequest=a=>{const{topic:l,payload:m}=a,T=m.method;if(this.pairings.keys.includes(l))switch(T){case"wc_pairingPing":return this.onPairingPingRequest(l,m);case"wc_pairingDelete":return this.onPairingDeleteRequest(l,m);default:return this.onUnknownRpcMethodRequest(l,m)}},this.onRelayEventResponse=function(){var a=O(function*(l){const{topic:m,payload:T}=l,X=(yield o.core.history.get(m,T.id)).request.method;if(o.pairings.keys.includes(m))return"wc_pairingPing"===X?o.onPairingPingResponse(m,T):o.onUnknownRpcMethodResponse(X)});return function(l){return a.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var a=O(function*(l,m){const{id:T}=m;try{o.isValidPing({topic:l}),yield o.sendResult(T,l,!0),o.events.emit("pairing_ping",{id:T,topic:l})}catch(X){yield o.sendError(T,l,X),o.logger.error(X)}});return function(l,m){return a.apply(this,arguments)}}(),this.onPairingPingResponse=(a,l)=>{const{id:m}=l;setTimeout(()=>{(0,qe.isJsonRpcResult)(l)?this.events.emit(cr("pairing_ping",m),{}):(0,qe.isJsonRpcError)(l)&&this.events.emit(cr("pairing_ping",m),{error:l.error})},500)},this.onPairingDeleteRequest=function(){var a=O(function*(l,m){const{id:T}=m;try{o.isValidDisconnect({topic:l}),yield o.deletePairing(l),o.events.emit("pairing_delete",{id:T,topic:l})}catch(X){yield o.sendError(T,l,X),o.logger.error(X)}});return function(l,m){return a.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var a=O(function*(l,m){const{id:T,method:X}=m;try{if(o.registeredMethods.includes(X))return;const Q=fr("WC_METHOD_UNSUPPORTED",X);yield o.sendError(T,l,Q),o.logger.error(Q)}catch(Q){yield o.sendError(T,l,Q),o.logger.error(Q)}});return function(l,m){return a.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=a=>{this.registeredMethods.includes(a)||this.logger.error(fr("WC_METHOD_UNSUPPORTED",a))},this.isValidPair=a=>{if(!Lr(a)){const{message:l}=Ne("MISSING_OR_INVALID",`pair() params: ${a}`);throw new Error(l)}if(!function gp(u){if(vr(u,!1))try{return typeof new URL(u)<"u"}catch{return!1}return!1}(a.uri)){const{message:l}=Ne("MISSING_OR_INVALID",`pair() uri: ${a.uri}`);throw new Error(l)}},this.isValidPing=function(){var a=O(function*(l){if(!Lr(l)){const{message:T}=Ne("MISSING_OR_INVALID",`ping() params: ${l}`);throw new Error(T)}const{topic:m}=l;yield o.isValidPairingTopic(m)});return function(l){return a.apply(this,arguments)}}(),this.isValidDisconnect=function(){var a=O(function*(l){if(!Lr(l)){const{message:T}=Ne("MISSING_OR_INVALID",`disconnect() params: ${l}`);throw new Error(T)}const{topic:m}=l;yield o.isValidPairingTopic(m)});return function(l){return a.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var a=O(function*(l){if(!vr(l,!1)){const{message:m}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${l}`);throw new Error(m)}if(!o.pairings.keys.includes(l)){const{message:m}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${l}`);throw new Error(m)}if(Wn(o.pairings.get(l).expiry)){yield o.deletePairing(l);const{message:m}=Ne("EXPIRED",`pairing topic: ${l}`);throw new Error(m)}});return function(l){return a.apply(this,arguments)}}(),this.core=t,this.logger=(0,B.generateChildLogger)(r,this.name),this.pairings=new ro(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,B.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){var t=this;this.core.relayer.on("relayer_message",function(){var r=O(function*(o){const{topic:a,message:l}=o;if(t.ignoredPayloadTypes.includes(t.core.crypto.getPayloadType(l)))return;const m=yield t.core.crypto.decode(a,l);(0,qe.isJsonRpcRequest)(m)?(t.core.history.set(a,m),t.onRelayEventRequest({topic:a,payload:m})):(0,qe.isJsonRpcResponse)(m)&&(yield t.core.history.resolve(m),t.onRelayEventResponse({topic:a,payload:m}))});return function(o){return r.apply(this,arguments)}}())}registerExpirerEvents(){var t=this;this.core.expirer.on(Zr_expired,function(){var r=O(function*(o){const{topic:a}=Tc(o.target);a&&t.pairings.keys.includes(a)&&(yield t.deletePairing(a,!0),t.events.emit("pairing_expire",{topic:a}))});return function(o){return r.apply(this,arguments)}}())}}class ny extends U{constructor(t,r){var o;super(t,r),o=this,this.core=t,this.logger=r,this.records=new Map,this.events=new _e.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Yn,this.init=O(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restore(),o.cached.forEach(a=>o.records.set(a.id,a)),o.cached=[],o.registerEventListeners(),o.initialized=!0)}),this.set=(a,l,m)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:a,request:l,chainId:m}),this.records.has(l.id))return;const T={id:l.id,topic:a,request:{method:l.method,params:l.params||null},chainId:m};this.records.set(T.id,T),this.events.emit("history_created",T)},this.resolve=function(){var a=O(function*(l){if(o.isInitialized(),o.logger.debug("Updating JSON-RPC response history record"),o.logger.trace({type:"method",method:"update",response:l}),!o.records.has(l.id))return;const m=yield o.getRecord(l.id);typeof m.response>"u"&&(m.response=(0,qe.isJsonRpcError)(l)?{error:l.error}:{result:l.result},o.records.set(m.id,m),o.events.emit("history_updated",m))});return function(l){return a.apply(this,arguments)}}(),this.get=function(){var a=O(function*(l,m){return o.isInitialized(),o.logger.debug("Getting record"),o.logger.trace({type:"method",method:"get",topic:l,id:m}),yield o.getRecord(m)});return function(l,m){return a.apply(this,arguments)}}(),this.delete=(a,l)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:l}),this.values.forEach(m=>{if(m.topic===a){if(typeof l<"u"&&m.id!==l)return;this.records.delete(m.id),this.events.emit("history_deleted",m)}})},this.exists=function(){var a=O(function*(l,m){return o.isInitialized(),!!o.records.has(m)&&(yield o.getRecord(m)).topic===l});return function(l,m){return a.apply(this,arguments)}}(),this.on=(a,l)=>{this.events.on(a,l)},this.once=(a,l)=>{this.events.once(a,l)},this.off=(a,l)=>{this.events.off(a,l)},this.removeListener=(a,l)=>{this.events.removeListener(a,l)},this.logger=(0,B.generateChildLogger)(r,this.name)}get context(){return(0,B.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const o={topic:r.topic,request:(0,qe.formatJsonRpcRequest)(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(o)}),t}setJsonRpcRecords(t){var r=this;return O(function*(){yield r.core.storage.setItem(r.storageKey,t)})()}getJsonRpcRecords(){var t=this;return O(function*(){return yield t.core.storage.getItem(t.storageKey)})()}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:o}=Ne("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(o)}return r}persist(){var t=this;return O(function*(){yield t.setJsonRpcRecords(t.values),t.events.emit("history_sync")})()}restore(){var t=this;return O(function*(){try{const r=yield t.getJsonRpcRecords();if(typeof r>"u"||!r.length)return;if(t.records.size){const{message:o}=Ne("RESTORE_WILL_OVERRIDE",t.name);throw t.logger.error(o),new Error(o)}t.cached=r,t.logger.debug(`Successfully Restored records for ${t.name}`),t.logger.trace({type:"method",method:"restore",records:t.values})}catch(r){t.logger.debug(`Failed to Restore records for ${t.name}`),t.logger.error(r)}})()}registerEventListeners(){this.events.on("history_created",t=>{const r="history_created";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on("history_updated",t=>{const r="history_updated";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on("history_deleted",t=>{const r="history_deleted";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class iy extends x{constructor(t,r){var o;super(t,r),o=this,this.core=t,this.logger=r,this.expirations=new Map,this.events=new _e.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Yn,this.init=O(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restore(),o.cached.forEach(a=>o.expirations.set(a.target,a)),o.cached=[],o.registerEventListeners(),o.initialized=!0)}),this.has=a=>{try{const l=this.formatTarget(a);return typeof this.getExpiration(l)<"u"}catch{return!1}},this.set=(a,l)=>{this.isInitialized();const m=this.formatTarget(a),T={target:m,expiry:l};this.expirations.set(m,T),this.checkExpiry(m,T),this.events.emit("expirer_created",{target:m,expiration:T})},this.get=a=>{this.isInitialized();const l=this.formatTarget(a);return this.getExpiration(l)},this.del=a=>{if(this.isInitialized(),this.has(a)){const l=this.formatTarget(a),m=this.getExpiration(l);this.expirations.delete(l),this.events.emit("expirer_deleted",{target:l,expiration:m})}},this.on=(a,l)=>{this.events.on(a,l)},this.once=(a,l)=>{this.events.once(a,l)},this.off=(a,l)=>{this.events.off(a,l)},this.removeListener=(a,l)=>{this.events.removeListener(a,l)},this.logger=(0,B.generateChildLogger)(r,this.name)}get context(){return(0,B.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if("string"==typeof t)return function Jd(u){return Cc("topic",u)}(t);if("number"==typeof t)return function Kd(u){return Cc("id",u)}(t);const{message:r}=Ne("UNKNOWN_TYPE","Target type: "+typeof t);throw new Error(r)}setExpirations(t){var r=this;return O(function*(){yield r.core.storage.setItem(r.storageKey,t)})()}getExpirations(){var t=this;return O(function*(){return yield t.core.storage.getItem(t.storageKey)})()}persist(){var t=this;return O(function*(){yield t.setExpirations(t.values),t.events.emit("expirer_sync")})()}restore(){var t=this;return O(function*(){try{const r=yield t.getExpirations();if(typeof r>"u"||!r.length)return;if(t.expirations.size){const{message:o}=Ne("RESTORE_WILL_OVERRIDE",t.name);throw t.logger.error(o),new Error(o)}t.cached=r,t.logger.debug(`Successfully Restored expirations for ${t.name}`),t.logger.trace({type:"method",method:"restore",expirations:t.values})}catch(r){t.logger.debug(`Failed to Restore expirations for ${t.name}`),t.logger.error(r)}})()}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:o}=Ne("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(o),new Error(o)}return r}checkExpiry(t,r){const{expiry:o}=r;(0,Z.toMiliseconds)(o)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(Zr_expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(ee.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on("expirer_created",t=>{const r="expirer_created";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Zr_expired,t=>{const r=Zr_expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on("expirer_deleted",t=>{const r="expirer_deleted";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}}class sy extends class N{constructor(t,r){this.projectId=t,this.logger=r}}{constructor(t,r){var o;super(t,r),o=this,this.projectId=t,this.logger=r,this.name=lf,this.initialized=!1,this.init=function(){var a=O(function*(l){!Oa()||!document||(o.verifyUrl=l?.verifyUrl||hf,yield o.createIframe())});return function(l){return a.apply(this,arguments)}}(),this.register=function(){var a=O(function*(l){var m;o.initialized||(yield o.init()),o.iframe&&(null==(m=o.iframe.contentWindow)||m.postMessage(l.attestationId,o.verifyUrl),o.logger.info(`postMessage sent: ${l.attestationId} ${o.verifyUrl}`))});return function(l){return a.apply(this,arguments)}}(),this.resolve=function(){var a=O(function*(l){var m;if(o.isDevEnv)return"";o.logger.info(`resolving attestation: ${l.attestationId}`);const T=o.startAbortTimer(Z.FIVE_SECONDS),X=yield fetch(`${o.verifyUrl}/attestation/${l.attestationId}`,{signal:o.abortController.signal});return clearTimeout(T),(null==(m=yield X.json())?void 0:m.origin)||""});return function(l){return a.apply(this,arguments)}}(),this.createIframe=O(function*(){try{const a=o.startAbortTimer(Z.FIVE_SECONDS);yield Promise.race([new Promise((l,m)=>{const T=document.createElement("iframe");T.setAttribute("id",lf),T.setAttribute("src",`${o.verifyUrl}/${o.projectId}`),T.style.display="none",T.addEventListener("load",()=>{o.initialized=!0,clearTimeout(a),l()}),T.addEventListener("error",X=>{m(X)}),document.body.append(T),o.iframe=T}),new Promise(l=>{o.abortController.signal.addEventListener("abort",()=>{l("iframe load timeout")})})])}catch(a){o.logger.error(`Verify iframe failed to load: ${o.verifyUrl}`),o.logger.error(a)}}),this.logger=(0,B.generateChildLogger)(r,this.name),this.verifyUrl=hf,this.abortController=new AbortController,this.isDevEnv=Sa()&&process.env.IS_VITEST}get context(){return(0,B.getLoggerContext)(this.logger)}startAbortTimer(t){return setTimeout(()=>this.abortController.abort(),pn(t))}}var oy=Object.defineProperty,bf=Object.getOwnPropertySymbols,ay=Object.prototype.hasOwnProperty,uy=Object.prototype.propertyIsEnumerable,Ef=(u,t,r)=>t in u?oy(u,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[t]=r,wf=(u,t)=>{for(var r in t||(t={}))ay.call(t,r)&&Ef(u,r,t[r]);if(bf)for(var r of bf(t))uy.call(t,r)&&Ef(u,r,t[r]);return u};class ja extends F{constructor(t){super(t),this.protocol="wc",this.version=2,this.name="core",this.events=new _e.EventEmitter,this.initialized=!1,this.on=(o,a)=>this.events.on(o,a),this.once=(o,a)=>this.events.once(o,a),this.off=(o,a)=>this.events.off(o,a),this.removeListener=(o,a)=>this.events.removeListener(o,a),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||ff;const r=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,B.pino)((0,B.getDefaultLoggerOptions)({level:t?.logger||"error"}));this.logger=(0,B.generateChildLogger)(r,this.name),this.heartbeat=new ee.HeartBeat,this.crypto=new M0(this,this.logger,t?.keychain),this.history=new ny(this,this.logger),this.expirer=new iy(this,this.logger),this.storage=null!=t&&t.storage?t.storage:new we.ZP(wf(wf({},d0),t?.storageOptions)),this.relayer=new Q0({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ry(this,this.logger),this.verify=new sy(this.projectId||"",this.logger)}static init(t){return O(function*(){const r=new ja(t);return yield r.initialize(),r})()}get context(){return(0,B.getLoggerContext)(this.logger)}start(){var t=this;return O(function*(){t.initialized||(yield t.initialize())})()}initialize(){var t=this;return O(function*(){t.logger.trace("Initialized");try{yield t.crypto.init(),yield t.history.init(),yield t.expirer.init(),yield t.relayer.init(),yield t.heartbeat.init(),yield t.pairing.init(),t.initialized=!0,t.logger.info("Core Initialization Success")}catch(r){throw t.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,r),t.logger.error(r.message),r}})()}}const cy=ja,Ma="wc@2:client:",Of="Proposal expired",no=Z.SEVEN_DAYS,ds={wc_sessionPropose:{req:{ttl:Z.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Z.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Z.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Z.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Z.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Z.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Z.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Z.THIRTY_SECONDS,prompt:!1,tag:1115}}},Ha={min:Z.FIVE_MINUTES,max:Z.SEVEN_DAYS},py=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var gy=Object.defineProperty,yy=Object.defineProperties,vy=Object.getOwnPropertyDescriptors,If=Object.getOwnPropertySymbols,my=Object.prototype.hasOwnProperty,_y=Object.prototype.propertyIsEnumerable,Rf=(u,t,r)=>t in u?gy(u,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[t]=r,Qr=(u,t)=>{for(var r in t||(t={}))my.call(t,r)&&Rf(u,r,t[r]);if(If)for(var r of If(t))_y.call(t,r)&&Rf(u,r,t[r]);return u},$a=(u,t)=>yy(u,vy(t));class by extends class G{constructor(t){this.client=t}}{constructor(t){var r;super(t),r=this,this.name="engine",this.events=new(De()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.init=O(function*(){r.initialized||(yield r.cleanup(),r.registerRelayerEvents(),r.registerExpirerEvents(),r.client.core.pairing.register({methods:Object.keys(ds)}),r.initialized=!0)}),this.connect=function(){var o=O(function*(a){r.isInitialized();const l=$a(Qr({},a),{requiredNamespaces:a.requiredNamespaces||{},optionalNamespaces:a.optionalNamespaces||{}});yield r.isValidConnect(l);const{pairingTopic:m,requiredNamespaces:T,optionalNamespaces:X,sessionProperties:Q,relays:ge}=l;let Xe,Oe=m,xt=!1;if(Oe&&(xt=r.client.core.pairing.pairings.get(Oe).active),!Oe||!xt){const{topic:vt,uri:Ut}=yield r.client.core.pairing.create();Oe=vt,Xe=Ut}const Be=yield r.client.core.crypto.generateKeyPair(),tt=Qr({requiredNamespaces:T,optionalNamespaces:X,relays:ge??[{protocol:"irn"}],proposer:{publicKey:Be,metadata:r.client.metadata}},Q&&{sessionProperties:Q}),{reject:Qe,resolve:Nt,done:dr}=Ni(Z.FIVE_MINUTES,Of);if(r.events.once(cr("session_connect"),function(){var vt=O(function*({error:Ut,session:Ot}){if(Ut)Qe(Ut);else if(Ot){Ot.self.publicKey=Be;const _r=$a(Qr({},Ot),{requiredNamespaces:Ot.requiredNamespaces,optionalNamespaces:Ot.optionalNamespaces});yield r.client.session.set(Ot.topic,_r),yield r.setExpiry(Ot.topic,Ot.expiry),Oe&&(yield r.client.core.pairing.updateMetadata({topic:Oe,metadata:Ot.peer.metadata})),Nt(_r)}});return function(Ut){return vt.apply(this,arguments)}}()),!Oe){const{message:vt}=Ne("NO_MATCHING_KEY",`connect() pairing topic: ${Oe}`);throw new Error(vt)}const Ct=yield r.sendRequest(Oe,"wc_sessionPropose",tt),Pt=pn(Z.FIVE_MINUTES);return yield r.setProposal(Ct,Qr({id:Ct,expiry:Pt},tt)),{uri:Xe,approval:dr}});return function(a){return o.apply(this,arguments)}}(),this.pair=function(){var o=O(function*(a){return r.isInitialized(),yield r.client.core.pairing.pair(a)});return function(a){return o.apply(this,arguments)}}(),this.approve=function(){var o=O(function*(a){r.isInitialized(),yield r.isValidApprove(a);const{id:l,relayProtocol:m,namespaces:T,sessionProperties:X}=a,Q=r.client.proposal.get(l);let{pairingTopic:ge,proposer:Oe,requiredNamespaces:Xe,optionalNamespaces:xt}=Q;ge=ge||"",pi(Xe)||(Xe=function fp(u,t){const r=eo(u,t);if(r)throw new Error(r.message);const o={};for(const[a,l]of Object.entries(u))o[a]={methods:l.methods,events:l.events,chains:l.accounts.map(m=>`${m.split(":")[0]}:${m.split(":")[1]}`)};return o}(T,"approve()"));const Be=yield r.client.core.crypto.generateKeyPair(),tt=Oe.publicKey,Qe=yield r.client.core.crypto.generateSharedKey(Be,tt);ge&&l&&(yield r.client.core.pairing.updateMetadata({topic:ge,metadata:Oe.metadata}),yield r.sendResult(l,ge,{relay:{protocol:m??"irn"},responderPublicKey:Be}),yield r.client.proposal.delete(l,fr("USER_DISCONNECTED")),yield r.client.core.pairing.activate({topic:ge}));const Nt=Qr({relay:{protocol:m??"irn"},namespaces:T,requiredNamespaces:Xe,optionalNamespaces:xt,pairingTopic:ge,controller:{publicKey:Be,metadata:r.client.metadata},expiry:pn(no)},X&&{sessionProperties:X});yield r.client.core.relayer.subscribe(Qe),yield r.sendRequest(Qe,"wc_sessionSettle",Nt);const dr=$a(Qr({},Nt),{topic:Qe,pairingTopic:ge,acknowledged:!1,self:Nt.controller,peer:{publicKey:Oe.publicKey,metadata:Oe.metadata},controller:Be});return yield r.client.session.set(Qe,dr),yield r.setExpiry(Qe,pn(no)),{topic:Qe,acknowledged:()=>new Promise(Ct=>Ct(r.client.session.get(Qe)))}});return function(a){return o.apply(this,arguments)}}(),this.reject=function(){var o=O(function*(a){r.isInitialized(),yield r.isValidReject(a);const{id:l,reason:m}=a,{pairingTopic:T}=r.client.proposal.get(l);T&&(yield r.sendError(l,T,m),yield r.client.proposal.delete(l,fr("USER_DISCONNECTED")))});return function(a){return o.apply(this,arguments)}}(),this.update=function(){var o=O(function*(a){r.isInitialized(),yield r.isValidUpdate(a);const{topic:l,namespaces:m}=a,T=yield r.sendRequest(l,"wc_sessionUpdate",{namespaces:m}),{done:X,resolve:Q,reject:ge}=Ni();return r.events.once(cr("session_update",T),({error:Oe})=>{Oe?ge(Oe):Q()}),yield r.client.session.update(l,{namespaces:m}),{acknowledged:X}});return function(a){return o.apply(this,arguments)}}(),this.extend=function(){var o=O(function*(a){r.isInitialized(),yield r.isValidExtend(a);const{topic:l}=a,m=yield r.sendRequest(l,"wc_sessionExtend",{}),{done:T,resolve:X,reject:Q}=Ni();return r.events.once(cr("session_extend",m),({error:ge})=>{ge?Q(ge):X()}),yield r.setExpiry(l,pn(no)),{acknowledged:T}});return function(a){return o.apply(this,arguments)}}(),this.request=function(){var o=O(function*(a){r.isInitialized(),yield r.isValidRequest(a);const{chainId:l,request:m,topic:T,expiry:X}=a,Q=yield r.sendRequest(T,"wc_sessionRequest",{request:m,chainId:l},X),{done:ge,resolve:Oe,reject:Xe}=Ni(X);return r.events.once(cr("session_request",Q),({error:xt,result:Be})=>{xt?Xe(xt):Oe(Be)}),r.client.events.emit("session_request_sent",{topic:T,request:m,chainId:l,id:Q}),yield ge()});return function(a){return o.apply(this,arguments)}}(),this.respond=function(){var o=O(function*(a){r.isInitialized(),yield r.isValidRespond(a);const{topic:l,response:m}=a,{id:T}=m;(0,qe.isJsonRpcResult)(m)?yield r.sendResult(T,l,m.result):(0,qe.isJsonRpcError)(m)&&(yield r.sendError(T,l,m.error)),r.deletePendingSessionRequest(a.response.id,{message:"fulfilled",code:0})});return function(a){return o.apply(this,arguments)}}(),this.ping=function(){var o=O(function*(a){r.isInitialized(),yield r.isValidPing(a);const{topic:l}=a;if(r.client.session.keys.includes(l)){const m=yield r.sendRequest(l,"wc_sessionPing",{}),{done:T,resolve:X,reject:Q}=Ni();r.events.once(cr("session_ping",m),({error:ge})=>{ge?Q(ge):X()}),yield T()}else r.client.core.pairing.pairings.keys.includes(l)&&(yield r.client.core.pairing.ping({topic:l}))});return function(a){return o.apply(this,arguments)}}(),this.emit=function(){var o=O(function*(a){r.isInitialized(),yield r.isValidEmit(a);const{topic:l,event:m,chainId:T}=a;yield r.sendRequest(l,"wc_sessionEvent",{event:m,chainId:T})});return function(a){return o.apply(this,arguments)}}(),this.disconnect=function(){var o=O(function*(a){r.isInitialized(),yield r.isValidDisconnect(a);const{topic:l}=a;r.client.session.keys.includes(l)?(yield r.sendRequest(l,"wc_sessionDelete",fr("USER_DISCONNECTED")),yield r.deleteSession(l)):yield r.client.core.pairing.disconnect({topic:l})});return function(a){return o.apply(this,arguments)}}(),this.find=o=>(this.isInitialized(),this.client.session.getAll().filter(a=>function dp(u,t){const{requiredNamespaces:r}=t,o=Object.keys(u.namespaces),a=Object.keys(r);let l=!0;return!!di(a,o)&&(o.forEach(m=>{const{accounts:T,methods:X,events:Q}=u.namespaces[m],ge=Ui(T),Oe=r[m];di(zr(m,Oe),ge)&&di(Oe.methods,X)&&di(Oe.events,Q)||(l=!1)}),l)}(a,o))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=function(){var o=O(function*(a,l){const{self:m}=r.client.session.get(a);yield r.client.core.relayer.unsubscribe(a),yield Promise.all([r.client.session.delete(a,fr("USER_DISCONNECTED")),r.client.core.crypto.deleteKeyPair(m.publicKey),r.client.core.crypto.deleteSymKey(a),l?Promise.resolve():r.client.core.expirer.del(a)])});return function(a,l){return o.apply(this,arguments)}}(),this.deleteProposal=function(){var o=O(function*(a,l){yield Promise.all([r.client.proposal.delete(a,fr("USER_DISCONNECTED")),l?Promise.resolve():r.client.core.expirer.del(a)])});return function(a,l){return o.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var o=O(function*(a,l,m=!1){yield Promise.all([r.client.pendingRequest.delete(a,l),m?Promise.resolve():r.client.core.expirer.del(a)])});return function(a,l){return o.apply(this,arguments)}}(),this.setExpiry=function(){var o=O(function*(a,l){r.client.session.keys.includes(a)&&(yield r.client.session.update(a,{expiry:l})),r.client.core.expirer.set(a,l)});return function(a,l){return o.apply(this,arguments)}}(),this.setProposal=function(){var o=O(function*(a,l){yield r.client.proposal.set(a,l),r.client.core.expirer.set(a,l.expiry)});return function(a,l){return o.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var o=O(function*(a){const l=ds.wc_sessionRequest.req.ttl,{id:m,topic:T,params:X}=a;yield r.client.pendingRequest.set(m,{id:m,topic:T,params:X}),l&&r.client.core.expirer.set(m,pn(l))});return function(a){return o.apply(this,arguments)}}(),this.sendRequest=function(){var o=O(function*(a,l,m,T){const X=(0,qe.formatJsonRpcRequest)(l,m);if(Oa()&&py.includes(l)){const Oe=hi(JSON.stringify(X));yield r.client.core.verify.register({attestationId:Oe})}const Q=yield r.client.core.crypto.encode(a,X),ge=ds[l].req;return T&&(ge.ttl=T),r.client.core.history.set(a,X),r.client.core.relayer.publish(a,Q,ge),X.id});return function(a,l,m,T){return o.apply(this,arguments)}}(),this.sendResult=function(){var o=O(function*(a,l,m){const T=(0,qe.formatJsonRpcResult)(a,m),X=yield r.client.core.crypto.encode(l,T),Q=yield r.client.core.history.get(l,a);r.client.core.relayer.publish(l,X,ds[Q.request.method].res),yield r.client.core.history.resolve(T)});return function(a,l,m){return o.apply(this,arguments)}}(),this.sendError=function(){var o=O(function*(a,l,m){const T=(0,qe.formatJsonRpcError)(a,m),X=yield r.client.core.crypto.encode(l,T),Q=yield r.client.core.history.get(l,a);r.client.core.relayer.publish(l,X,ds[Q.request.method].res),yield r.client.core.history.resolve(T)});return function(a,l,m){return o.apply(this,arguments)}}(),this.cleanup=O(function*(){const o=[],a=[];r.client.session.getAll().forEach(l=>{Wn(l.expiry)&&o.push(l.topic)}),r.client.proposal.getAll().forEach(l=>{Wn(l.expiry)&&a.push(l.id)}),yield Promise.all([...o.map(l=>r.deleteSession(l)),...a.map(l=>r.deleteProposal(l))])}),this.onRelayEventRequest=o=>{const{topic:a,payload:l}=o,m=l.method;switch(m){case"wc_sessionPropose":return this.onSessionProposeRequest(a,l);case"wc_sessionSettle":return this.onSessionSettleRequest(a,l);case"wc_sessionUpdate":return this.onSessionUpdateRequest(a,l);case"wc_sessionExtend":return this.onSessionExtendRequest(a,l);case"wc_sessionPing":return this.onSessionPingRequest(a,l);case"wc_sessionDelete":return this.onSessionDeleteRequest(a,l);case"wc_sessionRequest":return this.onSessionRequest(a,l);case"wc_sessionEvent":return this.onSessionEventRequest(a,l);default:return this.client.logger.info(`Unsupported request method ${m}`)}},this.onRelayEventResponse=function(){var o=O(function*(a){const{topic:l,payload:m}=a,T=(yield r.client.core.history.get(l,m.id)).request.method;switch(T){case"wc_sessionPropose":return r.onSessionProposeResponse(l,m);case"wc_sessionSettle":return r.onSessionSettleResponse(l,m);case"wc_sessionUpdate":return r.onSessionUpdateResponse(l,m);case"wc_sessionExtend":return r.onSessionExtendResponse(l,m);case"wc_sessionPing":return r.onSessionPingResponse(l,m);case"wc_sessionRequest":return r.onSessionRequestResponse(l,m);default:return r.client.logger.info(`Unsupported response method ${T}`)}});return function(a){return o.apply(this,arguments)}}(),this.onSessionProposeRequest=function(){var o=O(function*(a,l){const{params:m,id:T}=l;try{r.isValidConnect(Qr({},l.params));const X=pn(Z.FIVE_MINUTES),Q=Qr({id:T,pairingTopic:a,expiry:X},m);yield r.setProposal(T,Q);const ge=hi(JSON.stringify(l)),Oe=yield r.getVerifyContext(ge,Q.proposer.metadata);r.client.events.emit("session_proposal",{id:T,params:Q,context:Oe})}catch(X){yield r.sendError(T,a,X),r.client.logger.error(X)}});return function(a,l){return o.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var o=O(function*(a,l){const{id:m}=l;if((0,qe.isJsonRpcResult)(l)){const{result:T}=l;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:T});const X=r.client.proposal.get(m);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:X});const Q=X.proposer.publicKey;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:Q});const ge=T.responderPublicKey;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:ge});const Oe=yield r.client.core.crypto.generateSharedKey(Q,ge);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:Oe});const Xe=yield r.client.core.relayer.subscribe(Oe);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Xe}),yield r.client.core.pairing.activate({topic:a})}else(0,qe.isJsonRpcError)(l)&&(yield r.client.proposal.delete(m,fr("USER_DISCONNECTED")),r.events.emit(cr("session_connect"),{error:l.error}))});return function(a,l){return o.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var o=O(function*(a,l){const{id:m,params:T}=l;try{r.isValidSessionSettleRequest(T);const{relay:X,controller:Q,expiry:ge,namespaces:Oe,requiredNamespaces:Xe,optionalNamespaces:xt,sessionProperties:Be,pairingTopic:tt}=l.params,Qe=Qr({topic:a,relay:X,expiry:ge,namespaces:Oe,acknowledged:!0,pairingTopic:tt,requiredNamespaces:Xe,optionalNamespaces:xt,controller:Q.publicKey,self:{publicKey:"",metadata:r.client.metadata},peer:{publicKey:Q.publicKey,metadata:Q.metadata}},Be&&{sessionProperties:Be});yield r.sendResult(l.id,a,!0),r.events.emit(cr("session_connect"),{session:Qe})}catch(X){yield r.sendError(m,a,X),r.client.logger.error(X)}});return function(a,l){return o.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var o=O(function*(a,l){const{id:m}=l;(0,qe.isJsonRpcResult)(l)?(yield r.client.session.update(a,{acknowledged:!0}),r.events.emit(cr("session_approve",m),{})):(0,qe.isJsonRpcError)(l)&&(yield r.client.session.delete(a,fr("USER_DISCONNECTED")),r.events.emit(cr("session_approve",m),{error:l.error}))});return function(a,l){return o.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var o=O(function*(a,l){const{params:m,id:T}=l;try{r.isValidUpdate(Qr({topic:a},m)),yield r.client.session.update(a,{namespaces:m.namespaces}),yield r.sendResult(T,a,!0),r.client.events.emit("session_update",{id:T,topic:a,params:m})}catch(X){yield r.sendError(T,a,X),r.client.logger.error(X)}});return function(a,l){return o.apply(this,arguments)}}(),this.onSessionUpdateResponse=(o,a)=>{const{id:l}=a;(0,qe.isJsonRpcResult)(a)?this.events.emit(cr("session_update",l),{}):(0,qe.isJsonRpcError)(a)&&this.events.emit(cr("session_update",l),{error:a.error})},this.onSessionExtendRequest=function(){var o=O(function*(a,l){const{id:m}=l;try{r.isValidExtend({topic:a}),yield r.setExpiry(a,pn(no)),yield r.sendResult(m,a,!0),r.client.events.emit("session_extend",{id:m,topic:a})}catch(T){yield r.sendError(m,a,T),r.client.logger.error(T)}});return function(a,l){return o.apply(this,arguments)}}(),this.onSessionExtendResponse=(o,a)=>{const{id:l}=a;(0,qe.isJsonRpcResult)(a)?this.events.emit(cr("session_extend",l),{}):(0,qe.isJsonRpcError)(a)&&this.events.emit(cr("session_extend",l),{error:a.error})},this.onSessionPingRequest=function(){var o=O(function*(a,l){const{id:m}=l;try{r.isValidPing({topic:a}),yield r.sendResult(m,a,!0),r.client.events.emit("session_ping",{id:m,topic:a})}catch(T){yield r.sendError(m,a,T),r.client.logger.error(T)}});return function(a,l){return o.apply(this,arguments)}}(),this.onSessionPingResponse=(o,a)=>{const{id:l}=a;setTimeout(()=>{(0,qe.isJsonRpcResult)(a)?this.events.emit(cr("session_ping",l),{}):(0,qe.isJsonRpcError)(a)&&this.events.emit(cr("session_ping",l),{error:a.error})},500)},this.onSessionDeleteRequest=function(){var o=O(function*(a,l){const{id:m}=l;try{r.isValidDisconnect({topic:a,reason:l.params}),yield Promise.all([new Promise(T=>{r.client.core.relayer.once("relayer_publish",O(function*(){T(yield r.deleteSession(a))}))}),r.sendResult(m,a,!0)]),r.client.events.emit("session_delete",{id:m,topic:a})}catch(T){yield r.sendError(m,a,T),r.client.logger.error(T)}});return function(a,l){return o.apply(this,arguments)}}(),this.onSessionRequest=function(){var o=O(function*(a,l){const{id:m,params:T}=l;try{r.isValidRequest(Qr({topic:a},T)),yield r.setPendingSessionRequest({id:m,topic:a,params:T});const X=hi(JSON.stringify(l)),Q=r.client.session.get(a),ge=yield r.getVerifyContext(X,Q.peer.metadata);r.client.events.emit("session_request",{id:m,topic:a,params:T,context:ge})}catch(X){yield r.sendError(m,a,X),r.client.logger.error(X)}});return function(a,l){return o.apply(this,arguments)}}(),this.onSessionRequestResponse=(o,a)=>{const{id:l}=a;(0,qe.isJsonRpcResult)(a)?this.events.emit(cr("session_request",l),{result:a.result}):(0,qe.isJsonRpcError)(a)&&this.events.emit(cr("session_request",l),{error:a.error})},this.onSessionEventRequest=function(){var o=O(function*(a,l){const{id:m,params:T}=l;try{r.isValidEmit(Qr({topic:a},T)),r.client.events.emit("session_event",{id:m,topic:a,params:T})}catch(X){yield r.sendError(m,a,X),r.client.logger.error(X)}});return function(a,l){return o.apply(this,arguments)}}(),this.isValidConnect=function(){var o=O(function*(a){if(!Lr(a)){const{message:ge}=Ne("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(a)}`);throw new Error(ge)}const{pairingTopic:l,requiredNamespaces:m,optionalNamespaces:T,sessionProperties:X,relays:Q}=a;if(Ar(l)||(yield r.isValidPairingTopic(l)),!function Sp(u,t){let r=!1;return t&&!u?r=!0:u&&Li(u)&&u.length&&u.forEach(o=>{r=Hc(o)}),r}(Q,!0)){const{message:ge}=Ne("MISSING_OR_INVALID",`connect() relays: ${Q}`);throw new Error(ge)}!Ar(m)&&0!==pi(m)&&r.validateNamespaces(m,"requiredNamespaces"),!Ar(T)&&0!==pi(T)&&r.validateNamespaces(T,"optionalNamespaces"),Ar(X)||r.validateSessionProps(X,"sessionProperties")});return function(a){return o.apply(this,arguments)}}(),this.validateNamespaces=(o,a)=>{const l=function xp(u,t,r){let o=null;if(u&&pi(u)){const a=Bc(u,t);a&&(o=a);const l=function bp(u,t){let r=null;return Object.entries(u).forEach(([o,a])=>{if(r)return;const l=function _p(u,t,r){let o=null;return Li(t)?t.forEach(a=>{o||(!Aa(a)||!a.includes(u))&&(o=fr("UNSUPPORTED_CHAINS",`${r}, chain ${a} should be a string and conform to "namespace:chainId" format`))}):o=fr("UNSUPPORTED_CHAINS",`${r}, chains ${t} should be an array of strings conforming to "namespace:chainId" format`),o}(o,zr(o,a),`${t} requiredNamespace`);l&&(r=l)}),r}(u,t);l&&(o=l)}else o=Ne("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return o}(o,"connect()",a);if(l)throw new Error(l.message)},this.isValidApprove=function(){var o=O(function*(a){if(!Lr(a))throw new Error(Ne("MISSING_OR_INVALID",`approve() params: ${a}`).message);const{id:l,namespaces:m,relayProtocol:T,sessionProperties:X}=a;yield r.isValidProposalId(l);const Q=r.client.proposal.get(l),ge=eo(m,"approve()");if(ge)throw new Error(ge.message);const Oe=Ca(Q.requiredNamespaces,m,"approve()");if(Oe)throw new Error(Oe.message);if(!vr(T,!0)){const{message:Xe}=Ne("MISSING_OR_INVALID",`approve() relayProtocol: ${T}`);throw new Error(Xe)}Ar(X)||r.validateSessionProps(X,"sessionProperties")});return function(a){return o.apply(this,arguments)}}(),this.isValidReject=function(){var o=O(function*(a){if(!Lr(a)){const{message:T}=Ne("MISSING_OR_INVALID",`reject() params: ${a}`);throw new Error(T)}const{id:l,reason:m}=a;if(yield r.isValidProposalId(l),!function Ip(u){return!!(u&&"object"==typeof u&&u.code&&Pa(u.code,!1)&&u.message&&vr(u.message,!1))}(m)){const{message:T}=Ne("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(m)}`);throw new Error(T)}});return function(a){return o.apply(this,arguments)}}(),this.isValidSessionSettleRequest=o=>{if(!Lr(o)){const{message:ge}=Ne("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${o}`);throw new Error(ge)}const{relay:a,controller:l,namespaces:m,expiry:T}=o;if(!Hc(a)){const{message:ge}=Ne("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(ge)}const X=function mp(u,t){let r=null;return vr(u?.publicKey,!1)||(r=Ne("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}(l,"onSessionSettleRequest()");if(X)throw new Error(X.message);const Q=eo(m,"onSessionSettleRequest()");if(Q)throw new Error(Q.message);if(Wn(T)){const{message:ge}=Ne("EXPIRED","onSessionSettleRequest()");throw new Error(ge)}},this.isValidUpdate=function(){var o=O(function*(a){if(!Lr(a)){const{message:ge}=Ne("MISSING_OR_INVALID",`update() params: ${a}`);throw new Error(ge)}const{topic:l,namespaces:m}=a;yield r.isValidSessionTopic(l);const T=r.client.session.get(l),X=eo(m,"update()");if(X)throw new Error(X.message);const Q=Ca(T.requiredNamespaces,m,"update()");if(Q)throw new Error(Q.message)});return function(a){return o.apply(this,arguments)}}(),this.isValidExtend=function(){var o=O(function*(a){if(!Lr(a)){const{message:m}=Ne("MISSING_OR_INVALID",`extend() params: ${a}`);throw new Error(m)}const{topic:l}=a;yield r.isValidSessionTopic(l)});return function(a){return o.apply(this,arguments)}}(),this.isValidRequest=function(){var o=O(function*(a){if(!Lr(a)){const{message:ge}=Ne("MISSING_OR_INVALID",`request() params: ${a}`);throw new Error(ge)}const{topic:l,request:m,chainId:T,expiry:X}=a;yield r.isValidSessionTopic(l);const{namespaces:Q}=r.client.session.get(l);if(!$c(Q,T)){const{message:ge}=Ne("MISSING_OR_INVALID",`request() chainId: ${T}`);throw new Error(ge)}if(!function Rp(u){return!(Ar(u)||!vr(u.method,!1))}(m)){const{message:ge}=Ne("MISSING_OR_INVALID",`request() ${JSON.stringify(m)}`);throw new Error(ge)}if(!function Cp(u,t,r){return!!vr(r,!1)&&function up(u,t){const r=[];return Object.values(u).forEach(o=>{Ui(o.accounts).includes(t)&&r.push(...o.methods)}),r}(u,t).includes(r)}(Q,T,m.method)){const{message:ge}=Ne("MISSING_OR_INVALID",`request() method: ${m.method}`);throw new Error(ge)}if(X&&!function Lp(u,t){return Pa(u,!1)&&u<=t.max&&u>=t.min}(X,Ha)){const{message:ge}=Ne("MISSING_OR_INVALID",`request() expiry: ${X}. Expiry must be a number (in seconds) between ${Ha.min} and ${Ha.max}`);throw new Error(ge)}});return function(a){return o.apply(this,arguments)}}(),this.isValidRespond=function(){var o=O(function*(a){if(!Lr(a)){const{message:T}=Ne("MISSING_OR_INVALID",`respond() params: ${a}`);throw new Error(T)}const{topic:l,response:m}=a;if(yield r.isValidSessionTopic(l),!function Pp(u){return!(Ar(u)||Ar(u.result)&&Ar(u.error)||!Pa(u.id,!1)||!vr(u.jsonrpc,!1))}(m)){const{message:T}=Ne("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(m)}`);throw new Error(T)}});return function(a){return o.apply(this,arguments)}}(),this.isValidPing=function(){var o=O(function*(a){if(!Lr(a)){const{message:m}=Ne("MISSING_OR_INVALID",`ping() params: ${a}`);throw new Error(m)}const{topic:l}=a;yield r.isValidSessionOrPairingTopic(l)});return function(a){return o.apply(this,arguments)}}(),this.isValidEmit=function(){var o=O(function*(a){if(!Lr(a)){const{message:Q}=Ne("MISSING_OR_INVALID",`emit() params: ${a}`);throw new Error(Q)}const{topic:l,event:m,chainId:T}=a;yield r.isValidSessionTopic(l);const{namespaces:X}=r.client.session.get(l);if(!$c(X,T)){const{message:Q}=Ne("MISSING_OR_INVALID",`emit() chainId: ${T}`);throw new Error(Q)}if(!function Ap(u){return!(Ar(u)||!vr(u.name,!1))}(m)){const{message:Q}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(m)}`);throw new Error(Q)}if(!function Tp(u,t,r){return!!vr(r,!1)&&function cp(u,t){const r=[];return Object.values(u).forEach(o=>{Ui(o.accounts).includes(t)&&r.push(...o.events)}),r}(u,t).includes(r)}(X,T,m.name)){const{message:Q}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(m)}`);throw new Error(Q)}});return function(a){return o.apply(this,arguments)}}(),this.isValidDisconnect=function(){var o=O(function*(a){if(!Lr(a)){const{message:m}=Ne("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw new Error(m)}const{topic:l}=a;yield r.isValidSessionOrPairingTopic(l)});return function(a){return o.apply(this,arguments)}}(),this.getVerifyContext=function(){var o=O(function*(a,l){const m={verified:{verifyUrl:l.verifyUrl||"",validation:"UNKNOWN",origin:l.url||""}};try{const T=yield r.client.core.verify.resolve({attestationId:a,verifyUrl:l.verifyUrl});m.verified.origin=T,m.verified.validation=T===l.url?"VALID":"INVALID"}catch(T){r.client.logger.error(T)}return r.client.logger.info(`Verify context: ${JSON.stringify(m)}`),m});return function(a,l){return o.apply(this,arguments)}}(),this.validateSessionProps=(o,a)=>{Object.values(o).forEach(l=>{if(!vr(l,!1)){const{message:m}=Ne("MISSING_OR_INVALID",`${a} must be in Record<string, string> format. Received: ${JSON.stringify(l)}`);throw new Error(m)}})}}isInitialized(){if(!this.initialized){const{message:t}=Ne("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){var t=this;this.client.core.relayer.on("relayer_message",function(){var r=O(function*(o){const{topic:a,message:l}=o;if(t.ignoredPayloadTypes.includes(t.client.core.crypto.getPayloadType(l)))return;const m=yield t.client.core.crypto.decode(a,l);(0,qe.isJsonRpcRequest)(m)?(t.client.core.history.set(a,m),t.onRelayEventRequest({topic:a,payload:m})):(0,qe.isJsonRpcResponse)(m)&&(yield t.client.core.history.resolve(m),t.onRelayEventResponse({topic:a,payload:m}))});return function(o){return r.apply(this,arguments)}}())}registerExpirerEvents(){var t=this;this.client.core.expirer.on(Zr_expired,function(){var r=O(function*(o){const{topic:a,id:l}=Tc(o.target);if(l&&t.client.pendingRequest.keys.includes(l))return yield t.deletePendingSessionRequest(l,Ne("EXPIRED"),!0);a?t.client.session.keys.includes(a)&&(yield t.deleteSession(a,!0),t.client.events.emit("session_expire",{topic:a})):l&&(yield t.deleteProposal(l,!0),t.client.events.emit("proposal_expire",{id:l}))});return function(o){return r.apply(this,arguments)}}())}isValidPairingTopic(t){if(!vr(t,!1)){const{message:r}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(Wn(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=Ne("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}isValidSessionTopic(t){var r=this;return O(function*(){if(!vr(t,!1)){const{message:o}=Ne("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(o)}if(!r.client.session.keys.includes(t)){const{message:o}=Ne("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(o)}if(Wn(r.client.session.get(t).expiry)){yield r.deleteSession(t);const{message:o}=Ne("EXPIRED",`session topic: ${t}`);throw new Error(o)}})()}isValidSessionOrPairingTopic(t){var r=this;return O(function*(){if(r.client.session.keys.includes(t))yield r.isValidSessionTopic(t);else{if(!r.client.core.pairing.pairings.keys.includes(t)){if(vr(t,!1)){const{message:o}=Ne("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(o)}{const{message:o}=Ne("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(o)}}r.isValidPairingTopic(t)}})()}isValidProposalId(t){var r=this;return O(function*(){if(!function Op(u){return"number"==typeof u}(t)){const{message:o}=Ne("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(o)}if(!r.client.proposal.keys.includes(t)){const{message:o}=Ne("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(o)}if(Wn(r.client.proposal.get(t).expiry)){yield r.deleteProposal(t);const{message:o}=Ne("EXPIRED",`proposal id: ${t}`);throw new Error(o)}})()}}class Ey extends ro{constructor(t,r){super(t,r,"proposal",Ma),this.core=t,this.logger=r}}class wy extends ro{constructor(t,r){super(t,r,"session",Ma),this.core=t,this.logger=r}}class Dy extends ro{constructor(t,r){super(t,r,"request",Ma,o=>o.id),this.core=t,this.logger=r}}class za extends class W{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}{constructor(t){var r;super(t),r=this,this.protocol="wc",this.version=2,this.name="client",this.events=new _e.EventEmitter,this.on=(a,l)=>this.events.on(a,l),this.once=(a,l)=>this.events.once(a,l),this.off=(a,l)=>this.events.off(a,l),this.removeListener=(a,l)=>this.events.removeListener(a,l),this.removeAllListeners=a=>this.events.removeAllListeners(a),this.connect=function(){var a=O(function*(l){try{return yield r.engine.connect(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.pair=function(){var a=O(function*(l){try{return yield r.engine.pair(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.approve=function(){var a=O(function*(l){try{return yield r.engine.approve(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.reject=function(){var a=O(function*(l){try{return yield r.engine.reject(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.update=function(){var a=O(function*(l){try{return yield r.engine.update(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.extend=function(){var a=O(function*(l){try{return yield r.engine.extend(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.request=function(){var a=O(function*(l){try{return yield r.engine.request(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.respond=function(){var a=O(function*(l){try{return yield r.engine.respond(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.ping=function(){var a=O(function*(l){try{return yield r.engine.ping(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.emit=function(){var a=O(function*(l){try{return yield r.engine.emit(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.disconnect=function(){var a=O(function*(l){try{return yield r.engine.disconnect(l)}catch(m){throw r.logger.error(m.message),m}});return function(l){return a.apply(this,arguments)}}(),this.find=a=>{try{return this.engine.find(a)}catch(l){throw this.logger.error(l.message),l}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(a){throw this.logger.error(a.message),a}},this.name=t?.name||"client",this.metadata=t?.metadata||function Ld(){return(0,ma.D)()||{name:"",description:"",url:"",icons:[""]}}();const o=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,B.pino)((0,B.getDefaultLoggerOptions)({level:t?.logger||"error"}));this.core=t?.core||new cy(t),this.logger=(0,B.generateChildLogger)(o,this.name),this.session=new wy(this.core,this.logger),this.proposal=new Ey(this.core,this.logger),this.pendingRequest=new Dy(this.core,this.logger),this.engine=new by(this)}static init(t){return O(function*(){const r=new za(t);return yield r.initialize(),r})()}get context(){return(0,B.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var t=this;return O(function*(){t.logger.trace("Initialized");try{yield t.core.start(),yield t.session.init(),yield t.proposal.init(),yield t.pendingRequest.init(),yield t.engine.init(),t.core.verify.init({verifyUrl:t.metadata.verifyUrl}),t.logger.info("SignClient Initialization Success")}catch(r){throw t.logger.info("SignClient Initialization Failure"),t.logger.error(r.message),r}})()}}var xy=D(5928),Pf=D.n(xy);const Af={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class Tf{constructor(t){if(this.url=t,this.events=new _e.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,qe.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}open(t=this.url){var r=this;return O(function*(){yield r.register(t)})()}close(){var t=this;return O(function*(){if(!t.isAvailable)throw new Error("Connection already closed");t.onClose()})()}send(t,r){var o=this;return O(function*(){o.isAvailable||(yield o.register());try{const a=Ce(t),m=yield(yield Pf()(o.url,Object.assign(Object.assign({},Af),{body:a}))).json();o.onPayload({data:m})}catch(a){o.onError(t.id,a)}})()}register(t=this.url){var r=this;return O(function*(){if(!(0,qe.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(r.registering){const o=r.events.getMaxListeners();return(r.events.listenerCount("register_error")>=o||r.events.listenerCount("open")>=o)&&r.events.setMaxListeners(o+1),new Promise((a,l)=>{r.events.once("register_error",m=>{r.resetMaxListeners(),l(m)}),r.events.once("open",()=>{if(r.resetMaxListeners(),typeof r.isAvailable>"u")return l(new Error("HTTP connection is missing or invalid"));a()})})}r.url=t,r.registering=!0;try{const o=Ce({id:1,jsonrpc:"2.0",method:"test",params:[]});yield Pf()(t,Object.assign(Object.assign({},Af),{body:o})),r.onOpen()}catch(o){const a=r.parseError(o);throw r.events.emit("register_error",a),r.onClose(),a}})()}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r="string"==typeof t.data?xe(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const o=this.parseError(r),a=o.message||o.toString(),l=(0,qe.formatJsonRpcError)(t,a);this.events.emit("payload",l)}parseError(t,r=this.url){return(0,qe.parseConnectionError)(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const Fi=Tf,Uf="wc@2:universal_provider:";var u,t,ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ja={exports:{}};u=Ja,t=Ja.exports,function(){var r,m="Expected a function",X="__lodash_hash_undefined__",ge="__lodash_placeholder__",yi=1/0,Zn=9007199254740991,xn=4294967295,hv=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ji="[object Arguments]",ao="[object Array]",gs="[object Boolean]",ys="[object Date]",uo="[object Error]",co="[object Function]",$f="[object GeneratorFunction]",gn="[object Map]",vs="[object Number]",Un="[object Object]",zf="[object Promise]",ms="[object RegExp]",yn="[object Set]",_s="[object String]",fo="[object Symbol]",bs="[object WeakMap]",Es="[object ArrayBuffer]",Mi="[object DataView]",Ga="[object Float32Array]",Ya="[object Float64Array]",qa="[object Int8Array]",Xa="[object Int16Array]",Za="[object Int32Array]",Qa="[object Uint8Array]",ka="[object Uint8ClampedArray]",eu="[object Uint16Array]",tu="[object Uint32Array]",_v=/\b__p \+= '';/g,bv=/\b(__p \+=) '' \+/g,Ev=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jf=/&(?:amp|lt|gt|quot|#39);/g,Kf=/[&<>"']/g,wv=RegExp(Jf.source),Dv=RegExp(Kf.source),xv=/<%-([\s\S]+?)%>/g,Sv=/<%([\s\S]+?)%>/g,Vf=/<%=([\s\S]+?)%>/g,Ov=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iv=/^\w*$/,Rv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ru=/[\\^$.*+?()[\]{}|]/g,Pv=RegExp(ru.source),nu=/^\s+/,Av=/\s/,Cv=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tv=/\{\n\/\* \[wrapped with (.+)\] \*/,Nv=/,? & /,Uv=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lv=/[()=,{}\[\]\/\s]/,Fv=/\\(\\)?/g,jv=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wf=/\w*$/,Mv=/^[-+]0x[0-9a-f]+$/i,Bv=/^0b[01]+$/i,Hv=/^\[object .+?Constructor\]$/,$v=/^0o[0-7]+$/i,zv=/^(?:0|[1-9]\d*)$/,Jv=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lo=/($^)/,Kv=/['\n\r\u2028\u2029\\]/g,ho="\\ud800-\\udfff",Gf="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Yf="\\u2700-\\u27bf",qf="a-z\\xdf-\\xf6\\xf8-\\xff",Xf="A-Z\\xc0-\\xd6\\xd8-\\xde",Zf="\\ufe0e\\ufe0f",Qf="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qv="["+ho+"]",kf="["+Qf+"]",po="["+Gf+"]",el="\\d+",kv="["+Yf+"]",tl="["+qf+"]",rl="[^"+ho+Qf+el+Yf+qf+Xf+"]",su="\\ud83c[\\udffb-\\udfff]",nl="[^"+ho+"]",ou="(?:\\ud83c[\\udde6-\\uddff]){2}",au="[\\ud800-\\udbff][\\udc00-\\udfff]",Bi="["+Xf+"]",sl="(?:"+tl+"|"+rl+")",t1="(?:"+Bi+"|"+rl+")",ol="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",al="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ul="(?:"+po+"|"+su+")?",cl="["+Zf+"]?",fl=cl+ul+"(?:\\u200d(?:"+[nl,ou,au].join("|")+")"+cl+ul+")*",s1="(?:"+[kv,ou,au].join("|")+")"+fl,o1="(?:"+[nl+po+"?",po,ou,au,Qv].join("|")+")",a1=RegExp("['\u2019]","g"),u1=RegExp(po,"g"),uu=RegExp(su+"(?="+su+")|"+o1+fl,"g"),c1=RegExp([Bi+"?"+tl+"+"+ol+"(?="+[kf,Bi,"$"].join("|")+")",t1+"+"+al+"(?="+[kf,Bi+sl,"$"].join("|")+")",Bi+"?"+sl+"+"+ol,Bi+"+"+al,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",el,s1].join("|"),"g"),f1=RegExp("[\\u200d"+ho+Gf+Zf+"]"),l1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,h1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],d1=-1,Bt={};Bt[Ga]=Bt[Ya]=Bt[qa]=Bt[Xa]=Bt[Za]=Bt[Qa]=Bt[ka]=Bt[eu]=Bt[tu]=!0,Bt[ji]=Bt[ao]=Bt[Es]=Bt[gs]=Bt[Mi]=Bt[ys]=Bt[uo]=Bt[co]=Bt[gn]=Bt[vs]=Bt[Un]=Bt[ms]=Bt[yn]=Bt[_s]=Bt[bs]=!1;var jt={};jt[ji]=jt[ao]=jt[Es]=jt[Mi]=jt[gs]=jt[ys]=jt[Ga]=jt[Ya]=jt[qa]=jt[Xa]=jt[Za]=jt[gn]=jt[vs]=jt[Un]=jt[ms]=jt[yn]=jt[_s]=jt[fo]=jt[Qa]=jt[ka]=jt[eu]=jt[tu]=!0,jt[uo]=jt[co]=jt[bs]=!1;var v1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},m1=parseFloat,_1=parseInt,ll="object"==typeof ps&&ps&&ps.Object===Object&&ps,b1="object"==typeof self&&self&&self.Object===Object&&self,xr=ll||b1||Function("return this")(),cu=t&&!t.nodeType&&t,vi=cu&&u&&!u.nodeType&&u,hl=vi&&vi.exports===cu,fu=hl&&ll.process,en=function(){try{return vi&&vi.require&&vi.require("util").types||fu&&fu.binding&&fu.binding("util")}catch{}}(),dl=en&&en.isArrayBuffer,pl=en&&en.isDate,gl=en&&en.isMap,yl=en&&en.isRegExp,vl=en&&en.isSet,ml=en&&en.isTypedArray;function Jr(ae,me,ye){switch(ye.length){case 0:return ae.call(me);case 1:return ae.call(me,ye[0]);case 2:return ae.call(me,ye[0],ye[1]);case 3:return ae.call(me,ye[0],ye[1],ye[2])}return ae.apply(me,ye)}function E1(ae,me,ye,Le){for(var ke=-1,It=null==ae?0:ae.length;++ke<It;){var pr=ae[ke];me(Le,pr,ye(pr),ae)}return Le}function tn(ae,me){for(var ye=-1,Le=null==ae?0:ae.length;++ye<Le&&!1!==me(ae[ye],ye,ae););return ae}function w1(ae,me){for(var ye=null==ae?0:ae.length;ye--&&!1!==me(ae[ye],ye,ae););return ae}function _l(ae,me){for(var ye=-1,Le=null==ae?0:ae.length;++ye<Le;)if(!me(ae[ye],ye,ae))return!1;return!0}function Qn(ae,me){for(var ye=-1,Le=null==ae?0:ae.length,ke=0,It=[];++ye<Le;){var pr=ae[ye];me(pr,ye,ae)&&(It[ke++]=pr)}return It}function go(ae,me){return!(null==ae||!ae.length)&&Hi(ae,me,0)>-1}function lu(ae,me,ye){for(var Le=-1,ke=null==ae?0:ae.length;++Le<ke;)if(ye(me,ae[Le]))return!0;return!1}function Jt(ae,me){for(var ye=-1,Le=null==ae?0:ae.length,ke=Array(Le);++ye<Le;)ke[ye]=me(ae[ye],ye,ae);return ke}function kn(ae,me){for(var ye=-1,Le=me.length,ke=ae.length;++ye<Le;)ae[ke+ye]=me[ye];return ae}function hu(ae,me,ye,Le){var ke=-1,It=null==ae?0:ae.length;for(Le&&It&&(ye=ae[++ke]);++ke<It;)ye=me(ye,ae[ke],ke,ae);return ye}function D1(ae,me,ye,Le){var ke=null==ae?0:ae.length;for(Le&&ke&&(ye=ae[--ke]);ke--;)ye=me(ye,ae[ke],ke,ae);return ye}function du(ae,me){for(var ye=-1,Le=null==ae?0:ae.length;++ye<Le;)if(me(ae[ye],ye,ae))return!0;return!1}var x1=pu("length");function bl(ae,me,ye){var Le;return ye(ae,function(ke,It,pr){if(me(ke,It,pr))return Le=It,!1}),Le}function yo(ae,me,ye,Le){for(var ke=ae.length,It=ye+(Le?1:-1);Le?It--:++It<ke;)if(me(ae[It],It,ae))return It;return-1}function Hi(ae,me,ye){return me==me?function M1(ae,me,ye){for(var Le=ye-1,ke=ae.length;++Le<ke;)if(ae[Le]===me)return Le;return-1}(ae,me,ye):yo(ae,El,ye)}function I1(ae,me,ye,Le){for(var ke=ye-1,It=ae.length;++ke<It;)if(Le(ae[ke],me))return ke;return-1}function El(ae){return ae!=ae}function wl(ae,me){var ye=null==ae?0:ae.length;return ye?yu(ae,me)/ye:NaN}function pu(ae){return function(me){return null==me?r:me[ae]}}function gu(ae){return function(me){return null==ae?r:ae[me]}}function Dl(ae,me,ye,Le,ke){return ke(ae,function(It,pr,Lt){ye=Le?(Le=!1,It):me(ye,It,pr,Lt)}),ye}function yu(ae,me){for(var ye,Le=-1,ke=ae.length;++Le<ke;){var It=me(ae[Le]);It!==r&&(ye=ye===r?It:ye+It)}return ye}function vu(ae,me){for(var ye=-1,Le=Array(ae);++ye<ae;)Le[ye]=me(ye);return Le}function xl(ae){return ae&&ae.slice(0,Rl(ae)+1).replace(nu,"")}function Kr(ae){return function(me){return ae(me)}}function mu(ae,me){return Jt(me,function(ye){return ae[ye]})}function ws(ae,me){return ae.has(me)}function Sl(ae,me){for(var ye=-1,Le=ae.length;++ye<Le&&Hi(me,ae[ye],0)>-1;);return ye}function Ol(ae,me){for(var ye=ae.length;ye--&&Hi(me,ae[ye],0)>-1;);return ye}function A1(ae,me){for(var ye=ae.length,Le=0;ye--;)ae[ye]===me&&++Le;return Le}var C1=gu({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),T1=gu({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function N1(ae){return"\\"+v1[ae]}function $i(ae){return f1.test(ae)}function _u(ae){var me=-1,ye=Array(ae.size);return ae.forEach(function(Le,ke){ye[++me]=[ke,Le]}),ye}function Il(ae,me){return function(ye){return ae(me(ye))}}function ei(ae,me){for(var ye=-1,Le=ae.length,ke=0,It=[];++ye<Le;){var pr=ae[ye];(pr===me||pr===ge)&&(ae[ye]=ge,It[ke++]=ye)}return It}function vo(ae){var me=-1,ye=Array(ae.size);return ae.forEach(function(Le){ye[++me]=Le}),ye}function zi(ae){return $i(ae)?function $1(ae){for(var me=uu.lastIndex=0;uu.test(ae);)++me;return me}(ae):x1(ae)}function vn(ae){return $i(ae)?function z1(ae){return ae.match(uu)||[]}(ae):function S1(ae){return ae.split("")}(ae)}function Rl(ae){for(var me=ae.length;me--&&Av.test(ae.charAt(me)););return me}var H1=gu({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ji=function ae(me){var e,ye=(me=null==me?xr:Ji.defaults(xr.Object(),me,Ji.pick(xr,h1))).Array,Le=me.Date,ke=me.Error,It=me.Function,pr=me.Math,Lt=me.Object,bu=me.RegExp,V1=me.String,rn=me.TypeError,mo=ye.prototype,Ki=Lt.prototype,_o=me["__core-js_shared__"],bo=It.prototype.toString,At=Ki.hasOwnProperty,G1=0,Pl=(e=/[^.]+$/.exec(_o&&_o.keys&&_o.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",Eo=Ki.toString,Y1=bo.call(Lt),q1=xr._,X1=bu("^"+bo.call(At).replace(ru,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wo=hl?me.Buffer:r,ti=me.Symbol,Do=me.Uint8Array,Al=wo?wo.allocUnsafe:r,xo=Il(Lt.getPrototypeOf,Lt),Cl=Lt.create,Tl=Ki.propertyIsEnumerable,So=mo.splice,Nl=ti?ti.isConcatSpreadable:r,Ds=ti?ti.iterator:r,mi=ti?ti.toStringTag:r,Oo=function(){try{var e=Di(Lt,"defineProperty");return e({},"",{}),e}catch{}}(),Z1=me.clearTimeout!==xr.clearTimeout&&me.clearTimeout,Q1=Le&&Le.now!==xr.Date.now&&Le.now,k1=me.setTimeout!==xr.setTimeout&&me.setTimeout,Io=pr.ceil,Ro=pr.floor,Eu=Lt.getOwnPropertySymbols,em=wo?wo.isBuffer:r,Ul=me.isFinite,tm=mo.join,rm=Il(Lt.keys,Lt),gr=pr.max,Ir=pr.min,nm=Le.now,im=me.parseInt,Ll=pr.random,sm=mo.reverse,wu=Di(me,"DataView"),xs=Di(me,"Map"),Du=Di(me,"Promise"),Vi=Di(me,"Set"),Ss=Di(me,"WeakMap"),Os=Di(Lt,"create"),Po=Ss&&new Ss,Wi={},om=xi(wu),am=xi(xs),um=xi(Du),cm=xi(Vi),fm=xi(Ss),Ao=ti?ti.prototype:r,Is=Ao?Ao.valueOf:r,Fl=Ao?Ao.toString:r;function R(e){if(qt(e)&&!et(e)&&!(e instanceof pt)){if(e instanceof nn)return e;if(At.call(e,"__wrapped__"))return jh(e)}return new nn(e)}var Gi=function(){function e(){}return function(n){if(!Vt(n))return{};if(Cl)return Cl(n);e.prototype=n;var s=new e;return e.prototype=r,s}}();function Co(){}function nn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=r}function pt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xn,this.__views__=[]}function _i(e){var n=-1,s=null==e?0:e.length;for(this.clear();++n<s;){var d=e[n];this.set(d[0],d[1])}}function Ln(e){var n=-1,s=null==e?0:e.length;for(this.clear();++n<s;){var d=e[n];this.set(d[0],d[1])}}function Fn(e){var n=-1,s=null==e?0:e.length;for(this.clear();++n<s;){var d=e[n];this.set(d[0],d[1])}}function bi(e){var n=-1,s=null==e?0:e.length;for(this.__data__=new Fn;++n<s;)this.add(e[n])}function mn(e){var n=this.__data__=new Ln(e);this.size=n.size}function jl(e,n){var s=et(e),d=!s&&Si(e),w=!s&&!d&&oi(e),A=!s&&!d&&!w&&Zi(e),K=s||d||w||A,q=K?vu(e.length,V1):[],fe=q.length;for(var be in e)(n||At.call(e,be))&&(!K||!("length"==be||w&&("offset"==be||"parent"==be)||A&&("buffer"==be||"byteLength"==be||"byteOffset"==be)||Hn(be,fe)))&&q.push(be);return q}function Ml(e){var n=e.length;return n?e[Uu(0,n-1)]:r}function Fm(e,n){return Vo(Fr(e),Ei(n,0,e.length))}function jm(e){return Vo(Fr(e))}function xu(e,n,s){(s!==r&&!_n(e[n],s)||s===r&&!(n in e))&&jn(e,n,s)}function Rs(e,n,s){var d=e[n];(!At.call(e,n)||!_n(d,s)||s===r&&!(n in e))&&jn(e,n,s)}function To(e,n){for(var s=e.length;s--;)if(_n(e[s][0],n))return s;return-1}function Mm(e,n,s,d){return ri(e,function(w,A,K){n(d,w,s(w),K)}),d}function Bl(e,n){return e&&On(n,br(n),e)}function jn(e,n,s){"__proto__"==n&&Oo?Oo(e,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[n]=s}function Su(e,n){for(var s=-1,d=n.length,w=ye(d),A=null==e;++s<d;)w[s]=A?r:sc(e,n[s]);return w}function Ei(e,n,s){return e==e&&(s!==r&&(e=e<=s?e:s),n!==r&&(e=e>=n?e:n)),e}function sn(e,n,s,d,w,A){var K,q=1&n,fe=2&n,be=4&n;if(s&&(K=w?s(e,d,w,A):s(e)),K!==r)return K;if(!Vt(e))return e;var Ee=et(e);if(Ee){if(K=function I_(e){var n=e.length,s=new e.constructor(n);return n&&"string"==typeof e[0]&&At.call(e,"index")&&(s.index=e.index,s.input=e.input),s}(e),!q)return Fr(e,K)}else{var Ie=Rr(e),Te=Ie==co||Ie==$f;if(oi(e))return ch(e,q);if(Ie==Un||Ie==ji||Te&&!w){if(K=fe||Te?{}:Rh(e),!q)return fe?function y_(e,n){return On(e,Oh(e),n)}(e,function Bm(e,n){return e&&On(n,Mr(n),e)}(K,e)):function g_(e,n){return On(e,Yu(e),n)}(e,Bl(K,e))}else{if(!jt[Ie])return w?e:{};K=function R_(e,n,s){var d=e.constructor;switch(n){case Es:return $u(e);case gs:case ys:return new d(+e);case Mi:return function l_(e,n){var s=n?$u(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}(e,s);case Ga:case Ya:case qa:case Xa:case Za:case Qa:case ka:case eu:case tu:return fh(e,s);case gn:return new d;case vs:case _s:return new d(e);case ms:return function h_(e){var n=new e.constructor(e.source,Wf.exec(e));return n.lastIndex=e.lastIndex,n}(e);case yn:return new d;case fo:return function d_(e){return Is?Lt(Is.call(e)):{}}(e)}}(e,Ie,q)}}A||(A=new mn);var Me=A.get(e);if(Me)return Me;A.set(e,K),nd(e)?e.forEach(function(Ve){K.add(sn(Ve,n,s,Ve,e,A))}):td(e)&&e.forEach(function(Ve,ht){K.set(ht,sn(Ve,n,s,ht,e,A))});var st=Ee?r:(be?fe?Vu:Ku:fe?Mr:br)(e);return tn(st||e,function(Ve,ht){st&&(Ve=e[ht=Ve]),Rs(K,ht,sn(Ve,n,s,ht,e,A))}),K}function Hl(e,n,s){var d=s.length;if(null==e)return!d;for(e=Lt(e);d--;){var w=s[d],K=e[w];if(K===r&&!(w in e)||!(0,n[w])(K))return!1}return!0}function $l(e,n,s){if("function"!=typeof e)throw new rn(m);return Ls(function(){e.apply(r,s)},n)}function Ps(e,n,s,d){var w=-1,A=go,K=!0,q=e.length,fe=[],be=n.length;if(!q)return fe;s&&(n=Jt(n,Kr(s))),d?(A=lu,K=!1):n.length>=200&&(A=ws,K=!1,n=new bi(n));e:for(;++w<q;){var Ee=e[w],Ie=null==s?Ee:s(Ee);if(Ee=d||0!==Ee?Ee:0,K&&Ie==Ie){for(var Te=be;Te--;)if(n[Te]===Ie)continue e;fe.push(Ee)}else A(n,Ie,d)||fe.push(Ee)}return fe}R.templateSettings={escape:xv,evaluate:Sv,interpolate:Vf,variable:"",imports:{_:R}},(R.prototype=Co.prototype).constructor=R,(nn.prototype=Gi(Co.prototype)).constructor=nn,(pt.prototype=Gi(Co.prototype)).constructor=pt,_i.prototype.clear=function pm(){this.__data__=Os?Os(null):{},this.size=0},_i.prototype.delete=function gm(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},_i.prototype.get=function ym(e){var n=this.__data__;if(Os){var s=n[e];return s===X?r:s}return At.call(n,e)?n[e]:r},_i.prototype.has=function vm(e){var n=this.__data__;return Os?n[e]!==r:At.call(n,e)},_i.prototype.set=function mm(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Os&&n===r?X:n,this},Ln.prototype.clear=function _m(){this.__data__=[],this.size=0},Ln.prototype.delete=function bm(e){var n=this.__data__,s=To(n,e);return!(s<0||(s==n.length-1?n.pop():So.call(n,s,1),--this.size,0))},Ln.prototype.get=function Em(e){var n=this.__data__,s=To(n,e);return s<0?r:n[s][1]},Ln.prototype.has=function wm(e){return To(this.__data__,e)>-1},Ln.prototype.set=function Dm(e,n){var s=this.__data__,d=To(s,e);return d<0?(++this.size,s.push([e,n])):s[d][1]=n,this},Fn.prototype.clear=function xm(){this.size=0,this.__data__={hash:new _i,map:new(xs||Ln),string:new _i}},Fn.prototype.delete=function Sm(e){var n=Ko(this,e).delete(e);return this.size-=n?1:0,n},Fn.prototype.get=function Om(e){return Ko(this,e).get(e)},Fn.prototype.has=function Im(e){return Ko(this,e).has(e)},Fn.prototype.set=function Rm(e,n){var s=Ko(this,e),d=s.size;return s.set(e,n),this.size+=s.size==d?0:1,this},bi.prototype.add=bi.prototype.push=function Pm(e){return this.__data__.set(e,X),this},bi.prototype.has=function Am(e){return this.__data__.has(e)},mn.prototype.clear=function Cm(){this.__data__=new Ln,this.size=0},mn.prototype.delete=function Tm(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s},mn.prototype.get=function Nm(e){return this.__data__.get(e)},mn.prototype.has=function Um(e){return this.__data__.has(e)},mn.prototype.set=function Lm(e,n){var s=this.__data__;if(s instanceof Ln){var d=s.__data__;if(!xs||d.length<199)return d.push([e,n]),this.size=++s.size,this;s=this.__data__=new Fn(d)}return s.set(e,n),this.size=s.size,this};var ri=ph(Sn),zl=ph(Iu,!0);function $m(e,n){var s=!0;return ri(e,function(d,w,A){return s=!!n(d,w,A)}),s}function No(e,n,s){for(var d=-1,w=e.length;++d<w;){var A=e[d],K=n(A);if(null!=K&&(q===r?K==K&&!Wr(K):s(K,q)))var q=K,fe=A}return fe}function Jl(e,n){var s=[];return ri(e,function(d,w,A){n(d,w,A)&&s.push(d)}),s}function Sr(e,n,s,d,w){var A=-1,K=e.length;for(s||(s=A_),w||(w=[]);++A<K;){var q=e[A];n>0&&s(q)?n>1?Sr(q,n-1,s,d,w):kn(w,q):d||(w[w.length]=q)}return w}var Ou=gh(),Kl=gh(!0);function Sn(e,n){return e&&Ou(e,n,br)}function Iu(e,n){return e&&Kl(e,n,br)}function Uo(e,n){return Qn(n,function(s){return $n(e[s])})}function wi(e,n){for(var s=0,d=(n=ii(n,e)).length;null!=e&&s<d;)e=e[In(n[s++])];return s&&s==d?e:r}function Vl(e,n,s){var d=n(e);return et(e)?d:kn(d,s(e))}function Cr(e){return null==e?e===r?"[object Undefined]":"[object Null]":mi&&mi in Lt(e)?function x_(e){var n=At.call(e,mi),s=e[mi];try{e[mi]=r;var d=!0}catch{}var w=Eo.call(e);return d&&(n?e[mi]=s:delete e[mi]),w}(e):function j_(e){return Eo.call(e)}(e)}function Ru(e,n){return e>n}function Jm(e,n){return null!=e&&At.call(e,n)}function Km(e,n){return null!=e&&n in Lt(e)}function Pu(e,n,s){for(var d=s?lu:go,w=e[0].length,A=e.length,K=A,q=ye(A),fe=1/0,be=[];K--;){var Ee=e[K];K&&n&&(Ee=Jt(Ee,Kr(n))),fe=Ir(Ee.length,fe),q[K]=!s&&(n||w>=120&&Ee.length>=120)?new bi(K&&Ee):r}Ee=e[0];var Ie=-1,Te=q[0];e:for(;++Ie<w&&be.length<fe;){var Me=Ee[Ie],Ke=n?n(Me):Me;if(Me=s||0!==Me?Me:0,!(Te?ws(Te,Ke):d(be,Ke,s))){for(K=A;--K;){var st=q[K];if(!(st?ws(st,Ke):d(e[K],Ke,s)))continue e}Te&&Te.push(Ke),be.push(Me)}}return be}function As(e,n,s){var d=null==(e=Th(e,n=ii(n,e)))?e:e[In(an(n))];return null==d?r:Jr(d,e,s)}function Wl(e){return qt(e)&&Cr(e)==ji}function Cs(e,n,s,d,w){return e===n||(null==e||null==n||!qt(e)&&!qt(n)?e!=e&&n!=n:function qm(e,n,s,d,w,A){var K=et(e),q=et(n),fe=K?ao:Rr(e),be=q?ao:Rr(n),Ee=(fe=fe==ji?Un:fe)==Un,Ie=(be=be==ji?Un:be)==Un,Te=fe==be;if(Te&&oi(e)){if(!oi(n))return!1;K=!0,Ee=!1}if(Te&&!Ee)return A||(A=new mn),K||Zi(e)?Sh(e,n,s,d,w,A):function w_(e,n,s,d,w,A,K){switch(s){case Mi:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Es:return!(e.byteLength!=n.byteLength||!A(new Do(e),new Do(n)));case gs:case ys:case vs:return _n(+e,+n);case uo:return e.name==n.name&&e.message==n.message;case ms:case _s:return e==n+"";case gn:var q=_u;case yn:if(q||(q=vo),e.size!=n.size&&!(1&d))return!1;var be=K.get(e);if(be)return be==n;d|=2,K.set(e,n);var Ee=Sh(q(e),q(n),d,w,A,K);return K.delete(e),Ee;case fo:if(Is)return Is.call(e)==Is.call(n)}return!1}(e,n,fe,s,d,w,A);if(!(1&s)){var Me=Ee&&At.call(e,"__wrapped__"),Ke=Ie&&At.call(n,"__wrapped__");if(Me||Ke){var st=Me?e.value():e,Ve=Ke?n.value():n;return A||(A=new mn),w(st,Ve,s,d,A)}}return!!Te&&(A||(A=new mn),function D_(e,n,s,d,w,A){var K=1&s,q=Ku(e),fe=q.length;if(fe!=Ku(n).length&&!K)return!1;for(var Ie=fe;Ie--;){var Te=q[Ie];if(!(K?Te in n:At.call(n,Te)))return!1}var Me=A.get(e),Ke=A.get(n);if(Me&&Ke)return Me==n&&Ke==e;var st=!0;A.set(e,n),A.set(n,e);for(var Ve=K;++Ie<fe;){var ht=e[Te=q[Ie]],mt=n[Te];if(d)var Gr=K?d(mt,ht,Te,n,e,A):d(ht,mt,Te,e,n,A);if(!(Gr===r?ht===mt||w(ht,mt,s,d,A):Gr)){st=!1;break}Ve||(Ve="constructor"==Te)}if(st&&!Ve){var Nr=e.constructor,Yr=n.constructor;Nr!=Yr&&"constructor"in e&&"constructor"in n&&!("function"==typeof Nr&&Nr instanceof Nr&&"function"==typeof Yr&&Yr instanceof Yr)&&(st=!1)}return A.delete(e),A.delete(n),st}(e,n,s,d,w,A))}(e,n,s,d,Cs,w))}function Au(e,n,s,d){var w=s.length,A=w,K=!d;if(null==e)return!A;for(e=Lt(e);w--;){var q=s[w];if(K&&q[2]?q[1]!==e[q[0]]:!(q[0]in e))return!1}for(;++w<A;){var fe=(q=s[w])[0],be=e[fe],Ee=q[1];if(K&&q[2]){if(be===r&&!(fe in e))return!1}else{var Ie=new mn;if(d)var Te=d(be,Ee,fe,e,n,Ie);if(!(Te===r?Cs(Ee,be,3,d,Ie):Te))return!1}}return!0}function Gl(e){return!(!Vt(e)||function T_(e){return!!Pl&&Pl in e}(e))&&($n(e)?X1:Hv).test(xi(e))}function Yl(e){return"function"==typeof e?e:null==e?Br:"object"==typeof e?et(e)?Zl(e[0],e[1]):Xl(e):yd(e)}function Cu(e){if(!Us(e))return rm(e);var n=[];for(var s in Lt(e))At.call(e,s)&&"constructor"!=s&&n.push(s);return n}function Tu(e,n){return e<n}function ql(e,n){var s=-1,d=jr(e)?ye(e.length):[];return ri(e,function(w,A,K){d[++s]=n(w,A,K)}),d}function Xl(e){var n=Gu(e);return 1==n.length&&n[0][2]?Ah(n[0][0],n[0][1]):function(s){return s===e||Au(s,e,n)}}function Zl(e,n){return qu(e)&&Ph(n)?Ah(In(e),n):function(s){var d=sc(s,e);return d===r&&d===n?oc(s,e):Cs(n,d,3)}}function Lo(e,n,s,d,w){e!==n&&Ou(n,function(A,K){if(w||(w=new mn),Vt(A))!function t_(e,n,s,d,w,A,K){var q=Zu(e,s),fe=Zu(n,s),be=K.get(fe);if(be)xu(e,s,be);else{var Ee=A?A(q,fe,s+"",e,n,K):r,Ie=Ee===r;if(Ie){var Te=et(fe),Me=!Te&&oi(fe),Ke=!Te&&!Me&&Zi(fe);Ee=fe,Te||Me||Ke?et(q)?Ee=q:rr(q)?Ee=Fr(q):Me?(Ie=!1,Ee=ch(fe,!0)):Ke?(Ie=!1,Ee=fh(fe,!0)):Ee=[]:Fs(fe)||Si(fe)?(Ee=q,Si(q)?Ee=od(q):(!Vt(q)||$n(q))&&(Ee=Rh(fe))):Ie=!1}Ie&&(K.set(fe,Ee),w(Ee,fe,d,A,K),K.delete(fe)),xu(e,s,Ee)}}(e,n,K,s,Lo,d,w);else{var q=d?d(Zu(e,K),A,K+"",e,n,w):r;q===r&&(q=A),xu(e,K,q)}},Mr)}function Ql(e,n){var s=e.length;if(s)return Hn(n+=n<0?s:0,s)?e[n]:r}function kl(e,n,s){n=n.length?Jt(n,function(A){return et(A)?function(K){return wi(K,1===A.length?A[0]:A)}:A}):[Br];var d=-1;return n=Jt(n,Kr(Je())),function R1(ae,me){var ye=ae.length;for(ae.sort(me);ye--;)ae[ye]=ae[ye].value;return ae}(ql(e,function(A,K,q){return{criteria:Jt(n,function(be){return be(A)}),index:++d,value:A}}),function(A,K){return function p_(e,n,s){for(var d=-1,w=e.criteria,A=n.criteria,K=w.length,q=s.length;++d<K;){var fe=lh(w[d],A[d]);if(fe)return d>=q?fe:fe*("desc"==s[d]?-1:1)}return e.index-n.index}(A,K,s)})}function eh(e,n,s){for(var d=-1,w=n.length,A={};++d<w;){var K=n[d],q=wi(e,K);s(q,K)&&Ts(A,ii(K,e),q)}return A}function Nu(e,n,s,d){var w=d?I1:Hi,A=-1,K=n.length,q=e;for(e===n&&(n=Fr(n)),s&&(q=Jt(e,Kr(s)));++A<K;)for(var fe=0,be=n[A],Ee=s?s(be):be;(fe=w(q,Ee,fe,d))>-1;)q!==e&&So.call(q,fe,1),So.call(e,fe,1);return e}function th(e,n){for(var s=e?n.length:0,d=s-1;s--;){var w=n[s];if(s==d||w!==A){var A=w;Hn(w)?So.call(e,w,1):ju(e,w)}}return e}function Uu(e,n){return e+Ro(Ll()*(n-e+1))}function Lu(e,n){var s="";if(!e||n<1||n>Zn)return s;do{n%2&&(s+=e),(n=Ro(n/2))&&(e+=e)}while(n);return s}function at(e,n){return Qu(Ch(e,n,Br),e+"")}function s_(e){return Ml(Qi(e))}function o_(e,n){var s=Qi(e);return Vo(s,Ei(n,0,s.length))}function Ts(e,n,s,d){if(!Vt(e))return e;for(var w=-1,A=(n=ii(n,e)).length,K=A-1,q=e;null!=q&&++w<A;){var fe=In(n[w]),be=s;if("__proto__"===fe||"constructor"===fe||"prototype"===fe)return e;if(w!=K){var Ee=q[fe];(be=d?d(Ee,fe,q):r)===r&&(be=Vt(Ee)?Ee:Hn(n[w+1])?[]:{})}Rs(q,fe,be),q=q[fe]}return e}var rh=Po?function(e,n){return Po.set(e,n),e}:Br,a_=Oo?function(e,n){return Oo(e,"toString",{configurable:!0,enumerable:!1,value:uc(n),writable:!0})}:Br;function u_(e){return Vo(Qi(e))}function on(e,n,s){var d=-1,w=e.length;n<0&&(n=-n>w?0:w+n),(s=s>w?w:s)<0&&(s+=w),w=n>s?0:s-n>>>0,n>>>=0;for(var A=ye(w);++d<w;)A[d]=e[d+n];return A}function c_(e,n){var s;return ri(e,function(d,w,A){return!(s=n(d,w,A))}),!!s}function Fo(e,n,s){var d=0,w=null==e?d:e.length;if("number"==typeof n&&n==n&&w<=2147483647){for(;d<w;){var A=d+w>>>1,K=e[A];null!==K&&!Wr(K)&&(s?K<=n:K<n)?d=A+1:w=A}return w}return Fu(e,n,Br,s)}function Fu(e,n,s,d){var w=0,A=null==e?0:e.length;if(0===A)return 0;for(var K=(n=s(n))!=n,q=null===n,fe=Wr(n),be=n===r;w<A;){var Ee=Ro((w+A)/2),Ie=s(e[Ee]),Te=Ie!==r,Me=null===Ie,Ke=Ie==Ie,st=Wr(Ie);if(K)var Ve=d||Ke;else Ve=be?Ke&&(d||Te):q?Ke&&Te&&(d||!Me):fe?Ke&&Te&&!Me&&(d||!st):!Me&&!st&&(d?Ie<=n:Ie<n);Ve?w=Ee+1:A=Ee}return Ir(A,4294967294)}function nh(e,n){for(var s=-1,d=e.length,w=0,A=[];++s<d;){var K=e[s],q=n?n(K):K;if(!s||!_n(q,fe)){var fe=q;A[w++]=0===K?0:K}}return A}function ih(e){return"number"==typeof e?e:Wr(e)?NaN:+e}function Vr(e){if("string"==typeof e)return e;if(et(e))return Jt(e,Vr)+"";if(Wr(e))return Fl?Fl.call(e):"";var n=e+"";return"0"==n&&1/e==-yi?"-0":n}function ni(e,n,s){var d=-1,w=go,A=e.length,K=!0,q=[],fe=q;if(s)K=!1,w=lu;else if(A>=200){var be=n?null:b_(e);if(be)return vo(be);K=!1,w=ws,fe=new bi}else fe=n?[]:q;e:for(;++d<A;){var Ee=e[d],Ie=n?n(Ee):Ee;if(Ee=s||0!==Ee?Ee:0,K&&Ie==Ie){for(var Te=fe.length;Te--;)if(fe[Te]===Ie)continue e;n&&fe.push(Ie),q.push(Ee)}else w(fe,Ie,s)||(fe!==q&&fe.push(Ie),q.push(Ee))}return q}function ju(e,n){return null==(e=Th(e,n=ii(n,e)))||delete e[In(an(n))]}function sh(e,n,s,d){return Ts(e,n,s(wi(e,n)),d)}function jo(e,n,s,d){for(var w=e.length,A=d?w:-1;(d?A--:++A<w)&&n(e[A],A,e););return s?on(e,d?0:A,d?A+1:w):on(e,d?A+1:0,d?w:A)}function oh(e,n){var s=e;return s instanceof pt&&(s=s.value()),hu(n,function(d,w){return w.func.apply(w.thisArg,kn([d],w.args))},s)}function Mu(e,n,s){var d=e.length;if(d<2)return d?ni(e[0]):[];for(var w=-1,A=ye(d);++w<d;)for(var K=e[w],q=-1;++q<d;)q!=w&&(A[w]=Ps(A[w]||K,e[q],n,s));return ni(Sr(A,1),n,s)}function ah(e,n,s){for(var d=-1,w=e.length,A=n.length,K={};++d<w;)s(K,e[d],d<A?n[d]:r);return K}function Bu(e){return rr(e)?e:[]}function Hu(e){return"function"==typeof e?e:Br}function ii(e,n){return et(e)?e:qu(e,n)?[e]:Fh(Rt(e))}var f_=at;function si(e,n,s){var d=e.length;return s=s===r?d:s,!n&&s>=d?e:on(e,n,s)}var uh=Z1||function(e){return xr.clearTimeout(e)};function ch(e,n){if(n)return e.slice();var s=e.length,d=Al?Al(s):new e.constructor(s);return e.copy(d),d}function $u(e){var n=new e.constructor(e.byteLength);return new Do(n).set(new Do(e)),n}function fh(e,n){var s=n?$u(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function lh(e,n){if(e!==n){var s=e!==r,d=null===e,w=e==e,A=Wr(e),K=n!==r,q=null===n,fe=n==n,be=Wr(n);if(!q&&!be&&!A&&e>n||A&&K&&fe&&!q&&!be||d&&K&&fe||!s&&fe||!w)return 1;if(!d&&!A&&!be&&e<n||be&&s&&w&&!d&&!A||q&&s&&w||!K&&w||!fe)return-1}return 0}function hh(e,n,s,d){for(var w=-1,A=e.length,K=s.length,q=-1,fe=n.length,be=gr(A-K,0),Ee=ye(fe+be),Ie=!d;++q<fe;)Ee[q]=n[q];for(;++w<K;)(Ie||w<A)&&(Ee[s[w]]=e[w]);for(;be--;)Ee[q++]=e[w++];return Ee}function dh(e,n,s,d){for(var w=-1,A=e.length,K=-1,q=s.length,fe=-1,be=n.length,Ee=gr(A-q,0),Ie=ye(Ee+be),Te=!d;++w<Ee;)Ie[w]=e[w];for(var Me=w;++fe<be;)Ie[Me+fe]=n[fe];for(;++K<q;)(Te||w<A)&&(Ie[Me+s[K]]=e[w++]);return Ie}function Fr(e,n){var s=-1,d=e.length;for(n||(n=ye(d));++s<d;)n[s]=e[s];return n}function On(e,n,s,d){var w=!s;s||(s={});for(var A=-1,K=n.length;++A<K;){var q=n[A],fe=d?d(s[q],e[q],q,s,e):r;fe===r&&(fe=e[q]),w?jn(s,q,fe):Rs(s,q,fe)}return s}function Mo(e,n){return function(s,d){var w=et(s)?E1:Mm,A=n?n():{};return w(s,e,Je(d,2),A)}}function Yi(e){return at(function(n,s){var d=-1,w=s.length,A=w>1?s[w-1]:r,K=w>2?s[2]:r;for(A=e.length>3&&"function"==typeof A?(w--,A):r,K&&Tr(s[0],s[1],K)&&(A=w<3?r:A,w=1),n=Lt(n);++d<w;){var q=s[d];q&&e(n,q,d,A)}return n})}function ph(e,n){return function(s,d){if(null==s)return s;if(!jr(s))return e(s,d);for(var w=s.length,A=n?w:-1,K=Lt(s);(n?A--:++A<w)&&!1!==d(K[A],A,K););return s}}function gh(e){return function(n,s,d){for(var w=-1,A=Lt(n),K=d(n),q=K.length;q--;){var fe=K[e?q:++w];if(!1===s(A[fe],fe,A))break}return n}}function yh(e){return function(n){var s=$i(n=Rt(n))?vn(n):r,d=s?s[0]:n.charAt(0),w=s?si(s,1).join(""):n.slice(1);return d[e]()+w}}function qi(e){return function(n){return hu(pd(dd(n).replace(a1,"")),e,"")}}function Ns(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=Gi(e.prototype),d=e.apply(s,n);return Vt(d)?d:s}}function vh(e){return function(n,s,d){var w=Lt(n);if(!jr(n)){var A=Je(s,3);n=br(n),s=function(q){return A(w[q],q,w)}}var K=e(n,s,d);return K>-1?w[A?n[K]:K]:r}}function mh(e){return Bn(function(n){var s=n.length,d=s,w=nn.prototype.thru;for(e&&n.reverse();d--;){var A=n[d];if("function"!=typeof A)throw new rn(m);if(w&&!K&&"wrapper"==Jo(A))var K=new nn([],!0)}for(d=K?d:s;++d<s;){var q=Jo(A=n[d]),fe="wrapper"==q?Wu(A):r;K=fe&&Xu(fe[0])&&424==fe[1]&&!fe[4].length&&1==fe[9]?K[Jo(fe[0])].apply(K,fe[3]):1==A.length&&Xu(A)?K[q]():K.thru(A)}return function(){var be=arguments,Ee=be[0];if(K&&1==be.length&&et(Ee))return K.plant(Ee).value();for(var Ie=0,Te=s?n[Ie].apply(this,be):Ee;++Ie<s;)Te=n[Ie].call(this,Te);return Te}})}function Bo(e,n,s,d,w,A,K,q,fe,be){var Ee=128&n,Ie=1&n,Te=2&n,Me=24&n,Ke=512&n,st=Te?r:Ns(e);return function Ve(){for(var ht=arguments.length,mt=ye(ht),Gr=ht;Gr--;)mt[Gr]=arguments[Gr];if(Me)var Nr=Xi(Ve),Yr=A1(mt,Nr);if(d&&(mt=hh(mt,d,w,Me)),A&&(mt=dh(mt,A,K,Me)),ht-=Yr,Me&&ht<be){var nr=ei(mt,Nr);return Eh(e,n,Bo,Ve.placeholder,s,mt,nr,q,fe,be-ht)}var bn=Ie?s:this,Jn=Te?bn[e]:e;return ht=mt.length,q?mt=M_(mt,q):Ke&&ht>1&&mt.reverse(),Ee&&fe<ht&&(mt.length=fe),this&&this!==xr&&this instanceof Ve&&(Jn=st||Ns(Jn)),Jn.apply(bn,mt)}}function _h(e,n){return function(s,d){return function Wm(e,n,s,d){return Sn(e,function(w,A,K){n(d,s(w),A,K)}),d}(s,e,n(d),{})}}function Ho(e,n){return function(s,d){var w;if(s===r&&d===r)return n;if(s!==r&&(w=s),d!==r){if(w===r)return d;"string"==typeof s||"string"==typeof d?(s=Vr(s),d=Vr(d)):(s=ih(s),d=ih(d)),w=e(s,d)}return w}}function zu(e){return Bn(function(n){return n=Jt(n,Kr(Je())),at(function(s){var d=this;return e(n,function(w){return Jr(w,d,s)})})})}function $o(e,n){var s=(n=n===r?" ":Vr(n)).length;if(s<2)return s?Lu(n,e):n;var d=Lu(n,Io(e/zi(n)));return $i(n)?si(vn(d),0,e).join(""):d.slice(0,e)}function bh(e){return function(n,s,d){return d&&"number"!=typeof d&&Tr(n,s,d)&&(s=d=r),n=zn(n),s===r?(s=n,n=0):s=zn(s),function i_(e,n,s,d){for(var w=-1,A=gr(Io((n-e)/(s||1)),0),K=ye(A);A--;)K[d?A:++w]=e,e+=s;return K}(n,s,d=d===r?n<s?1:-1:zn(d),e)}}function zo(e){return function(n,s){return"string"==typeof n&&"string"==typeof s||(n=un(n),s=un(s)),e(n,s)}}function Eh(e,n,s,d,w,A,K,q,fe,be){var Ee=8&n;n|=Ee?32:64,4&(n&=~(Ee?64:32))||(n&=-4);var st=[e,n,w,Ee?A:r,Ee?K:r,Ee?r:A,Ee?r:K,q,fe,be],Ve=s.apply(r,st);return Xu(e)&&Nh(Ve,st),Ve.placeholder=d,Uh(Ve,e,n)}function Ju(e){var n=pr[e];return function(s,d){if(s=un(s),(d=null==d?0:Ir(nt(d),292))&&Ul(s)){var w=(Rt(s)+"e").split("e");return+((w=(Rt(n(w[0]+"e"+(+w[1]+d)))+"e").split("e"))[0]+"e"+(+w[1]-d))}return n(s)}}var b_=Vi&&1/vo(new Vi([,-0]))[1]==yi?function(e){return new Vi(e)}:lc;function wh(e){return function(n){var s=Rr(n);return s==gn?_u(n):s==yn?function j1(ae){var me=-1,ye=Array(ae.size);return ae.forEach(function(Le){ye[++me]=[Le,Le]}),ye}(n):function P1(ae,me){return Jt(me,function(ye){return[ye,ae[ye]]})}(n,e(n))}}function Mn(e,n,s,d,w,A,K,q){var fe=2&n;if(!fe&&"function"!=typeof e)throw new rn(m);var be=d?d.length:0;if(be||(n&=-97,d=w=r),K=K===r?K:gr(nt(K),0),q=q===r?q:nt(q),be-=w?w.length:0,64&n){var Ee=d,Ie=w;d=w=r}var Te=fe?r:Wu(e),Me=[e,n,s,d,w,Ee,Ie,A,K,q];if(Te&&function L_(e,n){var s=e[1],d=n[1],w=s|d;if(!(w<131||(128==d&&8==s||128==d&&256==s&&e[7].length<=n[8]||384==d&&n[7].length<=n[8]&&8==s)))return e;1&d&&(e[2]=n[2],w|=1&s?0:4);var q=n[3];if(q){var fe=e[3];e[3]=fe?hh(fe,q,n[4]):q,e[4]=fe?ei(e[3],ge):n[4]}(q=n[5])&&(e[5]=(fe=e[5])?dh(fe,q,n[6]):q,e[6]=fe?ei(e[5],ge):n[6]),(q=n[7])&&(e[7]=q),128&d&&(e[8]=null==e[8]?n[8]:Ir(e[8],n[8])),null==e[9]&&(e[9]=n[9]),e[0]=n[0],e[1]=w}(Me,Te),e=Me[0],n=Me[1],s=Me[2],d=Me[3],w=Me[4],!(q=Me[9]=Me[9]===r?fe?0:e.length:gr(Me[9]-be,0))&&24&n&&(n&=-25),n&&1!=n)Ke=8==n||16==n?function m_(e,n,s){var d=Ns(e);return function w(){for(var A=arguments.length,K=ye(A),q=A,fe=Xi(w);q--;)K[q]=arguments[q];var be=A<3&&K[0]!==fe&&K[A-1]!==fe?[]:ei(K,fe);return(A-=be.length)<s?Eh(e,n,Bo,w.placeholder,r,K,be,r,r,s-A):Jr(this&&this!==xr&&this instanceof w?d:e,this,K)}}(e,n,q):32!=n&&33!=n||w.length?Bo.apply(r,Me):function __(e,n,s,d){var w=1&n,A=Ns(e);return function K(){for(var q=-1,fe=arguments.length,be=-1,Ee=d.length,Ie=ye(Ee+fe),Te=this&&this!==xr&&this instanceof K?A:e;++be<Ee;)Ie[be]=d[be];for(;fe--;)Ie[be++]=arguments[++q];return Jr(Te,w?s:this,Ie)}}(e,n,s,d);else var Ke=function v_(e,n,s){var d=1&n,w=Ns(e);return function A(){return(this&&this!==xr&&this instanceof A?w:e).apply(d?s:this,arguments)}}(e,n,s);return Uh((Te?rh:Nh)(Ke,Me),e,n)}function Dh(e,n,s,d){return e===r||_n(e,Ki[s])&&!At.call(d,s)?n:e}function xh(e,n,s,d,w,A){return Vt(e)&&Vt(n)&&(A.set(n,e),Lo(e,n,r,xh,A),A.delete(n)),e}function E_(e){return Fs(e)?r:e}function Sh(e,n,s,d,w,A){var K=1&s,q=e.length,fe=n.length;if(q!=fe&&!(K&&fe>q))return!1;var be=A.get(e),Ee=A.get(n);if(be&&Ee)return be==n&&Ee==e;var Ie=-1,Te=!0,Me=2&s?new bi:r;for(A.set(e,n),A.set(n,e);++Ie<q;){var Ke=e[Ie],st=n[Ie];if(d)var Ve=K?d(st,Ke,Ie,n,e,A):d(Ke,st,Ie,e,n,A);if(Ve!==r){if(Ve)continue;Te=!1;break}if(Me){if(!du(n,function(ht,mt){if(!ws(Me,mt)&&(Ke===ht||w(Ke,ht,s,d,A)))return Me.push(mt)})){Te=!1;break}}else if(Ke!==st&&!w(Ke,st,s,d,A)){Te=!1;break}}return A.delete(e),A.delete(n),Te}function Bn(e){return Qu(Ch(e,r,Hh),e+"")}function Ku(e){return Vl(e,br,Yu)}function Vu(e){return Vl(e,Mr,Oh)}var Wu=Po?function(e){return Po.get(e)}:lc;function Jo(e){for(var n=e.name+"",s=Wi[n],d=At.call(Wi,n)?s.length:0;d--;){var w=s[d],A=w.func;if(null==A||A==e)return w.name}return n}function Xi(e){return(At.call(R,"placeholder")?R:e).placeholder}function Je(){var e=R.iteratee||cc;return e=e===cc?Yl:e,arguments.length?e(arguments[0],arguments[1]):e}function Ko(e,n){var s=e.__data__;return function C_(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?s["string"==typeof n?"string":"hash"]:s.map}function Gu(e){for(var n=br(e),s=n.length;s--;){var d=n[s],w=e[d];n[s]=[d,w,Ph(w)]}return n}function Di(e,n){var s=function U1(ae,me){return null==ae?r:ae[me]}(e,n);return Gl(s)?s:r}var Yu=Eu?function(e){return null==e?[]:(e=Lt(e),Qn(Eu(e),function(n){return Tl.call(e,n)}))}:hc,Oh=Eu?function(e){for(var n=[];e;)kn(n,Yu(e)),e=xo(e);return n}:hc,Rr=Cr;function Ih(e,n,s){for(var d=-1,w=(n=ii(n,e)).length,A=!1;++d<w;){var K=In(n[d]);if(!(A=null!=e&&s(e,K)))break;e=e[K]}return A||++d!=w?A:!!(w=null==e?0:e.length)&&Zo(w)&&Hn(K,w)&&(et(e)||Si(e))}function Rh(e){return"function"!=typeof e.constructor||Us(e)?{}:Gi(xo(e))}function A_(e){return et(e)||Si(e)||!!(Nl&&e&&e[Nl])}function Hn(e,n){var s=typeof e;return!!(n=n??Zn)&&("number"==s||"symbol"!=s&&zv.test(e))&&e>-1&&e%1==0&&e<n}function Tr(e,n,s){if(!Vt(s))return!1;var d=typeof n;return!!("number"==d?jr(s)&&Hn(n,s.length):"string"==d&&n in s)&&_n(s[n],e)}function qu(e,n){if(et(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!Wr(e))||Iv.test(e)||!Ov.test(e)||null!=n&&e in Lt(n)}function Xu(e){var n=Jo(e),s=R[n];if("function"!=typeof s||!(n in pt.prototype))return!1;if(e===s)return!0;var d=Wu(s);return!!d&&e===d[0]}(wu&&Rr(new wu(new ArrayBuffer(1)))!=Mi||xs&&Rr(new xs)!=gn||Du&&Rr(Du.resolve())!=zf||Vi&&Rr(new Vi)!=yn||Ss&&Rr(new Ss)!=bs)&&(Rr=function(e){var n=Cr(e),s=n==Un?e.constructor:r,d=s?xi(s):"";if(d)switch(d){case om:return Mi;case am:return gn;case um:return zf;case cm:return yn;case fm:return bs}return n});var N_=_o?$n:dc;function Us(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||Ki)}function Ph(e){return e==e&&!Vt(e)}function Ah(e,n){return function(s){return null!=s&&s[e]===n&&(n!==r||e in Lt(s))}}function Ch(e,n,s){return n=gr(n===r?e.length-1:n,0),function(){for(var d=arguments,w=-1,A=gr(d.length-n,0),K=ye(A);++w<A;)K[w]=d[n+w];w=-1;for(var q=ye(n+1);++w<n;)q[w]=d[w];return q[n]=s(K),Jr(e,this,q)}}function Th(e,n){return n.length<2?e:wi(e,on(n,0,-1))}function M_(e,n){for(var s=e.length,d=Ir(n.length,s),w=Fr(e);d--;){var A=n[d];e[d]=Hn(A,s)?w[A]:r}return e}function Zu(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]}var Nh=Lh(rh),Ls=k1||function(e,n){return xr.setTimeout(e,n)},Qu=Lh(a_);function Uh(e,n,s){var d=n+"";return Qu(e,function P_(e,n){var s=n.length;if(!s)return e;var d=s-1;return n[d]=(s>1?"& ":"")+n[d],n=n.join(s>2?", ":" "),e.replace(Cv,"{\n/* [wrapped with "+n+"] */\n")}(d,function B_(e,n){return tn(hv,function(s){var d="_."+s[0];n&s[1]&&!go(e,d)&&e.push(d)}),e.sort()}(function O_(e){var n=e.match(Tv);return n?n[1].split(Nv):[]}(d),s)))}function Lh(e){var n=0,s=0;return function(){var d=nm(),w=16-(d-s);if(s=d,w>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(r,arguments)}}function Vo(e,n){var s=-1,d=e.length,w=d-1;for(n=n===r?d:n;++s<n;){var A=Uu(s,w),K=e[A];e[A]=e[s],e[s]=K}return e.length=n,e}var Fh=function U_(e){var n=qo(e,function(d){return 500===s.size&&s.clear(),d}),s=n.cache;return n}(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(Rv,function(s,d,w,A){n.push(w?A.replace(Fv,"$1"):d||s)}),n});function In(e){if("string"==typeof e||Wr(e))return e;var n=e+"";return"0"==n&&1/e==-yi?"-0":n}function xi(e){if(null!=e){try{return bo.call(e)}catch{}try{return e+""}catch{}}return""}function jh(e){if(e instanceof pt)return e.clone();var n=new nn(e.__wrapped__,e.__chain__);return n.__actions__=Fr(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}var J_=at(function(e,n){return rr(e)?Ps(e,Sr(n,1,rr,!0)):[]}),K_=at(function(e,n){var s=an(n);return rr(s)&&(s=r),rr(e)?Ps(e,Sr(n,1,rr,!0),Je(s,2)):[]}),V_=at(function(e,n){var s=an(n);return rr(s)&&(s=r),rr(e)?Ps(e,Sr(n,1,rr,!0),r,s):[]});function Mh(e,n,s){var d=null==e?0:e.length;if(!d)return-1;var w=null==s?0:nt(s);return w<0&&(w=gr(d+w,0)),yo(e,Je(n,3),w)}function Bh(e,n,s){var d=null==e?0:e.length;if(!d)return-1;var w=d-1;return s!==r&&(w=nt(s),w=s<0?gr(d+w,0):Ir(w,d-1)),yo(e,Je(n,3),w,!0)}function Hh(e){return null!=e&&e.length?Sr(e,1):[]}function $h(e){return e&&e.length?e[0]:r}var rb=at(function(e){var n=Jt(e,Bu);return n.length&&n[0]===e[0]?Pu(n):[]}),nb=at(function(e){var n=an(e),s=Jt(e,Bu);return n===an(s)?n=r:s.pop(),s.length&&s[0]===e[0]?Pu(s,Je(n,2)):[]}),ib=at(function(e){var n=an(e),s=Jt(e,Bu);return(n="function"==typeof n?n:r)&&s.pop(),s.length&&s[0]===e[0]?Pu(s,r,n):[]});function an(e){var n=null==e?0:e.length;return n?e[n-1]:r}var ub=at(zh);function zh(e,n){return e&&e.length&&n&&n.length?Nu(e,n):e}var lb=Bn(function(e,n){var s=null==e?0:e.length,d=Su(e,n);return th(e,Jt(n,function(w){return Hn(w,s)?+w:w}).sort(lh)),d});function ku(e){return null==e?e:sm.call(e)}var Ib=at(function(e){return ni(Sr(e,1,rr,!0))}),Rb=at(function(e){var n=an(e);return rr(n)&&(n=r),ni(Sr(e,1,rr,!0),Je(n,2))}),Pb=at(function(e){var n=an(e);return n="function"==typeof n?n:r,ni(Sr(e,1,rr,!0),r,n)});function ec(e){if(!e||!e.length)return[];var n=0;return e=Qn(e,function(s){if(rr(s))return n=gr(s.length,n),!0}),vu(n,function(s){return Jt(e,pu(s))})}function Jh(e,n){if(!e||!e.length)return[];var s=ec(e);return null==n?s:Jt(s,function(d){return Jr(n,r,d)})}var Nb=at(function(e,n){return rr(e)?Ps(e,n):[]}),Ub=at(function(e){return Mu(Qn(e,rr))}),Lb=at(function(e){var n=an(e);return rr(n)&&(n=r),Mu(Qn(e,rr),Je(n,2))}),Fb=at(function(e){var n=an(e);return n="function"==typeof n?n:r,Mu(Qn(e,rr),r,n)}),jb=at(ec),Hb=at(function(e){var n=e.length,s=n>1?e[n-1]:r;return s="function"==typeof s?(e.pop(),s):r,Jh(e,s)});function Kh(e){var n=R(e);return n.__chain__=!0,n}function Wo(e,n){return n(e)}var zb=Bn(function(e){var n=e.length,s=n?e[0]:0,d=this.__wrapped__,w=function(A){return Su(A,e)};return!(n>1||this.__actions__.length)&&d instanceof pt&&Hn(s)?((d=d.slice(s,+s+(n?1:0))).__actions__.push({func:Wo,args:[w],thisArg:r}),new nn(d,this.__chain__).thru(function(A){return n&&!A.length&&A.push(r),A})):this.thru(w)}),Xb=Mo(function(e,n,s){At.call(e,s)?++e[s]:jn(e,s,1)}),kb=vh(Mh),eE=vh(Bh);function Vh(e,n){return(et(e)?tn:ri)(e,Je(n,3))}function Wh(e,n){return(et(e)?w1:zl)(e,Je(n,3))}var iE=Mo(function(e,n,s){At.call(e,s)?e[s].push(n):jn(e,s,[n])}),oE=at(function(e,n,s){var d=-1,w="function"==typeof n,A=jr(e)?ye(e.length):[];return ri(e,function(K){A[++d]=w?Jr(n,K,s):As(K,n,s)}),A}),aE=Mo(function(e,n,s){jn(e,s,n)});function Go(e,n){return(et(e)?Jt:ql)(e,Je(n,3))}var cE=Mo(function(e,n,s){e[s?0:1].push(n)},function(){return[[],[]]}),mE=at(function(e,n){if(null==e)return[];var s=n.length;return s>1&&Tr(e,n[0],n[1])?n=[]:s>2&&Tr(n[0],n[1],n[2])&&(n=[n[0]]),kl(e,Sr(n,1),[])}),Yo=Q1||function(){return xr.Date.now()};function Gh(e,n,s){return n=s?r:n,Mn(e,128,r,r,r,r,n=e&&null==n?e.length:n)}function Yh(e,n){var s;if("function"!=typeof n)throw new rn(m);return e=nt(e),function(){return--e>0&&(s=n.apply(this,arguments)),e<=1&&(n=r),s}}var tc=at(function(e,n,s){var d=1;if(s.length){var w=ei(s,Xi(tc));d|=32}return Mn(e,d,n,s,w)}),qh=at(function(e,n,s){var d=3;if(s.length){var w=ei(s,Xi(qh));d|=32}return Mn(n,d,e,s,w)});function Qh(e,n,s){var d,w,A,K,q,fe,be=0,Ee=!1,Ie=!1,Te=!0;if("function"!=typeof e)throw new rn(m);function Me(nr){var bn=d,Jn=w;return d=w=r,be=nr,K=e.apply(Jn,bn)}function Ke(nr){return be=nr,q=Ls(ht,n),Ee?Me(nr):K}function Ve(nr){var bn=nr-fe;return fe===r||bn>=n||bn<0||Ie&&nr-be>=A}function ht(){var nr=Yo();if(Ve(nr))return mt(nr);q=Ls(ht,function st(nr){var vd=n-(nr-fe);return Ie?Ir(vd,A-(nr-be)):vd}(nr))}function mt(nr){return q=r,Te&&d?Me(nr):(d=w=r,K)}function Yr(){var nr=Yo(),bn=Ve(nr);if(d=arguments,w=this,fe=nr,bn){if(q===r)return Ke(fe);if(Ie)return uh(q),q=Ls(ht,n),Me(fe)}return q===r&&(q=Ls(ht,n)),K}return n=un(n)||0,Vt(s)&&(Ee=!!s.leading,A=(Ie="maxWait"in s)?gr(un(s.maxWait)||0,n):A,Te="trailing"in s?!!s.trailing:Te),Yr.cancel=function Gr(){q!==r&&uh(q),be=0,d=fe=w=q=r},Yr.flush=function Nr(){return q===r?K:mt(Yo())},Yr}var bE=at(function(e,n){return $l(e,1,n)}),EE=at(function(e,n,s){return $l(e,un(n)||0,s)});function qo(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new rn(m);var s=function(){var d=arguments,w=n?n.apply(this,d):d[0],A=s.cache;if(A.has(w))return A.get(w);var K=e.apply(this,d);return s.cache=A.set(w,K)||A,K};return s.cache=new(qo.Cache||Fn),s}function Xo(e){if("function"!=typeof e)throw new rn(m);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}qo.Cache=Fn;var xE=f_(function(e,n){var s=(n=1==n.length&&et(n[0])?Jt(n[0],Kr(Je())):Jt(Sr(n,1),Kr(Je()))).length;return at(function(d){for(var w=-1,A=Ir(d.length,s);++w<A;)d[w]=n[w].call(this,d[w]);return Jr(e,this,d)})}),rc=at(function(e,n){var s=ei(n,Xi(rc));return Mn(e,32,r,n,s)}),kh=at(function(e,n){var s=ei(n,Xi(kh));return Mn(e,64,r,n,s)}),SE=Bn(function(e,n){return Mn(e,256,r,r,r,n)});function _n(e,n){return e===n||e!=e&&n!=n}var jE=zo(Ru),ME=zo(function(e,n){return e>=n}),Si=Wl(function(){return arguments}())?Wl:function(e){return qt(e)&&At.call(e,"callee")&&!Tl.call(e,"callee")},et=ye.isArray,BE=dl?Kr(dl):function Gm(e){return qt(e)&&Cr(e)==Es};function jr(e){return null!=e&&Zo(e.length)&&!$n(e)}function rr(e){return qt(e)&&jr(e)}var oi=em||dc,$E=pl?Kr(pl):function Ym(e){return qt(e)&&Cr(e)==ys};function nc(e){if(!qt(e))return!1;var n=Cr(e);return n==uo||"[object DOMException]"==n||"string"==typeof e.message&&"string"==typeof e.name&&!Fs(e)}function $n(e){if(!Vt(e))return!1;var n=Cr(e);return n==co||n==$f||"[object AsyncFunction]"==n||"[object Proxy]"==n}function ed(e){return"number"==typeof e&&e==nt(e)}function Zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Zn}function Vt(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function qt(e){return null!=e&&"object"==typeof e}var td=gl?Kr(gl):function Xm(e){return qt(e)&&Rr(e)==gn};function rd(e){return"number"==typeof e||qt(e)&&Cr(e)==vs}function Fs(e){if(!qt(e)||Cr(e)!=Un)return!1;var n=xo(e);if(null===n)return!0;var s=At.call(n,"constructor")&&n.constructor;return"function"==typeof s&&s instanceof s&&bo.call(s)==Y1}var ic=yl?Kr(yl):function Zm(e){return qt(e)&&Cr(e)==ms},nd=vl?Kr(vl):function Qm(e){return qt(e)&&Rr(e)==yn};function Qo(e){return"string"==typeof e||!et(e)&&qt(e)&&Cr(e)==_s}function Wr(e){return"symbol"==typeof e||qt(e)&&Cr(e)==fo}var Zi=ml?Kr(ml):function km(e){return qt(e)&&Zo(e.length)&&!!Bt[Cr(e)]},nw=zo(Tu),iw=zo(function(e,n){return e<=n});function id(e){if(!e)return[];if(jr(e))return Qo(e)?vn(e):Fr(e);if(Ds&&e[Ds])return function F1(ae){for(var me,ye=[];!(me=ae.next()).done;)ye.push(me.value);return ye}(e[Ds]());var n=Rr(e);return(n==gn?_u:n==yn?vo:Qi)(e)}function zn(e){return e?(e=un(e))===yi||e===-yi?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function nt(e){var n=zn(e),s=n%1;return n==n?s?n-s:n:0}function sd(e){return e?Ei(nt(e),0,xn):0}function un(e){if("number"==typeof e)return e;if(Wr(e))return NaN;if(Vt(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Vt(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=xl(e);var s=Bv.test(e);return s||$v.test(e)?_1(e.slice(2),s?2:8):Mv.test(e)?NaN:+e}function od(e){return On(e,Mr(e))}function Rt(e){return null==e?"":Vr(e)}var ow=Yi(function(e,n){if(Us(n)||jr(n))On(n,br(n),e);else for(var s in n)At.call(n,s)&&Rs(e,s,n[s])}),ad=Yi(function(e,n){On(n,Mr(n),e)}),ko=Yi(function(e,n,s,d){On(n,Mr(n),e,d)}),aw=Yi(function(e,n,s,d){On(n,br(n),e,d)}),uw=Bn(Su),fw=at(function(e,n){e=Lt(e);var s=-1,d=n.length,w=d>2?n[2]:r;for(w&&Tr(n[0],n[1],w)&&(d=1);++s<d;)for(var A=n[s],K=Mr(A),q=-1,fe=K.length;++q<fe;){var be=K[q],Ee=e[be];(Ee===r||_n(Ee,Ki[be])&&!At.call(e,be))&&(e[be]=A[be])}return e}),lw=at(function(e){return e.push(r,xh),Jr(ud,r,e)});function sc(e,n,s){var d=null==e?r:wi(e,n);return d===r?s:d}function oc(e,n){return null!=e&&Ih(e,n,Km)}var Ew=_h(function(e,n,s){null!=n&&"function"!=typeof n.toString&&(n=Eo.call(n)),e[n]=s},uc(Br)),ww=_h(function(e,n,s){null!=n&&"function"!=typeof n.toString&&(n=Eo.call(n)),At.call(e,n)?e[n].push(s):e[n]=[s]},Je),Dw=at(As);function br(e){return jr(e)?jl(e):Cu(e)}function Mr(e){return jr(e)?jl(e,!0):function e_(e){if(!Vt(e))return function F_(e){var n=[];if(null!=e)for(var s in Lt(e))n.push(s);return n}(e);var n=Us(e),s=[];for(var d in e)"constructor"==d&&(n||!At.call(e,d))||s.push(d);return s}(e)}var Ow=Yi(function(e,n,s){Lo(e,n,s)}),ud=Yi(function(e,n,s,d){Lo(e,n,s,d)}),Iw=Bn(function(e,n){var s={};if(null==e)return s;var d=!1;n=Jt(n,function(A){return A=ii(A,e),d||(d=A.length>1),A}),On(e,Vu(e),s),d&&(s=sn(s,7,E_));for(var w=n.length;w--;)ju(s,n[w]);return s}),Pw=Bn(function(e,n){return null==e?{}:function r_(e,n){return eh(e,n,function(s,d){return oc(e,d)})}(e,n)});function cd(e,n){if(null==e)return{};var s=Jt(Vu(e),function(d){return[d]});return n=Je(n),eh(e,s,function(d,w){return n(d,w[0])})}var fd=wh(br),ld=wh(Mr);function Qi(e){return null==e?[]:mu(e,br(e))}var $w=qi(function(e,n,s){return n=n.toLowerCase(),e+(s?hd(n):n)});function hd(e){return ac(Rt(e).toLowerCase())}function dd(e){return(e=Rt(e))&&e.replace(Jv,C1).replace(u1,"")}var Vw=qi(function(e,n,s){return e+(s?"-":"")+n.toLowerCase()}),Ww=qi(function(e,n,s){return e+(s?" ":"")+n.toLowerCase()}),Gw=yh("toLowerCase"),e3=qi(function(e,n,s){return e+(s?"_":"")+n.toLowerCase()}),r3=qi(function(e,n,s){return e+(s?" ":"")+ac(n)}),h3=qi(function(e,n,s){return e+(s?" ":"")+n.toUpperCase()}),ac=yh("toUpperCase");function pd(e,n,s){return e=Rt(e),(n=s?r:n)===r?function L1(ae){return l1.test(ae)}(e)?function J1(ae){return ae.match(c1)||[]}(e):function O1(ae){return ae.match(Uv)||[]}(e):e.match(n)||[]}var gd=at(function(e,n){try{return Jr(e,r,n)}catch(s){return nc(s)?s:new ke(s)}}),d3=Bn(function(e,n){return tn(n,function(s){s=In(s),jn(e,s,tc(e[s],e))}),e});function uc(e){return function(){return e}}var v3=mh(),m3=mh(!0);function Br(e){return e}function cc(e){return Yl("function"==typeof e?e:sn(e,1))}var E3=at(function(e,n){return function(s){return As(s,e,n)}}),w3=at(function(e,n){return function(s){return As(e,s,n)}});function fc(e,n,s){var d=br(n),w=Uo(n,d);null==s&&(!Vt(n)||!w.length&&d.length)&&(s=n,n=e,e=this,w=Uo(n,br(n)));var A=!(Vt(s)&&"chain"in s&&!s.chain),K=$n(e);return tn(w,function(q){var fe=n[q];e[q]=fe,K&&(e.prototype[q]=function(){var be=this.__chain__;if(A||be){var Ee=e(this.__wrapped__),Ie=Ee.__actions__=Fr(this.__actions__);return Ie.push({func:fe,args:arguments,thisArg:e}),Ee.__chain__=be,Ee}return fe.apply(e,kn([this.value()],arguments))})}),e}function lc(){}var S3=zu(Jt),O3=zu(_l),I3=zu(du);function yd(e){return qu(e)?pu(In(e)):function n_(e){return function(n){return wi(n,e)}}(e)}var P3=bh(),A3=bh(!0);function hc(){return[]}function dc(){return!1}var j3=Ho(function(e,n){return e+n},0),M3=Ju("ceil"),B3=Ho(function(e,n){return e/n},1),H3=Ju("floor"),G3=Ho(function(e,n){return e*n},1),Y3=Ju("round"),q3=Ho(function(e,n){return e-n},0);return R.after=function _E(e,n){if("function"!=typeof n)throw new rn(m);return e=nt(e),function(){if(--e<1)return n.apply(this,arguments)}},R.ary=Gh,R.assign=ow,R.assignIn=ad,R.assignInWith=ko,R.assignWith=aw,R.at=uw,R.before=Yh,R.bind=tc,R.bindAll=d3,R.bindKey=qh,R.castArray=function CE(){if(!arguments.length)return[];var e=arguments[0];return et(e)?e:[e]},R.chain=Kh,R.chunk=function H_(e,n,s){n=(s?Tr(e,n,s):n===r)?1:gr(nt(n),0);var d=null==e?0:e.length;if(!d||n<1)return[];for(var w=0,A=0,K=ye(Io(d/n));w<d;)K[A++]=on(e,w,w+=n);return K},R.compact=function $_(e){for(var n=-1,s=null==e?0:e.length,d=0,w=[];++n<s;){var A=e[n];A&&(w[d++]=A)}return w},R.concat=function z_(){var e=arguments.length;if(!e)return[];for(var n=ye(e-1),s=arguments[0],d=e;d--;)n[d-1]=arguments[d];return kn(et(s)?Fr(s):[s],Sr(n,1))},R.cond=function p3(e){var n=null==e?0:e.length,s=Je();return e=n?Jt(e,function(d){if("function"!=typeof d[1])throw new rn(m);return[s(d[0]),d[1]]}):[],at(function(d){for(var w=-1;++w<n;){var A=e[w];if(Jr(A[0],this,d))return Jr(A[1],this,d)}})},R.conforms=function g3(e){return function Hm(e){var n=br(e);return function(s){return Hl(s,e,n)}}(sn(e,1))},R.constant=uc,R.countBy=Xb,R.create=function cw(e,n){var s=Gi(e);return null==n?s:Bl(s,n)},R.curry=function Xh(e,n,s){var d=Mn(e,8,r,r,r,r,r,n=s?r:n);return d.placeholder=Xh.placeholder,d},R.curryRight=function Zh(e,n,s){var d=Mn(e,16,r,r,r,r,r,n=s?r:n);return d.placeholder=Zh.placeholder,d},R.debounce=Qh,R.defaults=fw,R.defaultsDeep=lw,R.defer=bE,R.delay=EE,R.difference=J_,R.differenceBy=K_,R.differenceWith=V_,R.drop=function W_(e,n,s){var d=null==e?0:e.length;return d?on(e,(n=s||n===r?1:nt(n))<0?0:n,d):[]},R.dropRight=function G_(e,n,s){var d=null==e?0:e.length;return d?on(e,0,(n=d-(n=s||n===r?1:nt(n)))<0?0:n):[]},R.dropRightWhile=function Y_(e,n){return e&&e.length?jo(e,Je(n,3),!0,!0):[]},R.dropWhile=function q_(e,n){return e&&e.length?jo(e,Je(n,3),!0):[]},R.fill=function X_(e,n,s,d){var w=null==e?0:e.length;return w?(s&&"number"!=typeof s&&Tr(e,n,s)&&(s=0,d=w),function zm(e,n,s,d){var w=e.length;for((s=nt(s))<0&&(s=-s>w?0:w+s),(d=d===r||d>w?w:nt(d))<0&&(d+=w),d=s>d?0:sd(d);s<d;)e[s++]=n;return e}(e,n,s,d)):[]},R.filter=function Qb(e,n){return(et(e)?Qn:Jl)(e,Je(n,3))},R.flatMap=function tE(e,n){return Sr(Go(e,n),1)},R.flatMapDeep=function rE(e,n){return Sr(Go(e,n),yi)},R.flatMapDepth=function nE(e,n,s){return s=s===r?1:nt(s),Sr(Go(e,n),s)},R.flatten=Hh,R.flattenDeep=function Z_(e){return null!=e&&e.length?Sr(e,yi):[]},R.flattenDepth=function Q_(e,n){return null!=e&&e.length?Sr(e,n=n===r?1:nt(n)):[]},R.flip=function wE(e){return Mn(e,512)},R.flow=v3,R.flowRight=m3,R.fromPairs=function k_(e){for(var n=-1,s=null==e?0:e.length,d={};++n<s;){var w=e[n];d[w[0]]=w[1]}return d},R.functions=function mw(e){return null==e?[]:Uo(e,br(e))},R.functionsIn=function _w(e){return null==e?[]:Uo(e,Mr(e))},R.groupBy=iE,R.initial=function tb(e){return null!=e&&e.length?on(e,0,-1):[]},R.intersection=rb,R.intersectionBy=nb,R.intersectionWith=ib,R.invert=Ew,R.invertBy=ww,R.invokeMap=oE,R.iteratee=cc,R.keyBy=aE,R.keys=br,R.keysIn=Mr,R.map=Go,R.mapKeys=function xw(e,n){var s={};return n=Je(n,3),Sn(e,function(d,w,A){jn(s,n(d,w,A),d)}),s},R.mapValues=function Sw(e,n){var s={};return n=Je(n,3),Sn(e,function(d,w,A){jn(s,w,n(d,w,A))}),s},R.matches=function _3(e){return Xl(sn(e,1))},R.matchesProperty=function b3(e,n){return Zl(e,sn(n,1))},R.memoize=qo,R.merge=Ow,R.mergeWith=ud,R.method=E3,R.methodOf=w3,R.mixin=fc,R.negate=Xo,R.nthArg=function x3(e){return e=nt(e),at(function(n){return Ql(n,e)})},R.omit=Iw,R.omitBy=function Rw(e,n){return cd(e,Xo(Je(n)))},R.once=function DE(e){return Yh(2,e)},R.orderBy=function uE(e,n,s,d){return null==e?[]:(et(n)||(n=null==n?[]:[n]),et(s=d?r:s)||(s=null==s?[]:[s]),kl(e,n,s))},R.over=S3,R.overArgs=xE,R.overEvery=O3,R.overSome=I3,R.partial=rc,R.partialRight=kh,R.partition=cE,R.pick=Pw,R.pickBy=cd,R.property=yd,R.propertyOf=function R3(e){return function(n){return null==e?r:wi(e,n)}},R.pull=ub,R.pullAll=zh,R.pullAllBy=function cb(e,n,s){return e&&e.length&&n&&n.length?Nu(e,n,Je(s,2)):e},R.pullAllWith=function fb(e,n,s){return e&&e.length&&n&&n.length?Nu(e,n,r,s):e},R.pullAt=lb,R.range=P3,R.rangeRight=A3,R.rearg=SE,R.reject=function hE(e,n){return(et(e)?Qn:Jl)(e,Xo(Je(n,3)))},R.remove=function hb(e,n){var s=[];if(!e||!e.length)return s;var d=-1,w=[],A=e.length;for(n=Je(n,3);++d<A;){var K=e[d];n(K,d,e)&&(s.push(K),w.push(d))}return th(e,w),s},R.rest=function OE(e,n){if("function"!=typeof e)throw new rn(m);return at(e,n=n===r?n:nt(n))},R.reverse=ku,R.sampleSize=function pE(e,n,s){return n=(s?Tr(e,n,s):n===r)?1:nt(n),(et(e)?Fm:o_)(e,n)},R.set=function Cw(e,n,s){return null==e?e:Ts(e,n,s)},R.setWith=function Tw(e,n,s,d){return d="function"==typeof d?d:r,null==e?e:Ts(e,n,s,d)},R.shuffle=function gE(e){return(et(e)?jm:u_)(e)},R.slice=function db(e,n,s){var d=null==e?0:e.length;return d?(s&&"number"!=typeof s&&Tr(e,n,s)?(n=0,s=d):(n=null==n?0:nt(n),s=s===r?d:nt(s)),on(e,n,s)):[]},R.sortBy=mE,R.sortedUniq=function bb(e){return e&&e.length?nh(e):[]},R.sortedUniqBy=function Eb(e,n){return e&&e.length?nh(e,Je(n,2)):[]},R.split=function t3(e,n,s){return s&&"number"!=typeof s&&Tr(e,n,s)&&(n=s=r),(s=s===r?xn:s>>>0)?(e=Rt(e))&&("string"==typeof n||null!=n&&!ic(n))&&!(n=Vr(n))&&$i(e)?si(vn(e),0,s):e.split(n,s):[]},R.spread=function IE(e,n){if("function"!=typeof e)throw new rn(m);return n=null==n?0:gr(nt(n),0),at(function(s){var d=s[n],w=si(s,0,n);return d&&kn(w,d),Jr(e,this,w)})},R.tail=function wb(e){var n=null==e?0:e.length;return n?on(e,1,n):[]},R.take=function Db(e,n,s){return e&&e.length?on(e,0,(n=s||n===r?1:nt(n))<0?0:n):[]},R.takeRight=function xb(e,n,s){var d=null==e?0:e.length;return d?on(e,(n=d-(n=s||n===r?1:nt(n)))<0?0:n,d):[]},R.takeRightWhile=function Sb(e,n){return e&&e.length?jo(e,Je(n,3),!1,!0):[]},R.takeWhile=function Ob(e,n){return e&&e.length?jo(e,Je(n,3)):[]},R.tap=function $b(e,n){return n(e),e},R.throttle=function RE(e,n,s){var d=!0,w=!0;if("function"!=typeof e)throw new rn(m);return Vt(s)&&(d="leading"in s?!!s.leading:d,w="trailing"in s?!!s.trailing:w),Qh(e,n,{leading:d,maxWait:n,trailing:w})},R.thru=Wo,R.toArray=id,R.toPairs=fd,R.toPairsIn=ld,R.toPath=function L3(e){return et(e)?Jt(e,In):Wr(e)?[e]:Fr(Fh(Rt(e)))},R.toPlainObject=od,R.transform=function Nw(e,n,s){var d=et(e),w=d||oi(e)||Zi(e);if(n=Je(n,4),null==s){var A=e&&e.constructor;s=w?d?new A:[]:Vt(e)&&$n(A)?Gi(xo(e)):{}}return(w?tn:Sn)(e,function(K,q,fe){return n(s,K,q,fe)}),s},R.unary=function PE(e){return Gh(e,1)},R.union=Ib,R.unionBy=Rb,R.unionWith=Pb,R.uniq=function Ab(e){return e&&e.length?ni(e):[]},R.uniqBy=function Cb(e,n){return e&&e.length?ni(e,Je(n,2)):[]},R.uniqWith=function Tb(e,n){return n="function"==typeof n?n:r,e&&e.length?ni(e,r,n):[]},R.unset=function Uw(e,n){return null==e||ju(e,n)},R.unzip=ec,R.unzipWith=Jh,R.update=function Lw(e,n,s){return null==e?e:sh(e,n,Hu(s))},R.updateWith=function Fw(e,n,s,d){return d="function"==typeof d?d:r,null==e?e:sh(e,n,Hu(s),d)},R.values=Qi,R.valuesIn=function jw(e){return null==e?[]:mu(e,Mr(e))},R.without=Nb,R.words=pd,R.wrap=function AE(e,n){return rc(Hu(n),e)},R.xor=Ub,R.xorBy=Lb,R.xorWith=Fb,R.zip=jb,R.zipObject=function Mb(e,n){return ah(e||[],n||[],Rs)},R.zipObjectDeep=function Bb(e,n){return ah(e||[],n||[],Ts)},R.zipWith=Hb,R.entries=fd,R.entriesIn=ld,R.extend=ad,R.extendWith=ko,fc(R,R),R.add=j3,R.attempt=gd,R.camelCase=$w,R.capitalize=hd,R.ceil=M3,R.clamp=function Mw(e,n,s){return s===r&&(s=n,n=r),s!==r&&(s=(s=un(s))==s?s:0),n!==r&&(n=(n=un(n))==n?n:0),Ei(un(e),n,s)},R.clone=function TE(e){return sn(e,4)},R.cloneDeep=function UE(e){return sn(e,5)},R.cloneDeepWith=function LE(e,n){return sn(e,5,n="function"==typeof n?n:r)},R.cloneWith=function NE(e,n){return sn(e,4,n="function"==typeof n?n:r)},R.conformsTo=function FE(e,n){return null==n||Hl(e,n,br(n))},R.deburr=dd,R.defaultTo=function y3(e,n){return null==e||e!=e?n:e},R.divide=B3,R.endsWith=function zw(e,n,s){e=Rt(e),n=Vr(n);var d=e.length,w=s=s===r?d:Ei(nt(s),0,d);return(s-=n.length)>=0&&e.slice(s,w)==n},R.eq=_n,R.escape=function Jw(e){return(e=Rt(e))&&Dv.test(e)?e.replace(Kf,T1):e},R.escapeRegExp=function Kw(e){return(e=Rt(e))&&Pv.test(e)?e.replace(ru,"\\$&"):e},R.every=function Zb(e,n,s){var d=et(e)?_l:$m;return s&&Tr(e,n,s)&&(n=r),d(e,Je(n,3))},R.find=kb,R.findIndex=Mh,R.findKey=function hw(e,n){return bl(e,Je(n,3),Sn)},R.findLast=eE,R.findLastIndex=Bh,R.findLastKey=function dw(e,n){return bl(e,Je(n,3),Iu)},R.floor=H3,R.forEach=Vh,R.forEachRight=Wh,R.forIn=function pw(e,n){return null==e?e:Ou(e,Je(n,3),Mr)},R.forInRight=function gw(e,n){return null==e?e:Kl(e,Je(n,3),Mr)},R.forOwn=function yw(e,n){return e&&Sn(e,Je(n,3))},R.forOwnRight=function vw(e,n){return e&&Iu(e,Je(n,3))},R.get=sc,R.gt=jE,R.gte=ME,R.has=function bw(e,n){return null!=e&&Ih(e,n,Jm)},R.hasIn=oc,R.head=$h,R.identity=Br,R.includes=function sE(e,n,s,d){e=jr(e)?e:Qi(e),s=s&&!d?nt(s):0;var w=e.length;return s<0&&(s=gr(w+s,0)),Qo(e)?s<=w&&e.indexOf(n,s)>-1:!!w&&Hi(e,n,s)>-1},R.indexOf=function eb(e,n,s){var d=null==e?0:e.length;if(!d)return-1;var w=null==s?0:nt(s);return w<0&&(w=gr(d+w,0)),Hi(e,n,w)},R.inRange=function Bw(e,n,s){return n=zn(n),s===r?(s=n,n=0):s=zn(s),function Vm(e,n,s){return e>=Ir(n,s)&&e<gr(n,s)}(e=un(e),n,s)},R.invoke=Dw,R.isArguments=Si,R.isArray=et,R.isArrayBuffer=BE,R.isArrayLike=jr,R.isArrayLikeObject=rr,R.isBoolean=function HE(e){return!0===e||!1===e||qt(e)&&Cr(e)==gs},R.isBuffer=oi,R.isDate=$E,R.isElement=function zE(e){return qt(e)&&1===e.nodeType&&!Fs(e)},R.isEmpty=function JE(e){if(null==e)return!0;if(jr(e)&&(et(e)||"string"==typeof e||"function"==typeof e.splice||oi(e)||Zi(e)||Si(e)))return!e.length;var n=Rr(e);if(n==gn||n==yn)return!e.size;if(Us(e))return!Cu(e).length;for(var s in e)if(At.call(e,s))return!1;return!0},R.isEqual=function KE(e,n){return Cs(e,n)},R.isEqualWith=function VE(e,n,s){var d=(s="function"==typeof s?s:r)?s(e,n):r;return d===r?Cs(e,n,r,s):!!d},R.isError=nc,R.isFinite=function WE(e){return"number"==typeof e&&Ul(e)},R.isFunction=$n,R.isInteger=ed,R.isLength=Zo,R.isMap=td,R.isMatch=function GE(e,n){return e===n||Au(e,n,Gu(n))},R.isMatchWith=function YE(e,n,s){return s="function"==typeof s?s:r,Au(e,n,Gu(n),s)},R.isNaN=function qE(e){return rd(e)&&e!=+e},R.isNative=function XE(e){if(N_(e))throw new ke("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Gl(e)},R.isNil=function QE(e){return null==e},R.isNull=function ZE(e){return null===e},R.isNumber=rd,R.isObject=Vt,R.isObjectLike=qt,R.isPlainObject=Fs,R.isRegExp=ic,R.isSafeInteger=function kE(e){return ed(e)&&e>=-Zn&&e<=Zn},R.isSet=nd,R.isString=Qo,R.isSymbol=Wr,R.isTypedArray=Zi,R.isUndefined=function ew(e){return e===r},R.isWeakMap=function tw(e){return qt(e)&&Rr(e)==bs},R.isWeakSet=function rw(e){return qt(e)&&"[object WeakSet]"==Cr(e)},R.join=function sb(e,n){return null==e?"":tm.call(e,n)},R.kebabCase=Vw,R.last=an,R.lastIndexOf=function ob(e,n,s){var d=null==e?0:e.length;if(!d)return-1;var w=d;return s!==r&&(w=(w=nt(s))<0?gr(d+w,0):Ir(w,d-1)),n==n?function B1(ae,me,ye){for(var Le=ye+1;Le--;)if(ae[Le]===me)return Le;return Le}(e,n,w):yo(e,El,w,!0)},R.lowerCase=Ww,R.lowerFirst=Gw,R.lt=nw,R.lte=iw,R.max=function $3(e){return e&&e.length?No(e,Br,Ru):r},R.maxBy=function z3(e,n){return e&&e.length?No(e,Je(n,2),Ru):r},R.mean=function J3(e){return wl(e,Br)},R.meanBy=function K3(e,n){return wl(e,Je(n,2))},R.min=function V3(e){return e&&e.length?No(e,Br,Tu):r},R.minBy=function W3(e,n){return e&&e.length?No(e,Je(n,2),Tu):r},R.stubArray=hc,R.stubFalse=dc,R.stubObject=function C3(){return{}},R.stubString=function T3(){return""},R.stubTrue=function N3(){return!0},R.multiply=G3,R.nth=function ab(e,n){return e&&e.length?Ql(e,nt(n)):r},R.noConflict=function D3(){return xr._===this&&(xr._=q1),this},R.noop=lc,R.now=Yo,R.pad=function Yw(e,n,s){e=Rt(e);var d=(n=nt(n))?zi(e):0;if(!n||d>=n)return e;var w=(n-d)/2;return $o(Ro(w),s)+e+$o(Io(w),s)},R.padEnd=function qw(e,n,s){e=Rt(e);var d=(n=nt(n))?zi(e):0;return n&&d<n?e+$o(n-d,s):e},R.padStart=function Xw(e,n,s){e=Rt(e);var d=(n=nt(n))?zi(e):0;return n&&d<n?$o(n-d,s)+e:e},R.parseInt=function Zw(e,n,s){return s||null==n?n=0:n&&(n=+n),im(Rt(e).replace(nu,""),n||0)},R.random=function Hw(e,n,s){if(s&&"boolean"!=typeof s&&Tr(e,n,s)&&(n=s=r),s===r&&("boolean"==typeof n?(s=n,n=r):"boolean"==typeof e&&(s=e,e=r)),e===r&&n===r?(e=0,n=1):(e=zn(e),n===r?(n=e,e=0):n=zn(n)),e>n){var d=e;e=n,n=d}if(s||e%1||n%1){var w=Ll();return Ir(e+w*(n-e+m1("1e-"+((w+"").length-1))),n)}return Uu(e,n)},R.reduce=function fE(e,n,s){var d=et(e)?hu:Dl,w=arguments.length<3;return d(e,Je(n,4),s,w,ri)},R.reduceRight=function lE(e,n,s){var d=et(e)?D1:Dl,w=arguments.length<3;return d(e,Je(n,4),s,w,zl)},R.repeat=function Qw(e,n,s){return n=(s?Tr(e,n,s):n===r)?1:nt(n),Lu(Rt(e),n)},R.replace=function kw(){var e=arguments,n=Rt(e[0]);return e.length<3?n:n.replace(e[1],e[2])},R.result=function Aw(e,n,s){var d=-1,w=(n=ii(n,e)).length;for(w||(w=1,e=r);++d<w;){var A=null==e?r:e[In(n[d])];A===r&&(d=w,A=s),e=$n(A)?A.call(e):A}return e},R.round=Y3,R.runInContext=ae,R.sample=function dE(e){return(et(e)?Ml:s_)(e)},R.size=function yE(e){if(null==e)return 0;if(jr(e))return Qo(e)?zi(e):e.length;var n=Rr(e);return n==gn||n==yn?e.size:Cu(e).length},R.snakeCase=e3,R.some=function vE(e,n,s){var d=et(e)?du:c_;return s&&Tr(e,n,s)&&(n=r),d(e,Je(n,3))},R.sortedIndex=function pb(e,n){return Fo(e,n)},R.sortedIndexBy=function gb(e,n,s){return Fu(e,n,Je(s,2))},R.sortedIndexOf=function yb(e,n){var s=null==e?0:e.length;if(s){var d=Fo(e,n);if(d<s&&_n(e[d],n))return d}return-1},R.sortedLastIndex=function vb(e,n){return Fo(e,n,!0)},R.sortedLastIndexBy=function mb(e,n,s){return Fu(e,n,Je(s,2),!0)},R.sortedLastIndexOf=function _b(e,n){if(null!=e&&e.length){var d=Fo(e,n,!0)-1;if(_n(e[d],n))return d}return-1},R.startCase=r3,R.startsWith=function n3(e,n,s){return e=Rt(e),s=null==s?0:Ei(nt(s),0,e.length),n=Vr(n),e.slice(s,s+n.length)==n},R.subtract=q3,R.sum=function X3(e){return e&&e.length?yu(e,Br):0},R.sumBy=function Z3(e,n){return e&&e.length?yu(e,Je(n,2)):0},R.template=function i3(e,n,s){var d=R.templateSettings;s&&Tr(e,n,s)&&(n=r),e=Rt(e),n=ko({},n,d,Dh);var q,fe,w=ko({},n.imports,d.imports,Dh),A=br(w),K=mu(w,A),be=0,Ee=n.interpolate||lo,Ie="__p += '",Te=bu((n.escape||lo).source+"|"+Ee.source+"|"+(Ee===Vf?jv:lo).source+"|"+(n.evaluate||lo).source+"|$","g"),Me="//# sourceURL="+(At.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++d1+"]")+"\n";e.replace(Te,function(Ve,ht,mt,Gr,Nr,Yr){return mt||(mt=Gr),Ie+=e.slice(be,Yr).replace(Kv,N1),ht&&(q=!0,Ie+="' +\n__e("+ht+") +\n'"),Nr&&(fe=!0,Ie+="';\n"+Nr+";\n__p += '"),mt&&(Ie+="' +\n((__t = ("+mt+")) == null ? '' : __t) +\n'"),be=Yr+Ve.length,Ve}),Ie+="';\n";var Ke=At.call(n,"variable")&&n.variable;if(Ke){if(Lv.test(Ke))throw new ke("Invalid `variable` option passed into `_.template`")}else Ie="with (obj) {\n"+Ie+"\n}\n";Ie=(fe?Ie.replace(_v,""):Ie).replace(bv,"$1").replace(Ev,"$1;"),Ie="function("+(Ke||"obj")+") {\n"+(Ke?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(q?", __e = _.escape":"")+(fe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ie+"return __p\n}";var st=gd(function(){return It(A,Me+"return "+Ie).apply(r,K)});if(st.source=Ie,nc(st))throw st;return st},R.times=function U3(e,n){if((e=nt(e))<1||e>Zn)return[];var s=xn,d=Ir(e,xn);n=Je(n),e-=xn;for(var w=vu(d,n);++s<e;)n(s);return w},R.toFinite=zn,R.toInteger=nt,R.toLength=sd,R.toLower=function s3(e){return Rt(e).toLowerCase()},R.toNumber=un,R.toSafeInteger=function sw(e){return e?Ei(nt(e),-Zn,Zn):0===e?e:0},R.toString=Rt,R.toUpper=function o3(e){return Rt(e).toUpperCase()},R.trim=function a3(e,n,s){if((e=Rt(e))&&(s||n===r))return xl(e);if(!e||!(n=Vr(n)))return e;var d=vn(e),w=vn(n);return si(d,Sl(d,w),Ol(d,w)+1).join("")},R.trimEnd=function u3(e,n,s){if((e=Rt(e))&&(s||n===r))return e.slice(0,Rl(e)+1);if(!e||!(n=Vr(n)))return e;var d=vn(e);return si(d,0,Ol(d,vn(n))+1).join("")},R.trimStart=function c3(e,n,s){if((e=Rt(e))&&(s||n===r))return e.replace(nu,"");if(!e||!(n=Vr(n)))return e;var d=vn(e);return si(d,Sl(d,vn(n))).join("")},R.truncate=function f3(e,n){var s=30,d="...";if(Vt(n)){var w="separator"in n?n.separator:w;s="length"in n?nt(n.length):s,d="omission"in n?Vr(n.omission):d}var A=(e=Rt(e)).length;if($i(e)){var K=vn(e);A=K.length}if(s>=A)return e;var q=s-zi(d);if(q<1)return d;var fe=K?si(K,0,q).join(""):e.slice(0,q);if(w===r)return fe+d;if(K&&(q+=fe.length-q),ic(w)){if(e.slice(q).search(w)){var be,Ee=fe;for(w.global||(w=bu(w.source,Rt(Wf.exec(w))+"g")),w.lastIndex=0;be=w.exec(Ee);)var Ie=be.index;fe=fe.slice(0,Ie===r?q:Ie)}}else if(e.indexOf(Vr(w),q)!=q){var Te=fe.lastIndexOf(w);Te>-1&&(fe=fe.slice(0,Te))}return fe+d},R.unescape=function l3(e){return(e=Rt(e))&&wv.test(e)?e.replace(Jf,H1):e},R.uniqueId=function F3(e){var n=++G1;return Rt(e)+n},R.upperCase=h3,R.upperFirst=ac,R.each=Vh,R.eachRight=Wh,R.first=$h,fc(R,function(){var e={};return Sn(R,function(n,s){At.call(R.prototype,s)||(e[s]=n)}),e}(),{chain:!1}),R.VERSION="4.17.21",tn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){R[e].placeholder=R}),tn(["drop","take"],function(e,n){pt.prototype[e]=function(s){s=s===r?1:gr(nt(s),0);var d=this.__filtered__&&!n?new pt(this):this.clone();return d.__filtered__?d.__takeCount__=Ir(s,d.__takeCount__):d.__views__.push({size:Ir(s,xn),type:e+(d.__dir__<0?"Right":"")}),d},pt.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),tn(["filter","map","takeWhile"],function(e,n){var s=n+1,d=1==s||3==s;pt.prototype[e]=function(w){var A=this.clone();return A.__iteratees__.push({iteratee:Je(w,3),type:s}),A.__filtered__=A.__filtered__||d,A}}),tn(["head","last"],function(e,n){var s="take"+(n?"Right":"");pt.prototype[e]=function(){return this[s](1).value()[0]}}),tn(["initial","tail"],function(e,n){var s="drop"+(n?"":"Right");pt.prototype[e]=function(){return this.__filtered__?new pt(this):this[s](1)}}),pt.prototype.compact=function(){return this.filter(Br)},pt.prototype.find=function(e){return this.filter(e).head()},pt.prototype.findLast=function(e){return this.reverse().find(e)},pt.prototype.invokeMap=at(function(e,n){return"function"==typeof e?new pt(this):this.map(function(s){return As(s,e,n)})}),pt.prototype.reject=function(e){return this.filter(Xo(Je(e)))},pt.prototype.slice=function(e,n){e=nt(e);var s=this;return s.__filtered__&&(e>0||n<0)?new pt(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),n!==r&&(s=(n=nt(n))<0?s.dropRight(-n):s.take(n-e)),s)},pt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},pt.prototype.toArray=function(){return this.take(xn)},Sn(pt.prototype,function(e,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),d=/^(?:head|last)$/.test(n),w=R[d?"take"+("last"==n?"Right":""):n],A=d||/^find/.test(n);w&&(R.prototype[n]=function(){var K=this.__wrapped__,q=d?[1]:arguments,fe=K instanceof pt,be=q[0],Ee=fe||et(K),Ie=function(ht){var mt=w.apply(R,kn([ht],q));return d&&Te?mt[0]:mt};Ee&&s&&"function"==typeof be&&1!=be.length&&(fe=Ee=!1);var Te=this.__chain__,Me=!!this.__actions__.length,Ke=A&&!Te,st=fe&&!Me;if(!A&&Ee){K=st?K:new pt(this);var Ve=e.apply(K,q);return Ve.__actions__.push({func:Wo,args:[Ie],thisArg:r}),new nn(Ve,Te)}return Ke&&st?e.apply(this,q):(Ve=this.thru(Ie),Ke?d?Ve.value()[0]:Ve.value():Ve)})}),tn(["pop","push","shift","sort","splice","unshift"],function(e){var n=mo[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",d=/^(?:pop|shift)$/.test(e);R.prototype[e]=function(){var w=arguments;if(d&&!this.__chain__){var A=this.value();return n.apply(et(A)?A:[],w)}return this[s](function(K){return n.apply(et(K)?K:[],w)})}}),Sn(pt.prototype,function(e,n){var s=R[n];if(s){var d=s.name+"";At.call(Wi,d)||(Wi[d]=[]),Wi[d].push({name:n,func:s})}}),Wi[Bo(r,2).name]=[{name:"wrapper",func:r}],pt.prototype.clone=function lm(){var e=new pt(this.__wrapped__);return e.__actions__=Fr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Fr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Fr(this.__views__),e},pt.prototype.reverse=function hm(){if(this.__filtered__){var e=new pt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},pt.prototype.value=function dm(){var e=this.__wrapped__.value(),n=this.__dir__,s=et(e),d=n<0,w=s?e.length:0,A=function S_(e,n,s){for(var d=-1,w=s.length;++d<w;){var A=s[d],K=A.size;switch(A.type){case"drop":e+=K;break;case"dropRight":n-=K;break;case"take":n=Ir(n,e+K);break;case"takeRight":e=gr(e,n-K)}}return{start:e,end:n}}(0,w,this.__views__),K=A.start,q=A.end,fe=q-K,be=d?q:K-1,Ee=this.__iteratees__,Ie=Ee.length,Te=0,Me=Ir(fe,this.__takeCount__);if(!s||!d&&w==fe&&Me==fe)return oh(e,this.__actions__);var Ke=[];e:for(;fe--&&Te<Me;){for(var st=-1,Ve=e[be+=n];++st<Ie;){var ht=Ee[st],Gr=ht.type,Nr=(0,ht.iteratee)(Ve);if(2==Gr)Ve=Nr;else if(!Nr){if(1==Gr)continue e;break e}}Ke[Te++]=Ve}return Ke},R.prototype.at=zb,R.prototype.chain=function Jb(){return Kh(this)},R.prototype.commit=function Kb(){return new nn(this.value(),this.__chain__)},R.prototype.next=function Vb(){this.__values__===r&&(this.__values__=id(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},R.prototype.plant=function Gb(e){for(var n,s=this;s instanceof Co;){var d=jh(s);d.__index__=0,d.__values__=r,n?w.__wrapped__=d:n=d;var w=d;s=s.__wrapped__}return w.__wrapped__=e,n},R.prototype.reverse=function Yb(){var e=this.__wrapped__;if(e instanceof pt){var n=e;return this.__actions__.length&&(n=new pt(this)),(n=n.reverse()).__actions__.push({func:Wo,args:[ku],thisArg:r}),new nn(n,this.__chain__)}return this.thru(ku)},R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=function qb(){return oh(this.__wrapped__,this.__actions__)},R.prototype.first=R.prototype.head,Ds&&(R.prototype[Ds]=function Wb(){return this}),R}();vi?((vi.exports=Ji)._=Ji,cu._=Ji):xr._=Ji}.call(ps);var Py=Object.defineProperty,Ay=Object.defineProperties,Cy=Object.getOwnPropertyDescriptors,Lf=Object.getOwnPropertySymbols,Ty=Object.prototype.hasOwnProperty,Ny=Object.prototype.propertyIsEnumerable,Ff=(u,t,r)=>t in u?Py(u,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[t]=r,io=(u,t)=>{for(var r in t||(t={}))Ty.call(t,r)&&Ff(u,r,t[r]);if(Lf)for(var r of Lf(t))Ny.call(t,r)&&Ff(u,r,t[r]);return u},Uy=(u,t)=>Ay(u,Cy(t));function kr(u,t,r){let o;const a=Ka(u);return t.rpcMap&&(o=t.rpcMap[a]),o||(o=`https://rpc.walletconnect.com/v1?chainId=eip155:${a}&projectId=${r}`),o}function Ka(u){return u.includes("eip155")?Number(u.split(":")[1]):Number(u)}function jf(u){var t,r,o,a;const l={};if(!pi(u))return l;for(const[m,T]of Object.entries(u)){const X=Ra(m)?[m]:T.chains,Q=T.methods||[],ge=T.events||[],Oe=T.rpcMap||{},Xe=us(m);l[Xe]=Uy(io(io({},l[Xe]),T),{chains:En(X,null==(t=l[Xe])?void 0:t.chains),methods:En(Q,null==(r=l[Xe])?void 0:r.methods),events:En(ge,null==(o=l[Xe])?void 0:o.events),rpcMap:io(io({},Oe),null==(a=l[Xe])?void 0:a.rpcMap)})}return l}const gi=(u,t)=>{const r=o=>{o.request!==t.request||o.topic!==t.topic||(u.events.removeListener("session_request_sent",r),function By(u){if(typeof window<"u")try{const t=window.localStorage.getItem("WALLETCONNECT_DEEPLINK_CHOICE");if(t){const o=JSON.parse(t)?.href;if("string"==typeof o){o.endsWith("/")&&o.slice(0,-1);const a=`${o}/wc?requestId=${u.id}&sessionTopic=${u.topic}`;window.open(a,"_self","noreferrer noopener")}}}catch(t){console.error(t)}}(t))};u.on("session_request_sent",r)};class Hy{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?(gi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const o=r||kr(`${this.name}:${t}`,this.namespace);if(!o)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var o;t[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const o=this.createHttpProvider(t,r);o&&(this.httpProviders[t]=o)}createHttpProvider(t,r){const o=r||kr(t,this.namespace);return typeof o>"u"?void 0:new Gn(new Fi(o))}}class $y{constructor(t){this.name="eip155",this.namespace=t.namespace,this.client=t.client,this.events=t.events,this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(t){var r=this;return O(function*(){var o;switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return r.getAccounts();case"wallet_switchEthereumChain":return r.handleSwitchChain(t.request.params?null==(o=t.request.params[0])?void 0:o.chainId:"0x0"),null;case"eth_chainId":return parseInt(r.getDefaultChain())}return r.namespace.methods.includes(t.request.method)?(gi(r.client,t),yield r.client.request(t)):r.getHttpProvider().request(t.request)})()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){const o=Ka(t);if(!this.httpProviders[o]){const a=r||kr(`${this.name}:${o}`,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${o}`);this.setHttpProvider(o,a)}this.chainId=o,this.events.emit("default_chain_changed",`${this.name}:${o}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const o=r||kr(`${this.name}:${t}`,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Gn(new Tf(o))}setHttpProvider(t,r){const o=this.createHttpProvider(t,r);o&&(this.httpProviders[t]=o)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var o;const a=Ka(r);t[a]=this.createHttpProvider(a,null==(o=this.namespace.rpcMap)?void 0:o[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}handleSwitchChain(t){const r=parseInt(t,16);(function Ly(u,t){if(!t.includes(u))throw new Error(`Chain '${u}' not approved. Please use one of the following: ${t.toString()}`)})(`${this.name}:${r}`,this.namespace.chains),this.setDefaultChain(`${r}`)}}class zy{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?(gi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const o=r||kr(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,o)}this.chainId=t,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var o;t[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const o=this.createHttpProvider(t,r);o&&(this.httpProviders[t]=o)}createHttpProvider(t,r){const o=r||kr(t,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Gn(new Fi(o))}}class Jy{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?(gi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const o=r||kr(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var o;t[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const o=this.createHttpProvider(t,r);o&&(this.httpProviders[t]=o)}createHttpProvider(t,r){const o=r||kr(t,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Gn(new Fi(o))}}class Ky{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?(gi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const o=r||this.getCardanoRPCUrl(t);if(!o)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const o=this.getCardanoRPCUrl(r);t[r]=this.createHttpProvider(r,o)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const o=this.createHttpProvider(t,r);o&&(this.httpProviders[t]=o)}createHttpProvider(t,r){const o=r||this.getCardanoRPCUrl(t);return typeof o>"u"?void 0:new Gn(new Fi(o))}}class Vy{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?(gi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const o=r||kr(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,o)}this.chainId=t,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var o;t[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const o=this.createHttpProvider(t,r);o&&(this.httpProviders[t]=o)}createHttpProvider(t,r){const o=r||kr(t,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Gn(new Fi(o))}}class Wy{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=t.events,this.client=t.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?(gi(this.client,t),this.client.request(t)):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const o=r||kr(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,o)}this.chainId=t,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var o;t[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const o=this.createHttpProvider(t,r);o&&(this.httpProviders[t]=o)}createHttpProvider(t,r){const o=r||kr(t,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Gn(new Fi(o))}}var Gy=Object.defineProperty,Yy=Object.defineProperties,qy=Object.getOwnPropertyDescriptors,Mf=Object.getOwnPropertySymbols,Xy=Object.prototype.hasOwnProperty,Zy=Object.prototype.propertyIsEnumerable,Bf=(u,t,r)=>t in u?Gy(u,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[t]=r,so=(u,t)=>{for(var r in t||(t={}))Xy.call(t,r)&&Bf(u,r,t[r]);if(Mf)for(var r of Mf(t))Zy.call(t,r)&&Bf(u,r,t[r]);return u},Va=(u,t)=>Yy(u,qy(t));class Wa{constructor(t){this.events=new(De()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,B.pino)((0,B.getDefaultLoggerOptions)({level:t?.logger||"error"}))}static init(t){return O(function*(){const r=new Wa(t);return yield r.initialize(),r})()}request(t,r){var o=this;return O(function*(){const[a,l]=o.validateChain(r);if(!o.session)throw new Error("Please call connect() before request()");return yield o.getProvider(a).request({request:so({},t),chainId:`${a}:${l}`,topic:o.session.topic})})()}sendAsync(t,r,o){this.request(t,o).then(a=>r(null,a)).catch(a=>r(a,void 0))}enable(){var t=this;return O(function*(){if(!t.client)throw new Error("Sign Client not initialized");return t.session||(yield t.connect({namespaces:t.namespaces,optionalNamespaces:t.optionalNamespaces,sessionProperties:t.sessionProperties})),yield t.requestAccounts()})()}disconnect(){var t=this;return O(function*(){var r;if(!t.session)throw new Error("Please call connect() before enable()");yield t.client.disconnect({topic:null==(r=t.session)?void 0:r.topic,reason:fr("USER_DISCONNECTED")}),yield t.cleanup()})()}connect(t){var r=this;return O(function*(){if(!r.client)throw new Error("Sign Client not initialized");if(r.setNamespaces(t),yield r.cleanupPendingPairings(),!t.skipPairing)return yield r.pair(t.pairingTopic)})()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}pair(t){var r=this;return O(function*(){r.shouldAbortPairingAttempt=!1;let o=0;do{if(r.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(o>=r.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:a,approval:l}=yield r.client.connect({pairingTopic:t,requiredNamespaces:r.namespaces,optionalNamespaces:r.optionalNamespaces,sessionProperties:r.sessionProperties});a&&(r.uri=a,r.events.emit("display_uri",a)),yield l().then(m=>{r.session=m}).catch(m=>{if(m.message!==Of)throw m;o++})}while(!r.session);return r.onConnect(),r.session})()}setDefaultChain(t,r){try{const[o,a]=this.validateChain(t);this.getProvider(o).setDefaultChain(a,r)}catch(o){if(!/Please call connect/.test(o.message))throw o}}cleanupPendingPairings(t={}){var r=this;return O(function*(){r.logger.info("Cleaning up inactive pairings...");const o=r.client.pairing.getAll();if(Li(o)){for(const a of o)t.deletePairings?r.client.core.expirer.set(a.topic,0):yield r.client.core.relayer.subscriber.unsubscribe(a.topic);r.logger.info(`Inactive pairings cleared: ${o.length}`)}})()}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}checkStorage(){var t=this;return O(function*(){t.namespaces=(yield t.getFromStore("namespaces"))||{},t.optionalNamespaces=(yield t.getFromStore("optionalNamespaces"))||{},t.client.session.length&&(t.session=t.client.session.get(t.client.session.keys[t.client.session.keys.length-1]),t.createProviders())})()}initialize(){var t=this;return O(function*(){t.logger.trace("Initialized"),yield t.createClient(),yield t.checkStorage(),t.registerEventListeners()})()}createClient(){var t=this;return O(function*(){t.client=t.providerOpts.client||(yield za.init({logger:t.providerOpts.logger||"error",relayUrl:t.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:t.providerOpts.projectId,metadata:t.providerOpts.metadata,storageOptions:t.providerOpts.storageOptions,name:t.providerOpts.name})),t.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");[...new Set(Object.keys(this.session.namespaces).map(t=>us(t)))].forEach(t=>{if(!this.session)return;const r=function jy(u,t){const r=Object.keys(t.namespaces).filter(a=>a.includes(u));if(!r.length)return[];const o=[];return r.forEach(a=>{o.push(...t.namespaces[a].accounts)}),o}(t,this.session),o=function Fy(u){return u.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}(r),a=function My(u,t={}){const r=jf(u),o=jf(t);return Ja.exports.merge(r,o)}(this.namespaces,this.optionalNamespaces),l=Va(so({},a[t]),{accounts:r,chains:o});switch(t){case"eip155":this.rpcProviders[t]=new $y({client:this.client,namespace:l,events:this.events});break;case"solana":this.rpcProviders[t]=new zy({client:this.client,namespace:l,events:this.events});break;case"cosmos":this.rpcProviders[t]=new Jy({client:this.client,namespace:l,events:this.events});break;case"polkadot":this.rpcProviders[t]=new Hy({client:this.client,namespace:l,events:this.events});break;case"cip34":this.rpcProviders[t]=new Ky({client:this.client,namespace:l,events:this.events});break;case"elrond":this.rpcProviders[t]=new Vy({client:this.client,namespace:l,events:this.events});break;case"multiversx":this.rpcProviders[t]=new Wy({client:this.client,namespace:l,events:this.events})}})}registerEventListeners(){var t=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",r=>{this.events.emit("session_ping",r)}),this.client.on("session_event",r=>{const{params:o}=r,{event:a}=o;"accountsChanged"===a.name?this.events.emit("accountsChanged",a.data):"chainChanged"===a.name?this.onChainChanged(o.chainId):this.events.emit(a.name,a.data),this.events.emit("session_event",r)}),this.client.on("session_update",({topic:r,params:o})=>{var a;const{namespaces:l}=o,m=null==(a=this.client)?void 0:a.session.get(r);this.session=Va(so({},m),{namespaces:l}),this.onSessionUpdate(),this.events.emit("session_update",{topic:r,params:o})}),this.client.on("session_delete",function(){var r=O(function*(o){yield t.cleanup(),t.events.emit("session_delete",o),t.events.emit("disconnect",Va(so({},fr("USER_DISCONNECTED")),{data:o.topic}))});return function(o){return r.apply(this,arguments)}}()),this.on("default_chain_changed",r=>{this.onChainChanged(r,!0)})}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace(null==(r=this.session)?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r,optionalNamespaces:o,sessionProperties:a}=t;if(!r||!Object.keys(r).length)throw new Error("Namespaces must be not empty");this.namespaces=r,this.optionalNamespaces=o,this.sessionProperties=a,this.persist("namespaces",r),this.persist("optionalNamespaces",o)}validateChain(t){const[r,o]=t?.split(":")||["",""];if(r&&!Object.keys(this.namespaces).map(m=>us(m)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&o)return[r,o];const a=us(Object.keys(this.namespaces)[0]);return[a,this.rpcProviders[a].getDefaultChain()]}requestAccounts(){var t=this;return O(function*(){const[r]=t.validateChain();return yield t.getProvider(r).requestAccounts()})()}onChainChanged(t,r=!1){var o;const[a,l]=this.validateChain(t);r||this.getProvider(a).setDefaultChain(l),(null!=(o=this.namespaces[a])?o:this.namespaces[`${a}:${l}`]).defaultChain=l,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",l)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}cleanup(){var t=this;return O(function*(){t.session=void 0,yield t.cleanupPendingPairings({deletePairings:!0})})()}persist(t,r){this.client.core.storage.setItem(`${Uf}/${t}`,r)}getFromStore(t){var r=this;return O(function*(){return yield r.client.core.storage.getItem(`${Uf}/${t}`)})()}}var ev={1:"https://ethereum.publicnode.com",5:"https://eth-goerli.g.alchemy.com/v2/yVhq9zPJorAWsw-F87fEabSUl7cCU6z4",11155111:"https://sepolia.infura.io/v3/9f79b2f9274344af90b8d4e244b580ef",137:"https://polygon-rpc.com/",80001:"https://polygon-mumbai.g.alchemy.com/v2/rVI6pOV4irVsrw20cJxc1fxK_1cSeiY0",56:"https://bsc-dataseed.binance.org/",97:"https://data-seed-prebsc-1-s1.binance.org:8545",43114:"https://api.avax.network/ext/bc/C/rpc",43113:"https://api.avax-test.network/ext/bc/C/rpc",250:"https://rpc.fantom.network/",25:"https://evm-cronos.crypto.org",338:"https://evm-t3.cronos.org",42161:"https://arb1.arbitrum.io/rpc",421613:"https://arb-goerli.g.alchemy.com/v2/nFrflomLgsQQL5NWjGileAVqIGGxZWce",10:"https://mainnet.optimism.io"},tv=["eip155:1","eip155:137","eip155:250","eip155:25","eip155:42161","eip155:10"],rv=function(){return function(u,t,r,o){return new(r||(r=Promise))(function(l,m){function T(ge){try{Q(o.next(ge))}catch(Oe){m(Oe)}}function X(ge){try{Q(o.throw(ge))}catch(Oe){m(Oe)}}function Q(ge){ge.done?l(ge.value):function a(l){return l instanceof r?l:new r(function(m){m(l)})}(ge.value).then(T,X)}Q((o=o.apply(u,t||[])).next())})}(void 0,void 0,void 0,function(){return function(u,t){var o,a,l,m,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return m={next:T(0),throw:T(1),return:T(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function T(Q){return function(ge){return function X(Q){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,Q[0]&&(r=0)),r;)try{if(o=1,a&&(l=2&Q[0]?a.return:Q[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,Q[1])).done)return l;switch(a=0,l&&(Q=[2&Q[0],l.value]),Q[0]){case 0:case 1:l=Q;break;case 4:return r.label++,{value:Q[1],done:!1};case 5:r.label++,a=Q[1],Q=[0];continue;case 7:Q=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===Q[0]||2===Q[0])){r=0;continue}if(3===Q[0]&&(!l||Q[1]>l[0]&&Q[1]<l[3])){r.label=Q[1];break}if(6===Q[0]&&r.label<l[1]){r.label=l[1],l=Q;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(Q);break}l[2]&&r.ops.pop(),r.trys.pop();continue}Q=t.call(u,r)}catch(ge){Q=[6,ge],a=0}finally{o=l=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([Q,ge])}}}(this,function(u){switch(u.label){case 0:return[4,Wa.init({projectId:"2ec7ead81da1226703ad789c0b2f7b30",logger:"debug",relayUrl:"wss://relay.walletconnect.com"})];case 1:return[2,u.sent()]}})})}},32222:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var I=D(17686);function te(P,N,E){return void 0===N&&(N=new Uint8Array(2)),void 0===E&&(E=0),N[E+0]=P>>>8,N[E+1]=P>>>0,N}function H(P,N,E){return void 0===N&&(N=new Uint8Array(2)),void 0===E&&(E=0),N[E+0]=P>>>0,N[E+1]=P>>>8,N}function M(P,N){return void 0===N&&(N=0),P[N]<<24|P[N+1]<<16|P[N+2]<<8|P[N+3]}function C(P,N){return void 0===N&&(N=0),(P[N]<<24|P[N+1]<<16|P[N+2]<<8|P[N+3])>>>0}function L(P,N){return void 0===N&&(N=0),P[N+3]<<24|P[N+2]<<16|P[N+1]<<8|P[N]}function ce(P,N){return void 0===N&&(N=0),(P[N+3]<<24|P[N+2]<<16|P[N+1]<<8|P[N])>>>0}function de(P,N,E){return void 0===N&&(N=new Uint8Array(4)),void 0===E&&(E=0),N[E+0]=P>>>24,N[E+1]=P>>>16,N[E+2]=P>>>8,N[E+3]=P>>>0,N}function ue(P,N,E){return void 0===N&&(N=new Uint8Array(4)),void 0===E&&(E=0),N[E+0]=P>>>0,N[E+1]=P>>>8,N[E+2]=P>>>16,N[E+3]=P>>>24,N}function ee(P,N,E){return void 0===N&&(N=new Uint8Array(8)),void 0===E&&(E=0),de(P/4294967296>>>0,N,E),de(P>>>0,N,E+4),N}function B(P,N,E){return void 0===N&&(N=new Uint8Array(8)),void 0===E&&(E=0),ue(P>>>0,N,E),ue(P/4294967296>>>0,N,E+4),N}g.readInt16BE=function re(P,N){return void 0===N&&(N=0),(P[N+0]<<8|P[N+1])<<16>>16},g.readUint16BE=function ne(P,N){return void 0===N&&(N=0),(P[N+0]<<8|P[N+1])>>>0},g.readInt16LE=function k(P,N){return void 0===N&&(N=0),(P[N+1]<<8|P[N])<<16>>16},g.readUint16LE=function $(P,N){return void 0===N&&(N=0),(P[N+1]<<8|P[N])>>>0},g.writeUint16BE=te,g.writeInt16BE=te,g.writeUint16LE=H,g.writeInt16LE=H,g.readInt32BE=M,g.readUint32BE=C,g.readInt32LE=L,g.readUint32LE=ce,g.writeUint32BE=de,g.writeInt32BE=de,g.writeUint32LE=ue,g.writeInt32LE=ue,g.readInt64BE=function O(P,N){void 0===N&&(N=0);var E=M(P,N),W=M(P,N+4);return 4294967296*E+W-4294967296*(W>>31)},g.readUint64BE=function _e(P,N){return void 0===N&&(N=0),4294967296*C(P,N)+C(P,N+4)},g.readInt64LE=function De(P,N){void 0===N&&(N=0);var E=L(P,N);return 4294967296*L(P,N+4)+E-4294967296*(E>>31)},g.readUint64LE=function we(P,N){void 0===N&&(N=0);var E=ce(P,N);return 4294967296*ce(P,N+4)+E},g.writeUint64BE=ee,g.writeInt64BE=ee,g.writeUint64LE=B,g.writeInt64LE=B,g.readUintBE=function J(P,N,E){if(void 0===E&&(E=0),P%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(P/8>N.length-E)throw new Error("readUintBE: array is too short for the given bitLength");for(var W=0,le=1,G=P/8+E-1;G>=E;G--)W+=N[G]*le,le*=256;return W},g.readUintLE=function F(P,N,E){if(void 0===E&&(E=0),P%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(P/8>N.length-E)throw new Error("readUintLE: array is too short for the given bitLength");for(var W=0,le=1,G=E;G<E+P/8;G++)W+=N[G]*le,le*=256;return W},g.writeUintBE=function V(P,N,E,W){if(void 0===E&&(E=new Uint8Array(P/8)),void 0===W&&(W=0),P%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!I.isSafeInteger(N))throw new Error("writeUintBE value must be an integer");for(var le=1,G=P/8+W-1;G>=W;G--)E[G]=N/le&255,le*=256;return E},g.writeUintLE=function U(P,N,E,W){if(void 0===E&&(E=new Uint8Array(P/8)),void 0===W&&(W=0),P%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!I.isSafeInteger(N))throw new Error("writeUintLE value must be an integer");for(var le=1,G=W;G<W+P/8;G++)E[G]=N/le&255,le*=256;return E},g.readFloat32BE=function h(P,N){return void 0===N&&(N=0),new DataView(P.buffer,P.byteOffset,P.byteLength).getFloat32(N)},g.readFloat32LE=function f(P,N){return void 0===N&&(N=0),new DataView(P.buffer,P.byteOffset,P.byteLength).getFloat32(N,!0)},g.readFloat64BE=function _(P,N){return void 0===N&&(N=0),new DataView(P.buffer,P.byteOffset,P.byteLength).getFloat64(N)},g.readFloat64LE=function v(P,N){return void 0===N&&(N=0),new DataView(P.buffer,P.byteOffset,P.byteLength).getFloat64(N,!0)},g.writeFloat32BE=function S(P,N,E){return void 0===N&&(N=new Uint8Array(4)),void 0===E&&(E=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat32(E,P),N},g.writeFloat32LE=function b(P,N,E){return void 0===N&&(N=new Uint8Array(4)),void 0===E&&(E=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat32(E,P,!0),N},g.writeFloat64BE=function p(P,N,E){return void 0===N&&(N=new Uint8Array(8)),void 0===E&&(E=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat64(E,P),N},g.writeFloat64LE=function x(P,N,E){return void 0===N&&(N=new Uint8Array(8)),void 0===E&&(E=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat64(E,P,!0),N}},24553:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var I=D(32222),re=D(11512);function k(M,C,L){for(var ce=1634760805,de=857760878,ue=2036477234,O=1797285236,_e=L[3]<<24|L[2]<<16|L[1]<<8|L[0],De=L[7]<<24|L[6]<<16|L[5]<<8|L[4],we=L[11]<<24|L[10]<<16|L[9]<<8|L[8],ee=L[15]<<24|L[14]<<16|L[13]<<8|L[12],B=L[19]<<24|L[18]<<16|L[17]<<8|L[16],J=L[23]<<24|L[22]<<16|L[21]<<8|L[20],F=L[27]<<24|L[26]<<16|L[25]<<8|L[24],V=L[31]<<24|L[30]<<16|L[29]<<8|L[28],U=C[3]<<24|C[2]<<16|C[1]<<8|C[0],h=C[7]<<24|C[6]<<16|C[5]<<8|C[4],f=C[11]<<24|C[10]<<16|C[9]<<8|C[8],_=C[15]<<24|C[14]<<16|C[13]<<8|C[12],v=ce,S=de,b=ue,p=O,x=_e,P=De,N=we,E=ee,W=B,le=J,G=F,Re=V,ve=U,xe=h,Ce=f,Fe=_,je=0;je<20;je+=2)x=(x^=W=W+(ve=(ve^=v=v+x|0)>>>16|ve<<16)|0)>>>20|x<<12,P=(P^=le=le+(xe=(xe^=S=S+P|0)>>>16|xe<<16)|0)>>>20|P<<12,N=(N^=G=G+(Ce=(Ce^=b=b+N|0)>>>16|Ce<<16)|0)>>>20|N<<12,E=(E^=Re=Re+(Fe=(Fe^=p=p+E|0)>>>16|Fe<<16)|0)>>>20|E<<12,N=(N^=G=G+(Ce=(Ce^=b=b+N|0)>>>24|Ce<<8)|0)>>>25|N<<7,E=(E^=Re=Re+(Fe=(Fe^=p=p+E|0)>>>24|Fe<<8)|0)>>>25|E<<7,P=(P^=le=le+(xe=(xe^=S=S+P|0)>>>24|xe<<8)|0)>>>25|P<<7,x=(x^=W=W+(ve=(ve^=v=v+x|0)>>>24|ve<<8)|0)>>>25|x<<7,P=(P^=G=G+(Fe=(Fe^=v=v+P|0)>>>16|Fe<<16)|0)>>>20|P<<12,N=(N^=Re=Re+(ve=(ve^=S=S+N|0)>>>16|ve<<16)|0)>>>20|N<<12,E=(E^=W=W+(xe=(xe^=b=b+E|0)>>>16|xe<<16)|0)>>>20|E<<12,x=(x^=le=le+(Ce=(Ce^=p=p+x|0)>>>16|Ce<<16)|0)>>>20|x<<12,E=(E^=W=W+(xe=(xe^=b=b+E|0)>>>24|xe<<8)|0)>>>25|E<<7,x=(x^=le=le+(Ce=(Ce^=p=p+x|0)>>>24|Ce<<8)|0)>>>25|x<<7,N=(N^=Re=Re+(ve=(ve^=S=S+N|0)>>>24|ve<<8)|0)>>>25|N<<7,P=(P^=G=G+(Fe=(Fe^=v=v+P|0)>>>24|Fe<<8)|0)>>>25|P<<7;I.writeUint32LE(v+ce|0,M,0),I.writeUint32LE(S+de|0,M,4),I.writeUint32LE(b+ue|0,M,8),I.writeUint32LE(p+O|0,M,12),I.writeUint32LE(x+_e|0,M,16),I.writeUint32LE(P+De|0,M,20),I.writeUint32LE(N+we|0,M,24),I.writeUint32LE(E+ee|0,M,28),I.writeUint32LE(W+B|0,M,32),I.writeUint32LE(le+J|0,M,36),I.writeUint32LE(G+F|0,M,40),I.writeUint32LE(Re+V|0,M,44),I.writeUint32LE(ve+U|0,M,48),I.writeUint32LE(xe+h|0,M,52),I.writeUint32LE(Ce+f|0,M,56),I.writeUint32LE(Fe+_|0,M,60)}function $(M,C,L,ce,de){if(void 0===de&&(de=0),32!==M.length)throw new Error("ChaCha: key size must be 32 bytes");if(ce.length<L.length)throw new Error("ChaCha: destination is shorter than source");var ue,O;if(0===de){if(8!==C.length&&12!==C.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");(ue=new Uint8Array(16)).set(C,O=ue.length-C.length)}else{if(16!==C.length)throw new Error("ChaCha nonce with counter must be 16 bytes");ue=C,O=de}for(var _e=new Uint8Array(64),De=0;De<L.length;De+=64){k(_e,ue,M);for(var we=De;we<De+64&&we<L.length;we++)ce[we]=L[we]^_e[we-De];H(ue,0,O)}return re.wipe(_e),0===de&&re.wipe(ue),ce}function H(M,C,L){for(var ce=1;L--;)M[C]=255&(ce=ce+(255&M[C])|0),ce>>>=8,C++;if(ce>0)throw new Error("ChaCha: counter overflow")}g.streamXOR=$,g.stream=function te(M,C,L,ce){return void 0===ce&&(ce=0),re.wipe(L),$(M,C,L,L,ce)}},31118:(Pe,g,D)=>{"use strict";var re=D(24553),ne=D(83905),k=D(11512),$=D(32222),te=D(93386);g.Cv=32,g.WH=12,g.pg=16;var H=new Uint8Array(16),M=function(){function C(L){if(this.nonceLength=g.WH,this.tagLength=g.pg,L.length!==g.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(L)}return C.prototype.seal=function(L,ce,de,ue){if(L.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var O=new Uint8Array(16);O.set(L,O.length-L.length);var _e=new Uint8Array(32);re.stream(this._key,O,_e,4);var we,De=ce.length+this.tagLength;if(ue){if(ue.length!==De)throw new Error("ChaCha20Poly1305: incorrect destination length");we=ue}else we=new Uint8Array(De);return re.streamXOR(this._key,O,ce,we,4),this._authenticate(we.subarray(we.length-this.tagLength,we.length),_e,we.subarray(0,we.length-this.tagLength),de),k.wipe(O),we},C.prototype.open=function(L,ce,de,ue){if(L.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(ce.length<this.tagLength)return null;var O=new Uint8Array(16);O.set(L,O.length-L.length);var _e=new Uint8Array(32);re.stream(this._key,O,_e,4);var De=new Uint8Array(this.tagLength);if(this._authenticate(De,_e,ce.subarray(0,ce.length-this.tagLength),de),!te.equal(De,ce.subarray(ce.length-this.tagLength,ce.length)))return null;var ee,we=ce.length-this.tagLength;if(ue){if(ue.length!==we)throw new Error("ChaCha20Poly1305: incorrect destination length");ee=ue}else ee=new Uint8Array(we);return re.streamXOR(this._key,O,ce.subarray(0,ce.length-this.tagLength),ee,4),k.wipe(O),ee},C.prototype.clean=function(){return k.wipe(this._key),this},C.prototype._authenticate=function(L,ce,de,ue){var O=new ne.Poly1305(ce);ue&&(O.update(ue),ue.length%16>0&&O.update(H.subarray(ue.length%16))),O.update(de),de.length%16>0&&O.update(H.subarray(de.length%16));var _e=new Uint8Array(8);ue&&$.writeUint64LE(ue.length,_e),O.update(_e),$.writeUint64LE(de.length,_e),O.update(_e);for(var De=O.digest(),we=0;we<De.length;we++)L[we]=De[we];O.clean(),k.wipe(De),k.wipe(_e)},C}();g.OK=M},93386:(Pe,g)=>{"use strict";function re(k,$){if(k.length!==$.length)return 0;for(var te=0,H=0;H<k.length;H++)te|=k[H]^$[H];return 1&te-1>>>8}Object.defineProperty(g,"__esModule",{value:!0}),g.select=function D(k,$,te){return~(k-1)&$|k-1&te},g.lessOrEqual=function I(k,$){return(0|k)-(0|$)-1>>>31&1},g.compare=re,g.equal=function ne(k,$){return 0!==k.length&&0!==$.length&&0!==re(k,$)}},52877:(Pe,g,D)=>{"use strict";g.Xx=g._w=g.aP=g.KS=g.jQ=void 0;D(7841);const ne=D(85198);D(11512);function $(Z){const he=new Float64Array(16);if(Z)for(let se=0;se<Z.length;se++)he[se]=Z[se];return he}g.jQ=64,g.KS=64,g.aP=32,new Uint8Array(32)[0]=9;const H=$(),M=$([1]),L=($([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),$([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),ce=$([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),de=$([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);$([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function O(Z,he){for(let se=0;se<16;se++)Z[se]=0|he[se]}function _e(Z){let he=1;for(let se=0;se<16;se++){let y=Z[se]+he+65535;he=Math.floor(y/65536),Z[se]=y-65536*he}Z[0]+=he-1+37*(he-1)}function De(Z,he,se){const y=~(se-1);for(let Y=0;Y<16;Y++){const Ae=y&(Z[Y]^he[Y]);Z[Y]^=Ae,he[Y]^=Ae}}function we(Z,he){const se=$(),y=$();for(let Y=0;Y<16;Y++)y[Y]=he[Y];_e(y),_e(y),_e(y);for(let Y=0;Y<2;Y++){se[0]=y[0]-65517;for(let ze=1;ze<15;ze++)se[ze]=y[ze]-65535-(se[ze-1]>>16&1),se[ze-1]&=65535;se[15]=y[15]-32767-(se[14]>>16&1);const Ae=se[15]>>16&1;se[14]&=65535,De(y,se,1-Ae)}for(let Y=0;Y<16;Y++)Z[2*Y]=255&y[Y],Z[2*Y+1]=y[Y]>>8}function J(Z){const he=new Uint8Array(32);return we(he,Z),1&he[0]}function V(Z,he,se){for(let y=0;y<16;y++)Z[y]=he[y]+se[y]}function U(Z,he,se){for(let y=0;y<16;y++)Z[y]=he[y]-se[y]}function h(Z,he,se){let y,Y,Ae=0,ze=0,ot=0,wt=0,ct=0,_t=0,Ht=0,Xt=0,gt=0,ft=0,it=0,ut=0,rt=0,Ge=0,He=0,We=0,Ye=0,lt=0,dt=0,bt=0,Et=0,yt=0,Dt=0,St=0,qr=0,Er=0,cn=0,Rn=0,Kn=0,Pn=0,fn=0,Wt=se[0],Gt=se[1],Yt=se[2],$t=se[3],ir=se[4],Zt=se[5],Qt=se[6],sr=se[7],or=se[8],kt=se[9],Kt=se[10],Ft=se[11],er=se[12],lr=se[13],ar=se[14],ur=se[15];y=he[0],Ae+=y*Wt,ze+=y*Gt,ot+=y*Yt,wt+=y*$t,ct+=y*ir,_t+=y*Zt,Ht+=y*Qt,Xt+=y*sr,gt+=y*or,ft+=y*kt,it+=y*Kt,ut+=y*Ft,rt+=y*er,Ge+=y*lr,He+=y*ar,We+=y*ur,y=he[1],ze+=y*Wt,ot+=y*Gt,wt+=y*Yt,ct+=y*$t,_t+=y*ir,Ht+=y*Zt,Xt+=y*Qt,gt+=y*sr,ft+=y*or,it+=y*kt,ut+=y*Kt,rt+=y*Ft,Ge+=y*er,He+=y*lr,We+=y*ar,Ye+=y*ur,y=he[2],ot+=y*Wt,wt+=y*Gt,ct+=y*Yt,_t+=y*$t,Ht+=y*ir,Xt+=y*Zt,gt+=y*Qt,ft+=y*sr,it+=y*or,ut+=y*kt,rt+=y*Kt,Ge+=y*Ft,He+=y*er,We+=y*lr,Ye+=y*ar,lt+=y*ur,y=he[3],wt+=y*Wt,ct+=y*Gt,_t+=y*Yt,Ht+=y*$t,Xt+=y*ir,gt+=y*Zt,ft+=y*Qt,it+=y*sr,ut+=y*or,rt+=y*kt,Ge+=y*Kt,He+=y*Ft,We+=y*er,Ye+=y*lr,lt+=y*ar,dt+=y*ur,y=he[4],ct+=y*Wt,_t+=y*Gt,Ht+=y*Yt,Xt+=y*$t,gt+=y*ir,ft+=y*Zt,it+=y*Qt,ut+=y*sr,rt+=y*or,Ge+=y*kt,He+=y*Kt,We+=y*Ft,Ye+=y*er,lt+=y*lr,dt+=y*ar,bt+=y*ur,y=he[5],_t+=y*Wt,Ht+=y*Gt,Xt+=y*Yt,gt+=y*$t,ft+=y*ir,it+=y*Zt,ut+=y*Qt,rt+=y*sr,Ge+=y*or,He+=y*kt,We+=y*Kt,Ye+=y*Ft,lt+=y*er,dt+=y*lr,bt+=y*ar,Et+=y*ur,y=he[6],Ht+=y*Wt,Xt+=y*Gt,gt+=y*Yt,ft+=y*$t,it+=y*ir,ut+=y*Zt,rt+=y*Qt,Ge+=y*sr,He+=y*or,We+=y*kt,Ye+=y*Kt,lt+=y*Ft,dt+=y*er,bt+=y*lr,Et+=y*ar,yt+=y*ur,y=he[7],Xt+=y*Wt,gt+=y*Gt,ft+=y*Yt,it+=y*$t,ut+=y*ir,rt+=y*Zt,Ge+=y*Qt,He+=y*sr,We+=y*or,Ye+=y*kt,lt+=y*Kt,dt+=y*Ft,bt+=y*er,Et+=y*lr,yt+=y*ar,Dt+=y*ur,y=he[8],gt+=y*Wt,ft+=y*Gt,it+=y*Yt,ut+=y*$t,rt+=y*ir,Ge+=y*Zt,He+=y*Qt,We+=y*sr,Ye+=y*or,lt+=y*kt,dt+=y*Kt,bt+=y*Ft,Et+=y*er,yt+=y*lr,Dt+=y*ar,St+=y*ur,y=he[9],ft+=y*Wt,it+=y*Gt,ut+=y*Yt,rt+=y*$t,Ge+=y*ir,He+=y*Zt,We+=y*Qt,Ye+=y*sr,lt+=y*or,dt+=y*kt,bt+=y*Kt,Et+=y*Ft,yt+=y*er,Dt+=y*lr,St+=y*ar,qr+=y*ur,y=he[10],it+=y*Wt,ut+=y*Gt,rt+=y*Yt,Ge+=y*$t,He+=y*ir,We+=y*Zt,Ye+=y*Qt,lt+=y*sr,dt+=y*or,bt+=y*kt,Et+=y*Kt,yt+=y*Ft,Dt+=y*er,St+=y*lr,qr+=y*ar,Er+=y*ur,y=he[11],ut+=y*Wt,rt+=y*Gt,Ge+=y*Yt,He+=y*$t,We+=y*ir,Ye+=y*Zt,lt+=y*Qt,dt+=y*sr,bt+=y*or,Et+=y*kt,yt+=y*Kt,Dt+=y*Ft,St+=y*er,qr+=y*lr,Er+=y*ar,cn+=y*ur,y=he[12],rt+=y*Wt,Ge+=y*Gt,He+=y*Yt,We+=y*$t,Ye+=y*ir,lt+=y*Zt,dt+=y*Qt,bt+=y*sr,Et+=y*or,yt+=y*kt,Dt+=y*Kt,St+=y*Ft,qr+=y*er,Er+=y*lr,cn+=y*ar,Rn+=y*ur,y=he[13],Ge+=y*Wt,He+=y*Gt,We+=y*Yt,Ye+=y*$t,lt+=y*ir,dt+=y*Zt,bt+=y*Qt,Et+=y*sr,yt+=y*or,Dt+=y*kt,St+=y*Kt,qr+=y*Ft,Er+=y*er,cn+=y*lr,Rn+=y*ar,Kn+=y*ur,y=he[14],He+=y*Wt,We+=y*Gt,Ye+=y*Yt,lt+=y*$t,dt+=y*ir,bt+=y*Zt,Et+=y*Qt,yt+=y*sr,Dt+=y*or,St+=y*kt,qr+=y*Kt,Er+=y*Ft,cn+=y*er,Rn+=y*lr,Kn+=y*ar,Pn+=y*ur,y=he[15],We+=y*Wt,Ye+=y*Gt,lt+=y*Yt,dt+=y*$t,bt+=y*ir,Et+=y*Zt,yt+=y*Qt,Dt+=y*sr,St+=y*or,qr+=y*kt,Er+=y*Kt,cn+=y*Ft,Rn+=y*er,Kn+=y*lr,Pn+=y*ar,fn+=y*ur,Ae+=38*Ye,ze+=38*lt,ot+=38*dt,wt+=38*bt,ct+=38*Et,_t+=38*yt,Ht+=38*Dt,Xt+=38*St,gt+=38*qr,ft+=38*Er,it+=38*cn,ut+=38*Rn,rt+=38*Kn,Ge+=38*Pn,He+=38*fn,Y=1,y=Ae+Y+65535,Y=Math.floor(y/65536),Ae=y-65536*Y,y=ze+Y+65535,Y=Math.floor(y/65536),ze=y-65536*Y,y=ot+Y+65535,Y=Math.floor(y/65536),ot=y-65536*Y,y=wt+Y+65535,Y=Math.floor(y/65536),wt=y-65536*Y,y=ct+Y+65535,Y=Math.floor(y/65536),ct=y-65536*Y,y=_t+Y+65535,Y=Math.floor(y/65536),_t=y-65536*Y,y=Ht+Y+65535,Y=Math.floor(y/65536),Ht=y-65536*Y,y=Xt+Y+65535,Y=Math.floor(y/65536),Xt=y-65536*Y,y=gt+Y+65535,Y=Math.floor(y/65536),gt=y-65536*Y,y=ft+Y+65535,Y=Math.floor(y/65536),ft=y-65536*Y,y=it+Y+65535,Y=Math.floor(y/65536),it=y-65536*Y,y=ut+Y+65535,Y=Math.floor(y/65536),ut=y-65536*Y,y=rt+Y+65535,Y=Math.floor(y/65536),rt=y-65536*Y,y=Ge+Y+65535,Y=Math.floor(y/65536),Ge=y-65536*Y,y=He+Y+65535,Y=Math.floor(y/65536),He=y-65536*Y,y=We+Y+65535,Y=Math.floor(y/65536),We=y-65536*Y,Ae+=Y-1+37*(Y-1),Y=1,y=Ae+Y+65535,Y=Math.floor(y/65536),Ae=y-65536*Y,y=ze+Y+65535,Y=Math.floor(y/65536),ze=y-65536*Y,y=ot+Y+65535,Y=Math.floor(y/65536),ot=y-65536*Y,y=wt+Y+65535,Y=Math.floor(y/65536),wt=y-65536*Y,y=ct+Y+65535,Y=Math.floor(y/65536),ct=y-65536*Y,y=_t+Y+65535,Y=Math.floor(y/65536),_t=y-65536*Y,y=Ht+Y+65535,Y=Math.floor(y/65536),Ht=y-65536*Y,y=Xt+Y+65535,Y=Math.floor(y/65536),Xt=y-65536*Y,y=gt+Y+65535,Y=Math.floor(y/65536),gt=y-65536*Y,y=ft+Y+65535,Y=Math.floor(y/65536),ft=y-65536*Y,y=it+Y+65535,Y=Math.floor(y/65536),it=y-65536*Y,y=ut+Y+65535,Y=Math.floor(y/65536),ut=y-65536*Y,y=rt+Y+65535,Y=Math.floor(y/65536),rt=y-65536*Y,y=Ge+Y+65535,Y=Math.floor(y/65536),Ge=y-65536*Y,y=He+Y+65535,Y=Math.floor(y/65536),He=y-65536*Y,y=We+Y+65535,Y=Math.floor(y/65536),We=y-65536*Y,Ae+=Y-1+37*(Y-1),Z[0]=Ae,Z[1]=ze,Z[2]=ot,Z[3]=wt,Z[4]=ct,Z[5]=_t,Z[6]=Ht,Z[7]=Xt,Z[8]=gt,Z[9]=ft,Z[10]=it,Z[11]=ut,Z[12]=rt,Z[13]=Ge,Z[14]=He,Z[15]=We}function f(Z,he){h(Z,he,he)}function S(Z,he){const se=$(),y=$(),Y=$(),Ae=$(),ze=$(),ot=$(),wt=$(),ct=$(),_t=$();U(se,Z[1],Z[0]),U(_t,he[1],he[0]),h(se,se,_t),V(y,Z[0],Z[1]),V(_t,he[0],he[1]),h(y,y,_t),h(Y,Z[3],he[3]),h(Y,Y,L),h(Ae,Z[2],he[2]),V(Ae,Ae,Ae),U(ze,y,se),U(ot,Ae,Y),V(wt,Ae,Y),V(ct,y,se),h(Z[0],ze,ot),h(Z[1],ct,wt),h(Z[2],wt,ot),h(Z[3],ze,ct)}function b(Z,he,se){for(let y=0;y<4;y++)De(Z[y],he[y],se)}function p(Z,he){const se=$(),y=$(),Y=$();(function _(Z,he){const se=$();let y;for(y=0;y<16;y++)se[y]=he[y];for(y=253;y>=0;y--)f(se,se),2!==y&&4!==y&&h(se,se,he);for(y=0;y<16;y++)Z[y]=se[y]})(Y,he[2]),h(se,he[0],Y),h(y,he[1],Y),we(Z,y),Z[31]^=J(se)<<7}function P(Z,he){const se=[$(),$(),$(),$()];O(se[0],ce),O(se[1],de),O(se[2],M),h(se[3],ce,de),function x(Z,he,se){O(Z[0],H),O(Z[1],M),O(Z[2],M),O(Z[3],H);for(let y=255;y>=0;--y){const Y=se[y/8|0]>>(7&y)&1;b(Z,he,Y),S(he,Z),S(Z,Z),b(Z,he,Y)}}(Z,se,he)}g._w=function N(Z){if(Z.length!==g.aP)throw new Error(`ed25519: seed must be ${g.aP} bytes`);const he=(0,ne.hash)(Z);he[0]&=248,he[31]&=127,he[31]|=64;const se=new Uint8Array(32),y=[$(),$(),$(),$()];P(y,he),p(se,y);const Y=new Uint8Array(64);return Y.set(Z),Y.set(se,32),{publicKey:se,secretKey:Y}};const le=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function G(Z,he){let se,y,Y,Ae;for(y=63;y>=32;--y){for(se=0,Y=y-32,Ae=y-12;Y<Ae;++Y)he[Y]+=se-16*he[y]*le[Y-(y-32)],se=Math.floor((he[Y]+128)/256),he[Y]-=256*se;he[Y]+=se,he[y]=0}for(se=0,Y=0;Y<32;Y++)he[Y]+=se-(he[31]>>4)*le[Y],se=he[Y]>>8,he[Y]&=255;for(Y=0;Y<32;Y++)he[Y]-=se*le[Y];for(y=0;y<32;y++)he[y+1]+=he[y]>>8,Z[y]=255&he[y]}function Re(Z){const he=new Float64Array(64);for(let se=0;se<64;se++)he[se]=Z[se];for(let se=0;se<64;se++)Z[se]=0;G(Z,he)}g.Xx=function ve(Z,he){const se=new Float64Array(64),y=[$(),$(),$(),$()],Y=(0,ne.hash)(Z.subarray(0,32));Y[0]&=248,Y[31]&=127,Y[31]|=64;const Ae=new Uint8Array(64);Ae.set(Y.subarray(32),32);const ze=new ne.SHA512;ze.update(Ae.subarray(32)),ze.update(he);const ot=ze.digest();ze.clean(),Re(ot),P(y,ot),p(Ae,y),ze.reset(),ze.update(Ae.subarray(0,32)),ze.update(Z.subarray(32)),ze.update(he);const wt=ze.digest();Re(wt);for(let ct=0;ct<32;ct++)se[ct]=ot[ct];for(let ct=0;ct<32;ct++)for(let _t=0;_t<32;_t++)se[ct+_t]+=wt[ct]*Y[_t];return G(Ae.subarray(32),se),Ae}},51845:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.isSerializableHash=function D(I){return typeof I.saveState<"u"&&typeof I.restoreState<"u"&&typeof I.cleanSavedState<"u"}},82584:(Pe,g,D)=>{"use strict";var re=D(99171),ne=D(11512),k=function(){function $(te,H,M,C){void 0===M&&(M=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=te,this._info=C;var L=re.hmac(this._hash,M,H);this._hmac=new re.HMAC(te,L),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return $.prototype._fillBuffer=function(){this._counter[0]++;var te=this._counter[0];if(0===te)throw new Error("hkdf: cannot expand more");this._hmac.reset(),te>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},$.prototype.expand=function(te){for(var H=new Uint8Array(te),M=0;M<H.length;M++)this._bufpos===this._buffer.length&&this._fillBuffer(),H[M]=this._buffer[this._bufpos++];return H},$.prototype.clean=function(){this._hmac.clean(),ne.wipe(this._buffer),ne.wipe(this._counter),this._bufpos=0},$}();g.t=k},99171:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var I=D(51845),re=D(93386),ne=D(11512),k=function(){function te(H,M){this._finished=!1,this._inner=new H,this._outer=new H,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var C=new Uint8Array(this.blockSize);M.length>this.blockSize?this._inner.update(M).finish(C).clean():C.set(M);for(var L=0;L<C.length;L++)C[L]^=54;for(this._inner.update(C),L=0;L<C.length;L++)C[L]^=106;this._outer.update(C),I.isSerializableHash(this._inner)&&I.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),ne.wipe(C)}return te.prototype.reset=function(){if(!I.isSerializableHash(this._inner)||!I.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},te.prototype.clean=function(){I.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),I.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},te.prototype.update=function(H){return this._inner.update(H),this},te.prototype.finish=function(H){return this._finished?(this._outer.finish(H),this):(this._inner.finish(H),this._outer.update(H.subarray(0,this.digestLength)).finish(H),this._finished=!0,this)},te.prototype.digest=function(){var H=new Uint8Array(this.digestLength);return this.finish(H),H},te.prototype.saveState=function(){if(!I.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},te.prototype.restoreState=function(H){if(!I.isSerializableHash(this._inner)||!I.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(H),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},te.prototype.cleanSavedState=function(H){if(!I.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(H)},te}();g.HMAC=k,g.hmac=function $(te,H,M){var C=new k(te,H);C.update(M);var L=C.digest();return C.clean(),L},g.equal=re.equal},17686:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.mul=Math.imul||function D(te,H){var C=65535&te,ce=65535&H;return C*ce+((te>>>16&65535)*ce+C*(H>>>16&65535)<<16>>>0)|0},g.add=function I(te,H){return te+H|0},g.sub=function re(te,H){return te-H|0},g.rotl=function ne(te,H){return te<<H|te>>>32-H},g.rotr=function k(te,H){return te<<32-H|te>>>H},g.isInteger=Number.isInteger||function $(te){return"number"==typeof te&&isFinite(te)&&Math.floor(te)===te},g.MAX_SAFE_INTEGER=9007199254740991,g.isSafeInteger=function(te){return g.isInteger(te)&&te>=-g.MAX_SAFE_INTEGER&&te<=g.MAX_SAFE_INTEGER}},83905:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var I=D(93386),re=D(11512);g.DIGEST_LENGTH=16;var ne=function(){function te(H){this.digestLength=g.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var M=H[0]|H[1]<<8;this._r[0]=8191&M;var C=H[2]|H[3]<<8;this._r[1]=8191&(M>>>13|C<<3);var L=H[4]|H[5]<<8;this._r[2]=7939&(C>>>10|L<<6);var ce=H[6]|H[7]<<8;this._r[3]=8191&(L>>>7|ce<<9);var de=H[8]|H[9]<<8;this._r[4]=255&(ce>>>4|de<<12),this._r[5]=de>>>1&8190;var ue=H[10]|H[11]<<8;this._r[6]=8191&(de>>>14|ue<<2);var O=H[12]|H[13]<<8;this._r[7]=8065&(ue>>>11|O<<5);var _e=H[14]|H[15]<<8;this._r[8]=8191&(O>>>8|_e<<8),this._r[9]=_e>>>5&127,this._pad[0]=H[16]|H[17]<<8,this._pad[1]=H[18]|H[19]<<8,this._pad[2]=H[20]|H[21]<<8,this._pad[3]=H[22]|H[23]<<8,this._pad[4]=H[24]|H[25]<<8,this._pad[5]=H[26]|H[27]<<8,this._pad[6]=H[28]|H[29]<<8,this._pad[7]=H[30]|H[31]<<8}return te.prototype._blocks=function(H,M,C){for(var L=this._fin?0:2048,ce=this._h[0],de=this._h[1],ue=this._h[2],O=this._h[3],_e=this._h[4],De=this._h[5],we=this._h[6],ee=this._h[7],B=this._h[8],J=this._h[9],F=this._r[0],V=this._r[1],U=this._r[2],h=this._r[3],f=this._r[4],_=this._r[5],v=this._r[6],S=this._r[7],b=this._r[8],p=this._r[9];C>=16;){var x=H[M+0]|H[M+1]<<8,P=H[M+2]|H[M+3]<<8,N=H[M+4]|H[M+5]<<8,E=H[M+6]|H[M+7]<<8,W=H[M+8]|H[M+9]<<8,le=H[M+10]|H[M+11]<<8,G=H[M+12]|H[M+13]<<8,Re=H[M+14]|H[M+15]<<8,ve=0,xe=ve;xe+=(ce+=8191&x)*F,xe+=(de+=8191&(x>>>13|P<<3))*(5*p),xe+=(ue+=8191&(P>>>10|N<<6))*(5*b),xe+=(O+=8191&(N>>>7|E<<9))*(5*S),ve=(xe+=(_e+=8191&(E>>>4|W<<12))*(5*v))>>>13,xe&=8191,xe+=(De+=W>>>1&8191)*(5*_),xe+=(we+=8191&(W>>>14|le<<2))*(5*f),xe+=(ee+=8191&(le>>>11|G<<5))*(5*h),xe+=(B+=8191&(G>>>8|Re<<8))*(5*U);var Ce=ve+=(xe+=(J+=Re>>>5|L)*(5*V))>>>13;Ce+=ce*V,Ce+=de*F,Ce+=ue*(5*p),Ce+=O*(5*b),ve=(Ce+=_e*(5*S))>>>13,Ce&=8191,Ce+=De*(5*v),Ce+=we*(5*_),Ce+=ee*(5*f),Ce+=B*(5*h),ve+=(Ce+=J*(5*U))>>>13,Ce&=8191;var Fe=ve;Fe+=ce*U,Fe+=de*V,Fe+=ue*F,Fe+=O*(5*p),ve=(Fe+=_e*(5*b))>>>13,Fe&=8191,Fe+=De*(5*S),Fe+=we*(5*v),Fe+=ee*(5*_),Fe+=B*(5*f);var je=ve+=(Fe+=J*(5*h))>>>13;je+=ce*h,je+=de*U,je+=ue*V,je+=O*F,ve=(je+=_e*(5*p))>>>13,je&=8191,je+=De*(5*b),je+=we*(5*S),je+=ee*(5*v),je+=B*(5*_);var Z=ve+=(je+=J*(5*f))>>>13;Z+=ce*f,Z+=de*h,Z+=ue*U,Z+=O*V,ve=(Z+=_e*F)>>>13,Z&=8191,Z+=De*(5*p),Z+=we*(5*b),Z+=ee*(5*S),Z+=B*(5*v);var he=ve+=(Z+=J*(5*_))>>>13;he+=ce*_,he+=de*f,he+=ue*h,he+=O*U,ve=(he+=_e*V)>>>13,he&=8191,he+=De*F,he+=we*(5*p),he+=ee*(5*b),he+=B*(5*S);var se=ve+=(he+=J*(5*v))>>>13;se+=ce*v,se+=de*_,se+=ue*f,se+=O*h,ve=(se+=_e*U)>>>13,se&=8191,se+=De*V,se+=we*F,se+=ee*(5*p),se+=B*(5*b);var y=ve+=(se+=J*(5*S))>>>13;y+=ce*S,y+=de*v,y+=ue*_,y+=O*f,ve=(y+=_e*h)>>>13,y&=8191,y+=De*U,y+=we*V,y+=ee*F,y+=B*(5*p);var Y=ve+=(y+=J*(5*b))>>>13;Y+=ce*b,Y+=de*S,Y+=ue*v,Y+=O*_,ve=(Y+=_e*f)>>>13,Y&=8191,Y+=De*h,Y+=we*U,Y+=ee*V,Y+=B*F;var Ae=ve+=(Y+=J*(5*p))>>>13;Ae+=ce*p,Ae+=de*b,Ae+=ue*S,Ae+=O*v,ve=(Ae+=_e*_)>>>13,Ae&=8191,Ae+=De*f,Ae+=we*h,Ae+=ee*U,Ae+=B*V,ce=xe=8191&(ve=(ve=((ve+=(Ae+=J*F)>>>13)<<2)+ve|0)+(xe&=8191)|0),de=Ce+=ve>>>=13,ue=Fe&=8191,O=je&=8191,_e=Z&=8191,De=he&=8191,we=se&=8191,ee=y&=8191,B=Y&=8191,J=Ae&=8191,M+=16,C-=16}this._h[0]=ce,this._h[1]=de,this._h[2]=ue,this._h[3]=O,this._h[4]=_e,this._h[5]=De,this._h[6]=we,this._h[7]=ee,this._h[8]=B,this._h[9]=J},te.prototype.finish=function(H,M){void 0===M&&(M=0);var L,ce,de,ue,C=new Uint16Array(10);if(this._leftover){for(ue=this._leftover,this._buffer[ue++]=1;ue<16;ue++)this._buffer[ue]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(L=this._h[1]>>>13,this._h[1]&=8191,ue=2;ue<10;ue++)this._h[ue]+=L,L=this._h[ue]>>>13,this._h[ue]&=8191;for(this._h[0]+=5*L,L=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=L,L=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=L,C[0]=this._h[0]+5,L=C[0]>>>13,C[0]&=8191,ue=1;ue<10;ue++)C[ue]=this._h[ue]+L,L=C[ue]>>>13,C[ue]&=8191;for(C[9]-=8192,ce=(1^L)-1,ue=0;ue<10;ue++)C[ue]&=ce;for(ce=~ce,ue=0;ue<10;ue++)this._h[ue]=this._h[ue]&ce|C[ue];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),this._h[0]=65535&(de=this._h[0]+this._pad[0]),ue=1;ue<8;ue++)this._h[ue]=65535&(de=(this._h[ue]+this._pad[ue]|0)+(de>>>16)|0);return H[M+0]=this._h[0]>>>0,H[M+1]=this._h[0]>>>8,H[M+2]=this._h[1]>>>0,H[M+3]=this._h[1]>>>8,H[M+4]=this._h[2]>>>0,H[M+5]=this._h[2]>>>8,H[M+6]=this._h[3]>>>0,H[M+7]=this._h[3]>>>8,H[M+8]=this._h[4]>>>0,H[M+9]=this._h[4]>>>8,H[M+10]=this._h[5]>>>0,H[M+11]=this._h[5]>>>8,H[M+12]=this._h[6]>>>0,H[M+13]=this._h[6]>>>8,H[M+14]=this._h[7]>>>0,H[M+15]=this._h[7]>>>8,this._finished=!0,this},te.prototype.update=function(H){var L,M=0,C=H.length;if(this._leftover){(L=16-this._leftover)>C&&(L=C);for(var ce=0;ce<L;ce++)this._buffer[this._leftover+ce]=H[M+ce];if(C-=L,M+=L,this._leftover+=L,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(C>=16&&(this._blocks(H,M,L=C-C%16),M+=L,C-=L),C){for(ce=0;ce<C;ce++)this._buffer[this._leftover+ce]=H[M+ce];this._leftover+=C}return this},te.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var H=new Uint8Array(16);return this.finish(H),H},te.prototype.clean=function(){return re.wipe(this._buffer),re.wipe(this._r),re.wipe(this._h),re.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},te}();g.Poly1305=ne,g.oneTimeAuth=function k(te,H){var M=new ne(te);M.update(H);var C=M.digest();return M.clean(),C},g.equal=function $(te,H){return te.length===g.DIGEST_LENGTH&&H.length===g.DIGEST_LENGTH&&I.equal(te,H)}},7841:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.randomStringForEntropy=g.randomString=g.randomUint32=g.randomBytes=g.defaultRandomSource=void 0;const I=D(14894),re=D(32222),ne=D(11512);function k(C,L=g.defaultRandomSource){return L.randomBytes(C)}g.defaultRandomSource=new I.SystemRandomSource,g.randomBytes=k,g.randomUint32=function $(C=g.defaultRandomSource){const L=k(4,C),ce=(0,re.readUint32LE)(L);return(0,ne.wipe)(L),ce};const te="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function H(C,L=te,ce=g.defaultRandomSource){if(L.length<2)throw new Error("randomString charset is too short");if(L.length>256)throw new Error("randomString charset is too long");let de="";const ue=L.length,O=256-256%ue;for(;C>0;){const _e=k(Math.ceil(256*C/O),ce);for(let De=0;De<_e.length&&C>0;De++){const we=_e[De];we<O&&(de+=L.charAt(we%ue),C--)}(0,ne.wipe)(_e)}return de}g.randomString=H,g.randomStringForEntropy=function M(C,L=te,ce=g.defaultRandomSource){return H(Math.ceil(C/(Math.log(L.length)/Math.LN2)),L,ce)}},33607:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.BrowserRandomSource=void 0,g.BrowserRandomSource=class I{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const ne=typeof self<"u"?self.crypto||self.msCrypto:null;ne&&void 0!==ne.getRandomValues&&(this._crypto=ne,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(ne){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const k=new Uint8Array(ne);for(let $=0;$<k.length;$+=65536)this._crypto.getRandomValues(k.subarray($,$+Math.min(k.length-$,65536)));return k}}},73022:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.NodeRandomSource=void 0;const I=D(11512);g.NodeRandomSource=class re{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const k=D(19726);k&&k.randomBytes&&(this._crypto=k,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(k){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let $=this._crypto.randomBytes(k);if($.length!==k)throw new Error("NodeRandomSource: got fewer bytes than requested");const te=new Uint8Array(k);for(let H=0;H<te.length;H++)te[H]=$[H];return(0,I.wipe)($),te}}},14894:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.SystemRandomSource=void 0;const I=D(33607),re=D(73022);g.SystemRandomSource=class ne{constructor(){return this.isAvailable=!1,this.name="",this._source=new I.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new re.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes($){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes($)}}},59373:(Pe,g,D)=>{"use strict";var re=D(32222),ne=D(11512);g.k=32,g.cn=64;var k=function(){function M(){this.digestLength=g.k,this.blockSize=g.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return M.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},M.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},M.prototype.clean=function(){ne.wipe(this._buffer),ne.wipe(this._temp),this.reset()},M.prototype.update=function(C,L){if(void 0===L&&(L=C.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var ce=0;if(this._bytesHashed+=L,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&L>0;)this._buffer[this._bufferLength++]=C[ce++],L--;this._bufferLength===this.blockSize&&(te(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(L>=this.blockSize&&(ce=te(this._temp,this._state,C,ce,L),L%=this.blockSize);L>0;)this._buffer[this._bufferLength++]=C[ce++],L--;return this},M.prototype.finish=function(C){if(!this._finished){var L=this._bytesHashed,ce=this._bufferLength,de=L/536870912|0,ue=L<<3,O=L%64<56?64:128;this._buffer[ce]=128;for(var _e=ce+1;_e<O-8;_e++)this._buffer[_e]=0;re.writeUint32BE(de,this._buffer,O-8),re.writeUint32BE(ue,this._buffer,O-4),te(this._temp,this._state,this._buffer,0,O),this._finished=!0}for(_e=0;_e<this.digestLength/4;_e++)re.writeUint32BE(this._state[_e],C,4*_e);return this},M.prototype.digest=function(){var C=new Uint8Array(this.digestLength);return this.finish(C),C},M.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},M.prototype.restoreState=function(C){return this._state.set(C.state),this._bufferLength=C.bufferLength,C.buffer&&this._buffer.set(C.buffer),this._bytesHashed=C.bytesHashed,this._finished=!1,this},M.prototype.cleanSavedState=function(C){ne.wipe(C.state),C.buffer&&ne.wipe(C.buffer),C.bufferLength=0,C.bytesHashed=0},M}();g.mE=k;var $=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function te(M,C,L,ce,de){for(;de>=64;){for(var ue=C[0],O=C[1],_e=C[2],De=C[3],we=C[4],ee=C[5],B=C[6],J=C[7],F=0;F<16;F++)M[F]=re.readUint32BE(L,ce+4*F);for(F=16;F<64;F++){var U=M[F-2];M[F]=((h=(U>>>17|U<<15)^(U>>>19|U<<13)^U>>>10)+M[F-7]|0)+((f=((U=M[F-15])>>>7|U<<25)^(U>>>18|U<<14)^U>>>3)+M[F-16]|0)}for(F=0;F<64;F++){var h=(((we>>>6|we<<26)^(we>>>11|we<<21)^(we>>>25|we<<7))+(we&ee^~we&B)|0)+(J+($[F]+M[F]|0)|0)|0,f=((ue>>>2|ue<<30)^(ue>>>13|ue<<19)^(ue>>>22|ue<<10))+(ue&O^ue&_e^O&_e)|0;J=B,B=ee,ee=we,we=De+h|0,De=_e,_e=O,O=ue,ue=h+f|0}C[0]+=ue,C[1]+=O,C[2]+=_e,C[3]+=De,C[4]+=we,C[5]+=ee,C[6]+=B,C[7]+=J,ce+=64,de-=64}return ce}g.vp=function H(M){var C=new k;C.update(M);var L=C.digest();return C.clean(),L}},85198:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var I=D(32222),re=D(11512);g.DIGEST_LENGTH=64,g.BLOCK_SIZE=128;var ne=function(){function H(){this.digestLength=g.DIGEST_LENGTH,this.blockSize=g.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return H.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},H.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},H.prototype.clean=function(){re.wipe(this._buffer),re.wipe(this._tempHi),re.wipe(this._tempLo),this.reset()},H.prototype.update=function(M,C){if(void 0===C&&(C=M.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var L=0;if(this._bytesHashed+=C,this._bufferLength>0){for(;this._bufferLength<g.BLOCK_SIZE&&C>0;)this._buffer[this._bufferLength++]=M[L++],C--;this._bufferLength===this.blockSize&&($(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(C>=this.blockSize&&(L=$(this._tempHi,this._tempLo,this._stateHi,this._stateLo,M,L,C),C%=this.blockSize);C>0;)this._buffer[this._bufferLength++]=M[L++],C--;return this},H.prototype.finish=function(M){if(!this._finished){var C=this._bytesHashed,L=this._bufferLength,ce=C/536870912|0,de=C<<3,ue=C%128<112?128:256;this._buffer[L]=128;for(var O=L+1;O<ue-8;O++)this._buffer[O]=0;I.writeUint32BE(ce,this._buffer,ue-8),I.writeUint32BE(de,this._buffer,ue-4),$(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,ue),this._finished=!0}for(O=0;O<this.digestLength/8;O++)I.writeUint32BE(this._stateHi[O],M,8*O),I.writeUint32BE(this._stateLo[O],M,8*O+4);return this},H.prototype.digest=function(){var M=new Uint8Array(this.digestLength);return this.finish(M),M},H.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},H.prototype.restoreState=function(M){return this._stateHi.set(M.stateHi),this._stateLo.set(M.stateLo),this._bufferLength=M.bufferLength,M.buffer&&this._buffer.set(M.buffer),this._bytesHashed=M.bytesHashed,this._finished=!1,this},H.prototype.cleanSavedState=function(M){re.wipe(M.stateHi),re.wipe(M.stateLo),M.buffer&&re.wipe(M.buffer),M.bufferLength=0,M.bytesHashed=0},H}();g.SHA512=ne;var k=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function $(H,M,C,L,ce,de,ue){for(var p,x,P,N,E,W,le,G,O=C[0],_e=C[1],De=C[2],we=C[3],ee=C[4],B=C[5],J=C[6],F=C[7],V=L[0],U=L[1],h=L[2],f=L[3],_=L[4],v=L[5],S=L[6],b=L[7];ue>=128;){for(var Re=0;Re<16;Re++)H[Re]=I.readUint32BE(ce,ve=8*Re+de),M[Re]=I.readUint32BE(ce,ve+4);for(Re=0;Re<80;Re++){var y,Ht,Ce=_e,Fe=De,je=we,Z=ee,he=B,se=J,Ae=U,ze=h,ot=f,wt=_,ct=v,_t=S;if(E=65535&(x=b),W=x>>>16,le=65535&(p=F),G=p>>>16,E+=65535&(x=(_>>>14|ee<<18)^(_>>>18|ee<<14)^(ee>>>9|_<<23)),W+=x>>>16,le+=65535&(p=(ee>>>14|_<<18)^(ee>>>18|_<<14)^(_>>>9|ee<<23)),G+=p>>>16,E+=65535&(x=_&v^~_&S),W+=x>>>16,le+=65535&(p=ee&B^~ee&J),G+=p>>>16,E+=65535&(x=k[2*Re+1]),W+=x>>>16,le+=65535&(p=k[2*Re]),G+=p>>>16,W+=(x=M[Re%16])>>>16,le+=65535&(p=H[Re%16]),G+=p>>>16,le+=(W+=(E+=65535&x)>>>16)>>>16,E=65535&(x=N=65535&E|W<<16),W=x>>>16,le=65535&(p=P=65535&le|(G+=le>>>16)<<16),G=p>>>16,E+=65535&(x=(V>>>28|O<<4)^(O>>>2|V<<30)^(O>>>7|V<<25)),W+=x>>>16,le+=65535&(p=(O>>>28|V<<4)^(V>>>2|O<<30)^(V>>>7|O<<25)),G+=p>>>16,W+=(x=V&U^V&h^U&h)>>>16,le+=65535&(p=O&_e^O&De^_e&De),G+=p>>>16,y=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,Ht=65535&E|W<<16,E=65535&(x=ot),W=x>>>16,le=65535&(p=je),G=p>>>16,W+=(x=N)>>>16,le+=65535&(p=P),G+=p>>>16,_e=O,De=Ce,we=Fe,ee=je=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,B=Z,J=he,F=se,O=y,U=V,h=Ae,f=ze,_=ot=65535&E|W<<16,v=wt,S=ct,b=_t,V=Ht,Re%16==15)for(var ve=0;ve<16;ve++)E=65535&(x=M[ve]),W=x>>>16,le=65535&(p=H[ve]),G=p>>>16,E+=65535&(x=M[(ve+9)%16]),W+=x>>>16,le+=65535&(p=H[(ve+9)%16]),G+=p>>>16,E+=65535&(x=((N=M[(ve+1)%16])>>>1|(P=H[(ve+1)%16])<<31)^(N>>>8|P<<24)^(N>>>7|P<<25)),W+=x>>>16,le+=65535&(p=(P>>>1|N<<31)^(P>>>8|N<<24)^P>>>7),G+=p>>>16,W+=(x=((N=M[(ve+14)%16])>>>19|(P=H[(ve+14)%16])<<13)^(P>>>29|N<<3)^(N>>>6|P<<26))>>>16,le+=65535&(p=(P>>>19|N<<13)^(N>>>29|P<<3)^P>>>6),G+=p>>>16,H[ve]=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,M[ve]=65535&E|W<<16}E=65535&(x=V),W=x>>>16,le=65535&(p=O),G=p>>>16,W+=(x=L[0])>>>16,le+=65535&(p=C[0]),G+=p>>>16,C[0]=O=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,L[0]=V=65535&E|W<<16,E=65535&(x=U),W=x>>>16,le=65535&(p=_e),G=p>>>16,W+=(x=L[1])>>>16,le+=65535&(p=C[1]),G+=p>>>16,C[1]=_e=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,L[1]=U=65535&E|W<<16,E=65535&(x=h),W=x>>>16,le=65535&(p=De),G=p>>>16,W+=(x=L[2])>>>16,le+=65535&(p=C[2]),G+=p>>>16,C[2]=De=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,L[2]=h=65535&E|W<<16,E=65535&(x=f),W=x>>>16,le=65535&(p=we),G=p>>>16,W+=(x=L[3])>>>16,le+=65535&(p=C[3]),G+=p>>>16,C[3]=we=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,L[3]=f=65535&E|W<<16,E=65535&(x=_),W=x>>>16,le=65535&(p=ee),G=p>>>16,W+=(x=L[4])>>>16,le+=65535&(p=C[4]),G+=p>>>16,C[4]=ee=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,L[4]=_=65535&E|W<<16,E=65535&(x=v),W=x>>>16,le=65535&(p=B),G=p>>>16,W+=(x=L[5])>>>16,le+=65535&(p=C[5]),G+=p>>>16,C[5]=B=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,L[5]=v=65535&E|W<<16,E=65535&(x=S),W=x>>>16,le=65535&(p=J),G=p>>>16,W+=(x=L[6])>>>16,le+=65535&(p=C[6]),G+=p>>>16,C[6]=J=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,L[6]=S=65535&E|W<<16,E=65535&(x=b),W=x>>>16,le=65535&(p=F),G=p>>>16,W+=(x=L[7])>>>16,le+=65535&(p=C[7]),G+=p>>>16,C[7]=F=65535&(le+=(W+=(E+=65535&x)>>>16)>>>16)|(G+=le>>>16)<<16,L[7]=b=65535&E|W<<16,de+=128,ue-=128}return de}g.hash=function te(H){var M=new ne;M.update(H);var C=M.digest();return M.clean(),C}},11512:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.wipe=function D(I){for(var re=0;re<I.length;re++)I[re]=0;return I}},65504:(Pe,g,D)=>{"use strict";g.gi=g.Au=g.KS=g.kz=void 0;const re=D(7841),ne=D(11512);function k(F){const V=new Float64Array(16);if(F)for(let U=0;U<F.length;U++)V[U]=F[U];return V}g.kz=32,g.KS=32;const $=new Uint8Array(32);$[0]=9;const te=k([56129,1]);function H(F){let V=1;for(let U=0;U<16;U++){let h=F[U]+V+65535;V=Math.floor(h/65536),F[U]=h-65536*V}F[0]+=V-1+37*(V-1)}function M(F,V,U){const h=~(U-1);for(let f=0;f<16;f++){const _=h&(F[f]^V[f]);F[f]^=_,V[f]^=_}}function ce(F,V,U){for(let h=0;h<16;h++)F[h]=V[h]+U[h]}function de(F,V,U){for(let h=0;h<16;h++)F[h]=V[h]-U[h]}function ue(F,V,U){let h,f,_=0,v=0,S=0,b=0,p=0,x=0,P=0,N=0,E=0,W=0,le=0,G=0,Re=0,ve=0,xe=0,Ce=0,Fe=0,je=0,Z=0,he=0,se=0,y=0,Y=0,Ae=0,ze=0,ot=0,wt=0,ct=0,_t=0,Ht=0,Xt=0,gt=U[0],ft=U[1],it=U[2],ut=U[3],rt=U[4],Ge=U[5],He=U[6],We=U[7],Ye=U[8],lt=U[9],dt=U[10],bt=U[11],Et=U[12],yt=U[13],Dt=U[14],St=U[15];h=V[0],_+=h*gt,v+=h*ft,S+=h*it,b+=h*ut,p+=h*rt,x+=h*Ge,P+=h*He,N+=h*We,E+=h*Ye,W+=h*lt,le+=h*dt,G+=h*bt,Re+=h*Et,ve+=h*yt,xe+=h*Dt,Ce+=h*St,h=V[1],v+=h*gt,S+=h*ft,b+=h*it,p+=h*ut,x+=h*rt,P+=h*Ge,N+=h*He,E+=h*We,W+=h*Ye,le+=h*lt,G+=h*dt,Re+=h*bt,ve+=h*Et,xe+=h*yt,Ce+=h*Dt,Fe+=h*St,h=V[2],S+=h*gt,b+=h*ft,p+=h*it,x+=h*ut,P+=h*rt,N+=h*Ge,E+=h*He,W+=h*We,le+=h*Ye,G+=h*lt,Re+=h*dt,ve+=h*bt,xe+=h*Et,Ce+=h*yt,Fe+=h*Dt,je+=h*St,h=V[3],b+=h*gt,p+=h*ft,x+=h*it,P+=h*ut,N+=h*rt,E+=h*Ge,W+=h*He,le+=h*We,G+=h*Ye,Re+=h*lt,ve+=h*dt,xe+=h*bt,Ce+=h*Et,Fe+=h*yt,je+=h*Dt,Z+=h*St,h=V[4],p+=h*gt,x+=h*ft,P+=h*it,N+=h*ut,E+=h*rt,W+=h*Ge,le+=h*He,G+=h*We,Re+=h*Ye,ve+=h*lt,xe+=h*dt,Ce+=h*bt,Fe+=h*Et,je+=h*yt,Z+=h*Dt,he+=h*St,h=V[5],x+=h*gt,P+=h*ft,N+=h*it,E+=h*ut,W+=h*rt,le+=h*Ge,G+=h*He,Re+=h*We,ve+=h*Ye,xe+=h*lt,Ce+=h*dt,Fe+=h*bt,je+=h*Et,Z+=h*yt,he+=h*Dt,se+=h*St,h=V[6],P+=h*gt,N+=h*ft,E+=h*it,W+=h*ut,le+=h*rt,G+=h*Ge,Re+=h*He,ve+=h*We,xe+=h*Ye,Ce+=h*lt,Fe+=h*dt,je+=h*bt,Z+=h*Et,he+=h*yt,se+=h*Dt,y+=h*St,h=V[7],N+=h*gt,E+=h*ft,W+=h*it,le+=h*ut,G+=h*rt,Re+=h*Ge,ve+=h*He,xe+=h*We,Ce+=h*Ye,Fe+=h*lt,je+=h*dt,Z+=h*bt,he+=h*Et,se+=h*yt,y+=h*Dt,Y+=h*St,h=V[8],E+=h*gt,W+=h*ft,le+=h*it,G+=h*ut,Re+=h*rt,ve+=h*Ge,xe+=h*He,Ce+=h*We,Fe+=h*Ye,je+=h*lt,Z+=h*dt,he+=h*bt,se+=h*Et,y+=h*yt,Y+=h*Dt,Ae+=h*St,h=V[9],W+=h*gt,le+=h*ft,G+=h*it,Re+=h*ut,ve+=h*rt,xe+=h*Ge,Ce+=h*He,Fe+=h*We,je+=h*Ye,Z+=h*lt,he+=h*dt,se+=h*bt,y+=h*Et,Y+=h*yt,Ae+=h*Dt,ze+=h*St,h=V[10],le+=h*gt,G+=h*ft,Re+=h*it,ve+=h*ut,xe+=h*rt,Ce+=h*Ge,Fe+=h*He,je+=h*We,Z+=h*Ye,he+=h*lt,se+=h*dt,y+=h*bt,Y+=h*Et,Ae+=h*yt,ze+=h*Dt,ot+=h*St,h=V[11],G+=h*gt,Re+=h*ft,ve+=h*it,xe+=h*ut,Ce+=h*rt,Fe+=h*Ge,je+=h*He,Z+=h*We,he+=h*Ye,se+=h*lt,y+=h*dt,Y+=h*bt,Ae+=h*Et,ze+=h*yt,ot+=h*Dt,wt+=h*St,h=V[12],Re+=h*gt,ve+=h*ft,xe+=h*it,Ce+=h*ut,Fe+=h*rt,je+=h*Ge,Z+=h*He,he+=h*We,se+=h*Ye,y+=h*lt,Y+=h*dt,Ae+=h*bt,ze+=h*Et,ot+=h*yt,wt+=h*Dt,ct+=h*St,h=V[13],ve+=h*gt,xe+=h*ft,Ce+=h*it,Fe+=h*ut,je+=h*rt,Z+=h*Ge,he+=h*He,se+=h*We,y+=h*Ye,Y+=h*lt,Ae+=h*dt,ze+=h*bt,ot+=h*Et,wt+=h*yt,ct+=h*Dt,_t+=h*St,h=V[14],xe+=h*gt,Ce+=h*ft,Fe+=h*it,je+=h*ut,Z+=h*rt,he+=h*Ge,se+=h*He,y+=h*We,Y+=h*Ye,Ae+=h*lt,ze+=h*dt,ot+=h*bt,wt+=h*Et,ct+=h*yt,_t+=h*Dt,Ht+=h*St,h=V[15],Ce+=h*gt,Fe+=h*ft,je+=h*it,Z+=h*ut,he+=h*rt,se+=h*Ge,y+=h*He,Y+=h*We,Ae+=h*Ye,ze+=h*lt,ot+=h*dt,wt+=h*bt,ct+=h*Et,_t+=h*yt,Ht+=h*Dt,Xt+=h*St,_+=38*Fe,v+=38*je,S+=38*Z,b+=38*he,p+=38*se,x+=38*y,P+=38*Y,N+=38*Ae,E+=38*ze,W+=38*ot,le+=38*wt,G+=38*ct,Re+=38*_t,ve+=38*Ht,xe+=38*Xt,f=1,h=_+f+65535,f=Math.floor(h/65536),_=h-65536*f,h=v+f+65535,f=Math.floor(h/65536),v=h-65536*f,h=S+f+65535,f=Math.floor(h/65536),S=h-65536*f,h=b+f+65535,f=Math.floor(h/65536),b=h-65536*f,h=p+f+65535,f=Math.floor(h/65536),p=h-65536*f,h=x+f+65535,f=Math.floor(h/65536),x=h-65536*f,h=P+f+65535,f=Math.floor(h/65536),P=h-65536*f,h=N+f+65535,f=Math.floor(h/65536),N=h-65536*f,h=E+f+65535,f=Math.floor(h/65536),E=h-65536*f,h=W+f+65535,f=Math.floor(h/65536),W=h-65536*f,h=le+f+65535,f=Math.floor(h/65536),le=h-65536*f,h=G+f+65535,f=Math.floor(h/65536),G=h-65536*f,h=Re+f+65535,f=Math.floor(h/65536),Re=h-65536*f,h=ve+f+65535,f=Math.floor(h/65536),ve=h-65536*f,h=xe+f+65535,f=Math.floor(h/65536),xe=h-65536*f,h=Ce+f+65535,f=Math.floor(h/65536),Ce=h-65536*f,_+=f-1+37*(f-1),f=1,h=_+f+65535,f=Math.floor(h/65536),_=h-65536*f,h=v+f+65535,f=Math.floor(h/65536),v=h-65536*f,h=S+f+65535,f=Math.floor(h/65536),S=h-65536*f,h=b+f+65535,f=Math.floor(h/65536),b=h-65536*f,h=p+f+65535,f=Math.floor(h/65536),p=h-65536*f,h=x+f+65535,f=Math.floor(h/65536),x=h-65536*f,h=P+f+65535,f=Math.floor(h/65536),P=h-65536*f,h=N+f+65535,f=Math.floor(h/65536),N=h-65536*f,h=E+f+65535,f=Math.floor(h/65536),E=h-65536*f,h=W+f+65535,f=Math.floor(h/65536),W=h-65536*f,h=le+f+65535,f=Math.floor(h/65536),le=h-65536*f,h=G+f+65535,f=Math.floor(h/65536),G=h-65536*f,h=Re+f+65535,f=Math.floor(h/65536),Re=h-65536*f,h=ve+f+65535,f=Math.floor(h/65536),ve=h-65536*f,h=xe+f+65535,f=Math.floor(h/65536),xe=h-65536*f,h=Ce+f+65535,f=Math.floor(h/65536),Ce=h-65536*f,_+=f-1+37*(f-1),F[0]=_,F[1]=v,F[2]=S,F[3]=b,F[4]=p,F[5]=x,F[6]=P,F[7]=N,F[8]=E,F[9]=W,F[10]=le,F[11]=G,F[12]=Re,F[13]=ve,F[14]=xe,F[15]=Ce}function O(F,V){ue(F,V,V)}function De(F,V){const U=new Uint8Array(32),h=new Float64Array(80),f=k(),_=k(),v=k(),S=k(),b=k(),p=k();for(let E=0;E<31;E++)U[E]=F[E];U[31]=127&F[31]|64,U[0]&=248,function L(F,V){for(let U=0;U<16;U++)F[U]=V[2*U]+(V[2*U+1]<<8);F[15]&=32767}(h,V);for(let E=0;E<16;E++)_[E]=h[E];f[0]=S[0]=1;for(let E=254;E>=0;--E){const W=U[E>>>3]>>>(7&E)&1;M(f,_,W),M(v,S,W),ce(b,f,v),de(f,f,v),ce(v,_,S),de(_,_,S),O(S,b),O(p,f),ue(f,v,f),ue(v,_,b),ce(b,f,v),de(f,f,v),O(_,f),de(v,S,p),ue(f,v,te),ce(f,f,S),ue(v,v,f),ue(f,S,p),ue(S,_,h),O(_,b),M(f,_,W),M(v,S,W)}for(let E=0;E<16;E++)h[E+16]=f[E],h[E+32]=v[E],h[E+48]=_[E],h[E+64]=S[E];const x=h.subarray(32),P=h.subarray(16);(function _e(F,V){const U=k();for(let h=0;h<16;h++)U[h]=V[h];for(let h=253;h>=0;h--)O(U,U),2!==h&&4!==h&&ue(U,U,V);for(let h=0;h<16;h++)F[h]=U[h]})(x,x),ue(P,P,x);const N=new Uint8Array(32);return function C(F,V){const U=k(),h=k();for(let f=0;f<16;f++)h[f]=V[f];H(h),H(h),H(h);for(let f=0;f<2;f++){U[0]=h[0]-65517;for(let v=1;v<15;v++)U[v]=h[v]-65535-(U[v-1]>>16&1),U[v-1]&=65535;U[15]=h[15]-32767-(U[14]>>16&1);const _=U[15]>>16&1;U[14]&=65535,M(h,U,1-_)}for(let f=0;f<16;f++)F[2*f]=255&h[f],F[2*f+1]=h[f]>>8}(N,P),N}function we(F){return De(F,$)}g.Au=function B(F){const V=(0,re.randomBytes)(32,F),U=function ee(F){if(F.length!==g.KS)throw new Error(`x25519: seed must be ${g.KS} bytes`);const V=new Uint8Array(F);return{publicKey:we(V),secretKey:V}}(V);return(0,ne.wipe)(V),U},g.gi=function J(F,V,U=!1){if(F.length!==g.kz)throw new Error("X25519: incorrect secret key length");if(V.length!==g.kz)throw new Error("X25519: incorrect public key length");const h=De(F,V);if(U){let f=0;for(let _=0;_<h.length;_++)f|=h[_];if(0===f)throw new Error("X25519: invalid shared key")}return h}},38573:(Pe,g)=>{"use strict";function D(){return(null==global?void 0:global.crypto)||(null==global?void 0:global.msCrypto)||{}}function I(){const ne=D();return ne.subtle||ne.webkitSubtle}Object.defineProperty(g,"__esModule",{value:!0}),g.isBrowserCryptoAvailable=g.getSubtleCrypto=g.getBrowerCrypto=void 0,g.getBrowerCrypto=D,g.getSubtleCrypto=I,g.isBrowserCryptoAvailable=function re(){return!!D()&&!!I()}},26e3:(Pe,g)=>{"use strict";function D(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function I(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Object.defineProperty(g,"__esModule",{value:!0}),g.isBrowser=g.isNode=g.isReactNative=void 0,g.isReactNative=D,g.isNode=I,g.isBrowser=function re(){return!D()&&!I()}},43841:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const I=D(69763);I.__exportStar(D(38573),g),I.__exportStar(D(26e3),g)},43795:(Pe,g,D)=>{"use strict";D.d(g,{q:()=>I});class I{}},39282:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{IEvents:()=>I.q});var I=D(43795)},6602:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.HEARTBEAT_EVENTS=g.HEARTBEAT_INTERVAL=void 0;const I=D(40145);g.HEARTBEAT_INTERVAL=I.FIVE_SECONDS,g.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},40073:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),D(99940).__exportStar(D(6602),g)},81382:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.HeartBeat=void 0;const I=D(99940),re=D(2272),ne=D(40145),k=D(77522),$=D(40073);class te extends k.IHeartBeat{constructor(M){super(M),this.events=new re.EventEmitter,this.interval=$.HEARTBEAT_INTERVAL,this.interval=(null==M?void 0:M.interval)||$.HEARTBEAT_INTERVAL}static init(M){return I.__awaiter(this,void 0,void 0,function*(){const C=new te(M);return yield C.init(),C})}init(){return I.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(M,C){this.events.on(M,C)}once(M,C){this.events.once(M,C)}off(M,C){this.events.off(M,C)}removeListener(M,C){this.events.removeListener(M,C)}initialize(){return I.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),ne.toMiliseconds(this.interval))})}pulse(){this.events.emit($.HEARTBEAT_EVENTS.pulse)}}g.HeartBeat=te},40851:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const I=D(99940);I.__exportStar(D(81382),g),I.__exportStar(D(77522),g),I.__exportStar(D(40073),g)},31849:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.IHeartBeat=void 0;const I=D(39282);g.IHeartBeat=class re extends I.IEvents{constructor(k){super()}}},77522:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),D(99940).__exportStar(D(31849),g)},85666:(Pe,g,D)=>{"use strict";D.d(g,{IJsonRpcProvider:()=>ne.x0});var I=D(24530);D.o(I,"IJsonRpcProvider")&&D.d(g,{IJsonRpcProvider:function(){return I.IJsonRpcProvider}}),D.o(I,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return I.isHttpUrl}}),D.o(I,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return I.isJsonRpcError}}),D.o(I,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return I.isJsonRpcRequest}}),D.o(I,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return I.isJsonRpcResponse}}),D.o(I,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return I.isJsonRpcResult}}),D.o(I,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return I.isLocalhostUrl}}),D.o(I,"isReactNative")&&D.d(g,{isReactNative:function(){return I.isReactNative}}),D.o(I,"isWsUrl")&&D.d(g,{isWsUrl:function(){return I.isWsUrl}});var ne=D(15466),k=D(14980);D.o(k,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return k.isHttpUrl}}),D.o(k,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return k.isJsonRpcError}}),D.o(k,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return k.isJsonRpcRequest}}),D.o(k,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return k.isJsonRpcResponse}}),D.o(k,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return k.isJsonRpcResult}}),D.o(k,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return k.isLocalhostUrl}}),D.o(k,"isReactNative")&&D.d(g,{isReactNative:function(){return k.isReactNative}}),D.o(k,"isWsUrl")&&D.d(g,{isWsUrl:function(){return k.isWsUrl}})},24530:()=>{},15466:(Pe,g,D)=>{"use strict";D.d(g,{x0:()=>k});class k extends class ne extends class I{}{constructor(){super()}}{constructor(te){super()}}},14980:()=>{},90680:(Pe,g,D)=>{"use strict";D.d(g,{CA:()=>te,JV:()=>L,O4:()=>$,dQ:()=>H,xK:()=>C});const $="INTERNAL_ERROR",te="SERVER_ERROR",H=[-32700,-32600,-32601,-32602,-32603],C={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[$]:{code:-32603,message:"Internal error"},[te]:{code:-32e3,message:"Server error"}},L=te},20429:(Pe,g,D)=>{"use strict";var I=D(43841);D.o(I,"IJsonRpcProvider")&&D.d(g,{IJsonRpcProvider:function(){return I.IJsonRpcProvider}}),D.o(I,"formatJsonRpcError")&&D.d(g,{formatJsonRpcError:function(){return I.formatJsonRpcError}}),D.o(I,"formatJsonRpcRequest")&&D.d(g,{formatJsonRpcRequest:function(){return I.formatJsonRpcRequest}}),D.o(I,"formatJsonRpcResult")&&D.d(g,{formatJsonRpcResult:function(){return I.formatJsonRpcResult}}),D.o(I,"getBigIntRpcId")&&D.d(g,{getBigIntRpcId:function(){return I.getBigIntRpcId}}),D.o(I,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return I.isHttpUrl}}),D.o(I,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return I.isJsonRpcError}}),D.o(I,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return I.isJsonRpcRequest}}),D.o(I,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return I.isJsonRpcResponse}}),D.o(I,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return I.isJsonRpcResult}}),D.o(I,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return I.isLocalhostUrl}}),D.o(I,"isReactNative")&&D.d(g,{isReactNative:function(){return I.isReactNative}}),D.o(I,"isWsUrl")&&D.d(g,{isWsUrl:function(){return I.isWsUrl}})},49286:(Pe,g,D)=>{"use strict";D.d(g,{CX:()=>M,L2:()=>te,by:()=>$,i5:()=>ne});var I=D(90680);function ne(C){return I.dQ.includes(C)}function $(C){return Object.keys(I.xK).includes(C)?I.xK[C]:I.xK[I.JV]}function te(C){return Object.values(I.xK).find(ce=>ce.code===C)||I.xK[I.JV]}function M(C,L,ce){return C.message.includes("getaddrinfo ENOTFOUND")||C.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${ce} RPC url at ${L}`):C}},76212:(Pe,g,D)=>{"use strict";D.d(g,{CS:()=>k,RI:()=>H,sT:()=>$,tm:()=>te});var I=D(49286),re=D(90680);function ne(C=3){return Date.now()*Math.pow(10,C)+Math.floor(Math.random()*Math.pow(10,C))}function k(C=6){return BigInt(ne(C))}function $(C,L,ce){return{id:ce||ne(),jsonrpc:"2.0",method:C,params:L}}function te(C,L){return{id:C,jsonrpc:"2.0",result:L}}function H(C,L,ce){return{id:C,jsonrpc:"2.0",error:M(L,ce)}}function M(C,L){return typeof C>"u"?(0,I.by)(re.O4):("string"==typeof C&&(C=Object.assign(Object.assign({},(0,I.by)(re.CA)),{message:C})),typeof L<"u"&&(C.data=L),(0,I.i5)(C.code)&&(C=(0,I.L2)(C.code)),C)}},80663:(Pe,g,D)=>{"use strict";D.d(g,{formatJsonRpcError:()=>k.RI,formatJsonRpcRequest:()=>k.sT,formatJsonRpcResult:()=>k.tm,getBigIntRpcId:()=>k.CS,isHttpUrl:()=>te.jK,isJsonRpcError:()=>H.jg,isJsonRpcRequest:()=>H.DW,isJsonRpcResponse:()=>H.u,isJsonRpcResult:()=>H.k4,isLocalhostUrl:()=>te.JF,isWsUrl:()=>te.UZ,parseConnectionError:()=>re.CX}),D(90680);var re=D(49286),ne=D(20429);D.o(ne,"IJsonRpcProvider")&&D.d(g,{IJsonRpcProvider:function(){return ne.IJsonRpcProvider}}),D.o(ne,"formatJsonRpcError")&&D.d(g,{formatJsonRpcError:function(){return ne.formatJsonRpcError}}),D.o(ne,"formatJsonRpcRequest")&&D.d(g,{formatJsonRpcRequest:function(){return ne.formatJsonRpcRequest}}),D.o(ne,"formatJsonRpcResult")&&D.d(g,{formatJsonRpcResult:function(){return ne.formatJsonRpcResult}}),D.o(ne,"getBigIntRpcId")&&D.d(g,{getBigIntRpcId:function(){return ne.getBigIntRpcId}}),D.o(ne,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return ne.isHttpUrl}}),D.o(ne,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return ne.isJsonRpcError}}),D.o(ne,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return ne.isJsonRpcRequest}}),D.o(ne,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return ne.isJsonRpcResponse}}),D.o(ne,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return ne.isJsonRpcResult}}),D.o(ne,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return ne.isLocalhostUrl}}),D.o(ne,"isReactNative")&&D.d(g,{isReactNative:function(){return ne.isReactNative}}),D.o(ne,"isWsUrl")&&D.d(g,{isWsUrl:function(){return ne.isWsUrl}});var k=D(76212),$=D(85713);D.o($,"IJsonRpcProvider")&&D.d(g,{IJsonRpcProvider:function(){return $.IJsonRpcProvider}}),D.o($,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return $.isHttpUrl}}),D.o($,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return $.isJsonRpcError}}),D.o($,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return $.isJsonRpcRequest}}),D.o($,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return $.isJsonRpcResponse}}),D.o($,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return $.isJsonRpcResult}}),D.o($,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return $.isLocalhostUrl}}),D.o($,"isReactNative")&&D.d(g,{isReactNative:function(){return $.isReactNative}}),D.o($,"isWsUrl")&&D.d(g,{isWsUrl:function(){return $.isWsUrl}});var te=D(81230),H=D(74019)},85713:(Pe,g,D)=>{"use strict";D.d(g,{IJsonRpcProvider:()=>I.IJsonRpcProvider});var I=D(85666);D.o(I,"isHttpUrl")&&D.d(g,{isHttpUrl:function(){return I.isHttpUrl}}),D.o(I,"isJsonRpcError")&&D.d(g,{isJsonRpcError:function(){return I.isJsonRpcError}}),D.o(I,"isJsonRpcRequest")&&D.d(g,{isJsonRpcRequest:function(){return I.isJsonRpcRequest}}),D.o(I,"isJsonRpcResponse")&&D.d(g,{isJsonRpcResponse:function(){return I.isJsonRpcResponse}}),D.o(I,"isJsonRpcResult")&&D.d(g,{isJsonRpcResult:function(){return I.isJsonRpcResult}}),D.o(I,"isLocalhostUrl")&&D.d(g,{isLocalhostUrl:function(){return I.isLocalhostUrl}}),D.o(I,"isReactNative")&&D.d(g,{isReactNative:function(){return I.isReactNative}}),D.o(I,"isWsUrl")&&D.d(g,{isWsUrl:function(){return I.isWsUrl}})},81230:(Pe,g,D)=>{"use strict";function k(M,C){const L=function ne(M){const C=M.match(new RegExp(/^\w+:/,"gi"));if(C&&C.length)return C[0]}(M);return!(typeof L>"u")&&new RegExp(C).test(L)}function $(M){return k(M,"^https?:")}function te(M){return k(M,"^wss?:")}function H(M){return new RegExp("wss?://localhost(:d{2,5})?").test(M)}D.d(g,{JF:()=>H,UZ:()=>te,jK:()=>$})},74019:(Pe,g,D)=>{"use strict";function I(H){return"object"==typeof H&&"id"in H&&"jsonrpc"in H&&"2.0"===H.jsonrpc}function re(H){return I(H)&&"method"in H}function ne(H){return I(H)&&(k(H)||$(H))}function k(H){return"result"in H}function $(H){return"error"in H}D.d(g,{DW:()=>re,jg:()=>$,k4:()=>k,u:()=>ne})},83169:(Pe,g,D)=>{"use strict";const re=D(92818),ne=D(53439),k=re.__importDefault(D(271)),$=D(86586);g.ZP=class te{constructor(){this.localStorage=k.default}getKeys(){return re.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return re.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map($.parseEntry)})}getItem(M){return re.__awaiter(this,void 0,void 0,function*(){const C=this.localStorage.getItem(M);if(null!==C)return ne.safeJsonParse(C)})}setItem(M,C){return re.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(M,ne.safeJsonStringify(C))})}removeItem(M){return re.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(M)})}}},271:Pe=>{"use strict";!function(){let g;function D(){}g=D,g.prototype.getItem=function(I){return this.hasOwnProperty(I)?String(this[I]):null},g.prototype.setItem=function(I,re){this[I]=String(re)},g.prototype.removeItem=function(I){delete this[I]},g.prototype.clear=function(){const I=this;Object.keys(I).forEach(function(re){I[re]=void 0,delete I[re]})},g.prototype.key=function(I){return I=I||0,Object.keys(this)[I]},g.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),Pe.exports=typeof global<"u"&&global.localStorage?global.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new D}()},86586:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const I=D(92818);I.__exportStar(D(68684),g),I.__exportStar(D(2043),g)},68684:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.IKeyValueStorage=void 0,g.IKeyValueStorage=class D{}},2043:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.parseEntry=void 0;const I=D(53439);g.parseEntry=function re(ne){var k;return[ne[0],I.safeJsonParse(null!==(k=ne[1])&&void 0!==k?k:"")]}},20191:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.PINO_CUSTOM_CONTEXT_KEY=g.PINO_LOGGER_DEFAULTS=void 0,g.PINO_LOGGER_DEFAULTS={level:"info"},g.PINO_CUSTOM_CONTEXT_KEY="custom_context"},71268:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.pino=void 0;const I=D(20263),re=I.__importDefault(D(37386));Object.defineProperty(g,"pino",{enumerable:!0,get:function(){return re.default}}),I.__exportStar(D(20191),g),I.__exportStar(D(59164),g)},59164:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.generateChildLogger=g.formatChildLoggerContext=g.getLoggerContext=g.setBrowserLoggerContext=g.getBrowserLoggerContext=g.getDefaultLoggerOptions=void 0;const I=D(20191);function ne(M,C=I.PINO_CUSTOM_CONTEXT_KEY){return M[C]||""}function k(M,C,L=I.PINO_CUSTOM_CONTEXT_KEY){return M[L]=C,M}function $(M,C=I.PINO_CUSTOM_CONTEXT_KEY){let L="";return L=typeof M.bindings>"u"?ne(M,C):M.bindings().context||"",L}function te(M,C,L=I.PINO_CUSTOM_CONTEXT_KEY){const ce=$(M,L);return ce.trim()?`${ce}/${C}`:C}g.getDefaultLoggerOptions=function re(M){return Object.assign(Object.assign({},M),{level:(null==M?void 0:M.level)||I.PINO_LOGGER_DEFAULTS.level})},g.getBrowserLoggerContext=ne,g.setBrowserLoggerContext=k,g.getLoggerContext=$,g.formatChildLoggerContext=te,g.generateChildLogger=function H(M,C,L=I.PINO_CUSTOM_CONTEXT_KEY){const ce=te(M,C,L);return k(M.child({context:ce}),ce,L)}},43025:()=>{},84143:()=>{},21833:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const I=D(58092);I.__exportStar(D(77892),g),I.__exportStar(D(72562),g)},77892:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.ONE_THOUSAND=g.ONE_HUNDRED=void 0,g.ONE_HUNDRED=100,g.ONE_THOUSAND=1e3},72562:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.ONE_YEAR=g.FOUR_WEEKS=g.THREE_WEEKS=g.TWO_WEEKS=g.ONE_WEEK=g.THIRTY_DAYS=g.SEVEN_DAYS=g.FIVE_DAYS=g.THREE_DAYS=g.ONE_DAY=g.TWENTY_FOUR_HOURS=g.TWELVE_HOURS=g.SIX_HOURS=g.THREE_HOURS=g.ONE_HOUR=g.SIXTY_MINUTES=g.THIRTY_MINUTES=g.TEN_MINUTES=g.FIVE_MINUTES=g.ONE_MINUTE=g.SIXTY_SECONDS=g.THIRTY_SECONDS=g.TEN_SECONDS=g.FIVE_SECONDS=g.ONE_SECOND=void 0,g.ONE_SECOND=1,g.FIVE_SECONDS=5,g.TEN_SECONDS=10,g.THIRTY_SECONDS=30,g.SIXTY_SECONDS=60,g.ONE_MINUTE=g.SIXTY_SECONDS,g.FIVE_MINUTES=5*g.ONE_MINUTE,g.TEN_MINUTES=10*g.ONE_MINUTE,g.THIRTY_MINUTES=30*g.ONE_MINUTE,g.SIXTY_MINUTES=60*g.ONE_MINUTE,g.ONE_HOUR=g.SIXTY_MINUTES,g.THREE_HOURS=3*g.ONE_HOUR,g.SIX_HOURS=6*g.ONE_HOUR,g.TWELVE_HOURS=12*g.ONE_HOUR,g.TWENTY_FOUR_HOURS=24*g.ONE_HOUR,g.ONE_DAY=g.TWENTY_FOUR_HOURS,g.THREE_DAYS=3*g.ONE_DAY,g.FIVE_DAYS=5*g.ONE_DAY,g.SEVEN_DAYS=7*g.ONE_DAY,g.THIRTY_DAYS=30*g.ONE_DAY,g.ONE_WEEK=g.SEVEN_DAYS,g.TWO_WEEKS=2*g.ONE_WEEK,g.THREE_WEEKS=3*g.ONE_WEEK,g.FOUR_WEEKS=4*g.ONE_WEEK,g.ONE_YEAR=365*g.ONE_DAY},40145:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const I=D(58092);I.__exportStar(D(94256),g),I.__exportStar(D(59794),g),I.__exportStar(D(16834),g),I.__exportStar(D(21833),g)},16834:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),D(58092).__exportStar(D(45412),g)},45412:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.IWatch=void 0,g.IWatch=class D{}},24500:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.fromMiliseconds=g.toMiliseconds=void 0;const I=D(21833);g.toMiliseconds=function re(k){return k*I.ONE_THOUSAND},g.fromMiliseconds=function ne(k){return Math.floor(k/I.ONE_THOUSAND)}},23337:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.delay=void 0,g.delay=function D(I){return new Promise(re=>{setTimeout(()=>{re(!0)},I)})}},94256:(Pe,g,D)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const I=D(58092);I.__exportStar(D(23337),g),I.__exportStar(D(24500),g)},59794:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.Watch=void 0;class D{constructor(){this.timestamps=new Map}start(re){if(this.timestamps.has(re))throw new Error(`Watch already started for label: ${re}`);this.timestamps.set(re,{started:Date.now()})}stop(re){const ne=this.get(re);if(typeof ne.elapsed<"u")throw new Error(`Watch already stopped for label: ${re}`);const k=Date.now()-ne.started;this.timestamps.set(re,{started:ne.started,elapsed:k})}get(re){const ne=this.timestamps.get(re);if(typeof ne>"u")throw new Error(`No timestamp found for label: ${re}`);return ne}elapsed(re){const ne=this.get(re);return ne.elapsed||Date.now()-ne.started}}g.Watch=D,g.default=D},6179:(Pe,g)=>{"use strict";function D(de){let ue;return typeof window<"u"&&typeof window[de]<"u"&&(ue=window[de]),ue}function I(de){const ue=D(de);if(!ue)throw new Error(`${de} is not defined in Window`);return ue}Object.defineProperty(g,"__esModule",{value:!0}),g.getLocalStorage=g.getLocalStorageOrThrow=g.getCrypto=g.getCryptoOrThrow=g.getLocation=g.getLocationOrThrow=g.getNavigator=g.getNavigatorOrThrow=g.getDocument=g.getDocumentOrThrow=g.getFromWindowOrThrow=g.getFromWindow=void 0,g.getFromWindow=D,g.getFromWindowOrThrow=I,g.getDocumentOrThrow=function re(){return I("document")},g.getDocument=function ne(){return D("document")},g.getNavigatorOrThrow=function k(){return I("navigator")},g.getNavigator=function $(){return D("navigator")},g.getLocationOrThrow=function te(){return I("location")},g.getLocation=function H(){return D("location")},g.getCryptoOrThrow=function M(){return I("crypto")},g.getCrypto=function C(){return D("crypto")},g.getLocalStorageOrThrow=function L(){return I("localStorage")},g.getLocalStorage=function ce(){return D("localStorage")}},98064:(Pe,g,D)=>{"use strict";g.D=void 0;const re=D(6179);g.D=function ne(){let k,$;try{k=re.getDocumentOrThrow(),$=re.getLocationOrThrow()}catch{return null}function H(..._e){const De=k.getElementsByTagName("meta");for(let we=0;we<De.length;we++){const ee=De[we],B=["itemprop","property","name"].map(J=>ee.getAttribute(J)).filter(J=>!!J&&_e.includes(J));if(B.length&&B){const J=ee.getAttribute("content");if(J)return J}}return""}const L=function M(){let _e=H("name","og:site_name","og:title","twitter:title");return _e||(_e=k.title),_e}();return{description:function C(){return H("description","og:description","twitter:description","keywords")}(),url:$.origin,icons:function te(){const _e=k.getElementsByTagName("link"),De=[];for(let we=0;we<_e.length;we++){const ee=_e[we],B=ee.getAttribute("rel");if(B&&B.toLowerCase().indexOf("icon")>-1){const J=ee.getAttribute("href");if(J)if(-1===J.toLowerCase().indexOf("https:")&&-1===J.toLowerCase().indexOf("http:")&&0!==J.indexOf("//")){let F=$.protocol+"//"+$.host;if(0===J.indexOf("/"))F+=J;else{const V=$.pathname.split("/");V.pop(),F+=V.join("/")+"/"+J}De.push(F)}else 0===J.indexOf("//")?De.push($.protocol+J):De.push(J)}}return De}(),name:L}}},5928:function(Pe,g){var ne,D=typeof self<"u"?self:this,I=function(){function ne(){this.fetch=!1,this.DOMException=D.DOMException}return ne.prototype=D,new ne}();ne=I,function($){var te_searchParams="URLSearchParams"in ne,te_iterable="Symbol"in ne&&"iterator"in Symbol,te_blob="FileReader"in ne&&"Blob"in ne&&function(){try{return new Blob,!0}catch{return!1}}(),te_formData="FormData"in ne,te_arrayBuffer="ArrayBuffer"in ne;if(te_arrayBuffer)var M=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],C=ArrayBuffer.isView||function(b){return b&&M.indexOf(Object.prototype.toString.call(b))>-1};function L(b){if("string"!=typeof b&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function ce(b){return"string"!=typeof b&&(b=String(b)),b}function de(b){var p={next:function(){var x=b.shift();return{done:void 0===x,value:x}}};return te_iterable&&(p[Symbol.iterator]=function(){return p}),p}function ue(b){this.map={},b instanceof ue?b.forEach(function(p,x){this.append(x,p)},this):Array.isArray(b)?b.forEach(function(p){this.append(p[0],p[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(p){this.append(p,b[p])},this)}function O(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function _e(b){return new Promise(function(p,x){b.onload=function(){p(b.result)},b.onerror=function(){x(b.error)}})}function De(b){var p=new FileReader,x=_e(p);return p.readAsArrayBuffer(b),x}function B(b){if(b.slice)return b.slice(0);var p=new Uint8Array(b.byteLength);return p.set(new Uint8Array(b)),p.buffer}function J(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?"string"==typeof b?this._bodyText=b:te_blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:te_formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:te_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():te_arrayBuffer&&te_blob&&function H(b){return b&&DataView.prototype.isPrototypeOf(b)}(b)?(this._bodyArrayBuffer=B(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):te_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||C(b))?this._bodyArrayBuffer=B(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||("string"==typeof b?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):te_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},te_blob&&(this.blob=function(){var b=O(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?O(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(De)}),this.text=function(){var b=O(this);if(b)return b;if(this._bodyBlob)return function we(b){var p=new FileReader,x=_e(p);return p.readAsText(b),x}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function ee(b){for(var p=new Uint8Array(b),x=new Array(p.length),P=0;P<p.length;P++)x[P]=String.fromCharCode(p[P]);return x.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},te_formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}ue.prototype.append=function(b,p){b=L(b),p=ce(p);var x=this.map[b];this.map[b]=x?x+", "+p:p},ue.prototype.delete=function(b){delete this.map[L(b)]},ue.prototype.get=function(b){return b=L(b),this.has(b)?this.map[b]:null},ue.prototype.has=function(b){return this.map.hasOwnProperty(L(b))},ue.prototype.set=function(b,p){this.map[L(b)]=ce(p)},ue.prototype.forEach=function(b,p){for(var x in this.map)this.map.hasOwnProperty(x)&&b.call(p,this.map[x],x,this)},ue.prototype.keys=function(){var b=[];return this.forEach(function(p,x){b.push(x)}),de(b)},ue.prototype.values=function(){var b=[];return this.forEach(function(p){b.push(p)}),de(b)},ue.prototype.entries=function(){var b=[];return this.forEach(function(p,x){b.push([x,p])}),de(b)},te_iterable&&(ue.prototype[Symbol.iterator]=ue.prototype.entries);var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(b,p){var x=(p=p||{}).body;if(b instanceof U){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,p.headers||(this.headers=new ue(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!x&&null!=b._bodyInit&&(x=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new ue(p.headers)),this.method=function V(b){var p=b.toUpperCase();return F.indexOf(p)>-1?p:b}(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&x)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(x)}function h(b){var p=new FormData;return b.trim().split("&").forEach(function(x){if(x){var P=x.split("="),N=P.shift().replace(/\+/g," "),E=P.join("=").replace(/\+/g," ");p.append(decodeURIComponent(N),decodeURIComponent(E))}}),p}function f(b){var p=new ue;return b.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(P){var N=P.split(":"),E=N.shift().trim();if(E){var W=N.join(":").trim();p.append(E,W)}}),p}function _(b,p){p||(p={}),this.type="default",this.status=void 0===p.status?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"OK",this.headers=new ue(p.headers),this.url=p.url||"",this._initBody(b)}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})},J.call(U.prototype),J.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ue(this.headers),url:this.url})},_.error=function(){var b=new _(null,{status:0,statusText:""});return b.type="error",b};var v=[301,302,303,307,308];_.redirect=function(b,p){if(-1===v.indexOf(p))throw new RangeError("Invalid status code");return new _(null,{status:p,headers:{location:b}})},$.DOMException=ne.DOMException;try{new $.DOMException}catch{$.DOMException=function(p,x){this.message=p,this.name=x;var P=Error(p);this.stack=P.stack},$.DOMException.prototype=Object.create(Error.prototype),$.DOMException.prototype.constructor=$.DOMException}function S(b,p){return new Promise(function(x,P){var N=new U(b,p);if(N.signal&&N.signal.aborted)return P(new $.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function W(){E.abort()}E.onload=function(){var le={status:E.status,statusText:E.statusText,headers:f(E.getAllResponseHeaders()||"")};le.url="responseURL"in E?E.responseURL:le.headers.get("X-Request-URL"),x(new _("response"in E?E.response:E.responseText,le))},E.onerror=function(){P(new TypeError("Network request failed"))},E.ontimeout=function(){P(new TypeError("Network request failed"))},E.onabort=function(){P(new $.DOMException("Aborted","AbortError"))},E.open(N.method,N.url,!0),"include"===N.credentials?E.withCredentials=!0:"omit"===N.credentials&&(E.withCredentials=!1),"responseType"in E&&te_blob&&(E.responseType="blob"),N.headers.forEach(function(le,G){E.setRequestHeader(G,le)}),N.signal&&(N.signal.addEventListener("abort",W),E.onreadystatechange=function(){4===E.readyState&&N.signal.removeEventListener("abort",W)}),E.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}S.polyfill=!0,ne.fetch||(ne.fetch=S,ne.Headers=ue,ne.Request=U,ne.Response=_),$.Headers=ue,$.Request=U,$.Response=_,$.fetch=S,Object.defineProperty($,"__esModule",{value:!0})}({}),I.fetch.ponyfill=!0,delete I.fetch.polyfill;var re=I;(g=re.fetch).default=re.fetch,g.fetch=re.fetch,g.Headers=re.Headers,g.Request=re.Request,g.Response=re.Response,Pe.exports=g},80318:Pe=>{"use strict";var g="%[a-f0-9]{2}",D=new RegExp("("+g+")|([^%]+?)","gi"),I=new RegExp("("+g+")+","gi");function re($,te){try{return[decodeURIComponent($.join(""))]}catch{}if(1===$.length)return $;var H=$.slice(0,te=te||1),M=$.slice(te);return Array.prototype.concat.call([],re(H),re(M))}function ne($){try{return decodeURIComponent($)}catch{for(var te=$.match(D)||[],H=1;H<te.length;H++)te=($=re(te,H).join("")).match(D)||[];return $}}Pe.exports=function($){if("string"!=typeof $)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof $+"`");try{return $=$.replace(/\+/g," "),decodeURIComponent($)}catch{return function k($){for(var te={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},H=I.exec($);H;){try{te[H[0]]=decodeURIComponent(H[0])}catch{var M=ne(H[0]);M!==H[0]&&(te[H[0]]=M)}H=I.exec($)}te["%C2"]="\ufffd";for(var C=Object.keys(te),L=0;L<C.length;L++){var ce=C[L];$=$.replace(new RegExp(ce,"g"),te[ce])}return $}($)}}},2272:Pe=>{"use strict";var I,g="object"==typeof Reflect?Reflect:null,D=g&&"function"==typeof g.apply?g.apply:function(J,F,V){return Function.prototype.apply.call(J,F,V)};I=g&&"function"==typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function(J){return Object.getOwnPropertyNames(J).concat(Object.getOwnPropertySymbols(J))}:function(J){return Object.getOwnPropertyNames(J)};var ne=Number.isNaN||function(J){return J!=J};function k(){k.init.call(this)}Pe.exports=k,Pe.exports.once=function De(B,J){return new Promise(function(F,V){function U(f){B.removeListener(J,h),V(f)}function h(){"function"==typeof B.removeListener&&B.removeListener("error",U),F([].slice.call(arguments))}ee(B,J,h,{once:!0}),"error"!==J&&function we(B,J,F){"function"==typeof B.on&&ee(B,"error",J,F)}(B,U,{once:!0})})},k.EventEmitter=k,k.prototype._events=void 0,k.prototype._eventsCount=0,k.prototype._maxListeners=void 0;var $=10;function te(B){if("function"!=typeof B)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}function H(B){return void 0===B._maxListeners?k.defaultMaxListeners:B._maxListeners}function M(B,J,F,V){var U,h,f;if(te(F),void 0===(h=B._events)?(h=B._events=Object.create(null),B._eventsCount=0):(void 0!==h.newListener&&(B.emit("newListener",J,F.listener?F.listener:F),h=B._events),f=h[J]),void 0===f)f=h[J]=F,++B._eventsCount;else if("function"==typeof f?f=h[J]=V?[F,f]:[f,F]:V?f.unshift(F):f.push(F),(U=H(B))>0&&f.length>U&&!f.warned){f.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(J)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=B,_.type=J,_.count=f.length,function re(B){console&&console.warn&&console.warn(B)}(_)}return B}function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function L(B,J,F){var V={fired:!1,wrapFn:void 0,target:B,type:J,listener:F},U=C.bind(V);return U.listener=F,V.wrapFn=U,U}function ce(B,J,F){var V=B._events;if(void 0===V)return[];var U=V[J];return void 0===U?[]:"function"==typeof U?F?[U.listener||U]:[U]:F?function _e(B){for(var J=new Array(B.length),F=0;F<J.length;++F)J[F]=B[F].listener||B[F];return J}(U):ue(U,U.length)}function de(B){var J=this._events;if(void 0!==J){var F=J[B];if("function"==typeof F)return 1;if(void 0!==F)return F.length}return 0}function ue(B,J){for(var F=new Array(J),V=0;V<J;++V)F[V]=B[V];return F}function ee(B,J,F,V){if("function"==typeof B.on)V.once?B.once(J,F):B.on(J,F);else{if("function"!=typeof B.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B);B.addEventListener(J,function U(h){V.once&&B.removeEventListener(J,U),F(h)})}}Object.defineProperty(k,"defaultMaxListeners",{enumerable:!0,get:function(){return $},set:function(B){if("number"!=typeof B||B<0||ne(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");$=B}}),k.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},k.prototype.setMaxListeners=function(J){if("number"!=typeof J||J<0||ne(J))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+J+".");return this._maxListeners=J,this},k.prototype.getMaxListeners=function(){return H(this)},k.prototype.emit=function(J){for(var F=[],V=1;V<arguments.length;V++)F.push(arguments[V]);var U="error"===J,h=this._events;if(void 0!==h)U=U&&void 0===h.error;else if(!U)return!1;if(U){var f;if(F.length>0&&(f=F[0]),f instanceof Error)throw f;var _=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw _.context=f,_}var v=h[J];if(void 0===v)return!1;if("function"==typeof v)D(v,this,F);else{var S=v.length,b=ue(v,S);for(V=0;V<S;++V)D(b[V],this,F)}return!0},k.prototype.on=k.prototype.addListener=function(J,F){return M(this,J,F,!1)},k.prototype.prependListener=function(J,F){return M(this,J,F,!0)},k.prototype.once=function(J,F){return te(F),this.on(J,L(this,J,F)),this},k.prototype.prependOnceListener=function(J,F){return te(F),this.prependListener(J,L(this,J,F)),this},k.prototype.off=k.prototype.removeListener=function(J,F){var V,U,h,f,_;if(te(F),void 0===(U=this._events))return this;if(void 0===(V=U[J]))return this;if(V===F||V.listener===F)0==--this._eventsCount?this._events=Object.create(null):(delete U[J],U.removeListener&&this.emit("removeListener",J,V.listener||F));else if("function"!=typeof V){for(h=-1,f=V.length-1;f>=0;f--)if(V[f]===F||V[f].listener===F){_=V[f].listener,h=f;break}if(h<0)return this;0===h?V.shift():function O(B,J){for(;J+1<B.length;J++)B[J]=B[J+1];B.pop()}(V,h),1===V.length&&(U[J]=V[0]),void 0!==U.removeListener&&this.emit("removeListener",J,_||F)}return this},k.prototype.removeAllListeners=function(J){var F,V,U;if(void 0===(V=this._events))return this;if(void 0===V.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==V[J]&&(0==--this._eventsCount?this._events=Object.create(null):delete V[J]),this;if(0===arguments.length){var f,h=Object.keys(V);for(U=0;U<h.length;++U)"removeListener"!==(f=h[U])&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(F=V[J]))this.removeListener(J,F);else if(void 0!==F)for(U=F.length-1;U>=0;U--)this.removeListener(J,F[U]);return this},k.prototype.listeners=function(J){return ce(this,J,!0)},k.prototype.rawListeners=function(J){return ce(this,J,!1)},k.listenerCount=function(B,J){return"function"==typeof B.listenerCount?B.listenerCount(J):de.call(B,J)},k.prototype.listenerCount=de,k.prototype.eventNames=function(){return this._eventsCount>0?I(this._events):[]}},25633:Pe=>{"use strict";Pe.exports=function(g,D){for(var I={},re=Object.keys(g),ne=Array.isArray(D),k=0;k<re.length;k++){var $=re[k],te=g[$];(ne?-1!==D.indexOf($):D($,te,g))&&(I[$]=te)}return I}},60066:(Pe,g,D)=>{Pe=D.nmd(Pe);var re="__lodash_hash_undefined__",$=9007199254740991,te="[object Arguments]",H="[object Array]",C="[object Boolean]",L="[object Date]",ce="[object Error]",de="[object Function]",O="[object Map]",_e="[object Number]",we="[object Object]",ee="[object Promise]",J="[object RegExp]",F="[object Set]",V="[object String]",f="[object WeakMap]",_="[object ArrayBuffer]",v="[object DataView]",Re=/^\[object .+?Constructor\]$/,ve=/^(?:0|[1-9]\d*)$/,xe={};xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe[te]=xe[H]=xe[_]=xe[C]=xe[v]=xe[L]=xe[ce]=xe[de]=xe[O]=xe[_e]=xe[we]=xe[J]=xe[F]=xe[V]=xe[f]=!1;var Ce="object"==typeof global&&global&&global.Object===Object&&global,Fe="object"==typeof self&&self&&self.Object===Object&&self,je=Ce||Fe||Function("return this")(),Z=g&&!g.nodeType&&g,he=Z&&Pe&&!Pe.nodeType&&Pe,se=he&&he.exports===Z,y=se&&Ce.process,Y=function(){try{return y&&y.binding&&y.binding("util")}catch{}}(),Ae=Y&&Y.isTypedArray;function wt(j,oe){for(var Se=-1,Ue=null==j?0:j.length;++Se<Ue;)if(oe(j[Se],Se,j))return!0;return!1}function Ht(j,oe){return j.has(oe)}function gt(j){var oe=-1,Se=Array(j.size);return j.forEach(function(Ue,Tt){Se[++oe]=[Tt,Ue]}),Se}function it(j){var oe=-1,Se=Array(j.size);return j.forEach(function(Ue){Se[++oe]=Ue}),Se}var j,ut=Array.prototype,Ge=Object.prototype,He=je["__core-js_shared__"],We=Function.prototype.toString,Ye=Ge.hasOwnProperty,lt=(j=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",dt=Ge.toString,bt=RegExp("^"+We.call(Ye).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=se?je.Buffer:void 0,yt=je.Symbol,Dt=je.Uint8Array,St=Ge.propertyIsEnumerable,qr=ut.splice,Er=yt?yt.toStringTag:void 0,cn=Object.getOwnPropertySymbols,Rn=Et?Et.isBuffer:void 0,Kn=function ft(j,oe){return function(Se){return j(oe(Se))}}(Object.keys,Object),Pn=Vn(je,"DataView"),fn=Vn(je,"Map"),Wt=Vn(je,"Promise"),Gt=Vn(je,"Set"),Yt=Vn(je,"WeakMap"),$t=Vn(Object,"create"),ir=Tn(Pn),Zt=Tn(fn),Qt=Tn(Wt),sr=Tn(Gt),or=Tn(Yt),kt=yt?yt.prototype:void 0,Kt=kt?kt.valueOf:void 0;function Ft(j){var oe=-1,Se=null==j?0:j.length;for(this.clear();++oe<Se;){var Ue=j[oe];this.set(Ue[0],Ue[1])}}function ln(j){var oe=-1,Se=null==j?0:j.length;for(this.clear();++oe<Se;){var Ue=j[oe];this.set(Ue[0],Ue[1])}}function An(j){var oe=-1,Se=null==j?0:j.length;for(this.clear();++oe<Se;){var Ue=j[oe];this.set(Ue[0],Ue[1])}}function ai(j){var oe=-1,Se=null==j?0:j.length;for(this.__data__=new An;++oe<Se;)this.add(j[oe])}function Cn(j){var oe=this.__data__=new ln(j);this.size=oe.size}function es(j,oe){for(var Se=j.length;Se--;)if(Ks(j[Se][0],oe))return Se;return-1}function ui(j){return null==j?void 0===j?"[object Undefined]":"[object Null]":Er&&Er in Object(j)?function rs(j){var oe=Ye.call(j,Er),Se=j[Er];try{j[Er]=void 0;var Ue=!0}catch{}var Tt=dt.call(j);return Ue&&(oe?j[Er]=Se:delete j[Er]),Tt}(j):function ya(j){return dt.call(j)}(j)}function $s(j){return fi(j)&&ui(j)==te}function ua(j,oe,Se,Ue,Tt){return j===oe||(null==j||null==oe||!fi(j)&&!fi(oe)?j!=j&&oe!=oe:function ca(j,oe,Se,Ue,Tt,Ze){var zt=Pi(j),tr=Pi(oe),hr=zt?H:hn(j),Mt=tr?H:hn(oe),Ur=(hr=hr==te?we:hr)==we,Xr=(Mt=Mt==te?we:Mt)==we,yr=hr==Mt;if(yr&&ns(j)){if(!ns(oe))return!1;zt=!0,Ur=!1}if(yr&&!Ur)return Ze||(Ze=new Cn),zt||qs(j)?Ri(j,oe,Se,Ue,Tt,Ze):function mc(j,oe,Se,Ue,Tt,Ze,zt){switch(Se){case v:if(j.byteLength!=oe.byteLength||j.byteOffset!=oe.byteOffset)return!1;j=j.buffer,oe=oe.buffer;case _:return!(j.byteLength!=oe.byteLength||!Ze(new Dt(j),new Dt(oe)));case C:case L:case _e:return Ks(+j,+oe);case ce:return j.name==oe.name&&j.message==oe.message;case J:case V:return j==oe+"";case O:var tr=gt;case F:if(tr||(tr=it),j.size!=oe.size&&!(1&Ue))return!1;var Mt=zt.get(j);if(Mt)return Mt==oe;Ue|=2,zt.set(j,oe);var Ur=Ri(tr(j),tr(oe),Ue,Tt,Ze,zt);return zt.delete(j),Ur;case"[object Symbol]":if(Kt)return Kt.call(j)==Kt.call(oe)}return!1}(j,oe,hr,Se,Ue,Tt,Ze);if(!(1&Se)){var Hr=Ur&&Ye.call(j,"__wrapped__"),$r=Xr&&Ye.call(oe,"__wrapped__");if(Hr||$r){var Nn=Hr?j.value():j,zr=$r?oe.value():oe;return Ze||(Ze=new Cn),Tt(Nn,zr,Se,Ue,Ze)}}return!!yr&&(Ze||(Ze=new Cn),function ts(j,oe,Se,Ue,Tt,Ze){var zt=1&Se,tr=la(j),hr=tr.length;if(hr!=la(oe).length&&!zt)return!1;for(var Xr=hr;Xr--;){var yr=tr[Xr];if(!(zt?yr in oe:Ye.call(oe,yr)))return!1}var Hr=Ze.get(j);if(Hr&&Ze.get(oe))return Hr==oe;var $r=!0;Ze.set(j,oe),Ze.set(oe,j);for(var Nn=zt;++Xr<hr;){var zr=j[yr=tr[Xr]],dn=oe[yr];if(Ue)var Xs=zt?Ue(dn,zr,yr,oe,j,Ze):Ue(zr,dn,yr,j,oe,Ze);if(!(void 0===Xs?zr===dn||Tt(zr,dn,Se,Ue,Ze):Xs)){$r=!1;break}Nn||(Nn="constructor"==yr)}if($r&&!Nn){var ss=j.constructor,Ti=oe.constructor;ss!=Ti&&"constructor"in j&&"constructor"in oe&&!("function"==typeof ss&&ss instanceof ss&&"function"==typeof Ti&&Ti instanceof Ti)&&($r=!1)}return Ze.delete(j),Ze.delete(oe),$r}(j,oe,Se,Ue,Tt,Ze))}(j,oe,Se,Ue,ua,Tt))}function Ri(j,oe,Se,Ue,Tt,Ze){var zt=1&Se,tr=j.length,hr=oe.length;if(tr!=hr&&!(zt&&hr>tr))return!1;var Mt=Ze.get(j);if(Mt&&Ze.get(oe))return Mt==oe;var Ur=-1,Xr=!0,yr=2&Se?new ai:void 0;for(Ze.set(j,oe),Ze.set(oe,j);++Ur<tr;){var Hr=j[Ur],$r=oe[Ur];if(Ue)var Nn=zt?Ue($r,Hr,Ur,oe,j,Ze):Ue(Hr,$r,Ur,j,oe,Ze);if(void 0!==Nn){if(Nn)continue;Xr=!1;break}if(yr){if(!wt(oe,function(zr,dn){if(!Ht(yr,dn)&&(Hr===zr||Tt(Hr,zr,Se,Ue,Ze)))return yr.push(dn)})){Xr=!1;break}}else if(Hr!==$r&&!Tt(Hr,$r,Se,Ue,Ze)){Xr=!1;break}}return Ze.delete(j),Ze.delete(oe),Xr}function la(j){return function aa(j,oe,Se){var Ue=oe(j);return Pi(j)?Ue:function ot(j,oe){for(var Se=-1,Ue=oe.length,Tt=j.length;++Se<Ue;)j[Tt+Se]=oe[Se];return j}(Ue,Se(j))}(j,Ai,Js)}function ci(j,oe){var Se=j.__data__;return function da(j){var oe=typeof j;return"string"==oe||"number"==oe||"symbol"==oe||"boolean"==oe?"__proto__"!==j:null===j}(oe)?Se["string"==typeof oe?"string":"hash"]:Se.map}function Vn(j,oe){var Se=function Xt(j,oe){return null==j?void 0:j[oe]}(j,oe);return function vc(j){return!(!Ys(j)||function pa(j){return!!lt&&lt in j}(j))&&(va(j)?bt:Re).test(Tn(j))}(Se)?Se:void 0}Ft.prototype.clear=function er(){this.__data__=$t?$t(null):{},this.size=0},Ft.prototype.delete=function lr(j){var oe=this.has(j)&&delete this.__data__[j];return this.size-=oe?1:0,oe},Ft.prototype.get=function ar(j){var oe=this.__data__;if($t){var Se=oe[j];return Se===re?void 0:Se}return Ye.call(oe,j)?oe[j]:void 0},Ft.prototype.has=function ur(j){var oe=this.__data__;return $t?void 0!==oe[j]:Ye.call(oe,j)},Ft.prototype.set=function ea(j,oe){var Se=this.__data__;return this.size+=this.has(j)?0:1,Se[j]=$t&&void 0===oe?re:oe,this},ln.prototype.clear=function ta(){this.__data__=[],this.size=0},ln.prototype.delete=function ra(j){var oe=this.__data__,Se=es(oe,j);return!(Se<0||(Se==oe.length-1?oe.pop():qr.call(oe,Se,1),--this.size,0))},ln.prototype.get=function na(j){var oe=this.__data__,Se=es(oe,j);return Se<0?void 0:oe[Se][1]},ln.prototype.has=function ia(j){return es(this.__data__,j)>-1},ln.prototype.set=function sa(j,oe){var Se=this.__data__,Ue=es(Se,j);return Ue<0?(++this.size,Se.push([j,oe])):Se[Ue][1]=oe,this},An.prototype.clear=function oa(){this.size=0,this.__data__={hash:new Ft,map:new(fn||ln),string:new Ft}},An.prototype.delete=function pc(j){var oe=ci(this,j).delete(j);return this.size-=oe?1:0,oe},An.prototype.get=function js(j){return ci(this,j).get(j)},An.prototype.has=function gc(j){return ci(this,j).has(j)},An.prototype.set=function yc(j,oe){var Se=ci(this,j),Ue=Se.size;return Se.set(j,oe),this.size+=Se.size==Ue?0:1,this},ai.prototype.add=ai.prototype.push=function Ms(j){return this.__data__.set(j,re),this},ai.prototype.has=function ki(j){return this.__data__.has(j)},Cn.prototype.clear=function Bs(){this.__data__=new ln,this.size=0},Cn.prototype.delete=function wr(j){var oe=this.__data__,Se=oe.delete(j);return this.size=oe.size,Se},Cn.prototype.get=function Or(j){return this.__data__.get(j)},Cn.prototype.has=function Oi(j){return this.__data__.has(j)},Cn.prototype.set=function Ii(j,oe){var Se=this.__data__;if(Se instanceof ln){var Ue=Se.__data__;if(!fn||Ue.length<199)return Ue.push([j,oe]),this.size=++Se.size,this;Se=this.__data__=new An(Ue)}return Se.set(j,oe),this.size=Se.size,this};var Js=cn?function(j){return null==j?[]:(j=Object(j),function ze(j,oe){for(var Se=-1,Ue=null==j?0:j.length,Tt=0,Ze=[];++Se<Ue;){var zt=j[Se];oe(zt,Se,j)&&(Ze[Tt++]=zt)}return Ze}(cn(j),function(oe){return St.call(j,oe)}))}:function ma(){return[]},hn=ui;function ha(j,oe){return!!(oe=oe??$)&&("number"==typeof j||ve.test(j))&&j>-1&&j%1==0&&j<oe}function Tn(j){if(null!=j){try{return We.call(j)}catch{}try{return j+""}catch{}}return""}function Ks(j,oe){return j===oe||j!=j&&oe!=oe}(Pn&&hn(new Pn(new ArrayBuffer(1)))!=v||fn&&hn(new fn)!=O||Wt&&hn(Wt.resolve())!=ee||Gt&&hn(new Gt)!=F||Yt&&hn(new Yt)!=f)&&(hn=function(j){var oe=ui(j),Se=oe==we?j.constructor:void 0,Ue=Se?Tn(Se):"";if(Ue)switch(Ue){case ir:return v;case Zt:return O;case Qt:return ee;case sr:return F;case or:return f}return oe});var Vs=$s(function(){return arguments}())?$s:function(j){return fi(j)&&Ye.call(j,"callee")&&!St.call(j,"callee")},Pi=Array.isArray,ns=Rn||function Ci(){return!1};function va(j){if(!Ys(j))return!1;var oe=ui(j);return oe==de||"[object GeneratorFunction]"==oe||"[object AsyncFunction]"==oe||"[object Proxy]"==oe}function is(j){return"number"==typeof j&&j>-1&&j%1==0&&j<=$}function Ys(j){var oe=typeof j;return null!=j&&("object"==oe||"function"==oe)}function fi(j){return null!=j&&"object"==typeof j}var qs=Ae?function _t(j){return function(oe){return j(oe)}}(Ae):function zs(j){return fi(j)&&is(j.length)&&!!xe[ui(j)]};function Ai(j){return function Ws(j){return null!=j&&is(j.length)&&!va(j)}(j)?function Hs(j,oe){var Se=Pi(j),Ue=!Se&&Vs(j),Tt=!Se&&!Ue&&ns(j),Ze=!Se&&!Ue&&!Tt&&qs(j),zt=Se||Ue||Tt||Ze,tr=zt?function ct(j,oe){for(var Se=-1,Ue=Array(j);++Se<j;)Ue[Se]=oe(Se);return Ue}(j.length,String):[],hr=tr.length;for(var Mt in j)(oe||Ye.call(j,Mt))&&(!zt||!("length"==Mt||Tt&&("offset"==Mt||"parent"==Mt)||Ze&&("buffer"==Mt||"byteLength"==Mt||"byteOffset"==Mt)||ha(Mt,hr)))&&tr.push(Mt);return tr}(j):function fa(j){if(!function ga(j){var oe=j&&j.constructor;return j===("function"==typeof oe&&oe.prototype||Ge)}(j))return Kn(j);var oe=[];for(var Se in Object(j))Ye.call(j,Se)&&"constructor"!=Se&&oe.push(Se);return oe}(j)}Pe.exports=function Gs(j,oe){return ua(j,oe)}},9805:(Pe,g,D)=>{"use strict";const I=D(71141),re=D(80318),ne=D(71675),k=D(25633),te=Symbol("encodeFragmentIdentifier");function C(ee){if("string"!=typeof ee||1!==ee.length)throw new TypeError("arrayFormatSeparator must be single character string")}function L(ee,B){return B.encode?B.strict?I(ee):encodeURIComponent(ee):ee}function ce(ee,B){return B.decode?re(ee):ee}function de(ee){return Array.isArray(ee)?ee.sort():"object"==typeof ee?de(Object.keys(ee)).sort((B,J)=>Number(B)-Number(J)).map(B=>ee[B]):ee}function ue(ee){const B=ee.indexOf("#");return-1!==B&&(ee=ee.slice(0,B)),ee}function _e(ee){const B=(ee=ue(ee)).indexOf("?");return-1===B?"":ee.slice(B+1)}function De(ee,B){return B.parseNumbers&&!Number.isNaN(Number(ee))&&"string"==typeof ee&&""!==ee.trim()?ee=Number(ee):B.parseBooleans&&null!==ee&&("true"===ee.toLowerCase()||"false"===ee.toLowerCase())&&(ee="true"===ee.toLowerCase()),ee}function we(ee,B){C((B=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},B)).arrayFormatSeparator);const J=function M(ee){let B;switch(ee.arrayFormat){case"index":return(J,F,V)=>{B=/\[(\d*)\]$/.exec(J),J=J.replace(/\[\d*\]$/,""),B?(void 0===V[J]&&(V[J]={}),V[J][B[1]]=F):V[J]=F};case"bracket":return(J,F,V)=>{B=/(\[\])$/.exec(J),V[J=J.replace(/\[\]$/,"")]=B?void 0!==V[J]?[].concat(V[J],F):[F]:F};case"colon-list-separator":return(J,F,V)=>{B=/(:list)$/.exec(J),V[J=J.replace(/:list$/,"")]=B?void 0!==V[J]?[].concat(V[J],F):[F]:F};case"comma":case"separator":return(J,F,V)=>{const U="string"==typeof F&&F.includes(ee.arrayFormatSeparator),h="string"==typeof F&&!U&&ce(F,ee).includes(ee.arrayFormatSeparator);F=h?ce(F,ee):F;const f=U||h?F.split(ee.arrayFormatSeparator).map(_=>ce(_,ee)):null===F?F:ce(F,ee);V[J]=f};case"bracket-separator":return(J,F,V)=>{const U=/(\[\])$/.test(J);if(J=J.replace(/\[\]$/,""),!U)return void(V[J]=F&&ce(F,ee));const h=null===F?[]:F.split(ee.arrayFormatSeparator).map(f=>ce(f,ee));V[J]=void 0!==V[J]?[].concat(V[J],h):h};default:return(J,F,V)=>{V[J]=void 0!==V[J]?[].concat(V[J],F):F}}}(B),F=Object.create(null);if("string"!=typeof ee||!(ee=ee.trim().replace(/^[?#&]/,"")))return F;for(const V of ee.split("&")){if(""===V)continue;let[U,h]=ne(B.decode?V.replace(/\+/g," "):V,"=");h=void 0===h?null:["comma","separator","bracket-separator"].includes(B.arrayFormat)?h:ce(h,B),J(ce(U,B),h,F)}for(const V of Object.keys(F)){const U=F[V];if("object"==typeof U&&null!==U)for(const h of Object.keys(U))U[h]=De(U[h],B);else F[V]=De(U,B)}return!1===B.sort?F:(!0===B.sort?Object.keys(F).sort():Object.keys(F).sort(B.sort)).reduce((V,U)=>{const h=F[U];return V[U]=Boolean(h)&&"object"==typeof h&&!Array.isArray(h)?de(h):h,V},Object.create(null))}g.extract=_e,g.parse=we,g.stringify=(ee,B)=>{if(!ee)return"";C((B=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},B)).arrayFormatSeparator);const J=h=>B.skipNull&&(ee=>null==ee)(ee[h])||B.skipEmptyString&&""===ee[h],F=function H(ee){switch(ee.arrayFormat){case"index":return B=>(J,F)=>{const V=J.length;return void 0===F||ee.skipNull&&null===F||ee.skipEmptyString&&""===F?J:null===F?[...J,[L(B,ee),"[",V,"]"].join("")]:[...J,[L(B,ee),"[",L(V,ee),"]=",L(F,ee)].join("")]};case"bracket":return B=>(J,F)=>void 0===F||ee.skipNull&&null===F||ee.skipEmptyString&&""===F?J:null===F?[...J,[L(B,ee),"[]"].join("")]:[...J,[L(B,ee),"[]=",L(F,ee)].join("")];case"colon-list-separator":return B=>(J,F)=>void 0===F||ee.skipNull&&null===F||ee.skipEmptyString&&""===F?J:null===F?[...J,[L(B,ee),":list="].join("")]:[...J,[L(B,ee),":list=",L(F,ee)].join("")];case"comma":case"separator":case"bracket-separator":{const B="bracket-separator"===ee.arrayFormat?"[]=":"=";return J=>(F,V)=>void 0===V||ee.skipNull&&null===V||ee.skipEmptyString&&""===V?F:(V=null===V?"":V,0===F.length?[[L(J,ee),B,L(V,ee)].join("")]:[[F,L(V,ee)].join(ee.arrayFormatSeparator)])}default:return B=>(J,F)=>void 0===F||ee.skipNull&&null===F||ee.skipEmptyString&&""===F?J:null===F?[...J,L(B,ee)]:[...J,[L(B,ee),"=",L(F,ee)].join("")]}}(B),V={};for(const h of Object.keys(ee))J(h)||(V[h]=ee[h]);const U=Object.keys(V);return!1!==B.sort&&U.sort(B.sort),U.map(h=>{const f=ee[h];return void 0===f?"":null===f?L(h,B):Array.isArray(f)?0===f.length&&"bracket-separator"===B.arrayFormat?L(h,B)+"[]":f.reduce(F(h),[]).join("&"):L(h,B)+"="+L(f,B)}).filter(h=>h.length>0).join("&")},g.parseUrl=(ee,B)=>{B=Object.assign({decode:!0},B);const[J,F]=ne(ee,"#");return Object.assign({url:J.split("?")[0]||"",query:we(_e(ee),B)},B&&B.parseFragmentIdentifier&&F?{fragmentIdentifier:ce(F,B)}:{})},g.stringifyUrl=(ee,B)=>{B=Object.assign({encode:!0,strict:!0,[te]:!0},B);const J=ue(ee.url).split("?")[0]||"",F=g.extract(ee.url),V=g.parse(F,{sort:!1}),U=Object.assign(V,ee.query);let h=g.stringify(U,B);h&&(h=`?${h}`);let f=function O(ee){let B="";const J=ee.indexOf("#");return-1!==J&&(B=ee.slice(J)),B}(ee.url);return ee.fragmentIdentifier&&(f=`#${B[te]?L(ee.fragmentIdentifier,B):ee.fragmentIdentifier}`),`${J}${h}${f}`},g.pick=(ee,B,J)=>{J=Object.assign({parseFragmentIdentifier:!0,[te]:!1},J);const{url:F,query:V,fragmentIdentifier:U}=g.parseUrl(ee,J);return g.stringifyUrl({url:F,query:k(V,B),fragmentIdentifier:U},J)},g.exclude=(ee,B,J)=>{const F=Array.isArray(B)?V=>!B.includes(V):(V,U)=>!B(V,U);return g.pick(ee,F,J)}},51958:Pe=>{"use strict";function g(I){try{return JSON.stringify(I)}catch{return'"[Circular]"'}}Pe.exports=function D(I,re,ne){var k=ne&&ne.stringify||g;if("object"==typeof I&&null!==I){var te=re.length+1;if(1===te)return I;var H=new Array(te);H[0]=k(I);for(var M=1;M<te;M++)H[M]=k(re[M]);return H.join(" ")}if("string"!=typeof I)return I;var C=re.length;if(0===C)return I;for(var L="",ce=0,de=-1,ue=I&&I.length||0,O=0;O<ue;){if(37===I.charCodeAt(O)&&O+1<ue){switch(de=de>-1?de:0,I.charCodeAt(O+1)){case 100:case 102:if(ce>=C||null==re[ce])break;de<O&&(L+=I.slice(de,O)),L+=Number(re[ce]),de=O+2,O++;break;case 105:if(ce>=C||null==re[ce])break;de<O&&(L+=I.slice(de,O)),L+=Math.floor(Number(re[ce])),de=O+2,O++;break;case 79:case 111:case 106:if(ce>=C||void 0===re[ce])break;de<O&&(L+=I.slice(de,O));var _e=typeof re[ce];if("string"===_e){L+="'"+re[ce]+"'",de=O+2,O++;break}if("function"===_e){L+=re[ce].name||"<anonymous>",de=O+2,O++;break}L+=k(re[ce]),de=O+2,O++;break;case 115:if(ce>=C)break;de<O&&(L+=I.slice(de,O)),L+=String(re[ce]),de=O+2,O++;break;case 37:de<O&&(L+=I.slice(de,O)),L+="%",de=O+2,O++,ce--}++ce}++O}return-1===de?I:(de<ue&&(L+=I.slice(de)),L)}},53439:(Pe,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.safeJsonParse=function D(re){if("string"!=typeof re)throw new Error("Cannot safe json parse value of type "+typeof re);try{return JSON.parse(re)}catch{return re}},g.safeJsonStringify=function I(re){return"string"==typeof re?re:JSON.stringify(re,(ne,k)=>typeof k>"u"?null:k)}},71675:Pe=>{"use strict";Pe.exports=(g,D)=>{if("string"!=typeof g||"string"!=typeof D)throw new TypeError("Expected the arguments to be of type `string`");if(""===D)return[g];const I=g.indexOf(D);return-1===I?[g]:[g.slice(0,I),g.slice(I+D.length)]}},71141:Pe=>{"use strict";Pe.exports=g=>encodeURIComponent(g).replace(/[!'()*]/g,D=>`%${D.charCodeAt(0).toString(16).toUpperCase()}`)},82791:Pe=>{"use strict";Pe.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},69763:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>ne,__asyncDelegator:()=>ee,__asyncGenerator:()=>we,__asyncValues:()=>B,__await:()=>De,__awaiter:()=>M,__classPrivateFieldGet:()=>U,__classPrivateFieldSet:()=>h,__createBinding:()=>L,__decorate:()=>$,__exportStar:()=>ce,__extends:()=>re,__generator:()=>C,__importDefault:()=>V,__importStar:()=>F,__makeTemplateObject:()=>J,__metadata:()=>H,__param:()=>te,__read:()=>ue,__rest:()=>k,__spread:()=>O,__spreadArrays:()=>_e,__values:()=>de});var I=function(f,_){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var b in S)S.hasOwnProperty(b)&&(v[b]=S[b])})(f,_)};function re(f,_){function v(){this.constructor=f}I(f,_),f.prototype=null===_?Object.create(_):(v.prototype=_.prototype,new v)}var ne=function(){return ne=Object.assign||function(_){for(var v,S=1,b=arguments.length;S<b;S++)for(var p in v=arguments[S])Object.prototype.hasOwnProperty.call(v,p)&&(_[p]=v[p]);return _},ne.apply(this,arguments)};function k(f,_){var v={};for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&_.indexOf(S)<0&&(v[S]=f[S]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(f);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(f,S[b])&&(v[S[b]]=f[S[b]])}return v}function $(f,_,v,S){var x,b=arguments.length,p=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,v):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,_,v,S);else for(var P=f.length-1;P>=0;P--)(x=f[P])&&(p=(b<3?x(p):b>3?x(_,v,p):x(_,v))||p);return b>3&&p&&Object.defineProperty(_,v,p),p}function te(f,_){return function(v,S){_(v,S,f)}}function H(f,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,_)}function M(f,_,v,S){return new(v||(v=Promise))(function(p,x){function P(W){try{E(S.next(W))}catch(le){x(le)}}function N(W){try{E(S.throw(W))}catch(le){x(le)}}function E(W){W.done?p(W.value):function b(p){return p instanceof v?p:new v(function(x){x(p)})}(W.value).then(P,N)}E((S=S.apply(f,_||[])).next())})}function C(f,_){var S,b,p,x,v={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return x={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function P(E){return function(W){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;v;)try{if(S=1,b&&(p=2&E[0]?b.return:E[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,E[1])).done)return p;switch(b=0,p&&(E=[2&E[0],p.value]),E[0]){case 0:case 1:p=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,b=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(!(p=(p=v.trys).length>0&&p[p.length-1])&&(6===E[0]||2===E[0])){v=0;continue}if(3===E[0]&&(!p||E[1]>p[0]&&E[1]<p[3])){v.label=E[1];break}if(6===E[0]&&v.label<p[1]){v.label=p[1],p=E;break}if(p&&v.label<p[2]){v.label=p[2],v.ops.push(E);break}p[2]&&v.ops.pop(),v.trys.pop();continue}E=_.call(f,v)}catch(W){E=[6,W],b=0}finally{S=p=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,W])}}}function L(f,_,v,S){void 0===S&&(S=v),f[S]=_[v]}function ce(f,_){for(var v in f)"default"!==v&&!_.hasOwnProperty(v)&&(_[v]=f[v])}function de(f){var _="function"==typeof Symbol&&Symbol.iterator,v=_&&f[_],S=0;if(v)return v.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&S>=f.length&&(f=void 0),{value:f&&f[S++],done:!f}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(f,_){var v="function"==typeof Symbol&&f[Symbol.iterator];if(!v)return f;var b,x,S=v.call(f),p=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)p.push(b.value)}catch(P){x={error:P}}finally{try{b&&!b.done&&(v=S.return)&&v.call(S)}finally{if(x)throw x.error}}return p}function O(){for(var f=[],_=0;_<arguments.length;_++)f=f.concat(ue(arguments[_]));return f}function _e(){for(var f=0,_=0,v=arguments.length;_<v;_++)f+=arguments[_].length;var S=Array(f),b=0;for(_=0;_<v;_++)for(var p=arguments[_],x=0,P=p.length;x<P;x++,b++)S[b]=p[x];return S}function De(f){return this instanceof De?(this.v=f,this):new De(f)}function we(f,_,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=v.apply(f,_||[]),p=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(G){S[G]&&(b[G]=function(Re){return new Promise(function(ve,xe){p.push([G,Re,ve,xe])>1||P(G,Re)})})}function P(G,Re){try{!function N(G){G.value instanceof De?Promise.resolve(G.value.v).then(E,W):le(p[0][2],G)}(S[G](Re))}catch(ve){le(p[0][3],ve)}}function E(G){P("next",G)}function W(G){P("throw",G)}function le(G,Re){G(Re),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(f){var _,v;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,p){_[b]=f[b]?function(x){return(v=!v)?{value:De(f[b](x)),done:"return"===b}:p?p(x):x}:p}}function B(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,_=f[Symbol.asyncIterator];return _?_.call(f):(f=de(f),v={},S("next"),S("throw"),S("return"),v[Symbol.asyncIterator]=function(){return this},v);function S(p){v[p]=f[p]&&function(x){return new Promise(function(P,N){!function b(p,x,P,N){Promise.resolve(N).then(function(E){p({value:E,done:P})},x)}(P,N,(x=f[p](x)).done,x.value)})}}}function J(f,_){return Object.defineProperty?Object.defineProperty(f,"raw",{value:_}):f.raw=_,f}function F(f){if(f&&f.__esModule)return f;var _={};if(null!=f)for(var v in f)Object.hasOwnProperty.call(f,v)&&(_[v]=f[v]);return _.default=f,_}function V(f){return f&&f.__esModule?f:{default:f}}function U(f,_){if(!_.has(f))throw new TypeError("attempted to get private field on non-instance");return _.get(f)}function h(f,_,v){if(!_.has(f))throw new TypeError("attempted to set private field on non-instance");return _.set(f,v),v}},99940:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>ne,__asyncDelegator:()=>ee,__asyncGenerator:()=>we,__asyncValues:()=>B,__await:()=>De,__awaiter:()=>M,__classPrivateFieldGet:()=>U,__classPrivateFieldSet:()=>h,__createBinding:()=>L,__decorate:()=>$,__exportStar:()=>ce,__extends:()=>re,__generator:()=>C,__importDefault:()=>V,__importStar:()=>F,__makeTemplateObject:()=>J,__metadata:()=>H,__param:()=>te,__read:()=>ue,__rest:()=>k,__spread:()=>O,__spreadArrays:()=>_e,__values:()=>de});var I=function(f,_){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var b in S)S.hasOwnProperty(b)&&(v[b]=S[b])})(f,_)};function re(f,_){function v(){this.constructor=f}I(f,_),f.prototype=null===_?Object.create(_):(v.prototype=_.prototype,new v)}var ne=function(){return ne=Object.assign||function(_){for(var v,S=1,b=arguments.length;S<b;S++)for(var p in v=arguments[S])Object.prototype.hasOwnProperty.call(v,p)&&(_[p]=v[p]);return _},ne.apply(this,arguments)};function k(f,_){var v={};for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&_.indexOf(S)<0&&(v[S]=f[S]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(f);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(f,S[b])&&(v[S[b]]=f[S[b]])}return v}function $(f,_,v,S){var x,b=arguments.length,p=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,v):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,_,v,S);else for(var P=f.length-1;P>=0;P--)(x=f[P])&&(p=(b<3?x(p):b>3?x(_,v,p):x(_,v))||p);return b>3&&p&&Object.defineProperty(_,v,p),p}function te(f,_){return function(v,S){_(v,S,f)}}function H(f,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,_)}function M(f,_,v,S){return new(v||(v=Promise))(function(p,x){function P(W){try{E(S.next(W))}catch(le){x(le)}}function N(W){try{E(S.throw(W))}catch(le){x(le)}}function E(W){W.done?p(W.value):function b(p){return p instanceof v?p:new v(function(x){x(p)})}(W.value).then(P,N)}E((S=S.apply(f,_||[])).next())})}function C(f,_){var S,b,p,x,v={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return x={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function P(E){return function(W){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;v;)try{if(S=1,b&&(p=2&E[0]?b.return:E[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,E[1])).done)return p;switch(b=0,p&&(E=[2&E[0],p.value]),E[0]){case 0:case 1:p=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,b=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(!(p=(p=v.trys).length>0&&p[p.length-1])&&(6===E[0]||2===E[0])){v=0;continue}if(3===E[0]&&(!p||E[1]>p[0]&&E[1]<p[3])){v.label=E[1];break}if(6===E[0]&&v.label<p[1]){v.label=p[1],p=E;break}if(p&&v.label<p[2]){v.label=p[2],v.ops.push(E);break}p[2]&&v.ops.pop(),v.trys.pop();continue}E=_.call(f,v)}catch(W){E=[6,W],b=0}finally{S=p=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,W])}}}function L(f,_,v,S){void 0===S&&(S=v),f[S]=_[v]}function ce(f,_){for(var v in f)"default"!==v&&!_.hasOwnProperty(v)&&(_[v]=f[v])}function de(f){var _="function"==typeof Symbol&&Symbol.iterator,v=_&&f[_],S=0;if(v)return v.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&S>=f.length&&(f=void 0),{value:f&&f[S++],done:!f}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(f,_){var v="function"==typeof Symbol&&f[Symbol.iterator];if(!v)return f;var b,x,S=v.call(f),p=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)p.push(b.value)}catch(P){x={error:P}}finally{try{b&&!b.done&&(v=S.return)&&v.call(S)}finally{if(x)throw x.error}}return p}function O(){for(var f=[],_=0;_<arguments.length;_++)f=f.concat(ue(arguments[_]));return f}function _e(){for(var f=0,_=0,v=arguments.length;_<v;_++)f+=arguments[_].length;var S=Array(f),b=0;for(_=0;_<v;_++)for(var p=arguments[_],x=0,P=p.length;x<P;x++,b++)S[b]=p[x];return S}function De(f){return this instanceof De?(this.v=f,this):new De(f)}function we(f,_,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=v.apply(f,_||[]),p=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(G){S[G]&&(b[G]=function(Re){return new Promise(function(ve,xe){p.push([G,Re,ve,xe])>1||P(G,Re)})})}function P(G,Re){try{!function N(G){G.value instanceof De?Promise.resolve(G.value.v).then(E,W):le(p[0][2],G)}(S[G](Re))}catch(ve){le(p[0][3],ve)}}function E(G){P("next",G)}function W(G){P("throw",G)}function le(G,Re){G(Re),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(f){var _,v;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,p){_[b]=f[b]?function(x){return(v=!v)?{value:De(f[b](x)),done:"return"===b}:p?p(x):x}:p}}function B(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,_=f[Symbol.asyncIterator];return _?_.call(f):(f=de(f),v={},S("next"),S("throw"),S("return"),v[Symbol.asyncIterator]=function(){return this},v);function S(p){v[p]=f[p]&&function(x){return new Promise(function(P,N){!function b(p,x,P,N){Promise.resolve(N).then(function(E){p({value:E,done:P})},x)}(P,N,(x=f[p](x)).done,x.value)})}}}function J(f,_){return Object.defineProperty?Object.defineProperty(f,"raw",{value:_}):f.raw=_,f}function F(f){if(f&&f.__esModule)return f;var _={};if(null!=f)for(var v in f)Object.hasOwnProperty.call(f,v)&&(_[v]=f[v]);return _.default=f,_}function V(f){return f&&f.__esModule?f:{default:f}}function U(f,_){if(!_.has(f))throw new TypeError("attempted to get private field on non-instance");return _.get(f)}function h(f,_,v){if(!_.has(f))throw new TypeError("attempted to set private field on non-instance");return _.set(f,v),v}},92818:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>ne,__asyncDelegator:()=>ee,__asyncGenerator:()=>we,__asyncValues:()=>B,__await:()=>De,__awaiter:()=>M,__classPrivateFieldGet:()=>U,__classPrivateFieldSet:()=>h,__createBinding:()=>L,__decorate:()=>$,__exportStar:()=>ce,__extends:()=>re,__generator:()=>C,__importDefault:()=>V,__importStar:()=>F,__makeTemplateObject:()=>J,__metadata:()=>H,__param:()=>te,__read:()=>ue,__rest:()=>k,__spread:()=>O,__spreadArrays:()=>_e,__values:()=>de});var I=function(f,_){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var b in S)S.hasOwnProperty(b)&&(v[b]=S[b])})(f,_)};function re(f,_){function v(){this.constructor=f}I(f,_),f.prototype=null===_?Object.create(_):(v.prototype=_.prototype,new v)}var ne=function(){return ne=Object.assign||function(_){for(var v,S=1,b=arguments.length;S<b;S++)for(var p in v=arguments[S])Object.prototype.hasOwnProperty.call(v,p)&&(_[p]=v[p]);return _},ne.apply(this,arguments)};function k(f,_){var v={};for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&_.indexOf(S)<0&&(v[S]=f[S]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(f);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(f,S[b])&&(v[S[b]]=f[S[b]])}return v}function $(f,_,v,S){var x,b=arguments.length,p=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,v):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,_,v,S);else for(var P=f.length-1;P>=0;P--)(x=f[P])&&(p=(b<3?x(p):b>3?x(_,v,p):x(_,v))||p);return b>3&&p&&Object.defineProperty(_,v,p),p}function te(f,_){return function(v,S){_(v,S,f)}}function H(f,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,_)}function M(f,_,v,S){return new(v||(v=Promise))(function(p,x){function P(W){try{E(S.next(W))}catch(le){x(le)}}function N(W){try{E(S.throw(W))}catch(le){x(le)}}function E(W){W.done?p(W.value):function b(p){return p instanceof v?p:new v(function(x){x(p)})}(W.value).then(P,N)}E((S=S.apply(f,_||[])).next())})}function C(f,_){var S,b,p,x,v={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return x={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function P(E){return function(W){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;v;)try{if(S=1,b&&(p=2&E[0]?b.return:E[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,E[1])).done)return p;switch(b=0,p&&(E=[2&E[0],p.value]),E[0]){case 0:case 1:p=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,b=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(!(p=(p=v.trys).length>0&&p[p.length-1])&&(6===E[0]||2===E[0])){v=0;continue}if(3===E[0]&&(!p||E[1]>p[0]&&E[1]<p[3])){v.label=E[1];break}if(6===E[0]&&v.label<p[1]){v.label=p[1],p=E;break}if(p&&v.label<p[2]){v.label=p[2],v.ops.push(E);break}p[2]&&v.ops.pop(),v.trys.pop();continue}E=_.call(f,v)}catch(W){E=[6,W],b=0}finally{S=p=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,W])}}}function L(f,_,v,S){void 0===S&&(S=v),f[S]=_[v]}function ce(f,_){for(var v in f)"default"!==v&&!_.hasOwnProperty(v)&&(_[v]=f[v])}function de(f){var _="function"==typeof Symbol&&Symbol.iterator,v=_&&f[_],S=0;if(v)return v.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&S>=f.length&&(f=void 0),{value:f&&f[S++],done:!f}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(f,_){var v="function"==typeof Symbol&&f[Symbol.iterator];if(!v)return f;var b,x,S=v.call(f),p=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)p.push(b.value)}catch(P){x={error:P}}finally{try{b&&!b.done&&(v=S.return)&&v.call(S)}finally{if(x)throw x.error}}return p}function O(){for(var f=[],_=0;_<arguments.length;_++)f=f.concat(ue(arguments[_]));return f}function _e(){for(var f=0,_=0,v=arguments.length;_<v;_++)f+=arguments[_].length;var S=Array(f),b=0;for(_=0;_<v;_++)for(var p=arguments[_],x=0,P=p.length;x<P;x++,b++)S[b]=p[x];return S}function De(f){return this instanceof De?(this.v=f,this):new De(f)}function we(f,_,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=v.apply(f,_||[]),p=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(G){S[G]&&(b[G]=function(Re){return new Promise(function(ve,xe){p.push([G,Re,ve,xe])>1||P(G,Re)})})}function P(G,Re){try{!function N(G){G.value instanceof De?Promise.resolve(G.value.v).then(E,W):le(p[0][2],G)}(S[G](Re))}catch(ve){le(p[0][3],ve)}}function E(G){P("next",G)}function W(G){P("throw",G)}function le(G,Re){G(Re),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(f){var _,v;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,p){_[b]=f[b]?function(x){return(v=!v)?{value:De(f[b](x)),done:"return"===b}:p?p(x):x}:p}}function B(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,_=f[Symbol.asyncIterator];return _?_.call(f):(f=de(f),v={},S("next"),S("throw"),S("return"),v[Symbol.asyncIterator]=function(){return this},v);function S(p){v[p]=f[p]&&function(x){return new Promise(function(P,N){!function b(p,x,P,N){Promise.resolve(N).then(function(E){p({value:E,done:P})},x)}(P,N,(x=f[p](x)).done,x.value)})}}}function J(f,_){return Object.defineProperty?Object.defineProperty(f,"raw",{value:_}):f.raw=_,f}function F(f){if(f&&f.__esModule)return f;var _={};if(null!=f)for(var v in f)Object.hasOwnProperty.call(f,v)&&(_[v]=f[v]);return _.default=f,_}function V(f){return f&&f.__esModule?f:{default:f}}function U(f,_){if(!_.has(f))throw new TypeError("attempted to get private field on non-instance");return _.get(f)}function h(f,_,v){if(!_.has(f))throw new TypeError("attempted to set private field on non-instance");return _.set(f,v),v}},20263:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>ne,__asyncDelegator:()=>ee,__asyncGenerator:()=>we,__asyncValues:()=>B,__await:()=>De,__awaiter:()=>M,__classPrivateFieldGet:()=>U,__classPrivateFieldSet:()=>h,__createBinding:()=>L,__decorate:()=>$,__exportStar:()=>ce,__extends:()=>re,__generator:()=>C,__importDefault:()=>V,__importStar:()=>F,__makeTemplateObject:()=>J,__metadata:()=>H,__param:()=>te,__read:()=>ue,__rest:()=>k,__spread:()=>O,__spreadArrays:()=>_e,__values:()=>de});var I=function(f,_){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var b in S)S.hasOwnProperty(b)&&(v[b]=S[b])})(f,_)};function re(f,_){function v(){this.constructor=f}I(f,_),f.prototype=null===_?Object.create(_):(v.prototype=_.prototype,new v)}var ne=function(){return ne=Object.assign||function(_){for(var v,S=1,b=arguments.length;S<b;S++)for(var p in v=arguments[S])Object.prototype.hasOwnProperty.call(v,p)&&(_[p]=v[p]);return _},ne.apply(this,arguments)};function k(f,_){var v={};for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&_.indexOf(S)<0&&(v[S]=f[S]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(f);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(f,S[b])&&(v[S[b]]=f[S[b]])}return v}function $(f,_,v,S){var x,b=arguments.length,p=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,v):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,_,v,S);else for(var P=f.length-1;P>=0;P--)(x=f[P])&&(p=(b<3?x(p):b>3?x(_,v,p):x(_,v))||p);return b>3&&p&&Object.defineProperty(_,v,p),p}function te(f,_){return function(v,S){_(v,S,f)}}function H(f,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,_)}function M(f,_,v,S){return new(v||(v=Promise))(function(p,x){function P(W){try{E(S.next(W))}catch(le){x(le)}}function N(W){try{E(S.throw(W))}catch(le){x(le)}}function E(W){W.done?p(W.value):function b(p){return p instanceof v?p:new v(function(x){x(p)})}(W.value).then(P,N)}E((S=S.apply(f,_||[])).next())})}function C(f,_){var S,b,p,x,v={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return x={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function P(E){return function(W){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;v;)try{if(S=1,b&&(p=2&E[0]?b.return:E[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,E[1])).done)return p;switch(b=0,p&&(E=[2&E[0],p.value]),E[0]){case 0:case 1:p=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,b=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(!(p=(p=v.trys).length>0&&p[p.length-1])&&(6===E[0]||2===E[0])){v=0;continue}if(3===E[0]&&(!p||E[1]>p[0]&&E[1]<p[3])){v.label=E[1];break}if(6===E[0]&&v.label<p[1]){v.label=p[1],p=E;break}if(p&&v.label<p[2]){v.label=p[2],v.ops.push(E);break}p[2]&&v.ops.pop(),v.trys.pop();continue}E=_.call(f,v)}catch(W){E=[6,W],b=0}finally{S=p=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,W])}}}function L(f,_,v,S){void 0===S&&(S=v),f[S]=_[v]}function ce(f,_){for(var v in f)"default"!==v&&!_.hasOwnProperty(v)&&(_[v]=f[v])}function de(f){var _="function"==typeof Symbol&&Symbol.iterator,v=_&&f[_],S=0;if(v)return v.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&S>=f.length&&(f=void 0),{value:f&&f[S++],done:!f}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(f,_){var v="function"==typeof Symbol&&f[Symbol.iterator];if(!v)return f;var b,x,S=v.call(f),p=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)p.push(b.value)}catch(P){x={error:P}}finally{try{b&&!b.done&&(v=S.return)&&v.call(S)}finally{if(x)throw x.error}}return p}function O(){for(var f=[],_=0;_<arguments.length;_++)f=f.concat(ue(arguments[_]));return f}function _e(){for(var f=0,_=0,v=arguments.length;_<v;_++)f+=arguments[_].length;var S=Array(f),b=0;for(_=0;_<v;_++)for(var p=arguments[_],x=0,P=p.length;x<P;x++,b++)S[b]=p[x];return S}function De(f){return this instanceof De?(this.v=f,this):new De(f)}function we(f,_,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=v.apply(f,_||[]),p=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(G){S[G]&&(b[G]=function(Re){return new Promise(function(ve,xe){p.push([G,Re,ve,xe])>1||P(G,Re)})})}function P(G,Re){try{!function N(G){G.value instanceof De?Promise.resolve(G.value.v).then(E,W):le(p[0][2],G)}(S[G](Re))}catch(ve){le(p[0][3],ve)}}function E(G){P("next",G)}function W(G){P("throw",G)}function le(G,Re){G(Re),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(f){var _,v;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,p){_[b]=f[b]?function(x){return(v=!v)?{value:De(f[b](x)),done:"return"===b}:p?p(x):x}:p}}function B(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,_=f[Symbol.asyncIterator];return _?_.call(f):(f=de(f),v={},S("next"),S("throw"),S("return"),v[Symbol.asyncIterator]=function(){return this},v);function S(p){v[p]=f[p]&&function(x){return new Promise(function(P,N){!function b(p,x,P,N){Promise.resolve(N).then(function(E){p({value:E,done:P})},x)}(P,N,(x=f[p](x)).done,x.value)})}}}function J(f,_){return Object.defineProperty?Object.defineProperty(f,"raw",{value:_}):f.raw=_,f}function F(f){if(f&&f.__esModule)return f;var _={};if(null!=f)for(var v in f)Object.hasOwnProperty.call(f,v)&&(_[v]=f[v]);return _.default=f,_}function V(f){return f&&f.__esModule?f:{default:f}}function U(f,_){if(!_.has(f))throw new TypeError("attempted to get private field on non-instance");return _.get(f)}function h(f,_,v){if(!_.has(f))throw new TypeError("attempted to set private field on non-instance");return _.set(f,v),v}},58092:(Pe,g,D)=>{"use strict";D.r(g),D.d(g,{__assign:()=>ne,__asyncDelegator:()=>ee,__asyncGenerator:()=>we,__asyncValues:()=>B,__await:()=>De,__awaiter:()=>M,__classPrivateFieldGet:()=>U,__classPrivateFieldSet:()=>h,__createBinding:()=>L,__decorate:()=>$,__exportStar:()=>ce,__extends:()=>re,__generator:()=>C,__importDefault:()=>V,__importStar:()=>F,__makeTemplateObject:()=>J,__metadata:()=>H,__param:()=>te,__read:()=>ue,__rest:()=>k,__spread:()=>O,__spreadArrays:()=>_e,__values:()=>de});var I=function(f,_){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var b in S)S.hasOwnProperty(b)&&(v[b]=S[b])})(f,_)};function re(f,_){function v(){this.constructor=f}I(f,_),f.prototype=null===_?Object.create(_):(v.prototype=_.prototype,new v)}var ne=function(){return ne=Object.assign||function(_){for(var v,S=1,b=arguments.length;S<b;S++)for(var p in v=arguments[S])Object.prototype.hasOwnProperty.call(v,p)&&(_[p]=v[p]);return _},ne.apply(this,arguments)};function k(f,_){var v={};for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&_.indexOf(S)<0&&(v[S]=f[S]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(S=Object.getOwnPropertySymbols(f);b<S.length;b++)_.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(f,S[b])&&(v[S[b]]=f[S[b]])}return v}function $(f,_,v,S){var x,b=arguments.length,p=b<3?_:null===S?S=Object.getOwnPropertyDescriptor(_,v):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,_,v,S);else for(var P=f.length-1;P>=0;P--)(x=f[P])&&(p=(b<3?x(p):b>3?x(_,v,p):x(_,v))||p);return b>3&&p&&Object.defineProperty(_,v,p),p}function te(f,_){return function(v,S){_(v,S,f)}}function H(f,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,_)}function M(f,_,v,S){return new(v||(v=Promise))(function(p,x){function P(W){try{E(S.next(W))}catch(le){x(le)}}function N(W){try{E(S.throw(W))}catch(le){x(le)}}function E(W){W.done?p(W.value):function b(p){return p instanceof v?p:new v(function(x){x(p)})}(W.value).then(P,N)}E((S=S.apply(f,_||[])).next())})}function C(f,_){var S,b,p,x,v={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return x={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function P(E){return function(W){return function N(E){if(S)throw new TypeError("Generator is already executing.");for(;v;)try{if(S=1,b&&(p=2&E[0]?b.return:E[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,E[1])).done)return p;switch(b=0,p&&(E=[2&E[0],p.value]),E[0]){case 0:case 1:p=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,b=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(!(p=(p=v.trys).length>0&&p[p.length-1])&&(6===E[0]||2===E[0])){v=0;continue}if(3===E[0]&&(!p||E[1]>p[0]&&E[1]<p[3])){v.label=E[1];break}if(6===E[0]&&v.label<p[1]){v.label=p[1],p=E;break}if(p&&v.label<p[2]){v.label=p[2],v.ops.push(E);break}p[2]&&v.ops.pop(),v.trys.pop();continue}E=_.call(f,v)}catch(W){E=[6,W],b=0}finally{S=p=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,W])}}}function L(f,_,v,S){void 0===S&&(S=v),f[S]=_[v]}function ce(f,_){for(var v in f)"default"!==v&&!_.hasOwnProperty(v)&&(_[v]=f[v])}function de(f){var _="function"==typeof Symbol&&Symbol.iterator,v=_&&f[_],S=0;if(v)return v.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&S>=f.length&&(f=void 0),{value:f&&f[S++],done:!f}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(f,_){var v="function"==typeof Symbol&&f[Symbol.iterator];if(!v)return f;var b,x,S=v.call(f),p=[];try{for(;(void 0===_||_-- >0)&&!(b=S.next()).done;)p.push(b.value)}catch(P){x={error:P}}finally{try{b&&!b.done&&(v=S.return)&&v.call(S)}finally{if(x)throw x.error}}return p}function O(){for(var f=[],_=0;_<arguments.length;_++)f=f.concat(ue(arguments[_]));return f}function _e(){for(var f=0,_=0,v=arguments.length;_<v;_++)f+=arguments[_].length;var S=Array(f),b=0;for(_=0;_<v;_++)for(var p=arguments[_],x=0,P=p.length;x<P;x++,b++)S[b]=p[x];return S}function De(f){return this instanceof De?(this.v=f,this):new De(f)}function we(f,_,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,S=v.apply(f,_||[]),p=[];return b={},x("next"),x("throw"),x("return"),b[Symbol.asyncIterator]=function(){return this},b;function x(G){S[G]&&(b[G]=function(Re){return new Promise(function(ve,xe){p.push([G,Re,ve,xe])>1||P(G,Re)})})}function P(G,Re){try{!function N(G){G.value instanceof De?Promise.resolve(G.value.v).then(E,W):le(p[0][2],G)}(S[G](Re))}catch(ve){le(p[0][3],ve)}}function E(G){P("next",G)}function W(G){P("throw",G)}function le(G,Re){G(Re),p.shift(),p.length&&P(p[0][0],p[0][1])}}function ee(f){var _,v;return _={},S("next"),S("throw",function(b){throw b}),S("return"),_[Symbol.iterator]=function(){return this},_;function S(b,p){_[b]=f[b]?function(x){return(v=!v)?{value:De(f[b](x)),done:"return"===b}:p?p(x):x}:p}}function B(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,_=f[Symbol.asyncIterator];return _?_.call(f):(f=de(f),v={},S("next"),S("throw"),S("return"),v[Symbol.asyncIterator]=function(){return this},v);function S(p){v[p]=f[p]&&function(x){return new Promise(function(P,N){!function b(p,x,P,N){Promise.resolve(N).then(function(E){p({value:E,done:P})},x)}(P,N,(x=f[p](x)).done,x.value)})}}}function J(f,_){return Object.defineProperty?Object.defineProperty(f,"raw",{value:_}):f.raw=_,f}function F(f){if(f&&f.__esModule)return f;var _={};if(null!=f)for(var v in f)Object.hasOwnProperty.call(f,v)&&(_[v]=f[v]);return _.default=f,_}function V(f){return f&&f.__esModule?f:{default:f}}function U(f,_){if(!_.has(f))throw new TypeError("attempted to get private field on non-instance");return _.get(f)}function h(f,_,v){if(!_.has(f))throw new TypeError("attempted to set private field on non-instance");return _.set(f,v),v}},37386:(Pe,g,D)=>{"use strict";const I=D(51958);Pe.exports=$;const re=function V(){function U(h){return typeof h<"u"&&h}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return U(self)||U(window)||U(this)||{}}}().console||{},ne={mapHttpRequest:_e,mapHttpResponse:_e,wrapRequestSerializer:De,wrapResponseSerializer:De,wrapErrorSerializer:De,req:_e,res:_e,err:function ue(U){const h={type:U.constructor.name,msg:U.message,stack:U.stack};for(const f in U)void 0===h[f]&&(h[f]=U[f]);return h}};function $(U){(U=U||{}).browser=U.browser||{};const h=U.browser.transmit;if(h&&"function"!=typeof h.send)throw Error("pino: transmit option must have a send function");const f=U.browser.write||re;U.browser.write&&(U.browser.asObject=!0);const _=U.serializers||{},v=function k(U,h){return Array.isArray(U)?U.filter(function(_){return"!stdSerializers.err"!==_}):!0===U&&Object.keys(h)}(U.browser.serialize,_);let S=U.browser.serialize;Array.isArray(U.browser.serialize)&&U.browser.serialize.indexOf("!stdSerializers.err")>-1&&(S=!1),"function"==typeof f&&(f.error=f.fatal=f.warn=f.info=f.debug=f.trace=f),!1===U.enabled&&(U.level="silent");const p=U.level||"info",x=Object.create(f);x.log||(x.log=we),Object.defineProperty(x,"levelVal",{get:function N(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(x,"level",{get:function E(){return this._level},set:function W(G){if("silent"!==G&&!this.levels.values[G])throw Error("unknown level "+G);this._level=G,te(P,x,"error","log"),te(P,x,"fatal","error"),te(P,x,"warn","error"),te(P,x,"info","log"),te(P,x,"debug","log"),te(P,x,"trace","log")}});const P={transmit:h,serialize:v,asObject:U.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:O(U)};return x.levels=$.levels,x.level=p,x.setMaxListeners=x.getMaxListeners=x.emit=x.addListener=x.on=x.prependListener=x.once=x.prependOnceListener=x.removeListener=x.removeAllListeners=x.listeners=x.listenerCount=x.eventNames=x.write=x.flush=we,x.serializers=_,x._serialize=v,x._stdErrSerialize=S,x.child=function le(G,Re){if(!G)throw new Error("missing bindings for child Pino");Re=Re||{},v&&G.serializers&&(Re.serializers=G.serializers);const ve=Re.serializers;if(v&&ve){var xe=Object.assign({},_,ve),Ce=!0===U.browser.serialize?Object.keys(xe):v;delete G.serializers,C([G],Ce,xe,this._stdErrSerialize)}function Fe(je){this._childLevel=1+(0|je._childLevel),this.error=L(je,G,"error"),this.fatal=L(je,G,"fatal"),this.warn=L(je,G,"warn"),this.info=L(je,G,"info"),this.debug=L(je,G,"debug"),this.trace=L(je,G,"trace"),xe&&(this.serializers=xe,this._serialize=Ce),h&&(this._logEvent=de([].concat(je._logEvent.bindings,G)))}return Fe.prototype=this,new Fe(this)},h&&(x._logEvent=de()),x}function te(U,h,f,_){const v=Object.getPrototypeOf(h);h[f]=h.levelVal>h.levels.values[f]?we:v[f]?v[f]:re[f]||re[_]||we,function H(U,h,f){!U.transmit&&h[f]===we||(h[f]=function(_){return function(){const S=U.timestamp(),b=new Array(arguments.length),p=Object.getPrototypeOf&&Object.getPrototypeOf(this)===re?re:this;for(var x=0;x<b.length;x++)b[x]=arguments[x];if(U.serialize&&!U.asObject&&C(b,this._serialize,this.serializers,this._stdErrSerialize),U.asObject?_.call(p,M(this,f,b,S)):_.apply(p,b),U.transmit){const P=U.transmit.level||h.level,E=$.levels.values[f];if(E<$.levels.values[P])return;ce(this,{ts:S,methodLevel:f,methodValue:E,transmitLevel:P,transmitValue:$.levels.values[U.transmit.level||h.level],send:U.transmit.send,val:h.levelVal},b)}}}(h[f]))}(U,h,f)}function M(U,h,f,_){U._serialize&&C(f,U._serialize,U.serializers,U._stdErrSerialize);const v=f.slice();let S=v[0];const b={};_&&(b.time=_),b.level=$.levels.values[h];let p=1+(0|U._childLevel);if(p<1&&(p=1),null!==S&&"object"==typeof S){for(;p--&&"object"==typeof v[0];)Object.assign(b,v.shift());S=v.length?I(v.shift(),v):void 0}else"string"==typeof S&&(S=I(v.shift(),v));return void 0!==S&&(b.msg=S),b}function C(U,h,f,_){for(const v in U)if(_&&U[v]instanceof Error)U[v]=$.stdSerializers.err(U[v]);else if("object"==typeof U[v]&&!Array.isArray(U[v]))for(const S in U[v])h&&h.indexOf(S)>-1&&S in f&&(U[v][S]=f[S](U[v][S]))}function L(U,h,f){return function(){const _=new Array(1+arguments.length);_[0]=h;for(var v=1;v<_.length;v++)_[v]=arguments[v-1];return U[f].apply(this,_)}}function ce(U,h,f){const _=h.send,v=h.ts,S=h.methodLevel,b=h.methodValue,p=h.val,x=U._logEvent.bindings;C(f,U._serialize||Object.keys(U.serializers),U.serializers,void 0===U._stdErrSerialize||U._stdErrSerialize),U._logEvent.ts=v,U._logEvent.messages=f.filter(function(P){return-1===x.indexOf(P)}),U._logEvent.level.label=S,U._logEvent.level.value=b,_(S,U._logEvent,p),U._logEvent=de(x)}function de(U){return{ts:0,messages:[],bindings:U||[],level:{label:"",value:0}}}function O(U){return"function"==typeof U.timestamp?U.timestamp:!1===U.timestamp?ee:B}function _e(){return{}}function De(U){return U}function we(){}function ee(){return!1}function B(){return Date.now()}$.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},$.stdSerializers=ne,$.stdTimeFunctions=Object.assign({},{nullTime:ee,epochTime:B,unixTime:function J(){return Math.round(Date.now()/1e3)},isoTime:function F(){return new Date(Date.now()).toISOString()}})}}]);