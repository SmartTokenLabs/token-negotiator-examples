{"version":3,"file":"250.461a3d78.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEO,IAAM,IAA2B;MAAA;;UACvC,YAAO,KAAI;;;;;;KCHZ,SAA2CA,GAAMC;MAE/CC,EAAOC,UAAUF;AAOlB,KATD,CASGG,OAAK,MAAC;MAAA;QAAA;UAAA;UCRT,IAAIC,IAAmBC,QAAQA,KAAKD,mBAAoB,SAAUE;YAC9D,OAAQA,KAAOA,EAAIC,aAAcD,IAAM;cAAE,SAAWA;;AACxD;UACAE,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQS,wBAAwBT,EAAQU,oBAAAA;UACxC,MAAMC,IAAUC,EAAQ,OAClBC,IAAwBX,EAAgBU,EAAQ,QAChDE,IAAUF,EAAQ;UAOxB,MAAMF,UAAqBK;YACvBC,YAAYC,GAAMC,GAASC;cACvB,KAAKC,OAAOC,UAAUJ,IAClB,MAAM,IAAIF,MAAM;cAEpB,KAAKG,KAA8B,mBAAZA,GACnB,MAAM,IAAIH,MAAM;cAEpBO,MAAMJ,IACNf,KAAKc,OAAOA,QAAAA,MACRE,MACAhB,KAAKgB,OAAOA;AAEpB;YAMAI;cACI,MAAMC,IAAa;gBACfP,MAAMd,KAAKc;gBACXC,SAASf,KAAKe;;cAclB,YAAO,MAZHf,KAAKgB,SAILK,EAAWL,OAAOhB,KAAKgB,OAAAA,GACfR,EAAQc,eAAetB,KAAKgB,UAChCK,EAAWL,KAAKO,SAAAA,GAAYZ,EAAQa,gBAAgBxB,KAAKgB,KAAKO;cAGlEvB,KAAKyB,UACLJ,EAAWI,QAAQzB,KAAKyB,QAErBJ;AACX;YAOAK;cACI,QAAM,GAAKhB,EAAsBiB,SAAS3B,KAAKoB,aAAaQ,GAAmB;AACnF;;UAwCJ,SAASA,EAAkBC,GAAGxB;YAC1B,IAAc,iBAAVA,GAGJ,OAAOA;AACX;UA3CAR,EAAQU,eAAeA,GAqBvBV,EAAQS,wBAhBR,cAAoCC;YAShCM,YAAYC,GAAMC,GAASC;cACvB,KAaR,SAAgCF;gBAC5B,OAAOG,OAAOC,UAAUJ,MAASA,KAAQ,OAAQA,KAAQ;AAC7D,eAFA,CAboCA,IACxB,MAAM,IAAIF,MAAM;cAEpBO,MAAML,GAAMC,GAASC;AACzB;;AAAA;QAAA;UAAA;UCjFJb,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQiC,cAAcjC,EAAQkC,kBAAAA,GAC9BlC,EAAQkC,aAAa;YACjBC,KAAK;cACDC,eAAe;cACfC,mBAAmB;cACnBC,sBAAsB;cACtBC,sBAAsB;cACtBC,qBAAqB;cACrBC,gBAAgB;cAChBC,QAAQ;cACRC,iBAAiB;cACjBC,iBAAiB;cACjBC,gBAAgB;cAChBC,WAAW;;YAEfC,UAAU;cACNC,qBAAqB;cACrBC,cAAc;cACdC,mBAAmB;cACnBC,cAAc;cACdC,mBAAmB;;aAI3BpD,EAAQiC,cAAc;YAClB,UAAU;cACNoB,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,UAAU;cACNmC,UAAU;cACVnC,SAAS;;YAEb,MAAQ;cACJmC,UAAU;cACVnC,SAAS;;YAEb,MAAQ;cACJmC,UAAU;cACVnC,SAAS;;YAEb,MAAQ;cACJmC,UAAU;cACVnC,SAAS;;YAEb,MAAQ;cACJmC,UAAU;cACVnC,SAAS;;YAEb,MAAQ;cACJmC,UAAU;cACVnC,SAAS;;;AAAA;QAAA;UAAA;UCxFjBZ,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQsD,iBAAiBtD,EAAQuD,iBAAAA;UACjC,MAAMC,IAAY5C,EAAQ,OACpB6C,IAAoB7C,EAAQ,MAC5BD,IAAUC,EAAQ;UAwKxB,SAAS8C,EAAgBzC,GAAM0C;YAC3B,OAAOzC,GAASC,KAAQyC,EAAUD;YAClC,OAAO,IAAIH,EAAU9C,aAAaO,GAAMC,MAAAA,GAAeP,EAAQkD,oBAAoB5C,IAAOE;AAC9F;UAQA,SAAS2C,EAAoB7C,GAAM0C;YAC/B,OAAOzC,GAASC,KAAQyC,EAAUD;YAClC,OAAO,IAAIH,EAAU/C,sBAAsBQ,GAAMC,MAAAA,GAAeP,EAAQkD,oBAAoB5C,IAAOE;AACvG;UAOA,SAASyC,EAAUD;YACf,IAAIA,GAAK;cACL,IAAmB,mBAARA,GACP,OAAO,EAACA;cAEP,IAAmB,mBAARA,MAAqBI,MAAMC,QAAQL,IAAM;gBACrD,OAAM,SAAEzC,GAAO,MAAEC,KAASwC;gBAC1B,IAAIzC,KAA8B,mBAAZA,GAClB,MAAM,IAAIH,MAAM;gBAEpB,OAAO,EAACG,UAAAA,GAAsBC;AAClC;AACJ;YACA,OAAO;AACX;UA1MAnB,EAAQuD,YAAY;YAOhBb,OAAQiB,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIO,OAAOiB;YAOxEhB,gBAAiBgB,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIQ,gBAAgBgB;YAO1Fd,eAAgBc,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIU,eAAec;YAOxFf,gBAAiBe,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIS,gBAAgBe;YAO1Fb,UAAWa,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIW,UAAUa;YAS9EM,QAASC;cACL,KAAKA,KAAwB,mBAATA,KAAqBH,MAAMC,QAAQE,IACnD,MAAM,IAAInD,MAAM;cAEpB,OAAM,MAAEE,KAASiD;cACjB,KAAK9C,OAAOC,UAAUJ,MAASA,KAAQ,SAASA,KAAQ,OACpD,MAAM,IAAIF,MAAM;cAEpB,OAAO2C,EAAgBzC,GAAMiD;AAAAA;YAQjC9B,cAAeuB,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIC,cAAcuB;YAOtFtB,kBAAmBsB,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIE,kBAAkBsB;YAO9FrB,qBAAsBqB,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIG,qBAAqBqB;YAOpGpB,qBAAsBoB,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAII,qBAAqBoB;YAOpGnB,oBAAqBmB,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIK,oBAAoBmB;YAOlGlB,eAAgBkB,KAAQD,EAAgBD,EAAkBvB,WAAWC,IAAIM,eAAekB;aAE5F3D,EAAQsD,iBAAiB;YAOrBN,qBAAsBW,KACXG,EAAoBL,EAAkBvB,WAAWa,SAASC,qBAAqBW;YAQ1FV,cAAeU,KACJG,EAAoBL,EAAkBvB,WAAWa,SAASE,cAAcU;YAQnFT,mBAAoBS,KACTG,EAAoBL,EAAkBvB,WAAWa,SAASG,mBAAmBS;YAQxFR,cAAeQ,KACJG,EAAoBL,EAAkBvB,WAAWa,SAASI,cAAcQ;YAQnFP,mBAAoBO,KACTG,EAAoBL,EAAkBvB,WAAWa,SAASK,mBAAmBO;YAQxFQ,QAASD;cACL,KAAKA,KAAwB,mBAATA,KAAqBH,MAAMC,QAAQE,IACnD,MAAM,IAAInD,MAAM;cAEpB,OAAM,MAAEE,GAAI,SAAEC,GAAO,MAAEC,KAAS+C;cAChC,KAAKhD,KAA8B,mBAAZA,GACnB,MAAM,IAAIH,MAAM;cAEpB,OAAO,IAAIyC,EAAU/C,sBAAsBQ,GAAMC,GAASC;AAAAA;;AAAK;QAAA;UAAA;UCjKzBnB,EAAQ,KAAyCA,EAAQ,KAA0CA,EAAQ;UACzJ,IAAIwD,IAAY5C,EAAQ;UAExBN,OAAOC,eAAeP,GAAS,MAA/B;YAA0DoE,aAAW;YAAOC,KAAK;cAAc,OAAOb,EAAU/C;AAAuB;;UACvI,IAAIE,IAAUC,EAAQ;UAEtBN,OAAOC,eAAeP,GAAS,MAA/B;YAAmDoE,aAAW;YAAOC,KAAK;cAAc,OAAO1D,EAAQ2D;AAAgB;;UAEvH,IAAIC,IAAW3D,EAAQ;UACvBN,OAAOC,eAAeP,GAAS,MAA/B;YAA8CoE,aAAW;YAAOC,KAAK;cAAc,OAAOE,EAAShB;AAAW;cAEtF3C,EAAQ;AAAA;QAAA;UAAA;UCZhCN,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQ2B,iBAAiB3B,EAAQsE,iBAAiBtE,EAAQwE,cAAcxE,EAAQ6D,qBAAqB7D,EAAQyE,qCAAAA;UAC7G,MAAM9D,IAAUC,EAAQ,OAClB6C,IAAoB7C,EAAQ,MAC5B8D,IAAsBjB,EAAkBvB,WAAWC,IAAIW,UAEvD6B,IAAiB;YACnB1D,MAAMyD;YACNxD,SAAS2C,EAAmBa;;UAahC,SAASb,EAAmB5C,GAAM2D,IAhBT;YAiBrB,IAAIJ,EAAYvD,IAAO;cACnB,MAAM4D,IAAa5D,EAAKY;cACxB,QAAQlB,EAAQmE,aAAarB,EAAkBxB,aAAa4C,IACxD,OAAOpB,EAAkBxB,YAAY4C,GAAY3D;cAErD,IA0ER,SAA8BD;gBAC1B,OAAOA,MAAS,SAASA,MAAS;AACtC,eAFA,CA1EiCA,IACrB,OAAOjB,EAAQyE;AAEvB;YACA,OAAOG;AACX;UASA,SAASJ,EAAYvD;YACjB,OAAOG,OAAOC,UAAUJ;AAC5B;UAmEA,SAASU,EAAeoD;YACpB,OAAIhB,MAAMC,QAAQe,KACPA,EAAMC,KAAKC,MAAAA,GACNtE,EAAQuE,aAAaD,KAClBA,KAAAA,GAEEtE,EAAQwE,UAAUF,KACpBG,EAAgBH,KAEpB,aAGFtE,EAAQwE,UAAUJ,KACpBK,EAAgBL,MAAAA;YAEnBpE,EAAQuE,aAAaH,KAClBA,IAEJ;AACX;UAQA,SAASK,EAAgBC;YACrB,OAAO/E,OAAOgF,oBAAoBD,GAAQE,QAAO,CAACC,GAAKC;cACnD,MAAMjF,IAAQ6E,EAAOI;cAIrB,QAAM,GAHE9E,EAAQuE,aAAa1E,OACzBgF,EAAIC,KAAOjF,IAERgF;AAAG,gBACX,CAAC;AACR;UAvIAxF,EAAQyE,gCAAgC,6BAuBxCzE,EAAQ6D,qBAAqBA,GAW7B7D,EAAQwE,cAAcA,GAwBtBxE,EAAQsE,iBAVR,SAAwBS,IAAO,eAAEW,IAAgBf,GAAc,oBAAEgB,KAAAA,KAA8B,CAAC;YAC5F,SAAShF,EAAQiF,gBAAgBF,IAC7B,MAAM,IAAI3E,MAAM;YAEpB,MAAMS,IAcV,SAAoBuD,GAAOW;cAEvB,OAAIX,KACiB,mBAAVA,KACP,eAAeA,KACY,qBAApBA,EAAMxD,YACNwD,EAAMxD,eAEjB,GAAQZ,EAAQiF,gBAAgBb,KACrBA,IAIe;mBACnBW;gBACHvE,MAAM;kBAAEO,OAHEC,EAAeoD;;;AAMjC,aAlBA,CAdkCA,GAAOW;YAIrC,OAHKC,YACMnE,EAAWI,OAEfJ;AACX,aA+DAxB,EAAQ2B,iBAAiBA;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UAAAA;UClIzBrB,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQ6F,mBAAmB7F,EAAQ8F,eAAe9F,EAAQ+F,SAAS/F,EAAQgG,sBAAAA;UAC3E,MAAMC,IAAgBrF,EAAQ;UA+C9B,SAASsF,EAASC,GAAcjF;YAC5B,OA9BqBkF,IA8BDD,GA3BbE,QAAyL,oBAA9C,UAA1HC,IAAqE,UAA/DC,IAAKH,QAAAA,SAAAA,IAAwCA,EAAGI,mBAAAA,MAAuBD,SAAAA,IAAyBA,EAAGvF,qBAAAA,MAAyBsF,SAAAA,IAAyBA,EAAGG,SA4B3K,IAAIN,EAAa;cACpBjF,SAAAA;iBAGDiF,EAAa;cAChBjF,SAAAA;;YApCR,IAAyBkF,GACjBG,GAAID;AAqCZ;UAIA,MAAMN,UAAuBjF;YACzBC,YAAY0F;cACRpF,MAAMoF,EAAQxF,UACdf,KAAKc,OAAO;AAChB;;UAEJjB,EAAQgG,iBAAiBA,GAuBzBhG,EAAQ+F,SAVR,SAAgBvF,GAAOU,IAAU,qBAEjCiF,IAAeH;YACX,KAAKxF,GAAO;cACR,IAAIU,aAAmBH,OACnB,MAAMG;cAEV,MAAMgF,EAASC,GAAcjF;AACjC;AACJ,aAuBAlB,EAAQ8F,eAVR,SAAsBtF,GAAOmG,GAAQC,IAAc,oBAEnDT,IAAeH;YACX;eAAA,GACQC,EAAcF,QAAQvF,GAAOmG;AAIrC,cAFA,OAAO5B;cACH,MAAMmB,EAASC,GAAc,GAAGS,MA7ExC,SAAyB7B;gBACrB,MAAM7D,IAxBV,SAA4B6D;kBACxB,OAAwB,mBAAVA,KAAgC,SAAVA,KAAkB,aAAaA;AACvE,iBAFA,CAwBuCA,KAASA,EAAM7D,UAAU2F,OAAO9B;gBAEnE,OAAI7D,EAAQ4F,SAAS,OACV5F,EAAQ6F,MAAM,IAAI,KAEtB7F;AACX,eAPA,CA6EwE6D;AACpE;AACJ,aAwBA/E,EAAQ6F,mBAHR,SAA0BmB;YACtB,MAAM,IAAIjG,MAAM;AACpB;AAAA;QAAA;UAAA;UCvIAT,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQiH,cAAAA;UACR,MAAMhB,IAAgBrF,EAAQ,OACxBsG,IAAWtG,EAAQ;UA6BzBZ,EAAQiH,SArBO,CAACN,GAAQD,IAAU,CAAC;YAC/B,IAAIH,GAAID;YACR,MAAMa,IAAqD,UAAlCZ,IAAKG,EAAQS,yBAAAA,MAA6BZ,KAAgBA,GAC7Ea,IAA+C,UAA/Bd,IAAKI,EAAQU,sBAAAA,MAA0Bd,IAAgBA,IAAK;YAClF,IAAIe,GAQAC;YAOJ,OAdqB,aAAjBF,IACAC,IAAUR,OAAOU,GAAI,wBAGjBL,EAASnB,QAAyB,gBAAjBqB,IACrBC,IAAUR,OAAOU,GAAI;YAIrBD,IADAH,IACK,IAAIK,OAAO,OAAOH,YAAkBA,SAAeA,aAAmB,OAGtE,IAAIG,OAAO,OAAOH,YAAkBA,UAAgBA,SAAeA,aAAmB;aAAA,GAEpFpB,EAAcwB,SAASd,GAAQW;AAAAA;AAAG;QAAA;UAAA;UAAA;UC9BjDhH,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQ0H,iBAAiB1H,EAAQ2H,cAAc3H,EAAQ4H,eAAe5H,EAAQ6H,gBAAgB7H,EAAQ8H,gBAAgB9H,EAAQ+H,sBAAsB/H,EAAQgI,gBAAgBhI,EAAQiI,aAAajI,EAAQkI,gBAAgBlI,EAAQmI,gBAAgBnI,EAAQoI,sBAAsBpI,EAAQqI,gBAAgBrI,EAAQsI,aAAatI,EAAQuI,gBAAgBvI,EAAQwI,eAAAA;UAC5V,MAAMtB,IAAWtG,EAAQ,OACnB6H,IAAQ7H,EAAQ,OAuChB8H,IAnBN;YAKI,MAAMC,IAAc;YACpB,OAAO;cACH,IAA2B,MAAvBA,EAAYC,QACZ,KAAK,IAAIC,IAAI,GAAGA,IAAI,KAAKA,KACrBF,EAAYG,KAAKD,EAAEhH,SAAS,IAAIkH,SAAS,GAAG;cAGpD,OAAOJ;AAAAA;AAEf,WAdA;UA0BA,SAASH,EAAQhI;YACb,OAAOA,aAAiBwI;AAC5B;UAQA,SAAST,EAAc/H;aAAAA,GACf0G,EAASnB,QAAQyC,EAAQhI,IAAQ;AACzC;UAQA,SAAS8H,EAAWW;YAEhB,IADAV,EAAcU,IACO,MAAjBA,EAAML,QACN,OAAO;YAEX,MAAMD,IAAcD,KACdQ,IAAc,IAAInF,MAAMkF,EAAML;YACpC,KAAK,IAAIC,IAAI,GAAGA,IAAII,EAAML,QAAQC,KAE9BK,EAAYL,KAAKF,EAAYM,EAAMJ;YAEvC,QAAM,GAAKJ,EAAMU,OAAOD,EAAYE,KAAK;AAC7C;UAYA,SAASf,EAAcY;YACnBV,EAAcU;YACd,MAAMC,IAAcZ,EAAWW;YAC/B,OAAOI,OAAOH;AAClB;UA2DA,SAASjB,EAAWzH;YAChB,IAAI+F;YAEJ,IAAqI,UAArD,UAA1EA,IAAK/F,QAAAA,SAAAA,IAA8CA,EAAM8I,qBAAAA,MAAyB/C,SAAAA,IAAyBA,EAAGgD,KAAK/I,KACrH,OAAO,IAAIwI;aAAAA,GAEXP,EAAMe,mBAAmBhJ;YAG7B,MAAMiJ,KAAAA,GAAoBhB,EAAMiB,UAAUlJ,GAAO8I,eAC3CK,IAAkBF,EAAcb,SAAS,KAAM,IAAIa,IAAgB,IAAIA,KACvER,IAAQ,IAAID,WAAWW,EAAgBf,SAAS;YACtD,KAAK,IAAIC,IAAI,GAAGA,IAAII,EAAML,QAAQC,KAAK;cAInC,MAAMe,IAAKD,EAAgBE,WAAe,IAAJhB,IAChCiB,IAAKH,EAAgBE,WAAe,IAAJhB,IAAQ,IACxCkB,IAAKH,KACNA,IAxKwB,KAFA,KAGR,KA0KfI,IAAKF,KACNA,IA5KwB,KAFA,KAGR;cA8KrBb,EAAMJ,KAAU,KAALkB,IAAUC;AACzB;YACA,OAAOf;AACX;UAWA,SAASjB,EAAcxH;YAInB,QAAM,GAHF0G,EAASnB,QAAyB,mBAAVvF,GAAoB,gCAC5C0G,EAASnB,QAAQvF,KAAS6I,OAAO,IAAI;YAElCpB,EADazH,EAAMqB,SAAS;AAEvC;UAsDA,SAASiG,EAActH;YAKnB,QAAM,GAJF0G,EAASnB,QAAyB,mBAAVvF,GAAoB,gCAC5C0G,EAASnB,QAAQvF,KAAS,GAAG;aAAA,GAC7B0G,EAASnB,QAAQ3E,OAAO6I,cAAczJ,IAAQ,8DAE3CyH,EADazH,EAAMqB,SAAS;AAEvC;UAQA,SAASgG,EAAcrH;YAEnB,QAAM,GADF0G,EAASnB,QAAyB,mBAAVvF,GAAoB,iCACrC0J,aAAcC,OAAO3J;AACpC;UAuBA,SAASoH,EAAapH;YAClB,IAAqB,mBAAVA,GACP,OAAOwH,EAAcxH;YAEzB,IAAqB,mBAAVA,GACP,OAAOsH,EAActH;YAEzB,IAAqB,mBAAVA,GACP,OAAIA,EAAM4J,WAAW,QACVnC,EAAWzH,KAEfqH,EAAcrH;YAEzB,IAAIgI,EAAQhI,IACR,OAAOA;YAEX,MAAM,IAAI6J,UAAU,mCAAmC7J;AAC3D;UApQAR,EAAQwI,UAAUA,GAUlBxI,EAAQuI,gBAAgBA,GAoBxBvI,EAAQsI,aAAaA,GAgBrBtI,EAAQqI,gBAAgBA,GAqBxBrI,EAAQoI,sBATR,SAA6Ba;YACzBV,EAAcU;YACd,IAAIzI,IAAQ6I,OAAO;YACnB,KAAK,MAAMiB,KAAQrB,GAEfzI,KAASA,KAAS6I,OAAO,MAAMA,OAAOiB;YAE1C,OAAOjB,OAAOkB,OAAsB,IAAftB,EAAML,QAAYpI;AAC3C,aAiBAR,EAAQmI,gBANR,SAAuBc;YACnBV,EAAcU;YACd,MAAMuB,IAASnC,EAAcY;YAE7B,QAAM,GADF/B,EAASnB,QAAQyE,KAAUnB,OAAOjI,OAAOqJ,mBAAmB;YACzDrJ,OAAOoJ;AAClB,aAYAxK,EAAQkI,gBAJR,SAAuBe;YAEnB,OADAV,EAAcU,KAAAA,IACHyB,aAAcC,OAAO1B;AACpC,aAyCAjJ,EAAQiI,aAAaA,GAgBrBjI,EAAQgI,gBAAgBA,GA6CxBhI,EAAQ+H,sBAhBR,SAA6BvH,GAAOoK;aAAAA,GAC5B1D,EAASnB,QAAyB,mBAAVvF,GAAoB,gCAC5C0G,EAASnB,QAA8B,mBAAf6E,GAAyB;aAAA,GACjD1D,EAASnB,QAAQ6E,IAAa,GAAG,4CACjC1D,EAASnB,QAzBjB,SAAoBvF,GAAOyI;eAAAA,GACnB/B,EAASnB,QAAQkD,IAAQ;cAE7B,MAAM4B,IAAOrK,KAAS6I,OAAO;cAC7B,WAAY7I,IAAQqK,MAASrK,KAASqK,MAAUxB,OAAe,IAARJ,IAAY;AAEvE,aANA,CAyBoCzI,GAAOoK,IAAa;YAGpD,IAAIE,IAActK;YAClB,MAAMyI,IAAQ,IAAID,WAAW4B;YAC7B,KAAK,IAAI/B,IAAI,GAAGA,IAAII,EAAML,QAAQC,KAC9BI,EAAMJ,KAAKzH,OAAOiI,OAAO0B,QAAQ,GAAGD,KAEpCA,MAAgBzB,OAAO;YAE3B,OAAOJ,EAAM+B;AACjB,aAgBAhL,EAAQ8H,gBAAgBA,GAWxB9H,EAAQ6H,gBAAgBA,GAwCxB7H,EAAQ4H,eAAeA,GA4BvB5H,EAAQ2H,cAlBR,SAAqBsD;YACjB,MAAMC,IAAmB,IAAInH,MAAMkH,EAAOrC;YAC1C,IAAIgC,IAAa;YACjB,KAAK,IAAI/B,IAAI,GAAGA,IAAIoC,EAAOrC,QAAQC,KAAK;cAEpC,MAAMrI,IAAQoH,EAAaqD,EAAOpC;cAClCqC,EAAiBrC,KAAKrI,GACtBoK,KAAcpK,EAAMoI;AACxB;YACA,MAAMK,IAAQ,IAAID,WAAW4B;YAC7B,KAAK,IAAI/B,IAAI,GAAGsC,IAAS,GAAGtC,IAAIqC,EAAiBtC,QAAQC,KAGrDI,EAAMmC,IAAIF,EAAiBrC,IAAIsC,IAC/BA,KAAUD,EAAiBrC,GAAGD;YAElC,OAAOK;AACX,aAmCAjJ,EAAQ0H,iBAXR,SAAwBuB;YAKpB,eAAWoC,KAA0BpC,aAAiBoC,GAAQ;cAC1D,MAAMC,IAASrC,EAAMqC,OAAOvE,MAAMkC,EAAMsC,YAAYtC,EAAMsC,aAAatC,EAAM2B;cAC7E,OAAO,IAAIY,SAASF;AACxB;YACA,OAAO,IAAIE,SAASvC,EAAMqC,QAAQrC,EAAMsC,YAAYtC,EAAM2B;AAC9D;AAAA;QAAA;UAAA;UCtXAtK,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQyL,sBAAAA;UACR,MAAMxF,IAAgBrF,EAAQ,OACxB8K,IAAW9K,EAAQ;UACzBZ,EAAQyL,kBAAAA,GAAqBxF,EAAc0F,OAAM,GAAID,EAASzE,SAAQ,GAAIhB,EAAc2F,WAAW;YAAEzE,kBAAgB;cAAU,IAAI;AAAE;QAAF;UAAA;UCJnI7G,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQ6L,YAAY7L,EAAQ8L,cAAc9L,EAAQ+L,eAAe/L,EAAQgM,oBAAAA;UACzE,MAAM/F,IAAgBrF,EAAQ,OACxBsG,IAAWtG,EAAQ,OACnBqL,IAAUrL,EAAQ,OAClB6H,IAAQ7H,EAAQ,OAChBsL,KAAAA,GAAuBjG,EAAckG,OAAO,GAAC,GAAIlG,EAAcmG,YAAU,GAAKnG,EAAcuE,YAAU,GAAKvE,EAAc2F,WAAWnD,EAAM4D,oBAC1IC,KAAAA;UAAoBrG,EAAcsG,SAAQ,GAAItG,EAAcmG,WAAWF,GAAkB9K,SACzFoL,KAAAA,GAAoBvG,EAAcsG,SAAQ,GAAItG,EAAcuE,WAAW0B,GAAkB7C,SAEzFoD,MAAAA,GADsBxG,EAAckG,OAAO,EAAC1D,EAAM4D,kBAAgB;UAAKpG,EAAcyG,UAAU1D,iBAAAA,GAC5E/C,EAAcsG,SAAQ,GAAItG,EAAcyG,UAAU1D,cAAY,GAAK/C,EAAckG,OAAO,EAAC1D,EAAM4D,oBAAmBJ,EAAQhE,cAC7I0E,KAAAA;UAAiB1G,EAAcsG,QAAQ9D,EAAM4D,kBAAgB,GAAKpG,EAAcyG,UAAU1D,aAAaiD,EAAQ3D;UAwCrHtI,EAAQgM,eAdR,SAAsBxL;YAClB;cACI,MAAMoM,KAAAA,GAAa3G,EAAc4G,QAAQrM,GAAO8L;cAEhD,QAAM,GADFpF,EAASnB,QAAQ3E,OAAO0L,SAASF,IAAS,sCAAsCpM,QAC7EoM;AAQX,cANA,OAAO7H;cACH,IAAIA,aAAiBkB,EAAc8G,aAC/B,MAAM,IAAIhM,MAAM,sCAAsCP;cAG1D,MAAMuE;AACV;AACJ,aAsCA/E,EAAQ+L,eAdR,SAAsBvL;YAClB;cAGI,QAAM,GAAKyF,EAAc4G,QAAQrM,GAAOgM;AAQ5C,cANA,OAAOzH;cACH,IAAIA,aAAiBkB,EAAc8G,aAC/B,MAAM,IAAIhM,MAAM,sCAAsC8F,OAAO9B,EAAMvE;cAGvE,MAAMuE;AACV;AACJ,aAoCA/E,EAAQ8L,cAfR,SAAqBtL;YACjB,IAAqB,mBAAVA,KAA8C,SAAxBA,EAAM8I,eACnC,OAAO,IAAIN;YAEf;cACI,QAAM,GAAK/C,EAAc4G,QAAQrM,GAAOiM;AAQ5C,cANA,OAAO1H;cACH,IAAIA,aAAiBkB,EAAc8G,aAC/B,MAAM,IAAIhM,MAAM,qCAAqC8F,OAAO9B,EAAMvE;cAGtE,MAAMuE;AACV;AACJ,aAqCA/E,EAAQ6L,YAhBR,SAAmBrL;YACf,IAAKA,aAAiBwI,cAA+B,MAAjBxI,EAAMoI,UACpB,mBAAVpI,KAA8C,SAAxBA,EAAM8I,eACpC,OAAO;YAEX;cACI,QAAM,GAAKrD,EAAc4G,QAAQrM,GAAOmM;AAQ5C,cANA,OAAO5H;cACH,IAAIA,aAAiBkB,EAAc8G,aAC/B,MAAM,IAAIhM,MAAM,qCAAqC8F,OAAO9B,EAAMvE;cAGtE,MAAMuE;AACV;AACJ;AAAA;QAAA;UAAA;UC9JA,IAWIiI,GAAgBC,GAXhBC,IAA0B/M,QAAQA,KAAK+M,0BAA2B,SAAUC,GAAUC,GAAO5M,GAAO6M,GAAMC;YAC1G,IAAa,QAATD,GAAc,MAAM,IAAIhD,UAAU;YACtC,IAAa,QAATgD,MAAiBC,GAAG,MAAM,IAAIjD,UAAU;YAC5C,IAAqB,qBAAV+C,IAAuBD,MAAaC,MAAUE,KAAKF,EAAMG,IAAIJ,IAAW,MAAM,IAAI9C,UAAU;YACvG,OAAiB,QAATgD,IAAeC,EAAE/D,KAAK4D,GAAU3M,KAAS8M,IAAIA,EAAE9M,QAAQA,IAAQ4M,EAAMhC,IAAI+B,GAAU3M,IAASA;AACxG,aACIgN,IAA0BrN,QAAQA,KAAKqN,0BAA2B,SAAUL,GAAUC,GAAOC,GAAMC;YACnG,IAAa,QAATD,MAAiBC,GAAG,MAAM,IAAIjD,UAAU;YAC5C,IAAqB,qBAAV+C,IAAuBD,MAAaC,MAAUE,KAAKF,EAAMG,IAAIJ,IAAW,MAAM,IAAI9C,UAAU;YACvG,OAAgB,QAATgD,IAAeC,IAAa,QAATD,IAAeC,EAAE/D,KAAK4D,KAAYG,IAAIA,EAAE9M,QAAQ4M,EAAM/I,IAAI8I;AACxF;UAEA7M,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQyN,YAAYzN,EAAQ0N,iBAAAA;UAO5B,MAAMA;YACF1M,YAAY2M;cACRX,EAAe5B,IAAIjL,WAAK,IACxB+M,EAAuB/M,MAAM6M,GAAgB,IAAIY,IAAID,IAAU,MAC/DrN,OAAOuN,OAAO1N;AAClB;YACIwL;cACA,OAAO6B,EAAuBrN,MAAM6M,GAAgB,KAAKrB;AAC7D;YACA,EAAEqB,IAAiB,IAAIc,SAAWC,OAAOC;cACrC,OAAOR,EAAuBrN,MAAM6M,GAAgB,KAAKe,OAAOC;AACpE;YACAL;cACI,OAAOH,EAAuBrN,MAAM6M,GAAgB,KAAKW;AAC7D;YACAM,QAAQC,GAAYC;cAGhB,OAAOX,EAAuBrN,MAAM6M,GAAgB,KAAKiB,SAAQ,CAACzN,GAAOiF,GAAK2I,MAASF,EAAW3E,KAAK4E,GAAS3N,GAAOiF,GAAKtF;AAChI;YACAkE,IAAIoB;cACA,OAAO+H,EAAuBrN,MAAM6M,GAAgB,KAAK3I,IAAIoB;AACjE;YACA8H,IAAI9H;cACA,OAAO+H,EAAuBrN,MAAM6M,GAAgB,KAAKO,IAAI9H;AACjE;YACA4I;cACI,OAAOb,EAAuBrN,MAAM6M,GAAgB,KAAKqB;AAC7D;YACApD;cACI,OAAOuC,EAAuBrN,MAAM6M,GAAgB,KAAK/B;AAC7D;YACApJ;cACI,OAAO,aAAa1B,KAAKwL,UAAUxL,KAAKwL,OAAO,IACzC,IAAI,KAAIxL,KAAKwN,YACV3I,KAAI,EAAES,GAAKjF,OAAW,GAAGqG,OAAOpB,SAAWoB,OAAOrG,OAClD4I,KAAK,WACR;AACV;;UAEJpJ,EAAQ0N,YAAYA;UAOpB,MAAMD;YACFzM,YAAYiK;cACRgC,EAAe7B,IAAIjL,WAAK,IACxB+M,EAAuB/M,MAAM8M,GAAgB,IAAIqB,IAAIrD,IAAS,MAC9D3K,OAAOuN,OAAO1N;AAClB;YACIwL;cACA,OAAO6B,EAAuBrN,MAAM8M,GAAgB,KAAKtB;AAC7D;YACA,EAAEsB,IAAiB,IAAIa,SAAWC,OAAOC;cACrC,OAAOR,EAAuBrN,MAAM8M,GAAgB,KAAKc,OAAOC;AACpE;YACAL;cACI,OAAOH,EAAuBrN,MAAM8M,GAAgB,KAAKU;AAC7D;YACAM,QAAQC,GAAYC;cAGhB,OAAOX,EAAuBrN,MAAM8M,GAAgB,KAAKgB,SAAQ,CAACzN,GAAO+N,GAAQC,MAASN,EAAW3E,KAAK4E,GAAS3N,GAAO+N,GAAQpO;AACtI;YACAoN,IAAI/M;cACA,OAAOgN,EAAuBrN,MAAM8M,GAAgB,KAAKM,IAAI/M;AACjE;YACA6N;cACI,OAAOb,EAAuBrN,MAAM8M,GAAgB,KAAKoB;AAC7D;YACApD;cACI,OAAOuC,EAAuBrN,MAAM8M,GAAgB,KAAKhC;AAC7D;YACApJ;cACI,OAAO,aAAa1B,KAAKwL,UAAUxL,KAAKwL,OAAO,IACzC,IAAI,KAAIxL,KAAK8K,WAAUjG,KAAKyJ,KAAW5H,OAAO4H,KAASrF,KAAK,WAC5D;AACV;;UAEJpJ,EAAQyN,YAAYA,GACpBnN,OAAOuN,OAAOH,IACdpN,OAAOuN,OAAOH,EAAUlH,YACxBlG,OAAOuN,OAAOJ,IACdnN,OAAOuN,OAAOJ,EAAUjH;AAAU;QAAVA,MAAAA,CAAAA,GAAAA;UAAAA;UC1GxBlG,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;;AAAC;QAAA,UAAAkO,GAAA;UAAA;UCAtDpO,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQ0J,WAAW1J,EAAQmJ,QAAQnJ,EAAQ2O,0BAA0B3O,EAAQwJ,oBAAoBxJ,EAAQ4O,oBAAoB5O,EAAQ6O,cAAc7O,EAAQqM,kBAAkBrM,EAAQ8O,iBAAAA;UACrL,MAAM7I,IAAgBrF,EAAQ,OACxBsG,IAAWtG,EAAQ;UASzB,SAASiO,EAAYrO;YACjB,QAAM,GAAKyF,EAAc8I,IAAIvO,GAAOR,EAAQ8O;AAChD;UASA,SAASF,EAAkBpO;YACvB,QAAM,GAAKyF,EAAc8I,IAAIvO,GAAOR,EAAQqM;AAChD;UArBArM,EAAQ8O,aAAAA,GAAgB7I,EAAcwB,UAAS,GAAIxB,EAAc2F,WAAW,yBAC5E5L,EAAQqM,mBAAAA,GAAsBpG,EAAcwB,UAAS,GAAIxB,EAAc2F,WAAW;UAUlF5L,EAAQ6O,cAAcA,GAWtB7O,EAAQ4O,oBAAoBA,GAU5B5O,EAAQwJ,oBAHR,SAA2BhJ;aAAAA,GACnB0G,EAASnB,QAAQ8I,EAAYrO,IAAQ;AAC7C,aAYAR,EAAQ2O,0BAHR,SAAiCnO;aAAAA,GACzB0G,EAASnB,QAAQ6I,EAAkBpO,IAAQ;AACnD,aAkBAR,EAAQmJ,QATR,SAAeD;YACX,OAAIA,EAAYkB,WAAW,QAChBlB,IAEPA,EAAYkB,WAAW,QAChB,KAAKlB,EAAY8F,UAAU,OAE/B,KAAK9F;AAChB,aAeAlJ,EAAQ0J,WANR,SAAkBR;YACd,OAAIA,EAAYkB,WAAW,SAASlB,EAAYkB,WAAW,QAChDlB,EAAY8F,UAAU,KAE1B9F;AACX;AAAA;QAAA;UAAA;UC7EA,IAAI+F,IAAmB9O,QAAQA,KAAK8O,oBAAqB3O,OAAOuM,SAAS,SAAUqC,GAAGC,GAAGC,GAAGC;iBAAAA,MACpFA,MAAkBA,IAAKD;YAC3B,IAAIE,IAAOhP,OAAOiP,yBAAyBJ,GAAGC;YACzCE,OAAS,SAASA,KAAQH,EAAE9O,aAAaiP,EAAKE,YAAYF,EAAKG,kBAClEH,IAAO;cAAElL,aAAW;cAAOC,KAAK;gBAAa,OAAO8K,EAAEC;AAAI;gBAE5D9O,OAAOC,eAAe2O,GAAGG,GAAIC;AAChC,cAAI,SAAUJ,GAAGC,GAAGC,GAAGC;iBAAAA,MAChBA,MAAkBA,IAAKD,IAC3BF,EAAEG,KAAMF,EAAEC;AACb,cACGM,IAAgBvP,QAAQA,KAAKuP,gBAAiB,SAASP,GAAGnP;YAC1D,KAAK,IAAI2P,KAAKR,GAAa,cAANQ,KAAoBrP,OAAOkG,UAAUoJ,eAAerG,KAAKvJ,GAAS2P,MAAIV,EAAgBjP,GAASmP,GAAGQ;AAC3H;UACArP,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDkP,EAAa9O,EAAQ,OAAaZ,IAClC0P,EAAa9O,EAAQ,OAAaZ,IAClC0P,EAAa9O,EAAQ,OAAYZ,IACjC0P,EAAa9O,EAAQ,OAAeZ,IACpC0P,EAAa9O,EAAQ,OAAeZ,IACpC0P,EAAa9O,EAAQ,OAAkBZ,IACvC0P,EAAa9O,EAAQ,OAAuBZ,IAC5C0P,EAAa9O,EAAQ,OAAUZ;UAC/B0P,EAAa9O,EAAQ,OAAWZ,IAChC0P,EAAa9O,EAAQ,OAAcZ,IACnC0P,EAAa9O,EAAQ,MAAcZ,IACnC0P,EAAa9O,EAAQ,OAAWZ,IAChC0P,EAAa9O,EAAQ,OAAaZ,IAClC0P,EAAa9O,EAAQ,OAAaZ,IAClC0P,EAAa9O,EAAQ,OAAWZ,IAChC0P,EAAa9O,EAAQ,OAAwBZ,IAC7C0P,EAAa9O,EAAQ,OAAeZ;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UAAAA;UC/BpCM,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQ6P,wBAAwB7P,EAAQ8P,uBAAuB9P,EAAQ4F,iBAAiB5F,EAAQ+P,yBAAyB/P,EAAQgQ,mBAAmBhQ,EAAQiQ,yBAAyBjQ,EAAQkQ,mBAAmBlQ,EAAQmQ,0BAA0BnQ,EAAQoQ,oBAAoBpQ,EAAQqQ,iCAAiCrQ,EAAQsQ,2BAA2BtQ,EAAQuQ,wBAAwBvQ,EAAQwQ,uBAAuBxQ,EAAQyQ,uBAAuBzQ,EAAQ0Q,+BAA+B1Q,EAAQ2Q,yBAAyB3Q,EAAQ4Q,mBAAmB5Q,EAAQ6Q,8BAA8B7Q,EAAQ8Q,wBAAwB9Q,EAAQ+Q,4BAA4B/Q,EAAQgR,uBAAuBhR,EAAQiR,sBAAsBjR,EAAQkR,qBAAqBlR,EAAQmR,kBAAkBnR,EAAQoR,uBAAuBpR,EAAQqR,WAAWrR,EAAQsR,cAActR,EAAQkF,cAAclF,EAAQuR,aAAavR,EAAQwR,wBAAAA;UACp3B,MAAMvL,IAAgBrF,EAAQ,OACxBsG,IAAWtG,EAAQ;UAgBzBZ,EAAQwR,oBAAAA,GAAuBvL,EAAckG,OAAO,GAAC,GAC7ClG,EAAcwL,SAAS,QAAM,GAC7BxL,EAAcyL,aAAW,GAXFzL,EAAc0L,QAAQ,kBAAkBnR,MAAAA,GACxDyF,EAAc8I,IAAIvO,IAAAA;UAAWyF,EAAcmG,cAAchL,OAAO0L,SAAStM,OAAAA,GAYhFyF,EAAc2F,YAAU,GACxB3F,EAAc2L,QAAO,GAAI3L,EAAc4L,OAAM,MAAM7R,EAAQwR,sBAAAA,GAC3DvL,EAAc6L,SAAQ;UAAI7L,EAAc2F,YAAU,GAAK3F,EAAc4L,OAAM,MAAM7R,EAAQwR,wBAQjGxR,EAAQuR,cAAAA,GAAiBtL,EAAc0L,QAAQ,UAASnR,GAAOuR;YAS3D,SAASC,EAAYC,GAAYtL;cAC7B,MACMuL,IAAS,KADEvL,EAAOwL,UAAUF,GAAYF;cAE9C,SAAIG,EAAOtJ,SAAS,MACTsJ;AAGf;YACA;cAWI,MAAME,IAAeJ,EAAYxR,GAAOR,EAAQwR;cAChD,cAAIY,IACOA,IAIJJ,EAAYK,KAAK3P,MAAM2P,KAAKC,UAAU9R,KAASR,EAAQwR;AAOlE,cALA,OAAOzM;cACH,OAAIA,aAAiBwN,cACV;AAGf;AAAA,eAYJvS,EAAQkF,cAHR,SAAqB1E;YACjB,QAAM,GAAKyF,EAAc8I,IAAIvO,GAAOR,EAAQuR;AAChD,aAaAvR,EAAQsR,cALR,SAAqB9Q;aAAAA,GACb0G,EAASpB,cAActF,GAAOR,EAAQuR,YAAY;YACtD,MAAMiB,IAAOH,KAAKC,UAAU9R;YAC5B,QAAM,IAAK0J,aAAcC,OAAOqI,GAAM5H;AAC1C,aAKA5K,EAAQqR,WAAW,OACnBrR,EAAQoR,wBAAAA,GAA2BnL,EAAcwL,SAASzR,EAAQqR,WAClErR,EAAQmR,mBAAAA,GAAsBlL,EAAcwM,WAAU,GAAIxM,EAAckG,OAAO,GAAC;UAAIlG,EAAcmG,YAAU,GAAKnG,EAAc2F,eAC/H5L,EAAQkR,sBAAAA,GAAyBjL,EAAcZ,QAAQ;YACnDpE,OAAK,GAAKgF,EAAcyM;YACxBxR,UAAQ,GAAK+E,EAAc2F;YAC3BzK,OAAK,GAAK8E,EAAc0M,UAAU3S,EAAQuR;YAC1C3P,QAAM,GAAKqE,EAAc0M,WAAU,GAAI1M,EAAc2F;cAEzD5L,EAAQiR,uBAAAA,GAA0BhL,EAAc0M,WAAU,GAAI1M,EAAckG,OAAO,GAAC,GAAIlG,EAAc6L,SAAQ,GAAI7L,EAAc2F,WAAW5L,EAAQuR,cAAY,GAAKtL,EAAc2L,OAAO5R,EAAQuR;UACjMvR,EAAQgR,wBAAAA,GAA2B/K,EAAcZ,QAAQ;YACrDuN,IAAI5S,EAAQmR;YACZ0B,SAAS7S,EAAQoR;YACjB0B,SAAO,GAAK7M,EAAc2F;YAC1BmH,QAAQ/S,EAAQiR;cAEpBjR,EAAQ+Q,6BAAAA,GAAgC9K,EAAc+M,MAAMhT,EAAQgR,sBAAsB,EAAC,SAW3FhR,EAAQ8Q,wBAHR,SAA+BtQ;YAC3B,QAAM,GAAKyF,EAAc8I,IAAIvO,GAAOR,EAAQ+Q;AAChD,aAeA/Q,EAAQ6Q,8BALR,SAAqCrQ,GAErC2F;aAAAA,GACQe,EAASpB,cAActF,GAAOR,EAAQ+Q,2BAA2B,iCAAiC5K;AAC1G,aAWAnG,EAAQ4Q,mBAHR,SAA0BpQ;YACtB,QAAM,GAAKyF,EAAc8I,IAAIvO,GAAOR,EAAQgR;AAChD,aAeAhR,EAAQ2Q,yBALR,SAAgCnQ,GAEhC2F;aAAAA,GACQe,EAASpB,cAActF,GAAOR,EAAQgR,sBAAsB,4BAA4B7K;AAChG,aAEAnG,EAAQ0Q,gCAAAA,GAAmCzK,EAAcZ,QAAQ;YAC7DuN,IAAI5S,EAAQmR;YACZ0B,SAAS7S,EAAQoR;YACjBxE,SAAO,GAAK3G,EAAc0M,WAAU,GAAI1M,EAAcgN;YACtDlO,QAAM,GAAKkB,EAAc0M,UAAU3S,EAAQkR;cAE/ClR,EAAQyQ,wBAAAA,GAA2BxK,EAAcZ,QAAQ;YACrDuN,IAAI5S,EAAQmR;YACZ0B,SAAS7S,EAAQoR;YACjBxE,QAAQ5M,EAAQuR;cAEpBvR,EAAQwQ,wBAAAA,GAA2BvK,EAAcZ,QAAQ;YACrDuN,IAAI5S,EAAQmR;YACZ0B,SAAS7S,EAAQoR;YACjBrM,OAAO/E,EAAQkR;cAEnBlR,EAAQuQ,yBAAAA,GAA4BtK,EAAckG,OAAO,EACrDnM,EAAQyQ,sBACRzQ,EAAQwQ,yBAYZxQ,EAAQsQ,2BAHR,SAAkC4C;YAC9B,QAAM,GAAKjN,EAAc8I,IAAImE,GAAUlT,EAAQ0Q;AACnD,aAgBA1Q,EAAQqQ,iCALR,SAAwC6C,GAExC/M;aAAAA,GACQe,EAASpB,cAAcoN,GAAUlT,EAAQ0Q,8BAA8B,qCAAqCvK;AACpH,aAWAnG,EAAQoQ,oBAHR,SAA2B8C;YACvB,QAAM,GAAKjN,EAAc8I,IAAImE,GAAUlT,EAAQuQ;AACnD,aAeAvQ,EAAQmQ,0BALR,SAAiC3P,GAEjC2F;aAAAA,GACQe,EAASpB,cAActF,GAAOR,EAAQuQ,uBAAuB,6BAA6BpK;AAClG,aAWAnG,EAAQkQ,mBAHR,SAA0B1P;YACtB,QAAM,GAAKyF,EAAc8I,IAAIvO,GAAOR,EAAQyQ;AAChD,aAeAzQ,EAAQiQ,yBALR,SAAgCzP,GAEhC2F;aAAAA,GACQe,EAASpB,cAActF,GAAOR,EAAQyQ,sBAAsB,qCAAqCtK;AACzG,aAWAnG,EAAQgQ,mBAHR,SAA0BxP;YACtB,QAAM,GAAKyF,EAAc8I,IAAIvO,GAAOR,EAAQwQ;AAChD,aAeAxQ,EAAQ+P,yBALR,SAAgCvP,GAEhC2F;aAAAA,GACQe,EAASpB,cAActF,GAAOR,EAAQwQ,sBAAsB,qCAAqCrK;AACzG,aAWAnG,EAAQ4F,iBAHR,SAAwBpF;YACpB,QAAM,GAAKyF,EAAc8I,IAAIvO,GAAOR,EAAQkR;AAChD,aAeAlR,EAAQ8P,uBALR,SAA8BtP,GAE9B2F;aAAAA,GACQe,EAASpB,cAActF,GAAOR,EAAQkR,oBAAoB,0BAA0B/K;AAC5F,aAyCAnG,EAAQ6P,wBAhBR,SAA+BnJ;YAC3B,OAAM,mBAAEyM,GAAiB,iBAAEC,GAAe,YAAEC,KAAe/S,OAAOgT,OAAO;cAAEH,oBAAkB;cAAOC,kBAAgB;cAAQC,aAAW;eAAS3M;YAahJ,OAL0BkM,KACfvM,QAAuB,mBAAPuM,MAAoBQ,KAAmBhS,OAAOC,UAAUuR,OAC5D,mBAAPA,MAAoBO,KAAqBP,EAAGhK,SAAS,MAC5DyK,KAAqB,SAAPT;AAG3B;AAAA;QAAA;UAAA;UC5VAtS,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;;AAAC;QAAA,iBAAAkO,GAAA;UAAA;UCAtD,IAAIxO,IAAmBC,QAAQA,KAAKD,mBAAoB,SAAUE;YAC9D,OAAQA,KAAOA,EAAIC,aAAcD,IAAM;cAAE,SAAWA;;AACxD;UACAE,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQuT,qBAAqBvT,EAAQwT,2BAAAA;UACrC,MACMC,KAAAA,GADUvT,EAAgBU,EAAQ,OACPkB,SAAS;UAgB1C9B,EAAQwT,sBAHR,SAA6BE;YACzB,OAAOD,EAAaE,OAAOD;AAC/B,aAmBA1T,EAAQuT,qBAHR,SAA4BK,GAAeC;YACvC,OAAOD,EAAcD,OAAOE;AAChC;AAAC;QAAD;UAAA;UC8DA,SAASC,EAAQC;YACb,OAAOA,EAAUlK,WAAW,MAAM;AACtC;UA9CA,IAAWmK;UAtDX1T,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQiU,sBAAsBjU,EAAQkU,sBAAsBlU,EAAQ8T,UAAU9T,EAAQyB,gBAAgBzB,EAAQmU,2BAA2BnU,EAAQgU,WAAWhU,EAAQ8E,cAAc9E,EAAQmF,WAAWnF,EAAQoU,oBAAoBpU,EAAQqU,uBAAAA;UAczOrU,EAAQqU,kBAHR,SAAyB7T;YACrB,OAAOuD,MAAMC,QAAQxD,MAAUA,EAAMoI,SAAS;AAClD,aAWA5I,EAAQoU,oBAHR,SAA2B5T;YACvB,OAAOA,QAAAA;AACX,aAYAR,EAAQmF,WAHR,SAAkB3E;YACd,OAAO6F,QAAQ7F,MAA2B,mBAAVA,MAAuBuD,MAAMC,QAAQxD;AACzE,aAcAR,EAAQ8E,cADY,CAACwP,GAAe7N,MAASnG,OAAOsP,eAAerG,KAAK+K,GAAe7N,KAM5EuN,IAUGhU,EAAQgU,aAAahU,EAAQgU,WAAW,CAAC,IAT1CA,EAAe,OAAI,KAAK;UACjCA,EAASA,EAAgB,QAAI,KAAK,SAClCA,EAASA,EAAkB,UAAI,KAAK,WACpCA,EAASA,EAAe,OAAI,KAAK,QACjCA,EAASA,EAAgB,QAAI,KAAK,SAClCA,EAASA,EAAgB,QAAI,KAAK;UAClCA,EAASA,EAAgB,QAAI,KAAK,SAElCA,EAASA,EAAe,OAAI,MAAM,QAKtChU,EAAQmU,2BAA2B,mBAuBnCnU,EAAQyB,gBAfR,SAAuBjB;YACnB,IAAqB,mBAAVA,KAAgC,SAAVA,GAC7B,QAAM;YAEV;cACI,IAAI+T,IAAQ/T;cACZ,MAAwC,SAAjCF,OAAOkU,eAAeD,MACzBA,IAAQjU,OAAOkU,eAAeD;cAElC,OAAOjU,OAAOkU,eAAehU,OAAW+T;AAI5C,cAFA,OAAOvS;cACH,QAAM;AACV;AACJ,aAWAhC,EAAQ8T,UAAUA,GAkBlB9T,EAAQkU,sBAXR,SAA6B1T;YACzB,IAAI+F;YAQJ,OAPa/F,EAAMiU,MAAM,IAAIlP,QAAO,CAACmP,GAAOX,MACpCD,EAAQC,KACDW,IAAQ,IAEZA,IAAQ,IAChB,MAEqE,UAAxDnO,IAAK/F,EAAMmU,MAAM3U,EAAQmU,mCAAAA,MAAuC5N,IAAgBA,IAAK,IAAIqC;AAC7G,aAWA5I,EAAQiU,sBAHR,SAA6BzT;YACzB,OAAOA,EAAMqB,WAAW+G;AAC5B;AAAA;QAAA;UAAA;UCnIAtI,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQ4U,cAAc5U,EAAQ6U,cAAc7U,EAAQ8U,cAAc9U,EAAQ+U,mBAAAA;UAC1E,MAAM7N,IAAWtG,EAAQ,OACnB6H,IAAQ7H,EAAQ;UAwBtBZ,EAAQ+U,cANavU,OAAAA,GACb0G,EAASnB,QAAyB,mBAAVvF,GAAoB,gCAC5C0G,EAASnB,QAAQvF,KAAS,GAAG;WAAA,GAC7B0G,EAASnB,QAAQ3E,OAAO6I,cAAczJ,IAAQ,gEACvCiI,EAAMU,OAAO3I,EAAMqB,SAAS;UAwB3C7B,EAAQ8U,cALatU,OAAAA,GACb0G,EAASnB,QAAyB,mBAAVvF,GAAoB,gCAC5C0G,EAASnB,QAAQvF,KAAS,GAAG;WAAA,GACtBiI,EAAMU,OAAO3I,EAAMqB,SAAS,OA8B3C7B,EAAQ6U,cARarU;aAAAA,GACbiI,EAAMe,mBAAmBhJ;YAG7B,MAAMsK,IAAckK,SAASxU,GAAO;YAEpC,QAAM,GADF0G,EAASnB,QAAQ3E,OAAO6I,cAAca,IAAc,4DACjDA;AAAAA,aAwBX9K,EAAQ4U,cALapU,OAAAA,GACbiI,EAAMe,mBAAmBhJ,IAEtB6I,QAAO,GAAIZ,EAAMU,OAAO3I;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA;UAAAA;UCjGnCF,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;;AAAC;QAAA,UAAAkO;UAAA;UCMtD,IAAWuG;UANX3U,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQkV,YAAYlV,EAAQmV,iBAAiBnV,EAAQiV,gBAAAA,IAK1CA,IA6BGjV,EAAQiV,aAAajV,EAAQiV,WAAW,CAAC,IAzB1CA,EAAsB,cAAI,KAAK;UAIxCA,EAASA,EAAiB,SAAI,OAAQ,UAItCA,EAASA,EAAiB,SAAI,OAAS,UAIvCA,EAASA,EAAe,OAAI,QAAW,QAIvCA,EAASA,EAAc,MAAI,SAAY,OAIvCA,EAASA,EAAe,OAAI,UAAa;UAIzCA,EAASA,EAAe,OAAI,WAAe;UAE/C,MACMG,IAA6B,CAAChJ,GAAQ3F;YACxC,KAFyB,CAAC2F,KAAWhL,OAAOC,UAAU+K,MAAWA,KAAU,EAAlD,CAECA,IACtB,MAAM,IAAIrL,MAAM,IAAI0F,iDAAoD2F;AAAAA;UAchFpM,EAAQmV,iBAJR,SAAwBE,GAAOC;YAE3B,OADAF,EAA2BC,GAAO,UAC3BA,IAAQC;AACnB,aAYAtV,EAAQkV,YAJR,SAAmBK;YAEf,OADAH,EAA2BG,GAAW,cAC/BC,KAAKC,QAAQF;AACxB;AAAA;QAAA;UAAA;UC/DAjV,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;;AAAC;QAAA,UAAAkO,GAAA;UAAA;UCAtDpO,OAAOC,eAAeP,GAAS,cAAc;YAAEQ,QAAM;cACrDR,EAAQ0V,wBAAwB1V,EAAQ2V,UAAU3V,EAAQ4V,YAAY5V,EAAQ6V,sBAAsB7V,EAAQ8V,wBAAwB9V,EAAQ+V,qBAAqB/V,EAAQgW,uBAAuBhW,EAAQiW,qBAAqBjW,EAAQkW,qBAAAA;UACrO,MAAMC,IAAWvV,EAAQ,OACnBqF,IAAgBrF,EAAQ,OACxBsG,IAAWtG,EAAQ;UAIzBZ,EAAQkW,iBAAAA,GAAoBjQ,EAAcmQ,SAAQ,GAAInQ,EAAc2F,WAAW,YAAYpL,KACpD,aAA3B2V,EAASE,OAAO7V,MACb,iCAAiCA;UAIhDR,EAAQiW,sBAAAA,GAAyBhQ,EAAcmQ,SAAQ,GAAInQ,EAAc2F,WAAW,kBAAkBpL,KAC1D,aAAhC2V,EAASG,YAAY9V,MAClB,+BAA+BA;UAa9CR,EAAQgW,uBAHR,SAA8BO;YAC1B,QAAM,GAAKtQ,EAAc8I,IAAIwH,GAASvW,EAAQkW;AAClD,aAWAlW,EAAQ+V,qBAHR,SAA4BS;YACxB,QAAM,GAAKvQ,EAAc8I,IAAIyH,GAAcxW,EAAQiW;AACvD,aAUAjW,EAAQ8V,wBAHR,SAA+BS;aAAAA,GACvBrP,EAASpB,cAAcyQ,GAASvW,EAAQkW;AAChD,aAUAlW,EAAQ6V,sBAHR,SAA6BY;aAAAA,GACrBvP,EAASpB,cAAc2Q,GAAOzW,EAAQiW;AAC9C,aAYAjW,EAAQ4V,YAHR,SAAmBc,GAAUC;YACzB,QAAM,GAAKR,EAASS,IAAIF,GAAUC;AACtC,aAYA3W,EAAQ2V,UAHR,SAAiBY,GAASE;YACtB,QAAM,GAAKN,EAASU,KAAKN,GAASE;AACtC,aAcAzW,EAAQ0V,wBALR,SAA+Ba,GAASC;YACpC,QAAM,GAAKL,EAASW,WAAWP,GAASC,GAAc;cAClDO,oBAAkB;;AAE1B;AAAA;QAAA;UAAA;UCzFA,MAAMC,IAAUpW,EAAQ,OAElBqW,IAAMlJ,OAAO,QACbmJ,IAASnJ,OAAO,WAChBoJ,IAAoBpJ,OAAO,qBAC3BqJ,IAAcrJ,OAAO,eACrBsJ,IAAUtJ,OAAO,WACjBuJ,IAAUvJ,OAAO,YACjBwJ,IAAoBxJ,OAAO,mBAC3ByJ,IAAWzJ,OAAO,YAClB0J,IAAQ1J,OAAO,UACf2J,IAAoB3J,OAAO,mBAE3B4J,IAAc,MAAM,GAkPpBtT,IAAM,CAACpE,GAAMwF,GAAKmS;YACtB,MAAMC,IAAO5X,EAAKwX,GAAOpT,IAAIoB;YAC7B,IAAIoS,GAAM;cACR,MAAMC,IAAMD,EAAKrX;cACjB,IAAIuX,EAAQ9X,GAAM6X;gBAEhB,IADAE,EAAI/X,GAAM4X,KACL5X,EAAKmX,IACR;qBAEEQ,MACE3X,EAAKyX,OACPG,EAAKrX,MAAMiV,MAAMD,KAAKC,QACxBxV,EAAKuX,GAAUS,YAAYJ;cAG/B,OAAOC,EAAItX;AACb;AAAA,aAGIuX,IAAU,CAAC9X,GAAM6X;YACrB,KAAKA,MAASA,EAAII,WAAWjY,EAAKoX,IAChC,QAAM;YAER,MAAMc,IAAO3C,KAAKC,QAAQqC,EAAIrC;YAC9B,OAAOqC,EAAII,SAASC,IAAOL,EAAII,SAC3BjY,EAAKoX,MAAac,IAAOlY,EAAKoX;AAAAA,aAG9Be,IAAOnY;YACX,IAAIA,EAAKiX,KAAUjX,EAAKgX,IACtB,KAAK,IAAIoB,IAASpY,EAAKuX,GAAUc,MAC/BrY,EAAKiX,KAAUjX,EAAKgX,MAAmB,SAAXoB,KAAkB;cAI9C,MAAME,IAAOF,EAAOE;cACpBP,EAAI/X,GAAMoY,IACVA,IAASE;AACX;AAAA,aAIEP,IAAM,CAAC/X,GAAM4X;YACjB,IAAIA,GAAM;cACR,MAAMC,IAAMD,EAAKrX;cACbP,EAAKqX,MACPrX,EAAKqX,GAASQ,EAAIrS,KAAKqS,EAAItX,QAE7BP,EAAKiX,MAAWY,EAAIlP,QACpB3I,EAAKwX,GAAOe,OAAOV,EAAIrS,MACvBxF,EAAKuX,GAAUiB,WAAWZ;AAC5B;AAAA;UAGF,MAAMa;YACJ1X,YAAayE,GAAKjF,GAAOoI,GAAQ6M,GAAKyC;cACpC/X,KAAKsF,MAAMA,GACXtF,KAAKK,QAAQA,GACbL,KAAKyI,SAASA,GACdzI,KAAKsV,MAAMA,GACXtV,KAAK+X,SAASA,KAAU;AAC1B;;UAGF,MAAMS,IAAc,CAAC1Y,GAAMmG,GAAIyR,GAAMe;YACnC,IAAId,IAAMD,EAAKrX;YACXuX,EAAQ9X,GAAM6X,OAChBE,EAAI/X,GAAM4X,IACL5X,EAAKmX,OACRU,SAAAA,KAEAA,KACF1R,EAAGmD,KAAKqP,GAAOd,EAAItX,OAAOsX,EAAIrS,KAAKxF;AAAAA;UAGvCF,EAAOC,UAnTP;YACEgB,YAAa0F;cAOX,IANuB,mBAAZA,MACTA,IAAU;gBAAEmS,KAAKnS;kBAEdA,MACHA,IAAU,CAAC,IAETA,EAAQmS,QAA+B,mBAAhBnS,EAAQmS,OAAoBnS,EAAQmS,MAAM,IACnE,MAAM,IAAIxO,UAAU;cAEVlK,KAAK8W,KAAOvQ,EAAQmS,OAAOC,IAAAA;cAAvC,MAEMC,IAAKrS,EAAQkC,UAAU+O;cAG7B,IAFAxX,KAAKgX,KAAoC,qBAAP4B,IAAqBpB,IAAcoB,GACrE5Y,KAAKiX,KAAe1Q,EAAQsS,UAAAA,GACxBtS,EAAQwR,UAAoC,mBAAnBxR,EAAQwR,QACnC,MAAM,IAAI7N,UAAU;cACtBlK,KAAKkX,KAAW3Q,EAAQwR,UAAU,GAClC/X,KAAKmX,KAAW5Q,EAAQuS,SACxB9Y,KAAKoX,KAAqB7Q,EAAQwS,mBAAAA,GAClC/Y,KAAKuX,KAAqBhR,EAAQyS,mBAAAA,GAClChZ,KAAKiZ;AACP;YAGIP,QAAKQ;cACP,IAAkB,mBAAPA,KAAmBA,IAAK,GACjC,MAAM,IAAIhP,UAAU;cAEtBlK,KAAK8W,KAAOoC,KAAMP,IAAAA,GAClBV,EAAKjY;AACP;YACI0Y;cACF,OAAO1Y,KAAK8W;AACd;YAEIqC,eAAYA;cACdnZ,KAAKiX,OAAiBkC;AACxB;YACIA;cACF,OAAOnZ,KAAKiX;AACd;YAEIc,WAAQqB;cACV,IAAkB,mBAAPA,GACT,MAAM,IAAIlP,UAAU;cAEtBlK,KAAKkX,KAAWkC,GAChBnB,EAAKjY;AACP;YACI+X;cACF,OAAO/X,KAAKkX;AACd;YAGImC,qBAAkBC;cACF,qBAAPA,MACTA,IAAK9B,IAEH8B,MAAOtZ,KAAKgX,OACdhX,KAAKgX,KAAqBsC,GAC1BtZ,KAAK+W,KAAU,GACf/W,KAAKqX,GAAUvJ,SAAQ6J;gBACrBA,EAAIlP,SAASzI,KAAKgX,GAAmBW,EAAItX,OAAOsX,EAAIrS,MACpDtF,KAAK+W,MAAWY,EAAIlP;AAAAA,oBAGxBwP,EAAKjY;AACP;YACIqZ;cAAsB,OAAOrZ,KAAKgX;AAAmB;YAErDvO;cAAY,OAAOzI,KAAK+W;AAAQ;YAChCwC;cAAe,OAAOvZ,KAAKqX,GAAU5O;AAAO;YAEhD+Q,SAAUvT,GAAIwS;cACZA,IAAQA,KAASzY;cACjB,KAAK,IAAIkY,IAASlY,KAAKqX,GAAUc,MAAiB,SAAXD,KAAkB;gBACvD,MAAME,IAAOF,EAAOE;gBACpBI,EAAYxY,MAAMiG,GAAIiS,GAAQO,IAC9BP,IAASE;AACX;AACF;YAEAtK,QAAS7H,GAAIwS;cACXA,IAAQA,KAASzY;cACjB,KAAK,IAAIkY,IAASlY,KAAKqX,GAAUoC,MAAiB,SAAXvB,KAAkB;gBACvD,MAAMwB,IAAOxB,EAAOwB;gBACpBlB,EAAYxY,MAAMiG,GAAIiS,GAAQO,IAC9BP,IAASwB;AACX;AACF;YAEAxL;cACE,OAAOlO,KAAKqX,GAAUsC,UAAU9U,KAAIoK,KAAKA,EAAE3J;AAC7C;YAEAwF;cACE,OAAO9K,KAAKqX,GAAUsC,UAAU9U,KAAIoK,KAAKA,EAAE5O;AAC7C;YAEA4Y;cACMjZ,KAAKmX,MACLnX,KAAKqX,MACLrX,KAAKqX,GAAU5O,UACjBzI,KAAKqX,GAAUvJ,SAAQ6J,KAAO3X,KAAKmX,GAASQ,EAAIrS,KAAKqS,EAAItX,UAG3DL,KAAKsX,KAAS,IAAI7J,KAClBzN,KAAKqX,KAAY,IAAIR;cACrB7W,KAAK+W,KAAU;AACjB;YAEA6C;cACE,OAAO5Z,KAAKqX,GAAUxS,KAAI8S,MACxBC,EAAQ5X,MAAM2X,MAAe;gBAC3B1I,GAAG0I,EAAIrS;gBACPuU,GAAGlC,EAAItX;gBACPyZ,GAAGnC,EAAIrC,OAAOqC,EAAII,UAAU;kBAC3B4B,UAAUI,QAAOC,KAAKA;AAC7B;YAEAC;cACE,OAAOja,KAAKqX;AACd;YAEApM,IAAK3F,GAAKjF,GAAO0X;cAGf,KAFAA,IAASA,KAAU/X,KAAKkX,OAEQ,mBAAXa,GACnB,MAAM,IAAI7N,UAAU;cAEtB,MAAMoL,IAAMyC,IAAS1C,KAAKC,QAAQ,GAC5B4E,IAAMla,KAAKgX,GAAmB3W,GAAOiF;cAE3C,IAAItF,KAAKsX,GAAOlK,IAAI9H,IAAM;gBACxB,IAAI4U,IAAMla,KAAK8W,IAEb,OADAe,EAAI7X,MAAMA,KAAKsX,GAAOpT,IAAIoB,MAAAA;gBAI5B,MACM6U,IADOna,KAAKsX,GAAOpT,IAAIoB,GACXjF;gBAgBlB,OAZIL,KAAKmX,OACFnX,KAAKoX,MACRpX,KAAKmX,GAAS7R,GAAK6U,EAAK9Z,SAG5B8Z,EAAK7E,MAAMA,GACX6E,EAAKpC,SAASA,GACdoC,EAAK9Z,QAAQA,GACbL,KAAK+W,MAAWmD,IAAMC,EAAK1R,QAC3B0R,EAAK1R,SAASyR;gBACdla,KAAKkE,IAAIoB,IACT2S,EAAKjY,QAAAA;AAEP;cAEA,MAAM2X,IAAM,IAAIY,EAAMjT,GAAKjF,GAAO6Z,GAAK5E,GAAKyC;cAG5C,OAAIJ,EAAIlP,SAASzI,KAAK8W,MAChB9W,KAAKmX,MACPnX,KAAKmX,GAAS7R,GAAKjF,KAAAA,MAKvBL,KAAK+W,MAAWY,EAAIlP,QACpBzI,KAAKqX,GAAU+C,QAAQzC,IACvB3X,KAAKsX,GAAOrM,IAAI3F,GAAKtF,KAAKqX,GAAUoC;cACpCxB,EAAKjY,QAAAA;AAEP;YAEAoN,IAAK9H;cACH,KAAKtF,KAAKsX,GAAOlK,IAAI9H,IAAM,QAAM;cACjC,MAAMqS,IAAM3X,KAAKsX,GAAOpT,IAAIoB,GAAKjF;cACjC,QAAQuX,EAAQ5X,MAAM2X;AACxB;YAEAzT,IAAKoB;cACH,OAAOpB,EAAIlE,MAAMsF,IAAAA;AACnB;YAEA+U,KAAM/U;cACJ,OAAOpB,EAAIlE,MAAMsF,IAAAA;AACnB;YAEAgV;cACE,MAAM5C,IAAO1X,KAAKqX,GAAUc;cAC5B,OAAKT,KAGLG,EAAI7X,MAAM0X,IACHA,EAAKrX,SAHH;AAIX;YAEAwX,IAAKvS;cACHuS,EAAI7X,MAAMA,KAAKsX,GAAOpT,IAAIoB;AAC5B;YAEAiV,KAAMC;cAEJxa,KAAKiZ;cAEL,MAAM3D,IAAMD,KAAKC;cAEjB,KAAK,IAAImF,IAAID,EAAI/R,SAAS,GAAGgS,KAAK,GAAGA,KAAK;gBACxC,MAAM9C,IAAM6C,EAAIC,IACVC,IAAY/C,EAAImC,KAAK;gBAC3B,IAAkB,MAAdY,GAEF1a,KAAKiL,IAAI0M,EAAI1I,GAAG0I,EAAIkC,SACjB;kBACH,MAAM9B,IAAS2C,IAAYpF;kBAEvByC,IAAS,KACX/X,KAAKiL,IAAI0M,EAAI1I,GAAG0I,EAAIkC,GAAG9B;AAE3B;AACF;AACF;YAEA4C;cACE3a,KAAKsX,GAAOxJ,SAAQ,CAACzN,GAAOiF,MAAQpB,EAAIlE,MAAMsF,IAAAA;AAChD;;AAAC;QAAD;UC/PF,MAAMsV,IAAMhN,OAAO;UAEnB,MAAMiN;YACOD;cACT,OAAOA;AACT;YAEA/Z,YAAaia,GAAMvU;cAGjB,IAFAA,IAAUwU,EAAaxU,IAEnBuU,aAAgBD,GAAY;gBAC9B,IAAIC,EAAKE,YAAYzU,EAAQyU,OAC3B,OAAOF;gBAEPA,IAAOA,EAAKza;AAEhB;cAEAya,IAAOA,EAAK7C,OAAO3D,MAAM,OAAOrL,KAAK,MACrCgS,EAAM,cAAcH,GAAMvU,IAC1BvG,KAAKuG,UAAUA,GACfvG,KAAKgb,UAAUzU,EAAQyU,OACvBhb,KAAKuC,MAAMuY,IAEP9a,KAAKkb,WAAWN,IAClB5a,KAAKK,QAAQ,KAEbL,KAAKK,QAAQL,KAAKmb,WAAWnb,KAAKkb,OAAO9E;cAG3C6E,EAAM,QAAQjb;AAChB;YAEAuC,MAAOuY;cACL,MAAMra,IAAIT,KAAKuG,QAAQyU,QAAQ7T,EAAGoH,EAAE6M,mBAAmBjU,EAAGoH,EAAE8M,aACtDrM,IAAI8L,EAAKtG,MAAM/T;cAErB,KAAKuO,GACH,MAAM,IAAI9E,UAAU,uBAAuB4Q;cAG7C9a,KAAKmb,gBAAAA,MAAWnM,EAAE,KAAmBA,EAAE,KAAK,IACtB,QAAlBhP,KAAKmb,aACPnb,KAAKmb,WAAW,KAIbnM,EAAE,KAGLhP,KAAKkb,SAAS,IAAII,EAAOtM,EAAE,IAAIhP,KAAKuG,QAAQyU,SAF5Chb,KAAKkb,SAASN;AAIlB;YAEAlZ;cACE,OAAO1B,KAAKK;AACd;YAEAkb,KAAMnF;cAGJ,IAFA6E,EAAM,mBAAmB7E,GAASpW,KAAKuG,QAAQyU,QAE3Chb,KAAKkb,WAAWN,KAAOxE,MAAYwE,GACrC,QAAM;cAGR,IAAuB,mBAAZxE,GACT;gBACEA,IAAU,IAAIkF,EAAOlF,GAASpW,KAAKuG;AAGrC,gBAFE,OAAOiV;gBACP,QAAM;AACR;cAGF,OAAOC,EAAIrF,GAASpW,KAAKmb,UAAUnb,KAAKkb,QAAQlb,KAAKuG;AACvD;YAEAmV,WAAYZ,GAAMvU;cAChB,MAAMuU,aAAgBD,IACpB,MAAM,IAAI3Q,UAAU;cAGtB,OAAsB,OAAlBlK,KAAKmb,WACY,OAAfnb,KAAKK,SAGF,IAAIsb,EAAMb,EAAKza,OAAOkG,GAASgV,KAAKvb,KAAKK,SACrB,OAAlBya,EAAKK,WACK,OAAfL,EAAKza,SAGF,IAAIsb,EAAM3b,KAAKK,OAAOkG,GAASgV,KAAKT,EAAKI,aAGlD3U,IAAUwU,EAAaxU,IAGXqQ,sBACM,eAAf5W,KAAKK,SAAuC,eAAfya,EAAKza,WAGhCkG,EAAQqQ,sBACV5W,KAAKK,MAAM4J,WAAW,aAAa6Q,EAAKza,MAAM4J,WAAW,gBAKxDjK,KAAKmb,SAASlR,WAAW,SAAQ6Q,EAAKK,SAASlR,WAAW,WAI1DjK,KAAKmb,SAASlR,WAAW,SAAQ6Q,EAAKK,SAASlR,WAAW,UAK3DjK,KAAKkb,OAAO9E,YAAY0E,EAAKI,OAAO9E,YACrCpW,KAAKmb,SAASS,SAAS,SAAQd,EAAKK,SAASS,SAAS,WAIpDH,EAAIzb,KAAKkb,QAAQ,KAAKJ,EAAKI,QAAQ3U,MACrCvG,KAAKmb,SAASlR,WAAW,QAAQ6Q,EAAKK,SAASlR,WAAW,WAIxDwR,EAAIzb,KAAKkb,QAAQ,KAAKJ,EAAKI,QAAQ3U,MACrCvG,KAAKmb,SAASlR,WAAW,QAAQ6Q,EAAKK,SAASlR,WAAW;AAI9D;;UAGFrK,EAAOC,UAAUgb;UAEjB,MAAME,IAAeta,EAAQ,QACrBob,QAAQ1U,GAAE,GAAEoH,KAAM9N,EAAQ,OAC5Bgb,IAAMhb,EAAQ,OACdwa,IAAQxa,EAAQ,OAChB6a,IAAS7a,EAAQ,MACjBkb,IAAQlb,EAAQ;AAAA;QAAA;UC3ItB,MAAMkb;YACJ9a,YAAayV,GAAO/P;cAGlB,IAFAA,IAAUwU,EAAaxU,IAEnB+P,aAAiBqF,GACnB,OACErF,EAAM0E,YAAYzU,EAAQyU,SAC1B1E,EAAMM,wBAAwBrQ,EAAQqQ,oBAE/BN,IAEA,IAAIqF,EAAMrF,EAAMlP,KAAKb;cAIhC,IAAI+P,aAAiBuE,GAKnB,OAHA7a,KAAKoH,MAAMkP,EAAMjW,OACjBL,KAAKiL,MAAM,EAAC,EAACqL,OACbtW,KAAK8b,UACE9b;cAyBT,IAtBAA,KAAKuG,UAAUA,GACfvG,KAAKgb,UAAUzU,EAAQyU,OACvBhb,KAAK4W,sBAAsBrQ,EAAQqQ,mBAKnC5W,KAAKoH,MAAMkP,EACR2B,OACA3D,MAAM,OACNrL,KAAK;cAGRjJ,KAAKiL,MAAMjL,KAAKoH,IACbkN,MAAM,MAENzP,KAAIpE,KAAKT,KAAK+b,WAAWtb,KAIzBsZ,QAAOiC,KAAKA,EAAEvT,WAEZzI,KAAKiL,IAAIxC,QACZ,MAAM,IAAIyB,UAAU,yBAAyBlK,KAAKoH;cAIpD,IAAIpH,KAAKiL,IAAIxC,SAAS,GAAG;gBAEvB,MAAMwT,IAAQjc,KAAKiL,IAAI;gBAEvB,IADAjL,KAAKiL,MAAMjL,KAAKiL,IAAI8O,QAAOiC,MAAME,EAAUF,EAAE,OACrB,MAApBhc,KAAKiL,IAAIxC,QACXzI,KAAKiL,MAAM,EAACgR,UACP,IAAIjc,KAAKiL,IAAIxC,SAAS,GAE3B,KAAK,MAAMuT,KAAKhc,KAAKiL,KACnB,IAAiB,MAAb+Q,EAAEvT,UAAgB0T,EAAMH,EAAE,KAAK;kBACjChc,KAAKiL,MAAM,EAAC+Q;kBACZ;AACF;AAGN;cAEAhc,KAAK8b;AACP;YAEAA;cAKE,OAJA9b,KAAKsW,QAAQtW,KAAKiL,IACfpG,KAAKuX,KAAUA,EAAMnT,KAAK,KAAKgP,SAC/BhP,KAAK,MACLgP,QACIjY,KAAKsW;AACd;YAEA5U;cACE,OAAO1B,KAAKsW;AACd;YAEAyF,WAAYzF;cAGV,MAGM+F,MAFHrc,KAAKuG,QAAQqQ,qBAAqB0F,MAClCtc,KAAKuG,QAAQyU,SAASuB,MACE,MAAMjG,GAC3BkG,IAASC,EAAMvY,IAAImY;cACzB,IAAIG,GACF,OAAOA;cAGT,MAAMxB,IAAQhb,KAAKuG,QAAQyU,OAErB0B,IAAK1B,IAAQ7T,EAAGoH,EAAEoO,oBAAoBxV,EAAGoH,EAAEqO;cACjDtG,IAAQA,EAAMuG,QAAQH,GAAII,EAAc9c,KAAKuG,QAAQqQ,qBACrDqE,EAAM,kBAAkB3E,IAExBA,IAAQA,EAAMuG,QAAQ1V,EAAGoH,EAAEwO,iBAAiBC,IAC5C/B,EAAM,mBAAmB3E;cAWzB,IAAI2G,KALJ3G,KAHAA,IAAQA,EAAMuG,QAAQ1V,EAAGoH,EAAE2O,YAAYC,IAGzBN,QAAQ1V,EAAGoH,EAAE6O,YAAYC,IAMpC/I,MAAM,KACNzP,KAAIiW,KAAQwC,EAAgBxC,GAAM9a,KAAKuG,WACvC0C,KAAK,KACLqL,MAAM,OAENzP,KAAIiW,KAAQyC,EAAYzC,GAAM9a,KAAKuG;cAElCyU,MAEFiC,IAAYA,EAAUlD,QAAOe,MAC3BG,EAAM,wBAAwBH,GAAM9a,KAAKuG,YAChCuU,EAAKtG,MAAMrN,EAAGoH,EAAE6M,uBAG7BH,EAAM,cAAcgC;cAKpB,MAAMO,IAAW,IAAI/P,KACfgQ,IAAcR,EAAUpY,KAAIiW,KAAQ,IAAID,EAAWC,GAAM9a,KAAKuG;cACpE,KAAK,MAAMuU,KAAQ2C,GAAa;gBAC9B,IAAIvB,EAAUpB,IACZ,OAAO,EAACA;gBAEV0C,EAASvS,IAAI6P,EAAKza,OAAOya;AAC3B;cACI0C,EAAShS,OAAO,KAAKgS,EAASpQ,IAAI,OACpCoQ,EAASnF,OAAO;cAGlB,MAAM5L,IAAS,KAAI+Q,EAAS1S;cAE5B,OADA2R,EAAMxR,IAAIoR,GAAS5P,IACZA;AACT;YAEAiP,WAAYpF,GAAO/P;cACjB,MAAM+P,aAAiBqF,IACrB,MAAM,IAAIzR,UAAU;cAGtB,OAAOlK,KAAKiL,IAAIyS,MAAMC,KAElBC,EAAcD,GAAiBpX,MAC/B+P,EAAMrL,IAAIyS,MAAMG,KAEZD,EAAcC,GAAkBtX,MAChCoX,EAAgBG,OAAOC,KACdF,EAAiBC,OAAOE,KACtBD,EAAerC,WAAWsC,GAAiBzX;AAOhE;YAGAgV,KAAMnF;cACJ,KAAKA,GACH,QAAM;cAGR,IAAuB,mBAAZA,GACT;gBACEA,IAAU,IAAIkF,EAAOlF,GAASpW,KAAKuG;AAGrC,gBAFE,OAAOiV;gBACP,QAAM;AACR;cAGF,KAAK,IAAI9S,IAAI,GAAGA,IAAI1I,KAAKiL,IAAIxC,QAAQC,KACnC,IAAIuV,EAAQje,KAAKiL,IAAIvC,IAAI0N,GAASpW,KAAKuG,UACrC,QAAM;cAGV,QAAM;AACR;;UAGF3G,EAAOC,UAAU8b;UAEjB,MACMc,IAAQ,KADFhc,EAAQ,MACN,CAAQ;YAAEiY,KAAK;cAEvBqC,IAAeta,EAAQ,OACvBoa,IAAapa,EAAQ,OACrBwa,IAAQxa,EAAQ,OAChB6a,IAAS7a,EAAQ,OAErBob,QAAQ1U,GAAE,GACVoH,GAAC,uBACDyO,GAAqB,kBACrBG,GAAgB,kBAChBE,KACE5c,EAAQ,QACN,yBAAE6b,GAAuB,YAAEC,KAAe9b,EAAQ,OAElDyb,IAAYF,KAAiB,eAAZA,EAAE3b,OACnB8b,IAAQH,KAAiB,OAAZA,EAAE3b,OAIfud,IAAgB,CAACH,GAAalX;YAClC,IAAIkG,KAAAA;YACJ,MAAMyR,IAAuBT,EAAY7W;YACzC,IAAIuX,IAAiBD,EAAqB5D;YAE1C,MAAO7N,KAAUyR,EAAqBzV,UACpCgE,IAASyR,EAAqBJ,OAAOM,KAC5BD,EAAezC,WAAW0C,GAAiB7X,MAGpD4X,IAAiBD,EAAqB5D;YAGxC,OAAO7N;AAAAA,aAMH6Q,IAAkB,CAACxC,GAAMvU,OAC7B0U,EAAM,QAAQH,GAAMvU,IACpBuU,IAAOuD,EAAcvD,GAAMvU,IAC3B0U,EAAM,SAASH,IACfA,IAAOwD,EAAcxD,GAAMvU,IAC3B0U,EAAM,UAAUH,IAChBA,IAAOyD,EAAezD,GAAMvU,IAC5B0U,EAAM,UAAUH;UAChBA,IAAO0D,EAAa1D,GAAMvU,IAC1B0U,EAAM,SAASH,IACRA,IAGH2D,IAAMhM,MAAOA,KAA2B,QAArBA,EAAGtJ,iBAAgC,QAAPsJ,GAS/C6L,IAAgB,CAACxD,GAAMvU,MACpBuU,EACJ7C,OACA3D,MAAM,OACNzP,KAAKmX,KAAM0C,EAAa1C,GAAGzV,KAC3B0C,KAAK,MAGJyV,IAAe,CAAC5D,GAAMvU;YAC1B,MAAM9F,IAAI8F,EAAQyU,QAAQ7T,EAAGoH,EAAEoQ,cAAcxX,EAAGoH,EAAEqQ;YAClD,OAAO9D,EAAK+B,QAAQpc,IAAE,CAAEoB,GAAGgd,GAAG7P,GAAGQ,GAAGsP;cAElC,IAAIC;cAoBJ,OArBA9D,EAAM,SAASH,GAAMjZ,GAAGgd,GAAG7P,GAAGQ,GAAGsP,IAG7BL,EAAII,KACNE,IAAM,KACGN,EAAIzP,KACb+P,IAAM,KAAKF,WAAWA,IAAI,YACjBJ,EAAIjP,KAEbuP,IAAM,KAAKF,KAAK7P,QAAQ6P,MAAM7P,IAAI,UACzB8P,KACT7D,EAAM,mBAAmB6D;cACzBC,IAAM,KAAKF,KAAK7P,KAAKQ,KAAKsP,MACrBD,MAAM7P,IAAI,WAGf+P,IAAM,KAAKF,KAAK7P,KAAKQ,MAChBqP,MAAM7P,IAAI,SAGjBiM,EAAM,gBAAgB8D,IACfA;AAAAA;AAAAA,aAYLV,IAAgB,CAACvD,GAAMvU,MACpBuU,EACJ7C,OACA3D,MAAM,OACNzP,KAAKmX,KAAMgD,EAAahD,GAAGzV,KAC3B0C,KAAK,MAGJ+V,IAAe,CAAClE,GAAMvU;YAC1B0U,EAAM,SAASH,GAAMvU;YACrB,MAAM9F,IAAI8F,EAAQyU,QAAQ7T,EAAGoH,EAAE0Q,cAAc9X,EAAGoH,EAAE2Q,QAC5CC,IAAI5Y,EAAQqQ,oBAAoB,OAAO;YAC7C,OAAOkE,EAAK+B,QAAQpc,IAAE,CAAEoB,GAAGgd,GAAG7P,GAAGQ,GAAGsP;cAElC,IAAIC;cA2CJ,OA5CA9D,EAAM,SAASH,GAAMjZ,GAAGgd,GAAG7P,GAAGQ,GAAGsP,IAG7BL,EAAII,KACNE,IAAM,KACGN,EAAIzP,KACb+P,IAAM,KAAKF,QAAQM,OAAON,IAAI,YACrBJ,EAAIjP,KAEXuP,IADQ,QAANF,IACI,KAAKA,KAAK7P,MAAMmQ,MAAMN,MAAM7P,IAAI,UAEhC,KAAK6P,KAAK7P,MAAMmQ,OAAON,IAAI,YAE1BC,KACT7D,EAAM,mBAAmB6D;cAGrBC,IAFM,QAANF,IACQ,QAAN7P,IACI,KAAK6P,KAAK7P,KAAKQ,KAAKsP,MACrBD,KAAK7P,MAAMQ,IAAI,QAEd,KAAKqP,KAAK7P,KAAKQ,KAAKsP,MACrBD,MAAM7P,IAAI,UAGX,KAAK6P,KAAK7P,KAAKQ,KAAKsP,OACpBD,IAAI,cAGZ5D,EAAM;cAGF8D,IAFM,QAANF,IACQ,QAAN7P,IACI,KAAK6P,KAAK7P,KAAKQ,IAClB2P,MAAMN,KAAK7P,MAAMQ,IAAI,QAElB,KAAKqP,KAAK7P,KAAKQ,IAClB2P,MAAMN,MAAM7P,IAAI,UAGf,KAAK6P,KAAK7P,KAAKQ,OACfqP,IAAI;cAId5D,EAAM,gBAAgB8D,IACfA;AAAAA;AAAAA,aAILR,IAAiB,CAACzD,GAAMvU,OAC5B0U,EAAM,kBAAkBH,GAAMvU,IACvBuU,EACJxG,MAAM,OACNzP,KAAKmX,KAAMoD,EAAcpD,GAAGzV,KAC5B0C,KAAK,OAGJmW,IAAgB,CAACtE,GAAMvU;YAC3BuU,IAAOA,EAAK7C;YACZ,MAAMxX,IAAI8F,EAAQyU,QAAQ7T,EAAGoH,EAAE8Q,eAAelY,EAAGoH,EAAE+Q;YACnD,OAAOxE,EAAK+B,QAAQpc,IAAE,CAAEse,GAAKQ,GAAMV,GAAG7P,GAAGQ,GAAGsP;cAC1C7D,EAAM,UAAUH,GAAMiE,GAAKQ,GAAMV,GAAG7P,GAAGQ,GAAGsP;cAC1C,MAAMU,IAAKf,EAAII,IACTY,IAAKD,KAAMf,EAAIzP,IACf0Q,IAAKD,KAAMhB,EAAIjP,IACfmQ,IAAOD;cA+Db,OA7Da,QAATH,KAAgBI,MAClBJ,IAAO,KAKTT,IAAKvY,EAAQqQ,oBAAoB,OAAO,IAEpC4I,IAGAT,IAFW,QAATQ,KAAyB,QAATA,IAEZ,aAGA,MAECA,KAAQI,KAGbF,MACFzQ,IAAI;cAENQ,IAAI,GAES,QAAT+P,KAGFA,IAAO,MACHE,KACFZ,KAAKA,IAAI,GACT7P,IAAI,GACJQ,IAAI,MAEJR,KAAKA,IAAI,GACTQ,IAAI,MAEY,SAAT+P,MAGTA,IAAO,KACHE,IACFZ,KAAKA,IAAI,IAET7P,KAAKA,IAAI;cAIA,QAATuQ,MACFT,IAAK,OAGPC,IAAM,GAAGQ,IAAOV,KAAK7P,KAAKQ,IAAIsP,OACrBW,IACTV,IAAM,KAAKF,QAAQC,OAAQD,IAAI,YACtBa,MACTX,IAAM,KAAKF,KAAK7P,MAAM8P,MACjBD,MAAM7P,IAAI;cAGjBiM,EAAM,iBAAiB8D,IAEhBA;AAAAA;AAAAA,aAMLP,IAAe,CAAC1D,GAAMvU,OAC1B0U,EAAM,gBAAgBH,GAAMvU,IAErBuU,EACJ7C,OACA4E,QAAQ1V,EAAGoH,EAAEqR,OAAO,MAGnBrC,IAAc,CAACzC,GAAMvU,OACzB0U,EAAM,eAAeH,GAAMvU,IACpBuU,EACJ7C,OACA4E,QAAQ1V,EAAGZ,EAAQqQ,oBAAoBrI,EAAEsR,UAAUtR,EAAEuR,OAAO,MAQ3DhD,IAAgBiD,KAAS,CAACC,GAC9BC,GAAMC,GAAIC,GAAIC,GAAIC,GAAKC,GACvBC,GAAIC,GAAIC,GAAIC,GAAIC,GAAKC,MA2Bd,GAzBLX,IADExB,EAAIyB,KACC,KACEzB,EAAI0B,KACN,KAAKD,QAASH,IAAQ,OAAO,OAC3BtB,EAAI2B,KACN,KAAKF,KAAMC,MAAOJ,IAAQ,OAAO,OAC/BM,IACF,KAAKJ,MAEL,KAAKA,IAAOF,IAAQ,OAAO,QAIlCQ,IADE9B,EAAI+B,KACD,KACI/B,EAAIgC,KACR,KAAKD,IAAK,YACN/B,EAAIiC,KACR,IAAIF,MAAOC,IAAK,UACZE,IACJ,KAAKH,KAAMC,KAAMC,KAAMC,MACnBZ,IACJ,IAAIS,KAAMC,MAAOC,IAAK,QAEtB,KAAKH,MAGWtI,QAGnBgG,IAAU,CAAChT,GAAKmL,GAAS7P;YAC7B,KAAK,IAAImC,IAAI,GAAGA,IAAIuC,EAAIxC,QAAQC,KAC9B,KAAKuC,EAAIvC,GAAG6S,KAAKnF,IACf,QAAM;YAIV,IAAIA,EAAQyK,WAAWpY,WAAWlC,EAAQqQ,mBAAmB;cAM3D,KAAK,IAAIlO,IAAI,GAAGA,IAAIuC,EAAIxC,QAAQC,KAE9B,IADAuS,EAAMhQ,EAAIvC,GAAGwS,SACTjQ,EAAIvC,GAAGwS,WAAWL,EAAWD,OAI7B3P,EAAIvC,GAAGwS,OAAO2F,WAAWpY,SAAS,GAAG;gBACvC,MAAMqY,IAAU7V,EAAIvC,GAAGwS;gBACvB,IAAI4F,EAAQC,UAAU3K,EAAQ2K,SAC1BD,EAAQE,UAAU5K,EAAQ4K,SAC1BF,EAAQG,UAAU7K,EAAQ6K,OAC5B,QAAM;AAEV;cAIF,QAAM;AACR;YAEA,QAAM;AAAC;AAAA;QAAA,SAAA1S,GAAA;UCthBT,MAAM0M,IAAQxa,EAAQ,QAChB,YAAEygB,GAAU,kBAAE5W,KAAqB7J,EAAQ,QACzCob,QAAQ1U,GAAE,GAAEoH,KAAM9N,EAAQ,OAE5Bsa,IAAeta,EAAQ,QACvB,oBAAE0gB,KAAuB1gB,EAAQ;UACvC,MAAM6a;YACJza,YAAauV,GAAS7P;cAGpB,IAFAA,IAAUwU,EAAaxU,IAEnB6P,aAAmBkF,GAAQ;gBAC7B,IAAIlF,EAAQ4E,YAAYzU,EAAQyU,SAC5B5E,EAAQQ,wBAAwBrQ,EAAQqQ,mBAC1C,OAAOR;gBAEPA,IAAUA,EAAQA;AAEtB,qBAAO,IAAuB,mBAAZA,GAChB,MAAM,IAAIlM,UAAU,uDAAuDkM;cAG7E,IAAIA,EAAQ3N,SAASyY,GACnB,MAAM,IAAIhX,UACR,0BAA0BgX;cAI9BjG,EAAM,UAAU7E,GAAS7P,IACzBvG,KAAKuG,UAAUA,GACfvG,KAAKgb,UAAUzU,EAAQyU,OAGvBhb,KAAK4W,sBAAsBrQ,EAAQqQ;cAEnC,MAAM5H,IAAIoH,EAAQ6B,OAAOzD,MAAMjO,EAAQyU,QAAQ7T,EAAGoH,EAAE6S,SAASja,EAAGoH,EAAE8S;cAElE,KAAKrS,GACH,MAAM,IAAI9E,UAAU,oBAAoBkM;cAU1C,IAPApW,KAAKoH,MAAMgP,GAGXpW,KAAK+gB,SAAS/R,EAAE,IAChBhP,KAAKghB,SAAShS,EAAE,IAChBhP,KAAKihB,SAASjS,EAAE,IAEZhP,KAAK+gB,QAAQzW,KAAoBtK,KAAK+gB,QAAQ,GAChD,MAAM,IAAI7W,UAAU;cAGtB,IAAIlK,KAAKghB,QAAQ1W,KAAoBtK,KAAKghB,QAAQ,GAChD,MAAM,IAAI9W,UAAU;cAGtB,IAAIlK,KAAKihB,QAAQ3W,KAAoBtK,KAAKihB,QAAQ,GAChD,MAAM,IAAI/W,UAAU;cAIjB8E,EAAE,KAGLhP,KAAK6gB,aAAa7R,EAAE,GAAGsF,MAAM,KAAKzP,KAAK4N;gBACrC,IAAI,WAAW8I,KAAK9I,IAAK;kBACvB,MAAM6O,KAAO7O;kBACb,IAAI6O,KAAO,KAAKA,IAAMhX,GACpB,OAAOgX;AAEX;gBACA,OAAO7O;AAAAA,oBATTzS,KAAK6gB,aAAa,IAapB7gB,KAAKuhB,QAAQvS,EAAE,KAAKA,EAAE,GAAGsF,MAAM,OAAO,IACtCtU,KAAK8b;AACP;YAEAA;cAKE,OAJA9b,KAAKoW,UAAU,GAAGpW,KAAK+gB,SAAS/gB,KAAKghB,SAAShhB,KAAKihB,SAC/CjhB,KAAK6gB,WAAWpY,WAClBzI,KAAKoW,WAAW,IAAIpW,KAAK6gB,WAAW5X,KAAK;cAEpCjJ,KAAKoW;AACd;YAEA1U;cACE,OAAO1B,KAAKoW;AACd;YAEAoL,QAASC;cAEP,IADAxG,EAAM,kBAAkBjb,KAAKoW,SAASpW,KAAKuG,SAASkb,MAC9CA,aAAiBnG,IAAS;gBAC9B,IAAqB,mBAAVmG,KAAsBA,MAAUzhB,KAAKoW,SAC9C,OAAO;gBAETqL,IAAQ,IAAInG,EAAOmG,GAAOzhB,KAAKuG;AACjC;cAEA,OAAIkb,EAAMrL,YAAYpW,KAAKoW,UAClB,IAGFpW,KAAK0hB,YAAYD,MAAUzhB,KAAK2hB,WAAWF;AACpD;YAEAC,YAAaD;cAKX,OAJMA,aAAiBnG,MACrBmG,IAAQ,IAAInG,EAAOmG,GAAOzhB,KAAKuG,WAI/B4a,EAAmBnhB,KAAK+gB,OAAOU,EAAMV,UACrCI,EAAmBnhB,KAAKghB,OAAOS,EAAMT,UACrCG,EAAmBnhB,KAAKihB,OAAOQ,EAAMR;AAEzC;YAEAU,WAAYF;cAMV,IALMA,aAAiBnG,MACrBmG,IAAQ,IAAInG,EAAOmG,GAAOzhB,KAAKuG,WAI7BvG,KAAK6gB,WAAWpY,WAAWgZ,EAAMZ,WAAWpY,QAC9C,QAAQ;cACH,KAAKzI,KAAK6gB,WAAWpY,UAAUgZ,EAAMZ,WAAWpY,QACrD,OAAO;cACF,KAAKzI,KAAK6gB,WAAWpY,WAAWgZ,EAAMZ,WAAWpY,QACtD,OAAO;cAGT,IAAIC,IAAI;cACR,GAAG;gBACD,MAAMkZ,IAAI5hB,KAAK6gB,WAAWnY,IACpBmZ,IAAIJ,EAAMZ,WAAWnY;gBAE3B,IADAuS,EAAM,sBAAsBvS,GAAGkZ,GAAGC,SAAAA,MAC9BD,UAAAA,MAAmBC,GACrB,OAAO;gBACF,eAAIA,GACT,OAAO;gBACF,eAAID,GACT,QAAQ;gBACH,IAAIA,MAAMC,GAGf,OAAOV,EAAmBS,GAAGC;AAEjC,yBAAWnZ;AACb;YAEAoZ,aAAcL;cACNA,aAAiBnG,MACrBmG,IAAQ,IAAInG,EAAOmG,GAAOzhB,KAAKuG;cAGjC,IAAImC,IAAI;cACR,GAAG;gBACD,MAAMkZ,IAAI5hB,KAAKuhB,MAAM7Y,IACfmZ,IAAIJ,EAAMF,MAAM7Y;gBAEtB,IADAuS,EAAM,sBAAsBvS,GAAGkZ,GAAGC,SAAAA,MAC9BD,UAAAA,MAAmBC,GACrB,OAAO;gBACF,eAAIA,GACT,OAAO;gBACF,eAAID,GACT,QAAQ;gBACH,IAAIA,MAAMC,GAGf,OAAOV,EAAmBS,GAAGC;AAEjC,yBAAWnZ;AACb;YAIAqZ,IAAKC,GAASC,GAAYC;cACxB,QAAQF;eACN,KAAK;gBACHhiB,KAAK6gB,WAAWpY,SAAS,GACzBzI,KAAKihB,QAAQ,GACbjhB,KAAKghB,QAAQ,GACbhhB,KAAK+gB,SACL/gB,KAAK+hB,IAAI,OAAOE,GAAYC;gBAC5B;;eACF,KAAK;gBACHliB,KAAK6gB,WAAWpY,SAAS,GACzBzI,KAAKihB,QAAQ,GACbjhB,KAAKghB,SACLhhB,KAAK+hB,IAAI,OAAOE,GAAYC;gBAC5B;;eACF,KAAK;gBAIHliB,KAAK6gB,WAAWpY,SAAS,GACzBzI,KAAK+hB,IAAI,SAASE,GAAYC,IAC9BliB,KAAK+hB,IAAI,OAAOE,GAAYC;gBAC5B;;eAGF,KAAK;gBAC4B,MAA3BliB,KAAK6gB,WAAWpY,UAClBzI,KAAK+hB,IAAI,SAASE,GAAYC,IAEhCliB,KAAK+hB,IAAI,OAAOE,GAAYC;gBAC5B;;eAEF,KAAK;gBAMc,MAAfliB,KAAKghB,SACU,MAAfhhB,KAAKihB,SACsB,MAA3BjhB,KAAK6gB,WAAWpY,UAEhBzI,KAAK+gB,SAEP/gB,KAAKghB,QAAQ,GACbhhB,KAAKihB,QAAQ,GACbjhB,KAAK6gB,aAAa;gBAClB;;eACF,KAAK;gBAKgB,MAAf7gB,KAAKihB,SAA0C,MAA3BjhB,KAAK6gB,WAAWpY,UACtCzI,KAAKghB,SAEPhhB,KAAKihB,QAAQ,GACbjhB,KAAK6gB,aAAa;gBAClB;;eACF,KAAK;gBAK4B,MAA3B7gB,KAAK6gB,WAAWpY,UAClBzI,KAAKihB,SAEPjhB,KAAK6gB,aAAa;gBAClB;;eAGF,KAAK;gBAAO;kBACV,MAAMsB,IAAOlhB,OAAOihB,KAAkB,IAAI;kBAE1C,KAAKD,MAAAA,MAAcC,GACjB,MAAM,IAAIthB,MAAM;kBAGlB,IAA+B,MAA3BZ,KAAK6gB,WAAWpY,QAClBzI,KAAK6gB,aAAa,EAACsB,UACd;oBACL,IAAIzZ,IAAI1I,KAAK6gB,WAAWpY;oBACxB,QAASC,KAAK,KACsB,mBAAvB1I,KAAK6gB,WAAWnY,OACzB1I,KAAK6gB,WAAWnY,MAChBA,KAAK;oBAGT,KAAW,MAAPA,GAAU;sBAEZ,IAAIuZ,MAAejiB,KAAK6gB,WAAW5X,KAAK,eAAQiZ,GAC9C,MAAM,IAAIthB,MAAM;sBAElBZ,KAAK6gB,WAAWlY,KAAKwZ;AACvB;AACF;kBACA,IAAIF,GAAY;oBAGd,IAAIpB,IAAa,EAACoB,GAAYE;qBAAAA,MAC1BD,MACFrB,IAAa,EAACoB,MAE2C,MAAvDd,EAAmBnhB,KAAK6gB,WAAW,IAAIoB,KACrCG,MAAMpiB,KAAK6gB,WAAW,QACxB7gB,KAAK6gB,aAAaA,KAGpB7gB,KAAK6gB,aAAaA;AAEtB;kBACA;AACF;;eACA;gBACE,MAAM,IAAIjgB,MAAM,+BAA+BohB;;cAMnD,OAJAhiB,KAAKoH,MAAMpH,KAAK8b,UACZ9b,KAAKuhB,MAAM9Y,WACbzI,KAAKoH,OAAO,IAAIpH,KAAKuhB,MAAMtY,KAAK,SAE3BjJ;AACT;;UAGFJ,EAAOC,UAAUyb;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UC7SjB,MAAM/Y,IAAQ9B,EAAQ;UAKtBb,EAAOC,UAJO,CAACuW,GAAS7P;YACtB,MAAM8b,IAAI9f,EAAM6T,EAAQ6B,OAAO4E,QAAQ,UAAU,KAAKtW;YACtD,OAAO8b,IAAIA,EAAEjM,UAAU;AAAA;AAAI;QAAJ;UCHzB,MAAMkM,IAAK7hB,EAAQ,OACb8hB,IAAM9hB,EAAQ,IACdgW,IAAKhW,EAAQ,MACb+hB,IAAM/hB,EAAQ,OACdgiB,IAAKhiB,EAAQ,OACbiiB,IAAMjiB,EAAQ;UA8CpBb,EAAOC,UA5CK,CAAC+hB,GAAGe,GAAId,GAAG7G;YACrB,QAAQ2H;aACN,KAAK;cAOH,OANiB,mBAANf,MACTA,IAAIA,EAAExL,UAES,mBAANyL,MACTA,IAAIA,EAAEzL,UAEDwL,MAAMC;;aAEf,KAAK;cAOH,OANiB,mBAAND,MACTA,IAAIA,EAAExL,UAES,mBAANyL,MACTA,IAAIA,EAAEzL,UAEDwL,MAAMC;;aAEf,KAAK;aACL,KAAK;aACL,KAAK;cACH,OAAOS,EAAGV,GAAGC,GAAG7G;;aAElB,KAAK;cACH,OAAOuH,EAAIX,GAAGC,GAAG7G;;aAEnB,KAAK;cACH,OAAOvE,EAAGmL,GAAGC,GAAG7G;;aAElB,KAAK;cACH,OAAOwH,EAAIZ,GAAGC,GAAG7G;;aAEnB,KAAK;cACH,OAAOyH,EAAGb,GAAGC,GAAG7G;;aAElB,KAAK;cACH,OAAO0H,EAAId,GAAGC,GAAG7G;;aAEnB;cACE,MAAM,IAAI9Q,UAAU,qBAAqByY;;AAAAA;AAC7C;QAAA;UCjDF,MAAMrH,IAAS7a,EAAQ,MACjB8B,IAAQ9B,EAAQ,QACdob,QAAQ1U,GAAE,GAAEoH,KAAM9N,EAAQ;UAiDlCb,EAAOC,UA/CQ,CAACuW,GAAS7P;YACvB,IAAI6P,aAAmBkF,GACrB,OAAOlF;YAOT,IAJuB,mBAAZA,MACTA,IAAU1P,OAAO0P,KAGI,mBAAZA,GACT,OAAO;YAKT,IAAI5B,IAAQ;YACZ,KAHAjO,IAAUA,KAAW,CAAC,GAGTqc,KAEN;cASL,IAAIlJ;cACJ,OAAQA,IAAOvS,EAAGoH,EAAEsU,WAAWC,KAAK1M,SAC9B5B,KAASA,EAAMuO,QAAQvO,EAAM,GAAG/L,WAAW2N,EAAQ3N,WAElD+L,KACCkF,EAAKqJ,QAAQrJ,EAAK,GAAGjR,WAAW+L,EAAMuO,QAAQvO,EAAM,GAAG/L,WAC3D+L,IAAQkF;cAEVvS,EAAGoH,EAAEsU,WAAWG,YAAYtJ,EAAKqJ,QAAQrJ,EAAK,GAAGjR,SAASiR,EAAK,GAAGjR;cAGpEtB,EAAGoH,EAAEsU,WAAWG,aAAa;AAC/B,mBAtBExO,IAAQ4B,EAAQ5B,MAAMrN,EAAGoH,EAAE0U;YAwB7B,OAAc,SAAVzO,IACK,OAGFjS,EAAM,GAAGiS,EAAM,MAAMA,EAAM,MAAM,OAAOA,EAAM,MAAM,OAAOjO;AAAAA;AAAO;QAAA;UCjD3E,MAAM+U,IAAS7a,EAAQ;UAMvBb,EAAOC,UALc,CAAC+hB,GAAGC,GAAG7G;YAC1B,MAAMkI,IAAW,IAAI5H,EAAOsG,GAAG5G,IACzBmI,IAAW,IAAI7H,EAAOuG,GAAG7G;YAC/B,OAAOkI,EAAS1B,QAAQ2B,MAAaD,EAASpB,aAAaqB;AAAAA;AAAQ;QAAA;UCJrE,MAAM3B,IAAU/gB,EAAQ;UAExBb,EAAOC,UADc,CAAC+hB,GAAGC,MAAML,EAAQI,GAAGC,IAAAA;AAAG;QAAA,UAAAtT,GAAA;UCD7C,MAAM+M,IAAS7a,EAAQ;UAIvBb,EAAOC,UAHS,CAAC+hB,GAAGC,GAAG7G,MACrB,IAAIM,EAAOsG,GAAG5G,GAAOwG,QAAQ,IAAIlG,EAAOuG,GAAG7G;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCF7C,MAAMzY,IAAQ9B,EAAQ;UAgEtBb,EAAOC,UA9DM,CAAC0W,GAAUC;YACtB,MAAM4M,IAAK7gB,EAAMgU,GAAU,OAAK,IAC1B8M,IAAK9gB,EAAMiU,GAAU,OAAK,IAC1B8M,IAAaF,EAAG5B,QAAQ6B;YAE9B,IAAmB,MAAfC,GACF,OAAO;YAGT,MAAMC,IAAWD,IAAa,GACxBE,IAAcD,IAAWH,IAAKC,GAC9BI,IAAaF,IAAWF,IAAKD,GAC7BM,MAAeF,EAAY3C,WAAWpY;YAG5C,IAFoBgb,EAAW5C,WAAWpY,WAExBib,GAQhB,OAAKD,EAAWxC,SAAUwC,EAAWzC,QAMjCwC,EAAYvC,QAEP,UAGLuC,EAAYxC,QAEP,UAIF,UAhBE;YAoBX,MAAM2C,IAASD,IAAa,QAAQ;YAEpC,OAAIN,EAAGrC,UAAUsC,EAAGtC,QACX4C,IAAS,UAGdP,EAAGpC,UAAUqC,EAAGrC,QACX2C,IAAS,UAGdP,EAAGnC,UAAUoC,EAAGpC,QACX0C,IAAS,UAIX;AAAA;AAAA;QAAA;UC7DT,MAAMnC,IAAU/gB,EAAQ;UAExBb,EAAOC,UADI,CAAC+hB,GAAGC,GAAG7G,MAAmC,MAAzBwG,EAAQI,GAAGC,GAAG7G;AAAAA;QAAAA,KAAAA,CAAAA,GAAAA,GAAAA;UCD1C,MAAMwG,IAAU/gB,EAAQ;UAExBb,EAAOC,UADI,CAAC+hB,GAAGC,GAAG7G,MAAUwG,EAAQI,GAAGC,GAAG7G,KAAS;AAAA;QAAA;UCDnD,MAAMwG,IAAU/gB,EAAQ;UAExBb,EAAOC,UADK,CAAC+hB,GAAGC,GAAG7G,MAAUwG,EAAQI,GAAGC,GAAG7G,MAAU;AAAA;QAAA;UCDrD,MAAMM,IAAS7a,EAAQ;UAkBvBb,EAAOC,UAhBK,CAACuW,GAAS4L,GAASzb,GAAS0b,GAAYC;YACzB,mBAAd,MACTA,IAAiBD,GACjBA,IAAa1b,GACbA,SAAAA;YAGF;cACE,OAAO,IAAI+U,EACTlF,aAAmBkF,IAASlF,EAAQA,UAAUA,GAC9C7P,GACAwb,IAAIC,GAASC,GAAYC,GAAgB9L;AAG7C,cAFE,OAAOoF;cACP,OAAO;AACT;AAAA;AAAC;QAAD;UChBF,MAAMgG,IAAU/gB,EAAQ;UAExBb,EAAOC,UADI,CAAC+hB,GAAGC,GAAG7G,MAAUwG,EAAQI,GAAGC,GAAG7G,KAAS;AAAA;QAAA;UCDnD,MAAMwG,IAAU/gB,EAAQ;UAExBb,EAAOC,UADK,CAAC+hB,GAAGC,GAAG7G,MAAUwG,EAAQI,GAAGC,GAAG7G,MAAU;AAAA;QAAA;UCDrD,MAAMM,IAAS7a,EAAQ;UAEvBb,EAAOC,UADO,CAAC+hB,GAAG5G,MAAU,IAAIM,EAAOsG,GAAG5G,GAAO+F;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCDjD,MAAMzF,IAAS7a,EAAQ;UAEvBb,EAAOC,UADO,CAAC+hB,GAAG5G,MAAU,IAAIM,EAAOsG,GAAG5G,GAAOgG;AAAAA;QAAAA,GAAAA,CAAAA,GAAAA,GAAAA;UCDjD,MAAMQ,IAAU/gB,EAAQ;UAExBb,EAAOC,UADK,CAAC+hB,GAAGC,GAAG7G,MAAmC,MAAzBwG,EAAQI,GAAGC,GAAG7G;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCD3C,MAAMM,IAAS7a,EAAQ;UAevBb,EAAOC,UAdO,CAACuW,GAAS7P,GAASqd,KAAAA;YAC/B,IAAIxN,aAAmBkF,GACrB,OAAOlF;YAET;cACE,OAAO,IAAIkF,EAAOlF,GAAS7P;AAM7B,cALE,OAAOiV;cACP,KAAKoI,GACH,OAAO;cAET,MAAMpI;AACR;AAAA;AAAC;QAAD;UCZF,MAAMF,IAAS7a,EAAQ;UAEvBb,EAAOC,UADO,CAAC+hB,GAAG5G,MAAU,IAAIM,EAAOsG,GAAG5G,GAAOiG;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCDjD,MAAM1e,IAAQ9B,EAAQ;UAKtBb,EAAOC,UAJY,CAACuW,GAAS7P;YAC3B,MAAMsd,IAASthB,EAAM6T,GAAS7P;YAC9B,OAAQsd,KAAUA,EAAOhD,WAAWpY,SAAUob,EAAOhD,aAAa;AAAA;AAAI;QAAJ;UCHpE,MAAMW,IAAU/gB,EAAQ;UAExBb,EAAOC,UADU,CAAC+hB,GAAGC,GAAG7G,MAAUwG,EAAQK,GAAGD,GAAG5G;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCDhD,MAAM8G,IAAerhB,EAAQ;UAE7Bb,EAAOC,UADO,CAACikB,GAAM9I,MAAU8I,EAAKC,MAAK,CAACnC,GAAGC,MAAMC,EAAaD,GAAGD,GAAG5G;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCDtE,MAAMW,IAAQlb,EAAQ;UAStBb,EAAOC,UARW,CAACuW,GAASE,GAAO/P;YACjC;cACE+P,IAAQ,IAAIqF,EAAMrF,GAAO/P;AAG3B,cAFE,OAAOiV;cACP,QAAM;AACR;YACA,OAAOlF,EAAMiF,KAAKnF;AAAAA;AAAO;QAAA;UCP3B,MAAM0L,IAAerhB,EAAQ;UAE7Bb,EAAOC,UADM,CAACikB,GAAM9I,MAAU8I,EAAKC,MAAK,CAACnC,GAAGC,MAAMC,EAAaF,GAAGC,GAAG7G;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCDrE,MAAMzY,IAAQ9B,EAAQ;UAKtBb,EAAOC,UAJO,CAACuW,GAAS7P;YACtB,MAAMsT,IAAItX,EAAM6T,GAAS7P;YACzB,OAAOsT,IAAIA,EAAEzD,UAAU;AAAA;AAAI;QAAJ;UCFzB,MAAM4N,IAAavjB,EAAQ,OACrBwjB,IAAYxjB,EAAQ,OACpB6a,IAAS7a,EAAQ,MACjByjB,IAAczjB,EAAQ,OACtB8B,IAAQ9B,EAAQ,OAChByV,IAAQzV,EAAQ,OAChB0jB,IAAQ1jB,EAAQ,OAChBshB,IAAMthB,EAAQ,MACduX,IAAOvX,EAAQ,OACfsgB,IAAQtgB,EAAQ,MAChBugB,IAAQvgB,EAAQ,OAChBwgB,IAAQxgB,EAAQ,OAChBogB,IAAapgB,EAAQ,OACrB+gB,IAAU/gB,EAAQ,OAClB2jB,IAAW3jB,EAAQ,OACnB4jB,IAAe5jB,EAAQ,OACvBqhB,IAAerhB,EAAQ,OACvBsjB,IAAOtjB,EAAQ,OACf6jB,IAAQ7jB,EAAQ,OAChBgW,IAAKhW,EAAQ,MACbgiB,IAAKhiB,EAAQ,OACb6hB,IAAK7hB,EAAQ,OACb8hB,IAAM9hB,EAAQ,IACd+hB,IAAM/hB,EAAQ,OACdiiB,IAAMjiB,EAAQ,OACdgb,IAAMhb,EAAQ,OACd2L,IAAS3L,EAAQ,OACjBoa,IAAapa,EAAQ,OACrBkb,IAAQlb,EAAQ,OAChBkW,IAAYlW,EAAQ,OACpB8jB,IAAgB9jB,EAAQ,MACxB+jB,IAAgB/jB,EAAQ,OACxBgkB,IAAgBhkB,EAAQ,OACxBikB,IAAajkB,EAAQ,MACrB0V,IAAa1V,EAAQ,OACrBkkB,IAAUlkB,EAAQ,OAClBiW,IAAMjW,EAAQ,OACdmkB,IAAMnkB,EAAQ,OACdib,IAAajb,EAAQ,MACrBokB,IAAgBpkB,EAAQ,OACxBqkB,IAASrkB,EAAQ;UACvBb,EAAOC,UAAU;YACf0C,OAAAA;YACA2T,OAAAA;YACAiO,OAAAA;YACApC,KAAAA;YACA/J,MAAAA;YACA+I,OAAAA;YACAC,OAAAA;YACAC,OAAAA;YACAJ,YAAAA;YACAW,SAAAA;YACA4C,UAAAA;YACAC,cAAAA;YACAvC,cAAAA;YACAiC,MAAAA;YACAO,OAAAA;YACA7N,IAAAA;YACAgM,IAAAA;YACAH,IAAAA;YACAC,KAAAA;YACAC,KAAAA;YACAE,KAAAA;YACAjH,KAAAA;YACArP,QAAAA;YACAyO,YAAAA;YACAc,OAAAA;YACAhF,WAAAA;YACA4N,eAAAA;YACAC,eAAAA;YACAC,eAAAA;YACAC,YAAAA;YACAvO,YAAAA;YACAwO,SAAAA;YACAjO,KAAAA;YACAkO,KAAAA;YACAlJ,YAAAA;YACAmJ,eAAAA;YACAC,QAAAA;YACAxJ,QAAAA;YACAnU,IAAI6c,EAAW7c;YACf4d,KAAKf,EAAWe;YAChBC,QAAQhB,EAAWzV;YACnB0W,qBAAqBhB,EAAUgB;YAC/BC,eAAejB,EAAUiB;YACzB/D,oBAAoB+C,EAAY/C;YAChCgE,qBAAqBjB,EAAYiB;;AAAmB;QAAnBA,MAAAA;UCrFnC,MAGM7a,IAAmBrJ,OAAOqJ,oBACL;UAe3B1K,EAAOC,UAAU;YACfqhB,YAlBiB;YAmBjBkE,2BAdgC;YAehC9a,kBAAAA;YACA4a,eAdoB,EACpB,SACA,YACA,SACA,YACA,SACA,YACA;YAQAD,qBAxB0B;YAyB1B3I,yBAAyB;YACzBC,YAAY;;AAAA;QAAA;UAAA;UC5Bd,MAAMtB,IACe,mBAAZoK,KACPA,EAAQC,OACRD,EAAQC,IAAIC,cACZ,cAAchK,KAAK8J,EAAQC,IAAIC,cAC7B,IAAIC,MAASC,QAAQ7gB,MAAM,aAAa4gB,KACxC;UAEJ5lB,EAAOC,UAAUob;AAAAA;QAAAA,MAAAA;UCRjB,MAAMyK,IAAU,YACVvE,IAAqB,CAACS,GAAGC;YAC7B,MAAM8D,IAAOD,EAAQnK,KAAKqG,IACpBgE,IAAOF,EAAQnK,KAAKsG;YAO1B,OALI8D,KAAQC,MACVhE,KAAKA,GACLC,KAAKA,IAGAD,MAAMC,IAAI,IACZ8D,MAASC,KAAS,IAClBA,MAASD,IAAQ,IAClB/D,IAAIC,KAAK,IACT;AAAA;UAKNjiB,EAAOC,UAAU;YACfshB,oBAAAA;YACAgE,qBAJ0B,CAACvD,GAAGC,MAAMV,EAAmBU,GAAGD;;AAAAA;QAAAA,MAAAA;UChB5D,MAAMiE,IAAc1lB,OAAOuN,OAAO;YAAEsN,QAAM;cACpC8K,IAAY3lB,OAAOuN,OAAO,CAAE;UAYlC9N,EAAOC,UAXc0G,KACdA,IAIkB,mBAAZA,IACFsf,IAGFtf,IAPEuf;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCLX,OAAM,2BAAEV,KAA8B3kB,EAAQ,OACxCwa,IAAQxa,EAAQ,OAIhB0G,KAHNtH,IAAUD,EAAOC,UAAU,CAAC,GAGTsH,KAAK,IAClB0U,IAAShc,EAAQgc,SAAS,IAC1BkJ,IAAMllB,EAAQklB,MAAM,IACpBxW,IAAI1O,EAAQ0O,IAAI,CAAC;UACvB,IAAIwX,IAAI;UAER,MAAMC,IAAc,CAAC1f,GAAMjG,GAAO4lB;YAOhC,MAAMC,IAAO7lB,EACViU,MAAM,QAAQrL,KAAK,YACnBqL,MAAM,QAAQrL,KAAK,QAChB8Z,IAAQgD;YACd9K,EAAM3U,GAAMyc,GAAO1iB,IACnBkO,EAAEjI,KAAQyc,GACVgC,EAAIhC,KAAS1iB,GACb8G,EAAG4b,KAAS,IAAI1b,OAAOhH,GAAO4lB,IAAW,eACzCpK,EAAOkH,KAAS,IAAI1b,OAAO6e,GAAMD,IAAW;AAAME;UASpDH,EAAY,qBAAqB,gBACjCA,EAAY,0BAA0B,WAMtCA,EAAY,wBAAwB;UAKpCA,EAAY,eAAe,IAAIjB,EAAIxW,EAAE6X,0BACdrB,EAAIxW,EAAE6X,0BACNrB,EAAIxW,EAAE6X,wBAE7BJ,EAAY,oBAAoB,IAAIjB,EAAIxW,EAAE8X,+BACdtB,EAAIxW,EAAE8X,+BACNtB,EAAIxW,EAAE8X;UAKlCL,EAAY,wBAAwB,MAAMjB,EAAIxW,EAAE6X,sBAC5CrB,EAAIxW,EAAE+X,2BAEVN,EAAY,6BAA6B,MAAMjB,EAAIxW,EAAE8X,2BACjDtB,EAAIxW,EAAE+X;UAMVN,EAAY,cAAc,QAAQjB,EAAIxW,EAAEgY,8BAC/BxB,EAAIxW,EAAEgY,8BAEfP,EAAY,mBAAmB,SAASjB,EAAIxW,EAAEiY,mCACrCzB,EAAIxW,EAAEiY;UAKfR,EAAY,mBAAmB,kBAM/BA,EAAY,SAAS,UAAUjB,EAAIxW,EAAEkY,yBAC5B1B,EAAIxW,EAAEkY,yBAWfT,EAAY,aAAa,KAAKjB,EAAIxW,EAAEmY,eACjC3B,EAAIxW,EAAEoY,eACP5B,EAAIxW,EAAEqY;UAERZ,EAAY,QAAQ,IAAIjB,EAAIxW,EAAEsY,gBAK9Bb,EAAY,cAAc,WAAWjB,EAAIxW,EAAEuY,oBACxC/B,EAAIxW,EAAEwY,oBACPhC,EAAIxW,EAAEqY;UAERZ,EAAY,SAAS,IAAIjB,EAAIxW,EAAEyY,iBAE/BhB,EAAY,QAAQ,iBAKpBA,EAAY,yBAAyB,GAAGjB,EAAIxW,EAAE8X;UAC9CL,EAAY,oBAAoB,GAAGjB,EAAIxW,EAAE6X,+BAEzCJ,EAAY,eAAe,YAAYjB,EAAIxW,EAAE0Y,4BAChBlC,EAAIxW,EAAE0Y,4BACNlC,EAAIxW,EAAE0Y,wBACVlC,EAAIxW,EAAEoY,gBACV5B,EAAIxW,EAAEqY;UAG3BZ,EAAY,oBAAoB,YAAYjB,EAAIxW,EAAE2Y,iCAChBnC,EAAIxW,EAAE2Y,iCACNnC,EAAIxW,EAAE2Y,6BACVnC,EAAIxW,EAAEwY,qBACVhC,EAAIxW,EAAEqY;UAGhCZ,EAAY,UAAU,IAAIjB,EAAIxW,EAAE4Y,YAAYpC,EAAIxW,EAAE6Y,kBAClDpB,EAAY,eAAe,IAAIjB,EAAIxW,EAAE4Y,YAAYpC,EAAIxW,EAAE8Y,uBAIvDrB,EAAY,UAAU,oBACIZ,mBACIA,qBACAA;UAE9BY,EAAY,aAAajB,EAAIxW,EAAE0U,UAAQ,IAIvC+C,EAAY,aAAa,YAEzBA,EAAY,aAAa,SAASjB,EAAIxW,EAAE+Y,mBAAiB,IACzDznB,EAAQsd,mBAAmB;UAE3B6I,EAAY,SAAS,IAAIjB,EAAIxW,EAAE+Y,aAAavC,EAAIxW,EAAE6Y,kBAClDpB,EAAY,cAAc,IAAIjB,EAAIxW,EAAE+Y,aAAavC,EAAIxW,EAAE8Y,uBAIvDrB,EAAY,aAAa;UAEzBA,EAAY,aAAa,SAASjB,EAAIxW,EAAEgZ,mBAAiB,IACzD1nB,EAAQwd,mBAAmB,OAE3B2I,EAAY,SAAS,IAAIjB,EAAIxW,EAAEgZ,aAAaxC,EAAIxW,EAAE6Y;UAClDpB,EAAY,cAAc,IAAIjB,EAAIxW,EAAEgZ,aAAaxC,EAAIxW,EAAE8Y,uBAGvDrB,EAAY,mBAAmB,IAAIjB,EAAIxW,EAAE4Y,aAAapC,EAAIxW,EAAEyY;UAC5DhB,EAAY,cAAc,IAAIjB,EAAIxW,EAAE4Y,aAAapC,EAAIxW,EAAEsY,oBAIvDb,EAAY,kBAAkB,SAASjB,EAAIxW,EAAE4Y,aACrCpC,EAAIxW,EAAEyY,eAAejC,EAAIxW,EAAE6Y,kBAAgB;UACnDvnB,EAAQmd,wBAAwB,UAMhCgJ,EAAY,eAAe,SAASjB,EAAIxW,EAAE6Y,0BAEnBrC,EAAIxW,EAAE6Y,uBAG7BpB,EAAY,oBAAoB,SAASjB,EAAIxW,EAAE8Y,+BAEnBtC,EAAIxW,EAAE8Y;UAIlCrB,EAAY,QAAQ,oBAEpBA,EAAY,QAAQ,8BACpBA,EAAY,WAAW;AAAA;QAAA;UC/LvB,MAAMrB,IAAUlkB,EAAQ;UAExBb,EAAOC,UADK,CAACuW,GAASE,GAAO/P,MAAYoe,EAAQvO,GAASE,GAAO,KAAK/P;AAAAA;QAAAA,KAAAA,CAAAA,GAAAA,GAAAA;UCFtE,MAAMoV,IAAQlb,EAAQ;UAMtBb,EAAOC,UALY,CAAC2nB,GAAIC,GAAIlhB,OAC1BihB,IAAK,IAAI7L,EAAM6L,GAAIjhB,IACnBkhB,IAAK,IAAI9L,EAAM8L,GAAIlhB,IACZihB,EAAG9L,WAAW+L,GAAIlhB;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCJ3B,MAAMoe,IAAUlkB,EAAQ;UAGxBb,EAAOC,UADK,CAACuW,GAASE,GAAO/P,MAAYoe,EAAQvO,GAASE,GAAO,KAAK/P;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCFtE,MAAM+U,IAAS7a,EAAQ,MACjBkb,IAAQlb,EAAQ;UAuBtBb,EAAOC,UArBe,CAAC6nB,GAAUpR,GAAO/P;YACtC,IAAImS,IAAM,MACNiP,IAAQ,MACRC,IAAW;YACf;cACEA,IAAW,IAAIjM,EAAMrF,GAAO/P;AAG9B,cAFE,OAAOiV;cACP,OAAO;AACT;YAWA,OAVAkM,EAAS5Z,SAAS+L;cACZ+N,EAASrM,KAAK1B,OAEXnB,MAA6B,MAAtBiP,EAAMnG,QAAQ3H,OAExBnB,IAAMmB,GACN8N,IAAQ,IAAIrM,EAAO5C,GAAKnS;AAE3B,iBAEImS;AAAAA;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UCtBT,MAAM4C,IAAS7a,EAAQ,MACjBkb,IAAQlb,EAAQ;UAsBtBb,EAAOC,UArBe,CAAC6nB,GAAUpR,GAAO/P;YACtC,IAAIshB,IAAM,MACNC,IAAQ,MACRF,IAAW;YACf;cACEA,IAAW,IAAIjM,EAAMrF,GAAO/P;AAG9B,cAFE,OAAOiV;cACP,OAAO;AACT;YAWA,OAVAkM,EAAS5Z,SAAS+L;cACZ+N,EAASrM,KAAK1B,OAEXgO,KAA4B,MAArBC,EAAMtG,QAAQ3H,OAExBgO,IAAMhO,GACNiO,IAAQ,IAAIxM,EAAOuM,GAAKthB;AAE3B,iBAEIshB;AAAAA;AAAAA;QAAAA,KAAAA,CAAAA,GAAAA,GAAAA;UCrBT,MAAMvM,IAAS7a,EAAQ,MACjBkb,IAAQlb,EAAQ,OAChBgW,IAAKhW,EAAQ;UA0DnBb,EAAOC,UAxDY,CAACyW,GAAO0E;YACzB1E,IAAQ,IAAIqF,EAAMrF,GAAO0E;YAEzB,IAAI+M,IAAS,IAAIzM,EAAO;YACxB,IAAIhF,EAAMiF,KAAKwM,IACb,OAAOA;YAIT,IADAA,IAAS,IAAIzM,EAAO,YAChBhF,EAAMiF,KAAKwM,IACb,OAAOA;YAGTA,IAAS;YACT,KAAK,IAAIrf,IAAI,GAAGA,IAAI4N,EAAMrL,IAAIxC,UAAUC,GAAG;cACzC,MAAM+U,IAAcnH,EAAMrL,IAAIvC;cAE9B,IAAIsf,IAAS;cACbvK,EAAY3P,SAASma;gBAEnB,MAAMC,IAAU,IAAI5M,EAAO2M,EAAW/M,OAAO9E;gBAC7C,QAAQ6R,EAAW9M;iBACjB,KAAK;kBAC+B,MAA9B+M,EAAQrH,WAAWpY,SACrByf,EAAQjH,UAERiH,EAAQrH,WAAWlY,KAAK,IAE1Buf,EAAQ9gB,MAAM8gB,EAAQpM;;iBAExB,KAAK;iBACL,KAAK;kBACEkM,MAAUvR,EAAGyR,GAASF,OACzBA,IAASE;kBAEX;;iBACF,KAAK;iBACL,KAAK;kBAEH;;iBAEF;kBACE,MAAM,IAAItnB,MAAM,yBAAyBqnB,EAAW9M;;AACvD,oBAEC6M,KAAYD,MAAUtR,EAAGsR,GAAQC,OACnCD,IAASC;AAEb;YAEA,OAAID,KAAUzR,EAAMiF,KAAKwM,KAChBA,IAGF;AAAA;AAAI;QAAJ;UC1DT,MAAMzM,IAAS7a,EAAQ,MACjBoa,IAAapa,EAAQ,QACrB,KAAEma,KAAQC,GACVc,IAAQlb,EAAQ,OAChBkW,IAAYlW,EAAQ,OACpBgW,IAAKhW,EAAQ,MACbgiB,IAAKhiB,EAAQ,OACbiiB,IAAMjiB,EAAQ,OACd+hB,IAAM/hB,EAAQ;UAuEpBb,EAAOC,UArES,CAACuW,GAASE,GAAO6R,GAAM5hB;YAIrC,IAAI6hB,GAAMC,GAAOC,GAAMxN,GAAMyN;YAC7B,QAJAnS,IAAU,IAAIkF,EAAOlF,GAAS7P,IAC9B+P,IAAQ,IAAIqF,EAAMrF,GAAO/P,IAGjB4hB;aACN,KAAK;cACHC,IAAO3R,GACP4R,IAAQ3F,GACR4F,IAAO7F,GACP3H,IAAO,KACPyN,IAAQ;cACR;;aACF,KAAK;cACHH,IAAO3F,GACP4F,IAAQ7F,GACR8F,IAAO7R,GACPqE,IAAO,KACPyN,IAAQ;cACR;;aACF;cACE,MAAM,IAAIre,UAAU;;YAIxB,IAAIyM,EAAUP,GAASE,GAAO/P,IAC5B,QAAM;YAMR,KAAK,IAAImC,IAAI,GAAGA,IAAI4N,EAAMrL,IAAIxC,UAAUC,GAAG;cACzC,MAAM+U,IAAcnH,EAAMrL,IAAIvC;cAE9B,IAAI8f,IAAO,MACPC,IAAM;cAiBV,IAfAhL,EAAY3P,SAASma;gBACfA,EAAW/M,WAAWN,MACxBqN,IAAa,IAAIpN,EAAW,aAE9B2N,IAAOA,KAAQP,GACfQ,IAAMA,KAAOR,GACTG,EAAKH,EAAW/M,QAAQsN,EAAKtN,QAAQ3U,KACvCiiB,IAAOP,IACEK,EAAKL,EAAW/M,QAAQuN,EAAIvN,QAAQ3U,OAC7CkiB,IAAMR;AACP,mBAKCO,EAAKrN,aAAaL,KAAQ0N,EAAKrN,aAAaoN,GAC9C,QAAM;cAKR,MAAME,EAAItN,YAAYsN,EAAItN,aAAaL,MACnCuN,EAAMjS,GAASqS,EAAIvN,SACrB,QAAM;cACD,IAAIuN,EAAItN,aAAaoN,KAASD,EAAKlS,GAASqS,EAAIvN,SACrD,QAAM;AAEV;YACA,QAAM;AAAC;AAAA;QAAA,UAAA3M,GAAA;UCzET,MAAMoI,IAAYlW,EAAQ,OACpB+gB,IAAU/gB,EAAQ;UACxBb,EAAOC,UAAU,CAAC6nB,GAAUpR,GAAO/P;YACjC,MAAM0E,IAAM;YACZ,IAAIgR,IAAQ,MACR7D,IAAO;YACX,MAAMyB,IAAI6N,EAAS3D,MAAK,CAACnC,GAAGC,MAAML,EAAQI,GAAGC,GAAGtb;YAChD,KAAK,MAAM6P,KAAWyD,GACHlD,EAAUP,GAASE,GAAO/P,MAEzC6R,IAAOhC,GACF6F,MACHA,IAAQ7F,OAGNgC,KACFnN,EAAItC,KAAK,EAACsT,GAAO7D,MAEnBA,IAAO,MACP6D,IAAQ;YAGRA,KACFhR,EAAItC,KAAK,EAACsT,GAAO;YAGnB,MAAMyM,IAAS;YACf,KAAK,OAAOb,GAAKnP,MAAQzN,GACnB4c,MAAQnP,IACVgQ,EAAO/f,KAAKkf,KACFnP,KAAOmP,MAAQhO,EAAE,KAEjBnB,IAEDmP,MAAQhO,EAAE,KACnB6O,EAAO/f,KAAK,KAAK+P,OAEjBgQ,EAAO/f,KAAK,GAAGkf,OAASnP,OAJxBgQ,EAAO/f,KAAK,KAAKkf,OAFjBa,EAAO/f,KAAK;YAShB,MAAMggB,IAAaD,EAAOzf,KAAK,SACzB2f,IAAgC,mBAAdtS,EAAMlP,MAAmBkP,EAAMlP,MAAMV,OAAO4P;YACpE,OAAOqS,EAAWlgB,SAASmgB,EAASngB,SAASkgB,IAAarS;AAAAA;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UC7C5D,MAAMqF,IAAQlb,EAAQ,OAChBoa,IAAapa,EAAQ,QACrB,KAAEma,KAAQC,GACVlE,IAAYlW,EAAQ,OACpB+gB,IAAU/gB,EAAQ,OAkElBooB,IAA+B,EAAC,IAAIhO,EAAW,gBAC/CiO,IAAiB,EAAC,IAAIjO,EAAW,cAEjCkO,IAAe,CAACC,GAAKC,GAAK1iB;YAC9B,IAAIyiB,MAAQC,GACV,QAAM;YAGR,IAAmB,MAAfD,EAAIvgB,UAAgBugB,EAAI,GAAG9N,WAAWN,GAAK;cAC7C,IAAmB,MAAfqO,EAAIxgB,UAAgBwgB,EAAI,GAAG/N,WAAWN,GACxC,QAAM;cAENoO,IADSziB,EAAQqQ,oBACXiS,IAEAC;AAEV;YAEA,IAAmB,MAAfG,EAAIxgB,UAAgBwgB,EAAI,GAAG/N,WAAWN,GAAK;cAC7C,IAAIrU,EAAQqQ,mBACV,QAAM;cAENqS,IAAMH;AAEV;YAEA,MAAMI,IAAQ,IAAI/a;YAClB,IAAIsI,GAAIgM,GAeJ0G,GA6BAC,GAAQC,GACRC,GAAUC;YA5Cd,KAAK,MAAMvN,KAAKgN,GACK,QAAfhN,EAAEb,YAAmC,SAAfa,EAAEb,WAC1B1E,IAAK+S,EAAS/S,GAAIuF,GAAGzV,KACG,QAAfyV,EAAEb,YAAmC,SAAfa,EAAEb,WACjCsH,IAAKgH,EAAQhH,GAAIzG,GAAGzV,KAEpB2iB,EAAMQ,IAAI1N,EAAEd;YAIhB,IAAIgO,EAAM1d,OAAO,GACf,OAAO;YAIT,IAAIiL,KAAMgM,GAAI;cAEZ,IADA0G,IAAW3H,EAAQ/K,EAAGyE,QAAQuH,EAAGvH,QAAQ3U,IACrC4iB,IAAW,GACb,OAAO;cACF,IAAiB,MAAbA,MAAmC,SAAhB1S,EAAG0E,YAAqC,SAAhBsH,EAAGtH,WACvD,OAAO;AAEX;YAGA,KAAK,MAAMmH,KAAM4G,GAAO;cACtB,IAAIzS,MAAOE,EAAU2L,GAAI5b,OAAO+P,IAAKlQ,IACnC,OAAO;cAGT,IAAIkc,MAAO9L,EAAU2L,GAAI5b,OAAO+b,IAAKlc,IACnC,OAAO;cAGT,KAAK,MAAMyV,KAAKiN,GACd,KAAKtS,EAAU2L,GAAI5b,OAAOsV,IAAIzV,IAC5B,QAAM;cAIV,QAAM;AACR;YAMA,IAAIojB,OAAelH,KAChBlc,EAAQqQ,sBACT6L,EAAGvH,OAAO2F,WAAWpY,WAASga,EAAGvH,QAC/B0O,OAAenT,KAChBlQ,EAAQqQ,sBACTH,EAAGyE,OAAO2F,WAAWpY,WAASgO,EAAGyE;YAE/ByO,KAAmD,MAAnCA,EAAa9I,WAAWpY,UACxB,QAAhBga,EAAGtH,YAAmD,MAA/BwO,EAAa9I,WAAW,OACjD8I,KAAAA;YAGF,KAAK,MAAM3N,KAAKiN,GAAK;cAGnB,IAFAM,IAAWA,KAA2B,QAAfvN,EAAEb,YAAmC,SAAfa,EAAEb,UAC/CmO,IAAWA,KAA2B,QAAftN,EAAEb,YAAmC,SAAfa,EAAEb,UAC3C1E,GASF,IARImT,KACE5N,EAAEd,OAAO2F,cAAc7E,EAAEd,OAAO2F,WAAWpY,UAC3CuT,EAAEd,OAAO6F,UAAU6I,EAAa7I,SAChC/E,EAAEd,OAAO8F,UAAU4I,EAAa5I,SAChChF,EAAEd,OAAO+F,UAAU2I,EAAa3I,UAClC2I,KAAAA;cAGe,QAAf5N,EAAEb,YAAmC,SAAfa,EAAEb;gBAE1B,IADAiO,IAASI,EAAS/S,GAAIuF,GAAGzV,IACrB6iB,MAAWpN,KAAKoN,MAAW3S,GAC7B,QAAM;qBAEH,IAAoB,SAAhBA,EAAG0E,aAAsBxE,EAAUF,EAAGyE,QAAQxU,OAAOsV,IAAIzV,IAClE,QAAM;cAGV,IAAIkc,GASF,IARIkH,KACE3N,EAAEd,OAAO2F,cAAc7E,EAAEd,OAAO2F,WAAWpY,UAC3CuT,EAAEd,OAAO6F,UAAU4I,EAAa5I,SAChC/E,EAAEd,OAAO8F,UAAU2I,EAAa3I,SAChChF,EAAEd,OAAO+F,UAAU0I,EAAa1I,UAClC0I,KAAAA;cAGe,QAAf3N,EAAEb,YAAmC,SAAfa,EAAEb;gBAE1B,IADAkO,IAAQI,EAAQhH,GAAIzG,GAAGzV,IACnB8iB,MAAUrN,KAAKqN,MAAU5G,GAC3B,QAAM;qBAEH,IAAoB,SAAhBA,EAAGtH,aAAsBxE,EAAU8L,EAAGvH,QAAQxU,OAAOsV,IAAIzV,IAClE,QAAM;cAGV,KAAKyV,EAAEb,aAAasH,KAAMhM,MAAoB,MAAb0S,GAC/B,QAAM;AAEV;YAKA,SAAI1S,KAAM6S,MAAa7G,KAAmB,MAAb0G,KAIzB1G,KAAM8G,MAAa9S,KAAmB,MAAb0S,KAOzBS,KAAgBD;AAAAA,aAQhBH,IAAW,CAAC5H,GAAGC,GAAGtb;YACtB,KAAKqb,GACH,OAAOC;YAET,MAAM/G,IAAO0G,EAAQI,EAAE1G,QAAQ2G,EAAE3G,QAAQ3U;YACzC,OAAOuU,IAAO,IAAI8G,IACd9G,IAAO,KACQ,QAAf+G,EAAE1G,YAAmC,SAAfyG,EAAEzG,WADb0G,IAEXD;AAAAA,aAIA6H,IAAU,CAAC7H,GAAGC,GAAGtb;YACrB,KAAKqb,GACH,OAAOC;YAET,MAAM/G,IAAO0G,EAAQI,EAAE1G,QAAQ2G,EAAE3G,QAAQ3U;YACzC,OAAOuU,IAAO,IAAI8G,IACd9G,IAAO,KACQ,QAAf+G,EAAE1G,YAAmC,SAAfyG,EAAEzG,WADb0G,IAEXD;AAAAA;UAGNhiB,EAAOC,UA5MQ,CAACmpB,GAAKC,GAAK1iB,IAAU,CAAC;YACnC,IAAIyiB,MAAQC,GACV,QAAM;YAGRD,IAAM,IAAIrN,EAAMqN,GAAKziB,IACrB0iB,IAAM,IAAItN,EAAMsN,GAAK1iB;YACrB,IAAIsjB,KAAAA;YAEJC,GAAO,KAAK,MAAMC,KAAaf,EAAI/d,KAAK;cACtC,KAAK,MAAM+e,KAAaf,EAAIhe,KAAK;gBAC/B,MAAMgf,IAAQlB,EAAagB,GAAWC,GAAWzjB;gBAEjD,IADAsjB,IAAaA,KAAwB,SAAVI,GACvBA,GACF,SAASH;AAEb;cAKA,IAAID,GACF,QAAM;AAEV;YACA,QAAM;AAAC;AAAA;QAAA,SAAAtb,GAAA;UCnET,MAAMoN,IAAQlb,EAAQ;UAOtBb,EAAOC,UAJe,CAACyW,GAAO/P,MAC5B,IAAIoV,EAAMrF,GAAO/P,GAAS0E,IACvBpG,KAAIiW,KAAQA,EAAKjW,KAAImX,KAAKA,EAAE3b,QAAO4I,KAAK,KAAKgP,OAAO3D,MAAM;AAAA;QAAA;UCL/D,MAAMqH,IAAQlb,EAAQ;UAUtBb,EAAOC,UATY,CAACyW,GAAO/P;YACzB;cAGE,OAAO,IAAIoV,EAAMrF,GAAO/P,GAAS+P,SAAS;AAG5C,cAFE,OAAOkF;cACP,OAAO;AACT;AAAA;AAAC;QAAD;UAAA;UCPF5b,EAAOC,UAAU,SAAUgX;YACzBA,EAAQxQ,UAAUuH,OAAOC,YAAY;cACnC,KAAK,IAAIqK,IAASlY,KAAKyZ,MAAMvB,GAAQA,IAASA,EAAOwB,YAC7CxB,EAAO7X;AAEjB;AACF;AAAA;QAAA;UAAA;UCDA,SAASwW,EAASiN;YAChB,IAAIhkB,IAAOE;YASX,IARMF,aAAgB+W,MACpB/W,IAAO,IAAI+W,IAGb/W,EAAKqY,OAAO,MACZrY,EAAK2Z,OAAO,MACZ3Z,EAAK2I,SAAS,GAEVqb,KAAgC,qBAAjBA,EAAKhW,SACtBgW,EAAKhW,SAAQ,SAAUqM;cACrBra,EAAK6I,KAAKwR;AACX,sBACI,IAAI+P,UAAUzhB,SAAS,GAC5B,KAAK,IAAIC,IAAI,GAAG+R,IAAIyP,UAAUzhB,QAAQC,IAAI+R,GAAG/R,KAC3C5I,EAAK6I,KAAKuhB,UAAUxhB;YAIxB,OAAO5I;AACT;UAmVA,SAASqqB,EAAQrqB,GAAM4X,GAAMrX;YAC3B,IAAI+pB,IAAW1S,MAAS5X,EAAK2Z,OAC3B,IAAI4Q,EAAKhqB,GAAO,MAAMqX,GAAM5X,KAC5B,IAAIuqB,EAAKhqB,GAAOqX,GAAMA,EAAKgC,MAAM5Z;YAWnC,OATsB,SAAlBsqB,EAAS1Q,SACX5Z,EAAKqY,OAAOiS,IAEQ,SAAlBA,EAAShS,SACXtY,EAAK2Z,OAAO2Q,IAGdtqB,EAAK2I,UAEE2hB;AACT;UAEA,SAASzhB,EAAM7I,GAAMqa;YACnBra,EAAKqY,OAAO,IAAIkS,EAAKlQ,GAAMra,EAAKqY,MAAM,MAAMrY,IACvCA,EAAK2Z,SACR3Z,EAAK2Z,OAAO3Z,EAAKqY,OAEnBrY,EAAK2I;AACP;UAEA,SAAS2R,EAASta,GAAMqa;YACtBra,EAAK2Z,OAAO,IAAI4Q,EAAKlQ,GAAM,MAAMra,EAAK2Z,MAAM3Z,IACvCA,EAAKqY,SACRrY,EAAKqY,OAAOrY,EAAK2Z,OAEnB3Z,EAAK2I;AACP;UAEA,SAAS4hB,EAAMhqB,GAAO+X,GAAMsB,GAAMoK;YAChC,MAAM9jB,gBAAgBqqB,IACpB,OAAO,IAAIA,EAAKhqB,GAAO+X,GAAMsB,GAAMoK;YAGrC9jB,KAAK8jB,OAAOA,GACZ9jB,KAAKK,QAAQA,GAET+X,KACFA,EAAKsB,OAAO1Z,MACZA,KAAKoY,OAAOA,KAEZpY,KAAKoY,OAAO,MAGVsB,KACFA,EAAKtB,OAAOpY,MACZA,KAAK0Z,OAAOA,KAEZ1Z,KAAK0Z,OAAO;AAEhB;UAnaA9Z,EAAOC,UAAUgX,GAEjBA,EAAQwT,OAAOA,GACfxT,EAAQnK,SAASmK,GAyBjBA,EAAQxQ,UAAUiS,aAAa,SAAUZ;YACvC,IAAIA,EAAKoM,SAAS9jB,MAChB,MAAM,IAAIY,MAAM;YAGlB,IAAI8Y,IAAOhC,EAAKgC,MACZtB,IAAOV,EAAKU;YAsBhB,OApBIsB,MACFA,EAAKtB,OAAOA,IAGVA,MACFA,EAAKsB,OAAOA,IAGVhC,MAAS1X,KAAKyZ,SAChBzZ,KAAKyZ,OAAOC,IAEVhC,MAAS1X,KAAKmY,SAChBnY,KAAKmY,OAAOC,IAGdV,EAAKoM,KAAKrb;YACViP,EAAKgC,OAAO,MACZhC,EAAKU,OAAO,MACZV,EAAKoM,OAAO,MAELpK;AACT,aAEA7C,EAAQxQ,UAAUyR,cAAc,SAAUJ;YACxC,IAAIA,MAAS1X,KAAKyZ,MAAlB;cAII/B,EAAKoM,QACPpM,EAAKoM,KAAKxL,WAAWZ;cAGvB,IAAI+B,IAAOzZ,KAAKyZ;cAChB/B,EAAKoM,OAAO9jB,MACZ0X,EAAKgC,OAAOD,GACRA,MACFA,EAAKrB,OAAOV,IAGd1X,KAAKyZ,OAAO/B,GACP1X,KAAKmY,SACRnY,KAAKmY,OAAOT,IAEd1X,KAAKyI;AAjBL;AAkBF,aAEAoO,EAAQxQ,UAAUikB,WAAW,SAAU5S;YACrC,IAAIA,MAAS1X,KAAKmY,MAAlB;cAIIT,EAAKoM,QACPpM,EAAKoM,KAAKxL,WAAWZ;cAGvB,IAAIS,IAAOnY,KAAKmY;cAChBT,EAAKoM,OAAO9jB,MACZ0X,EAAKU,OAAOD,GACRA,MACFA,EAAKuB,OAAOhC,IAGd1X,KAAKmY,OAAOT,GACP1X,KAAKyZ,SACRzZ,KAAKyZ,OAAO/B,IAEd1X,KAAKyI;AAjBL;AAkBF,aAEAoO,EAAQxQ,UAAUsC,OAAO;YACvB,KAAK,IAAID,IAAI,GAAG+R,IAAIyP,UAAUzhB,QAAQC,IAAI+R,GAAG/R,KAC3CC,EAAK3I,MAAMkqB,UAAUxhB;YAEvB,OAAO1I,KAAKyI;AACd,aAEAoO,EAAQxQ,UAAU+T,UAAU;YAC1B,KAAK,IAAI1R,IAAI,GAAG+R,IAAIyP,UAAUzhB,QAAQC,IAAI+R,GAAG/R,KAC3C0R,EAAQpa,MAAMkqB,UAAUxhB;YAE1B,OAAO1I,KAAKyI;AACd,aAEAoO,EAAQxQ,UAAUiU,MAAM;YACtB,IAAKta,KAAKmY,MAAV;cAIA,IAAIoS,IAAMvqB,KAAKmY,KAAK9X;cAQpB,OAPAL,KAAKmY,OAAOnY,KAAKmY,KAAKC,MAClBpY,KAAKmY,OACPnY,KAAKmY,KAAKuB,OAAO,OAEjB1Z,KAAKyZ,OAAO,MAEdzZ,KAAKyI,UACE8hB;AAVP;AAWF,aAEA1T,EAAQxQ,UAAUmkB,QAAQ;YACxB,IAAKxqB,KAAKyZ,MAAV;cAIA,IAAI8Q,IAAMvqB,KAAKyZ,KAAKpZ;cAQpB,OAPAL,KAAKyZ,OAAOzZ,KAAKyZ,KAAKC,MAClB1Z,KAAKyZ,OACPzZ,KAAKyZ,KAAKrB,OAAO,OAEjBpY,KAAKmY,OAAO,MAEdnY,KAAKyI,UACE8hB;AAVP;AAWF,aAEA1T,EAAQxQ,UAAUyH,UAAU,SAAU7H,GAAIwS;YACxCA,IAAQA,KAASzY;YACjB,KAAK,IAAIkY,IAASlY,KAAKyZ,MAAM/Q,IAAI,GAAc,SAAXwP,GAAiBxP,KACnDzC,EAAGmD,KAAKqP,GAAOP,EAAO7X,OAAOqI,GAAG1I,OAChCkY,IAASA,EAAOwB;AAEpB,aAEA7C,EAAQxQ,UAAUokB,iBAAiB,SAAUxkB,GAAIwS;YAC/CA,IAAQA,KAASzY;YACjB,KAAK,IAAIkY,IAASlY,KAAKmY,MAAMzP,IAAI1I,KAAKyI,SAAS,GAAc,SAAXyP,GAAiBxP,KACjEzC,EAAGmD,KAAKqP,GAAOP,EAAO7X,OAAOqI,GAAG1I,OAChCkY,IAASA,EAAOE;AAEpB,aAEAvB,EAAQxQ,UAAUnC,MAAM,SAAUwmB;YAChC,KAAK,IAAIhiB,IAAI,GAAGwP,IAASlY,KAAKyZ,MAAiB,SAAXvB,KAAmBxP,IAAIgiB,GAAGhiB,KAE5DwP,IAASA,EAAOwB;YAElB,IAAIhR,MAAMgiB,KAAgB,SAAXxS,GACb,OAAOA,EAAO7X;AAElB,aAEAwW,EAAQxQ,UAAUskB,aAAa,SAAUD;YACvC,KAAK,IAAIhiB,IAAI,GAAGwP,IAASlY,KAAKmY,MAAiB,SAAXD,KAAmBxP,IAAIgiB,GAAGhiB,KAE5DwP,IAASA,EAAOE;YAElB,IAAI1P,MAAMgiB,KAAgB,SAAXxS,GACb,OAAOA,EAAO7X;AAElB,aAEAwW,EAAQxQ,UAAUxB,MAAM,SAAUoB,GAAIwS;YACpCA,IAAQA,KAASzY;YAEjB,KADA,IAAIuqB,IAAM,IAAI1T,GACLqB,IAASlY,KAAKyZ,MAAiB,SAAXvB,KAC3BqS,EAAI5hB,KAAK1C,EAAGmD,KAAKqP,GAAOP,EAAO7X,OAAOL,QACtCkY,IAASA,EAAOwB;YAElB,OAAO6Q;AACT,aAEA1T,EAAQxQ,UAAUukB,aAAa,SAAU3kB,GAAIwS;YAC3CA,IAAQA,KAASzY;YAEjB,KADA,IAAIuqB,IAAM,IAAI1T,GACLqB,IAASlY,KAAKmY,MAAiB,SAAXD,KAC3BqS,EAAI5hB,KAAK1C,EAAGmD,KAAKqP,GAAOP,EAAO7X,OAAOL,QACtCkY,IAASA,EAAOE;YAElB,OAAOmS;AACT,aAEA1T,EAAQxQ,UAAUjB,SAAS,SAAUa,GAAI4kB;YACvC,IAAIxlB,GACA6S,IAASlY,KAAKyZ;YAClB,IAAIyQ,UAAUzhB,SAAS,GACrBpD,IAAMwlB,QACD;cAAA,KAAI7qB,KAAKyZ,MAId,MAAM,IAAIvP,UAAU;cAHpBgO,IAASlY,KAAKyZ,KAAKC,MACnBrU,IAAMrF,KAAKyZ,KAAKpZ;AAGlB;YAEA,KAAK,IAAIqI,IAAI,GAAc,SAAXwP,GAAiBxP,KAC/BrD,IAAMY,EAAGZ,GAAK6S,EAAO7X,OAAOqI,IAC5BwP,IAASA,EAAOwB;YAGlB,OAAOrU;AACT,aAEAwR,EAAQxQ,UAAUykB,gBAAgB,SAAU7kB,GAAI4kB;YAC9C,IAAIxlB,GACA6S,IAASlY,KAAKmY;YAClB,IAAI+R,UAAUzhB,SAAS,GACrBpD,IAAMwlB,QACD;cAAA,KAAI7qB,KAAKmY,MAId,MAAM,IAAIjO,UAAU;cAHpBgO,IAASlY,KAAKmY,KAAKC,MACnB/S,IAAMrF,KAAKmY,KAAK9X;AAGlB;YAEA,KAAK,IAAIqI,IAAI1I,KAAKyI,SAAS,GAAc,SAAXyP,GAAiBxP,KAC7CrD,IAAMY,EAAGZ,GAAK6S,EAAO7X,OAAOqI,IAC5BwP,IAASA,EAAOE;YAGlB,OAAO/S;AACT,aAEAwR,EAAQxQ,UAAUsT,UAAU;YAE1B,KADA,IAAIa,IAAM,IAAI5W,MAAM5D,KAAKyI,SAChBC,IAAI,GAAGwP,IAASlY,KAAKyZ,MAAiB,SAAXvB,GAAiBxP,KACnD8R,EAAI9R,KAAKwP,EAAO7X,OAChB6X,IAASA,EAAOwB;YAElB,OAAOc;AACT,aAEA3D,EAAQxQ,UAAU0kB,iBAAiB;YAEjC,KADA,IAAIvQ,IAAM,IAAI5W,MAAM5D,KAAKyI,SAChBC,IAAI,GAAGwP,IAASlY,KAAKmY,MAAiB,SAAXD,GAAiBxP,KACnD8R,EAAI9R,KAAKwP,EAAO7X,OAChB6X,IAASA,EAAOE;YAElB,OAAOoC;AACT,aAEA3D,EAAQxQ,UAAUO,QAAQ,SAAUqZ,GAAMM;aACxCA,IAAKA,KAAMvgB,KAAKyI,UACP,MACP8X,KAAMvgB,KAAKyI,UAEbwX,IAAOA,KAAQ,KACJ,MACTA,KAAQjgB,KAAKyI;YAEf,IAAIsW,IAAM,IAAIlI;YACd,IAAI0J,IAAKN,KAAQM,IAAK,GACpB,OAAOxB;YAELkB,IAAO,MACTA,IAAO,IAELM,IAAKvgB,KAAKyI,WACZ8X,IAAKvgB,KAAKyI;YAEZ,KAAK,IAAIC,IAAI,GAAGwP,IAASlY,KAAKyZ,MAAiB,SAAXvB,KAAmBxP,IAAIuX,GAAMvX,KAC/DwP,IAASA,EAAOwB;YAElB,MAAkB,SAAXxB,KAAmBxP,IAAI6X,GAAI7X,KAAKwP,IAASA,EAAOwB,MACrDqF,EAAIpW,KAAKuP,EAAO7X;YAElB,OAAO0e;AACT,aAEAlI,EAAQxQ,UAAU2kB,eAAe,SAAU/K,GAAMM;aAC/CA,IAAKA,KAAMvgB,KAAKyI,UACP,MACP8X,KAAMvgB,KAAKyI,UAEbwX,IAAOA,KAAQ,KACJ,MACTA,KAAQjgB,KAAKyI;YAEf,IAAIsW,IAAM,IAAIlI;YACd,IAAI0J,IAAKN,KAAQM,IAAK,GACpB,OAAOxB;YAELkB,IAAO,MACTA,IAAO,IAELM,IAAKvgB,KAAKyI,WACZ8X,IAAKvgB,KAAKyI;YAEZ,KAAK,IAAIC,IAAI1I,KAAKyI,QAAQyP,IAASlY,KAAKmY,MAAiB,SAAXD,KAAmBxP,IAAI6X,GAAI7X,KACvEwP,IAASA,EAAOE;YAElB,MAAkB,SAAXF,KAAmBxP,IAAIuX,GAAMvX,KAAKwP,IAASA,EAAOE,MACvD2G,EAAIpW,KAAKuP,EAAO7X;YAElB,OAAO0e;AACT,aAEAlI,EAAQxQ,UAAU4kB,SAAS,SAAUC,GAAOC,MAAgBC;YACtDF,IAAQlrB,KAAKyI,WACfyiB,IAAQlrB,KAAKyI,SAAS,IAEpByiB,IAAQ,MACVA,IAAQlrB,KAAKyI,SAASyiB;YAGxB,KAAK,IAAIxiB,IAAI,GAAGwP,IAASlY,KAAKyZ,MAAiB,SAAXvB,KAAmBxP,IAAIwiB,GAAOxiB,KAChEwP,IAASA,EAAOwB;YAGlB,IAAIqF,IAAM;YACV,KAASrW,IAAI,GAAGwP,KAAUxP,IAAIyiB,GAAaziB,KACzCqW,EAAIpW,KAAKuP,EAAO7X,QAChB6X,IAASlY,KAAKsY,WAAWJ;YAU3B,KARe,SAAXA,MACFA,IAASlY,KAAKmY,OAGZD,MAAWlY,KAAKyZ,QAAQvB,MAAWlY,KAAKmY,SAC1CD,IAASA,EAAOE,OAGT1P,IAAI,GAAGA,IAAI0iB,EAAM3iB,QAAQC,KAChCwP,IAASiS,EAAOnqB,MAAMkY,GAAQkT,EAAM1iB;YAEtC,OAAOqW;AACT,aAEAlI,EAAQxQ,UAAUwE,UAAU;YAG1B,KAFA,IAAI4O,IAAOzZ,KAAKyZ,MACZtB,IAAOnY,KAAKmY,MACPD,IAASuB,GAAiB,SAAXvB,GAAiBA,IAASA,EAAOE,MAAM;cAC7D,IAAI5I,IAAI0I,EAAOE;cACfF,EAAOE,OAAOF,EAAOwB,MACrBxB,EAAOwB,OAAOlK;AAChB;YAGA,OAFAxP,KAAKyZ,OAAOtB,GACZnY,KAAKmY,OAAOsB,GACLzZ;AACT;UA0DA;YAEES,EAAQ,KAARA,CAAyBoW;AACb,YAAZ,OAAO2E,IAAK;AAAA;QAAA;UAAA;UCrad,OAAM,iBAAE6P,GAAe,aAAEC,KACL,sBAATxrB,OAAuBA,OACZ,sBAAXyrB,SAAyBA,cAAAA;UAIpC3rB,EAAOC,UAAUwrB,GACjBzrB,EAAOC,QAAQyrB,cAAcA,GAC7B1rB,EAAOC,QAAP,UAAyBwrB;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA;UAAAA;UCVzBxrB,EAAQ4K,aAuCR,SAAqB+gB;YACnB,IAAIC,IAAOC,EAAQF,IACfG,IAAWF,EAAK,IAChBG,IAAkBH,EAAK;YAC3B,OAAuC,KAA9BE,IAAWC,KAAuB,IAAKA;AAClD,aA3CA/rB,EAAQgsB,cAiDR,SAAsBL;YACpB,IAAIM,GAcApjB,GAbA+iB,IAAOC,EAAQF,IACfG,IAAWF,EAAK,IAChBG,IAAkBH,EAAK,IAEvBjR,IAAM,IAAIuR,EAVhB,SAAsBP,GAAKG,GAAUC;cACnC,OAAuC,KAA9BD,IAAWC,KAAuB,IAAKA;AAClD,aAFA,CAUgCJ,GAAKG,GAAUC,KAEzCI,IAAU,GAGV9R,IAAM0R,IAAkB,IACxBD,IAAW,IACXA;YAGJ,KAAKjjB,IAAI,GAAGA,IAAIwR,GAAKxR,KAAK,GACxBojB,IACGG,EAAUT,EAAI9hB,WAAWhB,OAAO,KAChCujB,EAAUT,EAAI9hB,WAAWhB,IAAI,OAAO,KACpCujB,EAAUT,EAAI9hB,WAAWhB,IAAI,OAAO,IACrCujB,EAAUT,EAAI9hB,WAAWhB,IAAI;YAC/B8R,EAAIwR,OAAcF,KAAO,KAAM,KAC/BtR,EAAIwR,OAAcF,KAAO,IAAK,KAC9BtR,EAAIwR,OAAmB,MAANF;YAmBnB,OAhBwB,MAApBF,MACFE,IACGG,EAAUT,EAAI9hB,WAAWhB,OAAO,IAChCujB,EAAUT,EAAI9hB,WAAWhB,IAAI,OAAO,GACvC8R,EAAIwR,OAAmB,MAANF,IAGK,MAApBF,MACFE,IACGG,EAAUT,EAAI9hB,WAAWhB,OAAO,KAChCujB,EAAUT,EAAI9hB,WAAWhB,IAAI,OAAO,IACpCujB,EAAUT,EAAI9hB,WAAWhB,IAAI,OAAO;YACvC8R,EAAIwR,OAAcF,KAAO,IAAK,KAC9BtR,EAAIwR,OAAmB,MAANF,IAGZtR;AACT,aA5FA3a,EAAQqsB,gBAkHR,SAAwBC;YAQtB,KAPA,IAAIL,GACA5R,IAAMiS,EAAM1jB,QACZ2jB,IAAalS,IAAM,GACnBmS,IAAQ,IACRC,IAAiB,OAGZ5jB,IAAI,GAAG6jB,IAAOrS,IAAMkS,GAAY1jB,IAAI6jB,GAAM7jB,KAAK4jB,GACtDD,EAAM1jB,KAAK6jB,EAAYL,GAAOzjB,GAAIA,IAAI4jB,IAAkBC,IAAOA,IAAQ7jB,IAAI4jB;YAqB7E,OAjBmB,MAAfF,KACFN,IAAMK,EAAMjS,IAAM,IAClBmS,EAAM1jB,KACJ8jB,EAAOX,KAAO,KACdW,EAAQX,KAAO,IAAK,MACpB,SAEsB,MAAfM,MACTN,KAAOK,EAAMjS,IAAM,MAAM,KAAKiS,EAAMjS,IAAM;YAC1CmS,EAAM1jB,KACJ8jB,EAAOX,KAAO,MACdW,EAAQX,KAAO,IAAK,MACpBW,EAAQX,KAAO,IAAK,MACpB,OAIGO,EAAMpjB,KAAK;AACpB;UA1IA,KALA,IAAIwjB,IAAS,IACTR,IAAY,IACZF,IAA4B,sBAAfljB,aAA6BA,aAAajF,OAEvD9C,IAAO,oEACF4H,IAAI,GAAsBA,IAAb5H,MAAwB4H,GAC5C+jB,EAAO/jB,KAAK5H,EAAK4H;UACjBujB,EAAUnrB,EAAK4I,WAAWhB,MAAMA;UAQlC,SAASgjB,EAASF;YAChB,IAAItR,IAAMsR,EAAI/iB;YAEd,IAAIyR,IAAM,IAAI,GACZ,MAAM,IAAItZ,MAAM;YAKlB,IAAI+qB,IAAWH,EAAIkB,QAAQ;YAO3B,QANkB,MAAdf,MAAiBA,IAAWzR,IAMzB,EAACyR,GAJcA,MAAazR,IAC/B,IACA,IAAKyR,IAAW;AAGtB;UAmEA,SAASa,EAAaL,GAAOjB,GAAOyB;YAGlC,KAFA,IAAIb,GARoBxK,GASpBsL,IAAS,IACJlkB,IAAIwiB,GAAOxiB,IAAIikB,GAAKjkB,KAAK,GAChCojB,KACIK,EAAMzjB,MAAM,KAAM,aAClByjB,EAAMzjB,IAAI,MAAM,IAAK,UACP,MAAfyjB,EAAMzjB,IAAI,KACbkkB,EAAOjkB,KAdF8jB,GADiBnL,IAeMwK,MAdT,KAAK,MACxBW,EAAOnL,KAAO,KAAK,MACnBmL,EAAOnL,KAAO,IAAI,MAClBmL,EAAa,KAANnL;YAaT,OAAOsL,EAAO3jB,KAAK;AACrB;UAlGAgjB,EAAU,IAAIviB,WAAW,MAAM,IAC/BuiB,EAAU,IAAIviB,WAAW,MAAM;AAAA;QAAA;UAAA;UCT/B,MAAM5C,IAASrG,EAAQ,OACjBosB,IAAUpsB,EAAQ,MAClBqsB,IACe,qBAAXlf,UAAkD,qBAAlBA,OAAY,MAChDA,OAAY,IAAE,gCACd;UAEN/N,EAAQqL,SAASA,GACjBrL,EAAQktB,aAyTR,SAAqBtkB;YAInB,QAHKA,KAAUA,MACbA,IAAS,IAEJyC,EAAO8hB,OAAOvkB;AACvB,aA7TA5I,EAAQotB,oBAAoB;UAE5B,MAAMC,IAAe;UAwDrB,SAASC,EAAc1kB;YACrB,IAAIA,IAASykB,GACX,MAAM,IAAI9a,WAAW,gBAAgB3J,IAAS;YAGhD,MAAM2kB,IAAM,IAAIvkB,WAAWJ;YAE3B,OADAtI,OAAOktB,eAAeD,GAAKliB,EAAO7E,YAC3B+mB;AACT;UAYA,SAASliB,EAAQ1H,GAAK8pB,GAAkB7kB;YAEtC,IAAmB,mBAARjF,GAAkB;cAC3B,IAAgC,mBAArB8pB,GACT,MAAM,IAAIpjB,UACR;cAGJ,OAAOqjB,EAAY/pB;AACrB;YACA,OAAOyc,EAAKzc,GAAK8pB,GAAkB7kB;AACrC;UAIA,SAASwX,EAAM5f,GAAOitB,GAAkB7kB;YACtC,IAAqB,mBAAVpI,GACT,OAqHJ,SAAqBoL,GAAQ+hB;cAK3B,IAJwB,mBAAbA,KAAsC,OAAbA,MAClCA,IAAW,UAGRtiB,EAAOuiB,WAAWD,IACrB,MAAM,IAAItjB,UAAU,uBAAuBsjB;cAG7C,MAAM/kB,IAAwC,IAA/BgC,EAAWgB,GAAQ+hB;cAClC,IAAIJ,IAAMD,EAAa1kB;cAEvB,MAAMilB,IAASN,EAAIO,MAAMliB,GAAQ+hB;cASjC,OAPIE,MAAWjlB,MAIb2kB,IAAMA,EAAIxmB,MAAM,GAAG8mB,KAGdN;AACT,aAtBA,CArHsB/sB,GAAOitB;YAG3B,IAAIM,YAAYC,OAAOxtB,IACrB,OAkJJ,SAAwBytB;cACtB,IAAIC,EAAWD,GAAWjlB,aAAa;gBACrC,MAAMmlB,IAAO,IAAInlB,WAAWilB;gBAC5B,OAAOG,EAAgBD,EAAK7iB,QAAQ6iB,EAAK5iB,YAAY4iB,EAAKvjB;AAC5D;cACA,OAAOyjB,EAAcJ;AACvB,aANA,CAlJyBztB;YAGvB,IAAa,QAATA,GACF,MAAM,IAAI6J,UACR,2HACiD7J;YAIrD,IAAI0tB,EAAW1tB,GAAOutB,gBACjBvtB,KAAS0tB,EAAW1tB,EAAM8K,QAAQyiB,cACrC,OAAOK,EAAgB5tB,GAAOitB,GAAkB7kB;YAGlD,IAAiC,sBAAtB0lB,sBACNJ,EAAW1tB,GAAO8tB,sBAClB9tB,KAAS0tB,EAAW1tB,EAAM8K,QAAQgjB,qBACrC,OAAOF,EAAgB5tB,GAAOitB,GAAkB7kB;YAGlD,IAAqB,mBAAVpI,GACT,MAAM,IAAI6J,UACR;YAIJ,MAAMkkB,IAAU/tB,EAAM+tB,WAAW/tB,EAAM+tB;YACvC,IAAe,QAAXA,KAAmBA,MAAY/tB,GACjC,OAAO6K,EAAO+U,KAAKmO,GAASd,GAAkB7kB;YAGhD,MAAMoZ,IAkJR,SAAqBwM;cACnB,IAAInjB,EAAOojB,SAASD,IAAM;gBACxB,MAAMnU,IAA4B,IAAtBqU,EAAQF,EAAI5lB,SAClB2kB,IAAMD,EAAajT;gBAEzB,OAAmB,MAAfkT,EAAI3kB,UAIR4lB,EAAIL,KAAKZ,GAAK,GAAG,GAAGlT,IAHXkT;AAKX;cAEA,kBAAIiB,EAAI5lB,SACoB,mBAAf4lB,EAAI5lB,UAAuB+lB,EAAYH,EAAI5lB,UAC7C0kB,EAAa,KAEfe,EAAcG,KAGN,aAAbA,EAAII,QAAqB7qB,MAAMC,QAAQwqB,EAAIrtB,QACtCktB,EAAcG,EAAIrtB,aAAAA;AAE7B,aAvBA,CAlJuBX;YACrB,IAAIwhB,GAAG,OAAOA;YAEd,IAAsB,sBAAXjU,UAAgD,QAAtBA,OAAO8gB,eACH,qBAA9BruB,EAAMuN,OAAO8gB,cACtB,OAAOxjB,EAAO+U,KAAK5f,EAAMuN,OAAO8gB,aAAa,WAAWpB,GAAkB7kB;YAG5E,MAAM,IAAIyB,UACR,2HACiD7J;AAErD;UAmBA,SAASsuB,EAAYnjB;YACnB,IAAoB,mBAATA,GACT,MAAM,IAAItB,UAAU;YACf,IAAIsB,IAAO,GAChB,MAAM,IAAI4G,WAAW,gBAAgB5G,IAAO;AAEhD;UA0BA,SAAS+hB,EAAa/hB;YAEpB,OADAmjB,EAAWnjB,IACJ2hB,EAAa3hB,IAAO,IAAI,IAAoB,IAAhB+iB,EAAQ/iB;AAC7C;UAuCA,SAAS0iB,EAAezc;YACtB,MAAMhJ,IAASgJ,EAAMhJ,SAAS,IAAI,IAA4B,IAAxB8lB,EAAQ9c,EAAMhJ,SAC9C2kB,IAAMD,EAAa1kB;YACzB,KAAK,IAAIC,IAAI,GAAGA,IAAID,GAAQC,KAAK,GAC/B0kB,EAAI1kB,KAAgB,MAAX+I,EAAM/I;YAEjB,OAAO0kB;AACT;UAUA,SAASa,EAAiBxc,GAAOrG,GAAY3C;YAC3C,IAAI2C,IAAa,KAAKqG,EAAMhH,aAAaW,GACvC,MAAM,IAAIgH,WAAW;YAGvB,IAAIX,EAAMhH,aAAaW,KAAc3C,KAAU,IAC7C,MAAM,IAAI2J,WAAW;YAGvB,IAAIgb;YAYJ,OAVEA,SAAAA,MADEhiB,UAAAA,MAA4B3C,IACxB,IAAII,WAAW4I,UAAAA,MACZhJ,IACH,IAAII,WAAW4I,GAAOrG,KAEtB,IAAIvC,WAAW4I,GAAOrG,GAAY3C;YAI1CtI,OAAOktB,eAAeD,GAAKliB,EAAO7E,YAE3B+mB;AACT;UA2BA,SAASmB,EAAS9lB;YAGhB,IAAIA,KAAUykB,GACZ,MAAM,IAAI9a,WAAW,4DACa8a,EAAaxrB,SAAS,MAAM;YAEhE,OAAgB,IAAT+G;AACT;UAsGA,SAASgC,EAAYgB,GAAQ+hB;YAC3B,IAAItiB,EAAOojB,SAAS7iB,IAClB,OAAOA,EAAOhD;YAEhB,IAAImlB,YAAYC,OAAOpiB,MAAWsiB,EAAWtiB,GAAQmiB,cACnD,OAAOniB,EAAOhB;YAEhB,IAAsB,mBAAXgB,GACT,MAAM,IAAIvB,UACR,oGAC0BuB;YAI9B,MAAMyO,IAAMzO,EAAOhD,QACbmmB,IAAa1E,UAAUzhB,SAAS,YAAKyhB,UAAU;YACrD,KAAK0E,KAAqB,MAAR1U,GAAW,OAAO;YAGpC,IAAI2U,KAAAA;YACJ,SACE,QAAQrB;aACN,KAAK;aACL,KAAK;aACL,KAAK;cACH,OAAOtT;;aACT,KAAK;aACL,KAAK;cACH,OAAO4U,EAAYrjB,GAAQhD;;aAC7B,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;cACH,OAAa,IAANyR;;aACT,KAAK;cACH,OAAOA,MAAQ;;aACjB,KAAK;cACH,OAAO6U,EAActjB,GAAQhD;;aAC/B;cACE,IAAIomB,GACF,OAAOD,KAAa,IAAIE,EAAYrjB,GAAQhD;cAE9C+kB,KAAY,KAAKA,GAAUrkB,eAC3B0lB,KAAAA;;AAGR;UAGA,SAASG,EAAcxB,GAAUtC,GAAOyB;YACtC,IAAIkC,KAAAA;YAcJ,gBALI3D,KAAuBA,IAAQ,OACjCA,IAAQ,IAINA,IAAQlrB,KAAKyI,QACf,OAAO;YAOT,gBAJIkkB,KAAqBA,IAAM3sB,KAAKyI,YAClCkkB,IAAM3sB,KAAKyI,SAGTkkB,KAAO,GACT,OAAO;YAOT,KAHAA,OAAS,OACTzB,OAAW,IAGT,OAAO;YAKT,KAFKsC,MAAUA,IAAW,YAGxB,QAAQA;aACN,KAAK;cACH,OAAOyB,EAASjvB,MAAMkrB,GAAOyB;;aAE/B,KAAK;aACL,KAAK;cACH,OAAOuC,EAAUlvB,MAAMkrB,GAAOyB;;aAEhC,KAAK;cACH,OAAOwC,EAAWnvB,MAAMkrB,GAAOyB;;aAEjC,KAAK;aACL,KAAK;cACH,OAAOyC,EAAYpvB,MAAMkrB,GAAOyB;;aAElC,KAAK;cACH,OAAO0C,EAAYrvB,MAAMkrB,GAAOyB;;aAElC,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;cACH,OAAO2C,EAAatvB,MAAMkrB,GAAOyB;;aAEnC;cACE,IAAIkC,GAAa,MAAM,IAAI3kB,UAAU,uBAAuBsjB;cAC5DA,KAAYA,IAAW,IAAIrkB,eAC3B0lB,KAAAA;;AAGR;UAUA,SAASU,EAAM1N,GAAG6I,GAAG1b;YACnB,MAAMtG,IAAImZ,EAAE6I;YACZ7I,EAAE6I,KAAK7I,EAAE7S,IACT6S,EAAE7S,KAAKtG;AACT;UA2IA,SAAS8mB,EAAsBrkB,GAAQskB,GAAKrkB,GAAYoiB,GAAUkC;YAEhE,IAAsB,MAAlBvkB,EAAO1C,QAAc,QAAQ;YAmBjC,IAhB0B,mBAAf2C,KACToiB,IAAWpiB,GACXA,IAAa,KACJA,IAAa,aACtBA,IAAa,aACJA,KAAc,eACvBA,KAAc,aAGZojB,EADJpjB,KAAcA,OAGZA,IAAaskB,IAAM,IAAKvkB,EAAO1C,SAAS;YAItC2C,IAAa,MAAGA,IAAaD,EAAO1C,SAAS2C,IAC7CA,KAAcD,EAAO1C,QAAQ;cAC/B,IAAIinB,GAAK,QAAQ;cACZtkB,IAAaD,EAAO1C,SAAS;AACpC,mBAAO,IAAI2C,IAAa,GAAG;cACzB,KAAIskB,GACC,QAAQ;cADJtkB,IAAa;AAExB;YAQA,IALmB,mBAARqkB,MACTA,IAAMvkB,EAAO+U,KAAKwP,GAAKjC,KAIrBtiB,EAAOojB,SAASmB,IAElB,OAAmB,MAAfA,EAAIhnB,UACE,IAEHknB,EAAaxkB,GAAQskB,GAAKrkB,GAAYoiB,GAAUkC;YAClD,IAAmB,mBAARD,GAEhB,OADAA,KAAY,KACgC,qBAAjC5mB,WAAWxC,UAAUqmB,UAC1BgD,IACK7mB,WAAWxC,UAAUqmB,QAAQtjB,KAAK+B,GAAQskB,GAAKrkB,KAE/CvC,WAAWxC,UAAUupB,YAAYxmB,KAAK+B,GAAQskB,GAAKrkB,KAGvDukB,EAAaxkB,GAAQ,EAACskB,KAAMrkB,GAAYoiB,GAAUkC;YAG3D,MAAM,IAAIxlB,UAAU;AACtB;UAEA,SAASylB,EAAcnV,GAAKiV,GAAKrkB,GAAYoiB,GAAUkC;YACrD,IA0BIhnB,GA1BAmnB,IAAY,GACZC,IAAYtV,EAAI/R,QAChBsnB,IAAYN,EAAIhnB;YAEpB,eAAI+kB,MAEe,YADjBA,IAAW9mB,OAAO8mB,GAAUrkB,kBACY,YAAbqkB,KACV,cAAbA,KAAuC,eAAbA,IAAyB;cACrD,IAAIhT,EAAI/R,SAAS,KAAKgnB,EAAIhnB,SAAS,GACjC,QAAQ;cAEVonB,IAAY,GACZC,KAAa,GACbC,KAAa,GACb3kB,KAAc;AAChB;YAGF,SAAS4kB,EAAM5C,GAAK1kB;cAClB,OAAkB,MAAdmnB,IACKzC,EAAI1kB,KAEJ0kB,EAAI6C,aAAavnB,IAAImnB;AAEhC;YAGA,IAAIH,GAAK;cACP,IAAIQ,KAAc;cAClB,KAAKxnB,IAAI0C,GAAY1C,IAAIonB,GAAWpnB,KAClC,IAAIsnB,EAAKxV,GAAK9R,OAAOsnB,EAAKP,IAAqB,MAAhBS,IAAoB,IAAIxnB,IAAIwnB;gBAEzD,KADoB,MAAhBA,MAAmBA,IAAaxnB,IAChCA,IAAIwnB,IAAa,MAAMH,GAAW,OAAOG,IAAaL;sBAEtC,MAAhBK,MAAmBxnB,KAAKA,IAAIwnB,IAChCA,KAAc;AAGpB,mBAEE,KADI9kB,IAAa2kB,IAAYD,MAAW1kB,IAAa0kB,IAAYC,IAC5DrnB,IAAI0C,GAAY1C,KAAK,GAAGA,KAAK;cAChC,IAAIynB,KAAAA;cACJ,KAAK,IAAIC,IAAI,GAAGA,IAAIL,GAAWK,KAC7B,IAAIJ,EAAKxV,GAAK9R,IAAI0nB,OAAOJ,EAAKP,GAAKW,IAAI;gBACrCD,KAAAA;gBACA;AACF;cAEF,IAAIA,GAAO,OAAOznB;AACpB;YAGF,QAAQ;AACV;UAcA,SAAS2nB,EAAUjD,GAAK3hB,GAAQT,GAAQvC;YACtCuC,IAAS/J,OAAO+J,MAAW;YAC3B,MAAMslB,IAAYlD,EAAI3kB,SAASuC;YAC1BvC,KAGHA,IAASxH,OAAOwH,MACH6nB,MACX7nB,IAAS6nB,KAJX7nB,IAAS6nB;YAQX,MAAMC,IAAS9kB,EAAOhD;YAKtB,IAAIC;YACJ,KAJID,IAAS8nB,IAAS,MACpB9nB,IAAS8nB,IAAS,IAGf7nB,IAAI,GAAGA,IAAID,KAAUC,GAAG;cAC3B,MAAMmb,IAAShP,SAASpJ,EAAO+kB,OAAW,IAAJ9nB,GAAO,IAAI;cACjD,IAAI8lB,EAAY3K,IAAS,OAAOnb;cAChC0kB,EAAIpiB,IAAStC,KAAKmb;AACpB;YACA,OAAOnb;AACT;UAEA,SAAS+nB,EAAWrD,GAAK3hB,GAAQT,GAAQvC;YACvC,OAAOioB,EAAW5B,EAAYrjB,GAAQ2hB,EAAI3kB,SAASuC,IAASoiB,GAAKpiB,GAAQvC;AAC3E;UAEA,SAASkoB,EAAYvD,GAAK3hB,GAAQT,GAAQvC;YACxC,OAAOioB,EAypCT,SAAuBE;cACrB,MAAMC,IAAY;cAClB,KAAK,IAAInoB,IAAI,GAAGA,IAAIkoB,EAAInoB,UAAUC,GAEhCmoB,EAAUloB,KAAyB,MAApBioB,EAAIlnB,WAAWhB;cAEhC,OAAOmoB;AACT,aAPA,CAzpCiCplB,IAAS2hB,GAAKpiB,GAAQvC;AACvD;UAEA,SAASqoB,EAAa1D,GAAK3hB,GAAQT,GAAQvC;YACzC,OAAOioB,EAAW3B,EAActjB,IAAS2hB,GAAKpiB,GAAQvC;AACxD;UAEA,SAASsoB,EAAW3D,GAAK3hB,GAAQT,GAAQvC;YACvC,OAAOioB,EA0pCT,SAAyBE,GAAKI;cAC5B,IAAIhV,GAAGiV,GAAIC;cACX,MAAML,IAAY;cAClB,KAAK,IAAInoB,IAAI,GAAGA,IAAIkoB,EAAInoB,aACjBuoB,KAAS,KAAK,MADatoB,GAGhCsT,IAAI4U,EAAIlnB,WAAWhB,IACnBuoB,IAAKjV,KAAK,GACVkV,IAAKlV,IAAI,KACT6U,EAAUloB,KAAKuoB,IACfL,EAAUloB,KAAKsoB;cAGjB,OAAOJ;AACT,aAdA,CA1pCmCplB,GAAQ2hB,EAAI3kB,SAASuC,IAASoiB,GAAKpiB,GAAQvC;AAC9E;UA8EA,SAAS4mB,EAAajC,GAAKlC,GAAOyB;YAChC,OAAc,MAAVzB,KAAeyB,MAAQS,EAAI3kB,SACtB3B,EAAOolB,cAAckB,KAErBtmB,EAAOolB,cAAckB,EAAIxmB,MAAMskB,GAAOyB;AAEjD;UAEA,SAASuC,EAAW9B,GAAKlC,GAAOyB;YAC9BA,IAAMwE,KAAKtJ,IAAIuF,EAAI3kB,QAAQkkB;YAC3B,MAAMpC,IAAM;YAEZ,IAAI7hB,IAAIwiB;YACR,MAAOxiB,IAAIikB,KAAK;cACd,MAAMyE,IAAYhE,EAAI1kB;cACtB,IAAI2oB,IAAY,MACZC,IAAoBF,IAAY,MAChC,IACCA,IAAY,MACT,IACCA,IAAY,MACT,IACA;cAEZ,IAAI1oB,IAAI4oB,KAAoB3E,GAAK;gBAC/B,IAAI4E,GAAYC,GAAWC,GAAYC;gBAEvC,QAAQJ;iBACN,KAAK;kBACCF,IAAY,QACdC,IAAYD;kBAEd;;iBACF,KAAK;kBACHG,IAAanE,EAAI1kB,IAAI,IACO,QAAV,MAAb6oB,OACHG,KAA6B,KAAZN,MAAqB,IAAoB,KAAbG,GACzCG,IAAgB,QAClBL,IAAYK;kBAGhB;;iBACF,KAAK;kBACHH,IAAanE,EAAI1kB,IAAI,IACrB8oB,IAAYpE,EAAI1kB,IAAI,IACQ,QAAV,MAAb6oB,MAAsD,QAAV,MAAZC,OACnCE,KAA6B,KAAZN,MAAoB,MAAoB,KAAbG,MAAsB,IAAmB,KAAZC,GACrEE,IAAgB,SAAUA,IAAgB,SAAUA,IAAgB,WACtEL,IAAYK;kBAGhB;;iBACF,KAAK;kBACHH,IAAanE,EAAI1kB,IAAI,IACrB8oB,IAAYpE,EAAI1kB,IAAI,IACpB+oB,IAAarE,EAAI1kB,IAAI,IACO,QAAV,MAAb6oB,MAAsD,QAAV,MAAZC,MAAsD,QAAV,MAAbC,OAClEC,KAA6B,KAAZN,MAAoB,MAAqB,KAAbG,MAAsB,MAAmB,KAAZC,MAAqB,IAAoB,KAAbC;kBAClGC,IAAgB,SAAUA,IAAgB,YAC5CL,IAAYK;;AAItB;cAEkB,SAAdL,KAGFA,IAAY,OACZC,IAAmB,KACVD,IAAY,UAErBA,KAAa,OACb9G,EAAI5hB,KAAK0oB,MAAc,KAAK,OAAQ,QACpCA,IAAY,QAAqB,OAAZA,IAGvB9G,EAAI5hB,KAAK0oB;cACT3oB,KAAK4oB;AACP;YAEA,OAQF,SAAgCK;cAC9B,MAAMzX,IAAMyX,EAAWlpB;cACvB,IAAIyR,KAAO0X,GACT,OAAOlrB,OAAOmrB,aAAaC,MAAMprB,QAAQirB;cAI3C,IAAIpH,IAAM,IACN7hB,IAAI;cACR,MAAOA,IAAIwR,KACTqQ,KAAO7jB,OAAOmrB,aAAaC,MACzBprB,QACAirB,EAAW/qB,MAAM8B,GAAGA,KAAKkpB;cAG7B,OAAOrH;AACT,aAhBA,CAR+BA;AAC/B;UA3+BA1qB,EAAQkyB,aAAa7E,GAgBrBhiB,EAAO8mB,sBAUP;YAEE;cACE,MAAMxX,IAAM,IAAI3R,WAAW,IACrBuL,IAAQ;gBAAE6d,KAAK;kBAAc,OAAO;AAAG;;cAG7C,OAFA9xB,OAAOktB,eAAejZ,GAAOvL,WAAWxC,YACxClG,OAAOktB,eAAe7S,GAAKpG,IACN,OAAdoG,EAAIyX;AAGb,cAFE,OAAOnY;cACP,QAAM;AACR;AACF,WAXA,IARK5O,EAAO8mB,uBAA0C,sBAAZvM,WACb,qBAAlBA,QAAQ7gB,SACjB6gB,QAAQ7gB,MACN;UAkBJzE,OAAOC,eAAe8K,EAAO7E,WAAW,UAAU;YAChDpC,aAAW;YACXC,KAAK;cACH,IAAKgH,EAAOojB,SAAStuB,OACrB,OAAOA,KAAKmL;AACd;cAGFhL,OAAOC,eAAe8K,EAAO7E,WAAW,UAAU;YAChDpC,aAAW;YACXC,KAAK;cACH,IAAKgH,EAAOojB,SAAStuB,OACrB,OAAOA,KAAKoL;AACd;cAoCFF,EAAOgnB,WAAW,MA8DlBhnB,EAAO+U,OAAO,SAAU5f,GAAOitB,GAAkB7kB;YAC/C,OAAOwX,EAAK5f,GAAOitB,GAAkB7kB;AACvC,aAIAtI,OAAOktB,eAAeniB,EAAO7E,WAAWwC,WAAWxC,YACnDlG,OAAOktB,eAAeniB,GAAQrC,aA8B9BqC,EAAO8hB,QAAQ,SAAUxhB,GAAM2mB,GAAM3E;YACnC,OArBF,SAAgBhiB,GAAM2mB,GAAM3E;cAE1B,OADAmB,EAAWnjB,IACPA,KAAQ,IACH2hB,EAAa3hB,UAAAA,MAElB2mB,IAIyB,mBAAb3E,IACVL,EAAa3hB,GAAM2mB,KAAKA,GAAM3E,KAC9BL,EAAa3hB,GAAM2mB,KAAKA,KAEvBhF,EAAa3hB;AACtB,aAdA,CAqBeA,GAAM2mB,GAAM3E;AAC3B,aAUAtiB,EAAOqiB,cAAc,SAAU/hB;YAC7B,OAAO+hB,EAAY/hB;AACrB,aAIAN,EAAOknB,kBAAkB,SAAU5mB;YACjC,OAAO+hB,EAAY/hB;AACrB,aA6GAN,EAAOojB,WAAW,SAAmBzM;YACnC,OAAY,QAALA,MAAAA,MAAaA,EAAEwQ,aACpBxQ,MAAM3W,EAAO7E;AACjB,aAEA6E,EAAOsW,UAAU,SAAkBI,GAAGC;YAGpC,IAFIkM,EAAWnM,GAAG/Y,gBAAa+Y,IAAI1W,EAAO+U,KAAK2B,GAAGA,EAAE5W,QAAQ4W,EAAEnX,cAC1DsjB,EAAWlM,GAAGhZ,gBAAagZ,IAAI3W,EAAO+U,KAAK4B,GAAGA,EAAE7W,QAAQ6W,EAAEpX;aACzDS,EAAOojB,SAAS1M,OAAO1W,EAAOojB,SAASzM,IAC1C,MAAM,IAAI3X,UACR;YAIJ,IAAI0X,MAAMC,GAAG,OAAO;YAEpB,IAAIyQ,IAAI1Q,EAAEnZ,QACN8pB,IAAI1Q,EAAEpZ;YAEV,KAAK,IAAIC,IAAI,GAAGwR,IAAMiX,KAAKtJ,IAAIyK,GAAGC,IAAI7pB,IAAIwR,KAAOxR,GAC/C,IAAIkZ,EAAElZ,OAAOmZ,EAAEnZ,IAAI;cACjB4pB,IAAI1Q,EAAElZ,IACN6pB,IAAI1Q,EAAEnZ;cACN;AACF;YAGF,OAAI4pB,IAAIC,KAAW,IACfA,IAAID,IAAU,IACX;AACT,aAEApnB,EAAOuiB,aAAa,SAAqBD;YACvC,QAAQ9mB,OAAO8mB,GAAUrkB;aACvB,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;cACH,QAAM;;aACR;cACE,QAAM;;AAEZ,aAEA+B,EAAOsnB,SAAS,SAAiB1O,GAAMrb;YACrC,KAAK7E,MAAMC,QAAQigB,IACjB,MAAM,IAAI5Z,UAAU;YAGtB,IAAoB,MAAhB4Z,EAAKrb,QACP,OAAOyC,EAAO8hB,MAAM;YAGtB,IAAItkB;YACJ,eAAID,GAEF,KADAA,IAAS,GACJC,IAAI,GAAGA,IAAIob,EAAKrb,UAAUC,GAC7BD,KAAUqb,EAAKpb,GAAGD;YAItB,MAAM0C,IAASD,EAAOqiB,YAAY9kB;YAClC,IAAIgqB,IAAM;YACV,KAAK/pB,IAAI,GAAGA,IAAIob,EAAKrb,UAAUC,GAAG;cAChC,IAAI0kB,IAAMtJ,EAAKpb;cACf,IAAIqlB,EAAWX,GAAKvkB,aACd4pB,IAAMrF,EAAI3kB,SAAS0C,EAAO1C,UACvByC,EAAOojB,SAASlB,OAAMA,IAAMliB,EAAO+U,KAAKmN,KAC7CA,EAAIY,KAAK7iB,GAAQsnB,MAEjB5pB,WAAWxC,UAAU4E,IAAI7B,KACvB+B,GACAiiB,GACAqF,SAGC;gBAAA,KAAKvnB,EAAOojB,SAASlB,IAC1B,MAAM,IAAIljB,UAAU;gBAEpBkjB,EAAIY,KAAK7iB,GAAQsnB;AACnB;cACAA,KAAOrF,EAAI3kB;AACb;YACA,OAAO0C;AACT,aAiDAD,EAAOT,aAAaA,GA8EpBS,EAAO7E,UAAUgsB,aAAAA,GAQjBnnB,EAAO7E,UAAUqsB,SAAS;YACxB,MAAMxY,IAAMla,KAAKyI;YACjB,IAAIyR,IAAM,KAAM,GACd,MAAM,IAAI9H,WAAW;YAEvB,KAAK,IAAI1J,IAAI,GAAGA,IAAIwR,GAAKxR,KAAK,GAC5B6mB,EAAKvvB,MAAM0I,GAAGA,IAAI;YAEpB,OAAO1I;AACT,aAEAkL,EAAO7E,UAAUssB,SAAS;YACxB,MAAMzY,IAAMla,KAAKyI;YACjB,IAAIyR,IAAM,KAAM,GACd,MAAM,IAAI9H,WAAW;YAEvB,KAAK,IAAI1J,IAAI,GAAGA,IAAIwR,GAAKxR,KAAK,GAC5B6mB,EAAKvvB,MAAM0I,GAAGA,IAAI,IAClB6mB,EAAKvvB,MAAM0I,IAAI,GAAGA,IAAI;YAExB,OAAO1I;AACT,aAEAkL,EAAO7E,UAAUusB,SAAS;YACxB,MAAM1Y,IAAMla,KAAKyI;YACjB,IAAIyR,IAAM,KAAM,GACd,MAAM,IAAI9H,WAAW;YAEvB,KAAK,IAAI1J,IAAI,GAAGA,IAAIwR,GAAKxR,KAAK,GAC5B6mB,EAAKvvB,MAAM0I,GAAGA,IAAI,IAClB6mB,EAAKvvB,MAAM0I,IAAI,GAAGA,IAAI,IACtB6mB,EAAKvvB,MAAM0I,IAAI,GAAGA,IAAI,IACtB6mB,EAAKvvB,MAAM0I,IAAI,GAAGA,IAAI;YAExB,OAAO1I;AACT,aAEAkL,EAAO7E,UAAU3E,WAAW;YAC1B,MAAM+G,IAASzI,KAAKyI;YACpB,OAAe,MAAXA,IAAqB,KACA,MAArByhB,UAAUzhB,SAAqBymB,EAAUlvB,MAAM,GAAGyI,KAC/CumB,EAAa8C,MAAM9xB,MAAMkqB;AAClC,aAEAhf,EAAO7E,UAAUwsB,iBAAiB3nB,EAAO7E,UAAU3E,UAEnDwJ,EAAO7E,UAAUysB,SAAS,SAAiBjR;YACzC,KAAK3W,EAAOojB,SAASzM,IAAI,MAAM,IAAI3X,UAAU;YAC7C,OAAIlK,SAAS6hB,KACsB,MAA5B3W,EAAOsW,QAAQxhB,MAAM6hB;AAC9B,aAEA3W,EAAO7E,UAAU0sB,UAAU;YACzB,IAAInC,IAAM;YACV,MAAMlY,IAAM7Y,EAAQotB;YAGpB,OAFA2D,IAAM5wB,KAAK0B,SAAS,OAAO,GAAGgX,GAAKmE,QAAQ,WAAW,OAAO5E,QACzDjY,KAAKyI,SAASiQ,MAAKkY,KAAO,UACvB,aAAaA,IAAM;AAC5B,aACI9D,MACF5hB,EAAO7E,UAAUymB,KAAuB5hB,EAAO7E,UAAU0sB,UAG3D7nB,EAAO7E,UAAUmb,UAAU,SAAkBwR,GAAQ9H,GAAOyB,GAAKsG,GAAWC;YAI1E,IAHInF,EAAWiF,GAAQnqB,gBACrBmqB,IAAS9nB,EAAO+U,KAAK+S,GAAQA,EAAOhoB,QAAQgoB,EAAOvoB,eAEhDS,EAAOojB,SAAS0E,IACnB,MAAM,IAAI9oB,UACR,0FAC2B8oB;YAiB/B,eAbI9H,MACFA,IAAQ,eAENyB,MACFA,IAAMqG,IAASA,EAAOvqB,SAAS,eAE7BwqB,MACFA,IAAY,eAEVC,MACFA,IAAUlzB,KAAKyI;YAGbyiB,IAAQ,KAAKyB,IAAMqG,EAAOvqB,UAAUwqB,IAAY,KAAKC,IAAUlzB,KAAKyI,QACtE,MAAM,IAAI2J,WAAW;YAGvB,IAAI6gB,KAAaC,KAAWhI,KAASyB,GACnC,OAAO;YAET,IAAIsG,KAAaC,GACf,QAAQ;YAEV,IAAIhI,KAASyB,GACX,OAAO;YAQT,IAAI3sB,SAASgzB,GAAQ,OAAO;YAE5B,IAAIV,KAJJY,OAAa,MADbD,OAAe,IAMXV,KAPJ5F,OAAS,MADTzB,OAAW;YASX,MAAMhR,IAAMiX,KAAKtJ,IAAIyK,GAAGC,IAElBY,IAAWnzB,KAAK4G,MAAMqsB,GAAWC,IACjCE,IAAaJ,EAAOpsB,MAAMskB,GAAOyB;YAEvC,KAAK,IAAIjkB,IAAI,GAAGA,IAAIwR,KAAOxR,GACzB,IAAIyqB,EAASzqB,OAAO0qB,EAAW1qB,IAAI;cACjC4pB,IAAIa,EAASzqB,IACb6pB,IAAIa,EAAW1qB;cACf;AACF;YAGF,OAAI4pB,IAAIC,KAAW,IACfA,IAAID,IAAU,IACX;AACT,aA2HApnB,EAAO7E,UAAUuV,WAAW,SAAmB6T,GAAKrkB,GAAYoiB;YAC9D,QAAoD,MAA7CxtB,KAAK0sB,QAAQ+C,GAAKrkB,GAAYoiB;AACvC,aAEAtiB,EAAO7E,UAAUqmB,UAAU,SAAkB+C,GAAKrkB,GAAYoiB;YAC5D,OAAOgC,EAAqBxvB,MAAMyvB,GAAKrkB,GAAYoiB,IAAAA;AACrD,aAEAtiB,EAAO7E,UAAUupB,cAAc,SAAsBH,GAAKrkB,GAAYoiB;YACpE,OAAOgC,EAAqBxvB,MAAMyvB,GAAKrkB,GAAYoiB,IAAAA;AACrD,aA4CAtiB,EAAO7E,UAAUsnB,QAAQ,SAAgBliB,GAAQT,GAAQvC,GAAQ+kB;YAE/D,eAAIxiB,GACFwiB,IAAW,QACX/kB,IAASzI,KAAKyI,QACduC,IAAS,QAEJ,eAAIvC,KAA0C,mBAAXuC,GACxCwiB,IAAWxiB,GACXvC,IAASzI,KAAKyI;YACduC,IAAS,QAEJ;cAAA,KAAI2B,SAAS3B,IAUlB,MAAM,IAAIpK,MACR;cAVFoK,OAAoB,GAChB2B,SAASlE,MACXA,OAAoB,cAChB+kB,MAAwBA,IAAW,YAEvCA,IAAW/kB,GACXA,SAAAA;AAMJ;YAEA,MAAM6nB,IAAYtwB,KAAKyI,SAASuC;YAGhC,gBAFIvC,KAAwBA,IAAS6nB,OAAW7nB,IAAS6nB,IAEpD7kB,EAAOhD,SAAS,MAAMA,IAAS,KAAKuC,IAAS,MAAOA,IAAShL,KAAKyI,QACrE,MAAM,IAAI2J,WAAW;YAGlBob,MAAUA,IAAW;YAE1B,IAAIqB,KAAAA;YACJ,SACE,QAAQrB;aACN,KAAK;cACH,OAAO6C,EAASrwB,MAAMyL,GAAQT,GAAQvC;;aAExC,KAAK;aACL,KAAK;cACH,OAAOgoB,EAAUzwB,MAAMyL,GAAQT,GAAQvC;;aAEzC,KAAK;aACL,KAAK;aACL,KAAK;cACH,OAAOkoB,EAAW3wB,MAAMyL,GAAQT,GAAQvC;;aAE1C,KAAK;cAEH,OAAOqoB,EAAY9wB,MAAMyL,GAAQT,GAAQvC;;aAE3C,KAAK;aACL,KAAK;aACL,KAAK;aACL,KAAK;cACH,OAAOsoB,EAAU/wB,MAAMyL,GAAQT,GAAQvC;;aAEzC;cACE,IAAIomB,GAAa,MAAM,IAAI3kB,UAAU,uBAAuBsjB;cAC5DA,KAAY,KAAKA,GAAUrkB,eAC3B0lB,KAAAA;;AAGR,aAEA3jB,EAAO7E,UAAUgtB,SAAS;YACxB,OAAO;cACL5E,MAAM;cACNztB,MAAM4C,MAAMyC,UAAUO,MAAMwC,KAAKpJ,KAAKszB,QAAQtzB,MAAM;;AAExD;UAyFA,MAAM4xB,IAAuB;UAoB7B,SAASzC,EAAY/B,GAAKlC,GAAOyB;YAC/B,IAAI5N,IAAM;YACV4N,IAAMwE,KAAKtJ,IAAIuF,EAAI3kB,QAAQkkB;YAE3B,KAAK,IAAIjkB,IAAIwiB,GAAOxiB,IAAIikB,KAAOjkB,GAC7BqW,KAAOrY,OAAOmrB,aAAsB,MAATzE,EAAI1kB;YAEjC,OAAOqW;AACT;UAEA,SAASqQ,EAAahC,GAAKlC,GAAOyB;YAChC,IAAI5N,IAAM;YACV4N,IAAMwE,KAAKtJ,IAAIuF,EAAI3kB,QAAQkkB;YAE3B,KAAK,IAAIjkB,IAAIwiB,GAAOxiB,IAAIikB,KAAOjkB,GAC7BqW,KAAOrY,OAAOmrB,aAAazE,EAAI1kB;YAEjC,OAAOqW;AACT;UAEA,SAASkQ,EAAU7B,GAAKlC,GAAOyB;YAC7B,MAAMzS,IAAMkT,EAAI3kB;cAEXyiB,KAASA,IAAQ,OAAGA,IAAQ,MAC5ByB,KAAOA,IAAM,KAAKA,IAAMzS,OAAKyS,IAAMzS;YAExC,IAAIqZ,IAAM;YACV,KAAK,IAAI7qB,IAAIwiB,GAAOxiB,IAAIikB,KAAOjkB,GAC7B6qB,KAAOC,EAAoBpG,EAAI1kB;YAEjC,OAAO6qB;AACT;UAEA,SAASjE,EAAclC,GAAKlC,GAAOyB;YACjC,MAAM7jB,IAAQskB,EAAIxmB,MAAMskB,GAAOyB;YAC/B,IAAIpC,IAAM;YAEV,KAAK,IAAI7hB,IAAI,GAAGA,IAAII,EAAML,SAAS,GAAGC,KAAK,GACzC6hB,KAAO7jB,OAAOmrB,aAAa/oB,EAAMJ,KAAqB,MAAfI,EAAMJ,IAAI;YAEnD,OAAO6hB;AACT;UAiCA,SAASkJ,EAAazoB,GAAQ0oB,GAAKjrB;YACjC,IAAKuC,IAAS,KAAO,KAAKA,IAAS,GAAG,MAAM,IAAIoH,WAAW;YAC3D,IAAIpH,IAAS0oB,IAAMjrB,GAAQ,MAAM,IAAI2J,WAAW;AAClD;UAyQA,SAASuhB,EAAUvG,GAAK/sB,GAAO2K,GAAQ0oB,GAAKhb,GAAKmP;YAC/C,KAAK3c,EAAOojB,SAASlB,IAAM,MAAM,IAAIljB,UAAU;YAC/C,IAAI7J,IAAQqY,KAAOrY,IAAQwnB,GAAK,MAAM,IAAIzV,WAAW;YACrD,IAAIpH,IAAS0oB,IAAMtG,EAAI3kB,QAAQ,MAAM,IAAI2J,WAAW;AACtD;UA+FA,SAASwhB,EAAgBxG,GAAK/sB,GAAO2K,GAAQ6c,GAAKnP;YAChDmb,EAAWxzB,GAAOwnB,GAAKnP,GAAK0U,GAAKpiB,GAAQ;YAEzC,IAAIkmB,IAAKjwB,OAAOZ,IAAQ6I,OAAO;YAC/BkkB,EAAIpiB,OAAYkmB,GAChBA,MAAW,GACX9D,EAAIpiB,OAAYkmB,GAChBA,MAAW,GACX9D,EAAIpiB,OAAYkmB,GAChBA,MAAW,GACX9D,EAAIpiB,OAAYkmB;YAChB,IAAID,IAAKhwB,OAAOZ,KAAS6I,OAAO,MAAMA,OAAO;YAQ7C,OAPAkkB,EAAIpiB,OAAYimB,GAChBA,MAAW,GACX7D,EAAIpiB,OAAYimB,GAChBA,MAAW,GACX7D,EAAIpiB,OAAYimB,GAChBA,MAAW,GACX7D,EAAIpiB,OAAYimB,GACTjmB;AACT;UAEA,SAAS8oB,EAAgB1G,GAAK/sB,GAAO2K,GAAQ6c,GAAKnP;YAChDmb,EAAWxzB,GAAOwnB,GAAKnP,GAAK0U,GAAKpiB,GAAQ;YAEzC,IAAIkmB,IAAKjwB,OAAOZ,IAAQ6I,OAAO;YAC/BkkB,EAAIpiB,IAAS,KAAKkmB,GAClBA,MAAW,GACX9D,EAAIpiB,IAAS,KAAKkmB,GAClBA,MAAW,GACX9D,EAAIpiB,IAAS,KAAKkmB,GAClBA,MAAW,GACX9D,EAAIpiB,IAAS,KAAKkmB;YAClB,IAAID,IAAKhwB,OAAOZ,KAAS6I,OAAO,MAAMA,OAAO;YAQ7C,OAPAkkB,EAAIpiB,IAAS,KAAKimB,GAClBA,MAAW,GACX7D,EAAIpiB,IAAS,KAAKimB,GAClBA,MAAW,GACX7D,EAAIpiB,IAAS,KAAKimB,GAClBA,MAAW,GACX7D,EAAIpiB,KAAUimB,GACPjmB,IAAS;AAClB;UAkHA,SAAS+oB,EAAc3G,GAAK/sB,GAAO2K,GAAQ0oB,GAAKhb,GAAKmP;YACnD,IAAI7c,IAAS0oB,IAAMtG,EAAI3kB,QAAQ,MAAM,IAAI2J,WAAW;YACpD,IAAIpH,IAAS,GAAG,MAAM,IAAIoH,WAAW;AACvC;UAEA,SAAS4hB,EAAY5G,GAAK/sB,GAAO2K,GAAQipB,GAAcC;YAOrD,OANA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KACHH,EAAa3G,GAAK/sB,GAAO2K,GAAQ,IAEnC6hB,EAAQc,MAAMP,GAAK/sB,GAAO2K,GAAQipB,GAAc,IAAI,IAC7CjpB,IAAS;AAClB;UAUA,SAASmpB,EAAa/G,GAAK/sB,GAAO2K,GAAQipB,GAAcC;YAOtD,OANA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KACHH,EAAa3G,GAAK/sB,GAAO2K,GAAQ,IAEnC6hB,EAAQc,MAAMP,GAAK/sB,GAAO2K,GAAQipB,GAAc,IAAI,IAC7CjpB,IAAS;AAClB;UAzkBAE,EAAO7E,UAAUO,QAAQ,SAAgBskB,GAAOyB;YAC9C,MAAMzS,IAAMla,KAAKyI;aACjByiB,MAAUA,KAGE,KACVA,KAAShR,KACG,MAAGgR,IAAQ,KACdA,IAAQhR,MACjBgR,IAAQhR,KANVyS,SAAAA,MAAMA,IAAoBzS,MAAQyS,KASxB,KACRA,KAAOzS,KACG,MAAGyS,IAAM,KACVA,IAAMzS,MACfyS,IAAMzS;YAGJyS,IAAMzB,MAAOyB,IAAMzB;YAEvB,MAAMkJ,IAASp0B,KAAKq0B,SAASnJ,GAAOyB;YAIpC,OAFAxsB,OAAOktB,eAAe+G,GAAQlpB,EAAO7E,YAE9B+tB;AACT,aAUAlpB,EAAO7E,UAAUiuB,aACjBppB,EAAO7E,UAAUkuB,aAAa,SAAqBvpB,GAAQP,GAAYypB;YACrElpB,OAAoB,GACpBP,OAA4B,GACvBypB,KAAUT,EAAYzoB,GAAQP,GAAYzK,KAAKyI;YAEpD,IAAIgnB,IAAMzvB,KAAKgL,IACXwpB,IAAM,GACN9rB,IAAI;YACR,QAASA,IAAI+B,MAAe+pB,KAAO,QACjC/E,KAAOzvB,KAAKgL,IAAStC,KAAK8rB;YAG5B,OAAO/E;AACT,aAEAvkB,EAAO7E,UAAUouB,aACjBvpB,EAAO7E,UAAUquB,aAAa,SAAqB1pB,GAAQP,GAAYypB;YACrElpB,OAAoB,GACpBP,OAA4B,GACvBypB,KACHT,EAAYzoB,GAAQP,GAAYzK,KAAKyI;YAGvC,IAAIgnB,IAAMzvB,KAAKgL,MAAWP,IACtB+pB,IAAM;YACV,MAAO/pB,IAAa,MAAM+pB,KAAO,QAC/B/E,KAAOzvB,KAAKgL,MAAWP,KAAc+pB;YAGvC,OAAO/E;AACT,aAEAvkB,EAAO7E,UAAUsuB,YACjBzpB,EAAO7E,UAAUuuB,YAAY,SAAoB5pB,GAAQkpB;YAGvD,OAFAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SACpCzI,KAAKgL;AACd,aAEAE,EAAO7E,UAAUwuB,eACjB3pB,EAAO7E,UAAUyuB,eAAe,SAAuB9pB,GAAQkpB;YAG7D,OAFAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SACpCzI,KAAKgL,KAAWhL,KAAKgL,IAAS,MAAM;AAC7C,aAEAE,EAAO7E,UAAU0uB,eACjB7pB,EAAO7E,UAAU4pB,eAAe,SAAuBjlB,GAAQkpB;YAG7D,OAFAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SACnCzI,KAAKgL,MAAW,IAAKhL,KAAKgL,IAAS;AAC7C,aAEAE,EAAO7E,UAAU2uB,eACjB9pB,EAAO7E,UAAU4uB,eAAe,SAAuBjqB,GAAQkpB;YAI7D,OAHAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,UAElCzI,KAAKgL,KACThL,KAAKgL,IAAS,MAAM,IACpBhL,KAAKgL,IAAS,MAAM,MACD,WAAnBhL,KAAKgL,IAAS;AACrB,aAEAE,EAAO7E,UAAU6uB,eACjBhqB,EAAO7E,UAAU8uB,eAAe,SAAuBnqB,GAAQkpB;YAI7D,OAHAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SAEpB,WAAfzI,KAAKgL,MACThL,KAAKgL,IAAS,MAAM,KACrBhL,KAAKgL,IAAS,MAAM,IACrBhL,KAAKgL,IAAS;AAClB,aAEAE,EAAO7E,UAAU+uB,kBAAkBC,GAAAA,SAA6CrqB;YAE9EsqB,EADAtqB,OAAoB,GACG;YACvB,MAAMiR,IAAQjc,KAAKgL,IACbuqB,IAAOv1B,KAAKgL,IAAS;iBAAA,MACvBiR,UAAAA,MAAuBsZ,KACzBC,EAAYxqB,GAAQhL,KAAKyI,SAAS;YAGpC,MAAMyoB,IAAKjV,IACQ,MAAjBjc,OAAOgL,KACU,QAAjBhL,OAAOgL,KACPhL,OAAOgL,KAAU,KAAK,IAElBimB,IAAKjxB,OAAOgL,KACC,MAAjBhL,OAAOgL,KACU,QAAjBhL,OAAOgL,KACPuqB,IAAO,KAAK;YAEd,OAAOrsB,OAAOgoB,MAAOhoB,OAAO+nB,MAAO/nB,OAAO;AAC3C,eAEDgC,EAAO7E,UAAUovB,kBAAkBJ,GAAAA,SAA6CrqB;YAE9EsqB,EADAtqB,OAAoB,GACG;YACvB,MAAMiR,IAAQjc,KAAKgL,IACbuqB,IAAOv1B,KAAKgL,IAAS;iBAAA,MACvBiR,UAAAA,MAAuBsZ,KACzBC,EAAYxqB,GAAQhL,KAAKyI,SAAS;YAGpC,MAAMwoB,IAAKhV,IAAQ,KAAK,KACL,QAAjBjc,OAAOgL,KACU,MAAjBhL,OAAOgL,KACPhL,OAAOgL,IAEHkmB,IAAKlxB,OAAOgL,KAAU,KAAK,KACd,QAAjBhL,OAAOgL,KACU,MAAjBhL,OAAOgL,KACPuqB;YAEF,QAAQrsB,OAAO+nB,MAAO/nB,OAAO,OAAOA,OAAOgoB;AAC5C,eAEDhmB,EAAO7E,UAAUqvB,YAAY,SAAoB1qB,GAAQP,GAAYypB;YACnElpB,OAAoB,GACpBP,OAA4B,GACvBypB,KAAUT,EAAYzoB,GAAQP,GAAYzK,KAAKyI;YAEpD,IAAIgnB,IAAMzvB,KAAKgL,IACXwpB,IAAM,GACN9rB,IAAI;YACR,QAASA,IAAI+B,MAAe+pB,KAAO,QACjC/E,KAAOzvB,KAAKgL,IAAStC,KAAK8rB;YAM5B,OAJAA,KAAO,KAEH/E,KAAO+E,MAAK/E,KAAO0B,KAAKwE,IAAI,GAAG,IAAIlrB,KAEhCglB;AACT,aAEAvkB,EAAO7E,UAAUuvB,YAAY,SAAoB5qB,GAAQP,GAAYypB;YACnElpB,OAAoB,GACpBP,OAA4B,GACvBypB,KAAUT,EAAYzoB,GAAQP,GAAYzK,KAAKyI;YAEpD,IAAIC,IAAI+B,GACJ+pB,IAAM,GACN/E,IAAMzvB,KAAKgL,MAAWtC;YAC1B,MAAOA,IAAI,MAAM8rB,KAAO,QACtB/E,KAAOzvB,KAAKgL,MAAWtC,KAAK8rB;YAM9B,OAJAA,KAAO,KAEH/E,KAAO+E,MAAK/E,KAAO0B,KAAKwE,IAAI,GAAG,IAAIlrB,KAEhCglB;AACT,aAEAvkB,EAAO7E,UAAUwvB,WAAW,SAAmB7qB,GAAQkpB;YAGrD,OAFAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SACtB,MAAfzI,KAAKgL,MAC0B,KAA5B,MAAOhL,KAAKgL,KAAU,KADKhL,KAAKgL;AAE3C,aAEAE,EAAO7E,UAAUyvB,cAAc,SAAsB9qB,GAAQkpB;YAC3DlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI;YAC3C,MAAMgnB,IAAMzvB,KAAKgL,KAAWhL,KAAKgL,IAAS,MAAM;YAChD,OAAc,QAANykB,IAAsB,aAANA,IAAmBA;AAC7C,aAEAvkB,EAAO7E,UAAU0vB,cAAc,SAAsB/qB,GAAQkpB;YAC3DlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI;YAC3C,MAAMgnB,IAAMzvB,KAAKgL,IAAS,KAAMhL,KAAKgL,MAAW;YAChD,OAAc,QAANykB,IAAsB,aAANA,IAAmBA;AAC7C,aAEAvkB,EAAO7E,UAAU2vB,cAAc,SAAsBhrB,GAAQkpB;YAI3D,OAHAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SAEnCzI,KAAKgL,KACVhL,KAAKgL,IAAS,MAAM,IACpBhL,KAAKgL,IAAS,MAAM,KACpBhL,KAAKgL,IAAS,MAAM;AACzB,aAEAE,EAAO7E,UAAU4vB,cAAc,SAAsBjrB,GAAQkpB;YAI3D,OAHAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SAEnCzI,KAAKgL,MAAW,KACrBhL,KAAKgL,IAAS,MAAM,KACpBhL,KAAKgL,IAAS,MAAM,IACpBhL,KAAKgL,IAAS;AACnB,aAEAE,EAAO7E,UAAU6vB,iBAAiBb,GAAAA,SAA4CrqB;YAE5EsqB,EADAtqB,OAAoB,GACG;YACvB,MAAMiR,IAAQjc,KAAKgL,IACbuqB,IAAOv1B,KAAKgL,IAAS;iBAAA,MACvBiR,UAAAA,MAAuBsZ,KACzBC,EAAYxqB,GAAQhL,KAAKyI,SAAS;YAGpC,MAAMgnB,IAAMzvB,KAAKgL,IAAS,KACL,MAAnBhL,KAAKgL,IAAS,KACK,QAAnBhL,KAAKgL,IAAS,MACbuqB,KAAQ;YAEX,QAAQrsB,OAAOumB,MAAQvmB,OAAO,OAC5BA,OAAO+S,IACU,MAAjBjc,OAAOgL,KACU,QAAjBhL,OAAOgL,KACPhL,OAAOgL,KAAU,KAAK;AACzB,eAEDE,EAAO7E,UAAU8vB,iBAAiBd,GAAAA,SAA4CrqB;YAE5EsqB,EADAtqB,OAAoB,GACG;YACvB,MAAMiR,IAAQjc,KAAKgL,IACbuqB,IAAOv1B,KAAKgL,IAAS;iBAAA,MACvBiR,UAAAA,MAAuBsZ,KACzBC,EAAYxqB,GAAQhL,KAAKyI,SAAS;YAGpC,MAAMgnB,KAAOxT,KAAS,MACH,QAAjBjc,OAAOgL,KACU,MAAjBhL,OAAOgL,KACPhL,OAAOgL;YAET,QAAQ9B,OAAOumB,MAAQvmB,OAAO,OAC5BA,OAAOlJ,OAAOgL,KAAU,KAAK,KACZ,QAAjBhL,OAAOgL,KACU,MAAjBhL,OAAOgL,KACPuqB;AACH,eAEDrqB,EAAO7E,UAAU+vB,cAAc,SAAsBprB,GAAQkpB;YAG3D,OAFAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SACpCokB,EAAQmD,KAAKhwB,MAAMgL,IAAAA,GAAc,IAAI;AAC9C,aAEAE,EAAO7E,UAAUgwB,cAAc,SAAsBrrB,GAAQkpB;YAG3D,OAFAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SACpCokB,EAAQmD,KAAKhwB,MAAMgL,IAAAA,GAAe,IAAI;AAC/C,aAEAE,EAAO7E,UAAUiwB,eAAe,SAAuBtrB,GAAQkpB;YAG7D,OAFAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SACpCokB,EAAQmD,KAAKhwB,MAAMgL,IAAAA,GAAc,IAAI;AAC9C,aAEAE,EAAO7E,UAAUkwB,eAAe,SAAuBvrB,GAAQkpB;YAG7D,OAFAlpB,OAAoB,GACfkpB,KAAUT,EAAYzoB,GAAQ,GAAGhL,KAAKyI,SACpCokB,EAAQmD,KAAKhwB,MAAMgL,IAAAA,GAAe,IAAI;AAC/C,aAQAE,EAAO7E,UAAUmwB,cACjBtrB,EAAO7E,UAAUowB,cAAc,SAAsBp2B,GAAO2K,GAAQP,GAAYypB;YAC9E7zB,KAASA,GACT2K,OAAoB,GACpBP,OAA4B,GACvBypB,KAEHP,EAAS3zB,MAAMK,GAAO2K,GAAQP,GADb0mB,KAAKwE,IAAI,GAAG,IAAIlrB,KAAc,GACK;YAGtD,IAAI+pB,IAAM,GACN9rB,IAAI;YAER,KADA1I,KAAKgL,KAAkB,MAAR3K,KACNqI,IAAI+B,MAAe+pB,KAAO,QACjCx0B,KAAKgL,IAAStC,KAAMrI,IAAQm0B,IAAO;YAGrC,OAAOxpB,IAASP;AAClB,aAEAS,EAAO7E,UAAUqwB,cACjBxrB,EAAO7E,UAAUswB,cAAc,SAAsBt2B,GAAO2K,GAAQP,GAAYypB;YAC9E7zB,KAASA,GACT2K,OAAoB,GACpBP,OAA4B,GACvBypB,KAEHP,EAAS3zB,MAAMK,GAAO2K,GAAQP,GADb0mB,KAAKwE,IAAI,GAAG,IAAIlrB,KAAc,GACK;YAGtD,IAAI/B,IAAI+B,IAAa,GACjB+pB,IAAM;YAEV,KADAx0B,KAAKgL,IAAStC,KAAa,MAARrI,KACVqI,KAAK,MAAM8rB,KAAO,QACzBx0B,KAAKgL,IAAStC,KAAMrI,IAAQm0B,IAAO;YAGrC,OAAOxpB,IAASP;AAClB,aAEAS,EAAO7E,UAAUuwB,aACjB1rB,EAAO7E,UAAUwwB,aAAa,SAAqBx2B,GAAO2K,GAAQkpB;YAKhE,OAJA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,KAAM,IACtDhL,KAAKgL,KAAmB,MAAR3K,GACT2K,IAAS;AAClB,aAEAE,EAAO7E,UAAUywB,gBACjB5rB,EAAO7E,UAAU0wB,gBAAgB,SAAwB12B,GAAO2K,GAAQkpB;YAMtE,OALA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,OAAQ,IACxDhL,KAAKgL,KAAmB,MAAR3K,GAChBL,KAAKgL,IAAS,KAAM3K,MAAU,GACvB2K,IAAS;AAClB,aAEAE,EAAO7E,UAAU2wB,gBACjB9rB,EAAO7E,UAAU4wB,gBAAgB,SAAwB52B,GAAO2K,GAAQkpB;YAMtE,OALA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,OAAQ,IACxDhL,KAAKgL,KAAW3K,MAAU,GAC1BL,KAAKgL,IAAS,KAAc,MAAR3K,GACb2K,IAAS;AAClB,aAEAE,EAAO7E,UAAU6wB,gBACjBhsB,EAAO7E,UAAU8wB,gBAAgB,SAAwB92B,GAAO2K,GAAQkpB;YAQtE,OAPA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,YAAY,IAC5DhL,KAAKgL,IAAS,KAAM3K,MAAU,IAC9BL,KAAKgL,IAAS,KAAM3K,MAAU,IAC9BL,KAAKgL,IAAS,KAAM3K,MAAU;YAC9BL,KAAKgL,KAAmB,MAAR3K,GACT2K,IAAS;AAClB,aAEAE,EAAO7E,UAAU+wB,gBACjBlsB,EAAO7E,UAAUgxB,gBAAgB,SAAwBh3B,GAAO2K,GAAQkpB;YAQtE,OAPA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,YAAY,IAC5DhL,KAAKgL,KAAW3K,MAAU,IAC1BL,KAAKgL,IAAS,KAAM3K,MAAU,IAC9BL,KAAKgL,IAAS,KAAM3K,MAAU;YAC9BL,KAAKgL,IAAS,KAAc,MAAR3K,GACb2K,IAAS;AAClB,aA8CAE,EAAO7E,UAAUixB,mBAAmBjC,GAAAA,SAA8Ch1B,GAAO2K,IAAS;YAChG,OAAO4oB,EAAe5zB,MAAMK,GAAO2K,GAAQ9B,OAAO,IAAIA,OAAO;AAC9D,eAEDgC,EAAO7E,UAAUkxB,mBAAmBlC,GAAAA,SAA8Ch1B,GAAO2K,IAAS;YAChG,OAAO8oB,EAAe9zB,MAAMK,GAAO2K,GAAQ9B,OAAO,IAAIA,OAAO;AAC9D,eAEDgC,EAAO7E,UAAUmxB,aAAa,SAAqBn3B,GAAO2K,GAAQP,GAAYypB;YAG5E,IAFA7zB,KAASA,GACT2K,OAAoB,IACfkpB,GAAU;cACb,MAAMuD,IAAQtG,KAAKwE,IAAI,GAAI,IAAIlrB,IAAc;cAE7CkpB,EAAS3zB,MAAMK,GAAO2K,GAAQP,GAAYgtB,IAAQ,IAAIA;AACxD;YAEA,IAAI/uB,IAAI,GACJ8rB,IAAM,GACNxL,IAAM;YAEV,KADAhpB,KAAKgL,KAAkB,MAAR3K,KACNqI,IAAI+B,MAAe+pB,KAAO,QAC7Bn0B,IAAQ,KAAa,MAAR2oB,KAAsC,MAAzBhpB,KAAKgL,IAAStC,IAAI,OAC9CsgB,IAAM,IAERhpB,KAAKgL,IAAStC,MAAOrI,IAAQm0B,KAAQ,KAAKxL,IAAM;YAGlD,OAAOhe,IAASP;AAClB,aAEAS,EAAO7E,UAAUqxB,aAAa,SAAqBr3B,GAAO2K,GAAQP,GAAYypB;YAG5E,IAFA7zB,KAASA,GACT2K,OAAoB,IACfkpB,GAAU;cACb,MAAMuD,IAAQtG,KAAKwE,IAAI,GAAI,IAAIlrB,IAAc;cAE7CkpB,EAAS3zB,MAAMK,GAAO2K,GAAQP,GAAYgtB,IAAQ,IAAIA;AACxD;YAEA,IAAI/uB,IAAI+B,IAAa,GACjB+pB,IAAM,GACNxL,IAAM;YAEV,KADAhpB,KAAKgL,IAAStC,KAAa,MAARrI,KACVqI,KAAK,MAAM8rB,KAAO,QACrBn0B,IAAQ,KAAa,MAAR2oB,KAAsC,MAAzBhpB,KAAKgL,IAAStC,IAAI,OAC9CsgB,IAAM,IAERhpB,KAAKgL,IAAStC,MAAOrI,IAAQm0B,KAAQ,KAAKxL,IAAM;YAGlD,OAAOhe,IAASP;AAClB,aAEAS,EAAO7E,UAAUsxB,YAAY,SAAoBt3B,GAAO2K,GAAQkpB;YAM9D,OALA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,MAAO,MACnD3K,IAAQ,MAAGA,IAAQ,MAAOA,IAAQ,IACtCL,KAAKgL,KAAmB,MAAR3K,GACT2K,IAAS;AAClB,aAEAE,EAAO7E,UAAUuxB,eAAe,SAAuBv3B,GAAO2K,GAAQkpB;YAMpE,OALA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,QAAS,QACzDhL,KAAKgL,KAAmB,MAAR3K,GAChBL,KAAKgL,IAAS,KAAM3K,MAAU,GACvB2K,IAAS;AAClB,aAEAE,EAAO7E,UAAUwxB,eAAe,SAAuBx3B,GAAO2K,GAAQkpB;YAMpE,OALA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,QAAS,QACzDhL,KAAKgL,KAAW3K,MAAU,GAC1BL,KAAKgL,IAAS,KAAc,MAAR3K,GACb2K,IAAS;AAClB,aAEAE,EAAO7E,UAAUyxB,eAAe,SAAuBz3B,GAAO2K,GAAQkpB;YAQpE,OAPA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,aAAa,aAC7DhL,KAAKgL,KAAmB,MAAR3K,GAChBL,KAAKgL,IAAS,KAAM3K,MAAU,GAC9BL,KAAKgL,IAAS,KAAM3K,MAAU;YAC9BL,KAAKgL,IAAS,KAAM3K,MAAU,IACvB2K,IAAS;AAClB,aAEAE,EAAO7E,UAAU0xB,eAAe,SAAuB13B,GAAO2K,GAAQkpB;YASpE,OARA7zB,KAASA,GACT2K,OAAoB,GACfkpB,KAAUP,EAAS3zB,MAAMK,GAAO2K,GAAQ,GAAG,aAAa,aACzD3K,IAAQ,MAAGA,IAAQ,aAAaA,IAAQ,IAC5CL,KAAKgL,KAAW3K,MAAU;YAC1BL,KAAKgL,IAAS,KAAM3K,MAAU,IAC9BL,KAAKgL,IAAS,KAAM3K,MAAU,GAC9BL,KAAKgL,IAAS,KAAc,MAAR3K,GACb2K,IAAS;AAClB,aAEAE,EAAO7E,UAAU2xB,kBAAkB3C,GAAAA,SAA6Ch1B,GAAO2K,IAAS;YAC9F,OAAO4oB,EAAe5zB,MAAMK,GAAO2K,IAAS9B,OAAO,uBAAuBA,OAAO;AAClF,eAEDgC,EAAO7E,UAAU4xB,kBAAkB5C,GAAAA,SAA6Ch1B,GAAO2K,IAAS;YAC9F,OAAO8oB,EAAe9zB,MAAMK,GAAO2K,IAAS9B,OAAO,uBAAuBA,OAAO;AAClF,eAiBDgC,EAAO7E,UAAU6xB,eAAe,SAAuB73B,GAAO2K,GAAQkpB;YACpE,OAAOF,EAAWh0B,MAAMK,GAAO2K,IAAAA,GAAckpB;AAC/C,aAEAhpB,EAAO7E,UAAU8xB,eAAe,SAAuB93B,GAAO2K,GAAQkpB;YACpE,OAAOF,EAAWh0B,MAAMK,GAAO2K,IAAAA,GAAekpB;AAChD,aAYAhpB,EAAO7E,UAAU+xB,gBAAgB,SAAwB/3B,GAAO2K,GAAQkpB;YACtE,OAAOC,EAAYn0B,MAAMK,GAAO2K,IAAAA,GAAckpB;AAChD,aAEAhpB,EAAO7E,UAAUgyB,gBAAgB,SAAwBh4B,GAAO2K,GAAQkpB;YACtE,OAAOC,EAAYn0B,MAAMK,GAAO2K,IAAAA,GAAekpB;AACjD,aAGAhpB,EAAO7E,UAAU2nB,OAAO,SAAegF,GAAQsF,GAAapN,GAAOyB;YACjE,KAAKzhB,EAAOojB,SAAS0E,IAAS,MAAM,IAAI9oB,UAAU;YAQlD,IAPKghB,MAAOA,IAAQ,IACfyB,KAAe,MAARA,MAAWA,IAAM3sB,KAAKyI,SAC9B6vB,KAAetF,EAAOvqB,WAAQ6vB,IAActF,EAAOvqB,SAClD6vB,MAAaA,IAAc,IAC5B3L,IAAM,KAAKA,IAAMzB,MAAOyB,IAAMzB;YAG9ByB,MAAQzB,GAAO,OAAO;YAC1B,IAAsB,MAAlB8H,EAAOvqB,UAAgC,MAAhBzI,KAAKyI,QAAc,OAAO;YAGrD,IAAI6vB,IAAc,GAChB,MAAM,IAAIlmB,WAAW;YAEvB,IAAI8Y,IAAQ,KAAKA,KAASlrB,KAAKyI,QAAQ,MAAM,IAAI2J,WAAW;YAC5D,IAAIua,IAAM,GAAG,MAAM,IAAIva,WAAW;YAG9Bua,IAAM3sB,KAAKyI,WAAQkkB,IAAM3sB,KAAKyI,SAC9BuqB,EAAOvqB,SAAS6vB,IAAc3L,IAAMzB,MACtCyB,IAAMqG,EAAOvqB,SAAS6vB,IAAcpN;YAGtC,MAAMhR,IAAMyS,IAAMzB;YAalB,OAXIlrB,SAASgzB,KAAqD,qBAApCnqB,WAAWxC,UAAUkyB,aAEjDv4B,KAAKu4B,WAAWD,GAAapN,GAAOyB,KAEpC9jB,WAAWxC,UAAU4E,IAAI7B,KACvB4pB,GACAhzB,KAAKq0B,SAASnJ,GAAOyB,IACrB2L;YAIGpe;AACT,aAMAhP,EAAO7E,UAAU8rB,OAAO,SAAe1C,GAAKvE,GAAOyB,GAAKa;YAEtD,IAAmB,mBAARiC,GAAkB;cAS3B,IARqB,mBAAVvE,KACTsC,IAAWtC,GACXA,IAAQ,GACRyB,IAAM3sB,KAAKyI,UACa,mBAARkkB,MAChBa,IAAWb,GACXA,IAAM3sB,KAAKyI,cAAAA,MAET+kB,KAA8C,mBAAbA,GACnC,MAAM,IAAItjB,UAAU;cAEtB,IAAwB,mBAAbsjB,MAA0BtiB,EAAOuiB,WAAWD,IACrD,MAAM,IAAItjB,UAAU,uBAAuBsjB;cAE7C,IAAmB,MAAfiC,EAAIhnB,QAAc;gBACpB,MAAM3H,IAAO2uB,EAAI/lB,WAAW;iBACV,WAAb8jB,KAAuB1sB,IAAO,OAClB,aAAb0sB,OAEFiC,IAAM3uB;AAEV;AACF,mBAA0B,mBAAR2uB,IAChBA,KAAY,MACY,oBAARA,MAChBA,IAAMxuB,OAAOwuB;YAIf,IAAIvE,IAAQ,KAAKlrB,KAAKyI,SAASyiB,KAASlrB,KAAKyI,SAASkkB,GACpD,MAAM,IAAIva,WAAW;YAGvB,IAAIua,KAAOzB,GACT,OAAOlrB;YAQT,IAAI0I;YACJ,IANAwiB,OAAkB,GAClByB,SAAAA,MAAMA,IAAoB3sB,KAAKyI,SAASkkB,MAAQ,GAE3C8C,MAAKA,IAAM,IAGG,mBAARA,GACT,KAAK/mB,IAAIwiB,GAAOxiB,IAAIikB,KAAOjkB,GACzB1I,KAAK0I,KAAK+mB,QAEP;cACL,MAAM3mB,IAAQoC,EAAOojB,SAASmB,KAC1BA,IACAvkB,EAAO+U,KAAKwP,GAAKjC,IACftT,IAAMpR,EAAML;cAClB,IAAY,MAARyR,GACF,MAAM,IAAIhQ,UAAU,gBAAgBulB,IAClC;cAEJ,KAAK/mB,IAAI,GAAGA,IAAIikB,IAAMzB,KAASxiB,GAC7B1I,KAAK0I,IAAIwiB,KAASpiB,EAAMJ,IAAIwR;AAEhC;YAEA,OAAOla;AACT;UAMA,MAAM+R,IAAS,CAAC;UAChB,SAASymB,EAAGC,GAAKC,GAAYC;YAC3B5mB,EAAO0mB,KAAO,cAAwBE;cACpC93B;gBACEM,SAEAhB,OAAOC,eAAeJ,MAAM,WAAW;kBACrCK,OAAOq4B,EAAW5G,MAAM9xB,MAAMkqB;kBAC9B7a,WAAS;kBACTC,eAAa;oBAIftP,KAAKsG,OAAO,GAAGtG,KAAKsG,SAASmyB,MAG7Bz4B,KAAKyB,cAEEzB,KAAKsG;AACd;cAEIxF;gBACF,OAAO23B;AACT;cAEI33B,SAAMT;gBACRF,OAAOC,eAAeJ,MAAM,QAAQ;kBAClCsP,eAAa;kBACbrL,aAAW;kBACX5D,OAAAA;kBACAgP,WAAS;;AAEb;cAEA3N;gBACE,OAAO,GAAG1B,KAAKsG,SAASmyB,OAASz4B,KAAKe;AACxC;;AAEJ;UA+BA,SAAS63B,EAAuBnJ;YAC9B,IAAIlF,IAAM,IACN7hB,IAAI+mB,EAAIhnB;YACZ,MAAMyiB,IAAmB,QAAXuE,EAAI,KAAa,IAAI;YACnC,MAAO/mB,KAAKwiB,IAAQ,GAAGxiB,KAAK,GAC1B6hB,IAAM,IAAIkF,EAAI7oB,MAAM8B,IAAI,GAAGA,KAAK6hB;YAElC,OAAO,GAAGkF,EAAI7oB,MAAM,GAAG8B,KAAK6hB;AAC9B;UAYA,SAASsJ,EAAYxzB,GAAOwnB,GAAKnP,GAAK0U,GAAKpiB,GAAQP;YACjD,IAAIpK,IAAQqY,KAAOrY,IAAQwnB,GAAK;cAC9B,MAAM6C,IAAmB,mBAAR7C,IAAmB,MAAM;cAC1C,IAAIvR;cAWJ,MARIA,IAFA7L,IAAa,IACH,MAARod,KAAaA,MAAQ3e,OAAO,KACtB,OAAOwhB,YAAYA,QAA2B,KAAlBjgB,IAAa,KAASigB,MAElD,SAASA,QAA2B,KAAlBjgB,IAAa,KAAS,IAAIigB,iBACtB,KAAlBjgB,IAAa,KAAS,IAAIigB,MAGhC,MAAM7C,IAAM6C,YAAYhS,IAAMgS;cAElC,IAAI3Y,EAAO8mB,iBAAiB,SAASviB,GAAOjW;AACpD;aAtBF,SAAsB+sB,GAAKpiB,GAAQP;cACjC6qB,EAAetqB,GAAQ,sBACnBoiB,EAAIpiB,WAAAA,MAAyBoiB,EAAIpiB,IAASP,MAC5C+qB,EAAYxqB,GAAQoiB,EAAI3kB,UAAUgC,IAAa;AAEnD,aALA,CAuBc2iB,GAAKpiB,GAAQP;AAC3B;UAEA,SAAS6qB,EAAgBj1B,GAAOiG;YAC9B,IAAqB,mBAAVjG,GACT,MAAM,IAAI0R,EAAO+mB,qBAAqBxyB,GAAM,UAAUjG;AAE1D;UAEA,SAASm1B,EAAan1B,GAAOoI,GAAQgmB;YACnC,IAAI0C,KAAK4H,MAAM14B,OAAWA,GAExB,MADAi1B,EAAej1B,GAAOouB,IAChB,IAAI1c,EAAO8mB,iBAAiBpK,KAAQ,UAAU,cAAcpuB;YAGpE,IAAIoI,IAAS,GACX,MAAM,IAAIsJ,EAAOinB;YAGnB,MAAM,IAAIjnB,EAAO8mB,iBAAiBpK,KAAQ,UACR,MAAMA,IAAO,IAAI,YAAYhmB,KAC7BpI;AACpC;UAvFAm4B,EAAE,sCACUlyB;YACR,OAAIA,IACK,GAAGA,kCAGL;AACR,cAAE8L,aACLomB,EAAE,kCACUlyB,GAAMonB;YACd,OAAO,QAAQpnB,4DAA+DonB;AAC/E,cAAExjB,YACLsuB,EAAE,8BACU5H,GAAKta,GAAO2iB;YACpB,IAAIC,IAAM,iBAAiBtI,uBACvBuI,IAAWF;YAWf,OAVIh4B,OAAOC,UAAU+3B,MAAU9H,KAAKiI,IAAIH,KAAS,KAAK,KACpDE,IAAWP,EAAsBlyB,OAAOuyB,MACd,mBAAVA,MAChBE,IAAWzyB,OAAOuyB,KACdA,IAAQ/vB,OAAO,MAAMA,OAAO,OAAO+vB,MAAU/vB,OAAO,MAAMA,OAAO,UACnEiwB,IAAWP,EAAsBO;YAEnCA,KAAY,MAEdD,KAAO,eAAe5iB,eAAmB6iB,KAClCD;AACR,cAAE9mB;UAiEL,MAAMinB,IAAoB;UAgB1B,SAASvK,EAAarjB,GAAQulB;YAE5B,IAAIK;YADJL,IAAQA,KAASrY,IAAAA;YAEjB,MAAMlQ,IAASgD,EAAOhD;YACtB,IAAI6wB,IAAgB;YACpB,MAAMxwB,IAAQ;YAEd,KAAK,IAAIJ,IAAI,GAAGA,IAAID,KAAUC,GAAG;cAI/B,IAHA2oB,IAAY5lB,EAAO/B,WAAWhB,IAG1B2oB,IAAY,SAAUA,IAAY,OAAQ;gBAE5C,KAAKiI,GAAe;kBAElB,IAAIjI,IAAY,OAAQ;qBAEjBL,KAAS,MAAM,KAAGloB,EAAMH,KAAK,KAAM,KAAM;oBAC9C;AACF;kBAAO,IAAID,IAAI,MAAMD,GAAQ;qBAEtBuoB,KAAS,MAAM,KAAGloB,EAAMH,KAAK,KAAM,KAAM;oBAC9C;AACF;kBAGA2wB,IAAgBjI;kBAEhB;AACF;gBAGA,IAAIA,IAAY,OAAQ;mBACjBL,KAAS,MAAM,KAAGloB,EAAMH,KAAK,KAAM,KAAM,MAC9C2wB,IAAgBjI;kBAChB;AACF;gBAGAA,IAAkE,SAArDiI,IAAgB,SAAU,KAAKjI,IAAY;AAC1D,qBAAWiI,MAEJtI,KAAS,MAAM,KAAGloB,EAAMH,KAAK,KAAM,KAAM;cAMhD,IAHA2wB,IAAgB,MAGZjI,IAAY,KAAM;gBACpB,KAAKL,KAAS,KAAK,GAAG;gBACtBloB,EAAMH,KAAK0oB;AACb,qBAAO,IAAIA,IAAY,MAAO;gBAC5B,KAAKL,KAAS,KAAK,GAAG;gBACtBloB,EAAMH,KACJ0oB,KAAa,IAAM,KACP,KAAZA,IAAmB;AAEvB,qBAAO,IAAIA,IAAY,OAAS;gBAC9B,KAAKL,KAAS,KAAK,GAAG;gBACtBloB,EAAMH,KACJ0oB,KAAa,KAAM,KACnBA,KAAa,IAAM,KAAO,KACd,KAAZA,IAAmB;AAEvB,qBAAO;gBAAA,MAAIA,IAAY,UASrB,MAAM,IAAIzwB,MAAM;gBARhB,KAAKowB,KAAS,KAAK,GAAG;gBACtBloB,EAAMH,KACJ0oB,KAAa,KAAO,KACpBA,KAAa,KAAM,KAAO,KAC1BA,KAAa,IAAM,KAAO,KACd,KAAZA,IAAmB;AAIvB;AACF;YAEA,OAAOvoB;AACT;UA2BA,SAASimB,EAAe6B;YACtB,OAAO9pB,EAAO+kB,YAxHhB,SAAsB+E;cAMpB,KAFAA,KAFAA,IAAMA,EAAItc,MAAM,KAAK,IAEX2D,OAAO4E,QAAQwc,GAAmB,KAEpC5wB,SAAS,GAAG,OAAO;cAE3B,MAAOmoB,EAAInoB,SAAS,KAAM,KACxBmoB,KAAY;cAEd,OAAOA;AACT,aAZA,CAwHwCA;AACxC;UAEA,SAASF,EAAY3L,GAAKwU,GAAKvuB,GAAQvC;YACrC,IAAIC;YACJ,KAAKA,IAAI,GAAGA,IAAID,OACTC,IAAIsC,KAAUuuB,EAAI9wB,UAAYC,KAAKqc,EAAItc,WADpBC,GAExB6wB,EAAI7wB,IAAIsC,KAAU+Z,EAAIrc;YAExB,OAAOA;AACT;UAKA,SAASqlB,EAAYM,GAAKI;YACxB,OAAOJ,aAAeI,KACZ,QAAPJ,KAAkC,QAAnBA,EAAIxtB,eAA+C,QAAxBwtB,EAAIxtB,YAAYyF,QACzD+nB,EAAIxtB,YAAYyF,SAASmoB,EAAKnoB;AACpC;UACA,SAASkoB,EAAaH;YAEpB,OAAOA,KAAQA;AACjB;UAIA,MAAMmF,IAAsB;YAC1B,MAAMgG,IAAW,oBACXC,IAAQ,IAAI71B,MAAM;YACxB,KAAK,IAAI8E,IAAI,GAAGA,IAAI,MAAMA,GAAG;cAC3B,MAAMgxB,IAAU,KAAJhxB;cACZ,KAAK,IAAI0nB,IAAI,GAAGA,IAAI,MAAMA,GACxBqJ,EAAMC,IAAMtJ,KAAKoJ,EAAS9wB,KAAK8wB,EAASpJ;AAE5C;YACA,OAAOqJ;AACR,WAV2B;UAa5B,SAASpE,EAAoBpvB;YAC3B,OAAyB,sBAAXiD,SAAyBywB,IAAyB1zB;AAClE;UAEA,SAAS0zB;YACP,MAAM,IAAI/4B,MAAM;AAClB;AAAA;QAAA;UAAA;UCnjEAf,EAAQ+5B,aA2IR,SAAoBpU;YAQnB,IAPAA,EAAK,MAAMxlB,KAAK65B,YAAY,OAAO,MAClC75B,KAAK85B,aACJ95B,KAAK65B,YAAY,QAAQ,OAC1BrU,EAAK,MACJxlB,KAAK65B,YAAY,QAAQ,OAC1B,MAAMj6B,EAAOC,QAAQk6B,SAAS/5B,KAAKgY;aAE/BhY,KAAK65B,WACT;YAGD,MAAM7d,IAAI,YAAYhc,KAAKg6B;YAC3BxU,EAAKyF,OAAO,GAAG,GAAGjP,GAAG;YAKrB,IAAI+G,IAAQ,GACRkX,IAAQ;YACZzU,EAAK,GAAG3I,QAAQ,gBAAerI;cAChB,SAAVA,MAGJuO,KACc,SAAVvO,MAGHylB,IAAQlX;AACR,iBAGFyC,EAAKyF,OAAOgP,GAAO,GAAGje;AACvB,aA3KAnc,EAAQq6B,OA6LR,SAAcC;YACb;cACKA,IACHt6B,EAAQu6B,QAAQC,QAAQ,SAASF,KAEjCt6B,EAAQu6B,QAAQE,WAAW;AAK7B,cAHE,OAAO11B,IAGT;AACD,aAvMA/E,EAAQ0a,OA+MR;YACC,IAAI9Z;YACJ;cACCA,IAAIZ,EAAQu6B,QAAQG,QAAQ;AAI7B,cAHE,OAAO31B,IAGT;YAOA,QAJKnE,UAAAA,MAAY4kB,KAA2B,SAASA,MACpD5kB,IAAI4kB,EAAQC,IAAIkV,QAGV/5B;AACR,aA7NAZ,EAAQg6B,YAyGR;YAIC,SAAsB,sBAAXtO,WAA0BA,OAAOlG,WAAoC,eAAxBkG,OAAOlG,QAAQoJ,SAAuBlD,OAAOlG,QAAQoV,YAKpF,sBAAdC,cAA6BA,UAAUC,cAAaD,UAAUC,UAAUxxB,cAAcqL,MAAM,8BAM3E,sBAAbomB,YAA4BA,SAASC,mBAAmBD,SAASC,gBAAgBC,SAASF,SAASC,gBAAgBC,MAAMC,oBAEpH,sBAAXxP,UAA0BA,OAAO9F,YAAY8F,OAAO9F,QAAQuV,WAAYzP,OAAO9F,QAAQwV,aAAa1P,OAAO9F,QAAQgU,UAGrG,sBAAdiB,aAA6BA,UAAUC,aAAaD,UAAUC,UAAUxxB,cAAcqL,MAAM,qBAAqBK,SAASxN,OAAO6zB,IAAI,OAAO,MAE9H,sBAAdR,aAA6BA,UAAUC,aAAaD,UAAUC,UAAUxxB,cAAcqL,MAAM;AACtG,aA/HA3U,EAAQu6B,UAyOR;YACC;cAGC,OAAOe;AAIR,cAHE,OAAOv2B,IAGT;AACD,WATA,IAxOA/E,EAAQu7B,UAAU;YACjB,IAAIC,KAAAA;YAEJ,OAAO;cACDA,MACJA,KAAAA,GACA5V,QAAQ6V,KAAK;AAAA;AAGf,YATiB,IAelBz7B,EAAQ07B,SAAS,EAChB,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA;UAsFD17B,EAAQ27B,MAAM/V,QAAQxK,SAASwK,QAAQ+V,OAAO,QAAS,IAkEvD57B,EAAOC,UAAUY,EAAQ,KAARA,CAAoBZ;UAErC,OAAM,YAAC47B,KAAc77B,EAAOC;UAM5B47B,EAAWrL,IAAI,SAAUvW;YACxB;cACC,OAAO3H,KAAKC,UAAU0H;AAGvB,cAFE,OAAOjV;cACR,OAAO,iCAAiCA,EAAM7D;AAC/C;AACD;AAAA;QAAA;UCKAnB,EAAOC,UA3QP,SAAeylB;YAqDd,SAASoW,EAAY5B;cACpB,IAAI6B,GAEAC,GACAC,GAFAC,IAAiB;cAIrB,SAAS7gB,KAASuK;gBAEjB,KAAKvK,EAAM8gB,SACV;gBAGD,MAAMj8B,IAAOmb,GAGP+gB,IAAO/6B,OAAO,IAAIoU,OAClB4mB,IAAKD,KAAQL,KAAYK;gBAC/Bl8B,EAAKkY,OAAOikB,GACZn8B,EAAKsY,OAAOujB,GACZ77B,EAAKk8B,OAAOA,GACZL,IAAWK,GAEXxW,EAAK,KAAKkW,EAAYtvB,OAAOoZ,EAAK,KAEX,mBAAZA,EAAK,MAEfA,EAAKpL,QAAQ;gBAId,IAAI2I,IAAQ;gBACZyC,EAAK,KAAKA,EAAK,GAAG3I,QAAQ,kBAAgB,CAAErI,GAAOsH;kBAElD,IAAc,SAAVtH,GACH,OAAO;kBAERuO;kBACA,MAAMmZ,IAAYR,EAAYD,WAAW3f;kBACzC,IAAyB,qBAAdogB,GAA0B;oBACpC,MAAMzM,IAAMjK,EAAKzC;oBACjBvO,IAAQ0nB,EAAU9yB,KAAKtJ,GAAM2vB,IAG7BjK,EAAKyF,OAAOlI,GAAO,IACnBA;AACD;kBACA,OAAOvO;AAAK,qBAIbknB,EAAY9B,WAAWxwB,KAAKtJ,GAAM0lB,KAEpB1lB,EAAK07B,OAAOE,EAAYF,KAChC1J,MAAMhyB,GAAM0lB;AACnB;cAgCA,OA9BAvK,EAAM6e,YAAYA,GAClB7e,EAAM4e,YAAY6B,EAAY7B,aAC9B5e,EAAM+e,QAAQ0B,EAAYS,YAAYrC,IACtC7e,EAAMzH,SAASA,GACfyH,EAAMmgB,UAAUM,EAAYN,SAE5Bj7B,OAAOC,eAAe6a,GAAO,WAAW;gBACvChX,aAAW;gBACXqL,eAAa;gBACbpL,KAAK,MACmB,SAAnB43B,IACIA,KAEJF,MAAoBF,EAAYvB,eACnCyB,IAAkBF,EAAYvB,YAC9B0B,IAAeH,EAAYK,QAAQjC,KAG7B+B;gBAER5wB,KAAK4O;kBACJiiB,IAAiBjiB;AAAAA;kBAKa,qBAArB6hB,EAAYU,QACtBV,EAAYU,KAAKnhB,IAGXA;AACR;YAEA,SAASzH,EAAOsmB,GAAWuC;cAC1B,MAAMC,IAAWZ,EAAY17B,KAAK85B,kBAAAA,MAAoBuC,IAA4B,MAAMA,KAAavC;cAErG,OADAwC,EAASd,MAAMx7B,KAAKw7B,KACbc;AACR;YAwFA,SAASC,EAAYC;cACpB,OAAOA,EAAO96B,WACZmN,UAAU,GAAG2tB,EAAO96B,WAAW+G,SAAS,GACxCoU,QAAQ,WAAW;AACtB;YA0BA,OAvQA6e,EAAYzgB,QAAQygB,GACpBA,EAAY/5B,UAAU+5B,GACtBA,EAAYtvB,SAoPZ,SAAgBqjB;cACf,OAAIA,aAAe7uB,QACX6uB,EAAIhuB,SAASguB,EAAI1uB,UAElB0uB;AACR,eAxPAiM,EAAYe,UAwLZ;cACC,MAAMtC,IAAa,KACfuB,EAAYgB,MAAM73B,IAAI03B,OACtBb,EAAYiB,MAAM93B,IAAI03B,GAAa13B,KAAIi1B,KAAa,MAAMA,MAC5D7wB,KAAK;cAEP,OADAyyB,EAAYkB,OAAO,KACZzC;AACR,eA9LAuB,EAAYkB,SAsJZ,SAAgBzC;cAOf,IAAIzxB;cANJgzB,EAAYxB,KAAKC,IACjBuB,EAAYvB,aAAaA,GAEzBuB,EAAYgB,QAAQ,IACpBhB,EAAYiB,QAAQ;cAGpB,MAAMroB,KAA+B,mBAAf6lB,IAA0BA,IAAa,IAAI7lB,MAAM,WACjE4F,IAAM5F,EAAM7L;cAElB,KAAKC,IAAI,GAAGA,IAAIwR,GAAKxR,KACf4L,EAAM5L,OAOW,SAFtByxB,IAAa7lB,EAAM5L,GAAGmU,QAAQ,OAAO,QAEtB,KACd6e,EAAYiB,MAAMh0B,KAAK,IAAItB,OAAO,MAAM8yB,EAAWvzB,MAAM,KAAK,QAE9D80B,EAAYgB,MAAM/zB,KAAK,IAAItB,OAAO,MAAM8yB,IAAa;AAGxD,eA9KAuB,EAAYK,UAsMZ,SAAiBz1B;cAChB,IAA8B,QAA1BA,EAAKA,EAAKmC,SAAS,IACtB,QAAM;cAGP,IAAIC,GACAwR;cAEJ,KAAKxR,IAAI,GAAGwR,IAAMwhB,EAAYiB,MAAMl0B,QAAQC,IAAIwR,GAAKxR,KACpD,IAAIgzB,EAAYiB,MAAMj0B,GAAG6S,KAAKjV,IAC7B,QAAM;cAIR,KAAKoC,IAAI,GAAGwR,IAAMwhB,EAAYgB,MAAMj0B,QAAQC,IAAIwR,GAAKxR,KACpD,IAAIgzB,EAAYgB,MAAMh0B,GAAG6S,KAAKjV,IAC7B,QAAM;cAIR,QAAM;AACP,eA1NAo1B,EAAY3B,WAAWt5B,EAAQ,OAC/Bi7B,EAAYN,UA0PZ;cACC3V,QAAQ6V,KAAK;AACd,eA1PAn7B,OAAO+N,KAAKoX,GAAKxX,SAAQxI;cACxBo2B,EAAYp2B,KAAOggB,EAAIhgB;AAAI,iBAO5Bo2B,EAAYgB,QAAQ,IACpBhB,EAAYiB,QAAQ,IAOpBjB,EAAYD,aAAa,CAAC,GAkB1BC,EAAYS,cAVZ,SAAqBrC;cACpB,IAAI+C,IAAO;cAEX,KAAK,IAAIn0B,IAAI,GAAGA,IAAIoxB,EAAUrxB,QAAQC,KACrCm0B,KAASA,KAAQ,KAAKA,IAAQ/C,EAAUpwB,WAAWhB,IACnDm0B,KAAQ;cAGT,OAAOnB,EAAYH,OAAOpK,KAAKiI,IAAIyD,KAAQnB,EAAYH,OAAO9yB;AAC/D,eA2NAizB,EAAYkB,OAAOlB,EAAYnhB,SAExBmhB;AACR;AAAA;QAAA;UAAA,iBC/QIoB,IAAOr8B,EAAQ,MAEfs8B,IAAO,YAAY,GAUnBC,IAAM,SAASC,GAAQl5B,GAAMm5B;YAChC,IAAoB,qBAATn5B,GAAqB,OAAOi5B,EAAIC,GAAQ,MAAMl5B;YACpDA,MAAMA,IAAO,CAAC,IAEnBm5B,IAAWJ,EAAKI,KAAYH;YAE5B,IAAII,IAAKF,EAAOG,gBACZC,IAAKJ,EAAOK,gBACZC,IAAWx5B,EAAKw5B,aAAAA,MAAax5B,EAAKw5B,YAAsBN,EAAOM,UAC/DluB,IAAWtL,EAAKsL,aAAAA,MAAatL,EAAKsL,YAAsB4tB,EAAO5tB,UAC/DmuB,KAAAA,GAEAC,IAAiB;cACfR,EAAO5tB,YAAUquB;AACvB,eAEIA,IAAW;cACdruB,KAAAA,GACKkuB,KAAUL,EAAS9zB,KAAK6zB;AAC9B,eAEIU,IAAQ;cACXJ,KAAAA,GACKluB,KAAU6tB,EAAS9zB,KAAK6zB;AAC9B,eAEIW,IAAS,SAASC;cACrBX,EAAS9zB,KAAK6zB,GAAQY,IAAW,IAAIj9B,MAAM,6BAA6Bi9B,KAAY;AACrF,eAEIC,IAAU,SAASC;cACtBb,EAAS9zB,KAAK6zB,GAAQc;AACvB,eAEIC,IAAU;cACb3Y,EAAQ4Y,SAASC;AAClB,eAEIA,IAAkB;cACrB,KAAIV,GACJ,SAAID,KAAcF,KAAOA,EAAGc,UAAUd,EAAGe,gBACrC/uB,KAAc8tB,KAAOA,EAAGgB,UAAUhB,EAAGiB,kBAAAA,IADoBlB,EAAS9zB,KAAK6zB,GAAQ,IAAIr8B,MAAM;AAE9F,eAEIy9B,IAAY;cACfpB,EAAOqB,IAAIC,GAAG,UAAUb;AACzB;YAmBA,OAzEe,SAAST;cACxB,OAAOA,EAAOuB,aAAqC,qBAAjBvB,EAAOwB;AAC1C,aAFgB,CAwDDxB,MACbA,EAAOsB,GAAG,YAAYb,IACtBT,EAAOsB,GAAG,SAASP,IACff,EAAOqB,MAAKD,MACXpB,EAAOsB,GAAG,WAAWF,MAChBhvB,MAAa8tB,MACvBF,EAAOsB,GAAG,OAAOd,IACjBR,EAAOsB,GAAG,SAASd;YA3DA,SAASR;cAC7B,OAAOA,EAAOyB,SAAS96B,MAAMC,QAAQo5B,EAAOyB,UAAkC,MAAxBzB,EAAOyB,MAAMj2B;AACpE,aAFqB,CA8DDw0B,MAASA,EAAOsB,GAAG,QAAQX,IAE9CX,EAAOsB,GAAG,OAAOZ,IACjBV,EAAOsB,GAAG,UAAUb,KAAAA,MAChB35B,EAAKa,SAAiBq4B,EAAOsB,GAAG,SAAST,IAC7Cb,EAAOsB,GAAG,SAASP,IAEZ;cACNR,KAAAA,GACAP,EAAO0B,eAAe,YAAYjB,IAClCT,EAAO0B,eAAe,SAASX,IAC/Bf,EAAO0B,eAAe,WAAWN,IAC7BpB,EAAOqB,OAAKrB,EAAOqB,IAAIK,eAAe,UAAUjB;cACpDT,EAAO0B,eAAe,OAAOlB,IAC7BR,EAAO0B,eAAe,SAASlB,IAC/BR,EAAO0B,eAAe,UAAUjB,IAChCT,EAAO0B,eAAe,QAAQf,IAC9BX,EAAO0B,eAAe,OAAOhB;cAC7BV,EAAO0B,eAAe,SAASb,IAC/Bb,EAAO0B,eAAe,SAASX;AAChC;AACD;UAEAp+B,EAAOC,UAAUm9B;AAAAA;QAAAA,MAAAA;UAAAA;UCtEjB,IAOI4B,GAPA7Y,IAAuB,mBAAZ8Y,UAAuBA,UAAU,MAC5CC,IAAe/Y,KAAwB,qBAAZA,EAAE+L,QAC7B/L,EAAE+L,QACF,SAAsBkB,GAAQhmB,GAAUwY;YACxC,OAAOuZ,SAAS14B,UAAUyrB,MAAM1oB,KAAK4pB,GAAQhmB,GAAUwY;AACzD;UAIAoZ,IADE7Y,KAA0B,qBAAdA,EAAEiZ,UACCjZ,EAAEiZ,UACV7+B,OAAO8+B,wBACC,SAAwBjM;YACvC,OAAO7yB,OAAOgF,oBAAoB6tB,GAC/BR,OAAOryB,OAAO8+B,sBAAsBjM;AACzC,cAEiB,SAAwBA;YACvC,OAAO7yB,OAAOgF,oBAAoB6tB;AACpC;UAOF,IAAIkM,IAAcj+B,OAAOmhB,SAAS,SAAqB/hB;YACrD,OAAOA,KAAUA;AACnB;UAEA,SAAS8+B;YACPA,EAAa/C,KAAKhzB,KAAKpJ;AACzB;UACAJ,EAAOC,UAAUs/B,GACjBv/B,EAAOC,QAAQi9B,OAwYf,SAAcsC,GAAS94B;YACrB,OAAO,IAAI+4B,SAAQ,SAAUC,GAASC;cACpC,SAASC,EAAczB;gBACrBqB,EAAQT,eAAer4B,GAAMm5B,IAC7BF,EAAOxB;AACT;cAEA,SAAS0B;gBAC+B,qBAA3BL,EAAQT,kBACjBS,EAAQT,eAAe,SAASa,IAElCF,EAAQ,GAAG14B,MAAMwC,KAAK8gB;AACxB;cAEAwV,EAA+BN,GAAS94B,GAAMm5B,GAAU;gBAAE3C,OAAK;kBAClD,YAATx2B,KAMR,SAAuC84B,GAASO,GAASC;gBAC7B,qBAAfR,EAAQb,MACjBmB,EAA+BN,GAAS,SAASO,GAPO;kBAAE7C,OAAK;;AASnE,eAJA,CALoCsC,GAASI;AAE1C;AACH,aAxZAL,EAAaA,eAAeA,GAE5BA,EAAa94B,UAAUw5B,eAAAA,GACvBV,EAAa94B,UAAUy5B,eAAe,GACtCX,EAAa94B,UAAU05B,qBAAAA;UAIvB,IAAIC,IAAsB;UAE1B,SAASC,EAAcC;YACrB,IAAwB,qBAAbA,GACT,MAAM,IAAIh2B,UAAU,4EAA4Eg2B;AAEpG;UAoCA,SAASC,EAAiBC;YACxB,kBAAIA,EAAKL,gBACAZ,EAAaa,sBACfI,EAAKL;AACd;UAkDA,SAASM,EAAarN,GAAQvE,GAAMyR,GAAUI;YAC5C,IAAItxB,GACAuxB,GACAC,GA1HsBC;YAgJ1B,IApBAR,EAAcC,SAAAA,OAEdK,IAASvN,EAAO6M,YAEdU,IAASvN,EAAO6M,UAAU1/B,OAAOuM,OAAO,OACxCsmB,EAAO8M,eAAe,iBAIlBS,EAAOG,gBACT1N,EAAO2N,KAAK,eAAelS,GACfyR,EAASA,WAAWA,EAASA,WAAWA;YAIpDK,IAASvN,EAAO6M,UAElBW,IAAWD,EAAO9R,UAAAA,MAGhB+R,GAEFA,IAAWD,EAAO9R,KAAQyR,KACxBlN,EAAO8M,mBAeT,IAbwB,qBAAbU,IAETA,IAAWD,EAAO9R,KAChB6R,IAAU,EAACJ,GAAUM,MAAY,EAACA,GAAUN,MAErCI,IACTE,EAASpmB,QAAQ8lB,KAEjBM,EAAS73B,KAAKu3B;aAIhBlxB,IAAImxB,EAAiBnN,MACb,KAAKwN,EAAS/3B,SAASuG,MAAMwxB,EAASnF,QAAQ;cACpDmF,EAASnF,UAAAA;cAGT,IAAIuF,IAAI,IAAIhgC,MAAM,iDACE4/B,EAAS/3B,SAAS,MAAM/B,OAAO+nB,KADjC;cAIlBmS,EAAEt6B,OAAO,+BACTs6B,EAAExB,UAAUpM,GACZ4N,EAAEnS,OAAOA,GACTmS,EAAE1rB,QAAQsrB,EAAS/3B,QA7KGg4B,IA8KHG,GA7KnBnb,WAAWA,QAAQ6V,QAAM7V,QAAQ6V,KAAKmF;AA8KxC;YAGF,OAAOzN;AACT;UAaA,SAAS6N;YACP,KAAK7gC,KAAK8gC,OAGR,OAFA9gC,KAAKgzB,OAAO2L,eAAe3+B,KAAKyuB,MAAMzuB,KAAK+gC,SAC3C/gC,KAAK8gC,SAAAA,GACoB,MAArB5W,UAAUzhB,SACLzI,KAAKkgC,SAAS92B,KAAKpJ,KAAKgzB,UAC1BhzB,KAAKkgC,SAASpO,MAAM9xB,KAAKgzB,QAAQ9I;AAE5C;UAEA,SAAS8W,EAAUhO,GAAQvE,GAAMyR;YAC/B,IAAIjzB,IAAQ;cAAE6zB,QAAM;cAAQC,aAAO;cAAY/N,QAAQA;cAAQvE,MAAMA;cAAMyR,UAAUA;eACjFe,IAAUJ,EAAYK,KAAKj0B;YAG/B,OAFAg0B,EAAQf,WAAWA,GACnBjzB,EAAM8zB,SAASE,GACRA;AACT;UAyHA,SAASE,EAAWnO,GAAQvE,GAAM2S;YAChC,IAAIb,IAASvN,EAAO6M;YAEpB,eAAIU,GACF,OAAO;YAET,IAAIc,IAAad,EAAO9R;YACxB,kBAAI4S,IACK,KAEiB,qBAAfA,IACFD,IAAS,EAACC,EAAWnB,YAAYmB,MAAc,EAACA,MAElDD,IAsDT,SAAyB5mB;cAEvB,KADA,IAAIuE,IAAM,IAAInb,MAAM4W,EAAI/R,SACfC,IAAI,GAAGA,IAAIqW,EAAItW,UAAUC,GAChCqW,EAAIrW,KAAK8R,EAAI9R,GAAGw3B,YAAY1lB,EAAI9R;cAElC,OAAOqW;AACT,aANA,CArDoBsiB,KAAcC,EAAWD,GAAYA,EAAW54B;AACpE;UAmBA,SAAS84B,EAAc9S;YACrB,IAAI8R,IAASvgC,KAAK6/B;YAElB,eAAIU,GAAsB;cACxB,IAAIc,IAAad,EAAO9R;cAExB,IAA0B,qBAAf4S,GACT,OAAO;cACF,eAAIA,GACT,OAAOA,EAAW54B;AAEtB;YAEA,OAAO;AACT;UAMA,SAAS64B,EAAW9mB,GAAKkQ;YAEvB,KADA,IAAIsD,IAAO,IAAIpqB,MAAM8mB,IACZhiB,IAAI,GAAGA,IAAIgiB,KAAKhiB,GACvBslB,EAAKtlB,KAAK8R,EAAI9R;YAChB,OAAOslB;AACT;UA2CA,SAAS0R,EAA+BN,GAAS94B,GAAM45B,GAAUN;YAC/D,IAA0B,qBAAfR,EAAQb,IACbqB,EAAM9C,OACRsC,EAAQtC,KAAKx2B,GAAM45B,KAEnBd,EAAQb,GAAGj4B,GAAM45B,SAEd;cAAA,IAAwC,qBAA7Bd,EAAQoC,kBAYxB,MAAM,IAAIt3B,UAAU,+EAA+Ek1B;cATnGA,EAAQoC,iBAAiBl7B,IAAAA,SAAem7B,EAAaj+B;gBAG/Co8B,EAAM9C,QACRsC,EAAQsC,oBAAoBp7B,GAAMm7B,IAEpCvB,EAAS18B;AACV;AAGH;AACF;UAraArD,OAAOC,eAAe++B,GAAc,uBAAuB;YACzDl7B,aAAW;YACXC,KAAK;cACH,OAAO87B;AACT;YACA/0B,KAAK,SAASzH;cACZ,IAAmB,mBAARA,KAAoBA,IAAM,KAAK07B,EAAY17B,IACpD,MAAM,IAAI4O,WAAW,oGAAoG5O,IAAM;cAEjIw8B,IAAsBx8B;AACxB;cAGF27B,EAAa/C,OAAO;iBAAA,MAEdp8B,KAAK6/B,WACL7/B,KAAK6/B,YAAY1/B,OAAOkU,eAAerU,MAAM6/B,YAC/C7/B,KAAK6/B,UAAU1/B,OAAOuM,OAAO;YAC7B1M,KAAK8/B,eAAe,IAGtB9/B,KAAK+/B,gBAAgB//B,KAAK+/B,sBAAAA;AAC5B,aAIAZ,EAAa94B,UAAUs7B,kBAAkB,SAAyBjX;YAChE,IAAiB,mBAANA,KAAkBA,IAAI,KAAKwU,EAAYxU,IAChD,MAAM,IAAItY,WAAW,kFAAkFsY,IAAI;YAG7G,OADA1qB,KAAK+/B,gBAAgBrV,GACd1qB;AACT,aAQAm/B,EAAa94B,UAAUu7B,kBAAkB;YACvC,OAAOzB,EAAiBngC;AAC1B,aAEAm/B,EAAa94B,UAAUs6B,OAAO,SAAclS;YAE1C,KADA,IAAIjJ,IAAO,IACF9c,IAAI,GAAGA,IAAIwhB,UAAUzhB,QAAQC,KAAK8c,EAAK7c,KAAKuhB,UAAUxhB;YAC/D,IAAIm5B,IAAoB,YAATpT,GAEX8R,IAASvgC,KAAK6/B;YAClB,eAAIU,GACFsB,IAAWA,UAAAA,MAAWtB,EAAO37B,YAC1B,KAAKi9B,GACR,QAAM;YAGR,IAAIA,GAAS;cACX,IAAIrmB;cAGJ,IAFIgK,EAAK/c,SAAS,MAChB+S,IAAKgK,EAAK,KACRhK,aAAc5a,OAGhB,MAAM4a;cAGR,IAAIuiB,IAAM,IAAIn9B,MAAM,sBAAsB4a,IAAK,OAAOA,EAAGza,UAAU,MAAM;cAEzE,MADAg9B,EAAInsB,UAAU4J,GACRuiB;AACR;YAEA,IAAI4B,IAAUY,EAAO9R;YAErB,eAAIkR,GACF,QAAM;YAER,IAAuB,qBAAZA,GACTb,EAAaa,GAAS3/B,MAAMwlB,SAE5B;cAAA,IAAItL,IAAMylB,EAAQl3B,QACdq5B,IAAYR,EAAW3B,GAASzlB;cACpC,KAASxR,IAAI,GAAGA,IAAIwR,KAAOxR,GACzBo2B,EAAagD,EAAUp5B,IAAI1I,MAAMwlB;AAHX;YAM1B,QAAM;AACR,aAgEA2Z,EAAa94B,UAAU07B,cAAc,SAAqBtT,GAAMyR;YAC9D,OAAOG,EAAargC,MAAMyuB,GAAMyR,IAAAA;AAClC,aAEAf,EAAa94B,UAAUk4B,KAAKY,EAAa94B,UAAU07B,aAEnD5C,EAAa94B,UAAU27B,kBACnB,SAAyBvT,GAAMyR;YAC7B,OAAOG,EAAargC,MAAMyuB,GAAMyR,IAAAA;AAClC,aAoBJf,EAAa94B,UAAUy2B,OAAO,SAAcrO,GAAMyR;YAGhD,OAFAD,EAAcC,IACdlgC,KAAKu+B,GAAG9P,GAAMuS,EAAUhhC,MAAMyuB,GAAMyR,KAC7BlgC;AACT,aAEAm/B,EAAa94B,UAAU47B,sBACnB,SAA6BxT,GAAMyR;YAGjC,OAFAD,EAAcC,IACdlgC,KAAKgiC,gBAAgBvT,GAAMuS,EAAUhhC,MAAMyuB,GAAMyR,KAC1ClgC;AACT,aAGJm/B,EAAa94B,UAAUs4B,iBACnB,SAAwBlQ,GAAMyR;YAC5B,IAAIpc,GAAMyc,GAAQ2B,GAAUx5B,GAAGy5B;YAK/B,IAHAlC,EAAcC,SAAAA,OAEdK,IAASvgC,KAAK6/B,UAEZ,OAAO7/B;YAGT,gBADA8jB,IAAOyc,EAAO9R,KAEZ,OAAOzuB;YAET,IAAI8jB,MAASoc,KAAYpc,EAAKoc,aAAaA,GACb,OAAtBlgC,KAAK8/B,eACT9/B,KAAK6/B,UAAU1/B,OAAOuM,OAAO,gBAEtB6zB,EAAO9R,IACV8R,EAAO5B,kBACT3+B,KAAK2gC,KAAK,kBAAkBlS,GAAM3K,EAAKoc,YAAYA,UAElD,IAAoB,qBAATpc,GAAqB;cAGrC,KAFAoe,KAAY,GAEPx5B,IAAIob,EAAKrb,SAAS,GAAGC,KAAK,GAAGA,KAChC,IAAIob,EAAKpb,OAAOw3B,KAAYpc,EAAKpb,GAAGw3B,aAAaA,GAAU;gBACzDiC,IAAmBre,EAAKpb,GAAGw3B,UAC3BgC,IAAWx5B;gBACX;AACF;cAGF,IAAIw5B,IAAW,GACb,OAAOliC;cAEQ,MAAbkiC,IACFpe,EAAK0G,UAiIf,SAAmB1G,GAAMf;gBACvB,MAAOA,IAAQ,IAAIe,EAAKrb,QAAQsa,KAC9Be,EAAKf,KAASe,EAAKf,IAAQ;gBAC7Be,EAAKxJ;AACP,eAJA,CA/HoBwJ,GAAMoe,IAGE,MAAhBpe,EAAKrb,WACP83B,EAAO9R,KAAQ3K,EAAK,gBAElByc,EAAO5B,kBACT3+B,KAAK2gC,KAAK,kBAAkBlS,GAAM0T,KAAoBjC;AAC1D;YAEA,OAAOlgC;AACT,aAEJm/B,EAAa94B,UAAU+7B,MAAMjD,EAAa94B,UAAUs4B,gBAEpDQ,EAAa94B,UAAUg8B,qBACnB,SAA4B5T;YAC1B,IAAIqT,GAAWvB,GAAQ73B;YAGvB,gBADA63B,IAASvgC,KAAK6/B,UAEZ,OAAO7/B;YAGT,eAAIugC,EAAO5B,gBAUT,OATyB,MAArBzU,UAAUzhB,UACZzI,KAAK6/B,UAAU1/B,OAAOuM,OAAO,OAC7B1M,KAAK8/B,eAAe,gBACXS,EAAO9R,OACY,OAAtBzuB,KAAK8/B,eACT9/B,KAAK6/B,UAAU1/B,OAAOuM,OAAO,eAEtB6zB,EAAO9R;YAEXzuB;YAIT,IAAyB,MAArBkqB,UAAUzhB,QAAc;cAC1B,IACInD,GADA4I,IAAO/N,OAAO+N,KAAKqyB;cAEvB,KAAK73B,IAAI,GAAGA,IAAIwF,EAAKzF,UAAUC,GAEjB,sBADZpD,IAAM4I,EAAKxF,OAEX1I,KAAKqiC,mBAAmB/8B;cAK1B,OAHAtF,KAAKqiC,mBAAmB,mBACxBriC,KAAK6/B,UAAU1/B,OAAOuM,OAAO,OAC7B1M,KAAK8/B,eAAe,GACb9/B;AACT;YAIA,IAAyB,sBAFzB8hC,IAAYvB,EAAO9R,KAGjBzuB,KAAK2+B,eAAelQ,GAAMqT,SACrB,eAAIA,GAET,KAAKp5B,IAAIo5B,EAAUr5B,SAAS,GAAGC,KAAK,GAAGA,KACrC1I,KAAK2+B,eAAelQ,GAAMqT,EAAUp5B;YAIxC,OAAO1I;AACT,aAmBJm/B,EAAa94B,UAAUy7B,YAAY,SAAmBrT;YACpD,OAAO0S,EAAWnhC,MAAMyuB,IAAAA;AAC1B,aAEA0Q,EAAa94B,UAAUi8B,eAAe,SAAsB7T;YAC1D,OAAO0S,EAAWnhC,MAAMyuB,IAAAA;AAC1B,aAEA0Q,EAAaoC,gBAAgB,SAASnC,GAAS3Q;YAC7C,OAAqC,qBAA1B2Q,EAAQmC,gBACVnC,EAAQmC,cAAc9S,KAEtB8S,EAAcn4B,KAAKg2B,GAAS3Q;AAEvC,aAEA0Q,EAAa94B,UAAUk7B,gBAAgBA,GAiBvCpC,EAAa94B,UAAUk8B,aAAa;YAClC,OAAOviC,KAAK8/B,eAAe,IAAIlB,EAAe5+B,KAAK6/B,WAAW;AAChE;AAAA;QAAA;UAAA;UCnaAjgC,EAAOC,UAAU,SAAS2iC,EAAM5gB,GAAGC;YACjC,IAAID,MAAMC,GAAG,QAAM;YAEnB,IAAID,KAAKC,KAAiB,mBAALD,KAA6B,mBAALC,GAAe;cAC1D,IAAID,EAAE/gB,gBAAgBghB,EAAEhhB,aAAa,QAAM;cAE3C,IAAI4H,GAAQC,GAAGwF;cACf,IAAItK,MAAMC,QAAQ+d,IAAI;gBAEpB,KADAnZ,IAASmZ,EAAEnZ,WACGoZ,EAAEpZ,QAAQ,QAAM;gBAC9B,KAAKC,IAAID,GAAgB,KAARC,OACf,KAAK85B,EAAM5gB,EAAElZ,IAAImZ,EAAEnZ,KAAK,QAAM;gBAChC,QAAM;AACR;cAIA,IAAIkZ,EAAE/gB,gBAAgBwG,QAAQ,OAAOua,EAAE6gB,WAAW5gB,EAAE4gB,UAAU7gB,EAAEge,UAAU/d,EAAE+d;cAC5E,IAAIhe,EAAEwM,YAAYjuB,OAAOkG,UAAU+nB,SAAS,OAAOxM,EAAEwM,cAAcvM,EAAEuM;cACrE,IAAIxM,EAAElgB,aAAavB,OAAOkG,UAAU3E,UAAU,OAAOkgB,EAAElgB,eAAemgB,EAAEngB;cAIxE,KADA+G,KADAyF,IAAO/N,OAAO+N,KAAK0T,IACLnZ,YACCtI,OAAO+N,KAAK2T,GAAGpZ,QAAQ,QAAM;cAE5C,KAAKC,IAAID,GAAgB,KAARC,OACf,KAAKvI,OAAOkG,UAAUoJ,eAAerG,KAAKyY,GAAG3T,EAAKxF,KAAK,QAAM;cAE/D,KAAKA,IAAID,GAAgB,KAARC,OAAY;gBAC3B,IAAIpD,IAAM4I,EAAKxF;gBAEf,KAAK85B,EAAM5gB,EAAEtc,IAAMuc,EAAEvc,KAAO,QAAM;AACpC;cAEA,QAAM;AACR;YAGA,OAAOsc,KAAIA,KAAKC,KAAIA;AACtB;AAAA;QAAA;UC7CAjiB,EAAOC,UAAUsS,GACjBA,EAAUxQ,UAAUwQ,GACpBA,EAAUuwB,SAASC,GACnBxwB,EAAUywB,kBAAkBD;UAE5B,IAAIE,IAAqB,SACrBC,IAAwB,cAExBtoB,IAAM,IACNuoB,IAAgB;UAEpB,SAASC;YACP,OAAO;cACLC,YAAYhiC,OAAOqJ;cACnB44B,YAAYjiC,OAAOqJ;;AAEvB;UAGA,SAAS6H,EAAWkc,GAAK8U,GAAUC,GAAQ78B;YAMzC,IAAIgkB;iBAAAA,MALOhkB,MACTA,IAAUy8B,MAGZK,EAAOhV,GAAK,IAAI,GAAG,SAAG,GAAY,GAAG9nB;YAErC;cAEIgkB,IAD2B,MAAzBwY,EAAct6B,SACVyJ,KAAKC,UAAUkc,GAAK8U,GAAUC,KAE9BlxB,KAAKC,UAAUkc,GAAKiV,EAAoBH,IAAWC;AAa7D,cAXE,OAAOvhC;cACP,OAAOqQ,KAAKC,UAAU;AACxB,cAAE;cACA,MAAsB,MAAfqI,EAAI/R,UAAc;gBACvB,IAAI86B,IAAO/oB,EAAIF;gBACK,MAAhBipB,EAAK96B,SACPtI,OAAOC,eAAemjC,EAAK,IAAIA,EAAK,IAAIA,EAAK,MAE7CA,EAAK,GAAGA,EAAK,MAAMA,EAAK;AAE5B;AACF;YACA,OAAOhZ;AACT;UAEA,SAASiZ,EAAY3mB,GAAS4S,GAAKxgB,GAAGw0B;YACpC,IAAIC,IAAqBvjC,OAAOiP,yBAAyBq0B,GAAQx0B;iBAAAA,MAC7Dy0B,EAAmBx/B,MACjBw/B,EAAmBp0B,gBACrBnP,OAAOC,eAAeqjC,GAAQx0B,GAAG;cAAE5O,OAAOwc;gBAC1CrC,EAAI7R,KAAK,EAAC86B,GAAQx0B,GAAGwgB,GAAKiU,QAE1BX,EAAcp6B,KAAK,EAAC8mB,GAAKxgB,GAAG4N,QAG9B4mB,EAAOx0B,KAAK4N,GACZrC,EAAI7R,KAAK,EAAC86B,GAAQx0B,GAAGwgB;AAEzB;UAEA,SAAS4T,EAAQ5T,GAAKxgB,GAAG00B,GAAWliC,GAAOgiC,GAAQG,GAAOr9B;YAExD,IAAImC;YACJ,IAFAk7B,KAAS,GAEU,mBAARnU,KAA4B,SAARA,GAAc;cAC3C,KAAK/mB,IAAI,GAAGA,IAAIjH,EAAMgH,QAAQC,KAC5B,IAAIjH,EAAMiH,OAAO+mB,GAEf,YADA+T,EAAWV,GAAuBrT,GAAKxgB,GAAGw0B;cAK9C,eACSl9B,EAAQ08B,cACfW,IAAQr9B,EAAQ08B,YAGhB,YADAO,EAAWX,GAAoBpT,GAAKxgB,GAAGw0B;cAIzC,eACSl9B,EAAQ28B,cACfS,IAAY,IAAIp9B,EAAQ28B,YAGxB,YADAM,EAAWX,GAAoBpT,GAAKxgB,GAAGw0B;cAMzC,IAFAhiC,EAAMkH,KAAK8mB,IAEP7rB,MAAMC,QAAQ4rB,IAChB,KAAK/mB,IAAI,GAAGA,IAAI+mB,EAAIhnB,QAAQC,KAC1B26B,EAAO5T,EAAI/mB,IAAIA,GAAGA,GAAGjH,GAAOguB,GAAKmU,GAAOr9B,SAErC;gBACL,IAAI2H,IAAO/N,OAAO+N,KAAKuhB;gBACvB,KAAK/mB,IAAI,GAAGA,IAAIwF,EAAKzF,QAAQC,KAAK;kBAChC,IAAIpD,IAAM4I,EAAKxF;kBACf26B,EAAO5T,EAAInqB,IAAMA,GAAKoD,GAAGjH,GAAOguB,GAAKmU,GAAOr9B;AAC9C;AACF;cACA9E,EAAM6Y;AACR;AACF;UAGA,SAASupB,EAAiBjiB,GAAGC;YAC3B,OAAID,IAAIC,KACE,IAEND,IAAIC,IACC,IAEF;AACT;UAEA,SAAS8gB,EAAwBtU,GAAK8U,GAAUC,GAAQ78B;iBAAAA,MAC3CA,MACTA,IAAUy8B;YAGZ,IACIzY,GADAuB,IAAMgY,EAAoBzV,GAAK,IAAI,GAAG,SAAG,GAAY,GAAG9nB,MAAY8nB;YAExE;cAEI9D,IAD2B,MAAzBwY,EAAct6B,SACVyJ,KAAKC,UAAU2Z,GAAKqX,GAAUC,KAE9BlxB,KAAKC,UAAU2Z,GAAKwX,EAAoBH,IAAWC;AAc7D,cAZE,OAAOvhC;cACP,OAAOqQ,KAAKC,UAAU;AACxB,cAAE;cAEA,MAAsB,MAAfqI,EAAI/R,UAAc;gBACvB,IAAI86B,IAAO/oB,EAAIF;gBACK,MAAhBipB,EAAK96B,SACPtI,OAAOC,eAAemjC,EAAK,IAAIA,EAAK,IAAIA,EAAK,MAE7CA,EAAK,GAAGA,EAAK,MAAMA,EAAK;AAE5B;AACF;YACA,OAAOhZ;AACT;UAEA,SAASuZ,EAAqBrU,GAAKxgB,GAAG00B,GAAWliC,GAAOgiC,GAAQG,GAAOr9B;YAErE,IAAImC;YACJ,IAFAk7B,KAAS,GAEU,mBAARnU,KAA4B,SAARA,GAAc;cAC3C,KAAK/mB,IAAI,GAAGA,IAAIjH,EAAMgH,QAAQC,KAC5B,IAAIjH,EAAMiH,OAAO+mB,GAEf,YADA+T,EAAWV,GAAuBrT,GAAKxgB,GAAGw0B;cAI9C;gBACE,IAA0B,qBAAfhU,EAAI4D,QACb;AAIJ,gBAFE,OAAOxxB;gBACP;AACF;cAEA,eACS0E,EAAQ08B,cACfW,IAAQr9B,EAAQ08B,YAGhB,YADAO,EAAWX,GAAoBpT,GAAKxgB,GAAGw0B;cAIzC,eACSl9B,EAAQ28B,cACfS,IAAY,IAAIp9B,EAAQ28B,YAGxB,YADAM,EAAWX,GAAoBpT,GAAKxgB,GAAGw0B;cAMzC,IAFAhiC,EAAMkH,KAAK8mB,IAEP7rB,MAAMC,QAAQ4rB,IAChB,KAAK/mB,IAAI,GAAGA,IAAI+mB,EAAIhnB,QAAQC,KAC1Bo7B,EAAoBrU,EAAI/mB,IAAIA,GAAGA,GAAGjH,GAAOguB,GAAKmU,GAAOr9B,SAElD;gBAEL,IAAIulB,IAAM,CAAC,GACP5d,IAAO/N,OAAO+N,KAAKuhB,GAAK1L,KAAK8f;gBACjC,KAAKn7B,IAAI,GAAGA,IAAIwF,EAAKzF,QAAQC,KAAK;kBAChC,IAAIpD,IAAM4I,EAAKxF;kBACfo7B,EAAoBrU,EAAInqB,IAAMA,GAAKoD,GAAGjH,GAAOguB,GAAKmU,GAAOr9B,IACzDulB,EAAIxmB,KAAOmqB,EAAInqB;AACjB;gBACA,eAAWm+B,GAIT,OAAO3X;gBAHPtR,EAAI7R,KAAK,EAAC86B,GAAQx0B,GAAGwgB,MACrBgU,EAAOx0B,KAAK6c;AAIhB;cACArqB,EAAM6Y;AACR;AACF;UAIA,SAASgpB,EAAqBH;YAO5B,OANAA,SAAAA,MACSA,IACHA,IACA,SAAUl0B,GAAG4K;cACb,OAAOA;AACT,eACG,SAAUvU,GAAKmqB;cACpB,IAAIsT,EAAct6B,SAAS,GACzB,KAAK,IAAIC,IAAI,GAAGA,IAAIq6B,EAAct6B,QAAQC,KAAK;gBAC7C,IAAI66B,IAAOR,EAAcr6B;gBACzB,IAAI66B,EAAK,OAAOj+B,KAAOi+B,EAAK,OAAO9T,GAAK;kBACtCA,IAAM8T,EAAK,IACXR,EAAc9X,OAAOviB,GAAG;kBACxB;AACF;AACF;cAEF,OAAOy6B,EAAS/5B,KAAKpJ,MAAMsF,GAAKmqB;AAClC;AACF;AAAA;QAAA;UCnOA5vB,EAAQmwB,OAAO,SAAU7kB,GAAQH,GAAQ+4B,GAAMC,GAAMC;YACnD,IAAInqB,GAAG9K,GACHk1B,IAAiB,IAATD,IAAcD,IAAO,GAC7BG,KAAQ,KAAKD,KAAQ,GACrBE,IAAQD,KAAQ,GAChBE,KAAS,GACT37B,IAAIq7B,IAAQE,IAAS,IAAK,GAC1BK,IAAIP,KAAQ,IAAI,GAChB1hB,IAAIlX,EAAOH,IAAStC;YAOxB,KALAA,KAAK47B,GAELxqB,IAAIuI,KAAM,MAAOgiB,KAAU,GAC3BhiB,OAAQgiB,GACRA,KAASH,GACFG,IAAQ,GAAGvqB,IAAS,MAAJA,IAAW3O,EAAOH,IAAStC,IAAIA,KAAK47B,GAAGD,KAAS;YAKvE,KAHAr1B,IAAI8K,KAAM,MAAOuqB,KAAU,GAC3BvqB,OAAQuqB,GACRA,KAASL,GACFK,IAAQ,GAAGr1B,IAAS,MAAJA,IAAW7D,EAAOH,IAAStC,IAAIA,KAAK47B,GAAGD,KAAS;YAEvE,IAAU,MAANvqB,GACFA,IAAI,IAAIsqB,QACH;cAAA,IAAItqB,MAAMqqB,GACf,OAAOn1B,IAAIu1B,MAAsB5rB,IAAAA,KAAd0J,KAAK,IAAI;cAE5BrT,KAAQmiB,KAAKwE,IAAI,GAAGqO,IACpBlqB,KAAQsqB;AACV;YACA,QAAQ/hB,KAAK,IAAI,KAAKrT,IAAImiB,KAAKwE,IAAI,GAAG7b,IAAIkqB;AAC5C,aAEAnkC,EAAQ8tB,QAAQ,SAAUxiB,GAAQ9K,GAAO2K,GAAQ+4B,GAAMC,GAAMC;YAC3D,IAAInqB,GAAG9K,GAAGgN,GACNkoB,IAAiB,IAATD,IAAcD,IAAO,GAC7BG,KAAQ,KAAKD,KAAQ,GACrBE,IAAQD,KAAQ,GAChBK,IAAe,OAATR,IAAc7S,KAAKwE,IAAI,IAAI,MAAMxE,KAAKwE,IAAI,IAAI,MAAM,GAC1DjtB,IAAIq7B,IAAO,IAAKE,IAAS,GACzBK,IAAIP,IAAO,KAAK,GAChB1hB,IAAIhiB,IAAQ,KAAgB,MAAVA,KAAe,IAAIA,IAAQ,IAAK,IAAI;YAmC1D,KAjCAA,IAAQ8wB,KAAKiI,IAAI/4B,IAEb+hB,MAAM/hB,MAAUA,MAAUsY,IAAAA,KAC5B3J,IAAIoT,MAAM/hB,KAAS,IAAI,GACvByZ,IAAIqqB,MAEJrqB,IAAIqX,KAAK4H,MAAM5H,KAAKqK,IAAIn7B,KAAS8wB,KAAKsT;YAClCpkC,KAAS2b,IAAImV,KAAKwE,IAAI,IAAI7b,MAAM,MAClCA,KACAkC,KAAK,KAGL3b,KADEyZ,IAAIsqB,KAAS,IACNI,IAAKxoB,IAELwoB,IAAKrT,KAAKwE,IAAI,GAAG,IAAIyO,MAEpBpoB,KAAK,MACflC,KACAkC,KAAK;YAGHlC,IAAIsqB,KAASD,KACfn1B,IAAI,GACJ8K,IAAIqqB,KACKrqB,IAAIsqB,KAAS,KACtBp1B,KAAM3O,IAAQ2b,IAAK,KAAKmV,KAAKwE,IAAI,GAAGqO,IACpClqB,KAAQsqB,MAERp1B,IAAI3O,IAAQ8wB,KAAKwE,IAAI,GAAGyO,IAAQ,KAAKjT,KAAKwE,IAAI,GAAGqO;YACjDlqB,IAAI,KAIDkqB,KAAQ,GAAG74B,EAAOH,IAAStC,KAAS,MAAJsG,GAAUtG,KAAK47B,GAAGt1B,KAAK,KAAKg1B,KAAQ;YAI3E,KAFAlqB,IAAKA,KAAKkqB,IAAQh1B,GAClBk1B,KAAQF,GACDE,IAAO,GAAG/4B,EAAOH,IAAStC,KAAS,MAAJoR,GAAUpR,KAAK47B,GAAGxqB,KAAK,KAAKoqB,KAAQ;YAE1E/4B,EAAOH,IAAStC,IAAI47B,MAAU,MAAJjiB;AAC5B;AAAA;QAAA;UAAA;UClFA,MAAMqiB,IAAWzH,KACL,SAAXA,KACkB,mBAAXA,KACgB,qBAAhBA,EAAO0H;UAEfD,EAASr1B,WAAW4tB,KACnByH,EAASzH,OAAAA,MACTA,EAAO5tB,YACkB,qBAAlB4tB,EAAO2H,UACmB,mBAA1B3H,EAAOG,gBAEfsH,EAASnH,WAAWN,KACnByH,EAASzH,OAAAA,MACTA,EAAOM,YACiB,qBAAjBN,EAAO4H,SACmB,mBAA1B5H,EAAOK;UAEfoH,EAASI,SAAS7H,KACjByH,EAASr1B,SAAS4tB,MAClByH,EAASnH,SAASN,IAEnByH,EAASK,YAAY9H,KACpByH,EAASI,OAAO7H,MACa,qBAAtBA,EAAO+H,YAEfplC,EAAOC,UAAU6kC;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UAAAA,IAAAA,EAAAA,IAAAA;UCjBjB,IAGIO,IAAiB,6BAOjB36B,IAAmB,kBAGnB46B,IAAU,sBAMVC,IAAU,qBAKVC,IAAY,mBA2BZC,IAAe,+BAGfC,IAAW,oBAGXC,IAAiB,CAAC;UACtBA,EAxBiB,2BAwBYA,EAvBZ,2BAwBjBA,EAvBc,wBAuBYA,EAtBX,yBAuBfA,EAtBe,yBAsBYA,EArBZ,yBAsBfA,EArBsB,gCAqBYA,EApBlB,0BAqBhBA,EApBgB;UAqBhBA,EAAeL,KAAWK,EAjDX,oBAkDfA,EAhCqB,0BAgCYA,EAhDnB,sBAiDdA,EAhCkB,uBAgCYA,EAhDhB,mBAiDdA,EAhDe,oBAgDYA,EAAeJ,KAC1CI,EA9Ca,kBA8CYA,EA7CT,qBA8ChBA,EAAeH,KAAaG,EA1CZ,qBA2ChBA,EA1Ca,kBA0CYA,EAzCT,qBA0ChBA,EAxCiB;UA2CjB,IAoIMC,GAtBWC,GAAMV,GA9GnBW,IAA8B,mBAAV,EAAAC,KAAsB,EAAAA,KAAU,EAAAA,EAAOxlC,WAAWA,UAAU,EAAAwlC,GAGhFC,IAA0B,mBAAR9lC,QAAoBA,QAAQA,KAAKK,WAAWA,UAAUL,MAGxEJ,IAAOgmC,KAAcE,KAAY7G,SAAS,cAATA,IAGjC8G,IAA4ChmC,MAAYA,EAAQimC,YAAYjmC,GAG5EkmC,IAAaF,KAA4CjmC,MAAWA,EAAOkmC,YAAYlmC,GAGvFomC,IAAgBD,KAAcA,EAAWlmC,YAAYgmC,GAGrDI,IAAcD,KAAiBN,EAAWrgB,SAG1C6gB,IAAY;YACd;cAIE,OAFYH,KAAcA,EAAWI,WAAWJ,EAAWI,QAAQ,QAAQC,SAOpEH,KAAeA,EAAYI,WAAWJ,EAAYI,QAAQ;AACtD,cAAX,OAAOvsB,IAAI;AACf,WAZgB,IAeZwsB,IAAmBJ,KAAYA,EAASK,cAiFxCC,IAAa5iC,MAAMyC,WACnBogC,IAAY1H,SAAS14B,WACrBqgC,IAAcvmC,OAAOkG,WAGrBsgC,IAAajnC,EAAK,uBAGlBknC,IAAeH,EAAU/kC,UAGzB+N,IAAiBi3B,EAAYj3B,gBAG7Bo3B,KACErB,IAAM,SAAS1iB,KAAK6jB,KAAcA,EAAWz4B,QAAQy4B,EAAWz4B,KAAK44B,YAAY,OACvE,mBAAmBtB,IAAO,IAQtCuB,IAAuBL,EAAYhlC,UAGnCslC,IAAmBJ,EAAax9B,KAAKjJ,SAGrC8mC,IAAa5/B,OAAO,MACtBu/B,EAAax9B,KAAKqG,GAAgBoN,QA7KjB,uBA6KuC,QACvDA,QAAQ,0DAA0D,WAAW,MAI5E3R,IAAS86B,IAAgBtmC,EAAKwL,cAAAA,GAC9B0C,IAASlO,EAAKkO,QACd/E,IAAanJ,EAAKmJ,YAElBq+B,KADch8B,KAASA,EAAOqiB;UA9CjBkY,IA+CUtlC,OAAOkU,gBA/CX0wB,IA+C2B5kC,QA9CzC,SAASqD;YACd,OAAOiiC,EAAKV,EAAUvhC;AACxB,cA6CE2jC,IAAehnC,OAAOuM,QACtB06B,IAAuBV,EAAYU,sBACnCnc,IAASub,EAAWvb,QACpBoc,IAAiBz5B,IAASA,EAAO05B,mBAAAA,GAEjClnC,IAAkB;YACpB;cACE,IAAIqlC,IAAO8B,GAAUpnC,QAAQ;cAE7B,OADAslC,EAAK,CAAC,GAAG,IAAI,CAAC,IACPA;AACI,cAAX,OAAO3rB,IAAI;AACf,WANsB,IASlB0tB,IAAiBt8B,IAASA,EAAOojB,gBAAAA,GACjCmZ,IAAYtW,KAAKzY,KACjBgvB,IAAYryB,KAAKC,KAGjB7H,IAAM85B,GAAU7nC,GAAM,QACtBioC,IAAeJ,GAAUpnC,QAAQ,WAUjCynC,IAAc;YAChB,SAAS1iC,KAAU;YACnB,OAAO,SAASkP;cACd,KAAKpP,GAASoP,IACZ,OAAO,CAAC;cAEV,IAAI+yB,GACF,OAAOA,EAAa/yB;cAEtBlP,EAAOmB,YAAY+N;cACnB,IAAI3H,IAAS,IAAIvH;cAEjB,OADAA,EAAOmB,iBAAAA,GACAoG;AACT;AACF,WAdkB;UAuBlB,SAASo7B,EAAKr6B;YACZ,IAAIuV,KAAS,GACTta,IAAoB,QAAX+E,IAAkB,IAAIA,EAAQ/E;YAG3C,KADAzI,KAAK8nC,WACI/kB,IAAQta,KAAQ;cACvB,IAAI3D,IAAQ0I,EAAQuV;cACpB/iB,KAAKiL,IAAInG,EAAM,IAAIA,EAAM;AAC3B;AACF;UA6FA,SAASijC,EAAUv6B;YACjB,IAAIuV,KAAS,GACTta,IAAoB,QAAX+E,IAAkB,IAAIA,EAAQ/E;YAG3C,KADAzI,KAAK8nC,WACI/kB,IAAQta,KAAQ;cACvB,IAAI3D,IAAQ0I,EAAQuV;cACpB/iB,KAAKiL,IAAInG,EAAM,IAAIA,EAAM;AAC3B;AACF;UA0GA,SAASkjC,EAASx6B;YAChB,IAAIuV,KAAS,GACTta,IAAoB,QAAX+E,IAAkB,IAAIA,EAAQ/E;YAG3C,KADAzI,KAAK8nC,WACI/kB,IAAQta,KAAQ;cACvB,IAAI3D,IAAQ0I,EAAQuV;cACpB/iB,KAAKiL,IAAInG,EAAM,IAAIA,EAAM;AAC3B;AACF;UA4FA,SAASmjC,EAAMz6B;YACb,IAAIxM,IAAOhB,KAAKkoC,WAAW,IAAIH,EAAUv6B;YACzCxN,KAAKwL,OAAOxK,EAAKwK;AACnB;UAsIA,SAAS28B,EAAiBjjC,GAAQI,GAAKjF;kBAAAA,MAChCA,MAAwBiiB,GAAGpd,EAAOI,IAAMjF,WAAAA,MACxCA,OAAyBiF,KAAOJ,OACnCkjC,GAAgBljC,GAAQI,GAAKjF;AAEjC;UAYA,SAASgoC,EAAYnjC,GAAQI,GAAKjF;YAChC,IAAIioC,IAAWpjC,EAAOI;YAChBmK,EAAerG,KAAKlE,GAAQI,MAAQgd,GAAGgmB,GAAUjoC,YAAAA,MAClDA,KAAyBiF,KAAOJ,MACnCkjC,GAAgBljC,GAAQI,GAAKjF;AAEjC;UAUA,SAASkoC,GAAa92B,GAAOnM;YAE3B,KADA,IAAImD,IAASgJ,EAAMhJ,QACZA,OACL,IAAI6Z,GAAG7Q,EAAMhJ,GAAQ,IAAInD,IACvB,OAAOmD;YAGX,QAAQ;AACV;UAWA,SAAS2/B,GAAgBljC,GAAQI,GAAKjF;YACzB,eAAPiF,KAAsBlF,IACxBA,EAAe8E,GAAQI,GAAK;cAC1B;cACA;cACA,OAASjF;cACT;iBAGF6E,EAAOI,KAAOjF;AAElB;UAsBA,SAASmoC,GAAWnoC;YAClB,OAAa,QAATA,SAAAA,MACKA,IA7xBQ,uBANL,kBAqyBJgnC,KAAkBA,KAAkBlnC,OAAOE,KA6YrD,SAAmBA;cACjB,IAAIooC,IAAQh5B,EAAerG,KAAK/I,GAAOgnC,IACnCqB,IAAMroC,EAAMgnC;cAEhB;gBACEhnC,EAAMgnC,UAAAA;gBACN,IAAIsB,KAAAA;AACO,gBAAX,OAAO7uB,IAAI;cAEb,IAAIrN,IAASs6B,EAAqB39B,KAAK/I;cAQvC,OAPIsoC,MACEF,IACFpoC,EAAMgnC,KAAkBqB,WAEjBroC,EAAMgnC,KAGV56B;AACT,aAlBA,CA5YgBpM,KAwhBhB,SAAwBA;cACtB,OAAO0mC,EAAqB39B,KAAK/I;AACnC,aAFA,CAvhBqBA;AACrB;UASA,SAASuoC,GAAgBvoC;YACvB,OAAOwoC,GAAaxoC,MAAUmoC,GAAWnoC,MAAU6kC;AACrD;UA+DA,SAAS4D,GAAU5jC,GAAQu9B,GAAQsG,GAAUC,GAAYvnC;YACnDyD,MAAWu9B,KA4QR,SAASv9B,GAAQ+jC,GAAUC;cAMhC,KALA,IAAInmB,KAAS,GACTomB,IAAWhpC,OAAO+E,IAClBkkC,IAAQF,EAAShkC,IACjBuD,IAAS2gC,EAAM3gC,QAEZA,OAAU;gBACf,IAAInD,IAAM8jC,IAA6BrmB;gBACvC,WAAIkmB,EAASE,EAAS7jC,IAAMA,IAC1B;AAEJ;AAEF,aAbO,CAzQCm9B,IAAAA,SAAiB4G,GAAU/jC;cAEjC,IADA7D,MAAUA,IAAQ,IAAIwmC,IAClBjjC,GAASqkC,KA+BjB,SAAuBnkC,GAAQu9B,GAAQn9B,GAAKyjC,GAAUO,GAAWN,GAAYvnC;gBAC3E,IAAI6mC,IAAWiB,GAAQrkC,GAAQI,IAC3B+jC,IAAWE,GAAQ9G,GAAQn9B,IAC3BkkC,IAAU/nC,EAAMyC,IAAImlC;gBAExB,IAAIG,GACFrB,EAAiBjjC,GAAQI,GAAKkkC,SADhC;kBAIA,IA0HuBC,GACnBt+B,GAfoBu+B,GACpBj9B,GA2iBqBpM,GAxpBrBspC,IAAWX,IACXA,EAAWV,GAAUe,GAAW/jC,IAAM,IAAKJ,GAAQu9B,GAAQhhC,UAAAA,GAG3DmoC,SAAAA,MAAWD;kBAEf,IAAIC,GAAU;oBACZ,IAAIC,IAAQhmC,GAAQwlC,IAChBS,KAAUD,KAASvb,GAAS+a,IAC5BU,KAAWF,MAAUC,KAAUvD,GAAa8C;oBAEhDM,IAAWN,GACPQ,KAASC,KAAUC,IACjBlmC,GAAQykC,KACVqB,IAAWrB,IA2oBVO,GADkBxoC,IAxoBMioC,MAyoBD0B,GAAY3pC,KAxoBpCspC,IAsHR,SAAmBlH,GAAQhxB;sBACzB,IAAIsR,KAAS,GACTta,IAASg6B,EAAOh6B;sBAGpB,KADAgJ,MAAUA,IAAQ7N,MAAM6E,OACfsa,IAAQta,KACfgJ,EAAMsR,KAAS0f,EAAO1f;sBAExB,OAAOtR;AACT,qBATA,CAtH6B62B,KAEdwB,KACPF,KAAAA,GACAD,IAqER,SAAqBx+B,GAAQ8+B;sBAEzB,OAAO9+B,EAAOvE;AAOlB,qBATA,CArE+ByiC,MAEhBU,KACPH,KAAAA,GAqFFn9B,IAAS,KADWi9B,KAcDD,IAjGUJ,GAkGiBl+B,QAdrBtK,YAAY6oC,EAAYj/B,aACrD,IAAI5B,EAAW4D,GAAQxB,IAAI,IAAIpC,EAAW6gC,KAatCv+B,IAZGsB,GAtFDk9B,IAmGC,IAAIF,EAAW5oC,YAAYsK,GAAQs+B,EAAWr+B,YAAYq+B,EAAWhhC,WAhGtEkhC,IAAW,KAmyBnB,SAAuBtpC;sBACrB,KAAKwoC,GAAaxoC,MAAUmoC,GAAWnoC,MAAU+kC,GAC/C,QAAM;sBAER,IAAIhxB,IAAQ8yB,EAAa7mC;sBACzB,IAAc,SAAV+T,GACF,QAAM;sBAER,IAAI81B,IAAOz6B,EAAerG,KAAKgL,GAAO,kBAAkBA,EAAMvT;sBAC9D,OAAsB,qBAARqpC,KAAsBA,aAAgBA,KAClDtD,EAAax9B,KAAK8gC,MAASlD;AAC/B,qBAXA,CAhyB2BqC,MAAac,GAAYd,MAC9CM,IAAWrB,GACP6B,GAAY7B,KACdqB,IAq1BR,SAAuBtpC;sBACrB,OA5tBF,SAAoBoiC,GAAQ2G,GAAOlkC,GAAQ8jC;wBACzC,IAAIoB,KAASllC;wBACbA,MAAWA,IAAS,CAAC;wBAKrB,KAHA,IAAI6d,KAAS,GACTta,IAAS2gC,EAAM3gC,UAEVsa,IAAQta,KAAQ;0BACvB,IAAInD,IAAM8jC,EAAMrmB,IAEZ4mB,SAAAA;+BAEAxjB,MAEAwjB,MACFA,IAAWlH,EAAOn9B,KAEhB8kC,IACFhC,GAAgBljC,GAAQI,GAAKqkC,KAE7BtB,EAAYnjC,GAAQI,GAAKqkC;AAE7B;wBACA,OAAOzkC;AACT,uBAxBA,CA4tBoB7E,GAAOgqC,GAAOhqC;AAClC,qBAFA,CAr1BiCioC,KAEjBtjC,GAASsjC,OAAagC,GAAWhC,OACzCqB,IAwQR,SAAyBzkC;sBACvB,OAAqC,qBAAtBA,EAAOrE,eAA8B0pC,GAAYrlC,KAE5D,CAAC,IADD0iC,EAAWV,EAAahiC;AAE9B,qBAJA,CAxQmCmkC,OAI7BO,KAAAA;AAEJ;kBACIA,MAEFnoC,EAAMwJ,IAAIo+B,GAAUM,IACpBL,EAAUK,GAAUN,GAAUN,GAAUC,GAAYvnC,IACpDA,EAAc,OAAE4nC,KAElBlB,EAAiBjjC,GAAQI,GAAKqkC;AAnD9B;AAoDF,eA5DA,CA9BoBzkC,GAAQu9B,GAAQn9B,GAAKyjC,GAAUD,IAAWE,GAAYvnC,SAEjE;gBACH,IAAIkoC,IAAWX,IACXA,EAAWO,GAAQrkC,GAAQI,IAAM+jC,GAAW/jC,IAAM,IAAKJ,GAAQu9B,GAAQhhC,UAAAA;qBACvE0kB,MAEAwjB,MACFA,IAAWN,IAEblB,EAAiBjjC,GAAQI,GAAKqkC;AAChC;AACD,gBAAEU;AACL;UAxiBAxC,EAAKxhC,UAAUyhC,QAvEf;YACE9nC,KAAKkoC,WAAWP,IAAeA,EAAa,QAAQ,CAAC,GACrD3nC,KAAKwL,OAAO;AACd,aAqEAq8B,EAAKxhC,UAAkB,SAzDvB,SAAoBf;YAClB,IAAImH,IAASzM,KAAKoN,IAAI9H,aAAetF,KAAKkoC,SAAS5iC;YAEnD,OADAtF,KAAKwL,QAAQiB,IAAS,IAAI,GACnBA;AACT,aAsDAo7B,EAAKxhC,UAAUnC,MA3Cf,SAAiBoB;YACf,IAAItE,IAAOhB,KAAKkoC;YAChB,IAAIP,GAAc;cAChB,IAAIl7B,IAASzL,EAAKsE;cAClB,OAAOmH,MAAWw4B,SAAAA,IAA6Bx4B;AACjD;YACA,OAAOgD,EAAerG,KAAKpI,GAAMsE,KAAOtE,EAAKsE,UAAAA;AAC/C,aAqCAuiC,EAAKxhC,UAAU+G,MA1Bf,SAAiB9H;YACf,IAAItE,IAAOhB,KAAKkoC;YAChB,OAAOP,SAAAA,MAAgB3mC,EAAKsE,KAAsBmK,EAAerG,KAAKpI,GAAMsE;AAC9E,aAwBAuiC,EAAKxhC,UAAU4E,MAZf,SAAiB3F,GAAKjF;YACpB,IAAIW,IAAOhB,KAAKkoC;YAGhB,OAFAloC,KAAKwL,QAAQxL,KAAKoN,IAAI9H,KAAO,IAAI,GACjCtE,EAAKsE,KAAQqiC,UAAAA,MAAgBtnC,IAAuB4kC,IAAiB5kC,GAC9DL;AACT,aAsHA+nC,EAAU1hC,UAAUyhC,QApFpB;YACE9nC,KAAKkoC,WAAW,IAChBloC,KAAKwL,OAAO;AACd,aAkFAu8B,EAAU1hC,UAAkB,SAvE5B,SAAyBf;YACvB,IAAItE,IAAOhB,KAAKkoC,UACZnlB,IAAQwlB,GAAavnC,GAAMsE;YAE/B,SAAIyd,IAAQ,MAIRA,KADY/hB,EAAKyH,SAAS,IAE5BzH,EAAKsZ,QAEL2Q,EAAO7hB,KAAKpI,GAAM+hB,GAAO,MAEzB/iB,KAAKwL,MACA;AACT,aAyDAu8B,EAAU1hC,UAAUnC,MA9CpB,SAAsBoB;YACpB,IAAItE,IAAOhB,KAAKkoC,UACZnlB,IAAQwlB,GAAavnC,GAAMsE;YAE/B,OAAOyd,IAAQ,aAAgB/hB,EAAK+hB,GAAO;AAC7C,aA0CAglB,EAAU1hC,UAAU+G,MA/BpB,SAAsB9H;YACpB,OAAOijC,GAAavoC,KAAKkoC,UAAU5iC,MAAQ;AAC7C,aA8BAyiC,EAAU1hC,UAAU4E,MAlBpB,SAAsB3F,GAAKjF;YACzB,IAAIW,IAAOhB,KAAKkoC,UACZnlB,IAAQwlB,GAAavnC,GAAMsE;YAQ/B,OANIyd,IAAQ,OACR/iB,KAAKwL,MACPxK,EAAK2H,KAAK,EAACrD,GAAKjF,QAEhBW,EAAK+hB,GAAO,KAAK1iB,GAEZL;AACT,aAwGAgoC,EAAS3hC,UAAUyhC,QAtEnB;YACE9nC,KAAKwL,OAAO,GACZxL,KAAKkoC,WAAW;cACd,MAAQ,IAAIL;cACZ,KAAO,KAAKp6B,KAAOs6B;cACnB,QAAU,IAAIF;;AAElB,aAgEAG,EAAS3hC,UAAkB,SArD3B,SAAwBf;YACtB,IAAImH,IAAS+9B,GAAWxqC,MAAMsF,GAAa,OAAEA;YAE7C,OADAtF,KAAKwL,QAAQiB,IAAS,IAAI,GACnBA;AACT,aAkDAu7B,EAAS3hC,UAAUnC,MAvCnB,SAAqBoB;YACnB,OAAOklC,GAAWxqC,MAAMsF,GAAKpB,IAAIoB;AACnC,aAsCA0iC,EAAS3hC,UAAU+G,MA3BnB,SAAqB9H;YACnB,OAAOklC,GAAWxqC,MAAMsF,GAAK8H,IAAI9H;AACnC,aA0BA0iC,EAAS3hC,UAAU4E,MAdnB,SAAqB3F,GAAKjF;YACxB,IAAIW,IAAOwpC,GAAWxqC,MAAMsF,IACxBkG,IAAOxK,EAAKwK;YAIhB,OAFAxK,EAAKiK,IAAI3F,GAAKjF,IACdL,KAAKwL,QAAQxK,EAAKwK,QAAQA,IAAO,IAAI,GAC9BxL;AACT,aAuGAioC,EAAM5hC,UAAUyhC,QA3EhB;YACE9nC,KAAKkoC,WAAW,IAAIH,GACpB/nC,KAAKwL,OAAO;AACd,aAyEAy8B,EAAM5hC,UAAkB,SA9DxB,SAAqBf;YACnB,IAAItE,IAAOhB,KAAKkoC,UACZz7B,IAASzL,EAAa,OAAEsE;YAG5B,OADAtF,KAAKwL,OAAOxK,EAAKwK,MACViB;AACT,aAyDAw7B,EAAM5hC,UAAUnC,MA9ChB,SAAkBoB;YAChB,OAAOtF,KAAKkoC,SAAShkC,IAAIoB;AAC3B,aA6CA2iC,EAAM5hC,UAAU+G,MAlChB,SAAkB9H;YAChB,OAAOtF,KAAKkoC,SAAS96B,IAAI9H;AAC3B,aAiCA2iC,EAAM5hC,UAAU4E,MArBhB,SAAkB3F,GAAKjF;YACrB,IAAIW,IAAOhB,KAAKkoC;YAChB,IAAIlnC,aAAgB+mC,GAAW;cAC7B,IAAI0C,IAAQzpC,EAAKknC;cACjB,KAAKz6B,KAAQg9B,EAAMhiC,SAASiiC,KAG1B,OAFAD,EAAM9hC,KAAK,EAACrD,GAAKjF,MACjBL,KAAKwL,SAASxK,EAAKwK,MACZxL;cAETgB,IAAOhB,KAAKkoC,WAAW,IAAIF,EAASyC;AACtC;YAGA,OAFAzpC,EAAKiK,IAAI3F,GAAKjF,IACdL,KAAKwL,OAAOxK,EAAKwK,MACVxL;AACT;UAkVA,IAAI2qC,KAAmBvqC,IAA4B,SAASqlC,GAAMh6B;YAChE,OAAOrL,EAAeqlC,GAAM,YAAY;cACtC;cACA;cACA,QA+3BcplC,IA/3BIoL,GAg4Bb;gBACL,OAAOpL;AACT;cAj4BE;;YA83BJ,IAAkBA;AA53BlB,cAPwCuqC;UA8KxC,SAASJ,GAAW3lC,GAAKS;YACvB,IA4GiBjF,GACbouB,GA7GAztB,IAAO6D,EAAIqjC;YACf,QA6GgB,aADZzZ,YADapuB,IA3GAiF,OA6GmB,YAARmpB,KAA4B,YAARA,KAA4B,aAARA,IACrD,gBAAVpuB,IACU,SAAVA,KA9GDW,EAAmB,mBAAPsE,IAAkB,WAAW,UACzCtE,EAAK6D;AACX;UAUA,SAAS0iC,GAAUriC,GAAQI;YACzB,IAAIjF,IAnhCN,SAAkB6E,GAAQI;cACxB,OAAiB,QAAVJ,SAAAA,IAA6BA,EAAOI;AAC7C,aAFA,CAmhCuBJ,GAAQI;YAC7B,OA3WF,SAAsBjF;cACpB,UAAK2E,GAAS3E,MAodhB,SAAkBolC;gBAChB,SAASoB,KAAeA,KAAcpB;AACxC,eAFA,CApdmCplC,QAGnBiqC,GAAWjqC,KAAS4mC,IAAa5B,GAChC9pB,KAgmBjB,SAAkBkqB;gBAChB,IAAY,QAARA,GAAc;kBAChB;oBACE,OAAOmB,EAAax9B,KAAKq8B;AACd,oBAAX,OAAO3rB,IAAI;kBACb;oBACE,OAAQ2rB,IAAO;AACJ,oBAAX,OAAO3rB,IAAI;AACf;gBACA,OAAO;AACT,eAVA,CAhmB+BzZ;AAC/B,aANA,CA2WsBA,KAASA,SAAAA;AAC/B;UAkDA,SAASwqC,GAAQxqC,GAAOoI;YACtB,IAAIgmB,WAAcpuB;YAGlB,UAFAoI,IAAmB,QAAVA,IAAiB6B,IAAmB7B,OAGlC,YAARgmB,KACU,YAARA,KAAoB6W,EAAS/pB,KAAKlb,OAChCA,KAAS,KAAKA,IAAQ,KAAK,KAAKA,IAAQoI;AACjD;UA0DA,SAAS8hC,GAAYlqC;YACnB,IAAI6pC,IAAO7pC,KAASA,EAAMQ;YAG1B,OAAOR,OAFqB,qBAAR6pC,KAAsBA,EAAK7jC,aAAcqgC;AAG/D;UAsEA,SAAS6C,GAAQrkC,GAAQI;YACvB,KAAY,kBAARA,KAAgD,qBAAhBJ,EAAOI,OAIhC,eAAPA,GAIJ,OAAOJ,EAAOI;AAChB;UAUA,IAAIwlC,KAWJ,SAAkBrF;YAChB,IAAIvwB,IAAQ,GACR61B,IAAa;YAEjB,OAAO;cACL,IAAIC,IAAQtD,KACRpX,IA75CO,MA65CiB0a,IAAQD;cAGpC,IADAA,IAAaC,GACT1a,IAAY;gBACd,MAAMpb,KAl6CI,KAm6CR,OAAOgV,UAAU;qBAGnBhV,IAAQ;cAEV,OAAOuwB,EAAK3T,WAAM,GAAW5H;AAC/B;AACF,WAlBA,CAX2BygB;UAkF3B,SAASroB,GAAGjiB,GAAOohB;YACjB,OAAOphB,MAAUohB,KAAUphB,KAAUA,KAASohB,KAAUA;AAC1D;UAoBA,IAAI0oB,KAAcvB,GAAgB;YAAa,OAAO1e;AAAW,WAA/B,MAAsC0e,KAAkB,SAASvoC;YACjG,OAAOwoC,GAAaxoC,MAAUoP,EAAerG,KAAK/I,GAAO,cACtD+mC,EAAqBh+B,KAAK/I,GAAO;AACtC,aAyBIwD,KAAUD,MAAMC;UA2BpB,SAASmmC,GAAY3pC;YACnB,OAAgB,QAATA,KAAiB4qC,GAAS5qC,EAAMoI,YAAY6hC,GAAWjqC;AAChE;UAgDA,IAAIiuB,KAAWkZ,KAsUf;YACE,QAAM;AACR;UArTA,SAAS8C,GAAWjqC;YAClB,KAAK2E,GAAS3E,IACZ,QAAM;YAIR,IAAIqoC,IAAMF,GAAWnoC;YACrB,OAAOqoC,KAAOvD,KA1mDH,gCA0mDcuD,KA/mDZ,4BA+mD6BA,KArmD7B,oBAqmDgDA;AAC/D;UA4BA,SAASuC,GAAS5qC;YAChB,OAAuB,mBAATA,KACZA,KAAS,KAAKA,IAAQ,KAAK,KAAKA,KAASiK;AAC7C;UA2BA,SAAStF,GAAS3E;YAChB,IAAIouB,WAAcpuB;YAClB,OAAgB,QAATA,MAA0B,YAARouB,KAA4B,cAARA;AAC/C;UA0BA,SAASoa,GAAaxoC;YACpB,OAAgB,QAATA,KAAiC,mBAATA;AACjC;UA4DA,IAAIkmC,KAAeD,IAvnDnB,SAAmBb;YACjB,OAAO,SAASplC;cACd,OAAOolC,EAAKplC;AACd;AACF,WAJA,CAunDgDimC,KAj7BhD,SAA0BjmC;YACxB,OAAOwoC,GAAaxoC,MAClB4qC,GAAS5qC,EAAMoI,aAAa88B,EAAeiD,GAAWnoC;AAC1D;UAm+BA,SAASgqC,GAAOnlC;YACd,OAAO8kC,GAAY9kC,KA3oCrB,SAAuB7E,GAAO6qC;cAC5B,IAAIrB,IAAQhmC,GAAQxD,IAChB8qC,KAAStB,KAASM,GAAY9pC,IAC9BypC,KAAUD,MAAUsB,KAAS7c,GAASjuB,IACtC+qC,KAAUvB,MAAUsB,MAAUrB,KAAUvD,GAAalmC,IACrDgrC,IAAcxB,KAASsB,KAASrB,KAAUsB,GAC1C3+B,IAAS4+B,IAzjBf,SAAmB3gB,GAAGue;gBAIpB,KAHA,IAAIlmB,KAAS,GACTtW,IAAS7I,MAAM8mB,MAEV3H,IAAQ2H,KACfje,EAAOsW,KAASkmB,EAASlmB;gBAE3B,OAAOtW;AACT,eARA,CAyjBuCpM,EAAMoI,QAAQ/B,UAAU,IACzD+B,IAASgE,EAAOhE;cAEpB,KAAK,IAAInD,KAAOjF,GAERgrC,MAEQ,YAAP/lC,KAECwkC,MAAkB,YAAPxkC,KAA0B,YAAPA,MAE9B8lC,MAAkB,YAAP9lC,KAA0B,gBAAPA,KAA8B,gBAAPA,MAEtDulC,GAAQvlC,GAAKmD,OAElBgE,EAAO9D,KAAKrD;cAGhB,OAAOmH;AACT,aAzBA,CA2oC6CvH,KA39B7C,SAAoBA;cAClB,KAAKF,GAASE,IACZ,OAmdJ,SAAsBA;gBACpB,IAAIuH,IAAS;gBACb,IAAc,QAAVvH,GACF,KAAK,IAAII,KAAOnF,OAAO+E,IACrBuH,EAAO9D,KAAKrD;gBAGhB,OAAOmH;AACT,eARA,CAndwBvH;cAEtB,IAAIomC,IAAUf,GAAYrlC,IACtBuH,IAAS;cAEb,KAAK,IAAInH,KAAOJ,IACD,iBAAPI,MAAyBgmC,KAAY77B,EAAerG,KAAKlE,GAAQI,OACrEmH,EAAO9D,KAAKrD;cAGhB,OAAOmH;AACT,aAbA,CA29BwEvH;AACxE;UAiCA,IAxvBwBqmC,IAwvBpBC,MAxvBoBD,KAwvBG,SAASrmC,GAAQu9B,GAAQsG;YAClDD,GAAU5jC,GAAQu9B,GAAQsG;AAC5B,aA13BA,SAAkBtD,GAAMva;YACtB,OAAO4f,GA6WT,SAAkBrF,GAAMva,GAAO6Z;cAE7B,OADA7Z,IAAQuc,OAAAA,MAAUvc,IAAuBua,EAAKh9B,SAAS,IAAKyiB,GAAO,IAC5D;gBAML,KALA,IAAI1F,IAAO0E,WACPnH,KAAS,GACTta,IAASg/B,EAAUjiB,EAAK/c,SAASyiB,GAAO,IACxCzZ,IAAQ7N,MAAM6E,MAETsa,IAAQta,KACfgJ,EAAMsR,KAASyC,EAAK0F,IAAQnI;gBAE9BA,KAAS;gBAET,KADA,IAAI0oB,IAAY7nC,MAAMsnB,IAAQ,MACrBnI,IAAQmI,KACfugB,EAAU1oB,KAASyC,EAAKzC;gBAG1B,OADA0oB,EAAUvgB,KAAS6Z,EAAUtzB,IAzvCjC,SAAeg0B,GAAMz3B,GAASwX;kBAC5B,QAAQA,EAAK/c;mBACX,KAAK;oBAAG,OAAOg9B,EAAKr8B,KAAK4E;;mBACzB,KAAK;oBAAG,OAAOy3B,EAAKr8B,KAAK4E,GAASwX,EAAK;;mBACvC,KAAK;oBAAG,OAAOigB,EAAKr8B,KAAK4E,GAASwX,EAAK,IAAIA,EAAK;;mBAChD,KAAK;oBAAG,OAAOigB,EAAKr8B,KAAK4E,GAASwX,EAAK,IAAIA,EAAK,IAAIA,EAAK;;kBAE3D,OAAOigB,EAAK3T,MAAM9jB,GAASwX;AAC7B,iBARA,CA0vCiBigB,GAAMzlC,MAAMyrC;AAC3B;AACF,aAnBA,CA7W8BhG,QAD9B,GAC2CmF,KAAWnF,IAAO;AAC7D,WAFA,EAiISiG,SAAkBxmC,GAAQymC;YAC/B,IAAI5oB,KAAS,GACTta,IAASkjC,EAAQljC,QACjBugC,IAAavgC,IAAS,IAAIkjC,EAAQljC,IAAS,aAC3CmjC,IAAQnjC,IAAS,IAAIkjC,EAAQ;YAWjC,KATA3C,IAAcuC,GAAS9iC,SAAS,KAA0B,qBAAdugC,KACvCvgC,KAAUugC,UAAAA,GAGX4C,KAuIR,SAAwBvrC,GAAO0iB,GAAO7d;cACpC,KAAKF,GAASE,IACZ,QAAM;cAER,IAAIupB,WAAc1L;cAClB,UAAY,YAAR0L,IACKub,GAAY9kC,MAAW2lC,GAAQ9nB,GAAO7d,EAAOuD,UACrC,YAARgmB,KAAoB1L,KAAS7d,MAE7Bod,GAAGpd,EAAO6d,IAAQ1iB;AAG7B,aAZA,CAvIgCsrC,EAAQ,IAAIA,EAAQ,IAAIC,OAClD5C,IAAavgC,IAAS,aAAgBugC,GACtCvgC,IAAS,IAEXvD,IAAS/E,OAAO+E,MACP6d,IAAQta,KAAQ;cACvB,IAAIg6B,IAASkJ,EAAQ5oB;cACjB0f,KACF8I,GAASrmC,GAAQu9B,GAAQ1f;AAE7B;YACA,OAAO7d;AACR;UA8wBH,SAAS0lC,GAASvqC;YAChB,OAAOA;AACT;UAmBAT,EAAOC,UAAU2rC;AAAAA;QAAAA,MAAAA,SAAAA,GAAAA,GAAAA;UCx7DjB;WAMC,SAAU9rC,GAAMmsC;YACb;YAEI,IAMA;cAIJ,IAAI9O,IAAO,YAAY,GACnB+O,IAAgB,aAChBC,WAAexgB,WAAWugB,YAA0BvgB,OAAOmP,cAAcoR,KACzE,kBAAkBvwB,KAAKgQ,OAAOmP,UAAUC,YAGxCqR,IAAa,EACb,SACA,SACA,QACA,QACA;cAIJ,SAASC,EAAW5d,GAAK6d;gBACrB,IAAIv5B,IAAS0b,EAAI6d;gBACjB,IAA2B,qBAAhBv5B,EAAOuuB,MACd,OAAOvuB,EAAOuuB,KAAK7S;gBAEnB;kBACI,OAAO0Q,SAAS14B,UAAU66B,KAAK93B,KAAKuJ,GAAQ0b;AAMhD,kBALE,OAAOvU;kBAEL,OAAO;oBACH,OAAOilB,SAAS14B,UAAUyrB,MAAMA,MAAMnf,GAAQ,EAAC0b,GAAKnE;AACxD;AACJ;AAER;cAGA,SAASiiB;gBACD1mB,QAAQ+V,QACJ/V,QAAQ+V,IAAI1J,QACZrM,QAAQ+V,IAAI1J,MAAMrM,SAASyE,aAG3B6U,SAAS14B,UAAUyrB,MAAMA,MAAMrM,QAAQ+V,KAAK,EAAC/V,SAASyE;gBAG1DzE,QAAQ2mB,SAAO3mB,QAAQ2mB;AAC/B;cAwBA,SAASC,EAAsBC,GAAOC;gBAElC,KAAK,IAAI7jC,IAAI,GAAGA,IAAIsjC,EAAWvjC,QAAQC,KAAK;kBACxC,IAAIwjC,IAAaF,EAAWtjC;kBAC5B1I,KAAKksC,KAAexjC,IAAI4jC,IACpBvP,IACA/8B,KAAKwsC,cAAcN,GAAYI,GAAOC;AAC9C;gBAGAvsC,KAAKw7B,MAAMx7B,KAAKib;AACpB;cAIA,SAASwxB,EAAgCP,GAAYI,GAAOC;gBACxD,OAAO;yBACQ9mB,YAAYqmB,MACnBO,EAAsBjjC,KAAKpJ,MAAMssC,GAAOC,IACxCvsC,KAAKksC,GAAYpa,MAAM9xB,MAAMkqB;AAErC;AACJ;cAIA,SAASwiB,EAAqBR,GAAYI,GAAOC;gBAE7C,OAhDJ,SAAoBL;kBAKhB,OAJmB,YAAfA,MACAA,IAAa,eAGNzmB,YAAYqmB,MAEG,YAAfI,KAA0BH,IAC1BI,SAAAA,MACA1mB,QAAQymB,KACRD,EAAWxmB,SAASymB,UAAAA,MACpBzmB,QAAQ+V,MACRyQ,EAAWxmB,SAAS,SAEpBsX;AAEf,iBAhBA,CAgDsBmP,MACXO,EAAgC3a,MAAM9xB,MAAMkqB;AACvD;cAEA,SAASyiB,EAAOrmC,GAAMsmC,GAAcjtC;gBAClC,IACIktC,GADA/sC,IAAOE;gBAEX4sC,IAA+B,QAAhBA,IAAuB,SAASA;gBAE/C,IAAIE,IAAa;gBAyBjB,SAASC;kBACL,IAAIC;kBAEJ,WAAWzhB,WAAWugB,KAAkBgB,GAAxC;oBAEA;sBACIE,IAAczhB,OAAO4P,aAAa2R;AACpB,sBAAhB,OAAOG,IAAS;oBAGlB,WAAWD,MAAgBlB,GACvB;sBACI,IAAIoB,IAAS3hB,OAAOqP,SAASsS,QACzBC,IAAWD,EAAOxgB,QAClB0gB,mBAAmBN,KAAc;uBACnB,MAAdK,MACAH,IAAc,WAAWlqB,KAAKoqB,EAAOtmC,MAAMumC,IAAW;AAE5C,sBAAhB,OAAOF,IAAS;oBAQtB,YAAO,MAJHntC,EAAKutC,OAAOL,OACZA,SAAAA,IAGGA;AAvBmD;AAwB9D;gBAnDoB,mBAAT1mC,IACTwmC,KAAc,MAAMxmC,IACK,mBAATA,MAChBwmC,SAAAA,IAwEFhtC,EAAKwG,OAAOA,GAEZxG,EAAKutC,SAAS;kBAAE,OAAS;kBAAG,OAAS;kBAAG,MAAQ;kBAAG,MAAQ;kBACvD,OAAS;kBAAG,QAAU;mBAE1BvtC,EAAK0sC,gBAAgB7sC,KAAW+sC,GAEhC5sC,EAAKwtC,WAAW;kBACZ,OAAOT;AACX,mBAEA/sC,EAAKytC,WAAW,SAAUjB,GAAOkB;kBAI7B,IAHqB,mBAAVlB,UAAAA,MAAsBxsC,EAAKutC,OAAOf,EAAMmB,mBAC/CnB,IAAQxsC,EAAKutC,OAAOf,EAAMmB,mBAET,mBAAVnB,KAAsBA,KAAS,KAAKA,KAASxsC,EAAKutC,OAAOK,SAUhE,MAAM,+CAA+CpB;kBAJrD,IALAO,IAAeP,IAAAA,MACXkB,KAtFZ,SAAgCG;oBAC5B,IAAIC,KAAa5B,EAAW2B,MAAa,UAAUF;oBAEnD,WAAWliB,WAAWugB,KAAkBgB,GAAxC;sBAGA;wBAEI,aADAvhB,OAAO4P,aAAa2R,KAAcc;AAEpB,wBAAhB,OAAOX,IAAS;sBAGlB;wBACI1hB,OAAOqP,SAASsS,SACdE,mBAAmBN,KAAc,MAAMc,IAAY;AACvC,wBAAhB,OAAOX,IAAS;AAZwC;AAa9D,mBAhBA,CAuFmCX,IAE3BD,EAAsBjjC,KAAKtJ,GAAMwsC,GAAOhmC,WAC7Bmf,YAAYqmB,KAAiBQ,IAAQxsC,EAAKutC,OAAOK,QACxD,OAAO;AAKnB,mBAEA5tC,EAAK+tC,kBAAkB,SAAUvB;kBAC7BM,IAAeN,GACVS,OACDjtC,EAAKytC,SAASjB,IAAAA;AAEtB,mBAEAxsC,EAAKguC,aAAa;kBACdhuC,EAAKytC,SAASX,IAAAA,IA3DlB;oBACI,WAAWrhB,WAAWugB,KAAkBgB,GAAxC;sBAGA;wBAEI,YADAvhB,OAAO4P,aAAab,WAAWwS;AAEjB,wBAAhB,OAAOG,IAAS;sBAGlB;wBACI1hB,OAAOqP,SAASsS,SACdE,mBAAmBN,KAAc;AACrB,wBAAhB,OAAOG,IAAS;AAZwC;AAa9D,mBAdA;AA6DA,mBAEAntC,EAAKiuC,YAAY,SAASP;kBACtB1tC,EAAKytC,SAASztC,EAAKutC,OAAOW,OAAOR;AACrC,mBAEA1tC,EAAKmuC,aAAa,SAAST;kBACvB1tC,EAAKytC,SAASztC,EAAKutC,OAAOK,QAAQF;AACtC;gBAGA,IAAIU,IAAenB;gBACC,QAAhBmB,MACAA,IAAetB,IAEnB9sC,EAAKytC,SAASW,IAAAA;AAChB;cAQA,IAAIC,IAAgB,IAAIxB,GAEpByB,IAAiB,CAAC;cACtBD,EAAcE,YAAY,SAAmB/nC;gBACzC,IAAqB,mBAATA,KAAqC,mBAATA,KAA+B,OAATA,GAC5D,MAAM,IAAI4D,UAAU;gBAGtB,IAAIokC,IAASF,EAAe9nC;gBAK5B,OAJKgoC,MACHA,IAASF,EAAe9nC,KAAQ,IAAIqmC,EAClCrmC,GAAM6nC,EAAcb,YAAYa,EAAc3B,iBAE3C8B;AACX;cAGA,IAAIC,WAAehjB,WAAWugB,IAAiBvgB,OAAOiQ,WAAAA;cAiBtD,OAhBA2S,EAAcK,aAAa;gBAMvB,cALWjjB,WAAWugB,KACfvgB,OAAOiQ,QAAQ2S,MAClB5iB,OAAOiQ,MAAM+S,IAGVJ;AACX,iBAEAA,EAAcM,aAAa;gBACvB,OAAOL;AACX,iBAGAD,EAAuB,UAAIA,GAEpBA;AACX,2BA/RyB;AAMzB,WATC;AAAD;QAAA;UCFA,IAAI9rB,IAAI,KACJrT,IAAQ,KAAJqT,GACJrI,IAAQ,KAAJhL,GACJs1B,IAAQ,KAAJtqB;UAuJR,SAAS00B,EAAOzS,GAAI0S,GAAOjkB,GAAGpkB;YAC5B,IAAIsoC,IAAWD,KAAa,MAAJjkB;YACxB,OAAOyG,KAAK0d,MAAM5S,IAAKvR,KAAK,MAAMpkB,KAAQsoC,IAAW,MAAM;AAC7D;UAxIAhvC,EAAOC,UAAU,SAAS4vB,GAAKlpB;YAC7BA,IAAUA,KAAW,CAAC;YACtB,IA8Ge01B,GACX0S,GA/GAlgB,WAAcgB;YAClB,IAAa,aAAThB,KAAqBgB,EAAIhnB,SAAS,GACpC,OAkBJ,SAAemoB;cAEb,OADAA,IAAMlqB,OAAOkqB,IACLnoB,SAAS,MAAjB;gBAGA,IAAI+L,IAAQ,mIAAmIsO,KAC7I8N;gBAEF,IAAKpc,GAAL;kBAGA,IAAIkW,IAAIokB,WAAWt6B,EAAM;kBAEzB,SADYA,EAAM,MAAM,MAAMrL;mBAE5B,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;oBACH,OAzDEm7B,WAyDK5Z;;mBACT,KAAK;mBACL,KAAK;mBACL,KAAK;oBACH,OA9DE4Z,SA8DK5Z;;mBACT,KAAK;mBACL,KAAK;mBACL,KAAK;oBACH,OAAOA,IAAI4Z;;mBACb,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;oBACH,OAAO5Z,IAAI1Q;;mBACb,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;oBACH,OAAO0Q,IAAI1b;;mBACb,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;oBACH,OAAO0b,IAAIrI;;mBACb,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;mBACL,KAAK;oBACH,OAAOqI;;mBACT;oBACE;;AA3CJ;AANA;AAmDF,aAvDA,CAlBiB+E;YACR,IAAa,aAAThB,KAAqB9hB,SAAS8iB,IACvC,OAAOlpB,EAAQwoC,QA0GF9S,IA1GiBxM,IA2G5Bkf,IAAQxd,KAAKiI,IAAI6C,OACRqI,IACJoK,EAAOzS,GAAI0S,GAAOrK,GAAG,SAE1BqK,KAAS30B,IACJ00B,EAAOzS,GAAI0S,GAAO30B,GAAG,UAE1B20B,KAAS3/B,IACJ0/B,EAAOzS,GAAI0S,GAAO3/B,GAAG,YAE1B2/B,KAAStsB,IACJqsB,EAAOzS,GAAI0S,GAAOtsB,GAAG,YAEvB4Z,IAAK,SAvCd,SAAkBA;cAChB,IAAI0S,IAAQxd,KAAKiI,IAAI6C;cACrB,OAAI0S,KAASrK,IACJnT,KAAK0d,MAAM5S,IAAKqI,KAAK,MAE1BqK,KAAS30B,IACJmX,KAAK0d,MAAM5S,IAAKjiB,KAAK,MAE1B20B,KAAS3/B,IACJmiB,KAAK0d,MAAM5S,IAAKjtB,KAAK,MAE1B2/B,KAAStsB,IACJ8O,KAAK0d,MAAM5S,IAAK5Z,KAAK,MAEvB4Z,IAAK;AACd,aAfA,CAjFkDxM;YAEhD,MAAM,IAAI7uB,MACR,0DACEsR,KAAKC,UAAUsd;AAErB;AAAA;QAAA;UCrCA,IAAIuf,IAASvuC,EAAQ;UAoBrB,SAASq8B,EAAM72B;YACb,IAAIkH,IAAI;cACN,OAAIA,EAAE8hC,SAAe9hC,EAAE9M,SACvB8M,EAAE8hC,UAAAA,GACK9hC,EAAE9M,QAAQ4F,EAAG6rB,MAAM9xB,MAAMkqB;AAClC;YAEA,OADA/c,EAAE8hC,UAAAA,GACK9hC;AACT;UAEA,SAAS+hC,EAAYjpC;YACnB,IAAIkH,IAAI;cACN,IAAIA,EAAE8hC,QACJ,MAAM,IAAIruC,MAAMuM,EAAEgiC;cAEpB,OADAhiC,EAAE8hC,UAAAA,GACK9hC,EAAE9M,QAAQ4F,EAAG6rB,MAAM9xB,MAAMkqB;AAClC,eACI5jB,IAAOL,EAAGK,QAAQ;YAGtB,OAFA6G,EAAEgiC,YAAY7oC,IAAO,uCACrB6G,EAAE8hC,UAAAA,GACK9hC;AACT;UAxCAvN,EAAOC,UAAUmvC,EAAOlS,IACxBl9B,EAAOC,QAAQuvC,SAASJ,EAAOE,IAE/BpS,EAAK1oB,QAAQ0oB,GAAAA;YACX38B,OAAOC,eAAe2+B,SAAS14B,WAAW,QAAQ;cAChDhG,OAAO;gBACL,OAAOy8B,EAAK98B;AACd;cACAsP,eAAa;gBAGfnP,OAAOC,eAAe2+B,SAAS14B,WAAW,cAAc;cACtDhG,OAAO;gBACL,OAAO6uC,EAAWlvC;AACpB;cACAsP,eAAa;;AAEhB;AAAC;QAAF;UCjBA,IAOI+/B,GACAC,GARAjqB,IAAUzlB,EAAOC,UAAU,CAAC;UAUhC,SAAS0vC;YACL,MAAM,IAAI3uC,MAAM;AACpB;UACA,SAAS4uC;YACL,MAAM,IAAI5uC,MAAM;AACpB;UAqBA,SAAS6uC,EAAWC;YAChB,IAAIL,MAAqBM,YAErB,OAAOA,WAAWD,GAAK;YAG3B,KAAKL,MAAqBE,MAAqBF,MAAqBM,YAEhE,OADAN,IAAmBM,YACZA,WAAWD,GAAK;YAE3B;cAEI,OAAOL,EAAiBK,GAAK;AASjC,cARE,OAAM51B;cACJ;gBAEI,OAAOu1B,EAAiBjmC,KAAK,MAAMsmC,GAAK;AAI5C,gBAHE,OAAM51B;gBAEJ,OAAOu1B,EAAiBjmC,KAAKpJ,MAAM0vC,GAAK;AAC5C;AACJ;AAGJ;WA5CC;YACG;cAEQL,IADsB,qBAAfM,aACYA,aAEAJ;AAI3B,cAFE,OAAOz1B;cACLu1B,IAAmBE;AACvB;YACA;cAEQD,IADwB,qBAAjBM,eACcA,eAEAJ;AAI7B,cAFE,OAAO11B;cACLw1B,IAAqBE;AACzB;AACJ,WAnBC;UAwED,IAEIK,GAFAC,IAAQ,IACRC,KAAAA,GAEAC,KAAc;UAElB,SAASC;YACAF,KAAaF,MAGlBE,KAAAA,GACIF,EAAapnC,SACbqnC,IAAQD,EAAard,OAAOsd,KAE5BE,KAAc,GAEdF,EAAMrnC,UACNynC;AAER;UAEA,SAASA;YACL,KAAIH,GAAJ;cAGA,IAAII,IAAUV,EAAWQ;cACzBF,KAAAA;cAGA,KADA,IAAI71B,IAAM41B,EAAMrnC,QACVyR,KAAK;gBAGP,KAFA21B,IAAeC,GACfA,IAAQ,MACCE,IAAa91B,KACd21B,KACAA,EAAaG,GAAYI;gBAGjCJ,KAAc,GACd91B,IAAM41B,EAAMrnC;AAChB;cACAonC,IAAe,MACfE,KAAAA,GAnEJ,SAAyBM;gBACrB,IAAIf,MAAuBM,cAEvB,OAAOA,aAAaS;gBAGxB,KAAKf,MAAuBE,MAAwBF,MAAuBM,cAEvE,OADAN,IAAqBM,cACdA,aAAaS;gBAExB;kBAEWf,EAAmBe;AAU9B,kBATE,OAAOv2B;kBACL;oBAEI,OAAOw1B,EAAmBlmC,KAAK,MAAMinC;AAKzC,oBAJE,OAAOv2B;oBAGL,OAAOw1B,EAAmBlmC,KAAKpJ,MAAMqwC;AACzC;AACJ;AAIJ,eA1BA,CAoEoBF;AAlBhB;AAmBJ;UAgBA,SAASG,EAAKZ,GAAKj+B;YACfzR,KAAK0vC,MAAMA,GACX1vC,KAAKyR,QAAQA;AACjB;UAWA,SAASsrB,KAAQ;UA5BjB1X,EAAQ4Y,WAAW,SAAUyR;YACzB,IAAIlqB,IAAO,IAAI5hB,MAAMsmB,UAAUzhB,SAAS;YACxC,IAAIyhB,UAAUzhB,SAAS,GACnB,KAAK,IAAIC,IAAI,GAAGA,IAAIwhB,UAAUzhB,QAAQC,KAClC8c,EAAK9c,IAAI,KAAKwhB,UAAUxhB;YAGhConC,EAAMnnC,KAAK,IAAI2nC,EAAKZ,GAAKlqB,KACJ,MAAjBsqB,EAAMrnC,UAAiBsnC,KACvBN,EAAWS;AAEnB,aAOAI,EAAKjqC,UAAU+pC,MAAM;YACjBpwC,KAAK0vC,IAAI5d,MAAM,MAAM9xB,KAAKyR;AAC9B,aACA4T,EAAQkrB,QAAQ,WAChBlrB,EAAQmrB,WAAAA,GACRnrB,EAAQC,MAAM,CAAC,GACfD,EAAQorB,OAAO,IACfprB,EAAQjP,UAAU,IAClBiP,EAAQqC,WAAW,CAAC,GAIpBrC,EAAQkZ,KAAKxB,GACb1X,EAAQ0c,cAAchF;UACtB1X,EAAQyX,OAAOC,GACf1X,EAAQ+c,MAAMrF,GACd1X,EAAQsZ,iBAAiB5B,GACzB1X,EAAQgd,qBAAqBtF,GAC7B1X,EAAQsb,OAAO5D,GACf1X,EAAQ2c,kBAAkBjF,GAC1B1X,EAAQ4c,sBAAsBlF;UAE9B1X,EAAQyc,YAAY,SAAUx7B;YAAQ,OAAO;AAAG,aAEhD+e,EAAQghB,UAAU,SAAU//B;YACxB,MAAM,IAAI1F,MAAM;AACpB,aAEAykB,EAAQqrB,MAAM;YAAc,OAAO;AAAI,aACvCrrB,EAAQsrB,QAAQ,SAAUjhB;YACtB,MAAM,IAAI9uB,MAAM;AACpB,aACAykB,EAAQurB,QAAQ;YAAa,OAAO;AAAG;AAAA;QAAA;UAAA,iBCvLnC9T,IAAOr8B,EAAQ,MACfu8B,IAAMv8B,EAAQ,OACdowC,IAAKpwC,EAAQ,OAEbs8B,IAAO,YAAa,GACpB+T,IAAU,SAASv1B,KAAK8J,EAAQjP,UAEhC26B,IAAO,SAAU9qC;YACnB,OAAqB,qBAAPA;AAChB,aAyCImD,IAAO,SAAUnD;YACnBA;AACF,aAEI0+B,IAAO,SAAU1kB,GAAMM;YACzB,OAAON,EAAK0kB,KAAKpkB;AACnB;UAyBA3gB,EAAOC,UAvBI;YACT,IAMI+E,GANAosC,IAAUptC,MAAMyC,UAAUO,MAAMwC,KAAK8gB,YACrCgT,IAAW6T,EAAKC,EAAQA,EAAQvoC,SAAS,MAAMs0B,MAASiU,EAAQ12B,SAASyiB;YAG7E,IADIn5B,MAAMC,QAAQmtC,EAAQ,QAAKA,IAAUA,EAAQ,KAC7CA,EAAQvoC,SAAS,GAAG,MAAM,IAAI7H,MAAM;YAGxC,IAAIqwC,IAAWD,EAAQnsC,KAAI,SAAUo4B,GAAQv0B;cAC3C,IAAIwoC,IAAUxoC,IAAIsoC,EAAQvoC,SAAS;cAEnC,OAhDY,SAAUw0B,GAAQiU,GAASC,GAASjU;gBAClDA,IAAWJ,EAAKI;gBAEhB,IAAIkU,KAAAA;gBACJnU,EAAOsB,GAAG;kBACR6S,KAAAA;AACD,qBAEDpU,EAAIC,GAAQ;kBAACM,UAAU2T;kBAAS7hC,UAAU8hC;oBAAAA,SAAoBpT;kBAC5D,IAAIA,GAAK,OAAOb,EAASa;kBACzBqT,KAAAA,GACAlU;AACD;gBAED,IAAIkB,KAAAA;gBACJ,OAAO,SAAUL;kBACf,KAAIqT,MACAhT,GAGJ,OAFAA,KAAAA,GA5BO,SAAUnB;oBACnB,SAAK6T,OACAD,MACG5T,cAAmB4T,EAAGQ,cAActU,MAASE,cAAmB4T,EAAGS,eAAevU,OAAUgU,EAAK9T,EAAOsU;AAClH,mBAJW,CA8BEtU,KAAgBA,EAAOsU,MAAMxU,KAxB1B,SAAUE;oBACxB,OAAOA,EAAOuB,aAAauS,EAAK9T,EAAOwB;AACzC,mBAFgB,CAyBExB,KAAgBA,EAAOwB,UAEjCsS,EAAK9T,EAAO7B,WAAiB6B,EAAO7B,iBAExC8B,EAASa,KAAO,IAAIn9B,MAAM;AAC5B;AACF,eA3BgB,CAgDKq8B,GAAQiU,GADXxoC,IAAI,aACmCq1B;gBAC9Cn5B,MAAOA,IAAQm5B,IAChBA,KAAKkT,EAASnjC,QAAQ1E,IACtB8nC,MACJD,EAASnjC,QAAQ1E,IACjB8zB,EAASt4B;AACV;AACF;YAED,OAAOosC,EAAQ5rC,OAAOu/B;AACxB;AAAA;QAAA;UAAA;UC7EA,OAAM,YAAE6M,GAAU,OAAEC,KAAUhxC,EAAQ,QAChC,cAAEixC,GAAY,aAAEC,GAAW,0BAAEC,KAA6BnxC,EAAQ,OAClEu8B,IAAMv8B,EAAQ,QACd,sBAAEq4B,KAAyB2Y;UAUjC7xC,EAAOC,QAAQgyC,iBAAiB,SAAwBC,GAAQ7U;YAE9D,IAP0B,EAAC6U,GAAQxrC;cACnC,IAAsB,mBAAXwrC,OAAyB,aAAaA,IAC/C,MAAM,IAAIhZ,EAIgB,UAJW,eAAegZ;AACrD,cAHyB,CAMNA,KACfJ,EAAazU,OAAY0U,EAAY1U,IACxC,MAAM,IAAInE,EAAqB,UAAU,EAAC,kBAAkB,kBAAkB,YAAWmE;YAE3F,OAAOr9B,EAAOC,QAAQkyC,yBAAyBD,GAAQ7U;AACzD,aACAr9B,EAAOC,QAAQkyC,2BAA2B,SAAUD,GAAQ7U;YAC1D,IAAsB,mBAAX6U,OAAyB,aAAaA,IAC/C,OAAO7U;YAET,MAAM+U,IAAUN,EAAazU,KACzB;cACEA,EAAO7B,QACL,IAAIoW,OAAAA,GAAsB;gBACxBjwC,OAAOuwC,EAAOG;;AAAAA,gBAIpB;cACEhV,EAAO2U,GACL,IAAIJ,OAAAA,GAAsB;gBACxBjwC,OAAOuwC,EAAOG;;AAAAA;YAUxB,OANIH,EAAOI,UACTF,OAEAF,EAAOtQ,iBAAiB,SAASwQ,IACjChV,EAAIC,IAAAA,MAAc6U,EAAOpQ,oBAAoB,SAASsQ,OAEjD/U;AACT;AAAA;QAAA;UAAA;UC9CA,OAAM,sBAAEkV,GAAoB,gBAAEC,GAAc,wBAAEC,GAAsB,YAAExpC,KAAepI,EAAQ,QACvF,QAAEyK,KAAWzK,EAAQ,QACrB,SAAEsyB,KAAYtyB,EAAQ;UAC5Bb,EAAOC,UAAU;YACfgB;cACEb,KAAKyZ,OAAO,MACZzZ,KAAKmY,OAAO,MACZnY,KAAKyI,SAAS;AAChB;YACAE,KAAKkR;cACH,MAAM/U,IAAQ;gBACZ9D,MAAM6Y;gBACNH,MAAM;;cAEJ1Z,KAAKyI,SAAS,IAAGzI,KAAKmY,KAAKuB,OAAO5U,IACjC9E,KAAKyZ,OAAO3U,GACjB9E,KAAKmY,OAAOrT,KACV9E,KAAKyI;AACT;YACA2R,QAAQP;cACN,MAAM/U,IAAQ;gBACZ9D,MAAM6Y;gBACNH,MAAM1Z,KAAKyZ;;cAEO,MAAhBzZ,KAAKyI,WAAczI,KAAKmY,OAAOrT,IACnC9E,KAAKyZ,OAAO3U,KACV9E,KAAKyI;AACT;YACA+hB;cACE,IAAoB,MAAhBxqB,KAAKyI,QAAc;cACvB,MAAMsW,IAAM/e,KAAKyZ,KAAKzY;cAItB,OAHoB,MAAhBhB,KAAKyI,SAAczI,KAAKyZ,OAAOzZ,KAAKmY,OAAO,OAC1CnY,KAAKyZ,OAAOzZ,KAAKyZ,KAAKC,QACzB1Z,KAAKyI,QACAsW;AACT;YACA+oB;cACE9nC,KAAKyZ,OAAOzZ,KAAKmY,OAAO,MACxBnY,KAAKyI,SAAS;AAChB;YACAQ,KAAKoZ;cACH,IAAoB,MAAhBriB,KAAKyI,QAAc,OAAO;cAC9B,IAAI+G,IAAIxP,KAAKyZ,MACTsF,IAAM,KAAKvP,EAAExO;cACjB,MAAwB,UAAhBwO,IAAIA,EAAEkK,SAAgBqF,KAAOsD,IAAI7S,EAAExO;cAC3C,OAAO+d;AACT;YACAyT,OAAO9H;cACL,IAAoB,MAAhB1qB,KAAKyI,QAAc,OAAOyC,EAAO8hB,MAAM;cAC3C,MAAMjO,IAAM7T,EAAOqiB,YAAY7C,MAAM;cACrC,IAAIlb,IAAIxP,KAAKyZ,MACT/Q,IAAI;cACR,MAAO8G,KACL6iC,EAAuBtzB,GAAKvP,EAAExO,MAAM0H,IACpCA,KAAK8G,EAAExO,KAAKyH,QACZ+G,IAAIA,EAAEkK;cAER,OAAOqF;AACT;YAGAuzB,QAAQ5nB,GAAG6nB;cACT,MAAMvxC,IAAOhB,KAAKyZ,KAAKzY;cACvB,IAAI0pB,IAAI1pB,EAAKyH,QAAQ;gBAEnB,MAAM7B,IAAQ5F,EAAK4F,MAAM,GAAG8jB;gBAE5B,OADA1qB,KAAKyZ,KAAKzY,OAAOA,EAAK4F,MAAM8jB,IACrB9jB;AACT;cACA,OAAI8jB,MAAM1pB,EAAKyH,SAENzI,KAAKwqB,UAGP+nB,IAAavyC,KAAKwyC,WAAW9nB,KAAK1qB,KAAKyyC,WAAW/nB;AAC3D;YACAzO;cACE,OAAOjc,KAAKyZ,KAAKzY;AACnB;YACA,GAAEoxC;cACA,KAAK,IAAI5iC,IAAIxP,KAAKyZ,MAAMjK,GAAGA,IAAIA,EAAEkK,YACzBlK,EAAExO;AAEZ;YAGAwxC,WAAW9nB;cACT,IAAI3L,IAAM,IACNvP,IAAIxP,KAAKyZ,MACTuC,IAAI;cACR,GAAG;gBACD,MAAM4U,IAAMphB,EAAExO;gBACd,MAAI0pB,IAAIkG,EAAInoB,SAGL;kBACDiiB,MAAMkG,EAAInoB,UACZsW,KAAO6R,KACL5U,GACExM,EAAEkK,OAAM1Z,KAAKyZ,OAAOjK,EAAEkK,OACrB1Z,KAAKyZ,OAAOzZ,KAAKmY,OAAO,SAE7B4G,KAAOozB,EAAqBvhB,GAAK,GAAGlG,IACpC1qB,KAAKyZ,OAAOjK;kBACZA,EAAExO,OAAOmxC,EAAqBvhB,GAAKlG;kBAErC;AACF;gBAdE3L,KAAO6R,GACPlG,KAAKkG,EAAInoB,UAcTuT;AACJ,uBAA0B,UAAhBxM,IAAIA,EAAEkK;cAEhB,OADA1Z,KAAKyI,UAAUuT,GACR+C;AACT;YAGA0zB,WAAW/nB;cACT,MAAM3L,IAAM7T,EAAOqiB,YAAY7C,IACzBgoB,IAAShoB;cACf,IAAIlb,IAAIxP,KAAKyZ,MACTuC,IAAI;cACR,GAAG;gBACD,MAAMoR,IAAM5d,EAAExO;gBACd,MAAI0pB,IAAI0C,EAAI3kB,SAGL;kBACDiiB,MAAM0C,EAAI3kB,UACZ4pC,EAAuBtzB,GAAKqO,GAAKslB,IAAShoB,MACxC1O,GACExM,EAAEkK,OAAM1Z,KAAKyZ,OAAOjK,EAAEkK,OACrB1Z,KAAKyZ,OAAOzZ,KAAKmY,OAAO,SAE7Bk6B,EAAuBtzB,GAAK,IAAIlW,EAAWukB,EAAIjiB,QAAQiiB,EAAIhiB,YAAYsf,IAAIgoB,IAAShoB;kBACpF1qB,KAAKyZ,OAAOjK,GACZA,EAAExO,OAAOosB,EAAIxmB,MAAM8jB;kBAErB;AACF;gBAdE2nB,EAAuBtzB,GAAKqO,GAAKslB,IAAShoB,IAC1CA,KAAK0C,EAAI3kB,UAcTuT;AACJ,uBAA0B,UAAhBxM,IAAIA,EAAEkK;cAEhB,OADA1Z,KAAKyI,UAAUuT,GACR+C;AACT;YAGA,CAACnR,OAAO+kC,IAAI,+BAA+B9wC,GAAG0E;cAC5C,OAAOwsB,EAAQ/yB,MAAM;mBAChBuG;gBAEHq9B,OAAO;gBAEPgP,gBAAc;;AAElB;;AAAC;QAAD;UAAA;UCzJF,OAAM,UAAEC,KAAapyC,EAAQ,OACvBqyC,IAASryC,EAAQ,QACjB,WAAEsyC,KAActyC,EAAQ,QACxB,cACJixC,GAAY,YACZsB,GAAU,YACVC,GAAU,aACVtB,GAAW,mBACXuB,GAAiB,kBACjBC,GAAgB,kBAChBC,KACE3yC,EAAQ,QACN,YACJ+wC,GACAC,QAAO,uBAAE4B,GAAqB,kBAAEC,MAC9B7yC,EAAQ,OACNu8B,IAAMv8B,EAAQ;UACpBb,EAAOC,UAAU,YAAoBmxC;YACnC,IAAuB,MAAnBA,EAAQvoC,QACV,MAAM,IAAI6qC,EAAiB;YAE7B,IAAuB,MAAnBtC,EAAQvoC,QACV,OAAOqqC,EAAO7yB,KAAK+wB,EAAQ;YAE7B,MAAMuC,IAAa,KAAIvC;YAIvB,IAH0B,qBAAfA,EAAQ,OACjBA,EAAQ,KAAK8B,EAAO7yB,KAAK+wB,EAAQ,MAEQ,qBAAhCA,EAAQA,EAAQvoC,SAAS,IAAmB;cACrD,MAAM+qC,IAAMxC,EAAQvoC,SAAS;cAC7BuoC,EAAQwC,KAAOV,EAAO7yB,KAAK+wB,EAAQwC;AACrC;YACA,KAAK,IAAI9oB,IAAI,GAAGA,IAAIsmB,EAAQvoC,UAAUiiB,GACpC,IAAKgnB,EAAaV,EAAQtmB,OAAQinB,EAAYX,EAAQtmB,KAAtD;cAIA,IACEA,IAAIsmB,EAAQvoC,SAAS,OACnBuqC,EAAWhC,EAAQtmB,OAAO0oB,EAAiBpC,EAAQtmB,OAAOwoB,EAAkBlC,EAAQtmB,MAEtF,MAAM,IAAI2oB,EAAsB,WAAW3oB,MAAM6oB,EAAW7oB,IAAI;cAElE,IAAIA,IAAI,OAAOuoB,EAAWjC,EAAQtmB,OAAOyoB,EAAiBnC,EAAQtmB,OAAOwoB,EAAkBlC,EAAQtmB,MACjG,MAAM,IAAI2oB,EAAsB,WAAW3oB,MAAM6oB,EAAW7oB,IAAI;AARlE;YAWF,IAAI+oB,GACA/V,GACAgW,GACA1V,GACAsG;YAYJ,MAAM7qB,IAAOu3B,EAAQ,IACf74B,IAAO06B,EAAS7B,IAAAA,SAZFjT;cAClB,MAAM4V,IAAK3V;cACXA,IAAU,MACN2V,IACFA,EAAG5V,KACMA,IACTuG,EAAElJ,QAAQ2C,KACAR,KAAaluB,KACvBi1B,EAAElJ;AAEL,iBAGK/rB,OAAc4jC,EAAWx5B,MAAS05B,EAAiB15B,MAASy5B,EAAkBz5B,KAC9E8jB,OAAcyV,EAAW76B,MAASi7B,EAAiBj7B,MAAS+6B,EAAkB/6B;YAYpF,IAPAmsB,IAAI,IAAIwO,EAAO;cAEbc,sBAAuBn6B,QAAAA,MAAuCA,EAAKm6B;cACnEC,sBAAuB17B,QAAAA,MAAuCA,EAAKy7B;cACnEvkC,UAAAA;cACAkuB,UAAAA;gBAEEluB,GAAU;cACZ,IAAIqiC,EAAaj4B,IACf6qB,EAAEM,SAAS,SAAUkP,GAAOtmB,GAAU0P;gBAChCzjB,EAAKkU,MAAMmmB,GAAOtmB,KACpB0P,MAEAuW,IAAUvW;AAEd,iBACAoH,EAAEyP,SAAS,SAAU7W;gBACnBzjB,EAAKkT,OACL+Q,IAAWR;AACb,iBACAzjB,EAAK8kB,GAAG;gBACN,IAAIkV,GAAS;kBACX,MAAME,IAAKF;kBACXA,IAAU,MACVE;AACF;AACD,wBACI,IAAIhC,EAAYl4B,IAAO;gBAC5B,MACMu6B,KADWd,EAAkBz5B,KAAQA,EAAKpK,WAAWoK,GACnCw6B;gBACxB3P,EAAEM,SAASsP,eAAgBJ,GAAOtmB,GAAU0P;kBAC1C;0BACQ8W,EAAOG,OACbH,EAAOrmB,MAAMmmB,GAAOM,OAAM,YAC1BlX;AAGF,oBAFE,OAAOa;oBACPb,EAASa;AACX;AACF,mBACAuG,EAAEyP,SAASG,eAAgBhX;kBACzB;0BACQ8W,EAAOG,OACbH,EAAOzC,QAAQ6C,OAAM,YACrB1W,IAAWR;AAGb,oBAFE,OAAOa;oBACPb,EAASa;AACX;AACF;AACF;cACA,MAAMsW,IAASnB,EAAkB/6B,KAAQA,EAAKolB,WAAWplB;cACzD6kB,EAAIqX,IAAAA;gBACF,IAAI3W,GAAU;kBACZ,MAAMiW,IAAKjW;kBACXA,IAAW,MACXiW;AACF;AAAA;AAEJ;YACA,IAAIpW,GACF,IAAImU,EAAav5B,IACfA,EAAKomB,GAAG;cACN,IAAImV,GAAY;gBACd,MAAMC,IAAKD;gBACXA,IAAa,MACbC;AACF;AACD,iBACDx7B,EAAKomB,GAAG;cACN+F,EAAE37B,KAAK;AACR,iBACD27B,EAAEO,QAAQ;cACR,SAAa;gBACX,MAAMzX,IAAMjV,EAAK6X;gBACjB,IAAY,SAAR5C,GAEF,aADAsmB,IAAapP,EAAEO;gBAGjB,KAAKP,EAAE37B,KAAKykB,IACV;AAEJ;AACF,oBACK,IAAIukB,EAAYx5B,IAAO;cAC5B,MACMm8B,KADWpB,EAAkB/6B,KAAQA,EAAKolB,WAAWplB,GACnCo8B;cACxBjQ,EAAEO,QAAQqP;gBACR,SACE;kBACE,OAAM,OAAE7zC,GAAK,MAAEm0C,WAAeF,EAAOtkB;kBACrC,KAAKsU,EAAE37B,KAAKtI,IACV;kBAEF,IAAIm0C,GAEF,YADAlQ,EAAE37B,KAAK;AAKX,kBAFE;kBACA;AACF;AAEJ;AACF;YAkBF,OAhBA27B,EAAEmQ,WAAW,SAAU1W,GAAKb;cACrBa,KAAmB,SAAZC,MACVD,IAAM,IAAIyT,IAEZkC,IAAa,MACbD,IAAU,MACV/V,IAAW,MACK,SAAZM,IACFd,EAASa,MAETC,IAAUd,GACNwU,EAAav5B,MACf46B,EAAU56B,GAAM4lB;AAGtB,eACOuG;AACT;AAAA;QAAA;UAAA;UC7LA,MAAMjf,IAAU5kB,EAAQ,QAIlB,oBACJi0C,GACAjD,QAAO,uBAAEkD,IAAuB,YAChCnD,KACE/wC,EAAQ,QACN,QAAEmN,KAAWnN,EAAQ,QACrB,YAAEm0C,GAAU,aAAEC,GAAW,YAAEC,GAAU,iBAAEC,KAAoBt0C,EAAQ,OACnEu0C,IAAWpnC,EAAO,aAClBqnC,IAAarnC,EAAO;UAC1B,SAASsnC,EAAWnX,GAAK6C,GAAGngC;YACtBs9B,MAEFA,EAAIt8B,OAEAm/B,MAAMA,EAAEuU,YACVvU,EAAEuU,UAAUpX,IAEVt9B,MAAMA,EAAE00C,YACV10C,EAAE00C,UAAUpX;AAGlB;UAoCA,SAAS0W,EAAS30C,GAAMi+B,GAAK4V;YAC3B,IAAI1E,KAAAA;YACJ,SAASmG,EAAUrX;cACjB,IAAIkR,GACF;cAEFA,KAAAA;cACA,MAAMxuC,IAAIX,EAAKw9B,gBACTsD,IAAI9gC,EAAKs9B;cACf8X,EAAWnX,GAAK6C,GAAGngC,IACfmgC,MACFA,EAAEwQ,UAAAA,IAEA3wC,MACFA,EAAE2wC,UAAAA,IAEc,qBAAPuC,KACTA,EAAG5V,IAEDA,IACF1Y,EAAQ4Y,SAASoX,GAAkBv1C,GAAMi+B,KAEzC1Y,EAAQ4Y,SAASqX,GAAax1C;AAElC;YACA;cACEA,EAAK20C,SAAS1W,KAAO,MAAMqX;AAG7B,cAFE,OAAOrX;cACPqX,EAAUrX;AACZ;AACF;UACA,SAASsX,EAAiBv1C,GAAMi+B;YAC9BwX,EAAYz1C,GAAMi+B,IAClBuX,EAAYx1C;AACd;UACA,SAASw1C,EAAYx1C;YACnB,MAAMW,IAAIX,EAAKw9B,gBACTsD,IAAI9gC,EAAKs9B;YACXwD,MACFA,EAAE4U,gBAAAA,IAEA/0C,MACFA,EAAE+0C,gBAAAA,KAEC5U,QAAAA,KAAiCA,EAAE6U,aAAeh1C,QAAAA,KAAiCA,EAAEg1C,cACxF31C,EAAK6gC,KAAK;AAEd;UACA,SAAS4U,EAAYz1C,GAAMi+B;YACzB,MAAMt9B,IAAIX,EAAKw9B,gBACTsD,IAAI9gC,EAAKs9B;YACVwD,QAAAA,KAAiCA,EAAE8U,gBAAkBj1C,QAAAA,KAAiCA,EAAEi1C,iBAGzF9U,MACFA,EAAE8U,gBAAAA,IAEAj1C,MACFA,EAAEi1C,gBAAAA,IAEJ51C,EAAK6gC,KAAK,SAAS5C;AACrB;UA6BA,SAAS4X,EAAe1Y,GAAQc,GAAK6X;YAOnC,MAAMn1C,IAAIw8B,EAAOK,gBACXsD,IAAI3D,EAAOG;YACjB,IAAKwD,QAAAA,KAAiCA,EAAExC,aAAe39B,QAAAA,KAAiCA,EAAE29B,WACxF,OAAOp+B;YAEJS,QAAAA,KAAiCA,EAAEo1C,eAAiBjV,QAAAA,KAAiCA,EAAEiV,cAC1F5Y,EAAO7B,QAAQ2C,KACRA,MAEPA,EAAIt8B,OAEAm/B,MAAMA,EAAEuU,YACVvU,EAAEuU,UAAUpX;YAEVt9B,MAAMA,EAAE00C,YACV10C,EAAE00C,UAAUpX,IAEV6X,IACFvwB,EAAQ4Y,SAASsX,GAAatY,GAAQc,KAEtCwX,EAAYtY,GAAQc;AAG1B;UAoBA,SAAS+X,EAAY7Y;YACnB,IAAIgS,KAAAA;YACJ,SAAS8G,EAAYhY;cACnB,IAAIkR,GAEF,YADA0G,EAAe1Y,GAAQc,QAAAA,IAAoCA,IAAM,IAAI4W;cAGvE1F,KAAAA;cACA,MAAMxuC,IAAIw8B,EAAOK,gBACXsD,IAAI3D,EAAOG,gBACX/a,IAAIue,KAAKngC;cACXA,MACFA,EAAEu1C,eAAAA,IAEApV,MACFA,EAAEoV,eAAAA,IAEA3zB,EAAE+b,YACJnB,EAAO0D,KAAKqU,GAAUjX,KACbA,IACT4X,EAAe1Y,GAAQc,IAAAA,KAEvB1Y,EAAQ4Y,SAASgY,GAAiBhZ;AAEtC;YACA;cACEA,EAAOiZ,YAAYnY;gBACjB1Y,EAAQ4Y,SAAS8X,GAAahY;AAAG;AAIrC,cAFE,OAAOA;cACP1Y,EAAQ4Y,SAAS8X,GAAahY;AAChC;AACF;UACA,SAASkY,EAAgBhZ;YACvBA,EAAO0D,KAAKsU;AACd;UACA,SAASkB,EAAUlZ;YACjB,QAAQA,QAAAA,SAAAA,IAAsDA,EAAOuB,cAAsC,qBAAjBvB,EAAOwB;AACnG;UACA,SAAS2X,EAAgBnZ;YACvBA,EAAO0D,KAAK;AACd;UACA,SAAS0V,EAAqBpZ,GAAQc;YACpCd,EAAO0D,KAAK,SAAS5C,IACrB1Y,EAAQ4Y,SAASmY,GAAiBnZ;AACpC;UAiCAr9B,EAAOC,UAAU;YACfy2C,WAlGF,SAAmBrZ,GAAQ0W;cACzB,IAAiC,qBAAtB1W,EAAOiZ,YAChB;cAEF,MAAMz1C,IAAIw8B,EAAOK,gBACXsD,IAAI3D,EAAOG;cACb38B,MACFA,EAAEu1C,eAAAA,IAEApV,MACFA,EAAEoV,eAAAA,IAEJ/Y,EAAOH,KAAKmY,GAAYtB,IACpB1W,EAAOsE,cAAc0T,KAAc,KAIvC5vB,EAAQ4Y,SAAS6X,GAAa7Y;AAChC;YAiFE8V,WAhCF,SAAmB9V,GAAQc;cACpBd,MAAU4X,EAAY5X,OAGtBc,KAAQ+W,EAAW7X,OACtBc,IAAM,IAAIyT,IAIRuD,EAAgB9X,MAClBA,EAAOsZ,SAAS,MAChBtZ,EAAO7B,QAAQ2C,MACNoY,EAAUlZ,KACnBA,EAAOwB,UACE0X,EAAUlZ,EAAOqB,OAC1BrB,EAAOqB,IAAIG,UACwB,qBAAnBxB,EAAO7B,UACvB6B,EAAO7B,QAAQ2C,KACkB,qBAAjBd,EAAOsU,QAEvBtU,EAAOsU,UACExT,IACT1Y,EAAQ4Y,SAASoY,GAAsBpZ,GAAQc,KAE/C1Y,EAAQ4Y,SAASmY,GAAiBnZ;cAE/BA,EAAOmB,cACVnB,EAAO2X,MAAAA;AAEX;YAIExZ,SA7PF,SAAiB2C,GAAK4V;cACpB,MAAMlzC,IAAIT,KAAKs9B,gBACTsD,IAAI5gC,KAAKo9B,gBAET/a,IAAIue,KAAKngC;cACf,OAAKmgC,QAAAA,KAAiCA,EAAExC,aAAe39B,QAAAA,KAAiCA,EAAE29B,aACtE,qBAAPuV,KACTA,KAEK3zC,SAKTk1C,EAAWnX,GAAK6C,GAAGngC,IACfmgC,MACFA,EAAExC,aAAAA;cAEA39B,MACFA,EAAE29B,aAAAA,IAIC/b,EAAE2zB,cAKLvB,EAASz0C,MAAM+9B,GAAK4V,KAJpB3zC,KAAK88B,KAAKkY,IAAAA,SAAoBx5B;gBAC5Bi5B,EAASz0C,MAAM00C,EAAmBl5B,GAAIuiB,IAAM4V;AAC7C,mBAII3zC;AACT;YA+NEw2C,WAhKF;cACE,MAAM/1C,IAAIT,KAAKs9B,gBACTsD,IAAI5gC,KAAKo9B;cACX38B,MACFA,EAAEu1C,eAAAA,GACFv1C,EAAE2wC,UAAAA,GACF3wC,EAAE+0C,gBAAAA,GACF/0C,EAAE29B,aAAAA,GACF39B,EAAE00C,UAAU,MACZ10C,EAAEi1C,gBAAAA,GACFj1C,EAAEywC,WAAAA;cACFzwC,EAAE09B,SAAAA,MAAQ19B,EAAE88B,UACZ98B,EAAEg2C,cAAAA,MAAah2C,EAAE88B,WAEfqD,MACFA,EAAEoV,eAAAA,GACFpV,EAAExC,aAAAA,GACFwC,EAAEwQ,UAAAA;cACFxQ,EAAE4U,gBAAAA,GACF5U,EAAEuU,UAAU,MACZvU,EAAE8U,gBAAAA,GACF9U,EAAE8V,eAAAA,GACF9V,EAAE+V,eAAAA,GACF/V,EAAEzC,SAAAA,MAAQyC,EAAEvxB;cACZuxB,EAAEgW,UAAAA,MAAShW,EAAEvxB,UACbuxB,EAAEiW,YAAAA,MAAWjW,EAAEvxB;AAEnB;YAsIEsmC,gBAAAA;;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UAAAA;UCpQF,OAAM,wBACJmB,GAAsB,gCACtBC,GAA8B,YAC9BC,GAAU,sBACVC,KACEx2C,EAAQ;UACZb,EAAOC,UAAUizC;UACjB,MAAMoE,IAAWz2C,EAAQ,MACnB02C,IAAW12C,EAAQ;UACzBw2C,EAAqBnE,EAAOzsC,WAAW6wC,EAAS7wC,YAChD4wC,EAAqBnE,GAAQoE;UAC7B;YACE,MAAMhpC,IAAO8oC,EAAWG,EAAS9wC;YAEjC,KAAK,IAAIqC,IAAI,GAAGA,IAAIwF,EAAKzF,QAAQC,KAAK;cACpC,MAAMiK,IAASzE,EAAKxF;cACfoqC,EAAOzsC,UAAUsM,OAASmgC,EAAOzsC,UAAUsM,KAAUwkC,EAAS9wC,UAAUsM;AAC/E;AACF;UACA,SAASmgC,EAAOvsC;YACd,MAAMvG,gBAAgB8yC,IAAS,OAAO,IAAIA,EAAOvsC;YACjD2wC,EAAS9tC,KAAKpJ,MAAMuG,IACpB4wC,EAAS/tC,KAAKpJ,MAAMuG,IAChBA,KACFvG,KAAKo3C,iBAAAA,MAAgB7wC,EAAQ6wC,gBAAAA,MACzB7wC,EAAQg3B,aACVv9B,KAAKs9B,eAAeC,YAAAA;YACpBv9B,KAAKs9B,eAAea,SAAAA,GACpBn+B,KAAKs9B,eAAemZ,cAAAA,KAAa,MAE/BlwC,EAAQ8I,aACVrP,KAAKo9B,eAAe/tB,YAAAA;YACpBrP,KAAKo9B,eAAewZ,UAAAA,GACpB52C,KAAKo9B,eAAee,SAAAA,GACpBn+B,KAAKo9B,eAAeyZ,YAAAA,MAGtB72C,KAAKo3C,iBAAAA;AAET;UAwDA,IAAIC,GAaAC;UAVJ,SAASC;YAEP,YAAO,MADHF,MAAkCA,IAAqB,CAAC,IACrDA;AACT;UA7DAP,EAAuBhE,EAAOzsC,WAAW;YACvCgJ,UAAU;cACRmoC,WAAW;iBACRT,EAA+BI,EAAS9wC,WAAW;;YAExDoxC,uBAAuB;cACrBD,WAAW;iBACRT,EAA+BI,EAAS9wC,WAAW;;YAExDutC,oBAAoB;cAClB4D,WAAW;iBACRT,EAA+BI,EAAS9wC,WAAW;;YAExDqxC,gBAAgB;cACdF,WAAW;iBACRT,EAA+BI,EAAS9wC,WAAW;;YAExDsxC,gBAAgB;cACdH,WAAW;iBACRT,EAA+BI,EAAS9wC,WAAW;;YAExDuxC,kBAAkB;cAChBJ,WAAW;iBACRT,EAA+BI,EAAS9wC,WAAW;;YAExDwxC,gBAAgB;cACdL,WAAW;iBACRT,EAA+BI,EAAS9wC,WAAW;;YAExDyxC,eAAe;cACbN,WAAW;iBACRT,EAA+BI,EAAS9wC,WAAW;;YAExD0xC,mBAAmB;cACjBP,WAAW;iBACRT,EAA+BI,EAAS9wC,WAAW;;YAExD+3B,WAAW;cACToZ,WAAW;cACXtzC;gBACE,kBAAIlE,KAAKs9B,uBAAAA,MAAgCt9B,KAAKo9B,kBAGvCp9B,KAAKs9B,eAAec,aAAap+B,KAAKo9B,eAAegB;AAC9D;cACAnzB,IAAI5K;gBAGEL,KAAKs9B,kBAAkBt9B,KAAKo9B,mBAC9Bp9B,KAAKs9B,eAAec,YAAY/9B,GAChCL,KAAKo9B,eAAegB,YAAY/9B;AAEpC;;cAUJyyC,EAAOkF,UAAU,SAAUC,GAAM1xC;YAC/B,OAAOgxC,IAAiBW,wCAAwCD,GAAM1xC;AACxE,aACAusC,EAAOqF,QAAQ,SAAUrT;YACvB,OAAOyS,IAAiBa,kCAAkCtT;AAC5D,aAEAgO,EAAO7yB,OAAO,SAAUo4B;YAItB,OAHKf,MACHA,IAAY72C,EAAQ,QAEf62C,EAAUe,GAAM;AACzB;AAAA;QAAA;UC5IA,MAAMhzB,IAAU5kB,EAAQ,OAKlB63C,IAAe73C,EAAQ,QACvB,YACJuyC,GAAU,YACVC,GAAU,YACVsF,GAAU,cACV7G,GAAY,sBACZ8G,GAAoB,sBACpBC,GAAoB,oBACpBC,KACEj4C,EAAQ,OACNu8B,IAAMv8B,EAAQ,QACd,YACJ+wC,GACAC,QAAO,sBAAE3Y,GAAoB,0BAAE6f,MAC7Bl4C,EAAQ,QACN,WAAEsyC,KAActyC,EAAQ,OACxBqyC,IAASryC,EAAQ,OACjBy2C,IAAWz2C,EAAQ,OACnB,uBAAEm4C,KAA0Bn4C,EAAQ,OACpCwf,IAAOxf,EAAQ,OACfo4C,IAAOC,WAAWD,QAAQP,EAAaO,MACvCE,SAAAA,MACGF,IACH,SAAgBh3B;YACd,OAAOA,aAAag3B;AACtB,cACA,SAAgBh3B;YACd,QAAM;AACR,aACAwJ,IAAkBytB,WAAWztB,mBAAmB5qB,EAAA,wBAChD,uBAAEu4C,KAA0Bv4C,EAAQ;UAG1C,MAAMw4C,UAAkBnG;YACtBjyC,YAAY0F;cACVpF,MAAMoF,KAAAA,OAIDA,QAAAA,SAAAA,IAAwDA,EAAQg3B,cACnEv9B,KAAKs9B,eAAeC,YAAAA,GACpBv9B,KAAKs9B,eAAea,SAAAA;cACpBn+B,KAAKs9B,eAAemZ,cAAAA,KAAa,OAE9BlwC,QAAAA,SAAAA,IAAwDA,EAAQ8I,cACnErP,KAAKo9B,eAAe/tB,YAAAA,GACpBrP,KAAKo9B,eAAewZ,UAAAA;cACpB52C,KAAKo9B,eAAee,SAAAA,GACpBn+B,KAAKo9B,eAAeyZ,YAAAA;AAExB;;UAkNF,SAASqC,EAAWjB;YAClB,MAAMx3C,IAAIw3C,EAAK1a,YAA0C,qBAAvB0a,EAAK1a,SAASvN,OAAsBknB,EAASiC,KAAKlB,EAAK1a,YAAY0a,EAAK1a,UACpGqD,IAAIqX,EAAK5oC;YACf,IAEIokC,GACA/V,GACAgW,GACA1V,GACAsG,GANA/G,MAAayV,EAAWvyC,IACxB4O,MAAa4jC,EAAWrS;YAM5B,SAASwY,EAAWrb;cAClB,MAAM4V,IAAK3V;cACXA,IAAU,MACN2V,IACFA,EAAG5V,KACMA,KACTuG,EAAElJ,QAAQ2C;AAEd;YA4FA,OAvFAuG,IAAI,IAAI2U,EAAU;cAEhBpF,sBAAuBpzC,QAAAA,MAAiCA,EAAEozC;cAC1DD,sBAAuBhT,QAAAA,MAAiCA,EAAEgT;cAC1DrW,UAAAA;cACAluB,UAAAA;gBAEEA,MACF2tB,EAAI4D,IAAI7C;cACN1uB,KAAAA,GACI0uB,KACFgV,EAAUtyC,GAAGs9B,IAEfqb,EAAWrb;AAAG,iBAEhBuG,EAAEM,SAAS,SAAUkP,GAAOtmB,GAAU0P;cAChC0D,EAAEjT,MAAMmmB,GAAOtmB,KACjB0P,MAEAuW,IAAUvW;AAEd,eACAoH,EAAEyP,SAAS,SAAU7W;cACnB0D,EAAEjU,OACF+Q,IAAWR;AACb,eACA0D,EAAErC,GAAG;cACH,IAAIkV,GAAS;gBACX,MAAME,IAAKF;gBACXA,IAAU,MACVE;AACF;AACD,iBACD/S,EAAErC,GAAG;cACH,IAAIb,GAAU;gBACZ,MAAMiW,IAAKjW;gBACXA,IAAW,MACXiW;AACF;AACD,kBAECpW,MACFP,EAAIv8B,IAAIs9B;cACNR,KAAAA,GACIQ,KACFgV,EAAUtyC,GAAGs9B,IAEfqb,EAAWrb;AAAG,iBAEhBt9B,EAAE89B,GAAG;cACH,IAAImV,GAAY;gBACd,MAAMC,IAAKD;gBACXA,IAAa,MACbC;AACF;AACD,iBACDlzC,EAAE89B,GAAG;cACH+F,EAAE37B,KAAK;AACR,iBACD27B,EAAEO,QAAQ;cACR,SAAa;gBACX,MAAMzX,IAAM3sB,EAAEuvB;gBACd,IAAY,SAAR5C,GAEF,aADAsmB,IAAapP,EAAEO;gBAGjB,KAAKP,EAAE37B,KAAKykB,IACV;AAEJ;AACF,gBAEFkX,EAAEmQ,WAAW,SAAU1W,GAAKb;cACrBa,KAAmB,SAAZC,MACVD,IAAM,IAAIyT,IAEZkC,IAAa,MACbD,IAAU,MACV/V,IAAW,MACK,SAAZM,IACFd,EAASa,MAETC,IAAUd,GACV6V,EAAUnS,GAAG7C,IACbgV,EAAUtyC,GAAGs9B;AAEjB,eACOuG;AACT;UA/TA1kC,EAAOC,UAAU,SAASy3C,EAAUe,GAAM/xC;YACxC,IAAIoyC,EAAmBL,IACrB,OAAOA;YAET,IAAIG,EAAqBH,IACvB,OAAOa,EAAW;cAChB3b,UAAU8a;;YAGd,IAAII,EAAqBJ,IACvB,OAAOa,EAAW;cAChB7pC,UAAUgpC;;YAGd,IAAI3G,EAAa2G,IACf,OAAOa,EAAW;cAChB7pC,WAAS;cACTkuB,WAAS;;YAcb,IAAoB,qBAAT8a,GAAqB;cAC9B,OAAM,OAAEh4C,GAAK,OAAEstB,GAAK,OAAE0rB,GAAK,SAAEje,KA+HjC,SAAsBn1B;gBACpB,KAAI,SAAEqzC,GAAO,SAAEha,KAAYsZ;gBAC3B,MAAMW,IAAK,IAAIluB,GACTymB,IAASyH,EAAGzH;gBAqBlB,OAAO;kBACLzxC,OArBY4F,EACZ;oBACE,SAAa;sBACX,MAAMuzC,IAAWF;sBACjBA,IAAU;sBACV,OAAM,OAAExF,GAAK,MAAEU,GAAI,IAAEb,WAAa6F;sBAElC,IADAn0B,EAAQ4Y,SAAS0V,IACba,GAAM;sBACV,IAAI1C,EAAOI,SACT,MAAM,IAAIV,OAAAA,GAAsB;wBAC9BjwC,OAAOuwC,EAAOG;;wBAEdqH,SAAAA,GAASha,SAAAA,KAAYsZ,YACnB9E;AACR;AACD,mBAdD,IAeA;oBACEhC,QAAAA;;kBAKFnkB,MAAMmmB,GAAOtmB,GAAUmmB;oBACrB,MAAM8F,IAAWna;oBACjBA,IAAU,MACVma,EAAS;sBACP3F,OAAAA;sBACAU,OAAK;sBACLb,IAAAA;;AAEJ;kBACA0F,MAAM1F;oBACJ,MAAM8F,IAAWna;oBACjBA,IAAU,MACVma,EAAS;sBACPjF,OAAK;sBACLb,IAAAA;;AAEJ;kBACAvY,QAAQ2C,GAAK4V;oBACX4F,EAAG9a,SACHkV,EAAG5V;AACL;;AAEJ,eAhDA,CA/H0Dsa;cACtD,IAAIE,EAAWl4C,IACb,OAAO4f,EAAKg5B,GAAW54C,GAAO;gBAE5Bq5C,aAAW;gBACX/rB,OAAAA;gBACA0rB,OAAAA;gBACAje,SAAAA;;cAGJ,MAAMue,IAAOt5C,QAAAA,SAAAA,IAAoDA,EAAMs5C;cACvE,IAAoB,qBAATA,GAAqB;gBAC9B,IAAIrV;gBACJ,MAAMgV,IAAUN,EACdW,GACAt5C,IACCovB;kBACC,IAAW,QAAPA,GACF,MAAM,IAAIkpB,EAAyB,SAAS,QAAQlpB;AACrD,qBAEFsO;kBACCgV,EAAUzO,GAAGvG;AAAG;gBAGpB,OAAQuG,IAAI,IAAI2U,EAAU;kBAExBS,aAAW;kBACXnc,WAAS;kBACT5P,OAAAA;kBACA0rB,MAAM1F;oBACJ0F,GAAAA;sBACE;8BACQC,GACNj0B,EAAQ4Y,SAAS0V,GAAI;AAGvB,wBAFE,OAAO5V;wBACP1Y,EAAQ4Y,SAAS0V,GAAI5V;AACvB;AAAA;AAEJ;kBACA3C,SAAAA;;AAEJ;cACA,MAAM,IAAIud,EAAyB,4CAA4CryC,GAAMjG;AACvF;YACA,IAAI04C,EAAOV,IACT,OAAOf,EAAUe,EAAK3O;YAExB,IAAI6O,EAAWF,IACb,OAAOp4B,EAAKg5B,GAAWZ,GAAM;cAE3BqB,aAAW;cACXrqC,WAAS;;YAYb,IAC+E,oBAArEgpC,QAAAA,SAAAA,IAAkDA,EAAKhpC,aACc,oBAArEgpC,QAAAA,SAAAA,IAAkDA,EAAK9a,WAkB/D,OAAO2b,EAAW;cAChB3b,UAhBA8a,QAAAA,KAAuCA,EAAK9a,WACxCib,EAAqBH,QAAAA,SAAAA,IAAkDA,EAAK9a,YAC1E8a,QAAAA,SAAAA,IAEEA,EAAK9a,WACP+Z,EAAUe,EAAK9a,iBAAAA;cAYrBluB,UATAgpC,QAAAA,KAAuCA,EAAKhpC,WACxCopC,EAAqBJ,QAAAA,SAAAA,IAAkDA,EAAKhpC,YAC1EgpC,QAAAA,SAAAA,IAEEA,EAAKhpC,WACPioC,EAAUe,EAAKhpC,iBAAAA;;YAOzB,MAAMsqC,IAAOtB,QAAAA,SAAAA,IAAkDA,EAAKsB;YACpE,IAAoB,qBAATA,GAAqB;cAC9B,IAAIrV;cAcJ,OAbA0U,EACEW,GACAtB,IACC5oB;gBACY,QAAPA,KACF6U,EAAE37B,KAAK8mB,IAET6U,EAAE37B,KAAK;AAAI,mBAEZo1B;gBACCgV,EAAUzO,GAAGvG;AAAG,mBAGZuG,IAAI,IAAI2U,EAAU;gBACxBS,aAAW;gBACXrqC,WAAS;gBACT2gB,QAAQ;;AAEZ;YACA,MAAM,IAAI8I,EACRxyB,GACA,EACE,QACA,kBACA,kBACA,UACA,YACA,iBACA,YACA,+BACA,aAEF+xC;AAEJ;AAAA;QAAA;UCvNA,MAAMhzB,IAAU5kB,EAAQ,QAOlB,YAAE+wC,GAAU,OAAEC,KAAUhxC,EAAQ,QAChC,sBAAEq4B,GAAoB,4BAAE8gB,KAA+BnI,IACvD,cAAEoI,GAAY,MAAE/c,KAASr8B,EAAQ,QACjC,qBAAEq5C,GAAmB,kBAAEC,GAAgB,gBAAEC,GAAc,iBAAEC,KAAoBx5C,EAAQ,QACrF,SAAE4+B,GAAO,sBAAE6a,KAAyBz5C,EAAQ,QAC5C,UACJ05C,GAAQ,YACRnH,GAAU,sBACVwF,GAAoB,kBACpBpF,GAAgB,oBAChBgH,GAAkB,mBAClBC,GAAiB,YACjBpH,GAAU,sBACVwF,GAAoB,kBACpBtF,GAAgB,oBAChBmH,GAAkB,mBAClBC,GAAiB,cACjB7I,GACA8I,eAAeC,GAAc,kBAC7BC,KACEj6C,EAAQ,OAINk6C,IAAM;UACZ,SAAS3d,EAAIC,GAAQ12B,GAAS22B;YAC5B,IAAI0d,GAAmBC;YAYvB,IAXyB,MAArB3wB,UAAUzhB,UACZy0B,IAAW32B,GACXA,IAAUszC,KACU,QAAXtzC,IACTA,IAAUszC,IAEVG,EAAezzC,GAAS,YAE1BwzC,EAAiB7c,GAAU,aAC3B4c,EAAoBvzC,EAAQurC,QAAQ;YACpC5U,IAAWJ,EAAKI,IACZkW,EAAiBnW,MAAWkW,EAAiBlW,IAC/C,OAgLJ,SAAgBA,GAAQ12B,GAAS22B;cAC/B,IAAI4d,KAAAA,GACArc,IAAQkc;cACZ,IAAIp0C,EAAQurC,QAUV,IATArT,IAAQ;gBACNqc,KAAAA,GACA5d,EAAS9zB,KACP6zB,GACA,IAAIuU,OAAAA,GAAsB;kBACxBjwC,OAAOgF,EAAQurC,OAAOG;;AAAAA,iBAIxB1rC,EAAQurC,OAAOI,SACjB7sB,EAAQ4Y,SAASQ,SACZ;gBACL,MAAMsc,IAAmB7d;gBACzBA,IAAWJ,GAAAA,IAAStX;kBAClBjf,EAAQurC,OAAOpQ,oBAAoB,SAASjD,IAC5Csc,EAAiBjpB,MAAMmL,GAAQzX;AAAI,qBAErCjf,EAAQurC,OAAOtQ,iBAAiB,SAAS/C;AAC3C;cAEF,MAAMuc,IAAa,IAAIx1B;gBAChBs1B,KACHz1B,EAAQ4Y,UAAS,MAAMf,EAASpL,MAAMmL,GAAQzX;AAAAA;cAIlD,OADA00B,EAAqBjd,EAAOyd,GAAkBpB,SAAS0B,GAAYA,IAC5DL;AACT,aA/BA,CAhLkB1d,GAAQ12B,GAAS22B;YAEjC,KAAKwU,EAAazU,IAChB,MAAM,IAAInE,EAAqB,UAAU,EAAC,kBAAkB,kBAAkB,YAAWmE;YAE3F,MAAMM,IACuC,UAA1Cqd,IAAoBr0C,EAAQg3B,kBAAAA,MAAsBqd,IAC/CA,IACApC,EAAqBvb,IACrB5tB,IACuC,UAA1CwrC,IAAoBt0C,EAAQ8I,kBAAAA,MAAsBwrC,IAC/CA,IACApC,EAAqBxb,IACrBge,IAAShe,EAAOG,gBAChB8d,IAASje,EAAOK,gBAChBG,IAAiB;cAChBR,EAAO5tB,YACVquB;AAAAA;YAOJ,IAAI8c,IACFC,EAAexd,MAAWub,EAAqBvb,OAAYM,KAAYkb,EAAqBxb,OAAY5tB,GACtGuoC,IAAmB0C,EAAmBrd,IAAAA;YAC1C,MAAMS,IAAW;cACfka,KAAAA,GAII3a,EAAOmB,cACToc,KAAAA,MAEEA,KAAmBvd,EAAOM,aAAYA,OAGrCA,MAAY4d,KACfje,EAAS9zB,KAAK6zB;AAAAA;YAGlB,IAAIke,IAAmBf,EAAmBnd,IAAAA;YAC1C,MAAMU,IAAQ;cACZwd,KAAAA,GAIIle,EAAOmB,cACToc,KAAAA,MAEEA,KAAmBvd,EAAO5tB,aAAYA,OAGrCA,MAAYuoC,KACf1a,EAAS9zB,KAAK6zB;AAAAA,eAGZa,IAAWC;cACfb,EAAS9zB,KAAK6zB,GAAQc;AAAAA;YAExB,IAAIqT,IAAS+I,EAASld;YACtB,MAAMe,IAAU;cACdoT,KAAAA;cACA,MAAM+D,IAAUoF,EAAkBtd,MAAWod,EAAkBpd;cAC/D,OAAIkY,KAA8B,oBAAZA,IACbjY,EAAS9zB,KAAK6zB,GAAQkY,KAE3B5X,MAAa4d,KAAoB3C,EAAqBvb,IAAAA,OACnDmd,EAAmBnd,IAAAA,KAAuBC,EAAS9zB,KAAK6zB,GAAQ,IAAI2c,MAEvEvqC,KAAauoC,KACV0C,EAAmBrd,IAAAA,UAE1BC,EAAS9zB,KAAK6zB,KAFmCC,EAAS9zB,KAAK6zB,GAAQ,IAAI2c;AAAAA,eAIvEwB,IAAW;cACfhK,KAAAA;cACA,MAAM+D,IAAUoF,EAAkBtd,MAAWod,EAAkBpd;cAC/D,IAAIkY,KAA8B,oBAAZA,GACpB,OAAOjY,EAAS9zB,KAAK6zB,GAAQkY;cAE/BjY,EAAS9zB,KAAK6zB;AAAAA,eAEVoB,IAAY;cAChBpB,EAAOqB,IAAIC,GAAG,UAAUb;AAAAA;aAvG5B,SAAmBT;cACjB,OAAOA,EAAOuB,aAAqC,qBAAjBvB,EAAOwB;AAC3C,aAFA,CAyGgBxB,KAUH5tB,MAAa4rC,MAEtBhe,EAAOsB,GAAG,OAAOd,IACjBR,EAAOsB,GAAG,SAASd,OAZnBR,EAAOsB,GAAG,YAAYb,IACjB8c,KACHvd,EAAOsB,GAAG,SAASP,IAEjBf,EAAOqB,MACTD,MAEApB,EAAOsB,GAAG,WAAWF;YASpBmc,KAA2C,oBAAnBvd,EAAOiV,WAClCjV,EAAOsB,GAAG,WAAWP,IAEvBf,EAAOsB,GAAG,OAAOZ,IACjBV,EAAOsB,GAAG,UAAUb,KAAAA,MAChBn3B,EAAQ3B,SACVq4B,EAAOsB,GAAG,SAAST;YAErBb,EAAOsB,GAAG,SAASP,IACfoT,IACF/rB,EAAQ4Y,SAASD,KAEhBid,QAAAA,KAA2CA,EAAOvF,gBAClDwF,QAAAA,KAA2CA,EAAOxF,eAE9C8E,KACHn1B,EAAQ4Y,SAASmd,MAGlB7d,KACCid,MAAiBxH,EAAW/V,OAC7B2a,MAAAA,MAAoB3E,EAAWhW,QAI/B5tB,KACCmrC,MAAiBvH,EAAWhW,OAC7Bke,MAAAA,MAAoBnI,EAAW/V,MAGvBie,KAAUje,EAAOqB,OAAOrB,EAAOiV,WACxC7sB,EAAQ4Y,SAASmd,KARjB/1B,EAAQ4Y,SAASmd;YAUnB,MAAMC,IAAU;cACdne,IAAWyd,GACX1d,EAAO0B,eAAe,WAAWX,IACjCf,EAAO0B,eAAe,YAAYjB,IAClCT,EAAO0B,eAAe,SAASX,IAC/Bf,EAAO0B,eAAe,WAAWN;cAC7BpB,EAAOqB,OAAKrB,EAAOqB,IAAIK,eAAe,UAAUjB,IACpDT,EAAO0B,eAAe,OAAOlB,IAC7BR,EAAO0B,eAAe,SAASlB,IAC/BR,EAAO0B,eAAe,UAAUjB;cAChCT,EAAO0B,eAAe,OAAOhB,IAC7BV,EAAO0B,eAAe,SAASb,IAC/Bb,EAAO0B,eAAe,SAASX;AAAAA;YAEjC,IAAIz3B,EAAQurC,WAAWV,GAAQ;cAC7B,MAAM3S,IAAQ;gBAEZ,MAAM6c,IAAcpe;gBACpBme,KACAC,EAAYlyC,KACV6zB,GACA,IAAIuU,OAAAA,GAAsB;kBACxBjwC,OAAOgF,EAAQurC,OAAOG;;AAAAA;cAI5B,IAAI1rC,EAAQurC,OAAOI,SACjB7sB,EAAQ4Y,SAASQ,SACZ;gBACL,MAAMsc,IAAmB7d;gBACzBA,IAAWJ,GAAAA,IAAStX;kBAClBjf,EAAQurC,OAAOpQ,oBAAoB,SAASjD,IAC5Csc,EAAiBjpB,MAAMmL,GAAQzX;AAAI,qBAErCjf,EAAQurC,OAAOtQ,iBAAiB,SAAS/C;AAC3C;AACF;YACA,OAAO4c;AACT;UAwDAz7C,EAAOC,UAAUm9B,GACjBp9B,EAAOC,QAAQg3C,WAxBf,SAAkB5Z,GAAQl5B;YACxB,IAAIw3C;YACJ,IAAIC,KAAAA;YAQJ,OAPa,SAATz3C,MACFA,IAAO81C,IAEc,UAAlB0B,IAAQx3C,WAAAA,MAAkBw3C,KAAuBA,EAAMF,YAC1DpB,EAAgBl2C,EAAKs3C,SAAS,YAC9BG,IAAcz3C,EAAKs3C;YAEd,IAAIhc,GAAAA,CAASC,GAASC;cAC3B,MAAM8b,IAAUre,EAAIC,GAAQl5B,IAAOg6B;gBAC7Byd,KACFH,KAEEtd,IACFwB,EAAOxB,KAEPuB;AACD;AACF;AAEL;AAAA;QAAA;UAAA;UClRA,MAAMja,IAAU5kB,EAAQ,QAIlB,sBAAEy5C,GAAoB,qBAAEuB,GAAmB,gBAAErJ,KAAmB3xC,EAAQ,QACxE,QAAEyK,KAAWzK,EAAQ,QACrB,sBAAEq4B,GAAoB,wBAAE4iB,KAA2Bj7C,EAAA;UAuFzDb,EAAOC,UAtFP,SAAcq3C,GAAU/N,GAAUplC;YAChC,IAAI8J,GAWA8tC;YAVJ,IAAwB,mBAAbxS,KAAyBA,aAAoBj+B,GACtD,OAAO,IAAIgsC,EAAS;cAClBwC,aAAW;iBACR31C;cACHisB;gBACEhwB,KAAK2I,KAAKwgC,IACVnpC,KAAK2I,KAAK;AACZ;;YAIJ,IAAIwgC,KAAYA,EAASsS,IACvBE,KAAAA,GACA9tC,IAAWs7B,EAASsS,WACf;cAAA,KAAItS,MAAYA,EAASiJ,IAI9B,MAAM,IAAItZ,EAAqB,YAAY,EAAC,cAAaqQ;cAHzDwS,KAAAA,GACA9tC,IAAWs7B,EAASiJ;AAGtB;YACA,MAAM7U,IAAW,IAAI2Z,EAAS;cAC5BwC,aAAW;cACXkC,eAAe;iBAEZ73C;;YAKL,IAAImtC,KAAAA;YAqDJ,OApDA3T,EAASsH,QAAQ;cACVqM,MACHA,KAAAA,GA2BJgD;gBACE,SAAS;kBACP;oBACE,OAAM,OAAE7zC,GAAK,MAAEm0C,KAASmH,UAAgB9tC,EAAS6L,SAAS7L,EAAS6L;oBACnE,IAAI86B,GACFjX,EAAS50B,KAAK,YACT;sBACL,MAAM4hB,IAAMlqB,KAA+B,qBAAfA,EAAMs5C,aAA4Bt5C,IAAQA;sBACtE,IAAY,SAARkqB,GAEF,MADA2mB,KAAAA,GACM,IAAIwK;sBACL,IAAIne,EAAS50B,KAAK4hB,IACvB;sBAEA2mB,KAAAA;AAEJ;AAGF,oBAFE,OAAOnT;oBACPR,EAASnC,QAAQ2C;AACnB;kBACA;AACF;AACF,eAtBAmW;AAxBA,eACA3W,EAASkX,WAAW,SAAU7vC,GAAO+uC;cACnCuG,EAOFhG,eAAqBtvC;gBACnB,MAAMi3C,IAAWj3C,QAAAA,GACXk3C,IAAqC,qBAAnBjuC,EAASkuC;gBACjC,IAAIF,KAAYC,GAAU;kBACxB,OAAM,OAAEz7C,GAAK,MAAEm0C,WAAe3mC,EAASkuC,MAAMn3C;kBAE7C,UADMvE,GACFm0C,GACF;AAEJ;gBACA,IAA+B,qBAApB3mC,EAASmuC,QAAuB;kBACzC,OAAM,OAAE37C,WAAgBwN,EAASmuC;wBAC3B37C;AACR;AACF,eAdA6zC,CANUtvC,KAAAA,MACAygB,EAAQ4Y,SAAS0V,GAAI/uC,MAE1BkV,KAAMuL,EAAQ4Y,SAAS0V,GAAI75B,KAAKlV;AAErC,eAuCO24B;AACT;AAAA;QAAA;UAAA;UC9FA,OAAM,cAAE0e,GAAY,sBAAEhF,KAAyBx2C,EAAQ,QAC/C0+B,cAAc+c,KAAOz7C,EAAQ;UACrC,SAAS07C,EAAOp4C;YACdm4C,EAAG9yC,KAAKpJ,MAAM+D;AAChB;UAkEA,SAASi+B,EAAgB5C,GAASgd,GAAOn2C;YAGvC,IAAuC,qBAA5Bm5B,EAAQ4C,iBAAgC,OAAO5C,EAAQ4C,gBAAgBoa,GAAOn2C;YAMpFm5B,EAAQS,WAAYT,EAAQS,QAAQuc,KAChCH,EAAa7c,EAAQS,QAAQuc,MAAShd,EAAQS,QAAQuc,GAAOhiC,QAAQnU,KACzEm5B,EAAQS,QAAQuc,KAAS,EAACn2C,GAAIm5B,EAAQS,QAAQuc,OAFFhd,EAAQb,GAAG6d,GAAOn2C;AAGrE;UA7EAgxC,EAAqBkF,EAAO91C,WAAW61C,EAAG71C,YAC1C4wC,EAAqBkF,GAAQD,IAC7BC,EAAO91C,UAAUs+B,OAAO,SAAU0X,GAAM91C;YACtC,MAAMk8B,IAASziC;YACf,SAASs8C,EAAOxI;cACVuI,EAAKhtC,aAAAA,MAAYgtC,EAAK1uB,MAAMmmB,MAAoBrR,EAAO8Z,SACzD9Z,EAAO8Z;AAEX;YAEA,SAAS9I;cACHhR,EAAOlF,YAAYkF,EAAO+Z,UAC5B/Z,EAAO+Z;AAEX;YALA/Z,EAAOlE,GAAG,QAAQ+d,IAMlBD,EAAK9d,GAAG,SAASkV,IAIZ4I,EAAKI,YAAcl2C,MAAAA,MAAWA,EAAQomB,QACzC8V,EAAOlE,GAAG,OAAOZ,IACjB8E,EAAOlE,GAAG,SAASP;YAErB,IAAI0e,KAAAA;YACJ,SAAS/e;cACH+e,MACJA,KAAAA,GACAL,EAAK1vB;AACP;YACA,SAASqR;cACH0e,MACJA,KAAAA,GAC4B,qBAAjBL,EAAKjhB,WAAwBihB,EAAKjhB;AAC/C;YAGA,SAAS0C,EAAQtiB;cACf6/B,KACwC,MAApCa,EAAG3a,cAAcvhC,MAAM,YACzBA,KAAK2gC,KAAK,SAASnlB;AAEvB;YAKA,SAAS6/B;cACP5Y,EAAO9D,eAAe,QAAQ2d,IAC9BD,EAAK1d,eAAe,SAAS8U,IAC7BhR,EAAO9D,eAAe,OAAOhB,IAC7B8E,EAAO9D,eAAe,SAASX,IAC/ByE,EAAO9D,eAAe,SAASb;cAC/Bue,EAAK1d,eAAe,SAASb,IAC7B2E,EAAO9D,eAAe,OAAO0c,IAC7B5Y,EAAO9D,eAAe,SAAS0c,IAC/BgB,EAAK1d,eAAe,SAAS0c;AAC/B;YAOA,OArBArZ,EAAgBS,GAAQ,SAAS3E,IACjCkE,EAAgBqa,GAAM,SAASve,IAc/B2E,EAAOlE,GAAG,OAAO8c,IACjB5Y,EAAOlE,GAAG,SAAS8c,IACnBgB,EAAK9d,GAAG,SAAS8c,IACjBgB,EAAK1b,KAAK,QAAQ8B,IAGX4Z;AACT,aAcAz8C,EAAOC,UAAU;YACfs8C,QAAAA;YACAna,iBAAAA;;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UAAAA;UCrFF,MAAM3W,IAAkBytB,WAAWztB,mBAAmB5qB,EAAA,wBAEpDgxC,QAAO,uBAAE4B,GAAqB,sBAAEva,GAAoB,kBAAEwa,GAAgB,kBAAEza,IAAkB,YAC1F2Y,KACE/wC,EAAQ,QACN,qBAAEq5C,GAAmB,iBAAE6C,GAAe,gBAAE3C,KAAmBv5C,EAAQ,OACnEm8C,IAAen8C,EAAA,aAAyC,WACxD,UAAEo2C,KAAap2C,EAAQ,OACvBo8C,IAAgBp8C,EAAQ,OACxB,0BAAEsxC,KAA6BtxC,EAAQ,OACvC,YAAEwyC,GAAU,cAAEvB,KAAiBjxC,EAAQ,QACvC,oBACJq8C,GAAkB,WAClBC,GAAS,QACT97C,GAAM,aACNi+B,GAAW,SACXG,GAAO,eACP2d,GAAa,sBACb9C,GAAoB,QACpBtsC,KACEnN,EAAQ,OACNw8C,IAASrvC,EAAO,WAChBsvC,IAAOtvC,EAAO;UAkBpB,SAAS/I,EAAIoB,GAAIM;YACf,IAAkB,qBAAPN,GACT,MAAM,IAAI6yB,EAAqB,MAAM,EAAC,YAAY,mBAAkB7yB;YAEvD,QAAXM,KACFyzC,EAAezzC,GAAS,YAEsD,SAA3EA,QAAAA,SAAAA,IAAwDA,EAAQurC,WACnEgI,EAAoBvzC,EAAQurC,QAAQ;YAEtC,IAAIqL,IAAc;YAKlB,OAJqF,SAAhF52C,QAAAA,SAAAA,IAAwDA,EAAQ42C,iBACnEA,IAAcJ,EAAUx2C,EAAQ42C,eAElCR,EAAgBQ,GAAa,eAAe,IACrCjJ;cACL,IAAIkJ,GAAiBC;cACrB,MAAM9D,IAAK,IAAIluB,GACT4R,IAASj9B,MACT8vC,IAAQ,IACRgC,IAASyH,EAAGzH,QACZwL,IAAY;gBAChBxL,QAAAA;iBAEIrT,IAAQ,MAAM8a,EAAG9a;cAevB,IAAI/kB,GACA8iC;cAdFj2C,QAAAA,KAEuC,UAAtC62C,IAAkB72C,EAAQurC,gBAAAA,MAC3BsL,KACAA,EAAgBlL,WAEhBzT,KAEFl4B,QAAAA,KAE4C,UAAvC82C,IAAmB92C,EAAQurC,gBAAAA,MAAoBuL,KAEhDA,EAAiB7b,iBAAiB,SAAS/C;cAG/C,IAAI+V,KAAAA;cACJ,SAAS+I;gBACP/I,KAAAA;AACF;eACAN;gBACE;kBACE,WAAW,IAAIzkB,KAAOwN,GAAQ;oBAC5B,IAAIugB;oBACJ,IAAIhJ,GACF;oBAEF,IAAI1C,EAAOI,SACT,MAAM,IAAIV;oBAEZ;sBACE/hB,IAAMxpB,EAAGwpB,GAAK6tB;AAGhB,sBAFE,OAAOvf;sBACPtO,IAAMutB,EAAcjf;AACtB;oBACItO,MAAQwtB,MAG0E,sBAAzD,UAAhBO,IAAO/tB,WAAAA,MAAiB+tB,SAAAA,IAAiCA,EAAKpJ,UACzE3kB,EAAI2kB,MAAMmJ,IAEZzN,EAAMnnC,KAAK8mB,IACP/V,MACFA;oBACAA,IAAO,QAEJ86B,KAAQ1E,EAAMrnC,UAAUqnC,EAAMrnC,UAAU00C,WACrC,IAAI9d,GAASC;sBACjBkd,IAASld;AAAAA;AAGf;kBACAwQ,EAAMnnC,KAAKu0C;AAiBb,kBAhBE,OAAOnf;kBACP,MAAMtO,IAAMutB,EAAcjf;kBAC1Bmc,EAAqBzqB,QAAAA,GAAgB8tB,IACrCzN,EAAMnnC,KAAK8mB;AACb,kBAAE;kBACA,IAAIguB;kBACJjJ,KAAAA,GACI96B,MACFA,KACAA,IAAO,OAETnT,QAAAA,KAE4C,UAAvCk3C,IAAmBl3C,EAAQurC,gBAAAA,MAAoB2L,KAEhDA,EAAiB/b,oBAAoB,SAASjD;AACpD;AACF,eAlDAyV;cAoDA;gBACE,SAAa;kBACX,MAAOpE,EAAMrnC,SAAS,KAAG;oBACvB,MAAMgnB,UAAYqgB,EAAM;oBACxB,IAAIrgB,MAAQytB,GACV;oBAEF,IAAIpL,EAAOI,SACT,MAAM,IAAIV;oBAER/hB,MAAQwtB,YACJxtB,IAERqgB,EAAMtlB,SACFgyB,MACFA,KACAA,IAAS;AAEb;wBACM,IAAInd,GAASC;oBACjB5lB,IAAO4lB;AAAAA;AAEX;AAQF,gBAPE;gBACAia,EAAG9a,SACH+V,KAAAA,GACIgI,MACFA,KACAA,IAAS;AAEb;AACF,cAAEpzC,KAAKpJ;AACT;UA2BAk0C,eAAex2B,EAAKzX,GAAIM;YACtB,WAAW,MAAMm3C,KAAU3jC,EAAO3Q,KAAKpJ,MAAMiG,GAAIM,IAC/C,QAAM;YAER,QAAM;AACR;UA+BA,SAASwT,EAAO9T,GAAIM;YAClB,IAAkB,qBAAPN,GACT,MAAM,IAAI6yB,EAAqB,MAAM,EAAC,YAAY,mBAAkB7yB;YAQtE,OAAOpB,EAAIuE,KAAKpJ,OAAK,eANGK,GAAOkG;cAC7B,aAAUN,EAAG5F,GAAOkG,KACXlG,IAEF48C;AACR,gBAC+B12C;AAClC;UAIA,MAAMo3C,UAAkCrK;YACtCzyC;cACEM,MAAM,WACNnB,KAAKe,UAAU;AACjB;;UAqGF,SAAS68C,EAAoB3xC;YAI3B,IADAA,IAAShL,EAAOgL,IACZizB,EAAYjzB,IACd,OAAO;YAET,IAAIA,IAAS,GACX,MAAM,IAAI4sB,EAAiB,UAAU,QAAQ5sB;YAE/C,OAAOA;AACT;UA2EArM,EAAOC,QAAQg+C,2BAA2B;YACxCC,gBA7QF,SAAwBv3C;cAOtB,OANe,QAAXA,KACFyzC,EAAezzC,GAAS,YAEsD,SAA3EA,QAAAA,SAAAA,IAAwDA,EAAQurC,WACnEgI,EAAoBvzC,EAAQurC,QAAQ,mBAE/BoC;gBACL,IAAInxB,IAAQ;gBACZ,WAAW,MAAM0M,KAAOzvB,MAAM;kBAC5B,IAAI+9C;kBACJ,IACEx3C,QAAAA,KAEwC,UAAvCw3C,IAAmBx3C,EAAQurC,gBAAAA,MAC5BiM,KACAA,EAAiB7L,SAEjB,MAAM,IAAIV,EAAW;oBACnBjwC,OAAOgF,EAAQurC,OAAOG;;wBAGpB,EAAClvB,KAAS0M;AAClB;AACF,gBAAErmB,KAAKpJ;AACT;YAqPEg+C,MA5EF,SAAc/xC,GAAQ1F;cAQpB,OAPe,QAAXA,KACFyzC,EAAezzC,GAAS,YAEsD,SAA3EA,QAAAA,SAAAA,IAAwDA,EAAQurC,WACnEgI,EAAoBvzC,EAAQurC,QAAQ,mBAEtC7lC,IAAS2xC,EAAoB3xC;cACtBioC;gBACL,IAAI+J;gBACJ,IACE13C,QAAAA,KAEwC,UAAvC03C,IAAmB13C,EAAQurC,gBAAAA,MAC5BmM,KACAA,EAAiB/L,SAEjB,MAAM,IAAIV;gBAEZ,WAAW,MAAM/hB,KAAOzvB,MAAM;kBAC5B,IAAIk+C;kBACJ,IACE33C,QAAAA,KAEwC,UAAvC23C,IAAmB33C,EAAQurC,gBAAAA,MAC5BoM,KACAA,EAAiBhM,SAEjB,MAAM,IAAIV;kBAERvlC,OAAY,YACRwjB;AAEV;AACF,gBAAErmB,KAAKpJ;AACT;YA0CE+Z,QAAAA;YACAokC,SAlGF,SAAiBl4C,GAAIM;cACnB,MAAMuE,IAASjG,EAAIuE,KAAKpJ,MAAMiG,GAAIM;cAClC,OAAO2tC;gBACL,WAAW,MAAMzkB,KAAO3kB,UACf2kB;AAEX,gBAAErmB,KAAKpJ;AACT;YA4FE6E,KAAAA;YACAu5C,MA5CF,SAAcnyC,GAAQ1F;cAQpB,OAPe,QAAXA,KACFyzC,EAAezzC,GAAS,YAEsD,SAA3EA,QAAAA,SAAAA,IAAwDA,EAAQurC,WACnEgI,EAAoBvzC,EAAQurC,QAAQ,mBAEtC7lC,IAAS2xC,EAAoB3xC;cACtBioC;gBACL,IAAImK;gBACJ,IACE93C,QAAAA,KAEyC,UAAxC83C,IAAoB93C,EAAQurC,gBAAAA,MAC7BuM,KACAA,EAAkBnM,SAElB,MAAM,IAAIV;gBAEZ,WAAW,MAAM/hB,KAAOzvB,MAAM;kBAC5B,IAAIs+C;kBACJ,IACE/3C,QAAAA,KAEyC,UAAxC+3C,IAAoB/3C,EAAQurC,gBAAAA,MAC7BwM,KACAA,EAAkBpM,SAElB,MAAM,IAAIV;kBAEZ,MAAIvlC,MAAW,IAGb;wBAFMwjB;AAIV;AACF,gBAAErmB,KAAKpJ;AACT;YAQEu+C,SAtaF,SAAiBthB,GAAQ12B;cAOvB,IANe,QAAXA,KACFyzC,EAAezzC,GAAS,YAEsD,SAA3EA,QAAAA,SAAAA,IAAwDA,EAAQurC,WACnEgI,EAAoBvzC,EAAQurC,QAAQ,mBAElCJ,EAAazU,OAAYgW,EAAWhW,IACtC,MAAM,IAAIoW,EAAsB,UAAUpW,GAAQ;cAEpD,MAAMuhB,IAAiB3B,EAAc78C,MAAMi9B;cAK3C,OAJI12B,QAAAA,KAA6CA,EAAQurC,UAEvDC,EAAyBxrC,EAAQurC,QAAQ0M,IAEpCA;AACT;aAwZA5+C,EAAOC,QAAQ4+C,4BAA4B;YACzC3gC,OAtPFo2B,eAAqBjuC,GAAIM;cACvB,IAAkB,qBAAPN,GACT,MAAM,IAAI6yB,EAAqB,MAAM,EAAC,YAAY,mBAAkB7yB;cAGtE,cAAeyX,EAAKtU,KAClBpJ,OAAK,UACKwlB,aACOvf,KAAMuf,KAEvBjf;AAEJ;YA2OEuH,SApOFomC,eAAuBjuC,GAAIM;cACzB,IAAkB,qBAAPN,GACT,MAAM,IAAI6yB,EAAqB,MAAM,EAAC,YAAY,mBAAkB7yB;cAOtE,WAAW,MAAMy3C,KAAU74C,EAAIuE,KAAKpJ,OAAK,eALhBK,GAAOkG;gBAE9B,aADMN,EAAG5F,GAAOkG,IACT02C;AACR,kBAEoD12C;AACvD;YA2NEnB,QArMF8uC,eAAsBwK,GAASC,GAAcp4C;cAC3C,IAAIq4C;cACJ,IAAuB,qBAAZF,GACT,MAAM,IAAI5lB,EAAqB,WAAW,EAAC,YAAY,mBAAkB4lB;cAE5D,QAAXn4C,KACFyzC,EAAezzC,GAAS,YAEsD,SAA3EA,QAAAA,SAAAA,IAAwDA,EAAQurC,WACnEgI,EAAoBvzC,EAAQurC,QAAQ;cAEtC,IAAI+M,IAAkB30B,UAAUzhB,SAAS;cACzC,IACElC,QAAAA,KAEwC,UAAvCq4C,IAAmBr4C,EAAQurC,gBAAAA,MAC5B8M,KACAA,EAAiB1M,SACjB;gBACA,MAAMnU,IAAM,IAAIyT,OAAAA,GAAsB;kBACpCjwC,OAAOgF,EAAQurC,OAAOG;;gBAIxB,MAFAjyC,KAAK88B,KAAK,iBAAS,WACb+Z,EAAS72C,KAAKo7B,QAAQ2C,KACtBA;AACR;cACA,MAAMwb,IAAK,IAAIluB,GACTymB,IAASyH,EAAGzH;cAClB,IAAIvrC,QAAAA,KAA6CA,EAAQurC,QAAQ;gBAC/D,MAAM/tC,IAAO;kBACX+4B,OAAK;kBACL,CAAC8f,IAAe58C;;gBAElBuG,EAAQurC,OAAOtQ,iBAAiB,gBAAe+X,EAAG9a,UAAS16B;AAC7D;cACA,IAAI+6C,KAAAA;cACJ;gBACE,WAAW,MAAMz+C,KAASL,MAAM;kBAC9B,IAAI++C;kBAEJ,IADAD,KAAAA,GAEEv4C,QAAAA,KAEwC,UAAvCw4C,IAAmBx4C,EAAQurC,gBAAAA,MAC5BiN,KACAA,EAAiB7M,SAEjB,MAAM,IAAIV;kBAEPqN,IAIHF,UAAqBD,EAAQC,GAAct+C,GAAO;oBAChDyxC,QAAAA;wBAJF6M,IAAet+C,GACfw+C,KAAAA;AAMJ;gBACA,KAAKC,MAAyBD,GAC5B,MAAM,IAAIlB;AAId,gBAFE;gBACApE,EAAG9a;AACL;cACA,OAAOkgB;AACT;YAqIEhlC,SApIFu6B,eAAuB3tC;cACN,QAAXA,KACFyzC,EAAezzC,GAAS,YAEsD,SAA3EA,QAAAA,SAAAA,IAAwDA,EAAQurC,WACnEgI,EAAoBvzC,EAAQurC,QAAQ;cAEtC,MAAMrlC,IAAS;cACf,WAAW,MAAMgjB,KAAOzvB,MAAM;gBAC5B,IAAIg/C;gBACJ,IACEz4C,QAAAA,KAEwC,UAAvCy4C,IAAmBz4C,EAAQurC,gBAAAA,MAC5BkN,KACAA,EAAiB9M,SAEjB,MAAM,IAAIV,OAAAA,GAAsB;kBAC9BjwC,OAAOgF,EAAQurC,OAAOG;;gBAG1B6K,EAAmBrwC,GAAQgjB;AAC7B;cACA,OAAOhjB;AACT;YA6GEiR,MAAAA;YACAuhC,MA9OF/K,eAAoBjuC,GAAIM;cACtB,WAAW,MAAMkG,KAAUsN,EAAO3Q,KAAKpJ,MAAMiG,GAAIM,IAC/C,OAAOkG;AAGX;;AAAC;QAAD;UAAA;UCnMA,OAAM,sBAAEwqC,KAAyBx2C,EAAQ;UACzCb,EAAOC,UAAUq/C;UACjB,MAAMC,IAAY1+C,EAAQ;UAG1B,SAASy+C,EAAY34C;YACnB,MAAMvG,gBAAgBk/C,IAAc,OAAO,IAAIA,EAAY34C;YAC3D44C,EAAU/1C,KAAKpJ,MAAMuG;AACvB;UALA0wC,EAAqBiI,EAAY74C,WAAW84C,EAAU94C,YACtD4wC,EAAqBiI,GAAaC,IAKlCD,EAAY74C,UAAU2+B,aAAa,SAAU8O,GAAOtmB,GAAUmmB;YAC5DA,EAAG,MAAMG;AACX;AAAA;QAAA;UCpCA,MAAMzuB,IAAU5kB,EAAQ,QAOlB,cAAEw7C,GAAY,SAAE5c,GAAO,qBAAEoc,KAAwBh7C,EAAQ,OACzDu8B,IAAMv8B,EAAQ,QACd,MAAEq8B,KAASr8B,EAAQ,OACnB2+C,IAAc3+C,EAAQ,OACtBqyC,IAASryC,EAAQ,QACjB,oBACJi0C,GACAjD,QAAO,sBACL3Y,GAAoB,0BACpB6f,GAAwB,kBACxBrF,GAAgB,sBAChB+L,GAAoB,4BACpBzF,IACD,YACDpI,KACE/wC,EAAQ,QACN,kBAAEs5C,GAAgB,qBAAED,KAAwBr5C,EAAQ,QACpD,YACJ83C,GAAU,YACVvF,GAAU,sBACVwF,GAAoB,cACpB9G,GAAY,mBACZwB,GAAiB,aACjBvB,GAAW,kBACXyB,GAAgB,iBAChBkM,KACE7+C,EAAQ,OACN4qB,IAAkBytB,WAAWztB,mBAAmB5qB,EAAA;UACtD,IAAIy+C,GACAhI;UACJ,SAASnE,EAAU9V,GAAQiU,GAASC;YAClC,IAAI0F,KAAAA;YAcJ,OAbA5Z,EAAOsB,GAAG;cACRsY,KAAAA;AAAW,iBAYN;cACLzb,SAAU2C;gBACJ8Y,MACJA,KAAAA,GACAuI,EAAYrM,UAAU9V,GAAQc,KAAO,IAAIshB,EAAqB;AAAA;cAEhEhE,SAhBcre,EACdC,GACA;gBACEM,UAAU2T;gBACV7hC,UAAU8hC;kBAEXpT;gBACC8Y,KAAY9Y;AAAAA;;AAWlB;UAQA,SAASwhB,EAAkB9vB;YACzB,IAAI8oB,EAAW9oB,IACb,OAAOA;YACF,IAAI+oB,EAAqB/oB,IAE9B,OAIJykB,gBAA6BzkB;cACtBynB,MACHA,IAAWz2C,EAAQ,cAEdy2C,EAAS7wC,UAAUo1C,GAAqBryC,KAAKqmB;AACtD,aALAykB,CAJwBzkB;YAEtB,MAAM,IAAIqJ,EAAqB,OAAO,EAAC,YAAY,YAAY,mBAAkBrJ;AACnF;UAOAykB,eAAesL,EAAWrW,GAAU95B,GAAUowC,IAAQ,KAAE9yB;YACtD,IAAI/nB,GACA86C,IAAY;YAChB,MAAMlD,IAAUze;cAId,IAHIA,MACFn5B,IAAQm5B,IAEN2hB,GAAW;gBACb,MAAMxiB,IAAWwiB;gBACjBA,IAAY,MACZxiB;AACF;AAAA,eAEIyiB,IAAO,MACX,IAAItgB,GAAAA,CAASC,GAASC;cAChB36B,IACF26B,EAAO36B,KAEP86C,IAAY;gBACN96C,IACF26B,EAAO36B,KAEP06B;AAAAA;AAGL;YAELjwB,EAASkvB,GAAG,SAASie;YACrB,MAAMnB,IAAUre,EACd3tB,GACA;cACEkuB,WAAS;eAEXif;YAEF;cACMntC,EAAS0oC,2BACL4H;cAER,WAAW,MAAM7L,KAAS3K,GACnB95B,EAASse,MAAMmmB,YACZ6L;cAGNhzB,KACFtd,EAASsd,aAELgzB,KACNF;AAMF,cALE,OAAO1hB;cACP0hB,EAAO76C,MAAUm5B,IAAM2W,EAAmB9vC,GAAOm5B,KAAOA;AAC1D,cAAE;cACAsd,KACAhsC,EAAS+yB,IAAI,SAASoa;AACxB;AACF;UACAtI,eAAe0L,EAAUriB,GAAUluB,GAAUowC,IAAQ,KAAE9yB;YACjDumB,EAAkB7jC,OACpBA,IAAWA,EAASA;YAGtB,MAAM2kC,IAAS3kC,EAAS4kC;YACxB;cACE,WAAW,MAAMH,KAASvW,SAClByW,EAAOG,OACbH,EAAOrmB,MAAMmmB,GAAOM,OAAM;oBAEtBJ,EAAOG,OACTxnB,WACIqnB,EAAOzC,SAEfkO;AAQF,cAPE,OAAO1hB;cACP;sBACQiW,EAAOvV,MAAMV,IACnB0hB,EAAO1hB;AAGT,gBAFE,OAAOA;gBACP0hB,EAAO1hB;AACT;AACF;AACF;UAIA,SAAS8hB,EAAa7O,GAAS9T,GAAUn5B;YAIvC,IAHuB,MAAnBitC,EAAQvoC,UAAgBwzC,EAAajL,EAAQ,QAC/CA,IAAUA,EAAQ,KAEhBA,EAAQvoC,SAAS,GACnB,MAAM,IAAI6qC,EAAiB;YAE7B,MAAMiG,IAAK,IAAIluB,GACTymB,IAASyH,EAAGzH,QACZgO,IAAc/7C,QAAAA,SAAAA,IAAkDA,EAAK+tC,QAIrEiO,IAAoB;YAE1B,SAASthB;cACPuhB,EAAW,IAAIxO;AACjB;YAEA,IAAI5sC,GACAvE;YANJy5C,EAAoBgG,GAAa,mBAIjCA,QAAAA,KAAgEA,EAAYte,iBAAiB,SAAS/C;YAGtG,MAAMwS,IAAW;YACjB,IAuBIlyB,GAvBAkhC,IAAc;YAClB,SAASR,EAAO1hB;cACdiiB,EAAWjiB,GAAuB,OAAhBkiB;AACpB;YACA,SAASD,EAAWjiB,GAAKsb;cAIvB,KAHItb,KAASn5B,KAAwB,iCAAfA,EAAM9D,SAC1B8D,IAAQm5B,IAELn5B,KAAUy0C,GAAf;gBAGA,MAAOpI,EAASxoC,UACdwoC,EAASzmB,OAATymB,CAAiBrsC;gBAEnBk7C,QAAAA,KAAgEA,EAAYpe,oBAAoB,SAASjD,IACzG8a,EAAG9a,SACC4a,MACGz0C,KACHm7C,EAAkBjyC,SAAS7H,KAAOA,OAEpCof,EAAQ4Y,SAASf,GAAUt4B,GAAOvE;AAVpC;AAYF;YAEA,KAAK,IAAIqI,IAAI,GAAGA,IAAIsoC,EAAQvoC,QAAQC,KAAK;cACvC,MAAMu0B,IAAS+T,EAAQtoC,IACjBwoC,IAAUxoC,IAAIsoC,EAAQvoC,SAAS,GAC/B0oC,IAAUzoC,IAAI,GACdikB,IAAMukB,MAAAA,OAAYntC,QAAAA,SAAAA,IAAkDA,EAAK4oB,MACzEuzB,IAAex3C,MAAMsoC,EAAQvoC,SAAS;cAC5C,IAAIipC,EAAazU,IAAS;gBACxB,IAAItQ,GAAK;kBACP,OAAM,SAAEyO,GAAO,SAAEigB,KAAYtI,EAAU9V,GAAQiU,GAASC;kBACxDF,EAAStoC,KAAKyyB,IACV4X,EAAW/V,MAAWijB,KACxBH,EAAkBp3C,KAAK0yC;AAE3B;gBAGA,SAAS8E,EAAQpiB;kBACXA,KAAoB,iBAAbA,EAAIz3B,QAAsC,iCAAby3B,EAAIj9B,QAC1C2+C,EAAO1hB;AAEX;gBACAd,EAAOsB,GAAG,SAAS4hB,IACfnN,EAAW/V,MAAWijB,KACxBH,EAAkBp3C,MAAK;kBACrBs0B,EAAO0B,eAAe,SAASwhB;AAAO;AAG5C;cACA,IAAU,MAANz3C,GACF,IAAsB,qBAAXu0B;gBAIT,IAHAle,IAAMke,EAAO;kBACX6U,QAAAA;qBAEGyG,EAAWx5B,IACd,MAAM,IAAI45B,EAAyB,qCAAqC,UAAU55B;qBAGpFA,IADSw5B,EAAWtb,MAAWub,EAAqBvb,MAAWiW,EAAkBjW,KAC3EA,IAEA6V,EAAO7yB,KAAKgd,SAEf,IAAsB,qBAAXA,GAAuB;gBAErC,IAAImjB;gBAQN,IAPErhC,IAFEm0B,EAAkBn0B,KAEdwgC,EAAmC,UAAhBa,IAAOrhC,WAAAA,MAAiBqhC,SAAAA,IAAiCA,EAAK7iB,YAEjFgiB,EAAkBxgC,IAE1BA,IAAMke,EAAOle,GAAK;kBAChB+yB,QAAAA;oBAEEZ;kBACF,KAAKqH,EAAWx5B,IAAAA,IACd,MAAM,IAAI45B,EAAyB,iBAAiB,aAAajwC,IAAI,MAAMqW;uBAExE;kBACL,IAAIshC;kBACCnB,MACHA,IAAcz+C,EAAQ;kBAQxB,MAAM6/C,IAAK,IAAIpB,EAAY;oBACzBxF,aAAW;sBAKPC,IAAyB,UAAjB0G,IAAQthC,WAAAA,MAAiBshC,SAAAA,IAAkCA,EAAM1G;kBAC/E,IAAoB,qBAATA,GACTsG,KACAtG,EAAKvwC,KACH2V,IACC0Q;oBACCpvB,IAAQovB,GACG,QAAPA,KACF6wB,EAAG3yB,MAAM8B,IAEP9C,KACF2zB,EAAG3zB,OAELtH,EAAQ4Y,SAASwhB;AAAM,uBAExB1hB;oBACCuiB,EAAGllB,QAAQ2C,IACX1Y,EAAQ4Y,SAASwhB,GAAQ1hB;AAAG,4BAG3B,IAAIwa,EAAWx5B,IAAAA,IACpBkhC,KACAT,EAAWzgC,GAAKuhC,GAAIb,GAAQ;oBAC1B9yB,KAAAA;2BAEG;oBAAA,KAAIymB,EAAiBr0B,OAAQm0B,EAAkBn0B,IAOpD,MAAM,IAAI45B,EAAyB,4BAA4B,eAAe55B;oBAPpB;sBAC1D,MAAMs1B,IAASt1B,EAAIwe,YAAYxe;sBAC/BkhC,KACAT,EAAWnL,GAAQiM,GAAIb,GAAQ;wBAC7B9yB,KAAAA;;AAEJ;AAEA;kBACA5N,IAAMuhC;kBACN,OAAM,SAAEllB,GAAO,SAAEigB,KAAYtI,EAAUh0B,IAAAA,IAAK;kBAC5CkyB,EAAStoC,KAAKyyB,IACV8kB,KACFH,EAAkBp3C,KAAK0yC;AAE3B;AACF,qBAAO,IAAI3J,EAAazU,IAAS;gBAC/B,IAAIub,EAAqBz5B,IAAM;kBAC7BkhC,KAAe;kBACf,MAAM5E,KAAU1W,EAAK5lB,GAAKke,GAAQwiB,GAAQ;oBACxC9yB,KAAAA;;kBAEEqmB,EAAW/V,MAAWijB,KACxBH,EAAkBp3C,KAAK0yC;AAE3B,uBAAO,IAAInI,EAAkBn0B,MAAQq0B,EAAiBr0B,IAAM;kBAC1D,MAAMs1B,KAASt1B,EAAIwe,YAAYxe;kBAC/BkhC,KACAT,EAAWnL,IAAQpX,GAAQwiB,GAAQ;oBACjC9yB,KAAAA;;AAEJ,uBAAO;kBAAA,KAAI4rB,EAAWx5B,IAMpB,MAAM,IAAI+Z,EACR,OACA,EAAC,YAAY,YAAY,iBAAiB,kBAAkB,qBAC5D/Z;kBARFkhC,KACAT,EAAWzgC,GAAKke,GAAQwiB,GAAQ;oBAC9B9yB,KAAAA;;AAQJ;gBACA5N,IAAMke;AACR,qBAAO,IAAI0U,EAAY1U,IAAS;gBAC9B,IAAIub,EAAqBz5B,IACvBkhC,KACAL,EAAUL,EAAkBxgC,IAAMke,GAAQwiB,GAAQ;kBAChD9yB,KAAAA;yBAEG,IAAIymB,EAAiBr0B,MAAQw5B,EAAWx5B,IAC7CkhC,KACAL,EAAU7gC,GAAKke,GAAQwiB,GAAQ;kBAC7B9yB,KAAAA;yBAEG;kBAAA,KAAIumB,EAAkBn0B,IAM3B,MAAM,IAAI+Z,EACR,OACA,EAAC,YAAY,YAAY,iBAAiB,kBAAkB,qBAC5D/Z;kBARFkhC,KACAL,EAAU7gC,EAAIwe,UAAUN,GAAQwiB,GAAQ;oBACtC9yB,KAAAA;;AAQJ;gBACA5N,IAAMke;AACR,qBACEle,IAAM+zB,EAAO7yB,KAAKgd;AAEtB;YAOA,QALG6U,QAAAA,KAA2CA,EAAOI,WAClD4N,QAAAA,KAAqDA,EAAY5N,YAElE7sB,EAAQ4Y,SAASQ,IAEZ1f;AACT;UACA,SAAS4lB,EAAK5f,GAAKwU,GAAKkmB,IAAQ,KAAE9yB;YAChC,IAAIwR,KAAAA;YAWJ,IAVA5E,EAAIgF,GAAG;cACAJ,KAEHshB,EAAO,IAAI7F;AACZ,iBAEH70B,EAAI4f,KAAKpL,GAAK;cACZ5M,MAAI;gBAGFA,GAAK;cAKP,SAAS4zB;gBACPpiB,KAAAA,GACA5E,EAAI5M;AACN;cACI2yB,EAAgBv6B,KAElBM,EAAQ4Y,SAASsiB,KAEjBx7B,EAAI+X,KAAK,OAAOyjB;AAEpB,mBACEd;YAgCF,OA9BAziB,EACEjY,GACA;cACEwY,WAAS;cACTluB,WAAS;gBAEV0uB;cACC,MAAMmd,IAASn2B,EAAIuY;cAEjBS,KACa,iCAAbA,EAAIj9B,QACJo6C,KACAA,EAAO/c,UACN+c,EAAO/F,YACP+F,EAAOxF,eAUR3wB,EAAI+X,KAAK,OAAO2iB,GAAQ3iB,KAAK,SAAS2iB,KAEtCA,EAAO1hB;AACR,iBAGEf,EACLzD,GACA;cACEgE,WAAS;cACTluB,WAAS;eAEXowC;AAEJ;UACA7/C,EAAOC,UAAU;YACfggD,cAAAA;YACAhN,UAzSF,YAAqB7B;cACnB,OAAO6O,EAAa7O,GAASlU,EAxG/B,SAAqBkU;gBAKnB,OADA+I,EAAiB/I,EAAQA,EAAQvoC,SAAS,IAAI,+BACvCuoC,EAAQ12B;AACjB,eANA,CAwGgD02B;AAChD;;AAAC;QAAD;UCtKA,MAAM3rB,IAAU5kB,EAAQ,QAyBlB,uBACJ+/C,GAAqB,iBACrBC,GAAe,aACfvhB,GAAW,gBACXwhB,GAAc,wBACd5J,GAAsB,YACtBE,GAAU,sBACVC,GAAoB,SACpB5X,GAAO,SACPshB,GAAO,qBACPlF,GAAmB,QACnB7tC,KACEnN,EAAQ;UACZb,EAAOC,UAAUq3C,GACjBA,EAAS0J,gBAAgBA;UACzB,OAAQzhB,cAAc+c,KAAOz7C,EAAQ,QAC/B,QAAE07C,GAAM,iBAAEna,KAAoBvhC,EAAQ,QACtC,QAAEyK,KAAWzK,EAAQ,QACrB,gBAAEoxC,KAAmBpxC,EAAQ,MAC7Bu8B,IAAMv8B,EAAQ;UACpB,IAAIwa,IAAQxa,EAAA,eAAoC,WAAWwF;YACzDgV,IAAQhV;AAAAA;UAEV,MAAM46C,IAAapgD,EAAQ,OACrB2+C,IAAc3+C,EAAQ,QACtB,kBAAEqgD,GAAgB,yBAAEC,KAA4BtgD,EAAQ,QACxD,oBACJi0C,GACAjD,QAAO,sBACL3Y,GAAoB,4BACpBkoB,GAA0B,kBAC1BnoB,GAAgB,2BAChBooB,GAAyB,oCACzBC,MAEAzgD,EAAQ,QACN,gBAAEu5C,KAAmBv5C,EAAQ,OAC7B0gD,IAAUvzC,EAAO,aACjB,eAAEwzC,KAAkB3gD,EAAQ,OAC5Bwf,IAAOxf,EAAQ;UACrBw2C,EAAqBC,EAAS7wC,WAAW81C,EAAO91C,YAChD4wC,EAAqBC,GAAUiF;UAC/B,MAAMxB,IAAM,WACN,gBAAEhF,KAAmByJ;UAC3B,SAASwB,EAAcr6C,GAAS02B,GAAQokB;YAMd,oBAAbA,MAAwBA,IAAWpkB,aAAkBx8B,EAAQ,QAIxET,KAAK05C,gBAAgBnzC,MAAWA,EAAQmzC,aACpC2H,MAAUrhD,KAAK05C,aAAa15C,KAAK05C,iBAAiBnzC,MAAWA,EAAQstC;YAIzE7zC,KAAK47C,gBAAgBr1C,IACjBu6C,EAAiB9gD,MAAMuG,GAAS,yBAAyB86C,KACzDN,GAAAA,IAKJ/gD,KAAKmL,SAAS,IAAI01C,GAClB7gD,KAAKyI,SAAS,GACdzI,KAAKshD,QAAQ;YACbthD,KAAKuhD,UAAU,MACfvhD,KAAKm+B,SAAAA,GACLn+B,KAAKy2C,cAAAA,GACLz2C,KAAKkxC,WAAAA,GAMLlxC,KAAKg2C,eAAAA,GAMLh2C,KAAK41C,QAAAA,GAIL51C,KAAKwhD,gBAAAA;YACLxhD,KAAKyhD,mBAAAA,GACLzhD,KAAK0hD,qBAAAA,GACL1hD,KAAK2hD,mBAAAA,GACL3hD,KAAKmhD,KAAW,MAGhBnhD,KAAK01C,gBAAAA;YAGL11C,KAAKy1C,aAAalvC,MAAAA,MAAWA,EAAQkvC,WAGrCz1C,KAAK61C,eAAetvC,MAAAA,MAAWA,EAAQsvC,aAGvC71C,KAAKo+B,aAAAA,GAMLp+B,KAAKm1C,UAAU;YAGfn1C,KAAKoxC,UAAAA,GAILpxC,KAAKw1C,gBAAAA,GAKLx1C,KAAK4hD,kBAAmBr7C,KAAWA,EAAQq7C,mBAAoB,QAI/D5hD,KAAK6hD,oBAAoB;YACzB7hD,KAAK8hD,mBAAAA,GAGL9hD,KAAK+hD,eAAAA,GACL/hD,KAAKgiD,eAAAA,GACLhiD,KAAKiiD,UAAU,MACfjiD,KAAKwtB,WAAW,MACZjnB,KAAWA,EAAQinB,aACrBxtB,KAAKiiD,UAAU,IAAIb,EAAc76C,EAAQinB;YACzCxtB,KAAKwtB,WAAWjnB,EAAQinB;AAE5B;UACA,SAAS0pB,EAAS3wC;YAChB,MAAMvG,gBAAgBk3C,IAAW,OAAO,IAAIA,EAAS3wC;YAIrD,MAAM86C,IAAWrhD,gBAAgBS,EAAQ;YACzCT,KAAKs9B,iBAAiB,IAAIsjB,EAAcr6C,GAASvG,MAAMqhD,IACnD96C,MAC0B,qBAAjBA,EAAQypB,SAAqBhwB,KAAK6kC,QAAQt+B,EAAQypB,OAC9B,qBAApBzpB,EAAQ60B,YAAwBp7B,KAAKy0C,WAAWluC,EAAQ60B;YAClC,qBAAtB70B,EAAQ+vC,cAA0Bt2C,KAAKk2C,aAAa3vC,EAAQ+vC,YACnE/vC,EAAQurC,WAAWuP,KAAUxP,EAAetrC,EAAQurC,QAAQ9xC,QAElEm8C,EAAO/yC,KAAKpJ,MAAMuG;YAClB64C,EAAY9I,UAAUt2C,OAAK;cACrBA,KAAKs9B,eAAekkB,gBACtBU,EAAcliD,MAAMA,KAAKs9B;AAC1B;AAEL;UAsBA,SAAS6kB,EAAiBllB,GAAQ6W,GAAOtmB,GAAU40B;YACjDnnC,EAAM,oBAAoB64B;YAC1B,MAAM7mC,IAAQgwB,EAAOK;YACrB,IAAIS;YAuBJ,IAtBK9wB,EAAMysC,eACY,mBAAV5F,KACTtmB,IAAWA,KAAYvgB,EAAM20C,iBACzB30C,EAAMugB,aAAaA,MACjB40B,KAAcn1C,EAAMugB,WAGtBsmB,IAAQ5oC,EAAO+U,KAAK6zB,GAAOtmB,GAAU9rB,SAASuL,EAAMugB,aAEpDsmB,IAAQ5oC,EAAO+U,KAAK6zB,GAAOtmB;YAC3BA,IAAW,QAGNsmB,aAAiB5oC,IAC1BsiB,IAAW,KACF2uB,EAAOkG,cAAcvO,MAC9BA,IAAQqI,EAAOmG,oBAAoBxO,IACnCtmB,IAAW,MACO,QAATsmB,MACT/V,IAAM,IAAIjF,EAAqB,SAAS,EAAC,UAAU,UAAU,gBAAegb;YAG5E/V,GACF4X,EAAe1Y,GAAQc,SAClB,IAAc,SAAV+V,GACT7mC,EAAMikC,WAAAA,GAqOV,SAAoBjU,GAAQhwB;cAE1B,IADAgO,EAAM,gBACFhO,EAAMkxB,OAAV;gBACA,IAAIlxB,EAAMg1C,SAAS;kBACjB,MAAMnO,IAAQ7mC,EAAMg1C,QAAQt1B;kBACxBmnB,KAASA,EAAMrrC,WACjBwE,EAAM9B,OAAOxC,KAAKmrC,IAClB7mC,EAAMxE,UAAUwE,EAAMysC,aAAa,IAAI5F,EAAMrrC;AAEjD;gBACAwE,EAAMkxB,SAAAA,GACFlxB,EAAM2oC,OAIR2M,EAAatlB,MAGbhwB,EAAMu0C,gBAAAA,GACNv0C,EAAMw0C,mBAAAA,GAGNe,EAAcvlB;AApBC;AAsBnB,aAxBA,CApOeA,GAAQhwB,SACd,IAAIA,EAAMysC,cAAe5F,KAASA,EAAMrrC,SAAS,GACtD,IAAI25C,GACF,IAAIn1C,EAAMwpC,YAAYd,EAAe1Y,GAAQ,IAAIikB,SAC5C;cAAA,IAAIj0C,EAAMmxB,aAAanxB,EAAMkoC,SAAS,QAAM;cAC5CsN,EAASxlB,GAAQhwB,GAAO6mC,IAAAA;AAAW,mBACnC,IAAI7mC,EAAMkxB,OACfwX,EAAe1Y,GAAQ,IAAIgkB,SACtB;cAAA,IAAIh0C,EAAMmxB,aAAanxB,EAAMkoC,SAClC,QAAM;cAENloC,EAAMikC,WAAAA,GACFjkC,EAAMg1C,YAAYz0B,KACpBsmB,IAAQ7mC,EAAMg1C,QAAQt0B,MAAMmmB,IACxB7mC,EAAMysC,cAA+B,MAAjB5F,EAAMrrC,SAAcg6C,EAASxlB,GAAQhwB,GAAO6mC,IAAAA,KAC/DoO,EAAcjlB,GAAQhwB,MAE3Bw1C,EAASxlB,GAAQhwB,GAAO6mC,IAAAA;AAE5B,mBACUsO,MACVn1C,EAAMikC,WAAAA,GACNgR,EAAcjlB,GAAQhwB;YAMxB,QAAQA,EAAMkxB,UAAUlxB,EAAMxE,SAASwE,EAAM2uC,iBAAkC,MAAjB3uC,EAAMxE;AACtE;UACA,SAASg6C,EAASxlB,GAAQhwB,GAAO6mC,GAAOsO;YAClCn1C,EAAMs0C,WAA4B,MAAjBt0C,EAAMxE,WAAiBwE,EAAM2oC,QAAQ3Y,EAAOsE,cAAc,UAAU,KAGnFt0B,EAAM60C,kBACR70C,EAAM40C,kBAAkB/Z,UAExB76B,EAAM40C,oBAAoB;YAE5B50C,EAAM+0C,eAAAA,GACN/kB,EAAO0D,KAAK,QAAQmT,OAGpB7mC,EAAMxE,UAAUwE,EAAMysC,aAAa,IAAI5F,EAAMrrC,QACzC25C,IAAYn1C,EAAM9B,OAAOiP,QAAQ05B,KAChC7mC,EAAM9B,OAAOxC,KAAKmrC;YACnB7mC,EAAMu0C,gBAAce,EAAatlB,KAEvCilB,EAAcjlB,GAAQhwB;AACxB;UA6CA,SAASy1C,EAAch4B,GAAGzd;YACxB,OAAIyd,KAAK,KAAuB,MAAjBzd,EAAMxE,UAAgBwE,EAAMkxB,QAAe,IACtDlxB,EAAMysC,aAAmB,IACzBxa,EAAYxU,KAEVzd,EAAMs0C,WAAWt0C,EAAMxE,SAAewE,EAAM9B,OAAO8Q,QAAQxT,SACxDwE,EAAMxE,SAEXiiB,KAAKzd,EAAMxE,SAAeiiB,IACvBzd,EAAMkxB,QAAQlxB,EAAMxE,SAAS;AACtC;UAyJA,SAAS85C,EAAatlB;YACpB,MAAMhwB,IAAQgwB,EAAOK;YACrBriB,EAAM,gBAAgBhO,EAAMu0C,cAAcv0C,EAAMw0C,kBAChDx0C,EAAMu0C,gBAAAA,GACDv0C,EAAMw0C,oBACTxmC,EAAM,gBAAgBhO,EAAMs0C;YAC5Bt0C,EAAMw0C,mBAAAA,GACNp8B,EAAQ4Y,SAASukB,GAAevlB;AAEpC;UACA,SAASulB,EAAcvlB;YACrB,MAAMhwB,IAAQgwB,EAAOK;YACrBriB,EAAM,iBAAiBhO,EAAMmxB,WAAWnxB,EAAMxE,QAAQwE,EAAMkxB,QACvDlxB,EAAMmxB,aAAcnxB,EAAMkoC,YAAYloC,EAAMxE,WAAUwE,EAAMkxB,UAC/DlB,EAAO0D,KAAK;YACZ1zB,EAAMw0C,mBAAAA,IASRx0C,EAAMu0C,gBAAgBv0C,EAAMs0C,YAAYt0C,EAAMkxB,SAASlxB,EAAMxE,UAAUwE,EAAM2uC,eAC7E+G,EAAK1lB;AACP;UAQA,SAASilB,EAAcjlB,GAAQhwB;aACxBA,EAAM80C,eAAe90C,EAAM+oC,gBAC9B/oC,EAAM80C,eAAAA,GACN18B,EAAQ4Y,SAAS2kB,GAAgB3lB,GAAQhwB;AAE7C;UACA,SAAS21C,EAAe3lB,GAAQhwB;YAwB9B,OACGA,EAAMikC,YACNjkC,EAAMkxB,UACNlxB,EAAMxE,SAASwE,EAAM2uC,iBAAkB3uC,EAAMs0C,WAA4B,MAAjBt0C,EAAMxE,WAC/D;cACA,MAAMyR,IAAMjN,EAAMxE;cAGlB,IAFAwS,EAAM,yBACNgiB,EAAOjN,KAAK,IACR9V,MAAQjN,EAAMxE,QAEhB;AACJ;YACAwE,EAAM80C,eAAAA;AACR;UA4PA,SAASc,EAAwB/iD;YAC/B,MAAMmN,IAAQnN,EAAKw9B;YACnBrwB,EAAMy0C,oBAAoB5hD,EAAKyhC,cAAc,cAAc,GACvDt0B,EAAM00C,oBAAAA,MAAmB10C,EAAMk0C,KAGjCl0C,EAAMs0C,WAAAA,IAGGzhD,EAAKyhC,cAAc,UAAU,IACtCzhC,EAAK08C,WACKvvC,EAAMy0C,sBAChBz0C,EAAMs0C,UAAU;AAEpB;UACA,SAASuB,EAAiBhjD;YACxBmb,EAAM,6BACNnb,EAAKkwB,KAAK;AACZ;UAuBA,SAAS+yB,EAAQ9lB,GAAQhwB;YACvBgO,EAAM,UAAUhO,EAAMikC,UACjBjkC,EAAMikC,WACTjU,EAAOjN,KAAK,IAEd/iB,EAAM00C,mBAAAA,GACN1kB,EAAO0D,KAAK,WACZgiB,EAAK1lB,IACDhwB,EAAMs0C,YAAYt0C,EAAMikC,WAASjU,EAAOjN,KAAK;AACnD;UAWA,SAAS2yB,EAAK1lB;YACZ,MAAMhwB,IAAQgwB,EAAOK;YAErB,KADAriB,EAAM,QAAQhO,EAAMs0C,UACbt0C,EAAMs0C,WAA6B,SAAlBtkB,EAAOjN;AACjC;UAwDA,SAASgzB,EAAsB/lB,GAAQ12B;YACV,qBAAhB02B,EAAOjN,SAChBiN,IAASia,EAASiC,KAAKlc,GAAQ;cAC7Byc,aAAW;;YAGf,MAAMuJ,IAIR/O,gBAAoCjX,GAAQ12B;cAC1C,IAUI3B,GAVAs4B,IAAWyd;cACf,SAASjhC,EAAK4lB;gBACRt/B,SAASi9B,KACXC,KACAA,IAAWyd,KAEXzd,IAAWoC;AAEf;cACArC,EAAOsB,GAAG,YAAY7kB;cAEtB,MAAM2hC,IAAUre,EACdC,GACA;gBACE5tB,WAAS;kBAEV0uB;gBACCn5B,IAAQm5B,IAAM2W,EAAmB9vC,GAAOm5B,KAAO,MAC/Cb,KACAA,IAAWyd;AAAAA;cAGf;gBACE,SAAa;kBACX,MAAM7G,IAAQ7W,EAAOmB,YAAY,OAAOnB,EAAOjN;kBAC/C,IAAc,SAAV8jB,SACIA,QACD;oBAAA,IAAIlvC,GACT,MAAMA;oBACD,IAAc,SAAVA,GACT;0BAEM,IAAIy6B,EAAQ3lB;AACpB;AACF;AAcF,gBAbE,OAAOqkB;gBAEP,MADAn5B,IAAQ8vC,EAAmB9vC,GAAOm5B,IAC5Bn5B;AACR,gBAAE;iBAEGA,MAAAA,OAAU2B,QAAAA,SAAAA,IAAwDA,EAAQ28C,yBAAAA,MAC1Et+C,MAAuBq4B,EAAOK,eAAeuY,eAI9C5Y,EAAOmF,IAAI,YAAY1oB;gBACvB2hC,OAHA+D,EAAYrM,UAAU9V,GAAQ;AAKlC;AACF,aAlDAiX,CAJmCjX,GAAQ12B;YAEzC,OADA08C,EAAKhmB,SAASA,GACPgmB;AACT;UA6MA,SAASE,EAASz4B,GAAGzd;YAEnB,IAAqB,MAAjBA,EAAMxE,QAAc,OAAO;YAC/B,IAAIsW;YAYJ,OAXI9R,EAAMysC,aAAY36B,IAAM9R,EAAM9B,OAAOqf,WAC/BE,KAAKA,KAAKzd,EAAMxE,UAELsW,IAAf9R,EAAMg1C,UAAeh1C,EAAM9B,OAAOlC,KAAK,MACV,MAAxBgE,EAAM9B,OAAO1C,SAAoBwE,EAAM9B,OAAO8Q,UAC5ChP,EAAM9B,OAAOqnB,OAAOvlB,EAAMxE;YACrCwE,EAAM9B,OAAO28B,WAGb/oB,IAAM9R,EAAM9B,OAAOmnC,QAAQ5nB,GAAGzd,EAAMg1C,UAE/BljC;AACT;UACA,SAASqkC,EAAYnmB;YACnB,MAAMhwB,IAAQgwB,EAAOK;YACrBriB,EAAM,eAAehO,EAAMwpC,aACtBxpC,EAAMwpC,eACTxpC,EAAMkxB,SAAAA,GACN9Y,EAAQ4Y,SAASolB,IAAep2C,GAAOgwB;AAE3C;UACA,SAASomB,GAAcp2C,GAAOgwB;YAI5B,IAHAhiB,EAAM,iBAAiBhO,EAAMwpC,YAAYxpC,EAAMxE,UAG1CwE,EAAMkoC,YAAYloC,EAAMuoC,iBAAiBvoC,EAAMwpC,cAA+B,MAAjBxpC,EAAMxE,QAGtE,IAFAwE,EAAMwpC,cAAAA;YACNxZ,EAAO0D,KAAK,QACR1D,EAAO5tB,aAAAA,MAAY4tB,EAAOma,eAC5B/xB,EAAQ4Y,SAASqlB,IAAermB,SAC3B,IAAIhwB,EAAM4oC,aAAa;cAG5B,MAAMoF,IAAShe,EAAOG;gBAEnB6d,KACAA,EAAOpF,gBAGLoF,EAAOpE,aAAAA,MAAYoE,EAAO5rC,cAE7B4tB,EAAO7B;AAEX;AAEJ;UACA,SAASkoB,GAAcrmB;YACJA,EAAO5tB,aAAa4tB,EAAO6a,kBAAkB7a,EAAOmB,aAEnEnB,EAAOtQ;AAEX;UAIA,IAAI0qB;UAGJ,SAASE;YAEP,YAAO,MADHF,OAAkCA,KAAqB,CAAC,IACrDA;AACT;UA7gCAH,EAAS7wC,UAAU+0B,UAAUgkB,EAAYhkB,SACzC8b,EAAS7wC,UAAUk9C,aAAanE,EAAY5I,WAC5CU,EAAS7wC,UAAUouC,WAAW,SAAU1W,GAAK4V;YAC3CA,EAAG5V;AACL,aACAmZ,EAAS7wC,UAAU61C,EAAGsH,0BAA0B,SAAUzlB;YACxD/9B,KAAKo7B,QAAQ2C;AACf,aAMAmZ,EAAS7wC,UAAUsC,OAAO,SAAUmrC,GAAOtmB;YACzC,OAAO20B,EAAiBniD,MAAM8zC,GAAOtmB,IAAAA;AACvC,aAGA0pB,EAAS7wC,UAAU+T,UAAU,SAAU05B,GAAOtmB;YAC5C,OAAO20B,EAAiBniD,MAAM8zC,GAAOtmB,IAAAA;AACvC,aAiFA0pB,EAAS7wC,UAAUo9C,WAAW;YAC5B,MAAMx2C,IAAQjN,KAAKs9B;YACnB,QAAM,MAACrwB,EAAMk0C,OAAAA,MAAqBl0C,EAAMs0C;AAC1C,aAGArK,EAAS7wC,UAAUq9C,cAAc,SAAUC;YACzC,MAAM1B,IAAU,IAAIb,EAAcuC;YAClC3jD,KAAKs9B,eAAe2kB,UAAUA,GAE9BjiD,KAAKs9B,eAAe9P,WAAWxtB,KAAKs9B,eAAe2kB,QAAQz0B;YAC3D,MAAMriB,IAASnL,KAAKs9B,eAAenyB;YAEnC,IAAIy4C,IAAU;YACd,KAAK,MAAM5iD,KAAQmK,GACjBy4C,KAAW3B,EAAQt0B,MAAM3sB;YAK3B,OAHAmK,EAAO28B,SACS,OAAZ8b,KAAgBz4C,EAAOxC,KAAKi7C,IAChC5jD,KAAKs9B,eAAe70B,SAASm7C,EAAQn7C,QAC9BzI;AACT,aAoCAk3C,EAAS7wC,UAAU2pB,OAAO,SAAUtF;YAClCzP,EAAM,QAAQyP,SAAAA,MAGVA,IACFA,IAAI6Z,MACMkc,EAAgB/1B,OAC1BA,IAAIg2B,EAAeh2B,GAAG;YAExB,MAAMzd,IAAQjN,KAAKs9B,gBACbumB,IAAQn5B;YASd,IANIA,IAAIzd,EAAM2uC,kBAAe3uC,EAAM2uC,gBA7CrC,SAAiClxB;cAC/B,IAAIA,IAFU,YAGZ,MAAM,IAAImO,EAAiB,QAAQ,WAAWnO;cAYhD,OAREA,KACAA,KAAKA,MAAM,GACXA,KAAKA,MAAM,GACXA,KAAKA,MAAM,GACXA,KAAKA,MAAM,GACXA,KAAKA,MAAM,MACXA;AAGJ,aAfA,CA6C6EA,KACjE,MAANA,MAASzd,EAAMw0C,mBAAAA,IAMX,MAAN/2B,KACAzd,EAAMu0C,kBACoB,MAAxBv0C,EAAM2uC,gBAAsB3uC,EAAMxE,UAAUwE,EAAM2uC,gBAAgB3uC,EAAMxE,SAAS,MAAMwE,EAAMkxB,QAK/F,OAHAljB,EAAM,sBAAsBhO,EAAMxE,QAAQwE,EAAMkxB;YAC3B,MAAjBlxB,EAAMxE,UAAgBwE,EAAMkxB,QAAOilB,EAAYpjD,QAC9CuiD,EAAaviD,OACX;YAKT,IAAU,OAHV0qB,IAAIg4B,EAAch4B,GAAGzd,OAGNA,EAAMkxB,OAEnB,OADqB,MAAjBlxB,EAAMxE,UAAc26C,EAAYpjD,OAC7B;YA0BT,IAiCI+e,GAjCA+kC,IAAS72C,EAAMu0C;YAYnB,IAXAvmC,EAAM,iBAAiB6oC,KAGF,MAAjB72C,EAAMxE,UAAgBwE,EAAMxE,SAASiiB,IAAIzd,EAAM2uC,mBACjDkI,KAAAA,GACA7oC,EAAM,8BAA8B6oC;YAMlC72C,EAAMkxB,SAASlxB,EAAMikC,WAAWjkC,EAAMmxB,aAAanxB,EAAMkoC,YAAYloC,EAAM+oC,aAC7E8N,KAAAA,GACA7oC,EAAM,kCAAkC6oC,SACnC,IAAIA,GAAQ;cACjB7oC,EAAM,YACNhO,EAAMikC,WAAAA,GACNjkC,EAAM2oC,QAAAA,GAEe,MAAjB3oC,EAAMxE,WAAcwE,EAAMu0C,gBAAAA;cAG9B;gBACExhD,KAAK6kC,MAAM53B,EAAM2uC;AAGnB,gBAFE,OAAO7d;gBACP4X,EAAe31C,MAAM+9B;AACvB;cACA9wB,EAAM2oC,QAAAA,GAGD3oC,EAAMikC,YAASxmB,IAAIg4B,EAAcmB,GAAO52C;AAC/C;YA2BA,OAzBW8R,IAAP2L,IAAI,IAASy4B,EAASz4B,GAAGzd,KAClB,MACC,SAAR8R,KACF9R,EAAMu0C,eAAev0C,EAAMxE,UAAUwE,EAAM2uC,eAC3ClxB,IAAI,MAEJzd,EAAMxE,UAAUiiB;YACZzd,EAAM60C,kBACR70C,EAAM40C,kBAAkB/Z,UAExB76B,EAAM40C,oBAAoB,OAGT,MAAjB50C,EAAMxE,WAGHwE,EAAMkxB,UAAOlxB,EAAMu0C,gBAAAA;YAGpBqC,MAAUn5B,KAAKzd,EAAMkxB,SAAOilB,EAAYpjD,QAElC,SAAR+e,KAAiB9R,EAAMyoC,gBAAiBzoC,EAAMuoC,iBAChDvoC,EAAM+0C,eAAAA,GACNhiD,KAAK2gC,KAAK,QAAQ5hB;YAEbA;AACT,aAiHAm4B,EAAS7wC,UAAUw+B,QAAQ,SAAUna;YACnC,MAAM,IAAIs2B,EAA2B;AACvC,aACA9J,EAAS7wC,UAAUs+B,OAAO,SAAU0X,GAAM0H;YACxC,MAAMh/B,IAAM/kB,MACNiN,IAAQjN,KAAKs9B;YACQ,MAAvBrwB,EAAMq0C,MAAM74C,WACTwE,EAAM60C,oBACT70C,EAAM60C,mBAAAA,GACN70C,EAAM40C,oBAAoB,IAAIlB,EAAQ1zC,EAAM40C,oBAAoB,EAAC50C,EAAM40C,sBAAqB;YAGhG50C,EAAMq0C,MAAM34C,KAAK0zC,IACjBphC,EAAM,yBAAyBhO,EAAMq0C,MAAM74C,QAAQs7C;YACnD,MACMxD,IADUwD,MAAAA,MAAYA,EAASp3B,OAAkB0vB,MAASh3B,EAAQ2+B,UAAU3H,MAASh3B,EAAQ4+B,SACrEC,IAARvmB;YAatB,SAASA;cACP1iB,EAAM,UACNohC,EAAK1vB;AACP;YACA,IAAI8mB;YAhBAxmC,EAAMwpC,aAAYpxB,EAAQ4Y,SAASsiB,KAClCx7B,EAAI+X,KAAK,OAAOyjB,IACrBlE,EAAK9d,GAAG,oBACC4lB,EAAS5mB,GAAU6mB;cAC1BnpC,EAAM,aACFsiB,MAAaxY,KACXq/B,MAAAA,MAAcA,EAAWC,eAC3BD,EAAWC,cAAAA,GAYfppC,EAAM,YAENohC,EAAK1d,eAAe,SAASX,IAC7Bqe,EAAK1d,eAAe,UAAUjB;cAC1B+V,KACF4I,EAAK1d,eAAe,SAAS8U,IAE/B4I,EAAK1d,eAAe,SAASb,IAC7Bue,EAAK1d,eAAe,UAAUwlB,IAC9Bp/B,EAAI4Z,eAAe,OAAOhB;cAC1B5Y,EAAI4Z,eAAe,OAAOulB,IAC1Bn/B,EAAI4Z,eAAe,QAAQ2d,IAC3BgI,KAAAA,GAOI7Q,KAAWxmC,EAAM40C,uBAAuBxF,EAAKjf,kBAAkBif,EAAKjf,eAAemnB,cAAY9Q;AA3BpG;YAMD,IAAI6Q,KAAAA;YAuBJ,SAAS/H;cAKF+H,MACwB,MAAvBr3C,EAAMq0C,MAAM74C,UAAgBwE,EAAMq0C,MAAM,OAAOjF,KACjDphC,EAAM,+BAA+B,IACrChO,EAAM40C,oBAAoBxF,GAC1BpvC,EAAM60C,mBAAAA,KACG70C,EAAMq0C,MAAM74C,SAAS,KAAKwE,EAAMq0C,MAAM1lC,SAASygC,OACxDphC,EAAM,+BAA+BhO,EAAM40C,kBAAkBr2C;cAC7DyB,EAAM40C,kBAAkBn4B,IAAI2yB,KAE9Bt3B,EAAIw3B,UAED9I,MAKHA,IAkEN,SAAqB1uB,GAAKs3B;gBACxB,OAAO;kBACL,MAAMpvC,IAAQ8X,EAAIuY;kBAKdrwB,EAAM40C,sBAAsBxF,KAC9BphC,EAAM,eAAe,IACrBhO,EAAM40C,oBAAoB,QACjB50C,EAAM60C,oBACf7mC,EAAM,eAAehO,EAAM40C,kBAAkBr2C;kBAC7CyB,EAAM40C,kBAAkBxpC,OAAOgkC,KAE3BpvC,EAAM40C,qBAAsD,MAAjC50C,EAAM40C,kBAAkBr2C,SAAeuZ,EAAIwc,cAAc,WACxFxc,EAAIy3B;AAER;AACF,eAlBA,CAlE4Bz3B,GAAKs3B,IAC3BA,EAAK9d,GAAG,SAASkV;AAErB;YAEA,SAAS6I,EAAOxI;cACd74B,EAAM;cACN,MAAM8D,IAAMs9B,EAAK1uB,MAAMmmB;cACvB74B,EAAM,cAAc8D,KAAAA,MAChBA,KACFw9B;AAEJ;YAIA,SAASze,EAAQtiB;cAIf,IAHAP,EAAM,WAAWO,IACjB0oC,KACA7H,EAAK1d,eAAe,SAASb,IACO,MAAhCue,EAAK9a,cAAc,UAAgB;gBACrC,MAAMlf,IAAIg6B,EAAKjf,kBAAkBif,EAAK/e;gBAClCjb,MAAMA,EAAEqzB,eAEVC,EAAe0G,GAAM7gC,KAErB6gC,EAAK1b,KAAK,SAASnlB;AAEvB;AACF;YAMA,SAASwiB;cACPqe,EAAK1d,eAAe,UAAUjB,IAC9BwmB;AACF;YAEA,SAASxmB;cACPziB,EAAM,aACNohC,EAAK1d,eAAe,SAASX,IAC7BkmB;AACF;YAEA,SAASA;cACPjpC,EAAM,WACN8J,EAAIm/B,OAAO7H;AACb;YAeA,OA5DAt3B,EAAIwZ,GAAG,QAAQ+d,IA4Bfta,EAAgBqa,GAAM,SAASve,IAO/Bue,EAAKvf,KAAK,SAASkB,IAMnBqe,EAAKvf,KAAK,UAAUY,IAOpB2e,EAAK1b,KAAK,QAAQ5b,KAAAA,MAIds3B,EAAKtE,oBACH9qC,EAAMs0C,WACRhF,MAEQtvC,EAAMs0C,YAChBtmC,EAAM;YACN8J,EAAIy3B,WAECH;AACT,aAoBAnF,EAAS7wC,UAAU69C,SAAS,SAAU7H;YACpC,MAAMpvC,IAAQjN,KAAKs9B;YAMnB,IAA2B,MAAvBrwB,EAAMq0C,MAAM74C,QAAc,OAAOzI;YACrC,KAAKq8C,GAAM;cAET,MAAMmI,IAAQv3C,EAAMq0C;cACpBr0C,EAAMq0C,QAAQ,IACdthD,KAAKu8C;cACL,KAAK,IAAI7zC,IAAI,GAAGA,IAAI87C,EAAM/7C,QAAQC,KAChC87C,EAAM97C,GAAGi4B,KAAK,UAAU3gC,MAAM;gBAC5BqkD,aAAW;;cAEf,OAAOrkD;AACT;YAGA,MAAM+iB,IAAQy9B,EAAsBvzC,EAAMq0C,OAAOjF;YACjD,QAAe,MAAXt5B,MACJ9V,EAAMq0C,MAAMr2B,OAAOlI,GAAO,IACC,MAAvB9V,EAAMq0C,MAAM74C,UAAczI,KAAKu8C,SACnCF,EAAK1b,KAAK,UAAU3gC,MAvBD;cACjBqkD,aAAW;iBAmBYrkD;AAK3B,aAIAk3C,EAAS7wC,UAAUk4B,KAAK,SAAUkmB,GAAIx+C;YACpC,MAAMskB,IAAM4xB,EAAO91C,UAAUk4B,GAAGn1B,KAAKpJ,MAAMykD,GAAIx+C,IACzCgH,IAAQjN,KAAKs9B;YAqBnB,OApBW,WAAPmnB,KAGFx3C,EAAMy0C,oBAAoB1hD,KAAKuhC,cAAc,cAAc,UAGvDt0B,EAAMs0C,WAAmBvhD,KAAKw8C,YAClB,eAAPiI,MACJx3C,EAAMwpC,cAAexpC,EAAMy0C,sBAC9Bz0C,EAAMy0C,oBAAoBz0C,EAAMu0C,gBAAAA;YAChCv0C,EAAMs0C,WAAAA,GACNt0C,EAAMw0C,mBAAAA,GACNxmC,EAAM,eAAehO,EAAMxE,QAAQwE,EAAMikC,UACrCjkC,EAAMxE,SACR85C,EAAaviD,QACHiN,EAAMikC,WAChB7rB,EAAQ4Y,SAAS6kB,GAAkB9iD;YAIlCuqB;AACT,aACA2sB,EAAS7wC,UAAU07B,cAAcmV,EAAS7wC,UAAUk4B,IACpD2Y,EAAS7wC,UAAUs4B,iBAAiB,SAAU8lB,GAAIx+C;YAChD,MAAMskB,IAAM4xB,EAAO91C,UAAUs4B,eAAev1B,KAAKpJ,MAAMykD,GAAIx+C;YAU3D,OATW,eAAPw+C,KAOFp/B,EAAQ4Y,SAAS4kB,GAAyB7iD,OAErCuqB;AACT,aACA2sB,EAAS7wC,UAAU+7B,MAAM8U,EAAS7wC,UAAUs4B,gBAC5CuY,EAAS7wC,UAAUg8B,qBAAqB,SAAUoiB;YAChD,MAAMl6B,IAAM4xB,EAAO91C,UAAUg8B,mBAAmBvQ,MAAM9xB,MAAMkqB;YAU5D,OATW,eAAPu6B,UAAAA,MAAqBA,KAOvBp/B,EAAQ4Y,SAAS4kB,GAAyB7iD,OAErCuqB;AACT,aAuBA2sB,EAAS7wC,UAAUm2C,SAAS;YAC1B,MAAMvvC,IAAQjN,KAAKs9B;YAUnB,OATKrwB,EAAMs0C,YACTtmC,EAAM,WAINhO,EAAMs0C,WAAWt0C,EAAMy0C,mBAM3B,SAAgBzkB,GAAQhwB;cACjBA,EAAM00C,oBACT10C,EAAM00C,mBAAAA,GACNt8B,EAAQ4Y,SAAS8kB,GAAS9lB,GAAQhwB;AAEtC,aALA,CALWjN,MAAMiN,KAEfA,EAAMk0C,MAAAA,GACCnhD;AACT,aAiBAk3C,EAAS7wC,UAAUk2C,QAAQ;YAQzB,OAPAthC,EAAM,yBAAyBjb,KAAKs9B,eAAeikB,WAAAA,MAC/CvhD,KAAKs9B,eAAeikB,YACtBtmC,EAAM,UACNjb,KAAKs9B,eAAeikB,WAAAA;YACpBvhD,KAAK2gC,KAAK,WAEZ3gC,KAAKs9B,eAAe6jB,MAAAA,GACbnhD;AACT,aAUAk3C,EAAS7wC,UAAU8yC,OAAO,SAAUlc;YAClC,IAAIynB,KAAAA;YAMJznB,EAAOsB,GAAG,SAASuV;eACZ9zC,KAAK2I,KAAKmrC,MAAU7W,EAAOsf,UAC9BmI,KAAAA,GACAznB,EAAOsf;AACR,iBAEHtf,EAAOsB,GAAG;cACRv+B,KAAK2I,KAAK;AAAI,iBAEhBs0B,EAAOsB,GAAG,UAAUR;cAClB4X,EAAe31C,MAAM+9B;AAAG,iBAE1Bd,EAAOsB,GAAG;cACRv+B,KAAKo7B;AAAQ,iBAEf6B,EAAOsB,GAAG;cACRv+B,KAAKo7B;AAAQ,iBAEfp7B,KAAK6kC,QAAQ;cACP6f,KAAUznB,EAAOuf,WACnBkI,KAAAA,GACAznB,EAAOuf;AAAQ;YAKnB,MAAMmI,IAAa3N,EAAW/Z;YAC9B,KAAK,IAAI7M,IAAI,GAAGA,IAAIu0B,EAAWl8C,QAAQ2nB,KAAK;cAC1C,MAAM1nB,IAAIi8C,EAAWv0B;mBAAAA,MACjBpwB,KAAK0I,MAAyC,qBAAdu0B,EAAOv0B,OACzC1I,KAAK0I,KAAKu0B,EAAOv0B,GAAGw4B,KAAKjE;AAE7B;YACA,OAAOj9B;AACT,aACAk3C,EAAS7wC,UAAUo1C,KAAuB;YACxC,OAAOuH,EAAsBhjD;AAC/B,aACAk3C,EAAS7wC,UAAUwH,WAAW,SAAUtH;YAItC,YAAO,MAHHA,KACFyzC,EAAezzC,GAAS,YAEnBy8C,EAAsBhjD,MAAMuG;AACrC,aAkEAuwC,EAAuBI,EAAS7wC,WAAW;YACzCk3B,UAAU;cACRia,WAAW;cACXtzC;gBACE,MAAMzD,IAAIT,KAAKs9B;gBAKf,UAAS78B,MAAAA,MAAKA,EAAE88B,YAAuB98B,EAAE29B,aAAc39B,EAAEi1C,gBAAiBj1C,EAAEg2C;AAC9E;cACAxrC,IAAIwkB;gBAEEzvB,KAAKs9B,mBACPt9B,KAAKs9B,eAAeC,aAAa9N;AAErC;;YAEFm1B,iBAAiB;cACfpN,WAAW;cACXvzC,aAAW;cACXC,KAAK;gBACH,OAAOlE,KAAKs9B,eAAe0kB;AAC7B;;YAEF6C,iBAAiB;cACfrN,WAAW;cACXvzC,aAAW;cACXC,KAAK;gBACH,gBACElE,KAAKs9B,eAAeC,aACnBv9B,KAAKs9B,eAAec,cAAap+B,KAAKs9B,eAAe6X,WACrDn1C,KAAKs9B,eAAemZ;AAEzB;;YAEFqO,uBAAuB;cACrBtN,WAAW;cACXvzC,aAAW;cACXC,KAAK;gBACH,OAAOlE,KAAKs9B,eAAese;AAC7B;;YAEFmJ,gBAAgB;cACdvN,WAAW;cACXvzC,aAAW;cACXC,KAAK;gBACH,OAAOlE,KAAKs9B,kBAAkBt9B,KAAKs9B,eAAenyB;AACpD;;YAEF65C,iBAAiB;cACfxN,WAAW;cACXvzC,aAAW;cACXC,KAAK;gBACH,OAAOlE,KAAKs9B,eAAeikB;AAC7B;cACAt2C,KAAK,SAAUgC;gBACTjN,KAAKs9B,mBACPt9B,KAAKs9B,eAAeikB,UAAUt0C;AAElC;;YAEFg4C,gBAAgB;cACdzN,WAAW;cACXvzC,aAAW;cACXC;gBACE,OAAOlE,KAAKs9B,eAAe70B;AAC7B;;YAEForC,oBAAoB;cAClB2D,WAAW;cACXvzC,aAAW;cACXC;gBACE,SAAOlE,KAAKs9B,kBAAiBt9B,KAAKs9B,eAAeoc;AACnD;;YAEFwL,kBAAkB;cAChB1N,WAAW;cACXvzC,aAAW;cACXC;gBACE,OAAOlE,KAAKs9B,iBAAiBt9B,KAAKs9B,eAAe9P,WAAW;AAC9D;;YAEF2nB,SAAS;cACPqC,WAAW;cACXvzC,aAAW;cACXC;gBACE,OAAOlE,KAAKs9B,iBAAiBt9B,KAAKs9B,eAAe6X,UAAU;AAC7D;;YAEF/D,QAAQ;cACNoG,WAAW;cACXtzC;gBACE,SAAOlE,KAAKs9B,kBAAiBt9B,KAAKs9B,eAAe8T;AACnD;;YAEFhT,WAAW;cACToZ,WAAW;cACXvzC,aAAW;cACXC;gBACE,SAAOlE,KAAKs9B,kBAAiBt9B,KAAKs9B,eAAec;AACnD;cACAnzB,IAAI5K;gBAGGL,KAAKs9B,mBAMVt9B,KAAKs9B,eAAec,YAAY/9B;AAClC;;YAEF8kD,eAAe;cACb3N,WAAW;cACXvzC,aAAW;cACXC;gBACE,SAAOlE,KAAKs9B,kBAAiBt9B,KAAKs9B,eAAemZ;AACnD;;cAGJK,EAAuB8J,EAAcv6C,WAAW;YAE9C++C,YAAY;cACV5N,WAAW;cACXtzC;gBACE,OAAOlE,KAAKshD,MAAM74C;AACpB;;YAGFi8C,QAAQ;cACNlN,WAAW;cACXtzC;gBACE,QAAM,MAAClE,KAAKmhD;AACd;cACAl2C,IAAI5K;gBACFL,KAAKmhD,OAAa9gD;AACpB;;cAKJ62C,EAASmO,YAAYlC,GA8DrBjM,EAASj3B,OAAO,SAAUkpB,GAAUplC;YAClC,OAAOkc,EAAKi3B,GAAU/N,GAAUplC;AAClC,aAQAmzC,EAASc,UAAU,SAAUsN,GAAgB/+C;YAC3C,OAAOgxC,KAAiBgO,oCAAoCD,GAAgB/+C;AAC9E,aACA2wC,EAASiB,QAAQ,SAAUqN,GAAgBj/C;YACzC,OAAOgxC,KAAiBkO,oCAAoCD,GAAgBj/C;AAC9E,aACA2wC,EAASiC,OAAO,SAAUp0B,GAAKxe;YAC7B,IAAIm/C,GAAMC;YACV,OAAO,IAAIzO,EAAS;cAClBwC,YAI4B,UAHzBgM,IACsD,UAApDC,IAAwB5gC,EAAI8uB,4BAAAA,MAAgC8R,IACzDA,IACA5gC,EAAI20B,oBAAAA,MAAwBgM,KAC9BA;iBAEHn/C;cACH60B,QAAQ2C,GAAKb;gBACXkiB,EAAYrM,UAAUhuB,GAAKgZ,IAC3Bb,EAASa;AACX;eACCob,KAAKp0B;AACV;AAAA;QAAA;UAAA;UC5tCA,OAAM,WAAEg4B,GAAS,iBAAE0D,KAAoBhgD,EAAQ,QACzC,uBAAE4yC,KAA0B5yC,EAAA;UAIlC,SAASsgD,EAAwBrH;YAC/B,OAAOA,IAAa,KAAK;AAC3B;UAcA95C,EAAOC,UAAU;YACfihD,kBAdF,SAA0B7zC,GAAO1G,GAASq/C,GAAWvE;cACnD,MAAMwE,IAPR,SAA2Bt/C,GAAS86C,GAAUuE;gBAC5C,OAAgC,QAAzBr/C,EAAQq1C,gBAAwBr1C,EAAQq1C,gBAAgByF,IAAW96C,EAAQq/C,KAAa;AACjG,eAFA,CAOgCr/C,GAAS86C,GAAUuE;cACjD,IAAW,QAAPC,GAAa;gBACf,KAAKpF,EAAgBoF,MAAQA,IAAM,GAEjC,MAAM,IAAIxS,EADGgO,IAAW,WAAWuE,MAAc,yBACXC;gBAExC,OAAO9I,EAAU8I;AACnB;cAGA,OAAO9E,EAAwB9zC,EAAMysC;AACvC;YAGEqH,yBAAAA;;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UAAAA;UCwCF,OAAM,sBAAE9J,GAAoB,QAAErpC,KAAWnN,EAAQ;UACjDb,EAAOC,UAAUs/C;UACjB,OAAM,4BAAE6B,KAA+BvgD,EAAA,aACjCqyC,IAASryC,EAAQ,QACjB,kBAAEqgD,KAAqBrgD,EAAQ;UACrCw2C,EAAqBkI,EAAU94C,WAAWysC,EAAOzsC,YACjD4wC,EAAqBkI,GAAWrM;UAChC,MAAMgT,IAAYl4C,EAAO;UACzB,SAASuxC,EAAU54C;YACjB,MAAMvG,gBAAgBm/C,IAAY,OAAO,IAAIA,EAAU54C;YAKvD,MAAMu+C,IAAwBv+C,IAAUu6C,EAAiB9gD,MAAMuG,GAAS,+BAAiC;YAC3E,MAA1Bu+C,MAIFv+C,IAAU;iBACLA;cACHq1C,eAAe;cACfkJ,uBAAAA;cAKArN,uBAAuBlxC,EAAQkxC,yBAAyB;gBAG5D3E,EAAO1pC,KAAKpJ,MAAMuG,IAKlBvG,KAAKs9B,eAAesY,QAAAA,GACpB51C,KAAK8lD,KAAa,MACdv/C,MAC+B,qBAAtBA,EAAQw+B,cAA0B/kC,KAAKglC,aAAaz+B,EAAQw+B;YAC1C,qBAAlBx+B,EAAQw/C,UAAsB/lD,KAAKgmD,SAASz/C,EAAQw/C,SAOjE/lD,KAAKu+B,GAAG,aAAa0nB;AACvB;UACA,SAAS5M,EAAM1F;YACc,qBAAhB3zC,KAAKgmD,UAA0BhmD,KAAKo+B,aAmB7Cp+B,KAAK2I,KAAK,OACNgrC,KACFA,OApBF3zC,KAAKgmD,QAAO,CAACxqC,GAAIxa;cACXwa,IACEm4B,IACFA,EAAGn4B,KAEHxb,KAAKo7B,QAAQ5f,MAIL,QAARxa,KACFhB,KAAK2I,KAAK3H,IAEZhB,KAAK2I,KAAK,OACNgrC,KACFA;AACD;AAQP;UACA,SAASsS;YACHjmD,KAAK+zC,WAAWsF,KAClBA,EAAMjwC,KAAKpJ;AAEf;UACAm/C,EAAU94C,UAAU0tC,SAASsF,GAC7B8F,EAAU94C,UAAU2+B,aAAa,SAAU8O,GAAOtmB,GAAU0P;YAC1D,MAAM,IAAI8jB,EAA2B;AACvC,aACA7B,EAAU94C,UAAUu+B,SAAS,SAAUkP,GAAOtmB,GAAU0P;YACtD,MAAMge,IAASl7C,KAAKs9B,gBACd2d,IAASj7C,KAAKo9B,gBACd30B,IAASyyC,EAAOzyC;YACtBzI,KAAKglC,WAAW8O,GAAOtmB,IAAAA,CAAWuQ,GAAKtO;cACjCsO,IACFb,EAASa,MAGA,QAAPtO,KACFzvB,KAAK2I,KAAK8mB,IAGVwrB,EAAO9c,SAEP11B,MAAWyyC,EAAOzyC,UAElByyC,EAAOzyC,SAASyyC,EAAOU,gBAEvB1e,MAEAl9B,KAAK8lD,KAAa5oB;AACnB;AAEL,aACAiiB,EAAU94C,UAAUw+B,QAAQ;YAC1B,IAAI7kC,KAAK8lD,IAAY;cACnB,MAAM5oB,IAAWl9B,KAAK8lD;cACtB9lD,KAAK8lD,KAAa,MAClB5oB;AACF;AACF;AAAA;QAAA;UAAA;UCjLA,OAAM,QAAEtvB,GAAM,qBAAE6tC,GAAmB,gBAAErJ,GAAc,WAAE8T,KAAczlD,EAAQ,OACrEm0C,IAAahnC,EAAO,eACpBu4C,IAAav4C,EAAO,eACpBw4C,IAAcx4C,EAAO,gBACrBy4C,IAAez4C,EAAO,iBACtB8sC,IAAmBwL,EAAU,qCAC7BtU,IAA2BsU,EAAU;UAC3C,SAAS1N,EAAqBnqB,GAAK+gB,KAAAA;YACjC,IAAIkX;YACJ,UAEIj4B,KACoB,qBAAbA,EAAIsW,QACO,qBAAXtW,EAAIkQ,MACT6Q,MAAgC,qBAAd/gB,EAAIkuB,SAA8C,qBAAfluB,EAAImuB,WACzDnuB,EAAI+O,mBAAAA,OAC4C,UAA9CkpB,IAAsBj4B,EAAIiP,wBAAAA,MAA4BgpB,SAAAA,IAEpDA,EAAoB/oB,aAExBlP,EAAI+O,mBAAkB/O,EAAIiP;AAGlC;UAEA,SAASmb,EAAqBpqB;YAC5B,IAAIk4B;YACJ,UAEIl4B,KACqB,qBAAdA,EAAIV,SACO,qBAAXU,EAAIkQ,MACTlQ,EAAIiP,mBAAAA,OAC4C,UAA9CipB,IAAsBl4B,EAAI+O,wBAAAA,MAA4BmpB,SAAAA,IAEpDA,EAAoBl3C;AAGhC;UAWA,SAASqiC,EAAarjB;YACpB,OACEA,MACCA,EAAIiP,kBACHjP,EAAI+O,kBACkB,qBAAd/O,EAAIV,SAA0C,qBAAXU,EAAIkQ,MAC1B,qBAAblQ,EAAIsW,QAAyC,qBAAXtW,EAAIkQ;AAEpD;UACA,SAAS6U,EAAiB/kB;YACxB,UACEA,KACCqjB,EAAarjB,MACa,qBAApBA,EAAIm4B,eACc,qBAAlBn4B,EAAIkmB,aACW,qBAAflmB,EAAIo4B;AAEf;UACA,SAAStT,EAAiB9kB;YACxB,UAAUA,KAAQqjB,EAAarjB,MAAiC,qBAAlBA,EAAI4lB,aAAiD,qBAAd5lB,EAAIoQ;AAC3F;UACA,SAASyU,EAAkB7kB;YACzB,UAAUA,KAAQqjB,EAAarjB,MAAgC,mBAAjBA,EAAIkP,YAAiD,mBAAjBlP,EAAIhf;AACxF;UAUA,SAASwlC,EAAY5X;YACnB,KAAKyU,EAAazU,IAAS,OAAO;YAClC,MAAMge,IAAShe,EAAOG,gBAChB8d,IAASje,EAAOK,gBAChBrwB,IAAQguC,KAAUC;YACxB,UAAUje,EAAOmB,aAAanB,EAAO2X,MAAgB3nC,QAAAA,KAAyCA,EAAMmxB;AACtG;UAGA,SAASsoB,EAAgBzpB;YACvB,KAAKwb,EAAqBxb,IAAS,OAAO;YAC1C,WAAIA,EAAO6a,eAAwB,QAAM;YACzC,MAAMmD,IAAShe,EAAOG;YACtB,QAAI6d,QAAAA,MAA2CA,EAAO9F,aAC8B,qBAAxE8F,QAAAA,SAAAA,IAAsDA,EAAO9c,SAA6B,OAC/F8c,EAAO9c;AAChB;UAuBA,SAASic,EAAmBnd,GAAQmS;YAClC,KAAKoJ,EAAqBvb,IAAS,OAAO;YAC1C,MAAMie,IAASje,EAAOK;YACtB,QAAI4d,QAAAA,MAA2CA,EAAO/F,aACmC,qBAA7E+F,QAAAA,SAAAA,IAAsDA,EAAOzE,cAAkC,UACjGyE,EAAOzE,eAAAA,MAAerH,MAAAA,MAAoB8L,EAAO/c,SAAoC,MAAlB+c,EAAOzyC;AACtF;UACA,SAASuqC,EAAW/V;YAClB,OAAIA,KAAiC,QAAvBA,EAAOmpB,KAA6BnpB,EAAOmpB,KAC8B,qBAA3EnpB,QAAAA,SAAAA,IAAsDA,EAAOM,YAAgC,QACrGsX,EAAY5X,MACTub,EAAqBvb,MAAWA,EAAOM,aAAa6c,EAAmBnd;AAChF;UACA,SAASgW,EAAWhW;YAClB,OAAuF,qBAA3EA,QAAAA,SAAAA,IAAsDA,EAAO5tB,YAAgC,QACrGwlC,EAAY5X,MACTwb,EAAqBxb,MAAWA,EAAO5tB,aAAaq3C,EAAgBzpB;AAC7E;UAqEA,SAAS0pB,EAAkB1pB;YACzB,OAC4B,oBAAnBA,EAAO2pB,WACsB,oBAA7B3pB,EAAO4pB,qBACuB,oBAA9B5pB,EAAO6pB,sBACoB,oBAA3B7pB,EAAO8pB;AAElB;UACA,SAASC,EAAiB/pB;YACxB,OAAkC,oBAApBA,EAAOgqB,YAA0BN,EAAkB1pB;AACnE;UAqEAr9B,EAAOC,UAAU;YACf+0C,YAAAA;YACAsS,aApDF,SAAqBjqB;cACnB,IAAIkqB;cACJ,UACElqB,OACmD,UAAjDkqB,IAAuBlqB,EAAOopB,YAAAA,MAA2Bc,IACvDA,IACAlqB,EAAO2nB,mBAAmB3nB,EAAO4nB;AAEzC;YA6CEwB,cAAAA;YACAe,WA7CF,SAAmBnqB;cACjB,IAAIyoB,GACF2B,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC;cACF,UACE5qB,OAsB0C,UArBxCyoB,IAiB+C,UAhB9C2B,IAYgD,UAX9CC,IAOmC,UANjCC,IAImC,UAHjCC,IAC+C,UAA7CC,IAAqBxqB,EAAOkpB,YAAAA,MAAyBsB,IAClDA,IACAxqB,EAAO6qB,yBAAAA,MAA6BN,IACtCA,IACAvqB,EAAO8qB,yBAAAA,MAA6BR,IACtCA,IACqD,UAApDG,IAAyBzqB,EAAOK,wBAAAA,MAA4BoqB,SAAAA,IAE7DA,EAAuBhS,sBAAAA,MAA0B4R,IACnDA,IACqD,UAApDK,IAAyB1qB,EAAOG,wBAAAA,MAA4BuqB,SAAAA,IAE7DA,EAAuBjS,sBAAAA,MAA0B2R,IACnDA,IACqD,UAApDO,IAAyB3qB,EAAOK,wBAAAA,MAA4BsqB,SAAAA,IAE7DA,EAAuBzS,iBAAAA,MAAqBuQ,IAC9CA,IACqD,UAApDmC,IAAyB5qB,EAAOG,wBAAAA,MAA4ByqB,SAAAA,IAE7DA,EAAuB1S;AAE/B;YAMEgR,YAAAA;YACAnT,YAAAA;YACAoT,aAAAA;YACA1L,kBAAAA;YACA9I,0BAAAA;YACAuI,UAhHF,SAAkBld;cAChB,KAAKyU,EAAazU,IAChB,OAAO;cAET,IAA6B,oBAAlBA,EAAOmU,QAChB,OAAOnU,EAAOmU;cAEhB,MAAM6J,IAAShe,EAAOG,gBAChB8d,IAASje,EAAOK;cACtB,OACmF,qBAAzE2d,QAAAA,SAAAA,IAAsDA,EAAO7J,WACY,qBAAzE8J,QAAAA,SAAAA,IAAsDA,EAAO9J,WAGlE6J,QAAAA,SAAAA,IAAsDA,EAAO7J,YAC7D8J,QAAAA,SAAAA,IAAsDA,EAAO9J,UAGpC,oBAAnBnU,EAAO2pB,WAAyBD,EAAkB1pB,KACpDA,EAAO2pB,UAET;AACT;YA2FE/R,aAAAA;YACA6D,oBAlQF,SAA4BrqB;cAC1B,UACEA,KACoB,qBAAbA,EAAIsW,SACXtW,EAAIiP,kBACc,qBAAXjP,EAAIkQ,MACU,qBAAdlQ,EAAIV;AAEf;YA2PEmnB,YAhKF,SAAoB7X,GAAQl5B;cAC1B,OAAK2tC,EAAazU,QAGd4X,EAAY5X,QAAAA,OAGXl5B,QAAAA,SAAAA,IAAkDA,EAAKw5B,aAAuByV,EAAW/V,OAAAA,OAGzFl5B,QAAAA,SAAAA,IAAkDA,EAAKsL,aAAuB4jC,EAAWhW,OARrF;AAYX;YAmJEsb,YAhOF,SAAoBlqB,GAAKstB;cACvB,OAAW,QAAPttB,OAAAA,MACAstB,IAA6D,qBAA7BttB,EAAIotB,MAAAA,MACpCE,IAAyD,qBAAxBttB,EAAI+jB,KACE,qBAA7B/jB,EAAIotB,MAAsE,qBAAxBptB,EAAI+jB;AACtE;YA4NEoG,sBAAAA;YACApF,kBAAAA;YACAkM,iBAhMF,SAAyBriB;cACvB,KAAKub,EAAqBvb,IAAS,OAAO;cAC1C,WAAIA,EAAOkoB,eAAwB,QAAM;cACzC,MAAMjK,IAASje,EAAOK;cACtB,UAAK4d,KAAUA,EAAO/F,aAC8D,qBAAxE+F,QAAAA,SAAAA,IAAsDA,EAAO/c,SAA6B,OAC/F+c,EAAO/c;AAChB;YA0LEic,oBAAAA;YACAC,mBAxIF,SAA2Bpd;cACzB,IAAI+qB,GAAuBC;cAC3B,OAAKvW,EAAazU,KAGdA,EAAO6qB,kBACF7qB,EAAO6qB,kBAK0B,UAHlCE,IAC+C,UAApDC,IAAyBhrB,EAAOK,wBAAAA,MAA4B2qB,SAAAA,IAEzDA,EAAuB9S,iBAAAA,MAAqB6S,IAC9CA,IACA,OAVK;AAWX;YA2HEtW,cAAAA;YACAC,aA1OF,SAAqBtjB;cACnB,OAAO+kB,EAAiB/kB,MAAQ8kB,EAAiB9kB,MAAQ6kB,EAAkB7kB;AAC7E;YAyOE4kB,YAAAA;YACAwF,sBAAAA;YACAtF,kBAAAA;YACAuT,iBAAAA;YACApM,oBAnNF,SAA4Brd,GAAQmS;cAClC,KAAKqJ,EAAqBxb,IAAS,OAAO;cAC1C,WAAIA,EAAO2a,kBAA2B,QAAM;cAC5C,MAAMqD,IAAShe,EAAOG;cACtB,QAAI6d,QAAAA,MAA2CA,EAAO9F,aACiC,qBAA3E8F,QAAAA,SAAAA,IAAsDA,EAAOpE,YAAgC,UAC/FoE,EAAOpE,aAAAA,MAAazH,MAAAA,MAAoB6L,EAAO9c,SAAoC,MAAlB8c,EAAOxyC;AACpF;YA6ME8xC,mBA/JF,SAA2Btd;cACzB,IAAIirB,GAAuBC;cAC3B,OAAKzW,EAAazU,KAGdA,EAAO8qB,kBACF9qB,EAAO8qB,kBAK0B,UAHlCG,IAC+C,UAApDC,IAAyBlrB,EAAOG,wBAAAA,MAA4B+qB,SAAAA,IAEzDA,EAAuBhT,iBAAAA,MAAqB+S,IAC9CA,IACA,OAVK;AAWX;YAkJEnT,iBAhGF,SAAyB9X;cACvB,IAAImrB;cACJ,OAC+B,oBAAtBnrB,EAAOorB,cACY,oBAAnBprB,EAAOqrB,gBAAAA,OACkB,UAA9BF,IAAcnrB,EAAOqB,aAAAA,MAAiB8pB,SAAAA,IAAwCA,EAAYG;AAGhG;YAyFEvB,kBAAAA;YACAxM,eAzFF,SAAuBvd;cACrB,KAAKyU,EAAazU,IAAS,OAAO;cAClC,MAAMge,IAAShe,EAAOG,gBAChB8d,IAASje,EAAOK,gBAChBrwB,IAAQguC,KAAUC;cACxB,QACIjuC,KAAS+5C,EAAiB/pB,SAAehwB,KAASA,EAAM4oC,eAAe5oC,EAAMwoC,cAAAA,MAAaxoC,EAAMmkC;AAEtG;YAkFE8B,mBAAAA;;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UC7TF,MAAM7tB,IAAU5kB,EAAQ,QA6BlB,qBACJ+nD,GAAmB,OACnB5nD,GAAK,oCACL6nD,GAAkC,sBAClCC,GAAoB,wBACpB5R,GAAsB,sBACtBG,GAAoB,4BACpB0R,GAA0B,QAC1B/6C,GAAM,mBACNg7C,KACEnoD,EAAQ;UACZb,EAAOC,UAAUs3C,GACjBA,EAAS0R,gBAAgBA;UACzB,OAAQ1pB,cAAc+c,KAAOz7C,EAAQ,OAC/B07C,IAAS17C,EAAA,eACT,QAAEyK,KAAWzK,EAAQ,OACrB2+C,IAAc3+C,EAAQ,QACtB,gBAAEoxC,KAAmBpxC,EAAQ,OAC7B,kBAAEqgD,GAAgB,yBAAEC,KAA4BtgD,EAAQ,QACxD,sBACJq4B,GAAoB,4BACpBkoB,GAA0B,uBAC1BrM,GAAqB,wBACrBmU,GAAsB,sBACtBzJ,GAAoB,6BACpB0J,GAA2B,wBAC3BrN,GAAsB,4BACtBsN,GAA0B,sBAC1BC,KACExoD,EAAA,cACE,gBAAEk1C,KAAmByJ;UAG3B,SAASzE,KAAO;UAFhB1D,EAAqBE,EAAS9wC,WAAW81C,EAAO91C,YAChD4wC,EAAqBE,GAAUgF;UAE/B,MAAM+M,IAAct7C,EAAO;UAC3B,SAASi7C,EAActiD,GAAS02B,GAAQokB;YAMd,oBAAbA,MAAwBA,IAAWpkB,aAAkBx8B,EAAQ,QAIxET,KAAK05C,gBAAgBnzC,MAAWA,EAAQmzC,aACpC2H,MAAUrhD,KAAK05C,aAAa15C,KAAK05C,iBAAiBnzC,MAAWA,EAAQqtC;YAKzE5zC,KAAK47C,gBAAgBr1C,IACjBu6C,EAAiB9gD,MAAMuG,GAAS,yBAAyB86C,KACzDN,GAAAA,IAGJ/gD,KAAK02C,eAAAA,GAGL12C,KAAKukD,aAAAA,GAELvkD,KAAK42C,UAAAA;YAEL52C,KAAKm+B,SAAAA,GAELn+B,KAAK62C,YAAAA,GAGL72C,KAAKo+B,aAAAA;YAKL,MAAM+qB,OAAc5iD,MAAAA,MAAWA,EAAQ6iD;YACvCppD,KAAKopD,iBAAiBD,GAKtBnpD,KAAK4hD,kBAAmBr7C,KAAWA,EAAQq7C,mBAAoB,QAK/D5hD,KAAKyI,SAAS,GAGdzI,KAAKmxC,WAAAA,GAGLnxC,KAAKqpD,SAAS;YAMdrpD,KAAK41C,QAAAA,GAKL51C,KAAKspD,oBAAAA,GAGLtpD,KAAKupD,UAAUA,EAAQroB,UAAK,GAAWjE,IAGvCj9B,KAAKwpD,UAAU,MAGfxpD,KAAKypD,WAAW,GAIhBzpD,KAAK0pD,qBAAqB;YAC1BC,EAAY3pD,OAIZA,KAAK4pD,YAAY,GAMjB5pD,KAAKg2C,eAAAA,GAILh2C,KAAK22C,eAAAA,GAGL32C,KAAK01C,gBAAAA,GAGL11C,KAAKy1C,aAAalvC,MAAAA,MAAWA,EAAQkvC;YAGrCz1C,KAAK61C,eAAetvC,MAAAA,MAAWA,EAAQsvC,aAKvC71C,KAAKm1C,UAAU,MAGfn1C,KAAKoxC,UAAAA,GAILpxC,KAAKw1C,gBAAAA,GACLx1C,KAAKkpD,KAAe;AACtB;UACA,SAASS,EAAY18C;YACnBA,EAAM48C,WAAW,IACjB58C,EAAM68C,gBAAgB,GACtB78C,EAAM88C,cAAAA,GACN98C,EAAM+8C,WAAAA;AACR;UAUA,SAAS7S,EAAS5wC;YAWhB,MAAM86C,IAAWrhD,gBAAgBS,EAAQ;YACzC,KAAK4gD,MAAaoH,EAAmCtR,GAAUn3C,OAAO,OAAO,IAAIm3C,EAAS5wC;YAC1FvG,KAAKo9B,iBAAiB,IAAIyrB,EAActiD,GAASvG,MAAMqhD,IACnD96C,MAC2B,qBAAlBA,EAAQonB,UAAsB3tB,KAAK4kC,SAASr+B,EAAQonB,QACjC,qBAAnBpnB,EAAQ0jD,WAAuBjqD,KAAKkqD,UAAU3jD,EAAQ0jD;YAClC,qBAApB1jD,EAAQ60B,YAAwBp7B,KAAKy0C,WAAWluC,EAAQ60B,UACtC,qBAAlB70B,EAAQ8yC,UAAsBr5C,KAAK+zC,SAASxtC,EAAQ8yC;YAC9B,qBAAtB9yC,EAAQ+vC,cAA0Bt2C,KAAKk2C,aAAa3vC,EAAQ+vC,YACnE/vC,EAAQurC,UAAQD,EAAetrC,EAAQurC,QAAQ9xC,QAErDm8C,EAAO/yC,KAAKpJ,MAAMuG,IAClB64C,EAAY9I,UAAUt2C,OAAK;cACzB,MAAMiN,IAAQjN,KAAKo9B;cACdnwB,EAAMkkC,WACTgZ,EAAYnqD,MAAMiN,IAEpBm9C,EAAYpqD,MAAMiN;AAAK;AAE3B;UAcA,SAAS23B,EAAO3H,GAAQ6W,GAAOtmB,GAAUmmB;YACvC,MAAM1mC,IAAQgwB,EAAOG;YACrB,IAAwB,qBAAb5P,GACTmmB,IAAKnmB,GACLA,IAAWvgB,EAAM20C,sBACZ;cACL,IAAKp0B;gBACA,IAAiB,aAAbA,MAA0BtiB,EAAOuiB,WAAWD,IAAW,MAAM,IAAIy7B,EAAqBz7B;qBADhFA,IAAWvgB,EAAM20C;cAEd,qBAAPjO,MAAmBA,IAAKgH;AACrC;YACA,IAAc,SAAV7G,GACF,MAAM,IAAI4H;YACL,KAAKzuC,EAAMysC,YAChB,IAAqB,mBAAV5F,IAAAA,MACL7mC,EAAMm8C,kBACRtV,IAAQ5oC,EAAO+U,KAAK6zB,GAAOtmB,IAC3BA,IAAW,gBAER,IAAIsmB,aAAiB5oC,GAC1BsiB,IAAW,eACN;cAAA,KAAI2uB,EAAOkG,cAAcvO,IAI9B,MAAM,IAAIhb,EAAqB,SAAS,EAAC,UAAU,UAAU,gBAAegb;cAH5EA,IAAQqI,EAAOmG,oBAAoBxO,IACnCtmB,IAAW;AAGb;YAEF,IAAIuQ;YAMJ,OALI9wB,EAAM2pC,SACR7Y,IAAM,IAAIirB,IACD/7C,EAAMmxB,cACfL,IAAM,IAAIshB,EAAqB,WAE7BthB,KACF1Y,EAAQ4Y,SAAS0V,GAAI5V,IACrB4X,EAAe1Y,GAAQc,IAAAA,IAChBA,MAET9wB,EAAM28C;YA2BR,SAAuB3sB,GAAQhwB,GAAO6mC,GAAOtmB,GAAU0P;cACrD,MAAMhjB,IAAMjN,EAAMysC,aAAa,IAAI5F,EAAMrrC;cACzCwE,EAAMxE,UAAUyR;cAGhB,MAAM6E,IAAM9R,EAAMxE,SAASwE,EAAM2uC;cA0BjC,OAxBK78B,MAAK9R,EAAMs3C,aAAAA,IACZt3C,EAAMkkC,WAAWlkC,EAAMo8C,UAAUp8C,EAAMkoC,YAAYloC,EAAM+oC,eAC3D/oC,EAAM48C,SAASlhD,KAAK;gBAClBmrC,OAAAA;gBACAtmB,UAAAA;gBACA0P,UAAAA;kBAEEjwB,EAAM88C,cAA2B,aAAbv8B,MACtBvgB,EAAM88C,cAAAA,IAEJ98C,EAAM+8C,WAAW9sB,MAAayd,MAChC1tC,EAAM+8C,WAAAA,OAGR/8C,EAAMw8C,WAAWvvC;cACjBjN,EAAMu8C,UAAUtsB,GAChBjwB,EAAMkkC,WAAAA,GACNlkC,EAAM2oC,QAAAA,GACN3Y,EAAO2H,OAAOkP,GAAOtmB,GAAUvgB,EAAMs8C,UACrCt8C,EAAM2oC,QAAAA,IAKD72B,MAAQ9R,EAAMkoC,YAAYloC,EAAMmxB;AACzC,aAhCA,CA1BuBnB,GAAQhwB,GAAO6mC,GAAOtmB,GAAUmmB;AACvD;UA0DA,SAAS0W,EAAQptB,GAAQhwB,GAAOg9C,GAAQ/vC,GAAK45B,GAAOtmB,GAAUmmB;YAC5D1mC,EAAMw8C,WAAWvvC,GACjBjN,EAAMu8C,UAAU7V,GAChB1mC,EAAMkkC,WAAAA,GACNlkC,EAAM2oC,QAAAA,GACF3oC,EAAMmxB,YAAWnxB,EAAMs8C,QAAQ,IAAIlK,EAAqB,YACnD4K,IAAQhtB,EAAOitB,QAAQpW,GAAO7mC,EAAMs8C,WACxCtsB,EAAO2H,OAAOkP,GAAOtmB,GAAUvgB,EAAMs8C;YAC1Ct8C,EAAM2oC,QAAAA;AACR;UACA,SAAS0U,EAAartB,GAAQhwB,GAAOuO,GAAIm4B;cACrC1mC,EAAM28C,WACRjW,EAAGn4B,IAKH+uC,EAAYt9C,IAEZ0oC,EAAe1Y,GAAQzhB;AACzB;UACA,SAAS+tC,EAAQtsB,GAAQzhB;YACvB,MAAMvO,IAAQgwB,EAAOG,gBACfwY,IAAO3oC,EAAM2oC,MACbjC,IAAK1mC,EAAMu8C;YACC,qBAAP7V,KAIX1mC,EAAMkkC,WAAAA,GACNlkC,EAAMu8C,UAAU,MAChBv8C,EAAMxE,UAAUwE,EAAMw8C,UACtBx8C,EAAMw8C,WAAW,GACbjuC,KAEFA,EAAG/Z,OAEEwL,EAAMkoC,YACTloC,EAAMkoC,UAAU35B;YAKdyhB,EAAOK,mBAAmBL,EAAOK,eAAe6X,YAClDlY,EAAOK,eAAe6X,UAAU35B,IAE9Bo6B,IACFvwB,EAAQ4Y,SAASqsB,GAAcrtB,GAAQhwB,GAAOuO,GAAIm4B,KAElD2W,EAAartB,GAAQhwB,GAAOuO,GAAIm4B,OAG9B1mC,EAAM48C,SAASphD,SAASwE,EAAM68C,iBAChCK,EAAYltB,GAAQhwB;YAElB2oC,IAK+B,SAA7B3oC,EAAMy8C,sBAA+Bz8C,EAAMy8C,mBAAmB/V,OAAOA,IACvE1mC,EAAMy8C,mBAAmBx0C,WAEzBjI,EAAMy8C,qBAAqB;cACzBx0C,OAAO;cACPy+B,IAAAA;cACA1W,QAAAA;cACAhwB,OAAAA;eAEFoY,EAAQ4Y,SAASusB,GAAgBv9C,EAAMy8C,uBAGzCe,EAAWxtB,GAAQhwB,GAAO,GAAG0mC,OA9C/BgC,EAAe1Y,GAAQ,IAAI0X;AAiD/B;UACA,SAAS6V,GAAe,QAAEvtB,GAAM,OAAEhwB,GAAK,OAAEiI,GAAK,IAAEy+B;YAE9C,OADA1mC,EAAMy8C,qBAAqB,MACpBe,EAAWxtB,GAAQhwB,GAAOiI,GAAOy+B;AAC1C;UACA,SAAS8W,EAAWxtB,GAAQhwB,GAAOiI,GAAOy+B;YAMxC,MALmB1mC,EAAM2pC,WAAW3Z,EAAOmB,aAA8B,MAAjBnxB,EAAMxE,UAAgBwE,EAAMs3C,cAElFt3C,EAAMs3C,aAAAA,GACNtnB,EAAO0D,KAAK,WAEPzrB,MAAU,KACfjI,EAAM28C;YACNjW;YAEE1mC,EAAMmxB,aACRmsB,EAAYt9C,IAEdm9C,EAAYntB,GAAQhwB;AACtB;UAGA,SAASs9C,EAAYt9C;YACnB,IAAIA,EAAMkkC,SACR;YAEF,KAAK,IAAIzmB,IAAIzd,EAAM68C,eAAep/B,IAAIzd,EAAM48C,SAASphD,UAAUiiB,GAAG;cAChE,IAAIggC;cACJ,OAAM,OAAE5W,GAAK,UAAE5W,KAAajwB,EAAM48C,SAASn/B,IACrCxQ,IAAMjN,EAAMysC,aAAa,IAAI5F,EAAMrrC;cACzCwE,EAAMxE,UAAUyR,GAChBgjB,EACuC,UAApCwtB,IAAiBz9C,EAAMkoC,iBAAAA,MAAqBuV,IACzCA,IACA,IAAIrL,EAAqB;AAEjC;YACA,MAAMsL,IAAoB19C,EAAMi8C,GAAaj+B,OAAO;YACpD,KAAK,IAAIviB,IAAI,GAAGA,IAAIiiD,EAAkBliD,QAAQC,KAAK;cACjD,IAAIkiD;cACJD,EAAkBjiD,GACsB,UAArCkiD,IAAkB39C,EAAMkoC,iBAAAA,MAAqByV,IAC1CA,IACA,IAAIvL,EAAqB;AAEjC;YACAsK,EAAY18C;AACd;UAGA,SAASk9C,EAAYltB,GAAQhwB;YAC3B,IAAIA,EAAMo8C,UAAUp8C,EAAMq8C,oBAAoBr8C,EAAMmxB,cAAcnxB,EAAM+oC,aACtE;YAEF,OAAM,UAAE6T,GAAQ,eAAEC,GAAa,YAAEpQ,KAAezsC,GAC1C49C,IAAiBhB,EAASphD,SAASqhD;YACzC,KAAKe,GACH;YAEF,IAAIniD,IAAIohD;YAER,IADA78C,EAAMq8C,oBAAAA,GACFuB,IAAiB,KAAK5tB,EAAOitB,SAAS;cACxCj9C,EAAM28C,aAAaiB,IAAiB;cACpC,MAAM3tB,IAAWjwB,EAAM+8C,UACnBrP,IACC5c;gBACC,KAAK,IAAIrT,IAAIhiB,GAAGgiB,IAAIm/B,EAASphD,UAAUiiB,GACrCm/B,EAASn/B,GAAGwS,SAASa;AAAC,iBAKxB+sB,IAAS79C,EAAM+8C,WAAiB,MAANthD,IAAUmhD,IAAWrB,EAAoBqB,GAAUnhD;cACnFoiD,EAAOf,aAAa98C,EAAM88C,YAC1BM,EAAQptB,GAAQhwB,IAAAA,GAAaA,EAAMxE,QAAQqiD,GAAQ,IAAI5tB,IACvDysB,EAAY18C;AACd,mBAAO;cACL,GAAG;gBACD,OAAM,OAAE6mC,GAAK,UAAEtmB,GAAQ,UAAE0P,KAAa2sB,EAASnhD;gBAC/CmhD,EAASnhD,OAAO,MAEhB2hD,EAAQptB,GAAQhwB,IAAAA,GADJysC,IAAa,IAAI5F,EAAMrrC,QACAqrC,GAAOtmB,GAAU0P;AACtD,uBAASx0B,IAAImhD,EAASphD,WAAWwE,EAAMkkC;cACnCzoC,MAAMmhD,EAASphD,SACjBkhD,EAAY18C,KACHvE,IAAI,OACbmhD,EAAS5+B,OAAO,GAAGviB,IACnBuE,EAAM68C,gBAAgB,KAEtB78C,EAAM68C,gBAAgBphD;AAE1B;YACAuE,EAAMq8C,oBAAAA;AACR;UAkEA,SAASyB,EAAW99C;YAClB,OACEA,EAAM2pC,WACL3pC,EAAMmxB,aACPnxB,EAAM+oC,eACW,MAAjB/oC,EAAMxE,WACLwE,EAAMkoC,WACmB,MAA1BloC,EAAM48C,SAASphD,WACdwE,EAAM4pC,aACN5pC,EAAMkkC,YACNlkC,EAAMyoC,iBACNzoC,EAAMuoC;AAEX;UA8CA,SAAS4U,EAAYntB,GAAQhwB,GAAO2oC;YAC9BmV,EAAW99C,OAZjB,SAAmBgwB,GAAQhwB;cACpBA,EAAM0pC,eAAgB1pC,EAAMypC,gBACF,qBAAlBzZ,EAAO8W,UAA0B9mC,EAAMmxB,aAIhDnxB,EAAM0pC,eAAAA,GACN1Z,EAAO0D,KAAK,iBAJZ1zB,EAAMypC,eAAAA;cArCZ,SAAmBzZ,GAAQhwB;gBACzB,IAAIgiC,KAAAA;gBACJ,SAAS+b,EAASjtB;kBAChB,IAAIkR,GACF0G,EAAe1Y,GAAQc,QAAAA,IAAoCA,IAAM4W,WAKnE,IAFA1F,KAAAA,GACAhiC,EAAM28C,aACF7rB,GAAK;oBACP,MAAM4sB,IAAoB19C,EAAMi8C,GAAaj+B,OAAO;oBACpD,KAAK,IAAIviB,IAAI,GAAGA,IAAIiiD,EAAkBliD,QAAQC,KAC5CiiD,EAAkBjiD,GAAGq1B;oBAEvB4X,EAAe1Y,GAAQc,GAAK9wB,EAAM2oC;AACpC,yBAAWmV,EAAW99C,OACpBA,EAAM0pC,eAAAA,GACN1Z,EAAO0D,KAAK,cAIZ1zB,EAAM28C,aACNvkC,EAAQ4Y,SAASwhB,GAAQxiB,GAAQhwB;AAErC;gBACAA,EAAM2oC,QAAAA,GACN3oC,EAAM28C;gBACN;kBACE3sB,EAAO8W,OAAOiX;AAGhB,kBAFE,OAAOjtB;kBACPitB,EAASjtB;AACX;gBACA9wB,EAAM2oC,QAAAA;AACR,eAjCA,CAsCgB3Y,GAAQhwB;AAMxB,aAVA,CAacgwB,GAAQhwB,IACM,MAApBA,EAAM28C,cACJhU,KACF3oC,EAAM28C,aACNvkC,EAAQ4Y,UAAS,CACdhB,GAAQhwB;cACH89C,EAAW99C,KACbwyC,EAAOxiB,GAAQhwB,KAEfA,EAAM28C;AACP,gBAEH3sB,GACAhwB,MAEO89C,EAAW99C,OACpBA,EAAM28C,aACNnK,EAAOxiB,GAAQhwB;AAIvB;UACA,SAASwyC,EAAOxiB,GAAQhwB;YACtBA,EAAM28C,aACN38C,EAAM4pC,YAAAA;YACN,MAAM8T,IAAoB19C,EAAMi8C,GAAaj+B,OAAO;YACpD,KAAK,IAAIviB,IAAI,GAAGA,IAAIiiD,EAAkBliD,QAAQC,KAC5CiiD,EAAkBjiD;YAGpB,IADAu0B,EAAO0D,KAAK,WACR1zB,EAAM4oC,aAAa;cAGrB,MAAMqF,IAASje,EAAOK;gBAEnB4d,KACAA,EAAOrF,gBAGLqF,EAAOzE,eAAAA,MAAcyE,EAAO3d,cAE/BN,EAAO7B;AAEX;AACF;UA1eAytB,EAAcxiD,UAAU4kD,YAAY;YAClC,OAAOzC,EAAoBxoD,KAAK6pD,UAAU7pD,KAAK8pD;AACjD,aACApB,EAAqBG,EAAcxiD,WAAW,wBAAwB;YACpEmxC,WAAW;YACXtzC;cACE,OAAOlE,KAAK6pD,SAASphD,SAASzI,KAAK8pD;AACrC;cAiCFpB,EAAqBvR,GAAUyR,GAAmB;YAChDpR,WAAW;YACXn3C,OAAO,SAAU6E;cACf,SAAIujD,EAAmCzoD,MAAMkF,MACzClF,SAASm3C,KACNjyC,KAAUA,EAAOk4B,0BAA0ByrB;AACpD;cAIF1R,EAAS9wC,UAAUs+B,OAAO;YACxBgR,EAAe31C,MAAM,IAAI8oD;AAC3B,aA0CA3R,EAAS9wC,UAAUsnB,QAAQ,SAAUmmB,GAAOtmB,GAAUmmB;YACpD,QAAM,MAAC/O,EAAO5kC,MAAM8zC,GAAOtmB,GAAUmmB;AACvC,aACAwD,EAAS9wC,UAAU6kD,OAAO;YACxBlrD,KAAKo9B,eAAeisB;AACtB,aACAlS,EAAS9wC,UAAU8kD,SAAS;YAC1B,MAAMl+C,IAAQjN,KAAKo9B;YACfnwB,EAAMo8C,WACRp8C,EAAMo8C,UACDp8C,EAAMkkC,WAASgZ,EAAYnqD,MAAMiN;AAE1C,aACAkqC,EAAS9wC,UAAU+kD,qBAAqB,SAA4B59B;YAGlE,IADwB,mBAAbA,MAAuBA,IAAWm7B,EAA2Bn7B,MACnEtiB,EAAOuiB,WAAWD,IAAW,MAAM,IAAIy7B,EAAqBz7B;YAEjE,OADAxtB,KAAKo9B,eAAewkB,kBAAkBp0B,GAC/BxtB;AACT,aA+MAm3C,EAAS9wC,UAAUu+B,SAAS,SAAUkP,GAAOtmB,GAAUmmB;YACrD,KAAI3zC,KAAKkqD,SAWP,MAAM,IAAIlJ,EAA2B;YAVrChhD,KAAKkqD,QACH,EACE;cACEpW,OAAAA;cACAtmB,UAAAA;iBAGJmmB;AAKN,aACAwD,EAAS9wC,UAAU6jD,UAAU,MAC7B/S,EAAS9wC,UAAUsmB,MAAM,SAAUmnB,GAAOtmB,GAAUmmB;YAClD,MAAM1mC,IAAQjN,KAAKo9B;YASnB,IAAIW;YACJ,IATqB,qBAAV+V,KACTH,IAAKG,GACLA,IAAQ,MACRtmB,IAAW,QACkB,qBAAbA,MAChBmmB,IAAKnmB,GACLA,IAAW,OAGTsmB,QAAAA,GAAuC;cACzC,MAAM/0B,IAAM6lB,EAAO5kC,MAAM8zC,GAAOtmB;cAC5BzO,aAAene,MACjBm9B,IAAMhf;AAEV;YA+BA,OA5BI9R,EAAMo8C,WACRp8C,EAAMo8C,SAAS,GACfrpD,KAAKmrD,WAEHptB,MAEQ9wB,EAAMkoC,WAAYloC,EAAM2pC,SAUzB3pC,EAAM4pC,WACf9Y,IAAM,IAAIgrB,EAA4B,SAC7B97C,EAAMmxB,cACfL,IAAM,IAAIshB,EAAqB,WAN/BpyC,EAAM2pC,UAAAA;YACNwT,EAAYpqD,MAAMiN,IAAAA,IAClBA,EAAMkxB,SAAAA,KAMU,qBAAPwV,MACL5V,KAAO9wB,EAAM4pC,WACfxxB,EAAQ4Y,SAAS0V,GAAI5V,KAErB9wB,EAAMi8C,GAAavgD,KAAKgrC,KAGrB3zC;AACT,aA2GA82C,EAAuBK,EAAS9wC,WAAW;YACzC+qC,QAAQ;cACNoG,WAAW;cACXtzC;gBACE,SAAOlE,KAAKo9B,kBAAiBp9B,KAAKo9B,eAAegU;AACnD;;YAEFhT,WAAW;cACToZ,WAAW;cACXtzC;gBACE,SAAOlE,KAAKo9B,kBAAiBp9B,KAAKo9B,eAAegB;AACnD;cACAnzB,IAAI5K;gBAEEL,KAAKo9B,mBACPp9B,KAAKo9B,eAAegB,YAAY/9B;AAEpC;;YAEFgP,UAAU;cACRmoC,WAAW;cACXtzC;gBACE,MAAM08B,IAAI5gC,KAAKo9B;gBAKf,UAASwD,MAAAA,MAAKA,EAAEvxB,YAAuBuxB,EAAExC,aAAcwC,EAAEuU,WAAYvU,EAAEgW,UAAWhW,EAAEzC;AACtF;cACAlzB,IAAIwkB;gBAEEzvB,KAAKo9B,mBACPp9B,KAAKo9B,eAAe/tB,aAAaogB;AAErC;;YAEFmoB,kBAAkB;cAChBJ,WAAW;cACXtzC;gBACE,SAAOlE,KAAKo9B,kBAAiBp9B,KAAKo9B,eAAeyZ;AACnD;;YAEFjD,oBAAoB;cAClB4D,WAAW;cACXtzC;gBACE,SAAOlE,KAAKo9B,kBAAiBp9B,KAAKo9B,eAAesc;AACnD;;YAEFhC,gBAAgB;cACdF,WAAW;cACXtzC;gBACE,OAAOlE,KAAKo9B,kBAAkBp9B,KAAKo9B,eAAe6tB;AACpD;;YAEFnT,eAAe;cACbN,WAAW;cACXtzC;gBACE,SAAOlE,KAAKo9B,kBAAiBp9B,KAAKo9B,eAAewZ;AACnD;;YAEFmB,mBAAmB;cACjBP,WAAW;cACXtzC;gBACE,MAAM+2C,IAASj7C,KAAKo9B;gBACpB,SAAK6d,MACGA,EAAO7c,cAAc6c,EAAOrE,UAAUqE,EAAOsJ;AACvD;;YAEF9M,uBAAuB;cACrBD,WAAW;cACXtzC;gBACE,OAAOlE,KAAKo9B,kBAAkBp9B,KAAKo9B,eAAewe;AACpD;;YAEF/D,gBAAgB;cACdL,WAAW;cACXtzC;gBACE,OAAOlE,KAAKo9B,iBAAiBp9B,KAAKo9B,eAAeisB,SAAS;AAC5D;;YAEF1R,gBAAgB;cACdH,WAAW;cACXtzC;gBACE,OAAOlE,KAAKo9B,kBAAkBp9B,KAAKo9B,eAAe30B;AACpD;;YAEF0sC,SAAS;cACPqC,WAAW;cACXvzC,aAAW;cACXC;gBACE,OAAOlE,KAAKo9B,iBAAiBp9B,KAAKo9B,eAAe+X,UAAU;AAC7D;;YAEFkW,iBAAiB;cACf7T,WAAW;cACXvzC,aAAW;cACXC,KAAK;gBACH,gBACElE,KAAKo9B,eAAe/tB,aACnBrP,KAAKo9B,eAAegB,cAAap+B,KAAKo9B,eAAe+X,WACrDn1C,KAAKo9B,eAAeyZ;AAEzB;;;UAGJ,MAAMzb,IAAUgkB,EAAYhkB;UAkB5B,IAAIic;UAGJ,SAASE;YAEP,YAAO,MADHF,MAAkCA,IAAqB,CAAC,IACrDA;AACT;UAvBAF,EAAS9wC,UAAU+0B,UAAU,SAAU2C,GAAK4V;YAC1C,MAAM1mC,IAAQjN,KAAKo9B;YAOnB,QAJKnwB,EAAMmxB,cAAcnxB,EAAM68C,gBAAgB78C,EAAM48C,SAASphD,UAAUwE,EAAMi8C,GAAazgD,WACzF4c,EAAQ4Y,SAASssB,GAAat9C,IAEhCmuB,EAAQhyB,KAAKpJ,MAAM+9B,GAAK4V,IACjB3zC;AACT,aACAm3C,EAAS9wC,UAAUk9C,aAAanE,EAAY5I,WAC5CW,EAAS9wC,UAAUouC,WAAW,SAAU1W,GAAK4V;YAC3CA,EAAG5V;AACL,aACAoZ,EAAS9wC,UAAU61C,EAAGsH,0BAA0B,SAAUzlB;YACxD/9B,KAAKo7B,QAAQ2C;AACf,aAQAoZ,EAASa,UAAU,SAAUsT,GAAgB/kD;YAC3C,OAAOgxC,IAAiBgU,oCAAoCD,GAAgB/kD;AAC9E,aACA4wC,EAASgB,QAAQ,SAAUqT;YACzB,OAAOjU,IAAiBkU,oCAAoCD;AAC9D;AAAA;QAAA;UAAA;UC5yBA,OAAM,cACJvP,GAAY,wBACZyP,GAAsB,oBACtBC,GAAkB,mBAClBC,GAAiB,iBACjBnL,GAAe,aACfvhB,GAAW,wBACX2sB,GAAsB,wBACtBC,GAAsB,gBACtBpL,GAAc,+BACdqL,GAA6B,qBAC7BC,GAAmB,QACnBtlD,GAAM,4BACNulD,GAA0B,qBAC1BC,KACEzrD,EAAQ,QACN,iBACJ0rD,GACA1a,QAAO,qBAAE2a,GAAmB,sBAAEtzB,GAAoB,uBAAEua,GAAqB,kBAAExa,GAAgB,oBAAEwzB,MAC3F5rD,EAAQ,QACN,mBAAE6rD,KAAsB7rD,EAAQ,QAChC,iBAAE8rD,GAAe,mBAAEC,KAAsB/rD,EAAA,aACzCgsD,IAAU,CAAC,GAiBXC,IAAW,YAuCX/P,IAAkBwP,GAAAA,CAAiB9rD,GAAOiG,GAAMuhB,IAAMikC,GAAwBpzC,IAAMmzC;YACxF,IAAqB,mBAAVxrD,GAAoB,MAAM,IAAIy4B,EAAqBxyB,GAAM,UAAUjG;YAC9E,KAAKogD,EAAgBpgD,IAAQ,MAAM,IAAIw4B,EAAiBvyB,GAAM,cAAcjG;YAC5E,IAAIA,IAAQwnB,KAAOxnB,IAAQqY,GAAK,MAAM,IAAImgB,EAAiBvyB,GAAM,MAAMuhB,WAAanP,KAAOrY;AAAK,eAa5FssD,IAAgBR,GAAAA,CAAiB9rD,GAAOiG,GAAMuhB,KAAAA,YAAmBnP,IAAM;YAE3E,IAAqB,mBAAVrY,GACT,MAAM,IAAIy4B,EAAqBxyB,GAAM,UAAUjG;YAEjD,KAAKogD,EAAgBpgD,IACnB,MAAM,IAAIw4B,EAAiBvyB,GAAM,cAAcjG;YAEjD,IAAIA,IAAQwnB,KAAOxnB,IAAQqY,GACzB,MAAM,IAAImgB,EAAiBvyB,GAAM,MAAMuhB,WAAanP,KAAOrY;AAC5D,eAYGusD,IAAiBT,GAAAA,CAAiB9rD,GAAOiG,GAAMumD,KAAAA;YACnD,IAAqB,mBAAVxsD,GACT,MAAM,IAAIy4B,EAAqBxyB,GAAM,UAAUjG;YAEjD,KAAKogD,EAAgBpgD,IACnB,MAAM,IAAIw4B,EAAiBvyB,GAAM,cAAcjG;YAEjD,MAAMwnB,IAAMglC,IAAW,IAAI,GAErBn0C,IAAM;YACZ,IAAIrY,IAAQwnB,KAAOxnB,IAAQqY,GACzB,MAAM,IAAImgB,EAAiBvyB,GAAM,MAAMuhB,WAAanP,KAAOrY;AAC5D;UAWH,SAASysD,EAAezsD,GAAOiG;YAC7B,IAAqB,mBAAVjG,GAAoB,MAAM,IAAIy4B,EAAqBxyB,GAAM,UAAUjG;AAChF;UAoCA,MAAM0sD,IAAgBZ,GAAAA,CAAiB9rD,GAAOiG,GAAM0mD;YAClD,KAAKtB,EAAuBsB,GAAO3sD,IAAQ;cACzC,MAAMygB,IAAU6qC,EACdC,EAAkBoB,IAAQnzC,KAAoB,mBAANA,IAAiB,IAAIA,OAAOnT,EAAOmT,MAC3E;cAGF,MAAM,IAAIw5B,EAAsB/sC,GAAMjG,GADvB,qBAAqBygB;AAEtC;AAAA;UAWF,SAASm5B,EAAgB55C,GAAOiG;YAC9B,IAAqB,oBAAVjG,GAAqB,MAAM,IAAIy4B,EAAqBxyB,GAAM,WAAWjG;AAClF;UAQA,SAAS4sD,EAA6B1mD,GAASjB,GAAK4nD;YAClD,OAAkB,QAAX3mD,KAAoBwlD,EAA8BxlD,GAASjB,KAAsBiB,EAAQjB,KAAvB4nD;AAC3E;UAcA,MAAMlT,IAAiBmS,GAAAA,CAAiB9rD,GAAOiG,GAAMC,IAAU;YAC7D,MAAM4mD,IAAaF,EAA6B1mD,GAAS,mBACnD6mD,IAAgBH,EAA6B1mD,GAAS;YAE5D,KADiB0mD,EAA6B1mD,GAAS,mBAE7B,SAAVlG,MACZ8sD,KAAclR,EAAa57C,MACX,mBAAVA,OAAwB+sD,KAAkC,qBAAV/sD,IAExD,MAAM,IAAIy4B,EAAqBxyB,GAAM,UAAUjG;AAChD,eAeGgtD,IAAqBlB,GAAAA,CAAiB9rD,GAAOiG;YACjD,IAAa,QAATjG,KAAkC,mBAAVA,KAAuC,qBAAVA,GACvD,MAAM,IAAIy4B,EAAqBxyB,GAAM,gBAAgBjG;AACtD,eAYGitD,IAAgBnB,GAAAA,CAAiB9rD,GAAOiG,GAAMinD,IAAY;YAC9D,KAAKtR,EAAa57C,IAChB,MAAM,IAAIy4B,EAAqBxyB,GAAM,SAASjG;YAEhD,IAAIA,EAAMoI,SAAS8kD,GAEjB,MAAM,IAAIla,EAAsB/sC,GAAMjG,GADvB,uBAAuBktD;AAEvC,eAwDGC,IAAiBrB,GAAAA,CAAiBhhD,GAAQ7E,IAAO;YACrD,KAAKkmD,EAAkBrhD,IACrB,MAAM,IAAI2tB,EAAqBxyB,GAAM,EAAC,UAAU,cAAc,cAAa6E;AAC5E,eA2CG2uC,IAAsBqS,GAAAA,CAAiBra,GAAQxrC;YACnD,eAAIwrC,MAAoC,SAAXA,KAAqC,mBAAXA,OAAyB,aAAaA,KAC3F,MAAM,IAAIhZ,EAAqBxyB,GAAM,eAAewrC;AACrD,eAWGiI,IAAmBoS,GAAAA,CAAiB9rD,GAAOiG;YAC/C,IAAqB,qBAAVjG,GAAsB,MAAM,IAAIy4B,EAAqBxyB,GAAM,YAAYjG;AAAK,eAWnFotD,IAAwBtB,GAAAA,CAAiB9rD,GAAOiG;YACpD,IAAqB,qBAAVjG,KAAwBksD,EAAgBlsD,IAAQ,MAAM,IAAIy4B,EAAqBxyB,GAAM,YAAYjG;AAAK,eAW7GqtD,IAAoBvB,GAAAA,CAAiB9rD,GAAOiG;YAChD,eAAIjG,GAAqB,MAAM,IAAIy4B,EAAqBxyB,GAAM,aAAajG;AAAK,eAuB5EstD,IAAkB;UAMxB,SAASC,EAAyBvtD,GAAOiG;YACvC,eAAWjG,MAA0B2rD,EAAoB2B,GAAiBttD,IACxE,MAAM,IAAIgzC,EACR/sC,GACAjG,GACA;AAGN;UAgCAT,EAAOC,UAAU;YACfguD,SApcF,SAAiBxtD;cACf,OAAOA,OAAmB,IAARA;AACpB;YAmcEytD,UA7bF,SAAkBztD;cAChB,OAAOA,MAAUA,MAAU;AAC7B;YA4bE0tD,eA5aF,SAAuB1tD,GAAOiG,GAAM0nD;cAIlC,eAHW3tD,MACTA,IAAQ2tD,IAEW,mBAAV3tD,GAAoB;gBAC7B,IAA6C,SAAzC2rD,EAAoBU,GAAUrsD,IAChC,MAAM,IAAIgzC,EAAsB/sC,GAAMjG,GApB3B;gBAsBbA,IAAQqgD,EAAergD,GAAO;AAChC;cAEA,OADAusD,EAAevsD,GAAOiG,IACfjG;AACT;YAiaEitD,eAAAA;YACAW,qBA5MF,SAA6B5tD,GAAOiG;cAClCgnD,EAAcjtD,GAAOiG;cACrB,KAAK,IAAIoC,IAAI,GAAGA,IAAIrI,EAAMoI,QAAQC,KAChCokD,EAAezsD,EAAMqI,IAAI,GAAGpC,KAAQoC;AAExC;YAwMEwlD,sBA9LF,SAA8B7tD,GAAOiG;cACnCgnD,EAAcjtD,GAAOiG;cACrB,KAAK,IAAIoC,IAAI,GAAGA,IAAIrI,EAAMoI,QAAQC,KAChCuxC,EAAgB55C,EAAMqI,IAAI,GAAGpC,KAAQoC;AAEzC;YA0LEuxC,iBAAAA;YACAuT,gBAAAA;YACAH,oBAAAA;YACAc,kBA1JF,SAA0BntD,GAAMwsB;cAC9B,MAAM4gC,IAAqB9B,EAAkB9+B,IACvC/kB,IAASzH,EAAKyH;cACpB,IAA2B,UAAvB2lD,KAAgC3lD,IAAS,KAAM,GACjD,MAAM,IAAI4qC,EAAsB,YAAY7lB,GAAU,iCAAiC/kB;AAE3F;YAqJEsxC,kBAAAA;YACA4S,eAAAA;YACAhQ,iBAAAA;YACArnB,gBApVF,SAAwBj1B,GAAOiG,GAAMuhB,GAAiBnP;cACpD,IAAqB,mBAAVrY,GAAoB,MAAM,IAAIy4B,EAAqBxyB,GAAM,UAAUjG;cAC9E,IACU,QAAPwnB,KAAexnB,IAAQwnB,KAChB,QAAPnP,KAAerY,IAAQqY,MACf,QAAPmP,KAAsB,QAAPnP,MAAgBwmB,EAAY7+B,IAE7C,MAAM,IAAIw4B,EACRvyB,GACA,GAAU,QAAPuhB,IAAc,MAAMA,MAAQ,KAAY,QAAPA,KAAsB,QAAPnP,IAAc,SAAS,KAAY,QAAPA,IAAc,MAAMA,MAAQ,MAC3GrY;AAGN;YAwUE25C,gBAAAA;YACA+S,eAAAA;YACAU,uBAAAA;YACAY,cAlJF,SAAsBC,GAAMhoD,IAAO,QAAQioD,KAAAA;cACzC,IACmB,mBAATD,KAAqC,mBAATA,KACnB,mBAATA,KAA0D,MAArCpC,EAAoBoC,GAAM7lD,WACtD6lD,MAAUA,MAAS,KACpBA,IAAO,SACG,MAATA,MAAeC,GAEhB,MAAM,IAAInC,EAAoB9lD,GAAMgoD,GAAMC;cAE5C,OAAc,IAAPD;AACT;YAwIEE,oBA/LF,SAA4B1c,GAAQxrC,IAAO;cAEzC,IADAwmD,EAAehb,GAAQxrC,SAAAA,MACnBmmD,EAAQ3a,IAAuB;gBACjC,eAAI2a,EAAQR,EAA2Bna,KACrC,MAAM,IAAIua,EAAmBva,IAAS;gBAExC,MAAM,IAAIua,EAAmBva;AAC/B;AACF;YAwLEgb,gBAAAA;YACAF,gBAAAA;YACAc,mBAAAA;YACAe,eAnFF,SAAuBpuD,GAAOiG,GAAM0F;cAClC,KAAK0/C,EAAuB1/C,GAAO3L,IACjC,MAAM,IAAIy4B,EAAqBxyB,GAAM,KAAKqlD,EAAmB3/C,GAAO,UAAU3L;AAElF;YAgFEy5C,qBAAAA;YACA4U,yBAnDF,SAAiCC;cAC/B,IAAqB,mBAAVA,GAET,OADAf,EAAyBe,GAAO,UACzBA;cACF,IAAI1S,EAAa0S,IAAQ;gBAC9B,MAAMC,IAAcD,EAAMlmD;gBAC1B,IAAIgE,IAAS;gBACb,IAAoB,MAAhBmiD,GACF,OAAOniD;gBAET,KAAK,IAAI/D,IAAI,GAAGA,IAAIkmD,GAAalmD,KAAK;kBACpC,MAAMmmD,IAAOF,EAAMjmD;kBACnBklD,EAAyBiB,GAAM,UAC/BpiD,KAAUoiD,GACNnmD,MAAMkmD,IAAc,MACtBniD,KAAU;AAEd;gBACA,OAAOA;AACT;cACA,MAAM,IAAI4mC,EACR,SACAsb,GACA;AAEJ;;AAAC;QAAD;UAAA;UCheA,MAAMG,IAAeruD,EAAQ,OACvBsuD,IAAWtuD,EAAQ,OACnBuuD,IAAkBF,EAAa5X,SAAS9b;UAC9Cx7B,EAAOC,UAAUivD,EAAa5X,UAG9Bt3C,EAAOC,QAAQyiD,sBAAsBwM,EAAaxM,qBAClD1iD,EAAOC,QAAQwiD,gBAAgByM,EAAazM;UAC5CziD,EAAOC,QAAQqnD,cAAc4H,EAAa5H,aAC1CtnD,EAAOC,QAAQunD,YAAY0H,EAAa1H,WACxCxnD,EAAOC,QAAQmzC,aAAa8b,EAAa9b,YACzCpzC,EAAOC,QAAQq3C,WAAW4X,EAAa5X;UACvCt3C,EAAOC,QAAQs3C,WAAW2X,EAAa3X,UACvCv3C,EAAOC,QAAQizC,SAASgc,EAAahc,QACrClzC,EAAOC,QAAQs/C,YAAY2P,EAAa3P,WACxCv/C,EAAOC,QAAQq/C,cAAc4P,EAAa5P;UAC1Ct/C,EAAOC,QAAQgyC,iBAAiBid,EAAajd,gBAC7CjyC,EAAOC,QAAQg3C,WAAWiY,EAAajY,UACvCj3C,EAAOC,QAAQu7B,UAAU0zB,EAAa1zB,SACtCx7B,EAAOC,QAAQu7B,UAAU4zB;UACzBpvD,EAAOC,QAAQgzC,WAAWic,EAAajc,UACvCjzC,EAAOC,QAAQ0+C,UAAUuQ,EAAavQ,SACtCp+C,OAAOC,eAAe0uD,GAAc,YAAY;YAC9Cx/C,eAAa;YACbrL,aAAW;YACXC,KAAG,MACM6qD;cAGXnvD,EAAOC,QAAQs8C,SAAS2S,EAAa3S,QAGrCv8C,EAAOC,QAAP,UAAyBD,EAAOC;AAAAA;QAAAA,MAAAA,CAAAA,GAAAA,GAAAA;UAAAA;UChChC,OAAM,QAAEic,GAAM,SAAEiX,GAASk8B,gBAAgBC,KAAyBzuD,EAAQ,OAWpEwuD,IAAiBnW,WAAWmW,kBAAkBC,GAC9CC,IAAevhD,OAAO,iBACtBwhD,IAAS,EACb,UACA,YACA,UACA,UAEA,YACA,UACA,WACA,UACA,YAEIC,IAAc,uBAEd5d,IAAQ,CAAC;UACf,SAAS7rC,EAAOvF,GAAOU;YACrB,KAAKV,GACH,MAAM,IAAIoxC,EAAM6d,uBAAuBvuD;AAE3C;UAGA,SAAS63B,EAAsBnJ;YAC7B,IAAIlF,IAAM,IACN7hB,IAAI+mB,EAAIhnB;YACZ,MAAMyiB,IAAmB,QAAXuE,EAAI,KAAa,IAAI;YACnC,MAAO/mB,KAAKwiB,IAAQ,GAAGxiB,KAAK,GAC1B6hB,IAAM,IAAIkF,EAAI7oB,MAAM8B,IAAI,GAAGA,KAAK6hB;YAElC,OAAO,GAAGkF,EAAI7oB,MAAM,GAAG8B,KAAK6hB;AAC9B;UAoBA,SAASiO,EAAE13B,GAAMC,GAAS43B;YACnBA,MACHA,IAAO/3B;YAET,MAAM2uD,UAAkB52B;cACtB93B,eAAe2kB;gBACbrkB,MAzBN,SAAoBmE,GAAK4zB,GAAK1T;kBAC5B,IAAmB,qBAAR0T,GAMT,OALAtzB,EACEszB,EAAIzwB,UAAU+c,EAAK/c,QAEnB,SAASnD,qCAAuCkgB,EAAK/c,6CAA6CywB,EAAIzwB;kBAEjGywB,KAAO1T;kBAEhB,MAAMgqC,KAAkBt2B,EAAI1kB,MAAM,kBAAkB,IAAI/L;kBAKxD,OAJA7C,EACE4pD,MAAmBhqC,EAAK/c,QACxB,SAASnD,qCAAuCkgB,EAAK/c,6CAA6C+mD;kBAEhF,MAAhBhqC,EAAK/c,SACAywB,IAEFpd,EAAOod,MAAQ1T;AACxB,iBAlBA,CAyBuB1kB,GAAMC,GAASykB;AAClC;cACA9jB;gBACE,OAAO,GAAG1B,KAAKsG,SAASxF,OAAUd,KAAKe;AACzC;;YAEFZ,OAAOsvD,iBAAiBF,EAAUlpD,WAAW;cAC3CC,MAAM;gBACJjG,OAAOs4B,EAAKryB;gBACZ+I,WAAS;gBACTpL,aAAW;gBACXqL,eAAa;;cAEf5N,UAAU;gBACRrB;kBACE,OAAO,GAAGL,KAAKsG,SAASxF,OAAUd,KAAKe;AACzC;gBACAsO,WAAS;gBACTpL,aAAW;gBACXqL,eAAa;;gBAGjBigD,EAAUlpD,UAAUvF,OAAOA,GAC3ByuD,EAAUlpD,UAAU8oD,MAAAA,GACpB1d,EAAM3wC,KAAQyuD;AAChB;UACA,SAASpD,EAAgBlmD;YAGvB,MAAMypD,IAxEmB,qBAwEWzpD,EAAGK;YAIvC,OAHAnG,OAAOC,eAAe6F,GAAI,QAAQ;cAChC5F,OAAOqvD;gBAEFzpD;AACT;UAcA,MAAMurC,UAAmB5wC;YACvBC,YAAYE,IAAU,6BAA6BwF;cACjD,eAAIA,KAA4C,mBAAZA,GAClC,MAAM,IAAIkrC,EAAM3Y,qBAAqB,WAAW,UAAUvyB;cAE5DpF,MAAMJ,GAASwF,IACfvG,KAAKc,OAAO,aACZd,KAAKsG,OAAO;AACd;;UAEFkyB,EAAE,iBAAiB,MAAM53B,QACzB43B,EACE,0BACClyB,GAAMqpD,GAAUjiC;YACf9nB,EAAuB,mBAATU,GAAmB,4BAC5B1C,MAAMC,QAAQ8rD,OACjBA,IAAW,EAACA;YAEd,IAAIz2B,IAAM;YACN5yB,EAAKK,SAAS,eAEhBuyB,KAAO,GAAG5yB,OAEV4yB,KAAO,IAAI5yB,MAASA,EAAKsV,SAAS,OAAO,aAAa,eAExDsd,KAAO;YACP,MAAMkN,IAAQ,IACRwpB,IAAY,IACZnuC,IAAQ;YACd,KAAK,MAAMphB,KAASsvD,GAClB/pD,EAAwB,mBAAVvF,GAAoB,mDAC9B+uD,EAAOxzC,SAASvb,KAClB+lC,EAAMz9B,KAAKtI,EAAM8I,iBACRkmD,EAAY9zC,KAAKlb,KAC1BuvD,EAAUjnD,KAAKtI,MAEfuF,EAAiB,aAAVvF,GAAoB;YAC3BohB,EAAM9Y,KAAKtI;YAMf,IAAIuvD,EAAUnnD,SAAS,GAAG;cACxB,MAAMgqB,IAAM2T,EAAM1Z,QAAQ;eACb,MAAT+F,MACF2T,EAAMnb,OAAOmb,GAAO3T,GAAK,IACzBm9B,EAAUjnD,KAAK;AAEnB;YACA,IAAIy9B,EAAM39B,SAAS,GAAG;cACpB,QAAQ29B,EAAM39B;eACZ,KAAK;gBACHywB,KAAO,WAAWkN,EAAM;gBACxB;;eACF,KAAK;gBACHlN,KAAO,eAAekN,EAAM,SAASA,EAAM;gBAC3C;;eACF;gBAAS;kBACP,MAAM7Q,IAAO6Q,EAAM9rB;kBACnB4e,KAAO,eAAekN,EAAMn9B,KAAK,aAAassB;AAChD;;eAEEq6B,EAAUnnD,SAAS,KAAKgZ,EAAMhZ,SAAS,OACzCywB,KAAO;AAEX;YACA,IAAI02B,EAAUnnD,SAAS,GAAG;cACxB,QAAQmnD,EAAUnnD;eAChB,KAAK;gBACHywB,KAAO,kBAAkB02B,EAAU;gBACnC;;eACF,KAAK;gBACH12B,KAAO,kBAAkB02B,EAAU,SAASA,EAAU;gBACtD;;eACF;gBAAS;kBACP,MAAMr6B,IAAOq6B,EAAUt1C;kBACvB4e,KAAO,kBAAkB02B,EAAU3mD,KAAK,aAAassB;AACvD;;cAEE9T,EAAMhZ,SAAS,MACjBywB,KAAO;AAEX;YACA,QAAQzX,EAAMhZ;aACZ,KAAK;cACH;;aACF,KAAK;cACCgZ,EAAM,GAAGtY,kBAAkBsY,EAAM,OACnCyX,KAAO,QAETA,KAAO,GAAGzX,EAAM;cAChB;;aACF,KAAK;cACHyX,KAAO,UAAUzX,EAAM,SAASA,EAAM;cACtC;;aACF;cAAS;gBACP,MAAM8T,IAAO9T,EAAMnH;gBACnB4e,KAAO,UAAUzX,EAAMxY,KAAK,aAAassB;AAC3C;;YAEF,IAAc,QAAV7H,GACFwL,KAAO,cAAcxL,UAChB,IAAsB,qBAAXA,KAAyBA,EAAOpnB,MAChD4yB,KAAO,uBAAuBxL,EAAOpnB,aAChC,IAAsB,mBAAXonB,GAAqB;cACrC,IAAImiC;cAE6C,UAA9CA,IAAsBniC,EAAO7sB,qBAAAA,MAC9BgvD,KACAA,EAAoBvpD,OAEpB4yB,KAAO,6BAA6BxL,EAAO7sB,YAAYyF,SAKvD4yB,KAAO,cAHWnG,EAAQrF,GAAQ;gBAChCkW,QAAQ;;AAId,mBAAO;cACL,IAAIksB,IAAY/8B,EAAQrF,GAAQ;gBAC9B6N,SAAO;;cAELu0B,EAAUrnD,SAAS,OACrBqnD,IAAY,GAAGA,EAAUlpD,MAAM,GAAG,WAEpCsyB,KAAO,0BAA0BxL,MAAWoiC;AAC9C;YACA,OAAO52B;AAAAA,cAEThvB,YAEFsuB,EACE,2BACClyB,GAAMjG,GAAO4xC,IAAS;YACrB,IAAI6d,IAAY/8B,EAAQ1yB;YAKxB,OAJIyvD,EAAUrnD,SAAS,QACrBqnD,IAAYA,EAAUlpD,MAAM,GAAG,OAAO,QAGjC,OADMN,EAAKsV,SAAS,OAAO,aAAa,eACxBtV,MAAS2rC,eAAoB6d;AAAU,cAEhE5lD,YAEFsuB,EACE,8BACCS,GAAO3yB,GAAMjG;YACZ,IAAI0vD;YASJ,OAAO,YAAY92B,8BAAkC3yB,uBAPnDjG,QAAAA,KAE6C,UAA5C0vD,IAAqB1vD,EAAMQ,qBAAAA,MAC5BkvD,KACAA,EAAmBzpD,OACf,eAAejG,EAAMQ,YAAYyF,SACjC,iBAAejG;AACoE,cAE3F6J,YAEFsuB,EACE,yBACIhT;YAEF,IAAI0T;YADJtzB,EAAO4f,EAAK/c,SAAS,GAAG;YAExB,MAAMyR,IAAMsL,EAAK/c;YAEjB,QADA+c,KAAQ5hB,MAAMC,QAAQ2hB,KAAQA,IAAO,EAACA,KAAO3gB,KAAK+c,KAAM,IAAIA,OAAM3Y,KAAK,SAC/DiR;aACN,KAAK;cACHgf,KAAO,OAAO1T,EAAK;cACnB;;aACF,KAAK;cACH0T,KAAO,OAAO1T,EAAK,UAAUA,EAAK;cAClC;;aACF;cACE;gBACE,MAAM+P,IAAO/P,EAAKlL;gBAClB4e,KAAO,OAAO1T,EAAKvc,KAAK,cAAcssB;AACxC;;YAGJ,OAAO,GAAG2D;AAAI,cAEhBhvB,YAEFsuB,EACE,sBACC5H,GAAKta,GAAO2iB;YAEX,IAAIE;YAYJ,OAbAvzB,EAAO0Q,GAAO,6BAEVrV,OAAOC,UAAU+3B,MAAU9H,KAAKiI,IAAIH,KAAS,KAAK,KACpDE,IAAWP,EAAsBlyB,OAAOuyB,MACd,mBAAVA,KAChBE,IAAWzyB,OAAOuyB;aACdA,IAAQ,MAAM,OAAOA,MAAU,MAAM,UACvCE,IAAWP,EAAsBO,KAEnCA,KAAY,OAEZA,IAAWpG,EAAQkG,IAEd,iBAAiBrI,kCAAoCta,eAAmB6iB;AAAS,cAE1F/mB,aAEFomB,EAAE,yBAAyB,kCAAkC53B,QAC7D43B,EAAE,8BAA8B,oCAAoC53B;UACpE43B,EAAE,+BAA+B,8CAA8C53B,QAC/E43B,EAAE,0BAA0B,6BAA6B53B;UACzD43B,EAAE,wBAAwB,+CAA+C53B,QACzE43B,EAAE,0BAA0B,uCAAuCtuB;UACnEsuB,EAAE,8BAA8B,mBAAmB53B,QACnD43B,EAAE,6BAA6B,2BAA2B53B;UAC1D43B,EAAE,sCAAsC,oCAAoC53B,QAC5E43B,EAAE,8BAA8B,mBAAmB53B;UACnD43B,EAAE,wBAAwB,wBAAwBtuB,YAClDtK,EAAOC,UAAU;YACf2xC,YAAAA;YACAkD,oBAAoByX,GAAAA,SAvOM6D,GAAYC;cACtC,IAAID,KAAcC,KAAcD,MAAeC,GAAY;gBACzD,IAAIrsD,MAAMC,QAAQosD,EAAWl+C,SAG3B,OADAk+C,EAAWl+C,OAAOpJ,KAAKqnD,IAChBC;gBAET,MAAMlyB,IAAM,IAAIkxB,EAAe,EAACgB,GAAYD,KAAaC,EAAWlvD;gBAEpE,OADAg9B,EAAIj9B,OAAOmvD,EAAWnvD,MACfi9B;AACT;cACA,OAAOiyB,KAAcC;AACtB;YA4NC9D,iBAAAA;YACA1a,OAAAA;;AAAAA;QAAAA,MAAAA;UAAAA;UC1UF7xC,EAAOC,UAAU;YACfo8C,cAAan8C,KACJ8D,MAAMC,QAAQ/D;YAEvB4rD,wBAAsB,CAAC5rD,GAAMowD,MACpBpwD,EAAK8b,SAASs0C;YAEvB1P,uBAAqB,CAAC1gD,GAAMowD,MACnBpwD,EAAK4sB,QAAQwjC;YAEtBvE,oBAAkB,CAAC7rD,GAAMqwD,MAChBrwD,EAAKmJ,KAAKknD;YAEnBvE,mBAAiB,CAAC9rD,GAAMmG,MACfnG,EAAK+E,IAAIoB;YAElBmqD,mBAAiB,CAACtwD,GAAMowD,MACfpwD,EAAKwa,IAAI41C;YAElBpT,oBAAkB,CAACh9C,GAAMowD,MAChBpwD,EAAK6I,KAAKunD;YAEnB1H,qBAAmB,CAAC1oD,GAAMorB,GAAOyB,MACxB7sB,EAAK8G,MAAMskB,GAAOyB;YAE3B/rB;YACAo4C,uBAAqB,CAAC/yC,GAAIoqD,MAAa7qC,MAC9Bvf,EAAGmD,KAAKinD,MAAa7qC;YAE9BijC,oCAAkC,CAAC3oD,GAAMyM,MAChCwyB,SAAS14B,UAAUuH,OAAO0iD,aAAalnD,KAAKtJ,GAAMyM;YAE3DwwC,WAAW5rB,KAAK4H;YAChB93B;YACAw/C,iBAAiBx/C,OAAOC;YACxBg+B,aAAaj+B,OAAOmhB;YACpBypC,wBAAwB5qD,OAAOqJ;YAC/BwhD,wBAAwB7qD,OAAOsvD;YAC/B7P,gBAAgBz/C,OAAO4T;YACvBiiC,wBAAsB,CAACh3C,GAAMspC,MACpBjpC,OAAOsvD,iBAAiB3vD,GAAMspC;YAEvCsf,sBAAoB,CAAC5oD,GAAMwG,GAAMkqD,MACxBrwD,OAAOC,eAAeN,GAAMwG,GAAMkqD;YAE3CzZ,gCAA8B,CAACj3C,GAAMwG,MAC5BnG,OAAOiP,yBAAyBtP,GAAMwG;YAE/C0wC,YAAW3oB,KACFluB,OAAO+N,KAAKmgB;YAErB4oB,sBAAoB,CAACjkB,GAAQ5e,MACpBjU,OAAOktB,eAAe2F,GAAQ5e;YAEvCirB;YACAoxB,uBAAqB,CAAC3wD,GAAMmG,MACnBnG,EAAKs0C,MAAMnuC;YAEpBi0C,sBAAoB,CAACp6C,GAAM4wD,GAAQC,MAC1B7wD,EAAK65C,KAAK+W,GAAQC;YAE3B3T,eAAcjf,KACLsB,QAAQE,OAAOxB;YAExBe,cAAcD,QAAQ/M;YACtB8+B,qBAAmB,CAAC9wD,GAAMO,MACjBP,EAAKyb,KAAKlb;YAEnBsgD,SAASxyC;YACTzH;YACAyrC,sBAAoB,CAACryC,GAAMorB,GAAOyB,MACzB7sB,EAAK8G,MAAMskB,GAAOyB;YAE3Bg8B,4BAA2B7oD,KAClBA,EAAKqJ;YAEd8iD,4BAA2BnsD,KAClBA,EAAK2tC;YAEdye,qBAAoBpsD,KACXA,EAAKmY;YAEdrK;YACAs4C,WAAWt4C,OAAO+kC;YAClB8I,qBAAqB7tC,OAAOijD;YAC5BjI,mBAAmBh7C,OAAO0iD;YAC1Ble,gBAAgBxkC,OAAOC;YACvBwkC,wBAAsB,CAACvyC,GAAMstB,GAAKlT,MACzBpa,EAAKmL,IAAImiB,GAAKlT;YAEvBrR;;AAAU;QAAVA,MAAAA,CAAAA,GAAAA,GAAAA;UAAAA;UCjGF,MAAMyvC,IAAe73C,EAAQ,OACvBqwD,IAAgB3wD,OAAOkU,gBAAe,kBAAoB,IAAExT,aAC5Dg4C,IAAOC,WAAWD,QAAQP,EAAaO,MAEvCE,SAAAA,MACGF,IACH,SAAgBh3B;YAEd,OAAOA,aAAag3B;AACtB,cACA,SAAgBh3B;YACd,QAAM;AACR;UAIN,MAAMotC,UAAuBruD;YAC3BC,YAAYkR;cACV,KAAKnO,MAAMC,QAAQkO,IACjB,MAAM,IAAI7H,UAAU,+CAA6C6H;cAEnE,IAAIhR,IAAU;cACd,KAAK,IAAI2H,IAAI,GAAGA,IAAIqJ,EAAOtJ,QAAQC,KACjC3H,KAAW,OAAOgR,EAAOrJ,GAAGjH;cAE9BN,MAAMJ,IACNf,KAAKsG,OAAO,kBACZtG,KAAK+R,SAASA;AAChB;;UAEFnS,EAAOC,UAAU;YACfovD,gBAAAA;YACApV,cAAc15C,OAAOuN,OAAO,CAAC;YAC7BovB,KAAKI;cACH,IAAI+R,KAAAA;cACJ,OAAO,YAAazpB;gBACdypB,MAGJA,KAAAA,GACA/R,EAASpL,MAAM9xB,MAAMwlB;AACvB;AACF;YACAozB,uBAAuB;cACrB,IAAItZ,GACAC;cAOJ,OAAO;gBACL+Z,SALc,IAAIja,SAAQ,CAAC9U,GAAKwmC;kBAChCzxB,IAAU/U,GACVgV,IAASwxB;AAAAA;gBAITzxB,SAAAA;gBACAC,QAAAA;;AAEJ;YACAyxB,WAAU/qD,KACD,IAAIo5B,SAAQ,CAACC,GAASC;cAC3Bt5B,GAAAA,CAAI83B,MAAQvY,MACNuY,IACKwB,EAAOxB,KAETuB,KAAW9Z;AACnB;YAGLyrC,UAAQ,MACC,YAAa;YAEtBn1C,QAAM,CAACA,MAAW0J,MAET1J,EAAOe,QAAQ,gBAAc,aAAeq0C,GAASziC;cAC1D,MAAM0iC,IAAc3rC,EAAKgF;cACzB,OAAa,QAATiE,IACK0iC,EAAYC,QAAQ,KACT,QAAT3iC,IACFvc,KAAKC,UAAUg/C,KACJ,QAAT1iC,KAAuC,mBAAhB0iC,IAEzB,GADMA,EAAYtwD,gBAAgBV,SAASgxD,EAAYtwD,YAAYyF,OAAO,QAC7D2R,SAEbk5C,EAAYzvD;AAEtB;YAEHqxB,QAAQ1yB;cAEN,eAAeA;eACb,KAAK;gBACH,IAAIA,EAAMub,SAAS,MAAM;kBACvB,KAAKvb,EAAMub,SAAS,MAClB,OAAO,IAAIvb;kBACN,KAAKA,EAAMub,SAAS,SAASvb,EAAMub,SAAS,OACjD,OAAO,KAAKvb;AAEhB;gBACA,OAAO,IAAIA;;eACb,KAAK;gBACH,OAAI+hB,MAAM/hB,KACD,QACEF,OAAOyO,GAAGvO,IAAQ,KACpBqG,OAAOrG,KAETA;;eACT,KAAK;gBACH,OAAO,GAAGqG,OAAOrG;;eACnB,KAAK;eACL,KAAK;gBACH,OAAOqG,OAAOrG;;eAChB,KAAK;gBACH,OAAO;;AAEb;YACA+lC,OAAO;cACLmmB,iBAAgBtmD,KACPA,aAAc6qD;cAEvBtE,mBAAkBhyC,KACToT,YAAYC,OAAOrT;;YAG9Bu+B,QAAAA;aAEFn5C,EAAOC,QAAQmxD,UAAUhtD,SAAS4J,OAAO+kC,IAAI;AAAA;QAAA;UC7H7C,OAAM,QAAEznC,KAAWzK,EAAQ,QAyBrB,sBAAEioD,GAAoB,YAAE1R,GAAU,cAAElY,KAAiBr+B,EAAQ,QAEjEuwD,YAAahtD,QAAQqtD,MACnB5wD,EAAQ,QACN,0BAAEo9C,GAAwB,2BAAEY,KAA8Bh+C,EAAQ,QAEtEgxC,QAAO,yBAAE6f,MACP7wD,EAAQ,OACN89C,IAAU99C,EAAQ,OAClB,UAAEoyC,KAAapyC,EAAQ,QACvB,WAAEsyC,KAActyC,EAAQ,OACxBu8B,IAAMv8B,EAAQ,OAEdsuD,IAAWtuD,EAAQ,OACnB8wD,IAAQ9wD,EAAQ,OAChB07C,IAAUv8C,EAAOC,UAAUY,EAAjB;UAChB07C,EAAO+K,cAAcqK,EAAMrK,aAC3B/K,EAAOiL,YAAYmK,EAAMnK,WACzBjL,EAAOnJ,aAAaue,EAAMve,YAC1BmJ,EAAOjF,WAAWz2C,EAAQ;UAC1B,KAAK,MAAM6E,KAAO0xC,EAAW6G,IAA2B;YACtD,MAAMl7B,IAAKk7B,EAAyBv4C;YACpC,SAASW,KAAMuf;cACb,gBACE,MAAM8rC;cAER,OAAOnV,EAAOjF,SAASj3B,KAAK6e,EAAanc,GAAI3iB,MAAMwlB;AACrD;YACAkjC,EAAqBziD,GAAI,QAAQ;cAC/BuxC,WAAW;cACXn3C,OAAOsiB,EAAGrc;gBAEZoiD,EAAqBziD,GAAI,UAAU;cACjCuxC,WAAW;cACXn3C,OAAOsiB,EAAGla;gBAEZigD,EAAqBvM,EAAOjF,SAAS7wC,WAAWf,GAAK;cACnDkyC,WAAW;cACXn3C,OAAO4F;cACPhC,aAAW;cACXqL,eAAa;cACbD,WAAS;;AAEb;UACA,KAAK,MAAM/J,KAAO0xC,EAAWyH,IAA4B;YACvD,MAAM97B,IAAK87B,EAA0Bn5C;YACrC,SAASW,KAAMuf;cACb,gBACE,MAAM8rC;cAER,OAAOxyB,EAAanc,GAAI3iB,MAAMwlB;AAChC;YACAkjC,EAAqBziD,GAAI,QAAQ;cAC/BuxC,WAAW;cACXn3C,OAAOsiB,EAAGrc;gBAEZoiD,EAAqBziD,GAAI,UAAU;cACjCuxC,WAAW;cACXn3C,OAAOsiB,EAAGla;gBAEZigD,EAAqBvM,EAAOjF,SAAS7wC,WAAWf,GAAK;cACnDkyC,WAAW;cACXn3C,OAAO4F;cACPhC,aAAW;cACXqL,eAAa;cACbD,WAAS;;AAEb;UACA8sC,EAAOhF,WAAW12C,EAAQ,OAC1B07C,EAAOrJ,SAASryC,EAAQ,OACxB07C,EAAOgD,YAAY1+C,EAAQ,OAC3B07C,EAAO+C,cAAcz+C,EAAQ,MAC7B07C,EAAOtJ,WAAWA;UAClB,OAAM,gBAAEhB,KAAmBpxC,EAAQ;UACnC07C,EAAOtK,iBAAiBA,GACxBsK,EAAOtF,WAAW7Z,GAClBmf,EAAO/gB,UAAU2X,GACjBoJ,EAAOoC,UAAUA,GACjBmK,EAAqBvM,GAAQ,YAAY;YACvC3E,WAAW;YACXloC,eAAa;YACbrL,aAAW;YACXC,KAAG,MACM6qD;cAGXrG,EAAqB7V,GAAUwe,GAAiB;YAC9C7Z,WAAW;YACXvzC,aAAW;YACXC,KAAG,MACM6qD,EAASlc;cAGpB6V,EAAqB1rB,GAAKq0B,GAAiB;YACzC7Z,WAAW;YACXvzC,aAAW;YACXC,KAAG,MACM6qD,EAASlY;cAKpBsF,EAAOA,SAASA,GAChBA,EAAOkG,gBAAgB,SAAsBhiD;YAC3C,OAAOA,aAAiBwI;AAC1B,aACAszC,EAAOmG,sBAAsB,SAA6BxO;YACxD,OAAO5oC,EAAO+U,KAAK6zB,EAAM3oC,QAAQ2oC,EAAM1oC,YAAY0oC,EAAMrpC;AAC3D;AAAA;QAAA;UAAA;UCrIA,OAAM,mBAAE2lD,GAAiB,SAAE/wB,KAAY5+B,EAAQ,QACzC,YAAE83C,GAAU,cAAE7G,GAAY,aAAEC,KAAgBlxC,EAAQ,QAClDo/C,cAAc2R,KAAO/wD,EAAQ,QAC/B,UAAEo2C,KAAap2C,EAAQ;UAC7BA,EAAQ,OAiCRb,EAAOC,UAAU;YACfg3C,UAAAA;YACAhE,UAlCF,YAAqB7B;cACnB,OAAO,IAAI3R,GAAAA,CAASC,GAASC;gBAC3B,IAAIuS,GACAnlB;gBACJ,MAAM8kC,IAAUzgB,EAAQA,EAAQvoC,SAAS;gBACzC,IACEgpD,KACmB,mBAAZA,MACN/f,EAAa+f,OACblZ,EAAWkZ,OACX9f,EAAY8f,IACb;kBACA,MAAMlrD,IAAU6pD,EAAkBpf;kBAClCc,IAASvrC,EAAQurC,QACjBnlB,IAAMpmB,EAAQomB;AAChB;gBACA6kC,EACExgB,IAAAA,CACCjT,GAAK19B;kBACA09B,IACFwB,EAAOxB,KAEPuB,EAAQj/B;AACT,oBAEH;kBACEyxC,QAAAA;kBACAnlB,KAAAA;;AAEJ;AAEJ;;AAAC;QAAD;UCpCA,IAAIxhB,IAAS1K,EAAQ,OACjByK,IAASC,EAAOD;UAGpB,SAASwmD,EAAW3sC,GAAKwU;YACvB,KAAK,IAAIj0B,KAAOyf,GACdwU,EAAIj0B,KAAOyf,EAAIzf;AAEnB;UASA,SAASqsD,EAAYnuD,GAAK8pB,GAAkB7kB;YAC1C,OAAOyC,EAAO1H,GAAK8pB,GAAkB7kB;AACvC;UAVIyC,EAAO+U,QAAQ/U,EAAO8hB,SAAS9hB,EAAOqiB,eAAeriB,EAAOknB,kBAC9DxyB,EAAOC,UAAUsL,KAGjBumD,EAAUvmD,GAAQtL,IAClBA,EAAQqL,SAASymD,IAOnBA,EAAWtrD,YAAYlG,OAAOuM,OAAOxB,EAAO7E;UAG5CqrD,EAAUxmD,GAAQymD,IAElBA,EAAW1xC,OAAO,SAAUzc,GAAK8pB,GAAkB7kB;YACjD,IAAmB,mBAARjF,GACT,MAAM,IAAI0G,UAAU;YAEtB,OAAOgB,EAAO1H,GAAK8pB,GAAkB7kB;AACvC,aAEAkpD,EAAW3kC,QAAQ,SAAUxhB,GAAM2mB,GAAM3E;YACvC,IAAoB,mBAAThiB,GACT,MAAM,IAAItB,UAAU;YAEtB,IAAIkjB,IAAMliB,EAAOM;YAUjB,YAAO,MATH2mB,IACsB,mBAAb3E,IACTJ,EAAI+E,KAAKA,GAAM3E,KAEfJ,EAAI+E,KAAKA,KAGX/E,EAAI+E,KAAK,IAEJ/E;AACT,aAEAukC,EAAWpkC,cAAc,SAAU/hB;YACjC,IAAoB,mBAATA,GACT,MAAM,IAAItB,UAAU;YAEtB,OAAOgB,EAAOM;AAChB,aAEAmmD,EAAWv/B,kBAAkB,SAAU5mB;YACrC,IAAoB,mBAATA,GACT,MAAM,IAAItB,UAAU;YAEtB,OAAOiB,EAAO4hB,WAAWvhB;AAC3B;AAAA;QAAA;UAAA;UCvCA,IAAIN,IAASzK,EAAA,cAGTgtB,IAAaviB,EAAOuiB,cAAc,SAAUD;YAE9C,SADAA,IAAW,KAAKA,MACIA,EAASrkB;aAC3B,KAAK;aAAM,KAAK;aAAO,KAAK;aAAQ,KAAK;aAAQ,KAAK;aAAS,KAAK;aAAS,KAAK;aAAO,KAAK;aAAQ,KAAK;aAAU,KAAK;aAAW,KAAK;cACxI,QAAM;;aACR;cACE,QAAM;;AAEZ;UA0CA,SAASi4C,EAAc5zB;YAErB,IAAIokC;YACJ,QAFA5xD,KAAKwtB,WAXP,SAA2Bm2B;cACzB,IAAIkO,IA/BN,SAA4BlO;gBAC1B,KAAKA,GAAK,OAAO;gBAEjB,KADA,IAAImO,MAEF,QAAQnO;iBACN,KAAK;iBACL,KAAK;kBACH,OAAO;;iBACT,KAAK;iBACL,KAAK;iBACL,KAAK;iBACL,KAAK;kBACH,OAAO;;iBACT,KAAK;iBACL,KAAK;kBACH,OAAO;;iBACT,KAAK;iBACL,KAAK;iBACL,KAAK;kBACH,OAAOA;;iBACT;kBACE,IAAImO,GAAS;kBACbnO,KAAO,KAAKA,GAAKx6C,eACjB2oD,KAAAA;;AAGR,eA1BA,CA+BgCnO;cAC9B,IAAoB,mBAATkO,MAAsB3mD,EAAOuiB,eAAeA,MAAeA,EAAWk2B,KAAO,MAAM,IAAI/iD,MAAM,uBAAuB+iD;cAC/H,OAAOkO,KAAQlO;AACjB,aAJA,CAWoCn2B,IAE1BxtB,KAAKwtB;aACX,KAAK;cACHxtB,KAAK+xD,OAAOC,GACZhyD,KAAK2sB,MAAMslC,GACXL,IAAK;cACL;;aACF,KAAK;cACH5xD,KAAKkyD,WAAWC,GAChBP,IAAK;cACL;;aACF,KAAK;cACH5xD,KAAK+xD,OAAOK,GACZpyD,KAAK2sB,MAAM0lC,GACXT,IAAK;cACL;;aACF;cAGE,OAFA5xD,KAAK2tB,QAAQ2kC,SACbtyD,KAAK2sB,MAAM4lC;;YAGfvyD,KAAKwyD,WAAW,GAChBxyD,KAAKyyD,YAAY,GACjBzyD,KAAK0yD,WAAWxnD,EAAOqiB,YAAYqkC;AACrC;UAmCA,SAASe,EAAcxoD;YACrB,OAAIA,KAAQ,MAAa,IAAWA,KAAQ,KAAM,IAAa,IAAWA,KAAQ,KAAM,KAAa,IAAWA,KAAQ,KAAM,KAAa,IACpIA,KAAQ,KAAM,KAAQ,KAAK;AACpC;UA0DA,SAASgoD,EAAa/kC;YACpB,IAAI5d,IAAIxP,KAAKyyD,YAAYzyD,KAAKwyD,UAC1B/xD,IAtBN,SAA6BX,GAAMstB,GAAK5d;cACtC,IAAwB,QAAV,MAAT4d,EAAI,KAEP,OADAttB,EAAK0yD,WAAW,GACT;cAET,IAAI1yD,EAAK0yD,WAAW,KAAKplC,EAAI3kB,SAAS,GAAG;gBACvC,IAAwB,QAAV,MAAT2kB,EAAI,KAEP,OADAttB,EAAK0yD,WAAW,GACT;gBAET,IAAI1yD,EAAK0yD,WAAW,KAAKplC,EAAI3kB,SAAS,KACZ,QAAV,MAAT2kB,EAAI,KAEP,OADAttB,EAAK0yD,WAAW,GACT;AAGb;AACF,aAjBA,CAsB8BxyD,MAAMotB;YAClC,kBAAI3sB,IAAwBA,IACxBT,KAAKwyD,YAAYplC,EAAI3kB,UACvB2kB,EAAIY,KAAKhuB,KAAK0yD,UAAUljD,GAAG,GAAGxP,KAAKwyD,WAC5BxyD,KAAK0yD,SAAShxD,SAAS1B,KAAKwtB,UAAU,GAAGxtB,KAAKyyD,eAEvDrlC,EAAIY,KAAKhuB,KAAK0yD,UAAUljD,GAAG,GAAG4d,EAAI3kB;kBAClCzI,KAAKwyD,YAAYplC,EAAI3kB;AACvB;UA0BA,SAASupD,EAAU5kC,GAAK1kB;YACtB,KAAK0kB,EAAI3kB,SAASC,KAAK,KAAM,GAAG;cAC9B,IAAIjI,IAAI2sB,EAAI1rB,SAAS,WAAWgH;cAChC,IAAIjI,GAAG;gBACL,IAAIub,IAAIvb,EAAEiJ,WAAWjJ,EAAEgI,SAAS;gBAChC,IAAIuT,KAAK,SAAUA,KAAK,OAKtB,OAJAhc,KAAKwyD,WAAW,GAChBxyD,KAAKyyD,YAAY,GACjBzyD,KAAK0yD,SAAS,KAAKtlC,EAAIA,EAAI3kB,SAAS,IACpCzI,KAAK0yD,SAAS,KAAKtlC,EAAIA,EAAI3kB,SAAS;gBAC7BhI,EAAEmG,MAAM,IAAI;AAEvB;cACA,OAAOnG;AACT;YAIA,OAHAT,KAAKwyD,WAAW,GAChBxyD,KAAKyyD,YAAY,GACjBzyD,KAAK0yD,SAAS,KAAKtlC,EAAIA,EAAI3kB,SAAS,IAC7B2kB,EAAI1rB,SAAS,WAAWgH,GAAG0kB,EAAI3kB,SAAS;AACjD;UAIA,SAASwpD,EAAS7kC;YAChB,IAAI3sB,IAAI2sB,KAAOA,EAAI3kB,SAASzI,KAAK2tB,MAAMP,KAAO;YAC9C,IAAIptB,KAAKwyD,UAAU;cACjB,IAAI7lC,IAAM3sB,KAAKyyD,YAAYzyD,KAAKwyD;cAChC,OAAO/xD,IAAIT,KAAK0yD,SAAShxD,SAAS,WAAW,GAAGirB;AAClD;YACA,OAAOlsB;AACT;UAEA,SAAS2xD,EAAWhlC,GAAK1kB;YACvB,IAAIgiB,KAAK0C,EAAI3kB,SAASC,KAAK;YAC3B,OAAU,MAANgiB,IAAgB0C,EAAI1rB,SAAS,UAAUgH,MAC3C1I,KAAKwyD,WAAW,IAAI9nC,GACpB1qB,KAAKyyD,YAAY,GACP,MAAN/nC,IACF1qB,KAAK0yD,SAAS,KAAKtlC,EAAIA,EAAI3kB,SAAS,MAEpCzI,KAAK0yD,SAAS,KAAKtlC,EAAIA,EAAI3kB,SAAS;YACpCzI,KAAK0yD,SAAS,KAAKtlC,EAAIA,EAAI3kB,SAAS,KAE/B2kB,EAAI1rB,SAAS,UAAUgH,GAAG0kB,EAAI3kB,SAASiiB;AAChD;UAEA,SAAS2nC,EAAUjlC;YACjB,IAAI3sB,IAAI2sB,KAAOA,EAAI3kB,SAASzI,KAAK2tB,MAAMP,KAAO;YAC9C,OAAIptB,KAAKwyD,WAAiB/xD,IAAIT,KAAK0yD,SAAShxD,SAAS,UAAU,GAAG,IAAI1B,KAAKwyD,YACpE/xD;AACT;UAGA,SAAS6xD,EAAYllC;YACnB,OAAOA,EAAI1rB,SAAS1B,KAAKwtB;AAC3B;UAEA,SAAS+kC,EAAUnlC;YACjB,OAAOA,KAAOA,EAAI3kB,SAASzI,KAAK2tB,MAAMP,KAAO;AAC/C;UA1NAvtB,EAAQuhD,gBAAgBA,GA6BxBA,EAAc/6C,UAAUsnB,QAAQ,SAAUP;YACxC,IAAmB,MAAfA,EAAI3kB,QAAc,OAAO;YAC7B,IAAIhI,GACAiI;YACJ,IAAI1I,KAAKwyD,UAAU;cAEjB,gBADA/xD,IAAIT,KAAKkyD,SAAS9kC,KACG,OAAO;cAC5B1kB,IAAI1I,KAAKwyD,UACTxyD,KAAKwyD,WAAW;AAClB,mBACE9pD,IAAI;YAEN,OAAIA,IAAI0kB,EAAI3kB,SAAehI,IAAIA,IAAIT,KAAK+xD,KAAK3kC,GAAK1kB,KAAK1I,KAAK+xD,KAAK3kC,GAAK1kB,KAC/DjI,KAAK;AACd,aAEA2gD,EAAc/6C,UAAUsmB,MAwGxB,SAAiBS;YACf,IAAI3sB,IAAI2sB,KAAOA,EAAI3kB,SAASzI,KAAK2tB,MAAMP,KAAO;YAC9C,OAAIptB,KAAKwyD,WAAiB/xD,IAAI,MACvBA;AACT,aAzGA2gD,EAAc/6C,UAAU0rD,OA0FxB,SAAkB3kC,GAAK1kB;YACrB,IAAI6L,IArEN,SAA6BzU,GAAMstB,GAAK1kB;cACtC,IAAI0nB,IAAIhD,EAAI3kB,SAAS;cACrB,IAAI2nB,IAAI1nB,GAAG,OAAO;cAClB,IAAIkpD,IAAKe,EAAcvlC,EAAIgD;cAC3B,OAAIwhC,KAAM,KACJA,IAAK,MAAG9xD,EAAK0yD,WAAWZ,IAAK,IAC1BA,OAEHxhC,IAAI1nB,MAAa,MAARkpD,IAAkB,KACjCA,IAAKe,EAAcvlC,EAAIgD,QACb,KACJwhC,IAAK,MAAG9xD,EAAK0yD,WAAWZ,IAAK;cAC1BA,OAEHxhC,IAAI1nB,MAAa,MAARkpD,IAAkB,KACjCA,IAAKe,EAAcvlC,EAAIgD,QACb,KACJwhC,IAAK,MACI,MAAPA,IAAUA,IAAK,IAAO9xD,EAAK0yD,WAAWZ,IAAK,IAE1CA,KAEF;AACT,aAvBA,CAqEkC5xD,MAAMotB,GAAK1kB;YAC3C,KAAK1I,KAAKwyD,UAAU,OAAOplC,EAAI1rB,SAAS,QAAQgH;YAChD1I,KAAKyyD,YAAYl+C;YACjB,IAAIoY,IAAMS,EAAI3kB,UAAU8L,IAAQvU,KAAKwyD;YAErC,OADAplC,EAAIY,KAAKhuB,KAAK0yD,UAAU,GAAG/lC,IACpBS,EAAI1rB,SAAS,QAAQgH,GAAGikB;AACjC,aA9FAy0B,EAAc/6C,UAAU6rD,WAAW,SAAU9kC;YAC3C,IAAIptB,KAAKwyD,YAAYplC,EAAI3kB,QAEvB,OADA2kB,EAAIY,KAAKhuB,KAAK0yD,UAAU1yD,KAAKyyD,YAAYzyD,KAAKwyD,UAAU,GAAGxyD,KAAKwyD,WACzDxyD,KAAK0yD,SAAShxD,SAAS1B,KAAKwtB,UAAU,GAAGxtB,KAAKyyD;YAEvDrlC,EAAIY,KAAKhuB,KAAK0yD,UAAU1yD,KAAKyyD,YAAYzyD,KAAKwyD,UAAU,GAAGplC,EAAI3kB,SAC/DzI,KAAKwyD,YAAYplC,EAAI3kB;AACvB;AAAA;QAAA;UClIA7I,EAAOC,UACP,SAASmvC,EAAQ/oC,GAAI0tC;YACnB,IAAI1tC,KAAM0tC,GAAI,OAAO3E,EAAO/oC,EAAP+oC,CAAW2E;YAEhC,IAAkB,qBAAP1tC,GACT,MAAM,IAAIiE,UAAU;YAMtB,OAJA/J,OAAO+N,KAAKjI,GAAI6H,SAAQ,SAAUmB;cAChC2jD,EAAQ3jD,KAAKhJ,EAAGgJ;AACjB,iBAEM2jD;YAEP,SAASA;cAEP,KADA,IAAIptC,IAAO,IAAI5hB,MAAMsmB,UAAUzhB,SACtBC,IAAI,GAAGA,IAAI8c,EAAK/c,QAAQC,KAC/B8c,EAAK9c,KAAKwhB,UAAUxhB;cAEtB,IAAIqW,IAAM9Y,EAAG6rB,MAAM9xB,MAAMwlB,IACrBmuB,IAAKnuB,EAAKA,EAAK/c,SAAO;cAM1B,OALmB,qBAARsW,KAAsBA,MAAQ40B,KACvCxzC,OAAO+N,KAAKylC,GAAI7lC,SAAQ,SAAUmB;gBAChC8P,EAAI9P,KAAK0kC,EAAG1kC;AACb,mBAEI8P;AACT;AACF;AAAA;QAAA;QAAA;UAAA;UAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;;UCrBA,MAAMnS,UAAoB1C;YACtBrJ,YAAYgyD,GAASC;cACjB,IAAIt2C;cACJ,OAAM,SAAEzb,GAAO,aAAEgyD,MAAgBC,KAASH,IACpC,MAAEI,KAASJ,GACX35B,IAAsB,MAAhB+5B,EAAKxqD,SAAe1H,IAAU,YAAYkyD,EAAKhqD,KAAK,WAAWlI;cAC3EI,MAAM4xD,KAAe75B,IACF,QAAf65B,MACA/yD,KAAKuB,QAAQ23B,IACjB/4B,OAAOgT,OAAOnT,MAAMgzD,IACpBhzD,KAAKsG,OAAOtG,KAAKa,YAAYyF,MAC7BtG,KAAK8yD,WAAW,MACJt2C,MAAWA,IAAS,EAACq2C,MAAYC;AAEjD;;UAYJ,SAAS9tD,EAASstB;YACd,OAAoB,mBAANA,KAAuB,QAALA;AACpC;UAIA,SAAShxB,EAAcgxB;YACnB,IAA0C,sBAAtCnyB,OAAOkG,UAAU3E,SAAS0H,KAAKkpB,IAC/B,QAAM;YAEV,MAAMjsB,IAAYlG,OAAOkU,eAAeie;YACxC,OAAqB,SAAdjsB,KAAsBA,MAAclG,OAAOkG;AACtD;UAIA,SAAS6sD,EAAM7yD;YACX,OAAqB,mBAAVA,IACAA,EAAMqB,aAEO,mBAAVrB,IAAqB6R,KAAKC,UAAU9R,KAAS,GAAGA;AAClE;UAYA,SAAS8yD,EAAU1mD,GAAQmF,GAASpL,GAAQnG;YACxC,WAAIoM,GACA;aAAO,MAEFA,IACLA,IAAS,CAAC,IAEa,mBAAXA,MACZA,IAAS;cAAE1L,SAAS0L;;YAExB,OAAM,MAAEwmD,GAAI,QAAEG,KAAWxhD,IACnB,MAAE6c,KAASjoB,IACX,YAAE6sD,GAAU,SAAEtyD,IAAU,8BAA8B0tB,MAAS4kC,IAAa,sBAAsBA,QAAiB,uBAAuBH,EAAM7yD,UAAgBoM;YACtK,OAAO;cACHpM,OAAAA;cACAouB,MAAAA;cACA4kC,YAAAA;cACA/tD,KAAK2tD,EAAKA,EAAKxqD,SAAS;cACxBwqD,MAAAA;cACAG,QAAAA;iBACG3mD;cACH1L,SAAAA;;AAER;UAIA,UAAUuyD,EAAW7mD,GAAQmF,GAASpL,GAAQnG;YAlE9C,IAAoBiyB;YACTttB,EADSstB,IAmEA7lB,MAlEoC,qBAAvB6lB,EAAE1kB,OAAOC,cAmElCpB,IAAS,EAACA;YAEd,KAAK,MAAMhM,KAAKgM,GAAQ;cACpB,MAAMomD,IAAUM,EAAU1yD,GAAGmR,GAASpL,GAAQnG;cAC1CwyD,YACMA;AAEd;AACJ;UAKA,UAAUziB,EAAI/vC,GAAOmG,GAAQD,IAAU,CAAC;YACpC,OAAM,MAAE0sD,IAAO,IAAE,QAAEG,IAAS,EAAC/yD,KAAM,QAAE+L,KAAAA,GAAc,MAAE1B,KAAAA,KAAiBnE,GAChEgtD,IAAM;cAAEN,MAAAA;cAAMG,QAAAA;;YACpB,IAAIhnD,MACA/L,IAAQmG,EAAOgtD,QAAQnzD,GAAOkzD,IAC1B7oD,KACgB,WAAhBlE,EAAOioB,QACPzpB,EAASwB,EAAOitD,WAChBzuD,EAAS3E,OACRuD,MAAMC,QAAQxD,KACf,KAAK,MAAMiF,KAAOjF,QAAAA,MACVmG,EAAOitD,OAAOnuD,aACPjF,EAAMiF;YAK7B,IAAIouD,IAAS;YACb,KAAK,MAAMb,KAAWrsD,EAAOwL,UAAU3R,GAAOkzD,IAC1CV,EAAQE,cAAcxsD,EAAQxF,SAC9B2yD,IAAS,mBACH,EAACb,QAAAA;YAEX,KAAK,KAAK5jD,GAAG4K,GAAGwI,MAAM7b,EAAOgH,QAAQnN,GAAOkzD,IAAM;cAC9C,MAAMI,IAAKvjB,EAAIv2B,GAAGwI,GAAG;gBACjB4wC,WAAK,MAAChkD,IAAkBgkD,IAAO,KAAIA,GAAMhkD;gBACzCmkD,aAAO,MAACnkD,IAAkBmkD,IAAS,KAAIA,GAAQv5C;gBAC/CzN,QAAAA;gBACA1B,MAAAA;gBACA3J,SAASwF,EAAQxF;;cAErB,KAAK,MAAMwN,KAAKolD,GACRplD,EAAE,MACFmlD,IAA4B,QAAnBnlD,EAAE,GAAG8kD,aAAqB,gBAAgB,mBAC7C,EAAC9kD,EAAE,SAAG,OAEPnC,MACLyN,IAAItL,EAAE;mBAAA,MACFU,IACA5O,IAAQwZ,IAEHxZ,aAAiBoN,MACtBpN,EAAM4K,IAAIgE,GAAG4K,KAERxZ,aAAiB8N,MACtB9N,EAAMqpB,IAAI7P,KAEL7U,EAAS3E,YAAAA,MACVwZ,KAAmB5K,KAAK5O,OACxBA,EAAM4O,KAAK4K;AAI/B;YACA,IAAe,gBAAX65C,GACA,KAAK,MAAMb,KAAWrsD,EAAOotD,QAAQvzD,GAAOkzD,IACxCV,EAAQE,cAAcxsD,EAAQxF,SAC9B2yD,IAAS,qBACH,EAACb,QAAAA;YAGA,YAAXa,YACM,OAAC,GAAWrzD;AAE1B;UAOA,MAAMwzD;YACFhzD,YAAYuoC;cACR,OAAM,MAAE3a,GAAI,QAAEglC,GAAM,WAAEzhD,GAAS,SAAE4hD,GAAO,SAAEJ,IAAU,CAACnzD,KAAUA,IAAK,SAAEmN,IAAU,aAAe,KAAO47B;cACtGppC,KAAKyuB,OAAOA,GACZzuB,KAAKyzD,SAASA,GACdzzD,KAAKwN,UAAUA,GACfxN,KAAKwzD,UAAUA,GAEXxzD,KAAKgS,YADLA,IACiB,CAAC3R,GAAOuR,MAEd0hD,EADQthD,EAAU3R,GAAOuR,IACNA,GAAS5R,MAAMK,KAI5B,MAAM;cAGvBL,KAAK4zD,UADLA,IACe,CAACvzD,GAAOuR,MAEZ0hD,EADQM,EAAQvzD,GAAOuR,IACJA,GAAS5R,MAAMK,KAI9B,MAAM;AAE7B;YAIAuF,OAAOvF,GAAOU;cACV,OAAO6E,EAAOvF,GAAOL,MAAMe;AAC/B;YAIA2L,OAAOrM,GAAOU;cACV,OAAO2L,EAAOrM,GAAOL,MAAMe;AAC/B;YAIA6N,GAAGvO;cACC,OAAOuO,EAAGvO,GAAOL;AACrB;YAKA0K,KAAKrK,GAAOU;cACR,OAAO2J,EAAKrK,GAAOL,MAAMe;AAC7B;YASA+yD,SAASzzD,GAAOkG,IAAU,CAAC;cACvB,OAAOutD,EAASzzD,GAAOL,MAAMuG;AACjC;;UAKJ,SAASX,EAAOvF,GAAOmG,GAAQzF;YAC3B,MAAM0L,IAASqnD,EAASzzD,GAAOmG,GAAQ;cAAEzF,SAAAA;;YACzC,IAAI0L,EAAO,IACP,MAAMA,EAAO;AAErB;UAIA,SAASC,EAAOrM,GAAOmG,GAAQzF;YAC3B,MAAM0L,IAASqnD,EAASzzD,GAAOmG,GAAQ;cAAE4F,SAAO;cAAOrL,SAAAA;;YACvD,IAAI0L,EAAO,IACP,MAAMA,EAAO;YAGb,OAAOA,EAAO;AAEtB;UAIA,SAAS/B,EAAKrK,GAAOmG,GAAQzF;YACzB,MAAM0L,IAASqnD,EAASzzD,GAAOmG,GAAQ;cAAE4F,SAAO;cAAO1B,OAAK;cAAO3J,SAAAA;;YACnE,IAAI0L,EAAO,IACP,MAAMA,EAAO;YAGb,OAAOA,EAAO;AAEtB;UAIA,SAASmC,EAAGvO,GAAOmG;YAEf,QADestD,EAASzzD,GAAOmG,GAChB;AACnB;UAKA,SAASstD,EAASzzD,GAAOmG,GAAQD,IAAU,CAAC;YACxC,MAAMwtD,IAAS3jB,EAAI/vC,GAAOmG,GAAQD,IAC5BytD,IArOV,SAAuB/6B;cACnB,OAAM,MAAEub,GAAI,OAAEn0C,KAAU44B,EAAMvf;cAC9B,OAAO86B,SAAAA,IAAmBn0C;AAC9B,aAHA,CAqOgC0zD;YAC5B,OAAIC,EAAM,KAQC,EAPO,IAAIpnD,EAAYonD,EAAM,KAAG;cACnC,KAAK,MAAMzlD,KAAKwlD,GACRxlD,EAAE,aACIA,EAAE;AAGnB,sBAAD,MAKO,OAAC,GADEylD,EAAM;AAGxB;UAEA,SAAS7gD,KAAU8gD;YACf,MAAM7oB,IAA6B,WAApB6oB,EAAQ,GAAGxlC,MACpBylC,IAAUD,EAAQpvD,KAAKwd,KAAMA,EAAEoxC,UAC/BA,IAAStzD,OAAOgT,OAAO,CAAC,MAAM+gD;YACpC,OAAO9oB,IAAS3c,EAAKglC,KAAUvuD,EAAOuuD;AAC1C;UAIA,SAASjiD,EAAOlL,GAAM0L;YAClB,OAAO,IAAI6hD,EAAO;cAAEplC,MAAMnoB;cAAMmtD,QAAQ;cAAMzhD,WAAAA;;AAClD;UAKA,SAASmiD,EAAW3tD,GAAQg1B;YACxB,OAAO,IAAIq4B,EAAO;iBACXrtD;cACHotD,SAAS,CAACvzD,GAAOkzD,WAAAA,MAAQlzD,KAAuBmG,EAAOotD,QAAQvzD,GAAOkzD;cACtEvhD,WAAS,CAAC3R,GAAOkzD,WAAAA,MACTlzD,MAIAm7B,EAAIn7B,GAAOkzD,IACJ/sD,EAAOwL,UAAU3R,GAAOkzD;;AAI/C;UAQA,SAASa,EAAQnuD;YACb,OAAO,IAAI4tD,EAAO;cACdplC,MAAM;cACNglC,QAAQ;cACR,UAASpzD,GAAOkzD;gBACZ,MAAM/sD,IAASP,EAAG5F,GAAOkzD;uBAClB/sD,EAAOgH,QAAQnN,GAAOkzD;AACjC;cACAvhD,WAAS,CAAC3R,GAAOkzD,MACEttD,EAAG5F,GAAOkzD,GACXvhD,UAAU3R,GAAOkzD;cAEnCC,SAAO,CAACnzD,GAAOkzD,MACIttD,EAAG5F,GAAOkzD,GACXC,QAAQnzD,GAAOkzD;cAEjCK,SAAO,CAACvzD,GAAOkzD,MACIttD,EAAG5F,GAAOkzD,GACXK,QAAQvzD,GAAOkzD;;AAGzC;UASA,SAAS7hD,EAAKzL;YACV,IAAIO;YACJ,OAAO,IAAIqtD,EAAO;cACdplC,MAAM;cACNglC,QAAQ;cACR,UAASpzD,GAAOkzD;gBACZ/sD,MAAWA,IAASP,aACbO,EAAOgH,QAAQnN,GAAOkzD;AACjC;cACAvhD,WAAS,CAAC3R,GAAOkzD,OACb/sD,MAAWA,IAASP,MACbO,EAAOwL,UAAU3R,GAAOkzD;cAEnCC,SAAO,CAACnzD,GAAOkzD,OACX/sD,MAAWA,IAASP,MACbO,EAAOgtD,QAAQnzD,GAAOkzD;cAEjCK,SAAO,CAACvzD,GAAOkzD,OACX/sD,MAAWA,IAASP,MACbO,EAAOotD,QAAQvzD,GAAOkzD;;AAGzC;UAOA,SAAS1gD,EAAKrM,GAAQ0H;YAClB,OAAM,QAAEulD,KAAWjtD,GACb6tD,IAAY;iBAAKZ;;YACvB,KAAK,MAAMnuD,KAAO4I,UACPmmD,EAAU/uD;YAErB,OACS,WADDkB,EAAOioB,OAEAA,EAAK4lC,KAELnvD,EAAOmvD;AAE1B;UAOA,SAASC,EAAQ9tD;YACb,MAAMitD,IAASjtD,aAAkBqtD,IAAS;iBAAKrtD,EAAOitD;gBAAW;iBAAKjtD;;YACtE,KAAK,MAAMlB,KAAOmuD,GACdA,EAAOnuD,KAAOkN,EAASihD,EAAOnuD;YAElC,OAAOJ,EAAOuuD;AAClB;UAOA,SAASc,EAAK/tD,GAAQ0H;YAClB,OAAM,QAAEulD,KAAWjtD,GACb6tD,IAAY,CAAC;YACnB,KAAK,MAAM/uD,KAAO4I,GACdmmD,EAAU/uD,KAAOmuD,EAAOnuD;YAE5B,OAAOJ,EAAOmvD;AAClB;UAMA,SAAS7tD,EAAOF,GAAM0L;YAElB,OADAyT,QAAQ6V,KAAK,yEACN9pB,EAAOlL,GAAM0L;AACxB;UAKA,SAASwiD;YACL,OAAOhjD,EAAO,eAAO;AACzB;UACA,SAASC,EAAMgjD;YACX,OAAO,IAAIZ,EAAO;cACdplC,MAAM;cACNglC,QAAQgB;cACR,UAASp0D;gBACL,IAAIo0D,KAAW7wD,MAAMC,QAAQxD,IACzB,KAAK,OAAOqI,GAAGmR,MAAMxZ,EAAMmN,iBACjB,EAAC9E,GAAGmR,GAAG46C;AAGzB;cACAjB,SAAQnzD,KACGuD,MAAMC,QAAQxD,KAASA,EAAMuG,UAAUvG;cAElD2R,WAAU3R,KACEuD,MAAMC,QAAQxD,MAClB,0CAA0C6yD,EAAM7yD;;AAGhE;UAIA,SAASgK;YACL,OAAOmH,EAAO,WAAWnR,KACG,mBAAVA;AAEtB;UAIA,SAASkR;YACL,OAAOC,EAAO,YAAYnR,KACE,oBAAVA;AAEtB;UAOA,SAASq0D;YACL,OAAOljD,EAAO,SAASnR,KACVA,aAAiBgV,SAAS+M,MAAM/hB,EAAMs0D,cAC3C,mDAAmDzB,EAAM7yD;AAErE;UACA,SAASu0D,EAAM9pD;YACX,MAAM2oD,IAAS,CAAC,GACVoB,IAAc/pD,EAAOjG,KAAKgV,KAAMq5C,EAAMr5C,KAAI5Q;YAChD,KAAK,MAAM3D,KAAOwF,GACd2oD,EAAOnuD,KAAOA;YAElB,OAAO,IAAIuuD,EAAO;cACdplC,MAAM;cACNglC,QAAAA;cACAzhD,WAAU3R,KACEyK,EAAO8Q,SAASvb,MACpB,qBAAqBw0D,sBAAgC3B,EAAM7yD;;AAG3E;UAIA,SAASolC;YACL,OAAOj0B,EAAO,SAASnR,KACM,qBAAVA,KACX,sCAAsC6yD,EAAM7yD;AAExD;UAIA,SAASkM,EAASuoD;YACd,OAAOtjD,EAAO,aAAanR,KACfA,aAAiBy0D,KACrB,gBAAgBA,EAAMxuD,kCAAkC4sD,EAAM7yD;AAE1E;UAIA,SAASkS;YACL,OAAOf,EAAO,YAAYnR,KACI,mBAAVA,MAAuB+hB,MAAM/hB,MAAUY,OAAOC,UAAUb,MACpE,sCAAsC6yD,EAAM7yD;AAExD;UAIA,SAAS00D,EAAad;YAClB,OAAO,IAAIJ,EAAO;cACdplC,MAAM;cACNglC,QAAQ;cACR,UAASpzD,GAAOkzD;gBACZ,KAAK,MAAMyB,KAAKf,UACLe,EAAExnD,QAAQnN,GAAOkzD;AAEhC;cACA,YAAWlzD,GAAOkzD;gBACd,KAAK,MAAMyB,KAAKf,UACLe,EAAEhjD,UAAU3R,GAAOkzD;AAElC;cACA,UAASlzD,GAAOkzD;gBACZ,KAAK,MAAMyB,KAAKf,UACLe,EAAEpB,QAAQvzD,GAAOkzD;AAEhC;;AAER;UACA,SAASjiD,EAAQ2jD;YACb,MAAMJ,IAAc3B,EAAM+B,IACpB1mD,WAAW0mD;YACjB,OAAO,IAAIpB,EAAO;cACdplC,MAAM;cACNglC,QAAc,aAANllD,KAAwB,aAANA,KAAwB,cAANA,IAAkB0mD,IAAW;cACzEjjD,WAAU3R,KACEA,MAAU40D,KACd,0BAA0BJ,sBAAgC3B,EAAM7yD;;AAGhF;UACA,SAASwE,EAAIqwD,GAAKC;YACd,OAAO,IAAItB,EAAO;cACdplC,MAAM;cACNglC,QAAQ;cACR,UAASpzD;gBACL,IAAI60D,KAAOC,KAAS90D,aAAiBoN,KACjC,KAAK,OAAOwB,GAAG4K,MAAMxZ,EAAMmN,iBACjB,EAACyB,GAAGA,GAAGimD,WACP,EAACjmD,GAAG4K,GAAGs7C;AAGzB;cACA3B,SAAQnzD,KACGA,aAAiBoN,MAAM,IAAIA,IAAIpN,KAASA;cAEnD2R,WAAU3R,KACEA,aAAiBoN,OACrB,4CAA4CylD,EAAM7yD;;AAGlE;UAIA,SAAS+0D;YACL,OAAO5jD,EAAO,iBAAS;AAC3B;UAIA,SAASc,EAAS9L;YACd,OAAO,IAAIqtD,EAAO;iBACXrtD;cACHwL,WAAW,CAAC3R,GAAOkzD,MAAkB,SAAVlzD,KAAkBmG,EAAOwL,UAAU3R,GAAOkzD;cACrEK,SAAS,CAACvzD,GAAOkzD,MAAkB,SAAVlzD,KAAkBmG,EAAOotD,QAAQvzD,GAAOkzD;;AAEzE;UAIA,SAAStnD;YACL,OAAOuF,EAAO,WAAWnR,KACK,mBAAVA,MAAuB+hB,MAAM/hB,MACzC,oCAAoC6yD,EAAM7yD;AAEtD;UACA,SAAS6E,EAAOuuD;YACZ,MAAM4B,IAAS5B,IAAStzD,OAAO+N,KAAKulD,KAAU,IACxC6B,IAAQF;YACd,OAAO,IAAIvB,EAAO;cACdplC,MAAM;cACNglC,QAAQA,KAAkB;cAC1B,UAASpzD;gBACL,IAAIozD,KAAUzuD,EAAS3E,IAAQ;kBAC3B,MAAMk1D,IAAW,IAAIpnD,IAAIhO,OAAO+N,KAAK7N;kBACrC,KAAK,MAAMiF,KAAO+vD,GACdE,EAASl9C,OAAO/S,UACV,EAACA,GAAKjF,EAAMiF,IAAMmuD,EAAOnuD;kBAEnC,KAAK,MAAMA,KAAOiwD,SACR,EAACjwD,GAAKjF,EAAMiF,IAAMgwD;AAEhC;AACJ;cACAtjD,WAAU3R,KACE2E,EAAS3E,MAAU,qCAAqC6yD,EAAM7yD;cAE1EmzD,SAAQnzD,KACG2E,EAAS3E,KAAS;mBAAKA;kBAAUA;;AAGpD;UAIA,SAASmS,EAAShM;YACd,OAAO,IAAIqtD,EAAO;iBACXrtD;cACHwL,WAAW,CAAC3R,GAAOkzD,WAAAA,MAAQlzD,KAAuBmG,EAAOwL,UAAU3R,GAAOkzD;cAC1EK,SAAS,CAACvzD,GAAOkzD,WAAAA,MAAQlzD,KAAuBmG,EAAOotD,QAAQvzD,GAAOkzD;;AAE9E;UAOA,SAAS5hD,EAAOujD,GAAKC;YACjB,OAAO,IAAItB,EAAO;cACdplC,MAAM;cACNglC,QAAQ;cACR,UAASpzD;gBACL,IAAI2E,EAAS3E,IACT,KAAK,MAAM4O,KAAK5O,GAAO;kBACnB,MAAMwZ,IAAIxZ,EAAM4O;wBACV,EAACA,GAAGA,GAAGimD,WACP,EAACjmD,GAAG4K,GAAGs7C;AACjB;AAER;cACAnjD,WAAU3R,KACE2E,EAAS3E,MAAU,qCAAqC6yD,EAAM7yD;;AAGlF;UAOA,SAASm8B;YACL,OAAOhrB,EAAO,WAAWnR,KACdA,aAAiBgH;AAEhC;UACA,SAAS4D,EAAIwpD;YACT,OAAO,IAAIZ,EAAO;cACdplC,MAAM;cACNglC,QAAQ;cACR,UAASpzD;gBACL,IAAIo0D,KAAWp0D,aAAiB8N,KAC5B,KAAK,MAAM0L,KAAKxZ,SACN,EAACwZ,GAAGA,GAAG46C;AAGzB;cACAjB,SAAQnzD,KACGA,aAAiB8N,MAAM,IAAIA,IAAI9N,KAASA;cAEnD2R,WAAU3R,KACEA,aAAiB8N,OACrB,4CAA4C+kD,EAAM7yD;;AAGlE;UAIA,SAASoL;YACL,OAAO+F,EAAO,WAAWnR,KACI,mBAAVA,KACX,oCAAoC6yD,EAAM7yD;AAEtD;UAKA,SAAS2zD,EAAMC;YACX,MAAMqB,IAAQF;YACd,OAAO,IAAIvB,EAAO;cACdplC,MAAM;cACNglC,QAAQ;cACR,UAASpzD;gBACL,IAAIuD,MAAMC,QAAQxD,IAAQ;kBACtB,MAAMoI,IAAS0oB,KAAKzY,IAAIu7C,EAAQxrD,QAAQpI,EAAMoI;kBAC9C,KAAK,IAAIC,IAAI,GAAGA,IAAID,GAAQC,WAClB,EAACA,GAAGrI,EAAMqI,IAAIurD,EAAQvrD,MAAM4sD;AAE1C;AACJ;cACAtjD,WAAU3R,KACEuD,MAAMC,QAAQxD,MAClB,oCAAoC6yD,EAAM7yD;;AAG1D;UAOA,SAASouB,EAAKglC;YACV,MAAMvlD,IAAO/N,OAAO+N,KAAKulD;YACzB,OAAO,IAAII,EAAO;cACdplC,MAAM;cACNglC,QAAAA;cACA,UAASpzD;gBACL,IAAI2E,EAAS3E,IACT,KAAK,MAAM4O,KAAKf,SACN,EAACe,GAAG5O,EAAM4O,IAAIwkD,EAAOxkD;AAGvC;cACA+C,WAAU3R,KACE2E,EAAS3E,MAAU,qCAAqC6yD,EAAM7yD;cAE1EmzD,SAAQnzD,KACG2E,EAAS3E,KAAS;mBAAKA;kBAAUA;;AAGpD;UAIA,SAAS2L,EAAMioD;YACX,MAAMY,IAAcZ,EAAQpvD,KAAKwd,KAAMA,EAAEoM,OAAMxlB,KAAK;YACpD,OAAO,IAAI4qD,EAAO;cACdplC,MAAM;cACNglC,QAAQ;cACRD,QAAQnzD;gBACJ,KAAK,MAAM20D,KAAKf,GAAS;kBACrB,OAAOrvD,GAAO4wD,KAAWR,EAAElB,SAASzzD,GAAO;oBAAE+L,SAAO;;kBACpD,KAAKxH,GACD,OAAO4wD;AAEf;gBACA,OAAOn1D;AACX;cACA2R,UAAU3R,GAAOkzD;gBACb,MAAMT,IAAW;gBACjB,KAAK,MAAMkC,KAAKf,GAAS;kBACrB,UAAUF,KAAU3jB,EAAI/vC,GAAO20D,GAAGzB,KAC3Bt3C,KAAS83C;kBAChB,KAAK93C,EAAM,IACP,OAAO;kBAGP,KAAK,OAAO42C,MAAYkB,GAChBlB,KACAC,EAASnqD,KAAKkqD;AAI9B;gBACA,OAAO,EACH,8CAA8CgC,sBAAgC3B,EAAM7yD,SACjFyyD;AAEX;;AAER;UAIA,SAAShgD;YACL,OAAOtB,EAAO,mBAAW;AAC7B;UAYA,SAASpF,EAAO5F,GAAQivD,GAAWjC;YAC/B,OAAO,IAAIK,EAAO;iBACXrtD;cACHgtD,SAAS,CAACnzD,GAAOkzD,MACN3kD,EAAGvO,GAAOo1D,KACXjvD,EAAOgtD,QAAQA,EAAQnzD,GAAOkzD,IAAMA,KACpC/sD,EAAOgtD,QAAQnzD,GAAOkzD;;AAGxC;UAOA,SAASmC,EAAUlvD,GAAQmvD,GAAUpvD,IAAU,CAAC;YAC5C,OAAO6F,EAAO5F,GAAQsM,MAAYwf;cAC9B,MAAMnlB,IAAwB,qBAAbwoD,IAA0BA,MAAaA;cACxD,eAAIrjC,GACA,OAAOnlB;cAEX,KAAK5G,EAAQ6oC,UAAU9tC,EAAcgxB,MAAMhxB,EAAc6L,IAAI;gBACzD,MAAM4R,IAAM;qBAAKuT;;gBACjB,IAAIsjC,KAAAA;gBACJ,KAAK,MAAMtwD,KAAO6H,QAAAA,MACV4R,EAAIzZ,OACJyZ,EAAIzZ,KAAO6H,EAAE7H,IACbswD,KAAAA;gBAGR,IAAIA,GACA,OAAO72C;AAEf;cACA,OAAOuT;AAAC;AAEhB;UAOA,SAASujC,EAAQrvD;YACb,OAAO4F,EAAO5F,GAAQiF,MAAW6mB,KAAMA,EAAEra;AAC7C;UAKA,SAAS69C,EAAMtvD;YACX,OAAOyP,GAAOzP,GAAQ,UAAUnG;cAC5B,MAAMmL,IAAOuqD,GAAQ11D;cACrB,OAAiB,MAATmL,KACJ,qBAAqBhF,EAAOioB,0CAA0CjjB;AAAS;AAE3F;UACA,SAASuqD,GAAQ11D;YACb,OAAIA,aAAiBoN,OAAOpN,aAAiB8N,MAClC9N,EAAMmL,OAGNnL,EAAMoI;AAErB;UAIA,SAASiQ,GAAIlS,GAAQwvD,GAAWzvD,IAAU,CAAC;YACvC,OAAM,WAAE0vD,KAAc1vD;YACtB,OAAO0P,GAAOzP,GAAQ,QAAQnG,KACnB41D,IACD51D,IAAQ21D,IACR31D,KAAS21D,KACP,cAAcxvD,EAAOioB,kBAAkBwnC,IAAY,KAAK,iBAAiBD,oBAA4B31D;AAErH;UAIA,SAASwnB,GAAIrhB,GAAQwvD,GAAWzvD,IAAU,CAAC;YACvC,OAAM,WAAE0vD,KAAc1vD;YACtB,OAAO0P,GAAOzP,GAAQ,QAAQnG,KACnB41D,IACD51D,IAAQ21D,IACR31D,KAAS21D,KACP,cAAcxvD,EAAOioB,qBAAqBwnC,IAAY,KAAK,iBAAiBD,oBAA4B31D;AAExH;UAIA,SAAS61D,GAAS1vD;YACd,OAAOyP,GAAOzP,GAAQ,aAAanG,KAClB01D,GAAQ11D,KACN,KAAK,uBAAuBmG,EAAOioB;AAE1D;UAIA,SAASnnB,GAAQd,GAAQg2B;YACrB,OAAOvmB,GAAOzP,GAAQ,YAAYnG,KACtBm8B,EAAOjhB,KAAKlb,MAChB,cAAcmG,EAAOioB,oBAAoB+N,EAAOiG,2BAA2BpiC;AAEvF;UAIA,SAASmL,GAAKhF,GAAQqhB,GAAKnP,IAAMmP;YAC7B,MAAM8nC,IAAW,cAAcnpD,EAAOioB,QAChC0nC,IAAKtuC,MAAQnP,IAAM,QAAQmP,QAAU,aAAaA,aAAenP;YACvE,OAAOzC,GAAOzP,GAAQ,SAASnG;cAC3B,IAAqB,mBAAVA,KAAsBA,aAAiBgV,MAC9C,OAASwS,KAAOxnB,KAASA,KAASqY,KAC9B,GAAGi3C,KAAYwG,oBAAqB91D;cAEvC,IAAIA,aAAiBoN,OAAOpN,aAAiB8N,KAAK;gBACnD,OAAM,MAAE3C,KAASnL;gBACjB,OAASwnB,KAAOrc,KAAQA,KAAQkN,KAC5B,GAAGi3C,iBAAwBwG,uCAAwC3qD;AAC3E;cACK;gBACD,OAAM,QAAE/C,KAAWpI;gBACnB,OAASwnB,KAAOpf,KAAUA,KAAUiQ,KAChC,GAAGi3C,mBAA0BwG,yCAA0C1tD;AAC/E;AAAA;AAER;UAQA,SAASwN,GAAOzP,GAAQF,GAAMstD;YAC1B,OAAO,IAAIC,EAAO;iBACXrtD;cACH,UAASnG,GAAOkzD;uBACL/sD,EAAOotD,QAAQvzD,GAAOkzD;gBAC7B,MACMT,IAAWQ,EADFM,EAAQvzD,GAAOkzD,IACMA,GAAK/sD,GAAQnG;gBACjD,KAAK,MAAMwyD,KAAWC,SACZ;qBAAKD;kBAASQ,YAAY/sD;;AAExC;;AAER;AAAA;SC79BI8vD,IAA2B,CAAC;MAGhC,SAASC,EAAoBC;QAE5B,IAAIC,IAAeH,EAAyBE;QAC5C,eAAIC,GACH,OAAOA,EAAa12D;QAGrB,IAAID,IAASw2D,EAAyBE,KAAY;UACjD7jD,IAAI6jD;UACJE,SAAO;UACP32D,SAAS,CAAC;;QAUX,OANA42D,EAAoBH,GAAUltD,KAAKxJ,EAAOC,SAASD,GAAQA,EAAOC,SAASw2D,IAG3Ez2D,EAAO42D,UAAAA,GAGA52D,EAAOC;AACf;MCxBAw2D,EAAoB3rC,IAAK9qB;QACxB,IAAI82D,IAAS92D,KAAUA,EAAOM,aAC7B,MAAON,EAAiB,UACxB,MAAM;QAEP,OADAy2D,EAAoB/xB,EAAEoyB,GAAQ;UAAE90C,GAAG80C;YAC5BA;AAAAA,SCLRL,EAAoB/xB,IAAI,CAACzkC,GAASgsC;QACjC,KAAI,IAAIvmC,KAAOumC,GACXwqB,EAAoBtnD,EAAE88B,GAAYvmC,OAAS+wD,EAAoBtnD,EAAElP,GAASyF,MAC5EnF,OAAOC,eAAeP,GAASyF,GAAK;UAAErB,aAAW;UAAOC,KAAK2nC,EAAWvmC;;AAAAA,SCJ3E+wD,EAAoB1wB,IAAI;QACvB,IAA0B,mBAAfmT,YAAyB,OAAOA;QAC3C;UACC,OAAO94C,QAAQ,IAAI++B,SAAS,cAAb;AAGhB,UAFE,OAAOjlB;UACR,IAAsB,mBAAXyR,QAAqB,OAAOA;AACxC;AACA,OAPuB,ICAxB8qC,EAAoBtnD,IAAI,CAACsf,GAAKmiC,MAAUrwD,OAAOkG,UAAUoJ,eAAerG,KAAKilB,GAAKmiC,ICClF6F,EAAoB51D,IAAKZ;QACH,sBAAX+N,UAA0BA,OAAO05B,eAC1CnnC,OAAOC,eAAeP,GAAS+N,OAAO05B,aAAa;UAAEjnC,OAAO;YAE7DF,OAAOC,eAAeP,GAAS,cAAc;UAAEQ,QAAM;;AAAC,SCLvDg2D,EAAoBM,MAAO/2D,MAC1BA,EAAOg3D,QAAQ,IACVh3D,EAAOi3D,aAAUj3D,EAAOi3D,WAAW,KACjCj3D;MAAAA,IAAAA,IAAAA,CAAAA;MAAAA,OAAAA;QAAAA;QCHO,SAASk3D,EAAQzoC;UAG9B,QAAOyoC,IAAU,qBAAqBlpD,UAAU,mBAAmBA,OAAOC,WAAW,SAAUwgB;YAC7F,cAAcA;AAChB,cAAI,SAAUA;YACZ,OAAOA,KAAO,qBAAqBzgB,UAAUygB,EAAIxtB,gBAAgB+M,UAAUygB,MAAQzgB,OAAOvH,YAAY,kBAAkBgoB;AAC1H,aAAWA;AACb;QCPe,SAAS0oC,EAAgB1oC,GAAK/oB,GAAKjF;UAYhD,QAXAiF,ICAa,SAAwB9B;YACrC,IAAI8B,ICFS,SAAsB2zB,GAAO+9B;cAC1C,IAAuB,aAAnBF,EAAQ79B,MAAiC,SAAVA,GAAgB,OAAOA;cAC1D,IAAIg+B,IAAOh+B,EAAMrrB,OAAO8gB;cACxB,eAAIuoC,GAAoB;gBACtB,IAAI1sC,IAAM0sC,EAAK7tD,KAAK6vB,GAAO+9B;gBAC3B,IAAqB,aAAjBF,EAAQvsC,IAAmB,OAAOA;gBACtC,MAAM,IAAIrgB,UAAU;AACtB;cACA,OAA4BxD,OAAiBuyB;AAC/C,aATe,CDESz1B;YACtB,OAAwB,aAAjBszD,EAAQxxD,KAAoBA,IAAMoB,OAAOpB;AAClD,WAHe,CDAOA,OACT+oB,IACTluB,OAAOC,eAAeiuB,GAAK/oB,GAAK;YAC9BjF,OAAOA;YACP4D,aAAW;YACXqL,eAAa;YACbD,WAAS;eAGXgf,EAAI/oB,KAAOjF,GAENguB;AACT;QAAC,EAAD;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;;QAAA;QGVA,SAAS2Q,EAAQ95B,GAAQgyD;UAAkB,IAAIhpD,IAAO/N,OAAO+N,KAAKhJ;UAAS,IAAI/E,OAAO8+B,uBAAuB;YAAE,IAAIk4B,IAAUh3D,OAAO8+B,sBAAsB/5B;YAASgyD,MAAmBC,IAAUA,EAAQp9C,QAAO,SAAU0e;cAAO,OAAOt4B,OAAOiP,yBAAyBlK,GAAQuzB,GAAKx0B;AAAa,kBAAIiK,EAAKvF,KAAKmpB,MAAM5jB,GAAMipD;AAAU;UAAE,OAAOjpD;AAAM;QACpV,SAASkpD,EAAcpkC;UAAU,KAAK,IAAItqB,IAAI,GAAGA,IAAIwhB,UAAUzhB,QAAQC,KAAK;YAAE,IAAI+5B,IAAS,QAAQvY,UAAUxhB,KAAKwhB,UAAUxhB,KAAK,CAAC;YAAGA,IAAI,IAAIs2B,EAAQ7+B,OAAOsiC,KAAAA,GAAa30B,SAAQ,SAAUxI;cAAOyxD,EAAgB/jC,GAAQ1tB,GAAKm9B,EAAOn9B;AAAQ,kBAAInF,OAAOk3D,4BAA4Bl3D,OAAOsvD,iBAAiBz8B,GAAQ7yB,OAAOk3D,0BAA0B50B,MAAWzD,EAAQ7+B,OAAOsiC,IAAS30B,SAAQ,SAAUxI;cAAOnF,OAAOC,eAAe4yB,GAAQ1tB,GAAKnF,OAAOiP,yBAAyBqzB,GAAQn9B;AAAQ;AAAG;UAAE,OAAO0tB;AAAQ;QACzf,MAAMwI,IAAM,cAAmB;QAC/BA,EAAI+R,SAAS,EAAAF,OAAA;QACb,IAAIiqB,IAAS;QAmEb,MASMpzD,IAAMgwC,eAAgBqjB;UAC1B,IAAIC,IAAWttC,UAAUzhB,SAAS,gBAAKyhB,UAAU,KAAmBA,UAAU,KAAK,CAAC;UAEpF,MAAM8Y,IAAiB;YACrBy0B,MAAM;YACNC,SAAS,CAAC;;WAHQxtC,UAAUzhB,SAAS,gBAAKyhB,UAAU,KAAmBA,UAAU,KAAK,CAAC,GAKvEytC,cAChB30B,EAAe00B,UAAUN,EAAcA,EAAc,CAAC,GAAGp0B,EAAe00B,UA9B5E;YACE,MAAMA,IAAU,CAAC;YAGjB,OAFIJ,MAAQI,EArDY,eAqDiBJ,IAElCI;AACT,WALA;UAgCE,MAAMnxD,IAAU,IAAMy8B,GAAgBw0B,GAAU;YAC9C7kD,QAAQ;cAEJI,UAtDRmhC,eAA6BqjB,GAAKn7B;YAChC,IAAIw7B,IAAO;YACX;cACEA,IAAO,IAAIC,IAAIN;AACA,cAAf,OAAO3yD,IAAQ;YAajB,OAAOkzD,MAAMP,GAAKn7B;AACpB,WAlBA8X,CAsDuCqjB,GAAKhxD;UAC1C,IAAIwM,EAASglD,IACX,OAAOhlD,EAASV;UAGlB,MAlCF,SAA0BU;YACxByoB,EAAIw8B,KAAK,aAAajlD,EAAS2gD,UAAU3gD,EAASklD,eAClDz8B,EAAIw8B,KAAK,QAAQjlD,EAASwkD;AAC5B,WAHA,CAiCmBxkD,IACXA;AACR;QAAE,IAAF;QC9FA,SAASgqB,KAET;QACA,MACMm7B,IAAM;QAEZ,MAAMC,UAA8B,EAAArlB;UAClCjyC,YAAY6kD;YACV,KAAI,MACFp/C,GAAI,QACJ0sB,GAAM,cACNolC,IAAe7sC,QAAM,cACrB8sC,IAAe,OACb3S;YAYJ,IAXAvkD,MAAM;cACJu4C,aAAW;gBAEbqd,EAAgB/2D,MAAM,cAAQ,IAC9B+2D,EAAgB/2D,MAAM,iBAAW,IACjC+2D,EAAgB/2D,MAAM,cAAQ,IAC9B+2D,EAAgB/2D,MAAM,gBAAU,IAChC+2D,EAAgB/2D,MAAM,sBAAgB;YACtC+2D,EAAgB/2D,MAAM,sBAAgB,IACtC+2D,EAAgB/2D,MAAM,mBAAa,IACnC+2D,EAAgB/2D,MAAM,uBAAiB,KAClCsG,MAAS0sB,GACZ,MAAM,IAAIpyB,MAAM;YAElBZ,KAAKs4D,SAAAA,GACLt4D,KAAKu4D,YAAAA,GACLv4D,KAAKw4D,QAAQlyD,GACbtG,KAAKy4D,UAAUzlC,GACfhzB,KAAK04D,gBAAgBN,GACrBp4D,KAAK24D,gBAAgBN,GACrBr4D,KAAK44D,aAAa54D,KAAK64D,UAAU33B,KAAKlhC;YACtCA,KAAK84D,iBAAiB,MACtBvtC,OAAOiW,iBAAiB,WAAWxhC,KAAK44D,aAAW,IACnD54D,KAAK+4D;AACP;UACAC;YACEh5D,KAAKkrD,QACLlrD,KAAK4kC,OApCG,OAoCS,MAAM7H,IACvB/8B,KAAKu4D,YAAAA,GACLv4D,KAAKs4D,SAAAA;AACP;UACAS;YACE/4D,KAAK4kC,OA3CG,OA2CS,MAAM7H,IACvB/8B,KAAKkrD;AACP;UACA+N,QAAQj4D;YACN,IAAKhB,KAAKs4D,OAYH,IAzDC,UAyDGt3D,GACThB,KAAKg5D,eAGL;cACEh5D,KAAK2I,KAAK3H;AAGZ,cAFE,OAAO+8B;cACP/9B,KAAK2gC,KAAK,SAAS5C;AACrB,mBAnEM,UAiDF/8B,KACFhB,KAAKu4D,YAAAA,GACLv4D,KAAK4kC,OAAOszB,GAAK,MAAMn7B,MACd/7B,MAASk3D,MAClBl4D,KAAKs4D,SAAAA,GACAt4D,KAAKu4D,YACRv4D,KAAK4kC,OAAOszB,GAAK,MAAMn7B;YAEzB/8B,KAAKmrD;AAYX;UACA+N,aAAal4D;YACX,MAAMm4D,IAAmBn5D,KAAK24D;YAC9B34D,KAAK04D,cAAcU,YAAY;cAC7BpmC,QAAQhzB,KAAKy4D;cACbz3D,MAAAA;eACCm4D;AACL;UACAN,UAAUzc;YACR,MAAMr7C,IAAUq7C,EAAMp7C;YAEK,QAAvBhB,KAAK24D,iBAAyBvc,EAAMid,WAAWr5D,KAAK24D,iBAAiBvc,EAAM3Z,WAAWziC,KAAK04D,iBAAoC,mBAAZ33D,KAAwBA,EAAQiyB,WAAWhzB,KAAKw4D,UAAUz3D,EAAQC,QAGzLhB,KAAKi5D,QAAQl4D,EAAQC;AACvB;UACA6jC,SAEA;UACAD,OAAO5jC,GAAMa,GAAG8xC;YACd3zC,KAAKk5D,aAAal4D,IAClB2yC;AACF;UACAc;YACElpB,OAAOmW,oBAAoB,WAAW1hC,KAAK44D,aAAW;AACxD;;QAGF,SAASU,EAAU35B,GAAS/tB,GAAS4T;UACnC;YACEqZ,QAAQ/M,MAAM6N,GAAS/tB,GAAS4T;AAMlC,YALE,OAAOuY;YAEP4R,YAAW;cACT,MAAM5R;AAAG;AAEb;AACF;QASA,MAAMw7B,UAAyB,EAAAp6B;UAC7BwB,KAAKlS;YACH,IAAIoT,IAAmB,YAATpT;YACd,MAAM8R,IAASvgC,KAAK6/B;YACpB,eAAIU,GACFsB,IAAUA,UAAAA,MAAWtB,EAAO37B,YACvB,KAAKi9B,GACV,QAAM;YAGR,KAAK,IAAI23B,IAAOtvC,UAAUzhB,QAAQ+c,IAAO,IAAI5hB,MAAM41D,IAAO,IAAIA,IAAO,IAAI,IAAIC,IAAO,GAAGA,IAAOD,GAAMC,KAClGj0C,EAAKi0C,IAAO,KAAKvvC,UAAUuvC;YAE7B,IAAI53B,GAAS;cACX,IAAIrmB;cAIJ,IAHIgK,EAAK/c,SAAS,OACf+S,KAAMgK,IAELhK,aAAc5a,OAGhB,MAAM4a;cAGR,MAAMuiB,IAAM,IAAIn9B,MAAM,sBAAmB4a,IAAK,KAAKA,EAAGza,aAAa;cAEnE,MADAg9B,EAAInsB,UAAU4J,GACRuiB;AACR;YAEA,MAAM4B,IAAUY,EAAO9R;YACvB,eAAIkR,GACF,QAAM;YAER,IAAuB,qBAAZA,GACT25B,EAAU35B,GAAS3/B,MAAMwlB,SACpB;cACL,MAAMtL,IAAMylB,EAAQl3B,QACdq5B,IA7CZ,SAAoBtnB;gBAClB,MAAMkQ,IAAIlQ,EAAI/R,QACRulB,IAAO,IAAIpqB,MAAM8mB;gBACvB,KAAK,IAAIhiB,IAAI,GAAGA,IAAIgiB,GAAGhiB,KAAK,GAC1BslB,EAAKtlB,KAAK8R,EAAI9R;gBAEhB,OAAOslB;AACT,eAPA,CA6CmC2R;cAC7B,KAAK,IAAIj3B,IAAI,GAAGA,IAAIwR,GAAKxR,KAAK,GAC5B4wD,EAAUx3B,EAAUp5B,IAAI1I,MAAMwlB;AAElC;YACA,QAAM;AACR;;QAGF,MAAMk0C,UAA0B94D;UAC9BC,YAAY6kD;YACV,KAAI,MACF5kD,GAAI,SACJC,GAAO,MACPC,KACE0kD;YACJ,KAAKzkD,OAAOC,UAAUJ,IACpB,MAAM,IAAIF,MAAM;YAElB,KAAKG,KAA8B,mBAAZA,GACrB,MAAM,IAAIH,MAAM;YAElBO,MAAMJ,IACNg2D,EAAgB/2D,MAAM,aAAO,IAC7B+2D,EAAgB/2D,MAAM,aAAO,IAC7BA,KAAKc,OAAOA,QAAAA,MACRE,MACFhB,KAAKgB,OAAOA;AAEhB;UACAU;YACE,OAAO,IAAU;cACfZ,MAAMd,KAAKc;cACXC,SAASf,KAAKe;cACdC,MAAMhB,KAAKgB;cACXS,OAAOzB,KAAKyB;;AAEhB;;QAqLF,SAASk4D,EAAUz0D,GAAQgyD;UAAkB,IAAIhpD,IAAO/N,OAAO+N,KAAKhJ;UAAS,IAAI/E,OAAO8+B,uBAAuB;YAAE,IAAIk4B,IAAUh3D,OAAO8+B,sBAAsB/5B;YAASgyD,MAAmBC,IAAUA,EAAQp9C,QAAO,SAAU0e;cAAO,OAAOt4B,OAAOiP,yBAAyBlK,GAAQuzB,GAAKx0B;AAAa,kBAAIiK,EAAKvF,KAAKmpB,MAAM5jB,GAAMipD;AAAU;UAAE,OAAOjpD;AAAM;QAMtV,MAAM0rD,UAAmBL;UACvB14D;YACEM,SACA41D,EAAgB/2D,MAAM,oBAAc,IACpCA,KAAK65D,cAAc;AACrB;UAQAC,+BAA+Bx7B,GAAK/T,GAAKwvC;YACvC,MAAMC,IAAiB;YACvB,IAAIp1D,IAAQ,MACRq1D,KAAAA;YAEJ,KAAK,MAAMC,KAAcH,GAEvB,KADCn1D,GAAOq1D,WAAoBL,EAAWO,eAAe77B,GAAK/T,GAAK2vC,GAAYF,IACxEC,GACF;YAGJ,OAAO,EAACr1D,GAAOq1D,GAAYD,EAAenvD;AAC5C;UAOAivD,sBAAsBx7B,GAAK/T,GAAK2vC,GAAYF;YAC1C,OAAO,IAAI36B,SAAQC;cACjB,MAAM3S,IAAMoR;gBACV,MAAMn5B,IAAQm5B,KAAOxT,EAAI3lB;gBACrBA,MACF2lB,EAAI3lB,SAAAA,GAAQ,MAAeA,KAG7B06B,EAAQ,EAAC16B,IAAAA;AAAO,iBAEZ8U,IAAO0gD;gBACP7vC,EAAI3lB,QACN+nB,EAAIpC,EAAI3lB,UAEJw1D,MAC2B,qBAAlBA,KACTztC,EAAI,IAAI+sC,EAAkB;kBACxB54D,OAAO;kBACPC,SAAS;qBAGbi5D,EAAerxD,KAAKyxD,KAGtB96B,EAAQ,EAAC,OAAK;AAAC;cAGnB;gBACE46B,EAAW57B,GAAK/T,GAAK7Q,GAAMiT;AAG7B,gBAFE,OAAO/nB;gBACP+nB,EAAI/nB;AACN;AAAA;AAEJ;UAKAk1D,gCAAgCO;YAC9B,KAAK,MAAM16B,KAAW06B,SACd,IAAIh7B,SAAQ,CAACC,GAASC;cAC1BI,GAAQ5B,KAAOA,IAAMwB,EAAOxB,KAAOuB;AAAU;AAGnD;UAKAw6B,2BAA2Bx7B,GAAK/T,GAAK0vC;YACnC,MAAM,YAAY1vC,QAAU,WAAWA,IACrC,MAAM,IAAImvC,EAAkB;cAC1B54D,OAAO;cACPC,SAAS;;YAGb,KAAKk5D,GACH,MAAM,IAAIP,EAAkB;cAC1B54D,OAAO;cACPC,SAAS;;AAGf;UAMA4H,KAAKuxD;YACHl6D,KAAK65D,YAAYlxD,KAAKuxD;AACxB;UACAI,OAAOh8B,GAAKqV;YACV,IAAIA,KAAoB,qBAAPA,GACf,MAAM,IAAI/yC,MAAM;YAElB,OAAIgD,MAAMC,QAAQy6B,KACZqV,IACK3zC,KAAKu6D,aAAaj8B,GAAKqV,KAEzB3zC,KAAKu6D,aAAaj8B,KAEvBqV,IACK3zC,KAAKw6D,QAAQl8B,GAAKqV,KAEpB3zC,KAAKy6D,eAAen8B;AAC7B;UAOAo8B;YACE,OAAOxmB,OAAO5V,GAAK/T,GAAK7Q,GAAMiT;cAC5B;gBACE,OAAOguC,GAAiBV,GAAYD,WAAwBJ,EAAWgB,kBAAkBt8B,GAAK/T,GAAKvqB,KAAK65D;gBACxG,OAAII,WACIL,EAAWiB,mBAAmBb,IAC7BrtC,EAAIguC,MAENjhD,GAAAA,MAAKw6B;kBACV;0BACQ0lB,EAAWiB,mBAAmBb;AAGtC,oBAFE,OAAOp1D;oBACP,OAAOk2D,EAAgBl2D;AACzB;kBACA,OAAOk2D;AAAiB;AAI5B,gBAFE,OAAOl2D;gBACP,OAAO+nB,EAAI/nB;AACb;AAAA;AAEJ;UACAsvC,mBAAmB6mB,GAAMpnB;YAEvB;cAGE,MAAMqnB,UAAkB37B,QAAQ47B,IAEhCF,EAAKl2D,IAAI7E,KAAKy6D,eAAev5B,KAAKlhC;cAElC,OAAI2zC,IACKA,EAAG,MAAMqnB,KAEXA;AAMT,cALE,OAAOp2D;cACP,IAAI+uC,GACF,OAAOA,EAAG/uC;cAEZ,MAAMA;AACR;AACF;UAIA61D,eAAen8B;YACb,OAAO,IAAIe,SAAQC;cACjBt/B,KAAKw6D,QAAQl8B,IAAAA,CAAM48B,GAAM3wC;gBAGvB+U,EAAQ/U;AAAI;AACZ;AAEN;UAOA2pB,cAAcinB,GAAWxnB;YACvB,KAAKwnB,KAAav3D,MAAMC,QAAQs3D,MAAmC,mBAAdA,GAAwB;cAC3E,MAAMv2D,IAAQ,IAAI80D,EAAkB;gBAClC54D,OAAO;gBACPC,SAAS;;cAEX,OAAO4yC,EAAG/uC,GAAO;gBACf6N,SAAG;gBACHC,SAAS;gBACT9N,OAAAA;;AAEJ;YACA,IAAgC,mBAArBu2D,EAAUxoD,QAAqB;cACxC,MAAM/N,IAAQ,IAAI80D,EAAkB;gBAClC54D,OAAO;gBACPC,SAAS;;cAEX,OAAO4yC,EAAG/uC,GAAO;gBACf6N,IAAI0oD,EAAU1oD;gBACdC,SAAS;gBACT9N,OAAAA;;AAEJ;YACA,MAAM05B,IAnNV,SAAyBtL;cAAU,KAAK,IAAItqB,IAAI,GAAGA,IAAIwhB,UAAUzhB,QAAQC,KAAK;gBAAE,IAAI+5B,IAAS,QAAQvY,UAAUxhB,KAAKwhB,UAAUxhB,KAAK,CAAC;gBAAGA,IAAI,IAAIixD,EAAUx5D,OAAOsiC,KAAAA,GAAa30B,SAAQ,SAAUxI;kBAAOyxD,EAAgB/jC,GAAQ1tB,GAAKm9B,EAAOn9B;AAAQ,sBAAInF,OAAOk3D,4BAA4Bl3D,OAAOsvD,iBAAiBz8B,GAAQ7yB,OAAOk3D,0BAA0B50B,MAAWk3B,EAAUx5D,OAAOsiC,IAAS30B,SAAQ,SAAUxI;kBAAOnF,OAAOC,eAAe4yB,GAAQ1tB,GAAKnF,OAAOiP,yBAAyBqzB,GAAQn9B;AAAQ;AAAG;cAAE,OAAO0tB;AAAQ,aAA/f,CAmNgC,CAAC,GAAGmoC,IAC1B5wC,IAAM;cACV9X,IAAI6rB,EAAI7rB;cACRC,SAAS4rB,EAAI5rB;;YAEf,IAAI9N,IAAQ;YACZ;oBACQ5E,KAAKo7D,gBAAgB98B,GAAK/T;AAKlC,cAJE,OAAO8wC;cAGPz2D,IAAQy2D;AACV;YAQA,OAPIz2D,aAEK2lB,EAAI9d,QACN8d,EAAI3lB,UACP2lB,EAAI3lB,SAAAA,GAAQ,MAAeA,MAGxB+uC,EAAG/uC,GAAO2lB;AACnB;UAMA2pB,sBAAsB5V,GAAK/T;YACzB,OAAO3lB,GAAOq1D,GAAYD,WAAwBJ,EAAWgB,kBAAkBt8B,GAAK/T,GAAKvqB,KAAK65D;YAS9F,IANAD,EAAW0B,oBAAoBh9B,GAAK/T,GAAK0vC,UAGnCL,EAAWiB,mBAAmBb,IAGhCp1D,GACF,MAAMA;AAEV;;QAiGF,MAAM22D,UAAkB,EAAAzoB;UACtBjyC,YAAY6kD;YACV,KAAI,QACFjiB,GAAM,MACNn9B,KACEo/C;YACJvkD,MAAM;cACJu4C,aAAW;gBAEbqd,EAAgB/2D,MAAM,gBAAU,IAChC+2D,EAAgB/2D,MAAM,cAAQ,IAC9BA,KAAKw7D,UAAU/3B,GACfzjC,KAAKw4D,QAAQlyD;AACf;UAIAu+B,SAEA;UAQAD,OAAOkP,GAAO2nB,GAAWv+B;YACvBl9B,KAAKw7D,QAAQ7yD,KAAK;cAChBrC,MAAMtG,KAAKw4D;cACXx3D,MAAM8yC;gBAER5W;AACF;;QAGF,SAAS,EAAQh4B,GAAQgyD;UAAkB,IAAIhpD,IAAO/N,OAAO+N,KAAKhJ;UAAS,IAAI/E,OAAO8+B,uBAAuB;YAAE,IAAIk4B,IAAUh3D,OAAO8+B,sBAAsB/5B;YAASgyD,MAAmBC,IAAUA,EAAQp9C,QAAO,SAAU0e;cAAO,OAAOt4B,OAAOiP,yBAAyBlK,GAAQuzB,GAAKx0B;AAAa,kBAAIiK,EAAKvF,KAAKmpB,MAAM5jB,GAAMipD;AAAU;UAAE,OAAOjpD;AAAM;QACpV,SAAS,EAAc8kB;UAAU,KAAK,IAAItqB,IAAI,GAAGA,IAAIwhB,UAAUzhB,QAAQC,KAAK;YAAE,IAAI+5B,IAAS,QAAQvY,UAAUxhB,KAAKwhB,UAAUxhB,KAAK,CAAC;YAAGA,IAAI,IAAI,EAAQvI,OAAOsiC,KAAAA,GAAa30B,SAAQ,SAAUxI;cAAOyxD,EAAgB/jC,GAAQ1tB,GAAKm9B,EAAOn9B;AAAQ,kBAAInF,OAAOk3D,4BAA4Bl3D,OAAOsvD,iBAAiBz8B,GAAQ7yB,OAAOk3D,0BAA0B50B,MAAW,EAAQtiC,OAAOsiC,IAAS30B,SAAQ,SAAUxI;cAAOnF,OAAOC,eAAe4yB,GAAQ1tB,GAAKnF,OAAOiP,yBAAyBqzB,GAAQn9B;AAAQ;AAAG;UAAE,OAAO0tB;AAAQ;QACzf,MAAM0oC,IAAmB9tD,OAAO;QAChC,MAAM+tD,UAAwB,EAAA7oB;UAC5BjyC;YAEEM,MAAM,EAAc,EAAc,CAAC,GADxB+oB,UAAUzhB,SAAS,gBAAKyhB,UAAU,KAAmBA,UAAU,KAAK,CAAC,IACnC,CAAC,GAAG;cAC/CwvB,aAAW;iBAEbqd,EAAgB/2D,MAAM,oBAAc,IACpC+2D,EAAgB/2D,MAAM,kBAAY,IAClCA,KAAK47D,cAAc,CAAC;AACtB;UACAC,aAAav1D;YAEX,KAAKA,GACH,MAAM,IAAI1F,MAAM;YAElB,IAAIZ,KAAK47D,YAAYt1D,IACnB,MAAM,IAAI1F,MAAM,yCAAyC0F;YAG3D,MAAMw1D,IAAY,IAAIP,EAAU;cAC9B93B,QAAQzjC;cACRsG,MAAAA;;YAMF,OAJAtG,KAAK47D,YAAYt1D,KAAQw1D,GA4C7B,SAAsB7+B,GAAQ8+B;cAC5B,MAAMpoB,IAAK,KA1CU0nB,KAAUS,EAAU1gC,QAAQigC,UAAAA;cA2CjD,IAAIp+B,GAAQ;gBACVM,WAAS;iBACRoW,IACH,IAAI1W,GAAQ;gBACV5tB,WAAS;iBACRskC;AACL,aARA,CAzCiB3zC,OACN87D;AACT;UAEAE,aAAa11D;YAEX,KAAKA,GACH,MAAM,IAAI1F,MAAM;YAElB,IAAIZ,KAAK47D,YAAYt1D,IACnB,MAAM,IAAI1F,MAAM,yCAAyC0F;YAG3DtG,KAAK47D,YAAYt1D,KAAQo1D;AAC3B;UACA72B,SAEA;UACAD,OAAOkP,GAAO2nB,GAAWv+B;YACvB,OAAM,MACJ52B,GAAI,MACJtF,KACE8yC;YACJ,KAAKxtC,GAEH,OADAilB,OAAO9F,QAAQ6V,KAAK,mDAAmDwY,OAChE5W;YAGT,MAAM4+B,IAAY97D,KAAK47D,YAAYt1D;YACnC,OAAKw1D,KAKDA,MAAcJ,KAChBI,EAAUnzD,KAAK3H,IAEVk8B,QAPL3R,OAAO9F,QAAQ6V,KAAK,+CAA+Ch1B,OAC5D42B;AAOX;;QC/zBK,MAAM++B,IAAmB;UAC9BC,QAAQ;UACRC,UAAU;UACVC,QAAQ;UACRC,QAAQ;UACRC,SAAS;UACTC,oBAAoB;WAGTC,IAAgC;UAC3C,CAACP,EAAiBC,SAAS;UAC3B,CAACD,EAAiBE,WAAW;UAC7B,CAACF,EAAiBG,SAAS;UAC3B,CAACH,EAAiBI,SAAS;UAC3B,CAACJ,EAAiBK,UAAU;UAC5B,CAACL,EAAiBM,qBAAqB;WAG5BE,IAAmB;UAC9BC,SAAS;UACTC,MAAM;UACNC,aAAa;UACbC,SAAS;UACTC,UAAU;UACVC,SAAS;UACTC,OAAO;WAGIC,IAA4B;UACvCC,SAAS;UACTC,OAAO;UACPC,aAAa;UACbC,mBAAmB;UACnBC,MAAM;UACNC,kBAAkB;UAClBC,kBAAkB;WAGPC,IAAkB;UAC7BC,YAAY;UACZC,aAAa;UACbC,SAAS;UACTC,SAAS;UACTC,KAAK;UACLC,MAAM;UACNC,KAAK;UACLC,SAAS;UACTC,OAAO;WAuBIC,IAAkB;UAC7BC,aAAa;UACbC,UAAU;UACVC,cAAc;UACdC,WAAW;WC4NPC,IAAqC;UAGzC,CAAC/B,EAAiBC,UAAU,EAC1B,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA;UAMF,CAACD,EAAiBE,OAAO,EACvB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA;UAGF,CAACF,EAAiBG,cAAc,EAC9B,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA;UAGF,CAACH,EAAiBI,UAAU,EAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO;UAG5F,CAACJ,EAAiBK,WAAW,EAC3B,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA;UAOF,CAACL,EAAiBM,UAAU,EAC1B,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA;UAEF,CAACN,EAAiBO,QAAQ,EAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO;WAGvIyB,IAA6B,IAAItwD,IApfE,EACvC,OACA,QACA,QACA,QACA,SACA,OACA,OACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,SACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,UACA,SACA,OACA,OACA,UACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,QACA,OACA,QACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,OACA,OACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,QACA,OACA,OACA,QACA,QACA,QACA,OACA,OACA,OACA,YACA,QACA,OACA,OACA,WACA,UACA,OACA,UACA,QACA,QACA,SACA,OACA,OACA,OACA,OACA,QACA,OACA,QACA,OACA,OACA,OACA,SACA,OACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,SACA,OACA,OACA,OACA,SACA,OACA,QACA,OACA,QACA,QACA,QACA,QACA,QACA,SACA,QACA,QACA,QACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,OACA,QACA,SACA,SACA,OACA,OACA,OACA,OACA,SACA,QACA;QA8NK,SAASuwD,EAAwB97D;UAEtC,OADwC47D,EAAmC57D,GACpCmX,QAAQ4kD,KAAaF,EAA2BrxD,IAAIuxD;AAC7F;QChgBA,MAAMC,IAAmB;UACvB,CAACnC,EAAiBC,UAAU;YAC1BmC,OAAO;YACPC,OAAO;YACPC,OAAO;YACPC,aAAa;YACbC,eAAe;YACfC,eAAe;YACfC,iBAAiBT,EAAwBjC,EAAiBC;YAC1D0C,8BAA8B;cAC5B,CAACnC,EAA0BC,UAAU,EACnC;gBAAE78D,OAAO;gBAAQg/D,SAAS;iBAC1B;gBAAEh/D,OAAO;gBAAOg/D,SAAS;iBACzB;gBAAEh/D,OAAO;gBAAOg/D,SAAS;iBACzB;gBAAEh/D,OAAO;gBAAOg/D,SAAS;iBACzB;gBAAEh/D,OAAO;gBAAOg/D,SAAS;iBACzB;gBAAEh/D,OAAO;gBAASg/D,SAAS;iBAC3B;gBAAEh/D,OAAO;gBAAQg/D,SAAS;iBAC1B;gBAAEh/D,OAAO;gBAAOg/D,SAAS;iBACzB;gBAAEh/D,OAAO;gBAAQg/D,SAAS;iBAC1B;gBAAEh/D,OAAO;gBAAQg/D,SAAS;;cAE5B,CAACpC,EAA0BE,QAAQ,EACjC;gBAAE98D,OAAO;gBAAeg/D,SAAS;iBACjC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","sources":["webpack://token-outlet-website/../../src/wallet/TorusProvider.ts","webpack://token-outlet-website/Torus/webpack/universalModuleDefinition","webpack://token-outlet-website/Torus/./node_modules/@metamask/rpc-errors/dist/classes.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/rpc-errors/dist/error-constants.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/rpc-errors/dist/errors.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/rpc-errors/dist/index.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/rpc-errors/dist/utils.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/assert.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/base64.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/bytes.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/checksum.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/coercers.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/collections.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/encryption-types.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/hex.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/index.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/json.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/keyring.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/logging.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/misc.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/number.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/opaque.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/time.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/transaction-types.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/dist/versions.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/lru-cache/index.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/classes/comparator.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/classes/range.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/classes/semver.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/clean.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/cmp.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/coerce.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/compare-build.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/compare-loose.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/compare.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/diff.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/eq.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/gt.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/gte.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/inc.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/lt.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/lte.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/major.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/minor.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/neq.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/parse.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/patch.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/prerelease.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/rcompare.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/rsort.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/satisfies.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/sort.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/functions/valid.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/index.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/internal/constants.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/internal/debug.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/internal/identifiers.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/internal/parse-options.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/internal/re.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/gtr.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/intersects.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/ltr.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/max-satisfying.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/min-satisfying.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/min-version.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/outside.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/simplify.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/subset.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/to-comparators.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/semver/ranges/valid.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/yallist/iterator.js","webpack://token-outlet-website/Torus/./node_modules/@metamask/utils/node_modules/yallist/yallist.js","webpack://token-outlet-website/Torus/./node_modules/abort-controller/browser.js","webpack://token-outlet-website/Torus/./node_modules/base64-js/index.js","webpack://token-outlet-website/Torus/./node_modules/buffer/index.js","webpack://token-outlet-website/Torus/./node_modules/debug/src/browser.js","webpack://token-outlet-website/Torus/./node_modules/debug/src/common.js","webpack://token-outlet-website/Torus/./node_modules/end-of-stream/index.js","webpack://token-outlet-website/Torus/./node_modules/events/events.js","webpack://token-outlet-website/Torus/./node_modules/fast-deep-equal/index.js","webpack://token-outlet-website/Torus/./node_modules/fast-safe-stringify/index.js","webpack://token-outlet-website/Torus/./node_modules/ieee754/index.js","webpack://token-outlet-website/Torus/./node_modules/is-stream/index.js","webpack://token-outlet-website/Torus/./node_modules/lodash.merge/index.js","webpack://token-outlet-website/Torus/./node_modules/loglevel/lib/loglevel.js","webpack://token-outlet-website/Torus/./node_modules/ms/index.js","webpack://token-outlet-website/Torus/./node_modules/once/once.js","webpack://token-outlet-website/Torus/./node_modules/process/browser.js","webpack://token-outlet-website/Torus/./node_modules/pump/index.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/add-abort-signal.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/compose.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/duplex.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/duplexify.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/from.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/legacy.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/operators.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/passthrough.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/readable.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/state.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/transform.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/utils.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/streams/writable.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/internal/validators.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/ours/browser.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/ours/errors.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/ours/primordials.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/ours/util.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/stream.js","webpack://token-outlet-website/Torus/./node_modules/readable-stream/lib/stream/promises.js","webpack://token-outlet-website/Torus/./node_modules/safe-buffer/index.js","webpack://token-outlet-website/Torus/./node_modules/string_decoder/lib/string_decoder.js","webpack://token-outlet-website/Torus/./node_modules/wrappy/wrappy.js","webpack://token-outlet-website/Torus/./node_modules/superstruct/dist/index.mjs","webpack://token-outlet-website/Torus/webpack/bootstrap","webpack://token-outlet-website/Torus/webpack/runtime/compat get default export","webpack://token-outlet-website/Torus/webpack/runtime/define property getters","webpack://token-outlet-website/Torus/webpack/runtime/global","webpack://token-outlet-website/Torus/webpack/runtime/hasOwnProperty shorthand","webpack://token-outlet-website/Torus/webpack/runtime/make namespace object","webpack://token-outlet-website/Torus/webpack/runtime/node module decorator","webpack://token-outlet-website/Torus/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://token-outlet-website/Torus/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://token-outlet-website/Torus/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://token-outlet-website/Torus/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://token-outlet-website/Torus/./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js","webpack://token-outlet-website/Torus/./node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js","webpack://token-outlet-website/Torus/./src/interfaces.ts","webpack://token-outlet-website/Torus/./src/supportedCurrencies.ts","webpack://token-outlet-website/Torus/./src/config.ts","webpack://token-outlet-website/Torus/./src/embedUtils.ts","webpack://token-outlet-website/Torus/./src/loglevel.ts","webpack://token-outlet-website/Torus/./src/messages.ts","webpack://token-outlet-website/Torus/./src/ObservableStore.ts","webpack://token-outlet-website/Torus/./src/ObservableStoreStream.ts","webpack://token-outlet-website/Torus/./src/utils.ts","webpack://token-outlet-website/Torus/./src/inpage-provider.ts","webpack://token-outlet-website/Torus/./src/PopupHandler.ts","webpack://token-outlet-website/Torus/./src/siteMetadata.ts","webpack://token-outlet-website/Torus/./src/embed.ts","webpack://token-outlet-website/Torus/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://token-outlet-website/Torus/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":[null,"(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Torus\"] = factory();\n\telse\n\t\troot[\"Torus\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumProviderError = exports.JsonRpcError = void 0;\nconst utils_1 = require(\"@metamask/utils\");\nconst fast_safe_stringify_1 = __importDefault(require(\"fast-safe-stringify\"));\nconst utils_2 = require(\"./utils\");\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP-1474.\n *\n * Permits any integer error code.\n */\nclass JsonRpcError extends Error {\n    constructor(code, message, data) {\n        if (!Number.isInteger(code)) {\n            throw new Error('\"code\" must be an integer.');\n        }\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a non-empty string.');\n        }\n        super(message);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n    /**\n     * Get the error as JSON-serializable object.\n     *\n     * @returns A plain object with all public class properties.\n     */\n    serialize() {\n        const serialized = {\n            code: this.code,\n            message: this.message,\n        };\n        if (this.data !== undefined) {\n            // `this.data` is not guaranteed to be a plain object, but this simplifies\n            // the type guard below. We can safely cast it because we know it's a\n            // JSON-serializable value.\n            serialized.data = this.data;\n            if ((0, utils_1.isPlainObject)(this.data)) {\n                serialized.data.cause = (0, utils_2.serializeCause)(this.data.cause);\n            }\n        }\n        if (this.stack) {\n            serialized.stack = this.stack;\n        }\n        return serialized;\n    }\n    /**\n     * Get a string representation of the serialized error, omitting any circular\n     * references.\n     *\n     * @returns A string representation of the serialized error.\n     */\n    toString() {\n        return (0, fast_safe_stringify_1.default)(this.serialize(), stringifyReplacer, 2);\n    }\n}\nexports.JsonRpcError = JsonRpcError;\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends JsonRpcError {\n    /**\n     * Create an Ethereum Provider JSON-RPC error.\n     *\n     * @param code - The JSON-RPC error code. Must be an integer in the\n     * `1000 <= n <= 4999` range.\n     * @param message - The JSON-RPC error message.\n     * @param data - Optional data to include in the error.\n     */\n    constructor(code, message, data) {\n        if (!isValidEthProviderCode(code)) {\n            throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n        }\n        super(code, message, data);\n    }\n}\nexports.EthereumProviderError = EthereumProviderError;\n/**\n * Check if the given code is a valid JSON-RPC error code.\n *\n * @param code - The code to check.\n * @returns Whether the code is valid.\n */\nfunction isValidEthProviderCode(code) {\n    return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\n/**\n * A JSON replacer function that omits circular references.\n *\n * @param _ - The key being replaced.\n * @param value - The value being replaced.\n * @returns The value to use in place of the original value.\n */\nfunction stringifyReplacer(_, value) {\n    if (value === '[Circular]') {\n        return undefined;\n    }\n    return value;\n}\n//# sourceMappingURL=classes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorValues = exports.errorCodes = void 0;\nexports.errorCodes = {\n    rpc: {\n        invalidInput: -32000,\n        resourceNotFound: -32001,\n        resourceUnavailable: -32002,\n        transactionRejected: -32003,\n        methodNotSupported: -32004,\n        limitExceeded: -32005,\n        parse: -32700,\n        invalidRequest: -32600,\n        methodNotFound: -32601,\n        invalidParams: -32602,\n        internal: -32603,\n    },\n    provider: {\n        userRejectedRequest: 4001,\n        unauthorized: 4100,\n        unsupportedMethod: 4200,\n        disconnected: 4900,\n        chainDisconnected: 4901,\n    },\n};\n/* eslint-disable @typescript-eslint/naming-convention */\nexports.errorValues = {\n    '-32700': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    },\n    '-32600': {\n        standard: 'JSON RPC 2.0',\n        message: 'The JSON sent is not a valid Request object.',\n    },\n    '-32601': {\n        standard: 'JSON RPC 2.0',\n        message: 'The method does not exist / is not available.',\n    },\n    '-32602': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid method parameter(s).',\n    },\n    '-32603': {\n        standard: 'JSON RPC 2.0',\n        message: 'Internal JSON-RPC error.',\n    },\n    '-32000': {\n        standard: 'EIP-1474',\n        message: 'Invalid input.',\n    },\n    '-32001': {\n        standard: 'EIP-1474',\n        message: 'Resource not found.',\n    },\n    '-32002': {\n        standard: 'EIP-1474',\n        message: 'Resource unavailable.',\n    },\n    '-32003': {\n        standard: 'EIP-1474',\n        message: 'Transaction rejected.',\n    },\n    '-32004': {\n        standard: 'EIP-1474',\n        message: 'Method not supported.',\n    },\n    '-32005': {\n        standard: 'EIP-1474',\n        message: 'Request limit exceeded.',\n    },\n    '4001': {\n        standard: 'EIP-1193',\n        message: 'User rejected the request.',\n    },\n    '4100': {\n        standard: 'EIP-1193',\n        message: 'The requested account and/or method has not been authorized by the user.',\n    },\n    '4200': {\n        standard: 'EIP-1193',\n        message: 'The requested method is not supported by this Ethereum provider.',\n    },\n    '4900': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from all chains.',\n    },\n    '4901': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from the specified chain.',\n    },\n};\n/* eslint-enable @typescript-eslint/naming-convention */\n//# sourceMappingURL=error-constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.providerErrors = exports.rpcErrors = void 0;\nconst classes_1 = require(\"./classes\");\nconst error_constants_1 = require(\"./error-constants\");\nconst utils_1 = require(\"./utils\");\nexports.rpcErrors = {\n    /**\n     * Get a JSON RPC 2.0 Parse (-32700) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    parse: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.parse, arg),\n    /**\n     * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    invalidRequest: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest, arg),\n    /**\n     * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    invalidParams: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams, arg),\n    /**\n     * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    methodNotFound: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound, arg),\n    /**\n     * Get a JSON RPC 2.0 Internal (-32603) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    internal: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.internal, arg),\n    /**\n     * Get a JSON RPC 2.0 Server error.\n     * Permits integer error codes in the [ -32099 <= -32005 ] range.\n     * Codes -32000 through -32004 are reserved by EIP-1474.\n     *\n     * @param opts - The error options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    server: (opts) => {\n        if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n            throw new Error('Ethereum RPC Server errors must provide single object argument.');\n        }\n        const { code } = opts;\n        if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n            throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n        }\n        return getJsonRpcError(code, opts);\n    },\n    /**\n     * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    invalidInput: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput, arg),\n    /**\n     * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    resourceNotFound: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound, arg),\n    /**\n     * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    resourceUnavailable: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable, arg),\n    /**\n     * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    transactionRejected: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected, arg),\n    /**\n     * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    methodNotSupported: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported, arg),\n    /**\n     * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    limitExceeded: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded, arg),\n};\nexports.providerErrors = {\n    /**\n     * Get an Ethereum Provider User Rejected Request (4001) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    userRejectedRequest: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest, arg);\n    },\n    /**\n     * Get an Ethereum Provider Unauthorized (4100) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    unauthorized: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.unauthorized, arg);\n    },\n    /**\n     * Get an Ethereum Provider Unsupported Method (4200) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    unsupportedMethod: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod, arg);\n    },\n    /**\n     * Get an Ethereum Provider Not Connected (4900) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    disconnected: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.disconnected, arg);\n    },\n    /**\n     * Get an Ethereum Provider Chain Not Connected (4901) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    chainDisconnected: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected, arg);\n    },\n    /**\n     * Get a custom Ethereum Provider error.\n     *\n     * @param opts - The error options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    custom: (opts) => {\n        if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n            throw new Error('Ethereum Provider custom errors must provide single object argument.');\n        }\n        const { code, message, data } = opts;\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a nonempty string');\n        }\n        return new classes_1.EthereumProviderError(code, message, data);\n    },\n};\n/**\n * Get a generic JSON-RPC error class instance.\n *\n * @param code - The error code.\n * @param arg - The error message or options bag.\n * @returns An instance of the {@link JsonRpcError} class.\n */\nfunction getJsonRpcError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.JsonRpcError(code, message ?? (0, utils_1.getMessageFromCode)(code), data);\n}\n/**\n * Get an Ethereum Provider error class instance.\n *\n * @param code - The error code.\n * @param arg - The error message or options bag.\n * @returns An instance of the {@link EthereumProviderError} class.\n */\nfunction getEthProviderError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumProviderError(code, message ?? (0, utils_1.getMessageFromCode)(code), data);\n}\n/**\n * Get an error message and optional data from an options bag.\n *\n * @param arg - The error message or options bag.\n * @returns A tuple containing the error message and optional data.\n */\nfunction parseOpts(arg) {\n    if (arg) {\n        if (typeof arg === 'string') {\n            return [arg];\n        }\n        else if (typeof arg === 'object' && !Array.isArray(arg)) {\n            const { message, data } = arg;\n            if (message && typeof message !== 'string') {\n                throw new Error('Must specify string message.');\n            }\n            return [message ?? undefined, data];\n        }\n    }\n    return [];\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorCodes = exports.providerErrors = exports.rpcErrors = exports.getMessageFromCode = exports.serializeError = exports.serializeCause = exports.EthereumProviderError = exports.JsonRpcError = void 0;\nvar classes_1 = require(\"./classes\");\nObject.defineProperty(exports, \"JsonRpcError\", { enumerable: true, get: function () { return classes_1.JsonRpcError; } });\nObject.defineProperty(exports, \"EthereumProviderError\", { enumerable: true, get: function () { return classes_1.EthereumProviderError; } });\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"serializeCause\", { enumerable: true, get: function () { return utils_1.serializeCause; } });\nObject.defineProperty(exports, \"serializeError\", { enumerable: true, get: function () { return utils_1.serializeError; } });\nObject.defineProperty(exports, \"getMessageFromCode\", { enumerable: true, get: function () { return utils_1.getMessageFromCode; } });\nvar errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"rpcErrors\", { enumerable: true, get: function () { return errors_1.rpcErrors; } });\nObject.defineProperty(exports, \"providerErrors\", { enumerable: true, get: function () { return errors_1.providerErrors; } });\nvar error_constants_1 = require(\"./error-constants\");\nObject.defineProperty(exports, \"errorCodes\", { enumerable: true, get: function () { return error_constants_1.errorCodes; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serializeCause = exports.serializeError = exports.isValidCode = exports.getMessageFromCode = exports.JSON_RPC_SERVER_ERROR_MESSAGE = void 0;\nconst utils_1 = require(\"@metamask/utils\");\nconst error_constants_1 = require(\"./error-constants\");\nconst FALLBACK_ERROR_CODE = error_constants_1.errorCodes.rpc.internal;\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.';\nconst FALLBACK_ERROR = {\n    code: FALLBACK_ERROR_CODE,\n    message: getMessageFromCode(FALLBACK_ERROR_CODE),\n};\nexports.JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.';\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n *\n * @param code - The error code.\n * @param fallbackMessage - The fallback message to use if the code has no\n * corresponding message.\n * @returns The message for the given code, or the fallback message if the code\n * has no corresponding message.\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n    if (isValidCode(code)) {\n        const codeString = code.toString();\n        if ((0, utils_1.hasProperty)(error_constants_1.errorValues, codeString)) {\n            return error_constants_1.errorValues[codeString].message;\n        }\n        if (isJsonRpcServerError(code)) {\n            return exports.JSON_RPC_SERVER_ERROR_MESSAGE;\n        }\n    }\n    return fallbackMessage;\n}\nexports.getMessageFromCode = getMessageFromCode;\n/**\n * Returns whether the given code is valid.\n * A code is valid if it is an integer.\n *\n * @param code - The error code.\n * @returns Whether the given code is valid.\n */\nfunction isValidCode(code) {\n    return Number.isInteger(code);\n}\nexports.isValidCode = isValidCode;\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.cause property.\n *\n * @param error - The error to serialize.\n * @param options - Options bag.\n * @param options.fallbackError - The error to return if the given error is\n * not compatible. Should be a JSON serializable value.\n * @param options.shouldIncludeStack - Whether to include the error's stack\n * on the returned object.\n * @returns The serialized error.\n */\nfunction serializeError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = true } = {}) {\n    if (!(0, utils_1.isJsonRpcError)(fallbackError)) {\n        throw new Error('Must provide fallback error with integer number code and string message.');\n    }\n    const serialized = buildError(error, fallbackError);\n    if (!shouldIncludeStack) {\n        delete serialized.stack;\n    }\n    return serialized;\n}\nexports.serializeError = serializeError;\n/**\n * Construct a JSON-serializable object given an error and a JSON serializable `fallbackError`\n *\n * @param error - The error in question.\n * @param fallbackError - A JSON serializable fallback error.\n * @returns A JSON serializable error object.\n */\nfunction buildError(error, fallbackError) {\n    // If an error specifies a `serialize` function, we call it and return the result.\n    if (error &&\n        typeof error === 'object' &&\n        'serialize' in error &&\n        typeof error.serialize === 'function') {\n        return error.serialize();\n    }\n    if ((0, utils_1.isJsonRpcError)(error)) {\n        return error;\n    }\n    // If the error does not match the JsonRpcError type, use the fallback error, but try to include the original error as `cause`.\n    const cause = serializeCause(error);\n    const fallbackWithCause = {\n        ...fallbackError,\n        data: { cause },\n    };\n    return fallbackWithCause;\n}\n/**\n * Check if the given code is a valid JSON-RPC server error code.\n *\n * @param code - The error code.\n * @returns Whether the given code is a valid JSON-RPC server error code.\n */\nfunction isJsonRpcServerError(code) {\n    return code >= -32099 && code <= -32000;\n}\n/**\n * Serializes an unknown error to be used as the `cause` in a fallback error.\n *\n * @param error - The unknown error.\n * @returns A JSON-serializable object containing as much information about the original error as possible.\n */\nfunction serializeCause(error) {\n    if (Array.isArray(error)) {\n        return error.map((entry) => {\n            if ((0, utils_1.isValidJson)(entry)) {\n                return entry;\n            }\n            else if ((0, utils_1.isObject)(entry)) {\n                return serializeObject(entry);\n            }\n            return null;\n        });\n    }\n    else if ((0, utils_1.isObject)(error)) {\n        return serializeObject(error);\n    }\n    if ((0, utils_1.isValidJson)(error)) {\n        return error;\n    }\n    return null;\n}\nexports.serializeCause = serializeCause;\n/**\n * Extracts all JSON-serializable properties from an object.\n *\n * @param object - The object in question.\n * @returns An object containing all the JSON-serializable properties.\n */\nfunction serializeObject(object) {\n    return Object.getOwnPropertyNames(object).reduce((acc, key) => {\n        const value = object[key];\n        if ((0, utils_1.isValidJson)(value)) {\n            acc[key] = value;\n        }\n        return acc;\n    }, {});\n}\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assertExhaustive = exports.assertStruct = exports.assert = exports.AssertionError = void 0;\nconst superstruct_1 = require(\"superstruct\");\n/**\n * Type guard for determining whether the given value is an error object with a\n * `message` property, such as an instance of Error.\n *\n * @param error - The object to check.\n * @returns True or false, depending on the result.\n */\nfunction isErrorWithMessage(error) {\n    return typeof error === 'object' && error !== null && 'message' in error;\n}\n/**\n * Check if a value is a constructor, i.e., a function that can be called with\n * the `new` keyword.\n *\n * @param fn - The value to check.\n * @returns `true` if the value is a constructor, or `false` otherwise.\n */\nfunction isConstructable(fn) {\n    var _a, _b;\n    /* istanbul ignore next */\n    return Boolean(typeof ((_b = (_a = fn === null || fn === void 0 ? void 0 : fn.prototype) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.name) === 'string');\n}\n/**\n * Get the error message from an unknown error object. If the error object has\n * a `message` property, that property is returned. Otherwise, the stringified\n * error object is returned.\n *\n * @param error - The error object to get the message from.\n * @returns The error message.\n */\nfunction getErrorMessage(error) {\n    const message = isErrorWithMessage(error) ? error.message : String(error);\n    // If the error ends with a period, remove it, as we'll add our own period.\n    if (message.endsWith('.')) {\n        return message.slice(0, -1);\n    }\n    return message;\n}\n/**\n * Initialise an {@link AssertionErrorConstructor} error.\n *\n * @param ErrorWrapper - The error class to use.\n * @param message - The error message.\n * @returns The error object.\n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction getError(ErrorWrapper, message) {\n    if (isConstructable(ErrorWrapper)) {\n        return new ErrorWrapper({\n            message,\n        });\n    }\n    return ErrorWrapper({\n        message,\n    });\n}\n/**\n * The default error class that is thrown if an assertion fails.\n */\nclass AssertionError extends Error {\n    constructor(options) {\n        super(options.message);\n        this.code = 'ERR_ASSERTION';\n    }\n}\nexports.AssertionError = AssertionError;\n/**\n * Same as Node.js assert.\n * If the value is falsy, throws an error, does nothing otherwise.\n *\n * @throws {@link AssertionError} If value is falsy.\n * @param value - The test that should be truthy to pass.\n * @param message - Message to be passed to {@link AssertionError} or an\n * {@link Error} instance to throw.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}. If a custom error class is provided for\n * the `message` argument, this argument is ignored.\n */\nfunction assert(value, message = 'Assertion failed.', \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper = AssertionError) {\n    if (!value) {\n        if (message instanceof Error) {\n            throw message;\n        }\n        throw getError(ErrorWrapper, message);\n    }\n}\nexports.assert = assert;\n/**\n * Assert a value against a Superstruct struct.\n *\n * @param value - The value to validate.\n * @param struct - The struct to validate against.\n * @param errorPrefix - A prefix to add to the error message. Defaults to\n * \"Assertion failed\".\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the value is not valid.\n */\nfunction assertStruct(value, struct, errorPrefix = 'Assertion failed', \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper = AssertionError) {\n    try {\n        (0, superstruct_1.assert)(value, struct);\n    }\n    catch (error) {\n        throw getError(ErrorWrapper, `${errorPrefix}: ${getErrorMessage(error)}.`);\n    }\n}\nexports.assertStruct = assertStruct;\n/**\n * Use in the default case of a switch that you want to be fully exhaustive.\n * Using this function forces the compiler to enforce exhaustivity during\n * compile-time.\n *\n * @example\n * ```\n * const number = 1;\n * switch (number) {\n *   case 0:\n *     ...\n *   case 1:\n *     ...\n *   default:\n *     assertExhaustive(snapPrefix);\n * }\n * ```\n * @param _object - The object on which the switch is being operated.\n */\nfunction assertExhaustive(_object) {\n    throw new Error('Invalid branch reached. Should be detected during compilation.');\n}\nexports.assertExhaustive = assertExhaustive;\n//# sourceMappingURL=assert.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.base64 = void 0;\nconst superstruct_1 = require(\"superstruct\");\nconst assert_1 = require(\"./assert\");\n/**\n * Ensure that a provided string-based struct is valid base64.\n *\n * @param struct - The string based struct.\n * @param options - Optional options to specialize base64 validation. See {@link Base64Options} documentation.\n * @returns A superstruct validating base64.\n */\nconst base64 = (struct, options = {}) => {\n    var _a, _b;\n    const paddingRequired = (_a = options.paddingRequired) !== null && _a !== void 0 ? _a : false;\n    const characterSet = (_b = options.characterSet) !== null && _b !== void 0 ? _b : 'base64';\n    let letters;\n    if (characterSet === 'base64') {\n        letters = String.raw `[A-Za-z0-9+\\/]`;\n    }\n    else {\n        (0, assert_1.assert)(characterSet === 'base64url');\n        letters = String.raw `[-_A-Za-z0-9]`;\n    }\n    let re;\n    if (paddingRequired) {\n        re = new RegExp(`^(?:${letters}{4})*(?:${letters}{3}=|${letters}{2}==)?$`, 'u');\n    }\n    else {\n        re = new RegExp(`^(?:${letters}{4})*(?:${letters}{2,3}|${letters}{3}=|${letters}{2}==)?$`, 'u');\n    }\n    return (0, superstruct_1.pattern)(struct, re);\n};\nexports.base64 = base64;\n//# sourceMappingURL=base64.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDataView = exports.concatBytes = exports.valueToBytes = exports.stringToBytes = exports.numberToBytes = exports.signedBigIntToBytes = exports.bigIntToBytes = exports.hexToBytes = exports.bytesToString = exports.bytesToNumber = exports.bytesToSignedBigInt = exports.bytesToBigInt = exports.bytesToHex = exports.assertIsBytes = exports.isBytes = void 0;\nconst assert_1 = require(\"./assert\");\nconst hex_1 = require(\"./hex\");\n// '0'.charCodeAt(0) === 48\nconst HEX_MINIMUM_NUMBER_CHARACTER = 48;\n// '9'.charCodeAt(0) === 57\nconst HEX_MAXIMUM_NUMBER_CHARACTER = 58;\nconst HEX_CHARACTER_OFFSET = 87;\n/**\n * Memoized function that returns an array to be used as a lookup table for\n * converting bytes to hexadecimal values.\n *\n * The array is created lazily and then cached for future use. The benefit of\n * this approach is that the performance of converting bytes to hex is much\n * better than if we were to call `toString(16)` on each byte.\n *\n * The downside is that the array is created once and then never garbage\n * collected. This is not a problem in practice because the array is only 256\n * elements long.\n *\n * @returns A function that returns the lookup table.\n */\nfunction getPrecomputedHexValuesBuilder() {\n    // To avoid issues with tree shaking, we need to use a function to return the\n    // array. This is because the array is only used in the `bytesToHex` function\n    // and if we were to use a global variable, the array might be removed by the\n    // tree shaker.\n    const lookupTable = [];\n    return () => {\n        if (lookupTable.length === 0) {\n            for (let i = 0; i < 256; i++) {\n                lookupTable.push(i.toString(16).padStart(2, '0'));\n            }\n        }\n        return lookupTable;\n    };\n}\n/**\n * Function implementation of the {@link getPrecomputedHexValuesBuilder}\n * function.\n */\nconst getPrecomputedHexValues = getPrecomputedHexValuesBuilder();\n/**\n * Check if a value is a `Uint8Array`.\n *\n * @param value - The value to check.\n * @returns Whether the value is a `Uint8Array`.\n */\nfunction isBytes(value) {\n    return value instanceof Uint8Array;\n}\nexports.isBytes = isBytes;\n/**\n * Assert that a value is a `Uint8Array`.\n *\n * @param value - The value to check.\n * @throws If the value is not a `Uint8Array`.\n */\nfunction assertIsBytes(value) {\n    (0, assert_1.assert)(isBytes(value), 'Value must be a Uint8Array.');\n}\nexports.assertIsBytes = assertIsBytes;\n/**\n * Convert a `Uint8Array` to a hexadecimal string.\n *\n * @param bytes - The bytes to convert to a hexadecimal string.\n * @returns The hexadecimal string.\n */\nfunction bytesToHex(bytes) {\n    assertIsBytes(bytes);\n    if (bytes.length === 0) {\n        return '0x';\n    }\n    const lookupTable = getPrecomputedHexValues();\n    const hexadecimal = new Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        hexadecimal[i] = lookupTable[bytes[i]];\n    }\n    return (0, hex_1.add0x)(hexadecimal.join(''));\n}\nexports.bytesToHex = bytesToHex;\n/**\n * Convert a `Uint8Array` to a `bigint`.\n *\n * To convert a `Uint8Array` to a `number` instead, use {@link bytesToNumber}.\n * To convert a two's complement encoded `Uint8Array` to a `bigint`, use\n * {@link bytesToSignedBigInt}.\n *\n * @param bytes - The bytes to convert to a `bigint`.\n * @returns The `bigint`.\n */\nfunction bytesToBigInt(bytes) {\n    assertIsBytes(bytes);\n    const hexadecimal = bytesToHex(bytes);\n    return BigInt(hexadecimal);\n}\nexports.bytesToBigInt = bytesToBigInt;\n/**\n * Convert a `Uint8Array` to a signed `bigint`. This assumes that the bytes are\n * encoded in two's complement.\n *\n * To convert a `Uint8Array` to an unsigned `bigint` instead, use\n * {@link bytesToBigInt}.\n *\n * @see https://en.wikipedia.org/wiki/Two%27s_complement\n * @param bytes - The bytes to convert to a signed `bigint`.\n * @returns The signed `bigint`.\n */\nfunction bytesToSignedBigInt(bytes) {\n    assertIsBytes(bytes);\n    let value = BigInt(0);\n    for (const byte of bytes) {\n        // eslint-disable-next-line no-bitwise\n        value = (value << BigInt(8)) + BigInt(byte);\n    }\n    return BigInt.asIntN(bytes.length * 8, value);\n}\nexports.bytesToSignedBigInt = bytesToSignedBigInt;\n/**\n * Convert a `Uint8Array` to a `number`.\n *\n * To convert a `Uint8Array` to a `bigint` instead, use {@link bytesToBigInt}.\n *\n * @param bytes - The bytes to convert to a number.\n * @returns The number.\n * @throws If the resulting number is not a safe integer.\n */\nfunction bytesToNumber(bytes) {\n    assertIsBytes(bytes);\n    const bigint = bytesToBigInt(bytes);\n    (0, assert_1.assert)(bigint <= BigInt(Number.MAX_SAFE_INTEGER), 'Number is not a safe integer. Use `bytesToBigInt` instead.');\n    return Number(bigint);\n}\nexports.bytesToNumber = bytesToNumber;\n/**\n * Convert a UTF-8 encoded `Uint8Array` to a `string`.\n *\n * @param bytes - The bytes to convert to a string.\n * @returns The string.\n */\nfunction bytesToString(bytes) {\n    assertIsBytes(bytes);\n    return new TextDecoder().decode(bytes);\n}\nexports.bytesToString = bytesToString;\n/**\n * Convert a hexadecimal string to a `Uint8Array`. The string can optionally be\n * prefixed with `0x`. It accepts even and odd length strings.\n *\n * If the value is \"0x\", an empty `Uint8Array` is returned.\n *\n * @param value - The hexadecimal string to convert to bytes.\n * @returns The bytes as `Uint8Array`.\n */\nfunction hexToBytes(value) {\n    var _a;\n    // \"0x\" is often used as empty byte array.\n    if (((_a = value === null || value === void 0 ? void 0 : value.toLowerCase) === null || _a === void 0 ? void 0 : _a.call(value)) === '0x') {\n        return new Uint8Array();\n    }\n    (0, hex_1.assertIsHexString)(value);\n    // Remove the `0x` prefix if it exists, and pad the string to have an even\n    // number of characters.\n    const strippedValue = (0, hex_1.remove0x)(value).toLowerCase();\n    const normalizedValue = strippedValue.length % 2 === 0 ? strippedValue : `0${strippedValue}`;\n    const bytes = new Uint8Array(normalizedValue.length / 2);\n    for (let i = 0; i < bytes.length; i++) {\n        // While this is not the prettiest way to convert a hexadecimal string to a\n        // `Uint8Array`, it is a lot faster than using `parseInt` to convert each\n        // character.\n        const c1 = normalizedValue.charCodeAt(i * 2);\n        const c2 = normalizedValue.charCodeAt(i * 2 + 1);\n        const n1 = c1 -\n            (c1 < HEX_MAXIMUM_NUMBER_CHARACTER\n                ? HEX_MINIMUM_NUMBER_CHARACTER\n                : HEX_CHARACTER_OFFSET);\n        const n2 = c2 -\n            (c2 < HEX_MAXIMUM_NUMBER_CHARACTER\n                ? HEX_MINIMUM_NUMBER_CHARACTER\n                : HEX_CHARACTER_OFFSET);\n        bytes[i] = n1 * 16 + n2;\n    }\n    return bytes;\n}\nexports.hexToBytes = hexToBytes;\n/**\n * Convert a `bigint` to a `Uint8Array`.\n *\n * This assumes that the `bigint` is an unsigned integer. To convert a signed\n * `bigint` instead, use {@link signedBigIntToBytes}.\n *\n * @param value - The bigint to convert to bytes.\n * @returns The bytes as `Uint8Array`.\n */\nfunction bigIntToBytes(value) {\n    (0, assert_1.assert)(typeof value === 'bigint', 'Value must be a bigint.');\n    (0, assert_1.assert)(value >= BigInt(0), 'Value must be a non-negative bigint.');\n    const hexadecimal = value.toString(16);\n    return hexToBytes(hexadecimal);\n}\nexports.bigIntToBytes = bigIntToBytes;\n/**\n * Check if a `bigint` fits in a certain number of bytes.\n *\n * @param value - The `bigint` to check.\n * @param bytes - The number of bytes.\n * @returns Whether the `bigint` fits in the number of bytes.\n */\nfunction bigIntFits(value, bytes) {\n    (0, assert_1.assert)(bytes > 0);\n    /* eslint-disable no-bitwise */\n    const mask = value >> BigInt(31);\n    return !(((~value & mask) + (value & ~mask)) >> BigInt(bytes * 8 + ~0));\n    /* eslint-enable no-bitwise */\n}\n/**\n * Convert a signed `bigint` to a `Uint8Array`. This uses two's complement\n * encoding to represent negative numbers.\n *\n * To convert an unsigned `bigint` to a `Uint8Array` instead, use\n * {@link bigIntToBytes}.\n *\n * @see https://en.wikipedia.org/wiki/Two%27s_complement\n * @param value - The number to convert to bytes.\n * @param byteLength - The length of the resulting `Uint8Array`. If the number\n * is larger than the maximum value that can be represented by the given length,\n * an error is thrown.\n * @returns The bytes as `Uint8Array`.\n */\nfunction signedBigIntToBytes(value, byteLength) {\n    (0, assert_1.assert)(typeof value === 'bigint', 'Value must be a bigint.');\n    (0, assert_1.assert)(typeof byteLength === 'number', 'Byte length must be a number.');\n    (0, assert_1.assert)(byteLength > 0, 'Byte length must be greater than 0.');\n    (0, assert_1.assert)(bigIntFits(value, byteLength), 'Byte length is too small to represent the given value.');\n    // ESLint doesn't like mutating function parameters, so to avoid having to\n    // disable the rule, we create a new variable.\n    let numberValue = value;\n    const bytes = new Uint8Array(byteLength);\n    for (let i = 0; i < bytes.length; i++) {\n        bytes[i] = Number(BigInt.asUintN(8, numberValue));\n        // eslint-disable-next-line no-bitwise\n        numberValue >>= BigInt(8);\n    }\n    return bytes.reverse();\n}\nexports.signedBigIntToBytes = signedBigIntToBytes;\n/**\n * Convert a `number` to a `Uint8Array`.\n *\n * @param value - The number to convert to bytes.\n * @returns The bytes as `Uint8Array`.\n * @throws If the number is not a safe integer.\n */\nfunction numberToBytes(value) {\n    (0, assert_1.assert)(typeof value === 'number', 'Value must be a number.');\n    (0, assert_1.assert)(value >= 0, 'Value must be a non-negative number.');\n    (0, assert_1.assert)(Number.isSafeInteger(value), 'Value is not a safe integer. Use `bigIntToBytes` instead.');\n    const hexadecimal = value.toString(16);\n    return hexToBytes(hexadecimal);\n}\nexports.numberToBytes = numberToBytes;\n/**\n * Convert a `string` to a UTF-8 encoded `Uint8Array`.\n *\n * @param value - The string to convert to bytes.\n * @returns The bytes as `Uint8Array`.\n */\nfunction stringToBytes(value) {\n    (0, assert_1.assert)(typeof value === 'string', 'Value must be a string.');\n    return new TextEncoder().encode(value);\n}\nexports.stringToBytes = stringToBytes;\n/**\n * Convert a byte-like value to a `Uint8Array`. The value can be a `Uint8Array`,\n * a `bigint`, a `number`, or a `string`.\n *\n * This will attempt to guess the type of the value based on its type and\n * contents. For more control over the conversion, use the more specific\n * conversion functions, such as {@link hexToBytes} or {@link stringToBytes}.\n *\n * If the value is a `string`, and it is prefixed with `0x`, it will be\n * interpreted as a hexadecimal string. Otherwise, it will be interpreted as a\n * UTF-8 string. To convert a hexadecimal string to bytes without interpreting\n * it as a UTF-8 string, use {@link hexToBytes} instead.\n *\n * If the value is a `bigint`, it is assumed to be unsigned. To convert a signed\n * `bigint` to bytes, use {@link signedBigIntToBytes} instead.\n *\n * If the value is a `Uint8Array`, it will be returned as-is.\n *\n * @param value - The value to convert to bytes.\n * @returns The bytes as `Uint8Array`.\n */\nfunction valueToBytes(value) {\n    if (typeof value === 'bigint') {\n        return bigIntToBytes(value);\n    }\n    if (typeof value === 'number') {\n        return numberToBytes(value);\n    }\n    if (typeof value === 'string') {\n        if (value.startsWith('0x')) {\n            return hexToBytes(value);\n        }\n        return stringToBytes(value);\n    }\n    if (isBytes(value)) {\n        return value;\n    }\n    throw new TypeError(`Unsupported value type: \"${typeof value}\".`);\n}\nexports.valueToBytes = valueToBytes;\n/**\n * Concatenate multiple byte-like values into a single `Uint8Array`. The values\n * can be `Uint8Array`, `bigint`, `number`, or `string`. This uses\n * {@link valueToBytes} under the hood to convert each value to bytes. Refer to\n * the documentation of that function for more information.\n *\n * @param values - The values to concatenate.\n * @returns The concatenated bytes as `Uint8Array`.\n */\nfunction concatBytes(values) {\n    const normalizedValues = new Array(values.length);\n    let byteLength = 0;\n    for (let i = 0; i < values.length; i++) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const value = valueToBytes(values[i]);\n        normalizedValues[i] = value;\n        byteLength += value.length;\n    }\n    const bytes = new Uint8Array(byteLength);\n    for (let i = 0, offset = 0; i < normalizedValues.length; i++) {\n        // While we could simply spread the values into an array and use\n        // `Uint8Array.from`, that is a lot slower than using `Uint8Array.set`.\n        bytes.set(normalizedValues[i], offset);\n        offset += normalizedValues[i].length;\n    }\n    return bytes;\n}\nexports.concatBytes = concatBytes;\n/**\n * Create a {@link DataView} from a {@link Uint8Array}. This is a convenience\n * function that avoids having to create a {@link DataView} manually, which\n * requires passing the `byteOffset` and `byteLength` parameters every time.\n *\n * Not passing the `byteOffset` and `byteLength` parameters can result in\n * unexpected behavior when the {@link Uint8Array} is a view of a larger\n * {@link ArrayBuffer}, e.g., when using {@link Uint8Array.subarray}.\n *\n * This function also supports Node.js {@link Buffer}s.\n *\n * @example\n * ```typescript\n * const bytes = new Uint8Array([1, 2, 3]);\n *\n * // This is equivalent to:\n * // const dataView = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n * const dataView = createDataView(bytes);\n * ```\n * @param bytes - The bytes to create the {@link DataView} from.\n * @returns The {@link DataView}.\n */\nfunction createDataView(bytes) {\n    // To maintain compatibility with Node.js, we need to check if the bytes are\n    // a Buffer. If so, we need to slice the buffer to get the underlying\n    // ArrayBuffer.\n    // eslint-disable-next-line no-restricted-globals\n    if (typeof Buffer !== 'undefined' && bytes instanceof Buffer) {\n        const buffer = bytes.buffer.slice(bytes.byteOffset, bytes.byteOffset + bytes.byteLength);\n        return new DataView(buffer);\n    }\n    return new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n}\nexports.createDataView = createDataView;\n//# sourceMappingURL=bytes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChecksumStruct = void 0;\nconst superstruct_1 = require(\"superstruct\");\nconst base64_1 = require(\"./base64\");\nexports.ChecksumStruct = (0, superstruct_1.size)((0, base64_1.base64)((0, superstruct_1.string)(), { paddingRequired: true }), 44, 44);\n//# sourceMappingURL=checksum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createHex = exports.createBytes = exports.createBigInt = exports.createNumber = void 0;\nconst superstruct_1 = require(\"superstruct\");\nconst assert_1 = require(\"./assert\");\nconst bytes_1 = require(\"./bytes\");\nconst hex_1 = require(\"./hex\");\nconst NumberLikeStruct = (0, superstruct_1.union)([(0, superstruct_1.number)(), (0, superstruct_1.bigint)(), (0, superstruct_1.string)(), hex_1.StrictHexStruct]);\nconst NumberCoercer = (0, superstruct_1.coerce)((0, superstruct_1.number)(), NumberLikeStruct, Number);\nconst BigIntCoercer = (0, superstruct_1.coerce)((0, superstruct_1.bigint)(), NumberLikeStruct, BigInt);\nconst BytesLikeStruct = (0, superstruct_1.union)([hex_1.StrictHexStruct, (0, superstruct_1.instance)(Uint8Array)]);\nconst BytesCoercer = (0, superstruct_1.coerce)((0, superstruct_1.instance)(Uint8Array), (0, superstruct_1.union)([hex_1.StrictHexStruct]), bytes_1.hexToBytes);\nconst HexCoercer = (0, superstruct_1.coerce)(hex_1.StrictHexStruct, (0, superstruct_1.instance)(Uint8Array), bytes_1.bytesToHex);\n/**\n * Create a number from a number-like value.\n *\n * - If the value is a number, it is returned as-is.\n * - If the value is a `bigint`, it is converted to a number.\n * - If the value is a string, it is interpreted as a decimal number.\n * - If the value is a hex string (i.e., it starts with \"0x\"), it is\n * interpreted as a hexadecimal number.\n *\n * This validates that the value is a number-like value, and that the resulting\n * number is not `NaN` or `Infinity`.\n *\n * @example\n * ```typescript\n * const value = createNumber('0x010203');\n * console.log(value); // 66051\n *\n * const otherValue = createNumber(123n);\n * console.log(otherValue); // 123\n * ```\n * @param value - The value to create the number from.\n * @returns The created number.\n * @throws If the value is not a number-like value, or if the resulting number\n * is `NaN` or `Infinity`.\n */\nfunction createNumber(value) {\n    try {\n        const result = (0, superstruct_1.create)(value, NumberCoercer);\n        (0, assert_1.assert)(Number.isFinite(result), `Expected a number-like value, got \"${value}\".`);\n        return result;\n    }\n    catch (error) {\n        if (error instanceof superstruct_1.StructError) {\n            throw new Error(`Expected a number-like value, got \"${value}\".`);\n        }\n        /* istanbul ignore next */\n        throw error;\n    }\n}\nexports.createNumber = createNumber;\n/**\n * Create a `bigint` from a number-like value.\n *\n * - If the value is a number, it is converted to a `bigint`.\n * - If the value is a `bigint`, it is returned as-is.\n * - If the value is a string, it is interpreted as a decimal number and\n * converted to a `bigint`.\n * - If the value is a hex string (i.e., it starts with \"0x\"), it is\n * interpreted as a hexadecimal number and converted to a `bigint`.\n *\n * @example\n * ```typescript\n * const value = createBigInt('0x010203');\n * console.log(value); // 16909060n\n *\n * const otherValue = createBigInt(123);\n * console.log(otherValue); // 123n\n * ```\n * @param value - The value to create the bigint from.\n * @returns The created bigint.\n * @throws If the value is not a number-like value.\n */\nfunction createBigInt(value) {\n    try {\n        // The `BigInt` constructor throws if the value is not a number-like value.\n        // There is no need to validate the value manually.\n        return (0, superstruct_1.create)(value, BigIntCoercer);\n    }\n    catch (error) {\n        if (error instanceof superstruct_1.StructError) {\n            throw new Error(`Expected a number-like value, got \"${String(error.value)}\".`);\n        }\n        /* istanbul ignore next */\n        throw error;\n    }\n}\nexports.createBigInt = createBigInt;\n/**\n * Create a byte array from a bytes-like value.\n *\n * - If the value is a byte array, it is returned as-is.\n * - If the value is a hex string (i.e., it starts with \"0x\"), it is interpreted\n * as a hexadecimal number and converted to a byte array.\n *\n * @example\n * ```typescript\n * const value = createBytes('0x010203');\n * console.log(value); // Uint8Array [ 1, 2, 3 ]\n *\n * const otherValue = createBytes('0x010203');\n * console.log(otherValue); // Uint8Array [ 1, 2, 3 ]\n * ```\n * @param value - The value to create the byte array from.\n * @returns The created byte array.\n * @throws If the value is not a bytes-like value.\n */\nfunction createBytes(value) {\n    if (typeof value === 'string' && value.toLowerCase() === '0x') {\n        return new Uint8Array();\n    }\n    try {\n        return (0, superstruct_1.create)(value, BytesCoercer);\n    }\n    catch (error) {\n        if (error instanceof superstruct_1.StructError) {\n            throw new Error(`Expected a bytes-like value, got \"${String(error.value)}\".`);\n        }\n        /* istanbul ignore next */\n        throw error;\n    }\n}\nexports.createBytes = createBytes;\n/**\n * Create a hexadecimal string from a bytes-like value.\n *\n * - If the value is a hex string (i.e., it starts with \"0x\"), it is returned\n * as-is.\n * - If the value is a `Uint8Array`, it is converted to a hex string.\n *\n * @example\n * ```typescript\n * const value = createHex(new Uint8Array([1, 2, 3]));\n * console.log(value); // '0x010203'\n *\n * const otherValue = createHex('0x010203');\n * console.log(otherValue); // '0x010203'\n * ```\n * @param value - The value to create the hex string from.\n * @returns The created hex string.\n * @throws If the value is not a bytes-like value.\n */\nfunction createHex(value) {\n    if ((value instanceof Uint8Array && value.length === 0) ||\n        (typeof value === 'string' && value.toLowerCase() === '0x')) {\n        return '0x';\n    }\n    try {\n        return (0, superstruct_1.create)(value, HexCoercer);\n    }\n    catch (error) {\n        if (error instanceof superstruct_1.StructError) {\n            throw new Error(`Expected a bytes-like value, got \"${String(error.value)}\".`);\n        }\n        /* istanbul ignore next */\n        throw error;\n    }\n}\nexports.createHex = createHex;\n//# sourceMappingURL=coercers.js.map","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FrozenMap_map, _FrozenSet_set;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FrozenSet = exports.FrozenMap = void 0;\n/**\n * A {@link ReadonlyMap} that cannot be modified after instantiation.\n * The implementation uses an inner map hidden via a private field, and the\n * immutability guarantee relies on it being impossible to get a reference\n * to this map.\n */\nclass FrozenMap {\n    constructor(entries) {\n        _FrozenMap_map.set(this, void 0);\n        __classPrivateFieldSet(this, _FrozenMap_map, new Map(entries), \"f\");\n        Object.freeze(this);\n    }\n    get size() {\n        return __classPrivateFieldGet(this, _FrozenMap_map, \"f\").size;\n    }\n    [(_FrozenMap_map = new WeakMap(), Symbol.iterator)]() {\n        return __classPrivateFieldGet(this, _FrozenMap_map, \"f\")[Symbol.iterator]();\n    }\n    entries() {\n        return __classPrivateFieldGet(this, _FrozenMap_map, \"f\").entries();\n    }\n    forEach(callbackfn, thisArg) {\n        // We have to wrap the specified callback in order to prevent it from\n        // receiving a reference to the inner map.\n        return __classPrivateFieldGet(this, _FrozenMap_map, \"f\").forEach((value, key, _map) => callbackfn.call(thisArg, value, key, this));\n    }\n    get(key) {\n        return __classPrivateFieldGet(this, _FrozenMap_map, \"f\").get(key);\n    }\n    has(key) {\n        return __classPrivateFieldGet(this, _FrozenMap_map, \"f\").has(key);\n    }\n    keys() {\n        return __classPrivateFieldGet(this, _FrozenMap_map, \"f\").keys();\n    }\n    values() {\n        return __classPrivateFieldGet(this, _FrozenMap_map, \"f\").values();\n    }\n    toString() {\n        return `FrozenMap(${this.size}) {${this.size > 0\n            ? ` ${[...this.entries()]\n                .map(([key, value]) => `${String(key)} => ${String(value)}`)\n                .join(', ')} `\n            : ''}}`;\n    }\n}\nexports.FrozenMap = FrozenMap;\n/**\n * A {@link ReadonlySet} that cannot be modified after instantiation.\n * The implementation uses an inner set hidden via a private field, and the\n * immutability guarantee relies on it being impossible to get a reference\n * to this set.\n */\nclass FrozenSet {\n    constructor(values) {\n        _FrozenSet_set.set(this, void 0);\n        __classPrivateFieldSet(this, _FrozenSet_set, new Set(values), \"f\");\n        Object.freeze(this);\n    }\n    get size() {\n        return __classPrivateFieldGet(this, _FrozenSet_set, \"f\").size;\n    }\n    [(_FrozenSet_set = new WeakMap(), Symbol.iterator)]() {\n        return __classPrivateFieldGet(this, _FrozenSet_set, \"f\")[Symbol.iterator]();\n    }\n    entries() {\n        return __classPrivateFieldGet(this, _FrozenSet_set, \"f\").entries();\n    }\n    forEach(callbackfn, thisArg) {\n        // We have to wrap the specified callback in order to prevent it from\n        // receiving a reference to the inner set.\n        return __classPrivateFieldGet(this, _FrozenSet_set, \"f\").forEach((value, value2, _set) => callbackfn.call(thisArg, value, value2, this));\n    }\n    has(value) {\n        return __classPrivateFieldGet(this, _FrozenSet_set, \"f\").has(value);\n    }\n    keys() {\n        return __classPrivateFieldGet(this, _FrozenSet_set, \"f\").keys();\n    }\n    values() {\n        return __classPrivateFieldGet(this, _FrozenSet_set, \"f\").values();\n    }\n    toString() {\n        return `FrozenSet(${this.size}) {${this.size > 0\n            ? ` ${[...this.values()].map((member) => String(member)).join(', ')} `\n            : ''}}`;\n    }\n}\nexports.FrozenSet = FrozenSet;\nObject.freeze(FrozenMap);\nObject.freeze(FrozenMap.prototype);\nObject.freeze(FrozenSet);\nObject.freeze(FrozenSet.prototype);\n//# sourceMappingURL=collections.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=encryption-types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.remove0x = exports.add0x = exports.assertIsStrictHexString = exports.assertIsHexString = exports.isStrictHexString = exports.isHexString = exports.StrictHexStruct = exports.HexStruct = void 0;\nconst superstruct_1 = require(\"superstruct\");\nconst assert_1 = require(\"./assert\");\nexports.HexStruct = (0, superstruct_1.pattern)((0, superstruct_1.string)(), /^(?:0x)?[0-9a-f]+$/iu);\nexports.StrictHexStruct = (0, superstruct_1.pattern)((0, superstruct_1.string)(), /^0x[0-9a-f]+$/iu);\n/**\n * Check if a string is a valid hex string.\n *\n * @param value - The value to check.\n * @returns Whether the value is a valid hex string.\n */\nfunction isHexString(value) {\n    return (0, superstruct_1.is)(value, exports.HexStruct);\n}\nexports.isHexString = isHexString;\n/**\n * Strictly check if a string is a valid hex string. A valid hex string must\n * start with the \"0x\"-prefix.\n *\n * @param value - The value to check.\n * @returns Whether the value is a valid hex string.\n */\nfunction isStrictHexString(value) {\n    return (0, superstruct_1.is)(value, exports.StrictHexStruct);\n}\nexports.isStrictHexString = isStrictHexString;\n/**\n * Assert that a value is a valid hex string.\n *\n * @param value - The value to check.\n * @throws If the value is not a valid hex string.\n */\nfunction assertIsHexString(value) {\n    (0, assert_1.assert)(isHexString(value), 'Value must be a hexadecimal string.');\n}\nexports.assertIsHexString = assertIsHexString;\n/**\n * Assert that a value is a valid hex string. A valid hex string must start with\n * the \"0x\"-prefix.\n *\n * @param value - The value to check.\n * @throws If the value is not a valid hex string.\n */\nfunction assertIsStrictHexString(value) {\n    (0, assert_1.assert)(isStrictHexString(value), 'Value must be a hexadecimal string, starting with \"0x\".');\n}\nexports.assertIsStrictHexString = assertIsStrictHexString;\n/**\n * Add the `0x`-prefix to a hexadecimal string. If the string already has the\n * prefix, it is returned as-is.\n *\n * @param hexadecimal - The hexadecimal string to add the prefix to.\n * @returns The prefixed hexadecimal string.\n */\nfunction add0x(hexadecimal) {\n    if (hexadecimal.startsWith('0x')) {\n        return hexadecimal;\n    }\n    if (hexadecimal.startsWith('0X')) {\n        return `0x${hexadecimal.substring(2)}`;\n    }\n    return `0x${hexadecimal}`;\n}\nexports.add0x = add0x;\n/**\n * Remove the `0x`-prefix from a hexadecimal string. If the string doesn't have\n * the prefix, it is returned as-is.\n *\n * @param hexadecimal - The hexadecimal string to remove the prefix from.\n * @returns The un-prefixed hexadecimal string.\n */\nfunction remove0x(hexadecimal) {\n    if (hexadecimal.startsWith('0x') || hexadecimal.startsWith('0X')) {\n        return hexadecimal.substring(2);\n    }\n    return hexadecimal;\n}\nexports.remove0x = remove0x;\n//# sourceMappingURL=hex.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./assert\"), exports);\n__exportStar(require(\"./base64\"), exports);\n__exportStar(require(\"./bytes\"), exports);\n__exportStar(require(\"./checksum\"), exports);\n__exportStar(require(\"./coercers\"), exports);\n__exportStar(require(\"./collections\"), exports);\n__exportStar(require(\"./encryption-types\"), exports);\n__exportStar(require(\"./hex\"), exports);\n__exportStar(require(\"./json\"), exports);\n__exportStar(require(\"./keyring\"), exports);\n__exportStar(require(\"./logging\"), exports);\n__exportStar(require(\"./misc\"), exports);\n__exportStar(require(\"./number\"), exports);\n__exportStar(require(\"./opaque\"), exports);\n__exportStar(require(\"./time\"), exports);\n__exportStar(require(\"./transaction-types\"), exports);\n__exportStar(require(\"./versions\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getJsonRpcIdValidator = exports.assertIsJsonRpcError = exports.isJsonRpcError = exports.assertIsJsonRpcFailure = exports.isJsonRpcFailure = exports.assertIsJsonRpcSuccess = exports.isJsonRpcSuccess = exports.assertIsJsonRpcResponse = exports.isJsonRpcResponse = exports.assertIsPendingJsonRpcResponse = exports.isPendingJsonRpcResponse = exports.JsonRpcResponseStruct = exports.JsonRpcFailureStruct = exports.JsonRpcSuccessStruct = exports.PendingJsonRpcResponseStruct = exports.assertIsJsonRpcRequest = exports.isJsonRpcRequest = exports.assertIsJsonRpcNotification = exports.isJsonRpcNotification = exports.JsonRpcNotificationStruct = exports.JsonRpcRequestStruct = exports.JsonRpcParamsStruct = exports.JsonRpcErrorStruct = exports.JsonRpcIdStruct = exports.JsonRpcVersionStruct = exports.jsonrpc2 = exports.getJsonSize = exports.isValidJson = exports.JsonStruct = exports.UnsafeJsonStruct = void 0;\nconst superstruct_1 = require(\"superstruct\");\nconst assert_1 = require(\"./assert\");\n/**\n * A struct to check if the given value is finite number. Superstruct's\n * `number()` struct does not check if the value is finite.\n *\n * @returns A struct to check if the given value is finite number.\n */\nconst finiteNumber = () => (0, superstruct_1.define)('finite number', (value) => {\n    return (0, superstruct_1.is)(value, (0, superstruct_1.number)()) && Number.isFinite(value);\n});\n/**\n * A struct to check if the given value is a valid JSON-serializable value.\n *\n * Note that this struct is unsafe. For safe validation, use {@link JsonStruct}.\n */\n// We cannot infer the type of the struct, because it is recursive.\nexports.UnsafeJsonStruct = (0, superstruct_1.union)([\n    (0, superstruct_1.literal)(null),\n    (0, superstruct_1.boolean)(),\n    finiteNumber(),\n    (0, superstruct_1.string)(),\n    (0, superstruct_1.array)((0, superstruct_1.lazy)(() => exports.UnsafeJsonStruct)),\n    (0, superstruct_1.record)((0, superstruct_1.string)(), (0, superstruct_1.lazy)(() => exports.UnsafeJsonStruct)),\n]);\n/**\n * A struct to check if the given value is a valid JSON-serializable value.\n *\n * This struct sanitizes the value before validating it, so that it is safe to\n * use with untrusted input.\n */\nexports.JsonStruct = (0, superstruct_1.define)('Json', (value, context) => {\n    /**\n     * Helper function that runs the given struct validator and returns the\n     * validation errors, if any. If the value is valid, it returns `true`.\n     *\n     * @param innerValue - The value to validate.\n     * @param struct - The struct to use for validation.\n     * @returns The validation errors, or `true` if the value is valid.\n     */\n    function checkStruct(innerValue, struct) {\n        const iterator = struct.validator(innerValue, context);\n        const errors = [...iterator];\n        if (errors.length > 0) {\n            return errors;\n        }\n        return true;\n    }\n    try {\n        // The plain value must be a valid JSON value, but it may be altered in the\n        // process of JSON serialization, so we need to validate it again after\n        // serialization. This has the added benefit that the returned error messages\n        // will be more helpful, as they will point to the exact location of the\n        // invalid value.\n        //\n        // This seems overcomplicated, but without checking the plain value first,\n        // there are some cases where the validation passes, even though the value is\n        // not valid JSON. For example, `undefined` is not valid JSON, but serializing\n        // it will remove it from the object, so the validation will pass.\n        const unsafeResult = checkStruct(value, exports.UnsafeJsonStruct);\n        if (unsafeResult !== true) {\n            return unsafeResult;\n        }\n        // JavaScript engines are highly optimized for this specific use case of\n        // JSON parsing and stringifying, so there should be no performance impact.\n        return checkStruct(JSON.parse(JSON.stringify(value)), exports.UnsafeJsonStruct);\n    }\n    catch (error) {\n        if (error instanceof RangeError) {\n            return 'Circular reference detected';\n        }\n        return false;\n    }\n});\n/**\n * Check if the given value is a valid {@link Json} value, i.e., a value that is\n * serializable to JSON.\n *\n * @param value - The value to check.\n * @returns Whether the value is a valid {@link Json} value.\n */\nfunction isValidJson(value) {\n    return (0, superstruct_1.is)(value, exports.JsonStruct);\n}\nexports.isValidJson = isValidJson;\n/**\n * Get the size of a JSON value in bytes. This also validates the value.\n *\n * @param value - The JSON value to get the size of.\n * @returns The size of the JSON value in bytes.\n */\nfunction getJsonSize(value) {\n    (0, assert_1.assertStruct)(value, exports.JsonStruct, 'Invalid JSON value');\n    const json = JSON.stringify(value);\n    return new TextEncoder().encode(json).byteLength;\n}\nexports.getJsonSize = getJsonSize;\n/**\n * The string '2.0'.\n */\nexports.jsonrpc2 = '2.0';\nexports.JsonRpcVersionStruct = (0, superstruct_1.literal)(exports.jsonrpc2);\nexports.JsonRpcIdStruct = (0, superstruct_1.nullable)((0, superstruct_1.union)([(0, superstruct_1.number)(), (0, superstruct_1.string)()]));\nexports.JsonRpcErrorStruct = (0, superstruct_1.object)({\n    code: (0, superstruct_1.integer)(),\n    message: (0, superstruct_1.string)(),\n    data: (0, superstruct_1.optional)(exports.JsonStruct),\n    stack: (0, superstruct_1.optional)((0, superstruct_1.string)()),\n});\nexports.JsonRpcParamsStruct = (0, superstruct_1.optional)((0, superstruct_1.union)([(0, superstruct_1.record)((0, superstruct_1.string)(), exports.JsonStruct), (0, superstruct_1.array)(exports.JsonStruct)]));\nexports.JsonRpcRequestStruct = (0, superstruct_1.object)({\n    id: exports.JsonRpcIdStruct,\n    jsonrpc: exports.JsonRpcVersionStruct,\n    method: (0, superstruct_1.string)(),\n    params: exports.JsonRpcParamsStruct,\n});\nexports.JsonRpcNotificationStruct = (0, superstruct_1.omit)(exports.JsonRpcRequestStruct, ['id']);\n/**\n * Check if the given value is a valid {@link JsonRpcNotification} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcNotification}\n * object.\n */\nfunction isJsonRpcNotification(value) {\n    return (0, superstruct_1.is)(value, exports.JsonRpcNotificationStruct);\n}\nexports.isJsonRpcNotification = isJsonRpcNotification;\n/**\n * Assert that the given value is a valid {@link JsonRpcNotification} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcNotification} object.\n */\nfunction assertIsJsonRpcNotification(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0, assert_1.assertStruct)(value, exports.JsonRpcNotificationStruct, 'Invalid JSON-RPC notification', ErrorWrapper);\n}\nexports.assertIsJsonRpcNotification = assertIsJsonRpcNotification;\n/**\n * Check if the given value is a valid {@link JsonRpcRequest} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcRequest} object.\n */\nfunction isJsonRpcRequest(value) {\n    return (0, superstruct_1.is)(value, exports.JsonRpcRequestStruct);\n}\nexports.isJsonRpcRequest = isJsonRpcRequest;\n/**\n * Assert that the given value is a valid {@link JsonRpcRequest} object.\n *\n * @param value - The JSON-RPC request or notification to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcRequest} object.\n */\nfunction assertIsJsonRpcRequest(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0, assert_1.assertStruct)(value, exports.JsonRpcRequestStruct, 'Invalid JSON-RPC request', ErrorWrapper);\n}\nexports.assertIsJsonRpcRequest = assertIsJsonRpcRequest;\nexports.PendingJsonRpcResponseStruct = (0, superstruct_1.object)({\n    id: exports.JsonRpcIdStruct,\n    jsonrpc: exports.JsonRpcVersionStruct,\n    result: (0, superstruct_1.optional)((0, superstruct_1.unknown)()),\n    error: (0, superstruct_1.optional)(exports.JsonRpcErrorStruct),\n});\nexports.JsonRpcSuccessStruct = (0, superstruct_1.object)({\n    id: exports.JsonRpcIdStruct,\n    jsonrpc: exports.JsonRpcVersionStruct,\n    result: exports.JsonStruct,\n});\nexports.JsonRpcFailureStruct = (0, superstruct_1.object)({\n    id: exports.JsonRpcIdStruct,\n    jsonrpc: exports.JsonRpcVersionStruct,\n    error: exports.JsonRpcErrorStruct,\n});\nexports.JsonRpcResponseStruct = (0, superstruct_1.union)([\n    exports.JsonRpcSuccessStruct,\n    exports.JsonRpcFailureStruct,\n]);\n/**\n * Type guard to check whether specified JSON-RPC response is a\n * {@link PendingJsonRpcResponse}.\n *\n * @param response - The JSON-RPC response to check.\n * @returns Whether the specified JSON-RPC response is pending.\n */\nfunction isPendingJsonRpcResponse(response) {\n    return (0, superstruct_1.is)(response, exports.PendingJsonRpcResponseStruct);\n}\nexports.isPendingJsonRpcResponse = isPendingJsonRpcResponse;\n/**\n * Assert that the given value is a valid {@link PendingJsonRpcResponse} object.\n *\n * @param response - The JSON-RPC response to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link PendingJsonRpcResponse}\n * object.\n */\nfunction assertIsPendingJsonRpcResponse(response, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0, assert_1.assertStruct)(response, exports.PendingJsonRpcResponseStruct, 'Invalid pending JSON-RPC response', ErrorWrapper);\n}\nexports.assertIsPendingJsonRpcResponse = assertIsPendingJsonRpcResponse;\n/**\n * Type guard to check if a value is a {@link JsonRpcResponse}.\n *\n * @param response - The object to check.\n * @returns Whether the object is a JsonRpcResponse.\n */\nfunction isJsonRpcResponse(response) {\n    return (0, superstruct_1.is)(response, exports.JsonRpcResponseStruct);\n}\nexports.isJsonRpcResponse = isJsonRpcResponse;\n/**\n * Assert that the given value is a valid {@link JsonRpcResponse} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcResponse} object.\n */\nfunction assertIsJsonRpcResponse(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0, assert_1.assertStruct)(value, exports.JsonRpcResponseStruct, 'Invalid JSON-RPC response', ErrorWrapper);\n}\nexports.assertIsJsonRpcResponse = assertIsJsonRpcResponse;\n/**\n * Check if the given value is a valid {@link JsonRpcSuccess} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcSuccess} object.\n */\nfunction isJsonRpcSuccess(value) {\n    return (0, superstruct_1.is)(value, exports.JsonRpcSuccessStruct);\n}\nexports.isJsonRpcSuccess = isJsonRpcSuccess;\n/**\n * Assert that the given value is a valid {@link JsonRpcSuccess} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcSuccess} object.\n */\nfunction assertIsJsonRpcSuccess(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0, assert_1.assertStruct)(value, exports.JsonRpcSuccessStruct, 'Invalid JSON-RPC success response', ErrorWrapper);\n}\nexports.assertIsJsonRpcSuccess = assertIsJsonRpcSuccess;\n/**\n * Check if the given value is a valid {@link JsonRpcFailure} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcFailure} object.\n */\nfunction isJsonRpcFailure(value) {\n    return (0, superstruct_1.is)(value, exports.JsonRpcFailureStruct);\n}\nexports.isJsonRpcFailure = isJsonRpcFailure;\n/**\n * Assert that the given value is a valid {@link JsonRpcFailure} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcFailure} object.\n */\nfunction assertIsJsonRpcFailure(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0, assert_1.assertStruct)(value, exports.JsonRpcFailureStruct, 'Invalid JSON-RPC failure response', ErrorWrapper);\n}\nexports.assertIsJsonRpcFailure = assertIsJsonRpcFailure;\n/**\n * Check if the given value is a valid {@link JsonRpcError} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcError} object.\n */\nfunction isJsonRpcError(value) {\n    return (0, superstruct_1.is)(value, exports.JsonRpcErrorStruct);\n}\nexports.isJsonRpcError = isJsonRpcError;\n/**\n * Assert that the given value is a valid {@link JsonRpcError} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcError} object.\n */\nfunction assertIsJsonRpcError(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0, assert_1.assertStruct)(value, exports.JsonRpcErrorStruct, 'Invalid JSON-RPC error', ErrorWrapper);\n}\nexports.assertIsJsonRpcError = assertIsJsonRpcError;\n/**\n * Gets a function for validating JSON-RPC request / response `id` values.\n *\n * By manipulating the options of this factory, you can control the behavior\n * of the resulting validator for some edge cases. This is useful because e.g.\n * `null` should sometimes but not always be permitted.\n *\n * Note that the empty string (`''`) is always permitted by the JSON-RPC\n * specification, but that kind of sucks and you may want to forbid it in some\n * instances anyway.\n *\n * For more details, see the\n * [JSON-RPC Specification](https://www.jsonrpc.org/specification).\n *\n * @param options - An options object.\n * @param options.permitEmptyString - Whether the empty string (i.e. `''`)\n * should be treated as a valid ID. Default: `true`\n * @param options.permitFractions - Whether fractional numbers (e.g. `1.2`)\n * should be treated as valid IDs. Default: `false`\n * @param options.permitNull - Whether `null` should be treated as a valid ID.\n * Default: `true`\n * @returns The JSON-RPC ID validator function.\n */\nfunction getJsonRpcIdValidator(options) {\n    const { permitEmptyString, permitFractions, permitNull } = Object.assign({ permitEmptyString: true, permitFractions: false, permitNull: true }, options);\n    /**\n     * Type guard for {@link JsonRpcId}.\n     *\n     * @param id - The JSON-RPC ID value to check.\n     * @returns Whether the given ID is valid per the options given to the\n     * factory.\n     */\n    const isValidJsonRpcId = (id) => {\n        return Boolean((typeof id === 'number' && (permitFractions || Number.isInteger(id))) ||\n            (typeof id === 'string' && (permitEmptyString || id.length > 0)) ||\n            (permitNull && id === null));\n    };\n    return isValidJsonRpcId;\n}\nexports.getJsonRpcIdValidator = getJsonRpcIdValidator;\n//# sourceMappingURL=json.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=keyring.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createModuleLogger = exports.createProjectLogger = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst globalLogger = (0, debug_1.default)('metamask');\n/**\n * Creates a logger via the `debug` library whose log messages will be tagged\n * using the name of your project. By default, such messages will be\n * suppressed, but you can reveal them by setting the `DEBUG` environment\n * variable to `metamask:<projectName>`. You can also set this variable to\n * `metamask:*` if you want to see log messages from all MetaMask projects that\n * are also using this function to create their loggers.\n *\n * @param projectName - The name of your project. This should be the name of\n * your NPM package if you're developing one.\n * @returns An instance of `debug`.\n */\nfunction createProjectLogger(projectName) {\n    return globalLogger.extend(projectName);\n}\nexports.createProjectLogger = createProjectLogger;\n/**\n * Creates a logger via the `debug` library which is derived from the logger for\n * the whole project whose log messages will be tagged using the name of your\n * module. By default, such messages will be suppressed, but you can reveal them\n * by setting the `DEBUG` environment variable to\n * `metamask:<projectName>:<moduleName>`. You can also set this variable to\n * `metamask:<projectName>:*` if you want to see log messages from the project,\n * or `metamask:*` if you want to see log messages from all MetaMask projects.\n *\n * @param projectLogger - The logger created via {@link createProjectLogger}.\n * @param moduleName - The name of your module. You could use the name of the\n * file where you're using this logger or some other name.\n * @returns An instance of `debug`.\n */\nfunction createModuleLogger(projectLogger, moduleName) {\n    return projectLogger.extend(moduleName);\n}\nexports.createModuleLogger = createModuleLogger;\n//# sourceMappingURL=logging.js.map","\"use strict\";\n//\n// Types\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calculateNumberSize = exports.calculateStringSize = exports.isASCII = exports.isPlainObject = exports.ESCAPE_CHARACTERS_REGEXP = exports.JsonSize = exports.hasProperty = exports.isObject = exports.isNullOrUndefined = exports.isNonEmptyArray = void 0;\n//\n// Type Guards\n//\n/**\n * A {@link NonEmptyArray} type guard.\n *\n * @template Element - The non-empty array member type.\n * @param value - The value to check.\n * @returns Whether the value is a non-empty array.\n */\nfunction isNonEmptyArray(value) {\n    return Array.isArray(value) && value.length > 0;\n}\nexports.isNonEmptyArray = isNonEmptyArray;\n/**\n * Type guard for \"nullishness\".\n *\n * @param value - Any value.\n * @returns `true` if the value is null or undefined, `false` otherwise.\n */\nfunction isNullOrUndefined(value) {\n    return value === null || value === undefined;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n/**\n * A type guard for {@link RuntimeObject}.\n *\n * @param value - The value to check.\n * @returns Whether the specified value has a runtime type of `object` and is\n * neither `null` nor an `Array`.\n */\nfunction isObject(value) {\n    return Boolean(value) && typeof value === 'object' && !Array.isArray(value);\n}\nexports.isObject = isObject;\n//\n// Other utility functions\n//\n/**\n * A type guard for ensuring an object has a property.\n *\n * @param objectToCheck - The object to check.\n * @param name - The property name to check for.\n * @returns Whether the specified object has an own property with the specified\n * name, regardless of whether it is enumerable or not.\n */\nconst hasProperty = (objectToCheck, name) => Object.hasOwnProperty.call(objectToCheck, name);\nexports.hasProperty = hasProperty;\n/**\n * Predefined sizes (in Bytes) of specific parts of JSON structure.\n */\nvar JsonSize;\n(function (JsonSize) {\n    JsonSize[JsonSize[\"Null\"] = 4] = \"Null\";\n    JsonSize[JsonSize[\"Comma\"] = 1] = \"Comma\";\n    JsonSize[JsonSize[\"Wrapper\"] = 1] = \"Wrapper\";\n    JsonSize[JsonSize[\"True\"] = 4] = \"True\";\n    JsonSize[JsonSize[\"False\"] = 5] = \"False\";\n    JsonSize[JsonSize[\"Quote\"] = 1] = \"Quote\";\n    JsonSize[JsonSize[\"Colon\"] = 1] = \"Colon\";\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    JsonSize[JsonSize[\"Date\"] = 24] = \"Date\";\n})(JsonSize = exports.JsonSize || (exports.JsonSize = {}));\n/**\n * Regular expression with pattern matching for (special) escaped characters.\n */\nexports.ESCAPE_CHARACTERS_REGEXP = /\"|\\\\|\\n|\\r|\\t/gu;\n/**\n * Check if the value is plain object.\n *\n * @param value - Value to be checked.\n * @returns True if an object is the plain JavaScript object,\n * false if the object is not plain (e.g. function).\n */\nfunction isPlainObject(value) {\n    if (typeof value !== 'object' || value === null) {\n        return false;\n    }\n    try {\n        let proto = value;\n        while (Object.getPrototypeOf(proto) !== null) {\n            proto = Object.getPrototypeOf(proto);\n        }\n        return Object.getPrototypeOf(value) === proto;\n    }\n    catch (_) {\n        return false;\n    }\n}\nexports.isPlainObject = isPlainObject;\n/**\n * Check if character is ASCII.\n *\n * @param character - Character.\n * @returns True if a character code is ASCII, false if not.\n */\nfunction isASCII(character) {\n    return character.charCodeAt(0) <= 127;\n}\nexports.isASCII = isASCII;\n/**\n * Calculate string size.\n *\n * @param value - String value to calculate size.\n * @returns Number of bytes used to store whole string value.\n */\nfunction calculateStringSize(value) {\n    var _a;\n    const size = value.split('').reduce((total, character) => {\n        if (isASCII(character)) {\n            return total + 1;\n        }\n        return total + 2;\n    }, 0);\n    // Also detect characters that need backslash escape\n    return size + ((_a = value.match(exports.ESCAPE_CHARACTERS_REGEXP)) !== null && _a !== void 0 ? _a : []).length;\n}\nexports.calculateStringSize = calculateStringSize;\n/**\n * Calculate size of a number ofter JSON serialization.\n *\n * @param value - Number value to calculate size.\n * @returns Number of bytes used to store whole number in JSON.\n */\nfunction calculateNumberSize(value) {\n    return value.toString().length;\n}\nexports.calculateNumberSize = calculateNumberSize;\n//# sourceMappingURL=misc.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hexToBigInt = exports.hexToNumber = exports.bigIntToHex = exports.numberToHex = void 0;\nconst assert_1 = require(\"./assert\");\nconst hex_1 = require(\"./hex\");\n/**\n * Convert a number to a hexadecimal string. This verifies that the number is a\n * non-negative safe integer.\n *\n * To convert a `bigint` to a hexadecimal string instead, use\n * {@link bigIntToHex}.\n *\n * @example\n * ```typescript\n * numberToHex(0); // '0x0'\n * numberToHex(1); // '0x1'\n * numberToHex(16); // '0x10'\n * ```\n * @param value - The number to convert to a hexadecimal string.\n * @returns The hexadecimal string, with the \"0x\"-prefix.\n * @throws If the number is not a non-negative safe integer.\n */\nconst numberToHex = (value) => {\n    (0, assert_1.assert)(typeof value === 'number', 'Value must be a number.');\n    (0, assert_1.assert)(value >= 0, 'Value must be a non-negative number.');\n    (0, assert_1.assert)(Number.isSafeInteger(value), 'Value is not a safe integer. Use `bigIntToHex` instead.');\n    return (0, hex_1.add0x)(value.toString(16));\n};\nexports.numberToHex = numberToHex;\n/**\n * Convert a `bigint` to a hexadecimal string. This verifies that the `bigint`\n * is a non-negative integer.\n *\n * To convert a number to a hexadecimal string instead, use {@link numberToHex}.\n *\n * @example\n * ```typescript\n * bigIntToHex(0n); // '0x0'\n * bigIntToHex(1n); // '0x1'\n * bigIntToHex(16n); // '0x10'\n * ```\n * @param value - The `bigint` to convert to a hexadecimal string.\n * @returns The hexadecimal string, with the \"0x\"-prefix.\n * @throws If the `bigint` is not a non-negative integer.\n */\nconst bigIntToHex = (value) => {\n    (0, assert_1.assert)(typeof value === 'bigint', 'Value must be a bigint.');\n    (0, assert_1.assert)(value >= 0, 'Value must be a non-negative bigint.');\n    return (0, hex_1.add0x)(value.toString(16));\n};\nexports.bigIntToHex = bigIntToHex;\n/**\n * Convert a hexadecimal string to a number. This verifies that the string is a\n * valid hex string, and that the resulting number is a safe integer. Both\n * \"0x\"-prefixed and unprefixed strings are supported.\n *\n * To convert a hexadecimal string to a `bigint` instead, use\n * {@link hexToBigInt}.\n *\n * @example\n * ```typescript\n * hexToNumber('0x0'); // 0\n * hexToNumber('0x1'); // 1\n * hexToNumber('0x10'); // 16\n * ```\n * @param value - The hexadecimal string to convert to a number.\n * @returns The number.\n * @throws If the value is not a valid hexadecimal string, or if the resulting\n * number is not a safe integer.\n */\nconst hexToNumber = (value) => {\n    (0, hex_1.assertIsHexString)(value);\n    // `parseInt` accepts values without the \"0x\"-prefix, whereas `Number` does\n    // not. Using this is slightly faster than `Number(add0x(value))`.\n    const numberValue = parseInt(value, 16);\n    (0, assert_1.assert)(Number.isSafeInteger(numberValue), 'Value is not a safe integer. Use `hexToBigInt` instead.');\n    return numberValue;\n};\nexports.hexToNumber = hexToNumber;\n/**\n * Convert a hexadecimal string to a `bigint`. This verifies that the string is\n * a valid hex string. Both \"0x\"-prefixed and unprefixed strings are supported.\n *\n * To convert a hexadecimal string to a number instead, use {@link hexToNumber}.\n *\n * @example\n * ```typescript\n * hexToBigInt('0x0'); // 0n\n * hexToBigInt('0x1'); // 1n\n * hexToBigInt('0x10'); // 16n\n * ```\n * @param value - The hexadecimal string to convert to a `bigint`.\n * @returns The `bigint`.\n * @throws If the value is not a valid hexadecimal string.\n */\nconst hexToBigInt = (value) => {\n    (0, hex_1.assertIsHexString)(value);\n    // The `BigInt` constructor requires the \"0x\"-prefix to parse a hex string.\n    return BigInt((0, hex_1.add0x)(value));\n};\nexports.hexToBigInt = hexToBigInt;\n//# sourceMappingURL=number.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=opaque.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.timeSince = exports.inMilliseconds = exports.Duration = void 0;\n/**\n * Common duration constants, in milliseconds.\n */\nvar Duration;\n(function (Duration) {\n    /**\n     * A millisecond.\n     */\n    Duration[Duration[\"Millisecond\"] = 1] = \"Millisecond\";\n    /**\n     * A second, in milliseconds.\n     */\n    Duration[Duration[\"Second\"] = 1000] = \"Second\";\n    /**\n     * A minute, in milliseconds.\n     */\n    Duration[Duration[\"Minute\"] = 60000] = \"Minute\";\n    /**\n     * An hour, in milliseconds.\n     */\n    Duration[Duration[\"Hour\"] = 3600000] = \"Hour\";\n    /**\n     * A day, in milliseconds.\n     */\n    Duration[Duration[\"Day\"] = 86400000] = \"Day\";\n    /**\n     * A week, in milliseconds.\n     */\n    Duration[Duration[\"Week\"] = 604800000] = \"Week\";\n    /**\n     * A year, in milliseconds.\n     */\n    Duration[Duration[\"Year\"] = 31536000000] = \"Year\";\n})(Duration = exports.Duration || (exports.Duration = {}));\nconst isNonNegativeInteger = (number) => Number.isInteger(number) && number >= 0;\nconst assertIsNonNegativeInteger = (number, name) => {\n    if (!isNonNegativeInteger(number)) {\n        throw new Error(`\"${name}\" must be a non-negative integer. Received: \"${number}\".`);\n    }\n};\n/**\n * Calculates the millisecond value of the specified number of units of time.\n *\n * @param count - The number of units of time.\n * @param duration - The unit of time to count.\n * @returns The count multiplied by the specified duration.\n */\nfunction inMilliseconds(count, duration) {\n    assertIsNonNegativeInteger(count, 'count');\n    return count * duration;\n}\nexports.inMilliseconds = inMilliseconds;\n/**\n * Gets the milliseconds since a particular Unix epoch timestamp.\n *\n * @param timestamp - A Unix millisecond timestamp.\n * @returns The number of milliseconds elapsed since the specified timestamp.\n */\nfunction timeSince(timestamp) {\n    assertIsNonNegativeInteger(timestamp, 'timestamp');\n    return Date.now() - timestamp;\n}\nexports.timeSince = timeSince;\n//# sourceMappingURL=time.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=transaction-types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.satisfiesVersionRange = exports.gtRange = exports.gtVersion = exports.assertIsSemVerRange = exports.assertIsSemVerVersion = exports.isValidSemVerRange = exports.isValidSemVerVersion = exports.VersionRangeStruct = exports.VersionStruct = void 0;\nconst semver_1 = require(\"semver\");\nconst superstruct_1 = require(\"superstruct\");\nconst assert_1 = require(\"./assert\");\n/**\n * A struct for validating a version string.\n */\nexports.VersionStruct = (0, superstruct_1.refine)((0, superstruct_1.string)(), 'Version', (value) => {\n    if ((0, semver_1.valid)(value) === null) {\n        return `Expected SemVer version, got \"${value}\"`;\n    }\n    return true;\n});\nexports.VersionRangeStruct = (0, superstruct_1.refine)((0, superstruct_1.string)(), 'Version range', (value) => {\n    if ((0, semver_1.validRange)(value) === null) {\n        return `Expected SemVer range, got \"${value}\"`;\n    }\n    return true;\n});\n/**\n * Checks whether a SemVer version is valid.\n *\n * @param version - A potential version.\n * @returns `true` if the version is valid, and `false` otherwise.\n */\nfunction isValidSemVerVersion(version) {\n    return (0, superstruct_1.is)(version, exports.VersionStruct);\n}\nexports.isValidSemVerVersion = isValidSemVerVersion;\n/**\n * Checks whether a SemVer version range is valid.\n *\n * @param versionRange - A potential version range.\n * @returns `true` if the version range is valid, and `false` otherwise.\n */\nfunction isValidSemVerRange(versionRange) {\n    return (0, superstruct_1.is)(versionRange, exports.VersionRangeStruct);\n}\nexports.isValidSemVerRange = isValidSemVerRange;\n/**\n * Asserts that a value is a valid concrete SemVer version.\n *\n * @param version - A potential SemVer concrete version.\n */\nfunction assertIsSemVerVersion(version) {\n    (0, assert_1.assertStruct)(version, exports.VersionStruct);\n}\nexports.assertIsSemVerVersion = assertIsSemVerVersion;\n/**\n * Asserts that a value is a valid SemVer range.\n *\n * @param range - A potential SemVer range.\n */\nfunction assertIsSemVerRange(range) {\n    (0, assert_1.assertStruct)(range, exports.VersionRangeStruct);\n}\nexports.assertIsSemVerRange = assertIsSemVerRange;\n/**\n * Checks whether a SemVer version is greater than another.\n *\n * @param version1 - The left-hand version.\n * @param version2 - The right-hand version.\n * @returns `version1 > version2`.\n */\nfunction gtVersion(version1, version2) {\n    return (0, semver_1.gt)(version1, version2);\n}\nexports.gtVersion = gtVersion;\n/**\n * Checks whether a SemVer version is greater than all possibilities in a range.\n *\n * @param version - A SemvVer version.\n * @param range - The range to check against.\n * @returns `version > range`.\n */\nfunction gtRange(version, range) {\n    return (0, semver_1.gtr)(version, range);\n}\nexports.gtRange = gtRange;\n/**\n * Returns whether a SemVer version satisfies a SemVer range.\n *\n * @param version - The SemVer version to check.\n * @param versionRange - The SemVer version range to check against.\n * @returns Whether the version satisfied the version range.\n */\nfunction satisfiesVersionRange(version, versionRange) {\n    return (0, semver_1.satisfies)(version, versionRange, {\n        includePrerelease: true,\n    });\n}\nexports.satisfiesVersionRange = satisfiesVersionRange;\n//# sourceMappingURL=versions.js.map","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range\n      .trim()\n      .split(/\\s+/)\n      .join(' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => comps.join(' ').trim())\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // Otherwise it can be determined by checking the high version\n\n    if (highVersion.patch) {\n      // anything higher than a patch bump would result in the wrong version\n      return 'patch'\n    }\n\n    if (highVersion.minor) {\n      // anything higher than a minor bump would result in the wrong version\n      return 'minor'\n    }\n\n    // bumping major/minor/patch all have same result\n    return 'major'\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  // Replace all greedy whitespace to prevent regex dos issues. These regex are\n  // used internally via the safeRe object since all inputs in this library get\n  // normalized first to trim and collapse all extra whitespace. The original\n  // regexes are exported for userland consumption and lower level usage. A\n  // future breaking change could export the safer regex only with a note that\n  // all input should have extra whitespace removed.\n  const safe = value\n    .split('\\\\s*').join('\\\\s{0,1}')\n    .split('\\\\s+').join('\\\\s')\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","/*globals self, window */\n\"use strict\"\n\n/*eslint-disable @mysticatea/prettier */\nconst { AbortController, AbortSignal } =\n    typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    /* otherwise */ undefined\n/*eslint-enable @mysticatea/prettier */\n\nmodule.exports = AbortController\nmodule.exports.AbortSignal = AbortSignal\nmodule.exports.default = AbortController\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tprocess.nextTick(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar LIMIT_REPLACE_NODE = '[...]'\nvar CIRCULAR_REPLACE_NODE = '[Circular]'\n\nvar arr = []\nvar replacerStack = []\n\nfunction defaultOptions () {\n  return {\n    depthLimit: Number.MAX_SAFE_INTEGER,\n    edgesLimit: Number.MAX_SAFE_INTEGER\n  }\n}\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  decirc(obj, '', 0, [], undefined, 0, options)\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(obj, replacer, spacer)\n    } else {\n      res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction setReplace (replace, val, k, parent) {\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n  if (propertyDescriptor.get !== undefined) {\n    if (propertyDescriptor.configurable) {\n      Object.defineProperty(parent, k, { value: replace })\n      arr.push([parent, k, val, propertyDescriptor])\n    } else {\n      replacerStack.push([val, k, replace])\n    }\n  } else {\n    parent[k] = replace\n    arr.push([parent, k, val])\n  }\n}\n\nfunction decirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, i, stack, val, depth, options)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  var tmp = deterministicDecirc(obj, '', 0, [], undefined, 0, options) || obj\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(tmp, replacer, spacer)\n    } else {\n      res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    // Ensure that we restore the object as it was.\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n    try {\n      if (typeof val.toJSON === 'function') {\n        return\n      }\n    } catch (_) {\n      return\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, i, stack, val, depth, options)\n        tmp[key] = val[key]\n      }\n      if (typeof parent !== 'undefined') {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as replaced value\nfunction replaceGetterValues (replacer) {\n  replacer =\n    typeof replacer !== 'undefined'\n      ? replacer\n      : function (k, v) {\n        return v\n      }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = part[2]\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n","/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      defaultLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      function clearPersistedLevel() {\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage.removeItem(storageKey);\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch (ignore) {}\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          defaultLevel = level;\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.resetLevel = function () {\n          self.setLevel(defaultLevel, false);\n          clearPersistedLevel();\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var once = require('once')\nvar eos = require('end-of-stream')\nvar fs = require('fs') // we only need fs to get the ReadStream and WriteStream prototypes\n\nvar noop = function () {}\nvar ancient = /^v?\\.0/.test(process.version)\n\nvar isFn = function (fn) {\n  return typeof fn === 'function'\n}\n\nvar isFS = function (stream) {\n  if (!ancient) return false // newer node version do not need to care about fs is a special way\n  if (!fs) return false // browser\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close)\n}\n\nvar isRequest = function (stream) {\n  return stream.setHeader && isFn(stream.abort)\n}\n\nvar destroyer = function (stream, reading, writing, callback) {\n  callback = once(callback)\n\n  var closed = false\n  stream.on('close', function () {\n    closed = true\n  })\n\n  eos(stream, {readable: reading, writable: writing}, function (err) {\n    if (err) return callback(err)\n    closed = true\n    callback()\n  })\n\n  var destroyed = false\n  return function (err) {\n    if (closed) return\n    if (destroyed) return\n    destroyed = true\n\n    if (isFS(stream)) return stream.close(noop) // use close for fs streams to avoid fd leaks\n    if (isRequest(stream)) return stream.abort() // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy()\n\n    callback(err || new Error('stream was destroyed'))\n  }\n}\n\nvar call = function (fn) {\n  fn()\n}\n\nvar pipe = function (from, to) {\n  return from.pipe(to)\n}\n\nvar pump = function () {\n  var streams = Array.prototype.slice.call(arguments)\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop\n\n  if (Array.isArray(streams[0])) streams = streams[0]\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum')\n\n  var error\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1\n    var writing = i > 0\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err\n      if (err) destroys.forEach(call)\n      if (reading) return\n      destroys.forEach(call)\n      callback(error)\n    })\n  })\n\n  return streams.reduce(pipe)\n}\n\nmodule.exports = pump\n","'use strict'\n\nconst { AbortError, codes } = require('../../ours/errors')\nconst { isNodeStream, isWebStream, kControllerErrorFunction } = require('./utils')\nconst eos = require('./end-of-stream')\nconst { ERR_INVALID_ARG_TYPE } = codes\n\n// This method is inlined here for readable-stream\n// It also does not allow for signal to not exist on the stream\n// https://github.com/nodejs/node/pull/36061#discussion_r533718029\nconst validateAbortSignal = (signal, name) => {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nmodule.exports.addAbortSignal = function addAbortSignal(signal, stream) {\n  validateAbortSignal(signal, 'signal')\n  if (!isNodeStream(stream) && !isWebStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  return module.exports.addAbortSignalNoValidate(signal, stream)\n}\nmodule.exports.addAbortSignalNoValidate = function (signal, stream) {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    return stream\n  }\n  const onAbort = isNodeStream(stream)\n    ? () => {\n        stream.destroy(\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n    : () => {\n        stream[kControllerErrorFunction](\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n  if (signal.aborted) {\n    onAbort()\n  } else {\n    signal.addEventListener('abort', onAbort)\n    eos(stream, () => signal.removeEventListener('abort', onAbort))\n  }\n  return stream\n}\n","'use strict'\n\nconst { StringPrototypeSlice, SymbolIterator, TypedArrayPrototypeSet, Uint8Array } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { inspect } = require('../../ours/util')\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null\n    this.tail = null\n    this.length = 0\n  }\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    }\n    if (this.length > 0) this.tail.next = entry\n    else this.head = entry\n    this.tail = entry\n    ++this.length\n  }\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    }\n    if (this.length === 0) this.tail = entry\n    this.head = entry\n    ++this.length\n  }\n  shift() {\n    if (this.length === 0) return\n    const ret = this.head.data\n    if (this.length === 1) this.head = this.tail = null\n    else this.head = this.head.next\n    --this.length\n    return ret\n  }\n  clear() {\n    this.head = this.tail = null\n    this.length = 0\n  }\n  join(s) {\n    if (this.length === 0) return ''\n    let p = this.head\n    let ret = '' + p.data\n    while ((p = p.next) !== null) ret += s + p.data\n    return ret\n  }\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0)\n    const ret = Buffer.allocUnsafe(n >>> 0)\n    let p = this.head\n    let i = 0\n    while (p) {\n      TypedArrayPrototypeSet(ret, p.data, i)\n      i += p.data.length\n      p = p.next\n    }\n    return ret\n  }\n\n  // Consumes a specified amount of bytes or characters from the buffered data.\n  consume(n, hasStrings) {\n    const data = this.head.data\n    if (n < data.length) {\n      // `slice` is the same for buffers and strings.\n      const slice = data.slice(0, n)\n      this.head.data = data.slice(n)\n      return slice\n    }\n    if (n === data.length) {\n      // First chunk is a perfect match.\n      return this.shift()\n    }\n    // Result spans more than one buffer.\n    return hasStrings ? this._getString(n) : this._getBuffer(n)\n  }\n  first() {\n    return this.head.data\n  }\n  *[SymbolIterator]() {\n    for (let p = this.head; p; p = p.next) {\n      yield p.data\n    }\n  }\n\n  // Consumes a specified amount of characters from the buffered data.\n  _getString(n) {\n    let ret = ''\n    let p = this.head\n    let c = 0\n    do {\n      const str = p.data\n      if (n > str.length) {\n        ret += str\n        n -= str.length\n      } else {\n        if (n === str.length) {\n          ret += str\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          ret += StringPrototypeSlice(str, 0, n)\n          this.head = p\n          p.data = StringPrototypeSlice(str, n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Consumes a specified amount of bytes from the buffered data.\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n)\n    const retLen = n\n    let p = this.head\n    let c = 0\n    do {\n      const buf = p.data\n      if (n > buf.length) {\n        TypedArrayPrototypeSet(ret, buf, retLen - n)\n        n -= buf.length\n      } else {\n        if (n === buf.length) {\n          TypedArrayPrototypeSet(ret, buf, retLen - n)\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          TypedArrayPrototypeSet(ret, new Uint8Array(buf.buffer, buf.byteOffset, n), retLen - n)\n          this.head = p\n          p.data = buf.slice(n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Make sure the linked list only shows the minimal necessary information.\n  [Symbol.for('nodejs.util.inspect.custom')](_, options) {\n    return inspect(this, {\n      ...options,\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    })\n  }\n}\n","'use strict'\n\nconst { pipeline } = require('./pipeline')\nconst Duplex = require('./duplex')\nconst { destroyer } = require('./destroy')\nconst {\n  isNodeStream,\n  isReadable,\n  isWritable,\n  isWebStream,\n  isTransformStream,\n  isWritableStream,\n  isReadableStream\n} = require('./utils')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_VALUE, ERR_MISSING_ARGS }\n} = require('../../ours/errors')\nconst eos = require('./end-of-stream')\nmodule.exports = function compose(...streams) {\n  if (streams.length === 0) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  if (streams.length === 1) {\n    return Duplex.from(streams[0])\n  }\n  const orgStreams = [...streams]\n  if (typeof streams[0] === 'function') {\n    streams[0] = Duplex.from(streams[0])\n  }\n  if (typeof streams[streams.length - 1] === 'function') {\n    const idx = streams.length - 1\n    streams[idx] = Duplex.from(streams[idx])\n  }\n  for (let n = 0; n < streams.length; ++n) {\n    if (!isNodeStream(streams[n]) && !isWebStream(streams[n])) {\n      // TODO(ronag): Add checks for non streams.\n      continue\n    }\n    if (\n      n < streams.length - 1 &&\n      !(isReadable(streams[n]) || isReadableStream(streams[n]) || isTransformStream(streams[n]))\n    ) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be readable')\n    }\n    if (n > 0 && !(isWritable(streams[n]) || isWritableStream(streams[n]) || isTransformStream(streams[n]))) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be writable')\n    }\n  }\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  }\n  const head = streams[0]\n  const tail = pipeline(streams, onfinished)\n  const writable = !!(isWritable(head) || isWritableStream(head) || isTransformStream(head))\n  const readable = !!(isReadable(tail) || isReadableStream(tail) || isTransformStream(tail))\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplex({\n    // TODO (ronag): highWaterMark?\n    writableObjectMode: !!(head !== null && head !== undefined && head.writableObjectMode),\n    readableObjectMode: !!(tail !== null && tail !== undefined && tail.writableObjectMode),\n    writable,\n    readable\n  })\n  if (writable) {\n    if (isNodeStream(head)) {\n      d._write = function (chunk, encoding, callback) {\n        if (head.write(chunk, encoding)) {\n          callback()\n        } else {\n          ondrain = callback\n        }\n      }\n      d._final = function (callback) {\n        head.end()\n        onfinish = callback\n      }\n      head.on('drain', function () {\n        if (ondrain) {\n          const cb = ondrain\n          ondrain = null\n          cb()\n        }\n      })\n    } else if (isWebStream(head)) {\n      const writable = isTransformStream(head) ? head.writable : head\n      const writer = writable.getWriter()\n      d._write = async function (chunk, encoding, callback) {\n        try {\n          await writer.ready\n          writer.write(chunk).catch(() => {})\n          callback()\n        } catch (err) {\n          callback(err)\n        }\n      }\n      d._final = async function (callback) {\n        try {\n          await writer.ready\n          writer.close().catch(() => {})\n          onfinish = callback\n        } catch (err) {\n          callback(err)\n        }\n      }\n    }\n    const toRead = isTransformStream(tail) ? tail.readable : tail\n    eos(toRead, () => {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    if (isNodeStream(tail)) {\n      tail.on('readable', function () {\n        if (onreadable) {\n          const cb = onreadable\n          onreadable = null\n          cb()\n        }\n      })\n      tail.on('end', function () {\n        d.push(null)\n      })\n      d._read = function () {\n        while (true) {\n          const buf = tail.read()\n          if (buf === null) {\n            onreadable = d._read\n            return\n          }\n          if (!d.push(buf)) {\n            return\n          }\n        }\n      }\n    } else if (isWebStream(tail)) {\n      const readable = isTransformStream(tail) ? tail.readable : tail\n      const reader = readable.getReader()\n      d._read = async function () {\n        while (true) {\n          try {\n            const { value, done } = await reader.read()\n            if (!d.push(value)) {\n              return\n            }\n            if (done) {\n              d.push(null)\n              return\n            }\n          } catch {\n            return\n          }\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      if (isNodeStream(tail)) {\n        destroyer(tail, err)\n      }\n    }\n  }\n  return d\n}\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_MULTIPLE_CALLBACK },\n  AbortError\n} = require('../../ours/errors')\nconst { Symbol } = require('../../ours/primordials')\nconst { kDestroyed, isDestroyed, isFinished, isServerRequest } = require('./utils')\nconst kDestroy = Symbol('kDestroy')\nconst kConstruct = Symbol('kConstruct')\nfunction checkError(err, w, r) {\n  if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n  }\n}\n\n// Backwards compat. cb() is undocumented and unused in core but\n// unfortunately might be used by modules.\nfunction destroy(err, cb) {\n  const r = this._readableState\n  const w = this._writableState\n  // With duplex streams we use the writable side for state.\n  const s = w || r\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    if (typeof cb === 'function') {\n      cb()\n    }\n    return this\n  }\n\n  // We set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n  checkError(err, w, r)\n  if (w) {\n    w.destroyed = true\n  }\n  if (r) {\n    r.destroyed = true\n  }\n\n  // If still constructing then defer calling _destroy.\n  if (!s.constructed) {\n    this.once(kDestroy, function (er) {\n      _destroy(this, aggregateTwoErrors(er, err), cb)\n    })\n  } else {\n    _destroy(this, err, cb)\n  }\n  return this\n}\nfunction _destroy(self, err, cb) {\n  let called = false\n  function onDestroy(err) {\n    if (called) {\n      return\n    }\n    called = true\n    const r = self._readableState\n    const w = self._writableState\n    checkError(err, w, r)\n    if (w) {\n      w.closed = true\n    }\n    if (r) {\n      r.closed = true\n    }\n    if (typeof cb === 'function') {\n      cb(err)\n    }\n    if (err) {\n      process.nextTick(emitErrorCloseNT, self, err)\n    } else {\n      process.nextTick(emitCloseNT, self)\n    }\n  }\n  try {\n    self._destroy(err || null, onDestroy)\n  } catch (err) {\n    onDestroy(err)\n  }\n}\nfunction emitErrorCloseNT(self, err) {\n  emitErrorNT(self, err)\n  emitCloseNT(self)\n}\nfunction emitCloseNT(self) {\n  const r = self._readableState\n  const w = self._writableState\n  if (w) {\n    w.closeEmitted = true\n  }\n  if (r) {\n    r.closeEmitted = true\n  }\n  if ((w !== null && w !== undefined && w.emitClose) || (r !== null && r !== undefined && r.emitClose)) {\n    self.emit('close')\n  }\n}\nfunction emitErrorNT(self, err) {\n  const r = self._readableState\n  const w = self._writableState\n  if ((w !== null && w !== undefined && w.errorEmitted) || (r !== null && r !== undefined && r.errorEmitted)) {\n    return\n  }\n  if (w) {\n    w.errorEmitted = true\n  }\n  if (r) {\n    r.errorEmitted = true\n  }\n  self.emit('error', err)\n}\nfunction undestroy() {\n  const r = this._readableState\n  const w = this._writableState\n  if (r) {\n    r.constructed = true\n    r.closed = false\n    r.closeEmitted = false\n    r.destroyed = false\n    r.errored = null\n    r.errorEmitted = false\n    r.reading = false\n    r.ended = r.readable === false\n    r.endEmitted = r.readable === false\n  }\n  if (w) {\n    w.constructed = true\n    w.destroyed = false\n    w.closed = false\n    w.closeEmitted = false\n    w.errored = null\n    w.errorEmitted = false\n    w.finalCalled = false\n    w.prefinished = false\n    w.ended = w.writable === false\n    w.ending = w.writable === false\n    w.finished = w.writable === false\n  }\n}\nfunction errorOrDestroy(stream, err, sync) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  const r = stream._readableState\n  const w = stream._writableState\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    return this\n  }\n  if ((r !== null && r !== undefined && r.autoDestroy) || (w !== null && w !== undefined && w.autoDestroy))\n    stream.destroy(err)\n  else if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n    if (sync) {\n      process.nextTick(emitErrorNT, stream, err)\n    } else {\n      emitErrorNT(stream, err)\n    }\n  }\n}\nfunction construct(stream, cb) {\n  if (typeof stream._construct !== 'function') {\n    return\n  }\n  const r = stream._readableState\n  const w = stream._writableState\n  if (r) {\n    r.constructed = false\n  }\n  if (w) {\n    w.constructed = false\n  }\n  stream.once(kConstruct, cb)\n  if (stream.listenerCount(kConstruct) > 1) {\n    // Duplex\n    return\n  }\n  process.nextTick(constructNT, stream)\n}\nfunction constructNT(stream) {\n  let called = false\n  function onConstruct(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : new ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    const r = stream._readableState\n    const w = stream._writableState\n    const s = w || r\n    if (r) {\n      r.constructed = true\n    }\n    if (w) {\n      w.constructed = true\n    }\n    if (s.destroyed) {\n      stream.emit(kDestroy, err)\n    } else if (err) {\n      errorOrDestroy(stream, err, true)\n    } else {\n      process.nextTick(emitConstructNT, stream)\n    }\n  }\n  try {\n    stream._construct((err) => {\n      process.nextTick(onConstruct, err)\n    })\n  } catch (err) {\n    process.nextTick(onConstruct, err)\n  }\n}\nfunction emitConstructNT(stream) {\n  stream.emit(kConstruct)\n}\nfunction isRequest(stream) {\n  return (stream === null || stream === undefined ? undefined : stream.setHeader) && typeof stream.abort === 'function'\n}\nfunction emitCloseLegacy(stream) {\n  stream.emit('close')\n}\nfunction emitErrorCloseLegacy(stream, err) {\n  stream.emit('error', err)\n  process.nextTick(emitCloseLegacy, stream)\n}\n\n// Normalize destroy for legacy.\nfunction destroyer(stream, err) {\n  if (!stream || isDestroyed(stream)) {\n    return\n  }\n  if (!err && !isFinished(stream)) {\n    err = new AbortError()\n  }\n\n  // TODO: Remove isRequest branches.\n  if (isServerRequest(stream)) {\n    stream.socket = null\n    stream.destroy(err)\n  } else if (isRequest(stream)) {\n    stream.abort()\n  } else if (isRequest(stream.req)) {\n    stream.req.abort()\n  } else if (typeof stream.destroy === 'function') {\n    stream.destroy(err)\n  } else if (typeof stream.close === 'function') {\n    // TODO: Don't lose err?\n    stream.close()\n  } else if (err) {\n    process.nextTick(emitErrorCloseLegacy, stream, err)\n  } else {\n    process.nextTick(emitCloseLegacy, stream)\n  }\n  if (!stream.destroyed) {\n    stream[kDestroyed] = true\n  }\n}\nmodule.exports = {\n  construct,\n  destroyer,\n  destroy,\n  undestroy,\n  errorOrDestroy\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototype inheritance, this class\n// prototypically inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict'\n\nconst {\n  ObjectDefineProperties,\n  ObjectGetOwnPropertyDescriptor,\n  ObjectKeys,\n  ObjectSetPrototypeOf\n} = require('../../ours/primordials')\nmodule.exports = Duplex\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nObjectSetPrototypeOf(Duplex.prototype, Readable.prototype)\nObjectSetPrototypeOf(Duplex, Readable)\n{\n  const keys = ObjectKeys(Writable.prototype)\n  // Allow the keys array to be GC'ed.\n  for (let i = 0; i < keys.length; i++) {\n    const method = keys[i]\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method]\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options)\n  Readable.call(this, options)\n  Writable.call(this, options)\n  if (options) {\n    this.allowHalfOpen = options.allowHalfOpen !== false\n    if (options.readable === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if (options.writable === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  } else {\n    this.allowHalfOpen = true\n  }\n}\nObjectDefineProperties(Duplex.prototype, {\n  writable: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writable')\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableHighWaterMark')\n  },\n  writableObjectMode: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableObjectMode')\n  },\n  writableBuffer: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableBuffer')\n  },\n  writableLength: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableLength')\n  },\n  writableFinished: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableFinished')\n  },\n  writableCorked: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableCorked')\n  },\n  writableEnded: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableEnded')\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableNeedDrain')\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      if (this._readableState === undefined || this._writableState === undefined) {\n        return false\n      }\n      return this._readableState.destroyed && this._writableState.destroyed\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      if (this._readableState && this._writableState) {\n        this._readableState.destroyed = value\n        this._writableState.destroyed = value\n      }\n    }\n  }\n})\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nDuplex.fromWeb = function (pair, options) {\n  return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair, options)\n}\nDuplex.toWeb = function (duplex) {\n  return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)\n}\nlet duplexify\nDuplex.from = function (body) {\n  if (!duplexify) {\n    duplexify = require('./duplexify')\n  }\n  return duplexify(body, 'body')\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\n;('use strict')\nconst bufferModule = require('buffer')\nconst {\n  isReadable,\n  isWritable,\n  isIterable,\n  isNodeStream,\n  isReadableNodeStream,\n  isWritableNodeStream,\n  isDuplexNodeStream\n} = require('./utils')\nconst eos = require('./end-of-stream')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE }\n} = require('../../ours/errors')\nconst { destroyer } = require('./destroy')\nconst Duplex = require('./duplex')\nconst Readable = require('./readable')\nconst { createDeferredPromise } = require('../../ours/util')\nconst from = require('./from')\nconst Blob = globalThis.Blob || bufferModule.Blob\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst { FunctionPrototypeCall } = require('../../ours/primordials')\n\n// This is needed for pre node 17.\nclass Duplexify extends Duplex {\n  constructor(options) {\n    super(options)\n\n    // https://github.com/nodejs/node/pull/34385\n\n    if ((options === null || options === undefined ? undefined : options.readable) === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if ((options === null || options === undefined ? undefined : options.writable) === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  }\n}\nmodule.exports = function duplexify(body, name) {\n  if (isDuplexNodeStream(body)) {\n    return body\n  }\n  if (isReadableNodeStream(body)) {\n    return _duplexify({\n      readable: body\n    })\n  }\n  if (isWritableNodeStream(body)) {\n    return _duplexify({\n      writable: body\n    })\n  }\n  if (isNodeStream(body)) {\n    return _duplexify({\n      writable: false,\n      readable: false\n    })\n  }\n\n  // TODO: Webstreams\n  // if (isReadableStream(body)) {\n  //   return _duplexify({ readable: Readable.fromWeb(body) });\n  // }\n\n  // TODO: Webstreams\n  // if (isWritableStream(body)) {\n  //   return _duplexify({ writable: Writable.fromWeb(body) });\n  // }\n\n  if (typeof body === 'function') {\n    const { value, write, final, destroy } = fromAsyncGen(body)\n    if (isIterable(value)) {\n      return from(Duplexify, value, {\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        write,\n        final,\n        destroy\n      })\n    }\n    const then = value === null || value === undefined ? undefined : value.then\n    if (typeof then === 'function') {\n      let d\n      const promise = FunctionPrototypeCall(\n        then,\n        value,\n        (val) => {\n          if (val != null) {\n            throw new ERR_INVALID_RETURN_VALUE('nully', 'body', val)\n          }\n        },\n        (err) => {\n          destroyer(d, err)\n        }\n      )\n      return (d = new Duplexify({\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        readable: false,\n        write,\n        final(cb) {\n          final(async () => {\n            try {\n              await promise\n              process.nextTick(cb, null)\n            } catch (err) {\n              process.nextTick(cb, err)\n            }\n          })\n        },\n        destroy\n      }))\n    }\n    throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or AsyncFunction', name, value)\n  }\n  if (isBlob(body)) {\n    return duplexify(body.arrayBuffer())\n  }\n  if (isIterable(body)) {\n    return from(Duplexify, body, {\n      // TODO (ronag): highWaterMark?\n      objectMode: true,\n      writable: false\n    })\n  }\n\n  // TODO: Webstreams.\n  // if (\n  //   isReadableStream(body?.readable) &&\n  //   isWritableStream(body?.writable)\n  // ) {\n  //   return Duplexify.fromWeb(body);\n  // }\n\n  if (\n    typeof (body === null || body === undefined ? undefined : body.writable) === 'object' ||\n    typeof (body === null || body === undefined ? undefined : body.readable) === 'object'\n  ) {\n    const readable =\n      body !== null && body !== undefined && body.readable\n        ? isReadableNodeStream(body === null || body === undefined ? undefined : body.readable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.readable\n          : duplexify(body.readable)\n        : undefined\n    const writable =\n      body !== null && body !== undefined && body.writable\n        ? isWritableNodeStream(body === null || body === undefined ? undefined : body.writable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.writable\n          : duplexify(body.writable)\n        : undefined\n    return _duplexify({\n      readable,\n      writable\n    })\n  }\n  const then = body === null || body === undefined ? undefined : body.then\n  if (typeof then === 'function') {\n    let d\n    FunctionPrototypeCall(\n      then,\n      body,\n      (val) => {\n        if (val != null) {\n          d.push(val)\n        }\n        d.push(null)\n      },\n      (err) => {\n        destroyer(d, err)\n      }\n    )\n    return (d = new Duplexify({\n      objectMode: true,\n      writable: false,\n      read() {}\n    }))\n  }\n  throw new ERR_INVALID_ARG_TYPE(\n    name,\n    [\n      'Blob',\n      'ReadableStream',\n      'WritableStream',\n      'Stream',\n      'Iterable',\n      'AsyncIterable',\n      'Function',\n      '{ readable, writable } pair',\n      'Promise'\n    ],\n    body\n  )\n}\nfunction fromAsyncGen(fn) {\n  let { promise, resolve } = createDeferredPromise()\n  const ac = new AbortController()\n  const signal = ac.signal\n  const value = fn(\n    (async function* () {\n      while (true) {\n        const _promise = promise\n        promise = null\n        const { chunk, done, cb } = await _promise\n        process.nextTick(cb)\n        if (done) return\n        if (signal.aborted)\n          throw new AbortError(undefined, {\n            cause: signal.reason\n          })\n        ;({ promise, resolve } = createDeferredPromise())\n        yield chunk\n      }\n    })(),\n    {\n      signal\n    }\n  )\n  return {\n    value,\n    write(chunk, encoding, cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        chunk,\n        done: false,\n        cb\n      })\n    },\n    final(cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        done: true,\n        cb\n      })\n    },\n    destroy(err, cb) {\n      ac.abort()\n      cb(err)\n    }\n  }\n}\nfunction _duplexify(pair) {\n  const r = pair.readable && typeof pair.readable.read !== 'function' ? Readable.wrap(pair.readable) : pair.readable\n  const w = pair.writable\n  let readable = !!isReadable(r)\n  let writable = !!isWritable(w)\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    }\n  }\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplexify({\n    // TODO (ronag): highWaterMark?\n    readableObjectMode: !!(r !== null && r !== undefined && r.readableObjectMode),\n    writableObjectMode: !!(w !== null && w !== undefined && w.writableObjectMode),\n    readable,\n    writable\n  })\n  if (writable) {\n    eos(w, (err) => {\n      writable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    d._write = function (chunk, encoding, callback) {\n      if (w.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n    d._final = function (callback) {\n      w.end()\n      onfinish = callback\n    }\n    w.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    w.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    eos(r, (err) => {\n      readable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    r.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    r.on('end', function () {\n      d.push(null)\n    })\n    d._read = function () {\n      while (true) {\n        const buf = r.read()\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(w, err)\n      destroyer(r, err)\n    }\n  }\n  return d\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_PREMATURE_CLOSE } = codes\nconst { kEmptyObject, once } = require('../../ours/util')\nconst { validateAbortSignal, validateFunction, validateObject, validateBoolean } = require('../validators')\nconst { Promise, PromisePrototypeThen } = require('../../ours/primordials')\nconst {\n  isClosed,\n  isReadable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableFinished,\n  isReadableErrored,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableFinished,\n  isWritableErrored,\n  isNodeStream,\n  willEmitClose: _willEmitClose,\n  kIsClosedPromise\n} = require('./utils')\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function'\n}\nconst nop = () => {}\nfunction eos(stream, options, callback) {\n  var _options$readable, _options$writable\n  if (arguments.length === 2) {\n    callback = options\n    options = kEmptyObject\n  } else if (options == null) {\n    options = kEmptyObject\n  } else {\n    validateObject(options, 'options')\n  }\n  validateFunction(callback, 'callback')\n  validateAbortSignal(options.signal, 'options.signal')\n  callback = once(callback)\n  if (isReadableStream(stream) || isWritableStream(stream)) {\n    return eosWeb(stream, options, callback)\n  }\n  if (!isNodeStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  const readable =\n    (_options$readable = options.readable) !== null && _options$readable !== undefined\n      ? _options$readable\n      : isReadableNodeStream(stream)\n  const writable =\n    (_options$writable = options.writable) !== null && _options$writable !== undefined\n      ? _options$writable\n      : isWritableNodeStream(stream)\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const onlegacyfinish = () => {\n    if (!stream.writable) {\n      onfinish()\n    }\n  }\n\n  // TODO (ronag): Improve soft detection to include core modules and\n  // common ecosystem modules that do properly emit 'close' but fail\n  // this generic check.\n  let willEmitClose =\n    _willEmitClose(stream) && isReadableNodeStream(stream) === readable && isWritableNodeStream(stream) === writable\n  let writableFinished = isWritableFinished(stream, false)\n  const onfinish = () => {\n    writableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.readable || readable)) {\n      return\n    }\n    if (!readable || readableFinished) {\n      callback.call(stream)\n    }\n  }\n  let readableFinished = isReadableFinished(stream, false)\n  const onend = () => {\n    readableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.writable || writable)) {\n      return\n    }\n    if (!writable || writableFinished) {\n      callback.call(stream)\n    }\n  }\n  const onerror = (err) => {\n    callback.call(stream, err)\n  }\n  let closed = isClosed(stream)\n  const onclose = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    if (readable && !readableFinished && isReadableNodeStream(stream, true)) {\n      if (!isReadableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    if (writable && !writableFinished) {\n      if (!isWritableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    callback.call(stream)\n  }\n  const onclosed = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    callback.call(stream)\n  }\n  const onrequest = () => {\n    stream.req.on('finish', onfinish)\n  }\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish)\n    if (!willEmitClose) {\n      stream.on('abort', onclose)\n    }\n    if (stream.req) {\n      onrequest()\n    } else {\n      stream.on('request', onrequest)\n    }\n  } else if (writable && !wState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish)\n    stream.on('close', onlegacyfinish)\n  }\n\n  // Not all streams will emit 'close' after 'aborted'.\n  if (!willEmitClose && typeof stream.aborted === 'boolean') {\n    stream.on('aborted', onclose)\n  }\n  stream.on('end', onend)\n  stream.on('finish', onfinish)\n  if (options.error !== false) {\n    stream.on('error', onerror)\n  }\n  stream.on('close', onclose)\n  if (closed) {\n    process.nextTick(onclose)\n  } else if (\n    (wState !== null && wState !== undefined && wState.errorEmitted) ||\n    (rState !== null && rState !== undefined && rState.errorEmitted)\n  ) {\n    if (!willEmitClose) {\n      process.nextTick(onclosed)\n    }\n  } else if (\n    !readable &&\n    (!willEmitClose || isReadable(stream)) &&\n    (writableFinished || isWritable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (\n    !writable &&\n    (!willEmitClose || isWritable(stream)) &&\n    (readableFinished || isReadable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (rState && stream.req && stream.aborted) {\n    process.nextTick(onclosed)\n  }\n  const cleanup = () => {\n    callback = nop\n    stream.removeListener('aborted', onclose)\n    stream.removeListener('complete', onfinish)\n    stream.removeListener('abort', onclose)\n    stream.removeListener('request', onrequest)\n    if (stream.req) stream.req.removeListener('finish', onfinish)\n    stream.removeListener('end', onlegacyfinish)\n    stream.removeListener('close', onlegacyfinish)\n    stream.removeListener('finish', onfinish)\n    stream.removeListener('end', onend)\n    stream.removeListener('error', onerror)\n    stream.removeListener('close', onclose)\n  }\n  if (options.signal && !closed) {\n    const abort = () => {\n      // Keep it because cleanup removes it.\n      const endCallback = callback\n      cleanup()\n      endCallback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      const originalCallback = callback\n      callback = once((...args) => {\n        options.signal.removeEventListener('abort', abort)\n        originalCallback.apply(stream, args)\n      })\n      options.signal.addEventListener('abort', abort)\n    }\n  }\n  return cleanup\n}\nfunction eosWeb(stream, options, callback) {\n  let isAborted = false\n  let abort = nop\n  if (options.signal) {\n    abort = () => {\n      isAborted = true\n      callback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      const originalCallback = callback\n      callback = once((...args) => {\n        options.signal.removeEventListener('abort', abort)\n        originalCallback.apply(stream, args)\n      })\n      options.signal.addEventListener('abort', abort)\n    }\n  }\n  const resolverFn = (...args) => {\n    if (!isAborted) {\n      process.nextTick(() => callback.apply(stream, args))\n    }\n  }\n  PromisePrototypeThen(stream[kIsClosedPromise].promise, resolverFn, resolverFn)\n  return nop\n}\nfunction finished(stream, opts) {\n  var _opts\n  let autoCleanup = false\n  if (opts === null) {\n    opts = kEmptyObject\n  }\n  if ((_opts = opts) !== null && _opts !== undefined && _opts.cleanup) {\n    validateBoolean(opts.cleanup, 'cleanup')\n    autoCleanup = opts.cleanup\n  }\n  return new Promise((resolve, reject) => {\n    const cleanup = eos(stream, opts, (err) => {\n      if (autoCleanup) {\n        cleanup()\n      }\n      if (err) {\n        reject(err)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\nmodule.exports = eos\nmodule.exports.finished = finished\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst { PromisePrototypeThen, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_NULL_VALUES } = require('../../ours/errors').codes\nfunction from(Readable, iterable, opts) {\n  let iterator\n  if (typeof iterable === 'string' || iterable instanceof Buffer) {\n    return new Readable({\n      objectMode: true,\n      ...opts,\n      read() {\n        this.push(iterable)\n        this.push(null)\n      }\n    })\n  }\n  let isAsync\n  if (iterable && iterable[SymbolAsyncIterator]) {\n    isAsync = true\n    iterator = iterable[SymbolAsyncIterator]()\n  } else if (iterable && iterable[SymbolIterator]) {\n    isAsync = false\n    iterator = iterable[SymbolIterator]()\n  } else {\n    throw new ERR_INVALID_ARG_TYPE('iterable', ['Iterable'], iterable)\n  }\n  const readable = new Readable({\n    objectMode: true,\n    highWaterMark: 1,\n    // TODO(ronag): What options should be allowed?\n    ...opts\n  })\n\n  // Flag to protect against _read\n  // being called before last iteration completion.\n  let reading = false\n  readable._read = function () {\n    if (!reading) {\n      reading = true\n      next()\n    }\n  }\n  readable._destroy = function (error, cb) {\n    PromisePrototypeThen(\n      close(error),\n      () => process.nextTick(cb, error),\n      // nextTick is here in case cb throws\n      (e) => process.nextTick(cb, e || error)\n    )\n  }\n  async function close(error) {\n    const hadError = error !== undefined && error !== null\n    const hasThrow = typeof iterator.throw === 'function'\n    if (hadError && hasThrow) {\n      const { value, done } = await iterator.throw(error)\n      await value\n      if (done) {\n        return\n      }\n    }\n    if (typeof iterator.return === 'function') {\n      const { value } = await iterator.return()\n      await value\n    }\n  }\n  async function next() {\n    for (;;) {\n      try {\n        const { value, done } = isAsync ? await iterator.next() : iterator.next()\n        if (done) {\n          readable.push(null)\n        } else {\n          const res = value && typeof value.then === 'function' ? await value : value\n          if (res === null) {\n            reading = false\n            throw new ERR_STREAM_NULL_VALUES()\n          } else if (readable.push(res)) {\n            continue\n          } else {\n            reading = false\n          }\n        }\n      } catch (err) {\n        readable.destroy(err)\n      }\n      break\n    }\n  }\n  return readable\n}\nmodule.exports = from\n","'use strict'\n\nconst { ArrayIsArray, ObjectSetPrototypeOf } = require('../../ours/primordials')\nconst { EventEmitter: EE } = require('events')\nfunction Stream(opts) {\n  EE.call(this, opts)\n}\nObjectSetPrototypeOf(Stream.prototype, EE.prototype)\nObjectSetPrototypeOf(Stream, EE)\nStream.prototype.pipe = function (dest, options) {\n  const source = this\n  function ondata(chunk) {\n    if (dest.writable && dest.write(chunk) === false && source.pause) {\n      source.pause()\n    }\n  }\n  source.on('data', ondata)\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume()\n    }\n  }\n  dest.on('drain', ondrain)\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend)\n    source.on('close', onclose)\n  }\n  let didOnEnd = false\n  function onend() {\n    if (didOnEnd) return\n    didOnEnd = true\n    dest.end()\n  }\n  function onclose() {\n    if (didOnEnd) return\n    didOnEnd = true\n    if (typeof dest.destroy === 'function') dest.destroy()\n  }\n\n  // Don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup()\n    if (EE.listenerCount(this, 'error') === 0) {\n      this.emit('error', er)\n    }\n  }\n  prependListener(source, 'error', onerror)\n  prependListener(dest, 'error', onerror)\n\n  // Remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata)\n    dest.removeListener('drain', ondrain)\n    source.removeListener('end', onend)\n    source.removeListener('close', onclose)\n    source.removeListener('error', onerror)\n    dest.removeListener('error', onerror)\n    source.removeListener('end', cleanup)\n    source.removeListener('close', cleanup)\n    dest.removeListener('close', cleanup)\n  }\n  source.on('end', cleanup)\n  source.on('close', cleanup)\n  dest.on('close', cleanup)\n  dest.emit('pipe', source)\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest\n}\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn)\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn)\n  else if (ArrayIsArray(emitter._events[event])) emitter._events[event].unshift(fn)\n  else emitter._events[event] = [fn, emitter._events[event]]\n}\nmodule.exports = {\n  Stream,\n  prependListener\n}\n","'use strict'\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst {\n  codes: { ERR_INVALID_ARG_VALUE, ERR_INVALID_ARG_TYPE, ERR_MISSING_ARGS, ERR_OUT_OF_RANGE },\n  AbortError\n} = require('../../ours/errors')\nconst { validateAbortSignal, validateInteger, validateObject } = require('../validators')\nconst kWeakHandler = require('../../ours/primordials').Symbol('kWeak')\nconst { finished } = require('./end-of-stream')\nconst staticCompose = require('./compose')\nconst { addAbortSignalNoValidate } = require('./add-abort-signal')\nconst { isWritable, isNodeStream } = require('./utils')\nconst {\n  ArrayPrototypePush,\n  MathFloor,\n  Number,\n  NumberIsNaN,\n  Promise,\n  PromiseReject,\n  PromisePrototypeThen,\n  Symbol\n} = require('../../ours/primordials')\nconst kEmpty = Symbol('kEmpty')\nconst kEof = Symbol('kEof')\nfunction compose(stream, options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  if (isNodeStream(stream) && !isWritable(stream)) {\n    throw new ERR_INVALID_ARG_VALUE('stream', stream, 'must be writable')\n  }\n  const composedStream = staticCompose(this, stream)\n  if (options !== null && options !== undefined && options.signal) {\n    // Not validating as we already validated before\n    addAbortSignalNoValidate(options.signal, composedStream)\n  }\n  return composedStream\n}\nfunction map(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let concurrency = 1\n  if ((options === null || options === undefined ? undefined : options.concurrency) != null) {\n    concurrency = MathFloor(options.concurrency)\n  }\n  validateInteger(concurrency, 'concurrency', 1)\n  return async function* map() {\n    var _options$signal, _options$signal2\n    const ac = new AbortController()\n    const stream = this\n    const queue = []\n    const signal = ac.signal\n    const signalOpt = {\n      signal\n    }\n    const abort = () => ac.abort()\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal = options.signal) !== null &&\n      _options$signal !== undefined &&\n      _options$signal.aborted\n    ) {\n      abort()\n    }\n    options === null || options === undefined\n      ? undefined\n      : (_options$signal2 = options.signal) === null || _options$signal2 === undefined\n      ? undefined\n      : _options$signal2.addEventListener('abort', abort)\n    let next\n    let resume\n    let done = false\n    function onDone() {\n      done = true\n    }\n    async function pump() {\n      try {\n        for await (let val of stream) {\n          var _val\n          if (done) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          try {\n            val = fn(val, signalOpt)\n          } catch (err) {\n            val = PromiseReject(err)\n          }\n          if (val === kEmpty) {\n            continue\n          }\n          if (typeof ((_val = val) === null || _val === undefined ? undefined : _val.catch) === 'function') {\n            val.catch(onDone)\n          }\n          queue.push(val)\n          if (next) {\n            next()\n            next = null\n          }\n          if (!done && queue.length && queue.length >= concurrency) {\n            await new Promise((resolve) => {\n              resume = resolve\n            })\n          }\n        }\n        queue.push(kEof)\n      } catch (err) {\n        const val = PromiseReject(err)\n        PromisePrototypeThen(val, undefined, onDone)\n        queue.push(val)\n      } finally {\n        var _options$signal3\n        done = true\n        if (next) {\n          next()\n          next = null\n        }\n        options === null || options === undefined\n          ? undefined\n          : (_options$signal3 = options.signal) === null || _options$signal3 === undefined\n          ? undefined\n          : _options$signal3.removeEventListener('abort', abort)\n      }\n    }\n    pump()\n    try {\n      while (true) {\n        while (queue.length > 0) {\n          const val = await queue[0]\n          if (val === kEof) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          if (val !== kEmpty) {\n            yield val\n          }\n          queue.shift()\n          if (resume) {\n            resume()\n            resume = null\n          }\n        }\n        await new Promise((resolve) => {\n          next = resolve\n        })\n      }\n    } finally {\n      ac.abort()\n      done = true\n      if (resume) {\n        resume()\n        resume = null\n      }\n    }\n  }.call(this)\n}\nfunction asIndexedPairs(options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  return async function* asIndexedPairs() {\n    let index = 0\n    for await (const val of this) {\n      var _options$signal4\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal4 = options.signal) !== null &&\n        _options$signal4 !== undefined &&\n        _options$signal4.aborted\n      ) {\n        throw new AbortError({\n          cause: options.signal.reason\n        })\n      }\n      yield [index++, val]\n    }\n  }.call(this)\n}\nasync function some(fn, options = undefined) {\n  for await (const unused of filter.call(this, fn, options)) {\n    return true\n  }\n  return false\n}\nasync function every(fn, options = undefined) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  // https://en.wikipedia.org/wiki/De_Morgan%27s_laws\n  return !(await some.call(\n    this,\n    async (...args) => {\n      return !(await fn(...args))\n    },\n    options\n  ))\n}\nasync function find(fn, options) {\n  for await (const result of filter.call(this, fn, options)) {\n    return result\n  }\n  return undefined\n}\nasync function forEach(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function forEachFn(value, options) {\n    await fn(value, options)\n    return kEmpty\n  }\n  // eslint-disable-next-line no-unused-vars\n  for await (const unused of map.call(this, forEachFn, options));\n}\nfunction filter(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function filterFn(value, options) {\n    if (await fn(value, options)) {\n      return value\n    }\n    return kEmpty\n  }\n  return map.call(this, filterFn, options)\n}\n\n// Specific to provide better error to reduce since the argument is only\n// missing if the stream has no items in it - but the code is still appropriate\nclass ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS {\n  constructor() {\n    super('reduce')\n    this.message = 'Reduce of an empty stream requires an initial value'\n  }\n}\nasync function reduce(reducer, initialValue, options) {\n  var _options$signal5\n  if (typeof reducer !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('reducer', ['Function', 'AsyncFunction'], reducer)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let hasInitialValue = arguments.length > 1\n  if (\n    options !== null &&\n    options !== undefined &&\n    (_options$signal5 = options.signal) !== null &&\n    _options$signal5 !== undefined &&\n    _options$signal5.aborted\n  ) {\n    const err = new AbortError(undefined, {\n      cause: options.signal.reason\n    })\n    this.once('error', () => {}) // The error is already propagated\n    await finished(this.destroy(err))\n    throw err\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  if (options !== null && options !== undefined && options.signal) {\n    const opts = {\n      once: true,\n      [kWeakHandler]: this\n    }\n    options.signal.addEventListener('abort', () => ac.abort(), opts)\n  }\n  let gotAnyItemFromStream = false\n  try {\n    for await (const value of this) {\n      var _options$signal6\n      gotAnyItemFromStream = true\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal6 = options.signal) !== null &&\n        _options$signal6 !== undefined &&\n        _options$signal6.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (!hasInitialValue) {\n        initialValue = value\n        hasInitialValue = true\n      } else {\n        initialValue = await reducer(initialValue, value, {\n          signal\n        })\n      }\n    }\n    if (!gotAnyItemFromStream && !hasInitialValue) {\n      throw new ReduceAwareErrMissingArgs()\n    }\n  } finally {\n    ac.abort()\n  }\n  return initialValue\n}\nasync function toArray(options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  const result = []\n  for await (const val of this) {\n    var _options$signal7\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal7 = options.signal) !== null &&\n      _options$signal7 !== undefined &&\n      _options$signal7.aborted\n    ) {\n      throw new AbortError(undefined, {\n        cause: options.signal.reason\n      })\n    }\n    ArrayPrototypePush(result, val)\n  }\n  return result\n}\nfunction flatMap(fn, options) {\n  const values = map.call(this, fn, options)\n  return async function* flatMap() {\n    for await (const val of values) {\n      yield* val\n    }\n  }.call(this)\n}\nfunction toIntegerOrInfinity(number) {\n  // We coerce here to align with the spec\n  // https://github.com/tc39/proposal-iterator-helpers/issues/169\n  number = Number(number)\n  if (NumberIsNaN(number)) {\n    return 0\n  }\n  if (number < 0) {\n    throw new ERR_OUT_OF_RANGE('number', '>= 0', number)\n  }\n  return number\n}\nfunction drop(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* drop() {\n    var _options$signal8\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal8 = options.signal) !== null &&\n      _options$signal8 !== undefined &&\n      _options$signal8.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal9\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal9 = options.signal) !== null &&\n        _options$signal9 !== undefined &&\n        _options$signal9.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- <= 0) {\n        yield val\n      }\n    }\n  }.call(this)\n}\nfunction take(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* take() {\n    var _options$signal10\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal10 = options.signal) !== null &&\n      _options$signal10 !== undefined &&\n      _options$signal10.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal11\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal11 = options.signal) !== null &&\n        _options$signal11 !== undefined &&\n        _options$signal11.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- > 0) {\n        yield val\n      } else {\n        return\n      }\n    }\n  }.call(this)\n}\nmodule.exports.streamReturningOperators = {\n  asIndexedPairs,\n  drop,\n  filter,\n  flatMap,\n  map,\n  take,\n  compose\n}\nmodule.exports.promiseReturningOperators = {\n  every,\n  forEach,\n  reduce,\n  toArray,\n  some,\n  find\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf } = require('../../ours/primordials')\nmodule.exports = PassThrough\nconst Transform = require('./transform')\nObjectSetPrototypeOf(PassThrough.prototype, Transform.prototype)\nObjectSetPrototypeOf(PassThrough, Transform)\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options)\n  Transform.call(this, options)\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk)\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { ArrayIsArray, Promise, SymbolAsyncIterator } = require('../../ours/primordials')\nconst eos = require('./end-of-stream')\nconst { once } = require('../../ours/util')\nconst destroyImpl = require('./destroy')\nconst Duplex = require('./duplex')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED,\n    ERR_STREAM_PREMATURE_CLOSE\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateFunction, validateAbortSignal } = require('../validators')\nconst {\n  isIterable,\n  isReadable,\n  isReadableNodeStream,\n  isNodeStream,\n  isTransformStream,\n  isWebStream,\n  isReadableStream,\n  isReadableEnded\n} = require('./utils')\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nlet PassThrough\nlet Readable\nfunction destroyer(stream, reading, writing) {\n  let finished = false\n  stream.on('close', () => {\n    finished = true\n  })\n  const cleanup = eos(\n    stream,\n    {\n      readable: reading,\n      writable: writing\n    },\n    (err) => {\n      finished = !err\n    }\n  )\n  return {\n    destroy: (err) => {\n      if (finished) return\n      finished = true\n      destroyImpl.destroyer(stream, err || new ERR_STREAM_DESTROYED('pipe'))\n    },\n    cleanup\n  }\n}\nfunction popCallback(streams) {\n  // Streams should never be an empty array. It should always contain at least\n  // a single stream. Therefore optimize for the average case instead of\n  // checking for length === 0 as well.\n  validateFunction(streams[streams.length - 1], 'streams[stream.length - 1]')\n  return streams.pop()\n}\nfunction makeAsyncIterable(val) {\n  if (isIterable(val)) {\n    return val\n  } else if (isReadableNodeStream(val)) {\n    // Legacy streams are not Iterable.\n    return fromReadable(val)\n  }\n  throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], val)\n}\nasync function* fromReadable(val) {\n  if (!Readable) {\n    Readable = require('./readable')\n  }\n  yield* Readable.prototype[SymbolAsyncIterator].call(val)\n}\nasync function pumpToNode(iterable, writable, finish, { end }) {\n  let error\n  let onresolve = null\n  const resume = (err) => {\n    if (err) {\n      error = err\n    }\n    if (onresolve) {\n      const callback = onresolve\n      onresolve = null\n      callback()\n    }\n  }\n  const wait = () =>\n    new Promise((resolve, reject) => {\n      if (error) {\n        reject(error)\n      } else {\n        onresolve = () => {\n          if (error) {\n            reject(error)\n          } else {\n            resolve()\n          }\n        }\n      }\n    })\n  writable.on('drain', resume)\n  const cleanup = eos(\n    writable,\n    {\n      readable: false\n    },\n    resume\n  )\n  try {\n    if (writable.writableNeedDrain) {\n      await wait()\n    }\n    for await (const chunk of iterable) {\n      if (!writable.write(chunk)) {\n        await wait()\n      }\n    }\n    if (end) {\n      writable.end()\n    }\n    await wait()\n    finish()\n  } catch (err) {\n    finish(error !== err ? aggregateTwoErrors(error, err) : err)\n  } finally {\n    cleanup()\n    writable.off('drain', resume)\n  }\n}\nasync function pumpToWeb(readable, writable, finish, { end }) {\n  if (isTransformStream(writable)) {\n    writable = writable.writable\n  }\n  // https://streams.spec.whatwg.org/#example-manual-write-with-backpressure\n  const writer = writable.getWriter()\n  try {\n    for await (const chunk of readable) {\n      await writer.ready\n      writer.write(chunk).catch(() => {})\n    }\n    await writer.ready\n    if (end) {\n      await writer.close()\n    }\n    finish()\n  } catch (err) {\n    try {\n      await writer.abort(err)\n      finish(err)\n    } catch (err) {\n      finish(err)\n    }\n  }\n}\nfunction pipeline(...streams) {\n  return pipelineImpl(streams, once(popCallback(streams)))\n}\nfunction pipelineImpl(streams, callback, opts) {\n  if (streams.length === 1 && ArrayIsArray(streams[0])) {\n    streams = streams[0]\n  }\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  const outerSignal = opts === null || opts === undefined ? undefined : opts.signal\n\n  // Need to cleanup event listeners if last stream is readable\n  // https://github.com/nodejs/node/issues/35452\n  const lastStreamCleanup = []\n  validateAbortSignal(outerSignal, 'options.signal')\n  function abort() {\n    finishImpl(new AbortError())\n  }\n  outerSignal === null || outerSignal === undefined ? undefined : outerSignal.addEventListener('abort', abort)\n  let error\n  let value\n  const destroys = []\n  let finishCount = 0\n  function finish(err) {\n    finishImpl(err, --finishCount === 0)\n  }\n  function finishImpl(err, final) {\n    if (err && (!error || error.code === 'ERR_STREAM_PREMATURE_CLOSE')) {\n      error = err\n    }\n    if (!error && !final) {\n      return\n    }\n    while (destroys.length) {\n      destroys.shift()(error)\n    }\n    outerSignal === null || outerSignal === undefined ? undefined : outerSignal.removeEventListener('abort', abort)\n    ac.abort()\n    if (final) {\n      if (!error) {\n        lastStreamCleanup.forEach((fn) => fn())\n      }\n      process.nextTick(callback, error, value)\n    }\n  }\n  let ret\n  for (let i = 0; i < streams.length; i++) {\n    const stream = streams[i]\n    const reading = i < streams.length - 1\n    const writing = i > 0\n    const end = reading || (opts === null || opts === undefined ? undefined : opts.end) !== false\n    const isLastStream = i === streams.length - 1\n    if (isNodeStream(stream)) {\n      if (end) {\n        const { destroy, cleanup } = destroyer(stream, reading, writing)\n        destroys.push(destroy)\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n\n      // Catch stream errors that occur after pipe/pump has completed.\n      function onError(err) {\n        if (err && err.name !== 'AbortError' && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n          finish(err)\n        }\n      }\n      stream.on('error', onError)\n      if (isReadable(stream) && isLastStream) {\n        lastStreamCleanup.push(() => {\n          stream.removeListener('error', onError)\n        })\n      }\n    }\n    if (i === 0) {\n      if (typeof stream === 'function') {\n        ret = stream({\n          signal\n        })\n        if (!isIterable(ret)) {\n          throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or Stream', 'source', ret)\n        }\n      } else if (isIterable(stream) || isReadableNodeStream(stream) || isTransformStream(stream)) {\n        ret = stream\n      } else {\n        ret = Duplex.from(stream)\n      }\n    } else if (typeof stream === 'function') {\n      if (isTransformStream(ret)) {\n        var _ret\n        ret = makeAsyncIterable((_ret = ret) === null || _ret === undefined ? undefined : _ret.readable)\n      } else {\n        ret = makeAsyncIterable(ret)\n      }\n      ret = stream(ret, {\n        signal\n      })\n      if (reading) {\n        if (!isIterable(ret, true)) {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable', `transform[${i - 1}]`, ret)\n        }\n      } else {\n        var _ret2\n        if (!PassThrough) {\n          PassThrough = require('./passthrough')\n        }\n\n        // If the last argument to pipeline is not a stream\n        // we must create a proxy stream so that pipeline(...)\n        // always returns a stream which can be further\n        // composed through `.pipe(stream)`.\n\n        const pt = new PassThrough({\n          objectMode: true\n        })\n\n        // Handle Promises/A+ spec, `then` could be a getter that throws on\n        // second use.\n        const then = (_ret2 = ret) === null || _ret2 === undefined ? undefined : _ret2.then\n        if (typeof then === 'function') {\n          finishCount++\n          then.call(\n            ret,\n            (val) => {\n              value = val\n              if (val != null) {\n                pt.write(val)\n              }\n              if (end) {\n                pt.end()\n              }\n              process.nextTick(finish)\n            },\n            (err) => {\n              pt.destroy(err)\n              process.nextTick(finish, err)\n            }\n          )\n        } else if (isIterable(ret, true)) {\n          finishCount++\n          pumpToNode(ret, pt, finish, {\n            end\n          })\n        } else if (isReadableStream(ret) || isTransformStream(ret)) {\n          const toRead = ret.readable || ret\n          finishCount++\n          pumpToNode(toRead, pt, finish, {\n            end\n          })\n        } else {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable or Promise', 'destination', ret)\n        }\n        ret = pt\n        const { destroy, cleanup } = destroyer(ret, false, true)\n        destroys.push(destroy)\n        if (isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n    } else if (isNodeStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount += 2\n        const cleanup = pipe(ret, stream, finish, {\n          end\n        })\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } else if (isTransformStream(ret) || isReadableStream(ret)) {\n        const toRead = ret.readable || ret\n        finishCount++\n        pumpToNode(toRead, stream, finish, {\n          end\n        })\n      } else if (isIterable(ret)) {\n        finishCount++\n        pumpToNode(ret, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else if (isWebStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount++\n        pumpToWeb(makeAsyncIterable(ret), stream, finish, {\n          end\n        })\n      } else if (isReadableStream(ret) || isIterable(ret)) {\n        finishCount++\n        pumpToWeb(ret, stream, finish, {\n          end\n        })\n      } else if (isTransformStream(ret)) {\n        finishCount++\n        pumpToWeb(ret.readable, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else {\n      ret = Duplex.from(stream)\n    }\n  }\n  if (\n    (signal !== null && signal !== undefined && signal.aborted) ||\n    (outerSignal !== null && outerSignal !== undefined && outerSignal.aborted)\n  ) {\n    process.nextTick(abort)\n  }\n  return ret\n}\nfunction pipe(src, dst, finish, { end }) {\n  let ended = false\n  dst.on('close', () => {\n    if (!ended) {\n      // Finish if the destination closes before the source has completed.\n      finish(new ERR_STREAM_PREMATURE_CLOSE())\n    }\n  })\n  src.pipe(dst, {\n    end: false\n  }) // If end is true we already will have a listener to end dst.\n\n  if (end) {\n    // Compat. Before node v10.12.0 stdio used to throw an error so\n    // pipe() did/does not end() stdio destinations.\n    // Now they allow it but \"secretly\" don't close the underlying fd.\n\n    function endFn() {\n      ended = true\n      dst.end()\n    }\n    if (isReadableEnded(src)) {\n      // End the destination if the source has already ended.\n      process.nextTick(endFn)\n    } else {\n      src.once('end', endFn)\n    }\n  } else {\n    finish()\n  }\n  eos(\n    src,\n    {\n      readable: true,\n      writable: false\n    },\n    (err) => {\n      const rState = src._readableState\n      if (\n        err &&\n        err.code === 'ERR_STREAM_PREMATURE_CLOSE' &&\n        rState &&\n        rState.ended &&\n        !rState.errored &&\n        !rState.errorEmitted\n      ) {\n        // Some readable streams will emit 'close' before 'end'. However, since\n        // this is on the readable side 'end' should still be emitted if the\n        // stream has been ended and no error emitted. This should be allowed in\n        // favor of backwards compatibility. Since the stream is piped to a\n        // destination this should not result in any observable difference.\n        // We don't need to check if this is a writable premature close since\n        // eos will only fail with premature close on the reading side for\n        // duplex streams.\n        src.once('end', finish).once('error', finish)\n      } else {\n        finish(err)\n      }\n    }\n  )\n  return eos(\n    dst,\n    {\n      readable: false,\n      writable: true\n    },\n    finish\n  )\n}\nmodule.exports = {\n  pipelineImpl,\n  pipeline\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst {\n  ArrayPrototypeIndexOf,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberParseInt,\n  ObjectDefineProperties,\n  ObjectKeys,\n  ObjectSetPrototypeOf,\n  Promise,\n  SafeSet,\n  SymbolAsyncIterator,\n  Symbol\n} = require('../../ours/primordials')\nmodule.exports = Readable\nReadable.ReadableState = ReadableState\nconst { EventEmitter: EE } = require('events')\nconst { Stream, prependListener } = require('./legacy')\nconst { Buffer } = require('buffer')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst eos = require('./end-of-stream')\nlet debug = require('../../ours/util').debuglog('stream', (fn) => {\n  debug = fn\n})\nconst BufferList = require('./buffer_list')\nconst destroyImpl = require('./destroy')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_OUT_OF_RANGE,\n    ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n  }\n} = require('../../ours/errors')\nconst { validateObject } = require('../validators')\nconst kPaused = Symbol('kPaused')\nconst { StringDecoder } = require('string_decoder')\nconst from = require('./from')\nObjectSetPrototypeOf(Readable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Readable, Stream)\nconst nop = () => {}\nconst { errorOrDestroy } = destroyImpl\nfunction ReadableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away.\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.readableObjectMode)\n\n  // The point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift().\n  this.buffer = new BufferList()\n  this.length = 0\n  this.pipes = []\n  this.flowing = null\n  this.ended = false\n  this.endEmitted = false\n  this.reading = false\n\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  this.constructed = true\n\n  // A flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true\n\n  // Whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false\n  this.emittedReadable = false\n  this.readableListening = false\n  this.resumeScheduled = false\n  this[kPaused] = null\n\n  // True if the error was already emitted and should not be thrown again.\n  this.errorEmitted = false\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = !options || options.emitClose !== false\n\n  // Should .destroy() be called after 'end' (and potentially 'finish').\n  this.autoDestroy = !options || options.autoDestroy !== false\n\n  // Has it been destroyed.\n  this.destroyed = false\n\n  // Indicates whether the stream has errored. When true no further\n  // _read calls, 'data' or 'readable' events should occur. This is needed\n  // since when autoDestroy is disabled we need a way to tell whether the\n  // stream has failed.\n  this.errored = null\n\n  // Indicates whether the stream has finished destroying.\n  this.closed = false\n\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  this.closeEmitted = false\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Ref the piped dest which we need a drain event on it\n  // type: null | Writable | Set<Writable>.\n  this.awaitDrainWriters = null\n  this.multiAwaitDrain = false\n\n  // If true, a maybeReadMore has been scheduled.\n  this.readingMore = false\n  this.dataEmitted = false\n  this.decoder = null\n  this.encoding = null\n  if (options && options.encoding) {\n    this.decoder = new StringDecoder(options.encoding)\n    this.encoding = options.encoding\n  }\n}\nfunction Readable(options) {\n  if (!(this instanceof Readable)) return new Readable(options)\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  this._readableState = new ReadableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal && !isDuplex) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    if (this._readableState.needReadable) {\n      maybeReadMore(this, this._readableState)\n    }\n  })\n}\nReadable.prototype.destroy = destroyImpl.destroy\nReadable.prototype._undestroy = destroyImpl.undestroy\nReadable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nReadable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, false)\n}\n\n// Unshift should *always* be something directly out of read().\nReadable.prototype.unshift = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, true)\n}\nfunction readableAddChunk(stream, chunk, encoding, addToFront) {\n  debug('readableAddChunk', chunk)\n  const state = stream._readableState\n  let err\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding\n      if (state.encoding !== encoding) {\n        if (addToFront && state.encoding) {\n          // When unshifting, if state.encoding is set, we have to save\n          // the string in the BufferList with the state encoding.\n          chunk = Buffer.from(chunk, encoding).toString(state.encoding)\n        } else {\n          chunk = Buffer.from(chunk, encoding)\n          encoding = ''\n        }\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = ''\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = ''\n    } else if (chunk != null) {\n      err = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  if (err) {\n    errorOrDestroy(stream, err)\n  } else if (chunk === null) {\n    state.reading = false\n    onEofChunk(stream, state)\n  } else if (state.objectMode || (chunk && chunk.length > 0)) {\n    if (addToFront) {\n      if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT())\n      else if (state.destroyed || state.errored) return false\n      else addChunk(stream, state, chunk, true)\n    } else if (state.ended) {\n      errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF())\n    } else if (state.destroyed || state.errored) {\n      return false\n    } else {\n      state.reading = false\n      if (state.decoder && !encoding) {\n        chunk = state.decoder.write(chunk)\n        if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false)\n        else maybeReadMore(stream, state)\n      } else {\n        addChunk(stream, state, chunk, false)\n      }\n    }\n  } else if (!addToFront) {\n    state.reading = false\n    maybeReadMore(stream, state)\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0)\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync && stream.listenerCount('data') > 0) {\n    // Use the guard to avoid creating `Set()` repeatedly\n    // when we have multiple pipes.\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n    state.dataEmitted = true\n    stream.emit('data', chunk)\n  } else {\n    // Update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length\n    if (addToFront) state.buffer.unshift(chunk)\n    else state.buffer.push(chunk)\n    if (state.needReadable) emitReadable(stream)\n  }\n  maybeReadMore(stream, state)\n}\nReadable.prototype.isPaused = function () {\n  const state = this._readableState\n  return state[kPaused] === true || state.flowing === false\n}\n\n// Backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  const decoder = new StringDecoder(enc)\n  this._readableState.decoder = decoder\n  // If setEncoding(null), decoder.encoding equals utf8.\n  this._readableState.encoding = this._readableState.decoder.encoding\n  const buffer = this._readableState.buffer\n  // Iterate over current buffer to convert already stored Buffers:\n  let content = ''\n  for (const data of buffer) {\n    content += decoder.write(data)\n  }\n  buffer.clear()\n  if (content !== '') buffer.push(content)\n  this._readableState.length = content.length\n  return this\n}\n\n// Don't raise the hwm > 1GB.\nconst MAX_HWM = 0x40000000\nfunction computeNewHighWaterMark(n) {\n  if (n > MAX_HWM) {\n    throw new ERR_OUT_OF_RANGE('size', '<= 1GiB', n)\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts.\n    n--\n    n |= n >>> 1\n    n |= n >>> 2\n    n |= n >>> 4\n    n |= n >>> 8\n    n |= n >>> 16\n    n++\n  }\n  return n\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || (state.length === 0 && state.ended)) return 0\n  if (state.objectMode) return 1\n  if (NumberIsNaN(n)) {\n    // Only flow one buffer at a time.\n    if (state.flowing && state.length) return state.buffer.first().length\n    return state.length\n  }\n  if (n <= state.length) return n\n  return state.ended ? state.length : 0\n}\n\n// You can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n)\n  // Same as parseInt(undefined, 10), however V8 7.3 performance regressed\n  // in this scenario, so we are doing it manually.\n  if (n === undefined) {\n    n = NaN\n  } else if (!NumberIsInteger(n)) {\n    n = NumberParseInt(n, 10)\n  }\n  const state = this._readableState\n  const nOrig = n\n\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n)\n  if (n !== 0) state.emittedReadable = false\n\n  // If we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (\n    n === 0 &&\n    state.needReadable &&\n    ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)\n  ) {\n    debug('read: emitReadable', state.length, state.ended)\n    if (state.length === 0 && state.ended) endReadable(this)\n    else emitReadable(this)\n    return null\n  }\n  n = howMuchToRead(n, state)\n\n  // If we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this)\n    return null\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  let doRead = state.needReadable\n  debug('need readable', doRead)\n\n  // If we currently have less than the highWaterMark, then also read some.\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true\n    debug('length less than watermark', doRead)\n  }\n\n  // However, if we've ended, then there's no point, if we're already\n  // reading, then it's unnecessary, if we're constructing we have to wait,\n  // and if we're destroyed or errored, then it's not allowed,\n  if (state.ended || state.reading || state.destroyed || state.errored || !state.constructed) {\n    doRead = false\n    debug('reading, ended or constructing', doRead)\n  } else if (doRead) {\n    debug('do read')\n    state.reading = true\n    state.sync = true\n    // If the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true\n\n    // Call internal read method\n    try {\n      this._read(state.highWaterMark)\n    } catch (err) {\n      errorOrDestroy(this, err)\n    }\n    state.sync = false\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state)\n  }\n  let ret\n  if (n > 0) ret = fromList(n, state)\n  else ret = null\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark\n    n = 0\n  } else {\n    state.length -= n\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this)\n  }\n  if (ret !== null && !state.errorEmitted && !state.closeEmitted) {\n    state.dataEmitted = true\n    this.emit('data', ret)\n  }\n  return ret\n}\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk')\n  if (state.ended) return\n  if (state.decoder) {\n    const chunk = state.decoder.end()\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk)\n      state.length += state.objectMode ? 1 : chunk.length\n    }\n  }\n  state.ended = true\n  if (state.sync) {\n    // If we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call.\n    emitReadable(stream)\n  } else {\n    // Emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false\n    state.emittedReadable = true\n    // We have to emit readable now that we are EOF. Modules\n    // in the ecosystem (e.g. dicer) rely on this event being sync.\n    emitReadable_(stream)\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  const state = stream._readableState\n  debug('emitReadable', state.needReadable, state.emittedReadable)\n  state.needReadable = false\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing)\n    state.emittedReadable = true\n    process.nextTick(emitReadable_, stream)\n  }\n}\nfunction emitReadable_(stream) {\n  const state = stream._readableState\n  debug('emitReadable_', state.destroyed, state.length, state.ended)\n  if (!state.destroyed && !state.errored && (state.length || state.ended)) {\n    stream.emit('readable')\n    state.emittedReadable = false\n  }\n\n  // The stream needs another readable event if:\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark\n  flow(stream)\n}\n\n// At this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore && state.constructed) {\n    state.readingMore = true\n    process.nextTick(maybeReadMore_, stream, state)\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (\n    !state.reading &&\n    !state.ended &&\n    (state.length < state.highWaterMark || (state.flowing && state.length === 0))\n  ) {\n    const len = state.length\n    debug('maybeReadMore read 0')\n    stream.read(0)\n    if (len === state.length)\n      // Didn't get any data, stop spinning.\n      break\n  }\n  state.readingMore = false\n}\n\n// Abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_read()')\n}\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  const src = this\n  const state = this._readableState\n  if (state.pipes.length === 1) {\n    if (!state.multiAwaitDrain) {\n      state.multiAwaitDrain = true\n      state.awaitDrainWriters = new SafeSet(state.awaitDrainWriters ? [state.awaitDrainWriters] : [])\n    }\n  }\n  state.pipes.push(dest)\n  debug('pipe count=%d opts=%j', state.pipes.length, pipeOpts)\n  const doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr\n  const endFn = doEnd ? onend : unpipe\n  if (state.endEmitted) process.nextTick(endFn)\n  else src.once('end', endFn)\n  dest.on('unpipe', onunpipe)\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe')\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true\n        cleanup()\n      }\n    }\n  }\n  function onend() {\n    debug('onend')\n    dest.end()\n  }\n  let ondrain\n  let cleanedUp = false\n  function cleanup() {\n    debug('cleanup')\n    // Cleanup event handlers once the pipe is broken.\n    dest.removeListener('close', onclose)\n    dest.removeListener('finish', onfinish)\n    if (ondrain) {\n      dest.removeListener('drain', ondrain)\n    }\n    dest.removeListener('error', onerror)\n    dest.removeListener('unpipe', onunpipe)\n    src.removeListener('end', onend)\n    src.removeListener('end', unpipe)\n    src.removeListener('data', ondata)\n    cleanedUp = true\n\n    // If the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (ondrain && state.awaitDrainWriters && (!dest._writableState || dest._writableState.needDrain)) ondrain()\n  }\n  function pause() {\n    // If the user unpiped during `dest.write()`, it is possible\n    // to get stuck in a permanently paused state if that write\n    // also returned false.\n    // => Check whether `dest` is still a piping destination.\n    if (!cleanedUp) {\n      if (state.pipes.length === 1 && state.pipes[0] === dest) {\n        debug('false write response, pause', 0)\n        state.awaitDrainWriters = dest\n        state.multiAwaitDrain = false\n      } else if (state.pipes.length > 1 && state.pipes.includes(dest)) {\n        debug('false write response, pause', state.awaitDrainWriters.size)\n        state.awaitDrainWriters.add(dest)\n      }\n      src.pause()\n    }\n    if (!ondrain) {\n      // When the dest drains, it reduces the awaitDrain counter\n      // on the source.  This would be more elegant with a .once()\n      // handler in flow(), but adding and removing repeatedly is\n      // too slow.\n      ondrain = pipeOnDrain(src, dest)\n      dest.on('drain', ondrain)\n    }\n  }\n  src.on('data', ondata)\n  function ondata(chunk) {\n    debug('ondata')\n    const ret = dest.write(chunk)\n    debug('dest.write', ret)\n    if (ret === false) {\n      pause()\n    }\n  }\n\n  // If the dest has an error, then stop piping into it.\n  // However, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er)\n    unpipe()\n    dest.removeListener('error', onerror)\n    if (dest.listenerCount('error') === 0) {\n      const s = dest._writableState || dest._readableState\n      if (s && !s.errorEmitted) {\n        // User incorrectly emitted 'error' directly on the stream.\n        errorOrDestroy(dest, er)\n      } else {\n        dest.emit('error', er)\n      }\n    }\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror)\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish)\n    unpipe()\n  }\n  dest.once('close', onclose)\n  function onfinish() {\n    debug('onfinish')\n    dest.removeListener('close', onclose)\n    unpipe()\n  }\n  dest.once('finish', onfinish)\n  function unpipe() {\n    debug('unpipe')\n    src.unpipe(dest)\n  }\n\n  // Tell the dest that it's being piped to.\n  dest.emit('pipe', src)\n\n  // Start the flow if it hasn't been started already.\n\n  if (dest.writableNeedDrain === true) {\n    if (state.flowing) {\n      pause()\n    }\n  } else if (!state.flowing) {\n    debug('pipe resume')\n    src.resume()\n  }\n  return dest\n}\nfunction pipeOnDrain(src, dest) {\n  return function pipeOnDrainFunctionResult() {\n    const state = src._readableState\n\n    // `ondrain` will call directly,\n    // `this` maybe not a reference to dest,\n    // so we use the real dest here.\n    if (state.awaitDrainWriters === dest) {\n      debug('pipeOnDrain', 1)\n      state.awaitDrainWriters = null\n    } else if (state.multiAwaitDrain) {\n      debug('pipeOnDrain', state.awaitDrainWriters.size)\n      state.awaitDrainWriters.delete(dest)\n    }\n    if ((!state.awaitDrainWriters || state.awaitDrainWriters.size === 0) && src.listenerCount('data')) {\n      src.resume()\n    }\n  }\n}\nReadable.prototype.unpipe = function (dest) {\n  const state = this._readableState\n  const unpipeInfo = {\n    hasUnpiped: false\n  }\n\n  // If we're not piping anywhere, then do nothing.\n  if (state.pipes.length === 0) return this\n  if (!dest) {\n    // remove all.\n    const dests = state.pipes\n    state.pipes = []\n    this.pause()\n    for (let i = 0; i < dests.length; i++)\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      })\n    return this\n  }\n\n  // Try to find the right one.\n  const index = ArrayPrototypeIndexOf(state.pipes, dest)\n  if (index === -1) return this\n  state.pipes.splice(index, 1)\n  if (state.pipes.length === 0) this.pause()\n  dest.emit('unpipe', this, unpipeInfo)\n  return this\n}\n\n// Set up data events if they are asked for\n// Ensure readable listeners eventually get something.\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn)\n  const state = this._readableState\n  if (ev === 'data') {\n    // Update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0\n\n    // Try start flowing on next tick if stream isn't explicitly paused.\n    if (state.flowing !== false) this.resume()\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true\n      state.flowing = false\n      state.emittedReadable = false\n      debug('on readable', state.length, state.reading)\n      if (state.length) {\n        emitReadable(this)\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this)\n      }\n    }\n  }\n  return res\n}\nReadable.prototype.addListener = Readable.prototype.on\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn)\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nReadable.prototype.off = Readable.prototype.removeListener\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments)\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nfunction updateReadableListening(self) {\n  const state = self._readableState\n  state.readableListening = self.listenerCount('readable') > 0\n  if (state.resumeScheduled && state[kPaused] === false) {\n    // Flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true\n\n    // Crude way to check if we should resume.\n  } else if (self.listenerCount('data') > 0) {\n    self.resume()\n  } else if (!state.readableListening) {\n    state.flowing = null\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0')\n  self.read(0)\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  const state = this._readableState\n  if (!state.flowing) {\n    debug('resume')\n    // We flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume().\n    state.flowing = !state.readableListening\n    resume(this, state)\n  }\n  state[kPaused] = false\n  return this\n}\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true\n    process.nextTick(resume_, stream, state)\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading)\n  if (!state.reading) {\n    stream.read(0)\n  }\n  state.resumeScheduled = false\n  stream.emit('resume')\n  flow(stream)\n  if (state.flowing && !state.reading) stream.read(0)\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing)\n  if (this._readableState.flowing !== false) {\n    debug('pause')\n    this._readableState.flowing = false\n    this.emit('pause')\n  }\n  this._readableState[kPaused] = true\n  return this\n}\nfunction flow(stream) {\n  const state = stream._readableState\n  debug('flow', state.flowing)\n  while (state.flowing && stream.read() !== null);\n}\n\n// Wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  let paused = false\n\n  // TODO (ronag): Should this.destroy(err) emit\n  // 'error' on the wrapped stream? Would require\n  // a static factory method, e.g. Readable.wrap(stream).\n\n  stream.on('data', (chunk) => {\n    if (!this.push(chunk) && stream.pause) {\n      paused = true\n      stream.pause()\n    }\n  })\n  stream.on('end', () => {\n    this.push(null)\n  })\n  stream.on('error', (err) => {\n    errorOrDestroy(this, err)\n  })\n  stream.on('close', () => {\n    this.destroy()\n  })\n  stream.on('destroy', () => {\n    this.destroy()\n  })\n  this._read = () => {\n    if (paused && stream.resume) {\n      paused = false\n      stream.resume()\n    }\n  }\n\n  // Proxy all the other methods. Important when wrapping filters and duplexes.\n  const streamKeys = ObjectKeys(stream)\n  for (let j = 1; j < streamKeys.length; j++) {\n    const i = streamKeys[j]\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = stream[i].bind(stream)\n    }\n  }\n  return this\n}\nReadable.prototype[SymbolAsyncIterator] = function () {\n  return streamToAsyncIterator(this)\n}\nReadable.prototype.iterator = function (options) {\n  if (options !== undefined) {\n    validateObject(options, 'options')\n  }\n  return streamToAsyncIterator(this, options)\n}\nfunction streamToAsyncIterator(stream, options) {\n  if (typeof stream.read !== 'function') {\n    stream = Readable.wrap(stream, {\n      objectMode: true\n    })\n  }\n  const iter = createAsyncIterator(stream, options)\n  iter.stream = stream\n  return iter\n}\nasync function* createAsyncIterator(stream, options) {\n  let callback = nop\n  function next(resolve) {\n    if (this === stream) {\n      callback()\n      callback = nop\n    } else {\n      callback = resolve\n    }\n  }\n  stream.on('readable', next)\n  let error\n  const cleanup = eos(\n    stream,\n    {\n      writable: false\n    },\n    (err) => {\n      error = err ? aggregateTwoErrors(error, err) : null\n      callback()\n      callback = nop\n    }\n  )\n  try {\n    while (true) {\n      const chunk = stream.destroyed ? null : stream.read()\n      if (chunk !== null) {\n        yield chunk\n      } else if (error) {\n        throw error\n      } else if (error === null) {\n        return\n      } else {\n        await new Promise(next)\n      }\n    }\n  } catch (err) {\n    error = aggregateTwoErrors(error, err)\n    throw error\n  } finally {\n    if (\n      (error || (options === null || options === undefined ? undefined : options.destroyOnReturn) !== false) &&\n      (error === undefined || stream._readableState.autoDestroy)\n    ) {\n      destroyImpl.destroyer(stream, null)\n    } else {\n      stream.off('readable', next)\n      cleanup()\n    }\n  }\n}\n\n// Making it explicit these properties are not enumerable\n// because otherwise some prototype manipulation in\n// userland will fail.\nObjectDefineProperties(Readable.prototype, {\n  readable: {\n    __proto__: null,\n    get() {\n      const r = this._readableState\n      // r.readable === false means that this is part of a Duplex stream\n      // where the readable side was disabled upon construction.\n      // Compat. The user might manually disable readable side through\n      // deprecated setter.\n      return !!r && r.readable !== false && !r.destroyed && !r.errorEmitted && !r.endEmitted\n    },\n    set(val) {\n      // Backwards compat.\n      if (this._readableState) {\n        this._readableState.readable = !!val\n      }\n    }\n  },\n  readableDidRead: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.dataEmitted\n    }\n  },\n  readableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._readableState.readable !== false &&\n        (this._readableState.destroyed || this._readableState.errored) &&\n        !this._readableState.endEmitted\n      )\n    }\n  },\n  readableHighWaterMark: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.highWaterMark\n    }\n  },\n  readableBuffer: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState && this._readableState.buffer\n    }\n  },\n  readableFlowing: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.flowing\n    },\n    set: function (state) {\n      if (this._readableState) {\n        this._readableState.flowing = state\n      }\n    }\n  },\n  readableLength: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState.length\n    }\n  },\n  readableObjectMode: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.objectMode : false\n    }\n  },\n  readableEncoding: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.encoding : null\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.errored : null\n    }\n  },\n  closed: {\n    __proto__: null,\n    get() {\n      return this._readableState ? this._readableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.destroyed : false\n    },\n    set(value) {\n      // We ignore the value if the stream\n      // has not been initialized yet.\n      if (!this._readableState) {\n        return\n      }\n\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      this._readableState.destroyed = value\n    }\n  },\n  readableEnded: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.endEmitted : false\n    }\n  }\n})\nObjectDefineProperties(ReadableState.prototype, {\n  // Legacy getter for `pipesCount`.\n  pipesCount: {\n    __proto__: null,\n    get() {\n      return this.pipes.length\n    }\n  },\n  // Legacy property for `paused`.\n  paused: {\n    __proto__: null,\n    get() {\n      return this[kPaused] !== false\n    },\n    set(value) {\n      this[kPaused] = !!value\n    }\n  }\n})\n\n// Exposed for testing purposes only.\nReadable._fromList = fromList\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered.\n  if (state.length === 0) return null\n  let ret\n  if (state.objectMode) ret = state.buffer.shift()\n  else if (!n || n >= state.length) {\n    // Read it all, truncate the list.\n    if (state.decoder) ret = state.buffer.join('')\n    else if (state.buffer.length === 1) ret = state.buffer.first()\n    else ret = state.buffer.concat(state.length)\n    state.buffer.clear()\n  } else {\n    // read part of list.\n    ret = state.buffer.consume(n, state.decoder)\n  }\n  return ret\n}\nfunction endReadable(stream) {\n  const state = stream._readableState\n  debug('endReadable', state.endEmitted)\n  if (!state.endEmitted) {\n    state.ended = true\n    process.nextTick(endReadableNT, state, stream)\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length)\n\n  // Check that we didn't get one last unshift.\n  if (!state.errored && !state.closeEmitted && !state.endEmitted && state.length === 0) {\n    state.endEmitted = true\n    stream.emit('end')\n    if (stream.writable && stream.allowHalfOpen === false) {\n      process.nextTick(endWritableNT, stream)\n    } else if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well.\n      const wState = stream._writableState\n      const autoDestroy =\n        !wState ||\n        (wState.autoDestroy &&\n          // We don't expect the writable to ever 'finish'\n          // if writable is explicitly set to false.\n          (wState.finished || wState.writable === false))\n      if (autoDestroy) {\n        stream.destroy()\n      }\n    }\n  }\n}\nfunction endWritableNT(stream) {\n  const writable = stream.writable && !stream.writableEnded && !stream.destroyed\n  if (writable) {\n    stream.end()\n  }\n}\nReadable.from = function (iterable, opts) {\n  return from(Readable, iterable, opts)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nReadable.fromWeb = function (readableStream, options) {\n  return lazyWebStreams().newStreamReadableFromReadableStream(readableStream, options)\n}\nReadable.toWeb = function (streamReadable, options) {\n  return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable, options)\n}\nReadable.wrap = function (src, options) {\n  var _ref, _src$readableObjectMo\n  return new Readable({\n    objectMode:\n      (_ref =\n        (_src$readableObjectMo = src.readableObjectMode) !== null && _src$readableObjectMo !== undefined\n          ? _src$readableObjectMo\n          : src.objectMode) !== null && _ref !== undefined\n        ? _ref\n        : true,\n    ...options,\n    destroy(err, callback) {\n      destroyImpl.destroyer(src, err)\n      callback(err)\n    }\n  }).wrap(src)\n}\n","'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? 16 : 16 * 1024\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n    return MathFloor(hwm)\n  }\n\n  // Default value\n  return getDefaultHighWaterMark(state.objectMode)\n}\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf, Symbol } = require('../../ours/primordials')\nmodule.exports = Transform\nconst { ERR_METHOD_NOT_IMPLEMENTED } = require('../../ours/errors').codes\nconst Duplex = require('./duplex')\nconst { getHighWaterMark } = require('./state')\nObjectSetPrototypeOf(Transform.prototype, Duplex.prototype)\nObjectSetPrototypeOf(Transform, Duplex)\nconst kCallback = Symbol('kCallback')\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options)\n\n  // TODO (ronag): This should preferably always be\n  // applied but would be semver-major. Or even better;\n  // make Transform a Readable with the Writable interface.\n  const readableHighWaterMark = options ? getHighWaterMark(this, options, 'readableHighWaterMark', true) : null\n  if (readableHighWaterMark === 0) {\n    // A Duplex will buffer both on the writable and readable side while\n    // a Transform just wants to buffer hwm number of elements. To avoid\n    // buffering twice we disable buffering on the writable side.\n    options = {\n      ...options,\n      highWaterMark: null,\n      readableHighWaterMark,\n      // TODO (ronag): 0 is not optimal since we have\n      // a \"bug\" where we check needDrain before calling _write and not after.\n      // Refs: https://github.com/nodejs/node/pull/32887\n      // Refs: https://github.com/nodejs/node/pull/35941\n      writableHighWaterMark: options.writableHighWaterMark || 0\n    }\n  }\n  Duplex.call(this, options)\n\n  // We have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false\n  this[kCallback] = null\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform\n    if (typeof options.flush === 'function') this._flush = options.flush\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  // Backwards compat. Some Transform streams incorrectly implement _final\n  // instead of or in addition to _flush. By using 'prefinish' instead of\n  // implementing _final we continue supporting this unfortunate use case.\n  this.on('prefinish', prefinish)\n}\nfunction final(cb) {\n  if (typeof this._flush === 'function' && !this.destroyed) {\n    this._flush((er, data) => {\n      if (er) {\n        if (cb) {\n          cb(er)\n        } else {\n          this.destroy(er)\n        }\n        return\n      }\n      if (data != null) {\n        this.push(data)\n      }\n      this.push(null)\n      if (cb) {\n        cb()\n      }\n    })\n  } else {\n    this.push(null)\n    if (cb) {\n      cb()\n    }\n  }\n}\nfunction prefinish() {\n  if (this._final !== final) {\n    final.call(this)\n  }\n}\nTransform.prototype._final = final\nTransform.prototype._transform = function (chunk, encoding, callback) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform()')\n}\nTransform.prototype._write = function (chunk, encoding, callback) {\n  const rState = this._readableState\n  const wState = this._writableState\n  const length = rState.length\n  this._transform(chunk, encoding, (err, val) => {\n    if (err) {\n      callback(err)\n      return\n    }\n    if (val != null) {\n      this.push(val)\n    }\n    if (\n      wState.ended ||\n      // Backwards compat.\n      length === rState.length ||\n      // Backwards compat.\n      rState.length < rState.highWaterMark\n    ) {\n      callback()\n    } else {\n      this[kCallback] = callback\n    }\n  })\n}\nTransform.prototype._read = function () {\n  if (this[kCallback]) {\n    const callback = this[kCallback]\n    this[kCallback] = null\n    callback()\n  }\n}\n","'use strict'\n\nconst { Symbol, SymbolAsyncIterator, SymbolIterator, SymbolFor } = require('../../ours/primordials')\nconst kDestroyed = Symbol('kDestroyed')\nconst kIsErrored = Symbol('kIsErrored')\nconst kIsReadable = Symbol('kIsReadable')\nconst kIsDisturbed = Symbol('kIsDisturbed')\nconst kIsClosedPromise = SymbolFor('nodejs.webstream.isClosedPromise')\nconst kControllerErrorFunction = SymbolFor('nodejs.webstream.controllerErrorFunction')\nfunction isReadableNodeStream(obj, strict = false) {\n  var _obj$_readableState\n  return !!(\n    (\n      obj &&\n      typeof obj.pipe === 'function' &&\n      typeof obj.on === 'function' &&\n      (!strict || (typeof obj.pause === 'function' && typeof obj.resume === 'function')) &&\n      (!obj._writableState ||\n        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined\n          ? undefined\n          : _obj$_readableState.readable) !== false) &&\n      // Duplex\n      (!obj._writableState || obj._readableState)\n    ) // Writable has .pipe.\n  )\n}\n\nfunction isWritableNodeStream(obj) {\n  var _obj$_writableState\n  return !!(\n    (\n      obj &&\n      typeof obj.write === 'function' &&\n      typeof obj.on === 'function' &&\n      (!obj._readableState ||\n        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined\n          ? undefined\n          : _obj$_writableState.writable) !== false)\n    ) // Duplex\n  )\n}\n\nfunction isDuplexNodeStream(obj) {\n  return !!(\n    obj &&\n    typeof obj.pipe === 'function' &&\n    obj._readableState &&\n    typeof obj.on === 'function' &&\n    typeof obj.write === 'function'\n  )\n}\nfunction isNodeStream(obj) {\n  return (\n    obj &&\n    (obj._readableState ||\n      obj._writableState ||\n      (typeof obj.write === 'function' && typeof obj.on === 'function') ||\n      (typeof obj.pipe === 'function' && typeof obj.on === 'function'))\n  )\n}\nfunction isReadableStream(obj) {\n  return !!(\n    obj &&\n    !isNodeStream(obj) &&\n    typeof obj.pipeThrough === 'function' &&\n    typeof obj.getReader === 'function' &&\n    typeof obj.cancel === 'function'\n  )\n}\nfunction isWritableStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.getWriter === 'function' && typeof obj.abort === 'function')\n}\nfunction isTransformStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.readable === 'object' && typeof obj.writable === 'object')\n}\nfunction isWebStream(obj) {\n  return isReadableStream(obj) || isWritableStream(obj) || isTransformStream(obj)\n}\nfunction isIterable(obj, isAsync) {\n  if (obj == null) return false\n  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === 'function'\n  if (isAsync === false) return typeof obj[SymbolIterator] === 'function'\n  return typeof obj[SymbolAsyncIterator] === 'function' || typeof obj[SymbolIterator] === 'function'\n}\nfunction isDestroyed(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return !!(stream.destroyed || stream[kDestroyed] || (state !== null && state !== undefined && state.destroyed))\n}\n\n// Have been end():d.\nfunction isWritableEnded(stream) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableEnded === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== 'boolean') return null\n  return wState.ended\n}\n\n// Have emitted 'finish'.\nfunction isWritableFinished(stream, strict) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableFinished === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== 'boolean') return null\n  return !!(wState.finished || (strict === false && wState.ended === true && wState.length === 0))\n}\n\n// Have been push(null):d.\nfunction isReadableEnded(stream) {\n  if (!isReadableNodeStream(stream)) return null\n  if (stream.readableEnded === true) return true\n  const rState = stream._readableState\n  if (!rState || rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== 'boolean') return null\n  return rState.ended\n}\n\n// Have emitted 'end'.\nfunction isReadableFinished(stream, strict) {\n  if (!isReadableNodeStream(stream)) return null\n  const rState = stream._readableState\n  if (rState !== null && rState !== undefined && rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== 'boolean') return null\n  return !!(rState.endEmitted || (strict === false && rState.ended === true && rState.length === 0))\n}\nfunction isReadable(stream) {\n  if (stream && stream[kIsReadable] != null) return stream[kIsReadable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isReadableNodeStream(stream) && stream.readable && !isReadableFinished(stream)\n}\nfunction isWritable(stream) {\n  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isWritableNodeStream(stream) && stream.writable && !isWritableEnded(stream)\n}\nfunction isFinished(stream, opts) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (isDestroyed(stream)) {\n    return true\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false && isReadable(stream)) {\n    return false\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false && isWritable(stream)) {\n    return false\n  }\n  return true\n}\nfunction isWritableErrored(stream) {\n  var _stream$_writableStat, _stream$_writableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.writableErrored) {\n    return stream.writableErrored\n  }\n  return (_stream$_writableStat =\n    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined\n      ? undefined\n      : _stream$_writableStat2.errored) !== null && _stream$_writableStat !== undefined\n    ? _stream$_writableStat\n    : null\n}\nfunction isReadableErrored(stream) {\n  var _stream$_readableStat, _stream$_readableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.readableErrored) {\n    return stream.readableErrored\n  }\n  return (_stream$_readableStat =\n    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined\n      ? undefined\n      : _stream$_readableStat2.errored) !== null && _stream$_readableStat !== undefined\n    ? _stream$_readableStat\n    : null\n}\nfunction isClosed(stream) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (typeof stream.closed === 'boolean') {\n    return stream.closed\n  }\n  const wState = stream._writableState\n  const rState = stream._readableState\n  if (\n    typeof (wState === null || wState === undefined ? undefined : wState.closed) === 'boolean' ||\n    typeof (rState === null || rState === undefined ? undefined : rState.closed) === 'boolean'\n  ) {\n    return (\n      (wState === null || wState === undefined ? undefined : wState.closed) ||\n      (rState === null || rState === undefined ? undefined : rState.closed)\n    )\n  }\n  if (typeof stream._closed === 'boolean' && isOutgoingMessage(stream)) {\n    return stream._closed\n  }\n  return null\n}\nfunction isOutgoingMessage(stream) {\n  return (\n    typeof stream._closed === 'boolean' &&\n    typeof stream._defaultKeepAlive === 'boolean' &&\n    typeof stream._removedConnection === 'boolean' &&\n    typeof stream._removedContLen === 'boolean'\n  )\n}\nfunction isServerResponse(stream) {\n  return typeof stream._sent100 === 'boolean' && isOutgoingMessage(stream)\n}\nfunction isServerRequest(stream) {\n  var _stream$req\n  return (\n    typeof stream._consuming === 'boolean' &&\n    typeof stream._dumped === 'boolean' &&\n    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===\n      undefined\n  )\n}\nfunction willEmitClose(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return (\n    (!state && isServerResponse(stream)) || !!(state && state.autoDestroy && state.emitClose && state.closed === false)\n  )\n}\nfunction isDisturbed(stream) {\n  var _stream$kIsDisturbed\n  return !!(\n    stream &&\n    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null && _stream$kIsDisturbed !== undefined\n      ? _stream$kIsDisturbed\n      : stream.readableDidRead || stream.readableAborted)\n  )\n}\nfunction isErrored(stream) {\n  var _ref,\n    _ref2,\n    _ref3,\n    _ref4,\n    _ref5,\n    _stream$kIsErrored,\n    _stream$_readableStat3,\n    _stream$_writableStat3,\n    _stream$_readableStat4,\n    _stream$_writableStat4\n  return !!(\n    stream &&\n    ((_ref =\n      (_ref2 =\n        (_ref3 =\n          (_ref4 =\n            (_ref5 =\n              (_stream$kIsErrored = stream[kIsErrored]) !== null && _stream$kIsErrored !== undefined\n                ? _stream$kIsErrored\n                : stream.readableErrored) !== null && _ref5 !== undefined\n              ? _ref5\n              : stream.writableErrored) !== null && _ref4 !== undefined\n            ? _ref4\n            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined\n            ? undefined\n            : _stream$_readableStat3.errorEmitted) !== null && _ref3 !== undefined\n          ? _ref3\n          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined\n          ? undefined\n          : _stream$_writableStat3.errorEmitted) !== null && _ref2 !== undefined\n        ? _ref2\n        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined\n        ? undefined\n        : _stream$_readableStat4.errored) !== null && _ref !== undefined\n      ? _ref\n      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined\n      ? undefined\n      : _stream$_writableStat4.errored)\n  )\n}\nmodule.exports = {\n  kDestroyed,\n  isDisturbed,\n  kIsDisturbed,\n  isErrored,\n  kIsErrored,\n  isReadable,\n  kIsReadable,\n  kIsClosedPromise,\n  kControllerErrorFunction,\n  isClosed,\n  isDestroyed,\n  isDuplexNodeStream,\n  isFinished,\n  isIterable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableEnded,\n  isReadableFinished,\n  isReadableErrored,\n  isNodeStream,\n  isWebStream,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableEnded,\n  isWritableFinished,\n  isWritableErrored,\n  isServerRequest,\n  isServerResponse,\n  willEmitClose,\n  isTransformStream\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n;('use strict')\nconst {\n  ArrayPrototypeSlice,\n  Error,\n  FunctionPrototypeSymbolHasInstance,\n  ObjectDefineProperty,\n  ObjectDefineProperties,\n  ObjectSetPrototypeOf,\n  StringPrototypeToLowerCase,\n  Symbol,\n  SymbolHasInstance\n} = require('../../ours/primordials')\nmodule.exports = Writable\nWritable.WritableState = WritableState\nconst { EventEmitter: EE } = require('events')\nconst Stream = require('./legacy').Stream\nconst { Buffer } = require('buffer')\nconst destroyImpl = require('./destroy')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED,\n  ERR_STREAM_ALREADY_FINISHED,\n  ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING\n} = require('../../ours/errors').codes\nconst { errorOrDestroy } = destroyImpl\nObjectSetPrototypeOf(Writable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Writable, Stream)\nfunction nop() {}\nconst kOnFinished = Symbol('kOnFinished')\nfunction WritableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.writableObjectMode)\n\n  // The point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write().\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // if _final has been called.\n  this.finalCalled = false\n\n  // drain event flag.\n  this.needDrain = false\n  // At the start of calling end()\n  this.ending = false\n  // When end() has been called, and returned.\n  this.ended = false\n  // When 'finish' is emitted.\n  this.finished = false\n\n  // Has it been destroyed\n  this.destroyed = false\n\n  // Should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  const noDecode = !!(options && options.decodeStrings === false)\n  this.decodeStrings = !noDecode\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0\n\n  // A flag to see when we're in the middle of a write.\n  this.writing = false\n\n  // When true all writes will be buffered until .uncork() call.\n  this.corked = 0\n\n  // A flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true\n\n  // A flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false\n\n  // The callback that's passed to _write(chunk, cb).\n  this.onwrite = onwrite.bind(undefined, stream)\n\n  // The callback that the user supplies to write(chunk, encoding, cb).\n  this.writecb = null\n\n  // The amount that is being written when _write is called.\n  this.writelen = 0\n\n  // Storage for data passed to the afterWrite() callback in case of\n  // synchronous _write() completion.\n  this.afterWriteTickInfo = null\n  resetBuffer(this)\n\n  // Number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted.\n  this.pendingcb = 0\n\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  this.constructed = true\n\n  // Emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams.\n  this.prefinished = false\n\n  // True if the error was already emitted and should not be thrown again.\n  this.errorEmitted = false\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = !options || options.emitClose !== false\n\n  // Should .destroy() be called after 'finish' (and potentially 'end').\n  this.autoDestroy = !options || options.autoDestroy !== false\n\n  // Indicates whether the stream has errored. When true all write() calls\n  // should return false. This is needed since when autoDestroy\n  // is disabled we need a way to tell whether the stream has failed.\n  this.errored = null\n\n  // Indicates whether the stream has finished destroying.\n  this.closed = false\n\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  this.closeEmitted = false\n  this[kOnFinished] = []\n}\nfunction resetBuffer(state) {\n  state.buffered = []\n  state.bufferedIndex = 0\n  state.allBuffers = true\n  state.allNoop = true\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  return ArrayPrototypeSlice(this.buffered, this.bufferedIndex)\n}\nObjectDefineProperty(WritableState.prototype, 'bufferedRequestCount', {\n  __proto__: null,\n  get() {\n    return this.buffered.length - this.bufferedIndex\n  }\n})\nfunction Writable(options) {\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  if (!isDuplex && !FunctionPrototypeSymbolHasInstance(Writable, this)) return new Writable(options)\n  this._writableState = new WritableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write\n    if (typeof options.writev === 'function') this._writev = options.writev\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.final === 'function') this._final = options.final\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    const state = this._writableState\n    if (!state.writing) {\n      clearBuffer(this, state)\n    }\n    finishMaybe(this, state)\n  })\n}\nObjectDefineProperty(Writable, SymbolHasInstance, {\n  __proto__: null,\n  value: function (object) {\n    if (FunctionPrototypeSymbolHasInstance(this, object)) return true\n    if (this !== Writable) return false\n    return object && object._writableState instanceof WritableState\n  }\n})\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE())\n}\nfunction _write(stream, chunk, encoding, cb) {\n  const state = stream._writableState\n  if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = state.defaultEncoding\n  } else {\n    if (!encoding) encoding = state.defaultEncoding\n    else if (encoding !== 'buffer' && !Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n    if (typeof cb !== 'function') cb = nop\n  }\n  if (chunk === null) {\n    throw new ERR_STREAM_NULL_VALUES()\n  } else if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      if (state.decodeStrings !== false) {\n        chunk = Buffer.from(chunk, encoding)\n        encoding = 'buffer'\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = 'buffer'\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = 'buffer'\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  let err\n  if (state.ending) {\n    err = new ERR_STREAM_WRITE_AFTER_END()\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('write')\n  }\n  if (err) {\n    process.nextTick(cb, err)\n    errorOrDestroy(stream, err, true)\n    return err\n  }\n  state.pendingcb++\n  return writeOrBuffer(stream, state, chunk, encoding, cb)\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  return _write(this, chunk, encoding, cb) === true\n}\nWritable.prototype.cork = function () {\n  this._writableState.corked++\n}\nWritable.prototype.uncork = function () {\n  const state = this._writableState\n  if (state.corked) {\n    state.corked--\n    if (!state.writing) clearBuffer(this, state)\n  }\n}\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = StringPrototypeToLowerCase(encoding)\n  if (!Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n  this._writableState.defaultEncoding = encoding\n  return this\n}\n\n// If we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, callback) {\n  const len = state.objectMode ? 1 : chunk.length\n  state.length += len\n\n  // stream._write resets state.length\n  const ret = state.length < state.highWaterMark\n  // We must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true\n  if (state.writing || state.corked || state.errored || !state.constructed) {\n    state.buffered.push({\n      chunk,\n      encoding,\n      callback\n    })\n    if (state.allBuffers && encoding !== 'buffer') {\n      state.allBuffers = false\n    }\n    if (state.allNoop && callback !== nop) {\n      state.allNoop = false\n    }\n  } else {\n    state.writelen = len\n    state.writecb = callback\n    state.writing = true\n    state.sync = true\n    stream._write(chunk, encoding, state.onwrite)\n    state.sync = false\n  }\n\n  // Return false if errored or destroyed in order to break\n  // any synchronous while(stream.write(data)) loops.\n  return ret && !state.errored && !state.destroyed\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len\n  state.writecb = cb\n  state.writing = true\n  state.sync = true\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'))\n  else if (writev) stream._writev(chunk, state.onwrite)\n  else stream._write(chunk, encoding, state.onwrite)\n  state.sync = false\n}\nfunction onwriteError(stream, state, er, cb) {\n  --state.pendingcb\n  cb(er)\n  // Ensure callbacks are invoked even when autoDestroy is\n  // not enabled. Passing `er` here doesn't make sense since\n  // it's related to one specific write, not to the buffered\n  // writes.\n  errorBuffer(state)\n  // This can emit error, but error must always follow cb.\n  errorOrDestroy(stream, er)\n}\nfunction onwrite(stream, er) {\n  const state = stream._writableState\n  const sync = state.sync\n  const cb = state.writecb\n  if (typeof cb !== 'function') {\n    errorOrDestroy(stream, new ERR_MULTIPLE_CALLBACK())\n    return\n  }\n  state.writing = false\n  state.writecb = null\n  state.length -= state.writelen\n  state.writelen = 0\n  if (er) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    er.stack // eslint-disable-line no-unused-expressions\n\n    if (!state.errored) {\n      state.errored = er\n    }\n\n    // In case of duplex streams we need to notify the readable side of the\n    // error.\n    if (stream._readableState && !stream._readableState.errored) {\n      stream._readableState.errored = er\n    }\n    if (sync) {\n      process.nextTick(onwriteError, stream, state, er, cb)\n    } else {\n      onwriteError(stream, state, er, cb)\n    }\n  } else {\n    if (state.buffered.length > state.bufferedIndex) {\n      clearBuffer(stream, state)\n    }\n    if (sync) {\n      // It is a common case that the callback passed to .write() is always\n      // the same. In that case, we do not schedule a new nextTick(), but\n      // rather just increase a counter, to improve performance and avoid\n      // memory allocations.\n      if (state.afterWriteTickInfo !== null && state.afterWriteTickInfo.cb === cb) {\n        state.afterWriteTickInfo.count++\n      } else {\n        state.afterWriteTickInfo = {\n          count: 1,\n          cb,\n          stream,\n          state\n        }\n        process.nextTick(afterWriteTick, state.afterWriteTickInfo)\n      }\n    } else {\n      afterWrite(stream, state, 1, cb)\n    }\n  }\n}\nfunction afterWriteTick({ stream, state, count, cb }) {\n  state.afterWriteTickInfo = null\n  return afterWrite(stream, state, count, cb)\n}\nfunction afterWrite(stream, state, count, cb) {\n  const needDrain = !state.ending && !stream.destroyed && state.length === 0 && state.needDrain\n  if (needDrain) {\n    state.needDrain = false\n    stream.emit('drain')\n  }\n  while (count-- > 0) {\n    state.pendingcb--\n    cb()\n  }\n  if (state.destroyed) {\n    errorBuffer(state)\n  }\n  finishMaybe(stream, state)\n}\n\n// If there's something in the buffer waiting, then invoke callbacks.\nfunction errorBuffer(state) {\n  if (state.writing) {\n    return\n  }\n  for (let n = state.bufferedIndex; n < state.buffered.length; ++n) {\n    var _state$errored\n    const { chunk, callback } = state.buffered[n]\n    const len = state.objectMode ? 1 : chunk.length\n    state.length -= len\n    callback(\n      (_state$errored = state.errored) !== null && _state$errored !== undefined\n        ? _state$errored\n        : new ERR_STREAM_DESTROYED('write')\n    )\n  }\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    var _state$errored2\n    onfinishCallbacks[i](\n      (_state$errored2 = state.errored) !== null && _state$errored2 !== undefined\n        ? _state$errored2\n        : new ERR_STREAM_DESTROYED('end')\n    )\n  }\n  resetBuffer(state)\n}\n\n// If there's something in the buffer waiting, then process it.\nfunction clearBuffer(stream, state) {\n  if (state.corked || state.bufferProcessing || state.destroyed || !state.constructed) {\n    return\n  }\n  const { buffered, bufferedIndex, objectMode } = state\n  const bufferedLength = buffered.length - bufferedIndex\n  if (!bufferedLength) {\n    return\n  }\n  let i = bufferedIndex\n  state.bufferProcessing = true\n  if (bufferedLength > 1 && stream._writev) {\n    state.pendingcb -= bufferedLength - 1\n    const callback = state.allNoop\n      ? nop\n      : (err) => {\n          for (let n = i; n < buffered.length; ++n) {\n            buffered[n].callback(err)\n          }\n        }\n    // Make a copy of `buffered` if it's going to be used by `callback` above,\n    // since `doWrite` will mutate the array.\n    const chunks = state.allNoop && i === 0 ? buffered : ArrayPrototypeSlice(buffered, i)\n    chunks.allBuffers = state.allBuffers\n    doWrite(stream, state, true, state.length, chunks, '', callback)\n    resetBuffer(state)\n  } else {\n    do {\n      const { chunk, encoding, callback } = buffered[i]\n      buffered[i++] = null\n      const len = objectMode ? 1 : chunk.length\n      doWrite(stream, state, false, len, chunk, encoding, callback)\n    } while (i < buffered.length && !state.writing)\n    if (i === buffered.length) {\n      resetBuffer(state)\n    } else if (i > 256) {\n      buffered.splice(0, i)\n      state.bufferedIndex = 0\n    } else {\n      state.bufferedIndex = i\n    }\n  }\n  state.bufferProcessing = false\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  if (this._writev) {\n    this._writev(\n      [\n        {\n          chunk,\n          encoding\n        }\n      ],\n      cb\n    )\n  } else {\n    throw new ERR_METHOD_NOT_IMPLEMENTED('_write()')\n  }\n}\nWritable.prototype._writev = null\nWritable.prototype.end = function (chunk, encoding, cb) {\n  const state = this._writableState\n  if (typeof chunk === 'function') {\n    cb = chunk\n    chunk = null\n    encoding = null\n  } else if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = null\n  }\n  let err\n  if (chunk !== null && chunk !== undefined) {\n    const ret = _write(this, chunk, encoding)\n    if (ret instanceof Error) {\n      err = ret\n    }\n  }\n\n  // .end() fully uncorks.\n  if (state.corked) {\n    state.corked = 1\n    this.uncork()\n  }\n  if (err) {\n    // Do nothing...\n  } else if (!state.errored && !state.ending) {\n    // This is forgiving in terms of unnecessary calls to end() and can hide\n    // logic errors. However, usually such errors are harmless and causing a\n    // hard error can be disproportionately destructive. It is not always\n    // trivial for the user to determine whether end() needs to be called\n    // or not.\n\n    state.ending = true\n    finishMaybe(this, state, true)\n    state.ended = true\n  } else if (state.finished) {\n    err = new ERR_STREAM_ALREADY_FINISHED('end')\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('end')\n  }\n  if (typeof cb === 'function') {\n    if (err || state.finished) {\n      process.nextTick(cb, err)\n    } else {\n      state[kOnFinished].push(cb)\n    }\n  }\n  return this\n}\nfunction needFinish(state) {\n  return (\n    state.ending &&\n    !state.destroyed &&\n    state.constructed &&\n    state.length === 0 &&\n    !state.errored &&\n    state.buffered.length === 0 &&\n    !state.finished &&\n    !state.writing &&\n    !state.errorEmitted &&\n    !state.closeEmitted\n  )\n}\nfunction callFinal(stream, state) {\n  let called = false\n  function onFinish(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    state.pendingcb--\n    if (err) {\n      const onfinishCallbacks = state[kOnFinished].splice(0)\n      for (let i = 0; i < onfinishCallbacks.length; i++) {\n        onfinishCallbacks[i](err)\n      }\n      errorOrDestroy(stream, err, state.sync)\n    } else if (needFinish(state)) {\n      state.prefinished = true\n      stream.emit('prefinish')\n      // Backwards compat. Don't check state.sync here.\n      // Some streams assume 'finish' will be emitted\n      // asynchronously relative to _final callback.\n      state.pendingcb++\n      process.nextTick(finish, stream, state)\n    }\n  }\n  state.sync = true\n  state.pendingcb++\n  try {\n    stream._final(onFinish)\n  } catch (err) {\n    onFinish(err)\n  }\n  state.sync = false\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.finalCalled = true\n      callFinal(stream, state)\n    } else {\n      state.prefinished = true\n      stream.emit('prefinish')\n    }\n  }\n}\nfunction finishMaybe(stream, state, sync) {\n  if (needFinish(state)) {\n    prefinish(stream, state)\n    if (state.pendingcb === 0) {\n      if (sync) {\n        state.pendingcb++\n        process.nextTick(\n          (stream, state) => {\n            if (needFinish(state)) {\n              finish(stream, state)\n            } else {\n              state.pendingcb--\n            }\n          },\n          stream,\n          state\n        )\n      } else if (needFinish(state)) {\n        state.pendingcb++\n        finish(stream, state)\n      }\n    }\n  }\n}\nfunction finish(stream, state) {\n  state.pendingcb--\n  state.finished = true\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    onfinishCallbacks[i]()\n  }\n  stream.emit('finish')\n  if (state.autoDestroy) {\n    // In case of duplex streams we need a way to detect\n    // if the readable side is ready for autoDestroy as well.\n    const rState = stream._readableState\n    const autoDestroy =\n      !rState ||\n      (rState.autoDestroy &&\n        // We don't expect the readable to ever 'end'\n        // if readable is explicitly set to false.\n        (rState.endEmitted || rState.readable === false))\n    if (autoDestroy) {\n      stream.destroy()\n    }\n  }\n}\nObjectDefineProperties(Writable.prototype, {\n  closed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.destroyed : false\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly managing destroyed.\n      if (this._writableState) {\n        this._writableState.destroyed = value\n      }\n    }\n  },\n  writable: {\n    __proto__: null,\n    get() {\n      const w = this._writableState\n      // w.writable === false means that this is part of a Duplex stream\n      // where the writable side was disabled upon construction.\n      // Compat. The user might manually disable writable side through\n      // deprecated setter.\n      return !!w && w.writable !== false && !w.destroyed && !w.errored && !w.ending && !w.ended\n    },\n    set(val) {\n      // Backwards compatible.\n      if (this._writableState) {\n        this._writableState.writable = !!val\n      }\n    }\n  },\n  writableFinished: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.finished : false\n    }\n  },\n  writableObjectMode: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.objectMode : false\n    }\n  },\n  writableBuffer: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.getBuffer()\n    }\n  },\n  writableEnded: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.ending : false\n    }\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    get() {\n      const wState = this._writableState\n      if (!wState) return false\n      return !wState.destroyed && !wState.ending && wState.needDrain\n    }\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.highWaterMark\n    }\n  },\n  writableCorked: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.corked : 0\n    }\n  },\n  writableLength: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.length\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._writableState ? this._writableState.errored : null\n    }\n  },\n  writableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._writableState.writable !== false &&\n        (this._writableState.destroyed || this._writableState.errored) &&\n        !this._writableState.finished\n      )\n    }\n  }\n})\nconst destroy = destroyImpl.destroy\nWritable.prototype.destroy = function (err, cb) {\n  const state = this._writableState\n\n  // Invoke pending callbacks.\n  if (!state.destroyed && (state.bufferedIndex < state.buffered.length || state[kOnFinished].length)) {\n    process.nextTick(errorBuffer, state)\n  }\n  destroy.call(this, err, cb)\n  return this\n}\nWritable.prototype._undestroy = destroyImpl.undestroy\nWritable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nWritable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nWritable.fromWeb = function (writableStream, options) {\n  return lazyWebStreams().newStreamWritableFromWritableStream(writableStream, options)\n}\nWritable.toWeb = function (streamWritable) {\n  return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)\n}\n","/* eslint jsdoc/require-jsdoc: \"error\" */\n\n'use strict'\n\nconst {\n  ArrayIsArray,\n  ArrayPrototypeIncludes,\n  ArrayPrototypeJoin,\n  ArrayPrototypeMap,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberMAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER,\n  NumberParseInt,\n  ObjectPrototypeHasOwnProperty,\n  RegExpPrototypeExec,\n  String,\n  StringPrototypeToUpperCase,\n  StringPrototypeTrim\n} = require('../ours/primordials')\nconst {\n  hideStackFrames,\n  codes: { ERR_SOCKET_BAD_PORT, ERR_INVALID_ARG_TYPE, ERR_INVALID_ARG_VALUE, ERR_OUT_OF_RANGE, ERR_UNKNOWN_SIGNAL }\n} = require('../ours/errors')\nconst { normalizeEncoding } = require('../ours/util')\nconst { isAsyncFunction, isArrayBufferView } = require('../ours/util').types\nconst signals = {}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt32(value) {\n  return value === (value | 0)\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isUint32(value) {\n  return value === value >>> 0\n}\nconst octalReg = /^[0-7]+$/\nconst modeDesc = 'must be a 32-bit unsigned integer or an octal string'\n\n/**\n * Parse and validate values that will be converted into mode_t (the S_*\n * constants). Only valid numbers and octal strings are allowed. They could be\n * converted to 32-bit unsigned integers or non-negative signed integers in the\n * C++ land, but any value higher than 0o777 will result in platform-specific\n * behaviors.\n *\n * @param {*} value Values to be validated\n * @param {string} name Name of the argument\n * @param {number} [def] If specified, will be returned for invalid values\n * @returns {number}\n */\nfunction parseFileMode(value, name, def) {\n  if (typeof value === 'undefined') {\n    value = def\n  }\n  if (typeof value === 'string') {\n    if (RegExpPrototypeExec(octalReg, value) === null) {\n      throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc)\n    }\n    value = NumberParseInt(value, 8)\n  }\n  validateUint32(value, name)\n  return value\n}\n\n/**\n * @callback validateInteger\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInteger} */\nconst validateInteger = hideStackFrames((value, name, min = NumberMIN_SAFE_INTEGER, max = NumberMAX_SAFE_INTEGER) => {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (!NumberIsInteger(value)) throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  if (value < min || value > max) throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n})\n\n/**\n * @callback validateInt32\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInt32} */\nconst validateInt32 = hideStackFrames((value, name, min = -2147483648, max = 2147483647) => {\n  // The defaults for min and max correspond to the limits of 32-bit integers.\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateUint32\n * @param {*} value\n * @param {string} name\n * @param {number|boolean} [positive=false]\n * @returns {asserts value is number}\n */\n\n/** @type {validateUint32} */\nconst validateUint32 = hideStackFrames((value, name, positive = false) => {\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  const min = positive ? 1 : 0\n  // 2 ** 32 === 4294967296\n  const max = 4294967295\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateString\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string}\n */\n\n/** @type {validateString} */\nfunction validateString(value, name) {\n  if (typeof value !== 'string') throw new ERR_INVALID_ARG_TYPE(name, 'string', value)\n}\n\n/**\n * @callback validateNumber\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateNumber} */\nfunction validateNumber(value, name, min = undefined, max) {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (\n    (min != null && value < min) ||\n    (max != null && value > max) ||\n    ((min != null || max != null) && NumberIsNaN(value))\n  ) {\n    throw new ERR_OUT_OF_RANGE(\n      name,\n      `${min != null ? `>= ${min}` : ''}${min != null && max != null ? ' && ' : ''}${max != null ? `<= ${max}` : ''}`,\n      value\n    )\n  }\n}\n\n/**\n * @callback validateOneOf\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} oneOf\n */\n\n/** @type {validateOneOf} */\nconst validateOneOf = hideStackFrames((value, name, oneOf) => {\n  if (!ArrayPrototypeIncludes(oneOf, value)) {\n    const allowed = ArrayPrototypeJoin(\n      ArrayPrototypeMap(oneOf, (v) => (typeof v === 'string' ? `'${v}'` : String(v))),\n      ', '\n    )\n    const reason = 'must be one of: ' + allowed\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateBoolean\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean}\n */\n\n/** @type {validateBoolean} */\nfunction validateBoolean(value, name) {\n  if (typeof value !== 'boolean') throw new ERR_INVALID_ARG_TYPE(name, 'boolean', value)\n}\n\n/**\n * @param {any} options\n * @param {string} key\n * @param {boolean} defaultValue\n * @returns {boolean}\n */\nfunction getOwnPropertyValueOrDefault(options, key, defaultValue) {\n  return options == null || !ObjectPrototypeHasOwnProperty(options, key) ? defaultValue : options[key]\n}\n\n/**\n * @callback validateObject\n * @param {*} value\n * @param {string} name\n * @param {{\n *   allowArray?: boolean,\n *   allowFunction?: boolean,\n *   nullable?: boolean\n * }} [options]\n */\n\n/** @type {validateObject} */\nconst validateObject = hideStackFrames((value, name, options = null) => {\n  const allowArray = getOwnPropertyValueOrDefault(options, 'allowArray', false)\n  const allowFunction = getOwnPropertyValueOrDefault(options, 'allowFunction', false)\n  const nullable = getOwnPropertyValueOrDefault(options, 'nullable', false)\n  if (\n    (!nullable && value === null) ||\n    (!allowArray && ArrayIsArray(value)) ||\n    (typeof value !== 'object' && (!allowFunction || typeof value !== 'function'))\n  ) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Object', value)\n  }\n})\n\n/**\n * @callback validateDictionary - We are using the Web IDL Standard definition\n *                                of \"dictionary\" here, which means any value\n *                                whose Type is either Undefined, Null, or\n *                                Object (which includes functions).\n * @param {*} value\n * @param {string} name\n * @see https://webidl.spec.whatwg.org/#es-dictionary\n * @see https://tc39.es/ecma262/#table-typeof-operator-results\n */\n\n/** @type {validateDictionary} */\nconst validateDictionary = hideStackFrames((value, name) => {\n  if (value != null && typeof value !== 'object' && typeof value !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'a dictionary', value)\n  }\n})\n\n/**\n * @callback validateArray\n * @param {*} value\n * @param {string} name\n * @param {number} [minLength]\n * @returns {asserts value is any[]}\n */\n\n/** @type {validateArray} */\nconst validateArray = hideStackFrames((value, name, minLength = 0) => {\n  if (!ArrayIsArray(value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Array', value)\n  }\n  if (value.length < minLength) {\n    const reason = `must be longer than ${minLength}`\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateStringArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string[]}\n */\n\n/** @type {validateStringArray} */\nfunction validateStringArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateString(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateBooleanArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean[]}\n */\n\n/** @type {validateBooleanArray} */\nfunction validateBooleanArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateBoolean(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @param {*} signal\n * @param {string} [name='signal']\n * @returns {asserts signal is keyof signals}\n */\nfunction validateSignalName(signal, name = 'signal') {\n  validateString(signal, name)\n  if (signals[signal] === undefined) {\n    if (signals[StringPrototypeToUpperCase(signal)] !== undefined) {\n      throw new ERR_UNKNOWN_SIGNAL(signal + ' (signals must use all capital letters)')\n    }\n    throw new ERR_UNKNOWN_SIGNAL(signal)\n  }\n}\n\n/**\n * @callback validateBuffer\n * @param {*} buffer\n * @param {string} [name='buffer']\n * @returns {asserts buffer is ArrayBufferView}\n */\n\n/** @type {validateBuffer} */\nconst validateBuffer = hideStackFrames((buffer, name = 'buffer') => {\n  if (!isArrayBufferView(buffer)) {\n    throw new ERR_INVALID_ARG_TYPE(name, ['Buffer', 'TypedArray', 'DataView'], buffer)\n  }\n})\n\n/**\n * @param {string} data\n * @param {string} encoding\n */\nfunction validateEncoding(data, encoding) {\n  const normalizedEncoding = normalizeEncoding(encoding)\n  const length = data.length\n  if (normalizedEncoding === 'hex' && length % 2 !== 0) {\n    throw new ERR_INVALID_ARG_VALUE('encoding', encoding, `is invalid for data of length ${length}`)\n  }\n}\n\n/**\n * Check that the port number is not NaN when coerced to a number,\n * is an integer and that it falls within the legal range of port numbers.\n * @param {*} port\n * @param {string} [name='Port']\n * @param {boolean} [allowZero=true]\n * @returns {number}\n */\nfunction validatePort(port, name = 'Port', allowZero = true) {\n  if (\n    (typeof port !== 'number' && typeof port !== 'string') ||\n    (typeof port === 'string' && StringPrototypeTrim(port).length === 0) ||\n    +port !== +port >>> 0 ||\n    port > 0xffff ||\n    (port === 0 && !allowZero)\n  ) {\n    throw new ERR_SOCKET_BAD_PORT(name, port, allowZero)\n  }\n  return port | 0\n}\n\n/**\n * @callback validateAbortSignal\n * @param {*} signal\n * @param {string} name\n */\n\n/** @type {validateAbortSignal} */\nconst validateAbortSignal = hideStackFrames((signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n})\n\n/**\n * @callback validateFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validateFunction} */\nconst validateFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validatePlainFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validatePlainFunction} */\nconst validatePlainFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function' || isAsyncFunction(value)) throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validateUndefined\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is undefined}\n */\n\n/** @type {validateUndefined} */\nconst validateUndefined = hideStackFrames((value, name) => {\n  if (value !== undefined) throw new ERR_INVALID_ARG_TYPE(name, 'undefined', value)\n})\n\n/**\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} union\n */\nfunction validateUnion(value, name, union) {\n  if (!ArrayPrototypeIncludes(union, value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, `('${ArrayPrototypeJoin(union, '|')}')`, value)\n  }\n}\n\n/*\n  The rules for the Link header field are described here:\n  https://www.rfc-editor.org/rfc/rfc8288.html#section-3\n\n  This regex validates any string surrounded by angle brackets\n  (not necessarily a valid URI reference) followed by zero or more\n  link-params separated by semicolons.\n*/\nconst linkValueRegExp = /^(?:<[^>]*>)(?:\\s*;\\s*[^;\"\\s]+(?:=(\")?[^;\"\\s]*\\1)?)*$/\n\n/**\n * @param {any} value\n * @param {string} name\n */\nfunction validateLinkHeaderFormat(value, name) {\n  if (typeof value === 'undefined' || !RegExpPrototypeExec(linkValueRegExp, value)) {\n    throw new ERR_INVALID_ARG_VALUE(\n      name,\n      value,\n      'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n    )\n  }\n}\n\n/**\n * @param {any} hints\n * @return {string}\n */\nfunction validateLinkHeaderValue(hints) {\n  if (typeof hints === 'string') {\n    validateLinkHeaderFormat(hints, 'hints')\n    return hints\n  } else if (ArrayIsArray(hints)) {\n    const hintsLength = hints.length\n    let result = ''\n    if (hintsLength === 0) {\n      return result\n    }\n    for (let i = 0; i < hintsLength; i++) {\n      const link = hints[i]\n      validateLinkHeaderFormat(link, 'hints')\n      result += link\n      if (i !== hintsLength - 1) {\n        result += ', '\n      }\n    }\n    return result\n  }\n  throw new ERR_INVALID_ARG_VALUE(\n    'hints',\n    hints,\n    'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n  )\n}\nmodule.exports = {\n  isInt32,\n  isUint32,\n  parseFileMode,\n  validateArray,\n  validateStringArray,\n  validateBooleanArray,\n  validateBoolean,\n  validateBuffer,\n  validateDictionary,\n  validateEncoding,\n  validateFunction,\n  validateInt32,\n  validateInteger,\n  validateNumber,\n  validateObject,\n  validateOneOf,\n  validatePlainFunction,\n  validatePort,\n  validateSignalName,\n  validateString,\n  validateUint32,\n  validateUndefined,\n  validateUnion,\n  validateAbortSignal,\n  validateLinkHeaderValue\n}\n","'use strict'\n\nconst CustomStream = require('../stream')\nconst promises = require('../stream/promises')\nconst originalDestroy = CustomStream.Readable.destroy\nmodule.exports = CustomStream.Readable\n\n// Explicit export naming is needed for ESM\nmodule.exports._uint8ArrayToBuffer = CustomStream._uint8ArrayToBuffer\nmodule.exports._isUint8Array = CustomStream._isUint8Array\nmodule.exports.isDisturbed = CustomStream.isDisturbed\nmodule.exports.isErrored = CustomStream.isErrored\nmodule.exports.isReadable = CustomStream.isReadable\nmodule.exports.Readable = CustomStream.Readable\nmodule.exports.Writable = CustomStream.Writable\nmodule.exports.Duplex = CustomStream.Duplex\nmodule.exports.Transform = CustomStream.Transform\nmodule.exports.PassThrough = CustomStream.PassThrough\nmodule.exports.addAbortSignal = CustomStream.addAbortSignal\nmodule.exports.finished = CustomStream.finished\nmodule.exports.destroy = CustomStream.destroy\nmodule.exports.destroy = originalDestroy\nmodule.exports.pipeline = CustomStream.pipeline\nmodule.exports.compose = CustomStream.compose\nObject.defineProperty(CustomStream, 'promises', {\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nmodule.exports.Stream = CustomStream.Stream\n\n// Allow default importing\nmodule.exports.default = module.exports\n","'use strict'\n\nconst { format, inspect, AggregateError: CustomAggregateError } = require('./util')\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/errors.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/errors.js\n\n  Don't try to replace with the original file and keep it up to date (starting from E(...) definitions)\n  with the upstream file.\n*/\n\nconst AggregateError = globalThis.AggregateError || CustomAggregateError\nconst kIsNodeError = Symbol('kIsNodeError')\nconst kTypes = [\n  'string',\n  'function',\n  'number',\n  'object',\n  // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]\nconst classRegExp = /^([A-Z][a-z0-9]*)+$/\nconst nodeInternalPrefix = '__node_internal_'\nconst codes = {}\nfunction assert(value, message) {\n  if (!value) {\n    throw new codes.ERR_INTERNAL_ASSERTION(message)\n  }\n}\n\n// Only use this for integers! Decimal numbers do not work with this function.\nfunction addNumericalSeparator(val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\nfunction getMessage(key, msg, args) {\n  if (typeof msg === 'function') {\n    assert(\n      msg.length <= args.length,\n      // Default options do not count.\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`\n    )\n    return msg(...args)\n  }\n  const expectedLength = (msg.match(/%[dfijoOs]/g) || []).length\n  assert(\n    expectedLength === args.length,\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\n  )\n  if (args.length === 0) {\n    return msg\n  }\n  return format(msg, ...args)\n}\nfunction E(code, message, Base) {\n  if (!Base) {\n    Base = Error\n  }\n  class NodeError extends Base {\n    constructor(...args) {\n      super(getMessage(code, message, args))\n    }\n    toString() {\n      return `${this.name} [${code}]: ${this.message}`\n    }\n  }\n  Object.defineProperties(NodeError.prototype, {\n    name: {\n      value: Base.name,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    },\n    toString: {\n      value() {\n        return `${this.name} [${code}]: ${this.message}`\n      },\n      writable: true,\n      enumerable: false,\n      configurable: true\n    }\n  })\n  NodeError.prototype.code = code\n  NodeError.prototype[kIsNodeError] = true\n  codes[code] = NodeError\n}\nfunction hideStackFrames(fn) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + fn.name\n  Object.defineProperty(fn, 'name', {\n    value: hidden\n  })\n  return fn\n}\nfunction aggregateTwoErrors(innerError, outerError) {\n  if (innerError && outerError && innerError !== outerError) {\n    if (Array.isArray(outerError.errors)) {\n      // If `outerError` is already an `AggregateError`.\n      outerError.errors.push(innerError)\n      return outerError\n    }\n    const err = new AggregateError([outerError, innerError], outerError.message)\n    err.code = outerError.code\n    return err\n  }\n  return innerError || outerError\n}\nclass AbortError extends Error {\n  constructor(message = 'The operation was aborted', options = undefined) {\n    if (options !== undefined && typeof options !== 'object') {\n      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object', options)\n    }\n    super(message, options)\n    this.code = 'ABORT_ERR'\n    this.name = 'AbortError'\n  }\n}\nE('ERR_ASSERTION', '%s', Error)\nE(\n  'ERR_INVALID_ARG_TYPE',\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\")\n    if (!Array.isArray(expected)) {\n      expected = [expected]\n    }\n    let msg = 'The '\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      msg += `${name} `\n    } else {\n      msg += `\"${name}\" ${name.includes('.') ? 'property' : 'argument'} `\n    }\n    msg += 'must be '\n    const types = []\n    const instances = []\n    const other = []\n    for (const value of expected) {\n      assert(typeof value === 'string', 'All expected entries have to be of type string')\n      if (kTypes.includes(value)) {\n        types.push(value.toLowerCase())\n      } else if (classRegExp.test(value)) {\n        instances.push(value)\n      } else {\n        assert(value !== 'object', 'The value \"object\" should be written as \"Object\"')\n        other.push(value)\n      }\n    }\n\n    // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n    if (instances.length > 0) {\n      const pos = types.indexOf('object')\n      if (pos !== -1) {\n        types.splice(types, pos, 1)\n        instances.push('Object')\n      }\n    }\n    if (types.length > 0) {\n      switch (types.length) {\n        case 1:\n          msg += `of type ${types[0]}`\n          break\n        case 2:\n          msg += `one of type ${types[0]} or ${types[1]}`\n          break\n        default: {\n          const last = types.pop()\n          msg += `one of type ${types.join(', ')}, or ${last}`\n        }\n      }\n      if (instances.length > 0 || other.length > 0) {\n        msg += ' or '\n      }\n    }\n    if (instances.length > 0) {\n      switch (instances.length) {\n        case 1:\n          msg += `an instance of ${instances[0]}`\n          break\n        case 2:\n          msg += `an instance of ${instances[0]} or ${instances[1]}`\n          break\n        default: {\n          const last = instances.pop()\n          msg += `an instance of ${instances.join(', ')}, or ${last}`\n        }\n      }\n      if (other.length > 0) {\n        msg += ' or '\n      }\n    }\n    switch (other.length) {\n      case 0:\n        break\n      case 1:\n        if (other[0].toLowerCase() !== other[0]) {\n          msg += 'an '\n        }\n        msg += `${other[0]}`\n        break\n      case 2:\n        msg += `one of ${other[0]} or ${other[1]}`\n        break\n      default: {\n        const last = other.pop()\n        msg += `one of ${other.join(', ')}, or ${last}`\n      }\n    }\n    if (actual == null) {\n      msg += `. Received ${actual}`\n    } else if (typeof actual === 'function' && actual.name) {\n      msg += `. Received function ${actual.name}`\n    } else if (typeof actual === 'object') {\n      var _actual$constructor\n      if (\n        (_actual$constructor = actual.constructor) !== null &&\n        _actual$constructor !== undefined &&\n        _actual$constructor.name\n      ) {\n        msg += `. Received an instance of ${actual.constructor.name}`\n      } else {\n        const inspected = inspect(actual, {\n          depth: -1\n        })\n        msg += `. Received ${inspected}`\n      }\n    } else {\n      let inspected = inspect(actual, {\n        colors: false\n      })\n      if (inspected.length > 25) {\n        inspected = `${inspected.slice(0, 25)}...`\n      }\n      msg += `. Received type ${typeof actual} (${inspected})`\n    }\n    return msg\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_ARG_VALUE',\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value)\n    if (inspected.length > 128) {\n      inspected = inspected.slice(0, 128) + '...'\n    }\n    const type = name.includes('.') ? 'property' : 'argument'\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_RETURN_VALUE',\n  (input, name, value) => {\n    var _value$constructor\n    const type =\n      value !== null &&\n      value !== undefined &&\n      (_value$constructor = value.constructor) !== null &&\n      _value$constructor !== undefined &&\n      _value$constructor.name\n        ? `instance of ${value.constructor.name}`\n        : `type ${typeof value}`\n    return `Expected ${input} to be returned from the \"${name}\"` + ` function but got ${type}.`\n  },\n  TypeError\n)\nE(\n  'ERR_MISSING_ARGS',\n  (...args) => {\n    assert(args.length > 0, 'At least one arg needs to be specified')\n    let msg\n    const len = args.length\n    args = (Array.isArray(args) ? args : [args]).map((a) => `\"${a}\"`).join(' or ')\n    switch (len) {\n      case 1:\n        msg += `The ${args[0]} argument`\n        break\n      case 2:\n        msg += `The ${args[0]} and ${args[1]} arguments`\n        break\n      default:\n        {\n          const last = args.pop()\n          msg += `The ${args.join(', ')}, and ${last} arguments`\n        }\n        break\n    }\n    return `${msg} must be specified`\n  },\n  TypeError\n)\nE(\n  'ERR_OUT_OF_RANGE',\n  (str, range, input) => {\n    assert(range, 'Missing \"range\" argument')\n    let received\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > 2n ** 32n || input < -(2n ** 32n)) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    } else {\n      received = inspect(input)\n    }\n    return `The value of \"${str}\" is out of range. It must be ${range}. Received ${received}`\n  },\n  RangeError\n)\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error)\nE('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error)\nE('ERR_STREAM_ALREADY_FINISHED', 'Cannot call %s after a stream was finished', Error)\nE('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error)\nE('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error)\nE('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError)\nE('ERR_STREAM_PREMATURE_CLOSE', 'Premature close', Error)\nE('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error)\nE('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event', Error)\nE('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error)\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError)\nmodule.exports = {\n  AbortError,\n  aggregateTwoErrors: hideStackFrames(aggregateTwoErrors),\n  hideStackFrames,\n  codes\n}\n","'use strict'\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/per_context/primordials.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/per_context/primordials.js\n\n  Don't try to replace with the original file and keep it up to date with the upstream file.\n*/\nmodule.exports = {\n  ArrayIsArray(self) {\n    return Array.isArray(self)\n  },\n  ArrayPrototypeIncludes(self, el) {\n    return self.includes(el)\n  },\n  ArrayPrototypeIndexOf(self, el) {\n    return self.indexOf(el)\n  },\n  ArrayPrototypeJoin(self, sep) {\n    return self.join(sep)\n  },\n  ArrayPrototypeMap(self, fn) {\n    return self.map(fn)\n  },\n  ArrayPrototypePop(self, el) {\n    return self.pop(el)\n  },\n  ArrayPrototypePush(self, el) {\n    return self.push(el)\n  },\n  ArrayPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  Error,\n  FunctionPrototypeCall(fn, thisArgs, ...args) {\n    return fn.call(thisArgs, ...args)\n  },\n  FunctionPrototypeSymbolHasInstance(self, instance) {\n    return Function.prototype[Symbol.hasInstance].call(self, instance)\n  },\n  MathFloor: Math.floor,\n  Number,\n  NumberIsInteger: Number.isInteger,\n  NumberIsNaN: Number.isNaN,\n  NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,\n  NumberParseInt: Number.parseInt,\n  ObjectDefineProperties(self, props) {\n    return Object.defineProperties(self, props)\n  },\n  ObjectDefineProperty(self, name, prop) {\n    return Object.defineProperty(self, name, prop)\n  },\n  ObjectGetOwnPropertyDescriptor(self, name) {\n    return Object.getOwnPropertyDescriptor(self, name)\n  },\n  ObjectKeys(obj) {\n    return Object.keys(obj)\n  },\n  ObjectSetPrototypeOf(target, proto) {\n    return Object.setPrototypeOf(target, proto)\n  },\n  Promise,\n  PromisePrototypeCatch(self, fn) {\n    return self.catch(fn)\n  },\n  PromisePrototypeThen(self, thenFn, catchFn) {\n    return self.then(thenFn, catchFn)\n  },\n  PromiseReject(err) {\n    return Promise.reject(err)\n  },\n  ReflectApply: Reflect.apply,\n  RegExpPrototypeTest(self, value) {\n    return self.test(value)\n  },\n  SafeSet: Set,\n  String,\n  StringPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  StringPrototypeToLowerCase(self) {\n    return self.toLowerCase()\n  },\n  StringPrototypeToUpperCase(self) {\n    return self.toUpperCase()\n  },\n  StringPrototypeTrim(self) {\n    return self.trim()\n  },\n  Symbol,\n  SymbolFor: Symbol.for,\n  SymbolAsyncIterator: Symbol.asyncIterator,\n  SymbolHasInstance: Symbol.hasInstance,\n  SymbolIterator: Symbol.iterator,\n  TypedArrayPrototypeSet(self, buf, len) {\n    return self.set(buf, len)\n  },\n  Uint8Array\n}\n","'use strict'\n\nconst bufferModule = require('buffer')\nconst AsyncFunction = Object.getPrototypeOf(async function () {}).constructor\nconst Blob = globalThis.Blob || bufferModule.Blob\n/* eslint-disable indent */\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        // eslint-disable-next-line indent\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n/* eslint-enable indent */\n\n// This is a simplified version of AggregateError\nclass AggregateError extends Error {\n  constructor(errors) {\n    if (!Array.isArray(errors)) {\n      throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)\n    }\n    let message = ''\n    for (let i = 0; i < errors.length; i++) {\n      message += `    ${errors[i].stack}\\n`\n    }\n    super(message)\n    this.name = 'AggregateError'\n    this.errors = errors\n  }\n}\nmodule.exports = {\n  AggregateError,\n  kEmptyObject: Object.freeze({}),\n  once(callback) {\n    let called = false\n    return function (...args) {\n      if (called) {\n        return\n      }\n      called = true\n      callback.apply(this, args)\n    }\n  },\n  createDeferredPromise: function () {\n    let resolve\n    let reject\n\n    // eslint-disable-next-line promise/param-names\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    return {\n      promise,\n      resolve,\n      reject\n    }\n  },\n  promisify(fn) {\n    return new Promise((resolve, reject) => {\n      fn((err, ...args) => {\n        if (err) {\n          return reject(err)\n        }\n        return resolve(...args)\n      })\n    })\n  },\n  debuglog() {\n    return function () {}\n  },\n  format(format, ...args) {\n    // Simplified version of https://nodejs.org/api/util.html#utilformatformat-args\n    return format.replace(/%([sdifj])/g, function (...[_unused, type]) {\n      const replacement = args.shift()\n      if (type === 'f') {\n        return replacement.toFixed(6)\n      } else if (type === 'j') {\n        return JSON.stringify(replacement)\n      } else if (type === 's' && typeof replacement === 'object') {\n        const ctor = replacement.constructor !== Object ? replacement.constructor.name : ''\n        return `${ctor} {}`.trim()\n      } else {\n        return replacement.toString()\n      }\n    })\n  },\n  inspect(value) {\n    // Vastly simplified version of https://nodejs.org/api/util.html#utilinspectobject-options\n    switch (typeof value) {\n      case 'string':\n        if (value.includes(\"'\")) {\n          if (!value.includes('\"')) {\n            return `\"${value}\"`\n          } else if (!value.includes('`') && !value.includes('${')) {\n            return `\\`${value}\\``\n          }\n        }\n        return `'${value}'`\n      case 'number':\n        if (isNaN(value)) {\n          return 'NaN'\n        } else if (Object.is(value, -0)) {\n          return String(value)\n        }\n        return value\n      case 'bigint':\n        return `${String(value)}n`\n      case 'boolean':\n      case 'undefined':\n        return String(value)\n      case 'object':\n        return '{}'\n    }\n  },\n  types: {\n    isAsyncFunction(fn) {\n      return fn instanceof AsyncFunction\n    },\n    isArrayBufferView(arr) {\n      return ArrayBuffer.isView(arr)\n    }\n  },\n  isBlob\n}\nmodule.exports.promisify.custom = Symbol.for('nodejs.util.promisify.custom')\n","/* replacement start */\n\nconst { Buffer } = require('buffer')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst { ObjectDefineProperty, ObjectKeys, ReflectApply } = require('./ours/primordials')\nconst {\n  promisify: { custom: customPromisify }\n} = require('./ours/util')\nconst { streamReturningOperators, promiseReturningOperators } = require('./internal/streams/operators')\nconst {\n  codes: { ERR_ILLEGAL_CONSTRUCTOR }\n} = require('./ours/errors')\nconst compose = require('./internal/streams/compose')\nconst { pipeline } = require('./internal/streams/pipeline')\nconst { destroyer } = require('./internal/streams/destroy')\nconst eos = require('./internal/streams/end-of-stream')\nconst internalBuffer = {}\nconst promises = require('./stream/promises')\nconst utils = require('./internal/streams/utils')\nconst Stream = (module.exports = require('./internal/streams/legacy').Stream)\nStream.isDisturbed = utils.isDisturbed\nStream.isErrored = utils.isErrored\nStream.isReadable = utils.isReadable\nStream.Readable = require('./internal/streams/readable')\nfor (const key of ObjectKeys(streamReturningOperators)) {\n  const op = streamReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return Stream.Readable.from(ReflectApply(op, this, args))\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nfor (const key of ObjectKeys(promiseReturningOperators)) {\n  const op = promiseReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return ReflectApply(op, this, args)\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nStream.Writable = require('./internal/streams/writable')\nStream.Duplex = require('./internal/streams/duplex')\nStream.Transform = require('./internal/streams/transform')\nStream.PassThrough = require('./internal/streams/passthrough')\nStream.pipeline = pipeline\nconst { addAbortSignal } = require('./internal/streams/add-abort-signal')\nStream.addAbortSignal = addAbortSignal\nStream.finished = eos\nStream.destroy = destroyer\nStream.compose = compose\nObjectDefineProperty(Stream, 'promises', {\n  __proto__: null,\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nObjectDefineProperty(pipeline, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.pipeline\n  }\n})\nObjectDefineProperty(eos, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.finished\n  }\n})\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream\nStream._isUint8Array = function isUint8Array(value) {\n  return value instanceof Uint8Array\n}\nStream._uint8ArrayToBuffer = function _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength)\n}\n","'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\nconst { isIterable, isNodeStream, isWebStream } = require('../internal/streams/utils')\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\nconst { finished } = require('../internal/streams/end-of-stream')\nrequire('../../lib/stream.js')\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n    if (\n      lastArg &&\n      typeof lastArg === 'object' &&\n      !isNodeStream(lastArg) &&\n      !isIterable(lastArg) &&\n      !isWebStream(lastArg)\n    ) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\nmodule.exports = {\n  finished,\n  pipeline\n}\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","/**\n * A `StructFailure` represents a single specific failure in validation.\n */\n/**\n * `StructError` objects are thrown (or returned) when validation fails.\n *\n * Validation logic is design to exit early for maximum performance. The error\n * represents the first error encountered during validation. For more detail,\n * the `error.failures` property is a generator function that can be run to\n * continue validation and receive all the failures in the data.\n */\nclass StructError extends TypeError {\n    constructor(failure, failures) {\n        let cached;\n        const { message, explanation, ...rest } = failure;\n        const { path } = failure;\n        const msg = path.length === 0 ? message : `At path: ${path.join('.')} -- ${message}`;\n        super(explanation ?? msg);\n        if (explanation != null)\n            this.cause = msg;\n        Object.assign(this, rest);\n        this.name = this.constructor.name;\n        this.failures = () => {\n            return (cached ?? (cached = [failure, ...failures()]));\n        };\n    }\n}\n\n/**\n * Check if a value is an iterator.\n */\nfunction isIterable(x) {\n    return isObject(x) && typeof x[Symbol.iterator] === 'function';\n}\n/**\n * Check if a value is a plain object.\n */\nfunction isObject(x) {\n    return typeof x === 'object' && x != null;\n}\n/**\n * Check if a value is a plain object.\n */\nfunction isPlainObject(x) {\n    if (Object.prototype.toString.call(x) !== '[object Object]') {\n        return false;\n    }\n    const prototype = Object.getPrototypeOf(x);\n    return prototype === null || prototype === Object.prototype;\n}\n/**\n * Return a value as a printable string.\n */\nfunction print(value) {\n    if (typeof value === 'symbol') {\n        return value.toString();\n    }\n    return typeof value === 'string' ? JSON.stringify(value) : `${value}`;\n}\n/**\n * Shifts (removes and returns) the first value from the `input` iterator.\n * Like `Array.prototype.shift()` but for an `Iterator`.\n */\nfunction shiftIterator(input) {\n    const { done, value } = input.next();\n    return done ? undefined : value;\n}\n/**\n * Convert a single validation result to a failure.\n */\nfunction toFailure(result, context, struct, value) {\n    if (result === true) {\n        return;\n    }\n    else if (result === false) {\n        result = {};\n    }\n    else if (typeof result === 'string') {\n        result = { message: result };\n    }\n    const { path, branch } = context;\n    const { type } = struct;\n    const { refinement, message = `Expected a value of type \\`${type}\\`${refinement ? ` with refinement \\`${refinement}\\`` : ''}, but received: \\`${print(value)}\\``, } = result;\n    return {\n        value,\n        type,\n        refinement,\n        key: path[path.length - 1],\n        path,\n        branch,\n        ...result,\n        message,\n    };\n}\n/**\n * Convert a validation result to an iterable of failures.\n */\nfunction* toFailures(result, context, struct, value) {\n    if (!isIterable(result)) {\n        result = [result];\n    }\n    for (const r of result) {\n        const failure = toFailure(r, context, struct, value);\n        if (failure) {\n            yield failure;\n        }\n    }\n}\n/**\n * Check a value against a struct, traversing deeply into nested values, and\n * returning an iterator of failures or success.\n */\nfunction* run(value, struct, options = {}) {\n    const { path = [], branch = [value], coerce = false, mask = false } = options;\n    const ctx = { path, branch };\n    if (coerce) {\n        value = struct.coercer(value, ctx);\n        if (mask &&\n            struct.type !== 'type' &&\n            isObject(struct.schema) &&\n            isObject(value) &&\n            !Array.isArray(value)) {\n            for (const key in value) {\n                if (struct.schema[key] === undefined) {\n                    delete value[key];\n                }\n            }\n        }\n    }\n    let status = 'valid';\n    for (const failure of struct.validator(value, ctx)) {\n        failure.explanation = options.message;\n        status = 'not_valid';\n        yield [failure, undefined];\n    }\n    for (let [k, v, s] of struct.entries(value, ctx)) {\n        const ts = run(v, s, {\n            path: k === undefined ? path : [...path, k],\n            branch: k === undefined ? branch : [...branch, v],\n            coerce,\n            mask,\n            message: options.message,\n        });\n        for (const t of ts) {\n            if (t[0]) {\n                status = t[0].refinement != null ? 'not_refined' : 'not_valid';\n                yield [t[0], undefined];\n            }\n            else if (coerce) {\n                v = t[1];\n                if (k === undefined) {\n                    value = v;\n                }\n                else if (value instanceof Map) {\n                    value.set(k, v);\n                }\n                else if (value instanceof Set) {\n                    value.add(v);\n                }\n                else if (isObject(value)) {\n                    if (v !== undefined || k in value)\n                        value[k] = v;\n                }\n            }\n        }\n    }\n    if (status !== 'not_valid') {\n        for (const failure of struct.refiner(value, ctx)) {\n            failure.explanation = options.message;\n            status = 'not_refined';\n            yield [failure, undefined];\n        }\n    }\n    if (status === 'valid') {\n        yield [undefined, value];\n    }\n}\n\n/**\n * `Struct` objects encapsulate the validation logic for a specific type of\n * values. Once constructed, you use the `assert`, `is` or `validate` helpers to\n * validate unknown input data against the struct.\n */\nclass Struct {\n    constructor(props) {\n        const { type, schema, validator, refiner, coercer = (value) => value, entries = function* () { }, } = props;\n        this.type = type;\n        this.schema = schema;\n        this.entries = entries;\n        this.coercer = coercer;\n        if (validator) {\n            this.validator = (value, context) => {\n                const result = validator(value, context);\n                return toFailures(result, context, this, value);\n            };\n        }\n        else {\n            this.validator = () => [];\n        }\n        if (refiner) {\n            this.refiner = (value, context) => {\n                const result = refiner(value, context);\n                return toFailures(result, context, this, value);\n            };\n        }\n        else {\n            this.refiner = () => [];\n        }\n    }\n    /**\n     * Assert that a value passes the struct's validation, throwing if it doesn't.\n     */\n    assert(value, message) {\n        return assert(value, this, message);\n    }\n    /**\n     * Create a value with the struct's coercion logic, then validate it.\n     */\n    create(value, message) {\n        return create(value, this, message);\n    }\n    /**\n     * Check if a value passes the struct's validation.\n     */\n    is(value) {\n        return is(value, this);\n    }\n    /**\n     * Mask a value, coercing and validating it, but returning only the subset of\n     * properties defined by the struct's schema.\n     */\n    mask(value, message) {\n        return mask(value, this, message);\n    }\n    /**\n     * Validate a value with the struct's validation logic, returning a tuple\n     * representing the result.\n     *\n     * You may optionally pass `true` for the `withCoercion` argument to coerce\n     * the value before attempting to validate it. If you do, the result will\n     * contain the coerced result when successful.\n     */\n    validate(value, options = {}) {\n        return validate(value, this, options);\n    }\n}\n/**\n * Assert that a value passes a struct, throwing if it doesn't.\n */\nfunction assert(value, struct, message) {\n    const result = validate(value, struct, { message });\n    if (result[0]) {\n        throw result[0];\n    }\n}\n/**\n * Create a value with the coercion logic of struct and validate it.\n */\nfunction create(value, struct, message) {\n    const result = validate(value, struct, { coerce: true, message });\n    if (result[0]) {\n        throw result[0];\n    }\n    else {\n        return result[1];\n    }\n}\n/**\n * Mask a value, returning only the subset of properties defined by a struct.\n */\nfunction mask(value, struct, message) {\n    const result = validate(value, struct, { coerce: true, mask: true, message });\n    if (result[0]) {\n        throw result[0];\n    }\n    else {\n        return result[1];\n    }\n}\n/**\n * Check if a value passes a struct.\n */\nfunction is(value, struct) {\n    const result = validate(value, struct);\n    return !result[0];\n}\n/**\n * Validate a value against a struct, returning an error if invalid, or the\n * value (with potential coercion) if valid.\n */\nfunction validate(value, struct, options = {}) {\n    const tuples = run(value, struct, options);\n    const tuple = shiftIterator(tuples);\n    if (tuple[0]) {\n        const error = new StructError(tuple[0], function* () {\n            for (const t of tuples) {\n                if (t[0]) {\n                    yield t[0];\n                }\n            }\n        });\n        return [error, undefined];\n    }\n    else {\n        const v = tuple[1];\n        return [undefined, v];\n    }\n}\n\nfunction assign(...Structs) {\n    const isType = Structs[0].type === 'type';\n    const schemas = Structs.map((s) => s.schema);\n    const schema = Object.assign({}, ...schemas);\n    return isType ? type(schema) : object(schema);\n}\n/**\n * Define a new struct type with a custom validation function.\n */\nfunction define(name, validator) {\n    return new Struct({ type: name, schema: null, validator });\n}\n/**\n * Create a new struct based on an existing struct, but the value is allowed to\n * be `undefined`. `log` will be called if the value is not `undefined`.\n */\nfunction deprecated(struct, log) {\n    return new Struct({\n        ...struct,\n        refiner: (value, ctx) => value === undefined || struct.refiner(value, ctx),\n        validator(value, ctx) {\n            if (value === undefined) {\n                return true;\n            }\n            else {\n                log(value, ctx);\n                return struct.validator(value, ctx);\n            }\n        },\n    });\n}\n/**\n * Create a struct with dynamic validation logic.\n *\n * The callback will receive the value currently being validated, and must\n * return a struct object to validate it with. This can be useful to model\n * validation logic that changes based on its input.\n */\nfunction dynamic(fn) {\n    return new Struct({\n        type: 'dynamic',\n        schema: null,\n        *entries(value, ctx) {\n            const struct = fn(value, ctx);\n            yield* struct.entries(value, ctx);\n        },\n        validator(value, ctx) {\n            const struct = fn(value, ctx);\n            return struct.validator(value, ctx);\n        },\n        coercer(value, ctx) {\n            const struct = fn(value, ctx);\n            return struct.coercer(value, ctx);\n        },\n        refiner(value, ctx) {\n            const struct = fn(value, ctx);\n            return struct.refiner(value, ctx);\n        },\n    });\n}\n/**\n * Create a struct with lazily evaluated validation logic.\n *\n * The first time validation is run with the struct, the callback will be called\n * and must return a struct object to use. This is useful for cases where you\n * want to have self-referential structs for nested data structures to avoid a\n * circular definition problem.\n */\nfunction lazy(fn) {\n    let struct;\n    return new Struct({\n        type: 'lazy',\n        schema: null,\n        *entries(value, ctx) {\n            struct ?? (struct = fn());\n            yield* struct.entries(value, ctx);\n        },\n        validator(value, ctx) {\n            struct ?? (struct = fn());\n            return struct.validator(value, ctx);\n        },\n        coercer(value, ctx) {\n            struct ?? (struct = fn());\n            return struct.coercer(value, ctx);\n        },\n        refiner(value, ctx) {\n            struct ?? (struct = fn());\n            return struct.refiner(value, ctx);\n        },\n    });\n}\n/**\n * Create a new struct based on an existing object struct, but excluding\n * specific properties.\n *\n * Like TypeScript's `Omit` utility.\n */\nfunction omit(struct, keys) {\n    const { schema } = struct;\n    const subschema = { ...schema };\n    for (const key of keys) {\n        delete subschema[key];\n    }\n    switch (struct.type) {\n        case 'type':\n            return type(subschema);\n        default:\n            return object(subschema);\n    }\n}\n/**\n * Create a new struct based on an existing object struct, but with all of its\n * properties allowed to be `undefined`.\n *\n * Like TypeScript's `Partial` utility.\n */\nfunction partial(struct) {\n    const schema = struct instanceof Struct ? { ...struct.schema } : { ...struct };\n    for (const key in schema) {\n        schema[key] = optional(schema[key]);\n    }\n    return object(schema);\n}\n/**\n * Create a new struct based on an existing object struct, but only including\n * specific properties.\n *\n * Like TypeScript's `Pick` utility.\n */\nfunction pick(struct, keys) {\n    const { schema } = struct;\n    const subschema = {};\n    for (const key of keys) {\n        subschema[key] = schema[key];\n    }\n    return object(subschema);\n}\n/**\n * Define a new struct type with a custom validation function.\n *\n * @deprecated This function has been renamed to `define`.\n */\nfunction struct(name, validator) {\n    console.warn('superstruct@0.11 - The `struct` helper has been renamed to `define`.');\n    return define(name, validator);\n}\n\n/**\n * Ensure that any value passes validation.\n */\nfunction any() {\n    return define('any', () => true);\n}\nfunction array(Element) {\n    return new Struct({\n        type: 'array',\n        schema: Element,\n        *entries(value) {\n            if (Element && Array.isArray(value)) {\n                for (const [i, v] of value.entries()) {\n                    yield [i, v, Element];\n                }\n            }\n        },\n        coercer(value) {\n            return Array.isArray(value) ? value.slice() : value;\n        },\n        validator(value) {\n            return (Array.isArray(value) ||\n                `Expected an array value, but received: ${print(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value is a bigint.\n */\nfunction bigint() {\n    return define('bigint', (value) => {\n        return typeof value === 'bigint';\n    });\n}\n/**\n * Ensure that a value is a boolean.\n */\nfunction boolean() {\n    return define('boolean', (value) => {\n        return typeof value === 'boolean';\n    });\n}\n/**\n * Ensure that a value is a valid `Date`.\n *\n * Note: this also ensures that the value is *not* an invalid `Date` object,\n * which can occur when parsing a date fails but still returns a `Date`.\n */\nfunction date() {\n    return define('date', (value) => {\n        return ((value instanceof Date && !isNaN(value.getTime())) ||\n            `Expected a valid \\`Date\\` object, but received: ${print(value)}`);\n    });\n}\nfunction enums(values) {\n    const schema = {};\n    const description = values.map((v) => print(v)).join();\n    for (const key of values) {\n        schema[key] = key;\n    }\n    return new Struct({\n        type: 'enums',\n        schema,\n        validator(value) {\n            return (values.includes(value) ||\n                `Expected one of \\`${description}\\`, but received: ${print(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value is a function.\n */\nfunction func() {\n    return define('func', (value) => {\n        return (typeof value === 'function' ||\n            `Expected a function, but received: ${print(value)}`);\n    });\n}\n/**\n * Ensure that a value is an instance of a specific class.\n */\nfunction instance(Class) {\n    return define('instance', (value) => {\n        return (value instanceof Class ||\n            `Expected a \\`${Class.name}\\` instance, but received: ${print(value)}`);\n    });\n}\n/**\n * Ensure that a value is an integer.\n */\nfunction integer() {\n    return define('integer', (value) => {\n        return ((typeof value === 'number' && !isNaN(value) && Number.isInteger(value)) ||\n            `Expected an integer, but received: ${print(value)}`);\n    });\n}\n/**\n * Ensure that a value matches all of a set of types.\n */\nfunction intersection(Structs) {\n    return new Struct({\n        type: 'intersection',\n        schema: null,\n        *entries(value, ctx) {\n            for (const S of Structs) {\n                yield* S.entries(value, ctx);\n            }\n        },\n        *validator(value, ctx) {\n            for (const S of Structs) {\n                yield* S.validator(value, ctx);\n            }\n        },\n        *refiner(value, ctx) {\n            for (const S of Structs) {\n                yield* S.refiner(value, ctx);\n            }\n        },\n    });\n}\nfunction literal(constant) {\n    const description = print(constant);\n    const t = typeof constant;\n    return new Struct({\n        type: 'literal',\n        schema: t === 'string' || t === 'number' || t === 'boolean' ? constant : null,\n        validator(value) {\n            return (value === constant ||\n                `Expected the literal \\`${description}\\`, but received: ${print(value)}`);\n        },\n    });\n}\nfunction map(Key, Value) {\n    return new Struct({\n        type: 'map',\n        schema: null,\n        *entries(value) {\n            if (Key && Value && value instanceof Map) {\n                for (const [k, v] of value.entries()) {\n                    yield [k, k, Key];\n                    yield [k, v, Value];\n                }\n            }\n        },\n        coercer(value) {\n            return value instanceof Map ? new Map(value) : value;\n        },\n        validator(value) {\n            return (value instanceof Map ||\n                `Expected a \\`Map\\` object, but received: ${print(value)}`);\n        },\n    });\n}\n/**\n * Ensure that no value ever passes validation.\n */\nfunction never() {\n    return define('never', () => false);\n}\n/**\n * Augment an existing struct to allow `null` values.\n */\nfunction nullable(struct) {\n    return new Struct({\n        ...struct,\n        validator: (value, ctx) => value === null || struct.validator(value, ctx),\n        refiner: (value, ctx) => value === null || struct.refiner(value, ctx),\n    });\n}\n/**\n * Ensure that a value is a number.\n */\nfunction number() {\n    return define('number', (value) => {\n        return ((typeof value === 'number' && !isNaN(value)) ||\n            `Expected a number, but received: ${print(value)}`);\n    });\n}\nfunction object(schema) {\n    const knowns = schema ? Object.keys(schema) : [];\n    const Never = never();\n    return new Struct({\n        type: 'object',\n        schema: schema ? schema : null,\n        *entries(value) {\n            if (schema && isObject(value)) {\n                const unknowns = new Set(Object.keys(value));\n                for (const key of knowns) {\n                    unknowns.delete(key);\n                    yield [key, value[key], schema[key]];\n                }\n                for (const key of unknowns) {\n                    yield [key, value[key], Never];\n                }\n            }\n        },\n        validator(value) {\n            return (isObject(value) || `Expected an object, but received: ${print(value)}`);\n        },\n        coercer(value) {\n            return isObject(value) ? { ...value } : value;\n        },\n    });\n}\n/**\n * Augment a struct to allow `undefined` values.\n */\nfunction optional(struct) {\n    return new Struct({\n        ...struct,\n        validator: (value, ctx) => value === undefined || struct.validator(value, ctx),\n        refiner: (value, ctx) => value === undefined || struct.refiner(value, ctx),\n    });\n}\n/**\n * Ensure that a value is an object with keys and values of specific types, but\n * without ensuring any specific shape of properties.\n *\n * Like TypeScript's `Record` utility.\n */\nfunction record(Key, Value) {\n    return new Struct({\n        type: 'record',\n        schema: null,\n        *entries(value) {\n            if (isObject(value)) {\n                for (const k in value) {\n                    const v = value[k];\n                    yield [k, k, Key];\n                    yield [k, v, Value];\n                }\n            }\n        },\n        validator(value) {\n            return (isObject(value) || `Expected an object, but received: ${print(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value is a `RegExp`.\n *\n * Note: this does not test the value against the regular expression! For that\n * you need to use the `pattern()` refinement.\n */\nfunction regexp() {\n    return define('regexp', (value) => {\n        return value instanceof RegExp;\n    });\n}\nfunction set(Element) {\n    return new Struct({\n        type: 'set',\n        schema: null,\n        *entries(value) {\n            if (Element && value instanceof Set) {\n                for (const v of value) {\n                    yield [v, v, Element];\n                }\n            }\n        },\n        coercer(value) {\n            return value instanceof Set ? new Set(value) : value;\n        },\n        validator(value) {\n            return (value instanceof Set ||\n                `Expected a \\`Set\\` object, but received: ${print(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value is a string.\n */\nfunction string() {\n    return define('string', (value) => {\n        return (typeof value === 'string' ||\n            `Expected a string, but received: ${print(value)}`);\n    });\n}\n/**\n * Ensure that a value is a tuple of a specific length, and that each of its\n * elements is of a specific type.\n */\nfunction tuple(Structs) {\n    const Never = never();\n    return new Struct({\n        type: 'tuple',\n        schema: null,\n        *entries(value) {\n            if (Array.isArray(value)) {\n                const length = Math.max(Structs.length, value.length);\n                for (let i = 0; i < length; i++) {\n                    yield [i, value[i], Structs[i] || Never];\n                }\n            }\n        },\n        validator(value) {\n            return (Array.isArray(value) ||\n                `Expected an array, but received: ${print(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value has a set of known properties of specific types.\n *\n * Note: Unrecognized properties are allowed and untouched. This is similar to\n * how TypeScript's structural typing works.\n */\nfunction type(schema) {\n    const keys = Object.keys(schema);\n    return new Struct({\n        type: 'type',\n        schema,\n        *entries(value) {\n            if (isObject(value)) {\n                for (const k of keys) {\n                    yield [k, value[k], schema[k]];\n                }\n            }\n        },\n        validator(value) {\n            return (isObject(value) || `Expected an object, but received: ${print(value)}`);\n        },\n        coercer(value) {\n            return isObject(value) ? { ...value } : value;\n        },\n    });\n}\n/**\n * Ensure that a value matches one of a set of types.\n */\nfunction union(Structs) {\n    const description = Structs.map((s) => s.type).join(' | ');\n    return new Struct({\n        type: 'union',\n        schema: null,\n        coercer(value) {\n            for (const S of Structs) {\n                const [error, coerced] = S.validate(value, { coerce: true });\n                if (!error) {\n                    return coerced;\n                }\n            }\n            return value;\n        },\n        validator(value, ctx) {\n            const failures = [];\n            for (const S of Structs) {\n                const [...tuples] = run(value, S, ctx);\n                const [first] = tuples;\n                if (!first[0]) {\n                    return [];\n                }\n                else {\n                    for (const [failure] of tuples) {\n                        if (failure) {\n                            failures.push(failure);\n                        }\n                    }\n                }\n            }\n            return [\n                `Expected the value to satisfy a union of \\`${description}\\`, but received: ${print(value)}`,\n                ...failures,\n            ];\n        },\n    });\n}\n/**\n * Ensure that any value passes validation, without widening its type to `any`.\n */\nfunction unknown() {\n    return define('unknown', () => true);\n}\n\n/**\n * Augment a `Struct` to add an additional coercion step to its input.\n *\n * This allows you to transform input data before validating it, to increase the\n * likelihood that it passes validationfor example for default values, parsing\n * different formats, etc.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n */\nfunction coerce(struct, condition, coercer) {\n    return new Struct({\n        ...struct,\n        coercer: (value, ctx) => {\n            return is(value, condition)\n                ? struct.coercer(coercer(value, ctx), ctx)\n                : struct.coercer(value, ctx);\n        },\n    });\n}\n/**\n * Augment a struct to replace `undefined` values with a default.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n */\nfunction defaulted(struct, fallback, options = {}) {\n    return coerce(struct, unknown(), (x) => {\n        const f = typeof fallback === 'function' ? fallback() : fallback;\n        if (x === undefined) {\n            return f;\n        }\n        if (!options.strict && isPlainObject(x) && isPlainObject(f)) {\n            const ret = { ...x };\n            let changed = false;\n            for (const key in f) {\n                if (ret[key] === undefined) {\n                    ret[key] = f[key];\n                    changed = true;\n                }\n            }\n            if (changed) {\n                return ret;\n            }\n        }\n        return x;\n    });\n}\n/**\n * Augment a struct to trim string inputs.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n */\nfunction trimmed(struct) {\n    return coerce(struct, string(), (x) => x.trim());\n}\n\n/**\n * Ensure that a string, array, map, or set is empty.\n */\nfunction empty(struct) {\n    return refine(struct, 'empty', (value) => {\n        const size = getSize(value);\n        return (size === 0 ||\n            `Expected an empty ${struct.type} but received one with a size of \\`${size}\\``);\n    });\n}\nfunction getSize(value) {\n    if (value instanceof Map || value instanceof Set) {\n        return value.size;\n    }\n    else {\n        return value.length;\n    }\n}\n/**\n * Ensure that a number or date is below a threshold.\n */\nfunction max(struct, threshold, options = {}) {\n    const { exclusive } = options;\n    return refine(struct, 'max', (value) => {\n        return exclusive\n            ? value < threshold\n            : value <= threshold ||\n                `Expected a ${struct.type} less than ${exclusive ? '' : 'or equal to '}${threshold} but received \\`${value}\\``;\n    });\n}\n/**\n * Ensure that a number or date is above a threshold.\n */\nfunction min(struct, threshold, options = {}) {\n    const { exclusive } = options;\n    return refine(struct, 'min', (value) => {\n        return exclusive\n            ? value > threshold\n            : value >= threshold ||\n                `Expected a ${struct.type} greater than ${exclusive ? '' : 'or equal to '}${threshold} but received \\`${value}\\``;\n    });\n}\n/**\n * Ensure that a string, array, map or set is not empty.\n */\nfunction nonempty(struct) {\n    return refine(struct, 'nonempty', (value) => {\n        const size = getSize(value);\n        return (size > 0 || `Expected a nonempty ${struct.type} but received an empty one`);\n    });\n}\n/**\n * Ensure that a string matches a regular expression.\n */\nfunction pattern(struct, regexp) {\n    return refine(struct, 'pattern', (value) => {\n        return (regexp.test(value) ||\n            `Expected a ${struct.type} matching \\`/${regexp.source}/\\` but received \"${value}\"`);\n    });\n}\n/**\n * Ensure that a string, array, number, date, map, or set has a size (or length, or time) between `min` and `max`.\n */\nfunction size(struct, min, max = min) {\n    const expected = `Expected a ${struct.type}`;\n    const of = min === max ? `of \\`${min}\\`` : `between \\`${min}\\` and \\`${max}\\``;\n    return refine(struct, 'size', (value) => {\n        if (typeof value === 'number' || value instanceof Date) {\n            return ((min <= value && value <= max) ||\n                `${expected} ${of} but received \\`${value}\\``);\n        }\n        else if (value instanceof Map || value instanceof Set) {\n            const { size } = value;\n            return ((min <= size && size <= max) ||\n                `${expected} with a size ${of} but received one with a size of \\`${size}\\``);\n        }\n        else {\n            const { length } = value;\n            return ((min <= length && length <= max) ||\n                `${expected} with a length ${of} but received one with a length of \\`${length}\\``);\n        }\n    });\n}\n/**\n * Augment a `Struct` to add an additional refinement to the validation.\n *\n * The refiner function is guaranteed to receive a value of the struct's type,\n * because the struct's existing validation will already have passed. This\n * allows you to layer additional validation on top of existing structs.\n */\nfunction refine(struct, name, refiner) {\n    return new Struct({\n        ...struct,\n        *refiner(value, ctx) {\n            yield* struct.refiner(value, ctx);\n            const result = refiner(value, ctx);\n            const failures = toFailures(result, ctx, struct, value);\n            for (const failure of failures) {\n                yield { ...failure, refinement: name };\n            }\n        },\n    });\n}\n\nexport { Struct, StructError, any, array, assert, assign, bigint, boolean, coerce, create, date, defaulted, define, deprecated, dynamic, empty, enums, func, instance, integer, intersection, is, lazy, literal, map, mask, max, min, never, nonempty, nullable, number, object, omit, optional, partial, pattern, pick, record, refine, regexp, set, size, string, struct, trimmed, tuple, type, union, unknown, validate };\n//# sourceMappingURL=index.mjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport merge from 'lodash.merge';\nimport logLevel, { levels } from 'loglevel';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nconst log = logLevel.getLogger(\"http-helpers\");\nlog.setLevel(levels.INFO);\nlet apiKey = \"torus-default\";\nlet embedHost = \"\";\n// #region API Keys\nconst gatewayAuthHeader = \"x-api-key\";\nconst gatewayEmbedHostHeader = \"x-embed-host\";\nlet sentry = null;\nconst tracingOrigins = [];\nconst tracingPaths = [];\nfunction enableSentryTracing(_sentry, _tracingOrigins, _tracingPaths) {\n  sentry = _sentry;\n  tracingOrigins.push(..._tracingOrigins);\n  tracingPaths.push(..._tracingPaths);\n}\nfunction setEmbedHost(embedHost_) {\n  embedHost = embedHost_;\n}\nfunction clearEmbedHost() {\n  embedHost = \"\";\n}\nfunction getEmbedHost() {\n  return embedHost;\n}\nfunction setAPIKey(apiKey_) {\n  apiKey = apiKey_;\n}\nfunction clearAPIKey() {\n  apiKey = \"torus-default\";\n}\nfunction getAPIKey() {\n  return apiKey;\n}\n// #endregion\nfunction setLogLevel(level) {\n  log.setLevel(level);\n}\nasync function fetchAndTrace(url, init) {\n  let _url = null;\n  try {\n    _url = new URL(url);\n  } catch (error) {}\n  if (sentry && _url && (tracingOrigins.includes(_url.origin) || tracingPaths.includes(_url.pathname))) {\n    const transaction = sentry.startTransaction({\n      name: url\n    });\n    const span = transaction.startChild({\n      op: \"http\"\n    }); // This function returns a Span\n    const response = await fetch(url, init);\n    span.finish(); // Remember that only finished spans will be sent with the transaction\n    transaction.finish(); // Finishing the transaction will send it to Sentry\n    return response;\n  }\n  return fetch(url, init);\n}\nfunction getApiKeyHeaders() {\n  const headers = {};\n  if (apiKey) headers[gatewayAuthHeader] = apiKey;\n  if (embedHost) headers[gatewayEmbedHostHeader] = embedHost;\n  return headers;\n}\nfunction debugLogResponse(response) {\n  log.info(`Response: ${response.status} ${response.statusText}`);\n  log.info(`Url: ${response.url}`);\n}\nfunction logTracingHeader(response) {\n  log.info(`Request tracing with traceID=${response.headers.get(\"x-web3-correlation-id\")}`);\n}\nconst promiseTimeout = (ms, promise) => {\n  const timeout = new Promise((resolve, reject) => {\n    const id = setTimeout(() => {\n      clearTimeout(id);\n      reject(new Error(`Timed out in ${ms}ms`));\n    }, ms);\n  });\n  return Promise.race([promise, timeout]);\n};\nconst get = async function (url) {\n  let options_ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let customOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {}\n  };\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _objectSpread(_objectSpread({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  const options = merge(defaultOptions, options_, {\n    method: \"GET\"\n  });\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    return response.json();\n  }\n  debugLogResponse(response);\n  throw response;\n};\nconst post = function (url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  };\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _objectSpread(_objectSpread({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  const options = merge(defaultOptions, options_, {\n    method: \"POST\"\n  });\n  // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  return promiseTimeout(customOptions.timeout || 60000, fetchAndTrace(url, options).then(response => {\n    if (customOptions.logTracingHeader) {\n      logTracingHeader(response);\n    }\n    if (response.ok) {\n      return response.json();\n    }\n    debugLogResponse(response);\n    throw response;\n  }));\n};\nconst patch = async function (url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  };\n  // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _objectSpread(_objectSpread({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  const options = merge(defaultOptions, options_, {\n    method: \"PATCH\"\n  });\n  // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    return response.json();\n  }\n  debugLogResponse(response);\n  throw response;\n};\nconst put = async function (url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  };\n  // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _objectSpread(_objectSpread({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  const options = merge(defaultOptions, options_, {\n    method: \"PUT\"\n  });\n  // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    return response.json();\n  }\n  debugLogResponse(response);\n  throw response;\n};\nconst remove = async function (url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  };\n  // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _objectSpread(_objectSpread({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  const options = merge(defaultOptions, options_, {\n    method: \"DELETE\"\n  });\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    return response.json();\n  }\n  debugLogResponse(response);\n  throw response;\n};\nconst generateJsonRPCObject = (method, parameters) => ({\n  jsonrpc: \"2.0\",\n  method,\n  id: 10,\n  params: parameters\n});\nconst promiseRace = function (url, options) {\n  let timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60000;\n  return Promise.race([get(url, options), new Promise((resolve, reject) => {\n    setTimeout(() => {\n      reject(new Error(\"timed out\"));\n    }, timeout);\n  })]);\n};\n\nexport { clearAPIKey, clearEmbedHost, enableSentryTracing, gatewayAuthHeader, gatewayEmbedHostHeader, generateJsonRPCObject, get, getAPIKey, getEmbedHost, patch, post, promiseRace, promiseTimeout, put, remove, setAPIKey, setEmbedHost, setLogLevel };\n//# sourceMappingURL=httpHelpers.esm.js.map\n","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { Duplex } from 'readable-stream';\nimport { EventEmitter } from 'events';\nimport stringify from 'fast-safe-stringify';\nimport { serializeError, rpcErrors } from '@metamask/rpc-errors';\nimport eos from 'end-of-stream';\nimport once from 'once';\nimport pump from 'pump';\n\nfunction noop() {\n  return undefined;\n}\nconst SYN = \"SYN\";\nconst ACK = \"ACK\";\nconst BRK = \"BRK\";\nclass BasePostMessageStream extends Duplex {\n  constructor(_ref) {\n    let {\n      name,\n      target,\n      targetWindow = window,\n      targetOrigin = \"*\"\n    } = _ref;\n    super({\n      objectMode: true\n    });\n    _defineProperty(this, \"_init\", void 0);\n    _defineProperty(this, \"_haveSyn\", void 0);\n    _defineProperty(this, \"_name\", void 0);\n    _defineProperty(this, \"_target\", void 0);\n    _defineProperty(this, \"_targetWindow\", void 0);\n    _defineProperty(this, \"_targetOrigin\", void 0);\n    _defineProperty(this, \"_onMessage\", void 0);\n    _defineProperty(this, \"_synIntervalId\", void 0);\n    if (!name || !target) {\n      throw new Error(\"Invalid input.\");\n    }\n    this._init = false;\n    this._haveSyn = false;\n    this._name = name;\n    this._target = target; // target origin\n    this._targetWindow = targetWindow;\n    this._targetOrigin = targetOrigin;\n    this._onMessage = this.onMessage.bind(this);\n    this._synIntervalId = null;\n    window.addEventListener(\"message\", this._onMessage, false);\n    this._handShake();\n  }\n  _break() {\n    this.cork();\n    this._write(BRK, null, noop);\n    this._haveSyn = false;\n    this._init = false;\n  }\n  _handShake() {\n    this._write(SYN, null, noop);\n    this.cork();\n  }\n  _onData(data) {\n    if (!this._init) {\n      // listen for handshake\n      if (data === SYN) {\n        this._haveSyn = true;\n        this._write(ACK, null, noop);\n      } else if (data === ACK) {\n        this._init = true;\n        if (!this._haveSyn) {\n          this._write(ACK, null, noop);\n        }\n        this.uncork();\n      }\n    } else if (data === BRK) {\n      this._break();\n    } else {\n      // forward message\n      try {\n        this.push(data);\n      } catch (err) {\n        this.emit(\"error\", err);\n      }\n    }\n  }\n  _postMessage(data) {\n    const originConstraint = this._targetOrigin;\n    this._targetWindow.postMessage({\n      target: this._target,\n      data\n    }, originConstraint);\n  }\n  onMessage(event) {\n    const message = event.data;\n    // validate message\n    if (this._targetOrigin !== \"*\" && event.origin !== this._targetOrigin || event.source !== this._targetWindow || typeof message !== \"object\" || message.target !== this._name || !message.data) {\n      return;\n    }\n    this._onData(message.data);\n  }\n  _read() {\n    return undefined;\n  }\n  _write(data, _, cb) {\n    this._postMessage(data);\n    cb();\n  }\n  _destroy() {\n    window.removeEventListener(\"message\", this._onMessage, false);\n  }\n}\n\nfunction safeApply(handler, context, args) {\n  try {\n    Reflect.apply(handler, context, args);\n  } catch (err) {\n    // Throw error after timeout so as not to interrupt the stack\n    setTimeout(() => {\n      throw err;\n    });\n  }\n}\nfunction arrayClone(arr) {\n  const n = arr.length;\n  const copy = new Array(n);\n  for (let i = 0; i < n; i += 1) {\n    copy[i] = arr[i];\n  }\n  return copy;\n}\nclass SafeEventEmitter extends EventEmitter {\n  emit(type) {\n    let doError = type === \"error\";\n    const events = this._events;\n    if (events !== undefined) {\n      doError = doError && events.error === undefined;\n    } else if (!doError) {\n      return false;\n    }\n    // If there is no 'error' event listener then throw.\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (doError) {\n      let er;\n      if (args.length > 0) {\n        [er] = args;\n      }\n      if (er instanceof Error) {\n        // Note: The comments on the `throw` lines are intentional, they show\n        // up in Node's output if this results in an unhandled exception.\n        throw er; // Unhandled 'error' event\n      }\n      // At least give some kind of context to the user\n      const err = new Error(`Unhandled error.${er ? ` (${er.message})` : \"\"}`);\n      err.context = er;\n      throw err; // Unhandled 'error' event\n    }\n\n    const handler = events[type];\n    if (handler === undefined) {\n      return false;\n    }\n    if (typeof handler === \"function\") {\n      safeApply(handler, this, args);\n    } else {\n      const len = handler.length;\n      const listeners = arrayClone(handler);\n      for (let i = 0; i < len; i += 1) {\n        safeApply(listeners[i], this, args);\n      }\n    }\n    return true;\n  }\n}\n\nclass SerializableError extends Error {\n  constructor(_ref) {\n    let {\n      code,\n      message,\n      data\n    } = _ref;\n    if (!Number.isInteger(code)) {\n      throw new Error(\"code must be an integer\");\n    }\n    if (!message || typeof message !== \"string\") {\n      throw new Error(\"message must be string\");\n    }\n    super(message);\n    _defineProperty(this, \"code\", void 0);\n    _defineProperty(this, \"data\", void 0);\n    this.code = code;\n    if (data !== undefined) {\n      this.data = data;\n    }\n  }\n  toString() {\n    return stringify({\n      code: this.code,\n      message: this.message,\n      data: this.data,\n      stack: this.stack\n    });\n  }\n}\n\nconst getRpcPromiseCallback = function (resolve, reject) {\n  let unwrapResult = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  return (error, response) => {\n    if (error || response.error) {\n      reject(error || response.error);\n    } else if (!unwrapResult || Array.isArray(response)) {\n      resolve(response);\n    } else {\n      resolve(response.result);\n    }\n  };\n};\nfunction createErrorMiddleware(log) {\n  return (req, res, next, end) => {\n    try {\n      // json-rpc-engine will terminate the request when it notices this error\n      if (typeof req.method !== \"string\" || !req.method) {\n        res.error = new SerializableError({\n          code: -32603,\n          message: \"invalid method\"\n        });\n        end();\n        return;\n      }\n      next(done => {\n        const {\n          error\n        } = res;\n        if (!error) {\n          return done();\n        }\n        log.error(`OpenLogin - RPC Error: ${error.message}`, error);\n        return done();\n      });\n    } catch (error) {\n      log.error(`OpenLogin - RPC Error thrown: ${error.message}`, error);\n      res.error = new SerializableError({\n        code: -32603,\n        message: error.message\n      });\n      end();\n    }\n  };\n}\nfunction createStreamMiddleware() {\n  const idMap = {};\n  function readNoop() {\n    return false;\n  }\n  const events = new SafeEventEmitter();\n  function processResponse(res) {\n    const context = idMap[res.id];\n    if (!context) {\n      throw new Error(`StreamMiddleware - Unknown response id \"${res.id}\"`);\n    }\n    delete idMap[res.id];\n    // copy whole res onto original res\n    Object.assign(context.res, res);\n    // run callback on empty stack,\n    // prevent internal stream-handler from catching errors\n    setTimeout(context.end);\n  }\n  function processNotification(res) {\n    events.emit(\"notification\", res);\n  }\n  function processMessage(res, _encoding, cb) {\n    let err;\n    try {\n      const isNotification = !res.id;\n      if (isNotification) {\n        processNotification(res);\n      } else {\n        processResponse(res);\n      }\n    } catch (_err) {\n      err = _err;\n    }\n    // continue processing stream\n    cb(err);\n  }\n  const stream = new Duplex({\n    objectMode: true,\n    read: readNoop,\n    write: processMessage\n  });\n  const middleware = (req, res, next, end) => {\n    // write req to stream\n    stream.push(req);\n    // register request on id map\n    idMap[req.id] = {\n      req,\n      res,\n      next,\n      end\n    };\n  };\n  return {\n    events,\n    middleware,\n    stream\n  };\n}\nfunction createScaffoldMiddleware(handlers) {\n  return (req, res, next, end) => {\n    const handler = handlers[req.method];\n    // if no handler, return\n    if (handler === undefined) {\n      return next();\n    }\n    // if handler is fn, call as middleware\n    if (typeof handler === \"function\") {\n      return handler(req, res, next, end);\n    }\n    // if handler is some other value, use as result\n    res.result = handler;\n    return end();\n  };\n}\nfunction createIdRemapMiddleware() {\n  return (req, res, next, _end) => {\n    const originalId = req.id;\n    const newId = Math.random().toString(36).slice(2);\n    req.id = newId;\n    res.id = newId;\n    next(done => {\n      req.id = originalId;\n      res.id = originalId;\n      done();\n    });\n  };\n}\nfunction createLoggerMiddleware(logger) {\n  return (req, res, next, _) => {\n    logger.debug(\"REQ\", req, \"RES\", res);\n    next();\n  };\n}\nfunction createAsyncMiddleware(asyncMiddleware) {\n  return async (req, res, next, end) => {\n    // nextPromise is the key to the implementation\n    // it is resolved by the return handler passed to the\n    // \"next\" function\n    let resolveNextPromise;\n    const nextPromise = new Promise(resolve => {\n      resolveNextPromise = resolve;\n    });\n    let returnHandlerCallback = null;\n    let nextWasCalled = false;\n    // This will be called by the consumer's async middleware.\n    const asyncNext = async () => {\n      nextWasCalled = true;\n      // We pass a return handler to next(). When it is called by the engine,\n      // the consumer's async middleware will resume executing.\n      next(runReturnHandlersCallback => {\n        // This callback comes from JRPCEngine._runReturnHandlers\n        returnHandlerCallback = runReturnHandlersCallback;\n        resolveNextPromise();\n      });\n      await nextPromise;\n    };\n    try {\n      await asyncMiddleware(req, res, asyncNext);\n      if (nextWasCalled) {\n        await nextPromise; // we must wait until the return handler is called\n        returnHandlerCallback(null);\n      } else {\n        end(null);\n      }\n    } catch (error) {\n      if (returnHandlerCallback) {\n        returnHandlerCallback(error);\n      } else {\n        end(error);\n      }\n    }\n  };\n}\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/**\n * A JSON-RPC request and response processor.\n * Give it a stack of middleware, pass it requests, and get back responses.\n */\nclass JRPCEngine extends SafeEventEmitter {\n  constructor() {\n    super();\n    _defineProperty(this, \"_middleware\", void 0);\n    this._middleware = [];\n  }\n  /**\n   * Serially executes the given stack of middleware.\n   *\n   * @returns An array of any error encountered during middleware execution,\n   * a boolean indicating whether the request was completed, and an array of\n   * middleware-defined return handlers.\n   */\n  static async _runAllMiddleware(req, res, middlewareStack) {\n    const returnHandlers = [];\n    let error = null;\n    let isComplete = false;\n    // Go down stack of middleware, call and collect optional returnHandlers\n    for (const middleware of middlewareStack) {\n      [error, isComplete] = await JRPCEngine._runMiddleware(req, res, middleware, returnHandlers);\n      if (isComplete) {\n        break;\n      }\n    }\n    return [error, isComplete, returnHandlers.reverse()];\n  }\n  /**\n   * Runs an individual middleware.\n   *\n   * @returns An array of any error encountered during middleware exection,\n   * and a boolean indicating whether the request should end.\n   */\n  static _runMiddleware(req, res, middleware, returnHandlers) {\n    return new Promise(resolve => {\n      const end = err => {\n        const error = err || res.error;\n        if (error) {\n          res.error = serializeError(error);\n        }\n        // True indicates that the request should end\n        resolve([error, true]);\n      };\n      const next = returnHandler => {\n        if (res.error) {\n          end(res.error);\n        } else {\n          if (returnHandler) {\n            if (typeof returnHandler !== \"function\") {\n              end(new SerializableError({\n                code: -32603,\n                message: \"JRPCEngine: 'next' return handlers must be functions\"\n              }));\n            }\n            returnHandlers.push(returnHandler);\n          }\n          // False indicates that the request should not end\n          resolve([null, false]);\n        }\n      };\n      try {\n        middleware(req, res, next, end);\n      } catch (error) {\n        end(error);\n      }\n    });\n  }\n  /**\n   * Serially executes array of return handlers. The request and response are\n   * assumed to be in their scope.\n   */\n  static async _runReturnHandlers(handlers) {\n    for (const handler of handlers) {\n      await new Promise((resolve, reject) => {\n        handler(err => err ? reject(err) : resolve());\n      });\n    }\n  }\n  /**\n   * Throws an error if the response has neither a result nor an error, or if\n   * the \"isComplete\" flag is falsy.\n   */\n  static _checkForCompletion(req, res, isComplete) {\n    if (!(\"result\" in res) && !(\"error\" in res)) {\n      throw new SerializableError({\n        code: -32603,\n        message: \"Response has no error or result for request\"\n      });\n    }\n    if (!isComplete) {\n      throw new SerializableError({\n        code: -32603,\n        message: \"Nothing ended request\"\n      });\n    }\n  }\n  /**\n   * Add a middleware function to the engine's middleware stack.\n   *\n   * @param middleware - The middleware function to add.\n   */\n  push(middleware) {\n    this._middleware.push(middleware);\n  }\n  handle(req, cb) {\n    if (cb && typeof cb !== \"function\") {\n      throw new Error('\"callback\" must be a function if provided.');\n    }\n    if (Array.isArray(req)) {\n      if (cb) {\n        return this._handleBatch(req, cb);\n      }\n      return this._handleBatch(req);\n    }\n    if (cb) {\n      return this._handle(req, cb);\n    }\n    return this._promiseHandle(req);\n  }\n  /**\n   * Returns this engine as a middleware function that can be pushed to other\n   * engines.\n   *\n   * @returns This engine as a middleware function.\n   */\n  asMiddleware() {\n    return async (req, res, next, end) => {\n      try {\n        const [middlewareError, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);\n        if (isComplete) {\n          await JRPCEngine._runReturnHandlers(returnHandlers);\n          return end(middlewareError);\n        }\n        return next(async handlerCallback => {\n          try {\n            await JRPCEngine._runReturnHandlers(returnHandlers);\n          } catch (error) {\n            return handlerCallback(error);\n          }\n          return handlerCallback();\n        });\n      } catch (error) {\n        return end(error);\n      }\n    };\n  }\n  async _handleBatch(reqs, cb) {\n    // The order here is important\n    try {\n      // 2. Wait for all requests to finish, or throw on some kind of fatal\n      // error\n      const responses = await Promise.all(\n      // 1. Begin executing each request in the order received\n      reqs.map(this._promiseHandle.bind(this)));\n      // 3. Return batch response\n      if (cb) {\n        return cb(null, responses);\n      }\n      return responses;\n    } catch (error) {\n      if (cb) {\n        return cb(error);\n      }\n      throw error;\n    }\n  }\n  /**\n   * A promise-wrapped _handle.\n   */\n  _promiseHandle(req) {\n    return new Promise(resolve => {\n      this._handle(req, (_err, res) => {\n        // There will always be a response, and it will always have any error\n        // that is caught and propagated.\n        resolve(res);\n      });\n    });\n  }\n  /**\n   * Ensures that the request object is valid, processes it, and passes any\n   * error and the response object to the given callback.\n   *\n   * Does not reject.\n   */\n  async _handle(callerReq, cb) {\n    if (!callerReq || Array.isArray(callerReq) || typeof callerReq !== \"object\") {\n      const error = new SerializableError({\n        code: -32603,\n        message: \"request must be plain object\"\n      });\n      return cb(error, {\n        id: undefined,\n        jsonrpc: \"2.0\",\n        error\n      });\n    }\n    if (typeof callerReq.method !== \"string\") {\n      const error = new SerializableError({\n        code: -32603,\n        message: \"method must be string\"\n      });\n      return cb(error, {\n        id: callerReq.id,\n        jsonrpc: \"2.0\",\n        error\n      });\n    }\n    const req = _objectSpread$1({}, callerReq);\n    const res = {\n      id: req.id,\n      jsonrpc: req.jsonrpc\n    };\n    let error = null;\n    try {\n      await this._processRequest(req, res);\n    } catch (_error) {\n      // A request handler error, a re-thrown middleware error, or something\n      // unexpected.\n      error = _error;\n    }\n    if (error) {\n      // Ensure no result is present on an errored response\n      delete res.result;\n      if (!res.error) {\n        res.error = serializeError(error);\n      }\n    }\n    return cb(error, res);\n  }\n  /**\n   * For the given request and response, runs all middleware and their return\n   * handlers, if any, and ensures that internal request processing semantics\n   * are satisfied.\n   */\n  async _processRequest(req, res) {\n    const [error, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);\n    // Throw if \"end\" was not called, or if the response has neither a result\n    // nor an error.\n    JRPCEngine._checkForCompletion(req, res, isComplete);\n    // The return handlers should run even if an error was encountered during\n    // middleware processing.\n    await JRPCEngine._runReturnHandlers(returnHandlers);\n    // Now we re-throw the middleware processing error, if any, to catch it\n    // further up the call chain.\n    if (error) {\n      throw error;\n    }\n  }\n}\nfunction mergeMiddleware(middlewareStack) {\n  const engine = new JRPCEngine();\n  middlewareStack.forEach(middleware => engine.push(middleware));\n  return engine.asMiddleware();\n}\nfunction createEngineStream(opts) {\n  if (!opts || !opts.engine) {\n    throw new Error(\"Missing engine parameter!\");\n  }\n  const {\n    engine\n  } = opts;\n  // eslint-disable-next-line prefer-const\n  let stream;\n  function read() {\n    return undefined;\n  }\n  function write(req, _encoding, cb) {\n    engine.handle(req, (_err, res) => {\n      stream.push(res);\n    });\n    cb();\n  }\n  stream = new Duplex({\n    objectMode: true,\n    read,\n    write\n  });\n  // forward notifications\n  if (engine.on) {\n    engine.on(\"notification\", message => {\n      stream.push(message);\n    });\n  }\n  return stream;\n}\nfunction providerFromEngine(engine) {\n  const provider = new SafeEventEmitter();\n  // handle both rpc send methods\n  provider.sendAsync = async req => {\n    const res = await engine.handle(req);\n    if (res.error) {\n      var _res$error, _res$error2;\n      const err = serializeError(res.error, {\n        fallbackError: {\n          message: ((_res$error = res.error) === null || _res$error === void 0 ? void 0 : _res$error.message) || res.error.toString(),\n          code: ((_res$error2 = res.error) === null || _res$error2 === void 0 ? void 0 : _res$error2.code) || -32603\n        }\n      });\n      throw rpcErrors.internal(err);\n    }\n    return res.result;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  provider.send = (req, callback) => {\n    if (typeof callback !== \"function\") {\n      throw new Error('Must provide callback to \"send\" method.');\n    }\n    engine.handle(req, callback);\n  };\n  // forward notifications\n  if (engine.on) {\n    engine.on(\"notification\", message => {\n      provider.emit(\"data\", null, message);\n    });\n  }\n  provider.request = async args => {\n    const req = _objectSpread$1(_objectSpread$1({}, args), {}, {\n      id: Math.random().toString(36).slice(2),\n      jsonrpc: \"2.0\"\n    });\n    const res = await provider.sendAsync(req);\n    return res;\n  };\n  return provider;\n}\nfunction providerFromMiddleware(middleware) {\n  const engine = new JRPCEngine();\n  engine.push(middleware);\n  const provider = providerFromEngine(engine);\n  return provider;\n}\nfunction providerAsMiddleware(provider) {\n  return async (req, res, _next, end) => {\n    // send request to provider\n    try {\n      const providerRes = await provider.sendAsync(req);\n      res.result = providerRes;\n      return end();\n    } catch (error) {\n      return end(error.message);\n    }\n  };\n}\n\nclass Substream extends Duplex {\n  constructor(_ref) {\n    let {\n      parent,\n      name\n    } = _ref;\n    super({\n      objectMode: true\n    });\n    _defineProperty(this, \"_parent\", void 0);\n    _defineProperty(this, \"_name\", void 0);\n    this._parent = parent;\n    this._name = name;\n  }\n  /**\n   * Explicitly sets read operations to a no-op.\n   */\n  _read() {\n    return undefined;\n  }\n  /**\n   * Called when data should be written to this writable stream.\n   *\n   * @param chunk - Arbitrary object to write\n   * @param encoding - Encoding to use when writing payload\n   * @param callback - Called when writing is complete or an error occurs\n   */\n  _write(chunk, _encoding, callback) {\n    this._parent.push({\n      name: this._name,\n      data: chunk\n    });\n    callback();\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nconst IGNORE_SUBSTREAM = Symbol(\"IGNORE_SUBSTREAM\");\nclass ObjectMultiplex extends Duplex {\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(_objectSpread(_objectSpread({}, opts), {}, {\n      objectMode: true\n    }));\n    _defineProperty(this, \"_substreams\", void 0);\n    _defineProperty(this, \"getStream\", void 0);\n    this._substreams = {};\n  }\n  createStream(name) {\n    // validate name\n    if (!name) {\n      throw new Error(\"ObjectMultiplex - name must not be empty\");\n    }\n    if (this._substreams[name]) {\n      throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n    }\n    // create substream\n    const substream = new Substream({\n      parent: this,\n      name\n    });\n    this._substreams[name] = substream;\n    // listen for parent stream to end\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    anyStreamEnd(this, _error => substream.destroy(_error || undefined));\n    return substream;\n  }\n  // ignore streams (dont display orphaned data warning)\n  ignoreStream(name) {\n    // validate name\n    if (!name) {\n      throw new Error(\"ObjectMultiplex - name must not be empty\");\n    }\n    if (this._substreams[name]) {\n      throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n    }\n    // set\n    this._substreams[name] = IGNORE_SUBSTREAM;\n  }\n  _read() {\n    return undefined;\n  }\n  _write(chunk, _encoding, callback) {\n    const {\n      name,\n      data\n    } = chunk;\n    if (!name) {\n      window.console.warn(`ObjectMultiplex - malformed chunk without name \"${chunk}\"`);\n      return callback();\n    }\n    // get corresponding substream\n    const substream = this._substreams[name];\n    if (!substream) {\n      window.console.warn(`ObjectMultiplex - orphaned data for stream \"${name}\"`);\n      return callback();\n    }\n    // push data into substream\n    if (substream !== IGNORE_SUBSTREAM) {\n      substream.push(data);\n    }\n    return callback();\n  }\n}\n// util\nfunction anyStreamEnd(stream, _cb) {\n  const cb = once(_cb);\n  eos(stream, {\n    readable: false\n  }, cb);\n  eos(stream, {\n    writable: false\n  }, cb);\n}\nfunction setupMultiplex(stream) {\n  const mux = new ObjectMultiplex();\n  mux.getStream = function streamHelper(name) {\n    if (this._substreams[name]) {\n      return this._substreams[name];\n    }\n    return this.createStream(name);\n  };\n  pump(stream, mux, stream, err => {\n    if (err) window.console.error(err);\n  });\n  return mux;\n}\n\nclass PostMessageStream extends BasePostMessageStream {\n  _postMessage(data) {\n    let originConstraint = this._targetOrigin;\n    if (typeof data === \"object\") {\n      const dataObj = data;\n      if (typeof dataObj.data === \"object\") {\n        const dataObjData = dataObj.data;\n        if (Array.isArray(dataObjData.params) && dataObjData.params.length > 0) {\n          const dataObjDataParam = dataObjData.params[0];\n          if (dataObjDataParam._origin) {\n            originConstraint = dataObjDataParam._origin;\n          }\n          // add a constraint for the response\n          dataObjDataParam._origin = window.location.origin;\n        }\n      }\n    }\n    this._targetWindow.postMessage({\n      target: this._target,\n      data\n    }, originConstraint);\n  }\n}\n\nexport { BasePostMessageStream, IGNORE_SUBSTREAM, JRPCEngine, ObjectMultiplex, PostMessageStream, SafeEventEmitter, SerializableError, Substream, createAsyncMiddleware, createEngineStream, createErrorMiddleware, createIdRemapMiddleware, createLoggerMiddleware, createScaffoldMiddleware, createStreamMiddleware, getRpcPromiseCallback, mergeMiddleware, providerAsMiddleware, providerFromEngine, providerFromMiddleware, setupMultiplex };\n//# sourceMappingURL=openloginJrpc.esm.js.map\n","import { JRPCId, JRPCMiddleware, JRPCRequest, JRPCVersion, SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\nimport type { Duplex } from \"readable-stream\";\n\nexport const WALLET_VERIFIERS = {\n  GOOGLE: \"google\",\n  FACEBOOK: \"facebook\",\n  TWITCH: \"twitch\",\n  REDDIT: \"reddit\",\n  DISCORD: \"discord\",\n  EMAIL_PASSWORDLESS: \"torus-auth0-email-passwordless\",\n} as const;\n\nexport const WALLET_OPENLOGIN_VERIFIER_MAP = {\n  [WALLET_VERIFIERS.GOOGLE]: \"tkey-google\",\n  [WALLET_VERIFIERS.FACEBOOK]: \"tkey-facebook\",\n  [WALLET_VERIFIERS.TWITCH]: \"tkey-twitch\",\n  [WALLET_VERIFIERS.REDDIT]: \"tkey-reddit\",\n  [WALLET_VERIFIERS.DISCORD]: \"tkey-discord\",\n  [WALLET_VERIFIERS.EMAIL_PASSWORDLESS]: \"tkey-auth0-email-passwordless\",\n} as const;\n\nexport const PAYMENT_PROVIDER = {\n  MOONPAY: \"moonpay\",\n  WYRE: \"wyre\",\n  RAMPNETWORK: \"rampnetwork\",\n  XANPOOL: \"xanpool\",\n  MERCURYO: \"mercuryo\",\n  TRANSAK: \"transak\",\n  BANXA: \"banxa\",\n} as const;\n\nexport const SUPPORTED_PAYMENT_NETWORK = {\n  MAINNET: \"mainnet\",\n  MATIC: \"matic\",\n  BSC_MAINNET: \"bsc_mainnet\",\n  AVALANCHE_MAINNET: \"avalanche_mainnet\",\n  XDAI: \"xdai\",\n  ARBITRUM_MAINNET: \"arbitrum_mainnet\",\n  OPTIMISM_MAINNET: \"optimism_mainnet\",\n} as const;\n\nexport const TORUS_BUILD_ENV = {\n  PRODUCTION: \"production\",\n  DEVELOPMENT: \"development\",\n  BINANCE: \"binance\",\n  TESTING: \"testing\",\n  LRC: \"lrc\",\n  BETA: \"beta\",\n  BNB: \"bnb\",\n  POLYGON: \"polygon\",\n  ALPHA: \"alpha\",\n} as const;\n\nexport type PAYMENT_PROVIDER_TYPE = (typeof PAYMENT_PROVIDER)[keyof typeof PAYMENT_PROVIDER];\n\nexport type SUPPORTED_PAYMENT_NETWORK_TYPE = (typeof SUPPORTED_PAYMENT_NETWORK)[keyof typeof SUPPORTED_PAYMENT_NETWORK];\n\nexport type TORUS_BUILD_ENV_TYPE = (typeof TORUS_BUILD_ENV)[keyof typeof TORUS_BUILD_ENV];\n\nexport interface IPaymentProvider {\n  line1: string;\n  line2: string;\n  line3: string;\n  supportPage: string;\n  minOrderValue: number;\n  maxOrderValue: number;\n  validCurrencies: string[];\n  validCryptoCurrenciesByChain: Partial<Record<string, { value: string; display: string }[]>>;\n  includeFees: boolean;\n  enforceMax: boolean;\n  sell?: boolean;\n}\n\nexport const BUTTON_POSITION = {\n  BOTTOM_LEFT: \"bottom-left\",\n  TOP_LEFT: \"top-left\",\n  BOTTOM_RIGHT: \"bottom-right\",\n  TOP_RIGHT: \"top-right\",\n} as const;\n\nexport type EMBED_TRANSLATION_ITEM = {\n  continue: string;\n  actionRequired: string;\n  pendingAction: string;\n  cookiesRequired: string;\n  enableCookies: string;\n  clickHere: string;\n};\n\nexport type BUTTON_POSITION_TYPE = (typeof BUTTON_POSITION)[keyof typeof BUTTON_POSITION];\n\nexport type WALLET_PATH = \"transfer\" | \"topup\" | \"home\" | \"settings\" | \"history\" | \"discover\";\nexport type ETHEREUM_NETWORK_TYPE = \"sepolia\" | \"mainnet\" | \"goerli\" | \"localhost\" | \"matic\" | \"mumbai\" | \"xdai\" | \"bsc_mainnet\" | \"bsc_testnet\";\n\nexport type LOGIN_TYPE =\n  | \"google\"\n  | \"facebook\"\n  | \"reddit\"\n  | \"discord\"\n  | \"twitch\"\n  | \"apple\"\n  | \"github\"\n  | \"linkedin\"\n  | \"twitter\"\n  | \"weibo\"\n  | \"line\"\n  | \"jwt\"\n  | \"email_password\"\n  | \"passwordless\"\n  | \"wechat\"\n  | \"kakao\";\n\nexport interface TorusCtorArgs {\n  /**\n   * Determines where the torus widget is visible on the page.\n   * @defaultValue bottom-left\n   */\n  buttonPosition?: BUTTON_POSITION_TYPE;\n\n  /**\n   * Size of the widget button\n   * @defaultValue 56\n   */\n  buttonSize?: number;\n\n  /**\n   * Z-index of the modal and iframe\n   * @defaultValue 99999\n   */\n  modalZIndex?: number;\n\n  /**\n   * Api key\n   * Get yours today at {@link https://developer.tor.us | Dashboard}\n   */\n  apiKey?: string;\n}\n\nexport interface TorusLoginParams {\n  verifier?: string;\n  login_hint?: string;\n}\n\nexport interface NetworkInterface {\n  /**\n   * If any network other than the ones in enum, it should a JSON RPC URL\n   */\n  host: ETHEREUM_NETWORK_TYPE | string;\n  /**\n   * chainId for the network. If not provided, we query the host\n   */\n  chainId?: number;\n  /**\n   * Name of the network\n   */\n  networkName?: string;\n  /**\n   * Url of the block explorer\n   */\n  blockExplorer?: string;\n  /**\n   * Default currency ticker of the network (e.g: BNB)\n   */\n  ticker?: string;\n  /**\n   * Name for currency ticker (e.g: `Binance Coin`)\n   */\n  tickerName?: string;\n}\n\nexport interface BaseLoginOptions {\n  /**\n   * If you need to send custom parameters to the Authorization Server,\n   * make sure to use the original parameter name.\n   */\n  [key: string]: unknown;\n  /**\n   * - `'page'`: displays the UI with a full page view\n   * - `'popup'`: displays the UI with a popup window\n   * - `'touch'`: displays the UI in a way that leverages a touch interface\n   * - `'wap'`: displays the UI with a \"feature phone\" type interface\n   */\n  display?: \"page\" | \"popup\" | \"touch\" | \"wap\";\n  /**\n   * - `'none'`: do not prompt user for login or consent on reauthentication\n   * - `'login'`: prompt user for reauthentication\n   * - `'consent'`: prompt user for consent before processing request\n   * - `'select_account'`: prompt user to select an account\n   */\n  prompt?: \"none\" | \"login\" | \"consent\" | \"select_account\";\n  /**\n   * Maximum allowable elasped time (in seconds) since authentication.\n   * If the last time the user authenticated is greater than this value,\n   * the user must be reauthenticated.\n   */\n  max_age?: string | number;\n  /**\n   * The space-separated list of language tags, ordered by preference.\n   * For example: `'fr-CA fr en'`.\n   */\n  ui_locales?: string;\n  /**\n   * Previously issued ID Token.\n   */\n  id_token_hint?: string;\n  /**\n   * The user's email address or other identifier. When your app knows\n   * which user is trying to authenticate, you can provide this parameter\n   * to pre-fill the email box or select the right session for sign-in.\n   *\n   * This currently only affects the classic Lock experience.\n   */\n  login_hint?: string;\n  acr_values?: string;\n  /**\n   * The default scope to be used on authentication requests.\n   * The defaultScope defined in the Auth0Client is included\n   * along with this scope\n   */\n  scope?: string;\n  /**\n   * The default audience to be used for requesting API access.\n   */\n  audience?: string;\n  /**\n   * The name of the connection configured for your application.\n   * If null, it will redirect to the Auth0 Login Page and show\n   * the Login Widget.\n   */\n  connection?: string;\n}\n\nexport interface JwtParameters extends BaseLoginOptions {\n  /**\n   * Your Auth0 account domain such as `'example.auth0.com'`,\n   * `'example.eu.auth0.com'` or , `'example.mycompany.com'`\n   * (when using [custom domains](https://auth0.com/docs/custom-domains))\n   */\n  domain: string;\n  /**\n   * The Client ID found on your Application settings page\n   */\n  client_id?: string;\n  /**\n   * The default URL where Auth0 will redirect your browser to with\n   * the authentication result. It must be whitelisted in\n   * the \"Allowed Callback URLs\" field in your Auth0 Application's\n   * settings. If not provided here, it should be provided in the other\n   * methods that provide authentication.\n   */\n  redirect_uri?: string;\n  /**\n   * The value in seconds used to account for clock skew in JWT expirations.\n   * Typically, this value is no more than a minute or two at maximum.\n   * Defaults to 60s.\n   */\n  leeway?: number;\n\n  /**\n   * The field in jwt token which maps to verifier id\n   */\n  verifierIdField?: string;\n\n  /**\n   * Whether the verifier id field is case sensitive\n   * @defaultValue true\n   */\n  isVerifierIdCaseSensitive?: boolean;\n}\n\nexport interface LoginConfigItem {\n  /**\n   * Display Name. If not provided, we use the default for torus app\n   */\n  name: string;\n  /**\n   * The type of login. Refer to enum `LOGIN_TYPE`\n   */\n  typeOfLogin: LOGIN_TYPE;\n  /**\n   * Description for button. If provided, it renders as a full length button. else, icon button\n   */\n  description?: string;\n  /**\n   * Custom client_id. If not provided, we use the default for torus app\n   */\n  clientId?: string;\n  /**\n   * Logo to be shown on mouse hover. If not provided, we use the default for torus app\n   */\n  logoHover?: string;\n  /**\n   * Logo to be shown on dark background (dark theme). If not provided, we use the default for torus app\n   */\n  logoLight?: string;\n  /**\n   * Logo to be shown on light background (light theme). If not provided, we use the default for torus app\n   */\n  logoDark?: string;\n  /**\n   * Whether to show the login button on modal or not\n   */\n  showOnModal?: boolean;\n  /**\n   * Whether to show the login button on mobile\n   */\n  showOnMobile?: boolean;\n  /**\n   * Custom jwt parameters to configure the login. Useful for Auth0 configuration\n   */\n  jwtParameters?: JwtParameters;\n  /**\n   * Show login button on the main list\n   */\n  mainOption?: boolean;\n  /**\n   * Whether to show the login button on desktop\n   */\n  showOnDesktop?: boolean;\n  /**\n   * Modify the order of buttons. Should be greater than zero, where 1 is top priority.\n   */\n  priority?: number;\n}\n\nexport interface LoginConfig {\n  /**\n   * Use the verifier provided by torus as a key or a default verifier used by torus\n   * {@link https://docs.tor.us/torus-wallet/developing-with-torus-wallet/oauth | Documentation}\n   */\n  [verifier: string]: LoginConfigItem;\n}\n\nexport interface TorusNodePub {\n  /**\n   * X component of a Public Key\n   */\n  X: string;\n  /**\n   * Y component of a Public Key\n   */\n  Y: string;\n}\n\nexport interface TorusPublicKey extends TorusNodePub {\n  /**\n   * Ethereum Public Address\n   */\n  address: string;\n}\n\nexport interface PaymentParams {\n  /**\n   * Address to send the funds to\n   */\n  selectedAddress?: string;\n  /**\n   * Default fiat currency for the user to make the payment in\n   */\n  selectedCurrency?: string;\n  /**\n   * Amount to buy in the selectedCurrency\n   */\n  fiatValue?: number;\n  /**\n   * Cryptocurrency to buy\n   */\n  selectedCryptoCurrency?: string;\n  /**\n   * Chain Network to use\n   */\n  chainNetwork?: SUPPORTED_PAYMENT_NETWORK_TYPE;\n}\n\nexport interface VerifierArgs {\n  /**\n   * Verifier Enum\n   */\n  verifier: \"google\" | \"reddit\" | \"discord\";\n  /**\n   * email for google\n   *\n   * username for reddit\n   *\n   * id for discord\n   */\n  verifierId: string;\n  /**\n   * If true, returns {@link TorusPublicKey}, else returns string\n   */\n  isExtended?: boolean;\n}\n\nexport interface LoginParams {\n  verifier?: string;\n  login_hint?: string;\n}\n\nexport interface UserInfo {\n  /**\n   * Email of the logged in user\n   */\n  email: string;\n  /**\n   * Full name of the logged in user\n   */\n  name: string;\n  /**\n   * Profile image of the logged in user\n   */\n  profileImage: string;\n  /**\n   * verifier of the logged in user (google, facebook etc)\n   */\n  verifier: string;\n  /**\n   * Verifier Id of the logged in user\n   *\n   * email for google,\n   * id for facebook,\n   * username for reddit,\n   * id for twitch,\n   * id for discord\n   */\n  verifierId: string;\n  /**\n   * Returns if the logged in user is new\n   */\n  isNewUser: boolean;\n\n  /**\n   * login type of the logged in user (google, facebook etc)\n   */\n  typeOfLogin: LOGIN_TYPE;\n}\n\nexport interface LocaleLinks<T> {\n  /**\n   * Item corresponding to english\n   */\n  en?: T;\n  /**\n   * Item corresponding to japanese\n   */\n  ja?: T;\n  /**\n   * Item corresponding to korean\n   */\n  ko?: T;\n  /**\n   * Item corresponding to german\n   */\n  de?: T;\n  /**\n   * Item corresponding to chinese (simplified)\n   */\n  zh?: T;\n  /**\n   * Item corresponding to spanish\n   */\n  es?: T;\n}\n\nexport interface ThemeParams {\n  /**\n   * If true, enables dark mode\n   * Defaults to false\n   * @defaultValue false\n   */\n  isDark: boolean;\n  /**\n   * Colors object to customize colors in torus theme.\n   *\n   * Contact us for whitelabel. Example provided in `examples/vue-app`\n   */\n  colors: Record<string, string>;\n}\n\nexport interface IntegrityParams {\n  /**\n   * Version of torus-website to load\n   */\n  version?: string;\n}\n\nexport interface VerifierStatus {\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  google?: boolean;\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  facebook?: boolean;\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  reddit?: boolean;\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  twitch?: boolean;\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  discord?: boolean;\n}\n\nexport interface WhiteLabelParams {\n  /**\n   * Whitelabel theme\n   */\n  theme: ThemeParams;\n  /**\n   * Language of whitelabel.\n   *\n   * order of preference: Whitelabel language \\> user language (in torus-website) \\> browser language\n   */\n  defaultLanguage?: string;\n  /**\n   * Logo Url to be used in light mode (dark logo)\n   */\n  logoDark: string;\n  /**\n   * Logo Url to be used in dark mode (light logo)\n   */\n  logoLight: string;\n  /**\n   * Shows/hides topup option in torus-website/widget.\n   * Defaults to false\n   * @defaultValue false\n   */\n  topupHide?: boolean;\n  /**\n   * Shows/hides billboard in torus-website.\n   * Defaults to false\n   * @defaultValue false\n   */\n  featuredBillboardHide?: boolean;\n  /**\n   * Shows/hides disclaimers on login page. Only works if special logins are hidden\n   * Defaults to false\n   * @defaultValue false\n   */\n  disclaimerHide?: boolean;\n  /**\n   * Language specific link for terms and conditions on torus-website. See (examples/vue-app) to configure\n   */\n  tncLink?: LocaleLinks<string>;\n  /**\n   * Language specific link for privacy policy on torus-website. See (examples/vue-app) to configure\n   */\n  privacyPolicy?: LocaleLinks<string>;\n  /**\n   * Language specific link for privacy policy on torus-website. See (examples/vue-app) to configure\n   */\n  contactLink?: LocaleLinks<string>;\n  /**\n   * Custom translations. See (examples/vue-app) to configure\n   */\n  customTranslations?: LocaleLinks<unknown>;\n}\n\nexport interface TorusParams {\n  /**\n   * Torus Network Object\n   */\n  network?: NetworkInterface;\n  /**\n   * Build Environment of Torus.\n   *\n   * production uses https://app.tor.us,\n   *\n   * development uses http://localhost:4050 (expects torus-website to be run locally),\n   *\n   * binance uses https://binance.tor.us,\n   *\n   * bnb uses https://bnb.tor.us,\n   *\n   * polygon uses https://polygon.tor.us,\n   *\n   * lrc uses https://lrc.tor.us,\n   *\n   * beta uses https://beta.tor.us, (currently supports tkey)\n   *\n   * testing uses https://testing.tor.us (latest internal build)\n   * @defaultValue production\n   */\n  buildEnv?: TORUS_BUILD_ENV_TYPE;\n  /**\n   * Enables or disables logging.\n   *\n   * Defaults to false in prod and true in other environments\n   */\n  enableLogging?: boolean;\n  /**\n   * whether to show/hide torus widget.\n   *\n   * Defaults to true\n   * @defaultValue true\n   */\n  showTorusButton?: boolean;\n  /**\n   * Array of login config items. Used to modify the default logins/ add new logins\n   */\n  loginConfig?: LoginConfig;\n  /**\n   * Params to enable integrity checks and load specific versions of torus-website\n   */\n  integrity?: IntegrityParams;\n  /**\n   * Params to enable whitelabelling of torus website and widget\n   */\n  whiteLabel?: WhiteLabelParams;\n\n  /**\n   * Setting `useWalletConnect` to true allows to display wallet connect qr scanner from torus-embed.\n   *\n   * Defaults to false\n   * @defaultValue false\n   */\n  useWalletConnect?: boolean;\n\n  /**\n   * Setting mfa level to `default` will present mfa screen to user on every third login\n   * Setting mfa level to `optional` will present mfa screen to user on every login but user can skip it\n   * Setting mfa level to `mandatory` will make it mandatory for user to setup mfa after login\n   * Setting mfa level to`none` will make the user skip the mfa setup screen\n   *\n   * Defaults to default\n   * @defaultValue default\n   */\n  mfaLevel?: \"none\" | \"default\" | \"optional\" | \"mandatory\";\n}\n\nexport interface UnvalidatedJsonRpcRequest {\n  id?: JRPCId;\n  jsonrpc?: JRPCVersion;\n  method: string;\n  params?: unknown;\n  preopenInstanceId?: string;\n}\n\nexport interface ProviderOptions {\n  /**\n   * The name of the stream used to connect to the wallet.\n   */\n  jsonRpcStreamName?: string;\n\n  /**\n   * The maximum number of event listeners.\n   */\n  maxEventListeners?: number;\n  /**\n   * Whether the provider should send page metadata.\n   */\n  shouldSendMetadata?: boolean;\n}\n\nexport interface RequestArguments {\n  /** The RPC method to request. */\n  method: string;\n\n  /** The params of the RPC method, if any. */\n  params?: unknown[] | Record<string, unknown>;\n}\n\nexport interface BaseProviderState {\n  accounts: null | string[];\n  isConnected: boolean;\n  isUnlocked: boolean;\n  initialized: boolean;\n  isPermanentlyDisconnected: boolean;\n  hasEmittedConnection: boolean;\n}\n\nexport interface JsonRpcConnection {\n  events: SafeEventEmitter;\n  middleware: JRPCMiddleware<unknown, unknown>;\n  stream: Duplex;\n}\n\nexport interface SentWarningsState {\n  // methods\n  enable: boolean;\n  experimentalMethods: boolean;\n  send: boolean;\n  publicConfigStore: boolean;\n  // events\n  events: {\n    close: boolean;\n    data: boolean;\n    networkChanged: boolean;\n    notification: boolean;\n  };\n}\n\nexport interface SendSyncJsonRpcRequest extends JRPCRequest<unknown> {\n  method: \"eth_accounts\" | \"eth_coinbase\" | \"eth_uninstallFilter\" | \"net_version\";\n}\n\nexport interface PublicConfigState {\n  isUnlocked?: boolean;\n  selectedAddress?: string;\n  chainId?: string;\n  networkVersion?: string;\n  storageKey: string;\n}\n\nexport type Maybe<T> = Partial<T> | null | undefined;\n\nexport type BufferEncoding = \"ascii\" | \"utf8\" | \"utf-8\" | \"utf16le\" | \"ucs2\" | \"ucs-2\" | \"base64\" | \"base64url\" | \"latin1\" | \"binary\" | \"hex\";\n\nexport type IObjectMultiplex = Duplex;\n\nexport type WalletProviderState = {\n  accounts: string[];\n  chainId: string;\n  isUnlocked: boolean;\n  networkVersion: string;\n};\n","import { PAYMENT_PROVIDER } from \"./interfaces\";\n/**\n * From https://min-api.cryptocompare.com/data/v2/pair/mapping/fsym?fsym=BTC&extraParams=YourSite\n * GET https://min-api.cryptocompare.com/data/v2/pair/mapping/fsym?fsym=BTC\n * Then map over returned entries, picking tsym\n *\n * Last updated: Date of commit\n */\nexport const CRYPTO_COMPARE_CURRENCIES = [\n  \"ETH\",\n  \"USDT\",\n  \"USDC\",\n  \"TUSD\",\n  \"EOSDT\",\n  \"USD\",\n  \"DAI\",\n  \"GUSD\",\n  \"DKKT\",\n  \"PAX\",\n  \"ILS\",\n  \"RUB\",\n  \"BYN\",\n  \"EUR\",\n  \"GBP\",\n  \"JPY\",\n  \"KRW\",\n  \"PLN\",\n  \"MXN\",\n  \"AUD\",\n  \"BRL\",\n  \"CAD\",\n  \"CHF\",\n  \"KPW\",\n  \"LAK\",\n  \"LBP\",\n  \"LKR\",\n  \"XOF\",\n  \"CNHT\",\n  \"DOGE\",\n  \"UAH\",\n  \"TRY\",\n  \"HKD\",\n  \"XJP\",\n  \"SGD\",\n  \"USC\",\n  \"NZD\",\n  \"NGN\",\n  \"RUR\",\n  \"COP\",\n  \"GHS\",\n  \"EGP\",\n  \"IDR\",\n  \"BHD\",\n  \"CRC\",\n  \"PEN\",\n  \"AED\",\n  \"DOP\",\n  \"PKR\",\n  \"HUF\",\n  \"VND\",\n  \"XAR\",\n  \"LTC\",\n  \"RON\",\n  \"OMR\",\n  \"MYR\",\n  \"DKK\",\n  \"UGX\",\n  \"ZMW\",\n  \"SAR\",\n  \"SEK\",\n  \"GEL\",\n  \"RWF\",\n  \"IRR\",\n  \"TZS\",\n  \"CNY\",\n  \"VEF\",\n  \"BDT\",\n  \"HRK\",\n  \"CLP\",\n  \"THB\",\n  \"XAF\",\n  \"ARS\",\n  \"UYU\",\n  \"SZL\",\n  \"KZT\",\n  \"NOK\",\n  \"KES\",\n  \"PAB\",\n  \"INR\",\n  \"CZK\",\n  \"MAD\",\n  \"TWD\",\n  \"PHP\",\n  \"ZAR\",\n  \"BOB\",\n  \"CDF\",\n  \"DASH\",\n  \"VES\",\n  \"ISK\",\n  \"MWK\",\n  \"BAM\",\n  \"TTD\",\n  \"XRP\",\n  \"JOD\",\n  \"RSD\",\n  \"HNL\",\n  \"BGN\",\n  \"GTQ\",\n  \"BWP\",\n  \"XMR\",\n  \"MMK\",\n  \"QAR\",\n  \"AOA\",\n  \"KWD\",\n  \"MUR\",\n  \"WUSD\",\n  \"WEUR\",\n  \"WAVES\",\n  \"WTRY\",\n  \"LRD\",\n  \"LSL\",\n  \"LYD\",\n  \"AWG\",\n  \"MDL\",\n  \"BTO\",\n  \"EURS\",\n  \"CHFT\",\n  \"MKD\",\n  \"MNT\",\n  \"MOP\",\n  \"MRO\",\n  \"MVR\",\n  \"VOLLAR\",\n  \"CKUSD\",\n  \"KHR\",\n  \"VUV\",\n  \"BITCNY\",\n  \"QC\",\n  \"BBD\",\n  \"NAD\",\n  \"NPR\",\n  \"PGK\",\n  \"PYG\",\n  \"BIF\",\n  \"BMD\",\n  \"BND\",\n  \"XLM\",\n  \"BNB\",\n  \"SCR\",\n  \"BAT\",\n  \"CRO\",\n  \"HT\",\n  \"KCS\",\n  \"LEO\",\n  \"LINK\",\n  \"MKR\",\n  \"NPXS\",\n  \"OMG\",\n  \"REP\",\n  \"ZB\",\n  \"ZIL\",\n  \"ZRX\",\n  \"BCH\",\n  \"BZD\",\n  \"CUP\",\n  \"CVE\",\n  \"DJF\",\n  \"DZD\",\n  \"ERN\",\n  \"ETB\",\n  \"FJD\",\n  \"FKP\",\n  \"BUSD\",\n  \"ANCT\",\n  \"ALL\",\n  \"AMD\",\n  \"ANG\",\n  \"CNYX\",\n  \"IQD\",\n  \"UZS\",\n  \"TND\",\n  \"GGP\",\n  \"XAU\",\n  \"KGS\",\n  \"GIP\",\n  \"JMD\",\n  \"ZEC\",\n  \"USDP\",\n  \"BSV\",\n  \"EMC2\",\n  \"SNT\",\n  \"GTO\",\n  \"POWR\",\n  \"EUSD\",\n  \"EURT\",\n  \"BCY\",\n  \"BTS\",\n  \"ATM\",\n  \"BLOCKPAY\",\n  \"ARDR\",\n  \"AMP\",\n  \"B2X\",\n  \"BITGOLD\",\n  \"BITEUR\",\n  \"ATB\",\n  \"BITUSD\",\n  \"AGRS\",\n  \"DFXT\",\n  \"HIKEN\",\n  \"BIX\",\n  \"KNC\",\n  \"EOS\",\n  \"COB\",\n  \"COSS\",\n  \"BMH\",\n  \"NANO\",\n  \"BDG\",\n  \"BNT\",\n  \"XVG\",\n  \"LKK1Y\",\n  \"LKK\",\n  \"USDK\",\n  \"EURN\",\n  \"NZDT\",\n  \"JSE\",\n  \"GMD\",\n  \"GNF\",\n  \"GYD\",\n  \"YER\",\n  \"XPF\",\n  \"HTG\",\n  \"SLL\",\n  \"SOS\",\n  \"WST\",\n  \"SVC\",\n  \"SYP\",\n  \"NEO\",\n  \"KMF\",\n  \"JUMP\",\n  \"AYA\",\n  \"BLAST\",\n  \"WGR\",\n  \"BCN\",\n  \"BTG\",\n  \"URALS\",\n  \"INN\",\n  \"USDQ\",\n  \"CNH\",\n  \"HUSD\",\n  \"BKRW\",\n  \"NZDX\",\n  \"EURX\",\n  \"CADX\",\n  \"USDEX\",\n  \"JPYX\",\n  \"AUDX\",\n  \"VNDC\",\n  \"EON\",\n  \"GBPX\",\n  \"CHFX\",\n  \"USDJ\",\n  \"IDRT\",\n  \"USDS\",\n  \"USDN\",\n  \"BIDR\",\n  \"IDK\",\n  \"BSD\",\n  \"BTN\",\n  \"KYD\",\n  \"NIO\",\n  \"SBD\",\n  \"SDG\",\n  \"SHP\",\n  \"TOP\",\n  \"XCD\",\n  \"XCHF\",\n  \"CNYT\",\n  \"GYEN\",\n  \"ZUSD\",\n  \"GOLD\",\n  \"TRX\",\n  \"TRYB\",\n  \"PLATC\",\n  \"STRAX\",\n  \"UST\",\n  \"GLM\",\n  \"VAI\",\n  \"BRZ\",\n  \"DDRST\",\n  \"XAUT\",\n  \"MIM\",\n];\n\n/**\n * currencies supported by the payment provider\n * Last updated: Date of commit\n */\nconst PROVIDER_SUPPORTED_FIAT_CURRENCIES = {\n  // https://integrations.simplex.com/supported_currencies\n  // https://support.moonpay.com/hc/en-gb/articles/360011931457-Which-fiat-currencies-are-supported-\n  [PAYMENT_PROVIDER.MOONPAY]: [\n    \"AUD\",\n    \"BGN\",\n    \"BRL\",\n    \"CAD\",\n    \"CHF\",\n    \"CNY\",\n    \"COP\",\n    \"CZK\",\n    \"DKK\",\n    \"DOP\",\n    \"EGP\",\n    \"EUR\",\n    \"GBP\",\n    \"HKD\",\n    \"HRK\",\n    \"IDR\",\n    \"ILS\",\n    \"JPY\",\n    \"JOD\",\n    \"KES\",\n    \"KRW\",\n    \"KWD\",\n    \"LKR\",\n    \"MAD\",\n    \"MXN\",\n    \"MYR\",\n    \"NGN\",\n    \"NOK\",\n    \"NZD\",\n    \"OMR\",\n    \"PEN\",\n    \"PKR\",\n    \"PLN\",\n    \"RON\",\n    \"RUB\",\n    \"SEK\",\n    \"SGD\",\n    \"THB\",\n    \"TRY\",\n    \"TWD\",\n    \"USD\",\n    \"VND\",\n    \"ZAR\",\n  ],\n  /**\n   * https://docs.sendwyre.com/docs/supported-currencies#fiat\n   * The ones where credit card is supported\n   */\n  [PAYMENT_PROVIDER.WYRE]: [\n    \"USD\",\n    \"EUR\",\n    \"GBP\",\n    \"AUD\",\n    \"CAD\",\n    \"NZD\",\n    \"CNY\",\n    \"ARS\",\n    \"BRL\",\n    \"CHF\",\n    \"CLP\",\n    \"COP\",\n    \"CZK\",\n    \"DKK\",\n    \"HKD\",\n    \"ILS\",\n    \"INR\",\n    \"ISK\",\n    \"JPY\",\n    \"KRW\",\n    \"MXN\",\n    \"MYR\",\n    \"NOK\",\n    \"PHP\",\n    \"PLN\",\n    \"SEK\",\n    \"SGD\",\n    \"THB\",\n    \"VND\",\n    \"ZAR\",\n  ],\n  // https://support.ramp.network/en/articles/471-supported-fiat-currencies\n  [PAYMENT_PROVIDER.RAMPNETWORK]: [\n    \"USD\",\n    \"EUR\",\n    \"GBP\",\n    \"BMD\",\n    \"BAM\",\n    \"BWP\",\n    \"BRL\",\n    \"BGN\",\n    \"COP\",\n    \"CRC\",\n    \"CZK\",\n    \"DKK\",\n    \"DOP\",\n    \"GEL\",\n    \"GTQ\",\n    \"HNL\",\n    \"HUF\",\n    \"ISK\",\n    \"INR\",\n    \"ILS\",\n    \"KZT\",\n    \"KES\",\n    \"KWD\",\n    \"LAK\",\n    \"MKD\",\n    \"MYR\",\n    \"MXN\",\n    \"MDL\",\n    \"MZN\",\n    \"NZD\",\n    \"NGN\",\n    \"PYG\",\n    \"PEN\",\n    \"PLN\",\n    \"RON\",\n    \"RSD\",\n    \"SGD\",\n    \"ZAR\",\n    \"LKR\",\n    \"SEK\",\n    \"CHF\",\n    \"TJS\",\n    \"THB\",\n    \"UYU\",\n  ],\n  // From https://xanpool.com/ fiat select dropdown\n  [PAYMENT_PROVIDER.XANPOOL]: [\"SGD\", \"HKD\", \"THB\", \"PHP\", \"INR\", \"IDR\", \"MYR\", \"AUD\", \"NZD\", \"KRW\"],\n  // https://help.mercuryo.io/en/articles/6121246-which-fiat-currencies-are-supported\n  // RUB / UAH currently not supported\n  [PAYMENT_PROVIDER.MERCURYO]: [\n    \"EUR\",\n    \"USD\",\n    \"GBP\",\n    \"TRY\",\n    \"JPY\",\n    \"BRL\",\n    \"NGN\",\n    \"VND\",\n    \"MXN\",\n    \"KRW\",\n    \"PLN\",\n    \"SEK\",\n    \"CHF\",\n    \"CAD\",\n    \"CZK\",\n    \"DKK\",\n    \"BGN\",\n    \"HKD\",\n    \"AUD\",\n    \"INR\",\n  ],\n  /**\n   * https://support.transak.com/hc/en-us/articles/360020615578-Credit-and-Debit-Card-Payments-through-Transak\n   * or\n   * https://transak.stoplight.io/docs/transak-docs/b3A6OTk1ODQ0-2-get-fiat-currencies\n   */\n  [PAYMENT_PROVIDER.TRANSAK]: [\n    \"ARS\",\n    \"AUD\",\n    \"BBD\",\n    \"BGN\",\n    \"BMD\",\n    \"BRL\",\n    \"CAD\",\n    \"CHF\",\n    \"CLP\",\n    \"CRC\",\n    \"CZK\",\n    \"DKK\",\n    \"DOP\",\n    \"EUR\",\n    \"FJD\",\n    \"FKP\",\n    \"GBP\",\n    \"GIP\",\n    \"HRK\",\n    \"HUF\",\n    \"IDR\",\n    \"ILS\",\n    \"ISK\",\n    \"JMD\",\n    \"JPY\",\n    \"KES\",\n    \"KRW\",\n    \"MDL\",\n    \"MXN\",\n    \"MYR\",\n    \"NOK\",\n    \"NZD\",\n    \"PEN\",\n    \"PHP\",\n    \"PLN\",\n    \"PYG\",\n    \"RON\",\n    \"SEK\",\n    \"SGD\",\n    \"THB\",\n    \"TRY\",\n    \"TZS\",\n    \"USD\",\n    \"ZAR\",\n  ],\n  [PAYMENT_PROVIDER.BANXA]: [\"AUD\", \"CAD\", \"CZK\", \"DKK\", \"EUR\", \"GBP\", \"HKD\", \"JPY\", \"NOK\", \"NZD\", \"NZD\", \"PLN\", \"RUB\", \"SEK\", \"SGD\", \"TRY\", \"USD\"],\n};\n\nconst cryptoCompareCurrenciesSet = new Set(CRYPTO_COMPARE_CURRENCIES);\n/**\n * Fiat currencies that we support\n */\nexport function supportedFiatCurrencies(provider) {\n  const providerSupportedFiatCurrencies = PROVIDER_SUPPORTED_FIAT_CURRENCIES[provider];\n  return providerSupportedFiatCurrencies.filter((currency) => cryptoCompareCurrenciesSet.has(currency));\n}\n","import { EMBED_TRANSLATION_ITEM, IPaymentProvider, LocaleLinks, PAYMENT_PROVIDER, SUPPORTED_PAYMENT_NETWORK, WALLET_VERIFIERS } from \"./interfaces\";\nimport { supportedFiatCurrencies } from \"./supportedCurrencies\";\n\nconst paymentProviders = {\n  [PAYMENT_PROVIDER.MOONPAY]: {\n    line1: \"Credit/ Debit Card/ Apple Pay\",\n    line2: \"4.5% or 5 USD\",\n    line3: \"2,000/day, 10,000/mo\",\n    supportPage: \"https://help.moonpay.io/en/\",\n    minOrderValue: 24.99,\n    maxOrderValue: 50_000,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.MOONPAY),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"aave\", display: \"AAVE\" },\n        { value: \"bat\", display: \"BAT\" },\n        { value: \"dai\", display: \"DAI\" },\n        { value: \"eth\", display: \"ETH\" },\n        { value: \"mkr\", display: \"MKR\" },\n        { value: \"matic\", display: \"MATIC\" },\n        { value: \"usdt\", display: \"USDT\" },\n        { value: \"uni\", display: \"UNI\" },\n        { value: \"usdc\", display: \"USDC\" },\n        { value: \"weth\", display: \"WETH\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n        { value: \"eth_polygon\", display: \"ETH\" },\n        { value: \"matic_polygon\", display: \"MATIC\" },\n        { value: \"usdc_polygon\", display: \"USDC\" },\n        { value: \"usdt_polygon\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n        { value: \"bnb_bsc\", display: \"BNB\" },\n        { value: \"busd_bsc\", display: \"BUSD\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [\n        { value: \"avax_cchain\", display: \"AVAX\" },\n        { value: \"usdc_cchain\", display: \"USDC\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.ARBITRUM_MAINNET]: [\n        { value: \"eth_arbitrum\", display: \"ETH\" },\n        { value: \"usdc_arbitrum\", display: \"USDC\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.OPTIMISM_MAINNET]: [\n        { value: \"eth_optimism\", display: \"ETH\" },\n        { value: \"usdc_optimism\", display: \"USDC\" },\n      ],\n    },\n    includeFees: true,\n    api: true,\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.WYRE]: {\n    line1: \"Apple Pay/ Debit/ Credit Card\",\n    line2: \"4.9% + 30 or 5 USD\",\n    line3: \"$250/day\",\n    supportPage: \"https://support.sendwyre.com/en/\",\n    minOrderValue: 5,\n    maxOrderValue: 500,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.WYRE),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"AAVE\", display: \"AAVE\" },\n        { value: \"COMP\", display: \"COMP\" },\n        { value: \"BAT\", display: \"BAT\" },\n        { value: \"BUSD\", display: \"BUSD\" },\n        { value: \"DAI\", display: \"DAI\" },\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"WBTC\", display: \"WBTC\" },\n        { value: \"MKR\", display: \"MKR\" },\n        { value: \"UNI\", display: \"UNI\" },\n        { value: \"WETH\", display: \"WETH\" },\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n        { value: \"mUSDC\", display: \"USDC\" },\n        { value: \"MATIC\", display: \"MATIC\" },\n        { value: \"MWETH\", display: \"WETH\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [\n        { value: \"AVAXC\", display: \"AVAX\" },\n        { value: \"AVAXCUSDC\", display: \"USDC\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n        { value: \"BNB\", display: \"BNB\" },\n        { value: \"BBUSD\", display: \"BUSD\" },\n      ],\n    },\n    includeFees: false,\n    api: true,\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.RAMPNETWORK]: {\n    line1: \"Debit Card/ <br>Apple Pay/ Bank transfer\",\n    line2: \"0.49% - 2.9%\",\n    line3: \"5,000/purchase, 20,000/mo\",\n    supportPage: \"https://instant.ramp.network/\",\n    minOrderValue: 50,\n    maxOrderValue: 20_000,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.RAMPNETWORK),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"DAI\", display: \"DAI\" },\n        { value: \"BAT\", display: \"BAT\" },\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n        { value: \"MATIC_BAT\", display: \"BAT\" },\n        { value: \"MATIC_DAI\", display: \"DAI\" },\n        { value: \"MATIC_MATIC\", display: \"MATIC\" },\n        { value: \"MATIC_USDC\", display: \"USDC\" },\n        { value: \"MATIC_USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [\n        { value: \"AVAX_AVAX\", display: \"AVAX\" },\n        { value: \"AVAX_USDC\", display: \"USDC\" },\n        { value: \"AVAX_USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.ARBITRUM_MAINNET]: [\n        { value: \"ARBITRUM_ETH\", display: \"ETH\" },\n        { value: \"ARBITRUM_USDC.e\t\", display: \"USDC\" },\n        { value: \"ARBITRUM_USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.OPTIMISM_MAINNET]: [\n        { value: \"OPTIMISM_DAI\", display: \"DAI\" },\n        { value: \"OPTIMISM_OPTIMISM\", display: \"OPTIMISM\" },\n        { value: \"OPTIMISM_USDC\", display: \"USDC\" },\n        { value: \"OPTIMISM_USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n        { value: \"BSC_BNB\", display: \"BNB\" },\n        { value: \"BSC_BUSD\", display: \"BUSD\" },\n      ],\n    },\n    includeFees: true,\n    api: true,\n    receiveHint: \"walletTopUp.receiveHintRamp\",\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.XANPOOL]: {\n    line1: \"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow\",\n    line2: \"2.5% buying, 3% selling\",\n    line3: \"$2,500 / day\",\n    supportPage: \"mailto:support@xanpool.com\",\n    minOrderValue: 100,\n    maxOrderValue: 2500,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.XANPOOL),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"USDT\", display: \"USDT\" },\n        { value: \"USDC\", display: \"USDC\" },\n      ],\n    },\n    includeFees: true,\n    api: true,\n    sell: true,\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.MERCURYO]: {\n    line1: \"Credit/ Debit Card/ Apple Pay\",\n    line2: \"3.95% or 4 USD\",\n    line3: \"10,000/day, 25,000/mo\",\n    supportPage: \"mailto:support@mercuryo.io\",\n    minOrderValue: 30,\n    maxOrderValue: 5000,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.MERCURYO),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"BAT\", display: \"BAT\" },\n        { value: \"USDT\", display: \"USDT\" },\n        { value: \"DAI\", display: \"DAI\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n        { value: \"BNB\", display: \"BNB\" },\n        { value: \"BUSD\", display: \"BUSD\" },\n        { value: \"1INCH\", display: \"1INCH\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [{ value: \"AVAX\", display: \"AVAX\" }],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [{ value: \"MATIC\", display: \"MATIC\" }],\n    },\n    includeFees: true,\n    api: true,\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.TRANSAK]: {\n    line1: \"Apple & Google Pay / Credit/Debit Card<br/>Bangkok Bank Mobile & iPay<br/>Bank Transfer (sepa/gbp) / SCB Mobile & Easy\",\n    line2: \"0.99% - 5.5% or 5 USD\",\n    line3: \"$5,000/day, $28,000/mo\",\n    supportPage: \"https://support.transak.com/hc/en-US\",\n    minOrderValue: 30,\n    maxOrderValue: 500,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.TRANSAK),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"1INCH\", display: \"1INCH\" },\n        { value: \"BAT\", display: \"BAT\" },\n        { value: \"AAVE\", display: \"AAVE\" },\n        { value: \"DAI\", display: \"DAI\" },\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n        { value: \"BAT\", display: \"BAT\" },\n        { value: \"AAVE\", display: \"AAVE\" },\n        { value: \"DAI\", display: \"DAI\" },\n        { value: \"MATIC\", display: \"MATIC\" },\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"USDT\", display: \"USDT\" },\n        { value: \"WETH\", display: \"WETH\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n        { value: \"BAT\", display: \"BAT\" },\n        { value: \"BNB\", display: \"BNB\" },\n        { value: \"BUSD\", display: \"BUSD\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [{ value: \"AVAX\", display: \"AVAX\" }],\n      [SUPPORTED_PAYMENT_NETWORK.OPTIMISM_MAINNET]: [\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"USDC\", display: \"USDC\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.ARBITRUM_MAINNET]: [\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"ETH\", display: \"ETH\" },\n      ],\n    },\n    includeFees: true,\n    enforceMax: true,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.BANXA]: {\n    line1: \"Debit Card/ <br>Apple Pay/ Bank transfer\",\n    line2: \"0.49% - 2.9%\",\n    line3: \"5,000/purchase, 20,000/mo\",\n    supportPage: \"https://support.banxa.com\",\n    minOrderValue: 20,\n    maxOrderValue: 15_000,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.BANXA),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"DAI\", display: \"DAI\" },\n        { value: \"MKR\", display: \"MKR\" },\n        { value: \"USDT\", display: \"USDT\" },\n        { value: \"BUSD\", display: \"BUSD\" },\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"BAT\", display: \"BAT\" },\n        { value: \"AAVE\", display: \"AAVE\" },\n        { value: \"COMP\", display: \"COMP\" },\n        { value: \"UNI\", display: \"UNI\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [{ value: \"MATIC\", display: \"MATIC\" }],\n      // [BSC_MAINNET]: [{ value: 'BNB', display: 'BNB' }],\n    },\n    includeFees: true,\n    enforceMax: true,\n  },\n};\n\nconst translations = {\n  en: {\n    embed: {\n      continue: \"Continue\",\n      actionRequired: \"Authorization required\",\n      pendingAction: \"Click continue to proceed with your request in a popup\",\n      cookiesRequired: \"Cookies Required\",\n      enableCookies: \"Please enable cookies in your browser preferences to access Torus\",\n      clickHere: \"More Info\",\n    },\n  },\n  de: {\n    embed: {\n      continue: \"Fortsetzen\",\n      actionRequired: \"Autorisierung erforderlich\",\n      pendingAction: \"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren\",\n      cookiesRequired: \"Cookies bentigt\",\n      enableCookies: \"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen\",\n      clickHere: \"Mehr Info\",\n    },\n  },\n  ja: {\n    embed: {\n      continue: \"\",\n      actionRequired: \"\",\n      pendingAction: \"\",\n      cookiesRequired: \"\",\n      enableCookies: \"TorusCookie\",\n      clickHere: \"\",\n    },\n  },\n  ko: {\n    embed: {\n      continue: \"\",\n      actionRequired: \" \",\n      pendingAction: \"    .\",\n      cookiesRequired: \" \",\n      enableCookies: \"     Torus .\",\n      clickHere: \"  \",\n    },\n  },\n  zh: {\n    embed: {\n      continue: \"\",\n      actionRequired: \"\",\n      pendingAction: \"\",\n      cookiesRequired: \"Cookie\",\n      enableCookies: \"cookieTorus\",\n      clickHere: \"\",\n    },\n  },\n} as LocaleLinks<{ embed: EMBED_TRANSLATION_ITEM }>;\n\nexport default {\n  supportedVerifierList: Object.values(WALLET_VERIFIERS),\n  paymentProviders,\n  api: \"https://api.tor.us\",\n  translations,\n  prodTorusUrl: \"\",\n  localStorageKeyPrefix: `torus-`,\n};\n","import { Stream } from \"pump\";\n\nexport const htmlToElement = <T extends Element>(html: string): T => {\n  const template = window.document.createElement(\"template\");\n  const trimmedHtml = html.trim(); // Never return a text node of whitespace as the result\n  template.innerHTML = trimmedHtml;\n  return template.content.firstChild as T;\n};\n\nexport const handleEvent = (handle: EventTarget, eventName: string, handler: (...args: unknown[]) => void, ...handlerArgs: unknown[]): void => {\n  const handlerWrapper = () => {\n    handler(...handlerArgs);\n    handle.removeEventListener(eventName, handlerWrapper);\n  };\n  handle.addEventListener(eventName, handlerWrapper);\n};\n\nexport const handleStream = (handle: Stream, eventName: string, handler: (chunk: unknown) => void): void => {\n  const handlerWrapper = (chunk: unknown) => {\n    handler(chunk);\n    handle.removeListener(eventName, handlerWrapper);\n  };\n  handle.on(eventName, handlerWrapper);\n};\n","import loglevel from \"loglevel\";\n\nexport default loglevel.getLogger(\"torus-embed\");\n","export default {\n  errors: {\n    disconnected: (): string => \"Torus: Lost connection to Torus.\",\n    permanentlyDisconnected: (): string => \"Torus: Disconnected from iframe. Page reload required.\",\n    sendSiteMetadata: (): string => \"Torus: Failed to send site metadata. This is an internal error, please report this bug.\",\n    unsupportedSync: (method: string): string =>\n      `Torus: The Torus Ethereum provider does not support synchronous methods like ${method} without a callback parameter.`,\n    invalidDuplexStream: (): string => \"Must provide a Node.js-style duplex stream.\",\n    invalidOptions: (maxEventListeners: number, shouldSendMetadata: boolean): string =>\n      `Invalid options. Received: { maxEventListeners: ${maxEventListeners}, shouldSendMetadata: ${shouldSendMetadata} }`,\n    invalidRequestArgs: (): string => `Expected a single, non-array, object argument.`,\n    invalidRequestMethod: (): string => `'args.method' must be a non-empty string.`,\n    invalidRequestParams: (): string => `'args.params' must be an object or array if provided.`,\n    invalidLoggerObject: (): string => `'args.logger' must be an object if provided.`,\n    invalidLoggerMethod: (method: string): string => `'args.logger' must include required method '${method}'.`,\n  },\n  info: {\n    connected: (chainId: string): string => `Torus: Connected to chain with ID \"${chainId}\".`,\n  },\n  warnings: {\n    // deprecated methods\n    enableDeprecation:\n      'Torus: \"\"ethereum.enable()\" is deprecated and may be removed in the future. ' +\n      'Please use \"ethereum.send(\"eth_requestAccounts\")\" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',\n    sendDeprecation:\n      'Torus: \"ethereum.send(...)\" is deprecated and may be removed in the future.' +\n      ' Please use \"ethereum.sendAsync(...)\" or \"ethereum.request(...)\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',\n    events: {\n      close:\n        'Torus: The event \"close\" is deprecated and may be removed in the future. Please use \"disconnect\" instead.' +\n        \"\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193\",\n      data:\n        'Torus: The event \"data\" is deprecated and will be removed in the future.' +\n        'Use \"message\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',\n      networkChanged:\n        'Torus: The event \"networkChanged\" is deprecated and may be removed in the future.' +\n        ' Please use \"chainChanged\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',\n      notification:\n        'Torus: The event \"notification\" is deprecated and may be removed in the future. ' +\n        'Please use \"message\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',\n    },\n    publicConfigStore: 'Torus: The property \"publicConfigStore\" is deprecated and WILL be removed in the future.',\n  },\n};\n","import { SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\n\nexport class ObservableStore<T> extends SafeEventEmitter {\n  private _state: T;\n\n  constructor(initState: T) {\n    super();\n    if (initState === undefined) {\n      this._state = {} as unknown as T;\n    } else {\n      this._state = initState;\n    }\n  }\n\n  getState(): T {\n    return this._getState();\n  }\n\n  putState(newState: T): void {\n    this._putState(newState);\n    this.emit(\"update\", newState);\n  }\n\n  updateState(partialState: Partial<T>): void {\n    // if non-null object, merge\n    if (partialState && typeof partialState === \"object\") {\n      const state = this.getState();\n      this.putState({ ...state, ...partialState });\n      // if not object, use new value\n    } else {\n      this.putState(partialState as T);\n    }\n  }\n\n  subscribe(handler: (state: T) => void): void {\n    this.on(\"update\", handler);\n  }\n\n  unsubscribe(handler: (state: T) => void): void {\n    this.removeListener(\"update\", handler);\n  }\n\n  protected _getState(): T {\n    return this._state;\n  }\n\n  protected _putState(newState: T): void {\n    this._state = newState;\n  }\n}\n","import { _IWritable, Duplex as DuplexStream } from \"readable-stream\";\n\nimport { ObservableStore } from \"./ObservableStore\";\n\nclass ObservableStoreStream<T> extends DuplexStream {\n  handler: (state: T) => void;\n\n  obsStore: ObservableStore<T>;\n\n  constructor(obsStore: ObservableStore<T>) {\n    super({\n      // pass values, not serializations\n      objectMode: true,\n    });\n    // dont buffer outgoing updates\n    this.resume();\n    // save handler so we can unsubscribe later\n    this.handler = (state: T) => this.push(state);\n    // subscribe to obsStore changes\n    this.obsStore = obsStore;\n    this.obsStore.subscribe(this.handler);\n  }\n\n  // emit current state on new destination\n  pipe<U extends _IWritable>(dest: U, options?: { end?: boolean }): U {\n    const result = super.pipe(dest, options);\n    dest.write(this.obsStore.getState() as any);\n    return result;\n  }\n\n  // write from incoming stream to state\n  _write(chunk: any, _encoding: string, callback: (error?: Error | null) => void): void {\n    this.obsStore.putState(chunk);\n    callback();\n  }\n\n  // noop - outgoing stream is asking us if we have data we arent giving it\n  _read(_size: number): void {\n    return undefined;\n  }\n\n  // unsubscribe from event emitter\n  _destroy(err: Error | null, callback: (error: Error | null) => void): void {\n    this.obsStore.unsubscribe(this.handler);\n    super._destroy(err, callback);\n  }\n}\n\nexport function storeAsStream<T>(obsStore: ObservableStore<T>): ObservableStoreStream<T> {\n  return new ObservableStoreStream(obsStore);\n}\n","import { rpcErrors } from \"@metamask/rpc-errors\";\nimport { get } from \"@toruslabs/http-helpers\";\nimport { JRPCMiddleware, PendingJRPCResponse, SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\nimport { LogLevelDesc } from \"loglevel\";\n\nimport config from \"./config\";\nimport { IntegrityParams, PAYMENT_PROVIDER, PAYMENT_PROVIDER_TYPE, PaymentParams, TORUS_BUILD_ENV_TYPE } from \"./interfaces\";\nimport log from \"./loglevel\";\n\nconst { paymentProviders } = config;\n\ntype PaymentErrorParams = {\n  fiatValue?: string;\n  selectedCurrency?: string;\n  selectedCryptoCurrency?: string;\n};\n\ntype PaymentErrors = { provider?: string } & PaymentErrorParams;\n\nexport const validatePaymentProvider = (provider: string, params: PaymentParams): { errors: PaymentErrors; isValid: boolean } => {\n  const errors: PaymentErrors = {};\n\n  if (!provider) {\n    return { errors, isValid: true };\n  }\n\n  if (provider && !paymentProviders[provider]) {\n    errors.provider = \"Invalid Provider\";\n    return { errors, isValid: Object.keys(errors).length === 0 };\n  }\n\n  const selectedProvider = paymentProviders[provider as PAYMENT_PROVIDER_TYPE];\n  const selectedParams = params || {};\n\n  // set default values\n  // if (!selectedParams.selectedCurrency) [selectedParams.selectedCurrency] = selectedProvider.validCurrencies\n  // if (!selectedParams.fiatValue) selectedParams.fiatValue = selectedProvider.minOrderValue\n  // if (!selectedParams.selectedCryptoCurrency) [selectedParams.selectedCryptoCurrency] = selectedProvider.validCryptoCurrencies\n\n  // validations\n  if (selectedParams.fiatValue) {\n    const requestedOrderAmount = +parseFloat(selectedParams.fiatValue.toString()) || 0;\n    if (requestedOrderAmount < selectedProvider.minOrderValue) errors.fiatValue = \"Requested amount is lower than supported\";\n    if (requestedOrderAmount > selectedProvider.maxOrderValue && selectedProvider.enforceMax)\n      errors.fiatValue = \"Requested amount is higher than supported\";\n  }\n  if (selectedParams.selectedCurrency && !selectedProvider.validCurrencies.includes(selectedParams.selectedCurrency)) {\n    errors.selectedCurrency = \"Unsupported currency\";\n  }\n  if (selectedParams.selectedCryptoCurrency) {\n    const validCryptoCurrenciesByChain = Object.values(selectedProvider.validCryptoCurrenciesByChain)\n      .flat()\n      .map((currency) => currency.value);\n\n    const finalCryptoCurrency =\n      provider === PAYMENT_PROVIDER.MOONPAY ? selectedParams.selectedCryptoCurrency.toLowerCase() : selectedParams.selectedCryptoCurrency;\n\n    if (validCryptoCurrenciesByChain && !validCryptoCurrenciesByChain.includes(finalCryptoCurrency))\n      errors.selectedCryptoCurrency = \"Unsupported cryptoCurrency\";\n  }\n  return { errors, isValid: Object.keys(errors).length === 0 };\n};\n\n// utility functions\n\n/**\n * json-rpc-engine middleware that logs RPC errors and and validates req.method.\n *\n * @param log - The logging API to use.\n * @returns  json-rpc-engine middleware function\n */\nexport function createErrorMiddleware(): JRPCMiddleware<unknown, unknown> {\n  return (req, res, next) => {\n    // json-rpc-engine will terminate the request when it notices this error\n    if (typeof req.method !== \"string\" || !req.method) {\n      res.error = rpcErrors.invalidRequest({\n        message: `The request 'method' must be a non-empty string.`,\n        data: { ...(req || {}), cause: \"The request 'method' must be a non-empty string.\" },\n      });\n    }\n\n    next((done) => {\n      const { error } = res;\n      if (!error) {\n        return done();\n      }\n      log.error(`MetaMask - RPC Error: ${error.message}`, error);\n      return done();\n    });\n  };\n}\n\n// resolve response.result or response, reject errors\nexport const getRpcPromiseCallback =\n  (resolve: (value?: any) => void, reject: (error?: Error) => void, unwrapResult = true) =>\n  (error: Error, response: PendingJRPCResponse<unknown>): void => {\n    if (error || response.error) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      reject(error || response.error);\n    } else {\n      resolve(!unwrapResult || Array.isArray(response) ? response : response.result);\n    }\n  };\n\n/**\n * Logs a stream disconnection error. Emits an 'error' if given an\n * EventEmitter that has listeners for the 'error' event.\n *\n * @param log - The logging API to use.\n * @param remoteLabel - The label of the disconnected stream.\n * @param error - The associated error to log.\n * @param emitter - The logging API to use.\n */\nexport function logStreamDisconnectWarning(remoteLabel: string, error: Error, emitter: SafeEventEmitter): void {\n  let warningMsg = `MetaMask: Lost connection to \"${remoteLabel}\".`;\n  if (error?.stack) {\n    warningMsg += `\\n${error.stack}`;\n  }\n  log.warn(warningMsg);\n  if (emitter && emitter.listenerCount(\"error\") > 0) {\n    emitter.emit(\"error\", warningMsg);\n  }\n}\n\nexport const getPreopenInstanceId = () => Math.random().toString(36).slice(2);\n\nexport const getTorusUrl = async (\n  buildEnv: TORUS_BUILD_ENV_TYPE,\n  integrity: IntegrityParams\n): Promise<{ torusUrl: string; logLevel: LogLevelDesc }> => {\n  let torusUrl: string;\n  let logLevel: LogLevelDesc;\n  // Do not change this line\n  const version = process.env.TORUS_EMBED_VERSION;\n  let versionUsed = integrity.version || version;\n  try {\n    if ((buildEnv === \"binance\" || buildEnv === \"production\") && !integrity.version) {\n      let response: { data: string };\n      if (!config.prodTorusUrl)\n        response = await get(`${config.api}/latestversion?name=@toruslabs/torus-embed&version=${version}`, {}, { useAPIKey: true });\n      else response = { data: config.prodTorusUrl };\n      versionUsed = response.data;\n      // eslint-disable-next-line require-atomic-updates\n      config.prodTorusUrl = response.data;\n    }\n  } catch (error) {\n    log.error(error, \"unable to fetch latest version\");\n  }\n  log.info(\"version used: \", versionUsed);\n  switch (buildEnv) {\n    case \"binance\":\n      torusUrl = `https://binance.tor.us/v${versionUsed}`;\n      logLevel = \"info\";\n      break;\n    case \"testing\":\n      torusUrl = \"https://testing.tor.us\";\n      logLevel = \"debug\";\n      break;\n    case \"bnb\":\n      torusUrl = \"https://bnb.tor.us\";\n      logLevel = \"error\";\n      break;\n    case \"polygon\":\n      torusUrl = \"https://polygon.tor.us\";\n      logLevel = \"error\";\n      break;\n    case \"lrc\":\n      torusUrl = \"https://lrc.tor.us\";\n      logLevel = \"debug\";\n      break;\n    case \"beta\":\n      torusUrl = \"https://beta.tor.us\";\n      logLevel = \"debug\";\n      break;\n    case \"development\":\n      torusUrl = \"http://localhost:4050\";\n      logLevel = \"debug\";\n      break;\n    case \"alpha\":\n      torusUrl = \"https://alpha.tor.us\";\n      logLevel = \"debug\";\n      break;\n    default:\n      torusUrl = `https://app.tor.us/v${versionUsed}`;\n      logLevel = \"error\";\n      break;\n  }\n  return { torusUrl, logLevel };\n};\n\nexport const getUserLanguage = (): string => {\n  let userLanguage = window.navigator.language || \"en-US\";\n  const userLanguages = userLanguage.split(\"-\");\n  userLanguage = Object.prototype.hasOwnProperty.call(config.translations, userLanguages[0]) ? userLanguages[0] : \"en\";\n  return userLanguage;\n};\n\nexport const EMITTED_NOTIFICATIONS = [\n  \"eth_subscription\", // per eth-json-rpc-filters/subscriptionManager\n];\n\nexport const NOOP = (): void => {\n  // empty function\n};\n\nexport const FEATURES_PROVIDER_CHANGE_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375\";\nexport const FEATURES_DEFAULT_WALLET_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315\";\nexport const FEATURES_DEFAULT_POPUP_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=1200\";\nexport const FEATURES_CONFIRM_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450\";\n\nexport function getPopupFeatures(): string {\n  // Fixes dual-screen position                             Most browsers      Firefox\n  const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n\n  const w = 1200;\n  const h = 700;\n\n  const width = window.innerWidth\n    ? window.innerWidth\n    : document.documentElement.clientWidth\n    ? document.documentElement.clientWidth\n    : window.screen.width;\n\n  const height = window.innerHeight\n    ? window.innerHeight\n    : document.documentElement.clientHeight\n    ? document.documentElement.clientHeight\n    : window.screen.height;\n\n  const systemZoom = 1; // No reliable estimate\n\n  const left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n  const top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n  const features = `titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${h / systemZoom},width=${w / systemZoom},top=${top},left=${left}`;\n  return features;\n}\n","import { EthereumProviderError, rpcErrors } from \"@metamask/rpc-errors\";\nimport {\n  createIdRemapMiddleware,\n  createStreamMiddleware,\n  JRPCEngine,\n  JRPCRequest,\n  JRPCResponse,\n  JRPCSuccess,\n  ObjectMultiplex,\n  SafeEventEmitter,\n} from \"@toruslabs/openlogin-jrpc\";\nimport dequal from \"fast-deep-equal\";\nimport { duplex as isDuplexStream } from \"is-stream\";\nimport pump from \"pump\";\nimport type { Duplex } from \"readable-stream\";\n\nimport {\n  BaseProviderState,\n  JsonRpcConnection,\n  Maybe,\n  ProviderOptions,\n  PublicConfigState,\n  RequestArguments,\n  SendSyncJsonRpcRequest,\n  SentWarningsState,\n  UnvalidatedJsonRpcRequest,\n  WalletProviderState,\n} from \"./interfaces\";\nimport log from \"./loglevel\";\nimport messages from \"./messages\";\nimport { ObservableStore } from \"./ObservableStore\";\nimport { storeAsStream } from \"./ObservableStoreStream\";\nimport { createErrorMiddleware, EMITTED_NOTIFICATIONS, logStreamDisconnectWarning, NOOP } from \"./utils\";\n\nSafeEventEmitter.defaultMaxListeners = 100;\n\n// resolve response.result, reject errors\nconst getRpcPromiseCallback =\n  (resolve, reject, unwrapResult = true) =>\n  (error, response) => {\n    if (error || response.error) {\n      return reject(error || response.error);\n    }\n    return !unwrapResult || Array.isArray(response) ? resolve(response) : resolve(response.result);\n  };\n\nclass TorusInpageProvider extends SafeEventEmitter {\n  protected static _defaultState: BaseProviderState = {\n    accounts: null,\n    isConnected: false,\n    isUnlocked: false,\n    initialized: false,\n    isPermanentlyDisconnected: false,\n    hasEmittedConnection: false,\n  };\n\n  /**\n   * The chain ID of the currently connected Ethereum chain.\n   * See [chainId.network]{@link https://chainid.network} for more information.\n   */\n  public chainId: string | null;\n\n  /**\n   * The user's currently selected Ethereum address.\n   * If null, MetaMask is either locked or the user has not permitted any\n   * addresses to be viewed.\n   */\n  public selectedAddress: string | null;\n\n  _rpcEngine: JRPCEngine;\n\n  public networkVersion: string | null;\n\n  shouldSendMetadata: boolean;\n\n  /**\n   * Indicating that this provider is a MetaMask provider.\n   */\n  public readonly isTorus: true;\n\n  _publicConfigStore: ObservableStore<PublicConfigState>;\n\n  tryPreopenHandle: (payload: UnvalidatedJsonRpcRequest | UnvalidatedJsonRpcRequest[], cb: (...args: unknown[]) => void) => void;\n\n  enable: () => Promise<string[]>;\n\n  protected _state: BaseProviderState;\n\n  protected _jsonRpcConnection: JsonRpcConnection;\n\n  protected _sentWarnings: SentWarningsState = {\n    // methods\n    enable: false,\n    experimentalMethods: false,\n    send: false,\n    publicConfigStore: false,\n    // events\n    events: {\n      close: false,\n      data: false,\n      networkChanged: false,\n      notification: false,\n    },\n  };\n\n  constructor(\n    connectionStream: Duplex,\n    { maxEventListeners = 100, shouldSendMetadata = true, jsonRpcStreamName = \"provider\" }: ProviderOptions = {}\n  ) {\n    super();\n    if (!isDuplexStream(connectionStream)) {\n      throw new Error(messages.errors.invalidDuplexStream());\n    }\n    this.isTorus = true;\n    this.setMaxListeners(maxEventListeners);\n\n    // private state\n    this._state = {\n      ...TorusInpageProvider._defaultState,\n    };\n\n    // public state\n    this.selectedAddress = null;\n    this.networkVersion = null;\n    this.chainId = null;\n    this.shouldSendMetadata = shouldSendMetadata;\n\n    // bind functions (to prevent e.g. web3@1.x from making unbound calls)\n    this._handleAccountsChanged = this._handleAccountsChanged.bind(this);\n    this._handleChainChanged = this._handleChainChanged.bind(this);\n    this._handleUnlockStateChanged = this._handleUnlockStateChanged.bind(this);\n    this._handleConnect = this._handleConnect.bind(this);\n    this._handleDisconnect = this._handleDisconnect.bind(this);\n    this._handleStreamDisconnect = this._handleStreamDisconnect.bind(this);\n    this._sendSync = this._sendSync.bind(this);\n    this._rpcRequest = this._rpcRequest.bind(this);\n    this._warnOfDeprecation = this._warnOfDeprecation.bind(this);\n    this._initializeState = this._initializeState.bind(this);\n\n    this.request = this.request.bind(this);\n    this.send = this.send.bind(this);\n    this.sendAsync = this.sendAsync.bind(this);\n    // this.enable = this.enable.bind(this);\n\n    // setup connectionStream multiplexing\n    const mux = new ObjectMultiplex();\n    pump(connectionStream, mux, connectionStream, this._handleStreamDisconnect.bind(this, \"MetaMask\"));\n\n    // subscribe to metamask public config (one-way)\n    this._publicConfigStore = new ObservableStore({ storageKey: \"Metamask-Config\" });\n\n    // handle isUnlocked changes, and chainChanged and networkChanged events\n    // this._publicConfigStore.subscribe((stringifiedState) => {\n    //   // This is because we are using store as string\n    //   const state = JSON.parse(stringifiedState as unknown as string);\n    //   if (\"isUnlocked\" in state && state.isUnlocked !== this._state.isUnlocked) {\n    //     this._state.isUnlocked = state.isUnlocked;\n    //     if (!this._state.isUnlocked) {\n    //       // accounts are never exposed when the extension is locked\n    //       this._handleAccountsChanged([]);\n    //     } else {\n    //       // this will get the exposed accounts, if any\n    //       try {\n    //         this._rpcRequest(\n    //           { method: \"eth_accounts\", params: [] },\n    //           NOOP,\n    //           true // indicating that eth_accounts _should_ update accounts\n    //         );\n    //       } catch (_) {\n    //         // Swallow error\n    //       }\n    //     }\n    //   }\n\n    //   if (\"selectedAddress\" in state && this.selectedAddress !== state.selectedAddress) {\n    //     try {\n    //       this._rpcRequest(\n    //         { method: \"eth_accounts\", params: [] },\n    //         NOOP,\n    //         true // indicating that eth_accounts _should_ update accounts\n    //       );\n    //     } catch (_) {\n    //       // Swallow error\n    //     }\n    //   }\n\n    //   // Emit chainChanged event on chain change\n    //   if (\"chainId\" in state && state.chainId !== this.chainId) {\n    //     this.chainId = state.chainId || null;\n    //     this.emit(\"chainChanged\", this.chainId);\n\n    //     // indicate that we've connected, for EIP-1193 compliance\n    //     // we do this here so that iframe can initialize\n    //     if (!this._state.hasEmittedConnection) {\n    //       this._handleConnect(this.chainId);\n    //       this._state.hasEmittedConnection = true;\n    //     }\n    //   }\n\n    //   // Emit networkChanged event on network change\n    //   if (\"networkVersion\" in state && state.networkVersion !== this.networkVersion) {\n    //     this.networkVersion = state.networkVersion || null;\n    //     this.emit(\"networkChanged\", this.networkVersion);\n    //   }\n    // });\n\n    pump(\n      mux.createStream(\"publicConfig\") as unknown as Duplex,\n      storeAsStream(this._publicConfigStore),\n      // RPC requests should still work if only this stream fails\n      logStreamDisconnectWarning.bind(this, \"MetaMask PublicConfigStore\")\n    );\n    // ignore phishing warning message (handled elsewhere)\n    mux.ignoreStream(\"phishing\");\n\n    // setup own event listeners\n\n    // EIP-1193 connect\n    this.on(\"connect\", () => {\n      this._state.isConnected = true;\n    });\n\n    // connect to async provider\n\n    const jsonRpcConnection = createStreamMiddleware();\n    pump(\n      jsonRpcConnection.stream,\n      mux.createStream(jsonRpcStreamName) as unknown as Duplex,\n      jsonRpcConnection.stream,\n      this._handleStreamDisconnect.bind(this, \"MetaMask RpcProvider\")\n    );\n\n    // handle RPC requests via dapp-side rpc engine\n    const rpcEngine = new JRPCEngine();\n    rpcEngine.push(createIdRemapMiddleware());\n    rpcEngine.push(createErrorMiddleware());\n    rpcEngine.push(jsonRpcConnection.middleware);\n    this._rpcEngine = rpcEngine;\n\n    // json rpc notification listener\n    jsonRpcConnection.events.on(\"notification\", (payload) => {\n      const { method, params } = payload;\n      if (method === \"wallet_accountsChanged\") {\n        this._handleAccountsChanged(params);\n      } else if (method === \"wallet_unlockStateChanged\") {\n        this._handleUnlockStateChanged(params);\n      } else if (method === \"wallet_chainChanged\") {\n        this._handleChainChanged(params);\n      } else if (EMITTED_NOTIFICATIONS.includes(payload.method)) {\n        // EIP 1193 subscriptions, per eth-json-rpc-filters/subscriptionManager\n        this.emit(\"data\", payload); // deprecated\n        this.emit(\"notification\", params.result);\n        this.emit(\"message\", {\n          type: method,\n          data: params,\n        });\n      }\n\n      // Backward compatibility for older non EIP 1193 subscriptions\n      // this.emit('data', null, payload)\n    });\n  }\n\n  get publicConfigStore(): ObservableStore<PublicConfigState> {\n    if (!this._sentWarnings.publicConfigStore) {\n      log.warn(messages.warnings.publicConfigStore);\n      this._sentWarnings.publicConfigStore = true;\n    }\n    return this._publicConfigStore;\n  }\n\n  /**\n   * Returns whether the inpage provider is connected to Torus.\n   */\n  isConnected(): boolean {\n    return this._state.isConnected;\n  }\n\n  /**\n   * Submits an RPC request for the given method, with the given params.\n   * Resolves with the result of the method call, or rejects on error.\n   *\n   * @param args - The RPC request arguments.\n   * @returns A Promise that resolves with the result of the RPC method,\n   * or rejects if an error is encountered.\n   */\n  async request<T>(args: RequestArguments): Promise<Maybe<T>> {\n    if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n      throw rpcErrors.invalidRequest({\n        message: messages.errors.invalidRequestArgs(),\n        data: { ...(args || {}), cause: messages.errors.invalidRequestArgs() },\n      });\n    }\n\n    const { method, params } = args;\n\n    if (typeof method !== \"string\" || method.length === 0) {\n      throw rpcErrors.invalidRequest({\n        message: messages.errors.invalidRequestMethod(),\n        data: { ...(args || {}), cause: messages.errors.invalidRequestArgs() },\n      });\n    }\n\n    if (params !== undefined && !Array.isArray(params) && (typeof params !== \"object\" || params === null)) {\n      throw rpcErrors.invalidRequest({\n        message: messages.errors.invalidRequestParams(),\n        data: { ...(args || {}), cause: messages.errors.invalidRequestArgs() },\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      this._rpcRequest({ method, params }, getRpcPromiseCallback(resolve, reject));\n    });\n  }\n\n  /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   *\n   * @param payload - The RPC request object.\n   * @param cb - The callback function.\n   */\n  sendAsync(payload: JRPCRequest<unknown>, callback: (error: Error | null, result?: JRPCResponse<unknown>) => void): void {\n    this._rpcRequest(payload, callback);\n  }\n\n  /**\n   * We override the following event methods so that we can warn consumers\n   * about deprecated events:\n   *   addListener, on, once, prependListener, prependOnceListener\n   */\n\n  addListener(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.addListener(eventName, listener);\n  }\n\n  on(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.on(eventName, listener);\n  }\n\n  once(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.once(eventName, listener);\n  }\n\n  prependListener(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.prependListener(eventName, listener);\n  }\n\n  prependOnceListener(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.prependOnceListener(eventName, listener);\n  }\n\n  // Private Methods\n  //= ===================\n  /**\n   * Constructor helper.\n   * Populates initial state by calling 'wallet_getProviderState' and emits\n   * necessary events.\n   */\n  async _initializeState(): Promise<void> {\n    try {\n      const { accounts, chainId, isUnlocked, networkVersion } = (await this.request({\n        method: \"wallet_getProviderState\",\n      })) as WalletProviderState;\n\n      // indicate that we've connected, for EIP-1193 compliance\n      this.emit(\"connect\", { chainId });\n\n      this._handleChainChanged({ chainId, networkVersion });\n      this._handleUnlockStateChanged({ accounts, isUnlocked });\n      this._handleAccountsChanged(accounts);\n    } catch (error) {\n      log.error(\"MetaMask: Failed to get initial state. Please report this bug.\", error);\n    } finally {\n      log.info(\"initialized state\");\n      this._state.initialized = true;\n      this.emit(\"_initialized\");\n    }\n  }\n\n  /**\n   * Internal RPC method. Forwards requests to background via the RPC engine.\n   * Also remap ids inbound and outbound.\n   *\n   * @param payload - The RPC request object.\n   * @param callback - The consumer's callback.\n   * @param isInternal - false - Whether the request is internal.\n   */\n  _rpcRequest(payload: UnvalidatedJsonRpcRequest | UnvalidatedJsonRpcRequest[], callback: (...args: any[]) => void, isInternal = false): void {\n    let cb = callback;\n    const _payload = payload;\n    if (!Array.isArray(_payload)) {\n      if (!_payload.jsonrpc) {\n        _payload.jsonrpc = \"2.0\";\n      }\n\n      if (_payload.method === \"eth_accounts\" || _payload.method === \"eth_requestAccounts\") {\n        // handle accounts changing\n        cb = (err: Error, res: JRPCSuccess<string[]>) => {\n          this._handleAccountsChanged(res.result || [], _payload.method === \"eth_accounts\", isInternal);\n          callback(err, res);\n        };\n      } else if (_payload.method === \"wallet_getProviderState\") {\n        this._rpcEngine.handle(payload as JRPCRequest<unknown>, cb);\n        return;\n      }\n    }\n    this.tryPreopenHandle(_payload, cb);\n  }\n\n  /**\n   * Submits an RPC request for the given method, with the given params.\n   *\n   * @deprecated Use \"request\" instead.\n   * @param method - The method to request.\n   * @param params - Any params for the method.\n   * @returns A Promise that resolves with the JSON-RPC response object for the\n   * request.\n   */\n  send<T>(method: string, params?: T[]): Promise<JRPCResponse<T>>;\n\n  /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   *\n   * @deprecated Use \"request\" instead.\n   * @param payload - A JSON-RPC request object.\n   * @param callback - An error-first callback that will receive the JSON-RPC\n   * response object.\n   */\n  send<T>(payload: JRPCRequest<unknown>, callback: (error: Error | null, result?: JRPCResponse<T>) => void): void;\n\n  /**\n   * Accepts a JSON-RPC request object, and synchronously returns the cached result\n   * for the given method. Only supports 4 specific RPC methods.\n   *\n   * @deprecated Use \"request\" instead.\n   * @param payload - A JSON-RPC request object.\n   * @returns A JSON-RPC response object.\n   */\n  send<T>(payload: SendSyncJsonRpcRequest): JRPCResponse<T>;\n\n  send(methodOrPayload: unknown, callbackOrArgs?: unknown): unknown {\n    if (!this._sentWarnings.send) {\n      log.warn(messages.warnings.sendDeprecation);\n      this._sentWarnings.send = true;\n    }\n    if (typeof methodOrPayload === \"string\" && (!callbackOrArgs || Array.isArray(callbackOrArgs))) {\n      return new Promise((resolve, reject) => {\n        try {\n          this._rpcRequest({ method: methodOrPayload, params: callbackOrArgs }, getRpcPromiseCallback(resolve, reject, false));\n        } catch (error) {\n          reject(error);\n        }\n      });\n    }\n    if (methodOrPayload && typeof methodOrPayload === \"object\" && typeof callbackOrArgs === \"function\") {\n      return this._rpcRequest(methodOrPayload as JRPCRequest<unknown>, callbackOrArgs as (...args: unknown[]) => void);\n    }\n    return this._sendSync(methodOrPayload as SendSyncJsonRpcRequest);\n  }\n\n  /**\n   * DEPRECATED.\n   * Internal backwards compatibility method, used in send.\n   */\n  _sendSync(payload: SendSyncJsonRpcRequest): JRPCSuccess<unknown> {\n    let result;\n    switch (payload.method) {\n      case \"eth_accounts\":\n        result = this.selectedAddress ? [this.selectedAddress] : [];\n        break;\n\n      case \"eth_coinbase\":\n        result = this.selectedAddress || null;\n        break;\n\n      case \"eth_uninstallFilter\":\n        this._rpcRequest(payload, NOOP);\n        result = true;\n        break;\n\n      case \"net_version\":\n        result = this.networkVersion || null;\n        break;\n\n      default:\n        throw new Error(messages.errors.unsupportedSync(payload.method));\n    }\n\n    return {\n      id: payload.id,\n      jsonrpc: payload.jsonrpc,\n      result,\n    };\n  }\n\n  /**\n   * When the provider becomes connected, updates internal state and emits\n   * required events. Idempotent.\n   *\n   * @param chainId - The ID of the newly connected chain.\n   * emits MetaMaskInpageProvider#connect\n   */\n  protected _handleConnect(chainId: string): void {\n    if (!this._state.isConnected) {\n      this._state.isConnected = true;\n      this.emit(\"connect\", { chainId });\n      log.debug(messages.info.connected(chainId));\n    }\n  }\n\n  /**\n   * When the provider becomes disconnected, updates internal state and emits\n   * required events. Idempotent with respect to the isRecoverable parameter.\n   *\n   * Error codes per the CloseEvent status codes as required by EIP-1193:\n   * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n   *\n   * @param isRecoverable - Whether the disconnection is recoverable.\n   * @param errorMessage - A custom error message.\n   * emits MetaMaskInpageProvider#disconnect\n   */\n  protected _handleDisconnect(isRecoverable: boolean, errorMessage?: string): void {\n    if (this._state.isConnected || (!this._state.isPermanentlyDisconnected && !isRecoverable)) {\n      this._state.isConnected = false;\n\n      let error;\n      if (isRecoverable) {\n        error = new EthereumProviderError(\n          1013, // Try again later\n          errorMessage || messages.errors.disconnected()\n        );\n        log.debug(error);\n      } else {\n        error = new EthereumProviderError(\n          1011, // Internal error\n          errorMessage || messages.errors.permanentlyDisconnected()\n        );\n        log.error(error);\n        this.chainId = null;\n        this._state.accounts = null;\n        this.selectedAddress = null;\n        this._state.isUnlocked = false;\n        this._state.isPermanentlyDisconnected = true;\n      }\n\n      this.emit(\"disconnect\", error);\n    }\n  }\n\n  /**\n   * Called when connection is lost to critical streams.\n   *\n   * emits MetamaskInpageProvider#disconnect\n   */\n  protected _handleStreamDisconnect(streamName: string, error: Error): void {\n    logStreamDisconnectWarning(streamName, error, this);\n    this._handleDisconnect(false, error ? error.message : undefined);\n  }\n\n  /**\n   * Called when accounts may have changed.\n   */\n  protected _handleAccountsChanged(accounts: unknown[], isEthAccounts = false, isInternal = false): void {\n    // defensive programming\n    let finalAccounts = accounts;\n    if (!Array.isArray(finalAccounts)) {\n      log.error(\"MetaMask: Received non-array accounts parameter. Please report this bug.\", finalAccounts);\n      finalAccounts = [];\n    }\n\n    for (const account of accounts) {\n      if (typeof account !== \"string\") {\n        log.error(\"MetaMask: Received non-string account. Please report this bug.\", accounts);\n        finalAccounts = [];\n        break;\n      }\n    }\n\n    // emit accountsChanged if anything about the accounts array has changed\n    if (!dequal(this._state.accounts, finalAccounts)) {\n      // we should always have the correct accounts even before eth_accounts\n      // returns, except in cases where isInternal is true\n      if (isEthAccounts && Array.isArray(this._state.accounts) && this._state.accounts.length > 0 && !isInternal) {\n        log.error('MetaMask: \"eth_accounts\" unexpectedly updated accounts. Please report this bug.', finalAccounts);\n      }\n\n      this._state.accounts = finalAccounts as string[];\n      this.emit(\"accountsChanged\", finalAccounts);\n    }\n\n    // handle selectedAddress\n    if (this.selectedAddress !== finalAccounts[0]) {\n      this.selectedAddress = (finalAccounts[0] as string) || null;\n    }\n  }\n\n  /**\n   * Upon receipt of a new chainId and networkVersion, emits corresponding\n   * events and sets relevant public state.\n   * Does nothing if neither the chainId nor the networkVersion are different\n   * from existing values.\n   *\n   * emits MetamaskInpageProvider#chainChanged\n   * @param networkInfo - An object with network info.\n   */\n  protected _handleChainChanged({ chainId, networkVersion }: { chainId?: string; networkVersion?: string } = {}): void {\n    if (!chainId || !networkVersion) {\n      log.error(\"MetaMask: Received invalid network parameters. Please report this bug.\", { chainId, networkVersion });\n      return;\n    }\n\n    if (networkVersion === \"loading\") {\n      this._handleDisconnect(true);\n    } else {\n      this._handleConnect(chainId);\n\n      if (chainId !== this.chainId) {\n        this.chainId = chainId;\n        if (this._state.initialized) {\n          this.emit(\"chainChanged\", this.chainId);\n        }\n      }\n    }\n  }\n\n  /**\n   * Upon receipt of a new isUnlocked state, sets relevant public state.\n   * Calls the accounts changed handler with the received accounts, or an empty\n   * array.\n   *\n   * Does nothing if the received value is equal to the existing value.\n   * There are no lock/unlock events.\n   *\n   * @param opts - Options bag.\n   */\n  protected _handleUnlockStateChanged({ accounts, isUnlocked }: { accounts?: string[]; isUnlocked?: boolean } = {}): void {\n    if (typeof isUnlocked !== \"boolean\") {\n      log.error(\"MetaMask: Received invalid isUnlocked parameter. Please report this bug.\", { isUnlocked });\n      return;\n    }\n\n    if (isUnlocked !== this._state.isUnlocked) {\n      this._state.isUnlocked = isUnlocked;\n      this._handleAccountsChanged(accounts || []);\n    }\n  }\n\n  /**\n   * Warns of deprecation for the given event, if applicable.\n   */\n  protected _warnOfDeprecation(eventName: string): void {\n    if (this._sentWarnings.events[eventName] === false) {\n      log.warn(messages.warnings.events[eventName]);\n      this._sentWarnings.events[eventName] = true;\n    }\n  }\n}\n\nexport default TorusInpageProvider;\n","import { EventEmitter } from \"events\";\n\nimport { getPopupFeatures } from \"./utils\";\n\nclass PopupHandler extends EventEmitter {\n  url: URL;\n\n  target: string;\n\n  features: string;\n\n  window: Window;\n\n  windowTimer: number;\n\n  iClosedWindow: boolean;\n\n  constructor({ url, target, features }: { url: URL; target?: string; features?: string }) {\n    super();\n    this.url = url;\n    this.target = target || \"_blank\";\n    this.features = features || getPopupFeatures();\n    this.window = undefined;\n    this.windowTimer = undefined;\n    this.iClosedWindow = false;\n    this._setupTimer();\n  }\n\n  _setupTimer(): void {\n    this.windowTimer = Number(\n      setInterval(() => {\n        if (this.window && this.window.closed) {\n          clearInterval(this.windowTimer);\n          if (!this.iClosedWindow) {\n            this.emit(\"close\");\n          }\n          this.iClosedWindow = false;\n          this.window = undefined;\n        }\n        if (this.window === undefined) clearInterval(this.windowTimer);\n      }, 500)\n    );\n  }\n\n  open(): void {\n    this.window = window.open(this.url.href, this.target, this.features);\n    if (this.window?.focus) this.window.focus();\n  }\n\n  close(): void {\n    this.iClosedWindow = true;\n    if (this.window) this.window.close();\n  }\n\n  redirect(locationReplaceOnRedirect: boolean): void {\n    if (locationReplaceOnRedirect) {\n      window.location.replace(this.url.href);\n    } else {\n      window.location.href = this.url.href;\n    }\n  }\n}\n\nexport default PopupHandler;\n","import { JRPCEngine } from \"@toruslabs/openlogin-jrpc\";\n\nimport log from \"./loglevel\";\nimport messages from \"./messages\";\nimport { getPreopenInstanceId, NOOP } from \"./utils\";\n\n/**\n * Returns whether the given image URL exists\n * @param url - the url of the image\n * @returns - whether the image exists\n */\nfunction imgExists(url: string): Promise<boolean> {\n  return new Promise((resolve, reject) => {\n    try {\n      const img = document.createElement(\"img\");\n      img.onload = () => resolve(true);\n      img.onerror = () => resolve(false);\n      img.src = url;\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\n/**\n * Extracts a name for the site from the DOM\n */\nconst getSiteName = (window: Window) => {\n  const { document } = window;\n\n  const siteName = document.querySelector<HTMLMetaElement>('head > meta[property=\"og:site_name\"]');\n  if (siteName) {\n    return siteName.content;\n  }\n\n  const metaTitle = document.querySelector<HTMLMetaElement>('head > meta[name=\"title\"]');\n  if (metaTitle) {\n    return metaTitle.content;\n  }\n\n  if (document.title && document.title.length > 0) {\n    return document.title;\n  }\n\n  return window.location.hostname;\n};\n\n/**\n * Extracts an icon for the site from the DOM\n */\nasync function getSiteIcon(window: Window): Promise<string | null> {\n  const { document } = window;\n\n  // Use the site's favicon if it exists\n  let icon = document.querySelector<HTMLLinkElement>('head > link[rel=\"shortcut icon\"]');\n  if (icon && (await imgExists(icon.href))) {\n    return icon.href;\n  }\n\n  // Search through available icons in no particular order\n  icon = Array.from(document.querySelectorAll<HTMLLinkElement>('head > link[rel=\"icon\"]')).find((_icon) => Boolean(_icon.href));\n  if (icon && (await imgExists(icon.href))) {\n    return icon.href;\n  }\n\n  return null;\n}\n\n/**\n * Gets site metadata and returns it\n *\n */\nconst getSiteMetadata = async () => ({\n  name: getSiteName(window),\n  icon: await getSiteIcon(window),\n});\n\n/**\n * Sends site metadata over an RPC request.\n */\nexport default async function sendSiteMetadata(engine: JRPCEngine): Promise<void> {\n  try {\n    const domainMetadata = await getSiteMetadata();\n    // call engine.handle directly to avoid normal RPC request handling\n    engine.handle(\n      {\n        jsonrpc: \"2.0\",\n        id: getPreopenInstanceId(),\n        method: \"wallet_sendDomainMetadata\",\n        params: domainMetadata,\n      },\n      NOOP\n    );\n  } catch (error) {\n    log.error({\n      message: messages.errors.sendSiteMetadata(),\n      originalError: error,\n    });\n  }\n}\n","import { get, setAPIKey } from \"@toruslabs/http-helpers\";\nimport { BasePostMessageStream, JRPCRequest, ObjectMultiplex, setupMultiplex, Substream } from \"@toruslabs/openlogin-jrpc\";\nimport deepmerge from \"lodash.merge\";\n\nimport configuration from \"./config\";\nimport { handleStream, htmlToElement } from \"./embedUtils\";\nimport TorusInpageProvider from \"./inpage-provider\";\nimport {\n  BUTTON_POSITION,\n  BUTTON_POSITION_TYPE,\n  EMBED_TRANSLATION_ITEM,\n  NetworkInterface,\n  PAYMENT_PROVIDER_TYPE,\n  PaymentParams,\n  TORUS_BUILD_ENV,\n  TorusCtorArgs,\n  TorusLoginParams,\n  TorusParams,\n  TorusPublicKey,\n  UnvalidatedJsonRpcRequest,\n  UserInfo,\n  VerifierArgs,\n  WALLET_OPENLOGIN_VERIFIER_MAP,\n  WALLET_PATH,\n  WhiteLabelParams,\n} from \"./interfaces\";\nimport log from \"./loglevel\";\nimport PopupHandler from \"./PopupHandler\";\nimport sendSiteMetadata from \"./siteMetadata\";\nimport {\n  FEATURES_CONFIRM_WINDOW,\n  FEATURES_DEFAULT_WALLET_WINDOW,\n  FEATURES_PROVIDER_CHANGE_WINDOW,\n  getPreopenInstanceId,\n  getTorusUrl,\n  getUserLanguage,\n  validatePaymentProvider,\n} from \"./utils\";\n\nconst UNSAFE_METHODS = [\n  \"eth_sendTransaction\",\n  \"eth_signTypedData\",\n  \"eth_signTypedData_v3\",\n  \"eth_signTypedData_v4\",\n  \"personal_sign\",\n  \"eth_getEncryptionPublicKey\",\n  \"eth_decrypt\",\n  \"wallet_addEthereumChain\",\n  \"wallet_switchEthereumChain\",\n];\n\n// preload for iframe doesn't work https://bugs.chromium.org/p/chromium/issues/detail?id=593267\n(async function preLoadIframe() {\n  try {\n    if (typeof document === \"undefined\") return;\n    const torusIframeHtml = document.createElement(\"link\");\n    const { torusUrl } = await getTorusUrl(\"production\", { version: \"\" });\n    torusIframeHtml.href = `${torusUrl}/popup`;\n    torusIframeHtml.crossOrigin = \"anonymous\";\n    torusIframeHtml.type = \"text/html\";\n    torusIframeHtml.rel = \"prefetch\";\n    if (torusIframeHtml.relList && torusIframeHtml.relList.supports) {\n      if (torusIframeHtml.relList.supports(\"prefetch\")) {\n        document.head.appendChild(torusIframeHtml);\n      }\n    }\n  } catch (error) {\n    log.warn(error);\n  }\n})();\n\nclass Torus {\n  buttonPosition: BUTTON_POSITION_TYPE = BUTTON_POSITION.BOTTOM_LEFT;\n\n  buttonSize: number;\n\n  torusUrl: string;\n\n  torusIframe: HTMLIFrameElement;\n\n  styleLink: HTMLLinkElement;\n\n  isLoggedIn: boolean;\n\n  isInitialized: boolean;\n\n  torusWidgetVisibility: boolean;\n\n  torusAlert: HTMLDivElement;\n\n  apiKey: string;\n\n  modalZIndex: number;\n\n  alertZIndex: number;\n\n  torusAlertContainer: HTMLDivElement;\n\n  isIframeFullScreen: boolean;\n\n  whiteLabel: WhiteLabelParams;\n\n  requestedVerifier: string;\n\n  currentVerifier: string;\n\n  embedTranslations: EMBED_TRANSLATION_ITEM;\n\n  ethereum: TorusInpageProvider;\n\n  provider: TorusInpageProvider;\n\n  communicationMux: ObjectMultiplex;\n\n  isLoginCallback: () => void;\n\n  paymentProviders = configuration.paymentProviders;\n\n  private loginHint = \"\";\n\n  private useWalletConnect: boolean;\n\n  private isCustomLogin = false;\n\n  constructor({ buttonPosition = BUTTON_POSITION.BOTTOM_LEFT, buttonSize = 56, modalZIndex = 99999, apiKey = \"torus-default\" }: TorusCtorArgs = {}) {\n    this.buttonPosition = buttonPosition;\n    this.buttonSize = buttonSize;\n    this.torusUrl = \"\";\n    this.isLoggedIn = false; // ethereum.enable working\n    this.isInitialized = false; // init done\n    this.torusWidgetVisibility = true;\n    this.requestedVerifier = \"\";\n    this.currentVerifier = \"\";\n    this.apiKey = apiKey;\n    setAPIKey(apiKey);\n    this.modalZIndex = modalZIndex;\n    this.alertZIndex = modalZIndex + 1000;\n    this.isIframeFullScreen = false;\n  }\n\n  async init({\n    buildEnv = TORUS_BUILD_ENV.PRODUCTION,\n    enableLogging = false,\n    network = {\n      host: \"mainnet\",\n      chainId: null,\n      networkName: \"\",\n      blockExplorer: \"\",\n      ticker: \"\",\n      tickerName: \"\",\n    },\n    loginConfig = {},\n    showTorusButton = true,\n    integrity = {\n      version: \"\",\n    },\n    whiteLabel,\n    useWalletConnect = false,\n    mfaLevel = \"default\",\n  }: TorusParams = {}): Promise<void> {\n    if (this.isInitialized) throw new Error(\"Already initialized\");\n    const { torusUrl, logLevel } = await getTorusUrl(buildEnv, integrity);\n    log.info(torusUrl, \"url loaded\");\n    this.torusUrl = torusUrl;\n    this.whiteLabel = whiteLabel;\n    this.useWalletConnect = useWalletConnect;\n    this.isCustomLogin = !!(loginConfig && Object.keys(loginConfig).length > 0) || !!(whiteLabel && Object.keys(whiteLabel).length > 0);\n\n    log.setDefaultLevel(logLevel);\n    if (enableLogging) log.enableAll();\n    else log.disableAll();\n    this.torusWidgetVisibility = showTorusButton;\n    const torusIframeUrl = new URL(torusUrl);\n    if (torusIframeUrl.pathname.endsWith(\"/\")) torusIframeUrl.pathname += \"popup\";\n    else torusIframeUrl.pathname += \"/popup\";\n\n    torusIframeUrl.hash = `#isCustomLogin=${this.isCustomLogin}`;\n\n    // Iframe code\n    this.torusIframe = htmlToElement<HTMLIFrameElement>(\n      `<iframe\n        id=\"torusIframe\"\n        allow=${useWalletConnect ? \"camera\" : \"\"}\n        class=\"torusIframe\"\n        src=\"${torusIframeUrl.href}\"\n        style=\"display: none; position: fixed; top: 0; right: 0; width: 100%; color-scheme: none;\n        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex}\"\n      ></iframe>`\n    );\n\n    this.torusAlertContainer = htmlToElement<HTMLDivElement>('<div id=\"torusAlertContainer\"></div>');\n    this.torusAlertContainer.style.display = \"none\";\n    this.torusAlertContainer.style.setProperty(\"z-index\", this.alertZIndex.toString());\n\n    const link = window.document.createElement(\"link\");\n    link.setAttribute(\"rel\", \"stylesheet\");\n    link.setAttribute(\"type\", \"text/css\");\n    link.setAttribute(\"href\", `${torusUrl}/css/widget.css`);\n    this.styleLink = link;\n\n    const { defaultLanguage = getUserLanguage(), customTranslations = {} } = this.whiteLabel || {};\n    const mergedTranslations = deepmerge(configuration.translations, customTranslations);\n    const languageTranslations = mergedTranslations[defaultLanguage] || configuration.translations[getUserLanguage()];\n    this.embedTranslations = languageTranslations.embed;\n\n    return new Promise((resolve, reject) => {\n      this.torusIframe.onload = async () => {\n        // only do this if iframe is not full screen\n        this._setupWeb3();\n        const initStream = this.communicationMux.getStream(\"init_stream\") as Substream;\n        initStream.on(\"data\", (chunk) => {\n          const { name, data, error } = chunk;\n          if (name === \"init_complete\" && data.success) {\n            // resolve promise\n            this.isInitialized = true;\n            this._displayIframe(this.isIframeFullScreen);\n            resolve(undefined);\n          } else if (error) {\n            reject(new Error(error));\n          }\n        });\n        initStream.write({\n          name: \"init_stream\",\n          data: {\n            loginConfig,\n            whiteLabel: this.whiteLabel,\n            buttonPosition: this.buttonPosition,\n            buttonSize: this.buttonSize,\n            torusWidgetVisibility: this.torusWidgetVisibility,\n            apiKey: this.apiKey,\n            network,\n            mfaLevel,\n          },\n        });\n      };\n      window.document.head.appendChild(this.styleLink);\n      window.document.body.appendChild(this.torusIframe);\n      window.document.body.appendChild(this.torusAlertContainer);\n    });\n  }\n\n  login({ verifier = \"\", login_hint: loginHint = \"\" }: TorusLoginParams = {}): Promise<string[]> {\n    if (!this.isInitialized) throw new Error(\"Call init() first\");\n    this.requestedVerifier = verifier;\n    this.loginHint = loginHint;\n    return this.ethereum.enable();\n  }\n\n  logout(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (!this.isLoggedIn) {\n        reject(new Error(\"User has not logged in yet\"));\n        return;\n      }\n\n      const logOutStream = this.communicationMux.getStream(\"logout\") as Substream;\n      logOutStream.write({ name: \"logOut\" });\n      const statusStream = this.communicationMux.getStream(\"status\") as Substream;\n      const statusStreamHandler = (status) => {\n        if (!status.loggedIn) {\n          this.isLoggedIn = false;\n          this.currentVerifier = \"\";\n          this.requestedVerifier = \"\";\n          resolve();\n        } else reject(new Error(\"Some Error Occured\"));\n      };\n      handleStream(statusStream, \"data\", statusStreamHandler);\n    });\n  }\n\n  async cleanUp(): Promise<void> {\n    if (this.isLoggedIn) {\n      await this.logout();\n    }\n    this.clearInit();\n  }\n\n  clearInit(): void {\n    function isElement(element: unknown) {\n      return element instanceof Element || element instanceof HTMLDocument;\n    }\n    if (isElement(this.styleLink) && window.document.body.contains(this.styleLink)) {\n      this.styleLink.remove();\n      this.styleLink = undefined;\n    }\n    if (isElement(this.torusIframe) && window.document.body.contains(this.torusIframe)) {\n      this.torusIframe.remove();\n      this.torusIframe = undefined;\n    }\n    if (isElement(this.torusAlertContainer) && window.document.body.contains(this.torusAlertContainer)) {\n      this.torusAlert = undefined;\n      this.torusAlertContainer.remove();\n      this.torusAlertContainer = undefined;\n    }\n    this.isInitialized = false;\n  }\n\n  hideTorusButton(): void {\n    this.torusWidgetVisibility = false;\n    this._sendWidgetVisibilityStatus(false);\n    this._displayIframe();\n  }\n\n  showTorusButton(): void {\n    this.torusWidgetVisibility = true;\n    this._sendWidgetVisibilityStatus(true);\n    this._displayIframe();\n  }\n\n  setProvider({ host = \"mainnet\", chainId = null, networkName = \"\", ...rest }: NetworkInterface): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const providerChangeStream = this.communicationMux.getStream(\"provider_change\") as Substream;\n      const handler = (chunk) => {\n        const { err, success } = chunk.data;\n        log.info(chunk);\n        if (err) {\n          reject(err);\n        } else if (success) {\n          resolve();\n        } else reject(new Error(\"some error occurred\"));\n      };\n      handleStream(providerChangeStream, \"data\", handler);\n      const preopenInstanceId = getPreopenInstanceId();\n      this._handleWindow(preopenInstanceId, {\n        target: \"_blank\",\n        features: FEATURES_PROVIDER_CHANGE_WINDOW,\n      });\n      providerChangeStream.write({\n        name: \"show_provider_change\",\n        data: {\n          network: {\n            host,\n            chainId,\n            networkName,\n            ...rest,\n          },\n          preopenInstanceId,\n          override: false,\n        },\n      });\n    });\n  }\n\n  showWallet(path: WALLET_PATH, params: Record<string, string> = {}): void {\n    const showWalletStream = this.communicationMux.getStream(\"show_wallet\") as Substream;\n    const finalPath = path ? `/${path}` : \"\";\n    showWalletStream.write({ name: \"show_wallet\", data: { path: finalPath } });\n\n    const showWalletHandler = (chunk) => {\n      if (chunk.name === \"show_wallet_instance\") {\n        // Let the error propogate up (hence, no try catch)\n        const { instanceId } = chunk.data;\n        const finalUrl = new URL(`${this.torusUrl}/wallet${finalPath}`);\n        // Using URL constructor to prevent js injection and allow parameter validation.!\n        finalUrl.searchParams.append(\"integrity\", \"true\");\n        finalUrl.searchParams.append(\"instanceId\", instanceId);\n        Object.keys(params).forEach((x) => {\n          finalUrl.searchParams.append(x, params[x]);\n        });\n        finalUrl.hash = `#isCustomLogin=${this.isCustomLogin}`;\n\n        const walletWindow = new PopupHandler({ url: finalUrl, features: FEATURES_DEFAULT_WALLET_WINDOW });\n        walletWindow.open();\n      }\n    };\n\n    handleStream(showWalletStream, \"data\", showWalletHandler);\n  }\n\n  async getPublicAddress({ verifier, verifierId, isExtended = false }: VerifierArgs): Promise<string | TorusPublicKey> {\n    if (!configuration.supportedVerifierList.includes(verifier) || !WALLET_OPENLOGIN_VERIFIER_MAP[verifier]) throw new Error(\"Unsupported verifier\");\n    const walletVerifier = verifier;\n    const openloginVerifier = WALLET_OPENLOGIN_VERIFIER_MAP[verifier];\n    const url = new URL(`https://api.tor.us/lookup/torus`);\n    url.searchParams.append(\"verifier\", openloginVerifier);\n    url.searchParams.append(\"verifierId\", verifierId);\n    url.searchParams.append(\"walletVerifier\", walletVerifier);\n    url.searchParams.append(\"network\", \"mainnet\");\n    url.searchParams.append(\"isExtended\", isExtended.toString());\n    return get(\n      url.href,\n      {\n        headers: {\n          \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n      },\n      { useAPIKey: true }\n    );\n  }\n\n  getUserInfo(message: string): Promise<UserInfo> {\n    return new Promise((resolve, reject) => {\n      if (this.isLoggedIn) {\n        const userInfoAccessStream = this.communicationMux.getStream(\"user_info_access\") as Substream;\n        userInfoAccessStream.write({ name: \"user_info_access_request\" });\n        const userInfoAccessHandler = (chunk) => {\n          const {\n            name,\n            data: { approved, payload, rejected, newRequest },\n          } = chunk;\n          if (name === \"user_info_access_response\") {\n            if (approved) {\n              resolve(payload);\n            } else if (rejected) {\n              reject(new Error(\"User rejected the request\"));\n            } else if (newRequest) {\n              const userInfoStream = this.communicationMux.getStream(\"user_info\") as Substream;\n              const userInfoHandler = (handlerChunk) => {\n                if (handlerChunk.name === \"user_info_response\") {\n                  if (handlerChunk.data.approved) {\n                    resolve(handlerChunk.data.payload);\n                  } else {\n                    reject(new Error(\"User rejected the request\"));\n                  }\n                }\n              };\n              handleStream(userInfoStream, \"data\", userInfoHandler);\n              const preopenInstanceId = getPreopenInstanceId();\n              this._handleWindow(preopenInstanceId, {\n                target: \"_blank\",\n                features: FEATURES_PROVIDER_CHANGE_WINDOW,\n              });\n              userInfoStream.write({ name: \"user_info_request\", data: { message, preopenInstanceId } });\n            }\n          }\n        };\n        handleStream(userInfoAccessStream, \"data\", userInfoAccessHandler);\n      } else reject(new Error(\"User has not logged in yet\"));\n    });\n  }\n\n  initiateTopup(provider: PAYMENT_PROVIDER_TYPE, params: PaymentParams): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      if (this.isInitialized) {\n        const { errors, isValid } = validatePaymentProvider(provider, params);\n        if (!isValid) {\n          reject(new Error(JSON.stringify(errors)));\n          return;\n        }\n        const topupStream = this.communicationMux.getStream(\"topup\") as Substream;\n        const topupHandler = (chunk) => {\n          if (chunk.name === \"topup_response\") {\n            if (chunk.data.success) {\n              resolve(chunk.data.success);\n            } else {\n              reject(new Error(chunk.data.error));\n            }\n          }\n        };\n        handleStream(topupStream, \"data\", topupHandler);\n        const preopenInstanceId = getPreopenInstanceId();\n        this._handleWindow(preopenInstanceId);\n        topupStream.write({ name: \"topup_request\", data: { provider, params, preopenInstanceId } });\n      } else reject(new Error(\"Torus is not initialized yet\"));\n    });\n  }\n\n  async loginWithPrivateKey(loginParams: { privateKey: string; userInfo: Omit<UserInfo, \"isNewUser\"> }): Promise<void> {\n    const { privateKey, userInfo } = loginParams;\n    return new Promise((resolve, reject) => {\n      if (this.isInitialized) {\n        if (Buffer.from(privateKey, \"hex\").length !== 32) {\n          reject(new Error(\"Invalid private key, Please provide a 32 byte valid secp25k1 private key\"));\n          return;\n        }\n        const loginPrivKeyStream = this.communicationMux.getStream(\"login_with_private_key\") as Substream;\n        const loginHandler = (chunk) => {\n          if (chunk.name === \"login_with_private_key_response\") {\n            if (chunk.data.success) {\n              resolve(chunk.data.success);\n            } else {\n              reject(new Error(chunk.data.error));\n            }\n          }\n        };\n        handleStream(loginPrivKeyStream, \"data\", loginHandler);\n        loginPrivKeyStream.write({ name: \"login_with_private_key_request\", data: { privateKey, userInfo } });\n      } else reject(new Error(\"Torus is not initialized yet\"));\n    });\n  }\n\n  async showWalletConnectScanner(): Promise<void> {\n    if (!this.useWalletConnect) throw new Error(\"Set `useWalletConnect` as true in init function options to use wallet connect scanner\");\n    return new Promise((resolve, reject) => {\n      if (this.isLoggedIn) {\n        const walletConnectStream = this.communicationMux.getStream(\"wallet_connect_stream\") as Substream;\n        const walletConnectHandler = (chunk) => {\n          if (chunk.name === \"wallet_connect_stream_res\") {\n            if (chunk.data.success) {\n              resolve(chunk.data.success);\n            } else {\n              reject(new Error(chunk.data.error));\n            }\n            this._displayIframe();\n          }\n        };\n        handleStream(walletConnectStream, \"data\", walletConnectHandler);\n        walletConnectStream.write({ name: \"wallet_connect_stream_req\" });\n        this._displayIframe(true);\n      } else reject(new Error(\"User has not logged in yet\"));\n    });\n  }\n\n  protected _handleWindow(preopenInstanceId: string, { url, target, features }: { url?: string; target?: string; features?: string } = {}): void {\n    if (preopenInstanceId) {\n      const windowStream = this.communicationMux.getStream(\"window\") as Substream;\n      const finalUrl = new URL(url || `${this.torusUrl}/redirect?preopenInstanceId=${preopenInstanceId}`);\n      if (finalUrl.hash) finalUrl.hash += `&isCustomLogin=${this.isCustomLogin}`;\n      else finalUrl.hash = `#isCustomLogin=${this.isCustomLogin}`;\n\n      const handledWindow = new PopupHandler({ url: finalUrl, target, features });\n      handledWindow.open();\n      if (!handledWindow.window) {\n        this._createPopupBlockAlert(preopenInstanceId, finalUrl.href);\n        return;\n      }\n      windowStream.write({\n        name: \"opened_window\",\n        data: {\n          preopenInstanceId,\n        },\n      });\n      const closeHandler = ({ preopenInstanceId: receivedId, close }) => {\n        if (receivedId === preopenInstanceId && close) {\n          handledWindow.close();\n          windowStream.removeListener(\"data\", closeHandler);\n        }\n      };\n      windowStream.on(\"data\", closeHandler);\n      handledWindow.once(\"close\", () => {\n        windowStream.write({\n          data: {\n            preopenInstanceId,\n            closed: true,\n          },\n        });\n        windowStream.removeListener(\"data\", closeHandler);\n      });\n    }\n  }\n\n  protected _setEmbedWhiteLabel(element: HTMLElement): void {\n    // Set whitelabel\n    const { theme } = this.whiteLabel || {};\n    if (theme) {\n      const { isDark = false, colors = {} } = theme;\n      if (isDark) element.classList.add(\"torus-dark\");\n\n      if (colors.torusBrand1) element.style.setProperty(\"--torus-brand-1\", colors.torusBrand1);\n      if (colors.torusGray2) element.style.setProperty(\"--torus-gray-2\", colors.torusGray2);\n    }\n  }\n\n  protected _getLogoUrl(): string {\n    let logoUrl = `${this.torusUrl}/images/torus_icon-blue.svg`;\n    if (this.whiteLabel?.theme?.isDark) {\n      logoUrl = this.whiteLabel?.logoLight || logoUrl;\n    } else {\n      logoUrl = this.whiteLabel?.logoDark || logoUrl;\n    }\n\n    return logoUrl;\n  }\n\n  protected _sendWidgetVisibilityStatus(status: boolean): void {\n    const torusWidgetVisibilityStream = this.communicationMux.getStream(\"torus-widget-visibility\") as Substream;\n    torusWidgetVisibilityStream.write({\n      data: status,\n    });\n  }\n\n  protected _displayIframe(isFull = false): void {\n    const style: Partial<CSSStyleDeclaration> = {};\n    const size = this.buttonSize + 14; // 15px padding\n    // set phase\n    if (!isFull) {\n      style.display = this.torusWidgetVisibility ? \"block\" : \"none\";\n      style.height = `${size}px`;\n      style.width = `${size}px`;\n      switch (this.buttonPosition) {\n        case BUTTON_POSITION.TOP_LEFT:\n          style.top = \"0px\";\n          style.left = \"0px\";\n          style.right = \"auto\";\n          style.bottom = \"auto\";\n          break;\n        case BUTTON_POSITION.TOP_RIGHT:\n          style.top = \"0px\";\n          style.right = \"0px\";\n          style.left = \"auto\";\n          style.bottom = \"auto\";\n          break;\n        case BUTTON_POSITION.BOTTOM_RIGHT:\n          style.bottom = \"0px\";\n          style.right = \"0px\";\n          style.top = \"auto\";\n          style.left = \"auto\";\n          break;\n        case BUTTON_POSITION.BOTTOM_LEFT:\n        default:\n          style.bottom = \"0px\";\n          style.left = \"0px\";\n          style.top = \"auto\";\n          style.right = \"auto\";\n          break;\n      }\n    } else {\n      style.display = \"block\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      style.top = \"0px\";\n      style.right = \"0px\";\n      style.left = \"0px\";\n      style.bottom = \"0px\";\n    }\n    Object.assign(this.torusIframe.style, style);\n    this.isIframeFullScreen = isFull;\n  }\n\n  protected _setupWeb3(): void {\n    log.info(\"setupWeb3 running\");\n    // setup background connection\n    const metamaskStream = new BasePostMessageStream({\n      name: \"embed_metamask\",\n      target: \"iframe_metamask\",\n      targetWindow: this.torusIframe.contentWindow,\n      targetOrigin: new URL(this.torusUrl).origin,\n    });\n\n    // Due to compatibility reasons, we should not set up multiplexing on window.metamaskstream\n    // because the MetamaskInpageProvider also attempts to do so.\n    // We create another LocalMessageDuplexStream for communication between dapp <> iframe\n    const communicationStream = new BasePostMessageStream({\n      name: \"embed_comm\",\n      target: \"iframe_comm\",\n      targetWindow: this.torusIframe.contentWindow,\n      targetOrigin: new URL(this.torusUrl).origin,\n    });\n\n    // Backward compatibility with Gotchi :)\n    // window.metamaskStream = this.communicationStream\n\n    // compose the inpage provider\n    const inpageProvider = new TorusInpageProvider(metamaskStream);\n\n    // detect eth_requestAccounts and pipe to enable for now\n    const detectAccountRequestPrototypeModifier = (m) => {\n      const originalMethod = inpageProvider[m];\n      inpageProvider[m] = function providerFunc(method, ...args) {\n        if (method && method === \"eth_requestAccounts\") {\n          return inpageProvider.enable();\n        }\n        return originalMethod.apply(this, [method, ...args]);\n      };\n    };\n\n    detectAccountRequestPrototypeModifier(\"send\");\n    detectAccountRequestPrototypeModifier(\"sendAsync\");\n\n    inpageProvider.enable = () => {\n      return new Promise((resolve, reject) => {\n        // If user is already logged in, we assume they have given access to the website\n        inpageProvider.sendAsync({ jsonrpc: \"2.0\", id: getPreopenInstanceId(), method: \"eth_requestAccounts\", params: [] }, (err, response) => {\n          const { result: res } = (response as { result: unknown }) || {};\n          if (err) {\n            setTimeout(() => {\n              reject(err);\n            }, 50);\n          } else if (Array.isArray(res) && res.length > 0) {\n            // If user is already rehydrated, resolve this\n            // else wait for something to be written to status stream\n            const handleLoginCb = () => {\n              if (this.requestedVerifier !== \"\" && this.currentVerifier !== this.requestedVerifier) {\n                const { requestedVerifier } = this;\n                // eslint-disable-next-line promise/no-promise-in-callback\n                this.logout()\n                  // eslint-disable-next-line promise/always-return\n                  .then((_) => {\n                    this.requestedVerifier = requestedVerifier;\n                    this._showLoginPopup(true, resolve, reject);\n                  })\n                  .catch((error) => reject(error));\n              } else {\n                resolve(res);\n              }\n            };\n            if (this.isLoggedIn) {\n              handleLoginCb();\n            } else {\n              this.isLoginCallback = handleLoginCb;\n            }\n          } else {\n            // set up listener for login\n            this._showLoginPopup(true, resolve, reject);\n          }\n        });\n      });\n    };\n\n    inpageProvider.tryPreopenHandle = (payload: UnvalidatedJsonRpcRequest | UnvalidatedJsonRpcRequest[], cb: (...args: unknown[]) => void) => {\n      const _payload = payload;\n      if (!Array.isArray(_payload) && UNSAFE_METHODS.includes(_payload.method)) {\n        const preopenInstanceId = getPreopenInstanceId();\n        this._handleWindow(preopenInstanceId, {\n          target: \"_blank\",\n          features: FEATURES_CONFIRM_WINDOW,\n        });\n        _payload.preopenInstanceId = preopenInstanceId;\n      }\n      inpageProvider._rpcEngine.handle(_payload as JRPCRequest<unknown>[], cb);\n    };\n\n    // Work around for web3@1.0 deleting the bound `sendAsync` but not the unbound\n    // `sendAsync` method on the prototype, causing `this` reference issues with drizzle\n    const proxiedInpageProvider = new Proxy(inpageProvider, {\n      // straight up lie that we deleted the property so that it doesnt\n      // throw an error in strict mode\n      deleteProperty: () => true,\n    });\n\n    this.ethereum = proxiedInpageProvider;\n    const communicationMux = setupMultiplex(communicationStream);\n\n    this.communicationMux = communicationMux;\n\n    const windowStream = communicationMux.getStream(\"window\") as Substream;\n    windowStream.on(\"data\", (chunk) => {\n      if (chunk.name === \"create_window\") {\n        // url is the url we need to open\n        // we can pass the final url upfront so that it removes the step of redirecting to /redirect and waiting for finalUrl\n        this._createPopupBlockAlert(chunk.data.preopenInstanceId, chunk.data.url);\n      }\n    });\n\n    // show torus widget if button clicked\n    const widgetStream = communicationMux.getStream(\"widget\") as Substream;\n    widgetStream.on(\"data\", (chunk) => {\n      const { data } = chunk;\n      this._displayIframe(data);\n    });\n\n    // Show torus button if wallet has been hydrated/detected\n    const statusStream = communicationMux.getStream(\"status\") as Substream;\n    statusStream.on(\"data\", (status) => {\n      // login\n      if (status.loggedIn) {\n        this.isLoggedIn = status.loggedIn;\n        this.currentVerifier = status.verifier;\n      } // logout\n      else this._displayIframe();\n      if (this.isLoginCallback) {\n        this.isLoginCallback();\n        delete this.isLoginCallback;\n      }\n    });\n\n    this.provider = proxiedInpageProvider;\n\n    if (this.provider.shouldSendMetadata) sendSiteMetadata(this.provider._rpcEngine);\n    inpageProvider._initializeState();\n    log.debug(\"Torus - injected provider\");\n  }\n\n  protected _showLoginPopup(calledFromEmbed: boolean, resolve: (a: string[]) => void, reject: (err: Error) => void): void {\n    const loginHandler = (data) => {\n      const { err, selectedAddress } = data;\n      if (err) {\n        log.error(err);\n        if (reject) reject(err);\n      }\n      // returns an array (cause accounts expects it)\n      else if (resolve) resolve([selectedAddress]);\n      if (this.isIframeFullScreen) this._displayIframe();\n    };\n    const oauthStream = this.communicationMux.getStream(\"oauth\") as Substream;\n    if (!this.requestedVerifier) {\n      this._displayIframe(true);\n      handleStream(oauthStream, \"data\", loginHandler);\n      oauthStream.write({ name: \"oauth_modal\", data: { calledFromEmbed } });\n    } else {\n      handleStream(oauthStream, \"data\", loginHandler);\n      const preopenInstanceId = getPreopenInstanceId();\n      this._handleWindow(preopenInstanceId);\n      oauthStream.write({\n        name: \"oauth\",\n        data: { calledFromEmbed, verifier: this.requestedVerifier, preopenInstanceId, login_hint: this.loginHint },\n      });\n    }\n  }\n\n  protected _createPopupBlockAlert(preopenInstanceId: string, url: string): void {\n    const logoUrl = this._getLogoUrl();\n    const torusAlert = htmlToElement<HTMLDivElement>(\n      '<div id=\"torusAlert\" class=\"torus-alert--v2\">' +\n        `<div id=\"torusAlert__logo\"><img src=\"${logoUrl}\" /></div>` +\n        \"<div>\" +\n        `<h1 id=\"torusAlert__title\">${this.embedTranslations.actionRequired}</h1>` +\n        `<p id=\"torusAlert__desc\">${this.embedTranslations.pendingAction}</p>` +\n        \"</div>\" +\n        \"</div>\"\n    );\n\n    const successAlert = htmlToElement(`<div><a id=\"torusAlert__btn\">${this.embedTranslations.continue}</a></div>`);\n    const btnContainer = htmlToElement('<div id=\"torusAlert__btn-container\"></div>');\n    btnContainer.appendChild(successAlert);\n    torusAlert.appendChild(btnContainer);\n    this._setEmbedWhiteLabel(torusAlert);\n\n    this.torusAlertContainer.style.display = \"block\";\n    this.torusAlertContainer.appendChild(torusAlert);\n\n    successAlert.addEventListener(\"click\", () => {\n      this._handleWindow(preopenInstanceId, {\n        url,\n        target: \"_blank\",\n        features: FEATURES_CONFIRM_WINDOW,\n      });\n      torusAlert.remove();\n\n      if (this.torusAlertContainer.children.length === 0) this.torusAlertContainer.style.display = \"none\";\n    });\n  }\n}\n\nexport default Torus;\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}"],"names":["root","factory","module","exports","self","__importDefault","this","mod","__esModule","Object","defineProperty","value","EthereumProviderError","JsonRpcError","utils_1","r","fast_safe_stringify_1","utils_2","Error","constructor","code","message","data","Number","isInteger","super","serialize","serialized","isPlainObject","cause","serializeCause","stack","toString","default","stringifyReplacer","_","errorValues","errorCodes","rpc","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","limitExceeded","parse","invalidRequest","methodNotFound","invalidParams","internal","provider","userRejectedRequest","unauthorized","unsupportedMethod","disconnected","chainDisconnected","standard","providerErrors","rpcErrors","classes_1","error_constants_1","getJsonRpcError","arg","parseOpts","getMessageFromCode","getEthProviderError","Array","isArray","server","opts","custom","enumerable","get","serializeError","errors_1","isValidCode","JSON_RPC_SERVER_ERROR_MESSAGE","FALLBACK_ERROR_CODE","FALLBACK_ERROR","fallbackMessage","codeString","hasProperty","error","map","entry","isValidJson","isObject","serializeObject","object","getOwnPropertyNames","reduce","acc","key","fallbackError","shouldIncludeStack","isJsonRpcError","assertExhaustive","assertStruct","assert","AssertionError","superstruct_1","getError","ErrorWrapper","fn","Boolean","_b","_a","prototype","name","options","struct","errorPrefix","String","endsWith","slice","_object","base64","assert_1","paddingRequired","characterSet","letters","re","raw","RegExp","pattern","createDataView","concatBytes","valueToBytes","stringToBytes","numberToBytes","signedBigIntToBytes","bigIntToBytes","hexToBytes","bytesToString","bytesToNumber","bytesToSignedBigInt","bytesToBigInt","bytesToHex","assertIsBytes","isBytes","hex_1","getPrecomputedHexValues","lookupTable","length","i","push","padStart","Uint8Array","bytes","hexadecimal","add0x","join","BigInt","toLowerCase","call","assertIsHexString","strippedValue","remove0x","normalizedValue","c1","charCodeAt","c2","n1","n2","isSafeInteger","TextEncoder","encode","startsWith","TypeError","byte","asIntN","bigint","MAX_SAFE_INTEGER","TextDecoder","decode","byteLength","mask","numberValue","asUintN","reverse","values","normalizedValues","offset","set","Buffer","buffer","byteOffset","DataView","ChecksumStruct","base64_1","size","string","createHex","createBytes","createBigInt","createNumber","bytes_1","NumberLikeStruct","union","number","StrictHexStruct","NumberCoercer","coerce","BigIntCoercer","BytesCoercer","instance","HexCoercer","result","create","isFinite","StructError","_FrozenMap_map","_FrozenSet_set","__classPrivateFieldSet","receiver","state","kind","f","has","__classPrivateFieldGet","FrozenSet","FrozenMap","entries","Map","freeze","WeakMap","Symbol","iterator","forEach","callbackfn","thisArg","_map","keys","Set","value2","_set","member","t","assertIsStrictHexString","isStrictHexString","isHexString","HexStruct","is","substring","__createBinding","o","m","k","k2","desc","getOwnPropertyDescriptor","writable","configurable","__exportStar","p","hasOwnProperty","getJsonRpcIdValidator","assertIsJsonRpcError","assertIsJsonRpcFailure","isJsonRpcFailure","assertIsJsonRpcSuccess","isJsonRpcSuccess","assertIsJsonRpcResponse","isJsonRpcResponse","assertIsPendingJsonRpcResponse","isPendingJsonRpcResponse","JsonRpcResponseStruct","JsonRpcFailureStruct","JsonRpcSuccessStruct","PendingJsonRpcResponseStruct","assertIsJsonRpcRequest","isJsonRpcRequest","assertIsJsonRpcNotification","isJsonRpcNotification","JsonRpcNotificationStruct","JsonRpcRequestStruct","JsonRpcParamsStruct","JsonRpcErrorStruct","JsonRpcIdStruct","JsonRpcVersionStruct","jsonrpc2","getJsonSize","JsonStruct","UnsafeJsonStruct","literal","boolean","define","array","lazy","record","context","checkStruct","innerValue","errors","validator","unsafeResult","JSON","stringify","RangeError","json","nullable","integer","optional","id","jsonrpc","method","params","omit","unknown","response","permitEmptyString","permitFractions","permitNull","assign","createModuleLogger","createProjectLogger","globalLogger","projectName","extend","projectLogger","moduleName","isASCII","character","JsonSize","calculateNumberSize","calculateStringSize","ESCAPE_CHARACTERS_REGEXP","isNullOrUndefined","isNonEmptyArray","objectToCheck","proto","getPrototypeOf","split","total","match","hexToBigInt","hexToNumber","bigIntToHex","numberToHex","parseInt","Duration","timeSince","inMilliseconds","assertIsNonNegativeInteger","count","duration","timestamp","Date","now","satisfiesVersionRange","gtRange","gtVersion","assertIsSemVerRange","assertIsSemVerVersion","isValidSemVerRange","isValidSemVerVersion","VersionRangeStruct","VersionStruct","semver_1","refine","valid","validRange","version","versionRange","range","version1","version2","gt","gtr","satisfies","includePrerelease","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","doUse","node","hit","isStale","del","unshiftNode","maxAge","diff","trim","walker","tail","prev","delete","removeNode","Entry","forEachStep","thisp","max","Infinity","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","allowStale","mA","lengthCalculator","lC","itemCount","rforEach","head","next","toArray","dump","v","e","filter","h","dumpLru","len","item","unshift","peek","pop","load","arr","l","expiresAt","prune","ANY","Comparator","comp","parseOptions","loose","debug","semver","operator","COMPARATORLOOSE","COMPARATOR","SemVer","test","er","cmp","intersects","Range","includes","safeRe","format","parseRange","c","first","isNullSet","isAny","comps","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","replace","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","rangeList","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","parseComparator","replaceGTE0","rangeMap","comparators","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","M","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","prerelease","allowed","major","minor","patch","MAX_LENGTH","compareIdentifiers","LOOSE","FULL","num","build","compare","other","compareMain","comparePre","a","b","compareBuild","inc","release","identifier","identifierBase","base","isNaN","s","eq","neq","gte","lt","lte","op","rtl","COERCERTL","exec","index","lastIndex","COERCE","versionA","versionB","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","prefix","throwErrors","parsed","list","sort","internalRe","constants","identifiers","clean","rcompare","compareLoose","rsort","toComparators","maxSatisfying","minSatisfying","minVersion","outside","ltr","simplifyRange","subset","src","tokens","SEMVER_SPEC_VERSION","RELEASE_TYPES","rcompareIdentifiers","MAX_SAFE_COMPONENT_LENGTH","process","env","NODE_DEBUG","args","console","numeric","anum","bnum","looseOption","emptyOpts","R","createToken","isGlobal","safe","undefined","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","min","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","ranges","simplified","original","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","add","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","isSub","arguments","insert","inserted","Node","pushNode","res","shift","forEachReverse","n","getReverse","mapReverse","initial","reduceReverse","toArrayReverse","sliceReverse","splice","start","deleteCount","nodes","AbortController","AbortSignal","window","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","indexOf","end","output","ieee754","customInspectSymbol","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","buf","setPrototypeOf","encodingOrOffset","allocUnsafe","encoding","isEncoding","actual","write","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","fromArrayLike","SharedArrayBuffer","valueOf","obj","isBuffer","checked","numberIsNaN","type","toPrimitive","assertSize","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","val","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","hexWrite","remaining","strLen","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","base64Write","ucs2Write","units","hi","lo","Math","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","kMaxLength","TYPED_ARRAY_SUPPORT","foo","poolSize","fill","allocUnsafeSlow","_isBuffer","x","y","concat","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","target","thisStart","thisEnd","thisCopy","targetCopy","toJSON","_arr","out","hexSliceLookupTable","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","last","boundsError","readBigUInt64BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","E","sym","getMessage","Base","addNumericalSeparator","ERR_OUT_OF_RANGE","ERR_INVALID_ARG_TYPE","floor","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","abs","INVALID_BASE64_RE","leadSurrogate","dst","alphabet","table","i16","BufferBigIntNotDefined","formatArgs","useColors","namespace","humanize","color","lastC","save","namespaces","storage","setItem","removeItem","getItem","DEBUG","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","$1","localStorage","destroy","warned","warn","colors","log","formatters","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","curr","ms","formatter","selectColor","init","delimiter","newDebug","toNamespace","regexp","disable","names","skips","enable","hash","once","noop","eos","stream","callback","ws","_writableState","rs","_readableState","readable","cancelled","onlegacyfinish","onfinish","onend","onexit","exitCode","onerror","err","onclose","nextTick","onclosenexttick","ended","destroyed","onrequest","req","on","setHeader","abort","stdio","removeListener","ReflectOwnKeys","Reflect","ReflectApply","Function","ownKeys","getOwnPropertySymbols","NumberIsNaN","EventEmitter","emitter","Promise","resolve","reject","errorListener","resolver","eventTargetAgnosticAddListener","handler","flags","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","events","existing","warning","newListener","emit","w","onceWrapper","fired","wrapFn","_onceWrap","wrapped","bind","_listeners","unwrap","evlistener","arrayClone","listenerCount","addEventListener","wrapListener","removeEventListener","setMaxListeners","getMaxListeners","doError","listeners","addListener","prependListener","prependOnceListener","position","originalListener","off","removeAllListeners","rawListeners","eventNames","equal","source","stable","deterministicStringify","stableStringify","LIMIT_REPLACE_NODE","CIRCULAR_REPLACE_NODE","replacerStack","defaultOptions","depthLimit","edgesLimit","replacer","spacer","decirc","replaceGetterValues","part","setReplace","parent","propertyDescriptor","edgeIndex","depth","compareFunction","deterministicDecirc","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","NaN","rt","LN2","isStream","pipe","_write","_read","duplex","transform","_transform","HASH_UNDEFINED","argsTag","funcTag","objectTag","reIsHostCtor","reIsUint","typedArrayTags","uid","func","freeGlobal","g","freeSelf","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","require","types","binding","nodeIsTypedArray","isTypedArray","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","IE_PROTO","nativeObjectToString","objectCtorString","reIsNative","getPrototype","objectCreate","propertyIsEnumerable","symToStringTag","toStringTag","getNative","nativeIsBuffer","nativeMax","nativeNow","nativeCreate","baseCreate","Hash","clear","ListCache","MapCache","Stack","__data__","assignMergeValue","baseAssignValue","assignValue","objValue","assocIndexOf","baseGetTag","isOwn","tag","unmasked","baseIsArguments","isObjectLike","baseMerge","srcIndex","customizer","iteratee","keysFunc","iterable","props","srcValue","mergeFunc","safeGet","stacked","typedArray","arrayBuffer","newValue","isCommon","isArr","isBuff","isTyped","isArrayLike","isDeep","Ctor","isArguments","isNew","keysIn","isFunction","isPrototype","getMapData","pairs","LARGE_ARRAY_SIZE","baseSetToString","identity","isIndex","setToString","lastCalled","stamp","isLength","inherited","isArg","isType","skipIndexes","isProto","assigner","merge","otherArgs","baseRest","sources","guard","definition","undefinedType","isIE","logMethods","bindMethod","methodName","traceForIE","trace","replaceLoggingMethods","level","loggerName","methodFactory","enableLoggingWhenConsoleArrives","defaultMethodFactory","Logger","defaultLevel","currentLevel","storageKey","getPersistedLevel","storedLevel","ignore","cookie","location","encodeURIComponent","levels","getLevel","setLevel","persist","toUpperCase","SILENT","levelNum","levelName","setDefaultLevel","resetLevel","enableAll","TRACE","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","logger","_log","noConflict","getLoggers","plural","msAbs","isPlural","round","parseFloat","long","wrappy","called","onceStrict","onceError","strict","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","Item","title","browser","argv","cwd","chdir","umask","fs","ancient","isFn","streams","destroys","reading","writing","closed","ReadStream","WriteStream","close","AbortError","codes","isNodeStream","isWebStream","kControllerErrorFunction","addAbortSignal","signal","addAbortSignalNoValidate","onAbort","reason","aborted","StringPrototypeSlice","SymbolIterator","TypedArrayPrototypeSet","consume","hasStrings","_getString","_getBuffer","retLen","for","customInspect","pipeline","Duplex","destroyer","isReadable","isWritable","isTransformStream","isWritableStream","isReadableStream","ERR_INVALID_ARG_VALUE","ERR_MISSING_ARGS","orgStreams","idx","ondrain","onreadable","cb","writableObjectMode","readableObjectMode","chunk","_final","writer","getWriter","async","ready","catch","toRead","reader","getReader","done","_destroy","aggregateTwoErrors","ERR_MULTIPLE_CALLBACK","kDestroyed","isDestroyed","isFinished","isServerRequest","kDestroy","kConstruct","checkError","errored","onDestroy","emitErrorCloseNT","emitCloseNT","emitErrorNT","closeEmitted","emitClose","errorEmitted","errorOrDestroy","sync","autoDestroy","constructNT","onConstruct","constructed","emitConstructNT","_construct","isRequest","emitCloseLegacy","emitErrorCloseLegacy","construct","socket","undestroy","endEmitted","finalCalled","prefinished","ending","finished","ObjectDefineProperties","ObjectGetOwnPropertyDescriptor","ObjectKeys","ObjectSetPrototypeOf","Readable","Writable","allowHalfOpen","webStreamsAdapters","duplexify","lazyWebStreams","__proto__","writableHighWaterMark","writableBuffer","writableLength","writableFinished","writableCorked","writableEnded","writableNeedDrain","fromWeb","pair","newStreamDuplexFromReadableWritablePair","toWeb","newReadableWritablePairFromDuplex","body","bufferModule","isIterable","isReadableNodeStream","isWritableNodeStream","isDuplexNodeStream","ERR_INVALID_RETURN_VALUE","createDeferredPromise","Blob","globalThis","isBlob","FunctionPrototypeCall","Duplexify","_duplexify","wrap","onfinished","final","promise","ac","_promise","_resolve","objectMode","then","ERR_STREAM_PREMATURE_CLOSE","kEmptyObject","validateAbortSignal","validateFunction","validateObject","validateBoolean","PromisePrototypeThen","isClosed","isReadableFinished","isReadableErrored","isWritableFinished","isWritableErrored","willEmitClose","_willEmitClose","kIsClosedPromise","nop","_options$readable","_options$writable","isAborted","originalCallback","resolverFn","wState","rState","readableFinished","onclosed","cleanup","endCallback","_opts","autoCleanup","SymbolAsyncIterator","ERR_STREAM_NULL_VALUES","isAsync","highWaterMark","hadError","hasThrow","throw","return","ArrayIsArray","EE","Stream","event","dest","ondata","pause","resume","_isStdio","didOnEnd","validateInteger","kWeakHandler","staticCompose","ArrayPrototypePush","MathFloor","PromiseReject","kEmpty","kEof","concurrency","_options$signal","_options$signal2","signalOpt","onDone","_val","_options$signal3","unused","ReduceAwareErrMissingArgs","toIntegerOrInfinity","streamReturningOperators","asIndexedPairs","_options$signal4","drop","_options$signal8","_options$signal9","flatMap","take","_options$signal10","_options$signal11","compose","composedStream","promiseReturningOperators","reducer","initialValue","_options$signal5","hasInitialValue","gotAnyItemFromStream","_options$signal6","_options$signal7","find","PassThrough","Transform","destroyImpl","ERR_STREAM_DESTROYED","isReadableEnded","makeAsyncIterable","pumpToNode","finish","onresolve","wait","pumpToWeb","pipelineImpl","outerSignal","lastStreamCleanup","finishImpl","finishCount","isLastStream","onError","_ret","_ret2","pt","endFn","ArrayPrototypeIndexOf","NumberIsInteger","NumberParseInt","SafeSet","ReadableState","BufferList","getHighWaterMark","getDefaultHighWaterMark","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kPaused","StringDecoder","isDuplex","pipes","flowing","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrainWriters","multiAwaitDrain","readingMore","dataEmitted","decoder","maybeReadMore","readableAddChunk","addToFront","_isUint8Array","_uint8ArrayToBuffer","emitReadable","emitReadable_","addChunk","howMuchToRead","flow","maybeReadMore_","updateReadableListening","nReadingNextTick","resume_","streamToAsyncIterator","iter","destroyOnReturn","fromList","endReadable","endReadableNT","endWritableNT","_undestroy","captureRejectionSymbol","isPaused","setEncoding","enc","content","nOrig","doRead","pipeOpts","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","cleanedUp","needDrain","dests","ev","paused","streamKeys","readableDidRead","readableAborted","readableHighWaterMark","readableBuffer","readableFlowing","readableLength","readableEncoding","readableEnded","pipesCount","_fromList","readableStream","newStreamReadableFromReadableStream","streamReadable","newReadableStreamFromStreamReadable","_ref","_src$readableObjectMo","duplexKey","hwm","kCallback","flush","_flush","prefinish","SymbolFor","kIsErrored","kIsReadable","kIsDisturbed","_obj$_readableState","_obj$_writableState","pipeThrough","cancel","isWritableEnded","isOutgoingMessage","_closed","_defaultKeepAlive","_removedConnection","_removedContLen","isServerResponse","_sent100","isDisturbed","_stream$kIsDisturbed","isErrored","_ref2","_ref3","_ref4","_ref5","_stream$kIsErrored","_stream$_readableStat3","_stream$_writableStat3","_stream$_readableStat4","_stream$_writableStat4","readableErrored","writableErrored","_stream$_readableStat","_stream$_readableStat2","_stream$_writableStat","_stream$_writableStat2","_stream$req","_consuming","_dumped","upgradeOrConnect","ArrayPrototypeSlice","FunctionPrototypeSymbolHasInstance","ObjectDefineProperty","StringPrototypeToLowerCase","SymbolHasInstance","WritableState","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_ALREADY_FINISHED","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","kOnFinished","noDecode","decodeStrings","corked","bufferProcessing","onwrite","writecb","writelen","afterWriteTickInfo","resetBuffer","pendingcb","buffered","bufferedIndex","allBuffers","allNoop","writev","_writev","clearBuffer","finishMaybe","doWrite","onwriteError","errorBuffer","afterWriteTick","afterWrite","_state$errored","onfinishCallbacks","_state$errored2","bufferedLength","chunks","needFinish","onFinish","getBuffer","cork","uncork","setDefaultEncoding","writableAborted","writableStream","newStreamWritableFromWritableStream","streamWritable","newWritableStreamFromStreamWritable","ArrayPrototypeIncludes","ArrayPrototypeJoin","ArrayPrototypeMap","NumberMAX_SAFE_INTEGER","NumberMIN_SAFE_INTEGER","ObjectPrototypeHasOwnProperty","RegExpPrototypeExec","StringPrototypeToUpperCase","StringPrototypeTrim","hideStackFrames","ERR_SOCKET_BAD_PORT","ERR_UNKNOWN_SIGNAL","normalizeEncoding","isAsyncFunction","isArrayBufferView","signals","octalReg","validateInt32","validateUint32","positive","validateString","validateOneOf","oneOf","getOwnPropertyValueOrDefault","defaultValue","allowArray","allowFunction","validateDictionary","validateArray","minLength","validateBuffer","validatePlainFunction","validateUndefined","linkValueRegExp","validateLinkHeaderFormat","isInt32","isUint32","parseFileMode","def","validateStringArray","validateBooleanArray","validateEncoding","normalizedEncoding","validatePort","port","allowZero","validateSignalName","validateUnion","validateLinkHeaderValue","hints","hintsLength","link","CustomStream","promises","originalDestroy","AggregateError","CustomAggregateError","kIsNodeError","kTypes","classRegExp","ERR_INTERNAL_ASSERTION","NodeError","expectedLength","defineProperties","hidden","expected","instances","_actual$constructor","inspected","_value$constructor","innerError","outerError","el","sep","ArrayPrototypePop","thisArgs","hasInstance","MIN_SAFE_INTEGER","prop","PromisePrototypeCatch","thenFn","catchFn","RegExpPrototypeTest","asyncIterator","AsyncFunction","rej","promisify","debuglog","_unused","replacement","toFixed","customPromisify","ERR_ILLEGAL_CONSTRUCTOR","utils","pl","lastArg","copyProps","SafeBuffer","nb","nenc","retried","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","wrapper","failure","failures","explanation","rest","path","print","toFailure","branch","refinement","toFailures","ctx","coercer","schema","status","ts","refiner","Struct","validate","tuples","tuple","Structs","schemas","deprecated","dynamic","subschema","partial","pick","any","Element","date","getTime","enums","description","Class","intersection","S","constant","Key","Value","never","knowns","Never","unknowns","coerced","condition","defaulted","fallback","changed","trimmed","empty","getSize","threshold","exclusive","nonempty","of","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","getter","nmd","paths","children","_typeof","_defineProperty","hint","prim","enumerableOnly","symbols","_objectSpread","getOwnPropertyDescriptors","apiKey","url","options_","mode","headers","useAPIKey","_url","URL","fetch","ok","info","statusText","ACK","BasePostMessageStream","targetWindow","targetOrigin","_init","_haveSyn","_name","_target","_targetWindow","_targetOrigin","_onMessage","onMessage","_synIntervalId","_handShake","_break","_onData","_postMessage","originConstraint","postMessage","origin","safeApply","SafeEventEmitter","_len","_key","SerializableError","ownKeys$1","JRPCEngine","_middleware","static","middlewareStack","returnHandlers","isComplete","middleware","_runMiddleware","returnHandler","handlers","handle","_handleBatch","_handle","_promiseHandle","asMiddleware","middlewareError","_runAllMiddleware","_runReturnHandlers","handlerCallback","reqs","responses","all","_err","callerReq","_processRequest","_error","_checkForCompletion","Substream","_parent","_encoding","IGNORE_SUBSTREAM","ObjectMultiplex","_substreams","createStream","substream","_cb","ignoreStream","WALLET_VERIFIERS","GOOGLE","FACEBOOK","TWITCH","REDDIT","DISCORD","EMAIL_PASSWORDLESS","WALLET_OPENLOGIN_VERIFIER_MAP","PAYMENT_PROVIDER","MOONPAY","WYRE","RAMPNETWORK","XANPOOL","MERCURYO","TRANSAK","BANXA","SUPPORTED_PAYMENT_NETWORK","MAINNET","MATIC","BSC_MAINNET","AVALANCHE_MAINNET","XDAI","ARBITRUM_MAINNET","OPTIMISM_MAINNET","TORUS_BUILD_ENV","PRODUCTION","DEVELOPMENT","BINANCE","TESTING","LRC","BETA","BNB","POLYGON","ALPHA","BUTTON_POSITION","BOTTOM_LEFT","TOP_LEFT","BOTTOM_RIGHT","TOP_RIGHT","PROVIDER_SUPPORTED_FIAT_CURRENCIES","cryptoCompareCurrenciesSet","supportedFiatCurrencies","currency","paymentProviders","line1","line2","line3","supportPage","minOrderValue","maxOrderValue","validCurrencies","validCryptoCurrenciesByChain","display","includeFees","api","enforceMax","receiveHint","sell","supportedVerifierList","translations","en","embed","continue","actionRequired","pendingAction","cookiesRequired","enableCookies","clickHere","de","ja","ko","zh","prodTorusUrl","localStorageKeyPrefix","htmlToElement","html","template","createElement","trimmedHtml","innerHTML","firstChild","handleStream","eventName","handlerWrapper","loglevel","permanentlyDisconnected","sendSiteMetadata","unsupportedSync","invalidDuplexStream","invalidOptions","maxEventListeners","shouldSendMetadata","invalidRequestArgs","invalidRequestMethod","invalidRequestParams","invalidLoggerObject","invalidLoggerMethod","connected","chainId","warnings","enableDeprecation","sendDeprecation","networkChanged","notification","publicConfigStore","ObservableStore","initState","_state","getState","_getState","putState","newState","_putState","updateState","partialState","subscribe","unsubscribe","ObservableStoreStream","DuplexStream","obsStore","_size","config","logStreamDisconnectWarning","remoteLabel","warningMsg","getPreopenInstanceId","random","getTorusUrl","buildEnv","integrity","torusUrl","logLevel","versionUsed","getUserLanguage","userLanguage","language","userLanguages","EMITTED_NOTIFICATIONS","NOOP","FEATURES_PROVIDER_CHANGE_WINDOW","FEATURES_CONFIRM_WINDOW","getRpcPromiseCallback","unwrapResult","TorusInpageProvider","connectionStream","jsonRpcStreamName","experimentalMethods","send","isDuplexStream","messages","isTorus","_defaultState","selectedAddress","networkVersion","_handleAccountsChanged","_handleChainChanged","_handleUnlockStateChanged","_handleConnect","_handleDisconnect","_handleStreamDisconnect","_sendSync","_rpcRequest","_warnOfDeprecation","_initializeState","request","sendAsync","mux","pump","_publicConfigStore","isConnected","jsonRpcConnection","idMap","rpcEngine","_end","originalId","newId","_rpcEngine","payload","_sentWarnings","accounts","isUnlocked","initialized","isInternal","_payload","tryPreopenHandle","methodOrPayload","callbackOrArgs","isRecoverable","errorMessage","isPermanentlyDisconnected","streamName","isEthAccounts","finalAccounts","account","dequal","hasEmittedConnection","PopupHandler","features","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","clientWidth","screen","height","innerHeight","clientHeight","left","windowTimer","iClosedWindow","_setupTimer","setInterval","clearInterval","open","_this$window","href","focus","redirect","locationReplaceOnRedirect","imgExists","img","onload","getSiteName","siteName","querySelector","metaTitle","hostname","getSiteIcon","icon","querySelectorAll","_icon","UNSAFE_METHODS","torusIframeHtml","crossOrigin","rel","relList","supports","appendChild","buttonPosition","buttonSize","modalZIndex","configuration","isLoggedIn","isInitialized","torusWidgetVisibility","requestedVerifier","currentVerifier","apiKey_","setAPIKey","alertZIndex","isIframeFullScreen","enableLogging","network","host","networkName","blockExplorer","ticker","tickerName","loginConfig","showTorusButton","whiteLabel","useWalletConnect","mfaLevel","isCustomLogin","torusIframeUrl","pathname","torusIframe","torusAlertContainer","setProperty","setAttribute","styleLink","defaultLanguage","customTranslations","languageTranslations","deepmerge","embedTranslations","_setupWeb3","initStream","communicationMux","getStream","success","_displayIframe","login","verifier","login_hint","loginHint","ethereum","logout","statusStream","loggedIn","clearInit","isElement","element","HTMLDocument","contains","remove","torusAlert","hideTorusButton","_sendWidgetVisibilityStatus","setProvider","excluded","sourceKeys","sourceSymbolKeys","_excluded","providerChangeStream","preopenInstanceId","_handleWindow","override","showWallet","showWalletStream","finalPath","instanceId","finalUrl","searchParams","append","verifierId","isExtended","walletVerifier","openloginVerifier","getUserInfo","userInfoAccessStream","userInfoAccessHandler","approved","rejected","newRequest","userInfoStream","handlerChunk","initiateTopup","isValid","validatePaymentProvider","selectedProvider","selectedParams","fiatValue","requestedOrderAmount","selectedCurrency","selectedCryptoCurrency","flat","finalCryptoCurrency","topupStream","loginParams","privateKey","userInfo","loginPrivKeyStream","walletConnectStream","windowStream","handledWindow","_createPopupBlockAlert","closeHandler","receivedId","_setEmbedWhiteLabel","theme","isDark","classList","torusBrand1","torusGray2","_getLogoUrl","_this$whiteLabel","_this$whiteLabel$them","logoUrl","_this$whiteLabel2","_this$whiteLabel3","logoLight","logoDark","isFull","top","right","bottom","metamaskStream","contentWindow","communicationStream","inpageProvider","detectAccountRequestPrototypeModifier","originalMethod","handleLoginCb","_showLoginPopup","isLoginCallback","proxiedInpageProvider","Proxy","deleteProperty","engine","domainMetadata","originalError","calledFromEmbed","loginHandler","oauthStream","successAlert","btnContainer"],"sourceRoot":""}