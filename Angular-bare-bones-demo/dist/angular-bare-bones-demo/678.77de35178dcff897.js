(self.webpackChunkAngular_bare_bones_demo=self.webpackChunkAngular_bare_bones_demo||[]).push([[678],{24070:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ComposedStore=void 0;const g=p(36812);E.ComposedStore=class x extends g.ObservableStore{constructor(M){super({}),this._children=M||{},Object.keys(this._children).forEach(i=>{this._addChild(i,this._children[i])})}_addChild(M,i){const d=s=>{const f=this.getState();f[M]=s,this.putState(f)};i.subscribe(d),d(i.getState())}}},32053:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.MergedStore=void 0;const g=p(36812);E.MergedStore=class x extends g.ObservableStore{constructor(M=[]){super({}),this._children=M,M.forEach(i=>this._addChild(i)),this._updateWholeState()}_addChild(M){M.subscribe(()=>this._updateWholeState())}_updateWholeState(){const M=this._children.map(d=>d.getState()),i=Object.assign({},...M);this.putState(i)}}},36812:function(Q,E,p){"use strict";var g=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(E,"__esModule",{value:!0}),E.ObservableStore=void 0;const x=g(p(14521));E.ObservableStore=class w extends x.default{constructor(i){super(),this._state=i||{}}getState(){return this._getState()}putState(i){this._putState(i),this.emit("update",i)}updateState(i){if(i&&"object"==typeof i){const d=this.getState();this.putState(Object.assign(Object.assign({},d),i))}else this.putState(i)}subscribe(i){this.on("update",i)}unsubscribe(i){this.removeListener("update",i)}_getState(){return this._state}_putState(i){this._state=i}}},91905:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.storeAsStream=void 0;const g=p(36917);class x extends g.Duplex{constructor(i){super({objectMode:!0}),this.resume(),this.handler=d=>this.push(d),this.obsStore=i,this.obsStore.subscribe(this.handler)}pipe(i,d){const s=super.pipe(i,d);return i.write(this.obsStore.getState()),s}_write(i,d,s){this.obsStore.putState(i),s()}_read(i){}_destroy(i,d){this.obsStore.unsubscribe(this.handler),super._destroy(i,d)}}E.storeAsStream=function w(M){return new x(M)}},16177:function(Q,E,p){"use strict";var g=this&&this.__createBinding||(Object.create?function(w,M,i,d){void 0===d&&(d=i),Object.defineProperty(w,d,{enumerable:!0,get:function(){return M[i]}})}:function(w,M,i,d){void 0===d&&(d=i),w[d]=M[i]}),x=this&&this.__exportStar||function(w,M){for(var i in w)"default"!==i&&!Object.prototype.hasOwnProperty.call(M,i)&&g(M,w,i)};Object.defineProperty(E,"__esModule",{value:!0}),x(p(91905),E),x(p(24070),E),x(p(32053),E),x(p(36812),E),x(p(58503),E)},58503:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.storeTransformStream=void 0;const g=p(73529);E.storeTransformStream=function x(w){return g.obj((M,i,d)=>{try{return void d(null,w(M))}catch(s){return void d(s)}})}},87678:(Q,E,p)=>{"use strict";p.r(E),p.d(E,{getTorusProviderInstance:()=>pn});var g=p(8239);function M(H,A,y){return A in H?Object.defineProperty(H,A,{value:y,enumerable:!0,configurable:!0,writable:!0}):H[A]=y,H}var i=p(41268),d=p.n(i),s=p(21623);const f={ROPSTEN:"ropsten",MAINNET:"mainnet",POLYGON:"polygon-mainnet"},l=[{inputs:[{internalType:"string",name:"_verifier",type:"string"},{internalType:"bytes32",name:"hashedVerifierId",type:"bytes32"}],name:"getNodeSet",outputs:[{internalType:"uint256",name:"currentEpoch",type:"uint256"},{internalType:"string[]",name:"torusNodeEndpoints",type:"string[]"},{internalType:"uint256[]",name:"torusNodePubX",type:"uint256[]"},{internalType:"uint256[]",name:"torusNodePubY",type:"uint256[]"},{internalType:"uint256[]",name:"torusIndexes",type:"uint256[]"}],stateMutability:"view",type:"function"}];class v{constructor(){let R,{network:A=f.MAINNET,proxyAddress:y=v.PROXY_ADDRESS_MAINNET}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,"_currentEpoch",""),M(this,"_torusNodeEndpoints",[]),M(this,"_torusNodePub",[]),M(this,"_torusIndexes",[]),M(this,"nodeListAddress",void 0),M(this,"updated",void 0),M(this,"nodeListContract",void 0);try{R=new URL(A).href}catch{const K="b8cdb0e4cff24599a286bf8e87ff1c96";R="https://".concat(A,".infura.io/v3/").concat(K)}d().setProvider(R),this.nodeListContract=new(d())(l,y),this.nodeListAddress=y,this.updated=!1}get _nodeDetails(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}getNodeDetails(A){var y=this;return(0,g.Z)(function*(){let{verifier:R,verifierId:U}=A;try{if(y.updated&&(y.nodeListAddress===v.PROXY_ADDRESS_MAINNET||y.nodeListAddress===v.PROXY_ADDRESS_ROPSTEN))return y._nodeDetails;const K=(0,s.keccak256)(U),q=yield y.nodeListContract.methods.getNodeSet(R,K).call(),{currentEpoch:it,torusNodeEndpoints:ft,torusNodePubX:ut,torusNodePubY:ht,torusIndexes:gt}=q;y._currentEpoch=it,y._torusIndexes=gt.map(Rt=>Number(Rt));const At=[],qt=[];for(let Rt=0;Rt<ft.length;Rt+=1){const Qt=ut[Rt],It=ht[Rt],ae="https://".concat(ft[Rt].split(":")[0],"/jrpc");At.push(ae),qt.push({X:(0,s.toHex)(Qt).replace("0x",""),Y:(0,s.toHex)(It).replace("0x","")})}return y._torusNodeEndpoints=At,y._torusNodePub=qt,y.updated=!0,y._nodeDetails}catch(K){if(y.nodeListAddress===v.PROXY_ADDRESS_MAINNET)return v.NODE_DETAILS_MAINNET;throw K}})()}}M(v,"PROXY_ADDRESS_MAINNET","0xf20336e16B5182637f09821c27BDe29b0AFcfe80"),M(v,"PROXY_ADDRESS_ROPSTEN","0x6258c9d6c12ed3edda59a1a6527e469517744aa7"),M(v,"PROXY_ADDRESS_POLYGON","0x9f072ba19b3370e512aa1b4bfcdaf97283168005"),M(v,"NODE_DETAILS_MAINNET",{currentEpoch:"19",nodeListAddress:v.PROXY_ADDRESS_MAINNET,torusNodeEndpoints:["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"],torusIndexes:[1,2,3,4,5,6,7,8,9],torusNodePub:[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}],updated:!1});var h=p(41413),b=p.n(h),P=p(58330),T=p.n(P);function D(H,A){var y=Object.keys(H);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(H);A&&(R=R.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),y.push.apply(y,R)}return y}function F(H){for(var A=1;A<arguments.length;A++){var y=null!=arguments[A]?arguments[A]:{};A%2?D(Object(y),!0).forEach(function(R){M(H,R,y[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(y)):D(Object(y)).forEach(function(R){Object.defineProperty(H,R,Object.getOwnPropertyDescriptor(y,R))})}return H}const C=T().getLogger("http-helpers");C.setLevel(P.levels.INFO);let _="torus-default",L="";function o(H){_=H}function B(H,A){return c.apply(this,arguments)}function c(){return(c=(0,g.Z)(function*(H,A){let y=null;try{y=new URL(H)}catch{}return fetch(H,A)})).apply(this,arguments)}function e(){const H={};return _&&(H["x-api-key"]=_),L&&(H["x-embed-host"]=L),H}function n(H){C.info("Response: ".concat(H.status," ").concat(H.statusText)),C.info("Url: ".concat(H.url))}const j=(H,A)=>{const y=new Promise((R,U)=>{const K=setTimeout(()=>{clearTimeout(K),U(new Error("Timed out in ".concat(H,"ms")))},H)});return Promise.race([A,y])},V=function(){var H=(0,g.Z)(function*(A){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const U={mode:"cors",headers:{}};R.useAPIKey&&(U.headers=F(F({},U.headers),e()));const K=b()(U,y,{method:"GET"}),q=yield B(A,K);if(q.ok)return q.json();throw n(q),q});return function(y){return H.apply(this,arguments)}}(),Y=function(H){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const U={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};R.useAPIKey&&(U.headers=F(F({},U.headers),e()));const K=b()(U,y,{method:"POST"});return R.isUrlEncodedData?(K.body=A,"application/json; charset=utf-8"===K.headers["Content-Type"]&&delete K.headers["Content-Type"]):K.body=JSON.stringify(A),j(R.timeout||6e4,B(H,K).then(q=>{if(q.ok)return q.json();throw n(q),q}))},$t=(H,A)=>({jsonrpc:"2.0",method:H,id:10,params:A});var k=p(18300),z=p(16589),rt=p.n(z),zt=(p(37092),p(58577)),at=p.n(zt);URL;var dt=p(93105),St=p(47300),bt=p.n(St),wt=p(56396),ge=p(75859),Pt=p.n(ge),_t=p(99318),ze=p.n(_t),Dt=p(30968),Nt=p.n(Dt);function je(){}class Lt extends k.Duplex{constructor(A){let{name:y,target:R,targetWindow:U=window,targetOrigin:K="*"}=A;if(super({objectMode:!0}),M(this,"_init",void 0),M(this,"_haveSyn",void 0),M(this,"_name",void 0),M(this,"_target",void 0),M(this,"_targetWindow",void 0),M(this,"_targetOrigin",void 0),M(this,"_onMessage",void 0),M(this,"_synIntervalId",void 0),!y||!R)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=y,this._target=R,this._targetWindow=U,this._targetOrigin=K,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,je),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,je),this.cork()}_onData(A){if(this._init)if("BRK"===A)this._break();else try{this.push(A)}catch(y){this.emit("error",y)}else"SYN"===A?(this._haveSyn=!0,this._write("ACK",null,je)):"ACK"===A&&(this._init=!0,this._haveSyn||this._write("ACK",null,je),this.uncork())}_postMessage(A){this._targetWindow.postMessage({target:this._target,data:A},this._targetOrigin)}onMessage(A){const y=A.data;"*"!==this._targetOrigin&&A.origin!==this._targetOrigin||A.source!==this._targetWindow||"object"!=typeof y||y.target!==this._name||!y.data||this._onData(y.data)}_read(){}_write(A,y,R){this._postMessage(A),R()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function jt(H,A,y){try{Reflect.apply(H,A,y)}catch(R){setTimeout(()=>{throw R})}}class xt extends dt.EventEmitter{emit(A){let y="error"===A;const R=this._events;if(void 0!==R)y=y&&void 0===R.error;else if(!y)return!1;for(var U=arguments.length,K=new Array(U>1?U-1:0),q=1;q<U;q++)K[q-1]=arguments[q];if(y){let ft;if(K.length>0&&([ft]=K),ft instanceof Error)throw ft;const ut=new Error("Unhandled error.".concat(ft?" (".concat(ft.message,")"):""));throw ut.context=ft,ut}const it=R[A];if(void 0===it)return!1;if("function"==typeof it)jt(it,this,K);else{const ft=it.length,ut=function Xe(H){const A=H.length,y=new Array(A);for(let R=0;R<A;R+=1)y[R]=H[R];return y}(it);for(let ht=0;ht<ft;ht+=1)jt(ut[ht],this,K)}return!0}}class Ct extends Error{constructor(A){let{code:y,message:R,data:U}=A;if(!Number.isInteger(y))throw new Error("code must be an integer");if(!R||"string"!=typeof R)throw new Error("message must be string");super(R),M(this,"code",void 0),M(this,"data",void 0),this.code=y,void 0!==U&&(this.data=U)}toString(){return bt()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function kt(H,A){var y=Object.keys(H);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(H);A&&(R=R.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),y.push.apply(y,R)}return y}class pe extends xt{constructor(){super(),M(this,"_middleware",void 0),this._middleware=[]}static _runAllMiddleware(A,y,R){return(0,g.Z)(function*(){const U=[];let K=null,q=!1;for(const it of R)if([K,q]=yield pe._runMiddleware(A,y,it,U),q)break;return[K,q,U.reverse()]})()}static _runMiddleware(A,y,R,U){return new Promise(K=>{const q=ft=>{const ut=ft||y.error;ut&&(y.error=(0,wt.serializeError)(ut)),K([ut,!0])},it=ft=>{y.error?q(y.error):(ft&&("function"!=typeof ft&&q(new Ct({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),U.push(ft)),K([null,!1]))};try{R(A,y,it,q)}catch(ft){q(ft)}})}static _runReturnHandlers(A){return(0,g.Z)(function*(){for(const y of A)yield new Promise((R,U)=>{y(K=>K?U(K):R())})})()}static _checkForCompletion(A,y,R){if(!("result"in y)&&!("error"in y))throw new Ct({code:-32603,message:"Response has no error or result for request"});if(!R)throw new Ct({code:-32603,message:"Nothing ended request"})}push(A){this._middleware.push(A)}handle(A,y){if(y&&"function"!=typeof y)throw new Error('"callback" must be a function if provided.');return Array.isArray(A)?y?this._handleBatch(A,y):this._handleBatch(A):y?this._handle(A,y):this._promiseHandle(A)}asMiddleware(){var A=this;return function(){var y=(0,g.Z)(function*(R,U,K,q){try{const[it,ft,ut]=yield pe._runAllMiddleware(R,U,A._middleware);return ft?(yield pe._runReturnHandlers(ut),q(it)):K(function(){var ht=(0,g.Z)(function*(gt){try{yield pe._runReturnHandlers(ut)}catch(At){return gt(At)}return gt()});return function(gt){return ht.apply(this,arguments)}}())}catch(it){return q(it)}});return function(R,U,K,q){return y.apply(this,arguments)}}()}_handleBatch(A,y){var R=this;return(0,g.Z)(function*(){try{const U=yield Promise.all(A.map(R._promiseHandle.bind(R)));return y?y(null,U):U}catch(U){if(y)return y(U);throw U}})()}_promiseHandle(A){return new Promise(y=>{this._handle(A,(R,U)=>{y(U)})})}_handle(A,y){var R=this;return(0,g.Z)(function*(){if(!A||Array.isArray(A)||"object"!=typeof A){const it=new Ct({code:-32603,message:"request must be plain object"});return y(it,{id:void 0,jsonrpc:"2.0",error:it})}if("string"!=typeof A.method){const it=new Ct({code:-32603,message:"method must be string"});return y(it,{id:A.id,jsonrpc:"2.0",error:it})}const U=function Vt(H){for(var A=1;A<arguments.length;A++){var y=null!=arguments[A]?arguments[A]:{};A%2?kt(Object(y),!0).forEach(function(R){M(H,R,y[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(y)):kt(Object(y)).forEach(function(R){Object.defineProperty(H,R,Object.getOwnPropertyDescriptor(y,R))})}return H}({},A),K={id:U.id,jsonrpc:U.jsonrpc};let q=null;try{yield R._processRequest(U,K)}catch(it){q=it}return q&&(delete K.result,K.error||(K.error=(0,wt.serializeError)(q))),y(q,K)})()}_processRequest(A,y){var R=this;return(0,g.Z)(function*(){const[U,K,q]=yield pe._runAllMiddleware(A,y,R._middleware);if(pe._checkForCompletion(A,y,K),yield pe._runReturnHandlers(q),U)throw U})()}}class Se extends k.Duplex{constructor(A){let{parent:y,name:R}=A;super({objectMode:!0}),M(this,"_parent",void 0),M(this,"_name",void 0),this._parent=y,this._name=R}_read(){}_write(A,y,R){this._parent.push({name:this._name,data:A}),R()}}function Ft(H,A){var y=Object.keys(H);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(H);A&&(R=R.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),y.push.apply(y,R)}return y}function Ut(H){for(var A=1;A<arguments.length;A++){var y=null!=arguments[A]?arguments[A]:{};A%2?Ft(Object(y),!0).forEach(function(R){M(H,R,y[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(y)):Ft(Object(y)).forEach(function(R){Object.defineProperty(H,R,Object.getOwnPropertyDescriptor(y,R))})}return H}const Ye=Symbol("IGNORE_SUBSTREAM");class Ht extends k.Duplex{constructor(){super(Ut(Ut({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{objectMode:!0})),M(this,"_substreams",void 0),M(this,"getStream",void 0),this._substreams={}}createStream(A){if(!A)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[A])throw new Error('ObjectMultiplex - Substream for name "'.concat(A,'" already exists'));const y=new Se({parent:this,name:A});return this._substreams[A]=y,function Gt(H,A){const y=ze()(A);Pt()(H,{readable:!1},y),Pt()(H,{writable:!1},y)}(this,R=>y.destroy(R||void 0)),y}ignoreStream(A){if(!A)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[A])throw new Error('ObjectMultiplex - Substream for name "'.concat(A,'" already exists'));this._substreams[A]=Ye}_read(){}_write(A,y,R){const{name:U,data:K}=A;if(!U)return window.console.warn('ObjectMultiplex - malformed chunk without name "'.concat(A,'"')),R();const q=this._substreams[U];return q?(q!==Ye&&q.push(K),R()):(window.console.warn('ObjectMultiplex - orphaned data for stream "'.concat(U,'"')),R())}}var ye=p(70424),He=p(62630),re=p.n(He),Ke=p(5247),We=p(2882),Oe=p.n(We);const ue=T().getLogger("torus.js");ue.disableAll();class Be extends Error{constructor(A){let{errors:y,responses:R,predicate:U}=A;super("Unable to resolve enough promises."),M(this,"errors",void 0),M(this,"responses",void 0),M(this,"predicate",void 0),this.errors=y,this.responses=R,this.predicate=U}}const Re=(H,A)=>new Promise((y,R)=>{let U=0;const K={resolved:!1},q=new Array(H.length).fill(void 0),it=new Array(H.length).fill(void 0);let ft;return H.forEach((ut,ht)=>ut.then(gt=>{it[ht]=gt}).catch(gt=>{q[ht]=gt}).finally(()=>{if(!K.resolved)return A(it.slice(0),K).then(gt=>{K.resolved=!0,y(gt)}).catch(gt=>{ft=gt}).finally(()=>{if(U+=1,U===H.length){const At=Object.values(it.reduce((qt,Rt)=>{if(Rt){var Ot;const{id:Qt,error:It}=Rt;(null==It||null===(Ot=It.data)||void 0===Ot?void 0:Ot.length)>0&&(qt[Qt]=It.data.startsWith("Error occurred while verifying params")?function Te(H){return H.charAt(0).toUpperCase()+H.slice(1)}(It.data):It.data)}return qt},{}));if(At.length>0){const qt=At.length>1?`\n${At.map(Rt=>`\u2022 ${Rt}`).join("\n")}`:At[0];R(new Error(qt))}else{var gt;R(new Be({errors:q,responses:it,predicate:(null===(gt=ft)||void 0===gt?void 0:gt.message)||ft}))}}})}))});function be(H,A){var y=Object.keys(H);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(H);A&&(R=R.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),y.push.apply(y,R)}return y}function Ie(H){for(var A=1;A<arguments.length;A++){var y=null!=arguments[A]?arguments[A]:{};A%2?be(Object(y),!0).forEach(function(R){M(H,R,y[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(y)):be(Object(y)).forEach(function(R){Object.defineProperty(H,R,Object.getOwnPropertyDescriptor(y,R))})}return H}class Ne extends Error{}const ke=(H,A)=>{let y=H;if("number"==typeof y&&(y=Array.from({length:y},(K,q)=>q)),A>y.length||A<=0)return[];if(A===y.length)return[y];if(1===A)return y.reduce((K,q)=>[...K,[q]],[]);const R=[];let U=[];for(let K=0;K<=y.length-A+1;K+=1){U=ke(y.slice(K+1),A-1);for(let q=0;q<U.length;q+=1)R.push([y[K],...U[q]])}return R},Le=(H,A)=>{const y={};for(let R=0;R<H.length;R+=1){const U=Oe()(H[R]);if(y[U]=y[U]?y[U]+1:1,y[U]===A)return H[R]}},xe=function(){var H=(0,g.Z)(function*(A,y,R){const U=A.map(K=>Y(K,$t("VerifierLookupRequest",{verifier:y,verifier_id:R.toString()})).catch(q=>ue.error("lookup request failed",q)));return Re(U,K=>{const q=K.filter(ut=>ut),it=Le(q.map(ut=>ut&&ut.error),1+~~(A.length/2)),ft=Le(q.map(ut=>ut&&ut.result),1+~~(A.length/2));return ft||it?Promise.resolve({keyResult:ft,errorResult:it}):Promise.reject(new Error(`invalid results ${JSON.stringify(K)}`))})});return function(y,R,U){return H.apply(this,arguments)}}(),Fe=(H,A,y,R)=>new Promise((U,K)=>{setTimeout(()=>{xe(H,A,y).then(U).catch(K)},R)}),br=function(){var H=(0,g.Z)(function*(A){let ht,gt,{endpoints:y,torusNodePubs:R,lastPoint:U,firstPoint:K,verifier:q,verifierId:it,signerHost:ft,network:ut}=A;if(void 0===U?(ht=Math.floor(Math.random()*y.length),gt=ht):ht=U%y.length,ht===K)throw new Error("Looped through all");void 0!==K&&(gt=K);const At=$t("KeyAssign",{verifier:q,verifier_id:it.toString()});try{const qt=yield Y(ft,At,{headers:{pubKeyX:R[ht].X,pubKeyY:R[ht].Y,network:ut}},{useAPIKey:!0});return yield Y(y[ht],Ie(Ie({},At),qt),{headers:{"Content-Type":"application/json; charset=utf-8"}})}catch(qt){if(ue.error(qt),["Timed out","TypeError: Failed to fetch","TypeError: cancelled","TypeError: NetworkError when attempting to fetch resource."].includes(qt.message))return br({endpoints:y,torusNodePubs:R,lastPoint:ht+1,firstPoint:gt,verifier:q,verifierId:it,signerHost:ft,network:ut});throw new Error(`Sorry, the Torus Network that powers Web3Auth is currently very busy.\n    We will generate your key in time. Pls try again later. \n\n    ${qt.message||""}`)}});return function(y){return H.apply(this,arguments)}}();function pr(H){return`0x${at()("keccak256").update(H).digest().toString("hex")}`}function Cr(H,A){var y=Object.keys(H);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(H);A&&(R=R.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),y.push.apply(y,R)}return y}function vr(H){for(var A=1;A<arguments.length;A++){var y=null!=arguments[A]?arguments[A]:{};A%2?Cr(Object(y),!0).forEach(function(R){M(H,R,y[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(y)):Cr(Object(y)).forEach(function(R){Object.defineProperty(H,R,Object.getOwnPropertyDescriptor(y,R))})}return H}class _r{constructor(){let{enableOneKey:A=!1,metadataHost:y="https://metadata.tor.us",allowHost:R="https://signer.tor.us/api/allow",signerHost:U="https://signer.tor.us/api/sign",serverTimeOffset:K=0,network:q="mainnet"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,"metadataHost",void 0),M(this,"allowHost",void 0),M(this,"serverTimeOffset",void 0),M(this,"enableOneKey",void 0),M(this,"signerHost",void 0),M(this,"network",void 0),M(this,"ec",void 0),this.ec=new Ke.ec("secp256k1"),this.metadataHost=y,this.allowHost=R,this.enableOneKey=A,this.serverTimeOffset=K||0,this.signerHost=U,this.network=q}static enableLogging(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?ue.disableAll():ue.enableAll()}static setAPIKey(A){o(A)}static setEmbedHost(A){!function u(H){L=H}(A)}static isGetOrSetNonceError(A){return A instanceof Ne}getUserTypeAndAddress(A,y,R){var U=arguments,K=this;return(0,g.Z)(function*(){let{verifier:q,verifierId:it}=R,ft=U.length>3&&void 0!==U[3]&&U[3];const{keyResult:ut,errorResult:ht}=(yield xe(A,q,it))||{};let At,gt=!1;if(ht&&JSON.stringify(ht).includes("Verifier + VerifierID has not yet been assigned")){if(!ft)throw new Error("Verifier + VerifierID has not yet been assigned");yield br({endpoints:A,torusNodePubs:y,lastPoint:void 0,firstPoint:void 0,verifier:q,verifierId:it,signerHost:K.signerHost,network:K.network});const qt=yield Fe(A,q,it,1e3);At=null==qt?void 0:qt.keyResult,gt=!0}else{if(!ut)throw new Error(`node results do not match at first lookup ${JSON.stringify(ut||{})}, ${JSON.stringify(ht||{})}`);At=ut}if(At){const{pub_key_X:qt,pub_key_Y:Rt}=At.keys[0];let Ot,Qt,It;try{Ot=yield K.getOrSetNonce(qt,Rt,void 0,!gt),Qt=new(re())(Ot.nonce||"0",16)}catch{throw new Ne}if("v1"===Ot.typeOfUser)It=K.ec.keyFromPublic({x:qt,y:Rt}).getPublic().add(K.ec.keyFromPrivate(Qt.toString(16)).getPublic());else{if("v2"!==Ot.typeOfUser)throw new Error("getOrSetNonce should always return typeOfUser.");It=K.ec.keyFromPublic({x:qt,y:Rt}).getPublic().add(K.ec.keyFromPublic({x:Ot.pubNonce.x,y:Ot.pubNonce.y}).getPublic())}const ae=It.getX().toString(16),he=It.getY().toString(16),Ee=K.generateAddressFromPubKey(It.getX(),It.getY());if("v1"===Ot.typeOfUser)return{typeOfUser:Ot.typeOfUser,nonce:Qt,X:ae,Y:he,address:Ee};if("v2"===Ot.typeOfUser)return{typeOfUser:Ot.typeOfUser,nonce:Qt,pubNonce:Ot.pubNonce,upgraded:Ot.upgraded,X:ae,Y:he,address:Ee}}throw new Error(`node results do not match at final lookup ${JSON.stringify(ut||{})}, ${JSON.stringify(ht||{})}`)})()}setCustomKey(A){var y=this;return(0,g.Z)(function*(){let it,{privKeyHex:R,metadataNonce:U,torusKeyHex:K,customKeyHex:q}=A;it=K?new(re())(K,16):new(re())(R,16).sub(U).umod(y.ec.curve.n);const ut=new(re())(q,16).sub(it).umod(y.ec.curve.n),ht=y.generateMetadataParams(ut.toString(16),it);yield y.setMetadata(ht)})()}retrieveShares(A,y,R,U,K){var q=arguments,it=this;return(0,g.Z)(function*(){let ft=q.length>5&&void 0!==q[5]?q[5]:{};const ut=[];yield V(it.allowHost,{headers:{verifier:R,verifier_id:U.verifier_id,network:it.network}},{useAPIKey:!0});const ht=(0,ye.oq)(),gt=(0,ye.rc)(ht).toString("hex"),At=gt.slice(2,66),qt=gt.slice(66),Rt=pr(K);for(let Ot=0;Ot<A.length;Ot+=1){const Qt=Y(A[Ot],$t("CommitmentRequest",{messageprefix:"mug00",tokencommitment:Rt.slice(2),temppubx:At,temppuby:qt,verifieridentifier:R})).catch(It=>{ue.error("commitment",It)});ut.push(Qt)}return Re(ut,Ot=>Ot.filter(It=>!(!It||"object"!=typeof It||It.error)).length>=3*~~(A.length/4)+1?Promise.resolve(Ot):Promise.reject(new Error(`invalid ${JSON.stringify(Ot)}`))).then(Ot=>{const Qt=[],It=[];for(let ae=0;ae<Ot.length;ae+=1)Ot[ae]&&It.push(Ot[ae].result);for(let ae=0;ae<A.length;ae+=1){const he=Y(A[ae],$t("ShareRequest",{encrypted:"yes",item:[vr(vr({},U),{},{idtoken:K,nodesignatures:It,verifieridentifier:R},ft)]})).catch(Ee=>ue.error("share req",Ee));Qt.push(he)}return Re(Qt,function(){var ae=(0,g.Z)(function*(he,Ee){const De=he.filter(_e=>_e),or=Le(he.map(_e=>_e&&_e.result&&_e.result.keys[0].PublicKey),1+~~(A.length/2));if(De.length>=1+~~(A.length/2)&&or){const _e=[],fr=[];for(let Ve=0;Ve<he.length;Ve+=1){var sr,Qe;const tr=he[Ve];if((null==tr||null===(sr=tr.result)||void 0===sr||null===(Qe=sr.keys)||void 0===Qe?void 0:Qe.length)>0){tr.result.keys.sort((xr,Pr)=>new(re())(xr.Index,16).cmp(new(re())(Pr.Index,16)));const Ge=tr.result.keys[0];if(Ge.Metadata){const xr={ephemPublicKey:Buffer.from(Ge.Metadata.ephemPublicKey,"hex"),iv:Buffer.from(Ge.Metadata.iv,"hex"),mac:Buffer.from(Ge.Metadata.mac,"hex")};_e.push((0,ye.pe)(ht,vr(vr({},xr),{},{ciphertext:Buffer.from(Buffer.from(Ge.Share,"base64").toString("binary").padStart(64,"0"),"hex")})).catch(Pr=>ue.debug("share decryption",Pr)))}else _e.push(Promise.resolve(Buffer.from(Ge.Share.padStart(64,"0"),"hex")))}else _e.push(Promise.resolve(void 0));fr.push(new(re())(y[Ve],16))}const qr=yield Promise.all(_e);if(Ee.resolved)return;const Lr=qr.reduce((Ve,tr,Ge)=>(tr&&Ve.push({index:fr[Ge],value:new(re())(tr)}),Ve),[]),Dr=ke(Lr.length,1+~~(A.length/2));let dr=null;for(let Ve=0;Ve<Dr.length;Ve+=1){const tr=Dr[Ve],Ge=Lr.filter((jr,gn)=>tr.includes(gn)),xr=Ge.map(jr=>jr.value),Pr=Ge.map(jr=>jr.index),Qr=it.lagrangeInterpolation(xr,Pr);if(!Qr)continue;const rn=(0,ye.rc)(Buffer.from(Qr.toString(16,64),"hex")).toString("hex"),vn=rn.slice(2,66),mn=rn.slice(66);if(0===new(re())(vn,16).cmp(new(re())(or.X,16))&&0===new(re())(mn,16).cmp(new(re())(or.Y,16))){dr=Qr;break}}if(null==dr)throw new Error("could not derive private key");return dr}throw new Error("invalid")});return function(he,Ee){return ae.apply(this,arguments)}}())}).then(function(){var Ot=(0,g.Z)(function*(Qt){let It=Qt;if(!It)throw new Error("Invalid private key returned");const ae=(0,ye.rc)(Buffer.from(It.toString(16,64),"hex")).toString("hex"),he=ae.slice(2,66),Ee=ae.slice(66);let De;if(it.enableOneKey){const{nonce:sr}=yield it.getNonce(he,Ee,It);De=new(re())(sr||"0",16)}else De=yield it.getMetadata({pub_key_X:he,pub_key_Y:Ee});ue.debug("> torus.js/retrieveShares",{privKey:It.toString(16),metadataNonce:De.toString(16)}),It=It.add(De).umod(it.ec.curve.n);const or=it.generateAddressFromPrivKey(It);return ue.debug("> torus.js/retrieveShares",{ethAddress:or,privKey:It.toString(16)}),{ethAddress:or,privKey:It.toString("hex",64),metadataNonce:De}});return function(Qt){return Ot.apply(this,arguments)}}())})()}getMetadata(A){var y=arguments,R=this;return(0,g.Z)(function*(){let U=y.length>1&&void 0!==y[1]?y[1]:{};try{const K=yield Y(`${R.metadataHost}/get`,A,U,{useAPIKey:!0});return K&&K.message?new(re())(K.message,16):new(re())(0)}catch(K){return ue.error("get metadata error",K),new(re())(0)}})()}generateMetadataParams(A,y){const R=this.ec.keyFromPrivate(y.toString("hex",64)),U={data:A,timestamp:new(re())(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)},K=R.sign(pr(Oe()(U)).slice(2));return{pub_key_X:R.getPublic().getX().toString("hex"),pub_key_Y:R.getPublic().getY().toString("hex"),set_data:U,signature:Buffer.from(K.r.toString(16,64)+K.s.toString(16,64)+new(re())("").toString(16,2),"hex").toString("base64")}}setMetadata(A){var y=arguments,R=this;return(0,g.Z)(function*(){let U=y.length>1&&void 0!==y[1]?y[1]:{};try{return(yield Y(`${R.metadataHost}/set`,A,U,{useAPIKey:!0})).message}catch(K){return ue.error("set metadata error",K),""}})()}lagrangeInterpolation(A,y){if(A.length!==y.length)return null;let R=new(re())(0);for(let U=0;U<A.length;U+=1){let K=new(re())(1),q=new(re())(1);for(let ft=0;ft<A.length;ft+=1)if(U!==ft){K=K.mul(y[ft].neg()),K=K.umod(this.ec.curve.n);let ut=y[U].sub(y[ft]);ut=ut.umod(this.ec.curve.n),q=q.mul(ut).umod(this.ec.curve.n)}let it=K.mul(q.invm(this.ec.curve.n)).umod(this.ec.curve.n);it=it.mul(A[U]).umod(this.ec.curve.n),R=R.add(it)}return R.umod(this.ec.curve.n)}generateAddressFromPrivKey(A){const R=this.ec.keyFromPrivate(A.toString("hex",64),"hex").getPublic().encode("hex",!1).slice(2);ue.info(R,"public key");const U=`0x${pr(Buffer.from(R,"hex")).slice(26)}`;return(0,s.toChecksumAddress)(U)}generateAddressFromPubKey(A,y){const R=this.ec.keyFromPublic({x:A.toString("hex",64),y:y.toString("hex",64)}),U=R.getPublic().encode("hex",!1).slice(2);ue.info(R.getPublic().encode("hex",!1),"public key");const K=`0x${pr(Buffer.from(U,"hex")).slice(26)}`;return(0,s.toChecksumAddress)(K)}getPublicAddress(A,y,R){var U=arguments,K=this;return(0,g.Z)(function*(){let{verifier:q,verifierId:it}=R,ft=U.length>3&&void 0!==U[3]&&U[3];ue.debug("> torus.js/getPublicAddress",{endpoints:A,torusNodePubs:y,verifier:q,verifierId:it,isExtended:ft});let ut,ht=!1;const{keyResult:gt,errorResult:At}=(yield xe(A,q,it))||{};if(At&&JSON.stringify(At).includes("Verifier not supported"))throw new Error("Verifier not supported. Check if you: \n\n      1. Are on the right network (Torus testnet/mainnet) \n\n      2. Have setup a verifier on dashboard.web3auth.io?");if(At&&JSON.stringify(At).includes("Verifier + VerifierID has not yet been assigned")){yield br({endpoints:A,torusNodePubs:y,lastPoint:void 0,firstPoint:void 0,verifier:q,verifierId:it,signerHost:K.signerHost,network:K.network});const Rt=yield Fe(A,q,it,1e3);ut=null==Rt?void 0:Rt.keyResult,ht=!0}else{if(!gt)throw new Error(`node results do not match at first lookup ${JSON.stringify(gt||{})}, ${JSON.stringify(At||{})}`);ut=gt}if(ue.debug("> torus.js/getPublicAddress",{finalKeyResult:ut,isNewKey:ht}),ut){var qt;let Qt,It,ae,he,Ee,{pub_key_X:Rt,pub_key_Y:Ot}=ut.keys[0];if(K.enableOneKey){try{Qt=yield K.getOrSetNonce(Rt,Ot,void 0,!ht),It=new(re())(Qt.nonce||"0",16),he=Qt.typeOfUser}catch{throw new Ne}if("v1"===Qt.typeOfUser)ae=K.ec.keyFromPublic({x:Rt,y:Ot}).getPublic().add(K.ec.keyFromPrivate(It.toString(16)).getPublic());else{if("v2"!==Qt.typeOfUser)throw new Error("getOrSetNonce should always return typeOfUser.");Qt.upgraded?ae=K.ec.keyFromPublic({x:Rt,y:Ot}).getPublic():(ae=K.ec.keyFromPublic({x:Rt,y:Ot}).getPublic().add(K.ec.keyFromPublic({x:Qt.pubNonce.x,y:Qt.pubNonce.y}).getPublic()),Ee=Qt.pubNonce)}}else he="v1",It=yield K.getMetadata({pub_key_X:Rt,pub_key_Y:Ot}),ae=K.ec.keyFromPublic({x:Rt,y:Ot}).getPublic().add(K.ec.keyFromPrivate(It.toString(16)).getPublic());Rt=ae.getX().toString(16),Ot=ae.getY().toString(16);const De=K.generateAddressFromPubKey(ae.getX(),ae.getY());return ue.debug("> torus.js/getPublicAddress",{X:Rt,Y:Ot,address:De,typeOfUser:he,nonce:null===(qt=It)||void 0===qt?void 0:qt.toString(16),pubNonce:Ee}),ft?{typeOfUser:he,address:De,X:Rt,Y:Ot,metadataNonce:It,pubNonce:Ee}:De}throw new Error(`node results do not match at final lookup ${JSON.stringify(gt||{})}, ${JSON.stringify(At||{})}`)})()}getOrSetNonce(A,y,R){var U=arguments,K=this;return(0,g.Z)(function*(){let it;const ft=U.length>3&&void 0!==U[3]&&U[3]?"getNonce":"getOrSetNonce";return it=R?K.generateMetadataParams(ft,R):{pub_key_X:A,pub_key_Y:y,set_data:{data:ft}},Y(`${K.metadataHost}/get_or_set_nonce`,it,void 0,{useAPIKey:!0})})()}getNonce(A,y,R){var U=this;return(0,g.Z)(function*(){return U.getOrSetNonce(A,y,R,!0)})()}getPostboxKeyFrom1OutOf1(A,y){const R=new(re())(A,16),U=new(re())(y,16);return R.sub(U).umod(this.ec.curve.n).toString("hex")}}var Br=p(16177),kr=p(95439),Fr=p.n(kr),Ur=p(78936),mr=p(12506),wr=p.n(mr);const er={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord",EMAIL_PASSWORDLESS:"torus-auth0-email-passwordless"},Mr={[er.GOOGLE]:"tkey-google",[er.FACEBOOK]:"tkey-facebook",[er.TWITCH]:"tkey-twitch",[er.REDDIT]:"tkey-reddit",[er.DISCORD]:"tkey-discord",[er.EMAIL_PASSWORDLESS]:"tkey-auth0-email-passwordless"},Hr={PRODUCTION:"production",DEVELOPMENT:"development",BINANCE:"binance",TESTING:"testing",LRC:"lrc",BETA:"beta"},rr={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},Wr={moonpay:["AUD","BGN","BRL","CAD","CHF","CNY","COP","CZK","DKK","DOP","EGP","EUR","GBP","HKD","HRK","IDR","ILS","JPY","JOD","KES","KRW","KWD","LKR","MAD","MXN","MYR","NGN","NOK","NZD","OMR","PEN","PKR","PLN","RON","RUB","SEK","SGD","THB","TRY","TWD","USD","VND","ZAR"],wyre:["USD","EUR","GBP","AUD","CAD","NZD","ARS","BRL","CHF","CLP","COP","CZK","DKK","HKD","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","PHP","PLN","SEK","THB","VND","ZAR"],rampnetwork:["USD","EUR","GBP"],xanpool:["SGD","HKD","THB","PHP","INR","IDR","MYR","AUD","NZD","KRW"],mercuryo:["EUR","USD","GBP","TRY","JPY","BRL","NGN","VND","MXN","KRW"],transak:["ARS","AUD","BBD","BGN","BMD","BRL","CAD","CHF","CLP","CRC","CZK","DKK","DOP","EUR","FJD","FKP","GBP","GIP","HRK","HUF","IDR","ILS","ISK","JMD","JPY","KES","KRW","MDL","MXN","MYR","NOK","NZD","PEN","PHP","PLN","PYG","RON","SEK","SGD","THB","TRY","TZS","USD","ZAR"]},Vr=new Set(["ETH","USDT","USDC","TUSD","EOSDT","USD","DAI","GUSD","DKKT","PAX","ILS","RUB","BYN","EUR","GBP","JPY","KRW","PLN","MXN","AUD","BRL","CAD","CHF","KPW","LAK","LBP","LKR","XOF","CNHT","DOGE","UAH","TRY","HKD","XJP","SGD","USC","NZD","NGN","RUR","COP","GHS","EGP","IDR","BHD","CRC","PEN","AED","DOP","PKR","HUF","VND","XAR","LTC","RON","OMR","MYR","DKK","UGX","ZMW","SAR","SEK","GEL","RWF","IRR","TZS","CNY","VEF","BDT","HRK","CLP","THB","XAF","ARS","UYU","SZL","KZT","NOK","KES","PAB","INR","CZK","MAD","TWD","PHP","ZAR","BOB","CDF","DASH","VES","ISK","MWK","BAM","TTD","XRP","JOD","RSD","HNL","BGN","GTQ","BWP","XMR","MMK","QAR","AOA","KWD","MUR","WUSD","WEUR","WAVES","WTRY","LRD","LSL","LYD","AWG","MDL","BTO","EURS","CHFT","MKD","MNT","MOP","MRO","MVR","VOLLAR","CKUSD","KHR","VUV","BITCNY","QC","BBD","NAD","NPR","PGK","PYG","BIF","BMD","BND","XLM","BNB","SCR","BAT","CRO","HT","KCS","LEO","LINK","MKR","NPXS","OMG","REP","ZB","ZIL","ZRX","BCH","BZD","CUP","CVE","DJF","DZD","ERN","ETB","FJD","FKP","BUSD","ANCT","ALL","AMD","ANG","CNYX","IQD","UZS","TND","GGP","XAU","KGS","GIP","JMD","ZEC","USDP","BSV","EMC2","SNT","GTO","POWR","EUSD","EURT","BCY","BTS","ATM","BLOCKPAY","ARDR","AMP","B2X","BITGOLD","BITEUR","ATB","BITUSD","AGRS","DFXT","HIKEN","BIX","KNC","EOS","COB","COSS","BMH","NANO","BDG","BNT","XVG","LKK1Y","LKK","USDK","EURN","NZDT","JSE","GMD","GNF","GYD","YER","XPF","HTG","SLL","SOS","WST","SVC","SYP","NEO","KMF","JUMP","AYA","BLAST","WGR","BCN","BTG","URALS","INN","USDQ","CNH","HUSD","BKRW","NZDX","EURX","CADX","USDEX","JPYX","AUDX","VNDC","EON","GBPX","CHFX","USDJ","IDRT","USDS","USDN","BIDR","IDK","BSD","BTN","KYD","NIO","SBD","SDG","SHP","TOP","XCD","XCHF","CNYT","GYEN","ZUSD","GOLD","TRX","TRYB","PLATC","STRAX","UST","GLM","VAI","BRZ","DDRST","XAUT","MIM"]);function $e(H){return Wr[H].filter(y=>Vr.has(y))}const Gr={moonpay:{line1:"Credit/ Debit Card/ Apple Pay",line2:"4.5% or 5 USD",line3:"2,000\u20ac/day, 10,000\u20ac/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:$e("moonpay"),validCryptoCurrenciesByChain:{mainnet:[{value:"aave",display:"AAVE"},{value:"bat",display:"BAT"},{value:"dai",display:"DAI"},{value:"eth",display:"ETH"},{value:"mkr",display:"MKR"},{value:"matic",display:"MATIC"},{value:"usdt",display:"USDT"},{value:"usdc",display:"USDC"}],matic:[{value:"eth_polygon",display:"ETH"},{value:"matic_polygon",display:"MATIC"},{value:"usdc_polygon",display:"USDC"}],bsc_mainnet:[{value:"bnb_bsc",display:"BNB"},{value:"busd_bsc",display:"BUSD"}],avalanche_mainnet:[{value:"avax_cchain",display:"AVAX"}]},includeFees:!0,api:!0,enforceMax:!1},wyre:{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30\xa2 or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:$e("wyre"),validCryptoCurrenciesByChain:{mainnet:[{value:"AAVE",display:"AAVE"},{value:"BAT",display:"BAT"},{value:"BUSD",display:"BUSD"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"MKR",display:"MKR"},{value:"UNI",display:"UNI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],matic:[{value:"MUSDC",display:"USDC"}],avalanche_mainnet:[{value:"AVAXC",display:"AVAXC"}]},includeFees:!1,api:!0,enforceMax:!1},rampnetwork:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:$e("rampnetwork"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],matic:[{value:"MATIC_DAI",display:"DAI"},{value:"MATIC_MATIC",display:"MATIC"},{value:"MATIC_USDC",display:"USDC"}],avalanche_mainnet:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,api:!0,receiveHint:"walletTopUp.receiveHintRamp",enforceMax:!1},xanpool:{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:$e("xanpool"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"}]},includeFees:!0,api:!0,sell:!0,enforceMax:!1},mercuryo:{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000\u20ac/day, 25,000\u20ac/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:$e("mercuryo"),validCryptoCurrenciesByChain:{mainnet:[{value:"ETH",display:"ETH"},{value:"BAT",display:"BAT"},{value:"USDT",display:"USDT"},{value:"DAI",display:"DAI"}],bsc_mainnet:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"},{value:"1INCH",display:"1INCH"}]},includeFees:!0,api:!0,enforceMax:!1},transak:{line1:"Apple & Google Pay / Credit/Debit Card<br/>Bangkok Bank Mobile & iPay<br/>Bank Transfer (sepa/gbp) / SCB Mobile & Easy",line2:"0.99% - 5.5% or 5 USD",line3:"$5,000/day, $28,000/mo",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:30,maxOrderValue:500,validCurrencies:$e("transak"),validCryptoCurrenciesByChain:{mainnet:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],matic:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"MATIC",display:"MATIC"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"},{value:"WETH",display:"WETH"}],bsc_mainnet:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"}],avalanche_mainnet:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,enforceMax:!0}};var Ue={supportedVerifierList:Object.values(er),paymentProviders:Gr,api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"};const cr=H=>new Promise((A,y)=>{null!=window.document.body?Promise.resolve(H()).then(A).catch(y):window.document.addEventListener("DOMContentLoaded",()=>{Promise.resolve(H()).then(A).catch(y)})}),nr=H=>{const A=window.document.createElement("template"),y=H.trim();return A.innerHTML=y,A.content.firstChild},Er=function(H,A,y){for(var R=arguments.length,U=new Array(R>3?R-3:0),K=3;K<R;K++)U[K-3]=arguments[K];const q=()=>{y(...U),H.removeEventListener(A,q)};H.addEventListener(A,q)},Pe=(H,A,y)=>{const R=U=>{y(U),H.removeListener(A,R)};H.on(A,R)};function gr(){return(gr=(0,g.Z)(function*(){return new Promise(H=>{"loading"!==document.readyState?H():Er(document,"DOMContentLoaded",H)})})).apply(this,arguments)}var ie=T().getLogger("torus-embed"),we={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",sendSiteMetadata:()=>"Torus: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:H=>"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(H," without a callback parameter."),invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:(H,A)=>"Invalid options. Received: { maxEventListeners: ".concat(H,", shouldSendMetadata: ").concat(A," }"),invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:H=>"'args.logger' must include required method '".concat(H,"'.")},info:{connected:H=>'Torus: Connected to chain with ID "'.concat(H,'".')},warnings:{enableDeprecation:'Torus: ""ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.send("eth_requestAccounts")" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:'Torus: "ethereum.send(...)" is deprecated and may be removed in the future. Please use "ethereum.sendAsync(...)" or "ethereum.request(...)" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',events:{close:'Torus: The event "close" is deprecated and may be removed in the future. Please use "disconnect" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',data:'Torus: The event "data" is deprecated and will be removed in the future.Use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',networkChanged:'Torus: The event "networkChanged" is deprecated and may be removed in the future. Please use "chainChanged" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',notification:'Torus: The event "notification" is deprecated and may be removed in the future. Please use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193'},publicConfigStore:'Torus: The property "publicConfigStore" is deprecated and WILL be removed in the future.'}};const{paymentProviders:qe}=Ue;function Ar(H,A,y){let R='MetaMask: Lost connection to "'.concat(H,'".');null!=A&&A.stack&&(R+="\n".concat(A.stack)),ie.warn(R),y&&y.listenerCount("error")>0&&y.emit("error",R)}const ir=()=>Math.random().toString(36).slice(2),Sr=function(){var H=(0,g.Z)(function*(A,y){let R,U;const K="1.35.6";let q=y.version||K;try{if(("binance"===A||"production"===A)&&!y.version){let it;it=Ue.prodTorusUrl?{data:Ue.prodTorusUrl}:yield V("".concat(Ue.api,"/latestversion?name=@toruslabs/torus-embed&version=").concat(K),{},{useAPIKey:!0}),q=it.data,Ue.prodTorusUrl=it.data}}catch(it){ie.error(it,"unable to fetch latest version")}switch(ie.info("version used: ",q),A){case"binance":R="https://binance.tor.us/v".concat(q),U="info";break;case"testing":R="https://testing.tor.us",U="debug";break;case"lrc":R="https://lrc.tor.us",U="debug";break;case"beta":R="https://beta.tor.us",U="debug";break;case"development":R="http://localhost:4050",U="debug";break;default:R="https://app.tor.us/v".concat(q),U="error"}return{torusUrl:R,logLevel:U}});return function(y,R){return H.apply(this,arguments)}}(),Rr=()=>{let H=window.navigator.language||"en-US";const A=H.split("-");return H=Object.prototype.hasOwnProperty.call(Ue.translations,A[0])?A[0]:"en",H},Yr=["eth_subscription"],Or=()=>{},Ir="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",J="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";function Mt(H,A){var y=Object.keys(H);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(H);A&&(R=R.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),y.push.apply(y,R)}return y}xt.defaultMaxListeners=100;const oe=function(H,A){let y=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(R,U)=>R||U.error?A(R||U.error):!y||Array.isArray(U)?H(U):H(U.result)};class se extends xt{constructor(A){let{maxEventListeners:y=100,shouldSendMetadata:R=!0,jsonRpcStreamName:U="provider"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),M(this,"chainId",void 0),M(this,"selectedAddress",void 0),M(this,"_rpcEngine",void 0),M(this,"networkVersion",void 0),M(this,"shouldSendMetadata",void 0),M(this,"isTorus",void 0),M(this,"_publicConfigStore",void 0),M(this,"tryPreopenHandle",void 0),M(this,"enable",void 0),M(this,"_state",void 0),M(this,"_jsonRpcConnection",void 0),M(this,"_sentWarnings",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),!(0,Ur.duplex)(A))throw new Error(we.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(y),this._state=function ee(H){for(var A=1;A<arguments.length;A++){var y=null!=arguments[A]?arguments[A]:{};A%2?Mt(Object(y),!0).forEach(function(R){M(H,R,y[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(y)):Mt(Object(y)).forEach(function(R){Object.defineProperty(H,R,Object.getOwnPropertyDescriptor(y,R))})}return H}({},se._defaultState),this.selectedAddress=null,this.networkVersion=null,this.chainId=null,this.shouldSendMetadata=R,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._sendSync=this._sendSync.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this);const K=new Ht;Nt()(A,K,A,this._handleStreamDisconnect.bind(this,"MetaMask")),this._publicConfigStore=new Br.ObservableStore({storageKey:"Metamask-Config"}),Nt()(K.createStream("publicConfig"),(0,Br.storeAsStream)(this._publicConfigStore),Ar.bind(this,"MetaMask PublicConfigStore")),K.ignoreStream("phishing"),this.on("connect",()=>{this._state.isConnected=!0});const q=function Kt(){const H={},y=new xt,q=new k.Duplex({objectMode:!0,read:function A(){return!1},write:function K(ft,ut,ht){let gt;try{ft.id?function R(ft){const ut=H[ft.id];if(!ut)throw new Error('StreamMiddleware - Unknown response id "'.concat(ft.id,'"'));delete H[ft.id],Object.assign(ut.res,ft),setTimeout(ut.end)}(ft):function U(ft){y.emit("notification",ft)}(ft)}catch(At){gt=At}ht(gt)}});return{events:y,middleware:(ft,ut,ht,gt)=>{q.push(ft),H[ft.id]={req:ft,res:ut,next:ht,end:gt}},stream:q}}();Nt()(q.stream,K.createStream(U),q.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const it=new pe;it.push(function Wt(){return(H,A,y,R)=>{const U=H.id,K=rt()(32).toString("hex");H.id=K,A.id=K,y(q=>{H.id=U,A.id=U,q()})}}()),it.push(function Xr(){return(H,A,y)=>{("string"!=typeof H.method||!H.method)&&(A.error=wt.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:H})),y(R=>{const{error:U}=A;return U&&ie.error("MetaMask - RPC Error: ".concat(U.message),U),R()})}}()),it.push(q.middleware),this._rpcEngine=it,q.events.on("notification",ft=>{const{method:ut,params:ht}=ft;"wallet_accountsChanged"===ut?this._handleAccountsChanged(ht):"wallet_unlockStateChanged"===ut?this._handleUnlockStateChanged(ht):"wallet_chainChanged"===ut?this._handleChainChanged(ht):Yr.includes(ft.method)&&(this.emit("data",ft),this.emit("notification",ht.result),this.emit("message",{type:ut,data:ht}))})}get publicConfigStore(){return this._sentWarnings.publicConfigStore||(ie.warn(we.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}isConnected(){return this._state.isConnected}request(A){var y=this;return(0,g.Z)(function*(){if(!A||"object"!=typeof A||Array.isArray(A))throw wt.ethErrors.rpc.invalidRequest({message:we.errors.invalidRequestArgs(),data:A});const{method:R,params:U}=A;if("string"!=typeof R||0===R.length)throw wt.ethErrors.rpc.invalidRequest({message:we.errors.invalidRequestMethod(),data:A});if(void 0!==U&&!Array.isArray(U)&&("object"!=typeof U||null===U))throw wt.ethErrors.rpc.invalidRequest({message:we.errors.invalidRequestParams(),data:A});return new Promise((K,q)=>{y._rpcRequest({method:R,params:U},oe(K,q))})})()}sendAsync(A,y){this._rpcRequest(A,y)}addListener(A,y){return this._warnOfDeprecation(A),super.addListener(A,y)}on(A,y){return this._warnOfDeprecation(A),super.on(A,y)}once(A,y){return this._warnOfDeprecation(A),super.once(A,y)}prependListener(A,y){return this._warnOfDeprecation(A),super.prependListener(A,y)}prependOnceListener(A,y){return this._warnOfDeprecation(A),super.prependOnceListener(A,y)}_initializeState(){var A=this;return(0,g.Z)(function*(){try{const{accounts:y,chainId:R,isUnlocked:U,networkVersion:K}=yield A.request({method:"wallet_getProviderState"});A.emit("connect",{chainId:R}),A._handleChainChanged({chainId:R,networkVersion:K}),A._handleUnlockStateChanged({accounts:y,isUnlocked:U}),A._handleAccountsChanged(y)}catch(y){ie.error("MetaMask: Failed to get initial state. Please report this bug.",y)}finally{ie.info("initialized state"),A._state.initialized=!0,A.emit("_initialized")}})()}_rpcRequest(A,y){let R=arguments.length>2&&void 0!==arguments[2]&&arguments[2],U=y;const K=A;if(!Array.isArray(K))if(K.jsonrpc||(K.jsonrpc="2.0"),"eth_accounts"===K.method||"eth_requestAccounts"===K.method)U=(q,it)=>{this._handleAccountsChanged(it.result||[],"eth_accounts"===K.method,R),y(q,it)};else if("wallet_getProviderState"===K.method)return void this._rpcEngine.handle(A,U);this.tryPreopenHandle(K,U)}send(A,y){return this._sentWarnings.send||(ie.warn(we.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof A||y&&!Array.isArray(y)?A&&"object"==typeof A&&"function"==typeof y?this._rpcRequest(A,y):this._sendSync(A):new Promise((R,U)=>{try{this._rpcRequest({method:A,params:y},oe(R,U,!1))}catch(K){U(K)}})}_sendSync(A){let y;switch(A.method){case"eth_accounts":y=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":y=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(A,Or),y=!0;break;case"net_version":y=this.networkVersion||null;break;default:throw new Error(we.errors.unsupportedSync(A.method))}return{id:A.id,jsonrpc:A.jsonrpc,result:y}}_handleConnect(A){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:A}),ie.debug(we.info.connected(A)))}_handleDisconnect(A,y){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!A){let R;this._state.isConnected=!1,A?(R=new wt.EthereumRpcError(1013,y||we.errors.disconnected()),ie.debug(R)):(R=new wt.EthereumRpcError(1011,y||we.errors.permanentlyDisconnected()),ie.error(R),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",R)}}_handleStreamDisconnect(A,y){Ar(A,y,this),this._handleDisconnect(!1,y?y.message:void 0)}_handleAccountsChanged(A){let y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],R=arguments.length>2&&void 0!==arguments[2]&&arguments[2],U=A;Array.isArray(U)||(ie.error("MetaMask: Received non-array accounts parameter. Please report this bug.",U),U=[]);for(const K of A)if("string"!=typeof K){ie.error("MetaMask: Received non-string account. Please report this bug.",A),U=[];break}Fr()(this._state.accounts,U)||(y&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!R&&ie.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',U),this._state.accounts=U,this.emit("accountsChanged",U)),this.selectedAddress!==U[0]&&(this.selectedAddress=U[0]||null)}_handleChainChanged(){let{chainId:A,networkVersion:y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A&&y?"loading"===y?this._handleDisconnect(!0):(this._handleConnect(A),A!==this.chainId&&(this.chainId=A,this._state.initialized&&this.emit("chainChanged",this.chainId))):ie.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:A,networkVersion:y})}_handleUnlockStateChanged(){let{accounts:A,isUnlocked:y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"==typeof y?y!==this._state.isUnlocked&&(this._state.isUnlocked=y,this._handleAccountsChanged(A||[])):ie.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:y})}_warnOfDeprecation(A){!1===this._sentWarnings.events[A]&&(ie.warn(we.warnings.events[A]),this._sentWarnings.events[A]=!0)}}M(se,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const fe=(H,A)=>{const y={};return H.algorithms.forEach(R=>{y[R]=wr()(R).update(A,"utf8").digest("base64")}),y};class ur extends dt.EventEmitter{constructor(A){let{url:y,target:R,features:U}=A;super(),M(this,"url",void 0),M(this,"target",void 0),M(this,"features",void 0),M(this,"window",void 0),M(this,"windowTimer",void 0),M(this,"iClosedWindow",void 0),this.url=y,this.target=R||"_blank",this.features=U||function et(){const H=void 0!==window.screenLeft?window.screenLeft:window.screenX,A=void 0!==window.screenTop?window.screenTop:window.screenY,U=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,K=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,it=Math.abs((U-1200)/2/1+H),ft=Math.abs((K-700)/2/1+A);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(700,",width=").concat(1200,",top=").concat(ft,",left=").concat(it)}(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var A;return this.window=window.open(this.url.href,this.target,this.features),null!==(A=this.window)&&void 0!==A&&A.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(A){A?window.location.replace(this.url.href):window.location.href=this.url.href}}function yr(H){return new Promise((A,y)=>{try{const R=document.createElement("img");R.onload=()=>A(!0),R.onerror=()=>A(!1),R.src=H}catch(R){y(R)}})}const Tr=H=>{const{document:A}=H,y=A.querySelector('head > meta[property="og:site_name"]');if(y)return y.content;const R=A.querySelector('head > meta[name="title"]');return R?R.content:A.title&&A.title.length>0?A.title:H.location.hostname};function Nr(H){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(H){const{document:A}=H;let y=A.querySelector('head > link[rel="shortcut icon"]');return y&&(yield yr(y.href))||(y=Array.from(A.querySelectorAll('head > link[rel="icon"]')).find(R=>Boolean(R.href)),y&&(yield yr(y.href)))?y.href:null})).apply(this,arguments)}const nn=function(){var H=(0,g.Z)(function*(){return{name:Tr(window),icon:yield Nr(window)}});return function(){return H.apply(this,arguments)}}();function $r(){return($r=(0,g.Z)(function*(H){try{const A=yield nn();H.handle({jsonrpc:"2.0",id:ir(),method:"wallet_sendDomainMetadata",params:A},Or)}catch(A){ie.error({message:we.errors.sendSiteMetadata(),originalError:A})}})).apply(this,arguments)}const sn=["host","chainId","networkName"];function tn(H,A){var y=Object.keys(H);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(H);A&&(R=R.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),y.push.apply(y,R)}return y}function an(H){for(var A=1;A<arguments.length;A++){var y=null!=arguments[A]?arguments[A]:{};A%2?tn(Object(y),!0).forEach(function(R){M(H,R,y[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(y)):tn(Object(y)).forEach(function(R){Object.defineProperty(H,R,Object.getOwnPropertyDescriptor(y,R))})}return H}const un={google:!0,facebook:!0,reddit:!0,twitch:!0,discord:!0},en="sha384-XiZJTCV24uupt+L+3Wo1ROq8ahFbCT955WV56/4bTMfiy6JtHjQ6f1nmVJGR3zSE",ln=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt"];var H;(H=(0,g.Z)(function*(){try{if(typeof document>"u")return;const y=document.createElement("link"),{torusUrl:R}=yield Sr("production",{check:!1,hash:en,version:""});y.href="".concat(R,"/popup"),y.crossOrigin="anonymous",y.type="text/html",y.rel="prefetch",y.relList&&y.relList.supports&&y.relList.supports("prefetch")&&document.head.appendChild(y)}catch(y){ie.warn(y)}}),function A(){return H.apply(this,arguments)})();class cn{constructor(){let{buttonPosition:A=rr.BOTTOM_LEFT,buttonSize:y=56,modalZIndex:R=99999,apiKey:U="torus-default"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,"buttonPosition",rr.BOTTOM_LEFT),M(this,"buttonSize",void 0),M(this,"torusUrl",void 0),M(this,"torusIframe",void 0),M(this,"styleLink",void 0),M(this,"isLoggedIn",void 0),M(this,"isInitialized",void 0),M(this,"torusWidgetVisibility",void 0),M(this,"torusAlert",void 0),M(this,"nodeDetailManager",void 0),M(this,"torusJs",void 0),M(this,"apiKey",void 0),M(this,"modalZIndex",void 0),M(this,"alertZIndex",void 0),M(this,"torusAlertContainer",void 0),M(this,"isIframeFullScreen",void 0),M(this,"whiteLabel",void 0),M(this,"requestedVerifier",void 0),M(this,"currentVerifier",void 0),M(this,"embedTranslations",void 0),M(this,"ethereum",void 0),M(this,"provider",void 0),M(this,"communicationMux",void 0),M(this,"isLoginCallback",void 0),M(this,"paymentProviders",Ue.paymentProviders),M(this,"loginHint",""),M(this,"useWalletConnect",void 0),M(this,"isCustomLogin",!1),this.buttonPosition=A,this.buttonSize=y,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.nodeDetailManager=new v,this.torusJs=new _r({metadataHost:"https://metadata.tor.us",allowHost:"https://signer.tor.us/api/allow",network:"mainnet"}),this.apiKey=U,_r.setAPIKey(U),o(U),this.modalZIndex=R,this.alertZIndex=R+1e3,this.isIframeFullScreen=!1}init(){var A=arguments,y=this;return(0,g.Z)(function*(){let{buildEnv:R=Hr.PRODUCTION,enableLogging:U=!1,enabledVerifiers:K=un,network:q={host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""},loginConfig:it={},showTorusButton:ft=!0,integrity:ut={check:!1,hash:en,version:""},whiteLabel:ht,skipTKey:gt=!1,useWalletConnect:At=!1,mfaLevel:qt="default"}=A.length>0&&void 0!==A[0]?A[0]:{};if(y.isInitialized)throw new Error("Already initialized");const{torusUrl:Rt,logLevel:Ot}=yield Sr(R,ut);ie.info(Rt,"url loaded"),y.torusUrl=Rt,y.whiteLabel=ht,y.useWalletConnect=At,y.isCustomLogin=!!(it&&Object.keys(it).length>0)||!!(ht&&Object.keys(ht).length>0),ie.setDefaultLevel(Ot),U?ie.enableAll():ie.disableAll(),y.torusWidgetVisibility=ft;const Qt=new URL(Rt);Qt.pathname.endsWith("/")?Qt.pathname+="popup":Qt.pathname+="/popup",Qt.hash="#isCustomLogin=".concat(y.isCustomLogin),y.torusIframe=nr('<iframe\n        id="torusIframe"\n        allow='.concat(At?"camera":"",'\n        class="torusIframe"\n        src="').concat(Qt.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(y.modalZIndex,'"\n      ></iframe>')),y.torusAlertContainer=nr('<div id="torusAlertContainer"></div>'),y.torusAlertContainer.style.display="none",y.torusAlertContainer.style.setProperty("z-index",y.alertZIndex.toString());const It=window.document.createElement("link");It.setAttribute("rel","stylesheet"),It.setAttribute("type","text/css"),It.setAttribute("href","".concat(Rt,"/css/widget.css")),y.styleLink=It;const{defaultLanguage:ae=Rr(),customTranslations:he={}}=y.whiteLabel||{},De=b()(Ue.translations,he)[ae]||Ue.translations[Rr()];y.embedTranslations=De.embed;const or=function(){var sr=(0,g.Z)(function*(){return yield function Zr(){return gr.apply(this,arguments)}(),new Promise((Qe,_e)=>{y.torusIframe.onload=(0,g.Z)(function*(){y._setupWeb3();const fr=y.communicationMux.getStream("init_stream");fr.on("data",qr=>{const{name:Lr,data:Dr,error:dr}=qr;"init_complete"===Lr&&Dr.success?(y.isInitialized=!0,y._displayIframe(y.isIframeFullScreen),Qe(void 0)):dr&&_e(new Error(dr))}),fr.write({name:"init_stream",data:{enabledVerifiers:K,loginConfig:it,whiteLabel:y.whiteLabel,buttonPosition:y.buttonPosition,buttonSize:y.buttonSize,torusWidgetVisibility:y.torusWidgetVisibility,apiKey:y.apiKey,skipTKey:gt,network:q,mfaLevel:qt}})}),window.document.head.appendChild(y.styleLink),window.document.body.appendChild(y.torusIframe),window.document.body.appendChild(y.torusAlertContainer)})});return function(){return sr.apply(this,arguments)}}();if("production"===R&&ut.check){const sr="".concat(Rt,"/popup"),Qe=yield fetch(sr,{cache:"reload"});if("max-age=3600"!==Qe.headers.get("Cache-Control"))throw new Error("Unexpected Cache-Control headers, got ".concat(Qe.headers.get("Cache-Control")));const fr=((H,A)=>{const y=(H=>({algorithms:H.algorithms||["sha256"],delimiter:H.delimiter||" ",full:H.full||!1}))(H),R={hashes:fe(y,A),integrity:void 0};return R.integrity=((H,A)=>{let y="";return y+=Object.keys(A.hashes).map(R=>"".concat(R,"-").concat(A.hashes[R])).join(H.delimiter),y})(y,R),y.full?R:R.integrity})({algorithms:["sha384"]},yield Qe.text());if(ie.info(fr,"integrity"),fr!==ut.hash)throw y.clearInit(),new Error("Integrity check failed");yield or()}else yield or()})()}login(){let{verifier:A="",login_hint:y=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");return this.requestedVerifier=A,this.loginHint=y,this.ethereum.enable()}logout(){return new Promise((A,y)=>{if(!this.isLoggedIn)return void y(new Error("User has not logged in yet"));this.communicationMux.getStream("logout").write({name:"logOut"});const U=this.communicationMux.getStream("status");Pe(U,"data",q=>{q.loggedIn?y(new Error("Some Error Occured")):(this.isLoggedIn=!1,this.currentVerifier="",this.requestedVerifier="",A())})})}cleanUp(){var A=this;return(0,g.Z)(function*(){A.isLoggedIn&&(yield A.logout()),A.clearInit()})()}clearInit(){function A(y){return y instanceof Element||y instanceof HTMLDocument}A(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),A(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),A(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}showTorusButton(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}setProvider(A){let{host:y="mainnet",chainId:R=null,networkName:U=""}=A,K=function w(H,A){if(null==H)return{};var R,U,y=function x(H,A){if(null==H)return{};var U,K,y={},R=Object.keys(H);for(K=0;K<R.length;K++)!(A.indexOf(U=R[K])>=0)&&(y[U]=H[U]);return y}(H,A);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(H);for(U=0;U<K.length;U++)!(A.indexOf(R=K[U])>=0)&&(!Object.prototype.propertyIsEnumerable.call(H,R)||(y[R]=H[R]))}return y}(A,sn);return new Promise((q,it)=>{const ft=this.communicationMux.getStream("provider_change");Pe(ft,"data",gt=>{const{err:At,success:qt}=gt.data;ie.info(gt),At?it(At):qt?q():it(new Error("some error occured"))});const ht=ir();this._handleWindow(ht,{target:"_blank",features:Ir}),ft.write({name:"show_provider_change",data:{network:an({host:y,chainId:R,networkName:U},K),preopenInstanceId:ht,override:!1}})})}showWallet(A){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const R=this.communicationMux.getStream("show_wallet"),U=A?"/".concat(A):"";R.write({name:"show_wallet",data:{path:U}}),Pe(R,"data",q=>{if("show_wallet_instance"===q.name){const{instanceId:it}=q.data,ft=new URL("".concat(this.torusUrl,"/wallet").concat(U));ft.searchParams.append("integrity","true"),ft.searchParams.append("instanceId",it),Object.keys(y).forEach(ht=>{ft.searchParams.append(ht,y[ht])}),ft.hash="#isCustomLogin=".concat(this.isCustomLogin),new ur({url:ft,features:"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315"}).open()}})}getPublicAddress(A){var y=this;return(0,g.Z)(function*(){let{verifier:R,verifierId:U,isExtended:K=!1}=A;if(!Ue.supportedVerifierList.includes(R)||!Mr[R])throw new Error("Unsupported verifier");const q=yield y.nodeDetailManager.getNodeDetails({verifier:R,verifierId:U}),it=q.torusNodeEndpoints,ft=q.torusNodePub,ut=R,ht=Mr[R];try{const gt=yield y.torusJs.getUserTypeAndAddress(it,ft,{verifier:ut,verifierId:U});if("v1"===gt.typeOfUser)return K?gt:gt.address;const At=yield y.torusJs.getUserTypeAndAddress(it,ft,{verifier:ht,verifierId:U},!0);return K?At:At.address}catch(gt){if(null!=gt&&gt.message.includes("Verifier + VerifierID has not yet been assigned")){const At=yield y.torusJs.getUserTypeAndAddress(it,ft,{verifier:ht,verifierId:U},!0);return K?At:At.address}throw gt}})()}getUserInfo(A){return new Promise((y,R)=>{if(this.isLoggedIn){const U=this.communicationMux.getStream("user_info_access");U.write({name:"user_info_access_request"}),Pe(U,"data",q=>{const{name:it,data:{approved:ft,payload:ut,rejected:ht,newRequest:gt}}=q;if("user_info_access_response"===it)if(ft)y(ut);else if(ht)R(new Error("User rejected the request"));else if(gt){const At=this.communicationMux.getStream("user_info");Pe(At,"data",Ot=>{"user_info_response"===Ot.name&&(Ot.data.approved?y(Ot.data.payload):R(new Error("User rejected the request")))});const Rt=ir();this._handleWindow(Rt,{target:"_blank",features:Ir}),At.write({name:"user_info_request",data:{message:A,preopenInstanceId:Rt}})}})}else R(new Error("User has not logged in yet"))})}initiateTopup(A,y){return new Promise((R,U)=>{if(this.isInitialized){const{errors:K,isValid:q}=((H,A)=>{const y={};if(!H)return{errors:y,isValid:!0};if(H&&!qe[H])return y.provider="Invalid Provider",{errors:y,isValid:0===Object.keys(y).length};const R=qe[H],U=A||{};if(U.fiatValue){const K=+parseFloat(U.fiatValue.toString())||0;K<R.minOrderValue&&(y.fiatValue="Requested amount is lower than supported"),K>R.maxOrderValue&&R.enforceMax&&(y.fiatValue="Requested amount is higher than supported")}if(U.selectedCurrency&&!R.validCurrencies.includes(U.selectedCurrency)&&(y.selectedCurrency="Unsupported currency"),U.selectedCryptoCurrency){const K=Object.values(R.validCryptoCurrenciesByChain).flat().map(it=>it.value),q="moonpay"===H?U.selectedCryptoCurrency.toLowerCase():U.selectedCryptoCurrency;K&&!K.includes(q)&&(y.selectedCryptoCurrency="Unsupported cryptoCurrency")}return{errors:y,isValid:0===Object.keys(y).length}})(A,y);if(!q)return void U(new Error(JSON.stringify(K)));const it=this.communicationMux.getStream("topup");Pe(it,"data",ht=>{"topup_response"===ht.name&&(ht.data.success?R(ht.data.success):U(new Error(ht.data.error)))});const ut=ir();this._handleWindow(ut),it.write({name:"topup_request",data:{provider:A,params:y,preopenInstanceId:ut}})}else U(new Error("Torus is not initialized yet"))})}loginWithPrivateKey(A){var y=this;return(0,g.Z)(function*(){const{privateKey:R,userInfo:U}=A;return new Promise((K,q)=>{if(y.isInitialized){if(32!==Buffer.from(R,"hex").length)return void q(new Error("Invalid private key, Please provide a 32 byte valid secp25k1 private key"));const it=y.communicationMux.getStream("login_with_private_key");Pe(it,"data",ut=>{"login_with_private_key_response"===ut.name&&(ut.data.success?K(ut.data.success):q(new Error(ut.data.error)))}),it.write({name:"login_with_private_key_request",data:{privateKey:R,userInfo:U}})}else q(new Error("Torus is not initialized yet"))})})()}showWalletConnectScanner(){var A=this;return(0,g.Z)(function*(){if(!A.useWalletConnect)throw new Error("Set `useWalletConnect` as true in init function options to use wallet connect scanner");return new Promise((y,R)=>{if(A.isLoggedIn){const U=A.communicationMux.getStream("wallet_connect_stream");Pe(U,"data",q=>{"wallet_connect_stream_res"===q.name&&(q.data.success?y(q.data.success):R(new Error(q.data.error)),A._displayIframe())}),U.write({name:"wallet_connect_stream_req"}),A._displayIframe(!0)}else R(new Error("User has not logged in yet"))})})()}_handleWindow(A){let{url:y,target:R,features:U}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(A){const K=this.communicationMux.getStream("window"),q=new URL(y||"".concat(this.torusUrl,"/redirect?preopenInstanceId=").concat(A));q.hash?q.hash+="&isCustomLogin=".concat(this.isCustomLogin):q.hash="#isCustomLogin=".concat(this.isCustomLogin);const it=new ur({url:q,target:R,features:U});if(it.open(),!it.window)return void this._createPopupBlockAlert(A,q.href);K.write({name:"opened_window",data:{preopenInstanceId:A}});const ft=ut=>{let{preopenInstanceId:ht,close:gt}=ut;ht===A&&gt&&(it.close(),K.removeListener("data",ft))};K.on("data",ft),it.once("close",()=>{K.write({data:{preopenInstanceId:A,closed:!0}}),K.removeListener("data",ft)})}}_setEmbedWhiteLabel(A){const{theme:y}=this.whiteLabel||{};if(y){const{isDark:R=!1,colors:U={}}=y;R&&A.classList.add("torus-dark"),U.torusBrand1&&A.style.setProperty("--torus-brand-1",U.torusBrand1),U.torusGray2&&A.style.setProperty("--torus-gray-2",U.torusGray2)}}_getLogoUrl(){var A,y;let R="".concat(this.torusUrl,"/images/torus_icon-blue.svg");var U,K;return R=null!==(A=this.whiteLabel)&&void 0!==A&&null!==(y=A.theme)&&void 0!==y&&y.isDark?(null===(U=this.whiteLabel)||void 0===U?void 0:U.logoLight)||R:(null===(K=this.whiteLabel)||void 0===K?void 0:K.logoDark)||R,R}_sendWidgetVisibilityStatus(A){this.communicationMux.getStream("torus-widget-visibility").write({data:A})}_displayIframe(){let A=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const y={},R=this.buttonSize+14;if(A)y.display="block",y.width="100%",y.height="100%",y.top="0px",y.right="0px",y.left="0px",y.bottom="0px";else switch(y.display=this.torusWidgetVisibility?"block":"none",y.height="".concat(R,"px"),y.width="".concat(R,"px"),this.buttonPosition){case rr.TOP_LEFT:y.top="0px",y.left="0px",y.right="auto",y.bottom="auto";break;case rr.TOP_RIGHT:y.top="0px",y.right="0px",y.left="auto",y.bottom="auto";break;case rr.BOTTOM_RIGHT:y.bottom="0px",y.right="0px",y.top="auto",y.left="auto";break;default:y.bottom="0px",y.left="0px",y.top="auto",y.right="auto"}Object.assign(this.torusIframe.style,y),this.isIframeFullScreen=A}_setupWeb3(){ie.info("setupWeb3 running");const A=new Lt({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),y=new Lt({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),R=new se(A),U=ht=>{const gt=R[ht];R[ht]=function(qt){if(qt&&"eth_requestAccounts"===qt)return R.enable();for(var Rt=arguments.length,Ot=new Array(Rt>1?Rt-1:0),Qt=1;Qt<Rt;Qt++)Ot[Qt-1]=arguments[Qt];return gt.apply(this,[qt,...Ot])}};U("send"),U("sendAsync"),R.enable=()=>new Promise((ht,gt)=>{R.sendAsync({jsonrpc:"2.0",id:ir(),method:"eth_requestAccounts",params:[]},(At,qt)=>{const{result:Rt}=qt||{};if(At)setTimeout(()=>{gt(At)},50);else if(Array.isArray(Rt)&&Rt.length>0){const Ot=()=>{if(""!==this.requestedVerifier&&this.currentVerifier!==this.requestedVerifier){const{requestedVerifier:Qt}=this;this.logout().then(It=>{this.requestedVerifier=Qt,this._showLoginPopup(!0,ht,gt)}).catch(It=>gt(It))}else ht(Rt)};this.isLoggedIn?Ot():this.isLoginCallback=Ot}else this._showLoginPopup(!0,ht,gt)})}),R.tryPreopenHandle=(ht,gt)=>{const At=ht;if(!Array.isArray(At)&&ln.includes(At.method)){const qt=ir();this._handleWindow(qt,{target:"_blank",features:J}),At.preopenInstanceId=qt}R._rpcEngine.handle(At,gt)};const K=new Proxy(R,{deleteProperty:()=>!0});this.ethereum=K;const q=function me(H){const A=new Ht;return A.getStream=function(R){return this._substreams[R]?this._substreams[R]:this.createStream(R)},Nt()(H,A,H,y=>{y&&window.console.error(y)}),A}(y);this.communicationMux=q,q.getStream("window").on("data",ht=>{"create_window"===ht.name&&this._createPopupBlockAlert(ht.data.preopenInstanceId,ht.data.url)}),q.getStream("widget").on("data",ht=>{const{data:gt}=ht;this._displayIframe(gt)}),q.getStream("status").on("data",ht=>{ht.loggedIn?(this.isLoggedIn=ht.loggedIn,this.currentVerifier=ht.verifier):this._displayIframe(),this.isLoginCallback&&(this.isLoginCallback(),delete this.isLoginCallback)}),this.provider=K,this.provider.shouldSendMetadata&&function on(H){$r.apply(this,arguments)}(this.provider._rpcEngine),R._initializeState(),ie.debug("Torus - injected provider")}_showLoginPopup(A,y,R){const U=q=>{const{err:it,selectedAddress:ft}=q;it?(ie.error(it),R&&R(it)):y&&y([ft]),this.isIframeFullScreen&&this._displayIframe()},K=this.communicationMux.getStream("oauth");if(this.requestedVerifier){Pe(K,"data",U);const q=ir();this._handleWindow(q),K.write({name:"oauth",data:{calledFromEmbed:A,verifier:this.requestedVerifier,preopenInstanceId:q,login_hint:this.loginHint}})}else this._displayIframe(!0),Pe(K,"data",U),K.write({name:"oauth_modal",data:{calledFromEmbed:A}})}_createPopupBlockAlert(A,y){const R=this._getLogoUrl(),U=nr('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(R,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),K=nr('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),q=nr('<div id="torusAlert__btn-container"></div>');q.appendChild(K),U.appendChild(q),this._setEmbedWhiteLabel(U),cr(()=>{this.torusAlertContainer.style.display="block",this.torusAlertContainer.appendChild(U)}),cr(()=>{K.addEventListener("click",()=>{this._handleWindow(A,{url:y,target:"_blank",features:J}),U.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})})}}var pn=function(){return function(H,A,y,R){return new(y||(y=Promise))(function(K,q){function it(ht){try{ut(R.next(ht))}catch(gt){q(gt)}}function ft(ht){try{ut(R.throw(ht))}catch(gt){q(gt)}}function ut(ht){ht.done?K(ht.value):function U(K){return K instanceof y?K:new y(function(q){q(K)})}(ht.value).then(it,ft)}ut((R=R.apply(H,A||[])).next())})}(void 0,void 0,void 0,function(){return function(H,A){var R,U,K,q,y={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return q={next:it(0),throw:it(1),return:it(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q;function it(ut){return function(ht){return function ft(ut){if(R)throw new TypeError("Generator is already executing.");for(;y;)try{if(R=1,U&&(K=2&ut[0]?U.return:ut[0]?U.throw||((K=U.return)&&K.call(U),0):U.next)&&!(K=K.call(U,ut[1])).done)return K;switch(U=0,K&&(ut=[2&ut[0],K.value]),ut[0]){case 0:case 1:K=ut;break;case 4:return y.label++,{value:ut[1],done:!1};case 5:y.label++,U=ut[1],ut=[0];continue;case 7:ut=y.ops.pop(),y.trys.pop();continue;default:if(!(K=(K=y.trys).length>0&&K[K.length-1])&&(6===ut[0]||2===ut[0])){y=0;continue}if(3===ut[0]&&(!K||ut[1]>K[0]&&ut[1]<K[3])){y.label=ut[1];break}if(6===ut[0]&&y.label<K[1]){y.label=K[1],K=ut;break}if(K&&y.label<K[2]){y.label=K[2],y.ops.push(ut);break}K[2]&&y.ops.pop(),y.trys.pop();continue}ut=A.call(H,y)}catch(ht){ut=[6,ht],U=0}finally{R=K=0}if(5&ut[0])throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}([ut,ht])}}}(this,function(H){return[2,new cn]})})}},70424:(Q,E,p)=>{"use strict";var w=new(0,p(5247).ec)("secp256k1"),M=global.crypto||global.msCrypto||{},i=M.subtle||M.webkitSubtle,d=p(19726);const s=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),f=Buffer.alloc(32,0);function l(Z,N){if(!Z)throw new Error(N||"Assertion failed")}function h(Z){return!!function v(Z){return Buffer.isBuffer(Z)&&32===Z.length}(Z)&&Z.compare(f)>0&&Z.compare(s)<0}function P(Z){var N=new Uint8Array(Z);return typeof M.getRandomValues>"u"?Buffer.from(d.randomBytes(Z)):(M.getRandomValues(N),Buffer.from(N))}function D(Z){return function(N,X,u){return new Promise(function(t){if(i)return i.importKey("raw",X,{name:"AES-CBC"},!1,[Z]).then(function(S){return i[Z]({name:"AES-CBC",iv:N},S,u)}).then(function(S){t(Buffer.from(new Uint8Array(S)))});if("encrypt"===Z){var a=d.createCipheriv("aes-256-cbc",X,N);let S=a.update(u),B=a.final();t(Buffer.concat([S,B]))}else if("decrypt"===Z){var m=d.createDecipheriv("aes-256-cbc",X,N);let S=m.update(u),B=m.final();t(Buffer.concat([S,B]))}})}}D("encrypt");var C=D("decrypt");E.oq=function(){for(var Z=P(32);!h(Z);)Z=P(32);return Z};E.rc=function(Z){return l(32===Z.length,"Bad private key"),l(h(Z),"Bad private key"),Buffer.from(w.keyFromPrivate(Z).getPublic("arr"))};E.pe=function(Z,N){var X;return function(Z,N){return new Promise(function(X){l(Buffer.isBuffer(Z),"Bad private key"),l(Buffer.isBuffer(N),"Bad public key"),l(32===Z.length,"Bad private key"),l(h(Z),"Bad private key"),l(65===N.length||33===N.length,"Bad public key"),65===N.length&&l(4===N[0],"Bad public key"),33===N.length&&l(2===N[0]||3===N[0],"Bad public key");var u=w.keyFromPrivate(Z),t=w.keyFromPublic(N),r=u.derive(t.getPublic());X(Buffer.from(r.toArray()))})}(Z,N.ephemPublicKey).then(function(u){return function T(Z){return new Promise(function(N){var u=d.createHash("sha512").update(Z).digest();N(new Uint8Array(u))})}(u)}).then(function(u){return X=u.slice(0,32),function L(Z,N,X){return new Promise(function(u){var t=d.createHmac("sha256",Buffer.from(Z));t.update(N),u(function b(Z,N){if(Z.length!==N.length)return!1;for(var X=0,u=0;u<Z.length;u++)X|=Z[u]^N[u];return 0===X}(t.digest(),X))})}(u.slice(32),Buffer.concat([N.iv,N.ephemPublicKey,N.ciphertext]),N.mac)}).then(function(u){return l(u,"Bad MAC"),C(N.iv,X,N.ciphertext)}).then(function(u){return Buffer.from(new Uint8Array(u))})}},87027:(Q,E,p)=>{var x;void 0!==(x=function(){"use strict";function w(I,G){if(!(I instanceof G))throw new TypeError("Cannot call a class as a function")}function M(I,G){for(var O=0;O<G.length;O++){var Z=G[O];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(I,Z.key,Z)}}function i(I,G,O){return G&&M(I.prototype,G),O&&M(I,O),I}function d(I,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(G&&G.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),G&&f(I,G)}function s(I){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(I)}function f(I,G){return(f=Object.setPrototypeOf||function(Z,N){return Z.__proto__=N,Z})(I,G)}function v(I){if(void 0===I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function h(I,G){return!G||"object"!=typeof G&&"function"!=typeof G?v(I):G}function b(I){var G=function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,Z=s(I);if(G){var X=s(this).constructor;N=Reflect.construct(Z,arguments,X)}else N=Z.apply(this,arguments);return h(this,N)}}function T(I,G,O){return(T=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(N,X,u){var t=function P(I,G){for(;!Object.prototype.hasOwnProperty.call(I,G)&&null!==(I=s(I)););return I}(N,X);if(t){var r=Object.getOwnPropertyDescriptor(t,X);return r.get?r.get.call(u):r.value}})(I,G,O||I)}var D=function(){function I(){w(this,I),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(I,[{key:"addEventListener",value:function(O,Z,N){O in this.listeners||(this.listeners[O]=[]),this.listeners[O].push({callback:Z,options:N})}},{key:"removeEventListener",value:function(O,Z){if(O in this.listeners)for(var N=this.listeners[O],X=0,u=N.length;X<u;X++)if(N[X].callback===Z)return void N.splice(X,1)}},{key:"dispatchEvent",value:function(O){if(O.type in this.listeners){for(var N=this.listeners[O.type].slice(),X=0,u=N.length;X<u;X++){var t=N[X];try{t.callback.call(this,O)}catch(r){Promise.resolve().then(function(){throw r})}t.options&&t.options.once&&this.removeEventListener(O.type,t.callback)}return!O.defaultPrevented}}}]),I}(),F=function(I){d(O,I);var G=b(O);function O(){var Z;return w(this,O),(Z=G.call(this)).listeners||D.call(v(Z)),Object.defineProperty(v(Z),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(v(Z),"onabort",{value:null,writable:!0,configurable:!0}),Z}return i(O,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(N){"abort"===N.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,N)),T(s(O.prototype),"dispatchEvent",this).call(this,N)}}]),O}(D),C=function(){function I(){w(this,I),Object.defineProperty(this,"signal",{value:new F,writable:!0,configurable:!0})}return i(I,[{key:"abort",value:function(){var O;try{O=new Event("abort")}catch{typeof document<"u"?document.createEvent?(O=document.createEvent("Event")).initEvent("abort",!1,!1):(O=document.createEventObject()).type="abort":O={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(O)}},{key:"toString",value:function(){return"[object AbortController]"}}]),I}();function _(I){return I.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof I.Request&&!I.Request.prototype.hasOwnProperty("signal")||!I.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(C.prototype[Symbol.toStringTag]="AbortController",F.prototype[Symbol.toStringTag]="AbortSignal"),function(I){if(_(I)){if(!I.fetch)return void console.warn("fetch() is not available, cannot install abortcontroller-polyfill");var G=function L(I){"function"==typeof I&&(I={fetch:I});var O=I.fetch,Z=I.Request,N=void 0===Z?O.Request:Z,u=I.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,t=void 0!==u&&u;if(!_({fetch:O,Request:N,AbortController:I.AbortController,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:t}))return{fetch:O,Request:r};var r=N;(r&&!r.prototype.hasOwnProperty("signal")||t)&&((r=function(S,B){var c;B&&B.signal&&(c=B.signal,delete B.signal);var e=new N(S,B);return c&&Object.defineProperty(e,"signal",{writable:!1,enumerable:!1,configurable:!0,value:c}),e}).prototype=N.prototype);var o=O;return{fetch:function(S,B){var c=r&&r.prototype.isPrototypeOf(S)?S.signal:B?B.signal:void 0;if(c){var e;try{e=new DOMException("Aborted","AbortError")}catch{(e=new Error("Aborted")).name="AbortError"}if(c.aborted)return Promise.reject(e);var n=new Promise(function(j,V){c.addEventListener("abort",function(){return V(e)},{once:!0})});return B&&B.signal&&delete B.signal,Promise.race([n,o(S,B)])}return o(S,B)},Request:r}}(I),Z=G.Request;I.fetch=G.fetch,I.Request=Z,Object.defineProperty(I,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:C}),Object.defineProperty(I,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:F})}}(typeof self<"u"?self:global)}.call(E,p,E,Q))&&(Q.exports=x)},45611:(Q,E,p)=>{"use strict";var x=p(49152);function w(l,v){return void 0===v&&(v="utf8"),Buffer.isBuffer(l)?d(l.toString("base64")):d(Buffer.from(l,v).toString("base64"))}function i(l){return l=l.toString(),x.default(l).replace(/\-/g,"+").replace(/_/g,"/")}function d(l){return l.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var f=w;f.encode=w,f.decode=function M(l,v){return void 0===v&&(v="utf8"),Buffer.from(i(l),"base64").toString(v)},f.toBase64=i,f.fromBase64=d,f.toBuffer=function s(l){return Buffer.from(i(l),"base64")},E.default=f},49152:(Q,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=function p(g){var w=g.length,M=w%4;if(!M)return g;var i=w,d=4-M,f=Buffer.alloc(w+d);for(f.write(g);d--;)f.write("=",i++);return f.toString()}},37092:(Q,E,p)=>{Q.exports=p(45611).default,Q.exports.default=Q.exports},93605:(Q,E)=>{function T(D){return Object.prototype.toString.call(D)}E.isArray=function p(D){return Array.isArray?Array.isArray(D):"[object Array]"===T(D)},E.isBoolean=function g(D){return"boolean"==typeof D},E.isNull=function x(D){return null===D},E.isNullOrUndefined=function w(D){return null==D},E.isNumber=function M(D){return"number"==typeof D},E.isString=function i(D){return"string"==typeof D},E.isSymbol=function d(D){return"symbol"==typeof D},E.isUndefined=function s(D){return void 0===D},E.isRegExp=function f(D){return"[object RegExp]"===T(D)},E.isObject=function l(D){return"object"==typeof D&&null!==D},E.isDate=function v(D){return"[object Date]"===T(D)},E.isError=function h(D){return"[object Error]"===T(D)||D instanceof Error},E.isFunction=function b(D){return"function"==typeof D},E.isPrimitive=function P(D){return null===D||"boolean"==typeof D||"number"==typeof D||"string"==typeof D||"symbol"==typeof D||typeof D>"u"},E.isBuffer=Buffer.isBuffer},75859:(Q,E,p)=>{var g=p(99318),x=function(){},i=function(d,s,f){if("function"==typeof s)return i(d,null,s);s||(s={}),f=g(f||x);var l=d._writableState,v=d._readableState,h=s.readable||!1!==s.readable&&d.readable,b=s.writable||!1!==s.writable&&d.writable,P=!1,T=function(){d.writable||D()},D=function(){b=!1,h||f.call(d)},F=function(){h=!1,b||f.call(d)},C=function(O){f.call(d,O?new Error("exited with error code: "+O):null)},_=function(O){f.call(d,O)},L=function(){process.nextTick(I)},I=function(){if(!P){if(h&&(!v||!v.ended||v.destroyed))return f.call(d,new Error("premature close"));if(b&&(!l||!l.ended||l.destroyed))return f.call(d,new Error("premature close"))}},G=function(){d.req.on("finish",D)};return function(d){return d.setHeader&&"function"==typeof d.abort}(d)?(d.on("complete",D),d.on("abort",L),d.req?G():d.on("request",G)):b&&!l&&(d.on("end",T),d.on("close",T)),function(d){return d.stdio&&Array.isArray(d.stdio)&&3===d.stdio.length}(d)&&d.on("exit",C),d.on("end",F),d.on("finish",D),!1!==s.error&&d.on("error",_),d.on("close",L),function(){P=!0,d.removeListener("complete",D),d.removeListener("abort",L),d.removeListener("request",G),d.req&&d.req.removeListener("finish",D),d.removeListener("end",T),d.removeListener("close",T),d.removeListener("finish",D),d.removeListener("exit",C),d.removeListener("end",F),d.removeListener("error",_),d.removeListener("close",L)}};Q.exports=i},30188:Q=>{var E=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};Q.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return E()}try{return __global__||E()}finally{delete Object.prototype.__global__}}()},43021:function(Q){Q.exports=function(){"use strict";function p($){return"function"==typeof $}var x=Array.isArray?Array.isArray:function($){return"[object Array]"===Object.prototype.toString.call($)},w=0,M=void 0,i=void 0,d=function(nt,ct){L[w]=nt,L[w+1]=ct,2===(w+=2)&&(i?i(I):O())};var l=typeof window<"u"?window:void 0,v=l||{},h=v.MutationObserver||v.WebKitMutationObserver,b=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),P=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function _(){var $=setTimeout;return function(){return $(I,1)}}var L=new Array(1e3);function I(){for(var $=0;$<w;$+=2)(0,L[$])(L[$+1]),L[$]=void 0,L[$+1]=void 0;w=0}var O=void 0;function Z($,nt){var ct=this,lt=new this.constructor(u);void 0===lt[X]&&z(lt);var dt=ct._state;if(dt){var St=arguments[dt-1];d(function(){return pt(dt,lt,St,ct._result)})}else tt(ct,lt,$,nt);return lt}function N($){if($&&"object"==typeof $&&$.constructor===this)return $;var ct=new this(u);return n(ct,$),ct}O=b?function T(){return function(){return process.nextTick(I)}}():h?function F(){var $=0,nt=new h(I),ct=document.createTextNode("");return nt.observe(ct,{characterData:!0}),function(){ct.data=$=++$%2}}():P?function C(){var $=new MessageChannel;return $.port1.onmessage=I,function(){return $.port2.postMessage(0)}}():void 0===l?function G(){try{var $=Function("return this")().require("vertx");return M=$.runOnLoop||$.runOnContext,function D(){return typeof M<"u"?function(){M(I)}:_()}()}catch{return _()}}():_();var X=Math.random().toString(36).substring(2);function u(){}var t=void 0;function e($,nt,ct){nt.constructor===$.constructor&&ct===Z&&nt.constructor.resolve===N?function c($,nt){1===nt._state?V($,nt._result):2===nt._state?Y($,nt._result):tt(nt,void 0,function(ct){return n($,ct)},function(ct){return Y($,ct)})}($,nt):void 0===ct?V($,nt):p(ct)?function B($,nt,ct){d(function(lt){var dt=!1,St=function S($,nt,ct,lt){try{$.call(nt,ct,lt)}catch(dt){return dt}}(ct,nt,function(bt){dt||(dt=!0,nt!==bt?n(lt,bt):V(lt,bt))},function(bt){dt||(dt=!0,Y(lt,bt))});!dt&&St&&(dt=!0,Y(lt,St))},$)}($,nt,ct):V($,nt)}function n($,nt){if($===nt)Y($,function a(){return new TypeError("You cannot resolve a promise with itself")}());else if(function E($){var nt=typeof $;return null!==$&&("object"===nt||"function"===nt)}(nt)){var ct=void 0;try{ct=nt.then}catch(lt){return void Y($,lt)}e($,nt,ct)}else V($,nt)}function j($){$._onerror&&$._onerror($._result),ot($)}function V($,nt){$._state===t&&($._result=nt,$._state=1,0!==$._subscribers.length&&d(ot,$))}function Y($,nt){$._state===t&&($._state=2,$._result=nt,d(j,$))}function tt($,nt,ct,lt){var dt=$._subscribers,St=dt.length;$._onerror=null,dt[St]=nt,dt[St+1]=ct,dt[St+2]=lt,0===St&&$._state&&d(ot,$)}function ot($){var nt=$._subscribers,ct=$._state;if(0!==nt.length){for(var lt=void 0,dt=void 0,St=$._result,bt=0;bt<nt.length;bt+=3)dt=nt[bt+ct],(lt=nt[bt])?pt(ct,lt,dt,St):dt(St);$._subscribers.length=0}}function pt($,nt,ct,lt){var dt=p(ct),St=void 0,bt=void 0,wt=!0;if(dt){try{St=ct(lt)}catch(ge){wt=!1,bt=ge}if(nt===St)return void Y(nt,function m(){return new TypeError("A promises callback cannot return that same promise.")}())}else St=lt;nt._state!==t||(dt&&wt?n(nt,St):!1===wt?Y(nt,bt):1===$?V(nt,St):2===$&&Y(nt,St))}var yt=0;function z($){$[X]=yt++,$._state=void 0,$._result=void 0,$._subscribers=[]}var st=function(){function $(nt,ct){this._instanceConstructor=nt,this.promise=new nt(u),this.promise[X]||z(this.promise),x(ct)?(this.length=ct.length,this._remaining=ct.length,this._result=new Array(this.length),0===this.length?V(this.promise,this._result):(this.length=this.length||0,this._enumerate(ct),0===this._remaining&&V(this.promise,this._result))):Y(this.promise,function rt(){return new Error("Array Methods must be provided an Array")}())}return $.prototype._enumerate=function(ct){for(var lt=0;this._state===t&&lt<ct.length;lt++)this._eachEntry(ct[lt],lt)},$.prototype._eachEntry=function(ct,lt){var dt=this._instanceConstructor,St=dt.resolve;if(St===N){var bt=void 0,wt=void 0,ge=!1;try{bt=ct.then}catch(_t){ge=!0,wt=_t}if(bt===Z&&ct._state!==t)this._settledAt(ct._state,lt,ct._result);else if("function"!=typeof bt)this._remaining--,this._result[lt]=ct;else if(dt===vt){var Pt=new dt(u);ge?Y(Pt,wt):e(Pt,ct,bt),this._willSettleAt(Pt,lt)}else this._willSettleAt(new dt(function(_t){return _t(ct)}),lt)}else this._willSettleAt(St(ct),lt)},$.prototype._settledAt=function(ct,lt,dt){var St=this.promise;St._state===t&&(this._remaining--,2===ct?Y(St,dt):this._result[lt]=dt),0===this._remaining&&V(St,this._result)},$.prototype._willSettleAt=function(ct,lt){var dt=this;tt(ct,void 0,function(St){return dt._settledAt(1,lt,St)},function(St){return dt._settledAt(2,lt,St)})},$}();var vt=function(){function $(nt){this[X]=function k(){return yt++}(),this._result=this._state=void 0,this._subscribers=[],u!==nt&&("function"!=typeof nt&&function le(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof $?function $t($,nt){try{nt(function(lt){n($,lt)},function(lt){Y($,lt)})}catch(ct){Y($,ct)}}(this,nt):function Et(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return $.prototype.catch=function(ct){return this.then(null,ct)},$.prototype.finally=function(ct){var dt=this.constructor;return p(ct)?this.then(function(St){return dt.resolve(ct()).then(function(){return St})},function(St){return dt.resolve(ct()).then(function(){throw St})}):this.then(ct,ct)},$}();return vt.prototype.then=Z,vt.all=function zt($){return new st(this,$).promise},vt.race=function at($){var nt=this;return x($)?new nt(function(ct,lt){for(var dt=$.length,St=0;St<dt;St++)nt.resolve($[St]).then(ct,lt)}):new nt(function(ct,lt){return lt(new TypeError("You must pass an array to race."))})},vt.resolve=N,vt.reject=function mt($){var ct=new this(u);return Y(ct,$),ct},vt._setScheduler=function s($){i=$},vt._setAsap=function f($){d=$},vt._asap=d,vt.polyfill=function ne(){var $=void 0;if(typeof global<"u")$=global;else if(typeof self<"u")$=self;else try{$=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var nt=$.Promise;if(nt){var ct=null;try{ct=Object.prototype.toString.call(nt.resolve())}catch{}if("[object Promise]"===ct&&!nt.cast)return}$.Promise=vt},vt.Promise=vt,vt}()},25613:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});const g=p(48240);function x(v){return!("string"!=typeof v||!/^(0x)?[0-9a-f]{512}$/i.test(v)||!/^(0x)?[0-9a-f]{512}$/.test(v)&&!/^(0x)?[0-9A-F]{512}$/.test(v))}function w(v,h){"object"==typeof h&&h.constructor===Uint8Array&&(h=g.bytesToHex(h));const b=g.keccak256(h).replace("0x","");for(let P=0;P<12;P+=4){const T=(parseInt(b.substr(P,2),16)<<8)+parseInt(b.substr(P+2,2),16)&2047,F=1<<T%4;if((M(v.charCodeAt(v.length-1-Math.floor(T/4)))&F)!==F)return!1}return!0}function M(v){if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;throw new Error("invalid bloom")}function f(v){return!("string"!=typeof v||!/^(0x)?[0-9a-f]{64}$/i.test(v)||!/^(0x)?[0-9a-f]{64}$/.test(v)&&!/^(0x)?[0-9A-F]{64}$/.test(v))}function l(v){return"string"==typeof v&&!(!v.match(/^(0x)?[0-9a-fA-F]{40}$/)&&!v.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}E.isBloom=x,E.isInBloom=w,E.isUserEthereumAddressInBloom=function i(v,h){if(!x(v))throw new Error("Invalid bloom given");if(!l(h))throw new Error(`Invalid ethereum address given: "${h}"`);return w(v,g.padLeft(h,64))},E.isContractAddressInBloom=function d(v,h){if(!x(v))throw new Error("Invalid bloom given");if(!l(h))throw new Error(`Invalid contract address given: "${h}"`);return w(v,h)},E.isTopicInBloom=function s(v,h){if(!x(v))throw new Error("Invalid bloom given");if(!f(h))throw new Error("Invalid topic");return w(v,h)},E.isTopic=f,E.isAddress=l},48240:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});const g=p(37109);function M(s){if(null==s)throw new Error("cannot convert null value to array");if("string"==typeof s){const f=s.match(/^(0x)?[0-9a-fA-F]*$/);if(!f)throw new Error("invalid hexidecimal string");if("0x"!==f[1])throw new Error("hex string must have 0x prefix");(s=s.substring(2)).length%2&&(s="0"+s);const l=[];for(let v=0;v<s.length;v+=2)l.push(parseInt(s.substr(v,2),16));return d(new Uint8Array(l))}if(function i(s){if(!s||parseInt(String(s.length))!=s.length||"string"==typeof s)return!1;for(let f=0;f<s.length;f++){const l=s[f];if(l<0||l>=256||parseInt(String(l))!=l)return!1}return!0}(s))return d(new Uint8Array(s));throw new Error("invalid arrayify value")}function d(s){return void 0!==s.slice||(s.slice=()=>{const f=Array.prototype.slice.call(arguments);return d(new Uint8Array(Array.prototype.slice.apply(s,f)))}),s}E.keccak256=function x(s){return"0x"+g.keccak_256(M(s))},E.padLeft=(s,f)=>{const l=/^0x/i.test(s)||"number"==typeof s;return s=s.toString().replace(/^0x/i,""),(l?"0x":"")+new Array(f-s.length+1>=0?f-s.length+1:0).join("0")+s},E.bytesToHex=function w(s){const f=[];for(let l=0;l<s.length;l++)f.push((s[l]>>>4).toString(16)),f.push((15&s[l]).toString(16));return`0x${f.join("").replace(/^0+/,"")}`},E.toByteArray=M},76575:function(Q,E,p){"use strict";var g=this&&this.__read||function(u,t){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var a,S,o=r.call(u),m=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)m.push(a.value)}catch(B){S={error:B}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(S)throw S.error}}return m},x=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(E,"__esModule",{value:!0}),E.isZeroAddress=E.zeroAddress=E.importPublic=E.privateToAddress=E.privateToPublic=E.publicToAddress=E.pubToAddress=E.isValidPublic=E.isValidPrivate=E.generateAddress2=E.generateAddress=E.isValidChecksumAddress=E.toChecksumAddress=E.isValidAddress=E.Account=void 0;var w=x(p(80469)),M=p(54345),i=p(10019),d=p(98214),s=p(33711),f=p(98248),l=p(89095),v=p(8359),h=p(81342),b=function(){function u(t,r,o,a){void 0===t&&(t=new M.BN(0)),void 0===r&&(r=new M.BN(0)),void 0===o&&(o=s.KECCAK256_RLP),void 0===a&&(a=s.KECCAK256_NULL),this.nonce=t,this.balance=r,this.stateRoot=o,this.codeHash=a,this._validate()}return u.fromAccountData=function(t){var r=t.nonce,o=t.balance,a=t.stateRoot,m=t.codeHash;return new u(r?new M.BN((0,f.toBuffer)(r)):void 0,o?new M.BN((0,f.toBuffer)(o)):void 0,a?(0,f.toBuffer)(a):void 0,m?(0,f.toBuffer)(m):void 0)},u.fromRlpSerializedAccount=function(t){var r=M.rlp.decode(t);if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)},u.fromValuesArray=function(t){var r=g(t,4),a=r[1],m=r[2],S=r[3];return new u(new M.BN(r[0]),new M.BN(a),m,S)},u.prototype._validate=function(){if(this.nonce.lt(new M.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new M.BN(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},u.prototype.raw=function(){return[(0,h.bnToUnpaddedBuffer)(this.nonce),(0,h.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},u.prototype.serialize=function(){return M.rlp.encode(this.raw())},u.prototype.isContract=function(){return!this.codeHash.equals(s.KECCAK256_NULL)},u.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(s.KECCAK256_NULL)},u}();E.Account=b,E.isValidAddress=function(u){try{(0,v.assertIsString)(u)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(u)},E.toChecksumAddress=function(u,t){(0,v.assertIsHexString)(u);var r=(0,d.stripHexPrefix)(u).toLowerCase(),o="";t&&(o=(0,h.toType)(t,h.TypeOutput.BN).toString()+"0x");for(var m=(0,l.keccakFromString)(o+r).toString("hex"),S="0x",B=0;B<r.length;B++)parseInt(m[B],16)>=8?S+=r[B].toUpperCase():S+=r[B];return S},E.isValidChecksumAddress=function(u,t){return(0,E.isValidAddress)(u)&&(0,E.toChecksumAddress)(u,t)===u},E.generateAddress=function(u,t){(0,v.assertIsBuffer)(u),(0,v.assertIsBuffer)(t);var r=new M.BN(t);return r.isZero()?(0,l.rlphash)([u,null]).slice(-20):(0,l.rlphash)([u,Buffer.from(r.toArray())]).slice(-20)},E.generateAddress2=function(u,t,r){return(0,v.assertIsBuffer)(u),(0,v.assertIsBuffer)(t),(0,v.assertIsBuffer)(r),(0,w.default)(20===u.length),(0,w.default)(32===t.length),(0,l.keccak256)(Buffer.concat([Buffer.from("ff","hex"),u,t,(0,l.keccak256)(r)])).slice(-20)},E.isValidPrivate=function(u){return(0,i.privateKeyVerify)(u)},E.isValidPublic=function(u,t){return void 0===t&&(t=!1),(0,v.assertIsBuffer)(u),64===u.length?(0,i.publicKeyVerify)(Buffer.concat([Buffer.from([4]),u])):!!t&&(0,i.publicKeyVerify)(u)},E.pubToAddress=function(u,t){return void 0===t&&(t=!1),(0,v.assertIsBuffer)(u),t&&64!==u.length&&(u=Buffer.from((0,i.publicKeyConvert)(u,!1).slice(1))),(0,w.default)(64===u.length),(0,l.keccak)(u).slice(-20)},E.publicToAddress=E.pubToAddress,E.privateToPublic=function(u){return(0,v.assertIsBuffer)(u),Buffer.from((0,i.publicKeyCreate)(u,!1)).slice(1)},E.privateToAddress=function(u){return(0,E.publicToAddress)((0,E.privateToPublic)(u))},E.importPublic=function(u){return(0,v.assertIsBuffer)(u),64!==u.length&&(u=Buffer.from((0,i.publicKeyConvert)(u,!1).slice(1))),u},E.zeroAddress=function(){var t=(0,f.zeros)(20);return(0,f.bufferToHex)(t)},E.isZeroAddress=function(u){try{(0,v.assertIsString)(u)}catch{return!1}return(0,E.zeroAddress)()===u}},83971:function(Q,E,p){"use strict";var g=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(E,"__esModule",{value:!0}),E.Address=void 0;var x=g(p(80469)),w=p(54345),M=p(98248),i=p(76575),d=function(){function s(f){(0,x.default)(20===f.length,"Invalid address length"),this.buf=f}return s.zero=function(){return new s((0,M.zeros)(20))},s.fromString=function(f){return(0,x.default)((0,i.isValidAddress)(f),"Invalid address"),new s((0,M.toBuffer)(f))},s.fromPublicKey=function(f){return(0,x.default)(Buffer.isBuffer(f),"Public key should be Buffer"),new s((0,i.pubToAddress)(f))},s.fromPrivateKey=function(f){return(0,x.default)(Buffer.isBuffer(f),"Private key should be Buffer"),new s((0,i.privateToAddress)(f))},s.generate=function(f,l){return(0,x.default)(w.BN.isBN(l)),new s((0,i.generateAddress)(f.buf,l.toArrayLike(Buffer)))},s.generate2=function(f,l,v){return(0,x.default)(Buffer.isBuffer(l)),(0,x.default)(Buffer.isBuffer(v)),new s((0,i.generateAddress2)(f.buf,l,v))},s.prototype.equals=function(f){return this.buf.equals(f.buf)},s.prototype.isZero=function(){return this.equals(s.zero())},s.prototype.isPrecompileOrSystemAddress=function(){var f=new w.BN(this.buf),l=new w.BN(0),v=new w.BN("ffff","hex");return f.gte(l)&&f.lte(v)},s.prototype.toString=function(){return"0x"+this.buf.toString("hex")},s.prototype.toBuffer=function(){return Buffer.from(this.buf)},s}();E.Address=d},98248:function(Q,E,p){"use strict";var g=this&&this.__values||function(t){var r="function"==typeof Symbol&&Symbol.iterator,o=r&&t[r],a=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},x=this&&this.__read||function(t,r){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var m,B,a=o.call(t),S=[];try{for(;(void 0===r||r-- >0)&&!(m=a.next()).done;)S.push(m.value)}catch(c){B={error:c}}finally{try{m&&!m.done&&(o=a.return)&&o.call(a)}finally{if(B)throw B.error}}return S};Object.defineProperty(E,"__esModule",{value:!0}),E.bufArrToArr=E.arrToBufArr=E.validateNoLeadingZeroes=E.baToJSON=E.toUtf8=E.addHexPrefix=E.toUnsigned=E.fromSigned=E.bufferToHex=E.bufferToInt=E.toBuffer=E.unpadHexString=E.unpadArray=E.unpadBuffer=E.setLengthRight=E.setLengthLeft=E.zeros=E.intToBuffer=E.intToHex=void 0;var w=p(54345),M=p(98214),i=p(8359);E.intToHex=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("Received an invalid integer type: ".concat(t));return"0x".concat(t.toString(16))},E.intToBuffer=function(t){var r=(0,E.intToHex)(t);return Buffer.from((0,M.padToEven)(r.slice(2)),"hex")},E.zeros=function(t){return Buffer.allocUnsafe(t).fill(0)};var l=function(t,r,o){var a=(0,E.zeros)(r);return o?t.length<r?(t.copy(a),a):t.slice(0,r):t.length<r?(t.copy(a,r-t.length),a):t.slice(-r)};E.setLengthLeft=function(t,r){return(0,i.assertIsBuffer)(t),l(t,r,!1)},E.setLengthRight=function(t,r){return(0,i.assertIsBuffer)(t),l(t,r,!0)};var b=function(t){for(var r=t[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t};E.unpadBuffer=function(t){return(0,i.assertIsBuffer)(t),b(t)},E.unpadArray=function(t){return(0,i.assertIsArray)(t),b(t)},E.unpadHexString=function(t){return(0,i.assertIsHexString)(t),t=(0,M.stripHexPrefix)(t),b(t)},E.toBuffer=function(t){if(null==t)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(t)||Array.isArray(t)||t instanceof Uint8Array)return Buffer.from(t);if("string"==typeof t){if(!(0,M.isHexString)(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(t));return Buffer.from((0,M.padToEven)((0,M.stripHexPrefix)(t)),"hex")}if("number"==typeof t)return(0,E.intToBuffer)(t);if(w.BN.isBN(t)){if(t.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(t));return t.toArrayLike(Buffer)}if(t.toArray)return Buffer.from(t.toArray());if(t.toBuffer)return Buffer.from(t.toBuffer());throw new Error("invalid type")},E.bufferToInt=function(t){return new w.BN((0,E.toBuffer)(t)).toNumber()},E.bufferToHex=function(t){return"0x"+(t=(0,E.toBuffer)(t)).toString("hex")},E.fromSigned=function(t){return new w.BN(t).fromTwos(256)},E.toUnsigned=function(t){return Buffer.from(t.toTwos(256).toArray())},E.addHexPrefix=function(t){return"string"!=typeof t||(0,M.isHexPrefixed)(t)?t:"0x"+t},E.toUtf8=function(t){if((t=(0,M.stripHexPrefix)(t)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(t.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")},E.baToJSON=function(t){if(Buffer.isBuffer(t))return"0x".concat(t.toString("hex"));if(t instanceof Array){for(var r=[],o=0;o<t.length;o++)r.push((0,E.baToJSON)(t[o]));return r}},E.validateNoLeadingZeroes=function(t){var r,o;try{for(var a=g(Object.entries(t)),m=a.next();!m.done;m=a.next()){var S=x(m.value,2),c=S[1];if(void 0!==c&&c.length>0&&0===c[0])throw new Error("".concat(S[0]," cannot have leading zeroes, received: ").concat(c.toString("hex")))}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}},E.arrToBufArr=function X(t){return Array.isArray(t)?t.map(function(r){return X(r)}):Buffer.from(t)},E.bufArrToArr=function u(t){return Array.isArray(t)?t.map(function(r){return u(r)}):Uint8Array.from(t??[])}},33711:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.KECCAK256_RLP=E.KECCAK256_RLP_S=E.KECCAK256_RLP_ARRAY=E.KECCAK256_RLP_ARRAY_S=E.KECCAK256_NULL=E.KECCAK256_NULL_S=E.TWO_POW256=E.MAX_INTEGER=E.MAX_UINT64=void 0;var g=p(3875),x=p(54345);E.MAX_UINT64=new x.BN("ffffffffffffffff",16),E.MAX_INTEGER=new x.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),E.TWO_POW256=new x.BN("10000000000000000000000000000000000000000000000000000000000000000",16),E.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",E.KECCAK256_NULL=g.Buffer.from(E.KECCAK256_NULL_S,"hex"),E.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",E.KECCAK256_RLP_ARRAY=g.Buffer.from(E.KECCAK256_RLP_ARRAY_S,"hex"),E.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",E.KECCAK256_RLP=g.Buffer.from(E.KECCAK256_RLP_S,"hex")},54345:function(Q,E,p){"use strict";var g=this&&this.__createBinding||(Object.create?function(s,f,l,v){void 0===v&&(v=l);var h=Object.getOwnPropertyDescriptor(f,l);(!h||("get"in h?!f.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(s,v,h)}:function(s,f,l,v){void 0===v&&(v=l),s[v]=f[l]}),x=this&&this.__setModuleDefault||(Object.create?function(s,f){Object.defineProperty(s,"default",{enumerable:!0,value:f})}:function(s,f){s.default=f}),w=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var f={};if(null!=s)for(var l in s)"default"!==l&&Object.prototype.hasOwnProperty.call(s,l)&&g(f,s,l);return x(f,s),f},M=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(E,"__esModule",{value:!0}),E.rlp=E.BN=void 0;var i=M(p(62630));E.BN=i.default;var d=w(p(89153));E.rlp=d},89095:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.rlphash=E.ripemd160FromArray=E.ripemd160FromString=E.ripemd160=E.sha256FromArray=E.sha256FromString=E.sha256=E.keccakFromArray=E.keccakFromHexString=E.keccakFromString=E.keccak256=E.keccak=void 0;var g=p(55075),x=p(12506),w=p(54345),M=p(98248),i=p(8359);E.keccak=function(I,G){switch(void 0===G&&(G=256),(0,i.assertIsBuffer)(I),G){case 224:return(0,g.keccak224)(I);case 256:return(0,g.keccak256)(I);case 384:return(0,g.keccak384)(I);case 512:return(0,g.keccak512)(I);default:throw new Error("Invald algorithm: keccak".concat(G))}},E.keccak256=function(I){return(0,E.keccak)(I)},E.keccakFromString=function(I,G){void 0===G&&(G=256),(0,i.assertIsString)(I);var O=Buffer.from(I,"utf8");return(0,E.keccak)(O,G)},E.keccakFromHexString=function(I,G){return void 0===G&&(G=256),(0,i.assertIsHexString)(I),(0,E.keccak)((0,M.toBuffer)(I),G)},E.keccakFromArray=function(I,G){return void 0===G&&(G=256),(0,i.assertIsArray)(I),(0,E.keccak)((0,M.toBuffer)(I),G)};var h=function(I){return I=(0,M.toBuffer)(I),x("sha256").update(I).digest()};E.sha256=function(I){return(0,i.assertIsBuffer)(I),h(I)},E.sha256FromString=function(I){return(0,i.assertIsString)(I),h(I)},E.sha256FromArray=function(I){return(0,i.assertIsArray)(I),h(I)};var D=function(I,G){I=(0,M.toBuffer)(I);var O=x("rmd160").update(I).digest();return!0===G?(0,M.setLengthLeft)(O,32):O};E.ripemd160=function(I,G){return(0,i.assertIsBuffer)(I),D(I,G)},E.ripemd160FromString=function(I,G){return(0,i.assertIsString)(I),D(I,G)},E.ripemd160FromArray=function(I,G){return(0,i.assertIsArray)(I),D(I,G)},E.rlphash=function(I){return(0,E.keccak)(w.rlp.encode(I))}},8359:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.assertIsString=E.assertIsArray=E.assertIsBuffer=E.assertIsHexString=void 0;var g=p(98214);E.assertIsHexString=function(d){if(!(0,g.isHexString)(d)){var s="This method only supports 0x-prefixed hex strings but input was: ".concat(d);throw new Error(s)}},E.assertIsBuffer=function(d){if(!Buffer.isBuffer(d)){var s="This method only supports Buffer but input was: ".concat(d);throw new Error(s)}},E.assertIsArray=function(d){if(!Array.isArray(d)){var s="This method only supports number arrays but input was: ".concat(d);throw new Error(s)}},E.assertIsString=function(d){if("string"!=typeof d){var s="This method only supports strings but input was: ".concat(d);throw new Error(s)}}},13635:function(Q,E,p){"use strict";var g=this&&this.__createBinding||(Object.create?function(M,i,d,s){void 0===s&&(s=d);var f=Object.getOwnPropertyDescriptor(i,d);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[d]}}),Object.defineProperty(M,s,f)}:function(M,i,d,s){void 0===s&&(s=d),M[s]=i[d]}),x=this&&this.__exportStar||function(M,i){for(var d in M)"default"!==d&&!Object.prototype.hasOwnProperty.call(i,d)&&g(i,M,d)};Object.defineProperty(E,"__esModule",{value:!0}),E.isHexString=E.getKeys=E.fromAscii=E.fromUtf8=E.toAscii=E.arrayContainsArray=E.getBinarySize=E.padToEven=E.stripHexPrefix=E.isHexPrefixed=void 0,x(p(33711),E),x(p(76575),E),x(p(83971),E),x(p(89095),E),x(p(25533),E),x(p(98248),E),x(p(32913),E),x(p(54345),E),x(p(81342),E);var w=p(98214);Object.defineProperty(E,"isHexPrefixed",{enumerable:!0,get:function(){return w.isHexPrefixed}}),Object.defineProperty(E,"stripHexPrefix",{enumerable:!0,get:function(){return w.stripHexPrefix}}),Object.defineProperty(E,"padToEven",{enumerable:!0,get:function(){return w.padToEven}}),Object.defineProperty(E,"getBinarySize",{enumerable:!0,get:function(){return w.getBinarySize}}),Object.defineProperty(E,"arrayContainsArray",{enumerable:!0,get:function(){return w.arrayContainsArray}}),Object.defineProperty(E,"toAscii",{enumerable:!0,get:function(){return w.toAscii}}),Object.defineProperty(E,"fromUtf8",{enumerable:!0,get:function(){return w.fromUtf8}}),Object.defineProperty(E,"fromAscii",{enumerable:!0,get:function(){return w.fromAscii}}),Object.defineProperty(E,"getKeys",{enumerable:!0,get:function(){return w.getKeys}}),Object.defineProperty(E,"isHexString",{enumerable:!0,get:function(){return w.isHexString}})},98214:(Q,E)=>{"use strict";function p(v){if("string"!=typeof v)throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof v));return"0"===v[0]&&"x"===v[1]}function x(v){var h=v;if("string"!=typeof h)throw new Error("[padToEven] value must be type 'string', received ".concat(typeof h));return h.length%2&&(h="0".concat(h)),h}Object.defineProperty(E,"__esModule",{value:!0}),E.isHexString=E.getKeys=E.fromAscii=E.fromUtf8=E.toAscii=E.arrayContainsArray=E.getBinarySize=E.padToEven=E.stripHexPrefix=E.isHexPrefixed=void 0,E.isHexPrefixed=p,E.stripHexPrefix=function(v){if("string"!=typeof v)throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof v));return p(v)?v.slice(2):v},E.padToEven=x,E.getBinarySize=function w(v){if("string"!=typeof v)throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof v));return Buffer.byteLength(v,"utf8")},E.arrayContainsArray=function M(v,h,b){if(!0!==Array.isArray(v))throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof v,"'"));if(!0!==Array.isArray(h))throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof h,"'"));return h[b?"some":"every"](function(P){return v.indexOf(P)>=0})},E.toAscii=function i(v){var h="",b=0,P=v.length;for("0x"===v.substring(0,2)&&(b=2);b<P;b+=2){var T=parseInt(v.substr(b,2),16);h+=String.fromCharCode(T)}return h},E.fromUtf8=function d(v){var h=Buffer.from(v,"utf8");return"0x".concat(x(h.toString("hex")).replace(/^0+|0+$/g,""))},E.fromAscii=function s(v){for(var h="",b=0;b<v.length;b++){var T=v.charCodeAt(b).toString(16);h+=T.length<2?"0".concat(T):T}return"0x".concat(h)},E.getKeys=function f(v,h,b){if(!Array.isArray(v))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof v));if("string"!=typeof h)throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof v));for(var P=[],T=0;T<v.length;T++){var D=v[T][h];if(b&&!D)D="";else if("string"!=typeof D)throw new Error("invalid abi - expected type 'string', received ".concat(typeof D));P.push(D)}return P},E.isHexString=function l(v,h){return!("string"!=typeof v||!v.match(/^0x[0-9A-Fa-f]*$/)||h&&v.length!==2+2*h)}},32913:function(Q,E,p){"use strict";var g=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(E,"__esModule",{value:!0}),E.defineProperties=void 0;var x=g(p(80469)),w=p(98214),M=p(54345),i=p(98248);E.defineProperties=function(s,f,l){if(s.raw=[],s._fields=[],s.toJSON=function(h){if(void 0===h&&(h=!1),h){var b={};return s._fields.forEach(function(P){b[P]="0x".concat(s[P].toString("hex"))}),b}return(0,i.baToJSON)(s.raw)},s.serialize=function(){return M.rlp.encode(s.raw)},f.forEach(function(h,b){function P(){return s.raw[b]}function T(D){"00"===(D=(0,i.toBuffer)(D)).toString("hex")&&!h.allowZero&&(D=Buffer.allocUnsafe(0)),h.allowLess&&h.length?(D=(0,i.unpadBuffer)(D),(0,x.default)(h.length>=D.length,"The field ".concat(h.name," must not have more ").concat(h.length," bytes"))):!(h.allowZero&&0===D.length)&&h.length&&(0,x.default)(h.length===D.length,"The field ".concat(h.name," must have byte length of ").concat(h.length)),s.raw[b]=D}s._fields.push(h.name),Object.defineProperty(s,h.name,{enumerable:!0,configurable:!0,get:P,set:T}),h.default&&(s[h.name]=h.default),h.alias&&Object.defineProperty(s,h.alias,{enumerable:!1,configurable:!0,set:T,get:P})}),l)if("string"==typeof l&&(l=Buffer.from((0,w.stripHexPrefix)(l),"hex")),Buffer.isBuffer(l)&&(l=M.rlp.decode(l)),Array.isArray(l)){if(l.length>s._fields.length)throw new Error("wrong number of fields in data");l.forEach(function(h,b){s[s._fields[b]]=(0,i.toBuffer)(h)})}else{if("object"!=typeof l)throw new Error("invalid data");var v=Object.keys(l);f.forEach(function(h){-1!==v.indexOf(h.name)&&(s[h.name]=l[h.name]),-1!==v.indexOf(h.alias)&&(s[h.alias]=l[h.alias])})}}},25533:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.hashPersonalMessage=E.isValidSignature=E.fromRpcSig=E.toCompactSig=E.toRpcSig=E.ecrecover=E.ecsign=void 0;var g=p(10019),x=p(54345),w=p(98248),M=p(89095),i=p(8359),d=p(81342);function f(F,C){var _=(0,d.toType)(F,d.TypeOutput.BN);if(_.eqn(0)||_.eqn(1))return(0,d.toType)(F,d.TypeOutput.BN);if(!C)return _.subn(27);var L=(0,d.toType)(C,d.TypeOutput.BN);return _.sub(L.muln(2).addn(35))}function l(F){var C=new x.BN(F);return C.eqn(0)||C.eqn(1)}E.ecsign=function s(F,C,_){var L=(0,g.ecdsaSign)(F,C),I=L.signature,G=L.recid,O=Buffer.from(I.slice(0,32)),Z=Buffer.from(I.slice(32,64));if(!_||"number"==typeof _){if(_&&!Number.isSafeInteger(_))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:O,s:Z,v:_?G+(2*_+35):G+27}}return{r:O,s:Z,v:(0,d.toType)(_,d.TypeOutput.BN).muln(2).addn(35).addn(G).toArrayLike(Buffer)}},E.ecrecover=function(F,C,_,L,I){var G=Buffer.concat([(0,w.setLengthLeft)(_,32),(0,w.setLengthLeft)(L,32)],64),O=f(C,I);if(!l(O))throw new Error("Invalid signature v value");var Z=(0,g.ecdsaRecover)(G,O.toNumber(),F);return Buffer.from((0,g.publicKeyConvert)(Z,!1).slice(1))},E.toRpcSig=function(F,C,_,L){if(!l(f(F,L)))throw new Error("Invalid signature v value");return(0,w.bufferToHex)(Buffer.concat([(0,w.setLengthLeft)(C,32),(0,w.setLengthLeft)(_,32),(0,w.toBuffer)(F)]))},E.toCompactSig=function(F,C,_,L){if(!l(f(F,L)))throw new Error("Invalid signature v value");var G=(0,d.toType)(F,d.TypeOutput.Number),O=_;return(G>28&&G%2==1||1===G||28===G)&&((O=Buffer.from(_))[0]|=128),(0,w.bufferToHex)(Buffer.concat([(0,w.setLengthLeft)(C,32),(0,w.setLengthLeft)(O,32)]))},E.fromRpcSig=function(F){var _,L,I,C=(0,w.toBuffer)(F);if(C.length>=65)_=C.slice(0,32),L=C.slice(32,64),I=(0,w.bufferToInt)(C.slice(64));else{if(64!==C.length)throw new Error("Invalid signature length");_=C.slice(0,32),L=C.slice(32,64),I=(0,w.bufferToInt)(C.slice(32,33))>>7,L[0]&=127}return I<27&&(I+=27),{v:I,r:_,s:L}},E.isValidSignature=function(F,C,_,L,I){void 0===L&&(L=!0);var G=new x.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),O=new x.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==C.length||32!==_.length||!l(f(F,I)))return!1;var Z=new x.BN(C),N=new x.BN(_);return!(Z.isZero()||Z.gt(O)||N.isZero()||N.gt(O)||L&&1===N.cmp(G))},E.hashPersonalMessage=function(F){(0,i.assertIsBuffer)(F);var C=Buffer.from("\x19Ethereum Signed Message:\n".concat(F.length),"utf-8");return(0,M.keccak)(Buffer.concat([C,F]))}},81342:(Q,E,p)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.toType=E.TypeOutput=E.bnToRlp=E.bnToUnpaddedBuffer=E.bnToHex=void 0;var s,l,g=p(54345),x=p(98214),w=p(98248);function i(l){return(0,w.unpadBuffer)(l.toArrayLike(Buffer))}E.bnToHex=function M(l){return"0x".concat(l.toString(16))},E.bnToUnpaddedBuffer=i,E.bnToRlp=function d(l){return i(l)},(l=s=E.TypeOutput||(E.TypeOutput={}))[l.Number=0]="Number",l[l.BN=1]="BN",l[l.Buffer=2]="Buffer",l[l.PrefixedHexString=3]="PrefixedHexString",E.toType=function f(l,v){if(null===l)return null;if(void 0!==l){if("string"==typeof l&&!(0,x.isHexString)(l))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(l));if("number"==typeof l&&!Number.isSafeInteger(l))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var h=(0,w.toBuffer)(l);if(v===s.Buffer)return h;if(v===s.BN)return new g.BN(h);if(v===s.Number){var b=new g.BN(h),P=new g.BN(Number.MAX_SAFE_INTEGER.toString());if(b.gt(P))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return b.toNumber()}return"0x".concat(h.toString("hex"))}}},16128:(Q,E,p)=>{"use strict";var g=p(78911),x=p(7388),w=new g(0),M=new g(-1),i={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function d(v){var h=v?v.toLowerCase():"ether",b=i[h];if("string"!=typeof b)throw new Error("[ethjs-unit] the unit provided "+v+" doesn't exists, please use the one of the following units "+JSON.stringify(i,null,2));return new g(b,10)}function s(v){if("string"==typeof v){if(!v.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+v+"', should be a number matching (^-?[0-9.]+).");return v}if("number"==typeof v)return String(v);if("object"==typeof v&&v.toString&&(v.toTwos||v.dividedToIntegerBy))return v.toPrecision?String(v.toPrecision()):v.toString(10);throw new Error("while converting number to string, invalid number value '"+v+"' type "+typeof v+".")}Q.exports={unitMap:i,numberToString:s,getValueOfUnit:d,fromWei:function f(v,h,b){var P=x(v),T=P.lt(w),D=d(h),F=i[h].length-1||1,C=b||{};T&&(P=P.mul(M));for(var _=P.mod(D).toString(10);_.length<F;)_="0"+_;C.pad||(_=_.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var L=P.div(D).toString(10);C.commify&&(L=L.replace(/\B(?=(\d{3})+(?!\d))/g,","));var I=L+("0"==_?"":"."+_);return T&&(I="-"+I),I},toWei:function l(v,h){var b=s(v),P=d(h),T=i[h].length-1||1,D="-"===b.substring(0,1);if(D&&(b=b.substring(1)),"."===b)throw new Error("[ethjs-unit] while converting number "+v+" to wei, invalid value");var F=b.split(".");if(F.length>2)throw new Error("[ethjs-unit] while converting number "+v+" to wei,  too many decimal points");var C=F[0],_=F[1];if(C||(C="0"),_||(_="0"),_.length>T)throw new Error("[ethjs-unit] while converting number "+v+" to wei, too many decimal places");for(;_.length<T;)_+="0";C=new g(C),_=new g(_);var L=C.mul(P).add(_);return D&&(L=L.mul(M)),new g(L.toString(10),10)}}},78911:function(Q,E,p){!function(g,x){"use strict";function w(u,t){if(!u)throw new Error(t||"Assertion failed")}function M(u,t){u.super_=t;var r=function(){};r.prototype=t.prototype,u.prototype=new r,u.prototype.constructor=u}function i(u,t,r){if(i.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,null!==u&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(u||0,t||10,r||"be"))}var d;"object"==typeof g?g.exports=i:x.BN=i,i.BN=i,i.wordSize=26;try{d=p(3875).Buffer}catch{}function s(u,t,r){for(var o=0,a=Math.min(u.length,r),m=t;m<a;m++){var S=u.charCodeAt(m)-48;o<<=4,o|=S>=49&&S<=54?S-49+10:S>=17&&S<=22?S-17+10:15&S}return o}function f(u,t,r,o){for(var a=0,m=Math.min(u.length,r),S=t;S<m;S++){var B=u.charCodeAt(S)-48;a*=o,a+=B>=49?B-49+10:B>=17?B-17+10:B}return a}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,o){if("number"==typeof t)return this._initNumber(t,r,o);if("object"==typeof t)return this._initArray(t,r,o);"hex"===r&&(r=16),w(r===(0|r)&&r>=2&&r<=36);var a=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&a++,16===r?this._parseHex(t,a):this._parseBase(t,r,a),"-"===t[0]&&(this.negative=1),this.strip(),"le"===o&&this._initArray(this.toArray(),r,o)},i.prototype._initNumber=function(t,r,o){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(w(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===o&&this._initArray(this.toArray(),r,o)},i.prototype._initArray=function(t,r,o){if(w("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var m,S,B=0;if("be"===o)for(a=t.length-1,m=0;a>=0;a-=3)this.words[m]|=(S=t[a]|t[a-1]<<8|t[a-2]<<16)<<B&67108863,this.words[m+1]=S>>>26-B&67108863,(B+=24)>=26&&(B-=26,m++);else if("le"===o)for(a=0,m=0;a<t.length;a+=3)this.words[m]|=(S=t[a]|t[a+1]<<8|t[a+2]<<16)<<B&67108863,this.words[m+1]=S>>>26-B&67108863,(B+=24)>=26&&(B-=26,m++);return this.strip()},i.prototype._parseHex=function(t,r){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var a,m,S=0;for(o=t.length-6,a=0;o>=r;o-=6)m=s(t,o,o+6),this.words[a]|=m<<S&67108863,this.words[a+1]|=m>>>26-S&4194303,(S+=24)>=26&&(S-=26,a++);o+6!==r&&(m=s(t,r,o+6),this.words[a]|=m<<S&67108863,this.words[a+1]|=m>>>26-S&4194303),this.strip()},i.prototype._parseBase=function(t,r,o){this.words=[0],this.length=1;for(var a=0,m=1;m<=67108863;m*=r)a++;a--,m=m/r|0;for(var S=t.length-o,B=S%a,c=Math.min(S,S-B)+o,e=0,n=o;n<c;n+=a)e=f(t,n,n+a,r),this.imuln(m),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(0!==B){var j=1;for(e=f(t,n,t.length,r),n=0;n<B;n++)j*=r;this.imuln(j),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function P(u,t,r){r.negative=t.negative^u.negative;var o=u.length+t.length|0;r.length=o,o=o-1|0;var a=0|u.words[0],m=0|t.words[0],S=a*m,c=S/67108864|0;r.words[0]=67108863&S;for(var e=1;e<o;e++){for(var n=c>>>26,j=67108863&c,V=Math.min(e,t.length-1),Y=Math.max(0,e-u.length+1);Y<=V;Y++)n+=(S=(a=0|u.words[e-Y|0])*(m=0|t.words[Y])+j)/67108864|0,j=67108863&S;r.words[e]=0|j,c=0|n}return 0!==c?r.words[e]=0|c:r.length--,r.strip()}i.prototype.toString=function(t,r){var o;if(r=0|r||1,16===(t=t||10)||"hex"===t){o="";for(var a=0,m=0,S=0;S<this.length;S++){var B=this.words[S],c=(16777215&(B<<a|m)).toString(16);o=0!=(m=B>>>24-a&16777215)||S!==this.length-1?l[6-c.length]+c+o:c+o,(a+=2)>=26&&(a-=26,S--)}for(0!==m&&(o=m.toString(16)+o);o.length%r!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}if(t===(0|t)&&t>=2&&t<=36){var e=v[t],n=h[t];o="";var j=this.clone();for(j.negative=0;!j.isZero();){var V=j.modn(n).toString(t);o=(j=j.idivn(n)).isZero()?V+o:l[e-V.length]+V+o}for(this.isZero()&&(o="0"+o);o.length%r!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}w(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&w(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return w(typeof d<"u"),this.toArrayLike(d,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,o){var a=this.byteLength(),m=o||Math.max(1,a);w(a<=m,"byte array longer than desired length"),w(m>0,"Requested array length <= 0"),this.strip();var c,e,S="le"===r,B=new t(m),n=this.clone();if(S){for(e=0;!n.isZero();e++)c=n.andln(255),n.iushrn(8),B[e]=c;for(;e<m;e++)B[e]=0}else{for(e=0;e<m-a;e++)B[e]=0;for(e=0;!n.isZero();e++)c=n.andln(255),n.iushrn(8),B[m-e-1]=c}return B},i.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var r=t,o=0;return r>=4096&&(o+=13,r>>>=13),r>=64&&(o+=7,r>>>=7),r>=8&&(o+=4,r>>>=4),r>=2&&(o+=2,r>>>=2),o+r},i.prototype._zeroBits=function(t){if(0===t)return 26;var r=t,o=0;return 0==(8191&r)&&(o+=13,r>>>=13),0==(127&r)&&(o+=7,r>>>=7),0==(15&r)&&(o+=4,r>>>=4),0==(3&r)&&(o+=2,r>>>=2),0==(1&r)&&o++,o},i.prototype.bitLength=function(){var r=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+r},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var o=this._zeroBits(this.words[r]);if(t+=o,26!==o)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return w(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;r=this.length>t.length?t:this;for(var o=0;o<r.length;o++)this.words[o]=this.words[o]&t.words[o];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return w(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,o;this.length>t.length?(r=this,o=t):(r=t,o=this);for(var a=0;a<o.length;a++)this.words[a]=r.words[a]^o.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return w(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){w("number"==typeof t&&t>=0);var r=0|Math.ceil(t/26),o=t%26;this._expand(r),o>0&&r--;for(var a=0;a<r;a++)this.words[a]=67108863&~this.words[a];return o>0&&(this.words[a]=~this.words[a]&67108863>>26-o),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){w("number"==typeof t&&t>=0);var o=t/26|0,a=t%26;return this._expand(o+1),this.words[o]=r?this.words[o]|1<<a:this.words[o]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r,o,a;if(0!==this.negative&&0===t.negative)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();this.length>t.length?(o=this,a=t):(o=t,a=this);for(var m=0,S=0;S<a.length;S++)this.words[S]=67108863&(r=(0|o.words[S])+(0|a.words[S])+m),m=r>>>26;for(;0!==m&&S<o.length;S++)this.words[S]=67108863&(r=(0|o.words[S])+m),m=r>>>26;if(this.length=o.length,0!==m)this.words[this.length]=m,this.length++;else if(o!==this)for(;S<o.length;S++)this.words[S]=o.words[S];return this},i.prototype.add=function(t){var r;return 0!==t.negative&&0===this.negative?(t.negative=0,r=this.sub(t),t.negative^=1,r):0===t.negative&&0!==this.negative?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var a,m,o=this.cmp(t);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(a=this,m=t):(a=t,m=this);for(var S=0,B=0;B<m.length;B++)S=(r=(0|a.words[B])-(0|m.words[B])+S)>>26,this.words[B]=67108863&r;for(;0!==S&&B<a.length;B++)S=(r=(0|a.words[B])+S)>>26,this.words[B]=67108863&r;if(0===S&&B<a.length&&a!==this)for(;B<a.length;B++)this.words[B]=a.words[B];return this.length=Math.max(this.length,B),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var T=function(t,r,o){var c,e,n,a=t.words,m=r.words,S=o.words,B=0,j=0|a[0],V=8191&j,Y=j>>>13,tt=0|a[1],ot=8191&tt,pt=tt>>>13,$t=0|a[2],yt=8191&$t,k=$t>>>13,z=0|a[3],rt=8191&z,st=z>>>13,zt=0|a[4],at=8191&zt,mt=zt>>>13,le=0|a[5],Et=8191&le,vt=le>>>13,ne=0|a[6],$=8191&ne,nt=ne>>>13,ct=0|a[7],lt=8191&ct,dt=ct>>>13,St=0|a[8],bt=8191&St,wt=St>>>13,ge=0|a[9],Pt=8191&ge,_t=ge>>>13,ze=0|m[0],Dt=8191&ze,Nt=ze>>>13,je=0|m[1],Tt=8191&je,Bt=je>>>13,Ze=0|m[2],Lt=8191&Ze,jt=Ze>>>13,Xe=0|m[3],xt=8191&Xe,Ct=Xe>>>13,Ae=0|m[4],Zt=8191&Ae,Kt=Ae>>>13,ar=0|m[5],Wt=8191&ar,Xt=ar>>>13,ve=0|m[6],kt=8191&ve,Vt=ve>>>13,pe=0|m[7],Yt=8191&pe,Jt=pe>>>13,Se=0|m[8],Ft=8191&Se,Ut=Se>>>13,Ye=0|m[9],Ht=8191&Ye,Gt=Ye>>>13;o.negative=t.negative^r.negative,o.length=19;var me=(B+(c=Math.imul(V,Dt))|0)+((8191&(e=(e=Math.imul(V,Nt))+Math.imul(Y,Dt)|0))<<13)|0;B=((n=Math.imul(Y,Nt))+(e>>>13)|0)+(me>>>26)|0,me&=67108863,c=Math.imul(ot,Dt),e=(e=Math.imul(ot,Nt))+Math.imul(pt,Dt)|0,n=Math.imul(pt,Nt);var Je=(B+(c=c+Math.imul(V,Tt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Bt)|0)+Math.imul(Y,Tt)|0))<<13)|0;B=((n=n+Math.imul(Y,Bt)|0)+(e>>>13)|0)+(Je>>>26)|0,Je&=67108863,c=Math.imul(yt,Dt),e=(e=Math.imul(yt,Nt))+Math.imul(k,Dt)|0,n=Math.imul(k,Nt),c=c+Math.imul(ot,Tt)|0,e=(e=e+Math.imul(ot,Bt)|0)+Math.imul(pt,Tt)|0,n=n+Math.imul(pt,Bt)|0;var ye=(B+(c=c+Math.imul(V,Lt)|0)|0)+((8191&(e=(e=e+Math.imul(V,jt)|0)+Math.imul(Y,Lt)|0))<<13)|0;B=((n=n+Math.imul(Y,jt)|0)+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,c=Math.imul(rt,Dt),e=(e=Math.imul(rt,Nt))+Math.imul(st,Dt)|0,n=Math.imul(st,Nt),c=c+Math.imul(yt,Tt)|0,e=(e=e+Math.imul(yt,Bt)|0)+Math.imul(k,Tt)|0,n=n+Math.imul(k,Bt)|0,c=c+Math.imul(ot,Lt)|0,e=(e=e+Math.imul(ot,jt)|0)+Math.imul(pt,Lt)|0,n=n+Math.imul(pt,jt)|0;var He=(B+(c=c+Math.imul(V,xt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Ct)|0)+Math.imul(Y,xt)|0))<<13)|0;B=((n=n+Math.imul(Y,Ct)|0)+(e>>>13)|0)+(He>>>26)|0,He&=67108863,c=Math.imul(at,Dt),e=(e=Math.imul(at,Nt))+Math.imul(mt,Dt)|0,n=Math.imul(mt,Nt),c=c+Math.imul(rt,Tt)|0,e=(e=e+Math.imul(rt,Bt)|0)+Math.imul(st,Tt)|0,n=n+Math.imul(st,Bt)|0,c=c+Math.imul(yt,Lt)|0,e=(e=e+Math.imul(yt,jt)|0)+Math.imul(k,Lt)|0,n=n+Math.imul(k,jt)|0,c=c+Math.imul(ot,xt)|0,e=(e=e+Math.imul(ot,Ct)|0)+Math.imul(pt,xt)|0,n=n+Math.imul(pt,Ct)|0;var re=(B+(c=c+Math.imul(V,Zt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Kt)|0)+Math.imul(Y,Zt)|0))<<13)|0;B=((n=n+Math.imul(Y,Kt)|0)+(e>>>13)|0)+(re>>>26)|0,re&=67108863,c=Math.imul(Et,Dt),e=(e=Math.imul(Et,Nt))+Math.imul(vt,Dt)|0,n=Math.imul(vt,Nt),c=c+Math.imul(at,Tt)|0,e=(e=e+Math.imul(at,Bt)|0)+Math.imul(mt,Tt)|0,n=n+Math.imul(mt,Bt)|0,c=c+Math.imul(rt,Lt)|0,e=(e=e+Math.imul(rt,jt)|0)+Math.imul(st,Lt)|0,n=n+Math.imul(st,jt)|0,c=c+Math.imul(yt,xt)|0,e=(e=e+Math.imul(yt,Ct)|0)+Math.imul(k,xt)|0,n=n+Math.imul(k,Ct)|0,c=c+Math.imul(ot,Zt)|0,e=(e=e+Math.imul(ot,Kt)|0)+Math.imul(pt,Zt)|0,n=n+Math.imul(pt,Kt)|0;var Ke=(B+(c=c+Math.imul(V,Wt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Xt)|0)+Math.imul(Y,Wt)|0))<<13)|0;B=((n=n+Math.imul(Y,Xt)|0)+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,c=Math.imul($,Dt),e=(e=Math.imul($,Nt))+Math.imul(nt,Dt)|0,n=Math.imul(nt,Nt),c=c+Math.imul(Et,Tt)|0,e=(e=e+Math.imul(Et,Bt)|0)+Math.imul(vt,Tt)|0,n=n+Math.imul(vt,Bt)|0,c=c+Math.imul(at,Lt)|0,e=(e=e+Math.imul(at,jt)|0)+Math.imul(mt,Lt)|0,n=n+Math.imul(mt,jt)|0,c=c+Math.imul(rt,xt)|0,e=(e=e+Math.imul(rt,Ct)|0)+Math.imul(st,xt)|0,n=n+Math.imul(st,Ct)|0,c=c+Math.imul(yt,Zt)|0,e=(e=e+Math.imul(yt,Kt)|0)+Math.imul(k,Zt)|0,n=n+Math.imul(k,Kt)|0,c=c+Math.imul(ot,Wt)|0,e=(e=e+Math.imul(ot,Xt)|0)+Math.imul(pt,Wt)|0,n=n+Math.imul(pt,Xt)|0;var We=(B+(c=c+Math.imul(V,kt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Vt)|0)+Math.imul(Y,kt)|0))<<13)|0;B=((n=n+Math.imul(Y,Vt)|0)+(e>>>13)|0)+(We>>>26)|0,We&=67108863,c=Math.imul(lt,Dt),e=(e=Math.imul(lt,Nt))+Math.imul(dt,Dt)|0,n=Math.imul(dt,Nt),c=c+Math.imul($,Tt)|0,e=(e=e+Math.imul($,Bt)|0)+Math.imul(nt,Tt)|0,n=n+Math.imul(nt,Bt)|0,c=c+Math.imul(Et,Lt)|0,e=(e=e+Math.imul(Et,jt)|0)+Math.imul(vt,Lt)|0,n=n+Math.imul(vt,jt)|0,c=c+Math.imul(at,xt)|0,e=(e=e+Math.imul(at,Ct)|0)+Math.imul(mt,xt)|0,n=n+Math.imul(mt,Ct)|0,c=c+Math.imul(rt,Zt)|0,e=(e=e+Math.imul(rt,Kt)|0)+Math.imul(st,Zt)|0,n=n+Math.imul(st,Kt)|0,c=c+Math.imul(yt,Wt)|0,e=(e=e+Math.imul(yt,Xt)|0)+Math.imul(k,Wt)|0,n=n+Math.imul(k,Xt)|0,c=c+Math.imul(ot,kt)|0,e=(e=e+Math.imul(ot,Vt)|0)+Math.imul(pt,kt)|0,n=n+Math.imul(pt,Vt)|0;var Oe=(B+(c=c+Math.imul(V,Yt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Jt)|0)+Math.imul(Y,Yt)|0))<<13)|0;B=((n=n+Math.imul(Y,Jt)|0)+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c=Math.imul(bt,Dt),e=(e=Math.imul(bt,Nt))+Math.imul(wt,Dt)|0,n=Math.imul(wt,Nt),c=c+Math.imul(lt,Tt)|0,e=(e=e+Math.imul(lt,Bt)|0)+Math.imul(dt,Tt)|0,n=n+Math.imul(dt,Bt)|0,c=c+Math.imul($,Lt)|0,e=(e=e+Math.imul($,jt)|0)+Math.imul(nt,Lt)|0,n=n+Math.imul(nt,jt)|0,c=c+Math.imul(Et,xt)|0,e=(e=e+Math.imul(Et,Ct)|0)+Math.imul(vt,xt)|0,n=n+Math.imul(vt,Ct)|0,c=c+Math.imul(at,Zt)|0,e=(e=e+Math.imul(at,Kt)|0)+Math.imul(mt,Zt)|0,n=n+Math.imul(mt,Kt)|0,c=c+Math.imul(rt,Wt)|0,e=(e=e+Math.imul(rt,Xt)|0)+Math.imul(st,Wt)|0,n=n+Math.imul(st,Xt)|0,c=c+Math.imul(yt,kt)|0,e=(e=e+Math.imul(yt,Vt)|0)+Math.imul(k,kt)|0,n=n+Math.imul(k,Vt)|0,c=c+Math.imul(ot,Yt)|0,e=(e=e+Math.imul(ot,Jt)|0)+Math.imul(pt,Yt)|0,n=n+Math.imul(pt,Jt)|0;var ue=(B+(c=c+Math.imul(V,Ft)|0)|0)+((8191&(e=(e=e+Math.imul(V,Ut)|0)+Math.imul(Y,Ft)|0))<<13)|0;B=((n=n+Math.imul(Y,Ut)|0)+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,c=Math.imul(Pt,Dt),e=(e=Math.imul(Pt,Nt))+Math.imul(_t,Dt)|0,n=Math.imul(_t,Nt),c=c+Math.imul(bt,Tt)|0,e=(e=e+Math.imul(bt,Bt)|0)+Math.imul(wt,Tt)|0,n=n+Math.imul(wt,Bt)|0,c=c+Math.imul(lt,Lt)|0,e=(e=e+Math.imul(lt,jt)|0)+Math.imul(dt,Lt)|0,n=n+Math.imul(dt,jt)|0,c=c+Math.imul($,xt)|0,e=(e=e+Math.imul($,Ct)|0)+Math.imul(nt,xt)|0,n=n+Math.imul(nt,Ct)|0,c=c+Math.imul(Et,Zt)|0,e=(e=e+Math.imul(Et,Kt)|0)+Math.imul(vt,Zt)|0,n=n+Math.imul(vt,Kt)|0,c=c+Math.imul(at,Wt)|0,e=(e=e+Math.imul(at,Xt)|0)+Math.imul(mt,Wt)|0,n=n+Math.imul(mt,Xt)|0,c=c+Math.imul(rt,kt)|0,e=(e=e+Math.imul(rt,Vt)|0)+Math.imul(st,kt)|0,n=n+Math.imul(st,Vt)|0,c=c+Math.imul(yt,Yt)|0,e=(e=e+Math.imul(yt,Jt)|0)+Math.imul(k,Yt)|0,n=n+Math.imul(k,Jt)|0,c=c+Math.imul(ot,Ft)|0,e=(e=e+Math.imul(ot,Ut)|0)+Math.imul(pt,Ft)|0,n=n+Math.imul(pt,Ut)|0;var Te=(B+(c=c+Math.imul(V,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(V,Gt)|0)+Math.imul(Y,Ht)|0))<<13)|0;B=((n=n+Math.imul(Y,Gt)|0)+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,c=Math.imul(Pt,Tt),e=(e=Math.imul(Pt,Bt))+Math.imul(_t,Tt)|0,n=Math.imul(_t,Bt),c=c+Math.imul(bt,Lt)|0,e=(e=e+Math.imul(bt,jt)|0)+Math.imul(wt,Lt)|0,n=n+Math.imul(wt,jt)|0,c=c+Math.imul(lt,xt)|0,e=(e=e+Math.imul(lt,Ct)|0)+Math.imul(dt,xt)|0,n=n+Math.imul(dt,Ct)|0,c=c+Math.imul($,Zt)|0,e=(e=e+Math.imul($,Kt)|0)+Math.imul(nt,Zt)|0,n=n+Math.imul(nt,Kt)|0,c=c+Math.imul(Et,Wt)|0,e=(e=e+Math.imul(Et,Xt)|0)+Math.imul(vt,Wt)|0,n=n+Math.imul(vt,Xt)|0,c=c+Math.imul(at,kt)|0,e=(e=e+Math.imul(at,Vt)|0)+Math.imul(mt,kt)|0,n=n+Math.imul(mt,Vt)|0,c=c+Math.imul(rt,Yt)|0,e=(e=e+Math.imul(rt,Jt)|0)+Math.imul(st,Yt)|0,n=n+Math.imul(st,Jt)|0,c=c+Math.imul(yt,Ft)|0,e=(e=e+Math.imul(yt,Ut)|0)+Math.imul(k,Ft)|0,n=n+Math.imul(k,Ut)|0;var Be=(B+(c=c+Math.imul(ot,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(ot,Gt)|0)+Math.imul(pt,Ht)|0))<<13)|0;B=((n=n+Math.imul(pt,Gt)|0)+(e>>>13)|0)+(Be>>>26)|0,Be&=67108863,c=Math.imul(Pt,Lt),e=(e=Math.imul(Pt,jt))+Math.imul(_t,Lt)|0,n=Math.imul(_t,jt),c=c+Math.imul(bt,xt)|0,e=(e=e+Math.imul(bt,Ct)|0)+Math.imul(wt,xt)|0,n=n+Math.imul(wt,Ct)|0,c=c+Math.imul(lt,Zt)|0,e=(e=e+Math.imul(lt,Kt)|0)+Math.imul(dt,Zt)|0,n=n+Math.imul(dt,Kt)|0,c=c+Math.imul($,Wt)|0,e=(e=e+Math.imul($,Xt)|0)+Math.imul(nt,Wt)|0,n=n+Math.imul(nt,Xt)|0,c=c+Math.imul(Et,kt)|0,e=(e=e+Math.imul(Et,Vt)|0)+Math.imul(vt,kt)|0,n=n+Math.imul(vt,Vt)|0,c=c+Math.imul(at,Yt)|0,e=(e=e+Math.imul(at,Jt)|0)+Math.imul(mt,Yt)|0,n=n+Math.imul(mt,Jt)|0,c=c+Math.imul(rt,Ft)|0,e=(e=e+Math.imul(rt,Ut)|0)+Math.imul(st,Ft)|0,n=n+Math.imul(st,Ut)|0;var Re=(B+(c=c+Math.imul(yt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(yt,Gt)|0)+Math.imul(k,Ht)|0))<<13)|0;B=((n=n+Math.imul(k,Gt)|0)+(e>>>13)|0)+(Re>>>26)|0,Re&=67108863,c=Math.imul(Pt,xt),e=(e=Math.imul(Pt,Ct))+Math.imul(_t,xt)|0,n=Math.imul(_t,Ct),c=c+Math.imul(bt,Zt)|0,e=(e=e+Math.imul(bt,Kt)|0)+Math.imul(wt,Zt)|0,n=n+Math.imul(wt,Kt)|0,c=c+Math.imul(lt,Wt)|0,e=(e=e+Math.imul(lt,Xt)|0)+Math.imul(dt,Wt)|0,n=n+Math.imul(dt,Xt)|0,c=c+Math.imul($,kt)|0,e=(e=e+Math.imul($,Vt)|0)+Math.imul(nt,kt)|0,n=n+Math.imul(nt,Vt)|0,c=c+Math.imul(Et,Yt)|0,e=(e=e+Math.imul(Et,Jt)|0)+Math.imul(vt,Yt)|0,n=n+Math.imul(vt,Jt)|0,c=c+Math.imul(at,Ft)|0,e=(e=e+Math.imul(at,Ut)|0)+Math.imul(mt,Ft)|0,n=n+Math.imul(mt,Ut)|0;var be=(B+(c=c+Math.imul(rt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(rt,Gt)|0)+Math.imul(st,Ht)|0))<<13)|0;B=((n=n+Math.imul(st,Gt)|0)+(e>>>13)|0)+(be>>>26)|0,be&=67108863,c=Math.imul(Pt,Zt),e=(e=Math.imul(Pt,Kt))+Math.imul(_t,Zt)|0,n=Math.imul(_t,Kt),c=c+Math.imul(bt,Wt)|0,e=(e=e+Math.imul(bt,Xt)|0)+Math.imul(wt,Wt)|0,n=n+Math.imul(wt,Xt)|0,c=c+Math.imul(lt,kt)|0,e=(e=e+Math.imul(lt,Vt)|0)+Math.imul(dt,kt)|0,n=n+Math.imul(dt,Vt)|0,c=c+Math.imul($,Yt)|0,e=(e=e+Math.imul($,Jt)|0)+Math.imul(nt,Yt)|0,n=n+Math.imul(nt,Jt)|0,c=c+Math.imul(Et,Ft)|0,e=(e=e+Math.imul(Et,Ut)|0)+Math.imul(vt,Ft)|0,n=n+Math.imul(vt,Ut)|0;var Ie=(B+(c=c+Math.imul(at,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(at,Gt)|0)+Math.imul(mt,Ht)|0))<<13)|0;B=((n=n+Math.imul(mt,Gt)|0)+(e>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,c=Math.imul(Pt,Wt),e=(e=Math.imul(Pt,Xt))+Math.imul(_t,Wt)|0,n=Math.imul(_t,Xt),c=c+Math.imul(bt,kt)|0,e=(e=e+Math.imul(bt,Vt)|0)+Math.imul(wt,kt)|0,n=n+Math.imul(wt,Vt)|0,c=c+Math.imul(lt,Yt)|0,e=(e=e+Math.imul(lt,Jt)|0)+Math.imul(dt,Yt)|0,n=n+Math.imul(dt,Jt)|0,c=c+Math.imul($,Ft)|0,e=(e=e+Math.imul($,Ut)|0)+Math.imul(nt,Ft)|0,n=n+Math.imul(nt,Ut)|0;var Ne=(B+(c=c+Math.imul(Et,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(Et,Gt)|0)+Math.imul(vt,Ht)|0))<<13)|0;B=((n=n+Math.imul(vt,Gt)|0)+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c=Math.imul(Pt,kt),e=(e=Math.imul(Pt,Vt))+Math.imul(_t,kt)|0,n=Math.imul(_t,Vt),c=c+Math.imul(bt,Yt)|0,e=(e=e+Math.imul(bt,Jt)|0)+Math.imul(wt,Yt)|0,n=n+Math.imul(wt,Jt)|0,c=c+Math.imul(lt,Ft)|0,e=(e=e+Math.imul(lt,Ut)|0)+Math.imul(dt,Ft)|0,n=n+Math.imul(dt,Ut)|0;var ke=(B+(c=c+Math.imul($,Ht)|0)|0)+((8191&(e=(e=e+Math.imul($,Gt)|0)+Math.imul(nt,Ht)|0))<<13)|0;B=((n=n+Math.imul(nt,Gt)|0)+(e>>>13)|0)+(ke>>>26)|0,ke&=67108863,c=Math.imul(Pt,Yt),e=(e=Math.imul(Pt,Jt))+Math.imul(_t,Yt)|0,n=Math.imul(_t,Jt),c=c+Math.imul(bt,Ft)|0,e=(e=e+Math.imul(bt,Ut)|0)+Math.imul(wt,Ft)|0,n=n+Math.imul(wt,Ut)|0;var Le=(B+(c=c+Math.imul(lt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(lt,Gt)|0)+Math.imul(dt,Ht)|0))<<13)|0;B=((n=n+Math.imul(dt,Gt)|0)+(e>>>13)|0)+(Le>>>26)|0,Le&=67108863,c=Math.imul(Pt,Ft),e=(e=Math.imul(Pt,Ut))+Math.imul(_t,Ft)|0,n=Math.imul(_t,Ut);var xe=(B+(c=c+Math.imul(bt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(bt,Gt)|0)+Math.imul(wt,Ht)|0))<<13)|0;B=((n=n+Math.imul(wt,Gt)|0)+(e>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Fe=(B+(c=Math.imul(Pt,Ht))|0)+((8191&(e=(e=Math.imul(Pt,Gt))+Math.imul(_t,Ht)|0))<<13)|0;return B=((n=Math.imul(_t,Gt))+(e>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S[0]=me,S[1]=Je,S[2]=ye,S[3]=He,S[4]=re,S[5]=Ke,S[6]=We,S[7]=Oe,S[8]=ue,S[9]=Te,S[10]=Be,S[11]=Re,S[12]=be,S[13]=Ie,S[14]=Ne,S[15]=ke,S[16]=Le,S[17]=xe,S[18]=Fe,0!==B&&(S[19]=B,o.length++),o};function F(u,t,r){return(new C).mulp(u,t,r)}function C(u,t){this.x=u,this.y=t}Math.imul||(T=P),i.prototype.mulTo=function(t,r){var o,a=this.length+t.length;return o=10===this.length&&10===t.length?T(this,t,r):a<63?P(this,t,r):a<1024?function D(u,t,r){r.negative=t.negative^u.negative,r.length=u.length+t.length;for(var o=0,a=0,m=0;m<r.length-1;m++){var S=a;a=0;for(var B=67108863&o,c=Math.min(m,t.length-1),e=Math.max(0,m-u.length+1);e<=c;e++){var Y=(0|u.words[m-e])*(0|t.words[e]),tt=67108863&Y;B=67108863&(tt=tt+B|0),a+=(S=(S=S+(Y/67108864|0)|0)+(tt>>>26)|0)>>>26,S&=67108863}r.words[m]=B,o=S,S=a}return 0!==o?r.words[m]=o:r.length--,r.strip()}(this,t,r):F(this,t,r),o},C.prototype.makeRBT=function(t){for(var r=new Array(t),o=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,o,t);return r},C.prototype.revBin=function(t,r,o){if(0===t||t===o-1)return t;for(var a=0,m=0;m<r;m++)a|=(1&t)<<r-m-1,t>>=1;return a},C.prototype.permute=function(t,r,o,a,m,S){for(var B=0;B<S;B++)a[B]=r[t[B]],m[B]=o[t[B]]},C.prototype.transform=function(t,r,o,a,m,S){this.permute(S,t,r,o,a,m);for(var B=1;B<m;B<<=1)for(var c=B<<1,e=Math.cos(2*Math.PI/c),n=Math.sin(2*Math.PI/c),j=0;j<m;j+=c)for(var V=e,Y=n,tt=0;tt<B;tt++){var ot=o[j+tt],pt=a[j+tt],$t=o[j+tt+B],yt=a[j+tt+B],k=V*$t-Y*yt;yt=V*yt+Y*$t,o[j+tt]=ot+($t=k),a[j+tt]=pt+yt,o[j+tt+B]=ot-$t,a[j+tt+B]=pt-yt,tt!==c&&(k=e*V-n*Y,Y=e*Y+n*V,V=k)}},C.prototype.guessLen13b=function(t,r){var o=1|Math.max(r,t),a=1&o,m=0;for(o=o/2|0;o;o>>>=1)m++;return 1<<m+1+a},C.prototype.conjugate=function(t,r,o){if(!(o<=1))for(var a=0;a<o/2;a++){var m=t[a];t[a]=t[o-a-1],t[o-a-1]=m,m=r[a],r[a]=-r[o-a-1],r[o-a-1]=-m}},C.prototype.normalize13b=function(t,r){for(var o=0,a=0;a<r/2;a++){var m=8192*Math.round(t[2*a+1]/r)+Math.round(t[2*a]/r)+o;t[a]=67108863&m,o=m<67108864?0:m/67108864|0}return t},C.prototype.convert13b=function(t,r,o,a){for(var m=0,S=0;S<r;S++)o[2*S]=8191&(m+=0|t[S]),o[2*S+1]=8191&(m>>>=13),m>>>=13;for(S=2*r;S<a;++S)o[S]=0;w(0===m),w(0==(-8192&m))},C.prototype.stub=function(t){for(var r=new Array(t),o=0;o<t;o++)r[o]=0;return r},C.prototype.mulp=function(t,r,o){var a=2*this.guessLen13b(t.length,r.length),m=this.makeRBT(a),S=this.stub(a),B=new Array(a),c=new Array(a),e=new Array(a),n=new Array(a),j=new Array(a),V=new Array(a),Y=o.words;Y.length=a,this.convert13b(t.words,t.length,B,a),this.convert13b(r.words,r.length,n,a),this.transform(B,S,c,e,a,m),this.transform(n,S,j,V,a,m);for(var tt=0;tt<a;tt++){var ot=c[tt]*j[tt]-e[tt]*V[tt];e[tt]=c[tt]*V[tt]+e[tt]*j[tt],c[tt]=ot}return this.conjugate(c,e,a),this.transform(c,e,Y,S,a,m),this.conjugate(Y,S,a),this.normalize13b(Y,a),o.negative=t.negative^r.negative,o.length=t.length+r.length,o.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),F(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){w("number"==typeof t),w(t<67108864);for(var r=0,o=0;o<this.length;o++){var a=(0|this.words[o])*t,m=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=m>>>26,this.words[o]=67108863&m}return 0!==r&&(this.words[o]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=function b(u){for(var t=new Array(u.bitLength()),r=0;r<t.length;r++){var a=r%26;t[r]=(u.words[r/26|0]&1<<a)>>>a}return t}(t);if(0===r.length)return new i(1);for(var o=this,a=0;a<r.length&&0===r[a];a++,o=o.sqr());if(++a<r.length)for(var m=o.sqr();a<r.length;a++,m=m.sqr())0!==r[a]&&(o=o.mul(m));return o},i.prototype.iushln=function(t){w("number"==typeof t&&t>=0);var m,r=t%26,o=(t-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var S=0;for(m=0;m<this.length;m++){var B=this.words[m]&a;this.words[m]=(0|this.words[m])-B<<r|S,S=B>>>26-r}S&&(this.words[m]=S,this.length++)}if(0!==o){for(m=this.length-1;m>=0;m--)this.words[m+o]=this.words[m];for(m=0;m<o;m++)this.words[m]=0;this.length+=o}return this.strip()},i.prototype.ishln=function(t){return w(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,r,o){var a;w("number"==typeof t&&t>=0),a=r?(r-r%26)/26:0;var m=t%26,S=Math.min((t-m)/26,this.length),B=67108863^67108863>>>m<<m,c=o;if(a-=S,a=Math.max(0,a),c){for(var e=0;e<S;e++)c.words[e]=this.words[e];c.length=S}if(0!==S)if(this.length>S)for(this.length-=S,e=0;e<this.length;e++)this.words[e]=this.words[e+S];else this.words[0]=0,this.length=1;var n=0;for(e=this.length-1;e>=0&&(0!==n||e>=a);e--){var j=0|this.words[e];this.words[e]=n<<26-m|j>>>m,n=j&B}return c&&0!==n&&(c.words[c.length++]=n),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,o){return w(0===this.negative),this.iushrn(t,r,o)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){w("number"==typeof t&&t>=0);var r=t%26,o=(t-r)/26;return!(this.length<=o||!(this.words[o]&1<<r))},i.prototype.imaskn=function(t){w("number"==typeof t&&t>=0);var r=t%26,o=(t-r)/26;return w(0===this.negative,"imaskn works only with positive numbers"),this.length<=o?this:(0!==r&&o++,this.length=Math.min(o,this.length),0!==r&&(this.words[this.length-1]&=67108863^67108863>>>r<<r),this.strip())},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return w("number"==typeof t),w(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(w("number"==typeof t),w(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,o){var m;this._expand(t.length+o);var S,B=0;for(m=0;m<t.length;m++){S=(0|this.words[m+o])+B;var c=(0|t.words[m])*r;B=((S-=67108863&c)>>26)-(c/67108864|0),this.words[m+o]=67108863&S}for(;m<this.length-o;m++)B=(S=(0|this.words[m+o])+B)>>26,this.words[m+o]=67108863&S;if(0===B)return this.strip();for(w(-1===B),B=0,m=0;m<this.length;m++)B=(S=-(0|this.words[m])+B)>>26,this.words[m]=67108863&S;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var o,a=this.clone(),m=t,S=0|m.words[m.length-1];0!=(o=26-this._countBits(S))&&(m=m.ushln(o),a.iushln(o),S=0|m.words[m.length-1]);var e,c=a.length-m.length;if("mod"!==r){(e=new i(null)).length=c+1,e.words=new Array(e.length);for(var n=0;n<e.length;n++)e.words[n]=0}var j=a.clone()._ishlnsubmul(m,1,c);0===j.negative&&(a=j,e&&(e.words[c]=1));for(var V=c-1;V>=0;V--){var Y=67108864*(0|a.words[m.length+V])+(0|a.words[m.length+V-1]);for(Y=Math.min(Y/S|0,67108863),a._ishlnsubmul(m,Y,V);0!==a.negative;)Y--,a.negative=0,a._ishlnsubmul(m,1,V),a.isZero()||(a.negative^=1);e&&(e.words[V]=Y)}return e&&e.strip(),a.strip(),"div"!==r&&0!==o&&a.iushrn(o),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,o){return w(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(S=this.neg().divmod(t,r),"mod"!==r&&(a=S.div.neg()),"div"!==r&&(m=S.mod.neg(),o&&0!==m.negative&&m.iadd(t)),{div:a,mod:m}):0===this.negative&&0!==t.negative?(S=this.divmod(t.neg(),r),"mod"!==r&&(a=S.div.neg()),{div:a,mod:S.mod}):0!=(this.negative&t.negative)?(S=this.neg().divmod(t.neg(),r),"div"!==r&&(m=S.mod.neg(),o&&0!==m.negative&&m.isub(t)),{div:S.div,mod:m}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===r?{div:this.divn(t.words[0]),mod:null}:"mod"===r?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r);var a,m,S},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var o=0!==r.div.negative?r.mod.isub(t):r.mod,a=t.ushrn(1),m=t.andln(1),S=o.cmp(a);return S<0||1===m&&0===S?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){w(t<=67108863);for(var r=(1<<26)%t,o=0,a=this.length-1;a>=0;a--)o=(r*o+(0|this.words[a]))%t;return o},i.prototype.idivn=function(t){w(t<=67108863);for(var r=0,o=this.length-1;o>=0;o--){var a=(0|this.words[o])+67108864*r;this.words[o]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){w(0===t.negative),w(!t.isZero());var r=this,o=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new i(1),m=new i(0),S=new i(0),B=new i(1),c=0;r.isEven()&&o.isEven();)r.iushrn(1),o.iushrn(1),++c;for(var e=o.clone(),n=r.clone();!r.isZero();){for(var j=0,V=1;0==(r.words[0]&V)&&j<26;++j,V<<=1);if(j>0)for(r.iushrn(j);j-- >0;)(a.isOdd()||m.isOdd())&&(a.iadd(e),m.isub(n)),a.iushrn(1),m.iushrn(1);for(var Y=0,tt=1;0==(o.words[0]&tt)&&Y<26;++Y,tt<<=1);if(Y>0)for(o.iushrn(Y);Y-- >0;)(S.isOdd()||B.isOdd())&&(S.iadd(e),B.isub(n)),S.iushrn(1),B.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(S),m.isub(B)):(o.isub(r),S.isub(a),B.isub(m))}return{a:S,b:B,gcd:o.iushln(c)}},i.prototype._invmp=function(t){w(0===t.negative),w(!t.isZero());var j,r=this,o=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new i(1),m=new i(0),S=o.clone();r.cmpn(1)>0&&o.cmpn(1)>0;){for(var B=0,c=1;0==(r.words[0]&c)&&B<26;++B,c<<=1);if(B>0)for(r.iushrn(B);B-- >0;)a.isOdd()&&a.iadd(S),a.iushrn(1);for(var e=0,n=1;0==(o.words[0]&n)&&e<26;++e,n<<=1);if(e>0)for(o.iushrn(e);e-- >0;)m.isOdd()&&m.iadd(S),m.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(m)):(o.isub(r),m.isub(a))}return(j=0===r.cmpn(1)?a:m).cmpn(0)<0&&j.iadd(t),j},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),o=t.clone();r.negative=0,o.negative=0;for(var a=0;r.isEven()&&o.isEven();a++)r.iushrn(1),o.iushrn(1);for(;;){for(;r.isEven();)r.iushrn(1);for(;o.isEven();)o.iushrn(1);var m=r.cmp(o);if(m<0){var S=r;r=o,o=S}else if(0===m||0===o.cmpn(1))break;r.isub(o)}return o.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){w("number"==typeof t);var r=t%26,o=(t-r)/26,a=1<<r;if(this.length<=o)return this._expand(o+1),this.words[o]|=a,this;for(var m=a,S=o;0!==m&&S<this.length;S++){var B=0|this.words[S];m=(B+=m)>>>26,this.words[S]=B&=67108863}return 0!==m&&(this.words[S]=m,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var o,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)o=1;else{r&&(t=-t),w(t<=67108863,"Number is too big");var a=0|this.words[0];o=a===t?0:a<t?-1:1}return 0!==this.negative?0|-o:o},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var r=this.ucmp(t);return 0!==this.negative?0|-r:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,o=this.length-1;o>=0;o--){var a=0|this.words[o],m=0|t.words[o];if(a!==m){a<m?r=-1:a>m&&(r=1);break}}return r},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new N(t)},i.prototype.toRed=function(t){return w(!this.red,"Already a number in reduction context"),w(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return w(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return w(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return w(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return w(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return w(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return w(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return w(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return w(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return w(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return w(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return w(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return w(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return w(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return w(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return w(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function L(u,t){this.name=u,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function G(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Z(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function N(u){if("string"==typeof u){var t=i._prime(u);this.m=t.p,this.prime=t}else w(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}function X(u){N.call(this,u),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},L.prototype.ireduce=function(t){var o,r=t;do{this.split(r,this.tmp),o=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(o>this.n);var a=o<this.n?-1:r.ucmp(this.p);return 0===a?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip(),r},L.prototype.split=function(t,r){t.iushrn(this.n,0,r)},L.prototype.imulK=function(t){return t.imul(this.k)},M(I,L),I.prototype.split=function(t,r){for(var o=4194303,a=Math.min(t.length,9),m=0;m<a;m++)r.words[m]=t.words[m];if(r.length=a,t.length<=9)return t.words[0]=0,void(t.length=1);var S=t.words[9];for(r.words[r.length++]=S&o,m=10;m<t.length;m++){var B=0|t.words[m];t.words[m-10]=(B&o)<<4|S>>>22,S=B}t.words[m-10]=S>>>=22,t.length-=0===S&&t.length>10?10:9},I.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,o=0;o<t.length;o++){var a=0|t.words[o];t.words[o]=67108863&(r+=977*a),r=64*a+(r/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},M(G,L),M(O,L),M(Z,L),Z.prototype.imulK=function(t){for(var r=0,o=0;o<t.length;o++){var a=19*(0|t.words[o])+r,m=67108863&a;a>>>=26,t.words[o]=m,r=a}return 0!==r&&(t.words[t.length++]=r),t},i._prime=function(t){if(_[t])return _[t];var r;if("k256"===t)r=new I;else if("p224"===t)r=new G;else if("p192"===t)r=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);r=new Z}return _[t]=r,r},N.prototype._verify1=function(t){w(0===t.negative,"red works only with positives"),w(t.red,"red works only with red numbers")},N.prototype._verify2=function(t,r){w(0==(t.negative|r.negative),"red works only with positives"),w(t.red&&t.red===r.red,"red works only with red numbers")},N.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},N.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},N.prototype.add=function(t,r){this._verify2(t,r);var o=t.add(r);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},N.prototype.iadd=function(t,r){this._verify2(t,r);var o=t.iadd(r);return o.cmp(this.m)>=0&&o.isub(this.m),o},N.prototype.sub=function(t,r){this._verify2(t,r);var o=t.sub(r);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},N.prototype.isub=function(t,r){this._verify2(t,r);var o=t.isub(r);return o.cmpn(0)<0&&o.iadd(this.m),o},N.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},N.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},N.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},N.prototype.isqr=function(t){return this.imul(t,t.clone())},N.prototype.sqr=function(t){return this.mul(t,t)},N.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(w(r%2==1),3===r){var o=this.m.add(new i(1)).iushrn(2);return this.pow(t,o)}for(var a=this.m.subn(1),m=0;!a.isZero()&&0===a.andln(1);)m++,a.iushrn(1);w(!a.isZero());var S=new i(1).toRed(this),B=S.redNeg(),c=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);0!==this.pow(e,c).cmp(B);)e.redIAdd(B);for(var n=this.pow(e,a),j=this.pow(t,a.addn(1).iushrn(1)),V=this.pow(t,a),Y=m;0!==V.cmp(S);){for(var tt=V,ot=0;0!==tt.cmp(S);ot++)tt=tt.redSqr();w(ot<Y);var pt=this.pow(n,new i(1).iushln(Y-ot-1));j=j.redMul(pt),n=pt.redSqr(),V=V.redMul(n),Y=ot}return j},N.prototype.invm=function(t){var r=t._invmp(this.m);return 0!==r.negative?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},N.prototype.pow=function(t,r){if(r.isZero())return new i(1);if(0===r.cmpn(1))return t.clone();var a=new Array(16);a[0]=new i(1).toRed(this),a[1]=t;for(var m=2;m<a.length;m++)a[m]=this.mul(a[m-1],t);var S=a[0],B=0,c=0,e=r.bitLength()%26;for(0===e&&(e=26),m=r.length-1;m>=0;m--){for(var n=r.words[m],j=e-1;j>=0;j--){var V=n>>j&1;S!==a[0]&&(S=this.sqr(S)),0!==V||0!==B?(B<<=1,B|=V,(4==++c||0===m&&0===j)&&(S=this.mul(S,a[B]),c=0,B=0)):c=0}e=26}return S},N.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},N.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new X(t)},M(X,N),X.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},X.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},X.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var o=t.imul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=o.isub(a).iushrn(this.shift),S=m;return m.cmp(this.m)>=0?S=m.isub(this.m):m.cmpn(0)<0&&(S=m.iadd(this.m)),S._forceRed(this)},X.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var o=t.mul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=o.isub(a).iushrn(this.shift),S=m;return m.cmp(this.m)>=0?S=m.isub(this.m):m.cmpn(0)<0&&(S=m.iadd(this.m)),S._forceRed(this)},X.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(Q=p.nmd(Q),this)},95439:Q=>{"use strict";Q.exports=function E(p,g){if(p===g)return!0;if(p&&g&&"object"==typeof p&&"object"==typeof g){if(p.constructor!==g.constructor)return!1;var x,w,M;if(Array.isArray(p)){if((x=p.length)!=g.length)return!1;for(w=x;0!=w--;)if(!E(p[w],g[w]))return!1;return!0}if(p.constructor===RegExp)return p.source===g.source&&p.flags===g.flags;if(p.valueOf!==Object.prototype.valueOf)return p.valueOf()===g.valueOf();if(p.toString!==Object.prototype.toString)return p.toString()===g.toString();if((x=(M=Object.keys(p)).length)!==Object.keys(g).length)return!1;for(w=x;0!=w--;)if(!Object.prototype.hasOwnProperty.call(g,M[w]))return!1;for(w=x;0!=w--;){var i=M[w];if(!E(p[i],g[i]))return!1}return!0}return p!=p&&g!=g}},78936:Q=>{"use strict";const E=p=>null!==p&&"object"==typeof p&&"function"==typeof p.pipe;E.writable=p=>E(p)&&!1!==p.writable&&"function"==typeof p._write&&"object"==typeof p._writableState,E.readable=p=>E(p)&&!1!==p.readable&&"function"==typeof p._read&&"object"==typeof p._readableState,E.duplex=p=>E.writable(p)&&E.readable(p),E.transform=p=>E.duplex(p)&&"function"==typeof p._transform,Q.exports=E},41413:(Q,E,p)=>{Q=p.nmd(Q);var x="__lodash_hash_undefined__",i=9007199254740991,d="[object Arguments]",b="[object Function]",C="[object Object]",n=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V[d]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V[b]=V["[object Map]"]=V["[object Number]"]=V[C]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1;var Y="object"==typeof global&&global&&global.Object===Object&&global,tt="object"==typeof self&&self&&self.Object===Object&&self,ot=Y||tt||Function("return this")(),pt=E&&!E.nodeType&&E,$t=pt&&Q&&!Q.nodeType&&Q,yt=$t&&$t.exports===pt,k=yt&&Y.process,z=function(){try{return $t&&$t.require&&$t.require("util").types||k&&k.binding&&k.binding("util")}catch{}}(),rt=z&&z.isTypedArray;function st(W,J,et){switch(et.length){case 0:return W.call(J);case 1:return W.call(J,et[0]);case 2:return W.call(J,et[0],et[1]);case 3:return W.call(J,et[0],et[1],et[2])}return W.apply(J,et)}var W,Et=Array.prototype,ne=Object.prototype,$=ot["__core-js_shared__"],nt=Function.prototype.toString,ct=ne.hasOwnProperty,lt=(W=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",dt=ne.toString,St=nt.call(Object),bt=RegExp("^"+nt.call(ct).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=yt?ot.Buffer:void 0,ge=ot.Symbol,Pt=ot.Uint8Array,_t=wt?wt.allocUnsafe:void 0,ze=function le(W,J){return function(et){return W(J(et))}}(Object.getPrototypeOf,Object),Dt=Object.create,Nt=ne.propertyIsEnumerable,je=Et.splice,Tt=ge?ge.toStringTag:void 0,Bt=function(){try{var W=wr(Object,"defineProperty");return W({},"",{}),W}catch{}}(),Ze=wt?wt.isBuffer:void 0,Lt=Math.max,jt=Date.now,Xe=wr(ot,"Map"),xt=wr(Object,"create"),Ct=function(){function W(){}return function(J){if(!qe(J))return{};if(Dt)return Dt(J);W.prototype=J;var et=new W;return W.prototype=void 0,et}}();function Ae(W){var J=-1,et=null==W?0:W.length;for(this.clear();++J<et;){var Mt=W[J];this.set(Mt[0],Mt[1])}}function ve(W){var J=-1,et=null==W?0:W.length;for(this.clear();++J<et;){var Mt=W[J];this.set(Mt[0],Mt[1])}}function Se(W){var J=-1,et=null==W?0:W.length;for(this.clear();++J<et;){var Mt=W[J];this.set(Mt[0],Mt[1])}}function me(W){var J=this.__data__=new ve(W);this.size=J.size}function Oe(W,J,et){(void 0!==et&&!cr(W[J],et)||void 0===et&&!(J in W))&&Be(W,J,et)}function ue(W,J,et){var Mt=W[J];(!ct.call(W,J)||!cr(Mt,et)||void 0===et&&!(J in W))&&Be(W,J,et)}function Te(W,J){for(var et=W.length;et--;)if(cr(W[et][0],J))return et;return-1}function Be(W,J,et){"__proto__"==J&&Bt?Bt(W,J,{configurable:!0,enumerable:!0,value:et,writable:!0}):W[J]=et}Ae.prototype.clear=function Zt(){this.__data__=xt?xt(null):{},this.size=0},Ae.prototype.delete=function Kt(W){var J=this.has(W)&&delete this.__data__[W];return this.size-=J?1:0,J},Ae.prototype.get=function ar(W){var J=this.__data__;if(xt){var et=J[W];return et===x?void 0:et}return ct.call(J,W)?J[W]:void 0},Ae.prototype.has=function Wt(W){var J=this.__data__;return xt?void 0!==J[W]:ct.call(J,W)},Ae.prototype.set=function Xt(W,J){var et=this.__data__;return this.size+=this.has(W)?0:1,et[W]=xt&&void 0===J?x:J,this},ve.prototype.clear=function kt(){this.__data__=[],this.size=0},ve.prototype.delete=function Vt(W){var J=this.__data__,et=Te(J,W);return!(et<0||(et==J.length-1?J.pop():je.call(J,et,1),--this.size,0))},ve.prototype.get=function pe(W){var J=this.__data__,et=Te(J,W);return et<0?void 0:J[et][1]},ve.prototype.has=function Yt(W){return Te(this.__data__,W)>-1},ve.prototype.set=function Jt(W,J){var et=this.__data__,Mt=Te(et,W);return Mt<0?(++this.size,et.push([W,J])):et[Mt][1]=J,this},Se.prototype.clear=function Ft(){this.size=0,this.__data__={hash:new Ae,map:new(Xe||ve),string:new Ae}},Se.prototype.delete=function Ut(W){var J=mr(this,W).delete(W);return this.size-=J?1:0,J},Se.prototype.get=function Ye(W){return mr(this,W).get(W)},Se.prototype.has=function Ht(W){return mr(this,W).has(W)},Se.prototype.set=function Gt(W,J){var et=mr(this,W),Mt=et.size;return et.set(W,J),this.size+=et.size==Mt?0:1,this},me.prototype.clear=function Je(){this.__data__=new ve,this.size=0},me.prototype.delete=function ye(W){var J=this.__data__,et=J.delete(W);return this.size=J.size,et},me.prototype.get=function He(W){return this.__data__.get(W)},me.prototype.has=function re(W){return this.__data__.has(W)},me.prototype.set=function Ke(W,J){var et=this.__data__;if(et instanceof ve){var Mt=et.__data__;if(!Xe||Mt.length<199)return Mt.push([W,J]),this.size=++et.size,this;et=this.__data__=new Se(Mt)}return et.set(W,J),this.size=et.size,this};var Re=function Ur(W){return function(J,et,Mt){for(var ee=-1,oe=Object(J),se=Mt(J),te=se.length;te--;){var fe=se[W?te:++ee];if(!1===et(oe[fe],fe,oe))break}return J}}();function be(W){return null==W?void 0===W?"[object Undefined]":"[object Null]":Tt&&Tt in Object(W)?function lr(W){var J=ct.call(W,Tt),et=W[Tt];try{W[Tt]=void 0;var Mt=!0}catch{}var ee=dt.call(W);return Mt&&(J?W[Tt]=et:delete W[Tt]),ee}(W):function Wr(W){return dt.call(W)}(W)}function Ie(W){return hr(W)&&be(W)==d}function xe(W,J,et,Mt,ee){W!==J&&Re(J,function(oe,se){if(ee||(ee=new me),qe(oe))!function Fe(W,J,et,Mt,ee,oe,se){var te=$e(W,et),fe=$e(J,et),Ce=se.get(fe);if(Ce)Oe(W,et,Ce);else{var Me=oe?oe(te,fe,et+"",W,J,se):void 0,ur=void 0===Me;if(ur){var yr=Er(fe),Tr=!yr&&gr(fe),Nr=!yr&&!Tr&&Ar(fe);Me=fe,yr||Tr||Nr?Er(te)?Me=te:function Zr(W){return hr(W)&&Pe(W)}(te)?Me=function Br(W,J){var et=-1,Mt=W.length;for(J||(J=Array(Mt));++et<Mt;)J[et]=W[et];return J}(te):Tr?(ur=!1,Me=function Cr(W,J){if(J)return W.slice();var et=W.length,Mt=_t?_t(et):new W.constructor(et);return W.copy(Mt),Mt}(fe,!0)):Nr?(ur=!1,Me=function _r(W,J){var et=J?function vr(W){var J=new W.constructor(W.byteLength);return new Pt(J).set(new Pt(W)),J}(W.buffer):W.buffer;return new W.constructor(et,W.byteOffset,W.length)}(fe,!0)):Me=[]:function Xr(W){if(!hr(W)||be(W)!=C)return!1;var J=ze(W);if(null===J)return!0;var et=ct.call(J,"constructor")&&J.constructor;return"function"==typeof et&&et instanceof et&&nt.call(et)==St}(fe)||nr(fe)?(Me=te,nr(te)?Me=function ir(W){return function kr(W,J,et,Mt){var ee=!et;et||(et={});for(var oe=-1,se=J.length;++oe<se;){var te=J[oe],fe=Mt?Mt(et[te],W[te],te,et,W):void 0;void 0===fe&&(fe=W[te]),ee?Be(et,te,fe):ue(et,te,fe)}return et}(W,Sr(W))}(te):(!qe(te)||ie(te))&&(Me=function er(W){return"function"!=typeof W.constructor||rr(W)?{}:Ct(ze(W))}(fe))):ur=!1}ur&&(se.set(fe,Me),ee(Me,fe,Mt,oe,se),se.delete(fe)),Oe(W,et,Me)}}(W,J,se,et,xe,Mt,ee);else{var te=Mt?Mt($e(W,se),oe,se+"",W,J,ee):void 0;void 0===te&&(te=oe),Oe(W,se,te)}},Sr)}var pr=Bt?function(W,J){return Bt(W,"toString",{configurable:!0,enumerable:!1,value:Yr(J),writable:!0})}:Or;function mr(W,J){var et=W.__data__;return function de(W){var J=typeof W;return"string"==J||"number"==J||"symbol"==J||"boolean"==J?"__proto__"!==W:null===W}(J)?et["string"==typeof J?"string":"hash"]:et.map}function wr(W,J){var et=function mt(W,J){return null==W?void 0:W[J]}(W,J);return function Ne(W){return!(!qe(W)||function Hr(W){return!!lt&&lt in W}(W))&&(ie(W)?bt:n).test(function Ue(W){if(null!=W){try{return nt.call(W)}catch{}try{return W+""}catch{}}return""}(W))}(et)?et:void 0}function Mr(W,J){var et=typeof W;return!!(J=J??i)&&("number"==et||"symbol"!=et&&j.test(W))&&W>-1&&W%1==0&&W<J}function rr(W){var J=W&&W.constructor;return W===("function"==typeof J&&J.prototype||ne)}function $e(W,J){if(("constructor"!==J||"function"!=typeof W[J])&&"__proto__"!=J)return W[J]}var Gr=function zr(W){var J=0,et=0;return function(){var Mt=jt(),ee=16-(Mt-et);if(et=Mt,ee>0){if(++J>=800)return arguments[0]}else J=0;return W.apply(void 0,arguments)}}(pr);function cr(W,J){return W===J||W!=W&&J!=J}var nr=Ie(function(){return arguments}())?Ie:function(W){return hr(W)&&ct.call(W,"callee")&&!Nt.call(W,"callee")},Er=Array.isArray;function Pe(W){return null!=W&&we(W.length)&&!ie(W)}var gr=Ze||function Ir(){return!1};function ie(W){if(!qe(W))return!1;var J=be(W);return J==b||"[object GeneratorFunction]"==J||"[object AsyncFunction]"==J||"[object Proxy]"==J}function we(W){return"number"==typeof W&&W>-1&&W%1==0&&W<=i}function qe(W){var J=typeof W;return null!=W&&("object"==J||"function"==J)}function hr(W){return null!=W&&"object"==typeof W}var Ar=rt?function at(W){return function(J){return W(J)}}(rt):function ke(W){return hr(W)&&we(W.length)&&!!V[be(W)]};function Sr(W){return Pe(W)?function We(W,J){var et=Er(W),Mt=!et&&nr(W),ee=!et&&!Mt&&gr(W),oe=!et&&!Mt&&!ee&&Ar(W),se=et||Mt||ee||oe,te=se?function zt(W,J){for(var et=-1,Mt=Array(W);++et<W;)Mt[et]=J(et);return Mt}(W.length,String):[],fe=te.length;for(var Ce in W)(J||ct.call(W,Ce))&&(!se||!("length"==Ce||ee&&("offset"==Ce||"parent"==Ce)||oe&&("buffer"==Ce||"byteLength"==Ce||"byteOffset"==Ce)||Mr(Ce,fe)))&&te.push(Ce);return te}(W,!0):function Le(W){if(!qe(W))return function Kr(W){var J=[];if(null!=W)for(var et in Object(W))J.push(et);return J}(W);var J=rr(W),et=[];for(var Mt in W)"constructor"==Mt&&(J||!ct.call(W,Mt))||et.push(Mt);return et}(W)}var Rr=function Fr(W){return function br(W,J){return Gr(function Vr(W,J,et){return J=Lt(void 0===J?W.length-1:J,0),function(){for(var Mt=arguments,ee=-1,oe=Lt(Mt.length-J,0),se=Array(oe);++ee<oe;)se[ee]=Mt[J+ee];ee=-1;for(var te=Array(J+1);++ee<J;)te[ee]=Mt[ee];return te[J]=et(se),st(W,this,te)}}(W,J,Or),W+"")}(function(J,et){var Mt=-1,ee=et.length,oe=ee>1?et[ee-1]:void 0,se=ee>2?et[2]:void 0;for(oe=W.length>3&&"function"==typeof oe?(ee--,oe):void 0,se&&function ce(W,J,et){if(!qe(et))return!1;var Mt=typeof J;return!!("number"==Mt?Pe(et)&&Mr(J,et.length):"string"==Mt&&J in et)&&cr(et[J],W)}(et[0],et[1],se)&&(oe=ee<3?void 0:oe,ee=1),J=Object(J);++Mt<ee;){var te=et[Mt];te&&W(J,te,Mt,oe)}return J})}(function(W,J,et){xe(W,J,et)});function Yr(W){return function(){return W}}function Or(W){return W}Q.exports=Rr},58330:function(Q,E,p){var g,x;!function(w,M){"use strict";g=function(){var w=function(){},M="undefined",i=typeof window!==M&&typeof window.navigator!==M&&/Trident\/|MSIE /.test(window.navigator.userAgent),d=["trace","debug","info","warn","error"];function s(C,_){var L=C[_];if("function"==typeof L.bind)return L.bind(C);try{return Function.prototype.bind.call(L,C)}catch{return function(){return Function.prototype.apply.apply(L,[C,arguments])}}}function f(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(C){return"debug"===C&&(C="log"),typeof console!==M&&("trace"===C&&i?f:void 0!==console[C]?s(console,C):void 0!==console.log?s(console,"log"):w)}function v(C,_){for(var L=0;L<d.length;L++){var I=d[L];this[I]=L<C?w:this.methodFactory(I,C,_)}this.log=this.debug}function h(C,_,L){return function(){typeof console!==M&&(v.call(this,_,L),this[C].apply(this,arguments))}}function b(C,_,L){return l(C)||h.apply(this,arguments)}function P(C,_,L){var G,I=this;_=_??"WARN";var O="loglevel";function N(){var t;if(typeof window!==M&&O){try{t=window.localStorage[O]}catch{}if(typeof t===M)try{var r=window.document.cookie,o=r.indexOf(encodeURIComponent(O)+"=");-1!==o&&(t=/^([^;]+)/.exec(r.slice(o))[1])}catch{}return void 0===I.levels[t]&&(t=void 0),t}}"string"==typeof C?O+=":"+C:"symbol"==typeof C&&(O=void 0),I.name=C,I.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},I.methodFactory=L||b,I.getLevel=function(){return G},I.setLevel=function(t,r){if("string"==typeof t&&void 0!==I.levels[t.toUpperCase()]&&(t=I.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=I.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(G=t,!1!==r&&function Z(t){var r=(d[t]||"silent").toUpperCase();if(typeof window!==M&&O){try{return void(window.localStorage[O]=r)}catch{}try{window.document.cookie=encodeURIComponent(O)+"="+r+";"}catch{}}}(t),v.call(I,t,C),typeof console===M&&t<I.levels.SILENT)return"No console available for logging"},I.setDefaultLevel=function(t){_=t,N()||I.setLevel(t,!1)},I.resetLevel=function(){I.setLevel(_,!1),function X(){if(typeof window!==M&&O){try{return void window.localStorage.removeItem(O)}catch{}try{window.document.cookie=encodeURIComponent(O)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}()},I.enableAll=function(t){I.setLevel(I.levels.TRACE,t)},I.disableAll=function(t){I.setLevel(I.levels.SILENT,t)};var u=N();null==u&&(u=_),I.setLevel(u,!1)}var T=new P,D={};T.getLogger=function(_){if("symbol"!=typeof _&&"string"!=typeof _||""===_)throw new TypeError("You must supply a name when creating a logger.");var L=D[_];return L||(L=D[_]=new P(_,T.getLevel(),T.methodFactory)),L};var F=typeof window!==M?window.log:void 0;return T.noConflict=function(){return typeof window!==M&&window.log===T&&(window.log=F),T},T.getLoggers=function(){return D},T.default=T,T},void 0!==(x=g.call(E,p,E,Q))&&(Q.exports=x)}()},97185:function(Q,E,p){!function(g,x){"use strict";function w(u,t){if(!u)throw new Error(t||"Assertion failed")}function M(u,t){u.super_=t;var r=function(){};r.prototype=t.prototype,u.prototype=new r,u.prototype.constructor=u}function i(u,t,r){if(i.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,null!==u&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(u||0,t||10,r||"be"))}var d;"object"==typeof g?g.exports=i:x.BN=i,i.BN=i,i.wordSize=26;try{d=p(3875).Buffer}catch{}function s(u,t,r){for(var o=0,a=Math.min(u.length,r),m=t;m<a;m++){var S=u.charCodeAt(m)-48;o<<=4,o|=S>=49&&S<=54?S-49+10:S>=17&&S<=22?S-17+10:15&S}return o}function f(u,t,r,o){for(var a=0,m=Math.min(u.length,r),S=t;S<m;S++){var B=u.charCodeAt(S)-48;a*=o,a+=B>=49?B-49+10:B>=17?B-17+10:B}return a}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,o){if("number"==typeof t)return this._initNumber(t,r,o);if("object"==typeof t)return this._initArray(t,r,o);"hex"===r&&(r=16),w(r===(0|r)&&r>=2&&r<=36);var a=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&a++,16===r?this._parseHex(t,a):this._parseBase(t,r,a),"-"===t[0]&&(this.negative=1),this.strip(),"le"===o&&this._initArray(this.toArray(),r,o)},i.prototype._initNumber=function(t,r,o){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(w(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===o&&this._initArray(this.toArray(),r,o)},i.prototype._initArray=function(t,r,o){if(w("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var m,S,B=0;if("be"===o)for(a=t.length-1,m=0;a>=0;a-=3)this.words[m]|=(S=t[a]|t[a-1]<<8|t[a-2]<<16)<<B&67108863,this.words[m+1]=S>>>26-B&67108863,(B+=24)>=26&&(B-=26,m++);else if("le"===o)for(a=0,m=0;a<t.length;a+=3)this.words[m]|=(S=t[a]|t[a+1]<<8|t[a+2]<<16)<<B&67108863,this.words[m+1]=S>>>26-B&67108863,(B+=24)>=26&&(B-=26,m++);return this.strip()},i.prototype._parseHex=function(t,r){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var a,m,S=0;for(o=t.length-6,a=0;o>=r;o-=6)m=s(t,o,o+6),this.words[a]|=m<<S&67108863,this.words[a+1]|=m>>>26-S&4194303,(S+=24)>=26&&(S-=26,a++);o+6!==r&&(m=s(t,r,o+6),this.words[a]|=m<<S&67108863,this.words[a+1]|=m>>>26-S&4194303),this.strip()},i.prototype._parseBase=function(t,r,o){this.words=[0],this.length=1;for(var a=0,m=1;m<=67108863;m*=r)a++;a--,m=m/r|0;for(var S=t.length-o,B=S%a,c=Math.min(S,S-B)+o,e=0,n=o;n<c;n+=a)e=f(t,n,n+a,r),this.imuln(m),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(0!==B){var j=1;for(e=f(t,n,t.length,r),n=0;n<B;n++)j*=r;this.imuln(j),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function P(u,t,r){r.negative=t.negative^u.negative;var o=u.length+t.length|0;r.length=o,o=o-1|0;var a=0|u.words[0],m=0|t.words[0],S=a*m,c=S/67108864|0;r.words[0]=67108863&S;for(var e=1;e<o;e++){for(var n=c>>>26,j=67108863&c,V=Math.min(e,t.length-1),Y=Math.max(0,e-u.length+1);Y<=V;Y++)n+=(S=(a=0|u.words[e-Y|0])*(m=0|t.words[Y])+j)/67108864|0,j=67108863&S;r.words[e]=0|j,c=0|n}return 0!==c?r.words[e]=0|c:r.length--,r.strip()}i.prototype.toString=function(t,r){var o;if(r=0|r||1,16===(t=t||10)||"hex"===t){o="";for(var a=0,m=0,S=0;S<this.length;S++){var B=this.words[S],c=(16777215&(B<<a|m)).toString(16);o=0!=(m=B>>>24-a&16777215)||S!==this.length-1?l[6-c.length]+c+o:c+o,(a+=2)>=26&&(a-=26,S--)}for(0!==m&&(o=m.toString(16)+o);o.length%r!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}if(t===(0|t)&&t>=2&&t<=36){var e=v[t],n=h[t];o="";var j=this.clone();for(j.negative=0;!j.isZero();){var V=j.modn(n).toString(t);o=(j=j.idivn(n)).isZero()?V+o:l[e-V.length]+V+o}for(this.isZero()&&(o="0"+o);o.length%r!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}w(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&w(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return w(typeof d<"u"),this.toArrayLike(d,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,o){var a=this.byteLength(),m=o||Math.max(1,a);w(a<=m,"byte array longer than desired length"),w(m>0,"Requested array length <= 0"),this.strip();var c,e,S="le"===r,B=new t(m),n=this.clone();if(S){for(e=0;!n.isZero();e++)c=n.andln(255),n.iushrn(8),B[e]=c;for(;e<m;e++)B[e]=0}else{for(e=0;e<m-a;e++)B[e]=0;for(e=0;!n.isZero();e++)c=n.andln(255),n.iushrn(8),B[m-e-1]=c}return B},i.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var r=t,o=0;return r>=4096&&(o+=13,r>>>=13),r>=64&&(o+=7,r>>>=7),r>=8&&(o+=4,r>>>=4),r>=2&&(o+=2,r>>>=2),o+r},i.prototype._zeroBits=function(t){if(0===t)return 26;var r=t,o=0;return 0==(8191&r)&&(o+=13,r>>>=13),0==(127&r)&&(o+=7,r>>>=7),0==(15&r)&&(o+=4,r>>>=4),0==(3&r)&&(o+=2,r>>>=2),0==(1&r)&&o++,o},i.prototype.bitLength=function(){var r=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+r},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var o=this._zeroBits(this.words[r]);if(t+=o,26!==o)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return w(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;r=this.length>t.length?t:this;for(var o=0;o<r.length;o++)this.words[o]=this.words[o]&t.words[o];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return w(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,o;this.length>t.length?(r=this,o=t):(r=t,o=this);for(var a=0;a<o.length;a++)this.words[a]=r.words[a]^o.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return w(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){w("number"==typeof t&&t>=0);var r=0|Math.ceil(t/26),o=t%26;this._expand(r),o>0&&r--;for(var a=0;a<r;a++)this.words[a]=67108863&~this.words[a];return o>0&&(this.words[a]=~this.words[a]&67108863>>26-o),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){w("number"==typeof t&&t>=0);var o=t/26|0,a=t%26;return this._expand(o+1),this.words[o]=r?this.words[o]|1<<a:this.words[o]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r,o,a;if(0!==this.negative&&0===t.negative)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();this.length>t.length?(o=this,a=t):(o=t,a=this);for(var m=0,S=0;S<a.length;S++)this.words[S]=67108863&(r=(0|o.words[S])+(0|a.words[S])+m),m=r>>>26;for(;0!==m&&S<o.length;S++)this.words[S]=67108863&(r=(0|o.words[S])+m),m=r>>>26;if(this.length=o.length,0!==m)this.words[this.length]=m,this.length++;else if(o!==this)for(;S<o.length;S++)this.words[S]=o.words[S];return this},i.prototype.add=function(t){var r;return 0!==t.negative&&0===this.negative?(t.negative=0,r=this.sub(t),t.negative^=1,r):0===t.negative&&0!==this.negative?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var a,m,o=this.cmp(t);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(a=this,m=t):(a=t,m=this);for(var S=0,B=0;B<m.length;B++)S=(r=(0|a.words[B])-(0|m.words[B])+S)>>26,this.words[B]=67108863&r;for(;0!==S&&B<a.length;B++)S=(r=(0|a.words[B])+S)>>26,this.words[B]=67108863&r;if(0===S&&B<a.length&&a!==this)for(;B<a.length;B++)this.words[B]=a.words[B];return this.length=Math.max(this.length,B),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var T=function(t,r,o){var c,e,n,a=t.words,m=r.words,S=o.words,B=0,j=0|a[0],V=8191&j,Y=j>>>13,tt=0|a[1],ot=8191&tt,pt=tt>>>13,$t=0|a[2],yt=8191&$t,k=$t>>>13,z=0|a[3],rt=8191&z,st=z>>>13,zt=0|a[4],at=8191&zt,mt=zt>>>13,le=0|a[5],Et=8191&le,vt=le>>>13,ne=0|a[6],$=8191&ne,nt=ne>>>13,ct=0|a[7],lt=8191&ct,dt=ct>>>13,St=0|a[8],bt=8191&St,wt=St>>>13,ge=0|a[9],Pt=8191&ge,_t=ge>>>13,ze=0|m[0],Dt=8191&ze,Nt=ze>>>13,je=0|m[1],Tt=8191&je,Bt=je>>>13,Ze=0|m[2],Lt=8191&Ze,jt=Ze>>>13,Xe=0|m[3],xt=8191&Xe,Ct=Xe>>>13,Ae=0|m[4],Zt=8191&Ae,Kt=Ae>>>13,ar=0|m[5],Wt=8191&ar,Xt=ar>>>13,ve=0|m[6],kt=8191&ve,Vt=ve>>>13,pe=0|m[7],Yt=8191&pe,Jt=pe>>>13,Se=0|m[8],Ft=8191&Se,Ut=Se>>>13,Ye=0|m[9],Ht=8191&Ye,Gt=Ye>>>13;o.negative=t.negative^r.negative,o.length=19;var me=(B+(c=Math.imul(V,Dt))|0)+((8191&(e=(e=Math.imul(V,Nt))+Math.imul(Y,Dt)|0))<<13)|0;B=((n=Math.imul(Y,Nt))+(e>>>13)|0)+(me>>>26)|0,me&=67108863,c=Math.imul(ot,Dt),e=(e=Math.imul(ot,Nt))+Math.imul(pt,Dt)|0,n=Math.imul(pt,Nt);var Je=(B+(c=c+Math.imul(V,Tt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Bt)|0)+Math.imul(Y,Tt)|0))<<13)|0;B=((n=n+Math.imul(Y,Bt)|0)+(e>>>13)|0)+(Je>>>26)|0,Je&=67108863,c=Math.imul(yt,Dt),e=(e=Math.imul(yt,Nt))+Math.imul(k,Dt)|0,n=Math.imul(k,Nt),c=c+Math.imul(ot,Tt)|0,e=(e=e+Math.imul(ot,Bt)|0)+Math.imul(pt,Tt)|0,n=n+Math.imul(pt,Bt)|0;var ye=(B+(c=c+Math.imul(V,Lt)|0)|0)+((8191&(e=(e=e+Math.imul(V,jt)|0)+Math.imul(Y,Lt)|0))<<13)|0;B=((n=n+Math.imul(Y,jt)|0)+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,c=Math.imul(rt,Dt),e=(e=Math.imul(rt,Nt))+Math.imul(st,Dt)|0,n=Math.imul(st,Nt),c=c+Math.imul(yt,Tt)|0,e=(e=e+Math.imul(yt,Bt)|0)+Math.imul(k,Tt)|0,n=n+Math.imul(k,Bt)|0,c=c+Math.imul(ot,Lt)|0,e=(e=e+Math.imul(ot,jt)|0)+Math.imul(pt,Lt)|0,n=n+Math.imul(pt,jt)|0;var He=(B+(c=c+Math.imul(V,xt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Ct)|0)+Math.imul(Y,xt)|0))<<13)|0;B=((n=n+Math.imul(Y,Ct)|0)+(e>>>13)|0)+(He>>>26)|0,He&=67108863,c=Math.imul(at,Dt),e=(e=Math.imul(at,Nt))+Math.imul(mt,Dt)|0,n=Math.imul(mt,Nt),c=c+Math.imul(rt,Tt)|0,e=(e=e+Math.imul(rt,Bt)|0)+Math.imul(st,Tt)|0,n=n+Math.imul(st,Bt)|0,c=c+Math.imul(yt,Lt)|0,e=(e=e+Math.imul(yt,jt)|0)+Math.imul(k,Lt)|0,n=n+Math.imul(k,jt)|0,c=c+Math.imul(ot,xt)|0,e=(e=e+Math.imul(ot,Ct)|0)+Math.imul(pt,xt)|0,n=n+Math.imul(pt,Ct)|0;var re=(B+(c=c+Math.imul(V,Zt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Kt)|0)+Math.imul(Y,Zt)|0))<<13)|0;B=((n=n+Math.imul(Y,Kt)|0)+(e>>>13)|0)+(re>>>26)|0,re&=67108863,c=Math.imul(Et,Dt),e=(e=Math.imul(Et,Nt))+Math.imul(vt,Dt)|0,n=Math.imul(vt,Nt),c=c+Math.imul(at,Tt)|0,e=(e=e+Math.imul(at,Bt)|0)+Math.imul(mt,Tt)|0,n=n+Math.imul(mt,Bt)|0,c=c+Math.imul(rt,Lt)|0,e=(e=e+Math.imul(rt,jt)|0)+Math.imul(st,Lt)|0,n=n+Math.imul(st,jt)|0,c=c+Math.imul(yt,xt)|0,e=(e=e+Math.imul(yt,Ct)|0)+Math.imul(k,xt)|0,n=n+Math.imul(k,Ct)|0,c=c+Math.imul(ot,Zt)|0,e=(e=e+Math.imul(ot,Kt)|0)+Math.imul(pt,Zt)|0,n=n+Math.imul(pt,Kt)|0;var Ke=(B+(c=c+Math.imul(V,Wt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Xt)|0)+Math.imul(Y,Wt)|0))<<13)|0;B=((n=n+Math.imul(Y,Xt)|0)+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,c=Math.imul($,Dt),e=(e=Math.imul($,Nt))+Math.imul(nt,Dt)|0,n=Math.imul(nt,Nt),c=c+Math.imul(Et,Tt)|0,e=(e=e+Math.imul(Et,Bt)|0)+Math.imul(vt,Tt)|0,n=n+Math.imul(vt,Bt)|0,c=c+Math.imul(at,Lt)|0,e=(e=e+Math.imul(at,jt)|0)+Math.imul(mt,Lt)|0,n=n+Math.imul(mt,jt)|0,c=c+Math.imul(rt,xt)|0,e=(e=e+Math.imul(rt,Ct)|0)+Math.imul(st,xt)|0,n=n+Math.imul(st,Ct)|0,c=c+Math.imul(yt,Zt)|0,e=(e=e+Math.imul(yt,Kt)|0)+Math.imul(k,Zt)|0,n=n+Math.imul(k,Kt)|0,c=c+Math.imul(ot,Wt)|0,e=(e=e+Math.imul(ot,Xt)|0)+Math.imul(pt,Wt)|0,n=n+Math.imul(pt,Xt)|0;var We=(B+(c=c+Math.imul(V,kt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Vt)|0)+Math.imul(Y,kt)|0))<<13)|0;B=((n=n+Math.imul(Y,Vt)|0)+(e>>>13)|0)+(We>>>26)|0,We&=67108863,c=Math.imul(lt,Dt),e=(e=Math.imul(lt,Nt))+Math.imul(dt,Dt)|0,n=Math.imul(dt,Nt),c=c+Math.imul($,Tt)|0,e=(e=e+Math.imul($,Bt)|0)+Math.imul(nt,Tt)|0,n=n+Math.imul(nt,Bt)|0,c=c+Math.imul(Et,Lt)|0,e=(e=e+Math.imul(Et,jt)|0)+Math.imul(vt,Lt)|0,n=n+Math.imul(vt,jt)|0,c=c+Math.imul(at,xt)|0,e=(e=e+Math.imul(at,Ct)|0)+Math.imul(mt,xt)|0,n=n+Math.imul(mt,Ct)|0,c=c+Math.imul(rt,Zt)|0,e=(e=e+Math.imul(rt,Kt)|0)+Math.imul(st,Zt)|0,n=n+Math.imul(st,Kt)|0,c=c+Math.imul(yt,Wt)|0,e=(e=e+Math.imul(yt,Xt)|0)+Math.imul(k,Wt)|0,n=n+Math.imul(k,Xt)|0,c=c+Math.imul(ot,kt)|0,e=(e=e+Math.imul(ot,Vt)|0)+Math.imul(pt,kt)|0,n=n+Math.imul(pt,Vt)|0;var Oe=(B+(c=c+Math.imul(V,Yt)|0)|0)+((8191&(e=(e=e+Math.imul(V,Jt)|0)+Math.imul(Y,Yt)|0))<<13)|0;B=((n=n+Math.imul(Y,Jt)|0)+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c=Math.imul(bt,Dt),e=(e=Math.imul(bt,Nt))+Math.imul(wt,Dt)|0,n=Math.imul(wt,Nt),c=c+Math.imul(lt,Tt)|0,e=(e=e+Math.imul(lt,Bt)|0)+Math.imul(dt,Tt)|0,n=n+Math.imul(dt,Bt)|0,c=c+Math.imul($,Lt)|0,e=(e=e+Math.imul($,jt)|0)+Math.imul(nt,Lt)|0,n=n+Math.imul(nt,jt)|0,c=c+Math.imul(Et,xt)|0,e=(e=e+Math.imul(Et,Ct)|0)+Math.imul(vt,xt)|0,n=n+Math.imul(vt,Ct)|0,c=c+Math.imul(at,Zt)|0,e=(e=e+Math.imul(at,Kt)|0)+Math.imul(mt,Zt)|0,n=n+Math.imul(mt,Kt)|0,c=c+Math.imul(rt,Wt)|0,e=(e=e+Math.imul(rt,Xt)|0)+Math.imul(st,Wt)|0,n=n+Math.imul(st,Xt)|0,c=c+Math.imul(yt,kt)|0,e=(e=e+Math.imul(yt,Vt)|0)+Math.imul(k,kt)|0,n=n+Math.imul(k,Vt)|0,c=c+Math.imul(ot,Yt)|0,e=(e=e+Math.imul(ot,Jt)|0)+Math.imul(pt,Yt)|0,n=n+Math.imul(pt,Jt)|0;var ue=(B+(c=c+Math.imul(V,Ft)|0)|0)+((8191&(e=(e=e+Math.imul(V,Ut)|0)+Math.imul(Y,Ft)|0))<<13)|0;B=((n=n+Math.imul(Y,Ut)|0)+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,c=Math.imul(Pt,Dt),e=(e=Math.imul(Pt,Nt))+Math.imul(_t,Dt)|0,n=Math.imul(_t,Nt),c=c+Math.imul(bt,Tt)|0,e=(e=e+Math.imul(bt,Bt)|0)+Math.imul(wt,Tt)|0,n=n+Math.imul(wt,Bt)|0,c=c+Math.imul(lt,Lt)|0,e=(e=e+Math.imul(lt,jt)|0)+Math.imul(dt,Lt)|0,n=n+Math.imul(dt,jt)|0,c=c+Math.imul($,xt)|0,e=(e=e+Math.imul($,Ct)|0)+Math.imul(nt,xt)|0,n=n+Math.imul(nt,Ct)|0,c=c+Math.imul(Et,Zt)|0,e=(e=e+Math.imul(Et,Kt)|0)+Math.imul(vt,Zt)|0,n=n+Math.imul(vt,Kt)|0,c=c+Math.imul(at,Wt)|0,e=(e=e+Math.imul(at,Xt)|0)+Math.imul(mt,Wt)|0,n=n+Math.imul(mt,Xt)|0,c=c+Math.imul(rt,kt)|0,e=(e=e+Math.imul(rt,Vt)|0)+Math.imul(st,kt)|0,n=n+Math.imul(st,Vt)|0,c=c+Math.imul(yt,Yt)|0,e=(e=e+Math.imul(yt,Jt)|0)+Math.imul(k,Yt)|0,n=n+Math.imul(k,Jt)|0,c=c+Math.imul(ot,Ft)|0,e=(e=e+Math.imul(ot,Ut)|0)+Math.imul(pt,Ft)|0,n=n+Math.imul(pt,Ut)|0;var Te=(B+(c=c+Math.imul(V,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(V,Gt)|0)+Math.imul(Y,Ht)|0))<<13)|0;B=((n=n+Math.imul(Y,Gt)|0)+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,c=Math.imul(Pt,Tt),e=(e=Math.imul(Pt,Bt))+Math.imul(_t,Tt)|0,n=Math.imul(_t,Bt),c=c+Math.imul(bt,Lt)|0,e=(e=e+Math.imul(bt,jt)|0)+Math.imul(wt,Lt)|0,n=n+Math.imul(wt,jt)|0,c=c+Math.imul(lt,xt)|0,e=(e=e+Math.imul(lt,Ct)|0)+Math.imul(dt,xt)|0,n=n+Math.imul(dt,Ct)|0,c=c+Math.imul($,Zt)|0,e=(e=e+Math.imul($,Kt)|0)+Math.imul(nt,Zt)|0,n=n+Math.imul(nt,Kt)|0,c=c+Math.imul(Et,Wt)|0,e=(e=e+Math.imul(Et,Xt)|0)+Math.imul(vt,Wt)|0,n=n+Math.imul(vt,Xt)|0,c=c+Math.imul(at,kt)|0,e=(e=e+Math.imul(at,Vt)|0)+Math.imul(mt,kt)|0,n=n+Math.imul(mt,Vt)|0,c=c+Math.imul(rt,Yt)|0,e=(e=e+Math.imul(rt,Jt)|0)+Math.imul(st,Yt)|0,n=n+Math.imul(st,Jt)|0,c=c+Math.imul(yt,Ft)|0,e=(e=e+Math.imul(yt,Ut)|0)+Math.imul(k,Ft)|0,n=n+Math.imul(k,Ut)|0;var Be=(B+(c=c+Math.imul(ot,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(ot,Gt)|0)+Math.imul(pt,Ht)|0))<<13)|0;B=((n=n+Math.imul(pt,Gt)|0)+(e>>>13)|0)+(Be>>>26)|0,Be&=67108863,c=Math.imul(Pt,Lt),e=(e=Math.imul(Pt,jt))+Math.imul(_t,Lt)|0,n=Math.imul(_t,jt),c=c+Math.imul(bt,xt)|0,e=(e=e+Math.imul(bt,Ct)|0)+Math.imul(wt,xt)|0,n=n+Math.imul(wt,Ct)|0,c=c+Math.imul(lt,Zt)|0,e=(e=e+Math.imul(lt,Kt)|0)+Math.imul(dt,Zt)|0,n=n+Math.imul(dt,Kt)|0,c=c+Math.imul($,Wt)|0,e=(e=e+Math.imul($,Xt)|0)+Math.imul(nt,Wt)|0,n=n+Math.imul(nt,Xt)|0,c=c+Math.imul(Et,kt)|0,e=(e=e+Math.imul(Et,Vt)|0)+Math.imul(vt,kt)|0,n=n+Math.imul(vt,Vt)|0,c=c+Math.imul(at,Yt)|0,e=(e=e+Math.imul(at,Jt)|0)+Math.imul(mt,Yt)|0,n=n+Math.imul(mt,Jt)|0,c=c+Math.imul(rt,Ft)|0,e=(e=e+Math.imul(rt,Ut)|0)+Math.imul(st,Ft)|0,n=n+Math.imul(st,Ut)|0;var Re=(B+(c=c+Math.imul(yt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(yt,Gt)|0)+Math.imul(k,Ht)|0))<<13)|0;B=((n=n+Math.imul(k,Gt)|0)+(e>>>13)|0)+(Re>>>26)|0,Re&=67108863,c=Math.imul(Pt,xt),e=(e=Math.imul(Pt,Ct))+Math.imul(_t,xt)|0,n=Math.imul(_t,Ct),c=c+Math.imul(bt,Zt)|0,e=(e=e+Math.imul(bt,Kt)|0)+Math.imul(wt,Zt)|0,n=n+Math.imul(wt,Kt)|0,c=c+Math.imul(lt,Wt)|0,e=(e=e+Math.imul(lt,Xt)|0)+Math.imul(dt,Wt)|0,n=n+Math.imul(dt,Xt)|0,c=c+Math.imul($,kt)|0,e=(e=e+Math.imul($,Vt)|0)+Math.imul(nt,kt)|0,n=n+Math.imul(nt,Vt)|0,c=c+Math.imul(Et,Yt)|0,e=(e=e+Math.imul(Et,Jt)|0)+Math.imul(vt,Yt)|0,n=n+Math.imul(vt,Jt)|0,c=c+Math.imul(at,Ft)|0,e=(e=e+Math.imul(at,Ut)|0)+Math.imul(mt,Ft)|0,n=n+Math.imul(mt,Ut)|0;var be=(B+(c=c+Math.imul(rt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(rt,Gt)|0)+Math.imul(st,Ht)|0))<<13)|0;B=((n=n+Math.imul(st,Gt)|0)+(e>>>13)|0)+(be>>>26)|0,be&=67108863,c=Math.imul(Pt,Zt),e=(e=Math.imul(Pt,Kt))+Math.imul(_t,Zt)|0,n=Math.imul(_t,Kt),c=c+Math.imul(bt,Wt)|0,e=(e=e+Math.imul(bt,Xt)|0)+Math.imul(wt,Wt)|0,n=n+Math.imul(wt,Xt)|0,c=c+Math.imul(lt,kt)|0,e=(e=e+Math.imul(lt,Vt)|0)+Math.imul(dt,kt)|0,n=n+Math.imul(dt,Vt)|0,c=c+Math.imul($,Yt)|0,e=(e=e+Math.imul($,Jt)|0)+Math.imul(nt,Yt)|0,n=n+Math.imul(nt,Jt)|0,c=c+Math.imul(Et,Ft)|0,e=(e=e+Math.imul(Et,Ut)|0)+Math.imul(vt,Ft)|0,n=n+Math.imul(vt,Ut)|0;var Ie=(B+(c=c+Math.imul(at,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(at,Gt)|0)+Math.imul(mt,Ht)|0))<<13)|0;B=((n=n+Math.imul(mt,Gt)|0)+(e>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,c=Math.imul(Pt,Wt),e=(e=Math.imul(Pt,Xt))+Math.imul(_t,Wt)|0,n=Math.imul(_t,Xt),c=c+Math.imul(bt,kt)|0,e=(e=e+Math.imul(bt,Vt)|0)+Math.imul(wt,kt)|0,n=n+Math.imul(wt,Vt)|0,c=c+Math.imul(lt,Yt)|0,e=(e=e+Math.imul(lt,Jt)|0)+Math.imul(dt,Yt)|0,n=n+Math.imul(dt,Jt)|0,c=c+Math.imul($,Ft)|0,e=(e=e+Math.imul($,Ut)|0)+Math.imul(nt,Ft)|0,n=n+Math.imul(nt,Ut)|0;var Ne=(B+(c=c+Math.imul(Et,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(Et,Gt)|0)+Math.imul(vt,Ht)|0))<<13)|0;B=((n=n+Math.imul(vt,Gt)|0)+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c=Math.imul(Pt,kt),e=(e=Math.imul(Pt,Vt))+Math.imul(_t,kt)|0,n=Math.imul(_t,Vt),c=c+Math.imul(bt,Yt)|0,e=(e=e+Math.imul(bt,Jt)|0)+Math.imul(wt,Yt)|0,n=n+Math.imul(wt,Jt)|0,c=c+Math.imul(lt,Ft)|0,e=(e=e+Math.imul(lt,Ut)|0)+Math.imul(dt,Ft)|0,n=n+Math.imul(dt,Ut)|0;var ke=(B+(c=c+Math.imul($,Ht)|0)|0)+((8191&(e=(e=e+Math.imul($,Gt)|0)+Math.imul(nt,Ht)|0))<<13)|0;B=((n=n+Math.imul(nt,Gt)|0)+(e>>>13)|0)+(ke>>>26)|0,ke&=67108863,c=Math.imul(Pt,Yt),e=(e=Math.imul(Pt,Jt))+Math.imul(_t,Yt)|0,n=Math.imul(_t,Jt),c=c+Math.imul(bt,Ft)|0,e=(e=e+Math.imul(bt,Ut)|0)+Math.imul(wt,Ft)|0,n=n+Math.imul(wt,Ut)|0;var Le=(B+(c=c+Math.imul(lt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(lt,Gt)|0)+Math.imul(dt,Ht)|0))<<13)|0;B=((n=n+Math.imul(dt,Gt)|0)+(e>>>13)|0)+(Le>>>26)|0,Le&=67108863,c=Math.imul(Pt,Ft),e=(e=Math.imul(Pt,Ut))+Math.imul(_t,Ft)|0,n=Math.imul(_t,Ut);var xe=(B+(c=c+Math.imul(bt,Ht)|0)|0)+((8191&(e=(e=e+Math.imul(bt,Gt)|0)+Math.imul(wt,Ht)|0))<<13)|0;B=((n=n+Math.imul(wt,Gt)|0)+(e>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Fe=(B+(c=Math.imul(Pt,Ht))|0)+((8191&(e=(e=Math.imul(Pt,Gt))+Math.imul(_t,Ht)|0))<<13)|0;return B=((n=Math.imul(_t,Gt))+(e>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S[0]=me,S[1]=Je,S[2]=ye,S[3]=He,S[4]=re,S[5]=Ke,S[6]=We,S[7]=Oe,S[8]=ue,S[9]=Te,S[10]=Be,S[11]=Re,S[12]=be,S[13]=Ie,S[14]=Ne,S[15]=ke,S[16]=Le,S[17]=xe,S[18]=Fe,0!==B&&(S[19]=B,o.length++),o};function F(u,t,r){return(new C).mulp(u,t,r)}function C(u,t){this.x=u,this.y=t}Math.imul||(T=P),i.prototype.mulTo=function(t,r){var o,a=this.length+t.length;return o=10===this.length&&10===t.length?T(this,t,r):a<63?P(this,t,r):a<1024?function D(u,t,r){r.negative=t.negative^u.negative,r.length=u.length+t.length;for(var o=0,a=0,m=0;m<r.length-1;m++){var S=a;a=0;for(var B=67108863&o,c=Math.min(m,t.length-1),e=Math.max(0,m-u.length+1);e<=c;e++){var Y=(0|u.words[m-e])*(0|t.words[e]),tt=67108863&Y;B=67108863&(tt=tt+B|0),a+=(S=(S=S+(Y/67108864|0)|0)+(tt>>>26)|0)>>>26,S&=67108863}r.words[m]=B,o=S,S=a}return 0!==o?r.words[m]=o:r.length--,r.strip()}(this,t,r):F(this,t,r),o},C.prototype.makeRBT=function(t){for(var r=new Array(t),o=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,o,t);return r},C.prototype.revBin=function(t,r,o){if(0===t||t===o-1)return t;for(var a=0,m=0;m<r;m++)a|=(1&t)<<r-m-1,t>>=1;return a},C.prototype.permute=function(t,r,o,a,m,S){for(var B=0;B<S;B++)a[B]=r[t[B]],m[B]=o[t[B]]},C.prototype.transform=function(t,r,o,a,m,S){this.permute(S,t,r,o,a,m);for(var B=1;B<m;B<<=1)for(var c=B<<1,e=Math.cos(2*Math.PI/c),n=Math.sin(2*Math.PI/c),j=0;j<m;j+=c)for(var V=e,Y=n,tt=0;tt<B;tt++){var ot=o[j+tt],pt=a[j+tt],$t=o[j+tt+B],yt=a[j+tt+B],k=V*$t-Y*yt;yt=V*yt+Y*$t,o[j+tt]=ot+($t=k),a[j+tt]=pt+yt,o[j+tt+B]=ot-$t,a[j+tt+B]=pt-yt,tt!==c&&(k=e*V-n*Y,Y=e*Y+n*V,V=k)}},C.prototype.guessLen13b=function(t,r){var o=1|Math.max(r,t),a=1&o,m=0;for(o=o/2|0;o;o>>>=1)m++;return 1<<m+1+a},C.prototype.conjugate=function(t,r,o){if(!(o<=1))for(var a=0;a<o/2;a++){var m=t[a];t[a]=t[o-a-1],t[o-a-1]=m,m=r[a],r[a]=-r[o-a-1],r[o-a-1]=-m}},C.prototype.normalize13b=function(t,r){for(var o=0,a=0;a<r/2;a++){var m=8192*Math.round(t[2*a+1]/r)+Math.round(t[2*a]/r)+o;t[a]=67108863&m,o=m<67108864?0:m/67108864|0}return t},C.prototype.convert13b=function(t,r,o,a){for(var m=0,S=0;S<r;S++)o[2*S]=8191&(m+=0|t[S]),o[2*S+1]=8191&(m>>>=13),m>>>=13;for(S=2*r;S<a;++S)o[S]=0;w(0===m),w(0==(-8192&m))},C.prototype.stub=function(t){for(var r=new Array(t),o=0;o<t;o++)r[o]=0;return r},C.prototype.mulp=function(t,r,o){var a=2*this.guessLen13b(t.length,r.length),m=this.makeRBT(a),S=this.stub(a),B=new Array(a),c=new Array(a),e=new Array(a),n=new Array(a),j=new Array(a),V=new Array(a),Y=o.words;Y.length=a,this.convert13b(t.words,t.length,B,a),this.convert13b(r.words,r.length,n,a),this.transform(B,S,c,e,a,m),this.transform(n,S,j,V,a,m);for(var tt=0;tt<a;tt++){var ot=c[tt]*j[tt]-e[tt]*V[tt];e[tt]=c[tt]*V[tt]+e[tt]*j[tt],c[tt]=ot}return this.conjugate(c,e,a),this.transform(c,e,Y,S,a,m),this.conjugate(Y,S,a),this.normalize13b(Y,a),o.negative=t.negative^r.negative,o.length=t.length+r.length,o.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),F(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){w("number"==typeof t),w(t<67108864);for(var r=0,o=0;o<this.length;o++){var a=(0|this.words[o])*t,m=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=m>>>26,this.words[o]=67108863&m}return 0!==r&&(this.words[o]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=function b(u){for(var t=new Array(u.bitLength()),r=0;r<t.length;r++){var a=r%26;t[r]=(u.words[r/26|0]&1<<a)>>>a}return t}(t);if(0===r.length)return new i(1);for(var o=this,a=0;a<r.length&&0===r[a];a++,o=o.sqr());if(++a<r.length)for(var m=o.sqr();a<r.length;a++,m=m.sqr())0!==r[a]&&(o=o.mul(m));return o},i.prototype.iushln=function(t){w("number"==typeof t&&t>=0);var m,r=t%26,o=(t-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var S=0;for(m=0;m<this.length;m++){var B=this.words[m]&a;this.words[m]=(0|this.words[m])-B<<r|S,S=B>>>26-r}S&&(this.words[m]=S,this.length++)}if(0!==o){for(m=this.length-1;m>=0;m--)this.words[m+o]=this.words[m];for(m=0;m<o;m++)this.words[m]=0;this.length+=o}return this.strip()},i.prototype.ishln=function(t){return w(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,r,o){var a;w("number"==typeof t&&t>=0),a=r?(r-r%26)/26:0;var m=t%26,S=Math.min((t-m)/26,this.length),B=67108863^67108863>>>m<<m,c=o;if(a-=S,a=Math.max(0,a),c){for(var e=0;e<S;e++)c.words[e]=this.words[e];c.length=S}if(0!==S)if(this.length>S)for(this.length-=S,e=0;e<this.length;e++)this.words[e]=this.words[e+S];else this.words[0]=0,this.length=1;var n=0;for(e=this.length-1;e>=0&&(0!==n||e>=a);e--){var j=0|this.words[e];this.words[e]=n<<26-m|j>>>m,n=j&B}return c&&0!==n&&(c.words[c.length++]=n),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,o){return w(0===this.negative),this.iushrn(t,r,o)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){w("number"==typeof t&&t>=0);var r=t%26,o=(t-r)/26;return!(this.length<=o||!(this.words[o]&1<<r))},i.prototype.imaskn=function(t){w("number"==typeof t&&t>=0);var r=t%26,o=(t-r)/26;return w(0===this.negative,"imaskn works only with positive numbers"),this.length<=o?this:(0!==r&&o++,this.length=Math.min(o,this.length),0!==r&&(this.words[this.length-1]&=67108863^67108863>>>r<<r),this.strip())},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return w("number"==typeof t),w(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(w("number"==typeof t),w(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,o){var m;this._expand(t.length+o);var S,B=0;for(m=0;m<t.length;m++){S=(0|this.words[m+o])+B;var c=(0|t.words[m])*r;B=((S-=67108863&c)>>26)-(c/67108864|0),this.words[m+o]=67108863&S}for(;m<this.length-o;m++)B=(S=(0|this.words[m+o])+B)>>26,this.words[m+o]=67108863&S;if(0===B)return this.strip();for(w(-1===B),B=0,m=0;m<this.length;m++)B=(S=-(0|this.words[m])+B)>>26,this.words[m]=67108863&S;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var o,a=this.clone(),m=t,S=0|m.words[m.length-1];0!=(o=26-this._countBits(S))&&(m=m.ushln(o),a.iushln(o),S=0|m.words[m.length-1]);var e,c=a.length-m.length;if("mod"!==r){(e=new i(null)).length=c+1,e.words=new Array(e.length);for(var n=0;n<e.length;n++)e.words[n]=0}var j=a.clone()._ishlnsubmul(m,1,c);0===j.negative&&(a=j,e&&(e.words[c]=1));for(var V=c-1;V>=0;V--){var Y=67108864*(0|a.words[m.length+V])+(0|a.words[m.length+V-1]);for(Y=Math.min(Y/S|0,67108863),a._ishlnsubmul(m,Y,V);0!==a.negative;)Y--,a.negative=0,a._ishlnsubmul(m,1,V),a.isZero()||(a.negative^=1);e&&(e.words[V]=Y)}return e&&e.strip(),a.strip(),"div"!==r&&0!==o&&a.iushrn(o),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,o){return w(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(S=this.neg().divmod(t,r),"mod"!==r&&(a=S.div.neg()),"div"!==r&&(m=S.mod.neg(),o&&0!==m.negative&&m.iadd(t)),{div:a,mod:m}):0===this.negative&&0!==t.negative?(S=this.divmod(t.neg(),r),"mod"!==r&&(a=S.div.neg()),{div:a,mod:S.mod}):0!=(this.negative&t.negative)?(S=this.neg().divmod(t.neg(),r),"div"!==r&&(m=S.mod.neg(),o&&0!==m.negative&&m.isub(t)),{div:S.div,mod:m}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===r?{div:this.divn(t.words[0]),mod:null}:"mod"===r?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r);var a,m,S},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var o=0!==r.div.negative?r.mod.isub(t):r.mod,a=t.ushrn(1),m=t.andln(1),S=o.cmp(a);return S<0||1===m&&0===S?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){w(t<=67108863);for(var r=(1<<26)%t,o=0,a=this.length-1;a>=0;a--)o=(r*o+(0|this.words[a]))%t;return o},i.prototype.idivn=function(t){w(t<=67108863);for(var r=0,o=this.length-1;o>=0;o--){var a=(0|this.words[o])+67108864*r;this.words[o]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){w(0===t.negative),w(!t.isZero());var r=this,o=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new i(1),m=new i(0),S=new i(0),B=new i(1),c=0;r.isEven()&&o.isEven();)r.iushrn(1),o.iushrn(1),++c;for(var e=o.clone(),n=r.clone();!r.isZero();){for(var j=0,V=1;0==(r.words[0]&V)&&j<26;++j,V<<=1);if(j>0)for(r.iushrn(j);j-- >0;)(a.isOdd()||m.isOdd())&&(a.iadd(e),m.isub(n)),a.iushrn(1),m.iushrn(1);for(var Y=0,tt=1;0==(o.words[0]&tt)&&Y<26;++Y,tt<<=1);if(Y>0)for(o.iushrn(Y);Y-- >0;)(S.isOdd()||B.isOdd())&&(S.iadd(e),B.isub(n)),S.iushrn(1),B.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(S),m.isub(B)):(o.isub(r),S.isub(a),B.isub(m))}return{a:S,b:B,gcd:o.iushln(c)}},i.prototype._invmp=function(t){w(0===t.negative),w(!t.isZero());var j,r=this,o=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new i(1),m=new i(0),S=o.clone();r.cmpn(1)>0&&o.cmpn(1)>0;){for(var B=0,c=1;0==(r.words[0]&c)&&B<26;++B,c<<=1);if(B>0)for(r.iushrn(B);B-- >0;)a.isOdd()&&a.iadd(S),a.iushrn(1);for(var e=0,n=1;0==(o.words[0]&n)&&e<26;++e,n<<=1);if(e>0)for(o.iushrn(e);e-- >0;)m.isOdd()&&m.iadd(S),m.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(m)):(o.isub(r),m.isub(a))}return(j=0===r.cmpn(1)?a:m).cmpn(0)<0&&j.iadd(t),j},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),o=t.clone();r.negative=0,o.negative=0;for(var a=0;r.isEven()&&o.isEven();a++)r.iushrn(1),o.iushrn(1);for(;;){for(;r.isEven();)r.iushrn(1);for(;o.isEven();)o.iushrn(1);var m=r.cmp(o);if(m<0){var S=r;r=o,o=S}else if(0===m||0===o.cmpn(1))break;r.isub(o)}return o.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){w("number"==typeof t);var r=t%26,o=(t-r)/26,a=1<<r;if(this.length<=o)return this._expand(o+1),this.words[o]|=a,this;for(var m=a,S=o;0!==m&&S<this.length;S++){var B=0|this.words[S];m=(B+=m)>>>26,this.words[S]=B&=67108863}return 0!==m&&(this.words[S]=m,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var o,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)o=1;else{r&&(t=-t),w(t<=67108863,"Number is too big");var a=0|this.words[0];o=a===t?0:a<t?-1:1}return 0!==this.negative?0|-o:o},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var r=this.ucmp(t);return 0!==this.negative?0|-r:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,o=this.length-1;o>=0;o--){var a=0|this.words[o],m=0|t.words[o];if(a!==m){a<m?r=-1:a>m&&(r=1);break}}return r},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new N(t)},i.prototype.toRed=function(t){return w(!this.red,"Already a number in reduction context"),w(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return w(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return w(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return w(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return w(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return w(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return w(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return w(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return w(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return w(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return w(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return w(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return w(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return w(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return w(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return w(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function L(u,t){this.name=u,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function G(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Z(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function N(u){if("string"==typeof u){var t=i._prime(u);this.m=t.p,this.prime=t}else w(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}function X(u){N.call(this,u),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},L.prototype.ireduce=function(t){var o,r=t;do{this.split(r,this.tmp),o=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(o>this.n);var a=o<this.n?-1:r.ucmp(this.p);return 0===a?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip(),r},L.prototype.split=function(t,r){t.iushrn(this.n,0,r)},L.prototype.imulK=function(t){return t.imul(this.k)},M(I,L),I.prototype.split=function(t,r){for(var o=4194303,a=Math.min(t.length,9),m=0;m<a;m++)r.words[m]=t.words[m];if(r.length=a,t.length<=9)return t.words[0]=0,void(t.length=1);var S=t.words[9];for(r.words[r.length++]=S&o,m=10;m<t.length;m++){var B=0|t.words[m];t.words[m-10]=(B&o)<<4|S>>>22,S=B}t.words[m-10]=S>>>=22,t.length-=0===S&&t.length>10?10:9},I.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,o=0;o<t.length;o++){var a=0|t.words[o];t.words[o]=67108863&(r+=977*a),r=64*a+(r/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},M(G,L),M(O,L),M(Z,L),Z.prototype.imulK=function(t){for(var r=0,o=0;o<t.length;o++){var a=19*(0|t.words[o])+r,m=67108863&a;a>>>=26,t.words[o]=m,r=a}return 0!==r&&(t.words[t.length++]=r),t},i._prime=function(t){if(_[t])return _[t];var r;if("k256"===t)r=new I;else if("p224"===t)r=new G;else if("p192"===t)r=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);r=new Z}return _[t]=r,r},N.prototype._verify1=function(t){w(0===t.negative,"red works only with positives"),w(t.red,"red works only with red numbers")},N.prototype._verify2=function(t,r){w(0==(t.negative|r.negative),"red works only with positives"),w(t.red&&t.red===r.red,"red works only with red numbers")},N.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},N.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},N.prototype.add=function(t,r){this._verify2(t,r);var o=t.add(r);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},N.prototype.iadd=function(t,r){this._verify2(t,r);var o=t.iadd(r);return o.cmp(this.m)>=0&&o.isub(this.m),o},N.prototype.sub=function(t,r){this._verify2(t,r);var o=t.sub(r);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},N.prototype.isub=function(t,r){this._verify2(t,r);var o=t.isub(r);return o.cmpn(0)<0&&o.iadd(this.m),o},N.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},N.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},N.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},N.prototype.isqr=function(t){return this.imul(t,t.clone())},N.prototype.sqr=function(t){return this.mul(t,t)},N.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(w(r%2==1),3===r){var o=this.m.add(new i(1)).iushrn(2);return this.pow(t,o)}for(var a=this.m.subn(1),m=0;!a.isZero()&&0===a.andln(1);)m++,a.iushrn(1);w(!a.isZero());var S=new i(1).toRed(this),B=S.redNeg(),c=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);0!==this.pow(e,c).cmp(B);)e.redIAdd(B);for(var n=this.pow(e,a),j=this.pow(t,a.addn(1).iushrn(1)),V=this.pow(t,a),Y=m;0!==V.cmp(S);){for(var tt=V,ot=0;0!==tt.cmp(S);ot++)tt=tt.redSqr();w(ot<Y);var pt=this.pow(n,new i(1).iushln(Y-ot-1));j=j.redMul(pt),n=pt.redSqr(),V=V.redMul(n),Y=ot}return j},N.prototype.invm=function(t){var r=t._invmp(this.m);return 0!==r.negative?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},N.prototype.pow=function(t,r){if(r.isZero())return new i(1);if(0===r.cmpn(1))return t.clone();var a=new Array(16);a[0]=new i(1).toRed(this),a[1]=t;for(var m=2;m<a.length;m++)a[m]=this.mul(a[m-1],t);var S=a[0],B=0,c=0,e=r.bitLength()%26;for(0===e&&(e=26),m=r.length-1;m>=0;m--){for(var n=r.words[m],j=e-1;j>=0;j--){var V=n>>j&1;S!==a[0]&&(S=this.sqr(S)),0!==V||0!==B?(B<<=1,B|=V,(4==++c||0===m&&0===j)&&(S=this.mul(S,a[B]),c=0,B=0)):c=0}e=26}return S},N.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},N.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new X(t)},M(X,N),X.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},X.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},X.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var o=t.imul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=o.isub(a).iushrn(this.shift),S=m;return m.cmp(this.m)>=0?S=m.isub(this.m):m.cmpn(0)<0&&(S=m.iadd(this.m)),S._forceRed(this)},X.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var o=t.mul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=o.isub(a).iushrn(this.shift),S=m;return m.cmp(this.m)>=0?S=m.isub(this.m):m.cmpn(0)<0&&(S=m.iadd(this.m)),S._forceRed(this)},X.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(Q=p.nmd(Q),this)},7388:(Q,E,p)=>{var g=p(97185),x=p(45185);Q.exports=function(M){if("string"==typeof M||"number"==typeof M){var i=new g(1),d=String(M).toLowerCase().trim(),s="0x"===d.substr(0,2)||"-0x"===d.substr(0,3),f=x(d);if("-"===f.substr(0,1)&&(f=x(f.slice(1)),i=new g(-1,10)),!(f=""===f?"0":f).match(/^-?[0-9]+$/)&&f.match(/^[0-9A-Fa-f]+$/)||f.match(/^[a-fA-F]+$/)||!0===s&&f.match(/^[0-9A-Fa-f]+$/))return new g(f,16).mul(i);if((f.match(/^-?[0-9]+$/)||""===f)&&!1===s)return new g(f,10).mul(i)}else if("object"==typeof M&&M.toString&&!M.pop&&!M.push&&M.toString(10).match(/^-?[0-9]+$/)&&(M.mul||M.dividedToIntegerBy))return new g(M.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(M)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}},71593:function(Q){typeof self<"u"&&self,Q.exports=function(E){var p={};function g(x){if(p[x])return p[x].exports;var w=p[x]={i:x,l:!1,exports:{}};return E[x].call(w.exports,w,w.exports,g),w.l=!0,w.exports}return g.m=E,g.c=p,g.d=function(x,w,M){g.o(x,w)||Object.defineProperty(x,w,{configurable:!1,enumerable:!0,get:M})},g.n=function(x){var w=x&&x.__esModule?function(){return x.default}:function(){return x};return g.d(w,"a",w),w},g.o=function(x,w){return Object.prototype.hasOwnProperty.call(x,w)},g.p="",g(g.s=7)}([function(E,p,g){"use strict";g.d(p,"j",function(){return w}),g.d(p,"d",function(){return i}),g.d(p,"c",function(){return d}),g.d(p,"h",function(){return s}),g.d(p,"b",function(){return f}),g.d(p,"k",function(){return l}),g.d(p,"e",function(){return v}),g.d(p,"g",function(){return h}),g.d(p,"i",function(){return b}),g.d(p,"a",function(){return P}),g.d(p,"f",function(){return T});var x=g(1),w=l(function(D,F){var C=F.length;return l(function(_){for(var L=0;L<_.length;L++)F[C+L]=_[L];return F.length=C+_.length,D.apply(this,F)})});function i(D,F){return function(){return D.call(this,F.apply(this,arguments))}}function d(D){return function(F){return F[D]}}l(function(D){var F=Object(x.c)(D);function C(_,L){return[f(_,L)]}return l(function(_){return Object(x.f)(C,_,F)[0]})});var s=l(function(D){return l(function(F){for(var C,_=0;_<d("length")(D);_++)if(C=f(F,D[_]))return C})});function f(D,F){return F.apply(void 0,D)}function l(D){var F=D.length-1,C=Array.prototype.slice;if(0===F)return function(){return D.call(this,C.call(arguments))};if(1===F)return function(){return D.call(this,arguments[0],C.call(arguments,1))};var _=Array(D.length);return function(){for(var L=0;L<F;L++)_[L]=arguments[L];return _[F]=C.call(arguments,F),D.apply(this,_)}}function v(D){return function(F,C){return D(C,F)}}function h(D,F){return function(C){return D(C)&&F(C)}}function b(){}function P(){return!0}function T(D){return function(){return D}}},function(E,p,g){"use strict";g.d(p,"d",function(){return w}),g.d(p,"g",function(){return i}),g.d(p,"l",function(){return d}),g.d(p,"c",function(){return s}),g.d(p,"h",function(){return f}),g.d(p,"i",function(){return l}),g.d(p,"j",function(){return v}),g.d(p,"f",function(){return h}),g.d(p,"m",function(){return P}),g.d(p,"a",function(){return T}),g.d(p,"b",function(){return D}),g.d(p,"k",function(){return F}),g.d(p,"e",function(){return C});var x=g(0);function w(_,L){return[_,L]}var M=null,i=Object(x.c)(0),d=Object(x.c)(1);function s(_){return F(_.reduce(Object(x.e)(w),M))}var f=Object(x.k)(s);function l(_){return h(function(L,I){return L.unshift(I),L},[],_)}function v(_,L){return L?w(_(i(L)),v(_,d(L))):M}function h(_,L,I){return I?_(h(_,L,d(I)),i(I)):L}function P(_,L,I){return function G(O,Z){return O?L(i(O))?(Z(i(O)),d(O)):w(i(O),G(d(O),Z)):M}(_,I||x.i)}function T(_,L){return!L||_(i(L))&&T(_,d(L))}function D(_,L){_&&(i(_).apply(null,L),D(d(_),L))}function F(_){return function L(I,G){return I?L(d(I),w(i(I),G)):G}(_,M)}function C(_,L){return L&&(_(i(L))?i(L):C(_,d(L)))}},function(E,p,g){"use strict";g.d(p,"c",function(){return M}),g.d(p,"e",function(){return i}),g.d(p,"d",function(){return d}),g.d(p,"a",function(){return s}),g.d(p,"b",function(){return f});var x=g(1),w=g(0);function M(l,v){return v&&v.constructor===l}var i=Object(w.c)("length"),d=Object(w.j)(M,String);function s(l){return void 0!==l}function f(l,v){return v instanceof Object&&Object(x.a)(function(h){return h in v},l)}},function(E,p,g){"use strict";g.d(p,"f",function(){return w}),g.d(p,"d",function(){return M}),g.d(p,"g",function(){return i}),g.d(p,"e",function(){return d}),g.d(p,"b",function(){return s}),g.d(p,"h",function(){return f}),g.d(p,"i",function(){return l}),g.d(p,"c",function(){return v}),g.d(p,"m",function(){return h}),g.d(p,"n",function(){return b}),g.d(p,"a",function(){return P}),g.d(p,"j",function(){return T}),g.d(p,"l",function(){return D}),g.d(p,"k",function(){return F}),g.d(p,"o",function(){return C});var x=1,w=x++,M=x++,i=x++,d=x++,s="fail",f=x++,l=x++,v="start",h="data",b="end",P=x++,T=x++,D=x++,F=x++;function C(_,L,I){try{var G=JSON.parse(L)}catch{}return{statusCode:_,body:L,jsonBody:G,thrown:I}}},function(E,p,g){"use strict";g.d(p,"b",function(){return w}),g.d(p,"a",function(){return M}),g.d(p,"c",function(){return i});var x=g(0);function w(d,s){return{key:d,node:s}}var M=Object(x.c)("key"),i=Object(x.c)("node")},function(E,p,g){"use strict";g.d(p,"a",function(){return s});var x=g(1),w=g(0),M=g(2),i=g(8),d=g(9);function s(f){var l=Object(x.h)("resume","pause","pipe"),v=Object(w.j)(M.b,l);return f?v(f)||Object(M.d)(f)?Object(i.a)(d.a,f):Object(i.a)(d.a,f.url,f.method,f.body,f.headers,f.withCredentials,f.cached):Object(d.a)()}s.drop=function(){return s.drop}},function(E,p,g){"use strict";g.d(p,"b",function(){return s}),g.d(p,"a",function(){return d});var x=g(3),w=g(4),M=g(2),i=g(1),d={};function s(f){var l=f(x.f).emit,v=f(x.d).emit,h=f(x.i).emit,b=f(x.h).emit;function D(L,I,G){Object(w.c)(Object(i.g)(L))[I]=G}function F(L,I,G){L&&D(L,I,G);var O=Object(i.d)(Object(w.b)(I,G),L);return l(O),O}var _={};return _[x.l]=function T(L,I){if(!L)return h(I),F(L,d,I);var G=function P(L,I){var G=Object(w.c)(Object(i.g)(L));return Object(M.c)(Array,G)?F(L,Object(M.e)(G),I):L}(L,I),O=Object(i.l)(G),Z=Object(w.a)(Object(i.g)(G));return D(O,Z,I),Object(i.d)(Object(w.b)(Z,I),O)},_[x.k]=function C(L){return v(L),Object(i.l)(L)||b(Object(w.c)(Object(i.g)(L)))},_[x.j]=F,_}},function(E,p,g){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var x=g(5);p.default=x.a},function(E,p,g){"use strict";g.d(p,"a",function(){return w});var x=g(2);function w(M,i,d,s,f,l,v){return f=f?JSON.parse(JSON.stringify(f)):{},s?(Object(x.d)(s)||(s=JSON.stringify(s),f["Content-Type"]=f["Content-Type"]||"application/json"),f["Content-Length"]=f["Content-Length"]||s.length):s=null,M(d||"GET",function h(b,P){return!1===P&&(-1===b.indexOf("?")?b+="?":b+="&",b+="_="+(new Date).getTime()),b}(i,v),s,f,l||!1)}},function(E,p,g){"use strict";g.d(p,"a",function(){return v});var x=g(10),w=g(12),M=g(6),i=g(13),d=g(14),s=g(16),f=g(17),l=g(18);function v(h,b,P,T,D){var F=Object(x.a)();return b&&Object(l.b)(F,Object(l.a)(),h,b,P,T,D),Object(f.a)(F),Object(w.a)(F,Object(M.b)(F)),Object(i.a)(F,d.a),Object(s.a)(F,b)}},function(E,p,g){"use strict";g.d(p,"a",function(){return M});var x=g(11),w=g(0);function M(){var i={},d=f("newListener"),s=f("removeListener");function f(v){return i[v]=Object(x.a)(v,d,s),i[v]}function l(v){return i[v]||f(v)}return["emit","on","un"].forEach(function(v){l[v]=Object(w.k)(function(h,b){Object(w.b)(b,l(h)[v])})}),l}},function(E,p,g){"use strict";g.d(p,"a",function(){return i});var x=g(1),w=g(2),M=g(0);function i(d,s,f){var l,v;function h(b){return function(P){return P.id===b}}return{on:function(b,P){var T={listener:b,id:P||b};return s&&s.emit(d,b,T.id),l=Object(x.d)(T,l),v=Object(x.d)(b,v),this},emit:function(){Object(x.b)(v,arguments)},un:function(b){var P;l=Object(x.m)(l,h(b),function(T){P=T}),P&&(v=Object(x.m)(v,function(T){return T===P.listener}),f&&f.emit(d,P.listener,P.id))},listeners:function(){return v},hasListener:function(b){var P=b?h(b):M.a;return Object(w.a)(Object(x.e)(P,l))}}}},function(E,p,g){"use strict";g.d(p,"a",function(){return i});var x=g(4),w=g(3),M=g(1);function i(d,s){var l,f={};function v(b){return function(P){l=b(l,P)}}for(var h in s)d(h).on(v(s[h]),f);d(w.g).on(function(b){var P=Object(M.g)(l),T=Object(x.a)(P),D=Object(M.l)(l);D&&(Object(x.c)(Object(M.g)(D))[T]=b)}),d(w.e).on(function(){var b=Object(M.g)(l),P=Object(x.a)(b),T=Object(M.l)(l);T&&delete Object(x.c)(Object(M.g)(T))[P]}),d(w.a).on(function(){for(var b in s)d(b).un(f)})}},function(E,p,g){"use strict";g.d(p,"a",function(){return i});var x=g(3),w=g(1),M=g(4);function i(d,s){var f={node:d(x.d),path:d(x.f)};function v(h,b,P){var T=d(h).emit;b.on(function(D){var F=P(D);!1!==F&&function l(h,b,P){var T=Object(w.k)(P);h(b,Object(w.i)(Object(w.l)(Object(w.j)(M.a,T))),Object(w.i)(Object(w.j)(M.c,T)))}(T,Object(M.c)(F),D)},h),d("removeListener").on(function(D){D===h&&(d(D).listeners()||b.un(h))})}d("newListener").on(function(h){var b=/(node|path):(.*)/.exec(h);if(b){var P=f[b[1]];P.hasListener(h)||v(h,P,s(b[2]))}})}},function(E,p,g){"use strict";g.d(p,"a",function(){return f});var x=g(0),w=g(1),M=g(4),i=g(2),d=g(6),s=g(15),f=Object(s.a)(function(l,v,h,b,P){var C=Object(x.d)(M.a,w.g),_=Object(x.d)(M.c,w.g);function G(S,B){return B[1]?Object(x.g)(S,w.g):S}function O(S){if(S===x.a)return x.a;return Object(x.g)(function B(c){return C(c)!==d.a},Object(x.d)(S,w.l))}function N(){return function(S){return C(S)===d.a}}function t(S,B,c,e,n){var j=S(c);if(j){var V=function u(S,B,c){return Object(w.f)(function(e,n){return n(e,c)},B,S)}(B,e,j);return n(c.substr(Object(i.e)(j[0])),V)}}function r(S,B){return Object(x.j)(t,S,B)}var o=Object(x.h)(r(l,Object(w.h)(G,function I(S,B){var c=B[3];if(!c)return S;var e=Object(x.j)(i.b,Object(w.c)(c.split(/\W+/))),n=Object(x.d)(e,_);return Object(x.g)(n,S)},function L(S,B){var c=B[2],e=c&&"*"!==c?function(n){return String(C(n))===c}:x.a;return Object(x.g)(e,S)},O)),r(v,Object(w.h)(function Z(S){if(S===x.a)return x.a;var B=N(),c=S,e=O(function(j){return n(j)}),n=Object(x.h)(B,c,e);return n})),r(h,Object(w.h)()),r(b,Object(w.h)(G,N)),r(P,Object(w.h)(function X(S){return function(B){var c=S(B);return!0===c?Object(w.g)(B):c}})),function(S){throw Error('"'+S+'" could not be tokenised')});function a(S,B){return B}function m(S,B){return o(S,B,S?m:a)}return function(S){try{return m(S,x.a)}catch(B){throw Error('Could not compile "'+S+'" because '+B.message)}}})},function(E,p,g){"use strict";g.d(p,"a",function(){return w});var M,i,d,f,l,v,h,b,P,T,D,F,C,_,L,I,x=g(0),w=(M=function(O){return O.exec.bind(O)},i=Object(x.k)(function(G){return G.unshift(/^/),M(RegExp(G.map(Object(x.c)("source")).join("")))}),f=/()/,l=/\["([^"]+)"\]/,v=/\[(\d+|\*)\]/,h=/{([\w ]*?)}/,P=i(d=/(\$?)/,/([\w-_]+|\*)/,b=/(?:{([\w ]*?)})?/),T=i(d,l,b),D=i(d,v,b),F=i(d,f,h),C=i(/\.\./),_=i(/\./),L=i(d,/!/),I=i(/$/),function(G){return G(Object(x.h)(P,T,D,F),C,_,L,I)})},function(E,p,g){"use strict";g.d(p,"a",function(){return d});var x=g(3),w=g(0),M=g(2),i=g(5);function d(s,f){var l,v=/^(node|path):./,h=s(x.h),b=s(x.e).emit,P=s(x.g).emit,T=Object(w.k)(function(N,X){if(l[N])Object(w.b)(X,l[N]);else{var u=s(N),t=X[0];v.test(N)?C(u,I(t)):u.on(t)}return l});function C(N,X,u){u=u||X;var t=_(X);return N.on(function(){var r=!1;l.forget=function(){r=!0},Object(w.b)(arguments,t),delete l.forget,r&&N.un(u)},u),l}function _(N){return function(){try{return N.apply(l,arguments)}catch(X){setTimeout(function(){throw new Error(X.message)})}}}function I(N){return function(){var X=N.apply(this,arguments);Object(M.a)(X)&&(X===i.a.drop?b():P(X))}}function G(N,X,u){var t;t="node"===N?I(u):u,C(function L(N,X){return s(N+":"+X)}(N,X),t,u)}function Z(N,X,u){return Object(M.d)(X)?G(N,X,u):function O(N,X){for(var u in X)G(N,u,X[u])}(N,X),l}return s(x.i).on(function(N){l.root=Object(w.f)(N)}),s(x.c).on(function(N,X){l.header=function(u){return u?X[u]:X}}),l={on:T,addListener:T,removeListener:function(N,X,u){if("done"===N)h.un(X);else if("node"===N||"path"===N)s.un(N+":"+X,u);else{var t=X;s(N).un(t)}return l},emit:s.emit,node:Object(w.j)(Z,"node"),path:Object(w.j)(Z,"path"),done:Object(w.j)(C,h),start:Object(w.j)(function F(N,X){return s(N).on(_(X),X),l},x.c),fail:s(x.b).on,abort:s(x.a).emit,header:w.i,root:w.i,source:f}}},function(E,p,g){"use strict";g.d(p,"a",function(){return w});var x=g(3);function w(M){var c,e,n,j,i=M(x.j).emit,d=M(x.l).emit,s=M(x.k).emit,f=M(x.b).emit,l=65536,v=/[\\"\n]/g,h=0,b=h++,P=h++,T=h++,D=h++,F=h++,C=h++,_=h++,L=h++,I=h++,G=h++,O=h++,Z=h++,N=h++,X=h++,u=h++,t=h++,r=h++,o=h++,a=h++,m=h++,B=l,V="",Y=!1,tt=!1,ot=b,pt=[],$t=null,yt=0,k=0,z=0,rt=0,st=1;function at(vt){void 0!==j&&(d(j),s(),j=void 0),c=Error(vt+"\nLn: "+st+"\nCol: "+rt+"\nChr: "+e),f(Object(x.o)(void 0,void 0,c))}function le(vt){return"\r"===vt||"\n"===vt||" "===vt||"\t"===vt}M(x.m).on(function Et(vt){if(!c){if(tt)return at("Cannot write after close");var ne=0;for(e=vt[0];e&&(ne>0&&(n=e),e=vt[ne++]);)switch(z++,"\n"===e?(st++,rt=0):rt++,ot){case b:if("{"===e)ot=T;else if("["===e)ot=F;else if(!le(e))return at("Non-whitespace before {[.");continue;case L:case T:if(le(e))continue;if(ot===L)pt.push(I);else{if("}"===e){d({}),s(),ot=pt.pop()||P;continue}pt.push(D)}if('"'!==e)return at('Malformed object key should start with " ');ot=_;continue;case I:case D:if(le(e))continue;if(":"===e)ot===D?(pt.push(D),void 0!==j&&(d({}),i(j),j=void 0),k++):void 0!==j&&(i(j),j=void 0),ot=P;else if("}"===e)void 0!==j&&(d(j),s(),j=void 0),s(),k--,ot=pt.pop()||P;else{if(","!==e)return at("Bad object");ot===D&&pt.push(D),void 0!==j&&(d(j),s(),j=void 0),ot=L}continue;case F:case P:if(le(e))continue;if(ot===F){if(d([]),k++,ot=P,"]"===e){s(),k--,ot=pt.pop()||P;continue}pt.push(C)}if('"'===e)ot=_;else if("{"===e)ot=T;else if("["===e)ot=F;else if("t"===e)ot=G;else if("f"===e)ot=N;else if("n"===e)ot=r;else if("-"===e)V+=e;else if("0"===e)V+=e,ot=20;else{if(-1==="123456789".indexOf(e))return at("Bad value");V+=e,ot=20}continue;case C:if(","===e)pt.push(C),void 0!==j&&(d(j),s(),j=void 0),ot=P;else{if("]"!==e){if(le(e))continue;return at("Bad array")}void 0!==j&&(d(j),s(),j=void 0),s(),k--,ot=pt.pop()||P}continue;case _:void 0===j&&(j="");var $=ne-1;t:for(;;){for(;yt>0;)if($t+=e,e=vt.charAt(ne++),4===yt?(j+=String.fromCharCode(parseInt($t,16)),yt=0,$=ne-1):yt++,!e)break t;if('"'===e&&!Y){ot=pt.pop()||P,j+=vt.substring($,ne-1);break}if(!("\\"!==e||Y||(Y=!0,j+=vt.substring($,ne-1),e=vt.charAt(ne++))))break;if(Y){if(Y=!1,"n"===e?j+="\n":"r"===e?j+="\r":"t"===e?j+="\t":"f"===e?j+="\f":"b"===e?j+="\b":"u"===e?(yt=1,$t=""):j+=e,e=vt.charAt(ne++),$=ne-1,e)continue;break}v.lastIndex=ne;var nt=v.exec(vt);if(!nt){j+=vt.substring($,(ne=vt.length+1)-1);break}if(ne=nt.index+1,!(e=vt.charAt(nt.index))){j+=vt.substring($,ne-1);break}}continue;case G:if(!e)continue;if("r"!==e)return at("Invalid true started with t"+e);ot=O;continue;case O:if(!e)continue;if("u"!==e)return at("Invalid true started with tr"+e);ot=Z;continue;case Z:if(!e)continue;if("e"!==e)return at("Invalid true started with tru"+e);d(!0),s(),ot=pt.pop()||P;continue;case N:if(!e)continue;if("a"!==e)return at("Invalid false started with f"+e);ot=X;continue;case X:if(!e)continue;if("l"!==e)return at("Invalid false started with fa"+e);ot=u;continue;case u:if(!e)continue;if("s"!==e)return at("Invalid false started with fal"+e);ot=t;continue;case t:if(!e)continue;if("e"!==e)return at("Invalid false started with fals"+e);d(!1),s(),ot=pt.pop()||P;continue;case r:if(!e)continue;if("u"!==e)return at("Invalid null started with n"+e);ot=o;continue;case o:if(!e)continue;if("l"!==e)return at("Invalid null started with nu"+e);ot=a;continue;case a:if(!e)continue;if("l"!==e)return at("Invalid null started with nul"+e);d(null),s(),ot=pt.pop()||P;continue;case m:if("."!==e)return at("Leading zero not followed by .");V+=e,ot=20;continue;case 20:if(-1!=="0123456789".indexOf(e))V+=e;else if("."===e){if(-1!==V.indexOf("."))return at("Invalid number has two dots");V+=e}else if("e"===e||"E"===e){if(-1!==V.indexOf("e")||-1!==V.indexOf("E"))return at("Invalid number has two exponential");V+=e}else if("+"===e||"-"===e){if("e"!==n&&"E"!==n)return at("Invalid symbol in number");V+=e}else V&&(d(parseFloat(V)),s(),V=""),ne--,ot=pt.pop()||P;continue;default:return at("Unknown state: "+ot)}z>=B&&function zt(){var vt=0;void 0!==j&&j.length>l&&(at("Max buffer length exceeded: textNode"),vt=Math.max(vt,j.length)),V.length>l&&(at("Max buffer length exceeded: numberNode"),vt=Math.max(vt,V.length)),B=l-vt+z}()}}),M(x.n).on(function mt(){if(ot===b)return d({}),s(),void(tt=!0);(ot!==P||0!==k)&&at("Unexpected end"),void 0!==j&&(d(j),s(),j=void 0),tt=!0})}},function(E,p,g){"use strict";g.d(p,"a",function(){return s}),g.d(p,"b",function(){return f});var x=g(19),w=g(3),M=g(2),i=g(20),d=g(0);function s(){return new XMLHttpRequest}function f(l,v,h,b,P,T,D){var F=l(w.m).emit,C=l(w.b).emit,_=0,L=!0;function I(){if("2"===String(v.status)[0]){var Z=v.responseText,N=(" "+Z.substr(_)).substr(1);N&&F(N),_=Object(M.e)(Z)}}function G(Z){try{L&&l(w.c).emit(Z.status,Object(i.a)(Z.getAllResponseHeaders())),L=!1}catch{}}l(w.a).on(function(){v.onreadystatechange=null,v.abort()}),"onprogress"in v&&(v.onprogress=I),v.onreadystatechange=function(){switch(v.readyState){case 2:case 3:return G(v);case 4:G(v),"2"===String(v.status)[0]?(I(),l(w.n).emit()):C(Object(w.o)(v.status,v.responseText))}};try{for(var O in v.open(h,b,!0),T)v.setRequestHeader(O,T[O]);Object(x.a)(window.location,Object(x.b)(b))||v.setRequestHeader("X-Requested-With","XMLHttpRequest"),v.withCredentials=D,v.send(P)}catch(Z){window.setTimeout(Object(d.j)(C,Object(w.o)(void 0,void 0,Z)),0)}}},function(E,p,g){"use strict";function x(M,i){function s(f){return String(f.port||function d(f){return{"http:":80,"https:":443}[f]}(f.protocol||M.protocol))}return!!(i.protocol&&i.protocol!==M.protocol||i.host&&i.host!==M.host||i.host&&s(i)!==s(M))}function w(M){var d=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(M)||[];return{protocol:d[1]||"",host:d[2]||"",port:d[3]||""}}g.d(p,"a",function(){return x}),g.d(p,"b",function(){return w})},function(E,p,g){"use strict";function x(w){var M={};return w&&w.split("\r\n").forEach(function(i){var d=i.indexOf(": ");M[i.substring(0,d)]=i.substring(d+2)}),M}g.d(p,"a",function(){return x})}]).default},99318:(Q,E,p)=>{var g=p(99006);function x(M){var i=function(){return i.called?i.value:(i.called=!0,i.value=M.apply(this,arguments))};return i.called=!1,i}function w(M){var i=function(){if(i.called)throw new Error(i.onceError);return i.called=!0,i.value=M.apply(this,arguments)};return i.onceError=(M.name||"Function wrapped with `once`")+" shouldn't be called more than once",i.called=!1,i}Q.exports=g(x),Q.exports.strict=g(w),x.proto=x(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return x(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w(this)},configurable:!0})})},16349:Q=>{"use strict";Q.exports=typeof process>"u"||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?{nextTick:function E(p,g,x,w){if("function"!=typeof p)throw new TypeError('"callback" argument must be a function');var i,d,M=arguments.length;switch(M){case 0:case 1:return process.nextTick(p);case 2:return process.nextTick(function(){p.call(null,g)});case 3:return process.nextTick(function(){p.call(null,g,x)});case 4:return process.nextTick(function(){p.call(null,g,x,w)});default:for(i=new Array(M-1),d=0;d<i.length;)i[d++]=arguments[d];return process.nextTick(function(){p.apply(null,i)})}}}:process},30968:(Q,E,p)=>{var g=p(99318),x=p(75859),w=p(71156),M=function(){},i=/^v?\.0/.test(process.version),d=function(P){return"function"==typeof P},l=function(P,T,D,F){F=g(F);var C=!1;P.on("close",function(){C=!0}),x(P,{readable:T,writable:D},function(L){if(L)return F(L);C=!0,F()});var _=!1;return function(L){if(!C&&!_){if(_=!0,function(P){return!(!i||!w)&&(P instanceof(w.ReadStream||M)||P instanceof(w.WriteStream||M))&&d(P.close)}(P))return P.close(M);if(function(P){return P.setHeader&&d(P.abort)}(P))return P.abort();if(d(P.destroy))return P.destroy();F(L||new Error("stream was destroyed"))}}},v=function(P){P()},h=function(P,T){return P.pipe(T)};Q.exports=function(){var P=Array.prototype.slice.call(arguments),T=d(P[P.length-1]||M)&&P.pop()||M;if(Array.isArray(P[0])&&(P=P[0]),P.length<2)throw new Error("pump requires two streams per minimum");var D,F=P.map(function(C,_){var L=_<P.length-1;return l(C,L,_>0,function(G){D||(D=G),G&&F.forEach(v),!L&&(F.forEach(v),T(D))})});return P.reduce(h)}},12979:Q=>{var E={}.toString;Q.exports=Array.isArray||function(p){return"[object Array]"==E.call(p)}},84491:(Q,E,p)=>{"use strict";var g=p(16349),x=Object.keys||function(b){var P=[];for(var T in b)P.push(T);return P};Q.exports=l;var w=Object.create(p(93605));w.inherits=p(59879);var M=p(97866),i=p(3976);w.inherits(l,M);for(var d=x(i.prototype),s=0;s<d.length;s++){var f=d[s];l.prototype[f]||(l.prototype[f]=i.prototype[f])}function l(b){if(!(this instanceof l))return new l(b);M.call(this,b),i.call(this,b),b&&!1===b.readable&&(this.readable=!1),b&&!1===b.writable&&(this.writable=!1),this.allowHalfOpen=!0,b&&!1===b.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",v)}function v(){this.allowHalfOpen||this._writableState.ended||g.nextTick(h,this)}function h(b){b.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=b,this._writableState.destroyed=b)}}),l.prototype._destroy=function(b,P){this.push(null),this.end(),g.nextTick(P,b)}},44842:(Q,E,p)=>{"use strict";Q.exports=w;var g=p(71481),x=Object.create(p(93605));function w(M){if(!(this instanceof w))return new w(M);g.call(this,M)}x.inherits=p(59879),x.inherits(w,g),w.prototype._transform=function(M,i,d){d(null,M)}},97866:(Q,E,p)=>{"use strict";var g=p(16349);Q.exports=I;var w,x=p(12979);I.ReadableState=L,p(93105);var i=function(k,z){return k.listeners(z).length},d=p(78204),s=p(55859).Buffer,f=global.Uint8Array||function(){},h=Object.create(p(93605));h.inherits=p(59879);var b=p(66882),P=void 0;P=b&&b.debuglog?b.debuglog("stream"):function(){};var F,T=p(52911),D=p(69559);h.inherits(I,d);var C=["error","close","destroy","pause","resume"];function L(k,z){var rt=z instanceof(w=w||p(84491));this.objectMode=!!(k=k||{}).objectMode,rt&&(this.objectMode=this.objectMode||!!k.readableObjectMode);var st=k.highWaterMark,zt=k.readableHighWaterMark;this.highWaterMark=st||0===st?st:rt&&(zt||0===zt)?zt:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=k.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,k.encoding&&(F||(F=p(57990).s),this.decoder=new F(k.encoding),this.encoding=k.encoding)}function I(k){if(w=w||p(84491),!(this instanceof I))return new I(k);this._readableState=new L(k,this),this.readable=!0,k&&("function"==typeof k.read&&(this._read=k.read),"function"==typeof k.destroy&&(this._destroy=k.destroy)),d.call(this)}function G(k,z,rt,st,zt){var mt,at=k._readableState;return null===z?(at.reading=!1,function r(k,z){if(!z.ended){if(z.decoder){var rt=z.decoder.end();rt&&rt.length&&(z.buffer.push(rt),z.length+=z.objectMode?1:rt.length)}z.ended=!0,o(k)}}(k,at)):(zt||(mt=function Z(k,z){var rt;return!function v(k){return s.isBuffer(k)||k instanceof f}(z)&&"string"!=typeof z&&void 0!==z&&!k.objectMode&&(rt=new TypeError("Invalid non-string/buffer chunk")),rt}(at,z)),mt?k.emit("error",mt):at.objectMode||z&&z.length>0?("string"!=typeof z&&!at.objectMode&&Object.getPrototypeOf(z)!==s.prototype&&(z=function l(k){return s.from(k)}(z)),st?at.endEmitted?k.emit("error",new Error("stream.unshift() after end event")):O(k,at,z,!0):at.ended?k.emit("error",new Error("stream.push() after EOF")):(at.reading=!1,at.decoder&&!rt?(z=at.decoder.write(z),at.objectMode||0!==z.length?O(k,at,z,!1):m(k,at)):O(k,at,z,!1))):st||(at.reading=!1)),function N(k){return!k.ended&&(k.needReadable||k.length<k.highWaterMark||0===k.length)}(at)}function O(k,z,rt,st){z.flowing&&0===z.length&&!z.sync?(k.emit("data",rt),k.read(0)):(z.length+=z.objectMode?1:rt.length,st?z.buffer.unshift(rt):z.buffer.push(rt),z.needReadable&&o(k)),m(k,z)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(k){!this._readableState||(this._readableState.destroyed=k)}}),I.prototype.destroy=D.destroy,I.prototype._undestroy=D.undestroy,I.prototype._destroy=function(k,z){this.push(null),z(k)},I.prototype.push=function(k,z){var st,rt=this._readableState;return rt.objectMode?st=!0:"string"==typeof k&&((z=z||rt.defaultEncoding)!==rt.encoding&&(k=s.from(k,z),z=""),st=!0),G(this,k,z,!1,st)},I.prototype.unshift=function(k){return G(this,k,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(k){return F||(F=p(57990).s),this._readableState.decoder=new F(k),this._readableState.encoding=k,this};var X=8388608;function t(k,z){return k<=0||0===z.length&&z.ended?0:z.objectMode?1:k!=k?z.flowing&&z.length?z.buffer.head.data.length:z.length:(k>z.highWaterMark&&(z.highWaterMark=function u(k){return k>=X?k=X:(k--,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,k|=k>>>16,k++),k}(k)),k<=z.length?k:z.ended?z.length:(z.needReadable=!0,0))}function o(k){var z=k._readableState;z.needReadable=!1,z.emittedReadable||(P("emitReadable",z.flowing),z.emittedReadable=!0,z.sync?g.nextTick(a,k):a(k))}function a(k){P("emit readable"),k.emit("readable"),j(k)}function m(k,z){z.readingMore||(z.readingMore=!0,g.nextTick(S,k,z))}function S(k,z){for(var rt=z.length;!z.reading&&!z.flowing&&!z.ended&&z.length<z.highWaterMark&&(P("maybeReadMore read 0"),k.read(0),rt!==z.length);)rt=z.length;z.readingMore=!1}function c(k){P("readable nexttick read 0"),k.read(0)}function n(k,z){z.reading||(P("resume read 0"),k.read(0)),z.resumeScheduled=!1,z.awaitDrain=0,k.emit("resume"),j(k),z.flowing&&!z.reading&&k.read(0)}function j(k){var z=k._readableState;for(P("flow",z.flowing);z.flowing&&null!==k.read(););}function V(k,z){return 0===z.length?null:(z.objectMode?rt=z.buffer.shift():!k||k>=z.length?(rt=z.decoder?z.buffer.join(""):1===z.buffer.length?z.buffer.head.data:z.buffer.concat(z.length),z.buffer.clear()):rt=function Y(k,z,rt){var st;return k<z.head.data.length?(st=z.head.data.slice(0,k),z.head.data=z.head.data.slice(k)):st=k===z.head.data.length?z.shift():rt?function tt(k,z){var rt=z.head,st=1,zt=rt.data;for(k-=zt.length;rt=rt.next;){var at=rt.data,mt=k>at.length?at.length:k;if(zt+=mt===at.length?at:at.slice(0,k),0==(k-=mt)){mt===at.length?(++st,z.head=rt.next?rt.next:z.tail=null):(z.head=rt,rt.data=at.slice(mt));break}++st}return z.length-=st,zt}(k,z):function ot(k,z){var rt=s.allocUnsafe(k),st=z.head,zt=1;for(st.data.copy(rt),k-=st.data.length;st=st.next;){var at=st.data,mt=k>at.length?at.length:k;if(at.copy(rt,rt.length-k,0,mt),0==(k-=mt)){mt===at.length?(++zt,z.head=st.next?st.next:z.tail=null):(z.head=st,st.data=at.slice(mt));break}++zt}return z.length-=zt,rt}(k,z),st}(k,z.buffer,z.decoder),rt);var rt}function pt(k){var z=k._readableState;if(z.length>0)throw new Error('"endReadable()" called on non-empty stream');z.endEmitted||(z.ended=!0,g.nextTick($t,z,k))}function $t(k,z){!k.endEmitted&&0===k.length&&(k.endEmitted=!0,z.readable=!1,z.emit("end"))}function yt(k,z){for(var rt=0,st=k.length;rt<st;rt++)if(k[rt]===z)return rt;return-1}I.prototype.read=function(k){P("read",k),k=parseInt(k,10);var z=this._readableState,rt=k;if(0!==k&&(z.emittedReadable=!1),0===k&&z.needReadable&&(z.length>=z.highWaterMark||z.ended))return P("read: emitReadable",z.length,z.ended),0===z.length&&z.ended?pt(this):o(this),null;if(0===(k=t(k,z))&&z.ended)return 0===z.length&&pt(this),null;var zt,st=z.needReadable;return P("need readable",st),(0===z.length||z.length-k<z.highWaterMark)&&P("length less than watermark",st=!0),z.ended||z.reading?P("reading or ended",st=!1):st&&(P("do read"),z.reading=!0,z.sync=!0,0===z.length&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(k=t(rt,z))),null===(zt=k>0?V(k,z):null)?(z.needReadable=!0,k=0):z.length-=k,0===z.length&&(z.ended||(z.needReadable=!0),rt!==k&&z.ended&&pt(this)),null!==zt&&this.emit("data",zt),zt},I.prototype._read=function(k){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(k,z){var rt=this,st=this._readableState;switch(st.pipesCount){case 0:st.pipes=k;break;case 1:st.pipes=[st.pipes,k];break;default:st.pipes.push(k)}st.pipesCount+=1,P("pipe count=%d opts=%j",st.pipesCount,z);var at=z&&!1===z.end||k===process.stdout||k===process.stderr?St:le;function le(){P("onend"),k.end()}st.endEmitted?g.nextTick(at):rt.once("end",at),k.on("unpipe",function mt(bt,wt){P("onunpipe"),bt===rt&&wt&&!1===wt.hasUnpiped&&(wt.hasUnpiped=!0,function ne(){P("cleanup"),k.removeListener("close",lt),k.removeListener("finish",dt),k.removeListener("drain",Et),k.removeListener("error",ct),k.removeListener("unpipe",mt),rt.removeListener("end",le),rt.removeListener("end",St),rt.removeListener("data",nt),vt=!0,st.awaitDrain&&(!k._writableState||k._writableState.needDrain)&&Et()}())});var Et=function B(k){return function(){var z=k._readableState;P("pipeOnDrain",z.awaitDrain),z.awaitDrain&&z.awaitDrain--,0===z.awaitDrain&&i(k,"data")&&(z.flowing=!0,j(k))}}(rt);k.on("drain",Et);var vt=!1,$=!1;function nt(bt){P("ondata"),$=!1,!1===k.write(bt)&&!$&&((1===st.pipesCount&&st.pipes===k||st.pipesCount>1&&-1!==yt(st.pipes,k))&&!vt&&(P("false write response, pause",rt._readableState.awaitDrain),rt._readableState.awaitDrain++,$=!0),rt.pause())}function ct(bt){P("onerror",bt),St(),k.removeListener("error",ct),0===i(k,"error")&&k.emit("error",bt)}function lt(){k.removeListener("finish",dt),St()}function dt(){P("onfinish"),k.removeListener("close",lt),St()}function St(){P("unpipe"),rt.unpipe(k)}return rt.on("data",nt),function _(k,z,rt){if("function"==typeof k.prependListener)return k.prependListener(z,rt);k._events&&k._events[z]?x(k._events[z])?k._events[z].unshift(rt):k._events[z]=[rt,k._events[z]]:k.on(z,rt)}(k,"error",ct),k.once("close",lt),k.once("finish",dt),k.emit("pipe",rt),st.flowing||(P("pipe resume"),rt.resume()),k},I.prototype.unpipe=function(k){var z=this._readableState,rt={hasUnpiped:!1};if(0===z.pipesCount)return this;if(1===z.pipesCount)return k&&k!==z.pipes||(k||(k=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,k&&k.emit("unpipe",this,rt)),this;if(!k){var st=z.pipes,zt=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var at=0;at<zt;at++)st[at].emit("unpipe",this,rt);return this}var mt=yt(z.pipes,k);return-1===mt||(z.pipes.splice(mt,1),z.pipesCount-=1,1===z.pipesCount&&(z.pipes=z.pipes[0]),k.emit("unpipe",this,rt)),this},I.prototype.addListener=I.prototype.on=function(k,z){var rt=d.prototype.on.call(this,k,z);if("data"===k)!1!==this._readableState.flowing&&this.resume();else if("readable"===k){var st=this._readableState;!st.endEmitted&&!st.readableListening&&(st.readableListening=st.needReadable=!0,st.emittedReadable=!1,st.reading?st.length&&o(this):g.nextTick(c,this))}return rt},I.prototype.resume=function(){var k=this._readableState;return k.flowing||(P("resume"),k.flowing=!0,function e(k,z){z.resumeScheduled||(z.resumeScheduled=!0,g.nextTick(n,k,z))}(this,k)),this},I.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(k){var z=this,rt=this._readableState,st=!1;for(var zt in k.on("end",function(){if(P("wrapped end"),rt.decoder&&!rt.ended){var mt=rt.decoder.end();mt&&mt.length&&z.push(mt)}z.push(null)}),k.on("data",function(mt){P("wrapped data"),rt.decoder&&(mt=rt.decoder.write(mt)),rt.objectMode&&null==mt||!(rt.objectMode||mt&&mt.length)||z.push(mt)||(st=!0,k.pause())}),k)void 0===this[zt]&&"function"==typeof k[zt]&&(this[zt]=function(mt){return function(){return k[mt].apply(k,arguments)}}(zt));for(var at=0;at<C.length;at++)k.on(C[at],this.emit.bind(this,C[at]));return this._read=function(mt){P("wrapped _read",mt),st&&(st=!1,k.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=V},71481:(Q,E,p)=>{"use strict";Q.exports=M;var g=p(84491),x=Object.create(p(93605));function w(s,f){var l=this._transformState;l.transforming=!1;var v=l.writecb;if(!v)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,null!=f&&this.push(f),v(s);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function M(s){if(!(this instanceof M))return new M(s);g.call(this,s),this._transformState={afterTransform:w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,s&&("function"==typeof s.transform&&(this._transform=s.transform),"function"==typeof s.flush&&(this._flush=s.flush)),this.on("prefinish",i)}function i(){var s=this;"function"==typeof this._flush?this._flush(function(f,l){d(s,f,l)}):d(this,null,null)}function d(s,f,l){if(f)return s.emit("error",f);if(null!=l&&s.push(l),s._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(s._transformState.transforming)throw new Error("Calling transform done when still transforming");return s.push(null)}x.inherits=p(59879),x.inherits(M,g),M.prototype.push=function(s,f){return this._transformState.needTransform=!1,g.prototype.push.call(this,s,f)},M.prototype._transform=function(s,f,l){throw new Error("_transform() is not implemented")},M.prototype._write=function(s,f,l){var v=this._transformState;if(v.writecb=l,v.writechunk=s,v.writeencoding=f,!v.transforming){var h=this._readableState;(v.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},M.prototype._read=function(s){var f=this._transformState;null!==f.writechunk&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},M.prototype._destroy=function(s,f){var l=this;g.prototype._destroy.call(this,s,function(v){f(v),l.emit("close")})}},3976:(Q,E,p)=>{"use strict";var g=p(16349);function w(e){var n=this;this.next=null,this.entry=null,this.finish=function(){!function c(e,n,j){var V=e.entry;for(e.entry=null;V;){var Y=V.callback;n.pendingcb--,Y(j),V=V.next}n.corkedRequestsFree?n.corkedRequestsFree.next=e:n.corkedRequestsFree=e}(n,e)}}Q.exports=C;var i,M=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:g.nextTick;C.WritableState=D;var d=Object.create(p(93605));d.inherits=p(59879);var F,s={deprecate:p(15822)},f=p(78204),l=p(55859).Buffer,v=global.Uint8Array||function(){},P=p(69559);function T(){}function D(e,n){i=i||p(84491);var j=n instanceof i;this.objectMode=!!(e=e||{}).objectMode,j&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var V=e.highWaterMark,Y=e.writableHighWaterMark;this.highWaterMark=V||0===V?V:j&&(Y||0===Y)?Y:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pt){!function X(e,n){var j=e._writableState,V=j.sync,Y=j.writecb;if(function N(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(j),n)!function Z(e,n,j,V,Y){--n.pendingcb,j?(g.nextTick(Y,V),g.nextTick(S,e,n),e._writableState.errorEmitted=!0,e.emit("error",V)):(Y(V),e._writableState.errorEmitted=!0,e.emit("error",V),S(e,n))}(e,j,V,n,Y);else{var tt=o(j);!tt&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&r(e,j),V?M(u,e,j,tt,Y):u(e,j,tt,Y)}}(n,pt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function C(e){if(i=i||p(84491),!(F.call(C,this)||this instanceof i))return new C(e);this._writableState=new D(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function O(e,n,j,V,Y,tt,ot){n.writelen=V,n.writecb=ot,n.writing=!0,n.sync=!0,j?e._writev(Y,n.onwrite):e._write(Y,tt,n.onwrite),n.sync=!1}function u(e,n,j,V){j||function t(e,n){0===n.length&&n.needDrain&&(n.needDrain=!1,e.emit("drain"))}(e,n),n.pendingcb--,V(),S(e,n)}function r(e,n){n.bufferProcessing=!0;var j=n.bufferedRequest;if(e._writev&&j&&j.next){var Y=new Array(n.bufferedRequestCount),tt=n.corkedRequestsFree;tt.entry=j;for(var ot=0,pt=!0;j;)Y[ot]=j,j.isBuf||(pt=!1),j=j.next,ot+=1;Y.allBuffers=pt,O(e,n,!0,n.length,Y,"",tt.finish),n.pendingcb++,n.lastBufferedRequest=null,tt.next?(n.corkedRequestsFree=tt.next,tt.next=null):n.corkedRequestsFree=new w(n),n.bufferedRequestCount=0}else{for(;j;){var $t=j.chunk;if(O(e,n,!1,n.objectMode?1:$t.length,$t,j.encoding,j.callback),j=j.next,n.bufferedRequestCount--,n.writing)break}null===j&&(n.lastBufferedRequest=null)}n.bufferedRequest=j,n.bufferProcessing=!1}function o(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function a(e,n){e._final(function(j){n.pendingcb--,j&&e.emit("error",j),n.prefinished=!0,e.emit("prefinish"),S(e,n)})}function S(e,n){var j=o(n);return j&&(function m(e,n){!n.prefinished&&!n.finalCalled&&("function"==typeof e._final?(n.pendingcb++,n.finalCalled=!0,g.nextTick(a,e,n)):(n.prefinished=!0,e.emit("prefinish")))}(e,n),0===n.pendingcb&&(n.finished=!0,e.emit("finish"))),j}d.inherits(C,f),D.prototype.getBuffer=function(){for(var n=this.bufferedRequest,j=[];n;)j.push(n),n=n.next;return j},function(){try{Object.defineProperty(D.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!F.call(this,e)||this===C&&e&&e._writableState instanceof D}})):F=function(e){return e instanceof this},C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},C.prototype.write=function(e,n,j){var V=this._writableState,Y=!1,tt=!V.objectMode&&function b(e){return l.isBuffer(e)||e instanceof v}(e);return tt&&!l.isBuffer(e)&&(e=function h(e){return l.from(e)}(e)),"function"==typeof n&&(j=n,n=null),tt?n="buffer":n||(n=V.defaultEncoding),"function"!=typeof j&&(j=T),V.ended?function _(e,n){var j=new Error("write after end");e.emit("error",j),g.nextTick(n,j)}(this,j):(tt||function L(e,n,j,V){var Y=!0,tt=!1;return null===j?tt=new TypeError("May not write null values to stream"):"string"!=typeof j&&void 0!==j&&!n.objectMode&&(tt=new TypeError("Invalid non-string/buffer chunk")),tt&&(e.emit("error",tt),g.nextTick(V,tt),Y=!1),Y}(this,V,e,j))&&(V.pendingcb++,Y=function G(e,n,j,V,Y,tt){if(!j){var ot=function I(e,n,j){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof n&&(n=l.from(n,j)),n}(n,V,Y);V!==ot&&(j=!0,Y="buffer",V=ot)}var pt=n.objectMode?1:V.length;n.length+=pt;var $t=n.length<n.highWaterMark;if($t||(n.needDrain=!0),n.writing||n.corked){var yt=n.lastBufferedRequest;n.lastBufferedRequest={chunk:V,encoding:Y,isBuf:j,callback:tt,next:null},yt?yt.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else O(e,n,!1,pt,V,Y,tt);return $t}(this,V,tt,e,n,j)),Y},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&r(this,e))},C.prototype.setDefaultEncoding=function(n){if("string"==typeof n&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this},Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,n,j){j(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(e,n,j){var V=this._writableState;"function"==typeof e?(j=e,e=null,n=null):"function"==typeof n&&(j=n,n=null),null!=e&&this.write(e,n),V.corked&&(V.corked=1,this.uncork()),!V.ending&&!V.finished&&function B(e,n,j){n.ending=!0,S(e,n),j&&(n.finished?g.nextTick(j):e.once("finish",j)),n.ended=!0,e.writable=!1}(this,V,j)},Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}}),C.prototype.destroy=P.destroy,C.prototype._undestroy=P.undestroy,C.prototype._destroy=function(e,n){this.end(),n(e)}},52911:(Q,E,p)=>{"use strict";var x=p(55859).Buffer,w=p(50522);function M(i,d,s){i.copy(d,s)}Q.exports=function(){function i(){(function g(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")})(this,i),this.head=null,this.tail=null,this.length=0}return i.prototype.push=function(s){var f={data:s,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length},i.prototype.unshift=function(s){var f={data:s,next:this.head};0===this.length&&(this.tail=f),this.head=f,++this.length},i.prototype.shift=function(){if(0!==this.length){var s=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,s}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(s){if(0===this.length)return"";for(var f=this.head,l=""+f.data;f=f.next;)l+=s+f.data;return l},i.prototype.concat=function(s){if(0===this.length)return x.alloc(0);if(1===this.length)return this.head.data;for(var f=x.allocUnsafe(s>>>0),l=this.head,v=0;l;)M(l.data,f,v),v+=l.data.length,l=l.next;return f},i}(),w&&w.inspect&&w.inspect.custom&&(Q.exports.prototype[w.inspect.custom]=function(){var i=w.inspect({length:this.length});return this.constructor.name+" "+i})},69559:(Q,E,p)=>{"use strict";var g=p(16349);function M(i,d){i.emit("error",d)}Q.exports={destroy:function x(i,d){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(d?d(i):i&&(!this._writableState||!this._writableState.errorEmitted)&&g.nextTick(M,this,i),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(v){!d&&v?(g.nextTick(M,s,v),s._writableState&&(s._writableState.errorEmitted=!0)):d&&d(v)}),this)},undestroy:function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},78204:(Q,E,p)=>{Q.exports=p(93105).EventEmitter},14560:(Q,E,p)=>{(E=Q.exports=p(97866)).Stream=E,E.Readable=E,E.Writable=p(3976),E.Duplex=p(84491),E.Transform=p(71481),E.PassThrough=p(44842)},57990:(Q,E,p)=>{"use strict";var g=p(55859).Buffer,x=g.isEncoding||function(_){switch((_=""+_)&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(_){var L;switch(this.encoding=function M(_){var L=function w(_){if(!_)return"utf8";for(var L;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(L)return;_=(""+_).toLowerCase(),L=!0}}(_);if("string"!=typeof L&&(g.isEncoding===x||!x(_)))throw new Error("Unknown encoding: "+_);return L||_}(_),this.encoding){case"utf16le":this.text=b,this.end=P,L=4;break;case"utf8":this.fillLast=l,L=4;break;case"base64":this.text=T,this.end=D,L=3;break;default:return this.write=F,void(this.end=C)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(L)}function d(_){return _<=127?0:_>>5==6?2:_>>4==14?3:_>>3==30?4:_>>6==2?-1:-2}function l(_){var L=this.lastTotal-this.lastNeed,I=function f(_,L,I){if(128!=(192&L[0]))return _.lastNeed=0,"\ufffd";if(_.lastNeed>1&&L.length>1){if(128!=(192&L[1]))return _.lastNeed=1,"\ufffd";if(_.lastNeed>2&&L.length>2&&128!=(192&L[2]))return _.lastNeed=2,"\ufffd"}}(this,_);return void 0!==I?I:this.lastNeed<=_.length?(_.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(_.copy(this.lastChar,L,0,_.length),void(this.lastNeed-=_.length))}function b(_,L){if((_.length-L)%2==0){var I=_.toString("utf16le",L);if(I){var G=I.charCodeAt(I.length-1);if(G>=55296&&G<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",L,_.length-1)}function P(_){var L=_&&_.length?this.write(_):"";return this.lastNeed?L+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):L}function T(_,L){var I=(_.length-L)%3;return 0===I?_.toString("base64",L):(this.lastNeed=3-I,this.lastTotal=3,1===I?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",L,_.length-I))}function D(_){var L=_&&_.length?this.write(_):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function F(_){return _.toString(this.encoding)}function C(_){return _&&_.length?this.write(_):""}E.s=i,i.prototype.write=function(_){if(0===_.length)return"";var L,I;if(this.lastNeed){if(void 0===(L=this.fillLast(_)))return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<_.length?L?L+this.text(_,I):this.text(_,I):L||""},i.prototype.end=function h(_){var L=_&&_.length?this.write(_):"";return this.lastNeed?L+"\ufffd":L},i.prototype.text=function v(_,L){var I=function s(_,L,I){var G=L.length-1;if(G<I)return 0;var O=d(L[G]);return O>=0?(O>0&&(_.lastNeed=O-1),O):--G<I||-2===O?0:(O=d(L[G]))>=0?(O>0&&(_.lastNeed=O-2),O):--G<I||-2===O?0:(O=d(L[G]))>=0?(O>0&&(2===O?O=0:_.lastNeed=O-3),O):0}(this,_,L);if(!this.lastNeed)return _.toString("utf8",L);this.lastTotal=I;var G=_.length-(I-this.lastNeed);return _.copy(this.lastChar,0,G),_.toString("utf8",L,G)},i.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length}},73529:(Q,E,p)=>{var g=p(14560).Transform,x=p(71732).inherits,w=p(70166);function M(s){g.call(this,s),this._destroyed=!1}function i(s,f,l){l(null,s)}function d(s){return function(f,l,v){return"function"==typeof f&&(v=l,l=f,f={}),"function"!=typeof l&&(l=i),"function"!=typeof v&&(v=null),s(f,l,v)}}x(M,g),M.prototype.destroy=function(s){if(!this._destroyed){this._destroyed=!0;var f=this;process.nextTick(function(){s&&f.emit("error",s),f.emit("close")})}},Q.exports=d(function(s,f,l){var v=new M(s);return v._transform=f,l&&(v._flush=l),v}),Q.exports.ctor=d(function(s,f,l){function v(h){if(!(this instanceof v))return new v(h);this.options=w(s,h),M.call(this,this.options)}return x(v,M),v.prototype._transform=f,l&&(v.prototype._flush=l),v}),Q.exports.obj=d(function(s,f,l){var v=new M(w({objectMode:!0,highWaterMark:16},s));return v._transform=f,l&&(v._flush=l),v})},43790:(Q,E)=>{!function(p){var v,h,b,g=String.fromCharCode;function x(T){for(var _,L,D=[],F=0,C=T.length;F<C;)(_=T.charCodeAt(F++))>=55296&&_<=56319&&F<C?56320==(64512&(L=T.charCodeAt(F++)))?D.push(((1023&_)<<10)+(1023&L)+65536):(D.push(_),F--):D.push(_);return D}function M(T){if(T>=55296&&T<=57343)throw Error("Lone surrogate U+"+T.toString(16).toUpperCase()+" is not a scalar value")}function i(T,D){return g(T>>D&63|128)}function d(T){if(0==(4294967168&T))return g(T);var D="";return 0==(4294965248&T)?D=g(T>>6&31|192):0==(4294901760&T)?(M(T),D=g(T>>12&15|224),D+=i(T,6)):0==(4292870144&T)&&(D=g(T>>18&7|240),D+=i(T,12),D+=i(T,6)),D+g(63&T|128)}function f(){if(b>=h)throw Error("Invalid byte index");var T=255&v[b];if(b++,128==(192&T))return 63&T;throw Error("Invalid continuation byte")}function l(){var T,_;if(b>h)throw Error("Invalid byte index");if(b==h)return!1;if(T=255&v[b],b++,0==(128&T))return T;if(192==(224&T)){if((_=(31&T)<<6|f())>=128)return _;throw Error("Invalid continuation byte")}if(224==(240&T)){if((_=(15&T)<<12|f()<<6|f())>=2048)return M(_),_;throw Error("Invalid continuation byte")}if(240==(248&T)&&(_=(7&T)<<18|f()<<12|f()<<6|f())>=65536&&_<=1114111)return _;throw Error("Invalid UTF-8 detected")}p.version="3.0.0",p.encode=function s(T){for(var D=x(T),F=D.length,C=-1,L="";++C<F;)L+=d(D[C]);return L},p.decode=function P(T){v=x(T),h=v.length,b=0;for(var F,D=[];!1!==(F=l());)D.push(F);return function w(T){for(var C,D=T.length,F=-1,_="";++F<D;)(C=T[F])>65535&&(_+=g((C-=65536)>>>10&1023|55296),C=56320|1023&C),_+=g(C);return _}(D)}}(E)},56883:Q=>{"use strict";Q.exports={ErrorResponse:function(E){var p=E&&E.error&&E.error.message?E.error.message:JSON.stringify(E),g=E.error&&E.error.data?E.error.data:null,x=new Error("Returned error: "+p);return x.data=g,x},InvalidNumberOfParams:function(E,p,g){return new Error('Invalid number of parameters for "'+g+'". Got '+E+" expected "+p+"!")},InvalidConnection:function(E,p){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+E+".",p)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(E){var p=E&&E.error&&E.error.message?E.error.message:"Invalid JSON RPC response: "+JSON.stringify(E);return new Error(p)},ConnectionTimeout:function(E){return new Error("CONNECTION TIMEOUT: timeout of "+E+" ms achived")},ConnectionNotOpenError:function(E){return this.ConnectionError("connection not open on send()",E)},ConnectionCloseError:function(E){return"object"==typeof E&&E.code&&E.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+E.code+"` and the following reason string `"+E.reason+"`",E):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(E,p){const g=new Error(E);return p&&(g.code=p.code,g.reason=p.reason),g},RevertInstructionError:function(E,p){var g=new Error("Your request got reverted with the following reason string: "+E);return g.reason=E,g.signature=p,g},TransactionRevertInstructionError:function(E,p,g){var x=new Error("Transaction has been reverted by the EVM:\n"+JSON.stringify(g,null,2));return x.reason=E,x.signature=p,x.receipt=g,x},TransactionError:function(E,p){var g=new Error(E);return g.receipt=p,g},NoContractAddressFoundError:function(E){return this.TransactionError("The transaction receipt didn't contain a contract address.",E)},ContractCodeNotStoredError:function(E){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",E)},TransactionRevertedWithoutReasonError:function(E){return this.TransactionError("Transaction has been reverted by the EVM:\n"+JSON.stringify(E,null,2),E)},TransactionOutOfGasError:function(E){return this.TransactionError("Transaction ran out of gas. Please provide more gas:\n"+JSON.stringify(E,null,2),E)},ResolverMethodMissingError:function(E,p){return new Error("The resolver at "+E+'does not implement requested method: "'+p+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(E){return new Error('Event "'+E+"\" doesn't exist in this contract.")},ContractReservedEventError:function(E){return new Error('The event "'+E+"\" is a reserved event name, you can't use it.")},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}}},60636:(Q,E,p)=>{"use strict";var g=p(21623),x=p(37137),i=function(O){return g.toBN(O).toString(10)},f=function(O){if(void 0!==O)return function(O){return["latest","pending","earliest","finalized","safe"].includes(O)}(O)?O:"genesis"===O?"0x0":g.isHexStrict(O)?"string"==typeof O?O.toLowerCase():O:g.numberToHex(O)},l=function(O){if(O.to&&(O.to=I(O.to)),O.data&&O.input)throw new Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!O.data&&O.input&&(O.data=O.input,delete O.input),O.data&&!O.data.startsWith("0x")&&(O.data="0x"+O.data),O.data&&!g.isHex(O.data))throw new Error("The data field must be HEX encoded data.");return(O.gas||O.gasLimit)&&(O.gas=O.gas||O.gasLimit),(O.maxPriorityFeePerGas||O.maxFeePerGas)&&delete O.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(Z){return void 0!==O[Z]}).forEach(function(Z){O[Z]=g.numberToHex(O[Z])}),O},P=function(O){return null!==O.blockNumber&&(O.blockNumber=g.hexToNumber(O.blockNumber)),null!==O.transactionIndex&&(O.transactionIndex=g.hexToNumber(O.transactionIndex)),O.nonce=g.hexToNumber(O.nonce),O.gas=g.hexToNumber(O.gas),O.gasPrice&&(O.gasPrice=i(O.gasPrice)),O.maxFeePerGas&&(O.maxFeePerGas=i(O.maxFeePerGas)),O.maxPriorityFeePerGas&&(O.maxPriorityFeePerGas=i(O.maxPriorityFeePerGas)),O.type&&(O.type=g.hexToNumber(O.type)),O.value=i(O.value),O.to=O.to&&g.isAddress(O.to)?g.toChecksumAddress(O.to):null,O.from&&(O.from=g.toChecksumAddress(O.from)),O},C=function(O){if("string"==typeof O.blockHash&&"string"==typeof O.transactionHash&&"string"==typeof O.logIndex){var Z=g.sha3(O.blockHash.replace("0x","")+O.transactionHash.replace("0x","")+O.logIndex.replace("0x",""));O.id="log_"+Z.replace("0x","").slice(0,8)}else O.id||(O.id=null);return null!==O.blockNumber&&(O.blockNumber=g.hexToNumber(O.blockNumber)),null!==O.transactionIndex&&(O.transactionIndex=g.hexToNumber(O.transactionIndex)),null!==O.logIndex&&(O.logIndex=g.hexToNumber(O.logIndex)),O.address&&(O.address=g.toChecksumAddress(O.address)),O},I=function(O){var Z=new x(O);if(Z.isValid()&&Z.isDirect())return Z.toAddress().toLowerCase();if(g.isAddress(O))return"0x"+O.toLowerCase().replace("0x","");throw new Error(`Provided address ${O} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)};Q.exports={inputDefaultBlockNumberFormatter:function(O){return f(this&&null==O?this.defaultBlock:O)},inputBlockNumberFormatter:f,inputCallFormatter:function(O){var Z=(O=l(O)).from||(this?this.defaultAccount:null);return Z&&(O.from=I(Z)),O},inputTransactionFormatter:function(O){if("number"!=typeof(O=l(O)).from&&(!O.from||"object"!=typeof O.from)){if(O.from=O.from||(this?this.defaultAccount:null),!O.from&&"number"!=typeof O.from)throw new Error('The send transactions "from" field must be defined!');O.from=I(O.from)}return O},inputAddressFormatter:I,inputPostFormatter:function(O){return O.ttl&&(O.ttl=g.numberToHex(O.ttl)),O.workToProve&&(O.workToProve=g.numberToHex(O.workToProve)),O.priority&&(O.priority=g.numberToHex(O.priority)),Array.isArray(O.topics)||(O.topics=O.topics?[O.topics]:[]),O.topics=O.topics.map(function(Z){return 0===Z.indexOf("0x")?Z:g.fromUtf8(Z)}),O},inputLogFormatter:function(O){var Z=function(N){return null===N||typeof N>"u"?null:0===(N=String(N)).indexOf("0x")?N:g.fromUtf8(N)};return void 0===O&&(O={}),void 0===O.fromBlock&&(O={...O,fromBlock:"latest"}),(O.fromBlock||0===O.fromBlock)&&(O.fromBlock=f(O.fromBlock)),(O.toBlock||0===O.toBlock)&&(O.toBlock=f(O.toBlock)),O.topics=O.topics||[],O.topics=O.topics.map(function(N){return Array.isArray(N)?N.map(Z):Z(N)}),Z=null,O.address&&(O.address=Array.isArray(O.address)?O.address.map(function(N){return I(N)}):I(O.address)),O},inputSignFormatter:function(O){return g.isHexStrict(O)?O:g.utf8ToHex(O)},inputStorageKeysFormatter:function(O){return O.map(g.numberToHex)},outputProofFormatter:function(O){return O.address=g.toChecksumAddress(O.address),O.nonce=g.hexToNumberString(O.nonce),O.balance=g.hexToNumberString(O.balance),O},outputBigNumberFormatter:i,outputTransactionFormatter:P,outputTransactionReceiptFormatter:function(O){if("object"!=typeof O)throw new Error("Received receipt is invalid: "+O);return this.hexFormat||(null!==O.blockNumber&&(O.blockNumber=g.hexToNumber(O.blockNumber)),null!==O.transactionIndex&&(O.transactionIndex=g.hexToNumber(O.transactionIndex)),O.cumulativeGasUsed=g.hexToNumber(O.cumulativeGasUsed),O.gasUsed=g.hexToNumber(O.gasUsed),O.effectiveGasPrice&&(O.effectiveGasPrice=g.hexToNumber(O.effectiveGasPrice))),Array.isArray(O.logs)&&(O.logs=O.logs.map(C)),O.contractAddress&&(O.contractAddress=g.toChecksumAddress(O.contractAddress)),typeof O.status<"u"&&null!==O.status&&(O.status=Boolean(parseInt(O.status))),O},outputBlockFormatter:function(O){return O.gasLimit=g.hexToNumber(O.gasLimit),O.gasUsed=g.hexToNumber(O.gasUsed),O.size=g.hexToNumber(O.size),O.timestamp=g.hexToNumber(O.timestamp),null!==O.number&&(O.number=g.hexToNumber(O.number)),O.difficulty&&(O.difficulty=i(O.difficulty)),O.totalDifficulty&&(O.totalDifficulty=i(O.totalDifficulty)),Array.isArray(O.transactions)&&O.transactions.forEach(function(Z){if("string"!=typeof Z)return P(Z)}),O.miner&&(O.miner=g.toChecksumAddress(O.miner)),O.baseFeePerGas&&(O.baseFeePerGas=g.hexToNumber(O.baseFeePerGas)),O},outputLogFormatter:C,outputPostFormatter:function(O){return O.expiry=g.hexToNumber(O.expiry),O.sent=g.hexToNumber(O.sent),O.ttl=g.hexToNumber(O.ttl),O.workProved=g.hexToNumber(O.workProved),O.topics||(O.topics=[]),O.topics=O.topics.map(function(Z){return g.toUtf8(Z)}),O},outputSyncingFormatter:function(O){return O.startingBlock=g.hexToNumber(O.startingBlock),O.currentBlock=g.hexToNumber(O.currentBlock),O.highestBlock=g.hexToNumber(O.highestBlock),O.knownStates&&(O.knownStates=g.hexToNumber(O.knownStates),O.pulledStates=g.hexToNumber(O.pulledStates)),O}}},7190:(Q,E,p)=>{"use strict";var g=p(56883),x=p(60636);Q.exports={errors:g,formatters:x}},11819:(Q,E,p)=>{"use strict";var g=p(91052).default,x=p(7190).errors,w=p(7190).formatters,M=p(21623),i=p(38773),d=p(86052).subscriptions,s=p(58483),f=function(b){if(!b.call||!b.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=b.name,this.call=b.call,this.params=b.params||0,this.inputFormatter=b.inputFormatter,this.outputFormatter=b.outputFormatter,this.transformPayload=b.transformPayload,this.extraFormatters=b.extraFormatters,this.abiCoder=b.abiCoder,this.requestManager=b.requestManager,this.accounts=b.accounts,this.defaultBlock=b.defaultBlock||"latest",this.defaultAccount=b.defaultAccount||null,this.transactionBlockTimeout=b.transactionBlockTimeout||50,this.transactionConfirmationBlocks=b.transactionConfirmationBlocks||24,this.transactionPollingTimeout=b.transactionPollingTimeout||750,this.transactionPollingInterval=b.transactionPollingInterval||1e3,this.blockHeaderTimeout=b.blockHeaderTimeout||10,this.defaultCommon=b.defaultCommon,this.defaultChain=b.defaultChain,this.defaultHardfork=b.defaultHardfork,this.handleRevert=b.handleRevert};f.prototype.setRequestManager=function(h,b){this.requestManager=h,b&&(this.accounts=b)},f.prototype.createFunction=function(h,b){var P=this.buildCall();return Object.defineProperty(P,"call",{configurable:!0,writable:!0,value:this.call}),this.setRequestManager(h||this.requestManager,b||this.accounts),P},f.prototype.attachToObject=function(h){var b=this.buildCall();Object.defineProperty(b,"call",{configurable:!0,writable:!0,value:this.call});var P=this.name.split(".");P.length>1?(h[P[0]]=h[P[0]]||{},h[P[0]][P[1]]=b):h[P[0]]=b},f.prototype.getCall=function(h){return"function"==typeof this.call?this.call(h):this.call},f.prototype.extractCallback=function(h){if("function"==typeof h[h.length-1])return h.pop()},f.prototype.validateArgs=function(h){if(h.length!==this.params)throw x.InvalidNumberOfParams(h.length,this.params,this.name)},f.prototype.formatInput=function(h){var b=this;return this.inputFormatter?this.inputFormatter.map(function(P,T){return P?P.call(b,h[T]):h[T]}):h},f.prototype.formatOutput=function(h){var b=this;return Array.isArray(h)?h.map(function(P){return b.outputFormatter&&P?b.outputFormatter(P):P}):this.outputFormatter&&h?this.outputFormatter(h):h},f.prototype.toPayload=function(h){var b=this.getCall(h),P=this.extractCallback(h),T=this.formatInput(h);this.validateArgs(T);var D={method:b,params:T,callback:P};return this.transformPayload&&(D=this.transformPayload(D)),D},f.prototype._confirmTransaction=function(h,b,P){var T=this,D=!1,F=!0,C=0,_=0,L=null,I=null,G=null,Z=P.params[0]&&"object"==typeof P.params[0]&&P.params[0].gas?P.params[0].gas:null,N=!!P.params[0]&&"object"==typeof P.params[0]&&P.params[0].data&&P.params[0].from&&!P.params[0].to,X=N&&P.params[0].data.length>2,u=[new f({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[w.inputBlockNumberFormatter,function(a){return!!a}],outputFormatter:w.outputBlockFormatter}),new f({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:w.outputTransactionReceiptFormatter}),new f({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[w.inputAddressFormatter,w.inputDefaultBlockNumberFormatter]}),new f({name:"getTransactionByHash",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:w.outputTransactionFormatter}),new d({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:w.outputBlockFormatter}}})],t={};u.forEach(a=>{a.attachToObject(t),a.requestManager=T.requestManager});var r=function(a,m,S,B,c){if(!S)return c||(c={unsubscribe:function(){clearInterval(L),clearTimeout(I)}}),(a?i.resolve(a):t.getTransactionReceipt(b)).catch(function(e){c.unsubscribe(),D=!0,M._fireError({message:"Failed to check for transaction receipt:",data:e},h.eventEmitter,h.reject)}).then(function(){var e=g(function*(n){if(!n||!n.blockHash)throw new Error("Receipt missing or blockHash null");if(T.extraFormatters&&T.extraFormatters.receiptFormatter&&(n=T.extraFormatters.receiptFormatter(n)),h.eventEmitter.listeners("confirmation").length>0){var j;if(void 0===a||0!==_){var V=yield t.getBlockByNumber("latest"),Y=V?V.hash:null;m?G?(j=yield t.getBlockByNumber(G.number+1))&&(G=j,h.eventEmitter.emit("confirmation",_,n,Y)):(j=yield t.getBlockByNumber(n.blockNumber),G=j,h.eventEmitter.emit("confirmation",_,n,Y)):h.eventEmitter.emit("confirmation",_,n,Y)}(m&&j||!m)&&_++,F=!1,_===T.transactionConfirmationBlocks+1&&(c.unsubscribe(),h.eventEmitter.removeAllListeners())}return n});return function(n){return e.apply(this,arguments)}}()).then(function(){var e=g(function*(n){if(N&&!D){if(!n.contractAddress)return F&&(c.unsubscribe(),D=!0),void M._fireError(x.NoContractAddressFoundError(n),h.eventEmitter,h.reject,null,n);var j;try{j=yield t.getCode(n.contractAddress)}catch{}if(!j)return;!0===n.status&&X||j.length>2?(h.eventEmitter.emit("receipt",n),h.resolve(T.extraFormatters&&T.extraFormatters.contractDeployFormatter?T.extraFormatters.contractDeployFormatter(n):n),F&&h.eventEmitter.removeAllListeners()):M._fireError(x.ContractCodeNotStoredError(n),h.eventEmitter,h.reject,null,n),F&&c.unsubscribe(),D=!0}return n});return function(n){return e.apply(this,arguments)}}()).then(function(){var e=g(function*(n){if(!N&&!D){if(n.outOfGas||Z&&Z===n.gasUsed||!(!0===n.status||"0x1"===n.status||typeof n.status>"u"))if(JSON.stringify(n,null,2),!1===n.status||"0x0"===n.status)try{var j;if(!T.handleRevert||"eth_sendTransaction"!==T.call&&"eth_sendRawTransaction"!==T.call)throw!1;var V=P.params[0];if("eth_sendRawTransaction"===T.call){var tt=s.parse(P.params[0]);V=w.inputTransactionFormatter({data:tt.data,to:tt.to,from:tt.from,gas:tt.gasLimit.toHexString(),gasPrice:tt.gasPrice?tt.gasPrice.toHexString():void 0,value:tt.value.toHexString()})}if(!(j=yield T.getRevertReason(V,n.blockNumber)))throw!1;M._fireError(x.TransactionRevertInstructionError(j.reason,j.signature,n),h.eventEmitter,h.reject,null,n)}catch{M._fireError(x.TransactionRevertedWithoutReasonError(n),h.eventEmitter,h.reject,null,n)}else M._fireError(x.TransactionOutOfGasError(n),h.eventEmitter,h.reject,null,n);else h.eventEmitter.emit("receipt",n),h.resolve(n),F&&h.eventEmitter.removeAllListeners();F&&c.unsubscribe(),D=!0}});return function(n){return e.apply(this,arguments)}}()).catch(function(){C++,m?C-1>=T.transactionPollingTimeout&&(c.unsubscribe(),D=!0,M._fireError(x.TransactionError("Transaction was not mined within "+T.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),h.eventEmitter,h.reject)):C-1>=T.transactionBlockTimeout&&(c.unsubscribe(),D=!0,M._fireError(x.TransactionError("Transaction was not mined within "+T.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),h.eventEmitter,h.reject))});c.unsubscribe(),D=!0,M._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:S},h.eventEmitter,h.reject)},o=function(a){let m=!1;const S=()=>{L=setInterval(r.bind(null,a,!0),T.transactionPollingInterval)};if(!this.requestManager.provider.on)return S();t.subscribe("newBlockHeaders",function(B,c,e){if(m=!0,B||!c)return S();r(a,!1,B,0,e)}),I=setTimeout(()=>{m||S()},1e3*this.blockHeaderTimeout)}.bind(this);t.getTransactionReceipt(b).then(function(a){a&&a.blockHash?(h.eventEmitter.listeners("confirmation").length>0&&o(a),r(a,!1)):D||o()}).catch(function(){D||o()})};var l=function(h,b){return"number"==typeof h?b.wallet[h]:h&&"object"==typeof h&&h.address&&h.privateKey?h:b.wallet[h.toLowerCase()]};function v(h,b){return new Promise((P,T)=>{try{var D=new f({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(C){return C?M.toHex(C):"latest"},function(){return!1}]}).createFunction(h.requestManager),F=new f({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(h.requestManager);Promise.all([D(),F()]).then(C=>{const[_,L]=C;if(("0x2"===b.type||void 0===b.type)&&_&&_.baseFeePerGas){let I,G;b.gasPrice?(I=b.gasPrice,G=b.gasPrice,delete b.gasPrice):(I=b.maxPriorityFeePerGas||"0x9502F900",G=b.maxFeePerGas||M.toHex(M.toBN(_.baseFeePerGas).mul(M.toBN(2)).add(M.toBN(I)))),P({maxFeePerGas:G,maxPriorityFeePerGas:I})}else{if(b.maxPriorityFeePerGas||b.maxFeePerGas)throw Error("Network doesn't support eip-1559");P({gasPrice:L})}})}catch(C){T(C)}})}f.prototype.buildCall=function(){var h=this,b="eth_sendTransaction"===h.call||"eth_sendRawTransaction"===h.call,P="eth_call"===h.call,T=function(){let D=Array.prototype.slice.call(arguments);var F=i(!b),C=h.toPayload(D);h.hexFormat=!1,"eth_getTransactionReceipt"===h.call&&(h.hexFormat=C.params.length<D.length&&"hex"===D[D.length-1]);var _=function(G,O){var Z;if(h.handleRevert&&P&&h.abiCoder&&(!G&&h.isRevertReasonString(O)?Z=O.substring(10):G&&G.data&&(Z=G.data.substring(10)),Z)){var N=h.abiCoder.decodeParameter("string","0x"+Z),X="Error(String)";M._fireError(x.RevertInstructionError(N,X),F.eventEmitter,F.reject,C.callback,{reason:N,signature:X})}else{try{O=h.formatOutput(O)}catch(u){G=u}if(O instanceof Error&&(G=O),G)return G.error&&(G=G.error),M._fireError(G,F.eventEmitter,F.reject,C.callback);C.callback&&C.callback(null,O),b?(F.eventEmitter.emit("transactionHash",O),h._confirmTransaction(F,O,C)):G||F.resolve(O)}},L=function(G){var O={...C,method:"eth_sendRawTransaction",params:[G.rawTransaction]};h.requestManager.send(O,_)},I=function(G,O){var Z,N;if(O&&O.accounts&&O.accounts.wallet&&O.accounts.wallet.length)if("eth_sendTransaction"===G.method){if((Z=l((N=G.params[0])&&"object"==typeof N?N.from:null,O.accounts))&&Z.privateKey)return delete(N=JSON.parse(JSON.stringify(N))).from,O.defaultChain&&!N.chain&&(N.chain=O.defaultChain),O.defaultHardfork&&!N.hardfork&&(N.hardfork=O.defaultHardfork),O.defaultCommon&&!N.common&&(N.common=O.defaultCommon),void O.accounts.signTransaction(N,Z.privateKey).then(L).catch(function(r){if("function"==typeof F.eventEmitter.listeners&&F.eventEmitter.listeners("error").length){try{F.eventEmitter.emit("error",r)}catch{}F.eventEmitter.removeAllListeners(),F.eventEmitter.catch(function(){})}F.reject(r)})}else if("eth_sign"===G.method){var X=G.params[1];if((Z=l(G.params[0],O.accounts))&&Z.privateKey){var u=O.accounts.sign(X,Z.privateKey);return G.callback&&G.callback(null,u.signature),void F.resolve(u.signature)}}return O.requestManager.send(G,_)};return b&&C.params[0]&&"object"==typeof C.params[0]&&typeof C.params[0].gasPrice>"u"&&(typeof C.params[0].maxPriorityFeePerGas>"u"||typeof C.params[0].maxFeePerGas>"u")?v(h,C.params[0]).then(G=>{void 0!==G.gasPrice?C.params[0].gasPrice=G.gasPrice:void 0!==G.maxPriorityFeePerGas&&void 0!==G.maxFeePerGas&&(C.params[0].maxPriorityFeePerGas=G.maxPriorityFeePerGas,C.params[0].maxFeePerGas=G.maxFeePerGas),b&&setTimeout(()=>{F.eventEmitter.emit("sending",C)},0),I(C,h)}):(b&&setTimeout(()=>{F.eventEmitter.emit("sending",C)},0),I(C,h)),b&&setTimeout(()=>{F.eventEmitter.emit("sent",C)},0),F.eventEmitter};return T.method=h,T.request=this.request.bind(this),T},f.prototype.getRevertReason=function(h,b){var P=this;return new Promise(function(T,D){new f({name:"call",call:"eth_call",params:2,abiCoder:P.abiCoder,handleRevert:!0}).createFunction(P.requestManager)(h,M.numberToHex(b)).then(function(){T(!1)}).catch(function(F){F.reason?T({reason:F.reason,signature:F.signature}):D(F)})})},f.prototype.isRevertReasonString=function(h){return"string"==typeof h&&(h.length-2)/2%32==4&&"0x08c379a0"===h.substring(0,10)},f.prototype.request=function(){var h=this.toPayload(Array.prototype.slice.call(arguments));return h.format=this.formatOutput.bind(this),h},Q.exports=f},38773:(Q,E,p)=>{"use strict";var g=p(77049),x=function(M){var i,d,s=new Promise(function(){i=arguments[0],d=arguments[1]});if(M)return{resolve:i,reject:d,eventEmitter:s};var f=new g;return s._events=f._events,s.emit=f.emit,s.on=f.on,s.once=f.once,s.off=f.off,s.listeners=f.listeners,s.addListener=f.addListener,s.removeListener=f.removeListener,s.removeAllListeners=f.removeAllListeners,{resolve:i,reject:d,eventEmitter:s}};x.resolve=function(w){var M=x(!0);return M.resolve(w),M.eventEmitter},Q.exports=x},77049:Q=>{"use strict";var E=Object.prototype.hasOwnProperty,p="~";function g(){}function x(d,s,f){this.fn=d,this.context=s,this.once=f||!1}function w(d,s,f,l,v){if("function"!=typeof f)throw new TypeError("The listener must be a function");var h=new x(f,l||d,v),b=p?p+s:s;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],h]:d._events[b].push(h):(d._events[b]=h,d._eventsCount++),d}function M(d,s){0==--d._eventsCount?d._events=new g:delete d._events[s]}function i(){this._events=new g,this._eventsCount=0}Object.create&&(g.prototype=Object.create(null),(new g).__proto__||(p=!1)),i.prototype.eventNames=function(){var f,l,s=[];if(0===this._eventsCount)return s;for(l in f=this._events)E.call(f,l)&&s.push(p?l.slice(1):l);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},i.prototype.listeners=function(s){var l=this._events[p?p+s:s];if(!l)return[];if(l.fn)return[l.fn];for(var v=0,h=l.length,b=new Array(h);v<h;v++)b[v]=l[v].fn;return b},i.prototype.listenerCount=function(s){var l=this._events[p?p+s:s];return l?l.fn?1:l.length:0},i.prototype.emit=function(s,f,l,v,h,b){var P=p?p+s:s;if(!this._events[P])return!1;var F,C,T=this._events[P],D=arguments.length;if(T.fn){switch(T.once&&this.removeListener(s,T.fn,void 0,!0),D){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,l),!0;case 4:return T.fn.call(T.context,f,l,v),!0;case 5:return T.fn.call(T.context,f,l,v,h),!0;case 6:return T.fn.call(T.context,f,l,v,h,b),!0}for(C=1,F=new Array(D-1);C<D;C++)F[C-1]=arguments[C];T.fn.apply(T.context,F)}else{var L,_=T.length;for(C=0;C<_;C++)switch(T[C].once&&this.removeListener(s,T[C].fn,void 0,!0),D){case 1:T[C].fn.call(T[C].context);break;case 2:T[C].fn.call(T[C].context,f);break;case 3:T[C].fn.call(T[C].context,f,l);break;case 4:T[C].fn.call(T[C].context,f,l,v);break;default:if(!F)for(L=1,F=new Array(D-1);L<D;L++)F[L-1]=arguments[L];T[C].fn.apply(T[C].context,F)}}return!0},i.prototype.on=function(s,f,l){return w(this,s,f,l,!1)},i.prototype.once=function(s,f,l){return w(this,s,f,l,!0)},i.prototype.removeListener=function(s,f,l,v){var h=p?p+s:s;if(!this._events[h])return this;if(!f)return M(this,h),this;var b=this._events[h];if(b.fn)b.fn===f&&(!v||b.once)&&(!l||b.context===l)&&M(this,h);else{for(var P=0,T=[],D=b.length;P<D;P++)(b[P].fn!==f||v&&!b[P].once||l&&b[P].context!==l)&&T.push(b[P]);T.length?this._events[h]=1===T.length?T[0]:T:M(this,h)}return this},i.prototype.removeAllListeners=function(s){var f;return s?this._events[f=p?p+s:s]&&M(this,f):(this._events=new g,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=p,i.EventEmitter=i,Q.exports=i},15670:(Q,E,p)=>{"use strict";var g=p(20028),x=p(7190).errors,w=function(M){this.requestManager=M,this.requests=[]};w.prototype.add=function(M){this.requests.push(M)},w.prototype.execute=function(){var M=this.requests,i=this._sortResponses.bind(this);this.requestManager.sendBatch(M,function(d,s){s=i(s),M.map(function(f,l){return s[l]||{}}).forEach(function(f,l){if(M[l].callback){if(f&&f.error)return M[l].callback(x.ErrorResponse(f));if(!g.isValidResponse(f))return M[l].callback(x.InvalidResponse(f));try{M[l].callback(null,M[l].format?M[l].format(f.result):f.result)}catch(v){M[l].callback(v)}}})})},w.prototype._sortResponses=function(M){return(M||[]).sort((i,d)=>i.id-d.id)},Q.exports=w},11449:Q=>{"use strict";var E=null,p="object"==typeof globalThis?globalThis:void 0;if(!p)try{p=Function("return this")()}catch{p=self}typeof p.ethereum<"u"?E=p.ethereum:typeof p.web3<"u"&&p.web3.currentProvider&&(p.web3.currentProvider.sendAsync&&(p.web3.currentProvider.send=p.web3.currentProvider.sendAsync,delete p.web3.currentProvider.sendAsync),!p.web3.currentProvider.on&&p.web3.currentProvider.connection&&"ipcProviderWrapper"===p.web3.currentProvider.connection.constructor.name&&(p.web3.currentProvider.on=function(g,x){if("function"!=typeof x)throw new Error("The second parameter callback must be a function.");"data"===g?this.connection.on("data",function(w){var M="";w=w.toString();try{M=JSON.parse(w)}catch{return x(new Error("Couldn't parse response data"+w))}!M.id&&-1!==M.method.indexOf("_subscription")&&x(null,M)}):this.connection.on(g,x)}),E=p.web3.currentProvider),Q.exports=E},56663:(Q,E,p)=>{"use strict";const{callbackify:g}=p(71732);var x=p(7190).errors,w=p(20028),M=p(15670),i=p(11449),d=function s(f,l){this.provider=null,this.providers=s.providers,this.setProvider(f,l),this.subscriptions=new Map};d.givenProvider=i,d.providers={WebsocketProvider:p(83204),HttpProvider:p(51231),IpcProvider:p(80395)},d.prototype.setProvider=function(s,f){var l=this;if(s&&"string"==typeof s&&this.providers)if(/^http(s)?:\/\//i.test(s))s=new this.providers.HttpProvider(s);else if(/^ws(s)?:\/\//i.test(s))s=new this.providers.WebsocketProvider(s);else if(s&&"object"==typeof f&&"function"==typeof f.connect)s=new this.providers.IpcProvider(s,f);else if(s)throw new Error("Can't autodetect provider for \""+s+'"');this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=s||null,this.provider&&this.provider.on&&("function"==typeof s.request?this.provider.on("message",function(h){if(h&&"eth_subscription"===h.type&&h.data){const b=h.data;b.subscription&&l.subscriptions.has(b.subscription)&&l.subscriptions.get(b.subscription).callback(null,b.result)}}):this.provider.on("data",function(b,P){(b=b||P).method&&b.params&&b.params.subscription&&l.subscriptions.has(b.params.subscription)&&l.subscriptions.get(b.params.subscription).callback(null,b.params.result)}),this.provider.on("connect",function(){l.subscriptions.forEach(function(b){b.subscription.resubscribe()})}),this.provider.on("error",function(h){l.subscriptions.forEach(function(b){b.callback(h)})}),this.provider.on("disconnect",function(b){(!l._isCleanCloseEvent(b)||l._isIpcCloseError(b))&&(l.subscriptions.forEach(function(P){P.callback(x.ConnectionCloseError(b)),l.subscriptions.delete(P.subscription.id)}),l.provider&&l.provider.emit&&l.provider.emit("error",x.ConnectionCloseError(b))),l.provider&&l.provider.emit&&l.provider.emit("end",b)}))},d.prototype.send=function(s,f){if(f=f||function(){},!this.provider)return f(x.InvalidProvider());const{method:l,params:v}=s,h=w.toPayload(l,v),b=this._jsonrpcResultCallback(f,h);if(this.provider.request)g(this.provider.request.bind(this.provider))({method:l,params:v},f);else if(this.provider.sendAsync)this.provider.sendAsync(h,b);else{if(!this.provider.send)throw new Error("Provider does not have a request or send method to use.");this.provider.send(h,b)}},d.prototype.sendBatch=function(s,f){if(!this.provider)return f(x.InvalidProvider());var l=w.toBatchPayload(s);this.provider[this.provider.sendAsync?"sendAsync":"send"](l,function(v,h){return v?f(v):Array.isArray(h)?void f(null,h):f(x.InvalidResponse(h))})},d.prototype.addSubscription=function(s,f){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions.set(s.id,{callback:f,subscription:s})},d.prototype.removeSubscription=function(s,f){if(this.subscriptions.has(s)){var l=this.subscriptions.get(s).subscription.options.type;return this.subscriptions.delete(s),void this.send({method:l+"_unsubscribe",params:[s]},f)}"function"==typeof f&&f(null)},d.prototype.clearSubscriptions=function(s){try{var f=this;return this.subscriptions.size>0&&this.subscriptions.forEach(function(l,v){(!s||"syncing"!==l.name)&&f.removeSubscription(v)}),this.provider.reset&&this.provider.reset(),!0}catch(l){throw new Error(`Error while clearing subscriptions: ${l}`)}},d.prototype._isCleanCloseEvent=function(s){return"object"==typeof s&&([1e3].includes(s.code)||!0===s.wasClean)},d.prototype._isIpcCloseError=function(s){return"boolean"==typeof s&&s},d.prototype._jsonrpcResultCallback=function(s,f){return function(l,v){return v&&v.id&&f.id!==v.id?s(new Error(`Wrong response id ${v.id} (expected: ${f.id}) in ${JSON.stringify(f)}`)):l?s(l):v&&v.error?s(x.ErrorResponse(v)):w.isValidResponse(v)?void s(null,v.result):s(x.InvalidResponse(v))}},Q.exports={Manager:d,BatchManager:M}},20028:Q=>{"use strict";var E={messageId:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),toPayload:function(p,g){if(!p)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(g)+'"!');return E.messageId===Number.MAX_SAFE_INTEGER?E.messageId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER):E.messageId++,{jsonrpc:"2.0",id:E.messageId,method:p,params:g||[]}},isValidResponse:function(p){return Array.isArray(p)?p.every(g):g(p);function g(x){return!(!x||x.error||"2.0"!==x.jsonrpc||"number"!=typeof x.id&&"string"!=typeof x.id||void 0===x.result)}},toBatchPayload:function(p){return p.map(function(g){return E.toPayload(g.method,g.params)})}};Q.exports=E},86052:(Q,E,p)=>{"use strict";var g=p(7656),x=function(M){this.name=M.name,this.type=M.type,this.subscriptions=M.subscriptions||{},this.requestManager=null};x.prototype.setRequestManager=function(w){this.requestManager=w},x.prototype.attachToObject=function(w){var M=this.buildCall(),i=this.name.split(".");i.length>1?(w[i[0]]=w[i[0]]||{},w[i[0]][i[1]]=M):w[i[0]]=M},x.prototype.buildCall=function(){var w=this;return function(){w.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var M=new g({subscription:w.subscriptions[arguments[0]]||{},requestManager:w.requestManager,type:w.type});return M.subscribe.apply(M,arguments)}},Q.exports={subscriptions:x,subscription:g}},7656:(Q,E,p)=>{"use strict";var g=p(7190).errors,x=p(48884),w=p(7190).formatters;function M(d){return d}function i(d){x.call(this),this.id=null,this.callback=M,this.arguments=null,this.lastBlock=null,this.options={subscription:d.subscription,type:d.type,requestManager:d.requestManager}}(i.prototype=Object.create(x.prototype)).constructor=i,i.prototype._extractCallback=function(d){if("function"==typeof d[d.length-1])return d.pop()},i.prototype._validateArgs=function(d){var s=this.options.subscription;if(s||(s={}),s.params||(s.params=0),d.length!==s.params)throw g.InvalidNumberOfParams(d.length,s.params,s.subscriptionName)},i.prototype._formatInput=function(d){var s=this.options.subscription;return s&&s.inputFormatter?s.inputFormatter.map(function(l,v){return l?l(d[v]):d[v]}):d},i.prototype._formatOutput=function(d){var s=this.options.subscription;return s&&s.outputFormatter&&d?s.outputFormatter(d):d},i.prototype._toPayload=function(d){var s=[];if(this.callback=this._extractCallback(d)||M,this.subscriptionMethod||(this.subscriptionMethod=d.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(d),this._validateArgs(this.arguments),d=[]),s.push(this.subscriptionMethod),s=s.concat(this.arguments),d.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:s}},i.prototype.unsubscribe=function(d){this.options.requestManager.removeSubscription(this.id,d),this.id=null,this.lastBlock=null,this.removeAllListeners()},i.prototype.subscribe=function(){var d=this,s=Array.prototype.slice.call(arguments),f=this._toPayload(s);if(!f)return this;if(!this.options.requestManager.provider)return setTimeout(function(){var v=new Error("No provider set.");d.callback(v,null,d),d.emit("error",v)},0),this;if(!this.options.requestManager.provider.on)return setTimeout(function(){var v=new Error("The current provider doesn't support subscriptions: "+d.options.requestManager.provider.constructor.name);d.callback(v,null,d),d.emit("error",v)},0),this;if(this.lastBlock&&!!this.options.params&&"object"==typeof this.options.params&&(f.params[1]=this.options.params,f.params[1].fromBlock=w.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=f.params[1],"logs"===f.params[0]&&f.params[1]&&"object"==typeof f.params[1]&&f.params[1].hasOwnProperty("fromBlock")&&isFinite(f.params[1].fromBlock)){var l=Object.assign({},f.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[l]},function(v,h){v?setTimeout(function(){d.callback(v,null,d),d.emit("error",v)},0):h.forEach(function(b){var P=d._formatOutput(b);d.callback(null,P,d),d.emit("data",P)})})}return"object"==typeof f.params[1]&&delete f.params[1].fromBlock,this.options.requestManager.send(f,function(v,h){!v&&h?(d.id=h,d.method=f.params[0],d.options.requestManager.addSubscription(d,function(b,P){b?(d.callback(b,!1,d),d.emit("error",b)):(Array.isArray(P)||(P=[P]),P.forEach(function(T){var D=d._formatOutput(T);if(d.lastBlock=D&&"object"==typeof D?D.blockNumber:null,"function"==typeof d.options.subscription.subscriptionHandler)return d.options.subscription.subscriptionHandler.call(d,D);d.emit("data",D),d.callback(null,D,d)}))}),d.emit("connected",h)):setTimeout(function(){d.callback(v,!1,d),d.emit("error",v)},0)}),this},i.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)},Q.exports=i},48884:Q=>{"use strict";var E=Object.prototype.hasOwnProperty,p="~";function g(){}function x(d,s,f){this.fn=d,this.context=s,this.once=f||!1}function w(d,s,f,l,v){if("function"!=typeof f)throw new TypeError("The listener must be a function");var h=new x(f,l||d,v),b=p?p+s:s;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],h]:d._events[b].push(h):(d._events[b]=h,d._eventsCount++),d}function M(d,s){0==--d._eventsCount?d._events=new g:delete d._events[s]}function i(){this._events=new g,this._eventsCount=0}Object.create&&(g.prototype=Object.create(null),(new g).__proto__||(p=!1)),i.prototype.eventNames=function(){var f,l,s=[];if(0===this._eventsCount)return s;for(l in f=this._events)E.call(f,l)&&s.push(p?l.slice(1):l);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},i.prototype.listeners=function(s){var l=this._events[p?p+s:s];if(!l)return[];if(l.fn)return[l.fn];for(var v=0,h=l.length,b=new Array(h);v<h;v++)b[v]=l[v].fn;return b},i.prototype.listenerCount=function(s){var l=this._events[p?p+s:s];return l?l.fn?1:l.length:0},i.prototype.emit=function(s,f,l,v,h,b){var P=p?p+s:s;if(!this._events[P])return!1;var F,C,T=this._events[P],D=arguments.length;if(T.fn){switch(T.once&&this.removeListener(s,T.fn,void 0,!0),D){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,l),!0;case 4:return T.fn.call(T.context,f,l,v),!0;case 5:return T.fn.call(T.context,f,l,v,h),!0;case 6:return T.fn.call(T.context,f,l,v,h,b),!0}for(C=1,F=new Array(D-1);C<D;C++)F[C-1]=arguments[C];T.fn.apply(T.context,F)}else{var L,_=T.length;for(C=0;C<_;C++)switch(T[C].once&&this.removeListener(s,T[C].fn,void 0,!0),D){case 1:T[C].fn.call(T[C].context);break;case 2:T[C].fn.call(T[C].context,f);break;case 3:T[C].fn.call(T[C].context,f,l);break;case 4:T[C].fn.call(T[C].context,f,l,v);break;default:if(!F)for(L=1,F=new Array(D-1);L<D;L++)F[L-1]=arguments[L];T[C].fn.apply(T[C].context,F)}}return!0},i.prototype.on=function(s,f,l){return w(this,s,f,l,!1)},i.prototype.once=function(s,f,l){return w(this,s,f,l,!0)},i.prototype.removeListener=function(s,f,l,v){var h=p?p+s:s;if(!this._events[h])return this;if(!f)return M(this,h),this;var b=this._events[h];if(b.fn)b.fn===f&&(!v||b.once)&&(!l||b.context===l)&&M(this,h);else{for(var P=0,T=[],D=b.length;P<D;P++)(b[P].fn!==f||v&&!b[P].once||l&&b[P].context!==l)&&T.push(b[P]);T.length?this._events[h]=1===T.length?T[0]:T:M(this,h)}return this},i.prototype.removeAllListeners=function(s){var f;return s?this._events[f=p?p+s:s]&&M(this,f):(this._events=new g,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=p,i.EventEmitter=i,Q.exports=i},82979:(Q,E,p)=>{"use strict";var g=p(7190).formatters,x=p(11819),w=p(21623);Q.exports=function(i){var d=function(s){var f;return s.property?(i[s.property]||(i[s.property]={}),f=i[s.property]):f=i,s.methods&&s.methods.forEach(function(l){l instanceof x||(l=new x(l)),l.attachToObject(f),l.setRequestManager(i._requestManager)}),i};return d.formatters=g,d.utils=w,d.Method=x,d}},28422:(Q,E,p)=>{const g=p(56663),x=p(82979);Q.exports={packageInit:(i,d)=>{if(d=Array.prototype.slice.call(d),!i)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(i,"currentProvider",{get:()=>i._provider,set:s=>i.setProvider(s),enumerable:!0,configurable:!0}),i._requestManager=d[0]&&d[0]._requestManager?d[0]._requestManager:new g.Manager(d[0],d[1]),i.givenProvider=g.Manager.givenProvider,i.providers=g.Manager.providers,i._provider=i._requestManager.provider,i.setProvider||(i.setProvider=(s,f)=>(i._requestManager.setProvider(s,f),i._provider=i._requestManager.provider,!0)),i.setRequestManager=s=>{i._requestManager=s,i._provider=s.provider},i.BatchRequest=g.BatchManager.bind(null,i._requestManager),i.extend=x(i)},addProviders:i=>{i.givenProvider=g.Manager.givenProvider,i.providers=g.Manager.providers}}},83978:(Q,E,p)=>{var g=p(3875).Buffer,x=p(21623),w=p(7910).AbiCoder,M=p(7910).ParamType,i=new w(function(l,v){return!l.match(/^u?int/)||Array.isArray(v)||v&&"object"==typeof v&&"BN"===v.constructor.name?v:v.toString()});function d(){}var s=function(){};s.prototype.encodeFunctionSignature=function(l){return("function"==typeof l||"object"==typeof l&&l)&&(l=x._jsonInterfaceMethodToString(l)),x.sha3(l).slice(0,10)},s.prototype.encodeEventSignature=function(l){return("function"==typeof l||"object"==typeof l&&l)&&(l=x._jsonInterfaceMethodToString(l)),x.sha3(l)},s.prototype.encodeParameter=function(l,v){return this.encodeParameters([l],[v])},s.prototype.encodeParameters=function(l,v){var h=this;return l=h.mapTypes(l),v=v.map(function(b,P){let T=l[P];if("object"==typeof T&&T.type&&(T=T.type),b=h.formatParam(T,b),"string"==typeof T&&T.includes("tuple")){const D=i._getCoder(M.from(T)),F=(C,_)=>{if("array"===C.name){if(!C.type.match(/\[(\d+)\]/))return _.map(I=>F(i._getCoder(M.from(C.type.replace("[]",""))),I));const L=parseInt(C.type.match(/\[(\d+)\]/)[1]);if(_.length!==L)throw new Error("Array length does not matches with the given input");return _.map(I=>F(i._getCoder(M.from(C.type.replace(/\[\d+\]/,""))),I))}C.coders.forEach((L,I)=>{"tuple"===L.name?F(L,_[I]):_[I]=h.formatParam(L.name,_[I])})};F(D,b)}return b}),i.encode(l,v)},s.prototype.mapTypes=function(l){var v=this,h=[];return l.forEach(function(b){if("object"==typeof b&&"function"===b.type&&(b=Object.assign({},b,{type:"bytes24"})),v.isSimplifiedStructFormat(b)){var P=Object.keys(b)[0];h.push(Object.assign(v.mapStructNameAndType(P),{components:v.mapStructToCoderFormat(b[P])}))}else h.push(b)}),h},s.prototype.isSimplifiedStructFormat=function(l){return"object"==typeof l&&typeof l.components>"u"&&typeof l.name>"u"},s.prototype.mapStructNameAndType=function(l){var v="tuple";return l.indexOf("[]")>-1&&(v="tuple[]",l=l.slice(0,-2)),{type:v,name:l}},s.prototype.mapStructToCoderFormat=function(l){var v=this,h=[];return Object.keys(l).forEach(function(b){h.push("object"!=typeof l[b]?{name:b,type:l[b]}:Object.assign(v.mapStructNameAndType(b),{components:v.mapStructToCoderFormat(l[b])}))}),h},s.prototype.formatParam=function(l,v){const h=new RegExp(/^bytes([0-9]*)$/),b=new RegExp(/^bytes([0-9]*)\[\]$/),P=new RegExp(/^(u?int)([0-9]*)$/),T=new RegExp(/^(u?int)([0-9]*)\[\]$/);if(x.isBN(v)||x.isBigNumber(v))return v.toString(10);if(l.match(b)||l.match(T))return v.map(F=>this.formatParam(l.replace("[]",""),F));let D=l.match(P);if(D){let F=parseInt(D[2]||"256");F/8<v.length&&(v=x.leftPad(v,F))}if(D=l.match(h),D){g.isBuffer(v)&&(v=x.toHex(v));let F=parseInt(D[1]);if(F){let C=2*F;"0x"===v.substring(0,2)&&(C+=2),v.length<C&&(v=x.rightPad(v,2*F))}v.length%2==1&&(v="0x0"+v.substring(2))}return v},s.prototype.encodeFunctionCall=function(l,v){return this.encodeFunctionSignature(l)+this.encodeParameters(l.inputs,v).replace("0x","")},s.prototype.decodeParameter=function(l,v){return this.decodeParameters([l],v)[0]},s.prototype.decodeParameters=function(l,v){return this.decodeParametersWith(l,v,!1)},s.prototype.decodeParametersWith=function(l,v,h){if(l.length>0&&(!v||"0x"===v||"0X"===v))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var b=i.decode(this.mapTypes(l),"0x"+v.replace(/0x/i,""),h),P=new d;return P.__length__=0,l.forEach(function(T,D){var F=b[P.__length__];P[D]=F="0x"!==F||"object"==typeof T&&T.type&&"string"===T.type||"string"==typeof T&&"string"===T?F:null,("function"==typeof T||!!T&&"object"==typeof T)&&T.name&&(P[T.name]=F),P.__length__++}),P},s.prototype.decodeLog=function(l,v,h){var b=this;h=Array.isArray(h)?h:[h],v=v||"";var P=[],T=[],D=0;l.forEach(function(L,I){L.indexed?(T[I]=["bool","int","uint","address","fixed","ufixed"].find(function(G){return-1!==L.type.indexOf(G)})?b.decodeParameter(L.type,h[D]):h[D],D++):P[I]=L});var C=v?this.decodeParametersWith(P,v,!0):[],_=new d;return _.__length__=0,l.forEach(function(L,I){_[I]="string"===L.type?"":null,typeof C[I]<"u"&&(_[I]=C[I]),typeof T[I]<"u"&&(_[I]=T[I]),L.name&&(_[L.name]=_[I]),_.__length__++}),_};var f=new s;Q.exports=f},41268:(Q,E,p)=>{"use strict";var g=p(28422),x=p(11819),w=p(21623),M=p(86052).subscription,i=p(7190).formatters,d=p(7190).errors,s=p(38773),f=p(83978),l=function v(h,b,P){var T=this,D=Array.prototype.slice.call(arguments);if(!(this instanceof v))throw new Error('Please use the "new" keyword to instantiate a web3.eth.Contract() object!');if(this.setProvider=function(){g.packageInit(T,arguments),T.clearSubscriptions=T._requestManager.clearSubscriptions},g.packageInit(this,[this.constructor]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!h||!Array.isArray(h))throw d.ContractMissingABIError();this.options={};var F=D[D.length-1];!!F&&"object"==typeof F&&!Array.isArray(F)&&(this.options={...this.options,...this._getOrSetDefaultOptions(P=F)},!!b&&"object"==typeof b&&(b=null)),Object.defineProperty(this.options,"address",{set:function(L){L&&(T._address=w.toChecksumAddress(i.inputAddressFormatter(L)))},get:function(){return T._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(L){return T.methods={},T.events={},T._jsonInterface=L.map(function(I){var G,O;if(I.constant="view"===I.stateMutability||"pure"===I.stateMutability||I.constant,I.payable="payable"===I.stateMutability||I.payable,I.name&&(O=w._jsonInterfaceMethodToString(I)),"function"===I.type){if(I.signature=f.encodeFunctionSignature(O),G=T._createTxObject.bind({method:I,parent:T}),T.methods[I.name]){var Z=T._createTxObject.bind({method:I,parent:T,nextMethod:T.methods[I.name]});T.methods[I.name]=Z}else T.methods[I.name]=G;T.methods[I.signature]=G,T.methods[O]=G}else if("event"===I.type){I.signature=f.encodeEventSignature(O);var N=T._on.bind(T,I.signature);(!T.events[I.name]||"bound "===T.events[I.name].name)&&(T.events[I.name]=N),T.events[I.signature]=N,T.events[O]=N}return I}),T.events.allEvents=T._on.bind(T,"allevents"),T._jsonInterface},get:function(){return T._jsonInterface},enumerable:!0});var C=this.constructor.defaultAccount,_=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"handleRevert",{get:function(){return!1===T.options.handleRevert||!0===T.options.handleRevert?T.options.handleRevert:this.constructor.handleRevert},set:function(L){T.options.handleRevert=L},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return T.options.common||this.constructor.defaultCommon},set:function(L){T.options.common=L},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return T.options.hardfork||this.constructor.defaultHardfork},set:function(L){T.options.hardfork=L},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return T.options.chain||this.constructor.defaultChain},set:function(L){T.options.chain=L},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return 0===T.options.transactionPollingTimeout?T.options.transactionPollingTimeout:T.options.transactionPollingTimeout||this.constructor.transactionPollingTimeout},set:function(L){T.options.transactionPollingTimeout=L},enumerable:!0}),Object.defineProperty(this,"transactionPollingInterval",{get:function(){return 0===T.options.transactionPollingInterval?T.options.transactionPollingInterval:T.options.transactionPollingInterval||this.constructor.transactionPollingInterval},set:function(L){T.options.transactionPollingInterval=L},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return 0===T.options.transactionConfirmationBlocks?T.options.transactionConfirmationBlocks:T.options.transactionConfirmationBlocks||this.constructor.transactionConfirmationBlocks},set:function(L){T.options.transactionConfirmationBlocks=L},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return 0===T.options.transactionBlockTimeout?T.options.transactionBlockTimeout:T.options.transactionBlockTimeout||this.constructor.transactionBlockTimeout},set:function(L){T.options.transactionBlockTimeout=L},enumerable:!0}),Object.defineProperty(this,"blockHeaderTimeout",{get:function(){return 0===T.options.blockHeaderTimeout?T.options.blockHeaderTimeout:T.options.blockHeaderTimeout||this.constructor.blockHeaderTimeout},set:function(L){T.options.blockHeaderTimeout=L},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return C},set:function(L){return L&&(C=w.toChecksumAddress(i.inputAddressFormatter(L))),L},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return _},set:function(L){return _=L,L},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=b,this.options.jsonInterface=h};l.setProvider=function(v,h){g.packageInit(this,[v]),this._ethAccounts=h},l.prototype._getCallback=function(h){if(h&&h[h.length-1]&&"function"==typeof h[h.length-1])return h.pop()},l.prototype._checkListener=function(v,h){if(h===v)throw d.ContractReservedEventError(v)},l.prototype._getOrSetDefaultOptions=function(h){var b={...h},P=b.gasPrice?String(b.gasPrice):null,T=b.from?w.toChecksumAddress(i.inputAddressFormatter(b.from)):null;return b.data=b.data||this.options.data,b.from=T||this.options.from,b.gasPrice=P||this.options.gasPrice,b.gas=b.gas||b.gasLimit||this.options.gas,delete b.gasLimit,b},l.prototype._encodeEventABI=function(v,h){var b=(h=h||{}).filter||{},P={};if(["fromBlock","toBlock"].filter(function(D){return void 0!==h[D]}).forEach(function(D){P[D]=i.inputBlockNumberFormatter(h[D])}),Array.isArray(h.topics))P.topics=h.topics;else{if(P.topics=[],v&&!v.anonymous&&"ALLEVENTS"!==v.name&&P.topics.push(v.signature),"ALLEVENTS"!==v.name){var T=v.inputs.filter(function(D){return!0===D.indexed}).map(function(D){var F=b[D.name];return F?Array.isArray(F)?F.map(function(C){return f.encodeParameter(D.type,C)}):f.encodeParameter(D.type,F):null});P.topics=P.topics.concat(T)}P.topics.length||delete P.topics}return this.options.address&&(P.address=this.options.address.toLowerCase()),P},l.prototype._decodeEventABI=function(v){var h=this;v.data=v.data||"",v.topics=v.topics||[];var b=i.outputLogFormatter(v);if("ALLEVENTS"===h.name&&(h=h.jsonInterface.find(function(T){return T.signature===v.topics[0]})||{anonymous:!0}),h.inputs=h.inputs||[],!h.anonymous){let T=0;h.inputs.forEach(D=>D.indexed?T++:null),T>0&&v.topics.length!==T+1&&(h={anonymous:!0,inputs:[]})}var P=h.anonymous?v.topics:v.topics.slice(1);return b.returnValues=f.decodeLog(h.inputs,v.data,P),delete b.returnValues.__length__,b.event=h.name,b.signature=h.anonymous||!v.topics[0]?null:v.topics[0],b.raw={data:b.data,topics:b.topics},delete b.data,delete b.topics,b},l.prototype._encodeMethodABI=function(){var h=this._method.signature,b=this.arguments||[],P=!1,T=this._parent.options.jsonInterface.filter(function(F){return"constructor"===h&&F.type===h||(F.signature===h||F.signature===h.replace("0x","")||F.name===h)&&"function"===F.type}).map(function(F){var C=Array.isArray(F.inputs)?F.inputs.length:0;if(C!==b.length)throw new Error("The number of arguments is not matching the methods required number. You need to pass "+C+" arguments.");return"function"===F.type&&(P=F.signature),Array.isArray(F.inputs)?F.inputs:[]}).map(function(F){return f.encodeParameters(F,b).replace("0x","")})[0]||"";if("constructor"===h){if(!this._deployData)throw new Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData.startsWith("0x")||(this._deployData="0x"+this._deployData),this._deployData+T}var D=P?P+T:T;if(!D)throw new Error("Couldn't find a matching contract method named \""+this._method.name+'".');return D},l.prototype._decodeMethodReturn=function(v,h){if(!h)return null;h=h.length>=2?h.slice(2):h;var b=f.decodeParameters(v,h);return 1===b.__length__?b[0]:(delete b.__length__,b)},l.prototype.deploy=function(v,h){if((v=v||{}).arguments=v.arguments||[],!(v=this._getOrSetDefaultOptions(v)).data){if("function"==typeof h)return h(d.ContractMissingDeployDataError());throw d.ContractMissingDeployDataError()}var b=this.options.jsonInterface.find(P=>"constructor"===P.type)||{};return b.signature="constructor",this._createTxObject.apply({method:b,parent:this,deployData:v.data,_ethAccounts:this.constructor._ethAccounts},v.arguments)},l.prototype._generateEventOptions=function(){var v=Array.prototype.slice.call(arguments),h=this._getCallback(v),b="object"===(!!v[v.length-1]&&typeof v[v.length-1])?v.pop():{},P="string"==typeof v[0]?v[0]:"allevents",T="allevents"===P.toLowerCase()?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find(function(D){return"event"===D.type&&(D.name===P||D.signature==="0x"+P.replace("0x",""))});if(!T)throw d.ContractEventDoesNotExistError(P);if(!w.isAddress(this.options.address))throw d.ContractNoAddressDefinedError();return{params:this._encodeEventABI(T,b),event:T,callback:h}},l.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)},l.prototype.once=function(v,h,b){var P=Array.prototype.slice.call(arguments);if(!(b=this._getCallback(P)))throw d.ContractOnceRequiresCallbackError();h&&delete h.fromBlock,this._on(v,h,function(T,D,F){F.unsubscribe(),"function"==typeof b&&b(T,D,F)})},l.prototype._on=function(){var v=this._generateEventOptions.apply(this,arguments);v.params&&v.params.toBlock&&(delete v.params.toBlock,console.warn("Invalid option: toBlock. Use getPastEvents for specific range.")),this._checkListener("newListener",v.event.name),this._checkListener("removeListener",v.event.name);var h=new M({subscription:{params:1,inputFormatter:[i.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(v.event),subscriptionHandler:function(b){this.emit(b.removed?"changed":"data",b),"function"==typeof this.callback&&this.callback(null,b,this)}},type:"eth",requestManager:this._requestManager});return h.subscribe("logs",v.params,v.callback||function(){}),h},l.prototype.getPastEvents=function(){var v=this._generateEventOptions.apply(this,arguments),h=new x({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[i.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(v.event)});h.setRequestManager(this._requestManager);var b=h.buildCall();return h=null,b(v.params,v.callback)},l.prototype._createTxObject=function(){var h=Array.prototype.slice.call(arguments),b={};if("function"===this.method.type&&(b.call=this.parent._executeMethod.bind(b,"call"),b.call.request=this.parent._executeMethod.bind(b,"call",!0)),b.send=this.parent._executeMethod.bind(b,"send"),b.send.request=this.parent._executeMethod.bind(b,"send",!0),b.encodeABI=this.parent._encodeMethodABI.bind(b),b.estimateGas=this.parent._executeMethod.bind(b,"estimate"),b.createAccessList=this.parent._executeMethod.bind(b,"createAccessList"),h&&this.method.inputs&&h.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,h);throw d.InvalidNumberOfParams(h.length,this.method.inputs.length,this.method.name)}return b.arguments=h||[],b._method=this.method,b._parent=this.parent,b._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(b._deployData=this.deployData),b},l.prototype._processExecuteArguments=function(h,b){var P={};if(P.type=h.shift(),P.callback=this._parent._getCallback(h),"call"===P.type&&!0!==h[h.length-1]&&("string"==typeof h[h.length-1]||isFinite(h[h.length-1]))&&(P.defaultBlock=h.pop()),P.options="object"===(!!h[h.length-1]&&typeof h[h.length-1])?h.pop():{},P.generateRequest=!0===h[h.length-1]&&h.pop(),P.options=this._parent._getOrSetDefaultOptions(P.options),P.options.data=this.encodeABI(),!this._deployData&&!w.isAddress(this._parent.options.address))throw d.ContractNoAddressDefinedError();return this._deployData||(P.options.to=this._parent.options.address),P.options.data?P:w._fireError(new Error("Couldn't find a matching contract method, or the number of parameters is wrong."),b.eventEmitter,b.reject,P.callback)},l.prototype._executeMethod=function(){var h=this,b=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),P),P=s("send"!==b.type),T=h.constructor._ethAccounts||h._ethAccounts;if(b.generateRequest){var D={params:[i.inputCallFormatter.call(this._parent,b.options)],callback:b.callback};return"call"===b.type?(D.params.push(i.inputDefaultBlockNumberFormatter.call(this._parent,b.defaultBlock)),D.method="eth_call",D.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):D.method="eth_sendTransaction",D}switch(b.type){case"createAccessList":if(!w.isAddress(b.options.from))return w._fireError(d.ContractNoFromAddressDefinedError(),P.eventEmitter,P.reject,b.callback);var F=new x({name:"createAccessList",call:"eth_createAccessList",params:2,inputFormatter:[i.inputTransactionFormatter,i.inputDefaultBlockNumberFormatter],requestManager:h._parent._requestManager,accounts:T,defaultAccount:h._parent.defaultAccount,defaultBlock:h._parent.defaultBlock}).createFunction();return F(b.options,b.callback);case"estimate":var C=new x({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[i.inputCallFormatter],outputFormatter:w.hexToNumber,requestManager:h._parent._requestManager,accounts:T,defaultAccount:h._parent.defaultAccount,defaultBlock:h._parent.defaultBlock}).createFunction();return C(b.options,b.callback);case"call":var _=new x({name:"call",call:"eth_call",params:2,inputFormatter:[i.inputCallFormatter,i.inputDefaultBlockNumberFormatter],outputFormatter:function(G){return h._parent._decodeMethodReturn(h._method.outputs,G)},requestManager:h._parent._requestManager,accounts:T,defaultAccount:h._parent.defaultAccount,defaultBlock:h._parent.defaultBlock,handleRevert:h._parent.handleRevert,abiCoder:f}).createFunction();return _(b.options,b.defaultBlock,b.callback);case"send":if(!w.isAddress(b.options.from))return w._fireError(d.ContractNoFromAddressDefinedError(),P.eventEmitter,P.reject,b.callback);if("boolean"==typeof this._method.payable&&!this._method.payable&&b.options.value&&b.options.value>0)return w._fireError(new Error("Can not send value to non-payable contract method or constructor"),P.eventEmitter,P.reject,b.callback);var L={receiptFormatter:function(G){if(Array.isArray(G.logs)){var O=G.logs.map(N=>h._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:h._parent.options.jsonInterface},N));G.events={};var Z=0;O.forEach(function(N){N.event?G.events[N.event]?Array.isArray(G.events[N.event])?G.events[N.event].push(N):G.events[N.event]=[G.events[N.event],N]:G.events[N.event]=N:(G.events[Z]=N,Z++)}),delete G.logs}return G},contractDeployFormatter:function(G){var O=h._parent.clone();return O.options.address=G.contractAddress,O}},I=new x({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[i.inputTransactionFormatter],requestManager:h._parent._requestManager,accounts:h.constructor._ethAccounts||h._ethAccounts,defaultAccount:h._parent.defaultAccount,defaultBlock:h._parent.defaultBlock,transactionBlockTimeout:h._parent.transactionBlockTimeout,transactionConfirmationBlocks:h._parent.transactionConfirmationBlocks,transactionPollingTimeout:h._parent.transactionPollingTimeout,transactionPollingInterval:h._parent.transactionPollingInterval,defaultCommon:h._parent.defaultCommon,defaultChain:h._parent.defaultChain,defaultHardfork:h._parent.defaultHardfork,handleRevert:h._parent.handleRevert,extraFormatters:L,abiCoder:f}).createFunction();return I(b.options,b.callback);default:throw new Error('Method "'+b.type+'" not implemented.')}},Q.exports=l},37137:(Q,E,p)=>{"use strict";const g=p(21623),x=p(62630),M=function(s){const f="A".charCodeAt(0),l="Z".charCodeAt(0);return(s=(s=s.toUpperCase()).slice(4)+s.slice(0,4)).split("").map(function(v){const h=v.charCodeAt(0);return h>=f&&h<=l?h-f+10:v}).join("")},i=function(s){let l,f=s;for(;f.length>2;)l=f.slice(0,9),f=parseInt(l,10)%97+f.slice(l.length);return parseInt(f,10)%97};class d{constructor(f){this._iban=f}static toAddress(f){if(!(f=new d(f)).isDirect())throw new Error("IBAN is indirect and can't be converted");return f.toAddress()}static toIban(f){return d.fromAddress(f).toString()}static fromAddress(f){if(!g.isAddress(f))throw new Error("Provided address is not a valid address: "+f);f=f.replace("0x","").replace("0X","");const h=function(s,f){let l=s;for(;l.length<30;)l="0"+l;return l}(new x(f,16).toString(36));return d.fromBban(h.toUpperCase())}static fromBban(f){const h=("0"+(98-i(M("XE00"+f)))).slice(-2);return new d("XE"+h+f)}static createIndirect(f){return d.fromBban("ETH"+f.institution+f.identifier)}static isValid(f){return new d(f).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===i(M(this._iban))}isDirect(){return 34===this._iban.length||35===this._iban.length}isIndirect(){return 20===this._iban.length}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const f=this._iban.slice(4),l=new x(f,36);return g.toChecksumAddress(l.toString(16,20))}return""}toString(){return this._iban}}Q.exports=d},51231:(Q,E,p)=>{var g=p(7190).errors,x=p(12703),w=p(54557);p(75221),p(43021).polyfill(),p(87027);var M=function(d,s){this.withCredentials=(s=s||{}).withCredentials,this.timeout=s.timeout||0,this.headers=s.headers,this.agent=s.agent,this.connected=!1;const f=!1!==s.keepAlive;this.host=d||"http://localhost:8545",this.agent||("https"===this.host.substring(0,5)?this.httpsAgent=new w.Agent({keepAlive:f}):this.httpAgent=new x.Agent({keepAlive:f}))};M.prototype.send=function(i,d){var l,s={method:"POST",body:JSON.stringify(i)},f={};if(typeof AbortController<"u"?l=new AbortController:typeof window<"u"&&typeof window.AbortController<"u"&&(l=new window.AbortController),typeof l<"u"&&(s.signal=l.signal),typeof XMLHttpRequest>"u"){var v={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent};this.agent&&(v.httpsAgent=this.agent.https,v.httpAgent=this.agent.http),s.agent="https"===this.host.substring(0,5)?v.httpsAgent:v.httpAgent}this.headers&&this.headers.forEach(function(P){f[P.name]=P.value}),f["Content-Type"]||(f["Content-Type"]="application/json"),s.credentials=this.withCredentials?"include":"omit",s.headers=f,this.timeout>0&&typeof l<"u"&&(this.timeoutId=setTimeout(function(){l.abort()},this.timeout)),fetch(this.host,s).then(function(P){void 0!==this.timeoutId&&clearTimeout(this.timeoutId),P.json().then(function(T){d(null,T)}).catch(function(T){d(g.InvalidResponse(P))})}.bind(this)).catch(function(P){void 0!==this.timeoutId&&clearTimeout(this.timeoutId),"AbortError"===P.name&&d(g.ConnectionTimeout(this.timeout)),d(g.InvalidConnection(this.host))}.bind(this))},M.prototype.disconnect=function(){},M.prototype.supportsSubscriptions=function(){return!1},Q.exports=M},75221:function(){var Q;Q=typeof self<"u"?self:this,function(p){var g_searchParams="URLSearchParams"in Q,g_iterable="Symbol"in Q&&"iterator"in Symbol,g_blob="FileReader"in Q&&"Blob"in Q&&function(){try{return new Blob,!0}catch{return!1}}(),g_formData="FormData"in Q,g_arrayBuffer="ArrayBuffer"in Q;if(g_arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],M=ArrayBuffer.isView||function(N){return N&&w.indexOf(Object.prototype.toString.call(N))>-1};function i(N){if("string"!=typeof N&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function d(N){return"string"!=typeof N&&(N=String(N)),N}function s(N){var X={next:function(){var u=N.shift();return{done:void 0===u,value:u}}};return g_iterable&&(X[Symbol.iterator]=function(){return X}),X}function f(N){this.map={},N instanceof f?N.forEach(function(X,u){this.append(u,X)},this):Array.isArray(N)?N.forEach(function(X){this.append(X[0],X[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(X){this.append(X,N[X])},this)}function l(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function v(N){return new Promise(function(X,u){N.onload=function(){X(N.result)},N.onerror=function(){u(N.error)}})}function h(N){var X=new FileReader,u=v(X);return X.readAsArrayBuffer(N),u}function T(N){if(N.slice)return N.slice(0);var X=new Uint8Array(N.byteLength);return X.set(new Uint8Array(N)),X.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(N){this._bodyInit=N,N?"string"==typeof N?this._bodyText=N:g_blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:g_formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:g_searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():g_arrayBuffer&&g_blob&&function x(N){return N&&DataView.prototype.isPrototypeOf(N)}(N)?(this._bodyArrayBuffer=T(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):g_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||M(N))?this._bodyArrayBuffer=T(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||("string"==typeof N?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g_searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g_blob&&(this.blob=function(){var N=l(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var N=l(this);if(N)return N;if(this._bodyBlob)return function b(N){var X=new FileReader,u=v(X);return X.readAsText(N),u}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function P(N){for(var X=new Uint8Array(N),u=new Array(X.length),t=0;t<X.length;t++)u[t]=String.fromCharCode(X[t]);return u.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g_formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(N,X){N=i(N),X=d(X);var u=this.map[N];this.map[N]=u?u+", "+X:X},f.prototype.delete=function(N){delete this.map[i(N)]},f.prototype.get=function(N){return N=i(N),this.has(N)?this.map[N]:null},f.prototype.has=function(N){return this.map.hasOwnProperty(i(N))},f.prototype.set=function(N,X){this.map[i(N)]=d(X)},f.prototype.forEach=function(N,X){for(var u in this.map)this.map.hasOwnProperty(u)&&N.call(X,this.map[u],u,this)},f.prototype.keys=function(){var N=[];return this.forEach(function(X,u){N.push(u)}),s(N)},f.prototype.values=function(){var N=[];return this.forEach(function(X){N.push(X)}),s(N)},f.prototype.entries=function(){var N=[];return this.forEach(function(X,u){N.push([u,X])}),s(N)},g_iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(N,X){var u=(X=X||{}).body;if(N instanceof _){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,X.headers||(this.headers=new f(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!u&&null!=N._bodyInit&&(u=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=X.credentials||this.credentials||"same-origin",(X.headers||!this.headers)&&(this.headers=new f(X.headers)),this.method=function C(N){var X=N.toUpperCase();return F.indexOf(X)>-1?X:N}(X.method||this.method||"GET"),this.mode=X.mode||this.mode||null,this.signal=X.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&u)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(u)}function L(N){var X=new FormData;return N.trim().split("&").forEach(function(u){if(u){var t=u.split("="),r=t.shift().replace(/\+/g," "),o=t.join("=").replace(/\+/g," ");X.append(decodeURIComponent(r),decodeURIComponent(o))}}),X}function I(N){var X=new f;return N.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),o=r.shift().trim();if(o){var a=r.join(":").trim();X.append(o,a)}}),X}function G(N,X){X||(X={}),this.type="default",this.status=void 0===X.status?200:X.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in X?X.statusText:"OK",this.headers=new f(X.headers),this.url=X.url||"",this._initBody(N)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},D.call(_.prototype),D.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},G.error=function(){var N=new G(null,{status:0,statusText:""});return N.type="error",N};var O=[301,302,303,307,308];G.redirect=function(N,X){if(-1===O.indexOf(X))throw new RangeError("Invalid status code");return new G(null,{status:X,headers:{location:N}})},p.DOMException=Q.DOMException;try{new p.DOMException}catch{p.DOMException=function(X,u){this.message=X,this.name=u;var t=Error(X);this.stack=t.stack},p.DOMException.prototype=Object.create(Error.prototype),p.DOMException.prototype.constructor=p.DOMException}function Z(N,X){return new Promise(function(u,t){var r=new _(N,X);if(r.signal&&r.signal.aborted)return t(new p.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var m={status:o.status,statusText:o.statusText,headers:I(o.getAllResponseHeaders()||"")};m.url="responseURL"in o?o.responseURL:m.headers.get("X-Request-URL"),u(new G("response"in o?o.response:o.responseText,m))},o.onerror=function(){t(new TypeError("Network request failed"))},o.ontimeout=function(){t(new TypeError("Network request failed"))},o.onabort=function(){t(new p.DOMException("Aborted","AbortError"))},o.open(r.method,r.url,!0),"include"===r.credentials?o.withCredentials=!0:"omit"===r.credentials&&(o.withCredentials=!1),"responseType"in o&&g_blob&&(o.responseType="blob"),r.headers.forEach(function(m,S){o.setRequestHeader(S,m)}),r.signal&&(r.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&r.signal.removeEventListener("abort",a)}),o.send(typeof r._bodyInit>"u"?null:r._bodyInit)})}Z.polyfill=!0,Q.fetch||(Q.fetch=Z,Q.Headers=f,Q.Request=_,Q.Response=G),p.Headers=f,p.Request=_,p.Response=G,p.fetch=Z,Object.defineProperty(p,"__esModule",{value:!0})}({})},80395:(Q,E,p)=>{"use strict";var g=p(7190).errors,x=p(71593),w=function(i,d){var s=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=i,this.connected=!1,this.connection=d.connect({path:this.path}),this.addDefaultEvents();var f=function(l){var v=null;Array.isArray(l)?l.forEach(function(h){s.responseCallbacks[h.id]&&(v=h.id)}):v=l.id,v||-1===l.method.indexOf("_subscription")?s.responseCallbacks[v]&&(s.responseCallbacks[v](null,l),delete s.responseCallbacks[v]):s.notificationCallbacks.forEach(function(h){"function"==typeof h&&h(l)})};"Socket"===d.constructor.name?x(this.connection).done(f):this.connection.on("data",function(l){s._parseResponse(l.toString()).forEach(f)})};w.prototype.addDefaultEvents=function(){var M=this;this.connection.on("connect",function(){M.connected=!0}),this.connection.on("close",function(){M.connected=!1}),this.connection.on("error",function(){M._timeout()}),this.connection.on("end",function(){M._timeout()}),this.connection.on("timeout",function(){M._timeout()})},w.prototype._parseResponse=function(M){var i=this,d=[];return M.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(f){i.lastChunk&&(f=i.lastChunk+f);var l=null;try{l=JSON.parse(f)}catch{return i.lastChunk=f,clearTimeout(i.lastChunkTimeout),void(i.lastChunkTimeout=setTimeout(function(){throw i._timeout(),g.InvalidResponse(f)},15e3))}clearTimeout(i.lastChunkTimeout),i.lastChunk=null,l&&d.push(l)}),d},w.prototype._addResponseCallback=function(M,i){var d=M.id||M[0].id,s=M.method||M[0].method;this.responseCallbacks[d]=i,this.responseCallbacks[d].method=s},w.prototype._timeout=function(){for(var M in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(M)&&(this.responseCallbacks[M](g.InvalidConnection("on IPC")),delete this.responseCallbacks[M])},w.prototype.reconnect=function(){this.connection.connect({path:this.path})},w.prototype.send=function(M,i){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(M)),this._addResponseCallback(M,i)},w.prototype.on=function(M,i){if("function"!=typeof i)throw new Error("The second parameter callback must be a function.");"data"===M?this.notificationCallbacks.push(i):this.connection.on(M,i)},w.prototype.once=function(M,i){if("function"!=typeof i)throw new Error("The second parameter callback must be a function.");this.connection.once(M,i)},w.prototype.removeListener=function(M,i){var d=this;"data"===M?this.notificationCallbacks.forEach(function(s,f){s===i&&d.notificationCallbacks.splice(f,1)}):this.connection.removeListener(M,i)},w.prototype.removeAllListeners=function(M){"data"===M?this.notificationCallbacks=[]:this.connection.removeAllListeners(M)},w.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()},w.prototype.supportsSubscriptions=function(){return!0},Q.exports=w},88151:(Q,E,p)=>{var g="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0),x=typeof navigator<"u"&&"ReactNative"===navigator.product,w=null,M=null;if(g||x){w=function(s){return Buffer.from(s).toString("base64")};var i=p(38505);if(i.URL){var d=i.URL;M=function(s){return new d(s)}}else M=p(38505).parse}else w=btoa.bind("object"==typeof globalThis?globalThis:self),M=function(s){return new URL(s)};Q.exports={parseURL:M,btoa:w}},83204:(Q,E,p)=>{"use strict";var g=p(4167),x=p(88151),w=p(7190).errors,M=p(66033).w3cwebsocket,i=function(s,f){g.call(this),f=f||{},this.url=s,this._customTimeout=f.timeout||15e3,this.headers=f.headers||{},this.protocol=f.protocol||void 0,this.reconnectOptions=Object.assign({auto:!1,delay:5e3,maxAttempts:!1,onTimeout:!1},f.reconnect),this.clientConfig=f.clientConfig||void 0,this.requestOptions=f.requestOptions||void 0,this.DATA="data",this.CLOSE="close",this.ERROR="error",this.CONNECT="connect",this.RECONNECT="reconnect",this.connection=null,this.requestQueue=new Map,this.responseQueue=new Map,this.reconnectAttempts=0,this.reconnecting=!1;var l=x.parseURL(s);l.username&&l.password&&(this.headers.authorization="Basic "+x.btoa(l.username+":"+l.password)),l.auth&&(this.headers.authorization="Basic "+x.btoa(l.auth)),Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0}),this.connect()};(i.prototype=Object.create(g.prototype)).constructor=i,i.prototype.connect=function(){this.connection=new M(this.url,this.protocol,void 0,this.headers,this.requestOptions,this.clientConfig),this._addSocketListeners()},i.prototype._onMessage=function(d){var s=this;this._parseResponse("string"==typeof d.data?d.data:"").forEach(function(f){if(f.method&&-1!==f.method.indexOf("_subscription"))s.emit(s.DATA,f);else{var l=f.id;Array.isArray(f)&&(l=f[0].id),s.responseQueue.has(l)&&(void 0!==s.responseQueue.get(l).callback&&s.responseQueue.get(l).callback(!1,f),s.responseQueue.delete(l))}})},i.prototype._onConnect=function(){if(this.emit(this.CONNECT),this.reconnectAttempts=0,this.reconnecting=!1,this.requestQueue.size>0){var d=this;this.requestQueue.forEach(function(s,f){d.send(s.payload,s.callback),d.requestQueue.delete(f)})}},i.prototype._onClose=function(d){var s=this;!this.reconnectOptions.auto||[1e3,1001].includes(d.code)&&!1!==d.wasClean?(this.emit(this.CLOSE,d),this.requestQueue.size>0&&this.requestQueue.forEach(function(f,l){f.callback(w.ConnectionNotOpenError(d)),s.requestQueue.delete(l)}),this.responseQueue.size>0&&this.responseQueue.forEach(function(f,l){f.callback(w.InvalidConnection("on WS",d)),s.responseQueue.delete(l)}),this._removeSocketListeners(),this.removeAllListeners()):this.reconnect()},i.prototype._addSocketListeners=function(){this.connection.addEventListener("message",this._onMessage.bind(this)),this.connection.addEventListener("open",this._onConnect.bind(this)),this.connection.addEventListener("close",this._onClose.bind(this))},i.prototype._removeSocketListeners=function(){this.connection.removeEventListener("message",this._onMessage),this.connection.removeEventListener("open",this._onConnect),this.connection.removeEventListener("close",this._onClose)},i.prototype._parseResponse=function(d){var s=this,f=[];return d.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(v){s.lastChunk&&(v=s.lastChunk+v);var h=null;try{h=JSON.parse(v)}catch{return s.lastChunk=v,clearTimeout(s.lastChunkTimeout),void(s.lastChunkTimeout=setTimeout(function(){s.reconnectOptions.auto&&s.reconnectOptions.onTimeout?s.reconnect():(s.emit(s.ERROR,w.ConnectionTimeout(s._customTimeout)),s.requestQueue.size>0&&s.requestQueue.forEach(function(P,T){P.callback(w.ConnectionTimeout(s._customTimeout)),s.requestQueue.delete(T)}))},s._customTimeout))}clearTimeout(s.lastChunkTimeout),s.lastChunk=null,h&&f.push(h)}),f},i.prototype.send=function(d,s){var l=d.id,v={payload:d,callback:s};if(Array.isArray(d)&&(l=d[0].id),this.connection.readyState===this.connection.CONNECTING||this.reconnecting)this.requestQueue.set(l,v);else{if(this.connection.readyState!==this.connection.OPEN)return this.requestQueue.delete(l),this.emit(this.ERROR,w.ConnectionNotOpenError()),void v.callback(w.ConnectionNotOpenError());this.responseQueue.set(l,v),this.requestQueue.delete(l);try{this.connection.send(JSON.stringify(v.payload))}catch(h){v.callback(h),this.responseQueue.delete(l)}}},i.prototype.reset=function(){this.responseQueue.clear(),this.requestQueue.clear(),this.removeAllListeners(),this._removeSocketListeners(),this._addSocketListeners()},i.prototype.disconnect=function(d,s){this._removeSocketListeners(),this.connection.close(d||1e3,s)},i.prototype.supportsSubscriptions=function(){return!0},i.prototype.reconnect=function(){var d=this;this.reconnecting=!0,this.responseQueue.size>0&&this.responseQueue.forEach(function(s,f){s.callback(w.PendingRequestsOnReconnectingError()),d.responseQueue.delete(f)}),!this.reconnectOptions.maxAttempts||this.reconnectAttempts<this.reconnectOptions.maxAttempts?setTimeout(function(){d.reconnectAttempts++,d._removeSocketListeners(),d.emit(d.RECONNECT,d.reconnectAttempts),d.connect()},this.reconnectOptions.delay):(this.emit(this.ERROR,w.MaxAttemptsReachedOnReconnectingError()),this.reconnecting=!1,this.requestQueue.size>0&&this.requestQueue.forEach(function(s,f){s.callback(w.MaxAttemptsReachedOnReconnectingError()),d.requestQueue.delete(f)}))},Q.exports=i},4167:Q=>{"use strict";var E=Object.prototype.hasOwnProperty,p="~";function g(){}function x(d,s,f){this.fn=d,this.context=s,this.once=f||!1}function w(d,s,f,l,v){if("function"!=typeof f)throw new TypeError("The listener must be a function");var h=new x(f,l||d,v),b=p?p+s:s;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],h]:d._events[b].push(h):(d._events[b]=h,d._eventsCount++),d}function M(d,s){0==--d._eventsCount?d._events=new g:delete d._events[s]}function i(){this._events=new g,this._eventsCount=0}Object.create&&(g.prototype=Object.create(null),(new g).__proto__||(p=!1)),i.prototype.eventNames=function(){var f,l,s=[];if(0===this._eventsCount)return s;for(l in f=this._events)E.call(f,l)&&s.push(p?l.slice(1):l);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},i.prototype.listeners=function(s){var l=this._events[p?p+s:s];if(!l)return[];if(l.fn)return[l.fn];for(var v=0,h=l.length,b=new Array(h);v<h;v++)b[v]=l[v].fn;return b},i.prototype.listenerCount=function(s){var l=this._events[p?p+s:s];return l?l.fn?1:l.length:0},i.prototype.emit=function(s,f,l,v,h,b){var P=p?p+s:s;if(!this._events[P])return!1;var F,C,T=this._events[P],D=arguments.length;if(T.fn){switch(T.once&&this.removeListener(s,T.fn,void 0,!0),D){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,l),!0;case 4:return T.fn.call(T.context,f,l,v),!0;case 5:return T.fn.call(T.context,f,l,v,h),!0;case 6:return T.fn.call(T.context,f,l,v,h,b),!0}for(C=1,F=new Array(D-1);C<D;C++)F[C-1]=arguments[C];T.fn.apply(T.context,F)}else{var L,_=T.length;for(C=0;C<_;C++)switch(T[C].once&&this.removeListener(s,T[C].fn,void 0,!0),D){case 1:T[C].fn.call(T[C].context);break;case 2:T[C].fn.call(T[C].context,f);break;case 3:T[C].fn.call(T[C].context,f,l);break;case 4:T[C].fn.call(T[C].context,f,l,v);break;default:if(!F)for(L=1,F=new Array(D-1);L<D;L++)F[L-1]=arguments[L];T[C].fn.apply(T[C].context,F)}}return!0},i.prototype.on=function(s,f,l){return w(this,s,f,l,!1)},i.prototype.once=function(s,f,l){return w(this,s,f,l,!0)},i.prototype.removeListener=function(s,f,l,v){var h=p?p+s:s;if(!this._events[h])return this;if(!f)return M(this,h),this;var b=this._events[h];if(b.fn)b.fn===f&&(!v||b.once)&&(!l||b.context===l)&&M(this,h);else{for(var P=0,T=[],D=b.length;P<D;P++)(b[P].fn!==f||v&&!b[P].once||l&&b[P].context!==l)&&T.push(b[P]);T.length?this._events[h]=1===T.length?T[0]:T:M(this,h)}return this},i.prototype.removeAllListeners=function(s){var f;return s?this._events[f=p?p+s:s]&&M(this,f):(this._events=new g,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=p,i.EventEmitter=i,Q.exports=i},21623:(Q,E,p)=>{var g=p(16128),x=p(84849),w=p(54410),M=p(16589),i=p(62630),f=function(C,_){var L=[];return _.forEach(function(I){if("object"==typeof I.components){if("tuple"!==I.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var G="",O=I.type.indexOf("[");O>=0&&(G=I.type.substring(O));var Z=f(C,I.components);Array.isArray(Z)&&C?L.push("tuple("+Z.join(",")+")"+G):L.push(C?"("+Z+")":"("+Z.join(",")+")"+G)}else L.push(I.type)}),L},v=function(C){if(!x.isHexStrict(C))throw new Error("The parameter must be a valid HEX string.");var _="",L=0,I=C.length;for("0x"===C.substring(0,2)&&(L=2);L<I;L+=2){var G=parseInt(C.slice(L,L+2),16);_+=String.fromCharCode(G)}return _},h=function(C){if(!C)return"0x00";for(var _="",L=0;L<C.length;L++){var G=C.charCodeAt(L).toString(16);_+=G.length<2?"0"+G:G}return"0x"+_},b=function(C){if(C=C?C.toLowerCase():"ether",!g.unitMap[C])throw new Error('This unit "'+C+"\" doesn't exist, please use the one of the following units"+JSON.stringify(g.unitMap,null,2));return C};Q.exports={_fireError:function(C,_,L,I,G){return!!C&&"object"==typeof C&&!(C instanceof Error)&&C.data&&((!!C.data&&"object"==typeof C.data||Array.isArray(C.data))&&(C.data=JSON.stringify(C.data,null,2)),C=C.message+"\n"+C.data),"string"==typeof C&&(C=new Error(C)),"function"==typeof I&&I(C,G),"function"==typeof L&&((_&&"function"==typeof _.listeners&&_.listeners("error").length||"function"==typeof I)&&_.catch(function(){}),setTimeout(function(){L(C)},1)),_&&"function"==typeof _.emit&&setTimeout(function(){_.emit("error",C,G),_.removeAllListeners()},1),_},_jsonInterfaceMethodToString:function(C){return C&&"object"==typeof C&&C.name&&-1!==C.name.indexOf("(")?C.name:C.name+"("+f(!1,C.inputs).join(",")+")"},_flattenTypes:f,randomHex:function(C){return"0x"+M(C).toString("hex")},BN:x.BN,isBN:x.isBN,isBigNumber:x.isBigNumber,isHex:x.isHex,isHexStrict:x.isHexStrict,sha3:x.sha3,sha3Raw:x.sha3Raw,keccak256:x.sha3,soliditySha3:w.soliditySha3,soliditySha3Raw:w.soliditySha3Raw,encodePacked:w.encodePacked,isAddress:x.isAddress,checkAddressChecksum:x.checkAddressChecksum,toChecksumAddress:function(C){if(typeof C>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(C))throw new Error('Given address "'+C+'" is not a valid Ethereum address.');C=C.toLowerCase().replace(/^0x/i,"");for(var _=x.sha3(C).replace(/^0x/i,""),L="0x",I=0;I<C.length;I++)parseInt(_[I],16)>7?L+=C[I].toUpperCase():L+=C[I];return L},toHex:x.toHex,toBN:x.toBN,bytesToHex:x.bytesToHex,hexToBytes:x.hexToBytes,hexToNumberString:x.hexToNumberString,hexToNumber:x.hexToNumber,toDecimal:x.hexToNumber,numberToHex:x.numberToHex,fromDecimal:x.numberToHex,hexToUtf8:x.hexToUtf8,hexToString:x.hexToUtf8,toUtf8:x.hexToUtf8,stripHexPrefix:x.stripHexPrefix,utf8ToHex:x.utf8ToHex,stringToHex:x.utf8ToHex,fromUtf8:x.utf8ToHex,hexToAscii:v,toAscii:v,asciiToHex:h,fromAscii:h,unitMap:g.unitMap,toWei:function(C,_){if(_=b(_),!x.isBN(C)&&"string"!=typeof C)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return x.isBN(C)?g.toWei(C,_):g.toWei(C,_).toString(10)},fromWei:function(C,_){if(_=b(_),!x.isBN(C)&&"string"!=typeof C)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return x.isBN(C)?g.fromWei(C,_):g.fromWei(C,_).toString(10)},padLeft:x.leftPad,leftPad:x.leftPad,padRight:x.rightPad,rightPad:x.rightPad,toTwosComplement:x.toTwosComplement,isBloom:x.isBloom,isUserEthereumAddressInBloom:x.isUserEthereumAddressInBloom,isContractAddressInBloom:x.isContractAddressInBloom,isTopic:x.isTopic,isTopicInBloom:x.isTopicInBloom,isInBloom:x.isInBloom,compareBlockNumbers:function(C,_){if(C===_)return 0;if(!("genesis"!==C&&"earliest"!==C&&0!==C||"genesis"!==_&&"earliest"!==_&&0!==_))return 0;if("genesis"===C||"earliest"===C||0===C)return-1;if("genesis"===_||"earliest"===_||0===_)return 1;if("latest"===C||"finalized"===C)return"pending"===_?-1:1;if("latest"===_||"finalized"===_)return"pending"===C?1:-1;if("pending"===C)return 1;if("pending"===_)return-1;if("safe"!==C&&"safe"!==_){let L=new i(C),I=new i(_);return L.lt(I)?-1:L.eq(I)?0:1}},toNumber:x.toNumber}},54410:(Q,E,p)=>{var g=p(62630),x=p(84849),d=function(b){var P=typeof b;if("string"===P)return x.isHexStrict(b)?new g(b.replace(/0x/i,""),16):new g(b,10);if("number"===P)return new g(b);if(x.isBigNumber(b))return new g(b.toString(10));if(x.isBN(b))return b;throw new Error(b+" is not a number")},s=function(b,P,T){var D,F;if("bytes"===(b=function(b){return b.startsWith("int[")?"int256"+b.slice(3):"int"===b?"int256":b.startsWith("uint[")?"uint256"+b.slice(4):"uint"===b?"uint256":b.startsWith("fixed[")?"fixed128x128"+b.slice(5):"fixed"===b?"fixed128x128":b.startsWith("ufixed[")?"ufixed128x128"+b.slice(6):"ufixed"===b?"ufixed128x128":b}(b))){if(P.replace(/^0x/i,"").length%2!=0)throw new Error("Invalid bytes characters "+P.length);return P}if("string"===b)return x.utf8ToHex(P);if("bool"===b)return P?"01":"00";if(b.startsWith("address")){if(D=T?64:40,!x.isAddress(P))throw new Error(P+" is not a valid address, or the checksum is invalid.");return x.leftPad(P.toLowerCase(),D)}if(D=function(b){var P=/^\D+(\d+).*$/.exec(b);return P?parseInt(P[1],10):null}(b),b.startsWith("bytes")){if(!D)throw new Error("bytes[] not yet supported in solidity");if(T&&(D=32),D<1||D>32||D<P.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+D+" for "+P);return x.rightPad(P,2*D)}if(b.startsWith("uint")){if(D%8||D<8||D>256)throw new Error("Invalid uint"+D+" size");if((F=d(P)).bitLength()>D)throw new Error("Supplied uint exceeds width: "+D+" vs "+F.bitLength());if(F.lt(new g(0)))throw new Error("Supplied uint "+F.toString()+" is negative");return D?x.leftPad(F.toString("hex"),D/8*2):F}if(b.startsWith("int")){if(D%8||D<8||D>256)throw new Error("Invalid int"+D+" size");if((F=d(P)).bitLength()>D)throw new Error("Supplied int exceeds width: "+D+" vs "+F.bitLength());return F.lt(new g(0))?F.toTwos(D).toString("hex"):D?x.leftPad(F.toString("hex"),D/8*2):F}throw new Error("Unsupported or invalid type: "+b)},f=function(b){if(Array.isArray(b))throw new Error("Autodetection of array types is not supported.");var P,F,T="";if(b&&"object"==typeof b&&(b.hasOwnProperty("v")||b.hasOwnProperty("t")||b.hasOwnProperty("value")||b.hasOwnProperty("type"))?(P=b.hasOwnProperty("t")?b.t:b.type,T=b.hasOwnProperty("v")?b.v:b.value):(P=x.toHex(b,!0),T=x.toHex(b),!P.startsWith("int")&&!P.startsWith("uint")&&(P="bytes")),(P.startsWith("int")||P.startsWith("uint"))&&"string"==typeof T&&!/^(-)?0x/i.test(T)&&(T=new g(T)),Array.isArray(T)){if(F=function(b){var P=/^\D+\d*\[(\d+)\]$/.exec(b);return P?parseInt(P[1],10):null}(P),F&&T.length!==F)throw new Error(P+" is not matching the given array "+JSON.stringify(T));F=T.length}return Array.isArray(T)?T.map(function(C){return s(P,C,F).toString("hex").replace("0x","")}).join(""):s(P,T,F).toString("hex").replace("0x","")};Q.exports={soliditySha3:function(){var b=Array.prototype.slice.call(arguments),P=b.map(f);return x.sha3("0x"+P.join(""))},soliditySha3Raw:function(){return x.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(f).join(""))},encodePacked:function(){var b=Array.prototype.slice.call(arguments),P=b.map(f);return"0x"+P.join("").toLowerCase()}}},84849:(Q,E,p)=>{var g=p(62630),x=p(7388),w=p(43790),M=p(13635),i=p(25613),d=function(n){return g.isBN(n)},s=function(n){return n&&n.constructor&&"BigNumber"===n.constructor.name},f=function(n){try{return x.apply(null,arguments)}catch(j){throw new Error(j+' Given value: "'+n+'"')}},v=function(n){return!!/^(0x)?[0-9a-f]{40}$/i.test(n)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(n)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(n))||h(n))},h=function(n){n=n.replace(/^0x/i,"");for(var j=S(n.toLowerCase()).replace(/^0x/i,""),V=0;V<40;V++)if(parseInt(j[V],16)>7&&n[V].toUpperCase()!==n[V]||parseInt(j[V],16)<=7&&n[V].toLowerCase()!==n[V])return!1;return!0},T=function(n){var j="";n=(n=(n=(n=(n=w.encode(n)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var V=0;V<n.length;V++){var tt=n.charCodeAt(V).toString(16);j+=tt.length<2?"0"+tt:tt}return"0x"+j},F=function(n){if(!n)return n;if("string"==typeof n&&!O(n))throw new Error('Given value "'+n+'" is not a valid hex string.');return f(n).toNumber()},_=function(n){if(null==n)return n;if(!isFinite(n)&&!O(n))throw new Error('Given input "'+n+'" is not a number.');var j=f(n),V=j.toString(16);return j.lt(new g(0))?"-0x"+V.slice(1):"0x"+V},G=function(n,j){if(v(n))return j?"address":"0x"+n.toLowerCase().replace(/^0x/i,"");if("boolean"==typeof n)return j?"bool":n?"0x01":"0x00";if(Buffer.isBuffer(n))return"0x"+n.toString("hex");if("object"==typeof n&&n&&!s(n)&&!d(n))return j?"string":T(JSON.stringify(n));if("string"==typeof n){if(0===n.indexOf("-0x")||0===n.indexOf("-0X"))return j?"int256":_(n);if(0===n.indexOf("0x")||0===n.indexOf("0X"))return j?"bytes":n;if(!isFinite(n))return j?"string":T(n)}return j?n<0?"int256":"uint256":_(n)},O=function(n){return("string"==typeof n||"number"==typeof n)&&/^(-)?0x[0-9a-f]*$/i.test(n)},Z=function(n){return("string"==typeof n||"number"==typeof n)&&/^(-0x|0x)?[0-9a-f]*$/i.test(n)},m="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",S=function(n){d(n)&&(n=n.toString()),O(n)&&/^0x/i.test(n.toString())?n=M.toBuffer(n):"string"==typeof n&&(n=Buffer.from(n,"utf-8"));var j=M.bufferToHex(M.keccak256(n));return j===m?null:j};S._Hash=M.keccak256;var e=function(n){if("string"==typeof n&&n.includes("0x")){const[j,V]=n.toLocaleLowerCase().startsWith("-")?["-",n.slice(3)]:["",n.slice(2)];return new g(j+V,16)}return new g(n)};Object.setPrototypeOf(e,g),Object.setPrototypeOf(e.prototype,g.prototype),Q.exports={BN:e,isBN:d,isBigNumber:s,toBN:f,isAddress:v,isBloom:function(n){return i.isBloom(n)},isUserEthereumAddressInBloom:function(n,j){return i.isUserEthereumAddressInBloom(n,j)},isContractAddressInBloom:function(n,j){return i.isContractAddressInBloom(n,j)},isTopic:function(n){return i.isTopic(n)},isTopicInBloom:function(n,j){return i.isTopicInBloom(n,j)},isInBloom:function(n,j){return i.isInBloom(n,j)},checkAddressChecksum:h,utf8ToHex:T,hexToUtf8:function(n){if(!O(n))throw new Error('The parameter "'+n+'" must be a valid HEX string.');for(var j="",V=0,Y=(n=(n=(n=(n=(n=n.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,tt=0;tt<Y;tt+=2)V=parseInt(n.slice(tt,tt+2),16),j+=String.fromCharCode(V);return w.decode(j)},hexToNumber:F,hexToNumberString:function(n){if(!n)return n;if("string"==typeof n&&!O(n))throw new Error('Given value "'+n+'" is not a valid hex string.');return f(n).toString(10)},numberToHex:_,toHex:G,hexToBytes:function(n){if(n=n.toString(16),!O(n))throw new Error('Given value "'+n+'" is not a valid hex string.');n=n.replace(/^0x/i,"");for(var j=[],V=0;V<n.length;V+=2)j.push(parseInt(n.slice(V,V+2),16));return j},bytesToHex:function(n){for(var j=[],V=0;V<n.length;V++)j.push((n[V]>>>4).toString(16)),j.push((15&n[V]).toString(16));return"0x"+j.join("")},isHex:Z,isHexStrict:O,stripHexPrefix:function(n){return 0!==n&&Z(n)?n.replace(/^(-)?0x/i,"$1"):n},leftPad:function(n,j,V){var Y=/^0x/i.test(n)||"number"==typeof n;return n=n.toString(16).replace(/^0x/i,""),(Y?"0x":"")+new Array(j-n.length+1>=0?j-n.length+1:0).join(V||"0")+n},rightPad:function(n,j,V){return(/^0x/i.test(n)||"number"==typeof n?"0x":"")+(n=n.toString(16).replace(/^0x/i,""))+new Array(j-n.length+1>=0?j-n.length+1:0).join(V||"0")},toTwosComplement:function(n){return"0x"+f(n).toTwos(256).toString(16,64)},sha3:S,sha3Raw:function(n){return null===(n=S(n))?m:n},toNumber:function(n){return"number"==typeof n?n:F(G(n))}}},66033:(Q,E,p)=>{var g;if("object"==typeof globalThis)g=globalThis;else try{g=p(30188)}catch{}finally{if(!g&&typeof window<"u"&&(g=window),!g)throw new Error("Could not determine global this")}var x=g.WebSocket||g.MozWebSocket,w=p(51632);function M(i,d){return d?new x(i,d):new x(i)}x&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(M,i,{get:function(){return x[i]}})}),Q.exports={w3cwebsocket:x?M:null,version:w}},51632:(Q,E,p)=>{Q.exports=p(19794).version},99006:Q=>{Q.exports=function E(p,g){if(p&&g)return E(p)(g);if("function"!=typeof p)throw new TypeError("need wrapper function");return Object.keys(p).forEach(function(w){x[w]=p[w]}),x;function x(){for(var w=new Array(arguments.length),M=0;M<w.length;M++)w[M]=arguments[M];var i=p.apply(this,w),d=w[w.length-1];return"function"==typeof i&&i!==d&&Object.keys(d).forEach(function(s){i[s]=d[s]}),i}}},71156:()=>{},50522:()=>{},66882:()=>{},19794:Q=>{"use strict";Q.exports={version:"1.0.34"}}}]);