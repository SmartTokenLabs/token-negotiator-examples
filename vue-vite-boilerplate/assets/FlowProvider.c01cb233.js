import{b as zt,p as hp}from"./index.2e84ba0d.js";function gp(ur,sr){for(var B=0;B<sr.length;B++){const Yt=sr[B];if(typeof Yt!="string"&&!Array.isArray(Yt)){for(const $t in Yt)if($t!=="default"&&!($t in ur)){const en=Object.getOwnPropertyDescriptor(Yt,$t);en&&Object.defineProperty(ur,$t,en.get?en:{enumerable:!0,get:()=>Yt[$t]})}}}return Object.freeze(Object.defineProperty(ur,Symbol.toStringTag,{value:"Module"}))}var or={exports:{}};(function(ur,sr){(function(B,Yt){Yt(sr)})(zt,function(B){function Yt(t){if(Array.isArray(t))return t}function $t(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function en(t,n){if(t){if(typeof t=="string")return $t(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(t,n):void 0}}function $a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lt(t,n){return Yt(t)||function(r,e){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var o,u,i=[],c=!0,l=!1;try{for(a=a.call(r);!(c=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);c=!0);}catch(d){l=!0,u=d}finally{try{c||a.return==null||a.return()}finally{if(l)throw u}}return i}}(t,n)||en(t,n)||$a()}function Za(t,n,r,e,a,o,u){try{var i=t[o](u),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(e,a)}function x(t){return function(){var n=this,r=arguments;return new Promise(function(e,a){var o=t.apply(n,r);function u(c){Za(o,e,a,u,i,"next",c)}function i(c){Za(o,e,a,u,i,"throw",c)}u(void 0)})}}function z(t){return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},z(t)}var Qa={exports:{}},to={exports:{}};(function(t){function n(r){return t.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(to),function(t){var n=to.exports.default;function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=r=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},a=Object.prototype,o=a.hasOwnProperty,u=typeof Symbol=="function"?Symbol:{},i=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function d(T,A,U){return Object.defineProperty(T,A,{value:U,enumerable:!0,configurable:!0,writable:!0}),T[A]}try{d({},"")}catch{d=function(A,U,Y){return A[U]=Y}}function g(T,A,U,Y){var D=A&&A.prototype instanceof b?A:b,ut=Object.create(D.prototype),it=new Rt(Y||[]);return ut._invoke=function(yt,pt,j){var kt="suspendedStart";return function(_t,nn){if(kt==="executing")throw new Error("Generator is already running");if(kt==="completed"){if(_t==="throw")throw nn;return Nt()}for(j.method=_t,j.arg=nn;;){var cn=j.delegate;if(cn){var rr=lt(cn,j);if(rr){if(rr===m)continue;return rr}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(kt==="suspendedStart")throw kt="completed",j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);kt="executing";var rn=v(yt,pt,j);if(rn.type==="normal"){if(kt=j.done?"completed":"suspendedYield",rn.arg===m)continue;return{value:rn.arg,done:j.done}}rn.type==="throw"&&(kt="completed",j.method="throw",j.arg=rn.arg)}}}(T,U,it),ut}function v(T,A,U){try{return{type:"normal",arg:T.call(A,U)}}catch(Y){return{type:"throw",arg:Y}}}e.wrap=g;var m={};function b(){}function E(){}function S(){}var N={};d(N,i,function(){return this});var _=Object.getPrototypeOf,R=_&&_(_(Tt([])));R&&R!==a&&o.call(R,i)&&(N=R);var L=S.prototype=b.prototype=Object.create(N);function I(T){["next","throw","return"].forEach(function(A){d(T,A,function(U){return this._invoke(A,U)})})}function W(T,A){function U(D,ut,it,yt){var pt=v(T[D],T,ut);if(pt.type!=="throw"){var j=pt.arg,kt=j.value;return kt&&n(kt)=="object"&&o.call(kt,"__await")?A.resolve(kt.__await).then(function(_t){U("next",_t,it,yt)},function(_t){U("throw",_t,it,yt)}):A.resolve(kt).then(function(_t){j.value=_t,it(j)},function(_t){return U("throw",_t,it,yt)})}yt(pt.arg)}var Y;this._invoke=function(D,ut){function it(){return new A(function(yt,pt){U(D,ut,yt,pt)})}return Y=Y?Y.then(it,it):it()}}function lt(T,A){var U=T.iterator[A.method];if(U===void 0){if(A.delegate=null,A.method==="throw"){if(T.iterator.return&&(A.method="return",A.arg=void 0,lt(T,A),A.method==="throw"))return m;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var Y=v(U,T.iterator,A.arg);if(Y.type==="throw")return A.method="throw",A.arg=Y.arg,A.delegate=null,m;var D=Y.arg;return D?D.done?(A[T.resultName]=D.value,A.next=T.nextLoc,A.method!=="return"&&(A.method="next",A.arg=void 0),A.delegate=null,m):D:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,m)}function It(T){var A={tryLoc:T[0]};1 in T&&(A.catchLoc=T[1]),2 in T&&(A.finallyLoc=T[2],A.afterLoc=T[3]),this.tryEntries.push(A)}function At(T){var A=T.completion||{};A.type="normal",delete A.arg,T.completion=A}function Rt(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(It,this),this.reset(!0)}function Tt(T){if(T){var A=T[i];if(A)return A.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var U=-1,Y=function D(){for(;++U<T.length;)if(o.call(T,U))return D.value=T[U],D.done=!1,D;return D.value=void 0,D.done=!0,D};return Y.next=Y}}return{next:Nt}}function Nt(){return{value:void 0,done:!0}}return E.prototype=S,d(L,"constructor",S),d(S,"constructor",E),E.displayName=d(S,l,"GeneratorFunction"),e.isGeneratorFunction=function(T){var A=typeof T=="function"&&T.constructor;return!!A&&(A===E||(A.displayName||A.name)==="GeneratorFunction")},e.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,S):(T.__proto__=S,d(T,l,"GeneratorFunction")),T.prototype=Object.create(L),T},e.awrap=function(T){return{__await:T}},I(W.prototype),d(W.prototype,c,function(){return this}),e.AsyncIterator=W,e.async=function(T,A,U,Y,D){D===void 0&&(D=Promise);var ut=new W(g(T,A,U,Y),D);return e.isGeneratorFunction(A)?ut:ut.next().then(function(it){return it.done?it.value:ut.next()})},I(L),d(L,l,"Generator"),d(L,i,function(){return this}),d(L,"toString",function(){return"[object Generator]"}),e.keys=function(T){var A=[];for(var U in T)A.push(U);return A.reverse(),function Y(){for(;A.length;){var D=A.pop();if(D in T)return Y.value=D,Y.done=!1,Y}return Y.done=!0,Y}},e.values=Tt,Rt.prototype={constructor:Rt,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(At),!T)for(var A in this)A.charAt(0)==="t"&&o.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var A=this;function U(pt,j){return ut.type="throw",ut.arg=T,A.next=pt,j&&(A.method="next",A.arg=void 0),!!j}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var D=this.tryEntries[Y],ut=D.completion;if(D.tryLoc==="root")return U("end");if(D.tryLoc<=this.prev){var it=o.call(D,"catchLoc"),yt=o.call(D,"finallyLoc");if(it&&yt){if(this.prev<D.catchLoc)return U(D.catchLoc,!0);if(this.prev<D.finallyLoc)return U(D.finallyLoc)}else if(it){if(this.prev<D.catchLoc)return U(D.catchLoc,!0)}else{if(!yt)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return U(D.finallyLoc)}}}},abrupt:function(T,A){for(var U=this.tryEntries.length-1;U>=0;--U){var Y=this.tryEntries[U];if(Y.tryLoc<=this.prev&&o.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var D=Y;break}}D&&(T==="break"||T==="continue")&&D.tryLoc<=A&&A<=D.finallyLoc&&(D=null);var ut=D?D.completion:{};return ut.type=T,ut.arg=A,D?(this.method="next",this.next=D.finallyLoc,m):this.complete(ut)},complete:function(T,A){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&A&&(this.next=A),m},finish:function(T){for(var A=this.tryEntries.length-1;A>=0;--A){var U=this.tryEntries[A];if(U.finallyLoc===T)return this.complete(U.completion,U.afterLoc),At(U),m}},catch:function(T){for(var A=this.tryEntries.length-1;A>=0;--A){var U=this.tryEntries[A];if(U.tryLoc===T){var Y=U.completion;if(Y.type==="throw"){var D=Y.arg;At(U)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(T,A,U){return this.delegate={iterator:Tt(T),resultName:A,nextLoc:U},this.method==="next"&&(this.arg=void 0),m}},e}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Qa);var no,ir=Qa.exports(),h=ir;try{regeneratorRuntime=ir}catch{(typeof globalThis>"u"?"undefined":z(globalThis))==="object"?globalThis.regeneratorRuntime=ir:Function("r","regeneratorRuntime = r")(ir)}function ro(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dn(t){return Yt(t)||ro(t)||en(t)||$a()}function q(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function eo(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,e)}return r}function O(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?eo(Object(r),!0).forEach(function(e){q(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function bt(t,n){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=en(t))||n&&t&&typeof t.length=="number"){r&&(t=r);var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return u=c.done,c},e:function(c){i=!0,o=c},f:function(){try{u||r.return==null||r.return()}finally{if(i)throw o}}}}var Vi=typeof queueMicrotask=="function"?queueMicrotask:function(t){return(no||(no=Promise.resolve())).then(t).catch(function(n){return setTimeout(function(){throw n},0)})},Ji=function(){var t,n=[];return{deliver:function(r){return x(h.mark(function e(){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.push(r),t&&(t(n.shift()),t=void 0);case 2:case"end":return a.stop()}},e)}))()},receive:function(){return new Promise(function(r){var e=n.shift();if(e)return r(e);t=r})}}},Ur="INIT",pn="SUBSCRIBE",an="UNSUBSCRIBE",jr="UPDATED",ao="SNAPSHOT",Xi="EXIT",Z=(typeof self>"u"?"undefined":z(self))==="object"&&self.self===self&&self||(typeof zt>"u"?"undefined":z(zt))==="object"&&zt.global===zt&&zt||(typeof window>"u"?"undefined":z(window))==="object"&&window.window===window&&window;Z.FCL_REGISTRY=Z.FCL_REGISTRY==null?{}:Z.FCL_REGISTRY;var qt,$i=0,dt=function(t,n,r){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise(function(a,o){var u=e.expectReply||!1,i=e.timeout!=null?e.timeout:5e3;u&&i&&setTimeout(function(){return o(new Error("Timeout: ".concat(i,"ms passed without a response.")))},i);var c={to:t,from:e.from,tag:n,data:r,timeout:i,reply:a,reject:o};try{Z.FCL_REGISTRY[t]&&Z.FCL_REGISTRY[t].mailbox.deliver(c),u||a(!0)}catch(l){console.error("FCL.Actor -- Could Not Deliver Message",c,Z.FCL_REGISTRY[t],l)}})},Zi=function(t){delete Z.FCL_REGISTRY[t]},Qi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(){var n=x(h.mark(function r(e){var a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(typeof t.INIT!="function"){o.next=3;break}return o.next=3,t.INIT(e);case 3:return o.next=6,e.receive();case 6:if(a=o.sent,o.prev=7,a.tag!==Xi){o.next=13;break}if(typeof t.TERMINATE!="function"){o.next=12;break}return o.next=12,t.TERMINATE(e,a,a.data||{});case 12:return o.abrupt("break",25);case 13:return o.next=15,t[a.tag](e,a,a.data||{});case 15:o.next=20;break;case 17:o.prev=17,o.t0=o.catch(7),console.error("".concat(e.self()," Error"),a,o.t0);case 20:return o.prev=20,o.abrupt("continue",3);case 23:o.next=3;break;case 25:case"end":return o.stop()}},r,null,[[7,17,20,23]])}));return function(r){return n.apply(this,arguments)}}()},on=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(n==null&&(n=++$i),Z.FCL_REGISTRY[n]!=null)return n;Z.FCL_REGISTRY[n]={addr:n,mailbox:Ji(),subs:new Set,kvs:{},error:null};var r={self:function(){return n},receive:function(){return Z.FCL_REGISTRY[n].mailbox.receive()},send:function(e,a,o){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return u.from=n,dt(e,a,o,u)},sendSelf:function(e,a,o){Z.FCL_REGISTRY[n]&&dt(n,e,a,o)},broadcast:function(e,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.from=n;var u,i=bt(Z.FCL_REGISTRY[n].subs);try{for(i.s();!(u=i.n()).done;){var c=u.value;dt(c,e,a,o)}}catch(l){i.e(l)}finally{i.f()}},subscribe:function(e){return e!=null&&Z.FCL_REGISTRY[n].subs.add(e)},unsubscribe:function(e){return e!=null&&Z.FCL_REGISTRY[n].subs.delete(e)},subscriberCount:function(){return Z.FCL_REGISTRY[n].subs.size},hasSubs:function(){return!!Z.FCL_REGISTRY[n].subs.size},put:function(e,a){e!=null&&(Z.FCL_REGISTRY[n].kvs[e]=a)},get:function(e,a){var o=Z.FCL_REGISTRY[n].kvs[e];return o??a},delete:function(e){delete Z.FCL_REGISTRY[n].kvs[e]},update:function(e,a){e!=null&&(Z.FCL_REGISTRY[n].kvs[e]=a(Z.FCL_REGISTRY[n].kvs[e]))},keys:function(){return Object.keys(Z.FCL_REGISTRY[n].kvs)},all:function(){return Z.FCL_REGISTRY[n].kvs},where:function(e){return Object.keys(Z.FCL_REGISTRY[n].kvs).reduce(function(a,o){return e.test(o)?O(O({},a),{},q({},o,Z.FCL_REGISTRY[n].kvs[o])):a},{})},merge:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.keys(e).forEach(function(a){return Z.FCL_REGISTRY[n].kvs[a]=e[a]})},fatalError:function(e){Z.FCL_REGISTRY[n].error=e;var a,o=bt(Z.FCL_REGISTRY[n].subs);try{for(o.s();!(a=o.n()).done;){var u=a.value;dt(u,jr)}}catch(i){o.e(i)}finally{o.f()}}};return z(t)==="object"&&(t=Qi(t)),Vi(x(h.mark(function e(){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(r);case 2:Zi(n);case 3:case"end":return a.stop()}},e)}))),n};function cr(t,n,r){n(t);var e="@EXIT",a=on(function(){var o=x(h.mark(function u(i){var c,l;return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:i.send(t,pn);case 1:return d.next=4,i.receive();case 4:if(c=d.sent,l=Z.FCL_REGISTRY[t].error,c.tag!==e){d.next=9;break}return i.send(t,an),d.abrupt("return");case 9:if(!l){d.next=13;break}return r(null,l),i.send(t,an),d.abrupt("return");case 13:r(c.data,null),d.next=1;break;case 16:case"end":return d.stop()}},u)}));return function(u){return o.apply(this,arguments)}}());return function(){return dt(a,e)}}function oo(t,n){return n(t),dt(t,ao,null,{expectReply:!0,timeout:0})}var Kt="config",uo="PUT_CONFIG",so="GET_CONFIG",io="GET_ALL_CONFIG",co="UPDATE_CONFIG",fo="DELETE_CONFIG",lo="CLEAR_CONFIG",po="WHERE_CONFIG",Gn="CONFIG/UPDATED",ho=function(t){return t},go=(q(qt={},uo,function(t,n,r){var e=r.key,a=r.value;if(e==null)throw new Error("Missing 'key' for config/put.");t.put(e,a),t.broadcast(Gn,O({},t.all()))}),q(qt,so,function(t,n,r){var e=r.key,a=r.fallback;if(e==null)throw new Error("Missing 'key' for config/get");n.reply(t.get(e,a))}),q(qt,io,function(t,n){n.reply(O({},t.all()))}),q(qt,co,function(t,n,r){var e=r.key,a=r.fn;if(e==null)throw new Error("Missing 'key' for config/update");t.update(e,a||ho),t.broadcast(Gn,O({},t.all()))}),q(qt,fo,function(t,n,r){var e=r.key;if(e==null)throw new Error("Missing 'key' for config/delete");t.delete(e),t.broadcast(Gn,O({},t.all()))}),q(qt,lo,function(t,n){for(var r=0,e=Object.keys(t.all());r<e.length;r++){var a=e[r];t.delete(a)}t.broadcast(Gn,O({},t.all()))}),q(qt,po,function(t,n,r){var e=r.pattern;if(e==null)throw new Error("Missing 'pattern' for config/where");n.reply(t.where(e))}),q(qt,pn,function(t,n){t.subscribe(n.from),t.send(n.from,Gn,O({},t.all()))}),q(qt,an,function(t,n){t.unsubscribe(n.from)}),qt);function Fr(t,n){return dt(Kt,uo,{key:t,value:n}),F()}function Dr(t,n){return dt(Kt,so,{key:t,fallback:n},{expectReply:!0,timeout:10})}function Gr(){return Mr.apply(this,arguments)}function Mr(){return Mr=x(h.mark(function t(){var n,r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=i.length>0&&i[0]!==void 0?i[0]:[],r=i.length>1?i[1]:void 0,n.length){c.next=4;break}return c.abrupt("return",r);case 4:return e=Dn(n),a=e[0],o=e.slice(1),c.next=7,Dr(a);case 7:if((u=c.sent)!=null){c.next=10;break}return c.abrupt("return",Gr(o,r));case 10:return c.abrupt("return",u);case 11:case"end":return c.stop()}},t)})),Mr.apply(this,arguments)}function fr(){return dt(Kt,io,null,{expectReply:!0,timeout:10})}function mo(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ho;return dt(Kt,co,{key:t,fn:n}),F()}function vo(t){return dt(Kt,fo,{key:t}),F()}function yo(t){return dt(Kt,po,{pattern:t},{expectReply:!0,timeout:10})}function bo(t){return cr(Kt,function(){return on(go,Kt)},t)}function wo(t){return dt(Kt,lo).then(F(t))}function F(t){return t!=null&&z(t)==="object"&&Object.keys(t).map(function(n){return Fr(n,t[n])}),{put:Fr,get:Dr,all:fr,first:Gr,update:mo,delete:vo,where:yo,subscribe:bo,overload:xo}}on(go,Kt),F.put=Fr,F.get=Dr,F.all=fr,F.first=Gr,F.update=mo,F.delete=vo,F.where=yo,F.subscribe=bo,F.overload=xo;var tc=function(t){return t};function xo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tc;return new Promise(function(){var r=x(h.mark(function e(a,o){var u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fr();case 2:return u=c.sent,c.prev=3,F(t),c.t0=n,c.next=8,fr();case 8:return c.t1=c.sent,c.next=11,(0,c.t0)(c.t1);case 11:return i=c.sent,c.next=14,wo(u);case 14:a(i),c.next=22;break;case 17:return c.prev=17,c.t2=c.catch(3),c.next=21,wo(u);case 21:o(c.t2);case 22:case"end":return c.stop()}},e,null,[[3,17]])}));return function(e,a){return r.apply(this,arguments)}}())}var ko,Eo,nc={can:!(typeof window>"u"),get:(Eo=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",JSON.parse(sessionStorage.getItem(n)));case 1:case"end":return r.stop()}},t)})),function(t){return Eo.apply(this,arguments)}),put:(ko=x(h.mark(function t(n,r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.setItem(n,JSON.stringify(r)));case 1:case"end":return e.stop()}},t)})),function(t,n){return ko.apply(this,arguments)})};function Io(t){return So.apply(this,arguments)}function So(){return(So=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Object,r.t1=Object,r.next=4,F().where(n);case 4:return r.t2=r.sent,r.t3=r.t1.entries.call(r.t1,r.t2).map(function(e){var a=Lt(e,2),o=a[0],u=a[1];return[o.replace(n,""),u]}),r.abrupt("return",r.t0.fromEntries.call(r.t0,r.t3));case 7:case"end":return r.stop()}},t)}))).apply(this,arguments)}F({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":nc});var Ut="1.3.2";function C(t,n){if(!t){var r,e=new Error("INVARIANT ".concat(n));e.stack=e.stack.split(`
`).filter(function(i){return!/at invariant/.test(i)}).join(`
`);for(var a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];throw(r=console).error.apply(r,[`

---

`,e,`

`].concat(o,[`

---

`])),e}}function K(t){return function(n){if(Array.isArray(n))return $t(n)}(t)||ro(t)||en(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var St=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),rc=function(t){var n=t.title,r=t.message;return[`
    %c`.concat(n,`
    ============================

    `).concat(r,`

    ============================
    `).replace(/\n[^\S\r\n]+/g,`
`).trim(),,"font-weight:bold;font-family:monospace;"]},wt=function(){var t=x(h.mark(function n(r){var e,a,o,u,i,c,l,d,g,v,m,b;return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return c=r.title,l=r.message,d=r.level,g=r.always,v=g!==void 0&&g,E.next=3,F.get("logger.level",St.warn);case 3:if(m=E.sent,v||!(m<d)){E.next=6;break}return E.abrupt("return");case 6:b=rc({title:c,message:l}),E.t0=d,E.next=E.t0===St.debug?10:E.t0===St.info?12:E.t0===St.warn?14:E.t0===St.error?16:18;break;case 10:return(e=console).debug.apply(e,K(b)),E.abrupt("break",19);case 12:return(a=console).info.apply(a,K(b)),E.abrupt("break",19);case 14:return(o=console).warn.apply(o,K(b)),E.abrupt("break",19);case 16:return(u=console).error.apply(u,K(b)),E.abrupt("break",19);case 18:(i=console).log.apply(i,K(b));case 19:case"end":return E.stop()}},n)}));return function(n){return t.apply(this,arguments)}}();function zr(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Ao(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Yr(t,n,r){return n&&Ao(t.prototype,n),r&&Ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mn(t,n){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Mn(t,n)}function Kr(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Mn(t,n)}function zn(t){return zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zn(t)}function Ro(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ec(t,n){if(n&&(z(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(t)}function Hr(t){var n=Ro();return function(){var r,e=zn(t);if(n){var a=zn(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return ec(this,r)}}wt.deprecate=function(t){var n=t.pkg,r=t.subject,e=t.transition,a=t.level,o=a===void 0?St.warn:a,u=t.message,i=u===void 0?"":u,c=t.callback,l=c===void 0?null:c,d=function(){return wt({title:"".concat(n?n+" ":"","Deprecation Notice"),message:`
      `.concat(r?"".concat((g=r,g.charAt(0).toUpperCase()+g.slice(1))," is deprecated and will cease to work in future releases").concat(n?" of "+n:"","."):"").concat(i?`
`+i:"").concat(e?`
You can learn more (including a guide on common transition paths) here: `.concat(e):"",`
    `).trim(),level:o});var g};return typeof l=="function"?x(h.mark(function g(){var v=arguments;return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,d();case 2:return m.next=4,l.apply(void 0,v);case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}},g)})):d()};for(var X={},ac={byteLength:function(t){var n=To(t),r=n[0],e=n[1];return 3*(r+e)/4-e},toByteArray:function(t){var n,r,e=To(t),a=e[0],o=e[1],u=new oc(function(l,d,g){return 3*(d+g)/4-g}(0,a,o)),i=0,c=o>0?a-4:a;for(r=0;r<c;r+=4)n=Ct[t.charCodeAt(r)]<<18|Ct[t.charCodeAt(r+1)]<<12|Ct[t.charCodeAt(r+2)]<<6|Ct[t.charCodeAt(r+3)],u[i++]=n>>16&255,u[i++]=n>>8&255,u[i++]=255&n;return o===2&&(n=Ct[t.charCodeAt(r)]<<2|Ct[t.charCodeAt(r+1)]>>4,u[i++]=255&n),o===1&&(n=Ct[t.charCodeAt(r)]<<10|Ct[t.charCodeAt(r+1)]<<4|Ct[t.charCodeAt(r+2)]>>2,u[i++]=n>>8&255,u[i++]=255&n),u},fromByteArray:function(t){for(var n,r=t.length,e=r%3,a=[],o=16383,u=0,i=r-e;u<i;u+=o)a.push(sc(t,u,u+o>i?i:u+o));return e===1?(n=t[r-1],a.push(Ht[n>>2]+Ht[n<<4&63]+"==")):e===2&&(n=(t[r-2]<<8)+t[r-1],a.push(Ht[n>>10]+Ht[n>>4&63]+Ht[n<<2&63]+"=")),a.join("")}},Ht=[],Ct=[],oc=typeof Uint8Array<"u"?Uint8Array:Array,Wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xn=0,uc=Wr.length;xn<uc;++xn)Ht[xn]=Wr[xn],Ct[Wr.charCodeAt(xn)]=xn;function To(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return r===-1&&(r=n),[r,r===n?0:4-r%4]}function sc(t,n,r){for(var e,a,o=[],u=n;u<r;u+=3)e=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),o.push(Ht[(a=e)>>18&63]+Ht[a>>12&63]+Ht[a>>6&63]+Ht[63&a]);return o.join("")}Ct["-".charCodeAt(0)]=62,Ct["_".charCodeAt(0)]=63;var Vr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function dn(t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++)n.push(dn(t[r]));var e=X.Buffer.concat(n);return X.Buffer.concat([_o(e.length,192),e])}var a=function(o){if(!X.Buffer.isBuffer(o)){if(typeof o=="string")return Co(o)?X.Buffer.from((c=typeof(i=o)!="string"?i:Co(i)?i.slice(2):i).length%2?"0"+c:c,"hex"):X.Buffer.from(o);if(typeof o=="number")return o?(u=Jr(o),X.Buffer.from(u,"hex")):X.Buffer.from([]);if(o==null)return X.Buffer.from([]);if(o instanceof Uint8Array)return X.Buffer.from(o);throw new Error("invalid type")}var u,i,c;return o}(t);return a.length===1&&a[0]<128?a:X.Buffer.concat([_o(a.length,128),a])}function _o(t,n){if(t<56)return X.Buffer.from([t+n]);var r=Jr(t),e=Jr(n+55+r.length/2);return X.Buffer.from(e+r,"hex")}function Co(t){return t.slice(0,2)==="0x"}function Jr(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");var n=t.toString(16);return n.length%2?"0"+n:n}function Xr(t,n,r){return Xr=Ro()?Reflect.construct.bind():function(e,a,o){var u=[null];u.push.apply(u,a);var i=new(Function.bind.apply(e,u));return o&&Mn(i,o.prototype),i},Xr.apply(null,arguments)}function lr(t){var n=typeof Map=="function"?new Map:void 0;return lr=function(r){if(r===null||(e=r,Function.toString.call(e).indexOf("[native code]")===-1))return r;var e;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(r))return n.get(r);n.set(r,a)}function a(){return Xr(r,arguments,zn(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Mn(a,r)},lr(t)}Vr.read=function(t,n,r,e,a){var o,u,i=8*a-e-1,c=(1<<i)-1,l=c>>1,d=-7,g=r?a-1:0,v=r?-1:1,m=t[n+g];for(g+=v,o=m&(1<<-d)-1,m>>=-d,d+=i;d>0;o=256*o+t[n+g],g+=v,d-=8);for(u=o&(1<<-d)-1,o>>=-d,d+=e;d>0;u=256*u+t[n+g],g+=v,d-=8);if(o===0)o=1-l;else{if(o===c)return u?NaN:1/0*(m?-1:1);u+=Math.pow(2,e),o-=l}return(m?-1:1)*u*Math.pow(2,o-e)},Vr.write=function(t,n,r,e,a,o){var u,i,c,l=8*o-a-1,d=(1<<l)-1,g=d>>1,v=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=e?0:o-1,b=e?1:-1,E=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(i=isNaN(n)?1:0,u=d):(u=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-u))<1&&(u--,c*=2),(n+=u+g>=1?v/c:v*Math.pow(2,1-g))*c>=2&&(u++,c/=2),u+g>=d?(i=0,u=d):u+g>=1?(i=(n*c-1)*Math.pow(2,a),u+=g):(i=n*Math.pow(2,g-1)*Math.pow(2,a),u=0));a>=8;t[r+m]=255&i,m+=b,i/=256,a-=8);for(u=u<<a|i,l+=a;l>0;t[r+m]=255&u,m+=b,u/=256,l-=8);t[r+m-b]|=128*E},function(t){var n=ac,r=Vr,e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(s){return+s!=s&&(s=0),u.alloc(+s)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function o(s){if(s>a)throw new RangeError('The value "'+s+'" is invalid for option "size"');var f=new Uint8Array(s);return Object.setPrototypeOf(f,u.prototype),f}function u(s,f,p){if(typeof s=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(s)}return i(s,f,p)}function i(s,f,p){if(typeof s=="string")return function(w,P){if(typeof P=="string"&&P!==""||(P="utf8"),!u.isEncoding(P))throw new TypeError("Unknown encoding: "+P);var M=0|m(w,P),tt=o(M),rt=tt.write(w,P);return rt!==M&&(tt=tt.slice(0,rt)),tt}(s,f);if(ArrayBuffer.isView(s))return function(w){if(Xt(w,Uint8Array)){var P=new Uint8Array(w);return g(P.buffer,P.byteOffset,P.byteLength)}return d(w)}(s);if(s==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+z(s));if(Xt(s,ArrayBuffer)||s&&Xt(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xt(s,SharedArrayBuffer)||s&&Xt(s.buffer,SharedArrayBuffer)))return g(s,f,p);if(typeof s=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var y=s.valueOf&&s.valueOf();if(y!=null&&y!==s)return u.from(y,f,p);var k=function(w){if(u.isBuffer(w)){var P=0|v(w.length),M=o(P);return M.length===0||w.copy(M,0,0,P),M}if(w.length!==void 0)return typeof w.length!="number"||Ja(w.length)?o(0):d(w);if(w.type==="Buffer"&&Array.isArray(w.data))return d(w.data)}(s);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof s[Symbol.toPrimitive]=="function")return u.from(s[Symbol.toPrimitive]("string"),f,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+z(s))}function c(s){if(typeof s!="number")throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function l(s){return c(s),o(s<0?0:0|v(s))}function d(s){for(var f=s.length<0?0:0|v(s.length),p=o(f),y=0;y<f;y+=1)p[y]=255&s[y];return p}function g(s,f,p){if(f<0||s.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<f+(p||0))throw new RangeError('"length" is outside of buffer bounds');var y;return y=f===void 0&&p===void 0?new Uint8Array(s):p===void 0?new Uint8Array(s,f):new Uint8Array(s,f,p),Object.setPrototypeOf(y,u.prototype),y}function v(s){if(s>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|s}function m(s,f){if(u.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||Xt(s,ArrayBuffer))return s.byteLength;if(typeof s!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+z(s));var p=s.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&p===0)return 0;for(var k=!1;;)switch(f){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return rn(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return Wi(s).length;default:if(k)return y?-1:rn(s).length;f=(""+f).toLowerCase(),k=!0}}function b(s,f,p){var y=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(f>>>=0))return"";for(s||(s="utf8");;)switch(s){case"hex":return Nt(this,f,p);case"utf8":case"utf-8":return It(this,f,p);case"ascii":return Rt(this,f,p);case"latin1":case"binary":return Tt(this,f,p);case"base64":return lt(this,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,f,p);default:if(y)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),y=!0}}function E(s,f,p){var y=s[f];s[f]=s[p],s[p]=y}function S(s,f,p,y,k){if(s.length===0)return-1;if(typeof p=="string"?(y=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),Ja(p=+p)&&(p=k?0:s.length-1),p<0&&(p=s.length+p),p>=s.length){if(k)return-1;p=s.length-1}else if(p<0){if(!k)return-1;p=0}if(typeof f=="string"&&(f=u.from(f,y)),u.isBuffer(f))return f.length===0?-1:N(s,f,p,y,k);if(typeof f=="number")return f&=255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(s,f,p):Uint8Array.prototype.lastIndexOf.call(s,f,p):N(s,[f],p,y,k);throw new TypeError("val must be string, number or Buffer")}function N(s,f,p,y,k){var w,P=1,M=s.length,tt=f.length;if(y!==void 0&&((y=String(y).toLowerCase())==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(s.length<2||f.length<2)return-1;P=2,M/=2,tt/=2,p/=2}function rt(er,ar){return P===1?er[ar]:er.readUInt16BE(ar*P)}if(k){var nt=-1;for(w=p;w<M;w++)if(rt(s,w)===rt(f,nt===-1?0:w-nt)){if(nt===-1&&(nt=w),w-nt+1===tt)return nt*P}else nt!==-1&&(w-=w-nt),nt=-1}else for(p+tt>M&&(p=M-tt),w=p;w>=0;w--){for(var Bt=!0,ln=0;ln<tt;ln++)if(rt(s,w+ln)!==rt(f,ln)){Bt=!1;break}if(Bt)return w}return-1}function _(s,f,p,y){p=Number(p)||0;var k=s.length-p;y?(y=Number(y))>k&&(y=k):y=k;var w,P=f.length;for(y>P/2&&(y=P/2),w=0;w<y;++w){var M=parseInt(f.substr(2*w,2),16);if(Ja(M))return w;s[p+w]=M}return w}function R(s,f,p,y){return Lr(rn(f,s.length-p),s,p,y)}function L(s,f,p,y){return Lr(function(k){for(var w=[],P=0;P<k.length;++P)w.push(255&k.charCodeAt(P));return w}(f),s,p,y)}function I(s,f,p,y){return Lr(Wi(f),s,p,y)}function W(s,f,p,y){return Lr(function(k,w){for(var P,M,tt,rt=[],nt=0;nt<k.length&&!((w-=2)<0);++nt)M=(P=k.charCodeAt(nt))>>8,tt=P%256,rt.push(tt),rt.push(M);return rt}(f,s.length-p),s,p,y)}function lt(s,f,p){return f===0&&p===s.length?n.fromByteArray(s):n.fromByteArray(s.slice(f,p))}function It(s,f,p){p=Math.min(s.length,p);for(var y=[],k=f;k<p;){var w=s[k],P=null,M=w>239?4:w>223?3:w>191?2:1;if(k+M<=p){var tt=void 0,rt=void 0,nt=void 0,Bt=void 0;switch(M){case 1:w<128&&(P=w);break;case 2:(192&(tt=s[k+1]))==128&&(Bt=(31&w)<<6|63&tt)>127&&(P=Bt);break;case 3:tt=s[k+1],rt=s[k+2],(192&tt)==128&&(192&rt)==128&&(Bt=(15&w)<<12|(63&tt)<<6|63&rt)>2047&&(Bt<55296||Bt>57343)&&(P=Bt);break;case 4:tt=s[k+1],rt=s[k+2],nt=s[k+3],(192&tt)==128&&(192&rt)==128&&(192&nt)==128&&(Bt=(15&w)<<18|(63&tt)<<12|(63&rt)<<6|63&nt)>65535&&Bt<1114112&&(P=Bt)}}P===null?(P=65533,M=1):P>65535&&(P-=65536,y.push(P>>>10&1023|55296),P=56320|1023&P),y.push(P),k+=M}return function(ln){var er=ln.length;if(er<=At)return String.fromCharCode.apply(String,ln);for(var ar="",Xa=0;Xa<er;)ar+=String.fromCharCode.apply(String,ln.slice(Xa,Xa+=At));return ar}(y)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{var s=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(s,f),s.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(s,f,p){return i(s,f,p)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(s,f,p){return function(y,k,w){return c(y),y<=0?o(y):k!==void 0?typeof w=="string"?o(y).fill(k,w):o(y).fill(k):o(y)}(s,f,p)},u.allocUnsafe=function(s){return l(s)},u.allocUnsafeSlow=function(s){return l(s)},u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,f){if(Xt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),Xt(f,Uint8Array)&&(f=u.from(f,f.offset,f.byteLength)),!u.isBuffer(s)||!u.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===f)return 0;for(var p=s.length,y=f.length,k=0,w=Math.min(p,y);k<w;++k)if(s[k]!==f[k]){p=s[k],y=f[k];break}return p<y?-1:y<p?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,f){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);var p;if(f===void 0)for(f=0,p=0;p<s.length;++p)f+=s[p].length;var y=u.allocUnsafe(f),k=0;for(p=0;p<s.length;++p){var w=s[p];if(Xt(w,Uint8Array))k+w.length>y.length?(u.isBuffer(w)||(w=u.from(w)),w.copy(y,k)):Uint8Array.prototype.set.call(y,w,k);else{if(!u.isBuffer(w))throw new TypeError('"list" argument must be an Array of Buffers');w.copy(y,k)}k+=w.length}return y},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<s;f+=2)E(this,f,f+1);return this},u.prototype.swap32=function(){var s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<s;f+=4)E(this,f,f+3),E(this,f+1,f+2);return this},u.prototype.swap64=function(){var s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<s;f+=8)E(this,f,f+7),E(this,f+1,f+6),E(this,f+2,f+5),E(this,f+3,f+4);return this},u.prototype.toString=function(){var s=this.length;return s===0?"":arguments.length===0?It(this,0,s):b.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||u.compare(this,s)===0},u.prototype.inspect=function(){var s="",f=t.INSPECT_MAX_BYTES;return s=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(s+=" ... "),"<Buffer "+s+">"},e&&(u.prototype[e]=u.prototype.inspect),u.prototype.compare=function(s,f,p,y,k){if(Xt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+z(s));if(f===void 0&&(f=0),p===void 0&&(p=s?s.length:0),y===void 0&&(y=0),k===void 0&&(k=this.length),f<0||p>s.length||y<0||k>this.length)throw new RangeError("out of range index");if(y>=k&&f>=p)return 0;if(y>=k)return-1;if(f>=p)return 1;if(this===s)return 0;for(var w=(k>>>=0)-(y>>>=0),P=(p>>>=0)-(f>>>=0),M=Math.min(w,P),tt=this.slice(y,k),rt=s.slice(f,p),nt=0;nt<M;++nt)if(tt[nt]!==rt[nt]){w=tt[nt],P=rt[nt];break}return w<P?-1:P<w?1:0},u.prototype.includes=function(s,f,p){return this.indexOf(s,f,p)!==-1},u.prototype.indexOf=function(s,f,p){return S(this,s,f,p,!0)},u.prototype.lastIndexOf=function(s,f,p){return S(this,s,f,p,!1)},u.prototype.write=function(s,f,p,y){if(f===void 0)y="utf8",p=this.length,f=0;else if(p===void 0&&typeof f=="string")y=f,p=this.length,f=0;else{if(!isFinite(f))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");f>>>=0,isFinite(p)?(p>>>=0,y===void 0&&(y="utf8")):(y=p,p=void 0)}var k=this.length-f;if((p===void 0||p>k)&&(p=k),s.length>0&&(p<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");for(var w=!1;;)switch(y){case"hex":return _(this,s,f,p);case"utf8":case"utf-8":return R(this,s,f,p);case"ascii":case"latin1":case"binary":return L(this,s,f,p);case"base64":return I(this,s,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,s,f,p);default:if(w)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),w=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var At=4096;function Rt(s,f,p){var y="";p=Math.min(s.length,p);for(var k=f;k<p;++k)y+=String.fromCharCode(127&s[k]);return y}function Tt(s,f,p){var y="";p=Math.min(s.length,p);for(var k=f;k<p;++k)y+=String.fromCharCode(s[k]);return y}function Nt(s,f,p){var y=s.length;(!f||f<0)&&(f=0),(!p||p<0||p>y)&&(p=y);for(var k="",w=f;w<p;++w)k+=pp[s[w]];return k}function T(s,f,p){for(var y=s.slice(f,p),k="",w=0;w<y.length-1;w+=2)k+=String.fromCharCode(y[w]+256*y[w+1]);return k}function A(s,f,p){if(s%1!=0||s<0)throw new RangeError("offset is not uint");if(s+f>p)throw new RangeError("Trying to access beyond buffer length")}function U(s,f,p,y,k,w){if(!u.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>k||f<w)throw new RangeError('"value" argument is out of bounds');if(p+y>s.length)throw new RangeError("Index out of range")}function Y(s,f,p,y,k){_t(f,y,k,s,p,7);var w=Number(f&BigInt(4294967295));s[p++]=w,w>>=8,s[p++]=w,w>>=8,s[p++]=w,w>>=8,s[p++]=w;var P=Number(f>>BigInt(32)&BigInt(4294967295));return s[p++]=P,P>>=8,s[p++]=P,P>>=8,s[p++]=P,P>>=8,s[p++]=P,p}function D(s,f,p,y,k){_t(f,y,k,s,p,7);var w=Number(f&BigInt(4294967295));s[p+7]=w,w>>=8,s[p+6]=w,w>>=8,s[p+5]=w,w>>=8,s[p+4]=w;var P=Number(f>>BigInt(32)&BigInt(4294967295));return s[p+3]=P,P>>=8,s[p+2]=P,P>>=8,s[p+1]=P,P>>=8,s[p]=P,p+8}function ut(s,f,p,y,k,w){if(p+y>s.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function it(s,f,p,y,k){return f=+f,p>>>=0,k||ut(s,0,p,4),r.write(s,f,p,y,23,4),p+4}function yt(s,f,p,y,k){return f=+f,p>>>=0,k||ut(s,0,p,8),r.write(s,f,p,y,52,8),p+8}u.prototype.slice=function(s,f){var p=this.length;(s=~~s)<0?(s+=p)<0&&(s=0):s>p&&(s=p),(f=f===void 0?p:~~f)<0?(f+=p)<0&&(f=0):f>p&&(f=p),f<s&&(f=s);var y=this.subarray(s,f);return Object.setPrototypeOf(y,u.prototype),y},u.prototype.readUintLE=u.prototype.readUIntLE=function(s,f,p){s>>>=0,f>>>=0,p||A(s,f,this.length);for(var y=this[s],k=1,w=0;++w<f&&(k*=256);)y+=this[s+w]*k;return y},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,f,p){s>>>=0,f>>>=0,p||A(s,f,this.length);for(var y=this[s+--f],k=1;f>0&&(k*=256);)y+=this[s+--f]*k;return y},u.prototype.readUint8=u.prototype.readUInt8=function(s,f){return s>>>=0,f||A(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,f){return s>>>=0,f||A(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,f){return s>>>=0,f||A(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,f){return s>>>=0,f||A(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,f){return s>>>=0,f||A(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=fn(function(s){nn(s>>>=0,"offset");var f=this[s],p=this[s+7];f!==void 0&&p!==void 0||cn(s,this.length-8);var y=f+this[++s]*Math.pow(2,8)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,24),k=this[++s]+this[++s]*Math.pow(2,8)+this[++s]*Math.pow(2,16)+p*Math.pow(2,24);return BigInt(y)+(BigInt(k)<<BigInt(32))}),u.prototype.readBigUInt64BE=fn(function(s){nn(s>>>=0,"offset");var f=this[s],p=this[s+7];f!==void 0&&p!==void 0||cn(s,this.length-8);var y=f*Math.pow(2,24)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,8)+this[++s],k=this[++s]*Math.pow(2,24)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,8)+p;return(BigInt(y)<<BigInt(32))+BigInt(k)}),u.prototype.readIntLE=function(s,f,p){s>>>=0,f>>>=0,p||A(s,f,this.length);for(var y=this[s],k=1,w=0;++w<f&&(k*=256);)y+=this[s+w]*k;return y>=(k*=128)&&(y-=Math.pow(2,8*f)),y},u.prototype.readIntBE=function(s,f,p){s>>>=0,f>>>=0,p||A(s,f,this.length);for(var y=f,k=1,w=this[s+--y];y>0&&(k*=256);)w+=this[s+--y]*k;return w>=(k*=128)&&(w-=Math.pow(2,8*f)),w},u.prototype.readInt8=function(s,f){return s>>>=0,f||A(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},u.prototype.readInt16LE=function(s,f){s>>>=0,f||A(s,2,this.length);var p=this[s]|this[s+1]<<8;return 32768&p?4294901760|p:p},u.prototype.readInt16BE=function(s,f){s>>>=0,f||A(s,2,this.length);var p=this[s+1]|this[s]<<8;return 32768&p?4294901760|p:p},u.prototype.readInt32LE=function(s,f){return s>>>=0,f||A(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,f){return s>>>=0,f||A(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=fn(function(s){nn(s>>>=0,"offset");var f=this[s],p=this[s+7];f!==void 0&&p!==void 0||cn(s,this.length-8);var y=this[s+4]+this[s+5]*Math.pow(2,8)+this[s+6]*Math.pow(2,16)+(p<<24);return(BigInt(y)<<BigInt(32))+BigInt(f+this[++s]*Math.pow(2,8)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,24))}),u.prototype.readBigInt64BE=fn(function(s){nn(s>>>=0,"offset");var f=this[s],p=this[s+7];f!==void 0&&p!==void 0||cn(s,this.length-8);var y=(f<<24)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,8)+this[++s];return(BigInt(y)<<BigInt(32))+BigInt(this[++s]*Math.pow(2,24)+this[++s]*Math.pow(2,16)+this[++s]*Math.pow(2,8)+p)}),u.prototype.readFloatLE=function(s,f){return s>>>=0,f||A(s,4,this.length),r.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,f){return s>>>=0,f||A(s,4,this.length),r.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,f){return s>>>=0,f||A(s,8,this.length),r.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,f){return s>>>=0,f||A(s,8,this.length),r.read(this,s,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,f,p,y){s=+s,f>>>=0,p>>>=0,y||U(this,s,f,p,Math.pow(2,8*p)-1,0);var k=1,w=0;for(this[f]=255&s;++w<p&&(k*=256);)this[f+w]=s/k&255;return f+p},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,f,p,y){s=+s,f>>>=0,p>>>=0,y||U(this,s,f,p,Math.pow(2,8*p)-1,0);var k=p-1,w=1;for(this[f+k]=255&s;--k>=0&&(w*=256);)this[f+k]=s/w&255;return f+p},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,1,255,0),this[f]=255&s,f+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,2,65535,0),this[f]=255&s,this[f+1]=s>>>8,f+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,2,65535,0),this[f]=s>>>8,this[f+1]=255&s,f+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,4,4294967295,0),this[f+3]=s>>>24,this[f+2]=s>>>16,this[f+1]=s>>>8,this[f]=255&s,f+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,4,4294967295,0),this[f]=s>>>24,this[f+1]=s>>>16,this[f+2]=s>>>8,this[f+3]=255&s,f+4},u.prototype.writeBigUInt64LE=fn(function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Y(this,s,f,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=fn(function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return D(this,s,f,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,f,p,y){if(s=+s,f>>>=0,!y){var k=Math.pow(2,8*p-1);U(this,s,f,p,k-1,-k)}var w=0,P=1,M=0;for(this[f]=255&s;++w<p&&(P*=256);)s<0&&M===0&&this[f+w-1]!==0&&(M=1),this[f+w]=(s/P>>0)-M&255;return f+p},u.prototype.writeIntBE=function(s,f,p,y){if(s=+s,f>>>=0,!y){var k=Math.pow(2,8*p-1);U(this,s,f,p,k-1,-k)}var w=p-1,P=1,M=0;for(this[f+w]=255&s;--w>=0&&(P*=256);)s<0&&M===0&&this[f+w+1]!==0&&(M=1),this[f+w]=(s/P>>0)-M&255;return f+p},u.prototype.writeInt8=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,1,127,-128),s<0&&(s=255+s+1),this[f]=255&s,f+1},u.prototype.writeInt16LE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,2,32767,-32768),this[f]=255&s,this[f+1]=s>>>8,f+2},u.prototype.writeInt16BE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,2,32767,-32768),this[f]=s>>>8,this[f+1]=255&s,f+2},u.prototype.writeInt32LE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,4,2147483647,-2147483648),this[f]=255&s,this[f+1]=s>>>8,this[f+2]=s>>>16,this[f+3]=s>>>24,f+4},u.prototype.writeInt32BE=function(s,f,p){return s=+s,f>>>=0,p||U(this,s,f,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[f]=s>>>24,this[f+1]=s>>>16,this[f+2]=s>>>8,this[f+3]=255&s,f+4},u.prototype.writeBigInt64LE=fn(function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Y(this,s,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=fn(function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return D(this,s,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(s,f,p){return it(this,s,f,!0,p)},u.prototype.writeFloatBE=function(s,f,p){return it(this,s,f,!1,p)},u.prototype.writeDoubleLE=function(s,f,p){return yt(this,s,f,!0,p)},u.prototype.writeDoubleBE=function(s,f,p){return yt(this,s,f,!1,p)},u.prototype.copy=function(s,f,p,y){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(p||(p=0),y||y===0||(y=this.length),f>=s.length&&(f=s.length),f||(f=0),y>0&&y<p&&(y=p),y===p||s.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),s.length-f<y-p&&(y=s.length-f+p);var k=y-p;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,p,y):Uint8Array.prototype.set.call(s,this.subarray(p,y),f),k},u.prototype.fill=function(s,f,p,y){if(typeof s=="string"){if(typeof f=="string"?(y=f,f=0,p=this.length):typeof p=="string"&&(y=p,p=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(s.length===1){var k=s.charCodeAt(0);(y==="utf8"&&k<128||y==="latin1")&&(s=k)}}else typeof s=="number"?s&=255:typeof s=="boolean"&&(s=Number(s));if(f<0||this.length<f||this.length<p)throw new RangeError("Out of range index");if(p<=f)return this;var w;if(f>>>=0,p=p===void 0?this.length:p>>>0,s||(s=0),typeof s=="number")for(w=f;w<p;++w)this[w]=s;else{var P=u.isBuffer(s)?s:u.from(s,y),M=P.length;if(M===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(w=0;w<p-f;++w)this[w+f]=P[w%M]}return this};var pt={};function j(s,f,p){pt[s]=function(y){Kr(w,y);var k=Hr(w);function w(){var P;return zr(this,w),P=k.call(this),Object.defineProperty(qr(P),"message",{value:f.apply(qr(P),arguments),writable:!0,configurable:!0}),P.name="".concat(P.name," [").concat(s,"]"),P.stack,delete P.name,P}return Yr(w,[{key:"code",get:function(){return s},set:function(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(s,"]: ").concat(this.message)}}]),w}(p)}function kt(s){for(var f="",p=s.length,y=s[0]==="-"?1:0;p>=y+4;p-=3)f="_".concat(s.slice(p-3,p)).concat(f);return"".concat(s.slice(0,p)).concat(f)}function _t(s,f,p,y,k,w){if(s>p||s<f){var P,M=typeof f=="bigint"?"n":"";throw P=w>3?f===0||f===BigInt(0)?">= 0".concat(M," and < 2").concat(M," ** ").concat(8*(w+1)).concat(M):">= -(2".concat(M," ** ").concat(8*(w+1)-1).concat(M,") and < 2 ** ")+"".concat(8*(w+1)-1).concat(M):">= ".concat(f).concat(M," and <= ").concat(p).concat(M),new pt.ERR_OUT_OF_RANGE("value",P,s)}(function(tt,rt,nt){nn(rt,"offset"),tt[rt]!==void 0&&tt[rt+nt]!==void 0||cn(rt,tt.length-(nt+1))})(y,k,w)}function nn(s,f){if(typeof s!="number")throw new pt.ERR_INVALID_ARG_TYPE(f,"number",s)}function cn(s,f,p){throw Math.floor(s)!==s?(nn(s,p),new pt.ERR_OUT_OF_RANGE(p||"offset","an integer",s)):f<0?new pt.ERR_BUFFER_OUT_OF_BOUNDS:new pt.ERR_OUT_OF_RANGE(p||"offset",">= ".concat(p?1:0," and <= ").concat(f),s)}j("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?"".concat(s," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),j("ERR_INVALID_ARG_TYPE",function(s,f){return'The "'.concat(s,'" argument must be of type number. Received type ').concat(z(f))},TypeError),j("ERR_OUT_OF_RANGE",function(s,f,p){var y='The value of "'.concat(s,'" is out of range.'),k=p;return Number.isInteger(p)&&Math.abs(p)>Math.pow(2,32)?k=kt(String(p)):typeof p=="bigint"&&(k=String(p),(p>Math.pow(BigInt(2),BigInt(32))||p<-Math.pow(BigInt(2),BigInt(32)))&&(k=kt(k)),k+="n"),y+=" It must be ".concat(f,". Received ").concat(k)},RangeError);var rr=/[^+/0-9A-Za-z-_]/g;function rn(s,f){var p;f=f||1/0;for(var y=s.length,k=null,w=[],P=0;P<y;++P){if((p=s.charCodeAt(P))>55295&&p<57344){if(!k){if(p>56319){(f-=3)>-1&&w.push(239,191,189);continue}if(P+1===y){(f-=3)>-1&&w.push(239,191,189);continue}k=p;continue}if(p<56320){(f-=3)>-1&&w.push(239,191,189),k=p;continue}p=65536+(k-55296<<10|p-56320)}else k&&(f-=3)>-1&&w.push(239,191,189);if(k=null,p<128){if((f-=1)<0)break;w.push(p)}else if(p<2048){if((f-=2)<0)break;w.push(p>>6|192,63&p|128)}else if(p<65536){if((f-=3)<0)break;w.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((f-=4)<0)break;w.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return w}function Wi(s){return n.toByteArray(function(f){if((f=(f=f.split("=")[0]).trim().replace(rr,"")).length<2)return"";for(;f.length%4!=0;)f+="=";return f}(s))}function Lr(s,f,p,y){var k;for(k=0;k<y&&!(k+p>=f.length||k>=s.length);++k)f[k+p]=s[k];return k}function Xt(s,f){return s instanceof f||s!=null&&s.constructor!=null&&s.constructor.name!=null&&s.constructor.name===f.name}function Ja(s){return s!=s}var pp=function(){for(var s="0123456789abcdef",f=new Array(256),p=0;p<16;++p)for(var y=16*p,k=0;k<16;++k)f[y+k]=s[p]+s[k];return f}();function fn(s){return typeof BigInt>"u"?dp:s}function dp(){throw new Error("BigInt not supported")}}(X);var $r={exports:{}};(function(t,n){var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(r!==void 0)return r;throw new Error("unable to locate global object")}();t.exports=n=r.fetch,r.fetch&&(n.default=r.fetch.bind(r)),n.Headers=r.Headers,n.Request=r.Request,n.Response=r.Response})($r,$r.exports);var Oo=$r.exports;function $(t){return t==null?null:t.replace(/^0x/,"").replace(/^Fx/,"")}function at(t){return t==null?null:"0x"+$(t)}var Zr=function(t){Kr(r,t);var n=Hr(r);function r(e){var a,o=e.error,u=e.hostname,i=e.path,c=e.method,l=e.requestBody,d=e.responseBody,g=e.responseStatusText,v=e.statusCode;zr(this,r);var m=`
      HTTP Request Error: An error occurred when interacting with the Access API.
      `.concat(o?"error=".concat(o):"",`
      `).concat(u?"hostname=".concat(u):"",`
      `).concat(i?"path=".concat(i):"",`
      `).concat(c?"method=".concat(c):"",`
      `).concat(l?"requestBody=".concat(l):"",`
      `).concat(d?"responseBody=".concat(d):"",`
      `).concat(g?"responseStatusText=".concat(g):"",`
      `).concat(v?"statusCode=".concat(v):"",`
    `);return(a=n.call(this,m)).name="HTTP Request Error",a.statusCode=v,a.errorMessage=o,a}return Yr(r)}(lr(Error));function gt(t){return Qr.apply(this,arguments)}function Qr(){return Qr=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m,b;return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return b=function(){return b=x(h.mark(function S(){var N,_,R=arguments;return h.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return N=R.length>0&&R[0]!==void 0?R[0]:0,L.prev=1,L.next=4,v();case 4:return _=L.sent,L.abrupt("return",_);case 8:if(L.prev=8,L.t0=L.catch(1),![408,429,500,502,503,504].includes(L.t0.statusCode)){L.next=17;break}return L.next=14,new Promise(function(I,W){N<c?(console.warn("Access node unavailable, retrying in ".concat(d," ms...")),setTimeout(function(){I(m(N+1))},d)):W(L.t0)});case 14:return L.abrupt("return",L.sent);case 17:throw L.t0;case 18:case"end":return L.stop()}},S,null,[[1,8]])})),b.apply(this,arguments)},m=function(){return b.apply(this,arguments)},v=function(){return Oo("".concat(r).concat(e),{method:a,body:g,headers:u}).then(function(){var S=x(h.mark(function N(_){var R,L;return h.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!_.ok){I.next=2;break}return I.abrupt("return",_.json());case 2:if(!_.body){I.next=8;break}return I.next=5,_.text();case 5:I.t0=I.sent,I.next=9;break;case 8:I.t0=null;case 9:throw R=I.t0,L=ic(R),new Zr({error:L?.message,hostname:r,path:e,method:a,requestBody:g,responseBody:R,responseStatusText:_.statusText,statusCode:_.status});case 12:case"end":return I.stop()}},N)}));return function(N){return S.apply(this,arguments)}}()).catch(function(){var S=x(h.mark(function N(_){return h.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!(_ instanceof Zr)){R.next=2;break}throw _;case 2:return R.next=4,wt({title:"Access Node Error",message:"The provided access node ".concat(r,` does not appear to be a valid REST/HTTP access node.
Please verify that you are not unintentionally using a GRPC access node.
See more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect`),level:St.error});case 4:throw new Zr({error:_?.message,hostname:r,path:e,method:a,requestBody:g});case 5:case"end":return R.stop()}},N)}));return function(N){return S.apply(this,arguments)}}())},r=n.hostname,e=n.path,a=n.method,o=n.body,u=n.headers,i=n.retryLimit,c=i===void 0?5:i,l=n.retryIntervalMs,d=l===void 0?1e3:l,g=o?JSON.stringify(o):null,E.next=7,m();case 7:return E.abrupt("return",E.sent);case 8:case"end":return E.stop()}},t)})),Qr.apply(this,arguments)}function ic(t){try{return JSON.parse(t)}catch{return null}}function cc(t,n,r){return te.apply(this,arguments)}function te(){return te=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/scripts?block_id=".concat(n.block.id),method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:n.message.arguments.map(function(i){return r.Buffer.from(JSON.stringify(n.arguments[i].asArgument)).toString("base64")})}});case 3:return o=u.sent,u.abrupt("return",ee(n,r,o));case 5:case"end":return u.stop()}},t)})),te.apply(this,arguments)}function fc(t,n,r){return ne.apply(this,arguments)}function ne(){return ne=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/scripts?block_height=".concat(n.block.height),method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:n.message.arguments.map(function(i){return r.Buffer.from(JSON.stringify(n.arguments[i].asArgument)).toString("base64")})}});case 3:return o=u.sent,u.abrupt("return",ee(n,r,o));case 5:case"end":return u.stop()}},t)})),ne.apply(this,arguments)}function lc(t,n,r){return re.apply(this,arguments)}function re(){return re=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:n.message.arguments.map(function(i){return r.Buffer.from(JSON.stringify(n.arguments[i].asArgument)).toString("base64")})}});case 3:return o=u.sent,u.abrupt("return",ee(n,r,o));case 5:case"end":return u.stop()}},t)})),re.apply(this,arguments)}function ee(t,n,r){var e=n.response();return e.tag=t.tag,e.encodedData=JSON.parse(n.Buffer.from(r,"base64").toString()),e}function pc(t){return ae.apply(this,arguments)}function ae(){return ae=x(h.mark(function t(n){var r,e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=a.length>1&&a[1]!==void 0?a[1]:{},C((e=a.length>2&&a[2]!==void 0?a[2]:{}).node,"SDK Send Execute Script Error: opts.node must be defined."),C(r.response,"SDK Send Execute Script Error: context.response must be defined."),C(r.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),o.next=7,n;case 7:if(!(n=o.sent).block.id){o.next=14;break}return o.next=11,cc(n,r,e);case 11:case 17:case 22:return o.abrupt("return",o.sent);case 14:if(!n.block.height){o.next=20;break}return o.next=17,fc(n,r,e);case 20:return o.next=22,lc(n,r,e);case 23:case"end":return o.stop()}},t)})),ae.apply(this,arguments)}var dc={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},hc={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};function gc(t,n,r){return Po.apply(this,arguments)}function Po(){return(Po=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/accounts/".concat(n.account.addr,"?block_height=").concat(n.block.height,"&expand=contracts,keys"),method:"GET",body:null});case 3:return o=u.sent,u.abrupt("return",Bo(n,r,o));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function mc(t,n,r){return No.apply(this,arguments)}function No(){return(No=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/accounts/".concat(n.account.addr,"?block_height=sealed&expand=contracts,keys"),method:"GET",body:null});case 3:return o=u.sent,u.abrupt("return",Bo(n,r,o));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function Bo(t,n,r){var e,a,o=n.response();return o.tag=t.tag,o.account={address:r.address,balance:Number(r.balance),code:"",contracts:function(u){var i={};if(!u)return i;for(var c=0,l=Object.keys(u);c<l.length;c++){var d=l[c];i[d]=n.Buffer.from(u[d],"base64").toString()}return i}(r.contracts),keys:(e=(a=r.keys)===null||a===void 0?void 0:a.map(function(u){return{index:Number(u.index),publicKey:u.public_key.replace(/^0x/,""),signAlgo:hc[u.signing_algorithm],signAlgoString:u.signing_algorithm,hashAlgo:dc[u.hashing_algorithm],hashAlgoString:u.hashing_algorithm,sequenceNumber:Number(u.sequence_number),weight:Number(u.weight),revoked:u.revoked}}))!==null&&e!==void 0?e:[]},o}function vc(t){return oe.apply(this,arguments)}function oe(){return oe=x(h.mark(function t(n){var r,e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=a.length>1&&a[1]!==void 0?a[1]:{},C((e=a.length>2&&a[2]!==void 0?a[2]:{}).node,"SDK Send Get Account Error: opts.node must be defined."),C(r.response,"SDK Send Get Account Error: context.response must be defined."),C(r.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),o.next=7,n;case 7:if((n=o.sent).block.height===null){o.next=14;break}return o.next=11,gc(n,r,e);case 11:case 16:return o.abrupt("return",o.sent);case 14:return o.next=16,mc(n,r,e);case 17:case"end":return o.stop()}},t)})),oe.apply(this,arguments)}function yc(t,n,r){return Lo.apply(this,arguments)}function Lo(){return(Lo=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/blocks/".concat(n.block.id),method:"GET",body:null});case 3:return o=u.sent,u.abrupt("return",ue(n,r,o));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function bc(t,n,r){return Uo.apply(this,arguments)}function Uo(){return(Uo=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/blocks?height=".concat(n.block.height),method:"GET",body:null});case 3:return o=u.sent,u.abrupt("return",ue(n,r,o));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function wc(t,n,r){return jo.apply(this,arguments)}function jo(){return(jo=x(h.mark(function t(n,r,e){var a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=e.httpRequest||gt,u=(a=n.block)!==null&&a!==void 0&&a.isSealed?"sealed":"finalized",c.next=4,o({hostname:e.node,path:"/v1/blocks?height=".concat(u),method:"GET",body:null});case 4:return i=c.sent,c.abrupt("return",ue(n,r,i));case 6:case"end":return c.stop()}},t)}))).apply(this,arguments)}function ue(t,n,r){var e=r.length?r[0]:null,a=n.response();return a.tag=t.tag,a.blockHeader={id:e.header.id,parentId:e.header.parent_id,height:Number(e.header.height),timestamp:e.header.timestamp},a}function xc(t){return se.apply(this,arguments)}function se(){return se=x(h.mark(function t(n){var r,e,a,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>1&&u[1]!==void 0?u[1]:{},C((e=u.length>2&&u[2]!==void 0?u[2]:{}).node,"SDK Send Get Block Header Error: opts.node must be defined."),C(r.response,"SDK Send Get Block Header Error: context.response must be defined."),i.next=6,n;case 6:if(n=i.sent,a=n.block.id!==null,o=n.block.height!==null,!a){i.next=15;break}return i.next=12,yc(n,r,e);case 12:case 18:case 23:return i.abrupt("return",i.sent);case 15:if(!o){i.next=21;break}return i.next=18,bc(n,r,e);case 21:return i.next=23,wc(n,r,e);case 24:case"end":return i.stop()}},t)})),se.apply(this,arguments)}function kc(t,n,r){return Fo.apply(this,arguments)}function Fo(){return(Fo=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/blocks/".concat(n.block.id,"?expand=payload"),method:"GET",body:null});case 3:return o=u.sent,u.abrupt("return",ie(n,r,o));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function Ec(t,n,r){return Do.apply(this,arguments)}function Do(){return(Do=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/blocks?height=".concat(n.block.height,"&expand=payload"),method:"GET",body:null});case 3:return o=u.sent,u.abrupt("return",ie(n,r,o));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function Ic(t,n,r){return Go.apply(this,arguments)}function Go(){return(Go=x(h.mark(function t(n,r,e){var a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=e.httpRequest||gt,u=(a=n.block)!==null&&a!==void 0&&a.isSealed?"sealed":"final",c.next=4,o({hostname:e.node,path:"/v1/blocks?height=".concat(u,"&expand=payload"),method:"GET",body:null});case 4:return i=c.sent,c.abrupt("return",ie(n,r,i));case 6:case"end":return c.stop()}},t)}))).apply(this,arguments)}function ie(t,n,r){var e=r.length?r[0]:null,a=n.response();return a.tag=t.tag,a.block={id:e.header.id,parentId:e.header.parent_id,height:Number(e.header.height),timestamp:e.header.timestamp,collectionGuarantees:e.payload.collection_guarantees.map(function(o){return{collectionId:o.collection_id,signerIds:o.signer_ids}}),blockSeals:e.payload.block_seals.map(function(o){return{blockId:o.block_id,executionReceiptId:o.result_id}})},a}function Sc(t){return ce.apply(this,arguments)}function ce(){return ce=x(h.mark(function t(n){var r,e,a,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>1&&u[1]!==void 0?u[1]:{},C((e=u.length>2&&u[2]!==void 0?u[2]:{}).node,"SDK Send Get Block Error: opts.node must be defined."),C(r.response,"SDK Send Get Block Error: context.response must be defined."),i.next=6,n;case 6:if(n=i.sent,a=n.block.id!==null,o=n.block.height!==null,!a){i.next=15;break}return i.next=12,kc(n,r,e);case 12:case 18:case 23:return i.abrupt("return",i.sent);case 15:if(!o){i.next=21;break}return i.next=18,Ec(n,r,e);case 21:return i.next=23,Ic(n,r,e);case 24:case"end":return i.stop()}},t)})),ce.apply(this,arguments)}function Ac(t){return fe.apply(this,arguments)}function fe(){return fe=x(h.mark(function t(n){var r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=i.length>1&&i[1]!==void 0?i[1]:{},C((e=i.length>2&&i[2]!==void 0?i[2]:{}).node,"SDK Send Get Collection Error: opts.node must be defined."),C(r.response,"SDK Send Get Collection Error: context.response must be defined."),a=e.httpRequest||gt,c.next=7,a({hostname:e.node,path:"/v1/collections/".concat(n.collection.id,"?expand=transactions"),method:"GET",body:null});case 7:return o=c.sent,(u=r.response()).tag=n.tag,u.collection={id:o.id,transactionIds:o.transactions.map(function(l){return l.id})},c.abrupt("return",u);case 12:case"end":return c.stop()}},t)})),fe.apply(this,arguments)}function Rc(t,n,r){return Mo.apply(this,arguments)}function Mo(){return(Mo=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/events?type=".concat(n.events.eventType,"&start_height=").concat(n.events.start,"&end_height=").concat(n.events.end),method:"GET",body:null});case 3:return o=u.sent,u.abrupt("return",Yo(n,r,o));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function Tc(t,n,r){return zo.apply(this,arguments)}function zo(){return(zo=x(h.mark(function t(n,r,e){var a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.httpRequest||gt,u.next=3,a({hostname:e.node,path:"/v1/events?type=".concat(n.events.eventType,"&block_ids=").concat(n.events.blockIds.join(",")),method:"GET",body:null});case 3:return o=u.sent,u.abrupt("return",Yo(n,r,o));case 5:case"end":return u.stop()}},t)}))).apply(this,arguments)}function Yo(t,n,r){var e=n.response();return e.tag=t.tag,e.events=[],r.forEach(function(a){return a.events?a.events.forEach(function(o){return e.events.push({blockId:a.block_id,blockHeight:Number(a.block_height),blockTimestamp:a.block_timestamp,type:o.type,transactionId:o.transaction_id,transactionIndex:Number(o.transaction_index),eventIndex:Number(o.event_index),payload:JSON.parse(n.Buffer.from(o.payload,"base64").toString())})}):null}),e}function _c(t){return le.apply(this,arguments)}function le(){return le=x(h.mark(function t(n){var r,e,a,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>1&&u[1]!==void 0?u[1]:{},C((e=u.length>2&&u[2]!==void 0?u[2]:{}).node,"SDK Send Get Events Error: opts.node must be defined."),C(r.response,"SDK Send Get Events Error: context.response must be defined."),C(r.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),i.next=7,n;case 7:if(n=i.sent,a=n.events.start!==null,o=Array.isArray(n.events.blockIds)&&n.events.blockIds.length>0,C(a||o,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),!a){i.next=17;break}return i.next=14,Rc(n,r,e);case 14:case 19:return i.abrupt("return",i.sent);case 17:return i.next=19,Tc(n,r,e);case 20:case"end":return i.stop()}},t)})),le.apply(this,arguments)}function Cc(t){return pe.apply(this,arguments)}function pe(){return pe=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d=arguments;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return r=d.length>1&&d[1]!==void 0?d[1]:{},C((e=d.length>2&&d[2]!==void 0?d[2]:{}).node,"SDK Send Get Transaction Error: opts.node must be defined."),C(r.response,"SDK Send Get Transaction Error: context.response must be defined."),C(r.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined."),a=e.httpRequest||gt,g.next=8,n;case 8:return n=g.sent,g.next=11,a({hostname:e.node,path:"/v1/transactions/".concat(n.transaction.id),method:"GET",body:null});case 11:return o=g.sent,u=function(v){return{address:v.address,keyId:Number(v.key_id),sequenceNumber:Number(v.sequence_number)}},i=function(v){return{address:v.address,keyId:Number(v.key_index),signature:v.signature}},c=function(v){return JSON.parse(r.Buffer.from(v,"base64").toString())},(l=r.response()).tag=n.tag,l.transaction={script:r.Buffer.from(o.script,"base64").toString(),args:K(o.arguments.map(c)),referenceBlockId:o.reference_block_id,gasLimit:Number(o.gas_limit),payer:o.payer,proposalKey:o.proposal_key?u(o.proposal_key):o.proposal_key,authorizers:o.authorizers,payloadSignatures:K(o.payload_signatures.map(i)),envelopeSignatures:K(o.envelope_signatures.map(i))},g.abrupt("return",l);case 19:case"end":return g.stop()}},t)})),pe.apply(this,arguments)}var Oc={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};function Pc(t){return de.apply(this,arguments)}function de(){return de=x(h.mark(function t(n){var r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=i.length>1&&i[1]!==void 0?i[1]:{},C((e=i.length>2&&i[2]!==void 0?i[2]:{}).node,"SDK Send Get Transaction Status Error: opts.node must be defined."),C(r.response,"SDK Send Get Transaction Status Error: context.response must be defined."),C(r.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined."),a=e.httpRequest||gt,c.next=8,n;case 8:return n=c.sent,c.next=11,a({hostname:e.node,path:"/v1/transaction_results/".concat(n.transaction.id),method:"GET",body:null});case 11:return o=c.sent,(u=r.response()).tag=n.tag,u.transactionStatus={blockId:o.block_id,status:Oc[o.status.toUpperCase()]||"",statusString:o.status.toUpperCase(),statusCode:o.status_code,errorMessage:o.error_message,events:o.events.map(function(l){return{type:l.type,transactionId:l.transaction_id,transactionIndex:Number(l.transaction_index),eventIndex:Number(l.event_index),payload:JSON.parse(r.Buffer.from(l.payload,"base64").toString())}})},c.abrupt("return",u);case 16:case"end":return c.stop()}},t)})),de.apply(this,arguments)}function Nc(t){return he.apply(this,arguments)}function he(){return he=x(h.mark(function t(n){var r,e,a,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>1&&u[1]!==void 0?u[1]:{},C((e=u.length>2&&u[2]!==void 0?u[2]:{}).node,"SDK Send Ping Error: opts.node must be defined."),C(r.response,"SDK Send Ping Error: context.response must be defined."),a=e.httpRequest||gt,i.next=7,a({hostname:e.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});case 7:return(o=r.response()).tag=n.tag,i.abrupt("return",o);case 10:case"end":return i.stop()}},t)})),he.apply(this,arguments)}var Bc=function(t){return"".concat(withPrefix(t.addr),"-").concat(t.keyId)};function Lc(t){return ge.apply(this,arguments)}function ge(){return ge=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m,b,E,S,N,_=arguments;return h.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return r=_.length>1&&_[1]!==void 0?_[1]:{},C((e=_.length>2&&_[2]!==void 0?_[2]:{}).node,"SDK Send Transaction Error: opts.node must be defined."),C(r.response,"SDK Send Transaction Error: context.response must be defined."),C(r.Buffer,"SDK Send Transaction Error: context.Buffer must be defined."),a=e.httpRequest||gt,R.next=8,n;case 8:n=R.sent,o=[],u=0,i=Object.values(n.accounts);case 11:if(!(u<i.length)){R.next=24;break}c=i[u],R.prev=13,c.role.payer||c.signature==null||o.push({address:$(c.addr),key_index:String(c.keyId),signature:r.Buffer.from(c.signature,"hex").toString("base64")}),R.next=21;break;case 17:throw R.prev=17,R.t0=R.catch(13),console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:c,ix:n}),R.t0;case 21:u++,R.next=11;break;case 24:l={},d=0,g=Object.values(n.accounts);case 26:if(!(d<g.length)){R.next=39;break}v=g[d],R.prev=28,v.role.payer&&v.signature!=null&&(m=v.tempId||Bc(v),l[m]=l[m]||{address:$(v.addr),key_index:String(v.keyId),signature:r.Buffer.from(v.signature,"hex").toString("base64")}),R.next=36;break;case 32:throw R.prev=32,R.t1=R.catch(28),console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:v,ix:n}),R.t1;case 36:d++,R.next=26;break;case 39:return l=Object.values(l),b=Date.now(),R.next=43,a({hostname:e.node,path:"/v1/transactions",method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:K(n.message.arguments.map(function(L){return r.Buffer.from(JSON.stringify(n.arguments[L].asArgument)).toString("base64")})),reference_block_id:n.message.refBlock?n.message.refBlock:null,gas_limit:String(n.message.computeLimit),payer:$(n.accounts[Array.isArray(n.payer)?n.payer[0]:n.payer].addr),proposal_key:{address:$(n.accounts[n.proposer].addr),key_index:String(n.accounts[n.proposer].keyId),sequence_number:String(n.accounts[n.proposer].sequenceNum)},authorizers:n.authorizations.map(function(L){return n.accounts[L].addr}).reduce(function(L,I){return L.find(function(W){return W===I})?L:[].concat(K(L),[I])},[]).map($),payload_signatures:o,envelope_signatures:l}});case 43:return E=R.sent,S=Date.now(),(N=r.response()).tag=n.tag,N.transactionId=E.id,typeof window<"u"&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:N.transactionId,delta:S-b}})),R.abrupt("return",N);case 50:case"end":return R.stop()}},t,null,[[13,17],[28,32]])})),ge.apply(this,arguments)}var me=function(){var t=x(h.mark(function n(r){var e,a,o=arguments;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return e=o.length>1&&o[1]!==void 0?o[1]:{},C((a=o.length>2&&o[2]!==void 0?o[2]:{}).node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),C(e.ix,"SDK Send Error: context.ix must be defined."),u.next=6,r;case 6:r=u.sent,u.t0=!0,u.next=u.t0===e.ix.isTransaction(r)?10:u.t0===e.ix.isGetTransactionStatus(r)?11:u.t0===e.ix.isGetTransaction(r)?12:u.t0===e.ix.isScript(r)?13:u.t0===e.ix.isGetAccount(r)?14:u.t0===e.ix.isGetEvents(r)?15:u.t0===e.ix.isGetBlock(r)?16:u.t0===e.ix.isGetBlockHeader(r)?17:u.t0===e.ix.isGetCollection(r)?18:u.t0===e.ix.isPing(r)?19:20;break;case 10:return u.abrupt("return",a.sendTransaction?a.sendTransaction(r,e,a):Lc(r,e,a));case 11:return u.abrupt("return",a.sendGetTransactionStatus?a.sendGetTransactionStatus(r,e,a):Pc(r,e,a));case 12:return u.abrupt("return",a.sendGetTransaction?a.sendGetTransaction(r,e,a):Cc(r,e,a));case 13:return u.abrupt("return",a.sendExecuteScript?a.sendExecuteScript(r,e,a):pc(r,e,a));case 14:return u.abrupt("return",a.sendGetAccount?a.sendGetAccount(r,e,a):vc(r,e,a));case 15:return u.abrupt("return",a.sendGetEvents?a.sendGetEvents(r,e,a):_c(r,e,a));case 16:return u.abrupt("return",a.sendGetBlock?a.sendGetBlock(r,e,a):Sc(r,e,a));case 17:return u.abrupt("return",a.sendGetBlockHeader?a.sendGetBlockHeader(r,e,a):xc(r,e,a));case 18:return u.abrupt("return",a.sendGetCollection?a.sendGetCollection(r,e,a):Ac(r,e,a));case 19:return u.abrupt("return",a.sendPing?a.sendPing(r,e,a):Nc(r,e,a));case 20:return u.abrupt("return",r);case 21:case"end":return u.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),ve={},qo={},Ko={},Ho={},ye=function(t,n){return function(r,e){var a=2*e,o=2*n;r[a]=t[o],r[a+1]=t[o+1]}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=ye)&&n.__esModule?n:{default:n},e=function(a){for(var o=a.A,u=a.C,i=0;i<25;i+=5){for(var c=0;c<5;c++)(0,r.default)(o,i+c)(u,c);for(var l=0;l<5;l++){var d=2*(i+l),g=(l+1)%5*2,v=(l+2)%5*2;o[d]^=~u[g]&u[v],o[d+1]^=~u[g+1]&u[v+1]}}};t.default=e})(Ho);var Wo={},Vo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);t.default=n})(Vo),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=Vo)&&n.__esModule?n:{default:n},e=function(a){var o=a.A,u=2*a.roundIndex;o[0]^=r.default[u],o[1]^=r.default[u+1]};t.default=e}(Wo);var Jo={},Xo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];t.default=n})(Xo);var $o={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];t.default=n})($o),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(Xo),r=a($o),e=a(ye);function a(u){return u&&u.__esModule?u:{default:u}}var o=function(u){var i=u.A,c=u.C,l=u.W;(0,e.default)(i,1)(l,0);for(var d=0,g=0,v=0,m=32,b=0;b<24;b++){var E=n.default[b],S=r.default[b];(0,e.default)(i,E)(c,0),d=l[0],g=l[1],m=32-S,l[v=S<32?0:1]=d<<S|g>>>m,l[(v+1)%2]=g<<S|d>>>m,(0,e.default)(l,0)(i,E),(0,e.default)(c,0)(l,0)}};t.default=o}(Jo);var Zo={};function Qo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(!t.length&&!n.length||!t.length)return r;if(!n.length)return[].concat(K(r),[t[0]]);var e=Dn(t),a=e[0],o=e.slice(1),u=Dn(n),i=u[0],c=u.slice(1);return a!==void 0&&r.push(a),i!==void 0&&r.push(i),Qo(o,c,r)}function tu(t){return function(n){return typeof n=="function"?(wt.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),tu(t)(n(t))):String(n)}}function pr(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return typeof t=="string"?function(){return t}:Array.isArray(t)?function(a){return Qo(t,r.map(tu(a))).join("").trim()}:t}function Uc(t,n){if(t==null)return{};var r,e,a=function(u,i){if(u==null)return{};var c,l,d={},g=Object.keys(u);for(l=0;l<g.length;l++)c=g[l],i.indexOf(c)>=0||(d[c]=u[c]);return d}(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)r=o[e],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=ye)&&n.__esModule?n:{default:n},e=function(a){for(var o=a.A,u=a.C,i=a.D,c=a.W,l=0,d=0,g=0;g<5;g++){var v=2*g,m=2*(g+5),b=2*(g+10),E=2*(g+15),S=2*(g+20);u[v]=o[v]^o[m]^o[b]^o[E]^o[S],u[v+1]=o[v+1]^o[m+1]^o[b+1]^o[E+1]^o[S+1]}for(var N=0;N<5;N++){(0,r.default)(u,(N+1)%5)(c,0),l=c[0],d=c[1],c[0]=l<<1|d>>>31,c[1]=d<<1|l>>>31,i[2*N]=u[(N+4)%5*2]^c[0],i[2*N+1]=u[(N+4)%5*2+1]^c[1];for(var _=0;_<25;_+=5)o[2*(_+N)]^=i[2*N],o[2*(_+N)+1]^=i[2*N+1]}};t.default=e})(Zo),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(Ho),r=o(Wo),e=o(Jo),a=o(Zo);function o(i){return i&&i.__esModule?i:{default:i}}var u=function(){var i=new Uint32Array(10),c=new Uint32Array(10),l=new Uint32Array(2);return function(d){for(var g=0;g<24;g++)(0,a.default)({A:d,C:i,D:c,W:l}),(0,e.default)({A:d,C:i,W:l}),(0,n.default)({A:d,C:i}),(0,r.default)({A:d,roundIndex:g});i.fill(0),c.fill(0),l.fill(0)}};t.default=u}(Ko),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=X,e=(n=Ko)&&n.__esModule?n:{default:n},a=function(i,c){for(var l=0;l<i.length;l+=8){var d=l/4;c[d]^=i[l+7]<<24|i[l+6]<<16|i[l+5]<<8|i[l+4],c[d+1]^=i[l+3]<<24|i[l+2]<<16|i[l+1]<<8|i[l]}return c},o=function(i,c){for(var l=0;l<c.length;l+=8){var d=l/4;c[l]=i[d+1],c[l+1]=i[d+1]>>>8,c[l+2]=i[d+1]>>>16,c[l+3]=i[d+1]>>>24,c[l+4]=i[d],c[l+5]=i[d]>>>8,c[l+6]=i[d]>>>16,c[l+7]=i[d]>>>24}return c},u=function(i){var c=this,l=i.capacity,d=i.padding,g=(0,e.default)(),v=l/8,m=200-l/4,b=0,E=new Uint32Array(50),S=r.Buffer.allocUnsafe(m);return this.absorb=function(N){for(var _=0;_<N.length;_++)S[b]=N[_],(b+=1)>=m&&(a(S,E),g(E),b=0);return c},this.squeeze=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_={buffer:N.buffer||r.Buffer.allocUnsafe(v),padding:N.padding||d,queue:r.Buffer.allocUnsafe(S.length),state:new Uint32Array(E.length)};S.copy(_.queue);for(var R=0;R<E.length;R++)_.state[R]=E[R];_.queue.fill(0,b),_.queue[b]|=_.padding,_.queue[m-1]|=128,a(_.queue,_.state);for(var L=0;L<_.buffer.length;L+=m)g(_.state),o(_.state,_.buffer.slice(L,L+m));return _.buffer},this.reset=function(){return S.fill(0),E.fill(0),b=0,c},this};t.default=u}(qo),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHAKE=t.SHA3Hash=t.SHA3=t.Keccak=void 0;var n,r=X,e=(n=qo)&&n.__esModule?n:{default:n},a=function(d){var g=d.allowedSizes,v=d.defaultSize,m=d.padding;return function b(){var E=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(!this||this.constructor!==b)return new b(S);if(g&&!g.includes(S))throw new Error("Unsupported hash length");var N=new e.default({capacity:S});return this.update=function(_){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"utf8";if(r.Buffer.isBuffer(_))return N.absorb(_),E;if(typeof _=="string")return E.update(r.Buffer.from(_,R));throw new TypeError("Not a string or buffer")},this.digest=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"binary",R=typeof _=="string"?{format:_}:_,L=N.squeeze({buffer:R.buffer,padding:R.padding||m});return R.format&&R.format!=="binary"?L.toString(R.format):L},this.reset=function(){return N.reset(),E},this}},o=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});t.Keccak=o;var u=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});t.SHA3=u;var i=a({allowedSizes:[128,256],defaultSize:256,padding:31});t.SHAKE=i;var c=o;t.SHA3Hash=c,u.SHA3Hash=c;var l=u;t.default=l}(ve);var dr="UNKNOWN",be="SCRIPT",we="TRANSACTION",xe="GET_TRANSACTION_STATUS",ke="GET_ACCOUNT",Ee="GET_EVENTS",Ie="PING",Se="GET_TRANSACTION",Ae="GET_BLOCK",Re="GET_BLOCK_HEADER",Te="GET_COLLECTION",_e="BAD",hr="OK",Ce="ACCOUNT",nu="PARAM",Oe="ARGUMENT",Pe="authorizer",Ne="payer",ru="proposer",jc=`{
  "kind":"`.concat(Ce,`",
  "tempId":null,
  "addr":null,
  "keyId":null,
  "sequenceNum":null,
  "signature":null,
  "signingFunction":null,
  "resolve":null,
  "role": {
    "proposer":false,
    "authorizer":false,
    "payer":false,
    "param":false
  }
}`),Fc=`{
  "kind":"`.concat(Oe,`",
  "tempId":null,
  "value":null,
  "asArgument":null,
  "xform":null,
  "resolve": null,
  "resolveArgument": null
}`),eu=`{
  "tag":"`.concat(dr,`",
  "assigns":{},
  "status":"`).concat(hr,`",
  "reason":null,
  "accounts":{},
  "params":{},
  "arguments":{},
  "message": {
    "cadence":null,
    "refBlock":null,
    "computeLimit":null,
    "proposer":null,
    "payer":null,
    "authorizations":[],
    "params":[],
    "arguments":[]
  },
  "proposer":null,
  "authorizations":[],
  "payer":[],
  "events": {
    "eventType":null,
    "start":null,
    "end":null,
    "blockIds":[]
  },
  "transaction": {
    "id":null
  },
  "block": {
    "id":null,
    "height":null,
    "isSealed":null
  },
  "account": {
    "addr":null
  },
  "collection": {
    "id":null
  }
}`),au=new Set(Object.keys(JSON.parse(eu))),gr=function(){return JSON.parse(eu)},ou="abcdefghijklmnopqrstuvwxyz0123456789".split(""),Dc=function(){return ou[~~(Math.random()*ou.length)]},Be=function(){return Array.from({length:10},Dc).join("")},uu=function(t){return typeof t=="number"},su=function(t){return Array.isArray(t)},iu=function(t){return t!==null&&z(t)==="object"},Le=function(t){return t==null},kn=function(t){return typeof t=="function"},cu=function(t){if(!iu(t)||Le(t)||uu(t))return!1;var n,r=bt(au);try{for(r.s();!(n=r.n()).done;){var e=n.value;if(!t.hasOwnProperty(e))return!1}}catch(a){r.e(a)}finally{r.f()}return!0},ht=function(t){return t.status=hr,t},Ue=function(t,n){return t.status=_e,t.reason=n,t},jt=function(t){return function(n){return n.tag=t,ht(n)}},fu=function(t){return t.keyId==null?t:(C(!isNaN(parseInt(t.keyId)),"account.keyId must be an integer"),O(O({},t),{},{keyId:parseInt(t.keyId)}))},mr=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){C(typeof t=="function"||z(t)==="object","prepAccount must be passed an authorization function or an account object"),C(n.role!=null,"Account must have a role");var e=JSON.parse(jc),a=n.role,o=Be();t.authorization&&kn(t.authorization)&&(t={resolve:t.authorization}),!t.authorization&&kn(t)&&(t={resolve:t});var u=t.resolve;return u&&(t.resolve=function(i){for(var c=arguments.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=arguments[d];return[u,fu].reduce(function(){var g=x(h.mark(function v(m,b){return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.t0=b,E.t1=void 0,E.next=4,m;case 4:return E.t2=E.sent,E.t3=[E.t2].concat(l),E.abrupt("return",E.t0.apply.call(E.t0,E.t1,E.t3));case 7:case"end":return E.stop()}},v)}));return function(v,m){return g.apply(this,arguments)}}(),i)}),t=fu(t),r.accounts[o]=O(O(O({},e),{},{tempId:o},t),{},{role:O(O(O({},e.role),z(t.role)==="object"?t.role:{}),{},q({},a,!0))}),a===Pe?r.authorizations.push(o):a===Ne?r.payer.push(o):r[a]=o,r}},lu=function(t){return function(n){var r=Be();return n.message.arguments.push(r),n.arguments[r]=JSON.parse(Fc),n.arguments[r].tempId=r,n.arguments[r].value=t.value,n.arguments[r].asArgument=t.asArgument,n.arguments[r].xform=t.xform,n.arguments[r].resolve=t.resolve,n.arguments[r].resolveArgument=kn(t.resolveArgument)?t.resolveArgument.bind(t):t.resolveArgument,ht(n)}},Gc=jt(dr),pu=jt(be),du=jt(we),hu=jt(xe),gu=jt(Se),mu=jt(ke),vr=jt(Ee),vu=jt(Ie),yu=jt(Ae),bu=jt(Re),wu=jt(Te),Ft=function(t){return function(n){return n.tag===t}},Mc=Ft(dr),je=Ft(be),un=Ft(we),zc=Ft(xe),Yc=Ft(Se),Fe=Ft(ke),qc=Ft(Ee),Kc=Ft(Ie),xu=Ft(Ae),Hc=Ft(Re),Wc=Ft(Te),ku=function(t){return t.status===hr},De=function(t){return t.status===_e},Eu=function(t){return t.reason},Vc=function(t){for(var n=0,r=Object.keys(t);n<r.length;n++){var e=r[n];if(!au.has(e))throw new Error('"'.concat(e,'" is an invalid root level Interaction property.'))}return t},yr=function(){var t=x(h.mark(function n(r){var e,a,o,u,i,c=arguments;return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=c.length>1&&c[1]!==void 0?c[1]:[],l.prev=1,l.t0=Vc,l.next=5,r;case 5:if(l.t1=l.sent,r=(0,l.t0)(l.t1),!De(r)){l.next=9;break}throw new Error("Interaction Error: ".concat(r.reason));case 9:if(e.length){l.next=11;break}return l.abrupt("return",r);case 11:return a=Dn(e),o=a[0],u=a.slice(1),l.next=14,o;case 14:if(i=l.sent,!kn(i)){l.next=17;break}return l.abrupt("return",yr(i(r),u));case 17:if(!Le(i)&&i){l.next=19;break}return l.abrupt("return",yr(r,u));case 19:if(!cu(i)){l.next=21;break}return l.abrupt("return",yr(i,u));case 21:throw new Error("Invalid Interaction Composition");case 24:throw l.prev=24,l.t2=l.catch(1),l.t2;case 27:case"end":return l.stop()}},n,null,[[1,24]])}));return function(n){return t.apply(this,arguments)}}(),st=function t(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var a=r[0],o=r[1];return su(a)&&o==null?function(u){return t(u,a)}:yr(a,o)},Jc=function(t){return t},br=function(t,n,r){return t.assigns[n]==null?r:t.assigns[n]},wr=function(t,n){return function(r){return r.assigns[t]=n,ht(r)}},Iu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jc;return function(r){return r.assigns[t]=n(r.assigns[t],r),ht(r)}},Ge=Object.freeze({__proto__:null,UNKNOWN:dr,SCRIPT:be,TRANSACTION:we,GET_TRANSACTION_STATUS:xe,GET_ACCOUNT:ke,GET_EVENTS:Ee,PING:Ie,GET_TRANSACTION:Se,GET_BLOCK:Ae,GET_BLOCK_HEADER:Re,GET_COLLECTION:Te,BAD:_e,OK:hr,ACCOUNT:Ce,PARAM:nu,ARGUMENT:Oe,AUTHORIZER:Pe,PAYER:Ne,PROPOSER:ru,interaction:gr,uuid:Be,isNumber:uu,isArray:su,isObj:iu,isNull:Le,isFn:kn,isInteraction:cu,Ok:ht,Bad:Ue,prepAccount:mr,makeArgument:lu,makeUnknown:Gc,makeScript:pu,makeTransaction:du,makeGetTransactionStatus:hu,makeGetTransaction:gu,makeGetAccount:mu,makeGetEvents:vr,makePing:vu,makeGetBlock:yu,makeGetBlockHeader:bu,makeGetCollection:wu,isUnknown:Mc,isScript:je,isTransaction:un,isGetTransactionStatus:zc,isGetTransaction:Yc,isGetAccount:Fe,isGetEvents:qc,isPing:Kc,isGetBlock:xu,isGetBlockHeader:Hc,isGetCollection:Wc,isOk:ku,isBad:De,why:Eu,isAccount:function(t){return t.kind===Ce},isParam:function(t){return t.kind===nu},isArgument:function(t){return t.kind===Oe},pipe:st,get:br,put:wr,update:Iu,destroy:function(t){return function(n){return delete n.assigns[t],ht(n)}}});function xr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return st(gr(),t)}var Me=function(){return JSON.parse(`{
    "tag":null,
    "transaction":null,
    "transactionStatus":null,
    "transactionId":null,
    "encodedData":null,
    "events":null,
    "account":null,
    "block":null,
    "blockHeader":null,
    "latestBlock":null,
    "collection":null
}`)};function Yn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return st([yu,function(n){return n.block.isSealed=t,ht(n)}])}function En(t){return st([mu,function(n){return n.account.addr=$(t),ht(n)}])}var Xc=function(){wt.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})},ot=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),$c=function(){var t=x(h.mark(function n(){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",null);case 1:case"end":return r.stop()}},n)}));return function(){return t.apply(this,arguments)}}(),Zc=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.staticType);case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Qc=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{domain:r.domain,identifier:r.identifier});case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),tf=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{path:r.path,address:r.address,borrowType:r.borrowType});case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),nf=function(){var t=x(h.mark(function n(r,e,a){return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!r){o.next=6;break}return o.next=3,In(r,e,a);case 3:o.t0=o.sent,o.next=7;break;case 6:o.t0=null;case 7:return o.abrupt("return",o.t0);case 8:case"end":return o.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),rf=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{address:r.address,type:r.type});case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),ef=function(){var t=x(h.mark(function n(r,e,a){return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Promise.all(r.map(function(u){return new Promise(function(){var i=x(h.mark(function c(l){return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.t0=l,d.next=3,In(u,e,[].concat(K(a),[u.type]));case 3:return d.t1=d.sent,d.abrupt("return",(0,d.t0)(d.t1));case 5:case"end":return d.stop()}},c)}));return function(c){return i.apply(this,arguments)}}())}));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),af=function(){var t=x(h.mark(function n(r,e,a){return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.reduce(function(){var u=x(h.mark(function i(c,l){return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,c;case 2:return c=d.sent,d.next=5,In(l.key,e,[].concat(K(a),[l.key]));case 5:return d.t0=d.sent,d.next=8,In(l.value,e,[].concat(K(a),[l.key]));case 8:return c[d.t0]=d.sent,d.abrupt("return",c);case 10:case"end":return d.stop()}},i)}));return function(i,c){return u.apply(this,arguments)}}(),Promise.resolve({}));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),kr=function(){var t=x(h.mark(function n(r,e,a){var o,u;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.fields.reduce(function(){var c=x(h.mark(function l(d,g){return h.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,d;case 2:return d=v.sent,v.next=5,In(g.value,e,[].concat(K(a),[g.name]));case 5:return d[g.name]=v.sent,v.abrupt("return",d);case 7:case"end":return v.stop()}},l)}));return function(l,d){return c.apply(this,arguments)}}(),Promise.resolve({}));case 2:if(o=i.sent,!(u=r.id&&Au(e,r.id))){i.next=10;break}return i.next=7,u(o);case 7:i.t0=i.sent,i.next=11;break;case 10:i.t0=o;case 11:return i.abrupt("return",i.t0);case 12:case"end":return i.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),Su={UInt:ot,Int:ot,UInt8:ot,Int8:ot,UInt16:ot,Int16:ot,UInt32:ot,Int32:ot,UInt64:ot,Int64:ot,UInt128:ot,Int128:ot,UInt256:ot,Int256:ot,Word8:ot,Word16:ot,Word32:ot,Word64:ot,UFix64:ot,Fix64:ot,String:ot,Character:ot,Bool:ot,Address:ot,Void:$c,Optional:nf,Reference:rf,Array:ef,Dictionary:af,Event:kr,Resource:kr,Struct:kr,Enum:kr,Type:Zc,Path:Qc,Capability:tf},Au=function(t,n){var r=Object.keys(t).find(function(e){return/^\/.*\/$/.test(e)?new RegExp(e.substring(1,e.length-1)).test(n):e===n});return n&&r&&t[r]},In=function(){var t=x(h.mark(function n(r,e,a){var o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(o=Au(e,r.type)){u.next=3;break}throw new Error("Undefined Decoder Error: ".concat(r.type,"@").concat(a.join(".")));case 3:return u.next=5,o(r.value,e,a);case 5:return u.abrupt("return",u.sent);case 6:case"end":return u.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}(),ze=function(){var t=x(h.mark(function n(r){var e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return e=i.length>1&&i[1]!==void 0?i[1]:{},a=i.length>2&&i[2]!==void 0?i[2]:[],o=Object.keys(Su).filter(function(l){return!Object.keys(e).find(function(d){return new RegExp(d).test(l)})}).reduce(function(l,d){return l[d]=Su[d],l},e),u=O(O({},o),e),c.abrupt("return",In(r,u,a));case 5:case"end":return c.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Zt=function(){var t=x(h.mark(function n(r){var e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=a.length>1&&a[1]!==void 0?a[1]:{},!r.encodedData){o.next=5;break}return o.abrupt("return",ze(r.encodedData,e));case 5:if(!r.transactionStatus){o.next=16;break}return o.t0=O,o.t1=O({},r.transactionStatus),o.t2={},o.next=11,Promise.all(r.transactionStatus.events.map(function(){var u=x(h.mark(function i(c){return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.t0=c.type,l.t1=c.transactionId,l.t2=c.transactionIndex,l.t3=c.eventIndex,l.next=6,ze(c.payload,e);case 6:return l.t4=l.sent,l.abrupt("return",{type:l.t0,transactionId:l.t1,transactionIndex:l.t2,eventIndex:l.t3,data:l.t4});case 8:case"end":return l.stop()}},i)}));return function(i){return u.apply(this,arguments)}}()));case 11:return o.t3=o.sent,o.t4={events:o.t3},o.abrupt("return",(0,o.t0)(o.t1,o.t2,o.t4));case 16:if(!r.transaction){o.next=20;break}return o.abrupt("return",r.transaction);case 20:if(!r.events){o.next=26;break}return o.next=23,Promise.all(r.events.map(function(){var u=x(h.mark(function i(c){return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.t0=c.blockId,l.t1=c.blockHeight,l.t2=c.blockTimestamp,l.t3=c.type,l.t4=c.transactionId,l.t5=c.transactionIndex,l.t6=c.eventIndex,l.next=9,ze(c.payload,e);case 9:return l.t7=l.sent,l.abrupt("return",{blockId:l.t0,blockHeight:l.t1,blockTimestamp:l.t2,type:l.t3,transactionId:l.t4,transactionIndex:l.t5,eventIndex:l.t6,data:l.t7});case 11:case"end":return l.stop()}},i)}));return function(i){return u.apply(this,arguments)}}()));case 23:return o.abrupt("return",o.sent);case 26:if(!r.account){o.next=30;break}return o.abrupt("return",r.account);case 30:if(!r.block){o.next=34;break}return o.abrupt("return",r.block);case 34:if(!r.blockHeader){o.next=38;break}return o.abrupt("return",r.blockHeader);case 38:if(!r.latestBlock){o.next=43;break}return Xc(),o.abrupt("return",r.latestBlock);case 43:if(!r.transactionId){o.next=47;break}return o.abrupt("return",r.transactionId);case 47:if(!r.collection){o.next=49;break}return o.abrupt("return",r.collection);case 49:return o.abrupt("return",null);case 50:case"end":return o.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Ru=function(t){return typeof t=="function"},Tu=function(t){return typeof t=="string"};function _u(){return(_u=x(h.mark(function t(n){var r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!un(n)&&!je(n)){e.next=11;break}if(r=br(n,"ix.cadence"),C(Ru(r)||Tu(r),"Cadence needs to be a function or a string."),!Ru(r)){e.next=7;break}return e.next=6,r({});case 6:r=e.sent;case 7:return C(Tu(r),"Cadence needs to be a string at this point."),e.next=10,F().where(/^0x/).then(function(a){return Object.entries(a).reduce(function(o,u){var i=Lt(u,2),c=i[0],l=i[1],d=new RegExp("(\\b"+c+"\\b)","g");return o.replace(d,l)},r)});case 10:n.message.cadence=e.sent;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},t)}))).apply(this,arguments)}var Ye=function(t){return typeof t=="function"};function of(t){return C(z(t.xform)!=null,"No type specified for argument: ".concat(t.value)),Ye(t.xform)?t.xform(t.value):Ye(t.xform.asArgument)?t.xform.asArgument(t.value):void C(!1,"Invalid Argument",t)}function Cu(t){return qe.apply(this,arguments)}function qe(){return qe=x(h.mark(function t(n){var r,e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(C((r=a.length>1&&a[1]!==void 0?a[1]:3)>0,"Argument Resolve Recursion Limit Exceeded for Arg: ".concat(n.tempId)),!Ye(n.resolveArgument)){o.next=9;break}return o.next=5,n.resolveArgument();case 5:return e=o.sent,o.abrupt("return",Cu(e,r-1));case 9:return o.abrupt("return",n);case 10:case"end":return o.stop()}},t)})),qe.apply(this,arguments)}function Ke(){return Ke=x(h.mark(function t(n){var r,e,a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!un(n)&&!je(n)){c.next=11;break}r=0,e=Object.entries(n.arguments);case 2:if(!(r<e.length)){c.next=11;break}return a=Lt(e[r],2),o=a[0],u=a[1],c.next=6,Cu(u);case 6:i=c.sent,n.arguments[o].asArgument=of(i);case 8:r++,c.next=2;break;case 11:return c.abrupt("return",n);case 12:case"end":return c.stop()}},t)})),Ke.apply(this,arguments)}var Ou,Pu,Nu=function(t){return Uu(He(Mu(t)))},Bu=function(t){return Uu(He(cf(t)))},Lu=function(t,n){return X.Buffer.from(t.padStart(2*n,0),"hex")},uf=(Ou=X.Buffer.from("FLOW-V0.0-transaction").toString("hex"),Pu=32,X.Buffer.from(Ou.padEnd(2*Pu,0),"hex")).toString("hex"),Uu=function(t){return uf+t},Sn=function(t){return Lu(t,8)},ju=function(t){return Lu(t,32)},Fu=function(t){return X.Buffer.from(JSON.stringify(t),"utf8")},Du=function(t){return X.Buffer.from(t,"utf8")},Gu=function(t){return X.Buffer.from(t,"hex")},He=function(t){return dn(t).toString("hex")},sf=function(t){var n=new ve.SHA3(256);return n.update(X.Buffer.from(t,"hex")),n.digest().toString("hex")},Mu=function(t){return pf(t),[Du(t.cadence),t.arguments.map(Fu),ju(t.refBlock),t.computeLimit,Sn($(t.proposalKey.address)),t.proposalKey.keyId,t.proposalKey.sequenceNum,Sn($(t.payer)),t.authorizers.map(function(n){return Sn($(n))})]},cf=function(t){return df(t),[Mu(t),ff(t)]},ff=function(t){var n=zu(t);return t.payloadSigs.map(function(r){return{signerIndex:n.get(r.address),keyId:r.keyId,sig:r.sig}}).sort(function(r,e){return r.signerIndex>e.signerIndex?1:r.signerIndex<e.signerIndex?-1:r.keyId>e.keyId?1:r.keyId<e.keyId?-1:void 0}).map(function(r){return[r.signerIndex,r.keyId,Gu(r.sig)]})},zu=function(t){var n=new Map,r=0,e=function(a){n.has(a)||(n.set(a,r),r++)};return e(t.proposalKey.address),e(t.payer),t.authorizers.forEach(e),n},lf=function(t){hf(t);var n=zu(t),r=function(e){return e.map(function(a){var o=a.address,u=a.keyId,i=a.sig;return{signerIndex:n.get(o),keyId:u,sig:i}}).sort(function(a,o){return a.signerIndex>o.signerIndex?1:a.signerIndex<o.signerIndex?-1:a.keyId>o.keyId?1:a.keyId<o.keyId?-1:void 0}).map(function(a){return[a.signerIndex,a.keyId,Gu(a.sig)]})};return[[Du(t.cadence),t.arguments.map(Fu),ju(t.refBlock),t.computeLimit,Sn($(t.proposalKey.address)),t.proposalKey.keyId,t.proposalKey.sequenceNum,Sn($(t.payer)),t.authorizers.map(function(e){return Sn($(e))})],r(t.payloadSigs),r(t.envelopeSigs)]},pf=function(t){qu.forEach(function(n){return Wt(t,n)}),Ku.forEach(function(n){return Wt(t.proposalKey,n,"proposalKey")})},df=function(t){Hu.forEach(function(n){return Wt(t,n)}),t.payloadSigs.forEach(function(n,r){Wu.forEach(function(e){return Wt(n,e,"payloadSigs",r)})})},hf=function(t){qu.forEach(function(n){return Wt(t,n)}),Ku.forEach(function(n){return Wt(t.proposalKey,n,"proposalKey")}),Hu.forEach(function(n){return Wt(t,n)}),t.payloadSigs.forEach(function(n,r){Wu.forEach(function(e){return Wt(n,e,"payloadSigs",r)})}),gf.forEach(function(n){return Wt(t,n)}),t.envelopeSigs.forEach(function(n,r){mf.forEach(function(e){return Wt(n,e,"envelopeSigs",r)})})},qn=function(t){return typeof t=="number"},sn=function(t){return typeof t=="string"},Yu=function(t){return t!==null&&z(t)==="object"},Er=function(t){return Yu(t)&&t instanceof Array},qu=[{name:"cadence",check:sn},{name:"arguments",check:Er},{name:"refBlock",check:sn,defaultVal:"0"},{name:"computeLimit",check:qn},{name:"proposalKey",check:Yu},{name:"payer",check:sn},{name:"authorizers",check:Er}],Ku=[{name:"address",check:sn},{name:"keyId",check:qn},{name:"sequenceNum",check:qn}],Hu=[{name:"payloadSigs",check:Er}],Wu=[{name:"address",check:sn},{name:"keyId",check:qn},{name:"sig",check:sn}],gf=[{name:"envelopeSigs",check:Er}],mf=[{name:"address",check:sn},{name:"keyId",check:qn},{name:"sig",check:sn}],Wt=function(t,n,r,e){var a=n.name,o=n.check,u=n.defaultVal;if(t[a]==null&&u!=null&&(t[a]=u),t[a]==null)throw vf(a,r,e);if(!o(t[a]))throw yf(a,r,e)},Vu=function(t,n,r){return n?r==null?"".concat(n,".").concat(t):"".concat(n,".").concat(r,".").concat(t):t},vf=function(t,n,r){return new Error("Missing field ".concat(Vu(t,n,r)))},yf=function(t,n,r){return new Error("Invalid field ".concat(Vu(t,n,r)))};function Ju(t){var n=new Set(t.authorizations);return n.add(t.proposer),Array.isArray(t.payer)?t.payer.forEach(function(r){return n.delete(r)}):n.delete(t.payer),Array.from(n)}function Xu(t){var n=new Set(Array.isArray(t.payer)?t.payer:[t.payer]);return Array.from(n)}var Kn=function(t){return{cadence:t.message.cadence,refBlock:t.message.refBlock||null,computeLimit:t.message.computeLimit,arguments:t.message.arguments.map(function(n){return t.arguments[n].asArgument}),proposalKey:{address:at(t.accounts[t.proposer].addr),keyId:t.accounts[t.proposer].keyId,sequenceNum:t.accounts[t.proposer].sequenceNum},payer:at(t.accounts[Array.isArray(t.payer)?t.payer[0]:t.payer].addr),authorizers:function(){var n=t.authorizations.map(function(r){return at(t.accounts[r].addr)}).reduce(function(r,e){return r.find(function(a){return a===e})?r:[].concat(K(r),[e])},[]);return n[0]?n:[]}(),payloadSigs:Ju(t).map(function(n){return{address:at(t.accounts[n].addr),keyId:t.accounts[n].keyId,sig:t.accounts[n].signature}}),envelopeSigs:Xu(t).map(function(n){return{address:at(t.accounts[n].addr),keyId:t.accounts[n].keyId,sig:t.accounts[n].signature}})}},$u=function(t){return"".concat(at(t.addr),"-").concat(t.keyId)},bf=function(t){return typeof t=="function"};function wf(t,n){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:t.role,cadence:n.message.cadence,args:n.message.arguments.map(function(r){return n.arguments[r].asArgument}),data:{},interaction:n,voucher:Kn(n)}}catch(r){throw console.error("buildPreSignable",r),r}}function We(t,n,r){return Ve.apply(this,arguments)}function Ve(){return Ve=x(h.mark(function t(n,r,e){var a,o,u,i,c,l,d=arguments;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:C(a=d.length>3&&d[3]!==void 0?d[3]:3,"Account Resolve Recursion Limit Exceeded",{ix:n,accounts:r}),o=[],u=bt(r),g.prev=4,c=h.mark(function v(){var m,b,E,S;return h.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(m=i.value,b=m.resolve,m.resolve=null,l=e||m,!bf(b)){N.next=8;break}return N.next=7,b(m,wf(m,n));case 7:m=N.sent;case 8:if(!Array.isArray(m)){N.next=13;break}return N.next=11,We(n,m,l,a-1);case 11:N.next=30;break;case 13:if(m.addr&&(m.addr=$(m.addr)),m.addr!=null&&m.keyId!=null&&(m.tempId=$u(m)),n.accounts[m.tempId]=n.accounts[m.tempId]||m,n.accounts[m.tempId].role.proposer=n.accounts[m.tempId].role.proposer||m.role.proposer,n.accounts[m.tempId].role.payer=n.accounts[m.tempId].role.payer||m.role.payer,n.accounts[m.tempId].role.authorizer=n.accounts[m.tempId].role.authorizer||m.role.authorizer,n.accounts[m.tempId].role.proposer&&n.proposer===l.tempId&&(n.proposer=m.tempId),!n.accounts[m.tempId].role.payer){N.next=29;break}if(Array.isArray(n.payer)?n.payer=Array.from(new Set([].concat(K(n.payer),[m.tempId]).map(function(_){return _===l.tempId?m.tempId:_}))):n.payer=Array.from(new Set([n.payer,m.tempId].map(function(_){return _===l.tempId?m.tempId:_}))),!(n.payer.length>1)){N.next=29;break}if(E=[],S=[],n.payer=n.payer.reduce(function(_,R){var L=n.accounts[R].addr,I=$u(n.accounts[R]);return S.push(L),E.includes(I)?_:(E.push(I),[].concat(K(_),[R]))},[]),!(Array.from(new Set(S)).length>1)){N.next=29;break}throw new Error("Payer can not be different accounts");case 29:n.accounts[m.tempId].role.authorizer&&(e?o=Array.from(new Set([].concat(K(o),[m.tempId]))):n.authorizations=n.authorizations.map(function(_){return _===l.tempId?m.tempId:_}));case 30:l.tempId!=m.tempId&&delete n.accounts[l.tempId];case 31:case"end":return N.stop()}},v)}),u.s();case 7:if((i=u.n()).done){g.next=11;break}return g.delegateYield(c(),"t0",9);case 9:g.next=7;break;case 11:g.next=16;break;case 13:g.prev=13,g.t1=g.catch(4),u.e(g.t1);case 16:return g.prev=16,u.f(),g.finish(16);case 19:e&&(n.authorizations=n.authorizations.map(function(v){return v===e.tempId?o:v}).reduce(function(v,m){return Array.isArray(m)?[].concat(K(v),K(m)):[].concat(K(v),[m])},[]));case 20:case"end":return g.stop()}},t,null,[[4,13,16,19]])})),Ve.apply(this,arguments)}function Zu(){return(Zu=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!un(n)){r.next=13;break}return Array.isArray(n.payer)||wt.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."}),r.prev=2,r.next=5,We(n,Object.values(n.accounts));case 5:return r.next=7,We(n,Object.values(n.accounts));case 7:r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(2),console.error(`=== SAD PANDA ===

`,r.t0,`

=== SAD PANDA ===`),r.t0;case 13:return r.abrupt("return",n);case 14:case"end":return r.stop()}},t,null,[[2,9]])}))).apply(this,arguments)}function Qu(){return(Qu=x(h.mark(function t(n){var r,e,a,o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!un(n)){u.next=16;break}return u.prev=1,r=Ju(n),e=Nu(ns(n)),u.next=6,Promise.all(r.map(ts(n,e)));case 6:return a=Xu(n),o=Bu(O(O({},ns(n)),{},{payloadSigs:r.map(function(i){return{address:n.accounts[i].addr,keyId:n.accounts[i].keyId,sig:n.accounts[i].signature}})})),u.next=10,Promise.all(a.map(ts(n,o)));case 10:u.next=16;break;case 12:throw u.prev=12,u.t0=u.catch(1),console.error("Signatures",u.t0,{ix:n}),u.t0;case 16:return u.abrupt("return",n);case 17:case"end":return u.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function ts(t,n){return function(){var r=x(h.mark(function e(a){var o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if((o=t.accounts[a]).signature==null){c.next=3;break}return c.abrupt("return");case 3:return c.next=5,o.signingFunction(xf(o,n,t));case 5:u=c.sent,i=u.signature,t.accounts[a].signature=i;case 8:case"end":return c.stop()}},e)}));return function(e){return r.apply(this,arguments)}}()}function xf(t,n,r){try{return{f_type:"Signable",f_vsn:"1.0.1",message:n,addr:$(t.addr),keyId:t.keyId,roles:t.role,cadence:r.message.cadence,args:r.message.arguments.map(function(e){return r.arguments[e].asArgument}),data:{},interaction:r,voucher:Kn(r)}}catch(e){throw console.error("buildSignable",e),e}}function ns(t){var n=$((Array.isArray(t.payer)?t.accounts[t.payer[0]]:t.accounts[t.payer]).addr);return{cadence:t.message.cadence,refBlock:t.message.refBlock||null,computeLimit:t.message.computeLimit,arguments:t.message.arguments.map(function(r){return t.arguments[r].asArgument}),proposalKey:{address:$(t.accounts[t.proposer].addr),keyId:t.accounts[t.proposer].keyId,sequenceNum:t.accounts[t.proposer].sequenceNum},payer:n,authorizers:t.authorizations.map(function(r){return $(t.accounts[r].addr)}).reduce(function(r,e){return r.find(function(a){return a===e})?r:[].concat(K(r),[e])},[])}}function rs(){return(rs=x(h.mark(function t(n){var r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=br(n,"ix.validators",[]),e.abrupt("return",st(n,r.map(function(a){return function(o){return a(o,{Ok:ht,Bad:Ue})}})));case 2:case"end":return e.stop()}},t)}))).apply(this,arguments)}function es(){return(es=x(h.mark(function t(n){var r,e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(r=0,e=Object.keys(n.accounts);r<e.length;r++)a=e[r],n.accounts[a].addr=$(n.accounts[a].addr);return o.abrupt("return",n);case 2:case"end":return o.stop()}},t)}))).apply(this,arguments)}function as(){return(as=x(h.mark(function t(n){var r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=br(n,"ix.voucher-intercept"),!kn(r)){e.next=4;break}return e.next=4,r(Kn(n));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}},t)}))).apply(this,arguments)}function os(){return(os=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!un(n)){r.next=8;break}if(r.t0=n.message.computeLimit,r.t0){r.next=6;break}return r.next=5,F.get("fcl.limit");case 5:r.t0=r.sent;case 6:n.message.computeLimit=r.t0,n.message.computeLimit||(wt.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),n.message.computeLimit=100);case 8:return r.abrupt("return",n);case 9:case"end":return r.stop()}},t)}))).apply(this,arguments)}var kf=function(t){return t},An=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kf;return function(){var r=x(h.mark(function e(a){var o,u;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(c){return[`
Accounts:`,{proposer:c.proposer,authorizations:c.authorizations,payer:c.payer},`

Details:`,c.accounts].filter(Boolean)},u=function(){for(var c,l=arguments.length,d=new Array(l),g=0;g<l;g++)d[g]=arguments[g];(c=console).log.apply(c,["debug[".concat(t,`] ---
`)].concat(d,[`


---`]))},i.next=5,F.get("debug.".concat(t));case 5:if(!i.sent){i.next=8;break}return i.next=8,n(a,u,o);case 8:return i.abrupt("return",a);case 9:case"end":return i.stop()}},e)}));return function(e){return r.apply(this,arguments)}}()},Je=st([function(t){return _u.apply(this,arguments)},An("cadence",function(t,n){return n(t.message.cadence)}),function(t){return os.apply(this,arguments)},An("compute limit",function(t,n){return n(t.message.computeLimit)}),function(t){return Ke.apply(this,arguments)},An("arguments",function(t,n){return n(t.message.arguments,t.message)}),function(t){return Zu.apply(this,arguments)},An("accounts",function(t,n,r){return n.apply(void 0,K(r(t)))}),function(t){return us.apply(this,arguments)},function(t){return ss.apply(this,arguments)},function(t){return Qu.apply(this,arguments)},An("signatures",function(t,n,r){return n.apply(void 0,K(r(t)))}),function(t){return es.apply(this,arguments)},function(t){return rs.apply(this,arguments)},function(t){return as.apply(this,arguments)},An("resolved",function(t,n){return n(t)})]);function us(){return(us=x(h.mark(function t(n){var r,e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!un(n)||n.message.refBlock!=null){a.next=11;break}return a.next=3,F().get("accessNode.api");case 3:return r=a.sent,a.next=6,F.first(["sdk.transport","sdk.send"],me);case 6:return C(e=a.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),a.next=10,e(xr([Yn()]),{config:F,response:Me,Buffer:X.Buffer,ix:Ge},{node:r}).then(Zt);case 10:n.message.refBlock=a.sent.id;case 11:return a.abrupt("return",n);case 12:case"end":return a.stop()}},t)}))).apply(this,arguments)}function ss(){return(ss=x(h.mark(function t(n){var r,e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!un(n)){o.next=20;break}if(C(r=Object.values(n.accounts).find(function(u){return u.role.proposer}),"Transactions require a proposer"),r.sequenceNum!=null){o.next=20;break}return o.next=6,F().get("accessNode.api");case 6:return e=o.sent,o.next=9,F.first(["sdk.transport","sdk.send"],me);case 9:return C(a=o.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),o.t0=a,o.next=14,xr([En(r.addr)]);case 14:return o.t1=o.sent,o.t2={config:F,response:Me,Buffer:X.Buffer,ix:Ge},o.t3={node:e},o.next=19,(0,o.t0)(o.t1,o.t2,o.t3).then(Zt).then(function(u){return u.keys}).then(function(u){return u.find(function(i){return i.index===r.keyId})}).then(function(u){return u.sequenceNumber});case 19:n.accounts[r.tempId].sequenceNum=o.sent;case 20:return o.abrupt("return",n);case 21:case"end":return o.stop()}},t)}))).apply(this,arguments)}function G(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length>1){var e=n[0],a=n[1];return G(function(u,i){var c=i.Ok,l=i.Bad;return e?c(u):l(u,a)})}var o=n[0];return function(u){return o(u,{Ok:ht,Bad:Ue})}}var Ot=function(){var t=x(h.mark(function n(){var r,e,a,o,u=arguments;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.length>0&&u[0]!==void 0?u[0]:[],e=u.length>1&&u[1]!==void 0?u[1]:{},i.next=4,F.first(["sdk.transport","sdk.send"],e.send||me);case 4:return G(a=i.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),i.next=8,F.first(["sdk.resolve"],e.resolve||Je);case 8:if(o=i.sent,i.t0=e.node,i.t0){i.next=14;break}return i.next=13,F().get("accessNode.api");case 13:i.t0=i.sent;case 14:return e.node=i.t0,Array.isArray(r)&&(r=st(gr(),r)),i.t1=a,i.next=19,o(r);case 19:return i.t2=i.sent,i.t3={config:F,response:Me,ix:Ge,Buffer:X.Buffer},i.t4=e,i.abrupt("return",(0,i.t1)(i.t2,i.t3,i.t4));case 23:case"end":return i.stop()}},n)}));return function(){return t.apply(this,arguments)}}();function Rn(t){return Xe.apply(this,arguments)}function Xe(){return Xe=x(h.mark(function t(n){var r,e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F().where(/^decoder\./);case 2:return r=a.sent,e=Object.entries(r).map(function(o){var u=Lt(o,2),i=u[0],c=u[1];return[i="/".concat(i.replace(/^decoder\./,""),"$/"),c]}),a.abrupt("return",Zt(n,Object.fromEntries(e)));case 5:case"end":return a.stop()}},t)})),Xe.apply(this,arguments)}var Ef=function(t){Kr(r,t);var n=Hr(r);function r(e){var a;zr(this,r);var o=`
        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: `.concat(e,`. 
        Please ensure the address: `).concat(e,` is intended to sign the given transaction as specified by the transaction signable.
      `).trim();return(a=n.call(this,o)).name="Unable To Determine Message Encoding For Signer Addresss",a}return Yr(r)}(lr(Error));function $e(t){return Iu("ix.validators",function(n){return Array.isArray(n)?n.push(t):[t]})}function Ir(t){return st([function(n){return n.block.height=t,n},$e(function(n){if(typeof n.block.isSealed=="boolean")throw new Error("Unable to specify both block height and isSealed.");if(n.block.id)throw new Error("Unable to specify both block height and block id.");return n})])}function Ze(t){return st([function(n){return n.block.id=t,ht(n)},$e(function(n,r){var e=r.Ok,a=r.Bad;return Fe(n)?a(n,"Unable to specify a block id with a Get Account interaction."):typeof n.block.isSealed=="boolean"?a(n,"Unable to specify both block id and isSealed."):n.block.height?a(n,"Unable to specify both block id and block height."):e(n)})])}function Hn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.sealed,r=n!==void 0&&n,e=t.id,a=t.height,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C(!(r&&e||r&&a),'Method: block -- Cannot pass "sealed" with "id" or "height"'),C(!(e&&a),'Method: block -- Cannot pass "id" and "height" simultaneously'),e?Ot([Yn(),Ze(e)],o).then(Zt):a?Ot([Yn(),Ir(a)],o).then(Zt):Ot([Yn(r)],o).then(Zt)}function is(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return st(t.map(function(n){return mr(n,{role:Pe})}))}function cs(t,n,r){return st([vr,function(e){return e.events.eventType=t,e.events.start=n,e.events.end=r,ht(e)}])}function fs(t){return st([hu,function(n){return n.transaction.id=t,ht(n)}])}function Qe(t){return function(n){return n.message.computeLimit=t,n}}function ta(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return st(t.map(lu))}function na(t,n){return{value:t,xform:n}}function ls(t){return ra.apply(this,arguments)}function ra(){return ra=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",mr(n,{role:ru}));case 1:case"end":return r.stop()}},t)})),ra.apply(this,arguments)}function ps(t){return ea.apply(this,arguments)}function ea(){return ea=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",mr(n,{role:Ne}));case 1:case"end":return r.stop()}},t)})),ea.apply(this,arguments)}function ds(t){return st([function(n){return n.message.refBlock=t,ht(n)}])}function hs(){return st([pu,wr("ix.cadence",pr.apply(void 0,arguments))])}var If=[];function gs(){return st([du,wr("ix.cadence",pr.apply(void 0,arguments)),function(t){return t.message.refBlock=t.message.refBlock||null,t.authorizations=t.authorizations||If,ht(t)}])}function Sf(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;C(t.account,"mockAccountResponse(ix) -- ix.account is missing",t),C(t.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",t);var r=t.account.addr;return{account:{addr:r,keys:Array.from({length:n},function(e,a){return{index:a,sequenceNumber:42}})}}}var Af=function(t){return t},Rf=["tempId"];function ms(t){return["SIGNATURE",t.addr,t.keyId].join(".")}function Wn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){var r=O(O(O({},n),t),{},{signingFunction:t.signingFunction||n.signingFunction||function(e){return{addr:r.addr,keyId:r.keyId,signature:ms(r)}}});return r}}var aa={proposer:!1,authorizer:!1,payer:!1},vs,Tf=Object.freeze({__proto__:null,mockSend:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Af;return function(){var n=x(h.mark(function r(e){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e;case 2:e=a.sent,a.t0=!0,a.next=a.t0===Fe(e)?6:a.t0===xu(e)?7:8;break;case 6:return a.abrupt("return",Sf(e));case 7:return a.abrupt("return",{tag:"GET_BLOCK",block:{id:"32"}});case 8:return a.abrupt("return",t(e));case 9:case"end":return a.stop()}},r)}));return function(r){return n.apply(this,arguments)}}()},authzFn:Wn,authzResolve:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){var r=t.tempId,e=Uc(t,Rf);return O(O({},n),{},{tempId:r||"WITH_RESOLVE",resolve:Wn(e)})}},authzResolveMany:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){var r=t.tempId||"AUTHZ_RESOLVE_MANY";return O(O({},n),{},{tempId:r,resolve:function(){return[t.proposer&&Wn(t.proposer)({role:O(O({},aa),{},{proposer:!0})})].concat(K(t.authorizations.map(Wn).map(function(e){return e({role:O(O({},aa),{},{authorizer:!0})})})),[t.payer&&Wn(t.payer)({role:O(O({},aa),{},{payer:!0})})]).filter(Boolean)}})}},sig:ms,idof:function(t){return"".concat(at(t.addr),"-").concat(t.keyId)},run:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return xr([ds("123")].concat(K(t))).then(Je)}}),Sr=function(t){return function(n){return z(n)===t}},Qt=function(t){return t!=null},_f=Sr("object"),Tn=Sr("string"),ys=Sr("function"),Cf=Sr("number"),Of=typeof queueMicrotask=="function"?queueMicrotask:function(t){return(vs||(vs=Promise.resolve())).then(t).catch(function(n){return setTimeout(function(){throw n},0)})},Pf=function(){var t,n=[];return{deliver:function(r){return x(h.mark(function e(){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.push(r),t&&(t(n.shift()),t=void 0);case 2:case"end":return a.stop()}},e)}))()},receive:function(){return new Promise(function(r){var e=n.shift();if(e)return r(e);t=r})}}},bs="SUBSCRIBE",oa="UNSUBSCRIBE",Nf="UPDATED",Bf="EXIT",Q=(typeof self>"u"?"undefined":z(self))==="object"&&self.self===self&&self||(typeof zt>"u"?"undefined":z(zt))==="object"&&zt.global===zt&&zt||(typeof window>"u"?"undefined":z(window))==="object"&&window.window===window&&window;Q.FCL_REGISTRY=Q.FCL_REGISTRY==null?{}:Q.FCL_REGISTRY;var Vt,Lf=0,Pt=function(t,n,r){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise(function(a,o){var u=e.expectReply||!1,i=e.timeout!=null?e.timeout:5e3;u&&i&&setTimeout(function(){return o(new Error("Timeout: ".concat(i,"ms passed without a response.")))},i);var c={to:t,from:e.from,tag:n,data:r,timeout:i,reply:a,reject:o};try{Q.FCL_REGISTRY[t]&&Q.FCL_REGISTRY[t].mailbox.deliver(c),u||a(!0)}catch(l){console.error("FCL.Actor -- Could Not Deliver Message",c,Q.FCL_REGISTRY[t],l)}})},Uf=function(t){delete Q.FCL_REGISTRY[t]},jf=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(){var n=x(h.mark(function r(e){var a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(typeof t.INIT!="function"){o.next=3;break}return o.next=3,t.INIT(e);case 3:return o.next=6,e.receive();case 6:if(a=o.sent,o.prev=7,a.tag!==Bf){o.next=13;break}if(typeof t.TERMINATE!="function"){o.next=12;break}return o.next=12,t.TERMINATE(e,a,a.data||{});case 12:return o.abrupt("break",25);case 13:return o.next=15,t[a.tag](e,a,a.data||{});case 15:o.next=20;break;case 17:o.prev=17,o.t0=o.catch(7),console.error("".concat(e.self()," Error"),a,o.t0);case 20:return o.prev=20,o.abrupt("continue",3);case 23:o.next=3;break;case 25:case"end":return o.stop()}},r,null,[[7,17,20,23]])}));return function(r){return n.apply(this,arguments)}}()},ua=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(n==null&&(n=++Lf),Q.FCL_REGISTRY[n]!=null)return n;Q.FCL_REGISTRY[n]={addr:n,mailbox:Pf(),subs:new Set,kvs:{},error:null};var r={self:function(){return n},receive:function(){return Q.FCL_REGISTRY[n].mailbox.receive()},send:function(e,a,o){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return u.from=n,Pt(e,a,o,u)},sendSelf:function(e,a,o){Q.FCL_REGISTRY[n]&&Pt(n,e,a,o)},broadcast:function(e,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.from=n;var u,i=bt(Q.FCL_REGISTRY[n].subs);try{for(i.s();!(u=i.n()).done;){var c=u.value;Pt(c,e,a,o)}}catch(l){i.e(l)}finally{i.f()}},subscribe:function(e){return e!=null&&Q.FCL_REGISTRY[n].subs.add(e)},unsubscribe:function(e){return e!=null&&Q.FCL_REGISTRY[n].subs.delete(e)},subscriberCount:function(){return Q.FCL_REGISTRY[n].subs.size},hasSubs:function(){return!!Q.FCL_REGISTRY[n].subs.size},put:function(e,a){e!=null&&(Q.FCL_REGISTRY[n].kvs[e]=a)},get:function(e,a){var o=Q.FCL_REGISTRY[n].kvs[e];return o??a},delete:function(e){delete Q.FCL_REGISTRY[n].kvs[e]},update:function(e,a){e!=null&&(Q.FCL_REGISTRY[n].kvs[e]=a(Q.FCL_REGISTRY[n].kvs[e]))},keys:function(){return Object.keys(Q.FCL_REGISTRY[n].kvs)},all:function(){return Q.FCL_REGISTRY[n].kvs},where:function(e){return Object.keys(Q.FCL_REGISTRY[n].kvs).reduce(function(a,o){return e.test(o)?O(O({},a),{},q({},o,Q.FCL_REGISTRY[n].kvs[o])):a},{})},merge:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.keys(e).forEach(function(a){return Q.FCL_REGISTRY[n].kvs[a]=e[a]})},fatalError:function(e){Q.FCL_REGISTRY[n].error=e;var a,o=bt(Q.FCL_REGISTRY[n].subs);try{for(o.s();!(a=o.n()).done;){var u=a.value;Pt(u,Nf)}}catch(i){o.e(i)}finally{o.f()}}};return z(t)==="object"&&(t=jf(t)),Of(x(h.mark(function e(){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(r);case 2:Uf(n);case 3:case"end":return a.stop()}},e)}))),n},Jt="config",ws="PUT_CONFIG",xs="GET_CONFIG",ks="GET_ALL_CONFIG",Es="UPDATE_CONFIG",Is="DELETE_CONFIG",Ss="CLEAR_CONFIG",As="WHERE_CONFIG",Vn="CONFIG/UPDATED",Rs=function(t){return t},Ts=(q(Vt={},ws,function(t,n,r){var e=r.key,a=r.value;if(e==null)throw new Error("Missing 'key' for config/put.");t.put(e,a),t.broadcast(Vn,O({},t.all()))}),q(Vt,xs,function(t,n,r){var e=r.key,a=r.fallback;if(e==null)throw new Error("Missing 'key' for config/get");n.reply(t.get(e,a))}),q(Vt,ks,function(t,n){n.reply(O({},t.all()))}),q(Vt,Es,function(t,n,r){var e=r.key,a=r.fn;if(e==null)throw new Error("Missing 'key' for config/update");t.update(e,a||Rs),t.broadcast(Vn,O({},t.all()))}),q(Vt,Is,function(t,n,r){var e=r.key;if(e==null)throw new Error("Missing 'key' for config/delete");t.delete(e),t.broadcast(Vn,O({},t.all()))}),q(Vt,Ss,function(t,n){for(var r=0,e=Object.keys(t.all());r<e.length;r++){var a=e[r];t.delete(a)}t.broadcast(Vn,O({},t.all()))}),q(Vt,As,function(t,n,r){var e=r.pattern;if(e==null)throw new Error("Missing 'pattern' for config/where");n.reply(t.where(e))}),q(Vt,bs,function(t,n){t.subscribe(n.from),t.send(n.from,Vn,O({},t.all()))}),q(Vt,oa,function(t,n){t.unsubscribe(n.from)}),Vt);function sa(t,n){return Pt(Jt,ws,{key:t,value:n}),Et()}function ia(t,n){return Pt(Jt,xs,{key:t,fallback:n},{expectReply:!0,timeout:10})}function ca(){return fa.apply(this,arguments)}function fa(){return fa=x(h.mark(function t(){var n,r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=i.length>0&&i[0]!==void 0?i[0]:[],r=i.length>1?i[1]:void 0,n.length){c.next=4;break}return c.abrupt("return",r);case 4:return e=Dn(n),a=e[0],o=e.slice(1),c.next=7,ia(a);case 7:if((u=c.sent)!=null){c.next=10;break}return c.abrupt("return",ca(o,r));case 10:return c.abrupt("return",u);case 11:case"end":return c.stop()}},t)})),fa.apply(this,arguments)}function Ar(){return Pt(Jt,ks,null,{expectReply:!0,timeout:10})}function _s(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs;return Pt(Jt,Es,{key:t,fn:n}),Et()}function Cs(t){return Pt(Jt,Is,{key:t}),Et()}function Os(t){return Pt(Jt,As,{pattern:t},{expectReply:!0,timeout:10})}function Ps(t){return function(n,r,e){r(n);var a="@EXIT",o=ua(function(){var u=x(h.mark(function i(c){var l,d;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:c.send(n,bs);case 1:return g.next=4,c.receive();case 4:if(l=g.sent,d=Q.FCL_REGISTRY[n].error,l.tag!==a){g.next=9;break}return c.send(n,oa),g.abrupt("return");case 9:if(!d){g.next=13;break}return e(null,d),c.send(n,oa),g.abrupt("return");case 13:e(l.data,null),g.next=1;break;case 16:case"end":return g.stop()}},i)}));return function(i){return u.apply(this,arguments)}}());return function(){return Pt(o,a)}}(Jt,function(){return ua(Ts,Jt)},t)}function Ns(t){return Pt(Jt,Ss).then(Et(t))}function Et(t){return t!=null&&z(t)==="object"&&Object.keys(t).map(function(n){return sa(n,t[n])}),{put:sa,get:ia,all:Ar,first:ca,update:_s,delete:Cs,where:Os,subscribe:Ps,overload:Bs}}ua(Ts,Jt),Et.put=sa,Et.get=ia,Et.all=Ar,Et.first=ca,Et.update=_s,Et.delete=Cs,Et.where=Os,Et.subscribe=Ps,Et.overload=Bs;var Ff=function(t){return t};function Bs(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ff;return new Promise(function(){var r=x(h.mark(function e(a,o){var u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Ar();case 2:return u=c.sent,c.prev=3,Et(t),c.t0=n,c.next=8,Ar();case 8:return c.t1=c.sent,c.next=11,(0,c.t0)(c.t1);case 11:return i=c.sent,c.next=14,Ns(u);case 14:a(i),c.next=22;break;case 17:return c.prev=17,c.t2=c.catch(3),c.next=21,Ns(u);case 21:o(c.t2);case 22:case"end":return c.stop()}},e,null,[[3,17]])}));return function(e,a){return r.apply(this,arguments)}}())}var _n=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Df=function(t){var n=t.title,r=t.message;return[`
    %c`.concat(n,`
    ============================

    `).concat(r,`

    ============================
    `).replace(/\n[^\S\r\n]+/g,`
`).trim(),,"font-weight:bold;font-family:monospace;"]},Rr=function(){var t=x(h.mark(function n(r){var e,a,o,u,i,c,l,d,g,v,m,b;return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return c=r.title,l=r.message,d=r.level,g=r.always,v=g!==void 0&&g,E.next=3,Et.get("logger.level",_n.warn);case 3:if(m=E.sent,v||!(m<d)){E.next=6;break}return E.abrupt("return");case 6:b=Df({title:c,message:l}),E.t0=d,E.next=E.t0===_n.debug?10:E.t0===_n.info?12:E.t0===_n.warn?14:E.t0===_n.error?16:18;break;case 10:return(e=console).debug.apply(e,K(b)),E.abrupt("break",19);case 12:return(a=console).info.apply(a,K(b)),E.abrupt("break",19);case 14:return(o=console).warn.apply(o,K(b)),E.abrupt("break",19);case 16:return(u=console).error.apply(u,K(b)),E.abrupt("break",19);case 18:(i=console).log.apply(i,K(b));case 19:case"end":return E.stop()}},n)}));return function(n){return t.apply(this,arguments)}}();Rr.deprecate=function(t){var n=t.pkg,r=t.subject,e=t.transition,a=t.level,o=a===void 0?_n.warn:a,u=t.message,i=u===void 0?"":u,c=t.callback,l=c===void 0?null:c,d=function(){return Rr({title:"".concat(n?n+" ":"","Deprecation Notice"),message:`
      `.concat(r?"".concat((g=r,g.charAt(0).toUpperCase()+g.slice(1))," is deprecated and will cease to work in future releases").concat(n?" of "+n:"","."):"").concat(i?`
`+i:"").concat(e?`
You can learn more (including a guide on common transition paths) here: `.concat(e):"",`
    `).trim(),level:o});var g};return typeof l=="function"?x(h.mark(function g(){var v=arguments;return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,d();case 2:return m.next=4,l.apply(void 0,v);case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}},g)})):d()};var V=function(t,n,r){return{label:t,asArgument:n,asInjection:r}},hn=function(t){return Array.isArray(t)},gn=function(t){return z(t)==="object"},Ls=function(t){return t==null},ct=function(t){return typeof t=="number"},mt=function(t){return Number.isInteger(t)},et=function(t){return typeof t=="string"},H=function(t){throw new Error("Type Error: "+t)},vt=function(t){Rr.deprecate({pkg:"@onflow/types",subject:"Passing in Number as value for ".concat(t),message:"Going forward, use String as value for ".concat(t,"."),transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})},Gf=V("Identity",function(t){return t},function(t){return t}),Mf=V("UInt",function(t){return ct(t)&&mt(t)?(vt("UInt"),{type:"UInt",value:t.toString()}):et(t)?{type:"UInt",value:t}:void H("Expected Positive Integer for type Unsigned Int")},function(t){return t}),zf=V("Int",function(t){return ct(t)&&mt(t)?(vt("Int"),{type:"Int",value:t.toString()}):et(t)?{type:"Int",value:t}:void H("Expected Integer for type Int")},function(t){return t}),Yf=V("UInt8",function(t){return ct(t)&&mt(t)?(vt("UInt8"),{type:"UInt8",value:t.toString()}):et(t)?{type:"UInt8",value:t}:void H("Expected integer for UInt8")},function(t){return t}),qf=V("Int8",function(t){return ct(t)&&mt(t)?(vt("Int8"),{type:"Int8",value:t.toString()}):et(t)?{type:"Int8",value:t}:void H("Expected positive integer for Int8")},function(t){return t}),Kf=V("UInt16",function(t){return ct(t)&&mt(t)?(vt("UInt16"),{type:"UInt16",value:t.toString()}):et(t)?{type:"UInt16",value:t}:void H("Expected integer for UInt16")},function(t){return t}),Hf=V("Int16",function(t){return ct(t)&&mt(t)?(vt("Int16"),{type:"Int16",value:t.toString()}):et(t)?{type:"Int16",value:t}:void H("Expected positive integer for Int16")},function(t){return t}),Wf=V("UInt32",function(t){return ct(t)&&mt(t)?(vt("UInt32"),{type:"UInt32",value:t.toString()}):et(t)?{type:"UInt32",value:t}:void H("Expected integer for UInt32")},function(t){return t}),Vf=V("Int32",function(t){return ct(t)&&mt(t)?(vt("Int32"),{type:"Int32",value:t.toString()}):et(t)?{type:"Int32",value:t}:void H("Expected positive integer for Int32")},function(t){return t}),Jf=V("UInt64",function(t){return ct(t)&&mt(t)?(vt("UInt64"),{type:"UInt64",value:t.toString()}):et(t)?{type:"UInt64",value:t}:void H("Expected integer for UInt64")},function(t){return t}),Xf=V("Int64",function(t){return ct(t)&&mt(t)?(vt("Int64"),{type:"Int64",value:t.toString()}):et(t)?{type:"Int64",value:t}:void H("Expected positive integer for Int64")},function(t){return t}),$f=V("UInt128",function(t){return ct(t)&&mt(t)?(vt("UInt128"),{type:"UInt128",value:t.toString()}):et(t)?{type:"UInt128",value:t}:void H("Expected integer for UInt128")},function(t){return t}),Zf=V("Int128",function(t){return ct(t)&&mt(t)?(vt("Int128"),{type:"Int128",value:t.toString()}):et(t)?{type:"Int128",value:t}:void H("Expected positive integer for Int128")},function(t){return t}),Qf=V("UInt256",function(t){return ct(t)&&mt(t)?(vt("UInt256"),{type:"UInt256",value:t.toString()}):et(t)?{type:"UInt256",value:t}:void H("Expected integer for UInt256")},function(t){return t}),tl=V("Int256",function(t){return ct(t)&&mt(t)?(vt("Int256"),{type:"Int256",value:t.toString()}):et(t)?{type:"Int256",value:t}:void H("Expected integer for Int256")},function(t){return t}),nl=V("Word8",function(t){return ct(t)&&mt(t)?(vt("Word8"),{type:"Word8",value:t.toString()}):et(t)?{type:"Word8",value:t}:void H("Expected positive number for Word8")},function(t){return t}),rl=V("Word16",function(t){return ct(t)&&mt(t)?(vt("Word16"),{type:"Word16",value:t.toString()}):et(t)?{type:"Word16",value:t}:void H("Expected positive number for Word16")},function(t){return t}),el=V("Word32",function(t){return ct(t)&&mt(t)?(vt("Word32"),{type:"Word32",value:t.toString()}):et(t)?{type:"Word32",value:t}:void H("Expected positive number for Word32")},function(t){return t}),al=V("Word64",function(t){return ct(t)&&mt(t)?(vt("Word64"),{type:"Word64",value:t.toString()}):et(t)?{type:"Word64",value:t}:void H("Expected positive number for Word64")},function(t){return t}),Us=function(){Rr.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},ol=V("UFix64",function(t){if(et(t)){var n=t.split(".");return n.length!==2&&H("Expected one decimal but found ".concat(n.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(n[1].length==0||n[1].length>8)&&H("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(n[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),n[1]=n[1].padEnd(8,"0"),{type:"UFix64",value:t=n.join(".")}}if(ct(t))return Us(),{type:"UFix64",value:t.toString()};H("Expected String for UFix64")},function(t){return t}),ul=V("Fix64",function(t){if(et(t)){var n=t.split(".");return n.length!==2&&H("Expected one decimal but found ".concat(n.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(n[1].length==0||n[1].length>8)&&H("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(n[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),n[1]=n[1].padEnd(8,"0"),{type:"Fix64",value:t=n.join(".")}}if(ct(t))return Us(),{type:"Fix64",value:t.toString()};H("Expected String for Fix64")},function(t){return t}),sl=V("String",function(t){if(et(t))return{type:"String",value:t};H("Expected String for type String")},function(t){return t}),il=V("Character",function(t){if(et(t))return{type:"Character",value:t};H("Expected Character for type Character")},function(t){return t}),cl=V("Bool",function(t){if(typeof t=="boolean")return{type:"Bool",value:t};H("Expected Boolean for type Bool")},function(t){return t}),js=V("Address",function(t){if(et(t))return{type:"Address",value:t};H("Expected Address for type Address")},function(t){return t}),fl=V("Void",function(t){if(!t||Ls(t))return{type:"Void"};H("Expected Void for type Void")},function(t){return t}),ll=V("Reference",function(t){if(gn(t))return{type:"Reference",value:t};H("Expected Object for type Reference")},function(t){return t}),Fs=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V("Array",function(n){return{type:"Array",value:hn(t)?t.map(function(r,e){return r.asArgument(n[e])}):n.map(function(r){return t.asArgument(r)})}},function(n){return n})},pl=V("Path",function(t){if(gn(t))return et(t.domain)||H("Expected a string for the Path domain but found ".concat(t.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),t.domain!=="storage"&&t.domain!=="private"&&t.domain!=="public"&&H('Expected either "storage", "private" or "public" as the Path domain but found '.concat(t.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),et(t.identifier)||H("Expected a string for the Path identifier but found ".concat(t.identifier,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),{type:"Path",value:{domain:t.domain,identifier:t.identifier}};H("Expected Object for type Path")},function(t){return t}),Ds=Object.freeze({__proto__:null,Address:js,Array:Fs,Bool:cl,Character:il,Dictionary:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V("Dictionary",function(n){if(gn(n))return{type:"Dictionary",value:hn(t)?t.map(function(r,e){return{key:r.key.asArgument(n[e].key),value:r.value.asArgument(n[e].value)}}):hn(n)?n.map(function(r){return{key:t.key.asArgument(r.key),value:t.value.asArgument(r.value)}}):[{key:t.key.asArgument(n.key),value:t.value.asArgument(n.value)}]};H("Expected Object for type Dictionary")},function(n){return n})},Enum:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return V("Enum",function(r){if(gn(r))return{type:"Enum",value:{id:t,fields:hn(n)?n.map(function(e,a){return{name:r.fields[a].name,value:e.value.asArgument(r.fields[a].value)}}):r.fields.map(function(e){return{name:e.name,value:n.value.asArgument(e.value)}})}};H("Expected Object for type Enum")},function(r){return r})},Event:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return V("Event",function(r){if(gn(r))return{type:"Event",value:{id:t,fields:hn(n)?n.map(function(e,a){return{name:r.fields[a].name,value:e.value.asArgument(r.fields[a].value)}}):r.fields.map(function(e){return{name:e.name,value:n.value.asArgument(e.value)}})}};H("Expected Object for type Event")},function(r){return r})},Fix64:ul,Identity:Gf,Int:zf,Int128:Zf,Int16:Hf,Int256:tl,Int32:Vf,Int64:Xf,Int8:qf,Optional:function(t){return V("Optional",function(n){return{type:"Optional",value:Ls(n)?null:t.asArgument(n)}},function(n){return n})},Path:pl,Reference:ll,Resource:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return V("Resource",function(r){if(gn(r))return{type:"Resource",value:{id:t,fields:hn(n)?n.map(function(e,a){return{name:r.fields[a].name,value:e.value.asArgument(r.fields[a].value)}}):r.fields.map(function(e){return{name:e.name,value:n.value.asArgument(e.value)}})}};H("Expected Object for type Resource")},function(r){return r})},String:sl,Struct:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return V("Struct",function(r){if(gn(r))return{type:"Struct",value:{id:t,fields:hn(n)?n.map(function(e,a){return{name:r.fields[a].name,value:e.value.asArgument(r.fields[a].value)}}):r.fields.map(function(e){return{name:e.name,value:n.value.asArgument(e.value)}})}};H("Expected Object for type Struct")},function(r){return r})},UFix64:ol,UInt:Mf,UInt128:$f,UInt16:Kf,UInt256:Qf,UInt32:Wf,UInt64:Jf,UInt8:Yf,Void:fl,Word16:rl,Word32:el,Word64:al,Word8:nl,_Array:Fs});function Gs(t){return ys(t)?t(na,Ds):[]}function Ms(t){return zs.apply(this,arguments)}function zs(){return(zs=x(h.mark(function t(n){var r,e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return C((r=n.url)!==void 0,"retrieve({ url }) -- url must be defined"),o.prev=2,o.next=5,Oo(r);case 5:e=o.sent,o.next=11;break;case 8:throw o.prev=8,o.t0=o.catch(2),new Error("httpDocumentResolver Error: Failed to retrieve document.");case 11:if(!e.ok){o.next=17;break}return o.next=14,e.json();case 14:o.t1=o.sent,o.next=18;break;case 17:o.t1=null;case 18:return a=o.t1,o.abrupt("return",a);case 20:case"end":return o.stop()}},t,null,[[2,8]])}))).apply(this,arguments)}var Ys=new Map([["http",Ms],["https",Ms]]);function dl(t){return qs.apply(this,arguments)}function qs(){return(qs=x(h.mark(function t(n){var r,e,a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return C((r=n.url)!==void 0,"retrieve({ url }) -- url must be defined"),C(typeof r=="string","retrieve({ url }) -- url must be a string"),c.next=5,F().where(/^document\.resolver\./);case 5:return e=c.sent,Object.keys(e).map(function(l){var d=e[l],g=l.replace(/^document\.resolver\./,"");Ys.set(g,d)}),C(a=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(r),"Failed to parse URL"),o=a[1],C(a,"Failed to parse URL protocol"),C(u=Ys.get(o),"No resolver found for protcol=".concat(o)),c.next=15,u({url:r});case 15:return i=c.sent,c.abrupt("return",i);case 17:case"end":return c.stop()}},t)}))).apply(this,arguments)}function Jn(t){if(t==null)return null;if(t.f_version==="1.0.0")return t;throw new Error("normalizeInteractionTemplate Error: Invalid InteractionTemplate")}function Ks(t){var n,r,e=t.network,a=t.template;if(G(e!=null,"deriveCadenceByNetwork({ network }) -- network must be defined"),G(typeof e=="string","deriveCadenceByNetwork({ network }) -- network must be a string"),G(a!=null,"generateDependencyPin({ template }) -- template must be defined"),G(z(a)==="object","generateDependencyPin({ template }) -- template must be an object"),G(a.f_type==="InteractionTemplate","generateDependencyPin({ template }) -- template must be an InteractionTemplate"),(a=Jn(a)).f_version==="1.0.0")return Object.keys((n=a)===null||n===void 0||(r=n.data)===null||r===void 0?void 0:r.dependencies).map(function(o){var u,i,c,l=Object.values((u=a)===null||u===void 0||(i=u.data)===null||i===void 0||(c=i.dependencies)===null||c===void 0?void 0:c[o]);G(l,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(o)),G(l.length===0,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(o));var d=l[0],g=d?.[e];return G(g,"deriveCadenceByNetwork -- Could not find ".concat(e," network information for dependency: ").concat(o)),[o,g.address]}).reduce(function(o,u){var i=Lt(u,2),c=i[0],l=i[1],d=new RegExp("(\\b"+c+"\\b)","g");return o.replace(d,l)},a.data.cadence);throw new Error("deriveCadenceByNetwork Error: Unsupported template version")}function hl(t){return la.apply(this,arguments)}function la(){return la=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m,b;return h.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return e=n.template,E.next=3,F.get("flow.network");case 3:C(a=E.sent,"FCL configureDependencies Error: Missing configuration value for 'flow.network'"),o={},E.t0=e.f_version,E.next=E.t0==="1.0.0"?9:12;break;case 9:for(u=Object.keys(e==null||(r=e.data)===null||r===void 0?void 0:r.dependencies),i=0,c=u;i<c.length;i++)d=c[i],g=e==null||(l=e.data)===null||l===void 0?void 0:l.dependencies[d],C((v=Object.keys(g)).length>0,"FCL configureDependencies Error: No contracts found in template for placeholder=".concat(d)),m=g[v[0]],C(b=m[a],"FCL configureDependencies Error: No dependency information for placeholder=".concat(d," contract=").concat(v[0]," network=").concat(a)),C(b?.address,"FCL configureDependencies Error: No address information for placeholder=".concat(d," contract=").concat(v[0]," network=").concat(a)),o[d]=at(b?.address);return E.abrupt("return",o);case 12:throw new Error("FCL configureDependencies Error: Unsupported template version");case 13:case"end":return E.stop()}},t)})),la.apply(this,arguments)}function Hs(t){return Ws.apply(this,arguments)}function Ws(){return(Ws=x(h.mark(function t(n){var r,e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!Tn(n?.template)){a.next=4;break}return a.next=3,dl({url:n?.template});case 3:n.template=a.sent;case 4:if(r={},n==null||!n.template){a.next=10;break}return n.template=Jn(n?.template),a.next=9,hl({template:n.template});case 9:r=a.sent;case 10:if(a.t0=n.cadence,a.t0){a.next=19;break}return a.t1=Ks,a.t2=n.template,a.next=16,F().get("flow.network");case 16:a.t3=a.sent,a.t4={template:a.t2,network:a.t3},a.t0=(0,a.t1)(a.t4);case 19:return e=a.t0,n.cadence=e,n.dependencies=r,a.abrupt("return",n);case 23:case"end":return a.stop()}},t)}))).apply(this,arguments)}function Vs(t,n){return pa.apply(this,arguments)}function pa(){return pa=x(h.mark(function t(n,r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C(Qt(r),"".concat(n,"(opts) -- opts is required")),C(_f(r),"".concat(n,"(opts) -- opts must be an object")),C(!(r.cadence&&r.template),"".concat(n,"({ template, cadence }) -- cannot pass both cadence and template")),C(Qt(r.cadence||r?.template),"".concat(n,"({ cadence }) -- cadence is required")),C(Tn(r.cadence)||r?.template,"".concat(n,"({ cadence }) -- cadence must be a string")),e.t0=C,e.t1=r.cadence,e.t1){e.next=11;break}return e.next=10,F().get("flow.network");case 10:e.t1=e.sent;case 11:return e.t2=e.t1,e.t3="".concat(n,'(opts) -- Required value for "flow.network" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t0)(e.t2,e.t3),e.t4=C,e.next=17,F().get("accessNode.api");case 17:e.t5=e.sent,e.t6="".concat(n,'(opts) -- Required value for "accessNode.api" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t4)(e.t5,e.t6);case 20:case"end":return e.stop()}},t)})),pa.apply(this,arguments)}function gl(t){return Js.apply(this,arguments)}function Js(){return(Js=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Vs("mutate",n));case 1:case"end":return r.stop()}},t)}))).apply(this,arguments)}function ml(t){return Xs.apply(this,arguments)}function Xs(){return(Xs=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Vs("query",n));case 1:case"end":return r.stop()}},t)}))).apply(this,arguments)}function Tr(){return da.apply(this,arguments)}function da(){return da=x(h.mark(function t(){var n,r=arguments;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&r[0]!==void 0?r[0]:{},e.next=3,ml(n);case 3:return e.next=5,Hs(n);case 5:return n=e.sent,e.abrupt("return",F().overload(n.dependencies||{},x(h.mark(function a(){return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Ot([hs(n.cadence),ta(Gs(n.args||[])),n.limit&&typeof n.limit=="number"&&Qe(n.limit)]).then(Rn));case 1:case"end":return o.stop()}},a)}))));case 7:case"end":return e.stop()}},t)})),da.apply(this,arguments)}function vl(t,n){return ha.apply(this,arguments)}function ha(){return ha=x(h.mark(function t(n,r){var e,a,o,u,i,c;return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(n!=null&&r!=null){l.next=2;break}return l.abrupt("return",[]);case 2:return(e=new URL(n)).searchParams.append("code",r),l.next=6,fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(d){return d.json()});case 6:if(a=l.sent,!Array.isArray(a)){l.next=9;break}return l.abrupt("return",a);case 9:if(o=[],Array.isArray(a.authorizations)){u=bt(a.authorizations);try{for(u.s();!(i=u.n()).done;)c=i.value,o.push(O({type:"authz",keyId:a.keyId},c))}catch(d){u.e(d)}finally{u.f()}}return a.provider!=null&&o.push(O({type:"authn",id:"wallet-provider#authn"},a.provider)),l.abrupt("return",o);case 13:case"end":return l.stop()}},t)})),ha.apply(this,arguments)}function yl(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return[].concat(K(t),K(n))}var Cn={f_type:"Service",f_vsn:"1.0.0"},$s={f_type:"Identity",f_vsn:"1.0.0"},bl={f_type:"USER",f_vsn:"1.0.0"},wl={f_type:"PollingResponse",f_vsn:"1.0.0"},ga={f_type:"CompositeSignature",f_vsn:"1.0.0"};function Zs(t){return t==null?null:t.f_vsn==="1.0.0"?t:O(O({old:t},Cn),{},{type:"frame",endpoint:t.endpoint,params:t.params||{},data:t.data||{}})}function Qs(t){return t==null?null:t.f_vsn==="1.0.0"?t:O(O({},Cn),{},{type:"back-channel-rpc",endpoint:t.endpoint,method:t.method,params:t.params||{},data:t.data||{}})}function ti(t){return t==null?null:(t.method==null&&(t=O(O({},t),{},{type:"local-view",method:"VIEW/IFRAME"})),t.f_vsn==="1.0.0"?t:O(O({},Cn),{},{type:t.type||"local-view",method:t.method,endpoint:t.endpoint,data:t.data||{},params:t.params||{}}))}var xl={"back-channel-rpc":Qs,"pre-authz":function(t){return t==null?null:t.f_vsn==="1.0.0"?t:O(O({},Cn),{},{type:t.type,uid:t.id,endpoint:t.endpoint,method:t.method,identity:O(O({},$s),{},{address:at(t.addr),keyId:t.keyId}),params:t.params,data:t.data})},authz:function(t){return t==null?null:t.f_vsn==="1.0.0"?t:O(O({},Cn),{},{type:t.type,uid:t.id,endpoint:t.endpoint,method:t.method,identity:O(O({},$s),{},{address:at(t.addr),keyId:t.keyId}),params:t.params,data:t.data})},authn:function(t){return t==null?null:t.f_vsn==="1.0.0"?t:O(O({},Cn),{},{type:t.type,uid:t.id,endpoint:t.authn,id:t.pid,provider:{address:at(t.addr),name:t.name,icon:t.icon}})},frame:Zs,"open-id":function(t){return t==null?null:t.f_vsn==="1.0.0"?t:null},"user-signature":function(t){if(t==null)return null;if(t.f_vsn==="1.0.0")return t;throw new Error("Invalid user-signature service")},"local-view":ti,"account-proof":function(t){if(t==null)return null;if(t.f_vsn==="1.0.0")return t;throw new Error("FCL Normalizer Error: Invalid account-proof service")},"authn-refresh":function(t){if(t==null)return null;if(t.f_vsn==="1.0.0")return t;throw new Error("Invalid authn-refresh service")}};function kl(t,n){try{return xl[t.type](t,n)}catch(r){return console.error("Unrecognized FCL Service Type [".concat(t.type,"]"),t,r),t}}function El(t){return dn([t.provider.address||t.provider.name||"UNSPECIFIED",t.id]).toString("hex")}function Il(t){return t.addr=t.addr?at(t.addr):null,t.paddr=t.paddr?at(t.paddr):null,t}function Sl(t,n){return n.find(function(r){return r.type===t})}function ni(t){return ma.apply(this,arguments)}function ma(){return ma=x(h.mark(function t(n){var r,e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=Il(n),a.t0=yl,a.t1=n.services||[],a.next=5,vl(n.hks,n.code);case 5:return a.t2=a.sent,r=(0,a.t0)(a.t1,a.t2).map(function(o){return kl(o,n)}),e=Sl("authn",r),a.abrupt("return",O(O({},bl),{},{addr:at(n.addr),cid:El(e),loggedIn:!0,services:r,expiresAt:n.expires}));case 9:case"end":return a.stop()}},t)})),ma.apply(this,arguments)}function _r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.find(function(r){return r.type===n})}function Xn(t){var n=new URL(t.endpoint);if(n.searchParams.append("l6n",window.location.origin),t.params!=null)for(var r=0,e=Object.entries(t.params||{});r<e.length;r++){var a=Lt(e[r],2),o=a[0],u=a[1];n.searchParams.append(o,u)}return n}function ri(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.method||"POST",e=r==="GET"?void 0:JSON.stringify(n.data||t.data||{});return fetch(Xn(t),{method:r,headers:O(O(O({},t.headers||{}),n.headers||{}),{},{"Content-Type":"application/json"}),body:e}).then(function(a){return a.json()})}function tn(t){var n,r;return t==null?null:t.f_vsn==="1.0.0"?t:O(O({},wl),{},{status:(n=t.status)!==null&&n!==void 0?n:"APPROVED",reason:(r=t.reason)!==null&&r!==void 0?r:null,data:t.compositeSignature||t.data||O({},t)||{},updates:Qs(t.authorizationUpdates),local:Zs((t.local||[])[0])})}var ei={"HTTP/GET":"GET","HTTP/POST":"POST"},Al=function(t){return C(ei[t.method],"Invalid Service Method for type back-channel-rpc",{service:t}),ei[t.method]};function ai(t){return va.apply(this,arguments)}function va(){return va=x(h.mark(function t(n){var r,e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=a.length>1&&a[1]!==void 0?a[1]:function(){return!0},C(n,"Missing Polling Service",{service:n}),r()){o.next=4;break}throw new Error("Externally Halted");case 4:return o.next=6,ri(n,{method:Al(n)}).then(tn);case 6:e=o.sent,o.t0=e.status,o.next=o.t0==="APPROVED"?10:o.t0==="DECLINED"?11:12;break;case 10:return o.abrupt("return",e.data);case 11:throw new Error("Declined: ".concat(e.reason||"No reason supplied."));case 12:return o.next=14,new Promise(function(u){return setTimeout(u,500)});case 14:return o.abrupt("return",ai(e.updates,r));case 15:case"end":return o.stop()}},t)})),va.apply(this,arguments)}var Cr="FCL_IFRAME";function oi(t){C(!document.getElementById(Cr),"Attempt at triggering multiple Frames",{src:t});var n=document.createElement("iframe");return n.src=t,n.id=Cr,n.allow="usb *; hid *",n.frameBorder="0",n.style.cssText=`
  position:fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  height: 100%;
  width: 100vw;
  display:block;
  background:rgba(0,0,0,0.25);
  z-index: 2147483647;
  box-sizing: border-box;
  color-scheme: light;
`,document.body.append(n),[n.contentWindow,function(){document.getElementById(Cr)&&document.getElementById(Cr).remove()}]}var Dt=null,ui=null;function si(t){var n;return Dt==null||(n=Dt)!==null&&n!==void 0&&n.closed?Dt=function(r,e,a,o,u){var i=a.top.outerHeight/2+a.top.screenY-u/2,c=a.top.outerWidth/2+a.top.screenX-o/2,l=a.open(r,e,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(o,", height=").concat(u,", top=").concat(i,", left=").concat(c));if(!l)throw new Error("Popup failed to open (was it blocked by a popup blocker?)");return l}(t,"FCL_POP",window,640,770):(ui!==t&&Dt.location.replace(t),Dt.focus()),ui=t,[Dt,function(){Dt&&!Dt.closed&&Dt.close(),Dt=null}]}var Gt=null,ii=null;function ci(t){var n;if(Gt==null||(n=Gt)!==null&&n!==void 0&&n.closed){if(!(Gt=window.open(t,"_blank")))throw new Error("Tab failed to open (was it blocked by the browser?)")}else ii!==t&&Gt.location.replace(t),Gt.focus();return ii=t,[Gt,function(){Gt&&!Gt.closed&&Gt.close(),Gt=null}]}var Rl={"VIEW/IFRAME":oi,"VIEW/POP":si,"VIEW/TAB":ci};function Tl(t){return ya.apply(this,arguments)}function ya(){return ya=x(h.mark(function t(n){var r,e=arguments;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.length>1&&e[1]!==void 0?e[1]:{},a.prev=1,a.abrupt("return",Rl[n.method](Xn(n),r));case 5:throw a.prev=5,a.t0=a.catch(1),console.error("execLocal({service, opts = {}})",a.t0,{service:n,opts:r}),a.t0;case 9:case"end":return a.stop()}},t,null,[[1,5]])})),ya.apply(this,arguments)}function fi(t){return ba.apply(this,arguments)}function ba(){return ba=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return r=n.service,e=n.body,a=n.config,n.opts,g.next=3,ri(r,{data:O({fclVersion:Ut,service:{params:r.params,data:r.data,type:r.type},config:a},e)}).then(tn);case 3:if((o=g.sent).status!=="APPROVED"){g.next=8;break}return g.abrupt("return",o.data);case 8:if(o.status!=="DECLINED"){g.next=12;break}throw new Error("Declined: ".concat(o.reason||"No reason supplied."));case 12:if(o.status!=="REDIRECT"){g.next=16;break}return g.abrupt("return",o);case 16:if(o.status!=="PENDING"){g.next=28;break}return u=!0,g.next=20,Tl(ti(o.local));case 20:return i=g.sent,(c=Lt(i,2))[0],l=c[1],d=function(){try{l(),u=!1}catch(v){console.error("Frame Close Error",v)}},g.abrupt("return",ai(o.updates,function(){return u}).then(function(v){return d(),v}).catch(function(v){throw console.error(v),d(),v}));case 28:throw console.error("Auto Decline: Invalid Response",{service:r,resp:o}),new Error("Auto Decline: Invalid Response");case 30:case"end":return g.stop()}},t)})),ba.apply(this,arguments)}var li="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",_l=li.length;function wa(){for(var t="",n=32;n--;)t+=li[Math.random()*_l|0];return t}var Or="FCL:VIEW:CLOSE",xa="FCL:VIEW:READY",ka="FCL:VIEW:RESPONSE",ft=function(t){return typeof t=="string"&&t.toLowerCase()},Cl=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),mn=function(t,n){return console.warn("DEPRECATION NOTICE","Received ".concat(t,", please use ").concat(n," for this and future versions of FCL"))},Pr=function(t){var n=t.close,r=t.send,e=t.onReady,a=t.onResponse,o=t.onMessage;return function(u){try{if(z(u.data)!=="object"||Cl.has(u.data.type))return;ft(u.data.type)===ft(Or)&&n(),ft(u.data.type)===ft(xa)&&e(u,{send:r,close:n}),ft(u.data.type)===ft(ka)&&a(u,{send:r,close:n}),o(u,{send:r,close:n}),ft(u.data.type)===ft("FCL:FRAME:READY")&&(mn(u.data.type,xa),e(u,{send:r,close:n})),ft(u.data.type)===ft("FCL:FRAME:RESPONSE")&&(mn(u.data.type,ka),a(u,{send:r,close:n})),ft(u.data.type)===ft("FCL:FRAME:CLOSE")&&(mn(u.data.type,Or),n()),ft(u.data.type)===ft("FCL::CHALLENGE::RESPONSE")&&(mn(u.data.type,ka),a(u,{send:r,close:n})),ft(u.data.type)===ft("FCL::AUTHZ_READY")&&(mn(u.data.type,xa),e(u,{send:r,close:n})),ft(u.data.type)===ft("FCL::CHALLENGE::CANCEL")&&(mn(u.data.type,Or),n()),ft(u.data.type)===ft("FCL::CANCEL")&&(mn(u.data.type,Or),n())}catch(i){console.error("Frame Callback Error",i),n()}}},On=function(){},Pn=function(){},Nn=function(){},Bn=function(){},Ea,$n,pi,Ia,di={"HTTP/RPC":fi,"HTTP/POST":fi,"IFRAME/RPC":function(t){var n=t.service,r=t.body,e=t.config,a=t.opts;return new Promise(function(o,u){var i=wa(),c=a.includeOlderJsonRpcCall;(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l==null)return{send:On,close:On};var g=d.onClose||On,v=d.onMessage||On,m=d.onReady||On,b=d.onResponse||On,E=Pr({close:R,send:L,onReady:m,onResponse:b,onMessage:v});window.addEventListener("message",E);var S=Lt(oi(Xn(l)),2),N=S[0],_=S[1];return{send:L,close:R};function R(){try{window.removeEventListener("message",E),_(),g()}catch(I){console.error("Frame Close Error",I)}}function L(I){try{N.postMessage(JSON.parse(JSON.stringify(I||{})),"*")}catch(W){console.error("Frame Send Error",I,W)}}})(n,{onReady:function(l,d){return x(h.mark(function g(){var v;return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:v=d.send,m.prev=1,v({type:"FCL:VIEW:READY:RESPONSE",fclVersion:Ut,body:r,service:{params:n.params,data:n.data,type:n.type},config:e}),v({fclVersion:Ut,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),c&&v({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[r,n.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),m.next=10;break;case 7:throw m.prev=7,m.t0=m.catch(1),m.t0;case 10:case"end":return m.stop()}},g,null,[[1,7]])}))()},onResponse:function(l,d){var g=d.close;try{if(z(l.data)!=="object")return;var v=tn(l.data);switch(v.status){case"APPROVED":o(v.data),g();break;case"DECLINED":u("Declined: ".concat(v.reason||"No reason supplied")),g();break;case"REDIRECT":o(v),g();break;default:u("Declined: No reason supplied"),g()}}catch(m){throw console.error("execIframeRPC onResponse error",m),m}},onMessage:function(l,d){var g=d.close;try{if(z(l.data)!=="object"||l.data.jsonrpc!=="2.0"||l.data.id!==i)return;var v=tn(l.data.result);switch(v.status){case"APPROVED":o(v.data),g();break;case"DECLINED":u("Declined: ".concat(v.reason||"No reason supplied")),g();break;case"REDIRECT":o(v),g();break;default:u("Declined: No reason supplied"),g()}}catch(m){throw console.error("execIframeRPC onMessage error",m),m}},onClose:function(){u("Declined: Externally Halted")}})})},"POP/RPC":function(t){var n=t.service,r=t.body,e=t.config,a=t.opts;return new Promise(function(o,u){var i=wa(),c=a.redir,l=a.includeOlderJsonRpcCall;(function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d==null)return{send:Pn,close:Pn};var v=g.onClose||Pn,m=g.onMessage||Pn,b=g.onReady||Pn,E=g.onResponse||Pn,S=Pr({close:I,send:W,onReady:b,onResponse:E,onMessage:m});window.addEventListener("message",S);var N=Lt(si(Xn(d)),2),_=N[0],R=N[1],L=setInterval(function(){_&&_.closed&&I()},500);return{send:W,close:I};function I(){try{window.removeEventListener("message",S),clearInterval(L),R(),v()}catch(lt){console.error("Popup Close Error",lt)}}function W(lt){try{_.postMessage(JSON.parse(JSON.stringify(lt||{})),"*")}catch(It){console.error("Popup Send Error",lt,It)}}})(n,{onReady:function(d,g){return x(h.mark(function v(){var m;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:m=g.send,b.prev=1,m({fclVersion:Ut,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e}),m({fclVersion:Ut,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),l&&m({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[r,n.params]}),b.next=10;break;case 7:throw b.prev=7,b.t0=b.catch(1),b.t0;case 10:case"end":return b.stop()}},v,null,[[1,7]])}))()},onResponse:function(d,g){var v=g.close;try{if(z(d.data)!=="object")return;var m=tn(d.data);switch(m.status){case"APPROVED":o(m.data),!c&&v();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),v();break;case"REDIRECT":o(m),v();break;default:u("Declined: No reason supplied"),v()}}catch(b){throw console.error("execPopRPC onResponse error",b),b}},onMessage:function(d,g){var v=g.close;try{if(z(d.data)!=="object"||d.data.jsonrpc!=="2.0"||d.data.id!==i)return;var m=tn(d.data.result);switch(m.status){case"APPROVED":o(m.data),!c&&v();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),v();break;case"REDIRECT":o(m),v();break;default:u("Declined: No reason supplied"),v()}}catch(b){throw console.error("execPopRPC onMessage error",b),b}},onClose:function(){u("Declined: Externally Halted")}})})},"TAB/RPC":function(t){var n=t.service,r=t.body,e=t.config,a=t.opts;return new Promise(function(o,u){var i=wa(),c=a.redir,l=a.includeOlderJsonRpcCall;(function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d==null)return{send:Nn,close:Nn};var v=g.onClose||Nn,m=g.onMessage||Nn,b=g.onReady||Nn,E=g.onResponse||Nn,S=Pr({close:I,send:W,onReady:b,onResponse:E,onMessage:m});window.addEventListener("message",S);var N=Lt(ci(Xn(d)),2),_=N[0],R=N[1],L=setInterval(function(){_&&_.closed&&I()},500);return{send:W,close:I};function I(){try{window.removeEventListener("message",S),clearInterval(L),R(),v()}catch(lt){console.error("Tab Close Error",lt)}}function W(lt){try{_.postMessage(JSON.parse(JSON.stringify(lt||{})),"*")}catch(It){console.error("Tab Send Error",lt,It)}}})(n,{onReady:function(d,g){return x(h.mark(function v(){var m;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:m=g.send,b.prev=1,m({fclVersion:Ut,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e}),m({fclVersion:Ut,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),l&&m({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[r,n.params]}),b.next=10;break;case 7:throw b.prev=7,b.t0=b.catch(1),b.t0;case 10:case"end":return b.stop()}},v,null,[[1,7]])}))()},onResponse:function(d,g){var v=g.close;try{if(z(d.data)!=="object")return;var m=tn(d.data);switch(m.status){case"APPROVED":o(m.data),!c&&v();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),v();break;case"REDIRECT":o(m),v();break;default:u("Declined: No reason supplied"),v()}}catch(b){throw console.error("execPopRPC onResponse error",b),b}},onMessage:function(d,g){var v=g.close;try{if(z(d.data)!=="object"||d.data.jsonrpc!=="2.0"||d.data.id!==i)return;var m=tn(d.data.result);switch(m.status){case"APPROVED":o(m.data),!c&&v();break;case"DECLINED":u("Declined: ".concat(m.reason||"No reason supplied")),v();break;case"REDIRECT":o(m),v();break;default:u("Declined: No reason supplied"),v()}}catch(b){throw console.error("execPopRPC onMessage error",b),b}},onClose:function(){u("Declined: Externally Halted")}})})},"EXT/RPC":function(t){var n=t.service,r=t.body,e=t.config;return t.opts,new Promise(function(a,o){(function(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(u==null)return{send:Bn,close:Bn};var c=i.onClose||Bn,l=i.onMessage||Bn,d=i.onReady||Bn,g=i.onResponse||Bn,v=Pr({close:m,send:b,onReady:d,onResponse:g,onMessage:l});return window.addEventListener("message",v),b({service:u}),{send:b,close:m};function m(){try{window.removeEventListener("message",v),c()}catch(E){console.error("Ext Close Error",E)}}function b(E){try{window&&window.postMessage(JSON.parse(JSON.stringify(E||{})),"*")}catch(S){console.error("Ext Send Error",E,S)}}})(n,{onReady:function(u,i){return x(h.mark(function c(){var l;return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:l=i.send,d.prev=1,l({fclVersion:Ut,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:e}),d.next=8;break;case 5:throw d.prev=5,d.t0=d.catch(1),d.t0;case 8:case"end":return d.stop()}},c,null,[[1,5]])}))()},onResponse:function(u,i){var c=i.close;try{if(z(u.data)!=="object")return;var l=tn(u.data);switch(l.status){case"APPROVED":a(l.data),c();break;case"DECLINED":o("Declined: ".concat(l.reason||"No reason supplied")),c();break;case"REDIRECT":a(l),c();break;default:o("Declined: No reason supplied"),c()}}catch(d){throw console.error("execExtRPC onResponse error",d),d}},onClose:function(){o("Declined: Externally Halted")}})})}},Ol=["ServicePlugin"],Pl=["discovery-service"],Zn=(Ea=new Set,$n=new Map(Object.entries(di)),pi=function(t){return Ea=new Set(K(t))},Object.freeze({add:function(t){if(C(Pl.includes(t.type),"Service Plugin type ".concat(t.type," is not supported")),t.type==="discovery-service"){var n=function(a){var o=a.services,u=a.serviceStrategy;C(Array.isArray(o)&&o.length,"Array of Discovery Services is required");var i,c=bt(o);try{for(c.s();!(i=c.n()).done;){var l=i.value;C(Qt(l.f_type)&&l.f_type==="Service","Service is required"),C(Qt(l.type)&&l.type==="authn","Service must be type authn. Received ".concat(l.type)),C(l.method in di||u.method===l.method,"Service method ".concat(l.method," is not supported"))}}catch(d){c.e(d)}finally{c.f()}return C(Qt(u),"Service strategy is required"),C(Qt(u.method)&&Tn(u.method),"Service strategy method is required"),C(Qt(u.exec)&&ys(u.exec),"Service strategy exec function is required"),{discoveryServices:o,serviceStrategy:u}}(t),r=n.discoveryServices,e=n.serviceStrategy;pi(r),$n.has(e.method)?wt({title:"Add Service Plugin",message:"Service strategy for ".concat(e.method," already exists"),level:St.warn}):$n.set(e.method,e.exec)}},getServices:function(){return K(Ea)},getStrategy:function(t){return $n.get(t)},getStrategies:function(){return K($n.keys())}})),Nl=(Ia=new Map,Object.freeze({add:function(t){var n,r=function(o){var u;C(o,"No plugins supplied");var i,c=bt(u=Array.isArray(o)?K(o):[o]);try{for(c.s();!(i=c.n()).done;){var l=i.value;C(Qt(l.name),"Plugin name is required"),C(Qt(l.f_type),"Plugin f_type is required"),C(Ol.includes(l.f_type),"Plugin type ".concat(l.f_type," is not supported"))}}catch(d){c.e(d)}finally{c.f()}return u}(t),e=bt(r);try{for(e.s();!(n=e.n()).done;){var a=n.value;Ia.set(a.name,a),a.f_type==="ServicePlugin"&&Zn.add(a)}}catch(o){e.e(o)}finally{e.f()}},getPlugins:function(){return Ia}})),Bl=function(){var t=x(h.mark(function n(r){var e,a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return e=r.service,a=r.body,o=r.config,u=r.opts,i=Zn.getStrategy(e.method),c.abrupt("return",i({service:e,body:a,config:o,opts:u}));case 3:case"end":return c.stop()}},n)}));return function(n){return t.apply(this,arguments)}}();function vn(t){return Sa.apply(this,arguments)}function Sa(){return Sa=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o=n.service,u=n.msg,i=u===void 0?{}:u,c=n.config,l=c===void 0?{}:c,d=n.opts,g=d===void 0?{}:d,i.data=o.data,b.next=4,Io(/^service\./);case 4:return b.t0=b.sent,b.next=7,Io(/^app\.detail\./);case 7:return b.t1=b.sent,b.t2=O(O({},l.client),{},{fclVersion:Ut,fclLibrary:"https://github.com/onflow/fcl-js",hostname:(r=(e=window)===null||e===void 0||(a=e.location)===null||a===void 0?void 0:a.hostname)!==null&&r!==void 0?r:null}),v={services:b.t0,app:b.t1,client:b.t2},b.prev=10,b.next=13,Bl({service:o,body:i,config:v,opts:g});case 13:if((m=b.sent).status!=="REDIRECT"){b.next=21;break}return C(o.type===m.data.type,"Cannot shift recursive service type in execService"),b.next=18,vn({service:m.data,msg:i,config:v,opts:g});case 18:return b.abrupt("return",b.sent);case 21:return b.abrupt("return",m);case 22:b.next=28;break;case 24:throw b.prev=24,b.t3=b.catch(10),wt({title:"Error on execService ".concat(o?.type),message:b.t3,level:St.error}),b.t3;case 28:case"end":return b.stop()}},t,null,[[10,24]])})),Sa.apply(this,arguments)}function Aa(t){return t==null?null:t.f_vsn==="1.0.0"?t:O(O({},ga),{},{addr:$(t.addr||t.address),signature:t.signature||t.sig,keyId:t.keyId})}var Ln,hi=function(){var t=x(h.mark(function n(){var r,e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=((r=window)===null||r===void 0?void 0:r.fcl_extensions)||[],a.abrupt("return",[].concat(K(e),K(Zn.getServices())));case 2:case"end":return a.stop()}},n)}));return function(){return t.apply(this,arguments)}}();function Ll(t){return gi.apply(this,arguments)}function gi(){return(gi=x(h.mark(function t(n){var r,e,a,o,u;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,F.get("discovery.authn.include",[]);case 2:return e=i.sent,i.next=5,F.first(["discovery.wallet.method","discovery.wallet.method.default"]);case 5:if(a=i.sent,o=n!=null&&n.method?n.method:a,(r=n?.endpoint)===null||r===void 0){i.next=11;break}i.t0=r,i.next=14;break;case 11:return i.next=13,F.first(["discovery.wallet","challenge.handshake"]);case 13:i.t0=i.sent;case 14:return C(u=i.t0,`
    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.
    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"
    `),i.abrupt("return",O(O({},n),{},{type:"authn",endpoint:u,method:o,discoveryAuthnInclude:e}));case 17:case"end":return i.stop()}},t)}))).apply(this,arguments)}function Ul(t){return Ra.apply(this,arguments)}function Ra(){return Ra=x(h.mark(function t(n){var r,e,a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return a=n.types,c.next=3,F.get("discovery.authn.endpoint");case 3:return o=c.sent,C(Boolean(o),'"discovery.authn.endpoint" in config must be defined.'),c.next=7,F.get("discovery.authn.include",[]);case 7:return u=c.sent,i=new URL(o),c.t0=fetch,c.t1=i,c.t2={"Content-Type":"application/json"},c.t3=JSON,c.t4=a,c.t5=Ut,c.t6=u,c.next=18,hi();case 18:return c.t7=c.sent,c.t8=Zn.getStrategies(),c.t9=(r=window)===null||r===void 0||(e=r.navigator)===null||e===void 0?void 0:e.userAgent,c.t10={type:c.t4,fclVersion:c.t5,include:c.t6,clientServices:c.t7,supportedStrategies:c.t8,userAgent:c.t9},c.t11=c.t3.stringify.call(c.t3,c.t10),c.t12={method:"POST",headers:c.t2,body:c.t11},c.abrupt("return",(0,c.t0)(c.t1,c.t12).then(function(l){return l.json()}));case 25:case"end":return c.stop()}},t)})),Ra.apply(this,arguments)}var mi,vi,yn,Qn="authn",jl="SNAPSHOT",yi="UPDATED",bi="UPDATE_RESULTS",Ta=function(){var t=x(h.mark(function n(){var r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ul({types:[Qn]});case 3:r=e.sent,dt(Qn,bi,{results:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),wt({title:"".concat(e.t0.name," Error fetching Discovery API services."),message:e.t0.message,level:St.error});case 10:case"end":return e.stop()}},n,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),Fl=(q(Ln={},Ur,(vi=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=typeof window>"u",a='"fcl.discovery" is only available in the browser.',e&&console.warn(`
      %cFCL Warning
      ============================
      `.concat(a,`
      For more info, please see the docs: https://docs.onflow.org/fcl/
      ============================
      `),"font-weight:bold;font-family:monospace;"),document.readyState==="complete"?Ta():window.onload=x(h.mark(function o(){return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:Ta();case 1:case"end":return u.stop()}},o)}));case 2:case"end":return r.stop()}var e,a},t)})),function(t){return vi.apply(this,arguments)})),q(Ln,bi,function(t,n,r){t.merge(r),t.broadcast(yi,O({},t.all()))}),q(Ln,pn,function(t,n){t.subscribe(n.from),t.send(n.from,yi,O({},t.all()))}),q(Ln,an,function(t,n){return t.unsubscribe(n.from)}),q(Ln,jl,(mi=x(h.mark(function t(n,r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.reply(O({},n.all())));case 1:case"end":return e.stop()}},t)})),function(t,n){return mi.apply(this,arguments)})),Ln),wi=function(){return on(Fl,Qn)},Dl={authn:{subscribe:function(t){return cr(Qn,wi,t)},snapshot:function(){return oo(Qn,wi)},update:function(){return Ta()}}};function Gl(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)||typeof navigator<"u"&&/iPad/.test(navigator.userAgent)}function Ml(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)||Gl()}var xi,ki,zl=function(t){return typeof t=="function"},Mt="CURRENT_USER",_a="CURRENT_USER/UPDATED",Ei="SNAPSHOT",Ca="SET_CURRENT_USER",Ii="DEL_CURRENT_USER",Oa=`{
  "f_type": "User",
  "f_vsn": "1.0.0",
  "addr":null,
  "cid":null,
  "loggedIn":null,
  "expiresAt":null,
  "services":[]
}`,Yl=function(){var t=x(h.mark(function n(r){var e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=JSON.parse(Oa),o.next=3,r.get(Mt);case 3:if((a=o.sent)==null||e.f_vsn===a.f_vsn){o.next=7;break}return r.removeItem(Mt),o.abrupt("return",e);case 7:return o.abrupt("return",a||e);case 8:case"end":return o.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),ql=(q(yn={},Ur,function(){var t=x(h.mark(function n(r){var e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return typeof window>"u"&&console.warn(`
        %cFCL Warning
        ============================
        "currentUser" is only available in the browser.
        For more info, please see the docs: https://docs.onflow.org/fcl/
        ============================
        `,"font-weight:bold;font-family:monospace;"),r.merge(JSON.parse(Oa)),o.next=4,F.first(["fcl.storage","fcl.storage.default"]);case 4:if(!(e=o.sent).can){o.next=10;break}return o.next=8,Yl(e);case 8:Kl(a=o.sent)&&r.merge(a);case 10:case"end":return o.stop()}},n)}));return function(n){return t.apply(this,arguments)}}()),q(yn,pn,function(t,n){t.subscribe(n.from),t.send(n.from,_a,O({},t.all()))}),q(yn,an,function(t,n){t.unsubscribe(n.from)}),q(yn,Ei,(ki=x(h.mark(function t(n,r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.reply(O({},n.all()));case 1:case"end":return e.stop()}},t)})),function(t,n){return ki.apply(this,arguments)})),q(yn,Ca,function(){var t=x(h.mark(function n(r,e,a){var o;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r.merge(a),u.next=3,F.first(["fcl.storage","fcl.storage.default"]);case 3:(o=u.sent).can&&o.put(Mt,r.all()),r.broadcast(_a,O({},r.all()));case 6:case"end":return u.stop()}},n)}));return function(n,r,e){return t.apply(this,arguments)}}()),q(yn,Ii,(xi=x(h.mark(function t(n,r){var e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n.merge(JSON.parse(Oa)),a.next=3,F.first(["fcl.storage","fcl.storage.default"]);case 3:(e=a.sent).can&&e.put(Mt,n.all()),n.broadcast(_a,O({},n.all()));case 6:case"end":return a.stop()}},t)})),function(t,n){return xi.apply(this,arguments)})),yn),Un=function(){return on(ql,Mt)};function Kl(t){return t.expiresAt==null||t.expiresAt===0||t.expiresAt>Date.now()}function Hl(){return Si.apply(this,arguments)}function Si(){return(Si=x(h.mark(function t(){var n,r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("fcl.accountProof.resolver");case 2:if(n=e.sent,zl(n)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n();case 7:if((r=e.sent)!=null){e.next=10;break}return e.abrupt("return");case 10:return C(typeof r.appIdentifier=="string","appIdentifier must be a string"),C(/^[0-9a-f]+$/i.test(r.nonce),"Nonce must be a hex string"),e.abrupt("return",r);case 13:case"end":return e.stop()}},t)}))).apply(this,arguments)}var Wl=function(){var t=x(h.mark(function n(r){var e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=r.discoveryAuthnInclude,a.t0=e,a.next=4,hi();case 4:return a.t1=a.sent,a.t2=Zn.getStrategies(),a.t3={discoveryAuthnInclude:a.t0,clientServices:a.t1,supportedStrategies:a.t2},a.abrupt("return",{client:a.t3});case 8:case"end":return a.stop()}},n)}));return function(n){return t.apply(this,arguments)}}();function tr(){return Pa.apply(this,arguments)}function Pa(){return Pa=x(h.mark(function t(){var n,r,e,a,o,u,i,c=arguments;return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=c.length>0&&c[0]!==void 0?c[0]:{},a=e.service,o=e.redir,u=o!==void 0&&o,!a||a!=null&&(n=a.provider)!==null&&n!==void 0&&n.is_installed||a==null||(r=a.provider)===null||r===void 0||!r.requires_install){l.next=4;break}return window.location.href=a==null||(i=a.provider)===null||i===void 0?void 0:i.install_link,l.abrupt("return");case 4:return l.abrupt("return",new Promise(function(){var d=x(h.mark(function g(v,m){var b,E,S,N,_,R,L;return h.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return Un(),b={redir:u},I.next=4,nr();case 4:return E=I.sent,I.next=7,Ll(a);case 7:return S=I.sent,N=_r(E.services,"authn-refresh"),I.prev=9,I.next=12,Hl();case 12:_=I.sent,I.next=19;break;case 15:return I.prev=15,I.t0=I.catch(9),console.error(`Error During Authentication: Could not resolve account proof data.
        `.concat(I.t0)),I.abrupt("return",m(I.t0));case 19:if(!E.loggedIn){I.next=47;break}if(!N){I.next=46;break}return I.prev=21,I.next=24,vn({service:N,msg:_,opts:b});case 24:return R=I.sent,I.t1=dt,I.t2=Mt,I.t3=Ca,I.next=30,ni(R);case 30:I.t4=I.sent,(0,I.t1)(I.t2,I.t3,I.t4),I.next=37;break;case 34:I.prev=34,I.t5=I.catch(21),console.error("Error: Could not refresh authentication.",I.t5);case 37:return I.prev=37,I.t6=v,I.next=41,nr();case 41:return I.t7=I.sent,I.abrupt("return",(0,I.t6)(I.t7));case 44:I.next=47;break;case 46:return I.abrupt("return",v(E));case 47:return I.prev=47,I.t8=vn,I.t9=S,I.t10=_,I.next=53,Wl(S);case 53:return I.t11=I.sent,I.t12=b,I.t13={service:I.t9,msg:I.t10,config:I.t11,opts:I.t12},I.next=58,(0,I.t8)(I.t13);case 58:return L=I.sent,I.t14=dt,I.t15=Mt,I.t16=Ca,I.next=64,ni(L);case 64:I.t17=I.sent,(0,I.t14)(I.t15,I.t16,I.t17),I.next=71;break;case 68:I.prev=68,I.t18=I.catch(47),console.error("Error while authenticating",I.t18);case 71:return I.prev=71,I.t19=v,I.next=75,nr();case 75:return I.t20=I.sent,(0,I.t19)(I.t20),I.finish(71);case 78:case"end":return I.stop()}},g,null,[[9,15],[21,34,37,44],[47,68,71,78]])}));return function(g,v){return d.apply(this,arguments)}}()));case 5:case"end":return l.stop()}},t)})),Pa.apply(this,arguments)}function Ai(){Un(),dt(Mt,Ii)}function Vl(t){var n=function(d){return{f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(d||{}).proposer,payer:(d||{}).payer||[],authorization:(d||{}).authorization||[]}}(t),r=[];n.proposer!=null&&r.push(["PROPOSER",n.proposer]);var e,a=bt(n.payer||[]);try{for(a.s();!(e=a.n()).done;){var o=e.value;r.push(["PAYER",o])}}catch(d){a.e(d)}finally{a.f()}var u,i=bt(n.authorization||[]);try{for(i.s();!(u=i.n()).done;){var c=u.value;r.push(["AUTHORIZER",c])}}catch(d){i.e(d)}finally{i.f()}var l=r.map(function(d){var g=Lt(d,2),v=g[0],m=g[1];return{tempId:[m.identity.address,m.identity.keyId].join("|"),addr:m.identity.address,keyId:m.identity.keyId,signingFunction:function(b){return vn({service:m,msg:b})},role:{proposer:v==="PROPOSER",payer:v==="PAYER",authorizer:v==="AUTHORIZER"}}});return l}function Ri(t){return Na.apply(this,arguments)}function Na(){return Na=x(h.mark(function t(n){return h.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Un(),r.abrupt("return",O(O({},n),{},{tempId:"CURRENT_USER",resolve:function(e,a){return x(h.mark(function o(){var u,i,c,l;return h.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,tr({redir:!0});case 2:if(u=d.sent,i=_r(u.services,"authz"),!(c=_r(u.services,"pre-authz"))){d.next=11;break}return d.t0=Vl,d.next=9,vn({service:c,msg:a});case 9:return d.t1=d.sent,d.abrupt("return",(0,d.t0)(d.t1));case 11:if(!i){d.next=14;break}return Ml()&&i.method==="WC/RPC"&&(l=window.open("","_blank")),d.abrupt("return",O(O({},e),{},{tempId:"CURRENT_USER",resolve:null,addr:$(i.identity.address),keyId:i.identity.keyId,sequenceNum:null,signature:null,signingFunction:function(g){return x(h.mark(function v(){return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.t0=Aa,m.next=3,vn({service:i,msg:g,opts:{includeOlderJsonRpcCall:!0,windowRef:l}});case 3:return m.t1=m.sent,m.abrupt("return",(0,m.t0)(m.t1));case 5:case"end":return m.stop()}},v)}))()}}));case 14:throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER");case 15:case"end":return d.stop()}},o)}))()}}));case 2:case"end":return r.stop()}},t)})),Na.apply(this,arguments)}function Ti(t){Un();var n="@EXIT",r=on(function(){var e=x(h.mark(function a(o){var u;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o.send(Mt,pn);case 1:return i.next=4,o.receive();case 4:if((u=i.sent).tag!==n){i.next=8;break}return o.send(Mt,an),i.abrupt("return");case 8:t(u.data),i.next=1;break;case 11:case"end":return i.stop()}},a)}));return function(a){return e.apply(this,arguments)}}());return function(){return dt(r,n)}}function nr(){return Un(),dt(Mt,Ei,null,{expectReply:!0,timeout:0})}function _i(){return Ci.apply(this,arguments)}function Ci(){return(Ci=x(h.mark(function t(){var n,r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr();case 2:return n=e.sent,r=n.addr,e.abrupt("return",na(at(r),js));case 5:case"end":return e.stop()}},t)}))).apply(this,arguments)}var Jl=function(t){return C(/^[0-9a-f]+$/i.test(t),"Message must be a hex string"),{message:t}};function Oi(t){return Ba.apply(this,arguments)}function Ba(){return Ba=x(h.mark(function t(n){var r,e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return Un(),o.next=3,tr({redir:!0});case 3:return r=o.sent,C(e=_r(r.services,"user-signature"),"Current user must have authorized a signing service."),o.prev=6,o.next=9,vn({service:e,msg:Jl(n)});case 9:if(a=o.sent,!Array.isArray(a)){o.next=14;break}return o.abrupt("return",a.map(function(u){return Aa(u)}));case 14:return o.abrupt("return",[Aa(a)]);case 15:o.next=20;break;case 17:return o.prev=17,o.t0=o.catch(6),o.abrupt("return",o.t0);case 20:case"end":return o.stop()}},t,null,[[6,17]])})),Ba.apply(this,arguments)}var xt=function(){return{authenticate:tr,unauthenticate:Ai,authorization:Ri,signUserMessage:Oi,subscribe:Ti,snapshot:nr,resolveArgument:_i}};function La(){return La=x(h.mark(function t(){var n,r,e,a=arguments;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=a.length>0&&a[0]!==void 0?a[0]:{},o.prev=1,o.next=4,gl(n);case 4:return o.next=6,Hs(n);case 6:return n=o.sent,o.next=9,F().get("fcl.authz",xt().authorization);case 9:return e=o.sent,r=F().overload(n.dependencies||{},x(h.mark(function u(){return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Ot([gs(n.cadence),ta(Gs(n.args||[])),n.limit&&Cf(n.limit)&&Qe(n.limit),ls(n.proposer||n.authz||e),ps(n.payer||n.authz||e),is(n.authorizations||[n.authz||e])]).then(Rn));case 1:case"end":return i.stop()}},u)}))),o.abrupt("return",r);case 14:throw o.prev=14,o.t0=o.catch(1),o.t0;case 17:case"end":return o.stop()}},t,null,[[1,14]])})),La.apply(this,arguments)}xt.authenticate=tr,xt.unauthenticate=Ai,xt.authorization=Ri,xt.signUserMessage=Oi,xt.subscribe=Ti,xt.snapshot=nr,xt.resolveArgument=_i;var Pi=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=function(a){var o;return a.deprecated&&console.warn("DEPRECATION NOTICE",a.deprecated.message),a==null||(o=a.body)===null||o===void 0||delete o.interaction,a},e=function(a){var o=a.data;z(o)==="object"&&z(o)!=null&&o.type===t&&n(r(o))};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}},jn=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(window.location!==window.parent.location)window.parent.postMessage(O(O({},n),{},{type:t}),"*");else{if(!window.opener)throw new Error("Unable to communicate with parent FCL instance");window.opener.postMessage(O(O({},n),{},{type:t}),"*")}},Xl=function(t,n){return X.Buffer.from(t.padEnd(2*n,"0"),"hex")},Ni=function(t){return function(n,r){return X.Buffer.from(n.padStart(2*r,"0"),"hex")}(t,8)},Bi=function(t){return X.Buffer.from(t,"hex")},Li=function(t){var n=t.address,r=t.nonce,e=t.appIdentifier,a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];C(n,"Encode Message For Provable Authn Error: address must be defined"),C(r,"Encode Message For Provable Authn Error: nonce must be defined"),C(e,"Encode Message For Provable Authn Error: appIdentifier must be defined"),C(r.length>=64,"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes");var o=Xl(X.Buffer.from("FCL-ACCOUNT-PROOF-V0.0").toString("hex"),32);return a?X.Buffer.concat([o,dn([e,Ni($(n)),Bi(r)])]).toString("hex"):dn([e,Ni($(n)),Bi(r)]).toString("hex")},$l=Object.freeze({__proto__:null,sendMsgToFCL:jn,ready:function(t){Pi("FCL:VIEW:READY:RESPONSE",t),jn("FCL:VIEW:READY")},close:function(){jn("FCL:VIEW:CLOSE")},approve:function(t){jn("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"APPROVED",reason:null,data:t})},decline:function(t){jn("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"DECLINED",reason:t,data:null})},redirect:function(t){jn("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"REDIRECT",reason:null,data:t})},onMessageFromFCL:Pi,encodeMessageFromSignable:function(t,n){var r,e,a=(r=t.voucher,(e=new Set(r.authorizers)).add(r.proposalKey.address),e.delete(r.payer),Array.from(e).map(at)),o=function(l){var d=new Set([l.payer]);return Array.from(d).map(at)}(t.voucher),u=a.includes(at(n)),i=o.includes(at(n));if(!u&&!i)throw new Ef(n);var c={cadence:t.voucher.cadence,refBlock:t.voucher.refBlock,computeLimit:t.voucher.computeLimit,arguments:t.voucher.arguments,proposalKey:O(O({},t.voucher.proposalKey),{},{address:$(t.voucher.proposalKey.address)}),payer:$(t.voucher.payer),authorizers:t.voucher.authorizers.map($),payloadSigs:t.voucher.payloadSigs.map(function(l){return O(O({},l),{},{address:$(l.address)})})};return u?Nu(c):Bu(c)},CompositeSignature:function(t,n,r){this.f_type=ga.f_type,this.f_vsn=ga.f_vsn,this.addr=at(t),this.keyId=Number(n),this.signature=r},encodeAccountProof:Li,injectExtService:function(t){t.type==="authn"&&t.endpoint!=null?(Array.isArray(window.fcl_extensions)||(window.fcl_extensions=[]),window.fcl_extensions.push(t)):console.warn("Authn service is required")}}),Zl="ACCOUNT_PROOF",Ql="USER_SIGNATURE",Ui=function(t){if(t.appIdentifier){var n=t.appIdentifier,r=t.address,e=t.nonce,a=t.signatures;return C(Tn(n),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),C(Tn(r)&&$(r).length===16,"verifyAccountProof({ address }) -- address must be a valid address"),C(/^[0-9a-f]+$/i.test(e),"nonce must be a hex string"),C(Array.isArray(a)&&a.every(function(c,l,d){return c.f_type==="CompositeSignature"}),"Must include an Array of CompositeSignatures to verify"),C(a.map(function(c){return c.addr}).every(function(c,l,d){return c===d[0]}),"User signatures to be verified must be from a single account address"),!0}var o=t.message,u=t.address,i=t.compSigs;return C(/^[0-9a-f]+$/i.test(o),"Signed message must be a hex string"),C(Tn(u)&&$(u).length===16,"verifyUserSignatures({ address }) -- address must be a valid address"),C(Array.isArray(i)&&i.every(function(c,l,d){return c.f_type==="CompositeSignature"}),"Must include an Array of CompositeSignatures to verify"),C(i.map(function(c){return c.addr}).every(function(c,l,d){return c===d[0]}),"User signatures to be verified must be from a single account address"),!0},ji=function(){var t=x(h.mark(function n(r,e){var a,o,u;return h.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=r==="ACCOUNT_PROOF"?"verifyAccountProofSignatures":"verifyUserSignatures",i.next=3,F.get("flow.network");case 3:if(o=i.sent){i.next=9;break}return i.next=7,F.get("env");case 7:(o=i.sent)&&wt.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:'Please use "flow.network" instead.',transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"});case 9:return C(e.fclCryptoContract||o==="testnet"||o==="mainnet","${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract"),u=e.fclCryptoContract?e.fclCryptoContract:o==="testnet"?"0x74daa6f9c7ef24b1":"0xb4b82a1c9d21d284",i.abrupt("return",`
      import FCLCrypto from `.concat(u,`

      pub fun main(
          address: Address, 
          message: String, 
          keyIndices: [Int], 
          signatures: [String]
      ): Bool {
        return FCLCrypto.`).concat(a,`(address: address, message: message, keyIndices: keyIndices, signatures: signatures)
      }
    `));case 12:case"end":return i.stop()}},n)}));return function(n,r){return t.apply(this,arguments)}}();function Ua(){return Ua=x(h.mark(function t(n,r){var e,a,o,u,i,c,l,d,g,v,m=arguments;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:e=r.address,a=r.nonce,o=r.signatures,u=m.length>2&&m[2]!==void 0?m[2]:{},Ui({appIdentifier:n,address:e,nonce:a,signatures:o}),i=Li({address:e,nonce:a,appIdentifier:n},!1),c=[],l=[],d=bt(o);try{for(d.s();!(g=d.n()).done;)v=g.value,c.push(v.signature),l.push(v.keyId.toString())}catch(E){d.e(E)}finally{d.f()}return b.t0=Tr,b.next=11,ji(Zl,u);case 11:return b.t1=b.sent,b.t2=function(E,S){return[E(at(e),S.Address),E(i,S.String),E(l,S.Array(S.Int)),E(c,S.Array(S.String))]},b.t3={cadence:b.t1,args:b.t2},b.abrupt("return",(0,b.t0)(b.t3));case 15:case"end":return b.stop()}},t)})),Ua.apply(this,arguments)}function Fi(t,n){return ja.apply(this,arguments)}function ja(){return ja=x(h.mark(function t(n,r){var e,a,o,u,i,c,l,d=arguments;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:e=d.length>2&&d[2]!==void 0?d[2]:{},a=at(r[0].addr),Ui({message:n,address:a,compSigs:r}),o=[],u=[],i=bt(r);try{for(i.s();!(c=i.n()).done;)l=c.value,o.push(l.signature),u.push(l.keyId.toString())}catch(v){i.e(v)}finally{i.f()}return g.t0=Tr,g.next=10,ji(Ql,e);case 10:return g.t1=g.sent,g.t2=function(v,m){return[v(a,m.Address),v(n,m.String),v(u,m.Array(m.Int)),v(o,m.Array(m.String))]},g.t3={cadence:g.t1,args:g.t2},g.abrupt("return",(0,g.t0)(g.t3));case 14:case"end":return g.stop()}},t)})),ja.apply(this,arguments)}var Fn,Nr,tp=Object.freeze({__proto__:null,verifyAccountProof:function(t,n){return Ua.apply(this,arguments)},verifyUserSignatures:Fi}),np=wt.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(t,n){return Fi(t,n)}}),rp=function(){var t=x(h.mark(function n(){var r,e,a,o=arguments;return h.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=o.length>0&&o[0]!==void 0?o[0]:[],e=o.length>1&&o[1]!==void 0?o[1]:{},u.next=4,F.first(["sdk.resolve"],e.resolve||Je);case 4:if(a=u.sent,!Array.isArray(r)){u.next=9;break}return u.next=8,st(gr(),r);case 8:r=u.sent;case 9:return u.t0=JSON,u.t1=Kn,u.next=13,a(r);case 13:return u.t2=u.sent,u.t3=(0,u.t1)(u.t2),u.abrupt("return",u.t0.stringify.call(u.t0,u.t3,null,2));case 16:case"end":return u.stop()}},n)}));return function(){return t.apply(this,arguments)}}(),Fa="POLL",ep=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot([fs(r)]).then(Rn));case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),Da=function(t){return t.status>=4},Di=function(t){return t.status>=3},Gi=function(t){return t.status>=2},ap=(q(Fn={},Ur,function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.sendSelf(Fa);case 1:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}()),q(Fn,pn,function(t,n){t.subscribe(n.from),t.send(n.from,jr,t.all())}),q(Fn,an,function(t,n){t.unsubscribe(n.from)}),q(Fn,ao,function(){var t=x(h.mark(function n(r,e){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.reply(r.all());case 1:case"end":return a.stop()}},n)}));return function(n,r){return t.apply(this,arguments)}}()),q(Fn,Fa,function(){var t=x(h.mark(function n(r){var e;return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ep(r.self());case 3:e=a.sent,a.next=9;break;case 6:return a.prev=6,a.t0=a.catch(0),a.abrupt("return",r.fatalError(a.t0));case 9:Da(e)||setTimeout(function(){return r.sendSelf(Fa)},2500),o=r.all(),u=e,JSON.stringify(o)!==JSON.stringify(u)&&r.broadcast(jr,e),r.merge(e);case 12:case"end":return a.stop()}var o,u},n,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}()),Fn),Mi=function(t){if(z(t)==="object"&&(t=t.transactionId),t==null)throw new Error("transactionId required");return t},zi=function(t){return on(ap,Mi(t))};function bn(t){function n(e){return cr(Mi(t),zi,e)}function r(e){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=a.suppress||!1;return new Promise(function(u,i){var c=n(function(l,d){!d&&!l.statusCode||o?e(l)&&(u(l),c()):(i(d||l.errorMessage),c())})})}}return{snapshot:function(){return oo(t,zi)},subscribe:n,onceFinalized:r(Gi),onceExecuted:r(Di),onceSealed:r(Da)}}bn.isUnknown=function(t){return t.status>=0},bn.isPending=function(t){return t.status>=1},bn.isFinalized=Gi,bn.isExecuted=Di,bn.isSealed=Da,bn.isExpired=function(t){return t.status===5};var wn="TICK",Br="hwm",Ga=function(){var t=x(h.mark(function n(r){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=setTimeout,e.t1=function(){return r.sendSelf(wn)},e.next=4,F().get("fcl.eventPollRate",1e4);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),op=(q(Nr={},wn,function(){var t=x(h.mark(function n(r){var e,a,o,u,i,c;return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r.hasSubs()){l.next=2;break}return l.abrupt("return");case 2:if((e=r.get(Br))!=null){l.next=18;break}return l.t0=r,l.t1=Br,l.next=8,Hn();case 8:return l.t2=l.sent,l.t0.put.call(l.t0,l.t1,l.t2),l.t3=r,l.t4=wn,l.next=14,Ga(r);case 14:l.t5=l.sent,l.t3.put.call(l.t3,l.t4,l.t5),l.next=34;break;case 18:return l.next=20,Hn();case 20:if(a=l.sent,r.put(Br,a),!(e.height<a.height)){l.next=28;break}return l.next=25,Ot([cs(r.self(),e.height+1,a.height)]).then(Rn);case 25:o=l.sent,u=bt(o);try{for(u.s();!(i=u.n()).done;)c=i.value,r.broadcast("UPDATED",c.data)}catch(d){u.e(d)}finally{u.f()}case 28:return l.t6=r,l.t7=wn,l.next=32,Ga(r);case 32:l.t8=l.sent,l.t6.put.call(l.t6,l.t7,l.t8);case 34:case"end":return l.stop()}},n)}));return function(n){return t.apply(this,arguments)}}()),q(Nr,pn,function(){var t=x(h.mark(function n(r,e){return h.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r.hasSubs()){a.next=7;break}return a.t0=r,a.t1=wn,a.next=5,Ga(r);case 5:a.t2=a.sent,a.t0.put.call(a.t0,a.t1,a.t2);case 7:r.subscribe(e.from);case 8:case"end":return a.stop()}},n)}));return function(n,r){return t.apply(this,arguments)}}()),q(Nr,an,function(t,n){t.unsubscribe(n.from),t.hasSubs()||(clearTimeout(t.get(wn)),t.delete(wn),t.delete(Br))}),Nr),up=function(t){return on(op,t)};function J(t){return Yi.apply(this,arguments)}function Yi(){return(Yi=x(h.mark(function t(n){var r;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new ve.SHA3(256)).update(X.Buffer.from(n,"utf8")),e.abrupt("return",r.digest("hex"));case 3:case"end":return e.stop()}},t)}))).apply(this,arguments)}function qi(t){return Ma.apply(this,arguments)}function Ma(){return Ma=x(h.mark(function t(n){var r,e,a,o,u,i;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:G((r=n.template)!=null,"generateTemplateId({ template }) -- template must be defined"),G(z(r)==="object","generateTemplateId({ template }) -- template must be an object"),G(typeof r.f_type=="InteractionTemplate","generateTemplateId({ template }) -- template object must be an InteractionTemplate"),r=Jn(r),c.t0=r.f_version,c.next=c.t0==="1.0.0"?8:40;break;case 8:return e=r.data,c.next=11,Promise.all(Object.keys(e.messages).map(function(){var l=x(h.mark(function d(g){var v,m;return h.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,J(g);case 2:return b.t0=b.sent,b.next=5,Promise.all(Object.keys((v=e.messages)===null||v===void 0||(m=v[g])===null||m===void 0?void 0:m.i18n).map(function(){var E=x(h.mark(function S(N){var _,R,L;return h.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,J(N);case 2:return I.t0=I.sent,I.next=5,J((_=e.messages)===null||_===void 0||(R=_[g])===null||R===void 0||(L=R.i18n)===null||L===void 0?void 0:L[N]);case 5:return I.t1=I.sent,I.abrupt("return",[I.t0,I.t1]);case 7:case"end":return I.stop()}},S)}));return function(S){return E.apply(this,arguments)}}()));case 5:return b.t1=b.sent,b.abrupt("return",[b.t0,b.t1]);case 7:case"end":return b.stop()}},d)}));return function(d){return l.apply(this,arguments)}}()));case 11:return a=c.sent,c.next=14,Promise.all(Object.keys(e?.dependencies).map(function(){var l=x(h.mark(function d(g){var v;return h.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,J(g);case 2:return m.t0=m.sent,m.next=5,Promise.all(Object.keys(e==null||(v=e.dependencies)===null||v===void 0?void 0:v[g]).map(function(){var b=x(h.mark(function E(S){var N,_;return h.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,J(S);case 2:return R.t0=R.sent,R.next=5,Promise.all(Object.keys(e==null||(N=e.dependencies)===null||N===void 0||(_=N[g])===null||_===void 0?void 0:_[S]).map(function(){var L=x(h.mark(function I(W){var lt,It,At,Rt,Tt,Nt,T,A,U,Y,D,ut,it,yt,pt;return h.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,J(W);case 2:return j.t0=j.sent,j.next=5,J(e==null||(lt=e.dependencies)===null||lt===void 0||(It=lt[g])===null||It===void 0||(At=It[S])===null||At===void 0?void 0:At[W].address);case 5:return j.t1=j.sent,j.next=8,J(e==null||(Rt=e.dependencies)===null||Rt===void 0||(Tt=Rt[g])===null||Tt===void 0||(Nt=Tt[S])===null||Nt===void 0?void 0:Nt[W].contract);case 8:return j.t2=j.sent,j.next=11,J(e==null||(T=e.dependencies)===null||T===void 0||(A=T[g])===null||A===void 0||(U=A[S])===null||U===void 0?void 0:U[W].fq_address);case 11:return j.t3=j.sent,j.next=14,J(e==null||(Y=e.dependencies)===null||Y===void 0||(D=Y[g])===null||D===void 0||(ut=D[S])===null||ut===void 0?void 0:ut[W].pin);case 14:return j.t4=j.sent,j.next=17,J(String(e==null||(it=e.dependencies)===null||it===void 0||(yt=it[g])===null||yt===void 0||(pt=yt[S])===null||pt===void 0?void 0:pt[W].pin_block_height));case 17:return j.t5=j.sent,j.t6=[j.t1,j.t2,j.t3,j.t4,j.t5],j.abrupt("return",[j.t0,j.t6]);case 20:case"end":return j.stop()}},I)}));return function(I){return L.apply(this,arguments)}}()));case 5:return R.t1=R.sent,R.abrupt("return",[R.t0,R.t1]);case 7:case"end":return R.stop()}},E)}));return function(E){return b.apply(this,arguments)}}()));case 5:return m.t1=m.sent,m.abrupt("return",[m.t0,m.t1]);case 7:case"end":return m.stop()}},d)}));return function(d){return l.apply(this,arguments)}}()));case 14:return o=c.sent,c.next=17,Promise.all(Object.keys(e?.arguments).map(function(){var l=x(h.mark(function d(g){var v,m,b,E;return h.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,J(g);case 2:return S.t0=S.sent,S.next=5,J(String(e==null||(v=e.arguments)===null||v===void 0?void 0:v[g].index));case 5:return S.t1=S.sent,S.next=8,J(e==null||(m=e.arguments)===null||m===void 0?void 0:m[g].type);case 8:return S.t2=S.sent,S.next=11,J((e==null||(b=e.arguments)===null||b===void 0?void 0:b[g].balance)||"");case 11:return S.t3=S.sent,S.next=14,Promise.all(Object.keys(e==null||(E=e.arguments)===null||E===void 0?void 0:E[g].messages).map(function(){var N=x(h.mark(function _(R){var L,I;return h.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,J(R);case 2:return W.t0=W.sent,W.next=5,Promise.all(Object.keys(e==null||(L=e.arguments)===null||L===void 0||(I=L[g].messages)===null||I===void 0?void 0:I[R].i18n).map(function(){var lt=x(h.mark(function It(At){var Rt,Tt,Nt;return h.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,J(At);case 2:return T.t0=T.sent,T.next=5,J(e==null||(Rt=e.arguments)===null||Rt===void 0||(Tt=Rt[g].messages)===null||Tt===void 0||(Nt=Tt[R].i18n)===null||Nt===void 0?void 0:Nt[At]);case 5:return T.t1=T.sent,T.abrupt("return",[T.t0,T.t1]);case 7:case"end":return T.stop()}},It)}));return function(It){return lt.apply(this,arguments)}}()));case 5:return W.t1=W.sent,W.abrupt("return",[W.t0,W.t1]);case 7:case"end":return W.stop()}},_)}));return function(_){return N.apply(this,arguments)}}()));case 14:return S.t4=S.sent,S.t5=[S.t1,S.t2,S.t3,S.t4],S.abrupt("return",[S.t0,S.t5]);case 17:case"end":return S.stop()}},d)}));return function(d){return l.apply(this,arguments)}}()));case 17:return u=c.sent,c.t1=dn,c.next=21,J("InteractionTemplate");case 21:return c.t2=c.sent,c.next=24,J("1.0.0");case 24:return c.t3=c.sent,c.next=27,J(e?.type);case 27:return c.t4=c.sent,c.next=30,J(e?.interface);case 30:return c.t5=c.sent,c.t6=a,c.next=34,J(e?.cadence);case 34:return c.t7=c.sent,c.t8=o,c.t9=u,c.t10=[c.t2,c.t3,c.t4,c.t5,c.t6,c.t7,c.t8,c.t9],i=(0,c.t1)(c.t10).toString("hex"),c.abrupt("return",J(i));case 40:throw new Error("generateTemplateId Error: Unsupported template version");case 41:case"end":return c.stop()}},t)})),Ma.apply(this,arguments)}function za(){return za=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d=arguments;return h.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return r=n.template,e=n.auditors,a=d.length>1&&d[1]!==void 0?d[1]:{},G(r!=null,"getInteractionTemplateAudits({ template }) -- template must be defined"),G((r=Jn(r)).f_type==="InteractionTemplate","getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate"),g.next=7,qi({template:r});case 7:if((o=g.sent)===r.id){g.next=11;break}throw wt({title:"getInteractionTemplateAudits Debug Error",message:`Could not recompute and match template ID
                computed: `.concat(o,`
                template: `).concat(r.id,`
            `),level:St.debug}),new Error("getInteractionTemplateAudits Error: Could not recompute and match template ID");case 11:g.t0=r.f_version,g.next=g.t0==="1.0.0"?14:33;break;case 14:if(g.t1=e,g.t1){g.next=19;break}return g.next=18,F().get("flow.auditors");case 18:g.t1=g.sent;case 19:if(G(u=g.t1,"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set"),G(Array.isArray(u),"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array"),i=a.flowInteractionAuditContract){g.next=29;break}return g.next=26,F().get("flow.network");case 26:G((c=g.sent)==="mainnet"||c==="testnet","getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'"),i=c==="mainnet"?"0xfd100e39d50a13e6":"0xf78bfc12d0a786dc";case 29:return g.next=31,Tr({cadence:`
        import FlowInteractionTemplateAudit from `.concat(i,`
        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {
          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)
        }
        `),args:function(v,m){return[v(o,m.String),v(u,m.Array(m.Address))]}});case 31:return l=g.sent,g.abrupt("return",l);case 33:throw new Error("getInteractionTemplateAudits Error: Unsupported template version");case 34:case"end":return g.stop()}},t)})),za.apply(this,arguments)}function Ki(t){return{contractName:t.contractName,address:t.address,contract:""}}function sp(t){var n,r=[],e=bt(t.match(/import ((\w|,| )+)* from 0x\w+/g)||[]);try{for(e.s();!(n=e.n()).done;){var a,o=n.value,u=/import ((\w+|, |)*) from (0x\w+)/g.exec(o),i=bt(u[1].match(/((?:\w+)+),?/g)||[]);try{for(i.s();!(a=i.n()).done;){var c=a.value;r.push(Ki({address:u[3],contractName:c.replace(/,/g,"")}))}}catch(l){i.e(l)}finally{i.f()}}}catch(l){e.e(l)}finally{e.f()}return r}function Ya(t){return qa.apply(this,arguments)}function qa(){return qa=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m,b,E=arguments;return h.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:r=n.address,e=n.contractName,a=n.blockHeight,o=E.length>1&&E[1]!==void 0?E[1]:{},G(r!=null,"generateDependencyPin({ address }) -- address must be defined"),G(e!=null,"generateDependencyPin({ contractName }) -- contractName must be defined"),G(a!=null,"generateDependencyPin({ blockHeight }) -- blockHeight must be defined"),G(typeof r=="string","generateDependencyPin({ address }) -- address must be a string"),G(typeof e=="string","generateDependencyPin({ contractName }) -- contractName must be a string"),G(typeof a=="number","generateDependencyPin({ blockHeight }) -- blockHeight must be a number"),u=[Ki({contractName:e,address:r})],i=0,c=u;case 10:if(!(i<c.length)){S.next=33;break}return d=c[i],S.t0=Ot,S.t1=En,S.next=16,F().get(d.address,d.address);case 16:return S.t2=S.sent,S.t3=(0,S.t1)(S.t2),S.t4=Ir(a),S.t5=[S.t3,S.t4],S.t6=o,S.next=23,(0,S.t0)(S.t5,S.t6).then(Rn);case 23:if(g=S.sent,d.contract=(l=g.contracts)===null||l===void 0?void 0:l[d.contractName],d.contract){S.next=28;break}throw console.error("Did not find expected contract",d,g),new Error("Did not find expected contract");case 28:v=sp(d.contract),u.push.apply(u,K(v));case 30:i++,S.next=10;break;case 33:return m=u.map(function(N){return J(N.contract)}),b=m.join(""),S.abrupt("return",J(b));case 36:case"end":return S.stop()}},t)})),qa.apply(this,arguments)}function Ka(){return Ka=x(h.mark(function t(n){var r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.address,e=n.contractName,a=i.length>1&&i[1]!==void 0?i[1]:{},c.next=4,Hn({sealed:!0},a);case 4:return o=c.sent,u=o?.height,c.abrupt("return",Ya({address:r,contractName:e,blockHeight:u},a));case 7:case"end":return c.stop()}},t)})),Ka.apply(this,arguments)}function ip(t){if(t==null)return null;if(t.f_version==="1.0.0")return t;throw new Error("normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface")}function Ha(){return Ha=x(h.mark(function t(n){var r,e,a;return h.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:G((r=n.templateInterface)!=null,"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined"),G(z(r)==="object","generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object"),G(typeof r.f_type=="InteractionTemplateInterface","generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate"),r=ip(r),o.t0=r.f_version,o.next=o.t0==="1.0.0"?8:25;break;case 8:return e=r.data,o.t1=dn,o.next=12,J("InteractionTemplateInterface");case 12:return o.t2=o.sent,o.next=15,J("1.0.0");case 15:return o.t3=o.sent,o.next=18,J(e.flip);case 18:return o.t4=o.sent,o.next=21,Promise.all(Object.keys(e.arguments).map(function(){var u=x(h.mark(function i(c){return h.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,J(c);case 2:return l.t0=l.sent,l.next=5,J(String(e.arguments[c].index));case 5:return l.t1=l.sent,l.next=8,J(e.arguments[c].type);case 8:return l.t2=l.sent,l.abrupt("return",[l.t0,l.t1,l.t2]);case 10:case"end":return l.stop()}},i)}));return function(i){return u.apply(this,arguments)}}()));case 21:return o.t5=o.sent,o.t6=[o.t2,o.t3,o.t4,o.t5],a=(0,o.t1)(o.t6).toString("hex"),o.abrupt("return",J(a));case 25:throw new Error("generateTemplateInterfaceId Error: Unsupported templateInterface version");case 26:case"end":return o.stop()}},t)})),Ha.apply(this,arguments)}function Hi(t){return Wa.apply(this,arguments)}function Wa(){return Wa=x(h.mark(function t(n){var r,e,a,o,u,i,c,l,d,g,v,m,b,E,S,N,_=arguments;return h.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:r=n.template,e=n.blockHeight,a=n.network,o=_.length>1&&_[1]!==void 0?_[1]:{},G(r!=null,"generateDependencyPin({ template }) -- template must be defined"),G(z(r)==="object","generateDependencyPin({ template }) -- template must be an object"),G(r.f_type==="InteractionTemplate","generateDependencyPin({ template }) -- template must be an InteractionTemplate"),r=Jn(r),G(a!=null,"generateDependencyPin({ network }) network must be defined"),G(e!=null,"generateDependencyPin({ blockHeight }) blockHeight must be defined"),G(typeof e=="number","generateDependencyPin({ blockHeight }) blockHeight must be a number"),R.t0=r.f_version,R.next=R.t0==="1.0.0"?12:38;break;case 12:u=Object.keys(r.data.dependencies),i=0,c=u;case 14:if(!(i<c.length)){R.next=37;break}l=c[i],d=r.data.dependencies[l],g=Object.keys(d),v=0,m=g;case 19:if(!(v<m.length)){R.next=34;break}if(b=m[v],E=r.data.dependencies[l][b],(S=E[a])!==void 0){R.next=25;break}return R.abrupt("continue",31);case 25:return R.next=27,Ya({address:S.address,contractName:S.contract,blockHeight:e},o);case 27:if((N=R.sent)===S.pin){R.next=31;break}return wt({title:"verifyDependencyPinsSame Debug Error",message:`Could not recompute and match dependency pin.
                                address: `.concat(S.address," | contract: ").concat(S.contract,`
                                computed: `).concat(N,`
                                template: `).concat(S.pin,`
                            `),level:St.debug}),R.abrupt("return",!1);case 31:v++,R.next=19;break;case 34:i++,R.next=14;break;case 37:return R.abrupt("return",!0);case 38:throw new Error("verifyDependencyPinsSame Error: Unsupported template version");case 39:case"end":return R.stop()}},t)})),Wa.apply(this,arguments)}function Va(){return Va=x(h.mark(function t(n){var r,e,a,o,u,i=arguments;return h.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.template,e=n.network,a=i.length>1&&i[1]!==void 0?i[1]:{},c.next=4,Hn({sealed:!0});case 4:return o=c.sent,u=o?.height,c.abrupt("return",Hi({template:r,network:e,blockHeight:u},a));case 7:case"end":return c.stop()}},t)})),Va.apply(this,arguments)}var cp=Object.freeze({__proto__:null,getInteractionTemplateAudits:function(t){return za.apply(this,arguments)},generateDependencyPin:Ya,generateDependencyPinAtLatestSealedBlock:function(t){return Ka.apply(this,arguments)},generateTemplateId:qi,generateTemplateInterfaceId:function(t){return Ha.apply(this,arguments)},verifyDependencyPinsSame:Hi,verifyDependencyPinsSameAtLatestSealedBlock:function(t){return Va.apply(this,arguments)},deriveCadenceByNetwork:Ks,getTemplateMessage:function(t){var n,r,e,a=t.localization,o=a===void 0?"en-US":a,u=t.messageKey,i=t.template;G(u,"getMessage({ messageKey }) -- messageKey must be defined"),G(typeof u=="stirng","getMessage({ messageKey }) -- messageKey must be a string"),G(o,"getMessage({ localization }) -- localization must be defined"),G(typeof o=="stirng","getMessage({ localization }) -- localization must be a string"),G(i!=null,"generateTemplateId({ template }) -- template must be defined"),G(z(i)==="object","generateTemplateId({ template }) -- template must be an object"),G(typeof i.f_type=="InteractionTemplate","generateTemplateId({ template }) -- template object must be an InteractionTemplate");var c=i==null||(n=i.data)===null||n===void 0?void 0:n.messages;return c==null||(r=c[u])===null||r===void 0||(e=r.i18n)===null||e===void 0?void 0:e[o]},getTemplateArgumentMessage:function(t){var n,r,e,a,o,u=t.localization,i=u===void 0?"en-US":u,c=t.argumentLabel,l=t.messageKey,d=t.template;G(l,"getMessage({ messageKey }) -- messageKey must be defined"),G(typeof l=="stirng","getMessage({ messageKey }) -- messageKey must be a string"),G(c,"getMessage({ argumentLabel }) -- argumentLabel must be defined"),G(typeof l=="stirng","getMessage({ argumentLabel }) -- argumentLabel must be a string"),G(i,"getMessage({ localization }) -- localization must be defined"),G(typeof i=="stirng","getMessage({ localization }) -- localization must be a string"),G(d!=null,"generateTemplateId({ template }) -- template must be defined"),G(z(d)==="object","generateTemplateId({ template }) -- template must be an object"),G(typeof d.f_type=="InteractionTemplate","generateTemplateId({ template }) -- template object must be an InteractionTemplate");var g=d==null||(n=d.data)===null||n===void 0?void 0:n.arguments;return g==null||(r=g[c])===null||r===void 0||(e=r.messages)===null||e===void 0||(a=e[l])===null||a===void 0||(o=a.i18n)===null||o===void 0?void 0:o[i]}}),fp=xt().authorization,lp=Ds;B.AppUtils=tp,B.InteractionTemplateUtils=cp,B.TestUtils=Tf,B.VERSION=Ut,B.WalletUtils=$l,B.account=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.height,e=n.id,a=arguments.length>2?arguments[2]:void 0;return C(!(e&&r),'Method: account -- Cannot pass "id" and "height" simultaneously'),e?Ot([En(t),Ze(e)],a).then(Zt):r?Ot([En(t),Ir(r)],a).then(Zt):Ot([En(t)],a).then(Zt)},B.arg=na,B.args=ta,B.atBlockHeight=Ir,B.atBlockId=Ze,B.authenticate=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return xt().authenticate(t)},B.authorization=function(t,n,r,e){return{addr:t,signingFunction:n,keyId:r,sequenceNum:e}},B.authorizations=is,B.authz=fp,B.block=Hn,B.build=xr,B.cadence=pr,B.cdc=pr,B.config=F,B.createSignableVoucher=Kn,B.currentUser=xt,B.decode=Rn,B.discovery=Dl,B.display=function(t){return at(t)},B.events=function(t){return{subscribe:function(n){return cr(t,up,n)}}},B.getAccount=En,B.getBlock=Yn,B.getBlockHeader=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return st([bu,function(n){return n.block.isSealed=t,ht(n)}])},B.getCollection=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return st([wu,function(n){return n.collection.id=t,n}])},B.getEvents=function(t,n,r){return n===void 0&&r===void 0||wt.deprecate({pkg:"FCL/SDK",subject:"Passing a start and end into getEvents",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder"}),st([vr,function(e){return e.events.eventType=t,e.events.start=n,e.events.end=r,ht(e)}])},B.getEventsAtBlockHeightRange=cs,B.getEventsAtBlockIds=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return st([vr,function(r){return r.events.eventType=t,r.events.blockIds=n,ht(r)}])},B.getTransaction=function(t){return st([gu,function(n){return n.transaction.id=t,ht(n)}])},B.getTransactionStatus=fs,B.invariant=G,B.isBad=De,B.isOk=ku,B.limit=Qe,B.logIn=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return xt().authenticate(t)},B.mutate=function(){return La.apply(this,arguments)},B.param=function(t){return wt.deprecate({pkg:"FCL/SDK",message:"The param builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:St.error})},B.params=function(t){return wt.deprecate({pkg:"FCL/SDK",message:"The params builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:St.error})},B.payer=ps,B.ping=function(){return vu},B.pipe=st,B.pluginRegistry=Nl,B.proposer=ls,B.query=Tr,B.reauthenticate=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return xt().unauthenticate(),xt().authenticate(t)},B.ref=ds,B.sansPrefix=$,B.script=hs,B.send=Ot,B.serialize=rp,B.signUp=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return xt().authenticate(t)},B.t=lp,B.transaction=gs,B.tx=bn,B.unauthenticate=function(){return xt().unauthenticate()},B.validator=$e,B.verifyUserSignatures=np,B.voucherIntercept=function(t){return wr("ix.voucher-intercept",t)},B.voucherToTxId=function(t){return function(n){return sf(He(lf(n)))}(t)},B.why=Eu,B.withPrefix=at,Object.defineProperty(B,"__esModule",{value:!0})})})(or,or.exports);const mp=hp(or.exports),vp=gp({__proto__:null,default:mp},[or.exports]);or.exports.config({"accessNode.api":"https://rest-mainnet.onflow.org","discovery.wallet":"https://fcl-discovery.onflow.org/authn"});var bp=function(){return vp};export{bp as getFlowProvider};
