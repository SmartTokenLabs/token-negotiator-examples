(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function Yb(r,e){const t=Object.create(null),n=r.split(",");for(let o=0;o<n.length;o++)t[n[o]]=!0;return e?o=>!!t[o.toLowerCase()]:o=>!!t[o]}const uT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dT=Yb(uT);function T8(r){return!!r||r===""}function Zb(r){if(ht(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],o=$r(n)?gT(n):Zb(n);if(o)for(const i in o)e[i]=o[i]}return e}else{if($r(r))return r;if(lr(r))return r}}const hT=/;(?![^(]*\))/g,pT=/:(.+)/;function gT(r){const e={};return r.split(hT).forEach(t=>{if(t){const n=t.split(pT);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Xb(r){let e="";if($r(r))e=r;else if(ht(r))for(let t=0;t<r.length;t++){const n=Xb(r[t]);n&&(e+=n+" ")}else if(lr(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const vT=r=>$r(r)?r:r==null?"":ht(r)||lr(r)&&(r.toString===I8||!vt(r.toString))?JSON.stringify(r,k8,2):String(r),k8=(r,e)=>e&&e.__v_isRef?k8(r,e.value):tc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,o])=>(t[`${n} =>`]=o,t),{})}:C8(e)?{[`Set(${e.size})`]:[...e.values()]}:lr(e)&&!ht(e)&&!P8(e)?String(e):e,rr={},ec=[],qi=()=>{},bT=()=>!1,mT=/^on[^a-z]/,Ah=r=>mT.test(r),em=r=>r.startsWith("onUpdate:"),xn=Object.assign,tm=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},yT=Object.prototype.hasOwnProperty,Pt=(r,e)=>yT.call(r,e),ht=Array.isArray,tc=r=>Eh(r)==="[object Map]",C8=r=>Eh(r)==="[object Set]",vt=r=>typeof r=="function",$r=r=>typeof r=="string",rm=r=>typeof r=="symbol",lr=r=>r!==null&&typeof r=="object",M8=r=>lr(r)&&vt(r.then)&&vt(r.catch),I8=Object.prototype.toString,Eh=r=>I8.call(r),xT=r=>Eh(r).slice(8,-1),P8=r=>Eh(r)==="[object Object]",nm=r=>$r(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,ud=Yb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_h=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},wT=/-(\w)/g,pc=_h(r=>r.replace(wT,(e,t)=>t?t.toUpperCase():"")),AT=/\B([A-Z])/g,Vc=_h(r=>r.replace(AT,"-$1").toLowerCase()),B8=_h(r=>r.charAt(0).toUpperCase()+r.slice(1)),A1=_h(r=>r?`on${B8(r)}`:""),hu=(r,e)=>!Object.is(r,e),E1=(r,e)=>{for(let t=0;t<r.length;t++)r[t](e)},Md=(r,e,t)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:t})},ET=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let E2;const _T=()=>E2||(E2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let uo;class ST{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&uo&&(this.parent=uo,this.index=(uo.scopes||(uo.scopes=[])).push(this)-1)}run(e){if(this.active){const t=uo;try{return uo=this,e()}finally{uo=t}}}on(){uo=this}off(){uo=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function TT(r,e=uo){e&&e.active&&e.effects.push(r)}const im=r=>{const e=new Set(r);return e.w=0,e.n=0,e},R8=r=>(r.w&ns)>0,O8=r=>(r.n&ns)>0,kT=({deps:r})=>{if(r.length)for(let e=0;e<r.length;e++)r[e].w|=ns},CT=r=>{const{deps:e}=r;if(e.length){let t=0;for(let n=0;n<e.length;n++){const o=e[n];R8(o)&&!O8(o)?o.delete(r):e[t++]=o,o.w&=~ns,o.n&=~ns}e.length=t}},qv=new WeakMap;let Kl=0,ns=1;const Kv=30;let Fi;const Ds=Symbol(""),$v=Symbol("");class om{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,TT(this,n)}run(){if(!this.active)return this.fn();let e=Fi,t=Ya;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Fi,Fi=this,Ya=!0,ns=1<<++Kl,Kl<=Kv?kT(this):_2(this),this.fn()}finally{Kl<=Kv&&CT(this),ns=1<<--Kl,Fi=this.parent,Ya=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Fi===this?this.deferStop=!0:this.active&&(_2(this),this.onStop&&this.onStop(),this.active=!1)}}function _2(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}let Ya=!0;const N8=[];function jc(){N8.push(Ya),Ya=!1}function Gc(){const r=N8.pop();Ya=r===void 0?!0:r}function ti(r,e,t){if(Ya&&Fi){let n=qv.get(r);n||qv.set(r,n=new Map);let o=n.get(t);o||n.set(t,o=im()),L8(o)}}function L8(r,e){let t=!1;Kl<=Kv?O8(r)||(r.n|=ns,t=!R8(r)):t=!r.has(Fi),t&&(r.add(Fi),Fi.deps.push(r))}function ha(r,e,t,n,o,i){const a=qv.get(r);if(!a)return;let s=[];if(e==="clear")s=[...a.values()];else if(t==="length"&&ht(r))a.forEach((c,f)=>{(f==="length"||f>=n)&&s.push(c)});else switch(t!==void 0&&s.push(a.get(t)),e){case"add":ht(r)?nm(t)&&s.push(a.get("length")):(s.push(a.get(Ds)),tc(r)&&s.push(a.get($v)));break;case"delete":ht(r)||(s.push(a.get(Ds)),tc(r)&&s.push(a.get($v)));break;case"set":tc(r)&&s.push(a.get(Ds));break}if(s.length===1)s[0]&&Wv(s[0]);else{const c=[];for(const f of s)f&&c.push(...f);Wv(im(c))}}function Wv(r,e){const t=ht(r)?r:[...r];for(const n of t)n.computed&&S2(n);for(const n of t)n.computed||S2(n)}function S2(r,e){(r!==Fi||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const MT=Yb("__proto__,__v_isRef,__isVue"),D8=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(rm)),IT=am(),PT=am(!1,!0),BT=am(!0),T2=RT();function RT(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...t){const n=Ft(this);for(let i=0,a=this.length;i<a;i++)ti(n,"get",i+"");const o=n[e](...t);return o===-1||o===!1?n[e](...t.map(Ft)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...t){jc();const n=Ft(this)[e].apply(this,t);return Gc(),n}}),r}function am(r=!1,e=!1){return function(n,o,i){if(o==="__v_isReactive")return!r;if(o==="__v_isReadonly")return r;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&i===(r?e?QT:j8:e?V8:H8).get(n))return n;const a=ht(n);if(!r&&a&&Pt(T2,o))return Reflect.get(T2,o,i);const s=Reflect.get(n,o,i);return(rm(o)?D8.has(o):MT(o))||(r||ti(n,"get",o),e)?s:an(s)?a&&nm(o)?s:s.value:lr(s)?r?G8(s):zc(s):s}}const OT=U8(),NT=U8(!0);function U8(r=!1){return function(t,n,o,i){let a=t[n];if(gc(a)&&an(a)&&!an(o))return!1;if(!r&&(!Id(o)&&!gc(o)&&(a=Ft(a),o=Ft(o)),!ht(t)&&an(a)&&!an(o)))return a.value=o,!0;const s=ht(t)&&nm(n)?Number(n)<t.length:Pt(t,n),c=Reflect.set(t,n,o,i);return t===Ft(i)&&(s?hu(o,a)&&ha(t,"set",n,o):ha(t,"add",n,o)),c}}function LT(r,e){const t=Pt(r,e);r[e];const n=Reflect.deleteProperty(r,e);return n&&t&&ha(r,"delete",e,void 0),n}function DT(r,e){const t=Reflect.has(r,e);return(!rm(e)||!D8.has(e))&&ti(r,"has",e),t}function UT(r){return ti(r,"iterate",ht(r)?"length":Ds),Reflect.ownKeys(r)}const F8={get:IT,set:OT,deleteProperty:LT,has:DT,ownKeys:UT},FT={get:BT,set(r,e){return!0},deleteProperty(r,e){return!0}},HT=xn({},F8,{get:PT,set:NT}),sm=r=>r,Sh=r=>Reflect.getPrototypeOf(r);function M0(r,e,t=!1,n=!1){r=r.__v_raw;const o=Ft(r),i=Ft(e);t||(e!==i&&ti(o,"get",e),ti(o,"get",i));const{has:a}=Sh(o),s=n?sm:t?lm:pu;if(a.call(o,e))return s(r.get(e));if(a.call(o,i))return s(r.get(i));r!==o&&r.get(e)}function I0(r,e=!1){const t=this.__v_raw,n=Ft(t),o=Ft(r);return e||(r!==o&&ti(n,"has",r),ti(n,"has",o)),r===o?t.has(r):t.has(r)||t.has(o)}function P0(r,e=!1){return r=r.__v_raw,!e&&ti(Ft(r),"iterate",Ds),Reflect.get(r,"size",r)}function k2(r){r=Ft(r);const e=Ft(this);return Sh(e).has.call(e,r)||(e.add(r),ha(e,"add",r,r)),this}function C2(r,e){e=Ft(e);const t=Ft(this),{has:n,get:o}=Sh(t);let i=n.call(t,r);i||(r=Ft(r),i=n.call(t,r));const a=o.call(t,r);return t.set(r,e),i?hu(e,a)&&ha(t,"set",r,e):ha(t,"add",r,e),this}function M2(r){const e=Ft(this),{has:t,get:n}=Sh(e);let o=t.call(e,r);o||(r=Ft(r),o=t.call(e,r)),n&&n.call(e,r);const i=e.delete(r);return o&&ha(e,"delete",r,void 0),i}function I2(){const r=Ft(this),e=r.size!==0,t=r.clear();return e&&ha(r,"clear",void 0,void 0),t}function B0(r,e){return function(n,o){const i=this,a=i.__v_raw,s=Ft(a),c=e?sm:r?lm:pu;return!r&&ti(s,"iterate",Ds),a.forEach((f,u)=>n.call(o,c(f),c(u),i))}}function R0(r,e,t){return function(...n){const o=this.__v_raw,i=Ft(o),a=tc(i),s=r==="entries"||r===Symbol.iterator&&a,c=r==="keys"&&a,f=o[r](...n),u=t?sm:e?lm:pu;return!e&&ti(i,"iterate",c?$v:Ds),{next(){const{value:h,done:w}=f.next();return w?{value:h,done:w}:{value:s?[u(h[0]),u(h[1])]:u(h),done:w}},[Symbol.iterator](){return this}}}}function Ua(r){return function(...e){return r==="delete"?!1:this}}function VT(){const r={get(i){return M0(this,i)},get size(){return P0(this)},has:I0,add:k2,set:C2,delete:M2,clear:I2,forEach:B0(!1,!1)},e={get(i){return M0(this,i,!1,!0)},get size(){return P0(this)},has:I0,add:k2,set:C2,delete:M2,clear:I2,forEach:B0(!1,!0)},t={get(i){return M0(this,i,!0)},get size(){return P0(this,!0)},has(i){return I0.call(this,i,!0)},add:Ua("add"),set:Ua("set"),delete:Ua("delete"),clear:Ua("clear"),forEach:B0(!0,!1)},n={get(i){return M0(this,i,!0,!0)},get size(){return P0(this,!0)},has(i){return I0.call(this,i,!0)},add:Ua("add"),set:Ua("set"),delete:Ua("delete"),clear:Ua("clear"),forEach:B0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=R0(i,!1,!1),t[i]=R0(i,!0,!1),e[i]=R0(i,!1,!0),n[i]=R0(i,!0,!0)}),[r,t,e,n]}const[jT,GT,zT,qT]=VT();function fm(r,e){const t=e?r?qT:zT:r?GT:jT;return(n,o,i)=>o==="__v_isReactive"?!r:o==="__v_isReadonly"?r:o==="__v_raw"?n:Reflect.get(Pt(t,o)&&o in n?t:n,o,i)}const KT={get:fm(!1,!1)},$T={get:fm(!1,!0)},WT={get:fm(!0,!1)},H8=new WeakMap,V8=new WeakMap,j8=new WeakMap,QT=new WeakMap;function JT(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YT(r){return r.__v_skip||!Object.isExtensible(r)?0:JT(xT(r))}function zc(r){return gc(r)?r:cm(r,!1,F8,KT,H8)}function ZT(r){return cm(r,!1,HT,$T,V8)}function G8(r){return cm(r,!0,FT,WT,j8)}function cm(r,e,t,n,o){if(!lr(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const i=o.get(r);if(i)return i;const a=YT(r);if(a===0)return r;const s=new Proxy(r,a===2?n:t);return o.set(r,s),s}function rc(r){return gc(r)?rc(r.__v_raw):!!(r&&r.__v_isReactive)}function gc(r){return!!(r&&r.__v_isReadonly)}function Id(r){return!!(r&&r.__v_isShallow)}function z8(r){return rc(r)||gc(r)}function Ft(r){const e=r&&r.__v_raw;return e?Ft(e):r}function q8(r){return Md(r,"__v_skip",!0),r}const pu=r=>lr(r)?zc(r):r,lm=r=>lr(r)?G8(r):r;function K8(r){Ya&&Fi&&(r=Ft(r),L8(r.dep||(r.dep=im())))}function $8(r,e){r=Ft(r),r.dep&&Wv(r.dep)}function an(r){return!!(r&&r.__v_isRef===!0)}function XT(r){return W8(r,!1)}function ek(r){return W8(r,!0)}function W8(r,e){return an(r)?r:new tk(r,e)}class tk{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ft(e),this._value=t?e:pu(e)}get value(){return K8(this),this._value}set value(e){const t=this.__v_isShallow||Id(e)||gc(e);e=t?e:Ft(e),hu(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:pu(e),$8(this))}}function aa(r){return an(r)?r.value:r}const rk={get:(r,e,t)=>aa(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const o=r[e];return an(o)&&!an(t)?(o.value=t,!0):Reflect.set(r,e,t,n)}};function Q8(r){return rc(r)?r:new Proxy(r,rk)}var J8;class nk{constructor(e,t,n,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[J8]=!1,this._dirty=!0,this.effect=new om(e,()=>{this._dirty||(this._dirty=!0,$8(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=Ft(this);return K8(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}J8="__v_isReadonly";function ik(r,e,t=!1){let n,o;const i=vt(r);return i?(n=r,o=qi):(n=r.get,o=r.set),new nk(n,o,i||!o,t)}function Za(r,e,t,n){let o;try{o=n?r(...n):r()}catch(i){Th(i,e,t)}return o}function Ki(r,e,t,n){if(vt(r)){const i=Za(r,e,t,n);return i&&M8(i)&&i.catch(a=>{Th(a,e,t)}),i}const o=[];for(let i=0;i<r.length;i++)o.push(Ki(r[i],e,t,n));return o}function Th(r,e,t,n=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const a=e.proxy,s=t;for(;i;){const f=i.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](r,a,s)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Za(c,null,10,[r,a,s]);return}}ok(r,t,o,n)}function ok(r,e,t,n=!0){console.error(r)}let Pd=!1,Qv=!1;const en=[];let yo=0;const nc=[];let Qo=null,Is=0;const Y8=Promise.resolve();let um=null;function Z8(r){const e=um||Y8;return r?e.then(this?r.bind(this):r):e}function ak(r){let e=yo+1,t=en.length;for(;e<t;){const n=e+t>>>1;gu(en[n])<r?e=n+1:t=n}return e}function dm(r){(!en.length||!en.includes(r,Pd&&r.allowRecurse?yo+1:yo))&&(r.id==null?en.push(r):en.splice(ak(r.id),0,r),X8())}function X8(){!Pd&&!Qv&&(Qv=!0,um=Y8.then(t4))}function sk(r){const e=en.indexOf(r);e>yo&&en.splice(e,1)}function fk(r){ht(r)?nc.push(...r):(!Qo||!Qo.includes(r,r.allowRecurse?Is+1:Is))&&nc.push(r),X8()}function P2(r,e=yo){for(;e<en.length;e++){const t=en[e];t&&t.pre&&(en.splice(e,1),e--,t())}}function e4(r){if(nc.length){const e=[...new Set(nc)];if(nc.length=0,Qo){Qo.push(...e);return}for(Qo=e,Qo.sort((t,n)=>gu(t)-gu(n)),Is=0;Is<Qo.length;Is++)Qo[Is]();Qo=null,Is=0}}const gu=r=>r.id==null?1/0:r.id,ck=(r,e)=>{const t=gu(r)-gu(e);if(t===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return t};function t4(r){Qv=!1,Pd=!0,en.sort(ck);const e=qi;try{for(yo=0;yo<en.length;yo++){const t=en[yo];t&&t.active!==!1&&Za(t,null,14)}}finally{yo=0,en.length=0,e4(),Pd=!1,um=null,(en.length||nc.length)&&t4()}}function lk(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||rr;let o=t;const i=e.startsWith("update:"),a=i&&e.slice(7);if(a&&a in n){const u=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:w}=n[u]||rr;w&&(o=t.map(T=>T.trim())),h&&(o=t.map(ET))}let s,c=n[s=A1(e)]||n[s=A1(pc(e))];!c&&i&&(c=n[s=A1(Vc(e))]),c&&Ki(c,r,6,o);const f=n[s+"Once"];if(f){if(!r.emitted)r.emitted={};else if(r.emitted[s])return;r.emitted[s]=!0,Ki(f,r,6,o)}}function r4(r,e,t=!1){const n=e.emitsCache,o=n.get(r);if(o!==void 0)return o;const i=r.emits;let a={},s=!1;if(!vt(r)){const c=f=>{const u=r4(f,e,!0);u&&(s=!0,xn(a,u))};!t&&e.mixins.length&&e.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}return!i&&!s?(lr(r)&&n.set(r,null),null):(ht(i)?i.forEach(c=>a[c]=null):xn(a,i),lr(r)&&n.set(r,a),a)}function kh(r,e){return!r||!Ah(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pt(r,e[0].toLowerCase()+e.slice(1))||Pt(r,Vc(e))||Pt(r,e))}let Yn=null,Ch=null;function Bd(r){const e=Yn;return Yn=r,Ch=r&&r.type.__scopeId||null,e}function n4(r){Ch=r}function i4(){Ch=null}function Or(r,e=Yn,t){if(!e||r._n)return r;const n=(...o)=>{n._d&&H2(-1);const i=Bd(e),a=r(...o);return Bd(i),n._d&&H2(1),a};return n._n=!0,n._c=!0,n._d=!0,n}function _1(r){const{type:e,vnode:t,proxy:n,withProxy:o,props:i,propsOptions:[a],slots:s,attrs:c,emit:f,render:u,renderCache:h,data:w,setupState:T,ctx:I,inheritAttrs:R}=r;let P,B;const O=Bd(r);try{if(t.shapeFlag&4){const $=o||n;P=go(u.call($,$,h,i,T,w,I)),B=c}else{const $=e;P=go($.length>1?$(i,{attrs:c,slots:s,emit:f}):$(i,null)),B=e.props?c:uk(c)}}catch($){Yl.length=0,Th($,r,1),P=$t(vc)}let H=P;if(B&&R!==!1){const $=Object.keys(B),{shapeFlag:J}=H;$.length&&J&7&&(a&&$.some(em)&&(B=dk(B,a)),H=bc(H,B))}return t.dirs&&(H=bc(H),H.dirs=H.dirs?H.dirs.concat(t.dirs):t.dirs),t.transition&&(H.transition=t.transition),P=H,Bd(O),P}const uk=r=>{let e;for(const t in r)(t==="class"||t==="style"||Ah(t))&&((e||(e={}))[t]=r[t]);return e},dk=(r,e)=>{const t={};for(const n in r)(!em(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t};function hk(r,e,t){const{props:n,children:o,component:i}=r,{props:a,children:s,patchFlag:c}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return n?B2(n,a,f):!!a;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const w=u[h];if(a[w]!==n[w]&&!kh(f,w))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?B2(n,a,f):!0:!!a;return!1}function B2(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(e[i]!==r[i]&&!kh(t,i))return!0}return!1}function pk({vnode:r,parent:e},t){for(;e&&e.subTree===r;)(r=e.vnode).el=t,e=e.parent}const gk=r=>r.__isSuspense;function vk(r,e){e&&e.pendingBranch?ht(r)?e.effects.push(...r):e.effects.push(r):fk(r)}function dd(r,e){if(tn){let t=tn.provides;const n=tn.parent&&tn.parent.provides;n===t&&(t=tn.provides=Object.create(n)),t[r]=e}}function Xa(r,e,t=!1){const n=tn||Yn;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&r in o)return o[r];if(arguments.length>1)return t&&vt(e)?e.call(n.proxy):e}}const R2={};function hd(r,e,t){return o4(r,e,t)}function o4(r,e,{immediate:t,deep:n,flush:o,onTrack:i,onTrigger:a}=rr){const s=tn;let c,f=!1,u=!1;if(an(r)?(c=()=>r.value,f=Id(r)):rc(r)?(c=()=>r,n=!0):ht(r)?(u=!0,f=r.some(B=>rc(B)||Id(B)),c=()=>r.map(B=>{if(an(B))return B.value;if(rc(B))return Qf(B);if(vt(B))return Za(B,s,2)})):vt(r)?e?c=()=>Za(r,s,2):c=()=>{if(!(s&&s.isUnmounted))return h&&h(),Ki(r,s,3,[w])}:c=qi,e&&n){const B=c;c=()=>Qf(B())}let h,w=B=>{h=P.onStop=()=>{Za(B,s,4)}};if(bu)return w=qi,e?t&&Ki(e,s,3,[c(),u?[]:void 0,w]):c(),qi;let T=u?[]:R2;const I=()=>{if(!!P.active)if(e){const B=P.run();(n||f||(u?B.some((O,H)=>hu(O,T[H])):hu(B,T)))&&(h&&h(),Ki(e,s,3,[B,T===R2?void 0:T,w]),T=B)}else P.run()};I.allowRecurse=!!e;let R;o==="sync"?R=I:o==="post"?R=()=>Tn(I,s&&s.suspense):(I.pre=!0,s&&(I.id=s.uid),R=()=>dm(I));const P=new om(c,R);return e?t?I():T=P.run():o==="post"?Tn(P.run.bind(P),s&&s.suspense):P.run(),()=>{P.stop(),s&&s.scope&&tm(s.scope.effects,P)}}function bk(r,e,t){const n=this.proxy,o=$r(r)?r.includes(".")?a4(n,r):()=>n[r]:r.bind(n,n);let i;vt(e)?i=e:(i=e.handler,t=e);const a=tn;mc(this);const s=o4(o,i.bind(n),t);return a?mc(a):Us(),s}function a4(r,e){const t=e.split(".");return()=>{let n=r;for(let o=0;o<t.length&&n;o++)n=n[t[o]];return n}}function Qf(r,e){if(!lr(r)||r.__v_skip||(e=e||new Set,e.has(r)))return r;if(e.add(r),an(r))Qf(r.value,e);else if(ht(r))for(let t=0;t<r.length;t++)Qf(r[t],e);else if(C8(r)||tc(r))r.forEach(t=>{Qf(t,e)});else if(P8(r))for(const t in r)Qf(r[t],e);return r}function s4(r){return vt(r)?{setup:r,name:r.name}:r}const Jl=r=>!!r.type.__asyncLoader,f4=r=>r.type.__isKeepAlive;function mk(r,e){c4(r,"a",e)}function yk(r,e){c4(r,"da",e)}function c4(r,e,t=tn){const n=r.__wdc||(r.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return r()});if(Mh(e,n,t),t){let o=t.parent;for(;o&&o.parent;)f4(o.parent.vnode)&&xk(n,e,t,o),o=o.parent}}function xk(r,e,t,n){const o=Mh(e,r,n,!0);u4(()=>{tm(n[e],o)},t)}function Mh(r,e,t=tn,n=!1){if(t){const o=t[r]||(t[r]=[]),i=e.__weh||(e.__weh=(...a)=>{if(t.isUnmounted)return;jc(),mc(t);const s=Ki(e,t,r,a);return Us(),Gc(),s});return n?o.unshift(i):o.push(i),i}}const ba=r=>(e,t=tn)=>(!bu||r==="sp")&&Mh(r,e,t),wk=ba("bm"),l4=ba("m"),Ak=ba("bu"),Ek=ba("u"),_k=ba("bum"),u4=ba("um"),Sk=ba("sp"),Tk=ba("rtg"),kk=ba("rtc");function Ck(r,e=tn){Mh("ec",r,e)}function Es(r,e,t,n){const o=r.dirs,i=e&&e.dirs;for(let a=0;a<o.length;a++){const s=o[a];i&&(s.oldValue=i[a].value);let c=s.dir[n];c&&(jc(),Ki(c,t,8,[r.el,s,r,e]),Gc())}}const Mk=Symbol();function S1(r,e,t={},n,o){if(Yn.isCE||Yn.parent&&Jl(Yn.parent)&&Yn.parent.isCE)return $t("slot",e==="default"?null:{name:e},n&&n());let i=r[e];i&&i._c&&(i._d=!1),eo();const a=i&&d4(i(t)),s=Wk(Jn,{key:t.key||a&&a.key||`_${e}`},a||(n?n():[]),a&&r._===1?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function d4(r){return r.some(e=>Nd(e)?!(e.type===vc||e.type===Jn&&!d4(e.children)):!0)?r:null}const Jv=r=>r?_4(r)?vm(r)||r.proxy:Jv(r.parent):null,Rd=xn(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Jv(r.parent),$root:r=>Jv(r.root),$emit:r=>r.emit,$options:r=>p4(r),$forceUpdate:r=>r.f||(r.f=()=>dm(r.update)),$nextTick:r=>r.n||(r.n=Z8.bind(r.proxy)),$watch:r=>bk.bind(r)}),Ik={get({_:r},e){const{ctx:t,setupState:n,data:o,props:i,accessCache:a,type:s,appContext:c}=r;let f;if(e[0]!=="$"){const T=a[e];if(T!==void 0)switch(T){case 1:return n[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(n!==rr&&Pt(n,e))return a[e]=1,n[e];if(o!==rr&&Pt(o,e))return a[e]=2,o[e];if((f=r.propsOptions[0])&&Pt(f,e))return a[e]=3,i[e];if(t!==rr&&Pt(t,e))return a[e]=4,t[e];Yv&&(a[e]=0)}}const u=Rd[e];let h,w;if(u)return e==="$attrs"&&ti(r,"get",e),u(r);if((h=s.__cssModules)&&(h=h[e]))return h;if(t!==rr&&Pt(t,e))return a[e]=4,t[e];if(w=c.config.globalProperties,Pt(w,e))return w[e]},set({_:r},e,t){const{data:n,setupState:o,ctx:i}=r;return o!==rr&&Pt(o,e)?(o[e]=t,!0):n!==rr&&Pt(n,e)?(n[e]=t,!0):Pt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(i[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:o,propsOptions:i}},a){let s;return!!t[a]||r!==rr&&Pt(r,a)||e!==rr&&Pt(e,a)||(s=i[0])&&Pt(s,a)||Pt(n,a)||Pt(Rd,a)||Pt(o.config.globalProperties,a)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:Pt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};let Yv=!0;function Pk(r){const e=p4(r),t=r.proxy,n=r.ctx;Yv=!1,e.beforeCreate&&O2(e.beforeCreate,r,"bc");const{data:o,computed:i,methods:a,watch:s,provide:c,inject:f,created:u,beforeMount:h,mounted:w,beforeUpdate:T,updated:I,activated:R,deactivated:P,beforeDestroy:B,beforeUnmount:O,destroyed:H,unmounted:$,render:J,renderTracked:ie,renderTriggered:we,errorCaptured:de,serverPrefetch:ce,expose:be,inheritAttrs:L,components:S,directives:v,filters:l}=e;if(f&&Bk(f,n,null,r.appContext.config.unwrapInjectedRef),a)for(const y in a){const A=a[y];vt(A)&&(n[y]=A.bind(t))}if(o){const y=o.call(t,t);lr(y)&&(r.data=zc(y))}if(Yv=!0,i)for(const y in i){const A=i[y],E=vt(A)?A.bind(t,t):vt(A.get)?A.get.bind(t,t):qi,m=!vt(A)&&vt(A.set)?A.set.bind(t):qi,g=hi({get:E,set:m});Object.defineProperty(n,y,{enumerable:!0,configurable:!0,get:()=>g.value,set:d=>g.value=d})}if(s)for(const y in s)h4(s[y],n,t,y);if(c){const y=vt(c)?c.call(t):c;Reflect.ownKeys(y).forEach(A=>{dd(A,y[A])})}u&&O2(u,r,"c");function b(y,A){ht(A)?A.forEach(E=>y(E.bind(t))):A&&y(A.bind(t))}if(b(wk,h),b(l4,w),b(Ak,T),b(Ek,I),b(mk,R),b(yk,P),b(Ck,de),b(kk,ie),b(Tk,we),b(_k,O),b(u4,$),b(Sk,ce),ht(be))if(be.length){const y=r.exposed||(r.exposed={});be.forEach(A=>{Object.defineProperty(y,A,{get:()=>t[A],set:E=>t[A]=E})})}else r.exposed||(r.exposed={});J&&r.render===qi&&(r.render=J),L!=null&&(r.inheritAttrs=L),S&&(r.components=S),v&&(r.directives=v)}function Bk(r,e,t=qi,n=!1){ht(r)&&(r=Zv(r));for(const o in r){const i=r[o];let a;lr(i)?"default"in i?a=Xa(i.from||o,i.default,!0):a=Xa(i.from||o):a=Xa(i),an(a)&&n?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[o]=a}}function O2(r,e,t){Ki(ht(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function h4(r,e,t,n){const o=n.includes(".")?a4(t,n):()=>t[n];if($r(r)){const i=e[r];vt(i)&&hd(o,i)}else if(vt(r))hd(o,r.bind(t));else if(lr(r))if(ht(r))r.forEach(i=>h4(i,e,t,n));else{const i=vt(r.handler)?r.handler.bind(t):e[r.handler];vt(i)&&hd(o,i,r)}}function p4(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=r.appContext,s=i.get(e);let c;return s?c=s:!o.length&&!t&&!n?c=e:(c={},o.length&&o.forEach(f=>Od(c,f,a,!0)),Od(c,e,a)),lr(e)&&i.set(e,c),c}function Od(r,e,t,n=!1){const{mixins:o,extends:i}=e;i&&Od(r,i,t,!0),o&&o.forEach(a=>Od(r,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const s=Rk[a]||t&&t[a];r[a]=s?s(r[a],e[a]):e[a]}return r}const Rk={data:N2,props:Cs,emits:Cs,methods:Cs,computed:Cs,beforeCreate:gn,created:gn,beforeMount:gn,mounted:gn,beforeUpdate:gn,updated:gn,beforeDestroy:gn,beforeUnmount:gn,destroyed:gn,unmounted:gn,activated:gn,deactivated:gn,errorCaptured:gn,serverPrefetch:gn,components:Cs,directives:Cs,watch:Nk,provide:N2,inject:Ok};function N2(r,e){return e?r?function(){return xn(vt(r)?r.call(this,this):r,vt(e)?e.call(this,this):e)}:e:r}function Ok(r,e){return Cs(Zv(r),Zv(e))}function Zv(r){if(ht(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function gn(r,e){return r?[...new Set([].concat(r,e))]:e}function Cs(r,e){return r?xn(xn(Object.create(null),r),e):e}function Nk(r,e){if(!r)return e;if(!e)return r;const t=xn(Object.create(null),r);for(const n in e)t[n]=gn(r[n],e[n]);return t}function Lk(r,e,t,n=!1){const o={},i={};Md(i,Ih,1),r.propsDefaults=Object.create(null),g4(r,e,o,i);for(const a in r.propsOptions[0])a in o||(o[a]=void 0);t?r.props=n?o:ZT(o):r.type.props?r.props=o:r.props=i,r.attrs=i}function Dk(r,e,t,n){const{props:o,attrs:i,vnode:{patchFlag:a}}=r,s=Ft(o),[c]=r.propsOptions;let f=!1;if((n||a>0)&&!(a&16)){if(a&8){const u=r.vnode.dynamicProps;for(let h=0;h<u.length;h++){let w=u[h];if(kh(r.emitsOptions,w))continue;const T=e[w];if(c)if(Pt(i,w))T!==i[w]&&(i[w]=T,f=!0);else{const I=pc(w);o[I]=Xv(c,s,I,T,r,!1)}else T!==i[w]&&(i[w]=T,f=!0)}}}else{g4(r,e,o,i)&&(f=!0);let u;for(const h in s)(!e||!Pt(e,h)&&((u=Vc(h))===h||!Pt(e,u)))&&(c?t&&(t[h]!==void 0||t[u]!==void 0)&&(o[h]=Xv(c,s,h,void 0,r,!0)):delete o[h]);if(i!==s)for(const h in i)(!e||!Pt(e,h)&&!0)&&(delete i[h],f=!0)}f&&ha(r,"set","$attrs")}function g4(r,e,t,n){const[o,i]=r.propsOptions;let a=!1,s;if(e)for(let c in e){if(ud(c))continue;const f=e[c];let u;o&&Pt(o,u=pc(c))?!i||!i.includes(u)?t[u]=f:(s||(s={}))[u]=f:kh(r.emitsOptions,c)||(!(c in n)||f!==n[c])&&(n[c]=f,a=!0)}if(i){const c=Ft(t),f=s||rr;for(let u=0;u<i.length;u++){const h=i[u];t[h]=Xv(o,c,h,f[h],r,!Pt(f,h))}}return a}function Xv(r,e,t,n,o,i){const a=r[t];if(a!=null){const s=Pt(a,"default");if(s&&n===void 0){const c=a.default;if(a.type!==Function&&vt(c)){const{propsDefaults:f}=o;t in f?n=f[t]:(mc(o),n=f[t]=c.call(null,e),Us())}else n=c}a[0]&&(i&&!s?n=!1:a[1]&&(n===""||n===Vc(t))&&(n=!0))}return n}function v4(r,e,t=!1){const n=e.propsCache,o=n.get(r);if(o)return o;const i=r.props,a={},s=[];let c=!1;if(!vt(r)){const u=h=>{c=!0;const[w,T]=v4(h,e,!0);xn(a,w),T&&s.push(...T)};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!i&&!c)return lr(r)&&n.set(r,ec),ec;if(ht(i))for(let u=0;u<i.length;u++){const h=pc(i[u]);L2(h)&&(a[h]=rr)}else if(i)for(const u in i){const h=pc(u);if(L2(h)){const w=i[u],T=a[h]=ht(w)||vt(w)?{type:w}:w;if(T){const I=F2(Boolean,T.type),R=F2(String,T.type);T[0]=I>-1,T[1]=R<0||I<R,(I>-1||Pt(T,"default"))&&s.push(h)}}}const f=[a,s];return lr(r)&&n.set(r,f),f}function L2(r){return r[0]!=="$"}function D2(r){const e=r&&r.toString().match(/^\s*function (\w+)/);return e?e[1]:r===null?"null":""}function U2(r,e){return D2(r)===D2(e)}function F2(r,e){return ht(e)?e.findIndex(t=>U2(t,r)):vt(e)&&U2(e,r)?0:-1}const b4=r=>r[0]==="_"||r==="$stable",hm=r=>ht(r)?r.map(go):[go(r)],Uk=(r,e,t)=>{if(e._n)return e;const n=Or((...o)=>hm(e(...o)),t);return n._c=!1,n},m4=(r,e,t)=>{const n=r._ctx;for(const o in r){if(b4(o))continue;const i=r[o];if(vt(i))e[o]=Uk(o,i,n);else if(i!=null){const a=hm(i);e[o]=()=>a}}},y4=(r,e)=>{const t=hm(e);r.slots.default=()=>t},Fk=(r,e)=>{if(r.vnode.shapeFlag&32){const t=e._;t?(r.slots=Ft(e),Md(e,"_",t)):m4(e,r.slots={})}else r.slots={},e&&y4(r,e);Md(r.slots,Ih,1)},Hk=(r,e,t)=>{const{vnode:n,slots:o}=r;let i=!0,a=rr;if(n.shapeFlag&32){const s=e._;s?t&&s===1?i=!1:(xn(o,e),!t&&s===1&&delete o._):(i=!e.$stable,m4(e,o)),a=e}else e&&(y4(r,e),a={default:1});if(i)for(const s in o)!b4(s)&&!(s in a)&&delete o[s]};function x4(){return{app:null,config:{isNativeTag:bT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vk=0;function jk(r,e){return function(n,o=null){vt(n)||(n=Object.assign({},n)),o!=null&&!lr(o)&&(o=null);const i=x4(),a=new Set;let s=!1;const c=i.app={_uid:Vk++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:aC,get config(){return i.config},set config(f){},use(f,...u){return a.has(f)||(f&&vt(f.install)?(a.add(f),f.install(c,...u)):vt(f)&&(a.add(f),f(c,...u))),c},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),c},component(f,u){return u?(i.components[f]=u,c):i.components[f]},directive(f,u){return u?(i.directives[f]=u,c):i.directives[f]},mount(f,u,h){if(!s){const w=$t(n,o);return w.appContext=i,u&&e?e(w,f):r(w,f,h),s=!0,c._container=f,f.__vue_app__=c,vm(w.component)||w.component.proxy}},unmount(){s&&(r(null,c._container),delete c._container.__vue_app__)},provide(f,u){return i.provides[f]=u,c}};return c}}function eb(r,e,t,n,o=!1){if(ht(r)){r.forEach((w,T)=>eb(w,e&&(ht(e)?e[T]:e),t,n,o));return}if(Jl(n)&&!o)return;const i=n.shapeFlag&4?vm(n.component)||n.component.proxy:n.el,a=o?null:i,{i:s,r:c}=r,f=e&&e.r,u=s.refs===rr?s.refs={}:s.refs,h=s.setupState;if(f!=null&&f!==c&&($r(f)?(u[f]=null,Pt(h,f)&&(h[f]=null)):an(f)&&(f.value=null)),vt(c))Za(c,s,12,[a,u]);else{const w=$r(c),T=an(c);if(w||T){const I=()=>{if(r.f){const R=w?u[c]:c.value;o?ht(R)&&tm(R,i):ht(R)?R.includes(i)||R.push(i):w?(u[c]=[i],Pt(h,c)&&(h[c]=u[c])):(c.value=[i],r.k&&(u[r.k]=c.value))}else w?(u[c]=a,Pt(h,c)&&(h[c]=a)):T&&(c.value=a,r.k&&(u[r.k]=a))};a?(I.id=-1,Tn(I,t)):I()}}}const Tn=vk;function Gk(r){return zk(r)}function zk(r,e){const t=_T();t.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:a,createText:s,createComment:c,setText:f,setElementText:u,parentNode:h,nextSibling:w,setScopeId:T=qi,cloneNode:I,insertStaticContent:R}=r,P=(G,z,Y,N=null,C=null,M=null,D=!1,j=null,Q=!!z.dynamicChildren)=>{if(G===z)return;G&&!wl(G,z)&&(N=W(G),k(G,C,M,!0),G=null),z.patchFlag===-2&&(Q=!1,z.dynamicChildren=null);const{type:ee,ref:le,shapeFlag:se}=z;switch(ee){case pm:B(G,z,Y,N);break;case vc:O(G,z,Y,N);break;case T1:G==null&&H(z,Y,N,D);break;case Jn:v(G,z,Y,N,C,M,D,j,Q);break;default:se&1?ie(G,z,Y,N,C,M,D,j,Q):se&6?l(G,z,Y,N,C,M,D,j,Q):(se&64||se&128)&&ee.process(G,z,Y,N,C,M,D,j,Q,pe)}le!=null&&C&&eb(le,G&&G.ref,M,z||G,!z)},B=(G,z,Y,N)=>{if(G==null)n(z.el=s(z.children),Y,N);else{const C=z.el=G.el;z.children!==G.children&&f(C,z.children)}},O=(G,z,Y,N)=>{G==null?n(z.el=c(z.children||""),Y,N):z.el=G.el},H=(G,z,Y,N)=>{[G.el,G.anchor]=R(G.children,z,Y,N,G.el,G.anchor)},$=({el:G,anchor:z},Y,N)=>{let C;for(;G&&G!==z;)C=w(G),n(G,Y,N),G=C;n(z,Y,N)},J=({el:G,anchor:z})=>{let Y;for(;G&&G!==z;)Y=w(G),o(G),G=Y;o(z)},ie=(G,z,Y,N,C,M,D,j,Q)=>{D=D||z.type==="svg",G==null?we(z,Y,N,C,M,D,j,Q):be(G,z,C,M,D,j,Q)},we=(G,z,Y,N,C,M,D,j)=>{let Q,ee;const{type:le,props:se,shapeFlag:ve,transition:ge,patchFlag:he,dirs:Fe}=G;if(G.el&&I!==void 0&&he===-1)Q=G.el=I(G.el);else{if(Q=G.el=a(G.type,M,se&&se.is,se),ve&8?u(Q,G.children):ve&16&&ce(G.children,Q,null,N,C,M&&le!=="foreignObject",D,j),Fe&&Es(G,null,N,"created"),se){for(const Ee in se)Ee!=="value"&&!ud(Ee)&&i(Q,Ee,null,se[Ee],M,G.children,N,C,K);"value"in se&&i(Q,"value",null,se.value),(ee=se.onVnodeBeforeMount)&&ao(ee,N,G)}de(Q,G,G.scopeId,D,N)}Fe&&Es(G,null,N,"beforeMount");const Pe=(!C||C&&!C.pendingBranch)&&ge&&!ge.persisted;Pe&&ge.beforeEnter(Q),n(Q,z,Y),((ee=se&&se.onVnodeMounted)||Pe||Fe)&&Tn(()=>{ee&&ao(ee,N,G),Pe&&ge.enter(Q),Fe&&Es(G,null,N,"mounted")},C)},de=(G,z,Y,N,C)=>{if(Y&&T(G,Y),N)for(let M=0;M<N.length;M++)T(G,N[M]);if(C){let M=C.subTree;if(z===M){const D=C.vnode;de(G,D,D.scopeId,D.slotScopeIds,C.parent)}}},ce=(G,z,Y,N,C,M,D,j,Q=0)=>{for(let ee=Q;ee<G.length;ee++){const le=G[ee]=j?za(G[ee]):go(G[ee]);P(null,le,z,Y,N,C,M,D,j)}},be=(G,z,Y,N,C,M,D)=>{const j=z.el=G.el;let{patchFlag:Q,dynamicChildren:ee,dirs:le}=z;Q|=G.patchFlag&16;const se=G.props||rr,ve=z.props||rr;let ge;Y&&_s(Y,!1),(ge=ve.onVnodeBeforeUpdate)&&ao(ge,Y,z,G),le&&Es(z,G,Y,"beforeUpdate"),Y&&_s(Y,!0);const he=C&&z.type!=="foreignObject";if(ee?L(G.dynamicChildren,ee,j,Y,N,he,M):D||E(G,z,j,null,Y,N,he,M,!1),Q>0){if(Q&16)S(j,z,se,ve,Y,N,C);else if(Q&2&&se.class!==ve.class&&i(j,"class",null,ve.class,C),Q&4&&i(j,"style",se.style,ve.style,C),Q&8){const Fe=z.dynamicProps;for(let Pe=0;Pe<Fe.length;Pe++){const Ee=Fe[Pe],nt=se[Ee],Ke=ve[Ee];(Ke!==nt||Ee==="value")&&i(j,Ee,nt,Ke,C,G.children,Y,N,K)}}Q&1&&G.children!==z.children&&u(j,z.children)}else!D&&ee==null&&S(j,z,se,ve,Y,N,C);((ge=ve.onVnodeUpdated)||le)&&Tn(()=>{ge&&ao(ge,Y,z,G),le&&Es(z,G,Y,"updated")},N)},L=(G,z,Y,N,C,M,D)=>{for(let j=0;j<z.length;j++){const Q=G[j],ee=z[j],le=Q.el&&(Q.type===Jn||!wl(Q,ee)||Q.shapeFlag&70)?h(Q.el):Y;P(Q,ee,le,null,N,C,M,D,!0)}},S=(G,z,Y,N,C,M,D)=>{if(Y!==N){for(const j in N){if(ud(j))continue;const Q=N[j],ee=Y[j];Q!==ee&&j!=="value"&&i(G,j,ee,Q,D,z.children,C,M,K)}if(Y!==rr)for(const j in Y)!ud(j)&&!(j in N)&&i(G,j,Y[j],null,D,z.children,C,M,K);"value"in N&&i(G,"value",Y.value,N.value)}},v=(G,z,Y,N,C,M,D,j,Q)=>{const ee=z.el=G?G.el:s(""),le=z.anchor=G?G.anchor:s("");let{patchFlag:se,dynamicChildren:ve,slotScopeIds:ge}=z;ge&&(j=j?j.concat(ge):ge),G==null?(n(ee,Y,N),n(le,Y,N),ce(z.children,Y,le,C,M,D,j,Q)):se>0&&se&64&&ve&&G.dynamicChildren?(L(G.dynamicChildren,ve,Y,C,M,D,j),(z.key!=null||C&&z===C.subTree)&&w4(G,z,!0)):E(G,z,Y,le,C,M,D,j,Q)},l=(G,z,Y,N,C,M,D,j,Q)=>{z.slotScopeIds=j,G==null?z.shapeFlag&512?C.ctx.activate(z,Y,N,D,Q):p(z,Y,N,C,M,D,Q):b(G,z,Q)},p=(G,z,Y,N,C,M,D)=>{const j=G.component=eC(G,N,C);if(f4(G)&&(j.ctx.renderer=pe),tC(j),j.asyncDep){if(C&&C.registerDep(j,y),!G.el){const Q=j.subTree=$t(vc);O(null,Q,z,Y)}return}y(j,G,z,Y,C,M,D)},b=(G,z,Y)=>{const N=z.component=G.component;if(hk(G,z,Y))if(N.asyncDep&&!N.asyncResolved){A(N,z,Y);return}else N.next=z,sk(N.update),N.update();else z.el=G.el,N.vnode=z},y=(G,z,Y,N,C,M,D)=>{const j=()=>{if(G.isMounted){let{next:le,bu:se,u:ve,parent:ge,vnode:he}=G,Fe=le,Pe;_s(G,!1),le?(le.el=he.el,A(G,le,D)):le=he,se&&E1(se),(Pe=le.props&&le.props.onVnodeBeforeUpdate)&&ao(Pe,ge,le,he),_s(G,!0);const Ee=_1(G),nt=G.subTree;G.subTree=Ee,P(nt,Ee,h(nt.el),W(nt),G,C,M),le.el=Ee.el,Fe===null&&pk(G,Ee.el),ve&&Tn(ve,C),(Pe=le.props&&le.props.onVnodeUpdated)&&Tn(()=>ao(Pe,ge,le,he),C)}else{let le;const{el:se,props:ve}=z,{bm:ge,m:he,parent:Fe}=G,Pe=Jl(z);if(_s(G,!1),ge&&E1(ge),!Pe&&(le=ve&&ve.onVnodeBeforeMount)&&ao(le,Fe,z),_s(G,!0),se&&ae){const Ee=()=>{G.subTree=_1(G),ae(se,G.subTree,G,C,null)};Pe?z.type.__asyncLoader().then(()=>!G.isUnmounted&&Ee()):Ee()}else{const Ee=G.subTree=_1(G);P(null,Ee,Y,N,G,C,M),z.el=Ee.el}if(he&&Tn(he,C),!Pe&&(le=ve&&ve.onVnodeMounted)){const Ee=z;Tn(()=>ao(le,Fe,Ee),C)}(z.shapeFlag&256||Fe&&Jl(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&G.a&&Tn(G.a,C),G.isMounted=!0,z=Y=N=null}},Q=G.effect=new om(j,()=>dm(ee),G.scope),ee=G.update=()=>Q.run();ee.id=G.uid,_s(G,!0),ee()},A=(G,z,Y)=>{z.component=G;const N=G.vnode.props;G.vnode=z,G.next=null,Dk(G,z.props,N,Y),Hk(G,z.children,Y),jc(),P2(),Gc()},E=(G,z,Y,N,C,M,D,j,Q=!1)=>{const ee=G&&G.children,le=G?G.shapeFlag:0,se=z.children,{patchFlag:ve,shapeFlag:ge}=z;if(ve>0){if(ve&128){g(ee,se,Y,N,C,M,D,j,Q);return}else if(ve&256){m(ee,se,Y,N,C,M,D,j,Q);return}}ge&8?(le&16&&K(ee,C,M),se!==ee&&u(Y,se)):le&16?ge&16?g(ee,se,Y,N,C,M,D,j,Q):K(ee,C,M,!0):(le&8&&u(Y,""),ge&16&&ce(se,Y,N,C,M,D,j,Q))},m=(G,z,Y,N,C,M,D,j,Q)=>{G=G||ec,z=z||ec;const ee=G.length,le=z.length,se=Math.min(ee,le);let ve;for(ve=0;ve<se;ve++){const ge=z[ve]=Q?za(z[ve]):go(z[ve]);P(G[ve],ge,Y,null,C,M,D,j,Q)}ee>le?K(G,C,M,!0,!1,se):ce(z,Y,N,C,M,D,j,Q,se)},g=(G,z,Y,N,C,M,D,j,Q)=>{let ee=0;const le=z.length;let se=G.length-1,ve=le-1;for(;ee<=se&&ee<=ve;){const ge=G[ee],he=z[ee]=Q?za(z[ee]):go(z[ee]);if(wl(ge,he))P(ge,he,Y,null,C,M,D,j,Q);else break;ee++}for(;ee<=se&&ee<=ve;){const ge=G[se],he=z[ve]=Q?za(z[ve]):go(z[ve]);if(wl(ge,he))P(ge,he,Y,null,C,M,D,j,Q);else break;se--,ve--}if(ee>se){if(ee<=ve){const ge=ve+1,he=ge<le?z[ge].el:N;for(;ee<=ve;)P(null,z[ee]=Q?za(z[ee]):go(z[ee]),Y,he,C,M,D,j,Q),ee++}}else if(ee>ve)for(;ee<=se;)k(G[ee],C,M,!0),ee++;else{const ge=ee,he=ee,Fe=new Map;for(ee=he;ee<=ve;ee++){const me=z[ee]=Q?za(z[ee]):go(z[ee]);me.key!=null&&Fe.set(me.key,ee)}let Pe,Ee=0;const nt=ve-he+1;let Ke=!1,Z=0;const oe=new Array(nt);for(ee=0;ee<nt;ee++)oe[ee]=0;for(ee=ge;ee<=se;ee++){const me=G[ee];if(Ee>=nt){k(me,C,M,!0);continue}let He;if(me.key!=null)He=Fe.get(me.key);else for(Pe=he;Pe<=ve;Pe++)if(oe[Pe-he]===0&&wl(me,z[Pe])){He=Pe;break}He===void 0?k(me,C,M,!0):(oe[He-he]=ee+1,He>=Z?Z=He:Ke=!0,P(me,z[He],Y,null,C,M,D,j,Q),Ee++)}const Ce=Ke?qk(oe):ec;for(Pe=Ce.length-1,ee=nt-1;ee>=0;ee--){const me=he+ee,He=z[me],Te=me+1<le?z[me+1].el:N;oe[ee]===0?P(null,He,Y,Te,C,M,D,j,Q):Ke&&(Pe<0||ee!==Ce[Pe]?d(He,Y,Te,2):Pe--)}}},d=(G,z,Y,N,C=null)=>{const{el:M,type:D,transition:j,children:Q,shapeFlag:ee}=G;if(ee&6){d(G.component.subTree,z,Y,N);return}if(ee&128){G.suspense.move(z,Y,N);return}if(ee&64){D.move(G,z,Y,pe);return}if(D===Jn){n(M,z,Y);for(let se=0;se<Q.length;se++)d(Q[se],z,Y,N);n(G.anchor,z,Y);return}if(D===T1){$(G,z,Y);return}if(N!==2&&ee&1&&j)if(N===0)j.beforeEnter(M),n(M,z,Y),Tn(()=>j.enter(M),C);else{const{leave:se,delayLeave:ve,afterLeave:ge}=j,he=()=>n(M,z,Y),Fe=()=>{se(M,()=>{he(),ge&&ge()})};ve?ve(M,he,Fe):Fe()}else n(M,z,Y)},k=(G,z,Y,N=!1,C=!1)=>{const{type:M,props:D,ref:j,children:Q,dynamicChildren:ee,shapeFlag:le,patchFlag:se,dirs:ve}=G;if(j!=null&&eb(j,null,Y,G,!0),le&256){z.ctx.deactivate(G);return}const ge=le&1&&ve,he=!Jl(G);let Fe;if(he&&(Fe=D&&D.onVnodeBeforeUnmount)&&ao(Fe,z,G),le&6)U(G.component,Y,N);else{if(le&128){G.suspense.unmount(Y,N);return}ge&&Es(G,null,z,"beforeUnmount"),le&64?G.type.remove(G,z,Y,C,pe,N):ee&&(M!==Jn||se>0&&se&64)?K(ee,z,Y,!1,!0):(M===Jn&&se&384||!C&&le&16)&&K(Q,z,Y),N&&V(G)}(he&&(Fe=D&&D.onVnodeUnmounted)||ge)&&Tn(()=>{Fe&&ao(Fe,z,G),ge&&Es(G,null,z,"unmounted")},Y)},V=G=>{const{type:z,el:Y,anchor:N,transition:C}=G;if(z===Jn){_(Y,N);return}if(z===T1){J(G);return}const M=()=>{o(Y),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(G.shapeFlag&1&&C&&!C.persisted){const{leave:D,delayLeave:j}=C,Q=()=>D(Y,M);j?j(G.el,M,Q):Q()}else M()},_=(G,z)=>{let Y;for(;G!==z;)Y=w(G),o(G),G=Y;o(z)},U=(G,z,Y)=>{const{bum:N,scope:C,update:M,subTree:D,um:j}=G;N&&E1(N),C.stop(),M&&(M.active=!1,k(D,G,z,Y)),j&&Tn(j,z),Tn(()=>{G.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},K=(G,z,Y,N=!1,C=!1,M=0)=>{for(let D=M;D<G.length;D++)k(G[D],z,Y,N,C)},W=G=>G.shapeFlag&6?W(G.component.subTree):G.shapeFlag&128?G.suspense.next():w(G.anchor||G.el),re=(G,z,Y)=>{G==null?z._vnode&&k(z._vnode,null,null,!0):P(z._vnode||null,G,z,null,null,null,Y),P2(),e4(),z._vnode=G},pe={p:P,um:k,m:d,r:V,mt:p,mc:ce,pc:E,pbc:L,n:W,o:r};let fe,ae;return e&&([fe,ae]=e(pe)),{render:re,hydrate:fe,createApp:jk(re,fe)}}function _s({effect:r,update:e},t){r.allowRecurse=e.allowRecurse=t}function w4(r,e,t=!1){const n=r.children,o=e.children;if(ht(n)&&ht(o))for(let i=0;i<n.length;i++){const a=n[i];let s=o[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[i]=za(o[i]),s.el=a.el),t||w4(a,s))}}function qk(r){const e=r.slice(),t=[0];let n,o,i,a,s;const c=r.length;for(n=0;n<c;n++){const f=r[n];if(f!==0){if(o=t[t.length-1],r[o]<f){e[n]=o,t.push(n);continue}for(i=0,a=t.length-1;i<a;)s=i+a>>1,r[t[s]]<f?i=s+1:a=s;f<r[t[i]]&&(i>0&&(e[n]=t[i-1]),t[i]=n)}}for(i=t.length,a=t[i-1];i-- >0;)t[i]=a,a=e[a];return t}const Kk=r=>r.__isTeleport,Jn=Symbol(void 0),pm=Symbol(void 0),vc=Symbol(void 0),T1=Symbol(void 0),Yl=[];let Vi=null;function eo(r=!1){Yl.push(Vi=r?null:[])}function $k(){Yl.pop(),Vi=Yl[Yl.length-1]||null}let vu=1;function H2(r){vu+=r}function A4(r){return r.dynamicChildren=vu>0?Vi||ec:null,$k(),vu>0&&Vi&&Vi.push(r),r}function Fo(r,e,t,n,o,i){return A4(kt(r,e,t,n,o,i,!0))}function Wk(r,e,t,n,o){return A4($t(r,e,t,n,o,!0))}function Nd(r){return r?r.__v_isVNode===!0:!1}function wl(r,e){return r.type===e.type&&r.key===e.key}const Ih="__vInternal",E4=({key:r})=>r??null,pd=({ref:r,ref_key:e,ref_for:t})=>r!=null?$r(r)||an(r)||vt(r)?{i:Yn,r,k:e,f:!!t}:r:null;function kt(r,e=null,t=null,n=0,o=null,i=r===Jn?0:1,a=!1,s=!1){const c={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&E4(e),ref:e&&pd(e),scopeId:Ch,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return s?(gm(c,t),i&128&&r.normalize(c)):t&&(c.shapeFlag|=$r(t)?8:16),vu>0&&!a&&Vi&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Vi.push(c),c}const $t=Qk;function Qk(r,e=null,t=null,n=0,o=null,i=!1){if((!r||r===Mk)&&(r=vc),Nd(r)){const s=bc(r,e,!0);return t&&gm(s,t),vu>0&&!i&&Vi&&(s.shapeFlag&6?Vi[Vi.indexOf(r)]=s:Vi.push(s)),s.patchFlag|=-2,s}if(oC(r)&&(r=r.__vccOpts),e){e=Jk(e);let{class:s,style:c}=e;s&&!$r(s)&&(e.class=Xb(s)),lr(c)&&(z8(c)&&!ht(c)&&(c=xn({},c)),e.style=Zb(c))}const a=$r(r)?1:gk(r)?128:Kk(r)?64:lr(r)?4:vt(r)?2:0;return kt(r,e,t,n,o,a,i,!0)}function Jk(r){return r?z8(r)||Ih in r?xn({},r):r:null}function bc(r,e,t=!1){const{props:n,ref:o,patchFlag:i,children:a}=r,s=e?Yk(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:s,key:s&&E4(s),ref:e&&e.ref?t&&o?ht(o)?o.concat(pd(e)):[o,pd(e)]:pd(e):o,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:a,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==Jn?i===-1?16:i|16:i,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&bc(r.ssContent),ssFallback:r.ssFallback&&bc(r.ssFallback),el:r.el,anchor:r.anchor}}function Rt(r=" ",e=0){return $t(pm,null,r,e)}function go(r){return r==null||typeof r=="boolean"?$t(vc):ht(r)?$t(Jn,null,r.slice()):typeof r=="object"?za(r):$t(pm,null,String(r))}function za(r){return r.el===null||r.memo?r:bc(r)}function gm(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(ht(e))t=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),gm(r,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!(Ih in e)?e._ctx=Yn:o===3&&Yn&&(Yn.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else vt(e)?(e={default:e,_ctx:Yn},t=32):(e=String(e),n&64?(t=16,e=[Rt(e)]):t=8);r.children=e,r.shapeFlag|=t}function Yk(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=Xb([e.class,n.class]));else if(o==="style")e.style=Zb([e.style,n.style]);else if(Ah(o)){const i=e[o],a=n[o];a&&i!==a&&!(ht(i)&&i.includes(a))&&(e[o]=i?[].concat(i,a):a)}else o!==""&&(e[o]=n[o])}return e}function ao(r,e,t,n=null){Ki(r,e,7,[t,n])}const Zk=x4();let Xk=0;function eC(r,e,t){const n=r.type,o=(e?e.appContext:r.appContext)||Zk,i={uid:Xk++,vnode:r,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new ST(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:v4(n,o),emitsOptions:r4(n,o),emit:null,emitted:null,propsDefaults:rr,inheritAttrs:n.inheritAttrs,ctx:rr,data:rr,props:rr,attrs:rr,slots:rr,refs:rr,setupState:rr,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=lk.bind(null,i),r.ce&&r.ce(i),i}let tn=null;const mc=r=>{tn=r,r.scope.on()},Us=()=>{tn&&tn.scope.off(),tn=null};function _4(r){return r.vnode.shapeFlag&4}let bu=!1;function tC(r,e=!1){bu=e;const{props:t,children:n}=r.vnode,o=_4(r);Lk(r,t,o,e),Fk(r,n);const i=o?rC(r,e):void 0;return bu=!1,i}function rC(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=q8(new Proxy(r.ctx,Ik));const{setup:n}=t;if(n){const o=r.setupContext=n.length>1?iC(r):null;mc(r),jc();const i=Za(n,r,0,[r.props,o]);if(Gc(),Us(),M8(i)){if(i.then(Us,Us),e)return i.then(a=>{V2(r,a,e)}).catch(a=>{Th(a,r,0)});r.asyncDep=i}else V2(r,i,e)}else S4(r,e)}function V2(r,e,t){vt(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:lr(e)&&(r.setupState=Q8(e)),S4(r,t)}let j2;function S4(r,e,t){const n=r.type;if(!r.render){if(!e&&j2&&!n.render){const o=n.template;if(o){const{isCustomElement:i,compilerOptions:a}=r.appContext.config,{delimiters:s,compilerOptions:c}=n,f=xn(xn({isCustomElement:i,delimiters:s},a),c);n.render=j2(o,f)}}r.render=n.render||qi}mc(r),jc(),Pk(r),Gc(),Us()}function nC(r){return new Proxy(r.attrs,{get(e,t){return ti(r,"get","$attrs"),e[t]}})}function iC(r){const e=n=>{r.exposed=n||{}};let t;return{get attrs(){return t||(t=nC(r))},slots:r.slots,emit:r.emit,expose:e}}function vm(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Q8(q8(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in Rd)return Rd[t](r)}}))}function oC(r){return vt(r)&&"__vccOpts"in r}const hi=(r,e)=>ik(r,e,bu);function T4(r,e,t){const n=arguments.length;return n===2?lr(e)&&!ht(e)?Nd(e)?$t(r,null,[e]):$t(r,e):$t(r,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&Nd(t)&&(t=[t]),$t(r,e,t))}const aC="3.2.38",sC="http://www.w3.org/2000/svg",Ps=typeof document<"u"?document:null,G2=Ps&&Ps.createElement("template"),fC={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,n)=>{const o=e?Ps.createElementNS(sC,r):Ps.createElement(r,t?{is:t}:void 0);return r==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:r=>Ps.createTextNode(r),createComment:r=>Ps.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Ps.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},cloneNode(r){const e=r.cloneNode(!0);return"_value"in r&&(e._value=r._value),e},insertStaticContent(r,e,t,n,o,i){const a=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{G2.innerHTML=n?`<svg>${r}</svg>`:r;const s=G2.content;if(n){const c=s.firstChild;for(;c.firstChild;)s.appendChild(c.firstChild);s.removeChild(c)}e.insertBefore(s,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function cC(r,e,t){const n=r._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}function lC(r,e,t){const n=r.style,o=$r(t);if(t&&!o){for(const i in t)tb(n,i,t[i]);if(e&&!$r(e))for(const i in e)t[i]==null&&tb(n,i,"")}else{const i=n.display;o?e!==t&&(n.cssText=t):e&&r.removeAttribute("style"),"_vod"in r&&(n.display=i)}}const z2=/\s*!important$/;function tb(r,e,t){if(ht(t))t.forEach(n=>tb(r,e,n));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const n=uC(r,e);z2.test(t)?r.setProperty(Vc(n),t.replace(z2,""),"important"):r[n]=t}}const q2=["Webkit","Moz","ms"],k1={};function uC(r,e){const t=k1[e];if(t)return t;let n=pc(e);if(n!=="filter"&&n in r)return k1[e]=n;n=B8(n);for(let o=0;o<q2.length;o++){const i=q2[o]+n;if(i in r)return k1[e]=i}return e}const K2="http://www.w3.org/1999/xlink";function dC(r,e,t,n,o){if(n&&e.startsWith("xlink:"))t==null?r.removeAttributeNS(K2,e.slice(6,e.length)):r.setAttributeNS(K2,e,t);else{const i=dT(e);t==null||i&&!T8(t)?r.removeAttribute(e):r.setAttribute(e,i?"":t)}}function hC(r,e,t,n,o,i,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,o,i),r[e]=t??"";return}if(e==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=t;const c=t??"";(r.value!==c||r.tagName==="OPTION")&&(r.value=c),t==null&&r.removeAttribute(e);return}let s=!1;if(t===""||t==null){const c=typeof r[e];c==="boolean"?t=T8(t):t==null&&c==="string"?(t="",s=!0):c==="number"&&(t=0,s=!0)}try{r[e]=t}catch{}s&&r.removeAttribute(e)}const[k4,pC]=(()=>{let r=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(r=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[r,e]})();let rb=0;const gC=Promise.resolve(),vC=()=>{rb=0},bC=()=>rb||(gC.then(vC),rb=k4());function mC(r,e,t,n){r.addEventListener(e,t,n)}function yC(r,e,t,n){r.removeEventListener(e,t,n)}function xC(r,e,t,n,o=null){const i=r._vei||(r._vei={}),a=i[e];if(n&&a)a.value=n;else{const[s,c]=wC(e);if(n){const f=i[e]=AC(n,o);mC(r,s,f,c)}else a&&(yC(r,s,a,c),i[e]=void 0)}}const $2=/(?:Once|Passive|Capture)$/;function wC(r){let e;if($2.test(r)){e={};let n;for(;n=r.match($2);)r=r.slice(0,r.length-n[0].length),e[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Vc(r.slice(2)),e]}function AC(r,e){const t=n=>{const o=n.timeStamp||k4();(pC||o>=t.attached-1)&&Ki(EC(n,t.value),e,5,[n])};return t.value=r,t.attached=bC(),t}function EC(r,e){if(ht(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const W2=/^on[a-z]/,_C=(r,e,t,n,o=!1,i,a,s,c)=>{e==="class"?cC(r,n,o):e==="style"?lC(r,t,n):Ah(e)?em(e)||xC(r,e,t,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):SC(r,e,n,o))?hC(r,e,n,i,a,s,c):(e==="true-value"?r._trueValue=n:e==="false-value"&&(r._falseValue=n),dC(r,e,n,o))};function SC(r,e,t,n){return n?!!(e==="innerHTML"||e==="textContent"||e in r&&W2.test(e)&&vt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA"||W2.test(e)&&$r(t)?!1:e in r}const TC=xn({patchProp:_C},fC);let Q2;function kC(){return Q2||(Q2=Gk(TC))}const CC=(...r)=>{const e=kC().createApp(...r),{mount:t}=e;return e.mount=n=>{const o=MC(n);if(!o)return;const i=e._component;!vt(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const a=t(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function MC(r){return $r(r)?document.querySelector(r):r}const IC="/token-negotiator-examples/vue-vite-boilerplate/assets/logo.da9b9095.svg";/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const jf=typeof window<"u";function PC(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const Gt=Object.assign;function C1(r,e){const t={};for(const n in e){const o=e[n];t[n]=Qi(o)?o.map(r):r(o)}return t}const Zl=()=>{},Qi=Array.isArray,BC=/\/$/,RC=r=>r.replace(BC,"");function M1(r,e,t="/"){let n,o={},i="",a="";const s=e.indexOf("#");let c=e.indexOf("?");return s<c&&s>=0&&(c=-1),c>-1&&(n=e.slice(0,c),i=e.slice(c+1,s>-1?s:e.length),o=r(i)),s>-1&&(n=n||e.slice(0,s),a=e.slice(s,e.length)),n=DC(n??e,t),{fullPath:n+(i&&"?")+i+a,path:n,query:o,hash:a}}function OC(r,e){const t=e.query?r(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function J2(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function NC(r,e,t){const n=e.matched.length-1,o=t.matched.length-1;return n>-1&&n===o&&yc(e.matched[n],t.matched[o])&&C4(e.params,t.params)&&r(e.query)===r(t.query)&&e.hash===t.hash}function yc(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function C4(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(!LC(r[t],e[t]))return!1;return!0}function LC(r,e){return Qi(r)?Y2(r,e):Qi(e)?Y2(e,r):r===e}function Y2(r,e){return Qi(e)?r.length===e.length&&r.every((t,n)=>t===e[n]):r.length===1&&r[0]===e}function DC(r,e){if(r.startsWith("/"))return r;if(!r)return e;const t=e.split("/"),n=r.split("/");let o=t.length-1,i,a;for(i=0;i<n.length;i++)if(a=n[i],a!==".")if(a==="..")o>1&&o--;else break;return t.slice(0,o).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}var mu;(function(r){r.pop="pop",r.push="push"})(mu||(mu={}));var Xl;(function(r){r.back="back",r.forward="forward",r.unknown=""})(Xl||(Xl={}));function UC(r){if(!r)if(jf){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),RC(r)}const FC=/^[^#]+#/;function HC(r,e){return r.replace(FC,"#")+e}function VC(r,e){const t=document.documentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const Ph=()=>({left:window.pageXOffset,top:window.pageYOffset});function jC(r){let e;if("el"in r){const t=r.el,n=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=VC(o,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Z2(r,e){return(history.state?history.state.position-e:-1)+r}const nb=new Map;function GC(r,e){nb.set(r,e)}function zC(r){const e=nb.get(r);return nb.delete(r),e}let qC=()=>location.protocol+"//"+location.host;function M4(r,e){const{pathname:t,search:n,hash:o}=e,i=r.indexOf("#");if(i>-1){let s=o.includes(r.slice(i))?r.slice(i).length:1,c=o.slice(s);return c[0]!=="/"&&(c="/"+c),J2(c,"")}return J2(t,r)+n+o}function KC(r,e,t,n){let o=[],i=[],a=null;const s=({state:w})=>{const T=M4(r,location),I=t.value,R=e.value;let P=0;if(w){if(t.value=T,e.value=w,a&&a===I){a=null;return}P=R?w.position-R.position:0}else n(T);o.forEach(B=>{B(t.value,I,{delta:P,type:mu.pop,direction:P?P>0?Xl.forward:Xl.back:Xl.unknown})})};function c(){a=t.value}function f(w){o.push(w);const T=()=>{const I=o.indexOf(w);I>-1&&o.splice(I,1)};return i.push(T),T}function u(){const{history:w}=window;!w.state||w.replaceState(Gt({},w.state,{scroll:Ph()}),"")}function h(){for(const w of i)w();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:f,destroy:h}}function X2(r,e,t,n=!1,o=!1){return{back:r,current:e,forward:t,replaced:n,position:window.history.length,scroll:o?Ph():null}}function $C(r){const{history:e,location:t}=window,n={value:M4(r,t)},o={value:e.state};o.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,f,u){const h=r.indexOf("#"),w=h>-1?(t.host&&document.querySelector("base")?r:r.slice(h))+c:qC()+r+c;try{e[u?"replaceState":"pushState"](f,"",w),o.value=f}catch(T){console.error(T),t[u?"replace":"assign"](w)}}function a(c,f){const u=Gt({},e.state,X2(o.value.back,c,o.value.forward,!0),f,{position:o.value.position});i(c,u,!0),n.value=c}function s(c,f){const u=Gt({},o.value,e.state,{forward:c,scroll:Ph()});i(u.current,u,!0);const h=Gt({},X2(n.value,c,null),{position:u.position+1},f);i(c,h,!1),n.value=c}return{location:n,state:o,push:s,replace:a}}function WC(r){r=UC(r);const e=$C(r),t=KC(r,e.state,e.location,e.replace);function n(i,a=!0){a||t.pauseListeners(),history.go(i)}const o=Gt({location:"",base:r,go:n,createHref:HC.bind(null,r)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function QC(r){return typeof r=="string"||r&&typeof r=="object"}function I4(r){return typeof r=="string"||typeof r=="symbol"}const Fa={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},P4=Symbol("");var ex;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(ex||(ex={}));function xc(r,e){return Gt(new Error,{type:r,[P4]:!0},e)}function qo(r,e){return r instanceof Error&&P4 in r&&(e==null||!!(r.type&e))}const tx="[^/]+?",JC={sensitive:!1,strict:!1,start:!0,end:!0},YC=/[.+*?^${}()[\]/\\]/g;function ZC(r,e){const t=Gt({},JC,e),n=[];let o=t.start?"^":"";const i=[];for(const f of r){const u=f.length?[]:[90];t.strict&&!f.length&&(o+="/");for(let h=0;h<f.length;h++){const w=f[h];let T=40+(t.sensitive?.25:0);if(w.type===0)h||(o+="/"),o+=w.value.replace(YC,"\\$&"),T+=40;else if(w.type===1){const{value:I,repeatable:R,optional:P,regexp:B}=w;i.push({name:I,repeatable:R,optional:P});const O=B||tx;if(O!==tx){T+=10;try{new RegExp(`(${O})`)}catch($){throw new Error(`Invalid custom RegExp for param "${I}" (${O}): `+$.message)}}let H=R?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;h||(H=P&&f.length<2?`(?:/${H})`:"/"+H),P&&(H+="?"),o+=H,T+=20,P&&(T+=-8),R&&(T+=-20),O===".*"&&(T+=-50)}u.push(T)}n.push(u)}if(t.strict&&t.end){const f=n.length-1;n[f][n[f].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const a=new RegExp(o,t.sensitive?"":"i");function s(f){const u=f.match(a),h={};if(!u)return null;for(let w=1;w<u.length;w++){const T=u[w]||"",I=i[w-1];h[I.name]=T&&I.repeatable?T.split("/"):T}return h}function c(f){let u="",h=!1;for(const w of r){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const T of w)if(T.type===0)u+=T.value;else if(T.type===1){const{value:I,repeatable:R,optional:P}=T,B=I in f?f[I]:"";if(Qi(B)&&!R)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const O=Qi(B)?B.join("/"):B;if(!O)if(P)w.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${I}"`);u+=O}}return u||"/"}return{re:a,score:n,keys:i,parse:s,stringify:c}}function XC(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=e[t]-r[t];if(n)return n;t++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function eM(r,e){let t=0;const n=r.score,o=e.score;for(;t<n.length&&t<o.length;){const i=XC(n[t],o[t]);if(i)return i;t++}if(Math.abs(o.length-n.length)===1){if(rx(n))return 1;if(rx(o))return-1}return o.length-n.length}function rx(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const tM={type:0,value:""},rM=/[a-zA-Z0-9_]/;function nM(r){if(!r)return[[]];if(r==="/")return[[tM]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(T){throw new Error(`ERR (${t})/"${f}": ${T}`)}let t=0,n=t;const o=[];let i;function a(){i&&o.push(i),i=[]}let s=0,c,f="",u="";function h(){!f||(t===0?i.push({type:0,value:f}):t===1||t===2||t===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function w(){f+=c}for(;s<r.length;){if(c=r[s++],c==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:c==="/"?(f&&h(),a()):c===":"?(h(),t=1):w();break;case 4:w(),t=n;break;case 1:c==="("?t=2:rM.test(c)?w():(h(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&s--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:t=3:u+=c;break;case 3:h(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&s--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${f}"`),h(),a(),o}function iM(r,e,t){const n=ZC(nM(r.path),t),o=Gt(n,{record:r,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function oM(r,e){const t=[],n=new Map;e=ox({strict:!1,end:!0,sensitive:!1},e);function o(u){return n.get(u)}function i(u,h,w){const T=!w,I=aM(u);I.aliasOf=w&&w.record;const R=ox(e,u),P=[I];if("alias"in u){const H=typeof u.alias=="string"?[u.alias]:u.alias;for(const $ of H)P.push(Gt({},I,{components:w?w.record.components:I.components,path:$,aliasOf:w?w.record:I}))}let B,O;for(const H of P){const{path:$}=H;if(h&&$[0]!=="/"){const J=h.record.path,ie=J[J.length-1]==="/"?"":"/";H.path=h.record.path+($&&ie+$)}if(B=iM(H,h,R),w?w.alias.push(B):(O=O||B,O!==B&&O.alias.push(B),T&&u.name&&!ix(B)&&a(u.name)),I.children){const J=I.children;for(let ie=0;ie<J.length;ie++)i(J[ie],B,w&&w.children[ie])}w=w||B,c(B)}return O?()=>{a(O)}:Zl}function a(u){if(I4(u)){const h=n.get(u);h&&(n.delete(u),t.splice(t.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=t.indexOf(u);h>-1&&(t.splice(h,1),u.record.name&&n.delete(u.record.name),u.children.forEach(a),u.alias.forEach(a))}}function s(){return t}function c(u){let h=0;for(;h<t.length&&eM(u,t[h])>=0&&(u.record.path!==t[h].record.path||!B4(u,t[h]));)h++;t.splice(h,0,u),u.record.name&&!ix(u)&&n.set(u.record.name,u)}function f(u,h){let w,T={},I,R;if("name"in u&&u.name){if(w=n.get(u.name),!w)throw xc(1,{location:u});R=w.record.name,T=Gt(nx(h.params,w.keys.filter(O=>!O.optional).map(O=>O.name)),u.params&&nx(u.params,w.keys.map(O=>O.name))),I=w.stringify(T)}else if("path"in u)I=u.path,w=t.find(O=>O.re.test(I)),w&&(T=w.parse(I),R=w.record.name);else{if(w=h.name?n.get(h.name):t.find(O=>O.re.test(h.path)),!w)throw xc(1,{location:u,currentLocation:h});R=w.record.name,T=Gt({},h.params,u.params),I=w.stringify(T)}const P=[];let B=w;for(;B;)P.unshift(B.record),B=B.parent;return{name:R,path:I,params:T,matched:P,meta:fM(P)}}return r.forEach(u=>i(u)),{addRoute:i,resolve:f,removeRoute:a,getRoutes:s,getRecordMatcher:o}}function nx(r,e){const t={};for(const n of e)n in r&&(t[n]=r[n]);return t}function aM(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:sM(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function sM(r){const e={},t=r.props||!1;if("component"in r)e.default=t;else for(const n in r.components)e[n]=typeof t=="boolean"?t:t[n];return e}function ix(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function fM(r){return r.reduce((e,t)=>Gt(e,t.meta),{})}function ox(r,e){const t={};for(const n in r)t[n]=n in e?e[n]:r[n];return t}function B4(r,e){return e.children.some(t=>t===r||B4(r,t))}const R4=/#/g,cM=/&/g,lM=/\//g,uM=/=/g,dM=/\?/g,O4=/\+/g,hM=/%5B/g,pM=/%5D/g,N4=/%5E/g,gM=/%60/g,L4=/%7B/g,vM=/%7C/g,D4=/%7D/g,bM=/%20/g;function bm(r){return encodeURI(""+r).replace(vM,"|").replace(hM,"[").replace(pM,"]")}function mM(r){return bm(r).replace(L4,"{").replace(D4,"}").replace(N4,"^")}function ib(r){return bm(r).replace(O4,"%2B").replace(bM,"+").replace(R4,"%23").replace(cM,"%26").replace(gM,"`").replace(L4,"{").replace(D4,"}").replace(N4,"^")}function yM(r){return ib(r).replace(uM,"%3D")}function xM(r){return bm(r).replace(R4,"%23").replace(dM,"%3F")}function wM(r){return r==null?"":xM(r).replace(lM,"%2F")}function Ld(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function AM(r){const e={};if(r===""||r==="?")return e;const n=(r[0]==="?"?r.slice(1):r).split("&");for(let o=0;o<n.length;++o){const i=n[o].replace(O4," "),a=i.indexOf("="),s=Ld(a<0?i:i.slice(0,a)),c=a<0?null:Ld(i.slice(a+1));if(s in e){let f=e[s];Qi(f)||(f=e[s]=[f]),f.push(c)}else e[s]=c}return e}function ax(r){let e="";for(let t in r){const n=r[t];if(t=yM(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(Qi(n)?n.map(i=>i&&ib(i)):[n&&ib(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function EM(r){const e={};for(const t in r){const n=r[t];n!==void 0&&(e[t]=Qi(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const _M=Symbol(""),sx=Symbol(""),mm=Symbol(""),U4=Symbol(""),ob=Symbol("");function Al(){let r=[];function e(n){return r.push(n),()=>{const o=r.indexOf(n);o>-1&&r.splice(o,1)}}function t(){r=[]}return{add:e,list:()=>r,reset:t}}function qa(r,e,t,n,o){const i=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((a,s)=>{const c=h=>{h===!1?s(xc(4,{from:t,to:e})):h instanceof Error?s(h):QC(h)?s(xc(2,{from:e,to:h})):(i&&n.enterCallbacks[o]===i&&typeof h=="function"&&i.push(h),a())},f=r.call(n&&n.instances[o],e,t,c);let u=Promise.resolve(f);r.length<3&&(u=u.then(c)),u.catch(h=>s(h))})}function I1(r,e,t,n){const o=[];for(const i of r)for(const a in i.components){let s=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(SM(s)){const f=(s.__vccOpts||s)[e];f&&o.push(qa(f,t,n,i,a))}else{let c=s();o.push(()=>c.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const u=PC(f)?f.default:f;i.components[a]=u;const w=(u.__vccOpts||u)[e];return w&&qa(w,t,n,i,a)()}))}}return o}function SM(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function fx(r){const e=Xa(mm),t=Xa(U4),n=hi(()=>e.resolve(aa(r.to))),o=hi(()=>{const{matched:c}=n.value,{length:f}=c,u=c[f-1],h=t.matched;if(!u||!h.length)return-1;const w=h.findIndex(yc.bind(null,u));if(w>-1)return w;const T=cx(c[f-2]);return f>1&&cx(u)===T&&h[h.length-1].path!==T?h.findIndex(yc.bind(null,c[f-2])):w}),i=hi(()=>o.value>-1&&CM(t.params,n.value.params)),a=hi(()=>o.value>-1&&o.value===t.matched.length-1&&C4(t.params,n.value.params));function s(c={}){return kM(c)?e[aa(r.replace)?"replace":"push"](aa(r.to)).catch(Zl):Promise.resolve()}return{route:n,href:hi(()=>n.value.href),isActive:i,isExactActive:a,navigate:s}}const TM=s4({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fx,setup(r,{slots:e}){const t=zc(fx(r)),{options:n}=Xa(mm),o=hi(()=>({[lx(r.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[lx(r.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return r.custom?i:T4("a",{"aria-current":t.isExactActive?r.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},i)}}}),ab=TM;function kM(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function CM(r,e){for(const t in e){const n=e[t],o=r[t];if(typeof n=="string"){if(n!==o)return!1}else if(!Qi(o)||o.length!==n.length||n.some((i,a)=>i!==o[a]))return!1}return!0}function cx(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const lx=(r,e,t)=>r??e??t,MM=s4({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:t}){const n=Xa(ob),o=hi(()=>r.route||n.value),i=Xa(sx,0),a=hi(()=>{let f=aa(i);const{matched:u}=o.value;let h;for(;(h=u[f])&&!h.components;)f++;return f}),s=hi(()=>o.value.matched[a.value]);dd(sx,hi(()=>a.value+1)),dd(_M,s),dd(ob,o);const c=XT();return hd(()=>[c.value,s.value,r.name],([f,u,h],[w,T,I])=>{u&&(u.instances[h]=f,T&&T!==u&&f&&f===w&&(u.leaveGuards.size||(u.leaveGuards=T.leaveGuards),u.updateGuards.size||(u.updateGuards=T.updateGuards))),f&&u&&(!T||!yc(u,T)||!w)&&(u.enterCallbacks[h]||[]).forEach(R=>R(f))},{flush:"post"}),()=>{const f=o.value,u=r.name,h=s.value,w=h&&h.components[u];if(!w)return ux(t.default,{Component:w,route:f});const T=h.props[u],I=T?T===!0?f.params:typeof T=="function"?T(f):T:null,P=T4(w,Gt({},I,e,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return ux(t.default,{Component:P,route:f})||P}}});function ux(r,e){if(!r)return null;const t=r(e);return t.length===1?t[0]:t}const F4=MM;function IM(r){const e=oM(r.routes,r),t=r.parseQuery||AM,n=r.stringifyQuery||ax,o=r.history,i=Al(),a=Al(),s=Al(),c=ek(Fa);let f=Fa;jf&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=C1.bind(null,_=>""+_),h=C1.bind(null,wM),w=C1.bind(null,Ld);function T(_,U){let K,W;return I4(_)?(K=e.getRecordMatcher(_),W=U):W=_,e.addRoute(W,K)}function I(_){const U=e.getRecordMatcher(_);U&&e.removeRoute(U)}function R(){return e.getRoutes().map(_=>_.record)}function P(_){return!!e.getRecordMatcher(_)}function B(_,U){if(U=Gt({},U||c.value),typeof _=="string"){const ae=M1(t,_,U.path),G=e.resolve({path:ae.path},U),z=o.createHref(ae.fullPath);return Gt(ae,G,{params:w(G.params),hash:Ld(ae.hash),redirectedFrom:void 0,href:z})}let K;if("path"in _)K=Gt({},_,{path:M1(t,_.path,U.path).path});else{const ae=Gt({},_.params);for(const G in ae)ae[G]==null&&delete ae[G];K=Gt({},_,{params:h(_.params)}),U.params=h(U.params)}const W=e.resolve(K,U),re=_.hash||"";W.params=u(w(W.params));const pe=OC(n,Gt({},_,{hash:mM(re),path:W.path})),fe=o.createHref(pe);return Gt({fullPath:pe,hash:re,query:n===ax?EM(_.query):_.query||{}},W,{redirectedFrom:void 0,href:fe})}function O(_){return typeof _=="string"?M1(t,_,c.value.path):Gt({},_)}function H(_,U){if(f!==_)return xc(8,{from:U,to:_})}function $(_){return we(_)}function J(_){return $(Gt(O(_),{replace:!0}))}function ie(_){const U=_.matched[_.matched.length-1];if(U&&U.redirect){const{redirect:K}=U;let W=typeof K=="function"?K(_):K;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=O(W):{path:W},W.params={}),Gt({query:_.query,hash:_.hash,params:"path"in W?{}:_.params},W)}}function we(_,U){const K=f=B(_),W=c.value,re=_.state,pe=_.force,fe=_.replace===!0,ae=ie(K);if(ae)return we(Gt(O(ae),{state:typeof ae=="object"?Gt({},re,ae.state):re,force:pe,replace:fe}),U||K);const G=K;G.redirectedFrom=U;let z;return!pe&&NC(n,W,K)&&(z=xc(16,{to:G,from:W}),m(W,W,!0,!1)),(z?Promise.resolve(z):ce(G,W)).catch(Y=>qo(Y)?qo(Y,2)?Y:E(Y):y(Y,G,W)).then(Y=>{if(Y){if(qo(Y,2))return we(Gt({replace:fe},O(Y.to),{state:typeof Y.to=="object"?Gt({},re,Y.to.state):re,force:pe}),U||G)}else Y=L(G,W,!0,fe,re);return be(G,W,Y),Y})}function de(_,U){const K=H(_,U);return K?Promise.reject(K):Promise.resolve()}function ce(_,U){let K;const[W,re,pe]=PM(_,U);K=I1(W.reverse(),"beforeRouteLeave",_,U);for(const ae of W)ae.leaveGuards.forEach(G=>{K.push(qa(G,_,U))});const fe=de.bind(null,_,U);return K.push(fe),Mf(K).then(()=>{K=[];for(const ae of i.list())K.push(qa(ae,_,U));return K.push(fe),Mf(K)}).then(()=>{K=I1(re,"beforeRouteUpdate",_,U);for(const ae of re)ae.updateGuards.forEach(G=>{K.push(qa(G,_,U))});return K.push(fe),Mf(K)}).then(()=>{K=[];for(const ae of _.matched)if(ae.beforeEnter&&!U.matched.includes(ae))if(Qi(ae.beforeEnter))for(const G of ae.beforeEnter)K.push(qa(G,_,U));else K.push(qa(ae.beforeEnter,_,U));return K.push(fe),Mf(K)}).then(()=>(_.matched.forEach(ae=>ae.enterCallbacks={}),K=I1(pe,"beforeRouteEnter",_,U),K.push(fe),Mf(K))).then(()=>{K=[];for(const ae of a.list())K.push(qa(ae,_,U));return K.push(fe),Mf(K)}).catch(ae=>qo(ae,8)?ae:Promise.reject(ae))}function be(_,U,K){for(const W of s.list())W(_,U,K)}function L(_,U,K,W,re){const pe=H(_,U);if(pe)return pe;const fe=U===Fa,ae=jf?history.state:{};K&&(W||fe?o.replace(_.fullPath,Gt({scroll:fe&&ae&&ae.scroll},re)):o.push(_.fullPath,re)),c.value=_,m(_,U,K,fe),E()}let S;function v(){S||(S=o.listen((_,U,K)=>{if(!V.listening)return;const W=B(_),re=ie(W);if(re){we(Gt(re,{replace:!0}),W).catch(Zl);return}f=W;const pe=c.value;jf&&GC(Z2(pe.fullPath,K.delta),Ph()),ce(W,pe).catch(fe=>qo(fe,12)?fe:qo(fe,2)?(we(fe.to,W).then(ae=>{qo(ae,20)&&!K.delta&&K.type===mu.pop&&o.go(-1,!1)}).catch(Zl),Promise.reject()):(K.delta&&o.go(-K.delta,!1),y(fe,W,pe))).then(fe=>{fe=fe||L(W,pe,!1),fe&&(K.delta&&!qo(fe,8)?o.go(-K.delta,!1):K.type===mu.pop&&qo(fe,20)&&o.go(-1,!1)),be(W,pe,fe)}).catch(Zl)}))}let l=Al(),p=Al(),b;function y(_,U,K){E(_);const W=p.list();return W.length?W.forEach(re=>re(_,U,K)):console.error(_),Promise.reject(_)}function A(){return b&&c.value!==Fa?Promise.resolve():new Promise((_,U)=>{l.add([_,U])})}function E(_){return b||(b=!_,v(),l.list().forEach(([U,K])=>_?K(_):U()),l.reset()),_}function m(_,U,K,W){const{scrollBehavior:re}=r;if(!jf||!re)return Promise.resolve();const pe=!K&&zC(Z2(_.fullPath,0))||(W||!K)&&history.state&&history.state.scroll||null;return Z8().then(()=>re(_,U,pe)).then(fe=>fe&&jC(fe)).catch(fe=>y(fe,_,U))}const g=_=>o.go(_);let d;const k=new Set,V={currentRoute:c,listening:!0,addRoute:T,removeRoute:I,hasRoute:P,getRoutes:R,resolve:B,options:r,push:$,replace:J,go:g,back:()=>g(-1),forward:()=>g(1),beforeEach:i.add,beforeResolve:a.add,afterEach:s.add,onError:p.add,isReady:A,install(_){const U=this;_.component("RouterLink",ab),_.component("RouterView",F4),_.config.globalProperties.$router=U,Object.defineProperty(_.config.globalProperties,"$route",{enumerable:!0,get:()=>aa(c)}),jf&&!d&&c.value===Fa&&(d=!0,$(o.location).catch(re=>{}));const K={};for(const re in Fa)K[re]=hi(()=>c.value[re]);_.provide(mm,U),_.provide(U4,zc(K)),_.provide(ob,c);const W=_.unmount;k.add(_),_.unmount=function(){k.delete(_),k.size<1&&(f=Fa,S&&S(),S=null,c.value=Fa,d=!1,b=!1),W()}}};return V}function Mf(r){return r.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function PM(r,e){const t=[],n=[],o=[],i=Math.max(e.matched.length,r.matched.length);for(let a=0;a<i;a++){const s=e.matched[a];s&&(r.matched.find(f=>yc(f,s))?n.push(s):t.push(s));const c=r.matched[a];c&&(e.matched.find(f=>yc(f,c))||o.push(c))}return[t,n,o]}const cs=(r,e)=>{const t=r.__vccOpts||r;for(const[n,o]of e)t[n]=o;return t},BM=r=>(n4("data-v-8271569a"),r=r(),i4(),r),RM={class:"greetings"},OM={class:"green"},NM=BM(()=>kt("h3",null,[Rt(" You\u2019ve successfully created a project with "),kt("a",{target:"_blank",href:"https://vitejs.dev/",rel:"noopener"},"Vite"),Rt(" + "),kt("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"Vue 3"),Rt(". ")],-1)),LM={__name:"HelloWorld",props:{msg:{type:String,required:!0}},setup(r){return(e,t)=>(eo(),Fo("div",RM,[kt("h1",OM,vT(r.msg),1),NM]))}},DM=cs(LM,[["__scopeId","data-v-8271569a"]]),UM="modulepreload",FM=function(r){return"/token-negotiator-examples/vue-vite-boilerplate/"+r},dx={},H4=function(e,t,n){return!t||t.length===0?e():Promise.all(t.map(o=>{if(o=FM(o),o in dx)return;dx[o]=!0;const i=o.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${a}`))return;const s=document.createElement("link");if(s.rel=i?"stylesheet":UM,i||(s.as="script",s.crossOrigin=""),s.href=o,document.head.appendChild(s),i)return new Promise((c,f)=>{s.addEventListener("load",c),s.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};var $s={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},bt=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];Object.prototype.hasOwnProperty.call($s,r)||(r=$s.log),bt[r].apply(bt,e)};bt.debug=console.debug.bind(console);bt.log=console.log.bind(console);bt.info=console.info.bind(console);bt.warn=console.warn.bind(console);bt.error=console.error.bind(console);function wc(r,e){var t=window,n;return t.Zone&&typeof t.Zone.__symbol__=="function"&&(n=r[t.Zone.__symbol__(e)]),n||(n=r[e]),n}var HM=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},sb,V4=!1;function VM(r){sb=r}function jM(r){V4=r}function rt(r){return function(){return is(r,this,arguments)}}function is(r,e,t){try{return r.apply(e,t)}catch(n){if(fb($s.error,n),sb)try{sb(n)}catch(o){fb($s.error,o)}}}function fb(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];V4&&bt.apply(void 0,HM([r,"[MONITOR]"],e,!1))}function Bn(r,e){return wc(window,"setTimeout")(rt(r),e)}function ta(r){wc(window,"clearTimeout")(r)}var mi=1e3,Ai=60*mi,j4=60*Ai,GM=24*j4,zM=365*GM,Dd=1024,G4=1024*Dd;function qc(r,e,t){var n=t&&t.leading!==void 0?t.leading:!0,o=t&&t.trailing!==void 0?t.trailing:!0,i=!1,a,s;return{throttled:function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];if(i){a=c;return}n?r.apply(void 0,c):a=c,i=!0,s=Bn(function(){o&&a&&r.apply(void 0,a),i=!1,a=void 0},e)},cancel:function(){ta(s),i=!1,a=void 0}}}function Lt(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}),r}function yu(r){return Lt({},r)}function ni(r){return r?(parseInt(r,10)^Math.random()*16>>parseInt(r,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,ni)}function Ac(r){return r!==0&&Math.random()*100<=r}function z4(r,e){return+r.toFixed(e)}function Kr(){}function Kc(r,e,t){if(typeof r!="object"||r===null)return JSON.stringify(r);var n=O0(Object.prototype),o=O0(Array.prototype),i=O0(Object.getPrototypeOf(r)),a=O0(r);try{return JSON.stringify(r,e,t)}catch{return"<error: unable to serialize object>"}finally{n(),o(),i(),a()}}function O0(r){var e=r,t=e.toJSON;return t?(delete e.toJSON,function(){e.toJSON=t}):Kr}function Po(r,e){return r.indexOf(e)!==-1}function q4(r){if(Array.from)return Array.from(r);var e=[];if(r instanceof Set)r.forEach(function(n){return e.push(n)});else for(var t=0;t<r.length;t++)e.push(r[t]);return e}function Lu(r,e){for(var t=0;t<r.length;t+=1){var n=r[t];if(e(n,t))return n}}function qM(r,e){for(var t=r.length-1;t>=0;t-=1){var n=r[t];if(e(n,t,r))return n}}function ic(r){return $c(r)&&r>=0&&r<=100}function $c(r){return typeof r=="number"}function Bh(r){return Object.keys(r).map(function(e){return r[e]})}function KM(r,e){return Object.keys(r).some(function(t){return r[t]===e})}function ym(r){return Object.keys(r).map(function(e){return[e,r[e]]})}function sa(r){return Object.keys(r).length===0}function $M(r,e){for(var t={},n=0,o=Object.keys(r);n<o.length;n++){var i=o[n];t[i]=e(r[i])}return t}function Rh(r,e){return r.slice(0,e.length)===e}function WM(r,e){return r.slice(-e.length)===e}function xm(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var r=_dd_temp_;return delete Object.prototype._dd_temp_,typeof r!="object"&&(typeof self=="object"?r=self:typeof window=="object"?r=window:r={}),r}function QM(){return K4(window.location)}function K4(r){if(r.origin)return r.origin;var e=r.host.replace(/(:80|:443)$/,"");return"".concat(r.protocol,"//").concat(e)}function cb(r,e){var t=new RegExp("(?:^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)")),n=t.exec(r);return n?n[1]:void 0}function $4(r,e,t){t===void 0&&(t="");var n=r.charCodeAt(e-1),o=n>=55296&&n<=56319,i=o?e+1:e;return r.length<=i?r:"".concat(r.slice(0,i)).concat(t)}function JM(r,e){return r.matches?r.matches(e):r.msMatchesSelector?r.msMatchesSelector(e):!1}function Ec(r){return r===null?"null":Array.isArray(r)?"array":typeof r}function YM(){if(typeof WeakSet<"u"){var r=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=r.has(t);return n||r.add(t),n}}}var e=[];return{hasAlreadyBeenSeen:function(t){var n=e.indexOf(t)>=0;return n||e.push(t),n}}}function Ud(r,e,t){if(t===void 0&&(t=YM()),e===void 0)return r;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var n=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,n)}if(!t.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var o=Array.isArray(r)?r:[],i=0;i<e.length;++i)o[i]=Ud(o[i],e[i],t);return o}var a=Ec(r)==="object"?r:{};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=Ud(a[s],e[s],t));return a}}function es(r){return Ud(void 0,r)}function Ws(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t,n=0,o=r;n<o.length;n++){var i=o[n];i!=null&&(t=Ud(t,i))}return t}function ZM(r,e){if(window.requestIdleCallback&&window.cancelIdleCallback){var t=window.requestIdleCallback(rt(r),e);return function(){return window.cancelIdleCallback(t)}}var n=window.requestAnimationFrame(rt(r));return function(){return window.cancelAnimationFrame(n)}}function wm(r){var e=Ec(r);return e==="string"||e==="function"||r instanceof RegExp}function W4(r,e,t){return t===void 0&&(t=!1),r.some(function(n){try{if(typeof n=="function")return n(e);if(n instanceof RegExp)return n.test(e);if(typeof n=="string")return t?Rh(e,n):n===e}catch(o){bt.error(o)}return!1})}function Am(r){return window.CSS&&window.CSS.escape?window.CSS.escape(r):r.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(e,t){return t?e==="\0"?"\uFFFD":"".concat(e.slice(0,-1),"\\").concat(e.charCodeAt(e.length-1).toString(16)," "):"\\".concat(e)})}var XM=/[^\u0000-\u007F]/;function Fd(r){return XM.test(r)?window.TextEncoder!==void 0?new TextEncoder().encode(r).length:new Blob([r]).size:r.length}function eI(r){try{return r.clone()}catch{return}}var hx=mi;function Du(r,e,t,n){var o=new Date;o.setTime(o.getTime()+t);var i="expires=".concat(o.toUTCString()),a=n&&n.crossSite?"none":"strict",s=n&&n.domain?";domain=".concat(n.domain):"",c=n&&n.secure?";secure":"";document.cookie="".concat(r,"=").concat(e,";").concat(i,";path=/;samesite=").concat(a).concat(s).concat(c)}function Ao(r){return cb(document.cookie,r)}function Q4(r,e){Du(r,"",0,e)}function tI(r){if(document.cookie===void 0||document.cookie===null)return!1;try{var e="dd_cookie_test_".concat(ni()),t="test";Du(e,t,Ai,r);var n=Ao(e)===t;return Q4(e,r),n}catch(o){return bt.error(o),!1}}var P1;function rI(){if(P1===void 0){for(var r="dd_site_test_".concat(ni()),e="test",t=window.location.hostname.split("."),n=t.pop();t.length&&!Ao(r);)n="".concat(t.pop(),".").concat(n),Du(r,e,mi,{domain:n});Q4(r,{domain:n}),P1=n}return P1}function J4(r,e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return r.apply(void 0,t)}catch(o){bt.error(e,o)}}}var oc;function nI(r){!Array.isArray(r)||(oc||(oc=new Set(r)),r.filter(function(e){return typeof e=="string"}).forEach(function(e){Po(e,"-")&&bt.warn("please use snake case for '".concat(e,"'")),oc.add(e)}))}function ma(r){return!!oc&&oc.has(r)}function iI(){return oc||new Set}function Em(r){return{relative:r,timeStamp:oI(r)}}function oI(r){var e=To()-performance.now();return e>Uu()?Math.round(uf(e,r)):sI(r)}function aI(){return Math.round(To()-uf(Uu(),performance.now()))}function xr(r){return $c(r)?z4(r*1e6,0):r}function To(){return new Date().getTime()}function Ur(){return To()}function Ji(){return performance.now()}function ei(){return{relative:Ji(),timeStamp:Ur()}}function Y4(){return{relative:0,timeStamp:Uu()}}function ri(r,e){return e-r}function uf(r,e){return r+e}function Z4(r){return r-Uu()}function sI(r){return Math.round(uf(Uu(),r))}function fI(r){return r<zM}var B1;function Uu(){return B1===void 0&&(B1=performance.timing.navigationStart),B1}function Hd(r){return Fu(r,QM()).href}function cI(r){try{return!!Fu(r)}catch{return!1}}function px(r){return K4(Fu(r))}function lI(r){var e=Fu(r).pathname;return e[0]==="/"?e:"/".concat(e)}function Fu(r,e){if(uI())return e!==void 0?new URL(r,e):new URL(r);if(e===void 0&&!/:/.test(r))throw new Error("Invalid URL: '".concat(r,"'"));var t=document,n=t.createElement("a");if(e!==void 0){t=document.implementation.createHTMLDocument("");var o=t.createElement("base");o.href=e,t.head.appendChild(o),t.body.appendChild(n)}return n.href=r,n}var If;function uI(){if(If!==void 0)return If;try{var r=new URL("http://test/path");return If=r.href==="http://test/path",If}catch{If=!1}return If}var dI="datad0g.com",eu="datadoghq.com",hI="ap1.datadoghq.com",pI="ddog-gov.com",gI={logs:"logs",rum:"rum",sessionReplay:"session-replay"},vI={logs:"logs",rum:"rum",sessionReplay:"replay"};function tu(r,e,t){var n=bI(r,e);return{build:function(o,i,a){var s=yI(r,e,t,o,i,a);return n(s)},urlPrefix:n(""),endpointType:e}}function bI(r,e){var t="/api/v2/".concat(vI[e]),n=r.proxy,o=r.proxyUrl;if(n){var i=Hd(n);return function(c){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(t,"?").concat(c)))}}var a=mI(r,e);if(n===void 0&&o){var s=Hd(o);return function(c){return"".concat(s,"?ddforward=").concat(encodeURIComponent("https://".concat(a).concat(t,"?").concat(c)))}}return function(c){return"https://".concat(a).concat(t,"?").concat(c)}}function mI(r,e){var t=r.site,n=t===void 0?eu:t,o=r.internalAnalyticsSubdomain;if(o&&n===eu)return"".concat(o,".").concat(eu);var i=n.split("."),a=i.pop(),s=n!==hI?"".concat(gI[e],"."):"";return"".concat(s,"browser-intake-").concat(i.join("-"),".").concat(a)}function yI(r,e,t,n,o,i){var a=r.clientToken,s=r.internalAnalyticsSubdomain,c=["sdk_version:".concat("4.35.0"),"api:".concat(n)].concat(t);o&&ma("collect_flush_reason")&&c.push("flush_reason:".concat(o)),i&&c.push("retry_count:".concat(i.count),"retry_after:".concat(i.lastFailureStatus));var f=["ddsource=browser","ddtags=".concat(encodeURIComponent(c.join(","))),"dd-api-key=".concat(a),"dd-evp-origin-version=".concat(encodeURIComponent("4.35.0")),"dd-evp-origin=browser","dd-request-id=".concat(ni())];return e==="rum"&&f.push("batch_time=".concat(Ur())),s&&f.reverse(),f.join("&")}var xI=200;function wI(r){var e=r.env,t=r.service,n=r.version,o=r.datacenter,i=[];return e&&i.push(N0("env",e)),t&&i.push(N0("service",t)),n&&i.push(N0("version",n)),o&&i.push(N0("datacenter",o)),i}var AI=/[^a-z0-9_:./-]/;function N0(r,e){var t=xI-r.length-1;(e.length>t||AI.test(e))&&bt.warn("".concat(r," value doesn't meet tag requirements and will be sanitized"));var n=e.replace(/,/g,"_");return"".concat(r,":").concat(n)}function EI(r){var e=wI(r),t=_I(r,e),n=Bh(t).map(function(i){return i.urlPrefix}),o=SI(r,n,e);return Lt({isIntakeUrl:function(i){return n.some(function(a){return i.indexOf(a)===0})},replica:o,site:r.site||eu},t)}function _I(r,e){return{logsEndpointBuilder:tu(r,"logs",e),rumEndpointBuilder:tu(r,"rum",e),sessionReplayEndpointBuilder:tu(r,"sessionReplay",e)}}function SI(r,e,t){if(!!r.replica){var n=Lt({},r,{site:eu,clientToken:r.replica.clientToken}),o={logsEndpointBuilder:tu(n,"logs",t),rumEndpointBuilder:tu(n,"rum",t)};return e.push.apply(e,Bh(o).map(function(i){return i.urlPrefix})),Lt({applicationId:r.replica.applicationId},o)}}var ru={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function TI(r){var e,t,n;if(!r||!r.clientToken){bt.error("Client Token is not configured, we will not send any data.");return}var o=(e=r.sessionSampleRate)!==null&&e!==void 0?e:r.sampleRate;if(o!==void 0&&!ic(o)){bt.error("Session Sample Rate should be a number between 0 and 100");return}if(r.telemetrySampleRate!==void 0&&!ic(r.telemetrySampleRate)){bt.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(r.telemetryConfigurationSampleRate!==void 0&&!ic(r.telemetryConfigurationSampleRate)){bt.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}return nI(r.enableExperimentalFeatures),Lt({beforeSend:r.beforeSend&&J4(r.beforeSend,"beforeSend threw an error:"),cookieOptions:X4(r),sessionSampleRate:o??100,telemetrySampleRate:(t=r.telemetrySampleRate)!==null&&t!==void 0?t:20,telemetryConfigurationSampleRate:(n=r.telemetryConfigurationSampleRate)!==null&&n!==void 0?n:5,service:r.service,silentMultipleInit:!!r.silentMultipleInit,batchBytesLimit:16*Dd,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*mi,batchMessagesLimit:50,messageBytesLimit:256*Dd},EI(r))}function X4(r){var e={};return e.secure=kI(r),e.crossSite=!!r.useCrossSiteSessionCookie,r.trackSessionAcrossSubdomains&&(e.domain=rI()),e}function kI(r){return!!r.useSecureSessionCookie||!!r.useCrossSiteSessionCookie}function CI(r){var e,t,n=(e=r.proxy)!==null&&e!==void 0?e:r.proxyUrl;return{session_sample_rate:(t=r.sessionSampleRate)!==null&&t!==void 0?t:r.sampleRate,telemetry_sample_rate:r.telemetrySampleRate,telemetry_configuration_sample_rate:r.telemetryConfigurationSampleRate,use_before_send:!!r.beforeSend,use_cross_site_session_cookie:r.useCrossSiteSessionCookie,use_secure_session_cookie:r.useSecureSessionCookie,use_proxy:n!==void 0?!!n:void 0,silent_multiple_init:r.silentMultipleInit,track_session_across_subdomains:r.trackSessionAcrossSubdomains,track_resources:r.trackResources,track_long_task:r.trackLongTasks}}var Hu="?";function ls(r){var e=[],t=R1(r,"stack"),n=String(r);return t&&Rh(t,n)&&(t=t.slice(n.length)),t&&t.split(`
`).forEach(function(o){var i=PI(o)||RI(o)||NI(o)||UI(o);i&&(!i.func&&i.line&&(i.func=Hu),e.push(i))}),{message:R1(r,"message"),name:R1(r,"name"),stack:e}}var eA="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",_c="(?::(\\d+))",MI=new RegExp("^\\s*at (.*?) ?\\(".concat(eA).concat(_c,"?").concat(_c,"?\\)?\\s*$"),"i"),II=new RegExp("\\((\\S*)".concat(_c).concat(_c,"\\)"));function PI(r){var e=MI.exec(r);if(!!e){var t=e[2]&&e[2].indexOf("native")===0,n=e[2]&&e[2].indexOf("eval")===0,o=II.exec(e[2]);return n&&o&&(e[2]=o[1],e[3]=o[2],e[4]=o[3]),{args:t?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||Hu,line:e[3]?+e[3]:void 0,url:t?void 0:e[2]}}}var BI=new RegExp("^\\s*at ?".concat(eA).concat(_c,"?").concat(_c,"??\\s*$"),"i");function RI(r){var e=BI.exec(r);if(!!e)return{args:[],column:e[3]?+e[3]:void 0,func:Hu,line:e[2]?+e[2]:void 0,url:e[1]}}var OI=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function NI(r){var e=OI.exec(r);if(!!e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||Hu,line:+e[3],url:e[2]}}var LI=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,DI=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function UI(r){var e=LI.exec(r);if(!!e){var t=e[3]&&e[3].indexOf(" > eval")>-1,n=DI.exec(e[3]);return t&&n&&(e[3]=n[1],e[4]=n[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||Hu,line:e[4]?+e[4]:void 0,url:e[3]}}}function R1(r,e){if(!(typeof r!="object"||!r||!(e in r))){var t=r[e];return typeof t=="string"?t:void 0}}function tA(r,e,t){var n=r[e],o=t(n),i=function(){if(typeof o=="function")return o.apply(this,arguments)};return r[e]=i,{stop:function(){r[e]===i?r[e]=n:o=n}}}function Zn(r,e,t){var n=t.before,o=t.after;return tA(r,e,function(i){return function(){var a=arguments,s;return n&&is(n,this,a),typeof i=="function"&&(s=i.apply(this,a)),o&&is(o,this,a),s}})}function El(r,e,t){var n=Object.getOwnPropertyDescriptor(r,e);if(!n||!n.set||!n.configurable)return{stop:Kr};var o=function(a,s){Bn(function(){t(a,s)},0)},i=function(a){n.set.call(this,a),o(this,a)};return Object.defineProperty(r,e,{set:i}),{stop:function(){var a;((a=Object.getOwnPropertyDescriptor(r,e))===null||a===void 0?void 0:a.set)===i?Object.defineProperty(r,e,n):o=Kr}}}var FI=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function HI(r){var e=VI(r).stop,t=jI(r).stop;return{stop:function(){e(),t()}}}function VI(r){return Zn(window,"onerror",{before:function(e,t,n,o,i){var a;if(i)a=ls(i),r(a,i);else{var s={url:t,column:o,line:n},c,f=e;if({}.toString.call(e)==="[object String]"){var u=FI.exec(f);u&&(c=u[1],f=u[2])}a={name:c,message:typeof f=="string"?f:void 0,stack:[s]},r(a,e)}}})}function jI(r){return Zn(window,"onunhandledrejection",{before:function(e){var t=e.reason||"Empty reason",n=ls(t);r(n,t)}})}var Wc={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function rA(r){var e=r.stackTrace,t=r.originalError,n=r.handlingStack,o=r.startClocks,i=r.nonErrorPrefix,a=r.source,s=r.handling;return!e||e.message===void 0&&!(t instanceof Error)?{startClocks:o,source:a,handling:s,originalError:t,message:"".concat(i," ").concat(Kc(t)),stack:"No stack, consider using an instance of Error",handlingStack:n,type:e&&e.name}:{startClocks:o,source:a,handling:s,originalError:t,message:e.message||"Empty message",stack:Qc(e),handlingStack:n,type:e.name,causes:GI(t,a)}}function Qc(r){var e=nA(r);return r.stack.forEach(function(t){var n=t.func==="?"?"<anonymous>":t.func,o=t.args&&t.args.length>0?"(".concat(t.args.join(", "),")"):"",i=t.line?":".concat(t.line):"",a=t.line&&t.column?":".concat(t.column):"";e+=`
  at `.concat(n).concat(o," @ ").concat(t.url).concat(i).concat(a)}),e}function nA(r){return"".concat(r.name||"Error",": ").concat(r.message)}function iA(){var r=2,e=new Error,t;if(!e.stack)try{throw e}catch{}return is(function(){var n=ls(e);n.stack=n.stack.slice(r),t=Qc(n)}),t}function GI(r,e){for(var t=r,n=[];t?.cause instanceof Error&&n.length<10;){var o=ls(t.cause);n.push({message:t.cause.message,source:e,type:o?.name,stack:o&&Qc(o)}),t=t.cause}return n.length?n:void 0}function zI(r){return HI(function(e,t){r.notify(rA({stackTrace:e,originalError:t,startClocks:ei(),nonErrorPrefix:"Uncaught",source:Wc.SOURCE,handling:"unhandled"}))})}function qI(r){var e=Lt({version:"4.35.0",onReady:function(t){t()}},r);return Object.defineProperty(e,"_setDebug",{get:function(){return jM},enumerable:!1}),e}function KI(r,e,t){var n=r[e];r[e]=t,n&&n.q&&n.q.forEach(function(o){return J4(o,"onReady callback threw an error:")()})}var Hr=function(){function r(e){this.onFirstSubscribe=e,this.observers=[]}return r.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter(function(n){return e!==n}),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},r.prototype.notify=function(e){this.observers.forEach(function(t){return t(e)})},r}();function oA(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=new Hr(function(){var n=r.map(function(o){return o.subscribe(function(i){return t.notify(i)})});return function(){return n.forEach(function(o){return o.unsubscribe()})}});return t}function Pn(r,e,t,n){return On(r,[e],t,n)}function On(r,e,t,n){var o=n===void 0?{}:n,i=o.once,a=o.capture,s=o.passive,c=rt(i?function(w){h(),t(w)}:t),f=s?{capture:a,passive:s}:a,u=wc(r,"addEventListener");e.forEach(function(w){return u.call(r,w,c,f)});function h(){var w=wc(r,"removeEventListener");e.forEach(function(T){return w.call(r,T,c,f)})}return{stop:h}}var Sc={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function $I(r){var e=[];Po(r,Sc.cspViolation)&&e.push(QI());var t=r.filter(function(n){return n!==Sc.cspViolation});return t.length&&e.push(WI(t)),oA.apply(void 0,e)}function WI(r){var e=new Hr(function(){if(!!window.ReportingObserver){var t=rt(function(o){return o.forEach(function(i){e.notify(JI(i))})}),n=new window.ReportingObserver(t,{types:r,buffered:!0});return n.observe(),function(){n.disconnect()}}});return e}function QI(){var r=new Hr(function(){var e=rt(function(n){r.notify(YI(n))}),t=Pn(document,"securitypolicyviolation",e).stop;return t});return r}function JI(r){var e=r.type,t=r.body;return{type:e,subtype:t.id,message:"".concat(e,": ").concat(t.message),stack:aA(t.id,t.message,t.sourceFile,t.lineNumber,t.columnNumber)}}function YI(r){var e=Sc.cspViolation,t="'".concat(r.blockedURI,"' blocked by '").concat(r.effectiveDirective,"' directive");return{type:Sc.cspViolation,subtype:r.effectiveDirective,message:"".concat(e,": ").concat(t),stack:aA(r.effectiveDirective,r.originalPolicy?"".concat(t,' of the policy "').concat($4(r.originalPolicy,100,"..."),'"'):"no policy",r.sourceFile,r.lineNumber,r.columnNumber)}}function aA(r,e,t,n,o){return t&&Qc({name:r,message:e,stack:[{func:"?",url:t,line:n,column:o}]})}function Vd(r,e){var t=window.__ddBrowserSdkExtensionCallback;t&&t({type:r,payload:e})}var _m={log:"log",configuration:"configuration"},ZI=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],XI=[pI],vo={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1},lb;function eP(r,e){var t,n=new Hr;vo.telemetryEnabled=!Po(XI,e.site)&&Ac(e.telemetrySampleRate),vo.telemetryConfigurationEnabled=vo.telemetryEnabled&&Ac(e.telemetryConfigurationSampleRate),lb=function(i){if(vo.telemetryEnabled){var a=o(r,i);n.notify(a),Vd("telemetry",a)}},VM(jd),Lt(vo,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function o(i,a){return Ws({type:"telemetry",date:Ur(),service:i,version:"4.35.0",source:"browser",_dd:{format_version:2},telemetry:a,experimental_features:q4(iI())},t!==void 0?t():{})}return{setContextProvider:function(i){t=i},observable:n,enabled:vo.telemetryEnabled}}function tP(r){return r.site===dI}function Vu(r,e){fb($s.debug,r,e),Sm(Lt({type:_m.log,message:r,status:"debug"},e))}function jd(r){Sm(Lt({type:_m.log,status:"error"},nP(r)))}function rP(r){vo.telemetryConfigurationEnabled&&Sm({type:_m.configuration,configuration:r})}function Sm(r){lb&&vo.sentEventCount<vo.maxEventsPerPage&&(vo.sentEventCount+=1,lb(r))}function nP(r){if(r instanceof Error){var e=ls(r);return{error:{kind:e.name,stack:Qc(iP(e))},message:e.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(Kc(r))}}function iP(r){return r.stack=r.stack.filter(function(e){return!e.url||ZI.some(function(t){return Rh(e.url,t)})}),r}var L0=1/0,oP=Ai,ju=function(){function r(e){var t=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return t.clearOldContexts()},oP)}return r.prototype.add=function(e,t){var n=this,o={context:e,startTime:t,endTime:L0,remove:function(){var i=n.entries.indexOf(o);i>=0&&n.entries.splice(i,1)},close:function(i){o.endTime=i}};return this.entries.unshift(o),o},r.prototype.find=function(e){e===void 0&&(e=L0);for(var t=0,n=this.entries;t<n.length;t++){var o=n[t];if(o.startTime<=e){if(e<=o.endTime)return o.context;break}}},r.prototype.closeActive=function(e){var t=this.entries[0];t&&t.endTime===L0&&t.close(e)},r.prototype.findAll=function(e){return e===void 0&&(e=L0),this.entries.filter(function(t){return t.startTime<=e&&e<=t.endTime}).map(function(t){return t.context})},r.prototype.reset=function(){this.entries=[]},r.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},r.prototype.clearOldContexts=function(){for(var e=Ji()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},r}();function aP(){return Boolean(document.documentMode)}function sP(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var Gu=4*j4,sA=15*Ai,fA=/^([a-z]+)=([a-z0-9-]+)$/,Tm="&",Oh="_dd_s",fP=10,cP=100,cA=[],gd;function nu(r,e){var t;if(e===void 0&&(e=0),gd||(gd=r),r!==gd){cA.push(r);return}if(e>=cP){gx();return}var n,o=$l();if(O1()){if(o.lock){D0(r,e);return}if(n=ni(),o.lock=n,ub(o,r.options),o=$l(),o.lock!==n){D0(r,e);return}}var i=r.process(o);if(O1()&&(o=$l(),o.lock!==n)){D0(r,e);return}if(i&&lA(i,r.options),O1()&&!(i&&uA(i))){if(o=$l(),o.lock!==n){D0(r,e);return}delete o.lock,ub(o,r.options),i=o}(t=r.after)===null||t===void 0||t.call(r,i||o),gx()}function O1(){return sP()}function D0(r,e){Bn(function(){nu(r,e+1)},fP)}function gx(){gd=void 0;var r=cA.shift();r&&nu(r)}function lA(r,e){if(uA(r)){dP(e);return}r.expire=String(To()+sA),ub(r,e)}function ub(r,e){Du(Oh,lP(r),sA,e)}function lP(r){return ym(r).map(function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)}).join(Tm)}function $l(){var r=Ao(Oh),e={};return uP(r)&&r.split(Tm).forEach(function(t){var n=fA.exec(t);if(n!==null){var o=n[1],i=n[2];e[o]=i}}),e}function uP(r){return r!==void 0&&(r.indexOf(Tm)!==-1||fA.test(r))}function uA(r){return sa(r)}function dP(r){Du(Oh,"",0,r)}var hP="_dd",pP="_dd_r",gP="_dd_l",vP="rum",bP="logs";function mP(r){var e=Ao(Oh),t=Ao(hP),n=Ao(pP),o=Ao(gP);if(!e){var i={};t&&(i.id=t),o&&/^[01]$/.test(o)&&(i[bP]=o),n&&/^[012]$/.test(n)&&(i[vP]=n),lA(i,r)}}function yP(r,e,t){var n=new Hr,o=new Hr,i=setInterval(rt(f),hx),a=P();function s(){var O;nu({options:r,process:function(H){var $=u(H);return O=h($),$},after:function(H){O&&!w()&&R(H),a=H}})}function c(){nu({options:r,process:function(O){return w()?u(O):void 0}})}function f(){nu({options:r,process:function(O){return B(O)?void 0:{}},after:u})}function u(O){return B(O)||(O={}),w()&&(T(O)?I():a=O),O}function h(O){var H=t(O[e]),$=H.trackingType,J=H.isTracked;return O[e]=$,J&&!O.id&&(O.id=ni(),O.created=String(To())),J}function w(){return a[e]!==void 0}function T(O){return a.id!==O.id||a[e]!==O[e]}function I(){a={},o.notify()}function R(O){a=O,n.notify()}function P(){var O=$l();return B(O)?O:{}}function B(O){return(O.created===void 0||To()-Number(O.created)<Gu)&&(O.expire===void 0||To()<Number(O.expire))}return{expandOrRenewSession:qc(s,hx).throttled,expandSession:c,getSession:function(){return a},renewObservable:n,expireObservable:o,stop:function(){clearInterval(i)}}}var xP=Ai,wP=Gu;function AP(r,e,t){mP(r);var n=yP(r,e,t),o=new ju(wP);n.renewObservable.subscribe(function(){o.add(i(),Ji())}),n.expireObservable.subscribe(function(){o.closeActive(Ji())}),n.expandOrRenewSession(),o.add(i(),Y4().relative),EP(function(){return n.expandOrRenewSession()}),_P(function(){return n.expandSession()});function i(){return{id:n.getSession().id,trackingType:n.getSession()[e]}}return{findActiveSession:function(a){return o.find(a)},renewObservable:n.renewObservable,expireObservable:n.expireObservable}}function EP(r){On(window,["click","touchstart","keydown","scroll"],r,{capture:!0,passive:!0}).stop}function _P(r){var e=rt(function(){document.visibilityState==="visible"&&r()});Pn(document,"visibilitychange",e).stop,setInterval(e,xP)}var SP=80*Dd,TP=32,dA=3*G4,kP=Ai,hA=mi;function pA(r,e,t,n,o){e.transportStatus===0&&e.queuedPayloads.size()===0&&e.bandwidthMonitor.canHandle(r)?vA(r,e,t,{onSuccess:function(){return bA(0,e,t,n,o)},onFailure:function(){e.queuedPayloads.enqueue(r),gA(e,t,n,o)}}):e.queuedPayloads.enqueue(r)}function gA(r,e,t,n){r.transportStatus===2&&Bn(function(){var o=r.queuedPayloads.first();vA(o,r,e,{onSuccess:function(){r.queuedPayloads.dequeue(),r.currentBackoffTime=hA,bA(1,r,e,t,n)},onFailure:function(){r.currentBackoffTime=Math.min(kP,r.currentBackoffTime*2),gA(r,e,t,n)}})},r.currentBackoffTime)}function vA(r,e,t,n){var o=n.onSuccess,i=n.onFailure;e.bandwidthMonitor.add(r),t(r,function(a){e.bandwidthMonitor.remove(r),CP(a)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,r.retry={count:r.retry?r.retry.count+1:1,lastFailureStatus:a.status},i()):(e.transportStatus=0,o())})}function bA(r,e,t,n,o){r===0&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(o({message:"Reached max ".concat(n," events size queued for upload: ").concat(dA/G4,"MiB"),source:Wc.AGENT,startClocks:ei()}),e.queueFullReported=!0);var i=e.queuedPayloads;for(e.queuedPayloads=mA();i.size()>0;)pA(i.dequeue(),e,t,n,o)}function CP(r){return r.type!=="opaque"&&(r.status===0&&!navigator.onLine||r.status===408||r.status===429||r.status>=500)}function MP(){return{transportStatus:0,currentBackoffTime:hA,bandwidthMonitor:IP(),queuedPayloads:mA(),queueFullReported:!1}}function mA(){var r=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(r.push(e),this.bytesCount+=e.bytesCount)},first:function(){return r[0]},dequeue:function(){var e=r.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return r.length},isFull:function(){return this.bytesCount>=dA}}}function IP(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(r){return this.ongoingRequestCount===0||this.ongoingByteCount+r.bytesCount<=SP&&this.ongoingRequestCount<TP},add:function(r){this.ongoingRequestCount+=1,this.ongoingByteCount+=r.bytesCount},remove:function(r){this.ongoingRequestCount-=1,this.ongoingByteCount-=r.bytesCount}}}function yA(r,e,t){var n=MP(),o=function(i,a){return RP(r,e,i,a)};return{send:function(i){pA(i,n,o,r.endpointType,t)},sendOnExit:function(i){PP(r,e,i)}}}function PP(r,e,t){var n=t.data,o=t.bytesCount,i=t.flushReason,a=!!navigator.sendBeacon&&o<e;if(a)try{var s=r.build("beacon",i),c=navigator.sendBeacon(s,n);if(c)return}catch(u){BP(u)}var f=r.build("xhr",i);db(f,n)}var vx=!1;function BP(r){vx||(vx=!0,jd(r))}function RP(r,e,t,n){var o=t.data,i=t.bytesCount,a=t.flushReason,s=t.retry,c=OP()&&i<e;if(c){var f=r.build("fetch",a,s);fetch(f,{method:"POST",body:o,keepalive:!0,mode:"cors"}).then(rt(function(h){return n?.({status:h.status,type:h.type})}),rt(function(){var h=r.build("xhr",a,s);db(h,o,n)}))}else{var u=r.build("xhr",a,s);db(u,o,n)}}function OP(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function db(r,e,t){var n=new XMLHttpRequest,o=rt(function(){n.removeEventListener("loadend",o),t?.({status:n.status})});n.open("POST",r,!0),n.addEventListener("loadend",o),n.send(e)}var NP=function(){function r(e,t,n,o,i,a){var s=this;this.request=e,this.batchMessagesLimit=t,this.batchBytesLimit=n,this.messageBytesLimit=o,this.flushTimeout=i,this.pageExitObservable=a,this.flushObservable=new Hr,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,a.subscribe(function(c){return s.flush(c.reason,s.request.sendOnExit)}),this.flushPeriodically()}return r.prototype.add=function(e){this.addOrUpdate(e)},r.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},r.prototype.flush=function(e,t){if(t===void 0&&(t=this.request.send),this.bufferMessagesCount!==0){var n=this.pushOnlyBuffer.concat(Bh(this.upsertBuffer)),o=this.bufferBytesCount;this.flushObservable.notify({bufferBytesCount:this.bufferBytesCount,bufferMessagesCount:this.bufferMessagesCount}),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,t({data:n.join(`
`),bytesCount:o,flushReason:e})}},r.prototype.addOrUpdate=function(e,t){var n=this.process(e),o=n.processedMessage,i=n.messageBytesCount;if(i>=this.messageBytesLimit){bt.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(i)&&this.flush("batch_bytes_limit"),this.push(o,i,t),this.isFull()&&this.flush("batch_bytes_limit")},r.prototype.process=function(e){var t=Kc(e),n=Fd(t);return{processedMessage:t,messageBytesCount:n}},r.prototype.push=function(e,t,n){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),n!==void 0?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=t,this.bufferMessagesCount+=1},r.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=Fd(t);this.bufferBytesCount-=n,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},r.prototype.hasMessageFor=function(e){return e!==void 0&&this.upsertBuffer[e]!==void 0},r.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},r.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},r.prototype.flushPeriodically=function(){var e=this;Bn(function(){e.flush("batch_duration_limit"),e.flushPeriodically()},this.flushTimeout)},r}();function km(){var r=LP();if(!!r)return{getAllowedWebViewHosts:function(){return JSON.parse(r.getAllowedWebViewHosts())},send:function(e,t){r.send(JSON.stringify({eventType:e,event:t}))}}}function Tc(r){var e;r===void 0&&(r=(e=xm().location)===null||e===void 0?void 0:e.hostname);var t=km();return!!t&&t.getAllowedWebViewHosts().some(function(n){return r===n||WM(r,".".concat(n))})}function LP(){return xm().DatadogEventBridge}function bx(r,e,t){var n=0,o=!1;return{isLimitReached:function(){if(n===0&&Bn(function(){n=0},Ai),n+=1,n<=e||o)return o=!1,!1;if(n===e+1){o=!0;try{t({message:"Reached max number of ".concat(r,"s by minute: ").concat(e),source:Wc.AGENT,startClocks:ei()})}finally{o=!1}}return!0}}}function Cm(r,e){if(document.readyState===r||document.readyState==="complete")e();else{var t=r==="complete"?"load":"DOMContentLoaded";Pn(window,t,e,{once:!0})}}var N1,Mm=new WeakMap;function DP(){return N1||(N1=UP()),N1}function UP(){var r=new Hr(function(){var e=Zn(XMLHttpRequest.prototype,"open",{before:FP}).stop,t=Zn(XMLHttpRequest.prototype,"send",{before:function(){HP.call(this,r)}}).stop,n=Zn(XMLHttpRequest.prototype,"abort",{before:VP}).stop;return function(){e(),t(),n()}});return r}function FP(r,e){Mm.set(this,{state:"open",method:r,url:Hd(String(e))})}function HP(r){var e=this,t=Mm.get(this);if(!!t){var n=t;n.state="start",n.startTime=Ji(),n.startClocks=ei(),n.isAborted=!1,n.xhr=this;var o=!1,i=Zn(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&a()}}).stop,a=rt(function(){if(e.removeEventListener("loadend",a),i(),!o){o=!0;var s=t;s.state="complete",s.duration=ri(n.startClocks.timeStamp,Ur()),s.status=e.status,r.notify(yu(s))}});this.addEventListener("loadend",a),r.notify(n)}}function VP(){var r=Mm.get(this);r&&(r.isAborted=!0)}var L1;function jP(){return L1||(L1=GP()),L1}function GP(){var r=new Hr(function(){if(!!window.fetch){var e=tA(window,"fetch",function(t){return function(n,o){var i,a=is(zP,null,[r,n,o]);return a?(i=t.call(this,a.input,a.init),is(qP,null,[r,i,a])):i=t.call(this,n,o),i}}).stop;return e}});return r}function zP(r,e,t){var n=t&&t.method||typeof e=="object"&&e.method||"GET",o=Hd(typeof e=="object"&&e.url||e),i=ei(),a={state:"start",init:t,input:e,method:n,startClocks:i,url:o};return r.notify(a),a}function qP(r,e,t){var n=function(o){var i=t;i.state="resolve","stack"in o||o instanceof Error?(i.status=0,i.isAborted=o instanceof DOMException&&o.code===DOMException.ABORT_ERR,i.error=o):"status"in o&&(i.response=o,i.responseType=o.type,i.status=o.status,i.isAborted=!1),r.notify(i)};e.then(rt(n),rt(n))}var Os={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function KP(){var r=new Hr(function(){var e=ma("pagehide"),t=On(window,["visibilitychange","freeze","pagehide"],function(o){o.type==="pagehide"&&e?r.notify({reason:Os.PAGEHIDE}):o.type==="visibilitychange"&&document.visibilityState==="hidden"?r.notify({reason:Os.HIDDEN}):o.type==="freeze"&&r.notify({reason:Os.FROZEN})},{capture:!0}).stop,n=Kr;return e||(n=Pn(window,"beforeunload",function(){r.notify({reason:Os.UNLOADING})}).stop),function(){t(),n()}});return r}function $P(r){return Po(Bh(Os),r)}var D1={};function WP(r){var e=r.map(function(t){return D1[t]||(D1[t]=QP(t)),D1[t]});return oA.apply(void 0,e)}function QP(r){var e=new Hr(function(){var t=console[r];return console[r]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t.apply(console,n);var i=iA();is(function(){e.notify(JP(n,r,i))})},function(){console[r]=t}});return e}function JP(r,e,t){var n=r.map(function(a){return YP(a)}).join(" "),o;if(e===$s.error){var i=Lu(r,function(a){return a instanceof Error});o=i?Qc(ls(i)):void 0,n="console error: ".concat(n)}return{api:e,message:n,stack:o,handlingStack:t}}function YP(r){return typeof r=="string"?r:r instanceof Error?nA(ls(r)):Kc(r,void 0,2)}var ZP=500,mx=function(){function r(){this.buffer=[]}return r.prototype.add=function(e){var t=this.buffer.push(e);t>ZP&&this.buffer.splice(0,1)},r.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},r}();function yx(r){r===void 0&&(r=Fd);var e={},t;return{getBytesCount:function(){return t===void 0&&(t=r(Kc(e))),t},get:function(){return e},add:function(n,o){e[n]=o,t=void 0},remove:function(n){delete e[n],t=void 0},set:function(n){e=n,t=void 0},getContext:function(){return es(e)},setContext:function(n){e=es(n),t=void 0},setContextProperty:function(n,o){e[n]=es(o),t=void 0},removeContextProperty:function(n){delete e[n],t=void 0},clearContext:function(){e={},t=void 0}}}function XP(r,e,t){var n=es(r),o=t(n);return e.forEach(function(i){var a=xx(r,i),s=xx(n,i),c=Ec(a),f=Ec(s);f===c?wx(r,i,s):c==="object"&&(f==="undefined"||f==="null")&&wx(r,i,{})}),o}function xx(r,e){for(var t=r,n=0,o=e.split(".");n<o.length;n++){var i=o[n];if(!xA(t,i))return;t=t[i]}return t}function wx(r,e,t){for(var n=r,o=e.split("."),i=0;i<o.length;i+=1){var a=o[i];if(!xA(n,a))return;i!==o.length-1?n=n[a]:n[a]=t}}function xA(r,e){return typeof r=="object"&&r!==null&&Object.prototype.hasOwnProperty.call(r,e)}function eB(r,e,t){var n=r.getReader(),o=[],i=0;a();function a(){n.read().then(rt(function(c){if(c.done){s();return}t.collectStreamBody&&o.push(c.value),i+=c.value.length,i>t.bytesLimit?s():a()}),rt(function(c){return e(c)}))}function s(){n.cancel().catch(Kr);var c,f;if(t.collectStreamBody){var u;if(o.length===1)u=o[0];else{u=new Uint8Array(i);var h=0;o.forEach(function(w){u.set(w,h),h+=w.length})}c=u.slice(0,t.bytesLimit),f=u.length>t.bytesLimit}e(void 0,c,f)}}var tB="datadog-synthetics-public-id",rB="datadog-synthetics-result-id",nB="datadog-synthetics-injects-rum";function wA(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Ao(nB))}function iB(){var r=window._DATADOG_SYNTHETICS_PUBLIC_ID||Ao(tB);return typeof r=="string"?r:void 0}function oB(){var r=window._DATADOG_SYNTHETICS_RESULT_ID||Ao(rB);return typeof r=="string"?r:void 0}function Ax(r){var e=Lt({},r),t=["id","name","email"];return t.forEach(function(n){n in e&&(e[n]=String(e[n]))}),e}function aB(r){var e=Ec(r)==="object";return e||bt.error("Unsupported user:",r),e}function sB(r){var e=r;return Ec(e)==="object"&&wm(e.match)&&Array.isArray(e.propagatorTypes)}function fB(r){r.status===0&&!r.isAborted&&(r.traceId=void 0,r.spanId=void 0,r.traceSampled=void 0)}function cB(r,e){return{clearTracingIfNeeded:fB,traceFetch:function(t){return Ex(r,t,e,function(n){var o;if(t.input instanceof Request&&!(!((o=t.init)===null||o===void 0)&&o.headers))t.input=new Request(t.input),Object.keys(n).forEach(function(a){t.input.headers.append(a,n[a])});else{t.init=yu(t.init);var i=[];t.init.headers instanceof Headers?t.init.headers.forEach(function(a,s){i.push([s,a])}):Array.isArray(t.init.headers)?t.init.headers.forEach(function(a){i.push(a)}):t.init.headers&&Object.keys(t.init.headers).forEach(function(a){i.push([a,t.init.headers[a]])}),t.init.headers=i.concat(ym(n))}})},traceXhr:function(t,n){return Ex(r,t,e,function(o){Object.keys(o).forEach(function(i){n.setRequestHeader(i,o[i])})})}}}function Ex(r,e,t,n){if(!(!lB()||!t.findTrackedSession())){var o=Lu(r.allowedTracingUrls,function(i){return W4([i.match],e.url,!0)});!o||(e.traceId=new _x,e.spanId=new _x,e.traceSampled=!$c(r.traceSampleRate)||Ac(r.traceSampleRate),n(uB(e.traceId,e.spanId,e.traceSampled,o.propagatorTypes)))}}function lB(){return AA()!==void 0}function AA(){return window.crypto||window.msCrypto}function uB(r,e,t,n){var o={};return n.forEach(function(i){switch(i){case"datadog":{Lt(o,{"x-datadog-origin":"rum","x-datadog-parent-id":e.toDecimalString(),"x-datadog-sampling-priority":t?"1":"0","x-datadog-trace-id":r.toDecimalString()});break}case"tracecontext":{Lt(o,{traceparent:"00-0000000000000000".concat(r.toPaddedHexadecimalString(),"-").concat(e.toPaddedHexadecimalString(),"-0").concat(t?"1":"0")});break}case"b3":{Lt(o,{b3:"".concat(r.toPaddedHexadecimalString(),"-").concat(e.toPaddedHexadecimalString(),"-").concat(t?"1":"0")});break}case"b3multi":{Lt(o,{"X-B3-TraceId":r.toPaddedHexadecimalString(),"X-B3-SpanId":e.toPaddedHexadecimalString(),"X-B3-Sampled":t?"1":"0"});break}}}),o}var _x=function(){function r(){this.buffer=new Uint8Array(8),AA().getRandomValues(this.buffer),this.buffer[0]=this.buffer[0]&127}return r.prototype.toString=function(e){var t=this.readInt32(0),n=this.readInt32(4),o="";do{var i=t%e*4294967296+n;t=Math.floor(t/e),n=Math.floor(i/e),o=(i%e).toString(e)+o}while(t||n);return o},r.prototype.toDecimalString=function(){return this.toString(10)},r.prototype.toPaddedHexadecimalString=function(){var e=this.toString(16);return Array(17-e.length).join("0")+e},r.prototype.readInt32=function(e){return this.buffer[e]*16777216+(this.buffer[e+1]<<16)+(this.buffer[e+2]<<8)+this.buffer[e+3]},r}();function dB(r){var e,t,n,o,i,a;if(!r.applicationId){bt.error("Application ID is not configured, no RUM data will be collected.");return}if(r.sessionReplaySampleRate!==void 0&&!ic(r.sessionReplaySampleRate)){bt.error("Session Replay Sample Rate should be a number between 0 and 100");return}var s=(e=r.premiumSampleRate)!==null&&e!==void 0?e:r.replaySampleRate;if(s!==void 0&&r.sessionReplaySampleRate!==void 0&&(bt.warn("Ignoring Premium Sample Rate because Session Replay Sample Rate is set"),s=void 0),s!==void 0&&!ic(s)){bt.error("Premium Sample Rate should be a number between 0 and 100");return}var c=(t=r.traceSampleRate)!==null&&t!==void 0?t:r.tracingSampleRate;if(c!==void 0&&!ic(c)){bt.error("Trace Sample Rate should be a number between 0 and 100");return}if(r.excludedActivityUrls!==void 0&&!Array.isArray(r.excludedActivityUrls)){bt.error("Excluded Activity Urls should be an array");return}var f=hB(r);if(!!f){var u=TI(r);if(!!u){var h=!!((n=r.trackUserInteractions)!==null&&n!==void 0?n:r.trackInteractions),w=!!r.trackFrustrations;return Lt({applicationId:r.applicationId,version:r.version,actionNameAttribute:r.actionNameAttribute,sessionReplaySampleRate:(i=(o=r.sessionReplaySampleRate)!==null&&o!==void 0?o:s)!==null&&i!==void 0?i:100,oldPlansBehavior:r.sessionReplaySampleRate===void 0,traceSampleRate:c,allowedTracingUrls:f,excludedActivityUrls:(a=r.excludedActivityUrls)!==null&&a!==void 0?a:[],trackUserInteractions:h||w,trackFrustrations:w,trackViewsManually:!!r.trackViewsManually,trackResources:r.trackResources,trackLongTasks:r.trackLongTasks,defaultPrivacyLevel:KM(ru,r.defaultPrivacyLevel)?r.defaultPrivacyLevel:ru.MASK_USER_INPUT,customerDataTelemetrySampleRate:1},u)}}}function hB(r){if(r.allowedTracingUrls!==void 0&&r.allowedTracingOrigins!==void 0&&bt.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins."),r.allowedTracingUrls!==void 0){if(!Array.isArray(r.allowedTracingUrls)){bt.error("Allowed Tracing URLs should be an array");return}if(r.allowedTracingUrls.length!==0&&r.service===void 0){bt.error("Service needs to be configured when tracing is enabled");return}var e=[];return r.allowedTracingUrls.forEach(function(n){wm(n)?e.push({match:n,propagatorTypes:["datadog"]}):sB(n)?e.push(n):bt.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",n)}),e}if(r.allowedTracingOrigins!==void 0){if(!Array.isArray(r.allowedTracingOrigins)){bt.error("Allowed Tracing Origins should be an array");return}if(r.allowedTracingOrigins.length!==0&&r.service===void 0){bt.error("Service needs to be configured when tracing is enabled");return}var t=[];return r.allowedTracingOrigins.forEach(function(n){var o=pB(n);o&&t.push(o)}),t}return[]}function pB(r){var e;if(typeof r=="string"?e=r:r instanceof RegExp?e=function(t){return r.test(px(t))}:typeof r=="function"&&(e=function(t){return r(px(t))}),e===void 0){bt.warn("Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter",r);return}return{match:e,propagatorTypes:["datadog"]}}function gB(r){var e=new Set;return Array.isArray(r.allowedTracingUrls)&&r.allowedTracingUrls.length>0&&r.allowedTracingUrls.forEach(function(t){wm(t)?e.add("datadog"):t.propagatorTypes.forEach(function(n){return e.add(n)})}),Array.isArray(r.allowedTracingOrigins)&&r.allowedTracingOrigins.length>0&&e.add("datadog"),q4(e)}function vB(r){var e,t,n=CI(r);return Lt({premium_sample_rate:r.premiumSampleRate,replay_sample_rate:r.replaySampleRate,session_replay_sample_rate:r.sessionReplaySampleRate,trace_sample_rate:(e=r.traceSampleRate)!==null&&e!==void 0?e:r.tracingSampleRate,action_name_attribute:r.actionNameAttribute,use_allowed_tracing_origins:Array.isArray(r.allowedTracingOrigins)&&r.allowedTracingOrigins.length>0,use_allowed_tracing_urls:Array.isArray(r.allowedTracingUrls)&&r.allowedTracingUrls.length>0,selected_tracing_propagators:gB(r),default_privacy_level:r.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(r.allowedTracingOrigins)&&r.allowedTracingOrigins.length>0,track_frustrations:r.trackFrustrations,track_views_manually:r.trackViewsManually,track_user_interactions:(t=r.trackUserInteractions)!==null&&t!==void 0?t:r.trackInteractions},n)}function hb(r,e,t){return{context:r.getContext(),user:e.getContext(),hasReplay:t.isRecording()?!0:void 0}}function bB(r,e,t){var n=t===void 0?{}:t,o=n.ignoreInitIfSyntheticsWillInjectRum,i=o===void 0?!0:o,a=!1,s=yx(),c=yx(),f=function(){},u=function(){},h=new mx,w=function(ce,be){be===void 0&&(be=Ur()),h.add(function(){return w(ce,be)})},T=function(ce,be){be===void 0&&(be=ei()),h.add(function(){return T(ce,be)})},I=function(ce,be){be===void 0&&(be=hb(s,c,e)),h.add(function(){return I(ce,be)})},R=function(ce,be){be===void 0&&(be=hb(s,c,e)),h.add(function(){return R(ce,be)})},P=function(ce,be){h.add(function(){return P(ce,be)})};function B(ce){if(u=function(){return es(ce)},!(i&&wA())){if(Tc())ce=we(ce);else if(!J(ce))return;if(!!ie(ce)){var be=dB(ce);if(!!be){if(ma("feature_flags")&&($.addFeatureFlagEvaluation=rt(function(S,v){P(S,v)})),!be.trackViewsManually)O(ce,be);else{var L=h;h=new mx,T=function(S){O(ce,be,S)},L.drain()}a=!0}}}}function O(ce,be,L){var S=r(ce,be,e,s,c,L);T=S.startView,I=S.addAction,R=S.addError,w=S.addTiming,P=S.addFeatureFlagEvaluation,f=S.getInternalContext,h.drain(),e.onRumStart(S.lifeCycle,be,S.session,S.viewContexts)}var H=rt(function(ce){var be=typeof ce=="object"?ce:{name:ce};T(be)}),$=qI({init:rt(B),addRumGlobalContext:rt(s.add),setGlobalContextProperty:rt(s.setContextProperty),removeRumGlobalContext:rt(s.remove),removeGlobalContextProperty:rt(s.removeContextProperty),getRumGlobalContext:rt(s.get),getGlobalContext:rt(s.getContext),setRumGlobalContext:rt(s.set),setGlobalContext:rt(s.setContext),clearGlobalContext:rt(s.clearContext),getInternalContext:rt(function(ce){return f(ce)}),getInitConfiguration:rt(function(){return u()}),addAction:rt(function(ce,be){I({name:ce,context:es(be),startClocks:ei(),type:"custom"})}),addError:function(ce,be){var L=iA();is(function(){R({error:ce,handlingStack:L,context:es(be),startClocks:ei()})})},addTiming:rt(function(ce,be){w(ce,be)}),setUser:rt(function(ce){aB(ce)&&c.setContext(Ax(ce))}),getUser:rt(c.getContext),setUserProperty:rt(function(ce,be){var L,S=Ax((L={},L[ce]=be,L))[ce];c.setContextProperty(ce,S)}),removeUserProperty:rt(c.removeContextProperty),removeUser:rt(c.clearContext),clearUser:rt(c.clearContext),startView:H,startSessionReplayRecording:rt(e.start),stopSessionReplayRecording:rt(e.stop)});return $;function J(ce){return tI(X4(ce))?de()?(bt.error("Execution is not allowed in the current context."),!1):!0:(bt.warn("Cookies are not authorized, we will not send any data."),!1)}function ie(ce){return a?(ce.silentMultipleInit||bt.error("DD_RUM is already initialized."),!1):!0}function we(ce){return Lt({},ce,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100})}function de(){return window.location.protocol==="file:"}}function mB(){var r=EA(),e=new Hr(function(){if(!!r){var t=new r(rt(function(){return e.notify()}));return t.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return t.disconnect()}}});return e}function EA(){var r,e=window;if(e.Zone&&(r=wc(e,"MutationObserver"),e.MutationObserver&&r===e.MutationObserver)){var t=new e.MutationObserver(Kr),n=wc(t,"originalInstance");r=n&&n.constructor}return r||(r=e.MutationObserver),r}var _A="initial_document",yB=[["document",function(r){return _A===r}],["xhr",function(r){return r==="xmlhttprequest"}],["fetch",function(r){return r==="fetch"}],["beacon",function(r){return r==="beacon"}],["css",function(r,e){return/\.css$/i.test(e)}],["js",function(r,e){return/\.js$/i.test(e)}],["image",function(r,e){return Po(["image","img","icon"],r)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(e)!==null}],["font",function(r,e){return/\.(woff|eot|woff2|ttf)$/i.exec(e)!==null}],["media",function(r,e){return Po(["audio","video"],r)||/\.(mp3|mp4)$/i.exec(e)!==null}]];function xB(r){var e=r.name;if(!cI(e))return Vu('Failed to construct URL for "'.concat(r.name,'"')),"other";for(var t=lI(e),n=0,o=yB;n<o.length;n++){var i=o[n],a=i[0],s=i[1];if(s(r.initiatorType,t))return a}return"other"}function pb(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=1;t<r.length;t+=1)if(r[t-1]>r[t])return!1;return!0}function wB(r){return r.initiatorType==="xmlhttprequest"||r.initiatorType==="fetch"}function AB(r){var e=r.duration,t=r.startTime,n=r.responseEnd;return e===0&&t<n?xr(ri(t,n)):xr(e)}function EB(r){var e=SA(r);if(!!e){var t=e.startTime,n=e.fetchStart,o=e.redirectStart,i=e.redirectEnd,a=e.domainLookupStart,s=e.domainLookupEnd,c=e.connectStart,f=e.secureConnectionStart,u=e.connectEnd,h=e.requestStart,w=e.responseStart,T=e.responseEnd,I={download:Pf(t,w,T),first_byte:Pf(t,h,w)};return u!==n&&(I.connect=Pf(t,c,u),pb(c,f,u)&&(I.ssl=Pf(t,f,u))),s!==n&&(I.dns=Pf(t,a,s)),TA(r)&&(I.redirect=Pf(t,o,i)),I}}function SA(r){if(!!pb(r.startTime,r.fetchStart,r.domainLookupStart,r.domainLookupEnd,r.connectStart,r.connectEnd,r.requestStart,r.responseStart,r.responseEnd)){if(!TA(r))return r;var e=r.redirectStart,t=r.redirectEnd;if(e<r.startTime&&(e=r.startTime),t<r.startTime&&(t=r.fetchStart),!!pb(r.startTime,e,t,r.fetchStart))return Lt({},r,{redirectEnd:t,redirectStart:e})}}function TA(r){return r.fetchStart!==r.startTime}function Pf(r,e,t){return{duration:xr(ri(e,t)),start:xr(ri(r,e))}}function _B(r){if(r.startTime<r.responseStart)return r.decodedBodySize}function Im(r,e){return e&&!r.isIntakeUrl(e)}function kA(r){return r.nodeType===Node.TEXT_NODE}function SB(r){return r.nodeType===Node.COMMENT_NODE}function Pm(r){return r.nodeType===Node.ELEMENT_NODE}function Nh(r){return Pm(r)&&Boolean(r.shadowRoot)}function Bm(r){var e=r;return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Pm(e.host)}function TB(r){return Nh(r)?r.shadowRoot.childNodes:r.childNodes}function Lh(r){return Bm(r)?r.host:r.parentNode}var kB=2*Ai;function CB(r){var e=MB(r)||IB(r);if(!(!e||e.traceTime<=To()-kB))return e.traceId}function MB(r){var e=r.querySelector("meta[name=dd-trace-id]"),t=r.querySelector("meta[name=dd-trace-time]");return CA(e&&e.content,t&&t.content)}function IB(r){var e=PB(r);if(!!e)return CA(cb(e,"trace-id"),cb(e,"trace-time"))}function CA(r,e){var t=e&&Number(e);if(!(!r||!t))return{traceId:r,traceTime:t}}function PB(r){for(var e=0;e<r.childNodes.length;e+=1){var t=Sx(r.childNodes[e]);if(t)return t}if(r.body)for(var e=r.body.childNodes.length-1;e>=0;e-=1){var n=r.body.childNodes[e],t=Sx(n);if(t)return t;if(!kA(n))break}}function Sx(r){if(r&&SB(r)){var e=/^\s*DATADOG;(.*?)\s*$/.exec(r.data);if(e)return e[1]}}function Tx(){return window.performance!==void 0&&"getEntries"in performance}function Gd(r){return window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(r)}function BB(r,e){if(RB(function(s){_l(r,e,[s])}),Tx()){var t=performance.getEntries();Bn(function(){return _l(r,e,t)})}if(window.PerformanceObserver){var n=rt(function(s){return _l(r,e,s.getEntries())}),o=["resource","navigation","longtask","paint"],i=["largest-contentful-paint","first-input","layout-shift"];try{i.forEach(function(s){var c=new PerformanceObserver(n);c.observe({type:s,buffered:!0})})}catch{o.push.apply(o,i)}var a=new PerformanceObserver(n);a.observe({entryTypes:o}),Tx()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",function(){performance.clearResourceTimings()})}Gd("navigation")||OB(function(s){_l(r,e,[s])}),Gd("first-input")||NB(function(s){_l(r,e,[s])})}function RB(r){Cm("interactive",function(){var e,t={entryType:"resource",initiatorType:_A,traceId:CB(document)};if(Gd("navigation")&&performance.getEntriesByType("navigation").length>0){var n=performance.getEntriesByType("navigation")[0];e=Lt(n.toJSON(),t)}else{var o=MA();e=Lt(o,{decodedBodySize:0,duration:o.responseEnd,name:window.location.href,startTime:0},t)}r(e)})}function OB(r){function e(){r(Lt(MA(),{entryType:"navigation"}))}Cm("complete",function(){Bn(e)})}function NB(r){var e=To(),t=!1,n=On(window,["click","mousedown","keydown","touchstart","pointerdown"],function(a){if(!!a.cancelable){var s={entryType:"first-input",processingStart:Ji(),startTime:a.timeStamp};a.type==="pointerdown"?o(s):i(s)}},{passive:!0,capture:!0}).stop;function o(a){On(window,["pointerup","pointercancel"],function(s){s.type==="pointerup"&&i(a)},{once:!0})}function i(a){if(!t){t=!0,n();var s=a.processingStart-a.startTime;s>=0&&s<To()-e&&r(a)}}}function MA(){var r={},e=performance.timing;for(var t in e)if($c(e[t])){var n=t,o=e[n];r[n]=o===0?0:Z4(o)}return r}function _l(r,e,t){var n=t.filter(function(i){return i.entryType==="resource"||i.entryType==="navigation"||i.entryType==="paint"||i.entryType==="longtask"||i.entryType==="largest-contentful-paint"||i.entryType==="first-input"||i.entryType==="layout-shift"}),o=n.filter(function(i){return!LB(i)&&!DB(e,i)});o.length&&r.notify(0,o)}function LB(r){return r.entryType==="navigation"&&r.loadEventEnd<=0}function DB(r,e){return e.entryType==="resource"&&!Im(r,e.name)}function UB(){var r=iB(),e=oB();if(r&&e)return{test_id:r,result_id:e,injected:wA()}}function FB(){var r,e=(r=window.Cypress)===null||r===void 0?void 0:r.env("traceId");if(typeof e=="string")return{test_execution_id:e}}var U1;function IA(){return U1||(U1=HB()),U1}function HB(){var r=new Hr(function(){var e=qc(function(){r.notify(Rm())},200).throttled;return Pn(window,"resize",e,{capture:!0,passive:!0}).stop});return r}function Rm(){var r=window.visualViewport;return r?{width:Number(r.width*r.scale),height:Number(r.height*r.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var U0;function VB(){if(!!ma("clickmap"))return U0||(U0=Rm(),IA().subscribe(function(r){U0=r}).unsubscribe),{viewport:U0}}var PA=["view.url","view.referrer","action.target.name","error.message","error.stack","error.resource.url","resource.url"],jB=PA.concat(["context"]);function GB(r,e,t,n,o,i,a,s){var c,f=(c={},c.error=bx("error",r.eventRateLimiterThreshold,s),c.action=bx("action",r.eventRateLimiterThreshold,s),c),u=UB(),h=FB();e.subscribe(10,function(w){var T=w.startTime,I=w.rawRumEvent,R=w.domainContext,P=w.savedCommonContext,B=w.customerContext,O=n.findView(T),H=o.findUrl(T),$=t.findTrackedSession(I.type!=="view"?T:void 0);if($&&O&&H){var J=P||a(),ie=i.findActionId(T),we={_dd:{format_version:2,drift:aI(),session:{plan:$.plan},browser_sdk_version:Tc()?"4.35.0":void 0},application:{id:r.applicationId},date:Ur(),service:O.service||r.service,version:O.version||r.version,source:"browser",session:{id:$.id,type:u?"synthetics":h?"ci_test":"user"},view:{id:O.id,name:O.name,url:H.url,referrer:H.referrer},action:qB(I)&&ie?{id:ie}:void 0,synthetics:u,ci_test:h,display:VB()},de=Ws(we,I);de.context=Ws(J.context,B),"has_replay"in de.session||(de.session.has_replay=J.hasReplay),sa(J.user)||(de.usr=J.user),zB(de,r.beforeSend,R,f)&&(sa(de.context)&&delete de.context,e.notify(11,de))}})}function zB(r,e,t,n){var o;if(e){var i=XP(r,r.type==="view"?PA:jB,function(s){return e(s,t)});if(i===!1&&r.type!=="view")return!1;i===!1&&bt.warn("Can't dismiss view events using beforeSend!")}var a=(o=n[r.type])===null||o===void 0?void 0:o.isLimitReached();return!a}function qB(r){return["error","resource","long_task"].indexOf(r.type)!==-1}var KB=500,$B=2500,Xn=[];function WB(){document.hasFocus()&&kx();var r=JB(kx).stop,e=YB(QB).stop;return{isInForegroundAt:ZB,selectInForegroundPeriodsFor:XB,stop:function(){Xn=[],r(),e()}}}function kx(){if(!(Xn.length>$B)){var r=Xn[Xn.length-1],e=Ji();r!==void 0&&r.end===void 0||Xn.push({start:e})}}function QB(){if(Xn.length!==0){var r=Xn[Xn.length-1],e=Ji();r.end===void 0&&(r.end=e)}}function JB(r){return Pn(window,"focus",function(e){!e.isTrusted||r()})}function YB(r){return Pn(window,"blur",function(e){!e.isTrusted||r()})}function ZB(r){for(var e=Xn.length-1;e>=0;e--){var t=Xn[e];if(t.end!==void 0&&r>t.end)break;if(r>t.start&&(t.end===void 0||r<t.end))return!0}return!1}function XB(r,e){for(var t=uf(r,e),n=[],o=Math.max(0,Xn.length-KB),i=Xn.length-1;i>=o;i--){var a=Xn[i];if(a.end!==void 0&&r>a.end)break;if(!(t<a.start)){var s=r>a.start?r:a.start,c=ri(r,s),f=a.end===void 0||t<a.end?t:a.end,u=ri(s,f);n.unshift({start:xr(c),duration:xr(u)})}}return n}function eR(r,e,t,n,o){return{get:function(i){var a=t.findView(i),s=o.findUrl(i),c=e.findTrackedSession(i);if(c&&a&&s){var f=n.findActionId(i);return{application_id:r,session_id:c.id,user_action:f?{id:f}:void 0,view:{id:a.id,name:a.name,referrer:s.referrer,url:s.url}}}}}}var tR=function(){function r(){this.callbacks={}}return r.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach(function(o){return o(t)})},r.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter(function(o){return t!==o})}}},r}(),rR=Gu;function nR(r){var e=new ju(rR);r.subscribe(2,function(n){e.add(t(n),n.startClocks.relative)}),r.subscribe(4,function(n){var o=n.endClocks;e.closeActive(o.relative)}),r.subscribe(8,function(){e.reset()});function t(n){return{service:n.service,version:n.version,id:n.id,name:n.name}}return{findView:function(n){return e.find(n)},stop:function(){e.stop()}}}var Cx=1;function iR(r,e,t){var n=cB(e,t);oR(r,e,n),aR(r,e,n)}function oR(r,e,t){var n=DP().subscribe(function(o){var i=o;if(!!Im(e,i.url))switch(i.state){case"start":t.traceXhr(i,i.xhr),i.requestIndex=BA(),r.notify(5,{requestIndex:i.requestIndex,url:i.url});break;case"complete":t.clearTracingIfNeeded(i),r.notify(6,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"xhr",url:i.url,xhr:i.xhr});break}});return{stop:function(){return n.unsubscribe()}}}function aR(r,e,t){var n=jP().subscribe(function(o){var i=o;if(!!Im(e,i.url))switch(i.state){case"start":t.traceFetch(i),i.requestIndex=BA(),r.notify(5,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":sR(i,function(a){t.clearTracingIfNeeded(i),r.notify(6,{duration:a,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"fetch",url:i.url,response:i.response,init:i.init,input:i.input})});break}});return{stop:function(){return n.unsubscribe()}}}function BA(){var r=Cx;return Cx+=1,r}function sR(r,e){var t=r.response&&eI(r.response);!t||!t.body?e(ri(r.startClocks.timeStamp,Ur())):eB(t.body,function(){e(ri(r.startClocks.timeStamp,Ur()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}function RA(r){var e=r.lifeCycle,t=r.isChildEvent,n=r.onChange,o=n===void 0?Kr:n,i={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},a=e.subscribe(11,function(s){if(!(s.type==="view"||!t(s)))switch(s.type){case"error":i.errorCount+=1,o();break;case"action":i.actionCount+=1,s.action.frustration&&(i.frustrationCount+=s.action.frustration.type.length),o();break;case"long_task":i.longTaskCount+=1,o();break;case"resource":i.resourceCount+=1,o();break}});return{stop:function(){a.unsubscribe()},eventCounts:i}}var OA=100,fR=100;function Om(r,e,t,n,o){var i=lR(r,e,t);return cR(i,n,o)}function cR(r,e,t){var n,o=!1,i=Bn(rt(function(){return f({hadActivity:!1})}),OA),a=t&&Bn(rt(function(){return f({hadActivity:!0,end:Ur()})}),t),s=r.subscribe(function(u){var h=u.isBusy;ta(i),ta(n);var w=Ur();h||(n=Bn(rt(function(){return f({hadActivity:!0,end:w})}),fR))}),c=function(){o=!0,ta(i),ta(n),ta(a),s.unsubscribe()};function f(u){o||(c(),e(u))}return{stop:c}}function lR(r,e,t){var n=new Hr(function(){var o=[],i,a=0;o.push(e.subscribe(c),r.subscribe(0,function(f){f.some(function(u){return u.entryType==="resource"&&!F1(t,u.name)})&&c()}),r.subscribe(5,function(f){F1(t,f.url)||(i===void 0&&(i=f.requestIndex),a+=1,c())}),r.subscribe(6,function(f){F1(t,f.url)||i===void 0||f.requestIndex<i||(a-=1,c())}));var s=uR(c).stop;return function(){s(),o.forEach(function(f){return f.unsubscribe()})};function c(){n.notify({isBusy:a>0})}});return n}function F1(r,e){return W4(r.excludedActivityUrls,e)}function uR(r){return Zn(window,"open",{before:r})}var NA=mi,dR=100;function hR(r,e){var t=[],n=0,o;i(r);function i(c){c.stopObservable.subscribe(a),t.push(c),ta(o),o=Bn(s,NA)}function a(){n===1&&t.every(function(c){return c.isStopped()})&&(n=2,e(t))}function s(){ta(o),n===0&&(n=1,a())}return{tryAppend:function(c){return n!==0?!1:t.length>0&&!pR(t[t.length-1].event,c.event)?(s(),!1):(i(c),!0)},stop:function(){s()}}}function pR(r,e){return r.target===e.target&&gR(r,e)<=dR&&r.timeStamp-e.timeStamp<=NA}function gR(r,e){return Math.sqrt(Math.pow(r.clientX-e.clientX,2)+Math.pow(r.clientY-e.clientY,2))}var Nm="data-dd-action-name";function vR(r,e){return Mx(r,Nm)||e&&Mx(r,e)||Ix(r,e,bR)||Ix(r,e,mR)||""}function Mx(r,e){var t;if(ER())t=r.closest("[".concat(e,"]"));else for(var n=r;n;){if(n.hasAttribute(e)){t=n;break}n=n.parentElement}if(!!t){var o=t.getAttribute(e);return DA(LA(o.trim()))}}var bR=[function(r,e){if(AR()){if("labels"in r&&r.labels&&r.labels.length>0)return Gf(r.labels[0],e)}else if(r.id){var t=r.ownerDocument&&Lu(r.ownerDocument.querySelectorAll("label"),function(n){return n.htmlFor===r.id});return t&&Gf(t,e)}},function(r){if(r.nodeName==="INPUT"){var e=r,t=e.getAttribute("type");if(t==="button"||t==="submit"||t==="reset")return e.value}},function(r,e){if(r.nodeName==="BUTTON"||r.nodeName==="LABEL"||r.getAttribute("role")==="button")return Gf(r,e)},function(r){return r.getAttribute("aria-label")},function(r,e){var t=r.getAttribute("aria-labelledby");if(t)return t.split(/\s+/).map(function(n){return xR(r,n)}).filter(function(n){return Boolean(n)}).map(function(n){return Gf(n,e)}).join(" ")},function(r){return r.getAttribute("alt")},function(r){return r.getAttribute("name")},function(r){return r.getAttribute("title")},function(r){return r.getAttribute("placeholder")},function(r,e){if("options"in r&&r.options.length>0)return Gf(r.options[0],e)}],mR=[function(r,e){return Gf(r,e)}],yR=10;function Ix(r,e,t){for(var n=r,o=0;o<=yR&&n&&n.nodeName!=="BODY"&&n.nodeName!=="HTML"&&n.nodeName!=="HEAD";){for(var i=0,a=t;i<a.length;i++){var s=a[i],c=s(n,e);if(typeof c=="string"){var f=c.trim();if(f)return DA(LA(f))}}if(n.nodeName==="FORM")break;n=n.parentElement,o+=1}}function LA(r){return r.replace(/\s+/g," ")}function DA(r){return r.length>100?"".concat($4(r,100)," [...]"):r}function xR(r,e){return r.ownerDocument?r.ownerDocument.getElementById(e):null}function Gf(r,e){if(!r.isContentEditable){if("innerText"in r){var t=r.innerText,n=function(o){for(var i=r.querySelectorAll(o),a=0;a<i.length;a+=1){var s=i[a];if("innerText"in s){var c=s.innerText;c&&c.trim().length>0&&(t=t.replace(c,""))}}};return wR()||n("script, style"),n("[".concat(Nm,"]")),e&&n("[".concat(e,"]")),t}return r.textContent}}function wR(){return!aP()}var H1;function AR(){return H1===void 0&&(H1="labels"in HTMLInputElement.prototype),H1}var V1;function ER(){return V1===void 0&&(V1="closest"in HTMLElement.prototype),V1}var UA=[Nm,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],_R=[HA,kR],SR=[HA,CR,MR];function TR(r,e){for(var t="",n=r;n&&n.nodeName!=="HTML";){var o=Px(n,_R,PR,e,t);if(o)return o;var i=Px(n,SR,BR,e,t);t=i||Lm(IR(n),t),n=n.parentElement}return t}function FA(r){return/[0-9]/.test(r)}function kR(r){if(r.id&&!FA(r.id))return"#".concat(Am(r.id))}function CR(r){if(r.tagName!=="BODY"&&r.classList.length>0)for(var e=0;e<r.classList.length;e+=1){var t=r.classList[e];if(!FA(t))return"".concat(r.tagName,".").concat(Am(t))}}function MR(r){return r.tagName}function HA(r,e){if(e){var t=a(e);if(t)return t}for(var n=0,o=UA;n<o.length;n++){var i=o[n],t=a(i);if(t)return t}function a(s){if(r.hasAttribute(s))return"".concat(r.tagName,"[").concat(s,'="').concat(Am(r.getAttribute(s)),'"]')}}function IR(r){for(var e=r.parentElement.firstElementChild,t=1;e&&e!==r;)e.tagName===r.tagName&&(t+=1),e=e.nextElementSibling;return"".concat(r.tagName,":nth-of-type(").concat(t,")")}function Px(r,e,t,n,o){for(var i=0,a=e;i<a.length;i++){var s=a[i],c=s(r,n);if(!!c){var f=Lm(c,o);if(t(r,f))return f}}}function PR(r,e){return r.ownerDocument.querySelectorAll(e).length===1}function BR(r,e){return r.parentElement.querySelectorAll(RR()?Lm(":scope",e):e).length===1}function Lm(r,e){return e?"".concat(r,">").concat(e):r}var F0;function RR(){if(F0===void 0)try{document.querySelector(":scope"),F0=!0}catch{F0=!1}return F0}function OR(r){var e=r.onPointerDown,t=r.onPointerUp,n,o={selection:!1,input:!1},i,a=[Pn(window,"pointerdown",function(s){Rx(s)&&(n=Bx(),o={selection:!1,input:!1},i=e(s))},{capture:!0}),Pn(window,"selectionchange",function(){(!n||!Bx())&&(o.selection=!0)},{capture:!0}),Pn(window,"pointerup",function(s){if(Rx(s)&&i){var c=o;t(i,s,function(){return c}),i=void 0}},{capture:!0}),Pn(window,"input",function(){o.input=!0},{capture:!0})];return{stop:function(){a.forEach(function(s){return s.stop()})}}}function Bx(){var r=window.getSelection();return!r||r.isCollapsed}function Rx(r){return r.target instanceof Element&&r.isPrimary!==!1}var Ox=3;function NR(r,e){if(LR(r))return e.addFrustration("rage_click"),r.some(Nx)&&e.addFrustration("dead_click"),e.hasError&&e.addFrustration("error_click"),{isRage:!0};var t=r.some(function(n){return n.getUserActivity().selection});return r.forEach(function(n){n.hasError&&n.addFrustration("error_click"),Nx(n)&&!t&&n.addFrustration("dead_click")}),{isRage:!1}}function LR(r){if(r.some(function(t){return t.getUserActivity().selection}))return!1;for(var e=0;e<r.length-(Ox-1);e+=1)if(r[e+Ox-1].event.timeStamp-r[e].event.timeStamp<=mi)return!0;return!1}var DR='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function Nx(r){return r.hasPageActivity||r.getUserActivity().input?!1:!JM(r.event.target,DR)}var UR=10*mi,FR=5*Ai;function HR(r,e,t){var n=new ju(FR),o=new Hr,i;r.subscribe(8,function(){n.reset()}),r.subscribe(4,f);var a=OR({onPointerDown:function(u){return VR(t,r,e,n,u)},onPointerUp:function(u,h,w){var T=u.clickActionBase,I=u.hadActivityOnPointerDown;return jR(t,r,e,n,o,c,T,h,w,I)}}).stop,s={findActionId:function(u){return t.trackFrustrations?n.findAll(u):n.find(u)}};return{stop:function(){f(),o.notify(),a()},actionContexts:s};function c(u){if(!i||!i.tryAppend(u)){var h=u.clone();i=hR(u,function(w){zR(w,h)})}}function f(){i&&i.stop()}}function VR(r,e,t,n,o){if(!(!r.trackFrustrations&&n.find())){var i=GR(o,r.actionNameAttribute);if(!(!r.trackFrustrations&&!i.name)){var a=!1;return Om(e,t,r,function(s){a=s.hadActivity},OA),{clickActionBase:i,hadActivityOnPointerDown:function(){return a}}}}}function jR(r,e,t,n,o,i,a,s,c,f){var u=VA(e,n,c,a,s);r.trackFrustrations&&i(u);var h=Om(e,t,r,function(I){I.hadActivity&&I.end<u.startClocks.timeStamp?u.discard():(I.hadActivity?u.stop(I.end):f()?u.stop(u.startClocks.timeStamp):u.stop(),r.trackFrustrations||(I.hadActivity?u.validate():u.discard()))},UR).stop,w=e.subscribe(4,function(I){var R=I.endClocks;u.stop(R.timeStamp)}),T=o.subscribe(function(){u.stop()});u.stopObservable.subscribe(function(){w.unsubscribe(),h(),T.unsubscribe()})}function GR(r,e){var t,n;if(ma("clickmap")){var o=r.target.getBoundingClientRect();t={width:Math.round(o.width),height:Math.round(o.height),selector:TR(r.target,e)},n={x:Math.round(r.clientX-o.left),y:Math.round(r.clientY-o.top)}}return{type:"click",target:t,position:n,name:vR(r.target,e)}}function VA(r,e,t,n,o){var i=ni(),a=ei(),s=e.add(i,a.relative),c=RA({lifeCycle:r,isChildEvent:function(I){return I.action!==void 0&&(Array.isArray(I.action.id)?Po(I.action.id,i):I.action.id===i)}}),f=0,u,h=[],w=new Hr;function T(I){f===0&&(u=I,f=1,u?s.close(Z4(u)):s.remove(),c.stop(),w.notify())}return{event:o,stop:T,stopObservable:w,get hasError(){return c.eventCounts.errorCount>0},get hasPageActivity(){return u!==void 0},getUserActivity:t,addFrustration:function(I){h.push(I)},startClocks:a,isStopped:function(){return f===1||f===2},clone:function(){return VA(r,e,t,n,o)},validate:function(I){if(T(),f===1){var R=c.eventCounts,P=R.resourceCount,B=R.errorCount,O=R.longTaskCount,H=Lt({type:"click",duration:u&&ri(a.timeStamp,u),startClocks:a,id:i,frustrationTypes:h,counts:{resourceCount:P,errorCount:B,longTaskCount:O},events:I??[o],event:o},n);r.notify(1,H),f=2}},discard:function(){T(),f=2}}}function zR(r,e){var t=NR(r,e).isRage;t?(r.forEach(function(n){return n.discard()}),e.stop(Ur()),e.validate(r.map(function(n){return n.event}))):(e.discard(),r.forEach(function(n){return n.validate()}))}function qR(r,e,t,n){r.subscribe(1,function(i){return r.notify(10,Lx(i,n))});var o={findActionId:Kr};return t.trackUserInteractions&&(o=HR(r,e,t).actionContexts),{addAction:function(i,a){r.notify(10,Lt({savedCommonContext:a},Lx(i,n)))},actionContexts:o}}function Lx(r,e){var t=j1(r)?{action:{id:r.id,loading_time:xr(r.duration),frustration:{type:r.frustrationTypes},error:{count:r.counts.errorCount},long_task:{count:r.counts.longTaskCount},resource:{count:r.counts.resourceCount}},_dd:{action:{target:r.target,position:r.position}}}:void 0,n=j1(r)?void 0:r.context,o=Ws({action:{id:ni(),target:{name:r.name},type:r.type},date:r.startClocks.timeStamp,type:"action"},t),i=e.isInForegroundAt(r.startClocks.relative);return i!==void 0&&(o.view={in_foreground:i}),{customerContext:n,rawRumEvent:o,startTime:r.startClocks.relative,domainContext:j1(r)?{event:r.event,events:r.events}:{}}}function j1(r){return r.type!=="custom"}function KR(r){var e=WP([$s.error]).subscribe(function(t){return r.notify({startClocks:ei(),message:t.message,stack:t.stack,source:Wc.CONSOLE,handling:"handled",handlingStack:t.handlingStack})});return{stop:function(){e.unsubscribe()}}}function $R(r){var e=$I([Sc.cspViolation,Sc.intervention]).subscribe(function(t){return r.notify({startClocks:ei(),message:t.message,stack:t.stack,type:t.subtype,source:Wc.REPORT,handling:"unhandled"})});return{stop:function(){e.unsubscribe()}}}function WR(r,e,t){var n=new Hr;return KR(n),zI(n),$R(n),n.subscribe(function(o){return r.notify(12,{error:o})}),QR(r,e,t)}function QR(r,e,t){return r.subscribe(12,function(n){var o=n.error,i=n.customerContext,a=n.savedCommonContext;r.notify(10,Lt({customerContext:i,savedCommonContext:a},JR(o,e,t)))}),{addError:function(n,o){var i=n.error,a=n.handlingStack,s=n.startClocks,c=n.context,f=i instanceof Error?ls(i):void 0,u=rA({stackTrace:f,originalError:i,handlingStack:a,startClocks:s,nonErrorPrefix:"Provided",source:Wc.CUSTOM,handling:"handled"});r.notify(12,{customerContext:c,savedCommonContext:o,error:u})}}}function JR(r,e,t){var n={date:r.startClocks.timeStamp,error:{id:ni(),message:r.message,source:r.source,stack:r.stack,handling_stack:r.handlingStack,type:r.type,handling:r.handling,causes:r.causes,source_type:"browser"},type:"error"},o=e.isInForegroundAt(r.startClocks.relative);o&&(n.view={in_foreground:o});var i=t.findFeatureFlagEvaluations(r.startClocks.relative);return i&&!sa(i)&&(n.feature_flags=i),{rawRumEvent:n,startTime:r.startClocks.relative,domainContext:{error:r.originalError}}}function YR(r,e){r.subscribe(0,function(t){for(var n=0,o=t;n<o.length;n++){var i=o[n];if(i.entryType!=="longtask")break;var a=e.findTrackedSession(i.startTime);if(!a||!a.longTaskAllowed)break;var s=Em(i.startTime),c={date:s.timeStamp,long_task:{id:ni(),duration:xr(i.duration)},type:"long_task",_dd:{discarded:!1}};r.notify(10,{rawRumEvent:c,startTime:s.relative,domainContext:{performanceEntry:i.toJSON()}})}})}function ZR(r){if(!(!performance||!("getEntriesByName"in performance))){var e=performance.getEntriesByName(r.url,"resource");if(!(!e.length||!("toJSON"in e[0]))){var t=e.map(function(n){return n.toJSON()}).filter(SA).filter(function(n){return XR(n,r.startClocks.relative,jA({startTime:r.startClocks.relative,duration:r.duration}))});if(t.length===1)return t[0]}}}function jA(r){return uf(r.startTime,r.duration)}function XR(r,e,t){var n=1;return r.startTime>=e-n&&jA(r)<=uf(t,n)}function eO(r,e,t,n){r.subscribe(6,function(o){r.notify(10,tO(o,e,t,n))}),r.subscribe(0,function(o){for(var i=0,a=o;i<a.length;i++){var s=a[i];s.entryType==="resource"&&!wB(s)&&r.notify(10,rO(s,e,t,n))}})}function tO(r,e,t,n){var o,i=r.type==="xhr"?"xhr":"fetch",a=ZR(r),s=a?Em(a.startTime):r.startClocks,c=a?GA(a):void 0,f=nO(r,e),u=qA(t,s),h=xr(r.duration),w=oO(h,c?.resource.duration),T=KA(n,s,(o=a?.duration)!==null&&o!==void 0?o:r.duration),I=Ws({date:s.timeStamp,resource:{id:ni(),type:i,duration:h,method:r.method,status_code:r.status,url:r.url},type:"resource"},f,c,u,w,T);return{startTime:s.relative,rawRumEvent:I,domainContext:{performanceEntry:a&&a,xhr:r.xhr,response:r.response,requestInput:r.input,requestInit:r.init,error:r.error}}}function rO(r,e,t,n){var o=xB(r),i=GA(r),a=Em(r.startTime),s=iO(r,e),c=qA(t,a),f=KA(n,a,r.duration),u=Ws({date:a.timeStamp,resource:{id:ni(),type:o,url:r.name},type:"resource"},s,i,c,f);return{startTime:a.relative,rawRumEvent:u,domainContext:{performanceEntry:r}}}function GA(r){return{resource:Lt({duration:AB(r),size:_B(r)},EB(r))}}function nO(r,e){var t=r.traceSampled&&r.traceId&&r.spanId;if(!!t)return{_dd:{span_id:r.spanId.toDecimalString(),trace_id:r.traceId.toDecimalString(),rule_psr:zA(e)}}}function iO(r,e){var t=r.traceId;if(!!t)return{_dd:{trace_id:r.traceId,rule_psr:zA(e)}}}function oO(r,e){if(!!ma("resource_durations"))return{_dd:{computed_duration:r,performance_entry_duration:e,override_duration_diff:e?r-e:void 0}}}function zA(r){return $c(r.traceSampleRate)?r.traceSampleRate/100:void 0}function qA(r,e){var t=r.findTrackedSession(e.relative);return{_dd:{discarded:!t||!t.resourceAllowed}}}function KA(r,e,t){if(!!ma("resource_page_states"))return{_dd:{page_states:r.findAll(e.relative,t),page_was_discarded:String(document.wasDiscarded)}}}var Sl,Dx;function Dm(r){return r===void 0&&(r=window),Sl||(document.visibilityState==="hidden"?Sl={timeStamp:0}:(Sl={timeStamp:1/0},Dx=On(r,["pagehide","visibilitychange"],function(e){(e.type==="pagehide"||document.visibilityState==="hidden")&&(Sl.timeStamp=e.timeStamp,Dx())},{capture:!0}).stop)),Sl}var $A=10*Ai;function aO(r,e){var t={};function n(c){Lt(t,c),e(t)}var o=sO(r,n).stop,i=fO(r,function(c){return n({firstContentfulPaint:c})}).stop,a=cO(r,window,function(c){n({largestContentfulPaint:c})}).stop,s=lO(r,function(c){var f=c.firstInputDelay,u=c.firstInputTime;n({firstInputDelay:f,firstInputTime:u})}).stop;return{stop:function(){o(),i(),a(),s()}}}function sO(r,e){var t=r.subscribe(0,function(n){for(var o=0,i=n;o<i.length;o++){var a=i[o];a.entryType==="navigation"&&e({domComplete:a.domComplete,domContentLoaded:a.domContentLoadedEventEnd,domInteractive:a.domInteractive,loadEvent:a.loadEventEnd,firstByte:a.responseStart>=0&&a.responseStart<=Ji()?a.responseStart:void 0})}}).unsubscribe;return{stop:t}}function fO(r,e){var t=Dm(),n=r.subscribe(0,function(o){var i=Lu(o,function(a){return a.entryType==="paint"&&a.name==="first-contentful-paint"&&a.startTime<t.timeStamp&&a.startTime<$A});i&&e(i.startTime)}).unsubscribe;return{stop:n}}function cO(r,e,t){var n=Dm(),o=1/0,i=On(e,["pointerdown","keydown"],function(s){o=s.timeStamp},{capture:!0,once:!0}).stop,a=r.subscribe(0,function(s){var c=qM(s,function(f){return f.entryType==="largest-contentful-paint"&&f.startTime<o&&f.startTime<n.timeStamp&&f.startTime<$A});c&&t(c.startTime)}).unsubscribe;return{stop:function(){i(),a()}}}function lO(r,e){var t=Dm(),n=r.subscribe(0,function(o){var i=Lu(o,function(s){return s.entryType==="first-input"&&s.startTime<t.timeStamp});if(i){var a=ri(i.startTime,i.processingStart);e({firstInputDelay:a>=0?a:0,firstInputTime:i.startTime})}}).unsubscribe;return{stop:n}}function uO(r,e,t,n,o,i){var a={},s=dO(r,e,t,o,i,function(h){a.loadingTime=h,n()}),c=s.stop,f=s.setLoadEvent,u;return gO()?(a.cumulativeLayoutShift=0,u=hO(r,function(h){a.cumulativeLayoutShift=h,n()}).stop):u=Kr,{stop:function(){c(),u()},setLoadEvent:f,viewMetrics:a}}function dO(r,e,t,n,o,i){var a=n==="initial_load",s=!0,c=[];function f(){!s&&!a&&c.length>0&&i(Math.max.apply(Math,c))}var u=Om(r,e,t,function(h){s&&(s=!1,h.hadActivity&&c.push(ri(o.timeStamp,h.end)),f())}).stop;return{stop:u,setLoadEvent:function(h){a&&(a=!1,c.push(h),f())}}}function hO(r,e){var t=0,n=pO(),o=r.subscribe(0,function(i){for(var a=0,s=i;a<s.length;a++){var c=s[a];c.entryType==="layout-shift"&&!c.hadRecentInput&&(n.update(c),n.value()>t&&(t=n.value(),e(z4(t,4))))}}).unsubscribe;return{stop:o}}function pO(){var r=0,e,t;return{update:function(n){var o=e===void 0||n.startTime-t>=mi||n.startTime-e>=5*mi;o?(e=t=n.startTime,r=n.value):(r+=n.value,t=n.startTime)},value:function(){return r}}}function gO(){return Gd("layout-shift")}var vO=5*Ai;function bO(r,e,t){var n=RA({lifeCycle:r,isChildEvent:function(a){return a.view.id===e},onChange:t}),o=n.stop,i=n.eventCounts;return{scheduleStop:function(){Bn(o,vO)},eventCounts:i}}var mO=3e3,yO=5*Ai;function xO(r,e,t,n,o,i,a){var s=T(a),c=s.stop,f=s.initialView,u=f,h=R().stop,w;i&&(w=P(o));function T(B){var O=Ux(e,t,n,r,"initial_load",Y4(),B),H=aO(e,function($){O.updateTimings($),O.scheduleUpdate()}).stop;return{initialView:O,stop:H}}function I(B,O){return Ux(e,t,n,r,"route_change",B,O)}function R(){e.subscribe(8,function(){u.end(),u=I(void 0,{name:u.name,service:u.service,version:u.version})}),e.subscribe(9,function(O){(O.reason===Os.UNLOADING||O.reason===Os.PAGEHIDE)&&(u.end(),u.triggerUpdate())});var B=window.setInterval(rt(function(){u.triggerUpdate()}),yO);return{stop:function(){clearInterval(B)}}}function P(B){return B.subscribe(function(O){var H=O.oldLocation,$=O.newLocation;if(AO(H,$)){u.end(),u.triggerUpdate(),u=I();return}})}return{addTiming:function(B,O){O===void 0&&(O=Ur()),u.addTiming(B,O),u.scheduleUpdate()},startView:function(B,O){u.end(O),u.triggerUpdate(),u=I(O,B)},stop:function(){w?.unsubscribe(),c(),h(),u.end()}}}function Ux(r,e,t,n,o,i,a){i===void 0&&(i=ei());var s=ni(),c={},f={},u=0,h,w=yu(n),T,I,R;a&&(T=a.name,I=a.service,R=a.version),r.notify(2,{id:s,name:T,startClocks:i,service:I,version:R});var P=qc(be,mO,{leading:!1}),B=P.throttled,O=P.cancel,H=uO(r,e,t,B,o,i),$=H.setLoadEvent,J=H.stop,ie=H.viewMetrics,we=bO(r,s,B),de=we.scheduleStop,ce=we.eventCounts;be();function be(){u+=1;var L=h===void 0?Ur():h.timeStamp;r.notify(3,Lt({customTimings:f,documentVersion:u,id:s,name:T,service:I,version:R,loadingType:o,location:w,startClocks:i,timings:c,duration:ri(i.timeStamp,L),isActive:h===void 0,eventCounts:ce},ie))}return{name:T,service:I,version:R,scheduleUpdate:B,end:function(L){L===void 0&&(L=ei()),h=L,r.notify(4,{endClocks:h}),J(),de()},triggerUpdate:function(){O(),be()},updateTimings:function(L){c=L,L.loadEvent!==void 0&&$(L.loadEvent)},addTiming:function(L,S){var v=fI(S)?S:ri(i.timeStamp,S);f[wO(L)]=v}}}function wO(r){var e=r.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return e!==r&&bt.warn("Invalid timing name: ".concat(r,", sanitized to: ").concat(e)),e}function AO(r,e){return r.pathname!==e.pathname||!EO(e.hash)&&Fx(e.hash)!==Fx(r.hash)}function EO(r){var e=r.substr(1);return!!document.getElementById(e)}function Fx(r){var e=r.indexOf("?");return e<0?r:r.slice(0,e)}function _O(r,e,t,n,o,i,a,s,c){return r.subscribe(3,function(f){return r.notify(10,SO(f,i,a,s))}),xO(t,r,n,e,o,!e.trackViewsManually,c)}function SO(r,e,t,n){var o=n.getReplayStats(r.id),i=t.findFeatureFlagEvaluations(r.startClocks.relative),a={_dd:{document_version:r.documentVersion,replay_stats:o},date:r.startClocks.timeStamp,type:"view",view:{action:{count:r.eventCounts.actionCount},frustration:{count:r.eventCounts.frustrationCount},cumulative_layout_shift:r.cumulativeLayoutShift,first_byte:xr(r.timings.firstByte),dom_complete:xr(r.timings.domComplete),dom_content_loaded:xr(r.timings.domContentLoaded),dom_interactive:xr(r.timings.domInteractive),error:{count:r.eventCounts.errorCount},first_contentful_paint:xr(r.timings.firstContentfulPaint),first_input_delay:xr(r.timings.firstInputDelay),first_input_time:xr(r.timings.firstInputTime),is_active:r.isActive,name:r.name,largest_contentful_paint:xr(r.timings.largestContentfulPaint),load_event:xr(r.timings.loadEvent),loading_time:TO(xr(r.loadingTime)),loading_type:r.loadingType,long_task:{count:r.eventCounts.longTaskCount},resource:{count:r.eventCounts.resourceCount},time_spent:xr(r.duration),in_foreground_periods:e.selectInForegroundPeriodsFor(r.startClocks.relative,r.duration)},feature_flags:i&&!sa(i)?i:void 0,session:{has_replay:o?!0:void 0}};return sa(r.customTimings)||(a.view.custom_timings=$M(r.customTimings,xr)),{rawRumEvent:a,startTime:r.startClocks.relative,domainContext:{location:r.location}}}function TO(r){return $c(r)&&r<0?void 0:r}var kO="rum";function CO(r,e){var t=AP(r.cookieOptions,kO,function(n){return IO(r,n)});return t.expireObservable.subscribe(function(){e.notify(7)}),t.renewObservable.subscribe(function(){e.notify(8)}),{findTrackedSession:function(n){var o=t.findActiveSession(n);if(!(!o||!WA(o.trackingType))){var i=o.trackingType==="1"?2:1;return{id:o.id,plan:i,sessionReplayAllowed:i===2,longTaskAllowed:r.trackLongTasks!==void 0?r.trackLongTasks:r.oldPlansBehavior&&i===2,resourceAllowed:r.trackResources!==void 0?r.trackResources:r.oldPlansBehavior&&i===2}}}}}function MO(){var r={id:"00000000-aaaa-0000-aaaa-000000000000",plan:1,sessionReplayAllowed:!1,longTaskAllowed:!0,resourceAllowed:!0};return{findTrackedSession:function(){return r}}}function IO(r,e){var t;return PO(e)?t=e:Ac(r.sessionSampleRate)?Ac(r.sessionReplaySampleRate)?t="1":t="2":t="0",{trackingType:t,isTracked:WA(t)}}function PO(r){return r==="0"||r==="1"||r==="2"}function WA(r){return r==="2"||r==="1"}function BO(r,e,t,n,o){var i=RO(r,n,o);return e.subscribe(11,function(a){a.type==="view"?i.upsert(a,a.view.id):i.add(a)}),t.subscribe(function(a){return i.add(a,tP(r))}),i}function RO(r,e,t){var n=a(r.rumEndpointBuilder),o,i=r.replica;i!==void 0&&(o=a(i.rumEndpointBuilder));function a(c){return new NP(yA(c,r.batchBytesLimit,e),r.batchMessagesLimit,r.batchBytesLimit,r.messageBytesLimit,r.flushTimeout,t)}function s(c){return Ws(c,{application:{id:i.applicationId}})}return{flushObservable:n.flushObservable,add:function(c,f){f===void 0&&(f=!0),n.add(c),o&&f&&o.add(s(c))},upsert:function(c,f){n.upsert(c,f),o&&o.upsert(s(c),f)}}}function OO(r){var e=km();r.subscribe(11,function(t){e.send("rum",t)})}var NO=Gu;function LO(r,e,t){var n=new ju(NO),o;r.subscribe(4,function(s){var c=s.endClocks;n.closeActive(c.relative)}),r.subscribe(2,function(s){var c=s.startClocks,f=t.href;n.add(a({url:f,referrer:o||document.referrer}),c.relative),o=f});var i=e.subscribe(function(s){var c=s.newLocation,f=n.find();if(f){var u=Ji();n.closeActive(u),n.add(a({url:c.href,referrer:f.referrer}),u)}});function a(s){var c=s.url,f=s.referrer;return{url:c,referrer:f}}return{findUrl:function(s){return n.find(s)},stop:function(){i.unsubscribe(),n.stop()}}}function DO(r){var e=yu(r),t=new Hr(function(){var o=UO(n).stop,i=FO(n).stop;return function(){o(),i()}});function n(){if(e.href!==r.href){var o=yu(r);t.notify({newLocation:o,oldLocation:e}),e=o}}return t}function UO(r){var e=Zn(history,"pushState",{after:r}).stop,t=Zn(history,"replaceState",{after:r}).stop,n=Pn(window,"popstate",r).stop;return{stop:function(){e(),t(),n()}}}function FO(r){return Pn(window,"hashchange",r)}var HO=Gu;function VO(r,e){if(e===void 0&&(e=Fd),!ma("feature_flags"))return{findFeatureFlagEvaluations:function(){},getFeatureFlagBytesCount:function(){return 0},addFeatureFlagEvaluation:Kr};var t=new ju(HO),n;return r.subscribe(4,function(o){var i=o.endClocks;t.closeActive(i.relative)}),r.subscribe(2,function(o){var i=o.startClocks;t.add({},i.relative),n=void 0}),{findFeatureFlagEvaluations:function(o){return t.find(o)},getFeatureFlagBytesCount:function(){var o=t.find();return o?(n===void 0&&(n=e(Kc(o))),n):0},addFeatureFlagEvaluation:function(o,i){var a=t.find();a&&(a[o]=es(i),n=void 0)}}}var jO=10*mi,Zo,Ms,gb;function GO(r,e,t,n,o,i,a){var s=e.enabled&&Ac(r.customerDataTelemetrySampleRate);!s||(QA(),Hx(),t.subscribe(11,function(c){gb=!0,Tl(Ms.globalContextBytes,sa(n.get())?0:n.getBytesCount()),Tl(Ms.userContextBytes,sa(o.get())?0:o.getBytesCount());var f=i.findFeatureFlagEvaluations(),u=Po(["view","error"],c.type)&&f&&!sa(f);Tl(Ms.featureFlagBytes,u?i.getFeatureFlagBytesCount():0)}),a.subscribe(function(c){var f=c.bufferBytesCount,u=c.bufferMessagesCount;!gb||(Zo.batchCount+=1,Tl(Zo.batchBytesCount,f),Tl(Zo.batchMessagesCount,u),G1(Zo.globalContextBytes,Ms.globalContextBytes),G1(Zo.userContextBytes,Ms.userContextBytes),G1(Zo.featureFlagBytes,Ms.featureFlagBytes),Hx())}),setInterval(rt(zO),jO))}function zO(){Zo.batchCount!==0&&(Vu("Customer data measures",Zo),QA())}function Ka(){return{min:1/0,max:0,sum:0}}function Tl(r,e){r.sum+=e,r.min=Math.min(r.min,e),r.max=Math.max(r.max,e)}function G1(r,e){r.sum+=e.sum,r.min=Math.min(r.min,e.min),r.max=Math.max(r.max,e.max)}function QA(){Zo={batchCount:0,batchBytesCount:Ka(),batchMessagesCount:Ka(),globalContextBytes:Ka(),userContextBytes:Ka(),featureFlagBytes:Ka()}}function Hx(){gb=!1,Ms={globalContextBytes:Ka(),userContextBytes:Ka(),featureFlagBytes:Ka()}}var qO=500,ac=[],z1;function KO(){H0(Vx());var r=On(window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],function(e){!e.isTrusted||(e.type==="freeze"?H0("frozen"):e.type==="pagehide"?H0(e.persisted?"frozen":"terminated"):H0(Vx()))},{capture:!0}).stop;return{findAll:function(e,t){for(var n=[],o=uf(e,t),i=ac.length-1;i>=0;i--){var a=ac[i].startTime;if(!(a>=o)&&(n.unshift(ac[i]),a<e))break}return n.length?n:void 0},stop:r}}function Vx(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function H0(r,e){e===void 0&&(e=qO),r!==z1&&(z1=r,ac.length===e&&ac.shift(),ac.push({state:z1,startTime:Ji()}))}function $O(r,e,t,n,o,i){var a=new tR;a.subscribe(11,function(L){return Vd("rum",L)});var s=WO(e);s.setContextProvider(function(){var L,S;return{application:{id:e.applicationId},session:{id:(L=w.findTrackedSession())===null||L===void 0?void 0:L.id},view:{id:(S=P.findView())===null||S===void 0?void 0:S.id},action:{id:H.findActionId()}}});var c=function(L){a.notify(12,{error:L})},f=VO(a);if(Tc())OO(a);else{var u=KP();u.subscribe(function(L){a.notify(9,L)});var h=BO(e,a,s.observable,c,u);GO(e,s,a,n,o,f,h.flushObservable)}var w=Tc()?MO():CO(e,a),T=mB(),I=DO(location),R=QO(a,e,location,w,I,T,function(){return hb(n,o,t)},c),P=R.viewContexts,B=R.foregroundContexts,O=R.urlContexts,H=R.actionContexts,$=R.addAction;rP(vB(r)),YR(a,w);var J=KO();eO(a,e,w,J);var ie=_O(a,e,location,T,I,B,f,t,i),we=ie.addTiming,de=ie.startView,ce=WR(a,B,f).addError;iR(a,e,w),BB(a,e);var be=eR(e.applicationId,w,P,H,O);return{addAction:$,addError:ce,addTiming:we,addFeatureFlagEvaluation:f.addFeatureFlagEvaluation,startView:de,lifeCycle:a,viewContexts:P,session:w,getInternalContext:be.get}}function WO(r){var e=eP("browser-rum-sdk",r);if(Tc()){var t=km();e.observable.subscribe(function(n){return t.send("internal_telemetry",n)})}return e}function QO(r,e,t,n,o,i,a,s){var c=nR(r),f=LO(r,o,t),u=WB(),h=qR(r,i,e,u),w=h.addAction,T=h.actionContexts;return GB(e,r,n,c,f,T,a,s),{viewContexts:c,foregroundContexts:u,urlContexts:f,addAction:w,actionContexts:T,stop:function(){c.stop(),u.stop()}}}var Ui={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},Qs={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},Xo={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},Ni={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},jx={Play:0,Pause:1},At={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:ru.ALLOW,MASK:ru.MASK,MASK_USER_INPUT:ru.MASK_USER_INPUT},Um="data-dd-privacy",JO="allow",YO="mask",ZO="mask-user-input",JA="hidden",XO="dd-privacy-allow",eN="dd-privacy-mask",tN="dd-privacy-mask-user-input",rN="dd-privacy-hidden",Fs="***",nN="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",iN={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},oN=1e5,aN="x";function ya(r,e){var t=Lh(r),n=t?ya(t,e):e,o=ZA(r);return YA(o,n)}function YA(r,e){switch(e){case At.HIDDEN:case At.IGNORE:return e}switch(r){case At.ALLOW:case At.MASK:case At.MASK_USER_INPUT:case At.HIDDEN:case At.IGNORE:return r;default:return e}}function ZA(r){if(!!Pm(r)){var e=r.getAttribute(Um);if(r.tagName==="BASE")return At.ALLOW;if(r.tagName==="INPUT"){var t=r;if(t.type==="password"||t.type==="email"||t.type==="tel"||t.type==="hidden")return At.MASK;var n=t.getAttribute("autocomplete");if(n&&n.indexOf("cc-")===0)return At.MASK}if(e===JA||r.classList.contains(rN))return At.HIDDEN;if(e===YO||r.classList.contains(eN))return At.MASK;if(e===ZO||r.classList.contains(tN))return At.MASK_USER_INPUT;if(e===JO||r.classList.contains(XO))return At.ALLOW;if(fN(r))return At.IGNORE}}function Dh(r,e){switch(e){case At.MASK:case At.HIDDEN:case At.IGNORE:return!0;case At.MASK_USER_INPUT:return kA(r)?Gx(r.parentNode):Gx(r);default:return!1}}function Gx(r){if(!r||r.nodeType!==r.ELEMENT_NODE)return!1;var e=r;if(e.tagName==="INPUT")switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!iN[e.tagName]}var sN=function(r){return r.replace(/\S/g,aN)};function XA(r,e,t){var n,o=(n=r.parentElement)===null||n===void 0?void 0:n.tagName,i=r.textContent||"";if(!(e&&!i.trim())){var a=t,s=o==="STYLE"?!0:void 0,c=o==="SCRIPT";if(c)i=Fs;else if(a===At.HIDDEN)i=Fs;else if(Dh(r,a)&&!s)if(o==="DATALIST"||o==="SELECT"||o==="OPTGROUP"){if(!i.trim())return}else o==="OPTION"?i=Fs:i=sN(i);return i}}function fN(r){if(r.nodeName==="SCRIPT")return!0;if(r.nodeName==="LINK"){var e=o("rel");return/preload|prefetch/i.test(e)&&o("as")==="script"||e==="shortcut icon"||e==="icon"}if(r.nodeName==="META"){var t=o("name"),e=o("rel"),n=o("property");return/^msapplication-tile(image|color)$/.test(t)||t==="application-name"||e==="icon"||e==="apple-touch-icon"||e==="shortcut icon"||t==="keywords"||t==="description"||/^(og|twitter|fb):/.test(n)||/^(og|twitter):/.test(t)||t==="pinterest"||t==="robots"||t==="googlebot"||t==="bingbot"||r.hasAttribute("http-equiv")||t==="author"||t==="generator"||t==="framework"||t==="publisher"||t==="progid"||/^article:/.test(n)||/^product:/.test(n)||t==="google-site-verification"||t==="yandex-verification"||t==="csrf-token"||t==="p:domain_verify"||t==="verify-v1"||t==="verification"||t==="shopify-checkout-api-token"}function o(i){return(r.getAttribute(i)||"").toLowerCase()}return!1}var Fm=new WeakMap;function ko(r){return Fm.has(r)}function cN(r){for(var e=r;e;){if(!ko(e)&&!Bm(e))return!1;e=Lh(e)}return!0}function In(r){return Fm.get(r)}function lN(r,e){Fm.set(r,e)}function Hm(r,e){var t=r.tagName,n=r.value;if(Dh(r,e)){var o=r.type;return t==="INPUT"&&(o==="button"||o==="submit"||o==="reset")?n:!n||t==="OPTION"?void 0:Fs}if(t==="OPTION"||t==="SELECT")return r.value;if(!(t!=="INPUT"&&t!=="TEXTAREA"))return n}var uN=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,dN=/^[A-Za-z]+:|^\/\//,hN=/^data:.*,/i;function pN(r,e){return r.replace(uN,function(t,n,o,i,a,s){var c=o||a||s;if(!e||!c||dN.test(c)||hN.test(c))return t;var f=n||i||"";return"url(".concat(f).concat(gN(c,e)).concat(f,")")})}function gN(r,e){try{return Fu(r,e).href}catch{return r}}function e5(r){if(!(r===void 0||r.length===0))return r.map(function(e){var t=e.cssRules||e.rules,n=Array.from(t,function(i){return i.cssText}),o={cssRules:n,disabled:e.disabled||void 0,media:e.media.length>0?Array.from(e.media):void 0};return o})}function vN(r,e,t){return Uh(r,{serializationContext:t,parentNodePrivacyLevel:e.defaultPrivacyLevel,configuration:e})}function Uh(r,e){var t=bN(r,e);if(!t)return null;var n=In(r)||SN(),o=t;return o.id=n,lN(r,n),e.serializedNodeIds&&e.serializedNodeIds.add(n),o}function bN(r,e){switch(r.nodeType){case r.DOCUMENT_NODE:return mN(r,e);case r.DOCUMENT_FRAGMENT_NODE:return xN(r,e);case r.DOCUMENT_TYPE_NODE:return yN(r);case r.ELEMENT_NODE:return wN(r,e);case r.TEXT_NODE:return AN(r,e);case r.CDATA_SECTION_NODE:return EN()}}function mN(r,e){return{type:Qs.Document,childNodes:Vm(r,e),adoptedStyleSheets:e5(r.adoptedStyleSheets)}}function yN(r){return{type:Qs.DocumentType,name:r.name,publicId:r.publicId,systemId:r.systemId}}function xN(r,e){var t=[];r.childNodes.length&&(t=Vm(r,e));var n=Bm(r);return n&&e.serializationContext.shadowRootsController.addShadowRoot(r),{type:Qs.DocumentFragment,childNodes:t,isShadowRoot:n,adoptedStyleSheets:n?e5(r.adoptedStyleSheets):void 0}}function wN(r,e){var t,n=r5(r.tagName),o=MN(r)||void 0,i=YA(ZA(r),e.parentNodePrivacyLevel);if(i===At.HIDDEN){var a=r.getBoundingClientRect(),s=a.width,c=a.height;return{type:Qs.Element,tagName:n,attributes:(t={rr_width:"".concat(s,"px"),rr_height:"".concat(c,"px")},t[Um]=JA,t),childNodes:[],isSVG:o}}if(i!==At.IGNORE){var f=IN(r,i,e),u=[];if(r.childNodes.length){var h=void 0;e.parentNodePrivacyLevel===i&&e.ignoreWhiteSpace===(n==="head")?h=e:h=Lt({},e,{parentNodePrivacyLevel:i,ignoreWhiteSpace:n==="head"}),u=Vm(r,h)}if(Nh(r)){var w=Uh(r.shadowRoot,e);w!==null&&u.push(w)}return{type:Qs.Element,tagName:n,attributes:f,childNodes:u,isSVG:o}}}function AN(r,e){var t,n=(t=r.parentElement)===null||t===void 0?void 0:t.tagName,o=XA(r,e.ignoreWhiteSpace||!1,e.parentNodePrivacyLevel);if(!!o)return{type:Qs.Text,textContent:o,isStyle:n==="STYLE"?!0:void 0}}function EN(){return{type:Qs.CDATA,textContent:""}}function Vm(r,e){var t=[];return r.childNodes.forEach(function(n){var o=Uh(n,e);o&&t.push(o)}),t}function t5(r,e,t,n){if(e===At.HIDDEN)return null;var o=r.getAttribute(t);if(e===At.MASK&&t!==Um&&!UA.includes(t)&&t!==n.actionNameAttribute){var i=r.tagName;switch(t){case"title":case"alt":case"placeholder":return Fs}if((i==="IMG"||i==="SOURCE")&&(t==="src"||t==="srcset"))return nN;if(i==="A"&&t==="href"||o&&Rh(t,"data-"))return Fs}return!o||typeof o!="string"?o:o.length>oN&&o.slice(0,5)==="data:"?"data:truncated":o}var _N=1;function SN(){return _N++}var TN=/[^a-z1-6-_]/;function r5(r){var e=r.toLowerCase().trim();return TN.test(e)?"div":e}function vb(r){if(!r)return null;var e;try{e=r.rules||r.cssRules}catch{}if(!e)return null;var t=Array.from(e,kN).join("");return pN(t,r.href)}function kN(r){return CN(r)?vb(r.styleSheet)||"":r.cssText}function CN(r){return"styleSheet"in r}function MN(r){return r.tagName==="svg"||r instanceof SVGElement}function IN(r,e,t){var n;if(e===At.HIDDEN)return{};for(var o={},i=r5(r.tagName),a=r.ownerDocument,s=0;s<r.attributes.length;s+=1){var c=r.attributes.item(s),f=c.name,u=t5(r,e,f,t.configuration);u!==null&&(o[f]=u)}if(r.value&&(i==="textarea"||i==="select"||i==="option"||i==="input")){var h=Hm(r,e);h!==void 0&&(o.value=h)}if(i==="option"&&e===At.ALLOW){var w=r;w.selected&&(o.selected=w.selected)}if(i==="link"){var T=Array.from(a.styleSheets).find(function($){return $.href===r.href}),I=vb(T);I&&T&&(o._cssText=I)}if(i==="style"&&r.sheet&&!(r.innerText||r.textContent||"").trim().length){var I=vb(r.sheet);I&&(o._cssText=I)}var R=r;if(i==="input"&&(R.type==="radio"||R.type==="checkbox")&&(e===At.ALLOW?o.checked=!!R.checked:Dh(R,e)&&delete o.checked),i==="audio"||i==="video"){var P=r;o.rr_mediaState=P.paused?"paused":"played"}var B,O,H=t.serializationContext;switch(H.status){case 0:B=Math.round(r.scrollTop),O=Math.round(r.scrollLeft),(B||O)&&H.elementsScrollPositions.set(r,{scrollTop:B,scrollLeft:O});break;case 1:H.elementsScrollPositions.has(r)&&(n=H.elementsScrollPositions.get(r),B=n.scrollTop,O=n.scrollLeft);break}return O&&(o.rr_scrollLeft=O),B&&(o.rr_scrollTop=B),o}function n5(r){return Boolean(r.changedTouches)}function Ga(r,e){return{data:Lt({source:r},e),type:Ui.IncrementalSnapshot,timestamp:Ur()}}function zx(r){for(var e=[],t=r;t.parentRule;){var n=Array.from(t.parentRule.cssRules),o=n.indexOf(t);e.unshift(o),t=t.parentRule}if(!!t.parentStyleSheet){var i=Array.from(t.parentStyleSheet.cssRules),a=i.indexOf(t);return e.unshift(a),e}}var qx=25;function PN(){var r=window.visualViewport;return Math.abs(r.pageTop-r.offsetTop-window.scrollY)>qx||Math.abs(r.pageLeft-r.offsetLeft-window.scrollX)>qx}var BN=function(r,e){var t=window.visualViewport,n={layoutViewportX:r,layoutViewportY:e,visualViewportX:r,visualViewportY:e};if(t)PN()?(n.layoutViewportX=Math.round(r+t.offsetLeft),n.layoutViewportY=Math.round(e+t.offsetTop)):(n.visualViewportX=Math.round(r-t.offsetLeft),n.visualViewportY=Math.round(e-t.offsetTop));else return n;return n},i5=function(){var r=window.visualViewport;return{scale:r.scale,offsetLeft:r.offsetLeft,offsetTop:r.offsetTop,pageLeft:r.pageLeft,pageTop:r.pageTop,height:r.height,width:r.width}};function o5(){var r,e=window.visualViewport;return e?r=e.pageLeft-e.offsetLeft:window.scrollX!==void 0?r=window.scrollX:r=window.pageXOffset||0,Math.round(r)}function a5(){var r,e=window.visualViewport;return e?r=e.pageTop-e.offsetTop:window.scrollY!==void 0?r=window.scrollY:r=window.pageYOffset||0,Math.round(r)}function RN(r,e){Array.prototype.forEach.call(r,e)}function zu(r){return r.composed===!0&&Nh(r.target)?r.composedPath()[0]:r.target}var q1=new WeakMap,ON=1;function s5(r){return q1.has(r)||q1.set(r,ON++),q1.get(r)}var NN=50;function LN(r){var e=qc(function(t){var n=zu(t);if(ko(n)){var o=f5(t);if(!o)return;var i={id:In(n),timeOffset:0,x:o.x,y:o.y};r([i],n5(t)?Xo.TouchMove:Xo.MouseMove)}},NN,{trailing:!1}).throttled;return On(document,["mousemove","touchmove"],e,{capture:!0,passive:!0}).stop}function f5(r){var e=n5(r)?r.changedTouches[0]:r,t=e.clientX,n=e.clientY;if(window.visualViewport){var o=BN(t,n),i=o.visualViewportX,a=o.visualViewportY;t=i,n=a}if(!Number.isFinite(t)||!Number.isFinite(n)){r.isTrusted&&Vu("mouse/touch event without x/y");return}return{x:t,y:n}}var DN=100;function UN(r,e,t){var n=qc(function(o){var i=zu(o);if(!(!i||ya(i,e)===At.HIDDEN||!ko(i))){var a=In(i),s=i===document?{scrollTop:a5(),scrollLeft:o5()}:{scrollTop:Math.round(i.scrollTop),scrollLeft:Math.round(i.scrollLeft)};t.set(i,s),r({id:a,x:s.scrollLeft,y:s.scrollTop})}},DN).throttled;return Pn(document,"scroll",n,{capture:!0,passive:!0}).stop}var Ii,Kx=(Ii={},Ii.pointerup=Ni.MouseUp,Ii.mousedown=Ni.MouseDown,Ii.click=Ni.Click,Ii.contextmenu=Ni.ContextMenu,Ii.dblclick=Ni.DblClick,Ii.focus=Ni.Focus,Ii.blur=Ni.Blur,Ii.touchstart=Ni.TouchStart,Ii.touchend=Ni.TouchEnd,Ii);function FN(r,e){var t=function(n){var o=zu(n);if(!(ya(o,e)===At.HIDDEN||!ko(o))){var i=In(o),a=Kx[n.type],s;if(a!==Ni.Blur&&a!==Ni.Focus){var c=f5(n);if(!c)return;s={id:i,type:a,x:c.x,y:c.y}}else s={id:i,type:a};var f=Lt({id:s5(n)},Ga(Xo.MouseInteraction,s));r(f)}};return On(document,Object.keys(Kx),t,{capture:!0,passive:!0}).stop}function c5(r,e,t){var n=t===void 0?{}:t,o=n.domEvents,i=o===void 0?["input","change"]:o,a=n.target,s=a===void 0?document:a,c=new WeakMap;function f(T){var I=ya(T,e);if(I!==At.HIDDEN){var R=T.type,P;if(R==="radio"||R==="checkbox"){if(Dh(T,I))return;P={isChecked:T.checked}}else{var B=Hm(T,I);if(B===void 0)return;P={text:B}}u(T,P);var O=T.name;R==="radio"&&O&&T.checked&&RN(document.querySelectorAll('input[type="radio"][name="'.concat(O,'"]')),function(H){H!==T&&u(H,{isChecked:!1})})}}function u(T,I){if(!!ko(T)){var R=c.get(T);(!R||R.text!==I.text||R.isChecked!==I.isChecked)&&(c.set(T,I),r(Lt({id:In(T)},I)))}}var h=On(s,i,function(T){var I=zu(T);(I instanceof HTMLInputElement||I instanceof HTMLTextAreaElement||I instanceof HTMLSelectElement)&&f(I)},{capture:!0,passive:!0}).stop,w=[El(HTMLInputElement.prototype,"value",f),El(HTMLInputElement.prototype,"checked",f),El(HTMLSelectElement.prototype,"value",f),El(HTMLTextAreaElement.prototype,"value",f),El(HTMLSelectElement.prototype,"selectedIndex",f)];return function(){w.forEach(function(T){return T.stop()}),h()}}function HN(r){function e(o,i){o&&ko(o.ownerNode)&&i(In(o.ownerNode))}var t=[Zn(CSSStyleSheet.prototype,"insertRule",{before:function(o,i){e(this,function(a){return r({id:a,adds:[{rule:o,index:i}]})})}}),Zn(CSSStyleSheet.prototype,"deleteRule",{before:function(o){e(this,function(i){return r({id:i,removes:[{index:o}]})})}})];typeof CSSGroupingRule<"u"?n(CSSGroupingRule):(n(CSSMediaRule),n(CSSSupportsRule));function n(o){t.push(Zn(o.prototype,"insertRule",{before:function(i,a){var s=this;e(this.parentStyleSheet,function(c){var f=zx(s);f&&(f.push(a||0),r({id:c,adds:[{rule:i,index:f}]}))})}}),Zn(o.prototype,"deleteRule",{before:function(i){var a=this;e(this.parentStyleSheet,function(s){var c=zx(a);c&&(c.push(i),r({id:s,removes:[{index:c}]}))})}}))}return function(){return t.forEach(function(o){return o.stop()})}}function VN(r,e){var t=function(n){var o=zu(n);!o||ya(o,e)===At.HIDDEN||!ko(o)||r({id:In(o),type:n.type==="play"?jx.Play:jx.Pause})};return On(document,["play","pause"],t,{capture:!0,passive:!0}).stop}function jN(r,e){return r.subscribe(10,function(t){var n,o,i;t.rawRumEvent.type==="action"&&t.rawRumEvent.action.type==="click"&&((o=(n=t.rawRumEvent.action.frustration)===null||n===void 0?void 0:n.type)===null||o===void 0?void 0:o.length)&&"events"in t.domainContext&&((i=t.domainContext.events)===null||i===void 0?void 0:i.length)&&e({timestamp:t.rawRumEvent.date,type:Ui.FrustrationRecord,data:{frustrationTypes:t.rawRumEvent.action.frustration.type,recordIds:t.domainContext.events.map(function(a){return s5(a)})}})}).unsubscribe}var GN=200;function zN(r){return IA().subscribe(r).unsubscribe}function qN(r){if(!window.visualViewport)return Kr;var e=qc(function(){r(i5())},GN,{trailing:!1}),t=e.throttled,n=e.cancel,o=On(window.visualViewport,["resize","scroll"],t,{capture:!0,passive:!0}).stop;return function(){o(),n()}}var KN=100;function $N(r){var e=Kr,t=[];function n(){e(),r(t),t=[]}return{addMutations:function(o){t.length===0&&(e=ZM(n,{timeout:KN})),t.push.apply(t,o)},flush:n,stop:function(){e()}}}function l5(r,e,t,n){var o=EA();if(!o)return{stop:Kr,flush:Kr};var i=$N(function(s){WN(s.concat(a.takeRecords()),r,e,t,n)}),a=new o(rt(i.addMutations));return a.observe(n,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){a.disconnect(),i.stop()},flush:function(){i.flush()}}}function WN(r,e,t,n,o){r.filter(function(w){return w.type==="childList"}).forEach(function(w){w.removedNodes.forEach(function(T){u5(T,n.removeShadowRoot)})});var i=r.filter(function(w){return o.contains(w.target)&&cN(w.target)&&ya(w.target,t.defaultPrivacyLevel)!==At.HIDDEN}),a=QN(i.filter(function(w){return w.type==="childList"}),t,n),s=a.adds,c=a.removes,f=a.hasBeenSerialized,u=JN(i.filter(function(w){return w.type==="characterData"&&!f(w.target)}),t),h=YN(i.filter(function(w){return w.type==="attributes"&&!f(w.target)}),t);!u.length&&!h.length&&!c.length&&!s.length||e({adds:s,removes:c,texts:u,attributes:h})}function QN(r,e,t){for(var n=new Set,o=new Map,i=function(J){J.addedNodes.forEach(function(ie){n.add(ie)}),J.removedNodes.forEach(function(ie){n.has(ie)||o.set(ie,J.target),n.delete(ie)})},a=0,s=r;a<s.length;a++){var c=s[a];i(c)}var f=Array.from(n);ZN(f);for(var u=new Set,h=[],w=0,T=f;w<T.length;w++){var I=T[w];if(!H(I)){var R=ya(I.parentNode,e.defaultPrivacyLevel);if(!(R===At.HIDDEN||R===At.IGNORE)){var P=Uh(I,{serializedNodeIds:u,parentNodePrivacyLevel:R,serializationContext:{status:2,shadowRootsController:t},configuration:e});if(!!P){var B=Lh(I);h.push({nextId:$(I),parentId:In(B),node:P})}}}}var O=[];return o.forEach(function(J,ie){ko(ie)&&O.push({parentId:In(J),id:In(ie)})}),{adds:h,removes:O,hasBeenSerialized:H};function H(J){return ko(J)&&u.has(In(J))}function $(J){for(var ie=J.nextSibling;ie;){if(ko(ie))return In(ie);ie=ie.nextSibling}return null}}function JN(r,e){for(var t,n=[],o=new Set,i=r.filter(function(h){return o.has(h.target)?!1:(o.add(h.target),!0)}),a=0,s=i;a<s.length;a++){var c=s[a],f=c.target.textContent;if(f!==c.oldValue){var u=ya(Lh(c.target),e.defaultPrivacyLevel);u===At.HIDDEN||u===At.IGNORE||n.push({id:In(c.target),value:(t=XA(c.target,!1,u))!==null&&t!==void 0?t:null})}}return n}function YN(r,e){for(var t=[],n=new Map,o=r.filter(function(R){var P=n.get(R.target);return P?.has(R.attributeName)?!1:(P?P.add(R.attributeName):n.set(R.target,new Set([R.attributeName])),!0)}),i=new Map,a=0,s=o;a<s.length;a++){var c=s[a],f=c.target.getAttribute(c.attributeName);if(f!==c.oldValue){var u=ya(c.target,e.defaultPrivacyLevel),h=t5(c.target,u,c.attributeName,e),w=void 0;if(c.attributeName==="value"){var T=Hm(c.target,u);if(T===void 0)continue;w=T}else typeof h=="string"?w=h:w=null;var I=i.get(c.target);I||(I={id:In(c.target),attributes:{}},t.push(I),i.set(c.target,I)),I.attributes[c.attributeName]=w}}return t}function ZN(r){r.sort(function(e,t){var n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0})}function u5(r,e){Nh(r)&&e(r.shadowRoot),TB(r).forEach(function(t){return u5(t,e)})}function XN(r){return On(window,["focus","blur"],function(){r({has_focus:document.hasFocus()})}).stop}function eL(r){var e=l5(r.mutationCb,r.configuration,r.shadowRootsController,document),t=LN(r.mousemoveCb),n=FN(r.mouseInteractionCb,r.configuration.defaultPrivacyLevel),o=UN(r.scrollCb,r.configuration.defaultPrivacyLevel,r.elementsScrollPositions),i=zN(r.viewportResizeCb),a=c5(r.inputCb,r.configuration.defaultPrivacyLevel),s=VN(r.mediaInteractionCb,r.configuration.defaultPrivacyLevel),c=HN(r.styleSheetCb),f=XN(r.focusCb),u=qN(r.visualViewportResizeCb),h=jN(r.lifeCycle,r.frustrationCb);return{flush:function(){e.flush()},stop:function(){e.stop(),t(),n(),o(),i(),a(),s(),c(),f(),u(),h()}}}function tL(){var r=new WeakMap;return{set:function(e,t){e===document&&!document.scrollingElement||r.set(e===document?document.scrollingElement:e,t)},get:function(e){return r.get(e)},has:function(e){return r.has(e)}}}var rL=function(r,e){var t=e.mutationCb,n=e.inputCb,o=new Map,i={addShadowRoot:function(a){var s=l5(t,r,i,a),c=s.stop,f=s.flush,u=c5(n,r.defaultPrivacyLevel,{target:a,domEvents:["change"]});o.set(a,{flush:f,stop:function(){c(),u()}})},removeShadowRoot:function(a){var s=o.get(a);if(!s){Vu("no shadow root in map",{shadowRoot:a?a.nodeName:"no node name",childrenLength:a?a.childElementCount:"-1",controllerByShadowRootSize:o.size,html:a&&ma("shadow_dom_debug")?a.innerHTML.substring(0,2e3):void 0});return}s.stop(),o.delete(a)},stop:function(){o.forEach(function(a){var s=a.stop;return s()})},flush:function(){o.forEach(function(a){var s=a.flush;return s()})}};return i};function nL(r){var e=r.emit;if(!e)throw new Error("emit function is required");var t=tL(),n=function(h){e(Ga(Xo.Mutation,h))},o=function(h){return e(Ga(Xo.Input,h))},i=rL(r.configuration,{mutationCb:n,inputCb:o}),a=function(h,w){h===void 0&&(h=Ur()),w===void 0&&(w={status:0,elementsScrollPositions:t,shadowRootsController:i});var T=Rm(),I=T.width,R=T.height;e({data:{height:R,href:window.location.href,width:I},type:Ui.Meta,timestamp:h}),e({data:{has_focus:document.hasFocus()},type:Ui.Focus,timestamp:h}),e({data:{node:vN(document,r.configuration,w),initialOffset:{left:o5(),top:a5()}},type:Ui.FullSnapshot,timestamp:h}),window.visualViewport&&e({data:i5(),type:Ui.VisualViewport,timestamp:h})};a();var s=eL({lifeCycle:r.lifeCycle,configuration:r.configuration,elementsScrollPositions:t,inputCb:o,mediaInteractionCb:function(h){return e(Ga(Xo.MediaInteraction,h))},mouseInteractionCb:function(h){return e(h)},mousemoveCb:function(h,w){return e(Ga(w,{positions:h}))},mutationCb:n,scrollCb:function(h){return e(Ga(Xo.Scroll,h))},styleSheetCb:function(h){return e(Ga(Xo.StyleSheetRule,h))},viewportResizeCb:function(h){return e(Ga(Xo.ViewportResize,h))},frustrationCb:function(h){return e(h)},focusCb:function(h){return e({data:h,type:Ui.Focus,timestamp:Ur()})},visualViewportResizeCb:function(h){e({data:h,type:Ui.VisualViewport,timestamp:Ur()})},shadowRootsController:i}),c=s.stop,f=s.flush;function u(){i.flush(),f()}return{stop:function(){i.stop(),c()},takeSubsequentFullSnapshot:function(h){u(),a(h,{shadowRootsController:i,status:1,elementsScrollPositions:t})},flushMutations:u,shadowRootsController:i}}function iL(r,e,t){var n=new FormData;return n.append("segment",new Blob([r],{type:"application/octet-stream"}),"".concat(e.session.id,"-").concat(e.start)),d5(e,function(o,i){return n.append(o,i)}),n.append("raw_segment_size",t.toString()),{data:n,bytesCount:r.byteLength}}function d5(r,e,t){t===void 0&&(t=""),ym(r).forEach(function(n){var o=n[0],i=n[1];typeof i=="object"&&i!==null?d5(i,e,"".concat(t).concat(o,".")):e("".concat(t).concat(o),String(i))})}var oL=10,bn;function aL(r){return Fh(r).segments_count}function sL(r){Fh(r).segments_count+=1}function $x(r){Fh(r).records_count+=1}function fL(r,e){Fh(r).segments_total_raw_size+=e}function cL(r){return bn?.get(r)}function Fh(r){bn||(bn=new Map);var e;return bn.has(r)?e=bn.get(r):(e={records_count:0,segments_count:0,segments_total_raw_size:0},bn.set(r,e),bn.size>oL&&lL()),e}function lL(){if(!!bn)if(bn.keys)bn.delete(bn.keys().next().value);else{var r=!0;bn.forEach(function(e,t){r&&(bn.delete(t),r=!1)})}}var uL=0,dL=function(){function r(e,t,n,o,i,a){var s=this;this.worker=e,this.id=uL++;var c=t.view.id;this.metadata=Lt({start:o.timestamp,end:o.timestamp,creation_reason:n,records_count:1,has_full_snapshot:o.type===Ui.FullSnapshot,index_in_view:aL(c),source:"browser"},t),sL(c),$x(c);var f=rt(function(u){var h=u.data;h.type==="errored"||h.type==="initialized"||(h.id===s.id?(fL(c,h.additionalBytesCount),h.type==="flushed"?(a(h.result,h.rawBytesCount),e.removeEventListener("message",f)):i(h.compressedBytesCount)):h.id>s.id&&(e.removeEventListener("message",f),Vu("Segment did not receive a 'flush' response before being replaced.")))});e.addEventListener("message",f),Vd("record",{record:o,segment:this.metadata}),this.worker.postMessage({data:'{"records":['.concat(JSON.stringify(o)),id:this.id,action:"write"})}return r.prototype.addRecord=function(e){var t;this.metadata.start=Math.min(this.metadata.start,e.timestamp),this.metadata.end=Math.max(this.metadata.end,e.timestamp),this.metadata.records_count+=1,$x(this.metadata.view.id),(t=this.metadata).has_full_snapshot||(t.has_full_snapshot=e.type===Ui.FullSnapshot),Vd("record",{record:e,segment:this.metadata}),this.worker.postMessage({data:",".concat(JSON.stringify(e)),id:this.id,action:"write"})},r.prototype.flush=function(e){this.worker.postMessage({data:"],".concat(JSON.stringify(this.metadata).slice(1),`
`),id:this.id,action:"flush"}),this.flushReason=e},r}(),hL=30*mi,h5=6e4;function pL(r,e,t,n,o,i){return gL(r,function(){return vL(e,t,n)},o,i)}function gL(r,e,t,n){var o={status:0,nextSegmentCreationReason:"init"},i=r.subscribe(2,function(){s("view_change")}).unsubscribe,a=r.subscribe(9,function(f){s(f.reason)}).unsubscribe;function s(f){o.status===1&&(o.segment.flush(f),ta(o.expirationTimeoutId)),f!=="stop"?o={status:0,nextSegmentCreationReason:f}:o={status:2}}function c(f,u){var h=e();if(!!h){var w=new dL(n,h,f,u,function(T){!w.flushReason&&T>h5&&s("segment_bytes_limit")},function(T,I){var R=iL(T,w.metadata,I);$P(w.flushReason)?t.sendOnExit(R):t.send(R)});o={status:1,segment:w,expirationTimeoutId:Bn(function(){s("segment_duration_limit")},hL)}}}return{addRecord:function(f){switch(o.status){case 0:c(o.nextSegmentCreationReason,f);break;case 1:o.segment.addRecord(f);break}},stop:function(){s("stop"),i(),a()}}}function vL(r,e,t){var n=e.findTrackedSession(),o=t.findView();if(!(!n||!o))return{application:{id:r},session:{id:n.id},view:{id:o.id}}}var K1;function p5(){return K1||(K1=URL.createObjectURL(new Blob(["(".concat(bL,")(self)")]))),new Worker(K1)}function bL(){r(function(){var t=e(),n=t.Deflate,o=t.constants,i=t.string2buf,a=new n,s=0;self.addEventListener("message",r(function(f){var u=f.data;switch(u.action){case"init":self.postMessage({type:"initialized"});break;case"write":{var h=c(u.data);self.postMessage({type:"wrote",id:u.id,compressedBytesCount:a.chunks.reduce(function(w,T){return w+T.length},0),additionalBytesCount:h});break}case"flush":{var h=u.data?c(u.data):0;a.push("",o.Z_FINISH),self.postMessage({type:"flushed",id:u.id,result:a.result,additionalBytesCount:h,rawBytesCount:s}),a=new n,s=0;break}}}));function c(f){var u=i(f);return a.push(u,o.Z_SYNC_FLUSH),s+=u.length,u.length}})();function r(t){return function(){try{return t.apply(this,arguments)}catch(n){try{self.postMessage({type:"errored",error:n})}catch{self.postMessage({type:"errored",error:"".concat(n)})}}}}function e(){var t=4,n=0,o=1,i=2;function a(Ae){for(var x=Ae.length;--x>=0;)Ae[x]=0}var s=0,c=1,f=2,u=3,h=258,w=29,T=256,I=T+1+w,R=30,P=19,B=2*I+1,O=15,H=16,$=7,J=256,ie=16,we=17,de=18,ce=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),be=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=512,l=new Array((I+2)*2);a(l);var p=new Array(R*2);a(p);var b=new Array(v);a(b);var y=new Array(h-u+1);a(y);var A=new Array(w);a(A);var E=new Array(R);a(E);function m(Ae,x,q,ne,te){this.static_tree=Ae,this.extra_bits=x,this.extra_base=q,this.elems=ne,this.max_length=te,this.has_stree=Ae&&Ae.length}var g,d,k;function V(Ae,x){this.dyn_tree=Ae,this.max_code=0,this.stat_desc=x}var _=function(x){return x<256?b[x]:b[256+(x>>>7)]},U=function(x,q){x.pending_buf[x.pending++]=q&255,x.pending_buf[x.pending++]=q>>>8&255},K=function(x,q,ne){x.bi_valid>H-ne?(x.bi_buf|=q<<x.bi_valid&65535,U(x,x.bi_buf),x.bi_buf=q>>H-x.bi_valid,x.bi_valid+=ne-H):(x.bi_buf|=q<<x.bi_valid&65535,x.bi_valid+=ne)},W=function(x,q,ne){K(x,ne[q*2],ne[q*2+1])},re=function(x,q){var ne=0;do ne|=x&1,x>>>=1,ne<<=1;while(--q>0);return ne>>>1},pe=function(x){x.bi_valid===16?(U(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):x.bi_valid>=8&&(x.pending_buf[x.pending++]=x.bi_buf&255,x.bi_buf>>=8,x.bi_valid-=8)},fe=function(x,q){var ne=q.dyn_tree,te=q.max_code,F=q.stat_desc.static_tree,Me=q.stat_desc.has_stree,ye=q.stat_desc.extra_bits,Ie=q.stat_desc.extra_base,Ot=q.stat_desc.max_length,Je,dn,Da,er,As,Cf,C0=0;for(er=0;er<=O;er++)x.bl_count[er]=0;for(ne[x.heap[x.heap_max]*2+1]=0,Je=x.heap_max+1;Je<B;Je++)dn=x.heap[Je],er=ne[ne[dn*2+1]*2+1]+1,er>Ot&&(er=Ot,C0++),ne[dn*2+1]=er,!(dn>te)&&(x.bl_count[er]++,As=0,dn>=Ie&&(As=ye[dn-Ie]),Cf=ne[dn*2],x.opt_len+=Cf*(er+As),Me&&(x.static_len+=Cf*(F[dn*2+1]+As)));if(C0!==0){do{for(er=Ot-1;x.bl_count[er]===0;)er--;x.bl_count[er]--,x.bl_count[er+1]+=2,x.bl_count[Ot]--,C0-=2}while(C0>0);for(er=Ot;er!==0;er--)for(dn=x.bl_count[er];dn!==0;)Da=x.heap[--Je],!(Da>te)&&(ne[Da*2+1]!==er&&(x.opt_len+=(er-ne[Da*2+1])*ne[Da*2],ne[Da*2+1]=er),dn--)}},ae=function(x,q,ne){var te=new Array(O+1),F=0,Me,ye;for(Me=1;Me<=O;Me++)te[Me]=F=F+ne[Me-1]<<1;for(ye=0;ye<=q;ye++){var Ie=x[ye*2+1];Ie!==0&&(x[ye*2]=re(te[Ie]++,Ie))}},G=function(){var x,q,ne,te,F,Me=new Array(O+1);for(ne=0,te=0;te<w-1;te++)for(A[te]=ne,x=0;x<1<<ce[te];x++)y[ne++]=te;for(y[ne-1]=te,F=0,te=0;te<16;te++)for(E[te]=F,x=0;x<1<<be[te];x++)b[F++]=te;for(F>>=7;te<R;te++)for(E[te]=F<<7,x=0;x<1<<be[te]-7;x++)b[256+F++]=te;for(q=0;q<=O;q++)Me[q]=0;for(x=0;x<=143;)l[x*2+1]=8,x++,Me[8]++;for(;x<=255;)l[x*2+1]=9,x++,Me[9]++;for(;x<=279;)l[x*2+1]=7,x++,Me[7]++;for(;x<=287;)l[x*2+1]=8,x++,Me[8]++;for(ae(l,I+1,Me),x=0;x<R;x++)p[x*2+1]=5,p[x*2]=re(x,5);g=new m(l,ce,T+1,I,O),d=new m(p,be,0,R,O),k=new m(new Array(0),L,0,P,$)},z=function(x){var q;for(q=0;q<I;q++)x.dyn_ltree[q*2]=0;for(q=0;q<R;q++)x.dyn_dtree[q*2]=0;for(q=0;q<P;q++)x.bl_tree[q*2]=0;x.dyn_ltree[J*2]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0},Y=function(x){x.bi_valid>8?U(x,x.bi_buf):x.bi_valid>0&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0},N=function(x,q,ne,te){Y(x),te&&(U(x,ne),U(x,~ne)),x.pending_buf.set(x.window.subarray(q,q+ne),x.pending),x.pending+=ne},C=function(x,q,ne,te){var F=q*2,Me=ne*2;return x[F]<x[Me]||x[F]===x[Me]&&te[q]<=te[ne]},M=function(x,q,ne){for(var te=x.heap[ne],F=ne<<1;F<=x.heap_len&&(F<x.heap_len&&C(q,x.heap[F+1],x.heap[F],x.depth)&&F++,!C(q,te,x.heap[F],x.depth));)x.heap[ne]=x.heap[F],ne=F,F<<=1;x.heap[ne]=te},D=function(x,q,ne){var te,F,Me=0,ye,Ie;if(x.last_lit!==0)do te=x.pending_buf[x.d_buf+Me*2]<<8|x.pending_buf[x.d_buf+Me*2+1],F=x.pending_buf[x.l_buf+Me],Me++,te===0?W(x,F,q):(ye=y[F],W(x,ye+T+1,q),Ie=ce[ye],Ie!==0&&(F-=A[ye],K(x,F,Ie)),te--,ye=_(te),W(x,ye,ne),Ie=be[ye],Ie!==0&&(te-=E[ye],K(x,te,Ie)));while(Me<x.last_lit);W(x,J,q)},j=function(x,q){var ne=q.dyn_tree,te=q.stat_desc.static_tree,F=q.stat_desc.has_stree,Me=q.stat_desc.elems,ye,Ie,Ot=-1,Je;for(x.heap_len=0,x.heap_max=B,ye=0;ye<Me;ye++)ne[ye*2]!==0?(x.heap[++x.heap_len]=Ot=ye,x.depth[ye]=0):ne[ye*2+1]=0;for(;x.heap_len<2;)Je=x.heap[++x.heap_len]=Ot<2?++Ot:0,ne[Je*2]=1,x.depth[Je]=0,x.opt_len--,F&&(x.static_len-=te[Je*2+1]);for(q.max_code=Ot,ye=x.heap_len>>1;ye>=1;ye--)M(x,ne,ye);Je=Me;do ye=x.heap[1],x.heap[1]=x.heap[x.heap_len--],M(x,ne,1),Ie=x.heap[1],x.heap[--x.heap_max]=ye,x.heap[--x.heap_max]=Ie,ne[Je*2]=ne[ye*2]+ne[Ie*2],x.depth[Je]=(x.depth[ye]>=x.depth[Ie]?x.depth[ye]:x.depth[Ie])+1,ne[ye*2+1]=ne[Ie*2+1]=Je,x.heap[1]=Je++,M(x,ne,1);while(x.heap_len>=2);x.heap[--x.heap_max]=x.heap[1],fe(x,q),ae(ne,Ot,x.bl_count)},Q=function(x,q,ne){var te,F=-1,Me,ye=q[0*2+1],Ie=0,Ot=7,Je=4;for(ye===0&&(Ot=138,Je=3),q[(ne+1)*2+1]=65535,te=0;te<=ne;te++)Me=ye,ye=q[(te+1)*2+1],!(++Ie<Ot&&Me===ye)&&(Ie<Je?x.bl_tree[Me*2]+=Ie:Me!==0?(Me!==F&&x.bl_tree[Me*2]++,x.bl_tree[ie*2]++):Ie<=10?x.bl_tree[we*2]++:x.bl_tree[de*2]++,Ie=0,F=Me,ye===0?(Ot=138,Je=3):Me===ye?(Ot=6,Je=3):(Ot=7,Je=4))},ee=function(x,q,ne){var te,F=-1,Me,ye=q[0*2+1],Ie=0,Ot=7,Je=4;for(ye===0&&(Ot=138,Je=3),te=0;te<=ne;te++)if(Me=ye,ye=q[(te+1)*2+1],!(++Ie<Ot&&Me===ye)){if(Ie<Je)do W(x,Me,x.bl_tree);while(--Ie!==0);else Me!==0?(Me!==F&&(W(x,Me,x.bl_tree),Ie--),W(x,ie,x.bl_tree),K(x,Ie-3,2)):Ie<=10?(W(x,we,x.bl_tree),K(x,Ie-3,3)):(W(x,de,x.bl_tree),K(x,Ie-11,7));Ie=0,F=Me,ye===0?(Ot=138,Je=3):Me===ye?(Ot=6,Je=3):(Ot=7,Je=4)}},le=function(x){var q;for(Q(x,x.dyn_ltree,x.l_desc.max_code),Q(x,x.dyn_dtree,x.d_desc.max_code),j(x,x.bl_desc),q=P-1;q>=3&&x.bl_tree[S[q]*2+1]===0;q--);return x.opt_len+=3*(q+1)+5+5+4,q},se=function(x,q,ne,te){var F;for(K(x,q-257,5),K(x,ne-1,5),K(x,te-4,4),F=0;F<te;F++)K(x,x.bl_tree[S[F]*2+1],3);ee(x,x.dyn_ltree,q-1),ee(x,x.dyn_dtree,ne-1)},ve=function(x){var q=4093624447,ne;for(ne=0;ne<=31;ne++,q>>>=1)if(q&1&&x.dyn_ltree[ne*2]!==0)return n;if(x.dyn_ltree[9*2]!==0||x.dyn_ltree[10*2]!==0||x.dyn_ltree[13*2]!==0)return o;for(ne=32;ne<T;ne++)if(x.dyn_ltree[ne*2]!==0)return o;return n},ge=!1,he=function(x){ge||(G(),ge=!0),x.l_desc=new V(x.dyn_ltree,g),x.d_desc=new V(x.dyn_dtree,d),x.bl_desc=new V(x.bl_tree,k),x.bi_buf=0,x.bi_valid=0,z(x)},Fe=function(x,q,ne,te){K(x,(s<<1)+(te?1:0),3),N(x,q,ne,!0)},Pe=function(x){K(x,c<<1,3),W(x,J,l),pe(x)},Ee=function(x,q,ne,te){var F,Me,ye=0;x.level>0?(x.strm.data_type===i&&(x.strm.data_type=ve(x)),j(x,x.l_desc),j(x,x.d_desc),ye=le(x),F=x.opt_len+3+7>>>3,Me=x.static_len+3+7>>>3,Me<=F&&(F=Me)):F=Me=ne+5,ne+4<=F&&q!==-1?Fe(x,q,ne,te):x.strategy===t||Me===F?(K(x,(c<<1)+(te?1:0),3),D(x,l,p)):(K(x,(f<<1)+(te?1:0),3),se(x,x.l_desc.max_code+1,x.d_desc.max_code+1,ye+1),D(x,x.dyn_ltree,x.dyn_dtree)),z(x),te&&Y(x)},nt=function(x,q,ne){return x.pending_buf[x.d_buf+x.last_lit*2]=q>>>8&255,x.pending_buf[x.d_buf+x.last_lit*2+1]=q&255,x.pending_buf[x.l_buf+x.last_lit]=ne&255,x.last_lit++,q===0?x.dyn_ltree[ne*2]++:(x.matches++,q--,x.dyn_ltree[(y[ne]+T+1)*2]++,x.dyn_dtree[_(q)*2]++),x.last_lit===x.lit_bufsize-1},Ke=he,Z=Fe,oe=Ee,Ce=nt,me=Pe,He={_tr_init:Ke,_tr_stored_block:Z,_tr_flush_block:oe,_tr_tally:Ce,_tr_align:me},Te=function(x,q,ne,te){for(var F=x&65535|0,Me=x>>>16&65535|0,ye=0;ne!==0;){ye=ne>2e3?2e3:ne,ne-=ye;do F=F+q[te++]|0,Me=Me+F|0;while(--ye);F%=65521,Me%=65521}return F|Me<<16|0},Re=Te,dt=function(){for(var x,q=[],ne=0;ne<256;ne++){x=ne;for(var te=0;te<8;te++)x=x&1?3988292384^x>>>1:x>>>1;q[ne]=x}return q},je=new Uint32Array(dt()),Ne=function(x,q,ne,te){var F=je,Me=te+ne;x^=-1;for(var ye=te;ye<Me;ye++)x=x>>>8^F[(x^q[ye])&255];return x^-1},ft=Ne,We={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},xe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},_t=He._tr_init,et=He._tr_stored_block,Ue=He._tr_flush_block,st=He._tr_tally,Ze=He._tr_align,Be=xe.Z_NO_FLUSH,yt=xe.Z_PARTIAL_FLUSH,Xe=xe.Z_FULL_FLUSH,Oe=xe.Z_FINISH,xt=xe.Z_BLOCK,Ge=xe.Z_OK,Le=xe.Z_STREAM_END,ot=xe.Z_STREAM_ERROR,tt=xe.Z_DATA_ERROR,De=xe.Z_BUF_ERROR,wt=xe.Z_DEFAULT_COMPRESSION,Ye=xe.Z_FILTERED,Qe=xe.Z_HUFFMAN_ONLY,Ar=xe.Z_RLE,mr=xe.Z_FIXED,Pr=xe.Z_DEFAULT_STRATEGY,Br=xe.Z_UNKNOWN,yr=xe.Z_DEFLATED,Un=9,Fn=15,Hn=8,Vn=29,jn=256,un=jn+1+Vn,Gn=30,zn=19,qn=2*un+1,Kn=15,at=3,Er=258,Tr=Er+at+1,zo=32,A0=42,y1=69,E0=73,_0=91,S0=103,ys=113,vl=666,kr=1,bl=2,xs=3,Tf=4,PS=3,Ba=function(x,q){return x.msg=We[q],q},b2=function(x){return(x<<1)-(x>4?9:0)},Ra=function(x){for(var q=x.length;--q>=0;)x[q]=0},BS=function(x,q,ne){return(q<<x.hash_shift^ne)&x.hash_mask},Oa=BS,Na=function(x){var q=x.state,ne=q.pending;ne>x.avail_out&&(ne=x.avail_out),ne!==0&&(x.output.set(q.pending_buf.subarray(q.pending_out,q.pending_out+ne),x.next_out),x.next_out+=ne,q.pending_out+=ne,x.total_out+=ne,x.avail_out-=ne,q.pending-=ne,q.pending===0&&(q.pending_out=0))},zr=function(x,q){Ue(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,q),x.block_start=x.strstart,Na(x.strm)},Nt=function(x,q){x.pending_buf[x.pending++]=q},ml=function(x,q){x.pending_buf[x.pending++]=q>>>8&255,x.pending_buf[x.pending++]=q&255},RS=function(x,q,ne,te){var F=x.avail_in;return F>te&&(F=te),F===0?0:(x.avail_in-=F,q.set(x.input.subarray(x.next_in,x.next_in+F),ne),x.state.wrap===1?x.adler=Re(x.adler,q,F,ne):x.state.wrap===2&&(x.adler=ft(x.adler,q,F,ne)),x.next_in+=F,x.total_in+=F,F)},m2=function(x,q){var ne=x.max_chain_length,te=x.strstart,F,Me,ye=x.prev_length,Ie=x.nice_match,Ot=x.strstart>x.w_size-Tr?x.strstart-(x.w_size-Tr):0,Je=x.window,dn=x.w_mask,Da=x.prev,er=x.strstart+Er,As=Je[te+ye-1],Cf=Je[te+ye];x.prev_length>=x.good_match&&(ne>>=2),Ie>x.lookahead&&(Ie=x.lookahead);do if(F=q,!(Je[F+ye]!==Cf||Je[F+ye-1]!==As||Je[F]!==Je[te]||Je[++F]!==Je[te+1])){te+=2,F++;do;while(Je[++te]===Je[++F]&&Je[++te]===Je[++F]&&Je[++te]===Je[++F]&&Je[++te]===Je[++F]&&Je[++te]===Je[++F]&&Je[++te]===Je[++F]&&Je[++te]===Je[++F]&&Je[++te]===Je[++F]&&te<er);if(Me=Er-(er-te),te=er-Er,Me>ye){if(x.match_start=q,ye=Me,Me>=Ie)break;As=Je[te+ye-1],Cf=Je[te+ye]}}while((q=Da[q&dn])>Ot&&--ne!==0);return ye<=x.lookahead?ye:x.lookahead},ws=function(x){var q=x.w_size,ne,te,F,Me,ye;do{if(Me=x.window_size-x.lookahead-x.strstart,x.strstart>=q+(q-Tr)){x.window.set(x.window.subarray(q,q+q),0),x.match_start-=q,x.strstart-=q,x.block_start-=q,te=x.hash_size,ne=te;do F=x.head[--ne],x.head[ne]=F>=q?F-q:0;while(--te);te=q,ne=te;do F=x.prev[--ne],x.prev[ne]=F>=q?F-q:0;while(--te);Me+=q}if(x.strm.avail_in===0)break;if(te=RS(x.strm,x.window,x.strstart+x.lookahead,Me),x.lookahead+=te,x.lookahead+x.insert>=at)for(ye=x.strstart-x.insert,x.ins_h=x.window[ye],x.ins_h=Oa(x,x.ins_h,x.window[ye+1]);x.insert&&(x.ins_h=Oa(x,x.ins_h,x.window[ye+at-1]),x.prev[ye&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=ye,ye++,x.insert--,!(x.lookahead+x.insert<at)););}while(x.lookahead<Tr&&x.strm.avail_in!==0)},OS=function(x,q){var ne=65535;for(ne>x.pending_buf_size-5&&(ne=x.pending_buf_size-5);;){if(x.lookahead<=1){if(ws(x),x.lookahead===0&&q===Be)return kr;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var te=x.block_start+ne;if((x.strstart===0||x.strstart>=te)&&(x.lookahead=x.strstart-te,x.strstart=te,zr(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-Tr&&(zr(x,!1),x.strm.avail_out===0))return kr}return x.insert=0,q===Oe?(zr(x,!0),x.strm.avail_out===0?xs:Tf):(x.strstart>x.block_start&&(zr(x,!1),x.strm.avail_out===0),kr)},x1=function(x,q){for(var ne,te;;){if(x.lookahead<Tr){if(ws(x),x.lookahead<Tr&&q===Be)return kr;if(x.lookahead===0)break}if(ne=0,x.lookahead>=at&&(x.ins_h=Oa(x,x.ins_h,x.window[x.strstart+at-1]),ne=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),ne!==0&&x.strstart-ne<=x.w_size-Tr&&(x.match_length=m2(x,ne)),x.match_length>=at)if(te=st(x,x.strstart-x.match_start,x.match_length-at),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=at){x.match_length--;do x.strstart++,x.ins_h=Oa(x,x.ins_h,x.window[x.strstart+at-1]),ne=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!==0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=Oa(x,x.ins_h,x.window[x.strstart+1]);else te=st(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(te&&(zr(x,!1),x.strm.avail_out===0))return kr}return x.insert=x.strstart<at-1?x.strstart:at-1,q===Oe?(zr(x,!0),x.strm.avail_out===0?xs:Tf):x.last_lit&&(zr(x,!1),x.strm.avail_out===0)?kr:bl},kf=function(x,q){for(var ne,te,F;;){if(x.lookahead<Tr){if(ws(x),x.lookahead<Tr&&q===Be)return kr;if(x.lookahead===0)break}if(ne=0,x.lookahead>=at&&(x.ins_h=Oa(x,x.ins_h,x.window[x.strstart+at-1]),ne=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=at-1,ne!==0&&x.prev_length<x.max_lazy_match&&x.strstart-ne<=x.w_size-Tr&&(x.match_length=m2(x,ne),x.match_length<=5&&(x.strategy===Ye||x.match_length===at&&x.strstart-x.match_start>4096)&&(x.match_length=at-1)),x.prev_length>=at&&x.match_length<=x.prev_length){F=x.strstart+x.lookahead-at,te=st(x,x.strstart-1-x.prev_match,x.prev_length-at),x.lookahead-=x.prev_length-1,x.prev_length-=2;do++x.strstart<=F&&(x.ins_h=Oa(x,x.ins_h,x.window[x.strstart+at-1]),ne=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(--x.prev_length!==0);if(x.match_available=0,x.match_length=at-1,x.strstart++,te&&(zr(x,!1),x.strm.avail_out===0))return kr}else if(x.match_available){if(te=st(x,0,x.window[x.strstart-1]),te&&zr(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return kr}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(te=st(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<at-1?x.strstart:at-1,q===Oe?(zr(x,!0),x.strm.avail_out===0?xs:Tf):x.last_lit&&(zr(x,!1),x.strm.avail_out===0)?kr:bl},NS=function(x,q){for(var ne,te,F,Me,ye=x.window;;){if(x.lookahead<=Er){if(ws(x),x.lookahead<=Er&&q===Be)return kr;if(x.lookahead===0)break}if(x.match_length=0,x.lookahead>=at&&x.strstart>0&&(F=x.strstart-1,te=ye[F],te===ye[++F]&&te===ye[++F]&&te===ye[++F])){Me=x.strstart+Er;do;while(te===ye[++F]&&te===ye[++F]&&te===ye[++F]&&te===ye[++F]&&te===ye[++F]&&te===ye[++F]&&te===ye[++F]&&te===ye[++F]&&F<Me);x.match_length=Er-(Me-F),x.match_length>x.lookahead&&(x.match_length=x.lookahead)}if(x.match_length>=at?(ne=st(x,1,x.match_length-at),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0):(ne=st(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++),ne&&(zr(x,!1),x.strm.avail_out===0))return kr}return x.insert=0,q===Oe?(zr(x,!0),x.strm.avail_out===0?xs:Tf):x.last_lit&&(zr(x,!1),x.strm.avail_out===0)?kr:bl},LS=function(x,q){for(var ne;;){if(x.lookahead===0&&(ws(x),x.lookahead===0)){if(q===Be)return kr;break}if(x.match_length=0,ne=st(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++,ne&&(zr(x,!1),x.strm.avail_out===0))return kr}return x.insert=0,q===Oe?(zr(x,!0),x.strm.avail_out===0?xs:Tf):x.last_lit&&(zr(x,!1),x.strm.avail_out===0)?kr:bl};function oo(Ae,x,q,ne,te){this.good_length=Ae,this.max_lazy=x,this.nice_length=q,this.max_chain=ne,this.func=te}var yl=[new oo(0,0,0,0,OS),new oo(4,4,8,4,x1),new oo(4,5,16,8,x1),new oo(4,6,32,32,x1),new oo(4,4,16,16,kf),new oo(8,16,32,32,kf),new oo(8,16,128,128,kf),new oo(8,32,128,256,kf),new oo(32,128,258,1024,kf),new oo(32,258,258,4096,kf)],DS=function(x){x.window_size=2*x.w_size,Ra(x.head),x.max_lazy_match=yl[x.level].max_lazy,x.good_match=yl[x.level].good_length,x.nice_match=yl[x.level].nice_length,x.max_chain_length=yl[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=at-1,x.match_available=0,x.ins_h=0};function US(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(qn*2),this.dyn_dtree=new Uint16Array((2*Gn+1)*2),this.bl_tree=new Uint16Array((2*zn+1)*2),Ra(this.dyn_ltree),Ra(this.dyn_dtree),Ra(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Kn+1),this.heap=new Uint16Array(2*un+1),Ra(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*un+1),Ra(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var y2=function(x){if(!x||!x.state)return Ba(x,ot);x.total_in=x.total_out=0,x.data_type=Br;var q=x.state;return q.pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?A0:ys,x.adler=q.wrap===2?0:1,q.last_flush=Be,_t(q),Ge},x2=function(x){var q=y2(x);return q===Ge&&DS(x.state),q},FS=function(x,q){return!x||!x.state||x.state.wrap!==2?ot:(x.state.gzhead=q,Ge)},w2=function(x,q,ne,te,F,Me){if(!x)return ot;var ye=1;if(q===wt&&(q=6),te<0?(ye=0,te=-te):te>15&&(ye=2,te-=16),F<1||F>Un||ne!==yr||te<8||te>15||q<0||q>9||Me<0||Me>mr)return Ba(x,ot);te===8&&(te=9);var Ie=new US;return x.state=Ie,Ie.strm=x,Ie.wrap=ye,Ie.gzhead=null,Ie.w_bits=te,Ie.w_size=1<<Ie.w_bits,Ie.w_mask=Ie.w_size-1,Ie.hash_bits=F+7,Ie.hash_size=1<<Ie.hash_bits,Ie.hash_mask=Ie.hash_size-1,Ie.hash_shift=~~((Ie.hash_bits+at-1)/at),Ie.window=new Uint8Array(Ie.w_size*2),Ie.head=new Uint16Array(Ie.hash_size),Ie.prev=new Uint16Array(Ie.w_size),Ie.lit_bufsize=1<<F+6,Ie.pending_buf_size=Ie.lit_bufsize*4,Ie.pending_buf=new Uint8Array(Ie.pending_buf_size),Ie.d_buf=1*Ie.lit_bufsize,Ie.l_buf=(1+2)*Ie.lit_bufsize,Ie.level=q,Ie.strategy=Me,Ie.method=ne,x2(x)},HS=function(x,q){return w2(x,q,yr,Fn,Hn,Pr)},VS=function(x,q){var ne,te;if(!x||!x.state||q>xt||q<0)return x?Ba(x,ot):ot;var F=x.state;if(!x.output||!x.input&&x.avail_in!==0||F.status===vl&&q!==Oe)return Ba(x,x.avail_out===0?De:ot);F.strm=x;var Me=F.last_flush;if(F.last_flush=q,F.status===A0)if(F.wrap===2)x.adler=0,Nt(F,31),Nt(F,139),Nt(F,8),F.gzhead?(Nt(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),Nt(F,F.gzhead.time&255),Nt(F,F.gzhead.time>>8&255),Nt(F,F.gzhead.time>>16&255),Nt(F,F.gzhead.time>>24&255),Nt(F,F.level===9?2:F.strategy>=Qe||F.level<2?4:0),Nt(F,F.gzhead.os&255),F.gzhead.extra&&F.gzhead.extra.length&&(Nt(F,F.gzhead.extra.length&255),Nt(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(x.adler=ft(x.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=y1):(Nt(F,0),Nt(F,0),Nt(F,0),Nt(F,0),Nt(F,0),Nt(F,F.level===9?2:F.strategy>=Qe||F.level<2?4:0),Nt(F,PS),F.status=ys);else{var ye=yr+(F.w_bits-8<<4)<<8,Ie=-1;F.strategy>=Qe||F.level<2?Ie=0:F.level<6?Ie=1:F.level===6?Ie=2:Ie=3,ye|=Ie<<6,F.strstart!==0&&(ye|=zo),ye+=31-ye%31,F.status=ys,ml(F,ye),F.strstart!==0&&(ml(F,x.adler>>>16),ml(F,x.adler&65535)),x.adler=1}if(F.status===y1)if(F.gzhead.extra){for(ne=F.pending;F.gzindex<(F.gzhead.extra.length&65535)&&!(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>ne&&(x.adler=ft(x.adler,F.pending_buf,F.pending-ne,ne)),Na(x),ne=F.pending,F.pending===F.pending_buf_size));)Nt(F,F.gzhead.extra[F.gzindex]&255),F.gzindex++;F.gzhead.hcrc&&F.pending>ne&&(x.adler=ft(x.adler,F.pending_buf,F.pending-ne,ne)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=E0)}else F.status=E0;if(F.status===E0)if(F.gzhead.name){ne=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>ne&&(x.adler=ft(x.adler,F.pending_buf,F.pending-ne,ne)),Na(x),ne=F.pending,F.pending===F.pending_buf_size)){te=1;break}F.gzindex<F.gzhead.name.length?te=F.gzhead.name.charCodeAt(F.gzindex++)&255:te=0,Nt(F,te)}while(te!==0);F.gzhead.hcrc&&F.pending>ne&&(x.adler=ft(x.adler,F.pending_buf,F.pending-ne,ne)),te===0&&(F.gzindex=0,F.status=_0)}else F.status=_0;if(F.status===_0)if(F.gzhead.comment){ne=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>ne&&(x.adler=ft(x.adler,F.pending_buf,F.pending-ne,ne)),Na(x),ne=F.pending,F.pending===F.pending_buf_size)){te=1;break}F.gzindex<F.gzhead.comment.length?te=F.gzhead.comment.charCodeAt(F.gzindex++)&255:te=0,Nt(F,te)}while(te!==0);F.gzhead.hcrc&&F.pending>ne&&(x.adler=ft(x.adler,F.pending_buf,F.pending-ne,ne)),te===0&&(F.status=S0)}else F.status=S0;if(F.status===S0&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&Na(x),F.pending+2<=F.pending_buf_size&&(Nt(F,x.adler&255),Nt(F,x.adler>>8&255),x.adler=0,F.status=ys)):F.status=ys),F.pending!==0){if(Na(x),x.avail_out===0)return F.last_flush=-1,Ge}else if(x.avail_in===0&&b2(q)<=b2(Me)&&q!==Oe)return Ba(x,De);if(F.status===vl&&x.avail_in!==0)return Ba(x,De);if(x.avail_in!==0||F.lookahead!==0||q!==Be&&F.status!==vl){var Ot=F.strategy===Qe?LS(F,q):F.strategy===Ar?NS(F,q):yl[F.level].func(F,q);if((Ot===xs||Ot===Tf)&&(F.status=vl),Ot===kr||Ot===xs)return x.avail_out===0&&(F.last_flush=-1),Ge;if(Ot===bl&&(q===yt?Ze(F):q!==xt&&(et(F,0,0,!1),q===Xe&&(Ra(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),Na(x),x.avail_out===0))return F.last_flush=-1,Ge}return q!==Oe?Ge:F.wrap<=0?Le:(F.wrap===2?(Nt(F,x.adler&255),Nt(F,x.adler>>8&255),Nt(F,x.adler>>16&255),Nt(F,x.adler>>24&255),Nt(F,x.total_in&255),Nt(F,x.total_in>>8&255),Nt(F,x.total_in>>16&255),Nt(F,x.total_in>>24&255)):(ml(F,x.adler>>>16),ml(F,x.adler&65535)),Na(x),F.wrap>0&&(F.wrap=-F.wrap),F.pending!==0?Ge:Le)},jS=function(x){if(!x||!x.state)return ot;var q=x.state.status;return q!==A0&&q!==y1&&q!==E0&&q!==_0&&q!==S0&&q!==ys&&q!==vl?Ba(x,ot):(x.state=null,q===ys?Ba(x,tt):Ge)},GS=function(x,q){var ne=q.length;if(!x||!x.state)return ot;var te=x.state,F=te.wrap;if(F===2||F===1&&te.status!==A0||te.lookahead)return ot;if(F===1&&(x.adler=Re(x.adler,q,ne,0)),te.wrap=0,ne>=te.w_size){F===0&&(Ra(te.head),te.strstart=0,te.block_start=0,te.insert=0);var Me=new Uint8Array(te.w_size);Me.set(q.subarray(ne-te.w_size,ne),0),q=Me,ne=te.w_size}var ye=x.avail_in,Ie=x.next_in,Ot=x.input;for(x.avail_in=ne,x.next_in=0,x.input=q,ws(te);te.lookahead>=at;){var Je=te.strstart,dn=te.lookahead-(at-1);do te.ins_h=Oa(te,te.ins_h,te.window[Je+at-1]),te.prev[Je&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=Je,Je++;while(--dn);te.strstart=Je,te.lookahead=at-1,ws(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=at-1,te.match_available=0,x.next_in=Ie,x.input=Ot,x.avail_in=ye,te.wrap=F,Ge},zS=HS,qS=w2,KS=x2,$S=y2,WS=FS,QS=VS,JS=jS,YS=GS,ZS="pako deflate (from Nodeca project)",xl={deflateInit:zS,deflateInit2:qS,deflateReset:KS,deflateResetKeep:$S,deflateSetHeader:WS,deflate:QS,deflateEnd:JS,deflateSetDictionary:YS,deflateInfo:ZS};function XS(Ae){for(var x=0,q=0,ne=Ae.length;q<ne;q++)x+=Ae[q].length;for(var te=new Uint8Array(x),F=0,Me=0,ye=Ae.length;F<ye;F++){var Ie=Ae[F];te.set(Ie,Me),Me+=Ie.length}return te}for(var w1=new Uint8Array(256),La=0;La<256;La++)w1[La]=La>=252?6:La>=248?5:La>=240?4:La>=224?3:La>=192?2:1;w1[254]=w1[254]=1;function eT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tT=eT,A2=Object.prototype.toString,rT=xe.Z_NO_FLUSH,nT=xe.Z_SYNC_FLUSH,iT=xe.Z_FULL_FLUSH,oT=xe.Z_FINISH,T0=xe.Z_OK,aT=xe.Z_STREAM_END,sT=xe.Z_DEFAULT_COMPRESSION,fT=xe.Z_DEFAULT_STRATEGY,cT=xe.Z_DEFLATED;function k0(){this.options={level:sT,method:cT,chunkSize:16384,windowBits:15,memLevel:8,strategy:fT};var Ae=this.options;Ae.raw&&Ae.windowBits>0?Ae.windowBits=-Ae.windowBits:Ae.gzip&&Ae.windowBits>0&&Ae.windowBits<16&&(Ae.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tT,this.strm.avail_out=0;var x=xl.deflateInit2(this.strm,Ae.level,Ae.method,Ae.windowBits,Ae.memLevel,Ae.strategy);if(x!==T0)throw new Error(We[x]);if(Ae.header&&xl.deflateSetHeader(this.strm,Ae.header),Ae.dictionary){var q;if(A2.call(Ae.dictionary)==="[object ArrayBuffer]"?q=new Uint8Array(Ae.dictionary):q=Ae.dictionary,x=xl.deflateSetDictionary(this.strm,q),x!==T0)throw new Error(We[x]);this._dict_set=!0}}k0.prototype.push=function(Ae,x){var q=this.strm,ne=this.options.chunkSize,te,F;if(this.ended)return!1;for(x===~~x?F=x:F=x===!0?oT:rT,A2.call(Ae)==="[object ArrayBuffer]"?q.input=new Uint8Array(Ae):q.input=Ae,q.next_in=0,q.avail_in=q.input.length;;){if(q.avail_out===0&&(q.output=new Uint8Array(ne),q.next_out=0,q.avail_out=ne),(F===nT||F===iT)&&q.avail_out<=6){this.onData(q.output.subarray(0,q.next_out)),q.avail_out=0;continue}if(te=xl.deflate(q,F),te===aT)return q.next_out>0&&this.onData(q.output.subarray(0,q.next_out)),te=xl.deflateEnd(this.strm),this.onEnd(te),this.ended=!0,te===T0;if(q.avail_out===0){this.onData(q.output);continue}if(F>0&&q.next_out>0){this.onData(q.output.subarray(0,q.next_out)),q.avail_out=0;continue}if(q.avail_in===0)break}return!0},k0.prototype.onData=function(Ae){this.chunks.push(Ae)},k0.prototype.onEnd=function(Ae){Ae===T0&&(this.result=XS(this.chunks)),this.chunks=[],this.err=Ae,this.msg=this.strm.msg};function lT(Ae){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Ae);var x,q,ne,te,F,Me=Ae.length,ye=0;for(te=0;te<Me;te++)q=Ae.charCodeAt(te),(q&64512)===55296&&te+1<Me&&(ne=Ae.charCodeAt(te+1),(ne&64512)===56320&&(q=65536+(q-55296<<10)+(ne-56320),te++)),ye+=q<128?1:q<2048?2:q<65536?3:4;for(x=new Uint8Array(ye),F=0,te=0;F<ye;te++)q=Ae.charCodeAt(te),(q&64512)===55296&&te+1<Me&&(ne=Ae.charCodeAt(te+1),(ne&64512)===56320&&(q=65536+(q-55296<<10)+(ne-56320),te++)),q<128?x[F++]=q:q<2048?(x[F++]=192|q>>>6,x[F++]=128|q&63):q<65536?(x[F++]=224|q>>>12,x[F++]=128|q>>>6&63,x[F++]=128|q&63):(x[F++]=240|q>>>18,x[F++]=128|q>>>12&63,x[F++]=128|q>>>6&63,x[F++]=128|q&63);return x}return{Deflate:k0,constants:xe,string2buf:lT}}}var Eo={status:0};function mL(r,e){switch(e===void 0&&(e=p5),Eo.status){case 0:Eo={status:1,callbacks:[r]},yL(e);break;case 1:Eo.callbacks.push(r);break;case 2:r();break;case 3:r(Eo.worker);break}}function yL(r){r===void 0&&(r=p5);try{var e=r();return e.addEventListener("error",rt($1)),e.addEventListener("message",rt(function(t){var n=t.data;n.type==="errored"?$1(n.error):n.type==="initialized"&&xL(e)})),e.postMessage({action:"init"}),e}catch(t){$1(t)}}function xL(r){Eo.status===1&&(Eo.callbacks.forEach(function(e){return e(r)}),Eo={status:3,worker:r})}function $1(r){Eo.status===1?(bt.error("Session Replay recording failed to start: an error occurred while creating the Worker:",r),r instanceof Event||r instanceof Error&&wL(r.message)?bt.error("Please make sure CSP is correctly configured https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy"):jd(r),Eo.callbacks.forEach(function(e){return e()}),Eo={status:2}):jd(r)}function wL(r){return Po(r,"Content Security Policy")||Po(r,"requires 'TrustedScriptURL'")}function AL(r,e,t,n,o,i){var a=function(B){r.notify(12,{error:B})},s=i||yA(e.sessionReplayEndpointBuilder,h5,a),c=pL(r,e.applicationId,t,n,s,o),f=c.addRecord,u=c.stop,h=nL({emit:f,configuration:e,lifeCycle:r}),w=h.stop,T=h.takeSubsequentFullSnapshot,I=h.flushMutations,R=r.subscribe(4,function(){I(),f({timestamp:Ur(),type:Ui.ViewEnd})}).unsubscribe,P=r.subscribe(2,function(B){T(B.startClocks.timeStamp)}).unsubscribe;return{stop:function(){R(),P(),w(),u()}}}function EL(r,e){if(e===void 0&&(e=mL),Tc()||!_L())return{start:Kr,stop:Kr,getReplayStats:function(){},onRumStart:Kr,isRecording:function(){return!1}};var t={status:0},n=function(){t={status:1}},o=function(){t={status:0}};return{start:function(){return n()},stop:function(){return o()},getReplayStats:cL,onRumStart:function(i,a,s,c){i.subscribe(7,function(){(t.status===2||t.status===3)&&(o(),t={status:1})}),i.subscribe(8,function(){t.status===1&&n()}),n=function(){var f=s.findTrackedSession();if(!f||!f.sessionReplayAllowed){t={status:1};return}t.status===2||t.status===3||(t={status:2},Cm("interactive",function(){t.status===2&&e(function(u){if(t.status===2){if(!u){t={status:0};return}var h=r(i,a,s,c,u).stop;t={status:3,stopRecording:h}}})}))},o=function(){t.status!==0&&(t.status===3&&t.stopRecording(),t={status:0})},t.status===1&&n()},isRecording:function(){return t.status===3}}}function _L(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&"forEach"in NodeList.prototype}var SL=EL(AL),vd=bB($O,SL);KI(xm(),"DD_RUM",vd);var g5="2.4.0-SNAPSHOT-staging.62936e",TL=function(r){vd.init({applicationId:"20b0f3b8-2651-4ef9-a37b-8fad3e703659",clientToken:"pub73e95dbc036a36834730425caba13fc7",site:"datadoghq.com",service:"token_negotiator",version:g5,sessionSampleRate:100,sessionReplaySampleRate:0,trackUserInteractions:!1,trackResources:!1,trackLongTasks:!1,defaultPrivacyLevel:"mask-user-input"}),vd.startSessionReplayRecording(),vd.setGlobalContextProperty("config",r)},gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XY(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ar(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),t}var zd={},Hh={};Hh.byteLength=ML;Hh.toByteArray=PL;Hh.fromByteArray=OL;var xo=[],di=[],kL=typeof Uint8Array<"u"?Uint8Array:Array,W1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Bf=0,CL=W1.length;Bf<CL;++Bf)xo[Bf]=W1[Bf],di[W1.charCodeAt(Bf)]=Bf;di["-".charCodeAt(0)]=62;di["_".charCodeAt(0)]=63;function v5(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function ML(r){var e=v5(r),t=e[0],n=e[1];return(t+n)*3/4-n}function IL(r,e,t){return(e+t)*3/4-t}function PL(r){var e,t=v5(r),n=t[0],o=t[1],i=new kL(IL(r,n,o)),a=0,s=o>0?n-4:n,c;for(c=0;c<s;c+=4)e=di[r.charCodeAt(c)]<<18|di[r.charCodeAt(c+1)]<<12|di[r.charCodeAt(c+2)]<<6|di[r.charCodeAt(c+3)],i[a++]=e>>16&255,i[a++]=e>>8&255,i[a++]=e&255;return o===2&&(e=di[r.charCodeAt(c)]<<2|di[r.charCodeAt(c+1)]>>4,i[a++]=e&255),o===1&&(e=di[r.charCodeAt(c)]<<10|di[r.charCodeAt(c+1)]<<4|di[r.charCodeAt(c+2)]>>2,i[a++]=e>>8&255,i[a++]=e&255),i}function BL(r){return xo[r>>18&63]+xo[r>>12&63]+xo[r>>6&63]+xo[r&63]}function RL(r,e,t){for(var n,o=[],i=e;i<t;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),o.push(BL(n));return o.join("")}function OL(r){for(var e,t=r.length,n=t%3,o=[],i=16383,a=0,s=t-n;a<s;a+=i)o.push(RL(r,a,a+i>s?s:a+i));return n===1?(e=r[t-1],o.push(xo[e>>2]+xo[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(xo[e>>10]+xo[e>>4&63]+xo[e<<2&63]+"=")),o.join("")}var jm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */jm.read=function(r,e,t,n,o){var i,a,s=o*8-n-1,c=(1<<s)-1,f=c>>1,u=-7,h=t?o-1:0,w=t?-1:1,T=r[e+h];for(h+=w,i=T&(1<<-u)-1,T>>=-u,u+=s;u>0;i=i*256+r[e+h],h+=w,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=a*256+r[e+h],h+=w,u-=8);if(i===0)i=1-f;else{if(i===c)return a?NaN:(T?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-f}return(T?-1:1)*a*Math.pow(2,i-n)};jm.write=function(r,e,t,n,o,i){var a,s,c,f=i*8-o-1,u=(1<<f)-1,h=u>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=n?0:i-1,I=n?1:-1,R=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+h>=1?e+=w/c:e+=w*Math.pow(2,1-h),e*c>=2&&(a++,c/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*c-1)*Math.pow(2,o),a=a+h):(s=e*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;r[t+T]=s&255,T+=I,s/=256,o-=8);for(a=a<<o|s,f+=o;f>0;r[t+T]=a&255,T+=I,a/=256,f-=8);r[t+T-I]|=R*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){var e=Hh,t=jm,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=s,r.SlowBuffer=O,r.INSPECT_MAX_BYTES=50;var o=2147483647;r.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var N=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(N,C),N.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function a(N){if(N>o)throw new RangeError('The value "'+N+'" is invalid for option "size"');var C=new Uint8Array(N);return Object.setPrototypeOf(C,s.prototype),C}function s(N,C,M){if(typeof N=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(N)}return c(N,C,M)}s.poolSize=8192;function c(N,C,M){if(typeof N=="string")return w(N,C);if(ArrayBuffer.isView(N))return I(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(G(N,ArrayBuffer)||N&&G(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(G(N,SharedArrayBuffer)||N&&G(N.buffer,SharedArrayBuffer)))return R(N,C,M);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var D=N.valueOf&&N.valueOf();if(D!=null&&D!==N)return s.from(D,C,M);var j=P(N);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return s.from(N[Symbol.toPrimitive]("string"),C,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}s.from=function(N,C,M){return c(N,C,M)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function u(N,C,M){return f(N),N<=0?a(N):C!==void 0?typeof M=="string"?a(N).fill(C,M):a(N).fill(C):a(N)}s.alloc=function(N,C,M){return u(N,C,M)};function h(N){return f(N),a(N<0?0:B(N)|0)}s.allocUnsafe=function(N){return h(N)},s.allocUnsafeSlow=function(N){return h(N)};function w(N,C){if((typeof C!="string"||C==="")&&(C="utf8"),!s.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var M=H(N,C)|0,D=a(M),j=D.write(N,C);return j!==M&&(D=D.slice(0,j)),D}function T(N){for(var C=N.length<0?0:B(N.length)|0,M=a(C),D=0;D<C;D+=1)M[D]=N[D]&255;return M}function I(N){if(G(N,Uint8Array)){var C=new Uint8Array(N);return R(C.buffer,C.byteOffset,C.byteLength)}return T(N)}function R(N,C,M){if(C<0||N.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<C+(M||0))throw new RangeError('"length" is outside of buffer bounds');var D;return C===void 0&&M===void 0?D=new Uint8Array(N):M===void 0?D=new Uint8Array(N,C):D=new Uint8Array(N,C,M),Object.setPrototypeOf(D,s.prototype),D}function P(N){if(s.isBuffer(N)){var C=B(N.length)|0,M=a(C);return M.length===0||N.copy(M,0,0,C),M}if(N.length!==void 0)return typeof N.length!="number"||z(N.length)?a(0):T(N);if(N.type==="Buffer"&&Array.isArray(N.data))return T(N.data)}function B(N){if(N>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return N|0}function O(N){return+N!=N&&(N=0),s.alloc(+N)}s.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==s.prototype},s.compare=function(C,M){if(G(C,Uint8Array)&&(C=s.from(C,C.offset,C.byteLength)),G(M,Uint8Array)&&(M=s.from(M,M.offset,M.byteLength)),!s.isBuffer(C)||!s.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===M)return 0;for(var D=C.length,j=M.length,Q=0,ee=Math.min(D,j);Q<ee;++Q)if(C[Q]!==M[Q]){D=C[Q],j=M[Q];break}return D<j?-1:j<D?1:0},s.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(C,M){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return s.alloc(0);var D;if(M===void 0)for(M=0,D=0;D<C.length;++D)M+=C[D].length;var j=s.allocUnsafe(M),Q=0;for(D=0;D<C.length;++D){var ee=C[D];if(G(ee,Uint8Array))Q+ee.length>j.length?s.from(ee).copy(j,Q):Uint8Array.prototype.set.call(j,ee,Q);else if(s.isBuffer(ee))ee.copy(j,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=ee.length}return j};function H(N,C){if(s.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||G(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var M=N.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&M===0)return 0;for(var j=!1;;)switch(C){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return W(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return fe(N).length;default:if(j)return D?-1:W(N).length;C=(""+C).toLowerCase(),j=!0}}s.byteLength=H;function $(N,C,M){var D=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,C>>>=0,M<=C))return"";for(N||(N="utf8");;)switch(N){case"hex":return E(this,C,M);case"utf8":case"utf-8":return l(this,C,M);case"ascii":return y(this,C,M);case"latin1":case"binary":return A(this,C,M);case"base64":return v(this,C,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,C,M);default:if(D)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),D=!0}}s.prototype._isBuffer=!0;function J(N,C,M){var D=N[C];N[C]=N[M],N[M]=D}s.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<C;M+=2)J(this,M,M+1);return this},s.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<C;M+=4)J(this,M,M+3),J(this,M+1,M+2);return this},s.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<C;M+=8)J(this,M,M+7),J(this,M+1,M+6),J(this,M+2,M+5),J(this,M+3,M+4);return this},s.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?l(this,0,C):$.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(C){if(!s.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:s.compare(this,C)===0},s.prototype.inspect=function(){var C="",M=r.INSPECT_MAX_BYTES;return C=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(C+=" ... "),"<Buffer "+C+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(C,M,D,j,Q){if(G(C,Uint8Array)&&(C=s.from(C,C.offset,C.byteLength)),!s.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(M===void 0&&(M=0),D===void 0&&(D=C?C.length:0),j===void 0&&(j=0),Q===void 0&&(Q=this.length),M<0||D>C.length||j<0||Q>this.length)throw new RangeError("out of range index");if(j>=Q&&M>=D)return 0;if(j>=Q)return-1;if(M>=D)return 1;if(M>>>=0,D>>>=0,j>>>=0,Q>>>=0,this===C)return 0;for(var ee=Q-j,le=D-M,se=Math.min(ee,le),ve=this.slice(j,Q),ge=C.slice(M,D),he=0;he<se;++he)if(ve[he]!==ge[he]){ee=ve[he],le=ge[he];break}return ee<le?-1:le<ee?1:0};function ie(N,C,M,D,j){if(N.length===0)return-1;if(typeof M=="string"?(D=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,z(M)&&(M=j?0:N.length-1),M<0&&(M=N.length+M),M>=N.length){if(j)return-1;M=N.length-1}else if(M<0)if(j)M=0;else return-1;if(typeof C=="string"&&(C=s.from(C,D)),s.isBuffer(C))return C.length===0?-1:we(N,C,M,D,j);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(N,C,M):Uint8Array.prototype.lastIndexOf.call(N,C,M):we(N,[C],M,D,j);throw new TypeError("val must be string, number or Buffer")}function we(N,C,M,D,j){var Q=1,ee=N.length,le=C.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(N.length<2||C.length<2)return-1;Q=2,ee/=2,le/=2,M/=2}function se(Pe,Ee){return Q===1?Pe[Ee]:Pe.readUInt16BE(Ee*Q)}var ve;if(j){var ge=-1;for(ve=M;ve<ee;ve++)if(se(N,ve)===se(C,ge===-1?0:ve-ge)){if(ge===-1&&(ge=ve),ve-ge+1===le)return ge*Q}else ge!==-1&&(ve-=ve-ge),ge=-1}else for(M+le>ee&&(M=ee-le),ve=M;ve>=0;ve--){for(var he=!0,Fe=0;Fe<le;Fe++)if(se(N,ve+Fe)!==se(C,Fe)){he=!1;break}if(he)return ve}return-1}s.prototype.includes=function(C,M,D){return this.indexOf(C,M,D)!==-1},s.prototype.indexOf=function(C,M,D){return ie(this,C,M,D,!0)},s.prototype.lastIndexOf=function(C,M,D){return ie(this,C,M,D,!1)};function de(N,C,M,D){M=Number(M)||0;var j=N.length-M;D?(D=Number(D),D>j&&(D=j)):D=j;var Q=C.length;D>Q/2&&(D=Q/2);for(var ee=0;ee<D;++ee){var le=parseInt(C.substr(ee*2,2),16);if(z(le))return ee;N[M+ee]=le}return ee}function ce(N,C,M,D){return ae(W(C,N.length-M),N,M,D)}function be(N,C,M,D){return ae(re(C),N,M,D)}function L(N,C,M,D){return ae(fe(C),N,M,D)}function S(N,C,M,D){return ae(pe(C,N.length-M),N,M,D)}s.prototype.write=function(C,M,D,j){if(M===void 0)j="utf8",D=this.length,M=0;else if(D===void 0&&typeof M=="string")j=M,D=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(D)?(D=D>>>0,j===void 0&&(j="utf8")):(j=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Q=this.length-M;if((D===void 0||D>Q)&&(D=Q),C.length>0&&(D<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var ee=!1;;)switch(j){case"hex":return de(this,C,M,D);case"utf8":case"utf-8":return ce(this,C,M,D);case"ascii":case"latin1":case"binary":return be(this,C,M,D);case"base64":return L(this,C,M,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,C,M,D);default:if(ee)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),ee=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function v(N,C,M){return C===0&&M===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(C,M))}function l(N,C,M){M=Math.min(N.length,M);for(var D=[],j=C;j<M;){var Q=N[j],ee=null,le=Q>239?4:Q>223?3:Q>191?2:1;if(j+le<=M){var se,ve,ge,he;switch(le){case 1:Q<128&&(ee=Q);break;case 2:se=N[j+1],(se&192)===128&&(he=(Q&31)<<6|se&63,he>127&&(ee=he));break;case 3:se=N[j+1],ve=N[j+2],(se&192)===128&&(ve&192)===128&&(he=(Q&15)<<12|(se&63)<<6|ve&63,he>2047&&(he<55296||he>57343)&&(ee=he));break;case 4:se=N[j+1],ve=N[j+2],ge=N[j+3],(se&192)===128&&(ve&192)===128&&(ge&192)===128&&(he=(Q&15)<<18|(se&63)<<12|(ve&63)<<6|ge&63,he>65535&&he<1114112&&(ee=he))}}ee===null?(ee=65533,le=1):ee>65535&&(ee-=65536,D.push(ee>>>10&1023|55296),ee=56320|ee&1023),D.push(ee),j+=le}return b(D)}var p=4096;function b(N){var C=N.length;if(C<=p)return String.fromCharCode.apply(String,N);for(var M="",D=0;D<C;)M+=String.fromCharCode.apply(String,N.slice(D,D+=p));return M}function y(N,C,M){var D="";M=Math.min(N.length,M);for(var j=C;j<M;++j)D+=String.fromCharCode(N[j]&127);return D}function A(N,C,M){var D="";M=Math.min(N.length,M);for(var j=C;j<M;++j)D+=String.fromCharCode(N[j]);return D}function E(N,C,M){var D=N.length;(!C||C<0)&&(C=0),(!M||M<0||M>D)&&(M=D);for(var j="",Q=C;Q<M;++Q)j+=Y[N[Q]];return j}function m(N,C,M){for(var D=N.slice(C,M),j="",Q=0;Q<D.length-1;Q+=2)j+=String.fromCharCode(D[Q]+D[Q+1]*256);return j}s.prototype.slice=function(C,M){var D=this.length;C=~~C,M=M===void 0?D:~~M,C<0?(C+=D,C<0&&(C=0)):C>D&&(C=D),M<0?(M+=D,M<0&&(M=0)):M>D&&(M=D),M<C&&(M=C);var j=this.subarray(C,M);return Object.setPrototypeOf(j,s.prototype),j};function g(N,C,M){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+C>M)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(C,M,D){C=C>>>0,M=M>>>0,D||g(C,M,this.length);for(var j=this[C],Q=1,ee=0;++ee<M&&(Q*=256);)j+=this[C+ee]*Q;return j},s.prototype.readUintBE=s.prototype.readUIntBE=function(C,M,D){C=C>>>0,M=M>>>0,D||g(C,M,this.length);for(var j=this[C+--M],Q=1;M>0&&(Q*=256);)j+=this[C+--M]*Q;return j},s.prototype.readUint8=s.prototype.readUInt8=function(C,M){return C=C>>>0,M||g(C,1,this.length),this[C]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(C,M){return C=C>>>0,M||g(C,2,this.length),this[C]|this[C+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(C,M){return C=C>>>0,M||g(C,2,this.length),this[C]<<8|this[C+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(C,M){return C=C>>>0,M||g(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(C,M){return C=C>>>0,M||g(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},s.prototype.readIntLE=function(C,M,D){C=C>>>0,M=M>>>0,D||g(C,M,this.length);for(var j=this[C],Q=1,ee=0;++ee<M&&(Q*=256);)j+=this[C+ee]*Q;return Q*=128,j>=Q&&(j-=Math.pow(2,8*M)),j},s.prototype.readIntBE=function(C,M,D){C=C>>>0,M=M>>>0,D||g(C,M,this.length);for(var j=M,Q=1,ee=this[C+--j];j>0&&(Q*=256);)ee+=this[C+--j]*Q;return Q*=128,ee>=Q&&(ee-=Math.pow(2,8*M)),ee},s.prototype.readInt8=function(C,M){return C=C>>>0,M||g(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},s.prototype.readInt16LE=function(C,M){C=C>>>0,M||g(C,2,this.length);var D=this[C]|this[C+1]<<8;return D&32768?D|4294901760:D},s.prototype.readInt16BE=function(C,M){C=C>>>0,M||g(C,2,this.length);var D=this[C+1]|this[C]<<8;return D&32768?D|4294901760:D},s.prototype.readInt32LE=function(C,M){return C=C>>>0,M||g(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},s.prototype.readInt32BE=function(C,M){return C=C>>>0,M||g(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},s.prototype.readFloatLE=function(C,M){return C=C>>>0,M||g(C,4,this.length),t.read(this,C,!0,23,4)},s.prototype.readFloatBE=function(C,M){return C=C>>>0,M||g(C,4,this.length),t.read(this,C,!1,23,4)},s.prototype.readDoubleLE=function(C,M){return C=C>>>0,M||g(C,8,this.length),t.read(this,C,!0,52,8)},s.prototype.readDoubleBE=function(C,M){return C=C>>>0,M||g(C,8,this.length),t.read(this,C,!1,52,8)};function d(N,C,M,D,j,Q){if(!s.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>j||C<Q)throw new RangeError('"value" argument is out of bounds');if(M+D>N.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(C,M,D,j){if(C=+C,M=M>>>0,D=D>>>0,!j){var Q=Math.pow(2,8*D)-1;d(this,C,M,D,Q,0)}var ee=1,le=0;for(this[M]=C&255;++le<D&&(ee*=256);)this[M+le]=C/ee&255;return M+D},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(C,M,D,j){if(C=+C,M=M>>>0,D=D>>>0,!j){var Q=Math.pow(2,8*D)-1;d(this,C,M,D,Q,0)}var ee=D-1,le=1;for(this[M+ee]=C&255;--ee>=0&&(le*=256);)this[M+ee]=C/le&255;return M+D},s.prototype.writeUint8=s.prototype.writeUInt8=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,1,255,0),this[M]=C&255,M+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,2,65535,0),this[M]=C&255,this[M+1]=C>>>8,M+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,2,65535,0),this[M]=C>>>8,this[M+1]=C&255,M+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,4,4294967295,0),this[M+3]=C>>>24,this[M+2]=C>>>16,this[M+1]=C>>>8,this[M]=C&255,M+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,4,4294967295,0),this[M]=C>>>24,this[M+1]=C>>>16,this[M+2]=C>>>8,this[M+3]=C&255,M+4},s.prototype.writeIntLE=function(C,M,D,j){if(C=+C,M=M>>>0,!j){var Q=Math.pow(2,8*D-1);d(this,C,M,D,Q-1,-Q)}var ee=0,le=1,se=0;for(this[M]=C&255;++ee<D&&(le*=256);)C<0&&se===0&&this[M+ee-1]!==0&&(se=1),this[M+ee]=(C/le>>0)-se&255;return M+D},s.prototype.writeIntBE=function(C,M,D,j){if(C=+C,M=M>>>0,!j){var Q=Math.pow(2,8*D-1);d(this,C,M,D,Q-1,-Q)}var ee=D-1,le=1,se=0;for(this[M+ee]=C&255;--ee>=0&&(le*=256);)C<0&&se===0&&this[M+ee+1]!==0&&(se=1),this[M+ee]=(C/le>>0)-se&255;return M+D},s.prototype.writeInt8=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,1,127,-128),C<0&&(C=255+C+1),this[M]=C&255,M+1},s.prototype.writeInt16LE=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,2,32767,-32768),this[M]=C&255,this[M+1]=C>>>8,M+2},s.prototype.writeInt16BE=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,2,32767,-32768),this[M]=C>>>8,this[M+1]=C&255,M+2},s.prototype.writeInt32LE=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,4,2147483647,-2147483648),this[M]=C&255,this[M+1]=C>>>8,this[M+2]=C>>>16,this[M+3]=C>>>24,M+4},s.prototype.writeInt32BE=function(C,M,D){return C=+C,M=M>>>0,D||d(this,C,M,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[M]=C>>>24,this[M+1]=C>>>16,this[M+2]=C>>>8,this[M+3]=C&255,M+4};function k(N,C,M,D,j,Q){if(M+D>N.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function V(N,C,M,D,j){return C=+C,M=M>>>0,j||k(N,C,M,4),t.write(N,C,M,D,23,4),M+4}s.prototype.writeFloatLE=function(C,M,D){return V(this,C,M,!0,D)},s.prototype.writeFloatBE=function(C,M,D){return V(this,C,M,!1,D)};function _(N,C,M,D,j){return C=+C,M=M>>>0,j||k(N,C,M,8),t.write(N,C,M,D,52,8),M+8}s.prototype.writeDoubleLE=function(C,M,D){return _(this,C,M,!0,D)},s.prototype.writeDoubleBE=function(C,M,D){return _(this,C,M,!1,D)},s.prototype.copy=function(C,M,D,j){if(!s.isBuffer(C))throw new TypeError("argument should be a Buffer");if(D||(D=0),!j&&j!==0&&(j=this.length),M>=C.length&&(M=C.length),M||(M=0),j>0&&j<D&&(j=D),j===D||C.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),C.length-M<j-D&&(j=C.length-M+D);var Q=j-D;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,D,j):Uint8Array.prototype.set.call(C,this.subarray(D,j),M),Q},s.prototype.fill=function(C,M,D,j){if(typeof C=="string"){if(typeof M=="string"?(j=M,M=0,D=this.length):typeof D=="string"&&(j=D,D=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!s.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(C.length===1){var Q=C.charCodeAt(0);(j==="utf8"&&Q<128||j==="latin1")&&(C=Q)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(M<0||this.length<M||this.length<D)throw new RangeError("Out of range index");if(D<=M)return this;M=M>>>0,D=D===void 0?this.length:D>>>0,C||(C=0);var ee;if(typeof C=="number")for(ee=M;ee<D;++ee)this[ee]=C;else{var le=s.isBuffer(C)?C:s.from(C,j),se=le.length;if(se===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(ee=0;ee<D-M;++ee)this[ee+M]=le[ee%se]}return this};var U=/[^+/0-9A-Za-z-_]/g;function K(N){if(N=N.split("=")[0],N=N.trim().replace(U,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function W(N,C){C=C||1/0;for(var M,D=N.length,j=null,Q=[],ee=0;ee<D;++ee){if(M=N.charCodeAt(ee),M>55295&&M<57344){if(!j){if(M>56319){(C-=3)>-1&&Q.push(239,191,189);continue}else if(ee+1===D){(C-=3)>-1&&Q.push(239,191,189);continue}j=M;continue}if(M<56320){(C-=3)>-1&&Q.push(239,191,189),j=M;continue}M=(j-55296<<10|M-56320)+65536}else j&&(C-=3)>-1&&Q.push(239,191,189);if(j=null,M<128){if((C-=1)<0)break;Q.push(M)}else if(M<2048){if((C-=2)<0)break;Q.push(M>>6|192,M&63|128)}else if(M<65536){if((C-=3)<0)break;Q.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((C-=4)<0)break;Q.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return Q}function re(N){for(var C=[],M=0;M<N.length;++M)C.push(N.charCodeAt(M)&255);return C}function pe(N,C){for(var M,D,j,Q=[],ee=0;ee<N.length&&!((C-=2)<0);++ee)M=N.charCodeAt(ee),D=M>>8,j=M%256,Q.push(j),Q.push(D);return Q}function fe(N){return e.toByteArray(K(N))}function ae(N,C,M,D){for(var j=0;j<D&&!(j+M>=C.length||j>=N.length);++j)C[j+M]=N[j];return j}function G(N,C){return N instanceof C||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===C.name}function z(N){return N!==N}var Y=function(){for(var N="0123456789abcdef",C=new Array(256),M=0;M<16;++M)for(var D=M*16,j=0;j<16;++j)C[D+j]=N[M]+N[j];return C}()})(zd);var NL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LL=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},DL=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},UL=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return i},FL=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},bb=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function qe(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];!window.DISPLAY_DEBUG_LEVEL||r>parseInt(window.DISPLAY_DEBUG_LEVEL)||console.log.apply(console,FL([],UL(e),!1))}var Bs=function(r,e){if(!r)throw new Error(e)};function HL(r){return typeof zd.Buffer<"u"?zd.Buffer.from(r):r}var VL=function(r,e){var t,n,o=Object.keys(r),i=Object.keys(e);if(o.length!==i.length)return!1;try{for(var a=bb(o),s=a.next();!s.done;s=a.next()){var c=s.value;if(typeof e[c]=="object"){if(JSON.stringify(r[c])!==JSON.stringify(e[c]))return!1}else if(r[c]!==e[c])return!1}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!0},b5=function(r){return r=r.split("-").join("+").split("_").join("/").split(".").join("="),Uint8Array.from(zd.Buffer.from(r,"base64"))},jL=function(r){window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r)},GL=function(r){window.removeEventListener?window.removeEventListener("message",r):window.detachEvent("onmessage",r)},zL=function(r){return new Promise(function(e){if(document.querySelector(r))return e(document.querySelector(r));var t=new MutationObserver(function(){document.querySelector(r)&&(e(document.querySelector(r)),t.disconnect())});t.observe(document.body,{childList:!0,subtree:!0})})},Li=function(r,e,t,n,o,i){var a;o===void 0&&(o=!0),i===void 0&&(i=!1);var s;if(typeof r=="object"?s=(a=r.message)!==null&&a!==void 0?a:"Unknown error type: "+JSON.stringify(r):s=r,o&&qe(2,e+": "+s),t&&t(),i)throw new qL(s,r);return{type:e,message:r,data:n}},qL=function(r){NL(e,r);function e(t,n,o){var i=r.call(this,t)||this;return i.originalError=n,i.code=o,i}return e}(Error),Vh=function(r,e){return LL(void 0,void 0,void 0,function(){var t,n;return DL(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(r)];case 1:if(t=o.sent(),n=t.status>=200&&t.status<=299,!n&&e===!0)return console.warn("token api request failed: ",r),[2];if(n)return[2,t.json()];throw new Error("HTTP error! status: ".concat(t.status));case 2:throw o.sent(),new Error("HTTP error.");case 3:return[2]}})})},Gm=function(r,e,t){var n,o,i,a;if(e===void 0&&(e=[]),t===void 0&&(t=Kt),t)try{for(var s=bb(Array.from(r.keys())),c=s.next();!c.done;c=s.next()){var f=c.value;f.indexOf(t)===0&&r.delete(f)}}catch(T){n={error:T}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}try{for(var u=bb(e),h=u.next();!h.done;h=u.next()){var w=h.value;r.has(w)&&r.delete(w)}}catch(T){i={error:T}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return r},jh=function(){var r,e=typeof window<"u",t=e&&window.navigator.userAgent.toLowerCase(),n=t&&/msie|trident/.test(t),o=t&&t.indexOf("msie 9.0")>0,i=t&&t.indexOf("edg/")>0,a=t&&/chrome\/\d+/.test(t)&&!i,s=t&&/phantomjs/.test(t),c=t&&/firefox|fxios\/\d+/.test(t),f=y5()||m5(),u=!!window.navigator.brave,h=t&&t.indexOf("android")>0,w=t&&/iphone|ipad|ipod|ios/.test(t),T=t&&/\smac\s/.test(t),I=t&&/windows/.test(t),R=!1,P=window.matchMedia;if(P){var B=P("(pointer:coarse)");R=B.matches}var O=window.ethereum;typeof window.ethereum>"u"&&(O={isMetaMask:!1,isAlphaWallet:!1,isTrust:!1,isStatusWallet:!1,isGoWallet:!1,isBraveWallet:!1});var H=R&&!!O.isAlphaWallet,$=R&&!!O.isTrust,J=R&&!!O.isStatusWallet,ie=R&&!!O.isGoWallet,we=R&&!!O.isTrust&&!!O.isMetaMask,de=!!navigator.userAgent.match(/\simToken\//),ce=R&&!!O.isMetaMask&&!$&&!u;return{iE:n,iE9:o,edge:i,chrome:a,phantomJS:s,fireFox:c,safari:f,android:h,iOS:w,mac:T,windows:I,desktop:((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Mobi"))===-1,touchDevice:R,metaMask:ce,anyMetamask:!!O.isMetaMask&&!$&&!O.isBraveWallet,alphaWallet:H,mew:we,trust:$,goWallet:ie,status:J,imToken:de,brave:u,braveAndroid:u&&h,braveIOS:u&&w,metaMaskAndroid:h&&ce,alphaWalletAndroid:h&&H,mewAndroid:h&&we,imTokenAndroid:h&&de}};function Gh(){return!!window.navigator.brave}function m5(){var r=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():"";return/ip(ad|od|hone)/i.test(r)&&/webkit/i.test(r)&&!/(crios|fxios|opios|mercury)/i.test(r)&&!Gh()}function y5(){return!!window.safari}function x5(){return y5()||m5()}function KL(){var r=jh();return r.iOS||x5()||Gh()||r.fireFox}function mb(r){var e=jh();switch(r){case"always":return!0;case"never":return!1;default:return Gh()||e.fireFox||e.iOS&&!x5()}}var $L=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},WL=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},fa;(function(r){r.COOKIE_CHECK="cookie-check",r.ERROR="error",r.SHOW_FRAME="show-frame"})(fa||(fa={}));var Kt="tn-",QL=function(){function r(){this.iframeStorageSupport=null,this.iframe=null,this.listenerSet=!1}return r.prototype.sendMessage=function(e,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),$L(this,void 0,void 0,function(){var o;return WL(this,function(i){switch(i.label){case 0:if(qe(2,"Send request: "),qe(2,e),n)return this.sendRedirect(e,n),[2];if(!t&&this.iframeStorageSupport===null&&(this.iframeStorageSupport=!KL()),!(!t&&this.iframeStorageSupport!==!1))return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.sendIframe(e)];case 2:return[2,i.sent()];case 3:if(o=i.sent(),o==="IFRAME_STORAGE")return[2,this.sendPopup(e)];throw o;case 4:return[3,6];case 5:return[2,this.sendPopup(e)];case 6:return[2]}})})},r.prototype.sendRedirect=function(e,t){var n=r.getUniqueEventId(),o=this.constructUrl(n,e),i="".concat(o,"&").concat(Kt,"redirect=true&").concat(Kt,"requestor=").concat(encodeURIComponent(t));qe(2,"redirect from ".concat(document.location.href," to ").concat(i)),document.location.href=i},r.prototype.sendIframe=function(e){var t=this;return new Promise(function(n,o){var i=r.getUniqueEventId(),a=t.constructUrl(i,e);t.iframe=t.createIframe(function(){t.listenerSet=!1,t.removeModal(),o(zi.USER_ABORT)}),t.listenerSet||(t.listenerSet=!0,t.setResponseListener(i,e.origin,e.timeout,n,o,function(){t.listenerSet=!1,t.removeModal()})),t.iframe.src=a})},r.prototype.sendPopup=function(e){var t=this;return new Promise(function(n,o){var i=r.getUniqueEventId(),a=null;if(t.setResponseListener(i,e.origin,e.timeout,n,o,function(){a&&a.close()}),a=t.openTab(t.constructUrl(i,e)),!a||a.closed||typeof a.closed>"u"){o(zi.POPUP_BLOCKED);return}var s=setInterval(function(){(!a||a.closed)&&(clearInterval(s),o(zi.USER_ABORT))},500)})},r.prototype.setResponseListener=function(e,t,n,o,i,a){var s=this,c=!1,f=null,u=function(w){if(!w.data.target){var T=w.data,I=new URL(t);if(T.evtid===e)if(I.origin===w.origin&&T.evt){if(qe(2,"event response received"),qe(2,w.data),c=!0,T.evt===fa.ERROR)T.errors[0]==="IFRAME_STORAGE"?(s.iframeStorageSupport=!1,i("IFRAME_STORAGE")):i(new Error(T.errors.join(". ")));else if(T.evt===fa.SHOW_FRAME){if(f&&clearTimeout(f),s.iframe){var R=s.getModal();if(R.style.display="block",T.max_width){var P=R.querySelector(".modal-content-tn");P&&(P.style.maxWidth=T.max_width)}if(T.min_height){var B=R.querySelector("iframe");B&&(B.style.minHeight=T.min_height)}}return}else o(T);h()}else qe(2,"Does not match origin "+w.origin)}},h=function(){f&&clearTimeout(f),GL(u),window.NEGOTIATOR_DEBUG||a()};jL(u),n===void 0&&(n=2e4),n>0&&(f=setTimeout(function(){c||i(new Error("Failed to receive response from window/iframe")),h()},n))},r.prototype.getModal=function(e){var t=document.getElementById("modal-tn");return t||!e||(t=document.createElement("div"),t.id="modal-tn",t.className="modal-tn",t.style.display="none",t.innerHTML=`
            <div class="modal-content-tn">
                <div class="modal-header-tn">
                    <span class="modal-close-tn">&times;</span>
                </div>
                <div class="modal-body-tn"></div>
            </div>
        `,document.body.appendChild(t),t.getElementsByClassName("modal-close-tn")[0].addEventListener("click",function(){e()})),t},r.prototype.removeModal=function(){var e=this.getModal();e&&(e.style.display="none",e.remove())},r.prototype.constructUrl=function(e,t){var n="".concat(t.origin,"#").concat(Kt,"evtid=").concat(e,"&").concat(Kt,"action=").concat(t.action);typeof t.data.token<"u"&&(n+="&".concat(Kt,"token=").concat(encodeURIComponent(JSON.stringify(t.data.token))));for(var o in t.data){var i=t.data[o];o==="issuer"||o==="token"||!i||(i instanceof Array||i instanceof Object?n+="&".concat(Kt).concat(o,"=").concat(JSON.stringify(i)):o==="urlParams"?n+="&".concat(i):n+="&".concat(Kt).concat(o,"=").concat(i))}return n},r.prototype.openTab=function(e){return window.open(e,"_blank")},r.prototype.createIframe=function(e){var t=document.createElement("iframe");t.setAttribute("allow","clipboard-read");var n=this.getModal(e);return n.getElementsByClassName("modal-body-tn")[0].appendChild(t),t},r.getUniqueEventId=function(){return new Date().getTime().toString()},r}(),JL=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},YL=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},vi;(function(r){r.MAGIC_URL="magic-url",r.GET_ISSUER_TOKENS="get-issuer-tokens",r.GET_PROOF="get-proof",r.GET_PROOF_CALLBACK="proof-callback",r.EMAIL_ATTEST_CALLBACK="email-callback"})(vi||(vi={}));var xu;(function(r){r.ISSUER_TOKENS="issuer-tokens",r.PROOF="proof"})(xu||(xu={}));var zm=function(){function r(){this.core=new QL}return r.prototype.sendMessage=function(e,t,n,o){return t===void 0&&(t=!1),o===void 0&&(o=!1),JL(this,void 0,void 0,function(){var i;return YL(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.core.sendMessage(e,t,o)];case 1:return[2,a.sent()];case 2:if(i=a.sent(),i===zi.POPUP_BLOCKED){if(n)return[2,this.handleUserClose(e,n,t)];i=this.createNamedError(i,Xf.POPUP_BLOCKED)}throw i===zi.USER_ABORT&&(i=this.createNamedError(i,Xf.USER_ABORT)),i;case 3:return[2]}})})},r.prototype.handleUserClose=function(e,t,n){var o=this;return new Promise(function(i,a){t.showError("Mmmmm looks like your popup blocker is getting in the way."),t.setErrorRetryCallback(function(){o.core.sendMessage(e,n).then(function(s){i(s)}).catch(function(s){s===zi.POPUP_BLOCKED?s=o.createNamedError(s,Xf.POPUP_BLOCKED):s===zi.USER_ABORT&&(s=o.createNamedError(s,Xf.USER_ABORT)),a(s)})})})},r.prototype.createNamedError=function(e,t){var n=new Error(t);return n.name=e,n},r}(),qd=globalThis&&globalThis.__assign||function(){return qd=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},qd.apply(this,arguments)},zh=function(){function r(e,t,n,o){this.client=e,this.ui=t,this.viewContainer=n,this.params=o,this.init()}return r.prototype.init=function(){},r.prototype.update=function(e){this.params=qd(qd({},this.params),e),this.render()},r}(),ZL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XL=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},eD=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},tD=function(r){ZL(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){this.viewContainer.innerHTML=this.renderMainTemplate(),this.viewContainer.querySelector(".opening-btn-tn").addEventListener("click",this.goToWalletSelection.bind(this))},e.prototype.renderMainTemplate=function(){var t;return`
			<div class="opening-content-view-tn">
              <div class="brand-tn"></div>
              <div class="inner-content-tn">
                <div class="inner-content-block-tn">
                  <button class="opening-btn-tn" aria-label="Start connecting your tokens">
				  `.concat((t=this.params.options.openingButtonText)!==null&&t!==void 0?t:"Let's go!",`
				  </button>
                  <div class="opening-heading-tn">`).concat(this.params.options.openingHeading,`</div>
                </div>
              </div>
            </div>
		`)},e.prototype.goToWalletSelection=function(){return XL(this,void 0,void 0,function(){var t;return eD(this,function(n){switch(n.label){case 0:return this.ui.showLoaderDelayed(["Initializing wallet.."],500),t={viewTransition:"slide-in-right"},[4,this.ui.canSkipWalletSelection()];case 1:return n.sent()?(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main",{viewName:"main"},t)):this.ui.updateUI("wallet",{viewName:"main"},t),this.ui.dismissLoader(),[2]}})})},e}(zh),iu=globalThis&&globalThis.__assign||function(){return iu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},iu.apply(this,arguments)},rD=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w5=function(){function r(e,t){this.autoEnableTokens=e,this.tokenPersistenceTTL=t,this.currentIssuers={},this.tokenData={},this.tokenLookup={},this.selectedTokens={},this.tokenPersistenceTTL>0&&this.loadTokenStore()}return r.prototype.loadTokenStore=function(){var e=JSON.parse(localStorage.getItem(r.LOCAL_STORAGE_KEY));if(!!e){for(var t in e.tokenLookup){var n=e.tokenLookup[t];n.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenLookup[t]=n)}for(var t in e.tokenData){var o=e.tokenData[t];o.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenData[t]=o)}this.saveTokenStore()}},r.prototype.saveTokenStore=function(){this.tokenPersistenceTTL>0&&localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify({tokenLookup:this.tokenLookup,tokenData:this.tokenData}))},r.prototype.updateIssuers=function(e){Object.keys(this.currentIssuers).length>0&&(this.selectedTokens={}),this.prePopulateTokenLookupStore(e)},r.prototype.clearCachedTokens=function(e){for(var t in this.tokenData)e!==void 0&&e!==this.tokenLookup[t].onChain||delete this.tokenData[t];this.selectedTokens={},this.saveTokenStore()},r.prototype.hasOnChainTokens=function(){for(var e in this.currentIssuers)if(this.currentIssuers[e])return!0;return!1},r.prototype.getCurrentIssuers=function(e){var t={};for(var n in this.currentIssuers)(e===void 0||e===this.currentIssuers[n])&&(t[n]=this.tokenLookup[n]);return t},r.prototype.getCurrentTokens=function(e){var t,n,o={};for(var i in this.currentIssuers)(e===void 0||e===this.currentIssuers[i])&&(o[i]=(n=(t=this.tokenData[i])===null||t===void 0?void 0:t.tokens)!==null&&n!==void 0?n:[]);return o},r.prototype.getTotalTokenCount=function(e){var t=this.getCurrentTokens(e);return Object.keys(t).reduce(function(n,o){return n+t[o].length},0)},r.prototype.hasUnloadedIssuers=function(){var e=this.getCurrentIssuers(!0);for(var t in e)if(!e[t].title)return!0;return!1},r.prototype.hasUnloadedTokens=function(){var e,t;try{for(var n=rD(Object.values(this.getCurrentTokens())),o=n.next();!o.done;o=n.next()){var i=o.value;if(i.length===0)return!0}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!1},r.prototype.getIssuerTokens=function(e){var t;return this.tokenData[e]?(t=this.tokenData[e].tokens)!==null&&t!==void 0?t:[]:null},r.prototype.setTokens=function(e,t){this.tokenData[e]={timestamp:Date.now(),tokens:t},this.saveTokenStore(),this.autoEnableTokens&&(this.selectedTokens[e]={tokens:t})},r.prototype.getSelectedTokens=function(){return this.selectedTokens},r.prototype.setSelectedTokens=function(e){this.selectedTokens=e},r.prototype.prePopulateTokenLookupStore=function(e){var t=this,n={};e.forEach(function(o,i){var a;if(!!o.collectionID){if(o.onChain===void 0&&(o.onChain=!0),o.collectionID=t.formatCollectionID(o.collectionID),n[o.collectionID]!==void 0){qe(1,"duplicate collectionID key ".concat(o.collectionID,", use unique keys per collection."));return}"chain"in o&&(o.chain=t.formatCollectionChain(o.chain)),t.tokenData[o.collectionID]!==void 0&&t.autoEnableTokens&&((a=t.tokenData[o.collectionID].tokens)===null||a===void 0?void 0:a.length)&&(t.selectedTokens[o.collectionID]={tokens:t.tokenData[o.collectionID].tokens}),t.tokenLookup[o.collectionID]||t.updateTokenLookupStore(o.collectionID,o,!1),n[o.collectionID]=o.onChain}}),this.currentIssuers=n},r.prototype.updateTokenLookupStore=function(e,t,n){n===void 0&&(n=!0),this.tokenLookup[e]=iu(iu(iu({},this.tokenLookup[e]),t),{timestamp:Date.now()}),n&&this.saveTokenStore()},r.prototype.formatCollectionChain=function(e){return e.toLowerCase()},r.prototype.formatCollectionID=function(e){var t=e;return(/[A-Z]+/g.test(e)||/\s+/g.test(e))&&(t=e.replace(/\s+/g,"-").toLowerCase(),qe(1,"Token Negotiator: Spaces or capital letters found in collectionID definition ".concat(e,", this has been re-formatted to ").concat(t)),e=t),e},r.LOCAL_STORAGE_KEY="tn-tokenStore",r}(),A5=function(){function r(e,t){this.params={},this.viewContainer=e,this.params=t}return r.prototype.render=function(){var e=this,t=this.params.src,n;t&&t!=="undefined"?(n=document.createElement("img"),n.loading="lazy",n.addEventListener("load",function(o){e.onLoad(o)}),n.addEventListener("error",function(o){e.onError(o)}),n.src=t):(n=this.createAvatar(),this.viewContainer.classList.remove("shimmer-tn")),this.viewContainer.appendChild(n)},r.prototype.onLoad=function(e){this.viewContainer.classList.remove("shimmer-tn")},r.prototype.onError=function(e){this.viewContainer.innerHTML="",this.viewContainer.appendChild(this.createAvatar()),this.viewContainer.classList.remove("shimmer-tn")},r.prototype.createAvatar=function(){var e=document.createElement("img");return e.src=this.generateAvatar(this.params.title),e},r.prototype.generateAvatar=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=200,t.height=200,!n)return"";n.fillStyle=this.getRandomBackgroundColor(),n.fillRect(0,0,t.width,t.height),n.font="bold 100px 'Arial', sans-serif",n.fillStyle="#fff",n.textAlign="center",n.textBaseline="middle";for(var o=e.split(" "),i="",a=0;i.length<2&&a<o.length;a++){var s=o[a].split("");s.length&&(i+=s[0].toUpperCase())}return n.fillText(i,t.width/2,t.height/2),t.toDataURL("image/png")},r.prototype.getRandomBackgroundColor=function(){return"#0029a7"},r}(),E5={exports:{}};const nD={},iD=Object.freeze(Object.defineProperty({__proto__:null,default:nD},Symbol.toStringTag,{value:"Module"})),xa=ar(iD);(function(r){(function(e,t){function n(v,l){if(!v)throw new Error(l||"Assertion failed")}function o(v,l){v.super_=l;var p=function(){};p.prototype=l.prototype,v.prototype=new p,v.prototype.constructor=v}function i(v,l,p){if(i.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((l==="le"||l==="be")&&(p=l,l=10),this._init(v||0,l||10,p||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=xa.Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,p){return l.cmp(p)>0?l:p},i.min=function(l,p){return l.cmp(p)<0?l:p},i.prototype._init=function(l,p,b){if(typeof l=="number")return this._initNumber(l,p,b);if(typeof l=="object")return this._initArray(l,p,b);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var y=0;l[0]==="-"&&(y++,this.negative=1),y<l.length&&(p===16?this._parseHex(l,y,b):(this._parseBase(l,p,y),b==="le"&&this._initArray(this.toArray(),p,b)))},i.prototype._initNumber=function(l,p,b){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),p,b)},i.prototype._initArray=function(l,p,b){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A,E,m=0;if(b==="be")for(y=l.length-1,A=0;y>=0;y-=3)E=l[y]|l[y-1]<<8|l[y-2]<<16,this.words[A]|=E<<m&67108863,this.words[A+1]=E>>>26-m&67108863,m+=24,m>=26&&(m-=26,A++);else if(b==="le")for(y=0,A=0;y<l.length;y+=3)E=l[y]|l[y+1]<<8|l[y+2]<<16,this.words[A]|=E<<m&67108863,this.words[A+1]=E>>>26-m&67108863,m+=24,m>=26&&(m-=26,A++);return this._strip()};function s(v,l){var p=v.charCodeAt(l);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+v)}function c(v,l,p){var b=s(v,p);return p-1>=l&&(b|=s(v,p-1)<<4),b}i.prototype._parseHex=function(l,p,b){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A=0,E=0,m;if(b==="be")for(y=l.length-1;y>=p;y-=2)m=c(l,p,y)<<A,this.words[E]|=m&67108863,A>=18?(A-=18,E+=1,this.words[E]|=m>>>26):A+=8;else{var g=l.length-p;for(y=g%2===0?p+1:p;y<l.length;y+=2)m=c(l,p,y)<<A,this.words[E]|=m&67108863,A>=18?(A-=18,E+=1,this.words[E]|=m>>>26):A+=8}this._strip()};function f(v,l,p,b){for(var y=0,A=0,E=Math.min(v.length,p),m=l;m<E;m++){var g=v.charCodeAt(m)-48;y*=b,g>=49?A=g-49+10:g>=17?A=g-17+10:A=g,n(g>=0&&A<b,"Invalid character"),y+=A}return y}i.prototype._parseBase=function(l,p,b){this.words=[0],this.length=1;for(var y=0,A=1;A<=67108863;A*=p)y++;y--,A=A/p|0;for(var E=l.length-b,m=E%y,g=Math.min(E,E-m)+b,d=0,k=b;k<g;k+=y)d=f(l,k,k+y,p),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(m!==0){var V=1;for(d=f(l,k,l.length,p),k=0;k<m;k++)V*=p;this.imuln(V),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},i.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red};function u(v,l){v.words=l.words,v.length=l.length,v.negative=l.negative,v.red=l.red}if(i.prototype._move=function(l){u(l,this)},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,p){l=l||10,p=p|0||1;var b;if(l===16||l==="hex"){b="";for(var y=0,A=0,E=0;E<this.length;E++){var m=this.words[E],g=((m<<y|A)&16777215).toString(16);A=m>>>24-y&16777215,y+=2,y>=26&&(y-=26,E--),A!==0||E!==this.length-1?b=w[6-g.length]+g+b:b=g+b}for(A!==0&&(b=A.toString(16)+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(l===(l|0)&&l>=2&&l<=36){var d=T[l],k=I[l];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var _=V.modrn(k).toString(l);V=V.idivn(k),V.isZero()?b=_+b:b=w[d-_.length]+_+b}for(this.isZero()&&(b="0"+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(l,p){return this.toArrayLike(a,l,p)}),i.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)};var R=function(l,p){return l.allocUnsafe?l.allocUnsafe(p):new l(p)};i.prototype.toArrayLike=function(l,p,b){this._strip();var y=this.byteLength(),A=b||Math.max(1,y);n(y<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0");var E=R(l,A),m=p==="le"?"LE":"BE";return this["_toArrayLike"+m](E,y),E},i.prototype._toArrayLikeLE=function(l,p){for(var b=0,y=0,A=0,E=0;A<this.length;A++){var m=this.words[A]<<E|y;l[b++]=m&255,b<l.length&&(l[b++]=m>>8&255),b<l.length&&(l[b++]=m>>16&255),E===6?(b<l.length&&(l[b++]=m>>24&255),y=0,E=0):(y=m>>>24,E+=2)}if(b<l.length)for(l[b++]=y;b<l.length;)l[b++]=0},i.prototype._toArrayLikeBE=function(l,p){for(var b=l.length-1,y=0,A=0,E=0;A<this.length;A++){var m=this.words[A]<<E|y;l[b--]=m&255,b>=0&&(l[b--]=m>>8&255),b>=0&&(l[b--]=m>>16&255),E===6?(b>=0&&(l[b--]=m>>24&255),y=0,E=0):(y=m>>>24,E+=2)}if(b>=0)for(l[b--]=y;b>=0;)l[b--]=0},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var p=l,b=0;return p>=4096&&(b+=13,p>>>=13),p>=64&&(b+=7,p>>>=7),p>=8&&(b+=4,p>>>=4),p>=2&&(b+=2,p>>>=2),b+p},i.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,b=0;return(p&8191)===0&&(b+=13,p>>>=13),(p&127)===0&&(b+=7,p>>>=7),(p&15)===0&&(b+=4,p>>>=4),(p&3)===0&&(b+=2,p>>>=2),(p&1)===0&&b++,b},i.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function P(v){for(var l=new Array(v.bitLength()),p=0;p<l.length;p++){var b=p/26|0,y=p%26;l[p]=v.words[b]>>>y&1}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var b=this._zeroBits(this.words[p]);if(l+=b,b!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this._strip()},i.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var b=0;b<p.length;b++)this.words[b]=this.words[b]&l.words[b];return this.length=p.length,this._strip()},i.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var p,b;this.length>l.length?(p=this,b=l):(p=l,b=this);for(var y=0;y<b.length;y++)this.words[y]=p.words[y]^b.words[y];if(this!==p)for(;y<p.length;y++)this.words[y]=p.words[y];return this.length=p.length,this._strip()},i.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,b=l%26;this._expand(p),b>0&&p--;for(var y=0;y<p;y++)this.words[y]=~this.words[y]&67108863;return b>0&&(this.words[y]=~this.words[y]&67108863>>26-b),this._strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,p){n(typeof l=="number"&&l>=0);var b=l/26|0,y=l%26;return this._expand(b+1),p?this.words[b]=this.words[b]|1<<y:this.words[b]=this.words[b]&~(1<<y),this._strip()},i.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var b,y;this.length>l.length?(b=this,y=l):(b=l,y=this);for(var A=0,E=0;E<y.length;E++)p=(b.words[E]|0)+(y.words[E]|0)+A,this.words[E]=p&67108863,A=p>>>26;for(;A!==0&&E<b.length;E++)p=(b.words[E]|0)+A,this.words[E]=p&67108863,A=p>>>26;if(this.length=b.length,A!==0)this.words[this.length]=A,this.length++;else if(b!==this)for(;E<b.length;E++)this.words[E]=b.words[E];return this},i.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var b=this.cmp(l);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,A;b>0?(y=this,A=l):(y=l,A=this);for(var E=0,m=0;m<A.length;m++)p=(y.words[m]|0)-(A.words[m]|0)+E,E=p>>26,this.words[m]=p&67108863;for(;E!==0&&m<y.length;m++)p=(y.words[m]|0)+E,E=p>>26,this.words[m]=p&67108863;if(E===0&&m<y.length&&y!==this)for(;m<y.length;m++)this.words[m]=y.words[m];return this.length=Math.max(this.length,m),y!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function B(v,l,p){p.negative=l.negative^v.negative;var b=v.length+l.length|0;p.length=b,b=b-1|0;var y=v.words[0]|0,A=l.words[0]|0,E=y*A,m=E&67108863,g=E/67108864|0;p.words[0]=m;for(var d=1;d<b;d++){for(var k=g>>>26,V=g&67108863,_=Math.min(d,l.length-1),U=Math.max(0,d-v.length+1);U<=_;U++){var K=d-U|0;y=v.words[K]|0,A=l.words[U]|0,E=y*A+V,k+=E/67108864|0,V=E&67108863}p.words[d]=V|0,g=k|0}return g!==0?p.words[d]=g|0:p.length--,p._strip()}var O=function(l,p,b){var y=l.words,A=p.words,E=b.words,m=0,g,d,k,V=y[0]|0,_=V&8191,U=V>>>13,K=y[1]|0,W=K&8191,re=K>>>13,pe=y[2]|0,fe=pe&8191,ae=pe>>>13,G=y[3]|0,z=G&8191,Y=G>>>13,N=y[4]|0,C=N&8191,M=N>>>13,D=y[5]|0,j=D&8191,Q=D>>>13,ee=y[6]|0,le=ee&8191,se=ee>>>13,ve=y[7]|0,ge=ve&8191,he=ve>>>13,Fe=y[8]|0,Pe=Fe&8191,Ee=Fe>>>13,nt=y[9]|0,Ke=nt&8191,Z=nt>>>13,oe=A[0]|0,Ce=oe&8191,me=oe>>>13,He=A[1]|0,Te=He&8191,Re=He>>>13,dt=A[2]|0,je=dt&8191,Ne=dt>>>13,ft=A[3]|0,We=ft&8191,xe=ft>>>13,_t=A[4]|0,et=_t&8191,Ue=_t>>>13,st=A[5]|0,Ze=st&8191,Be=st>>>13,yt=A[6]|0,Xe=yt&8191,Oe=yt>>>13,xt=A[7]|0,Ge=xt&8191,Le=xt>>>13,ot=A[8]|0,tt=ot&8191,De=ot>>>13,wt=A[9]|0,Ye=wt&8191,Qe=wt>>>13;b.negative=l.negative^p.negative,b.length=19,g=Math.imul(_,Ce),d=Math.imul(_,me),d=d+Math.imul(U,Ce)|0,k=Math.imul(U,me);var Ar=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,g=Math.imul(W,Ce),d=Math.imul(W,me),d=d+Math.imul(re,Ce)|0,k=Math.imul(re,me),g=g+Math.imul(_,Te)|0,d=d+Math.imul(_,Re)|0,d=d+Math.imul(U,Te)|0,k=k+Math.imul(U,Re)|0;var mr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,g=Math.imul(fe,Ce),d=Math.imul(fe,me),d=d+Math.imul(ae,Ce)|0,k=Math.imul(ae,me),g=g+Math.imul(W,Te)|0,d=d+Math.imul(W,Re)|0,d=d+Math.imul(re,Te)|0,k=k+Math.imul(re,Re)|0,g=g+Math.imul(_,je)|0,d=d+Math.imul(_,Ne)|0,d=d+Math.imul(U,je)|0,k=k+Math.imul(U,Ne)|0;var Pr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,g=Math.imul(z,Ce),d=Math.imul(z,me),d=d+Math.imul(Y,Ce)|0,k=Math.imul(Y,me),g=g+Math.imul(fe,Te)|0,d=d+Math.imul(fe,Re)|0,d=d+Math.imul(ae,Te)|0,k=k+Math.imul(ae,Re)|0,g=g+Math.imul(W,je)|0,d=d+Math.imul(W,Ne)|0,d=d+Math.imul(re,je)|0,k=k+Math.imul(re,Ne)|0,g=g+Math.imul(_,We)|0,d=d+Math.imul(_,xe)|0,d=d+Math.imul(U,We)|0,k=k+Math.imul(U,xe)|0;var Br=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,g=Math.imul(C,Ce),d=Math.imul(C,me),d=d+Math.imul(M,Ce)|0,k=Math.imul(M,me),g=g+Math.imul(z,Te)|0,d=d+Math.imul(z,Re)|0,d=d+Math.imul(Y,Te)|0,k=k+Math.imul(Y,Re)|0,g=g+Math.imul(fe,je)|0,d=d+Math.imul(fe,Ne)|0,d=d+Math.imul(ae,je)|0,k=k+Math.imul(ae,Ne)|0,g=g+Math.imul(W,We)|0,d=d+Math.imul(W,xe)|0,d=d+Math.imul(re,We)|0,k=k+Math.imul(re,xe)|0,g=g+Math.imul(_,et)|0,d=d+Math.imul(_,Ue)|0,d=d+Math.imul(U,et)|0,k=k+Math.imul(U,Ue)|0;var yr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(yr>>>26)|0,yr&=67108863,g=Math.imul(j,Ce),d=Math.imul(j,me),d=d+Math.imul(Q,Ce)|0,k=Math.imul(Q,me),g=g+Math.imul(C,Te)|0,d=d+Math.imul(C,Re)|0,d=d+Math.imul(M,Te)|0,k=k+Math.imul(M,Re)|0,g=g+Math.imul(z,je)|0,d=d+Math.imul(z,Ne)|0,d=d+Math.imul(Y,je)|0,k=k+Math.imul(Y,Ne)|0,g=g+Math.imul(fe,We)|0,d=d+Math.imul(fe,xe)|0,d=d+Math.imul(ae,We)|0,k=k+Math.imul(ae,xe)|0,g=g+Math.imul(W,et)|0,d=d+Math.imul(W,Ue)|0,d=d+Math.imul(re,et)|0,k=k+Math.imul(re,Ue)|0,g=g+Math.imul(_,Ze)|0,d=d+Math.imul(_,Be)|0,d=d+Math.imul(U,Ze)|0,k=k+Math.imul(U,Be)|0;var Un=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(le,Ce),d=Math.imul(le,me),d=d+Math.imul(se,Ce)|0,k=Math.imul(se,me),g=g+Math.imul(j,Te)|0,d=d+Math.imul(j,Re)|0,d=d+Math.imul(Q,Te)|0,k=k+Math.imul(Q,Re)|0,g=g+Math.imul(C,je)|0,d=d+Math.imul(C,Ne)|0,d=d+Math.imul(M,je)|0,k=k+Math.imul(M,Ne)|0,g=g+Math.imul(z,We)|0,d=d+Math.imul(z,xe)|0,d=d+Math.imul(Y,We)|0,k=k+Math.imul(Y,xe)|0,g=g+Math.imul(fe,et)|0,d=d+Math.imul(fe,Ue)|0,d=d+Math.imul(ae,et)|0,k=k+Math.imul(ae,Ue)|0,g=g+Math.imul(W,Ze)|0,d=d+Math.imul(W,Be)|0,d=d+Math.imul(re,Ze)|0,k=k+Math.imul(re,Be)|0,g=g+Math.imul(_,Xe)|0,d=d+Math.imul(_,Oe)|0,d=d+Math.imul(U,Xe)|0,k=k+Math.imul(U,Oe)|0;var Fn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(ge,Ce),d=Math.imul(ge,me),d=d+Math.imul(he,Ce)|0,k=Math.imul(he,me),g=g+Math.imul(le,Te)|0,d=d+Math.imul(le,Re)|0,d=d+Math.imul(se,Te)|0,k=k+Math.imul(se,Re)|0,g=g+Math.imul(j,je)|0,d=d+Math.imul(j,Ne)|0,d=d+Math.imul(Q,je)|0,k=k+Math.imul(Q,Ne)|0,g=g+Math.imul(C,We)|0,d=d+Math.imul(C,xe)|0,d=d+Math.imul(M,We)|0,k=k+Math.imul(M,xe)|0,g=g+Math.imul(z,et)|0,d=d+Math.imul(z,Ue)|0,d=d+Math.imul(Y,et)|0,k=k+Math.imul(Y,Ue)|0,g=g+Math.imul(fe,Ze)|0,d=d+Math.imul(fe,Be)|0,d=d+Math.imul(ae,Ze)|0,k=k+Math.imul(ae,Be)|0,g=g+Math.imul(W,Xe)|0,d=d+Math.imul(W,Oe)|0,d=d+Math.imul(re,Xe)|0,k=k+Math.imul(re,Oe)|0,g=g+Math.imul(_,Ge)|0,d=d+Math.imul(_,Le)|0,d=d+Math.imul(U,Ge)|0,k=k+Math.imul(U,Le)|0;var Hn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul(Pe,Ce),d=Math.imul(Pe,me),d=d+Math.imul(Ee,Ce)|0,k=Math.imul(Ee,me),g=g+Math.imul(ge,Te)|0,d=d+Math.imul(ge,Re)|0,d=d+Math.imul(he,Te)|0,k=k+Math.imul(he,Re)|0,g=g+Math.imul(le,je)|0,d=d+Math.imul(le,Ne)|0,d=d+Math.imul(se,je)|0,k=k+Math.imul(se,Ne)|0,g=g+Math.imul(j,We)|0,d=d+Math.imul(j,xe)|0,d=d+Math.imul(Q,We)|0,k=k+Math.imul(Q,xe)|0,g=g+Math.imul(C,et)|0,d=d+Math.imul(C,Ue)|0,d=d+Math.imul(M,et)|0,k=k+Math.imul(M,Ue)|0,g=g+Math.imul(z,Ze)|0,d=d+Math.imul(z,Be)|0,d=d+Math.imul(Y,Ze)|0,k=k+Math.imul(Y,Be)|0,g=g+Math.imul(fe,Xe)|0,d=d+Math.imul(fe,Oe)|0,d=d+Math.imul(ae,Xe)|0,k=k+Math.imul(ae,Oe)|0,g=g+Math.imul(W,Ge)|0,d=d+Math.imul(W,Le)|0,d=d+Math.imul(re,Ge)|0,k=k+Math.imul(re,Le)|0,g=g+Math.imul(_,tt)|0,d=d+Math.imul(_,De)|0,d=d+Math.imul(U,tt)|0,k=k+Math.imul(U,De)|0;var Vn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul(Ke,Ce),d=Math.imul(Ke,me),d=d+Math.imul(Z,Ce)|0,k=Math.imul(Z,me),g=g+Math.imul(Pe,Te)|0,d=d+Math.imul(Pe,Re)|0,d=d+Math.imul(Ee,Te)|0,k=k+Math.imul(Ee,Re)|0,g=g+Math.imul(ge,je)|0,d=d+Math.imul(ge,Ne)|0,d=d+Math.imul(he,je)|0,k=k+Math.imul(he,Ne)|0,g=g+Math.imul(le,We)|0,d=d+Math.imul(le,xe)|0,d=d+Math.imul(se,We)|0,k=k+Math.imul(se,xe)|0,g=g+Math.imul(j,et)|0,d=d+Math.imul(j,Ue)|0,d=d+Math.imul(Q,et)|0,k=k+Math.imul(Q,Ue)|0,g=g+Math.imul(C,Ze)|0,d=d+Math.imul(C,Be)|0,d=d+Math.imul(M,Ze)|0,k=k+Math.imul(M,Be)|0,g=g+Math.imul(z,Xe)|0,d=d+Math.imul(z,Oe)|0,d=d+Math.imul(Y,Xe)|0,k=k+Math.imul(Y,Oe)|0,g=g+Math.imul(fe,Ge)|0,d=d+Math.imul(fe,Le)|0,d=d+Math.imul(ae,Ge)|0,k=k+Math.imul(ae,Le)|0,g=g+Math.imul(W,tt)|0,d=d+Math.imul(W,De)|0,d=d+Math.imul(re,tt)|0,k=k+Math.imul(re,De)|0,g=g+Math.imul(_,Ye)|0,d=d+Math.imul(_,Qe)|0,d=d+Math.imul(U,Ye)|0,k=k+Math.imul(U,Qe)|0;var jn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul(Ke,Te),d=Math.imul(Ke,Re),d=d+Math.imul(Z,Te)|0,k=Math.imul(Z,Re),g=g+Math.imul(Pe,je)|0,d=d+Math.imul(Pe,Ne)|0,d=d+Math.imul(Ee,je)|0,k=k+Math.imul(Ee,Ne)|0,g=g+Math.imul(ge,We)|0,d=d+Math.imul(ge,xe)|0,d=d+Math.imul(he,We)|0,k=k+Math.imul(he,xe)|0,g=g+Math.imul(le,et)|0,d=d+Math.imul(le,Ue)|0,d=d+Math.imul(se,et)|0,k=k+Math.imul(se,Ue)|0,g=g+Math.imul(j,Ze)|0,d=d+Math.imul(j,Be)|0,d=d+Math.imul(Q,Ze)|0,k=k+Math.imul(Q,Be)|0,g=g+Math.imul(C,Xe)|0,d=d+Math.imul(C,Oe)|0,d=d+Math.imul(M,Xe)|0,k=k+Math.imul(M,Oe)|0,g=g+Math.imul(z,Ge)|0,d=d+Math.imul(z,Le)|0,d=d+Math.imul(Y,Ge)|0,k=k+Math.imul(Y,Le)|0,g=g+Math.imul(fe,tt)|0,d=d+Math.imul(fe,De)|0,d=d+Math.imul(ae,tt)|0,k=k+Math.imul(ae,De)|0,g=g+Math.imul(W,Ye)|0,d=d+Math.imul(W,Qe)|0,d=d+Math.imul(re,Ye)|0,k=k+Math.imul(re,Qe)|0;var un=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(un>>>26)|0,un&=67108863,g=Math.imul(Ke,je),d=Math.imul(Ke,Ne),d=d+Math.imul(Z,je)|0,k=Math.imul(Z,Ne),g=g+Math.imul(Pe,We)|0,d=d+Math.imul(Pe,xe)|0,d=d+Math.imul(Ee,We)|0,k=k+Math.imul(Ee,xe)|0,g=g+Math.imul(ge,et)|0,d=d+Math.imul(ge,Ue)|0,d=d+Math.imul(he,et)|0,k=k+Math.imul(he,Ue)|0,g=g+Math.imul(le,Ze)|0,d=d+Math.imul(le,Be)|0,d=d+Math.imul(se,Ze)|0,k=k+Math.imul(se,Be)|0,g=g+Math.imul(j,Xe)|0,d=d+Math.imul(j,Oe)|0,d=d+Math.imul(Q,Xe)|0,k=k+Math.imul(Q,Oe)|0,g=g+Math.imul(C,Ge)|0,d=d+Math.imul(C,Le)|0,d=d+Math.imul(M,Ge)|0,k=k+Math.imul(M,Le)|0,g=g+Math.imul(z,tt)|0,d=d+Math.imul(z,De)|0,d=d+Math.imul(Y,tt)|0,k=k+Math.imul(Y,De)|0,g=g+Math.imul(fe,Ye)|0,d=d+Math.imul(fe,Qe)|0,d=d+Math.imul(ae,Ye)|0,k=k+Math.imul(ae,Qe)|0;var Gn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul(Ke,We),d=Math.imul(Ke,xe),d=d+Math.imul(Z,We)|0,k=Math.imul(Z,xe),g=g+Math.imul(Pe,et)|0,d=d+Math.imul(Pe,Ue)|0,d=d+Math.imul(Ee,et)|0,k=k+Math.imul(Ee,Ue)|0,g=g+Math.imul(ge,Ze)|0,d=d+Math.imul(ge,Be)|0,d=d+Math.imul(he,Ze)|0,k=k+Math.imul(he,Be)|0,g=g+Math.imul(le,Xe)|0,d=d+Math.imul(le,Oe)|0,d=d+Math.imul(se,Xe)|0,k=k+Math.imul(se,Oe)|0,g=g+Math.imul(j,Ge)|0,d=d+Math.imul(j,Le)|0,d=d+Math.imul(Q,Ge)|0,k=k+Math.imul(Q,Le)|0,g=g+Math.imul(C,tt)|0,d=d+Math.imul(C,De)|0,d=d+Math.imul(M,tt)|0,k=k+Math.imul(M,De)|0,g=g+Math.imul(z,Ye)|0,d=d+Math.imul(z,Qe)|0,d=d+Math.imul(Y,Ye)|0,k=k+Math.imul(Y,Qe)|0;var zn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(zn>>>26)|0,zn&=67108863,g=Math.imul(Ke,et),d=Math.imul(Ke,Ue),d=d+Math.imul(Z,et)|0,k=Math.imul(Z,Ue),g=g+Math.imul(Pe,Ze)|0,d=d+Math.imul(Pe,Be)|0,d=d+Math.imul(Ee,Ze)|0,k=k+Math.imul(Ee,Be)|0,g=g+Math.imul(ge,Xe)|0,d=d+Math.imul(ge,Oe)|0,d=d+Math.imul(he,Xe)|0,k=k+Math.imul(he,Oe)|0,g=g+Math.imul(le,Ge)|0,d=d+Math.imul(le,Le)|0,d=d+Math.imul(se,Ge)|0,k=k+Math.imul(se,Le)|0,g=g+Math.imul(j,tt)|0,d=d+Math.imul(j,De)|0,d=d+Math.imul(Q,tt)|0,k=k+Math.imul(Q,De)|0,g=g+Math.imul(C,Ye)|0,d=d+Math.imul(C,Qe)|0,d=d+Math.imul(M,Ye)|0,k=k+Math.imul(M,Qe)|0;var qn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul(Ke,Ze),d=Math.imul(Ke,Be),d=d+Math.imul(Z,Ze)|0,k=Math.imul(Z,Be),g=g+Math.imul(Pe,Xe)|0,d=d+Math.imul(Pe,Oe)|0,d=d+Math.imul(Ee,Xe)|0,k=k+Math.imul(Ee,Oe)|0,g=g+Math.imul(ge,Ge)|0,d=d+Math.imul(ge,Le)|0,d=d+Math.imul(he,Ge)|0,k=k+Math.imul(he,Le)|0,g=g+Math.imul(le,tt)|0,d=d+Math.imul(le,De)|0,d=d+Math.imul(se,tt)|0,k=k+Math.imul(se,De)|0,g=g+Math.imul(j,Ye)|0,d=d+Math.imul(j,Qe)|0,d=d+Math.imul(Q,Ye)|0,k=k+Math.imul(Q,Qe)|0;var Kn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,g=Math.imul(Ke,Xe),d=Math.imul(Ke,Oe),d=d+Math.imul(Z,Xe)|0,k=Math.imul(Z,Oe),g=g+Math.imul(Pe,Ge)|0,d=d+Math.imul(Pe,Le)|0,d=d+Math.imul(Ee,Ge)|0,k=k+Math.imul(Ee,Le)|0,g=g+Math.imul(ge,tt)|0,d=d+Math.imul(ge,De)|0,d=d+Math.imul(he,tt)|0,k=k+Math.imul(he,De)|0,g=g+Math.imul(le,Ye)|0,d=d+Math.imul(le,Qe)|0,d=d+Math.imul(se,Ye)|0,k=k+Math.imul(se,Qe)|0;var at=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(at>>>26)|0,at&=67108863,g=Math.imul(Ke,Ge),d=Math.imul(Ke,Le),d=d+Math.imul(Z,Ge)|0,k=Math.imul(Z,Le),g=g+Math.imul(Pe,tt)|0,d=d+Math.imul(Pe,De)|0,d=d+Math.imul(Ee,tt)|0,k=k+Math.imul(Ee,De)|0,g=g+Math.imul(ge,Ye)|0,d=d+Math.imul(ge,Qe)|0,d=d+Math.imul(he,Ye)|0,k=k+Math.imul(he,Qe)|0;var Er=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,g=Math.imul(Ke,tt),d=Math.imul(Ke,De),d=d+Math.imul(Z,tt)|0,k=Math.imul(Z,De),g=g+Math.imul(Pe,Ye)|0,d=d+Math.imul(Pe,Qe)|0,d=d+Math.imul(Ee,Ye)|0,k=k+Math.imul(Ee,Qe)|0;var Tr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,g=Math.imul(Ke,Ye),d=Math.imul(Ke,Qe),d=d+Math.imul(Z,Ye)|0,k=Math.imul(Z,Qe);var zo=(m+g|0)+((d&8191)<<13)|0;return m=(k+(d>>>13)|0)+(zo>>>26)|0,zo&=67108863,E[0]=Ar,E[1]=mr,E[2]=Pr,E[3]=Br,E[4]=yr,E[5]=Un,E[6]=Fn,E[7]=Hn,E[8]=Vn,E[9]=jn,E[10]=un,E[11]=Gn,E[12]=zn,E[13]=qn,E[14]=Kn,E[15]=at,E[16]=Er,E[17]=Tr,E[18]=zo,m!==0&&(E[19]=m,b.length++),b};Math.imul||(O=B);function H(v,l,p){p.negative=l.negative^v.negative,p.length=v.length+l.length;for(var b=0,y=0,A=0;A<p.length-1;A++){var E=y;y=0;for(var m=b&67108863,g=Math.min(A,l.length-1),d=Math.max(0,A-v.length+1);d<=g;d++){var k=A-d,V=v.words[k]|0,_=l.words[d]|0,U=V*_,K=U&67108863;E=E+(U/67108864|0)|0,K=K+m|0,m=K&67108863,E=E+(K>>>26)|0,y+=E>>>26,E&=67108863}p.words[A]=m,b=E,E=y}return b!==0?p.words[A]=b:p.length--,p._strip()}function $(v,l,p){return H(v,l,p)}i.prototype.mulTo=function(l,p){var b,y=this.length+l.length;return this.length===10&&l.length===10?b=O(this,l,p):y<63?b=B(this,l,p):y<1024?b=H(this,l,p):b=$(this,l,p),b},i.prototype.mul=function(l){var p=new i(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},i.prototype.mulf=function(l){var p=new i(null);return p.words=new Array(this.length+l.length),$(this,l,p)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){var p=l<0;p&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var b=0,y=0;y<this.length;y++){var A=(this.words[y]|0)*l,E=(A&67108863)+(b&67108863);b>>=26,b+=A/67108864|0,b+=E>>>26,this.words[y]=E&67108863}return b!==0&&(this.words[y]=b,this.length++),p?this.ineg():this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var p=P(l);if(p.length===0)return new i(1);for(var b=this,y=0;y<p.length&&p[y]===0;y++,b=b.sqr());if(++y<p.length)for(var A=b.sqr();y<p.length;y++,A=A.sqr())p[y]!==0&&(b=b.mul(A));return b},i.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var p=l%26,b=(l-p)/26,y=67108863>>>26-p<<26-p,A;if(p!==0){var E=0;for(A=0;A<this.length;A++){var m=this.words[A]&y,g=(this.words[A]|0)-m<<p;this.words[A]=g|E,E=m>>>26-p}E&&(this.words[A]=E,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this._strip()},i.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,p,b){n(typeof l=="number"&&l>=0);var y;p?y=(p-p%26)/26:y=0;var A=l%26,E=Math.min((l-A)/26,this.length),m=67108863^67108863>>>A<<A,g=b;if(y-=E,y=Math.max(0,y),g){for(var d=0;d<E;d++)g.words[d]=this.words[d];g.length=E}if(E!==0)if(this.length>E)for(this.length-=E,d=0;d<this.length;d++)this.words[d]=this.words[d+E];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(k!==0||d>=y);d--){var V=this.words[d]|0;this.words[d]=k<<26-A|V>>>A,k=V&m}return g&&k!==0&&(g.words[g.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(l,p,b){return n(this.negative===0),this.iushrn(l,p,b)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var p=l%26,b=(l-p)/26,y=1<<p;if(this.length<=b)return!1;var A=this.words[b];return!!(A&y)},i.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var p=l%26,b=(l-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(p!==0&&b++,this.length=Math.min(b,this.length),p!==0){var y=67108863^67108863>>>p<<p;this.words[this.length-1]&=y}return this._strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,p,b){var y=l.length+b,A;this._expand(y);var E,m=0;for(A=0;A<l.length;A++){E=(this.words[A+b]|0)+m;var g=(l.words[A]|0)*p;E-=g&67108863,m=(E>>26)-(g/67108864|0),this.words[A+b]=E&67108863}for(;A<this.length-b;A++)E=(this.words[A+b]|0)+m,m=E>>26,this.words[A+b]=E&67108863;if(m===0)return this._strip();for(n(m===-1),m=0,A=0;A<this.length;A++)E=-(this.words[A]|0)+m,m=E>>26,this.words[A]=E&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(l,p){var b=this.length-l.length,y=this.clone(),A=l,E=A.words[A.length-1]|0,m=this._countBits(E);b=26-m,b!==0&&(A=A.ushln(b),y.iushln(b),E=A.words[A.length-1]|0);var g=y.length-A.length,d;if(p!=="mod"){d=new i(null),d.length=g+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var V=y.clone()._ishlnsubmul(A,1,g);V.negative===0&&(y=V,d&&(d.words[g]=1));for(var _=g-1;_>=0;_--){var U=(y.words[A.length+_]|0)*67108864+(y.words[A.length+_-1]|0);for(U=Math.min(U/E|0,67108863),y._ishlnsubmul(A,U,_);y.negative!==0;)U--,y.negative=0,y._ishlnsubmul(A,1,_),y.isZero()||(y.negative^=1);d&&(d.words[_]=U)}return d&&d._strip(),y._strip(),p!=="div"&&b!==0&&y.iushrn(b),{div:d||null,mod:y}},i.prototype.divmod=function(l,p,b){if(n(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,A,E;return this.negative!==0&&l.negative===0?(E=this.neg().divmod(l,p),p!=="mod"&&(y=E.div.neg()),p!=="div"&&(A=E.mod.neg(),b&&A.negative!==0&&A.iadd(l)),{div:y,mod:A}):this.negative===0&&l.negative!==0?(E=this.divmod(l.neg(),p),p!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):(this.negative&l.negative)!==0?(E=this.neg().divmod(l.neg(),p),p!=="div"&&(A=E.mod.neg(),b&&A.negative!==0&&A.isub(l)),{div:E.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modrn(l.words[0]))}:this._wordDiv(l,p)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var b=p.div.negative!==0?p.mod.isub(l):p.mod,y=l.ushrn(1),A=l.andln(1),E=b.cmp(y);return E<0||A===1&&E===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modrn=function(l){var p=l<0;p&&(l=-l),n(l<=67108863);for(var b=(1<<26)%l,y=0,A=this.length-1;A>=0;A--)y=(b*y+(this.words[A]|0))%l;return p?-y:y},i.prototype.modn=function(l){return this.modrn(l)},i.prototype.idivn=function(l){var p=l<0;p&&(l=-l),n(l<=67108863);for(var b=0,y=this.length-1;y>=0;y--){var A=(this.words[y]|0)+b*67108864;this.words[y]=A/l|0,b=A%l}return this._strip(),p?this.ineg():this},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var p=this,b=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var y=new i(1),A=new i(0),E=new i(0),m=new i(1),g=0;p.isEven()&&b.isEven();)p.iushrn(1),b.iushrn(1),++g;for(var d=b.clone(),k=p.clone();!p.isZero();){for(var V=0,_=1;(p.words[0]&_)===0&&V<26;++V,_<<=1);if(V>0)for(p.iushrn(V);V-- >0;)(y.isOdd()||A.isOdd())&&(y.iadd(d),A.isub(k)),y.iushrn(1),A.iushrn(1);for(var U=0,K=1;(b.words[0]&K)===0&&U<26;++U,K<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(E.isOdd()||m.isOdd())&&(E.iadd(d),m.isub(k)),E.iushrn(1),m.iushrn(1);p.cmp(b)>=0?(p.isub(b),y.isub(E),A.isub(m)):(b.isub(p),E.isub(y),m.isub(A))}return{a:E,b:m,gcd:b.iushln(g)}},i.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var p=this,b=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var y=new i(1),A=new i(0),E=b.clone();p.cmpn(1)>0&&b.cmpn(1)>0;){for(var m=0,g=1;(p.words[0]&g)===0&&m<26;++m,g<<=1);if(m>0)for(p.iushrn(m);m-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var d=0,k=1;(b.words[0]&k)===0&&d<26;++d,k<<=1);if(d>0)for(b.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(E),A.iushrn(1);p.cmp(b)>=0?(p.isub(b),y.isub(A)):(b.isub(p),A.isub(y))}var V;return p.cmpn(1)===0?V=y:V=A,V.cmpn(0)<0&&V.iadd(l),V},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),b=l.clone();p.negative=0,b.negative=0;for(var y=0;p.isEven()&&b.isEven();y++)p.iushrn(1),b.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;b.isEven();)b.iushrn(1);var A=p.cmp(b);if(A<0){var E=p;p=b,b=E}else if(A===0||b.cmpn(1)===0)break;p.isub(b)}while(!0);return b.iushln(y)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){n(typeof l=="number");var p=l%26,b=(l-p)/26,y=1<<p;if(this.length<=b)return this._expand(b+1),this.words[b]|=y,this;for(var A=y,E=b;A!==0&&E<this.length;E++){var m=this.words[E]|0;m+=A,A=m>>>26,m&=67108863,this.words[E]=m}return A!==0&&(this.words[E]=A,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var b;if(this.length>1)b=1;else{p&&(l=-l),n(l<=67108863,"Number is too big");var y=this.words[0]|0;b=y===l?0:y<l?-1:1}return this.negative!==0?-b|0:b},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,b=this.length-1;b>=0;b--){var y=this.words[b]|0,A=l.words[b]|0;if(y!==A){y<A?p=-1:y>A&&(p=1);break}}return p},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new L(l)},i.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var J={k256:null,p224:null,p192:null,p25519:null};function ie(v,l){this.name=v,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ie.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},ie.prototype.ireduce=function(l){var p=l,b;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),b=p.bitLength();while(b>this.n);var y=b<this.n?-1:p.ucmp(this.p);return y===0?(p.words[0]=0,p.length=1):y>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},ie.prototype.split=function(l,p){l.iushrn(this.n,0,p)},ie.prototype.imulK=function(l){return l.imul(this.k)};function we(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(we,ie),we.prototype.split=function(l,p){for(var b=4194303,y=Math.min(l.length,9),A=0;A<y;A++)p.words[A]=l.words[A];if(p.length=y,l.length<=9){l.words[0]=0,l.length=1;return}var E=l.words[9];for(p.words[p.length++]=E&b,A=10;A<l.length;A++){var m=l.words[A]|0;l.words[A-10]=(m&b)<<4|E>>>22,E=m}E>>>=22,l.words[A-10]=E,E===0&&l.length>10?l.length-=10:l.length-=9},we.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,b=0;b<l.length;b++){var y=l.words[b]|0;p+=y*977,l.words[b]=p&67108863,p=y*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function de(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(de,ie);function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(ce,ie);function be(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(be,ie),be.prototype.imulK=function(l){for(var p=0,b=0;b<l.length;b++){var y=(l.words[b]|0)*19+p,A=y&67108863;y>>>=26,l.words[b]=A,p=y}return p!==0&&(l.words[l.length++]=p),l},i._prime=function(l){if(J[l])return J[l];var p;if(l==="k256")p=new we;else if(l==="p224")p=new de;else if(l==="p192")p=new ce;else if(l==="p25519")p=new be;else throw new Error("Unknown prime "+l);return J[l]=p,p};function L(v){if(typeof v=="string"){var l=i._prime(v);this.m=l.p,this.prime=l}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}L.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},L.prototype._verify2=function(l,p){n((l.negative|p.negative)===0,"red works only with positives"),n(l.red&&l.red===p.red,"red works only with red numbers")},L.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(u(l,l.umod(this.m)._forceRed(this)),l)},L.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},L.prototype.add=function(l,p){this._verify2(l,p);var b=l.add(p);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},L.prototype.iadd=function(l,p){this._verify2(l,p);var b=l.iadd(p);return b.cmp(this.m)>=0&&b.isub(this.m),b},L.prototype.sub=function(l,p){this._verify2(l,p);var b=l.sub(p);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},L.prototype.isub=function(l,p){this._verify2(l,p);var b=l.isub(p);return b.cmpn(0)<0&&b.iadd(this.m),b},L.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},L.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},L.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},L.prototype.isqr=function(l){return this.imul(l,l.clone())},L.prototype.sqr=function(l){return this.mul(l,l)},L.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(l,b)}for(var y=this.m.subn(1),A=0;!y.isZero()&&y.andln(1)===0;)A++,y.iushrn(1);n(!y.isZero());var E=new i(1).toRed(this),m=E.redNeg(),g=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,g).cmp(m)!==0;)d.redIAdd(m);for(var k=this.pow(d,y),V=this.pow(l,y.addn(1).iushrn(1)),_=this.pow(l,y),U=A;_.cmp(E)!==0;){for(var K=_,W=0;K.cmp(E)!==0;W++)K=K.redSqr();n(W<U);var re=this.pow(k,new i(1).iushln(U-W-1));V=V.redMul(re),k=re.redSqr(),_=_.redMul(k),U=W}return V},L.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},L.prototype.pow=function(l,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var b=4,y=new Array(1<<b);y[0]=new i(1).toRed(this),y[1]=l;for(var A=2;A<y.length;A++)y[A]=this.mul(y[A-1],l);var E=y[0],m=0,g=0,d=p.bitLength()%26;for(d===0&&(d=26),A=p.length-1;A>=0;A--){for(var k=p.words[A],V=d-1;V>=0;V--){var _=k>>V&1;if(E!==y[0]&&(E=this.sqr(E)),_===0&&m===0){g=0;continue}m<<=1,m|=_,g++,!(g!==b&&(A!==0||V!==0))&&(E=this.mul(E,y[m]),g=0,m=0)}d=26}return E},L.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},L.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},i.mont=function(l){return new S(l)};function S(v){L.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(S,L),S.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},S.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},S.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var b=l.imul(p),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(y).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},S.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new i(0)._forceRed(this);var b=l.mul(p),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(y).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},S.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,gt)})(E5);const oD=E5.exports,aD="logger/5.7.0";let Wx=!1,Qx=!1;const bd={debug:1,default:2,info:2,warning:3,error:4,off:5};let Jx=bd.default,Q1=null;function sD(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const Yx=sD();var Kd;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Kd||(Kd={}));var kn;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(kn||(kn={}));const Zx="0123456789abcdef";class X{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();bd[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Jx>bd[n])&&console.log.apply(console,t)}debug(...e){this._log(X.levels.DEBUG,e)}info(...e){this._log(X.levels.INFO,e)}warn(...e){this._log(X.levels.WARNING,e)}makeError(e,t,n){if(Qx)return this.makeError("censored error",t,{});t||(t=X.errors.UNKNOWN_ERROR),n||(n={});const o=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let u="";for(let h=0;h<f.length;h++)u+=Zx[f[h]>>4],u+=Zx[f[h]&15];o.push(c+"=Uint8Array(0x"+u+")")}else o.push(c+"="+JSON.stringify(f))}catch{o.push(c+"="+JSON.stringify(n[c].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);const i=e;let a="";switch(t){case kn.NUMERIC_FAULT:{a="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":a+="-"+c;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case kn.CALL_EXCEPTION:case kn.INSUFFICIENT_FUNDS:case kn.MISSING_NEW:case kn.NONCE_EXPIRED:case kn.REPLACEMENT_UNDERPRICED:case kn.TRANSACTION_REPLACED:case kn.UNPREDICTABLE_GAS_LIMIT:a=t;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),o.length&&(e+=" ("+o.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(n).forEach(function(c){s[c]=n[c]}),s}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,X.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){Yx&&this.throwError("platform missing String.prototype.normalize",X.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Yx})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,X.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,X.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,X.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,X.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",X.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",X.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",X.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Q1||(Q1=new X(aD)),Q1}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",X.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Wx){if(!e)return;this.globalLogger().throwError("error censorship permanent",X.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Qx=!!e,Wx=!!t}static setLogLevel(e){const t=bd[e.toLowerCase()];if(t==null){X.globalLogger().warn("invalid log level - "+e);return}Jx=t}static from(e){return new X(e)}}X.errors=kn;X.levels=Kd;const fD=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return Kd},get ErrorCode(){return kn},Logger:X},Symbol.toStringTag,{value:"Module"})),cD="bytes/5.7.0",hr=new X(cD);function _5(r){return!!r.toHexString}function sc(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return sc(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Jc(r){return lt(r)&&!(r.length%2)||wa(r)}function Xx(r){return typeof r=="number"&&r==r&&r%1===0}function wa(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Xx(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Xx(t)||t<0||t>=256)return!1}return!0}function _e(r,e){if(e||(e={}),typeof r=="number"){hr.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),sc(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),_5(r)&&(r=r.toHexString()),lt(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":hr.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(t.substring(o,o+2),16));return sc(new Uint8Array(n))}return wa(r)?sc(new Uint8Array(r)):hr.throwArgumentError("invalid arrayify value","value",r)}function Qt(r){const e=r.map(o=>_e(o)),t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t);return e.reduce((o,i)=>(n.set(i,o),o+i.length),0),sc(n)}function $i(r){let e=_e(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function fc(r,e){r=_e(r),r.length>e&&hr.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),sc(t)}function lt(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const J1="0123456789abcdef";function ke(r,e){if(e||(e={}),typeof r=="number"){hr.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=J1[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),_5(r))return r.toHexString();if(lt(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":hr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(wa(r)){let t="0x";for(let n=0;n<r.length;n++){let o=r[n];t+=J1[(o&240)>>4]+J1[o&15]}return t}return hr.throwArgumentError("invalid hexlify value","value",r)}function Yi(r){if(typeof r!="string")r=ke(r);else if(!lt(r)||r.length%2)return null;return(r.length-2)/2}function pr(r,e,t){return typeof r!="string"?r=ke(r):(!lt(r)||r.length%2)&&hr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function rn(r){let e="0x";return r.forEach(t=>{e+=ke(t).substring(2)}),e}function Yc(r){const e=qm(ke(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function qm(r){typeof r!="string"&&(r=ke(r)),lt(r)||hr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Jt(r,e){for(typeof r!="string"?r=ke(r):lt(r)||hr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&hr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function us(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Jc(r)){let t=_e(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=ke(t.slice(0,32)),e.s=ke(t.slice(32,64))):t.length===65?(e.r=ke(t.slice(0,32)),e.s=ke(t.slice(32,64)),e.v=t[64]):hr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:hr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=ke(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const o=fc(_e(e._vs),32);e._vs=ke(o);const i=o[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&hr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),o[0]&=127;const a=ke(o);e.s==null?e.s=a:e.s!==a&&hr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?hr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&hr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!lt(e.r)?hr.throwArgumentError("signature missing or invalid r","signature",r):e.r=Jt(e.r,32),e.s==null||!lt(e.s)?hr.throwArgumentError("signature missing or invalid s","signature",r):e.s=Jt(e.s,32);const t=_e(e.s);t[0]>=128&&hr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=ke(t);e._vs&&(lt(e._vs)||hr.throwArgumentError("signature invalid _vs","signature",r),e._vs=Jt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&hr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function $d(r){return r=us(r),ke(Qt([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const lD=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike:Jc,isBytes:wa,arrayify:_e,concat:Qt,stripZeros:$i,zeroPad:fc,isHexString:lt,hexlify:ke,hexDataLength:Yi,hexDataSlice:pr,hexConcat:rn,hexValue:Yc,hexStripZeros:qm,hexZeroPad:Jt,splitSignature:us,joinSignature:$d},Symbol.toStringTag,{value:"Module"})),S5="bignumber/5.7.0";var wu=oD.BN;const Jo=new X(S5),Y1={},e3=9007199254740991;function uD(r){return r!=null&&(Se.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||lt(r)||typeof r=="bigint"||wa(r))}let t3=!1;class Se{constructor(e,t){e!==Y1&&Jo.throwError("cannot call constructor directly; use BigNumber.from",X.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return _n(St(this).fromTwos(e))}toTwos(e){return _n(St(this).toTwos(e))}abs(){return this._hex[0]==="-"?Se.from(this._hex.substring(1)):this}add(e){return _n(St(this).add(St(e)))}sub(e){return _n(St(this).sub(St(e)))}div(e){return Se.from(e).isZero()&&si("division-by-zero","div"),_n(St(this).div(St(e)))}mul(e){return _n(St(this).mul(St(e)))}mod(e){const t=St(e);return t.isNeg()&&si("division-by-zero","mod"),_n(St(this).umod(t))}pow(e){const t=St(e);return t.isNeg()&&si("negative-power","pow"),_n(St(this).pow(t))}and(e){const t=St(e);return(this.isNegative()||t.isNeg())&&si("unbound-bitwise-result","and"),_n(St(this).and(t))}or(e){const t=St(e);return(this.isNegative()||t.isNeg())&&si("unbound-bitwise-result","or"),_n(St(this).or(t))}xor(e){const t=St(e);return(this.isNegative()||t.isNeg())&&si("unbound-bitwise-result","xor"),_n(St(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&si("negative-width","mask"),_n(St(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&si("negative-width","shl"),_n(St(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&si("negative-width","shr"),_n(St(this).shrn(e))}eq(e){return St(this).eq(St(e))}lt(e){return St(this).lt(St(e))}lte(e){return St(this).lte(St(e))}gt(e){return St(this).gt(St(e))}gte(e){return St(this).gte(St(e))}isNegative(){return this._hex[0]==="-"}isZero(){return St(this).isZero()}toNumber(){try{return St(this).toNumber()}catch{si("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Jo.throwError("this platform does not support BigInt",X.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?t3||(t3=!0,Jo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Jo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",X.errors.UNEXPECTED_ARGUMENT,{}):Jo.throwError("BigNumber.toString does not accept parameters",X.errors.UNEXPECTED_ARGUMENT,{})),St(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Se)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Se(Y1,Au(e)):e.match(/^-?[0-9]+$/)?new Se(Y1,Au(new wu(e))):Jo.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&si("underflow","BigNumber.from",e),(e>=e3||e<=-e3)&&si("overflow","BigNumber.from",e),Se.from(String(e));const t=e;if(typeof t=="bigint")return Se.from(t.toString());if(wa(t))return Se.from(ke(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return Se.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(lt(n)||n[0]==="-"&&lt(n.substring(1))))return Se.from(n)}return Jo.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Au(r){if(typeof r!="string")return Au(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Jo.throwArgumentError("invalid hex","value",r),r=Au(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function _n(r){return Se.from(Au(r))}function St(r){const e=Se.from(r).toHexString();return e[0]==="-"?new wu("-"+e.substring(3),16):new wu(e.substring(2),16)}function si(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),Jo.throwError(r,X.errors.NUMERIC_FAULT,n)}function dD(r){return new wu(r,36).toString(16)}function hD(r){return new wu(r,16).toString(36)}const mn=new X(S5),ou={},T5=Se.from(0),k5=Se.from(-1);function C5(r,e,t,n){const o={fault:e,operation:t};return n!==void 0&&(o.value=n),mn.throwError(r,X.errors.NUMERIC_FAULT,o)}let au="0";for(;au.length<256;)au+=au;function Km(r){if(typeof r!="number")try{r=Se.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+au.substring(0,r):mn.throwArgumentError("invalid decimal size","decimals",r)}function md(r,e){e==null&&(e=0);const t=Km(e);r=Se.from(r);const n=r.lt(T5);n&&(r=r.mul(k5));let o=r.mod(t).toString();for(;o.length<t.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=r.div(t).toString();return t.length===1?r=i:r=i+"."+o,n&&(r="-"+r),r}function ho(r,e){e==null&&(e=0);const t=Km(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&mn.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&mn.throwArgumentError("missing value","value",r);const o=r.split(".");o.length>2&&mn.throwArgumentError("too many decimal points","value",r);let i=o[0],a=o[1];for(i||(i="0"),a||(a="0");a[a.length-1]==="0";)a=a.substring(0,a.length-1);for(a.length>t.length-1&&C5("fractional component exceeds decimals","underflow","parseFixed"),a===""&&(a="0");a.length<t.length-1;)a+="0";const s=Se.from(i),c=Se.from(a);let f=s.mul(t).add(c);return n&&(f=f.mul(k5)),f}class cc{constructor(e,t,n,o){e!==ou&&mn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",X.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=o,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(o),this._multiplier=Km(o),Object.freeze(this)}static from(e){if(e instanceof cc)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,o=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||mn.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",n=parseInt(i[2]),o=parseInt(i[3])}}else if(e){const i=(a,s,c)=>e[a]==null?c:(typeof e[a]!==s&&mn.throwArgumentError("invalid fixed format ("+a+" not "+s+")","format."+a,e[a]),e[a]);t=i("signed","boolean",t),n=i("width","number",n),o=i("decimals","number",o)}return n%8&&mn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),o>80&&mn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",o),new cc(ou,t,n,o)}}class Mr{constructor(e,t,n,o){e!==ou&&mn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",X.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=o,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&mn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=ho(this._value,this.format.decimals),n=ho(e._value,e.format.decimals);return Mr.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=ho(this._value,this.format.decimals),n=ho(e._value,e.format.decimals);return Mr.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=ho(this._value,this.format.decimals),n=ho(e._value,e.format.decimals);return Mr.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=ho(this._value,this.format.decimals),n=ho(e._value,e.format.decimals);return Mr.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Mr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(r3.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Mr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(r3.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&mn.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=Mr.from("1"+au.substring(0,e),this.format),o=pD.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(o).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&mn.throwArgumentError("invalid byte width","width",e);const t=Se.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Jt(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Mr.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!uD(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),Mr.fromString(md(e,t),cc.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=cc.from(t),o=ho(e,n.decimals);!n.signed&&o.lt(T5)&&C5("unsigned value cannot be negative","overflow","value",e);let i=null;n.signed?i=o.toTwos(n.width).toHexString():(i=o.toHexString(),i=Jt(i,n.width/8));const a=md(o,n.decimals);return new Mr(ou,i,a,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=cc.from(t);if(_e(e).length>n.width/8)throw new Error("overflow");let o=Se.from(e);n.signed&&(o=o.fromTwos(n.width));const i=o.toTwos((n.signed?0:1)+n.width).toHexString(),a=md(o,n.decimals);return new Mr(ou,i,a,n)}static from(e,t){if(typeof e=="string")return Mr.fromString(e,t);if(wa(e))return Mr.fromBytes(e,t);try{return Mr.fromValue(e,0,t)}catch(n){if(n.code!==X.errors.INVALID_ARGUMENT)throw n}return mn.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const r3=Mr.from(1),pD=Mr.from("0.5"),gD="properties/5.7.0";var vD=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Wd=new X(gD);function ue(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Dr(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function cr(r){return vD(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const o=r[n];return Promise.resolve(o).then(i=>({key:n,value:i}))});return(yield Promise.all(e)).reduce((n,o)=>(n[o.key]=o.value,n),{})})}function qh(r,e){(!r||typeof r!="object")&&Wd.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||Wd.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Zt(r){const e={};for(const t in r)e[t]=r[t];return e}const bD={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function M5(r){if(r==null||bD[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!M5(n))return!1}return!0}return Wd.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function mD(r){if(M5(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>sn(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&ue(e,t,sn(n))}return e}return Wd.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function sn(r){return mD(r)}class ds{constructor(e){for(const t in e)this[t]=sn(e[t])}}const yD=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly:ue,getStatic:Dr,resolveProperties:cr,checkProperties:qh,shallowCopy:Zt,deepCopy:sn,Description:ds},Symbol.toStringTag,{value:"Module"})),qu="abi/5.7.0",It=new X(qu),Js={};let n3={calldata:!0,memory:!0,storage:!0},xD={calldata:!0,memory:!0};function V0(r,e){if(r==="bytes"||r==="string"){if(n3[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&xD[e])return!0;return(n3[e]||e==="payable")&&It.throwArgumentError("invalid modifier","name",e),!1}function wD(r,e){let t=r;function n(s){It.throwArgumentError(`unexpected character at position ${s}`,"param",r)}r=r.replace(/\s/g," ");function o(s){let c={type:"",name:"",parent:s,state:{allowType:!0}};return e&&(c.indexed=!1),c}let i={type:"",name:"",state:{allowType:!0}},a=i;for(let s=0;s<r.length;s++){let c=r[s];switch(c){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(s),a.state.allowType=!1,a.type=zf(a.type),a.components=[o(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(s),a.indexed=!0,a.name=""),V0(a.type,a.name)&&(a.name=""),a.type=zf(a.type);let f=a;a=a.parent,a||n(s),delete f.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(s),a.indexed=!0,a.name=""),V0(a.type,a.name)&&(a.name=""),a.type=zf(a.type);let u=o(a.parent);a.parent.components.push(u),delete a.parent,a=u;break;case" ":a.state.allowType&&a.type!==""&&(a.type=zf(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(s),a.indexed&&n(s),a.indexed=!0,a.name=""):V0(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(s),a.type+=c,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(s),a.type+=c,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=c,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=c,delete a.state.allowArray):a.state.readArray?a.type+=c:n(s)}}return a.parent&&It.throwArgumentError("unexpected eof","param",r),delete i.state,a.name==="indexed"?(e||n(t.length-7),a.indexed&&n(t.length-7),a.indexed=!0,a.name=""):V0(a.type,a.name)&&(a.name=""),i.type=zf(i.type),i}function yd(r,e){for(let t in e)ue(r,t,e[t])}const Bt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),AD=new RegExp(/^(.*)\[([0-9]*)\]$/);class Sr{constructor(e,t){e!==Js&&It.throwError("use fromString",X.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),yd(this,t);let n=this.type.match(AD);n?yd(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Sr.fromObject({type:n[1],components:this.components}),baseType:"array"}):yd(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Bt.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===Bt.full?", ":",")+")"):t+=this.type,e!==Bt.sighash&&(this.indexed===!0&&(t+=" indexed"),e===Bt.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Sr.fromString(e,t):Sr.fromObject(e)}static fromObject(e){return Sr.isParamType(e)?e:new Sr(Js,{name:e.name||null,type:zf(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Sr.fromObject):null})}static fromString(e,t){function n(o){return Sr.fromObject({name:o.name,type:o.type,indexed:o.indexed,components:o.components})}return n(wD(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Eu(r,e){return _D(r).map(t=>Sr.fromString(t,e))}class ji{constructor(e,t){e!==Js&&It.throwError("use a static from method",X.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),yd(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return ji.isFragment(e)?e:typeof e=="string"?ji.fromString(e):ji.fromObject(e)}static fromObject(e){if(ji.isFragment(e))return e;switch(e.type){case"function":return gi.fromObject(e);case"event":return Hi.fromObject(e);case"constructor":return pi.fromObject(e);case"error":return wo.fromObject(e);case"fallback":case"receive":return null}return It.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Hi.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?gi.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?pi.fromString(e.trim()):e.split(" ")[0]==="error"?wo.fromString(e.substring(5).trim()):It.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Hi extends ji{format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Bt.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?Hi.fromString(e):Hi.fromObject(e)}static fromObject(e){if(Hi.isEventFragment(e))return e;e.type!=="event"&&It.throwArgumentError("invalid event object","value",e);const t={name:_u(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Sr.fromObject):[],type:"event"};return new Hi(Js,t)}static fromString(e){let t=e.match(Su);t||It.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(o=>{switch(o.trim()){case"anonymous":n=!0;break;case"":break;default:It.warn("unknown modifier: "+o)}}),Hi.fromObject({name:t[1].trim(),anonymous:n,inputs:Eu(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function I5(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&It.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||It.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=Se.from(t[1]),t[0]):r}function P5(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function B5(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&It.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&It.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&It.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&It.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&It.throwArgumentError("unable to determine stateMutability","value",r),e}class pi extends ji{format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Bt.sighash&&It.throwError("cannot format a constructor for sighash",X.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?pi.fromString(e):pi.fromObject(e)}static fromObject(e){if(pi.isConstructorFragment(e))return e;e.type!=="constructor"&&It.throwArgumentError("invalid constructor object","value",e);let t=B5(e);t.constant&&It.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Sr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Se.from(e.gas):null};return new pi(Js,n)}static fromString(e){let t={type:"constructor"};e=I5(e,t);let n=e.match(Su);return(!n||n[1].trim()!=="constructor")&&It.throwArgumentError("invalid constructor string","value",e),t.inputs=Eu(n[2].trim(),!1),P5(n[3].trim(),t),pi.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class gi extends pi{format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Bt.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?gi.fromString(e):gi.fromObject(e)}static fromObject(e){if(gi.isFunctionFragment(e))return e;e.type!=="function"&&It.throwArgumentError("invalid function object","value",e);let t=B5(e);const n={type:e.type,name:_u(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Sr.fromObject):[],outputs:e.outputs?e.outputs.map(Sr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Se.from(e.gas):null};return new gi(Js,n)}static fromString(e){let t={type:"function"};e=I5(e,t);let n=e.split(" returns ");n.length>2&&It.throwArgumentError("invalid function string","value",e);let o=n[0].match(Su);if(o||It.throwArgumentError("invalid function signature","value",e),t.name=o[1].trim(),t.name&&_u(t.name),t.inputs=Eu(o[2],!1),P5(o[3].trim(),t),n.length>1){let i=n[1].match(Su);(i[1].trim()!=""||i[3].trim()!="")&&It.throwArgumentError("unexpected tokens","value",e),t.outputs=Eu(i[2],!1)}else t.outputs=[];return gi.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function i3(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&It.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class wo extends ji{format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Bt.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?wo.fromString(e):wo.fromObject(e)}static fromObject(e){if(wo.isErrorFragment(e))return e;e.type!=="error"&&It.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:_u(e.name),inputs:e.inputs?e.inputs.map(Sr.fromObject):[]};return i3(new wo(Js,t))}static fromString(e){let t={type:"error"},n=e.match(Su);return n||It.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&_u(t.name),t.inputs=Eu(n[2],!1),i3(wo.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function zf(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const ED=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function _u(r){return(!r||!r.match(ED))&&It.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const Su=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function _D(r){r=r.trim();let e=[],t="",n=0;for(let o=0;o<r.length;o++){let i=r[o];i===","&&n===0?(e.push(t),t=""):(t+=i,i==="("?n++:i===")"&&(n--,n===-1&&It.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const $m=new X(qu);function Wm(r){const e=[],t=function(n,o){if(!!Array.isArray(o))for(let i in o){const a=n.slice();a.push(i);try{t(a,o[i])}catch(s){e.push({path:a,error:s})}}};return t([],r),e}class Aa{constructor(e,t,n,o){this.name=e,this.type=t,this.localName=n,this.dynamic=o}_throwError(e,t){$m.throwArgumentError(e,this.localName,t)}}class yb{constructor(e){ue(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return rn(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Qt(e._data))}writeBytes(e){let t=_e(e);const n=t.length%this.wordSize;return n&&(t=Qt([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=_e(Se.from(e));return t.length>this.wordSize&&$m.throwError("value out-of-bounds",X.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Qt([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Qd{constructor(e,t,n,o){ue(this,"_data",_e(e)),ue(this,"wordSize",t||32),ue(this,"_coerceFunc",n),ue(this,"allowLoose",o),this._offset=0}get data(){return ke(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Qd.coerce(e,t)}_peekBytes(e,t,n){let o=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+o>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?o=t:$m.throwError("data out-of-bounds",X.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+o})),this._data.slice(this._offset,this._offset+o)}subReader(e){return new Qd(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return Se.from(this.readBytes(this.wordSize))}}var Zc={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",o=n?window:{};o.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",a=!o.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?o=gt:i&&(o=self);var s=!o.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,c=!o.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],w=[1,256,65536,16777216],T=[6,1536,393216,100663296],I=[0,8,16,24],R=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],P=[224,256,384,512],B=[128,256],O=["hex","buffer","arrayBuffer","array","digest"],H={128:168,256:136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(_){return Object.prototype.toString.call(_)==="[object Array]"}),c&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(_){return typeof _=="object"&&_.buffer&&_.buffer.constructor===ArrayBuffer});for(var $=function(_,U,K){return function(W){return new d(_,U,_).update(W)[K]()}},J=function(_,U,K){return function(W,re){return new d(_,U,re).update(W)[K]()}},ie=function(_,U,K){return function(W,re,pe,fe){return l["cshake"+_].update(W,re,pe,fe)[K]()}},we=function(_,U,K){return function(W,re,pe,fe){return l["kmac"+_].update(W,re,pe,fe)[K]()}},de=function(_,U,K,W){for(var re=0;re<O.length;++re){var pe=O[re];_[pe]=U(K,W,pe)}return _},ce=function(_,U){var K=$(_,U,"hex");return K.create=function(){return new d(_,U,_)},K.update=function(W){return K.create().update(W)},de(K,$,_,U)},be=function(_,U){var K=J(_,U,"hex");return K.create=function(W){return new d(_,U,W)},K.update=function(W,re){return K.create(re).update(W)},de(K,J,_,U)},L=function(_,U){var K=H[_],W=ie(_,U,"hex");return W.create=function(re,pe,fe){return!pe&&!fe?l["shake"+_].create(re):new d(_,U,re).bytepad([pe,fe],K)},W.update=function(re,pe,fe,ae){return W.create(pe,fe,ae).update(re)},de(W,ie,_,U)},S=function(_,U){var K=H[_],W=we(_,U,"hex");return W.create=function(re,pe,fe){return new k(_,U,pe).bytepad(["KMAC",fe],K).bytepad([re],K)},W.update=function(re,pe,fe,ae){return W.create(re,fe,ae).update(pe)},de(W,we,_,U)},v=[{name:"keccak",padding:w,bits:P,createMethod:ce},{name:"sha3",padding:T,bits:P,createMethod:ce},{name:"shake",padding:u,bits:B,createMethod:be},{name:"cshake",padding:h,bits:B,createMethod:L},{name:"kmac",padding:h,bits:B,createMethod:S}],l={},p=[],b=0;b<v.length;++b)for(var y=v[b],A=y.bits,E=0;E<A.length;++E){var m=y.name+"_"+A[E];if(p.push(m),l[m]=y.createMethod(A[E],y.padding),y.name!=="sha3"){var g=y.name+A[E];p.push(g),l[g]=l[m]}}function d(_,U,K){this.blocks=[],this.s=[],this.padding=U,this.outputBits=K,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(_<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=K>>5,this.extraBytes=(K&31)>>3;for(var W=0;W<50;++W)this.s[W]=0}d.prototype.update=function(_){if(this.finalized)throw new Error(t);var U,K=typeof _;if(K!=="string"){if(K==="object"){if(_===null)throw new Error(e);if(c&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!c||!ArrayBuffer.isView(_)))throw new Error(e)}else throw new Error(e);U=!0}for(var W=this.blocks,re=this.byteCount,pe=_.length,fe=this.blockCount,ae=0,G=this.s,z,Y;ae<pe;){if(this.reset)for(this.reset=!1,W[0]=this.block,z=1;z<fe+1;++z)W[z]=0;if(U)for(z=this.start;ae<pe&&z<re;++ae)W[z>>2]|=_[ae]<<I[z++&3];else for(z=this.start;ae<pe&&z<re;++ae)Y=_.charCodeAt(ae),Y<128?W[z>>2]|=Y<<I[z++&3]:Y<2048?(W[z>>2]|=(192|Y>>6)<<I[z++&3],W[z>>2]|=(128|Y&63)<<I[z++&3]):Y<55296||Y>=57344?(W[z>>2]|=(224|Y>>12)<<I[z++&3],W[z>>2]|=(128|Y>>6&63)<<I[z++&3],W[z>>2]|=(128|Y&63)<<I[z++&3]):(Y=65536+((Y&1023)<<10|_.charCodeAt(++ae)&1023),W[z>>2]|=(240|Y>>18)<<I[z++&3],W[z>>2]|=(128|Y>>12&63)<<I[z++&3],W[z>>2]|=(128|Y>>6&63)<<I[z++&3],W[z>>2]|=(128|Y&63)<<I[z++&3]);if(this.lastByteIndex=z,z>=re){for(this.start=z-re,this.block=W[fe],z=0;z<fe;++z)G[z]^=W[z];V(G),this.reset=!0}else this.start=z}return this},d.prototype.encode=function(_,U){var K=_&255,W=1,re=[K];for(_=_>>8,K=_&255;K>0;)re.unshift(K),_=_>>8,K=_&255,++W;return U?re.push(W):re.unshift(W),this.update(re),re.length},d.prototype.encodeString=function(_){var U,K=typeof _;if(K!=="string"){if(K==="object"){if(_===null)throw new Error(e);if(c&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!c||!ArrayBuffer.isView(_)))throw new Error(e)}else throw new Error(e);U=!0}var W=0,re=_.length;if(U)W=re;else for(var pe=0;pe<_.length;++pe){var fe=_.charCodeAt(pe);fe<128?W+=1:fe<2048?W+=2:fe<55296||fe>=57344?W+=3:(fe=65536+((fe&1023)<<10|_.charCodeAt(++pe)&1023),W+=4)}return W+=this.encode(W*8),this.update(_),W},d.prototype.bytepad=function(_,U){for(var K=this.encode(U),W=0;W<_.length;++W)K+=this.encodeString(_[W]);var re=U-K%U,pe=[];return pe.length=re,this.update(pe),this},d.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var _=this.blocks,U=this.lastByteIndex,K=this.blockCount,W=this.s;if(_[U>>2]|=this.padding[U&3],this.lastByteIndex===this.byteCount)for(_[0]=_[K],U=1;U<K+1;++U)_[U]=0;for(_[K-1]|=2147483648,U=0;U<K;++U)W[U]^=_[U];V(W)}},d.prototype.toString=d.prototype.hex=function(){this.finalize();for(var _=this.blockCount,U=this.s,K=this.outputBlocks,W=this.extraBytes,re=0,pe=0,fe="",ae;pe<K;){for(re=0;re<_&&pe<K;++re,++pe)ae=U[re],fe+=f[ae>>4&15]+f[ae&15]+f[ae>>12&15]+f[ae>>8&15]+f[ae>>20&15]+f[ae>>16&15]+f[ae>>28&15]+f[ae>>24&15];pe%_===0&&(V(U),re=0)}return W&&(ae=U[re],fe+=f[ae>>4&15]+f[ae&15],W>1&&(fe+=f[ae>>12&15]+f[ae>>8&15]),W>2&&(fe+=f[ae>>20&15]+f[ae>>16&15])),fe},d.prototype.arrayBuffer=function(){this.finalize();var _=this.blockCount,U=this.s,K=this.outputBlocks,W=this.extraBytes,re=0,pe=0,fe=this.outputBits>>3,ae;W?ae=new ArrayBuffer(K+1<<2):ae=new ArrayBuffer(fe);for(var G=new Uint32Array(ae);pe<K;){for(re=0;re<_&&pe<K;++re,++pe)G[pe]=U[re];pe%_===0&&V(U)}return W&&(G[re]=U[re],ae=ae.slice(0,fe)),ae},d.prototype.buffer=d.prototype.arrayBuffer,d.prototype.digest=d.prototype.array=function(){this.finalize();for(var _=this.blockCount,U=this.s,K=this.outputBlocks,W=this.extraBytes,re=0,pe=0,fe=[],ae,G;pe<K;){for(re=0;re<_&&pe<K;++re,++pe)ae=pe<<2,G=U[re],fe[ae]=G&255,fe[ae+1]=G>>8&255,fe[ae+2]=G>>16&255,fe[ae+3]=G>>24&255;pe%_===0&&V(U)}return W&&(ae=pe<<2,G=U[re],fe[ae]=G&255,W>1&&(fe[ae+1]=G>>8&255),W>2&&(fe[ae+2]=G>>16&255)),fe};function k(_,U,K){d.call(this,_,U,K)}k.prototype=new d,k.prototype.finalize=function(){return this.encode(this.outputBits,!0),d.prototype.finalize.call(this)};var V=function(_){var U,K,W,re,pe,fe,ae,G,z,Y,N,C,M,D,j,Q,ee,le,se,ve,ge,he,Fe,Pe,Ee,nt,Ke,Z,oe,Ce,me,He,Te,Re,dt,je,Ne,ft,We,xe,_t,et,Ue,st,Ze,Be,yt,Xe,Oe,xt,Ge,Le,ot,tt,De,wt,Ye,Qe,Ar,mr,Pr,Br,yr;for(W=0;W<48;W+=2)re=_[0]^_[10]^_[20]^_[30]^_[40],pe=_[1]^_[11]^_[21]^_[31]^_[41],fe=_[2]^_[12]^_[22]^_[32]^_[42],ae=_[3]^_[13]^_[23]^_[33]^_[43],G=_[4]^_[14]^_[24]^_[34]^_[44],z=_[5]^_[15]^_[25]^_[35]^_[45],Y=_[6]^_[16]^_[26]^_[36]^_[46],N=_[7]^_[17]^_[27]^_[37]^_[47],C=_[8]^_[18]^_[28]^_[38]^_[48],M=_[9]^_[19]^_[29]^_[39]^_[49],U=C^(fe<<1|ae>>>31),K=M^(ae<<1|fe>>>31),_[0]^=U,_[1]^=K,_[10]^=U,_[11]^=K,_[20]^=U,_[21]^=K,_[30]^=U,_[31]^=K,_[40]^=U,_[41]^=K,U=re^(G<<1|z>>>31),K=pe^(z<<1|G>>>31),_[2]^=U,_[3]^=K,_[12]^=U,_[13]^=K,_[22]^=U,_[23]^=K,_[32]^=U,_[33]^=K,_[42]^=U,_[43]^=K,U=fe^(Y<<1|N>>>31),K=ae^(N<<1|Y>>>31),_[4]^=U,_[5]^=K,_[14]^=U,_[15]^=K,_[24]^=U,_[25]^=K,_[34]^=U,_[35]^=K,_[44]^=U,_[45]^=K,U=G^(C<<1|M>>>31),K=z^(M<<1|C>>>31),_[6]^=U,_[7]^=K,_[16]^=U,_[17]^=K,_[26]^=U,_[27]^=K,_[36]^=U,_[37]^=K,_[46]^=U,_[47]^=K,U=Y^(re<<1|pe>>>31),K=N^(pe<<1|re>>>31),_[8]^=U,_[9]^=K,_[18]^=U,_[19]^=K,_[28]^=U,_[29]^=K,_[38]^=U,_[39]^=K,_[48]^=U,_[49]^=K,D=_[0],j=_[1],Be=_[11]<<4|_[10]>>>28,yt=_[10]<<4|_[11]>>>28,Z=_[20]<<3|_[21]>>>29,oe=_[21]<<3|_[20]>>>29,mr=_[31]<<9|_[30]>>>23,Pr=_[30]<<9|_[31]>>>23,et=_[40]<<18|_[41]>>>14,Ue=_[41]<<18|_[40]>>>14,Re=_[2]<<1|_[3]>>>31,dt=_[3]<<1|_[2]>>>31,Q=_[13]<<12|_[12]>>>20,ee=_[12]<<12|_[13]>>>20,Xe=_[22]<<10|_[23]>>>22,Oe=_[23]<<10|_[22]>>>22,Ce=_[33]<<13|_[32]>>>19,me=_[32]<<13|_[33]>>>19,Br=_[42]<<2|_[43]>>>30,yr=_[43]<<2|_[42]>>>30,tt=_[5]<<30|_[4]>>>2,De=_[4]<<30|_[5]>>>2,je=_[14]<<6|_[15]>>>26,Ne=_[15]<<6|_[14]>>>26,le=_[25]<<11|_[24]>>>21,se=_[24]<<11|_[25]>>>21,xt=_[34]<<15|_[35]>>>17,Ge=_[35]<<15|_[34]>>>17,He=_[45]<<29|_[44]>>>3,Te=_[44]<<29|_[45]>>>3,Pe=_[6]<<28|_[7]>>>4,Ee=_[7]<<28|_[6]>>>4,wt=_[17]<<23|_[16]>>>9,Ye=_[16]<<23|_[17]>>>9,ft=_[26]<<25|_[27]>>>7,We=_[27]<<25|_[26]>>>7,ve=_[36]<<21|_[37]>>>11,ge=_[37]<<21|_[36]>>>11,Le=_[47]<<24|_[46]>>>8,ot=_[46]<<24|_[47]>>>8,st=_[8]<<27|_[9]>>>5,Ze=_[9]<<27|_[8]>>>5,nt=_[18]<<20|_[19]>>>12,Ke=_[19]<<20|_[18]>>>12,Qe=_[29]<<7|_[28]>>>25,Ar=_[28]<<7|_[29]>>>25,xe=_[38]<<8|_[39]>>>24,_t=_[39]<<8|_[38]>>>24,he=_[48]<<14|_[49]>>>18,Fe=_[49]<<14|_[48]>>>18,_[0]=D^~Q&le,_[1]=j^~ee&se,_[10]=Pe^~nt&Z,_[11]=Ee^~Ke&oe,_[20]=Re^~je&ft,_[21]=dt^~Ne&We,_[30]=st^~Be&Xe,_[31]=Ze^~yt&Oe,_[40]=tt^~wt&Qe,_[41]=De^~Ye&Ar,_[2]=Q^~le&ve,_[3]=ee^~se&ge,_[12]=nt^~Z&Ce,_[13]=Ke^~oe&me,_[22]=je^~ft&xe,_[23]=Ne^~We&_t,_[32]=Be^~Xe&xt,_[33]=yt^~Oe&Ge,_[42]=wt^~Qe&mr,_[43]=Ye^~Ar&Pr,_[4]=le^~ve&he,_[5]=se^~ge&Fe,_[14]=Z^~Ce&He,_[15]=oe^~me&Te,_[24]=ft^~xe&et,_[25]=We^~_t&Ue,_[34]=Xe^~xt&Le,_[35]=Oe^~Ge&ot,_[44]=Qe^~mr&Br,_[45]=Ar^~Pr&yr,_[6]=ve^~he&D,_[7]=ge^~Fe&j,_[16]=Ce^~He&Pe,_[17]=me^~Te&Ee,_[26]=xe^~et&Re,_[27]=_t^~Ue&dt,_[36]=xt^~Le&st,_[37]=Ge^~ot&Ze,_[46]=mr^~Br&tt,_[47]=Pr^~yr&De,_[8]=he^~D&Q,_[9]=Fe^~j&ee,_[18]=He^~Pe&nt,_[19]=Te^~Ee&Ke,_[28]=et^~Re&je,_[29]=Ue^~dt&Ne,_[38]=Le^~st&Be,_[39]=ot^~Ze&yt,_[48]=Br^~tt&wt,_[49]=yr^~De&Ye,_[0]^=R[W],_[1]^=R[W+1]};if(s)r.exports=l;else for(b=0;b<p.length;++b)o[p[b]]=l[p[b]]})()})(Zc);const SD=Zc.exports;function zt(r){return"0x"+SD.keccak_256(_e(r))}const TD=Object.freeze(Object.defineProperty({__proto__:null,keccak256:zt},Symbol.toStringTag,{value:"Module"})),kD="rlp/5.7.0",po=new X(kD);function o3(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function a3(r,e,t){let n=0;for(let o=0;o<t;o++)n=n*256+r[e+o];return n}function R5(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(R5(i))}),n.length<=55)return n.unshift(192+n.length),n;const o=o3(n.length);return o.unshift(247+o.length),o.concat(n)}Jc(r)||po.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(_e(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=o3(e.length);return t.unshift(183+t.length),t.concat(e)}function Ys(r){return ke(R5(r))}function s3(r,e,t,n){const o=[];for(;t<e+1+n;){const i=O5(r,t);o.push(i.result),t+=i.consumed,t>e+1+n&&po.throwError("child data too short",X.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function O5(r,e){if(r.length===0&&po.throwError("data too short",X.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&po.throwError("data short segment too short",X.errors.BUFFER_OVERRUN,{});const n=a3(r,e+1,t);return e+1+t+n>r.length&&po.throwError("data long segment too short",X.errors.BUFFER_OVERRUN,{}),s3(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&po.throwError("data array too short",X.errors.BUFFER_OVERRUN,{}),s3(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&po.throwError("data array too short",X.errors.BUFFER_OVERRUN,{});const n=a3(r,e+1,t);e+1+t+n>r.length&&po.throwError("data array too short",X.errors.BUFFER_OVERRUN,{});const o=ke(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:o}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&po.throwError("data too short",X.errors.BUFFER_OVERRUN,{});const n=ke(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:ke(r[e])}}function Kh(r){const e=_e(r),t=O5(e,0);return t.consumed!==e.length&&po.throwArgumentError("invalid rlp data","data",r),t.result}const N5=Object.freeze(Object.defineProperty({__proto__:null,encode:Ys,decode:Kh},Symbol.toStringTag,{value:"Module"})),CD="address/5.7.0",Wa=new X(CD);function f3(r){lt(r,20)||Wa.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let o=0;o<40;o++)t[o]=e[o].charCodeAt(0);const n=_e(zt(t));for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(n[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}const MD=9007199254740991;function ID(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Qm={};for(let r=0;r<10;r++)Qm[String(r)]=String(r);for(let r=0;r<26;r++)Qm[String.fromCharCode(65+r)]=String(10+r);const c3=Math.floor(ID(MD));function L5(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Qm[n]).join("");for(;e.length>=c3;){let n=e.substring(0,c3);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Ht(r){let e=null;if(typeof r!="string"&&Wa.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=f3(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Wa.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==L5(r)&&Wa.throwArgumentError("bad icap checksum","address",r),e=dD(r.substring(4));e.length<40;)e="0"+e;e=f3("0x"+e)}else Wa.throwArgumentError("invalid address","address",r);return e}function D5(r){try{return Ht(r),!0}catch{}return!1}function U5(r){let e=hD(Ht(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+L5("XE00"+e)+e}function Ku(r){let e=null;try{e=Ht(r.from)}catch{Wa.throwArgumentError("missing from address","transaction",r)}const t=$i(_e(Se.from(r.nonce).toHexString()));return Ht(pr(zt(Ys([e,t])),12))}function F5(r,e,t){return Yi(e)!==32&&Wa.throwArgumentError("salt must be 32 bytes","salt",e),Yi(t)!==32&&Wa.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Ht(pr(zt(Qt(["0xff",Ht(r),e,t])),12))}const PD=Object.freeze(Object.defineProperty({__proto__:null,getAddress:Ht,isAddress:D5,getIcapAddress:U5,getContractAddress:Ku,getCreate2Address:F5},Symbol.toStringTag,{value:"Module"}));class BD extends Aa{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Ht(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return Ht(Jt(e.readValue().toHexString(),20))}}class RD extends Aa{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Jf=new X(qu);function H5(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(f=>{const u=f.localName;return u||Jf.throwError("cannot encode object for signature with missing names",X.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),c[u]&&Jf.throwError("cannot encode object for signature with duplicate names",X.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),c[u]=!0,t[u]})}else Jf.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&Jf.throwArgumentError("types/value length mismatch","tuple",t);let o=new yb(r.wordSize),i=new yb(r.wordSize),a=[];e.forEach((c,f)=>{let u=n[f];if(c.dynamic){let h=i.length;c.encode(i,u);let w=o.writeUpdatableValue();a.push(T=>{w(T+h)})}else c.encode(o,u)}),a.forEach(c=>{c(o.length)});let s=r.appendWriter(o);return s+=r.appendWriter(i),s}function V5(r,e){let t=[],n=r.subReader(0);e.forEach(i=>{let a=null;if(i.dynamic){let s=r.readValue(),c=n.subReader(s.toNumber());try{a=i.decode(c)}catch(f){if(f.code===X.errors.BUFFER_OVERRUN)throw f;a=f,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(r)}catch(s){if(s.code===X.errors.BUFFER_OVERRUN)throw s;a=s,a.baseType=i.name,a.name=i.localName,a.type=i.type}a!=null&&t.push(a)});const o=e.reduce((i,a)=>{const s=a.localName;return s&&(i[s]||(i[s]=0),i[s]++),i},{});e.forEach((i,a)=>{let s=i.localName;if(!s||o[s]!==1||(s==="length"&&(s="_length"),t[s]!=null))return;const c=t[a];c instanceof Error?Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw c}}):t[s]=c});for(let i=0;i<t.length;i++){const a=t[i];a instanceof Error&&Object.defineProperty(t,i,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(t)}class OD extends Aa{constructor(e,t,n){const o=e.type+"["+(t>=0?t:"")+"]",i=t===-1||e.dynamic;super("array",o,n,i),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),Jf.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let i=0;i<t.length;i++)o.push(this.coder);return H5(e,o,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&Jf.throwError("insufficient data length",X.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let o=0;o<t;o++)n.push(new RD(this.coder));return e.coerce(this.name,V5(e,n))}}class ND extends Aa{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class j5 extends Aa{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=_e(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class LD extends j5{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ke(super.decode(e)))}}class DD extends Aa{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=_e(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,ke(e.readBytes(this.size)))}}class UD extends Aa{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const G5="0x0000000000000000000000000000000000000000",z5=Se.from(-1),Jm=Se.from(0),q5=Se.from(1),FD=Se.from(2),HD=Se.from("1000000000000000000"),K5=Se.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),VD=Se.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),jD=Se.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ym="0x0000000000000000000000000000000000000000000000000000000000000000",GD="\u039E",$5=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:G5,NegativeOne:z5,Zero:Jm,One:q5,Two:FD,WeiPerEther:HD,MaxUint256:K5,MinInt256:VD,MaxInt256:jD,HashZero:Ym,EtherSymbol:GD},Symbol.toStringTag,{value:"Module"}));class zD extends Aa{constructor(e,t,n){const o=(t?"int":"uint")+e*8;super(o,o,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=Se.from(t),o=K5.mask(e.wordSize*8);if(this.signed){let i=o.mask(this.size*8-1);(n.gt(i)||n.lt(i.add(q5).mul(z5)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Jm)||n.gt(o.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const qD="strings/5.7.0",W5=new X(qD);var Zi;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Zi||(Zi={}));var vn;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(vn||(vn={}));function KD(r,e,t,n,o){return W5.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Q5(r,e,t,n,o){if(r===vn.BAD_PREFIX||r===vn.UNEXPECTED_CONTINUE){let i=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)i++;return i}return r===vn.OVERRUN?t.length-e-1:0}function $D(r,e,t,n,o){return r===vn.OVERLONG?(n.push(o),0):(n.push(65533),Q5(r,e,t))}const Zm=Object.freeze({error:KD,ignore:Q5,replace:$D});function Xm(r,e){e==null&&(e=Zm.error),r=_e(r);const t=[];let n=0;for(;n<r.length;){const o=r[n++];if(o>>7===0){t.push(o);continue}let i=null,a=null;if((o&224)===192)i=1,a=127;else if((o&240)===224)i=2,a=2047;else if((o&248)===240)i=3,a=65535;else{(o&192)===128?n+=e(vn.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(vn.BAD_PREFIX,n-1,r,t);continue}if(n-1+i>=r.length){n+=e(vn.OVERRUN,n-1,r,t);continue}let s=o&(1<<8-i-1)-1;for(let c=0;c<i;c++){let f=r[n];if((f&192)!=128){n+=e(vn.MISSING_CONTINUE,n,r,t),s=null;break}s=s<<6|f&63,n++}if(s!==null){if(s>1114111){n+=e(vn.OUT_OF_RANGE,n-1-i,r,t,s);continue}if(s>=55296&&s<=57343){n+=e(vn.UTF16_SURROGATE,n-1-i,r,t,s);continue}if(s<=a){n+=e(vn.OVERLONG,n-1-i,r,t,s);continue}t.push(s)}}return t}function br(r,e=Zi.current){e!=Zi.current&&(W5.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const o=r.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192),t.push(o&63|128);else if((o&64512)==55296){n++;const i=r.charCodeAt(n);if(n>=r.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((o&1023)<<10)+(i&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128)}return _e(t)}function Z1(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function J5(r,e){return'"'+Xm(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?Z1(t):(t-=65536,Z1((t>>10&1023)+55296)+Z1((t&1023)+56320))}).join("")+'"'}function xb(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ea(r,e){return xb(Xm(r,e))}function Tu(r,e=Zi.current){return Xm(br(r,e))}function Y5(r){const e=br(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return ke(Qt([e,Ym]).slice(0,32))}function Z5(r){const e=_e(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Ea(e.slice(0,t))}function WD(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function ey(r,e){e||(e=function(o){return[parseInt(o,16)]});let t=0,n={};return r.split(",").forEach(o=>{let i=o.split(":");t+=parseInt(i[0],16),n[t]=e(i[1])}),n}function X5(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let o=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:o,h:e}})}function ty(r,e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];if(t+=o.l,r>=t&&r<=t+o.h&&(r-t)%(o.d||1)===0){if(o.e&&o.e.indexOf(r-t)!==-1)continue;return o}}return null}const QD=X5("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),JD="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),YD=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],ZD=ey("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),XD=ey("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),eU=ey("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",WD),tU=X5("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function rU(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function nU(r){return!!ty(r,QD)}function iU(r){let e=ty(r,YD);if(e)return[r+e.s];let t=ZD[r];if(t)return t;let n=XD[r];if(n)return[r+n[0]];let o=eU[r];return o||null}function oU(r){return!!ty(r,tU)}function e7(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=Tu(r);e=rU(e.map(n=>{if(JD.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let o=iU(n);return o||[n]})),e=Tu(xb(e),Zi.NFKC),e.forEach(n=>{if(oU(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(nU(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=xb(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const aU=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String:J5,toUtf8Bytes:br,toUtf8CodePoints:Tu,toUtf8String:Ea,Utf8ErrorFuncs:Zm,get Utf8ErrorReason(){return vn},get UnicodeNormalizationForm(){return Zi},formatBytes32String:Y5,parseBytes32String:Z5,nameprep:e7},Symbol.toStringTag,{value:"Module"}));class sU extends j5{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,br(t))}decode(e){return Ea(super.decode(e))}}class j0 extends Aa{constructor(e,t){let n=!1;const o=[];e.forEach(a=>{a.dynamic&&(n=!0),o.push(a.type)});const i="tuple("+o.join(",")+")";super("tuple",i,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,o)=>{const i=o.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,o)=>{let i=n.localName;!i||t[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[o]))}),Object.freeze(e)}encode(e,t){return H5(e,this.coders,t)}decode(e){return e.coerce(this.name,V5(e,this.coders))}}const G0=new X(qu),fU=new RegExp(/^bytes([0-9]*)$/),cU=new RegExp(/^(u?int)([0-9]*)$/);class ry{constructor(e){ue(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new BD(e.name);case"bool":return new ND(e.name);case"string":return new sU(e.name);case"bytes":return new LD(e.name);case"array":return new OD(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new j0((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new UD(e.name)}let t=e.type.match(cU);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&G0.throwArgumentError("invalid "+t[1]+" bit length","param",e),new zD(n/8,t[1]==="int",e.name)}if(t=e.type.match(fU),t){let n=parseInt(t[1]);return(n===0||n>32)&&G0.throwArgumentError("invalid bytes length","param",e),new DD(n,e.name)}return G0.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Qd(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new yb(this._getWordSize())}getDefaultValue(e){const t=e.map(o=>this._getCoder(Sr.from(o)));return new j0(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&G0.throwError("types/values length mismatch",X.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(a=>this._getCoder(Sr.from(a))),o=new j0(n,"_"),i=this._getWriter();return o.encode(i,t),i.data}decode(e,t,n){const o=e.map(a=>this._getCoder(Sr.from(a)));return new j0(o,"_").decode(this._getReader(_e(t),n))}}const ny=new ry;function na(r){return zt(br(r))}const t7="hash/5.7.0";function iy(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return _e(e)}function oy(r){r=_e(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const r7=Object.freeze(Object.defineProperty({__proto__:null,decode:iy,encode:oy},Symbol.toStringTag,{value:"Module"}));function n7(r,e){e==null&&(e=1);const t=[],n=t.forEach,o=function(i,a){n.call(i,function(s){a>0&&Array.isArray(s)?o(s,a-1):t.push(s)})};return o(r,e),t}function lU(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function uU(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),o=1,i=[0,1];for(let J=1;J<n;J++)i.push(o+=t());let a=t(),s=e;e+=a;let c=0,f=0;function u(){return c==0&&(f=f<<8|r[e++],c=8),f>>--c&1}const h=31,w=Math.pow(2,h),T=w>>>1,I=T>>1,R=w-1;let P=0;for(let J=0;J<h;J++)P=P<<1|u();let B=[],O=0,H=w;for(;;){let J=Math.floor(((P-O+1)*o-1)/H),ie=0,we=n;for(;we-ie>1;){let be=ie+we>>>1;J<i[be]?we=be:ie=be}if(ie==0)break;B.push(ie);let de=O+Math.floor(H*i[ie]/o),ce=O+Math.floor(H*i[ie+1]/o)-1;for(;((de^ce)&T)==0;)P=P<<1&R|u(),de=de<<1&R,ce=ce<<1&R|1;for(;de&~ce&I;)P=P&T|P<<1&R>>>1|u(),de=de<<1^T,ce=(ce^T)<<1|T|1;O=de,H=1+ce-de}let $=n-4;return B.map(J=>{switch(J-$){case 3:return $+65792+(r[s++]<<16|r[s++]<<8|r[s++]);case 2:return $+256+(r[s++]<<8|r[s++]);case 1:return $+r[s++];default:return J-1}})}function dU(r){let e=0;return()=>r[e++]}function hU(r){return dU(uU(r))}function pU(r){return r&1?~r>>1:r>>1}function gU(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function l3(r,e){let t=Array(r);for(let n=0,o=-1;n<r;n++)t[n]=o+=1+e();return t}function vU(r,e){let t=Array(r);for(let n=0,o=0;n<r;n++)t[n]=o+=pU(e());return t}function Jd(r,e){let t=l3(r(),r),n=r(),o=l3(n,r),i=gU(n,r);for(let a=0;a<n;a++)for(let s=0;s<i[a];s++)t.push(o[a]+s);return e?t.map(a=>e[a]):t}function bU(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(yU(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(xU(t,r))}return lU(n7(e))}function mU(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function i7(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let o=0;o<e;o++)vU(r,t).forEach((i,a)=>n[a].push(i));return n}function yU(r,e){let t=1+e(),n=e(),o=mU(e),i=i7(o.length,1+r,e);return n7(i.map((a,s)=>{const c=a[0],f=a.slice(1);return Array(o[s]).fill(void 0).map((u,h)=>{let w=h*n;return[c+h*t,f.map(T=>T+w)]})}))}function xU(r,e){let t=1+e();return i7(t,1+r,e).map(o=>[o[0],o.slice(1)])}function wU(r){let e=Jd(r).sort((n,o)=>n-o);return t();function t(){let n=[];for(;;){let f=Jd(r,e);if(f.length==0)break;n.push({set:new Set(f),node:t()})}n.sort((f,u)=>u.set.size-f.set.size);let o=r(),i=o%3;o=o/3|0;let a=!!(o&1);o>>=1;let s=o==1,c=o==2;return{branches:n,valid:i,fe0f:a,save:s,check:c}}}function AU(){return hU(iy("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const $h=AU(),EU=new Set(Jd($h)),_U=new Set(Jd($h)),SU=bU($h),TU=wU($h),u3=45,d3=95;function o7(r){return Tu(r)}function kU(r){return r.filter(e=>e!=65039)}function a7(r){for(let e of r.split(".")){let t=o7(e);try{for(let n=t.lastIndexOf(d3)-1;n>=0;n--)if(t[n]!==d3)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===u3&&t[3]===u3)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function CU(r){return a7(MU(r,kU))}function MU(r,e){let t=o7(r).reverse(),n=[];for(;t.length;){let o=PU(t);if(o){n.push(...e(o));continue}let i=t.pop();if(EU.has(i)){n.push(i);continue}if(_U.has(i))continue;let a=SU[i];if(a){n.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return a7(IU(String.fromCodePoint(...n)))}function IU(r){return r.normalize("NFC")}function PU(r,e){var t;let n=TU,o,i,a=[],s=r.length;for(e&&(e.length=0);s;){let c=r[--s];if(n=(t=n.branches.find(f=>f.set.has(c)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)i=c;else if(n.check&&c===i)break;a.push(c),n.fe0f&&(a.push(65039),s>0&&r[s-1]==65039&&s--),n.valid&&(o=a.slice(),n.valid==2&&o.splice(1,1),e&&e.push(...r.slice(s).reverse()),r.length=s)}return o}const BU=new X(t7),s7=new Uint8Array(32);s7.fill(0);function h3(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function Wh(r){const e=br(CU(r)),t=[];if(r.length===0)return t;let n=0;for(let o=0;o<e.length;o++)e[o]===46&&(t.push(h3(e.slice(n,o))),n=o+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(h3(e.slice(n))),t}function RU(r){return Wh(r).map(e=>Ea(e)).join(".")}function f7(r){try{return Wh(r).length!==0}catch{}return!1}function lc(r){typeof r!="string"&&BU.throwArgumentError("invalid ENS name; not a string","name",r);let e=s7;const t=Wh(r);for(;t.length;)e=zt(Qt([e,zt(t.pop())]));return ke(e)}function ay(r){return ke(Qt(Wh(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const c7=`Ethereum Signed Message:
`;function $u(r){return typeof r=="string"&&(r=br(r)),zt(Qt([br(c7),br(String(r.length)),r]))}var OU=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const fr=new X(t7),l7=new Uint8Array(32);l7.fill(0);const NU=Se.from(-1),u7=Se.from(0),d7=Se.from(1),LU=Se.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function DU(r){const e=_e(r),t=e.length%32;return t?rn([e,l7.slice(t)]):ke(e)}const UU=Jt(d7.toHexString(),32),FU=Jt(u7.toHexString(),32),p3={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},X1=["name","version","chainId","verifyingContract","salt"];function g3(r){return function(e){return typeof e!="string"&&fr.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const HU={name:g3("name"),version:g3("version"),chainId:function(r){try{return Se.from(r).toString()}catch{}return fr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Ht(r).toLowerCase()}catch{}return fr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=_e(r);if(e.length!==32)throw new Error("bad length");return ke(e)}catch{}return fr.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function eg(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&fr.throwArgumentError("invalid numeric width","type",r);const o=LU.mask(t?n-1:n),i=t?o.add(d7).mul(NU):u7;return function(a){const s=Se.from(a);return(s.lt(i)||s.gt(o))&&fr.throwArgumentError(`value out-of-bounds for ${r}`,"value",a),Jt(s.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&fr.throwArgumentError("invalid bytes width","type",r),function(n){return _e(n).length!==t&&fr.throwArgumentError(`invalid length for ${r}`,"value",n),DU(n)}}}switch(r){case"address":return function(e){return Jt(Ht(e),32)};case"bool":return function(e){return e?UU:FU};case"bytes":return function(e){return zt(e)};case"string":return function(e){return na(e)}}return null}function v3(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class Nr{constructor(e){ue(this,"types",Object.freeze(sn(e))),ue(this,"_encoderCache",{}),ue(this,"_types",{});const t={},n={},o={};Object.keys(e).forEach(s=>{t[s]={},n[s]=[],o[s]={}});for(const s in e){const c={};e[s].forEach(f=>{c[f.name]&&fr.throwArgumentError(`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(s)}`,"types",e),c[f.name]=!0;const u=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===s&&fr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!eg(u)&&(n[u]||fr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(s),t[s][u]=!0)})}const i=Object.keys(n).filter(s=>n[s].length===0);i.length===0?fr.throwArgumentError("missing primary type","types",e):i.length>1&&fr.throwArgumentError(`ambiguous primary types or unused types: ${i.map(s=>JSON.stringify(s)).join(", ")}`,"types",e),ue(this,"primaryType",i[0]);function a(s,c){c[s]&&fr.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),c[s]=!0,Object.keys(t[s]).forEach(f=>{!n[f]||(a(f,c),Object.keys(c).forEach(u=>{o[u][f]=!0}))}),delete c[s]}a(this.primaryType,{});for(const s in o){const c=Object.keys(o[s]);c.sort(),this._types[s]=v3(s,e[s])+c.map(f=>v3(f,e[f])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const o=eg(e);if(o)return o}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const o=t[1],i=this.getEncoder(o),a=parseInt(t[3]);return s=>{a>=0&&s.length!==a&&fr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",s);let c=s.map(i);return this._types[o]&&(c=c.map(zt)),zt(rn(c))}}const n=this.types[e];if(n){const o=na(this._types[e]);return i=>{const a=n.map(({name:s,type:c})=>{const f=this.getEncoder(c)(i[s]);return this._types[c]?zt(f):f});return a.unshift(o),rn(a)}}return fr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||fr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return zt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(eg(e))return n(e,t);const o=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(o){const a=o[1],s=parseInt(o[3]);return s>=0&&t.length!==s&&fr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(c=>this._visit(a,c,n))}const i=this.types[e];return i?i.reduce((a,{name:s,type:c})=>(a[s]=this._visit(c,t[s],n),a),{}):fr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Nr(e)}static getPrimaryType(e){return Nr.from(e).primaryType}static hashStruct(e,t,n){return Nr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const o=p3[n];o||fr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:o})}return t.sort((n,o)=>X1.indexOf(n.name)-X1.indexOf(o.name)),Nr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return rn(["0x1901",Nr.hashDomain(e),Nr.from(t).hash(n)])}static hash(e,t,n){return zt(Nr.encode(e,t,n))}static resolveNames(e,t,n,o){return OU(this,void 0,void 0,function*(){e=Zt(e);const i={};e.verifyingContract&&!lt(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Nr.from(t);a.visit(n,(s,c)=>(s==="address"&&!lt(c,20)&&(i[c]="0x"),c));for(const s in i)i[s]=yield o(s);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=a.visit(n,(s,c)=>s==="address"&&i[c]?i[c]:c),{domain:e,value:n}})}static getPayload(e,t,n){Nr.hashDomain(e);const o={},i=[];X1.forEach(c=>{const f=e[c];f!=null&&(o[c]=HU[c](f),i.push({name:c,type:p3[c]}))});const a=Nr.from(t),s=Zt(t);return s.EIP712Domain?fr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,a.encode(n),{types:s,domain:o,primaryType:a.primaryType,message:a.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return ke(_e(f));if(c.match(/^u?int/))return Se.from(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return typeof f!="string"&&fr.throwArgumentError("invalid string","value",f),f}return fr.throwArgumentError("unsupported type","type",c)})}}}const VU=Object.freeze(Object.defineProperty({__proto__:null,id:na,dnsEncode:ay,namehash:lc,isValidName:f7,ensNormalize:RU,messagePrefix:c7,hashMessage:$u,_TypedDataEncoder:Nr},Symbol.toStringTag,{value:"Module"})),sr=new X(qu);class sy extends ds{}class fy extends ds{}class jU extends ds{}class ku extends ds{static isIndexed(e){return!!(e&&e._isIndexed)}}const GU={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function b3(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Yd{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,ue(this,"fragments",t.map(n=>ji.from(n)).filter(n=>n!=null)),ue(this,"_abiCoder",Dr(new.target,"getAbiCoder")()),ue(this,"functions",{}),ue(this,"errors",{}),ue(this,"events",{}),ue(this,"structs",{}),this.fragments.forEach(n=>{let o=null;switch(n.type){case"constructor":if(this.deploy){sr.warn("duplicate definition - constructor");return}ue(this,"deploy",n);return;case"function":o=this.functions;break;case"event":o=this.events;break;case"error":o=this.errors;break;default:return}let i=n.format();if(o[i]){sr.warn("duplicate definition - "+i);return}o[i]=n}),this.deploy||ue(this,"deploy",pi.from({payable:!1,type:"constructor"})),ue(this,"_isInterface",!0)}format(e){e||(e=Bt.full),e===Bt.sighash&&sr.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===Bt.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return ny}static getAddress(e){return Ht(e)}static getSighash(e){return pr(na(e.format()),0,4)}static getEventTopic(e){return na(e.format())}getFunction(e){if(lt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];sr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.functions).filter(i=>i.split("(")[0]===n);return o.length===0?sr.throwArgumentError("no matching function","name",n):o.length>1&&sr.throwArgumentError("multiple matching functions","name",n),this.functions[o[0]]}const t=this.functions[gi.fromString(e).format()];return t||sr.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(lt(e)){const n=e.toLowerCase();for(const o in this.events)if(n===this.getEventTopic(o))return this.events[o];sr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.events).filter(i=>i.split("(")[0]===n);return o.length===0?sr.throwArgumentError("no matching event","name",n):o.length>1&&sr.throwArgumentError("multiple matching events","name",n),this.events[o[0]]}const t=this.events[Hi.fromString(e).format()];return t||sr.throwArgumentError("no matching event","signature",e),t}getError(e){if(lt(e)){const n=Dr(this.constructor,"getSighash");for(const o in this.errors){const i=this.errors[o];if(e===n(i))return this.errors[o]}sr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.errors).filter(i=>i.split("(")[0]===n);return o.length===0?sr.throwArgumentError("no matching error","name",n):o.length>1&&sr.throwArgumentError("multiple matching errors","name",n),this.errors[o[0]]}const t=this.errors[gi.fromString(e).format()];return t||sr.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Dr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Dr(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=_e(t);return ke(n.slice(0,4))!==this.getSighash(e)&&sr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ke(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),ke(Qt([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=_e(t);return ke(n.slice(0,4))!==this.getSighash(e)&&sr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ke(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ke(Qt([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=_e(t),o=null,i="",a=null,s=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const f=ke(n.slice(0,4)),u=GU[f];if(u)a=this._abiCoder.decode(u.inputs,n.slice(4)),s=u.name,c=u.signature,u.reason&&(o=a[0]),s==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:s==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const h=this.getError(f);a=this._abiCoder.decode(h.inputs,n.slice(4)),s=h.name,c=h.format()}catch{}break}}return sr.throwError("call revert exception"+i,X.errors.CALL_EXCEPTION,{method:e.format(),data:ke(t),errorArgs:a,errorName:s,errorSignature:c,reason:o})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ke(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&sr.throwError("too many arguments for "+e.format(),X.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const o=(i,a)=>i.type==="string"?na(a):i.type==="bytes"?zt(ke(a)):(i.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),i.type.match(/^u?int/)&&(a=Se.from(a).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[a]),Jt(ke(a),32));for(t.forEach((i,a)=>{let s=e.inputs[a];if(!s.indexed){i!=null&&sr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,i);return}i==null?n.push(null):s.baseType==="array"||s.baseType==="tuple"?sr.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,i):Array.isArray(i)?n.push(i.map(c=>o(s,c))):n.push(o(s,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],o=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&sr.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((a,s)=>{const c=t[s];if(a.indexed)if(a.type==="string")n.push(na(c));else if(a.type==="bytes")n.push(zt(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[c]))}else o.push(a),i.push(c)}),{data:this._abiCoder.encode(o,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let w=this.getEventTopic(e);(!lt(n[0],32)||n[0].toLowerCase()!==w)&&sr.throwError("fragment/topic mismatch",X.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:w,value:n[0]}),n=n.slice(1)}let o=[],i=[],a=[];e.inputs.forEach((w,T)=>{w.indexed?w.type==="string"||w.type==="bytes"||w.baseType==="tuple"||w.baseType==="array"?(o.push(Sr.fromObject({type:"bytes32",name:w.name})),a.push(!0)):(o.push(w),a.push(!1)):(i.push(w),a.push(!1))});let s=n!=null?this._abiCoder.decode(o,Qt(n)):null,c=this._abiCoder.decode(i,t,!0),f=[],u=0,h=0;e.inputs.forEach((w,T)=>{if(w.indexed)if(s==null)f[T]=new ku({_isIndexed:!0,hash:null});else if(a[T])f[T]=new ku({_isIndexed:!0,hash:s[h++]});else try{f[T]=s[h++]}catch(I){f[T]=I}else try{f[T]=c[u++]}catch(I){f[T]=I}if(w.name&&f[w.name]==null){const I=f[T];I instanceof Error?Object.defineProperty(f,w.name,{enumerable:!0,get:()=>{throw b3(`property ${JSON.stringify(w.name)}`,I)}}):f[w.name]=I}});for(let w=0;w<f.length;w++){const T=f[w];T instanceof Error&&Object.defineProperty(f,w,{enumerable:!0,get:()=>{throw b3(`index ${w}`,T)}})}return Object.freeze(f)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new fy({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:Se.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new sy({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=ke(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new jU({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const zU=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment:pi,ErrorFragment:wo,EventFragment:Hi,Fragment:ji,FunctionFragment:gi,ParamType:Sr,FormatTypes:Bt,AbiCoder:ry,defaultAbiCoder:ny,Interface:Yd,Indexed:ku,checkResultErrors:Wm,LogDescription:sy,TransactionDescription:fy},Symbol.toStringTag,{value:"Module"})),qU="abstract-provider/5.7.0";var KU=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const $U=new X(qU);class WU extends ds{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class df{constructor(){$U.checkAbstract(new.target,df),ue(this,"_isProvider",!0)}getFeeData(){return KU(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield cr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,o=null,i=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,i=Se.from("1500000000"),o=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:n,maxFeePerGas:o,maxPriorityFeePerGas:i,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const QU="abstract-signer/5.7.0";var Pi=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const li=new X(QU),JU=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],YU=[X.errors.INSUFFICIENT_FUNDS,X.errors.NONCE_EXPIRED,X.errors.REPLACEMENT_UNDERPRICED];class _a{constructor(){li.checkAbstract(new.target,_a),ue(this,"_isSigner",!0)}getBalance(e){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Pi(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield cr(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return Pi(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield cr(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return Pi(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Pi(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)JU.indexOf(n)===-1&&li.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Zt(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&li.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return Pi(this,void 0,void 0,function*(){const t=yield cr(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(o=>Pi(this,void 0,void 0,function*(){if(o==null)return null;const i=yield this.resolveName(o);return i==null&&li.throwArgumentError("provided ENS name resolves to null","tx.to",o),i})),t.to.catch(o=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?li.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&li.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const o=yield this.getFeeData();if(t.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const i=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=i,t.maxPriorityFeePerGas=i}else t.maxFeePerGas==null&&(t.maxFeePerGas=o.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(n&&li.throwError("network does not support EIP-1559",X.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=o.gasPrice),t.type=0):li.throwError("failed to get consistent fee data",X.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=o.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(o=>{if(YU.indexOf(o.code)>=0)throw o;return li.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",X.errors.UNPREDICTABLE_GAS_LIMIT,{error:o,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(o=>(o[1]!==0&&o[0]!==o[1]&&li.throwArgumentError("chainId address mismatch","transaction",e),o[0])),yield cr(t)})}_checkProvider(e){this.provider||li.throwError("missing provider",X.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Wu extends _a{constructor(e,t){super(),ue(this,"address",e),ue(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{li.throwError(e,X.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Wu(this.address,e)}}var h7={exports:{}};(function(r){(function(e,t){function n(v,l){if(!v)throw new Error(l||"Assertion failed")}function o(v,l){v.super_=l;var p=function(){};p.prototype=l.prototype,v.prototype=new p,v.prototype.constructor=v}function i(v,l,p){if(i.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((l==="le"||l==="be")&&(p=l,l=10),this._init(v||0,l||10,p||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=xa.Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,p){return l.cmp(p)>0?l:p},i.min=function(l,p){return l.cmp(p)<0?l:p},i.prototype._init=function(l,p,b){if(typeof l=="number")return this._initNumber(l,p,b);if(typeof l=="object")return this._initArray(l,p,b);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var y=0;l[0]==="-"&&(y++,this.negative=1),y<l.length&&(p===16?this._parseHex(l,y,b):(this._parseBase(l,p,y),b==="le"&&this._initArray(this.toArray(),p,b)))},i.prototype._initNumber=function(l,p,b){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),p,b)},i.prototype._initArray=function(l,p,b){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A,E,m=0;if(b==="be")for(y=l.length-1,A=0;y>=0;y-=3)E=l[y]|l[y-1]<<8|l[y-2]<<16,this.words[A]|=E<<m&67108863,this.words[A+1]=E>>>26-m&67108863,m+=24,m>=26&&(m-=26,A++);else if(b==="le")for(y=0,A=0;y<l.length;y+=3)E=l[y]|l[y+1]<<8|l[y+2]<<16,this.words[A]|=E<<m&67108863,this.words[A+1]=E>>>26-m&67108863,m+=24,m>=26&&(m-=26,A++);return this._strip()};function s(v,l){var p=v.charCodeAt(l);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+v)}function c(v,l,p){var b=s(v,p);return p-1>=l&&(b|=s(v,p-1)<<4),b}i.prototype._parseHex=function(l,p,b){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A=0,E=0,m;if(b==="be")for(y=l.length-1;y>=p;y-=2)m=c(l,p,y)<<A,this.words[E]|=m&67108863,A>=18?(A-=18,E+=1,this.words[E]|=m>>>26):A+=8;else{var g=l.length-p;for(y=g%2===0?p+1:p;y<l.length;y+=2)m=c(l,p,y)<<A,this.words[E]|=m&67108863,A>=18?(A-=18,E+=1,this.words[E]|=m>>>26):A+=8}this._strip()};function f(v,l,p,b){for(var y=0,A=0,E=Math.min(v.length,p),m=l;m<E;m++){var g=v.charCodeAt(m)-48;y*=b,g>=49?A=g-49+10:g>=17?A=g-17+10:A=g,n(g>=0&&A<b,"Invalid character"),y+=A}return y}i.prototype._parseBase=function(l,p,b){this.words=[0],this.length=1;for(var y=0,A=1;A<=67108863;A*=p)y++;y--,A=A/p|0;for(var E=l.length-b,m=E%y,g=Math.min(E,E-m)+b,d=0,k=b;k<g;k+=y)d=f(l,k,k+y,p),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(m!==0){var V=1;for(d=f(l,k,l.length,p),k=0;k<m;k++)V*=p;this.imuln(V),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},i.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red};function u(v,l){v.words=l.words,v.length=l.length,v.negative=l.negative,v.red=l.red}if(i.prototype._move=function(l){u(l,this)},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,p){l=l||10,p=p|0||1;var b;if(l===16||l==="hex"){b="";for(var y=0,A=0,E=0;E<this.length;E++){var m=this.words[E],g=((m<<y|A)&16777215).toString(16);A=m>>>24-y&16777215,y+=2,y>=26&&(y-=26,E--),A!==0||E!==this.length-1?b=w[6-g.length]+g+b:b=g+b}for(A!==0&&(b=A.toString(16)+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(l===(l|0)&&l>=2&&l<=36){var d=T[l],k=I[l];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var _=V.modrn(k).toString(l);V=V.idivn(k),V.isZero()?b=_+b:b=w[d-_.length]+_+b}for(this.isZero()&&(b="0"+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(l,p){return this.toArrayLike(a,l,p)}),i.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)};var R=function(l,p){return l.allocUnsafe?l.allocUnsafe(p):new l(p)};i.prototype.toArrayLike=function(l,p,b){this._strip();var y=this.byteLength(),A=b||Math.max(1,y);n(y<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0");var E=R(l,A),m=p==="le"?"LE":"BE";return this["_toArrayLike"+m](E,y),E},i.prototype._toArrayLikeLE=function(l,p){for(var b=0,y=0,A=0,E=0;A<this.length;A++){var m=this.words[A]<<E|y;l[b++]=m&255,b<l.length&&(l[b++]=m>>8&255),b<l.length&&(l[b++]=m>>16&255),E===6?(b<l.length&&(l[b++]=m>>24&255),y=0,E=0):(y=m>>>24,E+=2)}if(b<l.length)for(l[b++]=y;b<l.length;)l[b++]=0},i.prototype._toArrayLikeBE=function(l,p){for(var b=l.length-1,y=0,A=0,E=0;A<this.length;A++){var m=this.words[A]<<E|y;l[b--]=m&255,b>=0&&(l[b--]=m>>8&255),b>=0&&(l[b--]=m>>16&255),E===6?(b>=0&&(l[b--]=m>>24&255),y=0,E=0):(y=m>>>24,E+=2)}if(b>=0)for(l[b--]=y;b>=0;)l[b--]=0},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var p=l,b=0;return p>=4096&&(b+=13,p>>>=13),p>=64&&(b+=7,p>>>=7),p>=8&&(b+=4,p>>>=4),p>=2&&(b+=2,p>>>=2),b+p},i.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,b=0;return(p&8191)===0&&(b+=13,p>>>=13),(p&127)===0&&(b+=7,p>>>=7),(p&15)===0&&(b+=4,p>>>=4),(p&3)===0&&(b+=2,p>>>=2),(p&1)===0&&b++,b},i.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function P(v){for(var l=new Array(v.bitLength()),p=0;p<l.length;p++){var b=p/26|0,y=p%26;l[p]=v.words[b]>>>y&1}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var b=this._zeroBits(this.words[p]);if(l+=b,b!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this._strip()},i.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var b=0;b<p.length;b++)this.words[b]=this.words[b]&l.words[b];return this.length=p.length,this._strip()},i.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var p,b;this.length>l.length?(p=this,b=l):(p=l,b=this);for(var y=0;y<b.length;y++)this.words[y]=p.words[y]^b.words[y];if(this!==p)for(;y<p.length;y++)this.words[y]=p.words[y];return this.length=p.length,this._strip()},i.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,b=l%26;this._expand(p),b>0&&p--;for(var y=0;y<p;y++)this.words[y]=~this.words[y]&67108863;return b>0&&(this.words[y]=~this.words[y]&67108863>>26-b),this._strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,p){n(typeof l=="number"&&l>=0);var b=l/26|0,y=l%26;return this._expand(b+1),p?this.words[b]=this.words[b]|1<<y:this.words[b]=this.words[b]&~(1<<y),this._strip()},i.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var b,y;this.length>l.length?(b=this,y=l):(b=l,y=this);for(var A=0,E=0;E<y.length;E++)p=(b.words[E]|0)+(y.words[E]|0)+A,this.words[E]=p&67108863,A=p>>>26;for(;A!==0&&E<b.length;E++)p=(b.words[E]|0)+A,this.words[E]=p&67108863,A=p>>>26;if(this.length=b.length,A!==0)this.words[this.length]=A,this.length++;else if(b!==this)for(;E<b.length;E++)this.words[E]=b.words[E];return this},i.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var b=this.cmp(l);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,A;b>0?(y=this,A=l):(y=l,A=this);for(var E=0,m=0;m<A.length;m++)p=(y.words[m]|0)-(A.words[m]|0)+E,E=p>>26,this.words[m]=p&67108863;for(;E!==0&&m<y.length;m++)p=(y.words[m]|0)+E,E=p>>26,this.words[m]=p&67108863;if(E===0&&m<y.length&&y!==this)for(;m<y.length;m++)this.words[m]=y.words[m];return this.length=Math.max(this.length,m),y!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function B(v,l,p){p.negative=l.negative^v.negative;var b=v.length+l.length|0;p.length=b,b=b-1|0;var y=v.words[0]|0,A=l.words[0]|0,E=y*A,m=E&67108863,g=E/67108864|0;p.words[0]=m;for(var d=1;d<b;d++){for(var k=g>>>26,V=g&67108863,_=Math.min(d,l.length-1),U=Math.max(0,d-v.length+1);U<=_;U++){var K=d-U|0;y=v.words[K]|0,A=l.words[U]|0,E=y*A+V,k+=E/67108864|0,V=E&67108863}p.words[d]=V|0,g=k|0}return g!==0?p.words[d]=g|0:p.length--,p._strip()}var O=function(l,p,b){var y=l.words,A=p.words,E=b.words,m=0,g,d,k,V=y[0]|0,_=V&8191,U=V>>>13,K=y[1]|0,W=K&8191,re=K>>>13,pe=y[2]|0,fe=pe&8191,ae=pe>>>13,G=y[3]|0,z=G&8191,Y=G>>>13,N=y[4]|0,C=N&8191,M=N>>>13,D=y[5]|0,j=D&8191,Q=D>>>13,ee=y[6]|0,le=ee&8191,se=ee>>>13,ve=y[7]|0,ge=ve&8191,he=ve>>>13,Fe=y[8]|0,Pe=Fe&8191,Ee=Fe>>>13,nt=y[9]|0,Ke=nt&8191,Z=nt>>>13,oe=A[0]|0,Ce=oe&8191,me=oe>>>13,He=A[1]|0,Te=He&8191,Re=He>>>13,dt=A[2]|0,je=dt&8191,Ne=dt>>>13,ft=A[3]|0,We=ft&8191,xe=ft>>>13,_t=A[4]|0,et=_t&8191,Ue=_t>>>13,st=A[5]|0,Ze=st&8191,Be=st>>>13,yt=A[6]|0,Xe=yt&8191,Oe=yt>>>13,xt=A[7]|0,Ge=xt&8191,Le=xt>>>13,ot=A[8]|0,tt=ot&8191,De=ot>>>13,wt=A[9]|0,Ye=wt&8191,Qe=wt>>>13;b.negative=l.negative^p.negative,b.length=19,g=Math.imul(_,Ce),d=Math.imul(_,me),d=d+Math.imul(U,Ce)|0,k=Math.imul(U,me);var Ar=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,g=Math.imul(W,Ce),d=Math.imul(W,me),d=d+Math.imul(re,Ce)|0,k=Math.imul(re,me),g=g+Math.imul(_,Te)|0,d=d+Math.imul(_,Re)|0,d=d+Math.imul(U,Te)|0,k=k+Math.imul(U,Re)|0;var mr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,g=Math.imul(fe,Ce),d=Math.imul(fe,me),d=d+Math.imul(ae,Ce)|0,k=Math.imul(ae,me),g=g+Math.imul(W,Te)|0,d=d+Math.imul(W,Re)|0,d=d+Math.imul(re,Te)|0,k=k+Math.imul(re,Re)|0,g=g+Math.imul(_,je)|0,d=d+Math.imul(_,Ne)|0,d=d+Math.imul(U,je)|0,k=k+Math.imul(U,Ne)|0;var Pr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,g=Math.imul(z,Ce),d=Math.imul(z,me),d=d+Math.imul(Y,Ce)|0,k=Math.imul(Y,me),g=g+Math.imul(fe,Te)|0,d=d+Math.imul(fe,Re)|0,d=d+Math.imul(ae,Te)|0,k=k+Math.imul(ae,Re)|0,g=g+Math.imul(W,je)|0,d=d+Math.imul(W,Ne)|0,d=d+Math.imul(re,je)|0,k=k+Math.imul(re,Ne)|0,g=g+Math.imul(_,We)|0,d=d+Math.imul(_,xe)|0,d=d+Math.imul(U,We)|0,k=k+Math.imul(U,xe)|0;var Br=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,g=Math.imul(C,Ce),d=Math.imul(C,me),d=d+Math.imul(M,Ce)|0,k=Math.imul(M,me),g=g+Math.imul(z,Te)|0,d=d+Math.imul(z,Re)|0,d=d+Math.imul(Y,Te)|0,k=k+Math.imul(Y,Re)|0,g=g+Math.imul(fe,je)|0,d=d+Math.imul(fe,Ne)|0,d=d+Math.imul(ae,je)|0,k=k+Math.imul(ae,Ne)|0,g=g+Math.imul(W,We)|0,d=d+Math.imul(W,xe)|0,d=d+Math.imul(re,We)|0,k=k+Math.imul(re,xe)|0,g=g+Math.imul(_,et)|0,d=d+Math.imul(_,Ue)|0,d=d+Math.imul(U,et)|0,k=k+Math.imul(U,Ue)|0;var yr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(yr>>>26)|0,yr&=67108863,g=Math.imul(j,Ce),d=Math.imul(j,me),d=d+Math.imul(Q,Ce)|0,k=Math.imul(Q,me),g=g+Math.imul(C,Te)|0,d=d+Math.imul(C,Re)|0,d=d+Math.imul(M,Te)|0,k=k+Math.imul(M,Re)|0,g=g+Math.imul(z,je)|0,d=d+Math.imul(z,Ne)|0,d=d+Math.imul(Y,je)|0,k=k+Math.imul(Y,Ne)|0,g=g+Math.imul(fe,We)|0,d=d+Math.imul(fe,xe)|0,d=d+Math.imul(ae,We)|0,k=k+Math.imul(ae,xe)|0,g=g+Math.imul(W,et)|0,d=d+Math.imul(W,Ue)|0,d=d+Math.imul(re,et)|0,k=k+Math.imul(re,Ue)|0,g=g+Math.imul(_,Ze)|0,d=d+Math.imul(_,Be)|0,d=d+Math.imul(U,Ze)|0,k=k+Math.imul(U,Be)|0;var Un=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(le,Ce),d=Math.imul(le,me),d=d+Math.imul(se,Ce)|0,k=Math.imul(se,me),g=g+Math.imul(j,Te)|0,d=d+Math.imul(j,Re)|0,d=d+Math.imul(Q,Te)|0,k=k+Math.imul(Q,Re)|0,g=g+Math.imul(C,je)|0,d=d+Math.imul(C,Ne)|0,d=d+Math.imul(M,je)|0,k=k+Math.imul(M,Ne)|0,g=g+Math.imul(z,We)|0,d=d+Math.imul(z,xe)|0,d=d+Math.imul(Y,We)|0,k=k+Math.imul(Y,xe)|0,g=g+Math.imul(fe,et)|0,d=d+Math.imul(fe,Ue)|0,d=d+Math.imul(ae,et)|0,k=k+Math.imul(ae,Ue)|0,g=g+Math.imul(W,Ze)|0,d=d+Math.imul(W,Be)|0,d=d+Math.imul(re,Ze)|0,k=k+Math.imul(re,Be)|0,g=g+Math.imul(_,Xe)|0,d=d+Math.imul(_,Oe)|0,d=d+Math.imul(U,Xe)|0,k=k+Math.imul(U,Oe)|0;var Fn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(ge,Ce),d=Math.imul(ge,me),d=d+Math.imul(he,Ce)|0,k=Math.imul(he,me),g=g+Math.imul(le,Te)|0,d=d+Math.imul(le,Re)|0,d=d+Math.imul(se,Te)|0,k=k+Math.imul(se,Re)|0,g=g+Math.imul(j,je)|0,d=d+Math.imul(j,Ne)|0,d=d+Math.imul(Q,je)|0,k=k+Math.imul(Q,Ne)|0,g=g+Math.imul(C,We)|0,d=d+Math.imul(C,xe)|0,d=d+Math.imul(M,We)|0,k=k+Math.imul(M,xe)|0,g=g+Math.imul(z,et)|0,d=d+Math.imul(z,Ue)|0,d=d+Math.imul(Y,et)|0,k=k+Math.imul(Y,Ue)|0,g=g+Math.imul(fe,Ze)|0,d=d+Math.imul(fe,Be)|0,d=d+Math.imul(ae,Ze)|0,k=k+Math.imul(ae,Be)|0,g=g+Math.imul(W,Xe)|0,d=d+Math.imul(W,Oe)|0,d=d+Math.imul(re,Xe)|0,k=k+Math.imul(re,Oe)|0,g=g+Math.imul(_,Ge)|0,d=d+Math.imul(_,Le)|0,d=d+Math.imul(U,Ge)|0,k=k+Math.imul(U,Le)|0;var Hn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul(Pe,Ce),d=Math.imul(Pe,me),d=d+Math.imul(Ee,Ce)|0,k=Math.imul(Ee,me),g=g+Math.imul(ge,Te)|0,d=d+Math.imul(ge,Re)|0,d=d+Math.imul(he,Te)|0,k=k+Math.imul(he,Re)|0,g=g+Math.imul(le,je)|0,d=d+Math.imul(le,Ne)|0,d=d+Math.imul(se,je)|0,k=k+Math.imul(se,Ne)|0,g=g+Math.imul(j,We)|0,d=d+Math.imul(j,xe)|0,d=d+Math.imul(Q,We)|0,k=k+Math.imul(Q,xe)|0,g=g+Math.imul(C,et)|0,d=d+Math.imul(C,Ue)|0,d=d+Math.imul(M,et)|0,k=k+Math.imul(M,Ue)|0,g=g+Math.imul(z,Ze)|0,d=d+Math.imul(z,Be)|0,d=d+Math.imul(Y,Ze)|0,k=k+Math.imul(Y,Be)|0,g=g+Math.imul(fe,Xe)|0,d=d+Math.imul(fe,Oe)|0,d=d+Math.imul(ae,Xe)|0,k=k+Math.imul(ae,Oe)|0,g=g+Math.imul(W,Ge)|0,d=d+Math.imul(W,Le)|0,d=d+Math.imul(re,Ge)|0,k=k+Math.imul(re,Le)|0,g=g+Math.imul(_,tt)|0,d=d+Math.imul(_,De)|0,d=d+Math.imul(U,tt)|0,k=k+Math.imul(U,De)|0;var Vn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul(Ke,Ce),d=Math.imul(Ke,me),d=d+Math.imul(Z,Ce)|0,k=Math.imul(Z,me),g=g+Math.imul(Pe,Te)|0,d=d+Math.imul(Pe,Re)|0,d=d+Math.imul(Ee,Te)|0,k=k+Math.imul(Ee,Re)|0,g=g+Math.imul(ge,je)|0,d=d+Math.imul(ge,Ne)|0,d=d+Math.imul(he,je)|0,k=k+Math.imul(he,Ne)|0,g=g+Math.imul(le,We)|0,d=d+Math.imul(le,xe)|0,d=d+Math.imul(se,We)|0,k=k+Math.imul(se,xe)|0,g=g+Math.imul(j,et)|0,d=d+Math.imul(j,Ue)|0,d=d+Math.imul(Q,et)|0,k=k+Math.imul(Q,Ue)|0,g=g+Math.imul(C,Ze)|0,d=d+Math.imul(C,Be)|0,d=d+Math.imul(M,Ze)|0,k=k+Math.imul(M,Be)|0,g=g+Math.imul(z,Xe)|0,d=d+Math.imul(z,Oe)|0,d=d+Math.imul(Y,Xe)|0,k=k+Math.imul(Y,Oe)|0,g=g+Math.imul(fe,Ge)|0,d=d+Math.imul(fe,Le)|0,d=d+Math.imul(ae,Ge)|0,k=k+Math.imul(ae,Le)|0,g=g+Math.imul(W,tt)|0,d=d+Math.imul(W,De)|0,d=d+Math.imul(re,tt)|0,k=k+Math.imul(re,De)|0,g=g+Math.imul(_,Ye)|0,d=d+Math.imul(_,Qe)|0,d=d+Math.imul(U,Ye)|0,k=k+Math.imul(U,Qe)|0;var jn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul(Ke,Te),d=Math.imul(Ke,Re),d=d+Math.imul(Z,Te)|0,k=Math.imul(Z,Re),g=g+Math.imul(Pe,je)|0,d=d+Math.imul(Pe,Ne)|0,d=d+Math.imul(Ee,je)|0,k=k+Math.imul(Ee,Ne)|0,g=g+Math.imul(ge,We)|0,d=d+Math.imul(ge,xe)|0,d=d+Math.imul(he,We)|0,k=k+Math.imul(he,xe)|0,g=g+Math.imul(le,et)|0,d=d+Math.imul(le,Ue)|0,d=d+Math.imul(se,et)|0,k=k+Math.imul(se,Ue)|0,g=g+Math.imul(j,Ze)|0,d=d+Math.imul(j,Be)|0,d=d+Math.imul(Q,Ze)|0,k=k+Math.imul(Q,Be)|0,g=g+Math.imul(C,Xe)|0,d=d+Math.imul(C,Oe)|0,d=d+Math.imul(M,Xe)|0,k=k+Math.imul(M,Oe)|0,g=g+Math.imul(z,Ge)|0,d=d+Math.imul(z,Le)|0,d=d+Math.imul(Y,Ge)|0,k=k+Math.imul(Y,Le)|0,g=g+Math.imul(fe,tt)|0,d=d+Math.imul(fe,De)|0,d=d+Math.imul(ae,tt)|0,k=k+Math.imul(ae,De)|0,g=g+Math.imul(W,Ye)|0,d=d+Math.imul(W,Qe)|0,d=d+Math.imul(re,Ye)|0,k=k+Math.imul(re,Qe)|0;var un=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(un>>>26)|0,un&=67108863,g=Math.imul(Ke,je),d=Math.imul(Ke,Ne),d=d+Math.imul(Z,je)|0,k=Math.imul(Z,Ne),g=g+Math.imul(Pe,We)|0,d=d+Math.imul(Pe,xe)|0,d=d+Math.imul(Ee,We)|0,k=k+Math.imul(Ee,xe)|0,g=g+Math.imul(ge,et)|0,d=d+Math.imul(ge,Ue)|0,d=d+Math.imul(he,et)|0,k=k+Math.imul(he,Ue)|0,g=g+Math.imul(le,Ze)|0,d=d+Math.imul(le,Be)|0,d=d+Math.imul(se,Ze)|0,k=k+Math.imul(se,Be)|0,g=g+Math.imul(j,Xe)|0,d=d+Math.imul(j,Oe)|0,d=d+Math.imul(Q,Xe)|0,k=k+Math.imul(Q,Oe)|0,g=g+Math.imul(C,Ge)|0,d=d+Math.imul(C,Le)|0,d=d+Math.imul(M,Ge)|0,k=k+Math.imul(M,Le)|0,g=g+Math.imul(z,tt)|0,d=d+Math.imul(z,De)|0,d=d+Math.imul(Y,tt)|0,k=k+Math.imul(Y,De)|0,g=g+Math.imul(fe,Ye)|0,d=d+Math.imul(fe,Qe)|0,d=d+Math.imul(ae,Ye)|0,k=k+Math.imul(ae,Qe)|0;var Gn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul(Ke,We),d=Math.imul(Ke,xe),d=d+Math.imul(Z,We)|0,k=Math.imul(Z,xe),g=g+Math.imul(Pe,et)|0,d=d+Math.imul(Pe,Ue)|0,d=d+Math.imul(Ee,et)|0,k=k+Math.imul(Ee,Ue)|0,g=g+Math.imul(ge,Ze)|0,d=d+Math.imul(ge,Be)|0,d=d+Math.imul(he,Ze)|0,k=k+Math.imul(he,Be)|0,g=g+Math.imul(le,Xe)|0,d=d+Math.imul(le,Oe)|0,d=d+Math.imul(se,Xe)|0,k=k+Math.imul(se,Oe)|0,g=g+Math.imul(j,Ge)|0,d=d+Math.imul(j,Le)|0,d=d+Math.imul(Q,Ge)|0,k=k+Math.imul(Q,Le)|0,g=g+Math.imul(C,tt)|0,d=d+Math.imul(C,De)|0,d=d+Math.imul(M,tt)|0,k=k+Math.imul(M,De)|0,g=g+Math.imul(z,Ye)|0,d=d+Math.imul(z,Qe)|0,d=d+Math.imul(Y,Ye)|0,k=k+Math.imul(Y,Qe)|0;var zn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(zn>>>26)|0,zn&=67108863,g=Math.imul(Ke,et),d=Math.imul(Ke,Ue),d=d+Math.imul(Z,et)|0,k=Math.imul(Z,Ue),g=g+Math.imul(Pe,Ze)|0,d=d+Math.imul(Pe,Be)|0,d=d+Math.imul(Ee,Ze)|0,k=k+Math.imul(Ee,Be)|0,g=g+Math.imul(ge,Xe)|0,d=d+Math.imul(ge,Oe)|0,d=d+Math.imul(he,Xe)|0,k=k+Math.imul(he,Oe)|0,g=g+Math.imul(le,Ge)|0,d=d+Math.imul(le,Le)|0,d=d+Math.imul(se,Ge)|0,k=k+Math.imul(se,Le)|0,g=g+Math.imul(j,tt)|0,d=d+Math.imul(j,De)|0,d=d+Math.imul(Q,tt)|0,k=k+Math.imul(Q,De)|0,g=g+Math.imul(C,Ye)|0,d=d+Math.imul(C,Qe)|0,d=d+Math.imul(M,Ye)|0,k=k+Math.imul(M,Qe)|0;var qn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul(Ke,Ze),d=Math.imul(Ke,Be),d=d+Math.imul(Z,Ze)|0,k=Math.imul(Z,Be),g=g+Math.imul(Pe,Xe)|0,d=d+Math.imul(Pe,Oe)|0,d=d+Math.imul(Ee,Xe)|0,k=k+Math.imul(Ee,Oe)|0,g=g+Math.imul(ge,Ge)|0,d=d+Math.imul(ge,Le)|0,d=d+Math.imul(he,Ge)|0,k=k+Math.imul(he,Le)|0,g=g+Math.imul(le,tt)|0,d=d+Math.imul(le,De)|0,d=d+Math.imul(se,tt)|0,k=k+Math.imul(se,De)|0,g=g+Math.imul(j,Ye)|0,d=d+Math.imul(j,Qe)|0,d=d+Math.imul(Q,Ye)|0,k=k+Math.imul(Q,Qe)|0;var Kn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,g=Math.imul(Ke,Xe),d=Math.imul(Ke,Oe),d=d+Math.imul(Z,Xe)|0,k=Math.imul(Z,Oe),g=g+Math.imul(Pe,Ge)|0,d=d+Math.imul(Pe,Le)|0,d=d+Math.imul(Ee,Ge)|0,k=k+Math.imul(Ee,Le)|0,g=g+Math.imul(ge,tt)|0,d=d+Math.imul(ge,De)|0,d=d+Math.imul(he,tt)|0,k=k+Math.imul(he,De)|0,g=g+Math.imul(le,Ye)|0,d=d+Math.imul(le,Qe)|0,d=d+Math.imul(se,Ye)|0,k=k+Math.imul(se,Qe)|0;var at=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(at>>>26)|0,at&=67108863,g=Math.imul(Ke,Ge),d=Math.imul(Ke,Le),d=d+Math.imul(Z,Ge)|0,k=Math.imul(Z,Le),g=g+Math.imul(Pe,tt)|0,d=d+Math.imul(Pe,De)|0,d=d+Math.imul(Ee,tt)|0,k=k+Math.imul(Ee,De)|0,g=g+Math.imul(ge,Ye)|0,d=d+Math.imul(ge,Qe)|0,d=d+Math.imul(he,Ye)|0,k=k+Math.imul(he,Qe)|0;var Er=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,g=Math.imul(Ke,tt),d=Math.imul(Ke,De),d=d+Math.imul(Z,tt)|0,k=Math.imul(Z,De),g=g+Math.imul(Pe,Ye)|0,d=d+Math.imul(Pe,Qe)|0,d=d+Math.imul(Ee,Ye)|0,k=k+Math.imul(Ee,Qe)|0;var Tr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,g=Math.imul(Ke,Ye),d=Math.imul(Ke,Qe),d=d+Math.imul(Z,Ye)|0,k=Math.imul(Z,Qe);var zo=(m+g|0)+((d&8191)<<13)|0;return m=(k+(d>>>13)|0)+(zo>>>26)|0,zo&=67108863,E[0]=Ar,E[1]=mr,E[2]=Pr,E[3]=Br,E[4]=yr,E[5]=Un,E[6]=Fn,E[7]=Hn,E[8]=Vn,E[9]=jn,E[10]=un,E[11]=Gn,E[12]=zn,E[13]=qn,E[14]=Kn,E[15]=at,E[16]=Er,E[17]=Tr,E[18]=zo,m!==0&&(E[19]=m,b.length++),b};Math.imul||(O=B);function H(v,l,p){p.negative=l.negative^v.negative,p.length=v.length+l.length;for(var b=0,y=0,A=0;A<p.length-1;A++){var E=y;y=0;for(var m=b&67108863,g=Math.min(A,l.length-1),d=Math.max(0,A-v.length+1);d<=g;d++){var k=A-d,V=v.words[k]|0,_=l.words[d]|0,U=V*_,K=U&67108863;E=E+(U/67108864|0)|0,K=K+m|0,m=K&67108863,E=E+(K>>>26)|0,y+=E>>>26,E&=67108863}p.words[A]=m,b=E,E=y}return b!==0?p.words[A]=b:p.length--,p._strip()}function $(v,l,p){return H(v,l,p)}i.prototype.mulTo=function(l,p){var b,y=this.length+l.length;return this.length===10&&l.length===10?b=O(this,l,p):y<63?b=B(this,l,p):y<1024?b=H(this,l,p):b=$(this,l,p),b},i.prototype.mul=function(l){var p=new i(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},i.prototype.mulf=function(l){var p=new i(null);return p.words=new Array(this.length+l.length),$(this,l,p)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){var p=l<0;p&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var b=0,y=0;y<this.length;y++){var A=(this.words[y]|0)*l,E=(A&67108863)+(b&67108863);b>>=26,b+=A/67108864|0,b+=E>>>26,this.words[y]=E&67108863}return b!==0&&(this.words[y]=b,this.length++),p?this.ineg():this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var p=P(l);if(p.length===0)return new i(1);for(var b=this,y=0;y<p.length&&p[y]===0;y++,b=b.sqr());if(++y<p.length)for(var A=b.sqr();y<p.length;y++,A=A.sqr())p[y]!==0&&(b=b.mul(A));return b},i.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var p=l%26,b=(l-p)/26,y=67108863>>>26-p<<26-p,A;if(p!==0){var E=0;for(A=0;A<this.length;A++){var m=this.words[A]&y,g=(this.words[A]|0)-m<<p;this.words[A]=g|E,E=m>>>26-p}E&&(this.words[A]=E,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this._strip()},i.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,p,b){n(typeof l=="number"&&l>=0);var y;p?y=(p-p%26)/26:y=0;var A=l%26,E=Math.min((l-A)/26,this.length),m=67108863^67108863>>>A<<A,g=b;if(y-=E,y=Math.max(0,y),g){for(var d=0;d<E;d++)g.words[d]=this.words[d];g.length=E}if(E!==0)if(this.length>E)for(this.length-=E,d=0;d<this.length;d++)this.words[d]=this.words[d+E];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(k!==0||d>=y);d--){var V=this.words[d]|0;this.words[d]=k<<26-A|V>>>A,k=V&m}return g&&k!==0&&(g.words[g.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(l,p,b){return n(this.negative===0),this.iushrn(l,p,b)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var p=l%26,b=(l-p)/26,y=1<<p;if(this.length<=b)return!1;var A=this.words[b];return!!(A&y)},i.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var p=l%26,b=(l-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(p!==0&&b++,this.length=Math.min(b,this.length),p!==0){var y=67108863^67108863>>>p<<p;this.words[this.length-1]&=y}return this._strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,p,b){var y=l.length+b,A;this._expand(y);var E,m=0;for(A=0;A<l.length;A++){E=(this.words[A+b]|0)+m;var g=(l.words[A]|0)*p;E-=g&67108863,m=(E>>26)-(g/67108864|0),this.words[A+b]=E&67108863}for(;A<this.length-b;A++)E=(this.words[A+b]|0)+m,m=E>>26,this.words[A+b]=E&67108863;if(m===0)return this._strip();for(n(m===-1),m=0,A=0;A<this.length;A++)E=-(this.words[A]|0)+m,m=E>>26,this.words[A]=E&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(l,p){var b=this.length-l.length,y=this.clone(),A=l,E=A.words[A.length-1]|0,m=this._countBits(E);b=26-m,b!==0&&(A=A.ushln(b),y.iushln(b),E=A.words[A.length-1]|0);var g=y.length-A.length,d;if(p!=="mod"){d=new i(null),d.length=g+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var V=y.clone()._ishlnsubmul(A,1,g);V.negative===0&&(y=V,d&&(d.words[g]=1));for(var _=g-1;_>=0;_--){var U=(y.words[A.length+_]|0)*67108864+(y.words[A.length+_-1]|0);for(U=Math.min(U/E|0,67108863),y._ishlnsubmul(A,U,_);y.negative!==0;)U--,y.negative=0,y._ishlnsubmul(A,1,_),y.isZero()||(y.negative^=1);d&&(d.words[_]=U)}return d&&d._strip(),y._strip(),p!=="div"&&b!==0&&y.iushrn(b),{div:d||null,mod:y}},i.prototype.divmod=function(l,p,b){if(n(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,A,E;return this.negative!==0&&l.negative===0?(E=this.neg().divmod(l,p),p!=="mod"&&(y=E.div.neg()),p!=="div"&&(A=E.mod.neg(),b&&A.negative!==0&&A.iadd(l)),{div:y,mod:A}):this.negative===0&&l.negative!==0?(E=this.divmod(l.neg(),p),p!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):(this.negative&l.negative)!==0?(E=this.neg().divmod(l.neg(),p),p!=="div"&&(A=E.mod.neg(),b&&A.negative!==0&&A.isub(l)),{div:E.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modrn(l.words[0]))}:this._wordDiv(l,p)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var b=p.div.negative!==0?p.mod.isub(l):p.mod,y=l.ushrn(1),A=l.andln(1),E=b.cmp(y);return E<0||A===1&&E===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modrn=function(l){var p=l<0;p&&(l=-l),n(l<=67108863);for(var b=(1<<26)%l,y=0,A=this.length-1;A>=0;A--)y=(b*y+(this.words[A]|0))%l;return p?-y:y},i.prototype.modn=function(l){return this.modrn(l)},i.prototype.idivn=function(l){var p=l<0;p&&(l=-l),n(l<=67108863);for(var b=0,y=this.length-1;y>=0;y--){var A=(this.words[y]|0)+b*67108864;this.words[y]=A/l|0,b=A%l}return this._strip(),p?this.ineg():this},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var p=this,b=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var y=new i(1),A=new i(0),E=new i(0),m=new i(1),g=0;p.isEven()&&b.isEven();)p.iushrn(1),b.iushrn(1),++g;for(var d=b.clone(),k=p.clone();!p.isZero();){for(var V=0,_=1;(p.words[0]&_)===0&&V<26;++V,_<<=1);if(V>0)for(p.iushrn(V);V-- >0;)(y.isOdd()||A.isOdd())&&(y.iadd(d),A.isub(k)),y.iushrn(1),A.iushrn(1);for(var U=0,K=1;(b.words[0]&K)===0&&U<26;++U,K<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(E.isOdd()||m.isOdd())&&(E.iadd(d),m.isub(k)),E.iushrn(1),m.iushrn(1);p.cmp(b)>=0?(p.isub(b),y.isub(E),A.isub(m)):(b.isub(p),E.isub(y),m.isub(A))}return{a:E,b:m,gcd:b.iushln(g)}},i.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var p=this,b=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var y=new i(1),A=new i(0),E=b.clone();p.cmpn(1)>0&&b.cmpn(1)>0;){for(var m=0,g=1;(p.words[0]&g)===0&&m<26;++m,g<<=1);if(m>0)for(p.iushrn(m);m-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var d=0,k=1;(b.words[0]&k)===0&&d<26;++d,k<<=1);if(d>0)for(b.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(E),A.iushrn(1);p.cmp(b)>=0?(p.isub(b),y.isub(A)):(b.isub(p),A.isub(y))}var V;return p.cmpn(1)===0?V=y:V=A,V.cmpn(0)<0&&V.iadd(l),V},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),b=l.clone();p.negative=0,b.negative=0;for(var y=0;p.isEven()&&b.isEven();y++)p.iushrn(1),b.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;b.isEven();)b.iushrn(1);var A=p.cmp(b);if(A<0){var E=p;p=b,b=E}else if(A===0||b.cmpn(1)===0)break;p.isub(b)}while(!0);return b.iushln(y)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){n(typeof l=="number");var p=l%26,b=(l-p)/26,y=1<<p;if(this.length<=b)return this._expand(b+1),this.words[b]|=y,this;for(var A=y,E=b;A!==0&&E<this.length;E++){var m=this.words[E]|0;m+=A,A=m>>>26,m&=67108863,this.words[E]=m}return A!==0&&(this.words[E]=A,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var b;if(this.length>1)b=1;else{p&&(l=-l),n(l<=67108863,"Number is too big");var y=this.words[0]|0;b=y===l?0:y<l?-1:1}return this.negative!==0?-b|0:b},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,b=this.length-1;b>=0;b--){var y=this.words[b]|0,A=l.words[b]|0;if(y!==A){y<A?p=-1:y>A&&(p=1);break}}return p},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new L(l)},i.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var J={k256:null,p224:null,p192:null,p25519:null};function ie(v,l){this.name=v,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ie.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},ie.prototype.ireduce=function(l){var p=l,b;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),b=p.bitLength();while(b>this.n);var y=b<this.n?-1:p.ucmp(this.p);return y===0?(p.words[0]=0,p.length=1):y>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},ie.prototype.split=function(l,p){l.iushrn(this.n,0,p)},ie.prototype.imulK=function(l){return l.imul(this.k)};function we(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(we,ie),we.prototype.split=function(l,p){for(var b=4194303,y=Math.min(l.length,9),A=0;A<y;A++)p.words[A]=l.words[A];if(p.length=y,l.length<=9){l.words[0]=0,l.length=1;return}var E=l.words[9];for(p.words[p.length++]=E&b,A=10;A<l.length;A++){var m=l.words[A]|0;l.words[A-10]=(m&b)<<4|E>>>22,E=m}E>>>=22,l.words[A-10]=E,E===0&&l.length>10?l.length-=10:l.length-=9},we.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,b=0;b<l.length;b++){var y=l.words[b]|0;p+=y*977,l.words[b]=p&67108863,p=y*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function de(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(de,ie);function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(ce,ie);function be(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(be,ie),be.prototype.imulK=function(l){for(var p=0,b=0;b<l.length;b++){var y=(l.words[b]|0)*19+p,A=y&67108863;y>>>=26,l.words[b]=A,p=y}return p!==0&&(l.words[l.length++]=p),l},i._prime=function(l){if(J[l])return J[l];var p;if(l==="k256")p=new we;else if(l==="p224")p=new de;else if(l==="p192")p=new ce;else if(l==="p25519")p=new be;else throw new Error("Unknown prime "+l);return J[l]=p,p};function L(v){if(typeof v=="string"){var l=i._prime(v);this.m=l.p,this.prime=l}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}L.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},L.prototype._verify2=function(l,p){n((l.negative|p.negative)===0,"red works only with positives"),n(l.red&&l.red===p.red,"red works only with red numbers")},L.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(u(l,l.umod(this.m)._forceRed(this)),l)},L.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},L.prototype.add=function(l,p){this._verify2(l,p);var b=l.add(p);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},L.prototype.iadd=function(l,p){this._verify2(l,p);var b=l.iadd(p);return b.cmp(this.m)>=0&&b.isub(this.m),b},L.prototype.sub=function(l,p){this._verify2(l,p);var b=l.sub(p);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},L.prototype.isub=function(l,p){this._verify2(l,p);var b=l.isub(p);return b.cmpn(0)<0&&b.iadd(this.m),b},L.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},L.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},L.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},L.prototype.isqr=function(l){return this.imul(l,l.clone())},L.prototype.sqr=function(l){return this.mul(l,l)},L.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(l,b)}for(var y=this.m.subn(1),A=0;!y.isZero()&&y.andln(1)===0;)A++,y.iushrn(1);n(!y.isZero());var E=new i(1).toRed(this),m=E.redNeg(),g=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,g).cmp(m)!==0;)d.redIAdd(m);for(var k=this.pow(d,y),V=this.pow(l,y.addn(1).iushrn(1)),_=this.pow(l,y),U=A;_.cmp(E)!==0;){for(var K=_,W=0;K.cmp(E)!==0;W++)K=K.redSqr();n(W<U);var re=this.pow(k,new i(1).iushln(U-W-1));V=V.redMul(re),k=re.redSqr(),_=_.redMul(k),U=W}return V},L.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},L.prototype.pow=function(l,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var b=4,y=new Array(1<<b);y[0]=new i(1).toRed(this),y[1]=l;for(var A=2;A<y.length;A++)y[A]=this.mul(y[A-1],l);var E=y[0],m=0,g=0,d=p.bitLength()%26;for(d===0&&(d=26),A=p.length-1;A>=0;A--){for(var k=p.words[A],V=d-1;V>=0;V--){var _=k>>V&1;if(E!==y[0]&&(E=this.sqr(E)),_===0&&m===0){g=0;continue}m<<=1,m|=_,g++,!(g!==b&&(A!==0||V!==0))&&(E=this.mul(E,y[m]),g=0,m=0)}d=26}return E},L.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},L.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},i.mont=function(l){return new S(l)};function S(v){L.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(S,L),S.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},S.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},S.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var b=l.imul(p),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(y).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},S.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new i(0)._forceRed(this);var b=l.mul(p),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(y).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},S.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,gt)})(h7);const ut=h7.exports;var Lr={},Ct={},hf=p7;function p7(r,e){if(!r)throw new Error(e||"Assertion failed")}p7.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var kc={exports:{}};typeof Object.create=="function"?kc.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:kc.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var ZU=hf,XU=kc.exports;Ct.inherits=XU;function eF(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function tF(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),o=0;o<r.length;o+=2)t.push(parseInt(r[o]+r[o+1],16))}else for(var n=0,o=0;o<r.length;o++){var i=r.charCodeAt(o);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):eF(r,o)?(i=65536+((i&1023)<<10)+(r.charCodeAt(++o)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}else for(o=0;o<r.length;o++)t[o]=r[o]|0;return t}Ct.toArray=tF;function rF(r){for(var e="",t=0;t<r.length;t++)e+=v7(r[t].toString(16));return e}Ct.toHex=rF;function g7(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}Ct.htonl=g7;function nF(r,e){for(var t="",n=0;n<r.length;n++){var o=r[n];e==="little"&&(o=g7(o)),t+=b7(o.toString(16))}return t}Ct.toHex32=nF;function v7(r){return r.length===1?"0"+r:r}Ct.zero2=v7;function b7(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}Ct.zero8=b7;function iF(r,e,t,n){var o=t-e;ZU(o%4===0);for(var i=new Array(o/4),a=0,s=e;a<i.length;a++,s+=4){var c;n==="big"?c=r[s]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3]:c=r[s+3]<<24|r[s+2]<<16|r[s+1]<<8|r[s],i[a]=c>>>0}return i}Ct.join32=iF;function oF(r,e){for(var t=new Array(r.length*4),n=0,o=0;n<r.length;n++,o+=4){var i=r[n];e==="big"?(t[o]=i>>>24,t[o+1]=i>>>16&255,t[o+2]=i>>>8&255,t[o+3]=i&255):(t[o+3]=i>>>24,t[o+2]=i>>>16&255,t[o+1]=i>>>8&255,t[o]=i&255)}return t}Ct.split32=oF;function aF(r,e){return r>>>e|r<<32-e}Ct.rotr32=aF;function sF(r,e){return r<<e|r>>>32-e}Ct.rotl32=sF;function fF(r,e){return r+e>>>0}Ct.sum32=fF;function cF(r,e,t){return r+e+t>>>0}Ct.sum32_3=cF;function lF(r,e,t,n){return r+e+t+n>>>0}Ct.sum32_4=lF;function uF(r,e,t,n,o){return r+e+t+n+o>>>0}Ct.sum32_5=uF;function dF(r,e,t,n){var o=r[e],i=r[e+1],a=n+i>>>0,s=(a<n?1:0)+t+o;r[e]=s>>>0,r[e+1]=a}Ct.sum64=dF;function hF(r,e,t,n){var o=e+n>>>0,i=(o<e?1:0)+r+t;return i>>>0}Ct.sum64_hi=hF;function pF(r,e,t,n){var o=e+n;return o>>>0}Ct.sum64_lo=pF;function gF(r,e,t,n,o,i,a,s){var c=0,f=e;f=f+n>>>0,c+=f<e?1:0,f=f+i>>>0,c+=f<i?1:0,f=f+s>>>0,c+=f<s?1:0;var u=r+t+o+a+c;return u>>>0}Ct.sum64_4_hi=gF;function vF(r,e,t,n,o,i,a,s){var c=e+n+i+s;return c>>>0}Ct.sum64_4_lo=vF;function bF(r,e,t,n,o,i,a,s,c,f){var u=0,h=e;h=h+n>>>0,u+=h<e?1:0,h=h+i>>>0,u+=h<i?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+f>>>0,u+=h<f?1:0;var w=r+t+o+a+c+u;return w>>>0}Ct.sum64_5_hi=bF;function mF(r,e,t,n,o,i,a,s,c,f){var u=e+n+i+s+f;return u>>>0}Ct.sum64_5_lo=mF;function yF(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}Ct.rotr64_hi=yF;function xF(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}Ct.rotr64_lo=xF;function wF(r,e,t){return r>>>t}Ct.shr64_hi=wF;function AF(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}Ct.shr64_lo=AF;var Xc={},m3=Ct,EF=hf;function Qh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Xc.BlockHash=Qh;Qh.prototype.update=function(e,t){if(e=m3.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=m3.join32(e,0,e.length-n,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this};Qh.prototype.digest=function(e){return this.update(this._pad()),EF(this.pending===null),this._digest(e)};Qh.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,o=new Array(n+this.padLength);o[0]=128;for(var i=1;i<n;i++)o[i]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)o[i++]=0;o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=e>>>24&255,o[i++]=e>>>16&255,o[i++]=e>>>8&255,o[i++]=e&255}else for(o[i++]=e&255,o[i++]=e>>>8&255,o[i++]=e>>>16&255,o[i++]=e>>>24&255,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,a=8;a<this.padLength;a++)o[i++]=0;return o};var el={},Ho={},_F=Ct,Co=_F.rotr32;function SF(r,e,t,n){if(r===0)return m7(e,t,n);if(r===1||r===3)return x7(e,t,n);if(r===2)return y7(e,t,n)}Ho.ft_1=SF;function m7(r,e,t){return r&e^~r&t}Ho.ch32=m7;function y7(r,e,t){return r&e^r&t^e&t}Ho.maj32=y7;function x7(r,e,t){return r^e^t}Ho.p32=x7;function TF(r){return Co(r,2)^Co(r,13)^Co(r,22)}Ho.s0_256=TF;function kF(r){return Co(r,6)^Co(r,11)^Co(r,25)}Ho.s1_256=kF;function CF(r){return Co(r,7)^Co(r,18)^r>>>3}Ho.g0_256=CF;function MF(r){return Co(r,17)^Co(r,19)^r>>>10}Ho.g1_256=MF;var Cc=Ct,IF=Xc,PF=Ho,tg=Cc.rotl32,kl=Cc.sum32,BF=Cc.sum32_5,RF=PF.ft_1,w7=IF.BlockHash,OF=[1518500249,1859775393,2400959708,3395469782];function Bo(){if(!(this instanceof Bo))return new Bo;w7.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Cc.inherits(Bo,w7);var NF=Bo;Bo.blockSize=512;Bo.outSize=160;Bo.hmacStrength=80;Bo.padLength=64;Bo.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=tg(n[o-3]^n[o-8]^n[o-14]^n[o-16],1);var i=this.h[0],a=this.h[1],s=this.h[2],c=this.h[3],f=this.h[4];for(o=0;o<n.length;o++){var u=~~(o/20),h=BF(tg(i,5),RF(u,a,s,c),f,n[o],OF[u]);f=c,c=s,s=tg(a,30),a=i,i=h}this.h[0]=kl(this.h[0],i),this.h[1]=kl(this.h[1],a),this.h[2]=kl(this.h[2],s),this.h[3]=kl(this.h[3],c),this.h[4]=kl(this.h[4],f)};Bo.prototype._digest=function(e){return e==="hex"?Cc.toHex32(this.h,"big"):Cc.split32(this.h,"big")};var Mc=Ct,LF=Xc,tl=Ho,DF=hf,Bi=Mc.sum32,UF=Mc.sum32_4,FF=Mc.sum32_5,HF=tl.ch32,VF=tl.maj32,jF=tl.s0_256,GF=tl.s1_256,zF=tl.g0_256,qF=tl.g1_256,A7=LF.BlockHash,KF=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ro(){if(!(this instanceof Ro))return new Ro;A7.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=KF,this.W=new Array(64)}Mc.inherits(Ro,A7);var E7=Ro;Ro.blockSize=512;Ro.outSize=256;Ro.hmacStrength=192;Ro.padLength=64;Ro.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=UF(qF(n[o-2]),n[o-7],zF(n[o-15]),n[o-16]);var i=this.h[0],a=this.h[1],s=this.h[2],c=this.h[3],f=this.h[4],u=this.h[5],h=this.h[6],w=this.h[7];for(DF(this.k.length===n.length),o=0;o<n.length;o++){var T=FF(w,GF(f),HF(f,u,h),this.k[o],n[o]),I=Bi(jF(i),VF(i,a,s));w=h,h=u,u=f,f=Bi(c,T),c=s,s=a,a=i,i=Bi(T,I)}this.h[0]=Bi(this.h[0],i),this.h[1]=Bi(this.h[1],a),this.h[2]=Bi(this.h[2],s),this.h[3]=Bi(this.h[3],c),this.h[4]=Bi(this.h[4],f),this.h[5]=Bi(this.h[5],u),this.h[6]=Bi(this.h[6],h),this.h[7]=Bi(this.h[7],w)};Ro.prototype._digest=function(e){return e==="hex"?Mc.toHex32(this.h,"big"):Mc.split32(this.h,"big")};var wb=Ct,_7=E7;function pa(){if(!(this instanceof pa))return new pa;_7.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}wb.inherits(pa,_7);var $F=pa;pa.blockSize=512;pa.outSize=224;pa.hmacStrength=192;pa.padLength=64;pa.prototype._digest=function(e){return e==="hex"?wb.toHex32(this.h.slice(0,7),"big"):wb.split32(this.h.slice(0,7),"big")};var Nn=Ct,WF=Xc,QF=hf,Mo=Nn.rotr64_hi,Io=Nn.rotr64_lo,S7=Nn.shr64_hi,T7=Nn.shr64_lo,Ha=Nn.sum64,rg=Nn.sum64_hi,ng=Nn.sum64_lo,JF=Nn.sum64_4_hi,YF=Nn.sum64_4_lo,ZF=Nn.sum64_5_hi,XF=Nn.sum64_5_lo,k7=WF.BlockHash,eH=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Xi(){if(!(this instanceof Xi))return new Xi;k7.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=eH,this.W=new Array(160)}Nn.inherits(Xi,k7);var C7=Xi;Xi.blockSize=1024;Xi.outSize=512;Xi.hmacStrength=192;Xi.padLength=128;Xi.prototype._prepareBlock=function(e,t){for(var n=this.W,o=0;o<32;o++)n[o]=e[t+o];for(;o<n.length;o+=2){var i=uH(n[o-4],n[o-3]),a=dH(n[o-4],n[o-3]),s=n[o-14],c=n[o-13],f=cH(n[o-30],n[o-29]),u=lH(n[o-30],n[o-29]),h=n[o-32],w=n[o-31];n[o]=JF(i,a,s,c,f,u,h,w),n[o+1]=YF(i,a,s,c,f,u,h,w)}};Xi.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,o=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],f=this.h[5],u=this.h[6],h=this.h[7],w=this.h[8],T=this.h[9],I=this.h[10],R=this.h[11],P=this.h[12],B=this.h[13],O=this.h[14],H=this.h[15];QF(this.k.length===n.length);for(var $=0;$<n.length;$+=2){var J=O,ie=H,we=sH(w,T),de=fH(w,T),ce=tH(w,T,I,R,P),be=rH(w,T,I,R,P,B),L=this.k[$],S=this.k[$+1],v=n[$],l=n[$+1],p=ZF(J,ie,we,de,ce,be,L,S,v,l),b=XF(J,ie,we,de,ce,be,L,S,v,l);J=oH(o,i),ie=aH(o,i),we=nH(o,i,a,s,c),de=iH(o,i,a,s,c,f);var y=rg(J,ie,we,de),A=ng(J,ie,we,de);O=P,H=B,P=I,B=R,I=w,R=T,w=rg(u,h,p,b),T=ng(h,h,p,b),u=c,h=f,c=a,f=s,a=o,s=i,o=rg(p,b,y,A),i=ng(p,b,y,A)}Ha(this.h,0,o,i),Ha(this.h,2,a,s),Ha(this.h,4,c,f),Ha(this.h,6,u,h),Ha(this.h,8,w,T),Ha(this.h,10,I,R),Ha(this.h,12,P,B),Ha(this.h,14,O,H)};Xi.prototype._digest=function(e){return e==="hex"?Nn.toHex32(this.h,"big"):Nn.split32(this.h,"big")};function tH(r,e,t,n,o){var i=r&t^~r&o;return i<0&&(i+=4294967296),i}function rH(r,e,t,n,o,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function nH(r,e,t,n,o){var i=r&t^r&o^t&o;return i<0&&(i+=4294967296),i}function iH(r,e,t,n,o,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function oH(r,e){var t=Mo(r,e,28),n=Mo(e,r,2),o=Mo(e,r,7),i=t^n^o;return i<0&&(i+=4294967296),i}function aH(r,e){var t=Io(r,e,28),n=Io(e,r,2),o=Io(e,r,7),i=t^n^o;return i<0&&(i+=4294967296),i}function sH(r,e){var t=Mo(r,e,14),n=Mo(r,e,18),o=Mo(e,r,9),i=t^n^o;return i<0&&(i+=4294967296),i}function fH(r,e){var t=Io(r,e,14),n=Io(r,e,18),o=Io(e,r,9),i=t^n^o;return i<0&&(i+=4294967296),i}function cH(r,e){var t=Mo(r,e,1),n=Mo(r,e,8),o=S7(r,e,7),i=t^n^o;return i<0&&(i+=4294967296),i}function lH(r,e){var t=Io(r,e,1),n=Io(r,e,8),o=T7(r,e,7),i=t^n^o;return i<0&&(i+=4294967296),i}function uH(r,e){var t=Mo(r,e,19),n=Mo(e,r,29),o=S7(r,e,6),i=t^n^o;return i<0&&(i+=4294967296),i}function dH(r,e){var t=Io(r,e,19),n=Io(e,r,29),o=T7(r,e,6),i=t^n^o;return i<0&&(i+=4294967296),i}var Ab=Ct,M7=C7;function ga(){if(!(this instanceof ga))return new ga;M7.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ab.inherits(ga,M7);var hH=ga;ga.blockSize=1024;ga.outSize=384;ga.hmacStrength=192;ga.padLength=128;ga.prototype._digest=function(e){return e==="hex"?Ab.toHex32(this.h.slice(0,12),"big"):Ab.split32(this.h.slice(0,12),"big")};el.sha1=NF;el.sha224=$F;el.sha256=E7;el.sha384=hH;el.sha512=C7;var I7={},Zs=Ct,pH=Xc,z0=Zs.rotl32,y3=Zs.sum32,Cl=Zs.sum32_3,x3=Zs.sum32_4,P7=pH.BlockHash;function Oo(){if(!(this instanceof Oo))return new Oo;P7.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Zs.inherits(Oo,P7);I7.ripemd160=Oo;Oo.blockSize=512;Oo.outSize=160;Oo.hmacStrength=192;Oo.padLength=64;Oo.prototype._update=function(e,t){for(var n=this.h[0],o=this.h[1],i=this.h[2],a=this.h[3],s=this.h[4],c=n,f=o,u=i,h=a,w=s,T=0;T<80;T++){var I=y3(z0(x3(n,w3(T,o,i,a),e[bH[T]+t],gH(T)),yH[T]),s);n=s,s=a,a=z0(i,10),i=o,o=I,I=y3(z0(x3(c,w3(79-T,f,u,h),e[mH[T]+t],vH(T)),xH[T]),w),c=w,w=h,h=z0(u,10),u=f,f=I}I=Cl(this.h[1],i,h),this.h[1]=Cl(this.h[2],a,w),this.h[2]=Cl(this.h[3],s,c),this.h[3]=Cl(this.h[4],n,f),this.h[4]=Cl(this.h[0],o,u),this.h[0]=I};Oo.prototype._digest=function(e){return e==="hex"?Zs.toHex32(this.h,"little"):Zs.split32(this.h,"little")};function w3(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function gH(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function vH(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var bH=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mH=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],yH=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xH=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],wH=Ct,AH=hf;function Ic(r,e,t){if(!(this instanceof Ic))return new Ic(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(wH.toArray(e,t))}var EH=Ic;Ic.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),AH(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};Ic.prototype.update=function(e,t){return this.inner.update(e,t),this};Ic.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=Ct,e.common=Xc,e.sha=el,e.ripemd=I7,e.hmac=EH,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Lr);function rl(r,e,t){return t={path:e,exports:{},require:function(n,o){return _H(n,o??t.path)}},r(t,t.exports),t.exports}function _H(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var cy=B7;function B7(r,e){if(!r)throw new Error(e||"Assertion failed")}B7.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Gi=rl(function(r,e){var t=e;function n(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if(typeof a!="string"){for(var f=0;f<a.length;f++)c[f]=a[f]|0;return c}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var f=0;f<a.length;f+=2)c.push(parseInt(a[f]+a[f+1],16))}else for(var f=0;f<a.length;f++){var u=a.charCodeAt(f),h=u>>8,w=u&255;h?c.push(h,w):c.push(w)}return c}t.toArray=n;function o(a){return a.length===1?"0"+a:a}t.zero2=o;function i(a){for(var s="",c=0;c<a.length;c++)s+=o(a[c].toString(16));return s}t.toHex=i,t.encode=function(s,c){return c==="hex"?i(s):s}}),ii=rl(function(r,e){var t=e;t.assert=cy,t.toArray=Gi.toArray,t.zero2=Gi.zero2,t.toHex=Gi.toHex,t.encode=Gi.encode;function n(c,f,u){var h=new Array(Math.max(c.bitLength(),u)+1);h.fill(0);for(var w=1<<f+1,T=c.clone(),I=0;I<h.length;I++){var R,P=T.andln(w-1);T.isOdd()?(P>(w>>1)-1?R=(w>>1)-P:R=P,T.isubn(R)):R=0,h[I]=R,T.iushrn(1)}return h}t.getNAF=n;function o(c,f){var u=[[],[]];c=c.clone(),f=f.clone();for(var h=0,w=0,T;c.cmpn(-h)>0||f.cmpn(-w)>0;){var I=c.andln(3)+h&3,R=f.andln(3)+w&3;I===3&&(I=-1),R===3&&(R=-1);var P;(I&1)===0?P=0:(T=c.andln(7)+h&7,(T===3||T===5)&&R===2?P=-I:P=I),u[0].push(P);var B;(R&1)===0?B=0:(T=f.andln(7)+w&7,(T===3||T===5)&&I===2?B=-R:B=R),u[1].push(B),2*h===P+1&&(h=1-h),2*w===B+1&&(w=1-w),c.iushrn(1),f.iushrn(1)}return u}t.getJSF=o;function i(c,f,u){var h="_"+f;c.prototype[f]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}t.cachedProperty=i;function a(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=a;function s(c){return new ut(c,"hex","le")}t.intFromLE=s}),Zd=ii.getNAF,SH=ii.getJSF,Xd=ii.assert;function hs(r,e){this.type=r,this.p=new ut(e.p,16),this.red=e.prime?ut.red(e.prime):ut.mont(this.p),this.zero=new ut(0).toRed(this.red),this.one=new ut(1).toRed(this.red),this.two=new ut(2).toRed(this.red),this.n=e.n&&new ut(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var pf=hs;hs.prototype.point=function(){throw new Error("Not implemented")};hs.prototype.validate=function(){throw new Error("Not implemented")};hs.prototype._fixedNafMul=function(e,t){Xd(e.precomputed);var n=e._getDoubles(),o=Zd(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],s,c;for(s=0;s<o.length;s+=n.step){c=0;for(var f=s+n.step-1;f>=s;f--)c=(c<<1)+o[f];a.push(c)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),w=i;w>0;w--){for(s=0;s<a.length;s++)c=a[s],c===w?h=h.mixedAdd(n.points[s]):c===-w&&(h=h.mixedAdd(n.points[s].neg()));u=u.add(h)}return u.toP()};hs.prototype._wnafMul=function(e,t){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,a=Zd(t,n,this._bitLength),s=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var f=0;c>=0&&a[c]===0;c--)f++;if(c>=0&&f++,s=s.dblp(f),c<0)break;var u=a[c];Xd(u!==0),e.type==="affine"?u>0?s=s.mixedAdd(i[u-1>>1]):s=s.mixedAdd(i[-u-1>>1].neg()):u>0?s=s.add(i[u-1>>1]):s=s.add(i[-u-1>>1].neg())}return e.type==="affine"?s.toP():s};hs.prototype._wnafMulAdd=function(e,t,n,o,i){var a=this._wnafT1,s=this._wnafT2,c=this._wnafT3,f=0,u,h,w;for(u=0;u<o;u++){w=t[u];var T=w._getNAFPoints(e);a[u]=T.wnd,s[u]=T.points}for(u=o-1;u>=1;u-=2){var I=u-1,R=u;if(a[I]!==1||a[R]!==1){c[I]=Zd(n[I],a[I],this._bitLength),c[R]=Zd(n[R],a[R],this._bitLength),f=Math.max(c[I].length,f),f=Math.max(c[R].length,f);continue}var P=[t[I],null,null,t[R]];t[I].y.cmp(t[R].y)===0?(P[1]=t[I].add(t[R]),P[2]=t[I].toJ().mixedAdd(t[R].neg())):t[I].y.cmp(t[R].y.redNeg())===0?(P[1]=t[I].toJ().mixedAdd(t[R]),P[2]=t[I].add(t[R].neg())):(P[1]=t[I].toJ().mixedAdd(t[R]),P[2]=t[I].toJ().mixedAdd(t[R].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],O=SH(n[I],n[R]);for(f=Math.max(O[0].length,f),c[I]=new Array(f),c[R]=new Array(f),h=0;h<f;h++){var H=O[0][h]|0,$=O[1][h]|0;c[I][h]=B[(H+1)*3+($+1)],c[R][h]=0,s[I]=P}}var J=this.jpoint(null,null,null),ie=this._wnafT4;for(u=f;u>=0;u--){for(var we=0;u>=0;){var de=!0;for(h=0;h<o;h++)ie[h]=c[h][u]|0,ie[h]!==0&&(de=!1);if(!de)break;we++,u--}if(u>=0&&we++,J=J.dblp(we),u<0)break;for(h=0;h<o;h++){var ce=ie[h];ce!==0&&(ce>0?w=s[h][ce-1>>1]:ce<0&&(w=s[h][-ce-1>>1].neg()),w.type==="affine"?J=J.mixedAdd(w):J=J.add(w))}}for(u=0;u<o;u++)s[u]=null;return i?J:J.toP()};function Ei(r,e){this.curve=r,this.type=e,this.precomputed=null}hs.BasePoint=Ei;Ei.prototype.eq=function(){throw new Error("Not implemented")};Ei.prototype.validate=function(){return this.curve.validate(this)};hs.prototype.decodePoint=function(e,t){e=ii.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Xd(e[e.length-1]%2===0):e[0]===7&&Xd(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ei.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ei.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Ei.prototype.encode=function(e,t){return ii.encode(this._encode(t),e)};Ei.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Ei.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Ei.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)o=o.dbl();n.push(o)}return{step:e,points:n}};Ei.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(o);return{wnd:e,points:t}};Ei.prototype._getBeta=function(){return null};Ei.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var ly=rl(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var o=function(){};o.prototype=n.prototype,t.prototype=new o,t.prototype.constructor=t}}}),TH=ii.assert;function _i(r){pf.call(this,"short",r),this.a=new ut(r.a,16).toRed(this.red),this.b=new ut(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ly(_i,pf);var kH=_i;_i.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new ut(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)n=new ut(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?n=i[0]:(n=i[1],TH(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(s){return{a:new ut(s.a,16),b:new ut(s.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}};_i.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ut.mont(e),n=new ut(2).toRed(t).redInvm(),o=n.redNeg(),i=new ut(3).toRed(t).redNeg().redSqrt().redMul(n),a=o.redAdd(i).fromRed(),s=o.redSub(i).fromRed();return[a,s]};_i.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new ut(1),a=new ut(0),s=new ut(0),c=new ut(1),f,u,h,w,T,I,R,P=0,B,O;n.cmpn(0)!==0;){var H=o.div(n);B=o.sub(H.mul(n)),O=s.sub(H.mul(i));var $=c.sub(H.mul(a));if(!h&&B.cmp(t)<0)f=R.neg(),u=i,h=B.neg(),w=O;else if(h&&++P===2)break;R=B,o=n,n=B,s=i,i=O,c=a,a=$}T=B.neg(),I=O;var J=h.sqr().add(w.sqr()),ie=T.sqr().add(I.sqr());return ie.cmp(J)>=0&&(T=f,I=u),h.negative&&(h=h.neg(),w=w.neg()),T.negative&&(T=T.neg(),I=I.neg()),[{a:h,b:w},{a:T,b:I}]};_i.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],o=t[1],i=o.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),s=i.mul(n.a),c=a.mul(o.a),f=i.mul(n.b),u=a.mul(o.b),h=e.sub(s).sub(c),w=f.add(u).neg();return{k1:h,k2:w}};_i.prototype.pointFromX=function(e,t){e=new ut(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(t&&!i||!t&&i)&&(o=o.redNeg()),this.point(e,o)};_i.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,o=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};_i.prototype._endoWnafMulAdd=function(e,t,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),c=e[a],f=c._getBeta();s.k1.negative&&(s.k1.ineg(),c=c.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),o[a*2]=c,o[a*2+1]=f,i[a*2]=s.k1,i[a*2+1]=s.k2}for(var u=this._wnafMulAdd(1,o,i,a*2,n),h=0;h<a*2;h++)o[h]=null,i[h]=null;return u};function jr(r,e,t,n){pf.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ut(e,16),this.y=new ut(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ly(jr,pf.BasePoint);_i.prototype.point=function(e,t,n){return new jr(this,e,t,n)};_i.prototype.pointFromJSON=function(e,t){return jr.fromJSON(this,e,t)};jr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}};jr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};jr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],n);if(!t[2])return o;function i(s){return e.point(s[0],s[1],n)}var a=t[2];return o.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[o].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[o].concat(a.naf.points.map(i))}},o};jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};jr.prototype.isInfinity=function(){return this.inf};jr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};jr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(o),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)};jr.prototype.getX=function(){return this.x.fromRed()};jr.prototype.getY=function(){return this.y.fromRed()};jr.prototype.mul=function(e){return e=new ut(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};jr.prototype.mulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};jr.prototype.jmulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};jr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};jr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return t};jr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Qr(r,e,t,n){pf.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ut(0)):(this.x=new ut(e,16),this.y=new ut(t,16),this.z=new ut(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ly(Qr,pf.BasePoint);_i.prototype.jpoint=function(e,t,n){return new Qr(this,e,t,n)};Qr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(n,o)};Qr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Qr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(t),i=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),c=o.redSub(i),f=a.redSub(s);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),h=u.redMul(c),w=o.redMul(u),T=f.redSqr().redIAdd(h).redISub(w).redISub(w),I=f.redMul(w.redISub(T)).redISub(a.redMul(h)),R=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(T,I,R)};Qr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,o=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=n.redSub(o),c=i.redSub(a);if(s.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),u=f.redMul(s),h=n.redMul(f),w=c.redSqr().redIAdd(u).redISub(h).redISub(h),T=c.redMul(h.redISub(w)).redISub(i.redMul(u)),I=this.z.redMul(s);return this.curve.jpoint(w,T,I)};Qr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,c=this.z,f=c.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var h=a.redSqr(),w=u.redSqr(),T=w.redSqr(),I=h.redAdd(h).redIAdd(h).redIAdd(o.redMul(f)),R=a.redMul(w),P=I.redSqr().redISub(R.redAdd(R)),B=R.redISub(P),O=I.redMul(B);O=O.redIAdd(O).redISub(T);var H=u.redMul(c);t+1<e&&(f=f.redMul(T)),a=P,c=H,u=O}return this.curve.jpoint(a,u.redMul(i),c)};Qr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Qr.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(o).redISub(a);s=s.redIAdd(s);var c=o.redAdd(o).redIAdd(o),f=c.redSqr().redISub(s).redISub(s),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=f,t=c.redMul(s.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),w=this.y.redSqr(),T=w.redSqr(),I=this.x.redAdd(w).redSqr().redISub(h).redISub(T);I=I.redIAdd(I);var R=h.redAdd(h).redIAdd(h),P=R.redSqr(),B=T.redIAdd(T);B=B.redIAdd(B),B=B.redIAdd(B),e=P.redISub(I).redISub(I),t=R.redMul(I.redISub(e)).redISub(B),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Qr.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(o).redISub(a);s=s.redIAdd(s);var c=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),f=c.redSqr().redISub(s).redISub(s);e=f;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),t=c.redMul(s.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),w=this.y.redSqr(),T=this.x.redMul(w),I=this.x.redSub(h).redMul(this.x.redAdd(h));I=I.redAdd(I).redIAdd(I);var R=T.redIAdd(T);R=R.redIAdd(R);var P=R.redAdd(R);e=I.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(w).redISub(h);var B=w.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),t=I.redMul(R.redISub(e)).redISub(B)}return this.curve.jpoint(e,t,n)};Qr.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),a=t.redSqr(),s=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),f=t.redAdd(t);f=f.redIAdd(f);var u=f.redMul(s),h=c.redSqr().redISub(u.redAdd(u)),w=u.redISub(h),T=s.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var I=c.redMul(w).redISub(T),R=n.redAdd(n).redMul(o);return this.curve.jpoint(h,I,R)};Qr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),o=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(o);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(a);var c=s.redSqr(),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=i.redIAdd(s).redSqr().redISub(a).redISub(c).redISub(f),h=t.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var w=this.x.redMul(c).redISub(h);w=w.redIAdd(w),w=w.redIAdd(w);var T=this.y.redMul(u.redMul(f.redISub(u)).redISub(s.redMul(c)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var I=this.z.redAdd(s).redSqr().redISub(n).redISub(c);return this.curve.jpoint(w,T,I)};Qr.prototype.mul=function(e,t){return e=new ut(e,t),this.curve._wnafMul(this,e)};Qr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};Qr.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Qr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Qr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var xd=rl(function(r,e){var t=e;t.base=pf,t.short=kH,t.mont=null,t.edwards=null}),wd=rl(function(r,e){var t=e,n=ii.assert;function o(s){s.type==="short"?this.curve=new xd.short(s):s.type==="edwards"?this.curve=new xd.edwards(s):this.curve=new xd.mont(s),this.g=this.curve.g,this.n=this.curve.n,this.hash=s.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=o;function i(s,c){Object.defineProperty(t,s,{configurable:!0,enumerable:!0,get:function(){var f=new o(c);return Object.defineProperty(t,s,{configurable:!0,enumerable:!0,value:f}),f}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Lr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Lr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Lr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Lr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Lr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Lr.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Lr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Lr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function os(r){if(!(this instanceof os))return new os(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Gi.toArray(r.entropy,r.entropyEnc||"hex"),t=Gi.toArray(r.nonce,r.nonceEnc||"hex"),n=Gi.toArray(r.pers,r.persEnc||"hex");cy(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var R7=os;os.prototype._init=function(e,t,n){var o=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};os.prototype._hmac=function(){return new Lr.hmac(this.hash,this.K)};os.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};os.prototype.reseed=function(e,t,n,o){typeof t!="string"&&(o=n,n=t,t=null),e=Gi.toArray(e,t),n=Gi.toArray(n,o),cy(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};os.prototype.generate=function(e,t,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=n,n=t,t=null),n&&(n=Gi.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,Gi.encode(a,t)};var Eb=ii.assert;function fn(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var uy=fn;fn.fromPublic=function(e,t,n){return t instanceof fn?t:new fn(e,{pub:t,pubEnc:n})};fn.fromPrivate=function(e,t,n){return t instanceof fn?t:new fn(e,{priv:t,privEnc:n})};fn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};fn.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};fn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};fn.prototype._importPrivate=function(e,t){this.priv=new ut(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};fn.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Eb(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Eb(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};fn.prototype.derive=function(e){return e.validate()||Eb(e.validate(),"public point not validated"),e.mul(this.priv).getX()};fn.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};fn.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};fn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var CH=ii.assert;function Jh(r,e){if(r instanceof Jh)return r;this._importDER(r,e)||(CH(r.r&&r.s,"Signature without r or s"),this.r=new ut(r.r,16),this.s=new ut(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Yh=Jh;function MH(){this.place=0}function ig(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var o=0,i=0,a=e.place;i<n;i++,a++)o<<=8,o|=r[a],o>>>=0;return o<=127?!1:(e.place=a,o)}function A3(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Jh.prototype._importDER=function(e,t){e=ii.toArray(e,t);var n=new MH;if(e[n.place++]!==48)return!1;var o=ig(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=ig(e,n);if(i===!1)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var s=ig(e,n);if(s===!1||e.length!==s+n.place)return!1;var c=e.slice(n.place,s+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new ut(a),this.s=new ut(c),this.recoveryParam=null,!0};function og(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Jh.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=A3(t),n=A3(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];og(o,t.length),o=o.concat(t),o.push(2),og(o,n.length);var i=o.concat(n),a=[48];return og(a,i.length),a=a.concat(i),ii.encode(a,e)};var IH=function(){throw new Error("unsupported")},O7=ii.assert;function yi(r){if(!(this instanceof yi))return new yi(r);typeof r=="string"&&(O7(Object.prototype.hasOwnProperty.call(wd,r),"Unknown curve "+r),r=wd[r]),r instanceof wd.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var PH=yi;yi.prototype.keyPair=function(e){return new uy(this,e)};yi.prototype.keyFromPrivate=function(e,t){return uy.fromPrivate(this,e,t)};yi.prototype.keyFromPublic=function(e,t){return uy.fromPublic(this,e,t)};yi.prototype.genKeyPair=function(e){e||(e={});for(var t=new R7({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||IH(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new ut(2));;){var i=new ut(t.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};yi.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};yi.prototype.sign=function(e,t,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new ut(e,16));for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),s=e.toArray("be",i),c=new R7({hash:this.hash,entropy:a,nonce:s,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new ut(1)),u=0;;u++){var h=o.k?o.k(u):new ut(c.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(f)>=0)){var w=this.g.mul(h);if(!w.isInfinity()){var T=w.getX(),I=T.umod(this.n);if(I.cmpn(0)!==0){var R=h.invm(this.n).mul(I.mul(t.getPrivate()).iadd(e));if(R=R.umod(this.n),R.cmpn(0)!==0){var P=(w.getY().isOdd()?1:0)|(T.cmp(I)!==0?2:0);return o.canonical&&R.cmp(this.nh)>0&&(R=this.n.sub(R),P^=1),new Yh({r:I,s:R,recoveryParam:P})}}}}}};yi.prototype.verify=function(e,t,n,o){e=this._truncateToN(new ut(e,16)),n=this.keyFromPublic(n,o),t=new Yh(t,"hex");var i=t.r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),c=s.mul(e).umod(this.n),f=s.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),f),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(c,n.getPublic(),f),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};yi.prototype.recoverPubKey=function(r,e,t,n){O7((3&t)===t,"The recovery param is more than two bits"),e=new Yh(e,n);var o=this.n,i=new ut(r),a=e.r,s=e.s,c=t&1,f=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var u=e.r.invm(o),h=o.sub(i).mul(u).umod(o),w=s.mul(u).umod(o);return this.g.mulAdd(h,a,w)};yi.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new Yh(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(r,e,o)}catch{continue}if(i.eq(t))return o}throw new Error("Unable to find valid recovery factor")};var BH=rl(function(r,e){var t=e;t.version="6.5.4",t.utils=ii,t.rand=function(){throw new Error("unsupported")},t.curve=xd,t.curves=wd,t.ec=PH,t.eddsa=null}),RH=BH.ec;const OH="signing-key/5.7.0",_b=new X(OH);let ag=null;function bo(){return ag||(ag=new RH("secp256k1")),ag}class ts{constructor(e){ue(this,"curve","secp256k1"),ue(this,"privateKey",ke(e)),Yi(this.privateKey)!==32&&_b.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=bo().keyFromPrivate(_e(this.privateKey));ue(this,"publicKey","0x"+t.getPublic(!1,"hex")),ue(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ue(this,"_isSigningKey",!0)}_addPoint(e){const t=bo().keyFromPublic(_e(this.publicKey)),n=bo().keyFromPublic(_e(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=bo().keyFromPrivate(_e(this.privateKey)),n=_e(e);n.length!==32&&_b.throwArgumentError("bad digest length","digest",e);const o=t.sign(n,{canonical:!0});return us({recoveryParam:o.recoveryParam,r:Jt("0x"+o.r.toString(16),32),s:Jt("0x"+o.s.toString(16),32)})}computeSharedSecret(e){const t=bo().keyFromPrivate(_e(this.privateKey)),n=bo().keyFromPublic(_e(Zh(e)));return Jt("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function dy(r,e){const t=us(e),n={r:_e(t.r),s:_e(t.s)};return"0x"+bo().recoverPubKey(_e(r),n,t.recoveryParam).encode("hex",!1)}function Zh(r,e){const t=_e(r);if(t.length===32){const n=new ts(t);return e?"0x"+bo().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?ke(t):"0x"+bo().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+bo().keyFromPublic(t).getPublic(!0,"hex"):ke(t)}return _b.throwArgumentError("invalid public or private key","key","[REDACTED]")}const NH=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:ts,recoverPublicKey:dy,computePublicKey:Zh},Symbol.toStringTag,{value:"Module"})),LH="transactions/5.7.0",nn=new X(LH);var eh;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(eh||(eh={}));function hy(r){return r==="0x"?null:Ht(r)}function Xr(r){return r==="0x"?Jm:Se.from(r)}const DH=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],UH={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function ca(r){const e=Zh(r);return Ht(pr(zt(pr(e,1)),12))}function gf(r,e){return ca(dy(_e(r),e))}function Wn(r,e){const t=$i(Se.from(r).toHexString());return t.length>32&&nn.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function sg(r,e){return{address:Ht(r),storageKeys:(e||[]).map((t,n)=>(Yi(t)!==32&&nn.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function Sa(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&nn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),sg(t[0],t[1])):sg(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((o,i)=>(o[i]=!0,o),{});return sg(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function N7(r){return Sa(r).map(e=>[e.address,e.storageKeys])}function L7(r,e){if(r.gasPrice!=null){const n=Se.from(r.gasPrice),o=Se.from(r.maxFeePerGas||0);n.eq(o)||nn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:o})}const t=[Wn(r.chainId||0,"chainId"),Wn(r.nonce||0,"nonce"),Wn(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Wn(r.maxFeePerGas||0,"maxFeePerGas"),Wn(r.gasLimit||0,"gasLimit"),r.to!=null?Ht(r.to):"0x",Wn(r.value||0,"value"),r.data||"0x",N7(r.accessList||[])];if(e){const n=us(e);t.push(Wn(n.recoveryParam,"recoveryParam")),t.push($i(n.r)),t.push($i(n.s))}return rn(["0x02",Ys(t)])}function D7(r,e){const t=[Wn(r.chainId||0,"chainId"),Wn(r.nonce||0,"nonce"),Wn(r.gasPrice||0,"gasPrice"),Wn(r.gasLimit||0,"gasLimit"),r.to!=null?Ht(r.to):"0x",Wn(r.value||0,"value"),r.data||"0x",N7(r.accessList||[])];if(e){const n=us(e);t.push(Wn(n.recoveryParam,"recoveryParam")),t.push($i(n.r)),t.push($i(n.s))}return rn(["0x01",Ys(t)])}function FH(r,e){qh(r,UH);const t=[];DH.forEach(function(a){let s=r[a.name]||[];const c={};a.numeric&&(c.hexPad="left"),s=_e(ke(s,c)),a.length&&s.length!==a.length&&s.length>0&&nn.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,s),a.maxLength&&(s=$i(s),s.length>a.maxLength&&nn.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,s)),t.push(ke(s))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&nn.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!Jc(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(ke(n)),t.push("0x"),t.push("0x")),!e)return Ys(t);const o=us(e);let i=27+o.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),i+=n*2+8,o.v>28&&o.v!==i&&nn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):o.v!==i&&nn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(ke(i)),t.push($i(_e(o.r))),t.push($i(_e(o.s))),Ys(t)}function th(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&nn.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),FH(r,e);switch(r.type){case 1:return D7(r,e);case 2:return L7(r,e)}return nn.throwError(`unsupported transaction type: ${r.type}`,X.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function U7(r,e,t){try{const n=Xr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{nn.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=Jt(e[1],32),r.s=Jt(e[2],32);try{const n=zt(t(r));r.from=gf(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function HH(r){const e=Kh(r.slice(1));e.length!==9&&e.length!==12&&nn.throwArgumentError("invalid component count for transaction type: 2","payload",ke(r));const t=Xr(e[2]),n=Xr(e[3]),o={type:2,chainId:Xr(e[0]).toNumber(),nonce:Xr(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Xr(e[4]),to:hy(e[5]),value:Xr(e[6]),data:e[7],accessList:Sa(e[8])};return e.length===9||(o.hash=zt(r),U7(o,e.slice(9),L7)),o}function VH(r){const e=Kh(r.slice(1));e.length!==8&&e.length!==11&&nn.throwArgumentError("invalid component count for transaction type: 1","payload",ke(r));const t={type:1,chainId:Xr(e[0]).toNumber(),nonce:Xr(e[1]).toNumber(),gasPrice:Xr(e[2]),gasLimit:Xr(e[3]),to:hy(e[4]),value:Xr(e[5]),data:e[6],accessList:Sa(e[7])};return e.length===8||(t.hash=zt(r),U7(t,e.slice(8),D7)),t}function jH(r){const e=Kh(r);e.length!==9&&e.length!==6&&nn.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:Xr(e[0]).toNumber(),gasPrice:Xr(e[1]),gasLimit:Xr(e[2]),to:hy(e[3]),value:Xr(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=Se.from(e[6]).toNumber()}catch{return t}if(t.r=Jt(e[7],32),t.s=Jt(e[8],32),Se.from(t.r).isZero()&&Se.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const o=e.slice(0,6);t.chainId!==0&&(o.push(ke(t.chainId)),o.push("0x"),o.push("0x"),n-=t.chainId*2+8);const i=zt(Ys(o));try{t.from=gf(i,{r:ke(t.r),s:ke(t.s),recoveryParam:n})}catch{}t.hash=zt(r)}return t.type=null,t}function py(r){const e=_e(r);if(e[0]>127)return jH(e);switch(e[0]){case 1:return VH(e);case 2:return HH(e)}return nn.throwError(`unsupported transaction type: ${e[0]}`,X.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const GH=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return eh},computeAddress:ca,recoverAddress:gf,accessListify:Sa,serialize:th,parse:py},Symbol.toStringTag,{value:"Module"})),zH="contracts/5.7.0";var as=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Wt=new X(zH),qH={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function rh(r,e){return as(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&Wt.throwArgumentError("invalid address or ENS name","name",t);try{return Ht(t)}catch{}r||Wt.throwError("a provider or signer is needed to resolve ENS names",X.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&Wt.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function su(r,e,t){return as(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,o)=>su(r,Array.isArray(e)?e[o]:e[n.name],n))):t.type==="address"?yield rh(r,e):t.type==="tuple"?yield su(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>su(r,n,t.arrayChildren))):Promise.reject(Wt.makeError("invalid value for array",X.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Xh(r,e,t){return as(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Zt(t.pop())),Wt.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=cr({override:rh(r.signer,n.from),signer:r.signer.getAddress()}).then(f=>as(this,void 0,void 0,function*(){return Ht(f.signer)!==f.override&&Wt.throwError("Contract with a Signer cannot override from",X.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),f.override})):n.from=r.signer.getAddress():n.from&&(n.from=rh(r.provider,n.from));const o=yield cr({args:su(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:cr(n)||{}}),i=r.interface.encodeFunctionData(e,o.args),a={data:i,to:o.address},s=o.overrides;if(s.nonce!=null&&(a.nonce=Se.from(s.nonce).toNumber()),s.gasLimit!=null&&(a.gasLimit=Se.from(s.gasLimit)),s.gasPrice!=null&&(a.gasPrice=Se.from(s.gasPrice)),s.maxFeePerGas!=null&&(a.maxFeePerGas=Se.from(s.maxFeePerGas)),s.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=Se.from(s.maxPriorityFeePerGas)),s.from!=null&&(a.from=s.from),s.type!=null&&(a.type=s.type),s.accessList!=null&&(a.accessList=Sa(s.accessList)),a.gasLimit==null&&e.gas!=null){let f=21e3;const u=_e(i);for(let h=0;h<u.length;h++)f+=4,u[h]&&(f+=64);a.gasLimit=Se.from(e.gas).add(f)}if(s.value){const f=Se.from(s.value);!f.isZero()&&!e.payable&&Wt.throwError("non-payable method cannot override value",X.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),a.value=f}s.customData&&(a.customData=Zt(s.customData)),s.ccipReadEnabled&&(a.ccipReadEnabled=!!s.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(f=>n[f]!=null);return c.length&&Wt.throwError(`cannot override ${c.map(f=>JSON.stringify(f)).join(",")}`,X.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),a})}function KH(r,e){return function(...t){return Xh(r,e,t)}}function $H(r,e){const t=r.signer||r.provider;return function(...n){return as(this,void 0,void 0,function*(){t||Wt.throwError("estimate require a provider or signer",X.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield Xh(r,e,n);return yield t.estimateGas(o)})}}function F7(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(o=>(o.events=o.logs.map(i=>{let a=sn(i),s=null;try{s=r.interface.parseLog(i)}catch{}return s&&(a.args=s.args,a.decode=(c,f)=>r.interface.decodeEventLog(s.eventFragment,c,f),a.event=s.name,a.eventSignature=s.signature),a.removeListener=()=>r.provider,a.getBlock=()=>r.provider.getBlock(o.blockHash),a.getTransaction=()=>r.provider.getTransaction(o.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(o),a}),o))}function H7(r,e,t){const n=r.signer||r.provider;return function(...o){return as(this,void 0,void 0,function*(){let i;if(o.length===e.inputs.length+1&&typeof o[o.length-1]=="object"){const c=Zt(o.pop());c.blockTag!=null&&(i=yield c.blockTag),delete c.blockTag,o.push(c)}r.deployTransaction!=null&&(yield r._deployed(i));const a=yield Xh(r,e,o),s=yield n.call(a,i);try{let c=r.interface.decodeFunctionResult(e,s);return t&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===X.errors.CALL_EXCEPTION&&(c.address=r.address,c.args=o,c.transaction=a),c}})}}function WH(r,e){return function(...t){return as(this,void 0,void 0,function*(){r.signer||Wt.throwError("sending a transaction requires a signer",X.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield Xh(r,e,t),o=yield r.signer.sendTransaction(n);return F7(r,o),o})}}function E3(r,e,t){return e.constant?H7(r,e,t):WH(r,e)}function V7(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Cu{constructor(e,t){ue(this,"tag",e),ue(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const o=e.slice();return setTimeout(()=>{n.listener.apply(this,o)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class QH extends Cu{constructor(){super("error",null)}}class _3 extends Cu{constructor(e,t,n,o){const i={address:e};let a=t.getEventTopic(n);o?(a!==o[0]&&Wt.throwArgumentError("topic mismatch","topics",o),i.topics=o.slice()):i.topics=[a],super(V7(i),i),ue(this,"address",e),ue(this,"interface",t),ue(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=Wm(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class S3 extends Cu{constructor(e,t){super("*",{address:e}),ue(this,"address",e),ue(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,o)=>this.interface.decodeEventLog(t.eventFragment,n,o),e.args=t.args}catch{}}}class gy{constructor(e,t,n){ue(this,"interface",Dr(new.target,"getInterface")(t)),n==null?(ue(this,"provider",null),ue(this,"signer",null)):_a.isSigner(n)?(ue(this,"provider",n.provider||null),ue(this,"signer",n)):df.isProvider(n)?(ue(this,"provider",n),ue(this,"signer",null)):Wt.throwArgumentError("invalid signer or provider","signerOrProvider",n),ue(this,"callStatic",{}),ue(this,"estimateGas",{}),ue(this,"functions",{}),ue(this,"populateTransaction",{}),ue(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(s=>{const c=this.interface.events[s];ue(this.filters,s,(...f)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,f)})),a[c.name]||(a[c.name]=[]),a[c.name].push(s)}),Object.keys(a).forEach(s=>{const c=a[s];c.length===1?ue(this.filters,s,this.filters[c[0]]):Wt.warn(`Duplicate definition of ${s} (${c.join(", ")})`)})}if(ue(this,"_runningEvents",{}),ue(this,"_wrappedEmits",{}),e==null&&Wt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ue(this,"address",e),this.provider)ue(this,"resolvedAddress",rh(this.provider,e));else try{ue(this,"resolvedAddress",Promise.resolve(Ht(e)))}catch{Wt.throwError("provider is required to use ENS name as contract address",X.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const o={},i={};Object.keys(this.interface.functions).forEach(a=>{const s=this.interface.functions[a];if(i[a]){Wt.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}i[a]=!0;{const c=s.name;o[`%${c}`]||(o[`%${c}`]=[]),o[`%${c}`].push(a)}this[a]==null&&ue(this,a,E3(this,s,!0)),this.functions[a]==null&&ue(this.functions,a,E3(this,s,!1)),this.callStatic[a]==null&&ue(this.callStatic,a,H7(this,s,!0)),this.populateTransaction[a]==null&&ue(this.populateTransaction,a,KH(this,s)),this.estimateGas[a]==null&&ue(this.estimateGas,a,$H(this,s))}),Object.keys(o).forEach(a=>{const s=o[a];if(s.length>1)return;a=a.substring(1);const c=s[0];try{this[a]==null&&ue(this,a,this[c])}catch{}this.functions[a]==null&&ue(this.functions,a,this.functions[c]),this.callStatic[a]==null&&ue(this.callStatic,a,this.callStatic[c]),this.populateTransaction[a]==null&&ue(this.populateTransaction,a,this.populateTransaction[c]),this.estimateGas[a]==null&&ue(this.estimateGas,a,this.estimateGas[c])})}static getContractAddress(e){return Ku(e)}static getInterface(e){return Yd.isInterface(e)?e:new Yd(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&Wt.throwError("contract not deployed",X.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Wt.throwError("sending a transactions require a signer",X.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Zt(e||{});return["from","to"].forEach(function(n){t[n]!=null&&Wt.throwError("cannot override "+n,X.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new Wu(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ue(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return ku.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new QH);if(e==="event")return this._normalizeRunningEvent(new Cu("event",null));if(e==="*")return this._normalizeRunningEvent(new S3(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new _3(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const o=this.interface.getEvent(n);return this._normalizeRunningEvent(new _3(this.address,this.interface,o,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Cu(V7(t),t))}return this._normalizeRunningEvent(new S3(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const o=sn(t);return o.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},o.getBlock=()=>this.provider.getBlock(t.blockHash),o.getTransaction=()=>this.provider.getTransaction(t.transactionHash),o.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(o),o}_addEventListener(e,t,n){if(this.provider||Wt.throwError("events require a provider or a signer with a provider",X.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const o=i=>{let a=this._wrapEvent(e,i,t);if(a.decodeError==null)try{const s=e.getEmit(a);this.emit(e.filter,...s)}catch(s){a.decodeError=s.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=o,e.filter!=null&&this.provider.on(e.filter,o)}}queryFilter(e,t,n){const o=this._getRunningEvent(e),i=Zt(o.filter);return typeof t=="string"&&lt(t,32)?(n!=null&&Wt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),i.blockHash=t):(i.fromBlock=t??0,i.toBlock=n??"latest"),this.provider.getLogs(i).then(a=>a.map(s=>this._wrapEvent(o,s,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),o=n.run(t)>0;return this._checkRunningEvents(n),o}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(o=>{t.push(o)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const o=this._runningEvents[n];o.removeAllListeners(),this._checkRunningEvents(o)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class nh extends gy{}class j7{constructor(e,t,n){let o=null;typeof t=="string"?o=t:wa(t)?o=ke(t):t&&typeof t.object=="string"?o=t.object:o="!",o.substring(0,2)!=="0x"&&(o="0x"+o),(!lt(o)||o.length%2)&&Wt.throwArgumentError("invalid bytecode","bytecode",t),n&&!_a.isSigner(n)&&Wt.throwArgumentError("invalid signer","signer",n),ue(this,"bytecode",o),ue(this,"interface",Dr(new.target,"getInterface")(e)),ue(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=Zt(e.pop());for(const n in t)if(!qH[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&Wt.throwError("cannot override "+n,X.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!Se.from(t.value).isZero()&&!this.interface.deploy.payable&&Wt.throwError("non-payable constructor cannot override value",X.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),Wt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=ke(Qt([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return as(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),Wt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield su(this.signer,e,this.interface.deploy.inputs);n.push(t);const o=this.getDeployTransaction(...n),i=yield this.signer.sendTransaction(o),a=Dr(this.constructor,"getContractAddress")(i),s=Dr(this.constructor,"getContract")(a,this.interface,this.signer);return F7(s,i),ue(s,"deployTransaction",i),s})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&Wt.throwError("missing compiler output",X.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let o=null;return e.bytecode?o=e.bytecode:e.evm&&e.evm.bytecode&&(o=e.evm.bytecode),new this(n,o,t)}static getInterface(e){return nh.getInterface(e)}static getContractAddress(e){return Ku(e)}static getContract(e,t,n){return new nh(e,t,n)}}class vy{constructor(e){ue(this,"alphabet",e),ue(this,"base",e.length),ue(this,"_alphabetMap",{}),ue(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=_e(e);if(t.length===0)return"";let n=[0];for(let i=0;i<t.length;++i){let a=t[i];for(let s=0;s<n.length;++s)a+=n[s]<<8,n[s]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let o="";for(let i=0;t[i]===0&&i<t.length-1;++i)o+=this._leader;for(let i=n.length-1;i>=0;--i)o+=this.alphabet[n[i]];return o}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let o=this._alphabetMap[e[n]];if(o===void 0)throw new Error("Non-base"+this.base+" character");let i=o;for(let a=0;a<t.length;++a)i+=t[a]*this.base,t[a]=i&255,i>>=8;for(;i>0;)t.push(i&255),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return _e(new Uint8Array(t.reverse()))}}const JH=new vy("abcdefghijklmnopqrstuvwxyz234567"),Xs=new vy("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),YH=Object.freeze(Object.defineProperty({__proto__:null,BaseX:vy,Base32:JH,Base58:Xs},Symbol.toStringTag,{value:"Module"}));var ef;(function(r){r.sha256="sha256",r.sha512="sha512"})(ef||(ef={}));const ZH="sha2/5.7.0",XH=new X(ZH);function by(r){return"0x"+Lr.ripemd160().update(_e(r)).digest("hex")}function No(r){return"0x"+Lr.sha256().update(_e(r)).digest("hex")}function G7(r){return"0x"+Lr.sha512().update(_e(r)).digest("hex")}function Pc(r,e,t){return ef[r]||XH.throwError("unsupported algorithm "+r,X.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+Lr.hmac(Lr[r],_e(e)).update(_e(t)).digest("hex")}const eV=Object.freeze(Object.defineProperty({__proto__:null,computeHmac:Pc,ripemd160:by,sha256:No,sha512:G7,get SupportedAlgorithm(){return ef}},Symbol.toStringTag,{value:"Module"}));function my(r,e,t,n,o){r=_e(r),e=_e(e);let i,a=1;const s=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let f,u;for(let h=1;h<=a;h++){c[e.length]=h>>24&255,c[e.length+1]=h>>16&255,c[e.length+2]=h>>8&255,c[e.length+3]=h&255;let w=_e(Pc(o,r,c));i||(i=w.length,u=new Uint8Array(i),a=Math.ceil(n/i),f=n-(a-1)*i),u.set(w);for(let R=1;R<t;R++){w=_e(Pc(o,r,w));for(let P=0;P<i;P++)u[P]^=w[P]}const T=(h-1)*i,I=h===a?f:i;s.set(_e(u).slice(0,I),T)}return ke(s)}const tV="wordlists/5.7.0",rV=new X(tV);class vf{constructor(e){rV.checkAbstract(new.target,vf),ue(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const o=e.getWord(n);if(n!==e.getWordIndex(o))return"0x";t.push(o)}return na(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const nV="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let fu=null;function T3(r){if(fu==null&&(fu=nV.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),vf.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw fu=null,new Error("BIP39 Wordlist for en (English) FAILED")}class iV extends vf{constructor(){super("en")}getWord(e){return T3(this),fu[e]}getWordIndex(e){return T3(this),fu.indexOf(e)}}const z7=new iV;vf.register(z7);const ih={en:z7},oV="hdnode/5.7.0",Mu=new X(oV),aV=Se.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sV=br("Bitcoin seed"),qf=2147483648;function q7(r){return(1<<r)-1<<8-r}function fV(r){return(1<<r)-1}function q0(r){return Jt(ke(r),32)}function k3(r){return Xs.encode(Qt([r,pr(No(No(r)),0,4)]))}function yy(r){if(r==null)return ih.en;if(typeof r=="string"){const e=ih[r];return e==null&&Mu.throwArgumentError("unknown locale","wordlist",r),e}return r}const Rf={},tf="m/44'/60'/0'/0/0";class Cn{constructor(e,t,n,o,i,a,s,c){if(e!==Rf)throw new Error("HDNode constructor cannot be called directly");if(t){const f=new ts(t);ue(this,"privateKey",f.privateKey),ue(this,"publicKey",f.compressedPublicKey)}else ue(this,"privateKey",null),ue(this,"publicKey",ke(n));ue(this,"parentFingerprint",o),ue(this,"fingerprint",pr(by(No(this.publicKey)),0,4)),ue(this,"address",ca(this.publicKey)),ue(this,"chainCode",i),ue(this,"index",a),ue(this,"depth",s),c==null?(ue(this,"mnemonic",null),ue(this,"path",null)):typeof c=="string"?(ue(this,"mnemonic",null),ue(this,"path",c)):(ue(this,"mnemonic",c),ue(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return k3(Qt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ke(this.depth),this.parentFingerprint,Jt(ke(this.index),4),this.chainCode,this.privateKey!=null?Qt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Cn(Rf,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~qf));const n=new Uint8Array(37);if(e&qf){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(_e(this.privateKey),1),t&&(t+="'")}else n.set(_e(this.publicKey));for(let h=24;h>=0;h-=8)n[33+(h>>3)]=e>>24-h&255;const o=_e(Pc(ef.sha512,this.chainCode,n)),i=o.slice(0,32),a=o.slice(32);let s=null,c=null;this.privateKey?s=q0(Se.from(i).add(this.privateKey).mod(aV)):c=new ts(ke(i))._addPoint(this.publicKey);let f=t;const u=this.mnemonic;return u&&(f=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new Cn(Rf,s,c,this.fingerprint,q0(a),e,this.depth+1,f)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let o=0;o<t.length;o++){const i=t[o];if(i.match(/^[0-9]+'$/)){const a=parseInt(i.substring(0,i.length-1));if(a>=qf)throw new Error("invalid path index - "+i);n=n._derive(qf+a)}else if(i.match(/^[0-9]+$/)){const a=parseInt(i);if(a>=qf)throw new Error("invalid path index - "+i);n=n._derive(a)}else throw new Error("invalid path component - "+i)}return n}static _fromSeed(e,t){const n=_e(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const o=_e(Pc(ef.sha512,sV,n));return new Cn(Rf,q0(o.slice(0,32)),null,"0x00000000",q0(o.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=yy(n),e=Ju(Qu(e,n),n),Cn._fromSeed(xy(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Cn._fromSeed(e,null)}static fromExtendedKey(e){const t=Xs.decode(e);(t.length!==82||k3(t.slice(0,78))!==e)&&Mu.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],o=ke(t.slice(5,9)),i=parseInt(ke(t.slice(9,13)).substring(2),16),a=ke(t.slice(13,45)),s=t.slice(45,78);switch(ke(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Cn(Rf,null,ke(s),o,a,i,n,null);case"0x0488ade4":case"0x04358394 ":if(s[0]!==0)break;return new Cn(Rf,ke(s.slice(1)),null,o,a,i,n,null)}return Mu.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function xy(r,e){e||(e="");const t=br("mnemonic"+e,Zi.NFKD);return my(br(r,Zi.NFKD),t,2048,64,"sha512")}function Qu(r,e){e=yy(e),Mu.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=_e(new Uint8Array(Math.ceil(11*t.length/8)));let o=0;for(let f=0;f<t.length;f++){let u=e.getWordIndex(t[f].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let h=0;h<11;h++)u&1<<10-h&&(n[o>>3]|=1<<7-o%8),o++}const i=32*t.length/3,a=t.length/3,s=q7(a);if((_e(No(n.slice(0,i/8)))[0]&s)!==(n[n.length-1]&s))throw new Error("invalid checksum");return ke(n.slice(0,i/8))}function Ju(r,e){if(e=yy(e),r=_e(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let a=0;a<r.length;a++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[a],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[a]>>8-n,t.push(r[a]&fV(8-n)),n+=3);const o=r.length/4,i=_e(No(r))[0]&q7(o);return t[t.length-1]<<=o,t[t.length-1]|=i>>8-o,e.join(t.map(a=>e.getWord(a)))}function K7(r,e){try{return Qu(r,e),!0}catch{}return!1}function $7(r){return(typeof r!="number"||r<0||r>=qf||r%1)&&Mu.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const cV=Object.freeze(Object.defineProperty({__proto__:null,defaultPath:tf,HDNode:Cn,mnemonicToSeed:xy,mnemonicToEntropy:Qu,entropyToMnemonic:Ju,isValidMnemonic:K7,getAccountPath:$7},Symbol.toStringTag,{value:"Module"})),lV="random/5.7.0",Sb=new X(lV);function uV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const C3=uV();let Ad=C3.crypto||C3.msCrypto;(!Ad||!Ad.getRandomValues)&&(Sb.warn("WARNING: Missing strong random number source"),Ad={getRandomValues:function(r){return Sb.throwError("no secure random source avaialble",X.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Ns(r){(r<=0||r>1024||r%1||r!=r)&&Sb.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return Ad.getRandomValues(e),_e(e)}function wy(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}const dV=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Ns,shuffled:wy},Symbol.toStringTag,{value:"Module"}));var W7={exports:{}};(function(r,e){(function(t){function n(g){return parseInt(g)===g}function o(g){if(!n(g.length))return!1;for(var d=0;d<g.length;d++)if(!n(g[d])||g[d]<0||g[d]>255)return!1;return!0}function i(g,d){if(g.buffer&&ArrayBuffer.isView(g)&&g.name==="Uint8Array")return d&&(g.slice?g=g.slice():g=Array.prototype.slice.call(g)),g;if(Array.isArray(g)){if(!o(g))throw new Error("Array contains invalid value: "+g);return new Uint8Array(g)}if(n(g.length)&&o(g))return new Uint8Array(g);throw new Error("unsupported array-like object")}function a(g){return new Uint8Array(g)}function s(g,d,k,V,_){(V!=null||_!=null)&&(g.slice?g=g.slice(V,_):g=Array.prototype.slice.call(g,V,_)),d.set(g,k)}var c=function(){function g(k){var V=[],_=0;for(k=encodeURI(k);_<k.length;){var U=k.charCodeAt(_++);U===37?(V.push(parseInt(k.substr(_,2),16)),_+=2):V.push(U)}return i(V)}function d(k){for(var V=[],_=0;_<k.length;){var U=k[_];U<128?(V.push(String.fromCharCode(U)),_++):U>191&&U<224?(V.push(String.fromCharCode((U&31)<<6|k[_+1]&63)),_+=2):(V.push(String.fromCharCode((U&15)<<12|(k[_+1]&63)<<6|k[_+2]&63)),_+=3)}return V.join("")}return{toBytes:g,fromBytes:d}}(),f=function(){function g(V){for(var _=[],U=0;U<V.length;U+=2)_.push(parseInt(V.substr(U,2),16));return _}var d="0123456789abcdef";function k(V){for(var _=[],U=0;U<V.length;U++){var K=V[U];_.push(d[(K&240)>>4]+d[K&15])}return _.join("")}return{toBytes:g,fromBytes:k}}(),u={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],w=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],T=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],I=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],R=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],P=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],B=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],O=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],H=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],$=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],J=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],ie=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],we=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],de=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ce=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function be(g){for(var d=[],k=0;k<g.length;k+=4)d.push(g[k]<<24|g[k+1]<<16|g[k+2]<<8|g[k+3]);return d}var L=function(g){if(!(this instanceof L))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(g,!0)}),this._prepare()};L.prototype._prepare=function(){var g=u[this.key.length];if(g==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var d=0;d<=g;d++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var k=(g+1)*4,V=this.key.length/4,_=be(this.key),U,d=0;d<V;d++)U=d>>2,this._Ke[U][d%4]=_[d],this._Kd[g-U][d%4]=_[d];for(var K=0,W=V,re;W<k;){if(re=_[V-1],_[0]^=w[re>>16&255]<<24^w[re>>8&255]<<16^w[re&255]<<8^w[re>>24&255]^h[K]<<24,K+=1,V!=8)for(var d=1;d<V;d++)_[d]^=_[d-1];else{for(var d=1;d<V/2;d++)_[d]^=_[d-1];re=_[V/2-1],_[V/2]^=w[re&255]^w[re>>8&255]<<8^w[re>>16&255]<<16^w[re>>24&255]<<24;for(var d=V/2+1;d<V;d++)_[d]^=_[d-1]}for(var d=0,pe,fe;d<V&&W<k;)pe=W>>2,fe=W%4,this._Ke[pe][fe]=_[d],this._Kd[g-pe][fe]=_[d++],W++}for(var pe=1;pe<g;pe++)for(var fe=0;fe<4;fe++)re=this._Kd[pe][fe],this._Kd[pe][fe]=ie[re>>24&255]^we[re>>16&255]^de[re>>8&255]^ce[re&255]},L.prototype.encrypt=function(g){if(g.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var d=this._Ke.length-1,k=[0,0,0,0],V=be(g),_=0;_<4;_++)V[_]^=this._Ke[0][_];for(var U=1;U<d;U++){for(var _=0;_<4;_++)k[_]=I[V[_]>>24&255]^R[V[(_+1)%4]>>16&255]^P[V[(_+2)%4]>>8&255]^B[V[(_+3)%4]&255]^this._Ke[U][_];V=k.slice()}for(var K=a(16),W,_=0;_<4;_++)W=this._Ke[d][_],K[4*_]=(w[V[_]>>24&255]^W>>24)&255,K[4*_+1]=(w[V[(_+1)%4]>>16&255]^W>>16)&255,K[4*_+2]=(w[V[(_+2)%4]>>8&255]^W>>8)&255,K[4*_+3]=(w[V[(_+3)%4]&255]^W)&255;return K},L.prototype.decrypt=function(g){if(g.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var d=this._Kd.length-1,k=[0,0,0,0],V=be(g),_=0;_<4;_++)V[_]^=this._Kd[0][_];for(var U=1;U<d;U++){for(var _=0;_<4;_++)k[_]=O[V[_]>>24&255]^H[V[(_+3)%4]>>16&255]^$[V[(_+2)%4]>>8&255]^J[V[(_+1)%4]&255]^this._Kd[U][_];V=k.slice()}for(var K=a(16),W,_=0;_<4;_++)W=this._Kd[d][_],K[4*_]=(T[V[_]>>24&255]^W>>24)&255,K[4*_+1]=(T[V[(_+3)%4]>>16&255]^W>>16)&255,K[4*_+2]=(T[V[(_+2)%4]>>8&255]^W>>8)&255,K[4*_+3]=(T[V[(_+1)%4]&255]^W)&255;return K};var S=function(g){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new L(g)};S.prototype.encrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var d=a(g.length),k=a(16),V=0;V<g.length;V+=16)s(g,k,0,V,V+16),k=this._aes.encrypt(k),s(k,d,V);return d},S.prototype.decrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var d=a(g.length),k=a(16),V=0;V<g.length;V+=16)s(g,k,0,V,V+16),k=this._aes.decrypt(k),s(k,d,V);return d};var v=function(g,d){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!d)d=a(16);else if(d.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=i(d,!0),this._aes=new L(g)};v.prototype.encrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var d=a(g.length),k=a(16),V=0;V<g.length;V+=16){s(g,k,0,V,V+16);for(var _=0;_<16;_++)k[_]^=this._lastCipherblock[_];this._lastCipherblock=this._aes.encrypt(k),s(this._lastCipherblock,d,V)}return d},v.prototype.decrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var d=a(g.length),k=a(16),V=0;V<g.length;V+=16){s(g,k,0,V,V+16),k=this._aes.decrypt(k);for(var _=0;_<16;_++)d[V+_]=k[_]^this._lastCipherblock[_];s(g,this._lastCipherblock,0,V,V+16)}return d};var l=function(g,d,k){if(!(this instanceof l))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!d)d=a(16);else if(d.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");k||(k=1),this.segmentSize=k,this._shiftRegister=i(d,!0),this._aes=new L(g)};l.prototype.encrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var d=i(g,!0),k,V=0;V<d.length;V+=this.segmentSize){k=this._aes.encrypt(this._shiftRegister);for(var _=0;_<this.segmentSize;_++)d[V+_]^=k[_];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(d,this._shiftRegister,16-this.segmentSize,V,V+this.segmentSize)}return d},l.prototype.decrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var d=i(g,!0),k,V=0;V<d.length;V+=this.segmentSize){k=this._aes.encrypt(this._shiftRegister);for(var _=0;_<this.segmentSize;_++)d[V+_]^=k[_];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(g,this._shiftRegister,16-this.segmentSize,V,V+this.segmentSize)}return d};var p=function(g,d){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!d)d=a(16);else if(d.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=i(d,!0),this._lastPrecipherIndex=16,this._aes=new L(g)};p.prototype.encrypt=function(g){for(var d=i(g,!0),k=0;k<d.length;k++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),d[k]^=this._lastPrecipher[this._lastPrecipherIndex++];return d},p.prototype.decrypt=p.prototype.encrypt;var b=function(g){if(!(this instanceof b))throw Error("Counter must be instanitated with `new`");g!==0&&!g&&(g=1),typeof g=="number"?(this._counter=a(16),this.setValue(g)):this.setBytes(g)};b.prototype.setValue=function(g){if(typeof g!="number"||parseInt(g)!=g)throw new Error("invalid counter value (must be an integer)");for(var d=15;d>=0;--d)this._counter[d]=g%256,g=g>>8},b.prototype.setBytes=function(g){if(g=i(g,!0),g.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=g},b.prototype.increment=function(){for(var g=15;g>=0;g--)if(this._counter[g]===255)this._counter[g]=0;else{this._counter[g]++;break}};var y=function(g,d){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",d instanceof b||(d=new b(d)),this._counter=d,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new L(g)};y.prototype.encrypt=function(g){for(var d=i(g,!0),k=0;k<d.length;k++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),d[k]^=this._remainingCounter[this._remainingCounterIndex++];return d},y.prototype.decrypt=y.prototype.encrypt;function A(g){g=i(g,!0);var d=16-g.length%16,k=a(g.length+d);s(g,k);for(var V=g.length;V<k.length;V++)k[V]=d;return k}function E(g){if(g=i(g,!0),g.length<16)throw new Error("PKCS#7 invalid length");var d=g[g.length-1];if(d>16)throw new Error("PKCS#7 padding byte out of range");for(var k=g.length-d,V=0;V<d;V++)if(g[k+V]!==d)throw new Error("PKCS#7 invalid padding byte");var _=a(k);return s(g,_,0,0,k),_}var m={AES:L,Counter:b,ModeOfOperation:{ecb:S,cbc:v,cfb:l,ofb:p,ctr:y},utils:{hex:f,utf8:c},padding:{pkcs7:{pad:A,strip:E}},_arrayTest:{coerceArray:i,createArray:a,copyArray:s}};r.exports=m})()})(W7);const _o=W7.exports,Q7="json-wallets/5.7.0";function Hs(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),_e(r)}function Ml(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function Ay(r){return typeof r=="string"?br(r,Zi.NFKC):_e(r)}function wr(r,e){let t=r;const n=e.toLowerCase().split("/");for(let o=0;o<n.length;o++){let i=null;for(const a in t)if(a.toLowerCase()===n[o]){i=t[a];break}if(i===null)return null;t=i}return t}function hV(r){const e=_e(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ke(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const pV=new X(Q7);class gV extends ds{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Ey(r,e){const t=JSON.parse(r);e=Ay(e);const n=Ht(wr(t,"ethaddr")),o=Hs(wr(t,"encseed"));(!o||o.length%16!==0)&&pV.throwArgumentError("invalid encseed","json",r);const i=_e(my(e,e,2e3,32,"sha256")).slice(0,16),a=o.slice(0,16),s=o.slice(16),c=new _o.ModeOfOperation.cbc(i,a),f=_o.padding.pkcs7.strip(_e(c.decrypt(s)));let u="";for(let T=0;T<f.length;T++)u+=String.fromCharCode(f[T]);const h=br(u),w=zt(h);return new gV({_isCrowdsaleAccount:!0,address:n,privateKey:w})}function ep(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function tp(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function J7(r){if(ep(r))try{return Ht(JSON.parse(r).ethaddr)}catch{return null}if(tp(r))try{return Ht(JSON.parse(r).address)}catch{return null}return null}var Y7={exports:{}};(function(r,e){(function(t){function o(R){const P=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let B=1779033703,O=3144134277,H=1013904242,$=2773480762,J=1359893119,ie=2600822924,we=528734635,de=1541459225;const ce=new Uint32Array(64);function be(y){let A=0,E=y.length;for(;E>=64;){let m=B,g=O,d=H,k=$,V=J,_=ie,U=we,K=de,W,re,pe,fe,ae;for(re=0;re<16;re++)pe=A+re*4,ce[re]=(y[pe]&255)<<24|(y[pe+1]&255)<<16|(y[pe+2]&255)<<8|y[pe+3]&255;for(re=16;re<64;re++)W=ce[re-2],fe=(W>>>17|W<<32-17)^(W>>>19|W<<32-19)^W>>>10,W=ce[re-15],ae=(W>>>7|W<<32-7)^(W>>>18|W<<32-18)^W>>>3,ce[re]=(fe+ce[re-7]|0)+(ae+ce[re-16]|0)|0;for(re=0;re<64;re++)fe=(((V>>>6|V<<32-6)^(V>>>11|V<<32-11)^(V>>>25|V<<32-25))+(V&_^~V&U)|0)+(K+(P[re]+ce[re]|0)|0)|0,ae=((m>>>2|m<<32-2)^(m>>>13|m<<32-13)^(m>>>22|m<<32-22))+(m&g^m&d^g&d)|0,K=U,U=_,_=V,V=k+fe|0,k=d,d=g,g=m,m=fe+ae|0;B=B+m|0,O=O+g|0,H=H+d|0,$=$+k|0,J=J+V|0,ie=ie+_|0,we=we+U|0,de=de+K|0,A+=64,E-=64}}be(R);let L,S=R.length%64,v=R.length/536870912|0,l=R.length<<3,p=S<56?56:120,b=R.slice(R.length-S,R.length);for(b.push(128),L=S+1;L<p;L++)b.push(0);return b.push(v>>>24&255),b.push(v>>>16&255),b.push(v>>>8&255),b.push(v>>>0&255),b.push(l>>>24&255),b.push(l>>>16&255),b.push(l>>>8&255),b.push(l>>>0&255),be(b),[B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,O>>>24&255,O>>>16&255,O>>>8&255,O>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255,$>>>24&255,$>>>16&255,$>>>8&255,$>>>0&255,J>>>24&255,J>>>16&255,J>>>8&255,J>>>0&255,ie>>>24&255,ie>>>16&255,ie>>>8&255,ie>>>0&255,we>>>24&255,we>>>16&255,we>>>8&255,we>>>0&255,de>>>24&255,de>>>16&255,de>>>8&255,de>>>0&255]}function i(R,P,B){R=R.length<=64?R:o(R);const O=64+P.length+4,H=new Array(O),$=new Array(64);let J,ie=[];for(J=0;J<64;J++)H[J]=54;for(J=0;J<R.length;J++)H[J]^=R[J];for(J=0;J<P.length;J++)H[64+J]=P[J];for(J=O-4;J<O;J++)H[J]=0;for(J=0;J<64;J++)$[J]=92;for(J=0;J<R.length;J++)$[J]^=R[J];function we(){for(let de=O-1;de>=O-4;de--){if(H[de]++,H[de]<=255)return;H[de]=0}}for(;B>=32;)we(),ie=ie.concat(o($.concat(o(H)))),B-=32;return B>0&&(we(),ie=ie.concat(o($.concat(o(H))).slice(0,B))),ie}function a(R,P,B,O,H){let $;for(u(R,(2*B-1)*16,H,0,16),$=0;$<2*B;$++)f(R,$*16,H,16),c(H,O),u(H,0,R,P+$*16,16);for($=0;$<B;$++)u(R,P+$*2*16,R,$*16,16);for($=0;$<B;$++)u(R,P+($*2+1)*16,R,($+B)*16,16)}function s(R,P){return R<<P|R>>>32-P}function c(R,P){u(R,0,P,0,16);for(let B=8;B>0;B-=2)P[4]^=s(P[0]+P[12],7),P[8]^=s(P[4]+P[0],9),P[12]^=s(P[8]+P[4],13),P[0]^=s(P[12]+P[8],18),P[9]^=s(P[5]+P[1],7),P[13]^=s(P[9]+P[5],9),P[1]^=s(P[13]+P[9],13),P[5]^=s(P[1]+P[13],18),P[14]^=s(P[10]+P[6],7),P[2]^=s(P[14]+P[10],9),P[6]^=s(P[2]+P[14],13),P[10]^=s(P[6]+P[2],18),P[3]^=s(P[15]+P[11],7),P[7]^=s(P[3]+P[15],9),P[11]^=s(P[7]+P[3],13),P[15]^=s(P[11]+P[7],18),P[1]^=s(P[0]+P[3],7),P[2]^=s(P[1]+P[0],9),P[3]^=s(P[2]+P[1],13),P[0]^=s(P[3]+P[2],18),P[6]^=s(P[5]+P[4],7),P[7]^=s(P[6]+P[5],9),P[4]^=s(P[7]+P[6],13),P[5]^=s(P[4]+P[7],18),P[11]^=s(P[10]+P[9],7),P[8]^=s(P[11]+P[10],9),P[9]^=s(P[8]+P[11],13),P[10]^=s(P[9]+P[8],18),P[12]^=s(P[15]+P[14],7),P[13]^=s(P[12]+P[15],9),P[14]^=s(P[13]+P[12],13),P[15]^=s(P[14]+P[13],18);for(let B=0;B<16;++B)R[B]+=P[B]}function f(R,P,B,O){for(let H=0;H<O;H++)B[H]^=R[P+H]}function u(R,P,B,O,H){for(;H--;)B[O++]=R[P++]}function h(R){if(!R||typeof R.length!="number")return!1;for(let P=0;P<R.length;P++){const B=R[P];if(typeof B!="number"||B%1||B<0||B>=256)return!1}return!0}function w(R,P){if(typeof R!="number"||R%1)throw new Error("invalid "+P);return R}function T(R,P,B,O,H,$,J){if(B=w(B,"N"),O=w(O,"r"),H=w(H,"p"),$=w($,"dkLen"),B===0||(B&B-1)!==0)throw new Error("N must be power of 2");if(B>2147483647/128/O)throw new Error("N too large");if(O>2147483647/128/H)throw new Error("r too large");if(!h(R))throw new Error("password must be an array or buffer");if(R=Array.prototype.slice.call(R),!h(P))throw new Error("salt must be an array or buffer");P=Array.prototype.slice.call(P);let ie=i(R,P,H*128*O);const we=new Uint32Array(H*32*O);for(let V=0;V<we.length;V++){const _=V*4;we[V]=(ie[_+3]&255)<<24|(ie[_+2]&255)<<16|(ie[_+1]&255)<<8|(ie[_+0]&255)<<0}const de=new Uint32Array(64*O),ce=new Uint32Array(32*O*B),be=32*O,L=new Uint32Array(16),S=new Uint32Array(16),v=H*B*2;let l=0,p=null,b=!1,y=0,A=0,E,m;const g=J?parseInt(1e3/O):4294967295,d=typeof setImmediate<"u"?setImmediate:setTimeout,k=function(){if(b)return J(new Error("cancelled"),l/v);let V;switch(y){case 0:m=A*32*O,u(we,m,de,0,be),y=1,E=0;case 1:V=B-E,V>g&&(V=g);for(let U=0;U<V;U++)u(de,0,ce,(E+U)*be,be),a(de,be,O,L,S);if(E+=V,l+=V,J){const U=parseInt(1e3*l/v);if(U!==p){if(b=J(null,l/v),b)break;p=U}}if(E<B)break;E=0,y=2;case 2:V=B-E,V>g&&(V=g);for(let U=0;U<V;U++){const K=(2*O-1)*16,W=de[K]&B-1;f(ce,W*be,de,be),a(de,be,O,L,S)}if(E+=V,l+=V,J){const U=parseInt(1e3*l/v);if(U!==p){if(b=J(null,l/v),b)break;p=U}}if(E<B)break;if(u(de,0,we,m,be),A++,A<H){y=0;break}ie=[];for(let U=0;U<we.length;U++)ie.push(we[U]>>0&255),ie.push(we[U]>>8&255),ie.push(we[U]>>16&255),ie.push(we[U]>>24&255);const _=i(R,ie,$);return J&&J(null,1,_),_}J&&d(k)};if(!J)for(;;){const V=k();if(V!=null)return V}k()}const I={scrypt:function(R,P,B,O,H,$,J){return new Promise(function(ie,we){let de=0;J&&J(0),T(R,P,B,O,H,$,function(ce,be,L){if(ce)we(ce);else if(L)J&&de!==1&&J(1),ie(new Uint8Array(L));else if(J&&be!==de)return de=be,J(be)})})},syncScrypt:function(R,P,B,O,H,$){return new Uint8Array(T(R,P,B,O,H,$))}};r.exports=I})()})(Y7);const _y=Y7.exports;var vV=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Tb=new X(Q7);function M3(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class bV extends ds{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function mV(r,e,t){if(wr(r,"crypto/cipher")==="aes-128-ctr"){const o=Hs(wr(r,"crypto/cipherparams/iv")),i=new _o.Counter(o),a=new _o.ModeOfOperation.ctr(e,i);return _e(a.decrypt(t))}return null}function Z7(r,e){const t=Hs(wr(r,"crypto/ciphertext"));if(ke(zt(Qt([e.slice(16,32),t]))).substring(2)!==wr(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const o=mV(r,e.slice(0,16),t);o||Tb.throwError("unsupported cipher",X.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=e.slice(32,64),a=ca(o);if(r.address){let c=r.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Ht(c)!==a)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:a,privateKey:ke(o)};if(wr(r,"x-ethers/version")==="0.1"){const c=Hs(wr(r,"x-ethers/mnemonicCiphertext")),f=Hs(wr(r,"x-ethers/mnemonicCounter")),u=new _o.Counter(f),h=new _o.ModeOfOperation.ctr(i,u),w=wr(r,"x-ethers/path")||tf,T=wr(r,"x-ethers/locale")||"en",I=_e(h.decrypt(c));try{const R=Ju(I,T),P=Cn.fromMnemonic(R,null,T).derivePath(w);if(P.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=P.mnemonic}catch(R){if(R.code!==X.errors.INVALID_ARGUMENT||R.argument!=="wordlist")throw R}}return new bV(s)}function X7(r,e,t,n,o){return _e(my(r,e,t,n,o))}function yV(r,e,t,n,o){return Promise.resolve(X7(r,e,t,n,o))}function e9(r,e,t,n,o){const i=Ay(e),a=wr(r,"crypto/kdf");if(a&&typeof a=="string"){const s=function(c,f){return Tb.throwArgumentError("invalid key-derivation function parameters",c,f)};if(a.toLowerCase()==="scrypt"){const c=Hs(wr(r,"crypto/kdfparams/salt")),f=parseInt(wr(r,"crypto/kdfparams/n")),u=parseInt(wr(r,"crypto/kdfparams/r")),h=parseInt(wr(r,"crypto/kdfparams/p"));(!f||!u||!h)&&s("kdf",a),(f&f-1)!==0&&s("N",f);const w=parseInt(wr(r,"crypto/kdfparams/dklen"));return w!==32&&s("dklen",w),n(i,c,f,u,h,64,o)}else if(a.toLowerCase()==="pbkdf2"){const c=Hs(wr(r,"crypto/kdfparams/salt"));let f=null;const u=wr(r,"crypto/kdfparams/prf");u==="hmac-sha256"?f="sha256":u==="hmac-sha512"?f="sha512":s("prf",u);const h=parseInt(wr(r,"crypto/kdfparams/c")),w=parseInt(wr(r,"crypto/kdfparams/dklen"));return w!==32&&s("dklen",w),t(i,c,h,w,f)}}return Tb.throwArgumentError("unsupported key-derivation function","kdf",a)}function t9(r,e){const t=JSON.parse(r),n=e9(t,e,X7,_y.syncScrypt);return Z7(t,n)}function r9(r,e,t){return vV(this,void 0,void 0,function*(){const n=JSON.parse(r),o=yield e9(n,e,yV,_y.scrypt,t);return Z7(n,o)})}function n9(r,e,t,n){try{if(Ht(r.address)!==ca(r.privateKey))throw new Error("address/privateKey mismatch");if(M3(r)){const P=r.mnemonic;if(Cn.fromMnemonic(P.phrase,null,P.locale).derivePath(P.path||tf).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(P){return Promise.reject(P)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const o=_e(r.privateKey),i=Ay(e);let a=null,s=null,c=null;if(M3(r)){const P=r.mnemonic;a=_e(Qu(P.phrase,P.locale||"en")),s=P.path||tf,c=P.locale||"en"}let f=t.client;f||(f="ethers.js");let u=null;t.salt?u=_e(t.salt):u=Ns(32);let h=null;if(t.iv){if(h=_e(t.iv),h.length!==16)throw new Error("invalid iv")}else h=Ns(16);let w=null;if(t.uuid){if(w=_e(t.uuid),w.length!==16)throw new Error("invalid uuid")}else w=Ns(16);let T=1<<17,I=8,R=1;return t.scrypt&&(t.scrypt.N&&(T=t.scrypt.N),t.scrypt.r&&(I=t.scrypt.r),t.scrypt.p&&(R=t.scrypt.p)),_y.scrypt(i,u,T,I,R,64,n).then(P=>{P=_e(P);const B=P.slice(0,16),O=P.slice(16,32),H=P.slice(32,64),$=new _o.Counter(h),J=new _o.ModeOfOperation.ctr(B,$),ie=_e(J.encrypt(o)),we=zt(Qt([O,ie])),de={address:r.address.substring(2).toLowerCase(),id:hV(w),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ke(h).substring(2)},ciphertext:ke(ie).substring(2),kdf:"scrypt",kdfparams:{salt:ke(u).substring(2),n:T,dklen:32,p:R,r:I},mac:we.substring(2)}};if(a){const ce=Ns(16),be=new _o.Counter(ce),L=new _o.ModeOfOperation.ctr(H,be),S=_e(L.encrypt(a)),v=new Date,l=v.getUTCFullYear()+"-"+Ml(v.getUTCMonth()+1,2)+"-"+Ml(v.getUTCDate(),2)+"T"+Ml(v.getUTCHours(),2)+"-"+Ml(v.getUTCMinutes(),2)+"-"+Ml(v.getUTCSeconds(),2)+".0Z";de["x-ethers"]={client:f,gethFilename:"UTC--"+l+"--"+de.address,mnemonicCounter:ke(ce).substring(2),mnemonicCiphertext:ke(S).substring(2),path:s,locale:c,version:"0.1"}}return JSON.stringify(de)})}function i9(r,e,t){if(ep(r)){t&&t(0);const n=Ey(r,e);return t&&t(1),Promise.resolve(n)}return tp(r)?r9(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function o9(r,e){if(ep(r))return Ey(r,e);if(tp(r))return t9(r,e);throw new Error("invalid JSON wallet")}const xV=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:Ey,decryptKeystore:r9,decryptKeystoreSync:t9,encryptKeystore:n9,isCrowdsaleWallet:ep,isKeystoreWallet:tp,getJsonWalletAddress:J7,decryptJsonWallet:i9,decryptJsonWalletSync:o9},Symbol.toStringTag,{value:"Module"})),wV="wallet/5.7.0";var I3=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Of=new X(wV);function AV(r){return r!=null&&lt(r.privateKey,32)&&r.address!=null}function EV(r){const e=r.mnemonic;return e&&e.phrase}class ra extends _a{constructor(e,t){if(super(),AV(e)){const n=new ts(e.privateKey);if(ue(this,"_signingKey",()=>n),ue(this,"address",ca(this.publicKey)),this.address!==Ht(e.address)&&Of.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),EV(e)){const o=e.mnemonic;ue(this,"_mnemonic",()=>({phrase:o.phrase,path:o.path||tf,locale:o.locale||"en"}));const i=this.mnemonic,a=Cn.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path);ca(a.privateKey)!==this.address&&Of.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ue(this,"_mnemonic",()=>null)}else{if(ts.isSigningKey(e))e.curve!=="secp256k1"&&Of.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ue(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new ts(e);ue(this,"_signingKey",()=>n)}ue(this,"_mnemonic",()=>null),ue(this,"address",ca(this.publicKey))}t&&!df.isProvider(t)&&Of.throwArgumentError("invalid provider","provider",t),ue(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new ra(this,e)}signTransaction(e){return cr(e).then(t=>{t.from!=null&&(Ht(t.from)!==this.address&&Of.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(zt(th(t)));return th(t,n)})}signMessage(e){return I3(this,void 0,void 0,function*(){return $d(this._signingKey().signDigest($u(e)))})}_signTypedData(e,t,n){return I3(this,void 0,void 0,function*(){const o=yield Nr.resolveNames(e,t,n,i=>(this.provider==null&&Of.throwError("cannot resolve ENS names without a provider",X.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:i}),this.provider.resolveName(i)));return $d(this._signingKey().signDigest(Nr.hash(o.domain,t,o.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),n9(this,e,t,n)}static createRandom(e){let t=Ns(16);e||(e={}),e.extraEntropy&&(t=_e(pr(zt(Qt([t,e.extraEntropy])),0,16)));const n=Ju(t,e.locale);return ra.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return i9(e,t,n).then(o=>new ra(o))}static fromEncryptedJsonSync(e,t){return new ra(o9(e,t))}static fromMnemonic(e,t,n){return t||(t=tf),new ra(Cn.fromMnemonic(e,null,n).derivePath(t))}}function a9(r,e){return gf($u(r),e)}function s9(r,e,t,n){return gf(Nr.hash(r,e,t),n)}const _V=Object.freeze(Object.defineProperty({__proto__:null,Wallet:ra,verifyMessage:a9,verifyTypedData:s9},Symbol.toStringTag,{value:"Module"})),SV="networks/5.7.1",P3=new X(SV);function TV(r){return r&&typeof r.renetwork=="function"}function ea(r){const e=function(t,n){n==null&&(n={});const o=[];if(t.InfuraProvider&&n.infura!=="-")try{o.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider&&n.etherscan!=="-")try{o.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider&&n.alchemy!=="-")try{o.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider&&n.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const a=new t.PocketProvider(r,n.pocket);a.network&&i.indexOf(a.network.name)===-1&&o.push(a)}catch{}}if(t.CloudflareProvider&&n.cloudflare!=="-")try{o.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&n.ankr!=="-")try{const i=["ropsten"],a=new t.AnkrProvider(r,n.ankr);a.network&&i.indexOf(a.network.name)===-1&&o.push(a)}catch{}if(o.length===0)return null;if(t.FallbackProvider){let i=1;return n.quorum!=null?i=n.quorum:r==="homestead"&&(i=2),new t.FallbackProvider(o,i)}return o[0]};return e.renetwork=function(t){return ea(t)},e}function oh(r,e){const t=function(n,o){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return oh(r,n)},t}const B3={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ea("homestead")},R3={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ea("ropsten")},O3={chainId:63,name:"classicMordor",_defaultProvider:oh("https://www.ethercluster.com/mordor","classicMordor")},K0={unspecified:{chainId:0,name:"unspecified"},homestead:B3,mainnet:B3,morden:{chainId:2,name:"morden"},ropsten:R3,testnet:R3,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ea("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ea("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ea("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ea("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:oh("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:O3,classicTestnet:O3,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:oh("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ea("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ea("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Sy(r){if(r==null)return null;if(typeof r=="number"){for(const n in K0){const o=K0[n];if(o.chainId===r)return{name:o.name,chainId:o.chainId,ensAddress:o.ensAddress||null,_defaultProvider:o._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=K0[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=K0[r.name];if(!e)return typeof r.chainId!="number"&&P3.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&P3.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(TV(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const kV="web/5.7.1";var CV=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};function MV(r,e){return CV(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const a=e.fetchOptions;a.mode&&(t.mode=a.mode),a.cache&&(t.cache=a.cache),a.credentials&&(t.credentials=a.credentials),a.redirect&&(t.redirect=a.redirect),a.referrer&&(t.referrer=a.referrer)}const n=yield fetch(r,t),o=yield n.arrayBuffer(),i={};return n.headers.forEach?n.headers.forEach((a,s)=>{i[s.toLowerCase()]=a}):n.headers.keys().forEach(a=>{i[a.toLowerCase()]=n.headers.get(a)}),{headers:i,statusCode:n.status,statusMessage:n.statusText,body:_e(new Uint8Array(o))}})}var IV=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Oi=new X(kV);function N3(r){return new Promise(e=>{setTimeout(e,r)})}function Va(r,e){if(r==null)return null;if(typeof r=="string")return r;if(Jc(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Ea(r)}catch{}return ke(r)}return r}function PV(r){return br(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Ty(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;Oi.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const o=typeof r=="object"?r.throttleCallback:null,i=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;Oi.assertArgument(i>0&&i%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const a=typeof r=="object"?!!r.errorPassThrough:!1,s={};let c=null;const f={method:"GET"};let u=!1,h=2*60*1e3;if(typeof r=="string")c=r;else if(typeof r=="object"){if((r==null||r.url==null)&&Oi.throwArgumentError("missing URL","connection.url",r),c=r.url,typeof r.timeout=="number"&&r.timeout>0&&(h=r.timeout),r.headers)for(const B in r.headers)s[B.toLowerCase()]={key:B,value:String(r.headers[B])},["if-none-match","if-modified-since"].indexOf(B.toLowerCase())>=0&&(u=!0);if(f.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){c.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&Oi.throwError("basic authentication requires a secure https url",X.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:r.user,password:"[REDACTED]"});const B=r.user+":"+r.password;s.authorization={key:"Authorization",value:"Basic "+oy(br(B))}}r.skipFetchSetup!=null&&(f.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(f.fetchOptions=Zt(r.fetchOptions))}const w=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),T=c?c.match(w):null;if(T)try{const B={statusCode:200,statusMessage:"OK",headers:{"content-type":T[1]||"text/plain"},body:T[2]?iy(T[3]):PV(T[3])};let O=B.body;return t&&(O=t(B.body,B)),Promise.resolve(O)}catch(B){Oi.throwError("processing response error",X.errors.SERVER_ERROR,{body:Va(T[1],T[2]),error:B,requestBody:null,requestMethod:"GET",url:c})}e&&(f.method="POST",f.body=e,s["content-type"]==null&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),s["content-length"]==null&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));const I={};Object.keys(s).forEach(B=>{const O=s[B];I[O.key]=O.value}),f.headers=I;const R=function(){let B=null;return{promise:new Promise(function($,J){h&&(B=setTimeout(()=>{B!=null&&(B=null,J(Oi.makeError("timeout",X.errors.TIMEOUT,{requestBody:Va(f.body,I["content-type"]),requestMethod:f.method,timeout:h,url:c})))},h))}),cancel:function(){B!=null&&(clearTimeout(B),B=null)}}}(),P=function(){return IV(this,void 0,void 0,function*(){for(let B=0;B<n;B++){let O=null;try{if(O=yield MV(c,f),B<n){if(O.statusCode===301||O.statusCode===302){const $=O.headers.location||"";if(f.method==="GET"&&$.match(/^https:/)){c=O.headers.location;continue}}else if(O.statusCode===429){let $=!0;if(o&&($=yield o(B,c)),$){let J=0;const ie=O.headers["retry-after"];typeof ie=="string"&&ie.match(/^[1-9][0-9]*$/)?J=parseInt(ie)*1e3:J=i*parseInt(String(Math.random()*Math.pow(2,B))),yield N3(J);continue}}}}catch($){O=$.response,O==null&&(R.cancel(),Oi.throwError("missing response",X.errors.SERVER_ERROR,{requestBody:Va(f.body,I["content-type"]),requestMethod:f.method,serverError:$,url:c}))}let H=O.body;if(u&&O.statusCode===304?H=null:!a&&(O.statusCode<200||O.statusCode>=300)&&(R.cancel(),Oi.throwError("bad response",X.errors.SERVER_ERROR,{status:O.statusCode,headers:O.headers,body:Va(H,O.headers?O.headers["content-type"]:null),requestBody:Va(f.body,I["content-type"]),requestMethod:f.method,url:c})),t)try{const $=yield t(H,O);return R.cancel(),$}catch($){if($.throttleRetry&&B<n){let J=!0;if(o&&(J=yield o(B,c)),J){const ie=i*parseInt(String(Math.random()*Math.pow(2,B)));yield N3(ie);continue}}R.cancel(),Oi.throwError("processing response error",X.errors.SERVER_ERROR,{body:Va(H,O.headers?O.headers["content-type"]:null),error:$,requestBody:Va(f.body,I["content-type"]),requestMethod:f.method,url:c})}return R.cancel(),H}return Oi.throwError("failed response",X.errors.SERVER_ERROR,{requestBody:Va(f.body,I["content-type"]),requestMethod:f.method,url:c})})}();return Promise.race([R.promise,P])}function bf(r,e,t){let n=(i,a)=>{let s=null;if(i!=null)try{s=JSON.parse(Ea(i))}catch(c){Oi.throwError("invalid JSON",X.errors.SERVER_ERROR,{body:i,error:c})}return t&&(s=t(s,a)),s},o=null;if(e!=null){o=br(e);const i=typeof r=="string"?{url:r}:Zt(r);i.headers?Object.keys(i.headers).filter(s=>s.toLowerCase()==="content-type").length!==0||(i.headers=Zt(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},r=i}return Ty(r,o,n)}function Qa(r,e){return e||(e={}),e=Zt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let o=null,i=!1;const a=()=>i?!1:(i=!0,o&&clearTimeout(o),!0);e.timeout&&(o=setTimeout(()=>{a()&&n(new Error("timeout"))},e.timeout));const s=e.retryLimit;let c=0;function f(){return r().then(function(u){if(u!==void 0)a()&&t(u);else if(e.oncePoll)e.oncePoll.once("poll",f);else if(e.onceBlock)e.onceBlock.once("block",f);else if(!i){if(c++,c>s){a()&&n(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(f,h)}return null},function(u){a()&&n(u)})}f()})}const BV=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:Ty,fetchJson:bf,poll:Qa},Symbol.toStringTag,{value:"Module"}));var ah="qpzry9x8gf2tvdw0s3jn54khce6mua7l",kb={};for(var $0=0;$0<ah.length;$0++){var fg=ah.charAt($0);if(kb[fg]!==void 0)throw new TypeError(fg+" is ambiguous");kb[fg]=$0}function uc(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function f9(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=uc(e)^n>>5}for(e=uc(e),t=0;t<r.length;++t){var o=r.charCodeAt(t);e=uc(e)^o&31}return e}function RV(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=f9(r);if(typeof n=="string")throw new Error(n);for(var o=r+"1",i=0;i<e.length;++i){var a=e[i];if(a>>5!==0)throw new Error("Non 5-bit word");n=uc(n)^a,o+=ah.charAt(a)}for(i=0;i<6;++i)n=uc(n);for(n^=1,i=0;i<6;++i){var s=n>>(5-i)*5&31;o+=ah.charAt(s)}return o}function c9(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var o=r.lastIndexOf("1");if(o===-1)return"No separator character for "+r;if(o===0)return"Missing prefix for "+r;var i=r.slice(0,o),a=r.slice(o+1);if(a.length<6)return"Data too short";var s=f9(i);if(typeof s=="string")return s;for(var c=[],f=0;f<a.length;++f){var u=a.charAt(f),h=kb[u];if(h===void 0)return"Unknown character "+u;s=uc(s)^h,!(f+6>=a.length)&&c.push(h)}return s!==1?"Invalid checksum for "+r:{prefix:i,words:c}}function OV(){var r=c9.apply(null,arguments);if(typeof r=="object")return r}function NV(r){var e=c9.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function rp(r,e,t,n){for(var o=0,i=0,a=(1<<t)-1,s=[],c=0;c<r.length;++c)for(o=o<<e|r[c],i+=e;i>=t;)i-=t,s.push(o>>i&a);if(n)i>0&&s.push(o<<t-i&a);else{if(i>=e)return"Excess padding";if(o<<t-i&a)return"Non-zero padding"}return s}function LV(r){var e=rp(r,8,5,!0);if(Array.isArray(e))return e}function DV(r){var e=rp(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function UV(r){var e=rp(r,5,8,!1);if(Array.isArray(e))return e}function FV(r){var e=rp(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var HV={decodeUnsafe:OV,decode:NV,encode:RV,toWordsUnsafe:LV,toWords:DV,fromWordsUnsafe:UV,fromWords:FV};const L3=HV,ln="providers/5.7.2",Il=new X(ln);class ze{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),o=this.blockTag.bind(this),i=this.data.bind(this),a=this.hash.bind(this),s=this.hex.bind(this),c=this.number.bind(this),f=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:a,type:f,accessList:ze.allowNull(this.accessList.bind(this),null),blockHash:ze.allowNull(a,null),blockNumber:ze.allowNull(c,null),transactionIndex:ze.allowNull(c,null),confirmations:ze.allowNull(c,null),from:t,gasPrice:ze.allowNull(n),maxPriorityFeePerGas:ze.allowNull(n),maxFeePerGas:ze.allowNull(n),gasLimit:n,to:ze.allowNull(t,null),value:n,nonce:c,data:i,r:ze.allowNull(this.uint256),s:ze.allowNull(this.uint256),v:ze.allowNull(c),creates:ze.allowNull(t,null),raw:ze.allowNull(i)},e.transactionRequest={from:ze.allowNull(t),nonce:ze.allowNull(c),gasLimit:ze.allowNull(n),gasPrice:ze.allowNull(n),maxPriorityFeePerGas:ze.allowNull(n),maxFeePerGas:ze.allowNull(n),to:ze.allowNull(t),value:ze.allowNull(n),data:ze.allowNull(u),type:ze.allowNull(c),accessList:ze.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:a,address:t,topics:ze.arrayOf(a),data:i,logIndex:c,blockHash:a},e.receipt={to:ze.allowNull(this.address,null),from:ze.allowNull(this.address,null),contractAddress:ze.allowNull(t,null),transactionIndex:c,root:ze.allowNull(s),gasUsed:n,logsBloom:ze.allowNull(i),blockHash:a,transactionHash:a,logs:ze.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:ze.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:ze.allowNull(n),status:ze.allowNull(c),type:f},e.block={hash:ze.allowNull(a),parentHash:a,number:c,timestamp:c,nonce:ze.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:ze.allowNull(t),extraData:i,transactions:ze.allowNull(ze.arrayOf(a)),baseFeePerGas:ze.allowNull(n)},e.blockWithTransactions=Zt(e.block),e.blockWithTransactions.transactions=ze.allowNull(ze.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:ze.allowNull(o,void 0),toBlock:ze.allowNull(o,void 0),blockHash:ze.allowNull(a,void 0),address:ze.allowNull(t,void 0),topics:ze.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:ze.allowNull(c),blockHash:ze.allowNull(a),transactionIndex:c,removed:ze.allowNull(this.boolean.bind(this)),address:t,data:ze.allowFalsish(i,"0x"),topics:ze.arrayOf(a),transactionHash:a,logIndex:c},e}accessList(e){return Sa(e||[])}number(e){return e==="0x"?0:Se.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Se.from(e).toNumber()}bigNumber(e){return Se.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),lt(e))?e.toLowerCase():Il.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Ht(e)}callAddress(e){if(!lt(e,32))return null;const t=Ht(pr(e,12));return t===G5?null:t}contractAddress(e){return Ku(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||lt(e))return Yc(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return Yi(n)!==32?Il.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=Se.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!lt(e))throw new Error("invalid uint256");return Jt(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,o=ze.check(t,e);return o._difficulty=n==null?null:Se.from(n),o}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return ze.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Se.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=ze.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;lt(n)&&(n=Se.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),lt(n)&&(n=Se.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return py(e)}receiptLog(e){return ze.check(this.formats.receiptLog,e)}receipt(e){const t=ze.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=Se.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&Il.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):Il.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&Il.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return ze.check(this.formats.filter,e)}filterLog(e){return ze.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const o in e)try{const i=e[o](t[o]);i!==void 0&&(n[o]=i)}catch(i){throw i.checkKey=o,i.checkValue=t[o],i}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(o){n.push(e(o))}),n}}}function l9(r){return r&&typeof r.isCommunityResource=="function"}function Cb(r){return l9(r)&&r.isCommunityResource()}let D3=!1;function Yu(){D3||(D3=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var ct=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const mt=new X(ln),VV=10;function U3(r){return r==null?"null":(Yi(r)!==32&&mt.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function F3(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(o=>{t[U3(o)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return U3(e)}).join("&")}function jV(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function Nf(r){if(typeof r=="string"){if(r=r.toLowerCase(),Yi(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+F3(r);if(WU.isForkEvent(r))throw mt.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+F3(r.topics||[])}throw new Error("invalid event - "+r)}function Pl(){return new Date().getTime()}function H3(r){return new Promise(e=>{setTimeout(e,r)})}const GV=["block","network","pending","poll"];class zV{constructor(e,t,n){ue(this,"tag",e),ue(this,"listener",t),ue(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=jV(e[2]),o={};return n.length>0&&(o.topics=n),t&&t!=="*"&&(o.address=t),o}pollable(){return this.tag.indexOf(":")>=0||GV.indexOf(this.tag)>=0}}const qV={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function cg(r){return Jt(Se.from(r).toHexString(),32)}function V3(r){return Xs.encode(Qt([r,pr(No(No(r)),0,4)]))}const u9=new RegExp("^(ipfs)://(.*)$","i"),j3=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),u9,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Ed(r,e){try{return Ea(Iu(r,e))}catch{}return null}function Iu(r,e){if(r==="0x")return null;const t=Se.from(pr(r,e,e+32)).toNumber(),n=Se.from(pr(r,t,t+32)).toNumber();return pr(r,t+32,t+32+n)}function lg(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):mt.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function G3(r){const e=_e(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function KV(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function d9(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(null),t+=32;for(let n=0;n<r.length;n++){const o=_e(r[n]);e[n]=G3(t),e.push(G3(o.length)),e.push(KV(o)),t+=32+Math.ceil(o.length/32)*32}return rn(e)}class Mb{constructor(e,t,n,o){ue(this,"provider",e),ue(this,"name",n),ue(this,"address",e.formatter.address(t)),ue(this,"_resolvedAddress",o)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Se.from(e).eq(1)).catch(e=>{if(e.code===X.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return ct(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:rn([e,lc(this.name),t||"0x"])};let o=!1;(yield this.supportsWildcard())&&(o=!0,n.data=rn(["0x9061b923",d9([ay(this.name),n.data])]));try{let i=yield this.provider.call(n);return _e(i).length%32===4&&mt.throwError("resolver threw error",X.errors.CALL_EXCEPTION,{transaction:n,data:i}),o&&(i=Iu(i,0)),i}catch(i){if(i.code===X.errors.CALL_EXCEPTION)return null;throw i}})}_fetchBytes(e,t){return ct(this,void 0,void 0,function*(){const n=yield this._fetch(e,t);return n!=null?Iu(n,0):null})}_getAddress(e,t){const n=qV[String(e)];if(n==null&&mt.throwError(`unsupported coin type: ${e}`,X.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const o=_e(t);if(n.p2pkh!=null){const i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){const a=parseInt(i[1],16);if(i[2].length===a*2&&a>=1&&a<=75)return V3(Qt([[n.p2pkh],"0x"+i[2]]))}}if(n.p2sh!=null){const i=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(i){const a=parseInt(i[1],16);if(i[2].length===a*2&&a>=1&&a<=75)return V3(Qt([[n.p2sh],"0x"+i[2]]))}}if(n.prefix!=null){const i=o[1];let a=o[0];if(a===0?i!==20&&i!==32&&(a=-1):a=-1,a>=0&&o.length===2+i&&i>=1&&i<=75){const s=L3.toWords(o.slice(2));return s.unshift(a),L3.encode(n.prefix,s)}}return null}getAddress(e){return ct(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const o=yield this._fetch("0x3b3b57de");return o==="0x"||o===Ym?null:this.provider.formatter.callAddress(o)}catch(o){if(o.code===X.errors.CALL_EXCEPTION)return null;throw o}const t=yield this._fetchBytes("0xf1cb7e06",cg(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&mt.throwError("invalid or unsupported coin data",X.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return ct(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<j3.length;n++){const o=t.match(j3[n]);if(o==null)continue;const i=o[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:lg(t)};case"erc721":case"erc1155":{const a=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const s=this._resolvedAddress||(yield this.getAddress()),c=(o[2]||"").split("/");if(c.length!==2)return null;const f=yield this.provider.formatter.address(c[0]),u=Jt(Se.from(c[1]).toHexString(),32);if(i==="erc721"){const R=this.provider.formatter.callAddress(yield this.provider.call({to:f,data:rn(["0x6352211e",u])}));if(s!==R)return null;e.push({type:"owner",content:R})}else if(i==="erc1155"){const R=Se.from(yield this.provider.call({to:f,data:rn(["0x00fdd58e",Jt(s,32),u])}));if(R.isZero())return null;e.push({type:"balance",content:R.toString()})}const h={to:this.provider.formatter.address(c[0]),data:rn([a,u])};let w=Ed(yield this.provider.call(h),0);if(w==null)return null;e.push({type:"metadata-url-base",content:w}),i==="erc1155"&&(w=w.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:w})),w.match(/^ipfs:/i)&&(w=lg(w)),e.push({type:"metadata-url",content:w});const T=yield bf(w);if(!T)return null;e.push({type:"metadata",content:JSON.stringify(T)});let I=T.image;if(typeof I!="string")return null;if(!I.match(/^(https:\/\/|data:)/i)){if(I.match(u9)==null)return null;e.push({type:"url-ipfs",content:I}),I=lg(I)}return e.push({type:"url",content:I}),{linkage:e,url:I}}}}}catch{}return null})}getContentHash(){return ct(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const a=parseInt(t[3],16);if(t[4].length===a*2)return"ipfs://"+Xs.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const a=parseInt(n[3],16);if(n[4].length===a*2)return"ipns://"+Xs.encode("0x"+n[1])}const o=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(o&&o[1].length===32*2)return"bzz://"+o[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&i[1].length===34*2){const a={"=":"","+":"-","/":"_"},s=oy("0x"+i[1]).replace(/[=+\/]/g,c=>a[c]);return"sia://"+s}return mt.throwError("invalid or unsupported content hash data",X.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return ct(this,void 0,void 0,function*(){let t=br(e);t=Qt([cg(64),cg(t.length),t]),t.length%32!==0&&(t=Qt([t,Jt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ke(t));return n==null||n==="0x"?null:Ea(n)})}}let ug=null,$V=1;class np extends df{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ue(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=Dr(new.target,"getNetwork")(e);t?(ue(this,"_network",t),this.emit("network",t,null)):mt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ct(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||mt.throwError("no network detected",X.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ue(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Qa(()=>this._ready().then(e=>e,e=>{if(!(e.code===X.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return ug==null&&(ug=new ze),ug}static getNetwork(e){return Sy(e??"homestead")}ccipReadFetch(e,t,n){return ct(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const o=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let s=0;s<n.length;s++){const c=n[s],f=c.replace("{sender}",o).replace("{data}",i),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:o}),h=yield bf({url:f,errorPassThrough:!0},u,(T,I)=>(T.status=I.statusCode,T));if(h.data)return h.data;const w=h.message||"unknown error";if(h.status>=400&&h.status<500)return mt.throwError(`response not found during CCIP fetch: ${w}`,X.errors.SERVER_ERROR,{url:c,errorMessage:w});a.push(w)}return mt.throwError(`error encountered during CCIP fetch: ${a.map(s=>JSON.stringify(s)).join(", ")}`,X.errors.SERVER_ERROR,{urls:n,errorMessages:a})})}_getInternalBlockNumber(e){return ct(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const o=this._internalBlockNumber;try{const i=yield o;if(Pl()-i.respTime<=e)return i.blockNumber;break}catch{if(this._internalBlockNumber===o)break}}const t=Pl(),n=cr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(o=>null,o=>o)}).then(({blockNumber:o,networkError:i})=>{if(i)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),i;const a=Pl();return o=Se.from(o).toNumber(),o<this._maxInternalBlockNumber&&(o=this._maxInternalBlockNumber),this._maxInternalBlockNumber=o,this._setFastBlockNumber(o),{blockNumber:o,reqTime:t,respTime:a}});return this._internalBlockNumber=n,n.catch(o=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return ct(this,void 0,void 0,function*(){const e=$V++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(o){this.emit("error",o);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)mt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",mt.makeError("network block skew detected",X.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let o=this._emitted.block+1;o<=n;o++)this.emit("block",o);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(o=>{if(o==="block")return;const i=this._emitted[o];i!=="pending"&&n-i>12&&delete this._emitted[o]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(o=>{switch(o.type){case"tx":{const i=o.hash;let a=this.getTransactionReceipt(i).then(s=>(!s||s.blockNumber==null||(this._emitted["t:"+i]=s.blockNumber,this.emit(i,s)),null)).catch(s=>{this.emit("error",s)});t.push(a);break}case"filter":{if(!o._inflight){o._inflight=!0,o._lastBlockNumber===-2&&(o._lastBlockNumber=n-1);const i=o.filter;i.fromBlock=o._lastBlockNumber+1,i.toBlock=n;const a=i.toBlock-this._maxFilterBlockRange;a>i.fromBlock&&(i.fromBlock=a),i.fromBlock<0&&(i.fromBlock=0);const s=this.getLogs(i).then(c=>{o._inflight=!1,c.length!==0&&c.forEach(f=>{f.blockNumber>o._lastBlockNumber&&(o._lastBlockNumber=f.blockNumber),this._emitted["b:"+f.blockHash]=f.blockNumber,this._emitted["t:"+f.transactionHash]=f.blockNumber,this.emit(i,f)})}).catch(c=>{this.emit("error",c),o._inflight=!1});t.push(s)}break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(o=>{this.emit("error",o)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ct(this,void 0,void 0,function*(){return mt.throwError("provider does not support network detection",X.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return ct(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield H3(0),this._network;const n=mt.makeError("underlying network changed",X.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Pl();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Pl(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return ct(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,n||0,null)})}_waitForTransaction(e,t,n,o){return ct(this,void 0,void 0,function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((a,s)=>{const c=[];let f=!1;const u=function(){return f?!0:(f=!0,c.forEach(w=>{w()}),!1)},h=w=>{w.confirmations<t||u()||a(w)};if(this.on(e,h),c.push(()=>{this.removeListener(e,h)}),o){let w=o.startBlock,T=null;const I=R=>ct(this,void 0,void 0,function*(){f||(yield H3(1e3),this.getTransactionCount(o.from).then(P=>ct(this,void 0,void 0,function*(){if(!f){if(P<=o.nonce)w=R;else{{const B=yield this.getTransaction(e);if(B&&B.blockNumber!=null)return}for(T==null&&(T=w-3,T<o.startBlock&&(T=o.startBlock));T<=R;){if(f)return;const B=yield this.getBlockWithTransactions(T);for(let O=0;O<B.transactions.length;O++){const H=B.transactions[O];if(H.hash===e)return;if(H.from===o.from&&H.nonce===o.nonce){if(f)return;const $=yield this.waitForTransaction(H.hash,t);if(u())return;let J="replaced";H.data===o.data&&H.to===o.to&&H.value.eq(o.value)?J="repriced":H.data==="0x"&&H.from===H.to&&H.value.isZero()&&(J="cancelled"),s(mt.makeError("transaction was replaced",X.errors.TRANSACTION_REPLACED,{cancelled:J==="replaced"||J==="cancelled",reason:J,replacement:this._wrapTransaction(H),hash:e,receipt:$}));return}}T++}}f||this.once("block",I)}}),P=>{f||this.once("block",I)}))});if(f)return;this.once("block",I),c.push(()=>{this.removeListener("block",I)})}if(typeof n=="number"&&n>0){const w=setTimeout(()=>{u()||s(mt.makeError("timeout exceeded",X.errors.TIMEOUT,{timeout:n}))},n);w.unref&&w.unref(),c.push(()=>{clearTimeout(w)})}})})}getBlockNumber(){return ct(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Se.from(e)}catch(t){return mt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield cr({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getBalance",n);try{return Se.from(o)}catch(i){return mt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getBalance",params:n,result:o,error:i})}})}getTransactionCount(e,t){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield cr({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getTransactionCount",n);try{return Se.from(o).toNumber()}catch(i){return mt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:o,error:i})}})}getCode(e,t){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield cr({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getCode",n);try{return ke(o)}catch(i){return mt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getCode",params:n,result:o,error:i})}})}getStorageAt(e,t,n){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const o=yield cr({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(a=>Yc(a))}),i=yield this.perform("getStorageAt",o);try{return ke(i)}catch(a){return mt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getStorageAt",params:o,result:i,error:a})}})}_wrapTransaction(e,t,n){if(t!=null&&Yi(t)!==32)throw new Error("invalid response - sendTransaction");const o=e;return t!=null&&e.hash!==t&&mt.throwError("Transaction hash mismatch from Provider.sendTransaction.",X.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),o.wait=(i,a)=>ct(this,void 0,void 0,function*(){i==null&&(i=1),a==null&&(a=0);let s;i!==0&&n!=null&&(s={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,i,a,s);return c==null&&i===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&mt.throwError("transaction failed",X.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),o}sendTransaction(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(i=>ke(i)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const o=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const i=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,i,o)}catch(i){throw i.transaction=n,i.transactionHash=n.hash,i}})}_getTransactionRequest(e){return ct(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i?this._getAddress(i):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i?Se.from(i):null))}),["type"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i??null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i?ke(i):null))}),this.formatter.transactionRequest(yield cr(n))})}_getFilter(e){return ct(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield cr(t))})}_call(e,t,n){return ct(this,void 0,void 0,function*(){n>=VV&&mt.throwError("CCIP read exceeded maximum redirections",X.errors.SERVER_ERROR,{redirects:n,transaction:e});const o=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&t==="latest"&&o!=null&&i.substring(0,10)==="0x556f1830"&&Yi(i)%32===4)try{const a=pr(i,4),s=pr(a,0,32);Se.from(s).eq(o)||mt.throwError("CCIP Read sender did not match",X.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const c=[],f=Se.from(pr(a,32,64)).toNumber(),u=Se.from(pr(a,f,f+32)).toNumber(),h=pr(a,f+32);for(let B=0;B<u;B++){const O=Ed(h,B*32);O==null&&mt.throwError("CCIP Read contained corrupt URL string",X.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),c.push(O)}const w=Iu(a,64);Se.from(pr(a,100,128)).isZero()||mt.throwError("CCIP Read callback selector included junk",X.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const T=pr(a,96,100),I=Iu(a,128),R=yield this.ccipReadFetch(e,w,c);R==null&&mt.throwError("CCIP Read disabled or provided no URLs",X.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const P={to:o,data:rn([T,d9([R,I])])};return this._call(P,t,n+1)}catch(a){if(a.code===X.errors.SERVER_ERROR)throw a}try{return ke(i)}catch(a){return mt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:a})}})}call(e,t){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield cr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield cr({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return Se.from(n)}catch(o){return mt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:o})}})}_getAddress(e){return ct(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&mt.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&mt.throwError("ENS name not configured",X.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return ct(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const o={includeTransactions:!!t};if(lt(e,32))o.blockHash=e;else try{o.blockTag=yield this._getBlockTag(e),lt(o.blockTag)&&(n=parseInt(o.blockTag.substring(2),16))}catch{mt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Qa(()=>ct(this,void 0,void 0,function*(){const i=yield this.perform("getBlock",o);if(i==null)return o.blockHash!=null&&this._emitted["b:"+o.blockHash]==null||o.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let a=null;for(let c=0;c<i.transactions.length;c++){const f=i.transactions[c];if(f.blockNumber==null)f.confirmations=0;else if(f.confirmations==null){a==null&&(a=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=a-f.blockNumber+1;u<=0&&(u=1),f.confirmations=u}}const s=this.formatter.blockWithTransactions(i);return s.transactions=s.transactions.map(c=>this._wrapTransaction(c)),s}return this.formatter.block(i)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Qa(()=>ct(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const o=this.formatter.transactionResponse(n);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;a<=0&&(a=1),o.confirmations=a}return this._wrapTransaction(o)}),{oncePoll:this})})}getTransactionReceipt(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Qa(()=>ct(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const o=this.formatter.receipt(n);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;a<=0&&(a=1),o.confirmations=a}return o}),{oncePoll:this})})}getLogs(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield cr({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(o=>{o.removed==null&&(o.removed=!1)}),ze.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return ct(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return ct(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&mt.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return ct(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const n=yield this._getResolver(t,"getResolver");if(n!=null){const o=new Mb(this,n,e);return t!==e&&!(yield o.supportsWildcard())?null:o}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return ct(this,void 0,void 0,function*(){t==null&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||mt.throwError("network does not support ENS",X.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const o=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+lc(e).substring(2)});return this.formatter.callAddress(o)}catch{}return null})}resolveName(e){return ct(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(lt(e))throw n}typeof e!="string"&&mt.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return ct(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(n==null)return null;const o=Ed(yield this.call({to:n,data:"0x691f3431"+lc(t).substring(2)}),0);return(yield this.resolveName(o))!=e?null:o})}getAvatar(e){return ct(this,void 0,void 0,function*(){let t=null;if(lt(e)){const i=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",a=yield this._getResolver(i,"getAvatar");if(!a)return null;t=new Mb(this,a,i);try{const s=yield t.getAvatar();if(s)return s.url}catch(s){if(s.code!==X.errors.CALL_EXCEPTION)throw s}try{const s=Ed(yield this.call({to:a,data:"0x691f3431"+lc(i).substring(2)}),0);t=yield this.getResolver(s)}catch(s){if(s.code!==X.errors.CALL_EXCEPTION)throw s;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return mt.throwError(e+" not implemented",X.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const o=new zV(Nf(e),t,n);return this._events.push(o),this._startEvent(o),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,o=[],i=Nf(e);return this._events=this._events.filter(a=>a.tag!==i?!0:(setTimeout(()=>{a.listener.apply(this,t)},0),n=!0,a.once?(o.push(a),!1):!0)),o.forEach(a=>{this._stopEvent(a)}),n}listenerCount(e){if(!e)return this._events.length;let t=Nf(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=Nf(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let o=!1,i=Nf(e);return this._events=this._events.filter(a=>a.tag!==i||a.listener!=t||o?!0:(o=!0,n.push(a),!1)),n.forEach(a=>{this._stopEvent(a)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=Nf(e);this._events=this._events.filter(o=>o.tag!==n?!0:(t.push(o),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var Yo=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const _r=new X(ln),WV=["call","estimateGas"];function cu(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=lt(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const n=cu(r[t],e);if(n)return n}return null}if(typeof r=="string")try{return cu(JSON.parse(r),e)}catch{}return null}function h9(r,e,t){const n=t.transaction||t.signedTransaction;if(r==="call"){const i=cu(e,!0);if(i)return i.data;_r.throwError("missing revert data in call exception; Transaction reverted without a reason string",X.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(r==="estimateGas"){let i=cu(e.body,!1);i==null&&(i=cu(e,!1)),i&&_r.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",X.errors.UNPREDICTABLE_GAS_LIMIT,{reason:i.message,method:r,transaction:n,error:e})}let o=e.message;throw e.code===X.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?o=e.error.message:typeof e.body=="string"?o=e.body:typeof e.responseText=="string"&&(o=e.responseText),o=(o||"").toLowerCase(),o.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&_r.throwError("insufficient funds for intrinsic transaction cost",X.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),o.match(/nonce (is )?too low/i)&&_r.throwError("nonce has already been used",X.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&_r.throwError("replacement fee too low",X.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),o.match(/only replay-protected/i)&&_r.throwError("legacy pre-eip-155 transactions not supported",X.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),WV.indexOf(r)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&_r.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",X.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function z3(r){return new Promise(function(e){setTimeout(e,r)})}function QV(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function Bl(r){return r&&r.toLowerCase()}const Ib={};class ky extends _a{constructor(e,t,n){if(super(),e!==Ib)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ue(this,"provider",t),n==null&&(n=0),typeof n=="string"?(ue(this,"_address",this.provider.formatter.address(n)),ue(this,"_index",null)):typeof n=="number"?(ue(this,"_index",n),ue(this,"_address",null)):_r.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return _r.throwError("cannot alter JSON-RPC Signer connection",X.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new JV(Ib,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&_r.throwError("unknown account #"+this._index,X.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Zt(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Zt(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Yo(this,void 0,void 0,function*(){if(n==null)return null;const o=yield this.provider.resolveName(n);return o==null&&_r.throwArgumentError("provided ENS name resolves to null","tx.to",n),o}))),cr({tx:cr(e),sender:t}).then(({tx:n,sender:o})=>{n.from!=null?n.from.toLowerCase()!==o&&_r.throwArgumentError("from address mismatch","transaction",e):n.from=o;const i=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(a=>a,a=>(typeof a.message=="string"&&a.message.match(/user denied/i)&&_r.throwError("user rejected transaction",X.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),h9("sendTransaction",a,i)))})}signTransaction(e){return _r.throwError("signing transactions is unsupported",X.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Yo(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Qa(()=>Yo(this,void 0,void 0,function*(){const o=yield this.provider.getTransaction(n);if(o!==null)return this.provider._wrapTransaction(o,n,t)}),{oncePoll:this.provider})}catch(o){throw o.transactionHash=n,o}})}signMessage(e){return Yo(this,void 0,void 0,function*(){const t=typeof e=="string"?br(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ke(t),n.toLowerCase()])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&_r.throwError("user rejected signing",X.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),o}})}_legacySignMessage(e){return Yo(this,void 0,void 0,function*(){const t=typeof e=="string"?br(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ke(t)])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&_r.throwError("user rejected signing",X.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),o}})}_signTypedData(e,t,n){return Yo(this,void 0,void 0,function*(){const o=yield Nr.resolveNames(e,t,n,a=>this.provider.resolveName(a)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Nr.getPayload(o.domain,t,o.value))])}catch(a){throw typeof a.message=="string"&&a.message.match(/user denied/i)&&_r.throwError("user rejected signing",X.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:o.domain,types:t,value:o.value}}),a}})}unlock(e){return Yo(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class JV extends ky{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const YV={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class rf extends np{constructor(e,t){let n=t;n==null&&(n=new Promise((o,i)=>{setTimeout(()=>{this.detectNetwork().then(a=>{o(a)},a=>{i(a)})},0)})),super(n),e||(e=Dr(this.constructor,"defaultUrl")()),typeof e=="string"?ue(this,"connection",Object.freeze({url:e})):ue(this,"connection",Object.freeze(Zt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Yo(this,void 0,void 0,function*(){yield z3(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=Dr(this.constructor,"getNetwork");try{return t(Se.from(e).toNumber())}catch(n){return _r.throwError("could not detect network",X.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return _r.throwError("could not detect network",X.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new ky(Ib,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:sn(n),provider:this});const o=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(o&&this._cache[e])return this._cache[e];const i=bf(this.connection,JSON.stringify(n),QV).then(a=>(this.emit("debug",{action:"response",request:n,response:a,provider:this}),a),a=>{throw this.emit("debug",{action:"response",error:a,request:n,provider:this}),a});return o&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Bl(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Bl(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Bl(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Bl(t.address),Jt(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{const n=Dr(this.constructor,"hexlifyTransaction");return["eth_call",[n(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{const n=Dr(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Bl(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Yo(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const o=t.transaction;if(o&&o.type!=null&&Se.from(o.type).isZero()&&o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null){const i=yield this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Zt(t),t.transaction=Zt(o),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&_r.throwError(e+" not implemented",X.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(o){return h9(e,o,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function o(){e.send("eth_getFilterChanges",[n]).then(function(i){if(e._pendingFilter!=t)return null;let a=Promise.resolve();return i.forEach(function(s){e._emitted["t:"+s.toLowerCase()]="pending",a=a.then(function(){return e.getTransaction(s).then(function(c){return e.emit("pending",c),null})})}),a.then(function(){return z3(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){o()},0),null}).catch(i=>{})}return o(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=Zt(YV);if(t)for(const i in t)t[i]&&(n[i]=!0);qh(e,n);const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(i){if(e[i]==null)return;const a=Yc(Se.from(e[i]));i==="gasLimit"&&(i="gas"),o[i]=a}),["from","to","data"].forEach(function(i){e[i]!=null&&(o[i]=ke(e[i]))}),e.accessList&&(o.accessList=Sa(e.accessList)),o}}let lu=null;try{if(lu=WebSocket,lu==null)throw new Error("inject please")}catch{const e=new X(ln);lu=function(){e.throwError("WebSockets not supported in this environment",X.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var dg=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const W0=new X(ln);let ZV=1;class ip extends rf{constructor(e,t){t==="any"&&W0.throwError("WebSocketProvider does not support 'any' network yet",X.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ue(this,"_websocket",new lu(this.connection.url)):ue(this,"_websocket",e),ue(this,"_requests",{}),ue(this,"_subs",{}),ue(this,"_subIds",{}),ue(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(o=>{this.websocket.send(this._requests[o].payload)})},this.websocket.onmessage=o=>{const i=o.data,a=JSON.parse(i);if(a.id!=null){const s=String(a.id),c=this._requests[s];if(delete this._requests[s],a.result!==void 0)c.callback(null,a.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:a.result,provider:this});else{let f=null;a.error?(f=new Error(a.error.message||"unknown error"),ue(f,"code",a.error.code||null),ue(f,"response",i)):f=new Error("unknown error"),c.callback(f,void 0),this.emit("debug",{action:"response",error:f,request:JSON.parse(c.payload),provider:this})}}else if(a.method==="eth_subscription"){const s=this._subs[a.params.subscription];s&&s.processFunc(a.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){W0.throwError("cannot reset events block on WebSocketProvider",X.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){W0.throwError("cannot set polling interval on WebSocketProvider",X.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return dg(this,void 0,void 0,function*(){return null})}set polling(e){!e||W0.throwError("cannot set polling on WebSocketProvider",X.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=ZV++;return new Promise((o,i)=>{function a(c,f){return c?i(c):o(f)}const s=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(s),provider:this}),this._requests[String(n)]={callback:a,payload:s},this._wsReady&&this.websocket.send(s)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return dg(this,void 0,void 0,function*(){let o=this._subIds[e];o==null&&(o=Promise.all(t).then(a=>this.send("eth_subscribe",a)),this._subIds[e]=o);const i=yield o;this._subs[i]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=Se.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const o=n.hash;this.getTransactionReceipt(o).then(i=>{!i||this.emit(o,i)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(o=>o.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(o=>o.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];!n||(delete this._subIds[t],n.then(o=>{!this._subs[o]||(delete this._subs[o],this.send("eth_unsubscribe",[o]))}))}destroy(){return dg(this,void 0,void 0,function*(){this.websocket.readyState===lu.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var XV=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Wl=new X(ln);class p9 extends rf{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return XV(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||Wl.throwError("no network detected",X.errors.UNKNOWN_ERROR,{}),this._network==null&&(ue(this,"_network",t),this.emit("network",t,null))),t})}}class Ta extends p9{constructor(e,t){Wl.checkAbstract(new.target,Ta),e=Dr(new.target,"getNetwork")(e),t=Dr(new.target,"getApiKey")(t);const n=Dr(new.target,"getUrl")(e,t);super(n,e),typeof t=="string"?ue(this,"apiKey",t):t!=null&&Object.keys(t).forEach(o=>{ue(this,o,t[o])})}_startPending(){Wl.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Wl.throwError("API provider does not support signing",X.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Wl.throwError("not implemented; sub-classes must override getUrl",X.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const q3=new X(ln),_d="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class g9 extends ip{constructor(e,t){const n=new Cy(e,t),o=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(o,n.network),ue(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===_d}}class Cy extends Ta{static getWebSocketProvider(e,t){return new g9(e,t)}static getApiKey(e){return e==null?_d:(e&&typeof e!="string"&&q3.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:q3.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(o,i)=>(t===_d&&Yu(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===_d}}const ej=new X(ln),Q0="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function tj(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return ej.throwArgumentError("unsupported network","name",r)}class v9 extends Ta{isCommunityResource(){return this.apiKey===Q0}static getApiKey(e){return e??Q0}static getUrl(e,t){t==null&&(t=Q0);const n={allowGzip:!0,url:"https://"+tj(e.name)+t,throttleCallback:(o,i)=>(t.apiKey===Q0&&Yu(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}}var rj=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const K3=new X(ln);class b9 extends Ta{static getApiKey(e){return e!=null&&K3.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:K3.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return rj(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var J0=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const $a=new X(ln);function $3(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=Yc(ke(n)):t==="accessList"?n="["+Sa(n).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]":n=ke(n),e[t]=n)}return e}function nj(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function W3(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function Q3(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function hg(r,e,t){if(r==="call"&&e.code===X.errors.SERVER_ERROR){const o=e.error;if(o&&(o.message.match(/reverted/i)||o.message.match(/VM execution error/i))){let i=o.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),lt(i))return i;$a.throwError("missing revert data in call exception",X.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===X.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&$a.throwError("insufficient funds for intrinsic transaction cost",X.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&$a.throwError("nonce has already been used",X.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&$a.throwError("replacement fee too low",X.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&$a.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",X.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class m9 extends np{constructor(e,t){super(e),ue(this,"baseUrl",this.getBaseUrl()),ue(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return $a.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce((i,a)=>{const s=t[a];return s!=null&&(i+=`&${a}=${s}`),i},""),o=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${o}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return J0(this,void 0,void 0,function*(){const o=n?this.getPostUrl():this.getUrl(e,t),i=n?this.getPostData(e,t):null,a=e==="proxy"?W3:nj;this.emit("debug",{action:"request",request:o,provider:this});const s={url:o,throttleSlotInterval:1e3,throttleCallback:(u,h)=>(this.isCommunityResource()&&Yu(),Promise.resolve(!0))};let c=null;i&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(i).map(u=>`${u}=${i[u]}`).join("&"));const f=yield bf(s,c,a||W3);return this.emit("debug",{action:"response",request:o,response:sn(f),provider:this}),f})}detectNetwork(){return J0(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return J0(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(o=>hg("sendTransaction",o,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const o=$3(t.transaction);o.module="proxy",o.action="eth_call";try{return yield this.fetch("proxy",o,!0)}catch(i){return hg("call",i,t.transaction)}}case"estimateGas":{const o=$3(t.transaction);o.module="proxy",o.action="eth_estimateGas";try{return yield this.fetch("proxy",o,!0)}catch(i){return hg("estimateGas",i,t.transaction)}}case"getLogs":{const o={action:"getLogs"};if(t.filter.fromBlock&&(o.fromBlock=Q3(t.filter.fromBlock)),t.filter.toBlock&&(o.toBlock=Q3(t.filter.toBlock)),t.filter.address&&(o.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&$a.throwError("unsupported topic count",X.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const s=t.filter.topics[0];(typeof s!="string"||s.length!==66)&&$a.throwError("unsupported topic format",X.errors.UNSUPPORTED_OPERATION,{topic0:s}),o.topic0=s}const i=yield this.fetch("logs",o);let a={};for(let s=0;s<i.length;s++){const c=i[s];if(c.blockHash==null){if(a[c.blockNumber]==null){const f=yield this.getBlock(c.blockNumber);f&&(a[c.blockNumber]=f.hash)}c.blockHash=a[c.blockNumber]}}return i}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return J0(this,void 0,void 0,function*(){const o={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",o)).map(a=>{["contractAddress","to"].forEach(function(c){a[c]==""&&delete a[c]}),a.creates==null&&a.contractAddress!=null&&(a.creates=a.contractAddress);const s=this.formatter.transactionResponse(a);return a.timeStamp&&(s.timestamp=parseInt(a.timeStamp)),s})})}isCommunityResource(){return this.apiKey==null}}var sh=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Rs=new X(ln);function Y0(){return new Date().getTime()}function J3(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Rs.throwArgumentError("provider mismatch","networks",r):e=n}return e}function Y3(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],o=r[t];return e!=null&&Math.abs(n-o)>e?null:(n+o)/2}function Yf(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(Se.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>Yf(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=Yf(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let ij=1;function Z3(r){let e=null,t=null,n=new Promise(a=>{e=function(){t&&(clearTimeout(t),t=null),a()},t=setTimeout(e,r)});const o=a=>(n=n.then(a),n);function i(){return n}return{cancel:e,getPromise:i,wait:o}}const oj=[X.errors.CALL_EXCEPTION,X.errors.INSUFFICIENT_FUNDS,X.errors.NONCE_EXPIRED,X.errors.REPLACEMENT_UNDERPRICED,X.errors.UNPREDICTABLE_GAS_LIMIT],aj=["address","args","errorArgs","errorSignature","method","transaction"];function Z0(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function sj(r,e){return function(t){const n={};t.forEach(i=>{const a=r(i.result);n[a]||(n[a]={count:0,result:i.result}),n[a].count++});const o=Object.keys(n);for(let i=0;i<o.length;i++){const a=n[o[i]];if(a.count>=e)return a.result}}}function fj(r,e,t){let n=Yf;switch(e){case"getBlockNumber":return function(o){const i=o.map(s=>s.result);let a=Y3(o.map(s=>s.result),2);if(a!=null)return a=Math.ceil(a),i.indexOf(a+1)>=0&&a++,a>=r._highestBlockNumber&&(r._highestBlockNumber=a),r._highestBlockNumber};case"getGasPrice":return function(o){const i=o.map(a=>a.result);return i.sort(),i[Math.floor(i.length/2)]};case"getEtherPrice":return function(o){return Y3(o.map(i=>i.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(o){return o==null?null:(o=Zt(o),o.confirmations=-1,Yf(o))};break;case"getBlock":t.includeTransactions?n=function(o){return o==null?null:(o=Zt(o),o.transactions=o.transactions.map(i=>(i=Zt(i),i.confirmations=-1,i)),Yf(o))}:n=function(o){return o==null?null:Yf(o)};break;default:throw new Error("unknown method: "+e)}return sj(n,r.quorum)}function Rl(r,e){return sh(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:Qa(()=>new Promise((n,o)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function cj(r,e,t,n){return sh(this,void 0,void 0,function*(){let o=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return o[t]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&lt(n.blockTag)&&(o=yield Rl(r,e)),o[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&lt(n.blockTag)&&(o=yield Rl(r,e)),o.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&lt(n.blockTag)&&(o=yield Rl(r,e)),o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&lt(n.blockTag)&&(o=yield Rl(r,e)),t==="call"&&n.blockTag?o[t](n.transaction,n.blockTag):o[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return o[t](n.transactionHash);case"getLogs":{let i=n.filter;return(i.fromBlock&&lt(i.fromBlock)||i.toBlock&&lt(i.toBlock))&&(o=yield Rl(r,e)),o.getLogs(i)}}return Rs.throwError("unknown method error",X.errors.UNKNOWN_ERROR,{method:t,params:n})})}class y9 extends np{constructor(e,t){e.length===0&&Rs.throwArgumentError("missing providers","providers",e);const n=e.map((a,s)=>{if(df.isProvider(a)){const u=Cb(a)?2e3:750;return Object.freeze({provider:a,weight:1,stallTimeout:u,priority:1})}const c=Zt(a);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=Cb(a)?2e3:750),c.weight==null&&(c.weight=1);const f=c.weight;return(f%1||f>512||f<1)&&Rs.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${s}].weight`,f),Object.freeze(c)}),o=n.reduce((a,s)=>a+s.weight,0);t==null?t=o/2:t>o&&Rs.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let i=J3(n.map(a=>a.provider.network));i==null&&(i=new Promise((a,s)=>{setTimeout(()=>{this.detectNetwork().then(a,s)},0)})),super(i),ue(this,"providerConfigs",Object.freeze(n)),ue(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return sh(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return J3(e)})}perform(e,t){return sh(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(f=>f.provider.sendTransaction(t.signedTransaction).then(u=>u.hash,u=>u)));for(let f=0;f<c.length;f++){const u=c[f];if(typeof u=="string")return u}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=fj(this,e,t),o=wy(this.providerConfigs.map(Zt));o.sort((c,f)=>c.priority-f.priority);const i=this._highestBlockNumber;let a=0,s=!0;for(;;){const c=Y0();let f=o.filter(T=>T.runner&&c-T.start<T.stallTimeout).reduce((T,I)=>T+I.weight,0);for(;f<this.quorum&&a<o.length;){const T=o[a++],I=ij++;T.start=Y0(),T.staller=Z3(T.stallTimeout),T.staller.wait(()=>{T.staller=null}),T.runner=cj(T,i,e,t).then(R=>{T.done=!0,T.result=R,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:I,backend:Z0(T,Y0()),request:{method:e,params:sn(t)},provider:this})},R=>{T.done=!0,T.error=R,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:I,backend:Z0(T,Y0()),request:{method:e,params:sn(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:I,backend:Z0(T,null),request:{method:e,params:sn(t)},provider:this}),f+=T.weight}const u=[];o.forEach(T=>{T.done||!T.runner||(u.push(T.runner),T.staller&&u.push(T.staller.getPromise()))}),u.length&&(yield Promise.race(u));const h=o.filter(T=>T.done&&T.error==null);if(h.length>=this.quorum){const T=n(h);if(T!==void 0)return o.forEach(I=>{I.staller&&I.staller.cancel(),I.cancelled=!0}),T;s||(yield Z3(100).getPromise()),s=!1}const w=o.reduce((T,I)=>{if(!I.done||I.error==null)return T;const R=I.error.code;return oj.indexOf(R)>=0&&(T[R]||(T[R]={error:I.error,weight:0}),T[R].weight+=I.weight),T},{});if(Object.keys(w).forEach(T=>{const I=w[T];if(I.weight<this.quorum)return;o.forEach(B=>{B.staller&&B.staller.cancel(),B.cancelled=!0});const R=I.error,P={};aj.forEach(B=>{R[B]!=null&&(P[B]=R[B])}),Rs.throwError(R.reason||R.message,T,P)}),o.filter(T=>!T.done).length===0)break}return o.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),Rs.throwError("failed to meet quorum",X.errors.SERVER_ERROR,{method:e,params:t,results:o.map(c=>Z0(c)),provider:this})})}}const x9=null,Sd=new X(ln),Ql="84842078b09946638c03157f83405213";class w9 extends ip{constructor(e,t){const n=new My(e,t),o=n.connection;o.password&&Sd.throwError("INFURA WebSocket project secrets unsupported",X.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const i=o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,e),ue(this,"apiKey",n.projectId),ue(this,"projectId",n.projectId),ue(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Ql}}class My extends Ta{static getWebSocketProvider(e,t){return new w9(e,t)}static getApiKey(e){const t={apiKey:Ql,projectId:Ql,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(Sd.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),Sd.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:Sd.throwError("unsupported network",X.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const o={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(i,a)=>(t.projectId===Ql&&Yu(),Promise.resolve(!0))};return t.projectSecret!=null&&(o.user="",o.password=t.projectSecret),o}isCommunityResource(){return this.projectId===Ql}}class lj extends rf{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const o={request:n,resolve:null,reject:null},i=new Promise((a,s)=>{o.resolve=a,o.reject=s});return this._pendingBatch.push(o),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const a=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const s=a.map(c=>c.request);return this.emit("debug",{action:"requestBatch",request:sn(s),provider:this}),bf(this.connection,JSON.stringify(s)).then(c=>{this.emit("debug",{action:"response",request:s,response:c,provider:this}),a.forEach((f,u)=>{const h=c[u];if(h.error){const w=new Error(h.error.message);w.code=h.error.code,w.data=h.error.data,f.reject(w)}else f.resolve(h.result)})},c=>{this.emit("debug",{action:"response",error:c,request:s,provider:this}),a.forEach(f=>{f.reject(c)})})},10)),i}}const pg=new X(ln),uj="ETHERS_JS_SHARED";class A9 extends Ta{static getApiKey(e){return e&&typeof e!="string"&&pg.throwArgumentError("invalid apiKey","apiKey",e),e||uj}static getUrl(e,t){pg.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:pg.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const X3=new X(ln),ew="62e1ad51b37b8e00394bda3b";class E9 extends Ta{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=ew:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:X3.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:X3.throwError("unsupported network",X.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const o=`https://${n}/v1/lb/${t.applicationId}`,i={headers:{},url:o};return t.applicationSecretKey!=null&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===ew}}const tw=new X(ln);let dj=1;function rw(r,e){const t="Web3LegacyFetcher";return function(n,o){const i={method:n,params:o,id:dj++,jsonrpc:"2.0"};return new Promise((a,s)=>{this.emit("debug",{action:"request",fetcher:t,request:sn(i),provider:this}),e(i,(c,f)=>{if(c)return this.emit("debug",{action:"response",fetcher:t,error:c,request:i,provider:this}),s(c);if(this.emit("debug",{action:"response",fetcher:t,request:i,response:f,provider:this}),f.error){const u=new Error(f.error.message);return u.code=f.error.code,u.data=f.error.data,s(u)}a(f.result)})})}}function hj(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:sn(n),provider:this}),r.request(n).then(o=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:o,provider:this}),o})}}class _9 extends rf{constructor(e,t){e==null&&tw.throwArgumentError("missing provider","provider",e);let n=null,o=null,i=null;typeof e=="function"?(n="unknown:",o=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),i=e,e.request?(n===""&&(n="eip-1193:"),o=hj(e)):e.sendAsync?o=rw(e,e.sendAsync.bind(e)):e.send?o=rw(e,e.send.bind(e)):tw.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),ue(this,"jsonRpcFetchFunc",o),ue(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const nw=new X(ln);function Iy(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new rf(r);case"ws":case"wss":return new ip(r);default:nw.throwArgumentError("unsupported URL scheme","network",r)}}const t=Sy(r);return(!t||!t._defaultProvider)&&nw.throwError("unsupported getDefaultProvider network",X.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:y9,AlchemyProvider:Cy,AnkrProvider:v9,CloudflareProvider:b9,EtherscanProvider:m9,InfuraProvider:My,JsonRpcProvider:rf,NodesmithProvider:A9,PocketProvider:E9,Web3Provider:_9,IpcProvider:x9},e)}const S9=Object.freeze(Object.defineProperty({__proto__:null,Provider:df,BaseProvider:np,Resolver:Mb,UrlJsonRpcProvider:Ta,FallbackProvider:y9,AlchemyProvider:Cy,AlchemyWebSocketProvider:g9,AnkrProvider:v9,CloudflareProvider:b9,EtherscanProvider:m9,InfuraProvider:My,InfuraWebSocketProvider:w9,JsonRpcProvider:rf,JsonRpcBatchProvider:lj,NodesmithProvider:A9,PocketProvider:E9,StaticJsonRpcProvider:p9,Web3Provider:_9,WebSocketProvider:ip,IpcProvider:x9,JsonRpcSigner:ky,getDefaultProvider:Iy,getNetwork:Sy,isCommunityResource:Cb,isCommunityResourcable:l9,showThrottleMessage:Yu,Formatter:ze},Symbol.toStringTag,{value:"Module"})),pj="solidity/5.7.0",gj=new RegExp("^bytes([0-9]+)$"),vj=new RegExp("^(u?int)([0-9]*)$"),bj=new RegExp("^(.*)\\[([0-9]*)\\]$"),mj="0000000000000000000000000000000000000000000000000000000000000000",Kf=new X(pj);function T9(r,e,t){switch(r){case"address":return t?fc(e,32):_e(e);case"string":return br(e);case"bytes":return _e(e);case"bool":return e=e?"0x01":"0x00",t?fc(e,32):_e(e)}let n=r.match(vj);if(n){let o=parseInt(n[2]||"256");return(n[2]&&String(o)!==n[2]||o%8!==0||o===0||o>256)&&Kf.throwArgumentError("invalid number type","type",r),t&&(o=256),e=Se.from(e).toTwos(o),fc(e,o/8)}if(n=r.match(gj),n){const o=parseInt(n[1]);return(String(o)!==n[1]||o===0||o>32)&&Kf.throwArgumentError("invalid bytes type","type",r),_e(e).byteLength!==o&&Kf.throwArgumentError(`invalid value for ${r}`,"value",e),t?_e((e+mj).substring(0,66)):e}if(n=r.match(bj),n&&Array.isArray(e)){const o=n[1];parseInt(n[2]||String(e.length))!=e.length&&Kf.throwArgumentError(`invalid array length for ${r}`,"value",e);const a=[];return e.forEach(function(s){a.push(T9(o,s,!0))}),Qt(a)}return Kf.throwArgumentError("invalid type","type",r)}function op(r,e){r.length!=e.length&&Kf.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,o){t.push(T9(n,e[o]))}),ke(Qt(t))}function k9(r,e){return zt(op(r,e))}function C9(r,e){return No(op(r,e))}const yj=Object.freeze(Object.defineProperty({__proto__:null,pack:op,keccak256:k9,sha256:C9},Symbol.toStringTag,{value:"Module"})),xj="units/5.7.0",M9=new X(xj),I9=["wei","kwei","mwei","gwei","szabo","finney","ether"];function P9(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&M9.throwArgumentError("invalid value","value",r);let t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let o="";for(e.length===2&&(o="."+(e[1]||"0"));o.length>2&&o[o.length-1]==="0";)o=o.substring(0,o.length-1);const i=[];for(;t.length;)if(t.length<=3){i.unshift(t);break}else{const a=t.length-3;i.unshift(t.substring(a)),t=t.substring(0,a)}return n+i.join(",")+o}function ap(r,e){if(typeof e=="string"){const t=I9.indexOf(e);t!==-1&&(e=3*t)}return md(r,e??18)}function Py(r,e){if(typeof r!="string"&&M9.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=I9.indexOf(e);t!==-1&&(e=3*t)}return ho(r,e??18)}function B9(r){return ap(r,18)}function R9(r){return Py(r,18)}const wj=Object.freeze(Object.defineProperty({__proto__:null,commify:P9,formatUnits:ap,parseUnits:Py,formatEther:B9,parseEther:R9},Symbol.toStringTag,{value:"Module"})),O9=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:ry,defaultAbiCoder:ny,Fragment:ji,ConstructorFragment:pi,ErrorFragment:wo,EventFragment:Hi,FunctionFragment:gi,ParamType:Sr,FormatTypes:Bt,checkResultErrors:Wm,Logger:X,RLP:N5,_fetchData:Ty,fetchJson:bf,poll:Qa,checkProperties:qh,deepCopy:sn,defineReadOnly:ue,getStatic:Dr,resolveProperties:cr,shallowCopy:Zt,arrayify:_e,concat:Qt,stripZeros:$i,zeroPad:fc,isBytes:wa,isBytesLike:Jc,defaultPath:tf,HDNode:Cn,SigningKey:ts,Interface:Yd,LogDescription:sy,TransactionDescription:fy,base58:Xs,base64:r7,hexlify:ke,isHexString:lt,hexConcat:rn,hexStripZeros:qm,hexValue:Yc,hexZeroPad:Jt,hexDataLength:Yi,hexDataSlice:pr,nameprep:e7,_toEscapedUtf8String:J5,toUtf8Bytes:br,toUtf8CodePoints:Tu,toUtf8String:Ea,Utf8ErrorFuncs:Zm,formatBytes32String:Y5,parseBytes32String:Z5,dnsEncode:ay,hashMessage:$u,namehash:lc,isValidName:f7,id:na,_TypedDataEncoder:Nr,getAddress:Ht,getIcapAddress:U5,getContractAddress:Ku,getCreate2Address:F5,isAddress:D5,formatEther:B9,parseEther:R9,formatUnits:ap,parseUnits:Py,commify:P9,computeHmac:Pc,keccak256:zt,ripemd160:by,sha256:No,sha512:G7,randomBytes:Ns,shuffled:wy,solidityPack:op,solidityKeccak256:k9,soliditySha256:C9,splitSignature:us,joinSignature:$d,accessListify:Sa,parseTransaction:py,serializeTransaction:th,get TransactionTypes(){return eh},getJsonWalletAddress:J7,computeAddress:ca,recoverAddress:gf,computePublicKey:Zh,recoverPublicKey:dy,verifyMessage:a9,verifyTypedData:s9,getAccountPath:$7,mnemonicToEntropy:Qu,entropyToMnemonic:Ju,isValidMnemonic:K7,mnemonicToSeed:xy,get SupportedAlgorithm(){return ef},get UnicodeNormalizationForm(){return Zi},get Utf8ErrorReason(){return vn},Indexed:ku},Symbol.toStringTag,{value:"Module"})),By="ethers/5.7.2",N9=new X(By),L9=Object.freeze(Object.defineProperty({__proto__:null,Signer:_a,Wallet:ra,VoidSigner:Wu,getDefaultProvider:Iy,providers:S9,BaseContract:gy,Contract:nh,ContractFactory:j7,BigNumber:Se,FixedNumber:Mr,constants:$5,get errors(){return kn},logger:N9,utils:O9,wordlists:ih,version:By,Wordlist:vf},Symbol.toStringTag,{value:"Module"}));try{const r=window;r._ethers==null&&(r._ethers=L9)}catch{}const Aj=Object.freeze(Object.defineProperty({__proto__:null,ethers:L9,Signer:_a,Wallet:ra,VoidSigner:Wu,getDefaultProvider:Iy,providers:S9,BaseContract:gy,Contract:nh,ContractFactory:j7,BigNumber:Se,FixedNumber:Mr,constants:$5,get errors(){return kn},logger:N9,utils:O9,wordlists:ih,version:By,Wordlist:vf},Symbol.toStringTag,{value:"Module"}));var Ej=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_j=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sj=function(r){Ej(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.loadedCount=0,t.numberToLoad=25,t.autoLoadMore=!0,t}return e.prototype.init=function(){var t=this;this.viewContainer.addEventListener("click",function(n){n.target.classList.contains("mobileToggle-tn")?t.tokenToggleSelection():n.target.classList.contains("load-more-btn-tn")&&t.loadMoreTokens()})},e.prototype.render=function(){var t=this;if(this.loadedCount=0,this.viewContainer.innerHTML=this.getTokenListItems(),this.renderIcons(),this.autoLoadMore){var n=this.viewContainer.querySelector(".load-more-tn");n&&(this.interceptObs||(this.interceptObs=new IntersectionObserver(function(o){o[0].isIntersecting&&t.loadMoreTokens()},{root:this.viewContainer.querySelector(".view-content-tn")})),this.interceptObs.observe(n))}},e.prototype.getTokenListItems=function(){for(var t="",n=Math.min(this.loadedCount+this.numberToLoad,this.params.data.tokens.length),o=this.loadedCount;o<n;o++)t+=this.createTokenMarkup(this.params.data.tokens[o]);return this.loadedCount=n,this.loadedCount<this.params.data.tokens.length&&(t+=this.createLoadMoreMarkup()),t},e.prototype.loadMoreTokens=function(){var t=this.viewContainer.getElementsByClassName("load-more-tn")[0];this.interceptObs&&this.interceptObs.unobserve(t),t.insertAdjacentHTML("afterend",this.getTokenListItems()),t.remove(),this.renderIcons(),this.interceptObs&&(t=this.viewContainer.querySelector(".load-more-tn"),t&&this.interceptObs.observe(t))},e.prototype.renderIcons=function(){var t,n;try{for(var o=_j(this.viewContainer.getElementsByClassName("img-container-tn")),i=o.next();!i.done;i=o.next()){var a=i.value;if(!a.querySelector("img")){var s={src:a.getAttribute("data-image-src"),title:a.getAttribute("data-token-title")};new A5(a,s).render()}}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.tokenToggleSelection=function(){var t=this.client.getTokenStore().getSelectedTokens();this.viewContainer.querySelectorAll(".mobileToggle-tn").forEach(function(n,o){if(o===0&&(t[n.dataset.key]={},t[n.dataset.key].tokens=[]),n.checked===!0){var i=JSON.parse(n.dataset.token);t[n.dataset.key].tokens.push(i)}}),qe(2,"Tokens selected:"),qe(2,t),this.client.updateSelectedTokens(t)},e.prototype.createLoadMoreMarkup=function(){return`
            <li class='load-more-tn'>
                <button class="load-more-btn-tn btn-tn">Load More</button>
            </li>
        `},e.prototype.createTokenMarkup=function(t){var n=t.tokenIssuerKey,o=t.title,i=t.data,a=t.index,s=t.image,c=t.toggleState,f=t.hideToggle,u=t.balance,h=t.fungible,w=t.decimals,T=t.symbol,I,R;if(!h)I=a,R="#"+(a.length>15?a.substring(0,5)+"..."+a.substring(a.length-5,a.length):a);else{var P=ap(u,w);I=P+" "+T,R=(P.length>15?P.substring(0,12)+"... ":P)+" "+T}var B=c?"checked":"";return`
            <li class='token-tn'>
              <div class="img-container-tn image-tn shimmer-tn" data-image-src="`.concat(s??"",'" data-token-title="').concat(o,`"></div>
              <div class='data-tn'>
                  <p class='token-title-tn'>`).concat(o,`</p>
                  <p class='detail-tn' title="`).concat(I,`">
                  	`).concat(R,`
				  </p>
                </div>`)+(f?"":`<div class='toggle-tn'>
                <input `.concat(B," data-key='").concat(n,"' data-token='").concat(JSON.stringify(i),`'
				data-index='`).concat(a,"' type='checkbox' name='toggle").concat(a,"' class='mobileToggle-tn toggle-tn' id='toggle").concat(a,`'>
                <label for='toggle`).concat(a,`'></label>
              </div>`))+`</li>
        `},e}(zh),Tj=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pb=globalThis&&globalThis.__assign||function(){return Pb=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Pb.apply(this,arguments)},gg=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},vg=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},kj=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cj=function(r){Tj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.client.registerUiUpdateCallback(0,function(){t.issuersLoading()}),this.client.registerUiUpdateCallback(1,function(){t.ui.dismissLoader(),t.client.cancelTokenAutoload(),t.render()}),this.client.registerUiUpdateCallback(2,function(){t.client.getTokenStore().hasOnChainTokens()?t.ui.updateUI("wallet",{viewName:"wallet"},{viewTransition:"slide-in-left"}):t.ui.updateUI("start",{viewName:"start"},{viewTransition:"slide-in-left"})})},e.prototype.render=function(){this.renderContent(),this.afterRender()},e.prototype.renderContent=function(){var t=this;this.viewContainer.innerHTML=`
            <div class="inner-content-tn issuer-slider-tn">
              <div class="issuer-view-tn scroll-tn">
                <div class="brand-tn"></div>
                <div class="headline-container-tn">
                  <div>
                  	<p class="headline-tn">`.concat(this.params.options.issuerHeading,`</p>
						<div class="toolbar-tn">
				  			<button class="btn-tn refresh-tn" aria-label="Refresh Tokens">
                  				<svg class="refresh-icon-tn" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 383.748 383.748" style="enable-background:new 0 0 383.748 383.748;" xml:space="preserve"><g><path d="M62.772,95.042C90.904,54.899,137.496,30,187.343,30c83.743,0,151.874,68.13,151.874,151.874h30 C369.217,81.588,287.629,0,187.343,0c-35.038,0-69.061,9.989-98.391,28.888C70.368,40.862,54.245,56.032,41.221,73.593 L2.081,34.641v113.365h113.91L62.772,95.042z"/><path d="M381.667,235.742h-113.91l53.219,52.965c-28.132,40.142-74.724,65.042-124.571,65.042 c-83.744,0-151.874-68.13-151.874-151.874h-30c0,100.286,81.588,181.874,181.874,181.874c35.038,0,69.062-9.989,98.391-28.888 c18.584-11.975,34.707-27.145,47.731-44.706l39.139,38.952V235.742z"/></g></svg>
				  			</button>
							<button class="btn-tn dis-wallet-tn" style="display: none;" aria-label="Disconnect Wallet">
								<?xml version="1.0" encoding="UTF-8" standalone="no"?>
								<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
								<svg width="12px" height="100%" viewBox="0 0 384 384" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
									<g id="Layer1">
										<path d="M194.449,-0.378L194.449,29.622L29.577,29.622C29.577,95.909 30.577,354.191 30.577,354.191L194.449,354.191L194.449,384.191L16.077,384.191C7.517,384.191 0.577,377.251 0.577,368.691L0.577,15.122C0.577,6.562 7.517,-0.378 16.077,-0.378L194.449,-0.378Z"/>
											<g transform="matrix(1.39537,0,0,2.43013,-54.9803,-262.053)">
												<path d="M99.772,200.171L99.772,165.725L228.493,165.725L228.493,133.741L314.191,182.948L228.493,232.156L228.493,200.171L99.772,200.171Z"/>
											</g>
											</g>
									</svg>											
								</button>
						</div>  	
				  </div>
				  `).concat(this.getCustomContent(),`
                </div>
				<nav class="token-issuer-nav-tn">
					<ul class="token-issuer-list-container-tn" role="menubar"></ul>
				</nav>
              </div>
              <div class="token-view-tn scroll-tn" style="display: none;">
                <div class="brand-tn"></div>
                <div style="display: flex; align-items: center;">
                  <button aria-label="back to token issuer menu" class="back-to-menu-tn">
                    <svg style="position: relative; top: 1px;" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <g fill="none" fill-rule="evenodd">
                            <path d="m10.2 15.8 7.173 7.56c.55.587 1.453.587 2.01 0a1.554 1.554 0 0 0 0-2.12l-5.158-5.44 5.157-5.44a1.554 1.554 0 0 0 0-2.12 1.367 1.367 0 0 0-2.009 0L10.2 15.8z" fill="#000" fill-rule="nonzero"/>
                        </g>
                    </svg>
                  </button>
                  <p class="headline-tn token-name">Token Name Here</p>
                </div>
                <ul class="token-list-container-tn" role="menubar"></ul>
              </div>
            </div>
        `),this.viewContainer.querySelector(".back-to-menu-tn").addEventListener("click",this.backToIssuers.bind(this)),this.setupWalletButton();var n=this.viewContainer.querySelector(".refresh-tn");if(n.addEventListener("click",function(){t.client.eventSender("tokens-refreshed",null),t.autoLoadTokens(!0)}),this.issuerListContainer=this.viewContainer.querySelector(".token-issuer-list-container-tn"),this.tokensContainer=this.viewContainer.getElementsByClassName("token-view-tn")[0],!this.issuerListContainer){qe(2,"Element .token-issuer-list-container-tn not found");return}this.populateIssuers();var o=this.tokensContainer.getElementsByClassName("token-list-container-tn")[0];this.tokenListView=new Sj(this.client,this.ui,o,Pb({},this.params))},e.prototype.afterRender=function(){this.client.issuersLoaded?this.client.getTokenStore().hasUnloadedTokens()&&this.autoLoadTokens():this.issuersLoading()},e.prototype.getCustomContent=function(){return""},e.prototype.setupWalletButton=function(){return gg(this,void 0,void 0,function(){var t,n=this;return vg(this,function(o){return t=this.viewContainer.querySelector(".dis-wallet-tn"),t.style.display="block",t.addEventListener("click",function(){n.client.disconnectWallet()}),[2]})})},e.prototype.issuersLoading=function(){this.ui.showLoader("<h4>Loading contract data...</h4>")},e.prototype.populateIssuers=function(){var t,n,o=this,i,a="",s=this.client.getTokenStore().getCurrentIssuers();for(var c in s){var f=s[c],u=(i=this.client.getTokenStore().getIssuerTokens(c))!==null&&i!==void 0?i:[],h=f.title?f.title:f.collectionID.replace(/[-,_]+/g," ");a+=this.issuerConnectMarkup(h,f.image,c,u,f)}this.issuerListContainer.innerHTML=a;try{for(var w=kj(this.issuerListContainer.getElementsByClassName("img-container-tn")),T=w.next();!T.done;T=w.next()){var I=T.value,R={src:I.getAttribute("data-image-src"),title:I.getAttribute("data-token-title")};new A5(I,R).render()}}catch(P){t={error:P}}finally{try{T&&!T.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}this.issuerListContainer.addEventListener("click",function(P){if(P.target.classList.contains("connect-btn-tn"))o.connectTokenIssuer(P);else if(P.target.classList.contains("tokens-btn-tn")){var B=P.target.parentNode.dataset.issuer;o.navigateToTokensView(B)}})},e.prototype.issuerConnectMarkup=function(t,n,o,i,a){var s="";return i?.length&&(s=a?.fungible?"Balance found":"".concat(i.length," token").concat(i.length>1?"s":""," available")),`
            <li class="issuer-connect-banner-tn" data-issuer="`.concat(o,`" role="menuitem">
              <div tabindex="0" style="display: flex; align-items: center;">
                <div class="img-container-tn issuer-icon-tn shimmer-tn" data-image-src="`).concat(n??"",'" data-token-title="').concat(t,`"></div>
                <p class="issuer-connect-title">`).concat(t,`</p>
              </div>
              <button aria-label="connect with the token issuer `).concat(o,`" aria-haspopup="true" aria-expanded="false" aria-controls="token-list-container-tn" 
					class="connect-btn-tn"
					style="`).concat(i?.length?"display: none;":"",`"
					data-issuer="`).concat(o,`"
					`).concat(this.client.issuersLoaded===!0?"":"disabled",`
				>
				`).concat(this.client.issuersLoaded===!0?"Load":'<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>',`
			  </button>
              <button aria-label="tokens available from token issuer `).concat(o,`" 
										  aria-haspopup="true"
											aria-expanded="false" aria-controls="token-list-container-tn" 
              				class="tokens-btn-tn" style="`).concat(i?.length?"display: block;":"",`" 
											data-issuer="`).concat(o,`">
					`).concat(s,`
			  </button>
            </li>
        `)},e.prototype.backToIssuers=function(){this.tokensContainer.style.display="none",this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")},e.prototype.autoLoadTokens=function(t){return t===void 0&&(t=!1),gg(this,void 0,void 0,function(){var n=this;return vg(this,function(o){switch(o.label){case 0:return[4,this.client.tokenAutoLoad(this.issuerLoading.bind(this),function(i,a){if(!a?.length){var s=n.issuerListContainer.querySelector('[data-issuer*="'.concat(i,'"] .connect-btn-tn'));s&&(s.innerText="Load");return}n.issuerConnected(i,a,!1)},t)];case 1:return o.sent(),[2]}})})},e.prototype.connectTokenIssuer=function(t){return gg(this,void 0,void 0,function(){var n,o,i,a;return vg(this,function(s){switch(s.label){case 0:n=t.target.dataset,o=n.issuer,i=[],this.ui.showLoader("<h4>Loading tokens...</h4>"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.client.connectTokenIssuer(o)];case 2:return i=s.sent(),i?[3,4]:[2];case 3:return a=s.sent(),qe(2,a),this.ui.showError(a),this.client.eventSender("error",{issuer:o,error:a}),[2];case 4:return this.ui.dismissLoader(),i?.length?(this.issuerConnected(o,i),[2]):(this.ui.showError("No tokens found! ".concat(this.client.getNoTokenMsg(o))),[2])}})})},e.prototype.issuerLoading=function(t){var n=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .tokens-btn-tn'));n&&(n.style.display="none");var o=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .connect-btn-tn'));o&&(o.innerHTML='<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>',o.style.display="block")},e.prototype.issuerConnected=function(t,n,o){var i=this;o===void 0&&(o=!0);var a=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .connect-btn-tn')),s=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .tokens-btn-tn'));(!a||!s)&&qe(2,"Could not find button handler"),a.style.display="none",a.setAttribute("tabIndex",-1),s.style.display="block";var c=this.client.getTokenStore().getCurrentIssuers();s.innerHTML=n.length&&c[t].fungible?"Balance found":"".concat(n.length," token").concat(n.length>1?"s":""," available"),s.setAttribute("aria-label","Navigate to select from ".concat(n.length," of your ").concat(t," tokens")),s.setAttribute("tabIndex",1),o&&setTimeout(function(){i.navigateToTokensView(t)},250)},e.prototype.navigateToTokensView=function(t){this.updateTokensView(t),this.showTokenView(t)},e.prototype.updateTokensView=function(t){var n,o;this.tokensContainer.style.display="block",this.tokensContainer.scrollTo(0,0);var i=this.client.getTokenStore(),a=i.getCurrentIssuers()[t],s=(n=i.getIssuerTokens(t))!==null&&n!==void 0?n:[];a.title&&(this.viewContainer.getElementsByClassName("headline-tn token-name")[0].innerHTML=a.title);var c=[];s?.map(function(f,u){var h,w,T,I,R,P=!1;if((h=i.getSelectedTokens()[t])===null||h===void 0||h.tokens.map(function($){JSON.stringify(f)===JSON.stringify($)&&(P=!0)}),a.onChain===!1){var B=a.title,O=a.image;c.push({data:f,tokenIssuerKey:t,index:(T=(w=f.tiketIdNumber)!==null&&w!==void 0?w:f.ticketIdNumber)!==null&&T!==void 0?T:u,title:B,image:O,toggleState:P,hideToggle:a?.hideToggle})}else{var H=(I=f.tokenId)!==null&&I!==void 0?I:u.toString();c.push({data:f,tokenIssuerKey:t,index:H,title:f.title,image:(R=f.image)!==null&&R!==void 0?R:a.image,fungible:a.fungible,decimals:a.decimals,symbol:a.symbol,balance:f.balance,toggleState:P,hideToggle:a?.hideToggle})}}),(o=this.tokenListView)===null||o===void 0||o.update({data:{issuer:t,tokens:c}})},e.prototype.showTokenView=function(t){this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")},e}(zh),Mj=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ij=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},Pj=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Bj='<svg width="62px" height="62px" viewBox="-30 -20 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Phantom logo</title><path d="M57.137,22.8c23.339,0.075 42.264,18.847 42.563,42.1l10.1,0c3.8,0 6.8,3 6.8,6.8c0,19.661 -32.669,36.532 -54.77,36.6l-0.13,0c-23.6,0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2l0.137,0Z" style="fill:url(#_Linear1);fill-rule:nonzero;"/><path d="M64,0c35.323,0 64,28.677 64,64c0,35.323 -28.677,64 -64,64c-35.323,0 -64,-28.677 -64,-64c0,-35.323 28.677,-64 64,-64Zm-7,22.8l1.366,0.021l1.23,0.057l0.528,0.035c14.242,1.029 26.545,9.033 33.507,20.608l0.521,0.891l0.499,0.902l0.478,0.915l0.455,0.928l0.434,0.939l0.411,0.952l0.388,0.963l0.365,0.974l0.342,0.985l0.394,1.246l0.332,1.166l0.282,1.114l0.265,1.179l0.224,1.148l0.198,1.19l0.147,1.053l0.12,1.062l0.095,1.068l0.067,1.077l0.042,1.083l0.01,0.544c0,0 10.1,0 10.1,0c3.8,0 6.8,3 6.8,6.8l-0.018,0.788l-0.054,0.818l-0.089,0.79l-0.125,0.802l-0.184,0.903l-0.226,0.897l-0.27,0.891l-0.31,0.885l-0.351,0.879l-0.391,0.872l-0.429,0.865l-0.51,0.933l-0.504,0.844l-0.538,0.836l-0.572,0.828l-0.605,0.818l-0.636,0.809l-0.667,0.799l-0.697,0.79l-0.726,0.779l-0.754,0.769l-0.78,0.758l-0.806,0.747l-0.831,0.736c-2.552,2.209 -5.436,4.262 -8.532,6.119l-0.553,0.328l-0.517,0.301l-0.521,0.298l-0.525,0.294l-0.527,0.29l-0.532,0.287c-6.807,3.636 -14.382,6.343 -21.59,7.752l-1.154,0.215l-0.862,0.146c-1.959,0.32 -3.883,0.539 -5.747,0.65l-1.464,0.065l-1.173,0.019l-0.13,-0c-23.6,-0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2Zm-17.3,34.1l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Zm19.7,-0l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Z" style="fill:url(#_Linear2);"/><defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(5.23303e-15,85.4619,-85.4619,5.23303e-15,65.46,22.76)"><stop offset="0" style="stop-color:#fefeff;stop-opacity:1"/><stop offset="1" style="stop-color:#dfd8fc;stop-opacity:1"/></linearGradient><linearGradient id="_Linear2" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(7.83774e-15,128,-128,7.83774e-15,64,0)"><stop offset="0" style="stop-color:#534ab1;stop-opacity:1"/><stop offset="1" style="stop-color:#551bf8;stop-opacity:1"/></linearGradient></defs></svg>',Rj={imgBig:`
		<svg width="62px" version="1.1" id="Layer_1" xmlns:ev="http://www.w3.org/2001/xml-events"xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 318.6 318.6"style="enable-background:new 0 0 318.6 318.6;" xml:space="preserve"><title>Metamask logo</title><style type="text/css">.st0{fill:#E2761B;stroke:#E2761B;stroke-linecap:round;stroke-linejoin:round;}.st1{fill:#E4761B;stroke:#E4761B;stroke-linecap:round;stroke-linejoin:round;}.st2{fill:#D7C1B3;stroke:#D7C1B3;stroke-linecap:round;stroke-linejoin:round;}.st3{fill:#233447;stroke:#233447;stroke-linecap:round;stroke-linejoin:round;}.st4{fill:#CD6116;stroke:#CD6116;stroke-linecap:round;stroke-linejoin:round;}.st5{fill:#E4751F;stroke:#E4751F;stroke-linecap:round;stroke-linejoin:round;}.st6{fill:#F6851B;stroke:#F6851B;stroke-linecap:round;stroke-linejoin:round;}.st7{fill:#C0AD9E;stroke:#C0AD9E;stroke-linecap:round;stroke-linejoin:round;}.st8{fill:#161616;stroke:#161616;stroke-linecap:round;stroke-linejoin:round;}.st9{fill:#763D16;stroke:#763D16;stroke-linecap:round;stroke-linejoin:round;}</style><polygon class="st0" points="274.1,35.5 174.6,109.4 193,65.8 "/><g><polygon class="st1" points="44.4,35.5 143.1,110.1 125.6,65.8 	"/><polygon class="st1" points="238.3,206.8 211.8,247.4 268.5,263 284.8,207.7 	"/><polygon class="st1" points="33.9,207.7 50.1,263 106.8,247.4 80.3,206.8 	"/><polygon class="st1" points="103.6,138.2 87.8,162.1 144.1,164.6 142.1,104.1 	"/><polygon class="st1" points="214.9,138.2 175.9,103.4 174.6,164.6 230.8,162.1 	"/><polygon class="st1" points="106.8,247.4 140.6,230.9 111.4,208.1 	"/><polygon class="st1" points="177.9,230.9 211.8,247.4 207.1,208.1 	"/></g><g><polygon class="st2" points="211.8,247.4 177.9,230.9 180.6,253 180.3,262.3 	"/><polygon class="st2" points="106.8,247.4 138.3,262.3 138.1,253 140.6,230.9 	"/></g><polygon class="st3" points="138.8,193.5 110.6,185.2 130.5,176.1 "/><polygon class="st3" points="179.7,193.5 188,176.1 208,185.2 "/><g><polygon class="st4" points="106.8,247.4 111.6,206.8 80.3,207.7 	"/><polygon class="st4" points="207,206.8 211.8,247.4 238.3,207.7 	"/><polygon class="st4" points="230.8,162.1 174.6,164.6 179.8,193.5 188.1,176.1 208.1,185.2 	"/><polygon class="st4" points="110.6,185.2 130.6,176.1 138.8,193.5 144.1,164.6 87.8,162.1 	"/></g><g><polygon class="st5" points="87.8,162.1 111.4,208.1 110.6,185.2 	"/><polygon class="st5" points="208.1,185.2 207.1,208.1 230.8,162.1 	"/><polygon class="st5" points="144.1,164.6 138.8,193.5 145.4,227.6 146.9,182.7 	"/><polygon class="st5" points="174.6,164.6 171.9,182.6 173.1,227.6 179.8,193.5 	"/></g><polygon class="st6" points="179.8,193.5 173.1,227.6 177.9,230.9 207.1,208.1 208.1,185.2 "/><polygon class="st6" points="110.6,185.2 111.4,208.1 140.6,230.9 145.4,227.6 138.8,193.5 "/><polygon class="st7" points="180.3,262.3 180.6,253 178.1,250.8 140.4,250.8 138.1,253 138.3,262.3 106.8,247.4 117.8,256.4 140.1,271.9 178.4,271.9 200.8,256.4 211.8,247.4 "/><polygon class="st8" points="177.9,230.9 173.1,227.6 145.4,227.6 140.6,230.9 138.1,253 140.4,250.8 178.1,250.8 180.6,253 "/><g><polygon class="st9" points="278.3,114.2 286.8,73.4 274.1,35.5 177.9,106.9 214.9,138.2 267.2,153.5 278.8,140 273.8,136.4 281.8,129.1 275.6,124.3 283.6,118.2 	"/><polygon class="st9" points="31.8,73.4 40.3,114.2 34.9,118.2 42.9,124.3 36.8,129.1 44.8,136.4 39.8,140 51.3,153.5 103.6,138.2 140.6,106.9 44.4,35.5 	"/></g><polygon class="st6" points="267.2,153.5 214.9,138.2 230.8,162.1 207.1,208.1 238.3,207.7 284.8,207.7 "/><polygon class="st6" points="103.6,138.2 51.3,153.5 33.9,207.7 80.3,207.7 111.4,208.1 87.8,162.1 "/><polygon class="st6" points="174.6,164.6 177.9,106.9 193.1,65.8 125.6,65.8 140.6,106.9 144.1,164.6 145.3,182.8 145.4,227.6 173.1,227.6 173.3,182.8 "/></svg>
	`,label:"MetaMask"},Oj='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Wallet connect logo</title><g transform="matrix(1.7268,0,0,1.7268,159.3,155.744)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M55.953,84.792L72.263,100.335C72.263,100.335 84.86,78.281 106.774,78.436C106.774,78.436 126.648,75.152 143.824,101.06L160.354,85.616C160.354,85.616 143.436,59.639 107.409,59.615C107.409,59.615 79.188,56.141 55.953,84.792Z" style="fill:rgb(59,153,252);"/><path d="M42.568,93.225L25.838,109.259L74.827,157.509L107.434,125.302L141.274,157.461L188.677,109.672L172.91,93.916L141.771,126.195L107.369,93.403L74.398,126.501L42.568,93.225Z" style="fill:rgb(59,153,252);"/></g></g></svg>',Nj='<svg fill="none" width="62px" height="62px" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><clipPath id="a"><path d="m0 0h400v400h-400z"/></clipPath><g clip-path="url(#a)"><circle cx="200" cy="200" fill="#141414" r="199.5" stroke="#3b4040"/><path d="m122.519 148.965c42.791-41.729 112.171-41.729 154.962 0l5.15 5.022c2.14 2.086 2.14 5.469 0 7.555l-17.617 17.18c-1.07 1.043-2.804 1.043-3.874 0l-7.087-6.911c-29.853-29.111-78.253-29.111-108.106 0l-7.59 7.401c-1.07 1.043-2.804 1.043-3.874 0l-17.617-17.18c-2.14-2.086-2.14-5.469 0-7.555zm191.397 35.529 15.679 15.29c2.14 2.086 2.14 5.469 0 7.555l-70.7 68.944c-2.139 2.087-5.608 2.087-7.748 0l-50.178-48.931c-.535-.522-1.402-.522-1.937 0l-50.178 48.931c-2.139 2.087-5.608 2.087-7.748 0l-70.7015-68.945c-2.1396-2.086-2.1396-5.469 0-7.555l15.6795-15.29c2.1396-2.087 5.6085-2.087 7.7481 0l50.1789 48.932c.535.522 1.402.522 1.937 0l50.177-48.932c2.139-2.087 5.608-2.087 7.748 0l50.179 48.932c.535.522 1.402.522 1.937 0l50.179-48.931c2.139-2.087 5.608-2.087 7.748 0z" fill="#fff"/></g></svg>',Lj='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Torus logo</title><g transform="matrix(1.9124,0,0,1.9124,159.3,159.3)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M57.267,51.007L56.757,84.626L85.505,85.297L85.565,164.593L119.635,164.873L119.472,51.399L57.267,51.007Z" style="fill:rgb(57,150,254);"/><g transform="matrix(1.06773,0,0,1.04155,-3.94432,-8.22515)"><circle cx="139.434" cy="73.102" r="16.365" style="fill:rgb(57,150,254);"/></g></g></g></svg>',Dj=`
	<svg style="pointer-events: none" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 55 55"><title>Safe connect button</title><path fill="rgb(5, 26, 245)" d="M25.5 26h-5c0-2.9-0.6-5.6-1.7-8.1c-1-2.3-2.4-4.3-4.2-6.1c-1.9-1.9-4.3-3.4-6.8-4.4c-2.3-0.9-4.8-1.4-7.3-1.4v-5h7h18v6.2v5.6v6.2Z" transform="translate(13,28.5) translate(0,0) translate(-13,-13.5)"/><path fill="rgb(5, 26, 245)" d="M53 1v11.9v6.1v7h-12.8h-6.1h-6.1v-13.4v-5.2v-6.4h12.6h5.3Z" transform="translate(41.5,28.7) translate(0,0) translate(-40.5,-13.5)"/></svg>
`,Uj=`
	<svg xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="svg32" x="0px" y="0px" viewBox="0 0 256 256" width="62px" height="62px" style="enable-background:new 0 0 256 256;" xml:space="preserve">
		<style type="text/css">
			.flow-st0{fill:#00EF8B;}
			.flow-st1{fill:#FFFFFF;}
			.flow-st2{fill:#16FF99;}
		</style>
		<sodipodi:namedview bordercolor="#666666" borderopacity="1" fit-margin-bottom="0" fit-margin-left="0" fit-margin-right="0" fit-margin-top="0" gridtolerance="10" guidetolerance="10" id="namedview34" inkscape:current-layer="Layer_1-2" inkscape:cx="-165.09584" inkscape:cy="294.4716" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-height="878" inkscape:window-maximized="1" inkscape:window-width="1440" inkscape:window-x="0" inkscape:window-y="0" inkscape:zoom="0.40971549" objecttolerance="10" pagecolor="#ffffff" showgrid="false">
		</sodipodi:namedview>
		<g id="Layer_2_1_">
			<g id="Layer_1-2">
				<g id="g43" transform="scale(2.56)">
					<circle id="circle20" class="flow-st0" cx="50" cy="50" r="50"/>
					<rect id="rect22" x="57.8" y="42.2" class="flow-st1" width="14.1" height="14.1"/>
					<path id="path24" class="flow-st1" d="M43.7,61.6c0,2.9-2.4,5.3-5.3,5.3s-5.3-2.4-5.3-5.3c0-2.9,2.4-5.3,5.3-5.3c0,0,0,0,0,0h5.3V42.2 h-5.3C27.7,42.2,19,50.9,19,61.6S27.7,81,38.4,81s19.4-8.7,19.4-19.4l0,0v-5.3H43.7V61.6z"/>
					<path id="path26" class="flow-st1" d="M63.1,35.1H79V21H63.1c-10.7,0-19.4,8.7-19.4,19.4v1.8h14.1v-1.8C57.8,37.5,60.2,35.1,63.1,35.1 z"/>
					<polygon id="polygon28" class="flow-st2" points="57.8,42.2 57.8,42.2 43.7,42.2 43.7,56.3 57.8,56.3"/>
				</g>
			</g>
		</g>
	</svg>
`,Fj={imgSmall:`
		<img src='data:image/webp;base64,UklGRmoGAABXRUJQVlA4TF0GAAAvL8ALEAmFbds2kOwC8/+Lc0RE/zPp7qD7G9wl2buwdsdCUdtITp6710v4k70DMQgj0P+Eh9AYiAgdRERgIbA4AESHA3xLCWVp29NW0i+HmpmZmYaZt8y4YlrRjfAdTM12anbMzMzMjIfjSFW2ZOf0FbwujaJOmuRAtm3a1ljPtq3M37Z/aNuKbOW2mdu2bdv2P95Lim1ry96c83yYOURyoqIyhNgOtbaylhlVVyUzfHjd1LYtNZsu85x4oP8mQEI8sFBAhQIWInAAJugRQZWBoXTgtm0k2Zlr1WJ6TbpvEIgAXovL00A2zI/kG/MmTpn3CikQlMAHfzD4kACvRN477fCHffC+xTBtkctBCZ1SaoFRgOMUqjeCu8UnwdMwzrTXQBMhaI1eCAAIAeUvmAiZ9+/J4/AejwsTSmXruehs3vfvpT6v60PwvZ4tMIBIoQWBKBD0Je/SJIwNILCGnGmFE1rhNsy5qSixwApbQq9bDULPLmZBt+uGKIeW1slJy1PReWp2Ifu1VwBxHcuhVVUZcoHM6n8RBEGTgzvlqvxLPyYh+BCKIDApKIKdXPXf6Nv4S30RnIaIgm5sEP2EcKbegU1tpjbTPmXeC+F0deDWKnyBNygRsM9aMAXDKcgp3/UC8Ye9deu2wyis8pOBISFEZEG3p/ZgTgYGr/4ikpUyf1Sw4IDJQPMXHaDRzPJYOgCzitRKggk09i1mdkGBBFEIxaCE6n8Y/acZHbFjHFbULq14AbCyWflnu1Q8iifXYm0bIzaG7Bi1Mexg3IKx5NYy/zXyrywZH+e9xfUKHP/zJh4pimY8KufBri8axtEQ5cy1qyM7l/m5DQG3/V+dfW6lIpFaMMCookEahQk0qxGOGqk5uaLAKkT9fjSKfuxHZ1Ar7SgBt30CQCMaGxvrZns3vx9Sq2ShKW3K6n67+UWFQnc8GBD7/Sz2Ydu4GEd3/gI60Fv7N2O/sa1VA7h0Y0wg46hvVL1atCjxhAU0JQujsk45/P/ywxuMwV0RsZXWdPDaiRj9DaiF64jlq7YpMb48pNO2VKaRbxBE/tvAKWJ8ddDR7Qqv7tzsoDM3MrSUmo1fXwCYW4QO6huju2NalOmfl8AoNCUPDSpLqR+7J60E8NU5bQApEg1NmZcr4N+PUsCAjqMH+6hUP52SQhnPoFHZtdMAyysCJATGCOj4gNTBq8M6CRhMoPcOokyi+Gl9kRhohFFk0BA2SIOYGgtY3RBfXFQNCJrK7oHunc+v4ONzuL+wV0MSBW2rL4oy/XArFDIh6mukKTlUQAQCBGU6axtO7DqgbePhbmoSYBy0Kb0WkURBufjHNK65Nyk7lld3lk9ufL06ahEQQFYFAyKiyKA22DU3Tu83gl9fbzQ4JIrss1GeUqMxdPXVybo6KtPJU0cjYPimVLiAaK/DCMogXjpnBMxOL8fM2g2hJtHDH794cuoQTI0XJZqWXDbMLe1/aEQAID9BRARIqIYotz5tCQBmJJeL5h744x3arqbGaU4mKPfOPoNRpFUqQlg2FEMoEMlh6mHXhN3S0hbde2Fxqwk6/6EV7udlFHZ+iwyh04e2ulcShjl9lAINNCrIG05+UwLjaQpYXNTqWvUUpSh4D5X73e3Dgn5GYSSC7tS2MfwGXiu8Rh6wYHRSrgLEOPpq9een37rRNzc2DzWP8UeoRQpEIKjoAXLoM5igf1m8se+D1NnUI1WiX1/E4/N3b8wvDaQiVVExACxoNAqzgShUGGbQemzse2ctvXRkJywrk6vhH/jy+u6VBfj5QGMaaEaFhMlhYEEDAAsqkEMlaEpJVW1Coa2jv1peazUrU40IaR8jv/D7Y30xvzGEWqAJalHwVmdEVLQ7GFCQci2IQl68ooFBQghKQK8G6iCJRJ6wqyxy4gJDlOU5USiBD07qDQeD92FgR0E+jAUtxoJVInAj+DwGlG09NboJKIa9wz74wuAA7m0FNOinhXo0pCx7KIVdtIOidmzksF/Ecfcjr4IQlMJYuFeW7xpH6EmZKvVb3C4GAKXvqXBcumtwJMcvgVEJlSDYi/AIThuBCD7kTkrFXoMtHT77Bd4wARvYW7Bq0X/2cLYVuFh/LrZx0wohCkGThnm7juC82X9QYMWygfwIbpXLuOjrdFNhFyKRGCOAi+r00zo97I8wF+UR5uKVUwAA'/>
	`,imgBig:`
		<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC8VBMVEUAAAAPjcELiL8JlMABabAIlMAeos4Hjb0BarAIkL4CabECarEKmsIIj74JmcIBabACarEQvc8JlMAKl8EJkcAKlMAIiL4Tu88HjL0QvtAJl8EKncMRvtADarEDarIZxNIIlsAQvc8KmsIIj74Qvc8IkL8Qv9AKlMESv9AKlsISwdINl8IVm8oBaLAQvs8BabAQvs4Qvc8KmcIIjr0RvtABabAQvs8Sv9ADa7IBa7EKncMQv88PvM8Qv9AJlMALm8MIlMARv9ASvtAKlMESv9H///8JlsAFgLgHi7wIk78Km8IEerYHjr0NrckLpcYHjb0GhboKnsMIkb4Lo8UHirwLocQDdbQMqccEfrcJmMEJmcEMqsgKnMIIkL4EfLcIlL8GiLsGh7sEfbcKoMQMqMcCb7IGibsDdrUFgrkDeLUOsssFg7kCc7MLpMUOtcwMrMgPuc0Nr8kHj74Lp8YKncMCcrMLn8QEebUJl8EOtMsOr8oDdLQBarANssoOscoOt8wBa7EPuM0GhLoBbbEGhLkJmsEEebYCbrEPu84IlMANscoDcbMOtcsPvM4CcbIFgbkLpcUKnMMOr8kLncMBaK8Qvc8CbrIBabAQvs8Pus4Pt80FhLn7/f7u+Pv4/P39/v7y+fzc7/aUzeL1+/zq9vrm9Pnj8/i/4O2o1uibz+Tg8ffX7vW53eys2OmHyd9UtNMPj76Ny+GAxt5csdI7pMqz3etks9RNr9AhnsUOh7vT6/PH5fC05O6x2emj1Oag0eWDwtxettQxpcorn8ccl8O64O2j3up5z+DP6PLD4+9Yq9AslsQZi77I6fJ0wdt8wNtdxtpnv9hnutdeutYzttAQlMHO7POL1eR3u9lDr886rs5PqM5DoMrA6PCd1+Z3yN1Dqs0eq8o2ncgklsNoxttuuNdAt9EkpsgVl8IbkcC65u+t4uyU2eZOv9ZDpswYpcczmMUlkMGD0eIsrcwSnsQWm8RvzN5AvdNLtdIfs80TqcjW71yqAAAARXRSTlMAEBZg7LYI3d2dhHHu6eS/nZx+cm1BMBjz6MScYGA9Efvv2tDEi31UQzg0IQz8z8z44s/Er6+LclH39tvYuqmMemtUS3SZNIC7AAA7fUlEQVR42uyaSYtTURCFo6IgiOCMAzjPIiqi4DwRUDAQRKT1QRZx1RA1JEjSkA4uBPOwwdgI0V/rV8O1nk9X2m1HyKlT9XR9qk/VvbmV1cG63Sd33N6/cd+RrVu2XFvOut3lbjfr1rM66Ep5KyFsNuvNhKfNp4DyxEKoxdF60qrVWqBWq32qtaQAiqHTqXVevnzZ6VCB1mfPnkk+e6EFvnhBBl6/fi35+rEETPicvgufH7fbC58X2oRwUYsgXxzki/Pz8/lgQB0Qwv78oD/f77/q96V8fPXqVf8VFXwUDodDyeE3Ke+G7wDljYXgqxaLDxcO771449jlbVeu3jtzsPJ/YP2uHfsvbXkExtmjTLHczTLk51PvdtHf8dYpPVBv1pHf+NTxRBlN0FKq/BQ+nz6J+qG/UuUnqQrT3+V36id1wAukV/Bx0Yuf9mMRXrAAcyry5+3FtrQAOVgU4YHpD5CfnEd+wce+CP9R5CcFNAD5CvmVCegPVX6aAHww/sDh89uuntpTmWbs2bB/63ukJzPUHz8aj7MMIv+ydADaZ2SdfPvWWYfJA9CeNA8Q7b2SbgC1FhXw168GAC29A152aqTJHx1AAhNdKgmkvE6J9KTVcAGCKqlNgPbWBO3FBVN/fpDn8/wT6RNJ8wDA335KV9+rOgD5zjqAVPUDNAGJ+qkDlpag4OK2A9PZBOtP7j+C8oFMiPyQ0iVg2QDegqa0gQ+CsgGkAeBGYAZA2ocOKAP5IUU+Kj8kEkR3CqSo/JAA2gFlMABgu00LWAfkCyDPcQAKIwADGADE15JAC0CbAkQqqr6VoQLxHW+ExRaATIEfFrAkXAJflm5suzdlTXD69iW0LxKM1QasCZYzMQCxgWgC5NcKpQmapVVANI8+KO4BUJpA7L9F1mBA9gBY3ANc/xfFJtCkxhQgrZruZDSBqE9azWUKLOS2B9gqgPTJAKhQhoDDm6CwB4BvNMA3IprA5IeuPqmV9CZAfmj4Mjl/5UxlSnB2+5Hnj4jnJOITQEvGHmDyd0mbBLoJeg/YGED+OlH0AArCq/JRoIhfQ36NFmlLgBfbA0V+jQ5Z9oAXTkL/Fx4g4uskIAKflQsUbwEoBQOgE2wMIH9ODEx8K32mAD2Q5KfQAuYAlKEEZAp8U/m1/OwAvgd8VfmhtwDaQ4kvS9dPnK2sOdZt2If0QOQ39UlHJqFTQNwf+TVlEzSo+vQApXgWgAYf/1ZInwFakN+idBZAd1ItwAJ4ByTRKRLQ4VPAHIAeCPm9ttUFLGwP4B8qP8lZAO0ZBRbIn1ZBNwCo2kPSYPJLxiYYR4FoAlogNsElCQMdACbHDqzt4eD+rWtzc8/nTH9CHMCawDEmdQj4FpCGQLQAMB9oEtED0QIA+T0Mrj9gCMR5kNrRr//5U2MIaPgYiE6IIWDhPlA+DSI/NqAeANQHZAtoI78S+X0LIFMDxEmAT9oCYh0cEjYE1AIAVYdA2QfCApBfCcwGJl8uXD5VWStsOOLqa0H/92oCgAKBq4/y0E2gLufBOhQkC2jCt3EUIH0NSBYAHWoBNWgmYMrD2AOlBaA2gaO4B8ZJEBpKeyCl1ATIj/hhAXzTUQAwBeAAEmAAYw8kmQLJBHwKhAkgvGTJAuJGwI4CMCzABgGQMrl+oLIG2LRza3XOYA4QLaDyS/EW0NOgHwVg5ktA2gXdAeIoYEtAsoBwACnA5NfzACRiE1CY/HYegBQ7CsJoAQoMByChIzogegAPkD0AmvwEFoD2chpA/nywmHsLxCaQ5gDy+yRwH4g5AGIJ0BaglCDyxxpAQX7fBZSTi3c3Vf4tzu3YOtdz9QnX31pAooCxugAh/r8sFaj4rr6EshlTIPQP6aEWEPpDFd+R/ml7gKkPTP+w//D/sACI9MqyAVAI1R/6QYAhoHNAMWAGLCK9sHghFHsA1wFF9f1C6JtPgdC/6P9GIvSHDvT3KQAmex+cq/w7rNu+pTpXnetVUwdQqEAswE3AWFwFgU4BdQJmQBwHrQpLhwGfAvb9zXEwrYLorgxgAkCbgNAGoCTEMgjTGkDxKfBbE2jjAj4F7JvrpXCuISaAC6B/mAD0JvA1AGoTxDpoU8BbAPoUKHaBhrYARH8LhU8BghY4fOKf7YM7t/R6vSrqV4k0ApILYAO2BhRXQeTHBcZ2I6hXgt3M1deS9gDC5SfdAlx8HwQhvi4BpBRg14Hx908LmPLaBaY+XRDiJ+3jUjidBuNKMP7+pcrHRgDwQbAYNwKcBFR11AdW0V5WQd0D/FeBuBEYEqivJwG+yQIoRf2T+KTqD5L8EgATmEykBe5W/gVOX+pVQQ8DQH9oiCnwnoL8sQhk/Nt3wS7sLvudYBZbAMWPAnESgMUmMP2ho0YbUGwL+KTHQQLGLtjxESBfvw+AjrgOLN4JQvQvHQcLp0FOA2kPyEX/nBZId4IsAvNCxE+/D/Uh8F2QKQCLPw0MoeOdu8Bv7wTBB2HhTvBLcRckJrTB+dW/HFq3f64KxAJogN5ceIBk9IAqH8gU43QpSBPEHpDkJ0C4wG/kj09LWIsr4VDe/tER+qXwT0cBSshvLlA8CuABlN/Ib6Utx0E/ChA5HzkMGvQ0mK6ESUMfApUf4ZWgdCn8LfaAsvxavuqNkCOOAnEjYD4w2bbKc2DDFpXfilgA+juiA4j3vgxCkPkymFxgmUqRHuiGBRB+J0Sgv2X0gEbcCbXcBYA3gljAp+IccBcggC8CsQRYUixiE3QLkCiqb2k/C9idMKkXAnYUIHAB2wJA/EAskXbBdCGgH4PPgXeW2gBWSnPAUhvASnSAxGRJJ8He1TwT7t4X4ktAlK+a/AREfFDwf0qcBaBcBc3eB/zh+4A3RQsgdQC4A5D0ADi2anPgzqGqAOHtI8QEwgKKi+Bz098xex+w8u8DtAX8OOjnwYnhRGU1sH6jyR9NwAigaqYhENfCUD1g9j5gdd8HID1ZPAyAm6vwa/GurdVG1REG0GMPDKj88cvQ89n7gH/zPiAuBSeOvSv+A8F2s/9GqE96TScBQqofBWbvA/7l+wCD7YLqBCdW2P5RXhjyu/iMAe2ANAVsGZy9D1iL9wEQ5QmwomMA+2+49oE4CthZkFQHQPfZ+4C1eh8AkJ5c2TGw4RDyW4QPoH0qagE9HwOz9wFr+j7AfMBwYYWuBHZUG0l1qqPnJNLvAmD2PmAa3gfQBX4lcHUl9D/eaIyqjRF//7AKAz3oDiC7wOx9wLS8D/ixCVz5e/03jxoA3Ueqfll/6AeB2fuAaXofkLDtb9/9bGw8HD0cWQtQAN9fV8Hq7H3AtL0P8E3g8l+9FVq3b9R4+BD/H9EDZe0Lq+DsfcA0vg8wHDv4F/offYj8jREF/UsuEC0wex8wre8DvrNvNikRxEAUXsjoajYq4oig4g8KMiiuBQU3gayyb+YOuUUOMDDH9VUlZan0/HSvJqFe/g7wuisv6a9Z86vR9f/CQWx/Solz4D/veTI+YI/5ANLd2F1g4lhIARjwf1EKwIJbkfEB+80HcA4Ymf+dC2R/3gaoobP/KuMD9p8PGHsWuCf/WQiCpQSgs/+8QMYHVMEHjLoPOMnuB9kFkqMQwE8ABsv4gFr4gBF3ggfwPjgVKgAmefN5NT6gHj5gtboc+P3vuhQAdDkKJDRWdt74gJr4gNXL46Dv/9OAAoChJSCVnQD2J/hufEBtfMBsCB8wIe/ReYgWfCWcEm0AxgfUxwe8D+C/yuuPyVHXFJAwQ8YH1MgHPOwcANj+oN7nZZGLQErJ+IAq+YDl45AAoI8AVj0KoBsfUCsfsGMMmAQo+55nUeJufEC9fMBOMeAjdGhkvZQANL0SMj6gZj5ghxhwBveznDqvMj6gaj5guf2/wTcqAOhSAsh+vREwPqByPuBu6xUw25+lIVBkfED1fMDlFgZo2kGBBsnxRI0X4wPq5wNmV5sZgI4VRGS6WB+MD2iBD9jIBjyFbD8GZlEJAcYHtMEHbMqBt533pQboYYAGZHxAI3zAfL3/p75TSRiUBGB8QCt8wOfaBHgefez8b/cxl/JvfEAzfMDNuhx4HGG+RyMFHj/fBIwPaIgPWHMf+DyNPpL7NMT+chw0PqAlPuDmuR8DjUiAGFGSgGZB4wPa4gO+ev8DmvoYPVrX5a1AD4PGBzTGB8wOe48APqLTJElAHgHjA1rjA/oOAkc+Zvdp+XMWND6gOT7gtecrkCeVXQCrRkHjA77ZtYOcuGIYDMAWVYVYdEFFWyqNhFBLkcqGqggWoC7oxouRsvEB3ioHmNNwXOzYmTxGnCD+/ZJwgD9KHOab0Ads3j8A9Gvh6wmgaxwB8AET+oBHOqj/Gr6Wxd/2wHgOwgdM6QMOgeg/i3/sAXsK+BUAHzCnD7g7/C/wduwA/xMvAfiAOX3A7cV7LaBfAPppG+D/DIAPmNUHbN5KwG3R3KM0e38Pav7wAbP6gDc68EZjLxb9fu78h0H4gGl9wMsNjfpcStmW2AKjEdjBB0zsA37RqGNL36qtOx9a8AET+4DHFQX0A0BnxB8vAfiAqX3AwIFXxWrrn0UfXQB8wNQ+4H5Y0NJrXAI64QPm9gF7HXpUuOgYd0BcBPABc/uAl2/kdW3xczwExgkAHzC7D3gmrxMuUfEW9NzhA2b3Aaf9EVg47oB1KwgfML0PeIoWoEXP7Pnr9PDhA+b3Ad4EfNDwW/zcjwBb4AMS+IBNbwEi/nUbAB+QwAecegvAfgTweA3qhA9I4AOaDT3y8Ef8LX34gBQ+wJqALxa8la49/lLgA1L4AJOBZ55+iRGbAD4ghQ94sB6wcKtio0TBB+TwAdYF/vD0bcaqAz4ghw+w34POPfoRvi7wAUl8wKWCcPYaTwGd8AFZfMAFfWWWyH9cBfABWXzAb7petYD9CIAPSOMDnumMRTgqtgDDB6TxAQ90xb3GKQAfkMYH3NOJsH1Rnj98QBofcEofRaRnHxM+II8PuKO/ImxjdQvAB+TxAT/pWFbx+wIfkMcHPMUGaAtHwQfk8QF/6NM+fInw4QMS+YDvdC69+haAD0jkAy7bBqiefhR8QCIfcEsSNd4C8AGZfABJrVJ9B8QxAB+QyQdQi1+X8RCAD8jkA0jEzgAvtg8+IJUPoKolUsdLAD4glQ+gGkdA7UcAfEAqH7A/AWq/BeADUvkAqhb+Kn+BD0jlA0h8B9hqQxg+IJUPoNrDr3EEwAek8gG0WP5WEhsBPiCVD6BFFkt/9IHwAal8AC1LXaRqiU+BD0jlA0iqXQL+2RD4gFQ+gJZlEbFjoEptAz4glQ+gxcpy748B+IBUPqD1ANWWvgPgA1L5AFpaeQdoK3xALh9A7QZoB4A/B+EDcvkAWrw8fp3wAbl8wCt797LqRBCEAbherl0PimudjQj9Aq6bfgtPLprkoIkgBCGgg+At0YUaNZ7gImoguMiFgGJiXFk9KTPiQnOpmQl0/TOZBzhVVPfkfHQgvHwZbxoD2ALiA/zyAdgAVH76Okh8gF8+ABsgxB5I1gHxAX75AJoA9CqA/xgQH+CXD4DLobuSESA+wC8fACFmU34cAeID/PIB4OqP92YvKD7ALx/gGiApP37EB/jlA6gBki4QH+CXD4DQJdkJXhEf4JcPgPB36CtB8QF++QAIsPTBH9UXH+CXD8AGoNC7gPgAv3wABEEQBtQBbgyID/DLB0BcfvegFhAf4JcPAFf8uPr0MiA+wC8fAAEGR8DmTUB8gF8+AFz54w+NAPEBfvmAzQQIaASID/DLBwCWHpPUX3yAXz4AXPFdQloGxAf45QNgU3z6MkB8gF8+AILfCdeNID7ALx8Af5dffIBfPoCWAHrgR3yAXz4gmQC0FxAfkL0PWC27nWl7Mjhr1ArlSuWkdFIp1OqNl+P29Ouiu1yl6QMg2CSMb/EB2fmAHtZ98vL0RP0n5UY0XSxXqfiAZALQy4D4gCx8wHDWaZ8V1U4p1aPOit0HQEChhOIDUvYBvW5/XFN7ptLh9gEQ2GQAuKf4gBR9QG8xqarD0mf2AWCwA5KEofiAlHxArxMV1OEpLXl9QLIE0BwQH5CCD6Dis2TC6wPAJiMgLr/4AG4f8KV/QzHmlNcHgAkwNukA8QGcPuDnrF1VvCnx+gCwxtrgj4gPYPMBw1FUUfxZsfoAsIHBKxkA4gN4fMDP7vhEpZIVqw8AYwO8zGYZEB/A4QNm7bJKKz1WHwDG2j+3AaH4gIN9QK9/qlLMktUHgDYmsNeN/d0D4gMO8wHDT2cq3cxYfQBYc91iD2wiPuAQH/ClXVRpp8vqA8BatwvA0AAQH7C3D5iPzlQGGbH6ADBGGzcCDDaAu8UH7OkDvvWrKpMsWM8PAKux/BYXAnoREB+wlw+YRSWVUTqs5weANlbjB6tvAoNP8QG7+4AL3YbKLn3W8wNAW4PX+uHKLz5gVx8wX9RVlpmynh8AWmuj4xYI8LKB+IDdfMC8U1XZps16fgDE5dd42evxBBAfsIsPGPbLKutMWM8PABwAeFu8jHXVFx+wvQ8YTosq+0Ss5weAdjE63gXgDDDiA7b1AfN+ReWRiPP8AJoAbhWgISA+YDsfMP9aUPkkYj0/AK7SBKCVwIgP2MYHXPhUVXklYj0/ADStAQZbwK0CR+QD3j9u3X305lWz+erto9bnJ5eOxgdcHJ2q/DJmPT8A9FW8aBuAtzkKH/C01bz14G88X2zcufnm8RH4gB8NlWfGrOcHgMb6m3gfsP6vQO4+4PHbh//6A5efNT9cy9MHfItUvhlznh9AewD3MNptBGy+PuDzzbr6fwoPW+dy8gHzflHlnDHr+QGAK0DcA+vyG5ufDzjfuk1Tf6se+JCHDxhVVe4ZsJ4fAFh+d2FoCuTkA56+rqvd8vzduYx9wJf76ggyYD0/AHTcAdrQRtDk4wPuPdxnstaa3zP0AfOPJXUMGbD+vgBcxQZYN4HRLnn4gNYDtWcKr65l5QPe1dRxZMD6+wJw1YXWALIBGfuAey/UAam/y8QH/KLuTJabiIEwrJfrcsHBruISUxRQlZoDdz8FJ/MAzoJZTeI4BIeYLZAEAhTFlrCGgoQ1hO0AYSlOtOSeyKHQ2D2SjOYfzeSe7mm15G/0r1+EUPTcqb8AJgClAK0F+s0HLFwCS92e988HrI5CMPrg1F9AHMip+OMg9ZUPeF+rgLWGVz3zAd9uQ0C66NRfQOTiAiCfqL7yAQ1Hq6oL8z75gNUjEJIWnfoLiAMkmgJQfeMDrtbBlY4se+MD1p9DWFp06i8gcrkDughg8PvHB+Dr71ATnviA5SEITJ+c+gu0p4Cc7gP7xQdMngS3mv7ugQ/YXITg9Nipv4DIlbEGdCwF+sQHvHa/qXa+5ZwPWBmD8PTVqb8AVoAyzQEq+gf6wwes+dhTH2s55gPu//cffv6l6079BURZ9gCyCFAn0Bc+YKkCPnS45ZIP2HwBQeqHU38BTAA1Begq4J8PKNTAvSgD3PEB60Et/jt0z6m/gMjJEoCKuwD/fEChDt50/r0rPmDlOASqe079BWQC4NAlwD8fUAePmnbEBzTC2vzp1Gen/gIiF5cAygDvfEAdvGrCCR9wvwLB6qdTfwFRlk1AGVcCeMnhmQ8onATPWnbAB6xCwHqwR0vGf48VHyBU+PGhFwJe+QDv8YehljUfMAUh62XbdVJPA1Z8gOoB8Mbol6kG+OQDquBf16z4gNDffxiWXhMoagTxtuIDVA+gUqBMbYBPPuAs9EP37fiANxC0jpPjoF4LWPEBIqdUxoHhx0rgkw9oDvfA+dUnlhoza2szS3dOnxiCNBpt2fABjTDIP6MeabdBelrxAbQMLOuZwB8fcLXr0vrw1Pz28wMW5sYrwNasxfkBK+Gu/4gHiX3G5F8Vfis+gCoA7Qbg7Y8PKNzsNnmv/ev8gNbUYWBqZD71+QGtYPd/NA6gLQdJNnyAoPDHXUDZHx9Qg0TdbBrPD1jiArnTqc8PuAah6zGZzlEXgMOKD9AVgIqANz5gJnnqn0s6P+Ahd/W4kvL8gPsQvK6rVWCn+bwVH0AVQGeBLz5gMrG2jl/tcn4A8/fD6XTnB2yGwv4n6F47/AM6Baz4AKoAOv6++IAqmFW50/38gMYwMFRppTo/4DSEr89kN6vtx634AKGj35YnPqA5kkB0zvRyfsAccDSV5vyAnQF8+tlVD8h3VJcAKz5gewXAyw8fUEggwI42ezs/oMoiA9KcH7AMGdBvCj7FHp9WfIAo6vCrhx8+4AoYNdrs8fyAHazl4NMU5wcEigBt09EBkt4OtOIDMAEoBSgHvPABt4bN9f9Lz/4CM8DQ6RT+AiEioH/rNrmPy0EzgBUfgFPA9gzwwgfMglFnGP4CNzmnB6TwFwjuE4B/aFFXgNiE3ooPECr+WmUffMCtCphUZfgLsPrAkRbbX2ATMqCvcQVA0QRgxQeIdvz1ROCDD7gMJl0ocPwF9h7jgCFsf4F1yIDuRboE0LDiA2QTWOxsBD3wAa+NBaCywPMXmIXeVWP7CzyFDOjdQBRFlAEUeis+QORIRUoBD3xAzQzwMf0FOHPACba/QCZWgS+jAXlJURJY8AE0BeDQcs8HmAvA4Ummv8BVDjjB9he4A+FrSL7/EcWeZMUHtJeB9JByzweYC8Ac219giNEFPuT6C0xA+HqE4acaoPsAGz5A5KgHwJvkmA+YHDUWAL6/wA3oXfNcf4Es7AN9jFCUARR0Oz5AFFEq/LQScM4HmDnAJb6/AOdn4Rmuv8A0hK/HJZUAdKkUsOMDhAp9Rx/gnA+4ZkQACnx/gRr0rgbXXyDUjwG3rwKVOvtAOz4grgDyohLglg/YGAGDqin8BaqcjQCuv8ApCF8PSlGpFKmlIA6SDR8gVOh1ASi65gPugkmvUvgLTHDocKa/wM6APweLNYrRV9Lx32PHB4hi++XXWeCYDzgPBo2l8BdgJcAdZTLSu7/ACoSv21FUkpdKAEoBKz6AmkBUPBE45gNegUlX0vgL1DgVYMt29mBP/gIZ4AHhEyZAXAQGaC1gxweIwaLS1jLAMR9gnrS/pPEXqEPvmtuhhC2AfHT3F8gCD/ZGRR8fJdoPwGHHB2ACDOrwoxzzAUaIY3gyjb/ADd4qIDYdlUuBrnxA+ES47AFVE6hECWDHB9AUoB7qKrrlAzbApJtp/AX2csjQNW04iff+rnxA8J+EAAz/zmP48UJRIzBgyQeIoqoAei3glg84AyZNpPEXmAeGWspvcD9NA3gl8wHfIXw9KkW6CShRG2jHBwiMP4n6QKd8QM1MAqXxF3jLeVtU/KkRpBKQxAdk4cfgxXxehR9vvRy04wNkDzBIOaBqgFs+wMxxNtn+AswecCz2HCXX6R1d+ICwTwVo60cpn4+o/ONQsuQD5CoAh84Ap3zABhi1kcZfgMPtT2vHUXIeTuQDMtEDvpPhx0GNgAq/JR8g8P2nDKANIZd8gLkFGErjL7AA3H2gXXLQUiCZD9gd+mfhah8Qp4B8KcKh+wArPoCmgKK8aDfAKR9QM0O7afwF5oChpvIeVqIUMPMBGWkBPmAHkFfhx4tmAls+QFaAOANUBXDKB4yZV4Ep/AUKpzlvi3r31U3an8gHZIEGuZ5XTaC8IxzqsuUDxD5KAJ0C7viAcyNg0jjLX4DEYULr5DsuB8U/kQ+4AOHrHU4AUqVIdwG2fIAYVNJzgEs+4FZCfJj+AurvOGcfkMzn9VpgfxIf8D0DPwUeifJSUSlPfQCOyI4P0BVA3UWUSz7gGRh1meUvQInAeEuHMOqUAno1kMAHNCB8Pc+TZPhpPRBZ8gGUAB3xd8kHPAGjajx/gbYYn4ZVqf7LZ6wkPuAkhK+vGPtDlAK0IRRZ8wFicB9eqCKlgEs+oAZGzTL8BagIcKaASgtDv1UCqB1M4APeB+QLaNQvFX0SFgEpKz6AEmCrBlAj6I4POAFGXWL4C8gCwDxnflZGX0eeZOYDsvBNCP4SlNfvfz6vYm/NB8gpQOUA7QcUXfIBCZDduNlfwMwHTPX8v1rYu4tKgAw/7Qgk8AFZAIL/sHcePU4EQRSeP9cSCAQajDlhCckS4eALIPwH0JyRuAKLSSZYYFhyzhktWYicg8jpwonXxTNtAz3TXpeBRrzpac7wylXV7Q/XnSUoAFgQe0FYPzAfgABgCuBRQIkP4CnQq33h8wUcH7DLBGqzNf+nJtDHB8RxBkALYMUQWGAXnB+UD0AAQOwDJAso8gHvjF97/fMF/HzACxOmxrVKhRFgN3mwvHxAFDSYuQrrl7g2YIFEwIB8AANA3GcSUOQDbuUd0zzzBfL5gL1hHeB92E7BcFqP3cMHxHELtK7GDz82kW0EBucDErEfL3aRIh8wanL0wj9fwM8H7Az7GmgaEkDFBQGbAD8fcNREoFfy8V/S5T/W4HxAMok1AEtKgCIfkItvbPfPF/DzAfM3hlwCV6BpEgGdMsAE4OMDYrgEMK/hPhZfSErAwHyAlAC2ARICinzAYZOjnZ75Avl8wOWAeRETK6JpWKJOB+DlA3bH0AKu/FKrIQJ+0MB8AEoAUwDch7Dr8QGrTI4Oe+YLFPABB0yBzlzrdl92pn8vH7DKRKCX1v4lNR4FnQblA1ACJjEFsBHQ4wMOmRwd8MwXKOADrhX0gevblclMAPblVYA8Pj7gcwy3gOZxDRmgJk0ANywFPgAlgBHAPlCRD8gtrWs88wWK+IDdeW3AyGbrvn1pv7yMAB8fEAMMaEYewH55us8CCnxAMgnq7gIU+YD8m9uHnvkCRXzA8ab/pHS/wl8V7ahTBPD6+IBrEfx/AGMuwHtIigDPg9gV+IBE3JeNh0E9PiC/Xt/wzBco5AMmbx359fF/1fPOfIHJNg24w6DY7+MDokgA5lTJRgBTgOsDBucDmAGwGAKKfEDL5KnlmS8QwAccO/AL+9cf654vgEf6AJcBPHzA7ig6gJGPpVqtEwKuE1DgA5ABWAPovyIf0MznW6Z75guE8AHbDy7vTf5bj/XOF6B4GoB8fMAGE4Pu0H8sMZ9S4AMSuI+HSQBS5ANaJldnPfMFwviA9q5VzbXGam1z25tfzBdwraCkAQ8fcDSGOwCcAUo1hAAWW0H4jqXAB7AJtP6zCijyATtMrlqe+QKhfAC2a8ePH2/75gu40yDk4wOaJgateFArSRPAVhCS60AFPiAR/6FOK6jIBxRc2ix74ZkvUMQHBM4X6FwISB3w8AExoIDQy1KpNKWGLNDpApbYIFDhA5Ie+yFFPqDoin3MM1+ggA8InS/Q3QZ4+IDnDROFXsP7b/azDRD7VfgAlgDZ8EB6fEARxt/wzBfI5wPC5wvg6cSAhw+I4achoeVTSvCfWQBiIKjwATYAnP1YinxAYYN9yzNfIJ8PCJ8v4CLgl3xALAXA3C19E+yfwiYA5uvwAewBrNgH6vEBm02B9koGoIL5gPD5Ap2DgIcPOB7DkDCrp6Wy2C+rJkEAqfABLgNY+2XX4wNumCKNds0XCOcDwucLIAfg9fEBMZCgVo0yE4AtAawBCAINPoABQEkEKPIBxfzOJms+FcwHhM8XYArw8AGXTSQ6VSqV8YjEfdEUHT4gmVQX6+XlrsUHnDWF2ul+VjScDwifLyBpwMMHHI3iDhha/cCaT/FCCO4r8QGJ+/SzEujxAbcDSMfzbr5AOB8QPl8ANcDDB+yO4ZeBRXeZALCs+VNgvzw6fEBvCcCryAecM8U65OYLhPIB4fMF8Pj4gGsxgMDEwcvWerysAewDlPiABBUAy4WAIh+wxwTolpsvEMwHhM8X8PIBUXCgogvW/zIfEf1X4QOYAeouAjT5gOUhuHvbzRcI5APC5wt4+YBtJhpdhP0sALRfvhfQ4gOYAZw0+YDTJkCH3HyBID4gfL6Anw84MmJi0Vraj8duVmK/Fh+QZL3WY+nxAQdMiHa6g0AAHxA+X8DPB2yJ4ztg0QdazxzQCQE1PgDHQHlcHlDkA8J46xXbeRYciA/obQVz+YAjEfm/DGdAPC4EKDU+IJmU0Xm6r8kH3AjMco84X2BAPoApoIgPiMl/c7JM81kInPlKfEAiH37JAZQiH3ArdNL3Hv608O/gA67EU/8tCyj+283dBkB6fEAC72k+pcgHvDeBOrCH9g+fD7gck//mZa/97g81PiCp1zN2AViQKh+wPDwCbAb4DXxADL8H6TRysyr2yyYP74T0+IAky+qZnAQYA6p8QDhx15IqMGw+4FosXwBS+8tQleZ3HQQU+YAkq1vj3UFAlQ9YZYLVkiowXD7g2CYTl25Wq/CfKnHBeUU+IJmHCJAcQPdV+YCdJlzN80gAQ+UDdi03cekEPv5V5gB6L0GgyQckdVsDJANgg1T5gId9cQ/vUAWGxwdUtsV0/BM9/TEBsApo8gFJfR78zzq3Adg1+YC5K00fWnkWETAsPuBYDJOBe3WnasUgEPsZB5p8AEqARAASABsBVT6g1V/Texjpfyh8QGVshYlOT7/bj83dBpZV+QA0gYyAjH2gKh8w1m/VezQUPuBYPN/+O+3vJAAsUaf8q/IByTwI9n/vAnT5gNumT618os8HtLdF+PE3yz5W0ypV7g4BXT4ggftZfR5e+C9JQJUPWNz/P33znC4fULkcxS9A/KS71UV0vyzv98sgTT6AGSBDFagzBJT5gOY4IMixtiIfsCW2sz+18lmaMgWI/diYAvT4ADaBUgPEf9sKKvMBY2YcWvdklhIf8CbG4i86tQjuuxBw/ivzAQncx4MQwI2QjQNlPuCcGZcaowp8wPzRMyZWrfuULlqEVe0KASxYr8sHsATAfOxyGtTmAxpmfDq9c89gfMDxbWtNvLqUpouYAHgS4GWANh+QzJn3TXXbCmLT5gPGP5V/zeZH4+cDtq+PsfP/ruvpIpsAEAHuJMBCoMwHIAAkBGh/lmnzAbfN+DWy49b08fABb7ZG878+PH/xp7AfD+SyAO1X5gNQAiicBGwboM0HgAkYRMvXj7b74gOm3toQc+rnETBFBZAHQcBKUJZXnQ9AAMzp2C93gup8wCEzoFa0Lp8L4wPab8YOxPaN36+05q2Y39sFiv/6fEAC/6kMq15X5wNuGwUtbx2+9SKPD5hwbnTV6ei+7vPoSmq1iMvGAJKAfPz1+QDbA8xhDGT2RkifD9CqxyON5qGx0e2PZnfzAe0X20fHNpxo/CveW51YaDM/V4rlGkF9PiCB+/ah6pk+H3DYKGvF8nWNvfvOnG6sXRkV4Rmo1R+ZANgGVm0YsBDo8wEIAOs/2wDs+nzAe/Nf/eheigzALvB7FUAcUMp8gJQAlwOy+hD4gHjv4/6E9i5NEQELGQJYvBHC0ucDpARAjIDMvvp8wE7zX32Q4OlCuC/iXQDPgpQyH5DMkADgIyGgzgfsieXXuP4GfVi4cObC1IWAFS8F9fkAZgCGAKXPB6AN/K9AXV+6MF26cGaaYkHfU0AVayh8ADLAjBnfjoJYlDYfcD7qe/mv7F1LixNBGOw/NyOZo4fBhIYcRcgxkYG56iEISvDqc32A4gMRnyCiomh84UFxVUREWG+6oODR6i9l2tHFB/p1JzNT3fNl71XzfdWzlUkg8ARgh9bSBAwpAToBnXwABCDw/GvkA64nLf4I76zdOwSEfLJPL6iUDzBbc7dEACiARj7gY9LiT3DBwgHstUN8YAZUj4NK+QAIIM/ZA8QG6uQDluO1/LFx7IPF/LdD+IChJftSAJ18AEcAJOB8gPCvkw94lbT4LQ5+sY7+4V4U8A8r6EWglg+YmUDCsa+QD2hbwJ9hZWIn1jr6IQL6AGK7Wj7AgH4sgEZAKR/wNmnxGzz8BP4BuABUFKcBPhHUyweYrXMTIHWbVj7gWtLilzi2ZieZncAEYLkOYMUI0gqq5QOM0I8LVaCVD/hYx3/c/UfsW53YzArECMIKwgRwECjmA8QDCP1UgFo+YHlezhoFjzI0gAlmALabAk4B4F4OA5r5AJPPHQAKqFfLB6y3jwN/gTuZzbCtKAAF/EthA9DLB8gIkE0foJIPaP8j8Bs8+5RlcABWNo8Ce7HsEFs1H2CEe1k0Amr5gB1LntVWxNG1nRlgs4kV+nkSQOUjQb18gMkFXgaK+YBp0mJD7PuSCaxbsykg9/5euXTzAYb0z12AZj7gVNJiIzzJCIwBOgG6AAwB5XyAN4FsApr5gPutD9wIZzIMAGyA7IN5bDYBxXxAtQNwa+YDnictfsJrod8VSkBOgzwKDLXzASb32Crsq+YDlvbr+nq4Lcx7TKQLiBdEA1DPB5g5+/xQzQe0Q2CjA2Av2wkJyK5YQUA/H0ABeO6V8wHtEKji5FqvJ7xDA3Pg/nddAGcB/XyAGcz5Z1HNB7RDoIqjN3H7Z70e6PdGwOJvekH9fIApc0qAGtDOB6wvyw92hsD+F71ehj2j/ztYQYh8gCnLvKwoQDkf0D4OqvAPZFg7MQf8ScDSDIbIB5icHYDYqp8PWElaCA696EoDQPH9H4X0Z0HyAaYcuAaAi9DPB+DnBFs4/lfBv9DvTECP/HuEyQfABJaDihHUzwes1+EtHv+MI6u9bg+bUwBbegDtgLWB8gEzDyCFEgiQD3jZpoOSI1+6XdJPCezEzjxC5AM4AqouQD8f0D4NEP57WBQB+GcD4AYC5QPMQBSARRmEyQecSJqN/S+6gp5TAU8CUsUMAsHyARgBUEDpu0CYfMCeZn9P4PjNburod1dlCmCR/FD5ADOYtQBIgCIIkw94cDhpLg6vpd0C5FMCNIKcAyKCcPkAjABAJJATYfIB95v71ohnl3H7YwNknz5gZ0YfGDAf4DwANICaY0MEwfIBH5v6TPje56KbFmk3pQY4BrwEQuYDRABYgpxTIFA+4FUz/zV8ISvSwjWAguxjkX+3QX3QfIAB+2wC2DkQLh/wsk5vd/xTnEsLrDSFBNAFqAAUqgAtIGw+wAyAEkDN3QqZD5g27oHQgScpUACp+ABKAPCPhYPmAzgCgJJGIGg+4GLDFHB0FexjAYVrAN4M+ikQOB8wM4Ez+qUBhM0HnG/UFLi65phnD8AfsAEUgG8BgfMBHAFSsHJ8hM0HTBukgAufUwE1UD0J0AoGzweY7/q/K3nofMDLppwFDp6rko+FDeZTfxaIkA8wQv8A4FkgeD7g1ZGkCdh/NiUc8fIhW/hnC4iRDzAjtv9vO3w+4G0Tngk+vJVWUAj9XVS5BFHyAcaxL6AZjJAPWF/SH/f8C6wU/TTFJuYNoHA+kIiTDzCD0QC7FAWwBs8HPKj5C+V9++979nGxcgrEyQeYUQn6PflllHzAjlq/P+burT6Y5yb9vAqMAVFAGisf4EzgSHwAZRAlH1Dn14fsO5f2ZVXhjwJyFoyWDzAjgPyzRMkHbJrW9J+Dh9/0+6Cf67s+ULC42o2XDzCOflwltnAfJx+A634dreDBlffj8bhP1lmFc24sjIGI+QCzezSjf8SDQKR8ANaV00ndcHK130EDGKf9Me5/OgGBVwEQMx9gRgLPf7R8APC8Zs+FX78fdzq4/4X6sbBf4Z87aj7ACWA3JUAVxMoHQAVv65QUPHyp08H93xmLBlIssE8ReBSR8wFmTj4fBsTMB2AM1Oa3RQ6ceQr+wT1EMO7TB2D9gCJ2PgAegD2ghAxQouYDUKf1+N7Y7VsdAhYABfxv2AWi5wMgAE4AoR+Img/Ax3oNvjJw7EZnDqEfRwHxgT9yHz8fYHbtEgWAf3aBqPkAkcLFJW8C+1bedzZv7mymAuACcIH/PhuAfy60APkAMyL/9AJl7HyAKw+W+scFTt2cUY+K3ecYcAtb+CcWIh9gdu3eJSZgN+h3O3o+QEQwPZYsKe6ugnXe/7hoBNkCsIV/+ViMfIDzALvZAwZuBMTPB8j14MRS5kVP3gD1oB9AkcopMHYKSEUBuIAFyQcYNAAsyIAiWIB8gGDLx+Uzg/sfP3XsY7F4oAPwLJAC+FyUfABGAMh3U4BYhHwAdTBdrvfLf+XealqbioLo+3NahQcvSLYP4+KFQHYB/8DjQZFAu3PjBzV+tH60NlYrVWyiVvAj6Eoo2IW0BHQj+g88d+b0zZUKItp6r+fOzO3+nMydSU4XhluncgjA2j8qgquAjAGAkB+OPwAdAPRLA0CA/CD8ASwb43j8gpdWtnLh/yRCjty2DfIlAP3njgfkD8AaiB4gu6AiEH8Au8BkEMfPA5fufRL6JakAhKatg+6HIdAfkj8gKebmCtDvpgARQSj+AKTUb6PwJXAN9CuoAH78UUQINgWcQw3LH5AU2gLqOSAYfwBuxZvlsBeCK2/fp3meogPkSj8lYNzrdVqbQGD+AHSAAhqQDiAtIBx/gG0FX5fC7QKLd1OhH8UkcNIkILetAsH5A5LCkY/o90E9GkFI/gCA97dBkP9AdHnzWZr3emkvJyABawFk358Dw/MHJP3CnVoCZ4PyB8wYJuPgfiG4fm8rBfvuQAIpJSBHmwBbgFwuQ/QHJAUg5HMbDMsf4EtgY/roWDi4+ORh7rgX8tEBUJV/6wHGvCJIf0Di+C8KbAI6CPRD8wcgFPPInVCGgdtvt8A8uEeIBlIQj2QLQLAFIPjTQKD+gOQH+rEJBOcPwPE0MHn3778eXBh9SQWeBvK8d2AM8IfAYP0B+gRokU0gQH+ArwBgZ/Qv/4Xg6vLd1TTLMk8BenET8N8BdgGccP0BiZI/hyPb4NkQ/QEe5uchgo21O0f+FJD9tdUMSAl9AHqoOe7cFFBDZoCQ/QEyA/QLVcEcIkx/gF6E08BkunjUGlgg+6AfmYF3QoeANIcESD8SlQjbHyBPgIpAN8FA/QGkvs5OZ2ay/uTovhx4NPzYy05k2QkkRSDdnwkR6CaYmgiU/dD9ARAA0dd1MFh/ACWA0BtXZ+P16MaxQ8fCg+keiHeRGdKMErBBgC3AHwaD9wckxaywzymwmAvYHyAwHXRmOq4TvJk+OMShcOHF+MuqsI9kRQj7gNSeBqBtwNiPwB+gHcAk0A/ZH2A9AIcvAaJT7ozvHIIILj14ex+cK/VGPgqQSpJ+Obj5qwAlEIU/ICk8YA4owvYHEJRBx+U+vk43r/y9D/6rwfpu84Q7NTI9GVKQyrEnAOF/IRSJPyDBC4AAuAmE7g9Q+uspwKWKoIsz2dkevfzDyfDa4vDp83ZTAPo1gIxFRUDYI4DUTUBFEI0/IPHId9EP3x9ACUiQ/RkqwEW38XVtvPn42u//tPfoycr6/c+gvd1G4vZaQKZB9lEQ9gagWBPI815E/gB2AFNBDP4AEM+LfQAwCQBlt+pOdl9vD5cWb/9qOLh46/HycHvt/l67hQMo/SiUAApBCdSTQIqwDsDoxeUPSHzyXcThDyD/+grwDRD2UVQBZdUty6q8UDU29nZ3PqxP360MBjdHm0vLy0ujm4Phynh7/fWX3b3VVo1mu9VstR35xj/ZP9gFbBe0LdDV2PwBWAPl1H0gFn/AfH13cLgOUARsAhUCImjglA1U4gzrGRdnWnoUbfAvRySAAP8/GwVxHRwFHeLzByTCvKEfjz9At0EIgWMABQD+SxxIAJcTANgHKmNfyUcK/4DRjy5A8lHZAlDIPVPHAG8b7JH7GP0BiXz4Z00FUfkD9gdBgPwjABSngUofgkZ1oayoAYOTAEXgghpASANApRBEBP4sWIuAEuAoEKk/AAIA/R4i8wdQA2wBngaU/rJyYwA0YPDpJ4x+oNly7HtzoE8/NUD6bQyI1x+QnNcZoF4G4vMHsAWYAtwB2AUqNwUAbAD2DmiyBZgK7B2QFAGYCnwh1NtgzP4AfwaQP2P0B6B2RACIrgtQz0Gw5CTQKCGAgxqwFkABgHN5BOQgrAUgjXyP/sj9AegA538YAiL1BwA2CKoISj4EOgheKA8MARo1Wvs9oNnkPiBRY18CYF0vRPz+gGT2/CzotzUwXn8AugA1YF8HVPsJ9tEFUI19WwaQZJ9wvCO1oij7Bl0D/wt/wHd2zdi6YRgGoihcpPBCyTYpkiYrqMAzCm7AJsvmiIMMvWxgAicZHuDwDgL5BQGAHsiPgJfmA2h/HgpyCuBhof2pnAK5C3AbxJtbABW7QAyBbfgAGTbWFJgjPgJeng/AG6sAFU3gAeBJkAGACuU2mDEQR0G5DUJ5L7QTHyBuPwPA6w58gAcA6tN+Pxr+9QR4oKRW/LNEC+SJEApvBaJEC+zGBwj8H3hP78c2fMBP3gvAfT8T/Od+5sB1GaBoP08EUFxb8gFixiFwXglsxQcs88+LAd4MoV6b4JM198GcA9+xCXgT7MsHCNxfEbAGwFze78cHoAnWFIgQiIuB6y7IX0YA7T+PgzbnA8SG2VwJEKvAtnwAJwG3gdT1SyBaAIUqwQeIzXMGuPVjfz7ggecaAPx/7oLF+AAxdgBbYM6v5gNq8QFikJsf22DzAbX4gNUAw6BzG2w+oBYfIGZpP57ZfEAtPoAjgGWsNmg+oBYfIGZqEHcBvM0H1OIDhP7zUxDvaD6gFh8gy3/8pgfAnKP5gFp8gKiFBm8Fmg+oxQeIqsYUmB4DzQfU4gPE7UdhCMzZfEAtPkBUDS8Uq0DzAbX4ANElyxZoPqAWH8AE8Cngms0H1OID5Aj7vUDNB9TiA0RzBrj7zQfU4gNEj2wBvNZ8QC0+QCzs13C/+YBafIC8K+QfAkyB5gNK8QEfctMjhwDUfEApPuAut0PXQ5lq8wGl+IC7vLn7mQHNB/yxa3c7iQRBGIa/ATQEDBB/2EQiMZwYoxsTExN3D9ZN9mzvYO+lDriISup2d+iuYVBB5rjre5nBC+imp4QnlA+YYLh5AtS3+AlAHxDKB6wwXYsPAfkbIfqAUD7gGi9pBqgv3wL0AaF8wAlm9eLnK0cfEMoHLDDKH//tFqAPCOUD3jCWZgfk6ANC+YALvErdWrabgD4glA+4wzytvh8D9UUfEMoHzFGl/wLbLUAfEMoHVMBA6nwIrN/pAyL5gDMAT5Ja+x/6gEg+4BnAzD//zQFAHxDIBywAjCW39jf6gEA+4ALAUjw/CegDAvmAKwC9ZvX9pg8I5AN6qBu+fwDQB8TxARNsmm2PgBR9QBwfsMCmG1Nf+LT09AFxfEAf2BkCfBPQB8TxAd+QGuruI4A+IIwPWCE3ExPdrj19QBgfsEDu1WQn+oAwPuAOuZ6JtYtPHxDGB/TgPamIikcfEMUHPKNpJCrbPUAfEMUHvKFpaWLtAUAfEMQH3GPbUK09AugDYviAFdpGYqrixwB9QAwfcI62B1MT80GAPiCED/j7gJ2mZtocAPQBIXzANXa7UbX6JfUl9AEhfEAfu1U/1NS/EFb6gAA+4GeFd72opqeAiQl9QAAf8Avve7W0AUTrmz4ggA/4gw8NTdU0HQD0AeX7gBU+dmOmfgl9QPE+oI9PDVXzY0CFPqB0HzDB58am6WWi9AGl+4BLfO50YKq2uZU+oHAfMDnFnsaqllff6APK9gEX2NfjwPIWUKEPKNoHnD1ibyNV3wL0AUX7gHPsrxqor7/SBxTsA84qHGhsaQpUM/qAgn3AJQ721EwBSh9QrA94xuGW1owB9AGl+oB/9/iimfoRQB9Qqg9Y4KuqgQ8BRh9Qpg84OAG2NCgPgvQBZfqAPo40tXz80wcU6QOucaz5d58A6AMK9AG3cxxtnNdf6QMK9AG/0aGpWnrRBxTnA07Qpd4gHwH0AaX5gEkPnVqmMcCUPqAsH3B7hY75z4L0AWX5gHN0bqop+oCSfMAJvK5jgBp9QEE+oB0Auo8BSh/wv517WW0QCKAwfMb7BVFyEQkoAZEQEnERAsmmFAqFQlehD9SHKOR1G4vQdbzOyPlf4Wxmho+ZjQ/YrvFU6d/29AFz8QHvOp6owSGP6ANm4gOWeLbmKkAfMAsfUKBFUb08fcAcfICLVp3r2ekD1PcBJtpl1c8B9AHK+4CNhZaJ6rE7fYDiPiAXaJ2oeQh9gNI+YCPQIetxDqAPUNkHmBa6Fd1/6APU9QEuOtW8B9AHqOoDCnSsMWL0AUr6gI8leikt6QNU9AFbHT2VGfQB6vmAYI3e0kL6ANV8gKmhz7ySPkApH7BAz2UGfYA6PiBYo/e0kD5AFR9gahgir6QPUMEH3F4xUHFIHyC/DzjFGK6U/wdI7gMCHYMmojt9gLw+4OYKDF1W0QfI6gPyPcbIN+gDZPQByQojJTyDPkA2HxAsBMbr6Bv0ATL5gGB5xLhZvkMfIIsPsFcWJih16ANk8AG2jqm6nK/0AdP6gOTlDVMm0vBOHzCVD/g86QKTd/Ac+oApfIC9OECSMq/6pg8Y1QfkxR5SpV0ihz5gHB9guzsNMqalkUMfMKwPsF1dzvHRpGV+VBn0Af37gCR3V2u5x/9PxBffi86h4xjGtaQPaOcDvpIksO2T6RarXSwwSL9nIElDxCQT4AAAAABJRU5ErkJggg==
	"></img>
	`,label:"ImToken"},Hj={imgBig:`
		<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><defs><style>.cls-1{fill:#3268ff;}.cls-2{fill:#0019ff;}</style></defs><path d="M701.4,492.41c0,31.75-25.64,57.55-57.18,57.55s-57-25.8-57-57.55,25.64-57.55,57-57.55A57.32,57.32,0,0,1,701.4,492.41Z"/><path class="cls-1" d="M770.47,246.59l-20.67,0c-.18,0-.33,0-.49,0h-3.63l-1.93,3.06c-.45.61-.87,1.27-1.3,2-2.33,3.74-5.7,9.11-9.73,15.54L731,270h0C707.75,307,665.52,374.23,662.11,379.64a114.27,114.27,0,0,1,92.36,82.85c1.22-1.91,2.5-3.82,3.68-5.74,2.17-3.62,4.61-7.25,6.92-11,9.46-14.67,99.06-156.55,120.76-191.07h0l5.06-8.06Z"/><path class="cls-2" d="M916.74,737.7c-23,27.54-49,47-82,54.79-45.37,10.72-88.45,5.8-127.2-22.32-28.08-20.44-45.22-49.14-57.75-81-.43-1-.87-2-1.3-3.34-.15-.29-.15-.59-.29-.87-3.15-8.5-8.71-23.87-14.15-40.42l-13.49,13.32v0c-36.13,36-74.8,68.88-118.85,94.53-39.47,23-82.25,38-127.63,43.63-54.59,6.81-108.45,4.63-159.16-20.3-65.11-31.89-101.69-84.21-107-157.28-4.19-56.68,10.8-109.31,36.86-158.74C185.45,382.39,243.49,320.92,317.38,275c46.39-28.85,97.24-44.79,151.82-49.43,42.78-3.62,82.68,4.2,118.4,28.41,30.25,20.58,51.14,49,66.55,81.9,4.16,9,7.9,18.17,12.1,28l2.36,5.45-6.49,10.34c.74.11,1.46.23,2.2.36v0a114.93,114.93,0,0,0-20-1.78,113.77,113.77,0,0,0-77.78,30.62c-7.31-26-15.92-51.35-29.61-74.91-9.64-16.67-21.89-31.31-39.31-40.29-22.76-11.74-46.1-9.57-69.29-2.18-32.85,10.58-58.05,32.47-79.94,58-48.4,56.4-84.84,119.89-105.58,191.66-11.24,38.7-15.28,78.42-7.21,118.57,9.22,45.24,40,72.34,83,72.2a116.8,116.8,0,0,0,43.94-8.41C399.34,709,430,685.08,458.84,658.25c33.88-31.5,62.63-67,89.26-104.38a114.13,114.13,0,0,0,181.32,14.58c7.52,19,15.32,48.14,22.69,70.81v.14c2,6.38,4,12.18,6,17.11,8.36,20.87,17.15,41.47,33.86,57l3.45,3c21.74,18.12,47.82,22.91,75.06,23.78C885.2,741,899.88,739,916.74,737.7Z"/></svg>
	`,label:"AlphaWallet"},Vj={imgBig:`
		<?xml version="1.0" encoding="UTF-8"?><svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150"><defs><style>.b{fill:none;}.c{fill:#4360df;fill-rule:evenodd;}</style></defs><path class="b" d="M0,0H150V150H0V0Z"/><path class="c" d="M75.01,11.35C39.32,11.35,10.42,40.28,10.42,76s28.91,64.65,64.59,64.65,64.56-28.93,64.56-64.65S110.67,11.35,75.01,11.35Zm-8.73,92.32c-8.25,.46-16.49-4.31-16.92-12.04-.46-7.61,5.75-12.7,15.98-13.25,9.05-.46,16.41,2.15,25.4,.06-1.09,13.07-11,24.51-24.45,25.23Zm10.89-30.51c-4.86-.57-11.06-.92-16.35,.37,1.18-14.25,11.61-26.72,25.83-27.53,8.71-.46,17.41,4.74,17.87,13.16,.86,13.45-15.72,15.92-27.35,13.99Z"/></svg>
	`,label:"Status Wallet"},jj={imgBig:`
	<svg width="65" height="64" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
	<g clip-path="url(#clip0)">
	<path d="M32.3999 64C50.073 64 64.3999 49.6731 64.3999 32C64.3999 14.3269 50.073 0 32.3999 0C14.7268 0 0.399902 14.3269 0.399902 32C0.399902 49.6731 14.7268 64 32.3999 64Z" fill="#3375BB"/>
	<path d="M32.6267 14C38.9508 19.2816 46.2029 18.9559 48.275 18.9559C47.8217 48.9937 44.3683 43.0373 32.6267 51.46C20.8851 43.0373 17.4533 48.9937 17 18.9559C19.0505 18.9559 26.3026 19.2816 32.6267 14Z" stroke="white" stroke-width="4" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
	</g>
	<defs>
	<clipPath id="clip0">
	<rect width="64" height="64" fill="white" transform="translate(0.399902)"/>
	</clipPath>
	</defs>
	</svg>
	`,label:"Trust Wallet"},Gj={imgBig:`
	<svg class="svg-icon" style="width: 64px; height: 64px; vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M511.996 81.86C274.448 81.86 81.86 274.444 81.86 512s192.588 430.144 430.136 430.144c237.566 0 430.15-192.588 430.15-430.144S749.562 81.86 511.996 81.86z" fill="#EDF3FC" /><path d="M511.996 2C230.782 2 2 230.786 2 512s228.782 510 509.996 510C793.214 1022 1022 793.214 1022 512S793.214 2 511.996 2z m0 1003.662C239.792 1005.662 18.338 784.204 18.338 512S239.792 18.338 511.996 18.338c272.208 0 493.666 221.458 493.666 493.662S784.204 1005.662 511.996 1005.662z" fill="#EDF3FC" /><path d="M354.6 290.83a57.74 57.74 0 0 1-41.964-41.96l-0.884-3.526-0.88 3.526a57.754 57.754 0 0 1-41.964 41.96l-3.53 0.888 3.53 0.884a57.748 57.748 0 0 1 41.964 41.96l0.88 3.526 0.884-3.526a57.736 57.736 0 0 1 41.964-41.96l3.53-0.884-3.53-0.888zM736.15 311.786a43.428 43.428 0 0 1-31.586-31.58l-0.662-2.654-0.672 2.654a43.42 43.42 0 0 1-31.582 31.58l-2.646 0.666 2.646 0.662a43.416 43.416 0 0 1 31.582 31.586l0.672 2.646 0.662-2.646a43.428 43.428 0 0 1 31.586-31.586l2.646-0.662-2.646-0.666zM606.77 186.066a68.648 68.648 0 0 1-49.896-49.892l-1.042-4.19-1.062 4.19a68.614 68.614 0 0 1-49.882 49.892l-4.184 1.052 4.184 1.05a68.586 68.586 0 0 1 49.882 49.89l1.062 4.188 1.042-4.188a68.62 68.62 0 0 1 49.896-49.89l4.194-1.05-4.194-1.052z" fill="#5D8EF9" /><path d="M343.612 415.036c0-11.48 1.216-22.676 3.494-33.48h-36.042c-27.372 0-49.622 21.858-50.282 49.058 0.3 2.17 3.184 18.5 23.052 28.882 13.252 6.93 34.736 6.85 44.884 6.85h23.262a161.25 161.25 0 0 1-8.368-51.31zM691.51 381.558h-28.202a162.244 162.244 0 0 1 3.492 33.48 161.3 161.3 0 0 1-8.368 51.314h54.508a50.072 50.072 0 0 1 28.868 9.114v-43.61c0-27.776-22.516-50.298-50.298-50.298z" fill="#6857E5" /><path d="M505.208 253.438c-89.248 0-161.596 72.35-161.596 161.598a161.3 161.3 0 0 0 8.368 51.314h306.454a161.348 161.348 0 0 0 8.368-51.314c-0.002-89.248-72.348-161.598-161.594-161.598z" fill="#5D8EF9" /><path d="M505.208 293.74c-66.992 0-121.302 54.304-121.302 121.296a120.8 120.8 0 0 0 11.386 51.314H615.12a120.794 120.794 0 0 0 11.384-51.314c0-66.992-54.304-121.296-121.296-121.296z" fill="#8AC9F9" /><path d="M505.208 333.488l-49.746 75.89 49.746 36.672 49.742-36.664z" fill="#FFFFFF" /><path d="M505.208 458.548l-49.746-39.182 30.272 46.984h38.944l30.272-46.984z" fill="#FFFFFF" /><path d="M712.942 466.35H328.716c-10.15 0-31.632 0.08-44.884-6.85-21.316-11.14-23.084-29.13-23.084-29.13V762.02c0 27.782 22.526 50.304 50.312 50.304h401.88c27.788 0 50.3-22.522 50.3-50.304V516.642c0.002-27.782-22.512-50.292-50.298-50.292z" fill="#8C7BFD" /><path d="M627.34 585.212c-12.446 0-22.542 10.092-22.542 22.542v62.03c0 12.454 10.098 22.544 22.542 22.544h135.902v-107.116H627.34z" fill="#8AC9F9" /><path d="M648.506 616.402c-12.354 0-22.37 10.012-22.37 22.37 0 12.354 10.016 22.374 22.37 22.374 12.354 0 22.366-10.02 22.366-22.374-0.002-12.358-10.012-22.37-22.366-22.37z" fill="#FFE37B" /></svg>
	`,label:"Embedded Wallet"},zj={imgBig:`	
		<?xml version="1.0" encoding="UTF-8"?>
		<svg width="218px" height="256px" viewBox="0 0 218 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<!-- Generator: Sketch 51.2 (57519) - http://www.bohemiancoding.com/sketch -->
			<title>build-icons/Stable Copy 3</title>
			<desc>Created with Sketch.</desc>
			<defs>
				<linearGradient x1="0%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-1">
					<stop stop-color="#FF5500" offset="0%"></stop>
					<stop stop-color="#FF5500" offset="40.9877232%"></stop>
					<stop stop-color="#FF2000" offset="58.1981215%"></stop>
					<stop stop-color="#FF2000" offset="100%"></stop>
				</linearGradient>
				<linearGradient x1="2.1484375%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-2">
					<stop stop-color="#FF452A" offset="0%"></stop>
					<stop stop-color="#FF2000" offset="100%"></stop>
				</linearGradient>
				<path d="M170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C18.4961088,29.1487047 44.6081088,26.7886026 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 C172.992109,26.7886026 199.104109,29.1487047 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387" id="path-3"></path>
			</defs>
			<g id="starting-collection" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
				<g id="Build-Icons" transform="translate(-70.000000, -350.000000)">
					<g id="build-icons/Stable" transform="translate(50.000000, 350.000000)">
						<g id="Logo" transform="translate(20.114286, 0.000000)">
							<path d="M209.984109,61.2848749 L215.968109,46.5784919 C215.968109,46.5784919 208.352109,38.4082791 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C9.2481088,38.4082791 1.6321088,46.5784919 1.6321088,46.5784919 L7.6161088,61.2848749 L0.0001088,83.0721089 C0.0001088,83.0721089 22.3993088,168.017811 25.0241088,178.391258 C30.1921088,198.81679 33.7281088,206.714662 48.4161088,217.063598 C63.1041088,227.412534 89.7601088,245.387003 94.1121088,248.110407 C98.4641088,250.833811 103.904109,255.472858 108.800109,255.472858 C113.696109,255.472858 119.136109,250.833811 123.488109,248.110407 C127.840109,245.387003 154.496109,227.412534 169.184109,217.063598 C183.872109,206.714662 187.408109,198.81679 192.576109,178.391258 C195.200365,168.017811 217.600109,83.0721089 217.600109,83.0721089 L209.984109,61.2848749 Z" id="Head" fill="url(#linearGradient-1)"></path>
							<path d="M164.016109,41.4040238 C164.016109,41.4040238 192.704493,76.1274281 192.704493,83.5487047 C192.704493,90.9699813 189.095597,92.9286536 185.467117,96.7866281 C181.838637,100.644603 165.991373,117.49376 163.956269,119.657232 C161.921165,121.821249 157.684493,125.101862 160.176557,131.006747 C162.668621,136.911632 166.344973,144.425505 162.256813,152.046679 C158.168109,159.667854 151.164109,164.754628 146.676109,163.913641 C142.188109,163.072109 131.648109,157.557215 127.772109,155.038066 C123.896109,152.518917 111.611501,142.374781 111.611501,138.493386 C111.611501,134.612534 124.310093,127.643888 126.655821,126.0605 C129.002637,124.477658 139.703117,118.349454 139.922349,115.944143 C140.141037,113.538288 140.057805,112.832926 136.899885,106.889369 C133.741965,100.945266 128.054989,93.0136238 129.001549,87.7362111 C129.948109,82.459343 139.119949,79.7152409 145.665357,77.2402111 C152.209677,74.765726 164.811437,70.0918196 166.385229,69.3652153 C167.960109,68.6380664 167.553197,67.945777 162.783949,67.4931472 C158.015789,67.0405174 144.483245,65.2419813 138.382285,66.9446536 C132.281325,68.647326 121.858285,71.2378281 121.013997,72.6115132 C120.169709,73.9851983 119.424973,74.0314962 120.292109,78.7702196 C121.158701,83.508943 125.622765,106.24719 126.055789,110.285998 C126.489357,114.324807 127.336909,116.994832 122.987629,117.990509 C118.637805,118.986186 111.316109,120.715003 108.800109,120.715003 C106.284109,120.715003 98.9618688,118.986186 94.6125888,117.990509 C90.2627648,116.994832 91.1103168,114.324807 91.5438848,110.285998 C91.9774528,106.24719 96.4409728,83.508943 97.3081088,78.7702196 C98.1747008,74.0314962 97.4299648,73.9851983 96.5862208,72.6115132 C95.7419328,71.2378281 85.3183488,68.647326 79.2173888,66.9446536 C73.1164288,65.2419813 59.5844288,67.0405174 54.8157248,67.4931472 C50.0470208,67.945777 49.6401088,68.6380664 51.2144448,69.3652153 C52.7887808,70.0918196 65.3905408,74.765726 71.9348608,77.2402111 C78.4797248,79.7152409 87.6521088,82.459343 88.5986688,87.7362111 C89.5452288,93.0136238 83.8577088,100.945266 80.7003328,106.889369 C77.5424128,112.832926 77.4586368,113.538288 77.6778688,115.944143 C77.8965568,118.349454 88.5975808,124.477658 90.9438528,126.0605 C93.2901248,127.643888 105.988173,134.612534 105.988173,138.493386 C105.988173,142.374781 93.7041088,152.518917 89.8281088,155.038066 C85.9521088,157.557215 75.4121088,163.072109 70.9241088,163.913641 C66.4361088,164.754628 59.4321088,159.667854 55.3434048,152.046679 C51.2552448,144.425505 54.9315968,136.911632 57.4231168,131.006747 C59.9151808,125.101862 55.6790528,121.821249 53.6434048,119.657232 C51.6088448,117.49376 35.7610368,100.644603 32.1325568,96.7866281 C28.5040768,92.9286536 24.8957248,90.9699813 24.8957248,83.5487047 C24.8957248,76.1274281 53.5841088,41.4040238 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 Z M142.509504,174.227935 C144.28512,175.341263 143.202016,177.439918 141.584704,178.584837 C139.966848,179.729757 118.228064,196.584361 116.118432,198.447169 C114.008256,200.310523 110.908,203.387425 108.8,203.387425 C106.692,203.387425 103.5912,200.310523 101.481568,198.447169 C99.371392,196.584361 77.633152,179.729757 76.015296,178.584837 C74.39744,177.439918 73.31488,175.341263 75.090496,174.227935 C76.866656,173.115152 82.422528,170.306233 90.08912,166.333876 C97.754624,162.362063 107.308896,158.985042 108.8,158.985042 C110.291104,158.985042 119.844832,162.362063 127.511424,166.333876 C135.177472,170.306233 140.733344,173.115152 142.509504,174.227935 Z" id="Face" fill="#FFFFFF"></path>
							<mask id="mask-4" fill="white">
								<use xlink:href="#path-3"></use>
							</mask>
							<use id="Top-Head" fill="url(#linearGradient-2)" xlink:href="#path-3"></use>
						</g>
					</g>
				</g>
			</g>
		</svg>
	`,label:"Brave"},qj={imgBig:`
		<img src='data:image/webp;base64,UklGRtQGAABXRUJQVlA4TMgGAAAvP8APENVQwv7/kCP91rZx4s22bdsn27Ztx93h2LZt27Y9VZup6j3trQa9yX/U3ziD2Ol8gx1bjm1ry57s36q4zS0rrye4dk6ZEiqH0m0EVvEzAHeHyt1VgiRJctskbmCBboT8/5eekCoKAAFGtr1Fs5pxy/gFJ3+C2uqybXR7Szz7ku27NwHWv9dCgzAibAtXwmvhjfDWlbSgKDvX7XBCqjAjwKcohXpojTZoi7ykiLTYIkCYSXYoYRQfoRdmYA6Xh2ONAwn3T8YA0EB36hKHEZ4/Cho8P8xBhMXrQMMXuxxCqMBYGLcMmY4g3AsCTdyQ6ABCHqYhNJMwES6Xa2VoIiHkmyQ0CV8ADIHeSPjgFOBvC5ak67kBLBOaTViFeliZHgAMguZP4A00xmBMgMvlcs2NypyHLZq+QDGMwso0pBon/EhjV0wFffEoSD6CvTAMDPWmbatI3osQ0BnHNOGbYUIqIsciyUU3SA/sCs7xLognMRB0JS2bDAjxRgmV4BBEkP0gYBGGYs7yUUT0BhmRTAjlRgm54Dj0B5l2DWjHK6CBi+fzVtQBmZBFCEVGWcIHG0gSlcBL0BBGLPqPlQGSTBG+W4YLOXgMrvLAKhLu6fgSV6EsQrMtNjPJDfIhoBxczwBCiXGWECoMCoeoDdKJSfgQABqB852kcz7jAWxaCSdZGxAOhREh0jJVCEMkORlIOhwAtswAOoPcDG4BcDiSkDsDjMQKy2yMAkmMgQcAdAJLAvVRCMUCAPGLQbIIlnndoekGLs9sB5I1cQ2KkkluyFzODM3/DiBcVgfJl1ECNHDzNpLOWPOEkbdAshFgBOJJJuSaF40pIIly0BmNLmiFBQu36iwGyXWINs8SHhYDyV5Ac3AMAjofmQK6y5Yu5gosJ5nithxQqME4kGwPPNdFcP7w9PGOm8/KCIkRHGNj+KaMQjzXRRBGMgtpjmAJ87eAZPqpo/8cf+Pw+/pHcKqAEv417C2UUnkITrWgKDed5Eph3nJIoVHwODgAeOzgJdy/hlLKFsIvxkpLKZUXHgE3E7HcEYRg4RyuB3AD8MKeISSWUsqewmOxAjc8qpwfqlwYAjc//lp6+eSyl1AqJNYmZG2pDAjnS0wT0oT/r2AqSNx96hQSSyllT5Ew8ceEJCf8mDS7cVhlC6GUKxKkc7HwX0gzSQjHbyDZGAgoobTepbo+X2nIsd8n9oWwhVAKgkySMVhojvDoPZDkwXO/vbl8C8yhk+ZVa9q/iQ4n/5n4prKFUqvmhZNk1ApThIHdQZK9OiCghFJh9hRKKd9UtYaX9g83re/thn+ckeTAtwuPxZdSECwgyd2QYwbaQRPc4crzl6BU9hZhQcvhXWqDLYRSKxMS/lzxqn35RJJljg5+sVTi8kJNOwhMEPqvArXP9z8v7r6tUj45Oj7dcEPAurCFUFrP9mpy9UCyy4uNdym1KvP5wUfDWKHfOOGuGnTOHvnn8y2P4FSrvEsNfr8g6VXLXsKewzeVZ6u/lsr9/aYfM/5BDvs027Aqb2OEzrp84wRDoLPLzB93nL3cc3J47ODw/aYY/2VGTv4z+WvptSit2bXDhB8T6m76YWM9fmBYcPu5y67Tf+gkw7BoUFsPeLlHQJf3+yDo/4Skx2LZY9hz+KZaVe700PfVQlPyL3in/wnoft7oflADGiLaKKFKJxtdQXIU0ARk46sHr/qyt1Aq3auWLUTbh7sZf2jT+WAEZoDsCXSDjtMooVTnVfiCnFsZtwKngWS5czePxZdProR1yhYixhZepzxZ4HpUxHiQwXgSOkKpUUISJoMkOoL0w0WogXHAAJDs+3rV5Nqhxa1dwjrlX+O3dQ+MRS1cjd8xA+wOkMyFkGSUJfxtB5KXoyGobQX4daDuWu9SKjDHU3svMk0LUNsMx4FkOwh/LMOFsZdBMgRPg2RdAF8DU39MdBi4I2whglPs++HyZQcBqoPk67CB5LZE44QYdAA5HMglY3uCQwG/+Gr7YDP1N5q+L1fepYJTYQDYG8NATgMGg4zGOuMsoRV9QF6IyqC2RgfxS9B8+eT6a+lV8vCj1pVL7eGp5JGHVy17i6BURz0eKnWgtiaOBLkGQqtlpjAAP0xFZ2ATyVHAh7uGgBJK2UL4prJsIZTCJ9tvguEgORJoB2c2coQAc4US4QrbjgF+QnX8DsB7ZQSnCChhb6GLdO7wdyH4Bc5fgf2wDUUFlulCptAtTAo7wplwFCPUC2u4+8zpq203/xrBqRIT8/xrFGRgs1AjjC8KL4wRuhMsRxayhAng6Eeryy9tktYBmXHWP1XIFVqErpSIDOvfbQ=='/>
	`,label:"MEW"},Kj=function(r){Mj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.client.registerUiUpdateCallback(2,void 0)},e.prototype.render=function(){var t=this,n=this.client.hasIssuerForBlockchain("evm"),o=this.client.safeConnectAvailable()?`<button class="wallet-button-tn" data-wallet="SafeConnect" aria-label="Safe connect wallet button">
			  `.concat(Dj,`
			  <p>Safe Connect</p>
			</button>`):"",i=jh(),a=Gj;i.brave&&(a=zj),i.anyMetamask&&(a=Rj),i.mew&&(a=qj),i.trust&&(a=jj),i.status&&(a=Vj),i.alphaWallet&&(a=Hj),i.imToken&&(a=Fj);var s=typeof window.ethereum<"u"&&n?'<button class="wallet-button-tn" data-walletlabel="'.concat(a.label,'" data-wallet="MetaMask" aria-label="').concat(a.label,` wallet button">
                `).concat(a.imgBig,`
                <p>`).concat(a.label,`</p>
            </button>`):"",c=n?`<button class="wallet-button-tn" data-wallet="WalletConnect" aria-label="Wallet Connect button">
				`.concat(Oj,`
				<p>Wallet Connect</p>
			</button>`):"",f=n?`<button class="wallet-button-tn" data-wallet="WalletConnectV2" aria-label="Wallet Connect V2 button">
				`.concat(Nj,`
				<p>Wallet Connect V2</p>
			</button>`):"",u=n?`<button class="wallet-button-tn" data-wallet="Torus" aria-label="Torus wallet button">
				`.concat(Lj,`
				<p>Torus</p>
			</button>`):"",h=this.client.hasIssuerForBlockchain("solana")?`<button class="wallet-button-tn" data-wallet="Phantom">
                `.concat(Bj,`
                <p>Phantom</p>
            </button>`):"",w=this.client.hasIssuerForBlockchain("flow")?`
			<button class="wallet-button-tn" data-wallet="Flow" aria-label="Safe connect wallet button">
				`.concat(Uj,`
				<p>Flow</p>
			</button>
		`):"";this.viewContainer.innerHTML=`
            <div class="inner-content-tn scroll-tn">
              <div class="wallet-selection-view-tn">
                <div class="issuer-view-tn">
                  <div class="brand-tn"></div>
                  <div class="headline-container-tn">
                    <p style="text-align: center;">Select Wallet</p>
                  </div>
                  <div class="wallet-button-container-tn">
                  	`.concat(o,`
                    `).concat(s,`
                    `).concat(c,`
                    `).concat(f,`
                    `).concat(u,`
                    `).concat(h,`
				    `).concat(w,`
                  </div>
                </div>
              </div>
            </div>
        `),this.viewContainer.querySelectorAll(".wallet-button-tn").forEach(function(T){T.addEventListener("click",t.connectWallet.bind(t))})},e.prototype.connectWallet=function(t){var n,o,i,a;return Ij(this,void 0,void 0,function(){var s,c,f;return Pj(this,function(u){switch(u.label){case 0:s=t.currentTarget.dataset.wallet,c=t.currentTarget.dataset.walletlabel,c=c??s,qe(2,"Connect wallet: "+s),this.ui.showLoaderDelayed(["<h4>Connecting to "+c+"...</h4>","<small>You may need to unlock your wallet to continue.</small>"],500),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.client.negotiatorConnectToWallet(s)];case 2:return u.sent(),this.ui.dismissLoader(),!((o=(n=this.params)===null||n===void 0?void 0:n.data)===null||o===void 0)&&o.connectCallback?(a=(i=this.params)===null||i===void 0?void 0:i.data)===null||a===void 0||a.connectCallback():(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main",{viewName:"main"},{viewTransition:"slide-in-right"})),[3,4];case 3:return f=u.sent(),this.ui.showError(f),[2];case 4:return[2]}})})},e}(zh),fh=globalThis&&globalThis.__assign||function(){return fh=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},fh.apply(this,arguments)},bg=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},mg=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},iw=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return i},$j=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},Wj=function(){function r(e,t){this.isStartView=!0,this.loadTimer=null,this.options=e,this.client=t}return r.prototype.initialize=function(){var e,t;return bg(this,void 0,void 0,function(){var n,o=this;return mg(this,function(i){switch(i.label){case 0:return this.popupContainer=document.querySelector(this.options.containerElement),this.popupContainer||(this.popupContainer=document.createElement("div"),this.popupContainer.className="overlay-tn",document.body.appendChild(this.popupContainer)),this.initializeUIType(),this.setTheme((t=(e=this.options)===null||e===void 0?void 0:e.theme)!==null&&t!==void 0?t:"light"),this.transitionContainer=this.popupContainer.querySelector(".transition-wrapper-tn"),this.viewContainer=this.popupContainer.querySelector(".view-content-tn"),this.loadContainer=this.popupContainer.querySelector(".load-container-tn"),this.retryButton=this.loadContainer.querySelector(".dismiss-error-tn"),this.retryButton.addEventListener("click",function(){o.dismissLoader(),o.retryCallback&&(o.retryCallback(),o.retryCallback=void 0,o.retryButton.innerText="Dismiss")}),n=this.updateUI,[4,this.getStartScreen()];case 1:return n.apply(this,[i.sent(),{viewName:"start"}]),[2]}})})},r.prototype.getViewFactory=function(e){var t,n,o,i,a,s={};return!((t=this.options.viewOverrides)===null||t===void 0)&&t[e]&&(!((n=this.options.viewOverrides)===null||n===void 0)&&n[e].options&&(s=(o=this.options.viewOverrides)===null||o===void 0?void 0:o[e].options),!((i=this.options.viewOverrides)===null||i===void 0)&&i[e].component)?[(a=this.options.viewOverrides)===null||a===void 0?void 0:a[e].component,s]:[this.getDefaultView(e),s]},r.prototype.getDefaultView=function(e){switch(e){case"start":return tD;case"main":return Cj;case"wallet":return Kj}},r.prototype.getStartScreen=function(){return bg(this,void 0,void 0,function(){return mg(this,function(e){switch(e.label){case 0:return this.options.alwaysShowStartScreen||!localStorage.getItem(w5.LOCAL_STORAGE_KEY)||!this.client.getTokenStore().getTotalTokenCount()?[2,"start"]:[4,this.canSkipWalletSelection()];case 1:return e.sent()?(this.client.enrichTokenLookupDataOnChainTokens(),[2,"main"]):[2,"wallet"]}})})},r.prototype.canSkipWalletSelection=function(){return bg(this,void 0,void 0,function(){var e;return mg(this,function(t){switch(t.label){case 0:return this.client.getTokenStore().hasOnChainTokens()?[4,this.client.getWalletProvider()]:[3,3];case 1:return e=t.sent(),[4,e.loadConnections()];case 2:return t.sent(),[2,e.getConnectedWalletData().length>0];case 3:return[2,!0]}})})},r.prototype.getUIContainer=function(){return r.UI_CONTAINER_HTML},r.prototype.getFabButton=function(){return r.FAB_BUTTON_HTML},r.prototype.initializeUIType=function(){var e=this;switch(this.popupContainer.classList.add(this.options.uiType+"-tn"),this.options.uiType){case"popup":this.options.position?this.popupContainer.classList.add(this.options.position):this.popupContainer.classList.add("bottom-right"),this.popupContainer.innerHTML=this.getUIContainer()+this.getFabButton(),this.popupContainer.querySelector(".overlay-fab-button-tn").addEventListener("click",this.togglePopup.bind(this)),this.popupContainer.addEventListener("click",function(t){t.stopPropagation()}),document.addEventListener("click",function(){e.closeOverlay()});break;case"inline":this.popupContainer.innerHTML=this.getUIContainer();break}},r.prototype.closeOverlay=function(){this.options.uiType!=="inline"&&(this.popupContainer.classList.add("close"),this.popupContainer.classList.remove("open"),this.client.eventSender("closed-overlay",null))},r.prototype.openOverlay=function(){var e=this;this.options.uiType!=="inline"&&setTimeout(function(){e.client.eventSender("opened-overlay",null),e.popupContainer.classList.add("open"),e.popupContainer.classList.remove("close")},10)},r.prototype.togglePopup=function(){Bs(this.popupContainer,"No overlay element found.");var e=!this.popupContainer.classList.contains("open");e?this.openOverlay():this.closeOverlay()},r.prototype.updateUI=function(e,t,n){var o=this,i={};if(typeof e=="string"){this.isStartView=e==="start";var a=iw(this.getViewFactory(e),2),s=a[0],c=a[1];e=s,i=c}else this.isStartView=!1;if(n&&(i=fh(fh({},i),n)),!this.viewContainer){qe(3,"Element .view-content-tn not found: popup not initialized");return}var f,u,h=["slide-in-left","slide-in-right","slide-in-top","slide-in-bottom"];if(i?.viewTransition&&h.indexOf(i?.viewTransition)>-1){f=i?.viewTransition+"-tn",u=this.viewContainer;var w=document.createElement("div");this.transitionContainer.classList.add(f),w.classList.add("view-content-tn"),f==="slide-in-left-tn"||f==="slide-in-top-tn"?this.transitionContainer.prepend(w):this.transitionContainer.appendChild(w),this.viewContainer=w}this.currentView=new e(this.client,this,this.viewContainer,{options:this.options,viewOptions:i,data:t});var T=typeof e=="string"?e:"";!T&&t?.viewName&&(T=t.viewName),this.client.eventSender("view-changed",{viewName:T,data:t}),this.currentView.render(),f&&(setTimeout(function(){u.remove(),o.transitionContainer.classList.remove("slide-in",f)},300),this.transitionContainer.classList.add("slide-in"))},r.prototype.viewIsNotStart=function(){return!this.isStartView},r.prototype.showError=function(e,t){if(t===void 0&&(t=!0),this.cancelDelayedLoader(),typeof e!="string"){if(e.name===zi.USER_ABORT)return this.dismissLoader();e=e.message?e.message:e.toString()}else if(e===zi.USER_ABORT)return this.dismissLoader();var n=this.loadContainer.querySelector(".loader-tn");if(n.style.display="none",this.retryButton.style.display="block",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e,this.loadContainer.style.display="flex",!t){var o=this.loadContainer.querySelector(".dismiss-error-tn");o.style.display="none"}},r.prototype.setErrorRetryCallback=function(e){this.retryCallback=e,this.retryButton.innerText="Retry"},r.prototype.showLoaderDelayed=function(e,t,n){var o=this;n===void 0&&(n=!1),this.loadTimer&&clearTimeout(this.loadTimer),this.loadTimer=setTimeout(function(){o.showLoader.apply(o,$j([],iw(e),!1)),n&&o.openOverlay()},t)},r.prototype.cancelDelayedLoader=function(){this.loadTimer&&(clearTimeout(this.loadTimer),this.loadTimer=null)},r.prototype.showLoader=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.cancelDelayedLoader();var n=this.loadContainer.querySelector(".loader-tn");n.style.display="block";var o=this.loadContainer.querySelector(".dismiss-error-tn");o.style.display="none",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e.join(`
`),this.loadContainer.style.display="flex"},r.prototype.dismissLoader=function(){this.cancelDelayedLoader(),this.loadContainer.style.display="none"},r.prototype.setTheme=function(e){this.popupContainer&&(this.popupContainer.classList.remove(this.options.theme+"-tn"),e=this.validateTheme(e),this.popupContainer.classList.add(e+"-tn"),this.options.theme=e)},r.prototype.validateTheme=function(e){return e&&e==="dark"?e:"light"},r.prototype.switchTheme=function(e){this.setTheme(e)},r.UI_CONTAINER_HTML=`
		<div class="overlay-content-tn" aria-label="Token negotiator overlay">
			<div class="load-container-tn" style="display: none;">
				<div class="lds-ellipsis loader-tn"><div></div><div></div><div></div><div></div></div>
				<div class="loader-msg-tn"></div>
				<button class="dismiss-error-tn btn-tn">Dismiss</button>
			</div>
			<div class="transition-wrapper-tn">
				<div class="view-content-tn"></div>
			</div>
		</div>
	`,r.FAB_BUTTON_HTML=`
		<button aria-label="token negotiator toggle" class="overlay-fab-button-tn">
		  <div class="overlay-fab-button-tn-img-container"></div>
		</button>
	`,r}(),Qj=["evm","polygon","optimism","bsc","avalanche","fantom","goerli","mumbai","arbitrum"],Jj=function(r){if(!r)return!0;var e=jh();qe(2,"unSupportedUserAgents: ",r),qe(2,"browserData: ",e);var t=Object.keys(r);return!t.some(function(n){return r[n]&&e[n]})},sp=function(r){if(r===""){var e="You did not specify 'blockchain', the default value is evm. Check our github to see supported values.";return Li(e,"warning",null,null),"evm"}if(r==="solana")return"solana";if(r==="evm")return"evm";if(r==="flow")return"flow";if(Qj.includes(r.toLowerCase()))return Li("We recommend you to set `blockchain` as 'evm'.","warning",null,null),"evm";var t="You set unsupported `blockchain` in the constructor. Check our github to see supported values.";return Li(t,"error",null,null),r},Yj=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},Zj=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ps="https://api.token-discovery.tokenscript.org",Xj=function(r,e){return Yj(void 0,void 0,void 0,function(){var t;return Zj(this,function(n){return"blockchain"in r&&r.blockchain==="solana"?t=tG(r,e):"blockchain"in r&&r.blockchain==="flow"?t=rG(r):t=eG(r,e),[2,Vh(t,!0)]})})},eG=function(r,e){var t=r.contract,n=r.chain,o=r.openSeaSlug,i="".concat(ps,"/get-token-collection?smartContract=").concat(t,"&chain=").concat(n,"&blockchain=evm");return o&&(i+="&openSeaSlug=".concat(o)),e&&(i+="&ipfsBaseUrl=".concat(e)),i},tG=function(r,e){var t=r.collectionAddress,n=r.chain,o="".concat(ps,"/get-token-collection?collectionAddress=").concat(t,"&chain=").concat(n,"&blockchain=solana");return e&&(o+="&ipfsBaseUrl=".concat(e)),o},rG=function(r){var e=r.contract,t=r.chain,n="".concat(ps,"/get-token-collection?smartContract=").concat(e,"&chain=").concat(t,"&blockchain=flow");return n},ow=function(r,e,t){var n;return"blockchain"in r&&r.blockchain==="solana"?n=iG(r,e,t):"blockchain"in r&&r.blockchain==="flow"?n=oG(r,e):n=nG(r,e,t),Vh(n,!0)},nG=function(r,e,t){var n,o=r.contract,i=r.chain,a=r.openSeaSlug,s=sp((n=r?.blockchain)!==null&&n!==void 0?n:"");if(!(!o||!i)){var c="".concat(ps,"/get-owner-tokens?smartContract=").concat(o,"&chain=").concat(i,"&owner=").concat(e,"&blockchain=").concat(s);return a&&(c+="&openSeaSlug=".concat(a)),t&&(c+="&ipfsBaseUrl=".concat(t)),c}},iG=function(r,e,t){var n,o=r.chain,i=r.tokenProgram,a=r.collectionAddress,s=r.updateAuthority,c=r.symbol,f=sp((n=r?.blockchain)!==null&&n!==void 0?n:"");if(!(!o&&(!i||!a||!s||!c))){var u="".concat(ps,"/get-owner-tokens?chain=").concat(o,"&blockchain=").concat(f);return e&&(u+="&owner=".concat(e)),c&&(u+="&symbol=".concat(c)),t&&(u+="&ipfsBaseUrl=".concat(t)),i&&(u+="&tokenProgram=".concat(i)),a&&(u+="&collectionAddress=".concat(a)),s&&(u+="&updateAuthority=".concat(s)),u}},oG=function(r,e){var t,n=r.contract,o=r.chain,i=sp((t=r?.blockchain)!==null&&t!==void 0?t:"");if(!(!n||!o)){var a="".concat(ps,"/get-owner-tokens?smartContract=").concat(n,"&chain=").concat(o,"&owner=").concat(e,"&blockchain=").concat(i);return a}},fp={},cp={},Zu={},yg={},lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.ATTESTATION_TYPE=void 0;lp.ATTESTATION_TYPE={phone:0,mail:1,InetPersona:2};var xg={},$e={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.DEBUGLEVEL=void 0;ur.DEBUGLEVEL={LOW:1,MEDIUM:2,HIGH:3,VERBOSE:4};var aw;function Yt(){if(aw)return $e;aw=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.ecSignatureToSRVhex=$e.testsLogger=$e.logger=$e.isDomainValid=$e.formatGeneralizedDateTime=$e.ethAddressToUint8=$e.hashUint8To32bytesUint8=$e.hashStringTo32bytesUint8=$e.getInt64Bytes=$e.uint8tohex=$e.BnPowMod=$e.stringToArray=$e.base64ToUint8array=$e.pemOrBase64Orbase64urlToString=$e.base64toBase64Url=$e.uint8arrayToBase64=$e.uint8toString=$e.uint8merge=$e.bnToBuf=$e.bnToUint8=$e.bufToBn=$e.uint8ToBn=$e.egcd=$e.invert=$e.mod=$e.hexStringToBase64Url=$e.hexStringToBase64=$e.hexStringToUint8=$e.hexStringToArray=$e.stringToHex=void 0;const r=ur,e=gs();let t=Zc.exports;function n(y){for(var A="",E=0;E<y.length;E++)A+=""+y.charCodeAt(E).toString(16);return A}$e.stringToHex=n;function o(y=""){y.substr(0,2).toLowerCase()==="0x"&&(y=y.substr(2));let A=[],E=[...y];E.length%2&&E.unshift("0");let m="";if(!E||typeof E>"u"||!E.length)return[];let g;for(;E.length;){if(m="",m+=E.shift()+E.shift(),g=parseInt(m,16),isNaN(g))throw new Error("hexStringToArray input is not a hex string.");A.push(g)}return A}$e.hexStringToArray=o;function i(y=""){return Uint8Array.from(o(y))}$e.hexStringToUint8=i;function a(y=""){return B(i(y))}$e.hexStringToBase64=a;function s(y=""){return O(B(i(y)))}$e.hexStringToBase64Url=s;function c(y,A=e.CURVE_BN256.P){const E=y%A;return E>=0n?E:A+E}$e.mod=c;function f(y,A=e.CURVE_BN256.P){if(y===0n||A<=0n)throw new Error("invert: expected positive integers");let[E,m]=u(c(y,A),A);if(E!==1n)throw new Error("invert: does not exist");return c(m,A)}$e.invert=f;function u(y,A){let[E,m,g,d]=[0n,1n,1n,0n];for(;y!==0n;){let[k,V]=[A/y,A%y],[_,U]=[E-g*k,m-d*k];[A,y]=[y,V],[E,m]=[g,d],[g,d]=[_,U]}return[A,E,m]}$e.egcd=u;function h(y){return w(y)}$e.uint8ToBn=h;function w(y){let A=[];return Uint8Array.from(y).forEach(function(m){var g=m.toString(16);g.length%2&&(g="0"+g),A.push(g)}),BigInt("0x"+A.join(""))}$e.bufToBn=w;function T(y){return I(y)}$e.bnToUint8=T;function I(y,A=0){var E=BigInt(y).toString(16).padStart(A*2,"0");E.length%2&&(E="0"+E);for(var m=E.length/2,g=new Uint8Array(m),d=0,k=0;d<m;)g[d]=parseInt(E.slice(k,k+2),16),d+=1,k+=2;return g}$e.bnToBuf=I;function R(y){if(y.length===1)return y[0];let A=Uint8Array.from([]);if(y.length===0)return A;for(let E=0;E<y.length;E++){if(typeof y[E]!="object"||typeof y[E].length!="number")throw new Error("wrong input values");let m=Uint8Array.from(y[E]);if(!m||!m.length)continue;let g=new Uint8Array(A.length+m.length);g.set(A),g.set(m,A.length),A=g}return A}$e.uint8merge=R;function P(y){if(!y)return"";let A="",E=y.byteLength;for(let m=0;m<E;m++)A+=String.fromCharCode(y[m]);return A}$e.uint8toString=P;function B(y){let A=P(y);return typeof window>"u"||!window.btoa?new Buffer(y).toString("base64"):window.btoa(A)}$e.uint8arrayToBase64=B;function O(y){return y.split("/").join("_").split("+").join("-")}$e.base64toBase64Url=O;function H(y){let A=y.split(/\r?\n/);for(;A[A.length-1].trim()==="";)A.pop();return y.slice(0,3)==="---"&&(A.shift(),A.pop()),y=A.join(""),y=y.split("_").join("/").split("-").join("+").split(".").join("="),y}$e.pemOrBase64Orbase64urlToString=H;function $(y){y=H(y);let A;return typeof window>"u"||!window.atob?A=Uint8Array.from(Buffer.from(y,"base64")):A=Uint8Array.from(atob(y),E=>E.charCodeAt(0)),A}$e.base64ToUint8array=$;function J(y){for(var A=[],E=0;E<y.length;E++)A.push(y.charCodeAt(E));return A}$e.stringToArray=J;function ie(y,A,E){let m=1n,g=y;for(;A>0n;)A&1n&&(m=m*g%E),g=g*g%E,A>>=1n;return m}$e.BnPowMod=ie;function we(y){return!y||!y.length?"":Array.from(y).map(A=>("0"+A.toString(16)).slice(-2)).join("")}$e.uint8tohex=we;function de(y){let A=Math.floor(y/4294967296);return new Uint8Array([A,A<<8,A<<16,A<<24,y,y<<8,y<<16,y<<24].map(E=>E>>>24))}$e.getInt64Bytes=de;function ce(y){return be(Uint8Array.from(J(y)))}$e.hashStringTo32bytesUint8=ce;function be(y){let A=Array.from(y);return R([new Uint8Array(32),new Uint8Array(o(t.keccak256(A)))]).slice(-32)}$e.hashUint8To32bytesUint8=be;function L(y){if(y.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null)throw new Error("Wrong Ethereum Address");let A=Uint8Array.from(o(y.substr(2)));if(A.length!=20)throw new Error("wrong address length");return A}$e.ethAddressToUint8=L;function S(y){var A=new Date(y),E=""+(A.getUTCMonth()+1),m=""+A.getUTCDate(),g=A.getUTCFullYear();let d=""+A.getUTCHours(),k=""+A.getUTCMinutes(),V=""+A.getUTCSeconds();return E.length<2&&(E="0"+E),m.length<2&&(m="0"+m),d.length<2&&(d="0"+d),k.length<2&&(k="0"+k),V.length<2&&(V="0"+V),[g,E,m,d,k,V].join("")+"Z"}$e.formatGeneralizedDateTime=S;function v(y){try{new URL(y)}catch{return!1}return!0}$e.isDomainValid=v;function l(y,...A){}$e.logger=l;function p(y,...A){}$e.testsLogger=p;function b(y,A){try{let E=y.r.toString(16).padStart(64,"0"),m=y.s,g=y.recoveryParam,d=A.ec.curve.n.shrn(1);m.cmp(d)>0&&(m=A.ec.curve.n.sub(m),g=1-g);let k=m.toString(16).padStart(64,"0");return E+k+(g==1?"1c":"1b")}catch(E){throw l(r.DEBUGLEVEL.LOW,E),new Error("Signature format doesn't fit.")}}return $e.ecSignatureToSRVhex=b,$e}var sw;function gs(){return sw||(sw=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Point=r.CURVE_BN256=r.CURVES=r.CURVE_SECP256k1=void 0;const e=Yt(),t=ur;r.CURVE_SECP256k1={P:2n**256n-2n**32n-977n,n:2n**256n-432420386565659656852420866394968145599n,magicExp:(2n**256n-2n**32n-977n+1n)/4n,A:0n,B:7n},r.CURVES={p256:{P:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),A:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),B:BigInt("0x5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),n:BigInt("0xFFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),GX:BigInt("0x6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296"),GY:BigInt("0x4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),h:1n},secp256k1:{P:2n**256n-2n**32n-977n,A:0n,B:7n,n:2n**256n-432420386565659656852420866394968145599n,GX:55066263022277343669578718895168534326250603453777594175500187360389116729240n,GY:32670510020758816978083085130507043184471273380659243275938904335757337482424n},BN256:{P:115792089237314936872688561244471742058375878355761205198700409522629664518163n,n:115792089237314936872688561244471742058035595988840268584488757999429535617037n,magicExp:115792089237314936872688561244471742058375878355761205198700409522629664518164n>>2n,A:0n,B:3n,h:1n}},r.CURVE_BN256={P:21888242871839275222246405745257275088696311157297823662689037894645226208583n,n:21888242871839275222246405745257275088548364400416034343698204186575808495617n,A:0n,B:3n,h:1n};class n{constructor(i,a,s=r.CURVE_BN256){this.x=i,this.y=a,this.useCurve=s,this.x=(0,e.mod)(i,this.useCurve.P),this.y=(0,e.mod)(a,this.useCurve.P),this.useCurve=s}double(){const i=this.x,a=this.y,s=(0,e.mod)(3n*i**2n*(0,e.invert)(2n*a,this.useCurve.P),this.useCurve.P),c=(0,e.mod)(s*s-2n*i,this.useCurve.P),f=(0,e.mod)(s*(i-c)-a,this.useCurve.P);return new n(c,f,this.useCurve)}newZero(){return new n(0n,0n,this.useCurve)}add(i){const[a,s]=[this,i],[c,f,u,h]=[a.x,a.y,s.x,s.y];if(c===0n||f===0n)return s;if(u===0n||h===0n)return a;if(c===u&&f===h)return this.double();if(c===u&&f===(0,e.mod)(-h,this.useCurve.P))return this.newZero();const w=(0,e.mod)((h-f)*(0,e.invert)(u-c,this.useCurve.P),this.useCurve.P),T=(0,e.mod)(w*w-c-u,this.useCurve.P),I=(0,e.mod)(w*(c-T)-f,this.useCurve.P);return new n(T,I,this.useCurve)}multiplyDA(i){let a=this.newZero(),s=this;for(;i>0n;)i&1n&&(a=a.add(s)),s=s.double(),i>>=1n;return a}isInfinity(){return this.x==null||this.y==null||this.x==0n&&this.y==0n}getEncoded(i=!1){if(this.isInfinity())return new Uint8Array(0);let a=(0,e.bnToBuf)(this.x,32);return i?(0,e.uint8merge)([Uint8Array.from([2]),a]):(0,e.uint8merge)([Uint8Array.from([4]),a,(0,e.bnToBuf)(this.y,32)])}equals(i){if(i==null)return!1;let a=this.isInfinity(),s=i.isInfinity();if(a||s)return a&&s;let c=this,f=i;return c.x===f.x&&c.y===f.y}static decodeFromHex(i,a=r.CURVE_BN256){if(i.length!=130)throw new Error("only decompressed points allowed. 65 bytes.");return n.decodeFromUint8((0,e.hexStringToUint8)(i),a)}static decodeFromUint8(i,a=r.CURVE_BN256){if(i.length!=65)throw new Error("only decompressed points allowed. 65 bytes.");let s;switch(i[0]){case 4:let f=(0,e.uint8ToBn)(i.slice(1,33)),u=(0,e.uint8ToBn)(i.slice(33));s=new n(f,u,a);break;default:throw new Error("only decompressed points allowed")}if(!s.validate()){let f="Point is not valid ("+s.x.toString(16)+","+s.y.toString(16)+")";throw(0,e.logger)(t.DEBUGLEVEL.LOW,f),new Error(f)}return s}validate(i=!1){return typeof i=="boolean"&&(i=this.useCurve),(0,e.mod)((0,e.mod)(this.y*this.y,i.P)-(0,e.mod)((0,e.BnPowMod)(this.x,3n,i.P)+(0,e.mod)(this.x*i.A,i.P)+i.B,i.P),i.P)==0n}negate(){return new n(this.x,this.useCurve.P-this.y,this.useCurve)}subtract(i){return this.add(i.negate())}}r.Point=n}(xg)),xg}var Ol={},Lo={};/*!
 * MIT License
 * 
 * Copyright (c) 2017-2022 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const aG="[object ArrayBuffer]";class Et{static isArrayBuffer(e){return Object.prototype.toString.call(e)===aG}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const n=Et.toUint8Array(e),o=Et.toUint8Array(t);if(n.length!==o.byteLength)return!1;for(let i=0;i<n.length;i++)if(n[i]!==o[i])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let n=0;for(const a of t)n+=a.byteLength;const o=new Uint8Array(n);let i=0;for(const a of t){const s=this.toUint8Array(a);o.set(s,i),i+=s.length}return e[1]?this.toView(o,e[1]):o.buffer}else return this.concat(e)}}class fw{static fromString(e){const t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n.buffer}static toString(e){const t=Et.toUint8Array(e);let n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return decodeURIComponent(escape(n))}}class so{static toString(e,t=!1){const n=Et.toArrayBuffer(e),o=new DataView(n);let i="";for(let a=0;a<n.byteLength;a+=2){const s=o.getUint16(a,t);i+=String.fromCharCode(s)}return i}static fromString(e,t=!1){const n=new ArrayBuffer(e.length*2),o=new DataView(n);for(let i=0;i<e.length;i++)o.setUint16(i*2,e.charCodeAt(i),t);return n}}class gr{static isHex(e){return typeof e=="string"&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return typeof e=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return typeof e=="string"&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const n=Et.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return so.toString(n,!0);case"utf16":case"utf16be":return so.toString(n);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return so.fromString(e,!0);case"utf16":case"utf16be":return so.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=Et.toUint8Array(e);if(typeof btoa<"u"){const n=this.ToString(t,"binary");return btoa(n)}else return Buffer.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!gr.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!gr.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=gr.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return fw.fromString(e);case"utf16":case"utf16be":return so.fromString(e);case"utf16le":case"usc2":return so.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=gr.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return fw.toString(e);case"utf16":case"utf16be":return so.toString(e);case"utf16le":case"usc2":return so.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,n=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=e.charCodeAt(o);return n.buffer}static ToBinary(e){const t=Et.toUint8Array(e);let n="";for(let o=0;o<t.length;o++)n+=String.fromCharCode(t[o]);return n}static ToHex(e){const t=Et.toUint8Array(e),n="",o=[],i=t.length;for(let a=0;a<i;a++){const s=t[a].toString(16).padStart(2,"0");o.push(s)}return o.join(n)}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!gr.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const n=new Uint8Array(t.length/2);for(let o=0;o<t.length;o=o+2){const i=t.slice(o,o+2);n[o/2]=parseInt(i,16)}return n.buffer}static ToUtf16String(e,t=!1){return so.toString(e,t)}static FromUtf16String(e,t=!1){return so.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let n=0;n<t;n++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}}gr.DEFAULT_UTF8_ENCODING="utf8";/*!
 Copyright (c) Peculiar Ventures, LLC
*/function Bc(r,e){let t=0;if(r.length===1)return r[0];for(let n=r.length-1;n>=0;n--)t+=r[r.length-1-n]*Math.pow(2,e*n);return t}function nf(r,e,t=-1){const n=t;let o=r,i=0,a=Math.pow(2,e);for(let s=1;s<8;s++){if(r<a){let c;if(n<0)c=new ArrayBuffer(s),i=s;else{if(n<s)return new ArrayBuffer(0);c=new ArrayBuffer(n),i=n}const f=new Uint8Array(c);for(let u=s-1;u>=0;u--){const h=Math.pow(2,u*e);f[i-u-1]=Math.floor(o/h),o-=f[i-u-1]*h}return c}a*=Math.pow(2,e)}return new ArrayBuffer(0)}function Bb(...r){let e=0,t=0;for(const i of r)e+=i.length;const n=new ArrayBuffer(e),o=new Uint8Array(n);for(const i of r)o.set(i,t),t+=i.length;return o}function D9(){const r=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const s=r[0]===255&&r[1]&128,c=r[0]===0&&(r[1]&128)===0;(s||c)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),t=new Uint8Array(e);for(let s=0;s<this.valueHex.byteLength;s++)t[s]=0;t[0]=r[0]&128;const n=Bc(t,8),o=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(o);for(let s=0;s<this.valueHex.byteLength;s++)i[s]=r[s];return i[0]&=127,Bc(i,8)-n}function sG(r){const e=r<0?r*-1:r;let t=128;for(let n=1;n<8;n++){if(e<=t){if(r<0){const a=t-e,s=nf(a,8,n),c=new Uint8Array(s);return c[0]|=128,s}let o=nf(e,8,n),i=new Uint8Array(o);if(i[0]&128){const a=o.slice(0),s=new Uint8Array(a);o=new ArrayBuffer(o.byteLength+1),i=new Uint8Array(o);for(let c=0;c<a.byteLength;c++)i[c+1]=s[c];i[0]=0}return o}t*=Math.pow(2,8)}return new ArrayBuffer(0)}function fG(r,e){if(r.byteLength!==e.byteLength)return!1;const t=new Uint8Array(r),n=new Uint8Array(e);for(let o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}function Qn(r,e){const t=r.toString(10);if(e<t.length)return"";const n=e-t.length,o=new Array(n);for(let a=0;a<n;a++)o[a]="0";return o.join("").concat(t)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function ch(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function Ry(r){let e=0,t=0;for(let o=0;o<r.length;o++)e+=r[o].byteLength;const n=new Uint8Array(e);for(let o=0;o<r.length;o++){const i=r[o];n.set(new Uint8Array(i),t),t+=i.byteLength}return n.buffer}function ka(r,e,t,n){return e instanceof Uint8Array?e.byteLength?t<0?(r.error="Wrong parameter: inputOffset less than zero",!1):n<0?(r.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-t-n<0?(r.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(r.error="Wrong parameter: inputBuffer has zero length",!1):(r.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class up{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return Ry(this.items)}}const Nl=[new Uint8Array([1])],cw="0123456789",wg="name",lw="valueHexView",cG="isHexOnly",lG="idBlock",uG="tagClass",dG="tagNumber",hG="isConstructed",pG="fromBER",gG="toBER",vG="local",Mn="",to=new ArrayBuffer(0),dp=new Uint8Array(0),Pu="EndOfContent",U9="OCTET STRING",F9="BIT STRING";function Vo(r){var e;return e=class extends r{constructor(...n){var o;super(...n);const i=n[0]||{};this.isHexOnly=(o=i.isHexOnly)!==null&&o!==void 0?o:!1,this.valueHexView=i.valueHex?Et.toUint8Array(i.valueHex):dp}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}fromBER(n,o,i){const a=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!ka(this,a,o,i))return-1;const s=o+i;return this.valueHexView=a.subarray(o,s),this.valueHexView.length?(this.blockLength=i,s):(this.warnings.push("Zero buffer length"),o)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",to)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:gr.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class mf{constructor({blockLength:e=0,error:t=Mn,warnings:n=[],valueBeforeDecode:o=dp}={}){this.blockLength=e,this.error=t,this.warnings=n,this.valueBeforeDecodeView=Et.toUint8Array(o)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:gr.ToHex(this.valueBeforeDecodeView)}}}mf.NAME="baseBlock";class En extends mf{fromBER(e,t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}En.NAME="valueBlock";class H9 extends Vo(mf){constructor({idBlock:e={}}={}){var t,n,o,i;super(),e?(this.isHexOnly=(t=e.isHexOnly)!==null&&t!==void 0?t:!1,this.valueHexView=e.valueHex?Et.toUint8Array(e.valueHex):dp,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(o=e.tagNumber)!==null&&o!==void 0?o:-1,this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",to}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const o=new Uint8Array(1);if(!e){let i=this.tagNumber;i&=31,t|=i,o[0]=t}return o.buffer}if(!this.isHexOnly){const o=nf(this.tagNumber,7),i=new Uint8Array(o),a=o.byteLength,s=new Uint8Array(a+1);if(s[0]=t|31,!e){for(let c=0;c<a-1;c++)s[c+1]=i[c]|128;s[a]=i[a-1]}return s.buffer}const n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=t|31,!e){const o=this.valueHexView;for(let i=0;i<o.length-1;i++)n[i+1]=o[i]|128;n[this.valueHexView.byteLength]=o[o.length-1]}return n.buffer}fromBER(e,t,n){const o=Et.toUint8Array(e);if(!ka(this,o,t,n))return-1;const i=o.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;const s=i[0]&31;if(s!==31)this.tagNumber=s,this.blockLength=1;else{let c=1,f=this.valueHexView=new Uint8Array(255),u=255;for(;i[c]&128;){if(f[c-1]=i[c]&127,c++,c>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(c===u){u+=255;const w=new Uint8Array(u);for(let T=0;T<f.length;T++)w[T]=f[T];f=this.valueHexView=new Uint8Array(u)}}this.blockLength=c+1,f[c-1]=i[c]&127;const h=new Uint8Array(c);for(let w=0;w<c;w++)h[w]=f[w];f=this.valueHexView=new Uint8Array(c),f.set(h),this.blockLength<=9?this.tagNumber=Bc(f,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}H9.NAME="identificationBlock";class V9 extends mf{constructor({lenBlock:e={}}={}){var t,n,o;super(),this.isIndefiniteForm=(t=e.isIndefiniteForm)!==null&&t!==void 0?t:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(o=e.length)!==null&&o!==void 0?o:0}fromBER(e,t,n){const o=Et.toUint8Array(e);if(!ka(this,o,t,n))return-1;const i=o.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,t+this.blockLength;const a=i[0]&127;if(a>8)return this.error="Too big integer",-1;if(a+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const s=t+1,c=o.subarray(s,s+a);return c[a-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=Bc(c,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,t+this.blockLength}toBER(e=!1){let t,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=128),t;if(this.longFormUsed){const o=nf(this.length,8);if(o.byteLength>127)return this.error="Too big length",to;if(t=new ArrayBuffer(o.byteLength+1),e)return t;const i=new Uint8Array(o);n=new Uint8Array(t),n[0]=o.byteLength|128;for(let a=0;a<o.byteLength;a++)n[a+1]=i[a];return t}return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}V9.NAME="lengthBlock";const Ve={};class Wr extends mf{constructor({name:e=Mn,optional:t=!1,primitiveSchema:n,...o}={},i){super(o),this.name=e,this.optional=t,n&&(this.primitiveSchema=n),this.idBlock=new H9(o),this.lenBlock=new V9(o),this.valueBlock=i?new i(o):new En(o)}fromBER(e,t,n){const o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}toBER(e,t){const n=t||new up;t||j9(this);const o=this.idBlock.toBER(e);if(n.write(o),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{const i=this.valueBlock.toBER(e);this.lenBlock.length=i.byteLength;const a=this.lenBlock.toBER(e);n.write(a),n.write(i)}return t?to:n.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():gr.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${gr.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const t=this.toBER(),n=e.toBER();return fG(t,n)}}Wr.NAME="BaseBlock";function j9(r){if(r instanceof Ve.Constructed)for(const e of r.valueBlock.value)j9(e)&&(r.lenBlock.isIndefiniteForm=!0);return!!r.lenBlock.isIndefiniteForm}class Oy extends Wr{constructor({value:e=Mn,...t}={},n){super(t,n),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,n){const o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}Oy.NAME="BaseStringBlock";class G9 extends Vo(En){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}G9.NAME="PrimitiveValueBlock";var z9;class Xu extends Wr{constructor(e={}){super(e,G9),this.idBlock.isConstructed=!1}}z9=Xu;Ve.Primitive=z9;Xu.NAME="PRIMITIVE";function bG(r,e){if(r instanceof e)return r;const t=new e;return t.idBlock=r.idBlock,t.lenBlock=r.lenBlock,t.warnings=r.warnings,t.valueBeforeDecodeView=r.valueBeforeDecodeView,t}function nl(r,e=0,t=r.length){const n=e;let o=new Wr({},En);const i=new mf;if(!ka(i,r,e,t))return o.error=i.error,{offset:-1,result:o};if(!r.subarray(e,e+t).length)return o.error="Zero buffer length",{offset:-1,result:o};let s=o.idBlock.fromBER(r,e,t);if(o.idBlock.warnings.length&&o.warnings.concat(o.idBlock.warnings),s===-1)return o.error=o.idBlock.error,{offset:-1,result:o};if(e=s,t-=o.idBlock.blockLength,s=o.lenBlock.fromBER(r,e,t),o.lenBlock.warnings.length&&o.warnings.concat(o.lenBlock.warnings),s===-1)return o.error=o.lenBlock.error,{offset:-1,result:o};if(e=s,t-=o.lenBlock.blockLength,!o.idBlock.isConstructed&&o.lenBlock.isIndefiniteForm)return o.error="Indefinite length form used for primitive encoding form",{offset:-1,result:o};let c=Wr;switch(o.idBlock.tagClass){case 1:if(o.idBlock.tagNumber>=37&&o.idBlock.isHexOnly===!1)return o.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:o};switch(o.idBlock.tagNumber){case 0:if(o.idBlock.isConstructed&&o.lenBlock.length>0)return o.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:o};c=Ve.EndOfContent;break;case 1:c=Ve.Boolean;break;case 2:c=Ve.Integer;break;case 3:c=Ve.BitString;break;case 4:c=Ve.OctetString;break;case 5:c=Ve.Null;break;case 6:c=Ve.ObjectIdentifier;break;case 10:c=Ve.Enumerated;break;case 12:c=Ve.Utf8String;break;case 13:c=Ve.RelativeObjectIdentifier;break;case 14:c=Ve.TIME;break;case 15:return o.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:o};case 16:c=Ve.Sequence;break;case 17:c=Ve.Set;break;case 18:c=Ve.NumericString;break;case 19:c=Ve.PrintableString;break;case 20:c=Ve.TeletexString;break;case 21:c=Ve.VideotexString;break;case 22:c=Ve.IA5String;break;case 23:c=Ve.UTCTime;break;case 24:c=Ve.GeneralizedTime;break;case 25:c=Ve.GraphicString;break;case 26:c=Ve.VisibleString;break;case 27:c=Ve.GeneralString;break;case 28:c=Ve.UniversalString;break;case 29:c=Ve.CharacterString;break;case 30:c=Ve.BmpString;break;case 31:c=Ve.DATE;break;case 32:c=Ve.TimeOfDay;break;case 33:c=Ve.DateTime;break;case 34:c=Ve.Duration;break;default:{const f=o.idBlock.isConstructed?new Ve.Constructed:new Ve.Primitive;f.idBlock=o.idBlock,f.lenBlock=o.lenBlock,f.warnings=o.warnings,o=f}}break;case 2:case 3:case 4:default:c=o.idBlock.isConstructed?Ve.Constructed:Ve.Primitive}return o=bG(o,c),s=o.fromBER(r,e,o.lenBlock.isIndefiniteForm?t:o.lenBlock.length),o.valueBeforeDecodeView=r.subarray(n,n+o.blockLength),{offset:s,result:o}}function dc(r){if(!r.byteLength){const e=new Wr({},En);return e.error="Input buffer has zero length",{offset:-1,result:e}}return nl(Et.toUint8Array(r).slice(),0,r.byteLength)}function mG(r,e){return r?1:e}class rs extends En{constructor({value:e=[],isIndefiniteForm:t=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,n){const o=Et.toUint8Array(e);if(!ka(this,o,t,n))return-1;if(this.valueBeforeDecodeView=o.subarray(t,t+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),t;let i=t;for(;mG(this.isIndefiniteForm,n)>0;){const a=nl(o,i,n);if(a.offset===-1)return this.error=a.result.error,this.warnings.concat(a.result.warnings),-1;if(i=a.offset,this.blockLength+=a.result.blockLength,n-=a.result.blockLength,this.value.push(a.result),this.isIndefiniteForm&&a.result.constructor.NAME===Pu)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Pu?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){const n=t||new up;for(let o=0;o<this.value.length;o++)this.value[o].toBER(e,n);return t?to:n.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}rs.NAME="ConstructedValueBlock";var q9;class Rn extends Wr{constructor(e={}){super(e,rs),this.idBlock.isConstructed=!0}fromBER(e,t,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){const e=[];for(const n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(o=>`  ${o}`).join(`
`));const t=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join(`
`)}`:`${t} :`}}q9=Rn;Ve.Constructed=q9;Rn.NAME="CONSTRUCTED";class K9 extends En{fromBER(e,t,n){return t}toBER(e){return to}}K9.override="EndOfContentValueBlock";var $9;class Ny extends Wr{constructor(e={}){super(e,K9),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}$9=Ny;Ve.EndOfContent=$9;Ny.NAME=Pu;var W9;class of extends Wr{constructor(e={}){super(e,En),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,t+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+n}toBER(e,t){const n=new ArrayBuffer(2);if(!e){const o=new Uint8Array(n);o[0]=5,o[1]=0}return t&&t.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}}W9=of;Ve.Null=W9;of.NAME="NULL";class Q9 extends Vo(En){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=Et.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,n){const o=Et.toUint8Array(e);return ka(this,o,t,n)?(this.valueHexView=o.subarray(t,t+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,D9.call(this),this.blockLength=n,t+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}Q9.NAME="BooleanValueBlock";var J9;class hp extends Wr{constructor(e={}){super(e,Q9),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}J9=hp;Ve.Boolean=J9;hp.NAME="BOOLEAN";class Y9 extends Vo(rs){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,n){let o=0;if(this.isConstructed){if(this.isHexOnly=!1,o=rs.prototype.fromBER.call(this,e,t,n),o===-1)return o;for(let i=0;i<this.value.length;i++){const a=this.value[i].constructor.NAME;if(a===Pu){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(a!==U9)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,o=super.fromBER(e,t,n),this.blockLength=n;return o}toBER(e,t){return this.isConstructed?rs.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}Y9.NAME="OctetStringValueBlock";var Z9;class la extends Wr{constructor({idBlock:e={},lenBlock:t={},...n}={}){var o,i;(o=n.isConstructed)!==null&&o!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},Y9),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+n);try{if(i.byteLength){const a=nl(i,0,i.byteLength);a.offset!==-1&&a.offset===n&&(this.valueBlock.value=[a.result])}}catch{}}return super.fromBER(e,t,n)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Rn.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${gr.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof la&&e.push(t.valueBlock.valueHexView);return Et.concat(e)}}Z9=la;Ve.OctetString=Z9;la.NAME=U9;class X9 extends Vo(rs){constructor({unusedBits:e=0,isConstructed:t=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,n){if(!n)return t;let o=-1;if(this.isConstructed){if(o=rs.prototype.fromBER.call(this,e,t,n),o===-1)return o;for(const s of this.value){const c=s.constructor.NAME;if(c===Pu){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(c!==F9)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const f=s.valueBlock;if(this.unusedBits>0&&f.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=f.unusedBits}return o}const i=Et.toUint8Array(e);if(!ka(this,i,t,n))return-1;const a=i.subarray(t,t+n);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const s=a.subarray(1);try{if(s.byteLength){const c=nl(s,0,s.byteLength);c.offset!==-1&&c.offset===n-1&&(this.value=[c.result])}}catch{}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,t+n}toBER(e,t){if(this.isConstructed)return rs.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return to;const n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}X9.NAME="BitStringValueBlock";var eE;class Vs extends Wr{constructor({idBlock:e={},lenBlock:t={},...n}={}){var o,i;(o=n.isConstructed)!==null&&o!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},X9),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Rn.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const o of t)e.push(o.toString(2).padStart(8,"0"));const n=e.join("");return`${this.constructor.NAME} : ${n.substring(0,n.length-this.valueBlock.unusedBits)}`}}}eE=Vs;Ve.BitString=eE;Vs.NAME=F9;var tE;function yG(r,e){const t=new Uint8Array([0]),n=new Uint8Array(r),o=new Uint8Array(e);let i=n.slice(0);const a=i.length-1,s=o.slice(0),c=s.length-1;let f=0;const u=c<a?a:c;let h=0;for(let w=u;w>=0;w--,h++){switch(!0){case h<s.length:f=i[a-h]+s[c-h]+t[0];break;default:f=i[a-h]+t[0]}switch(t[0]=f/10,!0){case h>=i.length:i=Bb(new Uint8Array([f%10]),i);break;default:i[a-h]=f%10}}return t[0]>0&&(i=Bb(t,i)),i}function uw(r){if(r>=Nl.length)for(let e=Nl.length;e<=r;e++){const t=new Uint8Array([0]);let n=Nl[e-1].slice(0);for(let o=n.length-1;o>=0;o--){const i=new Uint8Array([(n[o]<<1)+t[0]]);t[0]=i[0]/10,n[o]=i[0]%10}t[0]>0&&(n=Bb(t,n)),Nl.push(n)}return Nl[r]}function xG(r,e){let t=0;const n=new Uint8Array(r),o=new Uint8Array(e),i=n.slice(0),a=i.length-1,s=o.slice(0),c=s.length-1;let f,u=0;for(let h=c;h>=0;h--,u++)switch(f=i[a-u]-s[c-u]-t,!0){case f<0:t=1,i[a-u]=f+10;break;default:t=0,i[a-u]=f}if(t>0)for(let h=a-c+1;h>=0;h--,u++)if(f=i[a-u]-t,f<0)t=1,i[a-u]=f+10;else{t=0,i[a-u]=f;break}return i.slice()}class Ly extends Vo(En){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=D9.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(sG(e))}get valueDec(){return this._valueDec}fromDER(e,t,n,o=0){const i=this.fromBER(e,t,n);if(i===-1)return i;const a=this.valueHexView;return a[0]===0&&(a[1]&128)!==0?this.valueHexView=a.subarray(1):o!==0&&a.length<o&&(o-a.length>1&&(o=a.length+1),this.valueHexView=a.subarray(o-a.length)),i}toDER(e=!1){const t=this.valueHexView;switch(!0){case(t[0]&128)!==0:{const n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(t,1),this.valueHexView=n}break;case(t[0]===0&&(t[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,t,n){const o=super.fromBER(e,t,n);return o===-1||this.setValueHex(),o}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let t=new Uint8Array(this.valueHexView.length*8/3),n=0,o;const i=this.valueHexView;let a="",s=!1;for(let c=i.byteLength-1;c>=0;c--){o=i[c];for(let f=0;f<8;f++){if((o&1)===1)switch(n){case e:t=xG(uw(n),t),a="-";break;default:t=yG(t,uw(n))}n++,o>>=1}}for(let c=0;c<t.length;c++)t[c]&&(s=!0),s&&(a+=cw.charAt(t[c]));return s===!1&&(a+=cw.charAt(0)),a}}tE=Ly;Ly.NAME="IntegerValueBlock";Object.defineProperty(tE.prototype,"valueHex",{set:function(r){this.valueHexView=new Uint8Array(r),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var rE;class Wi extends Wr{constructor(e={}){super(e,Ly),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return ch(),BigInt(this.valueBlock.toString())}static fromBigInt(e){ch();const t=BigInt(e),n=new up,o=t.toString(16).replace(/^-/,""),i=new Uint8Array(gr.FromHex(o));if(t<0){const s=new Uint8Array(i.length+(i[0]&128?1:0));s[0]|=128;const f=BigInt(`0x${gr.ToHex(s)}`)+t,u=Et.toUint8Array(gr.FromHex(f.toString(16)));u[0]|=128,n.write(u)}else i[0]&128&&n.write(new Uint8Array([0])),n.write(i);return new Wi({valueHex:n.final()})}convertToDER(){const e=new Wi({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new Wi({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}rE=Wi;Ve.Integer=rE;Wi.NAME="INTEGER";var nE;class pp extends Wi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}nE=pp;Ve.Enumerated=nE;pp.NAME="ENUMERATED";class Rb extends Vo(En){constructor({valueDec:e=-1,isFirstSid:t=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,n){if(!n)return t;const o=Et.toUint8Array(e);if(!ka(this,o,t,n))return-1;const i=o.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let s=0;s<n&&(this.valueHexView[s]=i[s]&127,this.blockLength++,(i[s]&128)!==0);s++);const a=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength;s++)a[s]=this.valueHexView[s];return this.valueHexView=a,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Bc(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){ch();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const n=new Uint8Array(t.length/7);for(let o=0;o<n.length;o++)n[o]=parseInt(t.slice(o*7,o*7+7),2)+(o+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=o[a]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}const t=nf(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",to;const n=new Uint8Array(t.byteLength);if(!e){const o=new Uint8Array(t),i=t.byteLength-1;for(let a=0;a<i;a++)n[a]=o[a]|128;n[i]=o[i]}return n}toString(){let e="";if(this.isHexOnly)e=gr.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}Rb.NAME="sidBlock";class iE extends En{constructor({value:e=Mn,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let o=t;for(;n>0;){const i=new Rb;if(o=i.fromBER(e,o,n),o===-1)return this.blockLength=0,this.error=i.error,o;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return o}toBER(e){const t=[];for(let n=0;n<this.value.length;n++){const o=this.value[n].toBER(e);if(o.byteLength===0)return this.error=this.value[n].error,to;t.push(o)}return Ry(t)}fromString(e){this.value=[];let t=0,n=0,o="",i=!1;do if(n=e.indexOf(".",t),n===-1?o=e.substring(t):o=e.substring(t,n),t=n+1,i){const a=this.value[0];let s=0;switch(a.valueDec){case 0:break;case 1:s=40;break;case 2:s=80;break;default:this.value=[];return}const c=parseInt(o,10);if(isNaN(c))return;a.valueDec=c+s,i=!1}else{const a=new Rb;if(o>Number.MAX_SAFE_INTEGER){ch();const s=BigInt(o);a.valueBigInt=s}else if(a.valueDec=parseInt(o,10),isNaN(a.valueDec))return;this.value.length||(a.isFirstSid=!0,i=!0),this.value.push(a)}while(n!==-1)}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let o=this.value[n].toString();n!==0&&(e=`${e}.`),t?(o=`{${o}}`,this.value[n].isFirstSid?e=`2.{${o} - 80}`:e+=o):e+=o}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}iE.NAME="ObjectIdentifierValueBlock";var oE;class gp extends Wr{constructor(e={}){super(e,iE),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}oE=gp;Ve.ObjectIdentifier=oE;gp.NAME="OBJECT IDENTIFIER";class Ob extends Vo(mf){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,n){if(n===0)return t;const o=Et.toUint8Array(e);if(!ka(this,o,t,n))return-1;const i=o.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let s=0;s<n&&(this.valueHexView[s]=i[s]&127,this.blockLength++,(i[s]&128)!==0);s++);const a=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength;s++)a[s]=this.valueHexView[s];return this.valueHexView=a,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Bc(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=o[a]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}const t=nf(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",to;const n=new Uint8Array(t.byteLength);if(!e){const o=new Uint8Array(t),i=t.byteLength-1;for(let a=0;a<i;a++)n[a]=o[a]|128;n[i]=o[i]}return n.buffer}toString(){let e="";return this.isHexOnly?e=gr.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Ob.NAME="relativeSidBlock";class aE extends En{constructor({value:e=Mn,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let o=t;for(;n>0;){const i=new Ob;if(o=i.fromBER(e,o,n),o===-1)return this.blockLength=0,this.error=i.error,o;this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return o}toBER(e,t){const n=[];for(let o=0;o<this.value.length;o++){const i=this.value[o].toBER(e);if(i.byteLength===0)return this.error=this.value[o].error,to;n.push(i)}return Ry(n)}fromString(e){this.value=[];let t=0,n=0,o="";do{n=e.indexOf(".",t),n===-1?o=e.substring(t):o=e.substring(t,n),t=n+1;const i=new Ob;if(i.valueDec=parseInt(o,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(n!==-1);return!0}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let o=this.value[n].toString();n!==0&&(e=`${e}.`),t&&(o=`{${o}}`),e+=o}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}aE.NAME="RelativeObjectIdentifierValueBlock";var sE;class Dy extends Wr{constructor(e={}){super(e,aE),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}sE=Dy;Ve.RelativeObjectIdentifier=sE;Dy.NAME="RelativeObjectIdentifier";var fE;class ua extends Rn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}fE=ua;Ve.Sequence=fE;ua.NAME="SEQUENCE";var cE;class da extends Rn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}cE=da;Ve.Set=cE;da.NAME="SET";class lE extends Vo(En){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=Mn}toJSON(){return{...super.toJSON(),value:this.value}}}lE.NAME="StringValueBlock";class uE extends lE{}uE.NAME="SimpleStringValueBlock";class oi extends Oy{constructor({...e}={}){super(e,uE)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,Et.toUint8Array(e))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=e.charCodeAt(o);this.valueBlock.value=e}}oi.NAME="SIMPLE STRING";class dE extends oi{fromBuffer(e){this.valueBlock.valueHexView=Et.toUint8Array(e);try{this.valueBlock.value=gr.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=gr.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(gr.FromUtf8String(e)),this.valueBlock.value=e}}dE.NAME="Utf8StringValueBlock";var hE;class Ca extends dE{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}hE=Ca;Ve.Utf8String=hE;Ca.NAME="UTF8String";class pE extends oi{fromBuffer(e){this.valueBlock.value=gr.ToUtf16String(e),this.valueBlock.valueHexView=Et.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(gr.FromUtf16String(e))}}pE.NAME="BmpStringValueBlock";var gE;class vp extends pE{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}gE=vp;Ve.BmpString=gE;vp.NAME="BMPString";class vE extends oi{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(t);for(let o=0;o<n.length;o+=4)n[o]=n[o+3],n[o+1]=n[o+2],n[o+2]=0,n[o+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t*4);for(let o=0;o<t;o++){const i=nf(e.charCodeAt(o),8),a=new Uint8Array(i);if(a.length>4)continue;const s=4-a.length;for(let c=a.length-1;c>=0;c--)n[o*4+c+s]=a[c]}this.valueBlock.value=e}}vE.NAME="UniversalStringValueBlock";var bE;class bp extends vE{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}bE=bp;Ve.UniversalString=bE;bp.NAME="UniversalString";var mE;class mp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}mE=mp;Ve.NumericString=mE;mp.NAME="NumericString";var yE;class yp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}yE=yp;Ve.PrintableString=yE;yp.NAME="PrintableString";var xE;class xp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}xE=xp;Ve.TeletexString=xE;xp.NAME="TeletexString";var wE;class wp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}wE=wp;Ve.VideotexString=wE;wp.NAME="VideotexString";var AE;class Ap extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}AE=Ap;Ve.IA5String=AE;Ap.NAME="IA5String";var EE;class Ep extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}EE=Ep;Ve.GraphicString=EE;Ep.NAME="GraphicString";var _E;class e0 extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}_E=e0;Ve.VisibleString=_E;e0.NAME="VisibleString";var SE;class _p extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}SE=_p;Ve.GeneralString=SE;_p.NAME="GeneralString";var TE;class Sp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}TE=Sp;Ve.CharacterString=TE;Sp.NAME="CharacterString";var kE;class t0 extends e0{constructor({value:e,valueDate:t,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let o=0;o<e.length;o++)this.valueBlock.valueHexView[o]=e.charCodeAt(o)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,Et.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}const o=parseInt(n[1],10);o>=50?this.year=1900+o:this.year=2e3+o,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){const t=new Array(7);return t[0]=Qn(this.year<2e3?this.year-1900:this.year-2e3,2),t[1]=Qn(this.month,2),t[2]=Qn(this.day,2),t[3]=Qn(this.hour,2),t[4]=Qn(this.minute,2),t[5]=Qn(this.second,2),t[6]="Z",t.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}kE=t0;Ve.UTCTime=kE;t0.NAME="UTCTime";var CE;class Tp extends t0{constructor(e={}){var t;super(e),(t=this.millisecond)!==null&&t!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t=!1,n="",o="",i=0,a,s=0,c=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),t=!0;else{const h=new Number(e[e.length-1]);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(t){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let h=1,w=n.indexOf("+"),T="";if(w===-1&&(w=n.indexOf("-"),h=-1),w!==-1){if(T=n.substring(w+1),n=n.substring(0,w),T.length!==2&&T.length!==4)throw new Error("Wrong input string for conversion");let I=parseInt(T.substring(0,2),10);if(isNaN(I.valueOf()))throw new Error("Wrong input string for conversion");if(s=h*I,T.length===4){if(I=parseInt(T.substring(2,4),10),isNaN(I.valueOf()))throw new Error("Wrong input string for conversion");c=h*I}}}let f=n.indexOf(".");if(f===-1&&(f=n.indexOf(",")),f!==-1){const h=new Number(`0${n.substring(f)}`);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");i=h.valueOf(),o=n.substring(0,f)}else o=n;switch(!0){case o.length===8:if(a=/(\d{4})(\d{2})(\d{2})/ig,f!==-1)throw new Error("Wrong input string for conversion");break;case o.length===10:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let h=60*i;this.minute=Math.floor(h),h=60*(h-this.minute),this.second=Math.floor(h),h=1e3*(h-this.second),this.millisecond=Math.floor(h)}break;case o.length===12:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let h=60*i;this.second=Math.floor(h),h=1e3*(h-this.second),this.millisecond=Math.floor(h)}break;case o.length===14:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){const h=1e3*i;this.millisecond=Math.floor(h)}break;default:throw new Error("Wrong input string for conversion")}const u=a.exec(o);if(u===null)throw new Error("Wrong input string for conversion");for(let h=1;h<u.length;h++)switch(h){case 1:this.year=parseInt(u[h],10);break;case 2:this.month=parseInt(u[h],10);break;case 3:this.day=parseInt(u[h],10);break;case 4:this.hour=parseInt(u[h],10)+s;break;case 5:this.minute=parseInt(u[h],10)+c;break;case 6:this.second=parseInt(u[h],10);break;default:throw new Error("Wrong input string for conversion")}if(t===!1){const h=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=h.getUTCFullYear(),this.month=h.getUTCMonth(),this.day=h.getUTCDay(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds(),this.millisecond=h.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const t=[];return t.push(Qn(this.year,4)),t.push(Qn(this.month,2)),t.push(Qn(this.day,2)),t.push(Qn(this.hour,2)),t.push(Qn(this.minute,2)),t.push(Qn(this.second,2)),this.millisecond!==0&&(t.push("."),t.push(Qn(this.millisecond,3))),t.push("Z"),t.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}CE=Tp;Ve.GeneralizedTime=CE;Tp.NAME="GeneralizedTime";var ME;class Uy extends Ca{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}ME=Uy;Ve.DATE=ME;Uy.NAME="DATE";var IE;class Fy extends Ca{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}IE=Fy;Ve.TimeOfDay=IE;Fy.NAME="TimeOfDay";var PE;class Hy extends Ca{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}PE=Hy;Ve.DateTime=PE;Hy.NAME="DateTime";var BE;class Vy extends Ca{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}BE=Vy;Ve.Duration=BE;Vy.NAME="Duration";var RE;class jy extends Ca{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}RE=jy;Ve.TIME=RE;jy.NAME="TIME";class af{constructor({name:e=Mn,optional:t=!1}={}){this.name=e,this.optional=t}}class Gy extends af{constructor({value:e=[],...t}={}){super(t),this.value=e}}class lh extends af{constructor({value:e=new af,local:t=!1,...n}={}){super(n),this.value=e,this.local=t}}class wG{constructor({data:e=dp}={}){this.dataView=Et.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=Et.toUint8Array(e)}fromBER(e,t,n){const o=t+n;return this.dataView=Et.toUint8Array(e).subarray(t,o),o}toBER(e){return this.dataView.slice().buffer}}function Ls(r,e,t){if(t instanceof Gy){for(let i=0;i<t.value.length;i++)if(Ls(r,e,t.value[i]).verified)return{verified:!0,result:r};{const i={verified:!1,result:{error:"Wrong values for Choice type"}};return t.hasOwnProperty(wg)&&(i.name=t.name),i}}if(t instanceof af)return t.hasOwnProperty(wg)&&(r[t.name]=e),{verified:!0,result:r};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(lG in t))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(pG in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(gG in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=t.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(t.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(t.idBlock.hasOwnProperty(uG)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty(dG)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty(hG)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:r};if(!(cG in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:r};if(t.idBlock.isHexOnly){if(!(lw in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const i=t.idBlock.valueHexView,a=e.idBlock.valueHexView;if(i.length!==a.length)return{verified:!1,result:r};for(let s=0;s<i.length;s++)if(i[s]!==a[1])return{verified:!1,result:r}}if(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Mn),t.name&&(r[t.name]=e)),t instanceof Ve.Constructed){let i=0,a={verified:!1,result:{error:"Unknown error"}},s=t.valueBlock.value.length;if(s>0&&t.valueBlock.value[0]instanceof lh&&(s=e.valueBlock.value.length),s===0)return{verified:!0,result:r};if(e.valueBlock.value.length===0&&t.valueBlock.value.length!==0){let c=!0;for(let f=0;f<t.valueBlock.value.length;f++)c=c&&(t.valueBlock.value[f].optional||!1);return c?{verified:!0,result:r}:(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Mn),t.name&&delete r[t.name]),r.error="Inconsistent object length",{verified:!1,result:r})}for(let c=0;c<s;c++)if(c-i>=e.valueBlock.value.length){if(t.valueBlock.value[c].optional===!1){const f={verified:!1,result:r};return r.error="Inconsistent length between ASN.1 data and schema",t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Mn),t.name&&(delete r[t.name],f.name=t.name)),f}}else if(t.valueBlock.value[0]instanceof lh){if(a=Ls(r,e.valueBlock.value[c],t.valueBlock.value[0].value),a.verified===!1)if(t.valueBlock.value[0].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Mn),t.name&&delete r[t.name]),a;if(wg in t.valueBlock.value[0]&&t.valueBlock.value[0].name.length>0){let f={};vG in t.valueBlock.value[0]&&t.valueBlock.value[0].local?f=e:f=r,typeof f[t.valueBlock.value[0].name]>"u"&&(f[t.valueBlock.value[0].name]=[]),f[t.valueBlock.value[0].name].push(e.valueBlock.value[c])}}else if(a=Ls(r,e.valueBlock.value[c-i],t.valueBlock.value[c]),a.verified===!1)if(t.valueBlock.value[c].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Mn),t.name&&delete r[t.name]),a;if(a.verified===!1){const c={verified:!1,result:r};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Mn),t.name&&(delete r[t.name],c.name=t.name)),c}return{verified:!0,result:r}}if(t.primitiveSchema&&lw in e.valueBlock){const i=nl(e.valueBlock.valueHexView);if(i.offset===-1){const a={verified:!1,result:i.result};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Mn),t.name&&(delete r[t.name],a.name=t.name)),a}return Ls(r,i.result,t.primitiveSchema)}return{verified:!0,result:r}}function AG(r,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const t=nl(Et.toUint8Array(r));return t.offset===-1?{verified:!1,result:t.result}:Ls(t.result,t.result,e)}const OE=Object.freeze(Object.defineProperty({__proto__:null,Any:af,BaseBlock:Wr,BaseStringBlock:Oy,BitString:Vs,BmpString:vp,Boolean:hp,CharacterString:Sp,Choice:Gy,Constructed:Rn,DATE:Uy,DateTime:Hy,Duration:Vy,EndOfContent:Ny,Enumerated:pp,GeneralString:_p,GeneralizedTime:Tp,GraphicString:Ep,HexBlock:Vo,IA5String:Ap,Integer:Wi,Null:of,NumericString:mp,ObjectIdentifier:gp,OctetString:la,Primitive:Xu,PrintableString:yp,RawData:wG,RelativeObjectIdentifier:Dy,Repeated:lh,Sequence:ua,Set:da,TIME:jy,TeletexString:xp,TimeOfDay:Fy,UTCTime:t0,UniversalString:bp,Utf8String:Ca,ValueBlock:En,VideotexString:wp,ViewWriter:up,VisibleString:e0,compareSchema:Ls,fromBER:dc,verifySchema:AG},Symbol.toStringTag,{value:"Module"}));var yn;(function(r){r[r.Sequence=0]="Sequence",r[r.Set=1]="Set",r[r.Choice=2]="Choice"})(yn||(yn={}));var qt;(function(r){r[r.Any=1]="Any",r[r.Boolean=2]="Boolean",r[r.OctetString=3]="OctetString",r[r.BitString=4]="BitString",r[r.Integer=5]="Integer",r[r.Enumerated=6]="Enumerated",r[r.ObjectIdentifier=7]="ObjectIdentifier",r[r.Utf8String=8]="Utf8String",r[r.BmpString=9]="BmpString",r[r.UniversalString=10]="UniversalString",r[r.NumericString=11]="NumericString",r[r.PrintableString=12]="PrintableString",r[r.TeletexString=13]="TeletexString",r[r.VideotexString=14]="VideotexString",r[r.IA5String=15]="IA5String",r[r.GraphicString=16]="GraphicString",r[r.VisibleString=17]="VisibleString",r[r.GeneralString=18]="GeneralString",r[r.CharacterString=19]="CharacterString",r[r.UTCTime=20]="UTCTime",r[r.GeneralizedTime=21]="GeneralizedTime",r[r.DATE=22]="DATE",r[r.TimeOfDay=23]="TimeOfDay",r[r.DateTime=24]="DateTime",r[r.Duration=25]="Duration",r[r.TIME=26]="TIME",r[r.Null=27]="Null"})(qt||(qt={}));class EG{constructor(e,t=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(Et.isBufferSource(e))this.unusedBits=t,this.value=Et.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Vs))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Vs({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Vs({name:e})}toNumber(){let e="";const t=new Uint8Array(this.value);for(const n of t)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let t=e.toString(2);const n=t.length+7>>3;this.unusedBits=(n<<3)-t.length;const o=new Uint8Array(n);t=t.padStart(n<<3,"0").split("").reverse().join("");let i=0;for(;i<n;)o[i]=parseInt(t.slice(i<<3,(i<<3)+8),2),i++;this.value=o.buffer}}class NE{constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):Et.isBufferSource(e)?this.buffer=Et.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(e){if(!(e instanceof la))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new la({valueHex:this.buffer})}toSchema(e){return new la({name:e})}}const LE={fromASN:r=>r instanceof of?null:r.valueBeforeDecodeView,toASN:r=>{if(r===null)return new of;const e=dc(r);if(e.result.error)throw new Error(e.result.error);return e.result}},DE={fromASN:r=>r.valueBlock.valueHexView.byteLength>=4?r.valueBlock.toString():r.valueBlock.valueDec,toASN:r=>new Wi({value:+r})},UE={fromASN:r=>r.valueBlock.valueDec,toASN:r=>new pp({value:r})},_G={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new Wi({valueHex:r})},SG={fromASN:r=>r.toBigInt(),toASN:r=>Wi.fromBigInt(r)},FE={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new Vs({valueHex:r})},HE={fromASN:r=>r.valueBlock.toString(),toASN:r=>new gp({value:r})},VE={fromASN:r=>r.valueBlock.value,toASN:r=>new hp({value:r})},jE={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new la({valueHex:r})},TG={fromASN:r=>new NE(r.getValue()),toASN:r=>r.toASN()};function Si(r){return{fromASN:e=>e.valueBlock.value,toASN:e=>new r({value:e})}}const GE=Si(Ca),zE=Si(vp),qE=Si(bp),KE=Si(mp),$E=Si(yp),WE=Si(xp),QE=Si(wp),JE=Si(Ap),YE=Si(Ep),ZE=Si(e0),XE=Si(_p),e_=Si(Sp),t_={fromASN:r=>r.toDate(),toASN:r=>new t0({valueDate:r})},r_={fromASN:r=>r.toDate(),toASN:r=>new Tp({valueDate:r})},n_={fromASN:()=>null,toASN:()=>new of};function kp(r){switch(r){case qt.Any:return LE;case qt.BitString:return FE;case qt.BmpString:return zE;case qt.Boolean:return VE;case qt.CharacterString:return e_;case qt.Enumerated:return UE;case qt.GeneralString:return XE;case qt.GeneralizedTime:return r_;case qt.GraphicString:return YE;case qt.IA5String:return JE;case qt.Integer:return DE;case qt.Null:return n_;case qt.NumericString:return KE;case qt.ObjectIdentifier:return HE;case qt.OctetString:return jE;case qt.PrintableString:return $E;case qt.TeletexString:return WE;case qt.UTCTime:return t_;case qt.UniversalString:return qE;case qt.Utf8String:return GE;case qt.VideotexString:return QE;case qt.VisibleString:return ZE;default:return null}}function ia(r){return typeof r=="function"&&r.prototype?r.prototype.toASN&&r.prototype.fromASN?!0:ia(r.prototype):!!(r&&typeof r=="object"&&"toASN"in r&&"fromASN"in r)}function i_(r){var e;if(r){const t=Object.getPrototypeOf(r);return((e=t?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:i_(t)}return!1}function kG(r,e){if(!(r&&e)||r.byteLength!==e.byteLength)return!1;const t=new Uint8Array(r),n=new Uint8Array(e);for(let o=0;o<r.byteLength;o++)if(t[o]!==n[o])return!1;return!0}class CG{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){const n=this.items.get(e);if(!n)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!n.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(e){const t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){const t={type:yn.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(t,n),t.items=Object.assign({},t.items,n.items)),t}create(e,t){const n=this.items.get(e)||this.createDefault(e),o=[];for(const i in n.items){const a=n.items[i],s=t?i:"";let c;if(typeof a.type=="number"){const u=qt[a.type],h=OE[u];if(!h)throw new Error(`Cannot get ASN1 class by name '${u}'`);c=new h({name:s})}else ia(a.type)?c=new a.type().toSchema(s):a.optional?this.get(a.type).type===yn.Choice?c=new af({name:s}):(c=this.create(a.type,!1),c.name=s):c=new af({name:s});const f=!!a.optional||a.defaultValue!==void 0;if(a.repeated){c.name="";const u=a.repeated==="set"?da:ua;c=new u({name:"",value:[new lh({name:s,value:c})]})}if(a.context!==null&&a.context!==void 0)if(a.implicit)if(typeof a.type=="number"||ia(a.type)){const u=a.repeated?Rn:Xu;o.push(new u({name:s,optional:f,idBlock:{tagClass:3,tagNumber:a.context}}))}else{this.cache(a.type);const u=!!a.repeated;let h=u?c:this.get(a.type,!0).schema;h="valueBlock"in h?h.valueBlock.value:h.value,o.push(new Rn({name:u?"":s,optional:f,idBlock:{tagClass:3,tagNumber:a.context},value:h}))}else o.push(new Rn({optional:f,idBlock:{tagClass:3,tagNumber:a.context},value:[c]}));else c.optional=f,o.push(c)}switch(n.type){case yn.Sequence:return new ua({value:o,name:""});case yn.Set:return new da({value:o,name:""});case yn.Choice:return new Gy({value:o,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){const t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}const bi=new CG,Cp=r=>e=>{let t;bi.has(e)?t=bi.get(e):(t=bi.createDefault(e),bi.set(e,t)),Object.assign(t,r)},MG=()=>Cp({type:yn.Choice}),IG=r=>Cp({type:yn.Set,...r}),PG=r=>Cp({type:yn.Sequence,...r}),BG=r=>(e,t)=>{let n;bi.has(e.constructor)?n=bi.get(e.constructor):(n=bi.createDefault(e.constructor),bi.set(e.constructor,n));const o=Object.assign({},r);if(typeof o.type=="number"&&!o.converter){const i=kp(r.type);if(!i)throw new Error(`Cannot get default converter for property '${t}' of ${e.constructor.name}`);o.converter=i}n.items[t]=o};class Nb extends Error{constructor(){super(...arguments),this.schemas=[]}}class zy{static parse(e,t){const n=dc(e);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,t)}static fromASN(e,t){var n;try{if(ia(t))return new t().fromASN(e);const o=bi.get(t);bi.cache(t);let i=o.schema;if(e.constructor===Rn&&o.type!==yn.Choice){i=new Rn({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:o.schema.valueBlock.value});for(const c in o.items)delete e[c]}const a=Ls({},e,i);if(!a.verified)throw new Nb(`Data does not match to ${t.name} ASN1 schema. ${a.result.error}`);const s=new t;if(i_(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const c=o.itemType;if(typeof c=="number"){const f=kp(c);if(!f)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,u=>f.fromASN(u))}else return t.from(e.valueBlock.value,f=>this.fromASN(f,c))}for(const c in o.items){const f=a.result[c];if(!f)continue;const u=o.items[c],h=u.type;if(typeof h=="number"||ia(h)){const w=(n=u.converter)!==null&&n!==void 0?n:ia(h)?new h:null;if(!w)throw new Error("Converter is empty");if(u.repeated)if(u.implicit){const T=u.repeated==="sequence"?ua:da,I=new T;I.valueBlock=f.valueBlock;const R=dc(I.toBER(!1));if(R.offset===-1)throw new Error(`Cannot parse the child item. ${R.result.error}`);if(!("value"in R.result.valueBlock&&Array.isArray(R.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const P=R.result.valueBlock.value;s[c]=Array.from(P,B=>w.fromASN(B))}else s[c]=Array.from(f,T=>w.fromASN(T));else{let T=f;if(u.implicit){let I;if(ia(h))I=new h().toSchema("");else{const R=qt[h],P=OE[R];if(!P)throw new Error(`Cannot get '${R}' class from asn1js module`);I=new P}I.valueBlock=T.valueBlock,T=dc(I.toBER(!1)).result}s[c]=w.fromASN(T)}}else if(u.repeated){if(!Array.isArray(f))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");s[c]=Array.from(f,w=>this.fromASN(w,h))}else s[c]=this.fromASN(f,h)}return s}catch(o){throw o instanceof Nb&&o.schemas.push(t.name),o}}}class Mp{static serialize(e){return e instanceof Wr?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&ia(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");const t=e.constructor,n=bi.get(t);bi.cache(t);let o=[];if(n.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){const a=kp(n.itemType);if(!a)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);o=e.map(s=>a.toASN(s))}else o=e.map(a=>this.toAsnItem({type:n.itemType},"[]",t,a))}else for(const a in n.items){const s=n.items[a],c=e[a];if(c===void 0||s.defaultValue===c||typeof s.defaultValue=="object"&&typeof c=="object"&&kG(this.serialize(s.defaultValue),this.serialize(c)))continue;const f=Mp.toAsnItem(s,a,t,c);if(typeof s.context=="number")if(s.implicit)if(!s.repeated&&(typeof s.type=="number"||ia(s.type))){const u={};u.valueHex=f instanceof of?f.valueBeforeDecodeView:f.valueBlock.toBER(),o.push(new Xu({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},...u}))}else o.push(new Rn({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:f.valueBlock.value}));else o.push(new Rn({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:[f]}));else s.repeated?o=o.concat(f):o.push(f)}let i;switch(n.type){case yn.Sequence:i=new ua({value:o});break;case yn.Set:i=new da({value:o});break;case yn.Choice:if(!o[0])throw new Error(`Schema '${t.name}' has wrong data. Choice cannot be empty.`);i=o[0];break}return i}static toAsnItem(e,t,n,o){let i;if(typeof e.type=="number"){const a=e.converter;if(!a)throw new Error(`Property '${t}' doesn't have converter for type ${qt[e.type]} in schema '${n.name}'`);if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");const s=Array.from(o,f=>a.toASN(f)),c=e.repeated==="sequence"?ua:da;i=new c({value:s})}else i=a.toASN(o)}else if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(o,c=>this.toASN(c)),s=e.repeated==="sequence"?ua:da;i=new s({value:a})}else i=this.toASN(o);return i}}class RG extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(const t of e)this.push(t)}}}class qy{static serialize(e){return Mp.serialize(e)}static parse(e,t){return zy.parse(e,t)}static toString(e){const t=Et.isBufferSource(e)?Et.toArrayBuffer(e):qy.serialize(e),n=dc(t);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}}const OG=Object.freeze(Object.defineProperty({__proto__:null,AsnProp:BG,AsnType:Cp,AsnChoiceType:MG,AsnSequenceType:PG,AsnSetType:IG,get AsnTypeTypes(){return yn},get AsnPropTypes(){return qt},AsnParser:zy,AsnSerializer:Mp,AsnAnyConverter:LE,AsnIntegerConverter:DE,AsnEnumeratedConverter:UE,AsnIntegerArrayBufferConverter:_G,AsnIntegerBigIntConverter:SG,AsnBitStringConverter:FE,AsnObjectIdentifierConverter:HE,AsnBooleanConverter:VE,AsnOctetStringConverter:jE,AsnConstructedOctetStringConverter:TG,AsnUtf8StringConverter:GE,AsnBmpStringConverter:zE,AsnUniversalStringConverter:qE,AsnNumericStringConverter:KE,AsnPrintableStringConverter:$E,AsnTeletexStringConverter:WE,AsnVideotexStringConverter:QE,AsnIA5StringConverter:JE,AsnGraphicStringConverter:YE,AsnVisibleStringConverter:ZE,AsnGeneralStringConverter:XE,AsnCharacterStringConverter:e_,AsnUTCTimeConverter:t_,AsnGeneralizedTimeConverter:r_,AsnNullConverter:n_,defaultConverter:kp,BitString:EG,OctetString:NE,AsnSchemaValidationError:Nb,AsnArray:RG,AsnConvert:qy},Symbol.toStringTag,{value:"Module"})),Xt=ar(OG);var yf=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.UsageProof=Lo.Proof=void 0;const Ln=Xt;class r0{}yf([(0,Ln.AsnProp)({type:Ln.AsnPropTypes.OctetString})],r0.prototype,"riddle",void 0);yf([(0,Ln.AsnProp)({type:Ln.AsnPropTypes.OctetString})],r0.prototype,"challengePoint",void 0);yf([(0,Ln.AsnProp)({type:Ln.AsnPropTypes.OctetString})],r0.prototype,"responseValue",void 0);yf([(0,Ln.AsnProp)({type:Ln.AsnPropTypes.OctetString})],r0.prototype,"nonce",void 0);Lo.Proof=r0;class Ip{}yf([(0,Ln.AsnProp)({type:Ln.AsnPropTypes.OctetString})],Ip.prototype,"challengePoint",void 0);yf([(0,Ln.AsnProp)({type:Ln.AsnPropTypes.OctetString})],Ip.prototype,"responseValue",void 0);yf([(0,Ln.AsnProp)({type:Ln.AsnPropTypes.OctetString})],Ip.prototype,"nonce",void 0);Lo.UsageProof=Ip;var Ti={},Pp={exports:{}},NG="Function.prototype.bind called on incompatible ",Ag=Array.prototype.slice,LG=Object.prototype.toString,DG="[object Function]",UG=function(e){var t=this;if(typeof t!="function"||LG.call(t)!==DG)throw new TypeError(NG+t);for(var n=Ag.call(arguments,1),o,i=function(){if(this instanceof o){var u=t.apply(this,n.concat(Ag.call(arguments)));return Object(u)===u?u:this}else return t.apply(e,n.concat(Ag.call(arguments)))},a=Math.max(0,t.length-n.length),s=[],c=0;c<a;c++)s.push("$"+c);if(o=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var f=function(){};f.prototype=t.prototype,o.prototype=new f,f.prototype=null}return o},FG=UG,Ky=Function.prototype.bind||FG,o_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==o||a.enumerable!==!0)return!1}return!0},dw=typeof Symbol<"u"&&Symbol,HG=o_,il=function(){return typeof dw!="function"||typeof Symbol!="function"||typeof dw("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:HG()},VG=Ky,Ma=VG.call(Function.call,Object.prototype.hasOwnProperty),Tt,Rc=SyntaxError,a_=Function,hc=TypeError,Eg=function(r){try{return a_('"use strict"; return ('+r+").constructor;")()}catch{}},js=Object.getOwnPropertyDescriptor;if(js)try{js({},"")}catch{js=null}var _g=function(){throw new hc},jG=js?function(){try{return arguments.callee,_g}catch{try{return js(arguments,"callee").get}catch{return _g}}}():_g,Lf=il(),mo=Object.getPrototypeOf||function(r){return r.__proto__},$f={},GG=typeof Uint8Array>"u"?Tt:mo(Uint8Array),Gs={"%AggregateError%":typeof AggregateError>"u"?Tt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Tt:ArrayBuffer,"%ArrayIteratorPrototype%":Lf?mo([][Symbol.iterator]()):Tt,"%AsyncFromSyncIteratorPrototype%":Tt,"%AsyncFunction%":$f,"%AsyncGenerator%":$f,"%AsyncGeneratorFunction%":$f,"%AsyncIteratorPrototype%":$f,"%Atomics%":typeof Atomics>"u"?Tt:Atomics,"%BigInt%":typeof BigInt>"u"?Tt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Tt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Tt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Tt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Tt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Tt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Tt:FinalizationRegistry,"%Function%":a_,"%GeneratorFunction%":$f,"%Int8Array%":typeof Int8Array>"u"?Tt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Tt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Tt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Lf?mo(mo([][Symbol.iterator]())):Tt,"%JSON%":typeof JSON=="object"?JSON:Tt,"%Map%":typeof Map>"u"?Tt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Lf?Tt:mo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Tt:Promise,"%Proxy%":typeof Proxy>"u"?Tt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Tt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Tt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Lf?Tt:mo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Tt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Lf?mo(""[Symbol.iterator]()):Tt,"%Symbol%":Lf?Symbol:Tt,"%SyntaxError%":Rc,"%ThrowTypeError%":jG,"%TypedArray%":GG,"%TypeError%":hc,"%Uint8Array%":typeof Uint8Array>"u"?Tt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Tt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Tt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Tt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Tt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Tt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Tt:WeakSet};try{null.error}catch(r){var zG=mo(mo(r));Gs["%Error.prototype%"]=zG}var qG=function r(e){var t;if(e==="%AsyncFunction%")t=Eg("async function () {}");else if(e==="%GeneratorFunction%")t=Eg("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Eg("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=r("%AsyncGenerator%");o&&(t=mo(o.prototype))}return Gs[e]=t,t},hw={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},n0=Ky,uh=Ma,KG=n0.call(Function.call,Array.prototype.concat),$G=n0.call(Function.apply,Array.prototype.splice),pw=n0.call(Function.call,String.prototype.replace),dh=n0.call(Function.call,String.prototype.slice),WG=n0.call(Function.call,RegExp.prototype.exec),QG=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,JG=/\\(\\)?/g,YG=function(e){var t=dh(e,0,1),n=dh(e,-1);if(t==="%"&&n!=="%")throw new Rc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Rc("invalid intrinsic syntax, expected opening `%`");var o=[];return pw(e,QG,function(i,a,s,c){o[o.length]=s?pw(c,JG,"$1"):a||i}),o},ZG=function(e,t){var n=e,o;if(uh(hw,n)&&(o=hw[n],n="%"+o[0]+"%"),uh(Gs,n)){var i=Gs[n];if(i===$f&&(i=qG(n)),typeof i>"u"&&!t)throw new hc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Rc("intrinsic "+e+" does not exist!")},Mt=function(e,t){if(typeof e!="string"||e.length===0)throw new hc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new hc('"allowMissing" argument must be a boolean');if(WG(/^%?[^%]*%?$/,e)===null)throw new Rc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=YG(e),o=n.length>0?n[0]:"",i=ZG("%"+o+"%",t),a=i.name,s=i.value,c=!1,f=i.alias;f&&(o=f[0],$G(n,KG([0,1],f)));for(var u=1,h=!0;u<n.length;u+=1){var w=n[u],T=dh(w,0,1),I=dh(w,-1);if((T==='"'||T==="'"||T==="`"||I==='"'||I==="'"||I==="`")&&T!==I)throw new Rc("property names with quotes must have matching quotes");if((w==="constructor"||!h)&&(c=!0),o+="."+w,a="%"+o+"%",uh(Gs,a))s=Gs[a];else if(s!=null){if(!(w in s)){if(!t)throw new hc("base intrinsic for "+e+" exists, but the property is not available.");return}if(js&&u+1>=n.length){var R=js(s,w);h=!!R,h&&"get"in R&&!("originalValue"in R.get)?s=R.get:s=s[w]}else h=uh(s,w),s=s[w];h&&!c&&(Gs[a]=s)}}return s};(function(r){var e=Ky,t=Mt,n=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),i=t("%Reflect.apply%",!0)||e.call(o,n),a=t("%Object.getOwnPropertyDescriptor%",!0),s=t("%Object.defineProperty%",!0),c=t("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}r.exports=function(h){var w=i(e,o,arguments);if(a&&s){var T=a(w,"length");T.configurable&&s(w,"length",{value:1+c(0,h.length-(arguments.length-1))})}return w};var f=function(){return i(e,n,arguments)};s?s(r.exports,"apply",{value:f}):r.exports.apply=f})(Pp);var gw=Object.prototype.toString,s_=function(e){var t=gw.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&gw.call(e.callee)==="[object Function]"),n},Sg,vw;function XG(){if(vw)return Sg;vw=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=s_,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(w){var T=w.constructor;return T&&T.prototype===w},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var w in window)try{if(!f["$"+w]&&e.call(window,w)&&window[w]!==null&&typeof window[w]=="object")try{c(window[w])}catch{return!0}}catch{return!0}return!1}(),h=function(w){if(typeof window>"u"||!u)return c(w);try{return c(w)}catch{return!1}};r=function(T){var I=T!==null&&typeof T=="object",R=t.call(T)==="[object Function]",P=n(T),B=I&&t.call(T)==="[object String]",O=[];if(!I&&!R&&!P)throw new TypeError("Object.keys called on a non-object");var H=a&&R;if(B&&T.length>0&&!e.call(T,0))for(var $=0;$<T.length;++$)O.push(String($));if(P&&T.length>0)for(var J=0;J<T.length;++J)O.push(String(J));else for(var ie in T)!(H&&ie==="prototype")&&e.call(T,ie)&&O.push(String(ie));if(i)for(var we=h(T),de=0;de<s.length;++de)!(we&&s[de]==="constructor")&&e.call(T,s[de])&&O.push(s[de]);return O}}return Sg=r,Sg}var ez=Array.prototype.slice,tz=s_,bw=Object.keys,Td=bw?function(e){return bw(e)}:XG(),mw=Object.keys;Td.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(n){return tz(n)?mw(ez.call(n)):mw(n)})}else Object.keys=Td;return Object.keys||Td};var rz=Td,nz=Mt,Lb=nz("%Object.defineProperty%",!0),Db=function(){if(Lb)try{return Lb({},"a",{value:1}),!0}catch{return!1}return!1};Db.hasArrayLengthDefineBug=function(){if(!Db())return null;try{return Lb([],"length",{value:1}).length!==1}catch{return!0}};var f_=Db,iz=rz,oz=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",az=Object.prototype.toString,sz=Array.prototype.concat,c_=Object.defineProperty,fz=function(r){return typeof r=="function"&&az.call(r)==="[object Function]"},cz=f_(),l_=c_&&cz,lz=function(r,e,t,n){if(e in r){if(n===!0){if(r[e]===t)return}else if(!fz(n)||!n())return}l_?c_(r,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):r[e]=t},u_=function(r,e){var t=arguments.length>2?arguments[2]:{},n=iz(e);oz&&(n=sz.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)lz(r,n[o],e[n[o]],t[n[o]])};u_.supportsDescriptors=!!l_;var i0=u_,d_=Mt,h_=Pp.exports,uz=h_(d_("String.prototype.indexOf")),ro=function(e,t){var n=d_(e,!!t);return typeof n=="function"&&uz(e,".prototype.")>-1?h_(n):n},Tg={exports:{}},kg,yw;function p_(){if(yw)return kg;yw=1;var r=Mt,e=r("%Array%"),t=!e.isArray&&ro("Object.prototype.toString");return kg=e.isArray||function(o){return t(o)==="[object Array]"},kg}var xw;function g_(){return xw||(xw=1,function(r){r.exports=p_()}(Tg)),Tg.exports}var v_=Mt,dz=ro,hz=v_("%TypeError%"),pz=g_(),gz=v_("%Reflect.apply%",!0)||dz("%Function.prototype.apply%"),b_=function(e,t){var n=arguments.length>2?arguments[2]:[];if(!pz(n))throw new hz("Assertion failed: optional `argumentsList`, if provided, must be a List");return gz(e,t,n)},Cg,ww;function $y(){if(ww)return Cg;ww=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=o&&i&&typeof i.get=="function"?i.get:null,s=o&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,f=c?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,h=u?WeakSet.prototype.has:null,w=typeof WeakRef=="function"&&WeakRef.prototype,T=w?WeakRef.prototype.deref:null,I=Boolean.prototype.valueOf,R=Object.prototype.toString,P=Function.prototype.toString,B=String.prototype.match,O=String.prototype.slice,H=String.prototype.replace,$=String.prototype.toUpperCase,J=String.prototype.toLowerCase,ie=RegExp.prototype.test,we=Array.prototype.concat,de=Array.prototype.join,ce=Array.prototype.slice,be=Math.floor,L=typeof BigInt=="function"?BigInt.prototype.valueOf:null,S=Object.getOwnPropertySymbols,v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,l=typeof Symbol=="function"&&typeof Symbol.iterator=="object",p=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===l?"object":"symbol")?Symbol.toStringTag:null,b=Object.prototype.propertyIsEnumerable,y=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Z){return Z.__proto__}:null);function A(Z,oe){if(Z===1/0||Z===-1/0||Z!==Z||Z&&Z>-1e3&&Z<1e3||ie.call(/e/,oe))return oe;var Ce=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Z=="number"){var me=Z<0?-be(-Z):be(Z);if(me!==Z){var He=String(me),Te=O.call(oe,He.length+1);return H.call(He,Ce,"$&_")+"."+H.call(H.call(Te,/([0-9]{3})/g,"$&_"),/_$/,"")}}return H.call(oe,Ce,"$&_")}var E=xa,m=E.custom,g=fe(m)?m:null;Cg=function Z(oe,Ce,me,He){var Te=Ce||{};if(z(Te,"quoteStyle")&&Te.quoteStyle!=="single"&&Te.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(Te,"maxStringLength")&&(typeof Te.maxStringLength=="number"?Te.maxStringLength<0&&Te.maxStringLength!==1/0:Te.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Re=z(Te,"customInspect")?Te.customInspect:!0;if(typeof Re!="boolean"&&Re!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(Te,"indent")&&Te.indent!==null&&Te.indent!=="	"&&!(parseInt(Te.indent,10)===Te.indent&&Te.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(Te,"numericSeparator")&&typeof Te.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var dt=Te.numericSeparator;if(typeof oe>"u")return"undefined";if(oe===null)return"null";if(typeof oe=="boolean")return oe?"true":"false";if(typeof oe=="string")return se(oe,Te);if(typeof oe=="number"){if(oe===0)return 1/0/oe>0?"0":"-0";var je=String(oe);return dt?A(oe,je):je}if(typeof oe=="bigint"){var Ne=String(oe)+"n";return dt?A(oe,Ne):Ne}var ft=typeof Te.depth>"u"?5:Te.depth;if(typeof me>"u"&&(me=0),me>=ft&&ft>0&&typeof oe=="object")return V(oe)?"[Array]":"[Object]";var We=Ee(Te,me);if(typeof He>"u")He=[];else if(C(He,oe)>=0)return"[Circular]";function xe(Ye,Qe,Ar){if(Qe&&(He=ce.call(He),He.push(Qe)),Ar){var mr={depth:Te.depth};return z(Te,"quoteStyle")&&(mr.quoteStyle=Te.quoteStyle),Z(Ye,mr,me+1,He)}return Z(Ye,Te,me+1,He)}if(typeof oe=="function"&&!U(oe)){var _t=N(oe),et=Ke(oe,xe);return"[Function"+(_t?": "+_t:" (anonymous)")+"]"+(et.length>0?" { "+de.call(et,", ")+" }":"")}if(fe(oe)){var Ue=l?H.call(String(oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):v.call(oe);return typeof oe=="object"&&!l?ge(Ue):Ue}if(le(oe)){for(var st="<"+J.call(String(oe.nodeName)),Ze=oe.attributes||[],Be=0;Be<Ze.length;Be++)st+=" "+Ze[Be].name+"="+d(k(Ze[Be].value),"double",Te);return st+=">",oe.childNodes&&oe.childNodes.length&&(st+="..."),st+="</"+J.call(String(oe.nodeName))+">",st}if(V(oe)){if(oe.length===0)return"[]";var yt=Ke(oe,xe);return We&&!Pe(yt)?"["+nt(yt,We)+"]":"[ "+de.call(yt,", ")+" ]"}if(K(oe)){var Xe=Ke(oe,xe);return!("cause"in Error.prototype)&&"cause"in oe&&!b.call(oe,"cause")?"{ ["+String(oe)+"] "+de.call(we.call("[cause]: "+xe(oe.cause),Xe),", ")+" }":Xe.length===0?"["+String(oe)+"]":"{ ["+String(oe)+"] "+de.call(Xe,", ")+" }"}if(typeof oe=="object"&&Re){if(g&&typeof oe[g]=="function"&&E)return E(oe,{depth:ft-me});if(Re!=="symbol"&&typeof oe.inspect=="function")return oe.inspect()}if(M(oe)){var Oe=[];return n&&n.call(oe,function(Ye,Qe){Oe.push(xe(Qe,oe,!0)+" => "+xe(Ye,oe))}),Fe("Map",t.call(oe),Oe,We)}if(Q(oe)){var xt=[];return s&&s.call(oe,function(Ye){xt.push(xe(Ye,oe))}),Fe("Set",a.call(oe),xt,We)}if(D(oe))return he("WeakMap");if(ee(oe))return he("WeakSet");if(j(oe))return he("WeakRef");if(re(oe))return ge(xe(Number(oe)));if(ae(oe))return ge(xe(L.call(oe)));if(pe(oe))return ge(I.call(oe));if(W(oe))return ge(xe(String(oe)));if(!_(oe)&&!U(oe)){var Ge=Ke(oe,xe),Le=y?y(oe)===Object.prototype:oe instanceof Object||oe.constructor===Object,ot=oe instanceof Object?"":"null prototype",tt=!Le&&p&&Object(oe)===oe&&p in oe?O.call(Y(oe),8,-1):ot?"Object":"",De=Le||typeof oe.constructor!="function"?"":oe.constructor.name?oe.constructor.name+" ":"",wt=De+(tt||ot?"["+de.call(we.call([],tt||[],ot||[]),": ")+"] ":"");return Ge.length===0?wt+"{}":We?wt+"{"+nt(Ge,We)+"}":wt+"{ "+de.call(Ge,", ")+" }"}return String(oe)};function d(Z,oe,Ce){var me=(Ce.quoteStyle||oe)==="double"?'"':"'";return me+Z+me}function k(Z){return H.call(String(Z),/"/g,"&quot;")}function V(Z){return Y(Z)==="[object Array]"&&(!p||!(typeof Z=="object"&&p in Z))}function _(Z){return Y(Z)==="[object Date]"&&(!p||!(typeof Z=="object"&&p in Z))}function U(Z){return Y(Z)==="[object RegExp]"&&(!p||!(typeof Z=="object"&&p in Z))}function K(Z){return Y(Z)==="[object Error]"&&(!p||!(typeof Z=="object"&&p in Z))}function W(Z){return Y(Z)==="[object String]"&&(!p||!(typeof Z=="object"&&p in Z))}function re(Z){return Y(Z)==="[object Number]"&&(!p||!(typeof Z=="object"&&p in Z))}function pe(Z){return Y(Z)==="[object Boolean]"&&(!p||!(typeof Z=="object"&&p in Z))}function fe(Z){if(l)return Z&&typeof Z=="object"&&Z instanceof Symbol;if(typeof Z=="symbol")return!0;if(!Z||typeof Z!="object"||!v)return!1;try{return v.call(Z),!0}catch{}return!1}function ae(Z){if(!Z||typeof Z!="object"||!L)return!1;try{return L.call(Z),!0}catch{}return!1}var G=Object.prototype.hasOwnProperty||function(Z){return Z in this};function z(Z,oe){return G.call(Z,oe)}function Y(Z){return R.call(Z)}function N(Z){if(Z.name)return Z.name;var oe=B.call(P.call(Z),/^function\s*([\w$]+)/);return oe?oe[1]:null}function C(Z,oe){if(Z.indexOf)return Z.indexOf(oe);for(var Ce=0,me=Z.length;Ce<me;Ce++)if(Z[Ce]===oe)return Ce;return-1}function M(Z){if(!t||!Z||typeof Z!="object")return!1;try{t.call(Z);try{a.call(Z)}catch{return!0}return Z instanceof Map}catch{}return!1}function D(Z){if(!f||!Z||typeof Z!="object")return!1;try{f.call(Z,f);try{h.call(Z,h)}catch{return!0}return Z instanceof WeakMap}catch{}return!1}function j(Z){if(!T||!Z||typeof Z!="object")return!1;try{return T.call(Z),!0}catch{}return!1}function Q(Z){if(!a||!Z||typeof Z!="object")return!1;try{a.call(Z);try{t.call(Z)}catch{return!0}return Z instanceof Set}catch{}return!1}function ee(Z){if(!h||!Z||typeof Z!="object")return!1;try{h.call(Z,h);try{f.call(Z,f)}catch{return!0}return Z instanceof WeakSet}catch{}return!1}function le(Z){return!Z||typeof Z!="object"?!1:typeof HTMLElement<"u"&&Z instanceof HTMLElement?!0:typeof Z.nodeName=="string"&&typeof Z.getAttribute=="function"}function se(Z,oe){if(Z.length>oe.maxStringLength){var Ce=Z.length-oe.maxStringLength,me="... "+Ce+" more character"+(Ce>1?"s":"");return se(O.call(Z,0,oe.maxStringLength),oe)+me}var He=H.call(H.call(Z,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ve);return d(He,"single",oe)}function ve(Z){var oe=Z.charCodeAt(0),Ce={8:"b",9:"t",10:"n",12:"f",13:"r"}[oe];return Ce?"\\"+Ce:"\\x"+(oe<16?"0":"")+$.call(oe.toString(16))}function ge(Z){return"Object("+Z+")"}function he(Z){return Z+" { ? }"}function Fe(Z,oe,Ce,me){var He=me?nt(Ce,me):de.call(Ce,", ");return Z+" ("+oe+") {"+He+"}"}function Pe(Z){for(var oe=0;oe<Z.length;oe++)if(C(Z[oe],`
`)>=0)return!1;return!0}function Ee(Z,oe){var Ce;if(Z.indent==="	")Ce="	";else if(typeof Z.indent=="number"&&Z.indent>0)Ce=de.call(Array(Z.indent+1)," ");else return null;return{base:Ce,prev:de.call(Array(oe+1),Ce)}}function nt(Z,oe){if(Z.length===0)return"";var Ce=`
`+oe.prev+oe.base;return Ce+de.call(Z,","+Ce)+`
`+oe.prev}function Ke(Z,oe){var Ce=V(Z),me=[];if(Ce){me.length=Z.length;for(var He=0;He<Z.length;He++)me[He]=z(Z,He)?oe(Z[He],Z):""}var Te=typeof S=="function"?S(Z):[],Re;if(l){Re={};for(var dt=0;dt<Te.length;dt++)Re["$"+Te[dt]]=Te[dt]}for(var je in Z)!z(Z,je)||Ce&&String(Number(je))===je&&je<Z.length||l&&Re["$"+je]instanceof Symbol||(ie.call(/[^\w$]/,je)?me.push(oe(je,Z)+": "+oe(Z[je],Z)):me.push(je+": "+oe(Z[je],Z)));if(typeof S=="function")for(var Ne=0;Ne<Te.length;Ne++)b.call(Z,Te[Ne])&&me.push("["+oe(Te[Ne])+"]: "+oe(Z[Te[Ne]],Z));return me}return Cg}var Mg,Aw;function ol(){return Aw||(Aw=1,Mg=function(e){return typeof e=="string"||typeof e=="symbol"}),Mg}var Ig,Ew;function vz(){return Ew||(Ew=1,Ig=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),Ig}var Pg,_w;function Ir(){if(_w)return Pg;_w=1;var r=vz();return Pg=function(t){return typeof t=="symbol"?"Symbol":typeof t=="bigint"?"BigInt":r(t)},Pg}var bz=Mt,Sw=bz("%TypeError%"),mz=$y(),yz=ol(),xz=Ir(),Bp=function(e,t){if(xz(e)!=="Object")throw new Sw("Assertion failed: Type(O) is not Object");if(!yz(t))throw new Sw("Assertion failed: IsPropertyKey(P) is not true, got "+mz(t));return e[t]},Wy={exports:{}},wz=Mt,Az=wz("%TypeError%"),Ez=function(e,t){if(e==null)throw new Az(t||"Cannot call method on "+e);return e};(function(r){r.exports=Ez})(Wy);var Bg,Tw;function _z(){if(Tw)return Bg;Tw=1;var r=Mt,e=r("%Object%"),t=Wy.exports;return Bg=function(o){return t(o),e(o)},Bg}var Rg,kw;function Sz(){if(kw)return Rg;kw=1;var r=Mt,e=r("%TypeError%"),t=ol(),n=_z();return Rg=function(i,a){if(!t(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var s=n(i);return s[a]},Rg}var Og={exports:{}},Ng,Cw;function m_(){if(Cw)return Ng;Cw=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(O){O!==n&&(e=null)}else e=null;var o=/^\s*class\b/,i=function(H){try{var $=r.call(H);return o.test($)}catch{return!1}},a=function(H){try{return i(H)?!1:(r.call(H),!0)}catch{return!1}},s=Object.prototype.toString,c="[object Object]",f="[object Function]",u="[object GeneratorFunction]",h="[object HTMLAllCollection]",w="[object HTML document.all class]",T="[object HTMLCollection]",I=typeof Symbol=="function"&&!!Symbol.toStringTag,R=!(0 in[,]),P=function(){return!1};if(typeof document=="object"){var B=document.all;s.call(B)===s.call(document.all)&&(P=function(H){if((R||!H)&&(typeof H>"u"||typeof H=="object"))try{var $=s.call(H);return($===h||$===w||$===T||$===c)&&H("")==null}catch{}return!1})}return Ng=e?function(H){if(P(H))return!0;if(!H||typeof H!="function"&&typeof H!="object")return!1;try{e(H,null,t)}catch($){if($!==n)return!1}return!i(H)&&a(H)}:function(H){if(P(H))return!0;if(!H||typeof H!="function"&&typeof H!="object")return!1;if(I)return a(H);if(i(H))return!1;var $=s.call(H);return $!==f&&$!==u&&!/^\[object HTML/.test($)?!1:a(H)},Ng}var Mw;function Qy(){return Mw||(Mw=1,function(r){r.exports=m_()}(Og)),Og.exports}var Tz=Mt,Iw=Tz("%TypeError%"),kz=Sz(),Cz=Qy(),Mz=ol(),Iz=$y(),Pz=function(e,t){if(!Mz(t))throw new Iw("Assertion failed: IsPropertyKey(P) is not true");var n=kz(e,t);if(n!=null){if(!Cz(n))throw new Iw(t+" is not a function: "+Iz(n));return n}},Lg,Pw;function Jy(){if(Pw)return Lg;Pw=1;var r=o_;return Lg=function(){return r()&&!!Symbol.toStringTag},Lg}var Dg,Bw;function y_(){if(Bw)return Dg;Bw=1;var r=ro,e=Jy()(),t,n,o,i;if(e){t=r("Object.prototype.hasOwnProperty"),n=r("RegExp.prototype.exec"),o={};var a=function(){throw o};i={toString:a,valueOf:a},typeof Symbol.toPrimitive=="symbol"&&(i[Symbol.toPrimitive]=a)}var s=r("Object.prototype.toString"),c=Object.getOwnPropertyDescriptor,f="[object RegExp]";return Dg=e?function(h){if(!h||typeof h!="object")return!1;var w=c(h,"lastIndex"),T=w&&t(w,"value");if(!T)return!1;try{n(h,i)}catch(I){return I===o}}:function(h){return!h||typeof h!="object"&&typeof h!="function"?!1:s(h)===f},Dg}var Ug,Rw;function x_(){return Rw||(Rw=1,Ug=function(e){return!!e}),Ug}var Bz=Mt,Ow=Bz("%Symbol.match%",!0),Rz=y_(),Oz=x_(),Nz=function(e){if(!e||typeof e!="object")return!1;if(Ow){var t=e[Ow];if(typeof t<"u")return Oz(t)}return Rz(e)},w_=Mt,Lz=w_("%String%"),Dz=w_("%TypeError%"),Yy=function(e){if(typeof e=="symbol")throw new Dz("Cannot convert a Symbol value to a string");return Lz(e)},Zy={exports:{}},Bu=function(){return typeof function(){}.name=="string"},uu=Object.getOwnPropertyDescriptor;if(uu)try{uu([],"length")}catch{uu=null}Bu.functionsHaveConfigurableNames=function(){if(!Bu()||!uu)return!1;var e=uu(function(){},"name");return!!e&&!!e.configurable};var Uz=Function.prototype.bind;Bu.boundFunctionsHaveNames=function(){return Bu()&&typeof Uz=="function"&&function(){}.bind().name!==""};var Fz=Bu;(function(r){var e=Fz.functionsHaveConfigurableNames(),t=Object,n=TypeError;r.exports=function(){if(this!=null&&this!==t(this))throw new n("RegExp.prototype.flags getter called on non-object");var i="";return this.hasIndices&&(i+="d"),this.global&&(i+="g"),this.ignoreCase&&(i+="i"),this.multiline&&(i+="m"),this.dotAll&&(i+="s"),this.unicode&&(i+="u"),this.sticky&&(i+="y"),i},e&&Object.defineProperty&&Object.defineProperty(r.exports,"name",{value:"get flags"})})(Zy);var Hz=Zy.exports,Vz=i0.supportsDescriptors,jz=Object.getOwnPropertyDescriptor,A_=function(){if(Vz&&/a/mig.flags==="gim"){var e=jz(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),t==="dy")return e.get}}return Hz},Gz=i0.supportsDescriptors,zz=A_,qz=Object.getOwnPropertyDescriptor,Kz=Object.defineProperty,$z=TypeError,Nw=Object.getPrototypeOf,Wz=/a/,Qz=function(){if(!Gz||!Nw)throw new $z("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=zz(),t=Nw(Wz),n=qz(t,"flags");return(!n||n.get!==e)&&Kz(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},Jz=i0,Yz=Pp.exports,Zz=Zy.exports,E_=A_,Xz=Qz,__=Yz(E_());Jz(__,{getPolyfill:E_,implementation:Zz,shim:Xz});var S_=__,Fg,Lw;function T_(){return Lw||(Lw=1,Fg=function(e){return typeof e=="number"&&e>=55296&&e<=56319}),Fg}var Hg,Dw;function k_(){return Dw||(Dw=1,Hg=function(e){return typeof e=="number"&&e>=56320&&e<=57343}),Hg}var Vg,Uw;function eq(){if(Uw)return Vg;Uw=1;var r=Mt,e=r("%TypeError%"),t=r("%String.fromCharCode%"),n=T_(),o=k_();return Vg=function(a,s){if(!n(a)||!o(s))throw new e("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return t(a)+t(s)},Vg}var jg,Fw;function tq(){if(Fw)return jg;Fw=1;var r=Mt,e=r("%TypeError%"),t=ro,n=T_(),o=k_(),i=Ir(),a=eq(),s=t("String.prototype.charAt"),c=t("String.prototype.charCodeAt");return jg=function(u,h){if(i(u)!=="String")throw new e("Assertion failed: `string` must be a String");var w=u.length;if(h<0||h>=w)throw new e("Assertion failed: `position` must be >= 0, and < the length of `string`");var T=c(u,h),I=s(u,h),R=n(T),P=o(T);if(!R&&!P)return{"[[CodePoint]]":I,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(P||h+1===w)return{"[[CodePoint]]":I,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var B=c(u,h+1);return o(B)?{"[[CodePoint]]":a(T,B),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":I,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}},jg}var rq=Mt,nq=rq("%Math.abs%"),C_=function(e){return nq(e)},iq=Ir(),oq=Math.floor,M_=function(e){return iq(e)==="BigInt"?e:oq(e)},Rp=Number.isNaN||function(e){return e!==e},aq=Rp,I_=function(r){return(typeof r=="number"||typeof r=="bigint")&&!aq(r)&&r!==1/0&&r!==-1/0},Gg,Hw;function sq(){if(Hw)return Gg;Hw=1;var r=C_,e=M_,t=Ir(),n=Rp,o=I_;return Gg=function(a){if(t(a)!=="Number"||n(a)||!o(a))return!1;var s=r(a);return e(s)===s},Gg}var P_=Mt,fq=P_("%Math%"),cq=P_("%Number%"),B_=cq.MAX_SAFE_INTEGER||fq.pow(2,53)-1,zg,Vw;function lq(){if(Vw)return zg;Vw=1;var r=Mt,e=tq(),t=sq(),n=Ir(),o=B_,i=r("%TypeError%");return zg=function(s,c,f){if(n(s)!=="String")throw new i("Assertion failed: `S` must be a String");if(!t(c)||c<0||c>o)throw new i("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(n(f)!=="Boolean")throw new i("Assertion failed: `unicode` must be a Boolean");if(!f)return c+1;var u=s.length;if(c+1>=u)return c+1;var h=e(s,c);return c+h["[[CodeUnitCount]]"]},zg}var qg,jw;function uq(){if(jw)return qg;jw=1;var r=Mt,e=r("%TypeError%"),t=Ir();return qg=function(o,i){if(t(i)!=="Boolean")throw new e("Assertion failed: Type(done) is not Boolean");return{value:o,done:i}},qg}var Kg,Gw;function R_(){if(Gw)return Kg;Gw=1;var r=f_,e=Mt,t=r()&&e("%Object.defineProperty%",!0),n=r.hasArrayLengthDefineBug(),o=n&&p_(),i=ro,a=i("Object.prototype.propertyIsEnumerable");return Kg=function(c,f,u,h,w,T){if(!t){if(!c(T)||!T["[[Configurable]]"]||!T["[[Writable]]"]||w in h&&a(h,w)!==!!T["[[Enumerable]]"])return!1;var I=T["[[Value]]"];return h[w]=I,f(h[w],I)}return n&&w==="length"&&"[[Value]]"in T&&o(h)&&h.length!==T["[[Value]]"]?(h.length=T["[[Value]]"],h.length===T["[[Value]]"]):(t(h,w,u(T)),!0)},Kg}var $g,zw;function dq(){if(zw)return $g;zw=1;var r=Ma;return $g=function(t){return r(t,"[[StartIndex]]")&&r(t,"[[EndIndex]]")&&t["[[StartIndex]]"]>=0&&t["[[EndIndex]]"]>=t["[[StartIndex]]"]&&String(parseInt(t["[[StartIndex]]"],10))===String(t["[[StartIndex]]"])&&String(parseInt(t["[[EndIndex]]"],10))===String(t["[[EndIndex]]"])},$g}var Wg,qw;function Xy(){if(qw)return Wg;qw=1;var r=Mt,e=r("%TypeError%"),t=r("%SyntaxError%"),n=Ma,o=dq(),i={"Property Descriptor":function(s){var c={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var f in s)if(n(s,f)&&!c[f])return!1;var u=n(s,"[[Value]]"),h=n(s,"[[Get]]")||n(s,"[[Set]]");if(u&&h)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":o,"Iterator Record":function(s){return n(s,"[[Iterator]]")&&n(s,"[[NextMethod]]")&&n(s,"[[Done]]")},"PromiseCapability Record":function(s){return s&&n(s,"[[Resolve]]")&&typeof s["[[Resolve]]"]=="function"&&n(s,"[[Reject]]")&&typeof s["[[Reject]]"]=="function"&&n(s,"[[Promise]]")&&s["[[Promise]]"]&&typeof s["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(s){return s&&n(s,"[[Completion]]")&&n(s,"[[Capability]]")&&i["PromiseCapability Record"](s["[[Capability]]"])}};return Wg=function(s,c,f,u){var h=i[c];if(typeof h!="function")throw new t("unknown record type: "+c);if(s(u)!=="Object"||!h(u))throw new e(f+" must be a "+c)},Wg}var Qg,Kw;function hq(){return Kw||(Kw=1,Qg=function(e){if(typeof e>"u")return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}),Qg}var Jg,$w;function O_(){if($w)return Jg;$w=1;var r=Xy(),e=hq(),t=Ir();return Jg=function(o){return typeof o<"u"&&r(t,"Property Descriptor","Desc",o),e(o)},Jg}var Yg,Ww;function N_(){if(Ww)return Yg;Ww=1;var r=Ma,e=Xy(),t=Ir();return Yg=function(o){return!(typeof o>"u"||(e(t,"Property Descriptor","Desc",o),!r(o,"[[Value]]")&&!r(o,"[[Writable]]")))},Yg}var Zg,Qw;function e2(){if(Qw)return Zg;Qw=1;var r=Rp;return Zg=function(t,n){return t===n?t===0?1/t===1/n:!0:r(t)&&r(n)},Zg}var Xg,Jw;function pq(){if(Jw)return Xg;Jw=1;var r=Mt,e=r("%TypeError%"),t=R_(),n=O_(),o=N_(),i=ol(),a=e2(),s=Ir();return Xg=function(f,u,h){if(s(f)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!i(u))throw new e("Assertion failed: IsPropertyKey(P) is not true");var w={"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":h,"[[Writable]]":!0};return t(o,a,n,f,u,w)},Xg}var ev,Yw;function gq(){return Yw||(Yw=1,ev=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}),ev}var tv,Zw;function vq(){if(Zw)return tv;Zw=1;var r=Mt,e=ro,t=$y(),n=r("%TypeError%"),o=r("%WeakMap%",!0),i=r("%Map%",!0),a=e("WeakMap.prototype.get",!0),s=e("WeakMap.prototype.set",!0),c=e("WeakMap.prototype.has",!0),f=e("Map.prototype.get",!0),u=e("Map.prototype.set",!0),h=e("Map.prototype.has",!0),w=function(P,B){for(var O=P,H;(H=O.next)!==null;O=H)if(H.key===B)return O.next=H.next,H.next=P.next,P.next=H,H},T=function(P,B){var O=w(P,B);return O&&O.value},I=function(P,B,O){var H=w(P,B);H?H.value=O:P.next={key:B,next:P.next,value:O}},R=function(P,B){return!!w(P,B)};return tv=function(){var B,O,H,$={assert:function(J){if(!$.has(J))throw new n("Side channel does not contain "+t(J))},get:function(J){if(o&&J&&(typeof J=="object"||typeof J=="function")){if(B)return a(B,J)}else if(i){if(O)return f(O,J)}else if(H)return T(H,J)},has:function(J){if(o&&J&&(typeof J=="object"||typeof J=="function")){if(B)return c(B,J)}else if(i){if(O)return h(O,J)}else if(H)return R(H,J);return!1},set:function(J,ie){o&&J&&(typeof J=="object"||typeof J=="function")?(B||(B=new o),s(B,J,ie)):i?(O||(O=new i),u(O,J,ie)):(H||(H={key:{},next:null}),I(H,J,ie))}};return $},tv}var rv,Xw;function L_(){if(Xw)return rv;Xw=1;var r=Mt,e=Ma,t=vq()(),n=r("%TypeError%"),o={assert:function(i,a){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof a!="string")throw new n("`slot` must be a string");if(t.assert(i),!o.has(i,a))throw new n("`"+a+"` is not present on `O`")},get:function(i,a){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof a!="string")throw new n("`slot` must be a string");var s=t.get(i);return s&&s["$"+a]},has:function(i,a){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof a!="string")throw new n("`slot` must be a string");var s=t.get(i);return!!s&&e(s,"$"+a)},set:function(i,a,s){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof a!="string")throw new n("`slot` must be a string");var c=t.get(i);c||(c={},t.set(i,c)),c["$"+a]=s}};return Object.freeze&&Object.freeze(o),rv=o,rv}var nv,e6;function bq(){if(e6)return nv;e6=1;var r={foo:{}},e=Object;return nv=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof e)},nv}var iv,t6;function mq(){if(t6)return iv;t6=1;var r=Mt,e=r("%Object.create%",!0),t=r("%TypeError%"),n=r("%SyntaxError%"),o=g_(),i=Ir(),a=gq(),s=L_(),c=bq()();return iv=function(u){if(u!==null&&i(u)!=="Object")throw new t("Assertion failed: `proto` must be null or an object");var h=arguments.length<2?[]:arguments[1];if(!o(h))throw new t("Assertion failed: `additionalInternalSlotsList` must be an Array");var w;if(e)w=e(u);else if(c)w={__proto__:u};else{if(u===null)throw new n("native Object.create support is required to create null objects");var T=function(){};T.prototype=u,w=new T}return h.length>0&&a(h,function(I){s.set(w,I,void 0)}),w},iv}var ov,r6;function yq(){if(r6)return ov;r6=1;var r=Mt,e=r("%TypeError%"),t=ro("RegExp.prototype.exec"),n=b_,o=Bp,i=Qy(),a=Ir();return ov=function(c,f){if(a(c)!=="Object")throw new e("Assertion failed: `R` must be an Object");if(a(f)!=="String")throw new e("Assertion failed: `S` must be a String");var u=o(c,"exec");if(i(u)){var h=n(u,c,[f]);if(h===null||a(h)==="Object")return h;throw new e('"exec" method must return `null` or an Object')}return t(c,f)},ov}var xq=Mt,X0=xq("%TypeError%"),wq=ol(),n6=e2(),i6=Ir(),o6=function(){try{return delete[].length,!0}catch{return!1}}(),D_=function(e,t,n,o){if(i6(e)!=="Object")throw new X0("Assertion failed: `O` must be an Object");if(!wq(t))throw new X0("Assertion failed: `P` must be a Property Key");if(i6(o)!=="Boolean")throw new X0("Assertion failed: `Throw` must be a Boolean");if(o){if(e[t]=n,o6&&!n6(e[t],n))throw new X0("Attempted to assign to readonly property.");return!0}try{return e[t]=n,o6?n6(e[t],n):!0}catch{return!1}},av,a6;function Aq(){return a6||(a6=1,av=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),av}var sv,s6;function Eq(){return s6||(s6=1,sv=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),sv}var fv,f6;function _q(){if(f6)return fv;f6=1;var r=Date.prototype.getDay,e=function(a){try{return r.call(a),!0}catch{return!1}},t=Object.prototype.toString,n="[object Date]",o=Jy()();return fv=function(a){return typeof a!="object"||a===null?!1:o?e(a):t.call(a)===n},fv}var ed={exports:{}},c6;function Sq(){if(c6)return ed.exports;c6=1;var r=Object.prototype.toString,e=il();if(e){var t=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,o=function(a){return typeof a.valueOf()!="symbol"?!1:n.test(t.call(a))};ed.exports=function(a){if(typeof a=="symbol")return!0;if(r.call(a)!=="[object Symbol]")return!1;try{return o(a)}catch{return!1}}}else ed.exports=function(a){return!1};return ed.exports}var cv,l6;function Tq(){if(l6)return cv;l6=1;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=Eq(),t=m_(),n=_q(),o=Sq(),i=function(c,f){if(typeof c>"u"||c===null)throw new TypeError("Cannot call method on "+c);if(typeof f!="string"||f!=="number"&&f!=="string")throw new TypeError('hint must be "string" or "number"');var u=f==="string"?["toString","valueOf"]:["valueOf","toString"],h,w,T;for(T=0;T<u.length;++T)if(h=c[u[T]],t(h)&&(w=h.call(c),e(w)))return w;throw new TypeError("No default value")},a=function(c,f){var u=c[f];if(u!==null&&typeof u<"u"){if(!t(u))throw new TypeError(u+" returned for property "+f+" of object "+c+" is not a function");return u}};return cv=function(c){if(e(c))return c;var f="default";arguments.length>1&&(arguments[1]===String?f="string":arguments[1]===Number&&(f="number"));var u;if(r&&(Symbol.toPrimitive?u=a(c,Symbol.toPrimitive):o(c)&&(u=Symbol.prototype.valueOf)),typeof u<"u"){var h=u.call(c,f);if(e(h))return h;throw new TypeError("unable to convert exotic object to primitive")}return f==="default"&&(n(c)||o(c))&&(f="string"),i(c,f==="default"?"number":f)},cv}var lv,u6;function kq(){if(u6)return lv;u6=1;var r=Tq();return lv=function(t){return arguments.length>1?r(t,arguments[1]):r(t)},lv}var uv,d6;function Cq(){if(d6)return uv;d6=1;var r=ro,e=Mt,t=y_(),n=r("RegExp.prototype.exec"),o=e("%TypeError%");return uv=function(a){if(!t(a))throw new o("`regex` must be a RegExp");return function(c){return n(a,c)!==null}},uv}var dv,h6;function Mq(){if(h6)return dv;h6=1;var r=Mt,e=r("%Number%"),t=r("%RegExp%"),n=r("%TypeError%"),o=r("%parseInt%"),i=ro,a=Cq(),s=i("String.prototype.slice"),c=a(/^0b[01]+$/i),f=a(/^0o[0-7]+$/i),u=a(/^[-+]0x[0-9a-f]+$/i),h=["\x85","\u200B","\uFFFE"].join(""),w=new t("["+h+"]","g"),T=a(w),I=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),R=new RegExp("(^["+I+"]+)|(["+I+"]+$)","g"),P=i("String.prototype.replace"),B=function(H){return P(H,R,"")},O=Ir();return dv=function H($){if(O($)!=="String")throw new n("Assertion failed: `argument` is not a String");if(c($))return e(o(s($,2),2));if(f($))return e(o(s($,2),8));if(T($)||u($))return NaN;var J=B($);return J!==$?H(J):e($)},dv}var U_=Mt,p6=U_("%TypeError%"),g6=U_("%Number%"),Iq=Aq(),Pq=kq(),Bq=Mq(),Rq=function(e){var t=Iq(e)?e:Pq(e,g6);if(typeof t=="symbol")throw new p6("Cannot convert a Symbol value to a number");if(typeof t=="bigint")throw new p6("Conversion from 'BigInt' to 'number' is not allowed.");return typeof t=="string"?Bq(t):g6(t)},Oq=function(e){return e>=0?1:-1},Nq=C_,Lq=M_,Dq=Rq,Uq=Rp,Fq=I_,Hq=Oq,Vq=function(e){var t=Dq(e);if(Uq(t)||t===0)return 0;if(!Fq(t))return t;var n=Lq(Nq(t));return n===0?0:Hq(t)*n},v6=B_,jq=Vq,F_=function(e){var t=jq(e);return t<=0?0:t>v6?v6:t},hv,b6;function Gq(){if(b6)return hv;b6=1;var r=Mt,e=r("%Object.defineProperty%",!0),t=Jy()(),n=Ma,o=t?Symbol.toStringTag:null;return hv=function(a,s){var c=arguments.length>2&&arguments[2]&&arguments[2].force;o&&(c||!n(a,o))&&(e?e(a,o,{configurable:!0,enumerable:!1,value:s,writable:!1}):a[o]=s)},hv}var H_=Mt,zq=il(),du=H_("%TypeError%"),m6=H_("%IteratorPrototype%",!0),qq=lq(),td=uq(),V_=pq(),y6=Bp,Kq=mq(),$q=yq(),Wq=D_,Qq=F_,Jq=Yy,kd=Ir(),qr=L_(),Yq=Gq(),zs=function(e,t,n,o){if(kd(t)!=="String")throw new du("`S` must be a string");if(kd(n)!=="Boolean")throw new du("`global` must be a boolean");if(kd(o)!=="Boolean")throw new du("`fullUnicode` must be a boolean");qr.set(this,"[[IteratingRegExp]]",e),qr.set(this,"[[IteratedString]]",t),qr.set(this,"[[Global]]",n),qr.set(this,"[[Unicode]]",o),qr.set(this,"[[Done]]",!1)};m6&&(zs.prototype=Kq(m6));var Zq=function(){var e=this;if(kd(e)!=="Object")throw new du("receiver must be an object");if(!(e instanceof zs)||!qr.has(e,"[[IteratingRegExp]]")||!qr.has(e,"[[IteratedString]]")||!qr.has(e,"[[Global]]")||!qr.has(e,"[[Unicode]]")||!qr.has(e,"[[Done]]"))throw new du('"this" value must be a RegExpStringIterator instance');if(qr.get(e,"[[Done]]"))return td(void 0,!0);var t=qr.get(e,"[[IteratingRegExp]]"),n=qr.get(e,"[[IteratedString]]"),o=qr.get(e,"[[Global]]"),i=qr.get(e,"[[Unicode]]"),a=$q(t,n);if(a===null)return qr.set(e,"[[Done]]",!0),td(void 0,!0);if(o){var s=Jq(y6(a,"0"));if(s===""){var c=Qq(y6(t,"lastIndex")),f=qq(n,c,i);Wq(t,"lastIndex",f,!0)}return td(a,!1)}return qr.set(e,"[[Done]]",!0),td(a,!1)};V_(zs.prototype,"next",Zq);if(zq&&(Yq(zs.prototype,"RegExp String Iterator"),Symbol.iterator&&typeof zs.prototype[Symbol.iterator]!="function")){var Xq=function(){return this};V_(zs.prototype,Symbol.iterator,Xq)}var eK=function(e,t,n,o){return new zs(e,t,n,o)},rd={exports:{}},pv={exports:{}},x6;function tK(){return x6||(x6=1,function(r){r.exports=Mt}(pv)),pv.exports}var gv,w6;function rK(){if(w6)return gv;w6=1;var r=Mt,e=Ma,t=r("%TypeError%");return gv=function(o,i){if(o.Type(i)!=="Object")return!1;var a={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var s in i)if(e(i,s)&&!a[s])return!1;if(o.IsDataDescriptor(i)&&o.IsAccessorDescriptor(i))throw new t("Property Descriptors may not be both accessor and data descriptors");return!0},gv}var vv,A6;function nK(){if(A6)return vv;A6=1;var r=Ma,e=Xy(),t=Ir();return vv=function(o){return!(typeof o>"u"||(e(t,"Property Descriptor","Desc",o),!r(o,"[[Get]]")&&!r(o,"[[Set]]")))},vv}var bv,E6;function iK(){if(E6)return bv;E6=1;var r=Ma,e=Mt,t=e("%TypeError%"),n=Ir(),o=x_(),i=Qy();return bv=function(s){if(n(s)!=="Object")throw new t("ToPropertyDescriptor requires an object");var c={};if(r(s,"enumerable")&&(c["[[Enumerable]]"]=o(s.enumerable)),r(s,"configurable")&&(c["[[Configurable]]"]=o(s.configurable)),r(s,"value")&&(c["[[Value]]"]=s.value),r(s,"writable")&&(c["[[Writable]]"]=o(s.writable)),r(s,"get")){var f=s.get;if(typeof f<"u"&&!i(f))throw new t("getter must be a function");c["[[Get]]"]=f}if(r(s,"set")){var u=s.set;if(typeof u<"u"&&!i(u))throw new t("setter must be a function");c["[[Set]]"]=u}if((r(c,"[[Get]]")||r(c,"[[Set]]"))&&(r(c,"[[Value]]")||r(c,"[[Writable]]")))throw new t("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return c},bv}var mv,_6;function oK(){if(_6)return mv;_6=1;var r=Mt,e=r("%TypeError%"),t=rK(),n=R_(),o=O_(),i=nK(),a=N_(),s=ol(),c=e2(),f=iK(),u=Ir();return mv=function(w,T,I){if(u(w)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!s(T))throw new e("Assertion failed: IsPropertyKey(P) is not true");var R=t({Type:u,IsDataDescriptor:a,IsAccessorDescriptor:i},I)?I:f(I);if(!t({Type:u,IsDataDescriptor:a,IsAccessorDescriptor:i},R))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(a,c,o,w,T,R)},mv}var S6;function aK(){if(S6)return rd.exports;S6=1;var r=tK(),e=r("%Reflect.construct%",!0),t=oK();try{t({},"",{"[[Get]]":function(){}})}catch{t=null}if(t&&e){var n={},o={};t(o,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),rd.exports=function(a){try{e(a,o)}catch(s){return s===n}}}else rd.exports=function(a){return typeof a=="function"&&!!a.prototype};return rd.exports}var j_=Mt,T6=j_("%Symbol.species%",!0),yv=j_("%TypeError%"),sK=aK(),k6=Ir(),fK=function(e,t){if(k6(e)!=="Object")throw new yv("Assertion failed: Type(O) is not Object");var n=e.constructor;if(typeof n>"u")return t;if(k6(n)!=="Object")throw new yv("O.constructor is not an Object");var o=T6?n[T6]:void 0;if(o==null)return t;if(sK(o))return o;throw new yv("no constructor found")},cK=eK,G_=Bp,lK=D_,uK=fK,dK=F_,z_=Yy,hK=Ir(),pK=S_,gK=ro,C6=gK("String.prototype.indexOf"),q_=RegExp,vK="flags"in RegExp.prototype,bK=function(e,t){var n,o="flags"in t?G_(t,"flags"):z_(pK(t));return vK&&typeof o=="string"?n=new e(t,o):e===q_?n=new e(t.source,o):n=new e(t,o),{flags:o,matcher:n}},Ub=function(e){var t=this;if(hK(t)!=="Object")throw new TypeError('"this" value must be an Object');var n=z_(e),o=uK(t,q_),i=bK(o,t),a=i.flags,s=i.matcher,c=dK(G_(t,"lastIndex"));lK(s,"lastIndex",c,!0);var f=C6(a,"g")>-1,u=C6(a,"u")>-1;return cK(s,n,f,u)},M6=Object.defineProperty,I6=Object.getOwnPropertyDescriptor;if(M6&&I6){var P6=I6(Ub,"name");P6&&P6.configurable&&M6(Ub,"name",{value:"[Symbol.matchAll]"})}var mK=Ub,yK=il(),xK=mK,K_=function(){return!yK||typeof Symbol.matchAll!="symbol"||typeof RegExp.prototype[Symbol.matchAll]!="function"?xK:RegExp.prototype[Symbol.matchAll]},B6=b_,wK=Bp,AK=Pz,$_=Nz,R6=Yy,O6=Wy.exports,EK=ro,_K=il(),SK=S_,TK=EK("String.prototype.indexOf"),kK=K_,N6=function(e){var t=kK();if(_K&&typeof Symbol.matchAll=="symbol"){var n=AK(e,Symbol.matchAll);return n===RegExp.prototype[Symbol.matchAll]&&n!==t?t:n}if($_(e))return t},W_=function(e){var t=O6(this);if(typeof e<"u"&&e!==null){var n=$_(e);if(n){var o="flags"in e?wK(e,"flags"):SK(e);if(O6(o),TK(R6(o),"g")<0)throw new TypeError("matchAll requires a global regular expression")}var i=N6(e);if(typeof i<"u")return B6(i,e,[t])}var a=R6(t),s=new RegExp(e,"g");return B6(N6(s),s,[a])},CK=W_,Q_=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return CK},xv=i0,MK=il(),IK=Q_,PK=K_,L6=Object.defineProperty,D6=Object.getOwnPropertyDescriptor,BK=function(){var e=IK();if(xv(String.prototype,{matchAll:e},{matchAll:function(){return String.prototype.matchAll!==e}}),MK){var t=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(xv(Symbol,{matchAll:t},{matchAll:function(){return Symbol.matchAll!==t}}),L6&&D6){var n=D6(Symbol,t);(!n||n.configurable)&&L6(Symbol,t,{configurable:!1,enumerable:!1,value:t,writable:!1})}var o=PK(),i={};i[t]=o;var a={};a[t]=function(){return RegExp.prototype[t]!==o},xv(RegExp.prototype,i,a)}return e},RK=Pp.exports,OK=i0,J_=W_,NK=Q_,LK=BK,DK=RK(J_);OK(DK,{getPolyfill:NK,implementation:J_,shim:LK});(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Asn1Der=r.X500NamesLabels=void 0;const e=Yt(),t=ur,n={END_OF_CONTENT:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL_VALUE:5,OBJECT_ID:6,OBJECT_DESCRIPTOR:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PDV:11,UTF8STRING:12,RELATIVE_OID:13,SEQUENCE_10:16,SET_OF:17,NUMERABLE_STRING:18,PRINTABLE_STRING:19,T61STRING:20,VIDEO_TEX_STRING:21,IA5STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30,SEQUENCE_30:48,SET:49},o={0:"END_OF_CONTENT",1:"BOOLEAN",2:"INTEGER",3:"BIT_STRING",4:"OCTET_STRING",5:"NULL_VALUE",6:"OBJECT_ID",7:"OBJECT_DESCRIPTOR",8:"EXTERNAL",9:"REAL",10:"ENUMERATED",11:"EMBEDDED_PDV",12:"UTF8STRING",13:"RELATIVE_OID",16:"SEQUENCE_10",19:"PRINTABLE_STRING",22:"IA5STRING",24:"GENERALIZED_TIME",26:"VISIBLE_STRING",48:"SEQUENCE_30",49:"SET"};r.X500NamesLabels={CN:"2.5.4.3",C:"2.5.4.6",O:"2.5.4.10",OU:"2.5.4.11",L:"2.5.4.7",labeledURI:"1.3.6.1.4.1.250.1.57"};class i{static encodeAsInteger(s){return this.encode("INTEGER",s)}static encodeObjectId(s){return i.encode("SEQUENCE_30",i.encode("OBJECT_ID",s))}static parseX500Names(s){let c=s.matchAll(/(\w+)=("[^"]+"|[\w\.]+)/g),f="";if(!c)throw new Error("wrong Name format");let u=[];for(const h of c){let w=h[1],T=h[2];if(T.substr(0,1)=='"'&&T.substr(-1)=='"'&&(T=T.slice(1,T.length-1)),f=r.X500NamesLabels[w],!f)throw new Error('Type "'+w+'" not implemented yet');u.push({type:w,value:T})}return u}static encodeName(s){let c="";return i.parseX500Names(s).forEach(u=>{let h=r.X500NamesLabels[u.type];if(!h)throw new Error(`X500 Name Object ID not implemented.(${u.value})`);let w=i.encode("OBJECT_ID",h)+i.encode("UTF8STRING",u.value);c+=i.encode("SEQUENCE_30",w)}),i.encode("SEQUENCE_30",i.encode("SET",c))}static encode(s,c,f=0){if(typeof c>"u")throw new Error("Missing value for Der encoding");let u=n[s],h="";switch(s){case"OBJECT_ID":if(typeof c!="string")throw new Error("OBJECT_ID value must be a string");let R=c.split("."),P=R.shift(),B=R.shift();R.unshift((parseInt(P)*40+parseInt(B)).toString()),R.forEach(O=>{let H=parseInt(O),$="",J=!0;do{let ie=H&127;H=H>>7,ie+=J?0:128,$=ie.toString(16).padStart(2,"0")+$,J=!1}while(H);h+=$});break;case"NULL_VALUE":h="";break;case"GENERALIZED_TIME":h=(0,e.stringToHex)((0,e.formatGeneralizedDateTime)(c));break;case"VISIBLE_STRING":case"UTF8STRING":h=(0,e.stringToHex)(c);break;case"INTEGER":h=BigInt(c).toString(16),h=(h.length%2?"0":"")+h,parseInt("0x"+h.slice(0,1),16)>7&&(h="00"+h);break;case"TAG":if(f>15)throw new Error("DER TAG more than 15 is not implemented");u=parseInt("0xA"+f);case"SEQUENCE_30":case"SET":case"OCTET_STRING":if(typeof c=="string")h=c;else if(c.constructor===Uint8Array)h=(0,e.uint8tohex)(c);else throw new Error("Wrong data type for OCTET_STRING");break;case"BIT_STRING":h="00"+c;break;case"BOOLEAN":h=parseInt(c).toString().padStart(2,"0");break;default:throw new Error("Sorry, "+s+" not implemented.")}let w="",T=Math.ceil(h.length/2),I=T.toString(16);return T||(I="00"),I=(I.length%2?"0":"")+I,T<128?w=I:w=(128+Math.round(I.length/2)).toString(16)+I,h=(h.length%2?"0":"")+h,u.toString(16).padStart(2,"0")+w+h}decode(s){let c=Array.from(s);return this.read(c)}lenEncoded(s){let c=s.shift();if(c<128)return c;if(c>128){let f=0;for(let u=0;u<c-128;u++)f=(f<<8)+s.shift();return f}else if(c==128)throw new Error("have to code variable length")}readFromHexString(s){return this.read((0,e.hexStringToArray)(s))}readFromUint8Array(s){return this.read(Array.from(s))}readFromBase64String(s){return this.readFromUint8Array((0,e.base64ToUint8array)(s))}readFromUrlBase64String(s){let c=s.split("_").join("/").split("-").join("+").split(".").join("=");return this.readFromBase64String(c)}read(s){let c=s.shift(),f=this.lenEncoded(s),u=o[c];(0,e.logger)(t.DEBUGLEVEL.VERBOSE,"Der utility typeTagName:"+u);let h=[];for(let T=0;T<f;T++)h.push(s.shift());(0,e.logger)(t.DEBUGLEVEL.VERBOSE,"Der Utility content"),(0,e.logger)(t.DEBUGLEVEL.VERBOSE,h);let w="";switch(u){case"SEQUENCE_30":return this.BodySequence(h);case"INTEGER":case"BIT_STRING":let T=0n;for(;h.length;)T=T<<8n,T+=BigInt(h.shift());return T;case"OCTET_STRING":for(;h.length;)w+=h.shift().toString(16).padStart(2,"0");return w;case"GENERALIZED_TIME":case"VISIBLE_STRING":for(;h.length;)w+=String.fromCharCode(h.shift());return w}}BodySequence(s){let c=[];for(;s.length;)c.push(this.read(s));return c}}r.Asn1Der=i})(Ti);var Ll={},U6;function Y_(){if(U6)return Ll;U6=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.UsageProofOfExponent=void 0;const r=gs(),e=Lo,t=Xt,n=Yt(),o=Ti,i=no();class a{constructor(){}static fromData(c,f,u=new Uint8Array([])){let h=new this;return h.tPoint=c,h.challengeResponse=f,h.nonce=u,h.encoding=h.makeEncoding(),h}fromBase64(c){this.encoding=c,this.fromBytes((0,n.base64ToUint8array)(c))}fromBytes(c){this.encodingBytes=c;let f=t.AsnParser.parse(c,e.UsageProof);this.challengeResponse=(0,n.uint8ToBn)(new Uint8Array(f.challengePoint));let u=new Uint8Array(f.responseValue);this.nonce=new Uint8Array(f.nonce),this.tPoint=r.Point.decodeFromHex((0,n.uint8tohex)(u),r.CURVE_BN256)}makeEncoding(){let c=o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)((0,n.bnToUint8)(this.challengeResponse)))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.tPoint.getEncoded(!1)))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.nonce));return o.Asn1Der.encode("SEQUENCE_30",c)}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getDerEncoding(){return this.encoding}getNonce(){return this.nonce}validateParameters(){try{if(!i.AttestationCrypto.validatePointToCurve(this.tPoint,i.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=i.AttestationCrypto.curveOrder||this.tPoint.equals(i.AttestationCrypto.G)||this.tPoint.equals(i.AttestationCrypto.H))}catch{return!1}}}return Ll.UsageProofOfExponent=a,Ll}var F6;function Op(){if(F6)return Ol;F6=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.FullProofOfExponent=void 0;const r=gs(),e=Lo,t=Xt,n=Yt(),o=Ti,i=Y_(),a=no();class s{constructor(){}static fromData(f,u,h,w=new Uint8Array([])){let T=new this;return T.riddle=f,T.tPoint=u,T.challengeResponse=h,T.nonce=w,T.encoding=T.makeEncoding(f,u,h,w),T}static fromBytes(f){let u=t.AsnParser.parse(f,e.Proof);return this.fromASNType(u)}static fromASNType(f){let u=new Uint8Array(f.riddle),h=r.Point.decodeFromUint8(u,r.CURVE_BN256),w=new Uint8Array(f.challengePoint),T=(0,n.uint8ToBn)(w),I=new Uint8Array(f.responseValue),R=r.Point.decodeFromUint8(I,r.CURVE_BN256),P=new Uint8Array(f.nonce);return this.fromData(h,R,T,P)}static fromBase64(f){return s.fromBytes((0,n.base64ToUint8array)(f))}makeEncoding(f,u,h,w=new Uint8Array([])){let T=o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(f.getEncoded()))+o.Asn1Der.encode("OCTET_STRING",h.toString(16))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(u.getEncoded()))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(w));return o.Asn1Der.encode("SEQUENCE_30",T)}getRiddle(){return this.riddle}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getNonce(){return this.nonce}getUsageProofOfExponent(){return i.UsageProofOfExponent.fromData(this.tPoint,this.challengeResponse,this.nonce)}getDerEncoding(){return this.encoding}getAsnType(){const f=new e.Proof;f.nonce=this.getNonce();let u=(0,n.bnToUint8)(this.getChallengeResponse());if(u.length<32){let h=u;u=new Uint8Array(32),u.set(h,32-h.length)}return f.challengePoint=u,f.riddle=this.getRiddle().getEncoded(),f.responseValue=this.getPoint().getEncoded(),f}validateParameters(){try{if(!a.AttestationCrypto.validatePointToCurve(this.riddle,a.AttestationCrypto.curve)||!a.AttestationCrypto.validatePointToCurve(this.tPoint,a.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=a.AttestationCrypto.curveOrder||this.riddle.equals(a.AttestationCrypto.G)||this.riddle.equals(a.AttestationCrypto.H)||this.tPoint.equals(a.AttestationCrypto.G)||this.tPoint.equals(a.AttestationCrypto.H))}catch{return!1}}}return Ol.FullProofOfExponent=s,Ol}var H6;function no(){return H6||(H6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AttestationCrypto=r.Pedestren_H=r.Pedestren_G=void 0;const e=lp,t=gs(),n=Yt(),o=Op(),i=ur,a=xa;let s=Zc.exports;r.Pedestren_G=new t.Point(21282764439311451829394129092047993080259557426320933158672611067687630484067n,3813889942691430704369624600187664845713336792511424430006907067499686345744n,t.CURVE_BN256),r.Pedestren_H=new t.Point(10844896013696871595893151490650636250667003995871483372134187278207473369077n,9393217696329481319187854592386054938412168121447413803797200472841959383227n,t.CURVE_BN256);class c{constructor(){if(this.curveOrderBitLength=254n,this.rand=this.makeSecret(),!this.verifyCurveOrder())throw new Error("Static values do not work with current implementation")}verifyCurveOrder(){c.validatePointToCurve(c.G,c.curve),c.validatePointToCurve(c.H,c.curve);let u=BigInt(c.curveOrder.toString(2).length);return c.curveOrder<1n<<u-1n||c.curveOrder>>u>0n?((0,n.logger)(i.DEBUGLEVEL.LOW,"Curve order is not 254 bits which is required by the current implementation"),!1):!0}getType(u){switch(u.toLowerCase()){case"mail":return e.ATTESTATION_TYPE.mail;case"phone":return e.ATTESTATION_TYPE.phone;case"inetpersona":return e.ATTESTATION_TYPE.InetPersona;default:throw new Error("Wrong type of identifier")}}makeCommitment(u,h,w){let T=this.mapToCurveMultiplier(h,u);return r.Pedestren_G.multiplyDA(T).add(r.Pedestren_H.multiplyDA(w)).getEncoded(!1)}makeCommitmentFromHiding(u,h,w){if(!c.validatePointToCurve(w,c.curve))throw new Error("Point invalid");let T=this.mapToCurveMultiplier(h,u);return r.Pedestren_G.multiplyDA(T).add(w).getEncoded(!1)}injectIdentifierType(u,h){return(0,n.uint8merge)([Uint8Array.from([0,0,0,u]),h])}mapToInteger(u){return BigInt("0x"+s.keccak256(u))>>256n-this.curveOrderBitLength}mapToCurveMultiplier(u,h){let w=Uint8Array.from((0,n.stringToArray)(h.trim().toLowerCase())),T=this.injectIdentifierType(u,w),I=(0,n.uint8ToBn)(T);do I=this.mapToInteger((0,n.bnToUint8)(I));while(I>=t.CURVE_BN256.n);return I}computePoint_bn256(u){let h=t.CURVE_BN256.P;u=(0,n.mod)(u,h);let w=0n,T=0n,I,R,P,B=h+1n>>2n,O=h-1n>>1n;do{do u=(0,n.mod)(u+1n),T=(0,n.mod)((0,n.BnPowMod)(u,3n,h)+t.CURVE_BN256.A*u+t.CURVE_BN256.B),P=(0,n.BnPowMod)(T,O,h);while(P!==1n);w=(0,n.BnPowMod)(T,B,h),I=new t.Point(u,w,t.CURVE_BN256),I.x>h>>1n&&(I=new t.Point(u,h-w,t.CURVE_BN256)),R=I.multiplyDA(t.CURVE_BN256.n-1n),R.y>h>>1n&&(R=new t.Point(R.x,h-R.y,t.CURVE_BN256))}while(!I.equals(R)||I.isInfinity());return I}makeSecret(u=48){return(0,n.mod)(BigInt(c.generateRandomHexString(u)),t.CURVE_BN256.n)}static generateRandomHexString(u){var h=new Uint8Array(u);window&&window.crypto?window.crypto.getRandomValues(h):h=new Uint8Array(a.randomBytes(u));let w="0x";for(var T=0;T<h.length;T++)w+=h[T].toString(16).padStart(2,"0");return w}computeAttestationProof(u,h=new Uint8Array([])){let w=r.Pedestren_H.multiplyDA(u),T=[r.Pedestren_H,w];return this.constructSchnorrPOK(w,u,T,h)}computeEqualityProof(u,h,w,T,I=new Uint8Array([])){let R=t.Point.decodeFromHex(u);c.validatePointToCurve(R,t.CURVE_BN256);let P=t.Point.decodeFromHex(h);c.validatePointToCurve(P,t.CURVE_BN256);let B=R.subtract(P),O=(0,n.mod)(w-T,t.CURVE_BN256.n),H=[r.Pedestren_H,R,P];return this.constructSchnorrPOK(B,O,H,I).getUsageProofOfExponent()}constructSchnorrPOK(u,h,w,T){let I,R,P,B;do R=this.makeSecret(),I=r.Pedestren_H.multiplyDA(R),P=this.computeChallenge(I,w,T);while(P>=t.CURVE_BN256.n);return B=(0,n.mod)(R+P*h,t.CURVE_BN256.n),o.FullProofOfExponent.fromData(u,I,B,T)}computeChallenge(u,h,w){let T=h.concat(u),I=this.makeArray(T),R=(0,n.uint8merge)([I,w]);return this.mapToInteger(R)}verifyFullProof(u){if(!u.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let h=this.computeChallenge(u.getPoint(),[r.Pedestren_H,u.getRiddle()],u.getNonce());return this.verifyPok(u,h)}verifyEqualityProof(u,h,w){if(!w.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let T=t.Point.decodeFromUint8(u,t.CURVE_BN256);c.validatePointToCurve(T,t.CURVE_BN256);let I=t.Point.decodeFromUint8(h,t.CURVE_BN256);c.validatePointToCurve(I,t.CURVE_BN256);let R=T.subtract(I),P=this.computeChallenge(w.getPoint(),[r.Pedestren_H,T,I],w.getNonce());return this.verifyPok(o.FullProofOfExponent.fromData(R,w.getPoint(),w.getChallengeResponse(),w.getNonce()),P)}verifyPok(u,h){if(h>=t.CURVE_BN256.n||h<=0n)return(0,n.logger)(2,"Challenge is not of the correct size"),!1;let w=r.Pedestren_H.multiplyDA(u.getChallengeResponse()),T=u.getRiddle().multiplyDA(h).add(u.getPoint());return w.equals(T)}makeArray(u){let h=new Uint8Array(0);return u.forEach(w=>{h=new Uint8Array([...h,...w.getEncoded(!1)])}),h}static hashWithKeccak(u){return s.keccak256(u)}static validatePointToCurve(u,h){try{if(u.isInfinity())throw new Error("Point is at infinity");if(!u.multiplyDA(t.CURVE_BN256.n).isInfinity())throw console.log("Point does not have correct order"),new Error("Point does not have correct order")}catch{return!1}return!0}}r.AttestationCrypto=c,c.OID_SIGNATURE_ALG="1.2.840.10045.2.1",c.BYTES_IN_DIGEST=256/8,c.fieldSize=t.CURVE_BN256.P,c.curveOrder=t.CURVE_BN256.n,c.cofactor=1n,c.curve=t.CURVE_BN256,c.G=r.Pedestren_G,c.H=r.Pedestren_H}(yg)),yg}var ki={},or={},on={},Jr=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(on,"__esModule",{value:!0});on.Extensions=on.Extension=on.ValidityValue=on.Version=on.AlgorithmIdentifierASN=void 0;const Vt=Xt;class t2{}Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.ObjectIdentifier})],t2.prototype,"algorithm",void 0);Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Any,optional:!0})],t2.prototype,"parameters",void 0);on.AlgorithmIdentifierASN=t2;class Z_{constructor(){this.version=0}}Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Integer})],Z_.prototype,"version",void 0);on.Version=Z_;let Oc=class{};Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.UTCTime})],Oc.prototype,"utcTime",void 0);Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.GeneralizedTime})],Oc.prototype,"generalizedTime",void 0);Oc=Jr([(0,Vt.AsnType)({type:Vt.AsnTypeTypes.Choice})],Oc);class al{}Jr([(0,Vt.AsnProp)({type:Oc})],al.prototype,"notBefore",void 0);Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Integer,optional:!0})],al.prototype,"notBeforeInt",void 0);Jr([(0,Vt.AsnProp)({type:Oc})],al.prototype,"notAfter",void 0);Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Integer,optional:!0})],al.prototype,"notAfterInt",void 0);on.ValidityValue=al;let hh=class{};Jr([(0,Vt.AsnProp)({type:al,context:0})],hh.prototype,"value",void 0);Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Integer,context:1})],hh.prototype,"null",void 0);hh=Jr([(0,Vt.AsnType)({type:Vt.AsnTypeTypes.Choice})],hh);class o0{}Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.ObjectIdentifier})],o0.prototype,"extnId",void 0);Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Boolean})],o0.prototype,"critical",void 0);Jr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.OctetString})],o0.prototype,"extnValue",void 0);on.Extension=o0;class X_{}Jr([(0,Vt.AsnProp)({type:o0})],X_.prototype,"extension",void 0);on.Extensions=X_;var Nc={},xf=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Fb,Hb;Object.defineProperty(Nc,"__esModule",{value:!0});Nc.Name=Nc.AttributeTypeAndValue=void 0;const wn=Xt;class Np{}xf([(0,wn.AsnProp)({type:wn.AsnPropTypes.ObjectIdentifier})],Np.prototype,"type",void 0);xf([(0,wn.AsnProp)({type:wn.AsnPropTypes.Utf8String})],Np.prototype,"value",void 0);Nc.AttributeTypeAndValue=Np;let Vb=Fb=class extends wn.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,Fb.prototype)}};Vb=Fb=xf([(0,wn.AsnType)({type:wn.AsnTypeTypes.Set,itemType:Np})],Vb);let jb=Hb=class extends wn.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,Hb.prototype)}};jb=Hb=xf([(0,wn.AsnType)({type:wn.AsnTypeTypes.Sequence,itemType:Vb})],jb);let Ru=class{};xf([(0,wn.AsnProp)({type:jb})],Ru.prototype,"rdnSequence",void 0);xf([(0,wn.AsnProp)({type:wn.AsnPropTypes.Null})],Ru.prototype,"null",void 0);Ru=xf([(0,wn.AsnType)({type:wn.AsnTypeTypes.Choice})],Ru);Nc.Name=Ru;var Ut=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(or,"__esModule",{value:!0});or.MyAttestationDecoded=or.MyAttestation=or.SignedInfo=or.SmartContract=or.Payload=or.PrivateKeyInfo=or.PrivateKeyData=or.SubjectPublicKeyInfo=or.PublicKeyInfoValue=void 0;const it=Xt,sl=on,eS=Nc;class Lp{}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any})],Lp.prototype,"algorithm",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.BitString})],Lp.prototype,"publicKey",void 0);or.PublicKeyInfoValue=Lp;let Lc=class{constructor(){this.null=!1}};Ut([(0,it.AsnProp)({type:Lp})],Lc.prototype,"value",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any})],Lc.prototype,"null",void 0);Lc=Ut([(0,it.AsnType)({type:it.AsnTypeTypes.Choice})],Lc);or.SubjectPublicKeyInfo=Lc;class a0{}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Integer})],a0.prototype,"one",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.OctetString})],a0.prototype,"privateKey",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any,context:0})],a0.prototype,"algDescr",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.BitString,context:1})],a0.prototype,"publicKey",void 0);or.PrivateKeyData=a0;class Dp{}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Integer})],Dp.prototype,"one",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any})],Dp.prototype,"algIdent",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.OctetString})],Dp.prototype,"keysData",void 0);or.PrivateKeyInfo=Dp;let Dc=class{};Ut([(0,it.AsnProp)({type:sl.Extensions,context:3})],Dc.prototype,"extensions",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any,context:4})],Dc.prototype,"dataObject",void 0);Dc=Ut([(0,it.AsnType)({type:it.AsnTypeTypes.Choice})],Dc);or.Payload=Dc;class r2{}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Integer})],r2.prototype,"value",void 0);or.SmartContract=r2;class io{}Ut([(0,it.AsnProp)({type:sl.Version})],io.prototype,"version",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Integer})],io.prototype,"serialNumber",void 0);Ut([(0,it.AsnProp)({type:sl.AlgorithmIdentifierASN})],io.prototype,"signature",void 0);Ut([(0,it.AsnProp)({type:eS.Name})],io.prototype,"issuer",void 0);Ut([(0,it.AsnProp)({type:sl.ValidityValue,optional:!0})],io.prototype,"validity",void 0);Ut([(0,it.AsnProp)({type:eS.Name})],io.prototype,"subject",void 0);Ut([(0,it.AsnProp)({type:Lc})],io.prototype,"subjectPublicKeyInfo",void 0);Ut([(0,it.AsnProp)({type:r2,optional:!0})],io.prototype,"contract",void 0);Ut([(0,it.AsnProp)({type:Dc,optional:!0})],io.prototype,"attestsTo",void 0);or.SignedInfo=io;class Up{constructor(){this.signedInfo=new Uint8Array}}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any})],Up.prototype,"signedInfo",void 0);Ut([(0,it.AsnProp)({type:sl.AlgorithmIdentifierASN})],Up.prototype,"signatureAlgorithm",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.BitString})],Up.prototype,"signatureValue",void 0);or.MyAttestation=Up;class Fp{}Ut([(0,it.AsnProp)({type:io})],Fp.prototype,"signedInfo",void 0);Ut([(0,it.AsnProp)({type:sl.AlgorithmIdentifierASN})],Fp.prototype,"signatureAlgorithm",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.BitString})],Fp.prototype,"signatureValue",void 0);or.MyAttestationDecoded=Fp;const Hp=ar(Aj);var Vp={},tS=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Vp,"__esModule",{value:!0});Vp.Signature=void 0;const ph=Xt;class n2{}tS([(0,ph.AsnProp)({type:ph.AsnPropTypes.Integer})],n2.prototype,"r",void 0);tS([(0,ph.AsnProp)({type:ph.AsnPropTypes.Integer})],n2.prototype,"s",void 0);Vp.Signature=n2;var i2={};const UK="elliptic",FK="6.5.4",HK="EC cryptography",VK="lib/elliptic.js",jK=["lib"],GK={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},zK={type:"git",url:"git@github.com:indutny/elliptic"},qK=["EC","Elliptic","curve","Cryptography"],KK="Fedor Indutny <fedor@indutny.com>",$K="MIT",WK={url:"https://github.com/indutny/elliptic/issues"},QK="https://github.com/indutny/elliptic",JK={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},YK={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},ZK={name:UK,version:FK,description:HK,main:VK,files:jK,scripts:GK,repository:zK,keywords:qK,author:KK,license:$K,bugs:WK,homepage:QK,devDependencies:JK,dependencies:YK};var ai={},jo={exports:{}};(function(r){(function(e,t){function n(L,S){if(!L)throw new Error(S||"Assertion failed")}function o(L,S){L.super_=S;var v=function(){};v.prototype=S.prototype,L.prototype=new v,L.prototype.constructor=L}function i(L,S,v){if(i.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((S==="le"||S==="be")&&(v=S,S=10),this._init(L||0,S||10,v||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=xa.Buffer}catch{}i.isBN=function(S){return S instanceof i?!0:S!==null&&typeof S=="object"&&S.constructor.wordSize===i.wordSize&&Array.isArray(S.words)},i.max=function(S,v){return S.cmp(v)>0?S:v},i.min=function(S,v){return S.cmp(v)<0?S:v},i.prototype._init=function(S,v,l){if(typeof S=="number")return this._initNumber(S,v,l);if(typeof S=="object")return this._initArray(S,v,l);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),S=S.toString().replace(/\s+/g,"");var p=0;S[0]==="-"&&(p++,this.negative=1),p<S.length&&(v===16?this._parseHex(S,p,l):(this._parseBase(S,v,p),l==="le"&&this._initArray(this.toArray(),v,l)))},i.prototype._initNumber=function(S,v,l){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[S&67108863],this.length=1):S<4503599627370496?(this.words=[S&67108863,S/67108864&67108863],this.length=2):(n(S<9007199254740992),this.words=[S&67108863,S/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),v,l)},i.prototype._initArray=function(S,v,l){if(n(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var b,y,A=0;if(l==="be")for(p=S.length-1,b=0;p>=0;p-=3)y=S[p]|S[p-1]<<8|S[p-2]<<16,this.words[b]|=y<<A&67108863,this.words[b+1]=y>>>26-A&67108863,A+=24,A>=26&&(A-=26,b++);else if(l==="le")for(p=0,b=0;p<S.length;p+=3)y=S[p]|S[p+1]<<8|S[p+2]<<16,this.words[b]|=y<<A&67108863,this.words[b+1]=y>>>26-A&67108863,A+=24,A>=26&&(A-=26,b++);return this.strip()};function s(L,S){var v=L.charCodeAt(S);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function c(L,S,v){var l=s(L,v);return v-1>=S&&(l|=s(L,v-1)<<4),l}i.prototype._parseHex=function(S,v,l){this.length=Math.ceil((S.length-v)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var b=0,y=0,A;if(l==="be")for(p=S.length-1;p>=v;p-=2)A=c(S,v,p)<<b,this.words[y]|=A&67108863,b>=18?(b-=18,y+=1,this.words[y]|=A>>>26):b+=8;else{var E=S.length-v;for(p=E%2===0?v+1:v;p<S.length;p+=2)A=c(S,v,p)<<b,this.words[y]|=A&67108863,b>=18?(b-=18,y+=1,this.words[y]|=A>>>26):b+=8}this.strip()};function f(L,S,v,l){for(var p=0,b=Math.min(L.length,v),y=S;y<b;y++){var A=L.charCodeAt(y)-48;p*=l,A>=49?p+=A-49+10:A>=17?p+=A-17+10:p+=A}return p}i.prototype._parseBase=function(S,v,l){this.words=[0],this.length=1;for(var p=0,b=1;b<=67108863;b*=v)p++;p--,b=b/v|0;for(var y=S.length-l,A=y%p,E=Math.min(y,y-A)+l,m=0,g=l;g<E;g+=p)m=f(S,g,g+p,v),this.imuln(b),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(A!==0){var d=1;for(m=f(S,g,S.length,v),g=0;g<A;g++)d*=v;this.imuln(d),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this.strip()},i.prototype.copy=function(S){S.words=new Array(this.length);for(var v=0;v<this.length;v++)S.words[v]=this.words[v];S.length=this.length,S.negative=this.negative,S.red=this.red},i.prototype.clone=function(){var S=new i(null);return this.copy(S),S},i.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(S,v){S=S||10,v=v|0||1;var l;if(S===16||S==="hex"){l="";for(var p=0,b=0,y=0;y<this.length;y++){var A=this.words[y],E=((A<<p|b)&16777215).toString(16);b=A>>>24-p&16777215,b!==0||y!==this.length-1?l=u[6-E.length]+E+l:l=E+l,p+=2,p>=26&&(p-=26,y--)}for(b!==0&&(l=b.toString(16)+l);l.length%v!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(S===(S|0)&&S>=2&&S<=36){var m=h[S],g=w[S];l="";var d=this.clone();for(d.negative=0;!d.isZero();){var k=d.modn(g).toString(S);d=d.idivn(g),d.isZero()?l=k+l:l=u[m-k.length]+k+l}for(this.isZero()&&(l="0"+l);l.length%v!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=this.words[1]*67108864:this.length===3&&this.words[2]===1?S+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(S,v){return n(typeof a<"u"),this.toArrayLike(a,S,v)},i.prototype.toArray=function(S,v){return this.toArrayLike(Array,S,v)},i.prototype.toArrayLike=function(S,v,l){var p=this.byteLength(),b=l||Math.max(1,p);n(p<=b,"byte array longer than desired length"),n(b>0,"Requested array length <= 0"),this.strip();var y=v==="le",A=new S(b),E,m,g=this.clone();if(y){for(m=0;!g.isZero();m++)E=g.andln(255),g.iushrn(8),A[m]=E;for(;m<b;m++)A[m]=0}else{for(m=0;m<b-p;m++)A[m]=0;for(m=0;!g.isZero();m++)E=g.andln(255),g.iushrn(8),A[b-m-1]=E}return A},Math.clz32?i.prototype._countBits=function(S){return 32-Math.clz32(S)}:i.prototype._countBits=function(S){var v=S,l=0;return v>=4096&&(l+=13,v>>>=13),v>=64&&(l+=7,v>>>=7),v>=8&&(l+=4,v>>>=4),v>=2&&(l+=2,v>>>=2),l+v},i.prototype._zeroBits=function(S){if(S===0)return 26;var v=S,l=0;return(v&8191)===0&&(l+=13,v>>>=13),(v&127)===0&&(l+=7,v>>>=7),(v&15)===0&&(l+=4,v>>>=4),(v&3)===0&&(l+=2,v>>>=2),(v&1)===0&&l++,l},i.prototype.bitLength=function(){var S=this.words[this.length-1],v=this._countBits(S);return(this.length-1)*26+v};function T(L){for(var S=new Array(L.bitLength()),v=0;v<S.length;v++){var l=v/26|0,p=v%26;S[v]=(L.words[l]&1<<p)>>>p}return S}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,v=0;v<this.length;v++){var l=this._zeroBits(this.words[v]);if(S+=l,l!==26)break}return S},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},i.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var v=0;v<S.length;v++)this.words[v]=this.words[v]|S.words[v];return this.strip()},i.prototype.ior=function(S){return n((this.negative|S.negative)===0),this.iuor(S)},i.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},i.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},i.prototype.iuand=function(S){var v;this.length>S.length?v=S:v=this;for(var l=0;l<v.length;l++)this.words[l]=this.words[l]&S.words[l];return this.length=v.length,this.strip()},i.prototype.iand=function(S){return n((this.negative|S.negative)===0),this.iuand(S)},i.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},i.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},i.prototype.iuxor=function(S){var v,l;this.length>S.length?(v=this,l=S):(v=S,l=this);for(var p=0;p<l.length;p++)this.words[p]=v.words[p]^l.words[p];if(this!==v)for(;p<v.length;p++)this.words[p]=v.words[p];return this.length=v.length,this.strip()},i.prototype.ixor=function(S){return n((this.negative|S.negative)===0),this.iuxor(S)},i.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},i.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},i.prototype.inotn=function(S){n(typeof S=="number"&&S>=0);var v=Math.ceil(S/26)|0,l=S%26;this._expand(v),l>0&&v--;for(var p=0;p<v;p++)this.words[p]=~this.words[p]&67108863;return l>0&&(this.words[p]=~this.words[p]&67108863>>26-l),this.strip()},i.prototype.notn=function(S){return this.clone().inotn(S)},i.prototype.setn=function(S,v){n(typeof S=="number"&&S>=0);var l=S/26|0,p=S%26;return this._expand(l+1),v?this.words[l]=this.words[l]|1<<p:this.words[l]=this.words[l]&~(1<<p),this.strip()},i.prototype.iadd=function(S){var v;if(this.negative!==0&&S.negative===0)return this.negative=0,v=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,v=this.isub(S),S.negative=1,v._normSign();var l,p;this.length>S.length?(l=this,p=S):(l=S,p=this);for(var b=0,y=0;y<p.length;y++)v=(l.words[y]|0)+(p.words[y]|0)+b,this.words[y]=v&67108863,b=v>>>26;for(;b!==0&&y<l.length;y++)v=(l.words[y]|0)+b,this.words[y]=v&67108863,b=v>>>26;if(this.length=l.length,b!==0)this.words[this.length]=b,this.length++;else if(l!==this)for(;y<l.length;y++)this.words[y]=l.words[y];return this},i.prototype.add=function(S){var v;return S.negative!==0&&this.negative===0?(S.negative=0,v=this.sub(S),S.negative^=1,v):S.negative===0&&this.negative!==0?(this.negative=0,v=S.sub(this),this.negative=1,v):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},i.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var v=this.iadd(S);return S.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var l=this.cmp(S);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,b;l>0?(p=this,b=S):(p=S,b=this);for(var y=0,A=0;A<b.length;A++)v=(p.words[A]|0)-(b.words[A]|0)+y,y=v>>26,this.words[A]=v&67108863;for(;y!==0&&A<p.length;A++)v=(p.words[A]|0)+y,y=v>>26,this.words[A]=v&67108863;if(y===0&&A<p.length&&p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this.length=Math.max(this.length,A),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(S){return this.clone().isub(S)};function I(L,S,v){v.negative=S.negative^L.negative;var l=L.length+S.length|0;v.length=l,l=l-1|0;var p=L.words[0]|0,b=S.words[0]|0,y=p*b,A=y&67108863,E=y/67108864|0;v.words[0]=A;for(var m=1;m<l;m++){for(var g=E>>>26,d=E&67108863,k=Math.min(m,S.length-1),V=Math.max(0,m-L.length+1);V<=k;V++){var _=m-V|0;p=L.words[_]|0,b=S.words[V]|0,y=p*b+d,g+=y/67108864|0,d=y&67108863}v.words[m]=d|0,E=g|0}return E!==0?v.words[m]=E|0:v.length--,v.strip()}var R=function(S,v,l){var p=S.words,b=v.words,y=l.words,A=0,E,m,g,d=p[0]|0,k=d&8191,V=d>>>13,_=p[1]|0,U=_&8191,K=_>>>13,W=p[2]|0,re=W&8191,pe=W>>>13,fe=p[3]|0,ae=fe&8191,G=fe>>>13,z=p[4]|0,Y=z&8191,N=z>>>13,C=p[5]|0,M=C&8191,D=C>>>13,j=p[6]|0,Q=j&8191,ee=j>>>13,le=p[7]|0,se=le&8191,ve=le>>>13,ge=p[8]|0,he=ge&8191,Fe=ge>>>13,Pe=p[9]|0,Ee=Pe&8191,nt=Pe>>>13,Ke=b[0]|0,Z=Ke&8191,oe=Ke>>>13,Ce=b[1]|0,me=Ce&8191,He=Ce>>>13,Te=b[2]|0,Re=Te&8191,dt=Te>>>13,je=b[3]|0,Ne=je&8191,ft=je>>>13,We=b[4]|0,xe=We&8191,_t=We>>>13,et=b[5]|0,Ue=et&8191,st=et>>>13,Ze=b[6]|0,Be=Ze&8191,yt=Ze>>>13,Xe=b[7]|0,Oe=Xe&8191,xt=Xe>>>13,Ge=b[8]|0,Le=Ge&8191,ot=Ge>>>13,tt=b[9]|0,De=tt&8191,wt=tt>>>13;l.negative=S.negative^v.negative,l.length=19,E=Math.imul(k,Z),m=Math.imul(k,oe),m=m+Math.imul(V,Z)|0,g=Math.imul(V,oe);var Ye=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,E=Math.imul(U,Z),m=Math.imul(U,oe),m=m+Math.imul(K,Z)|0,g=Math.imul(K,oe),E=E+Math.imul(k,me)|0,m=m+Math.imul(k,He)|0,m=m+Math.imul(V,me)|0,g=g+Math.imul(V,He)|0;var Qe=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,E=Math.imul(re,Z),m=Math.imul(re,oe),m=m+Math.imul(pe,Z)|0,g=Math.imul(pe,oe),E=E+Math.imul(U,me)|0,m=m+Math.imul(U,He)|0,m=m+Math.imul(K,me)|0,g=g+Math.imul(K,He)|0,E=E+Math.imul(k,Re)|0,m=m+Math.imul(k,dt)|0,m=m+Math.imul(V,Re)|0,g=g+Math.imul(V,dt)|0;var Ar=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,E=Math.imul(ae,Z),m=Math.imul(ae,oe),m=m+Math.imul(G,Z)|0,g=Math.imul(G,oe),E=E+Math.imul(re,me)|0,m=m+Math.imul(re,He)|0,m=m+Math.imul(pe,me)|0,g=g+Math.imul(pe,He)|0,E=E+Math.imul(U,Re)|0,m=m+Math.imul(U,dt)|0,m=m+Math.imul(K,Re)|0,g=g+Math.imul(K,dt)|0,E=E+Math.imul(k,Ne)|0,m=m+Math.imul(k,ft)|0,m=m+Math.imul(V,Ne)|0,g=g+Math.imul(V,ft)|0;var mr=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(mr>>>26)|0,mr&=67108863,E=Math.imul(Y,Z),m=Math.imul(Y,oe),m=m+Math.imul(N,Z)|0,g=Math.imul(N,oe),E=E+Math.imul(ae,me)|0,m=m+Math.imul(ae,He)|0,m=m+Math.imul(G,me)|0,g=g+Math.imul(G,He)|0,E=E+Math.imul(re,Re)|0,m=m+Math.imul(re,dt)|0,m=m+Math.imul(pe,Re)|0,g=g+Math.imul(pe,dt)|0,E=E+Math.imul(U,Ne)|0,m=m+Math.imul(U,ft)|0,m=m+Math.imul(K,Ne)|0,g=g+Math.imul(K,ft)|0,E=E+Math.imul(k,xe)|0,m=m+Math.imul(k,_t)|0,m=m+Math.imul(V,xe)|0,g=g+Math.imul(V,_t)|0;var Pr=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,E=Math.imul(M,Z),m=Math.imul(M,oe),m=m+Math.imul(D,Z)|0,g=Math.imul(D,oe),E=E+Math.imul(Y,me)|0,m=m+Math.imul(Y,He)|0,m=m+Math.imul(N,me)|0,g=g+Math.imul(N,He)|0,E=E+Math.imul(ae,Re)|0,m=m+Math.imul(ae,dt)|0,m=m+Math.imul(G,Re)|0,g=g+Math.imul(G,dt)|0,E=E+Math.imul(re,Ne)|0,m=m+Math.imul(re,ft)|0,m=m+Math.imul(pe,Ne)|0,g=g+Math.imul(pe,ft)|0,E=E+Math.imul(U,xe)|0,m=m+Math.imul(U,_t)|0,m=m+Math.imul(K,xe)|0,g=g+Math.imul(K,_t)|0,E=E+Math.imul(k,Ue)|0,m=m+Math.imul(k,st)|0,m=m+Math.imul(V,Ue)|0,g=g+Math.imul(V,st)|0;var Br=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Br>>>26)|0,Br&=67108863,E=Math.imul(Q,Z),m=Math.imul(Q,oe),m=m+Math.imul(ee,Z)|0,g=Math.imul(ee,oe),E=E+Math.imul(M,me)|0,m=m+Math.imul(M,He)|0,m=m+Math.imul(D,me)|0,g=g+Math.imul(D,He)|0,E=E+Math.imul(Y,Re)|0,m=m+Math.imul(Y,dt)|0,m=m+Math.imul(N,Re)|0,g=g+Math.imul(N,dt)|0,E=E+Math.imul(ae,Ne)|0,m=m+Math.imul(ae,ft)|0,m=m+Math.imul(G,Ne)|0,g=g+Math.imul(G,ft)|0,E=E+Math.imul(re,xe)|0,m=m+Math.imul(re,_t)|0,m=m+Math.imul(pe,xe)|0,g=g+Math.imul(pe,_t)|0,E=E+Math.imul(U,Ue)|0,m=m+Math.imul(U,st)|0,m=m+Math.imul(K,Ue)|0,g=g+Math.imul(K,st)|0,E=E+Math.imul(k,Be)|0,m=m+Math.imul(k,yt)|0,m=m+Math.imul(V,Be)|0,g=g+Math.imul(V,yt)|0;var yr=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(yr>>>26)|0,yr&=67108863,E=Math.imul(se,Z),m=Math.imul(se,oe),m=m+Math.imul(ve,Z)|0,g=Math.imul(ve,oe),E=E+Math.imul(Q,me)|0,m=m+Math.imul(Q,He)|0,m=m+Math.imul(ee,me)|0,g=g+Math.imul(ee,He)|0,E=E+Math.imul(M,Re)|0,m=m+Math.imul(M,dt)|0,m=m+Math.imul(D,Re)|0,g=g+Math.imul(D,dt)|0,E=E+Math.imul(Y,Ne)|0,m=m+Math.imul(Y,ft)|0,m=m+Math.imul(N,Ne)|0,g=g+Math.imul(N,ft)|0,E=E+Math.imul(ae,xe)|0,m=m+Math.imul(ae,_t)|0,m=m+Math.imul(G,xe)|0,g=g+Math.imul(G,_t)|0,E=E+Math.imul(re,Ue)|0,m=m+Math.imul(re,st)|0,m=m+Math.imul(pe,Ue)|0,g=g+Math.imul(pe,st)|0,E=E+Math.imul(U,Be)|0,m=m+Math.imul(U,yt)|0,m=m+Math.imul(K,Be)|0,g=g+Math.imul(K,yt)|0,E=E+Math.imul(k,Oe)|0,m=m+Math.imul(k,xt)|0,m=m+Math.imul(V,Oe)|0,g=g+Math.imul(V,xt)|0;var Un=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Un>>>26)|0,Un&=67108863,E=Math.imul(he,Z),m=Math.imul(he,oe),m=m+Math.imul(Fe,Z)|0,g=Math.imul(Fe,oe),E=E+Math.imul(se,me)|0,m=m+Math.imul(se,He)|0,m=m+Math.imul(ve,me)|0,g=g+Math.imul(ve,He)|0,E=E+Math.imul(Q,Re)|0,m=m+Math.imul(Q,dt)|0,m=m+Math.imul(ee,Re)|0,g=g+Math.imul(ee,dt)|0,E=E+Math.imul(M,Ne)|0,m=m+Math.imul(M,ft)|0,m=m+Math.imul(D,Ne)|0,g=g+Math.imul(D,ft)|0,E=E+Math.imul(Y,xe)|0,m=m+Math.imul(Y,_t)|0,m=m+Math.imul(N,xe)|0,g=g+Math.imul(N,_t)|0,E=E+Math.imul(ae,Ue)|0,m=m+Math.imul(ae,st)|0,m=m+Math.imul(G,Ue)|0,g=g+Math.imul(G,st)|0,E=E+Math.imul(re,Be)|0,m=m+Math.imul(re,yt)|0,m=m+Math.imul(pe,Be)|0,g=g+Math.imul(pe,yt)|0,E=E+Math.imul(U,Oe)|0,m=m+Math.imul(U,xt)|0,m=m+Math.imul(K,Oe)|0,g=g+Math.imul(K,xt)|0,E=E+Math.imul(k,Le)|0,m=m+Math.imul(k,ot)|0,m=m+Math.imul(V,Le)|0,g=g+Math.imul(V,ot)|0;var Fn=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,E=Math.imul(Ee,Z),m=Math.imul(Ee,oe),m=m+Math.imul(nt,Z)|0,g=Math.imul(nt,oe),E=E+Math.imul(he,me)|0,m=m+Math.imul(he,He)|0,m=m+Math.imul(Fe,me)|0,g=g+Math.imul(Fe,He)|0,E=E+Math.imul(se,Re)|0,m=m+Math.imul(se,dt)|0,m=m+Math.imul(ve,Re)|0,g=g+Math.imul(ve,dt)|0,E=E+Math.imul(Q,Ne)|0,m=m+Math.imul(Q,ft)|0,m=m+Math.imul(ee,Ne)|0,g=g+Math.imul(ee,ft)|0,E=E+Math.imul(M,xe)|0,m=m+Math.imul(M,_t)|0,m=m+Math.imul(D,xe)|0,g=g+Math.imul(D,_t)|0,E=E+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,st)|0,m=m+Math.imul(N,Ue)|0,g=g+Math.imul(N,st)|0,E=E+Math.imul(ae,Be)|0,m=m+Math.imul(ae,yt)|0,m=m+Math.imul(G,Be)|0,g=g+Math.imul(G,yt)|0,E=E+Math.imul(re,Oe)|0,m=m+Math.imul(re,xt)|0,m=m+Math.imul(pe,Oe)|0,g=g+Math.imul(pe,xt)|0,E=E+Math.imul(U,Le)|0,m=m+Math.imul(U,ot)|0,m=m+Math.imul(K,Le)|0,g=g+Math.imul(K,ot)|0,E=E+Math.imul(k,De)|0,m=m+Math.imul(k,wt)|0,m=m+Math.imul(V,De)|0,g=g+Math.imul(V,wt)|0;var Hn=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,E=Math.imul(Ee,me),m=Math.imul(Ee,He),m=m+Math.imul(nt,me)|0,g=Math.imul(nt,He),E=E+Math.imul(he,Re)|0,m=m+Math.imul(he,dt)|0,m=m+Math.imul(Fe,Re)|0,g=g+Math.imul(Fe,dt)|0,E=E+Math.imul(se,Ne)|0,m=m+Math.imul(se,ft)|0,m=m+Math.imul(ve,Ne)|0,g=g+Math.imul(ve,ft)|0,E=E+Math.imul(Q,xe)|0,m=m+Math.imul(Q,_t)|0,m=m+Math.imul(ee,xe)|0,g=g+Math.imul(ee,_t)|0,E=E+Math.imul(M,Ue)|0,m=m+Math.imul(M,st)|0,m=m+Math.imul(D,Ue)|0,g=g+Math.imul(D,st)|0,E=E+Math.imul(Y,Be)|0,m=m+Math.imul(Y,yt)|0,m=m+Math.imul(N,Be)|0,g=g+Math.imul(N,yt)|0,E=E+Math.imul(ae,Oe)|0,m=m+Math.imul(ae,xt)|0,m=m+Math.imul(G,Oe)|0,g=g+Math.imul(G,xt)|0,E=E+Math.imul(re,Le)|0,m=m+Math.imul(re,ot)|0,m=m+Math.imul(pe,Le)|0,g=g+Math.imul(pe,ot)|0,E=E+Math.imul(U,De)|0,m=m+Math.imul(U,wt)|0,m=m+Math.imul(K,De)|0,g=g+Math.imul(K,wt)|0;var Vn=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,E=Math.imul(Ee,Re),m=Math.imul(Ee,dt),m=m+Math.imul(nt,Re)|0,g=Math.imul(nt,dt),E=E+Math.imul(he,Ne)|0,m=m+Math.imul(he,ft)|0,m=m+Math.imul(Fe,Ne)|0,g=g+Math.imul(Fe,ft)|0,E=E+Math.imul(se,xe)|0,m=m+Math.imul(se,_t)|0,m=m+Math.imul(ve,xe)|0,g=g+Math.imul(ve,_t)|0,E=E+Math.imul(Q,Ue)|0,m=m+Math.imul(Q,st)|0,m=m+Math.imul(ee,Ue)|0,g=g+Math.imul(ee,st)|0,E=E+Math.imul(M,Be)|0,m=m+Math.imul(M,yt)|0,m=m+Math.imul(D,Be)|0,g=g+Math.imul(D,yt)|0,E=E+Math.imul(Y,Oe)|0,m=m+Math.imul(Y,xt)|0,m=m+Math.imul(N,Oe)|0,g=g+Math.imul(N,xt)|0,E=E+Math.imul(ae,Le)|0,m=m+Math.imul(ae,ot)|0,m=m+Math.imul(G,Le)|0,g=g+Math.imul(G,ot)|0,E=E+Math.imul(re,De)|0,m=m+Math.imul(re,wt)|0,m=m+Math.imul(pe,De)|0,g=g+Math.imul(pe,wt)|0;var jn=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(jn>>>26)|0,jn&=67108863,E=Math.imul(Ee,Ne),m=Math.imul(Ee,ft),m=m+Math.imul(nt,Ne)|0,g=Math.imul(nt,ft),E=E+Math.imul(he,xe)|0,m=m+Math.imul(he,_t)|0,m=m+Math.imul(Fe,xe)|0,g=g+Math.imul(Fe,_t)|0,E=E+Math.imul(se,Ue)|0,m=m+Math.imul(se,st)|0,m=m+Math.imul(ve,Ue)|0,g=g+Math.imul(ve,st)|0,E=E+Math.imul(Q,Be)|0,m=m+Math.imul(Q,yt)|0,m=m+Math.imul(ee,Be)|0,g=g+Math.imul(ee,yt)|0,E=E+Math.imul(M,Oe)|0,m=m+Math.imul(M,xt)|0,m=m+Math.imul(D,Oe)|0,g=g+Math.imul(D,xt)|0,E=E+Math.imul(Y,Le)|0,m=m+Math.imul(Y,ot)|0,m=m+Math.imul(N,Le)|0,g=g+Math.imul(N,ot)|0,E=E+Math.imul(ae,De)|0,m=m+Math.imul(ae,wt)|0,m=m+Math.imul(G,De)|0,g=g+Math.imul(G,wt)|0;var un=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(un>>>26)|0,un&=67108863,E=Math.imul(Ee,xe),m=Math.imul(Ee,_t),m=m+Math.imul(nt,xe)|0,g=Math.imul(nt,_t),E=E+Math.imul(he,Ue)|0,m=m+Math.imul(he,st)|0,m=m+Math.imul(Fe,Ue)|0,g=g+Math.imul(Fe,st)|0,E=E+Math.imul(se,Be)|0,m=m+Math.imul(se,yt)|0,m=m+Math.imul(ve,Be)|0,g=g+Math.imul(ve,yt)|0,E=E+Math.imul(Q,Oe)|0,m=m+Math.imul(Q,xt)|0,m=m+Math.imul(ee,Oe)|0,g=g+Math.imul(ee,xt)|0,E=E+Math.imul(M,Le)|0,m=m+Math.imul(M,ot)|0,m=m+Math.imul(D,Le)|0,g=g+Math.imul(D,ot)|0,E=E+Math.imul(Y,De)|0,m=m+Math.imul(Y,wt)|0,m=m+Math.imul(N,De)|0,g=g+Math.imul(N,wt)|0;var Gn=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,E=Math.imul(Ee,Ue),m=Math.imul(Ee,st),m=m+Math.imul(nt,Ue)|0,g=Math.imul(nt,st),E=E+Math.imul(he,Be)|0,m=m+Math.imul(he,yt)|0,m=m+Math.imul(Fe,Be)|0,g=g+Math.imul(Fe,yt)|0,E=E+Math.imul(se,Oe)|0,m=m+Math.imul(se,xt)|0,m=m+Math.imul(ve,Oe)|0,g=g+Math.imul(ve,xt)|0,E=E+Math.imul(Q,Le)|0,m=m+Math.imul(Q,ot)|0,m=m+Math.imul(ee,Le)|0,g=g+Math.imul(ee,ot)|0,E=E+Math.imul(M,De)|0,m=m+Math.imul(M,wt)|0,m=m+Math.imul(D,De)|0,g=g+Math.imul(D,wt)|0;var zn=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(zn>>>26)|0,zn&=67108863,E=Math.imul(Ee,Be),m=Math.imul(Ee,yt),m=m+Math.imul(nt,Be)|0,g=Math.imul(nt,yt),E=E+Math.imul(he,Oe)|0,m=m+Math.imul(he,xt)|0,m=m+Math.imul(Fe,Oe)|0,g=g+Math.imul(Fe,xt)|0,E=E+Math.imul(se,Le)|0,m=m+Math.imul(se,ot)|0,m=m+Math.imul(ve,Le)|0,g=g+Math.imul(ve,ot)|0,E=E+Math.imul(Q,De)|0,m=m+Math.imul(Q,wt)|0,m=m+Math.imul(ee,De)|0,g=g+Math.imul(ee,wt)|0;var qn=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(qn>>>26)|0,qn&=67108863,E=Math.imul(Ee,Oe),m=Math.imul(Ee,xt),m=m+Math.imul(nt,Oe)|0,g=Math.imul(nt,xt),E=E+Math.imul(he,Le)|0,m=m+Math.imul(he,ot)|0,m=m+Math.imul(Fe,Le)|0,g=g+Math.imul(Fe,ot)|0,E=E+Math.imul(se,De)|0,m=m+Math.imul(se,wt)|0,m=m+Math.imul(ve,De)|0,g=g+Math.imul(ve,wt)|0;var Kn=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,E=Math.imul(Ee,Le),m=Math.imul(Ee,ot),m=m+Math.imul(nt,Le)|0,g=Math.imul(nt,ot),E=E+Math.imul(he,De)|0,m=m+Math.imul(he,wt)|0,m=m+Math.imul(Fe,De)|0,g=g+Math.imul(Fe,wt)|0;var at=(A+E|0)+((m&8191)<<13)|0;A=(g+(m>>>13)|0)+(at>>>26)|0,at&=67108863,E=Math.imul(Ee,De),m=Math.imul(Ee,wt),m=m+Math.imul(nt,De)|0,g=Math.imul(nt,wt);var Er=(A+E|0)+((m&8191)<<13)|0;return A=(g+(m>>>13)|0)+(Er>>>26)|0,Er&=67108863,y[0]=Ye,y[1]=Qe,y[2]=Ar,y[3]=mr,y[4]=Pr,y[5]=Br,y[6]=yr,y[7]=Un,y[8]=Fn,y[9]=Hn,y[10]=Vn,y[11]=jn,y[12]=un,y[13]=Gn,y[14]=zn,y[15]=qn,y[16]=Kn,y[17]=at,y[18]=Er,A!==0&&(y[19]=A,l.length++),l};Math.imul||(R=I);function P(L,S,v){v.negative=S.negative^L.negative,v.length=L.length+S.length;for(var l=0,p=0,b=0;b<v.length-1;b++){var y=p;p=0;for(var A=l&67108863,E=Math.min(b,S.length-1),m=Math.max(0,b-L.length+1);m<=E;m++){var g=b-m,d=L.words[g]|0,k=S.words[m]|0,V=d*k,_=V&67108863;y=y+(V/67108864|0)|0,_=_+A|0,A=_&67108863,y=y+(_>>>26)|0,p+=y>>>26,y&=67108863}v.words[b]=A,l=y,y=p}return l!==0?v.words[b]=l:v.length--,v.strip()}function B(L,S,v){var l=new O;return l.mulp(L,S,v)}i.prototype.mulTo=function(S,v){var l,p=this.length+S.length;return this.length===10&&S.length===10?l=R(this,S,v):p<63?l=I(this,S,v):p<1024?l=P(this,S,v):l=B(this,S,v),l};function O(L,S){this.x=L,this.y=S}O.prototype.makeRBT=function(S){for(var v=new Array(S),l=i.prototype._countBits(S)-1,p=0;p<S;p++)v[p]=this.revBin(p,l,S);return v},O.prototype.revBin=function(S,v,l){if(S===0||S===l-1)return S;for(var p=0,b=0;b<v;b++)p|=(S&1)<<v-b-1,S>>=1;return p},O.prototype.permute=function(S,v,l,p,b,y){for(var A=0;A<y;A++)p[A]=v[S[A]],b[A]=l[S[A]]},O.prototype.transform=function(S,v,l,p,b,y){this.permute(y,S,v,l,p,b);for(var A=1;A<b;A<<=1)for(var E=A<<1,m=Math.cos(2*Math.PI/E),g=Math.sin(2*Math.PI/E),d=0;d<b;d+=E)for(var k=m,V=g,_=0;_<A;_++){var U=l[d+_],K=p[d+_],W=l[d+_+A],re=p[d+_+A],pe=k*W-V*re;re=k*re+V*W,W=pe,l[d+_]=U+W,p[d+_]=K+re,l[d+_+A]=U-W,p[d+_+A]=K-re,_!==E&&(pe=m*k-g*V,V=m*V+g*k,k=pe)}},O.prototype.guessLen13b=function(S,v){var l=Math.max(v,S)|1,p=l&1,b=0;for(l=l/2|0;l;l=l>>>1)b++;return 1<<b+1+p},O.prototype.conjugate=function(S,v,l){if(!(l<=1))for(var p=0;p<l/2;p++){var b=S[p];S[p]=S[l-p-1],S[l-p-1]=b,b=v[p],v[p]=-v[l-p-1],v[l-p-1]=-b}},O.prototype.normalize13b=function(S,v){for(var l=0,p=0;p<v/2;p++){var b=Math.round(S[2*p+1]/v)*8192+Math.round(S[2*p]/v)+l;S[p]=b&67108863,b<67108864?l=0:l=b/67108864|0}return S},O.prototype.convert13b=function(S,v,l,p){for(var b=0,y=0;y<v;y++)b=b+(S[y]|0),l[2*y]=b&8191,b=b>>>13,l[2*y+1]=b&8191,b=b>>>13;for(y=2*v;y<p;++y)l[y]=0;n(b===0),n((b&-8192)===0)},O.prototype.stub=function(S){for(var v=new Array(S),l=0;l<S;l++)v[l]=0;return v},O.prototype.mulp=function(S,v,l){var p=2*this.guessLen13b(S.length,v.length),b=this.makeRBT(p),y=this.stub(p),A=new Array(p),E=new Array(p),m=new Array(p),g=new Array(p),d=new Array(p),k=new Array(p),V=l.words;V.length=p,this.convert13b(S.words,S.length,A,p),this.convert13b(v.words,v.length,g,p),this.transform(A,y,E,m,p,b),this.transform(g,y,d,k,p,b);for(var _=0;_<p;_++){var U=E[_]*d[_]-m[_]*k[_];m[_]=E[_]*k[_]+m[_]*d[_],E[_]=U}return this.conjugate(E,m,p),this.transform(E,m,V,y,p,b),this.conjugate(V,y,p),this.normalize13b(V,p),l.negative=S.negative^v.negative,l.length=S.length+v.length,l.strip()},i.prototype.mul=function(S){var v=new i(null);return v.words=new Array(this.length+S.length),this.mulTo(S,v)},i.prototype.mulf=function(S){var v=new i(null);return v.words=new Array(this.length+S.length),B(this,S,v)},i.prototype.imul=function(S){return this.clone().mulTo(S,this)},i.prototype.imuln=function(S){n(typeof S=="number"),n(S<67108864);for(var v=0,l=0;l<this.length;l++){var p=(this.words[l]|0)*S,b=(p&67108863)+(v&67108863);v>>=26,v+=p/67108864|0,v+=b>>>26,this.words[l]=b&67108863}return v!==0&&(this.words[l]=v,this.length++),this},i.prototype.muln=function(S){return this.clone().imuln(S)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(S){var v=T(S);if(v.length===0)return new i(1);for(var l=this,p=0;p<v.length&&v[p]===0;p++,l=l.sqr());if(++p<v.length)for(var b=l.sqr();p<v.length;p++,b=b.sqr())v[p]!==0&&(l=l.mul(b));return l},i.prototype.iushln=function(S){n(typeof S=="number"&&S>=0);var v=S%26,l=(S-v)/26,p=67108863>>>26-v<<26-v,b;if(v!==0){var y=0;for(b=0;b<this.length;b++){var A=this.words[b]&p,E=(this.words[b]|0)-A<<v;this.words[b]=E|y,y=A>>>26-v}y&&(this.words[b]=y,this.length++)}if(l!==0){for(b=this.length-1;b>=0;b--)this.words[b+l]=this.words[b];for(b=0;b<l;b++)this.words[b]=0;this.length+=l}return this.strip()},i.prototype.ishln=function(S){return n(this.negative===0),this.iushln(S)},i.prototype.iushrn=function(S,v,l){n(typeof S=="number"&&S>=0);var p;v?p=(v-v%26)/26:p=0;var b=S%26,y=Math.min((S-b)/26,this.length),A=67108863^67108863>>>b<<b,E=l;if(p-=y,p=Math.max(0,p),E){for(var m=0;m<y;m++)E.words[m]=this.words[m];E.length=y}if(y!==0)if(this.length>y)for(this.length-=y,m=0;m<this.length;m++)this.words[m]=this.words[m+y];else this.words[0]=0,this.length=1;var g=0;for(m=this.length-1;m>=0&&(g!==0||m>=p);m--){var d=this.words[m]|0;this.words[m]=g<<26-b|d>>>b,g=d&A}return E&&g!==0&&(E.words[E.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(S,v,l){return n(this.negative===0),this.iushrn(S,v,l)},i.prototype.shln=function(S){return this.clone().ishln(S)},i.prototype.ushln=function(S){return this.clone().iushln(S)},i.prototype.shrn=function(S){return this.clone().ishrn(S)},i.prototype.ushrn=function(S){return this.clone().iushrn(S)},i.prototype.testn=function(S){n(typeof S=="number"&&S>=0);var v=S%26,l=(S-v)/26,p=1<<v;if(this.length<=l)return!1;var b=this.words[l];return!!(b&p)},i.prototype.imaskn=function(S){n(typeof S=="number"&&S>=0);var v=S%26,l=(S-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(v!==0&&l++,this.length=Math.min(l,this.length),v!==0){var p=67108863^67108863>>>v<<v;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(S){return this.clone().imaskn(S)},i.prototype.iaddn=function(S){return n(typeof S=="number"),n(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(this.words[0]|0)<S?(this.words[0]=S-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},i.prototype._iaddn=function(S){this.words[0]+=S;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(S){if(n(typeof S=="number"),n(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},i.prototype.addn=function(S){return this.clone().iaddn(S)},i.prototype.subn=function(S){return this.clone().isubn(S)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(S,v,l){var p=S.length+l,b;this._expand(p);var y,A=0;for(b=0;b<S.length;b++){y=(this.words[b+l]|0)+A;var E=(S.words[b]|0)*v;y-=E&67108863,A=(y>>26)-(E/67108864|0),this.words[b+l]=y&67108863}for(;b<this.length-l;b++)y=(this.words[b+l]|0)+A,A=y>>26,this.words[b+l]=y&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,b=0;b<this.length;b++)y=-(this.words[b]|0)+A,A=y>>26,this.words[b]=y&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(S,v){var l=this.length-S.length,p=this.clone(),b=S,y=b.words[b.length-1]|0,A=this._countBits(y);l=26-A,l!==0&&(b=b.ushln(l),p.iushln(l),y=b.words[b.length-1]|0);var E=p.length-b.length,m;if(v!=="mod"){m=new i(null),m.length=E+1,m.words=new Array(m.length);for(var g=0;g<m.length;g++)m.words[g]=0}var d=p.clone()._ishlnsubmul(b,1,E);d.negative===0&&(p=d,m&&(m.words[E]=1));for(var k=E-1;k>=0;k--){var V=(p.words[b.length+k]|0)*67108864+(p.words[b.length+k-1]|0);for(V=Math.min(V/y|0,67108863),p._ishlnsubmul(b,V,k);p.negative!==0;)V--,p.negative=0,p._ishlnsubmul(b,1,k),p.isZero()||(p.negative^=1);m&&(m.words[k]=V)}return m&&m.strip(),p.strip(),v!=="div"&&l!==0&&p.iushrn(l),{div:m||null,mod:p}},i.prototype.divmod=function(S,v,l){if(n(!S.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,b,y;return this.negative!==0&&S.negative===0?(y=this.neg().divmod(S,v),v!=="mod"&&(p=y.div.neg()),v!=="div"&&(b=y.mod.neg(),l&&b.negative!==0&&b.iadd(S)),{div:p,mod:b}):this.negative===0&&S.negative!==0?(y=this.divmod(S.neg(),v),v!=="mod"&&(p=y.div.neg()),{div:p,mod:y.mod}):(this.negative&S.negative)!==0?(y=this.neg().divmod(S.neg(),v),v!=="div"&&(b=y.mod.neg(),l&&b.negative!==0&&b.isub(S)),{div:y.div,mod:b}):S.length>this.length||this.cmp(S)<0?{div:new i(0),mod:this}:S.length===1?v==="div"?{div:this.divn(S.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new i(this.modn(S.words[0]))}:this._wordDiv(S,v)},i.prototype.div=function(S){return this.divmod(S,"div",!1).div},i.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},i.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},i.prototype.divRound=function(S){var v=this.divmod(S);if(v.mod.isZero())return v.div;var l=v.div.negative!==0?v.mod.isub(S):v.mod,p=S.ushrn(1),b=S.andln(1),y=l.cmp(p);return y<0||b===1&&y===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modn=function(S){n(S<=67108863);for(var v=(1<<26)%S,l=0,p=this.length-1;p>=0;p--)l=(v*l+(this.words[p]|0))%S;return l},i.prototype.idivn=function(S){n(S<=67108863);for(var v=0,l=this.length-1;l>=0;l--){var p=(this.words[l]|0)+v*67108864;this.words[l]=p/S|0,v=p%S}return this.strip()},i.prototype.divn=function(S){return this.clone().idivn(S)},i.prototype.egcd=function(S){n(S.negative===0),n(!S.isZero());var v=this,l=S.clone();v.negative!==0?v=v.umod(S):v=v.clone();for(var p=new i(1),b=new i(0),y=new i(0),A=new i(1),E=0;v.isEven()&&l.isEven();)v.iushrn(1),l.iushrn(1),++E;for(var m=l.clone(),g=v.clone();!v.isZero();){for(var d=0,k=1;(v.words[0]&k)===0&&d<26;++d,k<<=1);if(d>0)for(v.iushrn(d);d-- >0;)(p.isOdd()||b.isOdd())&&(p.iadd(m),b.isub(g)),p.iushrn(1),b.iushrn(1);for(var V=0,_=1;(l.words[0]&_)===0&&V<26;++V,_<<=1);if(V>0)for(l.iushrn(V);V-- >0;)(y.isOdd()||A.isOdd())&&(y.iadd(m),A.isub(g)),y.iushrn(1),A.iushrn(1);v.cmp(l)>=0?(v.isub(l),p.isub(y),b.isub(A)):(l.isub(v),y.isub(p),A.isub(b))}return{a:y,b:A,gcd:l.iushln(E)}},i.prototype._invmp=function(S){n(S.negative===0),n(!S.isZero());var v=this,l=S.clone();v.negative!==0?v=v.umod(S):v=v.clone();for(var p=new i(1),b=new i(0),y=l.clone();v.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,E=1;(v.words[0]&E)===0&&A<26;++A,E<<=1);if(A>0)for(v.iushrn(A);A-- >0;)p.isOdd()&&p.iadd(y),p.iushrn(1);for(var m=0,g=1;(l.words[0]&g)===0&&m<26;++m,g<<=1);if(m>0)for(l.iushrn(m);m-- >0;)b.isOdd()&&b.iadd(y),b.iushrn(1);v.cmp(l)>=0?(v.isub(l),p.isub(b)):(l.isub(v),b.isub(p))}var d;return v.cmpn(1)===0?d=p:d=b,d.cmpn(0)<0&&d.iadd(S),d},i.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var v=this.clone(),l=S.clone();v.negative=0,l.negative=0;for(var p=0;v.isEven()&&l.isEven();p++)v.iushrn(1),l.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;l.isEven();)l.iushrn(1);var b=v.cmp(l);if(b<0){var y=v;v=l,l=y}else if(b===0||l.cmpn(1)===0)break;v.isub(l)}while(!0);return l.iushln(p)},i.prototype.invm=function(S){return this.egcd(S).a.umod(S)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(S){return this.words[0]&S},i.prototype.bincn=function(S){n(typeof S=="number");var v=S%26,l=(S-v)/26,p=1<<v;if(this.length<=l)return this._expand(l+1),this.words[l]|=p,this;for(var b=p,y=l;b!==0&&y<this.length;y++){var A=this.words[y]|0;A+=b,b=A>>>26,A&=67108863,this.words[y]=A}return b!==0&&(this.words[y]=b,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(S){var v=S<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var l;if(this.length>1)l=1;else{v&&(S=-S),n(S<=67108863,"Number is too big");var p=this.words[0]|0;l=p===S?0:p<S?-1:1}return this.negative!==0?-l|0:l},i.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var v=this.ucmp(S);return this.negative!==0?-v|0:v},i.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var v=0,l=this.length-1;l>=0;l--){var p=this.words[l]|0,b=S.words[l]|0;if(p!==b){p<b?v=-1:p>b&&(v=1);break}}return v},i.prototype.gtn=function(S){return this.cmpn(S)===1},i.prototype.gt=function(S){return this.cmp(S)===1},i.prototype.gten=function(S){return this.cmpn(S)>=0},i.prototype.gte=function(S){return this.cmp(S)>=0},i.prototype.ltn=function(S){return this.cmpn(S)===-1},i.prototype.lt=function(S){return this.cmp(S)===-1},i.prototype.lten=function(S){return this.cmpn(S)<=0},i.prototype.lte=function(S){return this.cmp(S)<=0},i.prototype.eqn=function(S){return this.cmpn(S)===0},i.prototype.eq=function(S){return this.cmp(S)===0},i.red=function(S){return new ce(S)},i.prototype.toRed=function(S){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(S){return this.red=S,this},i.prototype.forceRed=function(S){return n(!this.red,"Already a number in reduction context"),this._forceRed(S)},i.prototype.redAdd=function(S){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},i.prototype.redIAdd=function(S){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},i.prototype.redSub=function(S){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},i.prototype.redISub=function(S){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},i.prototype.redShl=function(S){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},i.prototype.redMul=function(S){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},i.prototype.redIMul=function(S){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(S){return n(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var H={k256:null,p224:null,p192:null,p25519:null};function $(L,S){this.name=L,this.p=new i(S,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var S=new i(null);return S.words=new Array(Math.ceil(this.n/13)),S},$.prototype.ireduce=function(S){var v=S,l;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),l=v.bitLength();while(l>this.n);var p=l<this.n?-1:v.ucmp(this.p);return p===0?(v.words[0]=0,v.length=1):p>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},$.prototype.split=function(S,v){S.iushrn(this.n,0,v)},$.prototype.imulK=function(S){return S.imul(this.k)};function J(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(J,$),J.prototype.split=function(S,v){for(var l=4194303,p=Math.min(S.length,9),b=0;b<p;b++)v.words[b]=S.words[b];if(v.length=p,S.length<=9){S.words[0]=0,S.length=1;return}var y=S.words[9];for(v.words[v.length++]=y&l,b=10;b<S.length;b++){var A=S.words[b]|0;S.words[b-10]=(A&l)<<4|y>>>22,y=A}y>>>=22,S.words[b-10]=y,y===0&&S.length>10?S.length-=10:S.length-=9},J.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var v=0,l=0;l<S.length;l++){var p=S.words[l]|0;v+=p*977,S.words[l]=v&67108863,v=p*64+(v/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S};function ie(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(ie,$);function we(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(we,$);function de(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(de,$),de.prototype.imulK=function(S){for(var v=0,l=0;l<S.length;l++){var p=(S.words[l]|0)*19+v,b=p&67108863;p>>>=26,S.words[l]=b,v=p}return v!==0&&(S.words[S.length++]=v),S},i._prime=function(S){if(H[S])return H[S];var v;if(S==="k256")v=new J;else if(S==="p224")v=new ie;else if(S==="p192")v=new we;else if(S==="p25519")v=new de;else throw new Error("Unknown prime "+S);return H[S]=v,v};function ce(L){if(typeof L=="string"){var S=i._prime(L);this.m=S.p,this.prime=S}else n(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}ce.prototype._verify1=function(S){n(S.negative===0,"red works only with positives"),n(S.red,"red works only with red numbers")},ce.prototype._verify2=function(S,v){n((S.negative|v.negative)===0,"red works only with positives"),n(S.red&&S.red===v.red,"red works only with red numbers")},ce.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):S.umod(this.m)._forceRed(this)},ce.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},ce.prototype.add=function(S,v){this._verify2(S,v);var l=S.add(v);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},ce.prototype.iadd=function(S,v){this._verify2(S,v);var l=S.iadd(v);return l.cmp(this.m)>=0&&l.isub(this.m),l},ce.prototype.sub=function(S,v){this._verify2(S,v);var l=S.sub(v);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},ce.prototype.isub=function(S,v){this._verify2(S,v);var l=S.isub(v);return l.cmpn(0)<0&&l.iadd(this.m),l},ce.prototype.shl=function(S,v){return this._verify1(S),this.imod(S.ushln(v))},ce.prototype.imul=function(S,v){return this._verify2(S,v),this.imod(S.imul(v))},ce.prototype.mul=function(S,v){return this._verify2(S,v),this.imod(S.mul(v))},ce.prototype.isqr=function(S){return this.imul(S,S.clone())},ce.prototype.sqr=function(S){return this.mul(S,S)},ce.prototype.sqrt=function(S){if(S.isZero())return S.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var l=this.m.add(new i(1)).iushrn(2);return this.pow(S,l)}for(var p=this.m.subn(1),b=0;!p.isZero()&&p.andln(1)===0;)b++,p.iushrn(1);n(!p.isZero());var y=new i(1).toRed(this),A=y.redNeg(),E=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new i(2*m*m).toRed(this);this.pow(m,E).cmp(A)!==0;)m.redIAdd(A);for(var g=this.pow(m,p),d=this.pow(S,p.addn(1).iushrn(1)),k=this.pow(S,p),V=b;k.cmp(y)!==0;){for(var _=k,U=0;_.cmp(y)!==0;U++)_=_.redSqr();n(U<V);var K=this.pow(g,new i(1).iushln(V-U-1));d=d.redMul(K),g=K.redSqr(),k=k.redMul(g),V=U}return d},ce.prototype.invm=function(S){var v=S._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},ce.prototype.pow=function(S,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return S.clone();var l=4,p=new Array(1<<l);p[0]=new i(1).toRed(this),p[1]=S;for(var b=2;b<p.length;b++)p[b]=this.mul(p[b-1],S);var y=p[0],A=0,E=0,m=v.bitLength()%26;for(m===0&&(m=26),b=v.length-1;b>=0;b--){for(var g=v.words[b],d=m-1;d>=0;d--){var k=g>>d&1;if(y!==p[0]&&(y=this.sqr(y)),k===0&&A===0){E=0;continue}A<<=1,A|=k,E++,!(E!==l&&(b!==0||d!==0))&&(y=this.mul(y,p[A]),E=0,A=0)}m=26}return y},ce.prototype.convertTo=function(S){var v=S.umod(this.m);return v===S?v.clone():v},ce.prototype.convertFrom=function(S){var v=S.clone();return v.red=null,v},i.mont=function(S){return new be(S)};function be(L){ce.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(be,ce),be.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},be.prototype.convertFrom=function(S){var v=this.imod(S.mul(this.rinv));return v.red=null,v},be.prototype.imul=function(S,v){if(S.isZero()||v.isZero())return S.words[0]=0,S.length=1,S;var l=S.imul(v),p=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=l.isub(p).iushrn(this.shift),y=b;return b.cmp(this.m)>=0?y=b.isub(this.m):b.cmpn(0)<0&&(y=b.iadd(this.m)),y._forceRed(this)},be.prototype.mul=function(S,v){if(S.isZero()||v.isZero())return new i(0)._forceRed(this);var l=S.mul(v),p=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=l.isub(p).iushrn(this.shift),y=b;return b.cmp(this.m)>=0?y=b.isub(this.m):b.cmpn(0)<0&&(y=b.iadd(this.m)),y._forceRed(this)},be.prototype.invm=function(S){var v=this.imod(S._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(r,gt)})(jo);var o2={};(function(r){var e=r;function t(i,a){if(Array.isArray(i))return i.slice();if(!i)return[];var s=[];if(typeof i!="string"){for(var c=0;c<i.length;c++)s[c]=i[c]|0;return s}if(a==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var c=0;c<i.length;c+=2)s.push(parseInt(i[c]+i[c+1],16))}else for(var c=0;c<i.length;c++){var f=i.charCodeAt(c),u=f>>8,h=f&255;u?s.push(u,h):s.push(h)}return s}e.toArray=t;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function o(i){for(var a="",s=0;s<i.length;s++)a+=n(i[s].toString(16));return a}e.toHex=o,e.encode=function(a,s){return s==="hex"?o(a):a}})(o2);(function(r){var e=r,t=jo.exports,n=hf,o=o2;e.assert=n,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function i(u,h,w){var T=new Array(Math.max(u.bitLength(),w)+1);T.fill(0);for(var I=1<<h+1,R=u.clone(),P=0;P<T.length;P++){var B,O=R.andln(I-1);R.isOdd()?(O>(I>>1)-1?B=(I>>1)-O:B=O,R.isubn(B)):B=0,T[P]=B,R.iushrn(1)}return T}e.getNAF=i;function a(u,h){var w=[[],[]];u=u.clone(),h=h.clone();for(var T=0,I=0,R;u.cmpn(-T)>0||h.cmpn(-I)>0;){var P=u.andln(3)+T&3,B=h.andln(3)+I&3;P===3&&(P=-1),B===3&&(B=-1);var O;(P&1)===0?O=0:(R=u.andln(7)+T&7,(R===3||R===5)&&B===2?O=-P:O=P),w[0].push(O);var H;(B&1)===0?H=0:(R=h.andln(7)+I&7,(R===3||R===5)&&P===2?H=-B:H=B),w[1].push(H),2*T===O+1&&(T=1-T),2*I===H+1&&(I=1-I),u.iushrn(1),h.iushrn(1)}return w}e.getJSF=a;function s(u,h,w){var T="_"+h;u.prototype[h]=function(){return this[T]!==void 0?this[T]:this[T]=w.call(this)}}e.cachedProperty=s;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function f(u){return new t(u,"hex","le")}e.intFromLE=f})(ai);var jp={exports:{}},wv;jp.exports=function(e){return wv||(wv=new Ja(null)),wv.generate(e)};function Ja(r){this.rand=r}jp.exports.Rand=Ja;Ja.prototype.generate=function(e){return this._rand(e)};Ja.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Ja.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Ja.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(Ja.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var V6=xa;if(typeof V6.randomBytes!="function")throw new Error("Not supported");Ja.prototype._rand=function(e){return V6.randomBytes(e)}}catch{}var a2={},Ss=jo.exports,s0=ai,gh=s0.getNAF,XK=s0.getJSF,vh=s0.assert;function vs(r,e){this.type=r,this.p=new Ss(e.p,16),this.red=e.prime?Ss.red(e.prime):Ss.mont(this.p),this.zero=new Ss(0).toRed(this.red),this.one=new Ss(1).toRed(this.red),this.two=new Ss(2).toRed(this.red),this.n=e.n&&new Ss(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Gp=vs;vs.prototype.point=function(){throw new Error("Not implemented")};vs.prototype.validate=function(){throw new Error("Not implemented")};vs.prototype._fixedNafMul=function(e,t){vh(e.precomputed);var n=e._getDoubles(),o=gh(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],s,c;for(s=0;s<o.length;s+=n.step){c=0;for(var f=s+n.step-1;f>=s;f--)c=(c<<1)+o[f];a.push(c)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),w=i;w>0;w--){for(s=0;s<a.length;s++)c=a[s],c===w?h=h.mixedAdd(n.points[s]):c===-w&&(h=h.mixedAdd(n.points[s].neg()));u=u.add(h)}return u.toP()};vs.prototype._wnafMul=function(e,t){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,a=gh(t,n,this._bitLength),s=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var f=0;c>=0&&a[c]===0;c--)f++;if(c>=0&&f++,s=s.dblp(f),c<0)break;var u=a[c];vh(u!==0),e.type==="affine"?u>0?s=s.mixedAdd(i[u-1>>1]):s=s.mixedAdd(i[-u-1>>1].neg()):u>0?s=s.add(i[u-1>>1]):s=s.add(i[-u-1>>1].neg())}return e.type==="affine"?s.toP():s};vs.prototype._wnafMulAdd=function(e,t,n,o,i){var a=this._wnafT1,s=this._wnafT2,c=this._wnafT3,f=0,u,h,w;for(u=0;u<o;u++){w=t[u];var T=w._getNAFPoints(e);a[u]=T.wnd,s[u]=T.points}for(u=o-1;u>=1;u-=2){var I=u-1,R=u;if(a[I]!==1||a[R]!==1){c[I]=gh(n[I],a[I],this._bitLength),c[R]=gh(n[R],a[R],this._bitLength),f=Math.max(c[I].length,f),f=Math.max(c[R].length,f);continue}var P=[t[I],null,null,t[R]];t[I].y.cmp(t[R].y)===0?(P[1]=t[I].add(t[R]),P[2]=t[I].toJ().mixedAdd(t[R].neg())):t[I].y.cmp(t[R].y.redNeg())===0?(P[1]=t[I].toJ().mixedAdd(t[R]),P[2]=t[I].add(t[R].neg())):(P[1]=t[I].toJ().mixedAdd(t[R]),P[2]=t[I].toJ().mixedAdd(t[R].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],O=XK(n[I],n[R]);for(f=Math.max(O[0].length,f),c[I]=new Array(f),c[R]=new Array(f),h=0;h<f;h++){var H=O[0][h]|0,$=O[1][h]|0;c[I][h]=B[(H+1)*3+($+1)],c[R][h]=0,s[I]=P}}var J=this.jpoint(null,null,null),ie=this._wnafT4;for(u=f;u>=0;u--){for(var we=0;u>=0;){var de=!0;for(h=0;h<o;h++)ie[h]=c[h][u]|0,ie[h]!==0&&(de=!1);if(!de)break;we++,u--}if(u>=0&&we++,J=J.dblp(we),u<0)break;for(h=0;h<o;h++){var ce=ie[h];ce!==0&&(ce>0?w=s[h][ce-1>>1]:ce<0&&(w=s[h][-ce-1>>1].neg()),w.type==="affine"?J=J.mixedAdd(w):J=J.add(w))}}for(u=0;u<o;u++)s[u]=null;return i?J:J.toP()};function Ci(r,e){this.curve=r,this.type=e,this.precomputed=null}vs.BasePoint=Ci;Ci.prototype.eq=function(){throw new Error("Not implemented")};Ci.prototype.validate=function(){return this.curve.validate(this)};vs.prototype.decodePoint=function(e,t){e=s0.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?vh(e[e.length-1]%2===0):e[0]===7&&vh(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ci.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ci.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Ci.prototype.encode=function(e,t){return s0.encode(this._encode(t),e)};Ci.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Ci.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Ci.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)o=o.dbl();n.push(o)}return{step:e,points:n}};Ci.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(o);return{wnd:e,points:t}};Ci.prototype._getBeta=function(){return null};Ci.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var e$=ai,vr=jo.exports,s2=kc.exports,fl=Gp,t$=e$.assert;function Mi(r){fl.call(this,"short",r),this.a=new vr(r.a,16).toRed(this.red),this.b=new vr(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}s2(Mi,fl);var r$=Mi;Mi.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new vr(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)n=new vr(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?n=i[0]:(n=i[1],t$(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(s){return{a:new vr(s.a,16),b:new vr(s.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}};Mi.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:vr.mont(e),n=new vr(2).toRed(t).redInvm(),o=n.redNeg(),i=new vr(3).toRed(t).redNeg().redSqrt().redMul(n),a=o.redAdd(i).fromRed(),s=o.redSub(i).fromRed();return[a,s]};Mi.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new vr(1),a=new vr(0),s=new vr(0),c=new vr(1),f,u,h,w,T,I,R,P=0,B,O;n.cmpn(0)!==0;){var H=o.div(n);B=o.sub(H.mul(n)),O=s.sub(H.mul(i));var $=c.sub(H.mul(a));if(!h&&B.cmp(t)<0)f=R.neg(),u=i,h=B.neg(),w=O;else if(h&&++P===2)break;R=B,o=n,n=B,s=i,i=O,c=a,a=$}T=B.neg(),I=O;var J=h.sqr().add(w.sqr()),ie=T.sqr().add(I.sqr());return ie.cmp(J)>=0&&(T=f,I=u),h.negative&&(h=h.neg(),w=w.neg()),T.negative&&(T=T.neg(),I=I.neg()),[{a:h,b:w},{a:T,b:I}]};Mi.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],o=t[1],i=o.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),s=i.mul(n.a),c=a.mul(o.a),f=i.mul(n.b),u=a.mul(o.b),h=e.sub(s).sub(c),w=f.add(u).neg();return{k1:h,k2:w}};Mi.prototype.pointFromX=function(e,t){e=new vr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(t&&!i||!t&&i)&&(o=o.redNeg()),this.point(e,o)};Mi.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,o=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Mi.prototype._endoWnafMulAdd=function(e,t,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),c=e[a],f=c._getBeta();s.k1.negative&&(s.k1.ineg(),c=c.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),o[a*2]=c,o[a*2+1]=f,i[a*2]=s.k1,i[a*2+1]=s.k2}for(var u=this._wnafMulAdd(1,o,i,a*2,n),h=0;h<a*2;h++)o[h]=null,i[h]=null;return u};function Gr(r,e,t,n){fl.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new vr(e,16),this.y=new vr(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}s2(Gr,fl.BasePoint);Mi.prototype.point=function(e,t,n){return new Gr(this,e,t,n)};Mi.prototype.pointFromJSON=function(e,t){return Gr.fromJSON(this,e,t)};Gr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}};Gr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Gr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],n);if(!t[2])return o;function i(s){return e.point(s[0],s[1],n)}var a=t[2];return o.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[o].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[o].concat(a.naf.points.map(i))}},o};Gr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Gr.prototype.isInfinity=function(){return this.inf};Gr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};Gr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(o),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)};Gr.prototype.getX=function(){return this.x.fromRed()};Gr.prototype.getY=function(){return this.y.fromRed()};Gr.prototype.mul=function(e){return e=new vr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Gr.prototype.mulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};Gr.prototype.jmulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};Gr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Gr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return t};Gr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Yr(r,e,t,n){fl.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new vr(0)):(this.x=new vr(e,16),this.y=new vr(t,16),this.z=new vr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s2(Yr,fl.BasePoint);Mi.prototype.jpoint=function(e,t,n){return new Yr(this,e,t,n)};Yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(n,o)};Yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(t),i=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),c=o.redSub(i),f=a.redSub(s);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),h=u.redMul(c),w=o.redMul(u),T=f.redSqr().redIAdd(h).redISub(w).redISub(w),I=f.redMul(w.redISub(T)).redISub(a.redMul(h)),R=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(T,I,R)};Yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,o=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=n.redSub(o),c=i.redSub(a);if(s.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),u=f.redMul(s),h=n.redMul(f),w=c.redSqr().redIAdd(u).redISub(h).redISub(h),T=c.redMul(h.redISub(w)).redISub(i.redMul(u)),I=this.z.redMul(s);return this.curve.jpoint(w,T,I)};Yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,c=this.z,f=c.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var h=a.redSqr(),w=u.redSqr(),T=w.redSqr(),I=h.redAdd(h).redIAdd(h).redIAdd(o.redMul(f)),R=a.redMul(w),P=I.redSqr().redISub(R.redAdd(R)),B=R.redISub(P),O=I.redMul(B);O=O.redIAdd(O).redISub(T);var H=u.redMul(c);t+1<e&&(f=f.redMul(T)),a=P,c=H,u=O}return this.curve.jpoint(a,u.redMul(i),c)};Yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Yr.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(o).redISub(a);s=s.redIAdd(s);var c=o.redAdd(o).redIAdd(o),f=c.redSqr().redISub(s).redISub(s),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=f,t=c.redMul(s.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),w=this.y.redSqr(),T=w.redSqr(),I=this.x.redAdd(w).redSqr().redISub(h).redISub(T);I=I.redIAdd(I);var R=h.redAdd(h).redIAdd(h),P=R.redSqr(),B=T.redIAdd(T);B=B.redIAdd(B),B=B.redIAdd(B),e=P.redISub(I).redISub(I),t=R.redMul(I.redISub(e)).redISub(B),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Yr.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(o).redISub(a);s=s.redIAdd(s);var c=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),f=c.redSqr().redISub(s).redISub(s);e=f;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),t=c.redMul(s.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),w=this.y.redSqr(),T=this.x.redMul(w),I=this.x.redSub(h).redMul(this.x.redAdd(h));I=I.redAdd(I).redIAdd(I);var R=T.redIAdd(T);R=R.redIAdd(R);var P=R.redAdd(R);e=I.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(w).redISub(h);var B=w.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),t=I.redMul(R.redISub(e)).redISub(B)}return this.curve.jpoint(e,t,n)};Yr.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),a=t.redSqr(),s=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),f=t.redAdd(t);f=f.redIAdd(f);var u=f.redMul(s),h=c.redSqr().redISub(u.redAdd(u)),w=u.redISub(h),T=s.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var I=c.redMul(w).redISub(T),R=n.redAdd(n).redMul(o);return this.curve.jpoint(h,I,R)};Yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),o=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(o);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(a);var c=s.redSqr(),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=i.redIAdd(s).redSqr().redISub(a).redISub(c).redISub(f),h=t.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var w=this.x.redMul(c).redISub(h);w=w.redIAdd(w),w=w.redIAdd(w);var T=this.y.redMul(u.redMul(f.redISub(u)).redISub(s.redMul(c)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var I=this.z.redAdd(s).redSqr().redISub(n).redISub(c);return this.curve.jpoint(w,T,I)};Yr.prototype.mul=function(e,t){return e=new vr(e,t),this.curve._wnafMul(this,e)};Yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};Yr.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Zf=jo.exports,rS=kc.exports,zp=Gp,n$=ai;function cl(r){zp.call(this,"mont",r),this.a=new Zf(r.a,16).toRed(this.red),this.b=new Zf(r.b,16).toRed(this.red),this.i4=new Zf(4).toRed(this.red).redInvm(),this.two=new Zf(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}rS(cl,zp);var i$=cl;cl.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),o=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),i=o.redSqrt();return i.redSqr().cmp(o)===0};function Vr(r,e,t){zp.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Zf(e,16),this.z=new Zf(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}rS(Vr,zp.BasePoint);cl.prototype.decodePoint=function(e,t){return this.point(n$.toArray(e,t),1)};cl.prototype.point=function(e,t){return new Vr(this,e,t)};cl.prototype.pointFromJSON=function(e){return Vr.fromJSON(this,e)};Vr.prototype.precompute=function(){};Vr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Vr.fromJSON=function(e,t){return new Vr(e,t[0],t[1]||e.one)};Vr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Vr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Vr.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),o=n.redSqr(),i=t.redSub(o),a=t.redMul(o),s=i.redMul(o.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,s)};Vr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Vr.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),o=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z),s=a.redMul(n),c=i.redMul(o),f=t.z.redMul(s.redAdd(c).redSqr()),u=t.x.redMul(s.redISub(c).redSqr());return this.curve.point(f,u)};Vr.prototype.mul=function(e){for(var t=e.clone(),n=this,o=this.curve.point(null,null),i=this,a=[];t.cmpn(0)!==0;t.iushrn(1))a.push(t.andln(1));for(var s=a.length-1;s>=0;s--)a[s]===0?(n=n.diffAdd(o,i),o=o.dbl()):(o=n.diffAdd(o,i),n=n.dbl());return o};Vr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Vr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Vr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Vr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Vr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var o$=ai,oa=jo.exports,nS=kc.exports,qp=Gp,a$=o$.assert;function Go(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,qp.call(this,"edwards",r),this.a=new oa(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new oa(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new oa(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a$(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}nS(Go,qp);var s$=Go;Go.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Go.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Go.prototype.jpoint=function(e,t,n,o){return this.point(e,t,n,o)};Go.prototype.pointFromX=function(e,t){e=new oa(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=o.redMul(i.redInvm()),s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)};Go.prototype.pointFromY=function(e,t){e=new oa(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=o.redMul(i.redInvm());if(a.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)};Go.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),o=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return o.cmp(i)===0};function nr(r,e,t,n,o){qp.BasePoint.call(this,r,"projective"),e===null&&t===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new oa(e,16),this.y=new oa(t,16),this.z=n?new oa(n,16):this.curve.one,this.t=o&&new oa(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}nS(nr,qp.BasePoint);Go.prototype.pointFromJSON=function(e){return nr.fromJSON(this,e)};Go.prototype.point=function(e,t,n,o){return new nr(this,e,t,n,o)};nr.fromJSON=function(e,t){return new nr(e,t[0],t[1],t[2])};nr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};nr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};nr.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var o=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=o.redAdd(t),s=a.redSub(n),c=o.redSub(t),f=i.redMul(s),u=a.redMul(c),h=i.redMul(c),w=s.redMul(a);return this.curve.point(f,u,w,h)};nr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),o,i,a,s,c,f;if(this.curve.twisted){s=this.curve._mulA(t);var u=s.redAdd(n);this.zOne?(o=e.redSub(t).redSub(n).redMul(u.redSub(this.curve.two)),i=u.redMul(s.redSub(n)),a=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),f=u.redSub(c).redISub(c),o=e.redSub(t).redISub(n).redMul(f),i=u.redMul(s.redSub(n)),a=u.redMul(f))}else s=t.redAdd(n),c=this.curve._mulC(this.z).redSqr(),f=s.redSub(c).redSub(c),o=this.curve._mulC(e.redISub(s)).redMul(f),i=this.curve._mulC(s).redMul(t.redISub(n)),a=s.redMul(f);return this.curve.point(o,i,a)};nr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};nr.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),o=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),s=i.redSub(o),c=i.redAdd(o),f=n.redAdd(t),u=a.redMul(s),h=c.redMul(f),w=a.redMul(f),T=s.redMul(c);return this.curve.point(u,h,T,w)};nr.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),o=this.x.redMul(e.x),i=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(i),s=n.redSub(a),c=n.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(i),u=t.redMul(s).redMul(f),h,w;return this.curve.twisted?(h=t.redMul(c).redMul(i.redSub(this.curve._mulA(o))),w=s.redMul(c)):(h=t.redMul(c).redMul(i.redSub(o)),w=this.curve._mulC(s).redMul(c)),this.curve.point(u,h,w)};nr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};nr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};nr.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)};nr.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)};nr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};nr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};nr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};nr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};nr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};nr.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(o),this.x.cmp(t)===0)return!0}};nr.prototype.toP=nr.prototype.normalize;nr.prototype.mixedAdd=nr.prototype.add;(function(r){var e=r;e.base=Gp,e.short=r$,e.mont=i$,e.edwards=s$})(a2);var Kp={},Av,j6;function f$(){return j6||(j6=1,Av={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Av}(function(r){var e=r,t=Lr,n=a2,o=ai,i=o.assert;function a(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function s(f,u){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var h=new a(u);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:h}),h}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=f$()}catch{c=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(Kp);var c$=Lr,qs=o2,iS=hf;function ss(r){if(!(this instanceof ss))return new ss(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=qs.toArray(r.entropy,r.entropyEnc||"hex"),t=qs.toArray(r.nonce,r.nonceEnc||"hex"),n=qs.toArray(r.pers,r.persEnc||"hex");iS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var l$=ss;ss.prototype._init=function(e,t,n){var o=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};ss.prototype._hmac=function(){return new c$.hmac(this.hash,this.K)};ss.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ss.prototype.reseed=function(e,t,n,o){typeof t!="string"&&(o=n,n=t,t=null),e=qs.toArray(e,t),n=qs.toArray(n,o),iS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ss.prototype.generate=function(e,t,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=n,n=t,t=null),n&&(n=qs.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,qs.encode(a,t)};var u$=jo.exports,d$=ai,Gb=d$.assert;function cn(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var h$=cn;cn.fromPublic=function(e,t,n){return t instanceof cn?t:new cn(e,{pub:t,pubEnc:n})};cn.fromPrivate=function(e,t,n){return t instanceof cn?t:new cn(e,{priv:t,privEnc:n})};cn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};cn.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};cn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};cn.prototype._importPrivate=function(e,t){this.priv=new u$(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};cn.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Gb(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Gb(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};cn.prototype.derive=function(e){return e.validate()||Gb(e.validate(),"public point not validated"),e.mul(this.priv).getX()};cn.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};cn.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};cn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var bh=jo.exports,f2=ai,p$=f2.assert;function $p(r,e){if(r instanceof $p)return r;this._importDER(r,e)||(p$(r.r&&r.s,"Signature without r or s"),this.r=new bh(r.r,16),this.s=new bh(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var g$=$p;function v$(){this.place=0}function Ev(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var o=0,i=0,a=e.place;i<n;i++,a++)o<<=8,o|=r[a],o>>>=0;return o<=127?!1:(e.place=a,o)}function G6(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}$p.prototype._importDER=function(e,t){e=f2.toArray(e,t);var n=new v$;if(e[n.place++]!==48)return!1;var o=Ev(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=Ev(e,n);if(i===!1)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var s=Ev(e,n);if(s===!1||e.length!==s+n.place)return!1;var c=e.slice(n.place,s+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new bh(a),this.s=new bh(c),this.recoveryParam=null,!0};function _v(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}$p.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=G6(t),n=G6(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];_v(o,t.length),o=o.concat(t),o.push(2),_v(o,n.length);var i=o.concat(n),a=[48];return _v(a,i.length),a=a.concat(i),f2.encode(a,e)};var Ks=jo.exports,oS=l$,b$=ai,Sv=Kp,m$=jp.exports,aS=b$.assert,c2=h$,Wp=g$;function xi(r){if(!(this instanceof xi))return new xi(r);typeof r=="string"&&(aS(Object.prototype.hasOwnProperty.call(Sv,r),"Unknown curve "+r),r=Sv[r]),r instanceof Sv.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var y$=xi;xi.prototype.keyPair=function(e){return new c2(this,e)};xi.prototype.keyFromPrivate=function(e,t){return c2.fromPrivate(this,e,t)};xi.prototype.keyFromPublic=function(e,t){return c2.fromPublic(this,e,t)};xi.prototype.genKeyPair=function(e){e||(e={});for(var t=new oS({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||m$(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new Ks(2));;){var i=new Ks(t.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};xi.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};xi.prototype.sign=function(e,t,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Ks(e,16));for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),s=e.toArray("be",i),c=new oS({hash:this.hash,entropy:a,nonce:s,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new Ks(1)),u=0;;u++){var h=o.k?o.k(u):new Ks(c.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(f)>=0)){var w=this.g.mul(h);if(!w.isInfinity()){var T=w.getX(),I=T.umod(this.n);if(I.cmpn(0)!==0){var R=h.invm(this.n).mul(I.mul(t.getPrivate()).iadd(e));if(R=R.umod(this.n),R.cmpn(0)!==0){var P=(w.getY().isOdd()?1:0)|(T.cmp(I)!==0?2:0);return o.canonical&&R.cmp(this.nh)>0&&(R=this.n.sub(R),P^=1),new Wp({r:I,s:R,recoveryParam:P})}}}}}};xi.prototype.verify=function(e,t,n,o){e=this._truncateToN(new Ks(e,16)),n=this.keyFromPublic(n,o),t=new Wp(t,"hex");var i=t.r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),c=s.mul(e).umod(this.n),f=s.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),f),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(c,n.getPublic(),f),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};xi.prototype.recoverPubKey=function(r,e,t,n){aS((3&t)===t,"The recovery param is more than two bits"),e=new Wp(e,n);var o=this.n,i=new Ks(r),a=e.r,s=e.s,c=t&1,f=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var u=e.r.invm(o),h=o.sub(i).mul(u).umod(o),w=s.mul(u).umod(o);return this.g.mulAdd(h,a,w)};xi.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new Wp(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(r,e,o)}catch{continue}if(i.eq(t))return o}throw new Error("Unable to find valid recovery factor")};var f0=ai,sS=f0.assert,z6=f0.parseBytes,ll=f0.cachedProperty;function Fr(r,e){this.eddsa=r,this._secret=z6(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=z6(e.pub)}Fr.fromPublic=function(e,t){return t instanceof Fr?t:new Fr(e,{pub:t})};Fr.fromSecret=function(e,t){return t instanceof Fr?t:new Fr(e,{secret:t})};Fr.prototype.secret=function(){return this._secret};ll(Fr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ll(Fr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ll(Fr,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,o=t.slice(0,e.encodingLength);return o[0]&=248,o[n]&=127,o[n]|=64,o});ll(Fr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ll(Fr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ll(Fr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Fr.prototype.sign=function(e){return sS(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Fr.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};Fr.prototype.getSecret=function(e){return sS(this._secret,"KeyPair is public only"),f0.encode(this.secret(),e)};Fr.prototype.getPublic=function(e){return f0.encode(this.pubBytes(),e)};var x$=Fr,w$=jo.exports,Qp=ai,A$=Qp.assert,Jp=Qp.cachedProperty,E$=Qp.parseBytes;function wf(r,e){this.eddsa=r,typeof e!="object"&&(e=E$(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),A$(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof w$&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Jp(wf,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Jp(wf,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Jp(wf,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Jp(wf,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});wf.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};wf.prototype.toHex=function(){return Qp.encode(this.toBytes(),"hex").toUpperCase()};var _$=wf,S$=Lr,T$=Kp,Uc=ai,k$=Uc.assert,fS=Uc.parseBytes,cS=x$,q6=_$;function Dn(r){if(k$(r==="ed25519","only tested with ed25519 so far"),!(this instanceof Dn))return new Dn(r);r=T$[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=S$.sha512}var C$=Dn;Dn.prototype.sign=function(e,t){e=fS(e);var n=this.keyFromSecret(t),o=this.hashInt(n.messagePrefix(),e),i=this.g.mul(o),a=this.encodePoint(i),s=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=o.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:a})};Dn.prototype.verify=function(e,t,n){e=fS(e),t=this.makeSignature(t);var o=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),o.pubBytes(),e),a=this.g.mul(t.S()),s=t.R().add(o.pub().mul(i));return s.eq(a)};Dn.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Uc.intFromLE(e.digest()).umod(this.curve.n)};Dn.prototype.keyFromPublic=function(e){return cS.fromPublic(this,e)};Dn.prototype.keyFromSecret=function(e){return cS.fromSecret(this,e)};Dn.prototype.makeSignature=function(e){return e instanceof q6?e:new q6(this,e)};Dn.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};Dn.prototype.decodePoint=function(e){e=Uc.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),o=(e[t]&128)!==0,i=Uc.intFromLE(n);return this.curve.pointFromY(i,o)};Dn.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Dn.prototype.decodeInt=function(e){return Uc.intFromLE(e)};Dn.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(r){var e=r;e.version=ZK.version,e.utils=ai,e.rand=jp.exports,e.curve=a2,e.curves=Kp,e.ec=y$,e.eddsa=C$})(i2);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyPair=r.subtle=void 0;const e=Yt(),t=Ti,n=gs(),o=Xt,i=or,a=Hp,s=Vp,c=ur;let f=i2;if(typeof crypto=="object"&&crypto.subtle)r.subtle=crypto.subtle;else{let R=xa.webcrypto;if(R)r.subtle=R.subtle;else throw(0,e.logger)(c.DEBUGLEVEL.LOW,"Webcrypto not accessible"),new Error("webcrypto.subtle missing")}let u=new f.ec("secp256k1"),h=Zc.exports;const w={p192:null,p224:null,p256:"P-256",p384:"P-384",p521:"P-521",curve25519:null,ed25519:null,secp256k1:null};new n.Point(55066263022277343669578718895168534326250603453777594175500187360389116729240n,32670510020758816978083085130507043184471273380659243275938904335757337482424n);const T="secp256k1";class I{constructor(){this.ethereumPrefix=`Ethereum Signed Message:
`,this.algorithmASNList={secp256k1:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f3044042000000000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000000000000704410479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141020101","06052b8104000a"],sect283k1:["3081f806072a8648ce3d02013081ec020101302506072a8648ce3d0102301a0202011b06092a8648ce3d01020303300902010502010702010c304c042400000000000000000000000000000000000000000000000000000000000000000000000004240000000000000000000000000000000000000000000000000000000000000000000000010449040503213f78ca44883f1a3b8162f188e553cd265f23c1567a16876913b0c2ac245849283601ccda380f1c9e318d90f95d07e5426fe87e45c0e8184698e45962364e34116177dd2259022401ffffffffffffffffffffffffffffffffffe9ae2ed07577265dff7f94451e061e163c61020104"],p256:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100ffffffff00000001000000000000000000000000ffffffffffffffffffffffff30440420ffffffff00000001000000000000000000000000fffffffffffffffffffffffc04205ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b0441046b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c2964fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5022100ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551020101"]}}getPrivateAsUint8(){return this.privKey}getPrivateAsHexString(){return(0,e.uint8tohex)(this.privKey)}getPrivateAsBigInt(){return(0,e.uint8ToBn)(this.privKey)}static privateFromBigInt(P){let B=new this;return B.privKey=new Uint8Array((0,e.hexStringToArray)(P.toString(16).padStart(64,"0"))),B}static fromPublicHex(P){if(P.toLowerCase().match(/^[a-f0-9]+$/i)===null)throw new Error("Wrong Hex string input");if(P.length<129||P.length>130)throw new Error("Wrong public hex length");let B=new this;return B.pubKey=new Uint8Array((0,e.hexStringToArray)(P)),B}static fromPrivateUint8(P,B=""){if(!P||P.length!=32)throw new Error("Wrong private key. Should be 32 bytes Uint8");let O=new this;if(O.privKey=P,B&&n.CURVES.hasOwnProperty(B))O.algorithm=B;else throw new Error(`Algorithm ${B} not implemented.`);return O}static publicFromBase64orPEM(P){return I.publicFromPEM((0,e.pemOrBase64Orbase64urlToString)(P))}static publicFromPEM(P){const B=(0,e.base64ToUint8array)(P);let O=o.AsnParser.parse(B,i.PublicKeyInfoValue);return I.publicFromUint(new Uint8Array(O.publicKey))}static publicFromUint(P){let B=new this;if(P.byteLength!=65)throw(0,e.logger)(c.DEBUGLEVEL.LOW,"Wrong public key length"),new Error("Wrong public key length");return B.pubKey=new Uint8Array(P),B}static publicFromSubjectPublicKeyInfo(P){let B=new this;return B.pubKey=new Uint8Array(P.value.publicKey),B}static publicFromSubjectPublicKeyValue(P){let B=new this;return B.pubKey=new Uint8Array(P.publicKey),B.algorithm=B.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(P.algorithm))),B}static privateFromKeyInfo(P){let B=new this,O=o.AsnParser.parse(P.keysData,i.PrivateKeyData);return B.algorithm=B.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(P.algIdent))),B.privKey=new Uint8Array(O.privateKey),B}static privateFromKeyDataPEM(P){const B=(0,e.base64ToUint8array)(P);let O=o.AsnParser.parse(B,i.PrivateKeyData),H=new this;return H.algorithm=H.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(O.algDescr))),H.privKey=new Uint8Array(O.privateKey),H}getAlgorithNameFromASN1(P){let B={};for(const O in this.algorithmASNList)this.algorithmASNList[O].forEach(H=>{B[H]=O});if(B.hasOwnProperty(P))return B[P];{let O="Unknown algorithm.";throw(0,e.logger)(c.DEBUGLEVEL.LOW,O),new Error(O)}}static privateFromPEM(P){const B=(0,e.base64ToUint8array)(P);let O=o.AsnParser.parse(B,i.PrivateKeyInfo);return I.privateFromKeyInfo(O)}static async generateKeyAsync(){const P=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]);let B=["0x"];const O=await crypto.subtle.exportKey("raw",P);return new Uint8Array(O).forEach(H=>{var $=H.toString(16);$.length%2&&($="0"+$),B.push($)}),this.privateFromBigInt(BigInt(B.join(""))%n.CURVE_SECP256k1.n)}static createKeys(){return this.privateFromBigInt(BigInt("0x"+(0,e.uint8tohex)(crypto.getRandomValues(new Uint8Array(32))))%n.CURVE_SECP256k1.n)}getPublicKeyAsHexStr(){if(this.pubKey)return(0,e.uint8tohex)(this.pubKey);if(n.CURVES.hasOwnProperty(this.algorithm)&&w.hasOwnProperty(this.algorithm)){let P=new f.ec(this.algorithm);if(!this.getPrivateAsHexString())throw(0,e.logger)(c.DEBUGLEVEL.LOW,this),new Error("Cant sign. This is only public key.");return P.keyFromPrivate(this.getPrivateAsHexString(),"hex").getPublic("hex").toString()}else{let P='Private -> Public key not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(c.DEBUGLEVEL.LOW,P),new Error(P)}}getAsnDerPublic(){var P=this.getPublicKeyAsHexStr();let B="";if(this.algorithm)if(this.algorithmASNList.hasOwnProperty(this.algorithm))B=this.algorithmASNList[this.algorithm][0];else{let O="Fatal Error. Algorithm not implemented yet - "+this.algorithm;throw(0,e.logger)(c.DEBUGLEVEL.LOW,O),new Error(O)}else{let O="algorithm undefined, lets use default.";(0,e.logger)(c.DEBUGLEVEL.VERBOSE,O),B=this.algorithmASNList[T][0]}return t.Asn1Der.encode("SEQUENCE_30",B+t.Asn1Der.encode("BIT_STRING",P))}getAddress(){var P=this.getPublicKeyAsHexStr();P=P.substr(2);let B=h.keccak256((0,e.hexStringToArray)(P));return"0x"+B.substr(-40).toUpperCase()}signBytes(P){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let B=u.keyFromPrivate(this.getPrivateAsHexString(),"hex"),O=h.keccak256(P);return B.sign(O).toDER("hex")}signStringWithEthereum(P){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let B=u.keyFromPrivate(this.getPrivateAsHexString(),"hex"),O=this.ethereumPrefix+P.length+P,H=h.keccak256((0,e.stringToArray)(O));return B.sign(H).toDER("hex")}signHexStringWithEthereum(P){return this.signStringWithEthereum("0x"+P)}signBytesWithEthereum(P){let B="0x"+(0,e.uint8tohex)(new Uint8Array(P));return(0,e.logger)(c.DEBUGLEVEL.HIGH,"message: "+B),this.signStringWithEthereum(B)}signDeterministicSHA256(P){let B=Array.from(a.ethers.utils.arrayify(a.ethers.utils.sha256(P)));return this.signBytes(B)}verifyDeterministicSHA256(P,B){let O=a.ethers.utils.sha256(P).substr(2),H,$;if(n.CURVES.hasOwnProperty(this.algorithm)&&w.hasOwnProperty(this.algorithm))H=new f.ec(this.algorithm).keyFromPublic(this.getPublicKeyAsHexStr(),"hex");else{let ie='Elliptic.js curve not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(c.DEBUGLEVEL.LOW,ie),new Error(ie)}if(B.length==128||B.length==130){var J=B.match(/([a-f\d]{64})/gi);$={r:J[0],s:J[1]}}else{let ie=o.AsnParser.parse((0,e.hexStringToUint8)(B),s.Signature);$={r:BigInt(ie.r).toString(16).padStart(64,"0"),s:BigInt(ie.s).toString(16).padStart(64,"0")}}return H.verify(O,$)}verifyHexStringWithEthereum(P,B){let O="0x"+P,H=h.keccak256((0,e.stringToArray)(this.ethereumPrefix+O.length+O)),$=u.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");var J=B.match(/([a-f\d]{64})/gi);let ie={r:J[0],s:J[1]};return $.verify(H,ie)}signRawBytesWithEthereum(P){let B=a.ethers.utils.keccak256(P).substring(2);if((0,e.logger)(c.DEBUGLEVEL.HIGH,`signRawBytesWithEthereum: key: ${this.getAddress()}, hash: ${B}`),!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let O=u.keyFromPrivate(this.getPrivateAsHexString(),"hex"),H=O.sign((0,e.hexStringToUint8)(B));return(0,e.ecSignatureToSRVhex)(H,O)}verifyBytesWithEthereum(P,B){if(!P||!P.length)throw new Error("Missing data to verify");if(!B)throw new Error("Missing signature to verify");let O=(0,e.hexStringToArray)(a.ethers.utils.keccak256(P)),H=u.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");(0,e.logger)(c.DEBUGLEVEL.HIGH,`verifyBytesWithEthereum: key: ${this.getAddress()}, hash: ${(0,e.uint8tohex)(new Uint8Array(O))}`),B=(0,e.uint8tohex)(I.anySignatureToRawUint8(B));var $=B.match(/([a-f\d]{64})/gi);let J={r:$[0],s:$[1]};return console.log(a.ethers.utils.recoverPublicKey(O,a.ethers.utils.splitSignature((0,e.hexStringToUint8)(B)))),H.verify(O,J)}getJWTParams(){let P=w[this.algorithm];if(!P){let O=`Cant create subtleCrypto key for curve '${this.algorithm}'`;throw(0,e.logger)(c.DEBUGLEVEL.LOW,O),new Error(O)}let B=this.getPublicKeyAsHexStr();return{crv:P,d:(0,e.uint8arrayToBase64)(this.getPrivateAsUint8()),key_ops:["sign"],kty:"EC",x:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(B.substr(2,64))),y:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(B.substr(66,64)))}}getSubtlePrivateKey(){let P=w[this.algorithm];return r.subtle.importKey("jwk",this.getJWTParams(),{name:"ECDSA",namedCurve:P},!0,["sign"])}getSubtlePublicKey(){let P=w[this.algorithm],B=this.getJWTParams();return delete B.d,B.key_ops=["verify"],r.subtle.importKey("jwk",B,{name:"ECDSA",namedCurve:P},!0,["verify"])}async signStringWithSubtle(P){return await r.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePrivateKey(),Uint8Array.from((0,e.stringToArray)(P)))}async verifyStringWithSubtle(P,B){return(0,e.logger)(c.DEBUGLEVEL.VERBOSE,"pubkey: "+this.getPublicKeyAsHexStr()+" msg:"+B+" signature:"+(0,e.uint8tohex)(P)),(0,e.logger)(c.DEBUGLEVEL.VERBOSE,await this.getSubtlePublicKey()),await r.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePublicKey(),P,Uint8Array.from((0,e.stringToArray)(B)))}async verifyStringWithSubtleDerSignature(P,B){let O=o.AsnParser.parse(P,s.Signature);const H=BigInt(O.r).toString(16).padStart(64,"0")+BigInt(O.s).toString(16).padStart(64,"0");return this.verifyStringWithSubtle((0,e.hexStringToUint8)(H),B)}static anySignatureToRawUint8(P){let B;if(typeof P=="string"?B=(0,e.hexStringToUint8)(P):B=P,!B||!B.length)throw new Error("Empty signature received");let O;switch(B.length){case 64:(0,e.logger)(c.DEBUGLEVEL.LOW,`anySignatureToRawUint8 received 64 bytes signature (without v value) = ${(0,e.uint8tohex)(B)}`);case 65:O=B;break;case 66:if(B[0]!=4)throw new Error(`Cant recognize signature: ${(0,e.uint8tohex)(B)}`);O=B.slice(1,65);break;case 70:case 71:case 72:let H=o.AsnParser.parse(B,s.Signature);O=(0,e.hexStringToUint8)(BigInt(H.r).toString(16).padStart(64,"0")+BigInt(H.s).toString(16).padStart(64,"0"));break;default:let $="wrong Signature: "+(0,e.uint8tohex)(B);throw new Error($)}return(0,e.logger)(c.DEBUGLEVEL.VERBOSE,"ready signature:"+(0,e.uint8tohex)(O)),O}static parseKeyArrayStrings(P){const B={};for(let O in P)if(typeof P[O]=="string"){const H=P[O].split("|"),$=[];for(const J of H)$.push(I.publicFromBase64orPEM(J));B[O]=$}else Array.isArray(B),B[O]=P[O];return B}}r.KeyPair=I})(ki);var Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.AttestableObject=void 0;class M${constructor(){}getDerEncoding(){return this.encoded}getCommitment(){return this.commitment}}Yp.AttestableObject=M$;var sf={},bs=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(sf,"__esModule",{value:!0});var lS=sf.SignedDevconTicket=sf.DevconTicket=void 0;const An=Xt;class Af{}bs([(0,An.AsnProp)({type:An.AsnPropTypes.Utf8String})],Af.prototype,"devconId",void 0);bs([(0,An.AsnProp)({type:An.AsnPropTypes.Integer,optional:!0})],Af.prototype,"ticketIdNumber",void 0);bs([(0,An.AsnProp)({type:An.AsnPropTypes.Utf8String,optional:!0})],Af.prototype,"ticketIdString",void 0);bs([(0,An.AsnProp)({type:An.AsnPropTypes.Integer})],Af.prototype,"ticketClass",void 0);bs([(0,An.AsnProp)({type:An.AsnPropTypes.OctetString,optional:!0})],Af.prototype,"commitment",void 0);sf.DevconTicket=Af;class Zp{}bs([(0,An.AsnProp)({type:Af})],Zp.prototype,"ticket",void 0);bs([(0,An.AsnProp)({type:An.AsnPropTypes.OctetString,optional:!0})],Zp.prototype,"commitment",void 0);bs([(0,An.AsnProp)({type:An.AsnPropTypes.BitString})],Zp.prototype,"signatureValue",void 0);lS=sf.SignedDevconTicket=Zp;Object.defineProperty(Zu,"__esModule",{value:!0});Zu.Ticket=void 0;const I$=no(),P$=ki,fi=Ti,B$=Yp,fo=Yt(),R$=sf,O$=Xt,Tv=Hp;class N$ extends B$.AttestableObject{constructor(){super(),this.magicLinkURLPrefix="https://ticket.devcon.org/",this.isLegasy=!1}fromData(e,t,n,o){this.ticketId=t,this.ticketClass=n,this.devconId=e,this.keys=o;const i=o[e];this.setKeys(i)}setKeys(e){Array.isArray(e)?(this.issuerKeys=e,this.key=e[0]):(this.issuerKeys=[e],this.key=e)}createWithCommitment(e,t,n,o,i,a){if(this.fromData(e,t,n,a),this.commitment=o,this.signature=i,this.encoded=this.encodeSignedTicket(this.makeTicket()),!this.verify())throw new Error("Ticket Signature is invalid")}static createWithMail(e,t,n,o,i,a){let s=new this;s.fromData(t,n,o,i);let c=new I$.AttestationCrypto,f;try{s.commitment=c.makeCommitment(e,c.getType("mail"),a);let u=s.makeTicket();f=s.key.signRawBytesWithEthereum((0,fo.hexStringToArray)(u))}catch(u){throw new Error(u)}return s.createWithCommitment(t,n,o,s.commitment,f,i),s}makeTicket(){let e;try{const n=BigInt(this.ticketId);e=fi.Asn1Der.encode("INTEGER",n)}catch{e=fi.Asn1Der.encode("UTF8STRING",this.ticketId)}let t=fi.Asn1Der.encode("UTF8STRING",this.devconId)+e+fi.Asn1Der.encode("INTEGER",this.ticketClass);return this.isLegasy||(t+=fi.Asn1Der.encode("OCTET_STRING",(0,fo.uint8tohex)(this.commitment))),fi.Asn1Der.encode("SEQUENCE_30",t)}encodeSignedTicket(e){return this.isLegasy&&(e+=fi.Asn1Der.encode("OCTET_STRING",(0,fo.uint8tohex)(this.commitment))),e+=fi.Asn1Der.encode("BIT_STRING",this.signature),fi.Asn1Der.encode("SEQUENCE_30",e)}getDerEncodingWithPK(){let t=this.makeTicket()+fi.Asn1Der.encode("OCTET_STRING",(0,fo.uint8tohex)(this.commitment))+this.key.getAsnDerPublic()+fi.Asn1Der.encode("BIT_STRING",this.signature);return fi.Asn1Der.encode("SEQUENCE_30",t)}getDerEncoding(){return this.encoded}verify(){const e=(0,fo.hexStringToArray)(this.makeTicket()),t=(0,fo.hexStringToArray)(Tv.ethers.utils.keccak256(e)),n=(0,fo.uint8tohex)(P$.KeyPair.anySignatureToRawUint8(this.signature));for(const o of this.issuerKeys)if(Tv.ethers.utils.recoverPublicKey(t,Tv.ethers.utils.splitSignature((0,fo.hexStringToUint8)(n))).substring(2)===o.getPublicKeyAsHexStr())return!0;throw new Error("Ticket signature is invalid")}checkValidity(){return!0}getTicketId(){return this.ticketId}getTicketClass(){return this.ticketClass}getDevconId(){return this.devconId}getSignature(){return this.signature}static fromBase64(e,t){let n=new this;return n.fromBytes((0,fo.base64ToUint8array)(e),t),n}fromBytes(e,t){const n=O$.AsnParser.parse(e,R$.SignedDevconTicket);let o=n.ticket.devconId;if(!t||!t[o])throw new Error("Issuer key "+o+" not defined.");const i=t[o];this.setKeys(i);let a=n.ticket.ticketIdNumber,s=a?a.toString():n.ticket.ticketIdString,c=n.ticket.ticketClass,f;n.ticket.commitment?f=n.ticket.commitment:(f=n.commitment,this.isLegasy=!0);let u=n.signatureValue;this.createWithCommitment(o,s,c,new Uint8Array(f),(0,fo.uint8tohex)(new Uint8Array(u)),t)}getCommitment(){return this.commitment}getKey(){return this.key}getUrlEncoding(){}}Zu.Ticket=N$;var ul={},dl={},Xp={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.Timestamp=void 0;const kv=Yt(),Cv=ur;class va{constructor(e=null){this.ALLOWED_ROUNDING=1e4,this.validity=0,e||(this.time=Date.now()),typeof e=="number"&&(this.time=e),typeof e=="string"&&(this.time=va.stringTimestampToLong(e)),this.time=this.time-this.time%1e3}fromString(e){this.time=va.stringTimestampToLong(e)}getValidity(){return this.validity}setValidity(e){this.validity=e}getTime(){return this.time}getTimeAsString(){let e=new Date(this.time).toString();return e.substr(0,e.indexOf("(")-1)}validateTimestamp(){let e=this.getCurrentTime();return!(this.time>e+this.ALLOWED_ROUNDING||this.time+this.ALLOWED_ROUNDING+this.validity<e)}validateAgainstExpiration(e){let t=this.getCurrentTime();return this.time>t+this.ALLOWED_ROUNDING?((0,kv.logger)(Cv.DEBUGLEVEL.LOW,"Object still not valid. Details: not valid before = "+this.time+", currentTime = "+t),!1):e<t-this.ALLOWED_ROUNDING?((0,kv.logger)(Cv.DEBUGLEVEL.LOW,"Object is not longer valid. Details: attNotAfter = "+e+", currentTime = "+t),!1):e-this.time>this.validity+this.ALLOWED_ROUNDING?((0,kv.logger)(Cv.DEBUGLEVEL.LOW,e+`
`+this.time+`
`+this.validity+`
`+this.ALLOWED_ROUNDING+`
`+(e-this.time)+`
`+(this.validity+this.ALLOWED_ROUNDING)+`
`),!1):!0}static stringTimestampToLong(e){return Date.parse(e)}getCurrentTime(){return Date.now()}}ms.Timestamp=va;va.TIMESTAMP_FORMAT="EEE MMM d yyyy HH:mm:ss 'GMT'Z";va.ALLOWED_ROUNDING=1e4;va.UNLIMITED=253402297199e3;va.DEFAULT_TOKEN_TIME_LIMIT=1e3*60*60*24*365;va.DEFAULT_TIME_LIMIT_MS=1e3*60*20;Object.defineProperty(Xp,"__esModule",{value:!0});Xp.Attestation=void 0;const hn=Yt(),L$=Xt,D$=or,U$=ki,ir=Ti,F$=ms,$n=ur;class uS{constructor(){this.version=18,this.blockchainFriendly=!0}parseNames(e){let t={};Object.keys(ir.X500NamesLabels).forEach(o=>{t[ir.X500NamesLabels[o].toLowerCase()]=o});let n=[];return e.forEach(o=>{let i=t[o.type.toString().toLowerCase()];if(!i)throw new Error(`X500 with name ${o.type.toString()} not implemented yet.`);n.push(`${i}="${o.value}"`)}),n.join(",")}fromBytes(e){const t=this;let n=L$.AsnParser.parse(e,D$.SignedInfo);if(t.signedInfo=e,t.version=n.version.version,t.serialNumber=n.serialNumber,t.signingAlgorithm=n.signature.algorithm.toString(),n.validity){if(t.notValidBefore=n.validity.notBefore.generalizedTime.getTime(),t.notValidAfter=n.validity.notAfter.generalizedTime.getTime(),n.validity.notAfterInt&&Number(n.validity.notAfterInt)!=Math.floor(t.notValidAfter/1e3)||n.validity.notBeforeInt&&Number(n.validity.notBeforeInt)!=Math.floor(t.notValidBefore/1e3))throw new Error("Date doesnt fit");typeof n.validity.notBeforeInt>"u"||typeof n.validity.notAfterInt>"u"?this.blockchainFriendly=!1:this.blockchainFriendly=!0}let o=n.subject.rdnSequence;t.subject="",o&&o[0]&&o[0].length&&(t.subject=this.parseNames(o[0])),t.subjectKey=U$.KeyPair.publicFromSubjectPublicKeyInfo(n.subjectPublicKeyInfo);let i=n.issuer.rdnSequence;if(t.issuer="",i.length&&(t.issuer=this.parseNames(i[0])),n.contract&&(t.smartcontracts=n.contract),n.attestsTo&&n.attestsTo.extensions)t.extensions=n.attestsTo.extensions,t.commitment=new Uint8Array(t.extensions.extension.extnValue);else if(n.attestsTo&&n.attestsTo.dataObject)throw new Error("Implement parse dataObject")}isValidX509(){return this.version!=0&&this.version!=1&&this.version!=2?((0,hn.logger)($n.DEBUGLEVEL.LOW,"Incorrect version number"),!1):this.issuer?this.notValidBefore==null||this.notValidAfter==null?((0,hn.logger)($n.DEBUGLEVEL.LOW,"Validity period not set"),!1):this.subject==null?((0,hn.logger)($n.DEBUGLEVEL.LOW,"Subject info not set"),!1):this.subjectKey?this.smartcontracts!=null?((0,hn.logger)($n.DEBUGLEVEL.LOW,"Smart contract info set"),!1):this.dataObject!=null?((0,hn.logger)($n.DEBUGLEVEL.LOW,"Data object set"),!1):this.version==null||this.serialNumber==null||this.signingAlgorithm==null?((0,hn.logger)($n.DEBUGLEVEL.LOW,"Version, serial number, subject or algorithm missing"),!1):!0:((0,hn.logger)($n.DEBUGLEVEL.LOW,"No subject public key info set"),!1):((0,hn.logger)($n.DEBUGLEVEL.LOW,"Issuer info not set"),!1)}getDerEncoding(){if(this.signedInfo||(this.signedInfo=this.getPrehash()),!this.signedInfo)throw new Error("Empty Attestaion Der Encoding");return(0,hn.uint8tohex)(new Uint8Array(this.signedInfo))}getCommitment(){return this.commitment}getNotValidBefore(){return this.notValidBefore}setNotValidBefore(e){this.notValidBefore=e}getNotValidAfter(){return this.notValidAfter}setNotValidAfter(e){this.notValidAfter=e}getSubjectPublicKeyInfo(){return this.subjectKey}checkValidity(){if(this.version==null)return(0,hn.logger)($n.DEBUGLEVEL.LOW,"Attest version missed"),!1;if(this.serialNumber==null)return(0,hn.logger)($n.DEBUGLEVEL.LOW,"Attest serial number missed"),!1;if(this.subject==null)return(0,hn.logger)($n.DEBUGLEVEL.LOW,"Attest subject missed"),!1;if(this.signingAlgorithm==null)return(0,hn.logger)($n.DEBUGLEVEL.LOW,"Attest signing algorithm missed"),!1;let e=this.getNotValidBefore(),t=this.getNotValidAfter(),n=new F$.Timestamp(e);return n.setValidity(t-e),n.validateAgainstExpiration(t)?this.extensions!=null&&this.dataObject!=null?((0,hn.logger)($n.DEBUGLEVEL.LOW,"Both Extensions and dataObject not allowed"),!1):!0:!1}getExtensions(){return this.extensions}setVersion(e){this.version=e}getVersion(){return this.version}setSubject(e){this.subject=e}getSubject(){return this.subject}setSigningAlgorithm(e){this.signingAlgorithm=e}getPrehash(){if(!this.checkValidity())return null;let e=ir.Asn1Der.encode("TAG",ir.Asn1Der.encode("INTEGER",this.version),0)+ir.Asn1Der.encode("INTEGER",this.serialNumber)+ir.Asn1Der.encodeObjectId(this.signingAlgorithm);if(e+=this.issuer?ir.Asn1Der.encodeName(this.issuer):ir.Asn1Der.encode("NULL_VALUE",""),this.notValidAfter!=null&&this.notValidBefore!=null){let t=ir.Asn1Der.encode("GENERALIZED_TIME",this.notValidBefore)+(this.blockchainFriendly?ir.Asn1Der.encode("INTEGER",Math.floor(this.notValidBefore/1e3)):"")+ir.Asn1Der.encode("GENERALIZED_TIME",this.notValidAfter)+(this.blockchainFriendly?ir.Asn1Der.encode("INTEGER",Math.floor(this.notValidAfter/1e3)):"");e+=ir.Asn1Der.encode("SEQUENCE_30",t)}else e+=ir.Asn1Der.encode("NULL_VALUE","");return e+=this.subject?ir.Asn1Der.encodeName(this.subject):ir.Asn1Der.encode("NULL_VALUE",""),e+=this.subjectKey?this.subjectKey.getAsnDerPublic():ir.Asn1Der.encode("NULL_VALUE",""),this.smartcontracts!=null&&(e+=this.smartcontracts),this.extensions!=null&&(e+=ir.Asn1Der.encode("TAG",ir.Asn1Der.encode("SEQUENCE_30",ir.Asn1Der.encode("SEQUENCE_30",this.extensions)),3)),this.dataObject!=null&&(e+=ir.Asn1Der.encode("TAG",ir.Asn1Der.encode("SEQUENCE_30",ir.Asn1Der.encode("SEQUENCE_30",this.dataObject)),4)),(0,hn.hexStringToUint8)(ir.Asn1Der.encode("SEQUENCE_30",e))}getSigningAlgorithm(){return this.signingAlgorithm}}Xp.Attestation=uS;uS.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";Object.defineProperty(dl,"__esModule",{value:!0});dl.IdentifierAttestation=void 0;const K6=no(),H$=Xp,Dl=Yt(),Ul=ur,V$=Ti;class jt extends H$.Attestation{constructor(){super()}fromCommitment(e,t){this.subjectKey=t,this.setVersion(jt.HIDDEN_IDENTIFIER_VERSION),this.setSubject("CN="),this.setSigningAlgorithm(jt.DEFAULT_SIGNING_ALGORITHM),this.setSubjectPublicKeyInfo(t),this.setCommitment(e),this.type=jt.HIDDEN_TYPE,this.identifier=jt.HIDDEN_IDENTIFIER,this.setUnlimitedValidity()}setUnlimitedValidity(){super.setNotValidBefore(Date.now()),super.setNotValidAfter(Date.parse("31 Dec 9999 23:59:59"))}static fromData(e,t,n,o){let a=new K6.AttestationCrypto().makeCommitment(e,t,o),s=new this;return s.fromCommitment(a,n),s.type=t.toString(),s.identifier=e,s}static fromLabelAndUrl(e,t,n){let o=new this;return o.subjectKey=n,o.setVersion(jt.NFT_VERSION),o.setSubject(o.makeLabeledURI(e,t)),o.setSigningAlgorithm(jt.DEFAULT_SIGNING_ALGORITHM),o.setIssuer("CN=attestation.id"),o.setSerialNumber(1),o.setSubjectPublicKeyInfo(n),o.setUnlimitedValidity(),o.type=e,o.identifier=t,o}makeLabeledURI(e,t){return`${jt.LABELED_URI_LABEL}="${t} ${e}"`}static fromBytes(e){let t=new this;if(t.fromBytes(e),!t.checkValidity())throw new Error("Could not validate object");if(t.getVersion()==jt.NFT_VERSION){let n=V$.Asn1Der.parseX500Names(t.getSubject()),o=!1;if(n.forEach(i=>{if(!o&&i.type==jt.LABELED_URI_LABEL){o=!0;let a=i.value.split(" ");if(a.length!=2)throw new Error("LabeledURI values should be separated with space and 2 items only: "+i.value);t.type=a[0],t.identifier=a[1]}}),!o)throw new Error("Cant find LABELED_URI")}else t.type=jt.HIDDEN_TYPE,t.identifier=jt.HIDDEN_IDENTIFIER;return t}setSubjectPublicKeyInfo(e){this.subjectKey=e}setCommitment(e){this.commitment=e}checkValidity(){return super.checkValidity()?this.getVersion()!=jt.HIDDEN_IDENTIFIER_VERSION&&this.getVersion()!=jt.NFT_VERSION?((0,Dl.logger)(Ul.DEBUGLEVEL.LOW,"The version number is "+this.getVersion()+", it must be either "+jt.HIDDEN_IDENTIFIER_VERSION+" or "+jt.NFT_VERSION),!1):this.getSigningAlgorithm()!==jt.DEFAULT_SIGNING_ALGORITHM?((0,Dl.logger)(Ul.DEBUGLEVEL.LOW,"The subject is supposed to only be an Ethereum address as the Common Name"),!1):this.getVersion()==jt.NFT_VERSION&&!this.subject.includes(jt.LABELED_URI_LABEL+"=")?((0,Dl.logger)(Ul.DEBUGLEVEL.LOW,"A NFT Identifier attestation must have a labeled uri as subject. subject = "+this.getSubject()),!1):this.getVersion()==jt.HIDDEN_IDENTIFIER_VERSION&&this.getCommitment().length<K6.AttestationCrypto.BYTES_IN_DIGEST?((0,Dl.logger)(Ul.DEBUGLEVEL.LOW,"The attestation does not contain a valid commitment"),!1):!0:((0,Dl.logger)(Ul.DEBUGLEVEL.LOW,"IdentifierAttestation super.checkValidity() filed;"),!1)}setIssuer(e){this.issuer=e}getSerialNumber(){return this.serialNumber}setSerialNumber(e){this.serialNumber=e}getAddress(){return this.subjectKey.getAddress()}}dl.IdentifierAttestation=jt;jt.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";jt.DEFAULT_SIGNING_ALGORITHM="1.2.840.10045.4.2";jt.HIDDEN_IDENTIFIER_VERSION=18;jt.NFT_VERSION=19;jt.HIDDEN_TYPE="HiddenType";jt.HIDDEN_IDENTIFIER="HiddenIdentifier";jt.LABELED_URI="1.3.6.1.4.1.250.1.57";jt.LABELED_URI_LABEL="labeledURI";Object.defineProperty(ul,"__esModule",{value:!0});ul.SignedIdentifierAttestation=void 0;const j$=Xt,G$=or,z$=ki,Df=Yt(),nd=Ti,q$=dl,K$=ur;class dS{constructor(){}static fromBytes(e,t){const n=j$.AsnParser.parse(e,G$.MyAttestation);return this.fromASNType(n,t,e)}static fromASNType(e,t,n=new Uint8Array(0)){let o=new this;o.uint8data=n,o.attestorKeys=t;let i=e.signatureAlgorithm.algorithm;if(o.att=q$.IdentifierAttestation.fromBytes(e.signedInfo),o.signature=(0,Df.uint8tohex)(new Uint8Array(e.signatureValue)),i!==o.att.getSigningAlgorithm())throw new Error("Algorithm specified is not consistent");return o.constructorCheck(),o}static fromData(e,t){let n=new this;return n.attestorKeys=t,n.att=e,n.signature=n.attestorKeys.signRawBytesWithEthereum(Array.from(n.att.getPrehash())),n.constructorCheck(),n}verify(){try{return this.attestorKeys.verifyBytesWithEthereum((0,Df.hexStringToArray)(this.att.getDerEncoding()),this.signature)}catch(e){return(0,Df.logger)(K$.DEBUGLEVEL.LOW,e),!1}}checkValidity(){return this.getUnsignedAttestation().checkValidity()}getUnsignedAttestation(){return this.att}getDerEncoding(){return this.uint8data&&this.uint8data.length?(0,Df.uint8tohex)(new Uint8Array(this.uint8data)):this.constructSignedAttestation(this.getUnsignedAttestation(),this.signature)}constructSignedAttestation(e,t){let n=e.getPrehash(),o=nd.Asn1Der.encode("OBJECT_ID",e.getSigningAlgorithm()),i=(0,Df.uint8tohex)(n)+nd.Asn1Der.encode("SEQUENCE_30",o)+nd.Asn1Der.encode("BIT_STRING",(0,Df.uint8tohex)(z$.KeyPair.anySignatureToRawUint8(t)));return nd.Asn1Der.encode("SEQUENCE_30",i)}constructorCheck(){if(!this.verify())throw new Error("The signature is not valid")}}ul.SignedIdentifierAttestation=dS;dS.ECDSA_WITH_SHA256="1.2.840.10045.4.3.2";var c0={};Object.defineProperty(c0,"__esModule",{value:!0});c0.AttestedObject=void 0;const $6=no(),$$=ul,pn=Yt(),W$=Ti,Q$=Xt,J$=Y_(),Y$=dl,ci=ur;class l0{constructor(){}create(e,t,n,o){this.attestableObject=e,this.att=t,this.attestationSecret=n,this.objectSecret=o,this.crypto=new $6.AttestationCrypto,this.pok=this.makeProof(n,o,this.crypto),this.derEncodedProof=this.pok.getDerEncoding(),this.fillPresignData()}setWebDomain(e){this.webDomain=e}fillPresignData(){this.preSignEncoded=this.attestableObject.getDerEncoding()+this.att.getDerEncoding()+this.pok.getDerEncoding(),this.encoding=W$.Asn1Der.encode("SEQUENCE_30",this.preSignEncoded)}fromDecodedData(e,t,n){this.attestableObject=e,this.att=t,this.pok=n,this.fillPresignData(),this.userKeyPair=this.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),this.constructorCheck()}verify(){return this.attestableObject.verify()?this.att.verify()?this.crypto.verifyEqualityProof(this.att.getUnsignedAttestation().getCommitment(),this.attestableObject.getCommitment(),this.pok)?!0:((0,pn.logger)(ci.DEBUGLEVEL.LOW,"Could not verify the consistency between the commitment in the attestation and the attested object"),!1):((0,pn.logger)(ci.DEBUGLEVEL.LOW,"Could not verify attestation"),!1):((0,pn.logger)(ci.DEBUGLEVEL.LOW,"Could not verify attestable object"),!1)}static fromBytes(e,t,n,o,i){let a=Q$.AsnParser.parse(e,t),s=new this;s.attestableObject=new o,s.attestableObject.fromBytes(a.signedToken,i),s.att=$$.SignedIdentifierAttestation.fromBytes(new Uint8Array(a.attestation),n);let c=new J$.UsageProofOfExponent;return c.fromBytes(new Uint8Array(a.proof)),s.pok=c,s.userKeyPair=s.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),s.crypto=new $6.AttestationCrypto,s.constructorCheck(),s}makeProof(e,t,n){let o=this.att.getUnsignedAttestation().getCommitment(),i=this.attestableObject.getCommitment(),a=n.computeEqualityProof((0,pn.uint8tohex)(o),(0,pn.uint8tohex)(i),e,t);if(!n.verifyEqualityProof(o,i,a))throw new Error("The redeem proof did not verify");return a}getAttestableObject(){return this.attestableObject}getAtt(){return this.att}getDerEncodeProof(){return this.derEncodedProof}getDerEncoding(){return this.encoding}constructorCheck(){if(!this.verify())throw new Error("The redeem request is not valid")}checkValidity(e=null){try{let t=this.att.getUnsignedAttestation().getDerEncoding();if(!Y$.IdentifierAttestation.fromBytes(new Uint8Array((0,pn.hexStringToArray)(t))).checkValidity())return(0,pn.logger)(ci.DEBUGLEVEL.LOW,"The attestation is not a valid standard attestation"),!1}catch{return(0,pn.logger)(ci.DEBUGLEVEL.LOW,"The attestation is invalid"),!1}try{if(!this.getAttestableObject().checkValidity())return(0,pn.logger)(ci.DEBUGLEVEL.LOW,"Cheque is not valid"),!1}catch{return(0,pn.logger)(ci.DEBUGLEVEL.LOW,"Cheque validation failed"),!1}if(e===null)return!0;try{let t=this.getAtt().getUnsignedAttestation().getAddress();if((0,pn.logger)(ci.DEBUGLEVEL.HIGH,"attestationEthereumAddress: "+t),(0,pn.logger)(ci.DEBUGLEVEL.HIGH,"providedEthereumAddress: "+e),t.toLowerCase()!==e.toLowerCase())return(0,pn.logger)(ci.DEBUGLEVEL.LOW,"The attestation is not to the same Ethereum user who is sending this request"),!1}catch(t){return(0,pn.logger)(ci.DEBUGLEVEL.LOW,"Address validation failed"),(0,pn.logger)(ci.DEBUGLEVEL.MEDIUM,t),!1}return!0}}c0.AttestedObject=l0;l0.Eip712UserData={payload:"",description:"",timestamp:0};l0.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"uint256"}];l0.Eip712UserDataPrimaryName="Authentication";l0.Eip712UserDataDescription="Single-use authentication";var u0={},e1={},hS=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(e1,"__esModule",{value:!0});e1.Identifier=void 0;const zb=Xt,Z$=Lo;class l2{}hS([(0,zb.AsnProp)({type:zb.AsnPropTypes.Integer})],l2.prototype,"type",void 0);hS([(0,zb.AsnProp)({type:Z$.Proof})],l2.prototype,"proof",void 0);e1.Identifier=l2;Object.defineProperty(u0,"__esModule",{value:!0});u0.AttestationRequest=void 0;const id=gs(),W6=Ti,Fl=Yt(),X$=no(),eW=Op(),Q6=Xt,J6=e1,Y6=ur;class tW{constructor(){}static fromData(e,t){let n=new this;if(n.type=e,n.pok=t,!n.verify())throw new Error("The proof is not valid");return n}getDerEncoding(){let e=W6.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding();return W6.Asn1Der.encode("SEQUENCE_30",e)}static fromBytes(e){let t=new this,n;try{n=Q6.AsnParser.parse(e,J6.Identifier),t.type=n.type}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let o=new Uint8Array(n.proof.riddle),i=new Uint8Array(n.proof.challengePoint),a=new Uint8Array(n.proof.responseValue),s=new Uint8Array(n.proof.nonce),c=id.Point.decodeFromHex((0,Fl.uint8tohex)(o),id.CURVE_BN256),f=(0,Fl.uint8ToBn)(i),u=id.Point.decodeFromHex((0,Fl.uint8tohex)(a),id.CURVE_BN256);t.pok=eW.FullProofOfExponent.fromData(c,u,f,s)}catch{throw new Error("Cant create FullProofOfExponent")}if(!t.verify())throw new Error("Could not verify the proof");return(0,Fl.logger)(Y6.DEBUGLEVEL.HIGH,"proof OK"),t}verify(){return new X$.AttestationCrypto().verifyFullProof(this.pok)?((0,Fl.logger)(Y6.DEBUGLEVEL.HIGH,"VerifyAttestationRequestProof OK"),!0):!1}getPok(){return this.pok}getType(){return this.type}getAsn(){const e=this.getPok().getAsnType(),t=new J6.Identifier;return t.type=this.getType(),t.proof=e,t}getAsnEncoded(){return Q6.AsnSerializer.serialize(this.getAsn())}}u0.AttestationRequest=tW;var Ef={},Ia={},pS={};const rW=ar(zU),nW=ar(PD),iW=ar(r7),oW=ar(YH),aW=ar(lD),sW=ar(VU),fW=ar(cV),cW=ar(xV),lW=ar(TD),uW=ar(fD),Z6=ar(eV),dW=ar(yj),hW=ar(dV),pW=ar(yD),gW=ar(N5),vW=ar(NH),X6=ar(aU),bW=ar(GH),mW=ar(wj),yW=ar(_V),xW=ar(BV);(function(r){var e=gt&&gt.__createBinding||(Object.create?function(L,S,v,l){l===void 0&&(l=v),Object.defineProperty(L,l,{enumerable:!0,get:function(){return S[v]}})}:function(L,S,v,l){l===void 0&&(l=v),L[l]=S[v]}),t=gt&&gt.__setModuleDefault||(Object.create?function(L,S){Object.defineProperty(L,"default",{enumerable:!0,value:S})}:function(L,S){L.default=S}),n=gt&&gt.__importStar||function(L){if(L&&L.__esModule)return L;var S={};if(L!=null)for(var v in L)v!=="default"&&Object.prototype.hasOwnProperty.call(L,v)&&e(S,L,v);return t(S,L),S};Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0;var o=rW;Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return o.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return o.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return o.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return o.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return o.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return o.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return o.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return o.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return o.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return o.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return o.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return o.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return o.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return o.TransactionDescription}});var i=nW;Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return i.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return i.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return i.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return i.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return i.isAddress}});var a=n(iW);r.base64=a;var s=oW;Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return s.Base58}});var c=aW;Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var f=sW;Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return f._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return f.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return f.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return f.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return f.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return f.namehash}});var u=fW;Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var h=cW;Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return h.getJsonWalletAddress}});var w=lW;Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return w.keccak256}});var T=uW;Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return T.Logger}});var I=Z6;Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return I.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return I.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return I.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return I.sha512}});var R=dW;Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return R.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return R.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return R.sha256}});var P=hW;Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return P.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return P.shuffled}});var B=pW;Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return B.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return B.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return B.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return B.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return B.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return B.shallowCopy}});var O=n(gW);r.RLP=O;var H=vW;Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return H.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return H.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return H.SigningKey}});var $=X6;Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return $.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return $.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return $.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return $._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return $.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return $.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return $.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return $.Utf8ErrorFuncs}});var J=bW;Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return J.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return J.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return J.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return J.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return J.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return J.TransactionTypes}});var ie=mW;Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return ie.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return ie.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return ie.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return ie.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return ie.parseUnits}});var we=yW;Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return we.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return we.verifyTypedData}});var de=xW;Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return de._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return de.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return de.poll}});var ce=Z6;Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return ce.SupportedAlgorithm}});var be=X6;Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return be.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return be.Utf8ErrorReason}})})(pS);Object.defineProperty(Ia,"__esModule",{value:!0});Ia.SignatureUtility=void 0;const Hl=Yt(),Ts=Hp,e8=pS,wW=ur;let AW=i2,t8=new AW.ec("secp256k1"),Mv=Zc.exports;class So{static sign(e,t){let n=t8.keyFromPrivate(t.getPrivateAsHexString(),"hex"),o=Mv.keccak256((0,Hl.hexStringToArray)(e));return n.sign(o).toDER("hex")}static verify(e,t,n){return So.verifyArrayBuf((0,Hl.hexStringToArray)(e),t,n)}static verifyArrayBuf(e,t,n){let o=t8.keyFromPublic(n.getPublicKeyAsHexStr(),"hex"),i=Mv.keccak256(e);return o.verify(i,t)}static async signMessageWithBrowserWallet(e){return await So.connectMetamaskAndGetAddress(),await new Ts.ethers.providers.Web3Provider(window.ethereum).getSigner().signMessage(e)}static async recoverPublicKeyFromMessageSignature(e,t){const n=Ts.ethers.utils.hashMessage(e),o=Ts.ethers.utils.arrayify(n);return await Ts.ethers.utils.recoverPublicKey(o,t)}static recoverPublicKeyFromTypedMessageSignature(e,t){let n,o;try{let i=e.message.payload;e.message.payload=Ts.ethers.utils.id(i).substr(2);let a=e.types;delete a.EIP712Domain,n=e8._TypedDataEncoder.hash(e.domain,a,e.message),e.message.payload=i}catch(i){const a="Cant sign data, possibly wrong format. "+i;throw new Error(a)}try{o=(0,e8.recoverPublicKey)((0,Hl.hexStringToUint8)(n.substr(2)),t)}catch(i){const a="Cant recoverPublicKey. "+i;throw new Error(a)}return o}static async signEIP712WithBrowserWallet(e,t,n,o,i=null){try{let a,s;if(i?s=new Ts.ethers.Wallet("0x"+i.getPrivateAsHexString()):s=new Ts.ethers.providers.Web3Provider(window.ethereum).getSigner(),!s)throw new Error("Active Wallet required");let c=So.Eip712Data;const f={name:e,version:c.PROTOCOL_VERSION},u={};u[o]=n;let h=Object.assign({},t);h.payload=Mv.keccak256(h.payload);let w=await s._signTypedData(f,u,h),T={types:{EIP712Domain:So.Eip712domainTypes},primaryType:o,message:t,domain:f};T.types[o]=u[o];let I=JSON.stringify(T),R={signatureInHex:w,jsonSigned:I};return JSON.stringify(R)}catch(a){return(0,Hl.logger)(wW.DEBUGLEVEL.LOW,"Cant sign eip712 data. Error: "+a),""}}static async connectMetamaskAndGetAddress(){if(!window.ethereum)throw new Error("Please install metamask before.");const e=await window.ethereum.request({method:"eth_requestAccounts"});if(!e||!e.length)throw new Error("Active Wallet required");return e[0]}static getChainIdFromSignature(e){let t=Number("0x"+e.substr(-2));return t==27||t==28?0:t-35>>1}static convertToPersonalEthMessage(e){return(0,Hl.stringToArray)(this.ethereumPrefix+e.length+e)}}Ia.SignatureUtility=So;So.ethereumPrefix=`Ethereum Signed Message:
`;So.OID_ECDSA_PUBLICKEY="1.2.840.10045.2.1";So.Eip712Data={PROTOCOL_VERSION:"0.1"};So.Eip712domainTypes=[{name:"name",type:"string"},{name:"version",type:"string"}];var t1={};Object.defineProperty(t1,"__esModule",{value:!0});t1.ValidationTools=void 0;const EW=Yt(),_W=ur;class gS{static validateTimestamp(e,t,n){return!(e>t+n||e<t-n)}static isAddress(e){return e.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null?((0,EW.logger)(_W.DEBUGLEVEL.LOW,"Wrong Ethereum Address"),!1):!0}static isNullOrAddress(e){return e==null?!0:this.isAddress(e)}}t1.ValidationTools=gS;gS.ADDRESS_LENGTH_IN_BYTES=42;Object.defineProperty(Ef,"__esModule",{value:!0});Ef.Nonce=void 0;const Zr=Yt(),SW=Ia,vS=t1,TW=ms,Vl=ur;class tr{constructor(){this.DEFAULT_NONCE_TIME_LIMIT_MS=1e3*60*20}static async makeNonce(e="",t,n=new Uint8Array(0),o=0){if(e||(e=await SW.SignatureUtility.connectMetamaskAndGetAddress()),!vS.ValidationTools.isAddress(e))throw new Error("Address is not valid");return e=e.toUpperCase(),o||(o=Date.now()),(0,Zr.uint8merge)([Uint8Array.from((0,Zr.stringToArray)(e)),(0,Zr.hashStringTo32bytesUint8)(t),(0,Zr.getInt64Bytes)(o),n])}validateNonce(e,t,n,o,i,a=new Uint8Array(0)){return tr.validateAddress(e,t)?this.validateReceiverIdentifier(e,n)?this.validateTimestamp(e,o,i)?this.validateOtherData(e,a)?this.validateOtherData(e,a):((0,Zr.logger)(Vl.DEBUGLEVEL.LOW,"otherData check failed"),!1):((0,Zr.logger)(Vl.DEBUGLEVEL.LOW,"timestamp check failed"),!1):((0,Zr.logger)(Vl.DEBUGLEVEL.LOW,"validateReceiverIdentifier check failed"),!1):((0,Zr.logger)(Vl.DEBUGLEVEL.LOW,"validateAddress check failed for "+t),!1)}validateTimestamp(e,t,n){let o=tr.getTimestamp(e),i=new TW.Timestamp(o);return i.setValidity(n-t),i.validateAgainstExpiration(n)}static validateAddress(e,t){let n=(0,Zr.uint8toString)(e.slice(tr.senderAddressIndexStart,tr.senderAddressIndexStop));return t.toUpperCase()===n.toUpperCase()?!0:((0,Zr.logger)(Vl.DEBUGLEVEL.LOW,"nonceAddress = "+n),!1)}validateReceiverIdentifier(e,t){return(0,Zr.uint8tohex)((0,Zr.hashStringTo32bytesUint8)(t)).toLowerCase()===(0,Zr.uint8tohex)(e.slice(tr.receiverIdentifierIndexStart,tr.receiverIdentifierIndexStop)).toLowerCase()}validateOtherData(e,t){return(0,Zr.uint8tohex)(t).toLowerCase()===(0,Zr.uint8tohex)(e.slice(tr.otherDataIndexStart,tr.otherDataIndexStart+t.length)).toLowerCase()}static getTimestamp(e){let t=e.slice(tr.timestampIndexStart,tr.timestampIndexStop),n=(0,Zr.uint8ToBn)(t);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("timestamp value bigger than MAX_SAFE_INTEGER");return Number(n)}}Ef.Nonce=tr;tr.LONG_BYTES=8;tr.senderAddressIndexStart=0;tr.senderAddressIndexStop=vS.ValidationTools.ADDRESS_LENGTH_IN_BYTES;tr.receiverIdentifierIndexStart=tr.senderAddressIndexStop;tr.receiverIdentifierIndexStop=tr.receiverIdentifierIndexStart+256/8;tr.timestampIndexStart=tr.receiverIdentifierIndexStop;tr.timestampIndexStop=tr.timestampIndexStart+tr.LONG_BYTES;tr.otherDataIndexStart=tr.timestampIndexStop;var d0={},hl={},r1={},h0={},u2=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(h0,"__esModule",{value:!0});h0.UseToken=void 0;const Fc=Xt;class n1{}u2([(0,Fc.AsnProp)({type:Fc.AsnPropTypes.Any})],n1.prototype,"signedToken",void 0);u2([(0,Fc.AsnProp)({type:Fc.AsnPropTypes.Any})],n1.prototype,"attestation",void 0);u2([(0,Fc.AsnProp)({type:Fc.AsnPropTypes.Any})],n1.prototype,"proof",void 0);h0.UseToken=n1;var i1={};Object.defineProperty(i1,"__esModule",{value:!0});i1.XMLconfigData=void 0;const kW=sf,r8=ki;i1.XMLconfigData={attestationOrigin:"http://stage.attestation.id",tokensOrigin:"https://devcontickets.herokuapp.com/outlet/",tokenUrlName:"ticket",tokenSecretName:"secret",unsignedTokenDataName:"ticket",tokenParser:kW.SignedDevconTicket,localStorageItemName:"dcTokens",base64senderPublicKeys:{6:r8.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA////////////////
/////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5m
fvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0
SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFB
AgEBA0IABJUMfAvtI8PKxcwxu7mq2btVMjh4gmcKwrHN8HmasOvHZMJn9wTo/doH
lquDl6TSEBAk0kxO//aVs6QX8u0OSM0=
-----END PUBLIC KEY-----`),26:r8.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEQKYTwFMIzSq1QVxoRKoOZXLQ9mUhce8M
dIzvJx3unbpR3m3TiuWKZKTP4/XCPnS56d1tAhjM43hHjHbZ0k3RKQ==
-----END PUBLIC KEY-----`)},base64attestorPubKey:"MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA/////////////////////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5mfvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFBAgEBA0IABL+y43T1OJFScEep69/yTqpqnV/jzONz9Sp4TEHyAJ7IPN9+GHweCX1hT4OFxt152sBN3jJc1s0Ymzd8pNGZNoQ=",webDomain:"devcon.org"};Object.defineProperty(r1,"__esModule",{value:!0});r1.Eip712Validator=void 0;const CW=c0,MW=h0,Iv=i1,n8=ki,IW=Zu,i8=Ia,co=Yt(),Ko=ur;class mh{constructor(){this.XMLConfig=Iv.XMLconfigData}static stringIsAValidUrl(e){let t;try{t=new URL(e)}catch(n){return(0,co.logger)(Ko.DEBUGLEVEL.LOW,"cant construct url. Error:",n),!1}return t.protocol==="http:"||t.protocol==="https:"}setDomainAndTimout(e){if(!mh.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}setDomain(e){if(!mh.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}getDomain(){return this.domain}setSalt(e){this.salt=e}getSalt(){return this.salt}setPrimaryName(e){this.primaryName=e}getPrimaryName(){return this.primaryName}setChainId(e){if(e<1)throw new Error("ChainId should be a positive number");this.chainId=e}getChainId(){return this.chainId}validateDomain(e){return e?!e.name||e.name.toLowerCase()!==this.domain.toLowerCase()?((0,co.logger)(Ko.DEBUGLEVEL.LOW,"Domain name is not valid"),!1):!e.version||e.version!==i8.SignatureUtility.Eip712Data.PROTOCOL_VERSION?((0,co.logger)(Ko.DEBUGLEVEL.LOW,"Protocol version is wrong"),!1):this.chainId&&e.chainId!==this.chainId?((0,co.logger)(Ko.DEBUGLEVEL.LOW,"Chain ID is wrong"),!1):this.verifyingContract&&e.verifyingContract!==this.verifyingContract?((0,co.logger)(Ko.DEBUGLEVEL.LOW,"Verifying contract is wrong"),!1):this.salt&&e.salt!==this.salt?((0,co.logger)(Ko.DEBUGLEVEL.LOW,"Salt is wrong"),!1):!0:((0,co.logger)(Ko.DEBUGLEVEL.LOW,"Input param domainToCheck required"),!1)}retrieveAttestedObject(e){let t=e.payload,n=n8.KeyPair.publicFromBase64orPEM(Iv.XMLconfigData.base64attestorPubKey),o=Iv.XMLconfigData.base64senderPublicKeys;return CW.AttestedObject.fromBytes((0,co.hexStringToUint8)(t),MW.UseToken,n,IW.Ticket,o)}verifySignature(e,t){let n=JSON.parse(e),o=n.signatureInHex,i=JSON.parse(n.jsonSigned),a=i8.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,o),s=n8.KeyPair.fromPublicHex(a.substr(2));return t.toLowerCase()!==i.message.address.toLowerCase()?((0,co.logger)(Ko.DEBUGLEVEL.LOW,"message.address is not equal pkAddress"),!1):t.toLowerCase()!==s.getAddress().toLowerCase()?((0,co.logger)(Ko.DEBUGLEVEL.LOW,"Recovered address is not equal pkAddress"),!1):!0}}r1.Eip712Validator=mh;Object.defineProperty(hl,"__esModule",{value:!0});hl.Eip712Token=void 0;const PW=r1;class BW extends PW.Eip712Validator{}hl.Eip712Token=BW;Object.defineProperty(d0,"__esModule",{value:!0});d0.Eip712AttestationRequest=void 0;const RW=u0,OW=ki,Pv=Ia,Ri=Yt(),o8=Ef,NW=hl,Uf=ms,$o=ur;class LW extends NW.Eip712Token{constructor(e=null,t=Uf.Timestamp.DEFAULT_TIME_LIMIT_MS){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"string"},{name:"identifier",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequest",this.Eip712UserDataDescription="Linking Ethereum address to phone or email",this.userKey=e,this.acceptableTimeLimit=t,this.usageValue=this.Eip712UserDataDescription}setUsageValue(e){this.usageValue=e}async addData(e,t=Uf.Timestamp.DEFAULT_TIME_LIMIT_MS,n,o){this.setDomain(e),this.attestationRequest=o,this.acceptableTimeLimit=t,this.jsonEncoding=await this.makeToken(n);try{this.fillJsonData(this.jsonEncoding)}catch(i){return(0,Ri.logger)($o.DEBUGLEVEL.LOW,i),!1}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let t=JSON.parse(e),n=t.signatureInHex,o=JSON.parse(t.jsonSigned);this.eip712DomainData=o.domain,this.data=o.message;try{let i=Pv.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,n);this.requestorKeys=OW.KeyPair.fromPublicHex(i.substr(2)),(0,Ri.logger)($o.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(i){let a="Recover Address failed with error:"+i;throw(0,Ri.logger)($o.DEBUGLEVEL.LOW,a,i),new Error(a)}this.attestationRequest||(this.attestationRequest=RW.AttestationRequest.fromBytes((0,Ri.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 AttestationRequest");(0,Ri.logger)($o.DEBUGLEVEL.HIGH,"Eip712 Attestaion Request verify OK")}async makeToken(e){this.userKey?this.userKey.getAddress():await Pv.SignatureUtility.connectMetamaskAndGetAddress();let t=o8.Nonce.getTimestamp(this.attestationRequest.getPok().getNonce()),n=new Uf.Timestamp(t).getTimeAsString(),o={payload:(0,Ri.hexStringToBase64Url)(this.attestationRequest.getDerEncoding()),description:this.usageValue,timestamp:n,identifier:e};return await Pv.SignatureUtility.signEIP712WithBrowserWallet(this.domain,o,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}setAcceptableTimeLimit(e){this.acceptableTimeLimit=e}getJsonEncoding(){return this.jsonEncoding}verify(){return this.attestationRequest.verify()?!0:((0,Ri.logger)($o.DEBUGLEVEL.MEDIUM,"Could not verify proof"),!1)}checkValidity(){if(!this.validateDomain(this.eip712DomainData))return(0,Ri.logger)($o.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!==this.usageValue)return(0,Ri.logger)($o.DEBUGLEVEL.MEDIUM,"Description is not correct. :"+this.data.description+" !== "+this.usageValue),!1;let e=new Uf.Timestamp(this.data.timestamp);return e.setValidity(this.acceptableTimeLimit),e.validateTimestamp()?new o8.Nonce().validateNonce(this.getPok().getNonce(),this.requestorKeys.getAddress(),this.domain,Uf.Timestamp.stringTimestampToLong(this.data.timestamp)-this.acceptableTimeLimit,Uf.Timestamp.stringTimestampToLong(this.data.timestamp)+this.acceptableTimeLimit)?!0:((0,Ri.logger)($o.DEBUGLEVEL.LOW,"nonce is not correct"),!1):((0,Ri.logger)($o.DEBUGLEVEL.LOW,`timestamp is not correct. timestamp = ${this.data.timestamp}, acceptableTimeLimit = ${this.acceptableTimeLimit}`),!1)}getIdentifier(){return this.data.identifier}getType(){return this.attestationRequest.getType()}getPok(){return this.attestationRequest.getPok()}getUserPublicKey(){return this.requestorKeys}}d0.Eip712AttestationRequest=LW;var p0={},o1={},a1=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(o1,"__esModule",{value:!0});o1.UseAttestation=void 0;const Ou=Xt,DW=Lo,bS=or;class g0{}a1([(0,Ou.AsnProp)({type:bS.MyAttestation})],g0.prototype,"attestation",void 0);a1([(0,Ou.AsnProp)({type:Ou.AsnPropTypes.Integer})],g0.prototype,"type",void 0);a1([(0,Ou.AsnProp)({type:DW.Proof})],g0.prototype,"proof",void 0);a1([(0,Ou.AsnProp)({type:bS.PublicKeyInfoValue})],g0.prototype,"sessionKey",void 0);o1.UseAttestation=g0;Object.defineProperty(p0,"__esModule",{value:!0});p0.UseAttestation=void 0;const UW=ki,FW=Op(),HW=no(),VW=ul,jW=o1,GW=Xt,a8=Ti;class zW{static fromData(e,t,n,o){let i=new this;return i.attestation=e,i.type=t,i.pok=n,i.sessionPublicKey=o,i.encoding=i.makeEncoding(e,t,n,o),i.constructorCheck(),i}static fromBytes(e,t){let n=new this,o;try{o=GW.AsnParser.parse(e,jW.UseAttestation)}catch(i){throw new Error("Cant parse UseAttestationASN. "+i)}try{n.attestation=VW.SignedIdentifierAttestation.fromASNType(o.attestation,t),n.type=o.type,n.pok=FW.FullProofOfExponent.fromASNType(o.proof),n.sessionPublicKey=UW.KeyPair.publicFromSubjectPublicKeyValue(o.sessionKey)}catch(i){throw new Error("Cant decode internal data. "+i)}return n.constructorCheck(),n}constructorCheck(){if(!this.verify())throw new Error("The use attestation object is not valid")}makeEncoding(e,t,n,o){let i=e.getDerEncoding()+a8.Asn1Der.encode("INTEGER",t)+n.getDerEncoding()+o.getAsnDerPublic();return a8.Asn1Der.encode("SEQUENCE_30",i)}getAttestation(){return this.attestation}getType(){return this.type}getPok(){return this.pok}getSessionPublicKey(){return this.sessionPublicKey}getDerEncoding(){return this.encoding}verify(){return this.attestation.verify()&&new HW.AttestationCrypto().verifyFullProof(this.pok)}checkValidity(){return this.attestation.checkValidity()}}p0.UseAttestation=zW;var s1={};Object.defineProperty(s1,"__esModule",{value:!0});s1.Eip712AttestationUsage=void 0;const qW=ki,Bv=Ia,KW=hl,$W=p0,Rr=Yt(),s8=no(),f8=gs(),WW=Ef,Wo=ms,Sn=ur;class QW extends KW.Eip712Token{constructor(e=null,t=Wo.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.PLACEHOLDER_CHAIN_ID=0,this.Eip712PrimaryName="AttestationUsage",this.Eip712Description='Prove that the "identifier" is the identifier hidden in attestation contained in"payload".',this.Eip712UserTypes=[{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"payload",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.maxTokenValidityInMs=t,this.userKey=e}async addData(e,t,n){this.setDomain(e),this.useAttestation=n;try{this.jsonEncoding=await this.makeToken(t,n)}catch(o){throw(0,Rr.logger)(Sn.DEBUGLEVEL.LOW,o),new Error("Could not encode object. "+o)}try{this.fillJsonData(this.jsonEncoding)}catch(o){return(0,Rr.logger)(Sn.DEBUGLEVEL.LOW,o),!1}this.constructorCheck()}fillJsonData(e,t=null){if(!e)throw new Error("Empty json");t!==null&&(this.attestorKey=t),this.jsonEncoding=e;let n=JSON.parse(e),o=n.signatureInHex,i=JSON.parse(n.jsonSigned);this.eip712DomainData=i.domain,this.data=i.message;try{let a=Bv.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,o);this.requestorKeys=qW.KeyPair.fromPublicHex(a.substr(2)),(0,Rr.logger)(Sn.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(a){let s="Recover Address failed with error:"+a;throw(0,Rr.logger)(Sn.DEBUGLEVEL.LOW,s,a),new Error(s)}if(!this.useAttestation)try{(0,Rr.logger)(Sn.DEBUGLEVEL.VERBOSE,(0,Rr.uint8tohex)((0,Rr.base64ToUint8array)(this.data.payload))),this.useAttestation=$W.UseAttestation.fromBytes((0,Rr.base64ToUint8array)(this.data.payload),this.attestorKey)}catch(a){let s="Failed to read UseAttestation. "+a;throw(0,Rr.logger)(Sn.DEBUGLEVEL.MEDIUM,s,a),new Error(s)}this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,t){this.userKey||await Bv.SignatureUtility.connectMetamaskAndGetAddress();let n={payload:(0,Rr.hexStringToBase64Url)(t.getDerEncoding()),description:this.Eip712Description,timestamp:new Wo.Timestamp().getTimeAsString(),identifier:e,expirationTime:new Wo.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString()};return await Bv.SignatureUtility.signEIP712WithBrowserWallet(this.domain,n,this.Eip712UserTypes,this.Eip712PrimaryName,this.userKey)}proofLinking(){let t=new s8.AttestationCrypto().mapToCurveMultiplier(this.getType(),this.getIdentifier());return f8.Point.decodeFromUint8(this.getAttestation().getUnsignedAttestation().getCommitment(),f8.CURVE_BN256).subtract(s8.Pedestren_G.multiplyDA(t)).equals(this.getPok().getRiddle())?!0:((0,Rr.logger)(Sn.DEBUGLEVEL.LOW,"candidateRiddle.equals(this.getPok().getRiddle()) error"),!1)}getPok(){return this.useAttestation.getPok()}getType(){return this.useAttestation.type}getIdentifier(){return this.data.identifier}getAttestation(){return this.useAttestation.getAttestation()}getJsonEncoding(){return this.jsonEncoding}checkTokenValidity(){let e=Wo.Timestamp.stringTimestampToLong(this.data.expirationTime)-this.maxTokenValidityInMs-2*Wo.Timestamp.ALLOWED_ROUNDING,t=Wo.Timestamp.stringTimestampToLong(this.data.expirationTime);if(!this.useAttestation.checkValidity())return(0,Rr.logger)(Sn.DEBUGLEVEL.LOW,"useAttestation.checkValidity failed"),!1;if(!this.validateDomain(this.eip712DomainData))return(0,Rr.logger)(Sn.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!=this.Eip712Description)return(0,Rr.logger)(Sn.DEBUGLEVEL.LOW,`wrong description: "${this.data.description}", must be "${this.Eip712Description}"`),!1;let n=new Wo.Timestamp(this.data.timestamp);return n.setValidity(this.maxTokenValidityInMs),n.validateAgainstExpiration(Wo.Timestamp.stringTimestampToLong(this.data.expirationTime))?this.requestorKeys.getAddress().toLowerCase()!==this.useAttestation.getAttestation().getUnsignedAttestation().getAddress().toLowerCase()?((0,Rr.logger)(Sn.DEBUGLEVEL.LOW,"wrong address"),!1):new WW.Nonce().validateNonce(this.useAttestation.getPok().getNonce(),this.useAttestation.getAttestation().getUnsignedAttestation().getAddress(),this.domain,e,t)?this.proofLinking()?!0:((0,Rr.logger)(Sn.DEBUGLEVEL.LOW,"wrong proofLinking"),!1):((0,Rr.logger)(Sn.DEBUGLEVEL.LOW,"wrong Nonce"),!1):((0,Rr.logger)(Sn.DEBUGLEVEL.LOW,`verify timestamp failed.
`+this.data.timestamp+`
`+this.maxTokenValidityInMs+`
`+this.data.expirationTime+`
`+Wo.Timestamp.stringTimestampToLong(this.data.expirationTime)+`
`),!1)}verify(){return!!this.useAttestation.verify()}getSessionPublicKey(){return this.useAttestation.getSessionPublicKey()}}s1.Eip712AttestationUsage=QW;var f1={},v0={},c1={},d2=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(c1,"__esModule",{value:!0});c1.Identifier=void 0;const yh=Xt,JW=Lo,YW=or;class l1{}d2([(0,yh.AsnProp)({type:yh.AsnPropTypes.Integer})],l1.prototype,"type",void 0);d2([(0,yh.AsnProp)({type:JW.Proof})],l1.prototype,"proof",void 0);d2([(0,yh.AsnProp)({type:YW.PublicKeyInfoValue})],l1.prototype,"sessionKey",void 0);c1.Identifier=l1;Object.defineProperty(v0,"__esModule",{value:!0});v0.AttestationRequestWithUsage=void 0;const ZW=ki,XW=Op(),eQ=c1,tQ=Xt,od=Yt(),ad=gs(),rQ=no(),c8=Ti,nQ=ur;class iQ{constructor(){}static fromData(e,t,n){let o=new this;if(o.type=e,o.pok=t,o.sessionPublicKey=n,!o.verify())throw new Error("Could not verify the proof");return o}static fromBytes(e){let t=new this,n;try{n=tQ.AsnParser.parse(e,eQ.Identifier),t.type=n.type,t.sessionPublicKey=ZW.KeyPair.publicFromSubjectPublicKeyValue(n.sessionKey)}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let o=new Uint8Array(n.proof.riddle),i=new Uint8Array(n.proof.challengePoint),a=new Uint8Array(n.proof.responseValue),s=new Uint8Array(n.proof.nonce),c=ad.Point.decodeFromHex((0,od.uint8tohex)(o),ad.CURVE_BN256),f=(0,od.uint8ToBn)(i),u=ad.Point.decodeFromHex((0,od.uint8tohex)(a),ad.CURVE_BN256);t.pok=XW.FullProofOfExponent.fromData(c,u,f,s)}catch{throw new Error("Cant create FullProofOfExponent")}if(!t.verify())throw new Error("Could not verify the proof");return(0,od.logger)(nQ.DEBUGLEVEL.HIGH,"proof OK"),t}verify(){return!!new rQ.AttestationCrypto().verifyFullProof(this.pok)}getDerEncoding(){let e=c8.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding()+this.sessionPublicKey.getAsnDerPublic();return c8.Asn1Der.encode("SEQUENCE_30",e)}getPok(){return this.pok}getType(){return this.type}getSessionPublicKey(){return this.sessionPublicKey}}v0.AttestationRequestWithUsage=iQ;Object.defineProperty(f1,"__esModule",{value:!0});f1.Eip712AttestationRequestWithUsage=void 0;const oQ=v0,aQ=ki,ja=Yt(),Rv=Ia,sQ=Ef,fQ=hl,lo=ms,Ff=ur;class cQ extends fQ.Eip712Token{constructor(e=null,t=lo.Timestamp.DEFAULT_TIME_LIMIT_MS,n=lo.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequestWUsage",this.Eip712UserDataDescription='Prove that the "identifier" is the identifier hidden in attestation contained in"payload" and use this to authorize usage of local, temporary keys.',this.userKey=e,this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n}async fromData(e,t=lo.Timestamp.DEFAULT_TIME_LIMIT_MS,n=lo.Timestamp.DEFAULT_TOKEN_TIME_LIMIT,o,i,a=null){this.setDomain(e),a&&(this.userKey=a);try{this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n,this.attestationRequestWithUsage=i,this.jsonEncoding=await this.makeToken(o,i)}catch(s){throw(0,ja.logger)(Ff.DEBUGLEVEL.LOW,s),new Error("Could not encode object")}try{this.fillJsonData(this.jsonEncoding)}catch{throw new Error("Could not decode object")}}Eip712AttestationRequestWithUsage(e,t,n,o){try{this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n,this.jsonEncoding=o,this.fillJsonData(this.jsonEncoding)}catch(i){throw(0,ja.logger)(Ff.DEBUGLEVEL.LOW,i),new Error("Could not decode object")}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let t=JSON.parse(e),n=t.signatureInHex,o=JSON.parse(t.jsonSigned);this.eip712DomainData=o.domain,this.data=o.message;try{let i=Rv.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,n);this.userPublicKey=aQ.KeyPair.fromPublicHex(i.substr(2)),(0,ja.logger)(Ff.DEBUGLEVEL.HIGH,"Eip712 withUsage restored address: "+this.userPublicKey.getAddress())}catch(i){let a="Recover Address failed with error:"+i;throw(0,ja.logger)(Ff.DEBUGLEVEL.LOW,a,i),new Error(a)}this.attestationRequestWithUsage||(this.attestationRequestWithUsage=oQ.AttestationRequestWithUsage.fromBytes((0,ja.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,t){this.userKey||await Rv.SignatureUtility.connectMetamaskAndGetAddress();let n=new lo.Timestamp().getTimeAsString(),o=new lo.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString(),i={payload:(0,ja.hexStringToBase64Url)(t.getDerEncoding()),description:this.Eip712UserDataDescription,timestamp:n,identifier:e,expirationTime:o};return await Rv.SignatureUtility.signEIP712WithBrowserWallet(this.domain,i,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}getIdentifier(){return this.data.identifier}getUserPublicKey(){return this.userPublicKey}getPok(){return this.attestationRequestWithUsage.getPok()}getType(){return this.attestationRequestWithUsage.getType()}getSessionPublicKey(){return this.attestationRequestWithUsage.getSessionPublicKey()}getJsonEncoding(){return this.jsonEncoding}checkValidity(){return!!this.testNonceAndDescription(this.acceptableTimeLimit)}checkTokenValidity(){let e=new lo.Timestamp(this.data.timestamp);return e.setValidity(this.maxTokenValidityInMs),e.validateAgainstExpiration(lo.Timestamp.stringTimestampToLong(this.data.expirationTime))?!!this.testNonceAndDescription(this.maxTokenValidityInMs):((0,ja.logger)(Ff.DEBUGLEVEL.LOW,"time.validateAgainstExpiration filed"),!1)}testNonceAndDescription(e){if(!e)throw new Error("timeLimit required");let t=lo.Timestamp.stringTimestampToLong(this.data.timestamp)-e,n=lo.Timestamp.stringTimestampToLong(this.data.timestamp)+e;return new sQ.Nonce().validateNonce(this.attestationRequestWithUsage.getPok().getNonce(),this.userPublicKey.getAddress(),this.domain,t,n)?this.validateDomain(this.eip712DomainData)?this.data.description===this.Eip712UserDataDescription:((0,ja.logger)(Ff.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1):!1}verify(){return!!this.attestationRequestWithUsage.verify()}}f1.Eip712AttestationRequestWithUsage=cQ;Object.defineProperty(cp,"__esModule",{value:!0});cp.Authenticator=void 0;const Ov=Zu,ks=ki,pt=Yt(),Nv=ul,l8=c0,sd=no(),lQ=u0,Lv=Ef,u8=d0,uQ=dl,Dv=Ia,dQ=p0,d8=s1,Uv=f1,hQ=v0,Dt=ur,pQ=h0;typeof crypto=="object"&&crypto.subtle||xa.webcrypto.subtle;class ui{static decodePublicKey(e){return ks.KeyPair.publicFromBase64orPEM(e)}static async getUseTicket(e,t,n,o,i,a){let s,c;try{a=ks.KeyPair.parseKeyArrayStrings(a)}catch(u){throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,u),new Error("Issuer key error")}if(!n)throw new Error("Ticket is empty");if(s=Ov.Ticket.fromBase64(n,a),!s.checkValidity())throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Could not validate ticket"),new Error("Ticket Validation failed");if(!s.verify())throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Could not verify ticket"),new Error("Ticket Verification failed");if((0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"ticked valid (signature OK)"),!i)throw new Error("Attesator key not defined");let f;try{f=ks.KeyPair.publicFromBase64orPEM(i)}catch{throw new Error("Attesator key read error")}try{c=Nv.SignedIdentifierAttestation.fromBytes((0,pt.base64ToUint8array)(o),f)}catch{throw new Error("IDAttestation decode error")}if(!c.checkValidity())throw new Error("IDAttestation Validation failed");if(!c.verify())throw new Error("IDAttestation Verification failed");(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"attestation valid");try{let u=new l8.AttestedObject;u.create(s,c,BigInt(t),BigInt(e));let h=u.getDerEncoding();return(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,h),(0,pt.hexStringToBase64)(h)}catch(u){throw(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"getUseTicket: redeem failed",u),new Error("Attestation doesnt fit Ticket: "+u.message)}}static validateUseTicket(e,t,n,o){let i=ks.KeyPair.publicFromBase64orPEM(t),a=ks.KeyPair.parseKeyArrayStrings(n);try{let s=l8.AttestedObject.fromBytes((0,pt.base64ToUint8array)(e),pQ.UseToken,i,Ov.Ticket,a);if((0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Verified attested object"),!s.checkValidity(o))throw new Error("Ticket validity check failed!");return s}catch(s){let c="Ticket proof validation failed! "+s.message;throw(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,c),new Error(c)}}static async requestAttest(e,t,n,o,i=null){let a=new sd.AttestationCrypto,s;if(i)s=i.getAddress();else try{s=await Dv.SignatureUtility.connectMetamaskAndGetAddress()}catch(T){(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Cant find user Ethereum Address. Please check Metamask. "+T),(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,T);return}let c=await Lv.Nonce.makeNonce(s,n);(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"nonce = "+(0,pt.uint8tohex)(c));let f=a.computeAttestationProof(o,c),u=lQ.AttestationRequest.fromData(a.getType(t),f),h=new u8.Eip712AttestationRequest(i);return await h.addData(n,void 0,e,u),ui.checkAttestRequestVerifiability(h),ui.checkAttestRequestValidity(h),h.getJsonEncoding()}static constructAttest(e,t,n,o,i,a=""){let s,c=new sd.AttestationCrypto,f,u;try{f=new u8.Eip712AttestationRequest,f.setDomain(i),a&&f.setUsageValue(a),f.fillJsonData(o),ui.checkAttestRequestVerifiability(f),ui.checkAttestRequestValidity(f)}catch(T){let I="Failed to fill attestation data from json. "+T+`
Restores as an Eip712AttestationRequestWithUsage object instead`;(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,I);try{f=new Uv.Eip712AttestationRequestWithUsage,f.setDomain(i),f.fillJsonData(o),ui.checkAttestRequestVerifiability(f),ui.checkAttestRequestValidity(f)}catch(R){let P="Failed to parse Eip712AttestationRequestWithUsage. "+R;throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,P),(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,R),new Error(P)}}u=c.makeCommitmentFromHiding(f.getIdentifier(),f.getType(),f.getPok().getRiddle()),s=new uQ.IdentifierAttestation,s.fromCommitment(u,f.getUserPublicKey()),s.setIssuer("CN="+t),s.setSerialNumber(Math.round(Math.random()*Number.MAX_SAFE_INTEGER));let h=Date.now();return s.setNotValidBefore(h),s.setNotValidAfter(h+n),Nv.SignedIdentifierAttestation.fromData(s,e).getDerEncoding()}static async useAttest(e,t,n,o,i,a,s=null,c=null){const f=(0,pt.base64ToUint8array)(e);let u=Nv.SignedIdentifierAttestation.fromBytes(f,n),h=(0,pt.base64ToUint8array)(t),w=(0,pt.uint8ToBn)(h.slice(4)),T=new sd.AttestationCrypto,I;c?I=c.getAddress():I=await Dv.SignatureUtility.connectMetamaskAndGetAddress();let R=await Lv.Nonce.makeNonce(I,a),P=T.computeAttestationProof(w,R);try{let B=dQ.UseAttestation.fromData(u,T.getType(i),P,s),O=new d8.Eip712AttestationUsage(c),H=await O.addData(a,o,B);return(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"usageRequest ready state = "+H),(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"usageRequest.getJsonEncoding() = "+O.getJsonEncoding()),O.getJsonEncoding()}catch(B){(0,pt.logger)(Dt.DEBUGLEVEL.LOW,B)}}static checkAttestRequestVerifiability(e){if(!e.verify())throw(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"Could not verify attestation signing request"),new Error("Verification failed")}static checkAttestRequestValidity(e){if(!e.checkValidity())throw(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"Could not validate attestation signing request"),new Error("Validation failed")}static checkUsageVerifiability(e){if(!e.verify())throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Could not verify usage request"),new Error("Verification failed")}static checkUsageValidity(e){if(!e.checkTokenValidity())throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Could not validate usage request"),new Error("Validation failed")}static async verifyUsage(e,t,n,o,i){let a;try{let s=new d8.Eip712AttestationUsage;s.setDomain(o),s.fillJsonData(e,t),ui.checkUsageVerifiability(s),ui.checkUsageValidity(s),a=s.getSessionPublicKey()}catch(s){(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"Eip712AttestationUsage failed. "+s+". Lets try to verify Eip712AttestationRequestWithUsage");let c=new Uv.Eip712AttestationRequestWithUsage;c.setDomain(o),c.fillJsonData(e),ui.checkUsageVerifiability(c),ui.checkUsageValidity(c),a=c.getSessionPublicKey(),(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"sessionPublicKey from Eip712AttestationRequestWithUsage = "+a.getAddress())}try{if(!await a.verifyStringWithSubtle(ks.KeyPair.anySignatureToRawUint8(i),n))throw(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"Could not verify message signature"),new Error("Signature verification failed");return"SUCCESSFULLY validated usage request!"}catch(s){let c="Cant verify session with subtle. "+s;(0,pt.logger)(Dt.DEBUGLEVEL.LOW,c),(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,s)}}static async requestAttestAndUsage(e,t,n,o,i,a){try{let s=(0,pt.uint8ToBn)((0,pt.base64ToUint8array)(i)),c;e?c=e.getAddress():c=await Dv.SignatureUtility.connectMetamaskAndGetAddress();let f=await Lv.Nonce.makeNonce(c,o,new Uint8Array(0),Date.now()),u=new sd.AttestationCrypto,h=u.computeAttestationProof(s,f),w=hQ.AttestationRequestWithUsage.fromData(u.getType(n),h,a),T=new Uv.Eip712AttestationRequestWithUsage(e);return await T.fromData(o,void 0,void 0,t,w),(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"request.getJsonEncoding() = "+T.getJsonEncoding()),T.getJsonEncoding()}catch(s){let c="requestAttestAndUsage error. "+s;(0,pt.logger)(Dt.DEBUGLEVEL.LOW,c),(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,s)}}static validateTicket(e,t,n){let o={};try{o[t]=ks.KeyPair.parseKeyArrayStrings({[t]:n})[t]}catch{return{valid:!1,massage:"Broken Public Key"}}let i;try{i=Ov.Ticket.fromBase64(e,o)}catch(a){return(0,pt.logger)(Dt.DEBUGLEVEL.LOW,a),{valid:!1,massage:"Wrong Ticket"}}return{valid:!0,ticketId:i.getTicketId(),ticketClass:i.getTicketClass()}}}cp.Authenticator=ui;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AttestationCrypto=r.Eip712AttestationRequest=r.Authenticator=void 0;var e=cp;Object.defineProperty(r,"Authenticator",{enumerable:!0,get:function(){return e.Authenticator}});var t=d0;Object.defineProperty(r,"Eip712AttestationRequest",{enumerable:!0,get:function(){return t.Eip712AttestationRequest}});var n=no();Object.defineProperty(r,"AttestationCrypto",{enumerable:!0,get:function(){return n.AttestationCrypto}})})(fp);var u1=function(){function r(e){this.client=e}return r.prototype.saveProof=function(e,t){var n=this.getProofs();n[this.getFullKey(e)]=t,localStorage.setItem(r.STORAGE_KEY,JSON.stringify(n))},r.prototype.getSavedProof=function(e){var t=this.getProofs(),n=this.getFullKey(e);return t[n]?t[n]:null},r.prototype.deleteProof=function(e){var t=this.getProofs(),n=this.getFullKey(e);t[n]&&delete t[n],localStorage.setItem(r.STORAGE_KEY,JSON.stringify(t))},r.prototype.getFullKey=function(e){return this.TYPE+"-"+e.toLowerCase()},r.prototype.getProofs=function(){var e=localStorage.getItem(r.STORAGE_KEY);return e&&e.length?JSON.parse(e):{}},r.STORAGE_KEY="tn-proof",r}(),h2={},d1={};Object.defineProperty(d1,"__esModule",{value:!0});let qb;if(typeof crypto=="object"&&crypto.subtle)qb=crypto.subtle;else{let r=xa.webcrypto;if(r)qb=r.subtle;else throw new Error("webcrypto.subtle missing")}d1.default=qb;Object.defineProperty(h2,"__esModule",{value:!0});var p2=h2.KeyStore=void 0;const h8=Yt(),p8=d1;class Di{async getOrCreateKey(e,t){let n,o,i=e+(t?"-"+t:"");try{return n=await this.getKey(i),n?o=(0,h8.hexStringToUint8)(n.spki):(n=await p8.default.generateKey({name:e,modulusLength:1024,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]),o=new Uint8Array(await p8.default.exportKey("spki",n.publicKey)),await this.saveKey(i,n.privateKey,n.publicKey,(0,h8.uint8tohex)(o))),{attestHoldingKey:n,holdingPubKey:o}}catch(a){throw console.log("Failed to create attestor keypair: "+a.message),a}}async getKey(e){return new Promise(async(t,n)=>{try{this.getDb().then(o=>{let s=o.transaction(Di.TABLE_NAME,"readwrite").objectStore(Di.TABLE_NAME).get(e);s.onsuccess=()=>{t(s.result),o.close()},s.onerror=c=>{n(c)}})}catch(o){console.log(o),n(o.message)}})}async saveKey(e,t,n,o){try{let i=await this.getDb(),s=i.transaction(Di.TABLE_NAME,"readwrite").objectStore(Di.TABLE_NAME),c={id:e,privateKey:t,publicKey:n,spki:o},f=s.put(c);f.onsuccess=()=>{i.close()}}catch(i){console.log("Failed to store key"+i.message)}}async getDb(){return new Promise(function(e,t){let n=indexedDB.open(Di.DB_NAME,1);n.onupgradeneeded=function(o){let i=o.target.result;i.objectStoreNames.contains(Di.TABLE_NAME)||i.createObjectStore(Di.TABLE_NAME,{keyPath:"id"})},n.onsuccess=function(o){let i=o.target.result;e(i)},n.onerror=function(o){t("Error opening database "+o.target.errorCode)}})}}p2=h2.KeyStore=Di;Di.DB_NAME="AttestationKeyStore";Di.TABLE_NAME="Keys";var gQ=Yt(),g2={},Do={},ff={},Pa={},mS=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.EpochTimeValidity=void 0;const xh=Xt;class v2{}mS([(0,xh.AsnProp)({type:xh.AsnPropTypes.Integer})],v2.prototype,"notBefore",void 0);mS([(0,xh.AsnProp)({type:xh.AsnPropTypes.Integer})],v2.prototype,"notAfter",void 0);Pa.EpochTimeValidity=v2;var _f=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(ff,"__esModule",{value:!0});ff.NFTOwnershipAttestation=ff.ERC721=void 0;const wi=Xt,vQ=Pa;class b0{}_f([(0,wi.AsnProp)({type:wi.AsnPropTypes.OctetString})],b0.prototype,"address",void 0);_f([(0,wi.AsnProp)({type:wi.AsnPropTypes.Integer})],b0.prototype,"chainId",void 0);_f([(0,wi.AsnProp)({type:wi.AsnPropTypes.OctetString,optional:!0,repeated:"sequence"})],b0.prototype,"tokenIds",void 0);ff.ERC721=b0;class m0{constructor(){this.tokens=[]}}_f([(0,wi.AsnProp)({type:wi.AsnPropTypes.Any})],m0.prototype,"subjectPublicKey",void 0);_f([(0,wi.AsnProp)({type:b0,repeated:"sequence"})],m0.prototype,"tokens",void 0);_f([(0,wi.AsnProp)({type:vQ.EpochTimeValidity})],m0.prototype,"validity",void 0);_f([(0,wi.AsnProp)({type:wi.AsnPropTypes.OctetString,optional:!0})],m0.prototype,"context",void 0);ff.NFTOwnershipAttestation=m0;var y0={},h1=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(y0,"__esModule",{value:!0});y0.EthereumAddressAttestation=void 0;const cf=Xt,bQ=Pa;class x0{}h1([(0,cf.AsnProp)({type:cf.AsnPropTypes.Any})],x0.prototype,"subjectPublicKey",void 0);h1([(0,cf.AsnProp)({type:cf.AsnPropTypes.OctetString})],x0.prototype,"ethereumAddress",void 0);h1([(0,cf.AsnProp)({type:bQ.EpochTimeValidity})],x0.prototype,"validity",void 0);h1([(0,cf.AsnProp)({type:cf.AsnPropTypes.OctetString,optional:!0})],x0.prototype,"context",void 0);y0.EthereumAddressAttestation=x0;var pl=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Do,"__esModule",{value:!0});Do.SignedLinkedAttestation=Do.LinkedAttestation=void 0;const fs=Xt,mQ=on,yQ=ff,xQ=y0;let Hc=class{};pl([(0,fs.AsnProp)({type:yQ.NFTOwnershipAttestation,context:0})],Hc.prototype,"nftOwnership",void 0);pl([(0,fs.AsnProp)({type:xQ.EthereumAddressAttestation,context:1})],Hc.prototype,"ethereumAddress",void 0);Hc=pl([(0,fs.AsnType)({type:fs.AsnTypeTypes.Choice})],Hc);Do.LinkedAttestation=Hc;class p1{}pl([(0,fs.AsnProp)({type:Hc})],p1.prototype,"attestation",void 0);pl([(0,fs.AsnProp)({type:mQ.AlgorithmIdentifierASN})],p1.prototype,"signingAlgorithm",void 0);pl([(0,fs.AsnProp)({type:fs.AsnPropTypes.BitString})],p1.prototype,"signatureValue",void 0);Do.SignedLinkedAttestation=p1;var lf={},Sf=gt&&gt.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(lf,"__esModule",{value:!0});lf.SignedEthereumKeyLinkingAttestation=lf.EthereumKeyLinkingAttestation=void 0;const Uo=Xt,wQ=Pa,AQ=on,EQ=Do;class gl{}Sf([(0,Uo.AsnProp)({type:Uo.AsnPropTypes.OctetString})],gl.prototype,"subjectEthereumAddress",void 0);Sf([(0,Uo.AsnProp)({type:EQ.SignedLinkedAttestation})],gl.prototype,"linkedAttestation",void 0);Sf([(0,Uo.AsnProp)({type:wQ.EpochTimeValidity})],gl.prototype,"validity",void 0);Sf([(0,Uo.AsnProp)({type:Uo.AsnPropTypes.OctetString,optional:!0})],gl.prototype,"context",void 0);lf.EthereumKeyLinkingAttestation=gl;class g1{}Sf([(0,Uo.AsnProp)({type:gl})],g1.prototype,"ethereumKeyLinkingAttestation",void 0);Sf([(0,Uo.AsnProp)({type:AQ.AlgorithmIdentifierASN})],g1.prototype,"signingAlgorithm",void 0);Sf([(0,Uo.AsnProp)({type:Uo.AsnPropTypes.BitString})],g1.prototype,"signatureValue",void 0);lf.SignedEthereumKeyLinkingAttestation=g1;var v1={},w0={};Object.defineProperty(w0,"__esModule",{value:!0});w0.AbstractLinkedAttestation=void 0;const fd=Xt,_Q=Do,cd=Yt(),Fv=Hp,SQ=on;class TQ{fromObject(e){this.linkedAttestation=e}fromBytes(e){this.linkedAttestation=fd.AsnParser.parse(e,_Q.SignedLinkedAttestation)}fromBase64(e){this.fromBytes((0,cd.base64ToUint8array)(e))}getAttestationData(){return this.linkedAttestation.attestation[this.TYPE]}getSubjectPublicKey(){return this.getAttestationData().subjectPublicKey}getEncoded(){return new Uint8Array(fd.AsnSerializer.serialize(this.linkedAttestation))}getBase64(){return(0,cd.uint8arrayToBase64)(this.getEncoded())}sign(e){const t=fd.AsnSerializer.serialize(this.linkedAttestation.attestation[this.TYPE]);this.linkedAttestation.signingAlgorithm=new SQ.AlgorithmIdentifierASN,this.linkedAttestation.signingAlgorithm.algorithm="1.2.840.10045.4.2",this.linkedAttestation.signatureValue=(0,cd.hexStringToUint8)(e.signRawBytesWithEthereum(Array.from(new Uint8Array(t))))}verify(e){const t=fd.AsnSerializer.serialize(this.getAttestationData());let n=(0,cd.hexStringToUint8)(Fv.ethers.utils.keccak256(new Uint8Array(t))),o=Fv.ethers.utils.recoverPublicKey(n,Fv.ethers.utils.splitSignature(new Uint8Array(this.linkedAttestation.signatureValue)));if(o.substring(2)!==e.getPublicKeyAsHexStr())throw new Error("Attestor public key does not match, expected "+e.getPublicKeyAsHexStr()+" got "+o.substring(2));let i=Math.round(Date.now()/1e3),a=this.getAttestationData();if(a.validity.notBefore>i)throw new Error("Linked attestation is not yet valid");if(a.validity.notAfter<i)throw new Error("Linked attestation has expired")}}w0.AbstractLinkedAttestation=TQ;Object.defineProperty(v1,"__esModule",{value:!0});v1.EthereumAddressAttestation=void 0;const kQ=w0,g8=Do,CQ=y0,MQ=Pa,IQ=Yt();class PQ extends kQ.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="ethereumAddress"}create(e,t,n,o,i,a){this.linkedAttestation=new g8.SignedLinkedAttestation,this.linkedAttestation.attestation=new g8.LinkedAttestation,this.linkedAttestation.attestation.ethereumAddress=new CQ.EthereumAddressAttestation,this.linkedAttestation.attestation.ethereumAddress.subjectPublicKey=e,a||(a=Math.round(Date.now()/1e3));const s=a+o;this.linkedAttestation.attestation.ethereumAddress.validity=new MQ.EpochTimeValidity,this.linkedAttestation.attestation.ethereumAddress.validity.notBefore=a,this.linkedAttestation.attestation.ethereumAddress.validity.notAfter=s,this.linkedAttestation.attestation.ethereumAddress.ethereumAddress=(0,IQ.hexStringToUint8)(t),i&&(this.linkedAttestation.attestation.ethereumAddress.context=i),this.sign(n)}}v1.EthereumAddressAttestation=PQ;var b1={};Object.defineProperty(b1,"__esModule",{value:!0});b1.NFTOwnershipAttestation=void 0;const BQ=w0,v8=Do,b8=ff,RQ=Pa,m8=Yt();class OQ extends BQ.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="nftOwnership"}create(e,t,n,o,i,a){this.linkedAttestation=new v8.SignedLinkedAttestation,this.linkedAttestation.attestation=new v8.LinkedAttestation,this.linkedAttestation.attestation.nftOwnership=new b8.NFTOwnershipAttestation,this.linkedAttestation.attestation.nftOwnership.subjectPublicKey=e,a||(a=Math.round(Date.now()/1e3));const s=a+o;this.linkedAttestation.attestation.nftOwnership.validity=new RQ.EpochTimeValidity,this.linkedAttestation.attestation.nftOwnership.validity.notBefore=a,this.linkedAttestation.attestation.nftOwnership.validity.notAfter=s;for(let c of t){let f=new b8.ERC721;if(f.address=(0,m8.hexStringToUint8)(c.address),f.chainId=c.chainId,c.tokenIds){f.tokenIds=[];for(let u of c.tokenIds)f.tokenIds.push((0,m8.bnToUint8)(u))}this.linkedAttestation.attestation.nftOwnership.tokens.push(f)}i&&(this.linkedAttestation.attestation.nftOwnership.context=i),this.sign(n)}}b1.NFTOwnershipAttestation=OQ;Object.defineProperty(g2,"__esModule",{value:!0});var yS=g2.EthereumKeyLinkingAttestation=void 0;const NQ=Do,y8=lf,jl=Xt,ld=Yt(),LQ=Pa,DQ=lf,UQ=on,FQ=v1,HQ=b1,Hv=d1,Vv="RSASSA-PKCS1-v1_5";class VQ{create(e,t,n,o,i){let a=jl.AsnParser.parse((0,ld.base64ToUint8array)(e),NQ.SignedLinkedAttestation);this.linkAttest=new y8.SignedEthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation=new DQ.EthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation.subjectEthereumAddress=(0,ld.hexStringToUint8)(t),this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation=a,i||(i=Math.round(Date.now()/1e3));const s=i+n;this.linkAttest.ethereumKeyLinkingAttestation.validity=new LQ.EpochTimeValidity,this.linkAttest.ethereumKeyLinkingAttestation.validity.notBefore=i,this.linkAttest.ethereumKeyLinkingAttestation.validity.notAfter=s,o||(this.linkAttest.ethereumKeyLinkingAttestation.context=o)}async sign(e){const t=jl.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),n=await Hv.default.sign({name:Vv,saltLength:128},e,t);this.linkAttest.signingAlgorithm=new UQ.AlgorithmIdentifierASN,this.linkAttest.signingAlgorithm.algorithm="1.2.840.113549.1.1.11",this.linkAttest.signatureValue=new Uint8Array(n)}fromBytes(e){this.linkAttest=jl.AsnParser.parse(e,y8.SignedEthereumKeyLinkingAttestation)}fromBase64(e){this.fromBytes((0,ld.base64ToUint8array)(e))}getEncoded(){return new Uint8Array(jl.AsnSerializer.serialize(this.linkAttest))}getBase64(){return(0,ld.uint8arrayToBase64)(this.getEncoded())}getAttestation(){return this.linkAttest}getSignedLinkedAttestation(){return this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation}getLinkedAttestationData(){const e=this.getSignedLinkedAttestation();return e.attestation.ethereumAddress??e.attestation.nftOwnership}getLinkedAttestationObject(){const e=this.getSignedLinkedAttestation();let t;return e.attestation.ethereumAddress?(t=new FQ.EthereumAddressAttestation,t.fromObject(e)):(t=new HQ.NFTOwnershipAttestation,t.fromObject(e)),t}async verify(e){let t=this.getLinkedAttestationObject();t.verify(e);let n=t.getSubjectPublicKey();const o=jl.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),i=await Hv.default.importKey("spki",new Uint8Array(n),{name:Vv,hash:{name:"SHA-256"}},!0,["verify"]);if(!await Hv.default.verify({name:Vv,saltLength:128},i,this.linkAttest.signatureValue,o))throw new Error("Signature verification failed");let s=Math.round(Date.now()/1e3),c=this.linkAttest.ethereumKeyLinkingAttestation;if(c.validity.notBefore>s)throw new Error("Linked attestation is not yet valid");if(c.validity.notAfter<s)throw new Error("Linked attestation has expired")}}yS=g2.EthereumKeyLinkingAttestation=VQ;var Hf=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},Vf=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Wf=function(){function r(){}return r.getLinkPrivateKey=function(){return Hf(this,void 0,void 0,function(){var e;return Vf(this,function(t){switch(t.label){case 0:return[4,r.keyStore.getOrCreateKey(r.HOLDING_KEY_ALGORITHM)];case 1:return e=t.sent(),[2,e.attestHoldingKey.privateKey]}})})},r.getLinkPublicKey=function(){return Hf(this,void 0,void 0,function(){var e;return Vf(this,function(t){switch(t.label){case 0:return[4,r.keyStore.getOrCreateKey(r.HOLDING_KEY_ALGORITHM)];case 1:return e=t.sent(),[2,gQ.uint8tohex(e.holdingPubKey)]}})})},r.getChallenge=function(e,t){return Hf(this,void 0,void 0,function(){var n;return Vf(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.apiRequest(e,"POST","get-challenge",{address:t})];case 1:return[2,o.sent()];case 2:throw n=o.sent(),new Error("Failed to get address challenge: "+n.message);case 3:return[2]}})})},r.getAttestation=function(e,t){return Hf(this,void 0,void 0,function(){var n;return Vf(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.apiRequest(e,"POST","issue-attestation",t)];case 1:return[2,o.sent()];case 2:throw n=o.sent(),new Error("Failed to get address attestation: "+n.message);case 3:return[2]}})})},r.apiRequest=function(e,t,n,o){return Hf(this,void 0,void 0,function(){var i,a;return Vf(this,function(s){switch(s.label){case 0:return[4,fetch(e+"api/"+n,{method:t,body:JSON.stringify(o),credentials:"include",headers:{"Content-Type":"application/json"}})];case 1:if(i=s.sent(),!(i.status>299||i.status<200))return[3,6];a=void 0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,i.json()];case 3:return a=s.sent().error,[3,5];case 4:return s.sent(),a="HTTP Request error: "+i.statusText,[3,5];case 5:throw new Error(a);case 6:return[4,i.json()];case 7:return[2,s.sent()]}})})},r.createAndSignLinkAttestation=function(e,t,n){return Hf(this,void 0,void 0,function(){var o;return Vf(this,function(i){switch(i.label){case 0:return o=new yS,o.create(e,t,3600+600,void 0,Math.round(Date.now()/1e3)-600),[4,o.sign(n)];case 1:return i.sent(),[2,o.getBase64()]}})})},r.HOLDING_KEY_ALGORITHM="RSASSA-PKCS1-v1_5",r.keyStore=new p2,r}(),jQ=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kb=globalThis&&globalThis.__assign||function(){return Kb=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Kb.apply(this,arguments)},GQ=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},zQ=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},qQ=function(r){jQ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="attestedAddress",t}return e.prototype.getTokenProof=function(t,n,o){var i,a;return GQ(this,void 0,void 0,function(){var s,c,f,u,h,w,T,I,R,P,B,O,H;return zQ(this,function($){switch($.label){case 0:return[4,this.client.getWalletProvider()];case 1:if(s=$.sent(),!s.safeConnectAvailable())throw new Error("Safe connect is not available");if(!t.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");if(!(!((i=o.options)===null||i===void 0)&&i.address))throw new Error("Address attestation requires a secondary address.");return c=s.getConnectedWalletData()[0],f=this.getSavedProof(c.address),((a=f?.data)===null||a===void 0?void 0:a.expiry)<Date.now()&&(this.deleteProof(c.address),f=null),f?[3,9]:c.provider instanceof m1?[4,c.provider.initSafeConnect()]:[3,3];case 2:return $.sent(),f=this.getSavedProof(c.address),[3,8];case 3:return[4,Wf.getChallenge(s.safeConnectOptions.url,c.address)];case 4:return u=$.sent(),[4,s.signMessage(c.address,u.messageToSign)];case 5:return h=$.sent(),H={type:"address_attest"},[4,Wf.getLinkPublicKey()];case 6:return w=(H.subject=$.sent(),H.address=c.address,H.signature=h,H),[4,Wf.getAttestation(s.safeConnectOptions.url,w)];case 7:T=$.sent(),f={type:this.TYPE,data:Kb({expiry:T.expiry},T.data),target:{address:T.data.address}},this.saveProof(T.data.address,f),$.label=8;case 8:if(!f)throw new Error("Could not get address attestation from safe connect");$.label=9;case 9:return I=f.data.attestation,R=f.data,B=(P=Wf).createAndSignLinkAttestation,O=[I,o.options.address],[4,Wf.getLinkPrivateKey()];case 10:return[4,B.apply(P,O.concat([$.sent()]))];case 11:return R.attestation=$.sent(),[2,f]}})})},e}(u1),KQ=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$Q=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},WQ=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},QQ=function(r){KQ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="scChallenge",t}return e.prototype.getTokenProof=function(t,n,o){return $Q(this,void 0,void 0,function(){var i,a,s,c,f;return WQ(this,function(u){switch(u.label){case 0:return[4,this.client.getWalletProvider()];case 1:if(i=u.sent(),!i.safeConnectAvailable())throw new Error("Safe connect is not available");if(!t.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");return a=i.getConnectedWalletData()[0].address,s=this.getSavedProof(a),s.data.expiry<Date.now()&&(this.deleteProof(a),s=null),[4,i.getSafeConnectProvider()];case 2:return c=u.sent(),s?[3,5]:(f=i.getConnectedWalletData()[0].provider,f instanceof m1?[4,c.initSafeConnect()]:[3,4]);case 3:if(u.sent(),s=this.getSavedProof(a),!s)throw new Error("Could not get proof from safe connect");return[3,5];case 4:throw new Error("Only safe connect supports this authentication type at this time");case 5:return[2,s]}})})},e}(u1),$b=globalThis&&globalThis.__assign||function(){return $b=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},$b.apply(this,arguments)},jv=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},Gv=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Nu;(function(r){r.CONNECT="connect",r.NEW_CHALLENGE="new_challenge"})(Nu||(Nu={}));var m1=function(){function r(e,t){this.keyStore=new p2,this.messaging=new zm,this.ui=e,this.options=t}return r.prototype.initSafeConnect=function(){var e;return jv(this,void 0,void 0,function(){var t,n,o,i,a;return Gv(this,function(s){switch(s.label){case 0:return o=(n=this.messaging).sendMessage,a={action:Nu.CONNECT,origin:this.options.url,timeout:0},[4,this.getInitialProofRequest()];case 1:return[4,o.apply(n,[(a.data=s.sent(),a),!0,this.ui])];case 2:return t=s.sent(),t?this.options.initialProof?(i=t.data,this.processProofResult(i),[2,(e=i.data)===null||e===void 0?void 0:e.address]):[2,t.data.address]:[2]}})})},r.prototype.processProofResult=function(e){var t,n;switch(this.options.initialProof){case"address_attest":t=new qQ,n={type:t.TYPE,data:$b({expiry:e.expiry},e.data),target:{address:e.data.address}},t.saveProof(e.data.address,n);break;case"simple_challenge":t=new QQ,n={type:t.TYPE,data:e.data,target:{address:e.data.address}};break}t.saveProof(e.data.address,n)},r.prototype.getInitialProofRequest=function(){return jv(this,void 0,void 0,function(){var e,t;return Gv(this,function(n){switch(n.label){case 0:return e={},this.options.initialProof?(e.type=this.options.initialProof,this.options.initialProof==="simple_challenge"?[3,2]:(t=e,[4,Wf.getLinkPublicKey()])):[2];case 1:t.subject=n.sent(),n.label=2;case 2:return[2,e]}})})},r.prototype.signUNChallenge=function(e){return jv(this,void 0,void 0,function(){var t;return Gv(this,function(n){switch(n.label){case 0:return[4,this.messaging.sendMessage({action:Nu.CONNECT,origin:this.options.url,timeout:0,data:{type:"signed_un",un:encodeURIComponent(JSON.stringify(e))}},!0,this.ui)];case 1:return t=n.sent(),t?[2,t.data.data.signature]:[2]}})})},r}();const cZ=Object.freeze(Object.defineProperty({__proto__:null,get SafeConnectAction(){return Nu},SafeConnectProvider:m1},Symbol.toStringTag,{value:"Module"}));var x8=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},w8=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},zv=function(){function r(){}return r.getNewUN=function(e){return x8(this,void 0,void 0,function(){var t,n;return w8(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch(e)];case 1:return t=o.sent(),[4,t.json()];case 2:return[2,o.sent()];case 3:throw n=o.sent(),new Error("Failed to fetch UN challenge: "+n.message);case 4:return[2]}})})},r.recoverAddress=function(e){if(!e.signature)throw new Error("Null signature");var t=$u(e.messageToSign),n=_e(t);return gf(n,e.signature).toLowerCase()},r.validateChallenge=function(e,t){return x8(this,void 0,void 0,function(){var n,o;return w8(this,function(i){switch(i.label){case 0:return[4,fetch(e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)})];case 1:return n=i.sent(),[4,n.json()];case 2:return o=i.sent(),[2,o.address]}})})},r}(),JQ=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YQ=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},ZQ=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},xS=function(r){JQ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="signedUN",t}return e.prototype.getTokenProof=function(t,n,o){var i,a;return YQ(this,void 0,void 0,function(){var s,c,f,u,h,w,T,I,R;return ZQ(this,function(P){switch(P.label){case 0:return[4,this.client.getWalletProvider()];case 1:if(s=P.sent(),s.getConnectedWalletData().length===0)throw new Error("WALLET_REQUIRED");return c=s.getConnectedWalletData()[0].address,f=this.getSavedProof(c),f&&(u=f?.data,(u.expiration<Date.now()||zv.recoverAddress(u)!==c.toLowerCase())&&(this.deleteProof(c),f=null)),f?[3,7]:(h=s.getWalletProvider(c),f={type:this.TYPE,data:{},target:{address:c}},w=(a=(i=o.options)===null||i===void 0?void 0:i.unEndPoint)!==null&&a!==void 0?a:e.DEFAULT_ENDPOINT,[4,zv.getNewUN(w)]);case 2:return T=P.sent(),I=void 0,h instanceof m1?[4,h.signUNChallenge(T)]:[3,4];case 3:return I=P.sent(),[3,6];case 4:return[4,s.signMessage(c,T.messageToSign)];case 5:I=P.sent(),P.label=6;case 6:if(T.signature=I,R=zv.recoverAddress(T),R!==c.toLowerCase())throw new Error("Address signature is invalid");T.address=R,f.data=T,this.saveProof(c,f),P.label=7;case 7:return[2,f]}})})},e.DEFAULT_ENDPOINT="https://attestation-verify.tokenscript.org/un",e}(u1),Wb=globalThis&&globalThis.__assign||function(){return Wb=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Wb.apply(this,arguments)},XQ=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},eJ=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},wS=function(r,e){e===void 0&&(e={});var t=[];if(r.length&&typeof e=="object"&&Object.keys(e).length){var n=Object.keys(e);return r.forEach(function(o){var i=1;n.forEach(function(a){o[a]&&o[a].toString()!==e[a].toString()&&(i=0)}),i&&t.push(o)}),t}else return r},AS=function(r){var e=localStorage.getItem(r),t=[],n={tokens:[],noTokens:!0,success:!0};try{e&&e.length&&(t=JSON.parse(e),t.length!==0&&t.forEach(function(o){o.token&&o.secret&&n.tokens.push(o)}),n.tokens.length&&(n.noTokens=!1))}catch{n.success=!1}return n},ES=function(r,e,t,n){n===void 0&&(n=!1);var o=JSON.parse(r);return o.length?o.map(function(i){if(i.token)return Qb(i,e,t,n)}):[]},Qb=function(r,e,t,n){if(n===void 0&&(n=!1),r.token){var o=new e(b5(r.token).buffer);if(o&&o[t]){var i=o[t];return i=_S(i),n?Wb({signedToken:r.token},i):i}}};function _S(r){return Object.keys(r).forEach(function(e){r[e]instanceof ArrayBuffer&&(r[e]=Array.from(new Uint8Array(r[e])))}),r}var tJ=function(r,e){r&&localStorage.setItem(e,JSON.stringify(r))},rJ=function(r,e,t,n){n===void 0&&(n=null),n===null&&(n=new URLSearchParams(window.location.search));var o=n.get(r),i=n.get(e),a=n.get(t),s=a||"";if(!(o&&i))throw new Error("Incomplete token params in URL.");return{token:o,secret:i,id:decodeURIComponent(s),magic_link:window.location.href}},Jb=function(r,e){return XQ(void 0,void 0,void 0,function(){var t,n,o,i;return eJ(this,function(a){return t=nJ(r,e),t?(n=t.token,o=t.secret,i={ticketBlob:n,ticketSecret:o,attestationOrigin:e.attestationOrigin},t&&t.id&&(i.email=t.id),t&&t.magic_link&&(i.magicLink=t.magic_link),e.attestationInTab&&(i.attestationInTab=!0),[2,i]):[2,null]})})},nJ=function(r,e){if(!(!r||!Object.keys(r).length)){var t=AS(e.itemStorageKey);if(t.success&&!t.noTokens){var n=t.tokens,o={};return n.length&&n.forEach(function(i){if(i.token){var a=e.tokenParser,s=new a(b5(i.token).buffer);if(s&&s[e.unsignedTokenDataName]){var c=s[e.unsignedTokenDataName];c=_S(c),VL(c,r)&&(o=i)}}}),o}return null}},A8=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},E8=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Cd=function(){function r(e,t,n,o,i,a,s,c){this.tokenDef=n,this.tokenObj=o,this.address=i,this.wallet=a,this.redirectUrl=s,this.unsignedToken=c,this.buttonOverlay=null,this.tryingToGetAttestationInBackground=!1,this.iframe=null,this.iframeWrap=null,this.attestationBlob=null,this.attestationSecret=null,this.wrapperBase="tn_attestation_open",this.interval=null,this.outlet=e,this.evtid=t,this.base64senderPublicKeys=n.base64senderPublicKeys,this.base64attestorPubKey=n.base64attestorPubKey,this.signedTokenBlob=o.ticketBlob,this.magicLink=o.magicLink,this.email=o.email,this.signedTokenSecret=o.ticketSecret,this.attestationOrigin=o.attestationOrigin,this.attestationInTab=o.attestationInTab}return r.prototype.openAttestationApp=function(){var e=this;if(this.attestationInTab&&!this.tryingToGetAttestationInBackground){qe(2,"display new TAB to attest, ask parent to show current iframe"),this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:fa.SHOW_FRAME,max_width:"500px",min_height:"300px"});var t;t=document.createElement("div"),t.classList.add(this.wrapperBase+"_btn"),t.innerHTML="Click to get Email Attestation",t.addEventListener("click",function(){e.attestationTabHandler=window.open(e.attestationOrigin,"Attestation"),t.remove();var i=e.buttonOverlay.querySelector("."+e.wrapperBase+"_title"),a=e.buttonOverlay.querySelector("."+e.wrapperBase+"_subtitle");i&&(i.innerHTML="Email Attestation verification in progress"),a&&(a.innerHTML="Please complete the verification process to continue"),e.interval=setInterval(function(){e.attestationTabHandler.closed&&(console.log("child tab closed... "),clearInterval(e.interval),e.rejectHandler(new Error("User closed TAB")))},2e3)});var n=this.wrapperBase+"_wrap_"+Date.now(),o=document.createElement("style");o.innerHTML=`
				#`.concat(n,` {
					width:100%;
					height: 100vh; 
					position: fixed; 
					align-items: center; 
					justify-content: center;
					display: flex;
					top: 0; 
					left: 0; 
					background: #000f;
					display: flex;
					flex-direction: column;
					padding: 30px;
				}
				#`).concat(n,` div:hover {
					box-shadow: 0 0px 14px #ffff !important;
				}
				#`).concat(n," .").concat(this.wrapperBase,`_content {
					color: #fff; 
					text-align: center;
				}
				#`).concat(n," .").concat(this.wrapperBase,`_title {
					
				}
				
				#`).concat(n," .").concat(this.wrapperBase,`_subtitle {
					font-size:18px;
					color: #ccc;
				}
				#`).concat(n," .").concat(this.wrapperBase,`_btn {
					margin: 20px auto 0;
					padding: 5px 15px;
					background: #0219fa;
					font-weight: 700;
					font-size: 20px;
					line-height: 1.3;
					border-radius: 100px;
					color: #fff;
					cursor: pointer;
					display: block;
					text-align: center;
				}

				@media (max-width: 768px){
					#`).concat(n,` {
						padding: 20px 10px;
					}
					#`).concat(n," .").concat(this.wrapperBase,`_title {
						font-size: 24px;
					}
					#`).concat(n," .").concat(this.wrapperBase,`_btn {
						padding: 10px 15px;
						font-size: 18px;
					}
				}
			`),this.buttonOverlay=document.createElement("div"),this.buttonOverlay.id=n,this.buttonOverlay.innerHTML='<h1 class="'.concat(this.wrapperBase,"_content ").concat(this.wrapperBase,'_title">Needs email attestation to complete verification.</h1><p class="').concat(this.wrapperBase,"_content ").concat(this.wrapperBase,'_subtitle"></p>'),this.buttonOverlay.appendChild(t),this.buttonOverlay.appendChild(o),document.body.appendChild(this.buttonOverlay)}else qe(2,"open attestation in iframe"),this.createIframe()},r.prototype.authenticate=function(){var e=this;return new Promise(function(t,n){if(e.rejectHandler=n,e.redirectUrl){var o=new URLSearchParams(document.location.hash.substring(1)),i=new URLSearchParams;i.set("email",e.email),i.set("address",e.address),i.set("wallet",e.wallet);var a=new URL(e.redirectUrl),s=Gm(new URLSearchParams(a.hash.substring(1)));s.set(Kt+"action",vi.EMAIL_ATTEST_CALLBACK),s.set(Kt+"issuer",e.tokenDef.collectionID),s.set(Kt+"token",JSON.stringify(e.unsignedToken));var c=o.get(Kt+"requestor");c&&s.set(Kt+"requestor",c),a.hash=s.toString(),i.set("email-attestation-callback",a.href);var f="".concat(e.attestationOrigin,"#").concat(i.toString());qe(2,"authenticate. go to: ",f),document.location.href=f;return}if(e.attestationInTab&&!Gh()&&(e.tryingToGetAttestationInBackground=!0),!e.attestationOrigin)return n(new Error("Attestation origin is null"));window.addEventListener("message",function(u){if(!!e.attestationOrigin){var h=new URL(e.attestationOrigin);u.origin===h.origin&&(e.iframe&&e.iframeWrap&&e.iframe.contentWindow||e.attestationTabHandler)&&e.postMessageAttestationListener(u,t,n)}}),e.openAttestationApp(n)})},r.prototype.createIframe=function(){var e,t=document.createElement("iframe");t.setAttribute("allow","clipboard-read"),this.iframe=t,t.src=(e=this.attestationOrigin)!==null&&e!==void 0?e:"",t.style.width="800px",t.style.height="800px",t.style.maxWidth="100%",t.style.background="#fff";var n=document.createElement("div");this.iframeWrap=n,n.setAttribute("style","width:101%;min-height: 100vh; position: fixed; align-items: center; justify-content: center;display: none;top: 0; left: 0; background: #fffa"),n.appendChild(t),document.body.appendChild(n)},r.prototype.getUseToken=function(e,t){return A8(this,void 0,void 0,function(){var n,o;return E8(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),!this.signedTokenSecret)throw new Error("signedTokenSecret required");if(!t)throw new Error("attestationSecret required");if(!this.signedTokenBlob)throw new Error("signedTokenBlob required");if(!e)throw new Error("attestationBlob required");if(!this.base64attestorPubKey)throw new Error("base64attestorPubKey required");if(!this.base64senderPublicKeys)throw new Error("base64senderPublicKeys required");return[4,fp.Authenticator.getUseTicket(this.signedTokenSecret,t,this.signedTokenBlob,e,this.base64attestorPubKey,this.base64senderPublicKeys)];case 1:if(n=i.sent(),n)return qe(2,"this.authResultCallback( useToken ): "),this.buttonOverlay&&this.buttonOverlay.remove(),[2,n];throw qe(2,"this.authResultCallback( empty ): "),new Error("Empty useToken");case 2:throw o=i.sent(),qe(2,"UseDevconTicket failed.",o.message),qe(3,o),this.buttonOverlay&&this.buttonOverlay.remove(),new Error("Failed to create UseTicket. "+o.message);case 3:return[2]}})})},r.prototype.postMessageAttestationListener=function(e,t,n){var o,i,a,s;return A8(this,void 0,void 0,function(){var c,f,u;return E8(this,function(h){if(qe(2,"postMessageAttestationListener event (auth-handler)",e.data),c=this.attestationTabHandler?this.attestationTabHandler:this.iframe.contentWindow,typeof e.data.ready<"u"&&e.data.ready===!0)return f={force:!1},this.email&&(f.email=this.email),this.wallet&&(f.wallet=this.wallet),this.address&&(f.address=this.address),c.postMessage(f,this.attestationOrigin),[2];if(typeof e.data.display<"u")if(e.data.display===!0){if(this.iframeWrap){if(this.tryingToGetAttestationInBackground)return this.tryingToGetAttestationInBackground=!1,this.iframe.remove(),this.iframeWrap.remove(),this.openAttestationApp(),[2];this.iframeWrap.style.display="flex",this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:fa.SHOW_FRAME})}}else e.data.error&&(qe(2,"Error received from the iframe: "+e.data.error),n(new Error(e.data.error)),this.buttonOverlay&&this.buttonOverlay.remove()),this.iframeWrap&&(this.iframeWrap.style.display="none");if(!(!((o=e.data)===null||o===void 0)&&o.attestation)||!(!((i=e.data)===null||i===void 0)&&i.requestSecret))return[2];this.attestationTabHandler&&this.attestationTabHandler.close(),this.iframeWrap&&this.iframeWrap.remove(),this.attestationBlob=(a=e.data)===null||a===void 0?void 0:a.attestation,this.attestationSecret=(s=e.data)===null||s===void 0?void 0:s.requestSecret;try{u=this.getUseToken(this.attestationBlob,this.attestationSecret),t(u)}catch(w){n(w)}return[2]})})},r}(),Gl=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},zl=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},iJ=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oJ=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return i},SS={tokenUrlName:"ticket",tokenSecretName:"secret",tokenIdName:"id",unsignedTokenDataName:"ticket",itemStorageKey:"dcTokens",signedTokenWhitelist:[],whitelistDialogWidth:"450px",whitelistDialogHeight:"350px"},TS=function(){function r(e){var t=zy.parse(HL(e),lS);this.ticket=t.ticket,qe(3,this.ticket)}return r}(),_8=function(){function r(e,t,n){if(t===void 0&&(t=!1),n===void 0&&(n=null),this.singleUse=!1,this.tokenConfig=Object.assign(SS,e),this.singleUse=t,this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=TS),this.tokenConfig.signedTokenWhitelist=this.tokenConfig.signedTokenWhitelist.map(function(i){try{return new URL(i).origin}catch(a){qe(2,"Failed to validate whitelist origin: "+a.message)}}),n)this.urlParams=n;else{var o=window.location.hash.length>1?"?"+window.location.hash.substring(1):window.location.search;this.urlParams=new URLSearchParams(o)}this.singleUse||this.pageOnLoadEventHandler()}return r.prototype.getDataFromQuery=function(e,t){return t===void 0&&(t=!0),e=(t?Kt:"")+e,this.urlParams?this.urlParams.get(e):""},r.prototype.getFilter=function(){var e=this.getDataFromQuery("filter");return e?JSON.parse(e):{}},r.prototype.pageOnLoadEventHandler=function(){var e;return Gl(this,void 0,void 0,function(){var t,n,o,i,a,s,c,f,$,u,h,w,T,I,R,P,B,O,H,$,J,ie,we;return zl(this,function(de){switch(de.label){case 0:t=this.getDataFromQuery("evtid"),n=this.getDataFromQuery("action"),o=this.getDataFromQuery("access"),i=this.getDataFromQuery("requestor"),i&&(this.redirectCallbackUrl=new URL(i)),qe(2,"Outlet received event ID "+t+" action "+n+" at "+document.location.href),de.label=1;case 1:switch(de.trys.push([1,16,,17]),a=n,a){case vi.GET_ISSUER_TOKENS:return[3,2];case vi.EMAIL_ATTEST_CALLBACK:return[3,4];case vi.GET_PROOF:return[3,10]}return[3,11];case 2:return[4,this.whitelistCheck(t,o==="write"?"write":"read")];case 3:return de.sent(),this.sendTokens(t),[3,15];case 4:s=this.redirectCallbackUrl,c=this.getDataFromQuery("issuer"),de.label=5;case 5:return de.trys.push([5,8,,9]),f=this.getDataFromQuery("token"),$=JSON.parse(f),u=this.getDataFromQuery("attestation",!1),h="0x"+this.getDataFromQuery("requestSecret",!1),T=Cd.bind,I=[void 0,this,t,this.tokenConfig],[4,Jb($,this.tokenConfig)];case 6:return w=new(T.apply(Cd,I.concat([de.sent(),null,null,!1]))),[4,w.getUseToken(u,h)];case 7:return R=de.sent(),s?(P=new URLSearchParams(s.hash.substring(1)),P.set(Kt+"action","proof-callback"),P.set(Kt+"issuer",c),P.set(Kt+"attestation",R),P.delete("email"),P.delete("#email"),B=new r(this.tokenConfig,!0),O=B.prepareTokenOutput({}),qe(2,"issuerTokens: ",O),P.set(Kt+"tokens",JSON.stringify(O)),s.hash=P.toString(),console.log("urlToRedirect from OutletAction.EMAIL_ATTEST_CALLBACK: ",s.href),document.location.href=s.href,[2]):(this.dispatchAuthCallbackEvent(c,R,null),[3,9]);case 8:return H=de.sent(),s?[2,this.proofRedirectError(c,H.message)]:(this.dispatchAuthCallbackEvent(c,null,H.message),[3,9]);case 9:return document.location.hash=Gm(this.urlParams,["attestation","requestSecret","address","wallet"]).toString(),[3,15];case 10:return $=this.getDataFromQuery("token"),J=this.getDataFromQuery("wallet"),ie=this.getDataFromQuery("address"),Bs($,"unsigned token is missing"),this.sendTokenProof(t,$,ie,J),[3,15];case 11:return this.singleUse?[3,14]:[4,this.whitelistCheck(t,"write")];case 12:return de.sent(),[4,this.readMagicLink()];case 13:de.sent(),this.sendTokens(t),de.label=14;case 14:return[3,15];case 15:return[3,17];case 16:return we=de.sent(),console.error(we),this.sendErrorResponse(t,(e=we?.message)!==null&&e!==void 0?e:we,this.getDataFromQuery("issuer")),[3,17];case 17:return[2]}})})},r.prototype.readMagicLink=function(){return Gl(this,void 0,void 0,function(){var e,t,n,o,i,a,s,c,f;return zl(this,function(u){e=this.tokenConfig,t=e.tokenUrlName,n=e.tokenSecretName,o=e.tokenIdName,i=e.itemStorageKey;try{a=rJ(t,n,o,this.urlParams),s=AS(i),c=this.mergeNewToken(a,s.tokens),c!==!1&&tJ(c,i),f=new Event("tokensupdated"),document.body.dispatchEvent(f)}catch{}return[2]})})},r.prototype.mergeNewToken=function(e,t){var n,o,i=Qb(e,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!1),a=this.getUniqueTokenId(i);try{for(var s=iJ(t.entries()),c=s.next();!c.done;c=s.next()){var f=oJ(c.value,2),u=f[0],h=f[1];if(h.token===e.token)return!1;var w=Qb(h,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!1),T=this.getUniqueTokenId(w);if(a===T)return t[u]=e,t}}catch(I){n={error:I}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return t.push(e),t},r.prototype.getUniqueTokenId=function(e){var t;return"".concat(e.devconId,"-").concat((t=e.ticketIdNumber)!==null&&t!==void 0?t:e.ticketIdString)},r.prototype.dispatchAuthCallbackEvent=function(e,t,n){var o=new CustomEvent("auth-callback",{detail:{proof:t,issuer:e,error:n}});window.dispatchEvent(o)},r.prototype.whitelistCheck=function(e,t){var n;return Gl(this,void 0,void 0,function(){var o,i,a,s=this;return zl(this,function(c){return!window.parent&&!window.opener||!document.referrer?[2]:(o=new URL(document.referrer).origin,o===document.location.origin?[2]:(i=(n=JSON.parse(localStorage.getItem("tn-whitelist")))!==null&&n!==void 0?n:{},a=this.tokenConfig.signedTokenWhitelist.indexOf(o)===-1&&(!i[o]||i[o].type==="read"&&t==="write"),a?[2,new Promise(function(f,u){var h=t==="read"?"read":"read & write",w="".concat(o," is requesting ").concat(h," access to your ").concat(s.tokenConfig.title," tickets"),T='<button id="tn-access-accept">Accept</button>',I='<button id="tn-access-deny">Deny</button>',R=s.tokenConfig.whitelistDialogRenderer?s.tokenConfig.whitelistDialogRenderer(w,T,I):`
						<div style="font-family: sans-serif; text-align: center; position: absolute; width: 100vw; min-height: 100vh;top: 0;
						left: 0;
						background: #0C0A50;
						z-index: 99999;
						display: flex;
						flex-direction: column;
						justify-content: center;
						align-items: center;
						color: #fff;
						padding: 30px;
						font-size: 24px;
						line-height: 1.2;">
							<p>`.concat(w,`</p>
							<div>
							`).concat(T,`
							`).concat(I,`
							</div>
						</div>
					`);document.body.insertAdjacentHTML("beforeend",R),document.getElementById("tn-access-accept").addEventListener("click",function(){return Gl(s,void 0,void 0,function(){return zl(this,function(P){return(!i[o]||t!==i[o].type)&&(i[o]={type:t},localStorage.setItem("tn-whitelist",JSON.stringify(i))),f(),[2]})})}),document.getElementById("tn-access-deny").addEventListener("click",function(){u("USER_ABORT")}),s.sendMessageResponse({evtid:e,evt:fa.SHOW_FRAME,max_width:s.tokenConfig.whitelistDialogWidth,min_height:s.tokenConfig.whitelistDialogHeight})})]:[2]))})})},r.prototype.prepareTokenOutput=function(e){var t,n=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!n)return[];var o=!1;((t=this.tokenConfig.signedTokenWhitelist)===null||t===void 0?void 0:t.length)&&this.tokenConfig.signedTokenWhitelist.indexOf(this.getRequestOrigin())>-1&&(o=!0);var i=ES(n,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,o);return wS(i,e)},r.prototype.sendTokenProof=function(e,t,n,o){return Gl(this,void 0,void 0,function(){var i,a,s,c,f,u;return zl(this,function(h){switch(h.label){case 0:if(!t)return[2,"error"];i=JSON.parse(t),a=this.getDataFromQuery("redirect")==="true"?document.location.href:!1,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,Jb(i,this.tokenConfig)];case 2:return s=h.sent(),c=new Cd(this,e,this.tokenConfig,s,n,o,a,i),[4,c.authenticate()];case 3:return f=h.sent(),this.sendMessageResponse({evtid:e,evt:xu.PROOF,data:{issuer:this.tokenConfig.collectionID,proof:f}}),[3,5];case 4:return u=h.sent(),qe(2,u),a?[2,this.proofRedirectError(this.getDataFromQuery("issuer"),u.message)]:(this.sendErrorResponse(e,u.message),[3,5]);case 5:return[2]}})})},r.prototype.getRequestOrigin=function(){var e=document.referrer;if(!e)return null;try{return new URL(e).origin}catch{return null}},r.prototype.sendTokens=function(e){var t=this.prepareTokenOutput(this.getFilter());if(qe(2,"issuerTokens: (Outlet.sendTokens)",t),this.redirectCallbackUrl)try{var n=this.redirectCallbackUrl,o=new URLSearchParams(n.hash.substring(1));o.set(Kt+"action",vi.GET_ISSUER_TOKENS+"-response"),o.set(Kt+"issuer",this.tokenConfig.collectionID),o.set(Kt+"tokens",JSON.stringify(t)),n.hash="#"+o.toString();var i=n.href;qe(2,"tokens ready. go to: ",i),document.location.href=i;return}catch(a){console.log("Requestor redirect Error. ",a)}this.sendMessageResponse({evtid:e,evt:xu.ISSUER_TOKENS,data:{issuer:this.tokenConfig.collectionID,tokens:t}})},r.prototype.sendErrorResponse=function(e,t,n){if(this.redirectCallbackUrl){var o=this.redirectCallbackUrl,i=new URLSearchParams(o.hash.substring(1));i.set(Kt+"action",fa.ERROR),i.set(Kt+"issuer",n),i.set(Kt+"error",t),console.log("Redirecting error: ",t),o.hash="#"+i.toString(),document.location.href=o.href;return}this.sendMessageResponse({evtid:e,evt:fa.ERROR,errors:[t]})},r.prototype.proofRedirectError=function(e,t){var n=this.redirectCallbackUrl.href,o=new URLSearchParams;o.set(Kt+"action","proof-callback"),o.set(Kt+"issuer",e),o.set(Kt+"error",t),document.location.href=n+"#"+o.toString()},r.prototype.isSameOrigin=function(){try{var e=new URL(this.tokenConfig.tokenOrigin);return e.origin===document.location.origin}catch{return!1}},r.prototype.sendMessageResponse=function(e){if(!!document.referrer){var t;if(window.opener&&window.opener!==window?t=window.opener:window.parent!==window&&(t=window.parent),t&&t.postMessage(e,"*"),!this.isSameOrigin()){var n=`
				background: #eee;
				padding: 10px;
				color: #000;
				display: inline-block;
				border-radius: 4px;
				font-size: 1.2em;
				box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px;
			`,o=document.createElement("div");o.innerHTML="Data sent. Please close the tab and back to main app.",o.setAttribute("style",n),document.body.appendChild(o)}}},r}(),aJ=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},sJ=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},kS=function(){function r(e){this.tokenConfig=Object.assign(SS,e),this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=TS)}return r.prototype.getTokens=function(){var e=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!e)return[];var t=ES(e,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!0);return wS(t,this.tokenConfig.filter)},r.prototype.authenticate=function(e,t,n,o){return o===void 0&&(o=!1),aJ(this,void 0,void 0,function(){var i,a;return sJ(this,function(s){switch(s.label){case 0:return[4,Jb(e,this.tokenConfig)];case 1:return i=s.sent(),a=new Cd(null,null,this.tokenConfig,i,t,n,o,e),[4,a.authenticate()];case 2:return[2,s.sent()]}})})},r}(),fJ=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wh=globalThis&&globalThis.__assign||function(){return wh=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},wh.apply(this,arguments)},cJ=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},lJ=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},uJ=function(r){fJ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="ticketZKProof",t.messaging=new zm,t}return e.prototype.getTokenProof=function(t,n,o){var i,a,s;return cJ(this,void 0,void 0,function(){var c,f,u,h,w,T,I,R,P,B,O,H;return lJ(this,function($){switch($.label){case 0:if(qe(2,"getTokenProof request:",o),t.onChain===!0)throw new Error(this.TYPE+" is not available for off-chain tokens.");return c=((i=o?.options)===null||i===void 0?void 0:i.useRedirect)||mb(this.client.config.offChainRedirectMode)||!1,c&&(c=((a=o?.options)===null||a===void 0?void 0:a.redirectUrl)||document.location.href),f=null,t.unEndPoint?(u=new xS(this.client),o.options=wh(wh({},o.options),{unEndPoint:t.unEndPoint}),[4,u.getTokenProof(t,n,o)]):[3,2];case 1:h=$.sent(),f=h.data,$.label=2;case 2:return w=f?f.address:"",T=o.address?o.address:w,I=o.wallet?o.wallet:"",new URL(t.tokenOrigin).origin!==document.location.origin?[3,4]:(P=new kS(t),R={},B=R,[4,P.authenticate(n[0],T,I,c)]);case 3:return B.proof=$.sent(),[3,6];case 4:return qe(2,"run OutletAction.GET_PROOF at ",window.location.href),[4,this.messaging.sendMessage({action:vi.GET_PROOF,origin:t.tokenOrigin,timeout:0,data:{issuer:t.collectionID,token:n[0],address:T,wallet:I}},o.options.messagingForceTab,this.client.getUi(),c)];case 5:if(O=$.sent(),!O)return[2,new Promise(function(J,ie){setTimeout(function(){ie(new Error("The outlet failed to load."))},3e4)})];R=O.data,$.label=6;case 6:if(!R.proof)throw new Error("Failed to get proof from the outlet.");return H={type:this.TYPE,data:R,target:{tokens:[]}},f&&(fp.Authenticator.validateUseTicket(R.proof,t.base64attestorPubKey,t.base64senderPublicKeys,(s=f.address)!==null&&s!==void 0?s:""),H.data.useEthKey=f),[2,H]}})})},e}(u1),CS=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},MS=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},dJ=function(r,e,t){return CS(void 0,void 0,void 0,function(){var n,o,i,a;return MS(this,function(s){return n=r.contract,o=r.chain,i="".concat(ps,"/get-owner-fungible-tokens?collectionAddress=").concat(n,"&owner=").concat(e,"&chain=").concat(o,"&blockchain=").concat((a=r.blockchain)!==null&&a!==void 0?a:"evm"),r.symbol&&(i+="&symbol=".concat(r.symbol)),t&&(i+="&ipfsBaseUrl=".concat(t)),[2,Vh(i,!0)]})})},hJ=function(r,e){return CS(void 0,void 0,void 0,function(){var t,n,o,i;return MS(this,function(a){return t=r.contract,n=r.chain,o="".concat(ps,"/get-fungible-token?collectionAddress=").concat(t,"&chain=").concat(n,"&blockchain=").concat((i=r.blockchain)!==null&&i!==void 0?i:"evm"),r.symbol&&(o+="&symbol=".concat(r.symbol)),e&&(o+="&ipfsBaseUrl=".concat(e)),[2,Vh(o,!0)]})})},Cr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function c(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?i(u.value):o(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})},dr=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return c([f,u])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},pJ=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};typeof window<"u"&&(window.tn={VERSION:g5});var S8="This browser is not supported. Please try using Chrome, Edge, FireFox or Safari.",gJ={type:"active",issuers:[],uiOptions:{uiType:"popup",containerElement:".overlay-tn",openingHeading:"Validate your token ownership for access",issuerHeading:"Detected tokens",autoPopup:!0,position:"bottom-right",alwaysShowStartScreen:!1},autoLoadTokens:!0,autoEnableTokens:!0,messagingForceTab:!1,tokenPersistenceTTL:600,unSupportedUserAgent:{authentication:{config:{},errorMessage:S8},full:{config:{iE:!0,iE9:!0},errorMessage:S8}}},zi;(function(r){r.POPUP_BLOCKED="POPUP_BLOCKED",r.USER_ABORT="USER_ABORT"})(zi||(zi={}));var Xf;(function(r){r.POPUP_BLOCKED="Please add an exception to your popup blocker before continuing.",r.USER_ABORT="The user aborted the process."})(Xf||(Xf={}));var vJ=function(){function r(e,t){var n;t===void 0&&(t=!0);var o;if(this.clientCallBackEvents={},this.uiUpdateCallbacks=(n={},n[0]=void 0,n[1]=void 0,n[2]=void 0,n),this.cancelAutoload=!0,t&&TL(e),window.location.hash){this.urlParams=new URLSearchParams(window.location.hash.substring(1));var i=this.getDataFromQuery("action");qe(2,'Client() fired. Action = "'.concat(i,'"')),this.removeCallbackParamsFromUrl()}else this.urlParams=new URLSearchParams;this.config=this.mergeConfig(gJ,e),this.negotiateAlreadyFired=!1,this.tokenStore=new w5(this.config.autoEnableTokens,this.config.tokenPersistenceTTL),((o=this.config.issuers)===null||o===void 0?void 0:o.length)>0&&this.tokenStore.updateIssuers(this.config.issuers),this.messaging=new zm,this.registerOutletProofEventListener()}return r.getKey=function(e){return fp.Authenticator.decodePublicKey(e)},r.prototype.getDataFromQuery=function(e){return this.urlParams?this.urlParams.get(Kt+e):""},r.prototype.readProofCallback=function(){if(!this.getDataFromQuery)return!1;var e=this.getDataFromQuery("action");if(e!=="proof-callback")return!1;var t=this.getDataFromQuery("issuer"),n=this.getDataFromQuery("attestation"),o=this.getDataFromQuery("error");this.emitRedirectProofEvent(t,n,o)},r.prototype.removeCallbackParamsFromUrl=function(){var e=new URLSearchParams(document.location.hash.substring(1));e=Gm(e),document.location.hash="#"+e.toString()},r.prototype.registerOutletProofEventListener=function(){var e=this;window.addEventListener("auth-callback",function(t){e.emitRedirectProofEvent(t.detail.issuer,t.detail.proof,t.detail.error)})},r.prototype.emitRedirectProofEvent=function(e,t,n){var o=this;setTimeout(function(){n?o.handleProofError(new Error(n),e):o.eventSender("token-proof",{issuer:e,error:null,data:{proof:t}})},500)},r.prototype.mergeConfig=function(e,t){var n,o,i,a;for(var s in t)t[s]&&t[s].constructor===Object?e[s]=this.mergeConfig((i=e[s])!==null&&i!==void 0?i:{},t[s]):e[s]=t[s];if(e.issuers&&e.issuers.length)try{for(var c=pJ(e.issuers),f=c.next();!f.done;f=c.next()){var u=f.value;u.onChain===!0&&sp((a=u.blockchain)!==null&&a!==void 0?a:"")}}catch(h){n={error:h}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return e},r.prototype.getTokenStore=function(){return this.tokenStore},r.prototype.getUi=function(){return this.ui},r.prototype.createUiInstance=function(){this.ui=new Wj(this.config.uiOptions,this)},r.prototype.triggerUiUpdateCallback=function(e,t){this.uiUpdateCallbacks[e]&&this.uiUpdateCallbacks[e](t)},r.prototype.registerUiUpdateCallback=function(e,t){this.uiUpdateCallbacks[e]=t},r.prototype.safeConnectAvailable=function(){return this.config.safeConnectOptions!==void 0},r.prototype.hasIssuerForBlockchain=function(e){return this.config.issuers.filter(function(t){return e==="evm"&&!t.onChain?!0:e==="solana"&&typeof window.solana>"u"?!1:(t.blockchain?t.blockchain.toLowerCase():"evm")===e}).length>0},r.prototype.experimentalFeaturesEnabled=function(e){return this.config.experimentalFeatures&&this.config.experimentalFeatures.indexOf(e)>-1},r.prototype.getWalletProvider=function(){return Cr(this,void 0,void 0,function(){var e;return dr(this,function(t){switch(t.label){case 0:return this.web3WalletProvider?[3,2]:[4,H4(()=>import("./Web3WalletProvider.5126c57c.js"),[])];case 1:e=t.sent().Web3WalletProvider,this.web3WalletProvider=new e(this,this.config.walletOptions,this.config.safeConnectOptions),t.label=2;case 2:return[2,this.web3WalletProvider]}})})},r.prototype.disconnectWallet=function(){return Cr(this,void 0,void 0,function(){var e;return dr(this,function(t){switch(t.label){case 0:return[4,this.getWalletProvider()];case 1:return e=t.sent(),e.deleteConnections(),this.tokenStore.clearCachedTokens(),this.eventSender("connected-wallet",null),this.eventSender("disconnected-wallet",null),this.triggerUiUpdateCallback(2),[2]}})})},r.prototype.negotiatorConnectToWallet=function(e){return Cr(this,void 0,void 0,function(){var t,n;return dr(this,function(o){switch(o.label){case 0:return[4,this.getWalletProvider()];case 1:return t=o.sent(),[4,t.connectWith(e)];case 2:return n=o.sent(),qe(2,"wallet address found: "+n),[2,n]}})})},r.prototype.enrichTokenLookupDataOnChainTokens=function(){return Cr(this,void 0,void 0,function(){var e,t,n,o,i,a,s,c,f;return dr(this,function(u){switch(u.label){case 0:if(!this.getTokenStore().hasOnChainTokens())return this.issuersLoaded=!0,[2];this.issuersLoaded=!1,this.triggerUiUpdateCallback(0),e=this.tokenStore.getCurrentIssuers(!0),t=e,n=[];for(o in t)n.push(o);i=0,u.label=1;case 1:if(!(i<n.length))return[3,9];if(o=n[i],!(o in t))return[3,8];if(a=o,s=e[a],s.title)return[3,8];u.label=2;case 2:return u.trys.push([2,7,,8]),c=void 0,s.fungible?[4,hJ(s)]:[3,4];case 3:return c=u.sent(),[3,6];case 4:return[4,Xj(s)];case 5:c=u.sent(),u.label=6;case 6:return c&&(c.onChain=!0,c.title||(c.title=s.collectionID),this.tokenStore.updateTokenLookupStore(a,c)),[3,8];case 7:return f=u.sent(),console.log("enrichTokenLookupDataOnChainTokens error =>",f),qe(2,"Failed to load contract data for "+a+": "+f.message),[3,8];case 8:return i++,[3,1];case 9:return this.issuersLoaded=!0,this.triggerUiUpdateCallback(1),[2]}})})},r.prototype.checkUserAgentSupport=function(e){var t,n;return Cr(this,void 0,void 0,function(){var o;return dr(this,function(i){switch(i.label){case 0:return Jj((n=(t=this.config.unSupportedUserAgent)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.config)?[3,3]:(o=this.config.unSupportedUserAgent[e].errorMessage,this.activeNegotiateRequired()?(this.createUiInstance(),[4,this.ui.initialize()]):[3,2]);case 1:i.sent(),this.ui.openOverlay(),this.ui.showError(o,!1),this.ui.viewContainer.style.display="none",i.label=2;case 2:Li(o,"error",null,null,!0,!0),i.label=3;case 3:return[2]}})})},r.prototype.activeNegotiateRequired=function(){return this.config.type==="active"},r.prototype.createCurrentUrlWithoutHash=function(){var e;return(e=window.location.origin+window.location.pathname+window.location.search)!==null&&e!==void 0?e:"?"+window.location.search},r.prototype.getNoTokenMsg=function(e){var t,n=this.getTokenStore().getCurrentIssuers(),o=(t=n[e])===null||t===void 0?void 0:t.noTokenMsg;return o||""},r.prototype.negotiate=function(e,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),Cr(this,void 0,void 0,function(){var o,i;return dr(this,function(a){switch(a.label){case 0:return o=this.getOutletConfigForCurrentOrigin(),o?(qe(2,"Sync Outlet fired in Client to read MagicLink before negotiate()."),i=new _8(o,!0),[4,i.readMagicLink()]):[3,2];case 1:a.sent(),i=null,a.label=2;case 2:return[4,this.checkUserAgentSupport("full")];case 3:return a.sent(),e&&this.tokenStore.updateIssuers(e),Bs(Object.keys(this.tokenStore.getCurrentIssuers()).length,"issuers are missing."),this.activeNegotiateRequired()?(this.issuersLoaded=!this.tokenStore.hasUnloadedIssuers(),[4,this.activeNegotiationStrategy(t)]):[3,5];case 4:return a.sent(),[3,8];case 5:return[4,this.enrichTokenLookupDataOnChainTokens()];case 6:return a.sent(),n&&this.getTokenStore().clearCachedTokens(),[4,this.passiveNegotiationStrategy()];case 7:a.sent(),a.label=8;case 8:return this.eventSender("loaded",null),[2]}})})},r.prototype.activeNegotiationStrategy=function(e){return Cr(this,void 0,void 0,function(){var t;return dr(this,function(n){switch(n.label){case 0:return this.ui?(t=this.tokenStore.hasUnloadedTokens(),this.ui.viewIsNotStart()&&this.tokenStore.hasUnloadedIssuers()?this.enrichTokenLookupDataOnChainTokens():this.triggerUiUpdateCallback(1),[3,3]):[3,1];case 1:return this.createUiInstance(),[4,this.ui.initialize()];case 2:n.sent(),t=!0,n.label=3;case 3:return this.config.autoEnableTokens&&Object.keys(this.tokenStore.getSelectedTokens()).length&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),(e||this.config.uiOptions.autoPopup===!0&&t)&&this.ui.openOverlay(),[2]}})})},r.prototype.tokenAutoLoad=function(e,t,n){return Cr(this,void 0,void 0,function(){var o,i,a,s,c,f,u,h,w,T=this;return dr(this,function(I){switch(I.label){case 0:if(this.config.autoLoadTokens===!1)return[2];this.cancelAutoload=!1,o=1,i=function(R){var P,B,O;return dr(this,function(H){switch(H.label){case 0:if(P=a.tokenStore.getIssuerTokens(R),!n&&P!=null)return[2,"continue"];e(R),H.label=1;case 1:return H.trys.push([1,3,,4]),[4,a.connectTokenIssuer(R)];case 2:return B=H.sent(),B?(t(R,B),[3,4]):[2,{value:void 0}];case 3:return O=H.sent(),O.message="Failed to load "+R+": "+O.message,qe(2,O.message),Li("autoload tokens error","error",function(){return T.eventSender("error",{issuer:R,error:O})},null,!0,!1),t(R,null),[3,4];case 4:return o++,n?[2,"continue"]:a.cancelAutoload||a.config.autoLoadTokens!==!0&&o>a.config.autoLoadTokens?[2,"break"]:[2]}})},a=this,s=this.tokenStore.getCurrentIssuers(),c=[];for(f in s)c.push(f);u=0,I.label=1;case 1:return u<c.length?(f=c[u],f in s?(h=f,[5,i(h)]):[3,3]):[3,4];case 2:if(w=I.sent(),typeof w=="object")return[2,w.value];if(w==="break")return[3,4];I.label=3;case 3:return u++,[3,1];case 4:return[2]}})})},r.prototype.cancelTokenAutoload=function(){this.cancelAutoload=!0},r.prototype.setPassiveNegotiationWebTokens=function(){return Cr(this,void 0,void 0,function(){var e,t,n,o,i,a,s,c,f,u,h=this;return dr(this,function(w){switch(w.label){case 0:e=this.tokenStore.getCurrentIssuers(!1),t=this.getDataFromQuery("action"),n=function(T){var I,R,P,B,O;return dr(this,function(H){switch(H.label){case 0:I=void 0,R=o.tokenStore.getCurrentIssuers()[T],H.label=1;case 1:return H.trys.push([1,6,,7]),new URL(R.tokenOrigin).origin!==document.location.origin?[3,2]:(I=o.loadLocalOutletTokens(R),[3,5]);case 2:if(P=o.getDataFromQuery("issuer"),!((t===vi.GET_ISSUER_TOKENS+"-response"||t==="proof-callback")&&T===P))return[3,3];B=o.getDataFromQuery("tokens");try{I=JSON.parse(B)}catch($){qe(2,"Error parse tokens from Response. ",$)}return[3,5];case 3:return I=o.tokenStore.getIssuerTokens(T),I!==null?[2,"continue"]:[4,o.loadRemoteOutletTokens(R)];case 4:if(I=H.sent(),!I)return[2,{value:void 0}];H.label=5;case 5:return[3,7];case 6:return O=H.sent(),Li("popup error","error",function(){return h.eventSender("error",{issuer:T,error:O})},null,!0,!1),[2,"continue"];case 7:return qe(2,"tokens:"),qe(2,I),o.tokenStore.setTokens(T,I),[2]}})},o=this,i=e,a=[];for(s in i)a.push(s);c=0,w.label=1;case 1:return c<a.length?(s=a[c],s in i?(f=s,[5,n(f)]):[3,3]):[3,4];case 2:if(u=w.sent(),typeof u=="object")return[2,u.value];w.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},r.prototype.readTokensFromUrl=function(){var e=this.tokenStore.getCurrentIssuers(!1),t=this.getDataFromQuery("action");if(t==="error"){this.handleRedirectTokensError();return}if(t===vi.GET_ISSUER_TOKENS+"-response"){var n=this.getDataFromQuery("issuer");if(!n){qe(3,"No issuer in URL.");return}var o=e[n];if(!o){qe(3,'No issuer config for "'.concat(n,'" in URL.'));return}var i;try{if(new URL(o.tokenOrigin).origin!==document.location.origin){var a=this.getDataFromQuery("tokens");try{i=JSON.parse(a)}catch(s){qe(2,"Error parse tokens from Response. ",s)}}}catch{qe(1,"Error read tokens from URL");return}if(!i){qe(2,'No tokens for "'.concat(n,'" in URL.'));return}qe(2,"readTokensFromUrl tokens:"),qe(2,i),this.tokenStore.setTokens(n,i)}},r.prototype.handleRedirectTokensError=function(){return Cr(this,void 0,void 0,function(){var e;return dr(this,function(t){switch(t.label){case 0:return e=this.getDataFromQuery("error"),this.config.type!=="active"?[3,2]:(this.createUiInstance(),[4,this.ui.initialize()]);case 1:t.sent(),this.ui.showError(e),t.label=2;case 2:return this.eventSender("error",{issuer:this.getDataFromQuery("issuer"),error:new Error(e)}),console.log("Error loading tokens from outlet: ",e),[2]}})})},r.prototype.setPassiveNegotiationOnChainTokens=function(){return Cr(this,void 0,void 0,function(){var e,t,n,o,i,a,s,c,f,u=this;return dr(this,function(h){switch(h.label){case 0:return e=this.tokenStore.getCurrentIssuers(!0),[4,this.getWalletProvider()];case 1:t=h.sent(),n=function(w){var T,I,R,P;return dr(this,function(B){switch(B.label){case 0:if(T=o.tokenStore.getIssuerTokens(w),T!==null)return[2,"continue"];I=e[w],B.label=1;case 1:return B.trys.push([1,3,,4]),[4,ow(I,t.getConnectedWalletData()[0].address)];case 2:return R=B.sent(),o.tokenStore.setTokens(w,R),[3,4];case 3:return P=B.sent(),qe(2,P),Li("passive loading of tokens error","error",function(){return u.eventSender("error",{issuer:w,error:P})},null,!0,!1),[3,4];case 4:return[2]}})},o=this,i=e,a=[];for(s in i)a.push(s);c=0,h.label=2;case 2:return c<a.length?(s=a[c],s in i?(f=s,[5,n(f)]):[3,4]):[3,5];case 3:h.sent(),h.label=4;case 4:return c++,[3,2];case 5:return[2]}})})},r.prototype.passiveNegotiationStrategy=function(){return Cr(this,void 0,void 0,function(){var e,t;return dr(this,function(n){switch(n.label){case 0:return[4,this.setPassiveNegotiationWebTokens()];case 1:return n.sent(),[4,this.setPassiveNegotiationOnChainTokens()];case 2:n.sent(),e=this.tokenStore.getCurrentTokens(),qe(2,"Emit tokens"),qe(2,e);for(t in e)e[t]={tokens:e[t]};return this.eventSender("tokens",e),this.messaging.core.iframeStorageSupport===!1&&Object.keys(this.tokenStore.getCurrentTokens(!1)).length===0&&qe(2,"iFrame storage support not detected: Enable popups via your browser to access off-chain tokens with this negotiation type."),[2]}})})},r.prototype.connectTokenIssuer=function(e){var t;return Cr(this,void 0,void 0,function(){var n,o,i,a;return dr(this,function(s){switch(s.label){case 0:return n=this.tokenStore.getCurrentIssuers()[e],n||Li("Undefined token issuer","error",null,null,!0,!0),n.onChain!==!0?[3,6]:[4,this.getWalletProvider()];case 1:return i=s.sent(),a=(t=i.getConnectedWalletData()[0])===null||t===void 0?void 0:t.address,Bs(e,"issuer is required."),Bs(a,"wallet address is missing."),n.fungible?[4,dJ(n,a)]:[3,3];case 2:return o=s.sent(),[3,5];case 3:return[4,ow(n,a)];case 4:o=s.sent(),s.label=5;case 5:return[3,9];case 6:return new URL(n.tokenOrigin).origin!==document.location.origin?[3,7]:(o=this.loadLocalOutletTokens(n),[3,9]);case 7:return[4,this.loadRemoteOutletTokens(n)];case 8:if(o=s.sent(),!o)return[2];s.label=9;case 9:return this.tokenStore.setTokens(e,o),this.config.autoEnableTokens&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),[2,o]}})})},r.prototype.loadRemoteOutletTokens=function(e){var t,n;return Cr(this,void 0,void 0,function(){var o,i,a;return dr(this,function(s){switch(s.label){case 0:return o={issuer:e,filter:e.filters},e.accessRequestType&&(o.access=e.accessRequestType),i=mb(this.config.offChainRedirectMode),i&&this.tokenStore.setTokens(e.collectionID,[]),[4,this.messaging.sendMessage({action:vi.GET_ISSUER_TOKENS,origin:e.tokenOrigin,data:o},this.config.messagingForceTab,this.config.type==="active"?this.ui:null,i?document.location.href:!1)];case 1:return a=s.sent(),a?[2,(n=(t=a.data)===null||t===void 0?void 0:t.tokens)!==null&&n!==void 0?n:[]]:[2]}})})},r.prototype.loadLocalOutletTokens=function(e){var t=new kS(e);return t.getTokens()},r.prototype.updateSelectedTokens=function(e){this.tokenStore.setSelectedTokens(e),this.eventSender("tokens-selected",{selectedTokens:e})},r.prototype.authenticate=function(e){return Cr(this,void 0,void 0,function(){var t,n,o,i,a,s,c,f=this;return dr(this,function(u){switch(u.label){case 0:return[4,this.checkUserAgentSupport("authentication")];case 1:u.sent(),t=e.issuer,n=e.unsignedToken,Bs(t&&n,"Issuer and unsigned token required."),n.signedToken&&delete n.signedToken,o=this.tokenStore.getCurrentIssuers()[t],o||Li("Provided issuer was not found.","error",null,null,!0,!0),this.ui&&(this.ui.showLoaderDelayed(["<h4>Authenticating...</h4>","<small>You may need to sign a new challenge in your wallet</small>","<button class='cancel-auth-btn btn-tn' aria-label='Cancel authentication'>Cancel</button>"],600,!0),this.enableAuthCancel(t)),e.type?i=e.type:i=o.onChain?xS:uJ,a=new i(this),u.label=2;case 2:return u.trys.push([2,4,,5]),e.options||(e.options={}),e.options.messagingForceTab=this.config.messagingForceTab,qe(2,"authRequest",e),qe(2,"get proof at ",window.location.href),[4,a.getTokenProof(o,[e.unsignedToken],e)];case 3:return s=u.sent(),s?(qe(2,"proof received at ",window.location.href),qe(2,"Ticket proof successfully validated."),this.eventSender("token-proof",{data:s.data,error:null,issuer:t}),[3,5]):[2];case 4:return c=u.sent(),qe(2,c),c.message==="WALLET_REQUIRED"?[2,this.handleWalletRequired(e)]:(Li(c,"error",function(){return f.handleProofError(c,t)},null,!1,!0),[3,5]);case 5:return this.ui&&(this.ui.dismissLoader(),this.ui.closeOverlay()),[2,s.data]}})})},r.prototype.enableAuthCancel=function(e){var t=this;zL(".cancel-auth-btn").then(function(n){n.onclick=function(){var o="User cancelled authentication";t.ui.showError(o),t.eventSender("token-proof",{issuer:e,error:o,data:null})}})},r.prototype.handleWalletRequired=function(e){return Cr(this,void 0,void 0,function(){var t,n=this;return dr(this,function(o){switch(o.label){case 0:return this.ui?(this.ui.dismissLoader(),this.ui.openOverlay(),[3,4]):[3,1];case 1:return[4,this.getWalletProvider()];case 2:return t=o.sent(),[4,t.connectWith("MetaMask")];case 3:return o.sent(),[2,this.authenticate(e)];case 4:return[2,new Promise(function(i,a){var s={viewTransition:"slide-in-right"};n.ui.updateUI("wallet",{viewName:"wallet",connectCallback:function(){return Cr(n,void 0,void 0,function(){var c,f;return dr(this,function(u){switch(u.label){case 0:this.ui.updateUI("main",{viewName:"main"},s),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.authenticate(e)];case 2:return c=u.sent(),i(c),[3,4];case 3:return f=u.sent(),a(f),[3,4];case 4:return[2]}})})}},s)})]}})})},r.prototype.handleProofError=function(e,t){this.ui&&this.ui.showError(e),this.eventSender("token-proof",{issuer:t,error:e,data:null})},r.prototype.eventSender=function(e,t){return Cr(this,void 0,void 0,function(){return dr(this,function(n){return Promise.resolve(this.on(e,null,t)),[2]})})},r.prototype.getOutletConfigForCurrentOrigin=function(e){e===void 0&&(e=document.location.origin);var t=this.tokenStore.getCurrentIssuers(!1),n=[];return Object.keys(t).forEach(function(o){var i=t[o];try{new URL(i.tokenOrigin).origin===e&&n.push(i)}catch(a){qe(2,a),console.log("issuer config error "+a.message)}}),n.length?n[0]:!1},r.prototype.onlySameOrigin=function(){var e=this.tokenStore.getCurrentIssuers(!1),t=!0;return Object.keys(e).forEach(function(n){var o=e[n],i=!1;try{new URL(o.tokenOrigin).origin===document.location.origin&&(i=!0)}catch(a){qe(2,a),console.log("issuer config error")}i||(t=!1)}),t},r.prototype.addTokenViaMagicLink=function(e){return Cr(this,void 0,void 0,function(){var t,n,o,i,a,s;return dr(this,function(c){switch(c.label){case 0:t=new URL(e),n=t.hash.length>1?t.hash.substring(1):t.search.substring(1),o=mb(this.config.offChainRedirectMode),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.messaging.sendMessage({action:vi.MAGIC_URL,origin:t.origin+t.pathname,data:{urlParams:n}},this.config.messagingForceTab,void 0,o?document.location.href:!1)];case 2:return i=c.sent(),i?i.evt===xu.ISSUER_TOKENS?(a=this.getOutletConfigForCurrentOrigin(t.origin),a&&this.tokenStore.setTokens(a.collectionID,i.data.tokens),[2,i.data.tokens]):[3,4]:[2,new Promise(function(f){})];case 3:return s=c.sent(),Li(s.message,"error",null,!1,!0),[3,4];case 4:return[2]}})})},r.prototype.on=function(e,t,n){if(Bs(e,"Event type is not defined"),(e==="tokens"||e==="tokens-selected")&&t&&this.readTokensFromUrl(),e==="token-proof"&&t){qe(2,"token-proof listener atteched. check URL HASH for proof callbacks.");var o=this.getDataFromQuery("action");if(o==="proof-callback")this.readProofCallback();else if(o==="email-callback"){var i=this.getOutletConfigForCurrentOrigin();if(i){qe(2,"Outlet fired to parse URL hash params.");var a=new _8(i,!0,this.urlParams);a.pageOnLoadEventHandler().then(function(){a=null})}}}if(t)this.clientCallBackEvents[e]=t;else if(this.clientCallBackEvents[e])return this.clientCallBackEvents[e].call(e,n)},r.prototype.switchTheme=function(e){this.ui.switchTheme(e)},r}();const bJ=r=>(n4("data-v-fda68df3"),r=r(),i4(),r),mJ=bJ(()=>kt("img",{alt:"Vue logo",class:"logo",src:IC,width:"125",height:"125"},null,-1)),yJ={class:"wrapper"},xJ=Rt("Home"),wJ=Rt("About"),AJ={__name:"App",setup(r){const e=zc({client:void 0});return l4(()=>{e.client=new vJ({type:"active",issuers:[{collectionID:"penthouse-panther-club",collectionAddress:"ff846ef2eed57e5367cf8826e63f4d53fe28d28aa67417accb6e4b48cbd19136",onChain:!0,collectionSymbol:"PPC",chain:"mainnet",blockchain:"solana"},{collectionID:"pixel",collectionAddress:"166424b16c4c7f40eb852f9eb2d0d6869a9ed7ac54a8e6afbd516676bfbbeb19",onChain:!0,collectionSymbol:"PIXEL",chain:"mainnet",blockchain:"solana"},{onChain:!0,collectionID:"expansion-punks",contract:"0x0d0167a823c6619d430b1a96ad85b888bcf97c37",chain:"eth",blockchain:"ethereum"},{onChain:!0,collectionID:"Perion",contract:"0x96af92ae2d822a0f191455ceca4d4e7ee227668e",chain:"mumbai",blockchain:"evm"},{collectionID:"COOLCATS-#2426-14",onChain:!0,contract:"0x3C7e352481F4b2fdEc1e642a3f0018661c77513D",chain:"eth",openSeaSlug:"devcon-vi-suit-up-collection"},{collectionID:"Town-Hall",onChain:!0,contract:"0x81b30ff521D1fEB67EDE32db726D95714eb00637",chain:"Optimism"},{collectionID:"Blusteak Kangaroo #64",onChain:!0,contract:"0xa996F7F3BC647EebC98C684aB0A302c9b85d2FA1",chain:"Avalanche"},{collectionID:"Alone Pirate",onChain:!0,contract:"0x36535ec384B94342558e37282527b5052587af6A",chain:"Arbitrum"},{collectionID:"TNM",onChain:!0,contract:"0x3cC6c9c6DC13814c6ba4da3520d2Ae40332A831F",chain:"goerli",fungible:!0},{collectionID:"Tether-USD",onChain:!0,contract:"0xdac17f958d2ee523a2206206994597c13d831ec7",chain:"eth",fungible:!0},{collectionID:"AdEx-Network",onChain:!0,contract:"0xade00c28244d5ce17d72e40330b1c318cd12b7c3",chain:"eth",fungible:!0},{collectionID:"AAVEPool",contract:"0xb7fd3398484ea4eff33e003db4c85d4984f8d62e",fungible:!0,onChain:!0,chain:"polygon"},{collectionID:"Minereum-AVAX",contract:"0xf9d922c055a3f1759299467dafafdf43be844f7a",fungible:!0,onChain:!0,chain:"Avalanche"},{collectionID:"Testv4",contract:"0x499d11e0b6eac7c0593d8fb292dcbbf815fb29ae",fungible:!0,onChain:!0,chain:"goerli"},{collectionID:"Dummy ERC20",contract:"0xfe4f5145f6e09952a5ba9e956ed0c25e3fa4c7f1",fungible:!0,onChain:!0,chain:"mumbai"}],uiOptions:{openingHeading:"Open a new world of discounts available with your tokens.",issuerHeading:"Get discount with Ticket",repeatAction:"try again",theme:"dark",position:"top-right"},unSupportedUserAgent:{authentication:{config:{metaMaskAndroid:!0,alphaWalletAndroid:!0,mewAndroid:!0,imTokenAndroid:!0},errorMessage:"No Support for Authentication with this user agent. Try Chrome, Safari or Edge instead."},full:{config:{iE:!0,iE9:!0},errorMessage:"This browser is not supported. Please try using Chrome, Edge, FireFox or Safari."}}}),e.client.on("tokens-selected",t=>{console.log(t)}),e.client.on("token-proof",t=>{console.log(t)}),e.client.negotiate()}),(t,n)=>(eo(),Fo(Jn,null,[kt("header",null,[mJ,kt("div",yJ,[$t(DM,{msg:"You did it!"}),kt("nav",null,[$t(aa(ab),{to:"/"},{default:Or(()=>[xJ]),_:1}),$t(aa(ab),{to:"/about"},{default:Or(()=>[wJ]),_:1})])])]),$t(aa(F4))],64))}},EJ=cs(AJ,[["__scopeId","data-v-fda68df3"]]);const _J={},SJ={class:"item"},TJ={class:"details"};function kJ(r,e){return eo(),Fo("div",SJ,[kt("em",null,[S1(r.$slots,"icon",{},void 0,!0)]),kt("div",TJ,[kt("h3",null,[S1(r.$slots,"heading",{},void 0,!0)]),S1(r.$slots,"default",{},void 0,!0)])])}const ql=cs(_J,[["render",kJ],["__scopeId","data-v-72623109"]]),CJ={},MJ={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},IJ=kt("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),PJ=[IJ];function BJ(r,e){return eo(),Fo("svg",MJ,PJ)}const RJ=cs(CJ,[["render",BJ]]),OJ={},NJ={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},LJ=kt("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),DJ=[LJ];function UJ(r,e){return eo(),Fo("svg",NJ,DJ)}const FJ=cs(OJ,[["render",UJ]]),HJ={},VJ={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},jJ=kt("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),GJ=[jJ];function zJ(r,e){return eo(),Fo("svg",VJ,GJ)}const qJ=cs(HJ,[["render",zJ]]),KJ={},$J={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},WJ=kt("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),QJ=[WJ];function JJ(r,e){return eo(),Fo("svg",$J,QJ)}const YJ=cs(KJ,[["render",JJ]]),ZJ={},XJ={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},eY=kt("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),tY=[eY];function rY(r,e){return eo(),Fo("svg",XJ,tY)}const nY=cs(ZJ,[["render",rY]]),iY=Rt("Documentation"),oY=Rt(" Vue\u2019s "),aY=kt("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"official documentation",-1),sY=Rt(" provides you with all information you need to get started. "),fY=Rt("Tooling"),cY=Rt(" This project is served and bundled with "),lY=kt("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),uY=Rt(". The recommended IDE setup is "),dY=kt("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),hY=Rt(" + "),pY=kt("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),gY=Rt(". If you need to test your components and web pages, check out "),vY=kt("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),bY=Rt(" and "),mY=kt("a",{href:"https://on.cypress.io/component",target:"_blank",rel:"noopener"},"Cypress Component Testing",-1),yY=Rt(". "),xY=kt("br",null,null,-1),wY=Rt(" More instructions are available in "),AY=kt("code",null,"README.md",-1),EY=Rt(". "),_Y=Rt("Ecosystem"),SY=Rt(" Get official tools and libraries for your project: "),TY=kt("a",{target:"_blank",href:"https://pinia.vuejs.org/",rel:"noopener"},"Pinia",-1),kY=Rt(", "),CY=kt("a",{target:"_blank",href:"https://router.vuejs.org/",rel:"noopener"},"Vue Router",-1),MY=Rt(", "),IY=kt("a",{target:"_blank",href:"https://test-utils.vuejs.org/",rel:"noopener"},"Vue Test Utils",-1),PY=Rt(", and "),BY=kt("a",{target:"_blank",href:"https://github.com/vuejs/devtools",rel:"noopener"},"Vue Dev Tools",-1),RY=Rt(". If you need more resources, we suggest paying "),OY=kt("a",{target:"_blank",href:"https://github.com/vuejs/awesome-vue",rel:"noopener"},"Awesome Vue",-1),NY=Rt(" a visit. "),LY=Rt("Community"),DY=Rt(" Got stuck? Ask your question on "),UY=kt("a",{target:"_blank",href:"https://chat.vuejs.org",rel:"noopener"},"Vue Land",-1),FY=Rt(", our official Discord server, or "),HY=kt("a",{target:"_blank",href:"https://stackoverflow.com/questions/tagged/vue.js",rel:"noopener"},"StackOverflow",-1),VY=Rt(". You should also subscribe to "),jY=kt("a",{target:"_blank",href:"https://news.vuejs.org",rel:"noopener"},"our mailing list",-1),GY=Rt(" and follow the official "),zY=kt("a",{target:"_blank",href:"https://twitter.com/vuejs",rel:"noopener"},"@vuejs",-1),qY=Rt(" twitter account for latest news in the Vue world. "),KY=Rt("Support Vue"),$Y=Rt(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),WY=kt("a",{target:"_blank",href:"https://vuejs.org/sponsor/",rel:"noopener"},"becoming a sponsor",-1),QY=Rt(". "),JY={__name:"TheWelcome",setup(r){return(e,t)=>(eo(),Fo(Jn,null,[$t(ql,null,{icon:Or(()=>[$t(RJ)]),heading:Or(()=>[iY]),default:Or(()=>[oY,aY,sY]),_:1}),$t(ql,null,{icon:Or(()=>[$t(FJ)]),heading:Or(()=>[fY]),default:Or(()=>[cY,lY,uY,dY,hY,pY,gY,vY,bY,mY,yY,xY,wY,AY,EY]),_:1}),$t(ql,null,{icon:Or(()=>[$t(qJ)]),heading:Or(()=>[_Y]),default:Or(()=>[SY,TY,kY,CY,MY,IY,PY,BY,RY,OY,NY]),_:1}),$t(ql,null,{icon:Or(()=>[$t(YJ)]),heading:Or(()=>[LY]),default:Or(()=>[DY,UY,FY,HY,VY,jY,GY,zY,qY]),_:1}),$t(ql,null,{icon:Or(()=>[$t(nY)]),heading:Or(()=>[KY]),default:Or(()=>[$Y,WY,QY]),_:1})],64))}},YY={__name:"HomeView",setup(r){return(e,t)=>(eo(),Fo("main",null,[$t(JY)]))}},ZY=IM({history:WC("/token-negotiator-examples/vue-vite-boilerplate/"),routes:[{path:"/",name:"home",component:YY},{path:"/about",name:"about",component:()=>H4(()=>import("./AboutView.aaa8e139.js"),["assets/AboutView.aaa8e139.js","assets/AboutView.4d995ba2.css"])}]});const IS=CC(EJ);IS.use(ZY);IS.mount("#app");export{cZ as S,_9 as W,cs as _,kt as a,H4 as b,Fo as c,gt as d,L9 as e,ar as f,XY as g,zd as h,qe as l,eo as o};
