(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function kp(r,e){const t=Object.create(null),n=r.split(",");for(let o=0;o<n.length;o++)t[n[o]]=!0;return e?o=>!!t[o.toLowerCase()]:o=>!!t[o]}const A5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",E5=kp(A5);function K2(r){return!!r||r===""}function Tp(r){if(Ye(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],o=vr(n)?k5(n):Tp(n);if(o)for(const i in o)e[i]=o[i]}return e}else{if(vr(r))return r;if(Gt(r))return r}}const S5=/;(?![^(]*\))/g,_5=/:(.+)/;function k5(r){const e={};return r.split(S5).forEach(t=>{if(t){const n=t.split(_5);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Mp(r){let e="";if(vr(r))e=r;else if(Ye(r))for(let t=0;t<r.length;t++){const n=Mp(r[t]);n&&(e+=n+" ")}else if(Gt(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const T5=r=>vr(r)?r:r==null?"":Ye(r)||Gt(r)&&(r.toString===Q2||!tt(r.toString))?JSON.stringify(r,z2,2):String(r),z2=(r,e)=>e&&e.__v_isRef?z2(r,e.value):ka(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,o])=>(t[`${n} =>`]=o,t),{})}:W2(e)?{[`Set(${e.size})`]:[...e.values()]}:Gt(e)&&!Ye(e)&&!Y2(e)?String(e):e,Ut={},_a=[],ii=()=>{},M5=()=>!1,P5=/^on[^a-z]/,Fu=r=>P5.test(r),Pp=r=>r.startsWith("onUpdate:"),qr=Object.assign,Ip=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},I5=Object.prototype.hasOwnProperty,vt=(r,e)=>I5.call(r,e),Ye=Array.isArray,ka=r=>$u(r)==="[object Map]",W2=r=>$u(r)==="[object Set]",tt=r=>typeof r=="function",vr=r=>typeof r=="string",Cp=r=>typeof r=="symbol",Gt=r=>r!==null&&typeof r=="object",J2=r=>Gt(r)&&tt(r.then)&&tt(r.catch),Q2=Object.prototype.toString,$u=r=>Q2.call(r),C5=r=>$u(r).slice(8,-1),Y2=r=>$u(r)==="[object Object]",Bp=r=>vr(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Fl=kp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vu=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},B5=/-(\w)/g,La=Vu(r=>r.replace(B5,(e,t)=>t?t.toUpperCase():"")),O5=/\B([A-Z])/g,nf=Vu(r=>r.replace(O5,"-$1").toLowerCase()),Z2=Vu(r=>r.charAt(0).toUpperCase()+r.slice(1)),Th=Vu(r=>r?`on${Z2(r)}`:""),uc=(r,e)=>!Object.is(r,e),Mh=(r,e)=>{for(let t=0;t<r.length;t++)r[t](e)},tu=(r,e,t)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:t})},R5=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let Eb;const N5=()=>Eb||(Eb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ai;class L5{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Ai&&(this.parent=Ai,this.index=(Ai.scopes||(Ai.scopes=[])).push(this)-1)}run(e){if(this.active){const t=Ai;try{return Ai=this,e()}finally{Ai=t}}}on(){Ai=this}off(){Ai=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function U5(r,e=Ai){e&&e.active&&e.effects.push(r)}const Op=r=>{const e=new Set(r);return e.w=0,e.n=0,e},X2=r=>(r.w&Ko)>0,ex=r=>(r.n&Ko)>0,D5=({deps:r})=>{if(r.length)for(let e=0;e<r.length;e++)r[e].w|=Ko},F5=r=>{const{deps:e}=r;if(e.length){let t=0;for(let n=0;n<e.length;n++){const o=e[n];X2(o)&&!ex(o)?o.delete(r):e[t++]=o,o.w&=~Ko,o.n&=~Ko}e.length=t}},O1=new WeakMap;let Jf=0,Ko=1;const R1=30;let Zn;const xs=Symbol(""),N1=Symbol("");class Rp{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,U5(this,n)}run(){if(!this.active)return this.fn();let e=Zn,t=Vo;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Zn,Zn=this,Vo=!0,Ko=1<<++Jf,Jf<=R1?D5(this):Sb(this),this.fn()}finally{Jf<=R1&&F5(this),Ko=1<<--Jf,Zn=this.parent,Vo=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Zn===this?this.deferStop=!0:this.active&&(Sb(this),this.onStop&&this.onStop(),this.active=!1)}}function Sb(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}let Vo=!0;const tx=[];function of(){tx.push(Vo),Vo=!1}function sf(){const r=tx.pop();Vo=r===void 0?!0:r}function cn(r,e,t){if(Vo&&Zn){let n=O1.get(r);n||O1.set(r,n=new Map);let o=n.get(t);o||n.set(t,o=Op()),rx(o)}}function rx(r,e){let t=!1;Jf<=R1?ex(r)||(r.n|=Ko,t=!X2(r)):t=!r.has(Zn),t&&(r.add(Zn),Zn.deps.push(r))}function ho(r,e,t,n,o,i){const s=O1.get(r);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(t==="length"&&Ye(r))s.forEach((l,f)=>{(f==="length"||f>=n)&&a.push(l)});else switch(t!==void 0&&a.push(s.get(t)),e){case"add":Ye(r)?Bp(t)&&a.push(s.get("length")):(a.push(s.get(xs)),ka(r)&&a.push(s.get(N1)));break;case"delete":Ye(r)||(a.push(s.get(xs)),ka(r)&&a.push(s.get(N1)));break;case"set":ka(r)&&a.push(s.get(xs));break}if(a.length===1)a[0]&&L1(a[0]);else{const l=[];for(const f of a)f&&l.push(...f);L1(Op(l))}}function L1(r,e){const t=Ye(r)?r:[...r];for(const n of t)n.computed&&_b(n);for(const n of t)n.computed||_b(n)}function _b(r,e){(r!==Zn||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const $5=kp("__proto__,__v_isRef,__isVue"),nx=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Cp)),V5=Np(),j5=Np(!1,!0),q5=Np(!0),kb=H5();function H5(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...t){const n=At(this);for(let i=0,s=this.length;i<s;i++)cn(n,"get",i+"");const o=n[e](...t);return o===-1||o===!1?n[e](...t.map(At)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...t){of();const n=At(this)[e].apply(this,t);return sf(),n}}),r}function Np(r=!1,e=!1){return function(n,o,i){if(o==="__v_isReactive")return!r;if(o==="__v_isReadonly")return r;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&i===(r?e?s7:fx:e?ax:sx).get(n))return n;const s=Ye(n);if(!r&&s&&vt(kb,o))return Reflect.get(kb,o,i);const a=Reflect.get(n,o,i);return(Cp(o)?nx.has(o):$5(o))||(r||cn(n,"get",o),e)?a:Br(a)?s&&Bp(o)?a:a.value:Gt(a)?r?cx(a):af(a):a}}const G5=ix(),K5=ix(!0);function ix(r=!1){return function(t,n,o,i){let s=t[n];if(Ua(s)&&Br(s)&&!Br(o))return!1;if(!r&&(!ru(o)&&!Ua(o)&&(s=At(s),o=At(o)),!Ye(t)&&Br(s)&&!Br(o)))return s.value=o,!0;const a=Ye(t)&&Bp(n)?Number(n)<t.length:vt(t,n),l=Reflect.set(t,n,o,i);return t===At(i)&&(a?uc(o,s)&&ho(t,"set",n,o):ho(t,"add",n,o)),l}}function z5(r,e){const t=vt(r,e);r[e];const n=Reflect.deleteProperty(r,e);return n&&t&&ho(r,"delete",e,void 0),n}function W5(r,e){const t=Reflect.has(r,e);return(!Cp(e)||!nx.has(e))&&cn(r,"has",e),t}function J5(r){return cn(r,"iterate",Ye(r)?"length":xs),Reflect.ownKeys(r)}const ox={get:V5,set:G5,deleteProperty:z5,has:W5,ownKeys:J5},Q5={get:q5,set(r,e){return!0},deleteProperty(r,e){return!0}},Y5=qr({},ox,{get:j5,set:K5}),Lp=r=>r,ju=r=>Reflect.getPrototypeOf(r);function ll(r,e,t=!1,n=!1){r=r.__v_raw;const o=At(r),i=At(e);t||(e!==i&&cn(o,"get",e),cn(o,"get",i));const{has:s}=ju(o),a=n?Lp:t?Fp:hc;if(s.call(o,e))return a(r.get(e));if(s.call(o,i))return a(r.get(i));r!==o&&r.get(e)}function ul(r,e=!1){const t=this.__v_raw,n=At(t),o=At(r);return e||(r!==o&&cn(n,"has",r),cn(n,"has",o)),r===o?t.has(r):t.has(r)||t.has(o)}function hl(r,e=!1){return r=r.__v_raw,!e&&cn(At(r),"iterate",xs),Reflect.get(r,"size",r)}function Tb(r){r=At(r);const e=At(this);return ju(e).has.call(e,r)||(e.add(r),ho(e,"add",r,r)),this}function Mb(r,e){e=At(e);const t=At(this),{has:n,get:o}=ju(t);let i=n.call(t,r);i||(r=At(r),i=n.call(t,r));const s=o.call(t,r);return t.set(r,e),i?uc(e,s)&&ho(t,"set",r,e):ho(t,"add",r,e),this}function Pb(r){const e=At(this),{has:t,get:n}=ju(e);let o=t.call(e,r);o||(r=At(r),o=t.call(e,r)),n&&n.call(e,r);const i=e.delete(r);return o&&ho(e,"delete",r,void 0),i}function Ib(){const r=At(this),e=r.size!==0,t=r.clear();return e&&ho(r,"clear",void 0,void 0),t}function dl(r,e){return function(n,o){const i=this,s=i.__v_raw,a=At(s),l=e?Lp:r?Fp:hc;return!r&&cn(a,"iterate",xs),s.forEach((f,u)=>n.call(o,l(f),l(u),i))}}function pl(r,e,t){return function(...n){const o=this.__v_raw,i=At(o),s=ka(i),a=r==="entries"||r===Symbol.iterator&&s,l=r==="keys"&&s,f=o[r](...n),u=t?Lp:e?Fp:hc;return!e&&cn(i,"iterate",l?N1:xs),{next(){const{value:p,done:_}=f.next();return _?{value:p,done:_}:{value:a?[u(p[0]),u(p[1])]:u(p),done:_}},[Symbol.iterator](){return this}}}}function Io(r){return function(...e){return r==="delete"?!1:this}}function Z5(){const r={get(i){return ll(this,i)},get size(){return hl(this)},has:ul,add:Tb,set:Mb,delete:Pb,clear:Ib,forEach:dl(!1,!1)},e={get(i){return ll(this,i,!1,!0)},get size(){return hl(this)},has:ul,add:Tb,set:Mb,delete:Pb,clear:Ib,forEach:dl(!1,!0)},t={get(i){return ll(this,i,!0)},get size(){return hl(this,!0)},has(i){return ul.call(this,i,!0)},add:Io("add"),set:Io("set"),delete:Io("delete"),clear:Io("clear"),forEach:dl(!0,!1)},n={get(i){return ll(this,i,!0,!0)},get size(){return hl(this,!0)},has(i){return ul.call(this,i,!0)},add:Io("add"),set:Io("set"),delete:Io("delete"),clear:Io("clear"),forEach:dl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=pl(i,!1,!1),t[i]=pl(i,!0,!1),e[i]=pl(i,!1,!0),n[i]=pl(i,!0,!0)}),[r,t,e,n]}const[X5,e7,t7,r7]=Z5();function Up(r,e){const t=e?r?r7:t7:r?e7:X5;return(n,o,i)=>o==="__v_isReactive"?!r:o==="__v_isReadonly"?r:o==="__v_raw"?n:Reflect.get(vt(t,o)&&o in n?t:n,o,i)}const n7={get:Up(!1,!1)},i7={get:Up(!1,!0)},o7={get:Up(!0,!1)},sx=new WeakMap,ax=new WeakMap,fx=new WeakMap,s7=new WeakMap;function a7(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function f7(r){return r.__v_skip||!Object.isExtensible(r)?0:a7(C5(r))}function af(r){return Ua(r)?r:Dp(r,!1,ox,n7,sx)}function c7(r){return Dp(r,!1,Y5,i7,ax)}function cx(r){return Dp(r,!0,Q5,o7,fx)}function Dp(r,e,t,n,o){if(!Gt(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const i=o.get(r);if(i)return i;const s=f7(r);if(s===0)return r;const a=new Proxy(r,s===2?n:t);return o.set(r,a),a}function Ta(r){return Ua(r)?Ta(r.__v_raw):!!(r&&r.__v_isReactive)}function Ua(r){return!!(r&&r.__v_isReadonly)}function ru(r){return!!(r&&r.__v_isShallow)}function lx(r){return Ta(r)||Ua(r)}function At(r){const e=r&&r.__v_raw;return e?At(e):r}function ux(r){return tu(r,"__v_skip",!0),r}const hc=r=>Gt(r)?af(r):r,Fp=r=>Gt(r)?cx(r):r;function hx(r){Vo&&Zn&&(r=At(r),rx(r.dep||(r.dep=Op())))}function dx(r,e){r=At(r),r.dep&&L1(r.dep)}function Br(r){return!!(r&&r.__v_isRef===!0)}function l7(r){return px(r,!1)}function u7(r){return px(r,!0)}function px(r,e){return Br(r)?r:new h7(r,e)}class h7{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:At(e),this._value=t?e:hc(e)}get value(){return hx(this),this._value}set value(e){const t=this.__v_isShallow||ru(e)||Ua(e);e=t?e:At(e),uc(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:hc(e),dx(this))}}function so(r){return Br(r)?r.value:r}const d7={get:(r,e,t)=>so(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const o=r[e];return Br(o)&&!Br(t)?(o.value=t,!0):Reflect.set(r,e,t,n)}};function gx(r){return Ta(r)?r:new Proxy(r,d7)}var bx;class p7{constructor(e,t,n,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[bx]=!1,this._dirty=!0,this.effect=new Rp(e,()=>{this._dirty||(this._dirty=!0,dx(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=At(this);return hx(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}bx="__v_isReadonly";function g7(r,e,t=!1){let n,o;const i=tt(r);return i?(n=r,o=ii):(n=r.get,o=r.set),new p7(n,o,i||!o,t)}function jo(r,e,t,n){let o;try{o=n?r(...n):r()}catch(i){qu(i,e,t)}return o}function oi(r,e,t,n){if(tt(r)){const i=jo(r,e,t,n);return i&&J2(i)&&i.catch(s=>{qu(s,e,t)}),i}const o=[];for(let i=0;i<r.length;i++)o.push(oi(r[i],e,t,n));return o}function qu(r,e,t,n=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,a=t;for(;i;){const f=i.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](r,s,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){jo(l,null,10,[r,s,a]);return}}b7(r,t,o,n)}function b7(r,e,t,n=!0){console.error(r)}let nu=!1,U1=!1;const Tr=[];let Mi=0;const Ma=[];let Zi=null,ps=0;const vx=Promise.resolve();let $p=null;function mx(r){const e=$p||vx;return r?e.then(this?r.bind(this):r):e}function v7(r){let e=Mi+1,t=Tr.length;for(;e<t;){const n=e+t>>>1;dc(Tr[n])<r?e=n+1:t=n}return e}function Vp(r){(!Tr.length||!Tr.includes(r,nu&&r.allowRecurse?Mi+1:Mi))&&(r.id==null?Tr.push(r):Tr.splice(v7(r.id),0,r),yx())}function yx(){!nu&&!U1&&(U1=!0,$p=vx.then(wx))}function m7(r){const e=Tr.indexOf(r);e>Mi&&Tr.splice(e,1)}function y7(r){Ye(r)?Ma.push(...r):(!Zi||!Zi.includes(r,r.allowRecurse?ps+1:ps))&&Ma.push(r),yx()}function Cb(r,e=Mi){for(;e<Tr.length;e++){const t=Tr[e];t&&t.pre&&(Tr.splice(e,1),e--,t())}}function xx(r){if(Ma.length){const e=[...new Set(Ma)];if(Ma.length=0,Zi){Zi.push(...e);return}for(Zi=e,Zi.sort((t,n)=>dc(t)-dc(n)),ps=0;ps<Zi.length;ps++)Zi[ps]();Zi=null,ps=0}}const dc=r=>r.id==null?1/0:r.id,x7=(r,e)=>{const t=dc(r)-dc(e);if(t===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return t};function wx(r){U1=!1,nu=!0,Tr.sort(x7);const e=ii;try{for(Mi=0;Mi<Tr.length;Mi++){const t=Tr[Mi];t&&t.active!==!1&&jo(t,null,14)}}finally{Mi=0,Tr.length=0,xx(),nu=!1,$p=null,(Tr.length||Ma.length)&&wx()}}function w7(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||Ut;let o=t;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in n){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:p,trim:_}=n[u]||Ut;_&&(o=t.map(T=>T.trim())),p&&(o=t.map(R5))}let a,l=n[a=Th(e)]||n[a=Th(La(e))];!l&&i&&(l=n[a=Th(nf(e))]),l&&oi(l,r,6,o);const f=n[a+"Once"];if(f){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,oi(f,r,6,o)}}function Ax(r,e,t=!1){const n=e.emitsCache,o=n.get(r);if(o!==void 0)return o;const i=r.emits;let s={},a=!1;if(!tt(r)){const l=f=>{const u=Ax(f,e,!0);u&&(a=!0,qr(s,u))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!i&&!a?(Gt(r)&&n.set(r,null),null):(Ye(i)?i.forEach(l=>s[l]=null):qr(s,i),Gt(r)&&n.set(r,s),s)}function Hu(r,e){return!r||!Fu(e)?!1:(e=e.slice(2).replace(/Once$/,""),vt(r,e[0].toLowerCase()+e.slice(1))||vt(r,nf(e))||vt(r,e))}let fn=null,Gu=null;function iu(r){const e=fn;return fn=r,Gu=r&&r.type.__scopeId||null,e}function Ex(r){Gu=r}function Sx(){Gu=null}function fr(r,e=fn,t){if(!e||r._n)return r;const n=(...o)=>{n._d&&$b(-1);const i=iu(e),s=r(...o);return iu(i),n._d&&$b(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function Ph(r){const{type:e,vnode:t,proxy:n,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:l,emit:f,render:u,renderCache:p,data:_,setupState:T,ctx:I,inheritAttrs:B}=r;let P,C;const L=iu(r);try{if(t.shapeFlag&4){const z=o||n;P=_i(u.call(z,z,p,i,T,_,I)),C=l}else{const z=e;P=_i(z.length>1?z(i,{attrs:l,slots:a,emit:f}):z(i,null)),C=e.props?l:A7(l)}}catch(z){Xf.length=0,qu(z,r,1),P=Pt(Da)}let j=P;if(C&&B!==!1){const z=Object.keys(C),{shapeFlag:Y}=j;z.length&&Y&7&&(s&&z.some(Pp)&&(C=E7(C,s)),j=Fa(j,C))}return t.dirs&&(j=Fa(j),j.dirs=j.dirs?j.dirs.concat(t.dirs):t.dirs),t.transition&&(j.transition=t.transition),P=j,iu(L),P}const A7=r=>{let e;for(const t in r)(t==="class"||t==="style"||Fu(t))&&((e||(e={}))[t]=r[t]);return e},E7=(r,e)=>{const t={};for(const n in r)(!Pp(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t};function S7(r,e,t){const{props:n,children:o,component:i}=r,{props:s,children:a,patchFlag:l}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?Bb(n,s,f):!!s;if(l&8){const u=e.dynamicProps;for(let p=0;p<u.length;p++){const _=u[p];if(s[_]!==n[_]&&!Hu(f,_))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?Bb(n,s,f):!0:!!s;return!1}function Bb(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(e[i]!==r[i]&&!Hu(t,i))return!0}return!1}function _7({vnode:r,parent:e},t){for(;e&&e.subTree===r;)(r=e.vnode).el=t,e=e.parent}const k7=r=>r.__isSuspense;function T7(r,e){e&&e.pendingBranch?Ye(r)?e.effects.push(...r):e.effects.push(r):y7(r)}function $l(r,e){if(Mr){let t=Mr.provides;const n=Mr.parent&&Mr.parent.provides;n===t&&(t=Mr.provides=Object.create(n)),t[r]=e}}function qo(r,e,t=!1){const n=Mr||fn;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&r in o)return o[r];if(arguments.length>1)return t&&tt(e)?e.call(n.proxy):e}}const Ob={};function Vl(r,e,t){return _x(r,e,t)}function _x(r,e,{immediate:t,deep:n,flush:o,onTrack:i,onTrigger:s}=Ut){const a=Mr;let l,f=!1,u=!1;if(Br(r)?(l=()=>r.value,f=ru(r)):Ta(r)?(l=()=>r,n=!0):Ye(r)?(u=!0,f=r.some(C=>Ta(C)||ru(C)),l=()=>r.map(C=>{if(Br(C))return C.value;if(Ta(C))return xa(C);if(tt(C))return jo(C,a,2)})):tt(r)?e?l=()=>jo(r,a,2):l=()=>{if(!(a&&a.isUnmounted))return p&&p(),oi(r,a,3,[_])}:l=ii,e&&n){const C=l;l=()=>xa(C())}let p,_=C=>{p=P.onStop=()=>{jo(C,a,4)}};if(gc)return _=ii,e?t&&oi(e,a,3,[l(),u?[]:void 0,_]):l(),ii;let T=u?[]:Ob;const I=()=>{if(!!P.active)if(e){const C=P.run();(n||f||(u?C.some((L,j)=>uc(L,T[j])):uc(C,T)))&&(p&&p(),oi(e,a,3,[C,T===Ob?void 0:T,_]),T=C)}else P.run()};I.allowRecurse=!!e;let B;o==="sync"?B=I:o==="post"?B=()=>Jr(I,a&&a.suspense):(I.pre=!0,a&&(I.id=a.uid),B=()=>Vp(I));const P=new Rp(l,B);return e?t?I():T=P.run():o==="post"?Jr(P.run.bind(P),a&&a.suspense):P.run(),()=>{P.stop(),a&&a.scope&&Ip(a.scope.effects,P)}}function M7(r,e,t){const n=this.proxy,o=vr(r)?r.includes(".")?kx(n,r):()=>n[r]:r.bind(n,n);let i;tt(e)?i=e:(i=e.handler,t=e);const s=Mr;$a(this);const a=_x(o,i.bind(n),t);return s?$a(s):ws(),a}function kx(r,e){const t=e.split(".");return()=>{let n=r;for(let o=0;o<t.length&&n;o++)n=n[t[o]];return n}}function xa(r,e){if(!Gt(r)||r.__v_skip||(e=e||new Set,e.has(r)))return r;if(e.add(r),Br(r))xa(r.value,e);else if(Ye(r))for(let t=0;t<r.length;t++)xa(r[t],e);else if(W2(r)||ka(r))r.forEach(t=>{xa(t,e)});else if(Y2(r))for(const t in r)xa(r[t],e);return r}function Tx(r){return tt(r)?{setup:r,name:r.name}:r}const Zf=r=>!!r.type.__asyncLoader,Mx=r=>r.type.__isKeepAlive;function P7(r,e){Px(r,"a",e)}function I7(r,e){Px(r,"da",e)}function Px(r,e,t=Mr){const n=r.__wdc||(r.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return r()});if(Ku(e,n,t),t){let o=t.parent;for(;o&&o.parent;)Mx(o.parent.vnode)&&C7(n,e,t,o),o=o.parent}}function C7(r,e,t,n){const o=Ku(e,r,n,!0);Cx(()=>{Ip(n[e],o)},t)}function Ku(r,e,t=Mr,n=!1){if(t){const o=t[r]||(t[r]=[]),i=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;of(),$a(t);const a=oi(e,t,r,s);return ws(),sf(),a});return n?o.unshift(i):o.push(i),i}}const vo=r=>(e,t=Mr)=>(!gc||r==="sp")&&Ku(r,e,t),B7=vo("bm"),Ix=vo("m"),O7=vo("bu"),R7=vo("u"),N7=vo("bum"),Cx=vo("um"),L7=vo("sp"),U7=vo("rtg"),D7=vo("rtc");function F7(r,e=Mr){Ku("ec",r,e)}function fs(r,e,t,n){const o=r.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let l=a.dir[n];l&&(of(),oi(l,t,8,[r.el,a,r,e]),sf())}}const $7=Symbol();function Ih(r,e,t={},n,o){if(fn.isCE||fn.parent&&Zf(fn.parent)&&fn.parent.isCE)return Pt("slot",e==="default"?null:{name:e},n&&n());let i=r[e];i&&i._c&&(i._d=!1),hi();const s=i&&Bx(i(t)),a=o9(an,{key:t.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&r._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Bx(r){return r.some(e=>au(e)?!(e.type===Da||e.type===an&&!Bx(e.children)):!0)?r:null}const D1=r=>r?Hx(r)?Gp(r)||r.proxy:D1(r.parent):null,ou=qr(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>D1(r.parent),$root:r=>D1(r.root),$emit:r=>r.emit,$options:r=>Rx(r),$forceUpdate:r=>r.f||(r.f=()=>Vp(r.update)),$nextTick:r=>r.n||(r.n=mx.bind(r.proxy)),$watch:r=>M7.bind(r)}),V7={get({_:r},e){const{ctx:t,setupState:n,data:o,props:i,accessCache:s,type:a,appContext:l}=r;let f;if(e[0]!=="$"){const T=s[e];if(T!==void 0)switch(T){case 1:return n[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(n!==Ut&&vt(n,e))return s[e]=1,n[e];if(o!==Ut&&vt(o,e))return s[e]=2,o[e];if((f=r.propsOptions[0])&&vt(f,e))return s[e]=3,i[e];if(t!==Ut&&vt(t,e))return s[e]=4,t[e];F1&&(s[e]=0)}}const u=ou[e];let p,_;if(u)return e==="$attrs"&&cn(r,"get",e),u(r);if((p=a.__cssModules)&&(p=p[e]))return p;if(t!==Ut&&vt(t,e))return s[e]=4,t[e];if(_=l.config.globalProperties,vt(_,e))return _[e]},set({_:r},e,t){const{data:n,setupState:o,ctx:i}=r;return o!==Ut&&vt(o,e)?(o[e]=t,!0):n!==Ut&&vt(n,e)?(n[e]=t,!0):vt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(i[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:o,propsOptions:i}},s){let a;return!!t[s]||r!==Ut&&vt(r,s)||e!==Ut&&vt(e,s)||(a=i[0])&&vt(a,s)||vt(n,s)||vt(ou,s)||vt(o.config.globalProperties,s)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:vt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};let F1=!0;function j7(r){const e=Rx(r),t=r.proxy,n=r.ctx;F1=!1,e.beforeCreate&&Rb(e.beforeCreate,r,"bc");const{data:o,computed:i,methods:s,watch:a,provide:l,inject:f,created:u,beforeMount:p,mounted:_,beforeUpdate:T,updated:I,activated:B,deactivated:P,beforeDestroy:C,beforeUnmount:L,destroyed:j,unmounted:z,render:Y,renderTracked:re,renderTriggered:ge,errorCaptured:ce,serverPrefetch:be,expose:Ce,inheritAttrs:U,components:E,directives:b,filters:c}=e;if(f&&q7(f,n,null,r.appContext.config.unwrapInjectedRef),s)for(const y in s){const x=s[y];tt(x)&&(n[y]=x.bind(t))}if(o){const y=o.call(t,t);Gt(y)&&(r.data=af(y))}if(F1=!0,i)for(const y in i){const x=i[y],w=tt(x)?x.bind(t,t):tt(x.get)?x.get.bind(t,t):ii,m=!tt(x)&&tt(x.set)?x.set.bind(t):ii,g=yn({get:w,set:m});Object.defineProperty(n,y,{enumerable:!0,configurable:!0,get:()=>g.value,set:h=>g.value=h})}if(a)for(const y in a)Ox(a[y],n,t,y);if(l){const y=tt(l)?l.call(t):l;Reflect.ownKeys(y).forEach(x=>{$l(x,y[x])})}u&&Rb(u,r,"c");function v(y,x){Ye(x)?x.forEach(w=>y(w.bind(t))):x&&y(x.bind(t))}if(v(B7,p),v(Ix,_),v(O7,T),v(R7,I),v(P7,B),v(I7,P),v(F7,ce),v(D7,re),v(U7,ge),v(N7,L),v(Cx,z),v(L7,be),Ye(Ce))if(Ce.length){const y=r.exposed||(r.exposed={});Ce.forEach(x=>{Object.defineProperty(y,x,{get:()=>t[x],set:w=>t[x]=w})})}else r.exposed||(r.exposed={});Y&&r.render===ii&&(r.render=Y),U!=null&&(r.inheritAttrs=U),E&&(r.components=E),b&&(r.directives=b)}function q7(r,e,t=ii,n=!1){Ye(r)&&(r=$1(r));for(const o in r){const i=r[o];let s;Gt(i)?"default"in i?s=qo(i.from||o,i.default,!0):s=qo(i.from||o):s=qo(i),Br(s)&&n?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[o]=s}}function Rb(r,e,t){oi(Ye(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function Ox(r,e,t,n){const o=n.includes(".")?kx(t,n):()=>t[n];if(vr(r)){const i=e[r];tt(i)&&Vl(o,i)}else if(tt(r))Vl(o,r.bind(t));else if(Gt(r))if(Ye(r))r.forEach(i=>Ox(i,e,t,n));else{const i=tt(r.handler)?r.handler.bind(t):e[r.handler];tt(i)&&Vl(o,i,r)}}function Rx(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=r.appContext,a=i.get(e);let l;return a?l=a:!o.length&&!t&&!n?l=e:(l={},o.length&&o.forEach(f=>su(l,f,s,!0)),su(l,e,s)),Gt(e)&&i.set(e,l),l}function su(r,e,t,n=!1){const{mixins:o,extends:i}=e;i&&su(r,i,t,!0),o&&o.forEach(s=>su(r,s,t,!0));for(const s in e)if(!(n&&s==="expose")){const a=H7[s]||t&&t[s];r[s]=a?a(r[s],e[s]):e[s]}return r}const H7={data:Nb,props:ds,emits:ds,methods:ds,computed:ds,beforeCreate:Fr,created:Fr,beforeMount:Fr,mounted:Fr,beforeUpdate:Fr,updated:Fr,beforeDestroy:Fr,beforeUnmount:Fr,destroyed:Fr,unmounted:Fr,activated:Fr,deactivated:Fr,errorCaptured:Fr,serverPrefetch:Fr,components:ds,directives:ds,watch:K7,provide:Nb,inject:G7};function Nb(r,e){return e?r?function(){return qr(tt(r)?r.call(this,this):r,tt(e)?e.call(this,this):e)}:e:r}function G7(r,e){return ds($1(r),$1(e))}function $1(r){if(Ye(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function Fr(r,e){return r?[...new Set([].concat(r,e))]:e}function ds(r,e){return r?qr(qr(Object.create(null),r),e):e}function K7(r,e){if(!r)return e;if(!e)return r;const t=qr(Object.create(null),r);for(const n in e)t[n]=Fr(r[n],e[n]);return t}function z7(r,e,t,n=!1){const o={},i={};tu(i,zu,1),r.propsDefaults=Object.create(null),Nx(r,e,o,i);for(const s in r.propsOptions[0])s in o||(o[s]=void 0);t?r.props=n?o:c7(o):r.type.props?r.props=o:r.props=i,r.attrs=i}function W7(r,e,t,n){const{props:o,attrs:i,vnode:{patchFlag:s}}=r,a=At(o),[l]=r.propsOptions;let f=!1;if((n||s>0)&&!(s&16)){if(s&8){const u=r.vnode.dynamicProps;for(let p=0;p<u.length;p++){let _=u[p];if(Hu(r.emitsOptions,_))continue;const T=e[_];if(l)if(vt(i,_))T!==i[_]&&(i[_]=T,f=!0);else{const I=La(_);o[I]=V1(l,a,I,T,r,!1)}else T!==i[_]&&(i[_]=T,f=!0)}}}else{Nx(r,e,o,i)&&(f=!0);let u;for(const p in a)(!e||!vt(e,p)&&((u=nf(p))===p||!vt(e,u)))&&(l?t&&(t[p]!==void 0||t[u]!==void 0)&&(o[p]=V1(l,a,p,void 0,r,!0)):delete o[p]);if(i!==a)for(const p in i)(!e||!vt(e,p)&&!0)&&(delete i[p],f=!0)}f&&ho(r,"set","$attrs")}function Nx(r,e,t,n){const[o,i]=r.propsOptions;let s=!1,a;if(e)for(let l in e){if(Fl(l))continue;const f=e[l];let u;o&&vt(o,u=La(l))?!i||!i.includes(u)?t[u]=f:(a||(a={}))[u]=f:Hu(r.emitsOptions,l)||(!(l in n)||f!==n[l])&&(n[l]=f,s=!0)}if(i){const l=At(t),f=a||Ut;for(let u=0;u<i.length;u++){const p=i[u];t[p]=V1(o,l,p,f[p],r,!vt(f,p))}}return s}function V1(r,e,t,n,o,i){const s=r[t];if(s!=null){const a=vt(s,"default");if(a&&n===void 0){const l=s.default;if(s.type!==Function&&tt(l)){const{propsDefaults:f}=o;t in f?n=f[t]:($a(o),n=f[t]=l.call(null,e),ws())}else n=l}s[0]&&(i&&!a?n=!1:s[1]&&(n===""||n===nf(t))&&(n=!0))}return n}function Lx(r,e,t=!1){const n=e.propsCache,o=n.get(r);if(o)return o;const i=r.props,s={},a=[];let l=!1;if(!tt(r)){const u=p=>{l=!0;const[_,T]=Lx(p,e,!0);qr(s,_),T&&a.push(...T)};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!i&&!l)return Gt(r)&&n.set(r,_a),_a;if(Ye(i))for(let u=0;u<i.length;u++){const p=La(i[u]);Lb(p)&&(s[p]=Ut)}else if(i)for(const u in i){const p=La(u);if(Lb(p)){const _=i[u],T=s[p]=Ye(_)||tt(_)?{type:_}:_;if(T){const I=Fb(Boolean,T.type),B=Fb(String,T.type);T[0]=I>-1,T[1]=B<0||I<B,(I>-1||vt(T,"default"))&&a.push(p)}}}const f=[s,a];return Gt(r)&&n.set(r,f),f}function Lb(r){return r[0]!=="$"}function Ub(r){const e=r&&r.toString().match(/^\s*function (\w+)/);return e?e[1]:r===null?"null":""}function Db(r,e){return Ub(r)===Ub(e)}function Fb(r,e){return Ye(e)?e.findIndex(t=>Db(t,r)):tt(e)&&Db(e,r)?0:-1}const Ux=r=>r[0]==="_"||r==="$stable",jp=r=>Ye(r)?r.map(_i):[_i(r)],J7=(r,e,t)=>{if(e._n)return e;const n=fr((...o)=>jp(e(...o)),t);return n._c=!1,n},Dx=(r,e,t)=>{const n=r._ctx;for(const o in r){if(Ux(o))continue;const i=r[o];if(tt(i))e[o]=J7(o,i,n);else if(i!=null){const s=jp(i);e[o]=()=>s}}},Fx=(r,e)=>{const t=jp(e);r.slots.default=()=>t},Q7=(r,e)=>{if(r.vnode.shapeFlag&32){const t=e._;t?(r.slots=At(e),tu(e,"_",t)):Dx(e,r.slots={})}else r.slots={},e&&Fx(r,e);tu(r.slots,zu,1)},Y7=(r,e,t)=>{const{vnode:n,slots:o}=r;let i=!0,s=Ut;if(n.shapeFlag&32){const a=e._;a?t&&a===1?i=!1:(qr(o,e),!t&&a===1&&delete o._):(i=!e.$stable,Dx(e,o)),s=e}else e&&(Fx(r,e),s={default:1});if(i)for(const a in o)!Ux(a)&&!(a in s)&&delete o[a]};function $x(){return{app:null,config:{isNativeTag:M5,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Z7=0;function X7(r,e){return function(n,o=null){tt(n)||(n=Object.assign({},n)),o!=null&&!Gt(o)&&(o=null);const i=$x(),s=new Set;let a=!1;const l=i.app={_uid:Z7++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:v9,get config(){return i.config},set config(f){},use(f,...u){return s.has(f)||(f&&tt(f.install)?(s.add(f),f.install(l,...u)):tt(f)&&(s.add(f),f(l,...u))),l},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),l},component(f,u){return u?(i.components[f]=u,l):i.components[f]},directive(f,u){return u?(i.directives[f]=u,l):i.directives[f]},mount(f,u,p){if(!a){const _=Pt(n,o);return _.appContext=i,u&&e?e(_,f):r(_,f,p),a=!0,l._container=f,f.__vue_app__=l,Gp(_.component)||_.component.proxy}},unmount(){a&&(r(null,l._container),delete l._container.__vue_app__)},provide(f,u){return i.provides[f]=u,l}};return l}}function j1(r,e,t,n,o=!1){if(Ye(r)){r.forEach((_,T)=>j1(_,e&&(Ye(e)?e[T]:e),t,n,o));return}if(Zf(n)&&!o)return;const i=n.shapeFlag&4?Gp(n.component)||n.component.proxy:n.el,s=o?null:i,{i:a,r:l}=r,f=e&&e.r,u=a.refs===Ut?a.refs={}:a.refs,p=a.setupState;if(f!=null&&f!==l&&(vr(f)?(u[f]=null,vt(p,f)&&(p[f]=null)):Br(f)&&(f.value=null)),tt(l))jo(l,a,12,[s,u]);else{const _=vr(l),T=Br(l);if(_||T){const I=()=>{if(r.f){const B=_?u[l]:l.value;o?Ye(B)&&Ip(B,i):Ye(B)?B.includes(i)||B.push(i):_?(u[l]=[i],vt(p,l)&&(p[l]=u[l])):(l.value=[i],r.k&&(u[r.k]=l.value))}else _?(u[l]=s,vt(p,l)&&(p[l]=s)):T&&(l.value=s,r.k&&(u[r.k]=s))};s?(I.id=-1,Jr(I,t)):I()}}}const Jr=T7;function e9(r){return t9(r)}function t9(r,e){const t=N5();t.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:s,createText:a,createComment:l,setText:f,setElementText:u,parentNode:p,nextSibling:_,setScopeId:T=ii,cloneNode:I,insertStaticContent:B}=r,P=(F,V,K,O=null,k=null,M=null,R=!1,$=null,H=!!V.dynamicChildren)=>{if(F===V)return;F&&!Mf(F,V)&&(O=G(F),S(F,k,M,!0),F=null),V.patchFlag===-2&&(H=!1,V.dynamicChildren=null);const{type:Q,ref:oe,shapeFlag:te}=V;switch(Q){case qp:C(F,V,K,O);break;case Da:L(F,V,K,O);break;case Ch:F==null&&j(V,K,O,R);break;case an:b(F,V,K,O,k,M,R,$,H);break;default:te&1?re(F,V,K,O,k,M,R,$,H):te&6?c(F,V,K,O,k,M,R,$,H):(te&64||te&128)&&Q.process(F,V,K,O,k,M,R,$,H,ae)}oe!=null&&k&&j1(oe,F&&F.ref,M,V||F,!V)},C=(F,V,K,O)=>{if(F==null)n(V.el=a(V.children),K,O);else{const k=V.el=F.el;V.children!==F.children&&f(k,V.children)}},L=(F,V,K,O)=>{F==null?n(V.el=l(V.children||""),K,O):V.el=F.el},j=(F,V,K,O)=>{[F.el,F.anchor]=B(F.children,V,K,O,F.el,F.anchor)},z=({el:F,anchor:V},K,O)=>{let k;for(;F&&F!==V;)k=_(F),n(F,K,O),F=k;n(V,K,O)},Y=({el:F,anchor:V})=>{let K;for(;F&&F!==V;)K=_(F),o(F),F=K;o(V)},re=(F,V,K,O,k,M,R,$,H)=>{R=R||V.type==="svg",F==null?ge(V,K,O,k,M,R,$,H):Ce(F,V,k,M,R,$,H)},ge=(F,V,K,O,k,M,R,$)=>{let H,Q;const{type:oe,props:te,shapeFlag:le,transition:fe,patchFlag:se,dirs:Ie}=F;if(F.el&&I!==void 0&&se===-1)H=F.el=I(F.el);else{if(H=F.el=s(F.type,M,te&&te.is,te),le&8?u(H,F.children):le&16&&be(F.children,H,null,O,k,M&&oe!=="foreignObject",R,$),Ie&&fs(F,null,O,"created"),te){for(const de in te)de!=="value"&&!Fl(de)&&i(H,de,null,te[de],M,F.children,O,k,q);"value"in te&&i(H,"value",null,te.value),(Q=te.onVnodeBeforeMount)&&vi(Q,O,F)}ce(H,F,F.scopeId,R,O)}Ie&&fs(F,null,O,"beforeMount");const xe=(!k||k&&!k.pendingBranch)&&fe&&!fe.persisted;xe&&fe.beforeEnter(H),n(H,V,K),((Q=te&&te.onVnodeMounted)||xe||Ie)&&Jr(()=>{Q&&vi(Q,O,F),xe&&fe.enter(H),Ie&&fs(F,null,O,"mounted")},k)},ce=(F,V,K,O,k)=>{if(K&&T(F,K),O)for(let M=0;M<O.length;M++)T(F,O[M]);if(k){let M=k.subTree;if(V===M){const R=k.vnode;ce(F,R,R.scopeId,R.slotScopeIds,k.parent)}}},be=(F,V,K,O,k,M,R,$,H=0)=>{for(let Q=H;Q<F.length;Q++){const oe=F[Q]=$?No(F[Q]):_i(F[Q]);P(null,oe,V,K,O,k,M,R,$)}},Ce=(F,V,K,O,k,M,R)=>{const $=V.el=F.el;let{patchFlag:H,dynamicChildren:Q,dirs:oe}=V;H|=F.patchFlag&16;const te=F.props||Ut,le=V.props||Ut;let fe;K&&cs(K,!1),(fe=le.onVnodeBeforeUpdate)&&vi(fe,K,V,F),oe&&fs(V,F,K,"beforeUpdate"),K&&cs(K,!0);const se=k&&V.type!=="foreignObject";if(Q?U(F.dynamicChildren,Q,$,K,O,se,M):R||w(F,V,$,null,K,O,se,M,!1),H>0){if(H&16)E($,V,te,le,K,O,k);else if(H&2&&te.class!==le.class&&i($,"class",null,le.class,k),H&4&&i($,"style",te.style,le.style,k),H&8){const Ie=V.dynamicProps;for(let xe=0;xe<Ie.length;xe++){const de=Ie[xe],ze=te[de],Ue=le[de];(Ue!==ze||de==="value")&&i($,de,ze,Ue,k,F.children,K,O,q)}}H&1&&F.children!==V.children&&u($,V.children)}else!R&&Q==null&&E($,V,te,le,K,O,k);((fe=le.onVnodeUpdated)||oe)&&Jr(()=>{fe&&vi(fe,K,V,F),oe&&fs(V,F,K,"updated")},O)},U=(F,V,K,O,k,M,R)=>{for(let $=0;$<V.length;$++){const H=F[$],Q=V[$],oe=H.el&&(H.type===an||!Mf(H,Q)||H.shapeFlag&70)?p(H.el):K;P(H,Q,oe,null,O,k,M,R,!0)}},E=(F,V,K,O,k,M,R)=>{if(K!==O){for(const $ in O){if(Fl($))continue;const H=O[$],Q=K[$];H!==Q&&$!=="value"&&i(F,$,Q,H,R,V.children,k,M,q)}if(K!==Ut)for(const $ in K)!Fl($)&&!($ in O)&&i(F,$,K[$],null,R,V.children,k,M,q);"value"in O&&i(F,"value",K.value,O.value)}},b=(F,V,K,O,k,M,R,$,H)=>{const Q=V.el=F?F.el:a(""),oe=V.anchor=F?F.anchor:a("");let{patchFlag:te,dynamicChildren:le,slotScopeIds:fe}=V;fe&&($=$?$.concat(fe):fe),F==null?(n(Q,K,O),n(oe,K,O),be(V.children,K,oe,k,M,R,$,H)):te>0&&te&64&&le&&F.dynamicChildren?(U(F.dynamicChildren,le,K,k,M,R,$),(V.key!=null||k&&V===k.subTree)&&Vx(F,V,!0)):w(F,V,K,oe,k,M,R,$,H)},c=(F,V,K,O,k,M,R,$,H)=>{V.slotScopeIds=$,F==null?V.shapeFlag&512?k.ctx.activate(V,K,O,R,H):d(V,K,O,k,M,R,H):v(F,V,H)},d=(F,V,K,O,k,M,R)=>{const $=F.component=u9(F,O,k);if(Mx(F)&&($.ctx.renderer=ae),h9($),$.asyncDep){if(k&&k.registerDep($,y),!F.el){const H=$.subTree=Pt(Da);L(null,H,V,K)}return}y($,F,V,K,k,M,R)},v=(F,V,K)=>{const O=V.component=F.component;if(S7(F,V,K))if(O.asyncDep&&!O.asyncResolved){x(O,V,K);return}else O.next=V,m7(O.update),O.update();else V.el=F.el,O.vnode=V},y=(F,V,K,O,k,M,R)=>{const $=()=>{if(F.isMounted){let{next:oe,bu:te,u:le,parent:fe,vnode:se}=F,Ie=oe,xe;cs(F,!1),oe?(oe.el=se.el,x(F,oe,R)):oe=se,te&&Mh(te),(xe=oe.props&&oe.props.onVnodeBeforeUpdate)&&vi(xe,fe,oe,se),cs(F,!0);const de=Ph(F),ze=F.subTree;F.subTree=de,P(ze,de,p(ze.el),G(ze),F,k,M),oe.el=de.el,Ie===null&&_7(F,de.el),le&&Jr(le,k),(xe=oe.props&&oe.props.onVnodeUpdated)&&Jr(()=>vi(xe,fe,oe,se),k)}else{let oe;const{el:te,props:le}=V,{bm:fe,m:se,parent:Ie}=F,xe=Zf(V);if(cs(F,!1),fe&&Mh(fe),!xe&&(oe=le&&le.onVnodeBeforeMount)&&vi(oe,Ie,V),cs(F,!0),te&&ee){const de=()=>{F.subTree=Ph(F),ee(te,F.subTree,F,k,null)};xe?V.type.__asyncLoader().then(()=>!F.isUnmounted&&de()):de()}else{const de=F.subTree=Ph(F);P(null,de,K,O,F,k,M),V.el=de.el}if(se&&Jr(se,k),!xe&&(oe=le&&le.onVnodeMounted)){const de=V;Jr(()=>vi(oe,Ie,de),k)}(V.shapeFlag&256||Ie&&Zf(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&F.a&&Jr(F.a,k),F.isMounted=!0,V=K=O=null}},H=F.effect=new Rp($,()=>Vp(Q),F.scope),Q=F.update=()=>H.run();Q.id=F.uid,cs(F,!0),Q()},x=(F,V,K)=>{V.component=F;const O=F.vnode.props;F.vnode=V,F.next=null,W7(F,V.props,O,K),Y7(F,V.children,K),of(),Cb(),sf()},w=(F,V,K,O,k,M,R,$,H=!1)=>{const Q=F&&F.children,oe=F?F.shapeFlag:0,te=V.children,{patchFlag:le,shapeFlag:fe}=V;if(le>0){if(le&128){g(Q,te,K,O,k,M,R,$,H);return}else if(le&256){m(Q,te,K,O,k,M,R,$,H);return}}fe&8?(oe&16&&q(Q,k,M),te!==Q&&u(K,te)):oe&16?fe&16?g(Q,te,K,O,k,M,R,$,H):q(Q,k,M,!0):(oe&8&&u(K,""),fe&16&&be(te,K,O,k,M,R,$,H))},m=(F,V,K,O,k,M,R,$,H)=>{F=F||_a,V=V||_a;const Q=F.length,oe=V.length,te=Math.min(Q,oe);let le;for(le=0;le<te;le++){const fe=V[le]=H?No(V[le]):_i(V[le]);P(F[le],fe,K,null,k,M,R,$,H)}Q>oe?q(F,k,M,!0,!1,te):be(V,K,O,k,M,R,$,H,te)},g=(F,V,K,O,k,M,R,$,H)=>{let Q=0;const oe=V.length;let te=F.length-1,le=oe-1;for(;Q<=te&&Q<=le;){const fe=F[Q],se=V[Q]=H?No(V[Q]):_i(V[Q]);if(Mf(fe,se))P(fe,se,K,null,k,M,R,$,H);else break;Q++}for(;Q<=te&&Q<=le;){const fe=F[te],se=V[le]=H?No(V[le]):_i(V[le]);if(Mf(fe,se))P(fe,se,K,null,k,M,R,$,H);else break;te--,le--}if(Q>te){if(Q<=le){const fe=le+1,se=fe<oe?V[fe].el:O;for(;Q<=le;)P(null,V[Q]=H?No(V[Q]):_i(V[Q]),K,se,k,M,R,$,H),Q++}}else if(Q>le)for(;Q<=te;)S(F[Q],k,M,!0),Q++;else{const fe=Q,se=Q,Ie=new Map;for(Q=se;Q<=le;Q++){const ue=V[Q]=H?No(V[Q]):_i(V[Q]);ue.key!=null&&Ie.set(ue.key,Q)}let xe,de=0;const ze=le-se+1;let Ue=!1,W=0;const X=new Array(ze);for(Q=0;Q<ze;Q++)X[Q]=0;for(Q=fe;Q<=te;Q++){const ue=F[Q];if(de>=ze){S(ue,k,M,!0);continue}let Be;if(ue.key!=null)Be=Ie.get(ue.key);else for(xe=se;xe<=le;xe++)if(X[xe-se]===0&&Mf(ue,V[xe])){Be=xe;break}Be===void 0?S(ue,k,M,!0):(X[Be-se]=Q+1,Be>=W?W=Be:Ue=!0,P(ue,V[Be],K,null,k,M,R,$,H),de++)}const ye=Ue?r9(X):_a;for(xe=ye.length-1,Q=ze-1;Q>=0;Q--){const ue=se+Q,Be=V[ue],ve=ue+1<oe?V[ue+1].el:O;X[Q]===0?P(null,Be,K,ve,k,M,R,$,H):Ue&&(xe<0||Q!==ye[xe]?h(Be,K,ve,2):xe--)}}},h=(F,V,K,O,k=null)=>{const{el:M,type:R,transition:$,children:H,shapeFlag:Q}=F;if(Q&6){h(F.component.subTree,V,K,O);return}if(Q&128){F.suspense.move(V,K,O);return}if(Q&64){R.move(F,V,K,ae);return}if(R===an){n(M,V,K);for(let te=0;te<H.length;te++)h(H[te],V,K,O);n(F.anchor,V,K);return}if(R===Ch){z(F,V,K);return}if(O!==2&&Q&1&&$)if(O===0)$.beforeEnter(M),n(M,V,K),Jr(()=>$.enter(M),k);else{const{leave:te,delayLeave:le,afterLeave:fe}=$,se=()=>n(M,V,K),Ie=()=>{te(M,()=>{se(),fe&&fe()})};le?le(M,se,Ie):Ie()}else n(M,V,K)},S=(F,V,K,O=!1,k=!1)=>{const{type:M,props:R,ref:$,children:H,dynamicChildren:Q,shapeFlag:oe,patchFlag:te,dirs:le}=F;if($!=null&&j1($,null,K,F,!0),oe&256){V.ctx.deactivate(F);return}const fe=oe&1&&le,se=!Zf(F);let Ie;if(se&&(Ie=R&&R.onVnodeBeforeUnmount)&&vi(Ie,V,F),oe&6)N(F.component,K,O);else{if(oe&128){F.suspense.unmount(K,O);return}fe&&fs(F,null,V,"beforeUnmount"),oe&64?F.type.remove(F,V,K,k,ae,O):Q&&(M!==an||te>0&&te&64)?q(Q,V,K,!1,!0):(M===an&&te&384||!k&&oe&16)&&q(H,V,K),O&&D(F)}(se&&(Ie=R&&R.onVnodeUnmounted)||fe)&&Jr(()=>{Ie&&vi(Ie,V,F),fe&&fs(F,null,V,"unmounted")},K)},D=F=>{const{type:V,el:K,anchor:O,transition:k}=F;if(V===an){A(K,O);return}if(V===Ch){Y(F);return}const M=()=>{o(K),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(F.shapeFlag&1&&k&&!k.persisted){const{leave:R,delayLeave:$}=k,H=()=>R(K,M);$?$(F.el,M,H):H()}else M()},A=(F,V)=>{let K;for(;F!==V;)K=_(F),o(F),F=K;o(V)},N=(F,V,K)=>{const{bum:O,scope:k,update:M,subTree:R,um:$}=F;O&&Mh(O),k.stop(),M&&(M.active=!1,S(R,F,V,K)),$&&Jr($,V),Jr(()=>{F.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},q=(F,V,K,O=!1,k=!1,M=0)=>{for(let R=M;R<F.length;R++)S(F[R],V,K,O,k)},G=F=>F.shapeFlag&6?G(F.component.subTree):F.shapeFlag&128?F.suspense.next():_(F.anchor||F.el),Z=(F,V,K)=>{F==null?V._vnode&&S(V._vnode,null,null,!0):P(V._vnode||null,F,V,null,null,null,K),Cb(),xx(),V._vnode=F},ae={p:P,um:S,m:h,r:D,mt:d,mc:be,pc:w,pbc:U,n:G,o:r};let ne,ee;return e&&([ne,ee]=e(ae)),{render:Z,hydrate:ne,createApp:X7(Z,ne)}}function cs({effect:r,update:e},t){r.allowRecurse=e.allowRecurse=t}function Vx(r,e,t=!1){const n=r.children,o=e.children;if(Ye(n)&&Ye(o))for(let i=0;i<n.length;i++){const s=n[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=No(o[i]),a.el=s.el),t||Vx(s,a))}}function r9(r){const e=r.slice(),t=[0];let n,o,i,s,a;const l=r.length;for(n=0;n<l;n++){const f=r[n];if(f!==0){if(o=t[t.length-1],r[o]<f){e[n]=o,t.push(n);continue}for(i=0,s=t.length-1;i<s;)a=i+s>>1,r[t[a]]<f?i=a+1:s=a;f<r[t[i]]&&(i>0&&(e[n]=t[i-1]),t[i]=n)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}const n9=r=>r.__isTeleport,an=Symbol(void 0),qp=Symbol(void 0),Da=Symbol(void 0),Ch=Symbol(void 0),Xf=[];let ei=null;function hi(r=!1){Xf.push(ei=r?null:[])}function i9(){Xf.pop(),ei=Xf[Xf.length-1]||null}let pc=1;function $b(r){pc+=r}function jx(r){return r.dynamicChildren=pc>0?ei||_a:null,i9(),pc>0&&ei&&ei.push(r),r}function qi(r,e,t,n,o,i){return jx(at(r,e,t,n,o,i,!0))}function o9(r,e,t,n,o){return jx(Pt(r,e,t,n,o,!0))}function au(r){return r?r.__v_isVNode===!0:!1}function Mf(r,e){return r.type===e.type&&r.key===e.key}const zu="__vInternal",qx=({key:r})=>r??null,jl=({ref:r,ref_key:e,ref_for:t})=>r!=null?vr(r)||Br(r)||tt(r)?{i:fn,r,k:e,f:!!t}:r:null;function at(r,e=null,t=null,n=0,o=null,i=r===an?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&qx(e),ref:e&&jl(e),scopeId:Gu,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(Hp(l,t),i&128&&r.normalize(l)):t&&(l.shapeFlag|=vr(t)?8:16),pc>0&&!s&&ei&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ei.push(l),l}const Pt=s9;function s9(r,e=null,t=null,n=0,o=null,i=!1){if((!r||r===$7)&&(r=Da),au(r)){const a=Fa(r,e,!0);return t&&Hp(a,t),pc>0&&!i&&ei&&(a.shapeFlag&6?ei[ei.indexOf(r)]=a:ei.push(a)),a.patchFlag|=-2,a}if(b9(r)&&(r=r.__vccOpts),e){e=a9(e);let{class:a,style:l}=e;a&&!vr(a)&&(e.class=Mp(a)),Gt(l)&&(lx(l)&&!Ye(l)&&(l=qr({},l)),e.style=Tp(l))}const s=vr(r)?1:k7(r)?128:n9(r)?64:Gt(r)?4:tt(r)?2:0;return at(r,e,t,n,o,s,i,!0)}function a9(r){return r?lx(r)||zu in r?qr({},r):r:null}function Fa(r,e,t=!1){const{props:n,ref:o,patchFlag:i,children:s}=r,a=e?f9(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:a,key:a&&qx(a),ref:e&&e.ref?t&&o?Ye(o)?o.concat(jl(e)):[o,jl(e)]:jl(e):o,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==an?i===-1?16:i|16:i,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Fa(r.ssContent),ssFallback:r.ssFallback&&Fa(r.ssFallback),el:r.el,anchor:r.anchor}}function yt(r=" ",e=0){return Pt(qp,null,r,e)}function _i(r){return r==null||typeof r=="boolean"?Pt(Da):Ye(r)?Pt(an,null,r.slice()):typeof r=="object"?No(r):Pt(qp,null,String(r))}function No(r){return r.el===null||r.memo?r:Fa(r)}function Hp(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(Ye(e))t=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),Hp(r,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!(zu in e)?e._ctx=fn:o===3&&fn&&(fn.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:fn},t=32):(e=String(e),n&64?(t=16,e=[yt(e)]):t=8);r.children=e,r.shapeFlag|=t}function f9(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=Mp([e.class,n.class]));else if(o==="style")e.style=Tp([e.style,n.style]);else if(Fu(o)){const i=e[o],s=n[o];s&&i!==s&&!(Ye(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=n[o])}return e}function vi(r,e,t,n=null){oi(r,e,7,[t,n])}const c9=$x();let l9=0;function u9(r,e,t){const n=r.type,o=(e?e.appContext:r.appContext)||c9,i={uid:l9++,vnode:r,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new L5(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lx(n,o),emitsOptions:Ax(n,o),emit:null,emitted:null,propsDefaults:Ut,inheritAttrs:n.inheritAttrs,ctx:Ut,data:Ut,props:Ut,attrs:Ut,slots:Ut,refs:Ut,setupState:Ut,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=w7.bind(null,i),r.ce&&r.ce(i),i}let Mr=null;const $a=r=>{Mr=r,r.scope.on()},ws=()=>{Mr&&Mr.scope.off(),Mr=null};function Hx(r){return r.vnode.shapeFlag&4}let gc=!1;function h9(r,e=!1){gc=e;const{props:t,children:n}=r.vnode,o=Hx(r);z7(r,t,o,e),Q7(r,n);const i=o?d9(r,e):void 0;return gc=!1,i}function d9(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=ux(new Proxy(r.ctx,V7));const{setup:n}=t;if(n){const o=r.setupContext=n.length>1?g9(r):null;$a(r),of();const i=jo(n,r,0,[r.props,o]);if(sf(),ws(),J2(i)){if(i.then(ws,ws),e)return i.then(s=>{Vb(r,s,e)}).catch(s=>{qu(s,r,0)});r.asyncDep=i}else Vb(r,i,e)}else Gx(r,e)}function Vb(r,e,t){tt(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Gt(e)&&(r.setupState=gx(e)),Gx(r,t)}let jb;function Gx(r,e,t){const n=r.type;if(!r.render){if(!e&&jb&&!n.render){const o=n.template;if(o){const{isCustomElement:i,compilerOptions:s}=r.appContext.config,{delimiters:a,compilerOptions:l}=n,f=qr(qr({isCustomElement:i,delimiters:a},s),l);n.render=jb(o,f)}}r.render=n.render||ii}$a(r),of(),j7(r),sf(),ws()}function p9(r){return new Proxy(r.attrs,{get(e,t){return cn(r,"get","$attrs"),e[t]}})}function g9(r){const e=n=>{r.exposed=n||{}};let t;return{get attrs(){return t||(t=p9(r))},slots:r.slots,emit:r.emit,expose:e}}function Gp(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(gx(ux(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in ou)return ou[t](r)}}))}function b9(r){return tt(r)&&"__vccOpts"in r}const yn=(r,e)=>g7(r,e,gc);function Kx(r,e,t){const n=arguments.length;return n===2?Gt(e)&&!Ye(e)?au(e)?Pt(r,null,[e]):Pt(r,e):Pt(r,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&au(t)&&(t=[t]),Pt(r,e,t))}const v9="3.2.38",m9="http://www.w3.org/2000/svg",gs=typeof document<"u"?document:null,qb=gs&&gs.createElement("template"),y9={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,n)=>{const o=e?gs.createElementNS(m9,r):gs.createElement(r,t?{is:t}:void 0);return r==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:r=>gs.createTextNode(r),createComment:r=>gs.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>gs.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},cloneNode(r){const e=r.cloneNode(!0);return"_value"in r&&(e._value=r._value),e},insertStaticContent(r,e,t,n,o,i){const s=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{qb.innerHTML=n?`<svg>${r}</svg>`:r;const a=qb.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function x9(r,e,t){const n=r._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}function w9(r,e,t){const n=r.style,o=vr(t);if(t&&!o){for(const i in t)q1(n,i,t[i]);if(e&&!vr(e))for(const i in e)t[i]==null&&q1(n,i,"")}else{const i=n.display;o?e!==t&&(n.cssText=t):e&&r.removeAttribute("style"),"_vod"in r&&(n.display=i)}}const Hb=/\s*!important$/;function q1(r,e,t){if(Ye(t))t.forEach(n=>q1(r,e,n));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const n=A9(r,e);Hb.test(t)?r.setProperty(nf(n),t.replace(Hb,""),"important"):r[n]=t}}const Gb=["Webkit","Moz","ms"],Bh={};function A9(r,e){const t=Bh[e];if(t)return t;let n=La(e);if(n!=="filter"&&n in r)return Bh[e]=n;n=Z2(n);for(let o=0;o<Gb.length;o++){const i=Gb[o]+n;if(i in r)return Bh[e]=i}return e}const Kb="http://www.w3.org/1999/xlink";function E9(r,e,t,n,o){if(n&&e.startsWith("xlink:"))t==null?r.removeAttributeNS(Kb,e.slice(6,e.length)):r.setAttributeNS(Kb,e,t);else{const i=E5(e);t==null||i&&!K2(t)?r.removeAttribute(e):r.setAttribute(e,i?"":t)}}function S9(r,e,t,n,o,i,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,o,i),r[e]=t??"";return}if(e==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=t;const l=t??"";(r.value!==l||r.tagName==="OPTION")&&(r.value=l),t==null&&r.removeAttribute(e);return}let a=!1;if(t===""||t==null){const l=typeof r[e];l==="boolean"?t=K2(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{r[e]=t}catch{}a&&r.removeAttribute(e)}const[zx,_9]=(()=>{let r=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(r=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[r,e]})();let H1=0;const k9=Promise.resolve(),T9=()=>{H1=0},M9=()=>H1||(k9.then(T9),H1=zx());function P9(r,e,t,n){r.addEventListener(e,t,n)}function I9(r,e,t,n){r.removeEventListener(e,t,n)}function C9(r,e,t,n,o=null){const i=r._vei||(r._vei={}),s=i[e];if(n&&s)s.value=n;else{const[a,l]=B9(e);if(n){const f=i[e]=O9(n,o);P9(r,a,f,l)}else s&&(I9(r,a,s,l),i[e]=void 0)}}const zb=/(?:Once|Passive|Capture)$/;function B9(r){let e;if(zb.test(r)){e={};let n;for(;n=r.match(zb);)r=r.slice(0,r.length-n[0].length),e[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):nf(r.slice(2)),e]}function O9(r,e){const t=n=>{const o=n.timeStamp||zx();(_9||o>=t.attached-1)&&oi(R9(n,t.value),e,5,[n])};return t.value=r,t.attached=M9(),t}function R9(r,e){if(Ye(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const Wb=/^on[a-z]/,N9=(r,e,t,n,o=!1,i,s,a,l)=>{e==="class"?x9(r,n,o):e==="style"?w9(r,t,n):Fu(e)?Pp(e)||C9(r,e,t,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):L9(r,e,n,o))?S9(r,e,n,i,s,a,l):(e==="true-value"?r._trueValue=n:e==="false-value"&&(r._falseValue=n),E9(r,e,n,o))};function L9(r,e,t,n){return n?!!(e==="innerHTML"||e==="textContent"||e in r&&Wb.test(e)&&tt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA"||Wb.test(e)&&vr(t)?!1:e in r}const U9=qr({patchProp:N9},y9);let Jb;function D9(){return Jb||(Jb=e9(U9))}const F9=(...r)=>{const e=D9().createApp(...r),{mount:t}=e;return e.mount=n=>{const o=$9(n);if(!o)return;const i=e._component;!tt(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=t(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function $9(r){return vr(r)?document.querySelector(r):r}const V9="/token-negotiator-examples/vue-vite-boilerplate/assets/logo.da9b9095.svg";/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const pa=typeof window<"u";function j9(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const kt=Object.assign;function Oh(r,e){const t={};for(const n in e){const o=e[n];t[n]=fi(o)?o.map(r):r(o)}return t}const ec=()=>{},fi=Array.isArray,q9=/\/$/,H9=r=>r.replace(q9,"");function Rh(r,e,t="/"){let n,o={},i="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),o=r(i)),a>-1&&(n=n||e.slice(0,a),s=e.slice(a,e.length)),n=W9(n??e,t),{fullPath:n+(i&&"?")+i+s,path:n,query:o,hash:s}}function G9(r,e){const t=e.query?r(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Qb(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function K9(r,e,t){const n=e.matched.length-1,o=t.matched.length-1;return n>-1&&n===o&&Va(e.matched[n],t.matched[o])&&Wx(e.params,t.params)&&r(e.query)===r(t.query)&&e.hash===t.hash}function Va(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function Wx(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(!z9(r[t],e[t]))return!1;return!0}function z9(r,e){return fi(r)?Yb(r,e):fi(e)?Yb(e,r):r===e}function Yb(r,e){return fi(e)?r.length===e.length&&r.every((t,n)=>t===e[n]):r.length===1&&r[0]===e}function W9(r,e){if(r.startsWith("/"))return r;if(!r)return e;const t=e.split("/"),n=r.split("/");let o=t.length-1,i,s;for(i=0;i<n.length;i++)if(s=n[i],s!==".")if(s==="..")o>1&&o--;else break;return t.slice(0,o).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}var bc;(function(r){r.pop="pop",r.push="push"})(bc||(bc={}));var tc;(function(r){r.back="back",r.forward="forward",r.unknown=""})(tc||(tc={}));function J9(r){if(!r)if(pa){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),H9(r)}const Q9=/^[^#]+#/;function Y9(r,e){return r.replace(Q9,"#")+e}function Z9(r,e){const t=document.documentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const Wu=()=>({left:window.pageXOffset,top:window.pageYOffset});function X9(r){let e;if("el"in r){const t=r.el,n=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=Z9(o,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Zb(r,e){return(history.state?history.state.position-e:-1)+r}const G1=new Map;function eA(r,e){G1.set(r,e)}function tA(r){const e=G1.get(r);return G1.delete(r),e}let rA=()=>location.protocol+"//"+location.host;function Jx(r,e){const{pathname:t,search:n,hash:o}=e,i=r.indexOf("#");if(i>-1){let a=o.includes(r.slice(i))?r.slice(i).length:1,l=o.slice(a);return l[0]!=="/"&&(l="/"+l),Qb(l,"")}return Qb(t,r)+n+o}function nA(r,e,t,n){let o=[],i=[],s=null;const a=({state:_})=>{const T=Jx(r,location),I=t.value,B=e.value;let P=0;if(_){if(t.value=T,e.value=_,s&&s===I){s=null;return}P=B?_.position-B.position:0}else n(T);o.forEach(C=>{C(t.value,I,{delta:P,type:bc.pop,direction:P?P>0?tc.forward:tc.back:tc.unknown})})};function l(){s=t.value}function f(_){o.push(_);const T=()=>{const I=o.indexOf(_);I>-1&&o.splice(I,1)};return i.push(T),T}function u(){const{history:_}=window;!_.state||_.replaceState(kt({},_.state,{scroll:Wu()}),"")}function p(){for(const _ of i)_();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:f,destroy:p}}function Xb(r,e,t,n=!1,o=!1){return{back:r,current:e,forward:t,replaced:n,position:window.history.length,scroll:o?Wu():null}}function iA(r){const{history:e,location:t}=window,n={value:Jx(r,t)},o={value:e.state};o.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,f,u){const p=r.indexOf("#"),_=p>-1?(t.host&&document.querySelector("base")?r:r.slice(p))+l:rA()+r+l;try{e[u?"replaceState":"pushState"](f,"",_),o.value=f}catch(T){console.error(T),t[u?"replace":"assign"](_)}}function s(l,f){const u=kt({},e.state,Xb(o.value.back,l,o.value.forward,!0),f,{position:o.value.position});i(l,u,!0),n.value=l}function a(l,f){const u=kt({},o.value,e.state,{forward:l,scroll:Wu()});i(u.current,u,!0);const p=kt({},Xb(n.value,l,null),{position:u.position+1},f);i(l,p,!1),n.value=l}return{location:n,state:o,push:a,replace:s}}function oA(r){r=J9(r);const e=iA(r),t=nA(r,e.state,e.location,e.replace);function n(i,s=!0){s||t.pauseListeners(),history.go(i)}const o=kt({location:"",base:r,go:n,createHref:Y9.bind(null,r)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function sA(r){return typeof r=="string"||r&&typeof r=="object"}function Qx(r){return typeof r=="string"||typeof r=="symbol"}const Co={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Yx=Symbol("");var ev;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(ev||(ev={}));function ja(r,e){return kt(new Error,{type:r,[Yx]:!0},e)}function Wi(r,e){return r instanceof Error&&Yx in r&&(e==null||!!(r.type&e))}const tv="[^/]+?",aA={sensitive:!1,strict:!1,start:!0,end:!0},fA=/[.+*?^${}()[\]/\\]/g;function cA(r,e){const t=kt({},aA,e),n=[];let o=t.start?"^":"";const i=[];for(const f of r){const u=f.length?[]:[90];t.strict&&!f.length&&(o+="/");for(let p=0;p<f.length;p++){const _=f[p];let T=40+(t.sensitive?.25:0);if(_.type===0)p||(o+="/"),o+=_.value.replace(fA,"\\$&"),T+=40;else if(_.type===1){const{value:I,repeatable:B,optional:P,regexp:C}=_;i.push({name:I,repeatable:B,optional:P});const L=C||tv;if(L!==tv){T+=10;try{new RegExp(`(${L})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${I}" (${L}): `+z.message)}}let j=B?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;p||(j=P&&f.length<2?`(?:/${j})`:"/"+j),P&&(j+="?"),o+=j,T+=20,P&&(T+=-8),B&&(T+=-20),L===".*"&&(T+=-50)}u.push(T)}n.push(u)}if(t.strict&&t.end){const f=n.length-1;n[f][n[f].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const s=new RegExp(o,t.sensitive?"":"i");function a(f){const u=f.match(s),p={};if(!u)return null;for(let _=1;_<u.length;_++){const T=u[_]||"",I=i[_-1];p[I.name]=T&&I.repeatable?T.split("/"):T}return p}function l(f){let u="",p=!1;for(const _ of r){(!p||!u.endsWith("/"))&&(u+="/"),p=!1;for(const T of _)if(T.type===0)u+=T.value;else if(T.type===1){const{value:I,repeatable:B,optional:P}=T,C=I in f?f[I]:"";if(fi(C)&&!B)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const L=fi(C)?C.join("/"):C;if(!L)if(P)_.length<2&&(u.endsWith("/")?u=u.slice(0,-1):p=!0);else throw new Error(`Missing required param "${I}"`);u+=L}}return u||"/"}return{re:s,score:n,keys:i,parse:a,stringify:l}}function lA(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=e[t]-r[t];if(n)return n;t++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function uA(r,e){let t=0;const n=r.score,o=e.score;for(;t<n.length&&t<o.length;){const i=lA(n[t],o[t]);if(i)return i;t++}if(Math.abs(o.length-n.length)===1){if(rv(n))return 1;if(rv(o))return-1}return o.length-n.length}function rv(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const hA={type:0,value:""},dA=/[a-zA-Z0-9_]/;function pA(r){if(!r)return[[]];if(r==="/")return[[hA]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(T){throw new Error(`ERR (${t})/"${f}": ${T}`)}let t=0,n=t;const o=[];let i;function s(){i&&o.push(i),i=[]}let a=0,l,f="",u="";function p(){!f||(t===0?i.push({type:0,value:f}):t===1||t===2||t===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=l}for(;a<r.length;){if(l=r[a++],l==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:l==="/"?(f&&p(),s()):l===":"?(p(),t=1):_();break;case 4:_(),t=n;break;case 1:l==="("?t=2:dA.test(l)?_():(p(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:p(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${f}"`),p(),s(),o}function gA(r,e,t){const n=cA(pA(r.path),t),o=kt(n,{record:r,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function bA(r,e){const t=[],n=new Map;e=ov({strict:!1,end:!0,sensitive:!1},e);function o(u){return n.get(u)}function i(u,p,_){const T=!_,I=vA(u);I.aliasOf=_&&_.record;const B=ov(e,u),P=[I];if("alias"in u){const j=typeof u.alias=="string"?[u.alias]:u.alias;for(const z of j)P.push(kt({},I,{components:_?_.record.components:I.components,path:z,aliasOf:_?_.record:I}))}let C,L;for(const j of P){const{path:z}=j;if(p&&z[0]!=="/"){const Y=p.record.path,re=Y[Y.length-1]==="/"?"":"/";j.path=p.record.path+(z&&re+z)}if(C=gA(j,p,B),_?_.alias.push(C):(L=L||C,L!==C&&L.alias.push(C),T&&u.name&&!iv(C)&&s(u.name)),I.children){const Y=I.children;for(let re=0;re<Y.length;re++)i(Y[re],C,_&&_.children[re])}_=_||C,l(C)}return L?()=>{s(L)}:ec}function s(u){if(Qx(u)){const p=n.get(u);p&&(n.delete(u),t.splice(t.indexOf(p),1),p.children.forEach(s),p.alias.forEach(s))}else{const p=t.indexOf(u);p>-1&&(t.splice(p,1),u.record.name&&n.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return t}function l(u){let p=0;for(;p<t.length&&uA(u,t[p])>=0&&(u.record.path!==t[p].record.path||!Zx(u,t[p]));)p++;t.splice(p,0,u),u.record.name&&!iv(u)&&n.set(u.record.name,u)}function f(u,p){let _,T={},I,B;if("name"in u&&u.name){if(_=n.get(u.name),!_)throw ja(1,{location:u});B=_.record.name,T=kt(nv(p.params,_.keys.filter(L=>!L.optional).map(L=>L.name)),u.params&&nv(u.params,_.keys.map(L=>L.name))),I=_.stringify(T)}else if("path"in u)I=u.path,_=t.find(L=>L.re.test(I)),_&&(T=_.parse(I),B=_.record.name);else{if(_=p.name?n.get(p.name):t.find(L=>L.re.test(p.path)),!_)throw ja(1,{location:u,currentLocation:p});B=_.record.name,T=kt({},p.params,u.params),I=_.stringify(T)}const P=[];let C=_;for(;C;)P.unshift(C.record),C=C.parent;return{name:B,path:I,params:T,matched:P,meta:yA(P)}}return r.forEach(u=>i(u)),{addRoute:i,resolve:f,removeRoute:s,getRoutes:a,getRecordMatcher:o}}function nv(r,e){const t={};for(const n of e)n in r&&(t[n]=r[n]);return t}function vA(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:mA(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function mA(r){const e={},t=r.props||!1;if("component"in r)e.default=t;else for(const n in r.components)e[n]=typeof t=="boolean"?t:t[n];return e}function iv(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function yA(r){return r.reduce((e,t)=>kt(e,t.meta),{})}function ov(r,e){const t={};for(const n in r)t[n]=n in e?e[n]:r[n];return t}function Zx(r,e){return e.children.some(t=>t===r||Zx(r,t))}const Xx=/#/g,xA=/&/g,wA=/\//g,AA=/=/g,EA=/\?/g,e3=/\+/g,SA=/%5B/g,_A=/%5D/g,t3=/%5E/g,kA=/%60/g,r3=/%7B/g,TA=/%7C/g,n3=/%7D/g,MA=/%20/g;function Kp(r){return encodeURI(""+r).replace(TA,"|").replace(SA,"[").replace(_A,"]")}function PA(r){return Kp(r).replace(r3,"{").replace(n3,"}").replace(t3,"^")}function K1(r){return Kp(r).replace(e3,"%2B").replace(MA,"+").replace(Xx,"%23").replace(xA,"%26").replace(kA,"`").replace(r3,"{").replace(n3,"}").replace(t3,"^")}function IA(r){return K1(r).replace(AA,"%3D")}function CA(r){return Kp(r).replace(Xx,"%23").replace(EA,"%3F")}function BA(r){return r==null?"":CA(r).replace(wA,"%2F")}function fu(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function OA(r){const e={};if(r===""||r==="?")return e;const n=(r[0]==="?"?r.slice(1):r).split("&");for(let o=0;o<n.length;++o){const i=n[o].replace(e3," "),s=i.indexOf("="),a=fu(s<0?i:i.slice(0,s)),l=s<0?null:fu(i.slice(s+1));if(a in e){let f=e[a];fi(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function sv(r){let e="";for(let t in r){const n=r[t];if(t=IA(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(fi(n)?n.map(i=>i&&K1(i)):[n&&K1(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function RA(r){const e={};for(const t in r){const n=r[t];n!==void 0&&(e[t]=fi(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const NA=Symbol(""),av=Symbol(""),zp=Symbol(""),i3=Symbol(""),z1=Symbol("");function Pf(){let r=[];function e(n){return r.push(n),()=>{const o=r.indexOf(n);o>-1&&r.splice(o,1)}}function t(){r=[]}return{add:e,list:()=>r,reset:t}}function Lo(r,e,t,n,o){const i=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((s,a)=>{const l=p=>{p===!1?a(ja(4,{from:t,to:e})):p instanceof Error?a(p):sA(p)?a(ja(2,{from:e,to:p})):(i&&n.enterCallbacks[o]===i&&typeof p=="function"&&i.push(p),s())},f=r.call(n&&n.instances[o],e,t,l);let u=Promise.resolve(f);r.length<3&&(u=u.then(l)),u.catch(p=>a(p))})}function Nh(r,e,t,n){const o=[];for(const i of r)for(const s in i.components){let a=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(LA(a)){const f=(a.__vccOpts||a)[e];f&&o.push(Lo(f,t,n,i,s))}else{let l=a();o.push(()=>l.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const u=j9(f)?f.default:f;i.components[s]=u;const _=(u.__vccOpts||u)[e];return _&&Lo(_,t,n,i,s)()}))}}return o}function LA(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function fv(r){const e=qo(zp),t=qo(i3),n=yn(()=>e.resolve(so(r.to))),o=yn(()=>{const{matched:l}=n.value,{length:f}=l,u=l[f-1],p=t.matched;if(!u||!p.length)return-1;const _=p.findIndex(Va.bind(null,u));if(_>-1)return _;const T=cv(l[f-2]);return f>1&&cv(u)===T&&p[p.length-1].path!==T?p.findIndex(Va.bind(null,l[f-2])):_}),i=yn(()=>o.value>-1&&FA(t.params,n.value.params)),s=yn(()=>o.value>-1&&o.value===t.matched.length-1&&Wx(t.params,n.value.params));function a(l={}){return DA(l)?e[so(r.replace)?"replace":"push"](so(r.to)).catch(ec):Promise.resolve()}return{route:n,href:yn(()=>n.value.href),isActive:i,isExactActive:s,navigate:a}}const UA=Tx({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fv,setup(r,{slots:e}){const t=af(fv(r)),{options:n}=qo(zp),o=yn(()=>({[lv(r.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[lv(r.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return r.custom?i:Kx("a",{"aria-current":t.isExactActive?r.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},i)}}}),W1=UA;function DA(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function FA(r,e){for(const t in e){const n=e[t],o=r[t];if(typeof n=="string"){if(n!==o)return!1}else if(!fi(o)||o.length!==n.length||n.some((i,s)=>i!==o[s]))return!1}return!0}function cv(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const lv=(r,e,t)=>r??e??t,$A=Tx({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:t}){const n=qo(z1),o=yn(()=>r.route||n.value),i=qo(av,0),s=yn(()=>{let f=so(i);const{matched:u}=o.value;let p;for(;(p=u[f])&&!p.components;)f++;return f}),a=yn(()=>o.value.matched[s.value]);$l(av,yn(()=>s.value+1)),$l(NA,a),$l(z1,o);const l=l7();return Vl(()=>[l.value,a.value,r.name],([f,u,p],[_,T,I])=>{u&&(u.instances[p]=f,T&&T!==u&&f&&f===_&&(u.leaveGuards.size||(u.leaveGuards=T.leaveGuards),u.updateGuards.size||(u.updateGuards=T.updateGuards))),f&&u&&(!T||!Va(u,T)||!_)&&(u.enterCallbacks[p]||[]).forEach(B=>B(f))},{flush:"post"}),()=>{const f=o.value,u=r.name,p=a.value,_=p&&p.components[u];if(!_)return uv(t.default,{Component:_,route:f});const T=p.props[u],I=T?T===!0?f.params:typeof T=="function"?T(f):T:null,P=Kx(_,kt({},I,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(p.instances[u]=null)},ref:l}));return uv(t.default,{Component:P,route:f})||P}}});function uv(r,e){if(!r)return null;const t=r(e);return t.length===1?t[0]:t}const o3=$A;function VA(r){const e=bA(r.routes,r),t=r.parseQuery||OA,n=r.stringifyQuery||sv,o=r.history,i=Pf(),s=Pf(),a=Pf(),l=u7(Co);let f=Co;pa&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Oh.bind(null,A=>""+A),p=Oh.bind(null,BA),_=Oh.bind(null,fu);function T(A,N){let q,G;return Qx(A)?(q=e.getRecordMatcher(A),G=N):G=A,e.addRoute(G,q)}function I(A){const N=e.getRecordMatcher(A);N&&e.removeRoute(N)}function B(){return e.getRoutes().map(A=>A.record)}function P(A){return!!e.getRecordMatcher(A)}function C(A,N){if(N=kt({},N||l.value),typeof A=="string"){const ee=Rh(t,A,N.path),F=e.resolve({path:ee.path},N),V=o.createHref(ee.fullPath);return kt(ee,F,{params:_(F.params),hash:fu(ee.hash),redirectedFrom:void 0,href:V})}let q;if("path"in A)q=kt({},A,{path:Rh(t,A.path,N.path).path});else{const ee=kt({},A.params);for(const F in ee)ee[F]==null&&delete ee[F];q=kt({},A,{params:p(A.params)}),N.params=p(N.params)}const G=e.resolve(q,N),Z=A.hash||"";G.params=u(_(G.params));const ae=G9(n,kt({},A,{hash:PA(Z),path:G.path})),ne=o.createHref(ae);return kt({fullPath:ae,hash:Z,query:n===sv?RA(A.query):A.query||{}},G,{redirectedFrom:void 0,href:ne})}function L(A){return typeof A=="string"?Rh(t,A,l.value.path):kt({},A)}function j(A,N){if(f!==A)return ja(8,{from:N,to:A})}function z(A){return ge(A)}function Y(A){return z(kt(L(A),{replace:!0}))}function re(A){const N=A.matched[A.matched.length-1];if(N&&N.redirect){const{redirect:q}=N;let G=typeof q=="function"?q(A):q;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=L(G):{path:G},G.params={}),kt({query:A.query,hash:A.hash,params:"path"in G?{}:A.params},G)}}function ge(A,N){const q=f=C(A),G=l.value,Z=A.state,ae=A.force,ne=A.replace===!0,ee=re(q);if(ee)return ge(kt(L(ee),{state:typeof ee=="object"?kt({},Z,ee.state):Z,force:ae,replace:ne}),N||q);const F=q;F.redirectedFrom=N;let V;return!ae&&K9(n,G,q)&&(V=ja(16,{to:F,from:G}),m(G,G,!0,!1)),(V?Promise.resolve(V):be(F,G)).catch(K=>Wi(K)?Wi(K,2)?K:w(K):y(K,F,G)).then(K=>{if(K){if(Wi(K,2))return ge(kt({replace:ne},L(K.to),{state:typeof K.to=="object"?kt({},Z,K.to.state):Z,force:ae}),N||F)}else K=U(F,G,!0,ne,Z);return Ce(F,G,K),K})}function ce(A,N){const q=j(A,N);return q?Promise.reject(q):Promise.resolve()}function be(A,N){let q;const[G,Z,ae]=jA(A,N);q=Nh(G.reverse(),"beforeRouteLeave",A,N);for(const ee of G)ee.leaveGuards.forEach(F=>{q.push(Lo(F,A,N))});const ne=ce.bind(null,A,N);return q.push(ne),na(q).then(()=>{q=[];for(const ee of i.list())q.push(Lo(ee,A,N));return q.push(ne),na(q)}).then(()=>{q=Nh(Z,"beforeRouteUpdate",A,N);for(const ee of Z)ee.updateGuards.forEach(F=>{q.push(Lo(F,A,N))});return q.push(ne),na(q)}).then(()=>{q=[];for(const ee of A.matched)if(ee.beforeEnter&&!N.matched.includes(ee))if(fi(ee.beforeEnter))for(const F of ee.beforeEnter)q.push(Lo(F,A,N));else q.push(Lo(ee.beforeEnter,A,N));return q.push(ne),na(q)}).then(()=>(A.matched.forEach(ee=>ee.enterCallbacks={}),q=Nh(ae,"beforeRouteEnter",A,N),q.push(ne),na(q))).then(()=>{q=[];for(const ee of s.list())q.push(Lo(ee,A,N));return q.push(ne),na(q)}).catch(ee=>Wi(ee,8)?ee:Promise.reject(ee))}function Ce(A,N,q){for(const G of a.list())G(A,N,q)}function U(A,N,q,G,Z){const ae=j(A,N);if(ae)return ae;const ne=N===Co,ee=pa?history.state:{};q&&(G||ne?o.replace(A.fullPath,kt({scroll:ne&&ee&&ee.scroll},Z)):o.push(A.fullPath,Z)),l.value=A,m(A,N,q,ne),w()}let E;function b(){E||(E=o.listen((A,N,q)=>{if(!D.listening)return;const G=C(A),Z=re(G);if(Z){ge(kt(Z,{replace:!0}),G).catch(ec);return}f=G;const ae=l.value;pa&&eA(Zb(ae.fullPath,q.delta),Wu()),be(G,ae).catch(ne=>Wi(ne,12)?ne:Wi(ne,2)?(ge(ne.to,G).then(ee=>{Wi(ee,20)&&!q.delta&&q.type===bc.pop&&o.go(-1,!1)}).catch(ec),Promise.reject()):(q.delta&&o.go(-q.delta,!1),y(ne,G,ae))).then(ne=>{ne=ne||U(G,ae,!1),ne&&(q.delta&&!Wi(ne,8)?o.go(-q.delta,!1):q.type===bc.pop&&Wi(ne,20)&&o.go(-1,!1)),Ce(G,ae,ne)}).catch(ec)}))}let c=Pf(),d=Pf(),v;function y(A,N,q){w(A);const G=d.list();return G.length?G.forEach(Z=>Z(A,N,q)):console.error(A),Promise.reject(A)}function x(){return v&&l.value!==Co?Promise.resolve():new Promise((A,N)=>{c.add([A,N])})}function w(A){return v||(v=!A,b(),c.list().forEach(([N,q])=>A?q(A):N()),c.reset()),A}function m(A,N,q,G){const{scrollBehavior:Z}=r;if(!pa||!Z)return Promise.resolve();const ae=!q&&tA(Zb(A.fullPath,0))||(G||!q)&&history.state&&history.state.scroll||null;return mx().then(()=>Z(A,N,ae)).then(ne=>ne&&X9(ne)).catch(ne=>y(ne,A,N))}const g=A=>o.go(A);let h;const S=new Set,D={currentRoute:l,listening:!0,addRoute:T,removeRoute:I,hasRoute:P,getRoutes:B,resolve:C,options:r,push:z,replace:Y,go:g,back:()=>g(-1),forward:()=>g(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:d.add,isReady:x,install(A){const N=this;A.component("RouterLink",W1),A.component("RouterView",o3),A.config.globalProperties.$router=N,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>so(l)}),pa&&!h&&l.value===Co&&(h=!0,z(o.location).catch(Z=>{}));const q={};for(const Z in Co)q[Z]=yn(()=>l.value[Z]);A.provide(zp,N),A.provide(i3,af(q)),A.provide(z1,l);const G=A.unmount;S.add(A),A.unmount=function(){S.delete(A),S.size<1&&(f=Co,E&&E(),E=null,l.value=Co,h=!1,v=!1),G()}}};return D}function na(r){return r.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function jA(r,e){const t=[],n=[],o=[],i=Math.max(e.matched.length,r.matched.length);for(let s=0;s<i;s++){const a=e.matched[s];a&&(r.matched.find(f=>Va(f,a))?n.push(a):t.push(a));const l=r.matched[s];l&&(e.matched.find(f=>Va(f,l))||o.push(l))}return[t,n,o]}const Yo=(r,e)=>{const t=r.__vccOpts||r;for(const[n,o]of e)t[n]=o;return t},qA=r=>(Ex("data-v-8271569a"),r=r(),Sx(),r),HA={class:"greetings"},GA={class:"green"},KA=qA(()=>at("h3",null,[yt(" You\u2019ve successfully created a project with "),at("a",{target:"_blank",href:"https://vitejs.dev/",rel:"noopener"},"Vite"),yt(" + "),at("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"Vue 3"),yt(". ")],-1)),zA={__name:"HelloWorld",props:{msg:{type:String,required:!0}},setup(r){return(e,t)=>(hi(),qi("div",HA,[at("h1",GA,T5(r.msg),1),KA]))}},WA=Yo(zA,[["__scopeId","data-v-8271569a"]]),JA="modulepreload",QA=function(r){return"/token-negotiator-examples/vue-vite-boilerplate/"+r},hv={},s3=function(e,t,n){return!t||t.length===0?e():Promise.all(t.map(o=>{if(o=QA(o),o in hv)return;hv[o]=!0;const i=o.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${s}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":JA,i||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),i)return new Promise((l,f)=>{a.addEventListener("load",l),a.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};var Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gD(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Vt(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),t}var cu={},Ju={};Ju.byteLength=XA;Ju.toByteArray=tE;Ju.fromByteArray=iE;var Pi=[],mn=[],YA=typeof Uint8Array<"u"?Uint8Array:Array,Lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ia=0,ZA=Lh.length;ia<ZA;++ia)Pi[ia]=Lh[ia],mn[Lh.charCodeAt(ia)]=ia;mn["-".charCodeAt(0)]=62;mn["_".charCodeAt(0)]=63;function a3(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function XA(r){var e=a3(r),t=e[0],n=e[1];return(t+n)*3/4-n}function eE(r,e,t){return(e+t)*3/4-t}function tE(r){var e,t=a3(r),n=t[0],o=t[1],i=new YA(eE(r,n,o)),s=0,a=o>0?n-4:n,l;for(l=0;l<a;l+=4)e=mn[r.charCodeAt(l)]<<18|mn[r.charCodeAt(l+1)]<<12|mn[r.charCodeAt(l+2)]<<6|mn[r.charCodeAt(l+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return o===2&&(e=mn[r.charCodeAt(l)]<<2|mn[r.charCodeAt(l+1)]>>4,i[s++]=e&255),o===1&&(e=mn[r.charCodeAt(l)]<<10|mn[r.charCodeAt(l+1)]<<4|mn[r.charCodeAt(l+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function rE(r){return Pi[r>>18&63]+Pi[r>>12&63]+Pi[r>>6&63]+Pi[r&63]}function nE(r,e,t){for(var n,o=[],i=e;i<t;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),o.push(rE(n));return o.join("")}function iE(r){for(var e,t=r.length,n=t%3,o=[],i=16383,s=0,a=t-n;s<a;s+=i)o.push(nE(r,s,s+i>a?a:s+i));return n===1?(e=r[t-1],o.push(Pi[e>>2]+Pi[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(Pi[e>>10]+Pi[e>>4&63]+Pi[e<<2&63]+"=")),o.join("")}var Wp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Wp.read=function(r,e,t,n,o){var i,s,a=o*8-n-1,l=(1<<a)-1,f=l>>1,u=-7,p=t?o-1:0,_=t?-1:1,T=r[e+p];for(p+=_,i=T&(1<<-u)-1,T>>=-u,u+=a;u>0;i=i*256+r[e+p],p+=_,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=n;u>0;s=s*256+r[e+p],p+=_,u-=8);if(i===0)i=1-f;else{if(i===l)return s?NaN:(T?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-f}return(T?-1:1)*s*Math.pow(2,i-n)};Wp.write=function(r,e,t,n,o,i){var s,a,l,f=i*8-o-1,u=(1<<f)-1,p=u>>1,_=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=n?0:i-1,I=n?1:-1,B=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+p>=1?e+=_/l:e+=_*Math.pow(2,1-p),e*l>=2&&(s++,l/=2),s+p>=u?(a=0,s=u):s+p>=1?(a=(e*l-1)*Math.pow(2,o),s=s+p):(a=e*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;r[t+T]=a&255,T+=I,a/=256,o-=8);for(s=s<<o|a,f+=o;f>0;r[t+T]=s&255,T+=I,s/=256,f-=8);r[t+T-I]|=B*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){var e=Ju,t=Wp,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=L,r.INSPECT_MAX_BYTES=50;var o=2147483647;r.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var O=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(O,k),O.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function s(O){if(O>o)throw new RangeError('The value "'+O+'" is invalid for option "size"');var k=new Uint8Array(O);return Object.setPrototypeOf(k,a.prototype),k}function a(O,k,M){if(typeof O=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(O)}return l(O,k,M)}a.poolSize=8192;function l(O,k,M){if(typeof O=="string")return _(O,k);if(ArrayBuffer.isView(O))return I(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(F(O,ArrayBuffer)||O&&F(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(F(O,SharedArrayBuffer)||O&&F(O.buffer,SharedArrayBuffer)))return B(O,k,M);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var R=O.valueOf&&O.valueOf();if(R!=null&&R!==O)return a.from(R,k,M);var $=P(O);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return a.from(O[Symbol.toPrimitive]("string"),k,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}a.from=function(O,k,M){return l(O,k,M)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function u(O,k,M){return f(O),O<=0?s(O):k!==void 0?typeof M=="string"?s(O).fill(k,M):s(O).fill(k):s(O)}a.alloc=function(O,k,M){return u(O,k,M)};function p(O){return f(O),s(O<0?0:C(O)|0)}a.allocUnsafe=function(O){return p(O)},a.allocUnsafeSlow=function(O){return p(O)};function _(O,k){if((typeof k!="string"||k==="")&&(k="utf8"),!a.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var M=j(O,k)|0,R=s(M),$=R.write(O,k);return $!==M&&(R=R.slice(0,$)),R}function T(O){for(var k=O.length<0?0:C(O.length)|0,M=s(k),R=0;R<k;R+=1)M[R]=O[R]&255;return M}function I(O){if(F(O,Uint8Array)){var k=new Uint8Array(O);return B(k.buffer,k.byteOffset,k.byteLength)}return T(O)}function B(O,k,M){if(k<0||O.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<k+(M||0))throw new RangeError('"length" is outside of buffer bounds');var R;return k===void 0&&M===void 0?R=new Uint8Array(O):M===void 0?R=new Uint8Array(O,k):R=new Uint8Array(O,k,M),Object.setPrototypeOf(R,a.prototype),R}function P(O){if(a.isBuffer(O)){var k=C(O.length)|0,M=s(k);return M.length===0||O.copy(M,0,0,k),M}if(O.length!==void 0)return typeof O.length!="number"||V(O.length)?s(0):T(O);if(O.type==="Buffer"&&Array.isArray(O.data))return T(O.data)}function C(O){if(O>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return O|0}function L(O){return+O!=O&&(O=0),a.alloc(+O)}a.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==a.prototype},a.compare=function(k,M){if(F(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),F(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),!a.isBuffer(k)||!a.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===M)return 0;for(var R=k.length,$=M.length,H=0,Q=Math.min(R,$);H<Q;++H)if(k[H]!==M[H]){R=k[H],$=M[H];break}return R<$?-1:$<R?1:0},a.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(k,M){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return a.alloc(0);var R;if(M===void 0)for(M=0,R=0;R<k.length;++R)M+=k[R].length;var $=a.allocUnsafe(M),H=0;for(R=0;R<k.length;++R){var Q=k[R];if(F(Q,Uint8Array))H+Q.length>$.length?a.from(Q).copy($,H):Uint8Array.prototype.set.call($,Q,H);else if(a.isBuffer(Q))Q.copy($,H);else throw new TypeError('"list" argument must be an Array of Buffers');H+=Q.length}return $};function j(O,k){if(a.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||F(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var M=O.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&M===0)return 0;for(var $=!1;;)switch(k){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return G(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return ne(O).length;default:if($)return R?-1:G(O).length;k=(""+k).toLowerCase(),$=!0}}a.byteLength=j;function z(O,k,M){var R=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,k>>>=0,M<=k))return"";for(O||(O="utf8");;)switch(O){case"hex":return w(this,k,M);case"utf8":case"utf-8":return c(this,k,M);case"ascii":return y(this,k,M);case"latin1":case"binary":return x(this,k,M);case"base64":return b(this,k,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,k,M);default:if(R)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),R=!0}}a.prototype._isBuffer=!0;function Y(O,k,M){var R=O[k];O[k]=O[M],O[M]=R}a.prototype.swap16=function(){var k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<k;M+=2)Y(this,M,M+1);return this},a.prototype.swap32=function(){var k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<k;M+=4)Y(this,M,M+3),Y(this,M+1,M+2);return this},a.prototype.swap64=function(){var k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<k;M+=8)Y(this,M,M+7),Y(this,M+1,M+6),Y(this,M+2,M+5),Y(this,M+3,M+4);return this},a.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?c(this,0,k):z.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(k){if(!a.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:a.compare(this,k)===0},a.prototype.inspect=function(){var k="",M=r.INSPECT_MAX_BYTES;return k=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(k+=" ... "),"<Buffer "+k+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(k,M,R,$,H){if(F(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(M===void 0&&(M=0),R===void 0&&(R=k?k.length:0),$===void 0&&($=0),H===void 0&&(H=this.length),M<0||R>k.length||$<0||H>this.length)throw new RangeError("out of range index");if($>=H&&M>=R)return 0;if($>=H)return-1;if(M>=R)return 1;if(M>>>=0,R>>>=0,$>>>=0,H>>>=0,this===k)return 0;for(var Q=H-$,oe=R-M,te=Math.min(Q,oe),le=this.slice($,H),fe=k.slice(M,R),se=0;se<te;++se)if(le[se]!==fe[se]){Q=le[se],oe=fe[se];break}return Q<oe?-1:oe<Q?1:0};function re(O,k,M,R,$){if(O.length===0)return-1;if(typeof M=="string"?(R=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,V(M)&&(M=$?0:O.length-1),M<0&&(M=O.length+M),M>=O.length){if($)return-1;M=O.length-1}else if(M<0)if($)M=0;else return-1;if(typeof k=="string"&&(k=a.from(k,R)),a.isBuffer(k))return k.length===0?-1:ge(O,k,M,R,$);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(O,k,M):Uint8Array.prototype.lastIndexOf.call(O,k,M):ge(O,[k],M,R,$);throw new TypeError("val must be string, number or Buffer")}function ge(O,k,M,R,$){var H=1,Q=O.length,oe=k.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(O.length<2||k.length<2)return-1;H=2,Q/=2,oe/=2,M/=2}function te(xe,de){return H===1?xe[de]:xe.readUInt16BE(de*H)}var le;if($){var fe=-1;for(le=M;le<Q;le++)if(te(O,le)===te(k,fe===-1?0:le-fe)){if(fe===-1&&(fe=le),le-fe+1===oe)return fe*H}else fe!==-1&&(le-=le-fe),fe=-1}else for(M+oe>Q&&(M=Q-oe),le=M;le>=0;le--){for(var se=!0,Ie=0;Ie<oe;Ie++)if(te(O,le+Ie)!==te(k,Ie)){se=!1;break}if(se)return le}return-1}a.prototype.includes=function(k,M,R){return this.indexOf(k,M,R)!==-1},a.prototype.indexOf=function(k,M,R){return re(this,k,M,R,!0)},a.prototype.lastIndexOf=function(k,M,R){return re(this,k,M,R,!1)};function ce(O,k,M,R){M=Number(M)||0;var $=O.length-M;R?(R=Number(R),R>$&&(R=$)):R=$;var H=k.length;R>H/2&&(R=H/2);for(var Q=0;Q<R;++Q){var oe=parseInt(k.substr(Q*2,2),16);if(V(oe))return Q;O[M+Q]=oe}return Q}function be(O,k,M,R){return ee(G(k,O.length-M),O,M,R)}function Ce(O,k,M,R){return ee(Z(k),O,M,R)}function U(O,k,M,R){return ee(ne(k),O,M,R)}function E(O,k,M,R){return ee(ae(k,O.length-M),O,M,R)}a.prototype.write=function(k,M,R,$){if(M===void 0)$="utf8",R=this.length,M=0;else if(R===void 0&&typeof M=="string")$=M,R=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(R)?(R=R>>>0,$===void 0&&($="utf8")):($=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-M;if((R===void 0||R>H)&&(R=H),k.length>0&&(R<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var Q=!1;;)switch($){case"hex":return ce(this,k,M,R);case"utf8":case"utf-8":return be(this,k,M,R);case"ascii":case"latin1":case"binary":return Ce(this,k,M,R);case"base64":return U(this,k,M,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,k,M,R);default:if(Q)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),Q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(O,k,M){return k===0&&M===O.length?e.fromByteArray(O):e.fromByteArray(O.slice(k,M))}function c(O,k,M){M=Math.min(O.length,M);for(var R=[],$=k;$<M;){var H=O[$],Q=null,oe=H>239?4:H>223?3:H>191?2:1;if($+oe<=M){var te,le,fe,se;switch(oe){case 1:H<128&&(Q=H);break;case 2:te=O[$+1],(te&192)===128&&(se=(H&31)<<6|te&63,se>127&&(Q=se));break;case 3:te=O[$+1],le=O[$+2],(te&192)===128&&(le&192)===128&&(se=(H&15)<<12|(te&63)<<6|le&63,se>2047&&(se<55296||se>57343)&&(Q=se));break;case 4:te=O[$+1],le=O[$+2],fe=O[$+3],(te&192)===128&&(le&192)===128&&(fe&192)===128&&(se=(H&15)<<18|(te&63)<<12|(le&63)<<6|fe&63,se>65535&&se<1114112&&(Q=se))}}Q===null?(Q=65533,oe=1):Q>65535&&(Q-=65536,R.push(Q>>>10&1023|55296),Q=56320|Q&1023),R.push(Q),$+=oe}return v(R)}var d=4096;function v(O){var k=O.length;if(k<=d)return String.fromCharCode.apply(String,O);for(var M="",R=0;R<k;)M+=String.fromCharCode.apply(String,O.slice(R,R+=d));return M}function y(O,k,M){var R="";M=Math.min(O.length,M);for(var $=k;$<M;++$)R+=String.fromCharCode(O[$]&127);return R}function x(O,k,M){var R="";M=Math.min(O.length,M);for(var $=k;$<M;++$)R+=String.fromCharCode(O[$]);return R}function w(O,k,M){var R=O.length;(!k||k<0)&&(k=0),(!M||M<0||M>R)&&(M=R);for(var $="",H=k;H<M;++H)$+=K[O[H]];return $}function m(O,k,M){for(var R=O.slice(k,M),$="",H=0;H<R.length-1;H+=2)$+=String.fromCharCode(R[H]+R[H+1]*256);return $}a.prototype.slice=function(k,M){var R=this.length;k=~~k,M=M===void 0?R:~~M,k<0?(k+=R,k<0&&(k=0)):k>R&&(k=R),M<0?(M+=R,M<0&&(M=0)):M>R&&(M=R),M<k&&(M=k);var $=this.subarray(k,M);return Object.setPrototypeOf($,a.prototype),$};function g(O,k,M){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+k>M)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(k,M,R){k=k>>>0,M=M>>>0,R||g(k,M,this.length);for(var $=this[k],H=1,Q=0;++Q<M&&(H*=256);)$+=this[k+Q]*H;return $},a.prototype.readUintBE=a.prototype.readUIntBE=function(k,M,R){k=k>>>0,M=M>>>0,R||g(k,M,this.length);for(var $=this[k+--M],H=1;M>0&&(H*=256);)$+=this[k+--M]*H;return $},a.prototype.readUint8=a.prototype.readUInt8=function(k,M){return k=k>>>0,M||g(k,1,this.length),this[k]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(k,M){return k=k>>>0,M||g(k,2,this.length),this[k]|this[k+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(k,M){return k=k>>>0,M||g(k,2,this.length),this[k]<<8|this[k+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(k,M){return k=k>>>0,M||g(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(k,M){return k=k>>>0,M||g(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},a.prototype.readIntLE=function(k,M,R){k=k>>>0,M=M>>>0,R||g(k,M,this.length);for(var $=this[k],H=1,Q=0;++Q<M&&(H*=256);)$+=this[k+Q]*H;return H*=128,$>=H&&($-=Math.pow(2,8*M)),$},a.prototype.readIntBE=function(k,M,R){k=k>>>0,M=M>>>0,R||g(k,M,this.length);for(var $=M,H=1,Q=this[k+--$];$>0&&(H*=256);)Q+=this[k+--$]*H;return H*=128,Q>=H&&(Q-=Math.pow(2,8*M)),Q},a.prototype.readInt8=function(k,M){return k=k>>>0,M||g(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},a.prototype.readInt16LE=function(k,M){k=k>>>0,M||g(k,2,this.length);var R=this[k]|this[k+1]<<8;return R&32768?R|4294901760:R},a.prototype.readInt16BE=function(k,M){k=k>>>0,M||g(k,2,this.length);var R=this[k+1]|this[k]<<8;return R&32768?R|4294901760:R},a.prototype.readInt32LE=function(k,M){return k=k>>>0,M||g(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},a.prototype.readInt32BE=function(k,M){return k=k>>>0,M||g(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},a.prototype.readFloatLE=function(k,M){return k=k>>>0,M||g(k,4,this.length),t.read(this,k,!0,23,4)},a.prototype.readFloatBE=function(k,M){return k=k>>>0,M||g(k,4,this.length),t.read(this,k,!1,23,4)},a.prototype.readDoubleLE=function(k,M){return k=k>>>0,M||g(k,8,this.length),t.read(this,k,!0,52,8)},a.prototype.readDoubleBE=function(k,M){return k=k>>>0,M||g(k,8,this.length),t.read(this,k,!1,52,8)};function h(O,k,M,R,$,H){if(!a.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>$||k<H)throw new RangeError('"value" argument is out of bounds');if(M+R>O.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(k,M,R,$){if(k=+k,M=M>>>0,R=R>>>0,!$){var H=Math.pow(2,8*R)-1;h(this,k,M,R,H,0)}var Q=1,oe=0;for(this[M]=k&255;++oe<R&&(Q*=256);)this[M+oe]=k/Q&255;return M+R},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(k,M,R,$){if(k=+k,M=M>>>0,R=R>>>0,!$){var H=Math.pow(2,8*R)-1;h(this,k,M,R,H,0)}var Q=R-1,oe=1;for(this[M+Q]=k&255;--Q>=0&&(oe*=256);)this[M+Q]=k/oe&255;return M+R},a.prototype.writeUint8=a.prototype.writeUInt8=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,1,255,0),this[M]=k&255,M+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,2,65535,0),this[M]=k&255,this[M+1]=k>>>8,M+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,2,65535,0),this[M]=k>>>8,this[M+1]=k&255,M+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,4,4294967295,0),this[M+3]=k>>>24,this[M+2]=k>>>16,this[M+1]=k>>>8,this[M]=k&255,M+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,4,4294967295,0),this[M]=k>>>24,this[M+1]=k>>>16,this[M+2]=k>>>8,this[M+3]=k&255,M+4},a.prototype.writeIntLE=function(k,M,R,$){if(k=+k,M=M>>>0,!$){var H=Math.pow(2,8*R-1);h(this,k,M,R,H-1,-H)}var Q=0,oe=1,te=0;for(this[M]=k&255;++Q<R&&(oe*=256);)k<0&&te===0&&this[M+Q-1]!==0&&(te=1),this[M+Q]=(k/oe>>0)-te&255;return M+R},a.prototype.writeIntBE=function(k,M,R,$){if(k=+k,M=M>>>0,!$){var H=Math.pow(2,8*R-1);h(this,k,M,R,H-1,-H)}var Q=R-1,oe=1,te=0;for(this[M+Q]=k&255;--Q>=0&&(oe*=256);)k<0&&te===0&&this[M+Q+1]!==0&&(te=1),this[M+Q]=(k/oe>>0)-te&255;return M+R},a.prototype.writeInt8=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,1,127,-128),k<0&&(k=255+k+1),this[M]=k&255,M+1},a.prototype.writeInt16LE=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,2,32767,-32768),this[M]=k&255,this[M+1]=k>>>8,M+2},a.prototype.writeInt16BE=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,2,32767,-32768),this[M]=k>>>8,this[M+1]=k&255,M+2},a.prototype.writeInt32LE=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,4,2147483647,-2147483648),this[M]=k&255,this[M+1]=k>>>8,this[M+2]=k>>>16,this[M+3]=k>>>24,M+4},a.prototype.writeInt32BE=function(k,M,R){return k=+k,M=M>>>0,R||h(this,k,M,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[M]=k>>>24,this[M+1]=k>>>16,this[M+2]=k>>>8,this[M+3]=k&255,M+4};function S(O,k,M,R,$,H){if(M+R>O.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function D(O,k,M,R,$){return k=+k,M=M>>>0,$||S(O,k,M,4),t.write(O,k,M,R,23,4),M+4}a.prototype.writeFloatLE=function(k,M,R){return D(this,k,M,!0,R)},a.prototype.writeFloatBE=function(k,M,R){return D(this,k,M,!1,R)};function A(O,k,M,R,$){return k=+k,M=M>>>0,$||S(O,k,M,8),t.write(O,k,M,R,52,8),M+8}a.prototype.writeDoubleLE=function(k,M,R){return A(this,k,M,!0,R)},a.prototype.writeDoubleBE=function(k,M,R){return A(this,k,M,!1,R)},a.prototype.copy=function(k,M,R,$){if(!a.isBuffer(k))throw new TypeError("argument should be a Buffer");if(R||(R=0),!$&&$!==0&&($=this.length),M>=k.length&&(M=k.length),M||(M=0),$>0&&$<R&&($=R),$===R||k.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),k.length-M<$-R&&($=k.length-M+R);var H=$-R;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,R,$):Uint8Array.prototype.set.call(k,this.subarray(R,$),M),H},a.prototype.fill=function(k,M,R,$){if(typeof k=="string"){if(typeof M=="string"?($=M,M=0,R=this.length):typeof R=="string"&&($=R,R=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!a.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(k.length===1){var H=k.charCodeAt(0);($==="utf8"&&H<128||$==="latin1")&&(k=H)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(M<0||this.length<M||this.length<R)throw new RangeError("Out of range index");if(R<=M)return this;M=M>>>0,R=R===void 0?this.length:R>>>0,k||(k=0);var Q;if(typeof k=="number")for(Q=M;Q<R;++Q)this[Q]=k;else{var oe=a.isBuffer(k)?k:a.from(k,$),te=oe.length;if(te===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(Q=0;Q<R-M;++Q)this[Q+M]=oe[Q%te]}return this};var N=/[^+/0-9A-Za-z-_]/g;function q(O){if(O=O.split("=")[0],O=O.trim().replace(N,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function G(O,k){k=k||1/0;for(var M,R=O.length,$=null,H=[],Q=0;Q<R;++Q){if(M=O.charCodeAt(Q),M>55295&&M<57344){if(!$){if(M>56319){(k-=3)>-1&&H.push(239,191,189);continue}else if(Q+1===R){(k-=3)>-1&&H.push(239,191,189);continue}$=M;continue}if(M<56320){(k-=3)>-1&&H.push(239,191,189),$=M;continue}M=($-55296<<10|M-56320)+65536}else $&&(k-=3)>-1&&H.push(239,191,189);if($=null,M<128){if((k-=1)<0)break;H.push(M)}else if(M<2048){if((k-=2)<0)break;H.push(M>>6|192,M&63|128)}else if(M<65536){if((k-=3)<0)break;H.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((k-=4)<0)break;H.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return H}function Z(O){for(var k=[],M=0;M<O.length;++M)k.push(O.charCodeAt(M)&255);return k}function ae(O,k){for(var M,R,$,H=[],Q=0;Q<O.length&&!((k-=2)<0);++Q)M=O.charCodeAt(Q),R=M>>8,$=M%256,H.push($),H.push(R);return H}function ne(O){return e.toByteArray(q(O))}function ee(O,k,M,R){for(var $=0;$<R&&!($+M>=k.length||$>=O.length);++$)k[$+M]=O[$];return $}function F(O,k){return O instanceof k||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===k.name}function V(O){return O!==O}var K=function(){for(var O="0123456789abcdef",k=new Array(256),M=0;M<16;++M)for(var R=M*16,$=0;$<16;++$)k[R+$]=O[M]+O[$];return k}()})(cu);var oE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},aE=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},fE=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return i},cE=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},lE=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Re(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];!window.DISPLAY_DEBUG_LEVEL||r>parseInt(window.DISPLAY_DEBUG_LEVEL)||console.log.apply(console,cE([],fE(e),!1))}var bs=function(r,e){if(!r)throw new Error(e)};function uE(r){return typeof cu.Buffer<"u"?cu.Buffer.from(r):r}var hE=function(r,e){var t,n,o=Object.keys(r),i=Object.keys(e);if(o.length!==i.length)return!1;try{for(var s=lE(o),a=s.next();!a.done;a=s.next()){var l=a.value;if(typeof e[l]=="object"){if(JSON.stringify(r[l])!==JSON.stringify(e[l]))return!1}else if(r[l]!==e[l])return!1}}catch(f){t={error:f}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!0},f3=function(r){return r=r.split("-").join("+").split("_").join("/").split(".").join("="),Uint8Array.from(cu.Buffer.from(r,"base64"))},dE=function(r){window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r)},pE=function(r){window.removeEventListener?window.removeEventListener("message",r):window.detachEvent("onmessage",r)},gE=function(r){return new Promise(function(e){if(document.querySelector(r))return e(document.querySelector(r));var t=new MutationObserver(function(){document.querySelector(r)&&(e(document.querySelector(r)),t.disconnect())});t.observe(document.body,{childList:!0,subtree:!0})})},Qn=function(r,e,t,n,o,i){var s;o===void 0&&(o=!0),i===void 0&&(i=!1);var a;if(typeof r=="object"?a=(s=r.message)!==null&&s!==void 0?s:"Unknown error type: "+JSON.stringify(r):a=r,o&&Re(2,e+": "+a),t&&t(),i)throw new bE(a,r);return{type:e,message:r,data:n}},bE=function(r){oE(e,r);function e(t,n,o){var i=r.call(this,t)||this;return i.originalError=n,i.code=o,i}return e}(Error),Qu=function(r,e){return sE(void 0,void 0,void 0,function(){var t,n;return aE(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(r)];case 1:if(t=o.sent(),n=t.status>=200&&t.status<=299,!n&&e===!0)return console.warn("token api request failed: ",r),[2];if(n)return[2,t.json()];throw new Error("HTTP error! status: ".concat(t.status));case 2:throw o.sent(),new Error("HTTP error.");case 3:return[2]}})})},Jp=function(){var r=typeof window<"u",e=r&&window.navigator.userAgent.toLowerCase(),t=e&&/msie|trident/.test(e),n=e&&e.indexOf("msie 9.0")>0,o=e&&e.indexOf("edg/")>0,i=e&&/chrome\/\d+/.test(e)&&!o,s=e&&/phantomjs/.test(e),a=e&&/firefox|fxios\/\d+/.test(e),l=l3()||c3(),f=!!window.navigator.brave,u=e&&e.indexOf("android")>0,p=e&&/iphone|ipad|ipod|ios/.test(e),_=e&&/\smac\s/.test(e),T=e&&/windows/.test(e),I=!1,B=window.matchMedia;if(B){var P=B("(pointer:coarse)");I=P.matches}var C=window.ethereum;typeof window.ethereum>"u"&&(C={isMetaMask:!1,isAlphaWallet:!1,isTrust:!1,isStatusWallet:!1,isGoWallet:!1});var L=I&&!!C.isAlphaWallet,j=I&&!!C.isTrust,z=I&&!!C.isStatusWallet,Y=I&&!!C.isGoWallet,re=I&&!!C.isTrust&&!!C.isMetaMask,ge=!!navigator.userAgent.match(/\simToken\//),ce=I&&!!C.isMetaMask&&!j&&!f;return{iE:t,iE9:n,edge:o,chrome:i,phantomJS:s,fireFox:a,safari:l,android:u,iOS:p,mac:_,windows:T,touchDevice:I,metaMask:ce,alphaWallet:L,mew:re,trust:j,goWallet:Y,status:z,imToken:ge,brave:f,braveAndroid:f&&u,braveIOS:f&&p,metaMaskAndroid:u&&ce,alphaWalletAndroid:u&&L,mewAndroid:u&&re,imTokenAndroid:u&&ge}};function Yu(){return!!window.navigator.brave}function c3(){var r=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():"";return/ip(ad|od|hone)/i.test(r)&&/webkit/i.test(r)&&!/(crios|fxios|opios|mercury)/i.test(r)&&!Yu()}function l3(){return!!window.safari}function u3(){return l3()||c3()}function vE(){var r=Jp();return r.iOS||u3()||Yu()||r.fireFox}function J1(r){var e=Jp();switch(r){case"always":return!0;case"never":return!1;default:return Yu()||e.fireFox||e.iOS&&!u3()}}var mE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},yE=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ao;(function(r){r.COOKIE_CHECK="cookie-check",r.ERROR="error",r.SHOW_FRAME="show-frame"})(ao||(ao={}));var xE=function(){function r(){this.iframeStorageSupport=null,this.iframe=null,this.listenerSet=!1}return r.prototype.sendMessage=function(e,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),mE(this,void 0,void 0,function(){var o;return yE(this,function(i){switch(i.label){case 0:if(Re(2,"Send request: "),Re(2,e),n)return this.sendRedirect(e,n),[2];if(!t&&this.iframeStorageSupport===null&&(this.iframeStorageSupport=!vE()),!(!t&&this.iframeStorageSupport!==!1))return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.sendIframe(e)];case 2:return[2,i.sent()];case 3:if(o=i.sent(),o==="IFRAME_STORAGE")return[2,this.sendPopup(e)];throw o;case 4:return[3,6];case 5:return[2,this.sendPopup(e)];case 6:return[2]}})})},r.prototype.sendRedirect=function(e,t){var n=r.getUniqueEventId(),o=this.constructUrl(n,e),i="".concat(o,"&redirect=true&requestor=").concat(encodeURIComponent(t));Re(2,"redirect from ".concat(document.location.href," to ").concat(i)),document.location.href=i},r.prototype.sendIframe=function(e){var t=this;return new Promise(function(n,o){var i=r.getUniqueEventId(),s=t.constructUrl(i,e);t.iframe=t.createIframe(function(){t.listenerSet=!1,t.removeModal(),o(ni.USER_ABORT)}),t.listenerSet||(t.listenerSet=!0,t.setResponseListener(i,e.origin,e.timeout,n,o,function(){t.listenerSet=!1,t.removeModal()})),t.iframe.src=s})},r.prototype.sendPopup=function(e){var t=this;return new Promise(function(n,o){var i=r.getUniqueEventId(),s=null;if(t.setResponseListener(i,e.origin,e.timeout,n,o,function(){s&&s.close()}),s=t.openTab(t.constructUrl(i,e)),!s||s.closed||typeof s.closed>"u"){o(ni.POPUP_BLOCKED);return}var a=setInterval(function(){(!s||s.closed)&&(clearInterval(a),o(ni.USER_ABORT))},500)})},r.prototype.setResponseListener=function(e,t,n,o,i,s){var a=this,l=!1,f=null,u=function(_){if(!_.data.target){var T=_.data,I=new URL(t);if(T.evtid===e)if(I.origin===_.origin&&T.evt){if(Re(2,"event response received"),Re(2,_.data),l=!0,T.evt===ao.ERROR)T.errors[0]==="IFRAME_STORAGE"?(a.iframeStorageSupport=!1,i("IFRAME_STORAGE")):i(new Error(T.errors.join(". ")));else if(T.evt===ao.SHOW_FRAME){if(f&&clearTimeout(f),a.iframe){var B=a.getModal();if(B.style.display="block",T.max_width){var P=B.querySelector(".modal-content-tn");P&&(P.style.maxWidth=T.max_width)}if(T.min_height){var C=B.querySelector("iframe");C&&(C.style.minHeight=T.min_height)}}return}else o(T);p()}else Re(2,"Does not match origin "+_.origin)}},p=function(){f&&clearTimeout(f),pE(u),window.NEGOTIATOR_DEBUG||s()};dE(u),n===void 0&&(n=2e4),n>0&&(f=setTimeout(function(){l||i(new Error("Failed to receive response from window/iframe")),p()},n))},r.prototype.getModal=function(e){var t=document.getElementById("modal-tn");return t||!e||(t=document.createElement("div"),t.id="modal-tn",t.className="modal-tn",t.style.display="none",t.innerHTML=`
            <div class="modal-content-tn">
                <div class="modal-header-tn">
                    <span class="modal-close-tn">&times;</span>
                </div>
                <div class="modal-body-tn"></div>
            </div>
        `,document.body.appendChild(t),t.getElementsByClassName("modal-close-tn")[0].addEventListener("click",function(){e()})),t},r.prototype.removeModal=function(){var e=this.getModal();e&&(e.style.display="none",e.remove())},r.prototype.constructUrl=function(e,t){var n="".concat(t.origin,"#evtid=").concat(e,"&action=").concat(t.action);typeof t.data.token<"u"&&(n+="&token=".concat(encodeURIComponent(JSON.stringify(t.data.token))));for(var o in t.data){var i=t.data[o];o!=="issuer"&&(!i||(i instanceof Array||i instanceof Object?n+="&".concat(o,"=").concat(JSON.stringify(i)):o==="urlParams"?n+="&".concat(i):n+="&".concat(o,"=").concat(i)))}return n},r.prototype.openTab=function(e){return window.open(e,"_blank")},r.prototype.createIframe=function(e){var t=document.createElement("iframe");t.setAttribute("allow","clipboard-read");var n=this.getModal(e);return n.getElementsByClassName("modal-body-tn")[0].appendChild(t),t},r.getUniqueEventId=function(){return new Date().getTime().toString()},r}(),wE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},AE=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},An;(function(r){r.MAGIC_URL="magic-url",r.GET_ISSUER_TOKENS="get-issuer-tokens",r.GET_PROOF="get-proof",r.GET_PROOF_CALLBACK="proof-callback",r.EMAIL_ATTEST_CALLBACK="email-callback"})(An||(An={}));var vc;(function(r){r.ISSUER_TOKENS="issuer-tokens",r.PROOF="proof"})(vc||(vc={}));var Qp=function(){function r(){this.core=new xE}return r.prototype.sendMessage=function(e,t,n,o){return t===void 0&&(t=!1),o===void 0&&(o=!1),wE(this,void 0,void 0,function(){var i;return AE(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.core.sendMessage(e,t,o)];case 1:return[2,s.sent()];case 2:if(i=s.sent(),i===ni.POPUP_BLOCKED){if(n)return[2,this.handleUserClose(e,n,t)];i=this.createNamedError(i,Sa.POPUP_BLOCKED)}throw i===ni.USER_ABORT&&(i=this.createNamedError(i,Sa.USER_ABORT)),i;case 3:return[2]}})})},r.prototype.handleUserClose=function(e,t,n){var o=this;return new Promise(function(i,s){t.showError("Mmmmm looks like your popup blocker is getting in the way."),t.setErrorRetryCallback(function(){o.core.sendMessage(e,n).then(function(a){i(a)}).catch(function(a){a===ni.POPUP_BLOCKED?a=o.createNamedError(a,Sa.POPUP_BLOCKED):a===ni.USER_ABORT&&(a=o.createNamedError(a,Sa.USER_ABORT)),s(a)})})})},r.prototype.createNamedError=function(e,t){var n=new Error(t);return n.name=e,n},r}(),Zu=function(){function r(e,t,n,o){this.params={},this.client=e,this.ui=t,this.viewContainer=n,this.params=o,this.init()}return r.prototype.init=function(){},r.prototype.update=function(e){this.params=e,this.render()},r}(),EE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},_E=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},kE=function(r){EE(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){this.viewContainer.innerHTML=this.renderMainTemplate(),this.viewContainer.querySelector(".opening-btn-tn").addEventListener("click",this.goToWalletSelection.bind(this))},e.prototype.renderMainTemplate=function(){var t;return`
			<div class="opening-content-view-tn">
              <div class="brand-tn"></div>
              <div class="inner-content-tn">
                <div class="inner-content-block-tn">
                  <button class="opening-btn-tn" aria-label="Start connecting your tokens">
				  `.concat((t=this.params.options.buttonText)!==null&&t!==void 0?t:"Let's go!",`
				  </button>
                  <div class="opening-heading-tn">`).concat(this.params.options.openingHeading,`</div>
                </div>
              </div>
            </div>
		`)},e.prototype.goToWalletSelection=function(){return SE(this,void 0,void 0,function(){return _E(this,function(t){switch(t.label){case 0:return this.ui.showLoaderDelayed(["Initializing wallet.."],500),[4,this.ui.canSkipWalletSelection()];case 1:return t.sent()?(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main")):this.ui.updateUI("wallet"),this.ui.dismissLoader(),[2]}})})},e}(Zu),rc=globalThis&&globalThis.__assign||function(){return rc=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},rc.apply(this,arguments)},TE=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h3=function(){function r(e,t){this.autoEnableTokens=e,this.tokenPersistenceTTL=t,this.currentIssuers={},this.tokenData={},this.tokenLookup={},this.selectedTokens={},this.tokenPersistenceTTL>0&&this.loadTokenStore()}return r.prototype.loadTokenStore=function(){var e=JSON.parse(localStorage.getItem(r.LOCAL_STORAGE_KEY));if(!!e){for(var t in e.tokenLookup){var n=e.tokenLookup[t];n.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenLookup[t]=n)}for(var t in e.tokenData){var o=e.tokenData[t];o.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenData[t]=o)}this.saveTokenStore()}},r.prototype.saveTokenStore=function(){this.tokenPersistenceTTL>0&&localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify({tokenLookup:this.tokenLookup,tokenData:this.tokenData}))},r.prototype.updateIssuers=function(e){Object.keys(this.currentIssuers).length>0&&(this.selectedTokens={}),this.prePopulateTokenLookupStore(e)},r.prototype.clearCachedTokens=function(e){for(var t in this.tokenData)e!==void 0&&e!==this.tokenLookup[t].onChain||delete this.tokenData[t];this.selectedTokens={},this.saveTokenStore()},r.prototype.hasOnChainTokens=function(){for(var e in this.currentIssuers)if(this.currentIssuers[e])return!0;return!1},r.prototype.getCurrentIssuers=function(e){var t={};for(var n in this.currentIssuers)(e===void 0||e===this.currentIssuers[n])&&(t[n]=this.tokenLookup[n]);return t},r.prototype.getCurrentTokens=function(e){var t,n,o={};for(var i in this.currentIssuers)(e===void 0||e===this.currentIssuers[i])&&(o[i]=(n=(t=this.tokenData[i])===null||t===void 0?void 0:t.tokens)!==null&&n!==void 0?n:[]);return o},r.prototype.getTotalTokenCount=function(e){var t=this.getCurrentTokens(e);return Object.keys(t).reduce(function(n,o){return n+t[o].length},0)},r.prototype.hasUnloadedIssuers=function(){var e=this.getCurrentIssuers(!0);for(var t in e)if(!e[t].title)return!0;return!1},r.prototype.hasUnloadedTokens=function(){var e,t;try{for(var n=TE(Object.values(this.getCurrentTokens())),o=n.next();!o.done;o=n.next()){var i=o.value;if(i.length===0)return!0}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!1},r.prototype.getIssuerTokens=function(e){var t;return this.tokenData[e]?(t=this.tokenData[e].tokens)!==null&&t!==void 0?t:[]:null},r.prototype.setTokens=function(e,t){this.tokenData[e]={timestamp:Date.now(),tokens:t},this.saveTokenStore(),this.autoEnableTokens&&(this.selectedTokens[e]={tokens:t})},r.prototype.getSelectedTokens=function(){return this.selectedTokens},r.prototype.setSelectedTokens=function(e){this.selectedTokens=e},r.prototype.prePopulateTokenLookupStore=function(e){var t=this,n={};e.forEach(function(o,i){var s;if(!!o.collectionID){if(o.onChain===void 0&&(o.onChain=!0),o.collectionID=t.formatCollectionID(o.collectionID),n[o.collectionID]!==void 0){Re(1,"duplicate collectionID key ".concat(o.collectionID,", use unique keys per collection."));return}"chain"in o&&(o.chain=t.formatCollectionChain(o.chain)),t.tokenData[o.collectionID]!==void 0&&t.autoEnableTokens&&((s=t.tokenData[o.collectionID].tokens)===null||s===void 0?void 0:s.length)&&(t.selectedTokens[o.collectionID]={tokens:t.tokenData[o.collectionID].tokens}),t.tokenLookup[o.collectionID]||t.updateTokenLookupStore(o.collectionID,o,!1),n[o.collectionID]=o.onChain}}),this.currentIssuers=n},r.prototype.updateTokenLookupStore=function(e,t,n){n===void 0&&(n=!0),this.tokenLookup[e]=rc(rc(rc({},this.tokenLookup[e]),t),{timestamp:Date.now()}),n&&this.saveTokenStore()},r.prototype.formatCollectionChain=function(e){return e.toLowerCase()},r.prototype.formatCollectionID=function(e){var t=e;return(/[A-Z]+/g.test(e)||/\s+/g.test(e))&&(t=e.replace(/\s+/g,"-").toLowerCase(),Re(1,"Token Negotiator: Spaces or capital letters found in collectionID definition ".concat(e,", this has been re-formatted to ").concat(t)),e=t),e},r.LOCAL_STORAGE_KEY="tn-tokenStore",r}(),d3=function(){function r(e,t){this.params={},this.viewContainer=e,this.params=t}return r.prototype.render=function(){var e=this,t=this.params.src,n;t&&t!=="undefined"?(n=document.createElement("img"),n.loading="lazy",n.addEventListener("load",function(o){e.onLoad(o)}),n.addEventListener("error",function(o){e.onError(o)}),n.src=t):(n=this.createAvatar(),this.viewContainer.classList.remove("shimmer-tn")),this.viewContainer.appendChild(n)},r.prototype.onLoad=function(e){this.viewContainer.classList.remove("shimmer-tn")},r.prototype.onError=function(e){this.viewContainer.innerHTML="",this.viewContainer.appendChild(this.createAvatar()),this.viewContainer.classList.remove("shimmer-tn")},r.prototype.createAvatar=function(){var e=document.createElement("img");return e.src=this.generateAvatar(this.params.title),e},r.prototype.generateAvatar=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=200,t.height=200,!n)return"";n.fillStyle=this.getRandomBackgroundColor(),n.fillRect(0,0,t.width,t.height),n.font="bold 100px 'Arial', sans-serif",n.fillStyle="#fff",n.textAlign="center",n.textBaseline="middle";for(var o=e.split(" "),i="",s=0;i.length<2&&s<o.length;s++){var a=o[s].split("");a.length&&(i+=a[0].toUpperCase())}return n.fillText(i,t.width/2,t.height/2),t.toDataURL("image/png")},r.prototype.getRandomBackgroundColor=function(){return"#0029a7"},r}(),p3={exports:{}};const ME={},PE=Object.freeze(Object.defineProperty({__proto__:null,default:ME},Symbol.toStringTag,{value:"Module"})),mo=Vt(PE);(function(r){(function(e,t){function n(b,c){if(!b)throw new Error(c||"Assertion failed")}function o(b,c){b.super_=c;var d=function(){};d.prototype=c.prototype,b.prototype=new d,b.prototype.constructor=b}function i(b,c,d){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(b||0,c||10,d||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=mo.Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,d){return c.cmp(d)>0?c:d},i.min=function(c,d){return c.cmp(d)<0?c:d},i.prototype._init=function(c,d,v){if(typeof c=="number")return this._initNumber(c,d,v);if(typeof c=="object")return this._initArray(c,d,v);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var y=0;c[0]==="-"&&(y++,this.negative=1),y<c.length&&(d===16?this._parseHex(c,y,v):(this._parseBase(c,d,y),v==="le"&&this._initArray(this.toArray(),d,v)))},i.prototype._initNumber=function(c,d,v){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},i.prototype._initArray=function(c,d,v){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x,w,m=0;if(v==="be")for(y=c.length-1,x=0;y>=0;y-=3)w=c[y]|c[y-1]<<8|c[y-2]<<16,this.words[x]|=w<<m&67108863,this.words[x+1]=w>>>26-m&67108863,m+=24,m>=26&&(m-=26,x++);else if(v==="le")for(y=0,x=0;y<c.length;y+=3)w=c[y]|c[y+1]<<8|c[y+2]<<16,this.words[x]|=w<<m&67108863,this.words[x+1]=w>>>26-m&67108863,m+=24,m>=26&&(m-=26,x++);return this._strip()};function a(b,c){var d=b.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+b)}function l(b,c,d){var v=a(b,d);return d-1>=c&&(v|=a(b,d-1)<<4),v}i.prototype._parseHex=function(c,d,v){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x=0,w=0,m;if(v==="be")for(y=c.length-1;y>=d;y-=2)m=l(c,d,y)<<x,this.words[w]|=m&67108863,x>=18?(x-=18,w+=1,this.words[w]|=m>>>26):x+=8;else{var g=c.length-d;for(y=g%2===0?d+1:d;y<c.length;y+=2)m=l(c,d,y)<<x,this.words[w]|=m&67108863,x>=18?(x-=18,w+=1,this.words[w]|=m>>>26):x+=8}this._strip()};function f(b,c,d,v){for(var y=0,x=0,w=Math.min(b.length,d),m=c;m<w;m++){var g=b.charCodeAt(m)-48;y*=v,g>=49?x=g-49+10:g>=17?x=g-17+10:x=g,n(g>=0&&x<v,"Invalid character"),y+=x}return y}i.prototype._parseBase=function(c,d,v){this.words=[0],this.length=1;for(var y=0,x=1;x<=67108863;x*=d)y++;y--,x=x/d|0;for(var w=c.length-v,m=w%y,g=Math.min(w,w-m)+v,h=0,S=v;S<g;S+=y)h=f(c,S,S+y,d),this.imuln(x),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(m!==0){var D=1;for(h=f(c,S,c.length,d),S=0;S<m;S++)D*=d;this.imuln(D),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function u(b,c){b.words=c.words,b.length=c.length,b.negative=c.negative,b.red=c.red}if(i.prototype._move=function(c){u(c,this)},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{i.prototype.inspect=p}else i.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,d){c=c||10,d=d|0||1;var v;if(c===16||c==="hex"){v="";for(var y=0,x=0,w=0;w<this.length;w++){var m=this.words[w],g=((m<<y|x)&16777215).toString(16);x=m>>>24-y&16777215,y+=2,y>=26&&(y-=26,w--),x!==0||w!==this.length-1?v=_[6-g.length]+g+v:v=g+v}for(x!==0&&(v=x.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(c===(c|0)&&c>=2&&c<=36){var h=T[c],S=I[c];v="";var D=this.clone();for(D.negative=0;!D.isZero();){var A=D.modrn(S).toString(c);D=D.idivn(S),D.isZero()?v=A+v:v=_[h-A.length]+A+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(c,d){return this.toArrayLike(s,c,d)}),i.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var B=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};i.prototype.toArrayLike=function(c,d,v){this._strip();var y=this.byteLength(),x=v||Math.max(1,y);n(y<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var w=B(c,x),m=d==="le"?"LE":"BE";return this["_toArrayLike"+m](w,y),w},i.prototype._toArrayLikeLE=function(c,d){for(var v=0,y=0,x=0,w=0;x<this.length;x++){var m=this.words[x]<<w|y;c[v++]=m&255,v<c.length&&(c[v++]=m>>8&255),v<c.length&&(c[v++]=m>>16&255),w===6?(v<c.length&&(c[v++]=m>>24&255),y=0,w=0):(y=m>>>24,w+=2)}if(v<c.length)for(c[v++]=y;v<c.length;)c[v++]=0},i.prototype._toArrayLikeBE=function(c,d){for(var v=c.length-1,y=0,x=0,w=0;x<this.length;x++){var m=this.words[x]<<w|y;c[v--]=m&255,v>=0&&(c[v--]=m>>8&255),v>=0&&(c[v--]=m>>16&255),w===6?(v>=0&&(c[v--]=m>>24&255),y=0,w=0):(y=m>>>24,w+=2)}if(v>=0)for(c[v--]=y;v>=0;)c[v--]=0},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var d=c,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},i.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,v=0;return(d&8191)===0&&(v+=13,d>>>=13),(d&127)===0&&(v+=7,d>>>=7),(d&15)===0&&(v+=4,d>>>=4),(d&3)===0&&(v+=2,d>>>=2),(d&1)===0&&v++,v},i.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function P(b){for(var c=new Array(b.bitLength()),d=0;d<c.length;d++){var v=d/26|0,y=d%26;c[d]=b.words[v]>>>y&1}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(c+=v,v!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},i.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&c.words[v];return this.length=d.length,this._strip()},i.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var d,v;this.length>c.length?(d=this,v=c):(d=c,v=this);for(var y=0;y<v.length;y++)this.words[y]=d.words[y]^v.words[y];if(this!==d)for(;y<d.length;y++)this.words[y]=d.words[y];return this.length=d.length,this._strip()},i.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,v=c%26;this._expand(d),v>0&&d--;for(var y=0;y<d;y++)this.words[y]=~this.words[y]&67108863;return v>0&&(this.words[y]=~this.words[y]&67108863>>26-v),this._strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,d){n(typeof c=="number"&&c>=0);var v=c/26|0,y=c%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<y:this.words[v]=this.words[v]&~(1<<y),this._strip()},i.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var v,y;this.length>c.length?(v=this,y=c):(v=c,y=this);for(var x=0,w=0;w<y.length;w++)d=(v.words[w]|0)+(y.words[w]|0)+x,this.words[w]=d&67108863,x=d>>>26;for(;x!==0&&w<v.length;w++)d=(v.words[w]|0)+x,this.words[w]=d&67108863,x=d>>>26;if(this.length=v.length,x!==0)this.words[this.length]=x,this.length++;else if(v!==this)for(;w<v.length;w++)this.words[w]=v.words[w];return this},i.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var v=this.cmp(c);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,x;v>0?(y=this,x=c):(y=c,x=this);for(var w=0,m=0;m<x.length;m++)d=(y.words[m]|0)-(x.words[m]|0)+w,w=d>>26,this.words[m]=d&67108863;for(;w!==0&&m<y.length;m++)d=(y.words[m]|0)+w,w=d>>26,this.words[m]=d&67108863;if(w===0&&m<y.length&&y!==this)for(;m<y.length;m++)this.words[m]=y.words[m];return this.length=Math.max(this.length,m),y!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function C(b,c,d){d.negative=c.negative^b.negative;var v=b.length+c.length|0;d.length=v,v=v-1|0;var y=b.words[0]|0,x=c.words[0]|0,w=y*x,m=w&67108863,g=w/67108864|0;d.words[0]=m;for(var h=1;h<v;h++){for(var S=g>>>26,D=g&67108863,A=Math.min(h,c.length-1),N=Math.max(0,h-b.length+1);N<=A;N++){var q=h-N|0;y=b.words[q]|0,x=c.words[N]|0,w=y*x+D,S+=w/67108864|0,D=w&67108863}d.words[h]=D|0,g=S|0}return g!==0?d.words[h]=g|0:d.length--,d._strip()}var L=function(c,d,v){var y=c.words,x=d.words,w=v.words,m=0,g,h,S,D=y[0]|0,A=D&8191,N=D>>>13,q=y[1]|0,G=q&8191,Z=q>>>13,ae=y[2]|0,ne=ae&8191,ee=ae>>>13,F=y[3]|0,V=F&8191,K=F>>>13,O=y[4]|0,k=O&8191,M=O>>>13,R=y[5]|0,$=R&8191,H=R>>>13,Q=y[6]|0,oe=Q&8191,te=Q>>>13,le=y[7]|0,fe=le&8191,se=le>>>13,Ie=y[8]|0,xe=Ie&8191,de=Ie>>>13,ze=y[9]|0,Ue=ze&8191,W=ze>>>13,X=x[0]|0,ye=X&8191,ue=X>>>13,Be=x[1]|0,ve=Be&8191,Ae=Be>>>13,et=x[2]|0,Ne=et&8191,Ee=et>>>13,lt=x[3]|0,Fe=lt&8191,we=lt>>>13,gt=x[4]|0,He=gt&8191,_e=gt>>>13,nt=x[5]|0,Ve=nt&8191,Se=nt>>>13,ut=x[6]|0,je=ut&8191,ke=ut>>>13,bt=x[7]|0,qe=bt&8191,Te=bt>>>13,ht=x[8]|0,Ge=ht&8191,Me=ht>>>13,dt=x[9]|0,De=dt&8191,$e=dt>>>13;v.negative=c.negative^d.negative,v.length=19,g=Math.imul(A,ye),h=Math.imul(A,ue),h=h+Math.imul(N,ye)|0,S=Math.imul(N,ue);var sr=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(sr>>>26)|0,sr&=67108863,g=Math.imul(G,ye),h=Math.imul(G,ue),h=h+Math.imul(Z,ye)|0,S=Math.imul(Z,ue),g=g+Math.imul(A,ve)|0,h=h+Math.imul(A,Ae)|0,h=h+Math.imul(N,ve)|0,S=S+Math.imul(N,Ae)|0;var rr=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(rr>>>26)|0,rr&=67108863,g=Math.imul(ne,ye),h=Math.imul(ne,ue),h=h+Math.imul(ee,ye)|0,S=Math.imul(ee,ue),g=g+Math.imul(G,ve)|0,h=h+Math.imul(G,Ae)|0,h=h+Math.imul(Z,ve)|0,S=S+Math.imul(Z,Ae)|0,g=g+Math.imul(A,Ne)|0,h=h+Math.imul(A,Ee)|0,h=h+Math.imul(N,Ne)|0,S=S+Math.imul(N,Ee)|0;var Ar=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,g=Math.imul(V,ye),h=Math.imul(V,ue),h=h+Math.imul(K,ye)|0,S=Math.imul(K,ue),g=g+Math.imul(ne,ve)|0,h=h+Math.imul(ne,Ae)|0,h=h+Math.imul(ee,ve)|0,S=S+Math.imul(ee,Ae)|0,g=g+Math.imul(G,Ne)|0,h=h+Math.imul(G,Ee)|0,h=h+Math.imul(Z,Ne)|0,S=S+Math.imul(Z,Ee)|0,g=g+Math.imul(A,Fe)|0,h=h+Math.imul(A,we)|0,h=h+Math.imul(N,Fe)|0,S=S+Math.imul(N,we)|0;var Er=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Er>>>26)|0,Er&=67108863,g=Math.imul(k,ye),h=Math.imul(k,ue),h=h+Math.imul(M,ye)|0,S=Math.imul(M,ue),g=g+Math.imul(V,ve)|0,h=h+Math.imul(V,Ae)|0,h=h+Math.imul(K,ve)|0,S=S+Math.imul(K,Ae)|0,g=g+Math.imul(ne,Ne)|0,h=h+Math.imul(ne,Ee)|0,h=h+Math.imul(ee,Ne)|0,S=S+Math.imul(ee,Ee)|0,g=g+Math.imul(G,Fe)|0,h=h+Math.imul(G,we)|0,h=h+Math.imul(Z,Fe)|0,S=S+Math.imul(Z,we)|0,g=g+Math.imul(A,He)|0,h=h+Math.imul(A,_e)|0,h=h+Math.imul(N,He)|0,S=S+Math.imul(N,_e)|0;var Sr=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,g=Math.imul($,ye),h=Math.imul($,ue),h=h+Math.imul(H,ye)|0,S=Math.imul(H,ue),g=g+Math.imul(k,ve)|0,h=h+Math.imul(k,Ae)|0,h=h+Math.imul(M,ve)|0,S=S+Math.imul(M,Ae)|0,g=g+Math.imul(V,Ne)|0,h=h+Math.imul(V,Ee)|0,h=h+Math.imul(K,Ne)|0,S=S+Math.imul(K,Ee)|0,g=g+Math.imul(ne,Fe)|0,h=h+Math.imul(ne,we)|0,h=h+Math.imul(ee,Fe)|0,S=S+Math.imul(ee,we)|0,g=g+Math.imul(G,He)|0,h=h+Math.imul(G,_e)|0,h=h+Math.imul(Z,He)|0,S=S+Math.imul(Z,_e)|0,g=g+Math.imul(A,Ve)|0,h=h+Math.imul(A,Se)|0,h=h+Math.imul(N,Ve)|0,S=S+Math.imul(N,Se)|0;var Rn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,g=Math.imul(oe,ye),h=Math.imul(oe,ue),h=h+Math.imul(te,ye)|0,S=Math.imul(te,ue),g=g+Math.imul($,ve)|0,h=h+Math.imul($,Ae)|0,h=h+Math.imul(H,ve)|0,S=S+Math.imul(H,Ae)|0,g=g+Math.imul(k,Ne)|0,h=h+Math.imul(k,Ee)|0,h=h+Math.imul(M,Ne)|0,S=S+Math.imul(M,Ee)|0,g=g+Math.imul(V,Fe)|0,h=h+Math.imul(V,we)|0,h=h+Math.imul(K,Fe)|0,S=S+Math.imul(K,we)|0,g=g+Math.imul(ne,He)|0,h=h+Math.imul(ne,_e)|0,h=h+Math.imul(ee,He)|0,S=S+Math.imul(ee,_e)|0,g=g+Math.imul(G,Ve)|0,h=h+Math.imul(G,Se)|0,h=h+Math.imul(Z,Ve)|0,S=S+Math.imul(Z,Se)|0,g=g+Math.imul(A,je)|0,h=h+Math.imul(A,ke)|0,h=h+Math.imul(N,je)|0,S=S+Math.imul(N,ke)|0;var Nn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,g=Math.imul(fe,ye),h=Math.imul(fe,ue),h=h+Math.imul(se,ye)|0,S=Math.imul(se,ue),g=g+Math.imul(oe,ve)|0,h=h+Math.imul(oe,Ae)|0,h=h+Math.imul(te,ve)|0,S=S+Math.imul(te,Ae)|0,g=g+Math.imul($,Ne)|0,h=h+Math.imul($,Ee)|0,h=h+Math.imul(H,Ne)|0,S=S+Math.imul(H,Ee)|0,g=g+Math.imul(k,Fe)|0,h=h+Math.imul(k,we)|0,h=h+Math.imul(M,Fe)|0,S=S+Math.imul(M,we)|0,g=g+Math.imul(V,He)|0,h=h+Math.imul(V,_e)|0,h=h+Math.imul(K,He)|0,S=S+Math.imul(K,_e)|0,g=g+Math.imul(ne,Ve)|0,h=h+Math.imul(ne,Se)|0,h=h+Math.imul(ee,Ve)|0,S=S+Math.imul(ee,Se)|0,g=g+Math.imul(G,je)|0,h=h+Math.imul(G,ke)|0,h=h+Math.imul(Z,je)|0,S=S+Math.imul(Z,ke)|0,g=g+Math.imul(A,qe)|0,h=h+Math.imul(A,Te)|0,h=h+Math.imul(N,qe)|0,S=S+Math.imul(N,Te)|0;var Ln=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,g=Math.imul(xe,ye),h=Math.imul(xe,ue),h=h+Math.imul(de,ye)|0,S=Math.imul(de,ue),g=g+Math.imul(fe,ve)|0,h=h+Math.imul(fe,Ae)|0,h=h+Math.imul(se,ve)|0,S=S+Math.imul(se,Ae)|0,g=g+Math.imul(oe,Ne)|0,h=h+Math.imul(oe,Ee)|0,h=h+Math.imul(te,Ne)|0,S=S+Math.imul(te,Ee)|0,g=g+Math.imul($,Fe)|0,h=h+Math.imul($,we)|0,h=h+Math.imul(H,Fe)|0,S=S+Math.imul(H,we)|0,g=g+Math.imul(k,He)|0,h=h+Math.imul(k,_e)|0,h=h+Math.imul(M,He)|0,S=S+Math.imul(M,_e)|0,g=g+Math.imul(V,Ve)|0,h=h+Math.imul(V,Se)|0,h=h+Math.imul(K,Ve)|0,S=S+Math.imul(K,Se)|0,g=g+Math.imul(ne,je)|0,h=h+Math.imul(ne,ke)|0,h=h+Math.imul(ee,je)|0,S=S+Math.imul(ee,ke)|0,g=g+Math.imul(G,qe)|0,h=h+Math.imul(G,Te)|0,h=h+Math.imul(Z,qe)|0,S=S+Math.imul(Z,Te)|0,g=g+Math.imul(A,Ge)|0,h=h+Math.imul(A,Me)|0,h=h+Math.imul(N,Ge)|0,S=S+Math.imul(N,Me)|0;var Un=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(Ue,ye),h=Math.imul(Ue,ue),h=h+Math.imul(W,ye)|0,S=Math.imul(W,ue),g=g+Math.imul(xe,ve)|0,h=h+Math.imul(xe,Ae)|0,h=h+Math.imul(de,ve)|0,S=S+Math.imul(de,Ae)|0,g=g+Math.imul(fe,Ne)|0,h=h+Math.imul(fe,Ee)|0,h=h+Math.imul(se,Ne)|0,S=S+Math.imul(se,Ee)|0,g=g+Math.imul(oe,Fe)|0,h=h+Math.imul(oe,we)|0,h=h+Math.imul(te,Fe)|0,S=S+Math.imul(te,we)|0,g=g+Math.imul($,He)|0,h=h+Math.imul($,_e)|0,h=h+Math.imul(H,He)|0,S=S+Math.imul(H,_e)|0,g=g+Math.imul(k,Ve)|0,h=h+Math.imul(k,Se)|0,h=h+Math.imul(M,Ve)|0,S=S+Math.imul(M,Se)|0,g=g+Math.imul(V,je)|0,h=h+Math.imul(V,ke)|0,h=h+Math.imul(K,je)|0,S=S+Math.imul(K,ke)|0,g=g+Math.imul(ne,qe)|0,h=h+Math.imul(ne,Te)|0,h=h+Math.imul(ee,qe)|0,S=S+Math.imul(ee,Te)|0,g=g+Math.imul(G,Ge)|0,h=h+Math.imul(G,Me)|0,h=h+Math.imul(Z,Ge)|0,S=S+Math.imul(Z,Me)|0,g=g+Math.imul(A,De)|0,h=h+Math.imul(A,$e)|0,h=h+Math.imul(N,De)|0,S=S+Math.imul(N,$e)|0;var Dn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,g=Math.imul(Ue,ve),h=Math.imul(Ue,Ae),h=h+Math.imul(W,ve)|0,S=Math.imul(W,Ae),g=g+Math.imul(xe,Ne)|0,h=h+Math.imul(xe,Ee)|0,h=h+Math.imul(de,Ne)|0,S=S+Math.imul(de,Ee)|0,g=g+Math.imul(fe,Fe)|0,h=h+Math.imul(fe,we)|0,h=h+Math.imul(se,Fe)|0,S=S+Math.imul(se,we)|0,g=g+Math.imul(oe,He)|0,h=h+Math.imul(oe,_e)|0,h=h+Math.imul(te,He)|0,S=S+Math.imul(te,_e)|0,g=g+Math.imul($,Ve)|0,h=h+Math.imul($,Se)|0,h=h+Math.imul(H,Ve)|0,S=S+Math.imul(H,Se)|0,g=g+Math.imul(k,je)|0,h=h+Math.imul(k,ke)|0,h=h+Math.imul(M,je)|0,S=S+Math.imul(M,ke)|0,g=g+Math.imul(V,qe)|0,h=h+Math.imul(V,Te)|0,h=h+Math.imul(K,qe)|0,S=S+Math.imul(K,Te)|0,g=g+Math.imul(ne,Ge)|0,h=h+Math.imul(ne,Me)|0,h=h+Math.imul(ee,Ge)|0,S=S+Math.imul(ee,Me)|0,g=g+Math.imul(G,De)|0,h=h+Math.imul(G,$e)|0,h=h+Math.imul(Z,De)|0,S=S+Math.imul(Z,$e)|0;var Fn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(Ue,Ne),h=Math.imul(Ue,Ee),h=h+Math.imul(W,Ne)|0,S=Math.imul(W,Ee),g=g+Math.imul(xe,Fe)|0,h=h+Math.imul(xe,we)|0,h=h+Math.imul(de,Fe)|0,S=S+Math.imul(de,we)|0,g=g+Math.imul(fe,He)|0,h=h+Math.imul(fe,_e)|0,h=h+Math.imul(se,He)|0,S=S+Math.imul(se,_e)|0,g=g+Math.imul(oe,Ve)|0,h=h+Math.imul(oe,Se)|0,h=h+Math.imul(te,Ve)|0,S=S+Math.imul(te,Se)|0,g=g+Math.imul($,je)|0,h=h+Math.imul($,ke)|0,h=h+Math.imul(H,je)|0,S=S+Math.imul(H,ke)|0,g=g+Math.imul(k,qe)|0,h=h+Math.imul(k,Te)|0,h=h+Math.imul(M,qe)|0,S=S+Math.imul(M,Te)|0,g=g+Math.imul(V,Ge)|0,h=h+Math.imul(V,Me)|0,h=h+Math.imul(K,Ge)|0,S=S+Math.imul(K,Me)|0,g=g+Math.imul(ne,De)|0,h=h+Math.imul(ne,$e)|0,h=h+Math.imul(ee,De)|0,S=S+Math.imul(ee,$e)|0;var $n=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+($n>>>26)|0,$n&=67108863,g=Math.imul(Ue,Fe),h=Math.imul(Ue,we),h=h+Math.imul(W,Fe)|0,S=Math.imul(W,we),g=g+Math.imul(xe,He)|0,h=h+Math.imul(xe,_e)|0,h=h+Math.imul(de,He)|0,S=S+Math.imul(de,_e)|0,g=g+Math.imul(fe,Ve)|0,h=h+Math.imul(fe,Se)|0,h=h+Math.imul(se,Ve)|0,S=S+Math.imul(se,Se)|0,g=g+Math.imul(oe,je)|0,h=h+Math.imul(oe,ke)|0,h=h+Math.imul(te,je)|0,S=S+Math.imul(te,ke)|0,g=g+Math.imul($,qe)|0,h=h+Math.imul($,Te)|0,h=h+Math.imul(H,qe)|0,S=S+Math.imul(H,Te)|0,g=g+Math.imul(k,Ge)|0,h=h+Math.imul(k,Me)|0,h=h+Math.imul(M,Ge)|0,S=S+Math.imul(M,Me)|0,g=g+Math.imul(V,De)|0,h=h+Math.imul(V,$e)|0,h=h+Math.imul(K,De)|0,S=S+Math.imul(K,$e)|0;var Vn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul(Ue,He),h=Math.imul(Ue,_e),h=h+Math.imul(W,He)|0,S=Math.imul(W,_e),g=g+Math.imul(xe,Ve)|0,h=h+Math.imul(xe,Se)|0,h=h+Math.imul(de,Ve)|0,S=S+Math.imul(de,Se)|0,g=g+Math.imul(fe,je)|0,h=h+Math.imul(fe,ke)|0,h=h+Math.imul(se,je)|0,S=S+Math.imul(se,ke)|0,g=g+Math.imul(oe,qe)|0,h=h+Math.imul(oe,Te)|0,h=h+Math.imul(te,qe)|0,S=S+Math.imul(te,Te)|0,g=g+Math.imul($,Ge)|0,h=h+Math.imul($,Me)|0,h=h+Math.imul(H,Ge)|0,S=S+Math.imul(H,Me)|0,g=g+Math.imul(k,De)|0,h=h+Math.imul(k,$e)|0,h=h+Math.imul(M,De)|0,S=S+Math.imul(M,$e)|0;var jn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul(Ue,Ve),h=Math.imul(Ue,Se),h=h+Math.imul(W,Ve)|0,S=Math.imul(W,Se),g=g+Math.imul(xe,je)|0,h=h+Math.imul(xe,ke)|0,h=h+Math.imul(de,je)|0,S=S+Math.imul(de,ke)|0,g=g+Math.imul(fe,qe)|0,h=h+Math.imul(fe,Te)|0,h=h+Math.imul(se,qe)|0,S=S+Math.imul(se,Te)|0,g=g+Math.imul(oe,Ge)|0,h=h+Math.imul(oe,Me)|0,h=h+Math.imul(te,Ge)|0,S=S+Math.imul(te,Me)|0,g=g+Math.imul($,De)|0,h=h+Math.imul($,$e)|0,h=h+Math.imul(H,De)|0,S=S+Math.imul(H,$e)|0;var qn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul(Ue,je),h=Math.imul(Ue,ke),h=h+Math.imul(W,je)|0,S=Math.imul(W,ke),g=g+Math.imul(xe,qe)|0,h=h+Math.imul(xe,Te)|0,h=h+Math.imul(de,qe)|0,S=S+Math.imul(de,Te)|0,g=g+Math.imul(fe,Ge)|0,h=h+Math.imul(fe,Me)|0,h=h+Math.imul(se,Ge)|0,S=S+Math.imul(se,Me)|0,g=g+Math.imul(oe,De)|0,h=h+Math.imul(oe,$e)|0,h=h+Math.imul(te,De)|0,S=S+Math.imul(te,$e)|0;var Hn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul(Ue,qe),h=Math.imul(Ue,Te),h=h+Math.imul(W,qe)|0,S=Math.imul(W,Te),g=g+Math.imul(xe,Ge)|0,h=h+Math.imul(xe,Me)|0,h=h+Math.imul(de,Ge)|0,S=S+Math.imul(de,Me)|0,g=g+Math.imul(fe,De)|0,h=h+Math.imul(fe,$e)|0,h=h+Math.imul(se,De)|0,S=S+Math.imul(se,$e)|0;var Gn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul(Ue,Ge),h=Math.imul(Ue,Me),h=h+Math.imul(W,Ge)|0,S=Math.imul(W,Me),g=g+Math.imul(xe,De)|0,h=h+Math.imul(xe,$e)|0,h=h+Math.imul(de,De)|0,S=S+Math.imul(de,$e)|0;var ss=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(ss>>>26)|0,ss&=67108863,g=Math.imul(Ue,De),h=Math.imul(Ue,$e),h=h+Math.imul(W,De)|0,S=Math.imul(W,$e);var as=(m+g|0)+((h&8191)<<13)|0;return m=(S+(h>>>13)|0)+(as>>>26)|0,as&=67108863,w[0]=sr,w[1]=rr,w[2]=Ar,w[3]=Er,w[4]=Sr,w[5]=Rn,w[6]=Nn,w[7]=Ln,w[8]=Un,w[9]=Dn,w[10]=Fn,w[11]=$n,w[12]=Vn,w[13]=jn,w[14]=qn,w[15]=Hn,w[16]=Gn,w[17]=ss,w[18]=as,m!==0&&(w[19]=m,v.length++),v};Math.imul||(L=C);function j(b,c,d){d.negative=c.negative^b.negative,d.length=b.length+c.length;for(var v=0,y=0,x=0;x<d.length-1;x++){var w=y;y=0;for(var m=v&67108863,g=Math.min(x,c.length-1),h=Math.max(0,x-b.length+1);h<=g;h++){var S=x-h,D=b.words[S]|0,A=c.words[h]|0,N=D*A,q=N&67108863;w=w+(N/67108864|0)|0,q=q+m|0,m=q&67108863,w=w+(q>>>26)|0,y+=w>>>26,w&=67108863}d.words[x]=m,v=w,w=y}return v!==0?d.words[x]=v:d.length--,d._strip()}function z(b,c,d){return j(b,c,d)}i.prototype.mulTo=function(c,d){var v,y=this.length+c.length;return this.length===10&&c.length===10?v=L(this,c,d):y<63?v=C(this,c,d):y<1024?v=j(this,c,d):v=z(this,c,d),v},i.prototype.mul=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},i.prototype.mulf=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),z(this,c,d)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){var d=c<0;d&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var v=0,y=0;y<this.length;y++){var x=(this.words[y]|0)*c,w=(x&67108863)+(v&67108863);v>>=26,v+=x/67108864|0,v+=w>>>26,this.words[y]=w&67108863}return v!==0&&(this.words[y]=v,this.length++),d?this.ineg():this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var d=P(c);if(d.length===0)return new i(1);for(var v=this,y=0;y<d.length&&d[y]===0;y++,v=v.sqr());if(++y<d.length)for(var x=v.sqr();y<d.length;y++,x=x.sqr())d[y]!==0&&(v=v.mul(x));return v},i.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var d=c%26,v=(c-d)/26,y=67108863>>>26-d<<26-d,x;if(d!==0){var w=0;for(x=0;x<this.length;x++){var m=this.words[x]&y,g=(this.words[x]|0)-m<<d;this.words[x]=g|w,w=m>>>26-d}w&&(this.words[x]=w,this.length++)}if(v!==0){for(x=this.length-1;x>=0;x--)this.words[x+v]=this.words[x];for(x=0;x<v;x++)this.words[x]=0;this.length+=v}return this._strip()},i.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,d,v){n(typeof c=="number"&&c>=0);var y;d?y=(d-d%26)/26:y=0;var x=c%26,w=Math.min((c-x)/26,this.length),m=67108863^67108863>>>x<<x,g=v;if(y-=w,y=Math.max(0,y),g){for(var h=0;h<w;h++)g.words[h]=this.words[h];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,h=0;h<this.length;h++)this.words[h]=this.words[h+w];else this.words[0]=0,this.length=1;var S=0;for(h=this.length-1;h>=0&&(S!==0||h>=y);h--){var D=this.words[h]|0;this.words[h]=S<<26-x|D>>>x,S=D&m}return g&&S!==0&&(g.words[g.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(c,d,v){return n(this.negative===0),this.iushrn(c,d,v)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,v=(c-d)/26,y=1<<d;if(this.length<=v)return!1;var x=this.words[v];return!!(x&y)},i.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,v=(c-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var y=67108863^67108863>>>d<<d;this.words[this.length-1]&=y}return this._strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,d,v){var y=c.length+v,x;this._expand(y);var w,m=0;for(x=0;x<c.length;x++){w=(this.words[x+v]|0)+m;var g=(c.words[x]|0)*d;w-=g&67108863,m=(w>>26)-(g/67108864|0),this.words[x+v]=w&67108863}for(;x<this.length-v;x++)w=(this.words[x+v]|0)+m,m=w>>26,this.words[x+v]=w&67108863;if(m===0)return this._strip();for(n(m===-1),m=0,x=0;x<this.length;x++)w=-(this.words[x]|0)+m,m=w>>26,this.words[x]=w&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(c,d){var v=this.length-c.length,y=this.clone(),x=c,w=x.words[x.length-1]|0,m=this._countBits(w);v=26-m,v!==0&&(x=x.ushln(v),y.iushln(v),w=x.words[x.length-1]|0);var g=y.length-x.length,h;if(d!=="mod"){h=new i(null),h.length=g+1,h.words=new Array(h.length);for(var S=0;S<h.length;S++)h.words[S]=0}var D=y.clone()._ishlnsubmul(x,1,g);D.negative===0&&(y=D,h&&(h.words[g]=1));for(var A=g-1;A>=0;A--){var N=(y.words[x.length+A]|0)*67108864+(y.words[x.length+A-1]|0);for(N=Math.min(N/w|0,67108863),y._ishlnsubmul(x,N,A);y.negative!==0;)N--,y.negative=0,y._ishlnsubmul(x,1,A),y.isZero()||(y.negative^=1);h&&(h.words[A]=N)}return h&&h._strip(),y._strip(),d!=="div"&&v!==0&&y.iushrn(v),{div:h||null,mod:y}},i.prototype.divmod=function(c,d,v){if(n(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,x,w;return this.negative!==0&&c.negative===0?(w=this.neg().divmod(c,d),d!=="mod"&&(y=w.div.neg()),d!=="div"&&(x=w.mod.neg(),v&&x.negative!==0&&x.iadd(c)),{div:y,mod:x}):this.negative===0&&c.negative!==0?(w=this.divmod(c.neg(),d),d!=="mod"&&(y=w.div.neg()),{div:y,mod:w.mod}):(this.negative&c.negative)!==0?(w=this.neg().divmod(c.neg(),d),d!=="div"&&(x=w.mod.neg(),v&&x.negative!==0&&x.isub(c)),{div:w.div,mod:x}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modrn(c.words[0]))}:this._wordDiv(c,d)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(c):d.mod,y=c.ushrn(1),x=c.andln(1),w=v.cmp(y);return w<0||x===1&&w===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var v=(1<<26)%c,y=0,x=this.length-1;x>=0;x--)y=(v*y+(this.words[x]|0))%c;return d?-y:y},i.prototype.modn=function(c){return this.modrn(c)},i.prototype.idivn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var v=0,y=this.length-1;y>=0;y--){var x=(this.words[y]|0)+v*67108864;this.words[y]=x/c|0,v=x%c}return this._strip(),d?this.ineg():this},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var d=this,v=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var y=new i(1),x=new i(0),w=new i(0),m=new i(1),g=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++g;for(var h=v.clone(),S=d.clone();!d.isZero();){for(var D=0,A=1;(d.words[0]&A)===0&&D<26;++D,A<<=1);if(D>0)for(d.iushrn(D);D-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(h),x.isub(S)),y.iushrn(1),x.iushrn(1);for(var N=0,q=1;(v.words[0]&q)===0&&N<26;++N,q<<=1);if(N>0)for(v.iushrn(N);N-- >0;)(w.isOdd()||m.isOdd())&&(w.iadd(h),m.isub(S)),w.iushrn(1),m.iushrn(1);d.cmp(v)>=0?(d.isub(v),y.isub(w),x.isub(m)):(v.isub(d),w.isub(y),m.isub(x))}return{a:w,b:m,gcd:v.iushln(g)}},i.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var d=this,v=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var y=new i(1),x=new i(0),w=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var m=0,g=1;(d.words[0]&g)===0&&m<26;++m,g<<=1);if(m>0)for(d.iushrn(m);m-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);for(var h=0,S=1;(v.words[0]&S)===0&&h<26;++h,S<<=1);if(h>0)for(v.iushrn(h);h-- >0;)x.isOdd()&&x.iadd(w),x.iushrn(1);d.cmp(v)>=0?(d.isub(v),y.isub(x)):(v.isub(d),x.isub(y))}var D;return d.cmpn(1)===0?D=y:D=x,D.cmpn(0)<0&&D.iadd(c),D},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),v=c.clone();d.negative=0,v.negative=0;for(var y=0;d.isEven()&&v.isEven();y++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var x=d.cmp(v);if(x<0){var w=d;d=v,v=w}else if(x===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(y)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){n(typeof c=="number");var d=c%26,v=(c-d)/26,y=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=y,this;for(var x=y,w=v;x!==0&&w<this.length;w++){var m=this.words[w]|0;m+=x,x=m>>>26,m&=67108863,this.words[w]=m}return x!==0&&(this.words[w]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(c=-c),n(c<=67108863,"Number is too big");var y=this.words[0]|0;v=y===c?0:y<c?-1:1}return this.negative!==0?-v|0:v},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var y=this.words[v]|0,x=c.words[v]|0;if(y!==x){y<x?d=-1:y>x&&(d=1);break}}return d},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new U(c)},i.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var Y={k256:null,p224:null,p192:null,p25519:null};function re(b,c){this.name=b,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}re.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},re.prototype.ireduce=function(c){var d=c,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var y=v<this.n?-1:d.ucmp(this.p);return y===0?(d.words[0]=0,d.length=1):y>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},re.prototype.split=function(c,d){c.iushrn(this.n,0,d)},re.prototype.imulK=function(c){return c.imul(this.k)};function ge(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(ge,re),ge.prototype.split=function(c,d){for(var v=4194303,y=Math.min(c.length,9),x=0;x<y;x++)d.words[x]=c.words[x];if(d.length=y,c.length<=9){c.words[0]=0,c.length=1;return}var w=c.words[9];for(d.words[d.length++]=w&v,x=10;x<c.length;x++){var m=c.words[x]|0;c.words[x-10]=(m&v)<<4|w>>>22,w=m}w>>>=22,c.words[x-10]=w,w===0&&c.length>10?c.length-=10:c.length-=9},ge.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,v=0;v<c.length;v++){var y=c.words[v]|0;d+=y*977,c.words[v]=d&67108863,d=y*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ce(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(ce,re);function be(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(be,re);function Ce(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Ce,re),Ce.prototype.imulK=function(c){for(var d=0,v=0;v<c.length;v++){var y=(c.words[v]|0)*19+d,x=y&67108863;y>>>=26,c.words[v]=x,d=y}return d!==0&&(c.words[c.length++]=d),c},i._prime=function(c){if(Y[c])return Y[c];var d;if(c==="k256")d=new ge;else if(c==="p224")d=new ce;else if(c==="p192")d=new be;else if(c==="p25519")d=new Ce;else throw new Error("Unknown prime "+c);return Y[c]=d,d};function U(b){if(typeof b=="string"){var c=i._prime(b);this.m=c.p,this.prime=c}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}U.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},U.prototype._verify2=function(c,d){n((c.negative|d.negative)===0,"red works only with positives"),n(c.red&&c.red===d.red,"red works only with red numbers")},U.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(u(c,c.umod(this.m)._forceRed(this)),c)},U.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},U.prototype.add=function(c,d){this._verify2(c,d);var v=c.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},U.prototype.iadd=function(c,d){this._verify2(c,d);var v=c.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},U.prototype.sub=function(c,d){this._verify2(c,d);var v=c.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},U.prototype.isub=function(c,d){this._verify2(c,d);var v=c.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},U.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},U.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},U.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},U.prototype.isqr=function(c){return this.imul(c,c.clone())},U.prototype.sqr=function(c){return this.mul(c,c)},U.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var v=this.m.add(new i(1)).iushrn(2);return this.pow(c,v)}for(var y=this.m.subn(1),x=0;!y.isZero()&&y.andln(1)===0;)x++,y.iushrn(1);n(!y.isZero());var w=new i(1).toRed(this),m=w.redNeg(),g=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,g).cmp(m)!==0;)h.redIAdd(m);for(var S=this.pow(h,y),D=this.pow(c,y.addn(1).iushrn(1)),A=this.pow(c,y),N=x;A.cmp(w)!==0;){for(var q=A,G=0;q.cmp(w)!==0;G++)q=q.redSqr();n(G<N);var Z=this.pow(S,new i(1).iushln(N-G-1));D=D.redMul(Z),S=Z.redSqr(),A=A.redMul(S),N=G}return D},U.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},U.prototype.pow=function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var v=4,y=new Array(1<<v);y[0]=new i(1).toRed(this),y[1]=c;for(var x=2;x<y.length;x++)y[x]=this.mul(y[x-1],c);var w=y[0],m=0,g=0,h=d.bitLength()%26;for(h===0&&(h=26),x=d.length-1;x>=0;x--){for(var S=d.words[x],D=h-1;D>=0;D--){var A=S>>D&1;if(w!==y[0]&&(w=this.sqr(w)),A===0&&m===0){g=0;continue}m<<=1,m|=A,g++,!(g!==v&&(x!==0||D!==0))&&(w=this.mul(w,y[m]),g=0,m=0)}h=26}return w},U.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},U.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},i.mont=function(c){return new E(c)};function E(b){U.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(E,U),E.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},E.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},E.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var v=c.imul(d),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=v.isub(y).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},E.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var v=c.mul(d),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=v.isub(y).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},E.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(r,Xe)})(p3);const IE=p3.exports,CE="logger/5.7.0";let dv=!1,pv=!1;const ql={debug:1,default:2,info:2,warning:3,error:4,off:5};let gv=ql.default,Uh=null;function BE(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const bv=BE();var lu;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(lu||(lu={}));var Qr;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Qr||(Qr={}));const vv="0123456789abcdef";class J{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();ql[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(gv>ql[n])&&console.log.apply(console,t)}debug(...e){this._log(J.levels.DEBUG,e)}info(...e){this._log(J.levels.INFO,e)}warn(...e){this._log(J.levels.WARNING,e)}makeError(e,t,n){if(pv)return this.makeError("censored error",t,{});t||(t=J.errors.UNKNOWN_ERROR),n||(n={});const o=[];Object.keys(n).forEach(l=>{const f=n[l];try{if(f instanceof Uint8Array){let u="";for(let p=0;p<f.length;p++)u+=vv[f[p]>>4],u+=vv[f[p]&15];o.push(l+"=Uint8Array(0x"+u+")")}else o.push(l+"="+JSON.stringify(f))}catch{o.push(l+"="+JSON.stringify(n[l].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);const i=e;let s="";switch(t){case Qr.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Qr.CALL_EXCEPTION:case Qr.INSUFFICIENT_FUNDS:case Qr.MISSING_NEW:case Qr.NONCE_EXPIRED:case Qr.REPLACEMENT_UNDERPRICED:case Qr.TRANSACTION_REPLACED:case Qr.UNPREDICTABLE_GAS_LIMIT:s=t;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),o.length&&(e+=" ("+o.join(", ")+")");const a=new Error(e);return a.reason=i,a.code=t,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,J.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){bv&&this.throwError("platform missing String.prototype.normalize",J.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:bv})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,J.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,J.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,J.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,J.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",J.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",J.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",J.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Uh||(Uh=new J(CE)),Uh}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",J.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),dv){if(!e)return;this.globalLogger().throwError("error censorship permanent",J.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}pv=!!e,dv=!!t}static setLogLevel(e){const t=ql[e.toLowerCase()];if(t==null){J.globalLogger().warn("invalid log level - "+e);return}gv=t}static from(e){return new J(e)}}J.errors=Qr;J.levels=lu;const OE=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return lu},get ErrorCode(){return Qr},Logger:J},Symbol.toStringTag,{value:"Module"})),RE="bytes/5.7.0",Wt=new J(RE);function g3(r){return!!r.toHexString}function Pa(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Pa(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function ff(r){return Je(r)&&!(r.length%2)||yo(r)}function mv(r){return typeof r=="number"&&r==r&&r%1===0}function yo(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!mv(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!mv(t)||t<0||t>=256)return!1}return!0}function he(r,e){if(e||(e={}),typeof r=="number"){Wt.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Pa(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),g3(r)&&(r=r.toHexString()),Je(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Wt.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(t.substring(o,o+2),16));return Pa(new Uint8Array(n))}return yo(r)?Pa(new Uint8Array(r)):Wt.throwArgumentError("invalid arrayify value","value",r)}function Ct(r){const e=r.map(o=>he(o)),t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t);return e.reduce((o,i)=>(n.set(i,o),o+i.length),0),Pa(n)}function si(r){let e=he(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function Ia(r,e){r=he(r),r.length>e&&Wt.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),Pa(t)}function Je(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Dh="0123456789abcdef";function me(r,e){if(e||(e={}),typeof r=="number"){Wt.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Dh[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),g3(r))return r.toHexString();if(Je(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Wt.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(yo(r)){let t="0x";for(let n=0;n<r.length;n++){let o=r[n];t+=Dh[(o&240)>>4]+Dh[o&15]}return t}return Wt.throwArgumentError("invalid hexlify value","value",r)}function ci(r){if(typeof r!="string")r=me(r);else if(!Je(r)||r.length%2)return null;return(r.length-2)/2}function Jt(r,e,t){return typeof r!="string"?r=me(r):(!Je(r)||r.length%2)&&Wt.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Pr(r){let e="0x";return r.forEach(t=>{e+=me(t).substring(2)}),e}function cf(r){const e=Yp(me(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function Yp(r){typeof r!="string"&&(r=me(r)),Je(r)||Wt.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Bt(r,e){for(typeof r!="string"?r=me(r):Je(r)||Wt.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Wt.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Zo(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(ff(r)){let t=he(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=me(t.slice(0,32)),e.s=me(t.slice(32,64))):t.length===65?(e.r=me(t.slice(0,32)),e.s=me(t.slice(32,64)),e.v=t[64]):Wt.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Wt.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=me(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const o=Ia(he(e._vs),32);e._vs=me(o);const i=o[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&Wt.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),o[0]&=127;const s=me(o);e.s==null?e.s=s:e.s!==s&&Wt.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Wt.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Wt.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Je(e.r)?Wt.throwArgumentError("signature missing or invalid r","signature",r):e.r=Bt(e.r,32),e.s==null||!Je(e.s)?Wt.throwArgumentError("signature missing or invalid s","signature",r):e.s=Bt(e.s,32);const t=he(e.s);t[0]>=128&&Wt.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=me(t);e._vs&&(Je(e._vs)||Wt.throwArgumentError("signature invalid _vs","signature",r),e._vs=Bt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Wt.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function uu(r){return r=Zo(r),me(Ct([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const NE=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike:ff,isBytes:yo,arrayify:he,concat:Ct,stripZeros:si,zeroPad:Ia,isHexString:Je,hexlify:me,hexDataLength:ci,hexDataSlice:Jt,hexConcat:Pr,hexValue:cf,hexStripZeros:Yp,hexZeroPad:Bt,splitSignature:Zo,joinSignature:uu},Symbol.toStringTag,{value:"Module"})),b3="bignumber/5.7.0";var mc=IE.BN;const Xi=new J(b3),Fh={},yv=9007199254740991;function LE(r){return r!=null&&(pe.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Je(r)||typeof r=="bigint"||yo(r))}let xv=!1;class pe{constructor(e,t){e!==Fh&&Xi.throwError("cannot call constructor directly; use BigNumber.from",J.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return zr(ot(this).fromTwos(e))}toTwos(e){return zr(ot(this).toTwos(e))}abs(){return this._hex[0]==="-"?pe.from(this._hex.substring(1)):this}add(e){return zr(ot(this).add(ot(e)))}sub(e){return zr(ot(this).sub(ot(e)))}div(e){return pe.from(e).isZero()&&dn("division-by-zero","div"),zr(ot(this).div(ot(e)))}mul(e){return zr(ot(this).mul(ot(e)))}mod(e){const t=ot(e);return t.isNeg()&&dn("division-by-zero","mod"),zr(ot(this).umod(t))}pow(e){const t=ot(e);return t.isNeg()&&dn("negative-power","pow"),zr(ot(this).pow(t))}and(e){const t=ot(e);return(this.isNegative()||t.isNeg())&&dn("unbound-bitwise-result","and"),zr(ot(this).and(t))}or(e){const t=ot(e);return(this.isNegative()||t.isNeg())&&dn("unbound-bitwise-result","or"),zr(ot(this).or(t))}xor(e){const t=ot(e);return(this.isNegative()||t.isNeg())&&dn("unbound-bitwise-result","xor"),zr(ot(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&dn("negative-width","mask"),zr(ot(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&dn("negative-width","shl"),zr(ot(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&dn("negative-width","shr"),zr(ot(this).shrn(e))}eq(e){return ot(this).eq(ot(e))}lt(e){return ot(this).lt(ot(e))}lte(e){return ot(this).lte(ot(e))}gt(e){return ot(this).gt(ot(e))}gte(e){return ot(this).gte(ot(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ot(this).isZero()}toNumber(){try{return ot(this).toNumber()}catch{dn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Xi.throwError("this platform does not support BigInt",J.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?xv||(xv=!0,Xi.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Xi.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",J.errors.UNEXPECTED_ARGUMENT,{}):Xi.throwError("BigNumber.toString does not accept parameters",J.errors.UNEXPECTED_ARGUMENT,{})),ot(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof pe)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new pe(Fh,yc(e)):e.match(/^-?[0-9]+$/)?new pe(Fh,yc(new mc(e))):Xi.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&dn("underflow","BigNumber.from",e),(e>=yv||e<=-yv)&&dn("overflow","BigNumber.from",e),pe.from(String(e));const t=e;if(typeof t=="bigint")return pe.from(t.toString());if(yo(t))return pe.from(me(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return pe.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(Je(n)||n[0]==="-"&&Je(n.substring(1))))return pe.from(n)}return Xi.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function yc(r){if(typeof r!="string")return yc(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Xi.throwArgumentError("invalid hex","value",r),r=yc(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function zr(r){return pe.from(yc(r))}function ot(r){const e=pe.from(r).toHexString();return e[0]==="-"?new mc("-"+e.substring(3),16):new mc(e.substring(2),16)}function dn(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),Xi.throwError(r,J.errors.NUMERIC_FAULT,n)}function UE(r){return new mc(r,36).toString(16)}function DE(r){return new mc(r,16).toString(36)}const Vr=new J(b3),nc={},v3=pe.from(0),m3=pe.from(-1);function y3(r,e,t,n){const o={fault:e,operation:t};return n!==void 0&&(o.value=n),Vr.throwError(r,J.errors.NUMERIC_FAULT,o)}let ic="0";for(;ic.length<256;)ic+=ic;function Zp(r){if(typeof r!="number")try{r=pe.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+ic.substring(0,r):Vr.throwArgumentError("invalid decimal size","decimals",r)}function Hl(r,e){e==null&&(e=0);const t=Zp(e);r=pe.from(r);const n=r.lt(v3);n&&(r=r.mul(m3));let o=r.mod(t).toString();for(;o.length<t.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=r.div(t).toString();return t.length===1?r=i:r=i+"."+o,n&&(r="-"+r),r}function Ei(r,e){e==null&&(e=0);const t=Zp(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Vr.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Vr.throwArgumentError("missing value","value",r);const o=r.split(".");o.length>2&&Vr.throwArgumentError("too many decimal points","value",r);let i=o[0],s=o[1];for(i||(i="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>t.length-1&&y3("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<t.length-1;)s+="0";const a=pe.from(i),l=pe.from(s);let f=a.mul(t).add(l);return n&&(f=f.mul(m3)),f}class Ca{constructor(e,t,n,o){e!==nc&&Vr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",J.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=o,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(o),this._multiplier=Zp(o),Object.freeze(this)}static from(e){if(e instanceof Ca)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,o=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Vr.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",n=parseInt(i[2]),o=parseInt(i[3])}}else if(e){const i=(s,a,l)=>e[s]==null?l:(typeof e[s]!==a&&Vr.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);t=i("signed","boolean",t),n=i("width","number",n),o=i("decimals","number",o)}return n%8&&Vr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),o>80&&Vr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",o),new Ca(nc,t,n,o)}}class ir{constructor(e,t,n,o){e!==nc&&Vr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",J.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=o,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Vr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Ei(this._value,this.format.decimals),n=Ei(e._value,e.format.decimals);return ir.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Ei(this._value,this.format.decimals),n=Ei(e._value,e.format.decimals);return ir.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Ei(this._value,this.format.decimals),n=Ei(e._value,e.format.decimals);return ir.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Ei(this._value,this.format.decimals),n=Ei(e._value,e.format.decimals);return ir.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=ir.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(wv.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=ir.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(wv.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Vr.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=ir.from("1"+ic.substring(0,e),this.format),o=FE.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(o).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Vr.throwArgumentError("invalid byte width","width",e);const t=pe.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Bt(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ir.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!LE(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),ir.fromString(Hl(e,t),Ca.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=Ca.from(t),o=Ei(e,n.decimals);!n.signed&&o.lt(v3)&&y3("unsigned value cannot be negative","overflow","value",e);let i=null;n.signed?i=o.toTwos(n.width).toHexString():(i=o.toHexString(),i=Bt(i,n.width/8));const s=Hl(o,n.decimals);return new ir(nc,i,s,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=Ca.from(t);if(he(e).length>n.width/8)throw new Error("overflow");let o=pe.from(e);n.signed&&(o=o.fromTwos(n.width));const i=o.toTwos((n.signed?0:1)+n.width).toHexString(),s=Hl(o,n.decimals);return new ir(nc,i,s,n)}static from(e,t){if(typeof e=="string")return ir.fromString(e,t);if(yo(e))return ir.fromBytes(e,t);try{return ir.fromValue(e,0,t)}catch(n){if(n.code!==J.errors.INVALID_ARGUMENT)throw n}return Vr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const wv=ir.from(1),FE=ir.from("0.5"),$E="properties/5.7.0";var VE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const hu=new J($E);function ie(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function ur(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function Ht(r){return VE(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const o=r[n];return Promise.resolve(o).then(i=>({key:n,value:i}))});return(yield Promise.all(e)).reduce((n,o)=>(n[o.key]=o.value,n),{})})}function Xu(r,e){(!r||typeof r!="object")&&hu.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||hu.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Rt(r){const e={};for(const t in r)e[t]=r[t];return e}const jE={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function x3(r){if(r==null||jE[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!x3(n))return!1}return!0}return hu.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function qE(r){if(x3(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Or(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&ie(e,t,Or(n))}return e}return hu.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Or(r){return qE(r)}class Xo{constructor(e){for(const t in e)this[t]=Or(e[t])}}const HE=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly:ie,getStatic:ur,resolveProperties:Ht,checkProperties:Xu,shallowCopy:Rt,deepCopy:Or,Description:Xo},Symbol.toStringTag,{value:"Module"})),Oc="abi/5.7.0",pt=new J(Oc),Ps={};let Av={calldata:!0,memory:!0,storage:!0},GE={calldata:!0,memory:!0};function gl(r,e){if(r==="bytes"||r==="string"){if(Av[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&GE[e])return!0;return(Av[e]||e==="payable")&&pt.throwArgumentError("invalid modifier","name",e),!1}function KE(r,e){let t=r;function n(a){pt.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function o(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let i={type:"",name:"",state:{allowType:!0}},s=i;for(let a=0;a<r.length;a++){let l=r[a];switch(l){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=ga(s.type),s.components=[o(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),gl(s.type,s.name)&&(s.name=""),s.type=ga(s.type);let f=s;s=s.parent,s||n(a),delete f.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),gl(s.type,s.name)&&(s.name=""),s.type=ga(s.type);let u=o(s.parent);s.parent.components.push(u),delete s.parent,s=u;break;case" ":s.state.allowType&&s.type!==""&&(s.type=ga(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):gl(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=l,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=l,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=l,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=l,delete s.state.allowArray):s.state.readArray?s.type+=l:n(a)}}return s.parent&&pt.throwArgumentError("unexpected eof","param",r),delete i.state,s.name==="indexed"?(e||n(t.length-7),s.indexed&&n(t.length-7),s.indexed=!0,s.name=""):gl(s.type,s.name)&&(s.name=""),i.type=ga(i.type),i}function Gl(r,e){for(let t in e)ie(r,t,e[t])}const mt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),zE=new RegExp(/^(.*)\[([0-9]*)\]$/);class tr{constructor(e,t){e!==Ps&&pt.throwError("use fromString",J.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Gl(this,t);let n=this.type.match(zE);n?Gl(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:tr.fromObject({type:n[1],components:this.components}),baseType:"array"}):Gl(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==mt.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===mt.full?", ":",")+")"):t+=this.type,e!==mt.sighash&&(this.indexed===!0&&(t+=" indexed"),e===mt.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?tr.fromString(e,t):tr.fromObject(e)}static fromObject(e){return tr.isParamType(e)?e:new tr(Ps,{name:e.name||null,type:ga(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(tr.fromObject):null})}static fromString(e,t){function n(o){return tr.fromObject({name:o.name,type:o.type,indexed:o.indexed,components:o.components})}return n(KE(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function xc(r,e){return JE(r).map(t=>tr.fromString(t,e))}class ti{constructor(e,t){e!==Ps&&pt.throwError("use a static from method",J.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Gl(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return ti.isFragment(e)?e:typeof e=="string"?ti.fromString(e):ti.fromObject(e)}static fromObject(e){if(ti.isFragment(e))return e;switch(e.type){case"function":return wn.fromObject(e);case"event":return Xn.fromObject(e);case"constructor":return xn.fromObject(e);case"error":return Ii.fromObject(e);case"fallback":case"receive":return null}return pt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Xn.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?wn.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?xn.fromString(e.trim()):e.split(" ")[0]==="error"?Ii.fromString(e.substring(5).trim()):pt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Xn extends ti{format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==mt.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===mt.full?", ":",")+") ",e!==mt.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?Xn.fromString(e):Xn.fromObject(e)}static fromObject(e){if(Xn.isEventFragment(e))return e;e.type!=="event"&&pt.throwArgumentError("invalid event object","value",e);const t={name:wc(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(tr.fromObject):[],type:"event"};return new Xn(Ps,t)}static fromString(e){let t=e.match(Ac);t||pt.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(o=>{switch(o.trim()){case"anonymous":n=!0;break;case"":break;default:pt.warn("unknown modifier: "+o)}}),Xn.fromObject({name:t[1].trim(),anonymous:n,inputs:xc(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function w3(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&pt.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||pt.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=pe.from(t[1]),t[0]):r}function A3(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function E3(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&pt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&pt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&pt.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&pt.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&pt.throwArgumentError("unable to determine stateMutability","value",r),e}class xn extends ti{format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===mt.sighash&&pt.throwError("cannot format a constructor for sighash",J.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===mt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?xn.fromString(e):xn.fromObject(e)}static fromObject(e){if(xn.isConstructorFragment(e))return e;e.type!=="constructor"&&pt.throwArgumentError("invalid constructor object","value",e);let t=E3(e);t.constant&&pt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(tr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?pe.from(e.gas):null};return new xn(Ps,n)}static fromString(e){let t={type:"constructor"};e=w3(e,t);let n=e.match(Ac);return(!n||n[1].trim()!=="constructor")&&pt.throwArgumentError("invalid constructor string","value",e),t.inputs=xc(n[2].trim(),!1),A3(n[3].trim(),t),xn.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class wn extends xn{format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==mt.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===mt.full?", ":",")+") ",e!==mt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?wn.fromString(e):wn.fromObject(e)}static fromObject(e){if(wn.isFunctionFragment(e))return e;e.type!=="function"&&pt.throwArgumentError("invalid function object","value",e);let t=E3(e);const n={type:e.type,name:wc(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(tr.fromObject):[],outputs:e.outputs?e.outputs.map(tr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?pe.from(e.gas):null};return new wn(Ps,n)}static fromString(e){let t={type:"function"};e=w3(e,t);let n=e.split(" returns ");n.length>2&&pt.throwArgumentError("invalid function string","value",e);let o=n[0].match(Ac);if(o||pt.throwArgumentError("invalid function signature","value",e),t.name=o[1].trim(),t.name&&wc(t.name),t.inputs=xc(o[2],!1),A3(o[3].trim(),t),n.length>1){let i=n[1].match(Ac);(i[1].trim()!=""||i[3].trim()!="")&&pt.throwArgumentError("unexpected tokens","value",e),t.outputs=xc(i[2],!1)}else t.outputs=[];return wn.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Ev(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&pt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class Ii extends ti{format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==mt.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===mt.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Ii.fromString(e):Ii.fromObject(e)}static fromObject(e){if(Ii.isErrorFragment(e))return e;e.type!=="error"&&pt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:wc(e.name),inputs:e.inputs?e.inputs.map(tr.fromObject):[]};return Ev(new Ii(Ps,t))}static fromString(e){let t={type:"error"},n=e.match(Ac);return n||pt.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&wc(t.name),t.inputs=xc(n[2],!1),Ev(Ii.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function ga(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const WE=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function wc(r){return(!r||!r.match(WE))&&pt.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const Ac=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function JE(r){r=r.trim();let e=[],t="",n=0;for(let o=0;o<r.length;o++){let i=r[o];i===","&&n===0?(e.push(t),t=""):(t+=i,i==="("?n++:i===")"&&(n--,n===-1&&pt.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const Xp=new J(Oc);function eg(r){const e=[],t=function(n,o){if(!!Array.isArray(o))for(let i in o){const s=n.slice();s.push(i);try{t(s,o[i])}catch(a){e.push({path:s,error:a})}}};return t([],r),e}class xo{constructor(e,t,n,o){this.name=e,this.type=t,this.localName=n,this.dynamic=o}_throwError(e,t){Xp.throwArgumentError(e,this.localName,t)}}class Q1{constructor(e){ie(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Pr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Ct(e._data))}writeBytes(e){let t=he(e);const n=t.length%this.wordSize;return n&&(t=Ct([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=he(pe.from(e));return t.length>this.wordSize&&Xp.throwError("value out-of-bounds",J.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Ct([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class du{constructor(e,t,n,o){ie(this,"_data",he(e)),ie(this,"wordSize",t||32),ie(this,"_coerceFunc",n),ie(this,"allowLoose",o),this._offset=0}get data(){return me(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):du.coerce(e,t)}_peekBytes(e,t,n){let o=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+o>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?o=t:Xp.throwError("data out-of-bounds",J.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+o})),this._data.slice(this._offset,this._offset+o)}subReader(e){return new du(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return pe.from(this.readBytes(this.wordSize))}}var lf={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",o=n?window:{};o.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!o.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?o=Xe:i&&(o=self);var a=!o.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,l=!o.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],_=[1,256,65536,16777216],T=[6,1536,393216,100663296],I=[0,8,16,24],B=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],P=[224,256,384,512],C=[128,256],L=["hex","buffer","arrayBuffer","array","digest"],j={128:168,256:136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(A){return Object.prototype.toString.call(A)==="[object Array]"}),l&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(A){return typeof A=="object"&&A.buffer&&A.buffer.constructor===ArrayBuffer});for(var z=function(A,N,q){return function(G){return new h(A,N,A).update(G)[q]()}},Y=function(A,N,q){return function(G,Z){return new h(A,N,Z).update(G)[q]()}},re=function(A,N,q){return function(G,Z,ae,ne){return c["cshake"+A].update(G,Z,ae,ne)[q]()}},ge=function(A,N,q){return function(G,Z,ae,ne){return c["kmac"+A].update(G,Z,ae,ne)[q]()}},ce=function(A,N,q,G){for(var Z=0;Z<L.length;++Z){var ae=L[Z];A[ae]=N(q,G,ae)}return A},be=function(A,N){var q=z(A,N,"hex");return q.create=function(){return new h(A,N,A)},q.update=function(G){return q.create().update(G)},ce(q,z,A,N)},Ce=function(A,N){var q=Y(A,N,"hex");return q.create=function(G){return new h(A,N,G)},q.update=function(G,Z){return q.create(Z).update(G)},ce(q,Y,A,N)},U=function(A,N){var q=j[A],G=re(A,N,"hex");return G.create=function(Z,ae,ne){return!ae&&!ne?c["shake"+A].create(Z):new h(A,N,Z).bytepad([ae,ne],q)},G.update=function(Z,ae,ne,ee){return G.create(ae,ne,ee).update(Z)},ce(G,re,A,N)},E=function(A,N){var q=j[A],G=ge(A,N,"hex");return G.create=function(Z,ae,ne){return new S(A,N,ae).bytepad(["KMAC",ne],q).bytepad([Z],q)},G.update=function(Z,ae,ne,ee){return G.create(Z,ne,ee).update(ae)},ce(G,ge,A,N)},b=[{name:"keccak",padding:_,bits:P,createMethod:be},{name:"sha3",padding:T,bits:P,createMethod:be},{name:"shake",padding:u,bits:C,createMethod:Ce},{name:"cshake",padding:p,bits:C,createMethod:U},{name:"kmac",padding:p,bits:C,createMethod:E}],c={},d=[],v=0;v<b.length;++v)for(var y=b[v],x=y.bits,w=0;w<x.length;++w){var m=y.name+"_"+x[w];if(d.push(m),c[m]=y.createMethod(x[w],y.padding),y.name!=="sha3"){var g=y.name+x[w];d.push(g),c[g]=c[m]}}function h(A,N,q){this.blocks=[],this.s=[],this.padding=N,this.outputBits=q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(A<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=q>>5,this.extraBytes=(q&31)>>3;for(var G=0;G<50;++G)this.s[G]=0}h.prototype.update=function(A){if(this.finalized)throw new Error(t);var N,q=typeof A;if(q!=="string"){if(q==="object"){if(A===null)throw new Error(e);if(l&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!Array.isArray(A)&&(!l||!ArrayBuffer.isView(A)))throw new Error(e)}else throw new Error(e);N=!0}for(var G=this.blocks,Z=this.byteCount,ae=A.length,ne=this.blockCount,ee=0,F=this.s,V,K;ee<ae;){if(this.reset)for(this.reset=!1,G[0]=this.block,V=1;V<ne+1;++V)G[V]=0;if(N)for(V=this.start;ee<ae&&V<Z;++ee)G[V>>2]|=A[ee]<<I[V++&3];else for(V=this.start;ee<ae&&V<Z;++ee)K=A.charCodeAt(ee),K<128?G[V>>2]|=K<<I[V++&3]:K<2048?(G[V>>2]|=(192|K>>6)<<I[V++&3],G[V>>2]|=(128|K&63)<<I[V++&3]):K<55296||K>=57344?(G[V>>2]|=(224|K>>12)<<I[V++&3],G[V>>2]|=(128|K>>6&63)<<I[V++&3],G[V>>2]|=(128|K&63)<<I[V++&3]):(K=65536+((K&1023)<<10|A.charCodeAt(++ee)&1023),G[V>>2]|=(240|K>>18)<<I[V++&3],G[V>>2]|=(128|K>>12&63)<<I[V++&3],G[V>>2]|=(128|K>>6&63)<<I[V++&3],G[V>>2]|=(128|K&63)<<I[V++&3]);if(this.lastByteIndex=V,V>=Z){for(this.start=V-Z,this.block=G[ne],V=0;V<ne;++V)F[V]^=G[V];D(F),this.reset=!0}else this.start=V}return this},h.prototype.encode=function(A,N){var q=A&255,G=1,Z=[q];for(A=A>>8,q=A&255;q>0;)Z.unshift(q),A=A>>8,q=A&255,++G;return N?Z.push(G):Z.unshift(G),this.update(Z),Z.length},h.prototype.encodeString=function(A){var N,q=typeof A;if(q!=="string"){if(q==="object"){if(A===null)throw new Error(e);if(l&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!Array.isArray(A)&&(!l||!ArrayBuffer.isView(A)))throw new Error(e)}else throw new Error(e);N=!0}var G=0,Z=A.length;if(N)G=Z;else for(var ae=0;ae<A.length;++ae){var ne=A.charCodeAt(ae);ne<128?G+=1:ne<2048?G+=2:ne<55296||ne>=57344?G+=3:(ne=65536+((ne&1023)<<10|A.charCodeAt(++ae)&1023),G+=4)}return G+=this.encode(G*8),this.update(A),G},h.prototype.bytepad=function(A,N){for(var q=this.encode(N),G=0;G<A.length;++G)q+=this.encodeString(A[G]);var Z=N-q%N,ae=[];return ae.length=Z,this.update(ae),this},h.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var A=this.blocks,N=this.lastByteIndex,q=this.blockCount,G=this.s;if(A[N>>2]|=this.padding[N&3],this.lastByteIndex===this.byteCount)for(A[0]=A[q],N=1;N<q+1;++N)A[N]=0;for(A[q-1]|=2147483648,N=0;N<q;++N)G[N]^=A[N];D(G)}},h.prototype.toString=h.prototype.hex=function(){this.finalize();for(var A=this.blockCount,N=this.s,q=this.outputBlocks,G=this.extraBytes,Z=0,ae=0,ne="",ee;ae<q;){for(Z=0;Z<A&&ae<q;++Z,++ae)ee=N[Z],ne+=f[ee>>4&15]+f[ee&15]+f[ee>>12&15]+f[ee>>8&15]+f[ee>>20&15]+f[ee>>16&15]+f[ee>>28&15]+f[ee>>24&15];ae%A===0&&(D(N),Z=0)}return G&&(ee=N[Z],ne+=f[ee>>4&15]+f[ee&15],G>1&&(ne+=f[ee>>12&15]+f[ee>>8&15]),G>2&&(ne+=f[ee>>20&15]+f[ee>>16&15])),ne},h.prototype.arrayBuffer=function(){this.finalize();var A=this.blockCount,N=this.s,q=this.outputBlocks,G=this.extraBytes,Z=0,ae=0,ne=this.outputBits>>3,ee;G?ee=new ArrayBuffer(q+1<<2):ee=new ArrayBuffer(ne);for(var F=new Uint32Array(ee);ae<q;){for(Z=0;Z<A&&ae<q;++Z,++ae)F[ae]=N[Z];ae%A===0&&D(N)}return G&&(F[Z]=N[Z],ee=ee.slice(0,ne)),ee},h.prototype.buffer=h.prototype.arrayBuffer,h.prototype.digest=h.prototype.array=function(){this.finalize();for(var A=this.blockCount,N=this.s,q=this.outputBlocks,G=this.extraBytes,Z=0,ae=0,ne=[],ee,F;ae<q;){for(Z=0;Z<A&&ae<q;++Z,++ae)ee=ae<<2,F=N[Z],ne[ee]=F&255,ne[ee+1]=F>>8&255,ne[ee+2]=F>>16&255,ne[ee+3]=F>>24&255;ae%A===0&&D(N)}return G&&(ee=ae<<2,F=N[Z],ne[ee]=F&255,G>1&&(ne[ee+1]=F>>8&255),G>2&&(ne[ee+2]=F>>16&255)),ne};function S(A,N,q){h.call(this,A,N,q)}S.prototype=new h,S.prototype.finalize=function(){return this.encode(this.outputBits,!0),h.prototype.finalize.call(this)};var D=function(A){var N,q,G,Z,ae,ne,ee,F,V,K,O,k,M,R,$,H,Q,oe,te,le,fe,se,Ie,xe,de,ze,Ue,W,X,ye,ue,Be,ve,Ae,et,Ne,Ee,lt,Fe,we,gt,He,_e,nt,Ve,Se,ut,je,ke,bt,qe,Te,ht,Ge,Me,dt,De,$e,sr,rr,Ar,Er,Sr;for(G=0;G<48;G+=2)Z=A[0]^A[10]^A[20]^A[30]^A[40],ae=A[1]^A[11]^A[21]^A[31]^A[41],ne=A[2]^A[12]^A[22]^A[32]^A[42],ee=A[3]^A[13]^A[23]^A[33]^A[43],F=A[4]^A[14]^A[24]^A[34]^A[44],V=A[5]^A[15]^A[25]^A[35]^A[45],K=A[6]^A[16]^A[26]^A[36]^A[46],O=A[7]^A[17]^A[27]^A[37]^A[47],k=A[8]^A[18]^A[28]^A[38]^A[48],M=A[9]^A[19]^A[29]^A[39]^A[49],N=k^(ne<<1|ee>>>31),q=M^(ee<<1|ne>>>31),A[0]^=N,A[1]^=q,A[10]^=N,A[11]^=q,A[20]^=N,A[21]^=q,A[30]^=N,A[31]^=q,A[40]^=N,A[41]^=q,N=Z^(F<<1|V>>>31),q=ae^(V<<1|F>>>31),A[2]^=N,A[3]^=q,A[12]^=N,A[13]^=q,A[22]^=N,A[23]^=q,A[32]^=N,A[33]^=q,A[42]^=N,A[43]^=q,N=ne^(K<<1|O>>>31),q=ee^(O<<1|K>>>31),A[4]^=N,A[5]^=q,A[14]^=N,A[15]^=q,A[24]^=N,A[25]^=q,A[34]^=N,A[35]^=q,A[44]^=N,A[45]^=q,N=F^(k<<1|M>>>31),q=V^(M<<1|k>>>31),A[6]^=N,A[7]^=q,A[16]^=N,A[17]^=q,A[26]^=N,A[27]^=q,A[36]^=N,A[37]^=q,A[46]^=N,A[47]^=q,N=K^(Z<<1|ae>>>31),q=O^(ae<<1|Z>>>31),A[8]^=N,A[9]^=q,A[18]^=N,A[19]^=q,A[28]^=N,A[29]^=q,A[38]^=N,A[39]^=q,A[48]^=N,A[49]^=q,R=A[0],$=A[1],Se=A[11]<<4|A[10]>>>28,ut=A[10]<<4|A[11]>>>28,W=A[20]<<3|A[21]>>>29,X=A[21]<<3|A[20]>>>29,rr=A[31]<<9|A[30]>>>23,Ar=A[30]<<9|A[31]>>>23,He=A[40]<<18|A[41]>>>14,_e=A[41]<<18|A[40]>>>14,Ae=A[2]<<1|A[3]>>>31,et=A[3]<<1|A[2]>>>31,H=A[13]<<12|A[12]>>>20,Q=A[12]<<12|A[13]>>>20,je=A[22]<<10|A[23]>>>22,ke=A[23]<<10|A[22]>>>22,ye=A[33]<<13|A[32]>>>19,ue=A[32]<<13|A[33]>>>19,Er=A[42]<<2|A[43]>>>30,Sr=A[43]<<2|A[42]>>>30,Ge=A[5]<<30|A[4]>>>2,Me=A[4]<<30|A[5]>>>2,Ne=A[14]<<6|A[15]>>>26,Ee=A[15]<<6|A[14]>>>26,oe=A[25]<<11|A[24]>>>21,te=A[24]<<11|A[25]>>>21,bt=A[34]<<15|A[35]>>>17,qe=A[35]<<15|A[34]>>>17,Be=A[45]<<29|A[44]>>>3,ve=A[44]<<29|A[45]>>>3,xe=A[6]<<28|A[7]>>>4,de=A[7]<<28|A[6]>>>4,dt=A[17]<<23|A[16]>>>9,De=A[16]<<23|A[17]>>>9,lt=A[26]<<25|A[27]>>>7,Fe=A[27]<<25|A[26]>>>7,le=A[36]<<21|A[37]>>>11,fe=A[37]<<21|A[36]>>>11,Te=A[47]<<24|A[46]>>>8,ht=A[46]<<24|A[47]>>>8,nt=A[8]<<27|A[9]>>>5,Ve=A[9]<<27|A[8]>>>5,ze=A[18]<<20|A[19]>>>12,Ue=A[19]<<20|A[18]>>>12,$e=A[29]<<7|A[28]>>>25,sr=A[28]<<7|A[29]>>>25,we=A[38]<<8|A[39]>>>24,gt=A[39]<<8|A[38]>>>24,se=A[48]<<14|A[49]>>>18,Ie=A[49]<<14|A[48]>>>18,A[0]=R^~H&oe,A[1]=$^~Q&te,A[10]=xe^~ze&W,A[11]=de^~Ue&X,A[20]=Ae^~Ne&lt,A[21]=et^~Ee&Fe,A[30]=nt^~Se&je,A[31]=Ve^~ut&ke,A[40]=Ge^~dt&$e,A[41]=Me^~De&sr,A[2]=H^~oe&le,A[3]=Q^~te&fe,A[12]=ze^~W&ye,A[13]=Ue^~X&ue,A[22]=Ne^~lt&we,A[23]=Ee^~Fe&gt,A[32]=Se^~je&bt,A[33]=ut^~ke&qe,A[42]=dt^~$e&rr,A[43]=De^~sr&Ar,A[4]=oe^~le&se,A[5]=te^~fe&Ie,A[14]=W^~ye&Be,A[15]=X^~ue&ve,A[24]=lt^~we&He,A[25]=Fe^~gt&_e,A[34]=je^~bt&Te,A[35]=ke^~qe&ht,A[44]=$e^~rr&Er,A[45]=sr^~Ar&Sr,A[6]=le^~se&R,A[7]=fe^~Ie&$,A[16]=ye^~Be&xe,A[17]=ue^~ve&de,A[26]=we^~He&Ae,A[27]=gt^~_e&et,A[36]=bt^~Te&nt,A[37]=qe^~ht&Ve,A[46]=rr^~Er&Ge,A[47]=Ar^~Sr&Me,A[8]=se^~R&H,A[9]=Ie^~$&Q,A[18]=Be^~xe&ze,A[19]=ve^~de&Ue,A[28]=He^~Ae&Ne,A[29]=_e^~et&Ee,A[38]=Te^~nt&Se,A[39]=ht^~Ve&ut,A[48]=Er^~Ge&dt,A[49]=Sr^~Me&De,A[0]^=B[G],A[1]^=B[G+1]};if(a)r.exports=c;else for(v=0;v<d.length;++v)o[d[v]]=c[d[v]]})()})(lf);const QE=lf.exports;function Tt(r){return"0x"+QE.keccak_256(he(r))}const YE=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Tt},Symbol.toStringTag,{value:"Module"})),ZE="rlp/5.7.0",Si=new J(ZE);function Sv(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function _v(r,e,t){let n=0;for(let o=0;o<t;o++)n=n*256+r[e+o];return n}function S3(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(S3(i))}),n.length<=55)return n.unshift(192+n.length),n;const o=Sv(n.length);return o.unshift(247+o.length),o.concat(n)}ff(r)||Si.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(he(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Sv(e.length);return t.unshift(183+t.length),t.concat(e)}function Is(r){return me(S3(r))}function kv(r,e,t,n){const o=[];for(;t<e+1+n;){const i=_3(r,t);o.push(i.result),t+=i.consumed,t>e+1+n&&Si.throwError("child data too short",J.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function _3(r,e){if(r.length===0&&Si.throwError("data too short",J.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&Si.throwError("data short segment too short",J.errors.BUFFER_OVERRUN,{});const n=_v(r,e+1,t);return e+1+t+n>r.length&&Si.throwError("data long segment too short",J.errors.BUFFER_OVERRUN,{}),kv(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&Si.throwError("data array too short",J.errors.BUFFER_OVERRUN,{}),kv(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&Si.throwError("data array too short",J.errors.BUFFER_OVERRUN,{});const n=_v(r,e+1,t);e+1+t+n>r.length&&Si.throwError("data array too short",J.errors.BUFFER_OVERRUN,{});const o=me(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:o}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&Si.throwError("data too short",J.errors.BUFFER_OVERRUN,{});const n=me(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:me(r[e])}}function e0(r){const e=he(r),t=_3(e,0);return t.consumed!==e.length&&Si.throwArgumentError("invalid rlp data","data",r),t.result}const k3=Object.freeze(Object.defineProperty({__proto__:null,encode:Is,decode:e0},Symbol.toStringTag,{value:"Module"})),XE="address/5.7.0",Do=new J(XE);function Tv(r){Je(r,20)||Do.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let o=0;o<40;o++)t[o]=e[o].charCodeAt(0);const n=he(Tt(t));for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(n[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}const eS=9007199254740991;function tS(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const tg={};for(let r=0;r<10;r++)tg[String(r)]=String(r);for(let r=0;r<26;r++)tg[String.fromCharCode(65+r)]=String(10+r);const Mv=Math.floor(tS(eS));function T3(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>tg[n]).join("");for(;e.length>=Mv;){let n=e.substring(0,Mv);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Et(r){let e=null;if(typeof r!="string"&&Do.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Tv(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Do.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==T3(r)&&Do.throwArgumentError("bad icap checksum","address",r),e=UE(r.substring(4));e.length<40;)e="0"+e;e=Tv("0x"+e)}else Do.throwArgumentError("invalid address","address",r);return e}function M3(r){try{return Et(r),!0}catch{}return!1}function P3(r){let e=DE(Et(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+T3("XE00"+e)+e}function Rc(r){let e=null;try{e=Et(r.from)}catch{Do.throwArgumentError("missing from address","transaction",r)}const t=si(he(pe.from(r.nonce).toHexString()));return Et(Jt(Tt(Is([e,t])),12))}function I3(r,e,t){return ci(e)!==32&&Do.throwArgumentError("salt must be 32 bytes","salt",e),ci(t)!==32&&Do.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Et(Jt(Tt(Ct(["0xff",Et(r),e,t])),12))}const rS=Object.freeze(Object.defineProperty({__proto__:null,getAddress:Et,isAddress:M3,getIcapAddress:P3,getContractAddress:Rc,getCreate2Address:I3},Symbol.toStringTag,{value:"Module"}));class nS extends xo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Et(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return Et(Bt(e.readValue().toHexString(),20))}}class iS extends xo{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const wa=new J(Oc);function C3(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let l={};n=e.map(f=>{const u=f.localName;return u||wa.throwError("cannot encode object for signature with missing names",J.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),l[u]&&wa.throwError("cannot encode object for signature with duplicate names",J.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),l[u]=!0,t[u]})}else wa.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&wa.throwArgumentError("types/value length mismatch","tuple",t);let o=new Q1(r.wordSize),i=new Q1(r.wordSize),s=[];e.forEach((l,f)=>{let u=n[f];if(l.dynamic){let p=i.length;l.encode(i,u);let _=o.writeUpdatableValue();s.push(T=>{_(T+p)})}else l.encode(o,u)}),s.forEach(l=>{l(o.length)});let a=r.appendWriter(o);return a+=r.appendWriter(i),a}function B3(r,e){let t=[],n=r.subReader(0);e.forEach(i=>{let s=null;if(i.dynamic){let a=r.readValue(),l=n.subReader(a.toNumber());try{s=i.decode(l)}catch(f){if(f.code===J.errors.BUFFER_OVERRUN)throw f;s=f,s.baseType=i.name,s.name=i.localName,s.type=i.type}}else try{s=i.decode(r)}catch(a){if(a.code===J.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=i.name,s.name=i.localName,s.type=i.type}s!=null&&t.push(s)});const o=e.reduce((i,s)=>{const a=s.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});e.forEach((i,s)=>{let a=i.localName;if(!a||o[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const l=t[s];l instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw l}}):t[a]=l});for(let i=0;i<t.length;i++){const s=t[i];s instanceof Error&&Object.defineProperty(t,i,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(t)}class oS extends xo{constructor(e,t,n){const o=e.type+"["+(t>=0?t:"")+"]",i=t===-1||e.dynamic;super("array",o,n,i),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),wa.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let i=0;i<t.length;i++)o.push(this.coder);return C3(e,o,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&wa.throwError("insufficient data length",J.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let o=0;o<t;o++)n.push(new iS(this.coder));return e.coerce(this.name,B3(e,n))}}class sS extends xo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class O3 extends xo{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=he(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class aS extends O3{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,me(super.decode(e)))}}class fS extends xo{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=he(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,me(e.readBytes(this.size)))}}class cS extends xo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const R3="0x0000000000000000000000000000000000000000",N3=pe.from(-1),rg=pe.from(0),L3=pe.from(1),lS=pe.from(2),uS=pe.from("1000000000000000000"),U3=pe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),hS=pe.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),dS=pe.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ng="0x0000000000000000000000000000000000000000000000000000000000000000",pS="\u039E",D3=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:R3,NegativeOne:N3,Zero:rg,One:L3,Two:lS,WeiPerEther:uS,MaxUint256:U3,MinInt256:hS,MaxInt256:dS,HashZero:ng,EtherSymbol:pS},Symbol.toStringTag,{value:"Module"}));class gS extends xo{constructor(e,t,n){const o=(t?"int":"uint")+e*8;super(o,o,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=pe.from(t),o=U3.mask(e.wordSize*8);if(this.signed){let i=o.mask(this.size*8-1);(n.gt(i)||n.lt(i.add(L3).mul(N3)))&&this._throwError("value out-of-bounds",t)}else(n.lt(rg)||n.gt(o.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const bS="strings/5.7.0",F3=new J(bS);var li;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(li||(li={}));var $r;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})($r||($r={}));function vS(r,e,t,n,o){return F3.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function $3(r,e,t,n,o){if(r===$r.BAD_PREFIX||r===$r.UNEXPECTED_CONTINUE){let i=0;for(let s=e+1;s<t.length&&t[s]>>6===2;s++)i++;return i}return r===$r.OVERRUN?t.length-e-1:0}function mS(r,e,t,n,o){return r===$r.OVERLONG?(n.push(o),0):(n.push(65533),$3(r,e,t))}const ig=Object.freeze({error:vS,ignore:$3,replace:mS});function og(r,e){e==null&&(e=ig.error),r=he(r);const t=[];let n=0;for(;n<r.length;){const o=r[n++];if(o>>7===0){t.push(o);continue}let i=null,s=null;if((o&224)===192)i=1,s=127;else if((o&240)===224)i=2,s=2047;else if((o&248)===240)i=3,s=65535;else{(o&192)===128?n+=e($r.UNEXPECTED_CONTINUE,n-1,r,t):n+=e($r.BAD_PREFIX,n-1,r,t);continue}if(n-1+i>=r.length){n+=e($r.OVERRUN,n-1,r,t);continue}let a=o&(1<<8-i-1)-1;for(let l=0;l<i;l++){let f=r[n];if((f&192)!=128){n+=e($r.MISSING_CONTINUE,n,r,t),a=null;break}a=a<<6|f&63,n++}if(a!==null){if(a>1114111){n+=e($r.OUT_OF_RANGE,n-1-i,r,t,a);continue}if(a>=55296&&a<=57343){n+=e($r.UTF16_SURROGATE,n-1-i,r,t,a);continue}if(a<=s){n+=e($r.OVERLONG,n-1-i,r,t,a);continue}t.push(a)}}return t}function Zt(r,e=li.current){e!=li.current&&(F3.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const o=r.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192),t.push(o&63|128);else if((o&64512)==55296){n++;const i=r.charCodeAt(n);if(n>=r.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((o&1023)<<10)+(i&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128)}return he(t)}function $h(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function V3(r,e){return'"'+og(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?$h(t):(t-=65536,$h((t>>10&1023)+55296)+$h((t&1023)+56320))}).join("")+'"'}function Y1(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function wo(r,e){return Y1(og(r,e))}function Ec(r,e=li.current){return og(Zt(r,e))}function j3(r){const e=Zt(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return me(Ct([e,ng]).slice(0,32))}function q3(r){const e=he(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return wo(e.slice(0,t))}function yS(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function sg(r,e){e||(e=function(o){return[parseInt(o,16)]});let t=0,n={};return r.split(",").forEach(o=>{let i=o.split(":");t+=parseInt(i[0],16),n[t]=e(i[1])}),n}function H3(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let o=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:o,h:e}})}function ag(r,e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];if(t+=o.l,r>=t&&r<=t+o.h&&(r-t)%(o.d||1)===0){if(o.e&&o.e.indexOf(r-t)!==-1)continue;return o}}return null}const xS=H3("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),wS="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),AS=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],ES=sg("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),SS=sg("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),_S=sg("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",yS),kS=H3("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function TS(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function MS(r){return!!ag(r,xS)}function PS(r){let e=ag(r,AS);if(e)return[r+e.s];let t=ES[r];if(t)return t;let n=SS[r];if(n)return[r+n[0]];let o=_S[r];return o||null}function IS(r){return!!ag(r,kS)}function G3(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=Ec(r);e=TS(e.map(n=>{if(wS.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let o=PS(n);return o||[n]})),e=Ec(Y1(e),li.NFKC),e.forEach(n=>{if(IS(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(MS(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=Y1(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const CS=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String:V3,toUtf8Bytes:Zt,toUtf8CodePoints:Ec,toUtf8String:wo,Utf8ErrorFuncs:ig,get Utf8ErrorReason(){return $r},get UnicodeNormalizationForm(){return li},formatBytes32String:j3,parseBytes32String:q3,nameprep:G3},Symbol.toStringTag,{value:"Module"}));class BS extends O3{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Zt(t))}decode(e){return wo(super.decode(e))}}class bl extends xo{constructor(e,t){let n=!1;const o=[];e.forEach(s=>{s.dynamic&&(n=!0),o.push(s.type)});const i="tuple("+o.join(",")+")";super("tuple",i,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,o)=>{const i=o.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,o)=>{let i=n.localName;!i||t[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[o]))}),Object.freeze(e)}encode(e,t){return C3(e,this.coders,t)}decode(e){return e.coerce(this.name,B3(e,this.coders))}}const vl=new J(Oc),OS=new RegExp(/^bytes([0-9]*)$/),RS=new RegExp(/^(u?int)([0-9]*)$/);class fg{constructor(e){ie(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new nS(e.name);case"bool":return new sS(e.name);case"string":return new BS(e.name);case"bytes":return new aS(e.name);case"array":return new oS(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new bl((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new cS(e.name)}let t=e.type.match(RS);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&vl.throwArgumentError("invalid "+t[1]+" bit length","param",e),new gS(n/8,t[1]==="int",e.name)}if(t=e.type.match(OS),t){let n=parseInt(t[1]);return(n===0||n>32)&&vl.throwArgumentError("invalid bytes length","param",e),new fS(n,e.name)}return vl.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new du(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Q1(this._getWordSize())}getDefaultValue(e){const t=e.map(o=>this._getCoder(tr.from(o)));return new bl(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&vl.throwError("types/values length mismatch",J.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(s=>this._getCoder(tr.from(s))),o=new bl(n,"_"),i=this._getWriter();return o.encode(i,t),i.data}decode(e,t,n){const o=e.map(s=>this._getCoder(tr.from(s)));return new bl(o,"_").decode(this._getReader(he(t),n))}}const cg=new fg;function no(r){return Tt(Zt(r))}const K3="hash/5.7.0";function lg(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return he(e)}function ug(r){r=he(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const z3=Object.freeze(Object.defineProperty({__proto__:null,decode:lg,encode:ug},Symbol.toStringTag,{value:"Module"}));function W3(r,e){e==null&&(e=1);const t=[],n=t.forEach,o=function(i,s){n.call(i,function(a){s>0&&Array.isArray(a)?o(a,s-1):t.push(a)})};return o(r,e),t}function NS(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function LS(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),o=1,i=[0,1];for(let Y=1;Y<n;Y++)i.push(o+=t());let s=t(),a=e;e+=s;let l=0,f=0;function u(){return l==0&&(f=f<<8|r[e++],l=8),f>>--l&1}const p=31,_=Math.pow(2,p),T=_>>>1,I=T>>1,B=_-1;let P=0;for(let Y=0;Y<p;Y++)P=P<<1|u();let C=[],L=0,j=_;for(;;){let Y=Math.floor(((P-L+1)*o-1)/j),re=0,ge=n;for(;ge-re>1;){let Ce=re+ge>>>1;Y<i[Ce]?ge=Ce:re=Ce}if(re==0)break;C.push(re);let ce=L+Math.floor(j*i[re]/o),be=L+Math.floor(j*i[re+1]/o)-1;for(;((ce^be)&T)==0;)P=P<<1&B|u(),ce=ce<<1&B,be=be<<1&B|1;for(;ce&~be&I;)P=P&T|P<<1&B>>>1|u(),ce=ce<<1^T,be=(be^T)<<1|T|1;L=ce,j=1+be-ce}let z=n-4;return C.map(Y=>{switch(Y-z){case 3:return z+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return z+256+(r[a++]<<8|r[a++]);case 1:return z+r[a++];default:return Y-1}})}function US(r){let e=0;return()=>r[e++]}function DS(r){return US(LS(r))}function FS(r){return r&1?~r>>1:r>>1}function $S(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function Pv(r,e){let t=Array(r);for(let n=0,o=-1;n<r;n++)t[n]=o+=1+e();return t}function VS(r,e){let t=Array(r);for(let n=0,o=0;n<r;n++)t[n]=o+=FS(e());return t}function pu(r,e){let t=Pv(r(),r),n=r(),o=Pv(n,r),i=$S(n,r);for(let s=0;s<n;s++)for(let a=0;a<i[s];a++)t.push(o[s]+a);return e?t.map(s=>e[s]):t}function jS(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(HS(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(GS(t,r))}return NS(W3(e))}function qS(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function J3(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let o=0;o<e;o++)VS(r,t).forEach((i,s)=>n[s].push(i));return n}function HS(r,e){let t=1+e(),n=e(),o=qS(e),i=J3(o.length,1+r,e);return W3(i.map((s,a)=>{const l=s[0],f=s.slice(1);return Array(o[a]).fill(void 0).map((u,p)=>{let _=p*n;return[l+p*t,f.map(T=>T+_)]})}))}function GS(r,e){let t=1+e();return J3(t,1+r,e).map(o=>[o[0],o.slice(1)])}function KS(r){let e=pu(r).sort((n,o)=>n-o);return t();function t(){let n=[];for(;;){let f=pu(r,e);if(f.length==0)break;n.push({set:new Set(f),node:t()})}n.sort((f,u)=>u.set.size-f.set.size);let o=r(),i=o%3;o=o/3|0;let s=!!(o&1);o>>=1;let a=o==1,l=o==2;return{branches:n,valid:i,fe0f:s,save:a,check:l}}}function zS(){return DS(lg("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const t0=zS(),WS=new Set(pu(t0)),JS=new Set(pu(t0)),QS=jS(t0),YS=KS(t0),Iv=45,Cv=95;function Q3(r){return Ec(r)}function ZS(r){return r.filter(e=>e!=65039)}function Y3(r){for(let e of r.split(".")){let t=Q3(e);try{for(let n=t.lastIndexOf(Cv)-1;n>=0;n--)if(t[n]!==Cv)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===Iv&&t[3]===Iv)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function XS(r){return Y3(e_(r,ZS))}function e_(r,e){let t=Q3(r).reverse(),n=[];for(;t.length;){let o=r_(t);if(o){n.push(...e(o));continue}let i=t.pop();if(WS.has(i)){n.push(i);continue}if(JS.has(i))continue;let s=QS[i];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return Y3(t_(String.fromCodePoint(...n)))}function t_(r){return r.normalize("NFC")}function r_(r,e){var t;let n=YS,o,i,s=[],a=r.length;for(e&&(e.length=0);a;){let l=r[--a];if(n=(t=n.branches.find(f=>f.set.has(l)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)i=l;else if(n.check&&l===i)break;s.push(l),n.fe0f&&(s.push(65039),a>0&&r[a-1]==65039&&a--),n.valid&&(o=s.slice(),n.valid==2&&o.splice(1,1),e&&e.push(...r.slice(a).reverse()),r.length=a)}return o}const n_=new J(K3),Z3=new Uint8Array(32);Z3.fill(0);function Bv(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function r0(r){const e=Zt(XS(r)),t=[];if(r.length===0)return t;let n=0;for(let o=0;o<e.length;o++)e[o]===46&&(t.push(Bv(e.slice(n,o))),n=o+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(Bv(e.slice(n))),t}function i_(r){return r0(r).map(e=>wo(e)).join(".")}function X3(r){try{return r0(r).length!==0}catch{}return!1}function Ba(r){typeof r!="string"&&n_.throwArgumentError("invalid ENS name; not a string","name",r);let e=Z3;const t=r0(r);for(;t.length;)e=Tt(Ct([e,Tt(t.pop())]));return me(e)}function hg(r){return me(Ct(r0(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const e6=`Ethereum Signed Message:
`;function Nc(r){return typeof r=="string"&&(r=Zt(r)),Tt(Ct([Zt(e6),Zt(String(r.length)),r]))}var o_=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const qt=new J(K3),t6=new Uint8Array(32);t6.fill(0);const s_=pe.from(-1),r6=pe.from(0),n6=pe.from(1),a_=pe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function f_(r){const e=he(r),t=e.length%32;return t?Pr([e,t6.slice(t)]):me(e)}const c_=Bt(n6.toHexString(),32),l_=Bt(r6.toHexString(),32),Ov={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Vh=["name","version","chainId","verifyingContract","salt"];function Rv(r){return function(e){return typeof e!="string"&&qt.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const u_={name:Rv("name"),version:Rv("version"),chainId:function(r){try{return pe.from(r).toString()}catch{}return qt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Et(r).toLowerCase()}catch{}return qt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=he(r);if(e.length!==32)throw new Error("bad length");return me(e)}catch{}return qt.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function jh(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&qt.throwArgumentError("invalid numeric width","type",r);const o=a_.mask(t?n-1:n),i=t?o.add(n6).mul(s_):r6;return function(s){const a=pe.from(s);return(a.lt(i)||a.gt(o))&&qt.throwArgumentError(`value out-of-bounds for ${r}`,"value",s),Bt(a.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&qt.throwArgumentError("invalid bytes width","type",r),function(n){return he(n).length!==t&&qt.throwArgumentError(`invalid length for ${r}`,"value",n),f_(n)}}}switch(r){case"address":return function(e){return Bt(Et(e),32)};case"bool":return function(e){return e?c_:l_};case"bytes":return function(e){return Tt(e)};case"string":return function(e){return no(e)}}return null}function Nv(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class cr{constructor(e){ie(this,"types",Object.freeze(Or(e))),ie(this,"_encoderCache",{}),ie(this,"_types",{});const t={},n={},o={};Object.keys(e).forEach(a=>{t[a]={},n[a]=[],o[a]={}});for(const a in e){const l={};e[a].forEach(f=>{l[f.name]&&qt.throwArgumentError(`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(a)}`,"types",e),l[f.name]=!0;const u=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&qt.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!jh(u)&&(n[u]||qt.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),t[a][u]=!0)})}const i=Object.keys(n).filter(a=>n[a].length===0);i.length===0?qt.throwArgumentError("missing primary type","types",e):i.length>1&&qt.throwArgumentError(`ambiguous primary types or unused types: ${i.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ie(this,"primaryType",i[0]);function s(a,l){l[a]&&qt.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(t[a]).forEach(f=>{!n[f]||(s(f,l),Object.keys(l).forEach(u=>{o[u][f]=!0}))}),delete l[a]}s(this.primaryType,{});for(const a in o){const l=Object.keys(o[a]);l.sort(),this._types[a]=Nv(a,e[a])+l.map(f=>Nv(f,e[f])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const o=jh(e);if(o)return o}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const o=t[1],i=this.getEncoder(o),s=parseInt(t[3]);return a=>{s>=0&&a.length!==s&&qt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(i);return this._types[o]&&(l=l.map(Tt)),Tt(Pr(l))}}const n=this.types[e];if(n){const o=no(this._types[e]);return i=>{const s=n.map(({name:a,type:l})=>{const f=this.getEncoder(l)(i[a]);return this._types[l]?Tt(f):f});return s.unshift(o),Pr(s)}}return qt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||qt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Tt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(jh(e))return n(e,t);const o=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(o){const s=o[1],a=parseInt(o[3]);return a>=0&&t.length!==a&&qt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(l=>this._visit(s,l,n))}const i=this.types[e];return i?i.reduce((s,{name:a,type:l})=>(s[a]=this._visit(l,t[a],n),s),{}):qt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new cr(e)}static getPrimaryType(e){return cr.from(e).primaryType}static hashStruct(e,t,n){return cr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const o=Ov[n];o||qt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:o})}return t.sort((n,o)=>Vh.indexOf(n.name)-Vh.indexOf(o.name)),cr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Pr(["0x1901",cr.hashDomain(e),cr.from(t).hash(n)])}static hash(e,t,n){return Tt(cr.encode(e,t,n))}static resolveNames(e,t,n,o){return o_(this,void 0,void 0,function*(){e=Rt(e);const i={};e.verifyingContract&&!Je(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=cr.from(t);s.visit(n,(a,l)=>(a==="address"&&!Je(l,20)&&(i[l]="0x"),l));for(const a in i)i[a]=yield o(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=s.visit(n,(a,l)=>a==="address"&&i[l]?i[l]:l),{domain:e,value:n}})}static getPayload(e,t,n){cr.hashDomain(e);const o={},i=[];Vh.forEach(l=>{const f=e[l];f!=null&&(o[l]=u_[l](f),i.push({name:l,type:Ov[l]}))});const s=cr.from(t),a=Rt(t);return a.EIP712Domain?qt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=i,s.encode(n),{types:a,domain:o,primaryType:s.primaryType,message:s.visit(n,(l,f)=>{if(l.match(/^bytes(\d*)/))return me(he(f));if(l.match(/^u?int/))return pe.from(f).toString();switch(l){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return typeof f!="string"&&qt.throwArgumentError("invalid string","value",f),f}return qt.throwArgumentError("unsupported type","type",l)})}}}const h_=Object.freeze(Object.defineProperty({__proto__:null,id:no,dnsEncode:hg,namehash:Ba,isValidName:X3,ensNormalize:i_,messagePrefix:e6,hashMessage:Nc,_TypedDataEncoder:cr},Symbol.toStringTag,{value:"Module"})),jt=new J(Oc);class dg extends Xo{}class pg extends Xo{}class d_ extends Xo{}class Sc extends Xo{static isIndexed(e){return!!(e&&e._isIndexed)}}const p_={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Lv(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class gu{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,ie(this,"fragments",t.map(n=>ti.from(n)).filter(n=>n!=null)),ie(this,"_abiCoder",ur(new.target,"getAbiCoder")()),ie(this,"functions",{}),ie(this,"errors",{}),ie(this,"events",{}),ie(this,"structs",{}),this.fragments.forEach(n=>{let o=null;switch(n.type){case"constructor":if(this.deploy){jt.warn("duplicate definition - constructor");return}ie(this,"deploy",n);return;case"function":o=this.functions;break;case"event":o=this.events;break;case"error":o=this.errors;break;default:return}let i=n.format();if(o[i]){jt.warn("duplicate definition - "+i);return}o[i]=n}),this.deploy||ie(this,"deploy",xn.from({payable:!1,type:"constructor"})),ie(this,"_isInterface",!0)}format(e){e||(e=mt.full),e===mt.sighash&&jt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===mt.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return cg}static getAddress(e){return Et(e)}static getSighash(e){return Jt(no(e.format()),0,4)}static getEventTopic(e){return no(e.format())}getFunction(e){if(Je(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];jt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.functions).filter(i=>i.split("(")[0]===n);return o.length===0?jt.throwArgumentError("no matching function","name",n):o.length>1&&jt.throwArgumentError("multiple matching functions","name",n),this.functions[o[0]]}const t=this.functions[wn.fromString(e).format()];return t||jt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Je(e)){const n=e.toLowerCase();for(const o in this.events)if(n===this.getEventTopic(o))return this.events[o];jt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.events).filter(i=>i.split("(")[0]===n);return o.length===0?jt.throwArgumentError("no matching event","name",n):o.length>1&&jt.throwArgumentError("multiple matching events","name",n),this.events[o[0]]}const t=this.events[Xn.fromString(e).format()];return t||jt.throwArgumentError("no matching event","signature",e),t}getError(e){if(Je(e)){const n=ur(this.constructor,"getSighash");for(const o in this.errors){const i=this.errors[o];if(e===n(i))return this.errors[o]}jt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.errors).filter(i=>i.split("(")[0]===n);return o.length===0?jt.throwArgumentError("no matching error","name",n):o.length>1&&jt.throwArgumentError("multiple matching errors","name",n),this.errors[o[0]]}const t=this.errors[wn.fromString(e).format()];return t||jt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return ur(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),ur(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=he(t);return me(n.slice(0,4))!==this.getSighash(e)&&jt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",me(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),me(Ct([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=he(t);return me(n.slice(0,4))!==this.getSighash(e)&&jt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",me(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),me(Ct([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=he(t),o=null,i="",s=null,a=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const f=me(n.slice(0,4)),u=p_[f];if(u)s=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,l=u.signature,u.reason&&(o=s[0]),a==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:a==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const p=this.getError(f);s=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,l=p.format()}catch{}break}}return jt.throwError("call revert exception"+i,J.errors.CALL_EXCEPTION,{method:e.format(),data:me(t),errorArgs:s,errorName:a,errorSignature:l,reason:o})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),me(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&jt.throwError("too many arguments for "+e.format(),J.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const o=(i,s)=>i.type==="string"?no(s):i.type==="bytes"?Tt(me(s)):(i.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),i.type.match(/^u?int/)&&(s=pe.from(s).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[s]),Bt(me(s),32));for(t.forEach((i,s)=>{let a=e.inputs[s];if(!a.indexed){i!=null&&jt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?jt.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(l=>o(a,l))):n.push(o(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],o=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&jt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((s,a)=>{const l=t[a];if(s.indexed)if(s.type==="string")n.push(no(l));else if(s.type==="bytes")n.push(Tt(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[l]))}else o.push(s),i.push(l)}),{data:this._abiCoder.encode(o,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let _=this.getEventTopic(e);(!Je(n[0],32)||n[0].toLowerCase()!==_)&&jt.throwError("fragment/topic mismatch",J.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:_,value:n[0]}),n=n.slice(1)}let o=[],i=[],s=[];e.inputs.forEach((_,T)=>{_.indexed?_.type==="string"||_.type==="bytes"||_.baseType==="tuple"||_.baseType==="array"?(o.push(tr.fromObject({type:"bytes32",name:_.name})),s.push(!0)):(o.push(_),s.push(!1)):(i.push(_),s.push(!1))});let a=n!=null?this._abiCoder.decode(o,Ct(n)):null,l=this._abiCoder.decode(i,t,!0),f=[],u=0,p=0;e.inputs.forEach((_,T)=>{if(_.indexed)if(a==null)f[T]=new Sc({_isIndexed:!0,hash:null});else if(s[T])f[T]=new Sc({_isIndexed:!0,hash:a[p++]});else try{f[T]=a[p++]}catch(I){f[T]=I}else try{f[T]=l[u++]}catch(I){f[T]=I}if(_.name&&f[_.name]==null){const I=f[T];I instanceof Error?Object.defineProperty(f,_.name,{enumerable:!0,get:()=>{throw Lv(`property ${JSON.stringify(_.name)}`,I)}}):f[_.name]=I}});for(let _=0;_<f.length;_++){const T=f[_];T instanceof Error&&Object.defineProperty(f,_,{enumerable:!0,get:()=>{throw Lv(`index ${_}`,T)}})}return Object.freeze(f)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new pg({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:pe.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new dg({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=me(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new d_({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const g_=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment:xn,ErrorFragment:Ii,EventFragment:Xn,Fragment:ti,FunctionFragment:wn,ParamType:tr,FormatTypes:mt,AbiCoder:fg,defaultAbiCoder:cg,Interface:gu,Indexed:Sc,checkResultErrors:eg,LogDescription:dg,TransactionDescription:pg},Symbol.toStringTag,{value:"Module"})),b_="abstract-provider/5.7.0";var v_=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const m_=new J(b_);class y_ extends Xo{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class qs{constructor(){m_.checkAbstract(new.target,qs),ie(this,"_isProvider",!0)}getFeeData(){return v_(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield Ht({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,o=null,i=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,i=pe.from("1500000000"),o=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:n,maxFeePerGas:o,maxPriorityFeePerGas:i,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const x_="abstract-signer/5.7.0";var Kn=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const bn=new J(x_),w_=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],A_=[J.errors.INSUFFICIENT_FUNDS,J.errors.NONCE_EXPIRED,J.errors.REPLACEMENT_UNDERPRICED];class Ao{constructor(){bn.checkAbstract(new.target,Ao),ie(this,"_isSigner",!0)}getBalance(e){return Kn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Kn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Kn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield Ht(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return Kn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Ht(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return Kn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return Kn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Kn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Kn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Kn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)w_.indexOf(n)===-1&&bn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Rt(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&bn.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return Kn(this,void 0,void 0,function*(){const t=yield Ht(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(o=>Kn(this,void 0,void 0,function*(){if(o==null)return null;const i=yield this.resolveName(o);return i==null&&bn.throwArgumentError("provided ENS name resolves to null","tx.to",o),i})),t.to.catch(o=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?bn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&bn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const o=yield this.getFeeData();if(t.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const i=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=i,t.maxPriorityFeePerGas=i}else t.maxFeePerGas==null&&(t.maxFeePerGas=o.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(n&&bn.throwError("network does not support EIP-1559",J.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=o.gasPrice),t.type=0):bn.throwError("failed to get consistent fee data",J.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=o.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(o=>{if(A_.indexOf(o.code)>=0)throw o;return bn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{error:o,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(o=>(o[1]!==0&&o[0]!==o[1]&&bn.throwArgumentError("chainId address mismatch","transaction",e),o[0])),yield Ht(t)})}_checkProvider(e){this.provider||bn.throwError("missing provider",J.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Lc extends Ao{constructor(e,t){super(),ie(this,"address",e),ie(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{bn.throwError(e,J.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Lc(this.address,e)}}var i6={exports:{}};(function(r){(function(e,t){function n(b,c){if(!b)throw new Error(c||"Assertion failed")}function o(b,c){b.super_=c;var d=function(){};d.prototype=c.prototype,b.prototype=new d,b.prototype.constructor=b}function i(b,c,d){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(b||0,c||10,d||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=mo.Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,d){return c.cmp(d)>0?c:d},i.min=function(c,d){return c.cmp(d)<0?c:d},i.prototype._init=function(c,d,v){if(typeof c=="number")return this._initNumber(c,d,v);if(typeof c=="object")return this._initArray(c,d,v);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var y=0;c[0]==="-"&&(y++,this.negative=1),y<c.length&&(d===16?this._parseHex(c,y,v):(this._parseBase(c,d,y),v==="le"&&this._initArray(this.toArray(),d,v)))},i.prototype._initNumber=function(c,d,v){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},i.prototype._initArray=function(c,d,v){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x,w,m=0;if(v==="be")for(y=c.length-1,x=0;y>=0;y-=3)w=c[y]|c[y-1]<<8|c[y-2]<<16,this.words[x]|=w<<m&67108863,this.words[x+1]=w>>>26-m&67108863,m+=24,m>=26&&(m-=26,x++);else if(v==="le")for(y=0,x=0;y<c.length;y+=3)w=c[y]|c[y+1]<<8|c[y+2]<<16,this.words[x]|=w<<m&67108863,this.words[x+1]=w>>>26-m&67108863,m+=24,m>=26&&(m-=26,x++);return this._strip()};function a(b,c){var d=b.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+b)}function l(b,c,d){var v=a(b,d);return d-1>=c&&(v|=a(b,d-1)<<4),v}i.prototype._parseHex=function(c,d,v){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x=0,w=0,m;if(v==="be")for(y=c.length-1;y>=d;y-=2)m=l(c,d,y)<<x,this.words[w]|=m&67108863,x>=18?(x-=18,w+=1,this.words[w]|=m>>>26):x+=8;else{var g=c.length-d;for(y=g%2===0?d+1:d;y<c.length;y+=2)m=l(c,d,y)<<x,this.words[w]|=m&67108863,x>=18?(x-=18,w+=1,this.words[w]|=m>>>26):x+=8}this._strip()};function f(b,c,d,v){for(var y=0,x=0,w=Math.min(b.length,d),m=c;m<w;m++){var g=b.charCodeAt(m)-48;y*=v,g>=49?x=g-49+10:g>=17?x=g-17+10:x=g,n(g>=0&&x<v,"Invalid character"),y+=x}return y}i.prototype._parseBase=function(c,d,v){this.words=[0],this.length=1;for(var y=0,x=1;x<=67108863;x*=d)y++;y--,x=x/d|0;for(var w=c.length-v,m=w%y,g=Math.min(w,w-m)+v,h=0,S=v;S<g;S+=y)h=f(c,S,S+y,d),this.imuln(x),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(m!==0){var D=1;for(h=f(c,S,c.length,d),S=0;S<m;S++)D*=d;this.imuln(D),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function u(b,c){b.words=c.words,b.length=c.length,b.negative=c.negative,b.red=c.red}if(i.prototype._move=function(c){u(c,this)},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{i.prototype.inspect=p}else i.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,d){c=c||10,d=d|0||1;var v;if(c===16||c==="hex"){v="";for(var y=0,x=0,w=0;w<this.length;w++){var m=this.words[w],g=((m<<y|x)&16777215).toString(16);x=m>>>24-y&16777215,y+=2,y>=26&&(y-=26,w--),x!==0||w!==this.length-1?v=_[6-g.length]+g+v:v=g+v}for(x!==0&&(v=x.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(c===(c|0)&&c>=2&&c<=36){var h=T[c],S=I[c];v="";var D=this.clone();for(D.negative=0;!D.isZero();){var A=D.modrn(S).toString(c);D=D.idivn(S),D.isZero()?v=A+v:v=_[h-A.length]+A+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(c,d){return this.toArrayLike(s,c,d)}),i.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var B=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};i.prototype.toArrayLike=function(c,d,v){this._strip();var y=this.byteLength(),x=v||Math.max(1,y);n(y<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var w=B(c,x),m=d==="le"?"LE":"BE";return this["_toArrayLike"+m](w,y),w},i.prototype._toArrayLikeLE=function(c,d){for(var v=0,y=0,x=0,w=0;x<this.length;x++){var m=this.words[x]<<w|y;c[v++]=m&255,v<c.length&&(c[v++]=m>>8&255),v<c.length&&(c[v++]=m>>16&255),w===6?(v<c.length&&(c[v++]=m>>24&255),y=0,w=0):(y=m>>>24,w+=2)}if(v<c.length)for(c[v++]=y;v<c.length;)c[v++]=0},i.prototype._toArrayLikeBE=function(c,d){for(var v=c.length-1,y=0,x=0,w=0;x<this.length;x++){var m=this.words[x]<<w|y;c[v--]=m&255,v>=0&&(c[v--]=m>>8&255),v>=0&&(c[v--]=m>>16&255),w===6?(v>=0&&(c[v--]=m>>24&255),y=0,w=0):(y=m>>>24,w+=2)}if(v>=0)for(c[v--]=y;v>=0;)c[v--]=0},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var d=c,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},i.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,v=0;return(d&8191)===0&&(v+=13,d>>>=13),(d&127)===0&&(v+=7,d>>>=7),(d&15)===0&&(v+=4,d>>>=4),(d&3)===0&&(v+=2,d>>>=2),(d&1)===0&&v++,v},i.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function P(b){for(var c=new Array(b.bitLength()),d=0;d<c.length;d++){var v=d/26|0,y=d%26;c[d]=b.words[v]>>>y&1}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(c+=v,v!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},i.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&c.words[v];return this.length=d.length,this._strip()},i.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var d,v;this.length>c.length?(d=this,v=c):(d=c,v=this);for(var y=0;y<v.length;y++)this.words[y]=d.words[y]^v.words[y];if(this!==d)for(;y<d.length;y++)this.words[y]=d.words[y];return this.length=d.length,this._strip()},i.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,v=c%26;this._expand(d),v>0&&d--;for(var y=0;y<d;y++)this.words[y]=~this.words[y]&67108863;return v>0&&(this.words[y]=~this.words[y]&67108863>>26-v),this._strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,d){n(typeof c=="number"&&c>=0);var v=c/26|0,y=c%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<y:this.words[v]=this.words[v]&~(1<<y),this._strip()},i.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var v,y;this.length>c.length?(v=this,y=c):(v=c,y=this);for(var x=0,w=0;w<y.length;w++)d=(v.words[w]|0)+(y.words[w]|0)+x,this.words[w]=d&67108863,x=d>>>26;for(;x!==0&&w<v.length;w++)d=(v.words[w]|0)+x,this.words[w]=d&67108863,x=d>>>26;if(this.length=v.length,x!==0)this.words[this.length]=x,this.length++;else if(v!==this)for(;w<v.length;w++)this.words[w]=v.words[w];return this},i.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var v=this.cmp(c);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,x;v>0?(y=this,x=c):(y=c,x=this);for(var w=0,m=0;m<x.length;m++)d=(y.words[m]|0)-(x.words[m]|0)+w,w=d>>26,this.words[m]=d&67108863;for(;w!==0&&m<y.length;m++)d=(y.words[m]|0)+w,w=d>>26,this.words[m]=d&67108863;if(w===0&&m<y.length&&y!==this)for(;m<y.length;m++)this.words[m]=y.words[m];return this.length=Math.max(this.length,m),y!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function C(b,c,d){d.negative=c.negative^b.negative;var v=b.length+c.length|0;d.length=v,v=v-1|0;var y=b.words[0]|0,x=c.words[0]|0,w=y*x,m=w&67108863,g=w/67108864|0;d.words[0]=m;for(var h=1;h<v;h++){for(var S=g>>>26,D=g&67108863,A=Math.min(h,c.length-1),N=Math.max(0,h-b.length+1);N<=A;N++){var q=h-N|0;y=b.words[q]|0,x=c.words[N]|0,w=y*x+D,S+=w/67108864|0,D=w&67108863}d.words[h]=D|0,g=S|0}return g!==0?d.words[h]=g|0:d.length--,d._strip()}var L=function(c,d,v){var y=c.words,x=d.words,w=v.words,m=0,g,h,S,D=y[0]|0,A=D&8191,N=D>>>13,q=y[1]|0,G=q&8191,Z=q>>>13,ae=y[2]|0,ne=ae&8191,ee=ae>>>13,F=y[3]|0,V=F&8191,K=F>>>13,O=y[4]|0,k=O&8191,M=O>>>13,R=y[5]|0,$=R&8191,H=R>>>13,Q=y[6]|0,oe=Q&8191,te=Q>>>13,le=y[7]|0,fe=le&8191,se=le>>>13,Ie=y[8]|0,xe=Ie&8191,de=Ie>>>13,ze=y[9]|0,Ue=ze&8191,W=ze>>>13,X=x[0]|0,ye=X&8191,ue=X>>>13,Be=x[1]|0,ve=Be&8191,Ae=Be>>>13,et=x[2]|0,Ne=et&8191,Ee=et>>>13,lt=x[3]|0,Fe=lt&8191,we=lt>>>13,gt=x[4]|0,He=gt&8191,_e=gt>>>13,nt=x[5]|0,Ve=nt&8191,Se=nt>>>13,ut=x[6]|0,je=ut&8191,ke=ut>>>13,bt=x[7]|0,qe=bt&8191,Te=bt>>>13,ht=x[8]|0,Ge=ht&8191,Me=ht>>>13,dt=x[9]|0,De=dt&8191,$e=dt>>>13;v.negative=c.negative^d.negative,v.length=19,g=Math.imul(A,ye),h=Math.imul(A,ue),h=h+Math.imul(N,ye)|0,S=Math.imul(N,ue);var sr=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(sr>>>26)|0,sr&=67108863,g=Math.imul(G,ye),h=Math.imul(G,ue),h=h+Math.imul(Z,ye)|0,S=Math.imul(Z,ue),g=g+Math.imul(A,ve)|0,h=h+Math.imul(A,Ae)|0,h=h+Math.imul(N,ve)|0,S=S+Math.imul(N,Ae)|0;var rr=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(rr>>>26)|0,rr&=67108863,g=Math.imul(ne,ye),h=Math.imul(ne,ue),h=h+Math.imul(ee,ye)|0,S=Math.imul(ee,ue),g=g+Math.imul(G,ve)|0,h=h+Math.imul(G,Ae)|0,h=h+Math.imul(Z,ve)|0,S=S+Math.imul(Z,Ae)|0,g=g+Math.imul(A,Ne)|0,h=h+Math.imul(A,Ee)|0,h=h+Math.imul(N,Ne)|0,S=S+Math.imul(N,Ee)|0;var Ar=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,g=Math.imul(V,ye),h=Math.imul(V,ue),h=h+Math.imul(K,ye)|0,S=Math.imul(K,ue),g=g+Math.imul(ne,ve)|0,h=h+Math.imul(ne,Ae)|0,h=h+Math.imul(ee,ve)|0,S=S+Math.imul(ee,Ae)|0,g=g+Math.imul(G,Ne)|0,h=h+Math.imul(G,Ee)|0,h=h+Math.imul(Z,Ne)|0,S=S+Math.imul(Z,Ee)|0,g=g+Math.imul(A,Fe)|0,h=h+Math.imul(A,we)|0,h=h+Math.imul(N,Fe)|0,S=S+Math.imul(N,we)|0;var Er=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Er>>>26)|0,Er&=67108863,g=Math.imul(k,ye),h=Math.imul(k,ue),h=h+Math.imul(M,ye)|0,S=Math.imul(M,ue),g=g+Math.imul(V,ve)|0,h=h+Math.imul(V,Ae)|0,h=h+Math.imul(K,ve)|0,S=S+Math.imul(K,Ae)|0,g=g+Math.imul(ne,Ne)|0,h=h+Math.imul(ne,Ee)|0,h=h+Math.imul(ee,Ne)|0,S=S+Math.imul(ee,Ee)|0,g=g+Math.imul(G,Fe)|0,h=h+Math.imul(G,we)|0,h=h+Math.imul(Z,Fe)|0,S=S+Math.imul(Z,we)|0,g=g+Math.imul(A,He)|0,h=h+Math.imul(A,_e)|0,h=h+Math.imul(N,He)|0,S=S+Math.imul(N,_e)|0;var Sr=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,g=Math.imul($,ye),h=Math.imul($,ue),h=h+Math.imul(H,ye)|0,S=Math.imul(H,ue),g=g+Math.imul(k,ve)|0,h=h+Math.imul(k,Ae)|0,h=h+Math.imul(M,ve)|0,S=S+Math.imul(M,Ae)|0,g=g+Math.imul(V,Ne)|0,h=h+Math.imul(V,Ee)|0,h=h+Math.imul(K,Ne)|0,S=S+Math.imul(K,Ee)|0,g=g+Math.imul(ne,Fe)|0,h=h+Math.imul(ne,we)|0,h=h+Math.imul(ee,Fe)|0,S=S+Math.imul(ee,we)|0,g=g+Math.imul(G,He)|0,h=h+Math.imul(G,_e)|0,h=h+Math.imul(Z,He)|0,S=S+Math.imul(Z,_e)|0,g=g+Math.imul(A,Ve)|0,h=h+Math.imul(A,Se)|0,h=h+Math.imul(N,Ve)|0,S=S+Math.imul(N,Se)|0;var Rn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,g=Math.imul(oe,ye),h=Math.imul(oe,ue),h=h+Math.imul(te,ye)|0,S=Math.imul(te,ue),g=g+Math.imul($,ve)|0,h=h+Math.imul($,Ae)|0,h=h+Math.imul(H,ve)|0,S=S+Math.imul(H,Ae)|0,g=g+Math.imul(k,Ne)|0,h=h+Math.imul(k,Ee)|0,h=h+Math.imul(M,Ne)|0,S=S+Math.imul(M,Ee)|0,g=g+Math.imul(V,Fe)|0,h=h+Math.imul(V,we)|0,h=h+Math.imul(K,Fe)|0,S=S+Math.imul(K,we)|0,g=g+Math.imul(ne,He)|0,h=h+Math.imul(ne,_e)|0,h=h+Math.imul(ee,He)|0,S=S+Math.imul(ee,_e)|0,g=g+Math.imul(G,Ve)|0,h=h+Math.imul(G,Se)|0,h=h+Math.imul(Z,Ve)|0,S=S+Math.imul(Z,Se)|0,g=g+Math.imul(A,je)|0,h=h+Math.imul(A,ke)|0,h=h+Math.imul(N,je)|0,S=S+Math.imul(N,ke)|0;var Nn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,g=Math.imul(fe,ye),h=Math.imul(fe,ue),h=h+Math.imul(se,ye)|0,S=Math.imul(se,ue),g=g+Math.imul(oe,ve)|0,h=h+Math.imul(oe,Ae)|0,h=h+Math.imul(te,ve)|0,S=S+Math.imul(te,Ae)|0,g=g+Math.imul($,Ne)|0,h=h+Math.imul($,Ee)|0,h=h+Math.imul(H,Ne)|0,S=S+Math.imul(H,Ee)|0,g=g+Math.imul(k,Fe)|0,h=h+Math.imul(k,we)|0,h=h+Math.imul(M,Fe)|0,S=S+Math.imul(M,we)|0,g=g+Math.imul(V,He)|0,h=h+Math.imul(V,_e)|0,h=h+Math.imul(K,He)|0,S=S+Math.imul(K,_e)|0,g=g+Math.imul(ne,Ve)|0,h=h+Math.imul(ne,Se)|0,h=h+Math.imul(ee,Ve)|0,S=S+Math.imul(ee,Se)|0,g=g+Math.imul(G,je)|0,h=h+Math.imul(G,ke)|0,h=h+Math.imul(Z,je)|0,S=S+Math.imul(Z,ke)|0,g=g+Math.imul(A,qe)|0,h=h+Math.imul(A,Te)|0,h=h+Math.imul(N,qe)|0,S=S+Math.imul(N,Te)|0;var Ln=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,g=Math.imul(xe,ye),h=Math.imul(xe,ue),h=h+Math.imul(de,ye)|0,S=Math.imul(de,ue),g=g+Math.imul(fe,ve)|0,h=h+Math.imul(fe,Ae)|0,h=h+Math.imul(se,ve)|0,S=S+Math.imul(se,Ae)|0,g=g+Math.imul(oe,Ne)|0,h=h+Math.imul(oe,Ee)|0,h=h+Math.imul(te,Ne)|0,S=S+Math.imul(te,Ee)|0,g=g+Math.imul($,Fe)|0,h=h+Math.imul($,we)|0,h=h+Math.imul(H,Fe)|0,S=S+Math.imul(H,we)|0,g=g+Math.imul(k,He)|0,h=h+Math.imul(k,_e)|0,h=h+Math.imul(M,He)|0,S=S+Math.imul(M,_e)|0,g=g+Math.imul(V,Ve)|0,h=h+Math.imul(V,Se)|0,h=h+Math.imul(K,Ve)|0,S=S+Math.imul(K,Se)|0,g=g+Math.imul(ne,je)|0,h=h+Math.imul(ne,ke)|0,h=h+Math.imul(ee,je)|0,S=S+Math.imul(ee,ke)|0,g=g+Math.imul(G,qe)|0,h=h+Math.imul(G,Te)|0,h=h+Math.imul(Z,qe)|0,S=S+Math.imul(Z,Te)|0,g=g+Math.imul(A,Ge)|0,h=h+Math.imul(A,Me)|0,h=h+Math.imul(N,Ge)|0,S=S+Math.imul(N,Me)|0;var Un=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(Ue,ye),h=Math.imul(Ue,ue),h=h+Math.imul(W,ye)|0,S=Math.imul(W,ue),g=g+Math.imul(xe,ve)|0,h=h+Math.imul(xe,Ae)|0,h=h+Math.imul(de,ve)|0,S=S+Math.imul(de,Ae)|0,g=g+Math.imul(fe,Ne)|0,h=h+Math.imul(fe,Ee)|0,h=h+Math.imul(se,Ne)|0,S=S+Math.imul(se,Ee)|0,g=g+Math.imul(oe,Fe)|0,h=h+Math.imul(oe,we)|0,h=h+Math.imul(te,Fe)|0,S=S+Math.imul(te,we)|0,g=g+Math.imul($,He)|0,h=h+Math.imul($,_e)|0,h=h+Math.imul(H,He)|0,S=S+Math.imul(H,_e)|0,g=g+Math.imul(k,Ve)|0,h=h+Math.imul(k,Se)|0,h=h+Math.imul(M,Ve)|0,S=S+Math.imul(M,Se)|0,g=g+Math.imul(V,je)|0,h=h+Math.imul(V,ke)|0,h=h+Math.imul(K,je)|0,S=S+Math.imul(K,ke)|0,g=g+Math.imul(ne,qe)|0,h=h+Math.imul(ne,Te)|0,h=h+Math.imul(ee,qe)|0,S=S+Math.imul(ee,Te)|0,g=g+Math.imul(G,Ge)|0,h=h+Math.imul(G,Me)|0,h=h+Math.imul(Z,Ge)|0,S=S+Math.imul(Z,Me)|0,g=g+Math.imul(A,De)|0,h=h+Math.imul(A,$e)|0,h=h+Math.imul(N,De)|0,S=S+Math.imul(N,$e)|0;var Dn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,g=Math.imul(Ue,ve),h=Math.imul(Ue,Ae),h=h+Math.imul(W,ve)|0,S=Math.imul(W,Ae),g=g+Math.imul(xe,Ne)|0,h=h+Math.imul(xe,Ee)|0,h=h+Math.imul(de,Ne)|0,S=S+Math.imul(de,Ee)|0,g=g+Math.imul(fe,Fe)|0,h=h+Math.imul(fe,we)|0,h=h+Math.imul(se,Fe)|0,S=S+Math.imul(se,we)|0,g=g+Math.imul(oe,He)|0,h=h+Math.imul(oe,_e)|0,h=h+Math.imul(te,He)|0,S=S+Math.imul(te,_e)|0,g=g+Math.imul($,Ve)|0,h=h+Math.imul($,Se)|0,h=h+Math.imul(H,Ve)|0,S=S+Math.imul(H,Se)|0,g=g+Math.imul(k,je)|0,h=h+Math.imul(k,ke)|0,h=h+Math.imul(M,je)|0,S=S+Math.imul(M,ke)|0,g=g+Math.imul(V,qe)|0,h=h+Math.imul(V,Te)|0,h=h+Math.imul(K,qe)|0,S=S+Math.imul(K,Te)|0,g=g+Math.imul(ne,Ge)|0,h=h+Math.imul(ne,Me)|0,h=h+Math.imul(ee,Ge)|0,S=S+Math.imul(ee,Me)|0,g=g+Math.imul(G,De)|0,h=h+Math.imul(G,$e)|0,h=h+Math.imul(Z,De)|0,S=S+Math.imul(Z,$e)|0;var Fn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(Ue,Ne),h=Math.imul(Ue,Ee),h=h+Math.imul(W,Ne)|0,S=Math.imul(W,Ee),g=g+Math.imul(xe,Fe)|0,h=h+Math.imul(xe,we)|0,h=h+Math.imul(de,Fe)|0,S=S+Math.imul(de,we)|0,g=g+Math.imul(fe,He)|0,h=h+Math.imul(fe,_e)|0,h=h+Math.imul(se,He)|0,S=S+Math.imul(se,_e)|0,g=g+Math.imul(oe,Ve)|0,h=h+Math.imul(oe,Se)|0,h=h+Math.imul(te,Ve)|0,S=S+Math.imul(te,Se)|0,g=g+Math.imul($,je)|0,h=h+Math.imul($,ke)|0,h=h+Math.imul(H,je)|0,S=S+Math.imul(H,ke)|0,g=g+Math.imul(k,qe)|0,h=h+Math.imul(k,Te)|0,h=h+Math.imul(M,qe)|0,S=S+Math.imul(M,Te)|0,g=g+Math.imul(V,Ge)|0,h=h+Math.imul(V,Me)|0,h=h+Math.imul(K,Ge)|0,S=S+Math.imul(K,Me)|0,g=g+Math.imul(ne,De)|0,h=h+Math.imul(ne,$e)|0,h=h+Math.imul(ee,De)|0,S=S+Math.imul(ee,$e)|0;var $n=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+($n>>>26)|0,$n&=67108863,g=Math.imul(Ue,Fe),h=Math.imul(Ue,we),h=h+Math.imul(W,Fe)|0,S=Math.imul(W,we),g=g+Math.imul(xe,He)|0,h=h+Math.imul(xe,_e)|0,h=h+Math.imul(de,He)|0,S=S+Math.imul(de,_e)|0,g=g+Math.imul(fe,Ve)|0,h=h+Math.imul(fe,Se)|0,h=h+Math.imul(se,Ve)|0,S=S+Math.imul(se,Se)|0,g=g+Math.imul(oe,je)|0,h=h+Math.imul(oe,ke)|0,h=h+Math.imul(te,je)|0,S=S+Math.imul(te,ke)|0,g=g+Math.imul($,qe)|0,h=h+Math.imul($,Te)|0,h=h+Math.imul(H,qe)|0,S=S+Math.imul(H,Te)|0,g=g+Math.imul(k,Ge)|0,h=h+Math.imul(k,Me)|0,h=h+Math.imul(M,Ge)|0,S=S+Math.imul(M,Me)|0,g=g+Math.imul(V,De)|0,h=h+Math.imul(V,$e)|0,h=h+Math.imul(K,De)|0,S=S+Math.imul(K,$e)|0;var Vn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul(Ue,He),h=Math.imul(Ue,_e),h=h+Math.imul(W,He)|0,S=Math.imul(W,_e),g=g+Math.imul(xe,Ve)|0,h=h+Math.imul(xe,Se)|0,h=h+Math.imul(de,Ve)|0,S=S+Math.imul(de,Se)|0,g=g+Math.imul(fe,je)|0,h=h+Math.imul(fe,ke)|0,h=h+Math.imul(se,je)|0,S=S+Math.imul(se,ke)|0,g=g+Math.imul(oe,qe)|0,h=h+Math.imul(oe,Te)|0,h=h+Math.imul(te,qe)|0,S=S+Math.imul(te,Te)|0,g=g+Math.imul($,Ge)|0,h=h+Math.imul($,Me)|0,h=h+Math.imul(H,Ge)|0,S=S+Math.imul(H,Me)|0,g=g+Math.imul(k,De)|0,h=h+Math.imul(k,$e)|0,h=h+Math.imul(M,De)|0,S=S+Math.imul(M,$e)|0;var jn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul(Ue,Ve),h=Math.imul(Ue,Se),h=h+Math.imul(W,Ve)|0,S=Math.imul(W,Se),g=g+Math.imul(xe,je)|0,h=h+Math.imul(xe,ke)|0,h=h+Math.imul(de,je)|0,S=S+Math.imul(de,ke)|0,g=g+Math.imul(fe,qe)|0,h=h+Math.imul(fe,Te)|0,h=h+Math.imul(se,qe)|0,S=S+Math.imul(se,Te)|0,g=g+Math.imul(oe,Ge)|0,h=h+Math.imul(oe,Me)|0,h=h+Math.imul(te,Ge)|0,S=S+Math.imul(te,Me)|0,g=g+Math.imul($,De)|0,h=h+Math.imul($,$e)|0,h=h+Math.imul(H,De)|0,S=S+Math.imul(H,$e)|0;var qn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul(Ue,je),h=Math.imul(Ue,ke),h=h+Math.imul(W,je)|0,S=Math.imul(W,ke),g=g+Math.imul(xe,qe)|0,h=h+Math.imul(xe,Te)|0,h=h+Math.imul(de,qe)|0,S=S+Math.imul(de,Te)|0,g=g+Math.imul(fe,Ge)|0,h=h+Math.imul(fe,Me)|0,h=h+Math.imul(se,Ge)|0,S=S+Math.imul(se,Me)|0,g=g+Math.imul(oe,De)|0,h=h+Math.imul(oe,$e)|0,h=h+Math.imul(te,De)|0,S=S+Math.imul(te,$e)|0;var Hn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul(Ue,qe),h=Math.imul(Ue,Te),h=h+Math.imul(W,qe)|0,S=Math.imul(W,Te),g=g+Math.imul(xe,Ge)|0,h=h+Math.imul(xe,Me)|0,h=h+Math.imul(de,Ge)|0,S=S+Math.imul(de,Me)|0,g=g+Math.imul(fe,De)|0,h=h+Math.imul(fe,$e)|0,h=h+Math.imul(se,De)|0,S=S+Math.imul(se,$e)|0;var Gn=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul(Ue,Ge),h=Math.imul(Ue,Me),h=h+Math.imul(W,Ge)|0,S=Math.imul(W,Me),g=g+Math.imul(xe,De)|0,h=h+Math.imul(xe,$e)|0,h=h+Math.imul(de,De)|0,S=S+Math.imul(de,$e)|0;var ss=(m+g|0)+((h&8191)<<13)|0;m=(S+(h>>>13)|0)+(ss>>>26)|0,ss&=67108863,g=Math.imul(Ue,De),h=Math.imul(Ue,$e),h=h+Math.imul(W,De)|0,S=Math.imul(W,$e);var as=(m+g|0)+((h&8191)<<13)|0;return m=(S+(h>>>13)|0)+(as>>>26)|0,as&=67108863,w[0]=sr,w[1]=rr,w[2]=Ar,w[3]=Er,w[4]=Sr,w[5]=Rn,w[6]=Nn,w[7]=Ln,w[8]=Un,w[9]=Dn,w[10]=Fn,w[11]=$n,w[12]=Vn,w[13]=jn,w[14]=qn,w[15]=Hn,w[16]=Gn,w[17]=ss,w[18]=as,m!==0&&(w[19]=m,v.length++),v};Math.imul||(L=C);function j(b,c,d){d.negative=c.negative^b.negative,d.length=b.length+c.length;for(var v=0,y=0,x=0;x<d.length-1;x++){var w=y;y=0;for(var m=v&67108863,g=Math.min(x,c.length-1),h=Math.max(0,x-b.length+1);h<=g;h++){var S=x-h,D=b.words[S]|0,A=c.words[h]|0,N=D*A,q=N&67108863;w=w+(N/67108864|0)|0,q=q+m|0,m=q&67108863,w=w+(q>>>26)|0,y+=w>>>26,w&=67108863}d.words[x]=m,v=w,w=y}return v!==0?d.words[x]=v:d.length--,d._strip()}function z(b,c,d){return j(b,c,d)}i.prototype.mulTo=function(c,d){var v,y=this.length+c.length;return this.length===10&&c.length===10?v=L(this,c,d):y<63?v=C(this,c,d):y<1024?v=j(this,c,d):v=z(this,c,d),v},i.prototype.mul=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},i.prototype.mulf=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),z(this,c,d)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){var d=c<0;d&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var v=0,y=0;y<this.length;y++){var x=(this.words[y]|0)*c,w=(x&67108863)+(v&67108863);v>>=26,v+=x/67108864|0,v+=w>>>26,this.words[y]=w&67108863}return v!==0&&(this.words[y]=v,this.length++),d?this.ineg():this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var d=P(c);if(d.length===0)return new i(1);for(var v=this,y=0;y<d.length&&d[y]===0;y++,v=v.sqr());if(++y<d.length)for(var x=v.sqr();y<d.length;y++,x=x.sqr())d[y]!==0&&(v=v.mul(x));return v},i.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var d=c%26,v=(c-d)/26,y=67108863>>>26-d<<26-d,x;if(d!==0){var w=0;for(x=0;x<this.length;x++){var m=this.words[x]&y,g=(this.words[x]|0)-m<<d;this.words[x]=g|w,w=m>>>26-d}w&&(this.words[x]=w,this.length++)}if(v!==0){for(x=this.length-1;x>=0;x--)this.words[x+v]=this.words[x];for(x=0;x<v;x++)this.words[x]=0;this.length+=v}return this._strip()},i.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,d,v){n(typeof c=="number"&&c>=0);var y;d?y=(d-d%26)/26:y=0;var x=c%26,w=Math.min((c-x)/26,this.length),m=67108863^67108863>>>x<<x,g=v;if(y-=w,y=Math.max(0,y),g){for(var h=0;h<w;h++)g.words[h]=this.words[h];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,h=0;h<this.length;h++)this.words[h]=this.words[h+w];else this.words[0]=0,this.length=1;var S=0;for(h=this.length-1;h>=0&&(S!==0||h>=y);h--){var D=this.words[h]|0;this.words[h]=S<<26-x|D>>>x,S=D&m}return g&&S!==0&&(g.words[g.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(c,d,v){return n(this.negative===0),this.iushrn(c,d,v)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,v=(c-d)/26,y=1<<d;if(this.length<=v)return!1;var x=this.words[v];return!!(x&y)},i.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,v=(c-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var y=67108863^67108863>>>d<<d;this.words[this.length-1]&=y}return this._strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,d,v){var y=c.length+v,x;this._expand(y);var w,m=0;for(x=0;x<c.length;x++){w=(this.words[x+v]|0)+m;var g=(c.words[x]|0)*d;w-=g&67108863,m=(w>>26)-(g/67108864|0),this.words[x+v]=w&67108863}for(;x<this.length-v;x++)w=(this.words[x+v]|0)+m,m=w>>26,this.words[x+v]=w&67108863;if(m===0)return this._strip();for(n(m===-1),m=0,x=0;x<this.length;x++)w=-(this.words[x]|0)+m,m=w>>26,this.words[x]=w&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(c,d){var v=this.length-c.length,y=this.clone(),x=c,w=x.words[x.length-1]|0,m=this._countBits(w);v=26-m,v!==0&&(x=x.ushln(v),y.iushln(v),w=x.words[x.length-1]|0);var g=y.length-x.length,h;if(d!=="mod"){h=new i(null),h.length=g+1,h.words=new Array(h.length);for(var S=0;S<h.length;S++)h.words[S]=0}var D=y.clone()._ishlnsubmul(x,1,g);D.negative===0&&(y=D,h&&(h.words[g]=1));for(var A=g-1;A>=0;A--){var N=(y.words[x.length+A]|0)*67108864+(y.words[x.length+A-1]|0);for(N=Math.min(N/w|0,67108863),y._ishlnsubmul(x,N,A);y.negative!==0;)N--,y.negative=0,y._ishlnsubmul(x,1,A),y.isZero()||(y.negative^=1);h&&(h.words[A]=N)}return h&&h._strip(),y._strip(),d!=="div"&&v!==0&&y.iushrn(v),{div:h||null,mod:y}},i.prototype.divmod=function(c,d,v){if(n(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,x,w;return this.negative!==0&&c.negative===0?(w=this.neg().divmod(c,d),d!=="mod"&&(y=w.div.neg()),d!=="div"&&(x=w.mod.neg(),v&&x.negative!==0&&x.iadd(c)),{div:y,mod:x}):this.negative===0&&c.negative!==0?(w=this.divmod(c.neg(),d),d!=="mod"&&(y=w.div.neg()),{div:y,mod:w.mod}):(this.negative&c.negative)!==0?(w=this.neg().divmod(c.neg(),d),d!=="div"&&(x=w.mod.neg(),v&&x.negative!==0&&x.isub(c)),{div:w.div,mod:x}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modrn(c.words[0]))}:this._wordDiv(c,d)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(c):d.mod,y=c.ushrn(1),x=c.andln(1),w=v.cmp(y);return w<0||x===1&&w===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var v=(1<<26)%c,y=0,x=this.length-1;x>=0;x--)y=(v*y+(this.words[x]|0))%c;return d?-y:y},i.prototype.modn=function(c){return this.modrn(c)},i.prototype.idivn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var v=0,y=this.length-1;y>=0;y--){var x=(this.words[y]|0)+v*67108864;this.words[y]=x/c|0,v=x%c}return this._strip(),d?this.ineg():this},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var d=this,v=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var y=new i(1),x=new i(0),w=new i(0),m=new i(1),g=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++g;for(var h=v.clone(),S=d.clone();!d.isZero();){for(var D=0,A=1;(d.words[0]&A)===0&&D<26;++D,A<<=1);if(D>0)for(d.iushrn(D);D-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(h),x.isub(S)),y.iushrn(1),x.iushrn(1);for(var N=0,q=1;(v.words[0]&q)===0&&N<26;++N,q<<=1);if(N>0)for(v.iushrn(N);N-- >0;)(w.isOdd()||m.isOdd())&&(w.iadd(h),m.isub(S)),w.iushrn(1),m.iushrn(1);d.cmp(v)>=0?(d.isub(v),y.isub(w),x.isub(m)):(v.isub(d),w.isub(y),m.isub(x))}return{a:w,b:m,gcd:v.iushln(g)}},i.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var d=this,v=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var y=new i(1),x=new i(0),w=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var m=0,g=1;(d.words[0]&g)===0&&m<26;++m,g<<=1);if(m>0)for(d.iushrn(m);m-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);for(var h=0,S=1;(v.words[0]&S)===0&&h<26;++h,S<<=1);if(h>0)for(v.iushrn(h);h-- >0;)x.isOdd()&&x.iadd(w),x.iushrn(1);d.cmp(v)>=0?(d.isub(v),y.isub(x)):(v.isub(d),x.isub(y))}var D;return d.cmpn(1)===0?D=y:D=x,D.cmpn(0)<0&&D.iadd(c),D},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),v=c.clone();d.negative=0,v.negative=0;for(var y=0;d.isEven()&&v.isEven();y++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var x=d.cmp(v);if(x<0){var w=d;d=v,v=w}else if(x===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(y)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){n(typeof c=="number");var d=c%26,v=(c-d)/26,y=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=y,this;for(var x=y,w=v;x!==0&&w<this.length;w++){var m=this.words[w]|0;m+=x,x=m>>>26,m&=67108863,this.words[w]=m}return x!==0&&(this.words[w]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(c=-c),n(c<=67108863,"Number is too big");var y=this.words[0]|0;v=y===c?0:y<c?-1:1}return this.negative!==0?-v|0:v},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var y=this.words[v]|0,x=c.words[v]|0;if(y!==x){y<x?d=-1:y>x&&(d=1);break}}return d},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new U(c)},i.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var Y={k256:null,p224:null,p192:null,p25519:null};function re(b,c){this.name=b,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}re.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},re.prototype.ireduce=function(c){var d=c,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var y=v<this.n?-1:d.ucmp(this.p);return y===0?(d.words[0]=0,d.length=1):y>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},re.prototype.split=function(c,d){c.iushrn(this.n,0,d)},re.prototype.imulK=function(c){return c.imul(this.k)};function ge(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(ge,re),ge.prototype.split=function(c,d){for(var v=4194303,y=Math.min(c.length,9),x=0;x<y;x++)d.words[x]=c.words[x];if(d.length=y,c.length<=9){c.words[0]=0,c.length=1;return}var w=c.words[9];for(d.words[d.length++]=w&v,x=10;x<c.length;x++){var m=c.words[x]|0;c.words[x-10]=(m&v)<<4|w>>>22,w=m}w>>>=22,c.words[x-10]=w,w===0&&c.length>10?c.length-=10:c.length-=9},ge.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,v=0;v<c.length;v++){var y=c.words[v]|0;d+=y*977,c.words[v]=d&67108863,d=y*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ce(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(ce,re);function be(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(be,re);function Ce(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Ce,re),Ce.prototype.imulK=function(c){for(var d=0,v=0;v<c.length;v++){var y=(c.words[v]|0)*19+d,x=y&67108863;y>>>=26,c.words[v]=x,d=y}return d!==0&&(c.words[c.length++]=d),c},i._prime=function(c){if(Y[c])return Y[c];var d;if(c==="k256")d=new ge;else if(c==="p224")d=new ce;else if(c==="p192")d=new be;else if(c==="p25519")d=new Ce;else throw new Error("Unknown prime "+c);return Y[c]=d,d};function U(b){if(typeof b=="string"){var c=i._prime(b);this.m=c.p,this.prime=c}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}U.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},U.prototype._verify2=function(c,d){n((c.negative|d.negative)===0,"red works only with positives"),n(c.red&&c.red===d.red,"red works only with red numbers")},U.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(u(c,c.umod(this.m)._forceRed(this)),c)},U.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},U.prototype.add=function(c,d){this._verify2(c,d);var v=c.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},U.prototype.iadd=function(c,d){this._verify2(c,d);var v=c.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},U.prototype.sub=function(c,d){this._verify2(c,d);var v=c.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},U.prototype.isub=function(c,d){this._verify2(c,d);var v=c.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},U.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},U.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},U.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},U.prototype.isqr=function(c){return this.imul(c,c.clone())},U.prototype.sqr=function(c){return this.mul(c,c)},U.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var v=this.m.add(new i(1)).iushrn(2);return this.pow(c,v)}for(var y=this.m.subn(1),x=0;!y.isZero()&&y.andln(1)===0;)x++,y.iushrn(1);n(!y.isZero());var w=new i(1).toRed(this),m=w.redNeg(),g=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,g).cmp(m)!==0;)h.redIAdd(m);for(var S=this.pow(h,y),D=this.pow(c,y.addn(1).iushrn(1)),A=this.pow(c,y),N=x;A.cmp(w)!==0;){for(var q=A,G=0;q.cmp(w)!==0;G++)q=q.redSqr();n(G<N);var Z=this.pow(S,new i(1).iushln(N-G-1));D=D.redMul(Z),S=Z.redSqr(),A=A.redMul(S),N=G}return D},U.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},U.prototype.pow=function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var v=4,y=new Array(1<<v);y[0]=new i(1).toRed(this),y[1]=c;for(var x=2;x<y.length;x++)y[x]=this.mul(y[x-1],c);var w=y[0],m=0,g=0,h=d.bitLength()%26;for(h===0&&(h=26),x=d.length-1;x>=0;x--){for(var S=d.words[x],D=h-1;D>=0;D--){var A=S>>D&1;if(w!==y[0]&&(w=this.sqr(w)),A===0&&m===0){g=0;continue}m<<=1,m|=A,g++,!(g!==v&&(x!==0||D!==0))&&(w=this.mul(w,y[m]),g=0,m=0)}h=26}return w},U.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},U.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},i.mont=function(c){return new E(c)};function E(b){U.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(E,U),E.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},E.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},E.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var v=c.imul(d),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=v.isub(y).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},E.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var v=c.mul(d),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=v.isub(y).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},E.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(r,Xe)})(i6);const Qe=i6.exports;var lr={},ft={},Hs=o6;function o6(r,e){if(!r)throw new Error(e||"Assertion failed")}o6.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var qa={exports:{}};typeof Object.create=="function"?qa.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:qa.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var E_=Hs,S_=qa.exports;ft.inherits=S_;function __(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function k_(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),o=0;o<r.length;o+=2)t.push(parseInt(r[o]+r[o+1],16))}else for(var n=0,o=0;o<r.length;o++){var i=r.charCodeAt(o);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):__(r,o)?(i=65536+((i&1023)<<10)+(r.charCodeAt(++o)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}else for(o=0;o<r.length;o++)t[o]=r[o]|0;return t}ft.toArray=k_;function T_(r){for(var e="",t=0;t<r.length;t++)e+=a6(r[t].toString(16));return e}ft.toHex=T_;function s6(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}ft.htonl=s6;function M_(r,e){for(var t="",n=0;n<r.length;n++){var o=r[n];e==="little"&&(o=s6(o)),t+=f6(o.toString(16))}return t}ft.toHex32=M_;function a6(r){return r.length===1?"0"+r:r}ft.zero2=a6;function f6(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}ft.zero8=f6;function P_(r,e,t,n){var o=t-e;E_(o%4===0);for(var i=new Array(o/4),s=0,a=e;s<i.length;s++,a+=4){var l;n==="big"?l=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:l=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],i[s]=l>>>0}return i}ft.join32=P_;function I_(r,e){for(var t=new Array(r.length*4),n=0,o=0;n<r.length;n++,o+=4){var i=r[n];e==="big"?(t[o]=i>>>24,t[o+1]=i>>>16&255,t[o+2]=i>>>8&255,t[o+3]=i&255):(t[o+3]=i>>>24,t[o+2]=i>>>16&255,t[o+1]=i>>>8&255,t[o]=i&255)}return t}ft.split32=I_;function C_(r,e){return r>>>e|r<<32-e}ft.rotr32=C_;function B_(r,e){return r<<e|r>>>32-e}ft.rotl32=B_;function O_(r,e){return r+e>>>0}ft.sum32=O_;function R_(r,e,t){return r+e+t>>>0}ft.sum32_3=R_;function N_(r,e,t,n){return r+e+t+n>>>0}ft.sum32_4=N_;function L_(r,e,t,n,o){return r+e+t+n+o>>>0}ft.sum32_5=L_;function U_(r,e,t,n){var o=r[e],i=r[e+1],s=n+i>>>0,a=(s<n?1:0)+t+o;r[e]=a>>>0,r[e+1]=s}ft.sum64=U_;function D_(r,e,t,n){var o=e+n>>>0,i=(o<e?1:0)+r+t;return i>>>0}ft.sum64_hi=D_;function F_(r,e,t,n){var o=e+n;return o>>>0}ft.sum64_lo=F_;function $_(r,e,t,n,o,i,s,a){var l=0,f=e;f=f+n>>>0,l+=f<e?1:0,f=f+i>>>0,l+=f<i?1:0,f=f+a>>>0,l+=f<a?1:0;var u=r+t+o+s+l;return u>>>0}ft.sum64_4_hi=$_;function V_(r,e,t,n,o,i,s,a){var l=e+n+i+a;return l>>>0}ft.sum64_4_lo=V_;function j_(r,e,t,n,o,i,s,a,l,f){var u=0,p=e;p=p+n>>>0,u+=p<e?1:0,p=p+i>>>0,u+=p<i?1:0,p=p+a>>>0,u+=p<a?1:0,p=p+f>>>0,u+=p<f?1:0;var _=r+t+o+s+l+u;return _>>>0}ft.sum64_5_hi=j_;function q_(r,e,t,n,o,i,s,a,l,f){var u=e+n+i+a+f;return u>>>0}ft.sum64_5_lo=q_;function H_(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}ft.rotr64_hi=H_;function G_(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ft.rotr64_lo=G_;function K_(r,e,t){return r>>>t}ft.shr64_hi=K_;function z_(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ft.shr64_lo=z_;var uf={},Uv=ft,W_=Hs;function n0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}uf.BlockHash=n0;n0.prototype.update=function(e,t){if(e=Uv.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Uv.join32(e,0,e.length-n,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this};n0.prototype.digest=function(e){return this.update(this._pad()),W_(this.pending===null),this._digest(e)};n0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,o=new Array(n+this.padLength);o[0]=128;for(var i=1;i<n;i++)o[i]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)o[i++]=0;o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=e>>>24&255,o[i++]=e>>>16&255,o[i++]=e>>>8&255,o[i++]=e&255}else for(o[i++]=e&255,o[i++]=e>>>8&255,o[i++]=e>>>16&255,o[i++]=e>>>24&255,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,s=8;s<this.padLength;s++)o[i++]=0;return o};var hf={},Hi={},J_=ft,Oi=J_.rotr32;function Q_(r,e,t,n){if(r===0)return c6(e,t,n);if(r===1||r===3)return u6(e,t,n);if(r===2)return l6(e,t,n)}Hi.ft_1=Q_;function c6(r,e,t){return r&e^~r&t}Hi.ch32=c6;function l6(r,e,t){return r&e^r&t^e&t}Hi.maj32=l6;function u6(r,e,t){return r^e^t}Hi.p32=u6;function Y_(r){return Oi(r,2)^Oi(r,13)^Oi(r,22)}Hi.s0_256=Y_;function Z_(r){return Oi(r,6)^Oi(r,11)^Oi(r,25)}Hi.s1_256=Z_;function X_(r){return Oi(r,7)^Oi(r,18)^r>>>3}Hi.g0_256=X_;function ek(r){return Oi(r,17)^Oi(r,19)^r>>>10}Hi.g1_256=ek;var Ha=ft,tk=uf,rk=Hi,qh=Ha.rotl32,If=Ha.sum32,nk=Ha.sum32_5,ik=rk.ft_1,h6=tk.BlockHash,ok=[1518500249,1859775393,2400959708,3395469782];function Li(){if(!(this instanceof Li))return new Li;h6.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ha.inherits(Li,h6);var sk=Li;Li.blockSize=512;Li.outSize=160;Li.hmacStrength=80;Li.padLength=64;Li.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=qh(n[o-3]^n[o-8]^n[o-14]^n[o-16],1);var i=this.h[0],s=this.h[1],a=this.h[2],l=this.h[3],f=this.h[4];for(o=0;o<n.length;o++){var u=~~(o/20),p=nk(qh(i,5),ik(u,s,a,l),f,n[o],ok[u]);f=l,l=a,a=qh(s,30),s=i,i=p}this.h[0]=If(this.h[0],i),this.h[1]=If(this.h[1],s),this.h[2]=If(this.h[2],a),this.h[3]=If(this.h[3],l),this.h[4]=If(this.h[4],f)};Li.prototype._digest=function(e){return e==="hex"?Ha.toHex32(this.h,"big"):Ha.split32(this.h,"big")};var Ga=ft,ak=uf,df=Hi,fk=Hs,zn=Ga.sum32,ck=Ga.sum32_4,lk=Ga.sum32_5,uk=df.ch32,hk=df.maj32,dk=df.s0_256,pk=df.s1_256,gk=df.g0_256,bk=df.g1_256,d6=ak.BlockHash,vk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ui(){if(!(this instanceof Ui))return new Ui;d6.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=vk,this.W=new Array(64)}Ga.inherits(Ui,d6);var p6=Ui;Ui.blockSize=512;Ui.outSize=256;Ui.hmacStrength=192;Ui.padLength=64;Ui.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=ck(bk(n[o-2]),n[o-7],gk(n[o-15]),n[o-16]);var i=this.h[0],s=this.h[1],a=this.h[2],l=this.h[3],f=this.h[4],u=this.h[5],p=this.h[6],_=this.h[7];for(fk(this.k.length===n.length),o=0;o<n.length;o++){var T=lk(_,pk(f),uk(f,u,p),this.k[o],n[o]),I=zn(dk(i),hk(i,s,a));_=p,p=u,u=f,f=zn(l,T),l=a,a=s,s=i,i=zn(T,I)}this.h[0]=zn(this.h[0],i),this.h[1]=zn(this.h[1],s),this.h[2]=zn(this.h[2],a),this.h[3]=zn(this.h[3],l),this.h[4]=zn(this.h[4],f),this.h[5]=zn(this.h[5],u),this.h[6]=zn(this.h[6],p),this.h[7]=zn(this.h[7],_)};Ui.prototype._digest=function(e){return e==="hex"?Ga.toHex32(this.h,"big"):Ga.split32(this.h,"big")};var Z1=ft,g6=p6;function po(){if(!(this instanceof po))return new po;g6.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Z1.inherits(po,g6);var mk=po;po.blockSize=512;po.outSize=224;po.hmacStrength=192;po.padLength=64;po.prototype._digest=function(e){return e==="hex"?Z1.toHex32(this.h.slice(0,7),"big"):Z1.split32(this.h.slice(0,7),"big")};var en=ft,yk=uf,xk=Hs,Ri=en.rotr64_hi,Ni=en.rotr64_lo,b6=en.shr64_hi,v6=en.shr64_lo,Bo=en.sum64,Hh=en.sum64_hi,Gh=en.sum64_lo,wk=en.sum64_4_hi,Ak=en.sum64_4_lo,Ek=en.sum64_5_hi,Sk=en.sum64_5_lo,m6=yk.BlockHash,_k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ui(){if(!(this instanceof ui))return new ui;m6.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_k,this.W=new Array(160)}en.inherits(ui,m6);var y6=ui;ui.blockSize=1024;ui.outSize=512;ui.hmacStrength=192;ui.padLength=128;ui.prototype._prepareBlock=function(e,t){for(var n=this.W,o=0;o<32;o++)n[o]=e[t+o];for(;o<n.length;o+=2){var i=Lk(n[o-4],n[o-3]),s=Uk(n[o-4],n[o-3]),a=n[o-14],l=n[o-13],f=Rk(n[o-30],n[o-29]),u=Nk(n[o-30],n[o-29]),p=n[o-32],_=n[o-31];n[o]=wk(i,s,a,l,f,u,p,_),n[o+1]=Ak(i,s,a,l,f,u,p,_)}};ui.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],f=this.h[5],u=this.h[6],p=this.h[7],_=this.h[8],T=this.h[9],I=this.h[10],B=this.h[11],P=this.h[12],C=this.h[13],L=this.h[14],j=this.h[15];xk(this.k.length===n.length);for(var z=0;z<n.length;z+=2){var Y=L,re=j,ge=Bk(_,T),ce=Ok(_,T),be=kk(_,T,I,B,P),Ce=Tk(_,T,I,B,P,C),U=this.k[z],E=this.k[z+1],b=n[z],c=n[z+1],d=Ek(Y,re,ge,ce,be,Ce,U,E,b,c),v=Sk(Y,re,ge,ce,be,Ce,U,E,b,c);Y=Ik(o,i),re=Ck(o,i),ge=Mk(o,i,s,a,l),ce=Pk(o,i,s,a,l,f);var y=Hh(Y,re,ge,ce),x=Gh(Y,re,ge,ce);L=P,j=C,P=I,C=B,I=_,B=T,_=Hh(u,p,d,v),T=Gh(p,p,d,v),u=l,p=f,l=s,f=a,s=o,a=i,o=Hh(d,v,y,x),i=Gh(d,v,y,x)}Bo(this.h,0,o,i),Bo(this.h,2,s,a),Bo(this.h,4,l,f),Bo(this.h,6,u,p),Bo(this.h,8,_,T),Bo(this.h,10,I,B),Bo(this.h,12,P,C),Bo(this.h,14,L,j)};ui.prototype._digest=function(e){return e==="hex"?en.toHex32(this.h,"big"):en.split32(this.h,"big")};function kk(r,e,t,n,o){var i=r&t^~r&o;return i<0&&(i+=4294967296),i}function Tk(r,e,t,n,o,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function Mk(r,e,t,n,o){var i=r&t^r&o^t&o;return i<0&&(i+=4294967296),i}function Pk(r,e,t,n,o,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function Ik(r,e){var t=Ri(r,e,28),n=Ri(e,r,2),o=Ri(e,r,7),i=t^n^o;return i<0&&(i+=4294967296),i}function Ck(r,e){var t=Ni(r,e,28),n=Ni(e,r,2),o=Ni(e,r,7),i=t^n^o;return i<0&&(i+=4294967296),i}function Bk(r,e){var t=Ri(r,e,14),n=Ri(r,e,18),o=Ri(e,r,9),i=t^n^o;return i<0&&(i+=4294967296),i}function Ok(r,e){var t=Ni(r,e,14),n=Ni(r,e,18),o=Ni(e,r,9),i=t^n^o;return i<0&&(i+=4294967296),i}function Rk(r,e){var t=Ri(r,e,1),n=Ri(r,e,8),o=b6(r,e,7),i=t^n^o;return i<0&&(i+=4294967296),i}function Nk(r,e){var t=Ni(r,e,1),n=Ni(r,e,8),o=v6(r,e,7),i=t^n^o;return i<0&&(i+=4294967296),i}function Lk(r,e){var t=Ri(r,e,19),n=Ri(e,r,29),o=b6(r,e,6),i=t^n^o;return i<0&&(i+=4294967296),i}function Uk(r,e){var t=Ni(r,e,19),n=Ni(e,r,29),o=v6(r,e,6),i=t^n^o;return i<0&&(i+=4294967296),i}var X1=ft,x6=y6;function go(){if(!(this instanceof go))return new go;x6.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}X1.inherits(go,x6);var Dk=go;go.blockSize=1024;go.outSize=384;go.hmacStrength=192;go.padLength=128;go.prototype._digest=function(e){return e==="hex"?X1.toHex32(this.h.slice(0,12),"big"):X1.split32(this.h.slice(0,12),"big")};hf.sha1=sk;hf.sha224=mk;hf.sha256=p6;hf.sha384=Dk;hf.sha512=y6;var w6={},Cs=ft,Fk=uf,ml=Cs.rotl32,Dv=Cs.sum32,Cf=Cs.sum32_3,Fv=Cs.sum32_4,A6=Fk.BlockHash;function Di(){if(!(this instanceof Di))return new Di;A6.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Cs.inherits(Di,A6);w6.ripemd160=Di;Di.blockSize=512;Di.outSize=160;Di.hmacStrength=192;Di.padLength=64;Di.prototype._update=function(e,t){for(var n=this.h[0],o=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],l=n,f=o,u=i,p=s,_=a,T=0;T<80;T++){var I=Dv(ml(Fv(n,$v(T,o,i,s),e[jk[T]+t],$k(T)),Hk[T]),a);n=a,a=s,s=ml(i,10),i=o,o=I,I=Dv(ml(Fv(l,$v(79-T,f,u,p),e[qk[T]+t],Vk(T)),Gk[T]),_),l=_,_=p,p=ml(u,10),u=f,f=I}I=Cf(this.h[1],i,p),this.h[1]=Cf(this.h[2],s,_),this.h[2]=Cf(this.h[3],a,l),this.h[3]=Cf(this.h[4],n,f),this.h[4]=Cf(this.h[0],o,u),this.h[0]=I};Di.prototype._digest=function(e){return e==="hex"?Cs.toHex32(this.h,"little"):Cs.split32(this.h,"little")};function $v(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function $k(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Vk(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var jk=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],qk=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Hk=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Gk=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Kk=ft,zk=Hs;function Ka(r,e,t){if(!(this instanceof Ka))return new Ka(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Kk.toArray(e,t))}var Wk=Ka;Ka.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),zk(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};Ka.prototype.update=function(e,t){return this.inner.update(e,t),this};Ka.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=ft,e.common=uf,e.sha=hf,e.ripemd=w6,e.hmac=Wk,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(lr);function pf(r,e,t){return t={path:e,exports:{},require:function(n,o){return Jk(n,o??t.path)}},r(t,t.exports),t.exports}function Jk(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var gg=E6;function E6(r,e){if(!r)throw new Error(e||"Assertion failed")}E6.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var ri=pf(function(r,e){var t=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var f=0;f<s.length;f++)l[f]=s[f]|0;return l}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var f=0;f<s.length;f+=2)l.push(parseInt(s[f]+s[f+1],16))}else for(var f=0;f<s.length;f++){var u=s.charCodeAt(f),p=u>>8,_=u&255;p?l.push(p,_):l.push(_)}return l}t.toArray=n;function o(s){return s.length===1?"0"+s:s}t.zero2=o;function i(s){for(var a="",l=0;l<s.length;l++)a+=o(s[l].toString(16));return a}t.toHex=i,t.encode=function(a,l){return l==="hex"?i(a):a}}),ln=pf(function(r,e){var t=e;t.assert=gg,t.toArray=ri.toArray,t.zero2=ri.zero2,t.toHex=ri.toHex,t.encode=ri.encode;function n(l,f,u){var p=new Array(Math.max(l.bitLength(),u)+1);p.fill(0);for(var _=1<<f+1,T=l.clone(),I=0;I<p.length;I++){var B,P=T.andln(_-1);T.isOdd()?(P>(_>>1)-1?B=(_>>1)-P:B=P,T.isubn(B)):B=0,p[I]=B,T.iushrn(1)}return p}t.getNAF=n;function o(l,f){var u=[[],[]];l=l.clone(),f=f.clone();for(var p=0,_=0,T;l.cmpn(-p)>0||f.cmpn(-_)>0;){var I=l.andln(3)+p&3,B=f.andln(3)+_&3;I===3&&(I=-1),B===3&&(B=-1);var P;(I&1)===0?P=0:(T=l.andln(7)+p&7,(T===3||T===5)&&B===2?P=-I:P=I),u[0].push(P);var C;(B&1)===0?C=0:(T=f.andln(7)+_&7,(T===3||T===5)&&I===2?C=-B:C=B),u[1].push(C),2*p===P+1&&(p=1-p),2*_===C+1&&(_=1-_),l.iushrn(1),f.iushrn(1)}return u}t.getJSF=o;function i(l,f,u){var p="_"+f;l.prototype[f]=function(){return this[p]!==void 0?this[p]:this[p]=u.call(this)}}t.cachedProperty=i;function s(l){return typeof l=="string"?t.toArray(l,"hex"):l}t.parseBytes=s;function a(l){return new Qe(l,"hex","le")}t.intFromLE=a}),bu=ln.getNAF,Qk=ln.getJSF,vu=ln.assert;function es(r,e){this.type=r,this.p=new Qe(e.p,16),this.red=e.prime?Qe.red(e.prime):Qe.mont(this.p),this.zero=new Qe(0).toRed(this.red),this.one=new Qe(1).toRed(this.red),this.two=new Qe(2).toRed(this.red),this.n=e.n&&new Qe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Gs=es;es.prototype.point=function(){throw new Error("Not implemented")};es.prototype.validate=function(){throw new Error("Not implemented")};es.prototype._fixedNafMul=function(e,t){vu(e.precomputed);var n=e._getDoubles(),o=bu(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[],a,l;for(a=0;a<o.length;a+=n.step){l=0;for(var f=a+n.step-1;f>=a;f--)l=(l<<1)+o[f];s.push(l)}for(var u=this.jpoint(null,null,null),p=this.jpoint(null,null,null),_=i;_>0;_--){for(a=0;a<s.length;a++)l=s[a],l===_?p=p.mixedAdd(n.points[a]):l===-_&&(p=p.mixedAdd(n.points[a].neg()));u=u.add(p)}return u.toP()};es.prototype._wnafMul=function(e,t){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,s=bu(t,n,this._bitLength),a=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var f=0;l>=0&&s[l]===0;l--)f++;if(l>=0&&f++,a=a.dblp(f),l<0)break;var u=s[l];vu(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(i[u-1>>1]):a=a.mixedAdd(i[-u-1>>1].neg()):u>0?a=a.add(i[u-1>>1]):a=a.add(i[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};es.prototype._wnafMulAdd=function(e,t,n,o,i){var s=this._wnafT1,a=this._wnafT2,l=this._wnafT3,f=0,u,p,_;for(u=0;u<o;u++){_=t[u];var T=_._getNAFPoints(e);s[u]=T.wnd,a[u]=T.points}for(u=o-1;u>=1;u-=2){var I=u-1,B=u;if(s[I]!==1||s[B]!==1){l[I]=bu(n[I],s[I],this._bitLength),l[B]=bu(n[B],s[B],this._bitLength),f=Math.max(l[I].length,f),f=Math.max(l[B].length,f);continue}var P=[t[I],null,null,t[B]];t[I].y.cmp(t[B].y)===0?(P[1]=t[I].add(t[B]),P[2]=t[I].toJ().mixedAdd(t[B].neg())):t[I].y.cmp(t[B].y.redNeg())===0?(P[1]=t[I].toJ().mixedAdd(t[B]),P[2]=t[I].add(t[B].neg())):(P[1]=t[I].toJ().mixedAdd(t[B]),P[2]=t[I].toJ().mixedAdd(t[B].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],L=Qk(n[I],n[B]);for(f=Math.max(L[0].length,f),l[I]=new Array(f),l[B]=new Array(f),p=0;p<f;p++){var j=L[0][p]|0,z=L[1][p]|0;l[I][p]=C[(j+1)*3+(z+1)],l[B][p]=0,a[I]=P}}var Y=this.jpoint(null,null,null),re=this._wnafT4;for(u=f;u>=0;u--){for(var ge=0;u>=0;){var ce=!0;for(p=0;p<o;p++)re[p]=l[p][u]|0,re[p]!==0&&(ce=!1);if(!ce)break;ge++,u--}if(u>=0&&ge++,Y=Y.dblp(ge),u<0)break;for(p=0;p<o;p++){var be=re[p];be!==0&&(be>0?_=a[p][be-1>>1]:be<0&&(_=a[p][-be-1>>1].neg()),_.type==="affine"?Y=Y.mixedAdd(_):Y=Y.add(_))}}for(u=0;u<o;u++)a[u]=null;return i?Y:Y.toP()};function Tn(r,e){this.curve=r,this.type=e,this.precomputed=null}es.BasePoint=Tn;Tn.prototype.eq=function(){throw new Error("Not implemented")};Tn.prototype.validate=function(){return this.curve.validate(this)};es.prototype.decodePoint=function(e,t){e=ln.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?vu(e[e.length-1]%2===0):e[0]===7&&vu(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Tn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Tn.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Tn.prototype.encode=function(e,t){return ln.encode(this._encode(t),e)};Tn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Tn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Tn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)o=o.dbl();n.push(o)}return{step:e,points:n}};Tn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(o);return{wnd:e,points:t}};Tn.prototype._getBeta=function(){return null};Tn.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var bg=pf(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var o=function(){};o.prototype=n.prototype,t.prototype=new o,t.prototype.constructor=t}}}),Yk=ln.assert;function Mn(r){Gs.call(this,"short",r),this.a=new Qe(r.a,16).toRed(this.red),this.b=new Qe(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}bg(Mn,Gs);var Zk=Mn;Mn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Qe(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)n=new Qe(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?n=i[0]:(n=i[1],Yk(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Qe(a.a,16),b:new Qe(a.b,16)}}):s=this._getEndoBasis(n),{beta:t,lambda:n,basis:s}}};Mn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Qe.mont(e),n=new Qe(2).toRed(t).redInvm(),o=n.redNeg(),i=new Qe(3).toRed(t).redNeg().redSqrt().redMul(n),s=o.redAdd(i).fromRed(),a=o.redSub(i).fromRed();return[s,a]};Mn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new Qe(1),s=new Qe(0),a=new Qe(0),l=new Qe(1),f,u,p,_,T,I,B,P=0,C,L;n.cmpn(0)!==0;){var j=o.div(n);C=o.sub(j.mul(n)),L=a.sub(j.mul(i));var z=l.sub(j.mul(s));if(!p&&C.cmp(t)<0)f=B.neg(),u=i,p=C.neg(),_=L;else if(p&&++P===2)break;B=C,o=n,n=C,a=i,i=L,l=s,s=z}T=C.neg(),I=L;var Y=p.sqr().add(_.sqr()),re=T.sqr().add(I.sqr());return re.cmp(Y)>=0&&(T=f,I=u),p.negative&&(p=p.neg(),_=_.neg()),T.negative&&(T=T.neg(),I=I.neg()),[{a:p,b:_},{a:T,b:I}]};Mn.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],o=t[1],i=o.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),l=s.mul(o.a),f=i.mul(n.b),u=s.mul(o.b),p=e.sub(a).sub(l),_=f.add(u).neg();return{k1:p,k2:_}};Mn.prototype.pointFromX=function(e,t){e=new Qe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(t&&!i||!t&&i)&&(o=o.redNeg()),this.point(e,o)};Mn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,o=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Mn.prototype._endoWnafMulAdd=function(e,t,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),l=e[s],f=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),o[s*2]=l,o[s*2+1]=f,i[s*2]=a.k1,i[s*2+1]=a.k2}for(var u=this._wnafMulAdd(1,o,i,s*2,n),p=0;p<s*2;p++)o[p]=null,i[p]=null;return u};function pr(r,e,t,n){Gs.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Qe(e,16),this.y=new Qe(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}bg(pr,Gs.BasePoint);Mn.prototype.point=function(e,t,n){return new pr(this,e,t,n)};Mn.prototype.pointFromJSON=function(e,t){return pr.fromJSON(this,e,t)};pr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}};pr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};pr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],n);if(!t[2])return o;function i(a){return e.point(a[0],a[1],n)}var s=t[2];return o.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[o].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[o].concat(s.naf.points.map(i))}},o};pr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};pr.prototype.isInfinity=function(){return this.inf};pr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};pr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(o),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};pr.prototype.getX=function(){return this.x.fromRed()};pr.prototype.getY=function(){return this.y.fromRed()};pr.prototype.mul=function(e){return e=new Qe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};pr.prototype.mulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};pr.prototype.jmulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};pr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};pr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return t};pr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yr(r,e,t,n){Gs.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Qe(0)):(this.x=new Qe(e,16),this.y=new Qe(t,16),this.z=new Qe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}bg(yr,Gs.BasePoint);Mn.prototype.jpoint=function(e,t,n){return new yr(this,e,t,n)};yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(n,o)};yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(t),i=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=o.redSub(i),f=s.redSub(a);if(l.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),p=u.redMul(l),_=o.redMul(u),T=f.redSqr().redIAdd(p).redISub(_).redISub(_),I=f.redMul(_.redISub(T)).redISub(s.redMul(p)),B=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,I,B)};yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,o=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=n.redSub(o),l=i.redSub(s);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),u=f.redMul(a),p=n.redMul(f),_=l.redSqr().redIAdd(u).redISub(p).redISub(p),T=l.redMul(p.redISub(_)).redISub(i.redMul(u)),I=this.z.redMul(a);return this.curve.jpoint(_,T,I)};yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,l=this.z,f=l.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var p=s.redSqr(),_=u.redSqr(),T=_.redSqr(),I=p.redAdd(p).redIAdd(p).redIAdd(o.redMul(f)),B=s.redMul(_),P=I.redSqr().redISub(B.redAdd(B)),C=B.redISub(P),L=I.redMul(C);L=L.redIAdd(L).redISub(T);var j=u.redMul(l);t+1<e&&(f=f.redMul(T)),s=P,l=j,u=L}return this.curve.jpoint(s,u.redMul(i),l)};yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yr.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var l=o.redAdd(o).redIAdd(o),f=l.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=f,t=l.redMul(a.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),_=this.y.redSqr(),T=_.redSqr(),I=this.x.redAdd(_).redSqr().redISub(p).redISub(T);I=I.redIAdd(I);var B=p.redAdd(p).redIAdd(p),P=B.redSqr(),C=T.redIAdd(T);C=C.redIAdd(C),C=C.redIAdd(C),e=P.redISub(I).redISub(I),t=B.redMul(I.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};yr.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var l=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),f=l.redSqr().redISub(a).redISub(a);e=f;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),t=l.redMul(a.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),_=this.y.redSqr(),T=this.x.redMul(_),I=this.x.redSub(p).redMul(this.x.redAdd(p));I=I.redAdd(I).redIAdd(I);var B=T.redIAdd(T);B=B.redIAdd(B);var P=B.redAdd(B);e=I.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(_).redISub(p);var C=_.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),t=I.redMul(B.redISub(e)).redISub(C)}return this.curve.jpoint(e,t,n)};yr.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),s=t.redSqr(),a=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),f=t.redAdd(t);f=f.redIAdd(f);var u=f.redMul(a),p=l.redSqr().redISub(u.redAdd(u)),_=u.redISub(p),T=a.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var I=l.redMul(_).redISub(T),B=n.redAdd(n).redMul(o);return this.curve.jpoint(p,I,B)};yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),o=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(o);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var l=a.redSqr(),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=i.redIAdd(a).redSqr().redISub(s).redISub(l).redISub(f),p=t.redMul(u);p=p.redIAdd(p),p=p.redIAdd(p);var _=this.x.redMul(l).redISub(p);_=_.redIAdd(_),_=_.redIAdd(_);var T=this.y.redMul(u.redMul(f.redISub(u)).redISub(a.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var I=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(_,T,I)};yr.prototype.mul=function(e,t){return e=new Qe(e,t),this.curve._wnafMul(this,e)};yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};yr.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Kl=pf(function(r,e){var t=e;t.base=Gs,t.short=Zk,t.mont=null,t.edwards=null}),zl=pf(function(r,e){var t=e,n=ln.assert;function o(a){a.type==="short"?this.curve=new Kl.short(a):a.type==="edwards"?this.curve=new Kl.edwards(a):this.curve=new Kl.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=o;function i(a,l){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var f=new o(l);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:f}),f}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:lr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:lr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:lr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:lr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:lr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:lr.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:lr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:lr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function zo(r){if(!(this instanceof zo))return new zo(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ri.toArray(r.entropy,r.entropyEnc||"hex"),t=ri.toArray(r.nonce,r.nonceEnc||"hex"),n=ri.toArray(r.pers,r.persEnc||"hex");gg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var S6=zo;zo.prototype._init=function(e,t,n){var o=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};zo.prototype._hmac=function(){return new lr.hmac(this.hash,this.K)};zo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};zo.prototype.reseed=function(e,t,n,o){typeof t!="string"&&(o=n,n=t,t=null),e=ri.toArray(e,t),n=ri.toArray(n,o),gg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};zo.prototype.generate=function(e,t,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=n,n=t,t=null),n&&(n=ri.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(n),this._reseed++,ri.encode(s,t)};var ep=ln.assert;function Rr(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var vg=Rr;Rr.fromPublic=function(e,t,n){return t instanceof Rr?t:new Rr(e,{pub:t,pubEnc:n})};Rr.fromPrivate=function(e,t,n){return t instanceof Rr?t:new Rr(e,{priv:t,privEnc:n})};Rr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Rr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Rr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Rr.prototype._importPrivate=function(e,t){this.priv=new Qe(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Rr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?ep(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&ep(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Rr.prototype.derive=function(e){return e.validate()||ep(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Rr.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Rr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Rr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Xk=ln.assert;function i0(r,e){if(r instanceof i0)return r;this._importDER(r,e)||(Xk(r.r&&r.s,"Signature without r or s"),this.r=new Qe(r.r,16),this.s=new Qe(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var o0=i0;function eT(){this.place=0}function Kh(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var o=0,i=0,s=e.place;i<n;i++,s++)o<<=8,o|=r[s],o>>>=0;return o<=127?!1:(e.place=s,o)}function Vv(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}i0.prototype._importDER=function(e,t){e=ln.toArray(e,t);var n=new eT;if(e[n.place++]!==48)return!1;var o=Kh(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=Kh(e,n);if(i===!1)return!1;var s=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var a=Kh(e,n);if(a===!1||e.length!==a+n.place)return!1;var l=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Qe(s),this.s=new Qe(l),this.recoveryParam=null,!0};function zh(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}i0.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=Vv(t),n=Vv(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];zh(o,t.length),o=o.concat(t),o.push(2),zh(o,n.length);var i=o.concat(n),s=[48];return zh(s,i.length),s=s.concat(i),ln.encode(s,e)};var tT=function(){throw new Error("unsupported")},_6=ln.assert;function Sn(r){if(!(this instanceof Sn))return new Sn(r);typeof r=="string"&&(_6(Object.prototype.hasOwnProperty.call(zl,r),"Unknown curve "+r),r=zl[r]),r instanceof zl.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var rT=Sn;Sn.prototype.keyPair=function(e){return new vg(this,e)};Sn.prototype.keyFromPrivate=function(e,t){return vg.fromPrivate(this,e,t)};Sn.prototype.keyFromPublic=function(e,t){return vg.fromPublic(this,e,t)};Sn.prototype.genKeyPair=function(e){e||(e={});for(var t=new S6({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||tT(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new Qe(2));;){var i=new Qe(t.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Sn.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Sn.prototype.sign=function(e,t,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Qe(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),a=e.toArray("be",i),l=new S6({hash:this.hash,entropy:s,nonce:a,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new Qe(1)),u=0;;u++){var p=o.k?o.k(u):new Qe(l.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(f)>=0)){var _=this.g.mul(p);if(!_.isInfinity()){var T=_.getX(),I=T.umod(this.n);if(I.cmpn(0)!==0){var B=p.invm(this.n).mul(I.mul(t.getPrivate()).iadd(e));if(B=B.umod(this.n),B.cmpn(0)!==0){var P=(_.getY().isOdd()?1:0)|(T.cmp(I)!==0?2:0);return o.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),P^=1),new o0({r:I,s:B,recoveryParam:P})}}}}}};Sn.prototype.verify=function(e,t,n,o){e=this._truncateToN(new Qe(e,16)),n=this.keyFromPublic(n,o),t=new o0(t,"hex");var i=t.r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),f=a.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(l,n.getPublic(),f),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(l,n.getPublic(),f),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};Sn.prototype.recoverPubKey=function(r,e,t,n){_6((3&t)===t,"The recovery param is more than two bits"),e=new o0(e,n);var o=this.n,i=new Qe(r),s=e.r,a=e.s,l=t&1,f=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var u=e.r.invm(o),p=o.sub(i).mul(u).umod(o),_=a.mul(u).umod(o);return this.g.mulAdd(p,s,_)};Sn.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new o0(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(r,e,o)}catch{continue}if(i.eq(t))return o}throw new Error("Unable to find valid recovery factor")};var nT=pf(function(r,e){var t=e;t.version="6.5.4",t.utils=ln,t.rand=function(){throw new Error("unsupported")},t.curve=Kl,t.curves=zl,t.ec=rT,t.eddsa=null}),iT=nT.ec;const oT="signing-key/5.7.0",tp=new J(oT);let Wh=null;function ki(){return Wh||(Wh=new iT("secp256k1")),Wh}class Ho{constructor(e){ie(this,"curve","secp256k1"),ie(this,"privateKey",me(e)),ci(this.privateKey)!==32&&tp.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=ki().keyFromPrivate(he(this.privateKey));ie(this,"publicKey","0x"+t.getPublic(!1,"hex")),ie(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ie(this,"_isSigningKey",!0)}_addPoint(e){const t=ki().keyFromPublic(he(this.publicKey)),n=ki().keyFromPublic(he(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=ki().keyFromPrivate(he(this.privateKey)),n=he(e);n.length!==32&&tp.throwArgumentError("bad digest length","digest",e);const o=t.sign(n,{canonical:!0});return Zo({recoveryParam:o.recoveryParam,r:Bt("0x"+o.r.toString(16),32),s:Bt("0x"+o.s.toString(16),32)})}computeSharedSecret(e){const t=ki().keyFromPrivate(he(this.privateKey)),n=ki().keyFromPublic(he(s0(e)));return Bt("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function mg(r,e){const t=Zo(e),n={r:he(t.r),s:he(t.s)};return"0x"+ki().recoverPubKey(he(r),n,t.recoveryParam).encode("hex",!1)}function s0(r,e){const t=he(r);if(t.length===32){const n=new Ho(t);return e?"0x"+ki().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?me(t):"0x"+ki().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+ki().keyFromPublic(t).getPublic(!0,"hex"):me(t)}return tp.throwArgumentError("invalid public or private key","key","[REDACTED]")}const sT=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:Ho,recoverPublicKey:mg,computePublicKey:s0},Symbol.toStringTag,{value:"Module"})),aT="transactions/5.7.0",Ir=new J(aT);var mu;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(mu||(mu={}));function yg(r){return r==="0x"?null:Et(r)}function kr(r){return r==="0x"?rg:pe.from(r)}const fT=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],cT={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function fo(r){const e=s0(r);return Et(Jt(Tt(Jt(e,1)),12))}function Ks(r,e){return fo(mg(he(r),e))}function on(r,e){const t=si(pe.from(r).toHexString());return t.length>32&&Ir.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function Jh(r,e){return{address:Et(r),storageKeys:(e||[]).map((t,n)=>(ci(t)!==32&&Ir.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function Eo(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&Ir.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),Jh(t[0],t[1])):Jh(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((o,i)=>(o[i]=!0,o),{});return Jh(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function k6(r){return Eo(r).map(e=>[e.address,e.storageKeys])}function T6(r,e){if(r.gasPrice!=null){const n=pe.from(r.gasPrice),o=pe.from(r.maxFeePerGas||0);n.eq(o)||Ir.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:o})}const t=[on(r.chainId||0,"chainId"),on(r.nonce||0,"nonce"),on(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),on(r.maxFeePerGas||0,"maxFeePerGas"),on(r.gasLimit||0,"gasLimit"),r.to!=null?Et(r.to):"0x",on(r.value||0,"value"),r.data||"0x",k6(r.accessList||[])];if(e){const n=Zo(e);t.push(on(n.recoveryParam,"recoveryParam")),t.push(si(n.r)),t.push(si(n.s))}return Pr(["0x02",Is(t)])}function M6(r,e){const t=[on(r.chainId||0,"chainId"),on(r.nonce||0,"nonce"),on(r.gasPrice||0,"gasPrice"),on(r.gasLimit||0,"gasLimit"),r.to!=null?Et(r.to):"0x",on(r.value||0,"value"),r.data||"0x",k6(r.accessList||[])];if(e){const n=Zo(e);t.push(on(n.recoveryParam,"recoveryParam")),t.push(si(n.r)),t.push(si(n.s))}return Pr(["0x01",Is(t)])}function lT(r,e){Xu(r,cT);const t=[];fT.forEach(function(s){let a=r[s.name]||[];const l={};s.numeric&&(l.hexPad="left"),a=he(me(a,l)),s.length&&a.length!==s.length&&a.length>0&&Ir.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a),s.maxLength&&(a=si(a),a.length>s.maxLength&&Ir.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a)),t.push(me(a))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&Ir.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!ff(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(me(n)),t.push("0x"),t.push("0x")),!e)return Is(t);const o=Zo(e);let i=27+o.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),i+=n*2+8,o.v>28&&o.v!==i&&Ir.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):o.v!==i&&Ir.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(me(i)),t.push(si(he(o.r))),t.push(si(he(o.s))),Is(t)}function yu(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&Ir.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),lT(r,e);switch(r.type){case 1:return M6(r,e);case 2:return T6(r,e)}return Ir.throwError(`unsupported transaction type: ${r.type}`,J.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function P6(r,e,t){try{const n=kr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{Ir.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=Bt(e[1],32),r.s=Bt(e[2],32);try{const n=Tt(t(r));r.from=Ks(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function uT(r){const e=e0(r.slice(1));e.length!==9&&e.length!==12&&Ir.throwArgumentError("invalid component count for transaction type: 2","payload",me(r));const t=kr(e[2]),n=kr(e[3]),o={type:2,chainId:kr(e[0]).toNumber(),nonce:kr(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:kr(e[4]),to:yg(e[5]),value:kr(e[6]),data:e[7],accessList:Eo(e[8])};return e.length===9||(o.hash=Tt(r),P6(o,e.slice(9),T6)),o}function hT(r){const e=e0(r.slice(1));e.length!==8&&e.length!==11&&Ir.throwArgumentError("invalid component count for transaction type: 1","payload",me(r));const t={type:1,chainId:kr(e[0]).toNumber(),nonce:kr(e[1]).toNumber(),gasPrice:kr(e[2]),gasLimit:kr(e[3]),to:yg(e[4]),value:kr(e[5]),data:e[6],accessList:Eo(e[7])};return e.length===8||(t.hash=Tt(r),P6(t,e.slice(8),M6)),t}function dT(r){const e=e0(r);e.length!==9&&e.length!==6&&Ir.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:kr(e[0]).toNumber(),gasPrice:kr(e[1]),gasLimit:kr(e[2]),to:yg(e[3]),value:kr(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=pe.from(e[6]).toNumber()}catch{return t}if(t.r=Bt(e[7],32),t.s=Bt(e[8],32),pe.from(t.r).isZero()&&pe.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const o=e.slice(0,6);t.chainId!==0&&(o.push(me(t.chainId)),o.push("0x"),o.push("0x"),n-=t.chainId*2+8);const i=Tt(Is(o));try{t.from=Ks(i,{r:me(t.r),s:me(t.s),recoveryParam:n})}catch{}t.hash=Tt(r)}return t.type=null,t}function xg(r){const e=he(r);if(e[0]>127)return dT(e);switch(e[0]){case 1:return hT(e);case 2:return uT(e)}return Ir.throwError(`unsupported transaction type: ${e[0]}`,J.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const pT=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return mu},computeAddress:fo,recoverAddress:Ks,accessListify:Eo,serialize:yu,parse:xg},Symbol.toStringTag,{value:"Module"})),gT="contracts/5.7.0";var Wo=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const It=new J(gT),bT={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function xu(r,e){return Wo(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&It.throwArgumentError("invalid address or ENS name","name",t);try{return Et(t)}catch{}r||It.throwError("a provider or signer is needed to resolve ENS names",J.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&It.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function oc(r,e,t){return Wo(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,o)=>oc(r,Array.isArray(e)?e[o]:e[n.name],n))):t.type==="address"?yield xu(r,e):t.type==="tuple"?yield oc(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>oc(r,n,t.arrayChildren))):Promise.reject(It.makeError("invalid value for array",J.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function a0(r,e,t){return Wo(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Rt(t.pop())),It.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=Ht({override:xu(r.signer,n.from),signer:r.signer.getAddress()}).then(f=>Wo(this,void 0,void 0,function*(){return Et(f.signer)!==f.override&&It.throwError("Contract with a Signer cannot override from",J.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),f.override})):n.from=r.signer.getAddress():n.from&&(n.from=xu(r.provider,n.from));const o=yield Ht({args:oc(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:Ht(n)||{}}),i=r.interface.encodeFunctionData(e,o.args),s={data:i,to:o.address},a=o.overrides;if(a.nonce!=null&&(s.nonce=pe.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=pe.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=pe.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=pe.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=pe.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=Eo(a.accessList)),s.gasLimit==null&&e.gas!=null){let f=21e3;const u=he(i);for(let p=0;p<u.length;p++)f+=4,u[p]&&(f+=64);s.gasLimit=pe.from(e.gas).add(f)}if(a.value){const f=pe.from(a.value);!f.isZero()&&!e.payable&&It.throwError("non-payable method cannot override value",J.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=f}a.customData&&(s.customData=Rt(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(f=>n[f]!=null);return l.length&&It.throwError(`cannot override ${l.map(f=>JSON.stringify(f)).join(",")}`,J.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s})}function vT(r,e){return function(...t){return a0(r,e,t)}}function mT(r,e){const t=r.signer||r.provider;return function(...n){return Wo(this,void 0,void 0,function*(){t||It.throwError("estimate require a provider or signer",J.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield a0(r,e,n);return yield t.estimateGas(o)})}}function I6(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(o=>(o.events=o.logs.map(i=>{let s=Or(i),a=null;try{a=r.interface.parseLog(i)}catch{}return a&&(s.args=a.args,s.decode=(l,f)=>r.interface.decodeEventLog(a.eventFragment,l,f),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>r.provider,s.getBlock=()=>r.provider.getBlock(o.blockHash),s.getTransaction=()=>r.provider.getTransaction(o.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(o),s}),o))}function C6(r,e,t){const n=r.signer||r.provider;return function(...o){return Wo(this,void 0,void 0,function*(){let i;if(o.length===e.inputs.length+1&&typeof o[o.length-1]=="object"){const l=Rt(o.pop());l.blockTag!=null&&(i=yield l.blockTag),delete l.blockTag,o.push(l)}r.deployTransaction!=null&&(yield r._deployed(i));const s=yield a0(r,e,o),a=yield n.call(s,i);try{let l=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===J.errors.CALL_EXCEPTION&&(l.address=r.address,l.args=o,l.transaction=s),l}})}}function yT(r,e){return function(...t){return Wo(this,void 0,void 0,function*(){r.signer||It.throwError("sending a transaction requires a signer",J.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield a0(r,e,t),o=yield r.signer.sendTransaction(n);return I6(r,o),o})}}function jv(r,e,t){return e.constant?C6(r,e,t):yT(r,e)}function B6(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class _c{constructor(e,t){ie(this,"tag",e),ie(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const o=e.slice();return setTimeout(()=>{n.listener.apply(this,o)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class xT extends _c{constructor(){super("error",null)}}class qv extends _c{constructor(e,t,n,o){const i={address:e};let s=t.getEventTopic(n);o?(s!==o[0]&&It.throwArgumentError("topic mismatch","topics",o),i.topics=o.slice()):i.topics=[s],super(B6(i),i),ie(this,"address",e),ie(this,"interface",t),ie(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=eg(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Hv extends _c{constructor(e,t){super("*",{address:e}),ie(this,"address",e),ie(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,o)=>this.interface.decodeEventLog(t.eventFragment,n,o),e.args=t.args}catch{}}}class wg{constructor(e,t,n){ie(this,"interface",ur(new.target,"getInterface")(t)),n==null?(ie(this,"provider",null),ie(this,"signer",null)):Ao.isSigner(n)?(ie(this,"provider",n.provider||null),ie(this,"signer",n)):qs.isProvider(n)?(ie(this,"provider",n),ie(this,"signer",null)):It.throwArgumentError("invalid signer or provider","signerOrProvider",n),ie(this,"callStatic",{}),ie(this,"estimateGas",{}),ie(this,"functions",{}),ie(this,"populateTransaction",{}),ie(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];ie(this.filters,a,(...f)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,f)})),s[l.name]||(s[l.name]=[]),s[l.name].push(a)}),Object.keys(s).forEach(a=>{const l=s[a];l.length===1?ie(this.filters,a,this.filters[l[0]]):It.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(ie(this,"_runningEvents",{}),ie(this,"_wrappedEmits",{}),e==null&&It.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ie(this,"address",e),this.provider)ie(this,"resolvedAddress",xu(this.provider,e));else try{ie(this,"resolvedAddress",Promise.resolve(Et(e)))}catch{It.throwError("provider is required to use ENS name as contract address",J.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const o={},i={};Object.keys(this.interface.functions).forEach(s=>{const a=this.interface.functions[s];if(i[s]){It.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}i[s]=!0;{const l=a.name;o[`%${l}`]||(o[`%${l}`]=[]),o[`%${l}`].push(s)}this[s]==null&&ie(this,s,jv(this,a,!0)),this.functions[s]==null&&ie(this.functions,s,jv(this,a,!1)),this.callStatic[s]==null&&ie(this.callStatic,s,C6(this,a,!0)),this.populateTransaction[s]==null&&ie(this.populateTransaction,s,vT(this,a)),this.estimateGas[s]==null&&ie(this.estimateGas,s,mT(this,a))}),Object.keys(o).forEach(s=>{const a=o[s];if(a.length>1)return;s=s.substring(1);const l=a[0];try{this[s]==null&&ie(this,s,this[l])}catch{}this.functions[s]==null&&ie(this.functions,s,this.functions[l]),this.callStatic[s]==null&&ie(this.callStatic,s,this.callStatic[l]),this.populateTransaction[s]==null&&ie(this.populateTransaction,s,this.populateTransaction[l]),this.estimateGas[s]==null&&ie(this.estimateGas,s,this.estimateGas[l])})}static getContractAddress(e){return Rc(e)}static getInterface(e){return gu.isInterface(e)?e:new gu(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&It.throwError("contract not deployed",J.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||It.throwError("sending a transactions require a signer",J.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Rt(e||{});return["from","to"].forEach(function(n){t[n]!=null&&It.throwError("cannot override "+n,J.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new Lc(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ie(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Sc.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new xT);if(e==="event")return this._normalizeRunningEvent(new _c("event",null));if(e==="*")return this._normalizeRunningEvent(new Hv(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new qv(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const o=this.interface.getEvent(n);return this._normalizeRunningEvent(new qv(this.address,this.interface,o,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new _c(B6(t),t))}return this._normalizeRunningEvent(new Hv(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const o=Or(t);return o.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},o.getBlock=()=>this.provider.getBlock(t.blockHash),o.getTransaction=()=>this.provider.getTransaction(t.transactionHash),o.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(o),o}_addEventListener(e,t,n){if(this.provider||It.throwError("events require a provider or a signer with a provider",J.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const o=i=>{let s=this._wrapEvent(e,i,t);if(s.decodeError==null)try{const a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=o,e.filter!=null&&this.provider.on(e.filter,o)}}queryFilter(e,t,n){const o=this._getRunningEvent(e),i=Rt(o.filter);return typeof t=="string"&&Je(t,32)?(n!=null&&It.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),i.blockHash=t):(i.fromBlock=t??0,i.toBlock=n??"latest"),this.provider.getLogs(i).then(s=>s.map(a=>this._wrapEvent(o,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),o=n.run(t)>0;return this._checkRunningEvents(n),o}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(o=>{t.push(o)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const o=this._runningEvents[n];o.removeAllListeners(),this._checkRunningEvents(o)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class wu extends wg{}class O6{constructor(e,t,n){let o=null;typeof t=="string"?o=t:yo(t)?o=me(t):t&&typeof t.object=="string"?o=t.object:o="!",o.substring(0,2)!=="0x"&&(o="0x"+o),(!Je(o)||o.length%2)&&It.throwArgumentError("invalid bytecode","bytecode",t),n&&!Ao.isSigner(n)&&It.throwArgumentError("invalid signer","signer",n),ie(this,"bytecode",o),ie(this,"interface",ur(new.target,"getInterface")(e)),ie(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=Rt(e.pop());for(const n in t)if(!bT[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&It.throwError("cannot override "+n,J.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!pe.from(t.value).isZero()&&!this.interface.deploy.payable&&It.throwError("non-payable constructor cannot override value",J.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),It.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=me(Ct([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return Wo(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),It.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield oc(this.signer,e,this.interface.deploy.inputs);n.push(t);const o=this.getDeployTransaction(...n),i=yield this.signer.sendTransaction(o),s=ur(this.constructor,"getContractAddress")(i),a=ur(this.constructor,"getContract")(s,this.interface,this.signer);return I6(a,i),ie(a,"deployTransaction",i),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&It.throwError("missing compiler output",J.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let o=null;return e.bytecode?o=e.bytecode:e.evm&&e.evm.bytecode&&(o=e.evm.bytecode),new this(n,o,t)}static getInterface(e){return wu.getInterface(e)}static getContractAddress(e){return Rc(e)}static getContract(e,t,n){return new wu(e,t,n)}}class Ag{constructor(e){ie(this,"alphabet",e),ie(this,"base",e.length),ie(this,"_alphabetMap",{}),ie(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=he(e);if(t.length===0)return"";let n=[0];for(let i=0;i<t.length;++i){let s=t[i];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let o="";for(let i=0;t[i]===0&&i<t.length-1;++i)o+=this._leader;for(let i=n.length-1;i>=0;--i)o+=this.alphabet[n[i]];return o}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let o=this._alphabetMap[e[n]];if(o===void 0)throw new Error("Non-base"+this.base+" character");let i=o;for(let s=0;s<t.length;++s)i+=t[s]*this.base,t[s]=i&255,i>>=8;for(;i>0;)t.push(i&255),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return he(new Uint8Array(t.reverse()))}}const wT=new Ag("abcdefghijklmnopqrstuvwxyz234567"),Bs=new Ag("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),AT=Object.freeze(Object.defineProperty({__proto__:null,BaseX:Ag,Base32:wT,Base58:Bs},Symbol.toStringTag,{value:"Module"}));var Os;(function(r){r.sha256="sha256",r.sha512="sha512"})(Os||(Os={}));const ET="sha2/5.7.0",ST=new J(ET);function Eg(r){return"0x"+lr.ripemd160().update(he(r)).digest("hex")}function Fi(r){return"0x"+lr.sha256().update(he(r)).digest("hex")}function R6(r){return"0x"+lr.sha512().update(he(r)).digest("hex")}function za(r,e,t){return Os[r]||ST.throwError("unsupported algorithm "+r,J.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+lr.hmac(lr[r],he(e)).update(he(t)).digest("hex")}const _T=Object.freeze(Object.defineProperty({__proto__:null,computeHmac:za,ripemd160:Eg,sha256:Fi,sha512:R6,get SupportedAlgorithm(){return Os}},Symbol.toStringTag,{value:"Module"}));function Sg(r,e,t,n,o){r=he(r),e=he(e);let i,s=1;const a=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let f,u;for(let p=1;p<=s;p++){l[e.length]=p>>24&255,l[e.length+1]=p>>16&255,l[e.length+2]=p>>8&255,l[e.length+3]=p&255;let _=he(za(o,r,l));i||(i=_.length,u=new Uint8Array(i),s=Math.ceil(n/i),f=n-(s-1)*i),u.set(_);for(let B=1;B<t;B++){_=he(za(o,r,_));for(let P=0;P<i;P++)u[P]^=_[P]}const T=(p-1)*i,I=p===s?f:i;a.set(he(u).slice(0,I),T)}return me(a)}const kT="wordlists/5.7.0",TT=new J(kT);class zs{constructor(e){TT.checkAbstract(new.target,zs),ie(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const o=e.getWord(n);if(n!==e.getWordIndex(o))return"0x";t.push(o)}return no(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const MT="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let sc=null;function Gv(r){if(sc==null&&(sc=MT.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),zs.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw sc=null,new Error("BIP39 Wordlist for en (English) FAILED")}class PT extends zs{constructor(){super("en")}getWord(e){return Gv(this),sc[e]}getWordIndex(e){return Gv(this),sc.indexOf(e)}}const N6=new PT;zs.register(N6);const Au={en:N6},IT="hdnode/5.7.0",kc=new J(IT),CT=pe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),BT=Zt("Bitcoin seed"),ba=2147483648;function L6(r){return(1<<r)-1<<8-r}function OT(r){return(1<<r)-1}function yl(r){return Bt(me(r),32)}function Kv(r){return Bs.encode(Ct([r,Jt(Fi(Fi(r)),0,4)]))}function _g(r){if(r==null)return Au.en;if(typeof r=="string"){const e=Au[r];return e==null&&kc.throwArgumentError("unknown locale","wordlist",r),e}return r}const oa={},Rs="m/44'/60'/0'/0/0";class Yr{constructor(e,t,n,o,i,s,a,l){if(e!==oa)throw new Error("HDNode constructor cannot be called directly");if(t){const f=new Ho(t);ie(this,"privateKey",f.privateKey),ie(this,"publicKey",f.compressedPublicKey)}else ie(this,"privateKey",null),ie(this,"publicKey",me(n));ie(this,"parentFingerprint",o),ie(this,"fingerprint",Jt(Eg(Fi(this.publicKey)),0,4)),ie(this,"address",fo(this.publicKey)),ie(this,"chainCode",i),ie(this,"index",s),ie(this,"depth",a),l==null?(ie(this,"mnemonic",null),ie(this,"path",null)):typeof l=="string"?(ie(this,"mnemonic",null),ie(this,"path",l)):(ie(this,"mnemonic",l),ie(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Kv(Ct([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",me(this.depth),this.parentFingerprint,Bt(me(this.index),4),this.chainCode,this.privateKey!=null?Ct(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Yr(oa,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~ba));const n=new Uint8Array(37);if(e&ba){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(he(this.privateKey),1),t&&(t+="'")}else n.set(he(this.publicKey));for(let p=24;p>=0;p-=8)n[33+(p>>3)]=e>>24-p&255;const o=he(za(Os.sha512,this.chainCode,n)),i=o.slice(0,32),s=o.slice(32);let a=null,l=null;this.privateKey?a=yl(pe.from(i).add(this.privateKey).mod(CT)):l=new Ho(me(i))._addPoint(this.publicKey);let f=t;const u=this.mnemonic;return u&&(f=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new Yr(oa,a,l,this.fingerprint,yl(s),e,this.depth+1,f)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let o=0;o<t.length;o++){const i=t[o];if(i.match(/^[0-9]+'$/)){const s=parseInt(i.substring(0,i.length-1));if(s>=ba)throw new Error("invalid path index - "+i);n=n._derive(ba+s)}else if(i.match(/^[0-9]+$/)){const s=parseInt(i);if(s>=ba)throw new Error("invalid path index - "+i);n=n._derive(s)}else throw new Error("invalid path component - "+i)}return n}static _fromSeed(e,t){const n=he(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const o=he(za(Os.sha512,BT,n));return new Yr(oa,yl(o.slice(0,32)),null,"0x00000000",yl(o.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=_g(n),e=Dc(Uc(e,n),n),Yr._fromSeed(kg(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Yr._fromSeed(e,null)}static fromExtendedKey(e){const t=Bs.decode(e);(t.length!==82||Kv(t.slice(0,78))!==e)&&kc.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],o=me(t.slice(5,9)),i=parseInt(me(t.slice(9,13)).substring(2),16),s=me(t.slice(13,45)),a=t.slice(45,78);switch(me(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Yr(oa,null,me(a),o,s,i,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Yr(oa,me(a.slice(1)),null,o,s,i,n,null)}return kc.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function kg(r,e){e||(e="");const t=Zt("mnemonic"+e,li.NFKD);return Sg(Zt(r,li.NFKD),t,2048,64,"sha512")}function Uc(r,e){e=_g(e),kc.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=he(new Uint8Array(Math.ceil(11*t.length/8)));let o=0;for(let f=0;f<t.length;f++){let u=e.getWordIndex(t[f].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let p=0;p<11;p++)u&1<<10-p&&(n[o>>3]|=1<<7-o%8),o++}const i=32*t.length/3,s=t.length/3,a=L6(s);if((he(Fi(n.slice(0,i/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return me(n.slice(0,i/8))}function Dc(r,e){if(e=_g(e),r=he(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let s=0;s<r.length;s++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[s],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[s]>>8-n,t.push(r[s]&OT(8-n)),n+=3);const o=r.length/4,i=he(Fi(r))[0]&L6(o);return t[t.length-1]<<=o,t[t.length-1]|=i>>8-o,e.join(t.map(s=>e.getWord(s)))}function U6(r,e){try{return Uc(r,e),!0}catch{}return!1}function D6(r){return(typeof r!="number"||r<0||r>=ba||r%1)&&kc.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const RT=Object.freeze(Object.defineProperty({__proto__:null,defaultPath:Rs,HDNode:Yr,mnemonicToSeed:kg,mnemonicToEntropy:Uc,entropyToMnemonic:Dc,isValidMnemonic:U6,getAccountPath:D6},Symbol.toStringTag,{value:"Module"})),NT="random/5.7.0",rp=new J(NT);function LT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const zv=LT();let Wl=zv.crypto||zv.msCrypto;(!Wl||!Wl.getRandomValues)&&(rp.warn("WARNING: Missing strong random number source"),Wl={getRandomValues:function(r){return rp.throwError("no secure random source avaialble",J.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function ms(r){(r<=0||r>1024||r%1||r!=r)&&rp.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return Wl.getRandomValues(e),he(e)}function Tg(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}const UT=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:ms,shuffled:Tg},Symbol.toStringTag,{value:"Module"}));var F6={exports:{}};(function(r,e){(function(t){function n(g){return parseInt(g)===g}function o(g){if(!n(g.length))return!1;for(var h=0;h<g.length;h++)if(!n(g[h])||g[h]<0||g[h]>255)return!1;return!0}function i(g,h){if(g.buffer&&ArrayBuffer.isView(g)&&g.name==="Uint8Array")return h&&(g.slice?g=g.slice():g=Array.prototype.slice.call(g)),g;if(Array.isArray(g)){if(!o(g))throw new Error("Array contains invalid value: "+g);return new Uint8Array(g)}if(n(g.length)&&o(g))return new Uint8Array(g);throw new Error("unsupported array-like object")}function s(g){return new Uint8Array(g)}function a(g,h,S,D,A){(D!=null||A!=null)&&(g.slice?g=g.slice(D,A):g=Array.prototype.slice.call(g,D,A)),h.set(g,S)}var l=function(){function g(S){var D=[],A=0;for(S=encodeURI(S);A<S.length;){var N=S.charCodeAt(A++);N===37?(D.push(parseInt(S.substr(A,2),16)),A+=2):D.push(N)}return i(D)}function h(S){for(var D=[],A=0;A<S.length;){var N=S[A];N<128?(D.push(String.fromCharCode(N)),A++):N>191&&N<224?(D.push(String.fromCharCode((N&31)<<6|S[A+1]&63)),A+=2):(D.push(String.fromCharCode((N&15)<<12|(S[A+1]&63)<<6|S[A+2]&63)),A+=3)}return D.join("")}return{toBytes:g,fromBytes:h}}(),f=function(){function g(D){for(var A=[],N=0;N<D.length;N+=2)A.push(parseInt(D.substr(N,2),16));return A}var h="0123456789abcdef";function S(D){for(var A=[],N=0;N<D.length;N++){var q=D[N];A.push(h[(q&240)>>4]+h[q&15])}return A.join("")}return{toBytes:g,fromBytes:S}}(),u={16:10,24:12,32:14},p=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],_=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],T=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],I=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],B=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],P=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],C=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],L=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],j=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],z=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Y=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],re=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],ge=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],ce=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],be=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Ce(g){for(var h=[],S=0;S<g.length;S+=4)h.push(g[S]<<24|g[S+1]<<16|g[S+2]<<8|g[S+3]);return h}var U=function(g){if(!(this instanceof U))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(g,!0)}),this._prepare()};U.prototype._prepare=function(){var g=u[this.key.length];if(g==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var h=0;h<=g;h++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var S=(g+1)*4,D=this.key.length/4,A=Ce(this.key),N,h=0;h<D;h++)N=h>>2,this._Ke[N][h%4]=A[h],this._Kd[g-N][h%4]=A[h];for(var q=0,G=D,Z;G<S;){if(Z=A[D-1],A[0]^=_[Z>>16&255]<<24^_[Z>>8&255]<<16^_[Z&255]<<8^_[Z>>24&255]^p[q]<<24,q+=1,D!=8)for(var h=1;h<D;h++)A[h]^=A[h-1];else{for(var h=1;h<D/2;h++)A[h]^=A[h-1];Z=A[D/2-1],A[D/2]^=_[Z&255]^_[Z>>8&255]<<8^_[Z>>16&255]<<16^_[Z>>24&255]<<24;for(var h=D/2+1;h<D;h++)A[h]^=A[h-1]}for(var h=0,ae,ne;h<D&&G<S;)ae=G>>2,ne=G%4,this._Ke[ae][ne]=A[h],this._Kd[g-ae][ne]=A[h++],G++}for(var ae=1;ae<g;ae++)for(var ne=0;ne<4;ne++)Z=this._Kd[ae][ne],this._Kd[ae][ne]=re[Z>>24&255]^ge[Z>>16&255]^ce[Z>>8&255]^be[Z&255]},U.prototype.encrypt=function(g){if(g.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var h=this._Ke.length-1,S=[0,0,0,0],D=Ce(g),A=0;A<4;A++)D[A]^=this._Ke[0][A];for(var N=1;N<h;N++){for(var A=0;A<4;A++)S[A]=I[D[A]>>24&255]^B[D[(A+1)%4]>>16&255]^P[D[(A+2)%4]>>8&255]^C[D[(A+3)%4]&255]^this._Ke[N][A];D=S.slice()}for(var q=s(16),G,A=0;A<4;A++)G=this._Ke[h][A],q[4*A]=(_[D[A]>>24&255]^G>>24)&255,q[4*A+1]=(_[D[(A+1)%4]>>16&255]^G>>16)&255,q[4*A+2]=(_[D[(A+2)%4]>>8&255]^G>>8)&255,q[4*A+3]=(_[D[(A+3)%4]&255]^G)&255;return q},U.prototype.decrypt=function(g){if(g.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var h=this._Kd.length-1,S=[0,0,0,0],D=Ce(g),A=0;A<4;A++)D[A]^=this._Kd[0][A];for(var N=1;N<h;N++){for(var A=0;A<4;A++)S[A]=L[D[A]>>24&255]^j[D[(A+3)%4]>>16&255]^z[D[(A+2)%4]>>8&255]^Y[D[(A+1)%4]&255]^this._Kd[N][A];D=S.slice()}for(var q=s(16),G,A=0;A<4;A++)G=this._Kd[h][A],q[4*A]=(T[D[A]>>24&255]^G>>24)&255,q[4*A+1]=(T[D[(A+3)%4]>>16&255]^G>>16)&255,q[4*A+2]=(T[D[(A+2)%4]>>8&255]^G>>8)&255,q[4*A+3]=(T[D[(A+1)%4]&255]^G)&255;return q};var E=function(g){if(!(this instanceof E))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new U(g)};E.prototype.encrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var h=s(g.length),S=s(16),D=0;D<g.length;D+=16)a(g,S,0,D,D+16),S=this._aes.encrypt(S),a(S,h,D);return h},E.prototype.decrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var h=s(g.length),S=s(16),D=0;D<g.length;D+=16)a(g,S,0,D,D+16),S=this._aes.decrypt(S),a(S,h,D);return h};var b=function(g,h){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!h)h=s(16);else if(h.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=i(h,!0),this._aes=new U(g)};b.prototype.encrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var h=s(g.length),S=s(16),D=0;D<g.length;D+=16){a(g,S,0,D,D+16);for(var A=0;A<16;A++)S[A]^=this._lastCipherblock[A];this._lastCipherblock=this._aes.encrypt(S),a(this._lastCipherblock,h,D)}return h},b.prototype.decrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var h=s(g.length),S=s(16),D=0;D<g.length;D+=16){a(g,S,0,D,D+16),S=this._aes.decrypt(S);for(var A=0;A<16;A++)h[D+A]=S[A]^this._lastCipherblock[A];a(g,this._lastCipherblock,0,D,D+16)}return h};var c=function(g,h,S){if(!(this instanceof c))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!h)h=s(16);else if(h.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");S||(S=1),this.segmentSize=S,this._shiftRegister=i(h,!0),this._aes=new U(g)};c.prototype.encrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var h=i(g,!0),S,D=0;D<h.length;D+=this.segmentSize){S=this._aes.encrypt(this._shiftRegister);for(var A=0;A<this.segmentSize;A++)h[D+A]^=S[A];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(h,this._shiftRegister,16-this.segmentSize,D,D+this.segmentSize)}return h},c.prototype.decrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var h=i(g,!0),S,D=0;D<h.length;D+=this.segmentSize){S=this._aes.encrypt(this._shiftRegister);for(var A=0;A<this.segmentSize;A++)h[D+A]^=S[A];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(g,this._shiftRegister,16-this.segmentSize,D,D+this.segmentSize)}return h};var d=function(g,h){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!h)h=s(16);else if(h.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=i(h,!0),this._lastPrecipherIndex=16,this._aes=new U(g)};d.prototype.encrypt=function(g){for(var h=i(g,!0),S=0;S<h.length;S++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),h[S]^=this._lastPrecipher[this._lastPrecipherIndex++];return h},d.prototype.decrypt=d.prototype.encrypt;var v=function(g){if(!(this instanceof v))throw Error("Counter must be instanitated with `new`");g!==0&&!g&&(g=1),typeof g=="number"?(this._counter=s(16),this.setValue(g)):this.setBytes(g)};v.prototype.setValue=function(g){if(typeof g!="number"||parseInt(g)!=g)throw new Error("invalid counter value (must be an integer)");for(var h=15;h>=0;--h)this._counter[h]=g%256,g=g>>8},v.prototype.setBytes=function(g){if(g=i(g,!0),g.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=g},v.prototype.increment=function(){for(var g=15;g>=0;g--)if(this._counter[g]===255)this._counter[g]=0;else{this._counter[g]++;break}};var y=function(g,h){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",h instanceof v||(h=new v(h)),this._counter=h,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new U(g)};y.prototype.encrypt=function(g){for(var h=i(g,!0),S=0;S<h.length;S++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),h[S]^=this._remainingCounter[this._remainingCounterIndex++];return h},y.prototype.decrypt=y.prototype.encrypt;function x(g){g=i(g,!0);var h=16-g.length%16,S=s(g.length+h);a(g,S);for(var D=g.length;D<S.length;D++)S[D]=h;return S}function w(g){if(g=i(g,!0),g.length<16)throw new Error("PKCS#7 invalid length");var h=g[g.length-1];if(h>16)throw new Error("PKCS#7 padding byte out of range");for(var S=g.length-h,D=0;D<h;D++)if(g[S+D]!==h)throw new Error("PKCS#7 invalid padding byte");var A=s(S);return a(g,A,0,0,S),A}var m={AES:U,Counter:v,ModeOfOperation:{ecb:E,cbc:b,cfb:c,ofb:d,ctr:y},utils:{hex:f,utf8:l},padding:{pkcs7:{pad:x,strip:w}},_arrayTest:{coerceArray:i,createArray:s,copyArray:a}};r.exports=m})()})(F6);const Ci=F6.exports,$6="json-wallets/5.7.0";function As(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),he(r)}function Bf(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function Mg(r){return typeof r=="string"?Zt(r,li.NFKC):he(r)}function Xt(r,e){let t=r;const n=e.toLowerCase().split("/");for(let o=0;o<n.length;o++){let i=null;for(const s in t)if(s.toLowerCase()===n[o]){i=t[s];break}if(i===null)return null;t=i}return t}function DT(r){const e=he(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=me(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const FT=new J($6);class $T extends Xo{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Pg(r,e){const t=JSON.parse(r);e=Mg(e);const n=Et(Xt(t,"ethaddr")),o=As(Xt(t,"encseed"));(!o||o.length%16!==0)&&FT.throwArgumentError("invalid encseed","json",r);const i=he(Sg(e,e,2e3,32,"sha256")).slice(0,16),s=o.slice(0,16),a=o.slice(16),l=new Ci.ModeOfOperation.cbc(i,s),f=Ci.padding.pkcs7.strip(he(l.decrypt(a)));let u="";for(let T=0;T<f.length;T++)u+=String.fromCharCode(f[T]);const p=Zt(u),_=Tt(p);return new $T({_isCrowdsaleAccount:!0,address:n,privateKey:_})}function f0(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function c0(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function V6(r){if(f0(r))try{return Et(JSON.parse(r).ethaddr)}catch{return null}if(c0(r))try{return Et(JSON.parse(r).address)}catch{return null}return null}var j6={exports:{}};(function(r,e){(function(t){function o(B){const P=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let C=1779033703,L=3144134277,j=1013904242,z=2773480762,Y=1359893119,re=2600822924,ge=528734635,ce=1541459225;const be=new Uint32Array(64);function Ce(y){let x=0,w=y.length;for(;w>=64;){let m=C,g=L,h=j,S=z,D=Y,A=re,N=ge,q=ce,G,Z,ae,ne,ee;for(Z=0;Z<16;Z++)ae=x+Z*4,be[Z]=(y[ae]&255)<<24|(y[ae+1]&255)<<16|(y[ae+2]&255)<<8|y[ae+3]&255;for(Z=16;Z<64;Z++)G=be[Z-2],ne=(G>>>17|G<<32-17)^(G>>>19|G<<32-19)^G>>>10,G=be[Z-15],ee=(G>>>7|G<<32-7)^(G>>>18|G<<32-18)^G>>>3,be[Z]=(ne+be[Z-7]|0)+(ee+be[Z-16]|0)|0;for(Z=0;Z<64;Z++)ne=(((D>>>6|D<<32-6)^(D>>>11|D<<32-11)^(D>>>25|D<<32-25))+(D&A^~D&N)|0)+(q+(P[Z]+be[Z]|0)|0)|0,ee=((m>>>2|m<<32-2)^(m>>>13|m<<32-13)^(m>>>22|m<<32-22))+(m&g^m&h^g&h)|0,q=N,N=A,A=D,D=S+ne|0,S=h,h=g,g=m,m=ne+ee|0;C=C+m|0,L=L+g|0,j=j+h|0,z=z+S|0,Y=Y+D|0,re=re+A|0,ge=ge+N|0,ce=ce+q|0,x+=64,w-=64}}Ce(B);let U,E=B.length%64,b=B.length/536870912|0,c=B.length<<3,d=E<56?56:120,v=B.slice(B.length-E,B.length);for(v.push(128),U=E+1;U<d;U++)v.push(0);return v.push(b>>>24&255),v.push(b>>>16&255),v.push(b>>>8&255),v.push(b>>>0&255),v.push(c>>>24&255),v.push(c>>>16&255),v.push(c>>>8&255),v.push(c>>>0&255),Ce(v),[C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255,z>>>24&255,z>>>16&255,z>>>8&255,z>>>0&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y>>>0&255,re>>>24&255,re>>>16&255,re>>>8&255,re>>>0&255,ge>>>24&255,ge>>>16&255,ge>>>8&255,ge>>>0&255,ce>>>24&255,ce>>>16&255,ce>>>8&255,ce>>>0&255]}function i(B,P,C){B=B.length<=64?B:o(B);const L=64+P.length+4,j=new Array(L),z=new Array(64);let Y,re=[];for(Y=0;Y<64;Y++)j[Y]=54;for(Y=0;Y<B.length;Y++)j[Y]^=B[Y];for(Y=0;Y<P.length;Y++)j[64+Y]=P[Y];for(Y=L-4;Y<L;Y++)j[Y]=0;for(Y=0;Y<64;Y++)z[Y]=92;for(Y=0;Y<B.length;Y++)z[Y]^=B[Y];function ge(){for(let ce=L-1;ce>=L-4;ce--){if(j[ce]++,j[ce]<=255)return;j[ce]=0}}for(;C>=32;)ge(),re=re.concat(o(z.concat(o(j)))),C-=32;return C>0&&(ge(),re=re.concat(o(z.concat(o(j))).slice(0,C))),re}function s(B,P,C,L,j){let z;for(u(B,(2*C-1)*16,j,0,16),z=0;z<2*C;z++)f(B,z*16,j,16),l(j,L),u(j,0,B,P+z*16,16);for(z=0;z<C;z++)u(B,P+z*2*16,B,z*16,16);for(z=0;z<C;z++)u(B,P+(z*2+1)*16,B,(z+C)*16,16)}function a(B,P){return B<<P|B>>>32-P}function l(B,P){u(B,0,P,0,16);for(let C=8;C>0;C-=2)P[4]^=a(P[0]+P[12],7),P[8]^=a(P[4]+P[0],9),P[12]^=a(P[8]+P[4],13),P[0]^=a(P[12]+P[8],18),P[9]^=a(P[5]+P[1],7),P[13]^=a(P[9]+P[5],9),P[1]^=a(P[13]+P[9],13),P[5]^=a(P[1]+P[13],18),P[14]^=a(P[10]+P[6],7),P[2]^=a(P[14]+P[10],9),P[6]^=a(P[2]+P[14],13),P[10]^=a(P[6]+P[2],18),P[3]^=a(P[15]+P[11],7),P[7]^=a(P[3]+P[15],9),P[11]^=a(P[7]+P[3],13),P[15]^=a(P[11]+P[7],18),P[1]^=a(P[0]+P[3],7),P[2]^=a(P[1]+P[0],9),P[3]^=a(P[2]+P[1],13),P[0]^=a(P[3]+P[2],18),P[6]^=a(P[5]+P[4],7),P[7]^=a(P[6]+P[5],9),P[4]^=a(P[7]+P[6],13),P[5]^=a(P[4]+P[7],18),P[11]^=a(P[10]+P[9],7),P[8]^=a(P[11]+P[10],9),P[9]^=a(P[8]+P[11],13),P[10]^=a(P[9]+P[8],18),P[12]^=a(P[15]+P[14],7),P[13]^=a(P[12]+P[15],9),P[14]^=a(P[13]+P[12],13),P[15]^=a(P[14]+P[13],18);for(let C=0;C<16;++C)B[C]+=P[C]}function f(B,P,C,L){for(let j=0;j<L;j++)C[j]^=B[P+j]}function u(B,P,C,L,j){for(;j--;)C[L++]=B[P++]}function p(B){if(!B||typeof B.length!="number")return!1;for(let P=0;P<B.length;P++){const C=B[P];if(typeof C!="number"||C%1||C<0||C>=256)return!1}return!0}function _(B,P){if(typeof B!="number"||B%1)throw new Error("invalid "+P);return B}function T(B,P,C,L,j,z,Y){if(C=_(C,"N"),L=_(L,"r"),j=_(j,"p"),z=_(z,"dkLen"),C===0||(C&C-1)!==0)throw new Error("N must be power of 2");if(C>2147483647/128/L)throw new Error("N too large");if(L>2147483647/128/j)throw new Error("r too large");if(!p(B))throw new Error("password must be an array or buffer");if(B=Array.prototype.slice.call(B),!p(P))throw new Error("salt must be an array or buffer");P=Array.prototype.slice.call(P);let re=i(B,P,j*128*L);const ge=new Uint32Array(j*32*L);for(let D=0;D<ge.length;D++){const A=D*4;ge[D]=(re[A+3]&255)<<24|(re[A+2]&255)<<16|(re[A+1]&255)<<8|(re[A+0]&255)<<0}const ce=new Uint32Array(64*L),be=new Uint32Array(32*L*C),Ce=32*L,U=new Uint32Array(16),E=new Uint32Array(16),b=j*C*2;let c=0,d=null,v=!1,y=0,x=0,w,m;const g=Y?parseInt(1e3/L):4294967295,h=typeof setImmediate<"u"?setImmediate:setTimeout,S=function(){if(v)return Y(new Error("cancelled"),c/b);let D;switch(y){case 0:m=x*32*L,u(ge,m,ce,0,Ce),y=1,w=0;case 1:D=C-w,D>g&&(D=g);for(let N=0;N<D;N++)u(ce,0,be,(w+N)*Ce,Ce),s(ce,Ce,L,U,E);if(w+=D,c+=D,Y){const N=parseInt(1e3*c/b);if(N!==d){if(v=Y(null,c/b),v)break;d=N}}if(w<C)break;w=0,y=2;case 2:D=C-w,D>g&&(D=g);for(let N=0;N<D;N++){const q=(2*L-1)*16,G=ce[q]&C-1;f(be,G*Ce,ce,Ce),s(ce,Ce,L,U,E)}if(w+=D,c+=D,Y){const N=parseInt(1e3*c/b);if(N!==d){if(v=Y(null,c/b),v)break;d=N}}if(w<C)break;if(u(ce,0,ge,m,Ce),x++,x<j){y=0;break}re=[];for(let N=0;N<ge.length;N++)re.push(ge[N]>>0&255),re.push(ge[N]>>8&255),re.push(ge[N]>>16&255),re.push(ge[N]>>24&255);const A=i(B,re,z);return Y&&Y(null,1,A),A}Y&&h(S)};if(!Y)for(;;){const D=S();if(D!=null)return D}S()}const I={scrypt:function(B,P,C,L,j,z,Y){return new Promise(function(re,ge){let ce=0;Y&&Y(0),T(B,P,C,L,j,z,function(be,Ce,U){if(be)ge(be);else if(U)Y&&ce!==1&&Y(1),re(new Uint8Array(U));else if(Y&&Ce!==ce)return ce=Ce,Y(Ce)})})},syncScrypt:function(B,P,C,L,j,z){return new Uint8Array(T(B,P,C,L,j,z))}};r.exports=I})()})(j6);const Ig=j6.exports;var VT=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const np=new J($6);function Wv(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class jT extends Xo{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function qT(r,e,t){if(Xt(r,"crypto/cipher")==="aes-128-ctr"){const o=As(Xt(r,"crypto/cipherparams/iv")),i=new Ci.Counter(o),s=new Ci.ModeOfOperation.ctr(e,i);return he(s.decrypt(t))}return null}function q6(r,e){const t=As(Xt(r,"crypto/ciphertext"));if(me(Tt(Ct([e.slice(16,32),t]))).substring(2)!==Xt(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const o=qT(r,e.slice(0,16),t);o||np.throwError("unsupported cipher",J.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=e.slice(32,64),s=fo(o);if(r.address){let l=r.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),Et(l)!==s)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:s,privateKey:me(o)};if(Xt(r,"x-ethers/version")==="0.1"){const l=As(Xt(r,"x-ethers/mnemonicCiphertext")),f=As(Xt(r,"x-ethers/mnemonicCounter")),u=new Ci.Counter(f),p=new Ci.ModeOfOperation.ctr(i,u),_=Xt(r,"x-ethers/path")||Rs,T=Xt(r,"x-ethers/locale")||"en",I=he(p.decrypt(l));try{const B=Dc(I,T),P=Yr.fromMnemonic(B,null,T).derivePath(_);if(P.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=P.mnemonic}catch(B){if(B.code!==J.errors.INVALID_ARGUMENT||B.argument!=="wordlist")throw B}}return new jT(a)}function H6(r,e,t,n,o){return he(Sg(r,e,t,n,o))}function HT(r,e,t,n,o){return Promise.resolve(H6(r,e,t,n,o))}function G6(r,e,t,n,o){const i=Mg(e),s=Xt(r,"crypto/kdf");if(s&&typeof s=="string"){const a=function(l,f){return np.throwArgumentError("invalid key-derivation function parameters",l,f)};if(s.toLowerCase()==="scrypt"){const l=As(Xt(r,"crypto/kdfparams/salt")),f=parseInt(Xt(r,"crypto/kdfparams/n")),u=parseInt(Xt(r,"crypto/kdfparams/r")),p=parseInt(Xt(r,"crypto/kdfparams/p"));(!f||!u||!p)&&a("kdf",s),(f&f-1)!==0&&a("N",f);const _=parseInt(Xt(r,"crypto/kdfparams/dklen"));return _!==32&&a("dklen",_),n(i,l,f,u,p,64,o)}else if(s.toLowerCase()==="pbkdf2"){const l=As(Xt(r,"crypto/kdfparams/salt"));let f=null;const u=Xt(r,"crypto/kdfparams/prf");u==="hmac-sha256"?f="sha256":u==="hmac-sha512"?f="sha512":a("prf",u);const p=parseInt(Xt(r,"crypto/kdfparams/c")),_=parseInt(Xt(r,"crypto/kdfparams/dklen"));return _!==32&&a("dklen",_),t(i,l,p,_,f)}}return np.throwArgumentError("unsupported key-derivation function","kdf",s)}function K6(r,e){const t=JSON.parse(r),n=G6(t,e,H6,Ig.syncScrypt);return q6(t,n)}function z6(r,e,t){return VT(this,void 0,void 0,function*(){const n=JSON.parse(r),o=yield G6(n,e,HT,Ig.scrypt,t);return q6(n,o)})}function W6(r,e,t,n){try{if(Et(r.address)!==fo(r.privateKey))throw new Error("address/privateKey mismatch");if(Wv(r)){const P=r.mnemonic;if(Yr.fromMnemonic(P.phrase,null,P.locale).derivePath(P.path||Rs).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(P){return Promise.reject(P)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const o=he(r.privateKey),i=Mg(e);let s=null,a=null,l=null;if(Wv(r)){const P=r.mnemonic;s=he(Uc(P.phrase,P.locale||"en")),a=P.path||Rs,l=P.locale||"en"}let f=t.client;f||(f="ethers.js");let u=null;t.salt?u=he(t.salt):u=ms(32);let p=null;if(t.iv){if(p=he(t.iv),p.length!==16)throw new Error("invalid iv")}else p=ms(16);let _=null;if(t.uuid){if(_=he(t.uuid),_.length!==16)throw new Error("invalid uuid")}else _=ms(16);let T=1<<17,I=8,B=1;return t.scrypt&&(t.scrypt.N&&(T=t.scrypt.N),t.scrypt.r&&(I=t.scrypt.r),t.scrypt.p&&(B=t.scrypt.p)),Ig.scrypt(i,u,T,I,B,64,n).then(P=>{P=he(P);const C=P.slice(0,16),L=P.slice(16,32),j=P.slice(32,64),z=new Ci.Counter(p),Y=new Ci.ModeOfOperation.ctr(C,z),re=he(Y.encrypt(o)),ge=Tt(Ct([L,re])),ce={address:r.address.substring(2).toLowerCase(),id:DT(_),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:me(p).substring(2)},ciphertext:me(re).substring(2),kdf:"scrypt",kdfparams:{salt:me(u).substring(2),n:T,dklen:32,p:B,r:I},mac:ge.substring(2)}};if(s){const be=ms(16),Ce=new Ci.Counter(be),U=new Ci.ModeOfOperation.ctr(j,Ce),E=he(U.encrypt(s)),b=new Date,c=b.getUTCFullYear()+"-"+Bf(b.getUTCMonth()+1,2)+"-"+Bf(b.getUTCDate(),2)+"T"+Bf(b.getUTCHours(),2)+"-"+Bf(b.getUTCMinutes(),2)+"-"+Bf(b.getUTCSeconds(),2)+".0Z";ce["x-ethers"]={client:f,gethFilename:"UTC--"+c+"--"+ce.address,mnemonicCounter:me(be).substring(2),mnemonicCiphertext:me(E).substring(2),path:a,locale:l,version:"0.1"}}return JSON.stringify(ce)})}function J6(r,e,t){if(f0(r)){t&&t(0);const n=Pg(r,e);return t&&t(1),Promise.resolve(n)}return c0(r)?z6(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function Q6(r,e){if(f0(r))return Pg(r,e);if(c0(r))return K6(r,e);throw new Error("invalid JSON wallet")}const GT=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:Pg,decryptKeystore:z6,decryptKeystoreSync:K6,encryptKeystore:W6,isCrowdsaleWallet:f0,isKeystoreWallet:c0,getJsonWalletAddress:V6,decryptJsonWallet:J6,decryptJsonWalletSync:Q6},Symbol.toStringTag,{value:"Module"})),KT="wallet/5.7.0";var Jv=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const sa=new J(KT);function zT(r){return r!=null&&Je(r.privateKey,32)&&r.address!=null}function WT(r){const e=r.mnemonic;return e&&e.phrase}class ro extends Ao{constructor(e,t){if(super(),zT(e)){const n=new Ho(e.privateKey);if(ie(this,"_signingKey",()=>n),ie(this,"address",fo(this.publicKey)),this.address!==Et(e.address)&&sa.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),WT(e)){const o=e.mnemonic;ie(this,"_mnemonic",()=>({phrase:o.phrase,path:o.path||Rs,locale:o.locale||"en"}));const i=this.mnemonic,s=Yr.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path);fo(s.privateKey)!==this.address&&sa.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ie(this,"_mnemonic",()=>null)}else{if(Ho.isSigningKey(e))e.curve!=="secp256k1"&&sa.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ie(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Ho(e);ie(this,"_signingKey",()=>n)}ie(this,"_mnemonic",()=>null),ie(this,"address",fo(this.publicKey))}t&&!qs.isProvider(t)&&sa.throwArgumentError("invalid provider","provider",t),ie(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new ro(this,e)}signTransaction(e){return Ht(e).then(t=>{t.from!=null&&(Et(t.from)!==this.address&&sa.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(Tt(yu(t)));return yu(t,n)})}signMessage(e){return Jv(this,void 0,void 0,function*(){return uu(this._signingKey().signDigest(Nc(e)))})}_signTypedData(e,t,n){return Jv(this,void 0,void 0,function*(){const o=yield cr.resolveNames(e,t,n,i=>(this.provider==null&&sa.throwError("cannot resolve ENS names without a provider",J.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:i}),this.provider.resolveName(i)));return uu(this._signingKey().signDigest(cr.hash(o.domain,t,o.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),W6(this,e,t,n)}static createRandom(e){let t=ms(16);e||(e={}),e.extraEntropy&&(t=he(Jt(Tt(Ct([t,e.extraEntropy])),0,16)));const n=Dc(t,e.locale);return ro.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return J6(e,t,n).then(o=>new ro(o))}static fromEncryptedJsonSync(e,t){return new ro(Q6(e,t))}static fromMnemonic(e,t,n){return t||(t=Rs),new ro(Yr.fromMnemonic(e,null,n).derivePath(t))}}function Y6(r,e){return Ks(Nc(r),e)}function Z6(r,e,t,n){return Ks(cr.hash(r,e,t),n)}const JT=Object.freeze(Object.defineProperty({__proto__:null,Wallet:ro,verifyMessage:Y6,verifyTypedData:Z6},Symbol.toStringTag,{value:"Module"})),QT="networks/5.7.1",Qv=new J(QT);function YT(r){return r&&typeof r.renetwork=="function"}function to(r){const e=function(t,n){n==null&&(n={});const o=[];if(t.InfuraProvider&&n.infura!=="-")try{o.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider&&n.etherscan!=="-")try{o.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider&&n.alchemy!=="-")try{o.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider&&n.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const s=new t.PocketProvider(r,n.pocket);s.network&&i.indexOf(s.network.name)===-1&&o.push(s)}catch{}}if(t.CloudflareProvider&&n.cloudflare!=="-")try{o.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&n.ankr!=="-")try{const i=["ropsten"],s=new t.AnkrProvider(r,n.ankr);s.network&&i.indexOf(s.network.name)===-1&&o.push(s)}catch{}if(o.length===0)return null;if(t.FallbackProvider){let i=1;return n.quorum!=null?i=n.quorum:r==="homestead"&&(i=2),new t.FallbackProvider(o,i)}return o[0]};return e.renetwork=function(t){return to(t)},e}function Eu(r,e){const t=function(n,o){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return Eu(r,n)},t}const Yv={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:to("homestead")},Zv={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:to("ropsten")},Xv={chainId:63,name:"classicMordor",_defaultProvider:Eu("https://www.ethercluster.com/mordor","classicMordor")},xl={unspecified:{chainId:0,name:"unspecified"},homestead:Yv,mainnet:Yv,morden:{chainId:2,name:"morden"},ropsten:Zv,testnet:Zv,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:to("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:to("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:to("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:to("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Eu("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Xv,classicTestnet:Xv,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Eu("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:to("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:to("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Cg(r){if(r==null)return null;if(typeof r=="number"){for(const n in xl){const o=xl[n];if(o.chainId===r)return{name:o.name,chainId:o.chainId,ensAddress:o.ensAddress||null,_defaultProvider:o._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=xl[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=xl[r.name];if(!e)return typeof r.chainId!="number"&&Qv.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&Qv.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(YT(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const ZT="web/5.7.1";var XT=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};function eM(r,e){return XT(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(t.mode=s.mode),s.cache&&(t.cache=s.cache),s.credentials&&(t.credentials=s.credentials),s.redirect&&(t.redirect=s.redirect),s.referrer&&(t.referrer=s.referrer)}const n=yield fetch(r,t),o=yield n.arrayBuffer(),i={};return n.headers.forEach?n.headers.forEach((s,a)=>{i[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{i[s.toLowerCase()]=n.headers.get(s)}),{headers:i,statusCode:n.status,statusMessage:n.statusText,body:he(new Uint8Array(o))}})}var tM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Jn=new J(ZT);function em(r){return new Promise(e=>{setTimeout(e,r)})}function Oo(r,e){if(r==null)return null;if(typeof r=="string")return r;if(ff(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return wo(r)}catch{}return me(r)}return r}function rM(r){return Zt(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Bg(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;Jn.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const o=typeof r=="object"?r.throttleCallback:null,i=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;Jn.assertArgument(i>0&&i%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const s=typeof r=="object"?!!r.errorPassThrough:!1,a={};let l=null;const f={method:"GET"};let u=!1,p=2*60*1e3;if(typeof r=="string")l=r;else if(typeof r=="object"){if((r==null||r.url==null)&&Jn.throwArgumentError("missing URL","connection.url",r),l=r.url,typeof r.timeout=="number"&&r.timeout>0&&(p=r.timeout),r.headers)for(const C in r.headers)a[C.toLowerCase()]={key:C,value:String(r.headers[C])},["if-none-match","if-modified-since"].indexOf(C.toLowerCase())>=0&&(u=!0);if(f.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){l.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&Jn.throwError("basic authentication requires a secure https url",J.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:r.user,password:"[REDACTED]"});const C=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+ug(Zt(C))}}r.skipFetchSetup!=null&&(f.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(f.fetchOptions=Rt(r.fetchOptions))}const _=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),T=l?l.match(_):null;if(T)try{const C={statusCode:200,statusMessage:"OK",headers:{"content-type":T[1]||"text/plain"},body:T[2]?lg(T[3]):rM(T[3])};let L=C.body;return t&&(L=t(C.body,C)),Promise.resolve(L)}catch(C){Jn.throwError("processing response error",J.errors.SERVER_ERROR,{body:Oo(T[1],T[2]),error:C,requestBody:null,requestMethod:"GET",url:l})}e&&(f.method="POST",f.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const I={};Object.keys(a).forEach(C=>{const L=a[C];I[L.key]=L.value}),f.headers=I;const B=function(){let C=null;return{promise:new Promise(function(z,Y){p&&(C=setTimeout(()=>{C!=null&&(C=null,Y(Jn.makeError("timeout",J.errors.TIMEOUT,{requestBody:Oo(f.body,I["content-type"]),requestMethod:f.method,timeout:p,url:l})))},p))}),cancel:function(){C!=null&&(clearTimeout(C),C=null)}}}(),P=function(){return tM(this,void 0,void 0,function*(){for(let C=0;C<n;C++){let L=null;try{if(L=yield eM(l,f),C<n){if(L.statusCode===301||L.statusCode===302){const z=L.headers.location||"";if(f.method==="GET"&&z.match(/^https:/)){l=L.headers.location;continue}}else if(L.statusCode===429){let z=!0;if(o&&(z=yield o(C,l)),z){let Y=0;const re=L.headers["retry-after"];typeof re=="string"&&re.match(/^[1-9][0-9]*$/)?Y=parseInt(re)*1e3:Y=i*parseInt(String(Math.random()*Math.pow(2,C))),yield em(Y);continue}}}}catch(z){L=z.response,L==null&&(B.cancel(),Jn.throwError("missing response",J.errors.SERVER_ERROR,{requestBody:Oo(f.body,I["content-type"]),requestMethod:f.method,serverError:z,url:l}))}let j=L.body;if(u&&L.statusCode===304?j=null:!s&&(L.statusCode<200||L.statusCode>=300)&&(B.cancel(),Jn.throwError("bad response",J.errors.SERVER_ERROR,{status:L.statusCode,headers:L.headers,body:Oo(j,L.headers?L.headers["content-type"]:null),requestBody:Oo(f.body,I["content-type"]),requestMethod:f.method,url:l})),t)try{const z=yield t(j,L);return B.cancel(),z}catch(z){if(z.throttleRetry&&C<n){let Y=!0;if(o&&(Y=yield o(C,l)),Y){const re=i*parseInt(String(Math.random()*Math.pow(2,C)));yield em(re);continue}}B.cancel(),Jn.throwError("processing response error",J.errors.SERVER_ERROR,{body:Oo(j,L.headers?L.headers["content-type"]:null),error:z,requestBody:Oo(f.body,I["content-type"]),requestMethod:f.method,url:l})}return B.cancel(),j}return Jn.throwError("failed response",J.errors.SERVER_ERROR,{requestBody:Oo(f.body,I["content-type"]),requestMethod:f.method,url:l})})}();return Promise.race([B.promise,P])}function Ws(r,e,t){let n=(i,s)=>{let a=null;if(i!=null)try{a=JSON.parse(wo(i))}catch(l){Jn.throwError("invalid JSON",J.errors.SERVER_ERROR,{body:i,error:l})}return t&&(a=t(a,s)),a},o=null;if(e!=null){o=Zt(e);const i=typeof r=="string"?{url:r}:Rt(r);i.headers?Object.keys(i.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(i.headers=Rt(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},r=i}return Bg(r,o,n)}function Fo(r,e){return e||(e={}),e=Rt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let o=null,i=!1;const s=()=>i?!1:(i=!0,o&&clearTimeout(o),!0);e.timeout&&(o=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function f(){return r().then(function(u){if(u!==void 0)s()&&t(u);else if(e.oncePoll)e.oncePoll.once("poll",f);else if(e.onceBlock)e.onceBlock.once("block",f);else if(!i){if(l++,l>a){s()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(f,p)}return null},function(u){s()&&n(u)})}f()})}const nM=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:Bg,fetchJson:Ws,poll:Fo},Symbol.toStringTag,{value:"Module"}));var Su="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ip={};for(var wl=0;wl<Su.length;wl++){var Qh=Su.charAt(wl);if(ip[Qh]!==void 0)throw new TypeError(Qh+" is ambiguous");ip[Qh]=wl}function Oa(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function X6(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=Oa(e)^n>>5}for(e=Oa(e),t=0;t<r.length;++t){var o=r.charCodeAt(t);e=Oa(e)^o&31}return e}function iM(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=X6(r);if(typeof n=="string")throw new Error(n);for(var o=r+"1",i=0;i<e.length;++i){var s=e[i];if(s>>5!==0)throw new Error("Non 5-bit word");n=Oa(n)^s,o+=Su.charAt(s)}for(i=0;i<6;++i)n=Oa(n);for(n^=1,i=0;i<6;++i){var a=n>>(5-i)*5&31;o+=Su.charAt(a)}return o}function ew(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var o=r.lastIndexOf("1");if(o===-1)return"No separator character for "+r;if(o===0)return"Missing prefix for "+r;var i=r.slice(0,o),s=r.slice(o+1);if(s.length<6)return"Data too short";var a=X6(i);if(typeof a=="string")return a;for(var l=[],f=0;f<s.length;++f){var u=s.charAt(f),p=ip[u];if(p===void 0)return"Unknown character "+u;a=Oa(a)^p,!(f+6>=s.length)&&l.push(p)}return a!==1?"Invalid checksum for "+r:{prefix:i,words:l}}function oM(){var r=ew.apply(null,arguments);if(typeof r=="object")return r}function sM(r){var e=ew.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function l0(r,e,t,n){for(var o=0,i=0,s=(1<<t)-1,a=[],l=0;l<r.length;++l)for(o=o<<e|r[l],i+=e;i>=t;)i-=t,a.push(o>>i&s);if(n)i>0&&a.push(o<<t-i&s);else{if(i>=e)return"Excess padding";if(o<<t-i&s)return"Non-zero padding"}return a}function aM(r){var e=l0(r,8,5,!0);if(Array.isArray(e))return e}function fM(r){var e=l0(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function cM(r){var e=l0(r,5,8,!1);if(Array.isArray(e))return e}function lM(r){var e=l0(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var uM={decodeUnsafe:oM,decode:sM,encode:iM,toWordsUnsafe:aM,toWords:fM,fromWordsUnsafe:cM,fromWords:lM};const tm=uM,Lr="providers/5.7.2",Of=new J(Lr);class Oe{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),o=this.blockTag.bind(this),i=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),f=this.type.bind(this),u=p=>this.data(p,!0);return e.transaction={hash:s,type:f,accessList:Oe.allowNull(this.accessList.bind(this),null),blockHash:Oe.allowNull(s,null),blockNumber:Oe.allowNull(l,null),transactionIndex:Oe.allowNull(l,null),confirmations:Oe.allowNull(l,null),from:t,gasPrice:Oe.allowNull(n),maxPriorityFeePerGas:Oe.allowNull(n),maxFeePerGas:Oe.allowNull(n),gasLimit:n,to:Oe.allowNull(t,null),value:n,nonce:l,data:i,r:Oe.allowNull(this.uint256),s:Oe.allowNull(this.uint256),v:Oe.allowNull(l),creates:Oe.allowNull(t,null),raw:Oe.allowNull(i)},e.transactionRequest={from:Oe.allowNull(t),nonce:Oe.allowNull(l),gasLimit:Oe.allowNull(n),gasPrice:Oe.allowNull(n),maxPriorityFeePerGas:Oe.allowNull(n),maxFeePerGas:Oe.allowNull(n),to:Oe.allowNull(t),value:Oe.allowNull(n),data:Oe.allowNull(u),type:Oe.allowNull(l),accessList:Oe.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:t,topics:Oe.arrayOf(s),data:i,logIndex:l,blockHash:s},e.receipt={to:Oe.allowNull(this.address,null),from:Oe.allowNull(this.address,null),contractAddress:Oe.allowNull(t,null),transactionIndex:l,root:Oe.allowNull(a),gasUsed:n,logsBloom:Oe.allowNull(i),blockHash:s,transactionHash:s,logs:Oe.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:Oe.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:Oe.allowNull(n),status:Oe.allowNull(l),type:f},e.block={hash:Oe.allowNull(s),parentHash:s,number:l,timestamp:l,nonce:Oe.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Oe.allowNull(t),extraData:i,transactions:Oe.allowNull(Oe.arrayOf(s)),baseFeePerGas:Oe.allowNull(n)},e.blockWithTransactions=Rt(e.block),e.blockWithTransactions.transactions=Oe.allowNull(Oe.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Oe.allowNull(o,void 0),toBlock:Oe.allowNull(o,void 0),blockHash:Oe.allowNull(s,void 0),address:Oe.allowNull(t,void 0),topics:Oe.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Oe.allowNull(l),blockHash:Oe.allowNull(s),transactionIndex:l,removed:Oe.allowNull(this.boolean.bind(this)),address:t,data:Oe.allowFalsish(i,"0x"),topics:Oe.arrayOf(s),transactionHash:s,logIndex:l},e}accessList(e){return Eo(e||[])}number(e){return e==="0x"?0:pe.from(e).toNumber()}type(e){return e==="0x"||e==null?0:pe.from(e).toNumber()}bigNumber(e){return pe.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Je(e))?e.toLowerCase():Of.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Et(e)}callAddress(e){if(!Je(e,32))return null;const t=Et(Jt(e,12));return t===R3?null:t}contractAddress(e){return Rc(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Je(e))return cf(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return ci(n)!==32?Of.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=pe.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Je(e))throw new Error("invalid uint256");return Bt(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,o=Oe.check(t,e);return o._difficulty=n==null?null:pe.from(n),o}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Oe.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&pe.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=Oe.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Je(n)&&(n=pe.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),Je(n)&&(n=pe.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return xg(e)}receiptLog(e){return Oe.check(this.formats.receiptLog,e)}receipt(e){const t=Oe.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=pe.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&Of.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):Of.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&Of.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return Oe.check(this.formats.filter,e)}filterLog(e){return Oe.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const o in e)try{const i=e[o](t[o]);i!==void 0&&(n[o]=i)}catch(i){throw i.checkKey=o,i.checkValue=t[o],i}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(o){n.push(e(o))}),n}}}function tw(r){return r&&typeof r.isCommunityResource=="function"}function op(r){return tw(r)&&r.isCommunityResource()}let rm=!1;function Fc(){rm||(rm=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var We=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const rt=new J(Lr),hM=10;function nm(r){return r==null?"null":(ci(r)!==32&&rt.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function im(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(o=>{t[nm(o)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return nm(e)}).join("&")}function dM(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function aa(r){if(typeof r=="string"){if(r=r.toLowerCase(),ci(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+im(r);if(y_.isForkEvent(r))throw rt.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+im(r.topics||[])}throw new Error("invalid event - "+r)}function Rf(){return new Date().getTime()}function om(r){return new Promise(e=>{setTimeout(e,r)})}const pM=["block","network","pending","poll"];class gM{constructor(e,t,n){ie(this,"tag",e),ie(this,"listener",t),ie(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=dM(e[2]),o={};return n.length>0&&(o.topics=n),t&&t!=="*"&&(o.address=t),o}pollable(){return this.tag.indexOf(":")>=0||pM.indexOf(this.tag)>=0}}const bM={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Yh(r){return Bt(pe.from(r).toHexString(),32)}function sm(r){return Bs.encode(Ct([r,Jt(Fi(Fi(r)),0,4)]))}const rw=new RegExp("^(ipfs)://(.*)$","i"),am=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),rw,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Jl(r,e){try{return wo(Tc(r,e))}catch{}return null}function Tc(r,e){if(r==="0x")return null;const t=pe.from(Jt(r,e,e+32)).toNumber(),n=pe.from(Jt(r,t,t+32)).toNumber();return Jt(r,t+32,t+32+n)}function Zh(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):rt.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function fm(r){const e=he(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function vM(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function nw(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(null),t+=32;for(let n=0;n<r.length;n++){const o=he(r[n]);e[n]=fm(t),e.push(fm(o.length)),e.push(vM(o)),t+=32+Math.ceil(o.length/32)*32}return Pr(e)}class sp{constructor(e,t,n,o){ie(this,"provider",e),ie(this,"name",n),ie(this,"address",e.formatter.address(t)),ie(this,"_resolvedAddress",o)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>pe.from(e).eq(1)).catch(e=>{if(e.code===J.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return We(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Pr([e,Ba(this.name),t||"0x"])};let o=!1;(yield this.supportsWildcard())&&(o=!0,n.data=Pr(["0x9061b923",nw([hg(this.name),n.data])]));try{let i=yield this.provider.call(n);return he(i).length%32===4&&rt.throwError("resolver threw error",J.errors.CALL_EXCEPTION,{transaction:n,data:i}),o&&(i=Tc(i,0)),i}catch(i){if(i.code===J.errors.CALL_EXCEPTION)return null;throw i}})}_fetchBytes(e,t){return We(this,void 0,void 0,function*(){const n=yield this._fetch(e,t);return n!=null?Tc(n,0):null})}_getAddress(e,t){const n=bM[String(e)];if(n==null&&rt.throwError(`unsupported coin type: ${e}`,J.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const o=he(t);if(n.p2pkh!=null){const i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){const s=parseInt(i[1],16);if(i[2].length===s*2&&s>=1&&s<=75)return sm(Ct([[n.p2pkh],"0x"+i[2]]))}}if(n.p2sh!=null){const i=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(i){const s=parseInt(i[1],16);if(i[2].length===s*2&&s>=1&&s<=75)return sm(Ct([[n.p2sh],"0x"+i[2]]))}}if(n.prefix!=null){const i=o[1];let s=o[0];if(s===0?i!==20&&i!==32&&(s=-1):s=-1,s>=0&&o.length===2+i&&i>=1&&i<=75){const a=tm.toWords(o.slice(2));return a.unshift(s),tm.encode(n.prefix,a)}}return null}getAddress(e){return We(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const o=yield this._fetch("0x3b3b57de");return o==="0x"||o===ng?null:this.provider.formatter.callAddress(o)}catch(o){if(o.code===J.errors.CALL_EXCEPTION)return null;throw o}const t=yield this._fetchBytes("0xf1cb7e06",Yh(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&rt.throwError("invalid or unsupported coin data",J.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return We(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<am.length;n++){const o=t.match(am[n]);if(o==null)continue;const i=o[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Zh(t)};case"erc721":case"erc1155":{const s=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const a=this._resolvedAddress||(yield this.getAddress()),l=(o[2]||"").split("/");if(l.length!==2)return null;const f=yield this.provider.formatter.address(l[0]),u=Bt(pe.from(l[1]).toHexString(),32);if(i==="erc721"){const B=this.provider.formatter.callAddress(yield this.provider.call({to:f,data:Pr(["0x6352211e",u])}));if(a!==B)return null;e.push({type:"owner",content:B})}else if(i==="erc1155"){const B=pe.from(yield this.provider.call({to:f,data:Pr(["0x00fdd58e",Bt(a,32),u])}));if(B.isZero())return null;e.push({type:"balance",content:B.toString()})}const p={to:this.provider.formatter.address(l[0]),data:Pr([s,u])};let _=Jl(yield this.provider.call(p),0);if(_==null)return null;e.push({type:"metadata-url-base",content:_}),i==="erc1155"&&(_=_.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:_})),_.match(/^ipfs:/i)&&(_=Zh(_)),e.push({type:"metadata-url",content:_});const T=yield Ws(_);if(!T)return null;e.push({type:"metadata",content:JSON.stringify(T)});let I=T.image;if(typeof I!="string")return null;if(!I.match(/^(https:\/\/|data:)/i)){if(I.match(rw)==null)return null;e.push({type:"url-ipfs",content:I}),I=Zh(I)}return e.push({type:"url",content:I}),{linkage:e,url:I}}}}}catch{}return null})}getContentHash(){return We(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=parseInt(t[3],16);if(t[4].length===s*2)return"ipfs://"+Bs.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+Bs.encode("0x"+n[1])}const o=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(o&&o[1].length===32*2)return"bzz://"+o[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&i[1].length===34*2){const s={"=":"","+":"-","/":"_"},a=ug("0x"+i[1]).replace(/[=+\/]/g,l=>s[l]);return"sia://"+a}return rt.throwError("invalid or unsupported content hash data",J.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return We(this,void 0,void 0,function*(){let t=Zt(e);t=Ct([Yh(64),Yh(t.length),t]),t.length%32!==0&&(t=Ct([t,Bt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",me(t));return n==null||n==="0x"?null:wo(n)})}}let Xh=null,mM=1;class u0 extends qs{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ie(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=ur(new.target,"getNetwork")(e);t?(ie(this,"_network",t),this.emit("network",t,null)):rt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return We(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||rt.throwError("no network detected",J.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ie(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Fo(()=>this._ready().then(e=>e,e=>{if(!(e.code===J.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Xh==null&&(Xh=new Oe),Xh}static getNetwork(e){return Cg(e??"homestead")}ccipReadFetch(e,t,n){return We(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const o=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const l=n[a],f=l.replace("{sender}",o).replace("{data}",i),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:o}),p=yield Ws({url:f,errorPassThrough:!0},u,(T,I)=>(T.status=I.statusCode,T));if(p.data)return p.data;const _=p.message||"unknown error";if(p.status>=400&&p.status<500)return rt.throwError(`response not found during CCIP fetch: ${_}`,J.errors.SERVER_ERROR,{url:l,errorMessage:_});s.push(_)}return rt.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,J.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return We(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const o=this._internalBlockNumber;try{const i=yield o;if(Rf()-i.respTime<=e)return i.blockNumber;break}catch{if(this._internalBlockNumber===o)break}}const t=Rf(),n=Ht({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(o=>null,o=>o)}).then(({blockNumber:o,networkError:i})=>{if(i)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),i;const s=Rf();return o=pe.from(o).toNumber(),o<this._maxInternalBlockNumber&&(o=this._maxInternalBlockNumber),this._maxInternalBlockNumber=o,this._setFastBlockNumber(o),{blockNumber:o,reqTime:t,respTime:s}});return this._internalBlockNumber=n,n.catch(o=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return We(this,void 0,void 0,function*(){const e=mM++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(o){this.emit("error",o);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)rt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",rt.makeError("network block skew detected",J.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let o=this._emitted.block+1;o<=n;o++)this.emit("block",o);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(o=>{if(o==="block")return;const i=this._emitted[o];i!=="pending"&&n-i>12&&delete this._emitted[o]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(o=>{switch(o.type){case"tx":{const i=o.hash;let s=this.getTransactionReceipt(i).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+i]=a.blockNumber,this.emit(i,a)),null)).catch(a=>{this.emit("error",a)});t.push(s);break}case"filter":{if(!o._inflight){o._inflight=!0,o._lastBlockNumber===-2&&(o._lastBlockNumber=n-1);const i=o.filter;i.fromBlock=o._lastBlockNumber+1,i.toBlock=n;const s=i.toBlock-this._maxFilterBlockRange;s>i.fromBlock&&(i.fromBlock=s),i.fromBlock<0&&(i.fromBlock=0);const a=this.getLogs(i).then(l=>{o._inflight=!1,l.length!==0&&l.forEach(f=>{f.blockNumber>o._lastBlockNumber&&(o._lastBlockNumber=f.blockNumber),this._emitted["b:"+f.blockHash]=f.blockNumber,this._emitted["t:"+f.transactionHash]=f.blockNumber,this.emit(i,f)})}).catch(l=>{this.emit("error",l),o._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(o=>{this.emit("error",o)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return We(this,void 0,void 0,function*(){return rt.throwError("provider does not support network detection",J.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return We(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield om(0),this._network;const n=rt.makeError("underlying network changed",J.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Rf();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Rf(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return We(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,n||0,null)})}_waitForTransaction(e,t,n,o){return We(this,void 0,void 0,function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((s,a)=>{const l=[];let f=!1;const u=function(){return f?!0:(f=!0,l.forEach(_=>{_()}),!1)},p=_=>{_.confirmations<t||u()||s(_)};if(this.on(e,p),l.push(()=>{this.removeListener(e,p)}),o){let _=o.startBlock,T=null;const I=B=>We(this,void 0,void 0,function*(){f||(yield om(1e3),this.getTransactionCount(o.from).then(P=>We(this,void 0,void 0,function*(){if(!f){if(P<=o.nonce)_=B;else{{const C=yield this.getTransaction(e);if(C&&C.blockNumber!=null)return}for(T==null&&(T=_-3,T<o.startBlock&&(T=o.startBlock));T<=B;){if(f)return;const C=yield this.getBlockWithTransactions(T);for(let L=0;L<C.transactions.length;L++){const j=C.transactions[L];if(j.hash===e)return;if(j.from===o.from&&j.nonce===o.nonce){if(f)return;const z=yield this.waitForTransaction(j.hash,t);if(u())return;let Y="replaced";j.data===o.data&&j.to===o.to&&j.value.eq(o.value)?Y="repriced":j.data==="0x"&&j.from===j.to&&j.value.isZero()&&(Y="cancelled"),a(rt.makeError("transaction was replaced",J.errors.TRANSACTION_REPLACED,{cancelled:Y==="replaced"||Y==="cancelled",reason:Y,replacement:this._wrapTransaction(j),hash:e,receipt:z}));return}}T++}}f||this.once("block",I)}}),P=>{f||this.once("block",I)}))});if(f)return;this.once("block",I),l.push(()=>{this.removeListener("block",I)})}if(typeof n=="number"&&n>0){const _=setTimeout(()=>{u()||a(rt.makeError("timeout exceeded",J.errors.TIMEOUT,{timeout:n}))},n);_.unref&&_.unref(),l.push(()=>{clearTimeout(_)})}})})}getBlockNumber(){return We(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return We(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return pe.from(e)}catch(t){return rt.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ht({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getBalance",n);try{return pe.from(o)}catch(i){return rt.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getBalance",params:n,result:o,error:i})}})}getTransactionCount(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ht({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getTransactionCount",n);try{return pe.from(o).toNumber()}catch(i){return rt.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:o,error:i})}})}getCode(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ht({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getCode",n);try{return me(o)}catch(i){return rt.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getCode",params:n,result:o,error:i})}})}getStorageAt(e,t,n){return We(this,void 0,void 0,function*(){yield this.getNetwork();const o=yield Ht({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(s=>cf(s))}),i=yield this.perform("getStorageAt",o);try{return me(i)}catch(s){return rt.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getStorageAt",params:o,result:i,error:s})}})}_wrapTransaction(e,t,n){if(t!=null&&ci(t)!==32)throw new Error("invalid response - sendTransaction");const o=e;return t!=null&&e.hash!==t&&rt.throwError("Transaction hash mismatch from Provider.sendTransaction.",J.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),o.wait=(i,s)=>We(this,void 0,void 0,function*(){i==null&&(i=1),s==null&&(s=0);let a;i!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,i,s,a);return l==null&&i===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&rt.throwError("transaction failed",J.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),o}sendTransaction(e){return We(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(i=>me(i)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const o=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const i=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,i,o)}catch(i){throw i.transaction=n,i.transactionHash=n.hash,i}})}_getTransactionRequest(e){return We(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i?this._getAddress(i):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i?pe.from(i):null))}),["type"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i??null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i?me(i):null))}),this.formatter.transactionRequest(yield Ht(n))})}_getFilter(e){return We(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Ht(t))})}_call(e,t,n){return We(this,void 0,void 0,function*(){n>=hM&&rt.throwError("CCIP read exceeded maximum redirections",J.errors.SERVER_ERROR,{redirects:n,transaction:e});const o=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&t==="latest"&&o!=null&&i.substring(0,10)==="0x556f1830"&&ci(i)%32===4)try{const s=Jt(i,4),a=Jt(s,0,32);pe.from(a).eq(o)||rt.throwError("CCIP Read sender did not match",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const l=[],f=pe.from(Jt(s,32,64)).toNumber(),u=pe.from(Jt(s,f,f+32)).toNumber(),p=Jt(s,f+32);for(let C=0;C<u;C++){const L=Jl(p,C*32);L==null&&rt.throwError("CCIP Read contained corrupt URL string",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),l.push(L)}const _=Tc(s,64);pe.from(Jt(s,100,128)).isZero()||rt.throwError("CCIP Read callback selector included junk",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const T=Jt(s,96,100),I=Tc(s,128),B=yield this.ccipReadFetch(e,_,l);B==null&&rt.throwError("CCIP Read disabled or provided no URLs",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const P={to:o,data:Pr([T,nw([B,I])])};return this._call(P,t,n+1)}catch(s){if(s.code===J.errors.SERVER_ERROR)throw s}try{return me(i)}catch(s){return rt.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:s})}})}call(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ht({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return We(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Ht({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return pe.from(n)}catch(o){return rt.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:o})}})}_getAddress(e){return We(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&rt.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&rt.throwError("ENS name not configured",J.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const o={includeTransactions:!!t};if(Je(e,32))o.blockHash=e;else try{o.blockTag=yield this._getBlockTag(e),Je(o.blockTag)&&(n=parseInt(o.blockTag.substring(2),16))}catch{rt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Fo(()=>We(this,void 0,void 0,function*(){const i=yield this.perform("getBlock",o);if(i==null)return o.blockHash!=null&&this._emitted["b:"+o.blockHash]==null||o.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let s=null;for(let l=0;l<i.transactions.length;l++){const f=i.transactions[l];if(f.blockNumber==null)f.confirmations=0;else if(f.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=s-f.blockNumber+1;u<=0&&(u=1),f.confirmations=u}}const a=this.formatter.blockWithTransactions(i);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(i)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return We(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Fo(()=>We(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const o=this.formatter.transactionResponse(n);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;s<=0&&(s=1),o.confirmations=s}return this._wrapTransaction(o)}),{oncePoll:this})})}getTransactionReceipt(e){return We(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Fo(()=>We(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const o=this.formatter.receipt(n);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;s<=0&&(s=1),o.confirmations=s}return o}),{oncePoll:this})})}getLogs(e){return We(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Ht({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(o=>{o.removed==null&&(o.removed=!1)}),Oe.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return We(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return We(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&rt.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return We(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const n=yield this._getResolver(t,"getResolver");if(n!=null){const o=new sp(this,n,e);return t!==e&&!(yield o.supportsWildcard())?null:o}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return We(this,void 0,void 0,function*(){t==null&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||rt.throwError("network does not support ENS",J.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const o=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Ba(e).substring(2)});return this.formatter.callAddress(o)}catch{}return null})}resolveName(e){return We(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Je(e))throw n}typeof e!="string"&&rt.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return We(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(n==null)return null;const o=Jl(yield this.call({to:n,data:"0x691f3431"+Ba(t).substring(2)}),0);return(yield this.resolveName(o))!=e?null:o})}getAvatar(e){return We(this,void 0,void 0,function*(){let t=null;if(Je(e)){const i=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(i,"getAvatar");if(!s)return null;t=new sp(this,s,i);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==J.errors.CALL_EXCEPTION)throw a}try{const a=Jl(yield this.call({to:s,data:"0x691f3431"+Ba(i).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==J.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return rt.throwError(e+" not implemented",J.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const o=new gM(aa(e),t,n);return this._events.push(o),this._startEvent(o),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,o=[],i=aa(e);return this._events=this._events.filter(s=>s.tag!==i?!0:(setTimeout(()=>{s.listener.apply(this,t)},0),n=!0,s.once?(o.push(s),!1):!0)),o.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let t=aa(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=aa(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let o=!1,i=aa(e);return this._events=this._events.filter(s=>s.tag!==i||s.listener!=t||o?!0:(o=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=aa(e);this._events=this._events.filter(o=>o.tag!==n?!0:(t.push(o),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var eo=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const er=new J(Lr),yM=["call","estimateGas"];function ac(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=Je(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const n=ac(r[t],e);if(n)return n}return null}if(typeof r=="string")try{return ac(JSON.parse(r),e)}catch{}return null}function iw(r,e,t){const n=t.transaction||t.signedTransaction;if(r==="call"){const i=ac(e,!0);if(i)return i.data;er.throwError("missing revert data in call exception; Transaction reverted without a reason string",J.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(r==="estimateGas"){let i=ac(e.body,!1);i==null&&(i=ac(e,!1)),i&&er.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{reason:i.message,method:r,transaction:n,error:e})}let o=e.message;throw e.code===J.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?o=e.error.message:typeof e.body=="string"?o=e.body:typeof e.responseText=="string"&&(o=e.responseText),o=(o||"").toLowerCase(),o.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&er.throwError("insufficient funds for intrinsic transaction cost",J.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),o.match(/nonce (is )?too low/i)&&er.throwError("nonce has already been used",J.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&er.throwError("replacement fee too low",J.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),o.match(/only replay-protected/i)&&er.throwError("legacy pre-eip-155 transactions not supported",J.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),yM.indexOf(r)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&er.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function cm(r){return new Promise(function(e){setTimeout(e,r)})}function xM(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function Nf(r){return r&&r.toLowerCase()}const ap={};class Og extends Ao{constructor(e,t,n){if(super(),e!==ap)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ie(this,"provider",t),n==null&&(n=0),typeof n=="string"?(ie(this,"_address",this.provider.formatter.address(n)),ie(this,"_index",null)):typeof n=="number"?(ie(this,"_index",n),ie(this,"_address",null)):er.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return er.throwError("cannot alter JSON-RPC Signer connection",J.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new wM(ap,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&er.throwError("unknown account #"+this._index,J.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Rt(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Rt(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>eo(this,void 0,void 0,function*(){if(n==null)return null;const o=yield this.provider.resolveName(n);return o==null&&er.throwArgumentError("provided ENS name resolves to null","tx.to",n),o}))),Ht({tx:Ht(e),sender:t}).then(({tx:n,sender:o})=>{n.from!=null?n.from.toLowerCase()!==o&&er.throwArgumentError("from address mismatch","transaction",e):n.from=o;const i=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&er.throwError("user rejected transaction",J.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),iw("sendTransaction",s,i)))})}signTransaction(e){return er.throwError("signing transactions is unsupported",J.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return eo(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Fo(()=>eo(this,void 0,void 0,function*(){const o=yield this.provider.getTransaction(n);if(o!==null)return this.provider._wrapTransaction(o,n,t)}),{oncePoll:this.provider})}catch(o){throw o.transactionHash=n,o}})}signMessage(e){return eo(this,void 0,void 0,function*(){const t=typeof e=="string"?Zt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[me(t),n.toLowerCase()])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&er.throwError("user rejected signing",J.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),o}})}_legacySignMessage(e){return eo(this,void 0,void 0,function*(){const t=typeof e=="string"?Zt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),me(t)])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&er.throwError("user rejected signing",J.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),o}})}_signTypedData(e,t,n){return eo(this,void 0,void 0,function*(){const o=yield cr.resolveNames(e,t,n,s=>this.provider.resolveName(s)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(cr.getPayload(o.domain,t,o.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&er.throwError("user rejected signing",J.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:o.domain,types:t,value:o.value}}),s}})}unlock(e){return eo(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class wM extends Og{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const AM={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ns extends u0{constructor(e,t){let n=t;n==null&&(n=new Promise((o,i)=>{setTimeout(()=>{this.detectNetwork().then(s=>{o(s)},s=>{i(s)})},0)})),super(n),e||(e=ur(this.constructor,"defaultUrl")()),typeof e=="string"?ie(this,"connection",Object.freeze({url:e})):ie(this,"connection",Object.freeze(Rt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return eo(this,void 0,void 0,function*(){yield cm(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=ur(this.constructor,"getNetwork");try{return t(pe.from(e).toNumber())}catch(n){return er.throwError("could not detect network",J.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return er.throwError("could not detect network",J.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Og(ap,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Or(n),provider:this});const o=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(o&&this._cache[e])return this._cache[e];const i=Ws(this.connection,JSON.stringify(n),xM).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return o&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Nf(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Nf(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Nf(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Nf(t.address),Bt(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{const n=ur(this.constructor,"hexlifyTransaction");return["eth_call",[n(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{const n=ur(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Nf(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return eo(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const o=t.transaction;if(o&&o.type!=null&&pe.from(o.type).isZero()&&o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null){const i=yield this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Rt(t),t.transaction=Rt(o),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&er.throwError(e+" not implemented",J.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(o){return iw(e,o,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function o(){e.send("eth_getFilterChanges",[n]).then(function(i){if(e._pendingFilter!=t)return null;let s=Promise.resolve();return i.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),s.then(function(){return cm(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){o()},0),null}).catch(i=>{})}return o(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=Rt(AM);if(t)for(const i in t)t[i]&&(n[i]=!0);Xu(e,n);const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(i){if(e[i]==null)return;const s=cf(pe.from(e[i]));i==="gasLimit"&&(i="gas"),o[i]=s}),["from","to","data"].forEach(function(i){e[i]!=null&&(o[i]=me(e[i]))}),e.accessList&&(o.accessList=Eo(e.accessList)),o}}let fc=null;try{if(fc=WebSocket,fc==null)throw new Error("inject please")}catch{const e=new J(Lr);fc=function(){e.throwError("WebSockets not supported in this environment",J.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var ed=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Al=new J(Lr);let EM=1;class h0 extends Ns{constructor(e,t){t==="any"&&Al.throwError("WebSocketProvider does not support 'any' network yet",J.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ie(this,"_websocket",new fc(this.connection.url)):ie(this,"_websocket",e),ie(this,"_requests",{}),ie(this,"_subs",{}),ie(this,"_subIds",{}),ie(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(o=>{this.websocket.send(this._requests[o].payload)})},this.websocket.onmessage=o=>{const i=o.data,s=JSON.parse(i);if(s.id!=null){const a=String(s.id),l=this._requests[a];if(delete this._requests[a],s.result!==void 0)l.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(l.payload),response:s.result,provider:this});else{let f=null;s.error?(f=new Error(s.error.message||"unknown error"),ie(f,"code",s.error.code||null),ie(f,"response",i)):f=new Error("unknown error"),l.callback(f,void 0),this.emit("debug",{action:"response",error:f,request:JSON.parse(l.payload),provider:this})}}else if(s.method==="eth_subscription"){const a=this._subs[s.params.subscription];a&&a.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Al.throwError("cannot reset events block on WebSocketProvider",J.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Al.throwError("cannot set polling interval on WebSocketProvider",J.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return ed(this,void 0,void 0,function*(){return null})}set polling(e){!e||Al.throwError("cannot set polling on WebSocketProvider",J.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=EM++;return new Promise((o,i)=>{function s(l,f){return l?i(l):o(f)}const a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:s,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return ed(this,void 0,void 0,function*(){let o=this._subIds[e];o==null&&(o=Promise.all(t).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=o);const i=yield o;this._subs[i]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=pe.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const o=n.hash;this.getTransactionReceipt(o).then(i=>{!i||this.emit(o,i)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(o=>o.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(o=>o.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];!n||(delete this._subIds[t],n.then(o=>{!this._subs[o]||(delete this._subs[o],this.send("eth_unsubscribe",[o]))}))}destroy(){return ed(this,void 0,void 0,function*(){this.websocket.readyState===fc.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var SM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Qf=new J(Lr);class ow extends Ns{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return SM(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||Qf.throwError("no network detected",J.errors.UNKNOWN_ERROR,{}),this._network==null&&(ie(this,"_network",t),this.emit("network",t,null))),t})}}class So extends ow{constructor(e,t){Qf.checkAbstract(new.target,So),e=ur(new.target,"getNetwork")(e),t=ur(new.target,"getApiKey")(t);const n=ur(new.target,"getUrl")(e,t);super(n,e),typeof t=="string"?ie(this,"apiKey",t):t!=null&&Object.keys(t).forEach(o=>{ie(this,o,t[o])})}_startPending(){Qf.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Qf.throwError("API provider does not support signing",J.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Qf.throwError("not implemented; sub-classes must override getUrl",J.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const lm=new J(Lr),Ql="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class sw extends h0{constructor(e,t){const n=new Rg(e,t),o=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(o,n.network),ie(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===Ql}}class Rg extends So{static getWebSocketProvider(e,t){return new sw(e,t)}static getApiKey(e){return e==null?Ql:(e&&typeof e!="string"&&lm.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:lm.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(o,i)=>(t===Ql&&Fc(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Ql}}const _M=new J(Lr),El="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function kM(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return _M.throwArgumentError("unsupported network","name",r)}class aw extends So{isCommunityResource(){return this.apiKey===El}static getApiKey(e){return e??El}static getUrl(e,t){t==null&&(t=El);const n={allowGzip:!0,url:"https://"+kM(e.name)+t,throttleCallback:(o,i)=>(t.apiKey===El&&Fc(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}}var TM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const um=new J(Lr);class fw extends So{static getApiKey(e){return e!=null&&um.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:um.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return TM(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var Sl=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Uo=new J(Lr);function hm(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=cf(me(n)):t==="accessList"?n="["+Eo(n).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]":n=me(n),e[t]=n)}return e}function MM(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function dm(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function pm(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function td(r,e,t){if(r==="call"&&e.code===J.errors.SERVER_ERROR){const o=e.error;if(o&&(o.message.match(/reverted/i)||o.message.match(/VM execution error/i))){let i=o.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),Je(i))return i;Uo.throwError("missing revert data in call exception",J.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===J.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Uo.throwError("insufficient funds for intrinsic transaction cost",J.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Uo.throwError("nonce has already been used",J.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&Uo.throwError("replacement fee too low",J.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&Uo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class cw extends u0{constructor(e,t){super(e),ie(this,"baseUrl",this.getBaseUrl()),ie(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Uo.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce((i,s)=>{const a=t[s];return a!=null&&(i+=`&${s}=${a}`),i},""),o=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${o}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return Sl(this,void 0,void 0,function*(){const o=n?this.getPostUrl():this.getUrl(e,t),i=n?this.getPostData(e,t):null,s=e==="proxy"?dm:MM;this.emit("debug",{action:"request",request:o,provider:this});const a={url:o,throttleSlotInterval:1e3,throttleCallback:(u,p)=>(this.isCommunityResource()&&Fc(),Promise.resolve(!0))};let l=null;i&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},l=Object.keys(i).map(u=>`${u}=${i[u]}`).join("&"));const f=yield Ws(a,l,s||dm);return this.emit("debug",{action:"response",request:o,response:Or(f),provider:this}),f})}detectNetwork(){return Sl(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Sl(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(o=>td("sendTransaction",o,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const o=hm(t.transaction);o.module="proxy",o.action="eth_call";try{return yield this.fetch("proxy",o,!0)}catch(i){return td("call",i,t.transaction)}}case"estimateGas":{const o=hm(t.transaction);o.module="proxy",o.action="eth_estimateGas";try{return yield this.fetch("proxy",o,!0)}catch(i){return td("estimateGas",i,t.transaction)}}case"getLogs":{const o={action:"getLogs"};if(t.filter.fromBlock&&(o.fromBlock=pm(t.filter.fromBlock)),t.filter.toBlock&&(o.toBlock=pm(t.filter.toBlock)),t.filter.address&&(o.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Uo.throwError("unsupported topic count",J.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const a=t.filter.topics[0];(typeof a!="string"||a.length!==66)&&Uo.throwError("unsupported topic format",J.errors.UNSUPPORTED_OPERATION,{topic0:a}),o.topic0=a}const i=yield this.fetch("logs",o);let s={};for(let a=0;a<i.length;a++){const l=i[a];if(l.blockHash==null){if(s[l.blockNumber]==null){const f=yield this.getBlock(l.blockNumber);f&&(s[l.blockNumber]=f.hash)}l.blockHash=s[l.blockNumber]}}return i}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return Sl(this,void 0,void 0,function*(){const o={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",o)).map(s=>{["contractAddress","to"].forEach(function(l){s[l]==""&&delete s[l]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const a=this.formatter.transactionResponse(s);return s.timeStamp&&(a.timestamp=parseInt(s.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var _u=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const vs=new J(Lr);function _l(){return new Date().getTime()}function gm(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||vs.throwArgumentError("provider mismatch","networks",r):e=n}return e}function bm(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],o=r[t];return e!=null&&Math.abs(n-o)>e?null:(n+o)/2}function Aa(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(pe.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>Aa(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=Aa(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let PM=1;function vm(r){let e=null,t=null,n=new Promise(s=>{e=function(){t&&(clearTimeout(t),t=null),s()},t=setTimeout(e,r)});const o=s=>(n=n.then(s),n);function i(){return n}return{cancel:e,getPromise:i,wait:o}}const IM=[J.errors.CALL_EXCEPTION,J.errors.INSUFFICIENT_FUNDS,J.errors.NONCE_EXPIRED,J.errors.REPLACEMENT_UNDERPRICED,J.errors.UNPREDICTABLE_GAS_LIMIT],CM=["address","args","errorArgs","errorSignature","method","transaction"];function kl(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function BM(r,e){return function(t){const n={};t.forEach(i=>{const s=r(i.result);n[s]||(n[s]={count:0,result:i.result}),n[s].count++});const o=Object.keys(n);for(let i=0;i<o.length;i++){const s=n[o[i]];if(s.count>=e)return s.result}}}function OM(r,e,t){let n=Aa;switch(e){case"getBlockNumber":return function(o){const i=o.map(a=>a.result);let s=bm(o.map(a=>a.result),2);if(s!=null)return s=Math.ceil(s),i.indexOf(s+1)>=0&&s++,s>=r._highestBlockNumber&&(r._highestBlockNumber=s),r._highestBlockNumber};case"getGasPrice":return function(o){const i=o.map(s=>s.result);return i.sort(),i[Math.floor(i.length/2)]};case"getEtherPrice":return function(o){return bm(o.map(i=>i.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(o){return o==null?null:(o=Rt(o),o.confirmations=-1,Aa(o))};break;case"getBlock":t.includeTransactions?n=function(o){return o==null?null:(o=Rt(o),o.transactions=o.transactions.map(i=>(i=Rt(i),i.confirmations=-1,i)),Aa(o))}:n=function(o){return o==null?null:Aa(o)};break;default:throw new Error("unknown method: "+e)}return BM(n,r.quorum)}function Lf(r,e){return _u(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:Fo(()=>new Promise((n,o)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function RM(r,e,t,n){return _u(this,void 0,void 0,function*(){let o=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return o[t]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Je(n.blockTag)&&(o=yield Lf(r,e)),o[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Je(n.blockTag)&&(o=yield Lf(r,e)),o.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Je(n.blockTag)&&(o=yield Lf(r,e)),o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Je(n.blockTag)&&(o=yield Lf(r,e)),t==="call"&&n.blockTag?o[t](n.transaction,n.blockTag):o[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return o[t](n.transactionHash);case"getLogs":{let i=n.filter;return(i.fromBlock&&Je(i.fromBlock)||i.toBlock&&Je(i.toBlock))&&(o=yield Lf(r,e)),o.getLogs(i)}}return vs.throwError("unknown method error",J.errors.UNKNOWN_ERROR,{method:t,params:n})})}class lw extends u0{constructor(e,t){e.length===0&&vs.throwArgumentError("missing providers","providers",e);const n=e.map((s,a)=>{if(qs.isProvider(s)){const u=op(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:u,priority:1})}const l=Rt(s);l.priority==null&&(l.priority=1),l.stallTimeout==null&&(l.stallTimeout=op(s)?2e3:750),l.weight==null&&(l.weight=1);const f=l.weight;return(f%1||f>512||f<1)&&vs.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,f),Object.freeze(l)}),o=n.reduce((s,a)=>s+a.weight,0);t==null?t=o/2:t>o&&vs.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let i=gm(n.map(s=>s.provider.network));i==null&&(i=new Promise((s,a)=>{setTimeout(()=>{this.detectNetwork().then(s,a)},0)})),super(i),ie(this,"providerConfigs",Object.freeze(n)),ie(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return _u(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return gm(e)})}perform(e,t){return _u(this,void 0,void 0,function*(){if(e==="sendTransaction"){const l=yield Promise.all(this.providerConfigs.map(f=>f.provider.sendTransaction(t.signedTransaction).then(u=>u.hash,u=>u)));for(let f=0;f<l.length;f++){const u=l[f];if(typeof u=="string")return u}throw l[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=OM(this,e,t),o=Tg(this.providerConfigs.map(Rt));o.sort((l,f)=>l.priority-f.priority);const i=this._highestBlockNumber;let s=0,a=!0;for(;;){const l=_l();let f=o.filter(T=>T.runner&&l-T.start<T.stallTimeout).reduce((T,I)=>T+I.weight,0);for(;f<this.quorum&&s<o.length;){const T=o[s++],I=PM++;T.start=_l(),T.staller=vm(T.stallTimeout),T.staller.wait(()=>{T.staller=null}),T.runner=RM(T,i,e,t).then(B=>{T.done=!0,T.result=B,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:I,backend:kl(T,_l()),request:{method:e,params:Or(t)},provider:this})},B=>{T.done=!0,T.error=B,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:I,backend:kl(T,_l()),request:{method:e,params:Or(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:I,backend:kl(T,null),request:{method:e,params:Or(t)},provider:this}),f+=T.weight}const u=[];o.forEach(T=>{T.done||!T.runner||(u.push(T.runner),T.staller&&u.push(T.staller.getPromise()))}),u.length&&(yield Promise.race(u));const p=o.filter(T=>T.done&&T.error==null);if(p.length>=this.quorum){const T=n(p);if(T!==void 0)return o.forEach(I=>{I.staller&&I.staller.cancel(),I.cancelled=!0}),T;a||(yield vm(100).getPromise()),a=!1}const _=o.reduce((T,I)=>{if(!I.done||I.error==null)return T;const B=I.error.code;return IM.indexOf(B)>=0&&(T[B]||(T[B]={error:I.error,weight:0}),T[B].weight+=I.weight),T},{});if(Object.keys(_).forEach(T=>{const I=_[T];if(I.weight<this.quorum)return;o.forEach(C=>{C.staller&&C.staller.cancel(),C.cancelled=!0});const B=I.error,P={};CM.forEach(C=>{B[C]!=null&&(P[C]=B[C])}),vs.throwError(B.reason||B.message,T,P)}),o.filter(T=>!T.done).length===0)break}return o.forEach(l=>{l.staller&&l.staller.cancel(),l.cancelled=!0}),vs.throwError("failed to meet quorum",J.errors.SERVER_ERROR,{method:e,params:t,results:o.map(l=>kl(l)),provider:this})})}}const uw=null,Yl=new J(Lr),Yf="84842078b09946638c03157f83405213";class hw extends h0{constructor(e,t){const n=new Ng(e,t),o=n.connection;o.password&&Yl.throwError("INFURA WebSocket project secrets unsupported",J.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const i=o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,e),ie(this,"apiKey",n.projectId),ie(this,"projectId",n.projectId),ie(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Yf}}class Ng extends So{static getWebSocketProvider(e,t){return new hw(e,t)}static getApiKey(e){const t={apiKey:Yf,projectId:Yf,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(Yl.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),Yl.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:Yl.throwError("unsupported network",J.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const o={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(i,s)=>(t.projectId===Yf&&Fc(),Promise.resolve(!0))};return t.projectSecret!=null&&(o.user="",o.password=t.projectSecret),o}isCommunityResource(){return this.projectId===Yf}}class NM extends Ns{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const o={request:n,resolve:null,reject:null},i=new Promise((s,a)=>{o.resolve=s,o.reject=a});return this._pendingBatch.push(o),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=s.map(l=>l.request);return this.emit("debug",{action:"requestBatch",request:Or(a),provider:this}),Ws(this.connection,JSON.stringify(a)).then(l=>{this.emit("debug",{action:"response",request:a,response:l,provider:this}),s.forEach((f,u)=>{const p=l[u];if(p.error){const _=new Error(p.error.message);_.code=p.error.code,_.data=p.error.data,f.reject(_)}else f.resolve(p.result)})},l=>{this.emit("debug",{action:"response",error:l,request:a,provider:this}),s.forEach(f=>{f.reject(l)})})},10)),i}}const rd=new J(Lr),LM="ETHERS_JS_SHARED";class dw extends So{static getApiKey(e){return e&&typeof e!="string"&&rd.throwArgumentError("invalid apiKey","apiKey",e),e||LM}static getUrl(e,t){rd.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:rd.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const mm=new J(Lr),ym="62e1ad51b37b8e00394bda3b";class pw extends So{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=ym:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:mm.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:mm.throwError("unsupported network",J.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const o=`https://${n}/v1/lb/${t.applicationId}`,i={headers:{},url:o};return t.applicationSecretKey!=null&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===ym}}const xm=new J(Lr);let UM=1;function wm(r,e){const t="Web3LegacyFetcher";return function(n,o){const i={method:n,params:o,id:UM++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Or(i),provider:this}),e(i,(l,f)=>{if(l)return this.emit("debug",{action:"response",fetcher:t,error:l,request:i,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:t,request:i,response:f,provider:this}),f.error){const u=new Error(f.error.message);return u.code=f.error.code,u.data=f.error.data,a(u)}s(f.result)})})}}function DM(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Or(n),provider:this}),r.request(n).then(o=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:o,provider:this}),o})}}class gw extends Ns{constructor(e,t){e==null&&xm.throwArgumentError("missing provider","provider",e);let n=null,o=null,i=null;typeof e=="function"?(n="unknown:",o=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),i=e,e.request?(n===""&&(n="eip-1193:"),o=DM(e)):e.sendAsync?o=wm(e,e.sendAsync.bind(e)):e.send?o=wm(e,e.send.bind(e)):xm.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),ie(this,"jsonRpcFetchFunc",o),ie(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const Am=new J(Lr);function Lg(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Ns(r);case"ws":case"wss":return new h0(r);default:Am.throwArgumentError("unsupported URL scheme","network",r)}}const t=Cg(r);return(!t||!t._defaultProvider)&&Am.throwError("unsupported getDefaultProvider network",J.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:lw,AlchemyProvider:Rg,AnkrProvider:aw,CloudflareProvider:fw,EtherscanProvider:cw,InfuraProvider:Ng,JsonRpcProvider:Ns,NodesmithProvider:dw,PocketProvider:pw,Web3Provider:gw,IpcProvider:uw},e)}const bw=Object.freeze(Object.defineProperty({__proto__:null,Provider:qs,BaseProvider:u0,Resolver:sp,UrlJsonRpcProvider:So,FallbackProvider:lw,AlchemyProvider:Rg,AlchemyWebSocketProvider:sw,AnkrProvider:aw,CloudflareProvider:fw,EtherscanProvider:cw,InfuraProvider:Ng,InfuraWebSocketProvider:hw,JsonRpcProvider:Ns,JsonRpcBatchProvider:NM,NodesmithProvider:dw,PocketProvider:pw,StaticJsonRpcProvider:ow,Web3Provider:gw,WebSocketProvider:h0,IpcProvider:uw,JsonRpcSigner:Og,getDefaultProvider:Lg,getNetwork:Cg,isCommunityResource:op,isCommunityResourcable:tw,showThrottleMessage:Fc,Formatter:Oe},Symbol.toStringTag,{value:"Module"})),FM="solidity/5.7.0",$M=new RegExp("^bytes([0-9]+)$"),VM=new RegExp("^(u?int)([0-9]*)$"),jM=new RegExp("^(.*)\\[([0-9]*)\\]$"),qM="0000000000000000000000000000000000000000000000000000000000000000",va=new J(FM);function vw(r,e,t){switch(r){case"address":return t?Ia(e,32):he(e);case"string":return Zt(e);case"bytes":return he(e);case"bool":return e=e?"0x01":"0x00",t?Ia(e,32):he(e)}let n=r.match(VM);if(n){let o=parseInt(n[2]||"256");return(n[2]&&String(o)!==n[2]||o%8!==0||o===0||o>256)&&va.throwArgumentError("invalid number type","type",r),t&&(o=256),e=pe.from(e).toTwos(o),Ia(e,o/8)}if(n=r.match($M),n){const o=parseInt(n[1]);return(String(o)!==n[1]||o===0||o>32)&&va.throwArgumentError("invalid bytes type","type",r),he(e).byteLength!==o&&va.throwArgumentError(`invalid value for ${r}`,"value",e),t?he((e+qM).substring(0,66)):e}if(n=r.match(jM),n&&Array.isArray(e)){const o=n[1];parseInt(n[2]||String(e.length))!=e.length&&va.throwArgumentError(`invalid array length for ${r}`,"value",e);const s=[];return e.forEach(function(a){s.push(vw(o,a,!0))}),Ct(s)}return va.throwArgumentError("invalid type","type",r)}function d0(r,e){r.length!=e.length&&va.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,o){t.push(vw(n,e[o]))}),me(Ct(t))}function mw(r,e){return Tt(d0(r,e))}function yw(r,e){return Fi(d0(r,e))}const HM=Object.freeze(Object.defineProperty({__proto__:null,pack:d0,keccak256:mw,sha256:yw},Symbol.toStringTag,{value:"Module"})),GM="units/5.7.0",xw=new J(GM),ww=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Aw(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&xw.throwArgumentError("invalid value","value",r);let t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let o="";for(e.length===2&&(o="."+(e[1]||"0"));o.length>2&&o[o.length-1]==="0";)o=o.substring(0,o.length-1);const i=[];for(;t.length;)if(t.length<=3){i.unshift(t);break}else{const s=t.length-3;i.unshift(t.substring(s)),t=t.substring(0,s)}return n+i.join(",")+o}function p0(r,e){if(typeof e=="string"){const t=ww.indexOf(e);t!==-1&&(e=3*t)}return Hl(r,e??18)}function Ug(r,e){if(typeof r!="string"&&xw.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=ww.indexOf(e);t!==-1&&(e=3*t)}return Ei(r,e??18)}function Ew(r){return p0(r,18)}function Sw(r){return Ug(r,18)}const KM=Object.freeze(Object.defineProperty({__proto__:null,commify:Aw,formatUnits:p0,parseUnits:Ug,formatEther:Ew,parseEther:Sw},Symbol.toStringTag,{value:"Module"})),_w=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:fg,defaultAbiCoder:cg,Fragment:ti,ConstructorFragment:xn,ErrorFragment:Ii,EventFragment:Xn,FunctionFragment:wn,ParamType:tr,FormatTypes:mt,checkResultErrors:eg,Logger:J,RLP:k3,_fetchData:Bg,fetchJson:Ws,poll:Fo,checkProperties:Xu,deepCopy:Or,defineReadOnly:ie,getStatic:ur,resolveProperties:Ht,shallowCopy:Rt,arrayify:he,concat:Ct,stripZeros:si,zeroPad:Ia,isBytes:yo,isBytesLike:ff,defaultPath:Rs,HDNode:Yr,SigningKey:Ho,Interface:gu,LogDescription:dg,TransactionDescription:pg,base58:Bs,base64:z3,hexlify:me,isHexString:Je,hexConcat:Pr,hexStripZeros:Yp,hexValue:cf,hexZeroPad:Bt,hexDataLength:ci,hexDataSlice:Jt,nameprep:G3,_toEscapedUtf8String:V3,toUtf8Bytes:Zt,toUtf8CodePoints:Ec,toUtf8String:wo,Utf8ErrorFuncs:ig,formatBytes32String:j3,parseBytes32String:q3,dnsEncode:hg,hashMessage:Nc,namehash:Ba,isValidName:X3,id:no,_TypedDataEncoder:cr,getAddress:Et,getIcapAddress:P3,getContractAddress:Rc,getCreate2Address:I3,isAddress:M3,formatEther:Ew,parseEther:Sw,formatUnits:p0,parseUnits:Ug,commify:Aw,computeHmac:za,keccak256:Tt,ripemd160:Eg,sha256:Fi,sha512:R6,randomBytes:ms,shuffled:Tg,solidityPack:d0,solidityKeccak256:mw,soliditySha256:yw,splitSignature:Zo,joinSignature:uu,accessListify:Eo,parseTransaction:xg,serializeTransaction:yu,get TransactionTypes(){return mu},getJsonWalletAddress:V6,computeAddress:fo,recoverAddress:Ks,computePublicKey:s0,recoverPublicKey:mg,verifyMessage:Y6,verifyTypedData:Z6,getAccountPath:D6,mnemonicToEntropy:Uc,entropyToMnemonic:Dc,isValidMnemonic:U6,mnemonicToSeed:kg,get SupportedAlgorithm(){return Os},get UnicodeNormalizationForm(){return li},get Utf8ErrorReason(){return $r},Indexed:Sc},Symbol.toStringTag,{value:"Module"})),Dg="ethers/5.7.2",kw=new J(Dg),Tw=Object.freeze(Object.defineProperty({__proto__:null,Signer:Ao,Wallet:ro,VoidSigner:Lc,getDefaultProvider:Lg,providers:bw,BaseContract:wg,Contract:wu,ContractFactory:O6,BigNumber:pe,FixedNumber:ir,constants:D3,get errors(){return Qr},logger:kw,utils:_w,wordlists:Au,version:Dg,Wordlist:zs},Symbol.toStringTag,{value:"Module"}));try{const r=window;r._ethers==null&&(r._ethers=Tw)}catch{}const zM=Object.freeze(Object.defineProperty({__proto__:null,ethers:Tw,Signer:Ao,Wallet:ro,VoidSigner:Lc,getDefaultProvider:Lg,providers:bw,BaseContract:wg,Contract:wu,ContractFactory:O6,BigNumber:pe,FixedNumber:ir,constants:D3,get errors(){return Qr},logger:kw,utils:_w,wordlists:Au,version:Dg,Wordlist:zs},Symbol.toStringTag,{value:"Module"}));var WM=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JM=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QM=function(r){WM(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.loadedCount=0,t.numberToLoad=25,t.autoLoadMore=!0,t}return e.prototype.init=function(){var t=this;this.viewContainer.addEventListener("click",function(n){n.target.classList.contains("mobileToggle-tn")?t.tokenToggleSelection():n.target.classList.contains("load-more-btn-tn")&&t.loadMoreTokens()})},e.prototype.render=function(){var t=this;if(this.loadedCount=0,this.viewContainer.innerHTML=this.getTokenListItems(),this.renderIcons(),this.autoLoadMore){var n=this.viewContainer.querySelector(".load-more-tn");n&&(this.interceptObs||(this.interceptObs=new IntersectionObserver(function(o){o[0].isIntersecting&&t.loadMoreTokens()},{root:this.viewContainer.querySelector(".view-content-tn")})),this.interceptObs.observe(n))}},e.prototype.getTokenListItems=function(){for(var t="",n=Math.min(this.loadedCount+this.numberToLoad,this.params.tokens.length),o=this.loadedCount;o<n;o++)t+=this.createTokenMarkup(this.params.tokens[o]);return this.loadedCount=n,this.loadedCount<this.params.tokens.length&&(t+=this.createLoadMoreMarkup()),t},e.prototype.loadMoreTokens=function(){var t=this.viewContainer.getElementsByClassName("load-more-tn")[0];this.interceptObs&&this.interceptObs.unobserve(t),t.insertAdjacentHTML("afterend",this.getTokenListItems()),t.remove(),this.renderIcons(),this.interceptObs&&(t=this.viewContainer.querySelector(".load-more-tn"),t&&this.interceptObs.observe(t))},e.prototype.renderIcons=function(){var t,n;try{for(var o=JM(this.viewContainer.getElementsByClassName("img-container-tn")),i=o.next();!i.done;i=o.next()){var s=i.value;if(!s.querySelector("img")){var a={src:s.getAttribute("data-image-src"),title:s.getAttribute("data-token-title")};new d3(s,a).render()}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.tokenToggleSelection=function(){var t=this.client.getTokenStore().getSelectedTokens();this.viewContainer.querySelectorAll(".mobileToggle-tn").forEach(function(n,o){if(o===0&&(t[n.dataset.key]={},t[n.dataset.key].tokens=[]),n.checked===!0){var i=JSON.parse(n.dataset.token);t[n.dataset.key].tokens.push(i)}}),Re(2,"Tokens selected:"),Re(2,t),this.client.updateSelectedTokens(t)},e.prototype.createLoadMoreMarkup=function(){return`
            <li class='load-more-tn'>
                <button class="load-more-btn-tn btn-tn">Load More</button>
            </li>
        `},e.prototype.createTokenMarkup=function(t){var n=t.tokenIssuerKey,o=t.title,i=t.data,s=t.index,a=t.image,l=t.toggleState,f=t.hideToggle,u=t.balance,p=t.fungible,_=t.decimals,T=t.symbol,I,B;if(!p)I=s,B="#"+(s.length>15?s.substring(0,5)+"..."+s.substring(s.length-5,s.length):s);else{var P=p0(u,_);I=P+" "+T,B=(P.length>15?P.substring(0,12)+"... ":P)+" "+T}var C=l?"checked":"";return`
            <li class='token-tn'>
              <div class="img-container-tn image-tn shimmer-tn" data-image-src="`.concat(a??"",'" data-token-title="').concat(o,`"></div>
              <div class='data-tn'>
                  <p class='token-title-tn'>`).concat(o,`</p>
                  <p class='detail-tn' title="`).concat(I,`">
                  	`).concat(B,`
				  </p>
                </div>`)+(f?"":`<div class='toggle-tn'>
                <input `.concat(C," data-key='").concat(n,"' data-token='").concat(JSON.stringify(i),`'
				data-index='`).concat(s,"' type='checkbox' name='toggle").concat(s,"' class='mobileToggle-tn toggle-tn' id='toggle").concat(s,`'>
                <label for='toggle`).concat(s,`'></label>
              </div>`))+`</li>
        `},e}(Zu),YM=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nd=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},id=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ZM=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XM=function(r){YM(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.client.registerUiUpdateCallback(0,function(){t.issuersLoading()}),this.client.registerUiUpdateCallback(1,function(){t.ui.dismissLoader(),t.client.cancelTokenAutoload(),t.render()})},e.prototype.render=function(){this.renderContent(),this.afterRender()},e.prototype.renderContent=function(){var t=this;this.viewContainer.innerHTML=`
            <div class="inner-content-tn issuer-slider-tn">
              <div class="issuer-view-tn scroll-tn">
                <div class="brand-tn"></div>
                <div class="headline-container-tn">
                  <div>
                  	<p class="headline-tn">`.concat(this.params.options.issuerHeading,`</p>
										<div class="toolbar-tn">
				  						<button class="btn-tn refresh-tn" aria-label="Refresh Tokens">
                  			<svg class="refresh-icon-tn" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 viewBox="0 0 383.748 383.748" style="enable-background:new 0 0 383.748 383.748;" xml:space="preserve"><g>	<path d="M62.772,95.042C90.904,54.899,137.496,30,187.343,30c83.743,0,151.874,68.13,151.874,151.874h30		C369.217,81.588,287.629,0,187.343,0c-35.038,0-69.061,9.989-98.391,28.888C70.368,40.862,54.245,56.032,41.221,73.593		L2.081,34.641v113.365h113.91L62.772,95.042z"/>	<path d="M381.667,235.742h-113.91l53.219,52.965c-28.132,40.142-74.724,65.042-124.571,65.042		c-83.744,0-151.874-68.13-151.874-151.874h-30c0,100.286,81.588,181.874,181.874,181.874c35.038,0,69.062-9.989,98.391-28.888		c18.584-11.975,34.707-27.145,47.731-44.706l39.139,38.952V235.742z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
				  						</button>
											<button class="btn-tn dis-wallet-tn" style="display: none;" aria-label="Disconnect Wallet">
												<?xml version="1.0" encoding="UTF-8" standalone="no"?>
												<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
												<svg width="12px" height="100%" viewBox="0 0 384 384" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
														<g id="Layer1">
																<path d="M194.449,-0.378L194.449,29.622L29.577,29.622C29.577,95.909 30.577,354.191 30.577,354.191L194.449,354.191L194.449,384.191L16.077,384.191C7.517,384.191 0.577,377.251 0.577,368.691L0.577,15.122C0.577,6.562 7.517,-0.378 16.077,-0.378L194.449,-0.378Z"/>
																<g transform="matrix(1.39537,0,0,2.43013,-54.9803,-262.053)">
																		<path d="M99.772,200.171L99.772,165.725L228.493,165.725L228.493,133.741L314.191,182.948L228.493,232.156L228.493,200.171L99.772,200.171Z"/>
																</g>
														</g>
												</svg>											
											</button>
				  					</div>                  	
				  </div>
				  `).concat(this.getCustomContent(),`
                </div>
								<nav class="token-issuer-nav-tn">
                	<ul class="token-issuer-list-container-tn" role="menubar"></ul>
								</nav>
              </div>
              <div class="token-view-tn scroll-tn" style="display: none;">
                <div class="brand-tn"></div>
                <div style="display: flex; align-items: center;">
                  <button aria-label="back to token issuer menu" class="back-to-menu-tn">
                    <svg style="position: relative; top: 1px;" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <g fill="none" fill-rule="evenodd">
                            <path d="m10.2 15.8 7.173 7.56c.55.587 1.453.587 2.01 0a1.554 1.554 0 0 0 0-2.12l-5.158-5.44 5.157-5.44a1.554 1.554 0 0 0 0-2.12 1.367 1.367 0 0 0-2.009 0L10.2 15.8z" fill="#000" fill-rule="nonzero"/>
                        </g>
                    </svg>
                  </button>
                  <p class="headline-tn token-name">Token Name Here</p>
                </div>
                <ul class="token-list-container-tn" role="menubar"></ul>
              </div>
            </div>
        `),this.viewContainer.querySelector(".back-to-menu-tn").addEventListener("click",this.backToIssuers.bind(this)),this.setupWalletButton();var n=this.viewContainer.querySelector(".refresh-tn");if(n.addEventListener("click",function(){t.autoLoadTokens(!0)}),this.issuerListContainer=this.viewContainer.querySelector(".token-issuer-list-container-tn"),this.tokensContainer=this.viewContainer.getElementsByClassName("token-view-tn")[0],!this.issuerListContainer){Re(2,"Element .token-issuer-list-container-tn not found");return}this.populateIssuers();var o=this.tokensContainer.getElementsByClassName("token-list-container-tn")[0];this.tokenListView=new QM(this.client,this.ui,o,{})},e.prototype.afterRender=function(){this.client.issuersLoaded?this.client.getTokenStore().hasUnloadedTokens()&&this.autoLoadTokens():this.issuersLoading()},e.prototype.getCustomContent=function(){return""},e.prototype.setupWalletButton=function(){return nd(this,void 0,void 0,function(){var t,n,o=this;return id(this,function(i){switch(i.label){case 0:return[4,this.client.getWalletProvider()];case 1:return t=i.sent(),t.getConnectedWalletData().length>0&&(n=this.viewContainer.querySelector(".dis-wallet-tn"),n.style.display="block",n.addEventListener("click",function(){o.client.disconnectWallet()})),[2]}})})},e.prototype.issuersLoading=function(){this.ui.showLoader("<h4>Loading contract data...</h4>")},e.prototype.populateIssuers=function(){var t,n,o=this,i,s="",a=this.client.getTokenStore().getCurrentIssuers();for(var l in a){var f=a[l],u=(i=this.client.getTokenStore().getIssuerTokens(l))!==null&&i!==void 0?i:[],p=f.title?f.title:f.collectionID.replace(/[-,_]+/g," ");s+=this.issuerConnectMarkup(p,f.image,l,u,f)}this.issuerListContainer.innerHTML=s;try{for(var _=ZM(this.issuerListContainer.getElementsByClassName("img-container-tn")),T=_.next();!T.done;T=_.next()){var I=T.value,B={src:I.getAttribute("data-image-src"),title:I.getAttribute("data-token-title")};new d3(I,B).render()}}catch(P){t={error:P}}finally{try{T&&!T.done&&(n=_.return)&&n.call(_)}finally{if(t)throw t.error}}this.issuerListContainer.addEventListener("click",function(P){if(P.target.classList.contains("connect-btn-tn"))o.connectTokenIssuer(P);else if(P.target.classList.contains("tokens-btn-tn")){var C=P.target.parentNode.dataset.issuer;o.navigateToTokensView(C)}})},e.prototype.issuerConnectMarkup=function(t,n,o,i,s){var a="";return i?.length&&(a=s?.fungible?"Balance found":"".concat(i.length," token").concat(i.length>1?"s":""," available")),`
            <li class="issuer-connect-banner-tn" data-issuer="`.concat(o,`" role="menuitem">
              <div tabindex="0" style="display: flex; align-items: center;">
                <div class="img-container-tn issuer-icon-tn shimmer-tn" data-image-src="`).concat(n??"",'" data-token-title="').concat(t,`"></div>
                <p class="issuer-connect-title">`).concat(t,`</p>
              </div>
              <button aria-label="connect with the token issuer `).concat(o,`" aria-haspopup="true" aria-expanded="false" aria-controls="token-list-container-tn" 
					class="connect-btn-tn"
					style="`).concat(i?.length?"display: none;":"",`"
					data-issuer="`).concat(o,`"
					`).concat(this.client.issuersLoaded===!0?"":"disabled",`
				>
				`).concat(this.client.issuersLoaded===!0?"Load":'<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>',`
			  </button>
              <button aria-label="tokens available from token issuer `).concat(o,`" 
										  aria-haspopup="true"
											aria-expanded="false" aria-controls="token-list-container-tn" 
              				class="tokens-btn-tn" style="`).concat(i?.length?"display: block;":"",`" 
											data-issuer="`).concat(o,`">
					`).concat(a,`
			  </button>
            </li>
        `)},e.prototype.backToIssuers=function(){this.tokensContainer.style.display="none",this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")},e.prototype.autoLoadTokens=function(t){return t===void 0&&(t=!1),nd(this,void 0,void 0,function(){var n=this;return id(this,function(o){switch(o.label){case 0:return[4,this.client.tokenAutoLoad(this.issuerLoading.bind(this),function(i,s){if(!s?.length){var a=n.issuerListContainer.querySelector('[data-issuer*="'.concat(i,'"] .connect-btn-tn'));a&&(a.innerText="Load");return}n.issuerConnected(i,s,!1)},t)];case 1:return o.sent(),[2]}})})},e.prototype.connectTokenIssuer=function(t){return nd(this,void 0,void 0,function(){var n,o,i,s;return id(this,function(a){switch(a.label){case 0:n=t.target.dataset,o=n.issuer,i=[],this.ui.showLoader("<h4>Loading tokens...</h4>"),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.client.connectTokenIssuer(o)];case 2:return i=a.sent(),i?[3,4]:[2];case 3:return s=a.sent(),Re(2,s),this.ui.showError(s),this.client.eventSender("error",{issuer:o,error:s}),[2];case 4:return this.ui.dismissLoader(),i?.length?(this.issuerConnected(o,i),[2]):(this.ui.showError("No tokens found! ".concat(this.client.getNoTokenMsg(o))),[2])}})})},e.prototype.issuerLoading=function(t){var n=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .tokens-btn-tn'));n&&(n.style.display="none");var o=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .connect-btn-tn'));o&&(o.innerHTML='<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>',o.style.display="block")},e.prototype.issuerConnected=function(t,n,o){var i=this;o===void 0&&(o=!0);var s=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .connect-btn-tn')),a=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .tokens-btn-tn'));(!s||!a)&&Re(2,"Could not find button handler"),s.style.display="none",s.setAttribute("tabIndex",-1),a.style.display="block";var l=this.client.getTokenStore().getCurrentIssuers();a.innerHTML=n.length&&l[t].fungible?"Balance found":"".concat(n.length," token").concat(n.length>1?"s":""," available"),a.setAttribute("aria-label","Navigate to select from ".concat(n.length," of your ").concat(t," tokens")),a.setAttribute("tabIndex",1),o&&setTimeout(function(){i.navigateToTokensView(t)},250)},e.prototype.navigateToTokensView=function(t){this.updateTokensView(t),this.showTokenView(t)},e.prototype.updateTokensView=function(t){var n,o;this.tokensContainer.style.display="block",this.tokensContainer.scrollTo(0,0);var i=this.client.getTokenStore(),s=i.getCurrentIssuers()[t],a=(n=i.getIssuerTokens(t))!==null&&n!==void 0?n:[];s.title&&(this.viewContainer.getElementsByClassName("headline-tn token-name")[0].innerHTML=s.title);var l=[];a?.map(function(f,u){var p,_,T,I,B,P=!1;if((p=i.getSelectedTokens()[t])===null||p===void 0||p.tokens.map(function(z){JSON.stringify(f)===JSON.stringify(z)&&(P=!0)}),s.onChain===!1){var C=s.title,L=s.image;l.push({data:f,tokenIssuerKey:t,index:(T=(_=f.tiketIdNumber)!==null&&_!==void 0?_:f.ticketIdNumber)!==null&&T!==void 0?T:u,title:C,image:L,toggleState:P,hideToggle:s?.hideToggle})}else{var j=(I=f.tokenId)!==null&&I!==void 0?I:u.toString();l.push({data:f,tokenIssuerKey:t,index:j,title:f.title,image:(B=f.image)!==null&&B!==void 0?B:s.image,fungible:s.fungible,decimals:s.decimals,symbol:s.symbol,balance:f.balance,toggleState:P,hideToggle:s?.hideToggle})}}),(o=this.tokenListView)===null||o===void 0||o.update({issuer:t,tokens:l})},e.prototype.showTokenView=function(t){this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")},e}(Zu),eP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tP=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},rP=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},nP='<svg width="62px" height="62px" viewBox="-30 -20 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Phantom logo</title><path d="M57.137,22.8c23.339,0.075 42.264,18.847 42.563,42.1l10.1,0c3.8,0 6.8,3 6.8,6.8c0,19.661 -32.669,36.532 -54.77,36.6l-0.13,0c-23.6,0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2l0.137,0Z" style="fill:url(#_Linear1);fill-rule:nonzero;"/><path d="M64,0c35.323,0 64,28.677 64,64c0,35.323 -28.677,64 -64,64c-35.323,0 -64,-28.677 -64,-64c0,-35.323 28.677,-64 64,-64Zm-7,22.8l1.366,0.021l1.23,0.057l0.528,0.035c14.242,1.029 26.545,9.033 33.507,20.608l0.521,0.891l0.499,0.902l0.478,0.915l0.455,0.928l0.434,0.939l0.411,0.952l0.388,0.963l0.365,0.974l0.342,0.985l0.394,1.246l0.332,1.166l0.282,1.114l0.265,1.179l0.224,1.148l0.198,1.19l0.147,1.053l0.12,1.062l0.095,1.068l0.067,1.077l0.042,1.083l0.01,0.544c0,0 10.1,0 10.1,0c3.8,0 6.8,3 6.8,6.8l-0.018,0.788l-0.054,0.818l-0.089,0.79l-0.125,0.802l-0.184,0.903l-0.226,0.897l-0.27,0.891l-0.31,0.885l-0.351,0.879l-0.391,0.872l-0.429,0.865l-0.51,0.933l-0.504,0.844l-0.538,0.836l-0.572,0.828l-0.605,0.818l-0.636,0.809l-0.667,0.799l-0.697,0.79l-0.726,0.779l-0.754,0.769l-0.78,0.758l-0.806,0.747l-0.831,0.736c-2.552,2.209 -5.436,4.262 -8.532,6.119l-0.553,0.328l-0.517,0.301l-0.521,0.298l-0.525,0.294l-0.527,0.29l-0.532,0.287c-6.807,3.636 -14.382,6.343 -21.59,7.752l-1.154,0.215l-0.862,0.146c-1.959,0.32 -3.883,0.539 -5.747,0.65l-1.464,0.065l-1.173,0.019l-0.13,-0c-23.6,-0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2Zm-17.3,34.1l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Zm19.7,-0l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Z" style="fill:url(#_Linear2);"/><defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(5.23303e-15,85.4619,-85.4619,5.23303e-15,65.46,22.76)"><stop offset="0" style="stop-color:#fefeff;stop-opacity:1"/><stop offset="1" style="stop-color:#dfd8fc;stop-opacity:1"/></linearGradient><linearGradient id="_Linear2" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(7.83774e-15,128,-128,7.83774e-15,64,0)"><stop offset="0" style="stop-color:#534ab1;stop-opacity:1"/><stop offset="1" style="stop-color:#551bf8;stop-opacity:1"/></linearGradient></defs></svg>',iP='<svg width="62px" version="1.1" id="Layer_1" xmlns:ev="http://www.w3.org/2001/xml-events"xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 318.6 318.6"style="enable-background:new 0 0 318.6 318.6;" xml:space="preserve"><title>Metamask logo</title><style type="text/css">.st0{fill:#E2761B;stroke:#E2761B;stroke-linecap:round;stroke-linejoin:round;}.st1{fill:#E4761B;stroke:#E4761B;stroke-linecap:round;stroke-linejoin:round;}.st2{fill:#D7C1B3;stroke:#D7C1B3;stroke-linecap:round;stroke-linejoin:round;}.st3{fill:#233447;stroke:#233447;stroke-linecap:round;stroke-linejoin:round;}.st4{fill:#CD6116;stroke:#CD6116;stroke-linecap:round;stroke-linejoin:round;}.st5{fill:#E4751F;stroke:#E4751F;stroke-linecap:round;stroke-linejoin:round;}.st6{fill:#F6851B;stroke:#F6851B;stroke-linecap:round;stroke-linejoin:round;}.st7{fill:#C0AD9E;stroke:#C0AD9E;stroke-linecap:round;stroke-linejoin:round;}.st8{fill:#161616;stroke:#161616;stroke-linecap:round;stroke-linejoin:round;}.st9{fill:#763D16;stroke:#763D16;stroke-linecap:round;stroke-linejoin:round;}</style><polygon class="st0" points="274.1,35.5 174.6,109.4 193,65.8 "/><g><polygon class="st1" points="44.4,35.5 143.1,110.1 125.6,65.8 	"/><polygon class="st1" points="238.3,206.8 211.8,247.4 268.5,263 284.8,207.7 	"/><polygon class="st1" points="33.9,207.7 50.1,263 106.8,247.4 80.3,206.8 	"/><polygon class="st1" points="103.6,138.2 87.8,162.1 144.1,164.6 142.1,104.1 	"/><polygon class="st1" points="214.9,138.2 175.9,103.4 174.6,164.6 230.8,162.1 	"/><polygon class="st1" points="106.8,247.4 140.6,230.9 111.4,208.1 	"/><polygon class="st1" points="177.9,230.9 211.8,247.4 207.1,208.1 	"/></g><g><polygon class="st2" points="211.8,247.4 177.9,230.9 180.6,253 180.3,262.3 	"/><polygon class="st2" points="106.8,247.4 138.3,262.3 138.1,253 140.6,230.9 	"/></g><polygon class="st3" points="138.8,193.5 110.6,185.2 130.5,176.1 "/><polygon class="st3" points="179.7,193.5 188,176.1 208,185.2 "/><g><polygon class="st4" points="106.8,247.4 111.6,206.8 80.3,207.7 	"/><polygon class="st4" points="207,206.8 211.8,247.4 238.3,207.7 	"/><polygon class="st4" points="230.8,162.1 174.6,164.6 179.8,193.5 188.1,176.1 208.1,185.2 	"/><polygon class="st4" points="110.6,185.2 130.6,176.1 138.8,193.5 144.1,164.6 87.8,162.1 	"/></g><g><polygon class="st5" points="87.8,162.1 111.4,208.1 110.6,185.2 	"/><polygon class="st5" points="208.1,185.2 207.1,208.1 230.8,162.1 	"/><polygon class="st5" points="144.1,164.6 138.8,193.5 145.4,227.6 146.9,182.7 	"/><polygon class="st5" points="174.6,164.6 171.9,182.6 173.1,227.6 179.8,193.5 	"/></g><polygon class="st6" points="179.8,193.5 173.1,227.6 177.9,230.9 207.1,208.1 208.1,185.2 "/><polygon class="st6" points="110.6,185.2 111.4,208.1 140.6,230.9 145.4,227.6 138.8,193.5 "/><polygon class="st7" points="180.3,262.3 180.6,253 178.1,250.8 140.4,250.8 138.1,253 138.3,262.3 106.8,247.4 117.8,256.4 140.1,271.9 178.4,271.9 200.8,256.4 211.8,247.4 "/><polygon class="st8" points="177.9,230.9 173.1,227.6 145.4,227.6 140.6,230.9 138.1,253 140.4,250.8 178.1,250.8 180.6,253 "/><g><polygon class="st9" points="278.3,114.2 286.8,73.4 274.1,35.5 177.9,106.9 214.9,138.2 267.2,153.5 278.8,140 273.8,136.4 281.8,129.1 275.6,124.3 283.6,118.2 	"/><polygon class="st9" points="31.8,73.4 40.3,114.2 34.9,118.2 42.9,124.3 36.8,129.1 44.8,136.4 39.8,140 51.3,153.5 103.6,138.2 140.6,106.9 44.4,35.5 	"/></g><polygon class="st6" points="267.2,153.5 214.9,138.2 230.8,162.1 207.1,208.1 238.3,207.7 284.8,207.7 "/><polygon class="st6" points="103.6,138.2 51.3,153.5 33.9,207.7 80.3,207.7 111.4,208.1 87.8,162.1 "/><polygon class="st6" points="174.6,164.6 177.9,106.9 193.1,65.8 125.6,65.8 140.6,106.9 144.1,164.6 145.3,182.8 145.4,227.6 173.1,227.6 173.3,182.8 "/></svg>',oP='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Wallet connect logo</title><g transform="matrix(1.7268,0,0,1.7268,159.3,155.744)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M55.953,84.792L72.263,100.335C72.263,100.335 84.86,78.281 106.774,78.436C106.774,78.436 126.648,75.152 143.824,101.06L160.354,85.616C160.354,85.616 143.436,59.639 107.409,59.615C107.409,59.615 79.188,56.141 55.953,84.792Z" style="fill:rgb(59,153,252);"/><path d="M42.568,93.225L25.838,109.259L74.827,157.509L107.434,125.302L141.274,157.461L188.677,109.672L172.91,93.916L141.771,126.195L107.369,93.403L74.398,126.501L42.568,93.225Z" style="fill:rgb(59,153,252);"/></g></g></svg>',sP='<svg fill="none" width="62px" height="62px" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><clipPath id="a"><path d="m0 0h400v400h-400z"/></clipPath><g clip-path="url(#a)"><circle cx="200" cy="200" fill="#141414" r="199.5" stroke="#3b4040"/><path d="m122.519 148.965c42.791-41.729 112.171-41.729 154.962 0l5.15 5.022c2.14 2.086 2.14 5.469 0 7.555l-17.617 17.18c-1.07 1.043-2.804 1.043-3.874 0l-7.087-6.911c-29.853-29.111-78.253-29.111-108.106 0l-7.59 7.401c-1.07 1.043-2.804 1.043-3.874 0l-17.617-17.18c-2.14-2.086-2.14-5.469 0-7.555zm191.397 35.529 15.679 15.29c2.14 2.086 2.14 5.469 0 7.555l-70.7 68.944c-2.139 2.087-5.608 2.087-7.748 0l-50.178-48.931c-.535-.522-1.402-.522-1.937 0l-50.178 48.931c-2.139 2.087-5.608 2.087-7.748 0l-70.7015-68.945c-2.1396-2.086-2.1396-5.469 0-7.555l15.6795-15.29c2.1396-2.087 5.6085-2.087 7.7481 0l50.1789 48.932c.535.522 1.402.522 1.937 0l50.177-48.932c2.139-2.087 5.608-2.087 7.748 0l50.179 48.932c.535.522 1.402.522 1.937 0l50.179-48.931c2.139-2.087 5.608-2.087 7.748 0z" fill="#fff"/></g></svg>',aP='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Torus logo</title><g transform="matrix(1.9124,0,0,1.9124,159.3,159.3)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M57.267,51.007L56.757,84.626L85.505,85.297L85.565,164.593L119.635,164.873L119.472,51.399L57.267,51.007Z" style="fill:rgb(57,150,254);"/><g transform="matrix(1.06773,0,0,1.04155,-3.94432,-8.22515)"><circle cx="139.434" cy="73.102" r="16.365" style="fill:rgb(57,150,254);"/></g></g></g></svg>',fP='<svg style="pointer-events: none" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 55 55"><title>Safe connect button</title><path fill="rgb(5, 26, 245)" d="M25.5 26h-5c0-2.9-0.6-5.6-1.7-8.1c-1-2.3-2.4-4.3-4.2-6.1c-1.9-1.9-4.3-3.4-6.8-4.4c-2.3-0.9-4.8-1.4-7.3-1.4v-5h7h18v6.2v5.6v6.2Z" transform="translate(13,28.5) translate(0,0) translate(-13,-13.5)"/><path fill="rgb(5, 26, 245)" d="M53 1v11.9v6.1v7h-12.8h-6.1h-6.1v-13.4v-5.2v-6.4h12.6h5.3Z" transform="translate(41.5,28.7) translate(0,0) translate(-40.5,-13.5)"/></svg>',cP=`
	<svg xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="svg32" x="0px" y="0px" viewBox="0 0 256 256" width="62px" height="62px" style="enable-background:new 0 0 256 256;" xml:space="preserve">
		<style type="text/css">
			.flow-st0{fill:#00EF8B;}
			.flow-st1{fill:#FFFFFF;}
			.flow-st2{fill:#16FF99;}
		</style>
		<sodipodi:namedview bordercolor="#666666" borderopacity="1" fit-margin-bottom="0" fit-margin-left="0" fit-margin-right="0" fit-margin-top="0" gridtolerance="10" guidetolerance="10" id="namedview34" inkscape:current-layer="Layer_1-2" inkscape:cx="-165.09584" inkscape:cy="294.4716" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-height="878" inkscape:window-maximized="1" inkscape:window-width="1440" inkscape:window-x="0" inkscape:window-y="0" inkscape:zoom="0.40971549" objecttolerance="10" pagecolor="#ffffff" showgrid="false">
		</sodipodi:namedview>
		<g id="Layer_2_1_">
			<g id="Layer_1-2">
				<g id="g43" transform="scale(2.56)">
					<circle id="circle20" class="flow-st0" cx="50" cy="50" r="50"/>
					<rect id="rect22" x="57.8" y="42.2" class="flow-st1" width="14.1" height="14.1"/>
					<path id="path24" class="flow-st1" d="M43.7,61.6c0,2.9-2.4,5.3-5.3,5.3s-5.3-2.4-5.3-5.3c0-2.9,2.4-5.3,5.3-5.3c0,0,0,0,0,0h5.3V42.2 h-5.3C27.7,42.2,19,50.9,19,61.6S27.7,81,38.4,81s19.4-8.7,19.4-19.4l0,0v-5.3H43.7V61.6z"/>
					<path id="path26" class="flow-st1" d="M63.1,35.1H79V21H63.1c-10.7,0-19.4,8.7-19.4,19.4v1.8h14.1v-1.8C57.8,37.5,60.2,35.1,63.1,35.1 z"/>
					<polygon id="polygon28" class="flow-st2" points="57.8,42.2 57.8,42.2 43.7,42.2 43.7,56.3 57.8,56.3"/>
				</g>
			</g>
		</g>
	</svg>
`,lP=function(r){eP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,n=typeof window.ethereum<"u"?`<button class="wallet-button-tn" data-wallet="MetaMask" aria-label="Metamask wallet button">
                `.concat(iP,`
                <p>MetaMask</p>
            </button>`):"",o=this.client.solanaAvailable()?`<button class="wallet-button-tn" data-wallet="Phantom">
                `.concat(nP,`
                <p>Phantom</p>
            </button>`):"",i=this.client.safeConnectAvailable()?`<button class="wallet-button-tn" data-wallet="SafeConnect" aria-label="Safe connect wallet button">
			  `.concat(fP,`
			  <p>Safe Connect</p>
			</button>`):"",s=`
			<button class="wallet-button-tn" data-wallet="Flow" aria-label="Safe connect wallet button">
				`.concat(cP,`
				<p>Flow</p>
			</button>
		`);this.viewContainer.innerHTML=`
            <div class="inner-content-tn scroll-tn">
              <div class="wallet-selection-view-tn">
                <div class="issuer-view-tn">
                  <div class="brand-tn"></div>
                  <div class="headline-container-tn">
                    <p style="text-align: center;">Select Wallet</p>
                  </div>
                  <div class="wallet-button-container-tn">
                  	`.concat(i,`
                    `).concat(n,`
                    <button class="wallet-button-tn" data-wallet="WalletConnect" aria-label="Wallet Connect button">
                      `).concat(oP,`
                      <p>Wallet Connect</p>
                    </button>
					<button class="wallet-button-tn" data-wallet="WalletConnectV2" aria-label="Wallet Connect V2 button">
						`).concat(sP,`
						<p>Wallet Connect V2</p>
					</button>
                    <button class="wallet-button-tn" data-wallet="Torus" aria-label="Torus wallet button">
                      `).concat(aP,`
                      <p>Torus</p>
                    </button>
                    `).concat(o,`
					`).concat(s,`
                  </div>
                </div>
              </div>
            </div>
        `),this.viewContainer.querySelectorAll(".wallet-button-tn").forEach(function(a){a.addEventListener("click",t.connectWallet.bind(t))})},e.prototype.connectWallet=function(t){var n,o,i,s;return tP(this,void 0,void 0,function(){var a,l;return rP(this,function(f){switch(f.label){case 0:a=t.currentTarget.dataset.wallet,Re(2,"Connect wallet: "+a),this.ui.showLoaderDelayed(["<h4>Connecting to "+a+"...</h4>","<small>You may need to unlock your wallet to continue.</small>"],500),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.client.negotiatorConnectToWallet(a)];case 2:return f.sent(),a!=="Flow"&&(this.ui.dismissLoader(),!((o=(n=this.params)===null||n===void 0?void 0:n.data)===null||o===void 0)&&o.connectCallback?(s=(i=this.params)===null||i===void 0?void 0:i.data)===null||s===void 0||s.connectCallback():(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main"))),[3,4];case 3:return l=f.sent(),this.ui.showError(l),[2];case 4:return[2]}})})},e}(Zu),od=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},sd=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Em=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return i},uP=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},hP=function(){function r(e,t){this.isStartView=!0,this.loadTimer=null,this.options=e,this.client=t}return r.prototype.initialize=function(){var e,t;return od(this,void 0,void 0,function(){var n,o=this;return sd(this,function(i){switch(i.label){case 0:return this.popupContainer=document.querySelector(this.options.containerElement),this.popupContainer||(this.popupContainer=document.createElement("div"),this.popupContainer.className="overlay-tn",document.body.appendChild(this.popupContainer)),this.initializeUIType(),this.setTheme((t=(e=this.options)===null||e===void 0?void 0:e.theme)!==null&&t!==void 0?t:"light"),this.viewContainer=this.popupContainer.querySelector(".view-content-tn"),this.loadContainer=this.popupContainer.querySelector(".load-container-tn"),this.retryButton=this.loadContainer.querySelector(".dismiss-error-tn"),this.retryButton.addEventListener("click",function(){o.dismissLoader(),o.retryCallback&&(o.retryCallback(),o.retryCallback=void 0,o.retryButton.innerText="Dismiss")}),n=this.updateUI,[4,this.getStartScreen()];case 1:return n.apply(this,[i.sent()]),[2]}})})},r.prototype.getViewFactory=function(e){var t,n,o,i,s,a={};return!((t=this.options.viewOverrides)===null||t===void 0)&&t[e]&&(!((n=this.options.viewOverrides)===null||n===void 0)&&n[e].options&&(a=(o=this.options.viewOverrides)===null||o===void 0?void 0:o[e].options),!((i=this.options.viewOverrides)===null||i===void 0)&&i[e].component)?[(s=this.options.viewOverrides)===null||s===void 0?void 0:s[e].component,a]:[this.getDefaultView(e),a]},r.prototype.getDefaultView=function(e){switch(e){case"start":return kE;case"main":return XM;case"wallet":return lP}},r.prototype.getStartScreen=function(){return od(this,void 0,void 0,function(){return sd(this,function(e){switch(e.label){case 0:return this.options.alwaysShowStartScreen||!localStorage.getItem(h3.LOCAL_STORAGE_KEY)||!this.client.getTokenStore().getTotalTokenCount()?[2,"start"]:[4,this.canSkipWalletSelection()];case 1:return e.sent()?(this.client.enrichTokenLookupDataOnChainTokens(),[2,"main"]):[2,"wallet"]}})})},r.prototype.canSkipWalletSelection=function(){return od(this,void 0,void 0,function(){var e;return sd(this,function(t){switch(t.label){case 0:return this.client.getTokenStore().hasOnChainTokens()?[4,this.client.getWalletProvider()]:[3,3];case 1:return e=t.sent(),[4,e.loadConnections()];case 2:return t.sent(),[2,e.getConnectedWalletData().length>0];case 3:return[2,!0]}})})},r.prototype.getUIContainer=function(){return r.UI_CONTAINER_HTML},r.prototype.getFabButton=function(){return r.FAB_BUTTON_HTML},r.prototype.initializeUIType=function(){var e=this;switch(this.popupContainer.classList.add(this.options.uiType+"-tn"),this.options.uiType){case"popup":this.options.position?this.popupContainer.classList.add(this.options.position):this.popupContainer.classList.add("bottom-right"),this.popupContainer.innerHTML=this.getUIContainer()+this.getFabButton(),this.popupContainer.querySelector(".overlay-fab-button-tn").addEventListener("click",this.togglePopup.bind(this)),this.popupContainer.addEventListener("click",function(t){t.stopPropagation()}),document.addEventListener("click",function(){e.closeOverlay()});break;case"inline":this.popupContainer.innerHTML=r.UI_CONTAINER_HTML;break}},r.prototype.closeOverlay=function(){this.options.uiType!=="inline"&&(this.popupContainer.classList.add("close"),this.popupContainer.classList.remove("open"))},r.prototype.openOverlay=function(){var e=this;this.options.uiType!=="inline"&&setTimeout(function(){e.popupContainer.classList.add("open"),e.popupContainer.classList.remove("close")},10)},r.prototype.togglePopup=function(){bs(this.popupContainer,"No overlay element found.");var e=!this.popupContainer.classList.contains("open");e?this.openOverlay():this.closeOverlay()},r.prototype.updateUI=function(e,t){var n={};if(typeof e=="string"){this.isStartView=e==="start";var o=Em(this.getViewFactory(e),2),i=o[0],s=o[1];e=i,n=s}else this.isStartView=!1;if(!this.viewContainer){Re(3,"Element .overlay-content-tn not found: popup not initialized");return}this.currentView=new e(this.client,this,this.viewContainer,{options:this.options,viewOptions:n,data:t}),this.currentView.render()},r.prototype.viewIsNotStart=function(){return!this.isStartView},r.prototype.showError=function(e,t){if(t===void 0&&(t=!0),this.cancelDelayedLoader(),typeof e!="string"){if(e.name===ni.USER_ABORT)return this.dismissLoader();e=e.message?e.message:e.toString()}else if(e===ni.USER_ABORT)return this.dismissLoader();this.loadContainer.querySelector(".loader-tn").style.display="none",this.retryButton.style.display="block",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e,this.loadContainer.style.display="flex",t||(this.loadContainer.querySelector(".dismiss-error-tn").style.display="none")},r.prototype.setErrorRetryCallback=function(e){this.retryCallback=e,this.retryButton.innerText="Retry"},r.prototype.showLoaderDelayed=function(e,t,n){var o=this;n===void 0&&(n=!1),this.loadTimer&&clearTimeout(this.loadTimer),this.loadTimer=setTimeout(function(){o.showLoader.apply(o,uP([],Em(e),!1)),n&&o.openOverlay()},t)},r.prototype.cancelDelayedLoader=function(){this.loadTimer&&(clearTimeout(this.loadTimer),this.loadTimer=null)},r.prototype.showLoader=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.cancelDelayedLoader(),this.loadContainer.querySelector(".loader-tn").style.display="block",this.loadContainer.querySelector(".dismiss-error-tn").style.display="none",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e.join(`
`),this.loadContainer.style.display="flex"},r.prototype.dismissLoader=function(){this.cancelDelayedLoader(),this.loadContainer.style.display="none"},r.prototype.setTheme=function(e){this.popupContainer&&(this.popupContainer.classList.remove(this.options.theme+"-tn"),e=this.validateTheme(e),this.popupContainer.classList.add(e+"-tn"),this.options.theme=e)},r.prototype.validateTheme=function(e){return e&&e==="dark"?e:"light"},r.prototype.switchTheme=function(e){this.setTheme(e)},r.UI_CONTAINER_HTML=`
		<div class="overlay-content-tn" aria-label="Token negotiator overlay">
			<div class="load-container-tn" style="display: none;">
				<div class="lds-ellipsis loader-tn"><div></div><div></div><div></div><div></div></div>
				<div class="loader-msg-tn"></div>
				<button class="dismiss-error-tn btn-tn">Dismiss</button>
			</div>
			<div class="view-content-tn"></div>
		</div>
	`,r.FAB_BUTTON_HTML=`
		<button aria-label="token negotiator toggle" class="overlay-fab-button-tn">
		  <div class="overlay-fab-button-tn-img-container"></div>
		</button>
	`,r}(),dP=["evm","polygon","optimism","bsc","avalanche","fantom","goerli","mumbai","arbitrum"],pP=function(r){if(!r)return!0;var e=Jp();Re(2,"unSupportedUserAgents: ",r),Re(2,"browserData: ",e);var t=Object.keys(r);return!t.some(function(n){return r[n]&&e[n]})},g0=function(r){if(r===""){var e="You did not specify 'blockchain', the default value is evm. Check our github to see supported values.";return Qn(e,"warning",null,null),"evm"}if(r==="solana")return"solana";if(r==="evm")return"evm";if(r==="flow")return"flow";if(dP.includes(r.toLowerCase()))return Qn("We recommend you to set `blockchain` as 'evm'.","warning",null,null),"evm";var t="You set unsupported `blockchain` in the constructor. Check our github to see supported values.";return Qn(t,"error",null,null),r},gP=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},bP=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ts="https://api.token-discovery.tokenscript.org",vP=function(r,e){return gP(void 0,void 0,void 0,function(){var t;return bP(this,function(n){return"blockchain"in r&&r.blockchain==="solana"?t=yP(r,e):"blockchain"in r&&r.blockchain==="flow"?t=xP(r):t=mP(r,e),[2,Qu(t,!0)]})})},mP=function(r,e){var t=r.contract,n=r.chain,o=r.openSeaSlug,i="".concat(ts,"/get-token-collection?smartContract=").concat(t,"&chain=").concat(n,"&blockchain=evm");return o&&(i+="&openSeaSlug=".concat(o)),e&&(i+="&ipfsBaseUrl=".concat(e)),i},yP=function(r,e){var t=r.collectionAddress,n=r.chain,o="".concat(ts,"/get-token-collection?collectionAddress=").concat(t,"&chain=").concat(n,"&blockchain=solana");return e&&(o+="&ipfsBaseUrl=".concat(e)),o},xP=function(r){var e=r.contract,t=r.chain,n="".concat(ts,"/get-token-collection?smartContract=").concat(e,"&chain=").concat(t,"&blockchain=flow");return n},Sm=function(r,e,t){var n;return"blockchain"in r&&r.blockchain==="solana"?n=AP(r,e,t):"blockchain"in r&&r.blockchain==="flow"?n=EP(r,e):n=wP(r,e,t),Qu(n,!0)},wP=function(r,e,t){var n,o=r.contract,i=r.chain,s=r.openSeaSlug,a=g0((n=r?.blockchain)!==null&&n!==void 0?n:"");if(!(!o||!i)){var l="".concat(ts,"/get-owner-tokens?smartContract=").concat(o,"&chain=").concat(i,"&owner=").concat(e,"&blockchain=").concat(a);return s&&(l+="&openSeaSlug=".concat(s)),t&&(l+="&ipfsBaseUrl=".concat(t)),l}},AP=function(r,e,t){var n,o=r.chain,i=r.tokenProgram,s=r.collectionAddress,a=r.updateAuthority,l=r.symbol,f=g0((n=r?.blockchain)!==null&&n!==void 0?n:"");if(!(!o&&(!i||!s||!a||!l))){var u="".concat(ts,"/get-owner-tokens?chain=").concat(o,"&blockchain=").concat(f);return e&&(u+="&owner=".concat(e)),l&&(u+="&symbol=".concat(l)),t&&(u+="&ipfsBaseUrl=".concat(t)),i&&(u+="&tokenProgram=".concat(i)),s&&(u+="&collectionAddress=".concat(s)),a&&(u+="&updateAuthority=".concat(a)),u}},EP=function(r,e){var t,n=r.contract,o=r.chain,i=g0((t=r?.blockchain)!==null&&t!==void 0?t:"");if(!(!n||!o)){var s="".concat(ts,"/get-owner-tokens?smartContract=").concat(n,"&chain=").concat(o,"&owner=").concat(e,"&blockchain=").concat(i);return s}},b0={},v0={},$c={},ad={},m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.ATTESTATION_TYPE=void 0;m0.ATTESTATION_TYPE={phone:0,mail:1,InetPersona:2};var fd={},Le={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.DEBUGLEVEL=void 0;Kt.DEBUGLEVEL={LOW:1,MEDIUM:2,HIGH:3,VERBOSE:4};var _m;function Ot(){if(_m)return Le;_m=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.ecSignatureToSRVhex=Le.testsLogger=Le.logger=Le.isDomainValid=Le.formatGeneralizedDateTime=Le.ethAddressToUint8=Le.hashUint8To32bytesUint8=Le.hashStringTo32bytesUint8=Le.getInt64Bytes=Le.uint8tohex=Le.BnPowMod=Le.stringToArray=Le.base64ToUint8array=Le.pemOrBase64Orbase64urlToString=Le.base64toBase64Url=Le.uint8arrayToBase64=Le.uint8toString=Le.uint8merge=Le.bnToBuf=Le.bnToUint8=Le.bufToBn=Le.uint8ToBn=Le.egcd=Le.invert=Le.mod=Le.hexStringToBase64Url=Le.hexStringToBase64=Le.hexStringToUint8=Le.hexStringToArray=Le.stringToHex=void 0;const r=Kt,e=rs();let t=lf.exports;function n(y){for(var x="",w=0;w<y.length;w++)x+=""+y.charCodeAt(w).toString(16);return x}Le.stringToHex=n;function o(y=""){y.substr(0,2).toLowerCase()==="0x"&&(y=y.substr(2));let x=[],w=[...y];w.length%2&&w.unshift("0");let m="";if(!w||typeof w>"u"||!w.length)return[];let g;for(;w.length;){if(m="",m+=w.shift()+w.shift(),g=parseInt(m,16),isNaN(g))throw new Error("hexStringToArray input is not a hex string.");x.push(g)}return x}Le.hexStringToArray=o;function i(y=""){return Uint8Array.from(o(y))}Le.hexStringToUint8=i;function s(y=""){return C(i(y))}Le.hexStringToBase64=s;function a(y=""){return L(C(i(y)))}Le.hexStringToBase64Url=a;function l(y,x=e.CURVE_BN256.P){const w=y%x;return w>=0n?w:x+w}Le.mod=l;function f(y,x=e.CURVE_BN256.P){if(y===0n||x<=0n)throw new Error("invert: expected positive integers");let[w,m]=u(l(y,x),x);if(w!==1n)throw new Error("invert: does not exist");return l(m,x)}Le.invert=f;function u(y,x){let[w,m,g,h]=[0n,1n,1n,0n];for(;y!==0n;){let[S,D]=[x/y,x%y],[A,N]=[w-g*S,m-h*S];[x,y]=[y,D],[w,m]=[g,h],[g,h]=[A,N]}return[x,w,m]}Le.egcd=u;function p(y){return _(y)}Le.uint8ToBn=p;function _(y){let x=[];return Uint8Array.from(y).forEach(function(m){var g=m.toString(16);g.length%2&&(g="0"+g),x.push(g)}),BigInt("0x"+x.join(""))}Le.bufToBn=_;function T(y){return I(y)}Le.bnToUint8=T;function I(y,x=0){var w=BigInt(y).toString(16).padStart(x*2,"0");w.length%2&&(w="0"+w);for(var m=w.length/2,g=new Uint8Array(m),h=0,S=0;h<m;)g[h]=parseInt(w.slice(S,S+2),16),h+=1,S+=2;return g}Le.bnToBuf=I;function B(y){if(y.length===1)return y[0];let x=Uint8Array.from([]);if(y.length===0)return x;for(let w=0;w<y.length;w++){if(typeof y[w]!="object"||typeof y[w].length!="number")throw new Error("wrong input values");let m=Uint8Array.from(y[w]);if(!m||!m.length)continue;let g=new Uint8Array(x.length+m.length);g.set(x),g.set(m,x.length),x=g}return x}Le.uint8merge=B;function P(y){if(!y)return"";let x="",w=y.byteLength;for(let m=0;m<w;m++)x+=String.fromCharCode(y[m]);return x}Le.uint8toString=P;function C(y){let x=P(y);return typeof window>"u"||!window.btoa?new Buffer(y).toString("base64"):window.btoa(x)}Le.uint8arrayToBase64=C;function L(y){return y.split("/").join("_").split("+").join("-")}Le.base64toBase64Url=L;function j(y){let x=y.split(/\r?\n/);for(;x[x.length-1].trim()==="";)x.pop();return y.slice(0,3)==="---"&&(x.shift(),x.pop()),y=x.join(""),y=y.split("_").join("/").split("-").join("+").split(".").join("="),y}Le.pemOrBase64Orbase64urlToString=j;function z(y){y=j(y);let x;return typeof window>"u"||!window.atob?x=Uint8Array.from(Buffer.from(y,"base64")):x=Uint8Array.from(atob(y),w=>w.charCodeAt(0)),x}Le.base64ToUint8array=z;function Y(y){for(var x=[],w=0;w<y.length;w++)x.push(y.charCodeAt(w));return x}Le.stringToArray=Y;function re(y,x,w){let m=1n,g=y;for(;x>0n;)x&1n&&(m=m*g%w),g=g*g%w,x>>=1n;return m}Le.BnPowMod=re;function ge(y){return!y||!y.length?"":Array.from(y).map(x=>("0"+x.toString(16)).slice(-2)).join("")}Le.uint8tohex=ge;function ce(y){let x=Math.floor(y/4294967296);return new Uint8Array([x,x<<8,x<<16,x<<24,y,y<<8,y<<16,y<<24].map(w=>w>>>24))}Le.getInt64Bytes=ce;function be(y){return Ce(Uint8Array.from(Y(y)))}Le.hashStringTo32bytesUint8=be;function Ce(y){let x=Array.from(y);return B([new Uint8Array(32),new Uint8Array(o(t.keccak256(x)))]).slice(-32)}Le.hashUint8To32bytesUint8=Ce;function U(y){if(y.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null)throw new Error("Wrong Ethereum Address");let x=Uint8Array.from(o(y.substr(2)));if(x.length!=20)throw new Error("wrong address length");return x}Le.ethAddressToUint8=U;function E(y){var x=new Date(y),w=""+(x.getUTCMonth()+1),m=""+x.getUTCDate(),g=x.getUTCFullYear();let h=""+x.getUTCHours(),S=""+x.getUTCMinutes(),D=""+x.getUTCSeconds();return w.length<2&&(w="0"+w),m.length<2&&(m="0"+m),h.length<2&&(h="0"+h),S.length<2&&(S="0"+S),D.length<2&&(D="0"+D),[g,w,m,h,S,D].join("")+"Z"}Le.formatGeneralizedDateTime=E;function b(y){try{new URL(y)}catch{return!1}return!0}Le.isDomainValid=b;function c(y,...x){}Le.logger=c;function d(y,...x){}Le.testsLogger=d;function v(y,x){try{let w=y.r.toString(16).padStart(64,"0"),m=y.s,g=y.recoveryParam,h=x.ec.curve.n.shrn(1);m.cmp(h)>0&&(m=x.ec.curve.n.sub(m),g=1-g);let S=m.toString(16).padStart(64,"0");return w+S+(g==1?"1c":"1b")}catch(w){throw c(r.DEBUGLEVEL.LOW,w),new Error("Signature format doesn't fit.")}}return Le.ecSignatureToSRVhex=v,Le}var km;function rs(){return km||(km=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Point=r.CURVE_BN256=r.CURVES=r.CURVE_SECP256k1=void 0;const e=Ot(),t=Kt;r.CURVE_SECP256k1={P:2n**256n-2n**32n-977n,n:2n**256n-432420386565659656852420866394968145599n,magicExp:(2n**256n-2n**32n-977n+1n)/4n,A:0n,B:7n},r.CURVES={p256:{P:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),A:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),B:BigInt("0x5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),n:BigInt("0xFFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),GX:BigInt("0x6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296"),GY:BigInt("0x4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),h:1n},secp256k1:{P:2n**256n-2n**32n-977n,A:0n,B:7n,n:2n**256n-432420386565659656852420866394968145599n,GX:55066263022277343669578718895168534326250603453777594175500187360389116729240n,GY:32670510020758816978083085130507043184471273380659243275938904335757337482424n},BN256:{P:115792089237314936872688561244471742058375878355761205198700409522629664518163n,n:115792089237314936872688561244471742058035595988840268584488757999429535617037n,magicExp:115792089237314936872688561244471742058375878355761205198700409522629664518164n>>2n,A:0n,B:3n,h:1n}},r.CURVE_BN256={P:21888242871839275222246405745257275088696311157297823662689037894645226208583n,n:21888242871839275222246405745257275088548364400416034343698204186575808495617n,A:0n,B:3n,h:1n};class n{constructor(i,s,a=r.CURVE_BN256){this.x=i,this.y=s,this.useCurve=a,this.x=(0,e.mod)(i,this.useCurve.P),this.y=(0,e.mod)(s,this.useCurve.P),this.useCurve=a}double(){const i=this.x,s=this.y,a=(0,e.mod)(3n*i**2n*(0,e.invert)(2n*s,this.useCurve.P),this.useCurve.P),l=(0,e.mod)(a*a-2n*i,this.useCurve.P),f=(0,e.mod)(a*(i-l)-s,this.useCurve.P);return new n(l,f,this.useCurve)}newZero(){return new n(0n,0n,this.useCurve)}add(i){const[s,a]=[this,i],[l,f,u,p]=[s.x,s.y,a.x,a.y];if(l===0n||f===0n)return a;if(u===0n||p===0n)return s;if(l===u&&f===p)return this.double();if(l===u&&f===(0,e.mod)(-p,this.useCurve.P))return this.newZero();const _=(0,e.mod)((p-f)*(0,e.invert)(u-l,this.useCurve.P),this.useCurve.P),T=(0,e.mod)(_*_-l-u,this.useCurve.P),I=(0,e.mod)(_*(l-T)-f,this.useCurve.P);return new n(T,I,this.useCurve)}multiplyDA(i){let s=this.newZero(),a=this;for(;i>0n;)i&1n&&(s=s.add(a)),a=a.double(),i>>=1n;return s}isInfinity(){return this.x==null||this.y==null||this.x==0n&&this.y==0n}getEncoded(i=!1){if(this.isInfinity())return new Uint8Array(0);let s=(0,e.bnToBuf)(this.x,32);return i?(0,e.uint8merge)([Uint8Array.from([2]),s]):(0,e.uint8merge)([Uint8Array.from([4]),s,(0,e.bnToBuf)(this.y,32)])}equals(i){if(i==null)return!1;let s=this.isInfinity(),a=i.isInfinity();if(s||a)return s&&a;let l=this,f=i;return l.x===f.x&&l.y===f.y}static decodeFromHex(i,s=r.CURVE_BN256){if(i.length!=130)throw new Error("only decompressed points allowed. 65 bytes.");return n.decodeFromUint8((0,e.hexStringToUint8)(i),s)}static decodeFromUint8(i,s=r.CURVE_BN256){if(i.length!=65)throw new Error("only decompressed points allowed. 65 bytes.");let a;switch(i[0]){case 4:let f=(0,e.uint8ToBn)(i.slice(1,33)),u=(0,e.uint8ToBn)(i.slice(33));a=new n(f,u,s);break;default:throw new Error("only decompressed points allowed")}if(!a.validate()){let f="Point is not valid ("+a.x.toString(16)+","+a.y.toString(16)+")";throw(0,e.logger)(t.DEBUGLEVEL.LOW,f),new Error(f)}return a}validate(i=!1){return typeof i=="boolean"&&(i=this.useCurve),(0,e.mod)((0,e.mod)(this.y*this.y,i.P)-(0,e.mod)((0,e.BnPowMod)(this.x,3n,i.P)+(0,e.mod)(this.x*i.A,i.P)+i.B,i.P),i.P)==0n}negate(){return new n(this.x,this.useCurve.P-this.y,this.useCurve)}subtract(i){return this.add(i.negate())}}r.Point=n}(fd)),fd}var Uf={},$i={};/*!
 * MIT License
 * 
 * Copyright (c) 2017-2022 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const SP="[object ArrayBuffer]";class it{static isArrayBuffer(e){return Object.prototype.toString.call(e)===SP}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const n=it.toUint8Array(e),o=it.toUint8Array(t);if(n.length!==o.byteLength)return!1;for(let i=0;i<n.length;i++)if(n[i]!==o[i])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let n=0;for(const s of t)n+=s.byteLength;const o=new Uint8Array(n);let i=0;for(const s of t){const a=this.toUint8Array(s);o.set(a,i),i+=a.length}return e[1]?this.toView(o,e[1]):o.buffer}else return this.concat(e)}}class Tm{static fromString(e){const t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n.buffer}static toString(e){const t=it.toUint8Array(e);let n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return decodeURIComponent(escape(n))}}class mi{static toString(e,t=!1){const n=it.toArrayBuffer(e),o=new DataView(n);let i="";for(let s=0;s<n.byteLength;s+=2){const a=o.getUint16(s,t);i+=String.fromCharCode(a)}return i}static fromString(e,t=!1){const n=new ArrayBuffer(e.length*2),o=new DataView(n);for(let i=0;i<e.length;i++)o.setUint16(i*2,e.charCodeAt(i),t);return n}}class Qt{static isHex(e){return typeof e=="string"&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return typeof e=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return typeof e=="string"&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const n=it.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return mi.toString(n,!0);case"utf16":case"utf16be":return mi.toString(n);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return mi.fromString(e,!0);case"utf16":case"utf16be":return mi.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=it.toUint8Array(e);if(typeof btoa<"u"){const n=this.ToString(t,"binary");return btoa(n)}else return Buffer.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Qt.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Qt.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=Qt.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return Tm.fromString(e);case"utf16":case"utf16be":return mi.fromString(e);case"utf16le":case"usc2":return mi.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=Qt.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return Tm.toString(e);case"utf16":case"utf16be":return mi.toString(e);case"utf16le":case"usc2":return mi.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,n=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=e.charCodeAt(o);return n.buffer}static ToBinary(e){const t=it.toUint8Array(e);let n="";for(let o=0;o<t.length;o++)n+=String.fromCharCode(t[o]);return n}static ToHex(e){const t=it.toUint8Array(e),n="",o=[],i=t.length;for(let s=0;s<i;s++){const a=t[s].toString(16).padStart(2,"0");o.push(a)}return o.join(n)}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Qt.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const n=new Uint8Array(t.length/2);for(let o=0;o<t.length;o=o+2){const i=t.slice(o,o+2);n[o/2]=parseInt(i,16)}return n.buffer}static ToUtf16String(e,t=!1){return mi.toString(e,t)}static FromUtf16String(e,t=!1){return mi.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let n=0;n<t;n++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}}Qt.DEFAULT_UTF8_ENCODING="utf8";/*!
 Copyright (c) Peculiar Ventures, LLC
*/function Wa(r,e){let t=0;if(r.length===1)return r[0];for(let n=r.length-1;n>=0;n--)t+=r[r.length-1-n]*Math.pow(2,e*n);return t}function Ls(r,e,t=-1){const n=t;let o=r,i=0,s=Math.pow(2,e);for(let a=1;a<8;a++){if(r<s){let l;if(n<0)l=new ArrayBuffer(a),i=a;else{if(n<a)return new ArrayBuffer(0);l=new ArrayBuffer(n),i=n}const f=new Uint8Array(l);for(let u=a-1;u>=0;u--){const p=Math.pow(2,u*e);f[i-u-1]=Math.floor(o/p),o-=f[i-u-1]*p}return l}s*=Math.pow(2,e)}return new ArrayBuffer(0)}function fp(...r){let e=0,t=0;for(const i of r)e+=i.length;const n=new ArrayBuffer(e),o=new Uint8Array(n);for(const i of r)o.set(i,t),t+=i.length;return o}function Mw(){const r=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const a=r[0]===255&&r[1]&128,l=r[0]===0&&(r[1]&128)===0;(a||l)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),t=new Uint8Array(e);for(let a=0;a<this.valueHex.byteLength;a++)t[a]=0;t[0]=r[0]&128;const n=Wa(t,8),o=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(o);for(let a=0;a<this.valueHex.byteLength;a++)i[a]=r[a];return i[0]&=127,Wa(i,8)-n}function _P(r){const e=r<0?r*-1:r;let t=128;for(let n=1;n<8;n++){if(e<=t){if(r<0){const s=t-e,a=Ls(s,8,n),l=new Uint8Array(a);return l[0]|=128,a}let o=Ls(e,8,n),i=new Uint8Array(o);if(i[0]&128){const s=o.slice(0),a=new Uint8Array(s);o=new ArrayBuffer(o.byteLength+1),i=new Uint8Array(o);for(let l=0;l<s.byteLength;l++)i[l+1]=a[l];i[0]=0}return o}t*=Math.pow(2,8)}return new ArrayBuffer(0)}function kP(r,e){if(r.byteLength!==e.byteLength)return!1;const t=new Uint8Array(r),n=new Uint8Array(e);for(let o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}function sn(r,e){const t=r.toString(10);if(e<t.length)return"";const n=e-t.length,o=new Array(n);for(let s=0;s<n;s++)o[s]="0";return o.join("").concat(t)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function ku(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function Fg(r){let e=0,t=0;for(let o=0;o<r.length;o++)e+=r[o].byteLength;const n=new Uint8Array(e);for(let o=0;o<r.length;o++){const i=r[o];n.set(new Uint8Array(i),t),t+=i.byteLength}return n.buffer}function _o(r,e,t,n){return e instanceof Uint8Array?e.byteLength?t<0?(r.error="Wrong parameter: inputOffset less than zero",!1):n<0?(r.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-t-n<0?(r.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(r.error="Wrong parameter: inputBuffer has zero length",!1):(r.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class y0{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return Fg(this.items)}}const Df=[new Uint8Array([1])],Mm="0123456789",cd="name",Pm="valueHexView",TP="isHexOnly",MP="idBlock",PP="tagClass",IP="tagNumber",CP="isConstructed",BP="fromBER",OP="toBER",RP="local",Zr="",di=new ArrayBuffer(0),x0=new Uint8Array(0),Mc="EndOfContent",Pw="OCTET STRING",Iw="BIT STRING";function Gi(r){var e;return e=class extends r{constructor(...n){var o;super(...n);const i=n[0]||{};this.isHexOnly=(o=i.isHexOnly)!==null&&o!==void 0?o:!1,this.valueHexView=i.valueHex?it.toUint8Array(i.valueHex):x0}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}fromBER(n,o,i){const s=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!_o(this,s,o,i))return-1;const a=o+i;return this.valueHexView=s.subarray(o,a),this.valueHexView.length?(this.blockLength=i,a):(this.warnings.push("Zero buffer length"),o)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",di)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Qt.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class Js{constructor({blockLength:e=0,error:t=Zr,warnings:n=[],valueBeforeDecode:o=x0}={}){this.blockLength=e,this.error=t,this.warnings=n,this.valueBeforeDecodeView=it.toUint8Array(o)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Qt.ToHex(this.valueBeforeDecodeView)}}}Js.NAME="baseBlock";class Kr extends Js{fromBER(e,t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}Kr.NAME="valueBlock";class Cw extends Gi(Js){constructor({idBlock:e={}}={}){var t,n,o,i;super(),e?(this.isHexOnly=(t=e.isHexOnly)!==null&&t!==void 0?t:!1,this.valueHexView=e.valueHex?it.toUint8Array(e.valueHex):x0,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(o=e.tagNumber)!==null&&o!==void 0?o:-1,this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",di}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const o=new Uint8Array(1);if(!e){let i=this.tagNumber;i&=31,t|=i,o[0]=t}return o.buffer}if(!this.isHexOnly){const o=Ls(this.tagNumber,7),i=new Uint8Array(o),s=o.byteLength,a=new Uint8Array(s+1);if(a[0]=t|31,!e){for(let l=0;l<s-1;l++)a[l+1]=i[l]|128;a[s]=i[s-1]}return a.buffer}const n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=t|31,!e){const o=this.valueHexView;for(let i=0;i<o.length-1;i++)n[i+1]=o[i]|128;n[this.valueHexView.byteLength]=o[o.length-1]}return n.buffer}fromBER(e,t,n){const o=it.toUint8Array(e);if(!_o(this,o,t,n))return-1;const i=o.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;const a=i[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let l=1,f=this.valueHexView=new Uint8Array(255),u=255;for(;i[l]&128;){if(f[l-1]=i[l]&127,l++,l>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(l===u){u+=255;const _=new Uint8Array(u);for(let T=0;T<f.length;T++)_[T]=f[T];f=this.valueHexView=new Uint8Array(u)}}this.blockLength=l+1,f[l-1]=i[l]&127;const p=new Uint8Array(l);for(let _=0;_<l;_++)p[_]=f[_];f=this.valueHexView=new Uint8Array(l),f.set(p),this.blockLength<=9?this.tagNumber=Wa(f,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}Cw.NAME="identificationBlock";class Bw extends Js{constructor({lenBlock:e={}}={}){var t,n,o;super(),this.isIndefiniteForm=(t=e.isIndefiniteForm)!==null&&t!==void 0?t:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(o=e.length)!==null&&o!==void 0?o:0}fromBER(e,t,n){const o=it.toUint8Array(e);if(!_o(this,o,t,n))return-1;const i=o.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,t+this.blockLength;const s=i[0]&127;if(s>8)return this.error="Too big integer",-1;if(s+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const a=t+1,l=o.subarray(a,a+s);return l[s-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=Wa(l,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,t+this.blockLength}toBER(e=!1){let t,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=128),t;if(this.longFormUsed){const o=Ls(this.length,8);if(o.byteLength>127)return this.error="Too big length",di;if(t=new ArrayBuffer(o.byteLength+1),e)return t;const i=new Uint8Array(o);n=new Uint8Array(t),n[0]=o.byteLength|128;for(let s=0;s<o.byteLength;s++)n[s+1]=i[s];return t}return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}Bw.NAME="lengthBlock";const Pe={};class mr extends Js{constructor({name:e=Zr,optional:t=!1,primitiveSchema:n,...o}={},i){super(o),this.name=e,this.optional=t,n&&(this.primitiveSchema=n),this.idBlock=new Cw(o),this.lenBlock=new Bw(o),this.valueBlock=i?new i(o):new Kr(o)}fromBER(e,t,n){const o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}toBER(e,t){const n=t||new y0;t||Ow(this);const o=this.idBlock.toBER(e);if(n.write(o),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{const i=this.valueBlock.toBER(e);this.lenBlock.length=i.byteLength;const s=this.lenBlock.toBER(e);n.write(s),n.write(i)}return t?di:n.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Qt.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${Qt.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const t=this.toBER(),n=e.toBER();return kP(t,n)}}mr.NAME="BaseBlock";function Ow(r){if(r instanceof Pe.Constructed)for(const e of r.valueBlock.value)Ow(e)&&(r.lenBlock.isIndefiniteForm=!0);return!!r.lenBlock.isIndefiniteForm}class $g extends mr{constructor({value:e=Zr,...t}={},n){super(t,n),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,n){const o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}$g.NAME="BaseStringBlock";class Rw extends Gi(Kr){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}Rw.NAME="PrimitiveValueBlock";var Nw;class Vc extends mr{constructor(e={}){super(e,Rw),this.idBlock.isConstructed=!1}}Nw=Vc;Pe.Primitive=Nw;Vc.NAME="PRIMITIVE";function NP(r,e){if(r instanceof e)return r;const t=new e;return t.idBlock=r.idBlock,t.lenBlock=r.lenBlock,t.warnings=r.warnings,t.valueBeforeDecodeView=r.valueBeforeDecodeView,t}function gf(r,e=0,t=r.length){const n=e;let o=new mr({},Kr);const i=new Js;if(!_o(i,r,e,t))return o.error=i.error,{offset:-1,result:o};if(!r.subarray(e,e+t).length)return o.error="Zero buffer length",{offset:-1,result:o};let a=o.idBlock.fromBER(r,e,t);if(o.idBlock.warnings.length&&o.warnings.concat(o.idBlock.warnings),a===-1)return o.error=o.idBlock.error,{offset:-1,result:o};if(e=a,t-=o.idBlock.blockLength,a=o.lenBlock.fromBER(r,e,t),o.lenBlock.warnings.length&&o.warnings.concat(o.lenBlock.warnings),a===-1)return o.error=o.lenBlock.error,{offset:-1,result:o};if(e=a,t-=o.lenBlock.blockLength,!o.idBlock.isConstructed&&o.lenBlock.isIndefiniteForm)return o.error="Indefinite length form used for primitive encoding form",{offset:-1,result:o};let l=mr;switch(o.idBlock.tagClass){case 1:if(o.idBlock.tagNumber>=37&&o.idBlock.isHexOnly===!1)return o.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:o};switch(o.idBlock.tagNumber){case 0:if(o.idBlock.isConstructed&&o.lenBlock.length>0)return o.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:o};l=Pe.EndOfContent;break;case 1:l=Pe.Boolean;break;case 2:l=Pe.Integer;break;case 3:l=Pe.BitString;break;case 4:l=Pe.OctetString;break;case 5:l=Pe.Null;break;case 6:l=Pe.ObjectIdentifier;break;case 10:l=Pe.Enumerated;break;case 12:l=Pe.Utf8String;break;case 13:l=Pe.RelativeObjectIdentifier;break;case 14:l=Pe.TIME;break;case 15:return o.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:o};case 16:l=Pe.Sequence;break;case 17:l=Pe.Set;break;case 18:l=Pe.NumericString;break;case 19:l=Pe.PrintableString;break;case 20:l=Pe.TeletexString;break;case 21:l=Pe.VideotexString;break;case 22:l=Pe.IA5String;break;case 23:l=Pe.UTCTime;break;case 24:l=Pe.GeneralizedTime;break;case 25:l=Pe.GraphicString;break;case 26:l=Pe.VisibleString;break;case 27:l=Pe.GeneralString;break;case 28:l=Pe.UniversalString;break;case 29:l=Pe.CharacterString;break;case 30:l=Pe.BmpString;break;case 31:l=Pe.DATE;break;case 32:l=Pe.TimeOfDay;break;case 33:l=Pe.DateTime;break;case 34:l=Pe.Duration;break;default:{const f=o.idBlock.isConstructed?new Pe.Constructed:new Pe.Primitive;f.idBlock=o.idBlock,f.lenBlock=o.lenBlock,f.warnings=o.warnings,o=f}}break;case 2:case 3:case 4:default:l=o.idBlock.isConstructed?Pe.Constructed:Pe.Primitive}return o=NP(o,l),a=o.fromBER(r,e,o.lenBlock.isIndefiniteForm?t:o.lenBlock.length),o.valueBeforeDecodeView=r.subarray(n,n+o.blockLength),{offset:a,result:o}}function Ra(r){if(!r.byteLength){const e=new mr({},Kr);return e.error="Input buffer has zero length",{offset:-1,result:e}}return gf(it.toUint8Array(r).slice(),0,r.byteLength)}function LP(r,e){return r?1:e}class Go extends Kr{constructor({value:e=[],isIndefiniteForm:t=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,n){const o=it.toUint8Array(e);if(!_o(this,o,t,n))return-1;if(this.valueBeforeDecodeView=o.subarray(t,t+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),t;let i=t;for(;LP(this.isIndefiniteForm,n)>0;){const s=gf(o,i,n);if(s.offset===-1)return this.error=s.result.error,this.warnings.concat(s.result.warnings),-1;if(i=s.offset,this.blockLength+=s.result.blockLength,n-=s.result.blockLength,this.value.push(s.result),this.isIndefiniteForm&&s.result.constructor.NAME===Mc)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Mc?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){const n=t||new y0;for(let o=0;o<this.value.length;o++)this.value[o].toBER(e,n);return t?di:n.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}Go.NAME="ConstructedValueBlock";var Lw;class Xr extends mr{constructor(e={}){super(e,Go),this.idBlock.isConstructed=!0}fromBER(e,t,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){const e=[];for(const n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(o=>`  ${o}`).join(`
`));const t=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join(`
`)}`:`${t} :`}}Lw=Xr;Pe.Constructed=Lw;Xr.NAME="CONSTRUCTED";class Uw extends Kr{fromBER(e,t,n){return t}toBER(e){return di}}Uw.override="EndOfContentValueBlock";var Dw;class Vg extends mr{constructor(e={}){super(e,Uw),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}Dw=Vg;Pe.EndOfContent=Dw;Vg.NAME=Mc;var Fw;class Us extends mr{constructor(e={}){super(e,Kr),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,t+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+n}toBER(e,t){const n=new ArrayBuffer(2);if(!e){const o=new Uint8Array(n);o[0]=5,o[1]=0}return t&&t.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}}Fw=Us;Pe.Null=Fw;Us.NAME="NULL";class $w extends Gi(Kr){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=it.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,n){const o=it.toUint8Array(e);return _o(this,o,t,n)?(this.valueHexView=o.subarray(t,t+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,Mw.call(this),this.blockLength=n,t+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}$w.NAME="BooleanValueBlock";var Vw;class w0 extends mr{constructor(e={}){super(e,$w),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Vw=w0;Pe.Boolean=Vw;w0.NAME="BOOLEAN";class jw extends Gi(Go){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,n){let o=0;if(this.isConstructed){if(this.isHexOnly=!1,o=Go.prototype.fromBER.call(this,e,t,n),o===-1)return o;for(let i=0;i<this.value.length;i++){const s=this.value[i].constructor.NAME;if(s===Mc){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==Pw)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,o=super.fromBER(e,t,n),this.blockLength=n;return o}toBER(e,t){return this.isConstructed?Go.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}jw.NAME="OctetStringValueBlock";var qw;class co extends mr{constructor({idBlock:e={},lenBlock:t={},...n}={}){var o,i;(o=n.isConstructed)!==null&&o!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},jw),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+n);try{if(i.byteLength){const s=gf(i,0,i.byteLength);s.offset!==-1&&s.offset===n&&(this.valueBlock.value=[s.result])}}catch{}}return super.fromBER(e,t,n)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Xr.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${Qt.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof co&&e.push(t.valueBlock.valueHexView);return it.concat(e)}}qw=co;Pe.OctetString=qw;co.NAME=Pw;class Hw extends Gi(Go){constructor({unusedBits:e=0,isConstructed:t=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,n){if(!n)return t;let o=-1;if(this.isConstructed){if(o=Go.prototype.fromBER.call(this,e,t,n),o===-1)return o;for(const a of this.value){const l=a.constructor.NAME;if(l===Mc){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(l!==Iw)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const f=a.valueBlock;if(this.unusedBits>0&&f.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=f.unusedBits}return o}const i=it.toUint8Array(e);if(!_o(this,i,t,n))return-1;const s=i.subarray(t,t+n);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const a=s.subarray(1);try{if(a.byteLength){const l=gf(a,0,a.byteLength);l.offset!==-1&&l.offset===n-1&&(this.value=[l.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,t+n}toBER(e,t){if(this.isConstructed)return Go.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return di;const n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}Hw.NAME="BitStringValueBlock";var Gw;class Es extends mr{constructor({idBlock:e={},lenBlock:t={},...n}={}){var o,i;(o=n.isConstructed)!==null&&o!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},Hw),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Xr.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const o of t)e.push(o.toString(2).padStart(8,"0"));const n=e.join("");return`${this.constructor.NAME} : ${n.substring(0,n.length-this.valueBlock.unusedBits)}`}}}Gw=Es;Pe.BitString=Gw;Es.NAME=Iw;var Kw;function UP(r,e){const t=new Uint8Array([0]),n=new Uint8Array(r),o=new Uint8Array(e);let i=n.slice(0);const s=i.length-1,a=o.slice(0),l=a.length-1;let f=0;const u=l<s?s:l;let p=0;for(let _=u;_>=0;_--,p++){switch(!0){case p<a.length:f=i[s-p]+a[l-p]+t[0];break;default:f=i[s-p]+t[0]}switch(t[0]=f/10,!0){case p>=i.length:i=fp(new Uint8Array([f%10]),i);break;default:i[s-p]=f%10}}return t[0]>0&&(i=fp(t,i)),i}function Im(r){if(r>=Df.length)for(let e=Df.length;e<=r;e++){const t=new Uint8Array([0]);let n=Df[e-1].slice(0);for(let o=n.length-1;o>=0;o--){const i=new Uint8Array([(n[o]<<1)+t[0]]);t[0]=i[0]/10,n[o]=i[0]%10}t[0]>0&&(n=fp(t,n)),Df.push(n)}return Df[r]}function DP(r,e){let t=0;const n=new Uint8Array(r),o=new Uint8Array(e),i=n.slice(0),s=i.length-1,a=o.slice(0),l=a.length-1;let f,u=0;for(let p=l;p>=0;p--,u++)switch(f=i[s-u]-a[l-u]-t,!0){case f<0:t=1,i[s-u]=f+10;break;default:t=0,i[s-u]=f}if(t>0)for(let p=s-l+1;p>=0;p--,u++)if(f=i[s-u]-t,f<0)t=1,i[s-u]=f+10;else{t=0,i[s-u]=f;break}return i.slice()}class jg extends Gi(Kr){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=Mw.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(_P(e))}get valueDec(){return this._valueDec}fromDER(e,t,n,o=0){const i=this.fromBER(e,t,n);if(i===-1)return i;const s=this.valueHexView;return s[0]===0&&(s[1]&128)!==0?this.valueHexView=s.subarray(1):o!==0&&s.length<o&&(o-s.length>1&&(o=s.length+1),this.valueHexView=s.subarray(o-s.length)),i}toDER(e=!1){const t=this.valueHexView;switch(!0){case(t[0]&128)!==0:{const n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(t,1),this.valueHexView=n}break;case(t[0]===0&&(t[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,t,n){const o=super.fromBER(e,t,n);return o===-1||this.setValueHex(),o}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let t=new Uint8Array(this.valueHexView.length*8/3),n=0,o;const i=this.valueHexView;let s="",a=!1;for(let l=i.byteLength-1;l>=0;l--){o=i[l];for(let f=0;f<8;f++){if((o&1)===1)switch(n){case e:t=DP(Im(n),t),s="-";break;default:t=UP(t,Im(n))}n++,o>>=1}}for(let l=0;l<t.length;l++)t[l]&&(a=!0),a&&(s+=Mm.charAt(t[l]));return a===!1&&(s+=Mm.charAt(0)),s}}Kw=jg;jg.NAME="IntegerValueBlock";Object.defineProperty(Kw.prototype,"valueHex",{set:function(r){this.valueHexView=new Uint8Array(r),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var zw;class ai extends mr{constructor(e={}){super(e,jg),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return ku(),BigInt(this.valueBlock.toString())}static fromBigInt(e){ku();const t=BigInt(e),n=new y0,o=t.toString(16).replace(/^-/,""),i=new Uint8Array(Qt.FromHex(o));if(t<0){const a=new Uint8Array(i.length+(i[0]&128?1:0));a[0]|=128;const f=BigInt(`0x${Qt.ToHex(a)}`)+t,u=it.toUint8Array(Qt.FromHex(f.toString(16)));u[0]|=128,n.write(u)}else i[0]&128&&n.write(new Uint8Array([0])),n.write(i);return new ai({valueHex:n.final()})}convertToDER(){const e=new ai({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new ai({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}zw=ai;Pe.Integer=zw;ai.NAME="INTEGER";var Ww;class A0 extends ai{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Ww=A0;Pe.Enumerated=Ww;A0.NAME="ENUMERATED";class cp extends Gi(Kr){constructor({valueDec:e=-1,isFirstSid:t=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,n){if(!n)return t;const o=it.toUint8Array(e);if(!_o(this,o,t,n))return-1;const i=o.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=i[a]&127,this.blockLength++,(i[a]&128)!==0);a++);const s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Wa(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){ku();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const n=new Uint8Array(t.length/7);for(let o=0;o<n.length;o++)n[o]=parseInt(t.slice(o*7,o*7+7),2)+(o+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)i[s]=o[s]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}const t=Ls(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",di;const n=new Uint8Array(t.byteLength);if(!e){const o=new Uint8Array(t),i=t.byteLength-1;for(let s=0;s<i;s++)n[s]=o[s]|128;n[i]=o[i]}return n}toString(){let e="";if(this.isHexOnly)e=Qt.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}cp.NAME="sidBlock";class Jw extends Kr{constructor({value:e=Zr,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let o=t;for(;n>0;){const i=new cp;if(o=i.fromBER(e,o,n),o===-1)return this.blockLength=0,this.error=i.error,o;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return o}toBER(e){const t=[];for(let n=0;n<this.value.length;n++){const o=this.value[n].toBER(e);if(o.byteLength===0)return this.error=this.value[n].error,di;t.push(o)}return Fg(t)}fromString(e){this.value=[];let t=0,n=0,o="",i=!1;do if(n=e.indexOf(".",t),n===-1?o=e.substring(t):o=e.substring(t,n),t=n+1,i){const s=this.value[0];let a=0;switch(s.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}const l=parseInt(o,10);if(isNaN(l))return;s.valueDec=l+a,i=!1}else{const s=new cp;if(o>Number.MAX_SAFE_INTEGER){ku();const a=BigInt(o);s.valueBigInt=a}else if(s.valueDec=parseInt(o,10),isNaN(s.valueDec))return;this.value.length||(s.isFirstSid=!0,i=!0),this.value.push(s)}while(n!==-1)}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let o=this.value[n].toString();n!==0&&(e=`${e}.`),t?(o=`{${o}}`,this.value[n].isFirstSid?e=`2.{${o} - 80}`:e+=o):e+=o}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}Jw.NAME="ObjectIdentifierValueBlock";var Qw;class E0 extends mr{constructor(e={}){super(e,Jw),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Qw=E0;Pe.ObjectIdentifier=Qw;E0.NAME="OBJECT IDENTIFIER";class lp extends Gi(Js){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,n){if(n===0)return t;const o=it.toUint8Array(e);if(!_o(this,o,t,n))return-1;const i=o.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=i[a]&127,this.blockLength++,(i[a]&128)!==0);a++);const s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Wa(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)i[s]=o[s]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}const t=Ls(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",di;const n=new Uint8Array(t.byteLength);if(!e){const o=new Uint8Array(t),i=t.byteLength-1;for(let s=0;s<i;s++)n[s]=o[s]|128;n[i]=o[i]}return n.buffer}toString(){let e="";return this.isHexOnly?e=Qt.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}lp.NAME="relativeSidBlock";class Yw extends Kr{constructor({value:e=Zr,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let o=t;for(;n>0;){const i=new lp;if(o=i.fromBER(e,o,n),o===-1)return this.blockLength=0,this.error=i.error,o;this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return o}toBER(e,t){const n=[];for(let o=0;o<this.value.length;o++){const i=this.value[o].toBER(e);if(i.byteLength===0)return this.error=this.value[o].error,di;n.push(i)}return Fg(n)}fromString(e){this.value=[];let t=0,n=0,o="";do{n=e.indexOf(".",t),n===-1?o=e.substring(t):o=e.substring(t,n),t=n+1;const i=new lp;if(i.valueDec=parseInt(o,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(n!==-1);return!0}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let o=this.value[n].toString();n!==0&&(e=`${e}.`),t&&(o=`{${o}}`),e+=o}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}Yw.NAME="RelativeObjectIdentifierValueBlock";var Zw;class qg extends mr{constructor(e={}){super(e,Yw),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Zw=qg;Pe.RelativeObjectIdentifier=Zw;qg.NAME="RelativeObjectIdentifier";var Xw;class lo extends Xr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Xw=lo;Pe.Sequence=Xw;lo.NAME="SEQUENCE";var e4;class uo extends Xr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}e4=uo;Pe.Set=e4;uo.NAME="SET";class t4 extends Gi(Kr){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=Zr}toJSON(){return{...super.toJSON(),value:this.value}}}t4.NAME="StringValueBlock";class r4 extends t4{}r4.NAME="SimpleStringValueBlock";class un extends $g{constructor({...e}={}){super(e,r4)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,it.toUint8Array(e))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=e.charCodeAt(o);this.valueBlock.value=e}}un.NAME="SIMPLE STRING";class n4 extends un{fromBuffer(e){this.valueBlock.valueHexView=it.toUint8Array(e);try{this.valueBlock.value=Qt.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=Qt.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Qt.FromUtf8String(e)),this.valueBlock.value=e}}n4.NAME="Utf8StringValueBlock";var i4;class ko extends n4{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}i4=ko;Pe.Utf8String=i4;ko.NAME="UTF8String";class o4 extends un{fromBuffer(e){this.valueBlock.value=Qt.ToUtf16String(e),this.valueBlock.valueHexView=it.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Qt.FromUtf16String(e))}}o4.NAME="BmpStringValueBlock";var s4;class S0 extends o4{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}s4=S0;Pe.BmpString=s4;S0.NAME="BMPString";class a4 extends un{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(t);for(let o=0;o<n.length;o+=4)n[o]=n[o+3],n[o+1]=n[o+2],n[o+2]=0,n[o+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t*4);for(let o=0;o<t;o++){const i=Ls(e.charCodeAt(o),8),s=new Uint8Array(i);if(s.length>4)continue;const a=4-s.length;for(let l=s.length-1;l>=0;l--)n[o*4+l+a]=s[l]}this.valueBlock.value=e}}a4.NAME="UniversalStringValueBlock";var f4;class _0 extends a4{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}f4=_0;Pe.UniversalString=f4;_0.NAME="UniversalString";var c4;class k0 extends un{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}c4=k0;Pe.NumericString=c4;k0.NAME="NumericString";var l4;class T0 extends un{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}l4=T0;Pe.PrintableString=l4;T0.NAME="PrintableString";var u4;class M0 extends un{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}u4=M0;Pe.TeletexString=u4;M0.NAME="TeletexString";var h4;class P0 extends un{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}h4=P0;Pe.VideotexString=h4;P0.NAME="VideotexString";var d4;class I0 extends un{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}d4=I0;Pe.IA5String=d4;I0.NAME="IA5String";var p4;class C0 extends un{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}p4=C0;Pe.GraphicString=p4;C0.NAME="GraphicString";var g4;class jc extends un{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}g4=jc;Pe.VisibleString=g4;jc.NAME="VisibleString";var b4;class B0 extends un{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}b4=B0;Pe.GeneralString=b4;B0.NAME="GeneralString";var v4;class O0 extends un{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}v4=O0;Pe.CharacterString=v4;O0.NAME="CharacterString";var m4;class qc extends jc{constructor({value:e,valueDate:t,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let o=0;o<e.length;o++)this.valueBlock.valueHexView[o]=e.charCodeAt(o)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,it.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}const o=parseInt(n[1],10);o>=50?this.year=1900+o:this.year=2e3+o,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){const t=new Array(7);return t[0]=sn(this.year<2e3?this.year-1900:this.year-2e3,2),t[1]=sn(this.month,2),t[2]=sn(this.day,2),t[3]=sn(this.hour,2),t[4]=sn(this.minute,2),t[5]=sn(this.second,2),t[6]="Z",t.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}m4=qc;Pe.UTCTime=m4;qc.NAME="UTCTime";var y4;class R0 extends qc{constructor(e={}){var t;super(e),(t=this.millisecond)!==null&&t!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t=!1,n="",o="",i=0,s,a=0,l=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),t=!0;else{const p=new Number(e[e.length-1]);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(t){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let p=1,_=n.indexOf("+"),T="";if(_===-1&&(_=n.indexOf("-"),p=-1),_!==-1){if(T=n.substring(_+1),n=n.substring(0,_),T.length!==2&&T.length!==4)throw new Error("Wrong input string for conversion");let I=parseInt(T.substring(0,2),10);if(isNaN(I.valueOf()))throw new Error("Wrong input string for conversion");if(a=p*I,T.length===4){if(I=parseInt(T.substring(2,4),10),isNaN(I.valueOf()))throw new Error("Wrong input string for conversion");l=p*I}}}let f=n.indexOf(".");if(f===-1&&(f=n.indexOf(",")),f!==-1){const p=new Number(`0${n.substring(f)}`);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");i=p.valueOf(),o=n.substring(0,f)}else o=n;switch(!0){case o.length===8:if(s=/(\d{4})(\d{2})(\d{2})/ig,f!==-1)throw new Error("Wrong input string for conversion");break;case o.length===10:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let p=60*i;this.minute=Math.floor(p),p=60*(p-this.minute),this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case o.length===12:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let p=60*i;this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case o.length===14:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){const p=1e3*i;this.millisecond=Math.floor(p)}break;default:throw new Error("Wrong input string for conversion")}const u=s.exec(o);if(u===null)throw new Error("Wrong input string for conversion");for(let p=1;p<u.length;p++)switch(p){case 1:this.year=parseInt(u[p],10);break;case 2:this.month=parseInt(u[p],10);break;case 3:this.day=parseInt(u[p],10);break;case 4:this.hour=parseInt(u[p],10)+a;break;case 5:this.minute=parseInt(u[p],10)+l;break;case 6:this.second=parseInt(u[p],10);break;default:throw new Error("Wrong input string for conversion")}if(t===!1){const p=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=p.getUTCFullYear(),this.month=p.getUTCMonth(),this.day=p.getUTCDay(),this.hour=p.getUTCHours(),this.minute=p.getUTCMinutes(),this.second=p.getUTCSeconds(),this.millisecond=p.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const t=[];return t.push(sn(this.year,4)),t.push(sn(this.month,2)),t.push(sn(this.day,2)),t.push(sn(this.hour,2)),t.push(sn(this.minute,2)),t.push(sn(this.second,2)),this.millisecond!==0&&(t.push("."),t.push(sn(this.millisecond,3))),t.push("Z"),t.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}y4=R0;Pe.GeneralizedTime=y4;R0.NAME="GeneralizedTime";var x4;class Hg extends ko{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}x4=Hg;Pe.DATE=x4;Hg.NAME="DATE";var w4;class Gg extends ko{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}w4=Gg;Pe.TimeOfDay=w4;Gg.NAME="TimeOfDay";var A4;class Kg extends ko{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}A4=Kg;Pe.DateTime=A4;Kg.NAME="DateTime";var E4;class zg extends ko{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}E4=zg;Pe.Duration=E4;zg.NAME="Duration";var S4;class Wg extends ko{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}S4=Wg;Pe.TIME=S4;Wg.NAME="TIME";class Ds{constructor({name:e=Zr,optional:t=!1}={}){this.name=e,this.optional=t}}class Jg extends Ds{constructor({value:e=[],...t}={}){super(t),this.value=e}}class Tu extends Ds{constructor({value:e=new Ds,local:t=!1,...n}={}){super(n),this.value=e,this.local=t}}class FP{constructor({data:e=x0}={}){this.dataView=it.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=it.toUint8Array(e)}fromBER(e,t,n){const o=t+n;return this.dataView=it.toUint8Array(e).subarray(t,o),o}toBER(e){return this.dataView.slice().buffer}}function ys(r,e,t){if(t instanceof Jg){for(let i=0;i<t.value.length;i++)if(ys(r,e,t.value[i]).verified)return{verified:!0,result:r};{const i={verified:!1,result:{error:"Wrong values for Choice type"}};return t.hasOwnProperty(cd)&&(i.name=t.name),i}}if(t instanceof Ds)return t.hasOwnProperty(cd)&&(r[t.name]=e),{verified:!0,result:r};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(MP in t))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(BP in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(OP in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=t.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(t.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(t.idBlock.hasOwnProperty(PP)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty(IP)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty(CP)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:r};if(!(TP in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:r};if(t.idBlock.isHexOnly){if(!(Pm in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const i=t.idBlock.valueHexView,s=e.idBlock.valueHexView;if(i.length!==s.length)return{verified:!1,result:r};for(let a=0;a<i.length;a++)if(i[a]!==s[1])return{verified:!1,result:r}}if(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Zr),t.name&&(r[t.name]=e)),t instanceof Pe.Constructed){let i=0,s={verified:!1,result:{error:"Unknown error"}},a=t.valueBlock.value.length;if(a>0&&t.valueBlock.value[0]instanceof Tu&&(a=e.valueBlock.value.length),a===0)return{verified:!0,result:r};if(e.valueBlock.value.length===0&&t.valueBlock.value.length!==0){let l=!0;for(let f=0;f<t.valueBlock.value.length;f++)l=l&&(t.valueBlock.value[f].optional||!1);return l?{verified:!0,result:r}:(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Zr),t.name&&delete r[t.name]),r.error="Inconsistent object length",{verified:!1,result:r})}for(let l=0;l<a;l++)if(l-i>=e.valueBlock.value.length){if(t.valueBlock.value[l].optional===!1){const f={verified:!1,result:r};return r.error="Inconsistent length between ASN.1 data and schema",t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Zr),t.name&&(delete r[t.name],f.name=t.name)),f}}else if(t.valueBlock.value[0]instanceof Tu){if(s=ys(r,e.valueBlock.value[l],t.valueBlock.value[0].value),s.verified===!1)if(t.valueBlock.value[0].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Zr),t.name&&delete r[t.name]),s;if(cd in t.valueBlock.value[0]&&t.valueBlock.value[0].name.length>0){let f={};RP in t.valueBlock.value[0]&&t.valueBlock.value[0].local?f=e:f=r,typeof f[t.valueBlock.value[0].name]>"u"&&(f[t.valueBlock.value[0].name]=[]),f[t.valueBlock.value[0].name].push(e.valueBlock.value[l])}}else if(s=ys(r,e.valueBlock.value[l-i],t.valueBlock.value[l]),s.verified===!1)if(t.valueBlock.value[l].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Zr),t.name&&delete r[t.name]),s;if(s.verified===!1){const l={verified:!1,result:r};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Zr),t.name&&(delete r[t.name],l.name=t.name)),l}return{verified:!0,result:r}}if(t.primitiveSchema&&Pm in e.valueBlock){const i=gf(e.valueBlock.valueHexView);if(i.offset===-1){const s={verified:!1,result:i.result};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Zr),t.name&&(delete r[t.name],s.name=t.name)),s}return ys(r,i.result,t.primitiveSchema)}return{verified:!0,result:r}}function $P(r,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const t=gf(it.toUint8Array(r));return t.offset===-1?{verified:!1,result:t.result}:ys(t.result,t.result,e)}const _4=Object.freeze(Object.defineProperty({__proto__:null,Any:Ds,BaseBlock:mr,BaseStringBlock:$g,BitString:Es,BmpString:S0,Boolean:w0,CharacterString:O0,Choice:Jg,Constructed:Xr,DATE:Hg,DateTime:Kg,Duration:zg,EndOfContent:Vg,Enumerated:A0,GeneralString:B0,GeneralizedTime:R0,GraphicString:C0,HexBlock:Gi,IA5String:I0,Integer:ai,Null:Us,NumericString:k0,ObjectIdentifier:E0,OctetString:co,Primitive:Vc,PrintableString:T0,RawData:FP,RelativeObjectIdentifier:qg,Repeated:Tu,Sequence:lo,Set:uo,TIME:Wg,TeletexString:M0,TimeOfDay:Gg,UTCTime:qc,UniversalString:_0,Utf8String:ko,ValueBlock:Kr,VideotexString:P0,ViewWriter:y0,VisibleString:jc,compareSchema:ys,fromBER:Ra,verifySchema:$P},Symbol.toStringTag,{value:"Module"}));var jr;(function(r){r[r.Sequence=0]="Sequence",r[r.Set=1]="Set",r[r.Choice=2]="Choice"})(jr||(jr={}));var Mt;(function(r){r[r.Any=1]="Any",r[r.Boolean=2]="Boolean",r[r.OctetString=3]="OctetString",r[r.BitString=4]="BitString",r[r.Integer=5]="Integer",r[r.Enumerated=6]="Enumerated",r[r.ObjectIdentifier=7]="ObjectIdentifier",r[r.Utf8String=8]="Utf8String",r[r.BmpString=9]="BmpString",r[r.UniversalString=10]="UniversalString",r[r.NumericString=11]="NumericString",r[r.PrintableString=12]="PrintableString",r[r.TeletexString=13]="TeletexString",r[r.VideotexString=14]="VideotexString",r[r.IA5String=15]="IA5String",r[r.GraphicString=16]="GraphicString",r[r.VisibleString=17]="VisibleString",r[r.GeneralString=18]="GeneralString",r[r.CharacterString=19]="CharacterString",r[r.UTCTime=20]="UTCTime",r[r.GeneralizedTime=21]="GeneralizedTime",r[r.DATE=22]="DATE",r[r.TimeOfDay=23]="TimeOfDay",r[r.DateTime=24]="DateTime",r[r.Duration=25]="Duration",r[r.TIME=26]="TIME",r[r.Null=27]="Null"})(Mt||(Mt={}));class VP{constructor(e,t=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(it.isBufferSource(e))this.unusedBits=t,this.value=it.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Es))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Es({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Es({name:e})}toNumber(){let e="";const t=new Uint8Array(this.value);for(const n of t)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let t=e.toString(2);const n=t.length+7>>3;this.unusedBits=(n<<3)-t.length;const o=new Uint8Array(n);t=t.padStart(n<<3,"0").split("").reverse().join("");let i=0;for(;i<n;)o[i]=parseInt(t.slice(i<<3,(i<<3)+8),2),i++;this.value=o.buffer}}class k4{constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):it.isBufferSource(e)?this.buffer=it.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(e){if(!(e instanceof co))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new co({valueHex:this.buffer})}toSchema(e){return new co({name:e})}}const T4={fromASN:r=>r instanceof Us?null:r.valueBeforeDecodeView,toASN:r=>{if(r===null)return new Us;const e=Ra(r);if(e.result.error)throw new Error(e.result.error);return e.result}},M4={fromASN:r=>r.valueBlock.valueHexView.byteLength>=4?r.valueBlock.toString():r.valueBlock.valueDec,toASN:r=>new ai({value:+r})},P4={fromASN:r=>r.valueBlock.valueDec,toASN:r=>new A0({value:r})},jP={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new ai({valueHex:r})},qP={fromASN:r=>r.toBigInt(),toASN:r=>ai.fromBigInt(r)},I4={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new Es({valueHex:r})},C4={fromASN:r=>r.valueBlock.toString(),toASN:r=>new E0({value:r})},B4={fromASN:r=>r.valueBlock.value,toASN:r=>new w0({value:r})},O4={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new co({valueHex:r})},HP={fromASN:r=>new k4(r.getValue()),toASN:r=>r.toASN()};function Pn(r){return{fromASN:e=>e.valueBlock.value,toASN:e=>new r({value:e})}}const R4=Pn(ko),N4=Pn(S0),L4=Pn(_0),U4=Pn(k0),D4=Pn(T0),F4=Pn(M0),$4=Pn(P0),V4=Pn(I0),j4=Pn(C0),q4=Pn(jc),H4=Pn(B0),G4=Pn(O0),K4={fromASN:r=>r.toDate(),toASN:r=>new qc({valueDate:r})},z4={fromASN:r=>r.toDate(),toASN:r=>new R0({valueDate:r})},W4={fromASN:()=>null,toASN:()=>new Us};function N0(r){switch(r){case Mt.Any:return T4;case Mt.BitString:return I4;case Mt.BmpString:return N4;case Mt.Boolean:return B4;case Mt.CharacterString:return G4;case Mt.Enumerated:return P4;case Mt.GeneralString:return H4;case Mt.GeneralizedTime:return z4;case Mt.GraphicString:return j4;case Mt.IA5String:return V4;case Mt.Integer:return M4;case Mt.Null:return W4;case Mt.NumericString:return U4;case Mt.ObjectIdentifier:return C4;case Mt.OctetString:return O4;case Mt.PrintableString:return D4;case Mt.TeletexString:return F4;case Mt.UTCTime:return K4;case Mt.UniversalString:return L4;case Mt.Utf8String:return R4;case Mt.VideotexString:return $4;case Mt.VisibleString:return q4;default:return null}}function io(r){return typeof r=="function"&&r.prototype?r.prototype.toASN&&r.prototype.fromASN?!0:io(r.prototype):!!(r&&typeof r=="object"&&"toASN"in r&&"fromASN"in r)}function J4(r){var e;if(r){const t=Object.getPrototypeOf(r);return((e=t?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:J4(t)}return!1}function GP(r,e){if(!(r&&e)||r.byteLength!==e.byteLength)return!1;const t=new Uint8Array(r),n=new Uint8Array(e);for(let o=0;o<r.byteLength;o++)if(t[o]!==n[o])return!1;return!0}class KP{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){const n=this.items.get(e);if(!n)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!n.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(e){const t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){const t={type:jr.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(t,n),t.items=Object.assign({},t.items,n.items)),t}create(e,t){const n=this.items.get(e)||this.createDefault(e),o=[];for(const i in n.items){const s=n.items[i],a=t?i:"";let l;if(typeof s.type=="number"){const u=Mt[s.type],p=_4[u];if(!p)throw new Error(`Cannot get ASN1 class by name '${u}'`);l=new p({name:a})}else io(s.type)?l=new s.type().toSchema(a):s.optional?this.get(s.type).type===jr.Choice?l=new Ds({name:a}):(l=this.create(s.type,!1),l.name=a):l=new Ds({name:a});const f=!!s.optional||s.defaultValue!==void 0;if(s.repeated){l.name="";const u=s.repeated==="set"?uo:lo;l=new u({name:"",value:[new Tu({name:a,value:l})]})}if(s.context!==null&&s.context!==void 0)if(s.implicit)if(typeof s.type=="number"||io(s.type)){const u=s.repeated?Xr:Vc;o.push(new u({name:a,optional:f,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);const u=!!s.repeated;let p=u?l:this.get(s.type,!0).schema;p="valueBlock"in p?p.valueBlock.value:p.value,o.push(new Xr({name:u?"":a,optional:f,idBlock:{tagClass:3,tagNumber:s.context},value:p}))}else o.push(new Xr({optional:f,idBlock:{tagClass:3,tagNumber:s.context},value:[l]}));else l.optional=f,o.push(l)}switch(n.type){case jr.Sequence:return new lo({value:o,name:""});case jr.Set:return new uo({value:o,name:""});case jr.Choice:return new Jg({value:o,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){const t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}const En=new KP,L0=r=>e=>{let t;En.has(e)?t=En.get(e):(t=En.createDefault(e),En.set(e,t)),Object.assign(t,r)},zP=()=>L0({type:jr.Choice}),WP=r=>L0({type:jr.Set,...r}),JP=r=>L0({type:jr.Sequence,...r}),QP=r=>(e,t)=>{let n;En.has(e.constructor)?n=En.get(e.constructor):(n=En.createDefault(e.constructor),En.set(e.constructor,n));const o=Object.assign({},r);if(typeof o.type=="number"&&!o.converter){const i=N0(r.type);if(!i)throw new Error(`Cannot get default converter for property '${t}' of ${e.constructor.name}`);o.converter=i}n.items[t]=o};class up extends Error{constructor(){super(...arguments),this.schemas=[]}}class Qg{static parse(e,t){const n=Ra(e);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,t)}static fromASN(e,t){var n;try{if(io(t))return new t().fromASN(e);const o=En.get(t);En.cache(t);let i=o.schema;if(e.constructor===Xr&&o.type!==jr.Choice){i=new Xr({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:o.schema.valueBlock.value});for(const l in o.items)delete e[l]}const s=ys({},e,i);if(!s.verified)throw new up(`Data does not match to ${t.name} ASN1 schema. ${s.result.error}`);const a=new t;if(J4(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const l=o.itemType;if(typeof l=="number"){const f=N0(l);if(!f)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,u=>f.fromASN(u))}else return t.from(e.valueBlock.value,f=>this.fromASN(f,l))}for(const l in o.items){const f=s.result[l];if(!f)continue;const u=o.items[l],p=u.type;if(typeof p=="number"||io(p)){const _=(n=u.converter)!==null&&n!==void 0?n:io(p)?new p:null;if(!_)throw new Error("Converter is empty");if(u.repeated)if(u.implicit){const T=u.repeated==="sequence"?lo:uo,I=new T;I.valueBlock=f.valueBlock;const B=Ra(I.toBER(!1));if(B.offset===-1)throw new Error(`Cannot parse the child item. ${B.result.error}`);if(!("value"in B.result.valueBlock&&Array.isArray(B.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const P=B.result.valueBlock.value;a[l]=Array.from(P,C=>_.fromASN(C))}else a[l]=Array.from(f,T=>_.fromASN(T));else{let T=f;if(u.implicit){let I;if(io(p))I=new p().toSchema("");else{const B=Mt[p],P=_4[B];if(!P)throw new Error(`Cannot get '${B}' class from asn1js module`);I=new P}I.valueBlock=T.valueBlock,T=Ra(I.toBER(!1)).result}a[l]=_.fromASN(T)}}else if(u.repeated){if(!Array.isArray(f))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[l]=Array.from(f,_=>this.fromASN(_,p))}else a[l]=this.fromASN(f,p)}return a}catch(o){throw o instanceof up&&o.schemas.push(t.name),o}}}class U0{static serialize(e){return e instanceof mr?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&io(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");const t=e.constructor,n=En.get(t);En.cache(t);let o=[];if(n.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){const s=N0(n.itemType);if(!s)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);o=e.map(a=>s.toASN(a))}else o=e.map(s=>this.toAsnItem({type:n.itemType},"[]",t,s))}else for(const s in n.items){const a=n.items[s],l=e[s];if(l===void 0||a.defaultValue===l||typeof a.defaultValue=="object"&&typeof l=="object"&&GP(this.serialize(a.defaultValue),this.serialize(l)))continue;const f=U0.toAsnItem(a,s,t,l);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||io(a.type))){const u={};u.valueHex=f instanceof Us?f.valueBeforeDecodeView:f.valueBlock.toBER(),o.push(new Vc({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...u}))}else o.push(new Xr({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:f.valueBlock.value}));else o.push(new Xr({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[f]}));else a.repeated?o=o.concat(f):o.push(f)}let i;switch(n.type){case jr.Sequence:i=new lo({value:o});break;case jr.Set:i=new uo({value:o});break;case jr.Choice:if(!o[0])throw new Error(`Schema '${t.name}' has wrong data. Choice cannot be empty.`);i=o[0];break}return i}static toAsnItem(e,t,n,o){let i;if(typeof e.type=="number"){const s=e.converter;if(!s)throw new Error(`Property '${t}' doesn't have converter for type ${Mt[e.type]} in schema '${n.name}'`);if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(o,f=>s.toASN(f)),l=e.repeated==="sequence"?lo:uo;i=new l({value:a})}else i=s.toASN(o)}else if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");const s=Array.from(o,l=>this.toASN(l)),a=e.repeated==="sequence"?lo:uo;i=new a({value:s})}else i=this.toASN(o);return i}}class YP extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(const t of e)this.push(t)}}}class Yg{static serialize(e){return U0.serialize(e)}static parse(e,t){return Qg.parse(e,t)}static toString(e){const t=it.isBufferSource(e)?it.toArrayBuffer(e):Yg.serialize(e),n=Ra(t);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}}const ZP=Object.freeze(Object.defineProperty({__proto__:null,AsnProp:QP,AsnType:L0,AsnChoiceType:zP,AsnSequenceType:JP,AsnSetType:WP,get AsnTypeTypes(){return jr},get AsnPropTypes(){return Mt},AsnParser:Qg,AsnSerializer:U0,AsnAnyConverter:T4,AsnIntegerConverter:M4,AsnEnumeratedConverter:P4,AsnIntegerArrayBufferConverter:jP,AsnIntegerBigIntConverter:qP,AsnBitStringConverter:I4,AsnObjectIdentifierConverter:C4,AsnBooleanConverter:B4,AsnOctetStringConverter:O4,AsnConstructedOctetStringConverter:HP,AsnUtf8StringConverter:R4,AsnBmpStringConverter:N4,AsnUniversalStringConverter:L4,AsnNumericStringConverter:U4,AsnPrintableStringConverter:D4,AsnTeletexStringConverter:F4,AsnVideotexStringConverter:$4,AsnIA5StringConverter:V4,AsnGraphicStringConverter:j4,AsnVisibleStringConverter:q4,AsnGeneralStringConverter:H4,AsnCharacterStringConverter:G4,AsnUTCTimeConverter:K4,AsnGeneralizedTimeConverter:z4,AsnNullConverter:W4,defaultConverter:N0,BitString:VP,OctetString:k4,AsnSchemaValidationError:up,AsnArray:YP,AsnConvert:Yg},Symbol.toStringTag,{value:"Module"})),Nt=Vt(ZP);var Qs=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty($i,"__esModule",{value:!0});$i.UsageProof=$i.Proof=void 0;const tn=Nt;class Hc{}Qs([(0,tn.AsnProp)({type:tn.AsnPropTypes.OctetString})],Hc.prototype,"riddle",void 0);Qs([(0,tn.AsnProp)({type:tn.AsnPropTypes.OctetString})],Hc.prototype,"challengePoint",void 0);Qs([(0,tn.AsnProp)({type:tn.AsnPropTypes.OctetString})],Hc.prototype,"responseValue",void 0);Qs([(0,tn.AsnProp)({type:tn.AsnPropTypes.OctetString})],Hc.prototype,"nonce",void 0);$i.Proof=Hc;class D0{}Qs([(0,tn.AsnProp)({type:tn.AsnPropTypes.OctetString})],D0.prototype,"challengePoint",void 0);Qs([(0,tn.AsnProp)({type:tn.AsnPropTypes.OctetString})],D0.prototype,"responseValue",void 0);Qs([(0,tn.AsnProp)({type:tn.AsnPropTypes.OctetString})],D0.prototype,"nonce",void 0);$i.UsageProof=D0;var In={},F0={exports:{}},XP="Function.prototype.bind called on incompatible ",ld=Array.prototype.slice,eI=Object.prototype.toString,tI="[object Function]",rI=function(e){var t=this;if(typeof t!="function"||eI.call(t)!==tI)throw new TypeError(XP+t);for(var n=ld.call(arguments,1),o,i=function(){if(this instanceof o){var u=t.apply(this,n.concat(ld.call(arguments)));return Object(u)===u?u:this}else return t.apply(e,n.concat(ld.call(arguments)))},s=Math.max(0,t.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var f=function(){};f.prototype=t.prototype,o.prototype=new f,f.prototype=null}return o},nI=rI,Zg=Function.prototype.bind||nI,Q4=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==o||s.enumerable!==!0)return!1}return!0},Cm=typeof Symbol<"u"&&Symbol,iI=Q4,bf=function(){return typeof Cm!="function"||typeof Symbol!="function"||typeof Cm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:iI()},oI=Zg,To=oI.call(Function.call,Object.prototype.hasOwnProperty),st,Ja=SyntaxError,Y4=Function,Na=TypeError,ud=function(r){try{return Y4('"use strict"; return ('+r+").constructor;")()}catch{}},Ss=Object.getOwnPropertyDescriptor;if(Ss)try{Ss({},"")}catch{Ss=null}var hd=function(){throw new Na},sI=Ss?function(){try{return arguments.callee,hd}catch{try{return Ss(arguments,"callee").get}catch{return hd}}}():hd,fa=bf(),Ti=Object.getPrototypeOf||function(r){return r.__proto__},ma={},aI=typeof Uint8Array>"u"?st:Ti(Uint8Array),_s={"%AggregateError%":typeof AggregateError>"u"?st:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?st:ArrayBuffer,"%ArrayIteratorPrototype%":fa?Ti([][Symbol.iterator]()):st,"%AsyncFromSyncIteratorPrototype%":st,"%AsyncFunction%":ma,"%AsyncGenerator%":ma,"%AsyncGeneratorFunction%":ma,"%AsyncIteratorPrototype%":ma,"%Atomics%":typeof Atomics>"u"?st:Atomics,"%BigInt%":typeof BigInt>"u"?st:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?st:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?st:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?st:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?st:Float32Array,"%Float64Array%":typeof Float64Array>"u"?st:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?st:FinalizationRegistry,"%Function%":Y4,"%GeneratorFunction%":ma,"%Int8Array%":typeof Int8Array>"u"?st:Int8Array,"%Int16Array%":typeof Int16Array>"u"?st:Int16Array,"%Int32Array%":typeof Int32Array>"u"?st:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fa?Ti(Ti([][Symbol.iterator]())):st,"%JSON%":typeof JSON=="object"?JSON:st,"%Map%":typeof Map>"u"?st:Map,"%MapIteratorPrototype%":typeof Map>"u"||!fa?st:Ti(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?st:Promise,"%Proxy%":typeof Proxy>"u"?st:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?st:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?st:Set,"%SetIteratorPrototype%":typeof Set>"u"||!fa?st:Ti(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?st:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fa?Ti(""[Symbol.iterator]()):st,"%Symbol%":fa?Symbol:st,"%SyntaxError%":Ja,"%ThrowTypeError%":sI,"%TypedArray%":aI,"%TypeError%":Na,"%Uint8Array%":typeof Uint8Array>"u"?st:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?st:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?st:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?st:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?st:WeakMap,"%WeakRef%":typeof WeakRef>"u"?st:WeakRef,"%WeakSet%":typeof WeakSet>"u"?st:WeakSet};try{null.error}catch(r){var fI=Ti(Ti(r));_s["%Error.prototype%"]=fI}var cI=function r(e){var t;if(e==="%AsyncFunction%")t=ud("async function () {}");else if(e==="%GeneratorFunction%")t=ud("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=ud("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=r("%AsyncGenerator%");o&&(t=Ti(o.prototype))}return _s[e]=t,t},Bm={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Gc=Zg,Mu=To,lI=Gc.call(Function.call,Array.prototype.concat),uI=Gc.call(Function.apply,Array.prototype.splice),Om=Gc.call(Function.call,String.prototype.replace),Pu=Gc.call(Function.call,String.prototype.slice),hI=Gc.call(Function.call,RegExp.prototype.exec),dI=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pI=/\\(\\)?/g,gI=function(e){var t=Pu(e,0,1),n=Pu(e,-1);if(t==="%"&&n!=="%")throw new Ja("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Ja("invalid intrinsic syntax, expected opening `%`");var o=[];return Om(e,dI,function(i,s,a,l){o[o.length]=a?Om(l,pI,"$1"):s||i}),o},bI=function(e,t){var n=e,o;if(Mu(Bm,n)&&(o=Bm[n],n="%"+o[0]+"%"),Mu(_s,n)){var i=_s[n];if(i===ma&&(i=cI(n)),typeof i>"u"&&!t)throw new Na("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Ja("intrinsic "+e+" does not exist!")},ct=function(e,t){if(typeof e!="string"||e.length===0)throw new Na("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Na('"allowMissing" argument must be a boolean');if(hI(/^%?[^%]*%?$/,e)===null)throw new Ja("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=gI(e),o=n.length>0?n[0]:"",i=bI("%"+o+"%",t),s=i.name,a=i.value,l=!1,f=i.alias;f&&(o=f[0],uI(n,lI([0,1],f)));for(var u=1,p=!0;u<n.length;u+=1){var _=n[u],T=Pu(_,0,1),I=Pu(_,-1);if((T==='"'||T==="'"||T==="`"||I==='"'||I==="'"||I==="`")&&T!==I)throw new Ja("property names with quotes must have matching quotes");if((_==="constructor"||!p)&&(l=!0),o+="."+_,s="%"+o+"%",Mu(_s,s))a=_s[s];else if(a!=null){if(!(_ in a)){if(!t)throw new Na("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ss&&u+1>=n.length){var B=Ss(a,_);p=!!B,p&&"get"in B&&!("originalValue"in B.get)?a=B.get:a=a[_]}else p=Mu(a,_),a=a[_];p&&!l&&(_s[s]=a)}}return a};(function(r){var e=Zg,t=ct,n=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),i=t("%Reflect.apply%",!0)||e.call(o,n),s=t("%Object.getOwnPropertyDescriptor%",!0),a=t("%Object.defineProperty%",!0),l=t("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}r.exports=function(p){var _=i(e,o,arguments);if(s&&a){var T=s(_,"length");T.configurable&&a(_,"length",{value:1+l(0,p.length-(arguments.length-1))})}return _};var f=function(){return i(e,n,arguments)};a?a(r.exports,"apply",{value:f}):r.exports.apply=f})(F0);var Rm=Object.prototype.toString,Z4=function(e){var t=Rm.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Rm.call(e.callee)==="[object Function]"),n},dd,Nm;function vI(){if(Nm)return dd;Nm=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Z4,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),s=o.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(_){var T=_.constructor;return T&&T.prototype===_},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var _ in window)try{if(!f["$"+_]&&e.call(window,_)&&window[_]!==null&&typeof window[_]=="object")try{l(window[_])}catch{return!0}}catch{return!0}return!1}(),p=function(_){if(typeof window>"u"||!u)return l(_);try{return l(_)}catch{return!1}};r=function(T){var I=T!==null&&typeof T=="object",B=t.call(T)==="[object Function]",P=n(T),C=I&&t.call(T)==="[object String]",L=[];if(!I&&!B&&!P)throw new TypeError("Object.keys called on a non-object");var j=s&&B;if(C&&T.length>0&&!e.call(T,0))for(var z=0;z<T.length;++z)L.push(String(z));if(P&&T.length>0)for(var Y=0;Y<T.length;++Y)L.push(String(Y));else for(var re in T)!(j&&re==="prototype")&&e.call(T,re)&&L.push(String(re));if(i)for(var ge=p(T),ce=0;ce<a.length;++ce)!(ge&&a[ce]==="constructor")&&e.call(T,a[ce])&&L.push(a[ce]);return L}}return dd=r,dd}var mI=Array.prototype.slice,yI=Z4,Lm=Object.keys,Zl=Lm?function(e){return Lm(e)}:vI(),Um=Object.keys;Zl.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(n){return yI(n)?Um(mI.call(n)):Um(n)})}else Object.keys=Zl;return Object.keys||Zl};var xI=Zl,wI=ct,hp=wI("%Object.defineProperty%",!0),dp=function(){if(hp)try{return hp({},"a",{value:1}),!0}catch{return!1}return!1};dp.hasArrayLengthDefineBug=function(){if(!dp())return null;try{return hp([],"length",{value:1}).length!==1}catch{return!0}};var X4=dp,AI=xI,EI=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",SI=Object.prototype.toString,_I=Array.prototype.concat,e8=Object.defineProperty,kI=function(r){return typeof r=="function"&&SI.call(r)==="[object Function]"},TI=X4(),t8=e8&&TI,MI=function(r,e,t,n){if(e in r){if(n===!0){if(r[e]===t)return}else if(!kI(n)||!n())return}t8?e8(r,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):r[e]=t},r8=function(r,e){var t=arguments.length>2?arguments[2]:{},n=AI(e);EI&&(n=_I.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)MI(r,n[o],e[n[o]],t[n[o]])};r8.supportsDescriptors=!!t8;var Kc=r8,n8=ct,i8=F0.exports,PI=i8(n8("String.prototype.indexOf")),pi=function(e,t){var n=n8(e,!!t);return typeof n=="function"&&PI(e,".prototype.")>-1?i8(n):n},pd={exports:{}},gd,Dm;function o8(){if(Dm)return gd;Dm=1;var r=ct,e=r("%Array%"),t=!e.isArray&&pi("Object.prototype.toString");return gd=e.isArray||function(o){return t(o)==="[object Array]"},gd}var Fm;function s8(){return Fm||(Fm=1,function(r){r.exports=o8()}(pd)),pd.exports}var a8=ct,II=pi,CI=a8("%TypeError%"),BI=s8(),OI=a8("%Reflect.apply%",!0)||II("%Function.prototype.apply%"),f8=function(e,t){var n=arguments.length>2?arguments[2]:[];if(!BI(n))throw new CI("Assertion failed: optional `argumentsList`, if provided, must be a List");return OI(e,t,n)},bd,$m;function Xg(){if($m)return bd;$m=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=o&&i&&typeof i.get=="function"?i.get:null,a=o&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,f=l?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,p=u?WeakSet.prototype.has:null,_=typeof WeakRef=="function"&&WeakRef.prototype,T=_?WeakRef.prototype.deref:null,I=Boolean.prototype.valueOf,B=Object.prototype.toString,P=Function.prototype.toString,C=String.prototype.match,L=String.prototype.slice,j=String.prototype.replace,z=String.prototype.toUpperCase,Y=String.prototype.toLowerCase,re=RegExp.prototype.test,ge=Array.prototype.concat,ce=Array.prototype.join,be=Array.prototype.slice,Ce=Math.floor,U=typeof BigInt=="function"?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,c=typeof Symbol=="function"&&typeof Symbol.iterator=="object",d=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===c?"object":"symbol")?Symbol.toStringTag:null,v=Object.prototype.propertyIsEnumerable,y=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(W){return W.__proto__}:null);function x(W,X){if(W===1/0||W===-1/0||W!==W||W&&W>-1e3&&W<1e3||re.call(/e/,X))return X;var ye=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof W=="number"){var ue=W<0?-Ce(-W):Ce(W);if(ue!==W){var Be=String(ue),ve=L.call(X,Be.length+1);return j.call(Be,ye,"$&_")+"."+j.call(j.call(ve,/([0-9]{3})/g,"$&_"),/_$/,"")}}return j.call(X,ye,"$&_")}var w=mo,m=w.custom,g=ne(m)?m:null;bd=function W(X,ye,ue,Be){var ve=ye||{};if(V(ve,"quoteStyle")&&ve.quoteStyle!=="single"&&ve.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(ve,"maxStringLength")&&(typeof ve.maxStringLength=="number"?ve.maxStringLength<0&&ve.maxStringLength!==1/0:ve.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ae=V(ve,"customInspect")?ve.customInspect:!0;if(typeof Ae!="boolean"&&Ae!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(ve,"indent")&&ve.indent!==null&&ve.indent!=="	"&&!(parseInt(ve.indent,10)===ve.indent&&ve.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(ve,"numericSeparator")&&typeof ve.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var et=ve.numericSeparator;if(typeof X>"u")return"undefined";if(X===null)return"null";if(typeof X=="boolean")return X?"true":"false";if(typeof X=="string")return te(X,ve);if(typeof X=="number"){if(X===0)return 1/0/X>0?"0":"-0";var Ne=String(X);return et?x(X,Ne):Ne}if(typeof X=="bigint"){var Ee=String(X)+"n";return et?x(X,Ee):Ee}var lt=typeof ve.depth>"u"?5:ve.depth;if(typeof ue>"u"&&(ue=0),ue>=lt&&lt>0&&typeof X=="object")return D(X)?"[Array]":"[Object]";var Fe=de(ve,ue);if(typeof Be>"u")Be=[];else if(k(Be,X)>=0)return"[Circular]";function we(De,$e,sr){if($e&&(Be=be.call(Be),Be.push($e)),sr){var rr={depth:ve.depth};return V(ve,"quoteStyle")&&(rr.quoteStyle=ve.quoteStyle),W(De,rr,ue+1,Be)}return W(De,ve,ue+1,Be)}if(typeof X=="function"&&!N(X)){var gt=O(X),He=Ue(X,we);return"[Function"+(gt?": "+gt:" (anonymous)")+"]"+(He.length>0?" { "+ce.call(He,", ")+" }":"")}if(ne(X)){var _e=c?j.call(String(X),/^(Symbol\(.*\))_[^)]*$/,"$1"):b.call(X);return typeof X=="object"&&!c?fe(_e):_e}if(oe(X)){for(var nt="<"+Y.call(String(X.nodeName)),Ve=X.attributes||[],Se=0;Se<Ve.length;Se++)nt+=" "+Ve[Se].name+"="+h(S(Ve[Se].value),"double",ve);return nt+=">",X.childNodes&&X.childNodes.length&&(nt+="..."),nt+="</"+Y.call(String(X.nodeName))+">",nt}if(D(X)){if(X.length===0)return"[]";var ut=Ue(X,we);return Fe&&!xe(ut)?"["+ze(ut,Fe)+"]":"[ "+ce.call(ut,", ")+" ]"}if(q(X)){var je=Ue(X,we);return!("cause"in Error.prototype)&&"cause"in X&&!v.call(X,"cause")?"{ ["+String(X)+"] "+ce.call(ge.call("[cause]: "+we(X.cause),je),", ")+" }":je.length===0?"["+String(X)+"]":"{ ["+String(X)+"] "+ce.call(je,", ")+" }"}if(typeof X=="object"&&Ae){if(g&&typeof X[g]=="function"&&w)return w(X,{depth:lt-ue});if(Ae!=="symbol"&&typeof X.inspect=="function")return X.inspect()}if(M(X)){var ke=[];return n&&n.call(X,function(De,$e){ke.push(we($e,X,!0)+" => "+we(De,X))}),Ie("Map",t.call(X),ke,Fe)}if(H(X)){var bt=[];return a&&a.call(X,function(De){bt.push(we(De,X))}),Ie("Set",s.call(X),bt,Fe)}if(R(X))return se("WeakMap");if(Q(X))return se("WeakSet");if($(X))return se("WeakRef");if(Z(X))return fe(we(Number(X)));if(ee(X))return fe(we(U.call(X)));if(ae(X))return fe(I.call(X));if(G(X))return fe(we(String(X)));if(!A(X)&&!N(X)){var qe=Ue(X,we),Te=y?y(X)===Object.prototype:X instanceof Object||X.constructor===Object,ht=X instanceof Object?"":"null prototype",Ge=!Te&&d&&Object(X)===X&&d in X?L.call(K(X),8,-1):ht?"Object":"",Me=Te||typeof X.constructor!="function"?"":X.constructor.name?X.constructor.name+" ":"",dt=Me+(Ge||ht?"["+ce.call(ge.call([],Ge||[],ht||[]),": ")+"] ":"");return qe.length===0?dt+"{}":Fe?dt+"{"+ze(qe,Fe)+"}":dt+"{ "+ce.call(qe,", ")+" }"}return String(X)};function h(W,X,ye){var ue=(ye.quoteStyle||X)==="double"?'"':"'";return ue+W+ue}function S(W){return j.call(String(W),/"/g,"&quot;")}function D(W){return K(W)==="[object Array]"&&(!d||!(typeof W=="object"&&d in W))}function A(W){return K(W)==="[object Date]"&&(!d||!(typeof W=="object"&&d in W))}function N(W){return K(W)==="[object RegExp]"&&(!d||!(typeof W=="object"&&d in W))}function q(W){return K(W)==="[object Error]"&&(!d||!(typeof W=="object"&&d in W))}function G(W){return K(W)==="[object String]"&&(!d||!(typeof W=="object"&&d in W))}function Z(W){return K(W)==="[object Number]"&&(!d||!(typeof W=="object"&&d in W))}function ae(W){return K(W)==="[object Boolean]"&&(!d||!(typeof W=="object"&&d in W))}function ne(W){if(c)return W&&typeof W=="object"&&W instanceof Symbol;if(typeof W=="symbol")return!0;if(!W||typeof W!="object"||!b)return!1;try{return b.call(W),!0}catch{}return!1}function ee(W){if(!W||typeof W!="object"||!U)return!1;try{return U.call(W),!0}catch{}return!1}var F=Object.prototype.hasOwnProperty||function(W){return W in this};function V(W,X){return F.call(W,X)}function K(W){return B.call(W)}function O(W){if(W.name)return W.name;var X=C.call(P.call(W),/^function\s*([\w$]+)/);return X?X[1]:null}function k(W,X){if(W.indexOf)return W.indexOf(X);for(var ye=0,ue=W.length;ye<ue;ye++)if(W[ye]===X)return ye;return-1}function M(W){if(!t||!W||typeof W!="object")return!1;try{t.call(W);try{s.call(W)}catch{return!0}return W instanceof Map}catch{}return!1}function R(W){if(!f||!W||typeof W!="object")return!1;try{f.call(W,f);try{p.call(W,p)}catch{return!0}return W instanceof WeakMap}catch{}return!1}function $(W){if(!T||!W||typeof W!="object")return!1;try{return T.call(W),!0}catch{}return!1}function H(W){if(!s||!W||typeof W!="object")return!1;try{s.call(W);try{t.call(W)}catch{return!0}return W instanceof Set}catch{}return!1}function Q(W){if(!p||!W||typeof W!="object")return!1;try{p.call(W,p);try{f.call(W,f)}catch{return!0}return W instanceof WeakSet}catch{}return!1}function oe(W){return!W||typeof W!="object"?!1:typeof HTMLElement<"u"&&W instanceof HTMLElement?!0:typeof W.nodeName=="string"&&typeof W.getAttribute=="function"}function te(W,X){if(W.length>X.maxStringLength){var ye=W.length-X.maxStringLength,ue="... "+ye+" more character"+(ye>1?"s":"");return te(L.call(W,0,X.maxStringLength),X)+ue}var Be=j.call(j.call(W,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,le);return h(Be,"single",X)}function le(W){var X=W.charCodeAt(0),ye={8:"b",9:"t",10:"n",12:"f",13:"r"}[X];return ye?"\\"+ye:"\\x"+(X<16?"0":"")+z.call(X.toString(16))}function fe(W){return"Object("+W+")"}function se(W){return W+" { ? }"}function Ie(W,X,ye,ue){var Be=ue?ze(ye,ue):ce.call(ye,", ");return W+" ("+X+") {"+Be+"}"}function xe(W){for(var X=0;X<W.length;X++)if(k(W[X],`
`)>=0)return!1;return!0}function de(W,X){var ye;if(W.indent==="	")ye="	";else if(typeof W.indent=="number"&&W.indent>0)ye=ce.call(Array(W.indent+1)," ");else return null;return{base:ye,prev:ce.call(Array(X+1),ye)}}function ze(W,X){if(W.length===0)return"";var ye=`
`+X.prev+X.base;return ye+ce.call(W,","+ye)+`
`+X.prev}function Ue(W,X){var ye=D(W),ue=[];if(ye){ue.length=W.length;for(var Be=0;Be<W.length;Be++)ue[Be]=V(W,Be)?X(W[Be],W):""}var ve=typeof E=="function"?E(W):[],Ae;if(c){Ae={};for(var et=0;et<ve.length;et++)Ae["$"+ve[et]]=ve[et]}for(var Ne in W)!V(W,Ne)||ye&&String(Number(Ne))===Ne&&Ne<W.length||c&&Ae["$"+Ne]instanceof Symbol||(re.call(/[^\w$]/,Ne)?ue.push(X(Ne,W)+": "+X(W[Ne],W)):ue.push(Ne+": "+X(W[Ne],W)));if(typeof E=="function")for(var Ee=0;Ee<ve.length;Ee++)v.call(W,ve[Ee])&&ue.push("["+X(ve[Ee])+"]: "+X(W[ve[Ee]],W));return ue}return bd}var vd,Vm;function vf(){return Vm||(Vm=1,vd=function(e){return typeof e=="string"||typeof e=="symbol"}),vd}var md,jm;function RI(){return jm||(jm=1,md=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),md}var yd,qm;function or(){if(qm)return yd;qm=1;var r=RI();return yd=function(t){return typeof t=="symbol"?"Symbol":typeof t=="bigint"?"BigInt":r(t)},yd}var NI=ct,Hm=NI("%TypeError%"),LI=Xg(),UI=vf(),DI=or(),$0=function(e,t){if(DI(e)!=="Object")throw new Hm("Assertion failed: Type(O) is not Object");if(!UI(t))throw new Hm("Assertion failed: IsPropertyKey(P) is not true, got "+LI(t));return e[t]},eb={exports:{}},FI=ct,$I=FI("%TypeError%"),VI=function(e,t){if(e==null)throw new $I(t||"Cannot call method on "+e);return e};(function(r){r.exports=VI})(eb);var xd,Gm;function jI(){if(Gm)return xd;Gm=1;var r=ct,e=r("%Object%"),t=eb.exports;return xd=function(o){return t(o),e(o)},xd}var wd,Km;function qI(){if(Km)return wd;Km=1;var r=ct,e=r("%TypeError%"),t=vf(),n=jI();return wd=function(i,s){if(!t(s))throw new e("Assertion failed: IsPropertyKey(P) is not true");var a=n(i);return a[s]},wd}var Ad={exports:{}},Ed,zm;function c8(){if(zm)return Ed;zm=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(L){L!==n&&(e=null)}else e=null;var o=/^\s*class\b/,i=function(j){try{var z=r.call(j);return o.test(z)}catch{return!1}},s=function(j){try{return i(j)?!1:(r.call(j),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",f="[object Function]",u="[object GeneratorFunction]",p="[object HTMLAllCollection]",_="[object HTML document.all class]",T="[object HTMLCollection]",I=typeof Symbol=="function"&&!!Symbol.toStringTag,B=!(0 in[,]),P=function(){return!1};if(typeof document=="object"){var C=document.all;a.call(C)===a.call(document.all)&&(P=function(j){if((B||!j)&&(typeof j>"u"||typeof j=="object"))try{var z=a.call(j);return(z===p||z===_||z===T||z===l)&&j("")==null}catch{}return!1})}return Ed=e?function(j){if(P(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;try{e(j,null,t)}catch(z){if(z!==n)return!1}return!i(j)&&s(j)}:function(j){if(P(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;if(I)return s(j);if(i(j))return!1;var z=a.call(j);return z!==f&&z!==u&&!/^\[object HTML/.test(z)?!1:s(j)},Ed}var Wm;function tb(){return Wm||(Wm=1,function(r){r.exports=c8()}(Ad)),Ad.exports}var HI=ct,Jm=HI("%TypeError%"),GI=qI(),KI=tb(),zI=vf(),WI=Xg(),JI=function(e,t){if(!zI(t))throw new Jm("Assertion failed: IsPropertyKey(P) is not true");var n=GI(e,t);if(n!=null){if(!KI(n))throw new Jm(t+" is not a function: "+WI(n));return n}},Sd,Qm;function rb(){if(Qm)return Sd;Qm=1;var r=Q4;return Sd=function(){return r()&&!!Symbol.toStringTag},Sd}var _d,Ym;function l8(){if(Ym)return _d;Ym=1;var r=pi,e=rb()(),t,n,o,i;if(e){t=r("Object.prototype.hasOwnProperty"),n=r("RegExp.prototype.exec"),o={};var s=function(){throw o};i={toString:s,valueOf:s},typeof Symbol.toPrimitive=="symbol"&&(i[Symbol.toPrimitive]=s)}var a=r("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor,f="[object RegExp]";return _d=e?function(p){if(!p||typeof p!="object")return!1;var _=l(p,"lastIndex"),T=_&&t(_,"value");if(!T)return!1;try{n(p,i)}catch(I){return I===o}}:function(p){return!p||typeof p!="object"&&typeof p!="function"?!1:a(p)===f},_d}var kd,Zm;function u8(){return Zm||(Zm=1,kd=function(e){return!!e}),kd}var QI=ct,Xm=QI("%Symbol.match%",!0),YI=l8(),ZI=u8(),XI=function(e){if(!e||typeof e!="object")return!1;if(Xm){var t=e[Xm];if(typeof t<"u")return ZI(t)}return YI(e)},h8=ct,eC=h8("%String%"),tC=h8("%TypeError%"),nb=function(e){if(typeof e=="symbol")throw new tC("Cannot convert a Symbol value to a string");return eC(e)},ib={exports:{}},Pc=function(){return typeof function(){}.name=="string"},cc=Object.getOwnPropertyDescriptor;if(cc)try{cc([],"length")}catch{cc=null}Pc.functionsHaveConfigurableNames=function(){if(!Pc()||!cc)return!1;var e=cc(function(){},"name");return!!e&&!!e.configurable};var rC=Function.prototype.bind;Pc.boundFunctionsHaveNames=function(){return Pc()&&typeof rC=="function"&&function(){}.bind().name!==""};var nC=Pc;(function(r){var e=nC.functionsHaveConfigurableNames(),t=Object,n=TypeError;r.exports=function(){if(this!=null&&this!==t(this))throw new n("RegExp.prototype.flags getter called on non-object");var i="";return this.hasIndices&&(i+="d"),this.global&&(i+="g"),this.ignoreCase&&(i+="i"),this.multiline&&(i+="m"),this.dotAll&&(i+="s"),this.unicode&&(i+="u"),this.sticky&&(i+="y"),i},e&&Object.defineProperty&&Object.defineProperty(r.exports,"name",{value:"get flags"})})(ib);var iC=ib.exports,oC=Kc.supportsDescriptors,sC=Object.getOwnPropertyDescriptor,d8=function(){if(oC&&/a/mig.flags==="gim"){var e=sC(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),t==="dy")return e.get}}return iC},aC=Kc.supportsDescriptors,fC=d8,cC=Object.getOwnPropertyDescriptor,lC=Object.defineProperty,uC=TypeError,ey=Object.getPrototypeOf,hC=/a/,dC=function(){if(!aC||!ey)throw new uC("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=fC(),t=ey(hC),n=cC(t,"flags");return(!n||n.get!==e)&&lC(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},pC=Kc,gC=F0.exports,bC=ib.exports,p8=d8,vC=dC,g8=gC(p8());pC(g8,{getPolyfill:p8,implementation:bC,shim:vC});var b8=g8,Td,ty;function v8(){return ty||(ty=1,Td=function(e){return typeof e=="number"&&e>=55296&&e<=56319}),Td}var Md,ry;function m8(){return ry||(ry=1,Md=function(e){return typeof e=="number"&&e>=56320&&e<=57343}),Md}var Pd,ny;function mC(){if(ny)return Pd;ny=1;var r=ct,e=r("%TypeError%"),t=r("%String.fromCharCode%"),n=v8(),o=m8();return Pd=function(s,a){if(!n(s)||!o(a))throw new e("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return t(s)+t(a)},Pd}var Id,iy;function yC(){if(iy)return Id;iy=1;var r=ct,e=r("%TypeError%"),t=pi,n=v8(),o=m8(),i=or(),s=mC(),a=t("String.prototype.charAt"),l=t("String.prototype.charCodeAt");return Id=function(u,p){if(i(u)!=="String")throw new e("Assertion failed: `string` must be a String");var _=u.length;if(p<0||p>=_)throw new e("Assertion failed: `position` must be >= 0, and < the length of `string`");var T=l(u,p),I=a(u,p),B=n(T),P=o(T);if(!B&&!P)return{"[[CodePoint]]":I,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(P||p+1===_)return{"[[CodePoint]]":I,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var C=l(u,p+1);return o(C)?{"[[CodePoint]]":s(T,C),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":I,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}},Id}var xC=ct,wC=xC("%Math.abs%"),y8=function(e){return wC(e)},AC=or(),EC=Math.floor,x8=function(e){return AC(e)==="BigInt"?e:EC(e)},V0=Number.isNaN||function(e){return e!==e},SC=V0,w8=function(r){return(typeof r=="number"||typeof r=="bigint")&&!SC(r)&&r!==1/0&&r!==-1/0},Cd,oy;function _C(){if(oy)return Cd;oy=1;var r=y8,e=x8,t=or(),n=V0,o=w8;return Cd=function(s){if(t(s)!=="Number"||n(s)||!o(s))return!1;var a=r(s);return e(a)===a},Cd}var A8=ct,kC=A8("%Math%"),TC=A8("%Number%"),E8=TC.MAX_SAFE_INTEGER||kC.pow(2,53)-1,Bd,sy;function MC(){if(sy)return Bd;sy=1;var r=ct,e=yC(),t=_C(),n=or(),o=E8,i=r("%TypeError%");return Bd=function(a,l,f){if(n(a)!=="String")throw new i("Assertion failed: `S` must be a String");if(!t(l)||l<0||l>o)throw new i("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(n(f)!=="Boolean")throw new i("Assertion failed: `unicode` must be a Boolean");if(!f)return l+1;var u=a.length;if(l+1>=u)return l+1;var p=e(a,l);return l+p["[[CodeUnitCount]]"]},Bd}var Od,ay;function PC(){if(ay)return Od;ay=1;var r=ct,e=r("%TypeError%"),t=or();return Od=function(o,i){if(t(i)!=="Boolean")throw new e("Assertion failed: Type(done) is not Boolean");return{value:o,done:i}},Od}var Rd,fy;function S8(){if(fy)return Rd;fy=1;var r=X4,e=ct,t=r()&&e("%Object.defineProperty%",!0),n=r.hasArrayLengthDefineBug(),o=n&&o8(),i=pi,s=i("Object.prototype.propertyIsEnumerable");return Rd=function(l,f,u,p,_,T){if(!t){if(!l(T)||!T["[[Configurable]]"]||!T["[[Writable]]"]||_ in p&&s(p,_)!==!!T["[[Enumerable]]"])return!1;var I=T["[[Value]]"];return p[_]=I,f(p[_],I)}return n&&_==="length"&&"[[Value]]"in T&&o(p)&&p.length!==T["[[Value]]"]?(p.length=T["[[Value]]"],p.length===T["[[Value]]"]):(t(p,_,u(T)),!0)},Rd}var Nd,cy;function IC(){if(cy)return Nd;cy=1;var r=To;return Nd=function(t){return r(t,"[[StartIndex]]")&&r(t,"[[EndIndex]]")&&t["[[StartIndex]]"]>=0&&t["[[EndIndex]]"]>=t["[[StartIndex]]"]&&String(parseInt(t["[[StartIndex]]"],10))===String(t["[[StartIndex]]"])&&String(parseInt(t["[[EndIndex]]"],10))===String(t["[[EndIndex]]"])},Nd}var Ld,ly;function ob(){if(ly)return Ld;ly=1;var r=ct,e=r("%TypeError%"),t=r("%SyntaxError%"),n=To,o=IC(),i={"Property Descriptor":function(a){var l={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var f in a)if(n(a,f)&&!l[f])return!1;var u=n(a,"[[Value]]"),p=n(a,"[[Get]]")||n(a,"[[Set]]");if(u&&p)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":o,"Iterator Record":function(a){return n(a,"[[Iterator]]")&&n(a,"[[NextMethod]]")&&n(a,"[[Done]]")},"PromiseCapability Record":function(a){return a&&n(a,"[[Resolve]]")&&typeof a["[[Resolve]]"]=="function"&&n(a,"[[Reject]]")&&typeof a["[[Reject]]"]=="function"&&n(a,"[[Promise]]")&&a["[[Promise]]"]&&typeof a["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(a){return a&&n(a,"[[Completion]]")&&n(a,"[[Capability]]")&&i["PromiseCapability Record"](a["[[Capability]]"])}};return Ld=function(a,l,f,u){var p=i[l];if(typeof p!="function")throw new t("unknown record type: "+l);if(a(u)!=="Object"||!p(u))throw new e(f+" must be a "+l)},Ld}var Ud,uy;function CC(){return uy||(uy=1,Ud=function(e){if(typeof e>"u")return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}),Ud}var Dd,hy;function _8(){if(hy)return Dd;hy=1;var r=ob(),e=CC(),t=or();return Dd=function(o){return typeof o<"u"&&r(t,"Property Descriptor","Desc",o),e(o)},Dd}var Fd,dy;function k8(){if(dy)return Fd;dy=1;var r=To,e=ob(),t=or();return Fd=function(o){return!(typeof o>"u"||(e(t,"Property Descriptor","Desc",o),!r(o,"[[Value]]")&&!r(o,"[[Writable]]")))},Fd}var $d,py;function sb(){if(py)return $d;py=1;var r=V0;return $d=function(t,n){return t===n?t===0?1/t===1/n:!0:r(t)&&r(n)},$d}var Vd,gy;function BC(){if(gy)return Vd;gy=1;var r=ct,e=r("%TypeError%"),t=S8(),n=_8(),o=k8(),i=vf(),s=sb(),a=or();return Vd=function(f,u,p){if(a(f)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!i(u))throw new e("Assertion failed: IsPropertyKey(P) is not true");var _={"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":p,"[[Writable]]":!0};return t(o,s,n,f,u,_)},Vd}var jd,by;function OC(){return by||(by=1,jd=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}),jd}var qd,vy;function RC(){if(vy)return qd;vy=1;var r=ct,e=pi,t=Xg(),n=r("%TypeError%"),o=r("%WeakMap%",!0),i=r("%Map%",!0),s=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),f=e("Map.prototype.get",!0),u=e("Map.prototype.set",!0),p=e("Map.prototype.has",!0),_=function(P,C){for(var L=P,j;(j=L.next)!==null;L=j)if(j.key===C)return L.next=j.next,j.next=P.next,P.next=j,j},T=function(P,C){var L=_(P,C);return L&&L.value},I=function(P,C,L){var j=_(P,C);j?j.value=L:P.next={key:C,next:P.next,value:L}},B=function(P,C){return!!_(P,C)};return qd=function(){var C,L,j,z={assert:function(Y){if(!z.has(Y))throw new n("Side channel does not contain "+t(Y))},get:function(Y){if(o&&Y&&(typeof Y=="object"||typeof Y=="function")){if(C)return s(C,Y)}else if(i){if(L)return f(L,Y)}else if(j)return T(j,Y)},has:function(Y){if(o&&Y&&(typeof Y=="object"||typeof Y=="function")){if(C)return l(C,Y)}else if(i){if(L)return p(L,Y)}else if(j)return B(j,Y);return!1},set:function(Y,re){o&&Y&&(typeof Y=="object"||typeof Y=="function")?(C||(C=new o),a(C,Y,re)):i?(L||(L=new i),u(L,Y,re)):(j||(j={key:{},next:null}),I(j,Y,re))}};return z},qd}var Hd,my;function T8(){if(my)return Hd;my=1;var r=ct,e=To,t=RC()(),n=r("%TypeError%"),o={assert:function(i,s){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");if(t.assert(i),!o.has(i,s))throw new n("`"+s+"` is not present on `O`")},get:function(i,s){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var a=t.get(i);return a&&a["$"+s]},has:function(i,s){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var a=t.get(i);return!!a&&e(a,"$"+s)},set:function(i,s,a){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var l=t.get(i);l||(l={},t.set(i,l)),l["$"+s]=a}};return Object.freeze&&Object.freeze(o),Hd=o,Hd}var Gd,yy;function NC(){if(yy)return Gd;yy=1;var r={foo:{}},e=Object;return Gd=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof e)},Gd}var Kd,xy;function LC(){if(xy)return Kd;xy=1;var r=ct,e=r("%Object.create%",!0),t=r("%TypeError%"),n=r("%SyntaxError%"),o=s8(),i=or(),s=OC(),a=T8(),l=NC()();return Kd=function(u){if(u!==null&&i(u)!=="Object")throw new t("Assertion failed: `proto` must be null or an object");var p=arguments.length<2?[]:arguments[1];if(!o(p))throw new t("Assertion failed: `additionalInternalSlotsList` must be an Array");var _;if(e)_=e(u);else if(l)_={__proto__:u};else{if(u===null)throw new n("native Object.create support is required to create null objects");var T=function(){};T.prototype=u,_=new T}return p.length>0&&s(p,function(I){a.set(_,I,void 0)}),_},Kd}var zd,wy;function UC(){if(wy)return zd;wy=1;var r=ct,e=r("%TypeError%"),t=pi("RegExp.prototype.exec"),n=f8,o=$0,i=tb(),s=or();return zd=function(l,f){if(s(l)!=="Object")throw new e("Assertion failed: `R` must be an Object");if(s(f)!=="String")throw new e("Assertion failed: `S` must be a String");var u=o(l,"exec");if(i(u)){var p=n(u,l,[f]);if(p===null||s(p)==="Object")return p;throw new e('"exec" method must return `null` or an Object')}return t(l,f)},zd}var DC=ct,Tl=DC("%TypeError%"),FC=vf(),Ay=sb(),Ey=or(),Sy=function(){try{return delete[].length,!0}catch{return!1}}(),M8=function(e,t,n,o){if(Ey(e)!=="Object")throw new Tl("Assertion failed: `O` must be an Object");if(!FC(t))throw new Tl("Assertion failed: `P` must be a Property Key");if(Ey(o)!=="Boolean")throw new Tl("Assertion failed: `Throw` must be a Boolean");if(o){if(e[t]=n,Sy&&!Ay(e[t],n))throw new Tl("Attempted to assign to readonly property.");return!0}try{return e[t]=n,Sy?Ay(e[t],n):!0}catch{return!1}},Wd,_y;function $C(){return _y||(_y=1,Wd=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Wd}var Jd,ky;function VC(){return ky||(ky=1,Jd=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Jd}var Qd,Ty;function jC(){if(Ty)return Qd;Ty=1;var r=Date.prototype.getDay,e=function(s){try{return r.call(s),!0}catch{return!1}},t=Object.prototype.toString,n="[object Date]",o=rb()();return Qd=function(s){return typeof s!="object"||s===null?!1:o?e(s):t.call(s)===n},Qd}var Ml={exports:{}},My;function qC(){if(My)return Ml.exports;My=1;var r=Object.prototype.toString,e=bf();if(e){var t=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,o=function(s){return typeof s.valueOf()!="symbol"?!1:n.test(t.call(s))};Ml.exports=function(s){if(typeof s=="symbol")return!0;if(r.call(s)!=="[object Symbol]")return!1;try{return o(s)}catch{return!1}}}else Ml.exports=function(s){return!1};return Ml.exports}var Yd,Py;function HC(){if(Py)return Yd;Py=1;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=VC(),t=c8(),n=jC(),o=qC(),i=function(l,f){if(typeof l>"u"||l===null)throw new TypeError("Cannot call method on "+l);if(typeof f!="string"||f!=="number"&&f!=="string")throw new TypeError('hint must be "string" or "number"');var u=f==="string"?["toString","valueOf"]:["valueOf","toString"],p,_,T;for(T=0;T<u.length;++T)if(p=l[u[T]],t(p)&&(_=p.call(l),e(_)))return _;throw new TypeError("No default value")},s=function(l,f){var u=l[f];if(u!==null&&typeof u<"u"){if(!t(u))throw new TypeError(u+" returned for property "+f+" of object "+l+" is not a function");return u}};return Yd=function(l){if(e(l))return l;var f="default";arguments.length>1&&(arguments[1]===String?f="string":arguments[1]===Number&&(f="number"));var u;if(r&&(Symbol.toPrimitive?u=s(l,Symbol.toPrimitive):o(l)&&(u=Symbol.prototype.valueOf)),typeof u<"u"){var p=u.call(l,f);if(e(p))return p;throw new TypeError("unable to convert exotic object to primitive")}return f==="default"&&(n(l)||o(l))&&(f="string"),i(l,f==="default"?"number":f)},Yd}var Zd,Iy;function GC(){if(Iy)return Zd;Iy=1;var r=HC();return Zd=function(t){return arguments.length>1?r(t,arguments[1]):r(t)},Zd}var Xd,Cy;function KC(){if(Cy)return Xd;Cy=1;var r=pi,e=ct,t=l8(),n=r("RegExp.prototype.exec"),o=e("%TypeError%");return Xd=function(s){if(!t(s))throw new o("`regex` must be a RegExp");return function(l){return n(s,l)!==null}},Xd}var e1,By;function zC(){if(By)return e1;By=1;var r=ct,e=r("%Number%"),t=r("%RegExp%"),n=r("%TypeError%"),o=r("%parseInt%"),i=pi,s=KC(),a=i("String.prototype.slice"),l=s(/^0b[01]+$/i),f=s(/^0o[0-7]+$/i),u=s(/^[-+]0x[0-9a-f]+$/i),p=["\x85","\u200B","\uFFFE"].join(""),_=new t("["+p+"]","g"),T=s(_),I=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),B=new RegExp("(^["+I+"]+)|(["+I+"]+$)","g"),P=i("String.prototype.replace"),C=function(j){return P(j,B,"")},L=or();return e1=function j(z){if(L(z)!=="String")throw new n("Assertion failed: `argument` is not a String");if(l(z))return e(o(a(z,2),2));if(f(z))return e(o(a(z,2),8));if(T(z)||u(z))return NaN;var Y=C(z);return Y!==z?j(Y):e(z)},e1}var P8=ct,Oy=P8("%TypeError%"),Ry=P8("%Number%"),WC=$C(),JC=GC(),QC=zC(),YC=function(e){var t=WC(e)?e:JC(e,Ry);if(typeof t=="symbol")throw new Oy("Cannot convert a Symbol value to a number");if(typeof t=="bigint")throw new Oy("Conversion from 'BigInt' to 'number' is not allowed.");return typeof t=="string"?QC(t):Ry(t)},ZC=function(e){return e>=0?1:-1},XC=y8,eB=x8,tB=YC,rB=V0,nB=w8,iB=ZC,oB=function(e){var t=tB(e);if(rB(t)||t===0)return 0;if(!nB(t))return t;var n=eB(XC(t));return n===0?0:iB(t)*n},Ny=E8,sB=oB,I8=function(e){var t=sB(e);return t<=0?0:t>Ny?Ny:t},t1,Ly;function aB(){if(Ly)return t1;Ly=1;var r=ct,e=r("%Object.defineProperty%",!0),t=rb()(),n=To,o=t?Symbol.toStringTag:null;return t1=function(s,a){var l=arguments.length>2&&arguments[2]&&arguments[2].force;o&&(l||!n(s,o))&&(e?e(s,o,{configurable:!0,enumerable:!1,value:a,writable:!1}):s[o]=a)},t1}var C8=ct,fB=bf(),lc=C8("%TypeError%"),Uy=C8("%IteratorPrototype%",!0),cB=MC(),Pl=PC(),B8=BC(),Dy=$0,lB=LC(),uB=UC(),hB=M8,dB=I8,pB=nb,Xl=or(),br=T8(),gB=aB(),ks=function(e,t,n,o){if(Xl(t)!=="String")throw new lc("`S` must be a string");if(Xl(n)!=="Boolean")throw new lc("`global` must be a boolean");if(Xl(o)!=="Boolean")throw new lc("`fullUnicode` must be a boolean");br.set(this,"[[IteratingRegExp]]",e),br.set(this,"[[IteratedString]]",t),br.set(this,"[[Global]]",n),br.set(this,"[[Unicode]]",o),br.set(this,"[[Done]]",!1)};Uy&&(ks.prototype=lB(Uy));var bB=function(){var e=this;if(Xl(e)!=="Object")throw new lc("receiver must be an object");if(!(e instanceof ks)||!br.has(e,"[[IteratingRegExp]]")||!br.has(e,"[[IteratedString]]")||!br.has(e,"[[Global]]")||!br.has(e,"[[Unicode]]")||!br.has(e,"[[Done]]"))throw new lc('"this" value must be a RegExpStringIterator instance');if(br.get(e,"[[Done]]"))return Pl(void 0,!0);var t=br.get(e,"[[IteratingRegExp]]"),n=br.get(e,"[[IteratedString]]"),o=br.get(e,"[[Global]]"),i=br.get(e,"[[Unicode]]"),s=uB(t,n);if(s===null)return br.set(e,"[[Done]]",!0),Pl(void 0,!0);if(o){var a=pB(Dy(s,"0"));if(a===""){var l=dB(Dy(t,"lastIndex")),f=cB(n,l,i);hB(t,"lastIndex",f,!0)}return Pl(s,!1)}return br.set(e,"[[Done]]",!0),Pl(s,!1)};B8(ks.prototype,"next",bB);if(fB&&(gB(ks.prototype,"RegExp String Iterator"),Symbol.iterator&&typeof ks.prototype[Symbol.iterator]!="function")){var vB=function(){return this};B8(ks.prototype,Symbol.iterator,vB)}var mB=function(e,t,n,o){return new ks(e,t,n,o)},Il={exports:{}},r1={exports:{}},Fy;function yB(){return Fy||(Fy=1,function(r){r.exports=ct}(r1)),r1.exports}var n1,$y;function xB(){if($y)return n1;$y=1;var r=ct,e=To,t=r("%TypeError%");return n1=function(o,i){if(o.Type(i)!=="Object")return!1;var s={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var a in i)if(e(i,a)&&!s[a])return!1;if(o.IsDataDescriptor(i)&&o.IsAccessorDescriptor(i))throw new t("Property Descriptors may not be both accessor and data descriptors");return!0},n1}var i1,Vy;function wB(){if(Vy)return i1;Vy=1;var r=To,e=ob(),t=or();return i1=function(o){return!(typeof o>"u"||(e(t,"Property Descriptor","Desc",o),!r(o,"[[Get]]")&&!r(o,"[[Set]]")))},i1}var o1,jy;function AB(){if(jy)return o1;jy=1;var r=To,e=ct,t=e("%TypeError%"),n=or(),o=u8(),i=tb();return o1=function(a){if(n(a)!=="Object")throw new t("ToPropertyDescriptor requires an object");var l={};if(r(a,"enumerable")&&(l["[[Enumerable]]"]=o(a.enumerable)),r(a,"configurable")&&(l["[[Configurable]]"]=o(a.configurable)),r(a,"value")&&(l["[[Value]]"]=a.value),r(a,"writable")&&(l["[[Writable]]"]=o(a.writable)),r(a,"get")){var f=a.get;if(typeof f<"u"&&!i(f))throw new t("getter must be a function");l["[[Get]]"]=f}if(r(a,"set")){var u=a.set;if(typeof u<"u"&&!i(u))throw new t("setter must be a function");l["[[Set]]"]=u}if((r(l,"[[Get]]")||r(l,"[[Set]]"))&&(r(l,"[[Value]]")||r(l,"[[Writable]]")))throw new t("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l},o1}var s1,qy;function EB(){if(qy)return s1;qy=1;var r=ct,e=r("%TypeError%"),t=xB(),n=S8(),o=_8(),i=wB(),s=k8(),a=vf(),l=sb(),f=AB(),u=or();return s1=function(_,T,I){if(u(_)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!a(T))throw new e("Assertion failed: IsPropertyKey(P) is not true");var B=t({Type:u,IsDataDescriptor:s,IsAccessorDescriptor:i},I)?I:f(I);if(!t({Type:u,IsDataDescriptor:s,IsAccessorDescriptor:i},B))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(s,l,o,_,T,B)},s1}var Hy;function SB(){if(Hy)return Il.exports;Hy=1;var r=yB(),e=r("%Reflect.construct%",!0),t=EB();try{t({},"",{"[[Get]]":function(){}})}catch{t=null}if(t&&e){var n={},o={};t(o,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),Il.exports=function(s){try{e(s,o)}catch(a){return a===n}}}else Il.exports=function(s){return typeof s=="function"&&!!s.prototype};return Il.exports}var O8=ct,Gy=O8("%Symbol.species%",!0),a1=O8("%TypeError%"),_B=SB(),Ky=or(),kB=function(e,t){if(Ky(e)!=="Object")throw new a1("Assertion failed: Type(O) is not Object");var n=e.constructor;if(typeof n>"u")return t;if(Ky(n)!=="Object")throw new a1("O.constructor is not an Object");var o=Gy?n[Gy]:void 0;if(o==null)return t;if(_B(o))return o;throw new a1("no constructor found")},TB=mB,R8=$0,MB=M8,PB=kB,IB=I8,N8=nb,CB=or(),BB=b8,OB=pi,zy=OB("String.prototype.indexOf"),L8=RegExp,RB="flags"in RegExp.prototype,NB=function(e,t){var n,o="flags"in t?R8(t,"flags"):N8(BB(t));return RB&&typeof o=="string"?n=new e(t,o):e===L8?n=new e(t.source,o):n=new e(t,o),{flags:o,matcher:n}},pp=function(e){var t=this;if(CB(t)!=="Object")throw new TypeError('"this" value must be an Object');var n=N8(e),o=PB(t,L8),i=NB(o,t),s=i.flags,a=i.matcher,l=IB(R8(t,"lastIndex"));MB(a,"lastIndex",l,!0);var f=zy(s,"g")>-1,u=zy(s,"u")>-1;return TB(a,n,f,u)},Wy=Object.defineProperty,Jy=Object.getOwnPropertyDescriptor;if(Wy&&Jy){var Qy=Jy(pp,"name");Qy&&Qy.configurable&&Wy(pp,"name",{value:"[Symbol.matchAll]"})}var LB=pp,UB=bf(),DB=LB,U8=function(){return!UB||typeof Symbol.matchAll!="symbol"||typeof RegExp.prototype[Symbol.matchAll]!="function"?DB:RegExp.prototype[Symbol.matchAll]},Yy=f8,FB=$0,$B=JI,D8=XI,Zy=nb,Xy=eb.exports,VB=pi,jB=bf(),qB=b8,HB=VB("String.prototype.indexOf"),GB=U8,e2=function(e){var t=GB();if(jB&&typeof Symbol.matchAll=="symbol"){var n=$B(e,Symbol.matchAll);return n===RegExp.prototype[Symbol.matchAll]&&n!==t?t:n}if(D8(e))return t},F8=function(e){var t=Xy(this);if(typeof e<"u"&&e!==null){var n=D8(e);if(n){var o="flags"in e?FB(e,"flags"):qB(e);if(Xy(o),HB(Zy(o),"g")<0)throw new TypeError("matchAll requires a global regular expression")}var i=e2(e);if(typeof i<"u")return Yy(i,e,[t])}var s=Zy(t),a=new RegExp(e,"g");return Yy(e2(a),a,[s])},KB=F8,$8=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return KB},f1=Kc,zB=bf(),WB=$8,JB=U8,t2=Object.defineProperty,r2=Object.getOwnPropertyDescriptor,QB=function(){var e=WB();if(f1(String.prototype,{matchAll:e},{matchAll:function(){return String.prototype.matchAll!==e}}),zB){var t=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(f1(Symbol,{matchAll:t},{matchAll:function(){return Symbol.matchAll!==t}}),t2&&r2){var n=r2(Symbol,t);(!n||n.configurable)&&t2(Symbol,t,{configurable:!1,enumerable:!1,value:t,writable:!1})}var o=JB(),i={};i[t]=o;var s={};s[t]=function(){return RegExp.prototype[t]!==o},f1(RegExp.prototype,i,s)}return e},YB=F0.exports,ZB=Kc,V8=F8,XB=$8,eO=QB,tO=YB(V8);ZB(tO,{getPolyfill:XB,implementation:V8,shim:eO});(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Asn1Der=r.X500NamesLabels=void 0;const e=Ot(),t=Kt,n={END_OF_CONTENT:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL_VALUE:5,OBJECT_ID:6,OBJECT_DESCRIPTOR:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PDV:11,UTF8STRING:12,RELATIVE_OID:13,SEQUENCE_10:16,SET_OF:17,NUMERABLE_STRING:18,PRINTABLE_STRING:19,T61STRING:20,VIDEO_TEX_STRING:21,IA5STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30,SEQUENCE_30:48,SET:49},o={0:"END_OF_CONTENT",1:"BOOLEAN",2:"INTEGER",3:"BIT_STRING",4:"OCTET_STRING",5:"NULL_VALUE",6:"OBJECT_ID",7:"OBJECT_DESCRIPTOR",8:"EXTERNAL",9:"REAL",10:"ENUMERATED",11:"EMBEDDED_PDV",12:"UTF8STRING",13:"RELATIVE_OID",16:"SEQUENCE_10",19:"PRINTABLE_STRING",22:"IA5STRING",24:"GENERALIZED_TIME",26:"VISIBLE_STRING",48:"SEQUENCE_30",49:"SET"};r.X500NamesLabels={CN:"2.5.4.3",C:"2.5.4.6",O:"2.5.4.10",OU:"2.5.4.11",L:"2.5.4.7",labeledURI:"1.3.6.1.4.1.250.1.57"};class i{static encodeAsInteger(a){return this.encode("INTEGER",a)}static encodeObjectId(a){return i.encode("SEQUENCE_30",i.encode("OBJECT_ID",a))}static parseX500Names(a){let l=a.matchAll(/(\w+)=("[^"]+"|[\w\.]+)/g),f="";if(!l)throw new Error("wrong Name format");let u=[];for(const p of l){let _=p[1],T=p[2];if(T.substr(0,1)=='"'&&T.substr(-1)=='"'&&(T=T.slice(1,T.length-1)),f=r.X500NamesLabels[_],!f)throw new Error('Type "'+_+'" not implemented yet');u.push({type:_,value:T})}return u}static encodeName(a){let l="";return i.parseX500Names(a).forEach(u=>{let p=r.X500NamesLabels[u.type];if(!p)throw new Error(`X500 Name Object ID not implemented.(${u.value})`);let _=i.encode("OBJECT_ID",p)+i.encode("UTF8STRING",u.value);l+=i.encode("SEQUENCE_30",_)}),i.encode("SEQUENCE_30",i.encode("SET",l))}static encode(a,l,f=0){if(typeof l>"u")throw new Error("Missing value for Der encoding");let u=n[a],p="";switch(a){case"OBJECT_ID":if(typeof l!="string")throw new Error("OBJECT_ID value must be a string");let B=l.split("."),P=B.shift(),C=B.shift();B.unshift((parseInt(P)*40+parseInt(C)).toString()),B.forEach(L=>{let j=parseInt(L),z="",Y=!0;do{let re=j&127;j=j>>7,re+=Y?0:128,z=re.toString(16).padStart(2,"0")+z,Y=!1}while(j);p+=z});break;case"NULL_VALUE":p="";break;case"GENERALIZED_TIME":p=(0,e.stringToHex)((0,e.formatGeneralizedDateTime)(l));break;case"VISIBLE_STRING":case"UTF8STRING":p=(0,e.stringToHex)(l);break;case"INTEGER":p=BigInt(l).toString(16),p=(p.length%2?"0":"")+p,parseInt("0x"+p.slice(0,1),16)>7&&(p="00"+p);break;case"TAG":if(f>15)throw new Error("DER TAG more than 15 is not implemented");u=parseInt("0xA"+f);case"SEQUENCE_30":case"SET":case"OCTET_STRING":if(typeof l=="string")p=l;else if(l.constructor===Uint8Array)p=(0,e.uint8tohex)(l);else throw new Error("Wrong data type for OCTET_STRING");break;case"BIT_STRING":p="00"+l;break;case"BOOLEAN":p=parseInt(l).toString().padStart(2,"0");break;default:throw new Error("Sorry, "+a+" not implemented.")}let _="",T=Math.ceil(p.length/2),I=T.toString(16);return T||(I="00"),I=(I.length%2?"0":"")+I,T<128?_=I:_=(128+Math.round(I.length/2)).toString(16)+I,p=(p.length%2?"0":"")+p,u.toString(16).padStart(2,"0")+_+p}decode(a){let l=Array.from(a);return this.read(l)}lenEncoded(a){let l=a.shift();if(l<128)return l;if(l>128){let f=0;for(let u=0;u<l-128;u++)f=(f<<8)+a.shift();return f}else if(l==128)throw new Error("have to code variable length")}readFromHexString(a){return this.read((0,e.hexStringToArray)(a))}readFromUint8Array(a){return this.read(Array.from(a))}readFromBase64String(a){return this.readFromUint8Array((0,e.base64ToUint8array)(a))}readFromUrlBase64String(a){let l=a.split("_").join("/").split("-").join("+").split(".").join("=");return this.readFromBase64String(l)}read(a){let l=a.shift(),f=this.lenEncoded(a),u=o[l];(0,e.logger)(t.DEBUGLEVEL.VERBOSE,"Der utility typeTagName:"+u);let p=[];for(let T=0;T<f;T++)p.push(a.shift());(0,e.logger)(t.DEBUGLEVEL.VERBOSE,"Der Utility content"),(0,e.logger)(t.DEBUGLEVEL.VERBOSE,p);let _="";switch(u){case"SEQUENCE_30":return this.BodySequence(p);case"INTEGER":case"BIT_STRING":let T=0n;for(;p.length;)T=T<<8n,T+=BigInt(p.shift());return T;case"OCTET_STRING":for(;p.length;)_+=p.shift().toString(16).padStart(2,"0");return _;case"GENERALIZED_TIME":case"VISIBLE_STRING":for(;p.length;)_+=String.fromCharCode(p.shift());return _}}BodySequence(a){let l=[];for(;a.length;)l.push(this.read(a));return l}}r.Asn1Der=i})(In);var Ff={},n2;function j8(){if(n2)return Ff;n2=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.UsageProofOfExponent=void 0;const r=rs(),e=$i,t=Nt,n=Ot(),o=In,i=gi();class s{constructor(){}static fromData(l,f,u=new Uint8Array([])){let p=new this;return p.tPoint=l,p.challengeResponse=f,p.nonce=u,p.encoding=p.makeEncoding(),p}fromBase64(l){this.encoding=l,this.fromBytes((0,n.base64ToUint8array)(l))}fromBytes(l){this.encodingBytes=l;let f=t.AsnParser.parse(l,e.UsageProof);this.challengeResponse=(0,n.uint8ToBn)(new Uint8Array(f.challengePoint));let u=new Uint8Array(f.responseValue);this.nonce=new Uint8Array(f.nonce),this.tPoint=r.Point.decodeFromHex((0,n.uint8tohex)(u),r.CURVE_BN256)}makeEncoding(){let l=o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)((0,n.bnToUint8)(this.challengeResponse)))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.tPoint.getEncoded(!1)))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.nonce));return o.Asn1Der.encode("SEQUENCE_30",l)}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getDerEncoding(){return this.encoding}getNonce(){return this.nonce}validateParameters(){try{if(!i.AttestationCrypto.validatePointToCurve(this.tPoint,i.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=i.AttestationCrypto.curveOrder||this.tPoint.equals(i.AttestationCrypto.G)||this.tPoint.equals(i.AttestationCrypto.H))}catch{return!1}}}return Ff.UsageProofOfExponent=s,Ff}var i2;function j0(){if(i2)return Uf;i2=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.FullProofOfExponent=void 0;const r=rs(),e=$i,t=Nt,n=Ot(),o=In,i=j8(),s=gi();class a{constructor(){}static fromData(f,u,p,_=new Uint8Array([])){let T=new this;return T.riddle=f,T.tPoint=u,T.challengeResponse=p,T.nonce=_,T.encoding=T.makeEncoding(f,u,p,_),T}static fromBytes(f){let u=t.AsnParser.parse(f,e.Proof);return this.fromASNType(u)}static fromASNType(f){let u=new Uint8Array(f.riddle),p=r.Point.decodeFromUint8(u,r.CURVE_BN256),_=new Uint8Array(f.challengePoint),T=(0,n.uint8ToBn)(_),I=new Uint8Array(f.responseValue),B=r.Point.decodeFromUint8(I,r.CURVE_BN256),P=new Uint8Array(f.nonce);return this.fromData(p,B,T,P)}static fromBase64(f){return a.fromBytes((0,n.base64ToUint8array)(f))}makeEncoding(f,u,p,_=new Uint8Array([])){let T=o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(f.getEncoded()))+o.Asn1Der.encode("OCTET_STRING",p.toString(16))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(u.getEncoded()))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(_));return o.Asn1Der.encode("SEQUENCE_30",T)}getRiddle(){return this.riddle}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getNonce(){return this.nonce}getUsageProofOfExponent(){return i.UsageProofOfExponent.fromData(this.tPoint,this.challengeResponse,this.nonce)}getDerEncoding(){return this.encoding}getAsnType(){const f=new e.Proof;f.nonce=this.getNonce();let u=(0,n.bnToUint8)(this.getChallengeResponse());if(u.length<32){let p=u;u=new Uint8Array(32),u.set(p,32-p.length)}return f.challengePoint=u,f.riddle=this.getRiddle().getEncoded(),f.responseValue=this.getPoint().getEncoded(),f}validateParameters(){try{if(!s.AttestationCrypto.validatePointToCurve(this.riddle,s.AttestationCrypto.curve)||!s.AttestationCrypto.validatePointToCurve(this.tPoint,s.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=s.AttestationCrypto.curveOrder||this.riddle.equals(s.AttestationCrypto.G)||this.riddle.equals(s.AttestationCrypto.H)||this.tPoint.equals(s.AttestationCrypto.G)||this.tPoint.equals(s.AttestationCrypto.H))}catch{return!1}}}return Uf.FullProofOfExponent=a,Uf}var o2;function gi(){return o2||(o2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AttestationCrypto=r.Pedestren_H=r.Pedestren_G=void 0;const e=m0,t=rs(),n=Ot(),o=j0(),i=Kt,s=mo;let a=lf.exports;r.Pedestren_G=new t.Point(21282764439311451829394129092047993080259557426320933158672611067687630484067n,3813889942691430704369624600187664845713336792511424430006907067499686345744n,t.CURVE_BN256),r.Pedestren_H=new t.Point(10844896013696871595893151490650636250667003995871483372134187278207473369077n,9393217696329481319187854592386054938412168121447413803797200472841959383227n,t.CURVE_BN256);class l{constructor(){if(this.curveOrderBitLength=254n,this.rand=this.makeSecret(),!this.verifyCurveOrder())throw new Error("Static values do not work with current implementation")}verifyCurveOrder(){l.validatePointToCurve(l.G,l.curve),l.validatePointToCurve(l.H,l.curve);let u=BigInt(l.curveOrder.toString(2).length);return l.curveOrder<1n<<u-1n||l.curveOrder>>u>0n?((0,n.logger)(i.DEBUGLEVEL.LOW,"Curve order is not 254 bits which is required by the current implementation"),!1):!0}getType(u){switch(u.toLowerCase()){case"mail":return e.ATTESTATION_TYPE.mail;case"phone":return e.ATTESTATION_TYPE.phone;case"inetpersona":return e.ATTESTATION_TYPE.InetPersona;default:throw new Error("Wrong type of identifier")}}makeCommitment(u,p,_){let T=this.mapToCurveMultiplier(p,u);return r.Pedestren_G.multiplyDA(T).add(r.Pedestren_H.multiplyDA(_)).getEncoded(!1)}makeCommitmentFromHiding(u,p,_){if(!l.validatePointToCurve(_,l.curve))throw new Error("Point invalid");let T=this.mapToCurveMultiplier(p,u);return r.Pedestren_G.multiplyDA(T).add(_).getEncoded(!1)}injectIdentifierType(u,p){return(0,n.uint8merge)([Uint8Array.from([0,0,0,u]),p])}mapToInteger(u){return BigInt("0x"+a.keccak256(u))>>256n-this.curveOrderBitLength}mapToCurveMultiplier(u,p){let _=Uint8Array.from((0,n.stringToArray)(p.trim().toLowerCase())),T=this.injectIdentifierType(u,_),I=(0,n.uint8ToBn)(T);do I=this.mapToInteger((0,n.bnToUint8)(I));while(I>=t.CURVE_BN256.n);return I}computePoint_bn256(u){let p=t.CURVE_BN256.P;u=(0,n.mod)(u,p);let _=0n,T=0n,I,B,P,C=p+1n>>2n,L=p-1n>>1n;do{do u=(0,n.mod)(u+1n),T=(0,n.mod)((0,n.BnPowMod)(u,3n,p)+t.CURVE_BN256.A*u+t.CURVE_BN256.B),P=(0,n.BnPowMod)(T,L,p);while(P!==1n);_=(0,n.BnPowMod)(T,C,p),I=new t.Point(u,_,t.CURVE_BN256),I.x>p>>1n&&(I=new t.Point(u,p-_,t.CURVE_BN256)),B=I.multiplyDA(t.CURVE_BN256.n-1n),B.y>p>>1n&&(B=new t.Point(B.x,p-B.y,t.CURVE_BN256))}while(!I.equals(B)||I.isInfinity());return I}makeSecret(u=48){return(0,n.mod)(BigInt(l.generateRandomHexString(u)),t.CURVE_BN256.n)}static generateRandomHexString(u){var p=new Uint8Array(u);window&&window.crypto?window.crypto.getRandomValues(p):p=new Uint8Array(s.randomBytes(u));let _="0x";for(var T=0;T<p.length;T++)_+=p[T].toString(16).padStart(2,"0");return _}computeAttestationProof(u,p=new Uint8Array([])){let _=r.Pedestren_H.multiplyDA(u),T=[r.Pedestren_H,_];return this.constructSchnorrPOK(_,u,T,p)}computeEqualityProof(u,p,_,T,I=new Uint8Array([])){let B=t.Point.decodeFromHex(u);l.validatePointToCurve(B,t.CURVE_BN256);let P=t.Point.decodeFromHex(p);l.validatePointToCurve(P,t.CURVE_BN256);let C=B.subtract(P),L=(0,n.mod)(_-T,t.CURVE_BN256.n),j=[r.Pedestren_H,B,P];return this.constructSchnorrPOK(C,L,j,I).getUsageProofOfExponent()}constructSchnorrPOK(u,p,_,T){let I,B,P,C;do B=this.makeSecret(),I=r.Pedestren_H.multiplyDA(B),P=this.computeChallenge(I,_,T);while(P>=t.CURVE_BN256.n);return C=(0,n.mod)(B+P*p,t.CURVE_BN256.n),o.FullProofOfExponent.fromData(u,I,C,T)}computeChallenge(u,p,_){let T=p.concat(u),I=this.makeArray(T),B=(0,n.uint8merge)([I,_]);return this.mapToInteger(B)}verifyFullProof(u){if(!u.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let p=this.computeChallenge(u.getPoint(),[r.Pedestren_H,u.getRiddle()],u.getNonce());return this.verifyPok(u,p)}verifyEqualityProof(u,p,_){if(!_.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let T=t.Point.decodeFromUint8(u,t.CURVE_BN256);l.validatePointToCurve(T,t.CURVE_BN256);let I=t.Point.decodeFromUint8(p,t.CURVE_BN256);l.validatePointToCurve(I,t.CURVE_BN256);let B=T.subtract(I),P=this.computeChallenge(_.getPoint(),[r.Pedestren_H,T,I],_.getNonce());return this.verifyPok(o.FullProofOfExponent.fromData(B,_.getPoint(),_.getChallengeResponse(),_.getNonce()),P)}verifyPok(u,p){if(p>=t.CURVE_BN256.n||p<=0n)return(0,n.logger)(2,"Challenge is not of the correct size"),!1;let _=r.Pedestren_H.multiplyDA(u.getChallengeResponse()),T=u.getRiddle().multiplyDA(p).add(u.getPoint());return _.equals(T)}makeArray(u){let p=new Uint8Array(0);return u.forEach(_=>{p=new Uint8Array([...p,..._.getEncoded(!1)])}),p}static hashWithKeccak(u){return a.keccak256(u)}static validatePointToCurve(u,p){try{if(u.isInfinity())throw new Error("Point is at infinity");if(!u.multiplyDA(t.CURVE_BN256.n).isInfinity())throw console.log("Point does not have correct order"),new Error("Point does not have correct order")}catch{return!1}return!0}}r.AttestationCrypto=l,l.OID_SIGNATURE_ALG="1.2.840.10045.2.1",l.BYTES_IN_DIGEST=256/8,l.fieldSize=t.CURVE_BN256.P,l.curveOrder=t.CURVE_BN256.n,l.cofactor=1n,l.curve=t.CURVE_BN256,l.G=r.Pedestren_G,l.H=r.Pedestren_H}(ad)),ad}var Cn={},$t={},Cr={},xr=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Extensions=Cr.Extension=Cr.ValidityValue=Cr.Version=Cr.AlgorithmIdentifierASN=void 0;const St=Nt;class ab{}xr([(0,St.AsnProp)({type:St.AsnPropTypes.ObjectIdentifier})],ab.prototype,"algorithm",void 0);xr([(0,St.AsnProp)({type:St.AsnPropTypes.Any,optional:!0})],ab.prototype,"parameters",void 0);Cr.AlgorithmIdentifierASN=ab;class q8{constructor(){this.version=0}}xr([(0,St.AsnProp)({type:St.AsnPropTypes.Integer})],q8.prototype,"version",void 0);Cr.Version=q8;let Qa=class{};xr([(0,St.AsnProp)({type:St.AsnPropTypes.UTCTime})],Qa.prototype,"utcTime",void 0);xr([(0,St.AsnProp)({type:St.AsnPropTypes.GeneralizedTime})],Qa.prototype,"generalizedTime",void 0);Qa=xr([(0,St.AsnType)({type:St.AsnTypeTypes.Choice})],Qa);class mf{}xr([(0,St.AsnProp)({type:Qa})],mf.prototype,"notBefore",void 0);xr([(0,St.AsnProp)({type:St.AsnPropTypes.Integer,optional:!0})],mf.prototype,"notBeforeInt",void 0);xr([(0,St.AsnProp)({type:Qa})],mf.prototype,"notAfter",void 0);xr([(0,St.AsnProp)({type:St.AsnPropTypes.Integer,optional:!0})],mf.prototype,"notAfterInt",void 0);Cr.ValidityValue=mf;let Iu=class{};xr([(0,St.AsnProp)({type:mf,context:0})],Iu.prototype,"value",void 0);xr([(0,St.AsnProp)({type:St.AsnPropTypes.Integer,context:1})],Iu.prototype,"null",void 0);Iu=xr([(0,St.AsnType)({type:St.AsnTypeTypes.Choice})],Iu);class zc{}xr([(0,St.AsnProp)({type:St.AsnPropTypes.ObjectIdentifier})],zc.prototype,"extnId",void 0);xr([(0,St.AsnProp)({type:St.AsnPropTypes.Boolean})],zc.prototype,"critical",void 0);xr([(0,St.AsnProp)({type:St.AsnPropTypes.OctetString})],zc.prototype,"extnValue",void 0);Cr.Extension=zc;class H8{}xr([(0,St.AsnProp)({type:zc})],H8.prototype,"extension",void 0);Cr.Extensions=H8;var Ya={},Ys=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},gp,bp;Object.defineProperty(Ya,"__esModule",{value:!0});Ya.Name=Ya.AttributeTypeAndValue=void 0;const Hr=Nt;class q0{}Ys([(0,Hr.AsnProp)({type:Hr.AsnPropTypes.ObjectIdentifier})],q0.prototype,"type",void 0);Ys([(0,Hr.AsnProp)({type:Hr.AsnPropTypes.Utf8String})],q0.prototype,"value",void 0);Ya.AttributeTypeAndValue=q0;let vp=gp=class extends Hr.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,gp.prototype)}};vp=gp=Ys([(0,Hr.AsnType)({type:Hr.AsnTypeTypes.Set,itemType:q0})],vp);let mp=bp=class extends Hr.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,bp.prototype)}};mp=bp=Ys([(0,Hr.AsnType)({type:Hr.AsnTypeTypes.Sequence,itemType:vp})],mp);let Ic=class{};Ys([(0,Hr.AsnProp)({type:mp})],Ic.prototype,"rdnSequence",void 0);Ys([(0,Hr.AsnProp)({type:Hr.AsnPropTypes.Null})],Ic.prototype,"null",void 0);Ic=Ys([(0,Hr.AsnType)({type:Hr.AsnTypeTypes.Choice})],Ic);Ya.Name=Ic;var wt=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty($t,"__esModule",{value:!0});$t.MyAttestationDecoded=$t.MyAttestation=$t.SignedInfo=$t.SmartContract=$t.Payload=$t.PrivateKeyInfo=$t.PrivateKeyData=$t.SubjectPublicKeyInfo=$t.PublicKeyInfoValue=void 0;const Ke=Nt,yf=Cr,G8=Ya;class H0{}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any})],H0.prototype,"algorithm",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.BitString})],H0.prototype,"publicKey",void 0);$t.PublicKeyInfoValue=H0;let Za=class{constructor(){this.null=!1}};wt([(0,Ke.AsnProp)({type:H0})],Za.prototype,"value",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any})],Za.prototype,"null",void 0);Za=wt([(0,Ke.AsnType)({type:Ke.AsnTypeTypes.Choice})],Za);$t.SubjectPublicKeyInfo=Za;class Wc{}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Integer})],Wc.prototype,"one",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.OctetString})],Wc.prototype,"privateKey",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any,context:0})],Wc.prototype,"algDescr",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.BitString,context:1})],Wc.prototype,"publicKey",void 0);$t.PrivateKeyData=Wc;class G0{}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Integer})],G0.prototype,"one",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any})],G0.prototype,"algIdent",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.OctetString})],G0.prototype,"keysData",void 0);$t.PrivateKeyInfo=G0;let Xa=class{};wt([(0,Ke.AsnProp)({type:yf.Extensions,context:3})],Xa.prototype,"extensions",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any,context:4})],Xa.prototype,"dataObject",void 0);Xa=wt([(0,Ke.AsnType)({type:Ke.AsnTypeTypes.Choice})],Xa);$t.Payload=Xa;class fb{}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Integer})],fb.prototype,"value",void 0);$t.SmartContract=fb;class bi{}wt([(0,Ke.AsnProp)({type:yf.Version})],bi.prototype,"version",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Integer})],bi.prototype,"serialNumber",void 0);wt([(0,Ke.AsnProp)({type:yf.AlgorithmIdentifierASN})],bi.prototype,"signature",void 0);wt([(0,Ke.AsnProp)({type:G8.Name})],bi.prototype,"issuer",void 0);wt([(0,Ke.AsnProp)({type:yf.ValidityValue,optional:!0})],bi.prototype,"validity",void 0);wt([(0,Ke.AsnProp)({type:G8.Name})],bi.prototype,"subject",void 0);wt([(0,Ke.AsnProp)({type:Za})],bi.prototype,"subjectPublicKeyInfo",void 0);wt([(0,Ke.AsnProp)({type:fb,optional:!0})],bi.prototype,"contract",void 0);wt([(0,Ke.AsnProp)({type:Xa,optional:!0})],bi.prototype,"attestsTo",void 0);$t.SignedInfo=bi;class K0{constructor(){this.signedInfo=new Uint8Array}}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any})],K0.prototype,"signedInfo",void 0);wt([(0,Ke.AsnProp)({type:yf.AlgorithmIdentifierASN})],K0.prototype,"signatureAlgorithm",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.BitString})],K0.prototype,"signatureValue",void 0);$t.MyAttestation=K0;class z0{}wt([(0,Ke.AsnProp)({type:bi})],z0.prototype,"signedInfo",void 0);wt([(0,Ke.AsnProp)({type:yf.AlgorithmIdentifierASN})],z0.prototype,"signatureAlgorithm",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.BitString})],z0.prototype,"signatureValue",void 0);$t.MyAttestationDecoded=z0;const W0=Vt(zM);var J0={},K8=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(J0,"__esModule",{value:!0});J0.Signature=void 0;const Cu=Nt;class cb{}K8([(0,Cu.AsnProp)({type:Cu.AsnPropTypes.Integer})],cb.prototype,"r",void 0);K8([(0,Cu.AsnProp)({type:Cu.AsnPropTypes.Integer})],cb.prototype,"s",void 0);J0.Signature=cb;var lb={};const rO="elliptic",nO="6.5.4",iO="EC cryptography",oO="lib/elliptic.js",sO=["lib"],aO={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},fO={type:"git",url:"git@github.com:indutny/elliptic"},cO=["EC","Elliptic","curve","Cryptography"],lO="Fedor Indutny <fedor@indutny.com>",uO="MIT",hO={url:"https://github.com/indutny/elliptic/issues"},dO="https://github.com/indutny/elliptic",pO={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},gO={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},bO={name:rO,version:nO,description:iO,main:oO,files:sO,scripts:aO,repository:fO,keywords:cO,author:lO,license:uO,bugs:hO,homepage:dO,devDependencies:pO,dependencies:gO};var hn={},Ki={exports:{}};(function(r){(function(e,t){function n(U,E){if(!U)throw new Error(E||"Assertion failed")}function o(U,E){U.super_=E;var b=function(){};b.prototype=E.prototype,U.prototype=new b,U.prototype.constructor=U}function i(U,E,b){if(i.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((E==="le"||E==="be")&&(b=E,E=10),this._init(U||0,E||10,b||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=mo.Buffer}catch{}i.isBN=function(E){return E instanceof i?!0:E!==null&&typeof E=="object"&&E.constructor.wordSize===i.wordSize&&Array.isArray(E.words)},i.max=function(E,b){return E.cmp(b)>0?E:b},i.min=function(E,b){return E.cmp(b)<0?E:b},i.prototype._init=function(E,b,c){if(typeof E=="number")return this._initNumber(E,b,c);if(typeof E=="object")return this._initArray(E,b,c);b==="hex"&&(b=16),n(b===(b|0)&&b>=2&&b<=36),E=E.toString().replace(/\s+/g,"");var d=0;E[0]==="-"&&(d++,this.negative=1),d<E.length&&(b===16?this._parseHex(E,d,c):(this._parseBase(E,b,d),c==="le"&&this._initArray(this.toArray(),b,c)))},i.prototype._initNumber=function(E,b,c){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[E&67108863],this.length=1):E<4503599627370496?(this.words=[E&67108863,E/67108864&67108863],this.length=2):(n(E<9007199254740992),this.words=[E&67108863,E/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),b,c)},i.prototype._initArray=function(E,b,c){if(n(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var v,y,x=0;if(c==="be")for(d=E.length-1,v=0;d>=0;d-=3)y=E[d]|E[d-1]<<8|E[d-2]<<16,this.words[v]|=y<<x&67108863,this.words[v+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,v++);else if(c==="le")for(d=0,v=0;d<E.length;d+=3)y=E[d]|E[d+1]<<8|E[d+2]<<16,this.words[v]|=y<<x&67108863,this.words[v+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,v++);return this.strip()};function a(U,E){var b=U.charCodeAt(E);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function l(U,E,b){var c=a(U,b);return b-1>=E&&(c|=a(U,b-1)<<4),c}i.prototype._parseHex=function(E,b,c){this.length=Math.ceil((E.length-b)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var v=0,y=0,x;if(c==="be")for(d=E.length-1;d>=b;d-=2)x=l(E,b,d)<<v,this.words[y]|=x&67108863,v>=18?(v-=18,y+=1,this.words[y]|=x>>>26):v+=8;else{var w=E.length-b;for(d=w%2===0?b+1:b;d<E.length;d+=2)x=l(E,b,d)<<v,this.words[y]|=x&67108863,v>=18?(v-=18,y+=1,this.words[y]|=x>>>26):v+=8}this.strip()};function f(U,E,b,c){for(var d=0,v=Math.min(U.length,b),y=E;y<v;y++){var x=U.charCodeAt(y)-48;d*=c,x>=49?d+=x-49+10:x>=17?d+=x-17+10:d+=x}return d}i.prototype._parseBase=function(E,b,c){this.words=[0],this.length=1;for(var d=0,v=1;v<=67108863;v*=b)d++;d--,v=v/b|0;for(var y=E.length-c,x=y%d,w=Math.min(y,y-x)+c,m=0,g=c;g<w;g+=d)m=f(E,g,g+d,b),this.imuln(v),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(x!==0){var h=1;for(m=f(E,g,E.length,b),g=0;g<x;g++)h*=b;this.imuln(h),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this.strip()},i.prototype.copy=function(E){E.words=new Array(this.length);for(var b=0;b<this.length;b++)E.words[b]=this.words[b];E.length=this.length,E.negative=this.negative,E.red=this.red},i.prototype.clone=function(){var E=new i(null);return this.copy(E),E},i.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(E,b){E=E||10,b=b|0||1;var c;if(E===16||E==="hex"){c="";for(var d=0,v=0,y=0;y<this.length;y++){var x=this.words[y],w=((x<<d|v)&16777215).toString(16);v=x>>>24-d&16777215,v!==0||y!==this.length-1?c=u[6-w.length]+w+c:c=w+c,d+=2,d>=26&&(d-=26,y--)}for(v!==0&&(c=v.toString(16)+c);c.length%b!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(E===(E|0)&&E>=2&&E<=36){var m=p[E],g=_[E];c="";var h=this.clone();for(h.negative=0;!h.isZero();){var S=h.modn(g).toString(E);h=h.idivn(g),h.isZero()?c=S+c:c=u[m-S.length]+S+c}for(this.isZero()&&(c="0"+c);c.length%b!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=this.words[1]*67108864:this.length===3&&this.words[2]===1?E+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(E,b){return n(typeof s<"u"),this.toArrayLike(s,E,b)},i.prototype.toArray=function(E,b){return this.toArrayLike(Array,E,b)},i.prototype.toArrayLike=function(E,b,c){var d=this.byteLength(),v=c||Math.max(1,d);n(d<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var y=b==="le",x=new E(v),w,m,g=this.clone();if(y){for(m=0;!g.isZero();m++)w=g.andln(255),g.iushrn(8),x[m]=w;for(;m<v;m++)x[m]=0}else{for(m=0;m<v-d;m++)x[m]=0;for(m=0;!g.isZero();m++)w=g.andln(255),g.iushrn(8),x[v-m-1]=w}return x},Math.clz32?i.prototype._countBits=function(E){return 32-Math.clz32(E)}:i.prototype._countBits=function(E){var b=E,c=0;return b>=4096&&(c+=13,b>>>=13),b>=64&&(c+=7,b>>>=7),b>=8&&(c+=4,b>>>=4),b>=2&&(c+=2,b>>>=2),c+b},i.prototype._zeroBits=function(E){if(E===0)return 26;var b=E,c=0;return(b&8191)===0&&(c+=13,b>>>=13),(b&127)===0&&(c+=7,b>>>=7),(b&15)===0&&(c+=4,b>>>=4),(b&3)===0&&(c+=2,b>>>=2),(b&1)===0&&c++,c},i.prototype.bitLength=function(){var E=this.words[this.length-1],b=this._countBits(E);return(this.length-1)*26+b};function T(U){for(var E=new Array(U.bitLength()),b=0;b<E.length;b++){var c=b/26|0,d=b%26;E[b]=(U.words[c]&1<<d)>>>d}return E}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,b=0;b<this.length;b++){var c=this._zeroBits(this.words[b]);if(E+=c,c!==26)break}return E},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},i.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var b=0;b<E.length;b++)this.words[b]=this.words[b]|E.words[b];return this.strip()},i.prototype.ior=function(E){return n((this.negative|E.negative)===0),this.iuor(E)},i.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},i.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},i.prototype.iuand=function(E){var b;this.length>E.length?b=E:b=this;for(var c=0;c<b.length;c++)this.words[c]=this.words[c]&E.words[c];return this.length=b.length,this.strip()},i.prototype.iand=function(E){return n((this.negative|E.negative)===0),this.iuand(E)},i.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},i.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},i.prototype.iuxor=function(E){var b,c;this.length>E.length?(b=this,c=E):(b=E,c=this);for(var d=0;d<c.length;d++)this.words[d]=b.words[d]^c.words[d];if(this!==b)for(;d<b.length;d++)this.words[d]=b.words[d];return this.length=b.length,this.strip()},i.prototype.ixor=function(E){return n((this.negative|E.negative)===0),this.iuxor(E)},i.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},i.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},i.prototype.inotn=function(E){n(typeof E=="number"&&E>=0);var b=Math.ceil(E/26)|0,c=E%26;this._expand(b),c>0&&b--;for(var d=0;d<b;d++)this.words[d]=~this.words[d]&67108863;return c>0&&(this.words[d]=~this.words[d]&67108863>>26-c),this.strip()},i.prototype.notn=function(E){return this.clone().inotn(E)},i.prototype.setn=function(E,b){n(typeof E=="number"&&E>=0);var c=E/26|0,d=E%26;return this._expand(c+1),b?this.words[c]=this.words[c]|1<<d:this.words[c]=this.words[c]&~(1<<d),this.strip()},i.prototype.iadd=function(E){var b;if(this.negative!==0&&E.negative===0)return this.negative=0,b=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,b=this.isub(E),E.negative=1,b._normSign();var c,d;this.length>E.length?(c=this,d=E):(c=E,d=this);for(var v=0,y=0;y<d.length;y++)b=(c.words[y]|0)+(d.words[y]|0)+v,this.words[y]=b&67108863,v=b>>>26;for(;v!==0&&y<c.length;y++)b=(c.words[y]|0)+v,this.words[y]=b&67108863,v=b>>>26;if(this.length=c.length,v!==0)this.words[this.length]=v,this.length++;else if(c!==this)for(;y<c.length;y++)this.words[y]=c.words[y];return this},i.prototype.add=function(E){var b;return E.negative!==0&&this.negative===0?(E.negative=0,b=this.sub(E),E.negative^=1,b):E.negative===0&&this.negative!==0?(this.negative=0,b=E.sub(this),this.negative=1,b):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},i.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var b=this.iadd(E);return E.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var c=this.cmp(E);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,v;c>0?(d=this,v=E):(d=E,v=this);for(var y=0,x=0;x<v.length;x++)b=(d.words[x]|0)-(v.words[x]|0)+y,y=b>>26,this.words[x]=b&67108863;for(;y!==0&&x<d.length;x++)b=(d.words[x]|0)+y,y=b>>26,this.words[x]=b&67108863;if(y===0&&x<d.length&&d!==this)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=Math.max(this.length,x),d!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(E){return this.clone().isub(E)};function I(U,E,b){b.negative=E.negative^U.negative;var c=U.length+E.length|0;b.length=c,c=c-1|0;var d=U.words[0]|0,v=E.words[0]|0,y=d*v,x=y&67108863,w=y/67108864|0;b.words[0]=x;for(var m=1;m<c;m++){for(var g=w>>>26,h=w&67108863,S=Math.min(m,E.length-1),D=Math.max(0,m-U.length+1);D<=S;D++){var A=m-D|0;d=U.words[A]|0,v=E.words[D]|0,y=d*v+h,g+=y/67108864|0,h=y&67108863}b.words[m]=h|0,w=g|0}return w!==0?b.words[m]=w|0:b.length--,b.strip()}var B=function(E,b,c){var d=E.words,v=b.words,y=c.words,x=0,w,m,g,h=d[0]|0,S=h&8191,D=h>>>13,A=d[1]|0,N=A&8191,q=A>>>13,G=d[2]|0,Z=G&8191,ae=G>>>13,ne=d[3]|0,ee=ne&8191,F=ne>>>13,V=d[4]|0,K=V&8191,O=V>>>13,k=d[5]|0,M=k&8191,R=k>>>13,$=d[6]|0,H=$&8191,Q=$>>>13,oe=d[7]|0,te=oe&8191,le=oe>>>13,fe=d[8]|0,se=fe&8191,Ie=fe>>>13,xe=d[9]|0,de=xe&8191,ze=xe>>>13,Ue=v[0]|0,W=Ue&8191,X=Ue>>>13,ye=v[1]|0,ue=ye&8191,Be=ye>>>13,ve=v[2]|0,Ae=ve&8191,et=ve>>>13,Ne=v[3]|0,Ee=Ne&8191,lt=Ne>>>13,Fe=v[4]|0,we=Fe&8191,gt=Fe>>>13,He=v[5]|0,_e=He&8191,nt=He>>>13,Ve=v[6]|0,Se=Ve&8191,ut=Ve>>>13,je=v[7]|0,ke=je&8191,bt=je>>>13,qe=v[8]|0,Te=qe&8191,ht=qe>>>13,Ge=v[9]|0,Me=Ge&8191,dt=Ge>>>13;c.negative=E.negative^b.negative,c.length=19,w=Math.imul(S,W),m=Math.imul(S,X),m=m+Math.imul(D,W)|0,g=Math.imul(D,X);var De=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(De>>>26)|0,De&=67108863,w=Math.imul(N,W),m=Math.imul(N,X),m=m+Math.imul(q,W)|0,g=Math.imul(q,X),w=w+Math.imul(S,ue)|0,m=m+Math.imul(S,Be)|0,m=m+Math.imul(D,ue)|0,g=g+Math.imul(D,Be)|0;var $e=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+($e>>>26)|0,$e&=67108863,w=Math.imul(Z,W),m=Math.imul(Z,X),m=m+Math.imul(ae,W)|0,g=Math.imul(ae,X),w=w+Math.imul(N,ue)|0,m=m+Math.imul(N,Be)|0,m=m+Math.imul(q,ue)|0,g=g+Math.imul(q,Be)|0,w=w+Math.imul(S,Ae)|0,m=m+Math.imul(S,et)|0,m=m+Math.imul(D,Ae)|0,g=g+Math.imul(D,et)|0;var sr=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(sr>>>26)|0,sr&=67108863,w=Math.imul(ee,W),m=Math.imul(ee,X),m=m+Math.imul(F,W)|0,g=Math.imul(F,X),w=w+Math.imul(Z,ue)|0,m=m+Math.imul(Z,Be)|0,m=m+Math.imul(ae,ue)|0,g=g+Math.imul(ae,Be)|0,w=w+Math.imul(N,Ae)|0,m=m+Math.imul(N,et)|0,m=m+Math.imul(q,Ae)|0,g=g+Math.imul(q,et)|0,w=w+Math.imul(S,Ee)|0,m=m+Math.imul(S,lt)|0,m=m+Math.imul(D,Ee)|0,g=g+Math.imul(D,lt)|0;var rr=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(rr>>>26)|0,rr&=67108863,w=Math.imul(K,W),m=Math.imul(K,X),m=m+Math.imul(O,W)|0,g=Math.imul(O,X),w=w+Math.imul(ee,ue)|0,m=m+Math.imul(ee,Be)|0,m=m+Math.imul(F,ue)|0,g=g+Math.imul(F,Be)|0,w=w+Math.imul(Z,Ae)|0,m=m+Math.imul(Z,et)|0,m=m+Math.imul(ae,Ae)|0,g=g+Math.imul(ae,et)|0,w=w+Math.imul(N,Ee)|0,m=m+Math.imul(N,lt)|0,m=m+Math.imul(q,Ee)|0,g=g+Math.imul(q,lt)|0,w=w+Math.imul(S,we)|0,m=m+Math.imul(S,gt)|0,m=m+Math.imul(D,we)|0,g=g+Math.imul(D,gt)|0;var Ar=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,w=Math.imul(M,W),m=Math.imul(M,X),m=m+Math.imul(R,W)|0,g=Math.imul(R,X),w=w+Math.imul(K,ue)|0,m=m+Math.imul(K,Be)|0,m=m+Math.imul(O,ue)|0,g=g+Math.imul(O,Be)|0,w=w+Math.imul(ee,Ae)|0,m=m+Math.imul(ee,et)|0,m=m+Math.imul(F,Ae)|0,g=g+Math.imul(F,et)|0,w=w+Math.imul(Z,Ee)|0,m=m+Math.imul(Z,lt)|0,m=m+Math.imul(ae,Ee)|0,g=g+Math.imul(ae,lt)|0,w=w+Math.imul(N,we)|0,m=m+Math.imul(N,gt)|0,m=m+Math.imul(q,we)|0,g=g+Math.imul(q,gt)|0,w=w+Math.imul(S,_e)|0,m=m+Math.imul(S,nt)|0,m=m+Math.imul(D,_e)|0,g=g+Math.imul(D,nt)|0;var Er=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Er>>>26)|0,Er&=67108863,w=Math.imul(H,W),m=Math.imul(H,X),m=m+Math.imul(Q,W)|0,g=Math.imul(Q,X),w=w+Math.imul(M,ue)|0,m=m+Math.imul(M,Be)|0,m=m+Math.imul(R,ue)|0,g=g+Math.imul(R,Be)|0,w=w+Math.imul(K,Ae)|0,m=m+Math.imul(K,et)|0,m=m+Math.imul(O,Ae)|0,g=g+Math.imul(O,et)|0,w=w+Math.imul(ee,Ee)|0,m=m+Math.imul(ee,lt)|0,m=m+Math.imul(F,Ee)|0,g=g+Math.imul(F,lt)|0,w=w+Math.imul(Z,we)|0,m=m+Math.imul(Z,gt)|0,m=m+Math.imul(ae,we)|0,g=g+Math.imul(ae,gt)|0,w=w+Math.imul(N,_e)|0,m=m+Math.imul(N,nt)|0,m=m+Math.imul(q,_e)|0,g=g+Math.imul(q,nt)|0,w=w+Math.imul(S,Se)|0,m=m+Math.imul(S,ut)|0,m=m+Math.imul(D,Se)|0,g=g+Math.imul(D,ut)|0;var Sr=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,w=Math.imul(te,W),m=Math.imul(te,X),m=m+Math.imul(le,W)|0,g=Math.imul(le,X),w=w+Math.imul(H,ue)|0,m=m+Math.imul(H,Be)|0,m=m+Math.imul(Q,ue)|0,g=g+Math.imul(Q,Be)|0,w=w+Math.imul(M,Ae)|0,m=m+Math.imul(M,et)|0,m=m+Math.imul(R,Ae)|0,g=g+Math.imul(R,et)|0,w=w+Math.imul(K,Ee)|0,m=m+Math.imul(K,lt)|0,m=m+Math.imul(O,Ee)|0,g=g+Math.imul(O,lt)|0,w=w+Math.imul(ee,we)|0,m=m+Math.imul(ee,gt)|0,m=m+Math.imul(F,we)|0,g=g+Math.imul(F,gt)|0,w=w+Math.imul(Z,_e)|0,m=m+Math.imul(Z,nt)|0,m=m+Math.imul(ae,_e)|0,g=g+Math.imul(ae,nt)|0,w=w+Math.imul(N,Se)|0,m=m+Math.imul(N,ut)|0,m=m+Math.imul(q,Se)|0,g=g+Math.imul(q,ut)|0,w=w+Math.imul(S,ke)|0,m=m+Math.imul(S,bt)|0,m=m+Math.imul(D,ke)|0,g=g+Math.imul(D,bt)|0;var Rn=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,w=Math.imul(se,W),m=Math.imul(se,X),m=m+Math.imul(Ie,W)|0,g=Math.imul(Ie,X),w=w+Math.imul(te,ue)|0,m=m+Math.imul(te,Be)|0,m=m+Math.imul(le,ue)|0,g=g+Math.imul(le,Be)|0,w=w+Math.imul(H,Ae)|0,m=m+Math.imul(H,et)|0,m=m+Math.imul(Q,Ae)|0,g=g+Math.imul(Q,et)|0,w=w+Math.imul(M,Ee)|0,m=m+Math.imul(M,lt)|0,m=m+Math.imul(R,Ee)|0,g=g+Math.imul(R,lt)|0,w=w+Math.imul(K,we)|0,m=m+Math.imul(K,gt)|0,m=m+Math.imul(O,we)|0,g=g+Math.imul(O,gt)|0,w=w+Math.imul(ee,_e)|0,m=m+Math.imul(ee,nt)|0,m=m+Math.imul(F,_e)|0,g=g+Math.imul(F,nt)|0,w=w+Math.imul(Z,Se)|0,m=m+Math.imul(Z,ut)|0,m=m+Math.imul(ae,Se)|0,g=g+Math.imul(ae,ut)|0,w=w+Math.imul(N,ke)|0,m=m+Math.imul(N,bt)|0,m=m+Math.imul(q,ke)|0,g=g+Math.imul(q,bt)|0,w=w+Math.imul(S,Te)|0,m=m+Math.imul(S,ht)|0,m=m+Math.imul(D,Te)|0,g=g+Math.imul(D,ht)|0;var Nn=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,w=Math.imul(de,W),m=Math.imul(de,X),m=m+Math.imul(ze,W)|0,g=Math.imul(ze,X),w=w+Math.imul(se,ue)|0,m=m+Math.imul(se,Be)|0,m=m+Math.imul(Ie,ue)|0,g=g+Math.imul(Ie,Be)|0,w=w+Math.imul(te,Ae)|0,m=m+Math.imul(te,et)|0,m=m+Math.imul(le,Ae)|0,g=g+Math.imul(le,et)|0,w=w+Math.imul(H,Ee)|0,m=m+Math.imul(H,lt)|0,m=m+Math.imul(Q,Ee)|0,g=g+Math.imul(Q,lt)|0,w=w+Math.imul(M,we)|0,m=m+Math.imul(M,gt)|0,m=m+Math.imul(R,we)|0,g=g+Math.imul(R,gt)|0,w=w+Math.imul(K,_e)|0,m=m+Math.imul(K,nt)|0,m=m+Math.imul(O,_e)|0,g=g+Math.imul(O,nt)|0,w=w+Math.imul(ee,Se)|0,m=m+Math.imul(ee,ut)|0,m=m+Math.imul(F,Se)|0,g=g+Math.imul(F,ut)|0,w=w+Math.imul(Z,ke)|0,m=m+Math.imul(Z,bt)|0,m=m+Math.imul(ae,ke)|0,g=g+Math.imul(ae,bt)|0,w=w+Math.imul(N,Te)|0,m=m+Math.imul(N,ht)|0,m=m+Math.imul(q,Te)|0,g=g+Math.imul(q,ht)|0,w=w+Math.imul(S,Me)|0,m=m+Math.imul(S,dt)|0,m=m+Math.imul(D,Me)|0,g=g+Math.imul(D,dt)|0;var Ln=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,w=Math.imul(de,ue),m=Math.imul(de,Be),m=m+Math.imul(ze,ue)|0,g=Math.imul(ze,Be),w=w+Math.imul(se,Ae)|0,m=m+Math.imul(se,et)|0,m=m+Math.imul(Ie,Ae)|0,g=g+Math.imul(Ie,et)|0,w=w+Math.imul(te,Ee)|0,m=m+Math.imul(te,lt)|0,m=m+Math.imul(le,Ee)|0,g=g+Math.imul(le,lt)|0,w=w+Math.imul(H,we)|0,m=m+Math.imul(H,gt)|0,m=m+Math.imul(Q,we)|0,g=g+Math.imul(Q,gt)|0,w=w+Math.imul(M,_e)|0,m=m+Math.imul(M,nt)|0,m=m+Math.imul(R,_e)|0,g=g+Math.imul(R,nt)|0,w=w+Math.imul(K,Se)|0,m=m+Math.imul(K,ut)|0,m=m+Math.imul(O,Se)|0,g=g+Math.imul(O,ut)|0,w=w+Math.imul(ee,ke)|0,m=m+Math.imul(ee,bt)|0,m=m+Math.imul(F,ke)|0,g=g+Math.imul(F,bt)|0,w=w+Math.imul(Z,Te)|0,m=m+Math.imul(Z,ht)|0,m=m+Math.imul(ae,Te)|0,g=g+Math.imul(ae,ht)|0,w=w+Math.imul(N,Me)|0,m=m+Math.imul(N,dt)|0,m=m+Math.imul(q,Me)|0,g=g+Math.imul(q,dt)|0;var Un=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(de,Ae),m=Math.imul(de,et),m=m+Math.imul(ze,Ae)|0,g=Math.imul(ze,et),w=w+Math.imul(se,Ee)|0,m=m+Math.imul(se,lt)|0,m=m+Math.imul(Ie,Ee)|0,g=g+Math.imul(Ie,lt)|0,w=w+Math.imul(te,we)|0,m=m+Math.imul(te,gt)|0,m=m+Math.imul(le,we)|0,g=g+Math.imul(le,gt)|0,w=w+Math.imul(H,_e)|0,m=m+Math.imul(H,nt)|0,m=m+Math.imul(Q,_e)|0,g=g+Math.imul(Q,nt)|0,w=w+Math.imul(M,Se)|0,m=m+Math.imul(M,ut)|0,m=m+Math.imul(R,Se)|0,g=g+Math.imul(R,ut)|0,w=w+Math.imul(K,ke)|0,m=m+Math.imul(K,bt)|0,m=m+Math.imul(O,ke)|0,g=g+Math.imul(O,bt)|0,w=w+Math.imul(ee,Te)|0,m=m+Math.imul(ee,ht)|0,m=m+Math.imul(F,Te)|0,g=g+Math.imul(F,ht)|0,w=w+Math.imul(Z,Me)|0,m=m+Math.imul(Z,dt)|0,m=m+Math.imul(ae,Me)|0,g=g+Math.imul(ae,dt)|0;var Dn=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,w=Math.imul(de,Ee),m=Math.imul(de,lt),m=m+Math.imul(ze,Ee)|0,g=Math.imul(ze,lt),w=w+Math.imul(se,we)|0,m=m+Math.imul(se,gt)|0,m=m+Math.imul(Ie,we)|0,g=g+Math.imul(Ie,gt)|0,w=w+Math.imul(te,_e)|0,m=m+Math.imul(te,nt)|0,m=m+Math.imul(le,_e)|0,g=g+Math.imul(le,nt)|0,w=w+Math.imul(H,Se)|0,m=m+Math.imul(H,ut)|0,m=m+Math.imul(Q,Se)|0,g=g+Math.imul(Q,ut)|0,w=w+Math.imul(M,ke)|0,m=m+Math.imul(M,bt)|0,m=m+Math.imul(R,ke)|0,g=g+Math.imul(R,bt)|0,w=w+Math.imul(K,Te)|0,m=m+Math.imul(K,ht)|0,m=m+Math.imul(O,Te)|0,g=g+Math.imul(O,ht)|0,w=w+Math.imul(ee,Me)|0,m=m+Math.imul(ee,dt)|0,m=m+Math.imul(F,Me)|0,g=g+Math.imul(F,dt)|0;var Fn=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(de,we),m=Math.imul(de,gt),m=m+Math.imul(ze,we)|0,g=Math.imul(ze,gt),w=w+Math.imul(se,_e)|0,m=m+Math.imul(se,nt)|0,m=m+Math.imul(Ie,_e)|0,g=g+Math.imul(Ie,nt)|0,w=w+Math.imul(te,Se)|0,m=m+Math.imul(te,ut)|0,m=m+Math.imul(le,Se)|0,g=g+Math.imul(le,ut)|0,w=w+Math.imul(H,ke)|0,m=m+Math.imul(H,bt)|0,m=m+Math.imul(Q,ke)|0,g=g+Math.imul(Q,bt)|0,w=w+Math.imul(M,Te)|0,m=m+Math.imul(M,ht)|0,m=m+Math.imul(R,Te)|0,g=g+Math.imul(R,ht)|0,w=w+Math.imul(K,Me)|0,m=m+Math.imul(K,dt)|0,m=m+Math.imul(O,Me)|0,g=g+Math.imul(O,dt)|0;var $n=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(de,_e),m=Math.imul(de,nt),m=m+Math.imul(ze,_e)|0,g=Math.imul(ze,nt),w=w+Math.imul(se,Se)|0,m=m+Math.imul(se,ut)|0,m=m+Math.imul(Ie,Se)|0,g=g+Math.imul(Ie,ut)|0,w=w+Math.imul(te,ke)|0,m=m+Math.imul(te,bt)|0,m=m+Math.imul(le,ke)|0,g=g+Math.imul(le,bt)|0,w=w+Math.imul(H,Te)|0,m=m+Math.imul(H,ht)|0,m=m+Math.imul(Q,Te)|0,g=g+Math.imul(Q,ht)|0,w=w+Math.imul(M,Me)|0,m=m+Math.imul(M,dt)|0,m=m+Math.imul(R,Me)|0,g=g+Math.imul(R,dt)|0;var Vn=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(de,Se),m=Math.imul(de,ut),m=m+Math.imul(ze,Se)|0,g=Math.imul(ze,ut),w=w+Math.imul(se,ke)|0,m=m+Math.imul(se,bt)|0,m=m+Math.imul(Ie,ke)|0,g=g+Math.imul(Ie,bt)|0,w=w+Math.imul(te,Te)|0,m=m+Math.imul(te,ht)|0,m=m+Math.imul(le,Te)|0,g=g+Math.imul(le,ht)|0,w=w+Math.imul(H,Me)|0,m=m+Math.imul(H,dt)|0,m=m+Math.imul(Q,Me)|0,g=g+Math.imul(Q,dt)|0;var jn=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(jn>>>26)|0,jn&=67108863,w=Math.imul(de,ke),m=Math.imul(de,bt),m=m+Math.imul(ze,ke)|0,g=Math.imul(ze,bt),w=w+Math.imul(se,Te)|0,m=m+Math.imul(se,ht)|0,m=m+Math.imul(Ie,Te)|0,g=g+Math.imul(Ie,ht)|0,w=w+Math.imul(te,Me)|0,m=m+Math.imul(te,dt)|0,m=m+Math.imul(le,Me)|0,g=g+Math.imul(le,dt)|0;var qn=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(qn>>>26)|0,qn&=67108863,w=Math.imul(de,Te),m=Math.imul(de,ht),m=m+Math.imul(ze,Te)|0,g=Math.imul(ze,ht),w=w+Math.imul(se,Me)|0,m=m+Math.imul(se,dt)|0,m=m+Math.imul(Ie,Me)|0,g=g+Math.imul(Ie,dt)|0;var Hn=(x+w|0)+((m&8191)<<13)|0;x=(g+(m>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,w=Math.imul(de,Me),m=Math.imul(de,dt),m=m+Math.imul(ze,Me)|0,g=Math.imul(ze,dt);var Gn=(x+w|0)+((m&8191)<<13)|0;return x=(g+(m>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,y[0]=De,y[1]=$e,y[2]=sr,y[3]=rr,y[4]=Ar,y[5]=Er,y[6]=Sr,y[7]=Rn,y[8]=Nn,y[9]=Ln,y[10]=Un,y[11]=Dn,y[12]=Fn,y[13]=$n,y[14]=Vn,y[15]=jn,y[16]=qn,y[17]=Hn,y[18]=Gn,x!==0&&(y[19]=x,c.length++),c};Math.imul||(B=I);function P(U,E,b){b.negative=E.negative^U.negative,b.length=U.length+E.length;for(var c=0,d=0,v=0;v<b.length-1;v++){var y=d;d=0;for(var x=c&67108863,w=Math.min(v,E.length-1),m=Math.max(0,v-U.length+1);m<=w;m++){var g=v-m,h=U.words[g]|0,S=E.words[m]|0,D=h*S,A=D&67108863;y=y+(D/67108864|0)|0,A=A+x|0,x=A&67108863,y=y+(A>>>26)|0,d+=y>>>26,y&=67108863}b.words[v]=x,c=y,y=d}return c!==0?b.words[v]=c:b.length--,b.strip()}function C(U,E,b){var c=new L;return c.mulp(U,E,b)}i.prototype.mulTo=function(E,b){var c,d=this.length+E.length;return this.length===10&&E.length===10?c=B(this,E,b):d<63?c=I(this,E,b):d<1024?c=P(this,E,b):c=C(this,E,b),c};function L(U,E){this.x=U,this.y=E}L.prototype.makeRBT=function(E){for(var b=new Array(E),c=i.prototype._countBits(E)-1,d=0;d<E;d++)b[d]=this.revBin(d,c,E);return b},L.prototype.revBin=function(E,b,c){if(E===0||E===c-1)return E;for(var d=0,v=0;v<b;v++)d|=(E&1)<<b-v-1,E>>=1;return d},L.prototype.permute=function(E,b,c,d,v,y){for(var x=0;x<y;x++)d[x]=b[E[x]],v[x]=c[E[x]]},L.prototype.transform=function(E,b,c,d,v,y){this.permute(y,E,b,c,d,v);for(var x=1;x<v;x<<=1)for(var w=x<<1,m=Math.cos(2*Math.PI/w),g=Math.sin(2*Math.PI/w),h=0;h<v;h+=w)for(var S=m,D=g,A=0;A<x;A++){var N=c[h+A],q=d[h+A],G=c[h+A+x],Z=d[h+A+x],ae=S*G-D*Z;Z=S*Z+D*G,G=ae,c[h+A]=N+G,d[h+A]=q+Z,c[h+A+x]=N-G,d[h+A+x]=q-Z,A!==w&&(ae=m*S-g*D,D=m*D+g*S,S=ae)}},L.prototype.guessLen13b=function(E,b){var c=Math.max(b,E)|1,d=c&1,v=0;for(c=c/2|0;c;c=c>>>1)v++;return 1<<v+1+d},L.prototype.conjugate=function(E,b,c){if(!(c<=1))for(var d=0;d<c/2;d++){var v=E[d];E[d]=E[c-d-1],E[c-d-1]=v,v=b[d],b[d]=-b[c-d-1],b[c-d-1]=-v}},L.prototype.normalize13b=function(E,b){for(var c=0,d=0;d<b/2;d++){var v=Math.round(E[2*d+1]/b)*8192+Math.round(E[2*d]/b)+c;E[d]=v&67108863,v<67108864?c=0:c=v/67108864|0}return E},L.prototype.convert13b=function(E,b,c,d){for(var v=0,y=0;y<b;y++)v=v+(E[y]|0),c[2*y]=v&8191,v=v>>>13,c[2*y+1]=v&8191,v=v>>>13;for(y=2*b;y<d;++y)c[y]=0;n(v===0),n((v&-8192)===0)},L.prototype.stub=function(E){for(var b=new Array(E),c=0;c<E;c++)b[c]=0;return b},L.prototype.mulp=function(E,b,c){var d=2*this.guessLen13b(E.length,b.length),v=this.makeRBT(d),y=this.stub(d),x=new Array(d),w=new Array(d),m=new Array(d),g=new Array(d),h=new Array(d),S=new Array(d),D=c.words;D.length=d,this.convert13b(E.words,E.length,x,d),this.convert13b(b.words,b.length,g,d),this.transform(x,y,w,m,d,v),this.transform(g,y,h,S,d,v);for(var A=0;A<d;A++){var N=w[A]*h[A]-m[A]*S[A];m[A]=w[A]*S[A]+m[A]*h[A],w[A]=N}return this.conjugate(w,m,d),this.transform(w,m,D,y,d,v),this.conjugate(D,y,d),this.normalize13b(D,d),c.negative=E.negative^b.negative,c.length=E.length+b.length,c.strip()},i.prototype.mul=function(E){var b=new i(null);return b.words=new Array(this.length+E.length),this.mulTo(E,b)},i.prototype.mulf=function(E){var b=new i(null);return b.words=new Array(this.length+E.length),C(this,E,b)},i.prototype.imul=function(E){return this.clone().mulTo(E,this)},i.prototype.imuln=function(E){n(typeof E=="number"),n(E<67108864);for(var b=0,c=0;c<this.length;c++){var d=(this.words[c]|0)*E,v=(d&67108863)+(b&67108863);b>>=26,b+=d/67108864|0,b+=v>>>26,this.words[c]=v&67108863}return b!==0&&(this.words[c]=b,this.length++),this},i.prototype.muln=function(E){return this.clone().imuln(E)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(E){var b=T(E);if(b.length===0)return new i(1);for(var c=this,d=0;d<b.length&&b[d]===0;d++,c=c.sqr());if(++d<b.length)for(var v=c.sqr();d<b.length;d++,v=v.sqr())b[d]!==0&&(c=c.mul(v));return c},i.prototype.iushln=function(E){n(typeof E=="number"&&E>=0);var b=E%26,c=(E-b)/26,d=67108863>>>26-b<<26-b,v;if(b!==0){var y=0;for(v=0;v<this.length;v++){var x=this.words[v]&d,w=(this.words[v]|0)-x<<b;this.words[v]=w|y,y=x>>>26-b}y&&(this.words[v]=y,this.length++)}if(c!==0){for(v=this.length-1;v>=0;v--)this.words[v+c]=this.words[v];for(v=0;v<c;v++)this.words[v]=0;this.length+=c}return this.strip()},i.prototype.ishln=function(E){return n(this.negative===0),this.iushln(E)},i.prototype.iushrn=function(E,b,c){n(typeof E=="number"&&E>=0);var d;b?d=(b-b%26)/26:d=0;var v=E%26,y=Math.min((E-v)/26,this.length),x=67108863^67108863>>>v<<v,w=c;if(d-=y,d=Math.max(0,d),w){for(var m=0;m<y;m++)w.words[m]=this.words[m];w.length=y}if(y!==0)if(this.length>y)for(this.length-=y,m=0;m<this.length;m++)this.words[m]=this.words[m+y];else this.words[0]=0,this.length=1;var g=0;for(m=this.length-1;m>=0&&(g!==0||m>=d);m--){var h=this.words[m]|0;this.words[m]=g<<26-v|h>>>v,g=h&x}return w&&g!==0&&(w.words[w.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(E,b,c){return n(this.negative===0),this.iushrn(E,b,c)},i.prototype.shln=function(E){return this.clone().ishln(E)},i.prototype.ushln=function(E){return this.clone().iushln(E)},i.prototype.shrn=function(E){return this.clone().ishrn(E)},i.prototype.ushrn=function(E){return this.clone().iushrn(E)},i.prototype.testn=function(E){n(typeof E=="number"&&E>=0);var b=E%26,c=(E-b)/26,d=1<<b;if(this.length<=c)return!1;var v=this.words[c];return!!(v&d)},i.prototype.imaskn=function(E){n(typeof E=="number"&&E>=0);var b=E%26,c=(E-b)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(b!==0&&c++,this.length=Math.min(c,this.length),b!==0){var d=67108863^67108863>>>b<<b;this.words[this.length-1]&=d}return this.strip()},i.prototype.maskn=function(E){return this.clone().imaskn(E)},i.prototype.iaddn=function(E){return n(typeof E=="number"),n(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(this.words[0]|0)<E?(this.words[0]=E-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},i.prototype._iaddn=function(E){this.words[0]+=E;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},i.prototype.isubn=function(E){if(n(typeof E=="number"),n(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},i.prototype.addn=function(E){return this.clone().iaddn(E)},i.prototype.subn=function(E){return this.clone().isubn(E)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(E,b,c){var d=E.length+c,v;this._expand(d);var y,x=0;for(v=0;v<E.length;v++){y=(this.words[v+c]|0)+x;var w=(E.words[v]|0)*b;y-=w&67108863,x=(y>>26)-(w/67108864|0),this.words[v+c]=y&67108863}for(;v<this.length-c;v++)y=(this.words[v+c]|0)+x,x=y>>26,this.words[v+c]=y&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,v=0;v<this.length;v++)y=-(this.words[v]|0)+x,x=y>>26,this.words[v]=y&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(E,b){var c=this.length-E.length,d=this.clone(),v=E,y=v.words[v.length-1]|0,x=this._countBits(y);c=26-x,c!==0&&(v=v.ushln(c),d.iushln(c),y=v.words[v.length-1]|0);var w=d.length-v.length,m;if(b!=="mod"){m=new i(null),m.length=w+1,m.words=new Array(m.length);for(var g=0;g<m.length;g++)m.words[g]=0}var h=d.clone()._ishlnsubmul(v,1,w);h.negative===0&&(d=h,m&&(m.words[w]=1));for(var S=w-1;S>=0;S--){var D=(d.words[v.length+S]|0)*67108864+(d.words[v.length+S-1]|0);for(D=Math.min(D/y|0,67108863),d._ishlnsubmul(v,D,S);d.negative!==0;)D--,d.negative=0,d._ishlnsubmul(v,1,S),d.isZero()||(d.negative^=1);m&&(m.words[S]=D)}return m&&m.strip(),d.strip(),b!=="div"&&c!==0&&d.iushrn(c),{div:m||null,mod:d}},i.prototype.divmod=function(E,b,c){if(n(!E.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,v,y;return this.negative!==0&&E.negative===0?(y=this.neg().divmod(E,b),b!=="mod"&&(d=y.div.neg()),b!=="div"&&(v=y.mod.neg(),c&&v.negative!==0&&v.iadd(E)),{div:d,mod:v}):this.negative===0&&E.negative!==0?(y=this.divmod(E.neg(),b),b!=="mod"&&(d=y.div.neg()),{div:d,mod:y.mod}):(this.negative&E.negative)!==0?(y=this.neg().divmod(E.neg(),b),b!=="div"&&(v=y.mod.neg(),c&&v.negative!==0&&v.isub(E)),{div:y.div,mod:v}):E.length>this.length||this.cmp(E)<0?{div:new i(0),mod:this}:E.length===1?b==="div"?{div:this.divn(E.words[0]),mod:null}:b==="mod"?{div:null,mod:new i(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new i(this.modn(E.words[0]))}:this._wordDiv(E,b)},i.prototype.div=function(E){return this.divmod(E,"div",!1).div},i.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},i.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},i.prototype.divRound=function(E){var b=this.divmod(E);if(b.mod.isZero())return b.div;var c=b.div.negative!==0?b.mod.isub(E):b.mod,d=E.ushrn(1),v=E.andln(1),y=c.cmp(d);return y<0||v===1&&y===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},i.prototype.modn=function(E){n(E<=67108863);for(var b=(1<<26)%E,c=0,d=this.length-1;d>=0;d--)c=(b*c+(this.words[d]|0))%E;return c},i.prototype.idivn=function(E){n(E<=67108863);for(var b=0,c=this.length-1;c>=0;c--){var d=(this.words[c]|0)+b*67108864;this.words[c]=d/E|0,b=d%E}return this.strip()},i.prototype.divn=function(E){return this.clone().idivn(E)},i.prototype.egcd=function(E){n(E.negative===0),n(!E.isZero());var b=this,c=E.clone();b.negative!==0?b=b.umod(E):b=b.clone();for(var d=new i(1),v=new i(0),y=new i(0),x=new i(1),w=0;b.isEven()&&c.isEven();)b.iushrn(1),c.iushrn(1),++w;for(var m=c.clone(),g=b.clone();!b.isZero();){for(var h=0,S=1;(b.words[0]&S)===0&&h<26;++h,S<<=1);if(h>0)for(b.iushrn(h);h-- >0;)(d.isOdd()||v.isOdd())&&(d.iadd(m),v.isub(g)),d.iushrn(1),v.iushrn(1);for(var D=0,A=1;(c.words[0]&A)===0&&D<26;++D,A<<=1);if(D>0)for(c.iushrn(D);D-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(m),x.isub(g)),y.iushrn(1),x.iushrn(1);b.cmp(c)>=0?(b.isub(c),d.isub(y),v.isub(x)):(c.isub(b),y.isub(d),x.isub(v))}return{a:y,b:x,gcd:c.iushln(w)}},i.prototype._invmp=function(E){n(E.negative===0),n(!E.isZero());var b=this,c=E.clone();b.negative!==0?b=b.umod(E):b=b.clone();for(var d=new i(1),v=new i(0),y=c.clone();b.cmpn(1)>0&&c.cmpn(1)>0;){for(var x=0,w=1;(b.words[0]&w)===0&&x<26;++x,w<<=1);if(x>0)for(b.iushrn(x);x-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);for(var m=0,g=1;(c.words[0]&g)===0&&m<26;++m,g<<=1);if(m>0)for(c.iushrn(m);m-- >0;)v.isOdd()&&v.iadd(y),v.iushrn(1);b.cmp(c)>=0?(b.isub(c),d.isub(v)):(c.isub(b),v.isub(d))}var h;return b.cmpn(1)===0?h=d:h=v,h.cmpn(0)<0&&h.iadd(E),h},i.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var b=this.clone(),c=E.clone();b.negative=0,c.negative=0;for(var d=0;b.isEven()&&c.isEven();d++)b.iushrn(1),c.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;c.isEven();)c.iushrn(1);var v=b.cmp(c);if(v<0){var y=b;b=c,c=y}else if(v===0||c.cmpn(1)===0)break;b.isub(c)}while(!0);return c.iushln(d)},i.prototype.invm=function(E){return this.egcd(E).a.umod(E)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(E){return this.words[0]&E},i.prototype.bincn=function(E){n(typeof E=="number");var b=E%26,c=(E-b)/26,d=1<<b;if(this.length<=c)return this._expand(c+1),this.words[c]|=d,this;for(var v=d,y=c;v!==0&&y<this.length;y++){var x=this.words[y]|0;x+=v,v=x>>>26,x&=67108863,this.words[y]=x}return v!==0&&(this.words[y]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(E){var b=E<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var c;if(this.length>1)c=1;else{b&&(E=-E),n(E<=67108863,"Number is too big");var d=this.words[0]|0;c=d===E?0:d<E?-1:1}return this.negative!==0?-c|0:c},i.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var b=this.ucmp(E);return this.negative!==0?-b|0:b},i.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var b=0,c=this.length-1;c>=0;c--){var d=this.words[c]|0,v=E.words[c]|0;if(d!==v){d<v?b=-1:d>v&&(b=1);break}}return b},i.prototype.gtn=function(E){return this.cmpn(E)===1},i.prototype.gt=function(E){return this.cmp(E)===1},i.prototype.gten=function(E){return this.cmpn(E)>=0},i.prototype.gte=function(E){return this.cmp(E)>=0},i.prototype.ltn=function(E){return this.cmpn(E)===-1},i.prototype.lt=function(E){return this.cmp(E)===-1},i.prototype.lten=function(E){return this.cmpn(E)<=0},i.prototype.lte=function(E){return this.cmp(E)<=0},i.prototype.eqn=function(E){return this.cmpn(E)===0},i.prototype.eq=function(E){return this.cmp(E)===0},i.red=function(E){return new be(E)},i.prototype.toRed=function(E){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(E){return this.red=E,this},i.prototype.forceRed=function(E){return n(!this.red,"Already a number in reduction context"),this._forceRed(E)},i.prototype.redAdd=function(E){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},i.prototype.redIAdd=function(E){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},i.prototype.redSub=function(E){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},i.prototype.redISub=function(E){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},i.prototype.redShl=function(E){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},i.prototype.redMul=function(E){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},i.prototype.redIMul=function(E){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(E){return n(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var j={k256:null,p224:null,p192:null,p25519:null};function z(U,E){this.name=U,this.p=new i(E,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var E=new i(null);return E.words=new Array(Math.ceil(this.n/13)),E},z.prototype.ireduce=function(E){var b=E,c;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),c=b.bitLength();while(c>this.n);var d=c<this.n?-1:b.ucmp(this.p);return d===0?(b.words[0]=0,b.length=1):d>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},z.prototype.split=function(E,b){E.iushrn(this.n,0,b)},z.prototype.imulK=function(E){return E.imul(this.k)};function Y(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(Y,z),Y.prototype.split=function(E,b){for(var c=4194303,d=Math.min(E.length,9),v=0;v<d;v++)b.words[v]=E.words[v];if(b.length=d,E.length<=9){E.words[0]=0,E.length=1;return}var y=E.words[9];for(b.words[b.length++]=y&c,v=10;v<E.length;v++){var x=E.words[v]|0;E.words[v-10]=(x&c)<<4|y>>>22,y=x}y>>>=22,E.words[v-10]=y,y===0&&E.length>10?E.length-=10:E.length-=9},Y.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var b=0,c=0;c<E.length;c++){var d=E.words[c]|0;b+=d*977,E.words[c]=b&67108863,b=d*64+(b/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E};function re(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(re,z);function ge(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(ge,z);function ce(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ce,z),ce.prototype.imulK=function(E){for(var b=0,c=0;c<E.length;c++){var d=(E.words[c]|0)*19+b,v=d&67108863;d>>>=26,E.words[c]=v,b=d}return b!==0&&(E.words[E.length++]=b),E},i._prime=function(E){if(j[E])return j[E];var b;if(E==="k256")b=new Y;else if(E==="p224")b=new re;else if(E==="p192")b=new ge;else if(E==="p25519")b=new ce;else throw new Error("Unknown prime "+E);return j[E]=b,b};function be(U){if(typeof U=="string"){var E=i._prime(U);this.m=E.p,this.prime=E}else n(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}be.prototype._verify1=function(E){n(E.negative===0,"red works only with positives"),n(E.red,"red works only with red numbers")},be.prototype._verify2=function(E,b){n((E.negative|b.negative)===0,"red works only with positives"),n(E.red&&E.red===b.red,"red works only with red numbers")},be.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},be.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},be.prototype.add=function(E,b){this._verify2(E,b);var c=E.add(b);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},be.prototype.iadd=function(E,b){this._verify2(E,b);var c=E.iadd(b);return c.cmp(this.m)>=0&&c.isub(this.m),c},be.prototype.sub=function(E,b){this._verify2(E,b);var c=E.sub(b);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},be.prototype.isub=function(E,b){this._verify2(E,b);var c=E.isub(b);return c.cmpn(0)<0&&c.iadd(this.m),c},be.prototype.shl=function(E,b){return this._verify1(E),this.imod(E.ushln(b))},be.prototype.imul=function(E,b){return this._verify2(E,b),this.imod(E.imul(b))},be.prototype.mul=function(E,b){return this._verify2(E,b),this.imod(E.mul(b))},be.prototype.isqr=function(E){return this.imul(E,E.clone())},be.prototype.sqr=function(E){return this.mul(E,E)},be.prototype.sqrt=function(E){if(E.isZero())return E.clone();var b=this.m.andln(3);if(n(b%2===1),b===3){var c=this.m.add(new i(1)).iushrn(2);return this.pow(E,c)}for(var d=this.m.subn(1),v=0;!d.isZero()&&d.andln(1)===0;)v++,d.iushrn(1);n(!d.isZero());var y=new i(1).toRed(this),x=y.redNeg(),w=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new i(2*m*m).toRed(this);this.pow(m,w).cmp(x)!==0;)m.redIAdd(x);for(var g=this.pow(m,d),h=this.pow(E,d.addn(1).iushrn(1)),S=this.pow(E,d),D=v;S.cmp(y)!==0;){for(var A=S,N=0;A.cmp(y)!==0;N++)A=A.redSqr();n(N<D);var q=this.pow(g,new i(1).iushln(D-N-1));h=h.redMul(q),g=q.redSqr(),S=S.redMul(g),D=N}return h},be.prototype.invm=function(E){var b=E._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},be.prototype.pow=function(E,b){if(b.isZero())return new i(1).toRed(this);if(b.cmpn(1)===0)return E.clone();var c=4,d=new Array(1<<c);d[0]=new i(1).toRed(this),d[1]=E;for(var v=2;v<d.length;v++)d[v]=this.mul(d[v-1],E);var y=d[0],x=0,w=0,m=b.bitLength()%26;for(m===0&&(m=26),v=b.length-1;v>=0;v--){for(var g=b.words[v],h=m-1;h>=0;h--){var S=g>>h&1;if(y!==d[0]&&(y=this.sqr(y)),S===0&&x===0){w=0;continue}x<<=1,x|=S,w++,!(w!==c&&(v!==0||h!==0))&&(y=this.mul(y,d[x]),w=0,x=0)}m=26}return y},be.prototype.convertTo=function(E){var b=E.umod(this.m);return b===E?b.clone():b},be.prototype.convertFrom=function(E){var b=E.clone();return b.red=null,b},i.mont=function(E){return new Ce(E)};function Ce(U){be.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Ce,be),Ce.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},Ce.prototype.convertFrom=function(E){var b=this.imod(E.mul(this.rinv));return b.red=null,b},Ce.prototype.imul=function(E,b){if(E.isZero()||b.isZero())return E.words[0]=0,E.length=1,E;var c=E.imul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(d).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},Ce.prototype.mul=function(E,b){if(E.isZero()||b.isZero())return new i(0)._forceRed(this);var c=E.mul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(d).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},Ce.prototype.invm=function(E){var b=this.imod(E._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(r,Xe)})(Ki);var ub={};(function(r){var e=r;function t(i,s){if(Array.isArray(i))return i.slice();if(!i)return[];var a=[];if(typeof i!="string"){for(var l=0;l<i.length;l++)a[l]=i[l]|0;return a}if(s==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var l=0;l<i.length;l+=2)a.push(parseInt(i[l]+i[l+1],16))}else for(var l=0;l<i.length;l++){var f=i.charCodeAt(l),u=f>>8,p=f&255;u?a.push(u,p):a.push(p)}return a}e.toArray=t;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function o(i){for(var s="",a=0;a<i.length;a++)s+=n(i[a].toString(16));return s}e.toHex=o,e.encode=function(s,a){return a==="hex"?o(s):s}})(ub);(function(r){var e=r,t=Ki.exports,n=Hs,o=ub;e.assert=n,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function i(u,p,_){var T=new Array(Math.max(u.bitLength(),_)+1);T.fill(0);for(var I=1<<p+1,B=u.clone(),P=0;P<T.length;P++){var C,L=B.andln(I-1);B.isOdd()?(L>(I>>1)-1?C=(I>>1)-L:C=L,B.isubn(C)):C=0,T[P]=C,B.iushrn(1)}return T}e.getNAF=i;function s(u,p){var _=[[],[]];u=u.clone(),p=p.clone();for(var T=0,I=0,B;u.cmpn(-T)>0||p.cmpn(-I)>0;){var P=u.andln(3)+T&3,C=p.andln(3)+I&3;P===3&&(P=-1),C===3&&(C=-1);var L;(P&1)===0?L=0:(B=u.andln(7)+T&7,(B===3||B===5)&&C===2?L=-P:L=P),_[0].push(L);var j;(C&1)===0?j=0:(B=p.andln(7)+I&7,(B===3||B===5)&&P===2?j=-C:j=C),_[1].push(j),2*T===L+1&&(T=1-T),2*I===j+1&&(I=1-I),u.iushrn(1),p.iushrn(1)}return _}e.getJSF=s;function a(u,p,_){var T="_"+p;u.prototype[p]=function(){return this[T]!==void 0?this[T]:this[T]=_.call(this)}}e.cachedProperty=a;function l(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=l;function f(u){return new t(u,"hex","le")}e.intFromLE=f})(hn);var Q0={exports:{}},c1;Q0.exports=function(e){return c1||(c1=new $o(null)),c1.generate(e)};function $o(r){this.rand=r}Q0.exports.Rand=$o;$o.prototype.generate=function(e){return this._rand(e)};$o.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?$o.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?$o.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&($o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s2=mo;if(typeof s2.randomBytes!="function")throw new Error("Not supported");$o.prototype._rand=function(e){return s2.randomBytes(e)}}catch{}var hb={},ls=Ki.exports,Jc=hn,Bu=Jc.getNAF,vO=Jc.getJSF,Ou=Jc.assert;function ns(r,e){this.type=r,this.p=new ls(e.p,16),this.red=e.prime?ls.red(e.prime):ls.mont(this.p),this.zero=new ls(0).toRed(this.red),this.one=new ls(1).toRed(this.red),this.two=new ls(2).toRed(this.red),this.n=e.n&&new ls(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Y0=ns;ns.prototype.point=function(){throw new Error("Not implemented")};ns.prototype.validate=function(){throw new Error("Not implemented")};ns.prototype._fixedNafMul=function(e,t){Ou(e.precomputed);var n=e._getDoubles(),o=Bu(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[],a,l;for(a=0;a<o.length;a+=n.step){l=0;for(var f=a+n.step-1;f>=a;f--)l=(l<<1)+o[f];s.push(l)}for(var u=this.jpoint(null,null,null),p=this.jpoint(null,null,null),_=i;_>0;_--){for(a=0;a<s.length;a++)l=s[a],l===_?p=p.mixedAdd(n.points[a]):l===-_&&(p=p.mixedAdd(n.points[a].neg()));u=u.add(p)}return u.toP()};ns.prototype._wnafMul=function(e,t){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,s=Bu(t,n,this._bitLength),a=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var f=0;l>=0&&s[l]===0;l--)f++;if(l>=0&&f++,a=a.dblp(f),l<0)break;var u=s[l];Ou(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(i[u-1>>1]):a=a.mixedAdd(i[-u-1>>1].neg()):u>0?a=a.add(i[u-1>>1]):a=a.add(i[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};ns.prototype._wnafMulAdd=function(e,t,n,o,i){var s=this._wnafT1,a=this._wnafT2,l=this._wnafT3,f=0,u,p,_;for(u=0;u<o;u++){_=t[u];var T=_._getNAFPoints(e);s[u]=T.wnd,a[u]=T.points}for(u=o-1;u>=1;u-=2){var I=u-1,B=u;if(s[I]!==1||s[B]!==1){l[I]=Bu(n[I],s[I],this._bitLength),l[B]=Bu(n[B],s[B],this._bitLength),f=Math.max(l[I].length,f),f=Math.max(l[B].length,f);continue}var P=[t[I],null,null,t[B]];t[I].y.cmp(t[B].y)===0?(P[1]=t[I].add(t[B]),P[2]=t[I].toJ().mixedAdd(t[B].neg())):t[I].y.cmp(t[B].y.redNeg())===0?(P[1]=t[I].toJ().mixedAdd(t[B]),P[2]=t[I].add(t[B].neg())):(P[1]=t[I].toJ().mixedAdd(t[B]),P[2]=t[I].toJ().mixedAdd(t[B].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],L=vO(n[I],n[B]);for(f=Math.max(L[0].length,f),l[I]=new Array(f),l[B]=new Array(f),p=0;p<f;p++){var j=L[0][p]|0,z=L[1][p]|0;l[I][p]=C[(j+1)*3+(z+1)],l[B][p]=0,a[I]=P}}var Y=this.jpoint(null,null,null),re=this._wnafT4;for(u=f;u>=0;u--){for(var ge=0;u>=0;){var ce=!0;for(p=0;p<o;p++)re[p]=l[p][u]|0,re[p]!==0&&(ce=!1);if(!ce)break;ge++,u--}if(u>=0&&ge++,Y=Y.dblp(ge),u<0)break;for(p=0;p<o;p++){var be=re[p];be!==0&&(be>0?_=a[p][be-1>>1]:be<0&&(_=a[p][-be-1>>1].neg()),_.type==="affine"?Y=Y.mixedAdd(_):Y=Y.add(_))}}for(u=0;u<o;u++)a[u]=null;return i?Y:Y.toP()};function Bn(r,e){this.curve=r,this.type=e,this.precomputed=null}ns.BasePoint=Bn;Bn.prototype.eq=function(){throw new Error("Not implemented")};Bn.prototype.validate=function(){return this.curve.validate(this)};ns.prototype.decodePoint=function(e,t){e=Jc.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Ou(e[e.length-1]%2===0):e[0]===7&&Ou(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Bn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Bn.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Bn.prototype.encode=function(e,t){return Jc.encode(this._encode(t),e)};Bn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Bn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Bn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)o=o.dbl();n.push(o)}return{step:e,points:n}};Bn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(o);return{wnd:e,points:t}};Bn.prototype._getBeta=function(){return null};Bn.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var mO=hn,Yt=Ki.exports,db=qa.exports,xf=Y0,yO=mO.assert;function On(r){xf.call(this,"short",r),this.a=new Yt(r.a,16).toRed(this.red),this.b=new Yt(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}db(On,xf);var xO=On;On.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Yt(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)n=new Yt(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?n=i[0]:(n=i[1],yO(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Yt(a.a,16),b:new Yt(a.b,16)}}):s=this._getEndoBasis(n),{beta:t,lambda:n,basis:s}}};On.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Yt.mont(e),n=new Yt(2).toRed(t).redInvm(),o=n.redNeg(),i=new Yt(3).toRed(t).redNeg().redSqrt().redMul(n),s=o.redAdd(i).fromRed(),a=o.redSub(i).fromRed();return[s,a]};On.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new Yt(1),s=new Yt(0),a=new Yt(0),l=new Yt(1),f,u,p,_,T,I,B,P=0,C,L;n.cmpn(0)!==0;){var j=o.div(n);C=o.sub(j.mul(n)),L=a.sub(j.mul(i));var z=l.sub(j.mul(s));if(!p&&C.cmp(t)<0)f=B.neg(),u=i,p=C.neg(),_=L;else if(p&&++P===2)break;B=C,o=n,n=C,a=i,i=L,l=s,s=z}T=C.neg(),I=L;var Y=p.sqr().add(_.sqr()),re=T.sqr().add(I.sqr());return re.cmp(Y)>=0&&(T=f,I=u),p.negative&&(p=p.neg(),_=_.neg()),T.negative&&(T=T.neg(),I=I.neg()),[{a:p,b:_},{a:T,b:I}]};On.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],o=t[1],i=o.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),l=s.mul(o.a),f=i.mul(n.b),u=s.mul(o.b),p=e.sub(a).sub(l),_=f.add(u).neg();return{k1:p,k2:_}};On.prototype.pointFromX=function(e,t){e=new Yt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(t&&!i||!t&&i)&&(o=o.redNeg()),this.point(e,o)};On.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,o=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};On.prototype._endoWnafMulAdd=function(e,t,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),l=e[s],f=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),o[s*2]=l,o[s*2+1]=f,i[s*2]=a.k1,i[s*2+1]=a.k2}for(var u=this._wnafMulAdd(1,o,i,s*2,n),p=0;p<s*2;p++)o[p]=null,i[p]=null;return u};function gr(r,e,t,n){xf.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Yt(e,16),this.y=new Yt(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}db(gr,xf.BasePoint);On.prototype.point=function(e,t,n){return new gr(this,e,t,n)};On.prototype.pointFromJSON=function(e,t){return gr.fromJSON(this,e,t)};gr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}};gr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};gr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],n);if(!t[2])return o;function i(a){return e.point(a[0],a[1],n)}var s=t[2];return o.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[o].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[o].concat(s.naf.points.map(i))}},o};gr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};gr.prototype.isInfinity=function(){return this.inf};gr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};gr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(o),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};gr.prototype.getX=function(){return this.x.fromRed()};gr.prototype.getY=function(){return this.y.fromRed()};gr.prototype.mul=function(e){return e=new Yt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};gr.prototype.mulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};gr.prototype.jmulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};gr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};gr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return t};gr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function wr(r,e,t,n){xf.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Yt(0)):(this.x=new Yt(e,16),this.y=new Yt(t,16),this.z=new Yt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}db(wr,xf.BasePoint);On.prototype.jpoint=function(e,t,n){return new wr(this,e,t,n)};wr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(n,o)};wr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};wr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(t),i=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=o.redSub(i),f=s.redSub(a);if(l.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),p=u.redMul(l),_=o.redMul(u),T=f.redSqr().redIAdd(p).redISub(_).redISub(_),I=f.redMul(_.redISub(T)).redISub(s.redMul(p)),B=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,I,B)};wr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,o=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=n.redSub(o),l=i.redSub(s);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),u=f.redMul(a),p=n.redMul(f),_=l.redSqr().redIAdd(u).redISub(p).redISub(p),T=l.redMul(p.redISub(_)).redISub(i.redMul(u)),I=this.z.redMul(a);return this.curve.jpoint(_,T,I)};wr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,l=this.z,f=l.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var p=s.redSqr(),_=u.redSqr(),T=_.redSqr(),I=p.redAdd(p).redIAdd(p).redIAdd(o.redMul(f)),B=s.redMul(_),P=I.redSqr().redISub(B.redAdd(B)),C=B.redISub(P),L=I.redMul(C);L=L.redIAdd(L).redISub(T);var j=u.redMul(l);t+1<e&&(f=f.redMul(T)),s=P,l=j,u=L}return this.curve.jpoint(s,u.redMul(i),l)};wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};wr.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var l=o.redAdd(o).redIAdd(o),f=l.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=f,t=l.redMul(a.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),_=this.y.redSqr(),T=_.redSqr(),I=this.x.redAdd(_).redSqr().redISub(p).redISub(T);I=I.redIAdd(I);var B=p.redAdd(p).redIAdd(p),P=B.redSqr(),C=T.redIAdd(T);C=C.redIAdd(C),C=C.redIAdd(C),e=P.redISub(I).redISub(I),t=B.redMul(I.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};wr.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var l=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),f=l.redSqr().redISub(a).redISub(a);e=f;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),t=l.redMul(a.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),_=this.y.redSqr(),T=this.x.redMul(_),I=this.x.redSub(p).redMul(this.x.redAdd(p));I=I.redAdd(I).redIAdd(I);var B=T.redIAdd(T);B=B.redIAdd(B);var P=B.redAdd(B);e=I.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(_).redISub(p);var C=_.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),t=I.redMul(B.redISub(e)).redISub(C)}return this.curve.jpoint(e,t,n)};wr.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),s=t.redSqr(),a=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),f=t.redAdd(t);f=f.redIAdd(f);var u=f.redMul(a),p=l.redSqr().redISub(u.redAdd(u)),_=u.redISub(p),T=a.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var I=l.redMul(_).redISub(T),B=n.redAdd(n).redMul(o);return this.curve.jpoint(p,I,B)};wr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),o=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(o);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var l=a.redSqr(),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=i.redIAdd(a).redSqr().redISub(s).redISub(l).redISub(f),p=t.redMul(u);p=p.redIAdd(p),p=p.redIAdd(p);var _=this.x.redMul(l).redISub(p);_=_.redIAdd(_),_=_.redIAdd(_);var T=this.y.redMul(u.redMul(f.redISub(u)).redISub(a.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var I=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(_,T,I)};wr.prototype.mul=function(e,t){return e=new Yt(e,t),this.curve._wnafMul(this,e)};wr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};wr.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};wr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};wr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ea=Ki.exports,z8=qa.exports,Z0=Y0,wO=hn;function wf(r){Z0.call(this,"mont",r),this.a=new Ea(r.a,16).toRed(this.red),this.b=new Ea(r.b,16).toRed(this.red),this.i4=new Ea(4).toRed(this.red).redInvm(),this.two=new Ea(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}z8(wf,Z0);var AO=wf;wf.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),o=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),i=o.redSqrt();return i.redSqr().cmp(o)===0};function dr(r,e,t){Z0.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ea(e,16),this.z=new Ea(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}z8(dr,Z0.BasePoint);wf.prototype.decodePoint=function(e,t){return this.point(wO.toArray(e,t),1)};wf.prototype.point=function(e,t){return new dr(this,e,t)};wf.prototype.pointFromJSON=function(e){return dr.fromJSON(this,e)};dr.prototype.precompute=function(){};dr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};dr.fromJSON=function(e,t){return new dr(e,t[0],t[1]||e.one)};dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};dr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};dr.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),o=n.redSqr(),i=t.redSub(o),s=t.redMul(o),a=i.redMul(o.redAdd(this.curve.a24.redMul(i)));return this.curve.point(s,a)};dr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};dr.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),o=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z),a=s.redMul(n),l=i.redMul(o),f=t.z.redMul(a.redAdd(l).redSqr()),u=t.x.redMul(a.redISub(l).redSqr());return this.curve.point(f,u)};dr.prototype.mul=function(e){for(var t=e.clone(),n=this,o=this.curve.point(null,null),i=this,s=[];t.cmpn(0)!==0;t.iushrn(1))s.push(t.andln(1));for(var a=s.length-1;a>=0;a--)s[a]===0?(n=n.diffAdd(o,i),o=o.dbl()):(o=n.diffAdd(o,i),n=n.dbl());return o};dr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};dr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};dr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};dr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};dr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var EO=hn,oo=Ki.exports,W8=qa.exports,X0=Y0,SO=EO.assert;function zi(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,X0.call(this,"edwards",r),this.a=new oo(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new oo(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new oo(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),SO(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}W8(zi,X0);var _O=zi;zi.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};zi.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};zi.prototype.jpoint=function(e,t,n,o){return this.point(e,t,n,o)};zi.prototype.pointFromX=function(e,t){e=new oo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=o.redMul(i.redInvm()),a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var l=a.fromRed().isOdd();return(t&&!l||!t&&l)&&(a=a.redNeg()),this.point(e,a)};zi.prototype.pointFromY=function(e,t){e=new oo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=o.redMul(i.redInvm());if(s.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)};zi.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),o=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return o.cmp(i)===0};function Dt(r,e,t,n,o){X0.BasePoint.call(this,r,"projective"),e===null&&t===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new oo(e,16),this.y=new oo(t,16),this.z=n?new oo(n,16):this.curve.one,this.t=o&&new oo(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}W8(Dt,X0.BasePoint);zi.prototype.pointFromJSON=function(e){return Dt.fromJSON(this,e)};zi.prototype.point=function(e,t,n,o){return new Dt(this,e,t,n,o)};Dt.fromJSON=function(e,t){return new Dt(e,t[0],t[1],t[2])};Dt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Dt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Dt.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var o=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=o.redAdd(t),a=s.redSub(n),l=o.redSub(t),f=i.redMul(a),u=s.redMul(l),p=i.redMul(l),_=a.redMul(s);return this.curve.point(f,u,_,p)};Dt.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),o,i,s,a,l,f;if(this.curve.twisted){a=this.curve._mulA(t);var u=a.redAdd(n);this.zOne?(o=e.redSub(t).redSub(n).redMul(u.redSub(this.curve.two)),i=u.redMul(a.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(l=this.z.redSqr(),f=u.redSub(l).redISub(l),o=e.redSub(t).redISub(n).redMul(f),i=u.redMul(a.redSub(n)),s=u.redMul(f))}else a=t.redAdd(n),l=this.curve._mulC(this.z).redSqr(),f=a.redSub(l).redSub(l),o=this.curve._mulC(e.redISub(a)).redMul(f),i=this.curve._mulC(a).redMul(t.redISub(n)),s=a.redMul(f);return this.curve.point(o,i,s)};Dt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Dt.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),o=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(t),a=i.redSub(o),l=i.redAdd(o),f=n.redAdd(t),u=s.redMul(a),p=l.redMul(f),_=s.redMul(f),T=a.redMul(l);return this.curve.point(u,p,T,_)};Dt.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),o=this.x.redMul(e.x),i=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(i),a=n.redSub(s),l=n.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(i),u=t.redMul(a).redMul(f),p,_;return this.curve.twisted?(p=t.redMul(l).redMul(i.redSub(this.curve._mulA(o))),_=a.redMul(l)):(p=t.redMul(l).redMul(i.redSub(o)),_=this.curve._mulC(a).redMul(l)),this.curve.point(u,p,_)};Dt.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Dt.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Dt.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)};Dt.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)};Dt.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Dt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Dt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Dt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Dt.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Dt.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(o),this.x.cmp(t)===0)return!0}};Dt.prototype.toP=Dt.prototype.normalize;Dt.prototype.mixedAdd=Dt.prototype.add;(function(r){var e=r;e.base=Y0,e.short=xO,e.mont=AO,e.edwards=_O})(hb);var eh={},l1,a2;function kO(){return a2||(a2=1,l1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),l1}(function(r){var e=r,t=lr,n=hb,o=hn,i=o.assert;function s(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function a(f,u){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var p=new s(u);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:p}),p}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=kO()}catch{l=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})})(eh);var TO=lr,Ts=ub,J8=Hs;function Jo(r){if(!(this instanceof Jo))return new Jo(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ts.toArray(r.entropy,r.entropyEnc||"hex"),t=Ts.toArray(r.nonce,r.nonceEnc||"hex"),n=Ts.toArray(r.pers,r.persEnc||"hex");J8(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var MO=Jo;Jo.prototype._init=function(e,t,n){var o=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};Jo.prototype._hmac=function(){return new TO.hmac(this.hash,this.K)};Jo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Jo.prototype.reseed=function(e,t,n,o){typeof t!="string"&&(o=n,n=t,t=null),e=Ts.toArray(e,t),n=Ts.toArray(n,o),J8(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Jo.prototype.generate=function(e,t,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=n,n=t,t=null),n&&(n=Ts.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(n),this._reseed++,Ts.encode(s,t)};var PO=Ki.exports,IO=hn,yp=IO.assert;function Nr(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var CO=Nr;Nr.fromPublic=function(e,t,n){return t instanceof Nr?t:new Nr(e,{pub:t,pubEnc:n})};Nr.fromPrivate=function(e,t,n){return t instanceof Nr?t:new Nr(e,{priv:t,privEnc:n})};Nr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Nr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Nr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Nr.prototype._importPrivate=function(e,t){this.priv=new PO(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Nr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?yp(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&yp(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Nr.prototype.derive=function(e){return e.validate()||yp(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Nr.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Nr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Nr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ru=Ki.exports,pb=hn,BO=pb.assert;function th(r,e){if(r instanceof th)return r;this._importDER(r,e)||(BO(r.r&&r.s,"Signature without r or s"),this.r=new Ru(r.r,16),this.s=new Ru(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var OO=th;function RO(){this.place=0}function u1(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var o=0,i=0,s=e.place;i<n;i++,s++)o<<=8,o|=r[s],o>>>=0;return o<=127?!1:(e.place=s,o)}function f2(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}th.prototype._importDER=function(e,t){e=pb.toArray(e,t);var n=new RO;if(e[n.place++]!==48)return!1;var o=u1(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=u1(e,n);if(i===!1)return!1;var s=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var a=u1(e,n);if(a===!1||e.length!==a+n.place)return!1;var l=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Ru(s),this.s=new Ru(l),this.recoveryParam=null,!0};function h1(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}th.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=f2(t),n=f2(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];h1(o,t.length),o=o.concat(t),o.push(2),h1(o,n.length);var i=o.concat(n),s=[48];return h1(s,i.length),s=s.concat(i),pb.encode(s,e)};var Ms=Ki.exports,Q8=MO,NO=hn,d1=eh,LO=Q0.exports,Y8=NO.assert,gb=CO,rh=OO;function _n(r){if(!(this instanceof _n))return new _n(r);typeof r=="string"&&(Y8(Object.prototype.hasOwnProperty.call(d1,r),"Unknown curve "+r),r=d1[r]),r instanceof d1.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var UO=_n;_n.prototype.keyPair=function(e){return new gb(this,e)};_n.prototype.keyFromPrivate=function(e,t){return gb.fromPrivate(this,e,t)};_n.prototype.keyFromPublic=function(e,t){return gb.fromPublic(this,e,t)};_n.prototype.genKeyPair=function(e){e||(e={});for(var t=new Q8({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||LO(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new Ms(2));;){var i=new Ms(t.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};_n.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};_n.prototype.sign=function(e,t,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Ms(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),a=e.toArray("be",i),l=new Q8({hash:this.hash,entropy:s,nonce:a,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new Ms(1)),u=0;;u++){var p=o.k?o.k(u):new Ms(l.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(f)>=0)){var _=this.g.mul(p);if(!_.isInfinity()){var T=_.getX(),I=T.umod(this.n);if(I.cmpn(0)!==0){var B=p.invm(this.n).mul(I.mul(t.getPrivate()).iadd(e));if(B=B.umod(this.n),B.cmpn(0)!==0){var P=(_.getY().isOdd()?1:0)|(T.cmp(I)!==0?2:0);return o.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),P^=1),new rh({r:I,s:B,recoveryParam:P})}}}}}};_n.prototype.verify=function(e,t,n,o){e=this._truncateToN(new Ms(e,16)),n=this.keyFromPublic(n,o),t=new rh(t,"hex");var i=t.r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),f=a.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(l,n.getPublic(),f),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(l,n.getPublic(),f),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};_n.prototype.recoverPubKey=function(r,e,t,n){Y8((3&t)===t,"The recovery param is more than two bits"),e=new rh(e,n);var o=this.n,i=new Ms(r),s=e.r,a=e.s,l=t&1,f=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var u=e.r.invm(o),p=o.sub(i).mul(u).umod(o),_=a.mul(u).umod(o);return this.g.mulAdd(p,s,_)};_n.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new rh(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(r,e,o)}catch{continue}if(i.eq(t))return o}throw new Error("Unable to find valid recovery factor")};var Qc=hn,Z8=Qc.assert,c2=Qc.parseBytes,Af=Qc.cachedProperty;function hr(r,e){this.eddsa=r,this._secret=c2(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=c2(e.pub)}hr.fromPublic=function(e,t){return t instanceof hr?t:new hr(e,{pub:t})};hr.fromSecret=function(e,t){return t instanceof hr?t:new hr(e,{secret:t})};hr.prototype.secret=function(){return this._secret};Af(hr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Af(hr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Af(hr,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,o=t.slice(0,e.encodingLength);return o[0]&=248,o[n]&=127,o[n]|=64,o});Af(hr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Af(hr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Af(hr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});hr.prototype.sign=function(e){return Z8(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};hr.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};hr.prototype.getSecret=function(e){return Z8(this._secret,"KeyPair is public only"),Qc.encode(this.secret(),e)};hr.prototype.getPublic=function(e){return Qc.encode(this.pubBytes(),e)};var DO=hr,FO=Ki.exports,nh=hn,$O=nh.assert,ih=nh.cachedProperty,VO=nh.parseBytes;function Zs(r,e){this.eddsa=r,typeof e!="object"&&(e=VO(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),$O(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof FO&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}ih(Zs,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});ih(Zs,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});ih(Zs,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});ih(Zs,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Zs.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Zs.prototype.toHex=function(){return nh.encode(this.toBytes(),"hex").toUpperCase()};var jO=Zs,qO=lr,HO=eh,ef=hn,GO=ef.assert,X8=ef.parseBytes,e5=DO,l2=jO;function rn(r){if(GO(r==="ed25519","only tested with ed25519 so far"),!(this instanceof rn))return new rn(r);r=HO[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=qO.sha512}var KO=rn;rn.prototype.sign=function(e,t){e=X8(e);var n=this.keyFromSecret(t),o=this.hashInt(n.messagePrefix(),e),i=this.g.mul(o),s=this.encodePoint(i),a=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),l=o.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:l,Rencoded:s})};rn.prototype.verify=function(e,t,n){e=X8(e),t=this.makeSignature(t);var o=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),o.pubBytes(),e),s=this.g.mul(t.S()),a=t.R().add(o.pub().mul(i));return a.eq(s)};rn.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return ef.intFromLE(e.digest()).umod(this.curve.n)};rn.prototype.keyFromPublic=function(e){return e5.fromPublic(this,e)};rn.prototype.keyFromSecret=function(e){return e5.fromSecret(this,e)};rn.prototype.makeSignature=function(e){return e instanceof l2?e:new l2(this,e)};rn.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};rn.prototype.decodePoint=function(e){e=ef.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),o=(e[t]&128)!==0,i=ef.intFromLE(n);return this.curve.pointFromY(i,o)};rn.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};rn.prototype.decodeInt=function(e){return ef.intFromLE(e)};rn.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(r){var e=r;e.version=bO.version,e.utils=hn,e.rand=Q0.exports,e.curve=hb,e.curves=eh,e.ec=UO,e.eddsa=KO})(lb);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyPair=r.subtle=void 0;const e=Ot(),t=In,n=rs(),o=Nt,i=$t,s=W0,a=J0,l=Kt;let f=lb;if(typeof crypto=="object"&&crypto.subtle)r.subtle=crypto.subtle;else{let B=mo.webcrypto;if(B)r.subtle=B.subtle;else throw(0,e.logger)(l.DEBUGLEVEL.LOW,"Webcrypto not accessible"),new Error("webcrypto.subtle missing")}let u=new f.ec("secp256k1"),p=lf.exports;const _={p192:null,p224:null,p256:"P-256",p384:"P-384",p521:"P-521",curve25519:null,ed25519:null,secp256k1:null};new n.Point(55066263022277343669578718895168534326250603453777594175500187360389116729240n,32670510020758816978083085130507043184471273380659243275938904335757337482424n);const T="secp256k1";class I{constructor(){this.ethereumPrefix=`Ethereum Signed Message:
`,this.algorithmASNList={secp256k1:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f3044042000000000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000000000000704410479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141020101","06052b8104000a"],sect283k1:["3081f806072a8648ce3d02013081ec020101302506072a8648ce3d0102301a0202011b06092a8648ce3d01020303300902010502010702010c304c042400000000000000000000000000000000000000000000000000000000000000000000000004240000000000000000000000000000000000000000000000000000000000000000000000010449040503213f78ca44883f1a3b8162f188e553cd265f23c1567a16876913b0c2ac245849283601ccda380f1c9e318d90f95d07e5426fe87e45c0e8184698e45962364e34116177dd2259022401ffffffffffffffffffffffffffffffffffe9ae2ed07577265dff7f94451e061e163c61020104"],p256:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100ffffffff00000001000000000000000000000000ffffffffffffffffffffffff30440420ffffffff00000001000000000000000000000000fffffffffffffffffffffffc04205ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b0441046b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c2964fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5022100ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551020101"]}}getPrivateAsUint8(){return this.privKey}getPrivateAsHexString(){return(0,e.uint8tohex)(this.privKey)}getPrivateAsBigInt(){return(0,e.uint8ToBn)(this.privKey)}static privateFromBigInt(P){let C=new this;return C.privKey=new Uint8Array((0,e.hexStringToArray)(P.toString(16).padStart(64,"0"))),C}static fromPublicHex(P){if(P.toLowerCase().match(/^[a-f0-9]+$/i)===null)throw new Error("Wrong Hex string input");if(P.length<129||P.length>130)throw new Error("Wrong public hex length");let C=new this;return C.pubKey=new Uint8Array((0,e.hexStringToArray)(P)),C}static fromPrivateUint8(P,C=""){if(!P||P.length!=32)throw new Error("Wrong private key. Should be 32 bytes Uint8");let L=new this;if(L.privKey=P,C&&n.CURVES.hasOwnProperty(C))L.algorithm=C;else throw new Error(`Algorithm ${C} not implemented.`);return L}static publicFromBase64orPEM(P){return I.publicFromPEM((0,e.pemOrBase64Orbase64urlToString)(P))}static publicFromPEM(P){const C=(0,e.base64ToUint8array)(P);let L=o.AsnParser.parse(C,i.PublicKeyInfoValue);return I.publicFromUint(new Uint8Array(L.publicKey))}static publicFromUint(P){let C=new this;if(P.byteLength!=65)throw(0,e.logger)(l.DEBUGLEVEL.LOW,"Wrong public key length"),new Error("Wrong public key length");return C.pubKey=new Uint8Array(P),C}static publicFromSubjectPublicKeyInfo(P){let C=new this;return C.pubKey=new Uint8Array(P.value.publicKey),C}static publicFromSubjectPublicKeyValue(P){let C=new this;return C.pubKey=new Uint8Array(P.publicKey),C.algorithm=C.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(P.algorithm))),C}static privateFromKeyInfo(P){let C=new this,L=o.AsnParser.parse(P.keysData,i.PrivateKeyData);return C.algorithm=C.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(P.algIdent))),C.privKey=new Uint8Array(L.privateKey),C}static privateFromKeyDataPEM(P){const C=(0,e.base64ToUint8array)(P);let L=o.AsnParser.parse(C,i.PrivateKeyData),j=new this;return j.algorithm=j.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(L.algDescr))),j.privKey=new Uint8Array(L.privateKey),j}getAlgorithNameFromASN1(P){let C={};for(const L in this.algorithmASNList)this.algorithmASNList[L].forEach(j=>{C[j]=L});if(C.hasOwnProperty(P))return C[P];{let L="Unknown algorithm.";throw(0,e.logger)(l.DEBUGLEVEL.LOW,L),new Error(L)}}static privateFromPEM(P){const C=(0,e.base64ToUint8array)(P);let L=o.AsnParser.parse(C,i.PrivateKeyInfo);return I.privateFromKeyInfo(L)}static async generateKeyAsync(){const P=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]);let C=["0x"];const L=await crypto.subtle.exportKey("raw",P);return new Uint8Array(L).forEach(j=>{var z=j.toString(16);z.length%2&&(z="0"+z),C.push(z)}),this.privateFromBigInt(BigInt(C.join(""))%n.CURVE_SECP256k1.n)}static createKeys(){return this.privateFromBigInt(BigInt("0x"+(0,e.uint8tohex)(crypto.getRandomValues(new Uint8Array(32))))%n.CURVE_SECP256k1.n)}getPublicKeyAsHexStr(){if(this.pubKey)return(0,e.uint8tohex)(this.pubKey);if(n.CURVES.hasOwnProperty(this.algorithm)&&_.hasOwnProperty(this.algorithm)){let P=new f.ec(this.algorithm);if(!this.getPrivateAsHexString())throw(0,e.logger)(l.DEBUGLEVEL.LOW,this),new Error("Cant sign. This is only public key.");return P.keyFromPrivate(this.getPrivateAsHexString(),"hex").getPublic("hex").toString()}else{let P='Private -> Public key not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(l.DEBUGLEVEL.LOW,P),new Error(P)}}getAsnDerPublic(){var P=this.getPublicKeyAsHexStr();let C="";if(this.algorithm)if(this.algorithmASNList.hasOwnProperty(this.algorithm))C=this.algorithmASNList[this.algorithm][0];else{let L="Fatal Error. Algorithm not implemented yet - "+this.algorithm;throw(0,e.logger)(l.DEBUGLEVEL.LOW,L),new Error(L)}else{let L="algorithm undefined, lets use default.";(0,e.logger)(l.DEBUGLEVEL.VERBOSE,L),C=this.algorithmASNList[T][0]}return t.Asn1Der.encode("SEQUENCE_30",C+t.Asn1Der.encode("BIT_STRING",P))}getAddress(){var P=this.getPublicKeyAsHexStr();P=P.substr(2);let C=p.keccak256((0,e.hexStringToArray)(P));return"0x"+C.substr(-40).toUpperCase()}signBytes(P){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let C=u.keyFromPrivate(this.getPrivateAsHexString(),"hex"),L=p.keccak256(P);return C.sign(L).toDER("hex")}signStringWithEthereum(P){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let C=u.keyFromPrivate(this.getPrivateAsHexString(),"hex"),L=this.ethereumPrefix+P.length+P,j=p.keccak256((0,e.stringToArray)(L));return C.sign(j).toDER("hex")}signHexStringWithEthereum(P){return this.signStringWithEthereum("0x"+P)}signBytesWithEthereum(P){let C="0x"+(0,e.uint8tohex)(new Uint8Array(P));return(0,e.logger)(l.DEBUGLEVEL.HIGH,"message: "+C),this.signStringWithEthereum(C)}signDeterministicSHA256(P){let C=Array.from(s.ethers.utils.arrayify(s.ethers.utils.sha256(P)));return this.signBytes(C)}verifyDeterministicSHA256(P,C){let L=s.ethers.utils.sha256(P).substr(2),j,z;if(n.CURVES.hasOwnProperty(this.algorithm)&&_.hasOwnProperty(this.algorithm))j=new f.ec(this.algorithm).keyFromPublic(this.getPublicKeyAsHexStr(),"hex");else{let re='Elliptic.js curve not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(l.DEBUGLEVEL.LOW,re),new Error(re)}if(C.length==128||C.length==130){var Y=C.match(/([a-f\d]{64})/gi);z={r:Y[0],s:Y[1]}}else{let re=o.AsnParser.parse((0,e.hexStringToUint8)(C),a.Signature);z={r:BigInt(re.r).toString(16).padStart(64,"0"),s:BigInt(re.s).toString(16).padStart(64,"0")}}return j.verify(L,z)}verifyHexStringWithEthereum(P,C){let L="0x"+P,j=p.keccak256((0,e.stringToArray)(this.ethereumPrefix+L.length+L)),z=u.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");var Y=C.match(/([a-f\d]{64})/gi);let re={r:Y[0],s:Y[1]};return z.verify(j,re)}signRawBytesWithEthereum(P){let C=s.ethers.utils.keccak256(P).substring(2);if((0,e.logger)(l.DEBUGLEVEL.HIGH,`signRawBytesWithEthereum: key: ${this.getAddress()}, hash: ${C}`),!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let L=u.keyFromPrivate(this.getPrivateAsHexString(),"hex"),j=L.sign((0,e.hexStringToUint8)(C));return(0,e.ecSignatureToSRVhex)(j,L)}verifyBytesWithEthereum(P,C){if(!P||!P.length)throw new Error("Missing data to verify");if(!C)throw new Error("Missing signature to verify");let L=(0,e.hexStringToArray)(s.ethers.utils.keccak256(P)),j=u.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");(0,e.logger)(l.DEBUGLEVEL.HIGH,`verifyBytesWithEthereum: key: ${this.getAddress()}, hash: ${(0,e.uint8tohex)(new Uint8Array(L))}`),C=(0,e.uint8tohex)(I.anySignatureToRawUint8(C));var z=C.match(/([a-f\d]{64})/gi);let Y={r:z[0],s:z[1]};return console.log(s.ethers.utils.recoverPublicKey(L,s.ethers.utils.splitSignature((0,e.hexStringToUint8)(C)))),j.verify(L,Y)}getJWTParams(){let P=_[this.algorithm];if(!P){let L=`Cant create subtleCrypto key for curve '${this.algorithm}'`;throw(0,e.logger)(l.DEBUGLEVEL.LOW,L),new Error(L)}let C=this.getPublicKeyAsHexStr();return{crv:P,d:(0,e.uint8arrayToBase64)(this.getPrivateAsUint8()),key_ops:["sign"],kty:"EC",x:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(C.substr(2,64))),y:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(C.substr(66,64)))}}getSubtlePrivateKey(){let P=_[this.algorithm];return r.subtle.importKey("jwk",this.getJWTParams(),{name:"ECDSA",namedCurve:P},!0,["sign"])}getSubtlePublicKey(){let P=_[this.algorithm],C=this.getJWTParams();return delete C.d,C.key_ops=["verify"],r.subtle.importKey("jwk",C,{name:"ECDSA",namedCurve:P},!0,["verify"])}async signStringWithSubtle(P){return await r.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePrivateKey(),Uint8Array.from((0,e.stringToArray)(P)))}async verifyStringWithSubtle(P,C){return(0,e.logger)(l.DEBUGLEVEL.VERBOSE,"pubkey: "+this.getPublicKeyAsHexStr()+" msg:"+C+" signature:"+(0,e.uint8tohex)(P)),(0,e.logger)(l.DEBUGLEVEL.VERBOSE,await this.getSubtlePublicKey()),await r.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePublicKey(),P,Uint8Array.from((0,e.stringToArray)(C)))}async verifyStringWithSubtleDerSignature(P,C){let L=o.AsnParser.parse(P,a.Signature);const j=BigInt(L.r).toString(16).padStart(64,"0")+BigInt(L.s).toString(16).padStart(64,"0");return this.verifyStringWithSubtle((0,e.hexStringToUint8)(j),C)}static anySignatureToRawUint8(P){let C;if(typeof P=="string"?C=(0,e.hexStringToUint8)(P):C=P,!C||!C.length)throw new Error("Empty signature received");let L;switch(C.length){case 64:(0,e.logger)(l.DEBUGLEVEL.LOW,`anySignatureToRawUint8 received 64 bytes signature (without v value) = ${(0,e.uint8tohex)(C)}`);case 65:L=C;break;case 66:if(C[0]!=4)throw new Error(`Cant recognize signature: ${(0,e.uint8tohex)(C)}`);L=C.slice(1,65);break;case 70:case 71:case 72:let j=o.AsnParser.parse(C,a.Signature);L=(0,e.hexStringToUint8)(BigInt(j.r).toString(16).padStart(64,"0")+BigInt(j.s).toString(16).padStart(64,"0"));break;default:let z="wrong Signature: "+(0,e.uint8tohex)(C);throw new Error(z)}return(0,e.logger)(l.DEBUGLEVEL.VERBOSE,"ready signature:"+(0,e.uint8tohex)(L)),L}static parseKeyArrayStrings(P){const C={};for(let L in P)if(typeof P[L]=="string"){const j=P[L].split("|"),z=[];for(const Y of j)z.push(I.publicFromBase64orPEM(Y));C[L]=z}else Array.isArray(C),C[L]=P[L];return C}}r.KeyPair=I})(Cn);var oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.AttestableObject=void 0;class zO{constructor(){}getDerEncoding(){return this.encoded}getCommitment(){return this.commitment}}oh.AttestableObject=zO;var Fs={},is=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Fs,"__esModule",{value:!0});var t5=Fs.SignedDevconTicket=Fs.DevconTicket=void 0;const Gr=Nt;class Xs{}is([(0,Gr.AsnProp)({type:Gr.AsnPropTypes.Utf8String})],Xs.prototype,"devconId",void 0);is([(0,Gr.AsnProp)({type:Gr.AsnPropTypes.Integer,optional:!0})],Xs.prototype,"ticketIdNumber",void 0);is([(0,Gr.AsnProp)({type:Gr.AsnPropTypes.Utf8String,optional:!0})],Xs.prototype,"ticketIdString",void 0);is([(0,Gr.AsnProp)({type:Gr.AsnPropTypes.Integer})],Xs.prototype,"ticketClass",void 0);is([(0,Gr.AsnProp)({type:Gr.AsnPropTypes.OctetString,optional:!0})],Xs.prototype,"commitment",void 0);Fs.DevconTicket=Xs;class sh{}is([(0,Gr.AsnProp)({type:Xs})],sh.prototype,"ticket",void 0);is([(0,Gr.AsnProp)({type:Gr.AsnPropTypes.OctetString,optional:!0})],sh.prototype,"commitment",void 0);is([(0,Gr.AsnProp)({type:Gr.AsnPropTypes.BitString})],sh.prototype,"signatureValue",void 0);t5=Fs.SignedDevconTicket=sh;Object.defineProperty($c,"__esModule",{value:!0});$c.Ticket=void 0;const WO=gi(),JO=Cn,pn=In,QO=oh,yi=Ot(),YO=Fs,ZO=Nt,p1=W0;class XO extends QO.AttestableObject{constructor(){super(),this.magicLinkURLPrefix="https://ticket.devcon.org/",this.isLegasy=!1}fromData(e,t,n,o){this.ticketId=t,this.ticketClass=n,this.devconId=e,this.keys=o;const i=o[e];this.setKeys(i)}setKeys(e){Array.isArray(e)?(this.issuerKeys=e,this.key=e[0]):(this.issuerKeys=[e],this.key=e)}createWithCommitment(e,t,n,o,i,s){if(this.fromData(e,t,n,s),this.commitment=o,this.signature=i,this.encoded=this.encodeSignedTicket(this.makeTicket()),!this.verify())throw new Error("Ticket Signature is invalid")}static createWithMail(e,t,n,o,i,s){let a=new this;a.fromData(t,n,o,i);let l=new WO.AttestationCrypto,f;try{a.commitment=l.makeCommitment(e,l.getType("mail"),s);let u=a.makeTicket();f=a.key.signRawBytesWithEthereum((0,yi.hexStringToArray)(u))}catch(u){throw new Error(u)}return a.createWithCommitment(t,n,o,a.commitment,f,i),a}makeTicket(){let e;try{const n=BigInt(this.ticketId);e=pn.Asn1Der.encode("INTEGER",n)}catch{e=pn.Asn1Der.encode("UTF8STRING",this.ticketId)}let t=pn.Asn1Der.encode("UTF8STRING",this.devconId)+e+pn.Asn1Der.encode("INTEGER",this.ticketClass);return this.isLegasy||(t+=pn.Asn1Der.encode("OCTET_STRING",(0,yi.uint8tohex)(this.commitment))),pn.Asn1Der.encode("SEQUENCE_30",t)}encodeSignedTicket(e){return this.isLegasy&&(e+=pn.Asn1Der.encode("OCTET_STRING",(0,yi.uint8tohex)(this.commitment))),e+=pn.Asn1Der.encode("BIT_STRING",this.signature),pn.Asn1Der.encode("SEQUENCE_30",e)}getDerEncodingWithPK(){let t=this.makeTicket()+pn.Asn1Der.encode("OCTET_STRING",(0,yi.uint8tohex)(this.commitment))+this.key.getAsnDerPublic()+pn.Asn1Der.encode("BIT_STRING",this.signature);return pn.Asn1Der.encode("SEQUENCE_30",t)}getDerEncoding(){return this.encoded}verify(){const e=(0,yi.hexStringToArray)(this.makeTicket()),t=(0,yi.hexStringToArray)(p1.ethers.utils.keccak256(e)),n=(0,yi.uint8tohex)(JO.KeyPair.anySignatureToRawUint8(this.signature));for(const o of this.issuerKeys)if(p1.ethers.utils.recoverPublicKey(t,p1.ethers.utils.splitSignature((0,yi.hexStringToUint8)(n))).substring(2)===o.getPublicKeyAsHexStr())return!0;throw new Error("Ticket signature is invalid")}checkValidity(){return!0}getTicketId(){return this.ticketId}getTicketClass(){return this.ticketClass}getDevconId(){return this.devconId}getSignature(){return this.signature}static fromBase64(e,t){let n=new this;return n.fromBytes((0,yi.base64ToUint8array)(e),t),n}fromBytes(e,t){const n=ZO.AsnParser.parse(e,YO.SignedDevconTicket);let o=n.ticket.devconId;if(!t||!t[o])throw new Error("Issuer key "+o+" not defined.");const i=t[o];this.setKeys(i);let s=n.ticket.ticketIdNumber,a=s?s.toString():n.ticket.ticketIdString,l=n.ticket.ticketClass,f;n.ticket.commitment?f=n.ticket.commitment:(f=n.commitment,this.isLegasy=!0);let u=n.signatureValue;this.createWithCommitment(o,a,l,new Uint8Array(f),(0,yi.uint8tohex)(new Uint8Array(u)),t)}getCommitment(){return this.commitment}getKey(){return this.key}getUrlEncoding(){}}$c.Ticket=XO;var Ef={},Sf={},ah={},os={};Object.defineProperty(os,"__esModule",{value:!0});os.Timestamp=void 0;const g1=Ot(),b1=Kt;class bo{constructor(e=null){this.ALLOWED_ROUNDING=1e4,this.validity=0,e||(this.time=Date.now()),typeof e=="number"&&(this.time=e),typeof e=="string"&&(this.time=bo.stringTimestampToLong(e)),this.time=this.time-this.time%1e3}fromString(e){this.time=bo.stringTimestampToLong(e)}getValidity(){return this.validity}setValidity(e){this.validity=e}getTime(){return this.time}getTimeAsString(){let e=new Date(this.time).toString();return e.substr(0,e.indexOf("(")-1)}validateTimestamp(){let e=this.getCurrentTime();return!(this.time>e+this.ALLOWED_ROUNDING||this.time+this.ALLOWED_ROUNDING+this.validity<e)}validateAgainstExpiration(e){let t=this.getCurrentTime();return this.time>t+this.ALLOWED_ROUNDING?((0,g1.logger)(b1.DEBUGLEVEL.LOW,"Object still not valid. Details: not valid before = "+this.time+", currentTime = "+t),!1):e<t-this.ALLOWED_ROUNDING?((0,g1.logger)(b1.DEBUGLEVEL.LOW,"Object is not longer valid. Details: attNotAfter = "+e+", currentTime = "+t),!1):e-this.time>this.validity+this.ALLOWED_ROUNDING?((0,g1.logger)(b1.DEBUGLEVEL.LOW,e+`
`+this.time+`
`+this.validity+`
`+this.ALLOWED_ROUNDING+`
`+(e-this.time)+`
`+(this.validity+this.ALLOWED_ROUNDING)+`
`),!1):!0}static stringTimestampToLong(e){return Date.parse(e)}getCurrentTime(){return Date.now()}}os.Timestamp=bo;bo.TIMESTAMP_FORMAT="EEE MMM d yyyy HH:mm:ss 'GMT'Z";bo.ALLOWED_ROUNDING=1e4;bo.UNLIMITED=253402297199e3;bo.DEFAULT_TOKEN_TIME_LIMIT=1e3*60*60*24*365;bo.DEFAULT_TIME_LIMIT_MS=1e3*60*20;Object.defineProperty(ah,"__esModule",{value:!0});ah.Attestation=void 0;const Ur=Ot(),eR=Nt,tR=$t,rR=Cn,Ft=In,nR=os,nn=Kt;class r5{constructor(){this.version=18,this.blockchainFriendly=!0}parseNames(e){let t={};Object.keys(Ft.X500NamesLabels).forEach(o=>{t[Ft.X500NamesLabels[o].toLowerCase()]=o});let n=[];return e.forEach(o=>{let i=t[o.type.toString().toLowerCase()];if(!i)throw new Error(`X500 with name ${o.type.toString()} not implemented yet.`);n.push(`${i}="${o.value}"`)}),n.join(",")}fromBytes(e){const t=this;let n=eR.AsnParser.parse(e,tR.SignedInfo);if(t.signedInfo=e,t.version=n.version.version,t.serialNumber=n.serialNumber,t.signingAlgorithm=n.signature.algorithm.toString(),n.validity){if(t.notValidBefore=n.validity.notBefore.generalizedTime.getTime(),t.notValidAfter=n.validity.notAfter.generalizedTime.getTime(),n.validity.notAfterInt&&Number(n.validity.notAfterInt)!=Math.floor(t.notValidAfter/1e3)||n.validity.notBeforeInt&&Number(n.validity.notBeforeInt)!=Math.floor(t.notValidBefore/1e3))throw new Error("Date doesnt fit");typeof n.validity.notBeforeInt>"u"||typeof n.validity.notAfterInt>"u"?this.blockchainFriendly=!1:this.blockchainFriendly=!0}let o=n.subject.rdnSequence;t.subject="",o&&o[0]&&o[0].length&&(t.subject=this.parseNames(o[0])),t.subjectKey=rR.KeyPair.publicFromSubjectPublicKeyInfo(n.subjectPublicKeyInfo);let i=n.issuer.rdnSequence;if(t.issuer="",i.length&&(t.issuer=this.parseNames(i[0])),n.contract&&(t.smartcontracts=n.contract),n.attestsTo&&n.attestsTo.extensions)t.extensions=n.attestsTo.extensions,t.commitment=new Uint8Array(t.extensions.extension.extnValue);else if(n.attestsTo&&n.attestsTo.dataObject)throw new Error("Implement parse dataObject")}isValidX509(){return this.version!=0&&this.version!=1&&this.version!=2?((0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Incorrect version number"),!1):this.issuer?this.notValidBefore==null||this.notValidAfter==null?((0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Validity period not set"),!1):this.subject==null?((0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Subject info not set"),!1):this.subjectKey?this.smartcontracts!=null?((0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Smart contract info set"),!1):this.dataObject!=null?((0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Data object set"),!1):this.version==null||this.serialNumber==null||this.signingAlgorithm==null?((0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Version, serial number, subject or algorithm missing"),!1):!0:((0,Ur.logger)(nn.DEBUGLEVEL.LOW,"No subject public key info set"),!1):((0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Issuer info not set"),!1)}getDerEncoding(){if(this.signedInfo||(this.signedInfo=this.getPrehash()),!this.signedInfo)throw new Error("Empty Attestaion Der Encoding");return(0,Ur.uint8tohex)(new Uint8Array(this.signedInfo))}getCommitment(){return this.commitment}getNotValidBefore(){return this.notValidBefore}setNotValidBefore(e){this.notValidBefore=e}getNotValidAfter(){return this.notValidAfter}setNotValidAfter(e){this.notValidAfter=e}getSubjectPublicKeyInfo(){return this.subjectKey}checkValidity(){if(this.version==null)return(0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Attest version missed"),!1;if(this.serialNumber==null)return(0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Attest serial number missed"),!1;if(this.subject==null)return(0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Attest subject missed"),!1;if(this.signingAlgorithm==null)return(0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Attest signing algorithm missed"),!1;let e=this.getNotValidBefore(),t=this.getNotValidAfter(),n=new nR.Timestamp(e);return n.setValidity(t-e),n.validateAgainstExpiration(t)?this.extensions!=null&&this.dataObject!=null?((0,Ur.logger)(nn.DEBUGLEVEL.LOW,"Both Extensions and dataObject not allowed"),!1):!0:!1}getExtensions(){return this.extensions}setVersion(e){this.version=e}getVersion(){return this.version}setSubject(e){this.subject=e}getSubject(){return this.subject}setSigningAlgorithm(e){this.signingAlgorithm=e}getPrehash(){if(!this.checkValidity())return null;let e=Ft.Asn1Der.encode("TAG",Ft.Asn1Der.encode("INTEGER",this.version),0)+Ft.Asn1Der.encode("INTEGER",this.serialNumber)+Ft.Asn1Der.encodeObjectId(this.signingAlgorithm);if(e+=this.issuer?Ft.Asn1Der.encodeName(this.issuer):Ft.Asn1Der.encode("NULL_VALUE",""),this.notValidAfter!=null&&this.notValidBefore!=null){let t=Ft.Asn1Der.encode("GENERALIZED_TIME",this.notValidBefore)+(this.blockchainFriendly?Ft.Asn1Der.encode("INTEGER",Math.floor(this.notValidBefore/1e3)):"")+Ft.Asn1Der.encode("GENERALIZED_TIME",this.notValidAfter)+(this.blockchainFriendly?Ft.Asn1Der.encode("INTEGER",Math.floor(this.notValidAfter/1e3)):"");e+=Ft.Asn1Der.encode("SEQUENCE_30",t)}else e+=Ft.Asn1Der.encode("NULL_VALUE","");return e+=this.subject?Ft.Asn1Der.encodeName(this.subject):Ft.Asn1Der.encode("NULL_VALUE",""),e+=this.subjectKey?this.subjectKey.getAsnDerPublic():Ft.Asn1Der.encode("NULL_VALUE",""),this.smartcontracts!=null&&(e+=this.smartcontracts),this.extensions!=null&&(e+=Ft.Asn1Der.encode("TAG",Ft.Asn1Der.encode("SEQUENCE_30",Ft.Asn1Der.encode("SEQUENCE_30",this.extensions)),3)),this.dataObject!=null&&(e+=Ft.Asn1Der.encode("TAG",Ft.Asn1Der.encode("SEQUENCE_30",Ft.Asn1Der.encode("SEQUENCE_30",this.dataObject)),4)),(0,Ur.hexStringToUint8)(Ft.Asn1Der.encode("SEQUENCE_30",e))}getSigningAlgorithm(){return this.signingAlgorithm}}ah.Attestation=r5;r5.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.IdentifierAttestation=void 0;const u2=gi(),iR=ah,$f=Ot(),Vf=Kt,oR=In;class _t extends iR.Attestation{constructor(){super()}fromCommitment(e,t){this.subjectKey=t,this.setVersion(_t.HIDDEN_IDENTIFIER_VERSION),this.setSubject("CN="),this.setSigningAlgorithm(_t.DEFAULT_SIGNING_ALGORITHM),this.setSubjectPublicKeyInfo(t),this.setCommitment(e),this.type=_t.HIDDEN_TYPE,this.identifier=_t.HIDDEN_IDENTIFIER,this.setUnlimitedValidity()}setUnlimitedValidity(){super.setNotValidBefore(Date.now()),super.setNotValidAfter(Date.parse("31 Dec 9999 23:59:59"))}static fromData(e,t,n,o){let s=new u2.AttestationCrypto().makeCommitment(e,t,o),a=new this;return a.fromCommitment(s,n),a.type=t.toString(),a.identifier=e,a}static fromLabelAndUrl(e,t,n){let o=new this;return o.subjectKey=n,o.setVersion(_t.NFT_VERSION),o.setSubject(o.makeLabeledURI(e,t)),o.setSigningAlgorithm(_t.DEFAULT_SIGNING_ALGORITHM),o.setIssuer("CN=attestation.id"),o.setSerialNumber(1),o.setSubjectPublicKeyInfo(n),o.setUnlimitedValidity(),o.type=e,o.identifier=t,o}makeLabeledURI(e,t){return`${_t.LABELED_URI_LABEL}="${t} ${e}"`}static fromBytes(e){let t=new this;if(t.fromBytes(e),!t.checkValidity())throw new Error("Could not validate object");if(t.getVersion()==_t.NFT_VERSION){let n=oR.Asn1Der.parseX500Names(t.getSubject()),o=!1;if(n.forEach(i=>{if(!o&&i.type==_t.LABELED_URI_LABEL){o=!0;let s=i.value.split(" ");if(s.length!=2)throw new Error("LabeledURI values should be separated with space and 2 items only: "+i.value);t.type=s[0],t.identifier=s[1]}}),!o)throw new Error("Cant find LABELED_URI")}else t.type=_t.HIDDEN_TYPE,t.identifier=_t.HIDDEN_IDENTIFIER;return t}setSubjectPublicKeyInfo(e){this.subjectKey=e}setCommitment(e){this.commitment=e}checkValidity(){return super.checkValidity()?this.getVersion()!=_t.HIDDEN_IDENTIFIER_VERSION&&this.getVersion()!=_t.NFT_VERSION?((0,$f.logger)(Vf.DEBUGLEVEL.LOW,"The version number is "+this.getVersion()+", it must be either "+_t.HIDDEN_IDENTIFIER_VERSION+" or "+_t.NFT_VERSION),!1):this.getSigningAlgorithm()!==_t.DEFAULT_SIGNING_ALGORITHM?((0,$f.logger)(Vf.DEBUGLEVEL.LOW,"The subject is supposed to only be an Ethereum address as the Common Name"),!1):this.getVersion()==_t.NFT_VERSION&&!this.subject.includes(_t.LABELED_URI_LABEL+"=")?((0,$f.logger)(Vf.DEBUGLEVEL.LOW,"A NFT Identifier attestation must have a labeled uri as subject. subject = "+this.getSubject()),!1):this.getVersion()==_t.HIDDEN_IDENTIFIER_VERSION&&this.getCommitment().length<u2.AttestationCrypto.BYTES_IN_DIGEST?((0,$f.logger)(Vf.DEBUGLEVEL.LOW,"The attestation does not contain a valid commitment"),!1):!0:((0,$f.logger)(Vf.DEBUGLEVEL.LOW,"IdentifierAttestation super.checkValidity() filed;"),!1)}setIssuer(e){this.issuer=e}getSerialNumber(){return this.serialNumber}setSerialNumber(e){this.serialNumber=e}getAddress(){return this.subjectKey.getAddress()}}Sf.IdentifierAttestation=_t;_t.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";_t.DEFAULT_SIGNING_ALGORITHM="1.2.840.10045.4.2";_t.HIDDEN_IDENTIFIER_VERSION=18;_t.NFT_VERSION=19;_t.HIDDEN_TYPE="HiddenType";_t.HIDDEN_IDENTIFIER="HiddenIdentifier";_t.LABELED_URI="1.3.6.1.4.1.250.1.57";_t.LABELED_URI_LABEL="labeledURI";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.SignedIdentifierAttestation=void 0;const sR=Nt,aR=$t,fR=Cn,ca=Ot(),Cl=In,cR=Sf,lR=Kt;class n5{constructor(){}static fromBytes(e,t){const n=sR.AsnParser.parse(e,aR.MyAttestation);return this.fromASNType(n,t,e)}static fromASNType(e,t,n=new Uint8Array(0)){let o=new this;o.uint8data=n,o.attestorKeys=t;let i=e.signatureAlgorithm.algorithm;if(o.att=cR.IdentifierAttestation.fromBytes(e.signedInfo),o.signature=(0,ca.uint8tohex)(new Uint8Array(e.signatureValue)),i!==o.att.getSigningAlgorithm())throw new Error("Algorithm specified is not consistent");return o.constructorCheck(),o}static fromData(e,t){let n=new this;return n.attestorKeys=t,n.att=e,n.signature=n.attestorKeys.signRawBytesWithEthereum(Array.from(n.att.getPrehash())),n.constructorCheck(),n}verify(){try{return this.attestorKeys.verifyBytesWithEthereum((0,ca.hexStringToArray)(this.att.getDerEncoding()),this.signature)}catch(e){return(0,ca.logger)(lR.DEBUGLEVEL.LOW,e),!1}}checkValidity(){return this.getUnsignedAttestation().checkValidity()}getUnsignedAttestation(){return this.att}getDerEncoding(){return this.uint8data&&this.uint8data.length?(0,ca.uint8tohex)(new Uint8Array(this.uint8data)):this.constructSignedAttestation(this.getUnsignedAttestation(),this.signature)}constructSignedAttestation(e,t){let n=e.getPrehash(),o=Cl.Asn1Der.encode("OBJECT_ID",e.getSigningAlgorithm()),i=(0,ca.uint8tohex)(n)+Cl.Asn1Der.encode("SEQUENCE_30",o)+Cl.Asn1Der.encode("BIT_STRING",(0,ca.uint8tohex)(fR.KeyPair.anySignatureToRawUint8(t)));return Cl.Asn1Der.encode("SEQUENCE_30",i)}constructorCheck(){if(!this.verify())throw new Error("The signature is not valid")}}Ef.SignedIdentifierAttestation=n5;n5.ECDSA_WITH_SHA256="1.2.840.10045.4.3.2";var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.AttestedObject=void 0;const h2=gi(),uR=Ef,Dr=Ot(),hR=In,dR=Nt,pR=j8(),gR=Sf,gn=Kt;class Zc{constructor(){}create(e,t,n,o){this.attestableObject=e,this.att=t,this.attestationSecret=n,this.objectSecret=o,this.crypto=new h2.AttestationCrypto,this.pok=this.makeProof(n,o,this.crypto),this.derEncodedProof=this.pok.getDerEncoding(),this.fillPresignData()}setWebDomain(e){this.webDomain=e}fillPresignData(){this.preSignEncoded=this.attestableObject.getDerEncoding()+this.att.getDerEncoding()+this.pok.getDerEncoding(),this.encoding=hR.Asn1Der.encode("SEQUENCE_30",this.preSignEncoded)}fromDecodedData(e,t,n){this.attestableObject=e,this.att=t,this.pok=n,this.fillPresignData(),this.userKeyPair=this.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),this.constructorCheck()}verify(){return this.attestableObject.verify()?this.att.verify()?this.crypto.verifyEqualityProof(this.att.getUnsignedAttestation().getCommitment(),this.attestableObject.getCommitment(),this.pok)?!0:((0,Dr.logger)(gn.DEBUGLEVEL.LOW,"Could not verify the consistency between the commitment in the attestation and the attested object"),!1):((0,Dr.logger)(gn.DEBUGLEVEL.LOW,"Could not verify attestation"),!1):((0,Dr.logger)(gn.DEBUGLEVEL.LOW,"Could not verify attestable object"),!1)}static fromBytes(e,t,n,o,i){let s=dR.AsnParser.parse(e,t),a=new this;a.attestableObject=new o,a.attestableObject.fromBytes(s.signedToken,i),a.att=uR.SignedIdentifierAttestation.fromBytes(new Uint8Array(s.attestation),n);let l=new pR.UsageProofOfExponent;return l.fromBytes(new Uint8Array(s.proof)),a.pok=l,a.userKeyPair=a.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),a.crypto=new h2.AttestationCrypto,a.constructorCheck(),a}makeProof(e,t,n){let o=this.att.getUnsignedAttestation().getCommitment(),i=this.attestableObject.getCommitment(),s=n.computeEqualityProof((0,Dr.uint8tohex)(o),(0,Dr.uint8tohex)(i),e,t);if(!n.verifyEqualityProof(o,i,s))throw new Error("The redeem proof did not verify");return s}getAttestableObject(){return this.attestableObject}getAtt(){return this.att}getDerEncodeProof(){return this.derEncodedProof}getDerEncoding(){return this.encoding}constructorCheck(){if(!this.verify())throw new Error("The redeem request is not valid")}checkValidity(e=null){try{let t=this.att.getUnsignedAttestation().getDerEncoding();if(!gR.IdentifierAttestation.fromBytes(new Uint8Array((0,Dr.hexStringToArray)(t))).checkValidity())return(0,Dr.logger)(gn.DEBUGLEVEL.LOW,"The attestation is not a valid standard attestation"),!1}catch{return(0,Dr.logger)(gn.DEBUGLEVEL.LOW,"The attestation is invalid"),!1}try{if(!this.getAttestableObject().checkValidity())return(0,Dr.logger)(gn.DEBUGLEVEL.LOW,"Cheque is not valid"),!1}catch{return(0,Dr.logger)(gn.DEBUGLEVEL.LOW,"Cheque validation failed"),!1}if(e===null)return!0;try{let t=this.getAtt().getUnsignedAttestation().getAddress();if((0,Dr.logger)(gn.DEBUGLEVEL.HIGH,"attestationEthereumAddress: "+t),(0,Dr.logger)(gn.DEBUGLEVEL.HIGH,"providedEthereumAddress: "+e),t.toLowerCase()!==e.toLowerCase())return(0,Dr.logger)(gn.DEBUGLEVEL.LOW,"The attestation is not to the same Ethereum user who is sending this request"),!1}catch(t){return(0,Dr.logger)(gn.DEBUGLEVEL.LOW,"Address validation failed"),(0,Dr.logger)(gn.DEBUGLEVEL.MEDIUM,t),!1}return!0}}Yc.AttestedObject=Zc;Zc.Eip712UserData={payload:"",description:"",timestamp:0};Zc.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"uint256"}];Zc.Eip712UserDataPrimaryName="Authentication";Zc.Eip712UserDataDescription="Single-use authentication";var Xc={},fh={},i5=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(fh,"__esModule",{value:!0});fh.Identifier=void 0;const xp=Nt,bR=$i;class bb{}i5([(0,xp.AsnProp)({type:xp.AsnPropTypes.Integer})],bb.prototype,"type",void 0);i5([(0,xp.AsnProp)({type:bR.Proof})],bb.prototype,"proof",void 0);fh.Identifier=bb;Object.defineProperty(Xc,"__esModule",{value:!0});Xc.AttestationRequest=void 0;const Bl=rs(),d2=In,jf=Ot(),vR=gi(),mR=j0(),p2=Nt,g2=fh,b2=Kt;class yR{constructor(){}static fromData(e,t){let n=new this;if(n.type=e,n.pok=t,!n.verify())throw new Error("The proof is not valid");return n}getDerEncoding(){let e=d2.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding();return d2.Asn1Der.encode("SEQUENCE_30",e)}static fromBytes(e){let t=new this,n;try{n=p2.AsnParser.parse(e,g2.Identifier),t.type=n.type}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let o=new Uint8Array(n.proof.riddle),i=new Uint8Array(n.proof.challengePoint),s=new Uint8Array(n.proof.responseValue),a=new Uint8Array(n.proof.nonce),l=Bl.Point.decodeFromHex((0,jf.uint8tohex)(o),Bl.CURVE_BN256),f=(0,jf.uint8ToBn)(i),u=Bl.Point.decodeFromHex((0,jf.uint8tohex)(s),Bl.CURVE_BN256);t.pok=mR.FullProofOfExponent.fromData(l,u,f,a)}catch{throw new Error("Cant create FullProofOfExponent")}if(!t.verify())throw new Error("Could not verify the proof");return(0,jf.logger)(b2.DEBUGLEVEL.HIGH,"proof OK"),t}verify(){return new vR.AttestationCrypto().verifyFullProof(this.pok)?((0,jf.logger)(b2.DEBUGLEVEL.HIGH,"VerifyAttestationRequestProof OK"),!0):!1}getPok(){return this.pok}getType(){return this.type}getAsn(){const e=this.getPok().getAsnType(),t=new g2.Identifier;return t.type=this.getType(),t.proof=e,t}getAsnEncoded(){return p2.AsnSerializer.serialize(this.getAsn())}}Xc.AttestationRequest=yR;var ea={},Mo={},o5={};const xR=Vt(g_),wR=Vt(rS),AR=Vt(z3),ER=Vt(AT),SR=Vt(NE),_R=Vt(h_),kR=Vt(RT),TR=Vt(GT),MR=Vt(YE),PR=Vt(OE),v2=Vt(_T),IR=Vt(HM),CR=Vt(UT),BR=Vt(HE),OR=Vt(k3),RR=Vt(sT),m2=Vt(CS),NR=Vt(pT),LR=Vt(KM),UR=Vt(JT),DR=Vt(nM);(function(r){var e=Xe&&Xe.__createBinding||(Object.create?function(U,E,b,c){c===void 0&&(c=b),Object.defineProperty(U,c,{enumerable:!0,get:function(){return E[b]}})}:function(U,E,b,c){c===void 0&&(c=b),U[c]=E[b]}),t=Xe&&Xe.__setModuleDefault||(Object.create?function(U,E){Object.defineProperty(U,"default",{enumerable:!0,value:E})}:function(U,E){U.default=E}),n=Xe&&Xe.__importStar||function(U){if(U&&U.__esModule)return U;var E={};if(U!=null)for(var b in U)b!=="default"&&Object.prototype.hasOwnProperty.call(U,b)&&e(E,U,b);return t(E,U),E};Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0;var o=xR;Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return o.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return o.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return o.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return o.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return o.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return o.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return o.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return o.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return o.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return o.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return o.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return o.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return o.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return o.TransactionDescription}});var i=wR;Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return i.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return i.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return i.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return i.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return i.isAddress}});var s=n(AR);r.base64=s;var a=ER;Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return a.Base58}});var l=SR;Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return l.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return l.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return l.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return l.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return l.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return l.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return l.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return l.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return l.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return l.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return l.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return l.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return l.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return l.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return l.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return l.stripZeros}});var f=_R;Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return f._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return f.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return f.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return f.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return f.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return f.namehash}});var u=kR;Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var p=TR;Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return p.getJsonWalletAddress}});var _=MR;Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return _.keccak256}});var T=PR;Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return T.Logger}});var I=v2;Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return I.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return I.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return I.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return I.sha512}});var B=IR;Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return B.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return B.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return B.sha256}});var P=CR;Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return P.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return P.shuffled}});var C=BR;Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return C.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return C.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return C.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return C.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return C.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return C.shallowCopy}});var L=n(OR);r.RLP=L;var j=RR;Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return j.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return j.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return j.SigningKey}});var z=m2;Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return z.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return z.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return z.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return z._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return z.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return z.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return z.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return z.Utf8ErrorFuncs}});var Y=NR;Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return Y.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return Y.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return Y.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return Y.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return Y.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return Y.TransactionTypes}});var re=LR;Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return re.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return re.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return re.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return re.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return re.parseUnits}});var ge=UR;Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return ge.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return ge.verifyTypedData}});var ce=DR;Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return ce._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return ce.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return ce.poll}});var be=v2;Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return be.SupportedAlgorithm}});var Ce=m2;Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return Ce.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return Ce.Utf8ErrorReason}})})(o5);Object.defineProperty(Mo,"__esModule",{value:!0});Mo.SignatureUtility=void 0;const qf=Ot(),us=W0,y2=o5,FR=Kt;let $R=lb,x2=new $R.ec("secp256k1"),v1=lf.exports;class Bi{static sign(e,t){let n=x2.keyFromPrivate(t.getPrivateAsHexString(),"hex"),o=v1.keccak256((0,qf.hexStringToArray)(e));return n.sign(o).toDER("hex")}static verify(e,t,n){return Bi.verifyArrayBuf((0,qf.hexStringToArray)(e),t,n)}static verifyArrayBuf(e,t,n){let o=x2.keyFromPublic(n.getPublicKeyAsHexStr(),"hex"),i=v1.keccak256(e);return o.verify(i,t)}static async signMessageWithBrowserWallet(e){return await Bi.connectMetamaskAndGetAddress(),await new us.ethers.providers.Web3Provider(window.ethereum).getSigner().signMessage(e)}static async recoverPublicKeyFromMessageSignature(e,t){const n=us.ethers.utils.hashMessage(e),o=us.ethers.utils.arrayify(n);return await us.ethers.utils.recoverPublicKey(o,t)}static recoverPublicKeyFromTypedMessageSignature(e,t){let n,o;try{let i=e.message.payload;e.message.payload=us.ethers.utils.id(i).substr(2);let s=e.types;delete s.EIP712Domain,n=y2._TypedDataEncoder.hash(e.domain,s,e.message),e.message.payload=i}catch(i){const s="Cant sign data, possibly wrong format. "+i;throw new Error(s)}try{o=(0,y2.recoverPublicKey)((0,qf.hexStringToUint8)(n.substr(2)),t)}catch(i){const s="Cant recoverPublicKey. "+i;throw new Error(s)}return o}static async signEIP712WithBrowserWallet(e,t,n,o,i=null){try{let s,a;if(i?a=new us.ethers.Wallet("0x"+i.getPrivateAsHexString()):a=new us.ethers.providers.Web3Provider(window.ethereum).getSigner(),!a)throw new Error("Active Wallet required");let l=Bi.Eip712Data;const f={name:e,version:l.PROTOCOL_VERSION},u={};u[o]=n;let p=Object.assign({},t);p.payload=v1.keccak256(p.payload);let _=await a._signTypedData(f,u,p),T={types:{EIP712Domain:Bi.Eip712domainTypes},primaryType:o,message:t,domain:f};T.types[o]=u[o];let I=JSON.stringify(T),B={signatureInHex:_,jsonSigned:I};return JSON.stringify(B)}catch(s){return(0,qf.logger)(FR.DEBUGLEVEL.LOW,"Cant sign eip712 data. Error: "+s),""}}static async connectMetamaskAndGetAddress(){if(!window.ethereum)throw new Error("Please install metamask before.");const e=await window.ethereum.request({method:"eth_requestAccounts"});if(!e||!e.length)throw new Error("Active Wallet required");return e[0]}static getChainIdFromSignature(e){let t=Number("0x"+e.substr(-2));return t==27||t==28?0:t-35>>1}static convertToPersonalEthMessage(e){return(0,qf.stringToArray)(this.ethereumPrefix+e.length+e)}}Mo.SignatureUtility=Bi;Bi.ethereumPrefix=`Ethereum Signed Message:
`;Bi.OID_ECDSA_PUBLICKEY="1.2.840.10045.2.1";Bi.Eip712Data={PROTOCOL_VERSION:"0.1"};Bi.Eip712domainTypes=[{name:"name",type:"string"},{name:"version",type:"string"}];var ch={};Object.defineProperty(ch,"__esModule",{value:!0});ch.ValidationTools=void 0;const VR=Ot(),jR=Kt;class s5{static validateTimestamp(e,t,n){return!(e>t+n||e<t-n)}static isAddress(e){return e.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null?((0,VR.logger)(jR.DEBUGLEVEL.LOW,"Wrong Ethereum Address"),!1):!0}static isNullOrAddress(e){return e==null?!0:this.isAddress(e)}}ch.ValidationTools=s5;s5.ADDRESS_LENGTH_IN_BYTES=42;Object.defineProperty(ea,"__esModule",{value:!0});ea.Nonce=void 0;const _r=Ot(),qR=Mo,a5=ch,HR=os,Hf=Kt;class Lt{constructor(){this.DEFAULT_NONCE_TIME_LIMIT_MS=1e3*60*20}static async makeNonce(e="",t,n=new Uint8Array(0),o=0){if(e||(e=await qR.SignatureUtility.connectMetamaskAndGetAddress()),!a5.ValidationTools.isAddress(e))throw new Error("Address is not valid");return e=e.toUpperCase(),o||(o=Date.now()),(0,_r.uint8merge)([Uint8Array.from((0,_r.stringToArray)(e)),(0,_r.hashStringTo32bytesUint8)(t),(0,_r.getInt64Bytes)(o),n])}validateNonce(e,t,n,o,i,s=new Uint8Array(0)){return Lt.validateAddress(e,t)?this.validateReceiverIdentifier(e,n)?this.validateTimestamp(e,o,i)?this.validateOtherData(e,s)?this.validateOtherData(e,s):((0,_r.logger)(Hf.DEBUGLEVEL.LOW,"otherData check failed"),!1):((0,_r.logger)(Hf.DEBUGLEVEL.LOW,"timestamp check failed"),!1):((0,_r.logger)(Hf.DEBUGLEVEL.LOW,"validateReceiverIdentifier check failed"),!1):((0,_r.logger)(Hf.DEBUGLEVEL.LOW,"validateAddress check failed for "+t),!1)}validateTimestamp(e,t,n){let o=Lt.getTimestamp(e),i=new HR.Timestamp(o);return i.setValidity(n-t),i.validateAgainstExpiration(n)}static validateAddress(e,t){let n=(0,_r.uint8toString)(e.slice(Lt.senderAddressIndexStart,Lt.senderAddressIndexStop));return t.toUpperCase()===n.toUpperCase()?!0:((0,_r.logger)(Hf.DEBUGLEVEL.LOW,"nonceAddress = "+n),!1)}validateReceiverIdentifier(e,t){return(0,_r.uint8tohex)((0,_r.hashStringTo32bytesUint8)(t)).toLowerCase()===(0,_r.uint8tohex)(e.slice(Lt.receiverIdentifierIndexStart,Lt.receiverIdentifierIndexStop)).toLowerCase()}validateOtherData(e,t){return(0,_r.uint8tohex)(t).toLowerCase()===(0,_r.uint8tohex)(e.slice(Lt.otherDataIndexStart,Lt.otherDataIndexStart+t.length)).toLowerCase()}static getTimestamp(e){let t=e.slice(Lt.timestampIndexStart,Lt.timestampIndexStop),n=(0,_r.uint8ToBn)(t);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("timestamp value bigger than MAX_SAFE_INTEGER");return Number(n)}}ea.Nonce=Lt;Lt.LONG_BYTES=8;Lt.senderAddressIndexStart=0;Lt.senderAddressIndexStop=a5.ValidationTools.ADDRESS_LENGTH_IN_BYTES;Lt.receiverIdentifierIndexStart=Lt.senderAddressIndexStop;Lt.receiverIdentifierIndexStop=Lt.receiverIdentifierIndexStart+256/8;Lt.timestampIndexStart=Lt.receiverIdentifierIndexStop;Lt.timestampIndexStop=Lt.timestampIndexStart+Lt.LONG_BYTES;Lt.otherDataIndexStart=Lt.timestampIndexStop;var el={},_f={},lh={},tl={},vb=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(tl,"__esModule",{value:!0});tl.UseToken=void 0;const tf=Nt;class uh{}vb([(0,tf.AsnProp)({type:tf.AsnPropTypes.Any})],uh.prototype,"signedToken",void 0);vb([(0,tf.AsnProp)({type:tf.AsnPropTypes.Any})],uh.prototype,"attestation",void 0);vb([(0,tf.AsnProp)({type:tf.AsnPropTypes.Any})],uh.prototype,"proof",void 0);tl.UseToken=uh;var hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.XMLconfigData=void 0;const GR=Fs,w2=Cn;hh.XMLconfigData={attestationOrigin:"http://stage.attestation.id",tokensOrigin:"https://devcontickets.herokuapp.com/outlet/",tokenUrlName:"ticket",tokenSecretName:"secret",unsignedTokenDataName:"ticket",tokenParser:GR.SignedDevconTicket,localStorageItemName:"dcTokens",base64senderPublicKeys:{6:w2.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA////////////////
/////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5m
fvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0
SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFB
AgEBA0IABJUMfAvtI8PKxcwxu7mq2btVMjh4gmcKwrHN8HmasOvHZMJn9wTo/doH
lquDl6TSEBAk0kxO//aVs6QX8u0OSM0=
-----END PUBLIC KEY-----`),26:w2.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEQKYTwFMIzSq1QVxoRKoOZXLQ9mUhce8M
dIzvJx3unbpR3m3TiuWKZKTP4/XCPnS56d1tAhjM43hHjHbZ0k3RKQ==
-----END PUBLIC KEY-----`)},base64attestorPubKey:"MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA/////////////////////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5mfvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFBAgEBA0IABL+y43T1OJFScEep69/yTqpqnV/jzONz9Sp4TEHyAJ7IPN9+GHweCX1hT4OFxt152sBN3jJc1s0Ymzd8pNGZNoQ=",webDomain:"devcon.org"};Object.defineProperty(lh,"__esModule",{value:!0});lh.Eip712Validator=void 0;const KR=Yc,zR=tl,m1=hh,A2=Cn,WR=$c,E2=Mo,xi=Ot(),Ji=Kt;class Nu{constructor(){this.XMLConfig=m1.XMLconfigData}static stringIsAValidUrl(e){let t;try{t=new URL(e)}catch(n){return(0,xi.logger)(Ji.DEBUGLEVEL.LOW,"cant construct url. Error:",n),!1}return t.protocol==="http:"||t.protocol==="https:"}setDomainAndTimout(e){if(!Nu.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}setDomain(e){if(!Nu.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}getDomain(){return this.domain}setSalt(e){this.salt=e}getSalt(){return this.salt}setPrimaryName(e){this.primaryName=e}getPrimaryName(){return this.primaryName}setChainId(e){if(e<1)throw new Error("ChainId should be a positive number");this.chainId=e}getChainId(){return this.chainId}validateDomain(e){return e?!e.name||e.name.toLowerCase()!==this.domain.toLowerCase()?((0,xi.logger)(Ji.DEBUGLEVEL.LOW,"Domain name is not valid"),!1):!e.version||e.version!==E2.SignatureUtility.Eip712Data.PROTOCOL_VERSION?((0,xi.logger)(Ji.DEBUGLEVEL.LOW,"Protocol version is wrong"),!1):this.chainId&&e.chainId!==this.chainId?((0,xi.logger)(Ji.DEBUGLEVEL.LOW,"Chain ID is wrong"),!1):this.verifyingContract&&e.verifyingContract!==this.verifyingContract?((0,xi.logger)(Ji.DEBUGLEVEL.LOW,"Verifying contract is wrong"),!1):this.salt&&e.salt!==this.salt?((0,xi.logger)(Ji.DEBUGLEVEL.LOW,"Salt is wrong"),!1):!0:((0,xi.logger)(Ji.DEBUGLEVEL.LOW,"Input param domainToCheck required"),!1)}retrieveAttestedObject(e){let t=e.payload,n=A2.KeyPair.publicFromBase64orPEM(m1.XMLconfigData.base64attestorPubKey),o=m1.XMLconfigData.base64senderPublicKeys;return KR.AttestedObject.fromBytes((0,xi.hexStringToUint8)(t),zR.UseToken,n,WR.Ticket,o)}verifySignature(e,t){let n=JSON.parse(e),o=n.signatureInHex,i=JSON.parse(n.jsonSigned),s=E2.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,o),a=A2.KeyPair.fromPublicHex(s.substr(2));return t.toLowerCase()!==i.message.address.toLowerCase()?((0,xi.logger)(Ji.DEBUGLEVEL.LOW,"message.address is not equal pkAddress"),!1):t.toLowerCase()!==a.getAddress().toLowerCase()?((0,xi.logger)(Ji.DEBUGLEVEL.LOW,"Recovered address is not equal pkAddress"),!1):!0}}lh.Eip712Validator=Nu;Object.defineProperty(_f,"__esModule",{value:!0});_f.Eip712Token=void 0;const JR=lh;class QR extends JR.Eip712Validator{}_f.Eip712Token=QR;Object.defineProperty(el,"__esModule",{value:!0});el.Eip712AttestationRequest=void 0;const YR=Xc,ZR=Cn,y1=Mo,Wn=Ot(),S2=ea,XR=_f,la=os,Qi=Kt;class eN extends XR.Eip712Token{constructor(e=null,t=la.Timestamp.DEFAULT_TIME_LIMIT_MS){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"string"},{name:"identifier",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequest",this.Eip712UserDataDescription="Linking Ethereum address to phone or email",this.userKey=e,this.acceptableTimeLimit=t,this.usageValue=this.Eip712UserDataDescription}setUsageValue(e){this.usageValue=e}async addData(e,t=la.Timestamp.DEFAULT_TIME_LIMIT_MS,n,o){this.setDomain(e),this.attestationRequest=o,this.acceptableTimeLimit=t,this.jsonEncoding=await this.makeToken(n);try{this.fillJsonData(this.jsonEncoding)}catch(i){return(0,Wn.logger)(Qi.DEBUGLEVEL.LOW,i),!1}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let t=JSON.parse(e),n=t.signatureInHex,o=JSON.parse(t.jsonSigned);this.eip712DomainData=o.domain,this.data=o.message;try{let i=y1.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,n);this.requestorKeys=ZR.KeyPair.fromPublicHex(i.substr(2)),(0,Wn.logger)(Qi.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(i){let s="Recover Address failed with error:"+i;throw(0,Wn.logger)(Qi.DEBUGLEVEL.LOW,s,i),new Error(s)}this.attestationRequest||(this.attestationRequest=YR.AttestationRequest.fromBytes((0,Wn.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 AttestationRequest");(0,Wn.logger)(Qi.DEBUGLEVEL.HIGH,"Eip712 Attestaion Request verify OK")}async makeToken(e){this.userKey?this.userKey.getAddress():await y1.SignatureUtility.connectMetamaskAndGetAddress();let t=S2.Nonce.getTimestamp(this.attestationRequest.getPok().getNonce()),n=new la.Timestamp(t).getTimeAsString(),o={payload:(0,Wn.hexStringToBase64Url)(this.attestationRequest.getDerEncoding()),description:this.usageValue,timestamp:n,identifier:e};return await y1.SignatureUtility.signEIP712WithBrowserWallet(this.domain,o,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}setAcceptableTimeLimit(e){this.acceptableTimeLimit=e}getJsonEncoding(){return this.jsonEncoding}verify(){return this.attestationRequest.verify()?!0:((0,Wn.logger)(Qi.DEBUGLEVEL.MEDIUM,"Could not verify proof"),!1)}checkValidity(){if(!this.validateDomain(this.eip712DomainData))return(0,Wn.logger)(Qi.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!==this.usageValue)return(0,Wn.logger)(Qi.DEBUGLEVEL.MEDIUM,"Description is not correct. :"+this.data.description+" !== "+this.usageValue),!1;let e=new la.Timestamp(this.data.timestamp);return e.setValidity(this.acceptableTimeLimit),e.validateTimestamp()?new S2.Nonce().validateNonce(this.getPok().getNonce(),this.requestorKeys.getAddress(),this.domain,la.Timestamp.stringTimestampToLong(this.data.timestamp)-this.acceptableTimeLimit,la.Timestamp.stringTimestampToLong(this.data.timestamp)+this.acceptableTimeLimit)?!0:((0,Wn.logger)(Qi.DEBUGLEVEL.LOW,"nonce is not correct"),!1):((0,Wn.logger)(Qi.DEBUGLEVEL.LOW,`timestamp is not correct. timestamp = ${this.data.timestamp}, acceptableTimeLimit = ${this.acceptableTimeLimit}`),!1)}getIdentifier(){return this.data.identifier}getType(){return this.attestationRequest.getType()}getPok(){return this.attestationRequest.getPok()}getUserPublicKey(){return this.requestorKeys}}el.Eip712AttestationRequest=eN;var rl={},dh={},ph=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(dh,"__esModule",{value:!0});dh.UseAttestation=void 0;const Cc=Nt,tN=$i,f5=$t;class nl{}ph([(0,Cc.AsnProp)({type:f5.MyAttestation})],nl.prototype,"attestation",void 0);ph([(0,Cc.AsnProp)({type:Cc.AsnPropTypes.Integer})],nl.prototype,"type",void 0);ph([(0,Cc.AsnProp)({type:tN.Proof})],nl.prototype,"proof",void 0);ph([(0,Cc.AsnProp)({type:f5.PublicKeyInfoValue})],nl.prototype,"sessionKey",void 0);dh.UseAttestation=nl;Object.defineProperty(rl,"__esModule",{value:!0});rl.UseAttestation=void 0;const rN=Cn,nN=j0(),iN=gi(),oN=Ef,sN=dh,aN=Nt,_2=In;class fN{static fromData(e,t,n,o){let i=new this;return i.attestation=e,i.type=t,i.pok=n,i.sessionPublicKey=o,i.encoding=i.makeEncoding(e,t,n,o),i.constructorCheck(),i}static fromBytes(e,t){let n=new this,o;try{o=aN.AsnParser.parse(e,sN.UseAttestation)}catch(i){throw new Error("Cant parse UseAttestationASN. "+i)}try{n.attestation=oN.SignedIdentifierAttestation.fromASNType(o.attestation,t),n.type=o.type,n.pok=nN.FullProofOfExponent.fromASNType(o.proof),n.sessionPublicKey=rN.KeyPair.publicFromSubjectPublicKeyValue(o.sessionKey)}catch(i){throw new Error("Cant decode internal data. "+i)}return n.constructorCheck(),n}constructorCheck(){if(!this.verify())throw new Error("The use attestation object is not valid")}makeEncoding(e,t,n,o){let i=e.getDerEncoding()+_2.Asn1Der.encode("INTEGER",t)+n.getDerEncoding()+o.getAsnDerPublic();return _2.Asn1Der.encode("SEQUENCE_30",i)}getAttestation(){return this.attestation}getType(){return this.type}getPok(){return this.pok}getSessionPublicKey(){return this.sessionPublicKey}getDerEncoding(){return this.encoding}verify(){return this.attestation.verify()&&new iN.AttestationCrypto().verifyFullProof(this.pok)}checkValidity(){return this.attestation.checkValidity()}}rl.UseAttestation=fN;var gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.Eip712AttestationUsage=void 0;const cN=Cn,x1=Mo,lN=_f,uN=rl,ar=Ot(),k2=gi(),T2=rs(),hN=ea,Yi=os,Wr=Kt;class dN extends lN.Eip712Token{constructor(e=null,t=Yi.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.PLACEHOLDER_CHAIN_ID=0,this.Eip712PrimaryName="AttestationUsage",this.Eip712Description='Prove that the "identifier" is the identifier hidden in attestation contained in"payload".',this.Eip712UserTypes=[{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"payload",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.maxTokenValidityInMs=t,this.userKey=e}async addData(e,t,n){this.setDomain(e),this.useAttestation=n;try{this.jsonEncoding=await this.makeToken(t,n)}catch(o){throw(0,ar.logger)(Wr.DEBUGLEVEL.LOW,o),new Error("Could not encode object. "+o)}try{this.fillJsonData(this.jsonEncoding)}catch(o){return(0,ar.logger)(Wr.DEBUGLEVEL.LOW,o),!1}this.constructorCheck()}fillJsonData(e,t=null){if(!e)throw new Error("Empty json");t!==null&&(this.attestorKey=t),this.jsonEncoding=e;let n=JSON.parse(e),o=n.signatureInHex,i=JSON.parse(n.jsonSigned);this.eip712DomainData=i.domain,this.data=i.message;try{let s=x1.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,o);this.requestorKeys=cN.KeyPair.fromPublicHex(s.substr(2)),(0,ar.logger)(Wr.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(s){let a="Recover Address failed with error:"+s;throw(0,ar.logger)(Wr.DEBUGLEVEL.LOW,a,s),new Error(a)}if(!this.useAttestation)try{(0,ar.logger)(Wr.DEBUGLEVEL.VERBOSE,(0,ar.uint8tohex)((0,ar.base64ToUint8array)(this.data.payload))),this.useAttestation=uN.UseAttestation.fromBytes((0,ar.base64ToUint8array)(this.data.payload),this.attestorKey)}catch(s){let a="Failed to read UseAttestation. "+s;throw(0,ar.logger)(Wr.DEBUGLEVEL.MEDIUM,a,s),new Error(a)}this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,t){this.userKey||await x1.SignatureUtility.connectMetamaskAndGetAddress();let n={payload:(0,ar.hexStringToBase64Url)(t.getDerEncoding()),description:this.Eip712Description,timestamp:new Yi.Timestamp().getTimeAsString(),identifier:e,expirationTime:new Yi.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString()};return await x1.SignatureUtility.signEIP712WithBrowserWallet(this.domain,n,this.Eip712UserTypes,this.Eip712PrimaryName,this.userKey)}proofLinking(){let t=new k2.AttestationCrypto().mapToCurveMultiplier(this.getType(),this.getIdentifier());return T2.Point.decodeFromUint8(this.getAttestation().getUnsignedAttestation().getCommitment(),T2.CURVE_BN256).subtract(k2.Pedestren_G.multiplyDA(t)).equals(this.getPok().getRiddle())?!0:((0,ar.logger)(Wr.DEBUGLEVEL.LOW,"candidateRiddle.equals(this.getPok().getRiddle()) error"),!1)}getPok(){return this.useAttestation.getPok()}getType(){return this.useAttestation.type}getIdentifier(){return this.data.identifier}getAttestation(){return this.useAttestation.getAttestation()}getJsonEncoding(){return this.jsonEncoding}checkTokenValidity(){let e=Yi.Timestamp.stringTimestampToLong(this.data.expirationTime)-this.maxTokenValidityInMs-2*Yi.Timestamp.ALLOWED_ROUNDING,t=Yi.Timestamp.stringTimestampToLong(this.data.expirationTime);if(!this.useAttestation.checkValidity())return(0,ar.logger)(Wr.DEBUGLEVEL.LOW,"useAttestation.checkValidity failed"),!1;if(!this.validateDomain(this.eip712DomainData))return(0,ar.logger)(Wr.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!=this.Eip712Description)return(0,ar.logger)(Wr.DEBUGLEVEL.LOW,`wrong description: "${this.data.description}", must be "${this.Eip712Description}"`),!1;let n=new Yi.Timestamp(this.data.timestamp);return n.setValidity(this.maxTokenValidityInMs),n.validateAgainstExpiration(Yi.Timestamp.stringTimestampToLong(this.data.expirationTime))?this.requestorKeys.getAddress().toLowerCase()!==this.useAttestation.getAttestation().getUnsignedAttestation().getAddress().toLowerCase()?((0,ar.logger)(Wr.DEBUGLEVEL.LOW,"wrong address"),!1):new hN.Nonce().validateNonce(this.useAttestation.getPok().getNonce(),this.useAttestation.getAttestation().getUnsignedAttestation().getAddress(),this.domain,e,t)?this.proofLinking()?!0:((0,ar.logger)(Wr.DEBUGLEVEL.LOW,"wrong proofLinking"),!1):((0,ar.logger)(Wr.DEBUGLEVEL.LOW,"wrong Nonce"),!1):((0,ar.logger)(Wr.DEBUGLEVEL.LOW,`verify timestamp failed.
`+this.data.timestamp+`
`+this.maxTokenValidityInMs+`
`+this.data.expirationTime+`
`+Yi.Timestamp.stringTimestampToLong(this.data.expirationTime)+`
`),!1)}verify(){return!!this.useAttestation.verify()}getSessionPublicKey(){return this.useAttestation.getSessionPublicKey()}}gh.Eip712AttestationUsage=dN;var bh={},il={},vh={},mb=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(vh,"__esModule",{value:!0});vh.Identifier=void 0;const Lu=Nt,pN=$i,gN=$t;class mh{}mb([(0,Lu.AsnProp)({type:Lu.AsnPropTypes.Integer})],mh.prototype,"type",void 0);mb([(0,Lu.AsnProp)({type:pN.Proof})],mh.prototype,"proof",void 0);mb([(0,Lu.AsnProp)({type:gN.PublicKeyInfoValue})],mh.prototype,"sessionKey",void 0);vh.Identifier=mh;Object.defineProperty(il,"__esModule",{value:!0});il.AttestationRequestWithUsage=void 0;const bN=Cn,vN=j0(),mN=vh,yN=Nt,Ol=Ot(),Rl=rs(),xN=gi(),M2=In,wN=Kt;class AN{constructor(){}static fromData(e,t,n){let o=new this;if(o.type=e,o.pok=t,o.sessionPublicKey=n,!o.verify())throw new Error("Could not verify the proof");return o}static fromBytes(e){let t=new this,n;try{n=yN.AsnParser.parse(e,mN.Identifier),t.type=n.type,t.sessionPublicKey=bN.KeyPair.publicFromSubjectPublicKeyValue(n.sessionKey)}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let o=new Uint8Array(n.proof.riddle),i=new Uint8Array(n.proof.challengePoint),s=new Uint8Array(n.proof.responseValue),a=new Uint8Array(n.proof.nonce),l=Rl.Point.decodeFromHex((0,Ol.uint8tohex)(o),Rl.CURVE_BN256),f=(0,Ol.uint8ToBn)(i),u=Rl.Point.decodeFromHex((0,Ol.uint8tohex)(s),Rl.CURVE_BN256);t.pok=vN.FullProofOfExponent.fromData(l,u,f,a)}catch{throw new Error("Cant create FullProofOfExponent")}if(!t.verify())throw new Error("Could not verify the proof");return(0,Ol.logger)(wN.DEBUGLEVEL.HIGH,"proof OK"),t}verify(){return!!new xN.AttestationCrypto().verifyFullProof(this.pok)}getDerEncoding(){let e=M2.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding()+this.sessionPublicKey.getAsnDerPublic();return M2.Asn1Der.encode("SEQUENCE_30",e)}getPok(){return this.pok}getType(){return this.type}getSessionPublicKey(){return this.sessionPublicKey}}il.AttestationRequestWithUsage=AN;Object.defineProperty(bh,"__esModule",{value:!0});bh.Eip712AttestationRequestWithUsage=void 0;const EN=il,SN=Cn,Ro=Ot(),w1=Mo,_N=ea,kN=_f,wi=os,ua=Kt;class TN extends kN.Eip712Token{constructor(e=null,t=wi.Timestamp.DEFAULT_TIME_LIMIT_MS,n=wi.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequestWUsage",this.Eip712UserDataDescription='Prove that the "identifier" is the identifier hidden in attestation contained in"payload" and use this to authorize usage of local, temporary keys.',this.userKey=e,this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n}async fromData(e,t=wi.Timestamp.DEFAULT_TIME_LIMIT_MS,n=wi.Timestamp.DEFAULT_TOKEN_TIME_LIMIT,o,i,s=null){this.setDomain(e),s&&(this.userKey=s);try{this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n,this.attestationRequestWithUsage=i,this.jsonEncoding=await this.makeToken(o,i)}catch(a){throw(0,Ro.logger)(ua.DEBUGLEVEL.LOW,a),new Error("Could not encode object")}try{this.fillJsonData(this.jsonEncoding)}catch{throw new Error("Could not decode object")}}Eip712AttestationRequestWithUsage(e,t,n,o){try{this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n,this.jsonEncoding=o,this.fillJsonData(this.jsonEncoding)}catch(i){throw(0,Ro.logger)(ua.DEBUGLEVEL.LOW,i),new Error("Could not decode object")}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let t=JSON.parse(e),n=t.signatureInHex,o=JSON.parse(t.jsonSigned);this.eip712DomainData=o.domain,this.data=o.message;try{let i=w1.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,n);this.userPublicKey=SN.KeyPair.fromPublicHex(i.substr(2)),(0,Ro.logger)(ua.DEBUGLEVEL.HIGH,"Eip712 withUsage restored address: "+this.userPublicKey.getAddress())}catch(i){let s="Recover Address failed with error:"+i;throw(0,Ro.logger)(ua.DEBUGLEVEL.LOW,s,i),new Error(s)}this.attestationRequestWithUsage||(this.attestationRequestWithUsage=EN.AttestationRequestWithUsage.fromBytes((0,Ro.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,t){this.userKey||await w1.SignatureUtility.connectMetamaskAndGetAddress();let n=new wi.Timestamp().getTimeAsString(),o=new wi.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString(),i={payload:(0,Ro.hexStringToBase64Url)(t.getDerEncoding()),description:this.Eip712UserDataDescription,timestamp:n,identifier:e,expirationTime:o};return await w1.SignatureUtility.signEIP712WithBrowserWallet(this.domain,i,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}getIdentifier(){return this.data.identifier}getUserPublicKey(){return this.userPublicKey}getPok(){return this.attestationRequestWithUsage.getPok()}getType(){return this.attestationRequestWithUsage.getType()}getSessionPublicKey(){return this.attestationRequestWithUsage.getSessionPublicKey()}getJsonEncoding(){return this.jsonEncoding}checkValidity(){return!!this.testNonceAndDescription(this.acceptableTimeLimit)}checkTokenValidity(){let e=new wi.Timestamp(this.data.timestamp);return e.setValidity(this.maxTokenValidityInMs),e.validateAgainstExpiration(wi.Timestamp.stringTimestampToLong(this.data.expirationTime))?!!this.testNonceAndDescription(this.maxTokenValidityInMs):((0,Ro.logger)(ua.DEBUGLEVEL.LOW,"time.validateAgainstExpiration filed"),!1)}testNonceAndDescription(e){if(!e)throw new Error("timeLimit required");let t=wi.Timestamp.stringTimestampToLong(this.data.timestamp)-e,n=wi.Timestamp.stringTimestampToLong(this.data.timestamp)+e;return new _N.Nonce().validateNonce(this.attestationRequestWithUsage.getPok().getNonce(),this.userPublicKey.getAddress(),this.domain,t,n)?this.validateDomain(this.eip712DomainData)?this.data.description===this.Eip712UserDataDescription:((0,Ro.logger)(ua.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1):!1}verify(){return!!this.attestationRequestWithUsage.verify()}}bh.Eip712AttestationRequestWithUsage=TN;Object.defineProperty(v0,"__esModule",{value:!0});v0.Authenticator=void 0;const A1=$c,hs=Cn,Ze=Ot(),E1=Ef,P2=Yc,Nl=gi(),MN=Xc,S1=ea,I2=el,PN=Sf,_1=Mo,IN=rl,C2=gh,k1=bh,CN=il,xt=Kt,BN=tl;typeof crypto=="object"&&crypto.subtle||mo.webcrypto.subtle;class vn{static decodePublicKey(e){return hs.KeyPair.publicFromBase64orPEM(e)}static async getUseTicket(e,t,n,o,i,s){let a,l;try{s=hs.KeyPair.parseKeyArrayStrings(s)}catch(u){throw(0,Ze.logger)(xt.DEBUGLEVEL.LOW,u),new Error("Issuer key error")}if(!n)throw new Error("Ticket is empty");if(a=A1.Ticket.fromBase64(n,s),!a.checkValidity())throw(0,Ze.logger)(xt.DEBUGLEVEL.LOW,"Could not validate ticket"),new Error("Ticket Validation failed");if(!a.verify())throw(0,Ze.logger)(xt.DEBUGLEVEL.LOW,"Could not verify ticket"),new Error("Ticket Verification failed");if((0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,"ticked valid (signature OK)"),!i)throw new Error("Attesator key not defined");let f;try{f=hs.KeyPair.publicFromBase64orPEM(i)}catch{throw new Error("Attesator key read error")}try{l=E1.SignedIdentifierAttestation.fromBytes((0,Ze.base64ToUint8array)(o),f)}catch{throw new Error("IDAttestation decode error")}if(!l.checkValidity())throw new Error("IDAttestation Validation failed");if(!l.verify())throw new Error("IDAttestation Verification failed");(0,Ze.logger)(xt.DEBUGLEVEL.HIGH,"attestation valid");try{let u=new P2.AttestedObject;u.create(a,l,BigInt(t),BigInt(e));let p=u.getDerEncoding();return(0,Ze.logger)(xt.DEBUGLEVEL.HIGH,p),(0,Ze.hexStringToBase64)(p)}catch(u){throw(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,"getUseTicket: redeem failed",u),new Error("Attestation doesnt fit Ticket: "+u.message)}}static validateUseTicket(e,t,n,o){let i=hs.KeyPair.publicFromBase64orPEM(t),s=hs.KeyPair.parseKeyArrayStrings(n);try{let a=P2.AttestedObject.fromBytes((0,Ze.base64ToUint8array)(e),BN.UseToken,i,A1.Ticket,s);if((0,Ze.logger)(xt.DEBUGLEVEL.LOW,"Verified attested object"),!a.checkValidity(o))throw new Error("Ticket validity check failed!");return a}catch(a){let l="Ticket proof validation failed! "+a.message;throw(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,l),new Error(l)}}static async requestAttest(e,t,n,o,i=null){let s=new Nl.AttestationCrypto,a;if(i)a=i.getAddress();else try{a=await _1.SignatureUtility.connectMetamaskAndGetAddress()}catch(T){(0,Ze.logger)(xt.DEBUGLEVEL.LOW,"Cant find user Ethereum Address. Please check Metamask. "+T),(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,T);return}let l=await S1.Nonce.makeNonce(a,n);(0,Ze.logger)(xt.DEBUGLEVEL.HIGH,"nonce = "+(0,Ze.uint8tohex)(l));let f=s.computeAttestationProof(o,l),u=MN.AttestationRequest.fromData(s.getType(t),f),p=new I2.Eip712AttestationRequest(i);return await p.addData(n,void 0,e,u),vn.checkAttestRequestVerifiability(p),vn.checkAttestRequestValidity(p),p.getJsonEncoding()}static constructAttest(e,t,n,o,i,s=""){let a,l=new Nl.AttestationCrypto,f,u;try{f=new I2.Eip712AttestationRequest,f.setDomain(i),s&&f.setUsageValue(s),f.fillJsonData(o),vn.checkAttestRequestVerifiability(f),vn.checkAttestRequestValidity(f)}catch(T){let I="Failed to fill attestation data from json. "+T+`
Restores as an Eip712AttestationRequestWithUsage object instead`;(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,I);try{f=new k1.Eip712AttestationRequestWithUsage,f.setDomain(i),f.fillJsonData(o),vn.checkAttestRequestVerifiability(f),vn.checkAttestRequestValidity(f)}catch(B){let P="Failed to parse Eip712AttestationRequestWithUsage. "+B;throw(0,Ze.logger)(xt.DEBUGLEVEL.LOW,P),(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,B),new Error(P)}}u=l.makeCommitmentFromHiding(f.getIdentifier(),f.getType(),f.getPok().getRiddle()),a=new PN.IdentifierAttestation,a.fromCommitment(u,f.getUserPublicKey()),a.setIssuer("CN="+t),a.setSerialNumber(Math.round(Math.random()*Number.MAX_SAFE_INTEGER));let p=Date.now();return a.setNotValidBefore(p),a.setNotValidAfter(p+n),E1.SignedIdentifierAttestation.fromData(a,e).getDerEncoding()}static async useAttest(e,t,n,o,i,s,a=null,l=null){const f=(0,Ze.base64ToUint8array)(e);let u=E1.SignedIdentifierAttestation.fromBytes(f,n),p=(0,Ze.base64ToUint8array)(t),_=(0,Ze.uint8ToBn)(p.slice(4)),T=new Nl.AttestationCrypto,I;l?I=l.getAddress():I=await _1.SignatureUtility.connectMetamaskAndGetAddress();let B=await S1.Nonce.makeNonce(I,s),P=T.computeAttestationProof(_,B);try{let C=IN.UseAttestation.fromData(u,T.getType(i),P,a),L=new C2.Eip712AttestationUsage(l),j=await L.addData(s,o,C);return(0,Ze.logger)(xt.DEBUGLEVEL.HIGH,"usageRequest ready state = "+j),(0,Ze.logger)(xt.DEBUGLEVEL.HIGH,"usageRequest.getJsonEncoding() = "+L.getJsonEncoding()),L.getJsonEncoding()}catch(C){(0,Ze.logger)(xt.DEBUGLEVEL.LOW,C)}}static checkAttestRequestVerifiability(e){if(!e.verify())throw(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,"Could not verify attestation signing request"),new Error("Verification failed")}static checkAttestRequestValidity(e){if(!e.checkValidity())throw(0,Ze.logger)(xt.DEBUGLEVEL.HIGH,"Could not validate attestation signing request"),new Error("Validation failed")}static checkUsageVerifiability(e){if(!e.verify())throw(0,Ze.logger)(xt.DEBUGLEVEL.LOW,"Could not verify usage request"),new Error("Verification failed")}static checkUsageValidity(e){if(!e.checkTokenValidity())throw(0,Ze.logger)(xt.DEBUGLEVEL.LOW,"Could not validate usage request"),new Error("Validation failed")}static async verifyUsage(e,t,n,o,i){let s;try{let a=new C2.Eip712AttestationUsage;a.setDomain(o),a.fillJsonData(e,t),vn.checkUsageVerifiability(a),vn.checkUsageValidity(a),s=a.getSessionPublicKey()}catch(a){(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,"Eip712AttestationUsage failed. "+a+". Lets try to verify Eip712AttestationRequestWithUsage");let l=new k1.Eip712AttestationRequestWithUsage;l.setDomain(o),l.fillJsonData(e),vn.checkUsageVerifiability(l),vn.checkUsageValidity(l),s=l.getSessionPublicKey(),(0,Ze.logger)(xt.DEBUGLEVEL.HIGH,"sessionPublicKey from Eip712AttestationRequestWithUsage = "+s.getAddress())}try{if(!await s.verifyStringWithSubtle(hs.KeyPair.anySignatureToRawUint8(i),n))throw(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,"Could not verify message signature"),new Error("Signature verification failed");return"SUCCESSFULLY validated usage request!"}catch(a){let l="Cant verify session with subtle. "+a;(0,Ze.logger)(xt.DEBUGLEVEL.LOW,l),(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,a)}}static async requestAttestAndUsage(e,t,n,o,i,s){try{let a=(0,Ze.uint8ToBn)((0,Ze.base64ToUint8array)(i)),l;e?l=e.getAddress():l=await _1.SignatureUtility.connectMetamaskAndGetAddress();let f=await S1.Nonce.makeNonce(l,o,new Uint8Array(0),Date.now()),u=new Nl.AttestationCrypto,p=u.computeAttestationProof(a,f),_=CN.AttestationRequestWithUsage.fromData(u.getType(n),p,s),T=new k1.Eip712AttestationRequestWithUsage(e);return await T.fromData(o,void 0,void 0,t,_),(0,Ze.logger)(xt.DEBUGLEVEL.HIGH,"request.getJsonEncoding() = "+T.getJsonEncoding()),T.getJsonEncoding()}catch(a){let l="requestAttestAndUsage error. "+a;(0,Ze.logger)(xt.DEBUGLEVEL.LOW,l),(0,Ze.logger)(xt.DEBUGLEVEL.MEDIUM,a)}}static validateTicket(e,t,n){let o={};try{o[t]=hs.KeyPair.parseKeyArrayStrings({[t]:n})[t]}catch{return{valid:!1,massage:"Broken Public Key"}}let i;try{i=A1.Ticket.fromBase64(e,o)}catch(s){return(0,Ze.logger)(xt.DEBUGLEVEL.LOW,s),{valid:!1,massage:"Wrong Ticket"}}return{valid:!0,ticketId:i.getTicketId(),ticketClass:i.getTicketClass()}}}v0.Authenticator=vn;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AttestationCrypto=r.Eip712AttestationRequest=r.Authenticator=void 0;var e=v0;Object.defineProperty(r,"Authenticator",{enumerable:!0,get:function(){return e.Authenticator}});var t=el;Object.defineProperty(r,"Eip712AttestationRequest",{enumerable:!0,get:function(){return t.Eip712AttestationRequest}});var n=gi();Object.defineProperty(r,"AttestationCrypto",{enumerable:!0,get:function(){return n.AttestationCrypto}})})(b0);var yh=function(){function r(e){this.client=e}return r.prototype.saveProof=function(e,t){var n=this.getProofs();n[this.getFullKey(e)]=t,localStorage.setItem(r.STORAGE_KEY,JSON.stringify(n))},r.prototype.getSavedProof=function(e){var t=this.getProofs(),n=this.getFullKey(e);return t[n]?t[n]:null},r.prototype.deleteProof=function(e){var t=this.getProofs(),n=this.getFullKey(e);t[n]&&delete t[n],localStorage.setItem(r.STORAGE_KEY,JSON.stringify(t))},r.prototype.getFullKey=function(e){return this.TYPE+"-"+e.toLowerCase()},r.prototype.getProofs=function(){var e=localStorage.getItem(r.STORAGE_KEY);return e&&e.length?JSON.parse(e):{}},r.STORAGE_KEY="tn-proof",r}(),yb={},xh={};Object.defineProperty(xh,"__esModule",{value:!0});let wp;if(typeof crypto=="object"&&crypto.subtle)wp=crypto.subtle;else{let r=mo.webcrypto;if(r)wp=r.subtle;else throw new Error("webcrypto.subtle missing")}xh.default=wp;Object.defineProperty(yb,"__esModule",{value:!0});var xb=yb.KeyStore=void 0;const B2=Ot(),O2=xh;class Yn{async getOrCreateKey(e,t){let n,o,i=e+(t?"-"+t:"");try{return n=await this.getKey(i),n?o=(0,B2.hexStringToUint8)(n.spki):(n=await O2.default.generateKey({name:e,modulusLength:1024,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]),o=new Uint8Array(await O2.default.exportKey("spki",n.publicKey)),await this.saveKey(i,n.privateKey,n.publicKey,(0,B2.uint8tohex)(o))),{attestHoldingKey:n,holdingPubKey:o}}catch(s){throw console.log("Failed to create attestor keypair: "+s.message),s}}async getKey(e){return new Promise(async(t,n)=>{try{this.getDb().then(o=>{let a=o.transaction(Yn.TABLE_NAME,"readwrite").objectStore(Yn.TABLE_NAME).get(e);a.onsuccess=()=>{t(a.result),o.close()},a.onerror=l=>{n(l)}})}catch(o){console.log(o),n(o.message)}})}async saveKey(e,t,n,o){try{let i=await this.getDb(),a=i.transaction(Yn.TABLE_NAME,"readwrite").objectStore(Yn.TABLE_NAME),l={id:e,privateKey:t,publicKey:n,spki:o},f=a.put(l);f.onsuccess=()=>{i.close()}}catch(i){console.log("Failed to store key"+i.message)}}async getDb(){return new Promise(function(e,t){let n=indexedDB.open(Yn.DB_NAME,1);n.onupgradeneeded=function(o){let i=o.target.result;i.objectStoreNames.contains(Yn.TABLE_NAME)||i.createObjectStore(Yn.TABLE_NAME,{keyPath:"id"})},n.onsuccess=function(o){let i=o.target.result;e(i)},n.onerror=function(o){t("Error opening database "+o.target.errorCode)}})}}xb=yb.KeyStore=Yn;Yn.DB_NAME="AttestationKeyStore";Yn.TABLE_NAME="Keys";var ON=Ot(),wb={},Vi={},$s={},Po={},c5=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Po,"__esModule",{value:!0});Po.EpochTimeValidity=void 0;const Uu=Nt;class Ab{}c5([(0,Uu.AsnProp)({type:Uu.AsnPropTypes.Integer})],Ab.prototype,"notBefore",void 0);c5([(0,Uu.AsnProp)({type:Uu.AsnPropTypes.Integer})],Ab.prototype,"notAfter",void 0);Po.EpochTimeValidity=Ab;var ta=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty($s,"__esModule",{value:!0});$s.NFTOwnershipAttestation=$s.ERC721=void 0;const kn=Nt,RN=Po;class ol{}ta([(0,kn.AsnProp)({type:kn.AsnPropTypes.OctetString})],ol.prototype,"address",void 0);ta([(0,kn.AsnProp)({type:kn.AsnPropTypes.Integer})],ol.prototype,"chainId",void 0);ta([(0,kn.AsnProp)({type:kn.AsnPropTypes.OctetString,optional:!0,repeated:"sequence"})],ol.prototype,"tokenIds",void 0);$s.ERC721=ol;class sl{constructor(){this.tokens=[]}}ta([(0,kn.AsnProp)({type:kn.AsnPropTypes.Any})],sl.prototype,"subjectPublicKey",void 0);ta([(0,kn.AsnProp)({type:ol,repeated:"sequence"})],sl.prototype,"tokens",void 0);ta([(0,kn.AsnProp)({type:RN.EpochTimeValidity})],sl.prototype,"validity",void 0);ta([(0,kn.AsnProp)({type:kn.AsnPropTypes.OctetString,optional:!0})],sl.prototype,"context",void 0);$s.NFTOwnershipAttestation=sl;var al={},wh=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(al,"__esModule",{value:!0});al.EthereumAddressAttestation=void 0;const Vs=Nt,NN=Po;class fl{}wh([(0,Vs.AsnProp)({type:Vs.AsnPropTypes.Any})],fl.prototype,"subjectPublicKey",void 0);wh([(0,Vs.AsnProp)({type:Vs.AsnPropTypes.OctetString})],fl.prototype,"ethereumAddress",void 0);wh([(0,Vs.AsnProp)({type:NN.EpochTimeValidity})],fl.prototype,"validity",void 0);wh([(0,Vs.AsnProp)({type:Vs.AsnPropTypes.OctetString,optional:!0})],fl.prototype,"context",void 0);al.EthereumAddressAttestation=fl;var kf=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.SignedLinkedAttestation=Vi.LinkedAttestation=void 0;const Qo=Nt,LN=Cr,UN=$s,DN=al;let rf=class{};kf([(0,Qo.AsnProp)({type:UN.NFTOwnershipAttestation,context:0})],rf.prototype,"nftOwnership",void 0);kf([(0,Qo.AsnProp)({type:DN.EthereumAddressAttestation,context:1})],rf.prototype,"ethereumAddress",void 0);rf=kf([(0,Qo.AsnType)({type:Qo.AsnTypeTypes.Choice})],rf);Vi.LinkedAttestation=rf;class Ah{}kf([(0,Qo.AsnProp)({type:rf})],Ah.prototype,"attestation",void 0);kf([(0,Qo.AsnProp)({type:LN.AlgorithmIdentifierASN})],Ah.prototype,"signingAlgorithm",void 0);kf([(0,Qo.AsnProp)({type:Qo.AsnPropTypes.BitString})],Ah.prototype,"signatureValue",void 0);Vi.SignedLinkedAttestation=Ah;var js={},ra=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(js,"__esModule",{value:!0});js.SignedEthereumKeyLinkingAttestation=js.EthereumKeyLinkingAttestation=void 0;const ji=Nt,FN=Po,$N=Cr,VN=Vi;class Tf{}ra([(0,ji.AsnProp)({type:ji.AsnPropTypes.OctetString})],Tf.prototype,"subjectEthereumAddress",void 0);ra([(0,ji.AsnProp)({type:VN.SignedLinkedAttestation})],Tf.prototype,"linkedAttestation",void 0);ra([(0,ji.AsnProp)({type:FN.EpochTimeValidity})],Tf.prototype,"validity",void 0);ra([(0,ji.AsnProp)({type:ji.AsnPropTypes.OctetString,optional:!0})],Tf.prototype,"context",void 0);js.EthereumKeyLinkingAttestation=Tf;class Eh{}ra([(0,ji.AsnProp)({type:Tf})],Eh.prototype,"ethereumKeyLinkingAttestation",void 0);ra([(0,ji.AsnProp)({type:$N.AlgorithmIdentifierASN})],Eh.prototype,"signingAlgorithm",void 0);ra([(0,ji.AsnProp)({type:ji.AsnPropTypes.BitString})],Eh.prototype,"signatureValue",void 0);js.SignedEthereumKeyLinkingAttestation=Eh;var Sh={},cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.AbstractLinkedAttestation=void 0;const Ll=Nt,jN=Vi,Ul=Ot(),T1=W0,qN=Cr;class HN{fromObject(e){this.linkedAttestation=e}fromBytes(e){this.linkedAttestation=Ll.AsnParser.parse(e,jN.SignedLinkedAttestation)}fromBase64(e){this.fromBytes((0,Ul.base64ToUint8array)(e))}getAttestationData(){return this.linkedAttestation.attestation[this.TYPE]}getSubjectPublicKey(){return this.getAttestationData().subjectPublicKey}getEncoded(){return new Uint8Array(Ll.AsnSerializer.serialize(this.linkedAttestation))}getBase64(){return(0,Ul.uint8arrayToBase64)(this.getEncoded())}sign(e){const t=Ll.AsnSerializer.serialize(this.linkedAttestation.attestation[this.TYPE]);this.linkedAttestation.signingAlgorithm=new qN.AlgorithmIdentifierASN,this.linkedAttestation.signingAlgorithm.algorithm="1.2.840.10045.4.2",this.linkedAttestation.signatureValue=(0,Ul.hexStringToUint8)(e.signRawBytesWithEthereum(Array.from(new Uint8Array(t))))}verify(e){const t=Ll.AsnSerializer.serialize(this.getAttestationData());let n=(0,Ul.hexStringToUint8)(T1.ethers.utils.keccak256(new Uint8Array(t))),o=T1.ethers.utils.recoverPublicKey(n,T1.ethers.utils.splitSignature(new Uint8Array(this.linkedAttestation.signatureValue)));if(o.substring(2)!==e.getPublicKeyAsHexStr())throw new Error("Attestor public key does not match, expected "+e.getPublicKeyAsHexStr()+" got "+o.substring(2));let i=Math.round(Date.now()/1e3),s=this.getAttestationData();if(s.validity.notBefore>i)throw new Error("Linked attestation is not yet valid");if(s.validity.notAfter<i)throw new Error("Linked attestation has expired")}}cl.AbstractLinkedAttestation=HN;Object.defineProperty(Sh,"__esModule",{value:!0});Sh.EthereumAddressAttestation=void 0;const GN=cl,R2=Vi,KN=al,zN=Po,WN=Ot();class JN extends GN.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="ethereumAddress"}create(e,t,n,o,i,s){this.linkedAttestation=new R2.SignedLinkedAttestation,this.linkedAttestation.attestation=new R2.LinkedAttestation,this.linkedAttestation.attestation.ethereumAddress=new KN.EthereumAddressAttestation,this.linkedAttestation.attestation.ethereumAddress.subjectPublicKey=e,s||(s=Math.round(Date.now()/1e3));const a=s+o;this.linkedAttestation.attestation.ethereumAddress.validity=new zN.EpochTimeValidity,this.linkedAttestation.attestation.ethereumAddress.validity.notBefore=s,this.linkedAttestation.attestation.ethereumAddress.validity.notAfter=a,this.linkedAttestation.attestation.ethereumAddress.ethereumAddress=(0,WN.hexStringToUint8)(t),i&&(this.linkedAttestation.attestation.ethereumAddress.context=i),this.sign(n)}}Sh.EthereumAddressAttestation=JN;var _h={};Object.defineProperty(_h,"__esModule",{value:!0});_h.NFTOwnershipAttestation=void 0;const QN=cl,N2=Vi,L2=$s,YN=Po,U2=Ot();class ZN extends QN.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="nftOwnership"}create(e,t,n,o,i,s){this.linkedAttestation=new N2.SignedLinkedAttestation,this.linkedAttestation.attestation=new N2.LinkedAttestation,this.linkedAttestation.attestation.nftOwnership=new L2.NFTOwnershipAttestation,this.linkedAttestation.attestation.nftOwnership.subjectPublicKey=e,s||(s=Math.round(Date.now()/1e3));const a=s+o;this.linkedAttestation.attestation.nftOwnership.validity=new YN.EpochTimeValidity,this.linkedAttestation.attestation.nftOwnership.validity.notBefore=s,this.linkedAttestation.attestation.nftOwnership.validity.notAfter=a;for(let l of t){let f=new L2.ERC721;if(f.address=(0,U2.hexStringToUint8)(l.address),f.chainId=l.chainId,l.tokenIds){f.tokenIds=[];for(let u of l.tokenIds)f.tokenIds.push((0,U2.bnToUint8)(u))}this.linkedAttestation.attestation.nftOwnership.tokens.push(f)}i&&(this.linkedAttestation.attestation.nftOwnership.context=i),this.sign(n)}}_h.NFTOwnershipAttestation=ZN;Object.defineProperty(wb,"__esModule",{value:!0});var l5=wb.EthereumKeyLinkingAttestation=void 0;const XN=Vi,D2=js,Gf=Nt,Dl=Ot(),eL=Po,tL=js,rL=Cr,nL=Sh,iL=_h,M1=xh,P1="RSASSA-PKCS1-v1_5";class oL{create(e,t,n,o,i){let s=Gf.AsnParser.parse((0,Dl.base64ToUint8array)(e),XN.SignedLinkedAttestation);this.linkAttest=new D2.SignedEthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation=new tL.EthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation.subjectEthereumAddress=(0,Dl.hexStringToUint8)(t),this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation=s,i||(i=Math.round(Date.now()/1e3));const a=i+n;this.linkAttest.ethereumKeyLinkingAttestation.validity=new eL.EpochTimeValidity,this.linkAttest.ethereumKeyLinkingAttestation.validity.notBefore=i,this.linkAttest.ethereumKeyLinkingAttestation.validity.notAfter=a,o||(this.linkAttest.ethereumKeyLinkingAttestation.context=o)}async sign(e){const t=Gf.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),n=await M1.default.sign({name:P1,saltLength:128},e,t);this.linkAttest.signingAlgorithm=new rL.AlgorithmIdentifierASN,this.linkAttest.signingAlgorithm.algorithm="1.2.840.113549.1.1.11",this.linkAttest.signatureValue=new Uint8Array(n)}fromBytes(e){this.linkAttest=Gf.AsnParser.parse(e,D2.SignedEthereumKeyLinkingAttestation)}fromBase64(e){this.fromBytes((0,Dl.base64ToUint8array)(e))}getEncoded(){return new Uint8Array(Gf.AsnSerializer.serialize(this.linkAttest))}getBase64(){return(0,Dl.uint8arrayToBase64)(this.getEncoded())}getAttestation(){return this.linkAttest}getSignedLinkedAttestation(){return this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation}getLinkedAttestationData(){const e=this.getSignedLinkedAttestation();return e.attestation.ethereumAddress??e.attestation.nftOwnership}getLinkedAttestationObject(){const e=this.getSignedLinkedAttestation();let t;return e.attestation.ethereumAddress?(t=new nL.EthereumAddressAttestation,t.fromObject(e)):(t=new iL.NFTOwnershipAttestation,t.fromObject(e)),t}async verify(e){let t=this.getLinkedAttestationObject();t.verify(e);let n=t.getSubjectPublicKey();const o=Gf.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),i=await M1.default.importKey("spki",new Uint8Array(n),{name:P1,hash:{name:"SHA-256"}},!0,["verify"]);if(!await M1.default.verify({name:P1,saltLength:128},i,this.linkAttest.signatureValue,o))throw new Error("Signature verification failed");let a=Math.round(Date.now()/1e3),l=this.linkAttest.ethereumKeyLinkingAttestation;if(l.validity.notBefore>a)throw new Error("Linked attestation is not yet valid");if(l.validity.notAfter<a)throw new Error("Linked attestation has expired")}}l5=wb.EthereumKeyLinkingAttestation=oL;var ha=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},da=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ya=function(){function r(){}return r.getLinkPrivateKey=function(){return ha(this,void 0,void 0,function(){var e;return da(this,function(t){switch(t.label){case 0:return[4,r.keyStore.getOrCreateKey(r.HOLDING_KEY_ALGORITHM)];case 1:return e=t.sent(),[2,e.attestHoldingKey.privateKey]}})})},r.getLinkPublicKey=function(){return ha(this,void 0,void 0,function(){var e;return da(this,function(t){switch(t.label){case 0:return[4,r.keyStore.getOrCreateKey(r.HOLDING_KEY_ALGORITHM)];case 1:return e=t.sent(),[2,ON.uint8tohex(e.holdingPubKey)]}})})},r.getChallenge=function(e,t){return ha(this,void 0,void 0,function(){var n;return da(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.apiRequest(e,"POST","get-challenge",{address:t})];case 1:return[2,o.sent()];case 2:throw n=o.sent(),new Error("Failed to get address challenge: "+n.message);case 3:return[2]}})})},r.getAttestation=function(e,t){return ha(this,void 0,void 0,function(){var n;return da(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.apiRequest(e,"POST","issue-attestation",t)];case 1:return[2,o.sent()];case 2:throw n=o.sent(),new Error("Failed to get address attestation: "+n.message);case 3:return[2]}})})},r.apiRequest=function(e,t,n,o){return ha(this,void 0,void 0,function(){var i,s;return da(this,function(a){switch(a.label){case 0:return[4,fetch(e+"api/"+n,{method:t,body:JSON.stringify(o),credentials:"include",headers:{"Content-Type":"application/json"}})];case 1:if(i=a.sent(),!(i.status>299||i.status<200))return[3,6];s=void 0,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,i.json()];case 3:return s=a.sent().error,[3,5];case 4:return a.sent(),s="HTTP Request error: "+i.statusText,[3,5];case 5:throw new Error(s);case 6:return[4,i.json()];case 7:return[2,a.sent()]}})})},r.createAndSignLinkAttestation=function(e,t,n){return ha(this,void 0,void 0,function(){var o;return da(this,function(i){switch(i.label){case 0:return o=new l5,o.create(e,t,3600+600,void 0,Math.round(Date.now()/1e3)-600),[4,o.sign(n)];case 1:return i.sent(),[2,o.getBase64()]}})})},r.HOLDING_KEY_ALGORITHM="RSASSA-PKCS1-v1_5",r.keyStore=new xb,r}(),sL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ap=globalThis&&globalThis.__assign||function(){return Ap=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Ap.apply(this,arguments)},aL=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},fL=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},cL=function(r){sL(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="attestedAddress",t}return e.prototype.getTokenProof=function(t,n,o){var i,s;return aL(this,void 0,void 0,function(){var a,l,f,u,p,_,T,I,B,P,C,L,j;return fL(this,function(z){switch(z.label){case 0:return[4,this.client.getWalletProvider()];case 1:if(a=z.sent(),!a.safeConnectAvailable())throw new Error("Safe connect is not available");if(!t.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");if(!(!((i=o.options)===null||i===void 0)&&i.address))throw new Error("Address attestation requires a secondary address.");return l=a.getConnectedWalletData()[0],f=this.getSavedProof(l.address),((s=f?.data)===null||s===void 0?void 0:s.expiry)<Date.now()&&(this.deleteProof(l.address),f=null),f?[3,9]:l.provider instanceof kh?[4,l.provider.initSafeConnect()]:[3,3];case 2:return z.sent(),f=this.getSavedProof(l.address),[3,8];case 3:return[4,ya.getChallenge(a.safeConnectOptions.url,l.address)];case 4:return u=z.sent(),[4,a.signMessage(l.address,u.messageToSign)];case 5:return p=z.sent(),j={type:"address_attest"},[4,ya.getLinkPublicKey()];case 6:return _=(j.subject=z.sent(),j.address=l.address,j.signature=p,j),[4,ya.getAttestation(a.safeConnectOptions.url,_)];case 7:T=z.sent(),f={type:this.TYPE,data:Ap({expiry:T.expiry},T.data),target:{address:T.data.address}},this.saveProof(T.data.address,f),z.label=8;case 8:if(!f)throw new Error("Could not get address attestation from safe connect");z.label=9;case 9:return I=f.data.attestation,B=f.data,C=(P=ya).createAndSignLinkAttestation,L=[I,o.options.address],[4,ya.getLinkPrivateKey()];case 10:return[4,C.apply(P,L.concat([z.sent()]))];case 11:return B.attestation=z.sent(),[2,f]}})})},e}(yh),lL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uL=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},hL=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},dL=function(r){lL(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="scChallenge",t}return e.prototype.getTokenProof=function(t,n,o){return uL(this,void 0,void 0,function(){var i,s,a,l,f;return hL(this,function(u){switch(u.label){case 0:return[4,this.client.getWalletProvider()];case 1:if(i=u.sent(),!i.safeConnectAvailable())throw new Error("Safe connect is not available");if(!t.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");return s=i.getConnectedWalletData()[0].address,a=this.getSavedProof(s),a.data.expiry<Date.now()&&(this.deleteProof(s),a=null),[4,i.getSafeConnectProvider()];case 2:return l=u.sent(),a?[3,5]:(f=i.getConnectedWalletData()[0].provider,f instanceof kh?[4,l.initSafeConnect()]:[3,4]);case 3:if(u.sent(),a=this.getSavedProof(s),!a)throw new Error("Could not get proof from safe connect");return[3,5];case 4:throw new Error("Only safe connect supports this authentication type at this time");case 5:return[2,a]}})})},e}(yh),Ep=globalThis&&globalThis.__assign||function(){return Ep=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Ep.apply(this,arguments)},I1=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},C1=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Bc;(function(r){r.CONNECT="connect",r.NEW_CHALLENGE="new_challenge"})(Bc||(Bc={}));var kh=function(){function r(e,t){this.keyStore=new xb,this.messaging=new Qp,this.ui=e,this.options=t}return r.prototype.initSafeConnect=function(){var e;return I1(this,void 0,void 0,function(){var t,n,o,i,s;return C1(this,function(a){switch(a.label){case 0:return o=(n=this.messaging).sendMessage,s={action:Bc.CONNECT,origin:this.options.url,timeout:0},[4,this.getInitialProofRequest()];case 1:return[4,o.apply(n,[(s.data=a.sent(),s),!0,this.ui])];case 2:return t=a.sent(),t?this.options.initialProof?(i=t.data,this.processProofResult(i),[2,(e=i.data)===null||e===void 0?void 0:e.address]):[2,t.data.address]:[2]}})})},r.prototype.processProofResult=function(e){var t,n;switch(this.options.initialProof){case"address_attest":t=new cL,n={type:t.TYPE,data:Ep({expiry:e.expiry},e.data),target:{address:e.data.address}},t.saveProof(e.data.address,n);break;case"simple_challenge":t=new dL,n={type:t.TYPE,data:e.data,target:{address:e.data.address}};break}t.saveProof(e.data.address,n)},r.prototype.getInitialProofRequest=function(){return I1(this,void 0,void 0,function(){var e,t;return C1(this,function(n){switch(n.label){case 0:return e={},this.options.initialProof?(e.type=this.options.initialProof,this.options.initialProof==="simple_challenge"?[3,2]:(t=e,[4,ya.getLinkPublicKey()])):[2];case 1:t.subject=n.sent(),n.label=2;case 2:return[2,e]}})})},r.prototype.signUNChallenge=function(e){return I1(this,void 0,void 0,function(){var t;return C1(this,function(n){switch(n.label){case 0:return[4,this.messaging.sendMessage({action:Bc.CONNECT,origin:this.options.url,timeout:0,data:{type:"signed_un",un:encodeURIComponent(JSON.stringify(e))}},!0,this.ui)];case 1:return t=n.sent(),t?[2,t.data.data.signature]:[2]}})})},r}();const _D=Object.freeze(Object.defineProperty({__proto__:null,get SafeConnectAction(){return Bc},SafeConnectProvider:kh},Symbol.toStringTag,{value:"Module"}));var F2=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},$2=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},B1=function(){function r(){}return r.getNewUN=function(e){return F2(this,void 0,void 0,function(){var t,n;return $2(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch(e)];case 1:return t=o.sent(),[4,t.json()];case 2:return[2,o.sent()];case 3:throw n=o.sent(),new Error("Failed to fetch UN challenge: "+n.message);case 4:return[2]}})})},r.recoverAddress=function(e){if(!e.signature)throw new Error("Null signature");var t=Nc(e.messageToSign),n=he(t);return Ks(n,e.signature).toLowerCase()},r.validateChallenge=function(e,t){return F2(this,void 0,void 0,function(){var n,o;return $2(this,function(i){switch(i.label){case 0:return[4,fetch(e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)})];case 1:return n=i.sent(),[4,n.json()];case 2:return o=i.sent(),[2,o.address]}})})},r}(),pL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gL=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},bL=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},u5=function(r){pL(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="signedUN",t}return e.prototype.getTokenProof=function(t,n,o){var i,s;return gL(this,void 0,void 0,function(){var a,l,f,u,p,_,T,I,B;return bL(this,function(P){switch(P.label){case 0:return[4,this.client.getWalletProvider()];case 1:if(a=P.sent(),a.getConnectedWalletData().length===0)throw new Error("WALLET_REQUIRED");return l=a.getConnectedWalletData()[0].address,f=this.getSavedProof(l),f&&(u=f?.data,(u.expiration<Date.now()||B1.recoverAddress(u)!==l.toLowerCase())&&(this.deleteProof(l),f=null)),f?[3,7]:(p=a.getWalletProvider(l),f={type:this.TYPE,data:{},target:{address:l}},_=(s=(i=o.options)===null||i===void 0?void 0:i.unEndPoint)!==null&&s!==void 0?s:e.DEFAULT_ENDPOINT,[4,B1.getNewUN(_)]);case 2:return T=P.sent(),I=void 0,p instanceof kh?[4,p.signUNChallenge(T)]:[3,4];case 3:return I=P.sent(),[3,6];case 4:return[4,a.signMessage(l,T.messageToSign)];case 5:I=P.sent(),P.label=6;case 6:if(T.signature=I,B=B1.recoverAddress(T),B!==l.toLowerCase())throw new Error("Address signature is invalid");T.address=B,f.data=T,this.saveProof(l,f),P.label=7;case 7:return[2,f]}})})},e.DEFAULT_ENDPOINT="https://attestation-verify.tokenscript.org/un",e}(yh),Sp=globalThis&&globalThis.__assign||function(){return Sp=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Sp.apply(this,arguments)},vL=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},mL=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},h5=function(r,e){e===void 0&&(e=[]);var t=[];if(r.length&&typeof e=="object"&&Object.keys(e).length){var n=Object.keys(e);return r.forEach(function(o){var i=1;n.forEach(function(s){o[s]&&o[s].toString()!==e[s].toString()&&(i=0)}),i&&t.push(o)}),t}else return r},d5=function(r){var e=localStorage.getItem(r),t=[],n={tokens:[],noTokens:!0,success:!0};try{e&&e.length&&(t=JSON.parse(e),t.length!==0&&t.forEach(function(o){o.token&&o.secret&&n.tokens.push(o)}),n.tokens.length&&(n.noTokens=!1))}catch{n.success=!1}return n},p5=function(r,e,t,n){n===void 0&&(n=!1);var o=JSON.parse(r);return o.length?o.map(function(i){if(i.token){var s=new e(f3(i.token).buffer);if(s&&s[t]){var a=s[t];return a=g5(a),n?Sp({signedToken:i.token},a):a}}}):[]};function g5(r){return Object.keys(r).forEach(function(e){r[e]instanceof ArrayBuffer&&(r[e]=Array.from(new Uint8Array(r[e])))}),r}var yL=function(r,e){r&&localStorage.setItem(e,JSON.stringify(r))},xL=function(r,e,t,n,o){o===void 0&&(o=null),o===null&&(o=new URLSearchParams(window.location.search));var i=o.get(r),s=o.get(e),a=o.get(t),l=a||"";if(!(i&&s))throw new Error("Incomplete token params in URL.");var f=d5(n),u=!0,p=f.tokens.map(function(_){return _.token===i&&(u=!1),_});if(u)return p.push({token:i,secret:s,id:decodeURIComponent(l),magic_link:window.location.href}),p;throw new Error("Token already added.")},_p=function(r,e){return vL(void 0,void 0,void 0,function(){var t,n,o,i;return mL(this,function(s){return t=wL(r,e),t?(n=t.token,o=t.secret,i={ticketBlob:n,ticketSecret:o,attestationOrigin:e.attestationOrigin},t&&t.id&&(i.email=t.id),t&&t.magic_link&&(i.magicLink=t.magic_link),e.attestationInTab&&(i.attestationInTab=!0),[2,i]):[2,null]})})},wL=function(r,e){if(!(!r||!Object.keys(r).length)){var t=d5(e.itemStorageKey);if(t.success&&!t.noTokens){var n=t.tokens,o={};return n.length&&n.forEach(function(i){if(i.token){var s=e.tokenParser,a=new s(f3(i.token).buffer);if(a&&a[e.unsignedTokenDataName]){var l=a[e.unsignedTokenDataName];l=g5(l),hE(l,r)&&(o=i)}}}),o}return null}},V2=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},j2=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},eu=function(){function r(e,t,n,o,i,s,a,l){this.tokenDef=n,this.tokenObj=o,this.address=i,this.wallet=s,this.redirectUrl=a,this.unsignedToken=l,this.buttonOverlay=null,this.tryingToGetAttestationInBackground=!1,this.iframe=null,this.iframeWrap=null,this.attestationBlob=null,this.attestationSecret=null,this.wrapperBase="tn_attestation_open",this.interval=null,this.outlet=e,this.evtid=t,this.base64senderPublicKeys=n.base64senderPublicKeys,this.base64attestorPubKey=n.base64attestorPubKey,this.signedTokenBlob=o.ticketBlob,this.magicLink=o.magicLink,this.email=o.email,this.signedTokenSecret=o.ticketSecret,this.attestationOrigin=o.attestationOrigin,this.attestationInTab=o.attestationInTab}return r.prototype.openAttestationApp=function(){var e=this;if(this.attestationInTab&&!this.tryingToGetAttestationInBackground){Re(2,"display new TAB to attest, ask parent to show current iframe"),this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:ao.SHOW_FRAME,max_width:"500px",min_height:"300px"});var t;t=document.createElement("div"),t.classList.add(this.wrapperBase+"_btn"),t.innerHTML="Click to get Email Attestation",t.addEventListener("click",function(){e.attestationTabHandler=window.open(e.attestationOrigin,"Attestation"),t.remove();var i=e.buttonOverlay.querySelector("."+e.wrapperBase+"_title"),s=e.buttonOverlay.querySelector("."+e.wrapperBase+"_subtitle");i&&(i.innerHTML="Email Attestation verification in progress"),s&&(s.innerHTML="Please complete the verification process to continue"),e.interval=setInterval(function(){e.attestationTabHandler.closed&&(console.log("child tab closed... "),clearInterval(e.interval),e.rejectHandler(new Error("User closed TAB")))},2e3)});var n=this.wrapperBase+"_wrap_"+Date.now(),o=document.createElement("style");o.innerHTML=`
				#`.concat(n,` {
					width:100%;
					height: 100vh; 
					position: fixed; 
					align-items: center; 
					justify-content: center;
					display: flex;
					top: 0; 
					left: 0; 
					background: #000f;
					display: flex;
					flex-direction: column;
					padding: 30px;
				}
				#`).concat(n,` div:hover {
					box-shadow: 0 0px 14px #ffff !important;
				}
				#`).concat(n," .").concat(this.wrapperBase,`_content {
					color: #fff; 
					text-align: center;
				}
				#`).concat(n," .").concat(this.wrapperBase,`_title {
					
				}
				
				#`).concat(n," .").concat(this.wrapperBase,`_subtitle {
					font-size:18px;
					color: #ccc;
				}
				#`).concat(n," .").concat(this.wrapperBase,`_btn {
					margin: 20px auto 0;
					padding: 5px 15px;
					background: #0219fa;
					font-weight: 700;
					font-size: 20px;
					line-height: 1.3;
					border-radius: 100px;
					color: #fff;
					cursor: pointer;
					display: block;
					text-align: center;
				}

				@media (max-width: 768px){
					#`).concat(n,` {
						padding: 20px 10px;
					}
					#`).concat(n," .").concat(this.wrapperBase,`_title {
						font-size: 24px;
					}
					#`).concat(n," .").concat(this.wrapperBase,`_btn {
						padding: 10px 15px;
						font-size: 18px;
					}
				}
			`),this.buttonOverlay=document.createElement("div"),this.buttonOverlay.id=n,this.buttonOverlay.innerHTML='<h1 class="'.concat(this.wrapperBase,"_content ").concat(this.wrapperBase,'_title">Needs email attestation to complete verification.</h1><p class="').concat(this.wrapperBase,"_content ").concat(this.wrapperBase,'_subtitle"></p>'),this.buttonOverlay.appendChild(t),this.buttonOverlay.appendChild(o),document.body.appendChild(this.buttonOverlay)}else Re(2,"open attestation in iframe"),this.createIframe()},r.prototype.authenticate=function(){var e=this;return new Promise(function(t,n){if(e.rejectHandler=n,e.redirectUrl){var o=new URLSearchParams(document.location.hash.substring(1)),i=new URLSearchParams;i.set("action",An.EMAIL_ATTEST_CALLBACK),i.set("email",e.email),i.set("address",e.address),i.set("wallet",e.wallet),i.set("issuer",e.tokenDef.collectionID),i.set("token",JSON.stringify(e.unsignedToken)),i.set("email-attestation-callback",e.redirectUrl);var s=o.get("requestor");s&&i.set("requestor",s);var a="".concat(e.attestationOrigin,"#").concat(i.toString());Re(2,"authenticate. go to: ",a),document.location.href=a;return}if(e.attestationInTab&&!Yu()&&(e.tryingToGetAttestationInBackground=!0),!e.attestationOrigin)return n(new Error("Attestation origin is null"));window.addEventListener("message",function(l){if(!!e.attestationOrigin){var f=new URL(e.attestationOrigin);l.origin===f.origin&&(e.iframe&&e.iframeWrap&&e.iframe.contentWindow||e.attestationTabHandler)&&e.postMessageAttestationListener(l,t,n)}}),e.openAttestationApp(n)})},r.prototype.createIframe=function(){var e,t=document.createElement("iframe");t.setAttribute("allow","clipboard-read"),this.iframe=t,t.src=(e=this.attestationOrigin)!==null&&e!==void 0?e:"",t.style.width="800px",t.style.height="700px",t.style.maxWidth="100%",t.style.background="#fff";var n=document.createElement("div");this.iframeWrap=n,n.setAttribute("style","width:100%;min-height: 100vh; position: fixed; align-items: center; justify-content: center;display: none;top: 0; left: 0; background: #fffa"),n.appendChild(t),document.body.appendChild(n)},r.prototype.getUseToken=function(e,t){return V2(this,void 0,void 0,function(){var n,o;return j2(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),!this.signedTokenSecret)throw new Error("signedTokenSecret required");if(!t)throw new Error("attestationSecret required");if(!this.signedTokenBlob)throw new Error("signedTokenBlob required");if(!e)throw new Error("attestationBlob required");if(!this.base64attestorPubKey)throw new Error("base64attestorPubKey required");if(!this.base64senderPublicKeys)throw new Error("base64senderPublicKeys required");return[4,b0.Authenticator.getUseTicket(this.signedTokenSecret,t,this.signedTokenBlob,e,this.base64attestorPubKey,this.base64senderPublicKeys)];case 1:if(n=i.sent(),n)return Re(2,"this.authResultCallback( useToken ): "),this.buttonOverlay&&this.buttonOverlay.remove(),[2,n];throw Re(2,"this.authResultCallback( empty ): "),new Error("Empty useToken");case 2:throw o=i.sent(),Re(2,"UseDevconTicket failed.",o.message),Re(3,o),this.buttonOverlay&&this.buttonOverlay.remove(),new Error("Failed to create UseTicket. "+o.message);case 3:return[2]}})})},r.prototype.postMessageAttestationListener=function(e,t,n){var o,i,s,a;return V2(this,void 0,void 0,function(){var l,f,u;return j2(this,function(p){if(Re(2,"postMessageAttestationListener event (auth-handler)",e.data),l=this.attestationTabHandler?this.attestationTabHandler:this.iframe.contentWindow,typeof e.data.ready<"u"&&e.data.ready===!0)return f={force:!1},this.email&&(f.email=this.email),this.wallet&&(f.wallet=this.wallet),this.address&&(f.address=this.address),l.postMessage(f,this.attestationOrigin),[2];if(typeof e.data.display<"u")if(e.data.display===!0){if(this.iframeWrap){if(this.tryingToGetAttestationInBackground)return this.tryingToGetAttestationInBackground=!1,this.iframe.remove(),this.iframeWrap.remove(),this.openAttestationApp(),[2];this.iframeWrap.style.display="flex",this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:ao.SHOW_FRAME})}}else e.data.error&&(Re(2,"Error received from the iframe: "+e.data.error),n(new Error(e.data.error)),this.buttonOverlay&&this.buttonOverlay.remove()),this.iframeWrap&&(this.iframeWrap.style.display="none");if(!(!((o=e.data)===null||o===void 0)&&o.attestation)||!(!((i=e.data)===null||i===void 0)&&i.requestSecret))return[2];this.attestationTabHandler&&this.attestationTabHandler.close(),this.iframeWrap&&this.iframeWrap.remove(),this.attestationBlob=(s=e.data)===null||s===void 0?void 0:s.attestation,this.attestationSecret=(a=e.data)===null||a===void 0?void 0:a.requestSecret;try{u=this.getUseToken(this.attestationBlob,this.attestationSecret),t(u)}catch(_){n(_)}return[2]})})},r}(),Kf=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},zf=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},b5={tokenUrlName:"ticket",tokenSecretName:"secret",tokenIdName:"id",unsignedTokenDataName:"ticket",itemStorageKey:"dcTokens",signedTokenWhitelist:[],whitelistDialogWidth:"450px",whitelistDialogHeight:"350px"},v5=function(){function r(e){var t=Qg.parse(uE(e),t5);this.ticket=t.ticket,Re(3,this.ticket)}return r}(),q2=function(){function r(e,t,n){if(t===void 0&&(t=!1),n===void 0&&(n=null),this.singleUse=!1,this.tokenConfig=Object.assign(b5,e),this.singleUse=t,this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=v5),this.tokenConfig.signedTokenWhitelist=this.tokenConfig.signedTokenWhitelist.map(function(i){try{return new URL(i).origin}catch(s){Re(2,"Failed to validate whitelist origin: "+s.message)}}),n)this.urlParams=n;else{var o=window.location.hash.length>1?"?"+window.location.hash.substring(1):window.location.search;this.urlParams=new URLSearchParams(o)}this.singleUse||this.pageOnLoadEventHandler()}return r.prototype.getDataFromQuery=function(e){var t=this.urlParams?this.urlParams.get(e):"";return t||""},r.prototype.getFilter=function(){var e=this.getDataFromQuery("filter");return e?JSON.parse(e):{}},r.prototype.pageOnLoadEventHandler=function(){var e;return Kf(this,void 0,void 0,function(){var t,n,o,i,s,a,l,f,z,u,p,_,T,I,B,P,C,L,j,z,Y,re,ge;return zf(this,function(ce){switch(ce.label){case 0:t=this.getDataFromQuery("evtid"),n=this.getDataFromQuery("action"),o=this.getDataFromQuery("access"),i=this.getDataFromQuery("requestor"),i&&(this.redirectCallbackUrl=new URL(i)),Re(2,"Outlet received event ID "+t+" action "+n+" at "+document.location.href),ce.label=1;case 1:switch(ce.trys.push([1,15,,16]),s=n,s){case An.GET_ISSUER_TOKENS:return[3,2];case An.EMAIL_ATTEST_CALLBACK:return[3,4];case An.GET_PROOF:return[3,10]}return[3,11];case 2:return[4,this.whitelistCheck(t,o==="write"?"write":"read")];case 3:return ce.sent(),this.sendTokens(t),[3,14];case 4:a=this.redirectCallbackUrl,l=this.getDataFromQuery("issuer"),ce.label=5;case 5:return ce.trys.push([5,8,,9]),f=this.getDataFromQuery("token"),z=JSON.parse(f),u=this.getDataFromQuery("attestation"),p="0x"+this.getDataFromQuery("requestSecret"),T=eu.bind,I=[void 0,this,t,this.tokenConfig],[4,_p(z,this.tokenConfig)];case 6:return _=new(T.apply(eu,I.concat([ce.sent(),null,null,!1]))),[4,_.getUseToken(u,p)];case 7:return B=ce.sent(),a?(P=new URLSearchParams(a.hash.substring(1)),P.set("action","proof-callback"),P.set("issuer",l),P.set("attestation",B),C=new r(this.tokenConfig,!0),L=C.prepareTokenOutput({}),Re(2,"issuerTokens: ",L),P.set("tokens",JSON.stringify(L)),a.hash="#"+P.toString(),console.log("urlToRedirect from OutletAction.EMAIL_ATTEST_CALLBACK: ",a.href),document.location.href=a.href,[2]):(this.dispatchAuthCallbackEvent(l,B,null),[3,9]);case 8:return j=ce.sent(),a?[2,this.proofRedirectError(l,j.message)]:(this.dispatchAuthCallbackEvent(l,null,j.message),[3,9]);case 9:return document.location.hash="",[3,14];case 10:return z=this.getDataFromQuery("token"),Y=this.getDataFromQuery("wallet"),re=this.getDataFromQuery("address"),bs(z,"unsigned token is missing"),this.sendTokenProof(t,z,re,Y),[3,14];case 11:return this.singleUse?[3,13]:[4,this.readMagicLink()];case 12:ce.sent(),ce.label=13;case 13:return this.sendTokens(t),[3,14];case 14:return[3,16];case 15:return ge=ce.sent(),console.error(ge),this.sendErrorResponse(t,(e=ge?.message)!==null&&e!==void 0?e:ge,this.getDataFromQuery("issuer")),[3,16];case 16:return[2]}})})},r.prototype.readMagicLink=function(){return Kf(this,void 0,void 0,function(){var e,t,n,o,i,s,a,l;return zf(this,function(f){switch(f.label){case 0:e=this.getDataFromQuery("evtid"),t=this.tokenConfig,n=t.tokenUrlName,o=t.tokenSecretName,i=t.tokenIdName,s=t.itemStorageKey,f.label=1;case 1:return f.trys.push([1,3,,4]),a=xL(n,o,i,s,this.urlParams),[4,this.whitelistCheck(e,"write")];case 2:return f.sent(),yL(a,s),l=new Event("tokensupdated"),document.body.dispatchEvent(l),[3,4];case 3:return f.sent(),[3,4];case 4:return[2]}})})},r.prototype.dispatchAuthCallbackEvent=function(e,t,n){var o=new CustomEvent("auth-callback",{detail:{proof:t,issuer:e,error:n}});window.dispatchEvent(o)},r.prototype.whitelistCheck=function(e,t){var n;return Kf(this,void 0,void 0,function(){var o,i,s,a=this;return zf(this,function(l){return!window.parent&&!window.opener||!document.referrer?[2]:(o=new URL(document.referrer).origin,o===document.location.origin?[2]:(i=(n=JSON.parse(localStorage.getItem("tn-whitelist")))!==null&&n!==void 0?n:{},s=this.tokenConfig.signedTokenWhitelist.indexOf(o)===-1&&(!i[o]||i[o].type==="read"&&t==="write"),s?[2,new Promise(function(f,u){var p=t==="read"?"read":"read & write",_="".concat(o," is requesting ").concat(p," access to your ").concat(a.tokenConfig.title," tickets"),T='<button id="tn-access-accept">Accept</button>',I='<button id="tn-access-deny">Deny</button>',B=a.tokenConfig.whitelistDialogRenderer?a.tokenConfig.whitelistDialogRenderer(_,T,I):`
						<div style="font-family: sans-serif; text-align: center; position: absolute; width: 100vw; min-height: 100vh;top: 0;
						left: 0;
						background: #0C0A50;
						z-index: 99999;
						display: flex;
						flex-direction: column;
						justify-content: center;
						align-items: center;
						color: #fff;
						padding: 30px;
						font-size: 24px;
						line-height: 1.2;">
							<p>`.concat(_,`</p>
							<div>
							`).concat(T,`
							`).concat(I,`
							</div>
						</div>
					`);document.body.insertAdjacentHTML("beforeend",B),document.getElementById("tn-access-accept").addEventListener("click",function(){return Kf(a,void 0,void 0,function(){return zf(this,function(P){return(!i[o]||t!==i[o].type)&&(i[o]={type:t},localStorage.setItem("tn-whitelist",JSON.stringify(i))),f(),[2]})})}),document.getElementById("tn-access-deny").addEventListener("click",function(){u("USER_ABORT")}),a.sendMessageResponse({evtid:e,evt:ao.SHOW_FRAME,max_width:a.tokenConfig.whitelistDialogWidth,min_height:a.tokenConfig.whitelistDialogHeight})})]:[2]))})})},r.prototype.prepareTokenOutput=function(e){var t,n=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!n)return[];var o=!1;((t=this.tokenConfig.signedTokenWhitelist)===null||t===void 0?void 0:t.length)&&this.tokenConfig.signedTokenWhitelist.indexOf(this.getRequestOrigin())>-1&&(o=!0);var i=p5(n,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,o);return h5(i,e)},r.prototype.sendTokenProof=function(e,t,n,o){return Kf(this,void 0,void 0,function(){var i,s,a,l,f,u;return zf(this,function(p){switch(p.label){case 0:if(!t)return[2,"error"];i=JSON.parse(t),s=this.urlParams.get("redirect")==="true"?document.location.origin+document.location.pathname+document.location.search:!1,p.label=1;case 1:return p.trys.push([1,4,,5]),[4,_p(i,this.tokenConfig)];case 2:return a=p.sent(),l=new eu(this,e,this.tokenConfig,a,n,o,s,i),[4,l.authenticate()];case 3:return f=p.sent(),this.sendMessageResponse({evtid:e,evt:vc.PROOF,data:{issuer:this.tokenConfig.collectionID,proof:f}}),[3,5];case 4:return u=p.sent(),Re(2,u),s?[2,this.proofRedirectError(this.getDataFromQuery("issuer"),u.message)]:(this.sendErrorResponse(e,u.message),[3,5]);case 5:return[2]}})})},r.prototype.getRequestOrigin=function(){var e=document.referrer;if(!e)return null;try{return new URL(e).origin}catch{return null}},r.prototype.sendTokens=function(e){var t=this.prepareTokenOutput(this.getFilter());if(Re(2,"issuerTokens: (Outlet.sendTokens)",t),this.redirectCallbackUrl)try{var n=this.redirectCallbackUrl,o=new URLSearchParams(n.hash.substring(1));o.set("action",An.GET_ISSUER_TOKENS+"-response"),o.set("issuer",this.tokenConfig.collectionID),o.set("tokens",JSON.stringify(t)),n.hash="#"+o.toString();var i=n.href;Re(2,"tokens ready. go to: ",i),document.location.href=i;return}catch(s){console.log("Requestor redirect Error. ",s)}this.sendMessageResponse({evtid:e,evt:vc.ISSUER_TOKENS,data:{issuer:this.tokenConfig.collectionID,tokens:t}})},r.prototype.sendErrorResponse=function(e,t,n){if(this.redirectCallbackUrl){var o=this.redirectCallbackUrl,i=new URLSearchParams(o.hash.substring(1));i.set("action",ao.ERROR),i.set("issuer",n),i.set("error",t),console.log("Redirecting error: ",t),o.hash="#"+i.toString(),document.location.href=o.href;return}this.sendMessageResponse({evtid:e,evt:ao.ERROR,errors:[t]})},r.prototype.proofRedirectError=function(e,t){var n=this.redirectCallbackUrl.href,o=new URLSearchParams;o.set("action","proof-callback"),o.set("issuer",e),o.set("error",t),document.location.href=n+"#"+o.toString()},r.prototype.isSameOrigin=function(){try{var e=new URL(this.tokenConfig.tokenOrigin);return e.origin===document.location.origin}catch{return!1}},r.prototype.sendMessageResponse=function(e){if(!!document.referrer){var t;if(window.opener&&window.opener!==window?t=window.opener:window.parent!==window&&(t=window.parent),t&&t.postMessage(e,"*"),!this.isSameOrigin()){var n=`
				background: #eee;
				padding: 10px;
				color: #000;
				display: inline-block;
				border-radius: 4px;
				font-size: 1.2em;
				box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px;
			`,o=document.createElement("div");o.innerHTML="Data sent. Please close the tab and back to main app.",o.setAttribute("style",n),document.body.appendChild(o)}}},r}(),AL=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},EL=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},m5=function(){function r(e){this.tokenConfig=Object.assign(b5,e),this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=v5)}return r.prototype.getTokens=function(){var e=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!e)return[];var t=p5(e,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!0);return h5(t,this.tokenConfig.filter)},r.prototype.authenticate=function(e,t,n,o){return o===void 0&&(o=!1),AL(this,void 0,void 0,function(){var i,s;return EL(this,function(a){switch(a.label){case 0:return[4,_p(e,this.tokenConfig)];case 1:return i=a.sent(),s=new eu(null,null,this.tokenConfig,i,t,n,o,e),[4,s.authenticate()];case 2:return[2,a.sent()]}})})},r}(),SL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Du=globalThis&&globalThis.__assign||function(){return Du=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Du.apply(this,arguments)},_L=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},kL=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},TL=function(r){SL(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="ticketZKProof",t.messaging=new Qp,t}return e.prototype.getTokenProof=function(t,n,o){var i,s,a;return _L(this,void 0,void 0,function(){var l,f,u,p,_,T,I,B,P,C,L,j;return kL(this,function(z){switch(z.label){case 0:if(Re(2,"getTokenProof request:",o),t.onChain===!0)throw new Error(this.TYPE+" is not available for off-chain tokens.");return l=((i=o?.options)===null||i===void 0?void 0:i.useRedirect)||J1(this.client.config.offChainRedirectMode)||!1,l&&(l=((s=o?.options)===null||s===void 0?void 0:s.redirectUrl)||document.location.href),f=null,t.unEndPoint?(u=new u5(this.client),o.options=Du(Du({},o.options),{unEndPoint:t.unEndPoint}),[4,u.getTokenProof(t,n,o)]):[3,2];case 1:p=z.sent(),f=p.data,z.label=2;case 2:return _=f?f.address:"",T=o.address?o.address:_,I=o.wallet?o.wallet:"",new URL(t.tokenOrigin).origin!==document.location.origin?[3,4]:(P=new m5(t),B={},C=B,[4,P.authenticate(n[0],T,I,l)]);case 3:return C.proof=z.sent(),[3,6];case 4:return Re(2,"run OutletAction.GET_PROOF at ",window.location.href),[4,this.messaging.sendMessage({action:An.GET_PROOF,origin:t.tokenOrigin,timeout:0,data:{issuer:t.collectionID,token:n[0],address:T,wallet:I}},o.options.messagingForceTab,this.client.getUi(),l)];case 5:if(L=z.sent(),!L)return[2,new Promise(function(Y,re){setTimeout(function(){re(new Error("The outlet failed to load."))},3e4)})];B=L.data,z.label=6;case 6:if(!B.proof)throw new Error("Failed to get proof from the outlet.");return j={type:this.TYPE,data:B,target:{tokens:[]}},f&&(b0.Authenticator.validateUseTicket(B.proof,t.base64attestorPubKey,t.base64senderPublicKeys,(a=f.address)!==null&&a!==void 0?a:""),j.data.useEthKey=f),[2,j]}})})},e}(yh),ML="2.3.0-SNAPSHOT-staging.a8e685",y5=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},x5=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},PL=function(r,e,t){return y5(void 0,void 0,void 0,function(){var n,o,i,s;return x5(this,function(a){return n=r.contract,o=r.chain,i="".concat(ts,"/get-owner-fungible-tokens?collectionAddress=").concat(n,"&owner=").concat(e,"&chain=").concat(o,"&blockchain=").concat((s=r.blockchain)!==null&&s!==void 0?s:"evm"),r.symbol&&(i+="&symbol=".concat(r.symbol)),t&&(i+="&ipfsBaseUrl=".concat(t)),[2,Qu(i,!0)]})})},IL=function(r,e){return y5(void 0,void 0,void 0,function(){var t,n,o,i;return x5(this,function(s){return t=r.contract,n=r.chain,o="".concat(ts,"/get-fungible-token?collectionAddress=").concat(t,"&chain=").concat(n,"&blockchain=").concat((i=r.blockchain)!==null&&i!==void 0?i:"evm"),r.symbol&&(o+="&symbol=".concat(r.symbol)),e&&(o+="&ipfsBaseUrl=".concat(e)),[2,Qu(o,!0)]})})},nr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},zt=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},H2=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};typeof window<"u"&&(window.tn={VERSION:ML});var G2="This browser is not supported. Please try using Chrome, Edge, FireFox or Safari.",CL={type:"active",issuers:[],uiOptions:{uiType:"popup",containerElement:".overlay-tn",openingHeading:"Validate your token ownership for access",issuerHeading:"Detected tokens",autoPopup:!0,position:"bottom-right",alwaysShowStartScreen:!1},autoLoadTokens:!0,autoEnableTokens:!0,messagingForceTab:!1,tokenPersistenceTTL:600,unSupportedUserAgent:{authentication:{config:{},errorMessage:G2},full:{config:{iE:!0,iE9:!0},errorMessage:G2}}},ni;(function(r){r.POPUP_BLOCKED="POPUP_BLOCKED",r.USER_ABORT="USER_ABORT"})(ni||(ni={}));var Sa;(function(r){r.POPUP_BLOCKED="Please add an exception to your popup blocker before continuing.",r.USER_ABORT="The user aborted the process."})(Sa||(Sa={}));var BL=function(){function r(e){var t,n;if(this.clientCallBackEvents={},this.uiUpdateCallbacks=(t={},t[0]=void 0,t[1]=void 0,t),this.cancelAutoload=!0,window.location.hash){this.urlParams=new URLSearchParams(window.location.hash.substring(1));var o=this.getDataFromQuery("action");Re(2,'Client() fired. Action = "'.concat(o,'"')),this.removeCallbackParamsFromUrl()}this.config=this.mergeConfig(CL,e),this.negotiateAlreadyFired=!1,this.tokenStore=new h3(this.config.autoEnableTokens,this.config.tokenPersistenceTTL),((n=this.config.issuers)===null||n===void 0?void 0:n.length)>0&&this.tokenStore.updateIssuers(this.config.issuers),this.messaging=new Qp,this.registerOutletProofEventListener()}return r.getKey=function(e){return b0.Authenticator.decodePublicKey(e)},r.prototype.getDataFromQuery=function(e){return this.urlParams?this.urlParams.get(e):""},r.prototype.readProofCallback=function(){if(!this.getDataFromQuery)return!1;var e=this.getDataFromQuery("action");if(e!=="proof-callback")return!1;var t=this.getDataFromQuery("issuer"),n=this.getDataFromQuery("attestation"),o=this.getDataFromQuery("error");this.removeCallbackFromUrlSearchParams(this.urlParams),this.emitRedirectProofEvent(t,n,o)},r.prototype.removeCallbackParamsFromUrl=function(){var e=new URLSearchParams(document.location.hash.substring(1));e=this.removeCallbackFromUrlSearchParams(e),document.location.hash="#"+e.toString()},r.prototype.removeCallbackFromUrlSearchParams=function(e,t){var n,o;t===void 0&&(t=["action","issuer","tokens","attestation","error"]);try{for(var i=H2(t),s=i.next();!s.done;s=i.next()){var a=s.value;e.has(a)&&e.delete(a)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return e},r.prototype.registerOutletProofEventListener=function(){var e=this;window.addEventListener("auth-callback",function(t){e.emitRedirectProofEvent(t.detail.issuer,t.detail.proof,t.detail.error)})},r.prototype.emitRedirectProofEvent=function(e,t,n){var o=this;setTimeout(function(){n?o.handleProofError(new Error(n),e):o.eventSender("token-proof",{issuer:e,error:null,data:{proof:t}})},500)},r.prototype.mergeConfig=function(e,t){var n,o,i,s;for(var a in t)t[a]&&t[a].constructor===Object?e[a]=this.mergeConfig((i=e[a])!==null&&i!==void 0?i:{},t[a]):e[a]=t[a];if(e.issuers&&e.issuers.length)try{for(var l=H2(e.issuers),f=l.next();!f.done;f=l.next()){var u=f.value;u.onChain===!0&&g0((s=u.blockchain)!==null&&s!==void 0?s:"")}}catch(p){n={error:p}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return e},r.prototype.getTokenStore=function(){return this.tokenStore},r.prototype.getUi=function(){return this.ui},r.prototype.createUiInstance=function(){this.ui=new hP(this.config.uiOptions,this)},r.prototype.triggerUiUpdateCallback=function(e,t){this.uiUpdateCallbacks[e]&&this.uiUpdateCallbacks[e](t)},r.prototype.registerUiUpdateCallback=function(e,t){this.uiUpdateCallbacks[e]=t},r.prototype.safeConnectAvailable=function(){return this.config.safeConnectOptions!==void 0},r.prototype.solanaAvailable=function(){return typeof window.solana<"u"&&this.config.issuers.filter(function(e){var t;return((t=e?.blockchain)===null||t===void 0?void 0:t.toLowerCase())==="solana"}).length>0},r.prototype.getWalletProvider=function(){return nr(this,void 0,void 0,function(){var e;return zt(this,function(t){switch(t.label){case 0:return this.web3WalletProvider?[3,2]:[4,s3(()=>import("./Web3WalletProvider.d6f71c70.js"),[])];case 1:e=t.sent().Web3WalletProvider,this.web3WalletProvider=new e(this,this.config.safeConnectOptions),t.label=2;case 2:return[2,this.web3WalletProvider]}})})},r.prototype.disconnectWallet=function(){return nr(this,void 0,void 0,function(){var e;return zt(this,function(t){switch(t.label){case 0:return[4,this.getWalletProvider()];case 1:return e=t.sent(),e.deleteConnections(),this.tokenStore.clearCachedTokens(),this.eventSender("connected-wallet",null),this.eventSender("disconnected-wallet",null),this.ui&&this.ui.updateUI("wallet"),[2]}})})},r.prototype.negotiatorConnectToWallet=function(e){return nr(this,void 0,void 0,function(){var t,n;return zt(this,function(o){switch(o.label){case 0:return[4,this.getWalletProvider()];case 1:return t=o.sent(),[4,t.connectWith(e)];case 2:return n=o.sent(),Re(2,"wallet address found: "+n),[2,n]}})})},r.prototype.enrichTokenLookupDataOnChainTokens=function(){return nr(this,void 0,void 0,function(){var e,t,n,o,i,s,a,l,f;return zt(this,function(u){switch(u.label){case 0:this.issuersLoaded=!1,this.triggerUiUpdateCallback(0),e=this.tokenStore.getCurrentIssuers(!0),t=e,n=[];for(o in t)n.push(o);i=0,u.label=1;case 1:if(!(i<n.length))return[3,9];if(o=n[i],!(o in t))return[3,8];if(s=o,a=e[s],a.title)return[3,8];u.label=2;case 2:return u.trys.push([2,7,,8]),l=void 0,a.fungible?[4,IL(a)]:[3,4];case 3:return l=u.sent(),[3,6];case 4:return[4,vP(a)];case 5:l=u.sent(),u.label=6;case 6:return l&&(l.onChain=!0,l.title||(l.title=a.collectionID),this.tokenStore.updateTokenLookupStore(s,l)),[3,8];case 7:return f=u.sent(),Re(2,"Failed to load contract data for "+s+": "+f.message),[3,8];case 8:return i++,[3,1];case 9:return this.issuersLoaded=!0,this.triggerUiUpdateCallback(1),[2]}})})},r.prototype.checkUserAgentSupport=function(e){var t,n;return nr(this,void 0,void 0,function(){var o;return zt(this,function(i){switch(i.label){case 0:return pP((n=(t=this.config.unSupportedUserAgent)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.config)?[3,3]:(o=this.config.unSupportedUserAgent[e].errorMessage,this.activeNegotiateRequired()?(this.createUiInstance(),[4,this.ui.initialize()]):[3,2]);case 1:i.sent(),this.ui.openOverlay(),this.ui.showError(o,!1),this.ui.viewContainer.style.display="none",i.label=2;case 2:Qn(o,"error",null,null,!0,!0),i.label=3;case 3:return[2]}})})},r.prototype.activeNegotiateRequired=function(){return this.config.type==="active"},r.prototype.createCurrentUrlWithoutHash=function(){var e;return(e=window.location.origin+window.location.pathname+window.location.search)!==null&&e!==void 0?e:"?"+window.location.search},r.prototype.getNoTokenMsg=function(e){var t,n=this.getTokenStore().getCurrentIssuers(),o=(t=n[e])===null||t===void 0?void 0:t.noTokenMsg;return o||""},r.prototype.negotiate=function(e,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),nr(this,void 0,void 0,function(){var o,i;return zt(this,function(s){switch(s.label){case 0:return o=this.getOutletConfigForCurrentOrigin(),o?(Re(2,"Sync Outlet fired in Client to read MagicLink before negotiate()."),i=new q2(o,!0),[4,i.readMagicLink()]):[3,2];case 1:s.sent(),i=null,s.label=2;case 2:return[4,this.checkUserAgentSupport("full")];case 3:return s.sent(),e&&this.tokenStore.updateIssuers(e),bs(Object.keys(this.tokenStore.getCurrentIssuers()).length,"issuers are missing."),this.activeNegotiateRequired()?(this.issuersLoaded=!this.tokenStore.hasUnloadedIssuers(),[4,this.activeNegotiationStrategy(t)]):[3,5];case 4:return s.sent(),[3,8];case 5:return[4,this.enrichTokenLookupDataOnChainTokens()];case 6:return s.sent(),n&&this.getTokenStore().clearCachedTokens(),[4,this.passiveNegotiationStrategy()];case 7:s.sent(),s.label=8;case 8:return[2]}})})},r.prototype.activeNegotiationStrategy=function(e){return nr(this,void 0,void 0,function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.ui?(t=this.tokenStore.hasUnloadedTokens(),this.ui.viewIsNotStart()&&this.tokenStore.hasUnloadedIssuers()?this.enrichTokenLookupDataOnChainTokens():this.triggerUiUpdateCallback(1),[3,3]):[3,1];case 1:return this.createUiInstance(),[4,this.ui.initialize()];case 2:n.sent(),t=!0,n.label=3;case 3:return this.config.autoEnableTokens&&Object.keys(this.tokenStore.getSelectedTokens()).length&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),(e||this.config.uiOptions.autoPopup===!0&&t)&&this.ui.openOverlay(),[2]}})})},r.prototype.tokenAutoLoad=function(e,t,n){return nr(this,void 0,void 0,function(){var o,i,s,a,l,f,u,p,_,T=this;return zt(this,function(I){switch(I.label){case 0:if(this.config.autoLoadTokens===!1)return[2];this.cancelAutoload=!1,o=1,i=function(B){var P,C,L;return zt(this,function(j){switch(j.label){case 0:if(P=s.tokenStore.getIssuerTokens(B),!n&&P!=null)return[2,"continue"];e(B),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,s.connectTokenIssuer(B)];case 2:return C=j.sent(),C?(t(B,C),[3,4]):[2,{value:void 0}];case 3:return L=j.sent(),L.message="Failed to load "+B+": "+L.message,Re(2,L.message),Qn("autoload tokens error","error",function(){return T.eventSender("error",{issuer:B,error:L})},null,!0,!1),t(B,null),[3,4];case 4:return o++,n?[2,"continue"]:s.cancelAutoload||s.config.autoLoadTokens!==!0&&o>s.config.autoLoadTokens?[2,"break"]:[2]}})},s=this,a=this.tokenStore.getCurrentIssuers(),l=[];for(f in a)l.push(f);u=0,I.label=1;case 1:return u<l.length?(f=l[u],f in a?(p=f,[5,i(p)]):[3,3]):[3,4];case 2:if(_=I.sent(),typeof _=="object")return[2,_.value];if(_==="break")return[3,4];I.label=3;case 3:return u++,[3,1];case 4:return[2]}})})},r.prototype.cancelTokenAutoload=function(){this.cancelAutoload=!0},r.prototype.setPassiveNegotiationWebTokens=function(){return nr(this,void 0,void 0,function(){var e,t,n,o,i,s,a,l,f,u,p=this;return zt(this,function(_){switch(_.label){case 0:e=this.tokenStore.getCurrentIssuers(!1),t=this.getDataFromQuery("action"),n=function(T){var I,B,P,C,L;return zt(this,function(j){switch(j.label){case 0:I=void 0,B=o.tokenStore.getCurrentIssuers()[T],j.label=1;case 1:return j.trys.push([1,6,,7]),new URL(B.tokenOrigin).origin!==document.location.origin?[3,2]:(I=o.loadLocalOutletTokens(B),[3,5]);case 2:if(P=o.getDataFromQuery("issuer"),!((t===An.GET_ISSUER_TOKENS+"-response"||t==="proof-callback")&&T===P))return[3,3];C=o.getDataFromQuery("tokens");try{I=JSON.parse(C),o.removeCallbackFromUrlSearchParams(o.urlParams)}catch(z){Re(2,"Error parse tokens from Response. ",z)}return[3,5];case 3:return I=o.tokenStore.getIssuerTokens(T),I!==null?[2,"continue"]:[4,o.loadRemoteOutletTokens(B)];case 4:if(I=j.sent(),!I)return[2,{value:void 0}];j.label=5;case 5:return[3,7];case 6:return L=j.sent(),Qn("popup error","error",function(){return p.eventSender("error",{issuer:T,error:L})},null,!0,!1),[2,"continue"];case 7:return Re(2,"tokens:"),Re(2,I),o.tokenStore.setTokens(T,I),[2]}})},o=this,i=e,s=[];for(a in i)s.push(a);l=0,_.label=1;case 1:return l<s.length?(a=s[l],a in i?(f=a,[5,n(f)]):[3,3]):[3,4];case 2:if(u=_.sent(),typeof u=="object")return[2,u.value];_.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},r.prototype.readTokensFromUrl=function(){var e=this.tokenStore.getCurrentIssuers(!1),t=this.getDataFromQuery("action");if(t==="error"){this.handleRedirectTokensError();return}if(t===An.GET_ISSUER_TOKENS+"-response"){var n=this.getDataFromQuery("issuer");if(!n){Re(3,"No issuer in URL.");return}var o=e[n];if(!o){Re(3,'No issuer config for "'.concat(n,'" in URL.'));return}var i;try{if(new URL(o.tokenOrigin).origin!==document.location.origin){var s=this.getDataFromQuery("tokens");try{i=JSON.parse(s)}catch(a){Re(2,"Error parse tokens from Response. ",a)}this.removeCallbackFromUrlSearchParams(this.urlParams)}}catch{Re(1,"Error read tokens from URL");return}if(!i){Re(2,'No tokens for "'.concat(n,'" in URL.'));return}Re(2,"readTokensFromUrl tokens:"),Re(2,i),this.tokenStore.setTokens(n,i)}},r.prototype.handleRedirectTokensError=function(){return nr(this,void 0,void 0,function(){var e;return zt(this,function(t){switch(t.label){case 0:return e=this.getDataFromQuery("error"),this.config.type!=="active"?[3,2]:(this.createUiInstance(),[4,this.ui.initialize()]);case 1:t.sent(),this.ui.showError(e),t.label=2;case 2:return this.eventSender("error",{issuer:this.getDataFromQuery("issuer"),error:new Error(e)}),console.log("Error loading tokens from outlet: ",e),[2]}})})},r.prototype.setPassiveNegotiationOnChainTokens=function(){return nr(this,void 0,void 0,function(){var e,t,n,o,i,s,a,l,f,u=this;return zt(this,function(p){switch(p.label){case 0:return e=this.tokenStore.getCurrentIssuers(!0),[4,this.getWalletProvider()];case 1:t=p.sent(),n=function(_){var T,I,B,P;return zt(this,function(C){switch(C.label){case 0:if(T=o.tokenStore.getIssuerTokens(_),T!==null)return[2,"continue"];I=e[_],C.label=1;case 1:return C.trys.push([1,3,,4]),[4,Sm(I,t.getConnectedWalletData()[0].address)];case 2:return B=C.sent(),o.tokenStore.setTokens(_,B),[3,4];case 3:return P=C.sent(),Re(2,P),Qn("passive loading of tokens error","error",function(){return u.eventSender("error",{issuer:_,error:P})},null,!0,!1),[3,4];case 4:return[2]}})},o=this,i=e,s=[];for(a in i)s.push(a);l=0,p.label=2;case 2:return l<s.length?(a=s[l],a in i?(f=a,[5,n(f)]):[3,4]):[3,5];case 3:p.sent(),p.label=4;case 4:return l++,[3,2];case 5:return[2]}})})},r.prototype.passiveNegotiationStrategy=function(){return nr(this,void 0,void 0,function(){var e,t;return zt(this,function(n){switch(n.label){case 0:return[4,this.setPassiveNegotiationWebTokens()];case 1:return n.sent(),[4,this.setPassiveNegotiationOnChainTokens()];case 2:n.sent(),e=this.tokenStore.getCurrentTokens(),Re(2,"Emit tokens"),Re(2,e);for(t in e)e[t]={tokens:e[t]};return this.eventSender("tokens",e),this.messaging.core.iframeStorageSupport===!1&&Object.keys(this.tokenStore.getCurrentTokens(!1)).length===0&&Re(2,"iFrame storage support not detected: Enable popups via your browser to access off-chain tokens with this negotiation type."),[2]}})})},r.prototype.connectTokenIssuer=function(e){var t;return nr(this,void 0,void 0,function(){var n,o,i,s;return zt(this,function(a){switch(a.label){case 0:return n=this.tokenStore.getCurrentIssuers()[e],n||Qn("Undefined token issuer","error",null,null,!0,!0),n.onChain!==!0?[3,6]:[4,this.getWalletProvider()];case 1:return i=a.sent(),s=(t=i.getConnectedWalletData()[0])===null||t===void 0?void 0:t.address,bs(e,"issuer is required."),bs(s,"wallet address is missing."),n.fungible?[4,PL(n,s)]:[3,3];case 2:return o=a.sent(),[3,5];case 3:return[4,Sm(n,s)];case 4:o=a.sent(),a.label=5;case 5:return[3,9];case 6:return new URL(n.tokenOrigin).origin!==document.location.origin?[3,7]:(o=this.loadLocalOutletTokens(n),[3,9]);case 7:return[4,this.loadRemoteOutletTokens(n)];case 8:if(o=a.sent(),!o)return[2];a.label=9;case 9:return this.tokenStore.setTokens(e,o),this.config.autoEnableTokens&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),[2,o]}})})},r.prototype.loadRemoteOutletTokens=function(e){var t,n;return nr(this,void 0,void 0,function(){var o,i,s;return zt(this,function(a){switch(a.label){case 0:return o={issuer:e,filter:e.filters},e.accessRequestType&&(o.access=e.accessRequestType),i=J1(this.config.offChainRedirectMode),i&&this.tokenStore.setTokens(e.collectionID,[]),[4,this.messaging.sendMessage({action:An.GET_ISSUER_TOKENS,origin:e.tokenOrigin,data:o},this.config.messagingForceTab,this.config.type==="active"?this.ui:null,i?document.location.href:!1)];case 1:return s=a.sent(),s?[2,(n=(t=s.data)===null||t===void 0?void 0:t.tokens)!==null&&n!==void 0?n:[]]:[2]}})})},r.prototype.loadLocalOutletTokens=function(e){var t=new m5(e);return t.getTokens()},r.prototype.updateSelectedTokens=function(e){this.tokenStore.setSelectedTokens(e),this.eventSender("tokens-selected",{selectedTokens:e})},r.prototype.authenticate=function(e){return nr(this,void 0,void 0,function(){var t,n,o,i,s,a,l,f=this;return zt(this,function(u){switch(u.label){case 0:return[4,this.checkUserAgentSupport("authentication")];case 1:u.sent(),t=e.issuer,n=e.unsignedToken,bs(t&&n,"Issuer and unsigned token required."),n.signedToken&&delete n.signedToken,o=this.tokenStore.getCurrentIssuers()[t],o||Qn("Provided issuer was not found.","error",null,null,!0,!0),this.ui&&(this.ui.showLoaderDelayed(["<h4>Authenticating...</h4>","<small>You may need to sign a new challenge in your wallet</small>","<button class='cancel-auth-btn btn-tn' aria-label='Cancel authentication'>Cancel</button>"],600,!0),this.enableAuthCancel(t)),e.type?i=e.type:i=o.onChain?u5:TL,s=new i(this),u.label=2;case 2:return u.trys.push([2,4,,5]),e.options||(e.options={}),e.options.messagingForceTab=this.config.messagingForceTab,Re(2,"authRequest",e),Re(2,"get proof at ",window.location.href),[4,s.getTokenProof(o,[e.unsignedToken],e)];case 3:return a=u.sent(),a?(Re(2,"proof received at ",window.location.href),Re(2,"Ticket proof successfully validated."),this.eventSender("token-proof",{data:a.data,error:null,issuer:t}),[3,5]):[2];case 4:return l=u.sent(),Re(2,l),l.message==="WALLET_REQUIRED"?[2,this.handleWalletRequired(e)]:(Qn(l,"error",function(){return f.handleProofError(l,t)},null,!1,!0),[3,5]);case 5:return this.ui&&(this.ui.dismissLoader(),this.ui.closeOverlay()),[2,a.data]}})})},r.prototype.enableAuthCancel=function(e){var t=this;gE(".cancel-auth-btn").then(function(n){n.onclick=function(){var o="User cancelled authentication";t.ui.showError(o),t.eventSender("token-proof",{issuer:e,error:o,data:null})}})},r.prototype.handleWalletRequired=function(e){return nr(this,void 0,void 0,function(){var t,n=this;return zt(this,function(o){switch(o.label){case 0:return this.ui?(this.ui.dismissLoader(),this.ui.openOverlay(),[3,4]):[3,1];case 1:return[4,this.getWalletProvider()];case 2:return t=o.sent(),[4,t.connectWith("MetaMask")];case 3:return o.sent(),[2,this.authenticate(e)];case 4:return[2,new Promise(function(i,s){n.ui.updateUI("wallet",{connectCallback:function(){return nr(n,void 0,void 0,function(){var a,l;return zt(this,function(f){switch(f.label){case 0:this.ui.updateUI("main"),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.authenticate(e)];case 2:return a=f.sent(),i(a),[3,4];case 3:return l=f.sent(),s(l),[3,4];case 4:return[2]}})})}})})]}})})},r.prototype.handleProofError=function(e,t){this.ui&&this.ui.showError(e),this.eventSender("token-proof",{issuer:t,error:e,data:null})},r.prototype.eventSender=function(e,t){return nr(this,void 0,void 0,function(){return zt(this,function(n){return Promise.resolve(this.on(e,null,t)),[2]})})},r.prototype.getOutletConfigForCurrentOrigin=function(e){e===void 0&&(e=document.location.origin);var t=this.tokenStore.getCurrentIssuers(!1),n=[];return Object.keys(t).forEach(function(o){var i=t[o];try{new URL(i.tokenOrigin).origin===e&&n.push(i)}catch(s){Re(2,s),console.log("issuer config error "+s.message)}}),n.length?n[0]:!1},r.prototype.onlySameOrigin=function(){var e=this.tokenStore.getCurrentIssuers(!1),t=!0;return Object.keys(e).forEach(function(n){var o=e[n],i=!1;try{new URL(o.tokenOrigin).origin===document.location.origin&&(i=!0)}catch(s){Re(2,s),console.log("issuer config error")}i||(t=!1)}),t},r.prototype.addTokenViaMagicLink=function(e){return nr(this,void 0,void 0,function(){var t,n,o,i,s,a;return zt(this,function(l){switch(l.label){case 0:t=new URL(e),n=t.hash.length>1?t.hash.substring(1):t.search.substring(1),o=J1(this.config.offChainRedirectMode),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.messaging.sendMessage({action:An.MAGIC_URL,origin:t.origin+t.pathname,data:{urlParams:n}},this.config.messagingForceTab,void 0,o?document.location.href:!1)];case 2:return i=l.sent(),i?i.evt===vc.ISSUER_TOKENS?(s=this.getOutletConfigForCurrentOrigin(t.origin),s&&this.tokenStore.setTokens(s.collectionID,i.data.tokens),[2,i.data.tokens]):[3,4]:[2,new Promise(function(f){})];case 3:return a=l.sent(),Qn(a.message,"error",null,!1,!0),[3,4];case 4:return[2]}})})},r.prototype.on=function(e,t,n){if(bs(e,"Event type is not defined"),(e==="tokens"||e==="tokens-selected")&&t&&this.readTokensFromUrl(),e==="token-proof"&&t){Re(2,"token-proof listener atteched. check URL HASH for proof callbacks.");var o=this.getDataFromQuery("action");if(o==="proof-callback")this.readProofCallback();else if(o==="email-callback"){var i=this.getOutletConfigForCurrentOrigin();if(i){Re(2,"Outlet fired to parse URL hash params.");var s=new q2(i,!0,this.urlParams);s.pageOnLoadEventHandler().then(function(){s=null})}}}if(t)this.clientCallBackEvents[e]=t;else if(this.clientCallBackEvents[e])return this.clientCallBackEvents[e].call(e,n)},r.prototype.switchTheme=function(e){this.ui.switchTheme(e)},r}();const OL=r=>(Ex("data-v-fda68df3"),r=r(),Sx(),r),RL=OL(()=>at("img",{alt:"Vue logo",class:"logo",src:V9,width:"125",height:"125"},null,-1)),NL={class:"wrapper"},LL=yt("Home"),UL=yt("About"),DL={__name:"App",setup(r){const e=af({client:void 0});return Ix(()=>{e.client=new BL({type:"active",issuers:[{collectionID:"penthouse-panther-club",collectionAddress:"ff846ef2eed57e5367cf8826e63f4d53fe28d28aa67417accb6e4b48cbd19136",onChain:!0,collectionSymbol:"PPC",chain:"mainnet",blockchain:"solana"},{collectionID:"pixel",collectionAddress:"166424b16c4c7f40eb852f9eb2d0d6869a9ed7ac54a8e6afbd516676bfbbeb19",onChain:!0,collectionSymbol:"PIXEL",chain:"mainnet",blockchain:"solana"},{onChain:!0,collectionID:"expansion-punks",contract:"0x0d0167a823c6619d430b1a96ad85b888bcf97c37",chain:"eth",blockchain:"ethereum"},{onChain:!0,collectionID:"Perion",contract:"0x96af92ae2d822a0f191455ceca4d4e7ee227668e",chain:"mumbai",blockchain:"evm"},{collectionID:"COOLCATS-#2426-14",onChain:!0,contract:"0x3C7e352481F4b2fdEc1e642a3f0018661c77513D",chain:"eth",openSeaSlug:"devcon-vi-suit-up-collection"},{collectionID:"Town-Hall",onChain:!0,contract:"0x81b30ff521D1fEB67EDE32db726D95714eb00637",chain:"Optimism"},{collectionID:"Blusteak Kangaroo #64",onChain:!0,contract:"0xa996F7F3BC647EebC98C684aB0A302c9b85d2FA1",chain:"Avalanche"},{collectionID:"Alone Pirate",onChain:!0,contract:"0x36535ec384B94342558e37282527b5052587af6A",chain:"Arbitrum"},{collectionID:"TNM",onChain:!0,contract:"0x3cC6c9c6DC13814c6ba4da3520d2Ae40332A831F",chain:"goerli",fungible:!0},{collectionID:"Tether-USD",onChain:!0,contract:"0xdac17f958d2ee523a2206206994597c13d831ec7",chain:"eth",fungible:!0},{collectionID:"AdEx-Network",onChain:!0,contract:"0xade00c28244d5ce17d72e40330b1c318cd12b7c3",chain:"eth",fungible:!0},{collectionID:"AAVEPool",contract:"0xb7fd3398484ea4eff33e003db4c85d4984f8d62e",fungible:!0,onChain:!0,chain:"polygon"},{collectionID:"Minereum-AVAX",contract:"0xf9d922c055a3f1759299467dafafdf43be844f7a",fungible:!0,onChain:!0,chain:"Avalanche"},{collectionID:"Testv4",contract:"0x499d11e0b6eac7c0593d8fb292dcbbf815fb29ae",fungible:!0,onChain:!0,chain:"goerli"},{collectionID:"Dummy ERC20",contract:"0xfe4f5145f6e09952a5ba9e956ed0c25e3fa4c7f1",fungible:!0,onChain:!0,chain:"mumbai"}],uiOptions:{openingHeading:"Open a new world of discounts available with your tokens.",issuerHeading:"Get discount with Ticket",repeatAction:"try again",theme:"dark",position:"top-right"},unSupportedUserAgent:{authentication:{config:{metaMaskAndroid:!0,alphaWalletAndroid:!0,mewAndroid:!0,imTokenAndroid:!0},errorMessage:"No Support for Authentication with this user agent. Try Chrome, Safari or Edge instead."},full:{config:{iE:!0,iE9:!0},errorMessage:"This browser is not supported. Please try using Chrome, Edge, FireFox or Safari."}}}),e.client.on("tokens-selected",t=>{console.log(t)}),e.client.on("token-proof",t=>{console.log(t)}),e.client.negotiate()}),(t,n)=>(hi(),qi(an,null,[at("header",null,[RL,at("div",NL,[Pt(WA,{msg:"You did it!"}),at("nav",null,[Pt(so(W1),{to:"/"},{default:fr(()=>[LL]),_:1}),Pt(so(W1),{to:"/about"},{default:fr(()=>[UL]),_:1})])])]),Pt(so(o3))],64))}},FL=Yo(DL,[["__scopeId","data-v-fda68df3"]]);const $L={},VL={class:"item"},jL={class:"details"};function qL(r,e){return hi(),qi("div",VL,[at("em",null,[Ih(r.$slots,"icon",{},void 0,!0)]),at("div",jL,[at("h3",null,[Ih(r.$slots,"heading",{},void 0,!0)]),Ih(r.$slots,"default",{},void 0,!0)])])}const Wf=Yo($L,[["render",qL],["__scopeId","data-v-72623109"]]),HL={},GL={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},KL=at("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),zL=[KL];function WL(r,e){return hi(),qi("svg",GL,zL)}const JL=Yo(HL,[["render",WL]]),QL={},YL={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},ZL=at("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),XL=[ZL];function eU(r,e){return hi(),qi("svg",YL,XL)}const tU=Yo(QL,[["render",eU]]),rU={},nU={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},iU=at("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),oU=[iU];function sU(r,e){return hi(),qi("svg",nU,oU)}const aU=Yo(rU,[["render",sU]]),fU={},cU={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},lU=at("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),uU=[lU];function hU(r,e){return hi(),qi("svg",cU,uU)}const dU=Yo(fU,[["render",hU]]),pU={},gU={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},bU=at("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),vU=[bU];function mU(r,e){return hi(),qi("svg",gU,vU)}const yU=Yo(pU,[["render",mU]]),xU=yt("Documentation"),wU=yt(" Vue\u2019s "),AU=at("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"official documentation",-1),EU=yt(" provides you with all information you need to get started. "),SU=yt("Tooling"),_U=yt(" This project is served and bundled with "),kU=at("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),TU=yt(". The recommended IDE setup is "),MU=at("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),PU=yt(" + "),IU=at("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),CU=yt(". If you need to test your components and web pages, check out "),BU=at("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),OU=yt(" and "),RU=at("a",{href:"https://on.cypress.io/component",target:"_blank",rel:"noopener"},"Cypress Component Testing",-1),NU=yt(". "),LU=at("br",null,null,-1),UU=yt(" More instructions are available in "),DU=at("code",null,"README.md",-1),FU=yt(". "),$U=yt("Ecosystem"),VU=yt(" Get official tools and libraries for your project: "),jU=at("a",{target:"_blank",href:"https://pinia.vuejs.org/",rel:"noopener"},"Pinia",-1),qU=yt(", "),HU=at("a",{target:"_blank",href:"https://router.vuejs.org/",rel:"noopener"},"Vue Router",-1),GU=yt(", "),KU=at("a",{target:"_blank",href:"https://test-utils.vuejs.org/",rel:"noopener"},"Vue Test Utils",-1),zU=yt(", and "),WU=at("a",{target:"_blank",href:"https://github.com/vuejs/devtools",rel:"noopener"},"Vue Dev Tools",-1),JU=yt(". If you need more resources, we suggest paying "),QU=at("a",{target:"_blank",href:"https://github.com/vuejs/awesome-vue",rel:"noopener"},"Awesome Vue",-1),YU=yt(" a visit. "),ZU=yt("Community"),XU=yt(" Got stuck? Ask your question on "),eD=at("a",{target:"_blank",href:"https://chat.vuejs.org",rel:"noopener"},"Vue Land",-1),tD=yt(", our official Discord server, or "),rD=at("a",{target:"_blank",href:"https://stackoverflow.com/questions/tagged/vue.js",rel:"noopener"},"StackOverflow",-1),nD=yt(". You should also subscribe to "),iD=at("a",{target:"_blank",href:"https://news.vuejs.org",rel:"noopener"},"our mailing list",-1),oD=yt(" and follow the official "),sD=at("a",{target:"_blank",href:"https://twitter.com/vuejs",rel:"noopener"},"@vuejs",-1),aD=yt(" twitter account for latest news in the Vue world. "),fD=yt("Support Vue"),cD=yt(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),lD=at("a",{target:"_blank",href:"https://vuejs.org/sponsor/",rel:"noopener"},"becoming a sponsor",-1),uD=yt(". "),hD={__name:"TheWelcome",setup(r){return(e,t)=>(hi(),qi(an,null,[Pt(Wf,null,{icon:fr(()=>[Pt(JL)]),heading:fr(()=>[xU]),default:fr(()=>[wU,AU,EU]),_:1}),Pt(Wf,null,{icon:fr(()=>[Pt(tU)]),heading:fr(()=>[SU]),default:fr(()=>[_U,kU,TU,MU,PU,IU,CU,BU,OU,RU,NU,LU,UU,DU,FU]),_:1}),Pt(Wf,null,{icon:fr(()=>[Pt(aU)]),heading:fr(()=>[$U]),default:fr(()=>[VU,jU,qU,HU,GU,KU,zU,WU,JU,QU,YU]),_:1}),Pt(Wf,null,{icon:fr(()=>[Pt(dU)]),heading:fr(()=>[ZU]),default:fr(()=>[XU,eD,tD,rD,nD,iD,oD,sD,aD]),_:1}),Pt(Wf,null,{icon:fr(()=>[Pt(yU)]),heading:fr(()=>[fD]),default:fr(()=>[cD,lD,uD]),_:1})],64))}},dD={__name:"HomeView",setup(r){return(e,t)=>(hi(),qi("main",null,[Pt(hD)]))}},pD=VA({history:oA("/token-negotiator-examples/vue-vite-boilerplate/"),routes:[{path:"/",name:"home",component:dD},{path:"/about",name:"about",component:()=>s3(()=>import("./AboutView.1de5987d.js"),["assets/AboutView.1de5987d.js","assets/AboutView.4d995ba2.css"])}]});const w5=F9(FL);w5.use(pD);w5.mount("#app");export{_D as S,gw as W,Yo as _,at as a,s3 as b,qi as c,Xe as d,Tw as e,Vt as f,gD as g,cu as h,Ju as i,Wp as j,Re as l,hi as o,ME as z};
