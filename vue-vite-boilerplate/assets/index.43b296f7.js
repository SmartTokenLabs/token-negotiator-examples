(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Ep(r,e){const t=Object.create(null),n=r.split(",");for(let i=0;i<n.length;i++)t[n[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}const f5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",c5=Ep(f5);function Uy(r){return!!r||r===""}function Sp(r){if(Ye(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],i=vr(n)?d5(n):Sp(n);if(i)for(const o in i)e[o]=i[o]}return e}else{if(vr(r))return r;if(Kt(r))return r}}const l5=/;(?![^(]*\))/g,u5=/:(.+)/;function d5(r){const e={};return r.split(l5).forEach(t=>{if(t){const n=t.split(u5);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function kp(r){let e="";if(vr(r))e=r;else if(Ye(r))for(let t=0;t<r.length;t++){const n=kp(r[t]);n&&(e+=n+" ")}else if(Kt(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const h5=r=>vr(r)?r:r==null?"":Ye(r)||Kt(r)&&(r.toString===jy||!tt(r.toString))?JSON.stringify(r,Fy,2):String(r),Fy=(r,e)=>e&&e.__v_isRef?Fy(r,e.value):Ta(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,i])=>(t[`${n} =>`]=i,t),{})}:Hy(e)?{[`Set(${e.size})`]:[...e.values()]}:Kt(e)&&!Ye(e)&&!Gy(e)?String(e):e,Ut={},Pa=[],si=()=>{},p5=()=>!1,g5=/^on[^a-z]/,j0=r=>g5.test(r),_p=r=>r.startsWith("onUpdate:"),qr=Object.assign,Mp=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},m5=Object.prototype.hasOwnProperty,bt=(r,e)=>m5.call(r,e),Ye=Array.isArray,Ta=r=>G0(r)==="[object Map]",Hy=r=>G0(r)==="[object Set]",tt=r=>typeof r=="function",vr=r=>typeof r=="string",Pp=r=>typeof r=="symbol",Kt=r=>r!==null&&typeof r=="object",Vy=r=>Kt(r)&&tt(r.then)&&tt(r.catch),jy=Object.prototype.toString,G0=r=>jy.call(r),b5=r=>G0(r).slice(8,-1),Gy=r=>G0(r)==="[object Object]",Tp=r=>vr(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,ql=Ep(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),q0=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},v5=/-(\w)/g,Fa=q0(r=>r.replace(v5,(e,t)=>t?t.toUpperCase():"")),y5=/\B([A-Z])/g,cf=q0(r=>r.replace(y5,"-$1").toLowerCase()),qy=q0(r=>r.charAt(0).toUpperCase()+r.slice(1)),Td=q0(r=>r?`on${qy(r)}`:""),gc=(r,e)=>!Object.is(r,e),Cd=(r,e)=>{for(let t=0;t<r.length;t++)r[t](e)},o0=(r,e,t)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:t})},x5=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let xm;const w5=()=>xm||(xm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Si;class A5{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Si&&(this.parent=Si,this.index=(Si.scopes||(Si.scopes=[])).push(this)-1)}run(e){if(this.active){const t=Si;try{return Si=this,e()}finally{Si=t}}}on(){Si=this}off(){Si=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function E5(r,e=Si){e&&e.active&&e.effects.push(r)}const Cp=r=>{const e=new Set(r);return e.w=0,e.n=0,e},$y=r=>(r.w&Jo)>0,Ky=r=>(r.n&Jo)>0,S5=({deps:r})=>{if(r.length)for(let e=0;e<r.length;e++)r[e].w|=Jo},k5=r=>{const{deps:e}=r;if(e.length){let t=0;for(let n=0;n<e.length;n++){const i=e[n];$y(i)&&!Ky(i)?i.delete(r):e[t++]=i,i.w&=~Jo,i.n&=~Jo}e.length=t}},B1=new WeakMap;let Zf=0,Jo=1;const I1=30;let ei;const ks=Symbol(""),N1=Symbol("");class Bp{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,E5(this,n)}run(){if(!this.active)return this.fn();let e=ei,t=$o;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ei,ei=this,$o=!0,Jo=1<<++Zf,Zf<=I1?S5(this):wm(this),this.fn()}finally{Zf<=I1&&k5(this),Jo=1<<--Zf,ei=this.parent,$o=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ei===this?this.deferStop=!0:this.active&&(wm(this),this.onStop&&this.onStop(),this.active=!1)}}function wm(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}let $o=!0;const zy=[];function lf(){zy.push($o),$o=!1}function uf(){const r=zy.pop();$o=r===void 0?!0:r}function dn(r,e,t){if($o&&ei){let n=B1.get(r);n||B1.set(r,n=new Map);let i=n.get(t);i||n.set(t,i=Cp()),Wy(i)}}function Wy(r,e){let t=!1;Zf<=I1?Ky(r)||(r.n|=Jo,t=!$y(r)):t=!r.has(ei),t&&(r.add(ei),ei.deps.push(r))}function mo(r,e,t,n,i,o){const s=B1.get(r);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(t==="length"&&Ye(r))s.forEach((c,d)=>{(d==="length"||d>=n)&&a.push(c)});else switch(t!==void 0&&a.push(s.get(t)),e){case"add":Ye(r)?Tp(t)&&a.push(s.get("length")):(a.push(s.get(ks)),Ta(r)&&a.push(s.get(N1)));break;case"delete":Ye(r)||(a.push(s.get(ks)),Ta(r)&&a.push(s.get(N1)));break;case"set":Ta(r)&&a.push(s.get(ks));break}if(a.length===1)a[0]&&O1(a[0]);else{const c=[];for(const d of a)d&&c.push(...d);O1(Cp(c))}}function O1(r,e){const t=Ye(r)?r:[...r];for(const n of t)n.computed&&Am(n);for(const n of t)n.computed||Am(n)}function Am(r,e){(r!==ei||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const _5=Ep("__proto__,__v_isRef,__isVue"),Qy=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Pp)),M5=Ip(),P5=Ip(!1,!0),T5=Ip(!0),Em=C5();function C5(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...t){const n=At(this);for(let o=0,s=this.length;o<s;o++)dn(n,"get",o+"");const i=n[e](...t);return i===-1||i===!1?n[e](...t.map(At)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...t){lf();const n=At(this)[e].apply(this,t);return uf(),n}}),r}function Ip(r=!1,e=!1){return function(n,i,o){if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(r?e?K5:e3:e?Zy:Xy).get(n))return n;const s=Ye(n);if(!r&&s&&bt(Em,i))return Reflect.get(Em,i,o);const a=Reflect.get(n,i,o);return(Pp(i)?Qy.has(i):_5(i))||(r||dn(n,"get",i),e)?a:Nr(a)?s&&Tp(i)?a:a.value:Kt(a)?r?t3(a):df(a):a}}const B5=Jy(),I5=Jy(!0);function Jy(r=!1){return function(t,n,i,o){let s=t[n];if(Ha(s)&&Nr(s)&&!Nr(i))return!1;if(!r&&(!s0(i)&&!Ha(i)&&(s=At(s),i=At(i)),!Ye(t)&&Nr(s)&&!Nr(i)))return s.value=i,!0;const a=Ye(t)&&Tp(n)?Number(n)<t.length:bt(t,n),c=Reflect.set(t,n,i,o);return t===At(o)&&(a?gc(i,s)&&mo(t,"set",n,i):mo(t,"add",n,i)),c}}function N5(r,e){const t=bt(r,e);r[e];const n=Reflect.deleteProperty(r,e);return n&&t&&mo(r,"delete",e,void 0),n}function O5(r,e){const t=Reflect.has(r,e);return(!Pp(e)||!Qy.has(e))&&dn(r,"has",e),t}function R5(r){return dn(r,"iterate",Ye(r)?"length":ks),Reflect.ownKeys(r)}const Yy={get:M5,set:B5,deleteProperty:N5,has:O5,ownKeys:R5},D5={get:T5,set(r,e){return!0},deleteProperty(r,e){return!0}},L5=qr({},Yy,{get:P5,set:I5}),Np=r=>r,$0=r=>Reflect.getPrototypeOf(r);function gl(r,e,t=!1,n=!1){r=r.__v_raw;const i=At(r),o=At(e);t||(e!==o&&dn(i,"get",e),dn(i,"get",o));const{has:s}=$0(i),a=n?Np:t?Dp:mc;if(s.call(i,e))return a(r.get(e));if(s.call(i,o))return a(r.get(o));r!==i&&r.get(e)}function ml(r,e=!1){const t=this.__v_raw,n=At(t),i=At(r);return e||(r!==i&&dn(n,"has",r),dn(n,"has",i)),r===i?t.has(r):t.has(r)||t.has(i)}function bl(r,e=!1){return r=r.__v_raw,!e&&dn(At(r),"iterate",ks),Reflect.get(r,"size",r)}function Sm(r){r=At(r);const e=At(this);return $0(e).has.call(e,r)||(e.add(r),mo(e,"add",r,r)),this}function km(r,e){e=At(e);const t=At(this),{has:n,get:i}=$0(t);let o=n.call(t,r);o||(r=At(r),o=n.call(t,r));const s=i.call(t,r);return t.set(r,e),o?gc(e,s)&&mo(t,"set",r,e):mo(t,"add",r,e),this}function _m(r){const e=At(this),{has:t,get:n}=$0(e);let i=t.call(e,r);i||(r=At(r),i=t.call(e,r)),n&&n.call(e,r);const o=e.delete(r);return i&&mo(e,"delete",r,void 0),o}function Mm(){const r=At(this),e=r.size!==0,t=r.clear();return e&&mo(r,"clear",void 0,void 0),t}function vl(r,e){return function(n,i){const o=this,s=o.__v_raw,a=At(s),c=e?Np:r?Dp:mc;return!r&&dn(a,"iterate",ks),s.forEach((d,l)=>n.call(i,c(d),c(l),o))}}function yl(r,e,t){return function(...n){const i=this.__v_raw,o=At(i),s=Ta(o),a=r==="entries"||r===Symbol.iterator&&s,c=r==="keys"&&s,d=i[r](...n),l=t?Np:e?Dp:mc;return!e&&dn(o,"iterate",c?N1:ks),{next(){const{value:p,done:k}=d.next();return k?{value:p,done:k}:{value:a?[l(p[0]),l(p[1])]:l(p),done:k}},[Symbol.iterator](){return this}}}}function No(r){return function(...e){return r==="delete"?!1:this}}function U5(){const r={get(o){return gl(this,o)},get size(){return bl(this)},has:ml,add:Sm,set:km,delete:_m,clear:Mm,forEach:vl(!1,!1)},e={get(o){return gl(this,o,!1,!0)},get size(){return bl(this)},has:ml,add:Sm,set:km,delete:_m,clear:Mm,forEach:vl(!1,!0)},t={get(o){return gl(this,o,!0)},get size(){return bl(this,!0)},has(o){return ml.call(this,o,!0)},add:No("add"),set:No("set"),delete:No("delete"),clear:No("clear"),forEach:vl(!0,!1)},n={get(o){return gl(this,o,!0,!0)},get size(){return bl(this,!0)},has(o){return ml.call(this,o,!0)},add:No("add"),set:No("set"),delete:No("delete"),clear:No("clear"),forEach:vl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{r[o]=yl(o,!1,!1),t[o]=yl(o,!0,!1),e[o]=yl(o,!1,!0),n[o]=yl(o,!0,!0)}),[r,t,e,n]}const[F5,H5,V5,j5]=U5();function Op(r,e){const t=e?r?j5:V5:r?H5:F5;return(n,i,o)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(bt(t,i)&&i in n?t:n,i,o)}const G5={get:Op(!1,!1)},q5={get:Op(!1,!0)},$5={get:Op(!0,!1)},Xy=new WeakMap,Zy=new WeakMap,e3=new WeakMap,K5=new WeakMap;function z5(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function W5(r){return r.__v_skip||!Object.isExtensible(r)?0:z5(b5(r))}function df(r){return Ha(r)?r:Rp(r,!1,Yy,G5,Xy)}function Q5(r){return Rp(r,!1,L5,q5,Zy)}function t3(r){return Rp(r,!0,D5,$5,e3)}function Rp(r,e,t,n,i){if(!Kt(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const o=i.get(r);if(o)return o;const s=W5(r);if(s===0)return r;const a=new Proxy(r,s===2?n:t);return i.set(r,a),a}function Ca(r){return Ha(r)?Ca(r.__v_raw):!!(r&&r.__v_isReactive)}function Ha(r){return!!(r&&r.__v_isReadonly)}function s0(r){return!!(r&&r.__v_isShallow)}function r3(r){return Ca(r)||Ha(r)}function At(r){const e=r&&r.__v_raw;return e?At(e):r}function n3(r){return o0(r,"__v_skip",!0),r}const mc=r=>Kt(r)?df(r):r,Dp=r=>Kt(r)?t3(r):r;function i3(r){$o&&ei&&(r=At(r),Wy(r.dep||(r.dep=Cp())))}function o3(r,e){r=At(r),r.dep&&O1(r.dep)}function Nr(r){return!!(r&&r.__v_isRef===!0)}function J5(r){return s3(r,!1)}function Y5(r){return s3(r,!0)}function s3(r,e){return Nr(r)?r:new X5(r,e)}class X5{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:At(e),this._value=t?e:mc(e)}get value(){return i3(this),this._value}set value(e){const t=this.__v_isShallow||s0(e)||Ha(e);e=t?e:At(e),gc(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:mc(e),o3(this))}}function fo(r){return Nr(r)?r.value:r}const Z5={get:(r,e,t)=>fo(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const i=r[e];return Nr(i)&&!Nr(t)?(i.value=t,!0):Reflect.set(r,e,t,n)}};function a3(r){return Ca(r)?r:new Proxy(r,Z5)}var f3;class eA{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[f3]=!1,this._dirty=!0,this.effect=new Bp(e,()=>{this._dirty||(this._dirty=!0,o3(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=At(this);return i3(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}f3="__v_isReadonly";function tA(r,e,t=!1){let n,i;const o=tt(r);return o?(n=r,i=si):(n=r.get,i=r.set),new eA(n,i,o||!i,t)}function Ko(r,e,t,n){let i;try{i=n?r(...n):r()}catch(o){K0(o,e,t)}return i}function ai(r,e,t,n){if(tt(r)){const o=Ko(r,e,t,n);return o&&Vy(o)&&o.catch(s=>{K0(s,e,t)}),o}const i=[];for(let o=0;o<r.length;o++)i.push(ai(r[o],e,t,n));return i}function K0(r,e,t,n=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=t;for(;o;){const d=o.ec;if(d){for(let l=0;l<d.length;l++)if(d[l](r,s,a)===!1)return}o=o.parent}const c=e.appContext.config.errorHandler;if(c){Ko(c,null,10,[r,s,a]);return}}rA(r,t,i,n)}function rA(r,e,t,n=!0){console.error(r)}let a0=!1,R1=!1;const Pr=[];let Bi=0;const Ba=[];let eo=null,ys=0;const c3=Promise.resolve();let Lp=null;function l3(r){const e=Lp||c3;return r?e.then(this?r.bind(this):r):e}function nA(r){let e=Bi+1,t=Pr.length;for(;e<t;){const n=e+t>>>1;bc(Pr[n])<r?e=n+1:t=n}return e}function Up(r){(!Pr.length||!Pr.includes(r,a0&&r.allowRecurse?Bi+1:Bi))&&(r.id==null?Pr.push(r):Pr.splice(nA(r.id),0,r),u3())}function u3(){!a0&&!R1&&(R1=!0,Lp=c3.then(h3))}function iA(r){const e=Pr.indexOf(r);e>Bi&&Pr.splice(e,1)}function oA(r){Ye(r)?Ba.push(...r):(!eo||!eo.includes(r,r.allowRecurse?ys+1:ys))&&Ba.push(r),u3()}function Pm(r,e=Bi){for(;e<Pr.length;e++){const t=Pr[e];t&&t.pre&&(Pr.splice(e,1),e--,t())}}function d3(r){if(Ba.length){const e=[...new Set(Ba)];if(Ba.length=0,eo){eo.push(...e);return}for(eo=e,eo.sort((t,n)=>bc(t)-bc(n)),ys=0;ys<eo.length;ys++)eo[ys]();eo=null,ys=0}}const bc=r=>r.id==null?1/0:r.id,sA=(r,e)=>{const t=bc(r)-bc(e);if(t===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return t};function h3(r){R1=!1,a0=!0,Pr.sort(sA);const e=si;try{for(Bi=0;Bi<Pr.length;Bi++){const t=Pr[Bi];t&&t.active!==!1&&Ko(t,null,14)}}finally{Bi=0,Pr.length=0,d3(),a0=!1,Lp=null,(Pr.length||Ba.length)&&h3()}}function aA(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||Ut;let i=t;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in n){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:p,trim:k}=n[l]||Ut;k&&(i=t.map(_=>_.trim())),p&&(i=t.map(x5))}let a,c=n[a=Td(e)]||n[a=Td(Fa(e))];!c&&o&&(c=n[a=Td(cf(e))]),c&&ai(c,r,6,i);const d=n[a+"Once"];if(d){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,ai(d,r,6,i)}}function p3(r,e,t=!1){const n=e.emitsCache,i=n.get(r);if(i!==void 0)return i;const o=r.emits;let s={},a=!1;if(!tt(r)){const c=d=>{const l=p3(d,e,!0);l&&(a=!0,qr(s,l))};!t&&e.mixins.length&&e.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}return!o&&!a?(Kt(r)&&n.set(r,null),null):(Ye(o)?o.forEach(c=>s[c]=null):qr(s,o),Kt(r)&&n.set(r,s),s)}function z0(r,e){return!r||!j0(e)?!1:(e=e.slice(2).replace(/Once$/,""),bt(r,e[0].toLowerCase()+e.slice(1))||bt(r,cf(e))||bt(r,e))}let un=null,W0=null;function f0(r){const e=un;return un=r,W0=r&&r.type.__scopeId||null,e}function g3(r){W0=r}function m3(){W0=null}function cr(r,e=un,t){if(!e||r._n)return r;const n=(...i)=>{n._d&&Lm(-1);const o=f0(e),s=r(...i);return f0(o),n._d&&Lm(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function Bd(r){const{type:e,vnode:t,proxy:n,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:c,emit:d,render:l,renderCache:p,data:k,setupState:_,ctx:T,inheritAttrs:C}=r;let M,P;const N=f0(r);try{if(t.shapeFlag&4){const $=i||n;M=Pi(l.call($,$,p,o,_,k,T)),P=c}else{const $=e;M=Pi($.length>1?$(o,{attrs:c,slots:a,emit:d}):$(o,null)),P=e.props?c:fA(c)}}catch($){nc.length=0,K0($,r,1),M=Ct(Va)}let U=M;if(P&&C!==!1){const $=Object.keys(P),{shapeFlag:G}=U;$.length&&G&7&&(s&&$.some(_p)&&(P=cA(P,s)),U=ja(U,P))}return t.dirs&&(U=ja(U),U.dirs=U.dirs?U.dirs.concat(t.dirs):t.dirs),t.transition&&(U.transition=t.transition),M=U,f0(N),M}const fA=r=>{let e;for(const t in r)(t==="class"||t==="style"||j0(t))&&((e||(e={}))[t]=r[t]);return e},cA=(r,e)=>{const t={};for(const n in r)(!_p(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t};function lA(r,e,t){const{props:n,children:i,component:o}=r,{props:s,children:a,patchFlag:c}=e,d=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return n?Tm(n,s,d):!!s;if(c&8){const l=e.dynamicProps;for(let p=0;p<l.length;p++){const k=l[p];if(s[k]!==n[k]&&!z0(d,k))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?Tm(n,s,d):!0:!!s;return!1}function Tm(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==r[o]&&!z0(t,o))return!0}return!1}function uA({vnode:r,parent:e},t){for(;e&&e.subTree===r;)(r=e.vnode).el=t,e=e.parent}const dA=r=>r.__isSuspense;function hA(r,e){e&&e.pendingBranch?Ye(r)?e.effects.push(...r):e.effects.push(r):oA(r)}function $l(r,e){if(Tr){let t=Tr.provides;const n=Tr.parent&&Tr.parent.provides;n===t&&(t=Tr.provides=Object.create(n)),t[r]=e}}function zo(r,e,t=!1){const n=Tr||un;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&r in i)return i[r];if(arguments.length>1)return t&&tt(e)?e.call(n.proxy):e}}const Cm={};function Kl(r,e,t){return b3(r,e,t)}function b3(r,e,{immediate:t,deep:n,flush:i,onTrack:o,onTrigger:s}=Ut){const a=Tr;let c,d=!1,l=!1;if(Nr(r)?(c=()=>r.value,d=s0(r)):Ca(r)?(c=()=>r,n=!0):Ye(r)?(l=!0,d=r.some(P=>Ca(P)||s0(P)),c=()=>r.map(P=>{if(Nr(P))return P.value;if(Ca(P))return Aa(P);if(tt(P))return Ko(P,a,2)})):tt(r)?e?c=()=>Ko(r,a,2):c=()=>{if(!(a&&a.isUnmounted))return p&&p(),ai(r,a,3,[k])}:c=si,e&&n){const P=c;c=()=>Aa(P())}let p,k=P=>{p=M.onStop=()=>{Ko(P,a,4)}};if(yc)return k=si,e?t&&ai(e,a,3,[c(),l?[]:void 0,k]):c(),si;let _=l?[]:Cm;const T=()=>{if(!!M.active)if(e){const P=M.run();(n||d||(l?P.some((N,U)=>gc(N,_[U])):gc(P,_)))&&(p&&p(),ai(e,a,3,[P,_===Cm?void 0:_,k]),_=P)}else M.run()};T.allowRecurse=!!e;let C;i==="sync"?C=T:i==="post"?C=()=>Yr(T,a&&a.suspense):(T.pre=!0,a&&(T.id=a.uid),C=()=>Up(T));const M=new Bp(c,C);return e?t?T():_=M.run():i==="post"?Yr(M.run.bind(M),a&&a.suspense):M.run(),()=>{M.stop(),a&&a.scope&&Mp(a.scope.effects,M)}}function pA(r,e,t){const n=this.proxy,i=vr(r)?r.includes(".")?v3(n,r):()=>n[r]:r.bind(n,n);let o;tt(e)?o=e:(o=e.handler,t=e);const s=Tr;Ga(this);const a=b3(i,o.bind(n),t);return s?Ga(s):_s(),a}function v3(r,e){const t=e.split(".");return()=>{let n=r;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n}}function Aa(r,e){if(!Kt(r)||r.__v_skip||(e=e||new Set,e.has(r)))return r;if(e.add(r),Nr(r))Aa(r.value,e);else if(Ye(r))for(let t=0;t<r.length;t++)Aa(r[t],e);else if(Hy(r)||Ta(r))r.forEach(t=>{Aa(t,e)});else if(Gy(r))for(const t in r)Aa(r[t],e);return r}function y3(r){return tt(r)?{setup:r,name:r.name}:r}const rc=r=>!!r.type.__asyncLoader,x3=r=>r.type.__isKeepAlive;function gA(r,e){w3(r,"a",e)}function mA(r,e){w3(r,"da",e)}function w3(r,e,t=Tr){const n=r.__wdc||(r.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(Q0(e,n,t),t){let i=t.parent;for(;i&&i.parent;)x3(i.parent.vnode)&&bA(n,e,t,i),i=i.parent}}function bA(r,e,t,n){const i=Q0(e,r,n,!0);E3(()=>{Mp(n[e],i)},t)}function Q0(r,e,t=Tr,n=!1){if(t){const i=t[r]||(t[r]=[]),o=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;lf(),Ga(t);const a=ai(e,t,r,s);return _s(),uf(),a});return n?i.unshift(o):i.push(o),o}}const xo=r=>(e,t=Tr)=>(!yc||r==="sp")&&Q0(r,e,t),vA=xo("bm"),A3=xo("m"),yA=xo("bu"),xA=xo("u"),wA=xo("bum"),E3=xo("um"),AA=xo("sp"),EA=xo("rtg"),SA=xo("rtc");function kA(r,e=Tr){Q0("ec",r,e)}function ds(r,e,t,n){const i=r.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let c=a.dir[n];c&&(lf(),ai(c,t,8,[r.el,a,r,e]),uf())}}const _A=Symbol();function Id(r,e,t={},n,i){if(un.isCE||un.parent&&rc(un.parent)&&un.parent.isCE)return Ct("slot",e==="default"?null:{name:e},n&&n());let o=r[e];o&&o._c&&(o._d=!1),pi();const s=o&&S3(o(t)),a=$A(cn,{key:t.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&r._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function S3(r){return r.some(e=>u0(e)?!(e.type===Va||e.type===cn&&!S3(e.children)):!0)?r:null}const D1=r=>r?D3(r)?jp(r)||r.proxy:D1(r.parent):null,c0=qr(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>D1(r.parent),$root:r=>D1(r.root),$emit:r=>r.emit,$options:r=>_3(r),$forceUpdate:r=>r.f||(r.f=()=>Up(r.update)),$nextTick:r=>r.n||(r.n=l3.bind(r.proxy)),$watch:r=>pA.bind(r)}),MA={get({_:r},e){const{ctx:t,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:c}=r;let d;if(e[0]!=="$"){const _=s[e];if(_!==void 0)switch(_){case 1:return n[e];case 2:return i[e];case 4:return t[e];case 3:return o[e]}else{if(n!==Ut&&bt(n,e))return s[e]=1,n[e];if(i!==Ut&&bt(i,e))return s[e]=2,i[e];if((d=r.propsOptions[0])&&bt(d,e))return s[e]=3,o[e];if(t!==Ut&&bt(t,e))return s[e]=4,t[e];L1&&(s[e]=0)}}const l=c0[e];let p,k;if(l)return e==="$attrs"&&dn(r,"get",e),l(r);if((p=a.__cssModules)&&(p=p[e]))return p;if(t!==Ut&&bt(t,e))return s[e]=4,t[e];if(k=c.config.globalProperties,bt(k,e))return k[e]},set({_:r},e,t){const{data:n,setupState:i,ctx:o}=r;return i!==Ut&&bt(i,e)?(i[e]=t,!0):n!==Ut&&bt(n,e)?(n[e]=t,!0):bt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(o[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:i,propsOptions:o}},s){let a;return!!t[s]||r!==Ut&&bt(r,s)||e!==Ut&&bt(e,s)||(a=o[0])&&bt(a,s)||bt(n,s)||bt(c0,s)||bt(i.config.globalProperties,s)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:bt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};let L1=!0;function PA(r){const e=_3(r),t=r.proxy,n=r.ctx;L1=!1,e.beforeCreate&&Bm(e.beforeCreate,r,"bc");const{data:i,computed:o,methods:s,watch:a,provide:c,inject:d,created:l,beforeMount:p,mounted:k,beforeUpdate:_,updated:T,activated:C,deactivated:M,beforeDestroy:P,beforeUnmount:N,destroyed:U,unmounted:$,render:G,renderTracked:X,renderTriggered:ye,errorCaptured:ce,serverPrefetch:me,expose:Be,inheritAttrs:I,components:E,directives:m,filters:f}=e;if(d&&TA(d,n,null,r.appContext.config.unwrapInjectedRef),s)for(const y in s){const x=s[y];tt(x)&&(n[y]=x.bind(t))}if(i){const y=i.call(t,t);Kt(y)&&(r.data=df(y))}if(L1=!0,o)for(const y in o){const x=o[y],w=tt(x)?x.bind(t,t):tt(x.get)?x.get.bind(t,t):si,v=!tt(x)&&tt(x.set)?x.set.bind(t):si,g=wn({get:w,set:v});Object.defineProperty(n,y,{enumerable:!0,configurable:!0,get:()=>g.value,set:u=>g.value=u})}if(a)for(const y in a)k3(a[y],n,t,y);if(c){const y=tt(c)?c.call(t):c;Reflect.ownKeys(y).forEach(x=>{$l(x,y[x])})}l&&Bm(l,r,"c");function b(y,x){Ye(x)?x.forEach(w=>y(w.bind(t))):x&&y(x.bind(t))}if(b(vA,p),b(A3,k),b(yA,_),b(xA,T),b(gA,C),b(mA,M),b(kA,ce),b(SA,X),b(EA,ye),b(wA,N),b(E3,$),b(AA,me),Ye(Be))if(Be.length){const y=r.exposed||(r.exposed={});Be.forEach(x=>{Object.defineProperty(y,x,{get:()=>t[x],set:w=>t[x]=w})})}else r.exposed||(r.exposed={});G&&r.render===si&&(r.render=G),I!=null&&(r.inheritAttrs=I),E&&(r.components=E),m&&(r.directives=m)}function TA(r,e,t=si,n=!1){Ye(r)&&(r=U1(r));for(const i in r){const o=r[i];let s;Kt(o)?"default"in o?s=zo(o.from||i,o.default,!0):s=zo(o.from||i):s=zo(o),Nr(s)&&n?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function Bm(r,e,t){ai(Ye(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function k3(r,e,t,n){const i=n.includes(".")?v3(t,n):()=>t[n];if(vr(r)){const o=e[r];tt(o)&&Kl(i,o)}else if(tt(r))Kl(i,r.bind(t));else if(Kt(r))if(Ye(r))r.forEach(o=>k3(o,e,t,n));else{const o=tt(r.handler)?r.handler.bind(t):e[r.handler];tt(o)&&Kl(i,o,r)}}function _3(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=r.appContext,a=o.get(e);let c;return a?c=a:!i.length&&!t&&!n?c=e:(c={},i.length&&i.forEach(d=>l0(c,d,s,!0)),l0(c,e,s)),Kt(e)&&o.set(e,c),c}function l0(r,e,t,n=!1){const{mixins:i,extends:o}=e;o&&l0(r,o,t,!0),i&&i.forEach(s=>l0(r,s,t,!0));for(const s in e)if(!(n&&s==="expose")){const a=CA[s]||t&&t[s];r[s]=a?a(r[s],e[s]):e[s]}return r}const CA={data:Im,props:vs,emits:vs,methods:vs,computed:vs,beforeCreate:Hr,created:Hr,beforeMount:Hr,mounted:Hr,beforeUpdate:Hr,updated:Hr,beforeDestroy:Hr,beforeUnmount:Hr,destroyed:Hr,unmounted:Hr,activated:Hr,deactivated:Hr,errorCaptured:Hr,serverPrefetch:Hr,components:vs,directives:vs,watch:IA,provide:Im,inject:BA};function Im(r,e){return e?r?function(){return qr(tt(r)?r.call(this,this):r,tt(e)?e.call(this,this):e)}:e:r}function BA(r,e){return vs(U1(r),U1(e))}function U1(r){if(Ye(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function Hr(r,e){return r?[...new Set([].concat(r,e))]:e}function vs(r,e){return r?qr(qr(Object.create(null),r),e):e}function IA(r,e){if(!r)return e;if(!e)return r;const t=qr(Object.create(null),r);for(const n in e)t[n]=Hr(r[n],e[n]);return t}function NA(r,e,t,n=!1){const i={},o={};o0(o,J0,1),r.propsDefaults=Object.create(null),M3(r,e,i,o);for(const s in r.propsOptions[0])s in i||(i[s]=void 0);t?r.props=n?i:Q5(i):r.type.props?r.props=i:r.props=o,r.attrs=o}function OA(r,e,t,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=r,a=At(i),[c]=r.propsOptions;let d=!1;if((n||s>0)&&!(s&16)){if(s&8){const l=r.vnode.dynamicProps;for(let p=0;p<l.length;p++){let k=l[p];if(z0(r.emitsOptions,k))continue;const _=e[k];if(c)if(bt(o,k))_!==o[k]&&(o[k]=_,d=!0);else{const T=Fa(k);i[T]=F1(c,a,T,_,r,!1)}else _!==o[k]&&(o[k]=_,d=!0)}}}else{M3(r,e,i,o)&&(d=!0);let l;for(const p in a)(!e||!bt(e,p)&&((l=cf(p))===p||!bt(e,l)))&&(c?t&&(t[p]!==void 0||t[l]!==void 0)&&(i[p]=F1(c,a,p,void 0,r,!0)):delete i[p]);if(o!==a)for(const p in o)(!e||!bt(e,p)&&!0)&&(delete o[p],d=!0)}d&&mo(r,"set","$attrs")}function M3(r,e,t,n){const[i,o]=r.propsOptions;let s=!1,a;if(e)for(let c in e){if(ql(c))continue;const d=e[c];let l;i&&bt(i,l=Fa(c))?!o||!o.includes(l)?t[l]=d:(a||(a={}))[l]=d:z0(r.emitsOptions,c)||(!(c in n)||d!==n[c])&&(n[c]=d,s=!0)}if(o){const c=At(t),d=a||Ut;for(let l=0;l<o.length;l++){const p=o[l];t[p]=F1(i,c,p,d[p],r,!bt(d,p))}}return s}function F1(r,e,t,n,i,o){const s=r[t];if(s!=null){const a=bt(s,"default");if(a&&n===void 0){const c=s.default;if(s.type!==Function&&tt(c)){const{propsDefaults:d}=i;t in d?n=d[t]:(Ga(i),n=d[t]=c.call(null,e),_s())}else n=c}s[0]&&(o&&!a?n=!1:s[1]&&(n===""||n===cf(t))&&(n=!0))}return n}function P3(r,e,t=!1){const n=e.propsCache,i=n.get(r);if(i)return i;const o=r.props,s={},a=[];let c=!1;if(!tt(r)){const l=p=>{c=!0;const[k,_]=P3(p,e,!0);qr(s,k),_&&a.push(..._)};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}if(!o&&!c)return Kt(r)&&n.set(r,Pa),Pa;if(Ye(o))for(let l=0;l<o.length;l++){const p=Fa(o[l]);Nm(p)&&(s[p]=Ut)}else if(o)for(const l in o){const p=Fa(l);if(Nm(p)){const k=o[l],_=s[p]=Ye(k)||tt(k)?{type:k}:k;if(_){const T=Dm(Boolean,_.type),C=Dm(String,_.type);_[0]=T>-1,_[1]=C<0||T<C,(T>-1||bt(_,"default"))&&a.push(p)}}}const d=[s,a];return Kt(r)&&n.set(r,d),d}function Nm(r){return r[0]!=="$"}function Om(r){const e=r&&r.toString().match(/^\s*function (\w+)/);return e?e[1]:r===null?"null":""}function Rm(r,e){return Om(r)===Om(e)}function Dm(r,e){return Ye(e)?e.findIndex(t=>Rm(t,r)):tt(e)&&Rm(e,r)?0:-1}const T3=r=>r[0]==="_"||r==="$stable",Fp=r=>Ye(r)?r.map(Pi):[Pi(r)],RA=(r,e,t)=>{if(e._n)return e;const n=cr((...i)=>Fp(e(...i)),t);return n._c=!1,n},C3=(r,e,t)=>{const n=r._ctx;for(const i in r){if(T3(i))continue;const o=r[i];if(tt(o))e[i]=RA(i,o,n);else if(o!=null){const s=Fp(o);e[i]=()=>s}}},B3=(r,e)=>{const t=Fp(e);r.slots.default=()=>t},DA=(r,e)=>{if(r.vnode.shapeFlag&32){const t=e._;t?(r.slots=At(e),o0(e,"_",t)):C3(e,r.slots={})}else r.slots={},e&&B3(r,e);o0(r.slots,J0,1)},LA=(r,e,t)=>{const{vnode:n,slots:i}=r;let o=!0,s=Ut;if(n.shapeFlag&32){const a=e._;a?t&&a===1?o=!1:(qr(i,e),!t&&a===1&&delete i._):(o=!e.$stable,C3(e,i)),s=e}else e&&(B3(r,e),s={default:1});if(o)for(const a in i)!T3(a)&&!(a in s)&&delete i[a]};function I3(){return{app:null,config:{isNativeTag:p5,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let UA=0;function FA(r,e){return function(n,i=null){tt(n)||(n=Object.assign({},n)),i!=null&&!Kt(i)&&(i=null);const o=I3(),s=new Set;let a=!1;const c=o.app={_uid:UA++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:n7,get config(){return o.config},set config(d){},use(d,...l){return s.has(d)||(d&&tt(d.install)?(s.add(d),d.install(c,...l)):tt(d)&&(s.add(d),d(c,...l))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,l){return l?(o.components[d]=l,c):o.components[d]},directive(d,l){return l?(o.directives[d]=l,c):o.directives[d]},mount(d,l,p){if(!a){const k=Ct(n,i);return k.appContext=o,l&&e?e(k,d):r(k,d,p),a=!0,c._container=d,d.__vue_app__=c,jp(k.component)||k.component.proxy}},unmount(){a&&(r(null,c._container),delete c._container.__vue_app__)},provide(d,l){return o.provides[d]=l,c}};return c}}function H1(r,e,t,n,i=!1){if(Ye(r)){r.forEach((k,_)=>H1(k,e&&(Ye(e)?e[_]:e),t,n,i));return}if(rc(n)&&!i)return;const o=n.shapeFlag&4?jp(n.component)||n.component.proxy:n.el,s=i?null:o,{i:a,r:c}=r,d=e&&e.r,l=a.refs===Ut?a.refs={}:a.refs,p=a.setupState;if(d!=null&&d!==c&&(vr(d)?(l[d]=null,bt(p,d)&&(p[d]=null)):Nr(d)&&(d.value=null)),tt(c))Ko(c,a,12,[s,l]);else{const k=vr(c),_=Nr(c);if(k||_){const T=()=>{if(r.f){const C=k?l[c]:c.value;i?Ye(C)&&Mp(C,o):Ye(C)?C.includes(o)||C.push(o):k?(l[c]=[o],bt(p,c)&&(p[c]=l[c])):(c.value=[o],r.k&&(l[r.k]=c.value))}else k?(l[c]=s,bt(p,c)&&(p[c]=s)):_&&(c.value=s,r.k&&(l[r.k]=s))};s?(T.id=-1,Yr(T,t)):T()}}}const Yr=hA;function HA(r){return VA(r)}function VA(r,e){const t=w5();t.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:c,setText:d,setElementText:l,parentNode:p,nextSibling:k,setScopeId:_=si,cloneNode:T,insertStaticContent:C}=r,M=(R,D,H,te=null,W=null,Q=null,fe=!1,ee=null,Y=!!D.dynamicChildren)=>{if(R===D)return;R&&!Nf(R,D)&&(te=F(R),S(R,W,Q,!0),R=null),D.patchFlag===-2&&(Y=!1,D.dynamicChildren=null);const{type:ne,ref:se,shapeFlag:re}=D;switch(ne){case Hp:P(R,D,H,te);break;case Va:N(R,D,H,te);break;case Nd:R==null&&U(D,H,te,fe);break;case cn:m(R,D,H,te,W,Q,fe,ee,Y);break;default:re&1?X(R,D,H,te,W,Q,fe,ee,Y):re&6?f(R,D,H,te,W,Q,fe,ee,Y):(re&64||re&128)&&ne.process(R,D,H,te,W,Q,fe,ee,Y,ie)}se!=null&&W&&H1(se,R&&R.ref,Q,D||R,!D)},P=(R,D,H,te)=>{if(R==null)n(D.el=a(D.children),H,te);else{const W=D.el=R.el;D.children!==R.children&&d(W,D.children)}},N=(R,D,H,te)=>{R==null?n(D.el=c(D.children||""),H,te):D.el=R.el},U=(R,D,H,te)=>{[R.el,R.anchor]=C(R.children,D,H,te,R.el,R.anchor)},$=({el:R,anchor:D},H,te)=>{let W;for(;R&&R!==D;)W=k(R),n(R,H,te),R=W;n(D,H,te)},G=({el:R,anchor:D})=>{let H;for(;R&&R!==D;)H=k(R),i(R),R=H;i(D)},X=(R,D,H,te,W,Q,fe,ee,Y)=>{fe=fe||D.type==="svg",R==null?ye(D,H,te,W,Q,fe,ee,Y):Be(R,D,W,Q,fe,ee,Y)},ye=(R,D,H,te,W,Q,fe,ee)=>{let Y,ne;const{type:se,props:re,shapeFlag:be,transition:le,patchFlag:ae,dirs:De}=R;if(R.el&&T!==void 0&&ae===-1)Y=R.el=T(R.el);else{if(Y=R.el=s(R.type,Q,re&&re.is,re),be&8?l(Y,R.children):be&16&&me(R.children,Y,null,te,W,Q&&se!=="foreignObject",fe,ee),De&&ds(R,null,te,"created"),re){for(const he in re)he!=="value"&&!ql(he)&&o(Y,he,null,re[he],Q,R.children,te,W,L);"value"in re&&o(Y,"value",null,re.value),(ne=re.onVnodeBeforeMount)&&yi(ne,te,R)}ce(Y,R,R.scopeId,fe,te)}De&&ds(R,null,te,"beforeMount");const xe=(!W||W&&!W.pendingBranch)&&le&&!le.persisted;xe&&le.beforeEnter(Y),n(Y,D,H),((ne=re&&re.onVnodeMounted)||xe||De)&&Yr(()=>{ne&&yi(ne,te,R),xe&&le.enter(Y),De&&ds(R,null,te,"mounted")},W)},ce=(R,D,H,te,W)=>{if(H&&_(R,H),te)for(let Q=0;Q<te.length;Q++)_(R,te[Q]);if(W){let Q=W.subTree;if(D===Q){const fe=W.vnode;ce(R,fe,fe.scopeId,fe.slotScopeIds,W.parent)}}},me=(R,D,H,te,W,Q,fe,ee,Y=0)=>{for(let ne=Y;ne<R.length;ne++){const se=R[ne]=ee?Uo(R[ne]):Pi(R[ne]);M(null,se,D,H,te,W,Q,fe,ee)}},Be=(R,D,H,te,W,Q,fe)=>{const ee=D.el=R.el;let{patchFlag:Y,dynamicChildren:ne,dirs:se}=D;Y|=R.patchFlag&16;const re=R.props||Ut,be=D.props||Ut;let le;H&&hs(H,!1),(le=be.onVnodeBeforeUpdate)&&yi(le,H,D,R),se&&ds(D,R,H,"beforeUpdate"),H&&hs(H,!0);const ae=W&&D.type!=="foreignObject";if(ne?I(R.dynamicChildren,ne,ee,H,te,ae,Q):fe||w(R,D,ee,null,H,te,ae,Q,!1),Y>0){if(Y&16)E(ee,D,re,be,H,te,W);else if(Y&2&&re.class!==be.class&&o(ee,"class",null,be.class,W),Y&4&&o(ee,"style",re.style,be.style,W),Y&8){const De=D.dynamicProps;for(let xe=0;xe<De.length;xe++){const he=De[xe],ze=re[he],Le=be[he];(Le!==ze||he==="value")&&o(ee,he,ze,Le,W,R.children,H,te,L)}}Y&1&&R.children!==D.children&&l(ee,D.children)}else!fe&&ne==null&&E(ee,D,re,be,H,te,W);((le=be.onVnodeUpdated)||se)&&Yr(()=>{le&&yi(le,H,D,R),se&&ds(D,R,H,"updated")},te)},I=(R,D,H,te,W,Q,fe)=>{for(let ee=0;ee<D.length;ee++){const Y=R[ee],ne=D[ee],se=Y.el&&(Y.type===cn||!Nf(Y,ne)||Y.shapeFlag&70)?p(Y.el):H;M(Y,ne,se,null,te,W,Q,fe,!0)}},E=(R,D,H,te,W,Q,fe)=>{if(H!==te){for(const ee in te){if(ql(ee))continue;const Y=te[ee],ne=H[ee];Y!==ne&&ee!=="value"&&o(R,ee,ne,Y,fe,D.children,W,Q,L)}if(H!==Ut)for(const ee in H)!ql(ee)&&!(ee in te)&&o(R,ee,H[ee],null,fe,D.children,W,Q,L);"value"in te&&o(R,"value",H.value,te.value)}},m=(R,D,H,te,W,Q,fe,ee,Y)=>{const ne=D.el=R?R.el:a(""),se=D.anchor=R?R.anchor:a("");let{patchFlag:re,dynamicChildren:be,slotScopeIds:le}=D;le&&(ee=ee?ee.concat(le):le),R==null?(n(ne,H,te),n(se,H,te),me(D.children,H,se,W,Q,fe,ee,Y)):re>0&&re&64&&be&&R.dynamicChildren?(I(R.dynamicChildren,be,H,W,Q,fe,ee),(D.key!=null||W&&D===W.subTree)&&N3(R,D,!0)):w(R,D,H,se,W,Q,fe,ee,Y)},f=(R,D,H,te,W,Q,fe,ee,Y)=>{D.slotScopeIds=ee,R==null?D.shapeFlag&512?W.ctx.activate(D,H,te,fe,Y):h(D,H,te,W,Q,fe,Y):b(R,D,Y)},h=(R,D,H,te,W,Q,fe)=>{const ee=R.component=YA(R,te,W);if(x3(R)&&(ee.ctx.renderer=ie),XA(ee),ee.asyncDep){if(W&&W.registerDep(ee,y),!R.el){const Y=ee.subTree=Ct(Va);N(null,Y,D,H)}return}y(ee,R,D,H,W,Q,fe)},b=(R,D,H)=>{const te=D.component=R.component;if(lA(R,D,H))if(te.asyncDep&&!te.asyncResolved){x(te,D,H);return}else te.next=D,iA(te.update),te.update();else D.el=R.el,te.vnode=D},y=(R,D,H,te,W,Q,fe)=>{const ee=()=>{if(R.isMounted){let{next:se,bu:re,u:be,parent:le,vnode:ae}=R,De=se,xe;hs(R,!1),se?(se.el=ae.el,x(R,se,fe)):se=ae,re&&Cd(re),(xe=se.props&&se.props.onVnodeBeforeUpdate)&&yi(xe,le,se,ae),hs(R,!0);const he=Bd(R),ze=R.subTree;R.subTree=he,M(ze,he,p(ze.el),F(ze),R,W,Q),se.el=he.el,De===null&&uA(R,he.el),be&&Yr(be,W),(xe=se.props&&se.props.onVnodeUpdated)&&Yr(()=>yi(xe,le,se,ae),W)}else{let se;const{el:re,props:be}=D,{bm:le,m:ae,parent:De}=R,xe=rc(D);if(hs(R,!1),le&&Cd(le),!xe&&(se=be&&be.onVnodeBeforeMount)&&yi(se,De,D),hs(R,!0),re&&z){const he=()=>{R.subTree=Bd(R),z(re,R.subTree,R,W,null)};xe?D.type.__asyncLoader().then(()=>!R.isUnmounted&&he()):he()}else{const he=R.subTree=Bd(R);M(null,he,H,te,R,W,Q),D.el=he.el}if(ae&&Yr(ae,W),!xe&&(se=be&&be.onVnodeMounted)){const he=D;Yr(()=>yi(se,De,he),W)}(D.shapeFlag&256||De&&rc(De.vnode)&&De.vnode.shapeFlag&256)&&R.a&&Yr(R.a,W),R.isMounted=!0,D=H=te=null}},Y=R.effect=new Bp(ee,()=>Up(ne),R.scope),ne=R.update=()=>Y.run();ne.id=R.uid,hs(R,!0),ne()},x=(R,D,H)=>{D.component=R;const te=R.vnode.props;R.vnode=D,R.next=null,OA(R,D.props,te,H),LA(R,D.children,H),lf(),Pm(),uf()},w=(R,D,H,te,W,Q,fe,ee,Y=!1)=>{const ne=R&&R.children,se=R?R.shapeFlag:0,re=D.children,{patchFlag:be,shapeFlag:le}=D;if(be>0){if(be&128){g(ne,re,H,te,W,Q,fe,ee,Y);return}else if(be&256){v(ne,re,H,te,W,Q,fe,ee,Y);return}}le&8?(se&16&&L(ne,W,Q),re!==ne&&l(H,re)):se&16?le&16?g(ne,re,H,te,W,Q,fe,ee,Y):L(ne,W,Q,!0):(se&8&&l(H,""),le&16&&me(re,H,te,W,Q,fe,ee,Y))},v=(R,D,H,te,W,Q,fe,ee,Y)=>{R=R||Pa,D=D||Pa;const ne=R.length,se=D.length,re=Math.min(ne,se);let be;for(be=0;be<re;be++){const le=D[be]=Y?Uo(D[be]):Pi(D[be]);M(R[be],le,H,null,W,Q,fe,ee,Y)}ne>se?L(R,W,Q,!0,!1,re):me(D,H,te,W,Q,fe,ee,Y,re)},g=(R,D,H,te,W,Q,fe,ee,Y)=>{let ne=0;const se=D.length;let re=R.length-1,be=se-1;for(;ne<=re&&ne<=be;){const le=R[ne],ae=D[ne]=Y?Uo(D[ne]):Pi(D[ne]);if(Nf(le,ae))M(le,ae,H,null,W,Q,fe,ee,Y);else break;ne++}for(;ne<=re&&ne<=be;){const le=R[re],ae=D[be]=Y?Uo(D[be]):Pi(D[be]);if(Nf(le,ae))M(le,ae,H,null,W,Q,fe,ee,Y);else break;re--,be--}if(ne>re){if(ne<=be){const le=be+1,ae=le<se?D[le].el:te;for(;ne<=be;)M(null,D[ne]=Y?Uo(D[ne]):Pi(D[ne]),H,ae,W,Q,fe,ee,Y),ne++}}else if(ne>be)for(;ne<=re;)S(R[ne],W,Q,!0),ne++;else{const le=ne,ae=ne,De=new Map;for(ne=ae;ne<=be;ne++){const oe=D[ne]=Y?Uo(D[ne]):Pi(D[ne]);oe.key!=null&&De.set(oe.key,ne)}let xe,he=0;const ze=be-ae+1;let Le=!1,V=0;const K=new Array(ze);for(ne=0;ne<ze;ne++)K[ne]=0;for(ne=le;ne<=re;ne++){const oe=R[ne];if(he>=ze){S(oe,W,Q,!0);continue}let Ie;if(oe.key!=null)Ie=De.get(oe.key);else for(xe=ae;xe<=be;xe++)if(K[xe-ae]===0&&Nf(oe,D[xe])){Ie=xe;break}Ie===void 0?S(oe,W,Q,!0):(K[Ie-ae]=ne+1,Ie>=V?V=Ie:Le=!0,M(oe,D[Ie],H,null,W,Q,fe,ee,Y),he++)}const ve=Le?jA(K):Pa;for(xe=ve.length-1,ne=ze-1;ne>=0;ne--){const oe=ae+ne,Ie=D[oe],pe=oe+1<se?D[oe+1].el:te;K[ne]===0?M(null,Ie,H,pe,W,Q,fe,ee,Y):Le&&(xe<0||ne!==ve[xe]?u(Ie,H,pe,2):xe--)}}},u=(R,D,H,te,W=null)=>{const{el:Q,type:fe,transition:ee,children:Y,shapeFlag:ne}=R;if(ne&6){u(R.component.subTree,D,H,te);return}if(ne&128){R.suspense.move(D,H,te);return}if(ne&64){fe.move(R,D,H,ie);return}if(fe===cn){n(Q,D,H);for(let re=0;re<Y.length;re++)u(Y[re],D,H,te);n(R.anchor,D,H);return}if(fe===Nd){$(R,D,H);return}if(te!==2&&ne&1&&ee)if(te===0)ee.beforeEnter(Q),n(Q,D,H),Yr(()=>ee.enter(Q),W);else{const{leave:re,delayLeave:be,afterLeave:le}=ee,ae=()=>n(Q,D,H),De=()=>{re(Q,()=>{ae(),le&&le()})};be?be(Q,ae,De):De()}else n(Q,D,H)},S=(R,D,H,te=!1,W=!1)=>{const{type:Q,props:fe,ref:ee,children:Y,dynamicChildren:ne,shapeFlag:se,patchFlag:re,dirs:be}=R;if(ee!=null&&H1(ee,null,H,R,!0),se&256){D.ctx.deactivate(R);return}const le=se&1&&be,ae=!rc(R);let De;if(ae&&(De=fe&&fe.onVnodeBeforeUnmount)&&yi(De,D,R),se&6)B(R.component,H,te);else{if(se&128){R.suspense.unmount(H,te);return}le&&ds(R,null,D,"beforeUnmount"),se&64?R.type.remove(R,D,H,W,ie,te):ne&&(Q!==cn||re>0&&re&64)?L(ne,D,H,!1,!0):(Q===cn&&re&384||!W&&se&16)&&L(Y,D,H),te&&O(R)}(ae&&(De=fe&&fe.onVnodeUnmounted)||le)&&Yr(()=>{De&&yi(De,D,R),le&&ds(R,null,D,"unmounted")},H)},O=R=>{const{type:D,el:H,anchor:te,transition:W}=R;if(D===cn){A(H,te);return}if(D===Nd){G(R);return}const Q=()=>{i(H),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(R.shapeFlag&1&&W&&!W.persisted){const{leave:fe,delayLeave:ee}=W,Y=()=>fe(H,Q);ee?ee(R.el,Q,Y):Y()}else Q()},A=(R,D)=>{let H;for(;R!==D;)H=k(R),i(R),R=H;i(D)},B=(R,D,H)=>{const{bum:te,scope:W,update:Q,subTree:fe,um:ee}=R;te&&Cd(te),W.stop(),Q&&(Q.active=!1,S(fe,R,D,H)),ee&&Yr(ee,D),Yr(()=>{R.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},L=(R,D,H,te=!1,W=!1,Q=0)=>{for(let fe=Q;fe<R.length;fe++)S(R[fe],D,H,te,W)},F=R=>R.shapeFlag&6?F(R.component.subTree):R.shapeFlag&128?R.suspense.next():k(R.anchor||R.el),q=(R,D,H)=>{R==null?D._vnode&&S(D._vnode,null,null,!0):M(D._vnode||null,R,D,null,null,null,H),Pm(),d3(),D._vnode=R},ie={p:M,um:S,m:u,r:O,mt:h,mc:me,pc:w,pbc:I,n:F,o:r};let J,z;return e&&([J,z]=e(ie)),{render:q,hydrate:J,createApp:FA(q,J)}}function hs({effect:r,update:e},t){r.allowRecurse=e.allowRecurse=t}function N3(r,e,t=!1){const n=r.children,i=e.children;if(Ye(n)&&Ye(i))for(let o=0;o<n.length;o++){const s=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Uo(i[o]),a.el=s.el),t||N3(s,a))}}function jA(r){const e=r.slice(),t=[0];let n,i,o,s,a;const c=r.length;for(n=0;n<c;n++){const d=r[n];if(d!==0){if(i=t[t.length-1],r[i]<d){e[n]=i,t.push(n);continue}for(o=0,s=t.length-1;o<s;)a=o+s>>1,r[t[a]]<d?o=a+1:s=a;d<r[t[o]]&&(o>0&&(e[n]=t[o-1]),t[o]=n)}}for(o=t.length,s=t[o-1];o-- >0;)t[o]=s,s=e[s];return t}const GA=r=>r.__isTeleport,cn=Symbol(void 0),Hp=Symbol(void 0),Va=Symbol(void 0),Nd=Symbol(void 0),nc=[];let ri=null;function pi(r=!1){nc.push(ri=r?null:[])}function qA(){nc.pop(),ri=nc[nc.length-1]||null}let vc=1;function Lm(r){vc+=r}function O3(r){return r.dynamicChildren=vc>0?ri||Pa:null,qA(),vc>0&&ri&&ri.push(r),r}function $i(r,e,t,n,i,o){return O3(at(r,e,t,n,i,o,!0))}function $A(r,e,t,n,i){return O3(Ct(r,e,t,n,i,!0))}function u0(r){return r?r.__v_isVNode===!0:!1}function Nf(r,e){return r.type===e.type&&r.key===e.key}const J0="__vInternal",R3=({key:r})=>r??null,zl=({ref:r,ref_key:e,ref_for:t})=>r!=null?vr(r)||Nr(r)||tt(r)?{i:un,r,k:e,f:!!t}:r:null;function at(r,e=null,t=null,n=0,i=null,o=r===cn?0:1,s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&R3(e),ref:e&&zl(e),scopeId:W0,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(Vp(c,t),o&128&&r.normalize(c)):t&&(c.shapeFlag|=vr(t)?8:16),vc>0&&!s&&ri&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&ri.push(c),c}const Ct=KA;function KA(r,e=null,t=null,n=0,i=null,o=!1){if((!r||r===_A)&&(r=Va),u0(r)){const a=ja(r,e,!0);return t&&Vp(a,t),vc>0&&!o&&ri&&(a.shapeFlag&6?ri[ri.indexOf(r)]=a:ri.push(a)),a.patchFlag|=-2,a}if(r7(r)&&(r=r.__vccOpts),e){e=zA(e);let{class:a,style:c}=e;a&&!vr(a)&&(e.class=kp(a)),Kt(c)&&(r3(c)&&!Ye(c)&&(c=qr({},c)),e.style=Sp(c))}const s=vr(r)?1:dA(r)?128:GA(r)?64:Kt(r)?4:tt(r)?2:0;return at(r,e,t,n,i,s,o,!0)}function zA(r){return r?r3(r)||J0 in r?qr({},r):r:null}function ja(r,e,t=!1){const{props:n,ref:i,patchFlag:o,children:s}=r,a=e?WA(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:a,key:a&&R3(a),ref:e&&e.ref?t&&i?Ye(i)?i.concat(zl(e)):[i,zl(e)]:zl(e):i,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==cn?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&ja(r.ssContent),ssFallback:r.ssFallback&&ja(r.ssFallback),el:r.el,anchor:r.anchor}}function yt(r=" ",e=0){return Ct(Hp,null,r,e)}function Pi(r){return r==null||typeof r=="boolean"?Ct(Va):Ye(r)?Ct(cn,null,r.slice()):typeof r=="object"?Uo(r):Ct(Hp,null,String(r))}function Uo(r){return r.el===null||r.memo?r:ja(r)}function Vp(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(Ye(e))t=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),Vp(r,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!(J0 in e)?e._ctx=un:i===3&&un&&(un.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:un},t=32):(e=String(e),n&64?(t=16,e=[yt(e)]):t=8);r.children=e,r.shapeFlag|=t}function WA(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=kp([e.class,n.class]));else if(i==="style")e.style=Sp([e.style,n.style]);else if(j0(i)){const o=e[i],s=n[i];s&&o!==s&&!(Ye(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=n[i])}return e}function yi(r,e,t,n=null){ai(r,e,7,[t,n])}const QA=I3();let JA=0;function YA(r,e,t){const n=r.type,i=(e?e.appContext:r.appContext)||QA,o={uid:JA++,vnode:r,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new A5(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:P3(n,i),emitsOptions:p3(n,i),emit:null,emitted:null,propsDefaults:Ut,inheritAttrs:n.inheritAttrs,ctx:Ut,data:Ut,props:Ut,attrs:Ut,slots:Ut,refs:Ut,setupState:Ut,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=aA.bind(null,o),r.ce&&r.ce(o),o}let Tr=null;const Ga=r=>{Tr=r,r.scope.on()},_s=()=>{Tr&&Tr.scope.off(),Tr=null};function D3(r){return r.vnode.shapeFlag&4}let yc=!1;function XA(r,e=!1){yc=e;const{props:t,children:n}=r.vnode,i=D3(r);NA(r,t,i,e),DA(r,n);const o=i?ZA(r,e):void 0;return yc=!1,o}function ZA(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=n3(new Proxy(r.ctx,MA));const{setup:n}=t;if(n){const i=r.setupContext=n.length>1?t7(r):null;Ga(r),lf();const o=Ko(n,r,0,[r.props,i]);if(uf(),_s(),Vy(o)){if(o.then(_s,_s),e)return o.then(s=>{Um(r,s,e)}).catch(s=>{K0(s,r,0)});r.asyncDep=o}else Um(r,o,e)}else L3(r,e)}function Um(r,e,t){tt(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Kt(e)&&(r.setupState=a3(e)),L3(r,t)}let Fm;function L3(r,e,t){const n=r.type;if(!r.render){if(!e&&Fm&&!n.render){const i=n.template;if(i){const{isCustomElement:o,compilerOptions:s}=r.appContext.config,{delimiters:a,compilerOptions:c}=n,d=qr(qr({isCustomElement:o,delimiters:a},s),c);n.render=Fm(i,d)}}r.render=n.render||si}Ga(r),lf(),PA(r),uf(),_s()}function e7(r){return new Proxy(r.attrs,{get(e,t){return dn(r,"get","$attrs"),e[t]}})}function t7(r){const e=n=>{r.exposed=n||{}};let t;return{get attrs(){return t||(t=e7(r))},slots:r.slots,emit:r.emit,expose:e}}function jp(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(a3(n3(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in c0)return c0[t](r)}}))}function r7(r){return tt(r)&&"__vccOpts"in r}const wn=(r,e)=>tA(r,e,yc);function U3(r,e,t){const n=arguments.length;return n===2?Kt(e)&&!Ye(e)?u0(e)?Ct(r,null,[e]):Ct(r,e):Ct(r,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&u0(t)&&(t=[t]),Ct(r,e,t))}const n7="3.2.38",i7="http://www.w3.org/2000/svg",xs=typeof document<"u"?document:null,Hm=xs&&xs.createElement("template"),o7={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,n)=>{const i=e?xs.createElementNS(i7,r):xs.createElement(r,t?{is:t}:void 0);return r==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:r=>xs.createTextNode(r),createComment:r=>xs.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>xs.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},cloneNode(r){const e=r.cloneNode(!0);return"_value"in r&&(e._value=r._value),e},insertStaticContent(r,e,t,n,i,o){const s=t?t.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===o||!(i=i.nextSibling)););else{Hm.innerHTML=n?`<svg>${r}</svg>`:r;const a=Hm.content;if(n){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function s7(r,e,t){const n=r._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}function a7(r,e,t){const n=r.style,i=vr(t);if(t&&!i){for(const o in t)V1(n,o,t[o]);if(e&&!vr(e))for(const o in e)t[o]==null&&V1(n,o,"")}else{const o=n.display;i?e!==t&&(n.cssText=t):e&&r.removeAttribute("style"),"_vod"in r&&(n.display=o)}}const Vm=/\s*!important$/;function V1(r,e,t){if(Ye(t))t.forEach(n=>V1(r,e,n));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const n=f7(r,e);Vm.test(t)?r.setProperty(cf(n),t.replace(Vm,""),"important"):r[n]=t}}const jm=["Webkit","Moz","ms"],Od={};function f7(r,e){const t=Od[e];if(t)return t;let n=Fa(e);if(n!=="filter"&&n in r)return Od[e]=n;n=qy(n);for(let i=0;i<jm.length;i++){const o=jm[i]+n;if(o in r)return Od[e]=o}return e}const Gm="http://www.w3.org/1999/xlink";function c7(r,e,t,n,i){if(n&&e.startsWith("xlink:"))t==null?r.removeAttributeNS(Gm,e.slice(6,e.length)):r.setAttributeNS(Gm,e,t);else{const o=c5(e);t==null||o&&!Uy(t)?r.removeAttribute(e):r.setAttribute(e,o?"":t)}}function l7(r,e,t,n,i,o,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,i,o),r[e]=t??"";return}if(e==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=t;const c=t??"";(r.value!==c||r.tagName==="OPTION")&&(r.value=c),t==null&&r.removeAttribute(e);return}let a=!1;if(t===""||t==null){const c=typeof r[e];c==="boolean"?t=Uy(t):t==null&&c==="string"?(t="",a=!0):c==="number"&&(t=0,a=!0)}try{r[e]=t}catch{}a&&r.removeAttribute(e)}const[F3,u7]=(()=>{let r=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(r=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[r,e]})();let j1=0;const d7=Promise.resolve(),h7=()=>{j1=0},p7=()=>j1||(d7.then(h7),j1=F3());function g7(r,e,t,n){r.addEventListener(e,t,n)}function m7(r,e,t,n){r.removeEventListener(e,t,n)}function b7(r,e,t,n,i=null){const o=r._vei||(r._vei={}),s=o[e];if(n&&s)s.value=n;else{const[a,c]=v7(e);if(n){const d=o[e]=y7(n,i);g7(r,a,d,c)}else s&&(m7(r,a,s,c),o[e]=void 0)}}const qm=/(?:Once|Passive|Capture)$/;function v7(r){let e;if(qm.test(r)){e={};let n;for(;n=r.match(qm);)r=r.slice(0,r.length-n[0].length),e[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):cf(r.slice(2)),e]}function y7(r,e){const t=n=>{const i=n.timeStamp||F3();(u7||i>=t.attached-1)&&ai(x7(n,t.value),e,5,[n])};return t.value=r,t.attached=p7(),t}function x7(r,e){if(Ye(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const $m=/^on[a-z]/,w7=(r,e,t,n,i=!1,o,s,a,c)=>{e==="class"?s7(r,n,i):e==="style"?a7(r,t,n):j0(e)?_p(e)||b7(r,e,t,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):A7(r,e,n,i))?l7(r,e,n,o,s,a,c):(e==="true-value"?r._trueValue=n:e==="false-value"&&(r._falseValue=n),c7(r,e,n,i))};function A7(r,e,t,n){return n?!!(e==="innerHTML"||e==="textContent"||e in r&&$m.test(e)&&tt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA"||$m.test(e)&&vr(t)?!1:e in r}const E7=qr({patchProp:w7},o7);let Km;function S7(){return Km||(Km=HA(E7))}const k7=(...r)=>{const e=S7().createApp(...r),{mount:t}=e;return e.mount=n=>{const i=_7(n);if(!i)return;const o=e._component;!tt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=t(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function _7(r){return vr(r)?document.querySelector(r):r}const M7="/token-negotiator-examples/vue-vite-boilerplate/assets/logo.da9b9095.svg";/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ba=typeof window<"u";function P7(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const _t=Object.assign;function Rd(r,e){const t={};for(const n in e){const i=e[n];t[n]=li(i)?i.map(r):r(i)}return t}const ic=()=>{},li=Array.isArray,T7=/\/$/,C7=r=>r.replace(T7,"");function Dd(r,e,t="/"){let n,i={},o="",s="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),o=e.slice(c+1,a>-1?a:e.length),i=r(o)),a>-1&&(n=n||e.slice(0,a),s=e.slice(a,e.length)),n=O7(n??e,t),{fullPath:n+(o&&"?")+o+s,path:n,query:i,hash:s}}function B7(r,e){const t=e.query?r(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function zm(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function I7(r,e,t){const n=e.matched.length-1,i=t.matched.length-1;return n>-1&&n===i&&qa(e.matched[n],t.matched[i])&&H3(e.params,t.params)&&r(e.query)===r(t.query)&&e.hash===t.hash}function qa(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function H3(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(!N7(r[t],e[t]))return!1;return!0}function N7(r,e){return li(r)?Wm(r,e):li(e)?Wm(e,r):r===e}function Wm(r,e){return li(e)?r.length===e.length&&r.every((t,n)=>t===e[n]):r.length===1&&r[0]===e}function O7(r,e){if(r.startsWith("/"))return r;if(!r)return e;const t=e.split("/"),n=r.split("/");let i=t.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var xc;(function(r){r.pop="pop",r.push="push"})(xc||(xc={}));var oc;(function(r){r.back="back",r.forward="forward",r.unknown=""})(oc||(oc={}));function R7(r){if(!r)if(ba){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),C7(r)}const D7=/^[^#]+#/;function L7(r,e){return r.replace(D7,"#")+e}function U7(r,e){const t=document.documentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const Y0=()=>({left:window.pageXOffset,top:window.pageYOffset});function F7(r){let e;if("el"in r){const t=r.el,n=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=U7(i,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Qm(r,e){return(history.state?history.state.position-e:-1)+r}const G1=new Map;function H7(r,e){G1.set(r,e)}function V7(r){const e=G1.get(r);return G1.delete(r),e}let j7=()=>location.protocol+"//"+location.host;function V3(r,e){const{pathname:t,search:n,hash:i}=e,o=r.indexOf("#");if(o>-1){let a=i.includes(r.slice(o))?r.slice(o).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),zm(c,"")}return zm(t,r)+n+i}function G7(r,e,t,n){let i=[],o=[],s=null;const a=({state:k})=>{const _=V3(r,location),T=t.value,C=e.value;let M=0;if(k){if(t.value=_,e.value=k,s&&s===T){s=null;return}M=C?k.position-C.position:0}else n(_);i.forEach(P=>{P(t.value,T,{delta:M,type:xc.pop,direction:M?M>0?oc.forward:oc.back:oc.unknown})})};function c(){s=t.value}function d(k){i.push(k);const _=()=>{const T=i.indexOf(k);T>-1&&i.splice(T,1)};return o.push(_),_}function l(){const{history:k}=window;!k.state||k.replaceState(_t({},k.state,{scroll:Y0()}),"")}function p(){for(const k of o)k();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:d,destroy:p}}function Jm(r,e,t,n=!1,i=!1){return{back:r,current:e,forward:t,replaced:n,position:window.history.length,scroll:i?Y0():null}}function q7(r){const{history:e,location:t}=window,n={value:V3(r,t)},i={value:e.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(c,d,l){const p=r.indexOf("#"),k=p>-1?(t.host&&document.querySelector("base")?r:r.slice(p))+c:j7()+r+c;try{e[l?"replaceState":"pushState"](d,"",k),i.value=d}catch(_){console.error(_),t[l?"replace":"assign"](k)}}function s(c,d){const l=_t({},e.state,Jm(i.value.back,c,i.value.forward,!0),d,{position:i.value.position});o(c,l,!0),n.value=c}function a(c,d){const l=_t({},i.value,e.state,{forward:c,scroll:Y0()});o(l.current,l,!0);const p=_t({},Jm(n.value,c,null),{position:l.position+1},d);o(c,p,!1),n.value=c}return{location:n,state:i,push:a,replace:s}}function $7(r){r=R7(r);const e=q7(r),t=G7(r,e.state,e.location,e.replace);function n(o,s=!0){s||t.pauseListeners(),history.go(o)}const i=_t({location:"",base:r,go:n,createHref:L7.bind(null,r)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function K7(r){return typeof r=="string"||r&&typeof r=="object"}function j3(r){return typeof r=="string"||typeof r=="symbol"}const Oo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},G3=Symbol("");var Ym;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(Ym||(Ym={}));function $a(r,e){return _t(new Error,{type:r,[G3]:!0},e)}function Ji(r,e){return r instanceof Error&&G3 in r&&(e==null||!!(r.type&e))}const Xm="[^/]+?",z7={sensitive:!1,strict:!1,start:!0,end:!0},W7=/[.+*?^${}()[\]/\\]/g;function Q7(r,e){const t=_t({},z7,e),n=[];let i=t.start?"^":"";const o=[];for(const d of r){const l=d.length?[]:[90];t.strict&&!d.length&&(i+="/");for(let p=0;p<d.length;p++){const k=d[p];let _=40+(t.sensitive?.25:0);if(k.type===0)p||(i+="/"),i+=k.value.replace(W7,"\\$&"),_+=40;else if(k.type===1){const{value:T,repeatable:C,optional:M,regexp:P}=k;o.push({name:T,repeatable:C,optional:M});const N=P||Xm;if(N!==Xm){_+=10;try{new RegExp(`(${N})`)}catch($){throw new Error(`Invalid custom RegExp for param "${T}" (${N}): `+$.message)}}let U=C?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;p||(U=M&&d.length<2?`(?:/${U})`:"/"+U),M&&(U+="?"),i+=U,_+=20,M&&(_+=-8),C&&(_+=-20),N===".*"&&(_+=-50)}l.push(_)}n.push(l)}if(t.strict&&t.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&(i+="(?:/|$)");const s=new RegExp(i,t.sensitive?"":"i");function a(d){const l=d.match(s),p={};if(!l)return null;for(let k=1;k<l.length;k++){const _=l[k]||"",T=o[k-1];p[T.name]=_&&T.repeatable?_.split("/"):_}return p}function c(d){let l="",p=!1;for(const k of r){(!p||!l.endsWith("/"))&&(l+="/"),p=!1;for(const _ of k)if(_.type===0)l+=_.value;else if(_.type===1){const{value:T,repeatable:C,optional:M}=_,P=T in d?d[T]:"";if(li(P)&&!C)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const N=li(P)?P.join("/"):P;if(!N)if(M)k.length<2&&(l.endsWith("/")?l=l.slice(0,-1):p=!0);else throw new Error(`Missing required param "${T}"`);l+=N}}return l||"/"}return{re:s,score:n,keys:o,parse:a,stringify:c}}function J7(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=e[t]-r[t];if(n)return n;t++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Y7(r,e){let t=0;const n=r.score,i=e.score;for(;t<n.length&&t<i.length;){const o=J7(n[t],i[t]);if(o)return o;t++}if(Math.abs(i.length-n.length)===1){if(Zm(n))return 1;if(Zm(i))return-1}return i.length-n.length}function Zm(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const X7={type:0,value:""},Z7=/[a-zA-Z0-9_]/;function e9(r){if(!r)return[[]];if(r==="/")return[[X7]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(_){throw new Error(`ERR (${t})/"${d}": ${_}`)}let t=0,n=t;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,c,d="",l="";function p(){!d||(t===0?o.push({type:0,value:d}):t===1||t===2||t===3?(o.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function k(){d+=c}for(;a<r.length;){if(c=r[a++],c==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:c==="/"?(d&&p(),s()):c===":"?(p(),t=1):k();break;case 4:k(),t=n;break;case 1:c==="("?t=2:Z7.test(c)?k():(p(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:t=3:l+=c;break;case 3:p(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${d}"`),p(),s(),i}function t9(r,e,t){const n=Q7(e9(r.path),t),i=_t(n,{record:r,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function r9(r,e){const t=[],n=new Map;e=rb({strict:!1,end:!0,sensitive:!1},e);function i(l){return n.get(l)}function o(l,p,k){const _=!k,T=n9(l);T.aliasOf=k&&k.record;const C=rb(e,l),M=[T];if("alias"in l){const U=typeof l.alias=="string"?[l.alias]:l.alias;for(const $ of U)M.push(_t({},T,{components:k?k.record.components:T.components,path:$,aliasOf:k?k.record:T}))}let P,N;for(const U of M){const{path:$}=U;if(p&&$[0]!=="/"){const G=p.record.path,X=G[G.length-1]==="/"?"":"/";U.path=p.record.path+($&&X+$)}if(P=t9(U,p,C),k?k.alias.push(P):(N=N||P,N!==P&&N.alias.push(P),_&&l.name&&!tb(P)&&s(l.name)),T.children){const G=T.children;for(let X=0;X<G.length;X++)o(G[X],P,k&&k.children[X])}k=k||P,c(P)}return N?()=>{s(N)}:ic}function s(l){if(j3(l)){const p=n.get(l);p&&(n.delete(l),t.splice(t.indexOf(p),1),p.children.forEach(s),p.alias.forEach(s))}else{const p=t.indexOf(l);p>-1&&(t.splice(p,1),l.record.name&&n.delete(l.record.name),l.children.forEach(s),l.alias.forEach(s))}}function a(){return t}function c(l){let p=0;for(;p<t.length&&Y7(l,t[p])>=0&&(l.record.path!==t[p].record.path||!q3(l,t[p]));)p++;t.splice(p,0,l),l.record.name&&!tb(l)&&n.set(l.record.name,l)}function d(l,p){let k,_={},T,C;if("name"in l&&l.name){if(k=n.get(l.name),!k)throw $a(1,{location:l});C=k.record.name,_=_t(eb(p.params,k.keys.filter(N=>!N.optional).map(N=>N.name)),l.params&&eb(l.params,k.keys.map(N=>N.name))),T=k.stringify(_)}else if("path"in l)T=l.path,k=t.find(N=>N.re.test(T)),k&&(_=k.parse(T),C=k.record.name);else{if(k=p.name?n.get(p.name):t.find(N=>N.re.test(p.path)),!k)throw $a(1,{location:l,currentLocation:p});C=k.record.name,_=_t({},p.params,l.params),T=k.stringify(_)}const M=[];let P=k;for(;P;)M.unshift(P.record),P=P.parent;return{name:C,path:T,params:_,matched:M,meta:o9(M)}}return r.forEach(l=>o(l)),{addRoute:o,resolve:d,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function eb(r,e){const t={};for(const n of e)n in r&&(t[n]=r[n]);return t}function n9(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:i9(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function i9(r){const e={},t=r.props||!1;if("component"in r)e.default=t;else for(const n in r.components)e[n]=typeof t=="boolean"?t:t[n];return e}function tb(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function o9(r){return r.reduce((e,t)=>_t(e,t.meta),{})}function rb(r,e){const t={};for(const n in r)t[n]=n in e?e[n]:r[n];return t}function q3(r,e){return e.children.some(t=>t===r||q3(r,t))}const $3=/#/g,s9=/&/g,a9=/\//g,f9=/=/g,c9=/\?/g,K3=/\+/g,l9=/%5B/g,u9=/%5D/g,z3=/%5E/g,d9=/%60/g,W3=/%7B/g,h9=/%7C/g,Q3=/%7D/g,p9=/%20/g;function Gp(r){return encodeURI(""+r).replace(h9,"|").replace(l9,"[").replace(u9,"]")}function g9(r){return Gp(r).replace(W3,"{").replace(Q3,"}").replace(z3,"^")}function q1(r){return Gp(r).replace(K3,"%2B").replace(p9,"+").replace($3,"%23").replace(s9,"%26").replace(d9,"`").replace(W3,"{").replace(Q3,"}").replace(z3,"^")}function m9(r){return q1(r).replace(f9,"%3D")}function b9(r){return Gp(r).replace($3,"%23").replace(c9,"%3F")}function v9(r){return r==null?"":b9(r).replace(a9,"%2F")}function d0(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function y9(r){const e={};if(r===""||r==="?")return e;const n=(r[0]==="?"?r.slice(1):r).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(K3," "),s=o.indexOf("="),a=d0(s<0?o:o.slice(0,s)),c=s<0?null:d0(o.slice(s+1));if(a in e){let d=e[a];li(d)||(d=e[a]=[d]),d.push(c)}else e[a]=c}return e}function nb(r){let e="";for(let t in r){const n=r[t];if(t=m9(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(li(n)?n.map(o=>o&&q1(o)):[n&&q1(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+t,o!=null&&(e+="="+o))})}return e}function x9(r){const e={};for(const t in r){const n=r[t];n!==void 0&&(e[t]=li(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const w9=Symbol(""),ib=Symbol(""),qp=Symbol(""),J3=Symbol(""),$1=Symbol("");function Of(){let r=[];function e(n){return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}function t(){r=[]}return{add:e,list:()=>r,reset:t}}function Fo(r,e,t,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const c=p=>{p===!1?a($a(4,{from:t,to:e})):p instanceof Error?a(p):K7(p)?a($a(2,{from:e,to:p})):(o&&n.enterCallbacks[i]===o&&typeof p=="function"&&o.push(p),s())},d=r.call(n&&n.instances[i],e,t,c);let l=Promise.resolve(d);r.length<3&&(l=l.then(c)),l.catch(p=>a(p))})}function Ld(r,e,t,n){const i=[];for(const o of r)for(const s in o.components){let a=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(A9(a)){const d=(a.__vccOpts||a)[e];d&&i.push(Fo(d,t,n,o,s))}else{let c=a();i.push(()=>c.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const l=P7(d)?d.default:d;o.components[s]=l;const k=(l.__vccOpts||l)[e];return k&&Fo(k,t,n,o,s)()}))}}return i}function A9(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function ob(r){const e=zo(qp),t=zo(J3),n=wn(()=>e.resolve(fo(r.to))),i=wn(()=>{const{matched:c}=n.value,{length:d}=c,l=c[d-1],p=t.matched;if(!l||!p.length)return-1;const k=p.findIndex(qa.bind(null,l));if(k>-1)return k;const _=sb(c[d-2]);return d>1&&sb(l)===_&&p[p.length-1].path!==_?p.findIndex(qa.bind(null,c[d-2])):k}),o=wn(()=>i.value>-1&&k9(t.params,n.value.params)),s=wn(()=>i.value>-1&&i.value===t.matched.length-1&&H3(t.params,n.value.params));function a(c={}){return S9(c)?e[fo(r.replace)?"replace":"push"](fo(r.to)).catch(ic):Promise.resolve()}return{route:n,href:wn(()=>n.value.href),isActive:o,isExactActive:s,navigate:a}}const E9=y3({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ob,setup(r,{slots:e}){const t=df(ob(r)),{options:n}=zo(qp),i=wn(()=>({[ab(r.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[ab(r.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const o=e.default&&e.default(t);return r.custom?o:U3("a",{"aria-current":t.isExactActive?r.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},o)}}}),K1=E9;function S9(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function k9(r,e){for(const t in e){const n=e[t],i=r[t];if(typeof n=="string"){if(n!==i)return!1}else if(!li(i)||i.length!==n.length||n.some((o,s)=>o!==i[s]))return!1}return!0}function sb(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const ab=(r,e,t)=>r??e??t,_9=y3({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:t}){const n=zo($1),i=wn(()=>r.route||n.value),o=zo(ib,0),s=wn(()=>{let d=fo(o);const{matched:l}=i.value;let p;for(;(p=l[d])&&!p.components;)d++;return d}),a=wn(()=>i.value.matched[s.value]);$l(ib,wn(()=>s.value+1)),$l(w9,a),$l($1,i);const c=J5();return Kl(()=>[c.value,a.value,r.name],([d,l,p],[k,_,T])=>{l&&(l.instances[p]=d,_&&_!==l&&d&&d===k&&(l.leaveGuards.size||(l.leaveGuards=_.leaveGuards),l.updateGuards.size||(l.updateGuards=_.updateGuards))),d&&l&&(!_||!qa(l,_)||!k)&&(l.enterCallbacks[p]||[]).forEach(C=>C(d))},{flush:"post"}),()=>{const d=i.value,l=r.name,p=a.value,k=p&&p.components[l];if(!k)return fb(t.default,{Component:k,route:d});const _=p.props[l],T=_?_===!0?d.params:typeof _=="function"?_(d):_:null,M=U3(k,_t({},T,e,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(p.instances[l]=null)},ref:c}));return fb(t.default,{Component:M,route:d})||M}}});function fb(r,e){if(!r)return null;const t=r(e);return t.length===1?t[0]:t}const Y3=_9;function M9(r){const e=r9(r.routes,r),t=r.parseQuery||y9,n=r.stringifyQuery||nb,i=r.history,o=Of(),s=Of(),a=Of(),c=Y5(Oo);let d=Oo;ba&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Rd.bind(null,A=>""+A),p=Rd.bind(null,v9),k=Rd.bind(null,d0);function _(A,B){let L,F;return j3(A)?(L=e.getRecordMatcher(A),F=B):F=A,e.addRoute(F,L)}function T(A){const B=e.getRecordMatcher(A);B&&e.removeRoute(B)}function C(){return e.getRoutes().map(A=>A.record)}function M(A){return!!e.getRecordMatcher(A)}function P(A,B){if(B=_t({},B||c.value),typeof A=="string"){const z=Dd(t,A,B.path),R=e.resolve({path:z.path},B),D=i.createHref(z.fullPath);return _t(z,R,{params:k(R.params),hash:d0(z.hash),redirectedFrom:void 0,href:D})}let L;if("path"in A)L=_t({},A,{path:Dd(t,A.path,B.path).path});else{const z=_t({},A.params);for(const R in z)z[R]==null&&delete z[R];L=_t({},A,{params:p(A.params)}),B.params=p(B.params)}const F=e.resolve(L,B),q=A.hash||"";F.params=l(k(F.params));const ie=B7(n,_t({},A,{hash:g9(q),path:F.path})),J=i.createHref(ie);return _t({fullPath:ie,hash:q,query:n===nb?x9(A.query):A.query||{}},F,{redirectedFrom:void 0,href:J})}function N(A){return typeof A=="string"?Dd(t,A,c.value.path):_t({},A)}function U(A,B){if(d!==A)return $a(8,{from:B,to:A})}function $(A){return ye(A)}function G(A){return $(_t(N(A),{replace:!0}))}function X(A){const B=A.matched[A.matched.length-1];if(B&&B.redirect){const{redirect:L}=B;let F=typeof L=="function"?L(A):L;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=N(F):{path:F},F.params={}),_t({query:A.query,hash:A.hash,params:"path"in F?{}:A.params},F)}}function ye(A,B){const L=d=P(A),F=c.value,q=A.state,ie=A.force,J=A.replace===!0,z=X(L);if(z)return ye(_t(N(z),{state:typeof z=="object"?_t({},q,z.state):q,force:ie,replace:J}),B||L);const R=L;R.redirectedFrom=B;let D;return!ie&&I7(n,F,L)&&(D=$a(16,{to:R,from:F}),v(F,F,!0,!1)),(D?Promise.resolve(D):me(R,F)).catch(H=>Ji(H)?Ji(H,2)?H:w(H):y(H,R,F)).then(H=>{if(H){if(Ji(H,2))return ye(_t({replace:J},N(H.to),{state:typeof H.to=="object"?_t({},q,H.to.state):q,force:ie}),B||R)}else H=I(R,F,!0,J,q);return Be(R,F,H),H})}function ce(A,B){const L=U(A,B);return L?Promise.reject(L):Promise.resolve()}function me(A,B){let L;const[F,q,ie]=P9(A,B);L=Ld(F.reverse(),"beforeRouteLeave",A,B);for(const z of F)z.leaveGuards.forEach(R=>{L.push(Fo(R,A,B))});const J=ce.bind(null,A,B);return L.push(J),fa(L).then(()=>{L=[];for(const z of o.list())L.push(Fo(z,A,B));return L.push(J),fa(L)}).then(()=>{L=Ld(q,"beforeRouteUpdate",A,B);for(const z of q)z.updateGuards.forEach(R=>{L.push(Fo(R,A,B))});return L.push(J),fa(L)}).then(()=>{L=[];for(const z of A.matched)if(z.beforeEnter&&!B.matched.includes(z))if(li(z.beforeEnter))for(const R of z.beforeEnter)L.push(Fo(R,A,B));else L.push(Fo(z.beforeEnter,A,B));return L.push(J),fa(L)}).then(()=>(A.matched.forEach(z=>z.enterCallbacks={}),L=Ld(ie,"beforeRouteEnter",A,B),L.push(J),fa(L))).then(()=>{L=[];for(const z of s.list())L.push(Fo(z,A,B));return L.push(J),fa(L)}).catch(z=>Ji(z,8)?z:Promise.reject(z))}function Be(A,B,L){for(const F of a.list())F(A,B,L)}function I(A,B,L,F,q){const ie=U(A,B);if(ie)return ie;const J=B===Oo,z=ba?history.state:{};L&&(F||J?i.replace(A.fullPath,_t({scroll:J&&z&&z.scroll},q)):i.push(A.fullPath,q)),c.value=A,v(A,B,L,J),w()}let E;function m(){E||(E=i.listen((A,B,L)=>{if(!O.listening)return;const F=P(A),q=X(F);if(q){ye(_t(q,{replace:!0}),F).catch(ic);return}d=F;const ie=c.value;ba&&H7(Qm(ie.fullPath,L.delta),Y0()),me(F,ie).catch(J=>Ji(J,12)?J:Ji(J,2)?(ye(J.to,F).then(z=>{Ji(z,20)&&!L.delta&&L.type===xc.pop&&i.go(-1,!1)}).catch(ic),Promise.reject()):(L.delta&&i.go(-L.delta,!1),y(J,F,ie))).then(J=>{J=J||I(F,ie,!1),J&&(L.delta&&!Ji(J,8)?i.go(-L.delta,!1):L.type===xc.pop&&Ji(J,20)&&i.go(-1,!1)),Be(F,ie,J)}).catch(ic)}))}let f=Of(),h=Of(),b;function y(A,B,L){w(A);const F=h.list();return F.length?F.forEach(q=>q(A,B,L)):console.error(A),Promise.reject(A)}function x(){return b&&c.value!==Oo?Promise.resolve():new Promise((A,B)=>{f.add([A,B])})}function w(A){return b||(b=!A,m(),f.list().forEach(([B,L])=>A?L(A):B()),f.reset()),A}function v(A,B,L,F){const{scrollBehavior:q}=r;if(!ba||!q)return Promise.resolve();const ie=!L&&V7(Qm(A.fullPath,0))||(F||!L)&&history.state&&history.state.scroll||null;return l3().then(()=>q(A,B,ie)).then(J=>J&&F7(J)).catch(J=>y(J,A,B))}const g=A=>i.go(A);let u;const S=new Set,O={currentRoute:c,listening:!0,addRoute:_,removeRoute:T,hasRoute:M,getRoutes:C,resolve:P,options:r,push:$,replace:G,go:g,back:()=>g(-1),forward:()=>g(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:h.add,isReady:x,install(A){const B=this;A.component("RouterLink",K1),A.component("RouterView",Y3),A.config.globalProperties.$router=B,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>fo(c)}),ba&&!u&&c.value===Oo&&(u=!0,$(i.location).catch(q=>{}));const L={};for(const q in Oo)L[q]=wn(()=>c.value[q]);A.provide(qp,B),A.provide(J3,df(L)),A.provide($1,c);const F=A.unmount;S.add(A),A.unmount=function(){S.delete(A),S.size<1&&(d=Oo,E&&E(),E=null,c.value=Oo,u=!1,b=!1),F()}}};return O}function fa(r){return r.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function P9(r,e){const t=[],n=[],i=[],o=Math.max(e.matched.length,r.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(r.matched.find(d=>qa(d,a))?n.push(a):t.push(a));const c=r.matched[s];c&&(e.matched.find(d=>qa(d,c))||i.push(c))}return[t,n,i]}const ts=(r,e)=>{const t=r.__vccOpts||r;for(const[n,i]of e)t[n]=i;return t},T9=r=>(g3("data-v-8271569a"),r=r(),m3(),r),C9={class:"greetings"},B9={class:"green"},I9=T9(()=>at("h3",null,[yt(" You\u2019ve successfully created a project with "),at("a",{target:"_blank",href:"https://vitejs.dev/",rel:"noopener"},"Vite"),yt(" + "),at("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"Vue 3"),yt(". ")],-1)),N9={__name:"HelloWorld",props:{msg:{type:String,required:!0}},setup(r){return(e,t)=>(pi(),$i("div",C9,[at("h1",B9,h5(r.msg),1),I9]))}},O9=ts(N9,[["__scopeId","data-v-8271569a"]]),R9="modulepreload",D9=function(r){return"/token-negotiator-examples/vue-vite-boilerplate/"+r},cb={},_i=function(e,t,n){return!t||t.length===0?e():Promise.all(t.map(i=>{if(i=D9(i),i in cb)return;cb[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":R9,o||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),o)return new Promise((c,d)=>{a.addEventListener("load",c),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var L9=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};function ke(r,...e){!window.DISPLAY_DEBUG_LEVEL||r>parseInt(window.DISPLAY_DEBUG_LEVEL)||console.log(...e)}const ws=(r,e)=>{if(!r)throw new Error(e)},U9=(r,e)=>{const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(let i of t)if(typeof e[i]=="object"){if(JSON.stringify(r[i])!==JSON.stringify(e[i]))return!1}else if(r[i]!==e[i])return!1;return!0},X3=r=>(r=r.split("-").join("+").split("_").join("/").split(".").join("="),Uint8Array.from(atob(r),e=>e.charCodeAt(0))),F9=r=>{window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r)},H9=r=>{window.removeEventListener?window.removeEventListener("message",r):window.detachEvent("onmessage",r)},V9=r=>new Promise(e=>{if(document.querySelector(r))return e(document.querySelector(r));const t=new MutationObserver(()=>{document.querySelector(r)&&(e(document.querySelector(r)),t.disconnect())});t.observe(document.body,{childList:!0,subtree:!0})}),Xn=(r,e,t,n,i=!0,o=!1)=>{var s;let a;if(typeof r=="object"?a=(s=r.message)!==null&&s!==void 0?s:"Unknown error type: "+JSON.stringify(r):a=r,i&&ke(2,e+": "+a),t&&t(),o)throw new j9(a,r);return{type:e,message:r,data:n}};class j9 extends Error{constructor(e,t,n){super(e),this.originalError=t,this.code=n}}const X0=(r,e)=>L9(void 0,void 0,void 0,function*(){try{const t=yield fetch(r),n=t.status>=200&&t.status<=299;if(!n&&e===!0){console.warn("token api request failed: ",r);return}if(n)return t.json();throw new Error(`HTTP error! status: ${t.status}`)}catch{throw new Error("HTTP error.")}}),$p=(r,e=[],t=Tt)=>{if(t)for(let n of Array.from(r.keys()))n.indexOf(t)===0&&r.delete(n);for(let n of e)r.has(n)&&r.delete(n);return r},Z0=()=>{var r;const t=typeof window<"u"&&window.navigator.userAgent.toLowerCase(),n=t&&/msie|trident/.test(t),i=t&&t.indexOf("msie 9.0")>0,o=t&&t.indexOf("edg/")>0,s=t&&/chrome\/\d+/.test(t)&&!o,a=t&&/phantomjs/.test(t),c=t&&/firefox|fxios\/\d+/.test(t),d=ex()||Z3(),l=!!window.navigator.brave,p=t&&t.indexOf("android")>0,k=t&&/iphone|ipad|ipod|ios/.test(t),_=t&&/\smac\s/.test(t),T=t&&/windows/.test(t);let C=!1,M=window.matchMedia;M&&(C=M("(pointer:coarse)").matches);let P=window.ethereum;typeof window.ethereum>"u"&&(P={isMetaMask:!1,isAlphaWallet:!1,isTrust:!1,isStatusWallet:!1,isGoWallet:!1,isBraveWallet:!1});const N=C&&!!P.isAlphaWallet,U=C&&!!P.isTrust,$=C&&!!P.isStatusWallet,G=C&&!!P.isGoWallet,X=C&&!!P.isTrust&&!!P.isMetaMask,ye=!!navigator.userAgent.match(/\simToken\//),ce=C&&!!P.isMetaMask&&!U&&!l;return{iE:n,iE9:i,edge:o,chrome:s,phantomJS:a,fireFox:c,safari:d,android:p,iOS:k,mac:_,windows:T,desktop:((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Mobi"))===-1,touchDevice:C,metaMask:ce,anyMetamask:!!P.isMetaMask&&!U&&!P.isBraveWallet,alphaWallet:N,mew:X,trust:U,goWallet:G,status:$,imToken:ye,brave:l,braveAndroid:l&&p,braveIOS:l&&k,metaMaskAndroid:p&&ce,alphaWalletAndroid:p&&N,mewAndroid:p&&X,imTokenAndroid:p&&ye}};function eu(){return!!window.navigator.brave}function Z3(){let r=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():"";return/ip(ad|od|hone)/i.test(r)&&/webkit/i.test(r)&&!/(crios|fxios|opios|mercury)/i.test(r)&&!eu()}function ex(){return!!window.safari}function tx(){return ex()||Z3()}function G9(){let r=Z0();return r.iOS||tx()||eu()||r.fireFox}function z1(r){let e=Z0();switch(r){case"always":return!0;case"never":return!1;default:return eu()||e.fireFox||e.iOS&&!tx()}}var q9=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})},co;(function(r){r.COOKIE_CHECK="cookie-check",r.ERROR="error",r.SHOW_FRAME="show-frame"})(co||(co={}));const Tt="tn-";class sc{constructor(){this.iframeStorageSupport=null,this.iframe=null,this.listenerSet=!1}sendMessage(e,t=!1,n=!1){return q9(this,void 0,void 0,function*(){if(ke(2,"Send request: "),ke(2,e),n){this.sendRedirect(e,n);return}if(!t&&this.iframeStorageSupport===null&&(this.iframeStorageSupport=!G9()),!t&&this.iframeStorageSupport!==!1)try{return yield this.sendIframe(e)}catch(i){if(i==="IFRAME_STORAGE")return this.sendPopup(e);throw i}else return this.sendPopup(e)})}sendRedirect(e,t){let n=sc.getUniqueEventId(),o=`${this.constructUrl(n,e)}&${Tt}redirect=true&${Tt}requestor=${encodeURIComponent(t)}`;ke(2,`redirect from ${document.location.href} to ${o}`),document.location.href=o}sendIframe(e){return new Promise((t,n)=>{let i=sc.getUniqueEventId(),o=this.constructUrl(i,e);this.iframe=this.createIframe(()=>{this.listenerSet=!1,this.removeModal(),n(oi.USER_ABORT)}),this.listenerSet||(this.listenerSet=!0,this.setResponseListener(i,e.origin,e.timeout,t,n,()=>{this.listenerSet=!1,this.removeModal()})),this.iframe.src=o})}sendPopup(e){return new Promise((t,n)=>{let i=sc.getUniqueEventId(),o=null;if(this.setResponseListener(i,e.origin,e.timeout,t,n,()=>{o&&o.close()}),o=this.openTab(this.constructUrl(i,e)),!o||o.closed||typeof o.closed>"u"){n(oi.POPUP_BLOCKED);return}let s=setInterval(()=>{(!o||o.closed)&&(clearInterval(s),n(oi.USER_ABORT))},500)})}setResponseListener(e,t,n,i,o,s){let a=!1,c=null,d=p=>{if(p.data.target)return;let k=p.data,_=new URL(t);if(k.evtid===e)if(_.origin===p.origin&&k.evt){if(ke(2,"event response received"),ke(2,p.data),a=!0,k.evt===co.ERROR)k.errors[0]==="IFRAME_STORAGE"?(this.iframeStorageSupport=!1,o("IFRAME_STORAGE")):o(new Error(k.errors.join(". ")));else if(k.evt===co.SHOW_FRAME){if(c&&clearTimeout(c),this.iframe){let T=this.getModal();if(T.style.display="block",k.max_width){let C=T.querySelector(".modal-content-tn");C&&(C.style.maxWidth=k.max_width)}if(k.min_height){let C=T.querySelector("iframe");C&&(C.style.minHeight=k.min_height)}}return}else i(k);l()}else ke(2,"Does not match origin "+p.origin)},l=()=>{c&&clearTimeout(c),H9(d),window.NEGOTIATOR_DEBUG||s()};F9(d),n===void 0&&(n=2e4),n>0&&(c=setTimeout(()=>{a||o(new Error("Failed to receive response from window/iframe")),l()},n))}getModal(e){let t=document.getElementById("modal-tn");return t||!e||(t=document.createElement("div"),t.id="modal-tn",t.className="modal-tn",t.style.display="none",t.innerHTML=`
            <div class="modal-content-tn">
                <div class="modal-header-tn">
                    <span class="modal-close-tn">&times;</span>
                </div>
                <div class="modal-body-tn"></div>
            </div>
        `,document.body.appendChild(t),t.getElementsByClassName("modal-close-tn")[0].addEventListener("click",()=>{e()})),t}removeModal(){let e=this.getModal();e&&(e.style.display="none",e.remove())}constructUrl(e,t){let n=`${t.origin}#${Tt}evtid=${e}&${Tt}action=${t.action}`;typeof t.data.token<"u"&&(n+=`&${Tt}token=${encodeURIComponent(JSON.stringify(t.data.token))}`);for(let i in t.data){let o=t.data[i];i==="issuer"||i==="token"||!o||(o instanceof Array||o instanceof Object?n+=`&${Tt}${i}=${JSON.stringify(o)}`:i==="urlParams"?n+=`&${o}`:n+=`&${Tt}${i}=${o}`)}return n}openTab(e){return window.open(e,"_blank")}createIframe(e){const t=document.createElement("iframe");return t.setAttribute("allow","clipboard-read"),this.getModal(e).getElementsByClassName("modal-body-tn")[0].appendChild(t),t}static getUniqueEventId(){return new Date().getTime().toString()}}var $9=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})},Sn;(function(r){r.MAGIC_URL="magic-url",r.GET_ISSUER_TOKENS="get-issuer-tokens",r.GET_PROOF="get-proof",r.GET_PROOF_CALLBACK="proof-callback",r.EMAIL_ATTEST_CALLBACK="email-callback"})(Sn||(Sn={}));var wc;(function(r){r.ISSUER_TOKENS="issuer-tokens",r.PROOF="proof"})(wc||(wc={}));class Kp{constructor(){this.core=new sc}sendMessage(e,t=!1,n,i=!1){return $9(this,void 0,void 0,function*(){try{return yield this.core.sendMessage(e,t,i)}catch(o){if(o===oi.POPUP_BLOCKED){if(n)return this.handleUserClose(e,n,t);o=this.createNamedError(o,Ma.POPUP_BLOCKED)}throw o===oi.USER_ABORT&&(o=this.createNamedError(o,Ma.USER_ABORT)),o}})}handleUserClose(e,t,n){return new Promise((i,o)=>{t.showError("Mmmmm looks like your popup blocker is getting in the way."),t.setErrorRetryCallback(()=>{this.core.sendMessage(e,n).then(s=>{i(s)}).catch(s=>{s===oi.POPUP_BLOCKED?s=this.createNamedError(s,Ma.POPUP_BLOCKED):s===oi.USER_ABORT&&(s=this.createNamedError(s,Ma.USER_ABORT)),o(s)})})})}createNamedError(e,t){let n=new Error(t);return n.name=e,n}}class tu{constructor(e,t,n,i){this.client=e,this.ui=t,this.viewContainer=n,this.params=i,this.init()}init(){}update(e){this.params=Object.assign(Object.assign({},this.params),e),this.render()}}var K9=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class z9 extends tu{render(){this.viewContainer.innerHTML=this.renderMainTemplate(),this.viewContainer.querySelector(".opening-btn-tn").addEventListener("click",this.goToWalletSelection.bind(this))}renderMainTemplate(){var e;return`
			<div class="opening-content-view-tn">
              <div class="brand-tn"></div>
              <div class="inner-content-tn">
                <div class="inner-content-block-tn">
                  <button class="opening-btn-tn" aria-label="Start connecting your tokens">
				  ${(e=this.params.options.openingButtonText)!==null&&e!==void 0?e:"Let's go!"}
				  </button>
                  <div class="opening-heading-tn">${this.params.options.openingHeading}</div>
                </div>
              </div>
            </div>
		`}goToWalletSelection(){return K9(this,void 0,void 0,function*(){this.ui.showLoaderDelayed(["Initializing wallet.."],500);const e={viewTransition:"slide-in-right"};(yield this.ui.canSkipWalletSelection())?(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main",{viewName:"main"},e)):this.ui.updateUI("wallet",{viewName:"main"},e),this.ui.dismissLoader()})}}class Ka{constructor(e,t){this.autoEnableTokens=e,this.tokenPersistenceTTL=t,this.currentIssuers={},this.tokenData={},this.tokenLookup={},this.selectedTokens={},this.tokenPersistenceTTL>0&&this.loadTokenStore()}loadTokenStore(){const e=JSON.parse(localStorage.getItem(Ka.LOCAL_STORAGE_KEY));if(!!e){for(let t in e.tokenLookup){const n=e.tokenLookup[t];n.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenLookup[t]=n)}for(let t in e.tokenData){const n=e.tokenData[t];n.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenData[t]=n)}this.saveTokenStore()}}saveTokenStore(){this.tokenPersistenceTTL>0&&localStorage.setItem(Ka.LOCAL_STORAGE_KEY,JSON.stringify({tokenLookup:this.tokenLookup,tokenData:this.tokenData}))}updateIssuers(e){Object.keys(this.currentIssuers).length>0&&(this.selectedTokens={}),this.prePopulateTokenLookupStore(e)}clearCachedTokens(e){for(let t in this.tokenData)e!==void 0&&e!==this.tokenLookup[t].onChain||delete this.tokenData[t];this.selectedTokens={},this.saveTokenStore()}hasOnChainTokens(){for(let e in this.currentIssuers)if(this.currentIssuers[e])return!0;return!1}getCurrentIssuers(e){let t={};for(let n in this.currentIssuers)(e===void 0||e===this.currentIssuers[n])&&(t[n]=this.tokenLookup[n]);return t}getCurrentTokens(e){var t,n;let i={};for(let o in this.currentIssuers)(e===void 0||e===this.currentIssuers[o])&&(i[o]=(n=(t=this.tokenData[o])===null||t===void 0?void 0:t.tokens)!==null&&n!==void 0?n:[]);return i}getTotalTokenCount(e){const t=this.getCurrentTokens(e);return Object.keys(t).reduce((n,i)=>n+t[i].length,0)}hasUnloadedIssuers(){let e=this.getCurrentIssuers(!0);for(let t in e)if(!e[t].title)return!0;return!1}hasUnloadedTokens(){for(let e of Object.values(this.getCurrentTokens()))if(e.length===0)return!0;return!1}getIssuerTokens(e){var t;return this.tokenData[e]?(t=this.tokenData[e].tokens)!==null&&t!==void 0?t:[]:null}setTokens(e,t){this.tokenData[e]={timestamp:Date.now(),tokens:t},this.saveTokenStore(),this.autoEnableTokens&&(this.selectedTokens[e]={tokens:t})}getSelectedTokens(){return this.selectedTokens}setSelectedTokens(e){this.selectedTokens=e}prePopulateTokenLookupStore(e){let t={};e.forEach((n,i)=>{var o;if(!!n.collectionID){if(n.onChain===void 0&&(n.onChain=!0),n.collectionID=this.formatCollectionID(n.collectionID),t[n.collectionID]!==void 0){ke(1,`duplicate collectionID key ${n.collectionID}, use unique keys per collection.`);return}"chain"in n&&(n.chain=this.formatCollectionChain(n.chain)),this.tokenData[n.collectionID]!==void 0&&this.autoEnableTokens&&((o=this.tokenData[n.collectionID].tokens)===null||o===void 0?void 0:o.length)&&(this.selectedTokens[n.collectionID]={tokens:this.tokenData[n.collectionID].tokens}),this.tokenLookup[n.collectionID]||this.updateTokenLookupStore(n.collectionID,n,!1),t[n.collectionID]=n.onChain}}),this.currentIssuers=t}updateTokenLookupStore(e,t,n=!0){this.tokenLookup[e]=Object.assign(Object.assign(Object.assign({},this.tokenLookup[e]),t),{timestamp:Date.now()}),n&&this.saveTokenStore()}formatCollectionChain(e){return e.toLowerCase()}formatCollectionID(e){let t=e;return(/[A-Z]+/g.test(e)||/\s+/g.test(e))&&(t=e.replace(/\s+/g,"-").toLowerCase(),ke(1,`Token Negotiator: Spaces or capital letters found in collectionID definition ${e}, this has been re-formatted to ${t}`),e=t),e}}Ka.LOCAL_STORAGE_KEY="tn-tokenStore";class rx{constructor(e,t){this.params={},this.viewContainer=e,this.params=t}render(){let e=this.params.src,t;e&&e!=="undefined"?(t=document.createElement("img"),t.loading="lazy",t.addEventListener("load",n=>{this.onLoad(n)}),t.addEventListener("error",n=>{this.onError(n)}),t.src=e):(t=this.createAvatar(),this.viewContainer.classList.remove("shimmer-tn")),this.viewContainer.appendChild(t)}onLoad(e){this.viewContainer.classList.remove("shimmer-tn")}onError(e){this.viewContainer.innerHTML="",this.viewContainer.appendChild(this.createAvatar()),this.viewContainer.classList.remove("shimmer-tn")}createAvatar(){let e=document.createElement("img");return e.src=this.generateAvatar(this.params.title),e}generateAvatar(e){const t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=200,t.height=200,!n)return"";n.fillStyle=this.getRandomBackgroundColor(),n.fillRect(0,0,t.width,t.height),n.font="bold 100px 'Arial', sans-serif",n.fillStyle="#fff",n.textAlign="center",n.textBaseline="middle";let i=e.split(" "),o="";for(let s=0;o.length<2&&s<i.length;s++){let a=i[s].split("");a.length&&(o+=a[0].toUpperCase())}return n.fillText(o,t.width/2,t.height/2),t.toDataURL("image/png")}getRandomBackgroundColor(){return"#0029a7"}}var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _L(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function jt(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var nx={exports:{}};const W9={},Q9=Object.freeze(Object.defineProperty({__proto__:null,default:W9},Symbol.toStringTag,{value:"Module"})),wo=jt(Q9);(function(r){(function(e,t){function n(m,f){if(!m)throw new Error(f||"Assertion failed")}function i(m,f){m.super_=f;var h=function(){};h.prototype=f.prototype,m.prototype=new h,m.prototype.constructor=m}function o(m,f,h){if(o.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(m||0,f||10,h||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=wo.Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,h){return f.cmp(h)>0?f:h},o.min=function(f,h){return f.cmp(h)<0?f:h},o.prototype._init=function(f,h,b){if(typeof f=="number")return this._initNumber(f,h,b);if(typeof f=="object")return this._initArray(f,h,b);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var y=0;f[0]==="-"&&(y++,this.negative=1),y<f.length&&(h===16?this._parseHex(f,y,b):(this._parseBase(f,h,y),b==="le"&&this._initArray(this.toArray(),h,b)))},o.prototype._initNumber=function(f,h,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),h,b)},o.prototype._initArray=function(f,h,b){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x,w,v=0;if(b==="be")for(y=f.length-1,x=0;y>=0;y-=3)w=f[y]|f[y-1]<<8|f[y-2]<<16,this.words[x]|=w<<v&67108863,this.words[x+1]=w>>>26-v&67108863,v+=24,v>=26&&(v-=26,x++);else if(b==="le")for(y=0,x=0;y<f.length;y+=3)w=f[y]|f[y+1]<<8|f[y+2]<<16,this.words[x]|=w<<v&67108863,this.words[x+1]=w>>>26-v&67108863,v+=24,v>=26&&(v-=26,x++);return this._strip()};function a(m,f){var h=m.charCodeAt(f);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+m)}function c(m,f,h){var b=a(m,h);return h-1>=f&&(b|=a(m,h-1)<<4),b}o.prototype._parseHex=function(f,h,b){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x=0,w=0,v;if(b==="be")for(y=f.length-1;y>=h;y-=2)v=c(f,h,y)<<x,this.words[w]|=v&67108863,x>=18?(x-=18,w+=1,this.words[w]|=v>>>26):x+=8;else{var g=f.length-h;for(y=g%2===0?h+1:h;y<f.length;y+=2)v=c(f,h,y)<<x,this.words[w]|=v&67108863,x>=18?(x-=18,w+=1,this.words[w]|=v>>>26):x+=8}this._strip()};function d(m,f,h,b){for(var y=0,x=0,w=Math.min(m.length,h),v=f;v<w;v++){var g=m.charCodeAt(v)-48;y*=b,g>=49?x=g-49+10:g>=17?x=g-17+10:x=g,n(g>=0&&x<b,"Invalid character"),y+=x}return y}o.prototype._parseBase=function(f,h,b){this.words=[0],this.length=1;for(var y=0,x=1;x<=67108863;x*=h)y++;y--,x=x/h|0;for(var w=f.length-b,v=w%y,g=Math.min(w,w-v)+b,u=0,S=b;S<g;S+=y)u=d(f,S,S+y,h),this.imuln(x),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(v!==0){var O=1;for(u=d(f,S,f.length,h),S=0;S<v;S++)O*=h;this.imuln(O),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(m,f){m.words=f.words,m.length=f.length,m.negative=f.negative,m.red=f.red}if(o.prototype._move=function(f){l(f,this)},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{o.prototype.inspect=p}else o.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,h){f=f||10,h=h|0||1;var b;if(f===16||f==="hex"){b="";for(var y=0,x=0,w=0;w<this.length;w++){var v=this.words[w],g=((v<<y|x)&16777215).toString(16);x=v>>>24-y&16777215,y+=2,y>=26&&(y-=26,w--),x!==0||w!==this.length-1?b=k[6-g.length]+g+b:b=g+b}for(x!==0&&(b=x.toString(16)+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=_[f],S=T[f];b="";var O=this.clone();for(O.negative=0;!O.isZero();){var A=O.modrn(S).toString(f);O=O.idivn(S),O.isZero()?b=A+b:b=k[u-A.length]+A+b}for(this.isZero()&&(b="0"+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(f,h){return this.toArrayLike(s,f,h)}),o.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)};var C=function(f,h){return f.allocUnsafe?f.allocUnsafe(h):new f(h)};o.prototype.toArrayLike=function(f,h,b){this._strip();var y=this.byteLength(),x=b||Math.max(1,y);n(y<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var w=C(f,x),v=h==="le"?"LE":"BE";return this["_toArrayLike"+v](w,y),w},o.prototype._toArrayLikeLE=function(f,h){for(var b=0,y=0,x=0,w=0;x<this.length;x++){var v=this.words[x]<<w|y;f[b++]=v&255,b<f.length&&(f[b++]=v>>8&255),b<f.length&&(f[b++]=v>>16&255),w===6?(b<f.length&&(f[b++]=v>>24&255),y=0,w=0):(y=v>>>24,w+=2)}if(b<f.length)for(f[b++]=y;b<f.length;)f[b++]=0},o.prototype._toArrayLikeBE=function(f,h){for(var b=f.length-1,y=0,x=0,w=0;x<this.length;x++){var v=this.words[x]<<w|y;f[b--]=v&255,b>=0&&(f[b--]=v>>8&255),b>=0&&(f[b--]=v>>16&255),w===6?(b>=0&&(f[b--]=v>>24&255),y=0,w=0):(y=v>>>24,w+=2)}if(b>=0)for(f[b--]=y;b>=0;)f[b--]=0},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var h=f,b=0;return h>=4096&&(b+=13,h>>>=13),h>=64&&(b+=7,h>>>=7),h>=8&&(b+=4,h>>>=4),h>=2&&(b+=2,h>>>=2),b+h},o.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,b=0;return(h&8191)===0&&(b+=13,h>>>=13),(h&127)===0&&(b+=7,h>>>=7),(h&15)===0&&(b+=4,h>>>=4),(h&3)===0&&(b+=2,h>>>=2),(h&1)===0&&b++,b},o.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function M(m){for(var f=new Array(m.bitLength()),h=0;h<f.length;h++){var b=h/26|0,y=h%26;f[h]=m.words[b]>>>y&1}return f}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var b=this._zeroBits(this.words[h]);if(f+=b,b!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this._strip()},o.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var b=0;b<h.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=h.length,this._strip()},o.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var h,b;this.length>f.length?(h=this,b=f):(h=f,b=this);for(var y=0;y<b.length;y++)this.words[y]=h.words[y]^b.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},o.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,b=f%26;this._expand(h),b>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return b>0&&(this.words[y]=~this.words[y]&67108863>>26-b),this._strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var b=f/26|0,y=f%26;return this._expand(b+1),h?this.words[b]=this.words[b]|1<<y:this.words[b]=this.words[b]&~(1<<y),this._strip()},o.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var b,y;this.length>f.length?(b=this,y=f):(b=f,y=this);for(var x=0,w=0;w<y.length;w++)h=(b.words[w]|0)+(y.words[w]|0)+x,this.words[w]=h&67108863,x=h>>>26;for(;x!==0&&w<b.length;w++)h=(b.words[w]|0)+x,this.words[w]=h&67108863,x=h>>>26;if(this.length=b.length,x!==0)this.words[this.length]=x,this.length++;else if(b!==this)for(;w<b.length;w++)this.words[w]=b.words[w];return this},o.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,x;b>0?(y=this,x=f):(y=f,x=this);for(var w=0,v=0;v<x.length;v++)h=(y.words[v]|0)-(x.words[v]|0)+w,w=h>>26,this.words[v]=h&67108863;for(;w!==0&&v<y.length;v++)h=(y.words[v]|0)+w,w=h>>26,this.words[v]=h&67108863;if(w===0&&v<y.length&&y!==this)for(;v<y.length;v++)this.words[v]=y.words[v];return this.length=Math.max(this.length,v),y!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function P(m,f,h){h.negative=f.negative^m.negative;var b=m.length+f.length|0;h.length=b,b=b-1|0;var y=m.words[0]|0,x=f.words[0]|0,w=y*x,v=w&67108863,g=w/67108864|0;h.words[0]=v;for(var u=1;u<b;u++){for(var S=g>>>26,O=g&67108863,A=Math.min(u,f.length-1),B=Math.max(0,u-m.length+1);B<=A;B++){var L=u-B|0;y=m.words[L]|0,x=f.words[B]|0,w=y*x+O,S+=w/67108864|0,O=w&67108863}h.words[u]=O|0,g=S|0}return g!==0?h.words[u]=g|0:h.length--,h._strip()}var N=function(f,h,b){var y=f.words,x=h.words,w=b.words,v=0,g,u,S,O=y[0]|0,A=O&8191,B=O>>>13,L=y[1]|0,F=L&8191,q=L>>>13,ie=y[2]|0,J=ie&8191,z=ie>>>13,R=y[3]|0,D=R&8191,H=R>>>13,te=y[4]|0,W=te&8191,Q=te>>>13,fe=y[5]|0,ee=fe&8191,Y=fe>>>13,ne=y[6]|0,se=ne&8191,re=ne>>>13,be=y[7]|0,le=be&8191,ae=be>>>13,De=y[8]|0,xe=De&8191,he=De>>>13,ze=y[9]|0,Le=ze&8191,V=ze>>>13,K=x[0]|0,ve=K&8191,oe=K>>>13,Ie=x[1]|0,pe=Ie&8191,Ae=Ie>>>13,et=x[2]|0,Oe=et&8191,Ee=et>>>13,lt=x[3]|0,Fe=lt&8191,we=lt>>>13,gt=x[4]|0,qe=gt&8191,_e=gt>>>13,nt=x[5]|0,Ve=nt&8191,Se=nt>>>13,ut=x[6]|0,je=ut&8191,Me=ut>>>13,mt=x[7]|0,Ge=mt&8191,Pe=mt>>>13,dt=x[8]|0,$e=dt&8191,Te=dt>>>13,ht=x[9]|0,Ue=ht&8191,He=ht>>>13;b.negative=f.negative^h.negative,b.length=19,g=Math.imul(A,ve),u=Math.imul(A,oe),u=u+Math.imul(B,ve)|0,S=Math.imul(B,oe);var ar=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(ar>>>26)|0,ar&=67108863,g=Math.imul(F,ve),u=Math.imul(F,oe),u=u+Math.imul(q,ve)|0,S=Math.imul(q,oe),g=g+Math.imul(A,pe)|0,u=u+Math.imul(A,Ae)|0,u=u+Math.imul(B,pe)|0,S=S+Math.imul(B,Ae)|0;var nr=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(nr>>>26)|0,nr&=67108863,g=Math.imul(J,ve),u=Math.imul(J,oe),u=u+Math.imul(z,ve)|0,S=Math.imul(z,oe),g=g+Math.imul(F,pe)|0,u=u+Math.imul(F,Ae)|0,u=u+Math.imul(q,pe)|0,S=S+Math.imul(q,Ae)|0,g=g+Math.imul(A,Oe)|0,u=u+Math.imul(A,Ee)|0,u=u+Math.imul(B,Oe)|0,S=S+Math.imul(B,Ee)|0;var Er=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Er>>>26)|0,Er&=67108863,g=Math.imul(D,ve),u=Math.imul(D,oe),u=u+Math.imul(H,ve)|0,S=Math.imul(H,oe),g=g+Math.imul(J,pe)|0,u=u+Math.imul(J,Ae)|0,u=u+Math.imul(z,pe)|0,S=S+Math.imul(z,Ae)|0,g=g+Math.imul(F,Oe)|0,u=u+Math.imul(F,Ee)|0,u=u+Math.imul(q,Oe)|0,S=S+Math.imul(q,Ee)|0,g=g+Math.imul(A,Fe)|0,u=u+Math.imul(A,we)|0,u=u+Math.imul(B,Fe)|0,S=S+Math.imul(B,we)|0;var Sr=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,g=Math.imul(W,ve),u=Math.imul(W,oe),u=u+Math.imul(Q,ve)|0,S=Math.imul(Q,oe),g=g+Math.imul(D,pe)|0,u=u+Math.imul(D,Ae)|0,u=u+Math.imul(H,pe)|0,S=S+Math.imul(H,Ae)|0,g=g+Math.imul(J,Oe)|0,u=u+Math.imul(J,Ee)|0,u=u+Math.imul(z,Oe)|0,S=S+Math.imul(z,Ee)|0,g=g+Math.imul(F,Fe)|0,u=u+Math.imul(F,we)|0,u=u+Math.imul(q,Fe)|0,S=S+Math.imul(q,we)|0,g=g+Math.imul(A,qe)|0,u=u+Math.imul(A,_e)|0,u=u+Math.imul(B,qe)|0,S=S+Math.imul(B,_e)|0;var kr=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(kr>>>26)|0,kr&=67108863,g=Math.imul(ee,ve),u=Math.imul(ee,oe),u=u+Math.imul(Y,ve)|0,S=Math.imul(Y,oe),g=g+Math.imul(W,pe)|0,u=u+Math.imul(W,Ae)|0,u=u+Math.imul(Q,pe)|0,S=S+Math.imul(Q,Ae)|0,g=g+Math.imul(D,Oe)|0,u=u+Math.imul(D,Ee)|0,u=u+Math.imul(H,Oe)|0,S=S+Math.imul(H,Ee)|0,g=g+Math.imul(J,Fe)|0,u=u+Math.imul(J,we)|0,u=u+Math.imul(z,Fe)|0,S=S+Math.imul(z,we)|0,g=g+Math.imul(F,qe)|0,u=u+Math.imul(F,_e)|0,u=u+Math.imul(q,qe)|0,S=S+Math.imul(q,_e)|0,g=g+Math.imul(A,Ve)|0,u=u+Math.imul(A,Se)|0,u=u+Math.imul(B,Ve)|0,S=S+Math.imul(B,Se)|0;var Dn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,g=Math.imul(se,ve),u=Math.imul(se,oe),u=u+Math.imul(re,ve)|0,S=Math.imul(re,oe),g=g+Math.imul(ee,pe)|0,u=u+Math.imul(ee,Ae)|0,u=u+Math.imul(Y,pe)|0,S=S+Math.imul(Y,Ae)|0,g=g+Math.imul(W,Oe)|0,u=u+Math.imul(W,Ee)|0,u=u+Math.imul(Q,Oe)|0,S=S+Math.imul(Q,Ee)|0,g=g+Math.imul(D,Fe)|0,u=u+Math.imul(D,we)|0,u=u+Math.imul(H,Fe)|0,S=S+Math.imul(H,we)|0,g=g+Math.imul(J,qe)|0,u=u+Math.imul(J,_e)|0,u=u+Math.imul(z,qe)|0,S=S+Math.imul(z,_e)|0,g=g+Math.imul(F,Ve)|0,u=u+Math.imul(F,Se)|0,u=u+Math.imul(q,Ve)|0,S=S+Math.imul(q,Se)|0,g=g+Math.imul(A,je)|0,u=u+Math.imul(A,Me)|0,u=u+Math.imul(B,je)|0,S=S+Math.imul(B,Me)|0;var Ln=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,g=Math.imul(le,ve),u=Math.imul(le,oe),u=u+Math.imul(ae,ve)|0,S=Math.imul(ae,oe),g=g+Math.imul(se,pe)|0,u=u+Math.imul(se,Ae)|0,u=u+Math.imul(re,pe)|0,S=S+Math.imul(re,Ae)|0,g=g+Math.imul(ee,Oe)|0,u=u+Math.imul(ee,Ee)|0,u=u+Math.imul(Y,Oe)|0,S=S+Math.imul(Y,Ee)|0,g=g+Math.imul(W,Fe)|0,u=u+Math.imul(W,we)|0,u=u+Math.imul(Q,Fe)|0,S=S+Math.imul(Q,we)|0,g=g+Math.imul(D,qe)|0,u=u+Math.imul(D,_e)|0,u=u+Math.imul(H,qe)|0,S=S+Math.imul(H,_e)|0,g=g+Math.imul(J,Ve)|0,u=u+Math.imul(J,Se)|0,u=u+Math.imul(z,Ve)|0,S=S+Math.imul(z,Se)|0,g=g+Math.imul(F,je)|0,u=u+Math.imul(F,Me)|0,u=u+Math.imul(q,je)|0,S=S+Math.imul(q,Me)|0,g=g+Math.imul(A,Ge)|0,u=u+Math.imul(A,Pe)|0,u=u+Math.imul(B,Ge)|0,S=S+Math.imul(B,Pe)|0;var Un=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(xe,ve),u=Math.imul(xe,oe),u=u+Math.imul(he,ve)|0,S=Math.imul(he,oe),g=g+Math.imul(le,pe)|0,u=u+Math.imul(le,Ae)|0,u=u+Math.imul(ae,pe)|0,S=S+Math.imul(ae,Ae)|0,g=g+Math.imul(se,Oe)|0,u=u+Math.imul(se,Ee)|0,u=u+Math.imul(re,Oe)|0,S=S+Math.imul(re,Ee)|0,g=g+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,we)|0,u=u+Math.imul(Y,Fe)|0,S=S+Math.imul(Y,we)|0,g=g+Math.imul(W,qe)|0,u=u+Math.imul(W,_e)|0,u=u+Math.imul(Q,qe)|0,S=S+Math.imul(Q,_e)|0,g=g+Math.imul(D,Ve)|0,u=u+Math.imul(D,Se)|0,u=u+Math.imul(H,Ve)|0,S=S+Math.imul(H,Se)|0,g=g+Math.imul(J,je)|0,u=u+Math.imul(J,Me)|0,u=u+Math.imul(z,je)|0,S=S+Math.imul(z,Me)|0,g=g+Math.imul(F,Ge)|0,u=u+Math.imul(F,Pe)|0,u=u+Math.imul(q,Ge)|0,S=S+Math.imul(q,Pe)|0,g=g+Math.imul(A,$e)|0,u=u+Math.imul(A,Te)|0,u=u+Math.imul(B,$e)|0,S=S+Math.imul(B,Te)|0;var Fn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(Le,ve),u=Math.imul(Le,oe),u=u+Math.imul(V,ve)|0,S=Math.imul(V,oe),g=g+Math.imul(xe,pe)|0,u=u+Math.imul(xe,Ae)|0,u=u+Math.imul(he,pe)|0,S=S+Math.imul(he,Ae)|0,g=g+Math.imul(le,Oe)|0,u=u+Math.imul(le,Ee)|0,u=u+Math.imul(ae,Oe)|0,S=S+Math.imul(ae,Ee)|0,g=g+Math.imul(se,Fe)|0,u=u+Math.imul(se,we)|0,u=u+Math.imul(re,Fe)|0,S=S+Math.imul(re,we)|0,g=g+Math.imul(ee,qe)|0,u=u+Math.imul(ee,_e)|0,u=u+Math.imul(Y,qe)|0,S=S+Math.imul(Y,_e)|0,g=g+Math.imul(W,Ve)|0,u=u+Math.imul(W,Se)|0,u=u+Math.imul(Q,Ve)|0,S=S+Math.imul(Q,Se)|0,g=g+Math.imul(D,je)|0,u=u+Math.imul(D,Me)|0,u=u+Math.imul(H,je)|0,S=S+Math.imul(H,Me)|0,g=g+Math.imul(J,Ge)|0,u=u+Math.imul(J,Pe)|0,u=u+Math.imul(z,Ge)|0,S=S+Math.imul(z,Pe)|0,g=g+Math.imul(F,$e)|0,u=u+Math.imul(F,Te)|0,u=u+Math.imul(q,$e)|0,S=S+Math.imul(q,Te)|0,g=g+Math.imul(A,Ue)|0,u=u+Math.imul(A,He)|0,u=u+Math.imul(B,Ue)|0,S=S+Math.imul(B,He)|0;var Hn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul(Le,pe),u=Math.imul(Le,Ae),u=u+Math.imul(V,pe)|0,S=Math.imul(V,Ae),g=g+Math.imul(xe,Oe)|0,u=u+Math.imul(xe,Ee)|0,u=u+Math.imul(he,Oe)|0,S=S+Math.imul(he,Ee)|0,g=g+Math.imul(le,Fe)|0,u=u+Math.imul(le,we)|0,u=u+Math.imul(ae,Fe)|0,S=S+Math.imul(ae,we)|0,g=g+Math.imul(se,qe)|0,u=u+Math.imul(se,_e)|0,u=u+Math.imul(re,qe)|0,S=S+Math.imul(re,_e)|0,g=g+Math.imul(ee,Ve)|0,u=u+Math.imul(ee,Se)|0,u=u+Math.imul(Y,Ve)|0,S=S+Math.imul(Y,Se)|0,g=g+Math.imul(W,je)|0,u=u+Math.imul(W,Me)|0,u=u+Math.imul(Q,je)|0,S=S+Math.imul(Q,Me)|0,g=g+Math.imul(D,Ge)|0,u=u+Math.imul(D,Pe)|0,u=u+Math.imul(H,Ge)|0,S=S+Math.imul(H,Pe)|0,g=g+Math.imul(J,$e)|0,u=u+Math.imul(J,Te)|0,u=u+Math.imul(z,$e)|0,S=S+Math.imul(z,Te)|0,g=g+Math.imul(F,Ue)|0,u=u+Math.imul(F,He)|0,u=u+Math.imul(q,Ue)|0,S=S+Math.imul(q,He)|0;var Vn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul(Le,Oe),u=Math.imul(Le,Ee),u=u+Math.imul(V,Oe)|0,S=Math.imul(V,Ee),g=g+Math.imul(xe,Fe)|0,u=u+Math.imul(xe,we)|0,u=u+Math.imul(he,Fe)|0,S=S+Math.imul(he,we)|0,g=g+Math.imul(le,qe)|0,u=u+Math.imul(le,_e)|0,u=u+Math.imul(ae,qe)|0,S=S+Math.imul(ae,_e)|0,g=g+Math.imul(se,Ve)|0,u=u+Math.imul(se,Se)|0,u=u+Math.imul(re,Ve)|0,S=S+Math.imul(re,Se)|0,g=g+Math.imul(ee,je)|0,u=u+Math.imul(ee,Me)|0,u=u+Math.imul(Y,je)|0,S=S+Math.imul(Y,Me)|0,g=g+Math.imul(W,Ge)|0,u=u+Math.imul(W,Pe)|0,u=u+Math.imul(Q,Ge)|0,S=S+Math.imul(Q,Pe)|0,g=g+Math.imul(D,$e)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(H,$e)|0,S=S+Math.imul(H,Te)|0,g=g+Math.imul(J,Ue)|0,u=u+Math.imul(J,He)|0,u=u+Math.imul(z,Ue)|0,S=S+Math.imul(z,He)|0;var jn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul(Le,Fe),u=Math.imul(Le,we),u=u+Math.imul(V,Fe)|0,S=Math.imul(V,we),g=g+Math.imul(xe,qe)|0,u=u+Math.imul(xe,_e)|0,u=u+Math.imul(he,qe)|0,S=S+Math.imul(he,_e)|0,g=g+Math.imul(le,Ve)|0,u=u+Math.imul(le,Se)|0,u=u+Math.imul(ae,Ve)|0,S=S+Math.imul(ae,Se)|0,g=g+Math.imul(se,je)|0,u=u+Math.imul(se,Me)|0,u=u+Math.imul(re,je)|0,S=S+Math.imul(re,Me)|0,g=g+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,Pe)|0,u=u+Math.imul(Y,Ge)|0,S=S+Math.imul(Y,Pe)|0,g=g+Math.imul(W,$e)|0,u=u+Math.imul(W,Te)|0,u=u+Math.imul(Q,$e)|0,S=S+Math.imul(Q,Te)|0,g=g+Math.imul(D,Ue)|0,u=u+Math.imul(D,He)|0,u=u+Math.imul(H,Ue)|0,S=S+Math.imul(H,He)|0;var Gn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul(Le,qe),u=Math.imul(Le,_e),u=u+Math.imul(V,qe)|0,S=Math.imul(V,_e),g=g+Math.imul(xe,Ve)|0,u=u+Math.imul(xe,Se)|0,u=u+Math.imul(he,Ve)|0,S=S+Math.imul(he,Se)|0,g=g+Math.imul(le,je)|0,u=u+Math.imul(le,Me)|0,u=u+Math.imul(ae,je)|0,S=S+Math.imul(ae,Me)|0,g=g+Math.imul(se,Ge)|0,u=u+Math.imul(se,Pe)|0,u=u+Math.imul(re,Ge)|0,S=S+Math.imul(re,Pe)|0,g=g+Math.imul(ee,$e)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(Y,$e)|0,S=S+Math.imul(Y,Te)|0,g=g+Math.imul(W,Ue)|0,u=u+Math.imul(W,He)|0,u=u+Math.imul(Q,Ue)|0,S=S+Math.imul(Q,He)|0;var qn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul(Le,Ve),u=Math.imul(Le,Se),u=u+Math.imul(V,Ve)|0,S=Math.imul(V,Se),g=g+Math.imul(xe,je)|0,u=u+Math.imul(xe,Me)|0,u=u+Math.imul(he,je)|0,S=S+Math.imul(he,Me)|0,g=g+Math.imul(le,Ge)|0,u=u+Math.imul(le,Pe)|0,u=u+Math.imul(ae,Ge)|0,S=S+Math.imul(ae,Pe)|0,g=g+Math.imul(se,$e)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(re,$e)|0,S=S+Math.imul(re,Te)|0,g=g+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,He)|0,u=u+Math.imul(Y,Ue)|0,S=S+Math.imul(Y,He)|0;var $n=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+($n>>>26)|0,$n&=67108863,g=Math.imul(Le,je),u=Math.imul(Le,Me),u=u+Math.imul(V,je)|0,S=Math.imul(V,Me),g=g+Math.imul(xe,Ge)|0,u=u+Math.imul(xe,Pe)|0,u=u+Math.imul(he,Ge)|0,S=S+Math.imul(he,Pe)|0,g=g+Math.imul(le,$e)|0,u=u+Math.imul(le,Te)|0,u=u+Math.imul(ae,$e)|0,S=S+Math.imul(ae,Te)|0,g=g+Math.imul(se,Ue)|0,u=u+Math.imul(se,He)|0,u=u+Math.imul(re,Ue)|0,S=S+Math.imul(re,He)|0;var Kn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,g=Math.imul(Le,Ge),u=Math.imul(Le,Pe),u=u+Math.imul(V,Ge)|0,S=Math.imul(V,Pe),g=g+Math.imul(xe,$e)|0,u=u+Math.imul(xe,Te)|0,u=u+Math.imul(he,$e)|0,S=S+Math.imul(he,Te)|0,g=g+Math.imul(le,Ue)|0,u=u+Math.imul(le,He)|0,u=u+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,He)|0;var zn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(zn>>>26)|0,zn&=67108863,g=Math.imul(Le,$e),u=Math.imul(Le,Te),u=u+Math.imul(V,$e)|0,S=Math.imul(V,Te),g=g+Math.imul(xe,Ue)|0,u=u+Math.imul(xe,He)|0,u=u+Math.imul(he,Ue)|0,S=S+Math.imul(he,He)|0;var ls=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(ls>>>26)|0,ls&=67108863,g=Math.imul(Le,Ue),u=Math.imul(Le,He),u=u+Math.imul(V,Ue)|0,S=Math.imul(V,He);var us=(v+g|0)+((u&8191)<<13)|0;return v=(S+(u>>>13)|0)+(us>>>26)|0,us&=67108863,w[0]=ar,w[1]=nr,w[2]=Er,w[3]=Sr,w[4]=kr,w[5]=Dn,w[6]=Ln,w[7]=Un,w[8]=Fn,w[9]=Hn,w[10]=Vn,w[11]=jn,w[12]=Gn,w[13]=qn,w[14]=$n,w[15]=Kn,w[16]=zn,w[17]=ls,w[18]=us,v!==0&&(w[19]=v,b.length++),b};Math.imul||(N=P);function U(m,f,h){h.negative=f.negative^m.negative,h.length=m.length+f.length;for(var b=0,y=0,x=0;x<h.length-1;x++){var w=y;y=0;for(var v=b&67108863,g=Math.min(x,f.length-1),u=Math.max(0,x-m.length+1);u<=g;u++){var S=x-u,O=m.words[S]|0,A=f.words[u]|0,B=O*A,L=B&67108863;w=w+(B/67108864|0)|0,L=L+v|0,v=L&67108863,w=w+(L>>>26)|0,y+=w>>>26,w&=67108863}h.words[x]=v,b=w,w=y}return b!==0?h.words[x]=b:h.length--,h._strip()}function $(m,f,h){return U(m,f,h)}o.prototype.mulTo=function(f,h){var b,y=this.length+f.length;return this.length===10&&f.length===10?b=N(this,f,h):y<63?b=P(this,f,h):y<1024?b=U(this,f,h):b=$(this,f,h),b},o.prototype.mul=function(f){var h=new o(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},o.prototype.mulf=function(f){var h=new o(null);return h.words=new Array(this.length+f.length),$(this,f,h)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){var h=f<0;h&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var b=0,y=0;y<this.length;y++){var x=(this.words[y]|0)*f,w=(x&67108863)+(b&67108863);b>>=26,b+=x/67108864|0,b+=w>>>26,this.words[y]=w&67108863}return b!==0&&(this.words[y]=b,this.length++),h?this.ineg():this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var h=M(f);if(h.length===0)return new o(1);for(var b=this,y=0;y<h.length&&h[y]===0;y++,b=b.sqr());if(++y<h.length)for(var x=b.sqr();y<h.length;y++,x=x.sqr())h[y]!==0&&(b=b.mul(x));return b},o.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,b=(f-h)/26,y=67108863>>>26-h<<26-h,x;if(h!==0){var w=0;for(x=0;x<this.length;x++){var v=this.words[x]&y,g=(this.words[x]|0)-v<<h;this.words[x]=g|w,w=v>>>26-h}w&&(this.words[x]=w,this.length++)}if(b!==0){for(x=this.length-1;x>=0;x--)this.words[x+b]=this.words[x];for(x=0;x<b;x++)this.words[x]=0;this.length+=b}return this._strip()},o.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,h,b){n(typeof f=="number"&&f>=0);var y;h?y=(h-h%26)/26:y=0;var x=f%26,w=Math.min((f-x)/26,this.length),v=67108863^67108863>>>x<<x,g=b;if(y-=w,y=Math.max(0,y),g){for(var u=0;u<w;u++)g.words[u]=this.words[u];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,u=0;u<this.length;u++)this.words[u]=this.words[u+w];else this.words[0]=0,this.length=1;var S=0;for(u=this.length-1;u>=0&&(S!==0||u>=y);u--){var O=this.words[u]|0;this.words[u]=S<<26-x|O>>>x,S=O&v}return g&&S!==0&&(g.words[g.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(f,h,b){return n(this.negative===0),this.iushrn(f,h,b)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,b=(f-h)/26,y=1<<h;if(this.length<=b)return!1;var x=this.words[b];return!!(x&y)},o.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,b=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(h!==0&&b++,this.length=Math.min(b,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,h,b){var y=f.length+b,x;this._expand(y);var w,v=0;for(x=0;x<f.length;x++){w=(this.words[x+b]|0)+v;var g=(f.words[x]|0)*h;w-=g&67108863,v=(w>>26)-(g/67108864|0),this.words[x+b]=w&67108863}for(;x<this.length-b;x++)w=(this.words[x+b]|0)+v,v=w>>26,this.words[x+b]=w&67108863;if(v===0)return this._strip();for(n(v===-1),v=0,x=0;x<this.length;x++)w=-(this.words[x]|0)+v,v=w>>26,this.words[x]=w&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(f,h){var b=this.length-f.length,y=this.clone(),x=f,w=x.words[x.length-1]|0,v=this._countBits(w);b=26-v,b!==0&&(x=x.ushln(b),y.iushln(b),w=x.words[x.length-1]|0);var g=y.length-x.length,u;if(h!=="mod"){u=new o(null),u.length=g+1,u.words=new Array(u.length);for(var S=0;S<u.length;S++)u.words[S]=0}var O=y.clone()._ishlnsubmul(x,1,g);O.negative===0&&(y=O,u&&(u.words[g]=1));for(var A=g-1;A>=0;A--){var B=(y.words[x.length+A]|0)*67108864+(y.words[x.length+A-1]|0);for(B=Math.min(B/w|0,67108863),y._ishlnsubmul(x,B,A);y.negative!==0;)B--,y.negative=0,y._ishlnsubmul(x,1,A),y.isZero()||(y.negative^=1);u&&(u.words[A]=B)}return u&&u._strip(),y._strip(),h!=="div"&&b!==0&&y.iushrn(b),{div:u||null,mod:y}},o.prototype.divmod=function(f,h,b){if(n(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var y,x,w;return this.negative!==0&&f.negative===0?(w=this.neg().divmod(f,h),h!=="mod"&&(y=w.div.neg()),h!=="div"&&(x=w.mod.neg(),b&&x.negative!==0&&x.iadd(f)),{div:y,mod:x}):this.negative===0&&f.negative!==0?(w=this.divmod(f.neg(),h),h!=="mod"&&(y=w.div.neg()),{div:y,mod:w.mod}):(this.negative&f.negative)!==0?(w=this.neg().divmod(f.neg(),h),h!=="div"&&(x=w.mod.neg(),b&&x.negative!==0&&x.isub(f)),{div:w.div,mod:x}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modrn(f.words[0]))}:this._wordDiv(f,h)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var b=h.div.negative!==0?h.mod.isub(f):h.mod,y=f.ushrn(1),x=f.andln(1),w=b.cmp(y);return w<0||x===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var b=(1<<26)%f,y=0,x=this.length-1;x>=0;x--)y=(b*y+(this.words[x]|0))%f;return h?-y:y},o.prototype.modn=function(f){return this.modrn(f)},o.prototype.idivn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var b=0,y=this.length-1;y>=0;y--){var x=(this.words[y]|0)+b*67108864;this.words[y]=x/f|0,b=x%f}return this._strip(),h?this.ineg():this},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,b=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var y=new o(1),x=new o(0),w=new o(0),v=new o(1),g=0;h.isEven()&&b.isEven();)h.iushrn(1),b.iushrn(1),++g;for(var u=b.clone(),S=h.clone();!h.isZero();){for(var O=0,A=1;(h.words[0]&A)===0&&O<26;++O,A<<=1);if(O>0)for(h.iushrn(O);O-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(u),x.isub(S)),y.iushrn(1),x.iushrn(1);for(var B=0,L=1;(b.words[0]&L)===0&&B<26;++B,L<<=1);if(B>0)for(b.iushrn(B);B-- >0;)(w.isOdd()||v.isOdd())&&(w.iadd(u),v.isub(S)),w.iushrn(1),v.iushrn(1);h.cmp(b)>=0?(h.isub(b),y.isub(w),x.isub(v)):(b.isub(h),w.isub(y),v.isub(x))}return{a:w,b:v,gcd:b.iushln(g)}},o.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,b=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var y=new o(1),x=new o(0),w=b.clone();h.cmpn(1)>0&&b.cmpn(1)>0;){for(var v=0,g=1;(h.words[0]&g)===0&&v<26;++v,g<<=1);if(v>0)for(h.iushrn(v);v-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);for(var u=0,S=1;(b.words[0]&S)===0&&u<26;++u,S<<=1);if(u>0)for(b.iushrn(u);u-- >0;)x.isOdd()&&x.iadd(w),x.iushrn(1);h.cmp(b)>=0?(h.isub(b),y.isub(x)):(b.isub(h),x.isub(y))}var O;return h.cmpn(1)===0?O=y:O=x,O.cmpn(0)<0&&O.iadd(f),O},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),b=f.clone();h.negative=0,b.negative=0;for(var y=0;h.isEven()&&b.isEven();y++)h.iushrn(1),b.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;b.isEven();)b.iushrn(1);var x=h.cmp(b);if(x<0){var w=h;h=b,b=w}else if(x===0||b.cmpn(1)===0)break;h.isub(b)}while(!0);return b.iushln(y)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,b=(f-h)/26,y=1<<h;if(this.length<=b)return this._expand(b+1),this.words[b]|=y,this;for(var x=y,w=b;x!==0&&w<this.length;w++){var v=this.words[w]|0;v+=x,x=v>>>26,v&=67108863,this.words[w]=v}return x!==0&&(this.words[w]=x,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var b;if(this.length>1)b=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var y=this.words[0]|0;b=y===f?0:y<f?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,b=this.length-1;b>=0;b--){var y=this.words[b]|0,x=f.words[b]|0;if(y!==x){y<x?h=-1:y>x&&(h=1);break}}return h},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new I(f)},o.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var G={k256:null,p224:null,p192:null,p25519:null};function X(m,f){this.name=m,this.p=new o(f,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var f=new o(null);return f.words=new Array(Math.ceil(this.n/13)),f},X.prototype.ireduce=function(f){var h=f,b;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),b=h.bitLength();while(b>this.n);var y=b<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},X.prototype.split=function(f,h){f.iushrn(this.n,0,h)},X.prototype.imulK=function(f){return f.imul(this.k)};function ye(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ye,X),ye.prototype.split=function(f,h){for(var b=4194303,y=Math.min(f.length,9),x=0;x<y;x++)h.words[x]=f.words[x];if(h.length=y,f.length<=9){f.words[0]=0,f.length=1;return}var w=f.words[9];for(h.words[h.length++]=w&b,x=10;x<f.length;x++){var v=f.words[x]|0;f.words[x-10]=(v&b)<<4|w>>>22,w=v}w>>>=22,f.words[x-10]=w,w===0&&f.length>10?f.length-=10:f.length-=9},ye.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,b=0;b<f.length;b++){var y=f.words[b]|0;h+=y*977,f.words[b]=h&67108863,h=y*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function ce(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ce,X);function me(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(me,X);function Be(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Be,X),Be.prototype.imulK=function(f){for(var h=0,b=0;b<f.length;b++){var y=(f.words[b]|0)*19+h,x=y&67108863;y>>>=26,f.words[b]=x,h=y}return h!==0&&(f.words[f.length++]=h),f},o._prime=function(f){if(G[f])return G[f];var h;if(f==="k256")h=new ye;else if(f==="p224")h=new ce;else if(f==="p192")h=new me;else if(f==="p25519")h=new Be;else throw new Error("Unknown prime "+f);return G[f]=h,h};function I(m){if(typeof m=="string"){var f=o._prime(m);this.m=f.p,this.prime=f}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}I.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},I.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},I.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},I.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},I.prototype.add=function(f,h){this._verify2(f,h);var b=f.add(h);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},I.prototype.iadd=function(f,h){this._verify2(f,h);var b=f.iadd(h);return b.cmp(this.m)>=0&&b.isub(this.m),b},I.prototype.sub=function(f,h){this._verify2(f,h);var b=f.sub(h);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},I.prototype.isub=function(f,h){this._verify2(f,h);var b=f.isub(h);return b.cmpn(0)<0&&b.iadd(this.m),b},I.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},I.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},I.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},I.prototype.isqr=function(f){return this.imul(f,f.clone())},I.prototype.sqr=function(f){return this.mul(f,f)},I.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(f,b)}for(var y=this.m.subn(1),x=0;!y.isZero()&&y.andln(1)===0;)x++,y.iushrn(1);n(!y.isZero());var w=new o(1).toRed(this),v=w.redNeg(),g=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);this.pow(u,g).cmp(v)!==0;)u.redIAdd(v);for(var S=this.pow(u,y),O=this.pow(f,y.addn(1).iushrn(1)),A=this.pow(f,y),B=x;A.cmp(w)!==0;){for(var L=A,F=0;L.cmp(w)!==0;F++)L=L.redSqr();n(F<B);var q=this.pow(S,new o(1).iushln(B-F-1));O=O.redMul(q),S=q.redSqr(),A=A.redMul(S),B=F}return O},I.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},I.prototype.pow=function(f,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var b=4,y=new Array(1<<b);y[0]=new o(1).toRed(this),y[1]=f;for(var x=2;x<y.length;x++)y[x]=this.mul(y[x-1],f);var w=y[0],v=0,g=0,u=h.bitLength()%26;for(u===0&&(u=26),x=h.length-1;x>=0;x--){for(var S=h.words[x],O=u-1;O>=0;O--){var A=S>>O&1;if(w!==y[0]&&(w=this.sqr(w)),A===0&&v===0){g=0;continue}v<<=1,v|=A,g++,!(g!==b&&(x!==0||O!==0))&&(w=this.mul(w,y[v]),g=0,v=0)}u=26}return w},I.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},I.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},o.mont=function(f){return new E(f)};function E(m){I.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(E,I),E.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},E.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},E.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(h),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(y).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},E.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new o(0)._forceRed(this);var b=f.mul(h),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(y).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},E.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(r,Ze)})(nx);const J9=nx.exports,Y9="logger/5.7.0";let lb=!1,ub=!1;const Wl={debug:1,default:2,info:2,warning:3,error:4,off:5};let db=Wl.default,Ud=null;function X9(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const hb=X9();var h0;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(h0||(h0={}));var Xr;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Xr||(Xr={}));const pb="0123456789abcdef";class j{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();Wl[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(db>Wl[n])&&console.log.apply(console,t)}debug(...e){this._log(j.levels.DEBUG,e)}info(...e){this._log(j.levels.INFO,e)}warn(...e){this._log(j.levels.WARNING,e)}makeError(e,t,n){if(ub)return this.makeError("censored error",t,{});t||(t=j.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const d=n[c];try{if(d instanceof Uint8Array){let l="";for(let p=0;p<d.length;p++)l+=pb[d[p]>>4],l+=pb[d[p]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(d))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const o=e;let s="";switch(t){case Xr.NUMERIC_FAULT:{s="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":s+="-"+c;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Xr.CALL_EXCEPTION:case Xr.INSUFFICIENT_FUNDS:case Xr.MISSING_NEW:case Xr.NONCE_EXPIRED:case Xr.REPLACEMENT_UNDERPRICED:case Xr.TRANSACTION_REPLACED:case Xr.UNPREDICTABLE_GAS_LIMIT:s=t;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=t,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,j.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){hb&&this.throwError("platform missing String.prototype.normalize",j.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:hb})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,j.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,j.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,j.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,j.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",j.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",j.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",j.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Ud||(Ud=new j(Y9)),Ud}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",j.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),lb){if(!e)return;this.globalLogger().throwError("error censorship permanent",j.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ub=!!e,lb=!!t}static setLogLevel(e){const t=Wl[e.toLowerCase()];if(t==null){j.globalLogger().warn("invalid log level - "+e);return}db=t}static from(e){return new j(e)}}j.errors=Xr;j.levels=h0;const Z9=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return h0},get ErrorCode(){return Xr},Logger:j},Symbol.toStringTag,{value:"Module"})),eE="bytes/5.7.0",Wt=new j(eE);function ix(r){return!!r.toHexString}function Ia(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Ia(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function hf(r){return Qe(r)&&!(r.length%2)||Ao(r)}function gb(r){return typeof r=="number"&&r==r&&r%1===0}function Ao(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!gb(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!gb(t)||t<0||t>=256)return!1}return!0}function ue(r,e){if(e||(e={}),typeof r=="number"){Wt.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Ia(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),ix(r)&&(r=r.toHexString()),Qe(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Wt.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return Ia(new Uint8Array(n))}return Ao(r)?Ia(new Uint8Array(r)):Wt.throwArgumentError("invalid arrayify value","value",r)}function It(r){const e=r.map(i=>ue(i)),t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);return e.reduce((i,o)=>(n.set(o,i),i+o.length),0),Ia(n)}function fi(r){let e=ue(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function Na(r,e){r=ue(r),r.length>e&&Wt.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),Ia(t)}function Qe(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Fd="0123456789abcdef";function ge(r,e){if(e||(e={}),typeof r=="number"){Wt.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Fd[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),ix(r))return r.toHexString();if(Qe(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Wt.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Ao(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=Fd[(i&240)>>4]+Fd[i&15]}return t}return Wt.throwArgumentError("invalid hexlify value","value",r)}function ui(r){if(typeof r!="string")r=ge(r);else if(!Qe(r)||r.length%2)return null;return(r.length-2)/2}function Qt(r,e,t){return typeof r!="string"?r=ge(r):(!Qe(r)||r.length%2)&&Wt.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Cr(r){let e="0x";return r.forEach(t=>{e+=ge(t).substring(2)}),e}function pf(r){const e=zp(ge(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function zp(r){typeof r!="string"&&(r=ge(r)),Qe(r)||Wt.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Nt(r,e){for(typeof r!="string"?r=ge(r):Qe(r)||Wt.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Wt.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function rs(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(hf(r)){let t=ue(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=ge(t.slice(0,32)),e.s=ge(t.slice(32,64))):t.length===65?(e.r=ge(t.slice(0,32)),e.s=ge(t.slice(32,64)),e.v=t[64]):Wt.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Wt.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=ge(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=Na(ue(e._vs),32);e._vs=ge(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&Wt.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const s=ge(i);e.s==null?e.s=s:e.s!==s&&Wt.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Wt.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Wt.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Qe(e.r)?Wt.throwArgumentError("signature missing or invalid r","signature",r):e.r=Nt(e.r,32),e.s==null||!Qe(e.s)?Wt.throwArgumentError("signature missing or invalid s","signature",r):e.s=Nt(e.s,32);const t=ue(e.s);t[0]>=128&&Wt.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=ge(t);e._vs&&(Qe(e._vs)||Wt.throwArgumentError("signature invalid _vs","signature",r),e._vs=Nt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Wt.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function p0(r){return r=rs(r),ge(It([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const tE=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike:hf,isBytes:Ao,arrayify:ue,concat:It,stripZeros:fi,zeroPad:Na,isHexString:Qe,hexlify:ge,hexDataLength:ui,hexDataSlice:Qt,hexConcat:Cr,hexValue:pf,hexStripZeros:zp,hexZeroPad:Nt,splitSignature:rs,joinSignature:p0},Symbol.toStringTag,{value:"Module"})),ox="bignumber/5.7.0";var Ac=J9.BN;const to=new j(ox),Hd={},mb=9007199254740991;function rE(r){return r!=null&&(de.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Qe(r)||typeof r=="bigint"||Ao(r))}let bb=!1;class de{constructor(e,t){e!==Hd&&to.throwError("cannot call constructor directly; use BigNumber.from",j.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Wr(ot(this).fromTwos(e))}toTwos(e){return Wr(ot(this).toTwos(e))}abs(){return this._hex[0]==="-"?de.from(this._hex.substring(1)):this}add(e){return Wr(ot(this).add(ot(e)))}sub(e){return Wr(ot(this).sub(ot(e)))}div(e){return de.from(e).isZero()&&mn("division-by-zero","div"),Wr(ot(this).div(ot(e)))}mul(e){return Wr(ot(this).mul(ot(e)))}mod(e){const t=ot(e);return t.isNeg()&&mn("division-by-zero","mod"),Wr(ot(this).umod(t))}pow(e){const t=ot(e);return t.isNeg()&&mn("negative-power","pow"),Wr(ot(this).pow(t))}and(e){const t=ot(e);return(this.isNegative()||t.isNeg())&&mn("unbound-bitwise-result","and"),Wr(ot(this).and(t))}or(e){const t=ot(e);return(this.isNegative()||t.isNeg())&&mn("unbound-bitwise-result","or"),Wr(ot(this).or(t))}xor(e){const t=ot(e);return(this.isNegative()||t.isNeg())&&mn("unbound-bitwise-result","xor"),Wr(ot(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&mn("negative-width","mask"),Wr(ot(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&mn("negative-width","shl"),Wr(ot(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&mn("negative-width","shr"),Wr(ot(this).shrn(e))}eq(e){return ot(this).eq(ot(e))}lt(e){return ot(this).lt(ot(e))}lte(e){return ot(this).lte(ot(e))}gt(e){return ot(this).gt(ot(e))}gte(e){return ot(this).gte(ot(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ot(this).isZero()}toNumber(){try{return ot(this).toNumber()}catch{mn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return to.throwError("this platform does not support BigInt",j.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?bb||(bb=!0,to.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?to.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",j.errors.UNEXPECTED_ARGUMENT,{}):to.throwError("BigNumber.toString does not accept parameters",j.errors.UNEXPECTED_ARGUMENT,{})),ot(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof de)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new de(Hd,Ec(e)):e.match(/^-?[0-9]+$/)?new de(Hd,Ec(new Ac(e))):to.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&mn("underflow","BigNumber.from",e),(e>=mb||e<=-mb)&&mn("overflow","BigNumber.from",e),de.from(String(e));const t=e;if(typeof t=="bigint")return de.from(t.toString());if(Ao(t))return de.from(ge(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return de.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(Qe(n)||n[0]==="-"&&Qe(n.substring(1))))return de.from(n)}return to.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Ec(r){if(typeof r!="string")return Ec(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&to.throwArgumentError("invalid hex","value",r),r=Ec(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Wr(r){return de.from(Ec(r))}function ot(r){const e=de.from(r).toHexString();return e[0]==="-"?new Ac("-"+e.substring(3),16):new Ac(e.substring(2),16)}function mn(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),to.throwError(r,j.errors.NUMERIC_FAULT,n)}function nE(r){return new Ac(r,36).toString(16)}function iE(r){return new Ac(r,16).toString(36)}const jr=new j(ox),ac={},sx=de.from(0),ax=de.from(-1);function fx(r,e,t,n){const i={fault:e,operation:t};return n!==void 0&&(i.value=n),jr.throwError(r,j.errors.NUMERIC_FAULT,i)}let fc="0";for(;fc.length<256;)fc+=fc;function Wp(r){if(typeof r!="number")try{r=de.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+fc.substring(0,r):jr.throwArgumentError("invalid decimal size","decimals",r)}function Ql(r,e){e==null&&(e=0);const t=Wp(e);r=de.from(r);const n=r.lt(sx);n&&(r=r.mul(ax));let i=r.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=r.div(t).toString();return t.length===1?r=o:r=o+"."+i,n&&(r="-"+r),r}function ki(r,e){e==null&&(e=0);const t=Wp(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&jr.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&jr.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&jr.throwArgumentError("too many decimal points","value",r);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>t.length-1&&fx("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<t.length-1;)s+="0";const a=de.from(o),c=de.from(s);let d=a.mul(t).add(c);return n&&(d=d.mul(ax)),d}class Oa{constructor(e,t,n,i){e!==ac&&jr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",j.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Wp(i),Object.freeze(this)}static from(e){if(e instanceof Oa)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||jr.throwArgumentError("invalid fixed format","format",e),t=o[1]!=="u",n=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,c)=>e[s]==null?c:(typeof e[s]!==a&&jr.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);t=o("signed","boolean",t),n=o("width","number",n),i=o("decimals","number",i)}return n%8&&jr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&jr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Oa(ac,t,n,i)}}class or{constructor(e,t,n,i){e!==ac&&jr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",j.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&jr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=ki(this._value,this.format.decimals),n=ki(e._value,e.format.decimals);return or.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=ki(this._value,this.format.decimals),n=ki(e._value,e.format.decimals);return or.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=ki(this._value,this.format.decimals),n=ki(e._value,e.format.decimals);return or.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=ki(this._value,this.format.decimals),n=ki(e._value,e.format.decimals);return or.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=or.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(vb.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=or.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(vb.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&jr.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=or.from("1"+fc.substring(0,e),this.format),i=oE.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&jr.throwArgumentError("invalid byte width","width",e);const t=de.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Nt(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return or.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!rE(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),or.fromString(Ql(e,t),Oa.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=Oa.from(t),i=ki(e,n.decimals);!n.signed&&i.lt(sx)&&fx("unsigned value cannot be negative","overflow","value",e);let o=null;n.signed?o=i.toTwos(n.width).toHexString():(o=i.toHexString(),o=Nt(o,n.width/8));const s=Ql(i,n.decimals);return new or(ac,o,s,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=Oa.from(t);if(ue(e).length>n.width/8)throw new Error("overflow");let i=de.from(e);n.signed&&(i=i.fromTwos(n.width));const o=i.toTwos((n.signed?0:1)+n.width).toHexString(),s=Ql(i,n.decimals);return new or(ac,o,s,n)}static from(e,t){if(typeof e=="string")return or.fromString(e,t);if(Ao(e))return or.fromBytes(e,t);try{return or.fromValue(e,0,t)}catch(n){if(n.code!==j.errors.INVALID_ARGUMENT)throw n}return jr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const vb=or.from(1),oE=or.from("0.5"),sE="properties/5.7.0";var aE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const g0=new j(sE);function Z(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function dr(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function $t(r){return aE(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function ru(r,e){(!r||typeof r!="object")&&g0.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||g0.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Rt(r){const e={};for(const t in r)e[t]=r[t];return e}const fE={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function cx(r){if(r==null||fE[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!cx(n))return!1}return!0}return g0.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function cE(r){if(cx(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Or(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&Z(e,t,Or(n))}return e}return g0.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Or(r){return cE(r)}class ns{constructor(e){for(const t in e)this[t]=Or(e[t])}}const lE=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly:Z,getStatic:dr,resolveProperties:$t,checkProperties:ru,shallowCopy:Rt,deepCopy:Or,Description:ns},Symbol.toStringTag,{value:"Module"})),Lc="abi/5.7.0",pt=new j(Lc),Os={};let yb={calldata:!0,memory:!0,storage:!0},uE={calldata:!0,memory:!0};function xl(r,e){if(r==="bytes"||r==="string"){if(yb[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&uE[e])return!0;return(yb[e]||e==="payable")&&pt.throwArgumentError("invalid modifier","name",e),!1}function dE(r,e){let t=r;function n(a){pt.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<r.length;a++){let c=r[a];switch(c){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=va(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),xl(s.type,s.name)&&(s.name=""),s.type=va(s.type);let d=s;s=s.parent,s||n(a),delete d.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),xl(s.type,s.name)&&(s.name=""),s.type=va(s.type);let l=i(s.parent);s.parent.components.push(l),delete s.parent,s=l;break;case" ":s.state.allowType&&s.type!==""&&(s.type=va(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):xl(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=c,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=c,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=c,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=c,delete s.state.allowArray):s.state.readArray?s.type+=c:n(a)}}return s.parent&&pt.throwArgumentError("unexpected eof","param",r),delete o.state,s.name==="indexed"?(e||n(t.length-7),s.indexed&&n(t.length-7),s.indexed=!0,s.name=""):xl(s.type,s.name)&&(s.name=""),o.type=va(o.type),o}function Jl(r,e){for(let t in e)Z(r,t,e[t])}const vt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),hE=new RegExp(/^(.*)\[([0-9]*)\]$/);class tr{constructor(e,t){e!==Os&&pt.throwError("use fromString",j.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Jl(this,t);let n=this.type.match(hE);n?Jl(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:tr.fromObject({type:n[1],components:this.components}),baseType:"array"}):Jl(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=vt.sighash),vt[e]||pt.throwArgumentError("invalid format type","format",e),e===vt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==vt.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===vt.full?", ":",")+")"):t+=this.type,e!==vt.sighash&&(this.indexed===!0&&(t+=" indexed"),e===vt.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?tr.fromString(e,t):tr.fromObject(e)}static fromObject(e){return tr.isParamType(e)?e:new tr(Os,{name:e.name||null,type:va(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(tr.fromObject):null})}static fromString(e,t){function n(i){return tr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(dE(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Sc(r,e){return gE(r).map(t=>tr.fromString(t,e))}class ni{constructor(e,t){e!==Os&&pt.throwError("use a static from method",j.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Jl(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return ni.isFragment(e)?e:typeof e=="string"?ni.fromString(e):ni.fromObject(e)}static fromObject(e){if(ni.isFragment(e))return e;switch(e.type){case"function":return En.fromObject(e);case"event":return ti.fromObject(e);case"constructor":return An.fromObject(e);case"error":return Ii.fromObject(e);case"fallback":case"receive":return null}return pt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?ti.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?En.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?An.fromString(e.trim()):e.split(" ")[0]==="error"?Ii.fromString(e.substring(5).trim()):pt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class ti extends ni{format(e){if(e||(e=vt.sighash),vt[e]||pt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==vt.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",e!==vt.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?ti.fromString(e):ti.fromObject(e)}static fromObject(e){if(ti.isEventFragment(e))return e;e.type!=="event"&&pt.throwArgumentError("invalid event object","value",e);const t={name:kc(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(tr.fromObject):[],type:"event"};return new ti(Os,t)}static fromString(e){let t=e.match(_c);t||pt.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:pt.warn("unknown modifier: "+i)}}),ti.fromObject({name:t[1].trim(),anonymous:n,inputs:Sc(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function lx(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&pt.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||pt.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=de.from(t[1]),t[0]):r}function ux(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function dx(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&pt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&pt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&pt.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&pt.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&pt.throwArgumentError("unable to determine stateMutability","value",r),e}class An extends ni{format(e){if(e||(e=vt.sighash),vt[e]||pt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===vt.sighash&&pt.throwError("cannot format a constructor for sighash",j.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?An.fromString(e):An.fromObject(e)}static fromObject(e){if(An.isConstructorFragment(e))return e;e.type!=="constructor"&&pt.throwArgumentError("invalid constructor object","value",e);let t=dx(e);t.constant&&pt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(tr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?de.from(e.gas):null};return new An(Os,n)}static fromString(e){let t={type:"constructor"};e=lx(e,t);let n=e.match(_c);return(!n||n[1].trim()!=="constructor")&&pt.throwArgumentError("invalid constructor string","value",e),t.inputs=Sc(n[2].trim(),!1),ux(n[3].trim(),t),An.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class En extends An{format(e){if(e||(e=vt.sighash),vt[e]||pt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==vt.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",e!==vt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?En.fromString(e):En.fromObject(e)}static fromObject(e){if(En.isFunctionFragment(e))return e;e.type!=="function"&&pt.throwArgumentError("invalid function object","value",e);let t=dx(e);const n={type:e.type,name:kc(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(tr.fromObject):[],outputs:e.outputs?e.outputs.map(tr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?de.from(e.gas):null};return new En(Os,n)}static fromString(e){let t={type:"function"};e=lx(e,t);let n=e.split(" returns ");n.length>2&&pt.throwArgumentError("invalid function string","value",e);let i=n[0].match(_c);if(i||pt.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&kc(t.name),t.inputs=Sc(i[2],!1),ux(i[3].trim(),t),n.length>1){let o=n[1].match(_c);(o[1].trim()!=""||o[3].trim()!="")&&pt.throwArgumentError("unexpected tokens","value",e),t.outputs=Sc(o[2],!1)}else t.outputs=[];return En.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function xb(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&pt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class Ii extends ni{format(e){if(e||(e=vt.sighash),vt[e]||pt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==vt.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Ii.fromString(e):Ii.fromObject(e)}static fromObject(e){if(Ii.isErrorFragment(e))return e;e.type!=="error"&&pt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:kc(e.name),inputs:e.inputs?e.inputs.map(tr.fromObject):[]};return xb(new Ii(Os,t))}static fromString(e){let t={type:"error"},n=e.match(_c);return n||pt.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&kc(t.name),t.inputs=Sc(n[2],!1),xb(Ii.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function va(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const pE=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function kc(r){return(!r||!r.match(pE))&&pt.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const _c=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function gE(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let o=r[i];o===","&&n===0?(e.push(t),t=""):(t+=o,o==="("?n++:o===")"&&(n--,n===-1&&pt.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const Qp=new j(Lc);function Jp(r){const e=[],t=function(n,i){if(!!Array.isArray(i))for(let o in i){const s=n.slice();s.push(o);try{t(s,i[o])}catch(a){e.push({path:s,error:a})}}};return t([],r),e}class Eo{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){Qp.throwArgumentError(e,this.localName,t)}}class W1{constructor(e){Z(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Cr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(It(e._data))}writeBytes(e){let t=ue(e);const n=t.length%this.wordSize;return n&&(t=It([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=ue(de.from(e));return t.length>this.wordSize&&Qp.throwError("value out-of-bounds",j.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=It([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class m0{constructor(e,t,n,i){Z(this,"_data",ue(e)),Z(this,"wordSize",t||32),Z(this,"_coerceFunc",n),Z(this,"allowLoose",i),this._offset=0}get data(){return ge(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):m0.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:Qp.throwError("data out-of-bounds",j.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new m0(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return de.from(this.readBytes(this.wordSize))}}var gf={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=Ze:o&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],k=[1,256,65536,16777216],_=[6,1536,393216,100663296],T=[0,8,16,24],C=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],M=[224,256,384,512],P=[128,256],N=["hex","buffer","arrayBuffer","array","digest"],U={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(A){return Object.prototype.toString.call(A)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(A){return typeof A=="object"&&A.buffer&&A.buffer.constructor===ArrayBuffer});for(var $=function(A,B,L){return function(F){return new u(A,B,A).update(F)[L]()}},G=function(A,B,L){return function(F,q){return new u(A,B,q).update(F)[L]()}},X=function(A,B,L){return function(F,q,ie,J){return f["cshake"+A].update(F,q,ie,J)[L]()}},ye=function(A,B,L){return function(F,q,ie,J){return f["kmac"+A].update(F,q,ie,J)[L]()}},ce=function(A,B,L,F){for(var q=0;q<N.length;++q){var ie=N[q];A[ie]=B(L,F,ie)}return A},me=function(A,B){var L=$(A,B,"hex");return L.create=function(){return new u(A,B,A)},L.update=function(F){return L.create().update(F)},ce(L,$,A,B)},Be=function(A,B){var L=G(A,B,"hex");return L.create=function(F){return new u(A,B,F)},L.update=function(F,q){return L.create(q).update(F)},ce(L,G,A,B)},I=function(A,B){var L=U[A],F=X(A,B,"hex");return F.create=function(q,ie,J){return!ie&&!J?f["shake"+A].create(q):new u(A,B,q).bytepad([ie,J],L)},F.update=function(q,ie,J,z){return F.create(ie,J,z).update(q)},ce(F,X,A,B)},E=function(A,B){var L=U[A],F=ye(A,B,"hex");return F.create=function(q,ie,J){return new S(A,B,ie).bytepad(["KMAC",J],L).bytepad([q],L)},F.update=function(q,ie,J,z){return F.create(q,J,z).update(ie)},ce(F,ye,A,B)},m=[{name:"keccak",padding:k,bits:M,createMethod:me},{name:"sha3",padding:_,bits:M,createMethod:me},{name:"shake",padding:l,bits:P,createMethod:Be},{name:"cshake",padding:p,bits:P,createMethod:I},{name:"kmac",padding:p,bits:P,createMethod:E}],f={},h=[],b=0;b<m.length;++b)for(var y=m[b],x=y.bits,w=0;w<x.length;++w){var v=y.name+"_"+x[w];if(h.push(v),f[v]=y.createMethod(x[w],y.padding),y.name!=="sha3"){var g=y.name+x[w];h.push(g),f[g]=f[v]}}function u(A,B,L){this.blocks=[],this.s=[],this.padding=B,this.outputBits=L,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(A<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=L>>5,this.extraBytes=(L&31)>>3;for(var F=0;F<50;++F)this.s[F]=0}u.prototype.update=function(A){if(this.finalized)throw new Error(t);var B,L=typeof A;if(L!=="string"){if(L==="object"){if(A===null)throw new Error(e);if(c&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!Array.isArray(A)&&(!c||!ArrayBuffer.isView(A)))throw new Error(e)}else throw new Error(e);B=!0}for(var F=this.blocks,q=this.byteCount,ie=A.length,J=this.blockCount,z=0,R=this.s,D,H;z<ie;){if(this.reset)for(this.reset=!1,F[0]=this.block,D=1;D<J+1;++D)F[D]=0;if(B)for(D=this.start;z<ie&&D<q;++z)F[D>>2]|=A[z]<<T[D++&3];else for(D=this.start;z<ie&&D<q;++z)H=A.charCodeAt(z),H<128?F[D>>2]|=H<<T[D++&3]:H<2048?(F[D>>2]|=(192|H>>6)<<T[D++&3],F[D>>2]|=(128|H&63)<<T[D++&3]):H<55296||H>=57344?(F[D>>2]|=(224|H>>12)<<T[D++&3],F[D>>2]|=(128|H>>6&63)<<T[D++&3],F[D>>2]|=(128|H&63)<<T[D++&3]):(H=65536+((H&1023)<<10|A.charCodeAt(++z)&1023),F[D>>2]|=(240|H>>18)<<T[D++&3],F[D>>2]|=(128|H>>12&63)<<T[D++&3],F[D>>2]|=(128|H>>6&63)<<T[D++&3],F[D>>2]|=(128|H&63)<<T[D++&3]);if(this.lastByteIndex=D,D>=q){for(this.start=D-q,this.block=F[J],D=0;D<J;++D)R[D]^=F[D];O(R),this.reset=!0}else this.start=D}return this},u.prototype.encode=function(A,B){var L=A&255,F=1,q=[L];for(A=A>>8,L=A&255;L>0;)q.unshift(L),A=A>>8,L=A&255,++F;return B?q.push(F):q.unshift(F),this.update(q),q.length},u.prototype.encodeString=function(A){var B,L=typeof A;if(L!=="string"){if(L==="object"){if(A===null)throw new Error(e);if(c&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!Array.isArray(A)&&(!c||!ArrayBuffer.isView(A)))throw new Error(e)}else throw new Error(e);B=!0}var F=0,q=A.length;if(B)F=q;else for(var ie=0;ie<A.length;++ie){var J=A.charCodeAt(ie);J<128?F+=1:J<2048?F+=2:J<55296||J>=57344?F+=3:(J=65536+((J&1023)<<10|A.charCodeAt(++ie)&1023),F+=4)}return F+=this.encode(F*8),this.update(A),F},u.prototype.bytepad=function(A,B){for(var L=this.encode(B),F=0;F<A.length;++F)L+=this.encodeString(A[F]);var q=B-L%B,ie=[];return ie.length=q,this.update(ie),this},u.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var A=this.blocks,B=this.lastByteIndex,L=this.blockCount,F=this.s;if(A[B>>2]|=this.padding[B&3],this.lastByteIndex===this.byteCount)for(A[0]=A[L],B=1;B<L+1;++B)A[B]=0;for(A[L-1]|=2147483648,B=0;B<L;++B)F[B]^=A[B];O(F)}},u.prototype.toString=u.prototype.hex=function(){this.finalize();for(var A=this.blockCount,B=this.s,L=this.outputBlocks,F=this.extraBytes,q=0,ie=0,J="",z;ie<L;){for(q=0;q<A&&ie<L;++q,++ie)z=B[q],J+=d[z>>4&15]+d[z&15]+d[z>>12&15]+d[z>>8&15]+d[z>>20&15]+d[z>>16&15]+d[z>>28&15]+d[z>>24&15];ie%A===0&&(O(B),q=0)}return F&&(z=B[q],J+=d[z>>4&15]+d[z&15],F>1&&(J+=d[z>>12&15]+d[z>>8&15]),F>2&&(J+=d[z>>20&15]+d[z>>16&15])),J},u.prototype.arrayBuffer=function(){this.finalize();var A=this.blockCount,B=this.s,L=this.outputBlocks,F=this.extraBytes,q=0,ie=0,J=this.outputBits>>3,z;F?z=new ArrayBuffer(L+1<<2):z=new ArrayBuffer(J);for(var R=new Uint32Array(z);ie<L;){for(q=0;q<A&&ie<L;++q,++ie)R[ie]=B[q];ie%A===0&&O(B)}return F&&(R[q]=B[q],z=z.slice(0,J)),z},u.prototype.buffer=u.prototype.arrayBuffer,u.prototype.digest=u.prototype.array=function(){this.finalize();for(var A=this.blockCount,B=this.s,L=this.outputBlocks,F=this.extraBytes,q=0,ie=0,J=[],z,R;ie<L;){for(q=0;q<A&&ie<L;++q,++ie)z=ie<<2,R=B[q],J[z]=R&255,J[z+1]=R>>8&255,J[z+2]=R>>16&255,J[z+3]=R>>24&255;ie%A===0&&O(B)}return F&&(z=ie<<2,R=B[q],J[z]=R&255,F>1&&(J[z+1]=R>>8&255),F>2&&(J[z+2]=R>>16&255)),J};function S(A,B,L){u.call(this,A,B,L)}S.prototype=new u,S.prototype.finalize=function(){return this.encode(this.outputBits,!0),u.prototype.finalize.call(this)};var O=function(A){var B,L,F,q,ie,J,z,R,D,H,te,W,Q,fe,ee,Y,ne,se,re,be,le,ae,De,xe,he,ze,Le,V,K,ve,oe,Ie,pe,Ae,et,Oe,Ee,lt,Fe,we,gt,qe,_e,nt,Ve,Se,ut,je,Me,mt,Ge,Pe,dt,$e,Te,ht,Ue,He,ar,nr,Er,Sr,kr;for(F=0;F<48;F+=2)q=A[0]^A[10]^A[20]^A[30]^A[40],ie=A[1]^A[11]^A[21]^A[31]^A[41],J=A[2]^A[12]^A[22]^A[32]^A[42],z=A[3]^A[13]^A[23]^A[33]^A[43],R=A[4]^A[14]^A[24]^A[34]^A[44],D=A[5]^A[15]^A[25]^A[35]^A[45],H=A[6]^A[16]^A[26]^A[36]^A[46],te=A[7]^A[17]^A[27]^A[37]^A[47],W=A[8]^A[18]^A[28]^A[38]^A[48],Q=A[9]^A[19]^A[29]^A[39]^A[49],B=W^(J<<1|z>>>31),L=Q^(z<<1|J>>>31),A[0]^=B,A[1]^=L,A[10]^=B,A[11]^=L,A[20]^=B,A[21]^=L,A[30]^=B,A[31]^=L,A[40]^=B,A[41]^=L,B=q^(R<<1|D>>>31),L=ie^(D<<1|R>>>31),A[2]^=B,A[3]^=L,A[12]^=B,A[13]^=L,A[22]^=B,A[23]^=L,A[32]^=B,A[33]^=L,A[42]^=B,A[43]^=L,B=J^(H<<1|te>>>31),L=z^(te<<1|H>>>31),A[4]^=B,A[5]^=L,A[14]^=B,A[15]^=L,A[24]^=B,A[25]^=L,A[34]^=B,A[35]^=L,A[44]^=B,A[45]^=L,B=R^(W<<1|Q>>>31),L=D^(Q<<1|W>>>31),A[6]^=B,A[7]^=L,A[16]^=B,A[17]^=L,A[26]^=B,A[27]^=L,A[36]^=B,A[37]^=L,A[46]^=B,A[47]^=L,B=H^(q<<1|ie>>>31),L=te^(ie<<1|q>>>31),A[8]^=B,A[9]^=L,A[18]^=B,A[19]^=L,A[28]^=B,A[29]^=L,A[38]^=B,A[39]^=L,A[48]^=B,A[49]^=L,fe=A[0],ee=A[1],Se=A[11]<<4|A[10]>>>28,ut=A[10]<<4|A[11]>>>28,V=A[20]<<3|A[21]>>>29,K=A[21]<<3|A[20]>>>29,nr=A[31]<<9|A[30]>>>23,Er=A[30]<<9|A[31]>>>23,qe=A[40]<<18|A[41]>>>14,_e=A[41]<<18|A[40]>>>14,Ae=A[2]<<1|A[3]>>>31,et=A[3]<<1|A[2]>>>31,Y=A[13]<<12|A[12]>>>20,ne=A[12]<<12|A[13]>>>20,je=A[22]<<10|A[23]>>>22,Me=A[23]<<10|A[22]>>>22,ve=A[33]<<13|A[32]>>>19,oe=A[32]<<13|A[33]>>>19,Sr=A[42]<<2|A[43]>>>30,kr=A[43]<<2|A[42]>>>30,$e=A[5]<<30|A[4]>>>2,Te=A[4]<<30|A[5]>>>2,Oe=A[14]<<6|A[15]>>>26,Ee=A[15]<<6|A[14]>>>26,se=A[25]<<11|A[24]>>>21,re=A[24]<<11|A[25]>>>21,mt=A[34]<<15|A[35]>>>17,Ge=A[35]<<15|A[34]>>>17,Ie=A[45]<<29|A[44]>>>3,pe=A[44]<<29|A[45]>>>3,xe=A[6]<<28|A[7]>>>4,he=A[7]<<28|A[6]>>>4,ht=A[17]<<23|A[16]>>>9,Ue=A[16]<<23|A[17]>>>9,lt=A[26]<<25|A[27]>>>7,Fe=A[27]<<25|A[26]>>>7,be=A[36]<<21|A[37]>>>11,le=A[37]<<21|A[36]>>>11,Pe=A[47]<<24|A[46]>>>8,dt=A[46]<<24|A[47]>>>8,nt=A[8]<<27|A[9]>>>5,Ve=A[9]<<27|A[8]>>>5,ze=A[18]<<20|A[19]>>>12,Le=A[19]<<20|A[18]>>>12,He=A[29]<<7|A[28]>>>25,ar=A[28]<<7|A[29]>>>25,we=A[38]<<8|A[39]>>>24,gt=A[39]<<8|A[38]>>>24,ae=A[48]<<14|A[49]>>>18,De=A[49]<<14|A[48]>>>18,A[0]=fe^~Y&se,A[1]=ee^~ne&re,A[10]=xe^~ze&V,A[11]=he^~Le&K,A[20]=Ae^~Oe&lt,A[21]=et^~Ee&Fe,A[30]=nt^~Se&je,A[31]=Ve^~ut&Me,A[40]=$e^~ht&He,A[41]=Te^~Ue&ar,A[2]=Y^~se&be,A[3]=ne^~re&le,A[12]=ze^~V&ve,A[13]=Le^~K&oe,A[22]=Oe^~lt&we,A[23]=Ee^~Fe&gt,A[32]=Se^~je&mt,A[33]=ut^~Me&Ge,A[42]=ht^~He&nr,A[43]=Ue^~ar&Er,A[4]=se^~be&ae,A[5]=re^~le&De,A[14]=V^~ve&Ie,A[15]=K^~oe&pe,A[24]=lt^~we&qe,A[25]=Fe^~gt&_e,A[34]=je^~mt&Pe,A[35]=Me^~Ge&dt,A[44]=He^~nr&Sr,A[45]=ar^~Er&kr,A[6]=be^~ae&fe,A[7]=le^~De&ee,A[16]=ve^~Ie&xe,A[17]=oe^~pe&he,A[26]=we^~qe&Ae,A[27]=gt^~_e&et,A[36]=mt^~Pe&nt,A[37]=Ge^~dt&Ve,A[46]=nr^~Sr&$e,A[47]=Er^~kr&Te,A[8]=ae^~fe&Y,A[9]=De^~ee&ne,A[18]=Ie^~xe&ze,A[19]=pe^~he&Le,A[28]=qe^~Ae&Oe,A[29]=_e^~et&Ee,A[38]=Pe^~nt&Se,A[39]=dt^~Ve&ut,A[48]=Sr^~$e&ht,A[49]=kr^~Te&Ue,A[0]^=C[F],A[1]^=C[F+1]};if(a)r.exports=f;else for(b=0;b<h.length;++b)i[h[b]]=f[h[b]]})()})(gf);const mE=gf.exports;function Mt(r){return"0x"+mE.keccak_256(ue(r))}const bE=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Mt},Symbol.toStringTag,{value:"Module"})),vE="rlp/5.7.0",Mi=new j(vE);function wb(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Ab(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function hx(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(o){n=n.concat(hx(o))}),n.length<=55)return n.unshift(192+n.length),n;const i=wb(n.length);return i.unshift(247+i.length),i.concat(n)}hf(r)||Mi.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(ue(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=wb(e.length);return t.unshift(183+t.length),t.concat(e)}function Rs(r){return ge(hx(r))}function Eb(r,e,t,n){const i=[];for(;t<e+1+n;){const o=px(r,t);i.push(o.result),t+=o.consumed,t>e+1+n&&Mi.throwError("child data too short",j.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function px(r,e){if(r.length===0&&Mi.throwError("data too short",j.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&Mi.throwError("data short segment too short",j.errors.BUFFER_OVERRUN,{});const n=Ab(r,e+1,t);return e+1+t+n>r.length&&Mi.throwError("data long segment too short",j.errors.BUFFER_OVERRUN,{}),Eb(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&Mi.throwError("data array too short",j.errors.BUFFER_OVERRUN,{}),Eb(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&Mi.throwError("data array too short",j.errors.BUFFER_OVERRUN,{});const n=Ab(r,e+1,t);e+1+t+n>r.length&&Mi.throwError("data array too short",j.errors.BUFFER_OVERRUN,{});const i=ge(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&Mi.throwError("data too short",j.errors.BUFFER_OVERRUN,{});const n=ge(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:ge(r[e])}}function nu(r){const e=ue(r),t=px(e,0);return t.consumed!==e.length&&Mi.throwArgumentError("invalid rlp data","data",r),t.result}const gx=Object.freeze(Object.defineProperty({__proto__:null,encode:Rs,decode:nu},Symbol.toStringTag,{value:"Module"})),yE="address/5.7.0",Vo=new j(yE);function Sb(r){Qe(r,20)||Vo.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=ue(Mt(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const xE=9007199254740991;function wE(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Yp={};for(let r=0;r<10;r++)Yp[String(r)]=String(r);for(let r=0;r<26;r++)Yp[String.fromCharCode(65+r)]=String(10+r);const kb=Math.floor(wE(xE));function mx(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Yp[n]).join("");for(;e.length>=kb;){let n=e.substring(0,kb);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Et(r){let e=null;if(typeof r!="string"&&Vo.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Sb(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Vo.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==mx(r)&&Vo.throwArgumentError("bad icap checksum","address",r),e=nE(r.substring(4));e.length<40;)e="0"+e;e=Sb("0x"+e)}else Vo.throwArgumentError("invalid address","address",r);return e}function bx(r){try{return Et(r),!0}catch{}return!1}function vx(r){let e=iE(Et(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+mx("XE00"+e)+e}function Uc(r){let e=null;try{e=Et(r.from)}catch{Vo.throwArgumentError("missing from address","transaction",r)}const t=fi(ue(de.from(r.nonce).toHexString()));return Et(Qt(Mt(Rs([e,t])),12))}function yx(r,e,t){return ui(e)!==32&&Vo.throwArgumentError("salt must be 32 bytes","salt",e),ui(t)!==32&&Vo.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Et(Qt(Mt(It(["0xff",Et(r),e,t])),12))}const AE=Object.freeze(Object.defineProperty({__proto__:null,getAddress:Et,isAddress:bx,getIcapAddress:vx,getContractAddress:Uc,getCreate2Address:yx},Symbol.toStringTag,{value:"Module"}));class EE extends Eo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Et(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return Et(Nt(e.readValue().toHexString(),20))}}class SE extends Eo{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Ea=new j(Lc);function xx(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(d=>{const l=d.localName;return l||Ea.throwError("cannot encode object for signature with missing names",j.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:t}),c[l]&&Ea.throwError("cannot encode object for signature with duplicate names",j.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:t}),c[l]=!0,t[l]})}else Ea.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&Ea.throwArgumentError("types/value length mismatch","tuple",t);let i=new W1(r.wordSize),o=new W1(r.wordSize),s=[];e.forEach((c,d)=>{let l=n[d];if(c.dynamic){let p=o.length;c.encode(o,l);let k=i.writeUpdatableValue();s.push(_=>{k(_+p)})}else c.encode(i,l)}),s.forEach(c=>{c(i.length)});let a=r.appendWriter(i);return a+=r.appendWriter(o),a}function wx(r,e){let t=[],n=r.subReader(0);e.forEach(o=>{let s=null;if(o.dynamic){let a=r.readValue(),c=n.subReader(a.toNumber());try{s=o.decode(c)}catch(d){if(d.code===j.errors.BUFFER_OVERRUN)throw d;s=d,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(r)}catch(a){if(a.code===j.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}s!=null&&t.push(s)});const i=e.reduce((o,s)=>{const a=s.localName;return a&&(o[a]||(o[a]=0),o[a]++),o},{});e.forEach((o,s)=>{let a=o.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const c=t[s];c instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw c}}):t[a]=c});for(let o=0;o<t.length;o++){const s=t[o];s instanceof Error&&Object.defineProperty(t,o,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(t)}class kE extends Eo{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",o=t===-1||e.dynamic;super("array",i,n,o),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),Ea.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<t.length;o++)i.push(this.coder);return xx(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&Ea.throwError("insufficient data length",j.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new SE(this.coder));return e.coerce(this.name,wx(e,n))}}class _E extends Eo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Ax extends Eo{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ue(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class ME extends Ax{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ge(super.decode(e)))}}class PE extends Eo{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=ue(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,ge(e.readBytes(this.size)))}}class TE extends Eo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Ex="0x0000000000000000000000000000000000000000",Sx=de.from(-1),Xp=de.from(0),kx=de.from(1),CE=de.from(2),BE=de.from("1000000000000000000"),_x=de.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),IE=de.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),NE=de.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Zp="0x0000000000000000000000000000000000000000000000000000000000000000",OE="\u039E",Mx=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:Ex,NegativeOne:Sx,Zero:Xp,One:kx,Two:CE,WeiPerEther:BE,MaxUint256:_x,MinInt256:IE,MaxInt256:NE,HashZero:Zp,EtherSymbol:OE},Symbol.toStringTag,{value:"Module"}));class RE extends Eo{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=de.from(t),i=_x.mask(e.wordSize*8);if(this.signed){let o=i.mask(this.size*8-1);(n.gt(o)||n.lt(o.add(kx).mul(Sx)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Xp)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const DE="strings/5.7.0",Px=new j(DE);var di;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(di||(di={}));var Vr;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Vr||(Vr={}));function LE(r,e,t,n,i){return Px.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Tx(r,e,t,n,i){if(r===Vr.BAD_PREFIX||r===Vr.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<t.length&&t[s]>>6===2;s++)o++;return o}return r===Vr.OVERRUN?t.length-e-1:0}function UE(r,e,t,n,i){return r===Vr.OVERLONG?(n.push(i),0):(n.push(65533),Tx(r,e,t))}const eg=Object.freeze({error:LE,ignore:Tx,replace:UE});function tg(r,e){e==null&&(e=eg.error),r=ue(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(i>>7===0){t.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=e(Vr.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(Vr.BAD_PREFIX,n-1,r,t);continue}if(n-1+o>=r.length){n+=e(Vr.OVERRUN,n-1,r,t);continue}let a=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let d=r[n];if((d&192)!=128){n+=e(Vr.MISSING_CONTINUE,n,r,t),a=null;break}a=a<<6|d&63,n++}if(a!==null){if(a>1114111){n+=e(Vr.OUT_OF_RANGE,n-1-o,r,t,a);continue}if(a>=55296&&a<=57343){n+=e(Vr.UTF16_SURROGATE,n-1-o,r,t,a);continue}if(a<=s){n+=e(Vr.OVERLONG,n-1-o,r,t,a);continue}t.push(a)}}return t}function Xt(r,e=di.current){e!=di.current&&(Px.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const o=r.charCodeAt(n);if(n>=r.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(o&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return ue(t)}function Vd(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function Cx(r,e){return'"'+tg(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?Vd(t):(t-=65536,Vd((t>>10&1023)+55296)+Vd((t&1023)+56320))}).join("")+'"'}function Q1(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function So(r,e){return Q1(tg(r,e))}function Mc(r,e=di.current){return tg(Xt(r,e))}function Bx(r){const e=Xt(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return ge(It([e,Zp]).slice(0,32))}function Ix(r){const e=ue(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return So(e.slice(0,t))}function FE(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function rg(r,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,n={};return r.split(",").forEach(i=>{let o=i.split(":");t+=parseInt(o[0],16),n[t]=e(o[1])}),n}function Nx(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function ng(r,e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];if(t+=i.l,r>=t&&r<=t+i.h&&(r-t)%(i.d||1)===0){if(i.e&&i.e.indexOf(r-t)!==-1)continue;return i}}return null}const HE=Nx("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),VE="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),jE=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],GE=rg("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),qE=rg("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),$E=rg("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",FE),KE=Nx("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function zE(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function WE(r){return!!ng(r,HE)}function QE(r){let e=ng(r,jE);if(e)return[r+e.s];let t=GE[r];if(t)return t;let n=qE[r];if(n)return[r+n[0]];let i=$E[r];return i||null}function JE(r){return!!ng(r,KE)}function Ox(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=Mc(r);e=zE(e.map(n=>{if(VE.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=QE(n);return i||[n]})),e=Mc(Q1(e),di.NFKC),e.forEach(n=>{if(JE(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(WE(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=Q1(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const YE=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String:Cx,toUtf8Bytes:Xt,toUtf8CodePoints:Mc,toUtf8String:So,Utf8ErrorFuncs:eg,get Utf8ErrorReason(){return Vr},get UnicodeNormalizationForm(){return di},formatBytes32String:Bx,parseBytes32String:Ix,nameprep:Ox},Symbol.toStringTag,{value:"Module"}));class XE extends Ax{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Xt(t))}decode(e){return So(super.decode(e))}}class wl extends Eo{constructor(e,t){let n=!1;const i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||t[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,t){return xx(e,this.coders,t)}decode(e){return e.coerce(this.name,wx(e,this.coders))}}const Al=new j(Lc),ZE=new RegExp(/^bytes([0-9]*)$/),eS=new RegExp(/^(u?int)([0-9]*)$/);class ig{constructor(e){Z(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new EE(e.name);case"bool":return new _E(e.name);case"string":return new XE(e.name);case"bytes":return new ME(e.name);case"array":return new kE(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new wl((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new TE(e.name)}let t=e.type.match(eS);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&Al.throwArgumentError("invalid "+t[1]+" bit length","param",e),new RE(n/8,t[1]==="int",e.name)}if(t=e.type.match(ZE),t){let n=parseInt(t[1]);return(n===0||n>32)&&Al.throwArgumentError("invalid bytes length","param",e),new PE(n,e.name)}return Al.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new m0(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new W1(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(tr.from(i)));return new wl(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Al.throwError("types/values length mismatch",j.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(s=>this._getCoder(tr.from(s))),i=new wl(n,"_"),o=this._getWriter();return i.encode(o,t),o.data}decode(e,t,n){const i=e.map(s=>this._getCoder(tr.from(s)));return new wl(i,"_").decode(this._getReader(ue(t),n))}}const og=new ig;function oo(r){return Mt(Xt(r))}const Rx="hash/5.7.0";function sg(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return ue(e)}function ag(r){r=ue(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const Dx=Object.freeze(Object.defineProperty({__proto__:null,decode:sg,encode:ag},Symbol.toStringTag,{value:"Module"}));function Lx(r,e){e==null&&(e=1);const t=[],n=t.forEach,i=function(o,s){n.call(o,function(a){s>0&&Array.isArray(a)?i(a,s-1):t.push(a)})};return i(r,e),t}function tS(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function rS(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),i=1,o=[0,1];for(let G=1;G<n;G++)o.push(i+=t());let s=t(),a=e;e+=s;let c=0,d=0;function l(){return c==0&&(d=d<<8|r[e++],c=8),d>>--c&1}const p=31,k=Math.pow(2,p),_=k>>>1,T=_>>1,C=k-1;let M=0;for(let G=0;G<p;G++)M=M<<1|l();let P=[],N=0,U=k;for(;;){let G=Math.floor(((M-N+1)*i-1)/U),X=0,ye=n;for(;ye-X>1;){let Be=X+ye>>>1;G<o[Be]?ye=Be:X=Be}if(X==0)break;P.push(X);let ce=N+Math.floor(U*o[X]/i),me=N+Math.floor(U*o[X+1]/i)-1;for(;((ce^me)&_)==0;)M=M<<1&C|l(),ce=ce<<1&C,me=me<<1&C|1;for(;ce&~me&T;)M=M&_|M<<1&C>>>1|l(),ce=ce<<1^_,me=(me^_)<<1|_|1;N=ce,U=1+me-ce}let $=n-4;return P.map(G=>{switch(G-$){case 3:return $+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return $+256+(r[a++]<<8|r[a++]);case 1:return $+r[a++];default:return G-1}})}function nS(r){let e=0;return()=>r[e++]}function iS(r){return nS(rS(r))}function oS(r){return r&1?~r>>1:r>>1}function sS(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function _b(r,e){let t=Array(r);for(let n=0,i=-1;n<r;n++)t[n]=i+=1+e();return t}function aS(r,e){let t=Array(r);for(let n=0,i=0;n<r;n++)t[n]=i+=oS(e());return t}function b0(r,e){let t=_b(r(),r),n=r(),i=_b(n,r),o=sS(n,r);for(let s=0;s<n;s++)for(let a=0;a<o[s];a++)t.push(i[s]+a);return e?t.map(s=>e[s]):t}function fS(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(lS(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(uS(t,r))}return tS(Lx(e))}function cS(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function Ux(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)aS(r,t).forEach((o,s)=>n[s].push(o));return n}function lS(r,e){let t=1+e(),n=e(),i=cS(e),o=Ux(i.length,1+r,e);return Lx(o.map((s,a)=>{const c=s[0],d=s.slice(1);return Array(i[a]).fill(void 0).map((l,p)=>{let k=p*n;return[c+p*t,d.map(_=>_+k)]})}))}function uS(r,e){let t=1+e();return Ux(t,1+r,e).map(i=>[i[0],i.slice(1)])}function dS(r){let e=b0(r).sort((n,i)=>n-i);return t();function t(){let n=[];for(;;){let d=b0(r,e);if(d.length==0)break;n.push({set:new Set(d),node:t()})}n.sort((d,l)=>l.set.size-d.set.size);let i=r(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:o,fe0f:s,save:a,check:c}}}function hS(){return iS(sg("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const iu=hS(),pS=new Set(b0(iu)),gS=new Set(b0(iu)),mS=fS(iu),bS=dS(iu),Mb=45,Pb=95;function Fx(r){return Mc(r)}function vS(r){return r.filter(e=>e!=65039)}function Hx(r){for(let e of r.split(".")){let t=Fx(e);try{for(let n=t.lastIndexOf(Pb)-1;n>=0;n--)if(t[n]!==Pb)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===Mb&&t[3]===Mb)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function yS(r){return Hx(xS(r,vS))}function xS(r,e){let t=Fx(r).reverse(),n=[];for(;t.length;){let i=AS(t);if(i){n.push(...e(i));continue}let o=t.pop();if(pS.has(o)){n.push(o);continue}if(gS.has(o))continue;let s=mS[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return Hx(wS(String.fromCodePoint(...n)))}function wS(r){return r.normalize("NFC")}function AS(r,e){var t;let n=bS,i,o,s=[],a=r.length;for(e&&(e.length=0);a;){let c=r[--a];if(n=(t=n.branches.find(d=>d.set.has(c)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)o=c;else if(n.check&&c===o)break;s.push(c),n.fe0f&&(s.push(65039),a>0&&r[a-1]==65039&&a--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...r.slice(a).reverse()),r.length=a)}return i}const ES=new j(Rx),Vx=new Uint8Array(32);Vx.fill(0);function Tb(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function ou(r){const e=Xt(yS(r)),t=[];if(r.length===0)return t;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(Tb(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(Tb(e.slice(n))),t}function SS(r){return ou(r).map(e=>So(e)).join(".")}function jx(r){try{return ou(r).length!==0}catch{}return!1}function Ra(r){typeof r!="string"&&ES.throwArgumentError("invalid ENS name; not a string","name",r);let e=Vx;const t=ou(r);for(;t.length;)e=Mt(It([e,Mt(t.pop())]));return ge(e)}function fg(r){return ge(It(ou(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const Gx=`Ethereum Signed Message:
`;function Fc(r){return typeof r=="string"&&(r=Xt(r)),Mt(It([Xt(Gx),Xt(String(r.length)),r]))}var kS=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const qt=new j(Rx),qx=new Uint8Array(32);qx.fill(0);const _S=de.from(-1),$x=de.from(0),Kx=de.from(1),MS=de.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function PS(r){const e=ue(r),t=e.length%32;return t?Cr([e,qx.slice(t)]):ge(e)}const TS=Nt(Kx.toHexString(),32),CS=Nt($x.toHexString(),32),Cb={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},jd=["name","version","chainId","verifyingContract","salt"];function Bb(r){return function(e){return typeof e!="string"&&qt.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const BS={name:Bb("name"),version:Bb("version"),chainId:function(r){try{return de.from(r).toString()}catch{}return qt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Et(r).toLowerCase()}catch{}return qt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=ue(r);if(e.length!==32)throw new Error("bad length");return ge(e)}catch{}return qt.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function Gd(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&qt.throwArgumentError("invalid numeric width","type",r);const i=MS.mask(t?n-1:n),o=t?i.add(Kx).mul(_S):$x;return function(s){const a=de.from(s);return(a.lt(o)||a.gt(i))&&qt.throwArgumentError(`value out-of-bounds for ${r}`,"value",s),Nt(a.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&qt.throwArgumentError("invalid bytes width","type",r),function(n){return ue(n).length!==t&&qt.throwArgumentError(`invalid length for ${r}`,"value",n),PS(n)}}}switch(r){case"address":return function(e){return Nt(Et(e),32)};case"bool":return function(e){return e?TS:CS};case"bytes":return function(e){return Mt(e)};case"string":return function(e){return oo(e)}}return null}function Ib(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class lr{constructor(e){Z(this,"types",Object.freeze(Or(e))),Z(this,"_encoderCache",{}),Z(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(a=>{t[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(d=>{c[d.name]&&qt.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(a)}`,"types",e),c[d.name]=!0;const l=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===a&&qt.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!Gd(l)&&(n[l]||qt.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),n[l].push(a),t[a][l]=!0)})}const o=Object.keys(n).filter(a=>n[a].length===0);o.length===0?qt.throwArgumentError("missing primary type","types",e):o.length>1&&qt.throwArgumentError(`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Z(this,"primaryType",o[0]);function s(a,c){c[a]&&qt.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(t[a]).forEach(d=>{!n[d]||(s(d,c),Object.keys(c).forEach(l=>{i[l][d]=!0}))}),delete c[a]}s(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=Ib(a,e[a])+c.map(d=>Ib(d,e[d])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=Gd(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],o=this.getEncoder(i),s=parseInt(t[3]);return a=>{s>=0&&a.length!==s&&qt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(o);return this._types[i]&&(c=c.map(Mt)),Mt(Cr(c))}}const n=this.types[e];if(n){const i=oo(this._types[e]);return o=>{const s=n.map(({name:a,type:c})=>{const d=this.getEncoder(c)(o[a]);return this._types[c]?Mt(d):d});return s.unshift(i),Cr(s)}}return qt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||qt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Mt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Gd(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],a=parseInt(i[3]);return a>=0&&t.length!==a&&qt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(c=>this._visit(s,c,n))}const o=this.types[e];return o?o.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,t[a],n),s),{}):qt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new lr(e)}static getPrimaryType(e){return lr.from(e).primaryType}static hashStruct(e,t,n){return lr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=Cb[n];i||qt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>jd.indexOf(n.name)-jd.indexOf(i.name)),lr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Cr(["0x1901",lr.hashDomain(e),lr.from(t).hash(n)])}static hash(e,t,n){return Mt(lr.encode(e,t,n))}static resolveNames(e,t,n,i){return kS(this,void 0,void 0,function*(){e=Rt(e);const o={};e.verifyingContract&&!Qe(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=lr.from(t);s.visit(n,(a,c)=>(a==="address"&&!Qe(c,20)&&(o[c]="0x"),c));for(const a in o)o[a]=yield i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:n}})}static getPayload(e,t,n){lr.hashDomain(e);const i={},o=[];jd.forEach(c=>{const d=e[c];d!=null&&(i[c]=BS[c](d),o.push({name:c,type:Cb[c]}))});const s=lr.from(t),a=Rt(t);return a.EIP712Domain?qt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(c,d)=>{if(c.match(/^bytes(\d*)/))return ge(ue(d));if(c.match(/^u?int/))return de.from(d).toString();switch(c){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&qt.throwArgumentError("invalid string","value",d),d}return qt.throwArgumentError("unsupported type","type",c)})}}}const IS=Object.freeze(Object.defineProperty({__proto__:null,id:oo,dnsEncode:fg,namehash:Ra,isValidName:jx,ensNormalize:SS,messagePrefix:Gx,hashMessage:Fc,_TypedDataEncoder:lr},Symbol.toStringTag,{value:"Module"})),Gt=new j(Lc);class cg extends ns{}class lg extends ns{}class NS extends ns{}class Pc extends ns{static isIndexed(e){return!!(e&&e._isIndexed)}}const OS={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Nb(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class v0{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,Z(this,"fragments",t.map(n=>ni.from(n)).filter(n=>n!=null)),Z(this,"_abiCoder",dr(new.target,"getAbiCoder")()),Z(this,"functions",{}),Z(this,"errors",{}),Z(this,"events",{}),Z(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Gt.warn("duplicate definition - constructor");return}Z(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let o=n.format();if(i[o]){Gt.warn("duplicate definition - "+o);return}i[o]=n}),this.deploy||Z(this,"deploy",An.from({payable:!1,type:"constructor"})),Z(this,"_isInterface",!0)}format(e){e||(e=vt.full),e===vt.sighash&&Gt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===vt.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return og}static getAddress(e){return Et(e)}static getSighash(e){return Qt(oo(e.format()),0,4)}static getEventTopic(e){return oo(e.format())}getFunction(e){if(Qe(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Gt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(o=>o.split("(")[0]===n);return i.length===0?Gt.throwArgumentError("no matching function","name",n):i.length>1&&Gt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[En.fromString(e).format()];return t||Gt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Qe(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Gt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(o=>o.split("(")[0]===n);return i.length===0?Gt.throwArgumentError("no matching event","name",n):i.length>1&&Gt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[ti.fromString(e).format()];return t||Gt.throwArgumentError("no matching event","signature",e),t}getError(e){if(Qe(e)){const n=dr(this.constructor,"getSighash");for(const i in this.errors){const o=this.errors[i];if(e===n(o))return this.errors[i]}Gt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(o=>o.split("(")[0]===n);return i.length===0?Gt.throwArgumentError("no matching error","name",n):i.length>1&&Gt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[En.fromString(e).format()];return t||Gt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return dr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),dr(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=ue(t);return ge(n.slice(0,4))!==this.getSighash(e)&&Gt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ge(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),ge(It([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=ue(t);return ge(n.slice(0,4))!==this.getSighash(e)&&Gt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ge(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ge(It([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=ue(t),i=null,o="",s=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const d=ge(n.slice(0,4)),l=OS[d];if(l)s=this._abiCoder.decode(l.inputs,n.slice(4)),a=l.name,c=l.signature,l.reason&&(i=s[0]),a==="Error"?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:a==="Panic"&&(o=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const p=this.getError(d);s=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,c=p.format()}catch{}break}}return Gt.throwError("call revert exception"+o,j.errors.CALL_EXCEPTION,{method:e.format(),data:ge(t),errorArgs:s,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ge(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Gt.throwError("too many arguments for "+e.format(),j.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(o,s)=>o.type==="string"?oo(s):o.type==="bytes"?Mt(ge(s)):(o.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),o.type.match(/^u?int/)&&(s=de.from(s).toHexString()),o.type==="address"&&this._abiCoder.encode(["address"],[s]),Nt(ge(s),32));for(t.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){o!=null&&Gt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Gt.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(c=>i(a,c))):n.push(i(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],o=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Gt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((s,a)=>{const c=t[a];if(s.indexed)if(s.type==="string")n.push(oo(c));else if(s.type==="bytes")n.push(Mt(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[c]))}else i.push(s),o.push(c)}),{data:this._abiCoder.encode(i,o),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let k=this.getEventTopic(e);(!Qe(n[0],32)||n[0].toLowerCase()!==k)&&Gt.throwError("fragment/topic mismatch",j.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:k,value:n[0]}),n=n.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((k,_)=>{k.indexed?k.type==="string"||k.type==="bytes"||k.baseType==="tuple"||k.baseType==="array"?(i.push(tr.fromObject({type:"bytes32",name:k.name})),s.push(!0)):(i.push(k),s.push(!1)):(o.push(k),s.push(!1))});let a=n!=null?this._abiCoder.decode(i,It(n)):null,c=this._abiCoder.decode(o,t,!0),d=[],l=0,p=0;e.inputs.forEach((k,_)=>{if(k.indexed)if(a==null)d[_]=new Pc({_isIndexed:!0,hash:null});else if(s[_])d[_]=new Pc({_isIndexed:!0,hash:a[p++]});else try{d[_]=a[p++]}catch(T){d[_]=T}else try{d[_]=c[l++]}catch(T){d[_]=T}if(k.name&&d[k.name]==null){const T=d[_];T instanceof Error?Object.defineProperty(d,k.name,{enumerable:!0,get:()=>{throw Nb(`property ${JSON.stringify(k.name)}`,T)}}):d[k.name]=T}});for(let k=0;k<d.length;k++){const _=d[k];_ instanceof Error&&Object.defineProperty(d,k,{enumerable:!0,get:()=>{throw Nb(`index ${k}`,_)}})}return Object.freeze(d)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new lg({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:de.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new cg({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=ge(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new NS({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const RS=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment:An,ErrorFragment:Ii,EventFragment:ti,Fragment:ni,FunctionFragment:En,ParamType:tr,FormatTypes:vt,AbiCoder:ig,defaultAbiCoder:og,Interface:v0,Indexed:Pc,checkResultErrors:Jp,LogDescription:cg,TransactionDescription:lg},Symbol.toStringTag,{value:"Module"})),DS="abstract-provider/5.7.0";var LS=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const US=new j(DS);class FS extends ns{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Ws{constructor(){US.checkAbstract(new.target,Ws),Z(this,"_isProvider",!0)}getFeeData(){return LS(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield $t({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=de.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const HS="abstract-signer/5.7.0";var Wn=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const yn=new j(HS),VS=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],jS=[j.errors.INSUFFICIENT_FUNDS,j.errors.NONCE_EXPIRED,j.errors.REPLACEMENT_UNDERPRICED];class ko{constructor(){yn.checkAbstract(new.target,ko),Z(this,"_isSigner",!0)}getBalance(e){return Wn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Wn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Wn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield $t(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return Wn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield $t(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return Wn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return Wn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Wn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Wn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Wn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)VS.indexOf(n)===-1&&yn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Rt(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&yn.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return Wn(this,void 0,void 0,function*(){const t=yield $t(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>Wn(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.resolveName(i);return o==null&&yn.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?yn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&yn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const o=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=o,t.maxPriorityFeePerGas=o}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&yn.throwError("network does not support EIP-1559",j.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):yn.throwError("failed to get consistent fee data",j.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(jS.indexOf(i.code)>=0)throw i;return yn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&yn.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield $t(t)})}_checkProvider(e){this.provider||yn.throwError("missing provider",j.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Hc extends ko{constructor(e,t){super(),Z(this,"address",e),Z(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{yn.throwError(e,j.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Hc(this.address,e)}}var zx={exports:{}};(function(r){(function(e,t){function n(m,f){if(!m)throw new Error(f||"Assertion failed")}function i(m,f){m.super_=f;var h=function(){};h.prototype=f.prototype,m.prototype=new h,m.prototype.constructor=m}function o(m,f,h){if(o.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(m||0,f||10,h||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=wo.Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,h){return f.cmp(h)>0?f:h},o.min=function(f,h){return f.cmp(h)<0?f:h},o.prototype._init=function(f,h,b){if(typeof f=="number")return this._initNumber(f,h,b);if(typeof f=="object")return this._initArray(f,h,b);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var y=0;f[0]==="-"&&(y++,this.negative=1),y<f.length&&(h===16?this._parseHex(f,y,b):(this._parseBase(f,h,y),b==="le"&&this._initArray(this.toArray(),h,b)))},o.prototype._initNumber=function(f,h,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),h,b)},o.prototype._initArray=function(f,h,b){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x,w,v=0;if(b==="be")for(y=f.length-1,x=0;y>=0;y-=3)w=f[y]|f[y-1]<<8|f[y-2]<<16,this.words[x]|=w<<v&67108863,this.words[x+1]=w>>>26-v&67108863,v+=24,v>=26&&(v-=26,x++);else if(b==="le")for(y=0,x=0;y<f.length;y+=3)w=f[y]|f[y+1]<<8|f[y+2]<<16,this.words[x]|=w<<v&67108863,this.words[x+1]=w>>>26-v&67108863,v+=24,v>=26&&(v-=26,x++);return this._strip()};function a(m,f){var h=m.charCodeAt(f);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+m)}function c(m,f,h){var b=a(m,h);return h-1>=f&&(b|=a(m,h-1)<<4),b}o.prototype._parseHex=function(f,h,b){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x=0,w=0,v;if(b==="be")for(y=f.length-1;y>=h;y-=2)v=c(f,h,y)<<x,this.words[w]|=v&67108863,x>=18?(x-=18,w+=1,this.words[w]|=v>>>26):x+=8;else{var g=f.length-h;for(y=g%2===0?h+1:h;y<f.length;y+=2)v=c(f,h,y)<<x,this.words[w]|=v&67108863,x>=18?(x-=18,w+=1,this.words[w]|=v>>>26):x+=8}this._strip()};function d(m,f,h,b){for(var y=0,x=0,w=Math.min(m.length,h),v=f;v<w;v++){var g=m.charCodeAt(v)-48;y*=b,g>=49?x=g-49+10:g>=17?x=g-17+10:x=g,n(g>=0&&x<b,"Invalid character"),y+=x}return y}o.prototype._parseBase=function(f,h,b){this.words=[0],this.length=1;for(var y=0,x=1;x<=67108863;x*=h)y++;y--,x=x/h|0;for(var w=f.length-b,v=w%y,g=Math.min(w,w-v)+b,u=0,S=b;S<g;S+=y)u=d(f,S,S+y,h),this.imuln(x),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(v!==0){var O=1;for(u=d(f,S,f.length,h),S=0;S<v;S++)O*=h;this.imuln(O),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(m,f){m.words=f.words,m.length=f.length,m.negative=f.negative,m.red=f.red}if(o.prototype._move=function(f){l(f,this)},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{o.prototype.inspect=p}else o.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,h){f=f||10,h=h|0||1;var b;if(f===16||f==="hex"){b="";for(var y=0,x=0,w=0;w<this.length;w++){var v=this.words[w],g=((v<<y|x)&16777215).toString(16);x=v>>>24-y&16777215,y+=2,y>=26&&(y-=26,w--),x!==0||w!==this.length-1?b=k[6-g.length]+g+b:b=g+b}for(x!==0&&(b=x.toString(16)+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=_[f],S=T[f];b="";var O=this.clone();for(O.negative=0;!O.isZero();){var A=O.modrn(S).toString(f);O=O.idivn(S),O.isZero()?b=A+b:b=k[u-A.length]+A+b}for(this.isZero()&&(b="0"+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(f,h){return this.toArrayLike(s,f,h)}),o.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)};var C=function(f,h){return f.allocUnsafe?f.allocUnsafe(h):new f(h)};o.prototype.toArrayLike=function(f,h,b){this._strip();var y=this.byteLength(),x=b||Math.max(1,y);n(y<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var w=C(f,x),v=h==="le"?"LE":"BE";return this["_toArrayLike"+v](w,y),w},o.prototype._toArrayLikeLE=function(f,h){for(var b=0,y=0,x=0,w=0;x<this.length;x++){var v=this.words[x]<<w|y;f[b++]=v&255,b<f.length&&(f[b++]=v>>8&255),b<f.length&&(f[b++]=v>>16&255),w===6?(b<f.length&&(f[b++]=v>>24&255),y=0,w=0):(y=v>>>24,w+=2)}if(b<f.length)for(f[b++]=y;b<f.length;)f[b++]=0},o.prototype._toArrayLikeBE=function(f,h){for(var b=f.length-1,y=0,x=0,w=0;x<this.length;x++){var v=this.words[x]<<w|y;f[b--]=v&255,b>=0&&(f[b--]=v>>8&255),b>=0&&(f[b--]=v>>16&255),w===6?(b>=0&&(f[b--]=v>>24&255),y=0,w=0):(y=v>>>24,w+=2)}if(b>=0)for(f[b--]=y;b>=0;)f[b--]=0},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var h=f,b=0;return h>=4096&&(b+=13,h>>>=13),h>=64&&(b+=7,h>>>=7),h>=8&&(b+=4,h>>>=4),h>=2&&(b+=2,h>>>=2),b+h},o.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,b=0;return(h&8191)===0&&(b+=13,h>>>=13),(h&127)===0&&(b+=7,h>>>=7),(h&15)===0&&(b+=4,h>>>=4),(h&3)===0&&(b+=2,h>>>=2),(h&1)===0&&b++,b},o.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function M(m){for(var f=new Array(m.bitLength()),h=0;h<f.length;h++){var b=h/26|0,y=h%26;f[h]=m.words[b]>>>y&1}return f}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var b=this._zeroBits(this.words[h]);if(f+=b,b!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this._strip()},o.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var b=0;b<h.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=h.length,this._strip()},o.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var h,b;this.length>f.length?(h=this,b=f):(h=f,b=this);for(var y=0;y<b.length;y++)this.words[y]=h.words[y]^b.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},o.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,b=f%26;this._expand(h),b>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return b>0&&(this.words[y]=~this.words[y]&67108863>>26-b),this._strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var b=f/26|0,y=f%26;return this._expand(b+1),h?this.words[b]=this.words[b]|1<<y:this.words[b]=this.words[b]&~(1<<y),this._strip()},o.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var b,y;this.length>f.length?(b=this,y=f):(b=f,y=this);for(var x=0,w=0;w<y.length;w++)h=(b.words[w]|0)+(y.words[w]|0)+x,this.words[w]=h&67108863,x=h>>>26;for(;x!==0&&w<b.length;w++)h=(b.words[w]|0)+x,this.words[w]=h&67108863,x=h>>>26;if(this.length=b.length,x!==0)this.words[this.length]=x,this.length++;else if(b!==this)for(;w<b.length;w++)this.words[w]=b.words[w];return this},o.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,x;b>0?(y=this,x=f):(y=f,x=this);for(var w=0,v=0;v<x.length;v++)h=(y.words[v]|0)-(x.words[v]|0)+w,w=h>>26,this.words[v]=h&67108863;for(;w!==0&&v<y.length;v++)h=(y.words[v]|0)+w,w=h>>26,this.words[v]=h&67108863;if(w===0&&v<y.length&&y!==this)for(;v<y.length;v++)this.words[v]=y.words[v];return this.length=Math.max(this.length,v),y!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function P(m,f,h){h.negative=f.negative^m.negative;var b=m.length+f.length|0;h.length=b,b=b-1|0;var y=m.words[0]|0,x=f.words[0]|0,w=y*x,v=w&67108863,g=w/67108864|0;h.words[0]=v;for(var u=1;u<b;u++){for(var S=g>>>26,O=g&67108863,A=Math.min(u,f.length-1),B=Math.max(0,u-m.length+1);B<=A;B++){var L=u-B|0;y=m.words[L]|0,x=f.words[B]|0,w=y*x+O,S+=w/67108864|0,O=w&67108863}h.words[u]=O|0,g=S|0}return g!==0?h.words[u]=g|0:h.length--,h._strip()}var N=function(f,h,b){var y=f.words,x=h.words,w=b.words,v=0,g,u,S,O=y[0]|0,A=O&8191,B=O>>>13,L=y[1]|0,F=L&8191,q=L>>>13,ie=y[2]|0,J=ie&8191,z=ie>>>13,R=y[3]|0,D=R&8191,H=R>>>13,te=y[4]|0,W=te&8191,Q=te>>>13,fe=y[5]|0,ee=fe&8191,Y=fe>>>13,ne=y[6]|0,se=ne&8191,re=ne>>>13,be=y[7]|0,le=be&8191,ae=be>>>13,De=y[8]|0,xe=De&8191,he=De>>>13,ze=y[9]|0,Le=ze&8191,V=ze>>>13,K=x[0]|0,ve=K&8191,oe=K>>>13,Ie=x[1]|0,pe=Ie&8191,Ae=Ie>>>13,et=x[2]|0,Oe=et&8191,Ee=et>>>13,lt=x[3]|0,Fe=lt&8191,we=lt>>>13,gt=x[4]|0,qe=gt&8191,_e=gt>>>13,nt=x[5]|0,Ve=nt&8191,Se=nt>>>13,ut=x[6]|0,je=ut&8191,Me=ut>>>13,mt=x[7]|0,Ge=mt&8191,Pe=mt>>>13,dt=x[8]|0,$e=dt&8191,Te=dt>>>13,ht=x[9]|0,Ue=ht&8191,He=ht>>>13;b.negative=f.negative^h.negative,b.length=19,g=Math.imul(A,ve),u=Math.imul(A,oe),u=u+Math.imul(B,ve)|0,S=Math.imul(B,oe);var ar=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(ar>>>26)|0,ar&=67108863,g=Math.imul(F,ve),u=Math.imul(F,oe),u=u+Math.imul(q,ve)|0,S=Math.imul(q,oe),g=g+Math.imul(A,pe)|0,u=u+Math.imul(A,Ae)|0,u=u+Math.imul(B,pe)|0,S=S+Math.imul(B,Ae)|0;var nr=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(nr>>>26)|0,nr&=67108863,g=Math.imul(J,ve),u=Math.imul(J,oe),u=u+Math.imul(z,ve)|0,S=Math.imul(z,oe),g=g+Math.imul(F,pe)|0,u=u+Math.imul(F,Ae)|0,u=u+Math.imul(q,pe)|0,S=S+Math.imul(q,Ae)|0,g=g+Math.imul(A,Oe)|0,u=u+Math.imul(A,Ee)|0,u=u+Math.imul(B,Oe)|0,S=S+Math.imul(B,Ee)|0;var Er=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Er>>>26)|0,Er&=67108863,g=Math.imul(D,ve),u=Math.imul(D,oe),u=u+Math.imul(H,ve)|0,S=Math.imul(H,oe),g=g+Math.imul(J,pe)|0,u=u+Math.imul(J,Ae)|0,u=u+Math.imul(z,pe)|0,S=S+Math.imul(z,Ae)|0,g=g+Math.imul(F,Oe)|0,u=u+Math.imul(F,Ee)|0,u=u+Math.imul(q,Oe)|0,S=S+Math.imul(q,Ee)|0,g=g+Math.imul(A,Fe)|0,u=u+Math.imul(A,we)|0,u=u+Math.imul(B,Fe)|0,S=S+Math.imul(B,we)|0;var Sr=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,g=Math.imul(W,ve),u=Math.imul(W,oe),u=u+Math.imul(Q,ve)|0,S=Math.imul(Q,oe),g=g+Math.imul(D,pe)|0,u=u+Math.imul(D,Ae)|0,u=u+Math.imul(H,pe)|0,S=S+Math.imul(H,Ae)|0,g=g+Math.imul(J,Oe)|0,u=u+Math.imul(J,Ee)|0,u=u+Math.imul(z,Oe)|0,S=S+Math.imul(z,Ee)|0,g=g+Math.imul(F,Fe)|0,u=u+Math.imul(F,we)|0,u=u+Math.imul(q,Fe)|0,S=S+Math.imul(q,we)|0,g=g+Math.imul(A,qe)|0,u=u+Math.imul(A,_e)|0,u=u+Math.imul(B,qe)|0,S=S+Math.imul(B,_e)|0;var kr=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(kr>>>26)|0,kr&=67108863,g=Math.imul(ee,ve),u=Math.imul(ee,oe),u=u+Math.imul(Y,ve)|0,S=Math.imul(Y,oe),g=g+Math.imul(W,pe)|0,u=u+Math.imul(W,Ae)|0,u=u+Math.imul(Q,pe)|0,S=S+Math.imul(Q,Ae)|0,g=g+Math.imul(D,Oe)|0,u=u+Math.imul(D,Ee)|0,u=u+Math.imul(H,Oe)|0,S=S+Math.imul(H,Ee)|0,g=g+Math.imul(J,Fe)|0,u=u+Math.imul(J,we)|0,u=u+Math.imul(z,Fe)|0,S=S+Math.imul(z,we)|0,g=g+Math.imul(F,qe)|0,u=u+Math.imul(F,_e)|0,u=u+Math.imul(q,qe)|0,S=S+Math.imul(q,_e)|0,g=g+Math.imul(A,Ve)|0,u=u+Math.imul(A,Se)|0,u=u+Math.imul(B,Ve)|0,S=S+Math.imul(B,Se)|0;var Dn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,g=Math.imul(se,ve),u=Math.imul(se,oe),u=u+Math.imul(re,ve)|0,S=Math.imul(re,oe),g=g+Math.imul(ee,pe)|0,u=u+Math.imul(ee,Ae)|0,u=u+Math.imul(Y,pe)|0,S=S+Math.imul(Y,Ae)|0,g=g+Math.imul(W,Oe)|0,u=u+Math.imul(W,Ee)|0,u=u+Math.imul(Q,Oe)|0,S=S+Math.imul(Q,Ee)|0,g=g+Math.imul(D,Fe)|0,u=u+Math.imul(D,we)|0,u=u+Math.imul(H,Fe)|0,S=S+Math.imul(H,we)|0,g=g+Math.imul(J,qe)|0,u=u+Math.imul(J,_e)|0,u=u+Math.imul(z,qe)|0,S=S+Math.imul(z,_e)|0,g=g+Math.imul(F,Ve)|0,u=u+Math.imul(F,Se)|0,u=u+Math.imul(q,Ve)|0,S=S+Math.imul(q,Se)|0,g=g+Math.imul(A,je)|0,u=u+Math.imul(A,Me)|0,u=u+Math.imul(B,je)|0,S=S+Math.imul(B,Me)|0;var Ln=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,g=Math.imul(le,ve),u=Math.imul(le,oe),u=u+Math.imul(ae,ve)|0,S=Math.imul(ae,oe),g=g+Math.imul(se,pe)|0,u=u+Math.imul(se,Ae)|0,u=u+Math.imul(re,pe)|0,S=S+Math.imul(re,Ae)|0,g=g+Math.imul(ee,Oe)|0,u=u+Math.imul(ee,Ee)|0,u=u+Math.imul(Y,Oe)|0,S=S+Math.imul(Y,Ee)|0,g=g+Math.imul(W,Fe)|0,u=u+Math.imul(W,we)|0,u=u+Math.imul(Q,Fe)|0,S=S+Math.imul(Q,we)|0,g=g+Math.imul(D,qe)|0,u=u+Math.imul(D,_e)|0,u=u+Math.imul(H,qe)|0,S=S+Math.imul(H,_e)|0,g=g+Math.imul(J,Ve)|0,u=u+Math.imul(J,Se)|0,u=u+Math.imul(z,Ve)|0,S=S+Math.imul(z,Se)|0,g=g+Math.imul(F,je)|0,u=u+Math.imul(F,Me)|0,u=u+Math.imul(q,je)|0,S=S+Math.imul(q,Me)|0,g=g+Math.imul(A,Ge)|0,u=u+Math.imul(A,Pe)|0,u=u+Math.imul(B,Ge)|0,S=S+Math.imul(B,Pe)|0;var Un=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(xe,ve),u=Math.imul(xe,oe),u=u+Math.imul(he,ve)|0,S=Math.imul(he,oe),g=g+Math.imul(le,pe)|0,u=u+Math.imul(le,Ae)|0,u=u+Math.imul(ae,pe)|0,S=S+Math.imul(ae,Ae)|0,g=g+Math.imul(se,Oe)|0,u=u+Math.imul(se,Ee)|0,u=u+Math.imul(re,Oe)|0,S=S+Math.imul(re,Ee)|0,g=g+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,we)|0,u=u+Math.imul(Y,Fe)|0,S=S+Math.imul(Y,we)|0,g=g+Math.imul(W,qe)|0,u=u+Math.imul(W,_e)|0,u=u+Math.imul(Q,qe)|0,S=S+Math.imul(Q,_e)|0,g=g+Math.imul(D,Ve)|0,u=u+Math.imul(D,Se)|0,u=u+Math.imul(H,Ve)|0,S=S+Math.imul(H,Se)|0,g=g+Math.imul(J,je)|0,u=u+Math.imul(J,Me)|0,u=u+Math.imul(z,je)|0,S=S+Math.imul(z,Me)|0,g=g+Math.imul(F,Ge)|0,u=u+Math.imul(F,Pe)|0,u=u+Math.imul(q,Ge)|0,S=S+Math.imul(q,Pe)|0,g=g+Math.imul(A,$e)|0,u=u+Math.imul(A,Te)|0,u=u+Math.imul(B,$e)|0,S=S+Math.imul(B,Te)|0;var Fn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(Le,ve),u=Math.imul(Le,oe),u=u+Math.imul(V,ve)|0,S=Math.imul(V,oe),g=g+Math.imul(xe,pe)|0,u=u+Math.imul(xe,Ae)|0,u=u+Math.imul(he,pe)|0,S=S+Math.imul(he,Ae)|0,g=g+Math.imul(le,Oe)|0,u=u+Math.imul(le,Ee)|0,u=u+Math.imul(ae,Oe)|0,S=S+Math.imul(ae,Ee)|0,g=g+Math.imul(se,Fe)|0,u=u+Math.imul(se,we)|0,u=u+Math.imul(re,Fe)|0,S=S+Math.imul(re,we)|0,g=g+Math.imul(ee,qe)|0,u=u+Math.imul(ee,_e)|0,u=u+Math.imul(Y,qe)|0,S=S+Math.imul(Y,_e)|0,g=g+Math.imul(W,Ve)|0,u=u+Math.imul(W,Se)|0,u=u+Math.imul(Q,Ve)|0,S=S+Math.imul(Q,Se)|0,g=g+Math.imul(D,je)|0,u=u+Math.imul(D,Me)|0,u=u+Math.imul(H,je)|0,S=S+Math.imul(H,Me)|0,g=g+Math.imul(J,Ge)|0,u=u+Math.imul(J,Pe)|0,u=u+Math.imul(z,Ge)|0,S=S+Math.imul(z,Pe)|0,g=g+Math.imul(F,$e)|0,u=u+Math.imul(F,Te)|0,u=u+Math.imul(q,$e)|0,S=S+Math.imul(q,Te)|0,g=g+Math.imul(A,Ue)|0,u=u+Math.imul(A,He)|0,u=u+Math.imul(B,Ue)|0,S=S+Math.imul(B,He)|0;var Hn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul(Le,pe),u=Math.imul(Le,Ae),u=u+Math.imul(V,pe)|0,S=Math.imul(V,Ae),g=g+Math.imul(xe,Oe)|0,u=u+Math.imul(xe,Ee)|0,u=u+Math.imul(he,Oe)|0,S=S+Math.imul(he,Ee)|0,g=g+Math.imul(le,Fe)|0,u=u+Math.imul(le,we)|0,u=u+Math.imul(ae,Fe)|0,S=S+Math.imul(ae,we)|0,g=g+Math.imul(se,qe)|0,u=u+Math.imul(se,_e)|0,u=u+Math.imul(re,qe)|0,S=S+Math.imul(re,_e)|0,g=g+Math.imul(ee,Ve)|0,u=u+Math.imul(ee,Se)|0,u=u+Math.imul(Y,Ve)|0,S=S+Math.imul(Y,Se)|0,g=g+Math.imul(W,je)|0,u=u+Math.imul(W,Me)|0,u=u+Math.imul(Q,je)|0,S=S+Math.imul(Q,Me)|0,g=g+Math.imul(D,Ge)|0,u=u+Math.imul(D,Pe)|0,u=u+Math.imul(H,Ge)|0,S=S+Math.imul(H,Pe)|0,g=g+Math.imul(J,$e)|0,u=u+Math.imul(J,Te)|0,u=u+Math.imul(z,$e)|0,S=S+Math.imul(z,Te)|0,g=g+Math.imul(F,Ue)|0,u=u+Math.imul(F,He)|0,u=u+Math.imul(q,Ue)|0,S=S+Math.imul(q,He)|0;var Vn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul(Le,Oe),u=Math.imul(Le,Ee),u=u+Math.imul(V,Oe)|0,S=Math.imul(V,Ee),g=g+Math.imul(xe,Fe)|0,u=u+Math.imul(xe,we)|0,u=u+Math.imul(he,Fe)|0,S=S+Math.imul(he,we)|0,g=g+Math.imul(le,qe)|0,u=u+Math.imul(le,_e)|0,u=u+Math.imul(ae,qe)|0,S=S+Math.imul(ae,_e)|0,g=g+Math.imul(se,Ve)|0,u=u+Math.imul(se,Se)|0,u=u+Math.imul(re,Ve)|0,S=S+Math.imul(re,Se)|0,g=g+Math.imul(ee,je)|0,u=u+Math.imul(ee,Me)|0,u=u+Math.imul(Y,je)|0,S=S+Math.imul(Y,Me)|0,g=g+Math.imul(W,Ge)|0,u=u+Math.imul(W,Pe)|0,u=u+Math.imul(Q,Ge)|0,S=S+Math.imul(Q,Pe)|0,g=g+Math.imul(D,$e)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(H,$e)|0,S=S+Math.imul(H,Te)|0,g=g+Math.imul(J,Ue)|0,u=u+Math.imul(J,He)|0,u=u+Math.imul(z,Ue)|0,S=S+Math.imul(z,He)|0;var jn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul(Le,Fe),u=Math.imul(Le,we),u=u+Math.imul(V,Fe)|0,S=Math.imul(V,we),g=g+Math.imul(xe,qe)|0,u=u+Math.imul(xe,_e)|0,u=u+Math.imul(he,qe)|0,S=S+Math.imul(he,_e)|0,g=g+Math.imul(le,Ve)|0,u=u+Math.imul(le,Se)|0,u=u+Math.imul(ae,Ve)|0,S=S+Math.imul(ae,Se)|0,g=g+Math.imul(se,je)|0,u=u+Math.imul(se,Me)|0,u=u+Math.imul(re,je)|0,S=S+Math.imul(re,Me)|0,g=g+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,Pe)|0,u=u+Math.imul(Y,Ge)|0,S=S+Math.imul(Y,Pe)|0,g=g+Math.imul(W,$e)|0,u=u+Math.imul(W,Te)|0,u=u+Math.imul(Q,$e)|0,S=S+Math.imul(Q,Te)|0,g=g+Math.imul(D,Ue)|0,u=u+Math.imul(D,He)|0,u=u+Math.imul(H,Ue)|0,S=S+Math.imul(H,He)|0;var Gn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul(Le,qe),u=Math.imul(Le,_e),u=u+Math.imul(V,qe)|0,S=Math.imul(V,_e),g=g+Math.imul(xe,Ve)|0,u=u+Math.imul(xe,Se)|0,u=u+Math.imul(he,Ve)|0,S=S+Math.imul(he,Se)|0,g=g+Math.imul(le,je)|0,u=u+Math.imul(le,Me)|0,u=u+Math.imul(ae,je)|0,S=S+Math.imul(ae,Me)|0,g=g+Math.imul(se,Ge)|0,u=u+Math.imul(se,Pe)|0,u=u+Math.imul(re,Ge)|0,S=S+Math.imul(re,Pe)|0,g=g+Math.imul(ee,$e)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(Y,$e)|0,S=S+Math.imul(Y,Te)|0,g=g+Math.imul(W,Ue)|0,u=u+Math.imul(W,He)|0,u=u+Math.imul(Q,Ue)|0,S=S+Math.imul(Q,He)|0;var qn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul(Le,Ve),u=Math.imul(Le,Se),u=u+Math.imul(V,Ve)|0,S=Math.imul(V,Se),g=g+Math.imul(xe,je)|0,u=u+Math.imul(xe,Me)|0,u=u+Math.imul(he,je)|0,S=S+Math.imul(he,Me)|0,g=g+Math.imul(le,Ge)|0,u=u+Math.imul(le,Pe)|0,u=u+Math.imul(ae,Ge)|0,S=S+Math.imul(ae,Pe)|0,g=g+Math.imul(se,$e)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(re,$e)|0,S=S+Math.imul(re,Te)|0,g=g+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,He)|0,u=u+Math.imul(Y,Ue)|0,S=S+Math.imul(Y,He)|0;var $n=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+($n>>>26)|0,$n&=67108863,g=Math.imul(Le,je),u=Math.imul(Le,Me),u=u+Math.imul(V,je)|0,S=Math.imul(V,Me),g=g+Math.imul(xe,Ge)|0,u=u+Math.imul(xe,Pe)|0,u=u+Math.imul(he,Ge)|0,S=S+Math.imul(he,Pe)|0,g=g+Math.imul(le,$e)|0,u=u+Math.imul(le,Te)|0,u=u+Math.imul(ae,$e)|0,S=S+Math.imul(ae,Te)|0,g=g+Math.imul(se,Ue)|0,u=u+Math.imul(se,He)|0,u=u+Math.imul(re,Ue)|0,S=S+Math.imul(re,He)|0;var Kn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,g=Math.imul(Le,Ge),u=Math.imul(Le,Pe),u=u+Math.imul(V,Ge)|0,S=Math.imul(V,Pe),g=g+Math.imul(xe,$e)|0,u=u+Math.imul(xe,Te)|0,u=u+Math.imul(he,$e)|0,S=S+Math.imul(he,Te)|0,g=g+Math.imul(le,Ue)|0,u=u+Math.imul(le,He)|0,u=u+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,He)|0;var zn=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(zn>>>26)|0,zn&=67108863,g=Math.imul(Le,$e),u=Math.imul(Le,Te),u=u+Math.imul(V,$e)|0,S=Math.imul(V,Te),g=g+Math.imul(xe,Ue)|0,u=u+Math.imul(xe,He)|0,u=u+Math.imul(he,Ue)|0,S=S+Math.imul(he,He)|0;var ls=(v+g|0)+((u&8191)<<13)|0;v=(S+(u>>>13)|0)+(ls>>>26)|0,ls&=67108863,g=Math.imul(Le,Ue),u=Math.imul(Le,He),u=u+Math.imul(V,Ue)|0,S=Math.imul(V,He);var us=(v+g|0)+((u&8191)<<13)|0;return v=(S+(u>>>13)|0)+(us>>>26)|0,us&=67108863,w[0]=ar,w[1]=nr,w[2]=Er,w[3]=Sr,w[4]=kr,w[5]=Dn,w[6]=Ln,w[7]=Un,w[8]=Fn,w[9]=Hn,w[10]=Vn,w[11]=jn,w[12]=Gn,w[13]=qn,w[14]=$n,w[15]=Kn,w[16]=zn,w[17]=ls,w[18]=us,v!==0&&(w[19]=v,b.length++),b};Math.imul||(N=P);function U(m,f,h){h.negative=f.negative^m.negative,h.length=m.length+f.length;for(var b=0,y=0,x=0;x<h.length-1;x++){var w=y;y=0;for(var v=b&67108863,g=Math.min(x,f.length-1),u=Math.max(0,x-m.length+1);u<=g;u++){var S=x-u,O=m.words[S]|0,A=f.words[u]|0,B=O*A,L=B&67108863;w=w+(B/67108864|0)|0,L=L+v|0,v=L&67108863,w=w+(L>>>26)|0,y+=w>>>26,w&=67108863}h.words[x]=v,b=w,w=y}return b!==0?h.words[x]=b:h.length--,h._strip()}function $(m,f,h){return U(m,f,h)}o.prototype.mulTo=function(f,h){var b,y=this.length+f.length;return this.length===10&&f.length===10?b=N(this,f,h):y<63?b=P(this,f,h):y<1024?b=U(this,f,h):b=$(this,f,h),b},o.prototype.mul=function(f){var h=new o(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},o.prototype.mulf=function(f){var h=new o(null);return h.words=new Array(this.length+f.length),$(this,f,h)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){var h=f<0;h&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var b=0,y=0;y<this.length;y++){var x=(this.words[y]|0)*f,w=(x&67108863)+(b&67108863);b>>=26,b+=x/67108864|0,b+=w>>>26,this.words[y]=w&67108863}return b!==0&&(this.words[y]=b,this.length++),h?this.ineg():this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var h=M(f);if(h.length===0)return new o(1);for(var b=this,y=0;y<h.length&&h[y]===0;y++,b=b.sqr());if(++y<h.length)for(var x=b.sqr();y<h.length;y++,x=x.sqr())h[y]!==0&&(b=b.mul(x));return b},o.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,b=(f-h)/26,y=67108863>>>26-h<<26-h,x;if(h!==0){var w=0;for(x=0;x<this.length;x++){var v=this.words[x]&y,g=(this.words[x]|0)-v<<h;this.words[x]=g|w,w=v>>>26-h}w&&(this.words[x]=w,this.length++)}if(b!==0){for(x=this.length-1;x>=0;x--)this.words[x+b]=this.words[x];for(x=0;x<b;x++)this.words[x]=0;this.length+=b}return this._strip()},o.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,h,b){n(typeof f=="number"&&f>=0);var y;h?y=(h-h%26)/26:y=0;var x=f%26,w=Math.min((f-x)/26,this.length),v=67108863^67108863>>>x<<x,g=b;if(y-=w,y=Math.max(0,y),g){for(var u=0;u<w;u++)g.words[u]=this.words[u];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,u=0;u<this.length;u++)this.words[u]=this.words[u+w];else this.words[0]=0,this.length=1;var S=0;for(u=this.length-1;u>=0&&(S!==0||u>=y);u--){var O=this.words[u]|0;this.words[u]=S<<26-x|O>>>x,S=O&v}return g&&S!==0&&(g.words[g.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(f,h,b){return n(this.negative===0),this.iushrn(f,h,b)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,b=(f-h)/26,y=1<<h;if(this.length<=b)return!1;var x=this.words[b];return!!(x&y)},o.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,b=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(h!==0&&b++,this.length=Math.min(b,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,h,b){var y=f.length+b,x;this._expand(y);var w,v=0;for(x=0;x<f.length;x++){w=(this.words[x+b]|0)+v;var g=(f.words[x]|0)*h;w-=g&67108863,v=(w>>26)-(g/67108864|0),this.words[x+b]=w&67108863}for(;x<this.length-b;x++)w=(this.words[x+b]|0)+v,v=w>>26,this.words[x+b]=w&67108863;if(v===0)return this._strip();for(n(v===-1),v=0,x=0;x<this.length;x++)w=-(this.words[x]|0)+v,v=w>>26,this.words[x]=w&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(f,h){var b=this.length-f.length,y=this.clone(),x=f,w=x.words[x.length-1]|0,v=this._countBits(w);b=26-v,b!==0&&(x=x.ushln(b),y.iushln(b),w=x.words[x.length-1]|0);var g=y.length-x.length,u;if(h!=="mod"){u=new o(null),u.length=g+1,u.words=new Array(u.length);for(var S=0;S<u.length;S++)u.words[S]=0}var O=y.clone()._ishlnsubmul(x,1,g);O.negative===0&&(y=O,u&&(u.words[g]=1));for(var A=g-1;A>=0;A--){var B=(y.words[x.length+A]|0)*67108864+(y.words[x.length+A-1]|0);for(B=Math.min(B/w|0,67108863),y._ishlnsubmul(x,B,A);y.negative!==0;)B--,y.negative=0,y._ishlnsubmul(x,1,A),y.isZero()||(y.negative^=1);u&&(u.words[A]=B)}return u&&u._strip(),y._strip(),h!=="div"&&b!==0&&y.iushrn(b),{div:u||null,mod:y}},o.prototype.divmod=function(f,h,b){if(n(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var y,x,w;return this.negative!==0&&f.negative===0?(w=this.neg().divmod(f,h),h!=="mod"&&(y=w.div.neg()),h!=="div"&&(x=w.mod.neg(),b&&x.negative!==0&&x.iadd(f)),{div:y,mod:x}):this.negative===0&&f.negative!==0?(w=this.divmod(f.neg(),h),h!=="mod"&&(y=w.div.neg()),{div:y,mod:w.mod}):(this.negative&f.negative)!==0?(w=this.neg().divmod(f.neg(),h),h!=="div"&&(x=w.mod.neg(),b&&x.negative!==0&&x.isub(f)),{div:w.div,mod:x}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modrn(f.words[0]))}:this._wordDiv(f,h)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var b=h.div.negative!==0?h.mod.isub(f):h.mod,y=f.ushrn(1),x=f.andln(1),w=b.cmp(y);return w<0||x===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var b=(1<<26)%f,y=0,x=this.length-1;x>=0;x--)y=(b*y+(this.words[x]|0))%f;return h?-y:y},o.prototype.modn=function(f){return this.modrn(f)},o.prototype.idivn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var b=0,y=this.length-1;y>=0;y--){var x=(this.words[y]|0)+b*67108864;this.words[y]=x/f|0,b=x%f}return this._strip(),h?this.ineg():this},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,b=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var y=new o(1),x=new o(0),w=new o(0),v=new o(1),g=0;h.isEven()&&b.isEven();)h.iushrn(1),b.iushrn(1),++g;for(var u=b.clone(),S=h.clone();!h.isZero();){for(var O=0,A=1;(h.words[0]&A)===0&&O<26;++O,A<<=1);if(O>0)for(h.iushrn(O);O-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(u),x.isub(S)),y.iushrn(1),x.iushrn(1);for(var B=0,L=1;(b.words[0]&L)===0&&B<26;++B,L<<=1);if(B>0)for(b.iushrn(B);B-- >0;)(w.isOdd()||v.isOdd())&&(w.iadd(u),v.isub(S)),w.iushrn(1),v.iushrn(1);h.cmp(b)>=0?(h.isub(b),y.isub(w),x.isub(v)):(b.isub(h),w.isub(y),v.isub(x))}return{a:w,b:v,gcd:b.iushln(g)}},o.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,b=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var y=new o(1),x=new o(0),w=b.clone();h.cmpn(1)>0&&b.cmpn(1)>0;){for(var v=0,g=1;(h.words[0]&g)===0&&v<26;++v,g<<=1);if(v>0)for(h.iushrn(v);v-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);for(var u=0,S=1;(b.words[0]&S)===0&&u<26;++u,S<<=1);if(u>0)for(b.iushrn(u);u-- >0;)x.isOdd()&&x.iadd(w),x.iushrn(1);h.cmp(b)>=0?(h.isub(b),y.isub(x)):(b.isub(h),x.isub(y))}var O;return h.cmpn(1)===0?O=y:O=x,O.cmpn(0)<0&&O.iadd(f),O},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),b=f.clone();h.negative=0,b.negative=0;for(var y=0;h.isEven()&&b.isEven();y++)h.iushrn(1),b.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;b.isEven();)b.iushrn(1);var x=h.cmp(b);if(x<0){var w=h;h=b,b=w}else if(x===0||b.cmpn(1)===0)break;h.isub(b)}while(!0);return b.iushln(y)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,b=(f-h)/26,y=1<<h;if(this.length<=b)return this._expand(b+1),this.words[b]|=y,this;for(var x=y,w=b;x!==0&&w<this.length;w++){var v=this.words[w]|0;v+=x,x=v>>>26,v&=67108863,this.words[w]=v}return x!==0&&(this.words[w]=x,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var b;if(this.length>1)b=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var y=this.words[0]|0;b=y===f?0:y<f?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,b=this.length-1;b>=0;b--){var y=this.words[b]|0,x=f.words[b]|0;if(y!==x){y<x?h=-1:y>x&&(h=1);break}}return h},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new I(f)},o.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var G={k256:null,p224:null,p192:null,p25519:null};function X(m,f){this.name=m,this.p=new o(f,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var f=new o(null);return f.words=new Array(Math.ceil(this.n/13)),f},X.prototype.ireduce=function(f){var h=f,b;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),b=h.bitLength();while(b>this.n);var y=b<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},X.prototype.split=function(f,h){f.iushrn(this.n,0,h)},X.prototype.imulK=function(f){return f.imul(this.k)};function ye(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ye,X),ye.prototype.split=function(f,h){for(var b=4194303,y=Math.min(f.length,9),x=0;x<y;x++)h.words[x]=f.words[x];if(h.length=y,f.length<=9){f.words[0]=0,f.length=1;return}var w=f.words[9];for(h.words[h.length++]=w&b,x=10;x<f.length;x++){var v=f.words[x]|0;f.words[x-10]=(v&b)<<4|w>>>22,w=v}w>>>=22,f.words[x-10]=w,w===0&&f.length>10?f.length-=10:f.length-=9},ye.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,b=0;b<f.length;b++){var y=f.words[b]|0;h+=y*977,f.words[b]=h&67108863,h=y*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function ce(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ce,X);function me(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(me,X);function Be(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Be,X),Be.prototype.imulK=function(f){for(var h=0,b=0;b<f.length;b++){var y=(f.words[b]|0)*19+h,x=y&67108863;y>>>=26,f.words[b]=x,h=y}return h!==0&&(f.words[f.length++]=h),f},o._prime=function(f){if(G[f])return G[f];var h;if(f==="k256")h=new ye;else if(f==="p224")h=new ce;else if(f==="p192")h=new me;else if(f==="p25519")h=new Be;else throw new Error("Unknown prime "+f);return G[f]=h,h};function I(m){if(typeof m=="string"){var f=o._prime(m);this.m=f.p,this.prime=f}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}I.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},I.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},I.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},I.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},I.prototype.add=function(f,h){this._verify2(f,h);var b=f.add(h);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},I.prototype.iadd=function(f,h){this._verify2(f,h);var b=f.iadd(h);return b.cmp(this.m)>=0&&b.isub(this.m),b},I.prototype.sub=function(f,h){this._verify2(f,h);var b=f.sub(h);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},I.prototype.isub=function(f,h){this._verify2(f,h);var b=f.isub(h);return b.cmpn(0)<0&&b.iadd(this.m),b},I.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},I.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},I.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},I.prototype.isqr=function(f){return this.imul(f,f.clone())},I.prototype.sqr=function(f){return this.mul(f,f)},I.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(f,b)}for(var y=this.m.subn(1),x=0;!y.isZero()&&y.andln(1)===0;)x++,y.iushrn(1);n(!y.isZero());var w=new o(1).toRed(this),v=w.redNeg(),g=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);this.pow(u,g).cmp(v)!==0;)u.redIAdd(v);for(var S=this.pow(u,y),O=this.pow(f,y.addn(1).iushrn(1)),A=this.pow(f,y),B=x;A.cmp(w)!==0;){for(var L=A,F=0;L.cmp(w)!==0;F++)L=L.redSqr();n(F<B);var q=this.pow(S,new o(1).iushln(B-F-1));O=O.redMul(q),S=q.redSqr(),A=A.redMul(S),B=F}return O},I.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},I.prototype.pow=function(f,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var b=4,y=new Array(1<<b);y[0]=new o(1).toRed(this),y[1]=f;for(var x=2;x<y.length;x++)y[x]=this.mul(y[x-1],f);var w=y[0],v=0,g=0,u=h.bitLength()%26;for(u===0&&(u=26),x=h.length-1;x>=0;x--){for(var S=h.words[x],O=u-1;O>=0;O--){var A=S>>O&1;if(w!==y[0]&&(w=this.sqr(w)),A===0&&v===0){g=0;continue}v<<=1,v|=A,g++,!(g!==b&&(x!==0||O!==0))&&(w=this.mul(w,y[v]),g=0,v=0)}u=26}return w},I.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},I.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},o.mont=function(f){return new E(f)};function E(m){I.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(E,I),E.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},E.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},E.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(h),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(y).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},E.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new o(0)._forceRed(this);var b=f.mul(h),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(y).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},E.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(r,Ze)})(zx);const Je=zx.exports;var ur={},ft={},Qs=Wx;function Wx(r,e){if(!r)throw new Error(e||"Assertion failed")}Wx.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var za={exports:{}};typeof Object.create=="function"?za.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:za.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var GS=Qs,qS=za.exports;ft.inherits=qS;function $S(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function KS(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var o=r.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):$S(r,i)?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}ft.toArray=KS;function zS(r){for(var e="",t=0;t<r.length;t++)e+=Jx(r[t].toString(16));return e}ft.toHex=zS;function Qx(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}ft.htonl=Qx;function WS(r,e){for(var t="",n=0;n<r.length;n++){var i=r[n];e==="little"&&(i=Qx(i)),t+=Yx(i.toString(16))}return t}ft.toHex32=WS;function Jx(r){return r.length===1?"0"+r:r}ft.zero2=Jx;function Yx(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}ft.zero8=Yx;function QS(r,e,t,n){var i=t-e;GS(i%4===0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var c;n==="big"?c=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:c=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],o[s]=c>>>0}return o}ft.join32=QS;function JS(r,e){for(var t=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var o=r[n];e==="big"?(t[i]=o>>>24,t[i+1]=o>>>16&255,t[i+2]=o>>>8&255,t[i+3]=o&255):(t[i+3]=o>>>24,t[i+2]=o>>>16&255,t[i+1]=o>>>8&255,t[i]=o&255)}return t}ft.split32=JS;function YS(r,e){return r>>>e|r<<32-e}ft.rotr32=YS;function XS(r,e){return r<<e|r>>>32-e}ft.rotl32=XS;function ZS(r,e){return r+e>>>0}ft.sum32=ZS;function ek(r,e,t){return r+e+t>>>0}ft.sum32_3=ek;function tk(r,e,t,n){return r+e+t+n>>>0}ft.sum32_4=tk;function rk(r,e,t,n,i){return r+e+t+n+i>>>0}ft.sum32_5=rk;function nk(r,e,t,n){var i=r[e],o=r[e+1],s=n+o>>>0,a=(s<n?1:0)+t+i;r[e]=a>>>0,r[e+1]=s}ft.sum64=nk;function ik(r,e,t,n){var i=e+n>>>0,o=(i<e?1:0)+r+t;return o>>>0}ft.sum64_hi=ik;function ok(r,e,t,n){var i=e+n;return i>>>0}ft.sum64_lo=ok;function sk(r,e,t,n,i,o,s,a){var c=0,d=e;d=d+n>>>0,c+=d<e?1:0,d=d+o>>>0,c+=d<o?1:0,d=d+a>>>0,c+=d<a?1:0;var l=r+t+i+s+c;return l>>>0}ft.sum64_4_hi=sk;function ak(r,e,t,n,i,o,s,a){var c=e+n+o+a;return c>>>0}ft.sum64_4_lo=ak;function fk(r,e,t,n,i,o,s,a,c,d){var l=0,p=e;p=p+n>>>0,l+=p<e?1:0,p=p+o>>>0,l+=p<o?1:0,p=p+a>>>0,l+=p<a?1:0,p=p+d>>>0,l+=p<d?1:0;var k=r+t+i+s+c+l;return k>>>0}ft.sum64_5_hi=fk;function ck(r,e,t,n,i,o,s,a,c,d){var l=e+n+o+a+d;return l>>>0}ft.sum64_5_lo=ck;function lk(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}ft.rotr64_hi=lk;function uk(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ft.rotr64_lo=uk;function dk(r,e,t){return r>>>t}ft.shr64_hi=dk;function hk(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ft.shr64_lo=hk;var mf={},Ob=ft,pk=Qs;function su(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}mf.BlockHash=su;su.prototype.update=function(e,t){if(e=Ob.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Ob.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};su.prototype.digest=function(e){return this.update(this._pad()),pk(this.pending===null),this._digest(e)};su.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i};var bf={},Ki={},gk=ft,Ri=gk.rotr32;function mk(r,e,t,n){if(r===0)return Xx(e,t,n);if(r===1||r===3)return e8(e,t,n);if(r===2)return Zx(e,t,n)}Ki.ft_1=mk;function Xx(r,e,t){return r&e^~r&t}Ki.ch32=Xx;function Zx(r,e,t){return r&e^r&t^e&t}Ki.maj32=Zx;function e8(r,e,t){return r^e^t}Ki.p32=e8;function bk(r){return Ri(r,2)^Ri(r,13)^Ri(r,22)}Ki.s0_256=bk;function vk(r){return Ri(r,6)^Ri(r,11)^Ri(r,25)}Ki.s1_256=vk;function yk(r){return Ri(r,7)^Ri(r,18)^r>>>3}Ki.g0_256=yk;function xk(r){return Ri(r,17)^Ri(r,19)^r>>>10}Ki.g1_256=xk;var Wa=ft,wk=mf,Ak=Ki,qd=Wa.rotl32,Rf=Wa.sum32,Ek=Wa.sum32_5,Sk=Ak.ft_1,t8=wk.BlockHash,kk=[1518500249,1859775393,2400959708,3395469782];function Ui(){if(!(this instanceof Ui))return new Ui;t8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Wa.inherits(Ui,t8);var _k=Ui;Ui.blockSize=512;Ui.outSize=160;Ui.hmacStrength=80;Ui.padLength=64;Ui.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=qd(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],d=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),p=Ek(qd(o,5),Sk(l,s,a,c),d,n[i],kk[l]);d=c,c=a,a=qd(s,30),s=o,o=p}this.h[0]=Rf(this.h[0],o),this.h[1]=Rf(this.h[1],s),this.h[2]=Rf(this.h[2],a),this.h[3]=Rf(this.h[3],c),this.h[4]=Rf(this.h[4],d)};Ui.prototype._digest=function(e){return e==="hex"?Wa.toHex32(this.h,"big"):Wa.split32(this.h,"big")};var Qa=ft,Mk=mf,vf=Ki,Pk=Qs,Qn=Qa.sum32,Tk=Qa.sum32_4,Ck=Qa.sum32_5,Bk=vf.ch32,Ik=vf.maj32,Nk=vf.s0_256,Ok=vf.s1_256,Rk=vf.g0_256,Dk=vf.g1_256,r8=Mk.BlockHash,Lk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Fi(){if(!(this instanceof Fi))return new Fi;r8.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Lk,this.W=new Array(64)}Qa.inherits(Fi,r8);var n8=Fi;Fi.blockSize=512;Fi.outSize=256;Fi.hmacStrength=192;Fi.padLength=64;Fi.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=Tk(Dk(n[i-2]),n[i-7],Rk(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],d=this.h[4],l=this.h[5],p=this.h[6],k=this.h[7];for(Pk(this.k.length===n.length),i=0;i<n.length;i++){var _=Ck(k,Ok(d),Bk(d,l,p),this.k[i],n[i]),T=Qn(Nk(o),Ik(o,s,a));k=p,p=l,l=d,d=Qn(c,_),c=a,a=s,s=o,o=Qn(_,T)}this.h[0]=Qn(this.h[0],o),this.h[1]=Qn(this.h[1],s),this.h[2]=Qn(this.h[2],a),this.h[3]=Qn(this.h[3],c),this.h[4]=Qn(this.h[4],d),this.h[5]=Qn(this.h[5],l),this.h[6]=Qn(this.h[6],p),this.h[7]=Qn(this.h[7],k)};Fi.prototype._digest=function(e){return e==="hex"?Qa.toHex32(this.h,"big"):Qa.split32(this.h,"big")};var J1=ft,i8=n8;function bo(){if(!(this instanceof bo))return new bo;i8.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}J1.inherits(bo,i8);var Uk=bo;bo.blockSize=512;bo.outSize=224;bo.hmacStrength=192;bo.padLength=64;bo.prototype._digest=function(e){return e==="hex"?J1.toHex32(this.h.slice(0,7),"big"):J1.split32(this.h.slice(0,7),"big")};var rn=ft,Fk=mf,Hk=Qs,Di=rn.rotr64_hi,Li=rn.rotr64_lo,o8=rn.shr64_hi,s8=rn.shr64_lo,Ro=rn.sum64,$d=rn.sum64_hi,Kd=rn.sum64_lo,Vk=rn.sum64_4_hi,jk=rn.sum64_4_lo,Gk=rn.sum64_5_hi,qk=rn.sum64_5_lo,a8=Fk.BlockHash,$k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hi(){if(!(this instanceof hi))return new hi;a8.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=$k,this.W=new Array(160)}rn.inherits(hi,a8);var f8=hi;hi.blockSize=1024;hi.outSize=512;hi.hmacStrength=192;hi.padLength=128;hi.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var o=r_(n[i-4],n[i-3]),s=n_(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],d=e_(n[i-30],n[i-29]),l=t_(n[i-30],n[i-29]),p=n[i-32],k=n[i-31];n[i]=Vk(o,s,a,c,d,l,p,k),n[i+1]=jk(o,s,a,c,d,l,p,k)}};hi.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],d=this.h[5],l=this.h[6],p=this.h[7],k=this.h[8],_=this.h[9],T=this.h[10],C=this.h[11],M=this.h[12],P=this.h[13],N=this.h[14],U=this.h[15];Hk(this.k.length===n.length);for(var $=0;$<n.length;$+=2){var G=N,X=U,ye=Xk(k,_),ce=Zk(k,_),me=Kk(k,_,T,C,M),Be=zk(k,_,T,C,M,P),I=this.k[$],E=this.k[$+1],m=n[$],f=n[$+1],h=Gk(G,X,ye,ce,me,Be,I,E,m,f),b=qk(G,X,ye,ce,me,Be,I,E,m,f);G=Jk(i,o),X=Yk(i,o),ye=Wk(i,o,s,a,c),ce=Qk(i,o,s,a,c,d);var y=$d(G,X,ye,ce),x=Kd(G,X,ye,ce);N=M,U=P,M=T,P=C,T=k,C=_,k=$d(l,p,h,b),_=Kd(p,p,h,b),l=c,p=d,c=s,d=a,s=i,a=o,i=$d(h,b,y,x),o=Kd(h,b,y,x)}Ro(this.h,0,i,o),Ro(this.h,2,s,a),Ro(this.h,4,c,d),Ro(this.h,6,l,p),Ro(this.h,8,k,_),Ro(this.h,10,T,C),Ro(this.h,12,M,P),Ro(this.h,14,N,U)};hi.prototype._digest=function(e){return e==="hex"?rn.toHex32(this.h,"big"):rn.split32(this.h,"big")};function Kk(r,e,t,n,i){var o=r&t^~r&i;return o<0&&(o+=4294967296),o}function zk(r,e,t,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function Wk(r,e,t,n,i){var o=r&t^r&i^t&i;return o<0&&(o+=4294967296),o}function Qk(r,e,t,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function Jk(r,e){var t=Di(r,e,28),n=Di(e,r,2),i=Di(e,r,7),o=t^n^i;return o<0&&(o+=4294967296),o}function Yk(r,e){var t=Li(r,e,28),n=Li(e,r,2),i=Li(e,r,7),o=t^n^i;return o<0&&(o+=4294967296),o}function Xk(r,e){var t=Di(r,e,14),n=Di(r,e,18),i=Di(e,r,9),o=t^n^i;return o<0&&(o+=4294967296),o}function Zk(r,e){var t=Li(r,e,14),n=Li(r,e,18),i=Li(e,r,9),o=t^n^i;return o<0&&(o+=4294967296),o}function e_(r,e){var t=Di(r,e,1),n=Di(r,e,8),i=o8(r,e,7),o=t^n^i;return o<0&&(o+=4294967296),o}function t_(r,e){var t=Li(r,e,1),n=Li(r,e,8),i=s8(r,e,7),o=t^n^i;return o<0&&(o+=4294967296),o}function r_(r,e){var t=Di(r,e,19),n=Di(e,r,29),i=o8(r,e,6),o=t^n^i;return o<0&&(o+=4294967296),o}function n_(r,e){var t=Li(r,e,19),n=Li(e,r,29),i=s8(r,e,6),o=t^n^i;return o<0&&(o+=4294967296),o}var Y1=ft,c8=f8;function vo(){if(!(this instanceof vo))return new vo;c8.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Y1.inherits(vo,c8);var i_=vo;vo.blockSize=1024;vo.outSize=384;vo.hmacStrength=192;vo.padLength=128;vo.prototype._digest=function(e){return e==="hex"?Y1.toHex32(this.h.slice(0,12),"big"):Y1.split32(this.h.slice(0,12),"big")};bf.sha1=_k;bf.sha224=Uk;bf.sha256=n8;bf.sha384=i_;bf.sha512=f8;var l8={},Ds=ft,o_=mf,El=Ds.rotl32,Rb=Ds.sum32,Df=Ds.sum32_3,Db=Ds.sum32_4,u8=o_.BlockHash;function Hi(){if(!(this instanceof Hi))return new Hi;u8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ds.inherits(Hi,u8);l8.ripemd160=Hi;Hi.blockSize=512;Hi.outSize=160;Hi.hmacStrength=192;Hi.padLength=64;Hi.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=n,d=i,l=o,p=s,k=a,_=0;_<80;_++){var T=Rb(El(Db(n,Lb(_,i,o,s),e[f_[_]+t],s_(_)),l_[_]),a);n=a,a=s,s=El(o,10),o=i,i=T,T=Rb(El(Db(c,Lb(79-_,d,l,p),e[c_[_]+t],a_(_)),u_[_]),k),c=k,k=p,p=El(l,10),l=d,d=T}T=Df(this.h[1],o,p),this.h[1]=Df(this.h[2],s,k),this.h[2]=Df(this.h[3],a,c),this.h[3]=Df(this.h[4],n,d),this.h[4]=Df(this.h[0],i,l),this.h[0]=T};Hi.prototype._digest=function(e){return e==="hex"?Ds.toHex32(this.h,"little"):Ds.split32(this.h,"little")};function Lb(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function s_(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function a_(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var f_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d_=ft,h_=Qs;function Ja(r,e,t){if(!(this instanceof Ja))return new Ja(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(d_.toArray(e,t))}var p_=Ja;Ja.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),h_(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};Ja.prototype.update=function(e,t){return this.inner.update(e,t),this};Ja.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=ft,e.common=mf,e.sha=bf,e.ripemd=l8,e.hmac=p_,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(ur);function yf(r,e,t){return t={path:e,exports:{},require:function(n,i){return g_(n,i??t.path)}},r(t,t.exports),t.exports}function g_(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ug=d8;function d8(r,e){if(!r)throw new Error(e||"Assertion failed")}d8.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var ii=yf(function(r,e){var t=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var d=0;d<s.length;d++)c[d]=s[d]|0;return c}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var d=0;d<s.length;d+=2)c.push(parseInt(s[d]+s[d+1],16))}else for(var d=0;d<s.length;d++){var l=s.charCodeAt(d),p=l>>8,k=l&255;p?c.push(p,k):c.push(k)}return c}t.toArray=n;function i(s){return s.length===1?"0"+s:s}t.zero2=i;function o(s){for(var a="",c=0;c<s.length;c++)a+=i(s[c].toString(16));return a}t.toHex=o,t.encode=function(a,c){return c==="hex"?o(a):a}}),hn=yf(function(r,e){var t=e;t.assert=ug,t.toArray=ii.toArray,t.zero2=ii.zero2,t.toHex=ii.toHex,t.encode=ii.encode;function n(c,d,l){var p=new Array(Math.max(c.bitLength(),l)+1);p.fill(0);for(var k=1<<d+1,_=c.clone(),T=0;T<p.length;T++){var C,M=_.andln(k-1);_.isOdd()?(M>(k>>1)-1?C=(k>>1)-M:C=M,_.isubn(C)):C=0,p[T]=C,_.iushrn(1)}return p}t.getNAF=n;function i(c,d){var l=[[],[]];c=c.clone(),d=d.clone();for(var p=0,k=0,_;c.cmpn(-p)>0||d.cmpn(-k)>0;){var T=c.andln(3)+p&3,C=d.andln(3)+k&3;T===3&&(T=-1),C===3&&(C=-1);var M;(T&1)===0?M=0:(_=c.andln(7)+p&7,(_===3||_===5)&&C===2?M=-T:M=T),l[0].push(M);var P;(C&1)===0?P=0:(_=d.andln(7)+k&7,(_===3||_===5)&&T===2?P=-C:P=C),l[1].push(P),2*p===M+1&&(p=1-p),2*k===P+1&&(k=1-k),c.iushrn(1),d.iushrn(1)}return l}t.getJSF=i;function o(c,d,l){var p="_"+d;c.prototype[d]=function(){return this[p]!==void 0?this[p]:this[p]=l.call(this)}}t.cachedProperty=o;function s(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=s;function a(c){return new Je(c,"hex","le")}t.intFromLE=a}),y0=hn.getNAF,m_=hn.getJSF,x0=hn.assert;function is(r,e){this.type=r,this.p=new Je(e.p,16),this.red=e.prime?Je.red(e.prime):Je.mont(this.p),this.zero=new Je(0).toRed(this.red),this.one=new Je(1).toRed(this.red),this.two=new Je(2).toRed(this.red),this.n=e.n&&new Je(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Js=is;is.prototype.point=function(){throw new Error("Not implemented")};is.prototype.validate=function(){throw new Error("Not implemented")};is.prototype._fixedNafMul=function(e,t){x0(e.precomputed);var n=e._getDoubles(),i=y0(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var d=a+n.step-1;d>=a;d--)c=(c<<1)+i[d];s.push(c)}for(var l=this.jpoint(null,null,null),p=this.jpoint(null,null,null),k=o;k>0;k--){for(a=0;a<s.length;a++)c=s[a],c===k?p=p.mixedAdd(n.points[a]):c===-k&&(p=p.mixedAdd(n.points[a].neg()));l=l.add(p)}return l.toP()};is.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=y0(t,n,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var d=0;c>=0&&s[c]===0;c--)d++;if(c>=0&&d++,a=a.dblp(d),c<0)break;var l=s[c];x0(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(o[l-1>>1]):a=a.mixedAdd(o[-l-1>>1].neg()):l>0?a=a.add(o[l-1>>1]):a=a.add(o[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};is.prototype._wnafMulAdd=function(e,t,n,i,o){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,d=0,l,p,k;for(l=0;l<i;l++){k=t[l];var _=k._getNAFPoints(e);s[l]=_.wnd,a[l]=_.points}for(l=i-1;l>=1;l-=2){var T=l-1,C=l;if(s[T]!==1||s[C]!==1){c[T]=y0(n[T],s[T],this._bitLength),c[C]=y0(n[C],s[C],this._bitLength),d=Math.max(c[T].length,d),d=Math.max(c[C].length,d);continue}var M=[t[T],null,null,t[C]];t[T].y.cmp(t[C].y)===0?(M[1]=t[T].add(t[C]),M[2]=t[T].toJ().mixedAdd(t[C].neg())):t[T].y.cmp(t[C].y.redNeg())===0?(M[1]=t[T].toJ().mixedAdd(t[C]),M[2]=t[T].add(t[C].neg())):(M[1]=t[T].toJ().mixedAdd(t[C]),M[2]=t[T].toJ().mixedAdd(t[C].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],N=m_(n[T],n[C]);for(d=Math.max(N[0].length,d),c[T]=new Array(d),c[C]=new Array(d),p=0;p<d;p++){var U=N[0][p]|0,$=N[1][p]|0;c[T][p]=P[(U+1)*3+($+1)],c[C][p]=0,a[T]=M}}var G=this.jpoint(null,null,null),X=this._wnafT4;for(l=d;l>=0;l--){for(var ye=0;l>=0;){var ce=!0;for(p=0;p<i;p++)X[p]=c[p][l]|0,X[p]!==0&&(ce=!1);if(!ce)break;ye++,l--}if(l>=0&&ye++,G=G.dblp(ye),l<0)break;for(p=0;p<i;p++){var me=X[p];me!==0&&(me>0?k=a[p][me-1>>1]:me<0&&(k=a[p][-me-1>>1].neg()),k.type==="affine"?G=G.mixedAdd(k):G=G.add(k))}}for(l=0;l<i;l++)a[l]=null;return o?G:G.toP()};function Tn(r,e){this.curve=r,this.type=e,this.precomputed=null}is.BasePoint=Tn;Tn.prototype.eq=function(){throw new Error("Not implemented")};Tn.prototype.validate=function(){return this.curve.validate(this)};is.prototype.decodePoint=function(e,t){e=hn.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?x0(e[e.length-1]%2===0):e[0]===7&&x0(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Tn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Tn.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Tn.prototype.encode=function(e,t){return hn.encode(this._encode(t),e)};Tn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Tn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Tn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<t;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Tn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)t[o]=t[o-1].add(i);return{wnd:e,points:t}};Tn.prototype._getBeta=function(){return null};Tn.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var dg=yf(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),b_=hn.assert;function Cn(r){Js.call(this,"short",r),this.a=new Je(r.a,16).toRed(this.red),this.b=new Je(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}dg(Cn,Js);var v_=Cn;Cn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Je(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new Je(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))===0?n=o[0]:(n=o[1],b_(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Je(a.a,16),b:new Je(a.b,16)}}):s=this._getEndoBasis(n),{beta:t,lambda:n,basis:s}}};Cn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Je.mont(e),n=new Je(2).toRed(t).redInvm(),i=n.redNeg(),o=new Je(3).toRed(t).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};Cn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Je(1),s=new Je(0),a=new Je(0),c=new Je(1),d,l,p,k,_,T,C,M=0,P,N;n.cmpn(0)!==0;){var U=i.div(n);P=i.sub(U.mul(n)),N=a.sub(U.mul(o));var $=c.sub(U.mul(s));if(!p&&P.cmp(t)<0)d=C.neg(),l=o,p=P.neg(),k=N;else if(p&&++M===2)break;C=P,i=n,n=P,a=o,o=N,c=s,s=$}_=P.neg(),T=N;var G=p.sqr().add(k.sqr()),X=_.sqr().add(T.sqr());return X.cmp(G)>=0&&(_=d,T=l),p.negative&&(p=p.neg(),k=k.neg()),_.negative&&(_=_.neg(),T=T.neg()),[{a:p,b:k},{a:_,b:T}]};Cn.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=o.mul(n.a),c=s.mul(i.a),d=o.mul(n.b),l=s.mul(i.b),p=e.sub(a).sub(c),k=d.add(l).neg();return{k1:p,k2:k}};Cn.prototype.pointFromX=function(e,t){e=new Je(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)};Cn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Cn.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),c=e[s],d=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),d=d.neg(!0)),i[s*2]=c,i[s*2+1]=d,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,o,s*2,n),p=0;p<s*2;p++)i[p]=null,o[p]=null;return l};function gr(r,e,t,n){Js.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Je(e,16),this.y=new Je(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}dg(gr,Js.BasePoint);Cn.prototype.point=function(e,t,n){return new gr(this,e,t,n)};Cn.prototype.pointFromJSON=function(e,t){return gr.fromJSON(this,e,t)};gr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};gr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};gr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function o(a){return e.point(a[0],a[1],n)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};gr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};gr.prototype.isInfinity=function(){return this.inf};gr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};gr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};gr.prototype.getX=function(){return this.x.fromRed()};gr.prototype.getY=function(){return this.y.fromRed()};gr.prototype.mul=function(e){return e=new Je(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};gr.prototype.mulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};gr.prototype.jmulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};gr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};gr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};gr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function xr(r,e,t,n){Js.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Je(0)):(this.x=new Je(e,16),this.y=new Je(t,16),this.z=new Je(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}dg(xr,Js.BasePoint);Cn.prototype.jpoint=function(e,t,n){return new xr(this,e,t,n)};xr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};xr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};xr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),o=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(o),d=s.redSub(a);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),p=l.redMul(c),k=i.redMul(l),_=d.redSqr().redIAdd(p).redISub(k).redISub(k),T=d.redMul(k.redISub(_)).redISub(s.redMul(p)),C=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(_,T,C)};xr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),o=this.y,s=e.y.redMul(t).redMul(this.z),a=n.redSub(i),c=o.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),l=d.redMul(a),p=n.redMul(d),k=c.redSqr().redIAdd(l).redISub(p).redISub(p),_=c.redMul(p.redISub(k)).redISub(o.redMul(l)),T=this.z.redMul(a);return this.curve.jpoint(k,_,T)};xr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,c=this.z,d=c.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var p=s.redSqr(),k=l.redSqr(),_=k.redSqr(),T=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(d)),C=s.redMul(k),M=T.redSqr().redISub(C.redAdd(C)),P=C.redISub(M),N=T.redMul(P);N=N.redIAdd(N).redISub(_);var U=l.redMul(c);t+1<e&&(d=d.redMul(_)),s=M,c=U,l=N}return this.curve.jpoint(s,l.redMul(o),c)};xr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};xr.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),d=c.redSqr().redISub(a).redISub(a),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=d,t=c.redMul(a.redISub(d)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),k=this.y.redSqr(),_=k.redSqr(),T=this.x.redAdd(k).redSqr().redISub(p).redISub(_);T=T.redIAdd(T);var C=p.redAdd(p).redIAdd(p),M=C.redSqr(),P=_.redIAdd(_);P=P.redIAdd(P),P=P.redIAdd(P),e=M.redISub(T).redISub(T),t=C.redMul(T.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};xr.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=c.redSqr().redISub(a).redISub(a);e=d;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),t=c.redMul(a.redISub(d)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),k=this.y.redSqr(),_=this.x.redMul(k),T=this.x.redSub(p).redMul(this.x.redAdd(p));T=T.redAdd(T).redIAdd(T);var C=_.redIAdd(_);C=C.redIAdd(C);var M=C.redAdd(C);e=T.redSqr().redISub(M),n=this.y.redAdd(this.z).redSqr().redISub(k).redISub(p);var P=k.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),t=T.redMul(C.redISub(e)).redISub(P)}return this.curve.jpoint(e,t,n)};xr.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=t.redSqr(),a=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),d=t.redAdd(t);d=d.redIAdd(d);var l=d.redMul(a),p=c.redSqr().redISub(l.redAdd(l)),k=l.redISub(p),_=a.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var T=c.redMul(k).redISub(_),C=n.redAdd(n).redMul(i);return this.curve.jpoint(p,T,C)};xr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var l=o.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(d),p=t.redMul(l);p=p.redIAdd(p),p=p.redIAdd(p);var k=this.x.redMul(c).redISub(p);k=k.redIAdd(k),k=k.redIAdd(k);var _=this.y.redMul(l.redMul(d.redISub(l)).redISub(a.redMul(c)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var T=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(k,_,T)};xr.prototype.mul=function(e,t){return e=new Je(e,t),this.curve._wnafMul(this,e)};xr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};xr.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};xr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};xr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Yl=yf(function(r,e){var t=e;t.base=Js,t.short=v_,t.mont=null,t.edwards=null}),Xl=yf(function(r,e){var t=e,n=hn.assert;function i(a){a.type==="short"?this.curve=new Yl.short(a):a.type==="edwards"?this.curve=new Yl.edwards(a):this.curve=new Yl.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function o(a,c){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var d=new i(c);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:d}),d}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ur.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ur.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ur.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ur.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ur.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ur.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ur.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ur.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Yo(r){if(!(this instanceof Yo))return new Yo(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ii.toArray(r.entropy,r.entropyEnc||"hex"),t=ii.toArray(r.nonce,r.nonceEnc||"hex"),n=ii.toArray(r.pers,r.persEnc||"hex");ug(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var h8=Yo;Yo.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Yo.prototype._hmac=function(){return new ur.hmac(this.hash,this.K)};Yo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Yo.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=ii.toArray(e,t),n=ii.toArray(n,i),ug(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Yo.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=ii.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,ii.encode(s,t)};var X1=hn.assert;function Rr(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var hg=Rr;Rr.fromPublic=function(e,t,n){return t instanceof Rr?t:new Rr(e,{pub:t,pubEnc:n})};Rr.fromPrivate=function(e,t,n){return t instanceof Rr?t:new Rr(e,{priv:t,privEnc:n})};Rr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Rr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Rr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Rr.prototype._importPrivate=function(e,t){this.priv=new Je(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Rr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?X1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&X1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Rr.prototype.derive=function(e){return e.validate()||X1(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Rr.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Rr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Rr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var y_=hn.assert;function au(r,e){if(r instanceof au)return r;this._importDER(r,e)||(y_(r.r&&r.s,"Signature without r or s"),this.r=new Je(r.r,16),this.s=new Je(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var fu=au;function x_(){this.place=0}function zd(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=r[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Ub(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}au.prototype._importDER=function(e,t){e=hn.toArray(e,t);var n=new x_;if(e[n.place++]!==48)return!1;var i=zd(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=zd(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var a=zd(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Je(s),this.s=new Je(c),this.recoveryParam=null,!0};function Wd(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}au.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=Ub(t),n=Ub(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Wd(i,t.length),i=i.concat(t),i.push(2),Wd(i,n.length);var o=i.concat(n),s=[48];return Wd(s,o.length),s=s.concat(o),hn.encode(s,e)};var w_=function(){throw new Error("unsupported")},p8=hn.assert;function _n(r){if(!(this instanceof _n))return new _n(r);typeof r=="string"&&(p8(Object.prototype.hasOwnProperty.call(Xl,r),"Unknown curve "+r),r=Xl[r]),r instanceof Xl.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var A_=_n;_n.prototype.keyPair=function(e){return new hg(this,e)};_n.prototype.keyFromPrivate=function(e,t){return hg.fromPrivate(this,e,t)};_n.prototype.keyFromPublic=function(e,t){return hg.fromPublic(this,e,t)};_n.prototype.genKeyPair=function(e){e||(e={});for(var t=new h8({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||w_(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Je(2));;){var o=new Je(t.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};_n.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};_n.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Je(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),a=e.toArray("be",o),c=new h8({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new Je(1)),l=0;;l++){var p=i.k?i.k(l):new Je(c.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(d)>=0)){var k=this.g.mul(p);if(!k.isInfinity()){var _=k.getX(),T=_.umod(this.n);if(T.cmpn(0)!==0){var C=p.invm(this.n).mul(T.mul(t.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var M=(k.getY().isOdd()?1:0)|(_.cmp(T)!==0?2:0);return i.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),M^=1),new fu({r:T,s:C,recoveryParam:M})}}}}}};_n.prototype.verify=function(e,t,n,i){e=this._truncateToN(new Je(e,16)),n=this.keyFromPublic(n,i),t=new fu(t,"hex");var o=t.r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),c=a.mul(e).umod(this.n),d=a.mul(o).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),d),l.isInfinity()?!1:l.eqXToP(o)):(l=this.g.mulAdd(c,n.getPublic(),d),l.isInfinity()?!1:l.getX().umod(this.n).cmp(o)===0)};_n.prototype.recoverPubKey=function(r,e,t,n){p8((3&t)===t,"The recovery param is more than two bits"),e=new fu(e,n);var i=this.n,o=new Je(r),s=e.r,a=e.s,c=t&1,d=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=e.r.invm(i),p=i.sub(o).mul(l).umod(i),k=a.mul(l).umod(i);return this.g.mulAdd(p,s,k)};_n.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new fu(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(r,e,i)}catch{continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var E_=yf(function(r,e){var t=e;t.version="6.5.4",t.utils=hn,t.rand=function(){throw new Error("unsupported")},t.curve=Yl,t.curves=Xl,t.ec=A_,t.eddsa=null}),S_=E_.ec;const k_="signing-key/5.7.0",Z1=new j(k_);let Qd=null;function Ti(){return Qd||(Qd=new S_("secp256k1")),Qd}class Wo{constructor(e){Z(this,"curve","secp256k1"),Z(this,"privateKey",ge(e)),ui(this.privateKey)!==32&&Z1.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Ti().keyFromPrivate(ue(this.privateKey));Z(this,"publicKey","0x"+t.getPublic(!1,"hex")),Z(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Z(this,"_isSigningKey",!0)}_addPoint(e){const t=Ti().keyFromPublic(ue(this.publicKey)),n=Ti().keyFromPublic(ue(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=Ti().keyFromPrivate(ue(this.privateKey)),n=ue(e);n.length!==32&&Z1.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return rs({recoveryParam:i.recoveryParam,r:Nt("0x"+i.r.toString(16),32),s:Nt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=Ti().keyFromPrivate(ue(this.privateKey)),n=Ti().keyFromPublic(ue(cu(e)));return Nt("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function pg(r,e){const t=rs(e),n={r:ue(t.r),s:ue(t.s)};return"0x"+Ti().recoverPubKey(ue(r),n,t.recoveryParam).encode("hex",!1)}function cu(r,e){const t=ue(r);if(t.length===32){const n=new Wo(t);return e?"0x"+Ti().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?ge(t):"0x"+Ti().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+Ti().keyFromPublic(t).getPublic(!0,"hex"):ge(t)}return Z1.throwArgumentError("invalid public or private key","key","[REDACTED]")}const __=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:Wo,recoverPublicKey:pg,computePublicKey:cu},Symbol.toStringTag,{value:"Module"})),M_="transactions/5.7.0",Br=new j(M_);var w0;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(w0||(w0={}));function gg(r){return r==="0x"?null:Et(r)}function Mr(r){return r==="0x"?Xp:de.from(r)}const P_=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],T_={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function lo(r){const e=cu(r);return Et(Qt(Mt(Qt(e,1)),12))}function Ys(r,e){return lo(pg(ue(r),e))}function an(r,e){const t=fi(de.from(r).toHexString());return t.length>32&&Br.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function Jd(r,e){return{address:Et(r),storageKeys:(e||[]).map((t,n)=>(ui(t)!==32&&Br.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function _o(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&Br.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),Jd(t[0],t[1])):Jd(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,o)=>(i[o]=!0,i),{});return Jd(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function g8(r){return _o(r).map(e=>[e.address,e.storageKeys])}function m8(r,e){if(r.gasPrice!=null){const n=de.from(r.gasPrice),i=de.from(r.maxFeePerGas||0);n.eq(i)||Br.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[an(r.chainId||0,"chainId"),an(r.nonce||0,"nonce"),an(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),an(r.maxFeePerGas||0,"maxFeePerGas"),an(r.gasLimit||0,"gasLimit"),r.to!=null?Et(r.to):"0x",an(r.value||0,"value"),r.data||"0x",g8(r.accessList||[])];if(e){const n=rs(e);t.push(an(n.recoveryParam,"recoveryParam")),t.push(fi(n.r)),t.push(fi(n.s))}return Cr(["0x02",Rs(t)])}function b8(r,e){const t=[an(r.chainId||0,"chainId"),an(r.nonce||0,"nonce"),an(r.gasPrice||0,"gasPrice"),an(r.gasLimit||0,"gasLimit"),r.to!=null?Et(r.to):"0x",an(r.value||0,"value"),r.data||"0x",g8(r.accessList||[])];if(e){const n=rs(e);t.push(an(n.recoveryParam,"recoveryParam")),t.push(fi(n.r)),t.push(fi(n.s))}return Cr(["0x01",Rs(t)])}function C_(r,e){ru(r,T_);const t=[];P_.forEach(function(s){let a=r[s.name]||[];const c={};s.numeric&&(c.hexPad="left"),a=ue(ge(a,c)),s.length&&a.length!==s.length&&a.length>0&&Br.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a),s.maxLength&&(a=fi(a),a.length>s.maxLength&&Br.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a)),t.push(ge(a))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&Br.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!hf(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(ge(n)),t.push("0x"),t.push("0x")),!e)return Rs(t);const i=rs(e);let o=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),o+=n*2+8,i.v>28&&i.v!==o&&Br.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&Br.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(ge(o)),t.push(fi(ue(i.r))),t.push(fi(ue(i.s))),Rs(t)}function A0(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&Br.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),C_(r,e);switch(r.type){case 1:return b8(r,e);case 2:return m8(r,e)}return Br.throwError(`unsupported transaction type: ${r.type}`,j.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function v8(r,e,t){try{const n=Mr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{Br.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=Nt(e[1],32),r.s=Nt(e[2],32);try{const n=Mt(t(r));r.from=Ys(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function B_(r){const e=nu(r.slice(1));e.length!==9&&e.length!==12&&Br.throwArgumentError("invalid component count for transaction type: 2","payload",ge(r));const t=Mr(e[2]),n=Mr(e[3]),i={type:2,chainId:Mr(e[0]).toNumber(),nonce:Mr(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Mr(e[4]),to:gg(e[5]),value:Mr(e[6]),data:e[7],accessList:_o(e[8])};return e.length===9||(i.hash=Mt(r),v8(i,e.slice(9),m8)),i}function I_(r){const e=nu(r.slice(1));e.length!==8&&e.length!==11&&Br.throwArgumentError("invalid component count for transaction type: 1","payload",ge(r));const t={type:1,chainId:Mr(e[0]).toNumber(),nonce:Mr(e[1]).toNumber(),gasPrice:Mr(e[2]),gasLimit:Mr(e[3]),to:gg(e[4]),value:Mr(e[5]),data:e[6],accessList:_o(e[7])};return e.length===8||(t.hash=Mt(r),v8(t,e.slice(8),b8)),t}function N_(r){const e=nu(r);e.length!==9&&e.length!==6&&Br.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:Mr(e[0]).toNumber(),gasPrice:Mr(e[1]),gasLimit:Mr(e[2]),to:gg(e[3]),value:Mr(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=de.from(e[6]).toNumber()}catch{return t}if(t.r=Nt(e[7],32),t.s=Nt(e[8],32),de.from(t.r).isZero()&&de.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(ge(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const o=Mt(Rs(i));try{t.from=Ys(o,{r:ge(t.r),s:ge(t.s),recoveryParam:n})}catch{}t.hash=Mt(r)}return t.type=null,t}function mg(r){const e=ue(r);if(e[0]>127)return N_(e);switch(e[0]){case 1:return I_(e);case 2:return B_(e)}return Br.throwError(`unsupported transaction type: ${e[0]}`,j.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const O_=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return w0},computeAddress:lo,recoverAddress:Ys,accessListify:_o,serialize:A0,parse:mg},Symbol.toStringTag,{value:"Module"})),R_="contracts/5.7.0";var Xo=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const Bt=new j(R_),D_={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function E0(r,e){return Xo(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&Bt.throwArgumentError("invalid address or ENS name","name",t);try{return Et(t)}catch{}r||Bt.throwError("a provider or signer is needed to resolve ENS names",j.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&Bt.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function cc(r,e,t){return Xo(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>cc(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield E0(r,e):t.type==="tuple"?yield cc(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>cc(r,n,t.arrayChildren))):Promise.reject(Bt.makeError("invalid value for array",j.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function lu(r,e,t){return Xo(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Rt(t.pop())),Bt.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=$t({override:E0(r.signer,n.from),signer:r.signer.getAddress()}).then(d=>Xo(this,void 0,void 0,function*(){return Et(d.signer)!==d.override&&Bt.throwError("Contract with a Signer cannot override from",j.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):n.from=r.signer.getAddress():n.from&&(n.from=E0(r.provider,n.from));const i=yield $t({args:cc(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:$t(n)||{}}),o=r.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(a.nonce!=null&&(s.nonce=de.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=de.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=de.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=de.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=de.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=_o(a.accessList)),s.gasLimit==null&&e.gas!=null){let d=21e3;const l=ue(o);for(let p=0;p<l.length;p++)d+=4,l[p]&&(d+=64);s.gasLimit=de.from(e.gas).add(d)}if(a.value){const d=de.from(a.value);!d.isZero()&&!e.payable&&Bt.throwError("non-payable method cannot override value",j.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=d}a.customData&&(s.customData=Rt(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(d=>n[d]!=null);return c.length&&Bt.throwError(`cannot override ${c.map(d=>JSON.stringify(d)).join(",")}`,j.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),s})}function L_(r,e){return function(...t){return lu(r,e,t)}}function U_(r,e){const t=r.signer||r.provider;return function(...n){return Xo(this,void 0,void 0,function*(){t||Bt.throwError("estimate require a provider or signer",j.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield lu(r,e,n);return yield t.estimateGas(i)})}}function y8(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(o=>{let s=Or(o),a=null;try{a=r.interface.parseLog(o)}catch{}return a&&(s.args=a.args,s.decode=(c,d)=>r.interface.decodeEventLog(a.eventFragment,c,d),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>r.provider,s.getBlock=()=>r.provider.getBlock(i.blockHash),s.getTransaction=()=>r.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function x8(r,e,t){const n=r.signer||r.provider;return function(...i){return Xo(this,void 0,void 0,function*(){let o;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Rt(i.pop());c.blockTag!=null&&(o=yield c.blockTag),delete c.blockTag,i.push(c)}r.deployTransaction!=null&&(yield r._deployed(o));const s=yield lu(r,e,i),a=yield n.call(s,o);try{let c=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===j.errors.CALL_EXCEPTION&&(c.address=r.address,c.args=i,c.transaction=s),c}})}}function F_(r,e){return function(...t){return Xo(this,void 0,void 0,function*(){r.signer||Bt.throwError("sending a transaction requires a signer",j.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield lu(r,e,t),i=yield r.signer.sendTransaction(n);return y8(r,i),i})}}function Fb(r,e,t){return e.constant?x8(r,e,t):F_(r,e)}function w8(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Tc{constructor(e,t){Z(this,"tag",e),Z(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class H_ extends Tc{constructor(){super("error",null)}}class Hb extends Tc{constructor(e,t,n,i){const o={address:e};let s=t.getEventTopic(n);i?(s!==i[0]&&Bt.throwArgumentError("topic mismatch","topics",i),o.topics=i.slice()):o.topics=[s],super(w8(o),o),Z(this,"address",e),Z(this,"interface",t),Z(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=Jp(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Vb extends Tc{constructor(e,t){super("*",{address:e}),Z(this,"address",e),Z(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class bg{constructor(e,t,n){Z(this,"interface",dr(new.target,"getInterface")(t)),n==null?(Z(this,"provider",null),Z(this,"signer",null)):ko.isSigner(n)?(Z(this,"provider",n.provider||null),Z(this,"signer",n)):Ws.isProvider(n)?(Z(this,"provider",n),Z(this,"signer",null)):Bt.throwArgumentError("invalid signer or provider","signerOrProvider",n),Z(this,"callStatic",{}),Z(this,"estimateGas",{}),Z(this,"functions",{}),Z(this,"populateTransaction",{}),Z(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];Z(this.filters,a,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,d)})),s[c.name]||(s[c.name]=[]),s[c.name].push(a)}),Object.keys(s).forEach(a=>{const c=s[a];c.length===1?Z(this.filters,a,this.filters[c[0]]):Bt.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(Z(this,"_runningEvents",{}),Z(this,"_wrappedEmits",{}),e==null&&Bt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Z(this,"address",e),this.provider)Z(this,"resolvedAddress",E0(this.provider,e));else try{Z(this,"resolvedAddress",Promise.resolve(Et(e)))}catch{Bt.throwError("provider is required to use ENS name as contract address",j.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},o={};Object.keys(this.interface.functions).forEach(s=>{const a=this.interface.functions[s];if(o[s]){Bt.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}o[s]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(s)}this[s]==null&&Z(this,s,Fb(this,a,!0)),this.functions[s]==null&&Z(this.functions,s,Fb(this,a,!1)),this.callStatic[s]==null&&Z(this.callStatic,s,x8(this,a,!0)),this.populateTransaction[s]==null&&Z(this.populateTransaction,s,L_(this,a)),this.estimateGas[s]==null&&Z(this.estimateGas,s,U_(this,a))}),Object.keys(i).forEach(s=>{const a=i[s];if(a.length>1)return;s=s.substring(1);const c=a[0];try{this[s]==null&&Z(this,s,this[c])}catch{}this.functions[s]==null&&Z(this.functions,s,this.functions[c]),this.callStatic[s]==null&&Z(this.callStatic,s,this.callStatic[c]),this.populateTransaction[s]==null&&Z(this.populateTransaction,s,this.populateTransaction[c]),this.estimateGas[s]==null&&Z(this.estimateGas,s,this.estimateGas[c])})}static getContractAddress(e){return Uc(e)}static getInterface(e){return v0.isInterface(e)?e:new v0(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&Bt.throwError("contract not deployed",j.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Bt.throwError("sending a transactions require a signer",j.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Rt(e||{});return["from","to"].forEach(function(n){t[n]!=null&&Bt.throwError("cannot override "+n,j.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new Hc(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Z(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Pc.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new H_);if(e==="event")return this._normalizeRunningEvent(new Tc("event",null));if(e==="*")return this._normalizeRunningEvent(new Vb(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Hb(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Hb(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Tc(w8(t),t))}return this._normalizeRunningEvent(new Vb(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=Or(t);return i.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||Bt.throwError("events require a provider or a signer with a provider",j.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=o=>{let s=this._wrapEvent(e,o,t);if(s.decodeError==null)try{const a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),o=Rt(i.filter);return typeof t=="string"&&Qe(t,32)?(n!=null&&Bt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=t):(o.fromBlock=t??0,o.toBlock=n??"latest"),this.provider.getLogs(o).then(s=>s.map(a=>this._wrapEvent(i,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class S0 extends bg{}class A8{constructor(e,t,n){let i=null;typeof t=="string"?i=t:Ao(t)?i=ge(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!Qe(i)||i.length%2)&&Bt.throwArgumentError("invalid bytecode","bytecode",t),n&&!ko.isSigner(n)&&Bt.throwArgumentError("invalid signer","signer",n),Z(this,"bytecode",i),Z(this,"interface",dr(new.target,"getInterface")(e)),Z(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=Rt(e.pop());for(const n in t)if(!D_[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&Bt.throwError("cannot override "+n,j.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!de.from(t.value).isZero()&&!this.interface.deploy.payable&&Bt.throwError("non-payable constructor cannot override value",j.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),Bt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=ge(It([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return Xo(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),Bt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield cc(this.signer,e,this.interface.deploy.inputs);n.push(t);const i=this.getDeployTransaction(...n),o=yield this.signer.sendTransaction(i),s=dr(this.constructor,"getContractAddress")(o),a=dr(this.constructor,"getContract")(s,this.interface,this.signer);return y8(a,o),Z(a,"deployTransaction",o),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&Bt.throwError("missing compiler output",j.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,t)}static getInterface(e){return S0.getInterface(e)}static getContractAddress(e){return Uc(e)}static getContract(e,t,n){return new S0(e,t,n)}}class vg{constructor(e){Z(this,"alphabet",e),Z(this,"base",e.length),Z(this,"_alphabetMap",{}),Z(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=ue(e);if(t.length===0)return"";let n=[0];for(let o=0;o<t.length;++o){let s=t[o];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;t[o]===0&&o<t.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<t.length;++s)o+=t[s]*this.base,t[s]=o&255,o>>=8;for(;o>0;)t.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return ue(new Uint8Array(t.reverse()))}}const V_=new vg("abcdefghijklmnopqrstuvwxyz234567"),Ls=new vg("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),j_=Object.freeze(Object.defineProperty({__proto__:null,BaseX:vg,Base32:V_,Base58:Ls},Symbol.toStringTag,{value:"Module"}));var Us;(function(r){r.sha256="sha256",r.sha512="sha512"})(Us||(Us={}));const G_="sha2/5.7.0",q_=new j(G_);function yg(r){return"0x"+ur.ripemd160().update(ue(r)).digest("hex")}function Vi(r){return"0x"+ur.sha256().update(ue(r)).digest("hex")}function E8(r){return"0x"+ur.sha512().update(ue(r)).digest("hex")}function Ya(r,e,t){return Us[r]||q_.throwError("unsupported algorithm "+r,j.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+ur.hmac(ur[r],ue(e)).update(ue(t)).digest("hex")}const $_=Object.freeze(Object.defineProperty({__proto__:null,computeHmac:Ya,ripemd160:yg,sha256:Vi,sha512:E8,get SupportedAlgorithm(){return Us}},Symbol.toStringTag,{value:"Module"}));function xg(r,e,t,n,i){r=ue(r),e=ue(e);let o,s=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let d,l;for(let p=1;p<=s;p++){c[e.length]=p>>24&255,c[e.length+1]=p>>16&255,c[e.length+2]=p>>8&255,c[e.length+3]=p&255;let k=ue(Ya(i,r,c));o||(o=k.length,l=new Uint8Array(o),s=Math.ceil(n/o),d=n-(s-1)*o),l.set(k);for(let C=1;C<t;C++){k=ue(Ya(i,r,k));for(let M=0;M<o;M++)l[M]^=k[M]}const _=(p-1)*o,T=p===s?d:o;a.set(ue(l).slice(0,T),_)}return ge(a)}const K_="wordlists/5.7.0",z_=new j(K_);class Xs{constructor(e){z_.checkAbstract(new.target,Xs),Z(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return oo(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const W_="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let lc=null;function jb(r){if(lc==null&&(lc=W_.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Xs.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw lc=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Q_ extends Xs{constructor(){super("en")}getWord(e){return jb(this),lc[e]}getWordIndex(e){return jb(this),lc.indexOf(e)}}const S8=new Q_;Xs.register(S8);const k0={en:S8},J_="hdnode/5.7.0",Cc=new j(J_),Y_=de.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X_=Xt("Bitcoin seed"),ya=2147483648;function k8(r){return(1<<r)-1<<8-r}function Z_(r){return(1<<r)-1}function Sl(r){return Nt(ge(r),32)}function Gb(r){return Ls.encode(It([r,Qt(Vi(Vi(r)),0,4)]))}function wg(r){if(r==null)return k0.en;if(typeof r=="string"){const e=k0[r];return e==null&&Cc.throwArgumentError("unknown locale","wordlist",r),e}return r}const ca={},Fs="m/44'/60'/0'/0/0";class Zr{constructor(e,t,n,i,o,s,a,c){if(e!==ca)throw new Error("HDNode constructor cannot be called directly");if(t){const d=new Wo(t);Z(this,"privateKey",d.privateKey),Z(this,"publicKey",d.compressedPublicKey)}else Z(this,"privateKey",null),Z(this,"publicKey",ge(n));Z(this,"parentFingerprint",i),Z(this,"fingerprint",Qt(yg(Vi(this.publicKey)),0,4)),Z(this,"address",lo(this.publicKey)),Z(this,"chainCode",o),Z(this,"index",s),Z(this,"depth",a),c==null?(Z(this,"mnemonic",null),Z(this,"path",null)):typeof c=="string"?(Z(this,"mnemonic",null),Z(this,"path",c)):(Z(this,"mnemonic",c),Z(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Gb(It([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ge(this.depth),this.parentFingerprint,Nt(ge(this.index),4),this.chainCode,this.privateKey!=null?It(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Zr(ca,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~ya));const n=new Uint8Array(37);if(e&ya){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(ue(this.privateKey),1),t&&(t+="'")}else n.set(ue(this.publicKey));for(let p=24;p>=0;p-=8)n[33+(p>>3)]=e>>24-p&255;const i=ue(Ya(Us.sha512,this.chainCode,n)),o=i.slice(0,32),s=i.slice(32);let a=null,c=null;this.privateKey?a=Sl(de.from(o).add(this.privateKey).mod(Y_)):c=new Wo(ge(o))._addPoint(this.publicKey);let d=t;const l=this.mnemonic;return l&&(d=Object.freeze({phrase:l.phrase,path:t,locale:l.locale||"en"})),new Zr(ca,a,c,this.fingerprint,Sl(s),e,this.depth+1,d)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const o=t[i];if(o.match(/^[0-9]+'$/)){const s=parseInt(o.substring(0,o.length-1));if(s>=ya)throw new Error("invalid path index - "+o);n=n._derive(ya+s)}else if(o.match(/^[0-9]+$/)){const s=parseInt(o);if(s>=ya)throw new Error("invalid path index - "+o);n=n._derive(s)}else throw new Error("invalid path component - "+o)}return n}static _fromSeed(e,t){const n=ue(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=ue(Ya(Us.sha512,X_,n));return new Zr(ca,Sl(i.slice(0,32)),null,"0x00000000",Sl(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=wg(n),e=jc(Vc(e,n),n),Zr._fromSeed(Ag(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Zr._fromSeed(e,null)}static fromExtendedKey(e){const t=Ls.decode(e);(t.length!==82||Gb(t.slice(0,78))!==e)&&Cc.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=ge(t.slice(5,9)),o=parseInt(ge(t.slice(9,13)).substring(2),16),s=ge(t.slice(13,45)),a=t.slice(45,78);switch(ge(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Zr(ca,null,ge(a),i,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Zr(ca,ge(a.slice(1)),null,i,s,o,n,null)}return Cc.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Ag(r,e){e||(e="");const t=Xt("mnemonic"+e,di.NFKD);return xg(Xt(r,di.NFKD),t,2048,64,"sha512")}function Vc(r,e){e=wg(e),Cc.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=ue(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let d=0;d<t.length;d++){let l=e.getWordIndex(t[d].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let p=0;p<11;p++)l&1<<10-p&&(n[i>>3]|=1<<7-i%8),i++}const o=32*t.length/3,s=t.length/3,a=k8(s);if((ue(Vi(n.slice(0,o/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ge(n.slice(0,o/8))}function jc(r,e){if(e=wg(e),r=ue(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let s=0;s<r.length;s++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[s],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[s]>>8-n,t.push(r[s]&Z_(8-n)),n+=3);const i=r.length/4,o=ue(Vi(r))[0]&k8(i);return t[t.length-1]<<=i,t[t.length-1]|=o>>8-i,e.join(t.map(s=>e.getWord(s)))}function _8(r,e){try{return Vc(r,e),!0}catch{}return!1}function M8(r){return(typeof r!="number"||r<0||r>=ya||r%1)&&Cc.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const eM=Object.freeze(Object.defineProperty({__proto__:null,defaultPath:Fs,HDNode:Zr,mnemonicToSeed:Ag,mnemonicToEntropy:Vc,entropyToMnemonic:jc,isValidMnemonic:_8,getAccountPath:M8},Symbol.toStringTag,{value:"Module"})),tM="random/5.7.0",ep=new j(tM);function rM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const qb=rM();let Zl=qb.crypto||qb.msCrypto;(!Zl||!Zl.getRandomValues)&&(ep.warn("WARNING: Missing strong random number source"),Zl={getRandomValues:function(r){return ep.throwError("no secure random source avaialble",j.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Es(r){(r<=0||r>1024||r%1||r!=r)&&ep.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return Zl.getRandomValues(e),ue(e)}function Eg(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}const nM=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Es,shuffled:Eg},Symbol.toStringTag,{value:"Module"}));var P8={exports:{}};(function(r,e){(function(t){function n(g){return parseInt(g)===g}function i(g){if(!n(g.length))return!1;for(var u=0;u<g.length;u++)if(!n(g[u])||g[u]<0||g[u]>255)return!1;return!0}function o(g,u){if(g.buffer&&ArrayBuffer.isView(g)&&g.name==="Uint8Array")return u&&(g.slice?g=g.slice():g=Array.prototype.slice.call(g)),g;if(Array.isArray(g)){if(!i(g))throw new Error("Array contains invalid value: "+g);return new Uint8Array(g)}if(n(g.length)&&i(g))return new Uint8Array(g);throw new Error("unsupported array-like object")}function s(g){return new Uint8Array(g)}function a(g,u,S,O,A){(O!=null||A!=null)&&(g.slice?g=g.slice(O,A):g=Array.prototype.slice.call(g,O,A)),u.set(g,S)}var c=function(){function g(S){var O=[],A=0;for(S=encodeURI(S);A<S.length;){var B=S.charCodeAt(A++);B===37?(O.push(parseInt(S.substr(A,2),16)),A+=2):O.push(B)}return o(O)}function u(S){for(var O=[],A=0;A<S.length;){var B=S[A];B<128?(O.push(String.fromCharCode(B)),A++):B>191&&B<224?(O.push(String.fromCharCode((B&31)<<6|S[A+1]&63)),A+=2):(O.push(String.fromCharCode((B&15)<<12|(S[A+1]&63)<<6|S[A+2]&63)),A+=3)}return O.join("")}return{toBytes:g,fromBytes:u}}(),d=function(){function g(O){for(var A=[],B=0;B<O.length;B+=2)A.push(parseInt(O.substr(B,2),16));return A}var u="0123456789abcdef";function S(O){for(var A=[],B=0;B<O.length;B++){var L=O[B];A.push(u[(L&240)>>4]+u[L&15])}return A.join("")}return{toBytes:g,fromBytes:S}}(),l={16:10,24:12,32:14},p=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],k=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],_=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],T=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],C=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],M=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],P=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],N=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],U=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],$=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],G=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],X=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],ye=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],ce=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],me=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Be(g){for(var u=[],S=0;S<g.length;S+=4)u.push(g[S]<<24|g[S+1]<<16|g[S+2]<<8|g[S+3]);return u}var I=function(g){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(g,!0)}),this._prepare()};I.prototype._prepare=function(){var g=l[this.key.length];if(g==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var u=0;u<=g;u++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var S=(g+1)*4,O=this.key.length/4,A=Be(this.key),B,u=0;u<O;u++)B=u>>2,this._Ke[B][u%4]=A[u],this._Kd[g-B][u%4]=A[u];for(var L=0,F=O,q;F<S;){if(q=A[O-1],A[0]^=k[q>>16&255]<<24^k[q>>8&255]<<16^k[q&255]<<8^k[q>>24&255]^p[L]<<24,L+=1,O!=8)for(var u=1;u<O;u++)A[u]^=A[u-1];else{for(var u=1;u<O/2;u++)A[u]^=A[u-1];q=A[O/2-1],A[O/2]^=k[q&255]^k[q>>8&255]<<8^k[q>>16&255]<<16^k[q>>24&255]<<24;for(var u=O/2+1;u<O;u++)A[u]^=A[u-1]}for(var u=0,ie,J;u<O&&F<S;)ie=F>>2,J=F%4,this._Ke[ie][J]=A[u],this._Kd[g-ie][J]=A[u++],F++}for(var ie=1;ie<g;ie++)for(var J=0;J<4;J++)q=this._Kd[ie][J],this._Kd[ie][J]=X[q>>24&255]^ye[q>>16&255]^ce[q>>8&255]^me[q&255]},I.prototype.encrypt=function(g){if(g.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var u=this._Ke.length-1,S=[0,0,0,0],O=Be(g),A=0;A<4;A++)O[A]^=this._Ke[0][A];for(var B=1;B<u;B++){for(var A=0;A<4;A++)S[A]=T[O[A]>>24&255]^C[O[(A+1)%4]>>16&255]^M[O[(A+2)%4]>>8&255]^P[O[(A+3)%4]&255]^this._Ke[B][A];O=S.slice()}for(var L=s(16),F,A=0;A<4;A++)F=this._Ke[u][A],L[4*A]=(k[O[A]>>24&255]^F>>24)&255,L[4*A+1]=(k[O[(A+1)%4]>>16&255]^F>>16)&255,L[4*A+2]=(k[O[(A+2)%4]>>8&255]^F>>8)&255,L[4*A+3]=(k[O[(A+3)%4]&255]^F)&255;return L},I.prototype.decrypt=function(g){if(g.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var u=this._Kd.length-1,S=[0,0,0,0],O=Be(g),A=0;A<4;A++)O[A]^=this._Kd[0][A];for(var B=1;B<u;B++){for(var A=0;A<4;A++)S[A]=N[O[A]>>24&255]^U[O[(A+3)%4]>>16&255]^$[O[(A+2)%4]>>8&255]^G[O[(A+1)%4]&255]^this._Kd[B][A];O=S.slice()}for(var L=s(16),F,A=0;A<4;A++)F=this._Kd[u][A],L[4*A]=(_[O[A]>>24&255]^F>>24)&255,L[4*A+1]=(_[O[(A+3)%4]>>16&255]^F>>16)&255,L[4*A+2]=(_[O[(A+2)%4]>>8&255]^F>>8)&255,L[4*A+3]=(_[O[(A+1)%4]&255]^F)&255;return L};var E=function(g){if(!(this instanceof E))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new I(g)};E.prototype.encrypt=function(g){if(g=o(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var u=s(g.length),S=s(16),O=0;O<g.length;O+=16)a(g,S,0,O,O+16),S=this._aes.encrypt(S),a(S,u,O);return u},E.prototype.decrypt=function(g){if(g=o(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var u=s(g.length),S=s(16),O=0;O<g.length;O+=16)a(g,S,0,O,O+16),S=this._aes.decrypt(S),a(S,u,O);return u};var m=function(g,u){if(!(this instanceof m))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!u)u=s(16);else if(u.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=o(u,!0),this._aes=new I(g)};m.prototype.encrypt=function(g){if(g=o(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var u=s(g.length),S=s(16),O=0;O<g.length;O+=16){a(g,S,0,O,O+16);for(var A=0;A<16;A++)S[A]^=this._lastCipherblock[A];this._lastCipherblock=this._aes.encrypt(S),a(this._lastCipherblock,u,O)}return u},m.prototype.decrypt=function(g){if(g=o(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var u=s(g.length),S=s(16),O=0;O<g.length;O+=16){a(g,S,0,O,O+16),S=this._aes.decrypt(S);for(var A=0;A<16;A++)u[O+A]=S[A]^this._lastCipherblock[A];a(g,this._lastCipherblock,0,O,O+16)}return u};var f=function(g,u,S){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!u)u=s(16);else if(u.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");S||(S=1),this.segmentSize=S,this._shiftRegister=o(u,!0),this._aes=new I(g)};f.prototype.encrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var u=o(g,!0),S,O=0;O<u.length;O+=this.segmentSize){S=this._aes.encrypt(this._shiftRegister);for(var A=0;A<this.segmentSize;A++)u[O+A]^=S[A];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(u,this._shiftRegister,16-this.segmentSize,O,O+this.segmentSize)}return u},f.prototype.decrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var u=o(g,!0),S,O=0;O<u.length;O+=this.segmentSize){S=this._aes.encrypt(this._shiftRegister);for(var A=0;A<this.segmentSize;A++)u[O+A]^=S[A];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(g,this._shiftRegister,16-this.segmentSize,O,O+this.segmentSize)}return u};var h=function(g,u){if(!(this instanceof h))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!u)u=s(16);else if(u.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=o(u,!0),this._lastPrecipherIndex=16,this._aes=new I(g)};h.prototype.encrypt=function(g){for(var u=o(g,!0),S=0;S<u.length;S++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),u[S]^=this._lastPrecipher[this._lastPrecipherIndex++];return u},h.prototype.decrypt=h.prototype.encrypt;var b=function(g){if(!(this instanceof b))throw Error("Counter must be instanitated with `new`");g!==0&&!g&&(g=1),typeof g=="number"?(this._counter=s(16),this.setValue(g)):this.setBytes(g)};b.prototype.setValue=function(g){if(typeof g!="number"||parseInt(g)!=g)throw new Error("invalid counter value (must be an integer)");for(var u=15;u>=0;--u)this._counter[u]=g%256,g=g>>8},b.prototype.setBytes=function(g){if(g=o(g,!0),g.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=g},b.prototype.increment=function(){for(var g=15;g>=0;g--)if(this._counter[g]===255)this._counter[g]=0;else{this._counter[g]++;break}};var y=function(g,u){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",u instanceof b||(u=new b(u)),this._counter=u,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new I(g)};y.prototype.encrypt=function(g){for(var u=o(g,!0),S=0;S<u.length;S++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),u[S]^=this._remainingCounter[this._remainingCounterIndex++];return u},y.prototype.decrypt=y.prototype.encrypt;function x(g){g=o(g,!0);var u=16-g.length%16,S=s(g.length+u);a(g,S);for(var O=g.length;O<S.length;O++)S[O]=u;return S}function w(g){if(g=o(g,!0),g.length<16)throw new Error("PKCS#7 invalid length");var u=g[g.length-1];if(u>16)throw new Error("PKCS#7 padding byte out of range");for(var S=g.length-u,O=0;O<u;O++)if(g[S+O]!==u)throw new Error("PKCS#7 invalid padding byte");var A=s(S);return a(g,A,0,0,S),A}var v={AES:I,Counter:b,ModeOfOperation:{ecb:E,cbc:m,cfb:f,ofb:h,ctr:y},utils:{hex:d,utf8:c},padding:{pkcs7:{pad:x,strip:w}},_arrayTest:{coerceArray:o,createArray:s,copyArray:a}};r.exports=v})()})(P8);const Ni=P8.exports,T8="json-wallets/5.7.0";function Ms(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),ue(r)}function Lf(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function Sg(r){return typeof r=="string"?Xt(r,di.NFKC):ue(r)}function Zt(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(const s in t)if(s.toLowerCase()===n[i]){o=t[s];break}if(o===null)return null;t=o}return t}function iM(r){const e=ue(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ge(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const oM=new j(T8);class sM extends ns{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function kg(r,e){const t=JSON.parse(r);e=Sg(e);const n=Et(Zt(t,"ethaddr")),i=Ms(Zt(t,"encseed"));(!i||i.length%16!==0)&&oM.throwArgumentError("invalid encseed","json",r);const o=ue(xg(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),c=new Ni.ModeOfOperation.cbc(o,s),d=Ni.padding.pkcs7.strip(ue(c.decrypt(a)));let l="";for(let _=0;_<d.length;_++)l+=String.fromCharCode(d[_]);const p=Xt(l),k=Mt(p);return new sM({_isCrowdsaleAccount:!0,address:n,privateKey:k})}function uu(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function du(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function C8(r){if(uu(r))try{return Et(JSON.parse(r).ethaddr)}catch{return null}if(du(r))try{return Et(JSON.parse(r).address)}catch{return null}return null}var B8={exports:{}};(function(r,e){(function(t){function i(C){const M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let P=1779033703,N=3144134277,U=1013904242,$=2773480762,G=1359893119,X=2600822924,ye=528734635,ce=1541459225;const me=new Uint32Array(64);function Be(y){let x=0,w=y.length;for(;w>=64;){let v=P,g=N,u=U,S=$,O=G,A=X,B=ye,L=ce,F,q,ie,J,z;for(q=0;q<16;q++)ie=x+q*4,me[q]=(y[ie]&255)<<24|(y[ie+1]&255)<<16|(y[ie+2]&255)<<8|y[ie+3]&255;for(q=16;q<64;q++)F=me[q-2],J=(F>>>17|F<<32-17)^(F>>>19|F<<32-19)^F>>>10,F=me[q-15],z=(F>>>7|F<<32-7)^(F>>>18|F<<32-18)^F>>>3,me[q]=(J+me[q-7]|0)+(z+me[q-16]|0)|0;for(q=0;q<64;q++)J=(((O>>>6|O<<32-6)^(O>>>11|O<<32-11)^(O>>>25|O<<32-25))+(O&A^~O&B)|0)+(L+(M[q]+me[q]|0)|0)|0,z=((v>>>2|v<<32-2)^(v>>>13|v<<32-13)^(v>>>22|v<<32-22))+(v&g^v&u^g&u)|0,L=B,B=A,A=O,O=S+J|0,S=u,u=g,g=v,v=J+z|0;P=P+v|0,N=N+g|0,U=U+u|0,$=$+S|0,G=G+O|0,X=X+A|0,ye=ye+B|0,ce=ce+L|0,x+=64,w-=64}}Be(C);let I,E=C.length%64,m=C.length/536870912|0,f=C.length<<3,h=E<56?56:120,b=C.slice(C.length-E,C.length);for(b.push(128),I=E+1;I<h;I++)b.push(0);return b.push(m>>>24&255),b.push(m>>>16&255),b.push(m>>>8&255),b.push(m>>>0&255),b.push(f>>>24&255),b.push(f>>>16&255),b.push(f>>>8&255),b.push(f>>>0&255),Be(b),[P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,$>>>24&255,$>>>16&255,$>>>8&255,$>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255,X>>>24&255,X>>>16&255,X>>>8&255,X>>>0&255,ye>>>24&255,ye>>>16&255,ye>>>8&255,ye>>>0&255,ce>>>24&255,ce>>>16&255,ce>>>8&255,ce>>>0&255]}function o(C,M,P){C=C.length<=64?C:i(C);const N=64+M.length+4,U=new Array(N),$=new Array(64);let G,X=[];for(G=0;G<64;G++)U[G]=54;for(G=0;G<C.length;G++)U[G]^=C[G];for(G=0;G<M.length;G++)U[64+G]=M[G];for(G=N-4;G<N;G++)U[G]=0;for(G=0;G<64;G++)$[G]=92;for(G=0;G<C.length;G++)$[G]^=C[G];function ye(){for(let ce=N-1;ce>=N-4;ce--){if(U[ce]++,U[ce]<=255)return;U[ce]=0}}for(;P>=32;)ye(),X=X.concat(i($.concat(i(U)))),P-=32;return P>0&&(ye(),X=X.concat(i($.concat(i(U))).slice(0,P))),X}function s(C,M,P,N,U){let $;for(l(C,(2*P-1)*16,U,0,16),$=0;$<2*P;$++)d(C,$*16,U,16),c(U,N),l(U,0,C,M+$*16,16);for($=0;$<P;$++)l(C,M+$*2*16,C,$*16,16);for($=0;$<P;$++)l(C,M+($*2+1)*16,C,($+P)*16,16)}function a(C,M){return C<<M|C>>>32-M}function c(C,M){l(C,0,M,0,16);for(let P=8;P>0;P-=2)M[4]^=a(M[0]+M[12],7),M[8]^=a(M[4]+M[0],9),M[12]^=a(M[8]+M[4],13),M[0]^=a(M[12]+M[8],18),M[9]^=a(M[5]+M[1],7),M[13]^=a(M[9]+M[5],9),M[1]^=a(M[13]+M[9],13),M[5]^=a(M[1]+M[13],18),M[14]^=a(M[10]+M[6],7),M[2]^=a(M[14]+M[10],9),M[6]^=a(M[2]+M[14],13),M[10]^=a(M[6]+M[2],18),M[3]^=a(M[15]+M[11],7),M[7]^=a(M[3]+M[15],9),M[11]^=a(M[7]+M[3],13),M[15]^=a(M[11]+M[7],18),M[1]^=a(M[0]+M[3],7),M[2]^=a(M[1]+M[0],9),M[3]^=a(M[2]+M[1],13),M[0]^=a(M[3]+M[2],18),M[6]^=a(M[5]+M[4],7),M[7]^=a(M[6]+M[5],9),M[4]^=a(M[7]+M[6],13),M[5]^=a(M[4]+M[7],18),M[11]^=a(M[10]+M[9],7),M[8]^=a(M[11]+M[10],9),M[9]^=a(M[8]+M[11],13),M[10]^=a(M[9]+M[8],18),M[12]^=a(M[15]+M[14],7),M[13]^=a(M[12]+M[15],9),M[14]^=a(M[13]+M[12],13),M[15]^=a(M[14]+M[13],18);for(let P=0;P<16;++P)C[P]+=M[P]}function d(C,M,P,N){for(let U=0;U<N;U++)P[U]^=C[M+U]}function l(C,M,P,N,U){for(;U--;)P[N++]=C[M++]}function p(C){if(!C||typeof C.length!="number")return!1;for(let M=0;M<C.length;M++){const P=C[M];if(typeof P!="number"||P%1||P<0||P>=256)return!1}return!0}function k(C,M){if(typeof C!="number"||C%1)throw new Error("invalid "+M);return C}function _(C,M,P,N,U,$,G){if(P=k(P,"N"),N=k(N,"r"),U=k(U,"p"),$=k($,"dkLen"),P===0||(P&P-1)!==0)throw new Error("N must be power of 2");if(P>2147483647/128/N)throw new Error("N too large");if(N>2147483647/128/U)throw new Error("r too large");if(!p(C))throw new Error("password must be an array or buffer");if(C=Array.prototype.slice.call(C),!p(M))throw new Error("salt must be an array or buffer");M=Array.prototype.slice.call(M);let X=o(C,M,U*128*N);const ye=new Uint32Array(U*32*N);for(let O=0;O<ye.length;O++){const A=O*4;ye[O]=(X[A+3]&255)<<24|(X[A+2]&255)<<16|(X[A+1]&255)<<8|(X[A+0]&255)<<0}const ce=new Uint32Array(64*N),me=new Uint32Array(32*N*P),Be=32*N,I=new Uint32Array(16),E=new Uint32Array(16),m=U*P*2;let f=0,h=null,b=!1,y=0,x=0,w,v;const g=G?parseInt(1e3/N):4294967295,u=typeof setImmediate<"u"?setImmediate:setTimeout,S=function(){if(b)return G(new Error("cancelled"),f/m);let O;switch(y){case 0:v=x*32*N,l(ye,v,ce,0,Be),y=1,w=0;case 1:O=P-w,O>g&&(O=g);for(let B=0;B<O;B++)l(ce,0,me,(w+B)*Be,Be),s(ce,Be,N,I,E);if(w+=O,f+=O,G){const B=parseInt(1e3*f/m);if(B!==h){if(b=G(null,f/m),b)break;h=B}}if(w<P)break;w=0,y=2;case 2:O=P-w,O>g&&(O=g);for(let B=0;B<O;B++){const L=(2*N-1)*16,F=ce[L]&P-1;d(me,F*Be,ce,Be),s(ce,Be,N,I,E)}if(w+=O,f+=O,G){const B=parseInt(1e3*f/m);if(B!==h){if(b=G(null,f/m),b)break;h=B}}if(w<P)break;if(l(ce,0,ye,v,Be),x++,x<U){y=0;break}X=[];for(let B=0;B<ye.length;B++)X.push(ye[B]>>0&255),X.push(ye[B]>>8&255),X.push(ye[B]>>16&255),X.push(ye[B]>>24&255);const A=o(C,X,$);return G&&G(null,1,A),A}G&&u(S)};if(!G)for(;;){const O=S();if(O!=null)return O}S()}const T={scrypt:function(C,M,P,N,U,$,G){return new Promise(function(X,ye){let ce=0;G&&G(0),_(C,M,P,N,U,$,function(me,Be,I){if(me)ye(me);else if(I)G&&ce!==1&&G(1),X(new Uint8Array(I));else if(G&&Be!==ce)return ce=Be,G(Be)})})},syncScrypt:function(C,M,P,N,U,$){return new Uint8Array(_(C,M,P,N,U,$))}};r.exports=T})()})(B8);const _g=B8.exports;var aM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const tp=new j(T8);function $b(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class fM extends ns{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function cM(r,e,t){if(Zt(r,"crypto/cipher")==="aes-128-ctr"){const i=Ms(Zt(r,"crypto/cipherparams/iv")),o=new Ni.Counter(i),s=new Ni.ModeOfOperation.ctr(e,o);return ue(s.decrypt(t))}return null}function I8(r,e){const t=Ms(Zt(r,"crypto/ciphertext"));if(ge(Mt(It([e.slice(16,32),t]))).substring(2)!==Zt(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=cM(r,e.slice(0,16),t);i||tp.throwError("unsupported cipher",j.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const o=e.slice(32,64),s=lo(i);if(r.address){let c=r.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Et(c)!==s)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:s,privateKey:ge(i)};if(Zt(r,"x-ethers/version")==="0.1"){const c=Ms(Zt(r,"x-ethers/mnemonicCiphertext")),d=Ms(Zt(r,"x-ethers/mnemonicCounter")),l=new Ni.Counter(d),p=new Ni.ModeOfOperation.ctr(o,l),k=Zt(r,"x-ethers/path")||Fs,_=Zt(r,"x-ethers/locale")||"en",T=ue(p.decrypt(c));try{const C=jc(T,_),M=Zr.fromMnemonic(C,null,_).derivePath(k);if(M.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=M.mnemonic}catch(C){if(C.code!==j.errors.INVALID_ARGUMENT||C.argument!=="wordlist")throw C}}return new fM(a)}function N8(r,e,t,n,i){return ue(xg(r,e,t,n,i))}function lM(r,e,t,n,i){return Promise.resolve(N8(r,e,t,n,i))}function O8(r,e,t,n,i){const o=Sg(e),s=Zt(r,"crypto/kdf");if(s&&typeof s=="string"){const a=function(c,d){return tp.throwArgumentError("invalid key-derivation function parameters",c,d)};if(s.toLowerCase()==="scrypt"){const c=Ms(Zt(r,"crypto/kdfparams/salt")),d=parseInt(Zt(r,"crypto/kdfparams/n")),l=parseInt(Zt(r,"crypto/kdfparams/r")),p=parseInt(Zt(r,"crypto/kdfparams/p"));(!d||!l||!p)&&a("kdf",s),(d&d-1)!==0&&a("N",d);const k=parseInt(Zt(r,"crypto/kdfparams/dklen"));return k!==32&&a("dklen",k),n(o,c,d,l,p,64,i)}else if(s.toLowerCase()==="pbkdf2"){const c=Ms(Zt(r,"crypto/kdfparams/salt"));let d=null;const l=Zt(r,"crypto/kdfparams/prf");l==="hmac-sha256"?d="sha256":l==="hmac-sha512"?d="sha512":a("prf",l);const p=parseInt(Zt(r,"crypto/kdfparams/c")),k=parseInt(Zt(r,"crypto/kdfparams/dklen"));return k!==32&&a("dklen",k),t(o,c,p,k,d)}}return tp.throwArgumentError("unsupported key-derivation function","kdf",s)}function R8(r,e){const t=JSON.parse(r),n=O8(t,e,N8,_g.syncScrypt);return I8(t,n)}function D8(r,e,t){return aM(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield O8(n,e,lM,_g.scrypt,t);return I8(n,i)})}function L8(r,e,t,n){try{if(Et(r.address)!==lo(r.privateKey))throw new Error("address/privateKey mismatch");if($b(r)){const M=r.mnemonic;if(Zr.fromMnemonic(M.phrase,null,M.locale).derivePath(M.path||Fs).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(M){return Promise.reject(M)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=ue(r.privateKey),o=Sg(e);let s=null,a=null,c=null;if($b(r)){const M=r.mnemonic;s=ue(Vc(M.phrase,M.locale||"en")),a=M.path||Fs,c=M.locale||"en"}let d=t.client;d||(d="ethers.js");let l=null;t.salt?l=ue(t.salt):l=Es(32);let p=null;if(t.iv){if(p=ue(t.iv),p.length!==16)throw new Error("invalid iv")}else p=Es(16);let k=null;if(t.uuid){if(k=ue(t.uuid),k.length!==16)throw new Error("invalid uuid")}else k=Es(16);let _=1<<17,T=8,C=1;return t.scrypt&&(t.scrypt.N&&(_=t.scrypt.N),t.scrypt.r&&(T=t.scrypt.r),t.scrypt.p&&(C=t.scrypt.p)),_g.scrypt(o,l,_,T,C,64,n).then(M=>{M=ue(M);const P=M.slice(0,16),N=M.slice(16,32),U=M.slice(32,64),$=new Ni.Counter(p),G=new Ni.ModeOfOperation.ctr(P,$),X=ue(G.encrypt(i)),ye=Mt(It([N,X])),ce={address:r.address.substring(2).toLowerCase(),id:iM(k),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ge(p).substring(2)},ciphertext:ge(X).substring(2),kdf:"scrypt",kdfparams:{salt:ge(l).substring(2),n:_,dklen:32,p:C,r:T},mac:ye.substring(2)}};if(s){const me=Es(16),Be=new Ni.Counter(me),I=new Ni.ModeOfOperation.ctr(U,Be),E=ue(I.encrypt(s)),m=new Date,f=m.getUTCFullYear()+"-"+Lf(m.getUTCMonth()+1,2)+"-"+Lf(m.getUTCDate(),2)+"T"+Lf(m.getUTCHours(),2)+"-"+Lf(m.getUTCMinutes(),2)+"-"+Lf(m.getUTCSeconds(),2)+".0Z";ce["x-ethers"]={client:d,gethFilename:"UTC--"+f+"--"+ce.address,mnemonicCounter:ge(me).substring(2),mnemonicCiphertext:ge(E).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(ce)})}function U8(r,e,t){if(uu(r)){t&&t(0);const n=kg(r,e);return t&&t(1),Promise.resolve(n)}return du(r)?D8(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function F8(r,e){if(uu(r))return kg(r,e);if(du(r))return R8(r,e);throw new Error("invalid JSON wallet")}const uM=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:kg,decryptKeystore:D8,decryptKeystoreSync:R8,encryptKeystore:L8,isCrowdsaleWallet:uu,isKeystoreWallet:du,getJsonWalletAddress:C8,decryptJsonWallet:U8,decryptJsonWalletSync:F8},Symbol.toStringTag,{value:"Module"})),dM="wallet/5.7.0";var Kb=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const la=new j(dM);function hM(r){return r!=null&&Qe(r.privateKey,32)&&r.address!=null}function pM(r){const e=r.mnemonic;return e&&e.phrase}class io extends ko{constructor(e,t){if(super(),hM(e)){const n=new Wo(e.privateKey);if(Z(this,"_signingKey",()=>n),Z(this,"address",lo(this.publicKey)),this.address!==Et(e.address)&&la.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),pM(e)){const i=e.mnemonic;Z(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Fs,locale:i.locale||"en"}));const o=this.mnemonic,s=Zr.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);lo(s.privateKey)!==this.address&&la.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Z(this,"_mnemonic",()=>null)}else{if(Wo.isSigningKey(e))e.curve!=="secp256k1"&&la.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Z(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Wo(e);Z(this,"_signingKey",()=>n)}Z(this,"_mnemonic",()=>null),Z(this,"address",lo(this.publicKey))}t&&!Ws.isProvider(t)&&la.throwArgumentError("invalid provider","provider",t),Z(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new io(this,e)}signTransaction(e){return $t(e).then(t=>{t.from!=null&&(Et(t.from)!==this.address&&la.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(Mt(A0(t)));return A0(t,n)})}signMessage(e){return Kb(this,void 0,void 0,function*(){return p0(this._signingKey().signDigest(Fc(e)))})}_signTypedData(e,t,n){return Kb(this,void 0,void 0,function*(){const i=yield lr.resolveNames(e,t,n,o=>(this.provider==null&&la.throwError("cannot resolve ENS names without a provider",j.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return p0(this._signingKey().signDigest(lr.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),L8(this,e,t,n)}static createRandom(e){let t=Es(16);e||(e={}),e.extraEntropy&&(t=ue(Qt(Mt(It([t,e.extraEntropy])),0,16)));const n=jc(t,e.locale);return io.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return U8(e,t,n).then(i=>new io(i))}static fromEncryptedJsonSync(e,t){return new io(F8(e,t))}static fromMnemonic(e,t,n){return t||(t=Fs),new io(Zr.fromMnemonic(e,null,n).derivePath(t))}}function H8(r,e){return Ys(Fc(r),e)}function V8(r,e,t,n){return Ys(lr.hash(r,e,t),n)}const gM=Object.freeze(Object.defineProperty({__proto__:null,Wallet:io,verifyMessage:H8,verifyTypedData:V8},Symbol.toStringTag,{value:"Module"})),mM="networks/5.7.1",zb=new j(mM);function bM(r){return r&&typeof r.renetwork=="function"}function no(r){const e=function(t,n){n==null&&(n={});const i=[];if(t.InfuraProvider&&n.infura!=="-")try{i.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider&&n.etherscan!=="-")try{i.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider&&n.alchemy!=="-")try{i.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider&&n.pocket!=="-"){const o=["goerli","ropsten","rinkeby","sepolia"];try{const s=new t.PocketProvider(r,n.pocket);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(t.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&n.ankr!=="-")try{const o=["ropsten"],s=new t.AnkrProvider(r,n.ankr);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(t.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:r==="homestead"&&(o=2),new t.FallbackProvider(i,o)}return i[0]};return e.renetwork=function(t){return no(t)},e}function _0(r,e){const t=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return _0(r,n)},t}const Wb={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:no("homestead")},Qb={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:no("ropsten")},Jb={chainId:63,name:"classicMordor",_defaultProvider:_0("https://www.ethercluster.com/mordor","classicMordor")},kl={unspecified:{chainId:0,name:"unspecified"},homestead:Wb,mainnet:Wb,morden:{chainId:2,name:"morden"},ropsten:Qb,testnet:Qb,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:no("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:no("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:no("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:no("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:_0("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Jb,classicTestnet:Jb,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:_0("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:no("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:no("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Mg(r){if(r==null)return null;if(typeof r=="number"){for(const n in kl){const i=kl[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=kl[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=kl[r.name];if(!e)return typeof r.chainId!="number"&&zb.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&zb.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(bM(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const vM="web/5.7.1";var yM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};function xM(r,e){return yM(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(t.mode=s.mode),s.cache&&(t.cache=s.cache),s.credentials&&(t.credentials=s.credentials),s.redirect&&(t.redirect=s.redirect),s.referrer&&(t.referrer=s.referrer)}const n=yield fetch(r,t),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{o[s.toLowerCase()]=n.headers.get(s)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:ue(new Uint8Array(i))}})}var wM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const Yn=new j(vM);function Yb(r){return new Promise(e=>{setTimeout(e,r)})}function Do(r,e){if(r==null)return null;if(typeof r=="string")return r;if(hf(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return So(r)}catch{}return ge(r)}return r}function AM(r){return Xt(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Pg(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;Yn.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,o=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;Yn.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s=typeof r=="object"?!!r.errorPassThrough:!1,a={};let c=null;const d={method:"GET"};let l=!1,p=2*60*1e3;if(typeof r=="string")c=r;else if(typeof r=="object"){if((r==null||r.url==null)&&Yn.throwArgumentError("missing URL","connection.url",r),c=r.url,typeof r.timeout=="number"&&r.timeout>0&&(p=r.timeout),r.headers)for(const P in r.headers)a[P.toLowerCase()]={key:P,value:String(r.headers[P])},["if-none-match","if-modified-since"].indexOf(P.toLowerCase())>=0&&(l=!0);if(d.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){c.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&Yn.throwError("basic authentication requires a secure https url",j.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:r.user,password:"[REDACTED]"});const P=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+ag(Xt(P))}}r.skipFetchSetup!=null&&(d.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(d.fetchOptions=Rt(r.fetchOptions))}const k=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),_=c?c.match(k):null;if(_)try{const P={statusCode:200,statusMessage:"OK",headers:{"content-type":_[1]||"text/plain"},body:_[2]?sg(_[3]):AM(_[3])};let N=P.body;return t&&(N=t(P.body,P)),Promise.resolve(N)}catch(P){Yn.throwError("processing response error",j.errors.SERVER_ERROR,{body:Do(_[1],_[2]),error:P,requestBody:null,requestMethod:"GET",url:c})}e&&(d.method="POST",d.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const T={};Object.keys(a).forEach(P=>{const N=a[P];T[N.key]=N.value}),d.headers=T;const C=function(){let P=null;return{promise:new Promise(function($,G){p&&(P=setTimeout(()=>{P!=null&&(P=null,G(Yn.makeError("timeout",j.errors.TIMEOUT,{requestBody:Do(d.body,T["content-type"]),requestMethod:d.method,timeout:p,url:c})))},p))}),cancel:function(){P!=null&&(clearTimeout(P),P=null)}}}(),M=function(){return wM(this,void 0,void 0,function*(){for(let P=0;P<n;P++){let N=null;try{if(N=yield xM(c,d),P<n){if(N.statusCode===301||N.statusCode===302){const $=N.headers.location||"";if(d.method==="GET"&&$.match(/^https:/)){c=N.headers.location;continue}}else if(N.statusCode===429){let $=!0;if(i&&($=yield i(P,c)),$){let G=0;const X=N.headers["retry-after"];typeof X=="string"&&X.match(/^[1-9][0-9]*$/)?G=parseInt(X)*1e3:G=o*parseInt(String(Math.random()*Math.pow(2,P))),yield Yb(G);continue}}}}catch($){N=$.response,N==null&&(C.cancel(),Yn.throwError("missing response",j.errors.SERVER_ERROR,{requestBody:Do(d.body,T["content-type"]),requestMethod:d.method,serverError:$,url:c}))}let U=N.body;if(l&&N.statusCode===304?U=null:!s&&(N.statusCode<200||N.statusCode>=300)&&(C.cancel(),Yn.throwError("bad response",j.errors.SERVER_ERROR,{status:N.statusCode,headers:N.headers,body:Do(U,N.headers?N.headers["content-type"]:null),requestBody:Do(d.body,T["content-type"]),requestMethod:d.method,url:c})),t)try{const $=yield t(U,N);return C.cancel(),$}catch($){if($.throttleRetry&&P<n){let G=!0;if(i&&(G=yield i(P,c)),G){const X=o*parseInt(String(Math.random()*Math.pow(2,P)));yield Yb(X);continue}}C.cancel(),Yn.throwError("processing response error",j.errors.SERVER_ERROR,{body:Do(U,N.headers?N.headers["content-type"]:null),error:$,requestBody:Do(d.body,T["content-type"]),requestMethod:d.method,url:c})}return C.cancel(),U}return Yn.throwError("failed response",j.errors.SERVER_ERROR,{requestBody:Do(d.body,T["content-type"]),requestMethod:d.method,url:c})})}();return Promise.race([C.promise,M])}function Zs(r,e,t){let n=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(So(o))}catch(c){Yn.throwError("invalid JSON",j.errors.SERVER_ERROR,{body:o,error:c})}return t&&(a=t(a,s)),a},i=null;if(e!=null){i=Xt(e);const o=typeof r=="string"?{url:r}:Rt(r);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=Rt(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},r=o}return Pg(r,i,n)}function jo(r,e){return e||(e={}),e=Rt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let i=null,o=!1;const s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function d(){return r().then(function(l){if(l!==void 0)s()&&t(l);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!o){if(c++,c>a){s()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(d,p)}return null},function(l){s()&&n(l)})}d()})}const EM=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:Pg,fetchJson:Zs,poll:jo},Symbol.toStringTag,{value:"Module"}));var M0="qpzry9x8gf2tvdw0s3jn54khce6mua7l",rp={};for(var _l=0;_l<M0.length;_l++){var Yd=M0.charAt(_l);if(rp[Yd]!==void 0)throw new TypeError(Yd+" is ambiguous");rp[Yd]=_l}function Da(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function j8(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=Da(e)^n>>5}for(e=Da(e),t=0;t<r.length;++t){var i=r.charCodeAt(t);e=Da(e)^i&31}return e}function SM(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=j8(r);if(typeof n=="string")throw new Error(n);for(var i=r+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!==0)throw new Error("Non 5-bit word");n=Da(n)^s,i+=M0.charAt(s)}for(o=0;o<6;++o)n=Da(n);for(n^=1,o=0;o<6;++o){var a=n>>(5-o)*5&31;i+=M0.charAt(a)}return i}function G8(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var i=r.lastIndexOf("1");if(i===-1)return"No separator character for "+r;if(i===0)return"Missing prefix for "+r;var o=r.slice(0,i),s=r.slice(i+1);if(s.length<6)return"Data too short";var a=j8(o);if(typeof a=="string")return a;for(var c=[],d=0;d<s.length;++d){var l=s.charAt(d),p=rp[l];if(p===void 0)return"Unknown character "+l;a=Da(a)^p,!(d+6>=s.length)&&c.push(p)}return a!==1?"Invalid checksum for "+r:{prefix:o,words:c}}function kM(){var r=G8.apply(null,arguments);if(typeof r=="object")return r}function _M(r){var e=G8.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function hu(r,e,t,n){for(var i=0,o=0,s=(1<<t)-1,a=[],c=0;c<r.length;++c)for(i=i<<e|r[c],o+=e;o>=t;)o-=t,a.push(i>>o&s);if(n)o>0&&a.push(i<<t-o&s);else{if(o>=e)return"Excess padding";if(i<<t-o&s)return"Non-zero padding"}return a}function MM(r){var e=hu(r,8,5,!0);if(Array.isArray(e))return e}function PM(r){var e=hu(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function TM(r){var e=hu(r,5,8,!1);if(Array.isArray(e))return e}function CM(r){var e=hu(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var BM={decodeUnsafe:kM,decode:_M,encode:SM,toWordsUnsafe:MM,toWords:PM,fromWordsUnsafe:TM,fromWords:CM};const Xb=BM,Lr="providers/5.7.2",Uf=new j(Lr);class Ne{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),d=this.type.bind(this),l=p=>this.data(p,!0);return e.transaction={hash:s,type:d,accessList:Ne.allowNull(this.accessList.bind(this),null),blockHash:Ne.allowNull(s,null),blockNumber:Ne.allowNull(c,null),transactionIndex:Ne.allowNull(c,null),confirmations:Ne.allowNull(c,null),from:t,gasPrice:Ne.allowNull(n),maxPriorityFeePerGas:Ne.allowNull(n),maxFeePerGas:Ne.allowNull(n),gasLimit:n,to:Ne.allowNull(t,null),value:n,nonce:c,data:o,r:Ne.allowNull(this.uint256),s:Ne.allowNull(this.uint256),v:Ne.allowNull(c),creates:Ne.allowNull(t,null),raw:Ne.allowNull(o)},e.transactionRequest={from:Ne.allowNull(t),nonce:Ne.allowNull(c),gasLimit:Ne.allowNull(n),gasPrice:Ne.allowNull(n),maxPriorityFeePerGas:Ne.allowNull(n),maxFeePerGas:Ne.allowNull(n),to:Ne.allowNull(t),value:Ne.allowNull(n),data:Ne.allowNull(l),type:Ne.allowNull(c),accessList:Ne.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:t,topics:Ne.arrayOf(s),data:o,logIndex:c,blockHash:s},e.receipt={to:Ne.allowNull(this.address,null),from:Ne.allowNull(this.address,null),contractAddress:Ne.allowNull(t,null),transactionIndex:c,root:Ne.allowNull(a),gasUsed:n,logsBloom:Ne.allowNull(o),blockHash:s,transactionHash:s,logs:Ne.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Ne.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Ne.allowNull(n),status:Ne.allowNull(c),type:d},e.block={hash:Ne.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:Ne.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ne.allowNull(t),extraData:o,transactions:Ne.allowNull(Ne.arrayOf(s)),baseFeePerGas:Ne.allowNull(n)},e.blockWithTransactions=Rt(e.block),e.blockWithTransactions.transactions=Ne.allowNull(Ne.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Ne.allowNull(i,void 0),toBlock:Ne.allowNull(i,void 0),blockHash:Ne.allowNull(s,void 0),address:Ne.allowNull(t,void 0),topics:Ne.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Ne.allowNull(c),blockHash:Ne.allowNull(s),transactionIndex:c,removed:Ne.allowNull(this.boolean.bind(this)),address:t,data:Ne.allowFalsish(o,"0x"),topics:Ne.arrayOf(s),transactionHash:s,logIndex:c},e}accessList(e){return _o(e||[])}number(e){return e==="0x"?0:de.from(e).toNumber()}type(e){return e==="0x"||e==null?0:de.from(e).toNumber()}bigNumber(e){return de.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Qe(e))?e.toLowerCase():Uf.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Et(e)}callAddress(e){if(!Qe(e,32))return null;const t=Et(Qt(e,12));return t===Ex?null:t}contractAddress(e){return Uc(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Qe(e))return pf(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return ui(n)!==32?Uf.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=de.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Qe(e))throw new Error("invalid uint256");return Nt(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Ne.check(t,e);return i._difficulty=n==null?null:de.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Ne.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&de.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=Ne.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Qe(n)&&(n=de.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),Qe(n)&&(n=de.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return mg(e)}receiptLog(e){return Ne.check(this.formats.receiptLog,e)}receipt(e){const t=Ne.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=de.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&Uf.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):Uf.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&Uf.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return Ne.check(this.formats.filter,e)}filterLog(e){return Ne.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const i in e)try{const o=e[i](t[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=t[i],o}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(i){n.push(e(i))}),n}}}function q8(r){return r&&typeof r.isCommunityResource=="function"}function np(r){return q8(r)&&r.isCommunityResource()}let Zb=!1;function Gc(){Zb||(Zb=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var We=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const rt=new j(Lr),IM=10;function ev(r){return r==null?"null":(ui(r)!==32&&rt.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function tv(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[ev(i)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return ev(e)}).join("&")}function NM(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function ua(r){if(typeof r=="string"){if(r=r.toLowerCase(),ui(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+tv(r);if(FS.isForkEvent(r))throw rt.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+tv(r.topics||[])}throw new Error("invalid event - "+r)}function Ff(){return new Date().getTime()}function rv(r){return new Promise(e=>{setTimeout(e,r)})}const OM=["block","network","pending","poll"];class RM{constructor(e,t,n){Z(this,"tag",e),Z(this,"listener",t),Z(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=NM(e[2]),i={};return n.length>0&&(i.topics=n),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||OM.indexOf(this.tag)>=0}}const DM={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Xd(r){return Nt(de.from(r).toHexString(),32)}function nv(r){return Ls.encode(It([r,Qt(Vi(Vi(r)),0,4)]))}const $8=new RegExp("^(ipfs)://(.*)$","i"),iv=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),$8,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function e0(r,e){try{return So(Bc(r,e))}catch{}return null}function Bc(r,e){if(r==="0x")return null;const t=de.from(Qt(r,e,e+32)).toNumber(),n=de.from(Qt(r,t,t+32)).toNumber();return Qt(r,t+32,t+32+n)}function Zd(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):rt.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function ov(r){const e=ue(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function LM(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function K8(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(null),t+=32;for(let n=0;n<r.length;n++){const i=ue(r[n]);e[n]=ov(t),e.push(ov(i.length)),e.push(LM(i)),t+=32+Math.ceil(i.length/32)*32}return Cr(e)}class ip{constructor(e,t,n,i){Z(this,"provider",e),Z(this,"name",n),Z(this,"address",e.formatter.address(t)),Z(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>de.from(e).eq(1)).catch(e=>{if(e.code===j.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return We(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Cr([e,Ra(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Cr(["0x9061b923",K8([fg(this.name),n.data])]));try{let o=yield this.provider.call(n);return ue(o).length%32===4&&rt.throwError("resolver threw error",j.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=Bc(o,0)),o}catch(o){if(o.code===j.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,t){return We(this,void 0,void 0,function*(){const n=yield this._fetch(e,t);return n!=null?Bc(n,0):null})}_getAddress(e,t){const n=DM[String(e)];if(n==null&&rt.throwError(`unsupported coin type: ${e}`,j.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const i=ue(t);if(n.p2pkh!=null){const o=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return nv(It([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){const o=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return nv(It([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){const o=i[1];let s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){const a=Xb.toWords(i.slice(2));return a.unshift(s),Xb.encode(n.prefix,a)}}return null}getAddress(e){return We(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===Zp?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===j.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",Xd(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&rt.throwError("invalid or unsupported coin data",j.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return We(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<iv.length;n++){const i=t.match(iv[n]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Zd(t)};case"erc721":case"erc1155":{const s=o==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:t});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const d=yield this.provider.formatter.address(c[0]),l=Nt(de.from(c[1]).toHexString(),32);if(o==="erc721"){const C=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:Cr(["0x6352211e",l])}));if(a!==C)return null;e.push({type:"owner",content:C})}else if(o==="erc1155"){const C=de.from(yield this.provider.call({to:d,data:Cr(["0x00fdd58e",Nt(a,32),l])}));if(C.isZero())return null;e.push({type:"balance",content:C.toString()})}const p={to:this.provider.formatter.address(c[0]),data:Cr([s,l])};let k=e0(yield this.provider.call(p),0);if(k==null)return null;e.push({type:"metadata-url-base",content:k}),o==="erc1155"&&(k=k.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:k})),k.match(/^ipfs:/i)&&(k=Zd(k)),e.push({type:"metadata-url",content:k});const _=yield Zs(k);if(!_)return null;e.push({type:"metadata",content:JSON.stringify(_)});let T=_.image;if(typeof T!="string")return null;if(!T.match(/^(https:\/\/|data:)/i)){if(T.match($8)==null)return null;e.push({type:"url-ipfs",content:T}),T=Zd(T)}return e.push({type:"url",content:T}),{linkage:e,url:T}}}}}catch{}return null})}getContentHash(){return We(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=parseInt(t[3],16);if(t[4].length===s*2)return"ipfs://"+Ls.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+Ls.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){const s={"=":"","+":"-","/":"_"},a=ag("0x"+o[1]).replace(/[=+\/]/g,c=>s[c]);return"sia://"+a}return rt.throwError("invalid or unsupported content hash data",j.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return We(this,void 0,void 0,function*(){let t=Xt(e);t=It([Xd(64),Xd(t.length),t]),t.length%32!==0&&(t=It([t,Nt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ge(t));return n==null||n==="0x"?null:So(n)})}}let eh=null,UM=1;class pu extends Ws{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Z(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=dr(new.target,"getNetwork")(e);t?(Z(this,"_network",t),this.emit("network",t,null)):rt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return We(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||rt.throwError("no network detected",j.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Z(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return jo(()=>this._ready().then(e=>e,e=>{if(!(e.code===j.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return eh==null&&(eh=new Ne),eh}static getNetwork(e){return Mg(e??"homestead")}ccipReadFetch(e,t,n){return We(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),o=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const c=n[a],d=c.replace("{sender}",i).replace("{data}",o),l=c.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),p=yield Zs({url:d,errorPassThrough:!0},l,(_,T)=>(_.status=T.statusCode,_));if(p.data)return p.data;const k=p.message||"unknown error";if(p.status>=400&&p.status<500)return rt.throwError(`response not found during CCIP fetch: ${k}`,j.errors.SERVER_ERROR,{url:c,errorMessage:k});s.push(k)}return rt.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,j.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return We(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const o=yield i;if(Ff()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=Ff(),n=$t({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;const s=Ff();return i=de.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return We(this,void 0,void 0,function*(){const e=UM++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)rt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",rt.makeError("network block skew detected",j.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const o=i.hash;let s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});t.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=n;const s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);const a=this.getLogs(o).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(d=>{d.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(o,d)})}).catch(c=>{this.emit("error",c),i._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return We(this,void 0,void 0,function*(){return rt.throwError("provider does not support network detection",j.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return We(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield rv(0),this._network;const n=rt.makeError("underlying network changed",j.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Ff();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Ff(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return We(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,n||0,null)})}_waitForTransaction(e,t,n,i){return We(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=t?o:new Promise((s,a)=>{const c=[];let d=!1;const l=function(){return d?!0:(d=!0,c.forEach(k=>{k()}),!1)},p=k=>{k.confirmations<t||l()||s(k)};if(this.on(e,p),c.push(()=>{this.removeListener(e,p)}),i){let k=i.startBlock,_=null;const T=C=>We(this,void 0,void 0,function*(){d||(yield rv(1e3),this.getTransactionCount(i.from).then(M=>We(this,void 0,void 0,function*(){if(!d){if(M<=i.nonce)k=C;else{{const P=yield this.getTransaction(e);if(P&&P.blockNumber!=null)return}for(_==null&&(_=k-3,_<i.startBlock&&(_=i.startBlock));_<=C;){if(d)return;const P=yield this.getBlockWithTransactions(_);for(let N=0;N<P.transactions.length;N++){const U=P.transactions[N];if(U.hash===e)return;if(U.from===i.from&&U.nonce===i.nonce){if(d)return;const $=yield this.waitForTransaction(U.hash,t);if(l())return;let G="replaced";U.data===i.data&&U.to===i.to&&U.value.eq(i.value)?G="repriced":U.data==="0x"&&U.from===U.to&&U.value.isZero()&&(G="cancelled"),a(rt.makeError("transaction was replaced",j.errors.TRANSACTION_REPLACED,{cancelled:G==="replaced"||G==="cancelled",reason:G,replacement:this._wrapTransaction(U),hash:e,receipt:$}));return}}_++}}d||this.once("block",T)}}),M=>{d||this.once("block",T)}))});if(d)return;this.once("block",T),c.push(()=>{this.removeListener("block",T)})}if(typeof n=="number"&&n>0){const k=setTimeout(()=>{l()||a(rt.makeError("timeout exceeded",j.errors.TIMEOUT,{timeout:n}))},n);k.unref&&k.unref(),c.push(()=>{clearTimeout(k)})}})})}getBlockNumber(){return We(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return We(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return de.from(e)}catch(t){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield $t({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",n);try{return de.from(i)}catch(o){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield $t({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",n);try{return de.from(i).toNumber()}catch(o){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield $t({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",n);try{return ge(i)}catch(o){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(e,t,n){return We(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield $t({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(s=>pf(s))}),o=yield this.perform("getStorageAt",i);try{return ge(o)}catch(s){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(e,t,n){if(t!=null&&ui(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&rt.throwError("Transaction hash mismatch from Provider.sendTransaction.",j.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(o,s)=>We(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,o,s,a);return c==null&&o===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&rt.throwError("transaction failed",j.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return We(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(o=>ge(o)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(e){return We(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(o=>o?de.from(o):null))}),["type"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(o=>o??null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(o=>o?ge(o):null))}),this.formatter.transactionRequest(yield $t(n))})}_getFilter(e){return We(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield $t(t))})}_call(e,t,n){return We(this,void 0,void 0,function*(){n>=IM&&rt.throwError("CCIP read exceeded maximum redirections",j.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,o=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&t==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&ui(o)%32===4)try{const s=Qt(o,4),a=Qt(s,0,32);de.from(a).eq(i)||rt.throwError("CCIP Read sender did not match",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const c=[],d=de.from(Qt(s,32,64)).toNumber(),l=de.from(Qt(s,d,d+32)).toNumber(),p=Qt(s,d+32);for(let P=0;P<l;P++){const N=e0(p,P*32);N==null&&rt.throwError("CCIP Read contained corrupt URL string",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),c.push(N)}const k=Bc(s,64);de.from(Qt(s,100,128)).isZero()||rt.throwError("CCIP Read callback selector included junk",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const _=Qt(s,96,100),T=Bc(s,128),C=yield this.ccipReadFetch(e,k,c);C==null&&rt.throwError("CCIP Read disabled or provided no URLs",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const M={to:i,data:Cr([_,K8([C,T])])};return this._call(M,t,n+1)}catch(s){if(s.code===j.errors.SERVER_ERROR)throw s}try{return ge(o)}catch(s){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:o,error:s})}})}call(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield $t({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return We(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield $t({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return de.from(n)}catch(i){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:i})}})}_getAddress(e){return We(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&rt.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&rt.throwError("ENS name not configured",j.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!t};if(Qe(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Qe(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{rt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return jo(()=>We(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let s=null;for(let c=0;c<o.transactions.length;c++){const d=o.transactions[c];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let l=s-d.blockNumber+1;l<=0&&(l=1),d.confirmations=l}}const a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return We(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return jo(()=>We(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return We(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return jo(()=>We(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return We(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield $t({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Ne.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return We(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return We(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&rt.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return We(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const n=yield this._getResolver(t,"getResolver");if(n!=null){const i=new ip(this,n,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return We(this,void 0,void 0,function*(){t==null&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||rt.throwError("network does not support ENS",j.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Ra(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return We(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Qe(e))throw n}typeof e!="string"&&rt.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return We(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(n==null)return null;const i=e0(yield this.call({to:n,data:"0x691f3431"+Ra(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return We(this,void 0,void 0,function*(){let t=null;if(Qe(e)){const o=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o,"getAvatar");if(!s)return null;t=new ip(this,s,o);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==j.errors.CALL_EXCEPTION)throw a}try{const a=e0(yield this.call({to:s,data:"0x691f3431"+Ra(o).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==j.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return rt.throwError(e+" not implemented",j.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const i=new RM(ua(e),t,n);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,i=[],o=ua(e);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,t)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let t=ua(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=ua(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let i=!1,o=ua(e);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=t||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=ua(e);this._events=this._events.filter(i=>i.tag!==n?!0:(t.push(i),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var ro=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const er=new j(Lr),FM=["call","estimateGas"];function uc(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=Qe(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const n=uc(r[t],e);if(n)return n}return null}if(typeof r=="string")try{return uc(JSON.parse(r),e)}catch{}return null}function z8(r,e,t){const n=t.transaction||t.signedTransaction;if(r==="call"){const o=uc(e,!0);if(o)return o.data;er.throwError("missing revert data in call exception; Transaction reverted without a reason string",j.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(r==="estimateGas"){let o=uc(e.body,!1);o==null&&(o=uc(e,!1)),o&&er.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:r,transaction:n,error:e})}let i=e.message;throw e.code===j.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&er.throwError("insufficient funds for intrinsic transaction cost",j.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),i.match(/nonce (is )?too low/i)&&er.throwError("nonce has already been used",j.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&er.throwError("replacement fee too low",j.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),i.match(/only replay-protected/i)&&er.throwError("legacy pre-eip-155 transactions not supported",j.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),FM.indexOf(r)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&er.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function sv(r){return new Promise(function(e){setTimeout(e,r)})}function HM(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function Hf(r){return r&&r.toLowerCase()}const op={};class Tg extends ko{constructor(e,t,n){if(super(),e!==op)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Z(this,"provider",t),n==null&&(n=0),typeof n=="string"?(Z(this,"_address",this.provider.formatter.address(n)),Z(this,"_index",null)):typeof n=="number"?(Z(this,"_index",n),Z(this,"_address",null)):er.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return er.throwError("cannot alter JSON-RPC Signer connection",j.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new VM(op,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&er.throwError("unknown account #"+this._index,j.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Rt(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Rt(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>ro(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&er.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),$t({tx:$t(e),sender:t}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&er.throwArgumentError("from address mismatch","transaction",e):n.from=i;const o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&er.throwError("user rejected transaction",j.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),z8("sendTransaction",s,o)))})}signTransaction(e){return er.throwError("signing transactions is unsupported",j.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return ro(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield jo(()=>ro(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return ro(this,void 0,void 0,function*(){const t=typeof e=="string"?Xt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ge(t),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&er.throwError("user rejected signing",j.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return ro(this,void 0,void 0,function*(){const t=typeof e=="string"?Xt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ge(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&er.throwError("user rejected signing",j.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,t,n){return ro(this,void 0,void 0,function*(){const i=yield lr.resolveNames(e,t,n,s=>this.provider.resolveName(s)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(lr.getPayload(i.domain,t,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&er.throwError("user rejected signing",j.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:i.domain,types:t,value:i.value}}),s}})}unlock(e){return ro(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class VM extends Tg{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const jM={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Hs extends pu{constructor(e,t){let n=t;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)})),super(n),e||(e=dr(this.constructor,"defaultUrl")()),typeof e=="string"?Z(this,"connection",Object.freeze({url:e})):Z(this,"connection",Object.freeze(Rt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ro(this,void 0,void 0,function*(){yield sv(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=dr(this.constructor,"getNetwork");try{return t(de.from(e).toNumber())}catch(n){return er.throwError("could not detect network",j.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return er.throwError("could not detect network",j.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Tg(op,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Or(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const o=Zs(this.connection,JSON.stringify(n),HM).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Hf(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Hf(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Hf(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Hf(t.address),Nt(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{const n=dr(this.constructor,"hexlifyTransaction");return["eth_call",[n(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{const n=dr(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Hf(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return ro(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&de.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(t=Rt(t),t.transaction=Rt(i),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&er.throwError(e+" not implemented",j.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return z8(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(o){if(e._pendingFilter!=t)return null;let s=Promise.resolve();return o.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),s.then(function(){return sv(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=Rt(jM);if(t)for(const o in t)t[o]&&(n[o]=!0);ru(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;const s=pf(de.from(e[o]));o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){e[o]!=null&&(i[o]=ge(e[o]))}),e.accessList&&(i.accessList=_o(e.accessList)),i}}let dc=null;try{if(dc=WebSocket,dc==null)throw new Error("inject please")}catch{const e=new j(Lr);dc=function(){e.throwError("WebSockets not supported in this environment",j.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var th=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const Ml=new j(Lr);let GM=1;class gu extends Hs{constructor(e,t){t==="any"&&Ml.throwError("WebSocketProvider does not support 'any' network yet",j.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?Z(this,"_websocket",new dc(this.connection.url)):Z(this,"_websocket",e),Z(this,"_requests",{}),Z(this,"_subs",{}),Z(this,"_subIds",{}),Z(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const o=i.data,s=JSON.parse(o);if(s.id!=null){const a=String(s.id),c=this._requests[a];if(delete this._requests[a],s.result!==void 0)c.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:s.result,provider:this});else{let d=null;s.error?(d=new Error(s.error.message||"unknown error"),Z(d,"code",s.error.code||null),Z(d,"response",o)):d=new Error("unknown error"),c.callback(d,void 0),this.emit("debug",{action:"response",error:d,request:JSON.parse(c.payload),provider:this})}}else if(s.method==="eth_subscription"){const a=this._subs[s.params.subscription];a&&a.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Ml.throwError("cannot reset events block on WebSocketProvider",j.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Ml.throwError("cannot set polling interval on WebSocketProvider",j.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return th(this,void 0,void 0,function*(){return null})}set polling(e){!e||Ml.throwError("cannot set polling on WebSocketProvider",j.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=GM++;return new Promise((i,o)=>{function s(c,d){return c?o(c):i(d)}const a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:s,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return th(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=i);const o=yield i;this._subs[o]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=de.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const i=n.hash;this.getTransactionReceipt(i).then(o=>{!o||this.emit(i,o)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];!n||(delete this._subIds[t],n.then(i=>{!this._subs[i]||(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return th(this,void 0,void 0,function*(){this.websocket.readyState===dc.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var qM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const ec=new j(Lr);class W8 extends Hs{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return qM(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||ec.throwError("no network detected",j.errors.UNKNOWN_ERROR,{}),this._network==null&&(Z(this,"_network",t),this.emit("network",t,null))),t})}}class Mo extends W8{constructor(e,t){ec.checkAbstract(new.target,Mo),e=dr(new.target,"getNetwork")(e),t=dr(new.target,"getApiKey")(t);const n=dr(new.target,"getUrl")(e,t);super(n,e),typeof t=="string"?Z(this,"apiKey",t):t!=null&&Object.keys(t).forEach(i=>{Z(this,i,t[i])})}_startPending(){ec.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return ec.throwError("API provider does not support signing",j.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return ec.throwError("not implemented; sub-classes must override getUrl",j.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const av=new j(Lr),t0="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class Q8 extends gu{constructor(e,t){const n=new Cg(e,t),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),Z(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===t0}}class Cg extends Mo{static getWebSocketProvider(e,t){return new Q8(e,t)}static getApiKey(e){return e==null?t0:(e&&typeof e!="string"&&av.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:av.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(i,o)=>(t===t0&&Gc(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===t0}}const $M=new j(Lr),Pl="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function KM(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return $M.throwArgumentError("unsupported network","name",r)}class J8 extends Mo{isCommunityResource(){return this.apiKey===Pl}static getApiKey(e){return e??Pl}static getUrl(e,t){t==null&&(t=Pl);const n={allowGzip:!0,url:"https://"+KM(e.name)+t,throttleCallback:(i,o)=>(t.apiKey===Pl&&Gc(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}}var zM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const fv=new j(Lr);class Y8 extends Mo{static getApiKey(e){return e!=null&&fv.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:fv.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return zM(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var Tl=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const Ho=new j(Lr);function cv(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=pf(ge(n)):t==="accessList"?n="["+_o(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=ge(n),e[t]=n)}return e}function WM(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function lv(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function uv(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function rh(r,e,t){if(r==="call"&&e.code===j.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let o=i.data;if(o&&(o="0x"+o.replace(/^.*0x/i,"")),Qe(o))return o;Ho.throwError("missing revert data in call exception",j.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===j.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Ho.throwError("insufficient funds for intrinsic transaction cost",j.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Ho.throwError("nonce has already been used",j.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&Ho.throwError("replacement fee too low",j.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&Ho.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class X8 extends pu{constructor(e,t){super(e),Z(this,"baseUrl",this.getBaseUrl()),Z(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Ho.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce((o,s)=>{const a=t[s];return a!=null&&(o+=`&${s}=${a}`),o},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return Tl(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,t),o=n?this.getPostData(e,t):null,s=e==="proxy"?lv:WM;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(l,p)=>(this.isCommunityResource()&&Gc(),Promise.resolve(!0))};let c=null;o&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(o).map(l=>`${l}=${o[l]}`).join("&"));const d=yield Zs(a,c,s||lv);return this.emit("debug",{action:"response",request:i,response:Or(d),provider:this}),d})}detectNetwork(){return Tl(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Tl(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(i=>rh("sendTransaction",i,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=cv(t.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(o){return rh("call",o,t.transaction)}}case"estimateGas":{const i=cv(t.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(o){return rh("estimateGas",o,t.transaction)}}case"getLogs":{const i={action:"getLogs"};if(t.filter.fromBlock&&(i.fromBlock=uv(t.filter.fromBlock)),t.filter.toBlock&&(i.toBlock=uv(t.filter.toBlock)),t.filter.address&&(i.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Ho.throwError("unsupported topic count",j.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const a=t.filter.topics[0];(typeof a!="string"||a.length!==66)&&Ho.throwError("unsupported topic format",j.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const o=yield this.fetch("logs",i);let s={};for(let a=0;a<o.length;a++){const c=o[a];if(c.blockHash==null){if(s[c.blockNumber]==null){const d=yield this.getBlock(c.blockNumber);d&&(s[c.blockNumber]=d.hash)}c.blockHash=s[c.blockNumber]}}return o}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return Tl(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(s=>{["contractAddress","to"].forEach(function(c){s[c]==""&&delete s[c]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const a=this.formatter.transactionResponse(s);return s.timeStamp&&(a.timestamp=parseInt(s.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var P0=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const As=new j(Lr);function Cl(){return new Date().getTime()}function dv(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||As.throwArgumentError("provider mismatch","networks",r):e=n}return e}function hv(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],i=r[t];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function Sa(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(de.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>Sa(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=Sa(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let QM=1;function pv(r){let e=null,t=null,n=new Promise(s=>{e=function(){t&&(clearTimeout(t),t=null),s()},t=setTimeout(e,r)});const i=s=>(n=n.then(s),n);function o(){return n}return{cancel:e,getPromise:o,wait:i}}const JM=[j.errors.CALL_EXCEPTION,j.errors.INSUFFICIENT_FUNDS,j.errors.NONCE_EXPIRED,j.errors.REPLACEMENT_UNDERPRICED,j.errors.UNPREDICTABLE_GAS_LIMIT],YM=["address","args","errorArgs","errorSignature","method","transaction"];function Bl(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function XM(r,e){return function(t){const n={};t.forEach(o=>{const s=r(o.result);n[s]||(n[s]={count:0,result:o.result}),n[s].count++});const i=Object.keys(n);for(let o=0;o<i.length;o++){const s=n[i[o]];if(s.count>=e)return s.result}}}function ZM(r,e,t){let n=Sa;switch(e){case"getBlockNumber":return function(i){const o=i.map(a=>a.result);let s=hv(i.map(a=>a.result),2);if(s!=null)return s=Math.ceil(s),o.indexOf(s+1)>=0&&s++,s>=r._highestBlockNumber&&(r._highestBlockNumber=s),r._highestBlockNumber};case"getGasPrice":return function(i){const o=i.map(s=>s.result);return o.sort(),o[Math.floor(o.length/2)]};case"getEtherPrice":return function(i){return hv(i.map(o=>o.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Rt(i),i.confirmations=-1,Sa(i))};break;case"getBlock":t.includeTransactions?n=function(i){return i==null?null:(i=Rt(i),i.transactions=i.transactions.map(o=>(o=Rt(o),o.confirmations=-1,o)),Sa(i))}:n=function(i){return i==null?null:Sa(i)};break;default:throw new Error("unknown method: "+e)}return XM(n,r.quorum)}function Vf(r,e){return P0(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:jo(()=>new Promise((n,i)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function eP(r,e,t,n){return P0(this,void 0,void 0,function*(){let i=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Qe(n.blockTag)&&(i=yield Vf(r,e)),i[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Qe(n.blockTag)&&(i=yield Vf(r,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Qe(n.blockTag)&&(i=yield Vf(r,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Qe(n.blockTag)&&(i=yield Vf(r,e)),t==="call"&&n.blockTag?i[t](n.transaction,n.blockTag):i[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](n.transactionHash);case"getLogs":{let o=n.filter;return(o.fromBlock&&Qe(o.fromBlock)||o.toBlock&&Qe(o.toBlock))&&(i=yield Vf(r,e)),i.getLogs(o)}}return As.throwError("unknown method error",j.errors.UNKNOWN_ERROR,{method:t,params:n})})}class Z8 extends pu{constructor(e,t){e.length===0&&As.throwArgumentError("missing providers","providers",e);const n=e.map((s,a)=>{if(Ws.isProvider(s)){const l=np(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:l,priority:1})}const c=Rt(s);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=np(s)?2e3:750),c.weight==null&&(c.weight=1);const d=c.weight;return(d%1||d>512||d<1)&&As.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,d),Object.freeze(c)}),i=n.reduce((s,a)=>s+a.weight,0);t==null?t=i/2:t>i&&As.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let o=dv(n.map(s=>s.provider.network));o==null&&(o=new Promise((s,a)=>{setTimeout(()=>{this.detectNetwork().then(s,a)},0)})),super(o),Z(this,"providerConfigs",Object.freeze(n)),Z(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return P0(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return dv(e)})}perform(e,t){return P0(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(d=>d.provider.sendTransaction(t.signedTransaction).then(l=>l.hash,l=>l)));for(let d=0;d<c.length;d++){const l=c[d];if(typeof l=="string")return l}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=ZM(this,e,t),i=Eg(this.providerConfigs.map(Rt));i.sort((c,d)=>c.priority-d.priority);const o=this._highestBlockNumber;let s=0,a=!0;for(;;){const c=Cl();let d=i.filter(_=>_.runner&&c-_.start<_.stallTimeout).reduce((_,T)=>_+T.weight,0);for(;d<this.quorum&&s<i.length;){const _=i[s++],T=QM++;_.start=Cl(),_.staller=pv(_.stallTimeout),_.staller.wait(()=>{_.staller=null}),_.runner=eP(_,o,e,t).then(C=>{_.done=!0,_.result=C,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:T,backend:Bl(_,Cl()),request:{method:e,params:Or(t)},provider:this})},C=>{_.done=!0,_.error=C,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:T,backend:Bl(_,Cl()),request:{method:e,params:Or(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:T,backend:Bl(_,null),request:{method:e,params:Or(t)},provider:this}),d+=_.weight}const l=[];i.forEach(_=>{_.done||!_.runner||(l.push(_.runner),_.staller&&l.push(_.staller.getPromise()))}),l.length&&(yield Promise.race(l));const p=i.filter(_=>_.done&&_.error==null);if(p.length>=this.quorum){const _=n(p);if(_!==void 0)return i.forEach(T=>{T.staller&&T.staller.cancel(),T.cancelled=!0}),_;a||(yield pv(100).getPromise()),a=!1}const k=i.reduce((_,T)=>{if(!T.done||T.error==null)return _;const C=T.error.code;return JM.indexOf(C)>=0&&(_[C]||(_[C]={error:T.error,weight:0}),_[C].weight+=T.weight),_},{});if(Object.keys(k).forEach(_=>{const T=k[_];if(T.weight<this.quorum)return;i.forEach(P=>{P.staller&&P.staller.cancel(),P.cancelled=!0});const C=T.error,M={};YM.forEach(P=>{C[P]!=null&&(M[P]=C[P])}),As.throwError(C.reason||C.message,_,M)}),i.filter(_=>!_.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),As.throwError("failed to meet quorum",j.errors.SERVER_ERROR,{method:e,params:t,results:i.map(c=>Bl(c)),provider:this})})}}const e6=null,r0=new j(Lr),tc="84842078b09946638c03157f83405213";class t6 extends gu{constructor(e,t){const n=new Bg(e,t),i=n.connection;i.password&&r0.throwError("INFURA WebSocket project secrets unsupported",j.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,e),Z(this,"apiKey",n.projectId),Z(this,"projectId",n.projectId),Z(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===tc}}class Bg extends Mo{static getWebSocketProvider(e,t){return new t6(e,t)}static getApiKey(e){const t={apiKey:tc,projectId:tc,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(r0.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),r0.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:r0.throwError("unsupported network",j.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(o,s)=>(t.projectId===tc&&Gc(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===tc}}class tP extends Hs{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:n,resolve:null,reject:null},o=new Promise((s,a)=>{i.resolve=s,i.reject=a});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=s.map(c=>c.request);return this.emit("debug",{action:"requestBatch",request:Or(a),provider:this}),Zs(this.connection,JSON.stringify(a)).then(c=>{this.emit("debug",{action:"response",request:a,response:c,provider:this}),s.forEach((d,l)=>{const p=c[l];if(p.error){const k=new Error(p.error.message);k.code=p.error.code,k.data=p.error.data,d.reject(k)}else d.resolve(p.result)})},c=>{this.emit("debug",{action:"response",error:c,request:a,provider:this}),s.forEach(d=>{d.reject(c)})})},10)),o}}const nh=new j(Lr),rP="ETHERS_JS_SHARED";class r6 extends Mo{static getApiKey(e){return e&&typeof e!="string"&&nh.throwArgumentError("invalid apiKey","apiKey",e),e||rP}static getUrl(e,t){nh.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:nh.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const gv=new j(Lr),mv="62e1ad51b37b8e00394bda3b";class n6 extends Mo{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=mv:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:gv.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:gv.throwError("unsupported network",j.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${t.applicationId}`,o={headers:{},url:i};return t.applicationSecretKey!=null&&(o.user="",o.password=t.applicationSecretKey),o}isCommunityResource(){return this.applicationId===mv}}const bv=new j(Lr);let nP=1;function vv(r,e){const t="Web3LegacyFetcher";return function(n,i){const o={method:n,params:i,id:nP++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Or(o),provider:this}),e(o,(c,d)=>{if(c)return this.emit("debug",{action:"response",fetcher:t,error:c,request:o,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:t,request:o,response:d,provider:this}),d.error){const l=new Error(d.error.message);return l.code=d.error.code,l.data=d.error.data,a(l)}s(d.result)})})}}function iP(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Or(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class ka extends Hs{constructor(e,t){e==null&&bv.throwArgumentError("missing provider","provider",e);let n=null,i=null,o=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),o=e,e.request?(n===""&&(n="eip-1193:"),i=iP(e)):e.sendAsync?i=vv(e,e.sendAsync.bind(e)):e.send?i=vv(e,e.send.bind(e)):bv.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),Z(this,"jsonRpcFetchFunc",i),Z(this,"provider",o)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const yv=new j(Lr);function Ig(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Hs(r);case"ws":case"wss":return new gu(r);default:yv.throwArgumentError("unsupported URL scheme","network",r)}}const t=Mg(r);return(!t||!t._defaultProvider)&&yv.throwError("unsupported getDefaultProvider network",j.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:Z8,AlchemyProvider:Cg,AnkrProvider:J8,CloudflareProvider:Y8,EtherscanProvider:X8,InfuraProvider:Bg,JsonRpcProvider:Hs,NodesmithProvider:r6,PocketProvider:n6,Web3Provider:ka,IpcProvider:e6},e)}const i6=Object.freeze(Object.defineProperty({__proto__:null,Provider:Ws,BaseProvider:pu,Resolver:ip,UrlJsonRpcProvider:Mo,FallbackProvider:Z8,AlchemyProvider:Cg,AlchemyWebSocketProvider:Q8,AnkrProvider:J8,CloudflareProvider:Y8,EtherscanProvider:X8,InfuraProvider:Bg,InfuraWebSocketProvider:t6,JsonRpcProvider:Hs,JsonRpcBatchProvider:tP,NodesmithProvider:r6,PocketProvider:n6,StaticJsonRpcProvider:W8,Web3Provider:ka,WebSocketProvider:gu,IpcProvider:e6,JsonRpcSigner:Tg,getDefaultProvider:Ig,getNetwork:Mg,isCommunityResource:np,isCommunityResourcable:q8,showThrottleMessage:Gc,Formatter:Ne},Symbol.toStringTag,{value:"Module"})),oP="solidity/5.7.0",sP=new RegExp("^bytes([0-9]+)$"),aP=new RegExp("^(u?int)([0-9]*)$"),fP=new RegExp("^(.*)\\[([0-9]*)\\]$"),cP="0000000000000000000000000000000000000000000000000000000000000000",xa=new j(oP);function o6(r,e,t){switch(r){case"address":return t?Na(e,32):ue(e);case"string":return Xt(e);case"bytes":return ue(e);case"bool":return e=e?"0x01":"0x00",t?Na(e,32):ue(e)}let n=r.match(aP);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&xa.throwArgumentError("invalid number type","type",r),t&&(i=256),e=de.from(e).toTwos(i),Na(e,i/8)}if(n=r.match(sP),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&xa.throwArgumentError("invalid bytes type","type",r),ue(e).byteLength!==i&&xa.throwArgumentError(`invalid value for ${r}`,"value",e),t?ue((e+cP).substring(0,66)):e}if(n=r.match(fP),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&xa.throwArgumentError(`invalid array length for ${r}`,"value",e);const s=[];return e.forEach(function(a){s.push(o6(i,a,!0))}),It(s)}return xa.throwArgumentError("invalid type","type",r)}function mu(r,e){r.length!=e.length&&xa.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,i){t.push(o6(n,e[i]))}),ge(It(t))}function s6(r,e){return Mt(mu(r,e))}function a6(r,e){return Vi(mu(r,e))}const lP=Object.freeze(Object.defineProperty({__proto__:null,pack:mu,keccak256:s6,sha256:a6},Symbol.toStringTag,{value:"Module"})),uP="units/5.7.0",f6=new j(uP),c6=["wei","kwei","mwei","gwei","szabo","finney","ether"];function l6(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&f6.throwArgumentError("invalid value","value",r);let t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const o=[];for(;t.length;)if(t.length<=3){o.unshift(t);break}else{const s=t.length-3;o.unshift(t.substring(s)),t=t.substring(0,s)}return n+o.join(",")+i}function bu(r,e){if(typeof e=="string"){const t=c6.indexOf(e);t!==-1&&(e=3*t)}return Ql(r,e??18)}function Ng(r,e){if(typeof r!="string"&&f6.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=c6.indexOf(e);t!==-1&&(e=3*t)}return ki(r,e??18)}function u6(r){return bu(r,18)}function d6(r){return Ng(r,18)}const dP=Object.freeze(Object.defineProperty({__proto__:null,commify:l6,formatUnits:bu,parseUnits:Ng,formatEther:u6,parseEther:d6},Symbol.toStringTag,{value:"Module"})),h6=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:ig,defaultAbiCoder:og,Fragment:ni,ConstructorFragment:An,ErrorFragment:Ii,EventFragment:ti,FunctionFragment:En,ParamType:tr,FormatTypes:vt,checkResultErrors:Jp,Logger:j,RLP:gx,_fetchData:Pg,fetchJson:Zs,poll:jo,checkProperties:ru,deepCopy:Or,defineReadOnly:Z,getStatic:dr,resolveProperties:$t,shallowCopy:Rt,arrayify:ue,concat:It,stripZeros:fi,zeroPad:Na,isBytes:Ao,isBytesLike:hf,defaultPath:Fs,HDNode:Zr,SigningKey:Wo,Interface:v0,LogDescription:cg,TransactionDescription:lg,base58:Ls,base64:Dx,hexlify:ge,isHexString:Qe,hexConcat:Cr,hexStripZeros:zp,hexValue:pf,hexZeroPad:Nt,hexDataLength:ui,hexDataSlice:Qt,nameprep:Ox,_toEscapedUtf8String:Cx,toUtf8Bytes:Xt,toUtf8CodePoints:Mc,toUtf8String:So,Utf8ErrorFuncs:eg,formatBytes32String:Bx,parseBytes32String:Ix,dnsEncode:fg,hashMessage:Fc,namehash:Ra,isValidName:jx,id:oo,_TypedDataEncoder:lr,getAddress:Et,getIcapAddress:vx,getContractAddress:Uc,getCreate2Address:yx,isAddress:bx,formatEther:u6,parseEther:d6,formatUnits:bu,parseUnits:Ng,commify:l6,computeHmac:Ya,keccak256:Mt,ripemd160:yg,sha256:Vi,sha512:E8,randomBytes:Es,shuffled:Eg,solidityPack:mu,solidityKeccak256:s6,soliditySha256:a6,splitSignature:rs,joinSignature:p0,accessListify:_o,parseTransaction:mg,serializeTransaction:A0,get TransactionTypes(){return w0},getJsonWalletAddress:C8,computeAddress:lo,recoverAddress:Ys,computePublicKey:cu,recoverPublicKey:pg,verifyMessage:H8,verifyTypedData:V8,getAccountPath:M8,mnemonicToEntropy:Vc,entropyToMnemonic:jc,isValidMnemonic:_8,mnemonicToSeed:Ag,get SupportedAlgorithm(){return Us},get UnicodeNormalizationForm(){return di},get Utf8ErrorReason(){return Vr},Indexed:Pc},Symbol.toStringTag,{value:"Module"})),Og="ethers/5.7.2",p6=new j(Og),Rg=Object.freeze(Object.defineProperty({__proto__:null,Signer:ko,Wallet:io,VoidSigner:Hc,getDefaultProvider:Ig,providers:i6,BaseContract:bg,Contract:S0,ContractFactory:A8,BigNumber:de,FixedNumber:or,constants:Mx,get errors(){return Xr},logger:p6,utils:h6,wordlists:k0,version:Og,Wordlist:Xs},Symbol.toStringTag,{value:"Module"}));try{const r=window;r._ethers==null&&(r._ethers=Rg)}catch{}const hP=Object.freeze(Object.defineProperty({__proto__:null,ethers:Rg,Signer:ko,Wallet:io,VoidSigner:Hc,getDefaultProvider:Ig,providers:i6,BaseContract:bg,Contract:S0,ContractFactory:A8,BigNumber:de,FixedNumber:or,constants:Mx,get errors(){return Xr},logger:p6,utils:h6,wordlists:k0,version:Og,Wordlist:Xs},Symbol.toStringTag,{value:"Module"}));class pP extends tu{constructor(){super(...arguments),this.loadedCount=0,this.numberToLoad=25,this.autoLoadMore=!0}init(){this.viewContainer.addEventListener("click",e=>{e.target.classList.contains("mobileToggle-tn")?this.tokenToggleSelection():e.target.classList.contains("load-more-btn-tn")&&this.loadMoreTokens()})}render(){if(this.loadedCount=0,this.viewContainer.innerHTML=this.getTokenListItems(),this.renderIcons(),this.autoLoadMore){let e=this.viewContainer.querySelector(".load-more-tn");e&&(this.interceptObs||(this.interceptObs=new IntersectionObserver(t=>{t[0].isIntersecting&&this.loadMoreTokens()},{root:this.viewContainer.querySelector(".view-content-tn")})),this.interceptObs.observe(e))}}getTokenListItems(){let e="",t=Math.min(this.loadedCount+this.numberToLoad,this.params.data.tokens.length);for(let n=this.loadedCount;n<t;n++)e+=this.createTokenMarkup(this.params.data.tokens[n]);return this.loadedCount=t,this.loadedCount<this.params.data.tokens.length&&(e+=this.createLoadMoreMarkup()),e}loadMoreTokens(){let e=this.viewContainer.getElementsByClassName("load-more-tn")[0];this.interceptObs&&this.interceptObs.unobserve(e),e.insertAdjacentHTML("afterend",this.getTokenListItems()),e.remove(),this.renderIcons(),this.interceptObs&&(e=this.viewContainer.querySelector(".load-more-tn"),e&&this.interceptObs.observe(e))}renderIcons(){for(let e of this.viewContainer.getElementsByClassName("img-container-tn")){if(e.querySelector("img"))continue;let t={src:e.getAttribute("data-image-src"),title:e.getAttribute("data-token-title")};new rx(e,t).render()}}tokenToggleSelection(){let e=this.client.getTokenStore().getSelectedTokens();this.viewContainer.querySelectorAll(".mobileToggle-tn").forEach((t,n)=>{if(n===0&&(e[t.dataset.key]={},e[t.dataset.key].tokens=[]),t.checked===!0){let i=JSON.parse(t.dataset.token);e[t.dataset.key].tokens.push(i)}}),ke(2,"Tokens selected:"),ke(2,e),this.client.updateSelectedTokens(e)}createLoadMoreMarkup(){return`
            <li class='load-more-tn'>
                <button class="load-more-btn-tn btn-tn">Load More</button>
            </li>
        `}createTokenMarkup(e){const{tokenIssuerKey:t,title:n,data:i,index:o,image:s,toggleState:a,hideToggle:c,balance:d,fungible:l,decimals:p,symbol:k}=e;let _,T;if(!l)_=o,T="#"+(o.length>15?o.substring(0,5)+"..."+o.substring(o.length-5,o.length):o);else{const M=bu(d,p);_=M+" "+k,T=(M.length>15?M.substring(0,12)+"... ":M)+" "+k}const C=a?"checked":"";return`
            <li class='token-tn'>
              <div class="img-container-tn image-tn shimmer-tn" data-image-src="${s??""}" data-token-title="${n}"></div>
              <div class='data-tn'>
                  <p class='token-title-tn'>${n}</p>
                  <p class='detail-tn' title="${_}">
                  	${T}
				  </p>
                </div>`+(c?"":`<div class='toggle-tn'>
                <input ${C} data-key='${t}' data-token='${JSON.stringify(i)}'
				data-index='${o}' type='checkbox' name='toggle${o}' class='mobileToggle-tn toggle-tn' id='toggle${o}'>
                <label for='toggle${o}'></label>
              </div>`)+`</li>
        `}}var ih=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class gP extends tu{init(){this.client.registerUiUpdateCallback(0,()=>{this.issuersLoading()}),this.client.registerUiUpdateCallback(1,()=>{this.ui.dismissLoader(),this.client.cancelTokenAutoload(),this.render()}),this.client.registerUiUpdateCallback(2,()=>{this.client.getTokenStore().hasOnChainTokens()?this.ui.updateUI("wallet",{viewName:"wallet"},{viewTransition:"slide-in-left"}):this.ui.updateUI("start",{viewName:"start"},{viewTransition:"slide-in-left"})})}render(){this.renderContent(),this.afterRender()}renderContent(){if(this.viewContainer.innerHTML=`
            <div class="inner-content-tn issuer-slider-tn">
              <div class="issuer-view-tn scroll-tn">
                <div class="brand-tn"></div>
                <div class="headline-container-tn">
                  <div>
                  	<p class="headline-tn">${this.params.options.issuerHeading}</p>
						<div class="toolbar-tn">
				  			<button class="btn-tn refresh-tn" aria-label="Refresh Tokens">
                  				<svg class="refresh-icon-tn" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 383.748 383.748" style="enable-background:new 0 0 383.748 383.748;" xml:space="preserve"><g><path d="M62.772,95.042C90.904,54.899,137.496,30,187.343,30c83.743,0,151.874,68.13,151.874,151.874h30 C369.217,81.588,287.629,0,187.343,0c-35.038,0-69.061,9.989-98.391,28.888C70.368,40.862,54.245,56.032,41.221,73.593 L2.081,34.641v113.365h113.91L62.772,95.042z"/><path d="M381.667,235.742h-113.91l53.219,52.965c-28.132,40.142-74.724,65.042-124.571,65.042 c-83.744,0-151.874-68.13-151.874-151.874h-30c0,100.286,81.588,181.874,181.874,181.874c35.038,0,69.062-9.989,98.391-28.888 c18.584-11.975,34.707-27.145,47.731-44.706l39.139,38.952V235.742z"/></g></svg>
				  			</button>
							<button class="btn-tn dis-wallet-tn" style="display: none;" aria-label="Disconnect Wallet">
								<?xml version="1.0" encoding="UTF-8" standalone="no"?>
								<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
								<svg width="12px" height="100%" viewBox="0 0 384 384" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
									<g id="Layer1">
										<path d="M194.449,-0.378L194.449,29.622L29.577,29.622C29.577,95.909 30.577,354.191 30.577,354.191L194.449,354.191L194.449,384.191L16.077,384.191C7.517,384.191 0.577,377.251 0.577,368.691L0.577,15.122C0.577,6.562 7.517,-0.378 16.077,-0.378L194.449,-0.378Z"/>
											<g transform="matrix(1.39537,0,0,2.43013,-54.9803,-262.053)">
												<path d="M99.772,200.171L99.772,165.725L228.493,165.725L228.493,133.741L314.191,182.948L228.493,232.156L228.493,200.171L99.772,200.171Z"/>
											</g>
											</g>
									</svg>											
								</button>
						</div>  	
				  </div>
				  ${this.getCustomContent()}
                </div>
				<nav class="token-issuer-nav-tn">
					<ul class="token-issuer-list-container-tn" role="menubar"></ul>
				</nav>
              </div>
              <div class="token-view-tn scroll-tn" style="display: none;">
                <div class="brand-tn"></div>
                <div style="display: flex; align-items: center;">
                  <button aria-label="back to token issuer menu" class="back-to-menu-tn">
                    <svg style="position: relative; top: 1px;" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <g fill="none" fill-rule="evenodd">
                            <path d="m10.2 15.8 7.173 7.56c.55.587 1.453.587 2.01 0a1.554 1.554 0 0 0 0-2.12l-5.158-5.44 5.157-5.44a1.554 1.554 0 0 0 0-2.12 1.367 1.367 0 0 0-2.009 0L10.2 15.8z" fill="#000" fill-rule="nonzero"/>
                        </g>
                    </svg>
                  </button>
                  <p class="headline-tn token-name">Token Name Here</p>
                </div>
                <ul class="token-list-container-tn" role="menubar"></ul>
              </div>
            </div>
        `,this.viewContainer.querySelector(".back-to-menu-tn").addEventListener("click",this.backToIssuers.bind(this)),this.setupWalletButton(),this.viewContainer.querySelector(".refresh-tn").addEventListener("click",()=>{this.client.eventSender("tokens-refreshed",null),this.autoLoadTokens(!0)}),this.issuerListContainer=this.viewContainer.querySelector(".token-issuer-list-container-tn"),this.tokensContainer=this.viewContainer.getElementsByClassName("token-view-tn")[0],!this.issuerListContainer){ke(2,"Element .token-issuer-list-container-tn not found");return}this.populateIssuers();let t=this.tokensContainer.getElementsByClassName("token-list-container-tn")[0];this.tokenListView=new pP(this.client,this.ui,t,Object.assign({},this.params))}afterRender(){this.client.issuersLoaded?this.client.getTokenStore().hasUnloadedTokens()&&this.autoLoadTokens():this.issuersLoading()}getCustomContent(){return""}setupWalletButton(){return ih(this,void 0,void 0,function*(){const e=this.viewContainer.querySelector(".dis-wallet-tn");e.style.display="block",e.addEventListener("click",()=>{this.client.disconnectWallet()})})}issuersLoading(){this.ui.showLoader("<h4>Loading contract data...</h4>")}populateIssuers(){var e;let t="",n=this.client.getTokenStore().getCurrentIssuers();for(let i in n){let o=n[i],s=(e=this.client.getTokenStore().getIssuerTokens(i))!==null&&e!==void 0?e:[],a=o.title?o.title:o.collectionID.replace(/[-,_]+/g," ");t+=this.issuerConnectMarkup(a,o.image,i,s,o)}this.issuerListContainer.innerHTML=t;for(let i of this.issuerListContainer.getElementsByClassName("img-container-tn")){let o={src:i.getAttribute("data-image-src"),title:i.getAttribute("data-token-title")};new rx(i,o).render()}this.issuerListContainer.addEventListener("click",i=>{if(i.target.classList.contains("connect-btn-tn"))this.connectTokenIssuer(i);else if(i.target.classList.contains("tokens-btn-tn")){const o=i.target.parentNode.dataset.issuer;this.navigateToTokensView(o)}})}issuerConnectMarkup(e,t,n,i,o){let s="";return i?.length&&(s=o?.fungible?"Balance found":`${i.length} token${i.length>1?"s":""} available`),`
            <li class="issuer-connect-banner-tn" data-issuer="${n}" role="menuitem">
              <div tabindex="0" style="display: flex; align-items: center;">
                <div class="img-container-tn issuer-icon-tn shimmer-tn" data-image-src="${t??""}" data-token-title="${e}"></div>
                <p class="issuer-connect-title">${e}</p>
              </div>
              <button aria-label="connect with the token issuer ${n}" aria-haspopup="true" aria-expanded="false" aria-controls="token-list-container-tn" 
					class="connect-btn-tn"
					style="${i?.length?"display: none;":""}"
					data-issuer="${n}"
					${this.client.issuersLoaded===!0?"":"disabled"}
				>
				${this.client.issuersLoaded===!0?"Load":'<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>'}
			  </button>
              <button aria-label="tokens available from token issuer ${n}" 
										  aria-haspopup="true"
											aria-expanded="false" aria-controls="token-list-container-tn" 
              				class="tokens-btn-tn" style="${i?.length?"display: block;":""}" 
											data-issuer="${n}">
					${s}
			  </button>
            </li>
        `}backToIssuers(){this.tokensContainer.style.display="none",this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")}autoLoadTokens(e=!1){return ih(this,void 0,void 0,function*(){yield this.client.tokenAutoLoad(this.issuerLoading.bind(this),(t,n)=>{if(!n?.length){const i=this.issuerListContainer.querySelector(`[data-issuer*="${t}"] .connect-btn-tn`);i&&(i.innerText="Load");return}this.issuerConnected(t,n,!1)},e)})}connectTokenIssuer(e){return ih(this,void 0,void 0,function*(){const n=e.target.dataset.issuer;let i=[];this.ui.showLoader("<h4>Loading tokens...</h4>");try{if(i=yield this.client.connectTokenIssuer(n),!i)return}catch(o){ke(2,o),this.ui.showError(o),this.client.eventSender("error",{issuer:n,error:o});return}if(this.ui.dismissLoader(),!i?.length){this.ui.showError(`No tokens found! ${this.client.getNoTokenMsg(n)}`);return}this.issuerConnected(n,i)})}issuerLoading(e){const t=this.issuerListContainer.querySelector(`[data-issuer*="${e}"] .tokens-btn-tn`);t&&(t.style.display="none");const n=this.issuerListContainer.querySelector(`[data-issuer*="${e}"] .connect-btn-tn`);n&&(n.innerHTML='<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>',n.style.display="block")}issuerConnected(e,t,n=!0){const i=this.issuerListContainer.querySelector(`[data-issuer*="${e}"] .connect-btn-tn`),o=this.issuerListContainer.querySelector(`[data-issuer*="${e}"] .tokens-btn-tn`);(!i||!o)&&ke(2,"Could not find button handler"),i.style.display="none",i.setAttribute("tabIndex",-1),o.style.display="block";let s=this.client.getTokenStore().getCurrentIssuers();o.innerHTML=t.length&&s[e].fungible?"Balance found":`${t.length} token${t.length>1?"s":""} available`,o.setAttribute("aria-label",`Navigate to select from ${t.length} of your ${e} tokens`),o.setAttribute("tabIndex",1),n&&setTimeout(()=>{this.navigateToTokensView(e)},250)}navigateToTokensView(e){this.updateTokensView(e),this.showTokenView(e)}updateTokensView(e){var t,n;this.tokensContainer.style.display="block",this.tokensContainer.scrollTo(0,0);const i=this.client.getTokenStore(),o=i.getCurrentIssuers()[e],s=(t=i.getIssuerTokens(e))!==null&&t!==void 0?t:[];o.title&&(this.viewContainer.getElementsByClassName("headline-tn token-name")[0].innerHTML=o.title);let a=[];s?.map((c,d)=>{var l,p,k,_,T;let C=!1;if((l=i.getSelectedTokens()[e])===null||l===void 0||l.tokens.map(M=>{JSON.stringify(c)===JSON.stringify(M)&&(C=!0)}),o.onChain===!1){const{title:M,image:P}=o;a.push({data:c,tokenIssuerKey:e,index:(k=(p=c.tiketIdNumber)!==null&&p!==void 0?p:c.ticketIdNumber)!==null&&k!==void 0?k:d,title:M,image:P,toggleState:C,hideToggle:o?.hideToggle})}else{const M=(_=c.tokenId)!==null&&_!==void 0?_:d.toString();a.push({data:c,tokenIssuerKey:e,index:M,title:c.title,image:(T=c.image)!==null&&T!==void 0?T:o.image,fungible:o.fungible,decimals:o.decimals,symbol:o.symbol,balance:c.balance,toggleState:C,hideToggle:o?.hideToggle})}}),(n=this.tokenListView)===null||n===void 0||n.update({data:{issuer:e,tokens:a}})}showTokenView(e){this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")}}var Qr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})},rr;(function(r){r.MetaMask="MetaMask",r.WalletConnect="WalletConnect",r.WalletConnectV2="WalletConnectV2",r.Torus="Torus",r.Phantom="Phantom",r.Flow="Flow",r.SafeConnect="SafeConnect"})(rr||(rr={}));class Go{constructor(e,t,n){this.client=e,this.walletOptions=t,this.safeConnectOptions=n,this.connections={}}saveConnections(){let e={};for(let t in this.connections){let n=this.connections[t];e[t]={address:n.address,chainId:n.chainId,providerType:n.providerType,blockchain:n.blockchain}}localStorage.setItem(Go.LOCAL_STORAGE_KEY,JSON.stringify(e))}emitSavedConnection(e){return Object.keys(this.connections).length&&e?(this.client.eventSender("connected-wallet",this.connections[e.toLocaleLowerCase()]),this.connections[e.toLocaleLowerCase()]):null}emitNetworkChange(e){if(e)return this.client.eventSender("network-change",e),e}deleteConnections(){var e;return Qr(this,void 0,void 0,function*(){this.connections={};let t=localStorage.getItem(Go.LOCAL_STORAGE_KEY);if(t){let n=JSON.parse(t);if(n)for(let i in n)switch(n[i].providerType){case"WalletConnect":{let a=yield(yield _i(()=>import("./WalletConnectProvider.caa1d99c.js"),["assets/WalletConnectProvider.caa1d99c.js","assets/WalletConnectV2Provider.66e7689e.js"])).getWalletConnectProviderInstance(!0);!((e=a?.wc)===null||e===void 0)&&e._connected&&a.disconnect().then(()=>{}).catch(c=>{console.error(c),localStorage.removeItem("walletconnect")})}break;case"WalletConnectV2":{let a=yield(yield _i(()=>import("./WalletConnectV2Provider.66e7689e.js"),[])).getWalletConnectV2ProviderInstance();a.session&&a.disconnect().then(()=>{}).catch(c=>{console.error(c),localStorage.removeItem("wc@2:client:0.3//session")})}break}}localStorage.removeItem(Go.LOCAL_STORAGE_KEY),sessionStorage.removeItem("CURRENT_USER")})}loadConnections(){return Qr(this,void 0,void 0,function*(){let e=localStorage.getItem(Go.LOCAL_STORAGE_KEY);if(!e)return;let t=JSON.parse(e);if(!!t)for(let n in t){let i=t[n];try{yield this.connectWith(i.providerType,!0)}catch(o){console.log("Wallet couldn't connect: "+o.message),delete t[n],this.saveConnections(),this.emitSavedConnection(n)}}})}connectWith(e,t=!1){return Qr(this,void 0,void 0,function*(){if(!e)throw new Error("Please provide a Wallet type to connect with.");if(!this[e])throw new Error("Wallet type not found");let n=yield this[e](t);if(!n)throw new Error("Wallet didn't connect");return this.saveConnections(),this.emitSavedConnection(n),n})}signMessage(e,t){return Qr(this,void 0,void 0,function*(){return yield this.getWalletProvider(e).getSigner(e).signMessage(t)})}getWalletProvider(e){var t;if(e=e.toLowerCase(),!(!((t=this.connections[e])===null||t===void 0)&&t.provider))throw new Error("Wallet provider not found for address");return this.connections[e].provider}getConnectedWalletData(){return Object.values(this.connections)}registerNewWalletAddress(e,t,n,i,o="evm"){return this.connections[e.toLowerCase()]={address:e,chainId:t,providerType:n,provider:i,blockchain:o,ethers:Rg},e}registerProvider(e,t){return Qr(this,void 0,void 0,function*(){const n=yield e.listAccounts(),i=(yield e.detectNetwork()).chainId;if(n.length===0)throw new Error("No accounts found via wallet-connect.");let o=n[0];return this.registerNewWalletAddress(o,i,t,e),e.provider.on("accountsChanged",s=>{if(!s||s.length===0){this.client.disconnectWallet();return}o!==s[0]&&(delete this.connections[o.toLowerCase()],o=s[0],this.registerNewWalletAddress(o,i,t,e),this.saveConnections(),this.emitSavedConnection(o),this.client.getTokenStore().clearCachedTokens(),this.client.enrichTokenLookupDataOnChainTokens())}),e.provider.on("chainChanged",s=>{this.registerNewWalletAddress(n[0],s,t,e),this.saveConnections(),this.emitNetworkChange(s)}),e.provider.on("disconnect",s=>{s?.message&&s.message.indexOf("MetaMask: Disconnected from chain")>-1||this.client.disconnectWallet()}),n[0]})}MetaMask(e){return Qr(this,void 0,void 0,function*(){if(ke(2,"connect MetaMask"),typeof window.ethereum<"u"){yield window.ethereum.enable();const t=new ka(window.ethereum,"any");return this.registerProvider(t,"MetaMask")}else throw new Error("MetaMask is not available. Please check the extension is supported and active.")})}WalletConnect(e){return Qr(this,void 0,void 0,function*(){ke(2,"connect Wallet Connect");const n=yield(yield _i(()=>import("./WalletConnectProvider.caa1d99c.js"),["assets/WalletConnectProvider.caa1d99c.js","assets/WalletConnectV2Provider.66e7689e.js"])).getWalletConnectProviderInstance(e);return new Promise((i,o)=>{e&&n.connector.on("display_uri",(s,a)=>{o(new Error("Connection expired"))}),n.enable().then(()=>{const s=new ka(n,"any");i(this.registerProvider(s,"WalletConnect"))}).catch(s=>o(s))})})}WalletConnectV2(e){return Qr(this,void 0,void 0,function*(){ke(2,"connect Wallet Connect V2");const t=yield _i(()=>import("./WalletConnectV2Provider.66e7689e.js"),[]),n=yield t.getWalletConnectV2ProviderInstance();let i;n.on("display_uri",s=>Qr(this,void 0,void 0,function*(){console.log("EVENT","QR Code Modal open"),i=(yield _i(()=>import("./index.998d1476.js").then(a=>a.i),[])).default,i.open(s,()=>{this.client.getUi().showError("User closed modal")})})),n.on("session_delete",({id:s,topic:a})=>{console.log("WC V2 EVENT","session_deleted"),this.client.disconnectWallet()});let o=this.walletOptions;return new Promise((s,a)=>{var c,d,l,p;if(e&&!n.session)a("Not connected");else{let k;n.session?k=n.enable():k=n.connect({namespaces:{eip155:{methods:["eth_sendTransaction","eth_signTransaction","eth_sign","personal_sign","eth_signTypedData"],chains:(d=(c=o?.walletConnectV2)===null||c===void 0?void 0:c.chains)!==null&&d!==void 0?d:t.WC_V2_DEFAULT_CHAINS,events:["chainChanged","accountsChanged"],rpcMap:(p=(l=o?.walletConnectV2)===null||l===void 0?void 0:l.rpcMap)!==null&&p!==void 0?p:t.WC_DEFAULT_RPC_MAP}}}),k.then(()=>{ke(2,"WC2 connected....."),i?.close();const _=new ka(n,"any");s(this.registerProvider(_,"WalletConnectV2"))}).catch(_=>{ke(2,"WC2 connect error...",_),i?.close(),a(_)})}})})}Torus(e){return Qr(this,void 0,void 0,function*(){const n=yield(yield _i(()=>import("./TorusProvider.856868c7.js"),[])).getTorusProviderInstance();yield n.init(),yield n.login();const i=new ka(n.provider,"any");return this.registerProvider(i,"Torus")})}Phantom(e){return Qr(this,void 0,void 0,function*(){if(ke(2,"connect Phantom"),typeof window.solana<"u"){const n=(yield window.solana.connect()).publicKey.toBase58();return this.registerNewWalletAddress(n,"mainnet-beta","phantom",window.solana,"solana")}else throw new Error("Phantom is not available. Please check the extension is supported and active.")})}SafeConnect(e){return Qr(this,void 0,void 0,function*(){ke(2,"connect SafeConnect");const t=yield this.getSafeConnectProvider(),n=yield t.initSafeConnect();return this.registerNewWalletAddress(n,1,"SafeConnect",t),n})}Flow(e){return Qr(this,void 0,void 0,function*(){const n=(yield _i(()=>import("./FlowProvider.fd0fa771.js"),[])).getFlowProvider();yield n.currentUser.authenticate();let i=yield n.currentUser.snapshot();if(!i.addr)throw new Error("Failed to connect Flow wallet");return this.registerNewWalletAddress(i.addr,1,"flow",n),i.addr})}safeConnectAvailable(){return this.safeConnectOptions!==void 0}getSafeConnectProvider(){return Qr(this,void 0,void 0,function*(){const{SafeConnectProvider:e}=yield _i(()=>Promise.resolve().then(()=>CR),void 0);return new e(this.client.getUi(),this.safeConnectOptions)})}}Go.LOCAL_STORAGE_KEY="tn-wallet-connections";const mP=Object.freeze(Object.defineProperty({__proto__:null,get SupportedWalletProviders(){return rr},Web3WalletProvider:Go,default:Go},Symbol.toStringTag,{value:"Module"})),bP='<svg width="62px" height="62px" viewBox="-30 -20 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Phantom logo</title><path d="M57.137,22.8c23.339,0.075 42.264,18.847 42.563,42.1l10.1,0c3.8,0 6.8,3 6.8,6.8c0,19.661 -32.669,36.532 -54.77,36.6l-0.13,0c-23.6,0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2l0.137,0Z" style="fill:url(#_Linear1);fill-rule:nonzero;"/><path d="M64,0c35.323,0 64,28.677 64,64c0,35.323 -28.677,64 -64,64c-35.323,0 -64,-28.677 -64,-64c0,-35.323 28.677,-64 64,-64Zm-7,22.8l1.366,0.021l1.23,0.057l0.528,0.035c14.242,1.029 26.545,9.033 33.507,20.608l0.521,0.891l0.499,0.902l0.478,0.915l0.455,0.928l0.434,0.939l0.411,0.952l0.388,0.963l0.365,0.974l0.342,0.985l0.394,1.246l0.332,1.166l0.282,1.114l0.265,1.179l0.224,1.148l0.198,1.19l0.147,1.053l0.12,1.062l0.095,1.068l0.067,1.077l0.042,1.083l0.01,0.544c0,0 10.1,0 10.1,0c3.8,0 6.8,3 6.8,6.8l-0.018,0.788l-0.054,0.818l-0.089,0.79l-0.125,0.802l-0.184,0.903l-0.226,0.897l-0.27,0.891l-0.31,0.885l-0.351,0.879l-0.391,0.872l-0.429,0.865l-0.51,0.933l-0.504,0.844l-0.538,0.836l-0.572,0.828l-0.605,0.818l-0.636,0.809l-0.667,0.799l-0.697,0.79l-0.726,0.779l-0.754,0.769l-0.78,0.758l-0.806,0.747l-0.831,0.736c-2.552,2.209 -5.436,4.262 -8.532,6.119l-0.553,0.328l-0.517,0.301l-0.521,0.298l-0.525,0.294l-0.527,0.29l-0.532,0.287c-6.807,3.636 -14.382,6.343 -21.59,7.752l-1.154,0.215l-0.862,0.146c-1.959,0.32 -3.883,0.539 -5.747,0.65l-1.464,0.065l-1.173,0.019l-0.13,-0c-23.6,-0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2Zm-17.3,34.1l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Zm19.7,-0l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Z" style="fill:url(#_Linear2);"/><defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(5.23303e-15,85.4619,-85.4619,5.23303e-15,65.46,22.76)"><stop offset="0" style="stop-color:#fefeff;stop-opacity:1"/><stop offset="1" style="stop-color:#dfd8fc;stop-opacity:1"/></linearGradient><linearGradient id="_Linear2" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(7.83774e-15,128,-128,7.83774e-15,64,0)"><stop offset="0" style="stop-color:#534ab1;stop-opacity:1"/><stop offset="1" style="stop-color:#551bf8;stop-opacity:1"/></linearGradient></defs></svg>',vP={imgBig:`
		<svg width="62px" version="1.1" id="Layer_1" xmlns:ev="http://www.w3.org/2001/xml-events"xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 318.6 318.6"style="enable-background:new 0 0 318.6 318.6;" xml:space="preserve"><title>Metamask logo</title><style type="text/css">.st0{fill:#E2761B;stroke:#E2761B;stroke-linecap:round;stroke-linejoin:round;}.st1{fill:#E4761B;stroke:#E4761B;stroke-linecap:round;stroke-linejoin:round;}.st2{fill:#D7C1B3;stroke:#D7C1B3;stroke-linecap:round;stroke-linejoin:round;}.st3{fill:#233447;stroke:#233447;stroke-linecap:round;stroke-linejoin:round;}.st4{fill:#CD6116;stroke:#CD6116;stroke-linecap:round;stroke-linejoin:round;}.st5{fill:#E4751F;stroke:#E4751F;stroke-linecap:round;stroke-linejoin:round;}.st6{fill:#F6851B;stroke:#F6851B;stroke-linecap:round;stroke-linejoin:round;}.st7{fill:#C0AD9E;stroke:#C0AD9E;stroke-linecap:round;stroke-linejoin:round;}.st8{fill:#161616;stroke:#161616;stroke-linecap:round;stroke-linejoin:round;}.st9{fill:#763D16;stroke:#763D16;stroke-linecap:round;stroke-linejoin:round;}</style><polygon class="st0" points="274.1,35.5 174.6,109.4 193,65.8 "/><g><polygon class="st1" points="44.4,35.5 143.1,110.1 125.6,65.8 	"/><polygon class="st1" points="238.3,206.8 211.8,247.4 268.5,263 284.8,207.7 	"/><polygon class="st1" points="33.9,207.7 50.1,263 106.8,247.4 80.3,206.8 	"/><polygon class="st1" points="103.6,138.2 87.8,162.1 144.1,164.6 142.1,104.1 	"/><polygon class="st1" points="214.9,138.2 175.9,103.4 174.6,164.6 230.8,162.1 	"/><polygon class="st1" points="106.8,247.4 140.6,230.9 111.4,208.1 	"/><polygon class="st1" points="177.9,230.9 211.8,247.4 207.1,208.1 	"/></g><g><polygon class="st2" points="211.8,247.4 177.9,230.9 180.6,253 180.3,262.3 	"/><polygon class="st2" points="106.8,247.4 138.3,262.3 138.1,253 140.6,230.9 	"/></g><polygon class="st3" points="138.8,193.5 110.6,185.2 130.5,176.1 "/><polygon class="st3" points="179.7,193.5 188,176.1 208,185.2 "/><g><polygon class="st4" points="106.8,247.4 111.6,206.8 80.3,207.7 	"/><polygon class="st4" points="207,206.8 211.8,247.4 238.3,207.7 	"/><polygon class="st4" points="230.8,162.1 174.6,164.6 179.8,193.5 188.1,176.1 208.1,185.2 	"/><polygon class="st4" points="110.6,185.2 130.6,176.1 138.8,193.5 144.1,164.6 87.8,162.1 	"/></g><g><polygon class="st5" points="87.8,162.1 111.4,208.1 110.6,185.2 	"/><polygon class="st5" points="208.1,185.2 207.1,208.1 230.8,162.1 	"/><polygon class="st5" points="144.1,164.6 138.8,193.5 145.4,227.6 146.9,182.7 	"/><polygon class="st5" points="174.6,164.6 171.9,182.6 173.1,227.6 179.8,193.5 	"/></g><polygon class="st6" points="179.8,193.5 173.1,227.6 177.9,230.9 207.1,208.1 208.1,185.2 "/><polygon class="st6" points="110.6,185.2 111.4,208.1 140.6,230.9 145.4,227.6 138.8,193.5 "/><polygon class="st7" points="180.3,262.3 180.6,253 178.1,250.8 140.4,250.8 138.1,253 138.3,262.3 106.8,247.4 117.8,256.4 140.1,271.9 178.4,271.9 200.8,256.4 211.8,247.4 "/><polygon class="st8" points="177.9,230.9 173.1,227.6 145.4,227.6 140.6,230.9 138.1,253 140.4,250.8 178.1,250.8 180.6,253 "/><g><polygon class="st9" points="278.3,114.2 286.8,73.4 274.1,35.5 177.9,106.9 214.9,138.2 267.2,153.5 278.8,140 273.8,136.4 281.8,129.1 275.6,124.3 283.6,118.2 	"/><polygon class="st9" points="31.8,73.4 40.3,114.2 34.9,118.2 42.9,124.3 36.8,129.1 44.8,136.4 39.8,140 51.3,153.5 103.6,138.2 140.6,106.9 44.4,35.5 	"/></g><polygon class="st6" points="267.2,153.5 214.9,138.2 230.8,162.1 207.1,208.1 238.3,207.7 284.8,207.7 "/><polygon class="st6" points="103.6,138.2 51.3,153.5 33.9,207.7 80.3,207.7 111.4,208.1 87.8,162.1 "/><polygon class="st6" points="174.6,164.6 177.9,106.9 193.1,65.8 125.6,65.8 140.6,106.9 144.1,164.6 145.3,182.8 145.4,227.6 173.1,227.6 173.3,182.8 "/></svg>
	`,label:"MetaMask"},yP='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Wallet connect logo</title><g transform="matrix(1.7268,0,0,1.7268,159.3,155.744)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M55.953,84.792L72.263,100.335C72.263,100.335 84.86,78.281 106.774,78.436C106.774,78.436 126.648,75.152 143.824,101.06L160.354,85.616C160.354,85.616 143.436,59.639 107.409,59.615C107.409,59.615 79.188,56.141 55.953,84.792Z" style="fill:rgb(59,153,252);"/><path d="M42.568,93.225L25.838,109.259L74.827,157.509L107.434,125.302L141.274,157.461L188.677,109.672L172.91,93.916L141.771,126.195L107.369,93.403L74.398,126.501L42.568,93.225Z" style="fill:rgb(59,153,252);"/></g></g></svg>',xP='<svg fill="none" width="62px" height="62px" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><clipPath id="a"><path d="m0 0h400v400h-400z"/></clipPath><g clip-path="url(#a)"><circle cx="200" cy="200" fill="#141414" r="199.5" stroke="#3b4040"/><path d="m122.519 148.965c42.791-41.729 112.171-41.729 154.962 0l5.15 5.022c2.14 2.086 2.14 5.469 0 7.555l-17.617 17.18c-1.07 1.043-2.804 1.043-3.874 0l-7.087-6.911c-29.853-29.111-78.253-29.111-108.106 0l-7.59 7.401c-1.07 1.043-2.804 1.043-3.874 0l-17.617-17.18c-2.14-2.086-2.14-5.469 0-7.555zm191.397 35.529 15.679 15.29c2.14 2.086 2.14 5.469 0 7.555l-70.7 68.944c-2.139 2.087-5.608 2.087-7.748 0l-50.178-48.931c-.535-.522-1.402-.522-1.937 0l-50.178 48.931c-2.139 2.087-5.608 2.087-7.748 0l-70.7015-68.945c-2.1396-2.086-2.1396-5.469 0-7.555l15.6795-15.29c2.1396-2.087 5.6085-2.087 7.7481 0l50.1789 48.932c.535.522 1.402.522 1.937 0l50.177-48.932c2.139-2.087 5.608-2.087 7.748 0l50.179 48.932c.535.522 1.402.522 1.937 0l50.179-48.931c2.139-2.087 5.608-2.087 7.748 0z" fill="#fff"/></g></svg>',wP='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Torus logo</title><g transform="matrix(1.9124,0,0,1.9124,159.3,159.3)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M57.267,51.007L56.757,84.626L85.505,85.297L85.565,164.593L119.635,164.873L119.472,51.399L57.267,51.007Z" style="fill:rgb(57,150,254);"/><g transform="matrix(1.06773,0,0,1.04155,-3.94432,-8.22515)"><circle cx="139.434" cy="73.102" r="16.365" style="fill:rgb(57,150,254);"/></g></g></g></svg>',AP=`
	<svg style="pointer-events: none" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 55 55"><title>Safe connect button</title><path fill="rgb(5, 26, 245)" d="M25.5 26h-5c0-2.9-0.6-5.6-1.7-8.1c-1-2.3-2.4-4.3-4.2-6.1c-1.9-1.9-4.3-3.4-6.8-4.4c-2.3-0.9-4.8-1.4-7.3-1.4v-5h7h18v6.2v5.6v6.2Z" transform="translate(13,28.5) translate(0,0) translate(-13,-13.5)"/><path fill="rgb(5, 26, 245)" d="M53 1v11.9v6.1v7h-12.8h-6.1h-6.1v-13.4v-5.2v-6.4h12.6h5.3Z" transform="translate(41.5,28.7) translate(0,0) translate(-40.5,-13.5)"/></svg>
`,EP=`
	<svg xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="svg32" x="0px" y="0px" viewBox="0 0 256 256" width="62px" height="62px" style="enable-background:new 0 0 256 256;" xml:space="preserve">
		<style type="text/css">
			.flow-st0{fill:#00EF8B;}
			.flow-st1{fill:#FFFFFF;}
			.flow-st2{fill:#16FF99;}
		</style>
		<sodipodi:namedview bordercolor="#666666" borderopacity="1" fit-margin-bottom="0" fit-margin-left="0" fit-margin-right="0" fit-margin-top="0" gridtolerance="10" guidetolerance="10" id="namedview34" inkscape:current-layer="Layer_1-2" inkscape:cx="-165.09584" inkscape:cy="294.4716" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-height="878" inkscape:window-maximized="1" inkscape:window-width="1440" inkscape:window-x="0" inkscape:window-y="0" inkscape:zoom="0.40971549" objecttolerance="10" pagecolor="#ffffff" showgrid="false">
		</sodipodi:namedview>
		<g id="Layer_2_1_">
			<g id="Layer_1-2">
				<g id="g43" transform="scale(2.56)">
					<circle id="circle20" class="flow-st0" cx="50" cy="50" r="50"/>
					<rect id="rect22" x="57.8" y="42.2" class="flow-st1" width="14.1" height="14.1"/>
					<path id="path24" class="flow-st1" d="M43.7,61.6c0,2.9-2.4,5.3-5.3,5.3s-5.3-2.4-5.3-5.3c0-2.9,2.4-5.3,5.3-5.3c0,0,0,0,0,0h5.3V42.2 h-5.3C27.7,42.2,19,50.9,19,61.6S27.7,81,38.4,81s19.4-8.7,19.4-19.4l0,0v-5.3H43.7V61.6z"/>
					<path id="path26" class="flow-st1" d="M63.1,35.1H79V21H63.1c-10.7,0-19.4,8.7-19.4,19.4v1.8h14.1v-1.8C57.8,37.5,60.2,35.1,63.1,35.1 z"/>
					<polygon id="polygon28" class="flow-st2" points="57.8,42.2 57.8,42.2 43.7,42.2 43.7,56.3 57.8,56.3"/>
				</g>
			</g>
		</g>
	</svg>
`,SP={imgSmall:`
		<img src='data:image/webp;base64,UklGRmoGAABXRUJQVlA4TF0GAAAvL8ALEAmFbds2kOwC8/+Lc0RE/zPp7qD7G9wl2buwdsdCUdtITp6710v4k70DMQgj0P+Eh9AYiAgdRERgIbA4AESHA3xLCWVp29NW0i+HmpmZmYaZt8y4YlrRjfAdTM12anbMzMzMjIfjSFW2ZOf0FbwujaJOmuRAtm3a1ljPtq3M37Z/aNuKbOW2mdu2bdv2P95Lim1ry96c83yYOURyoqIyhNgOtbaylhlVVyUzfHjd1LYtNZsu85x4oP8mQEI8sFBAhQIWInAAJugRQZWBoXTgtm0k2Zlr1WJ6TbpvEIgAXovL00A2zI/kG/MmTpn3CikQlMAHfzD4kACvRN477fCHffC+xTBtkctBCZ1SaoFRgOMUqjeCu8UnwdMwzrTXQBMhaI1eCAAIAeUvmAiZ9+/J4/AejwsTSmXruehs3vfvpT6v60PwvZ4tMIBIoQWBKBD0Je/SJIwNILCGnGmFE1rhNsy5qSixwApbQq9bDULPLmZBt+uGKIeW1slJy1PReWp2Ifu1VwBxHcuhVVUZcoHM6n8RBEGTgzvlqvxLPyYh+BCKIDApKIKdXPXf6Nv4S30RnIaIgm5sEP2EcKbegU1tpjbTPmXeC+F0deDWKnyBNygRsM9aMAXDKcgp3/UC8Ye9deu2wyis8pOBISFEZEG3p/ZgTgYGr/4ikpUyf1Sw4IDJQPMXHaDRzPJYOgCzitRKggk09i1mdkGBBFEIxaCE6n8Y/acZHbFjHFbULq14AbCyWflnu1Q8iifXYm0bIzaG7Bi1Mexg3IKx5NYy/zXyrywZH+e9xfUKHP/zJh4pimY8KufBri8axtEQ5cy1qyM7l/m5DQG3/V+dfW6lIpFaMMCookEahQk0qxGOGqk5uaLAKkT9fjSKfuxHZ1Ar7SgBt30CQCMaGxvrZns3vx9Sq2ShKW3K6n67+UWFQnc8GBD7/Sz2Ydu4GEd3/gI60Fv7N2O/sa1VA7h0Y0wg46hvVL1atCjxhAU0JQujsk45/P/ywxuMwV0RsZXWdPDaiRj9DaiF64jlq7YpMb48pNO2VKaRbxBE/tvAKWJ8ddDR7Qqv7tzsoDM3MrSUmo1fXwCYW4QO6huju2NalOmfl8AoNCUPDSpLqR+7J60E8NU5bQApEg1NmZcr4N+PUsCAjqMH+6hUP52SQhnPoFHZtdMAyysCJATGCOj4gNTBq8M6CRhMoPcOokyi+Gl9kRhohFFk0BA2SIOYGgtY3RBfXFQNCJrK7oHunc+v4ONzuL+wV0MSBW2rL4oy/XArFDIh6mukKTlUQAQCBGU6axtO7DqgbePhbmoSYBy0Kb0WkURBufjHNK65Nyk7lld3lk9ufL06ahEQQFYFAyKiyKA22DU3Tu83gl9fbzQ4JIrss1GeUqMxdPXVybo6KtPJU0cjYPimVLiAaK/DCMogXjpnBMxOL8fM2g2hJtHDH794cuoQTI0XJZqWXDbMLe1/aEQAID9BRARIqIYotz5tCQBmJJeL5h744x3arqbGaU4mKPfOPoNRpFUqQlg2FEMoEMlh6mHXhN3S0hbde2Fxqwk6/6EV7udlFHZ+iwyh04e2ulcShjl9lAINNCrIG05+UwLjaQpYXNTqWvUUpSh4D5X73e3Dgn5GYSSC7tS2MfwGXiu8Rh6wYHRSrgLEOPpq9een37rRNzc2DzWP8UeoRQpEIKjoAXLoM5igf1m8se+D1NnUI1WiX1/E4/N3b8wvDaQiVVExACxoNAqzgShUGGbQemzse2ctvXRkJywrk6vhH/jy+u6VBfj5QGMaaEaFhMlhYEEDAAsqkEMlaEpJVW1Coa2jv1peazUrU40IaR8jv/D7Y30xvzGEWqAJalHwVmdEVLQ7GFCQci2IQl68ooFBQghKQK8G6iCJRJ6wqyxy4gJDlOU5USiBD07qDQeD92FgR0E+jAUtxoJVInAj+DwGlG09NboJKIa9wz74wuAA7m0FNOinhXo0pCx7KIVdtIOidmzksF/Ecfcjr4IQlMJYuFeW7xpH6EmZKvVb3C4GAKXvqXBcumtwJMcvgVEJlSDYi/AIThuBCD7kTkrFXoMtHT77Bd4wARvYW7Bq0X/2cLYVuFh/LrZx0wohCkGThnm7juC82X9QYMWygfwIbpXLuOjrdFNhFyKRGCOAi+r00zo97I8wF+UR5uKVUwAA'/>
	`,imgBig:`
		<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC8VBMVEUAAAAPjcELiL8JlMABabAIlMAeos4Hjb0BarAIkL4CabECarEKmsIIj74JmcIBabACarEQvc8JlMAKl8EJkcAKlMAIiL4Tu88HjL0QvtAJl8EKncMRvtADarEDarIZxNIIlsAQvc8KmsIIj74Qvc8IkL8Qv9AKlMESv9AKlsISwdINl8IVm8oBaLAQvs8BabAQvs4Qvc8KmcIIjr0RvtABabAQvs8Sv9ADa7IBa7EKncMQv88PvM8Qv9AJlMALm8MIlMARv9ASvtAKlMESv9H///8JlsAFgLgHi7wIk78Km8IEerYHjr0NrckLpcYHjb0GhboKnsMIkb4Lo8UHirwLocQDdbQMqccEfrcJmMEJmcEMqsgKnMIIkL4EfLcIlL8GiLsGh7sEfbcKoMQMqMcCb7IGibsDdrUFgrkDeLUOsssFg7kCc7MLpMUOtcwMrMgPuc0Nr8kHj74Lp8YKncMCcrMLn8QEebUJl8EOtMsOr8oDdLQBarANssoOscoOt8wBa7EPuM0GhLoBbbEGhLkJmsEEebYCbrEPu84IlMANscoDcbMOtcsPvM4CcbIFgbkLpcUKnMMOr8kLncMBaK8Qvc8CbrIBabAQvs8Pus4Pt80FhLn7/f7u+Pv4/P39/v7y+fzc7/aUzeL1+/zq9vrm9Pnj8/i/4O2o1uibz+Tg8ffX7vW53eys2OmHyd9UtNMPj76Ny+GAxt5csdI7pMqz3etks9RNr9AhnsUOh7vT6/PH5fC05O6x2emj1Oag0eWDwtxettQxpcorn8ccl8O64O2j3up5z+DP6PLD4+9Yq9AslsQZi77I6fJ0wdt8wNtdxtpnv9hnutdeutYzttAQlMHO7POL1eR3u9lDr886rs5PqM5DoMrA6PCd1+Z3yN1Dqs0eq8o2ncgklsNoxttuuNdAt9EkpsgVl8IbkcC65u+t4uyU2eZOv9ZDpswYpcczmMUlkMGD0eIsrcwSnsQWm8RvzN5AvdNLtdIfs80TqcjW71yqAAAARXRSTlMAEBZg7LYI3d2dhHHu6eS/nZx+cm1BMBjz6MScYGA9Efvv2tDEi31UQzg0IQz8z8z44s/Er6+LclH39tvYuqmMemtUS3SZNIC7AAA7fUlEQVR42uyaSYtTURCFo6IgiOCMAzjPIiqi4DwRUDAQRKT1QRZx1RA1JEjSkA4uBPOwwdgI0V/rV8O1nk9X2m1HyKlT9XR9qk/VvbmV1cG63Sd33N6/cd+RrVu2XFvOut3lbjfr1rM66Ep5KyFsNuvNhKfNp4DyxEKoxdF60qrVWqBWq32qtaQAiqHTqXVevnzZ6VCB1mfPnkk+e6EFvnhBBl6/fi35+rEETPicvgufH7fbC58X2oRwUYsgXxzki/Pz8/lgQB0Qwv78oD/f77/q96V8fPXqVf8VFXwUDodDyeE3Ke+G7wDljYXgqxaLDxcO771449jlbVeu3jtzsPJ/YP2uHfsvbXkExtmjTLHczTLk51PvdtHf8dYpPVBv1pHf+NTxRBlN0FKq/BQ+nz6J+qG/UuUnqQrT3+V36id1wAukV/Bx0Yuf9mMRXrAAcyry5+3FtrQAOVgU4YHpD5CfnEd+wce+CP9R5CcFNAD5CvmVCegPVX6aAHww/sDh89uuntpTmWbs2bB/63ukJzPUHz8aj7MMIv+ydADaZ2SdfPvWWYfJA9CeNA8Q7b2SbgC1FhXw168GAC29A152aqTJHx1AAhNdKgmkvE6J9KTVcAGCKqlNgPbWBO3FBVN/fpDn8/wT6RNJ8wDA335KV9+rOgD5zjqAVPUDNAGJ+qkDlpag4OK2A9PZBOtP7j+C8oFMiPyQ0iVg2QDegqa0gQ+CsgGkAeBGYAZA2ocOKAP5IUU+Kj8kEkR3CqSo/JAA2gFlMABgu00LWAfkCyDPcQAKIwADGADE15JAC0CbAkQqqr6VoQLxHW+ExRaATIEfFrAkXAJflm5suzdlTXD69iW0LxKM1QasCZYzMQCxgWgC5NcKpQmapVVANI8+KO4BUJpA7L9F1mBA9gBY3ANc/xfFJtCkxhQgrZruZDSBqE9azWUKLOS2B9gqgPTJAKhQhoDDm6CwB4BvNMA3IprA5IeuPqmV9CZAfmj4Mjl/5UxlSnB2+5Hnj4jnJOITQEvGHmDyd0mbBLoJeg/YGED+OlH0AArCq/JRoIhfQ36NFmlLgBfbA0V+jQ5Z9oAXTkL/Fx4g4uskIAKflQsUbwEoBQOgE2wMIH9ODEx8K32mAD2Q5KfQAuYAlKEEZAp8U/m1/OwAvgd8VfmhtwDaQ4kvS9dPnK2sOdZt2If0QOQ39UlHJqFTQNwf+TVlEzSo+vQApXgWgAYf/1ZInwFakN+idBZAd1ItwAJ4ByTRKRLQ4VPAHIAeCPm9ttUFLGwP4B8qP8lZAO0ZBRbIn1ZBNwCo2kPSYPJLxiYYR4FoAlogNsElCQMdACbHDqzt4eD+rWtzc8/nTH9CHMCawDEmdQj4FpCGQLQAMB9oEtED0QIA+T0Mrj9gCMR5kNrRr//5U2MIaPgYiE6IIWDhPlA+DSI/NqAeANQHZAtoI78S+X0LIFMDxEmAT9oCYh0cEjYE1AIAVYdA2QfCApBfCcwGJl8uXD5VWStsOOLqa0H/92oCgAKBq4/y0E2gLufBOhQkC2jCt3EUIH0NSBYAHWoBNWgmYMrD2AOlBaA2gaO4B8ZJEBpKeyCl1ATIj/hhAXzTUQAwBeAAEmAAYw8kmQLJBHwKhAkgvGTJAuJGwI4CMCzABgGQMrl+oLIG2LRza3XOYA4QLaDyS/EW0NOgHwVg5ktA2gXdAeIoYEtAsoBwACnA5NfzACRiE1CY/HYegBQ7CsJoAQoMByChIzogegAPkD0AmvwEFoD2chpA/nywmHsLxCaQ5gDy+yRwH4g5AGIJ0BaglCDyxxpAQX7fBZSTi3c3Vf4tzu3YOtdz9QnX31pAooCxugAh/r8sFaj4rr6EshlTIPQP6aEWEPpDFd+R/ml7gKkPTP+w//D/sACI9MqyAVAI1R/6QYAhoHNAMWAGLCK9sHghFHsA1wFF9f1C6JtPgdC/6P9GIvSHDvT3KQAmex+cq/w7rNu+pTpXnetVUwdQqEAswE3AWFwFgU4BdQJmQBwHrQpLhwGfAvb9zXEwrYLorgxgAkCbgNAGoCTEMgjTGkDxKfBbE2jjAj4F7JvrpXCuISaAC6B/mAD0JvA1AGoTxDpoU8BbAPoUKHaBhrYARH8LhU8BghY4fOKf7YM7t/R6vSrqV4k0ApILYAO2BhRXQeTHBcZ2I6hXgt3M1deS9gDC5SfdAlx8HwQhvi4BpBRg14Hx908LmPLaBaY+XRDiJ+3jUjidBuNKMP7+pcrHRgDwQbAYNwKcBFR11AdW0V5WQd0D/FeBuBEYEqivJwG+yQIoRf2T+KTqD5L8EgATmEykBe5W/gVOX+pVQQ8DQH9oiCnwnoL8sQhk/Nt3wS7sLvudYBZbAMWPAnESgMUmMP2ho0YbUGwL+KTHQQLGLtjxESBfvw+AjrgOLN4JQvQvHQcLp0FOA2kPyEX/nBZId4IsAvNCxE+/D/Uh8F2QKQCLPw0MoeOdu8Bv7wTBB2HhTvBLcRckJrTB+dW/HFq3f64KxAJogN5ceIBk9IAqH8gU43QpSBPEHpDkJ0C4wG/kj09LWIsr4VDe/tER+qXwT0cBSshvLlA8CuABlN/Ib6Utx0E/ChA5HzkMGvQ0mK6ESUMfApUf4ZWgdCn8LfaAsvxavuqNkCOOAnEjYD4w2bbKc2DDFpXfilgA+juiA4j3vgxCkPkymFxgmUqRHuiGBRB+J0Sgv2X0gEbcCbXcBYA3gljAp+IccBcggC8CsQRYUixiE3QLkCiqb2k/C9idMKkXAnYUIHAB2wJA/EAskXbBdCGgH4PPgXeW2gBWSnPAUhvASnSAxGRJJ8He1TwT7t4X4ktAlK+a/AREfFDwf0qcBaBcBc3eB/zh+4A3RQsgdQC4A5D0ADi2anPgzqGqAOHtI8QEwgKKi+Bz098xex+w8u8DtAX8OOjnwYnhRGU1sH6jyR9NwAigaqYhENfCUD1g9j5gdd8HID1ZPAyAm6vwa/GurdVG1REG0GMPDKj88cvQ89n7gH/zPiAuBSeOvSv+A8F2s/9GqE96TScBQqofBWbvA/7l+wCD7YLqBCdW2P5RXhjyu/iMAe2ANAVsGZy9D1iL9wEQ5QmwomMA+2+49oE4CthZkFQHQPfZ+4C1eh8AkJ5c2TGw4RDyW4QPoH0qagE9HwOz9wFr+j7AfMBwYYWuBHZUG0l1qqPnJNLvAmD2PmAa3gfQBX4lcHUl9D/eaIyqjRF//7AKAz3oDiC7wOx9wLS8D/ixCVz5e/03jxoA3Ueqfll/6AeB2fuAaXofkLDtb9/9bGw8HD0cWQtQAN9fV8Hq7H3AtL0P8E3g8l+9FVq3b9R4+BD/H9EDZe0Lq+DsfcA0vg8wHDv4F/offYj8jREF/UsuEC0wex8wre8DvrNvNikRxEAUXsjoajYq4oig4g8KMiiuBQU3gayyb+YOuUUOMDDH9VUlZan0/HSvJqFe/g7wuisv6a9Z86vR9f/CQWx/Solz4D/veTI+YI/5ANLd2F1g4lhIARjwf1EKwIJbkfEB+80HcA4Ymf+dC2R/3gaoobP/KuMD9p8PGHsWuCf/WQiCpQSgs/+8QMYHVMEHjLoPOMnuB9kFkqMQwE8ABsv4gFr4gBF3ggfwPjgVKgAmefN5NT6gHj5gtboc+P3vuhQAdDkKJDRWdt74gJr4gNXL46Dv/9OAAoChJSCVnQD2J/hufEBtfMBsCB8wIe/ReYgWfCWcEm0AxgfUxwe8D+C/yuuPyVHXFJAwQ8YH1MgHPOwcANj+oN7nZZGLQErJ+IAq+YDl45AAoI8AVj0KoBsfUCsfsGMMmAQo+55nUeJufEC9fMBOMeAjdGhkvZQANL0SMj6gZj5ghxhwBveznDqvMj6gaj5guf2/wTcqAOhSAsh+vREwPqByPuBu6xUw25+lIVBkfED1fMDlFgZo2kGBBsnxRI0X4wPq5wNmV5sZgI4VRGS6WB+MD2iBD9jIBjyFbD8GZlEJAcYHtMEHbMqBt533pQboYYAGZHxAI3zAfL3/p75TSRiUBGB8QCt8wOfaBHgefez8b/cxl/JvfEAzfMDNuhx4HGG+RyMFHj/fBIwPaIgPWHMf+DyNPpL7NMT+chw0PqAlPuDmuR8DjUiAGFGSgGZB4wPa4gO+ev8DmvoYPVrX5a1AD4PGBzTGB8wOe48APqLTJElAHgHjA1rjA/oOAkc+Zvdp+XMWND6gOT7gtecrkCeVXQCrRkHjA77ZtYOcuGIYDMAWVYVYdEFFWyqNhFBLkcqGqggWoC7oxouRsvEB3ioHmNNwXOzYmTxGnCD+/ZJwgD9KHOab0Ads3j8A9Gvh6wmgaxwB8AET+oBHOqj/Gr6Wxd/2wHgOwgdM6QMOgeg/i3/sAXsK+BUAHzCnD7g7/C/wduwA/xMvAfiAOX3A7cV7LaBfAPppG+D/DIAPmNUHbN5KwG3R3KM0e38Pav7wAbP6gDc68EZjLxb9fu78h0H4gGl9wMsNjfpcStmW2AKjEdjBB0zsA37RqGNL36qtOx9a8AET+4DHFQX0A0BnxB8vAfiAqX3AwIFXxWrrn0UfXQB8wNQ+4H5Y0NJrXAI64QPm9gF7HXpUuOgYd0BcBPABc/uAl2/kdW3xczwExgkAHzC7D3gmrxMuUfEW9NzhA2b3Aaf9EVg47oB1KwgfML0PeIoWoEXP7Pnr9PDhA+b3Ad4EfNDwW/zcjwBb4AMS+IBNbwEi/nUbAB+QwAecegvAfgTweA3qhA9I4AOaDT3y8Ef8LX34gBQ+wJqALxa8la49/lLgA1L4AJOBZ55+iRGbAD4ghQ94sB6wcKtio0TBB+TwAdYF/vD0bcaqAz4ghw+w34POPfoRvi7wAUl8wKWCcPYaTwGd8AFZfMAFfWWWyH9cBfABWXzAb7petYD9CIAPSOMDnumMRTgqtgDDB6TxAQ90xb3GKQAfkMYH3NOJsH1Rnj98QBofcEofRaRnHxM+II8PuKO/ImxjdQvAB+TxAT/pWFbx+wIfkMcHPMUGaAtHwQfk8QF/6NM+fInw4QMS+YDvdC69+haAD0jkAy7bBqiefhR8QCIfcEsSNd4C8AGZfABJrVJ9B8QxAB+QyQdQi1+X8RCAD8jkA0jEzgAvtg8+IJUPoKolUsdLAD4glQ+gGkdA7UcAfEAqH7A/AWq/BeADUvkAqhb+Kn+BD0jlA0h8B9hqQxg+IJUPoNrDr3EEwAek8gG0WP5WEhsBPiCVD6BFFkt/9IHwAal8AC1LXaRqiU+BD0jlA0iqXQL+2RD4gFQ+gJZlEbFjoEptAz4glQ+gxcpy748B+IBUPqD1ANWWvgPgA1L5AFpaeQdoK3xALh9A7QZoB4A/B+EDcvkAWrw8fp3wAbl8wCt797LqRBCEAbherl0PimudjQj9Aq6bfgtPLprkoIkgBCGgg+At0YUaNZ7gImoguMiFgGJiXFk9KTPiQnOpmQl0/TOZBzhVVPfkfHQgvHwZbxoD2ALiA/zyAdgAVH76Okh8gF8+ABsgxB5I1gHxAX75AJoA9CqA/xgQH+CXD4DLobuSESA+wC8fACFmU34cAeID/PIB4OqP92YvKD7ALx/gGiApP37EB/jlA6gBki4QH+CXD4DQJdkJXhEf4JcPgPB36CtB8QF++QAIsPTBH9UXH+CXD8AGoNC7gPgAv3wABEEQBtQBbgyID/DLB0BcfvegFhAf4JcPAFf8uPr0MiA+wC8fAAEGR8DmTUB8gF8+AFz54w+NAPEBfvmAzQQIaASID/DLBwCWHpPUX3yAXz4AXPFdQloGxAf45QNgU3z6MkB8gF8+AILfCdeNID7ALx8Af5dffIBfPoCWAHrgR3yAXz4gmQC0FxAfkL0PWC27nWl7Mjhr1ArlSuWkdFIp1OqNl+P29Ouiu1yl6QMg2CSMb/EB2fmAHtZ98vL0RP0n5UY0XSxXqfiAZALQy4D4gCx8wHDWaZ8V1U4p1aPOit0HQEChhOIDUvYBvW5/XFN7ptLh9gEQ2GQAuKf4gBR9QG8xqarD0mf2AWCwA5KEofiAlHxArxMV1OEpLXl9QLIE0BwQH5CCD6Dis2TC6wPAJiMgLr/4AG4f8KV/QzHmlNcHgAkwNukA8QGcPuDnrF1VvCnx+gCwxtrgj4gPYPMBw1FUUfxZsfoAsIHBKxkA4gN4fMDP7vhEpZIVqw8AYwO8zGYZEB/A4QNm7bJKKz1WHwDG2j+3AaH4gIN9QK9/qlLMktUHgDYmsNeN/d0D4gMO8wHDT2cq3cxYfQBYc91iD2wiPuAQH/ClXVRpp8vqA8BatwvA0AAQH7C3D5iPzlQGGbH6ADBGGzcCDDaAu8UH7OkDvvWrKpMsWM8PAKux/BYXAnoREB+wlw+YRSWVUTqs5weANlbjB6tvAoNP8QG7+4AL3YbKLn3W8wNAW4PX+uHKLz5gVx8wX9RVlpmynh8AWmuj4xYI8LKB+IDdfMC8U1XZps16fgDE5dd42evxBBAfsIsPGPbLKutMWM8PABwAeFu8jHXVFx+wvQ8YTosq+0Ss5weAdjE63gXgDDDiA7b1AfN+ReWRiPP8AJoAbhWgISA+YDsfMP9aUPkkYj0/AK7SBKCVwIgP2MYHXPhUVXklYj0/ADStAQZbwK0CR+QD3j9u3X305lWz+erto9bnJ5eOxgdcHJ2q/DJmPT8A9FW8aBuAtzkKH/C01bz14G88X2zcufnm8RH4gB8NlWfGrOcHgMb6m3gfsP6vQO4+4PHbh//6A5efNT9cy9MHfItUvhlznh9AewD3MNptBGy+PuDzzbr6fwoPW+dy8gHzflHlnDHr+QGAK0DcA+vyG5ufDzjfuk1Tf6se+JCHDxhVVe4ZsJ4fAFh+d2FoCuTkA56+rqvd8vzduYx9wJf76ggyYD0/AHTcAdrQRtDk4wPuPdxnstaa3zP0AfOPJXUMGbD+vgBcxQZYN4HRLnn4gNYDtWcKr65l5QPe1dRxZMD6+wJw1YXWALIBGfuAey/UAam/y8QH/KLuTJabiIEwrJfrcsHBruISUxRQlZoDdz8FJ/MAzoJZTeI4BIeYLZAEAhTFlrCGgoQ1hO0AYSlOtOSeyKHQ2D2SjOYfzeSe7mm15G/0r1+EUPTcqb8AJgClAK0F+s0HLFwCS92e988HrI5CMPrg1F9AHMip+OMg9ZUPeF+rgLWGVz3zAd9uQ0C66NRfQOTiAiCfqL7yAQ1Hq6oL8z75gNUjEJIWnfoLiAMkmgJQfeMDrtbBlY4se+MD1p9DWFp06i8gcrkDughg8PvHB+Dr71ATnviA5SEITJ+c+gu0p4Cc7gP7xQdMngS3mv7ugQ/YXITg9Nipv4DIlbEGdCwF+sQHvHa/qXa+5ZwPWBmD8PTVqb8AVoAyzQEq+gf6wwes+dhTH2s55gPu//cffv6l6079BURZ9gCyCFAn0Bc+YKkCPnS45ZIP2HwBQeqHU38BTAA1Begq4J8PKNTAvSgD3PEB60Et/jt0z6m/gMjJEoCKuwD/fEChDt50/r0rPmDlOASqe079BWQC4NAlwD8fUAePmnbEBzTC2vzp1Gen/gIiF5cAygDvfEAdvGrCCR9wvwLB6qdTfwFRlk1AGVcCeMnhmQ8onATPWnbAB6xCwHqwR0vGf48VHyBU+PGhFwJe+QDv8YehljUfMAUh62XbdVJPA1Z8gOoB8Mbol6kG+OQDquBf16z4gNDffxiWXhMoagTxtuIDVA+gUqBMbYBPPuAs9EP37fiANxC0jpPjoF4LWPEBIqdUxoHhx0rgkw9oDvfA+dUnlhoza2szS3dOnxiCNBpt2fABjTDIP6MeabdBelrxAbQMLOuZwB8fcLXr0vrw1Pz28wMW5sYrwNasxfkBK+Gu/4gHiX3G5F8Vfis+gCoA7Qbg7Y8PKNzsNnmv/ev8gNbUYWBqZD71+QGtYPd/NA6gLQdJNnyAoPDHXUDZHx9Qg0TdbBrPD1jiArnTqc8PuAah6zGZzlEXgMOKD9AVgIqANz5gJnnqn0s6P+Ahd/W4kvL8gPsQvK6rVWCn+bwVH0AVQGeBLz5gMrG2jl/tcn4A8/fD6XTnB2yGwv4n6F47/AM6Baz4AKoAOv6++IAqmFW50/38gMYwMFRppTo/4DSEr89kN6vtx634AKGj35YnPqA5kkB0zvRyfsAccDSV5vyAnQF8+tlVD8h3VJcAKz5gewXAyw8fUEggwI42ezs/oMoiA9KcH7AMGdBvCj7FHp9WfIAo6vCrhx8+4AoYNdrs8fyAHazl4NMU5wcEigBt09EBkt4OtOIDMAEoBSgHvPABt4bN9f9Lz/4CM8DQ6RT+AiEioH/rNrmPy0EzgBUfgFPA9gzwwgfMglFnGP4CNzmnB6TwFwjuE4B/aFFXgNiE3ooPECr+WmUffMCtCphUZfgLsPrAkRbbX2ATMqCvcQVA0QRgxQeIdvz1ROCDD7gMJl0ocPwF9h7jgCFsf4F1yIDuRboE0LDiA2QTWOxsBD3wAa+NBaCywPMXmIXeVWP7CzyFDOjdQBRFlAEUeis+QORIRUoBD3xAzQzwMf0FOHPACba/QCZWgS+jAXlJURJY8AE0BeDQcs8HmAvA4Ummv8BVDjjB9he4A+FrSL7/EcWeZMUHtJeB9JByzweYC8Ac219giNEFPuT6C0xA+HqE4acaoPsAGz5A5KgHwJvkmA+YHDUWAL6/wA3oXfNcf4Es7AN9jFCUARR0Oz5AFFEq/LQScM4HmDnAJb6/AOdn4Rmuv8A0hK/HJZUAdKkUsOMDhAp9Rx/gnA+4ZkQACnx/gRr0rgbXXyDUjwG3rwKVOvtAOz4grgDyohLglg/YGAGDqin8BaqcjQCuv8ApCF8PSlGpFKmlIA6SDR8gVOh1ASi65gPugkmvUvgLTHDocKa/wM6APweLNYrRV9Lx32PHB4hi++XXWeCYDzgPBo2l8BdgJcAdZTLSu7/ACoSv21FUkpdKAEoBKz6AmkBUPBE45gNegUlX0vgL1DgVYMt29mBP/gIZ4AHhEyZAXAQGaC1gxweIwaLS1jLAMR9gnrS/pPEXqEPvmtuhhC2AfHT3F8gCD/ZGRR8fJdoPwGHHB2ACDOrwoxzzAUaIY3gyjb/ADd4qIDYdlUuBrnxA+ES47AFVE6hECWDHB9AUoB7qKrrlAzbApJtp/AX2csjQNW04iff+rnxA8J+EAAz/zmP48UJRIzBgyQeIoqoAei3glg84AyZNpPEXmAeGWspvcD9NA3gl8wHfIXw9KkW6CShRG2jHBwiMP4n6QKd8QM1MAqXxF3jLeVtU/KkRpBKQxAdk4cfgxXxehR9vvRy04wNkDzBIOaBqgFs+wMxxNtn+AswecCz2HCXX6R1d+ICwTwVo60cpn4+o/ONQsuQD5CoAh84Ap3zABhi1kcZfgMPtT2vHUXIeTuQDMtEDvpPhx0GNgAq/JR8g8P2nDKANIZd8gLkFGErjL7AA3H2gXXLQUiCZD9gd+mfhah8Qp4B8KcKh+wArPoCmgKK8aDfAKR9QM0O7afwF5oChpvIeVqIUMPMBGWkBPmAHkFfhx4tmAls+QFaAOANUBXDKB4yZV4Ep/AUKpzlvi3r31U3an8gHZIEGuZ5XTaC8IxzqsuUDxD5KAJ0C7viAcyNg0jjLX4DEYULr5DsuB8U/kQ+4AOHrHU4AUqVIdwG2fIAYVNJzgEs+4FZCfJj+AurvOGcfkMzn9VpgfxIf8D0DPwUeifJSUSlPfQCOyI4P0BVA3UWUSz7gGRh1meUvQInAeEuHMOqUAno1kMAHNCB8Pc+TZPhpPRBZ8gGUAB3xd8kHPAGjajx/gbYYn4ZVqf7LZ6wkPuAkhK+vGPtDlAK0IRRZ8wFicB9eqCKlgEs+oAZGzTL8BagIcKaASgtDv1UCqB1M4APeB+QLaNQvFX0SFgEpKz6AEmCrBlAj6I4POAFGXWL4C8gCwDxnflZGX0eeZOYDsvBNCP4SlNfvfz6vYm/NB8gpQOUA7QcUXfIBCZDduNlfwMwHTPX8v1rYu4tKgAw/7Qgk8AFZAIL/sHcePU4EQRSeP9cSCAQajDlhCckS4eALIPwH0JyRuAKLSSZYYFhyzhktWYicg8jpwonXxTNtAz3TXpeBRrzpac7wylXV7Q/XnSUoAFgQe0FYPzAfgABgCuBRQIkP4CnQq33h8wUcH7DLBGqzNf+nJtDHB8RxBkALYMUQWGAXnB+UD0AAQOwDJAso8gHvjF97/fMF/HzACxOmxrVKhRFgN3mwvHxAFDSYuQrrl7g2YIFEwIB8AANA3GcSUOQDbuUd0zzzBfL5gL1hHeB92E7BcFqP3cMHxHELtK7GDz82kW0EBucDErEfL3aRIh8wanL0wj9fwM8H7Az7GmgaEkDFBQGbAD8fcNREoFfy8V/S5T/W4HxAMok1AEtKgCIfkItvbPfPF/DzAfM3hlwCV6BpEgGdMsAE4OMDYrgEMK/hPhZfSErAwHyAlAC2ARICinzAYZOjnZ75Avl8wOWAeRETK6JpWKJOB+DlA3bH0AKu/FKrIQJ+0MB8AEoAUwDch7Dr8QGrTI4Oe+YLFPABB0yBzlzrdl92pn8vH7DKRKCX1v4lNR4FnQblA1ACJjEFsBHQ4wMOmRwd8MwXKOADrhX0gevblclMAPblVYA8Pj7gcwy3gOZxDRmgJk0ANywFPgAlgBHAPlCRD8gtrWs88wWK+IDdeW3AyGbrvn1pv7yMAB8fEAMMaEYewH55us8CCnxAMgnq7gIU+YD8m9uHnvkCRXzA8ab/pHS/wl8V7ahTBPD6+IBrEfx/AGMuwHtIigDPg9gV+IBE3JeNh0E9PiC/Xt/wzBco5AMmbx359fF/1fPOfIHJNg24w6DY7+MDokgA5lTJRgBTgOsDBucDmAGwGAKKfEDL5KnlmS8QwAccO/AL+9cf654vgEf6AJcBPHzA7ig6gJGPpVqtEwKuE1DgA5ABWAPovyIf0MznW6Z75guE8AHbDy7vTf5bj/XOF6B4GoB8fMAGE4Pu0H8sMZ9S4AMSuI+HSQBS5ANaJldnPfMFwviA9q5VzbXGam1z25tfzBdwraCkAQ8fcDSGOwCcAUo1hAAWW0H4jqXAB7AJtP6zCijyATtMrlqe+QKhfAC2a8ePH2/75gu40yDk4wOaJgateFArSRPAVhCS60AFPiAR/6FOK6jIBxRc2ix74ZkvUMQHBM4X6FwISB3w8AExoIDQy1KpNKWGLNDpApbYIFDhA5Ie+yFFPqDoin3MM1+ggA8InS/Q3QZ4+IDnDROFXsP7b/azDRD7VfgAlgDZ8EB6fEARxt/wzBfI5wPC5wvg6cSAhw+I4achoeVTSvCfWQBiIKjwATYAnP1YinxAYYN9yzNfIJ8PCJ8v4CLgl3xALAXA3C19E+yfwiYA5uvwAewBrNgH6vEBm02B9koGoIL5gPD5Ap2DgIcPOB7DkDCrp6Wy2C+rJkEAqfABLgNY+2XX4wNumCKNds0XCOcDwucLIAfg9fEBMZCgVo0yE4AtAawBCAINPoABQEkEKPIBxfzOJms+FcwHhM8XYArw8AGXTSQ6VSqV8YjEfdEUHT4gmVQX6+XlrsUHnDWF2ul+VjScDwifLyBpwMMHHI3iDhha/cCaT/FCCO4r8QGJ+/SzEujxAbcDSMfzbr5AOB8QPl8ANcDDB+yO4ZeBRXeZALCs+VNgvzw6fEBvCcCryAecM8U65OYLhPIB4fMF8Pj4gGsxgMDEwcvWerysAewDlPiABBUAy4WAIh+wxwTolpsvEMwHhM8X8PIBUXCgogvW/zIfEf1X4QOYAeouAjT5gOUhuHvbzRcI5APC5wt4+YBtJhpdhP0sALRfvhfQ4gOYAZw0+YDTJkCH3HyBID4gfL6Anw84MmJi0Vraj8duVmK/Fh+QZL3WY+nxAQdMiHa6g0AAHxA+X8DPB2yJ4ztg0QdazxzQCQE1PgDHQHlcHlDkA8J46xXbeRYciA/obQVz+YAjEfm/DGdAPC4EKDU+IJmU0Xm6r8kH3AjMco84X2BAPoApoIgPiMl/c7JM81kInPlKfEAiH37JAZQiH3ArdNL3Hv608O/gA67EU/8tCyj+283dBkB6fEAC72k+pcgHvDeBOrCH9g+fD7gck//mZa/97g81PiCp1zN2AViQKh+wPDwCbAb4DXxADL8H6TRysyr2yyYP74T0+IAky+qZnAQYA6p8QDhx15IqMGw+4FosXwBS+8tQleZ3HQQU+YAkq1vj3UFAlQ9YZYLVkiowXD7g2CYTl25Wq/CfKnHBeUU+IJmHCJAcQPdV+YCdJlzN80gAQ+UDdi03cekEPv5V5gB6L0GgyQckdVsDJANgg1T5gId9cQ/vUAWGxwdUtsV0/BM9/TEBsApo8gFJfR78zzq3Adg1+YC5K00fWnkWETAsPuBYDJOBe3WnasUgEPsZB5p8AEqARAASABsBVT6g1V/Texjpfyh8QGVshYlOT7/bj83dBpZV+QA0gYyAjH2gKh8w1m/VezQUPuBYPN/+O+3vJAAsUaf8q/IByTwI9n/vAnT5gNumT618os8HtLdF+PE3yz5W0ypV7g4BXT4ggftZfR5e+C9JQJUPWNz/P33znC4fULkcxS9A/KS71UV0vyzv98sgTT6AGSBDFagzBJT5gOY4IMixtiIfsCW2sz+18lmaMgWI/diYAvT4ADaBUgPEf9sKKvMBY2YcWvdklhIf8CbG4i86tQjuuxBw/ivzAQncx4MQwI2QjQNlPuCcGZcaowp8wPzRMyZWrfuULlqEVe0KASxYr8sHsATAfOxyGtTmAxpmfDq9c89gfMDxbWtNvLqUpouYAHgS4GWANh+QzJn3TXXbCmLT5gPGP5V/zeZH4+cDtq+PsfP/ruvpIpsAEAHuJMBCoMwHIAAkBGh/lmnzAbfN+DWy49b08fABb7ZG878+PH/xp7AfD+SyAO1X5gNQAiicBGwboM0HgAkYRMvXj7b74gOm3toQc+rnETBFBZAHQcBKUJZXnQ9AAMzp2C93gup8wCEzoFa0Lp8L4wPab8YOxPaN36+05q2Y39sFiv/6fEAC/6kMq15X5wNuGwUtbx2+9SKPD5hwbnTV6ei+7vPoSmq1iMvGAJKAfPz1+QDbA8xhDGT2RkifD9CqxyON5qGx0e2PZnfzAe0X20fHNpxo/CveW51YaDM/V4rlGkF9PiCB+/ah6pk+H3DYKGvF8nWNvfvOnG6sXRkV4Rmo1R+ZANgGVm0YsBDo8wEIAOs/2wDs+nzAe/Nf/eheigzALvB7FUAcUMp8gJQAlwOy+hD4gHjv4/6E9i5NEQELGQJYvBHC0ucDpARAjIDMvvp8wE7zX32Q4OlCuC/iXQDPgpQyH5DMkADgIyGgzgfsieXXuP4GfVi4cObC1IWAFS8F9fkAZgCGAKXPB6AN/K9AXV+6MF26cGaaYkHfU0AVayh8ADLAjBnfjoJYlDYfcD7qe/mv7F1LixNBGOw/NyOZo4fBhIYcRcgxkYG56iEISvDqc32A4gMRnyCiomh84UFxVUREWG+6oODR6i9l2tHFB/p1JzNT3fNl71XzfdWzlUkg8ARgh9bSBAwpAToBnXwABCDw/GvkA64nLf4I76zdOwSEfLJPL6iUDzBbc7dEACiARj7gY9LiT3DBwgHstUN8YAZUj4NK+QAIIM/ZA8QG6uQDluO1/LFx7IPF/LdD+IChJftSAJ18AEcAJOB8gPCvkw94lbT4LQ5+sY7+4V4U8A8r6EWglg+YmUDCsa+QD2hbwJ9hZWIn1jr6IQL6AGK7Wj7AgH4sgEZAKR/wNmnxGzz8BP4BuABUFKcBPhHUyweYrXMTIHWbVj7gWtLilzi2ZieZncAEYLkOYMUI0gqq5QOM0I8LVaCVD/hYx3/c/UfsW53YzArECMIKwgRwECjmA8QDCP1UgFo+YHlezhoFjzI0gAlmALabAk4B4F4OA5r5AJPPHQAKqFfLB6y3jwN/gTuZzbCtKAAF/EthA9DLB8gIkE0foJIPaP8j8Bs8+5RlcABWNo8Ce7HsEFs1H2CEe1k0Amr5gB1LntVWxNG1nRlgs4kV+nkSQOUjQb18gMkFXgaK+YBp0mJD7PuSCaxbsykg9/5euXTzAYb0z12AZj7gVNJiIzzJCIwBOgG6AAwB5XyAN4FsApr5gPutD9wIZzIMAGyA7IN5bDYBxXxAtQNwa+YDnictfsJrod8VSkBOgzwKDLXzASb32Crsq+YDlvbr+nq4Lcx7TKQLiBdEA1DPB5g5+/xQzQe0Q2CjA2Av2wkJyK5YQUA/H0ABeO6V8wHtEKji5FqvJ7xDA3Pg/nddAGcB/XyAGcz5Z1HNB7RDoIqjN3H7Z70e6PdGwOJvekH9fIApc0qAGtDOB6wvyw92hsD+F71ehj2j/ztYQYh8gCnLvKwoQDkf0D4OqvAPZFg7MQf8ScDSDIbIB5icHYDYqp8PWElaCA696EoDQPH9H4X0Z0HyAaYcuAaAi9DPB+DnBFs4/lfBv9DvTECP/HuEyQfABJaDihHUzwes1+EtHv+MI6u9bg+bUwBbegDtgLWB8gEzDyCFEgiQD3jZpoOSI1+6XdJPCezEzjxC5AM4AqouQD8f0D4NEP57WBQB+GcD4AYC5QPMQBSARRmEyQecSJqN/S+6gp5TAU8CUsUMAsHyARgBUEDpu0CYfMCeZn9P4PjNburod1dlCmCR/FD5ADOYtQBIgCIIkw94cDhpLg6vpd0C5FMCNIKcAyKCcPkAjABAJJATYfIB95v71ohnl3H7YwNknz5gZ0YfGDAf4DwANICaY0MEwfIBH5v6TPje56KbFmk3pQY4BrwEQuYDRABYgpxTIFA+4FUz/zV8ISvSwjWAguxjkX+3QX3QfIAB+2wC2DkQLh/wsk5vd/xTnEsLrDSFBNAFqAAUqgAtIGw+wAyAEkDN3QqZD5g27oHQgScpUACp+ABKAPCPhYPmAzgCgJJGIGg+4GLDFHB0FexjAYVrAN4M+ikQOB8wM4Ez+qUBhM0HnG/UFLi65phnD8AfsAEUgG8BgfMBHAFSsHJ8hM0HTBukgAufUwE1UD0J0AoGzweY7/q/K3nofMDLppwFDp6rko+FDeZTfxaIkA8wQv8A4FkgeD7g1ZGkCdh/NiUc8fIhW/hnC4iRDzAjtv9vO3w+4G0Tngk+vJVWUAj9XVS5BFHyAcaxL6AZjJAPWF/SH/f8C6wU/TTFJuYNoHA+kIiTDzCD0QC7FAWwBs8HPKj5C+V9++979nGxcgrEyQeYUQn6PflllHzAjlq/P+burT6Y5yb9vAqMAVFAGisf4EzgSHwAZRAlH1Dn14fsO5f2ZVXhjwJyFoyWDzAjgPyzRMkHbJrW9J+Dh9/0+6Cf67s+ULC42o2XDzCOflwltnAfJx+A634dreDBlffj8bhP1lmFc24sjIGI+QCzezSjf8SDQKR8ANaV00ndcHK130EDGKf9Me5/OgGBVwEQMx9gRgLPf7R8APC8Zs+FX78fdzq4/4X6sbBf4Z87aj7ACWA3JUAVxMoHQAVv65QUPHyp08H93xmLBlIssE8ReBSR8wFmTj4fBsTMB2AM1Oa3RQ6ceQr+wT1EMO7TB2D9gCJ2PgAegD2ghAxQouYDUKf1+N7Y7VsdAhYABfxv2AWi5wMgAE4AoR+Img/Ax3oNvjJw7EZnDqEfRwHxgT9yHz8fYHbtEgWAf3aBqPkAkcLFJW8C+1bedzZv7mymAuACcIH/PhuAfy60APkAMyL/9AJl7HyAKw+W+scFTt2cUY+K3ecYcAtb+CcWIh9gdu3eJSZgN+h3O3o+QEQwPZYsKe6ugnXe/7hoBNkCsIV/+ViMfIDzALvZAwZuBMTPB8j14MRS5kVP3gD1oB9AkcopMHYKSEUBuIAFyQcYNAAsyIAiWIB8gGDLx+Uzg/sfP3XsY7F4oAPwLJAC+FyUfABGAMh3U4BYhHwAdTBdrvfLf+XealqbioLo+3NahQcvSLYP4+KFQHYB/8DjQZFAu3PjBzV+tH60NlYrVWyiVvAj6Eoo2IW0BHQj+g88d+b0zZUKItp6r+fOzO3+nMydSU4XhluncgjA2j8qgquAjAGAkB+OPwAdAPRLA0CA/CD8ASwb43j8gpdWtnLh/yRCjty2DfIlAP3njgfkD8AaiB4gu6AiEH8Au8BkEMfPA5fufRL6JakAhKatg+6HIdAfkj8gKebmCtDvpgARQSj+AKTUb6PwJXAN9CuoAH78UUQINgWcQw3LH5AU2gLqOSAYfwBuxZvlsBeCK2/fp3meogPkSj8lYNzrdVqbQGD+AHSAAhqQDiAtIBx/gG0FX5fC7QKLd1OhH8UkcNIkILetAsH5A5LCkY/o90E9GkFI/gCA97dBkP9AdHnzWZr3emkvJyABawFk358Dw/MHJP3CnVoCZ4PyB8wYJuPgfiG4fm8rBfvuQAIpJSBHmwBbgFwuQ/QHJAUg5HMbDMsf4EtgY/roWDi4+ORh7rgX8tEBUJV/6wHGvCJIf0Di+C8KbAI6CPRD8wcgFPPInVCGgdtvt8A8uEeIBlIQj2QLQLAFIPjTQKD+gOQH+rEJBOcPwPE0MHn3778eXBh9SQWeBvK8d2AM8IfAYP0B+gRokU0gQH+ArwBgZ/Qv/4Xg6vLd1TTLMk8BenET8N8BdgGccP0BiZI/hyPb4NkQ/QEe5uchgo21O0f+FJD9tdUMSAl9AHqoOe7cFFBDZoCQ/QEyA/QLVcEcIkx/gF6E08BkunjUGlgg+6AfmYF3QoeANIcESD8SlQjbHyBPgIpAN8FA/QGkvs5OZ2ay/uTovhx4NPzYy05k2QkkRSDdnwkR6CaYmgiU/dD9ARAA0dd1MFh/ACWA0BtXZ+P16MaxQ8fCg+keiHeRGdKMErBBgC3AHwaD9wckxaywzymwmAvYHyAwHXRmOq4TvJk+OMShcOHF+MuqsI9kRQj7gNSeBqBtwNiPwB+gHcAk0A/ZH2A9AIcvAaJT7ozvHIIILj14ex+cK/VGPgqQSpJ+Obj5qwAlEIU/ICk8YA4owvYHEJRBx+U+vk43r/y9D/6rwfpu84Q7NTI9GVKQyrEnAOF/IRSJPyDBC4AAuAmE7g9Q+uspwKWKoIsz2dkevfzDyfDa4vDp83ZTAPo1gIxFRUDYI4DUTUBFEI0/IPHId9EP3x9ACUiQ/RkqwEW38XVtvPn42u//tPfoycr6/c+gvd1G4vZaQKZB9lEQ9gagWBPI815E/gB2AFNBDP4AEM+LfQAwCQBlt+pOdl9vD5cWb/9qOLh46/HycHvt/l67hQMo/SiUAApBCdSTQIqwDsDoxeUPSHzyXcThDyD/+grwDRD2UVQBZdUty6q8UDU29nZ3PqxP360MBjdHm0vLy0ujm4Phynh7/fWX3b3VVo1mu9VstR35xj/ZP9gFbBe0LdDV2PwBWAPl1H0gFn/AfH13cLgOUARsAhUCImjglA1U4gzrGRdnWnoUbfAvRySAAP8/GwVxHRwFHeLzByTCvKEfjz9At0EIgWMABQD+SxxIAJcTANgHKmNfyUcK/4DRjy5A8lHZAlDIPVPHAG8b7JH7GP0BiXz4Z00FUfkD9gdBgPwjABSngUofgkZ1oayoAYOTAEXgghpASANApRBEBP4sWIuAEuAoEKk/AAIA/R4i8wdQA2wBngaU/rJyYwA0YPDpJ4x+oNly7HtzoE8/NUD6bQyI1x+QnNcZoF4G4vMHsAWYAtwB2AUqNwUAbAD2DmiyBZgK7B2QFAGYCnwh1NtgzP4AfwaQP2P0B6B2RACIrgtQz0Gw5CTQKCGAgxqwFkABgHN5BOQgrAUgjXyP/sj9AegA538YAiL1BwA2CKoISj4EOgheKA8MARo1Wvs9oNnkPiBRY18CYF0vRPz+gGT2/CzotzUwXn8AugA1YF8HVPsJ9tEFUI19WwaQZJ9wvCO1oij7Bl0D/wt/wHd2zdi6YRgGoihcpPBCyTYpkiYrqMAzCm7AJsvmiIMMvWxgAicZHuDwDgL5BQGAHsiPgJfmA2h/HgpyCuBhof2pnAK5C3AbxJtbABW7QAyBbfgAGTbWFJgjPgJeng/AG6sAFU3gAeBJkAGACuU2mDEQR0G5DUJ5L7QTHyBuPwPA6w58gAcA6tN+Pxr+9QR4oKRW/LNEC+SJEApvBaJEC+zGBwj8H3hP78c2fMBP3gvAfT8T/Od+5sB1GaBoP08EUFxb8gFixiFwXglsxQcs88+LAd4MoV6b4JM198GcA9+xCXgT7MsHCNxfEbAGwFze78cHoAnWFIgQiIuB6y7IX0YA7T+PgzbnA8SG2VwJEKvAtnwAJwG3gdT1SyBaAIUqwQeIzXMGuPVjfz7ggecaAPx/7oLF+AAxdgBbYM6v5gNq8QFikJsf22DzAbX4gNUAw6BzG2w+oBYfIGZpP57ZfEAtPoAjgGWsNmg+oBYfIGZqEHcBvM0H1OIDhP7zUxDvaD6gFh8gy3/8pgfAnKP5gFp8gKiFBm8Fmg+oxQeIqsYUmB4DzQfU4gPE7UdhCMzZfEAtPkBUDS8Uq0DzAbX4ANElyxZoPqAWH8AE8Cngms0H1OID5Aj7vUDNB9TiA0RzBrj7zQfU4gNEj2wBvNZ8QC0+QCzs13C/+YBafIC8K+QfAkyB5gNK8QEfctMjhwDUfEApPuAut0PXQ5lq8wGl+IC7vLn7mQHNB/yxa3c7iQRBGIa/ATQEDBB/2EQiMZwYoxsTExN3D9ZN9mzvYO+lDriISup2d+iuYVBB5rjre5nBC+imp4QnlA+YYLh5AtS3+AlAHxDKB6wwXYsPAfkbIfqAUD7gGi9pBqgv3wL0AaF8wAlm9eLnK0cfEMoHLDDKH//tFqAPCOUD3jCWZgfk6ANC+YALvErdWrabgD4glA+4wzytvh8D9UUfEMoHzFGl/wLbLUAfEMoHVMBA6nwIrN/pAyL5gDMAT5Ja+x/6gEg+4BnAzD//zQFAHxDIBywAjCW39jf6gEA+4ALAUjw/CegDAvmAKwC9ZvX9pg8I5AN6qBu+fwDQB8TxARNsmm2PgBR9QBwfsMCmG1Nf+LT09AFxfEAf2BkCfBPQB8TxAd+QGuruI4A+IIwPWCE3ExPdrj19QBgfsEDu1WQn+oAwPuAOuZ6JtYtPHxDGB/TgPamIikcfEMUHPKNpJCrbPUAfEMUHvKFpaWLtAUAfEMQH3GPbUK09AugDYviAFdpGYqrixwB9QAwfcI62B1MT80GAPiCED/j7gJ2mZtocAPQBIXzANXa7UbX6JfUl9AEhfEAfu1U/1NS/EFb6gAA+4GeFd72opqeAiQl9QAAf8Avve7W0AUTrmz4ggA/4gw8NTdU0HQD0AeX7gBU+dmOmfgl9QPE+oI9PDVXzY0CFPqB0HzDB58am6WWi9AGl+4BLfO50YKq2uZU+oHAfMDnFnsaqllff6APK9gEX2NfjwPIWUKEPKNoHnD1ibyNV3wL0AUX7gHPsrxqor7/SBxTsA84qHGhsaQpUM/qAgn3AJQ721EwBSh9QrA94xuGW1owB9AGl+oB/9/iimfoRQB9Qqg9Y4KuqgQ8BRh9Qpg84OAG2NCgPgvQBZfqAPo40tXz80wcU6QOucaz5d58A6AMK9AG3cxxtnNdf6QMK9AG/0aGpWnrRBxTnA07Qpd4gHwH0AaX5gEkPnVqmMcCUPqAsH3B7hY75z4L0AWX5gHN0bqop+oCSfMAJvK5jgBp9QEE+oB0Auo8BSh/wv517WW0QCKAwfMb7BVFyEQkoAZEQEnERAsmmFAqFQlehD9SHKOR1G4vQdbzOyPlf4Wxmho+ZjQ/YrvFU6d/29AFz8QHvOp6owSGP6ANm4gOWeLbmKkAfMAsfUKBFUb08fcAcfICLVp3r2ekD1PcBJtpl1c8B9AHK+4CNhZaJ6rE7fYDiPiAXaJ2oeQh9gNI+YCPQIetxDqAPUNkHmBa6Fd1/6APU9QEuOtW8B9AHqOoDCnSsMWL0AUr6gI8leikt6QNU9AFbHT2VGfQB6vmAYI3e0kL6ANV8gKmhz7ySPkApH7BAz2UGfYA6PiBYo/e0kD5AFR9gahgir6QPUMEH3F4xUHFIHyC/DzjFGK6U/wdI7gMCHYMmojt9gLw+4OYKDF1W0QfI6gPyPcbIN+gDZPQByQojJTyDPkA2HxAsBMbr6Bv0ATL5gGB5xLhZvkMfIIsPsFcWJih16ANk8AG2jqm6nK/0AdP6gOTlDVMm0vBOHzCVD/g86QKTd/Ac+oApfIC9OECSMq/6pg8Y1QfkxR5SpV0ihz5gHB9guzsNMqalkUMfMKwPsF1dzvHRpGV+VBn0Af37gCR3V2u5x/9PxBffi86h4xjGtaQPaOcDvpIksO2T6RarXSwwSL9nIElDxCQT4AAAAABJRU5ErkJggg==
	"></img>
	`,label:"ImToken"},kP={imgBig:`
		<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><defs><style>.cls-1{fill:#3268ff;}.cls-2{fill:#0019ff;}</style></defs><path d="M701.4,492.41c0,31.75-25.64,57.55-57.18,57.55s-57-25.8-57-57.55,25.64-57.55,57-57.55A57.32,57.32,0,0,1,701.4,492.41Z"/><path class="cls-1" d="M770.47,246.59l-20.67,0c-.18,0-.33,0-.49,0h-3.63l-1.93,3.06c-.45.61-.87,1.27-1.3,2-2.33,3.74-5.7,9.11-9.73,15.54L731,270h0C707.75,307,665.52,374.23,662.11,379.64a114.27,114.27,0,0,1,92.36,82.85c1.22-1.91,2.5-3.82,3.68-5.74,2.17-3.62,4.61-7.25,6.92-11,9.46-14.67,99.06-156.55,120.76-191.07h0l5.06-8.06Z"/><path class="cls-2" d="M916.74,737.7c-23,27.54-49,47-82,54.79-45.37,10.72-88.45,5.8-127.2-22.32-28.08-20.44-45.22-49.14-57.75-81-.43-1-.87-2-1.3-3.34-.15-.29-.15-.59-.29-.87-3.15-8.5-8.71-23.87-14.15-40.42l-13.49,13.32v0c-36.13,36-74.8,68.88-118.85,94.53-39.47,23-82.25,38-127.63,43.63-54.59,6.81-108.45,4.63-159.16-20.3-65.11-31.89-101.69-84.21-107-157.28-4.19-56.68,10.8-109.31,36.86-158.74C185.45,382.39,243.49,320.92,317.38,275c46.39-28.85,97.24-44.79,151.82-49.43,42.78-3.62,82.68,4.2,118.4,28.41,30.25,20.58,51.14,49,66.55,81.9,4.16,9,7.9,18.17,12.1,28l2.36,5.45-6.49,10.34c.74.11,1.46.23,2.2.36v0a114.93,114.93,0,0,0-20-1.78,113.77,113.77,0,0,0-77.78,30.62c-7.31-26-15.92-51.35-29.61-74.91-9.64-16.67-21.89-31.31-39.31-40.29-22.76-11.74-46.1-9.57-69.29-2.18-32.85,10.58-58.05,32.47-79.94,58-48.4,56.4-84.84,119.89-105.58,191.66-11.24,38.7-15.28,78.42-7.21,118.57,9.22,45.24,40,72.34,83,72.2a116.8,116.8,0,0,0,43.94-8.41C399.34,709,430,685.08,458.84,658.25c33.88-31.5,62.63-67,89.26-104.38a114.13,114.13,0,0,0,181.32,14.58c7.52,19,15.32,48.14,22.69,70.81v.14c2,6.38,4,12.18,6,17.11,8.36,20.87,17.15,41.47,33.86,57l3.45,3c21.74,18.12,47.82,22.91,75.06,23.78C885.2,741,899.88,739,916.74,737.7Z"/></svg>
	`,label:"AlphaWallet"},_P={imgBig:`
		<?xml version="1.0" encoding="UTF-8"?><svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150"><defs><style>.b{fill:none;}.c{fill:#4360df;fill-rule:evenodd;}</style></defs><path class="b" d="M0,0H150V150H0V0Z"/><path class="c" d="M75.01,11.35C39.32,11.35,10.42,40.28,10.42,76s28.91,64.65,64.59,64.65,64.56-28.93,64.56-64.65S110.67,11.35,75.01,11.35Zm-8.73,92.32c-8.25,.46-16.49-4.31-16.92-12.04-.46-7.61,5.75-12.7,15.98-13.25,9.05-.46,16.41,2.15,25.4,.06-1.09,13.07-11,24.51-24.45,25.23Zm10.89-30.51c-4.86-.57-11.06-.92-16.35,.37,1.18-14.25,11.61-26.72,25.83-27.53,8.71-.46,17.41,4.74,17.87,13.16,.86,13.45-15.72,15.92-27.35,13.99Z"/></svg>
	`,label:"Status Wallet"},MP={imgBig:`
	<svg width="65" height="64" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
	<g clip-path="url(#clip0)">
	<path d="M32.3999 64C50.073 64 64.3999 49.6731 64.3999 32C64.3999 14.3269 50.073 0 32.3999 0C14.7268 0 0.399902 14.3269 0.399902 32C0.399902 49.6731 14.7268 64 32.3999 64Z" fill="#3375BB"/>
	<path d="M32.6267 14C38.9508 19.2816 46.2029 18.9559 48.275 18.9559C47.8217 48.9937 44.3683 43.0373 32.6267 51.46C20.8851 43.0373 17.4533 48.9937 17 18.9559C19.0505 18.9559 26.3026 19.2816 32.6267 14Z" stroke="white" stroke-width="4" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
	</g>
	<defs>
	<clipPath id="clip0">
	<rect width="64" height="64" fill="white" transform="translate(0.399902)"/>
	</clipPath>
	</defs>
	</svg>
	`,label:"Trust Wallet"},PP={imgBig:`
	<svg class="svg-icon" style="width: 64px; height: 64px; vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M511.996 81.86C274.448 81.86 81.86 274.444 81.86 512s192.588 430.144 430.136 430.144c237.566 0 430.15-192.588 430.15-430.144S749.562 81.86 511.996 81.86z" fill="#EDF3FC" /><path d="M511.996 2C230.782 2 2 230.786 2 512s228.782 510 509.996 510C793.214 1022 1022 793.214 1022 512S793.214 2 511.996 2z m0 1003.662C239.792 1005.662 18.338 784.204 18.338 512S239.792 18.338 511.996 18.338c272.208 0 493.666 221.458 493.666 493.662S784.204 1005.662 511.996 1005.662z" fill="#EDF3FC" /><path d="M354.6 290.83a57.74 57.74 0 0 1-41.964-41.96l-0.884-3.526-0.88 3.526a57.754 57.754 0 0 1-41.964 41.96l-3.53 0.888 3.53 0.884a57.748 57.748 0 0 1 41.964 41.96l0.88 3.526 0.884-3.526a57.736 57.736 0 0 1 41.964-41.96l3.53-0.884-3.53-0.888zM736.15 311.786a43.428 43.428 0 0 1-31.586-31.58l-0.662-2.654-0.672 2.654a43.42 43.42 0 0 1-31.582 31.58l-2.646 0.666 2.646 0.662a43.416 43.416 0 0 1 31.582 31.586l0.672 2.646 0.662-2.646a43.428 43.428 0 0 1 31.586-31.586l2.646-0.662-2.646-0.666zM606.77 186.066a68.648 68.648 0 0 1-49.896-49.892l-1.042-4.19-1.062 4.19a68.614 68.614 0 0 1-49.882 49.892l-4.184 1.052 4.184 1.05a68.586 68.586 0 0 1 49.882 49.89l1.062 4.188 1.042-4.188a68.62 68.62 0 0 1 49.896-49.89l4.194-1.05-4.194-1.052z" fill="#5D8EF9" /><path d="M343.612 415.036c0-11.48 1.216-22.676 3.494-33.48h-36.042c-27.372 0-49.622 21.858-50.282 49.058 0.3 2.17 3.184 18.5 23.052 28.882 13.252 6.93 34.736 6.85 44.884 6.85h23.262a161.25 161.25 0 0 1-8.368-51.31zM691.51 381.558h-28.202a162.244 162.244 0 0 1 3.492 33.48 161.3 161.3 0 0 1-8.368 51.314h54.508a50.072 50.072 0 0 1 28.868 9.114v-43.61c0-27.776-22.516-50.298-50.298-50.298z" fill="#6857E5" /><path d="M505.208 253.438c-89.248 0-161.596 72.35-161.596 161.598a161.3 161.3 0 0 0 8.368 51.314h306.454a161.348 161.348 0 0 0 8.368-51.314c-0.002-89.248-72.348-161.598-161.594-161.598z" fill="#5D8EF9" /><path d="M505.208 293.74c-66.992 0-121.302 54.304-121.302 121.296a120.8 120.8 0 0 0 11.386 51.314H615.12a120.794 120.794 0 0 0 11.384-51.314c0-66.992-54.304-121.296-121.296-121.296z" fill="#8AC9F9" /><path d="M505.208 333.488l-49.746 75.89 49.746 36.672 49.742-36.664z" fill="#FFFFFF" /><path d="M505.208 458.548l-49.746-39.182 30.272 46.984h38.944l30.272-46.984z" fill="#FFFFFF" /><path d="M712.942 466.35H328.716c-10.15 0-31.632 0.08-44.884-6.85-21.316-11.14-23.084-29.13-23.084-29.13V762.02c0 27.782 22.526 50.304 50.312 50.304h401.88c27.788 0 50.3-22.522 50.3-50.304V516.642c0.002-27.782-22.512-50.292-50.298-50.292z" fill="#8C7BFD" /><path d="M627.34 585.212c-12.446 0-22.542 10.092-22.542 22.542v62.03c0 12.454 10.098 22.544 22.542 22.544h135.902v-107.116H627.34z" fill="#8AC9F9" /><path d="M648.506 616.402c-12.354 0-22.37 10.012-22.37 22.37 0 12.354 10.016 22.374 22.37 22.374 12.354 0 22.366-10.02 22.366-22.374-0.002-12.358-10.012-22.37-22.366-22.37z" fill="#FFE37B" /></svg>
	`,label:"Embedded Wallet"},g6={imgBig:`	
		<?xml version="1.0" encoding="UTF-8"?>
		<svg width="218px" height="256px" viewBox="0 0 218 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<!-- Generator: Sketch 51.2 (57519) - http://www.bohemiancoding.com/sketch -->
			<title>build-icons/Stable Copy 3</title>
			<desc>Created with Sketch.</desc>
			<defs>
				<linearGradient x1="0%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-1">
					<stop stop-color="#FF5500" offset="0%"></stop>
					<stop stop-color="#FF5500" offset="40.9877232%"></stop>
					<stop stop-color="#FF2000" offset="58.1981215%"></stop>
					<stop stop-color="#FF2000" offset="100%"></stop>
				</linearGradient>
				<linearGradient x1="2.1484375%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-2">
					<stop stop-color="#FF452A" offset="0%"></stop>
					<stop stop-color="#FF2000" offset="100%"></stop>
				</linearGradient>
				<path d="M170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C18.4961088,29.1487047 44.6081088,26.7886026 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 C172.992109,26.7886026 199.104109,29.1487047 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387" id="path-3"></path>
			</defs>
			<g id="starting-collection" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
				<g id="Build-Icons" transform="translate(-70.000000, -350.000000)">
					<g id="build-icons/Stable" transform="translate(50.000000, 350.000000)">
						<g id="Logo" transform="translate(20.114286, 0.000000)">
							<path d="M209.984109,61.2848749 L215.968109,46.5784919 C215.968109,46.5784919 208.352109,38.4082791 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C9.2481088,38.4082791 1.6321088,46.5784919 1.6321088,46.5784919 L7.6161088,61.2848749 L0.0001088,83.0721089 C0.0001088,83.0721089 22.3993088,168.017811 25.0241088,178.391258 C30.1921088,198.81679 33.7281088,206.714662 48.4161088,217.063598 C63.1041088,227.412534 89.7601088,245.387003 94.1121088,248.110407 C98.4641088,250.833811 103.904109,255.472858 108.800109,255.472858 C113.696109,255.472858 119.136109,250.833811 123.488109,248.110407 C127.840109,245.387003 154.496109,227.412534 169.184109,217.063598 C183.872109,206.714662 187.408109,198.81679 192.576109,178.391258 C195.200365,168.017811 217.600109,83.0721089 217.600109,83.0721089 L209.984109,61.2848749 Z" id="Head" fill="url(#linearGradient-1)"></path>
							<path d="M164.016109,41.4040238 C164.016109,41.4040238 192.704493,76.1274281 192.704493,83.5487047 C192.704493,90.9699813 189.095597,92.9286536 185.467117,96.7866281 C181.838637,100.644603 165.991373,117.49376 163.956269,119.657232 C161.921165,121.821249 157.684493,125.101862 160.176557,131.006747 C162.668621,136.911632 166.344973,144.425505 162.256813,152.046679 C158.168109,159.667854 151.164109,164.754628 146.676109,163.913641 C142.188109,163.072109 131.648109,157.557215 127.772109,155.038066 C123.896109,152.518917 111.611501,142.374781 111.611501,138.493386 C111.611501,134.612534 124.310093,127.643888 126.655821,126.0605 C129.002637,124.477658 139.703117,118.349454 139.922349,115.944143 C140.141037,113.538288 140.057805,112.832926 136.899885,106.889369 C133.741965,100.945266 128.054989,93.0136238 129.001549,87.7362111 C129.948109,82.459343 139.119949,79.7152409 145.665357,77.2402111 C152.209677,74.765726 164.811437,70.0918196 166.385229,69.3652153 C167.960109,68.6380664 167.553197,67.945777 162.783949,67.4931472 C158.015789,67.0405174 144.483245,65.2419813 138.382285,66.9446536 C132.281325,68.647326 121.858285,71.2378281 121.013997,72.6115132 C120.169709,73.9851983 119.424973,74.0314962 120.292109,78.7702196 C121.158701,83.508943 125.622765,106.24719 126.055789,110.285998 C126.489357,114.324807 127.336909,116.994832 122.987629,117.990509 C118.637805,118.986186 111.316109,120.715003 108.800109,120.715003 C106.284109,120.715003 98.9618688,118.986186 94.6125888,117.990509 C90.2627648,116.994832 91.1103168,114.324807 91.5438848,110.285998 C91.9774528,106.24719 96.4409728,83.508943 97.3081088,78.7702196 C98.1747008,74.0314962 97.4299648,73.9851983 96.5862208,72.6115132 C95.7419328,71.2378281 85.3183488,68.647326 79.2173888,66.9446536 C73.1164288,65.2419813 59.5844288,67.0405174 54.8157248,67.4931472 C50.0470208,67.945777 49.6401088,68.6380664 51.2144448,69.3652153 C52.7887808,70.0918196 65.3905408,74.765726 71.9348608,77.2402111 C78.4797248,79.7152409 87.6521088,82.459343 88.5986688,87.7362111 C89.5452288,93.0136238 83.8577088,100.945266 80.7003328,106.889369 C77.5424128,112.832926 77.4586368,113.538288 77.6778688,115.944143 C77.8965568,118.349454 88.5975808,124.477658 90.9438528,126.0605 C93.2901248,127.643888 105.988173,134.612534 105.988173,138.493386 C105.988173,142.374781 93.7041088,152.518917 89.8281088,155.038066 C85.9521088,157.557215 75.4121088,163.072109 70.9241088,163.913641 C66.4361088,164.754628 59.4321088,159.667854 55.3434048,152.046679 C51.2552448,144.425505 54.9315968,136.911632 57.4231168,131.006747 C59.9151808,125.101862 55.6790528,121.821249 53.6434048,119.657232 C51.6088448,117.49376 35.7610368,100.644603 32.1325568,96.7866281 C28.5040768,92.9286536 24.8957248,90.9699813 24.8957248,83.5487047 C24.8957248,76.1274281 53.5841088,41.4040238 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 Z M142.509504,174.227935 C144.28512,175.341263 143.202016,177.439918 141.584704,178.584837 C139.966848,179.729757 118.228064,196.584361 116.118432,198.447169 C114.008256,200.310523 110.908,203.387425 108.8,203.387425 C106.692,203.387425 103.5912,200.310523 101.481568,198.447169 C99.371392,196.584361 77.633152,179.729757 76.015296,178.584837 C74.39744,177.439918 73.31488,175.341263 75.090496,174.227935 C76.866656,173.115152 82.422528,170.306233 90.08912,166.333876 C97.754624,162.362063 107.308896,158.985042 108.8,158.985042 C110.291104,158.985042 119.844832,162.362063 127.511424,166.333876 C135.177472,170.306233 140.733344,173.115152 142.509504,174.227935 Z" id="Face" fill="#FFFFFF"></path>
							<mask id="mask-4" fill="white">
								<use xlink:href="#path-3"></use>
							</mask>
							<use id="Top-Head" fill="url(#linearGradient-2)" xlink:href="#path-3"></use>
						</g>
					</g>
				</g>
			</g>
		</svg>
	`,label:"Brave"},TP={imgBig:`
		<img src='data:image/webp;base64,UklGRtQGAABXRUJQVlA4TMgGAAAvP8APENVQwv7/kCP91rZx4s22bdsn27Ztx93h2LZt27Y9VZup6j3trQa9yX/U3ziD2Ol8gx1bjm1ry57s36q4zS0rrye4dk6ZEiqH0m0EVvEzAHeHyt1VgiRJctskbmCBboT8/5eekCoKAAFGtr1Fs5pxy/gFJ3+C2uqybXR7Szz7ku27NwHWv9dCgzAibAtXwmvhjfDWlbSgKDvX7XBCqjAjwKcohXpojTZoi7ykiLTYIkCYSXYoYRQfoRdmYA6Xh2ONAwn3T8YA0EB36hKHEZ4/Cho8P8xBhMXrQMMXuxxCqMBYGLcMmY4g3AsCTdyQ6ABCHqYhNJMwES6Xa2VoIiHkmyQ0CV8ADIHeSPjgFOBvC5ak67kBLBOaTViFeliZHgAMguZP4A00xmBMgMvlcs2NypyHLZq+QDGMwso0pBon/EhjV0wFffEoSD6CvTAMDPWmbatI3osQ0BnHNOGbYUIqIsciyUU3SA/sCs7xLognMRB0JS2bDAjxRgmV4BBEkP0gYBGGYs7yUUT0BhmRTAjlRgm54Dj0B5l2DWjHK6CBi+fzVtQBmZBFCEVGWcIHG0gSlcBL0BBGLPqPlQGSTBG+W4YLOXgMrvLAKhLu6fgSV6EsQrMtNjPJDfIhoBxczwBCiXGWECoMCoeoDdKJSfgQABqB852kcz7jAWxaCSdZGxAOhREh0jJVCEMkORlIOhwAtswAOoPcDG4BcDiSkDsDjMQKy2yMAkmMgQcAdAJLAvVRCMUCAPGLQbIIlnndoekGLs9sB5I1cQ2KkkluyFzODM3/DiBcVgfJl1ECNHDzNpLOWPOEkbdAshFgBOJJJuSaF40pIIly0BmNLmiFBQu36iwGyXWINs8SHhYDyV5Ac3AMAjofmQK6y5Yu5gosJ5nithxQqME4kGwPPNdFcP7w9PGOm8/KCIkRHGNj+KaMQjzXRRBGMgtpjmAJ87eAZPqpo/8cf+Pw+/pHcKqAEv417C2UUnkITrWgKDed5Eph3nJIoVHwODgAeOzgJdy/hlLKFsIvxkpLKZUXHgE3E7HcEYRg4RyuB3AD8MKeISSWUsqewmOxAjc8qpwfqlwYAjc//lp6+eSyl1AqJNYmZG2pDAjnS0wT0oT/r2AqSNx96hQSSyllT5Ew8ceEJCf8mDS7cVhlC6GUKxKkc7HwX0gzSQjHbyDZGAgoobTepbo+X2nIsd8n9oWwhVAKgkySMVhojvDoPZDkwXO/vbl8C8yhk+ZVa9q/iQ4n/5n4prKFUqvmhZNk1ApThIHdQZK9OiCghFJh9hRKKd9UtYaX9g83re/thn+ckeTAtwuPxZdSECwgyd2QYwbaQRPc4crzl6BU9hZhQcvhXWqDLYRSKxMS/lzxqn35RJJljg5+sVTi8kJNOwhMEPqvArXP9z8v7r6tUj45Oj7dcEPAurCFUFrP9mpy9UCyy4uNdym1KvP5wUfDWKHfOOGuGnTOHvnn8y2P4FSrvEsNfr8g6VXLXsKewzeVZ6u/lsr9/aYfM/5BDvs027Aqb2OEzrp84wRDoLPLzB93nL3cc3J47ODw/aYY/2VGTv4z+WvptSit2bXDhB8T6m76YWM9fmBYcPu5y67Tf+gkw7BoUFsPeLlHQJf3+yDo/4Skx2LZY9hz+KZaVe700PfVQlPyL3in/wnoft7oflADGiLaKKFKJxtdQXIU0ARk46sHr/qyt1Aq3auWLUTbh7sZf2jT+WAEZoDsCXSDjtMooVTnVfiCnFsZtwKngWS5czePxZdProR1yhYixhZepzxZ4HpUxHiQwXgSOkKpUUISJoMkOoL0w0WogXHAAJDs+3rV5Nqhxa1dwjrlX+O3dQ+MRS1cjd8xA+wOkMyFkGSUJfxtB5KXoyGobQX4daDuWu9SKjDHU3svMk0LUNsMx4FkOwh/LMOFsZdBMgRPg2RdAF8DU39MdBi4I2whglPs++HyZQcBqoPk67CB5LZE44QYdAA5HMglY3uCQwG/+Gr7YDP1N5q+L1fepYJTYQDYG8NATgMGg4zGOuMsoRV9QF6IyqC2RgfxS9B8+eT6a+lV8vCj1pVL7eGp5JGHVy17i6BURz0eKnWgtiaOBLkGQqtlpjAAP0xFZ2ATyVHAh7uGgBJK2UL4prJsIZTCJ9tvguEgORJoB2c2coQAc4US4QrbjgF+QnX8DsB7ZQSnCChhb6GLdO7wdyH4Bc5fgf2wDUUFlulCptAtTAo7wplwFCPUC2u4+8zpq203/xrBqRIT8/xrFGRgs1AjjC8KL4wRuhMsRxayhAng6Eeryy9tktYBmXHWP1XIFVqErpSIDOvfbQ=='/>
	`,label:"MEW"};function ps(r){switch(r){case rr.MetaMask:return CP();case rr.WalletConnect:return{name:r,label:"WalletConnect",imgBig:yP};case rr.WalletConnectV2:return{name:r,label:"WalletConnect V2",imgBig:xP};case rr.Torus:return{name:r,label:"Torus",imgBig:wP};case rr.Phantom:return BP();case rr.Flow:return{name:r,label:"Flow",imgBig:EP};case rr.SafeConnect:return{name:r,label:"SafeConnect",imgBig:AP}}}function CP(){const r=Z0();let e=PP;return r.brave&&(e=g6),r.anyMetamask&&(e=vP),r.mew&&(e=TP),r.trust&&(e=MP),r.status&&(e=_P),r.alphaWallet&&(e=kP),r.imToken&&(e=SP),Object.assign({name:rr.MetaMask},e)}function BP(){return window.solana.isBraveWallet?{name:rr.Phantom,label:"Brave (Solana)",imgBig:g6.imgBig}:{name:rr.Phantom,label:"Phantom",imgBig:bP}}var IP=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class NP extends tu{init(){this.client.registerUiUpdateCallback(2,void 0)}render(){let e="";if(this.client.hasIssuerForBlockchain("evm")){if(this.client.safeConnectAvailable()){const o=ps(rr.SafeConnect);e+=this.getWalletButtonHtml(o)}if(typeof window.ethereum<"u"){const o=ps(rr.MetaMask);e+=this.getWalletButtonHtml(o)}const t=ps(rr.WalletConnect),n=ps(rr.WalletConnectV2),i=ps(rr.Torus);for(const o of[t,n,i])e+=this.getWalletButtonHtml(o)}if(this.client.hasIssuerForBlockchain("solana")){const t=ps(rr.Phantom);e+=this.getWalletButtonHtml(t)}if(this.client.hasIssuerForBlockchain("flow")){const t=ps(rr.Flow);e+=this.getWalletButtonHtml(t)}this.viewContainer.innerHTML=`
            <div class="inner-content-tn scroll-tn">
              <div class="wallet-selection-view-tn">
                <div class="issuer-view-tn">
                  <div class="brand-tn">
                  	${this.params.viewOptions.backButtonView?`
                  		<button aria-label="back to token issuer menu" class="back-to-menu-tn" style="float: left; position: absolute;">
							<svg style="position: relative; top: 1px;" width="20" height="20" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
								<g fill="none" fill-rule="evenodd">
									<path d="m10.2 15.8 7.173 7.56c.55.587 1.453.587 2.01 0a1.554 1.554 0 0 0 0-2.12l-5.158-5.44 5.157-5.44a1.554 1.554 0 0 0 0-2.12 1.367 1.367 0 0 0-2.009 0L10.2 15.8z" fill="#000" fill-rule="nonzero"/>
								</g>
							</svg>
						</button>
                  	`:""}
				  </div>
                  <div class="headline-container-tn">
                    <p style="text-align: center;">Select Wallet</p>
                  </div>
                  <div class="wallet-button-container-tn">
                  	${e}
                  </div>
                </div>
              </div>
            </div>
        `,this.viewContainer.querySelectorAll(".wallet-button-tn").forEach(t=>{t.addEventListener("click",this.connectWallet.bind(this))})}getWalletButtonHtml(e){return`
			<button class="wallet-button-tn" data-wallet="${e.name}" aria-label="${e.label} wallet button">
				${e.imgBig}
				<p>${e.label}</p>
			</button>
		`}connectWallet(e){var t,n,i,o;return IP(this,void 0,void 0,function*(){let s=e.currentTarget.dataset.wallet,a=e.currentTarget.dataset.walletlabel;a=a??s,ke(2,"Connect wallet: "+s),this.ui.showLoaderDelayed(["<h4>Connecting to "+a+"...</h4>","<small>You may need to unlock your wallet to continue.</small>"],500);try{yield this.client.negotiatorConnectToWallet(s),this.ui.dismissLoader(),!((n=(t=this.params)===null||t===void 0?void 0:t.data)===null||n===void 0)&&n.connectCallback?(o=(i=this.params)===null||i===void 0?void 0:i.data)===null||o===void 0||o.connectCallback():(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main",{viewName:"main"},{viewTransition:"slide-in-right"}))}catch(c){ke(2,"negotiatorConnectToWallet error",e),this.ui.showError(c);return}})}}var oh=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class Xa{constructor(e,t){this.isStartView=!0,this.loadTimer=null,this.options=e,this.client=t}initialize(){var e,t;return oh(this,void 0,void 0,function*(){this.popupContainer=document.querySelector(this.options.containerElement),this.popupContainer||(this.popupContainer=document.createElement("div"),this.popupContainer.className="overlay-tn",document.body.appendChild(this.popupContainer)),this.initializeUIType(),this.setTheme((t=(e=this.options)===null||e===void 0?void 0:e.theme)!==null&&t!==void 0?t:"light"),this.transitionContainer=this.popupContainer.querySelector(".transition-wrapper-tn"),this.viewContainer=this.popupContainer.querySelector(".view-content-tn"),this.loadContainer=this.popupContainer.querySelector(".load-container-tn"),this.retryButton=this.loadContainer.querySelector(".dismiss-error-tn"),this.retryButton.addEventListener("click",()=>{this.dismissLoader(),this.retryCallback&&(this.retryCallback(),this.retryCallback=void 0,this.retryButton.innerText="Dismiss")}),this.updateUI(yield this.getStartScreen(),{viewName:"start"})})}getViewFactory(e){var t,n,i,o,s;let a={};return!((t=this.options.viewOverrides)===null||t===void 0)&&t[e]&&(!((n=this.options.viewOverrides)===null||n===void 0)&&n[e].options&&(a=(i=this.options.viewOverrides)===null||i===void 0?void 0:i[e].options),!((o=this.options.viewOverrides)===null||o===void 0)&&o[e].component)?[(s=this.options.viewOverrides)===null||s===void 0?void 0:s[e].component,a]:[this.getDefaultView(e),a]}getDefaultView(e){switch(e){case"start":return z9;case"main":return gP;case"wallet":return NP}}getStartScreen(){return oh(this,void 0,void 0,function*(){return this.options.alwaysShowStartScreen||!localStorage.getItem(Ka.LOCAL_STORAGE_KEY)||!this.client.getTokenStore().getTotalTokenCount()?"start":(yield this.canSkipWalletSelection())?(this.client.enrichTokenLookupDataOnChainTokens(),"main"):"wallet"})}canSkipWalletSelection(){return oh(this,void 0,void 0,function*(){if(this.client.getTokenStore().hasOnChainTokens()){let e=yield this.client.getWalletProvider();return yield e.loadConnections(),e.getConnectedWalletData().length>0}else return!0})}getUIContainer(){return Xa.UI_CONTAINER_HTML}getFabButton(){return Xa.FAB_BUTTON_HTML}initializeUIType(){switch(this.popupContainer.classList.add(this.options.uiType+"-tn"),this.options.uiType){case"popup":this.options.position?this.popupContainer.classList.add(this.options.position):this.popupContainer.classList.add("bottom-right"),this.popupContainer.innerHTML=this.getUIContainer()+this.getFabButton(),this.popupContainer.querySelector(".overlay-fab-button-tn").addEventListener("click",this.togglePopup.bind(this)),this.popupContainer.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("click",()=>{this.closeOverlay()});break;case"inline":this.popupContainer.innerHTML=this.getUIContainer();break}}closeOverlay(){this.options.uiType!=="inline"&&(this.popupContainer.classList.add("close"),this.popupContainer.classList.remove("open"),this.client.eventSender("closed-overlay",null))}openOverlay(){this.options.uiType!=="inline"&&setTimeout(()=>{this.client.eventSender("opened-overlay",null),this.popupContainer.classList.add("open"),this.popupContainer.classList.remove("close")},10)}togglePopup(){ws(this.popupContainer,"No overlay element found."),!this.popupContainer.classList.contains("open")?this.openOverlay():this.closeOverlay()}updateUI(e,t,n){let i={},o="unknown";if(typeof e=="string"){this.isStartView=e==="start",o=e;const[d,l]=this.getViewFactory(e);e=d,i=l}else this.isStartView=!1,t?.viewName&&(o=t.viewName);if(n&&(i=Object.assign(Object.assign({},i),n)),!this.viewContainer){ke(3,"Element .view-content-tn not found: popup not initialized");return}let s,a;const c=["slide-in-left","slide-in-right","slide-in-top","slide-in-bottom"];if(i?.viewTransition&&c.indexOf(i?.viewTransition)>-1){s=i?.viewTransition+"-tn",a=this.viewContainer;const d=document.createElement("div");this.transitionContainer.classList.add(s),d.classList.add("view-content-tn"),s==="slide-in-left-tn"||s==="slide-in-top-tn"?this.transitionContainer.prepend(d):this.transitionContainer.appendChild(d),this.viewContainer=d}i.componentIsFactory?(e=e,this.currentView=e(this.client,this,this.viewContainer,{options:this.options,viewOptions:i,data:t})):(e=e,this.currentView=new e(this.client,this,this.viewContainer,{options:this.options,viewOptions:i,data:t})),this.currentView.render(),s&&(setTimeout(()=>{a.remove(),this.transitionContainer.classList.remove("slide-in",s)},300),this.transitionContainer.classList.add("slide-in")),this.client.eventSender("view-changed",{viewName:o,data:t})}viewIsNotStart(){return!this.isStartView}showError(e,t=!0){if(this.cancelDelayedLoader(),typeof e!="string"){if(e.name===oi.USER_ABORT)return this.dismissLoader();e=e.message?e.message:e.toString()}else if(e===oi.USER_ABORT)return this.dismissLoader();const n=this.loadContainer.querySelector(".loader-tn");if(n.style.display="none",this.retryButton.style.display="block",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e,this.loadContainer.style.display="flex",!t){const i=this.loadContainer.querySelector(".dismiss-error-tn");i.style.display="none"}}setErrorRetryCallback(e){this.retryCallback=e,this.retryButton.innerText="Retry"}showLoaderDelayed(e,t,n=!1){this.loadTimer&&clearTimeout(this.loadTimer),this.loadTimer=setTimeout(()=>{this.showLoader(...e),n&&this.openOverlay()},t)}cancelDelayedLoader(){this.loadTimer&&(clearTimeout(this.loadTimer),this.loadTimer=null)}showLoader(...e){this.cancelDelayedLoader();const t=this.loadContainer.querySelector(".loader-tn");t.style.display="block";const n=this.loadContainer.querySelector(".dismiss-error-tn");n.style.display="none",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e.join(`
`),this.loadContainer.style.display="flex"}dismissLoader(){this.cancelDelayedLoader(),this.loadContainer.style.display="none"}setTheme(e){this.popupContainer&&(this.popupContainer.classList.remove(this.options.theme+"-tn"),e=this.validateTheme(e),this.popupContainer.classList.add(e+"-tn"),this.options.theme=e)}validateTheme(e){return e&&e==="dark"?e:"light"}switchTheme(e){this.setTheme(e)}}Xa.UI_CONTAINER_HTML=`
		<div class="overlay-content-tn" aria-label="Token negotiator overlay">
			<div class="load-container-tn" style="display: none;">
				<div class="lds-ellipsis loader-tn"><div></div><div></div><div></div><div></div></div>
				<div class="loader-msg-tn"></div>
				<button class="dismiss-error-tn btn-tn">Dismiss</button>
			</div>
			<div class="transition-wrapper-tn">
				<div class="view-content-tn"></div>
			</div>
		</div>
	`;Xa.FAB_BUTTON_HTML=`
		<button aria-label="token negotiator toggle" class="overlay-fab-button-tn">
		  <div class="overlay-fab-button-tn-img-container"></div>
		</button>
	`;const OP=["evm","polygon","optimism","bsc","avalanche","fantom","goerli","mumbai","arbitrum"],RP=r=>{if(!r)return!0;const e=Z0();return ke(2,"unSupportedUserAgents: ",r),ke(2,"browserData: ",e),!Object.keys(r).some(n=>r[n]&&e[n])},vu=r=>r===""?(Xn("You did not specify 'blockchain', the default value is evm. Check our github to see supported values.","warning",null,null),"evm"):r==="solana"?"solana":r==="evm"?"evm":r==="flow"?"flow":OP.includes(r.toLowerCase())?(Xn("We recommend you to set `blockchain` as 'evm'.","warning",null,null),"evm"):(Xn("You set unsupported `blockchain` in the constructor. Check our github to see supported values.","error",null,null),r);var DP=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const os="https://api.token-discovery.tokenscript.org",LP=(r,e)=>DP(void 0,void 0,void 0,function*(){let t;return"blockchain"in r&&r.blockchain==="solana"?t=FP(r,e):"blockchain"in r&&r.blockchain==="flow"?t=HP(r):t=UP(r,e),X0(t,!0)}),UP=(r,e)=>{const{contract:t,chain:n,openSeaSlug:i}=r;let o=`${os}/get-token-collection?smartContract=${t}&chain=${n}&blockchain=evm`;return i&&(o+=`&openSeaSlug=${i}`),e&&(o+=`&ipfsBaseUrl=${e}`),o},FP=(r,e)=>{const{collectionAddress:t,chain:n}=r;let i=`${os}/get-token-collection?collectionAddress=${t}&chain=${n}&blockchain=solana`;return e&&(i+=`&ipfsBaseUrl=${e}`),i},HP=r=>{const{contract:e,chain:t}=r;return`${os}/get-token-collection?smartContract=${e}&chain=${t}&blockchain=flow`},xv=(r,e,t)=>{let n;return"blockchain"in r&&r.blockchain==="solana"?n=jP(r,e,t):"blockchain"in r&&r.blockchain==="flow"?n=GP(r,e):n=VP(r,e,t),X0(n,!0)},VP=(r,e,t)=>{var n;const{contract:i,chain:o,openSeaSlug:s}=r,a=vu((n=r?.blockchain)!==null&&n!==void 0?n:"");if(!i||!o)return;let c=`${os}/get-owner-tokens?smartContract=${i}&chain=${o}&owner=${e}&blockchain=${a}`;return s&&(c+=`&openSeaSlug=${s}`),t&&(c+=`&ipfsBaseUrl=${t}`),c},jP=(r,e,t)=>{var n;const{chain:i,tokenProgram:o,collectionAddress:s,updateAuthority:a,symbol:c}=r,d=vu((n=r?.blockchain)!==null&&n!==void 0?n:"");if(!i&&(!o||!s||!a||!c))return;let l=`${os}/get-owner-tokens?chain=${i}&blockchain=${d}`;return e&&(l+=`&owner=${e}`),c&&(l+=`&symbol=${c}`),t&&(l+=`&ipfsBaseUrl=${t}`),o&&(l+=`&tokenProgram=${o}`),s&&(l+=`&collectionAddress=${s}`),a&&(l+=`&updateAuthority=${a}`),l},GP=(r,e)=>{var t;const{contract:n,chain:i}=r,o=vu((t=r?.blockchain)!==null&&t!==void 0?t:"");return!n||!i?void 0:`${os}/get-owner-tokens?smartContract=${n}&chain=${i}&owner=${e}&blockchain=${o}`};var yu={},xu={},qc={},sh={},wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.ATTESTATION_TYPE=void 0;wu.ATTESTATION_TYPE={phone:0,mail:1,InetPersona:2};var ah={},Re={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.DEBUGLEVEL=void 0;zt.DEBUGLEVEL={LOW:1,MEDIUM:2,HIGH:3,VERBOSE:4};var wv;function Ot(){if(wv)return Re;wv=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.ecSignatureToSRVhex=Re.testsLogger=Re.logger=Re.isDomainValid=Re.formatGeneralizedDateTime=Re.ethAddressToUint8=Re.hashUint8To32bytesUint8=Re.hashStringTo32bytesUint8=Re.getInt64Bytes=Re.uint8tohex=Re.BnPowMod=Re.stringToArray=Re.base64ToUint8array=Re.pemOrBase64Orbase64urlToString=Re.base64toBase64Url=Re.uint8arrayToBase64=Re.uint8toString=Re.uint8merge=Re.bnToBuf=Re.bnToUint8=Re.bufToBn=Re.uint8ToBn=Re.egcd=Re.invert=Re.mod=Re.hexStringToBase64Url=Re.hexStringToBase64=Re.hexStringToUint8=Re.hexStringToArray=Re.stringToHex=void 0;const r=zt,e=ss();let t=gf.exports;function n(y){for(var x="",w=0;w<y.length;w++)x+=""+y.charCodeAt(w).toString(16);return x}Re.stringToHex=n;function i(y=""){y.substr(0,2).toLowerCase()==="0x"&&(y=y.substr(2));let x=[],w=[...y];w.length%2&&w.unshift("0");let v="";if(!w||typeof w>"u"||!w.length)return[];let g;for(;w.length;){if(v="",v+=w.shift()+w.shift(),g=parseInt(v,16),isNaN(g))throw new Error("hexStringToArray input is not a hex string.");x.push(g)}return x}Re.hexStringToArray=i;function o(y=""){return Uint8Array.from(i(y))}Re.hexStringToUint8=o;function s(y=""){return P(o(y))}Re.hexStringToBase64=s;function a(y=""){return N(P(o(y)))}Re.hexStringToBase64Url=a;function c(y,x=e.CURVE_BN256.P){const w=y%x;return w>=0n?w:x+w}Re.mod=c;function d(y,x=e.CURVE_BN256.P){if(y===0n||x<=0n)throw new Error("invert: expected positive integers");let[w,v]=l(c(y,x),x);if(w!==1n)throw new Error("invert: does not exist");return c(v,x)}Re.invert=d;function l(y,x){let[w,v,g,u]=[0n,1n,1n,0n];for(;y!==0n;){let[S,O]=[x/y,x%y],[A,B]=[w-g*S,v-u*S];[x,y]=[y,O],[w,v]=[g,u],[g,u]=[A,B]}return[x,w,v]}Re.egcd=l;function p(y){return k(y)}Re.uint8ToBn=p;function k(y){let x=[];return Uint8Array.from(y).forEach(function(v){var g=v.toString(16);g.length%2&&(g="0"+g),x.push(g)}),BigInt("0x"+x.join(""))}Re.bufToBn=k;function _(y){return T(y)}Re.bnToUint8=_;function T(y,x=0){var w=BigInt(y).toString(16).padStart(x*2,"0");w.length%2&&(w="0"+w);for(var v=w.length/2,g=new Uint8Array(v),u=0,S=0;u<v;)g[u]=parseInt(w.slice(S,S+2),16),u+=1,S+=2;return g}Re.bnToBuf=T;function C(y){if(y.length===1)return y[0];let x=Uint8Array.from([]);if(y.length===0)return x;for(let w=0;w<y.length;w++){if(typeof y[w]!="object"||typeof y[w].length!="number")throw new Error("wrong input values");let v=Uint8Array.from(y[w]);if(!v||!v.length)continue;let g=new Uint8Array(x.length+v.length);g.set(x),g.set(v,x.length),x=g}return x}Re.uint8merge=C;function M(y){if(!y)return"";let x="",w=y.byteLength;for(let v=0;v<w;v++)x+=String.fromCharCode(y[v]);return x}Re.uint8toString=M;function P(y){let x=M(y);return typeof window>"u"||!window.btoa?new Buffer(y).toString("base64"):window.btoa(x)}Re.uint8arrayToBase64=P;function N(y){return y.split("/").join("_").split("+").join("-")}Re.base64toBase64Url=N;function U(y){let x=y.split(/\r?\n/);for(;x[x.length-1].trim()==="";)x.pop();return y.slice(0,3)==="---"&&(x.shift(),x.pop()),y=x.join(""),y=y.split("_").join("/").split("-").join("+").split(".").join("="),y}Re.pemOrBase64Orbase64urlToString=U;function $(y){y=U(y);let x;return typeof window>"u"||!window.atob?x=Uint8Array.from(Buffer.from(y,"base64")):x=Uint8Array.from(atob(y),w=>w.charCodeAt(0)),x}Re.base64ToUint8array=$;function G(y){for(var x=[],w=0;w<y.length;w++)x.push(y.charCodeAt(w));return x}Re.stringToArray=G;function X(y,x,w){let v=1n,g=y;for(;x>0n;)x&1n&&(v=v*g%w),g=g*g%w,x>>=1n;return v}Re.BnPowMod=X;function ye(y){return!y||!y.length?"":Array.from(y).map(x=>("0"+x.toString(16)).slice(-2)).join("")}Re.uint8tohex=ye;function ce(y){let x=Math.floor(y/4294967296);return new Uint8Array([x,x<<8,x<<16,x<<24,y,y<<8,y<<16,y<<24].map(w=>w>>>24))}Re.getInt64Bytes=ce;function me(y){return Be(Uint8Array.from(G(y)))}Re.hashStringTo32bytesUint8=me;function Be(y){let x=Array.from(y);return C([new Uint8Array(32),new Uint8Array(i(t.keccak256(x)))]).slice(-32)}Re.hashUint8To32bytesUint8=Be;function I(y){if(y.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null)throw new Error("Wrong Ethereum Address");let x=Uint8Array.from(i(y.substr(2)));if(x.length!=20)throw new Error("wrong address length");return x}Re.ethAddressToUint8=I;function E(y){var x=new Date(y),w=""+(x.getUTCMonth()+1),v=""+x.getUTCDate(),g=x.getUTCFullYear();let u=""+x.getUTCHours(),S=""+x.getUTCMinutes(),O=""+x.getUTCSeconds();return w.length<2&&(w="0"+w),v.length<2&&(v="0"+v),u.length<2&&(u="0"+u),S.length<2&&(S="0"+S),O.length<2&&(O="0"+O),[g,w,v,u,S,O].join("")+"Z"}Re.formatGeneralizedDateTime=E;function m(y){try{new URL(y)}catch{return!1}return!0}Re.isDomainValid=m;function f(y,...x){}Re.logger=f;function h(y,...x){}Re.testsLogger=h;function b(y,x){try{let w=y.r.toString(16).padStart(64,"0"),v=y.s,g=y.recoveryParam,u=x.ec.curve.n.shrn(1);v.cmp(u)>0&&(v=x.ec.curve.n.sub(v),g=1-g);let S=v.toString(16).padStart(64,"0");return w+S+(g==1?"1c":"1b")}catch(w){throw f(r.DEBUGLEVEL.LOW,w),new Error("Signature format doesn't fit.")}}return Re.ecSignatureToSRVhex=b,Re}var Av;function ss(){return Av||(Av=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Point=r.CURVE_BN256=r.CURVES=r.CURVE_SECP256k1=void 0;const e=Ot(),t=zt;r.CURVE_SECP256k1={P:2n**256n-2n**32n-977n,n:2n**256n-432420386565659656852420866394968145599n,magicExp:(2n**256n-2n**32n-977n+1n)/4n,A:0n,B:7n},r.CURVES={p256:{P:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),A:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),B:BigInt("0x5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),n:BigInt("0xFFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),GX:BigInt("0x6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296"),GY:BigInt("0x4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),h:1n},secp256k1:{P:2n**256n-2n**32n-977n,A:0n,B:7n,n:2n**256n-432420386565659656852420866394968145599n,GX:55066263022277343669578718895168534326250603453777594175500187360389116729240n,GY:32670510020758816978083085130507043184471273380659243275938904335757337482424n},BN256:{P:115792089237314936872688561244471742058375878355761205198700409522629664518163n,n:115792089237314936872688561244471742058035595988840268584488757999429535617037n,magicExp:115792089237314936872688561244471742058375878355761205198700409522629664518164n>>2n,A:0n,B:3n,h:1n}},r.CURVE_BN256={P:21888242871839275222246405745257275088696311157297823662689037894645226208583n,n:21888242871839275222246405745257275088548364400416034343698204186575808495617n,A:0n,B:3n,h:1n};class n{constructor(o,s,a=r.CURVE_BN256){this.x=o,this.y=s,this.useCurve=a,this.x=(0,e.mod)(o,this.useCurve.P),this.y=(0,e.mod)(s,this.useCurve.P),this.useCurve=a}double(){const o=this.x,s=this.y,a=(0,e.mod)(3n*o**2n*(0,e.invert)(2n*s,this.useCurve.P),this.useCurve.P),c=(0,e.mod)(a*a-2n*o,this.useCurve.P),d=(0,e.mod)(a*(o-c)-s,this.useCurve.P);return new n(c,d,this.useCurve)}newZero(){return new n(0n,0n,this.useCurve)}add(o){const[s,a]=[this,o],[c,d,l,p]=[s.x,s.y,a.x,a.y];if(c===0n||d===0n)return a;if(l===0n||p===0n)return s;if(c===l&&d===p)return this.double();if(c===l&&d===(0,e.mod)(-p,this.useCurve.P))return this.newZero();const k=(0,e.mod)((p-d)*(0,e.invert)(l-c,this.useCurve.P),this.useCurve.P),_=(0,e.mod)(k*k-c-l,this.useCurve.P),T=(0,e.mod)(k*(c-_)-d,this.useCurve.P);return new n(_,T,this.useCurve)}multiplyDA(o){let s=this.newZero(),a=this;for(;o>0n;)o&1n&&(s=s.add(a)),a=a.double(),o>>=1n;return s}isInfinity(){return this.x==null||this.y==null||this.x==0n&&this.y==0n}getEncoded(o=!1){if(this.isInfinity())return new Uint8Array(0);let s=(0,e.bnToBuf)(this.x,32);return o?(0,e.uint8merge)([Uint8Array.from([2]),s]):(0,e.uint8merge)([Uint8Array.from([4]),s,(0,e.bnToBuf)(this.y,32)])}equals(o){if(o==null)return!1;let s=this.isInfinity(),a=o.isInfinity();if(s||a)return s&&a;let c=this,d=o;return c.x===d.x&&c.y===d.y}static decodeFromHex(o,s=r.CURVE_BN256){if(o.length!=130)throw new Error("only decompressed points allowed. 65 bytes.");return n.decodeFromUint8((0,e.hexStringToUint8)(o),s)}static decodeFromUint8(o,s=r.CURVE_BN256){if(o.length!=65)throw new Error("only decompressed points allowed. 65 bytes.");let a;switch(o[0]){case 4:let d=(0,e.uint8ToBn)(o.slice(1,33)),l=(0,e.uint8ToBn)(o.slice(33));a=new n(d,l,s);break;default:throw new Error("only decompressed points allowed")}if(!a.validate()){let d="Point is not valid ("+a.x.toString(16)+","+a.y.toString(16)+")";throw(0,e.logger)(t.DEBUGLEVEL.LOW,d),new Error(d)}return a}validate(o=!1){return typeof o=="boolean"&&(o=this.useCurve),(0,e.mod)((0,e.mod)(this.y*this.y,o.P)-(0,e.mod)((0,e.BnPowMod)(this.x,3n,o.P)+(0,e.mod)(this.x*o.A,o.P)+o.B,o.P),o.P)==0n}negate(){return new n(this.x,this.useCurve.P-this.y,this.useCurve)}subtract(o){return this.add(o.negate())}}r.Point=n}(ah)),ah}var jf={},ji={};/*!
 * MIT License
 * 
 * Copyright (c) 2017-2022 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const qP="[object ArrayBuffer]";class it{static isArrayBuffer(e){return Object.prototype.toString.call(e)===qP}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const n=it.toUint8Array(e),i=it.toUint8Array(t);if(n.length!==i.byteLength)return!1;for(let o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let n=0;for(const s of t)n+=s.byteLength;const i=new Uint8Array(n);let o=0;for(const s of t){const a=this.toUint8Array(s);i.set(a,o),o+=a.length}return e[1]?this.toView(i,e[1]):i.buffer}else return this.concat(e)}}class Ev{static fromString(e){const t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer}static toString(e){const t=it.toUint8Array(e);let n="";for(let o=0;o<t.length;o++)n+=String.fromCharCode(t[o]);return decodeURIComponent(escape(n))}}class xi{static toString(e,t=!1){const n=it.toArrayBuffer(e),i=new DataView(n);let o="";for(let s=0;s<n.byteLength;s+=2){const a=i.getUint16(s,t);o+=String.fromCharCode(a)}return o}static fromString(e,t=!1){const n=new ArrayBuffer(e.length*2),i=new DataView(n);for(let o=0;o<e.length;o++)i.setUint16(o*2,e.charCodeAt(o),t);return n}}class Jt{static isHex(e){return typeof e=="string"&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return typeof e=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return typeof e=="string"&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const n=it.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return xi.toString(n,!0);case"utf16":case"utf16be":return xi.toString(n);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return xi.fromString(e,!0);case"utf16":case"utf16be":return xi.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=it.toUint8Array(e);if(typeof btoa<"u"){const n=this.ToString(t,"binary");return btoa(n)}else return Buffer.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Jt.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Jt.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=Jt.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return Ev.fromString(e);case"utf16":case"utf16be":return xi.fromString(e);case"utf16le":case"usc2":return xi.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=Jt.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return Ev.toString(e);case"utf16":case"utf16be":return xi.toString(e);case"utf16le":case"usc2":return xi.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;i++)n[i]=e.charCodeAt(i);return n.buffer}static ToBinary(e){const t=it.toUint8Array(e);let n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return n}static ToHex(e){const t=it.toUint8Array(e),n="",i=[],o=t.length;for(let s=0;s<o;s++){const a=t[s].toString(16).padStart(2,"0");i.push(a)}return i.join(n)}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Jt.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const n=new Uint8Array(t.length/2);for(let i=0;i<t.length;i=i+2){const o=t.slice(i,i+2);n[i/2]=parseInt(o,16)}return n.buffer}static ToUtf16String(e,t=!1){return xi.toString(e,t)}static FromUtf16String(e,t=!1){return xi.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let n=0;n<t;n++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}}Jt.DEFAULT_UTF8_ENCODING="utf8";/*!
 Copyright (c) Peculiar Ventures, LLC
*/function Za(r,e){let t=0;if(r.length===1)return r[0];for(let n=r.length-1;n>=0;n--)t+=r[r.length-1-n]*Math.pow(2,e*n);return t}function Vs(r,e,t=-1){const n=t;let i=r,o=0,s=Math.pow(2,e);for(let a=1;a<8;a++){if(r<s){let c;if(n<0)c=new ArrayBuffer(a),o=a;else{if(n<a)return new ArrayBuffer(0);c=new ArrayBuffer(n),o=n}const d=new Uint8Array(c);for(let l=a-1;l>=0;l--){const p=Math.pow(2,l*e);d[o-l-1]=Math.floor(i/p),i-=d[o-l-1]*p}return c}s*=Math.pow(2,e)}return new ArrayBuffer(0)}function sp(...r){let e=0,t=0;for(const o of r)e+=o.length;const n=new ArrayBuffer(e),i=new Uint8Array(n);for(const o of r)i.set(o,t),t+=o.length;return i}function m6(){const r=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const a=r[0]===255&&r[1]&128,c=r[0]===0&&(r[1]&128)===0;(a||c)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),t=new Uint8Array(e);for(let a=0;a<this.valueHex.byteLength;a++)t[a]=0;t[0]=r[0]&128;const n=Za(t,8),i=new ArrayBuffer(this.valueHex.byteLength),o=new Uint8Array(i);for(let a=0;a<this.valueHex.byteLength;a++)o[a]=r[a];return o[0]&=127,Za(o,8)-n}function $P(r){const e=r<0?r*-1:r;let t=128;for(let n=1;n<8;n++){if(e<=t){if(r<0){const s=t-e,a=Vs(s,8,n),c=new Uint8Array(a);return c[0]|=128,a}let i=Vs(e,8,n),o=new Uint8Array(i);if(o[0]&128){const s=i.slice(0),a=new Uint8Array(s);i=new ArrayBuffer(i.byteLength+1),o=new Uint8Array(i);for(let c=0;c<s.byteLength;c++)o[c+1]=a[c];o[0]=0}return i}t*=Math.pow(2,8)}return new ArrayBuffer(0)}function KP(r,e){if(r.byteLength!==e.byteLength)return!1;const t=new Uint8Array(r),n=new Uint8Array(e);for(let i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}function fn(r,e){const t=r.toString(10);if(e<t.length)return"";const n=e-t.length,i=new Array(n);for(let s=0;s<n;s++)i[s]="0";return i.join("").concat(t)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function T0(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function Dg(r){let e=0,t=0;for(let i=0;i<r.length;i++)e+=r[i].byteLength;const n=new Uint8Array(e);for(let i=0;i<r.length;i++){const o=r[i];n.set(new Uint8Array(o),t),t+=o.byteLength}return n.buffer}function Po(r,e,t,n){return e instanceof Uint8Array?e.byteLength?t<0?(r.error="Wrong parameter: inputOffset less than zero",!1):n<0?(r.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-t-n<0?(r.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(r.error="Wrong parameter: inputBuffer has zero length",!1):(r.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class Au{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return Dg(this.items)}}const Gf=[new Uint8Array([1])],Sv="0123456789",fh="name",kv="valueHexView",zP="isHexOnly",WP="idBlock",QP="tagClass",JP="tagNumber",YP="isConstructed",XP="fromBER",ZP="toBER",eT="local",en="",gi=new ArrayBuffer(0),Eu=new Uint8Array(0),Ic="EndOfContent",b6="OCTET STRING",v6="BIT STRING";function zi(r){var e;return e=class extends r{constructor(...n){var i;super(...n);const o=n[0]||{};this.isHexOnly=(i=o.isHexOnly)!==null&&i!==void 0?i:!1,this.valueHexView=o.valueHex?it.toUint8Array(o.valueHex):Eu}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}fromBER(n,i,o){const s=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!Po(this,s,i,o))return-1;const a=i+o;return this.valueHexView=s.subarray(i,a),this.valueHexView.length?(this.blockLength=o,a):(this.warnings.push("Zero buffer length"),i)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",gi)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Jt.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class ea{constructor({blockLength:e=0,error:t=en,warnings:n=[],valueBeforeDecode:i=Eu}={}){this.blockLength=e,this.error=t,this.warnings=n,this.valueBeforeDecodeView=it.toUint8Array(i)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Jt.ToHex(this.valueBeforeDecodeView)}}}ea.NAME="baseBlock";class zr extends ea{fromBER(e,t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}zr.NAME="valueBlock";class y6 extends zi(ea){constructor({idBlock:e={}}={}){var t,n,i,o;super(),e?(this.isHexOnly=(t=e.isHexOnly)!==null&&t!==void 0?t:!1,this.valueHexView=e.valueHex?it.toUint8Array(e.valueHex):Eu,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(i=e.tagNumber)!==null&&i!==void 0?i:-1,this.isConstructed=(o=e.isConstructed)!==null&&o!==void 0?o:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",gi}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const i=new Uint8Array(1);if(!e){let o=this.tagNumber;o&=31,t|=o,i[0]=t}return i.buffer}if(!this.isHexOnly){const i=Vs(this.tagNumber,7),o=new Uint8Array(i),s=i.byteLength,a=new Uint8Array(s+1);if(a[0]=t|31,!e){for(let c=0;c<s-1;c++)a[c+1]=o[c]|128;a[s]=o[s-1]}return a.buffer}const n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=t|31,!e){const i=this.valueHexView;for(let o=0;o<i.length-1;o++)n[o+1]=i[o]|128;n[this.valueHexView.byteLength]=i[i.length-1]}return n.buffer}fromBER(e,t,n){const i=it.toUint8Array(e);if(!Po(this,i,t,n))return-1;const o=i.subarray(t,t+n);if(o.length===0)return this.error="Zero buffer length",-1;switch(o[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(o[0]&32)===32,this.isHexOnly=!1;const a=o[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let c=1,d=this.valueHexView=new Uint8Array(255),l=255;for(;o[c]&128;){if(d[c-1]=o[c]&127,c++,c>=o.length)return this.error="End of input reached before message was fully decoded",-1;if(c===l){l+=255;const k=new Uint8Array(l);for(let _=0;_<d.length;_++)k[_]=d[_];d=this.valueHexView=new Uint8Array(l)}}this.blockLength=c+1,d[c-1]=o[c]&127;const p=new Uint8Array(c);for(let k=0;k<c;k++)p[k]=d[k];d=this.valueHexView=new Uint8Array(c),d.set(p),this.blockLength<=9?this.tagNumber=Za(d,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}y6.NAME="identificationBlock";class x6 extends ea{constructor({lenBlock:e={}}={}){var t,n,i;super(),this.isIndefiniteForm=(t=e.isIndefiniteForm)!==null&&t!==void 0?t:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(i=e.length)!==null&&i!==void 0?i:0}fromBER(e,t,n){const i=it.toUint8Array(e);if(!Po(this,i,t,n))return-1;const o=i.subarray(t,t+n);if(o.length===0)return this.error="Zero buffer length",-1;if(o[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=o[0]===128,this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(o[0]&128),this.longFormUsed===!1)return this.length=o[0],this.blockLength=1,t+this.blockLength;const s=o[0]&127;if(s>8)return this.error="Too big integer",-1;if(s+1>o.length)return this.error="End of input reached before message was fully decoded",-1;const a=t+1,c=i.subarray(a,a+s);return c[s-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=Za(c,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,t+this.blockLength}toBER(e=!1){let t,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=128),t;if(this.longFormUsed){const i=Vs(this.length,8);if(i.byteLength>127)return this.error="Too big length",gi;if(t=new ArrayBuffer(i.byteLength+1),e)return t;const o=new Uint8Array(i);n=new Uint8Array(t),n[0]=i.byteLength|128;for(let s=0;s<i.byteLength;s++)n[s+1]=o[s];return t}return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}x6.NAME="lengthBlock";const Ce={};class yr extends ea{constructor({name:e=en,optional:t=!1,primitiveSchema:n,...i}={},o){super(i),this.name=e,this.optional=t,n&&(this.primitiveSchema=n),this.idBlock=new y6(i),this.lenBlock=new x6(i),this.valueBlock=o?new o(i):new zr(i)}fromBER(e,t,n){const i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}toBER(e,t){const n=t||new Au;t||w6(this);const i=this.idBlock.toBER(e);if(n.write(i),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{const o=this.valueBlock.toBER(e);this.lenBlock.length=o.byteLength;const s=this.lenBlock.toBER(e);n.write(s),n.write(o)}return t?gi:n.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Jt.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${Jt.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const t=this.toBER(),n=e.toBER();return KP(t,n)}}yr.NAME="BaseBlock";function w6(r){if(r instanceof Ce.Constructed)for(const e of r.valueBlock.value)w6(e)&&(r.lenBlock.isIndefiniteForm=!0);return!!r.lenBlock.isIndefiniteForm}class Lg extends yr{constructor({value:e=en,...t}={},n){super(t,n),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,n){const i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}Lg.NAME="BaseStringBlock";class A6 extends zi(zr){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}A6.NAME="PrimitiveValueBlock";var E6;class $c extends yr{constructor(e={}){super(e,A6),this.idBlock.isConstructed=!1}}E6=$c;Ce.Primitive=E6;$c.NAME="PRIMITIVE";function tT(r,e){if(r instanceof e)return r;const t=new e;return t.idBlock=r.idBlock,t.lenBlock=r.lenBlock,t.warnings=r.warnings,t.valueBeforeDecodeView=r.valueBeforeDecodeView,t}function xf(r,e=0,t=r.length){const n=e;let i=new yr({},zr);const o=new ea;if(!Po(o,r,e,t))return i.error=o.error,{offset:-1,result:i};if(!r.subarray(e,e+t).length)return i.error="Zero buffer length",{offset:-1,result:i};let a=i.idBlock.fromBER(r,e,t);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),a===-1)return i.error=i.idBlock.error,{offset:-1,result:i};if(e=a,t-=i.idBlock.blockLength,a=i.lenBlock.fromBER(r,e,t),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),a===-1)return i.error=i.lenBlock.error,{offset:-1,result:i};if(e=a,t-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let c=yr;switch(i.idBlock.tagClass){case 1:if(i.idBlock.tagNumber>=37&&i.idBlock.isHexOnly===!1)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};c=Ce.EndOfContent;break;case 1:c=Ce.Boolean;break;case 2:c=Ce.Integer;break;case 3:c=Ce.BitString;break;case 4:c=Ce.OctetString;break;case 5:c=Ce.Null;break;case 6:c=Ce.ObjectIdentifier;break;case 10:c=Ce.Enumerated;break;case 12:c=Ce.Utf8String;break;case 13:c=Ce.RelativeObjectIdentifier;break;case 14:c=Ce.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:c=Ce.Sequence;break;case 17:c=Ce.Set;break;case 18:c=Ce.NumericString;break;case 19:c=Ce.PrintableString;break;case 20:c=Ce.TeletexString;break;case 21:c=Ce.VideotexString;break;case 22:c=Ce.IA5String;break;case 23:c=Ce.UTCTime;break;case 24:c=Ce.GeneralizedTime;break;case 25:c=Ce.GraphicString;break;case 26:c=Ce.VisibleString;break;case 27:c=Ce.GeneralString;break;case 28:c=Ce.UniversalString;break;case 29:c=Ce.CharacterString;break;case 30:c=Ce.BmpString;break;case 31:c=Ce.DATE;break;case 32:c=Ce.TimeOfDay;break;case 33:c=Ce.DateTime;break;case 34:c=Ce.Duration;break;default:{const d=i.idBlock.isConstructed?new Ce.Constructed:new Ce.Primitive;d.idBlock=i.idBlock,d.lenBlock=i.lenBlock,d.warnings=i.warnings,i=d}}break;case 2:case 3:case 4:default:c=i.idBlock.isConstructed?Ce.Constructed:Ce.Primitive}return i=tT(i,c),a=i.fromBER(r,e,i.lenBlock.isIndefiniteForm?t:i.lenBlock.length),i.valueBeforeDecodeView=r.subarray(n,n+i.blockLength),{offset:a,result:i}}function La(r){if(!r.byteLength){const e=new yr({},zr);return e.error="Input buffer has zero length",{offset:-1,result:e}}return xf(it.toUint8Array(r).slice(),0,r.byteLength)}function rT(r,e){return r?1:e}class Qo extends zr{constructor({value:e=[],isIndefiniteForm:t=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,n){const i=it.toUint8Array(e);if(!Po(this,i,t,n))return-1;if(this.valueBeforeDecodeView=i.subarray(t,t+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),t;let o=t;for(;rT(this.isIndefiniteForm,n)>0;){const s=xf(i,o,n);if(s.offset===-1)return this.error=s.result.error,this.warnings.concat(s.result.warnings),-1;if(o=s.offset,this.blockLength+=s.result.blockLength,n-=s.result.blockLength,this.value.push(s.result),this.isIndefiniteForm&&s.result.constructor.NAME===Ic)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Ic?this.value.pop():this.warnings.push("No EndOfContent block encoded")),o}toBER(e,t){const n=t||new Au;for(let i=0;i<this.value.length;i++)this.value[i].toBER(e,n);return t?gi:n.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}Qo.NAME="ConstructedValueBlock";var S6;class tn extends yr{constructor(e={}){super(e,Qo),this.idBlock.isConstructed=!0}fromBER(e,t,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){const e=[];for(const n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(i=>`  ${i}`).join(`
`));const t=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join(`
`)}`:`${t} :`}}S6=tn;Ce.Constructed=S6;tn.NAME="CONSTRUCTED";class k6 extends zr{fromBER(e,t,n){return t}toBER(e){return gi}}k6.override="EndOfContentValueBlock";var _6;class Ug extends yr{constructor(e={}){super(e,k6),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}_6=Ug;Ce.EndOfContent=_6;Ug.NAME=Ic;var M6;class js extends yr{constructor(e={}){super(e,zr),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,t+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+n}toBER(e,t){const n=new ArrayBuffer(2);if(!e){const i=new Uint8Array(n);i[0]=5,i[1]=0}return t&&t.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}}M6=js;Ce.Null=M6;js.NAME="NULL";class P6 extends zi(zr){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=it.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,n){const i=it.toUint8Array(e);return Po(this,i,t,n)?(this.valueHexView=i.subarray(t,t+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,m6.call(this),this.blockLength=n,t+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}P6.NAME="BooleanValueBlock";var T6;class Su extends yr{constructor(e={}){super(e,P6),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}T6=Su;Ce.Boolean=T6;Su.NAME="BOOLEAN";class C6 extends zi(Qo){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,n){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,i=Qo.prototype.fromBER.call(this,e,t,n),i===-1)return i;for(let o=0;o<this.value.length;o++){const s=this.value[o].constructor.NAME;if(s===Ic){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==b6)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,t,n),this.blockLength=n;return i}toBER(e,t){return this.isConstructed?Qo.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}C6.NAME="OctetStringValueBlock";var B6;class uo extends yr{constructor({idBlock:e={},lenBlock:t={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},C6),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const o=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+n);try{if(o.byteLength){const s=xf(o,0,o.byteLength);s.offset!==-1&&s.offset===n&&(this.valueBlock.value=[s.result])}}catch{}}return super.fromBER(e,t,n)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?tn.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${Jt.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof uo&&e.push(t.valueBlock.valueHexView);return it.concat(e)}}B6=uo;Ce.OctetString=B6;uo.NAME=b6;class I6 extends zi(Qo){constructor({unusedBits:e=0,isConstructed:t=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,n){if(!n)return t;let i=-1;if(this.isConstructed){if(i=Qo.prototype.fromBER.call(this,e,t,n),i===-1)return i;for(const a of this.value){const c=a.constructor.NAME;if(c===Ic){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(c!==v6)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const d=a.valueBlock;if(this.unusedBits>0&&d.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=d.unusedBits}return i}const o=it.toUint8Array(e);if(!Po(this,o,t,n))return-1;const s=o.subarray(t,t+n);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const a=s.subarray(1);try{if(a.byteLength){const c=xf(a,0,a.byteLength);c.offset!==-1&&c.offset===n-1&&(this.value=[c.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,t+n}toBER(e,t){if(this.isConstructed)return Qo.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return gi;const n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}I6.NAME="BitStringValueBlock";var N6;class Ps extends yr{constructor({idBlock:e={},lenBlock:t={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},I6),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return tn.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const i of t)e.push(i.toString(2).padStart(8,"0"));const n=e.join("");return`${this.constructor.NAME} : ${n.substring(0,n.length-this.valueBlock.unusedBits)}`}}}N6=Ps;Ce.BitString=N6;Ps.NAME=v6;var O6;function nT(r,e){const t=new Uint8Array([0]),n=new Uint8Array(r),i=new Uint8Array(e);let o=n.slice(0);const s=o.length-1,a=i.slice(0),c=a.length-1;let d=0;const l=c<s?s:c;let p=0;for(let k=l;k>=0;k--,p++){switch(!0){case p<a.length:d=o[s-p]+a[c-p]+t[0];break;default:d=o[s-p]+t[0]}switch(t[0]=d/10,!0){case p>=o.length:o=sp(new Uint8Array([d%10]),o);break;default:o[s-p]=d%10}}return t[0]>0&&(o=sp(t,o)),o}function _v(r){if(r>=Gf.length)for(let e=Gf.length;e<=r;e++){const t=new Uint8Array([0]);let n=Gf[e-1].slice(0);for(let i=n.length-1;i>=0;i--){const o=new Uint8Array([(n[i]<<1)+t[0]]);t[0]=o[0]/10,n[i]=o[0]%10}t[0]>0&&(n=sp(t,n)),Gf.push(n)}return Gf[r]}function iT(r,e){let t=0;const n=new Uint8Array(r),i=new Uint8Array(e),o=n.slice(0),s=o.length-1,a=i.slice(0),c=a.length-1;let d,l=0;for(let p=c;p>=0;p--,l++)switch(d=o[s-l]-a[c-l]-t,!0){case d<0:t=1,o[s-l]=d+10;break;default:t=0,o[s-l]=d}if(t>0)for(let p=s-c+1;p>=0;p--,l++)if(d=o[s-l]-t,d<0)t=1,o[s-l]=d+10;else{t=0,o[s-l]=d;break}return o.slice()}class Fg extends zi(zr){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=m6.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array($P(e))}get valueDec(){return this._valueDec}fromDER(e,t,n,i=0){const o=this.fromBER(e,t,n);if(o===-1)return o;const s=this.valueHexView;return s[0]===0&&(s[1]&128)!==0?this.valueHexView=s.subarray(1):i!==0&&s.length<i&&(i-s.length>1&&(i=s.length+1),this.valueHexView=s.subarray(i-s.length)),o}toDER(e=!1){const t=this.valueHexView;switch(!0){case(t[0]&128)!==0:{const n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(t,1),this.valueHexView=n}break;case(t[0]===0&&(t[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,t,n){const i=super.fromBER(e,t,n);return i===-1||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let t=new Uint8Array(this.valueHexView.length*8/3),n=0,i;const o=this.valueHexView;let s="",a=!1;for(let c=o.byteLength-1;c>=0;c--){i=o[c];for(let d=0;d<8;d++){if((i&1)===1)switch(n){case e:t=iT(_v(n),t),s="-";break;default:t=nT(t,_v(n))}n++,i>>=1}}for(let c=0;c<t.length;c++)t[c]&&(a=!0),a&&(s+=Sv.charAt(t[c]));return a===!1&&(s+=Sv.charAt(0)),s}}O6=Fg;Fg.NAME="IntegerValueBlock";Object.defineProperty(O6.prototype,"valueHex",{set:function(r){this.valueHexView=new Uint8Array(r),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var R6;class ci extends yr{constructor(e={}){super(e,Fg),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return T0(),BigInt(this.valueBlock.toString())}static fromBigInt(e){T0();const t=BigInt(e),n=new Au,i=t.toString(16).replace(/^-/,""),o=new Uint8Array(Jt.FromHex(i));if(t<0){const a=new Uint8Array(o.length+(o[0]&128?1:0));a[0]|=128;const d=BigInt(`0x${Jt.ToHex(a)}`)+t,l=it.toUint8Array(Jt.FromHex(d.toString(16)));l[0]|=128,n.write(l)}else o[0]&128&&n.write(new Uint8Array([0])),n.write(o);return new ci({valueHex:n.final()})}convertToDER(){const e=new ci({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new ci({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}R6=ci;Ce.Integer=R6;ci.NAME="INTEGER";var D6;class ku extends ci{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}D6=ku;Ce.Enumerated=D6;ku.NAME="ENUMERATED";class ap extends zi(zr){constructor({valueDec:e=-1,isFirstSid:t=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,n){if(!n)return t;const i=it.toUint8Array(e);if(!Po(this,i,t,n))return-1;const o=i.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);const s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Za(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){T0();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const n=new Uint8Array(t.length/7);for(let i=0;i<n.length;i++)n[i]=parseInt(t.slice(i*7,i*7+7),2)+(i+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}const t=Vs(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",gi;const n=new Uint8Array(t.byteLength);if(!e){const i=new Uint8Array(t),o=t.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n}toString(){let e="";if(this.isHexOnly)e=Jt.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}ap.NAME="sidBlock";class L6 extends zr{constructor({value:e=en,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let i=t;for(;n>0;){const o=new ap;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.value.length===0&&(o.isFirstSid=!0),this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e){const t=[];for(let n=0;n<this.value.length;n++){const i=this.value[n].toBER(e);if(i.byteLength===0)return this.error=this.value[n].error,gi;t.push(i)}return Dg(t)}fromString(e){this.value=[];let t=0,n=0,i="",o=!1;do if(n=e.indexOf(".",t),n===-1?i=e.substring(t):i=e.substring(t,n),t=n+1,o){const s=this.value[0];let a=0;switch(s.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}const c=parseInt(i,10);if(isNaN(c))return;s.valueDec=c+a,o=!1}else{const s=new ap;if(i>Number.MAX_SAFE_INTEGER){T0();const a=BigInt(i);s.valueBigInt=a}else if(s.valueDec=parseInt(i,10),isNaN(s.valueDec))return;this.value.length||(s.isFirstSid=!0,o=!0),this.value.push(s)}while(n!==-1)}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),t?(i=`{${i}}`,this.value[n].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}L6.NAME="ObjectIdentifierValueBlock";var U6;class _u extends yr{constructor(e={}){super(e,L6),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}U6=_u;Ce.ObjectIdentifier=U6;_u.NAME="OBJECT IDENTIFIER";class fp extends zi(ea){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,n){if(n===0)return t;const i=it.toUint8Array(e);if(!Po(this,i,t,n))return-1;const o=i.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);const s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Za(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}const t=Vs(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",gi;const n=new Uint8Array(t.byteLength);if(!e){const i=new Uint8Array(t),o=t.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n.buffer}toString(){let e="";return this.isHexOnly?e=Jt.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}fp.NAME="relativeSidBlock";class F6 extends zr{constructor({value:e=en,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let i=t;for(;n>0;){const o=new fp;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e,t){const n=[];for(let i=0;i<this.value.length;i++){const o=this.value[i].toBER(e);if(o.byteLength===0)return this.error=this.value[i].error,gi;n.push(o)}return Dg(n)}fromString(e){this.value=[];let t=0,n=0,i="";do{n=e.indexOf(".",t),n===-1?i=e.substring(t):i=e.substring(t,n),t=n+1;const o=new fp;if(o.valueDec=parseInt(i,10),isNaN(o.valueDec))return!0;this.value.push(o)}while(n!==-1);return!0}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),t&&(i=`{${i}}`),e+=i}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}F6.NAME="RelativeObjectIdentifierValueBlock";var H6;class Hg extends yr{constructor(e={}){super(e,F6),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}H6=Hg;Ce.RelativeObjectIdentifier=H6;Hg.NAME="RelativeObjectIdentifier";var V6;class ho extends tn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}V6=ho;Ce.Sequence=V6;ho.NAME="SEQUENCE";var j6;class po extends tn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}j6=po;Ce.Set=j6;po.NAME="SET";class G6 extends zi(zr){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=en}toJSON(){return{...super.toJSON(),value:this.value}}}G6.NAME="StringValueBlock";class q6 extends G6{}q6.NAME="SimpleStringValueBlock";class pn extends Lg{constructor({...e}={}){super(e,q6)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,it.toUint8Array(e))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t);for(let i=0;i<t;i++)n[i]=e.charCodeAt(i);this.valueBlock.value=e}}pn.NAME="SIMPLE STRING";class $6 extends pn{fromBuffer(e){this.valueBlock.valueHexView=it.toUint8Array(e);try{this.valueBlock.value=Jt.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=Jt.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Jt.FromUtf8String(e)),this.valueBlock.value=e}}$6.NAME="Utf8StringValueBlock";var K6;class To extends $6{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}K6=To;Ce.Utf8String=K6;To.NAME="UTF8String";class z6 extends pn{fromBuffer(e){this.valueBlock.value=Jt.ToUtf16String(e),this.valueBlock.valueHexView=it.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Jt.FromUtf16String(e))}}z6.NAME="BmpStringValueBlock";var W6;class Mu extends z6{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}W6=Mu;Ce.BmpString=W6;Mu.NAME="BMPString";class Q6 extends pn{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(t);for(let i=0;i<n.length;i+=4)n[i]=n[i+3],n[i+1]=n[i+2],n[i+2]=0,n[i+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t*4);for(let i=0;i<t;i++){const o=Vs(e.charCodeAt(i),8),s=new Uint8Array(o);if(s.length>4)continue;const a=4-s.length;for(let c=s.length-1;c>=0;c--)n[i*4+c+a]=s[c]}this.valueBlock.value=e}}Q6.NAME="UniversalStringValueBlock";var J6;class Pu extends Q6{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}J6=Pu;Ce.UniversalString=J6;Pu.NAME="UniversalString";var Y6;class Tu extends pn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Y6=Tu;Ce.NumericString=Y6;Tu.NAME="NumericString";var X6;class Cu extends pn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}X6=Cu;Ce.PrintableString=X6;Cu.NAME="PrintableString";var Z6;class Bu extends pn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Z6=Bu;Ce.TeletexString=Z6;Bu.NAME="TeletexString";var e4;class Iu extends pn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}e4=Iu;Ce.VideotexString=e4;Iu.NAME="VideotexString";var t4;class Nu extends pn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}t4=Nu;Ce.IA5String=t4;Nu.NAME="IA5String";var r4;class Ou extends pn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}r4=Ou;Ce.GraphicString=r4;Ou.NAME="GraphicString";var n4;class Kc extends pn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}n4=Kc;Ce.VisibleString=n4;Kc.NAME="VisibleString";var i4;class Ru extends pn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}i4=Ru;Ce.GeneralString=i4;Ru.NAME="GeneralString";var o4;class Du extends pn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}o4=Du;Ce.CharacterString=o4;Du.NAME="CharacterString";var s4;class zc extends Kc{constructor({value:e,valueDate:t,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let i=0;i<e.length;i++)this.valueBlock.valueHexView[i]=e.charCodeAt(i)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,it.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}const i=parseInt(n[1],10);i>=50?this.year=1900+i:this.year=2e3+i,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){const t=new Array(7);return t[0]=fn(this.year<2e3?this.year-1900:this.year-2e3,2),t[1]=fn(this.month,2),t[2]=fn(this.day,2),t[3]=fn(this.hour,2),t[4]=fn(this.minute,2),t[5]=fn(this.second,2),t[6]="Z",t.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}s4=zc;Ce.UTCTime=s4;zc.NAME="UTCTime";var a4;class Lu extends zc{constructor(e={}){var t;super(e),(t=this.millisecond)!==null&&t!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t=!1,n="",i="",o=0,s,a=0,c=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),t=!0;else{const p=new Number(e[e.length-1]);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(t){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let p=1,k=n.indexOf("+"),_="";if(k===-1&&(k=n.indexOf("-"),p=-1),k!==-1){if(_=n.substring(k+1),n=n.substring(0,k),_.length!==2&&_.length!==4)throw new Error("Wrong input string for conversion");let T=parseInt(_.substring(0,2),10);if(isNaN(T.valueOf()))throw new Error("Wrong input string for conversion");if(a=p*T,_.length===4){if(T=parseInt(_.substring(2,4),10),isNaN(T.valueOf()))throw new Error("Wrong input string for conversion");c=p*T}}}let d=n.indexOf(".");if(d===-1&&(d=n.indexOf(",")),d!==-1){const p=new Number(`0${n.substring(d)}`);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");o=p.valueOf(),i=n.substring(0,d)}else i=n;switch(!0){case i.length===8:if(s=/(\d{4})(\d{2})(\d{2})/ig,d!==-1)throw new Error("Wrong input string for conversion");break;case i.length===10:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,d!==-1){let p=60*o;this.minute=Math.floor(p),p=60*(p-this.minute),this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case i.length===12:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,d!==-1){let p=60*o;this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case i.length===14:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,d!==-1){const p=1e3*o;this.millisecond=Math.floor(p)}break;default:throw new Error("Wrong input string for conversion")}const l=s.exec(i);if(l===null)throw new Error("Wrong input string for conversion");for(let p=1;p<l.length;p++)switch(p){case 1:this.year=parseInt(l[p],10);break;case 2:this.month=parseInt(l[p],10);break;case 3:this.day=parseInt(l[p],10);break;case 4:this.hour=parseInt(l[p],10)+a;break;case 5:this.minute=parseInt(l[p],10)+c;break;case 6:this.second=parseInt(l[p],10);break;default:throw new Error("Wrong input string for conversion")}if(t===!1){const p=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=p.getUTCFullYear(),this.month=p.getUTCMonth(),this.day=p.getUTCDay(),this.hour=p.getUTCHours(),this.minute=p.getUTCMinutes(),this.second=p.getUTCSeconds(),this.millisecond=p.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const t=[];return t.push(fn(this.year,4)),t.push(fn(this.month,2)),t.push(fn(this.day,2)),t.push(fn(this.hour,2)),t.push(fn(this.minute,2)),t.push(fn(this.second,2)),this.millisecond!==0&&(t.push("."),t.push(fn(this.millisecond,3))),t.push("Z"),t.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}a4=Lu;Ce.GeneralizedTime=a4;Lu.NAME="GeneralizedTime";var f4;class Vg extends To{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}f4=Vg;Ce.DATE=f4;Vg.NAME="DATE";var c4;class jg extends To{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}c4=jg;Ce.TimeOfDay=c4;jg.NAME="TimeOfDay";var l4;class Gg extends To{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}l4=Gg;Ce.DateTime=l4;Gg.NAME="DateTime";var u4;class qg extends To{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}u4=qg;Ce.Duration=u4;qg.NAME="Duration";var d4;class $g extends To{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}d4=$g;Ce.TIME=d4;$g.NAME="TIME";class Gs{constructor({name:e=en,optional:t=!1}={}){this.name=e,this.optional=t}}class Kg extends Gs{constructor({value:e=[],...t}={}){super(t),this.value=e}}class C0 extends Gs{constructor({value:e=new Gs,local:t=!1,...n}={}){super(n),this.value=e,this.local=t}}class oT{constructor({data:e=Eu}={}){this.dataView=it.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=it.toUint8Array(e)}fromBER(e,t,n){const i=t+n;return this.dataView=it.toUint8Array(e).subarray(t,i),i}toBER(e){return this.dataView.slice().buffer}}function Ss(r,e,t){if(t instanceof Kg){for(let o=0;o<t.value.length;o++)if(Ss(r,e,t.value[o]).verified)return{verified:!0,result:r};{const o={verified:!1,result:{error:"Wrong values for Choice type"}};return t.hasOwnProperty(fh)&&(o.name=t.name),o}}if(t instanceof Gs)return t.hasOwnProperty(fh)&&(r[t.name]=e),{verified:!0,result:r};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(WP in t))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(XP in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(ZP in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=t.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(t.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(t.idBlock.hasOwnProperty(QP)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty(JP)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty(YP)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:r};if(!(zP in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:r};if(t.idBlock.isHexOnly){if(!(kv in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const o=t.idBlock.valueHexView,s=e.idBlock.valueHexView;if(o.length!==s.length)return{verified:!1,result:r};for(let a=0;a<o.length;a++)if(o[a]!==s[1])return{verified:!1,result:r}}if(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,en),t.name&&(r[t.name]=e)),t instanceof Ce.Constructed){let o=0,s={verified:!1,result:{error:"Unknown error"}},a=t.valueBlock.value.length;if(a>0&&t.valueBlock.value[0]instanceof C0&&(a=e.valueBlock.value.length),a===0)return{verified:!0,result:r};if(e.valueBlock.value.length===0&&t.valueBlock.value.length!==0){let c=!0;for(let d=0;d<t.valueBlock.value.length;d++)c=c&&(t.valueBlock.value[d].optional||!1);return c?{verified:!0,result:r}:(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,en),t.name&&delete r[t.name]),r.error="Inconsistent object length",{verified:!1,result:r})}for(let c=0;c<a;c++)if(c-o>=e.valueBlock.value.length){if(t.valueBlock.value[c].optional===!1){const d={verified:!1,result:r};return r.error="Inconsistent length between ASN.1 data and schema",t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,en),t.name&&(delete r[t.name],d.name=t.name)),d}}else if(t.valueBlock.value[0]instanceof C0){if(s=Ss(r,e.valueBlock.value[c],t.valueBlock.value[0].value),s.verified===!1)if(t.valueBlock.value[0].optional)o++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,en),t.name&&delete r[t.name]),s;if(fh in t.valueBlock.value[0]&&t.valueBlock.value[0].name.length>0){let d={};eT in t.valueBlock.value[0]&&t.valueBlock.value[0].local?d=e:d=r,typeof d[t.valueBlock.value[0].name]>"u"&&(d[t.valueBlock.value[0].name]=[]),d[t.valueBlock.value[0].name].push(e.valueBlock.value[c])}}else if(s=Ss(r,e.valueBlock.value[c-o],t.valueBlock.value[c]),s.verified===!1)if(t.valueBlock.value[c].optional)o++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,en),t.name&&delete r[t.name]),s;if(s.verified===!1){const c={verified:!1,result:r};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,en),t.name&&(delete r[t.name],c.name=t.name)),c}return{verified:!0,result:r}}if(t.primitiveSchema&&kv in e.valueBlock){const o=xf(e.valueBlock.valueHexView);if(o.offset===-1){const s={verified:!1,result:o.result};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,en),t.name&&(delete r[t.name],s.name=t.name)),s}return Ss(r,o.result,t.primitiveSchema)}return{verified:!0,result:r}}function sT(r,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const t=xf(it.toUint8Array(r));return t.offset===-1?{verified:!1,result:t.result}:Ss(t.result,t.result,e)}const h4=Object.freeze(Object.defineProperty({__proto__:null,Any:Gs,BaseBlock:yr,BaseStringBlock:Lg,BitString:Ps,BmpString:Mu,Boolean:Su,CharacterString:Du,Choice:Kg,Constructed:tn,DATE:Vg,DateTime:Gg,Duration:qg,EndOfContent:Ug,Enumerated:ku,GeneralString:Ru,GeneralizedTime:Lu,GraphicString:Ou,HexBlock:zi,IA5String:Nu,Integer:ci,Null:js,NumericString:Tu,ObjectIdentifier:_u,OctetString:uo,Primitive:$c,PrintableString:Cu,RawData:oT,RelativeObjectIdentifier:Hg,Repeated:C0,Sequence:ho,Set:po,TIME:$g,TeletexString:Bu,TimeOfDay:jg,UTCTime:zc,UniversalString:Pu,Utf8String:To,ValueBlock:zr,VideotexString:Iu,ViewWriter:Au,VisibleString:Kc,compareSchema:Ss,fromBER:La,verifySchema:sT},Symbol.toStringTag,{value:"Module"}));var Gr;(function(r){r[r.Sequence=0]="Sequence",r[r.Set=1]="Set",r[r.Choice=2]="Choice"})(Gr||(Gr={}));var Pt;(function(r){r[r.Any=1]="Any",r[r.Boolean=2]="Boolean",r[r.OctetString=3]="OctetString",r[r.BitString=4]="BitString",r[r.Integer=5]="Integer",r[r.Enumerated=6]="Enumerated",r[r.ObjectIdentifier=7]="ObjectIdentifier",r[r.Utf8String=8]="Utf8String",r[r.BmpString=9]="BmpString",r[r.UniversalString=10]="UniversalString",r[r.NumericString=11]="NumericString",r[r.PrintableString=12]="PrintableString",r[r.TeletexString=13]="TeletexString",r[r.VideotexString=14]="VideotexString",r[r.IA5String=15]="IA5String",r[r.GraphicString=16]="GraphicString",r[r.VisibleString=17]="VisibleString",r[r.GeneralString=18]="GeneralString",r[r.CharacterString=19]="CharacterString",r[r.UTCTime=20]="UTCTime",r[r.GeneralizedTime=21]="GeneralizedTime",r[r.DATE=22]="DATE",r[r.TimeOfDay=23]="TimeOfDay",r[r.DateTime=24]="DateTime",r[r.Duration=25]="Duration",r[r.TIME=26]="TIME",r[r.Null=27]="Null"})(Pt||(Pt={}));class aT{constructor(e,t=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(it.isBufferSource(e))this.unusedBits=t,this.value=it.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Ps))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Ps({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Ps({name:e})}toNumber(){let e="";const t=new Uint8Array(this.value);for(const n of t)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let t=e.toString(2);const n=t.length+7>>3;this.unusedBits=(n<<3)-t.length;const i=new Uint8Array(n);t=t.padStart(n<<3,"0").split("").reverse().join("");let o=0;for(;o<n;)i[o]=parseInt(t.slice(o<<3,(o<<3)+8),2),o++;this.value=i.buffer}}class p4{constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):it.isBufferSource(e)?this.buffer=it.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(e){if(!(e instanceof uo))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new uo({valueHex:this.buffer})}toSchema(e){return new uo({name:e})}}const g4={fromASN:r=>r instanceof js?null:r.valueBeforeDecodeView,toASN:r=>{if(r===null)return new js;const e=La(r);if(e.result.error)throw new Error(e.result.error);return e.result}},m4={fromASN:r=>r.valueBlock.valueHexView.byteLength>=4?r.valueBlock.toString():r.valueBlock.valueDec,toASN:r=>new ci({value:+r})},b4={fromASN:r=>r.valueBlock.valueDec,toASN:r=>new ku({value:r})},fT={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new ci({valueHex:r})},cT={fromASN:r=>r.toBigInt(),toASN:r=>ci.fromBigInt(r)},v4={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new Ps({valueHex:r})},y4={fromASN:r=>r.valueBlock.toString(),toASN:r=>new _u({value:r})},x4={fromASN:r=>r.valueBlock.value,toASN:r=>new Su({value:r})},w4={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new uo({valueHex:r})},lT={fromASN:r=>new p4(r.getValue()),toASN:r=>r.toASN()};function Bn(r){return{fromASN:e=>e.valueBlock.value,toASN:e=>new r({value:e})}}const A4=Bn(To),E4=Bn(Mu),S4=Bn(Pu),k4=Bn(Tu),_4=Bn(Cu),M4=Bn(Bu),P4=Bn(Iu),T4=Bn(Nu),C4=Bn(Ou),B4=Bn(Kc),I4=Bn(Ru),N4=Bn(Du),O4={fromASN:r=>r.toDate(),toASN:r=>new zc({valueDate:r})},R4={fromASN:r=>r.toDate(),toASN:r=>new Lu({valueDate:r})},D4={fromASN:()=>null,toASN:()=>new js};function Uu(r){switch(r){case Pt.Any:return g4;case Pt.BitString:return v4;case Pt.BmpString:return E4;case Pt.Boolean:return x4;case Pt.CharacterString:return N4;case Pt.Enumerated:return b4;case Pt.GeneralString:return I4;case Pt.GeneralizedTime:return R4;case Pt.GraphicString:return C4;case Pt.IA5String:return T4;case Pt.Integer:return m4;case Pt.Null:return D4;case Pt.NumericString:return k4;case Pt.ObjectIdentifier:return y4;case Pt.OctetString:return w4;case Pt.PrintableString:return _4;case Pt.TeletexString:return M4;case Pt.UTCTime:return O4;case Pt.UniversalString:return S4;case Pt.Utf8String:return A4;case Pt.VideotexString:return P4;case Pt.VisibleString:return B4;default:return null}}function so(r){return typeof r=="function"&&r.prototype?r.prototype.toASN&&r.prototype.fromASN?!0:so(r.prototype):!!(r&&typeof r=="object"&&"toASN"in r&&"fromASN"in r)}function L4(r){var e;if(r){const t=Object.getPrototypeOf(r);return((e=t?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:L4(t)}return!1}function uT(r,e){if(!(r&&e)||r.byteLength!==e.byteLength)return!1;const t=new Uint8Array(r),n=new Uint8Array(e);for(let i=0;i<r.byteLength;i++)if(t[i]!==n[i])return!1;return!0}class dT{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){const n=this.items.get(e);if(!n)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!n.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(e){const t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){const t={type:Gr.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(t,n),t.items=Object.assign({},t.items,n.items)),t}create(e,t){const n=this.items.get(e)||this.createDefault(e),i=[];for(const o in n.items){const s=n.items[o],a=t?o:"";let c;if(typeof s.type=="number"){const l=Pt[s.type],p=h4[l];if(!p)throw new Error(`Cannot get ASN1 class by name '${l}'`);c=new p({name:a})}else so(s.type)?c=new s.type().toSchema(a):s.optional?this.get(s.type).type===Gr.Choice?c=new Gs({name:a}):(c=this.create(s.type,!1),c.name=a):c=new Gs({name:a});const d=!!s.optional||s.defaultValue!==void 0;if(s.repeated){c.name="";const l=s.repeated==="set"?po:ho;c=new l({name:"",value:[new C0({name:a,value:c})]})}if(s.context!==null&&s.context!==void 0)if(s.implicit)if(typeof s.type=="number"||so(s.type)){const l=s.repeated?tn:$c;i.push(new l({name:a,optional:d,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);const l=!!s.repeated;let p=l?c:this.get(s.type,!0).schema;p="valueBlock"in p?p.valueBlock.value:p.value,i.push(new tn({name:l?"":a,optional:d,idBlock:{tagClass:3,tagNumber:s.context},value:p}))}else i.push(new tn({optional:d,idBlock:{tagClass:3,tagNumber:s.context},value:[c]}));else c.optional=d,i.push(c)}switch(n.type){case Gr.Sequence:return new ho({value:i,name:""});case Gr.Set:return new po({value:i,name:""});case Gr.Choice:return new Kg({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){const t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}const kn=new dT,Fu=r=>e=>{let t;kn.has(e)?t=kn.get(e):(t=kn.createDefault(e),kn.set(e,t)),Object.assign(t,r)},hT=()=>Fu({type:Gr.Choice}),pT=r=>Fu({type:Gr.Set,...r}),gT=r=>Fu({type:Gr.Sequence,...r}),mT=r=>(e,t)=>{let n;kn.has(e.constructor)?n=kn.get(e.constructor):(n=kn.createDefault(e.constructor),kn.set(e.constructor,n));const i=Object.assign({},r);if(typeof i.type=="number"&&!i.converter){const o=Uu(r.type);if(!o)throw new Error(`Cannot get default converter for property '${t}' of ${e.constructor.name}`);i.converter=o}n.items[t]=i};class cp extends Error{constructor(){super(...arguments),this.schemas=[]}}class zg{static parse(e,t){const n=La(e);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,t)}static fromASN(e,t){var n;try{if(so(t))return new t().fromASN(e);const i=kn.get(t);kn.cache(t);let o=i.schema;if(e.constructor===tn&&i.type!==Gr.Choice){o=new tn({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:i.schema.valueBlock.value});for(const c in i.items)delete e[c]}const s=Ss({},e,o);if(!s.verified)throw new cp(`Data does not match to ${t.name} ASN1 schema. ${s.result.error}`);const a=new t;if(L4(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const c=i.itemType;if(typeof c=="number"){const d=Uu(c);if(!d)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,l=>d.fromASN(l))}else return t.from(e.valueBlock.value,d=>this.fromASN(d,c))}for(const c in i.items){const d=s.result[c];if(!d)continue;const l=i.items[c],p=l.type;if(typeof p=="number"||so(p)){const k=(n=l.converter)!==null&&n!==void 0?n:so(p)?new p:null;if(!k)throw new Error("Converter is empty");if(l.repeated)if(l.implicit){const _=l.repeated==="sequence"?ho:po,T=new _;T.valueBlock=d.valueBlock;const C=La(T.toBER(!1));if(C.offset===-1)throw new Error(`Cannot parse the child item. ${C.result.error}`);if(!("value"in C.result.valueBlock&&Array.isArray(C.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const M=C.result.valueBlock.value;a[c]=Array.from(M,P=>k.fromASN(P))}else a[c]=Array.from(d,_=>k.fromASN(_));else{let _=d;if(l.implicit){let T;if(so(p))T=new p().toSchema("");else{const C=Pt[p],M=h4[C];if(!M)throw new Error(`Cannot get '${C}' class from asn1js module`);T=new M}T.valueBlock=_.valueBlock,_=La(T.toBER(!1)).result}a[c]=k.fromASN(_)}}else if(l.repeated){if(!Array.isArray(d))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[c]=Array.from(d,k=>this.fromASN(k,p))}else a[c]=this.fromASN(d,p)}return a}catch(i){throw i instanceof cp&&i.schemas.push(t.name),i}}}class Hu{static serialize(e){return e instanceof yr?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&so(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");const t=e.constructor,n=kn.get(t);kn.cache(t);let i=[];if(n.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){const s=Uu(n.itemType);if(!s)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);i=e.map(a=>s.toASN(a))}else i=e.map(s=>this.toAsnItem({type:n.itemType},"[]",t,s))}else for(const s in n.items){const a=n.items[s],c=e[s];if(c===void 0||a.defaultValue===c||typeof a.defaultValue=="object"&&typeof c=="object"&&uT(this.serialize(a.defaultValue),this.serialize(c)))continue;const d=Hu.toAsnItem(a,s,t,c);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||so(a.type))){const l={};l.valueHex=d instanceof js?d.valueBeforeDecodeView:d.valueBlock.toBER(),i.push(new $c({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...l}))}else i.push(new tn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:d.valueBlock.value}));else i.push(new tn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[d]}));else a.repeated?i=i.concat(d):i.push(d)}let o;switch(n.type){case Gr.Sequence:o=new ho({value:i});break;case Gr.Set:o=new po({value:i});break;case Gr.Choice:if(!i[0])throw new Error(`Schema '${t.name}' has wrong data. Choice cannot be empty.`);o=i[0];break}return o}static toAsnItem(e,t,n,i){let o;if(typeof e.type=="number"){const s=e.converter;if(!s)throw new Error(`Property '${t}' doesn't have converter for type ${Pt[e.type]} in schema '${n.name}'`);if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(i,d=>s.toASN(d)),c=e.repeated==="sequence"?ho:po;o=new c({value:a})}else o=s.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");const s=Array.from(i,c=>this.toASN(c)),a=e.repeated==="sequence"?ho:po;o=new a({value:s})}else o=this.toASN(i);return o}}class bT extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(const t of e)this.push(t)}}}class Wg{static serialize(e){return Hu.serialize(e)}static parse(e,t){return zg.parse(e,t)}static toString(e){const t=it.isBufferSource(e)?it.toArrayBuffer(e):Wg.serialize(e),n=La(t);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}}const vT=Object.freeze(Object.defineProperty({__proto__:null,AsnProp:mT,AsnType:Fu,AsnChoiceType:hT,AsnSequenceType:gT,AsnSetType:pT,get AsnTypeTypes(){return Gr},get AsnPropTypes(){return Pt},AsnParser:zg,AsnSerializer:Hu,AsnAnyConverter:g4,AsnIntegerConverter:m4,AsnEnumeratedConverter:b4,AsnIntegerArrayBufferConverter:fT,AsnIntegerBigIntConverter:cT,AsnBitStringConverter:v4,AsnObjectIdentifierConverter:y4,AsnBooleanConverter:x4,AsnOctetStringConverter:w4,AsnConstructedOctetStringConverter:lT,AsnUtf8StringConverter:A4,AsnBmpStringConverter:E4,AsnUniversalStringConverter:S4,AsnNumericStringConverter:k4,AsnPrintableStringConverter:_4,AsnTeletexStringConverter:M4,AsnVideotexStringConverter:P4,AsnIA5StringConverter:T4,AsnGraphicStringConverter:C4,AsnVisibleStringConverter:B4,AsnGeneralStringConverter:I4,AsnCharacterStringConverter:N4,AsnUTCTimeConverter:O4,AsnGeneralizedTimeConverter:R4,AsnNullConverter:D4,defaultConverter:Uu,BitString:aT,OctetString:p4,AsnSchemaValidationError:cp,AsnArray:bT,AsnConvert:Wg},Symbol.toStringTag,{value:"Module"})),Dt=jt(vT);var ta=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(ji,"__esModule",{value:!0});ji.UsageProof=ji.Proof=void 0;const nn=Dt;class Wc{}ta([(0,nn.AsnProp)({type:nn.AsnPropTypes.OctetString})],Wc.prototype,"riddle",void 0);ta([(0,nn.AsnProp)({type:nn.AsnPropTypes.OctetString})],Wc.prototype,"challengePoint",void 0);ta([(0,nn.AsnProp)({type:nn.AsnPropTypes.OctetString})],Wc.prototype,"responseValue",void 0);ta([(0,nn.AsnProp)({type:nn.AsnPropTypes.OctetString})],Wc.prototype,"nonce",void 0);ji.Proof=Wc;class Vu{}ta([(0,nn.AsnProp)({type:nn.AsnPropTypes.OctetString})],Vu.prototype,"challengePoint",void 0);ta([(0,nn.AsnProp)({type:nn.AsnPropTypes.OctetString})],Vu.prototype,"responseValue",void 0);ta([(0,nn.AsnProp)({type:nn.AsnPropTypes.OctetString})],Vu.prototype,"nonce",void 0);ji.UsageProof=Vu;var In={},ju={exports:{}},yT="Function.prototype.bind called on incompatible ",ch=Array.prototype.slice,xT=Object.prototype.toString,wT="[object Function]",AT=function(e){var t=this;if(typeof t!="function"||xT.call(t)!==wT)throw new TypeError(yT+t);for(var n=ch.call(arguments,1),i,o=function(){if(this instanceof i){var l=t.apply(this,n.concat(ch.call(arguments)));return Object(l)===l?l:this}else return t.apply(e,n.concat(ch.call(arguments)))},s=Math.max(0,t.length-n.length),a=[],c=0;c<s;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var d=function(){};d.prototype=t.prototype,i.prototype=new d,d.prototype=null}return i},ET=AT,Qg=Function.prototype.bind||ET,U4=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==i||s.enumerable!==!0)return!1}return!0},Mv=typeof Symbol<"u"&&Symbol,ST=U4,wf=function(){return typeof Mv!="function"||typeof Symbol!="function"||typeof Mv("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ST()},kT=Qg,Co=kT.call(Function.call,Object.prototype.hasOwnProperty),st,ef=SyntaxError,F4=Function,Ua=TypeError,lh=function(r){try{return F4('"use strict"; return ('+r+").constructor;")()}catch{}},Ts=Object.getOwnPropertyDescriptor;if(Ts)try{Ts({},"")}catch{Ts=null}var uh=function(){throw new Ua},_T=Ts?function(){try{return arguments.callee,uh}catch{try{return Ts(arguments,"callee").get}catch{return uh}}}():uh,da=wf(),Ci=Object.getPrototypeOf||function(r){return r.__proto__},wa={},MT=typeof Uint8Array>"u"?st:Ci(Uint8Array),Cs={"%AggregateError%":typeof AggregateError>"u"?st:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?st:ArrayBuffer,"%ArrayIteratorPrototype%":da?Ci([][Symbol.iterator]()):st,"%AsyncFromSyncIteratorPrototype%":st,"%AsyncFunction%":wa,"%AsyncGenerator%":wa,"%AsyncGeneratorFunction%":wa,"%AsyncIteratorPrototype%":wa,"%Atomics%":typeof Atomics>"u"?st:Atomics,"%BigInt%":typeof BigInt>"u"?st:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?st:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?st:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?st:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?st:Float32Array,"%Float64Array%":typeof Float64Array>"u"?st:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?st:FinalizationRegistry,"%Function%":F4,"%GeneratorFunction%":wa,"%Int8Array%":typeof Int8Array>"u"?st:Int8Array,"%Int16Array%":typeof Int16Array>"u"?st:Int16Array,"%Int32Array%":typeof Int32Array>"u"?st:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":da?Ci(Ci([][Symbol.iterator]())):st,"%JSON%":typeof JSON=="object"?JSON:st,"%Map%":typeof Map>"u"?st:Map,"%MapIteratorPrototype%":typeof Map>"u"||!da?st:Ci(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?st:Promise,"%Proxy%":typeof Proxy>"u"?st:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?st:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?st:Set,"%SetIteratorPrototype%":typeof Set>"u"||!da?st:Ci(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?st:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":da?Ci(""[Symbol.iterator]()):st,"%Symbol%":da?Symbol:st,"%SyntaxError%":ef,"%ThrowTypeError%":_T,"%TypedArray%":MT,"%TypeError%":Ua,"%Uint8Array%":typeof Uint8Array>"u"?st:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?st:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?st:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?st:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?st:WeakMap,"%WeakRef%":typeof WeakRef>"u"?st:WeakRef,"%WeakSet%":typeof WeakSet>"u"?st:WeakSet};try{null.error}catch(r){var PT=Ci(Ci(r));Cs["%Error.prototype%"]=PT}var TT=function r(e){var t;if(e==="%AsyncFunction%")t=lh("async function () {}");else if(e==="%GeneratorFunction%")t=lh("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=lh("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&(t=Ci(i.prototype))}return Cs[e]=t,t},Pv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Qc=Qg,B0=Co,CT=Qc.call(Function.call,Array.prototype.concat),BT=Qc.call(Function.apply,Array.prototype.splice),Tv=Qc.call(Function.call,String.prototype.replace),I0=Qc.call(Function.call,String.prototype.slice),IT=Qc.call(Function.call,RegExp.prototype.exec),NT=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,OT=/\\(\\)?/g,RT=function(e){var t=I0(e,0,1),n=I0(e,-1);if(t==="%"&&n!=="%")throw new ef("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new ef("invalid intrinsic syntax, expected opening `%`");var i=[];return Tv(e,NT,function(o,s,a,c){i[i.length]=a?Tv(c,OT,"$1"):s||o}),i},DT=function(e,t){var n=e,i;if(B0(Pv,n)&&(i=Pv[n],n="%"+i[0]+"%"),B0(Cs,n)){var o=Cs[n];if(o===wa&&(o=TT(n)),typeof o>"u"&&!t)throw new Ua("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new ef("intrinsic "+e+" does not exist!")},ct=function(e,t){if(typeof e!="string"||e.length===0)throw new Ua("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Ua('"allowMissing" argument must be a boolean');if(IT(/^%?[^%]*%?$/,e)===null)throw new ef("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=RT(e),i=n.length>0?n[0]:"",o=DT("%"+i+"%",t),s=o.name,a=o.value,c=!1,d=o.alias;d&&(i=d[0],BT(n,CT([0,1],d)));for(var l=1,p=!0;l<n.length;l+=1){var k=n[l],_=I0(k,0,1),T=I0(k,-1);if((_==='"'||_==="'"||_==="`"||T==='"'||T==="'"||T==="`")&&_!==T)throw new ef("property names with quotes must have matching quotes");if((k==="constructor"||!p)&&(c=!0),i+="."+k,s="%"+i+"%",B0(Cs,s))a=Cs[s];else if(a!=null){if(!(k in a)){if(!t)throw new Ua("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ts&&l+1>=n.length){var C=Ts(a,k);p=!!C,p&&"get"in C&&!("originalValue"in C.get)?a=C.get:a=a[k]}else p=B0(a,k),a=a[k];p&&!c&&(Cs[s]=a)}}return a};(function(r){var e=Qg,t=ct,n=t("%Function.prototype.apply%"),i=t("%Function.prototype.call%"),o=t("%Reflect.apply%",!0)||e.call(i,n),s=t("%Object.getOwnPropertyDescriptor%",!0),a=t("%Object.defineProperty%",!0),c=t("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}r.exports=function(p){var k=o(e,i,arguments);if(s&&a){var _=s(k,"length");_.configurable&&a(k,"length",{value:1+c(0,p.length-(arguments.length-1))})}return k};var d=function(){return o(e,n,arguments)};a?a(r.exports,"apply",{value:d}):r.exports.apply=d})(ju);var Cv=Object.prototype.toString,H4=function(e){var t=Cv.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Cv.call(e.callee)==="[object Function]"),n},dh,Bv;function LT(){if(Bv)return dh;Bv=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=H4,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(k){var _=k.constructor;return _&&_.prototype===k},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},l=function(){if(typeof window>"u")return!1;for(var k in window)try{if(!d["$"+k]&&e.call(window,k)&&window[k]!==null&&typeof window[k]=="object")try{c(window[k])}catch{return!0}}catch{return!0}return!1}(),p=function(k){if(typeof window>"u"||!l)return c(k);try{return c(k)}catch{return!1}};r=function(_){var T=_!==null&&typeof _=="object",C=t.call(_)==="[object Function]",M=n(_),P=T&&t.call(_)==="[object String]",N=[];if(!T&&!C&&!M)throw new TypeError("Object.keys called on a non-object");var U=s&&C;if(P&&_.length>0&&!e.call(_,0))for(var $=0;$<_.length;++$)N.push(String($));if(M&&_.length>0)for(var G=0;G<_.length;++G)N.push(String(G));else for(var X in _)!(U&&X==="prototype")&&e.call(_,X)&&N.push(String(X));if(o)for(var ye=p(_),ce=0;ce<a.length;++ce)!(ye&&a[ce]==="constructor")&&e.call(_,a[ce])&&N.push(a[ce]);return N}}return dh=r,dh}var UT=Array.prototype.slice,FT=H4,Iv=Object.keys,n0=Iv?function(e){return Iv(e)}:LT(),Nv=Object.keys;n0.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(n){return FT(n)?Nv(UT.call(n)):Nv(n)})}else Object.keys=n0;return Object.keys||n0};var HT=n0,VT=ct,lp=VT("%Object.defineProperty%",!0),up=function(){if(lp)try{return lp({},"a",{value:1}),!0}catch{return!1}return!1};up.hasArrayLengthDefineBug=function(){if(!up())return null;try{return lp([],"length",{value:1}).length!==1}catch{return!0}};var V4=up,jT=HT,GT=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",qT=Object.prototype.toString,$T=Array.prototype.concat,j4=Object.defineProperty,KT=function(r){return typeof r=="function"&&qT.call(r)==="[object Function]"},zT=V4(),G4=j4&&zT,WT=function(r,e,t,n){if(e in r){if(n===!0){if(r[e]===t)return}else if(!KT(n)||!n())return}G4?j4(r,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):r[e]=t},q4=function(r,e){var t=arguments.length>2?arguments[2]:{},n=jT(e);GT&&(n=$T.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)WT(r,n[i],e[n[i]],t[n[i]])};q4.supportsDescriptors=!!G4;var Jc=q4,$4=ct,K4=ju.exports,QT=K4($4("String.prototype.indexOf")),mi=function(e,t){var n=$4(e,!!t);return typeof n=="function"&&QT(e,".prototype.")>-1?K4(n):n},hh={exports:{}},ph,Ov;function z4(){if(Ov)return ph;Ov=1;var r=ct,e=r("%Array%"),t=!e.isArray&&mi("Object.prototype.toString");return ph=e.isArray||function(i){return t(i)==="[object Array]"},ph}var Rv;function W4(){return Rv||(Rv=1,function(r){r.exports=z4()}(hh)),hh.exports}var Q4=ct,JT=mi,YT=Q4("%TypeError%"),XT=W4(),ZT=Q4("%Reflect.apply%",!0)||JT("%Function.prototype.apply%"),J4=function(e,t){var n=arguments.length>2?arguments[2]:[];if(!XT(n))throw new YT("Assertion failed: optional `argumentsList`, if provided, must be a List");return ZT(e,t,n)},gh,Dv;function Jg(){if(Dv)return gh;Dv=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&o&&typeof o.get=="function"?o.get:null,a=i&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,d=c?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,p=l?WeakSet.prototype.has:null,k=typeof WeakRef=="function"&&WeakRef.prototype,_=k?WeakRef.prototype.deref:null,T=Boolean.prototype.valueOf,C=Object.prototype.toString,M=Function.prototype.toString,P=String.prototype.match,N=String.prototype.slice,U=String.prototype.replace,$=String.prototype.toUpperCase,G=String.prototype.toLowerCase,X=RegExp.prototype.test,ye=Array.prototype.concat,ce=Array.prototype.join,me=Array.prototype.slice,Be=Math.floor,I=typeof BigInt=="function"?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,f=typeof Symbol=="function"&&typeof Symbol.iterator=="object",h=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===f?"object":"symbol")?Symbol.toStringTag:null,b=Object.prototype.propertyIsEnumerable,y=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(V){return V.__proto__}:null);function x(V,K){if(V===1/0||V===-1/0||V!==V||V&&V>-1e3&&V<1e3||X.call(/e/,K))return K;var ve=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof V=="number"){var oe=V<0?-Be(-V):Be(V);if(oe!==V){var Ie=String(oe),pe=N.call(K,Ie.length+1);return U.call(Ie,ve,"$&_")+"."+U.call(U.call(pe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return U.call(K,ve,"$&_")}var w=wo,v=w.custom,g=J(v)?v:null;gh=function V(K,ve,oe,Ie){var pe=ve||{};if(D(pe,"quoteStyle")&&pe.quoteStyle!=="single"&&pe.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(D(pe,"maxStringLength")&&(typeof pe.maxStringLength=="number"?pe.maxStringLength<0&&pe.maxStringLength!==1/0:pe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ae=D(pe,"customInspect")?pe.customInspect:!0;if(typeof Ae!="boolean"&&Ae!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(D(pe,"indent")&&pe.indent!==null&&pe.indent!=="	"&&!(parseInt(pe.indent,10)===pe.indent&&pe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(D(pe,"numericSeparator")&&typeof pe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var et=pe.numericSeparator;if(typeof K>"u")return"undefined";if(K===null)return"null";if(typeof K=="boolean")return K?"true":"false";if(typeof K=="string")return re(K,pe);if(typeof K=="number"){if(K===0)return 1/0/K>0?"0":"-0";var Oe=String(K);return et?x(K,Oe):Oe}if(typeof K=="bigint"){var Ee=String(K)+"n";return et?x(K,Ee):Ee}var lt=typeof pe.depth>"u"?5:pe.depth;if(typeof oe>"u"&&(oe=0),oe>=lt&&lt>0&&typeof K=="object")return O(K)?"[Array]":"[Object]";var Fe=he(pe,oe);if(typeof Ie>"u")Ie=[];else if(W(Ie,K)>=0)return"[Circular]";function we(Ue,He,ar){if(He&&(Ie=me.call(Ie),Ie.push(He)),ar){var nr={depth:pe.depth};return D(pe,"quoteStyle")&&(nr.quoteStyle=pe.quoteStyle),V(Ue,nr,oe+1,Ie)}return V(Ue,pe,oe+1,Ie)}if(typeof K=="function"&&!B(K)){var gt=te(K),qe=Le(K,we);return"[Function"+(gt?": "+gt:" (anonymous)")+"]"+(qe.length>0?" { "+ce.call(qe,", ")+" }":"")}if(J(K)){var _e=f?U.call(String(K),/^(Symbol\(.*\))_[^)]*$/,"$1"):m.call(K);return typeof K=="object"&&!f?le(_e):_e}if(se(K)){for(var nt="<"+G.call(String(K.nodeName)),Ve=K.attributes||[],Se=0;Se<Ve.length;Se++)nt+=" "+Ve[Se].name+"="+u(S(Ve[Se].value),"double",pe);return nt+=">",K.childNodes&&K.childNodes.length&&(nt+="..."),nt+="</"+G.call(String(K.nodeName))+">",nt}if(O(K)){if(K.length===0)return"[]";var ut=Le(K,we);return Fe&&!xe(ut)?"["+ze(ut,Fe)+"]":"[ "+ce.call(ut,", ")+" ]"}if(L(K)){var je=Le(K,we);return!("cause"in Error.prototype)&&"cause"in K&&!b.call(K,"cause")?"{ ["+String(K)+"] "+ce.call(ye.call("[cause]: "+we(K.cause),je),", ")+" }":je.length===0?"["+String(K)+"]":"{ ["+String(K)+"] "+ce.call(je,", ")+" }"}if(typeof K=="object"&&Ae){if(g&&typeof K[g]=="function"&&w)return w(K,{depth:lt-oe});if(Ae!=="symbol"&&typeof K.inspect=="function")return K.inspect()}if(Q(K)){var Me=[];return n&&n.call(K,function(Ue,He){Me.push(we(He,K,!0)+" => "+we(Ue,K))}),De("Map",t.call(K),Me,Fe)}if(Y(K)){var mt=[];return a&&a.call(K,function(Ue){mt.push(we(Ue,K))}),De("Set",s.call(K),mt,Fe)}if(fe(K))return ae("WeakMap");if(ne(K))return ae("WeakSet");if(ee(K))return ae("WeakRef");if(q(K))return le(we(Number(K)));if(z(K))return le(we(I.call(K)));if(ie(K))return le(T.call(K));if(F(K))return le(we(String(K)));if(!A(K)&&!B(K)){var Ge=Le(K,we),Pe=y?y(K)===Object.prototype:K instanceof Object||K.constructor===Object,dt=K instanceof Object?"":"null prototype",$e=!Pe&&h&&Object(K)===K&&h in K?N.call(H(K),8,-1):dt?"Object":"",Te=Pe||typeof K.constructor!="function"?"":K.constructor.name?K.constructor.name+" ":"",ht=Te+($e||dt?"["+ce.call(ye.call([],$e||[],dt||[]),": ")+"] ":"");return Ge.length===0?ht+"{}":Fe?ht+"{"+ze(Ge,Fe)+"}":ht+"{ "+ce.call(Ge,", ")+" }"}return String(K)};function u(V,K,ve){var oe=(ve.quoteStyle||K)==="double"?'"':"'";return oe+V+oe}function S(V){return U.call(String(V),/"/g,"&quot;")}function O(V){return H(V)==="[object Array]"&&(!h||!(typeof V=="object"&&h in V))}function A(V){return H(V)==="[object Date]"&&(!h||!(typeof V=="object"&&h in V))}function B(V){return H(V)==="[object RegExp]"&&(!h||!(typeof V=="object"&&h in V))}function L(V){return H(V)==="[object Error]"&&(!h||!(typeof V=="object"&&h in V))}function F(V){return H(V)==="[object String]"&&(!h||!(typeof V=="object"&&h in V))}function q(V){return H(V)==="[object Number]"&&(!h||!(typeof V=="object"&&h in V))}function ie(V){return H(V)==="[object Boolean]"&&(!h||!(typeof V=="object"&&h in V))}function J(V){if(f)return V&&typeof V=="object"&&V instanceof Symbol;if(typeof V=="symbol")return!0;if(!V||typeof V!="object"||!m)return!1;try{return m.call(V),!0}catch{}return!1}function z(V){if(!V||typeof V!="object"||!I)return!1;try{return I.call(V),!0}catch{}return!1}var R=Object.prototype.hasOwnProperty||function(V){return V in this};function D(V,K){return R.call(V,K)}function H(V){return C.call(V)}function te(V){if(V.name)return V.name;var K=P.call(M.call(V),/^function\s*([\w$]+)/);return K?K[1]:null}function W(V,K){if(V.indexOf)return V.indexOf(K);for(var ve=0,oe=V.length;ve<oe;ve++)if(V[ve]===K)return ve;return-1}function Q(V){if(!t||!V||typeof V!="object")return!1;try{t.call(V);try{s.call(V)}catch{return!0}return V instanceof Map}catch{}return!1}function fe(V){if(!d||!V||typeof V!="object")return!1;try{d.call(V,d);try{p.call(V,p)}catch{return!0}return V instanceof WeakMap}catch{}return!1}function ee(V){if(!_||!V||typeof V!="object")return!1;try{return _.call(V),!0}catch{}return!1}function Y(V){if(!s||!V||typeof V!="object")return!1;try{s.call(V);try{t.call(V)}catch{return!0}return V instanceof Set}catch{}return!1}function ne(V){if(!p||!V||typeof V!="object")return!1;try{p.call(V,p);try{d.call(V,d)}catch{return!0}return V instanceof WeakSet}catch{}return!1}function se(V){return!V||typeof V!="object"?!1:typeof HTMLElement<"u"&&V instanceof HTMLElement?!0:typeof V.nodeName=="string"&&typeof V.getAttribute=="function"}function re(V,K){if(V.length>K.maxStringLength){var ve=V.length-K.maxStringLength,oe="... "+ve+" more character"+(ve>1?"s":"");return re(N.call(V,0,K.maxStringLength),K)+oe}var Ie=U.call(U.call(V,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,be);return u(Ie,"single",K)}function be(V){var K=V.charCodeAt(0),ve={8:"b",9:"t",10:"n",12:"f",13:"r"}[K];return ve?"\\"+ve:"\\x"+(K<16?"0":"")+$.call(K.toString(16))}function le(V){return"Object("+V+")"}function ae(V){return V+" { ? }"}function De(V,K,ve,oe){var Ie=oe?ze(ve,oe):ce.call(ve,", ");return V+" ("+K+") {"+Ie+"}"}function xe(V){for(var K=0;K<V.length;K++)if(W(V[K],`
`)>=0)return!1;return!0}function he(V,K){var ve;if(V.indent==="	")ve="	";else if(typeof V.indent=="number"&&V.indent>0)ve=ce.call(Array(V.indent+1)," ");else return null;return{base:ve,prev:ce.call(Array(K+1),ve)}}function ze(V,K){if(V.length===0)return"";var ve=`
`+K.prev+K.base;return ve+ce.call(V,","+ve)+`
`+K.prev}function Le(V,K){var ve=O(V),oe=[];if(ve){oe.length=V.length;for(var Ie=0;Ie<V.length;Ie++)oe[Ie]=D(V,Ie)?K(V[Ie],V):""}var pe=typeof E=="function"?E(V):[],Ae;if(f){Ae={};for(var et=0;et<pe.length;et++)Ae["$"+pe[et]]=pe[et]}for(var Oe in V)!D(V,Oe)||ve&&String(Number(Oe))===Oe&&Oe<V.length||f&&Ae["$"+Oe]instanceof Symbol||(X.call(/[^\w$]/,Oe)?oe.push(K(Oe,V)+": "+K(V[Oe],V)):oe.push(Oe+": "+K(V[Oe],V)));if(typeof E=="function")for(var Ee=0;Ee<pe.length;Ee++)b.call(V,pe[Ee])&&oe.push("["+K(pe[Ee])+"]: "+K(V[pe[Ee]],V));return oe}return gh}var mh,Lv;function Af(){return Lv||(Lv=1,mh=function(e){return typeof e=="string"||typeof e=="symbol"}),mh}var bh,Uv;function eC(){return Uv||(Uv=1,bh=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),bh}var vh,Fv;function sr(){if(Fv)return vh;Fv=1;var r=eC();return vh=function(t){return typeof t=="symbol"?"Symbol":typeof t=="bigint"?"BigInt":r(t)},vh}var tC=ct,Hv=tC("%TypeError%"),rC=Jg(),nC=Af(),iC=sr(),Gu=function(e,t){if(iC(e)!=="Object")throw new Hv("Assertion failed: Type(O) is not Object");if(!nC(t))throw new Hv("Assertion failed: IsPropertyKey(P) is not true, got "+rC(t));return e[t]},Yg={exports:{}},oC=ct,sC=oC("%TypeError%"),aC=function(e,t){if(e==null)throw new sC(t||"Cannot call method on "+e);return e};(function(r){r.exports=aC})(Yg);var yh,Vv;function fC(){if(Vv)return yh;Vv=1;var r=ct,e=r("%Object%"),t=Yg.exports;return yh=function(i){return t(i),e(i)},yh}var xh,jv;function cC(){if(jv)return xh;jv=1;var r=ct,e=r("%TypeError%"),t=Af(),n=fC();return xh=function(o,s){if(!t(s))throw new e("Assertion failed: IsPropertyKey(P) is not true");var a=n(o);return a[s]},xh}var wh={exports:{}},Ah,Gv;function Y4(){if(Gv)return Ah;Gv=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(N){N!==n&&(e=null)}else e=null;var i=/^\s*class\b/,o=function(U){try{var $=r.call(U);return i.test($)}catch{return!1}},s=function(U){try{return o(U)?!1:(r.call(U),!0)}catch{return!1}},a=Object.prototype.toString,c="[object Object]",d="[object Function]",l="[object GeneratorFunction]",p="[object HTMLAllCollection]",k="[object HTML document.all class]",_="[object HTMLCollection]",T=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),M=function(){return!1};if(typeof document=="object"){var P=document.all;a.call(P)===a.call(document.all)&&(M=function(U){if((C||!U)&&(typeof U>"u"||typeof U=="object"))try{var $=a.call(U);return($===p||$===k||$===_||$===c)&&U("")==null}catch{}return!1})}return Ah=e?function(U){if(M(U))return!0;if(!U||typeof U!="function"&&typeof U!="object")return!1;try{e(U,null,t)}catch($){if($!==n)return!1}return!o(U)&&s(U)}:function(U){if(M(U))return!0;if(!U||typeof U!="function"&&typeof U!="object")return!1;if(T)return s(U);if(o(U))return!1;var $=a.call(U);return $!==d&&$!==l&&!/^\[object HTML/.test($)?!1:s(U)},Ah}var qv;function Xg(){return qv||(qv=1,function(r){r.exports=Y4()}(wh)),wh.exports}var lC=ct,$v=lC("%TypeError%"),uC=cC(),dC=Xg(),hC=Af(),pC=Jg(),gC=function(e,t){if(!hC(t))throw new $v("Assertion failed: IsPropertyKey(P) is not true");var n=uC(e,t);if(n!=null){if(!dC(n))throw new $v(t+" is not a function: "+pC(n));return n}},Eh,Kv;function Zg(){if(Kv)return Eh;Kv=1;var r=U4;return Eh=function(){return r()&&!!Symbol.toStringTag},Eh}var Sh,zv;function X4(){if(zv)return Sh;zv=1;var r=mi,e=Zg()(),t,n,i,o;if(e){t=r("Object.prototype.hasOwnProperty"),n=r("RegExp.prototype.exec"),i={};var s=function(){throw i};o={toString:s,valueOf:s},typeof Symbol.toPrimitive=="symbol"&&(o[Symbol.toPrimitive]=s)}var a=r("Object.prototype.toString"),c=Object.getOwnPropertyDescriptor,d="[object RegExp]";return Sh=e?function(p){if(!p||typeof p!="object")return!1;var k=c(p,"lastIndex"),_=k&&t(k,"value");if(!_)return!1;try{n(p,o)}catch(T){return T===i}}:function(p){return!p||typeof p!="object"&&typeof p!="function"?!1:a(p)===d},Sh}var kh,Wv;function Z4(){return Wv||(Wv=1,kh=function(e){return!!e}),kh}var mC=ct,Qv=mC("%Symbol.match%",!0),bC=X4(),vC=Z4(),yC=function(e){if(!e||typeof e!="object")return!1;if(Qv){var t=e[Qv];if(typeof t<"u")return vC(t)}return bC(e)},ew=ct,xC=ew("%String%"),wC=ew("%TypeError%"),em=function(e){if(typeof e=="symbol")throw new wC("Cannot convert a Symbol value to a string");return xC(e)},tm={exports:{}},Nc=function(){return typeof function(){}.name=="string"},hc=Object.getOwnPropertyDescriptor;if(hc)try{hc([],"length")}catch{hc=null}Nc.functionsHaveConfigurableNames=function(){if(!Nc()||!hc)return!1;var e=hc(function(){},"name");return!!e&&!!e.configurable};var AC=Function.prototype.bind;Nc.boundFunctionsHaveNames=function(){return Nc()&&typeof AC=="function"&&function(){}.bind().name!==""};var EC=Nc;(function(r){var e=EC.functionsHaveConfigurableNames(),t=Object,n=TypeError;r.exports=function(){if(this!=null&&this!==t(this))throw new n("RegExp.prototype.flags getter called on non-object");var o="";return this.hasIndices&&(o+="d"),this.global&&(o+="g"),this.ignoreCase&&(o+="i"),this.multiline&&(o+="m"),this.dotAll&&(o+="s"),this.unicode&&(o+="u"),this.sticky&&(o+="y"),o},e&&Object.defineProperty&&Object.defineProperty(r.exports,"name",{value:"get flags"})})(tm);var SC=tm.exports,kC=Jc.supportsDescriptors,_C=Object.getOwnPropertyDescriptor,tw=function(){if(kC&&/a/mig.flags==="gim"){var e=_C(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),t==="dy")return e.get}}return SC},MC=Jc.supportsDescriptors,PC=tw,TC=Object.getOwnPropertyDescriptor,CC=Object.defineProperty,BC=TypeError,Jv=Object.getPrototypeOf,IC=/a/,NC=function(){if(!MC||!Jv)throw new BC("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=PC(),t=Jv(IC),n=TC(t,"flags");return(!n||n.get!==e)&&CC(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},OC=Jc,RC=ju.exports,DC=tm.exports,rw=tw,LC=NC,nw=RC(rw());OC(nw,{getPolyfill:rw,implementation:DC,shim:LC});var iw=nw,_h,Yv;function ow(){return Yv||(Yv=1,_h=function(e){return typeof e=="number"&&e>=55296&&e<=56319}),_h}var Mh,Xv;function sw(){return Xv||(Xv=1,Mh=function(e){return typeof e=="number"&&e>=56320&&e<=57343}),Mh}var Ph,Zv;function UC(){if(Zv)return Ph;Zv=1;var r=ct,e=r("%TypeError%"),t=r("%String.fromCharCode%"),n=ow(),i=sw();return Ph=function(s,a){if(!n(s)||!i(a))throw new e("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return t(s)+t(a)},Ph}var Th,e2;function FC(){if(e2)return Th;e2=1;var r=ct,e=r("%TypeError%"),t=mi,n=ow(),i=sw(),o=sr(),s=UC(),a=t("String.prototype.charAt"),c=t("String.prototype.charCodeAt");return Th=function(l,p){if(o(l)!=="String")throw new e("Assertion failed: `string` must be a String");var k=l.length;if(p<0||p>=k)throw new e("Assertion failed: `position` must be >= 0, and < the length of `string`");var _=c(l,p),T=a(l,p),C=n(_),M=i(_);if(!C&&!M)return{"[[CodePoint]]":T,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(M||p+1===k)return{"[[CodePoint]]":T,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var P=c(l,p+1);return i(P)?{"[[CodePoint]]":s(_,P),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":T,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}},Th}var HC=ct,VC=HC("%Math.abs%"),aw=function(e){return VC(e)},jC=sr(),GC=Math.floor,fw=function(e){return jC(e)==="BigInt"?e:GC(e)},qu=Number.isNaN||function(e){return e!==e},qC=qu,cw=function(r){return(typeof r=="number"||typeof r=="bigint")&&!qC(r)&&r!==1/0&&r!==-1/0},Ch,t2;function $C(){if(t2)return Ch;t2=1;var r=aw,e=fw,t=sr(),n=qu,i=cw;return Ch=function(s){if(t(s)!=="Number"||n(s)||!i(s))return!1;var a=r(s);return e(a)===a},Ch}var lw=ct,KC=lw("%Math%"),zC=lw("%Number%"),uw=zC.MAX_SAFE_INTEGER||KC.pow(2,53)-1,Bh,r2;function WC(){if(r2)return Bh;r2=1;var r=ct,e=FC(),t=$C(),n=sr(),i=uw,o=r("%TypeError%");return Bh=function(a,c,d){if(n(a)!=="String")throw new o("Assertion failed: `S` must be a String");if(!t(c)||c<0||c>i)throw new o("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(n(d)!=="Boolean")throw new o("Assertion failed: `unicode` must be a Boolean");if(!d)return c+1;var l=a.length;if(c+1>=l)return c+1;var p=e(a,c);return c+p["[[CodeUnitCount]]"]},Bh}var Ih,n2;function QC(){if(n2)return Ih;n2=1;var r=ct,e=r("%TypeError%"),t=sr();return Ih=function(i,o){if(t(o)!=="Boolean")throw new e("Assertion failed: Type(done) is not Boolean");return{value:i,done:o}},Ih}var Nh,i2;function dw(){if(i2)return Nh;i2=1;var r=V4,e=ct,t=r()&&e("%Object.defineProperty%",!0),n=r.hasArrayLengthDefineBug(),i=n&&z4(),o=mi,s=o("Object.prototype.propertyIsEnumerable");return Nh=function(c,d,l,p,k,_){if(!t){if(!c(_)||!_["[[Configurable]]"]||!_["[[Writable]]"]||k in p&&s(p,k)!==!!_["[[Enumerable]]"])return!1;var T=_["[[Value]]"];return p[k]=T,d(p[k],T)}return n&&k==="length"&&"[[Value]]"in _&&i(p)&&p.length!==_["[[Value]]"]?(p.length=_["[[Value]]"],p.length===_["[[Value]]"]):(t(p,k,l(_)),!0)},Nh}var Oh,o2;function JC(){if(o2)return Oh;o2=1;var r=Co;return Oh=function(t){return r(t,"[[StartIndex]]")&&r(t,"[[EndIndex]]")&&t["[[StartIndex]]"]>=0&&t["[[EndIndex]]"]>=t["[[StartIndex]]"]&&String(parseInt(t["[[StartIndex]]"],10))===String(t["[[StartIndex]]"])&&String(parseInt(t["[[EndIndex]]"],10))===String(t["[[EndIndex]]"])},Oh}var Rh,s2;function rm(){if(s2)return Rh;s2=1;var r=ct,e=r("%TypeError%"),t=r("%SyntaxError%"),n=Co,i=JC(),o={"Property Descriptor":function(a){var c={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var d in a)if(n(a,d)&&!c[d])return!1;var l=n(a,"[[Value]]"),p=n(a,"[[Get]]")||n(a,"[[Set]]");if(l&&p)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":i,"Iterator Record":function(a){return n(a,"[[Iterator]]")&&n(a,"[[NextMethod]]")&&n(a,"[[Done]]")},"PromiseCapability Record":function(a){return a&&n(a,"[[Resolve]]")&&typeof a["[[Resolve]]"]=="function"&&n(a,"[[Reject]]")&&typeof a["[[Reject]]"]=="function"&&n(a,"[[Promise]]")&&a["[[Promise]]"]&&typeof a["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(a){return a&&n(a,"[[Completion]]")&&n(a,"[[Capability]]")&&o["PromiseCapability Record"](a["[[Capability]]"])}};return Rh=function(a,c,d,l){var p=o[c];if(typeof p!="function")throw new t("unknown record type: "+c);if(a(l)!=="Object"||!p(l))throw new e(d+" must be a "+c)},Rh}var Dh,a2;function YC(){return a2||(a2=1,Dh=function(e){if(typeof e>"u")return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}),Dh}var Lh,f2;function hw(){if(f2)return Lh;f2=1;var r=rm(),e=YC(),t=sr();return Lh=function(i){return typeof i<"u"&&r(t,"Property Descriptor","Desc",i),e(i)},Lh}var Uh,c2;function pw(){if(c2)return Uh;c2=1;var r=Co,e=rm(),t=sr();return Uh=function(i){return!(typeof i>"u"||(e(t,"Property Descriptor","Desc",i),!r(i,"[[Value]]")&&!r(i,"[[Writable]]")))},Uh}var Fh,l2;function nm(){if(l2)return Fh;l2=1;var r=qu;return Fh=function(t,n){return t===n?t===0?1/t===1/n:!0:r(t)&&r(n)},Fh}var Hh,u2;function XC(){if(u2)return Hh;u2=1;var r=ct,e=r("%TypeError%"),t=dw(),n=hw(),i=pw(),o=Af(),s=nm(),a=sr();return Hh=function(d,l,p){if(a(d)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!o(l))throw new e("Assertion failed: IsPropertyKey(P) is not true");var k={"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":p,"[[Writable]]":!0};return t(i,s,n,d,l,k)},Hh}var Vh,d2;function ZC(){return d2||(d2=1,Vh=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}),Vh}var jh,h2;function eB(){if(h2)return jh;h2=1;var r=ct,e=mi,t=Jg(),n=r("%TypeError%"),i=r("%WeakMap%",!0),o=r("%Map%",!0),s=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),c=e("WeakMap.prototype.has",!0),d=e("Map.prototype.get",!0),l=e("Map.prototype.set",!0),p=e("Map.prototype.has",!0),k=function(M,P){for(var N=M,U;(U=N.next)!==null;N=U)if(U.key===P)return N.next=U.next,U.next=M.next,M.next=U,U},_=function(M,P){var N=k(M,P);return N&&N.value},T=function(M,P,N){var U=k(M,P);U?U.value=N:M.next={key:P,next:M.next,value:N}},C=function(M,P){return!!k(M,P)};return jh=function(){var P,N,U,$={assert:function(G){if(!$.has(G))throw new n("Side channel does not contain "+t(G))},get:function(G){if(i&&G&&(typeof G=="object"||typeof G=="function")){if(P)return s(P,G)}else if(o){if(N)return d(N,G)}else if(U)return _(U,G)},has:function(G){if(i&&G&&(typeof G=="object"||typeof G=="function")){if(P)return c(P,G)}else if(o){if(N)return p(N,G)}else if(U)return C(U,G);return!1},set:function(G,X){i&&G&&(typeof G=="object"||typeof G=="function")?(P||(P=new i),a(P,G,X)):o?(N||(N=new o),l(N,G,X)):(U||(U={key:{},next:null}),T(U,G,X))}};return $},jh}var Gh,p2;function gw(){if(p2)return Gh;p2=1;var r=ct,e=Co,t=eB()(),n=r("%TypeError%"),i={assert:function(o,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");if(t.assert(o),!i.has(o,s))throw new n("`"+s+"` is not present on `O`")},get:function(o,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var a=t.get(o);return a&&a["$"+s]},has:function(o,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var a=t.get(o);return!!a&&e(a,"$"+s)},set:function(o,s,a){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var c=t.get(o);c||(c={},t.set(o,c)),c["$"+s]=a}};return Object.freeze&&Object.freeze(i),Gh=i,Gh}var qh,g2;function tB(){if(g2)return qh;g2=1;var r={foo:{}},e=Object;return qh=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof e)},qh}var $h,m2;function rB(){if(m2)return $h;m2=1;var r=ct,e=r("%Object.create%",!0),t=r("%TypeError%"),n=r("%SyntaxError%"),i=W4(),o=sr(),s=ZC(),a=gw(),c=tB()();return $h=function(l){if(l!==null&&o(l)!=="Object")throw new t("Assertion failed: `proto` must be null or an object");var p=arguments.length<2?[]:arguments[1];if(!i(p))throw new t("Assertion failed: `additionalInternalSlotsList` must be an Array");var k;if(e)k=e(l);else if(c)k={__proto__:l};else{if(l===null)throw new n("native Object.create support is required to create null objects");var _=function(){};_.prototype=l,k=new _}return p.length>0&&s(p,function(T){a.set(k,T,void 0)}),k},$h}var Kh,b2;function nB(){if(b2)return Kh;b2=1;var r=ct,e=r("%TypeError%"),t=mi("RegExp.prototype.exec"),n=J4,i=Gu,o=Xg(),s=sr();return Kh=function(c,d){if(s(c)!=="Object")throw new e("Assertion failed: `R` must be an Object");if(s(d)!=="String")throw new e("Assertion failed: `S` must be a String");var l=i(c,"exec");if(o(l)){var p=n(l,c,[d]);if(p===null||s(p)==="Object")return p;throw new e('"exec" method must return `null` or an Object')}return t(c,d)},Kh}var iB=ct,Il=iB("%TypeError%"),oB=Af(),v2=nm(),y2=sr(),x2=function(){try{return delete[].length,!0}catch{return!1}}(),mw=function(e,t,n,i){if(y2(e)!=="Object")throw new Il("Assertion failed: `O` must be an Object");if(!oB(t))throw new Il("Assertion failed: `P` must be a Property Key");if(y2(i)!=="Boolean")throw new Il("Assertion failed: `Throw` must be a Boolean");if(i){if(e[t]=n,x2&&!v2(e[t],n))throw new Il("Attempted to assign to readonly property.");return!0}try{return e[t]=n,x2?v2(e[t],n):!0}catch{return!1}},zh,w2;function sB(){return w2||(w2=1,zh=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),zh}var Wh,A2;function aB(){return A2||(A2=1,Wh=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Wh}var Qh,E2;function fB(){if(E2)return Qh;E2=1;var r=Date.prototype.getDay,e=function(s){try{return r.call(s),!0}catch{return!1}},t=Object.prototype.toString,n="[object Date]",i=Zg()();return Qh=function(s){return typeof s!="object"||s===null?!1:i?e(s):t.call(s)===n},Qh}var Nl={exports:{}},S2;function cB(){if(S2)return Nl.exports;S2=1;var r=Object.prototype.toString,e=wf();if(e){var t=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,i=function(s){return typeof s.valueOf()!="symbol"?!1:n.test(t.call(s))};Nl.exports=function(s){if(typeof s=="symbol")return!0;if(r.call(s)!=="[object Symbol]")return!1;try{return i(s)}catch{return!1}}}else Nl.exports=function(s){return!1};return Nl.exports}var Jh,k2;function lB(){if(k2)return Jh;k2=1;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=aB(),t=Y4(),n=fB(),i=cB(),o=function(c,d){if(typeof c>"u"||c===null)throw new TypeError("Cannot call method on "+c);if(typeof d!="string"||d!=="number"&&d!=="string")throw new TypeError('hint must be "string" or "number"');var l=d==="string"?["toString","valueOf"]:["valueOf","toString"],p,k,_;for(_=0;_<l.length;++_)if(p=c[l[_]],t(p)&&(k=p.call(c),e(k)))return k;throw new TypeError("No default value")},s=function(c,d){var l=c[d];if(l!==null&&typeof l<"u"){if(!t(l))throw new TypeError(l+" returned for property "+d+" of object "+c+" is not a function");return l}};return Jh=function(c){if(e(c))return c;var d="default";arguments.length>1&&(arguments[1]===String?d="string":arguments[1]===Number&&(d="number"));var l;if(r&&(Symbol.toPrimitive?l=s(c,Symbol.toPrimitive):i(c)&&(l=Symbol.prototype.valueOf)),typeof l<"u"){var p=l.call(c,d);if(e(p))return p;throw new TypeError("unable to convert exotic object to primitive")}return d==="default"&&(n(c)||i(c))&&(d="string"),o(c,d==="default"?"number":d)},Jh}var Yh,_2;function uB(){if(_2)return Yh;_2=1;var r=lB();return Yh=function(t){return arguments.length>1?r(t,arguments[1]):r(t)},Yh}var Xh,M2;function dB(){if(M2)return Xh;M2=1;var r=mi,e=ct,t=X4(),n=r("RegExp.prototype.exec"),i=e("%TypeError%");return Xh=function(s){if(!t(s))throw new i("`regex` must be a RegExp");return function(c){return n(s,c)!==null}},Xh}var Zh,P2;function hB(){if(P2)return Zh;P2=1;var r=ct,e=r("%Number%"),t=r("%RegExp%"),n=r("%TypeError%"),i=r("%parseInt%"),o=mi,s=dB(),a=o("String.prototype.slice"),c=s(/^0b[01]+$/i),d=s(/^0o[0-7]+$/i),l=s(/^[-+]0x[0-9a-f]+$/i),p=["\x85","\u200B","\uFFFE"].join(""),k=new t("["+p+"]","g"),_=s(k),T=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),C=new RegExp("(^["+T+"]+)|(["+T+"]+$)","g"),M=o("String.prototype.replace"),P=function(U){return M(U,C,"")},N=sr();return Zh=function U($){if(N($)!=="String")throw new n("Assertion failed: `argument` is not a String");if(c($))return e(i(a($,2),2));if(d($))return e(i(a($,2),8));if(_($)||l($))return NaN;var G=P($);return G!==$?U(G):e($)},Zh}var bw=ct,T2=bw("%TypeError%"),C2=bw("%Number%"),pB=sB(),gB=uB(),mB=hB(),bB=function(e){var t=pB(e)?e:gB(e,C2);if(typeof t=="symbol")throw new T2("Cannot convert a Symbol value to a number");if(typeof t=="bigint")throw new T2("Conversion from 'BigInt' to 'number' is not allowed.");return typeof t=="string"?mB(t):C2(t)},vB=function(e){return e>=0?1:-1},yB=aw,xB=fw,wB=bB,AB=qu,EB=cw,SB=vB,kB=function(e){var t=wB(e);if(AB(t)||t===0)return 0;if(!EB(t))return t;var n=xB(yB(t));return n===0?0:SB(t)*n},B2=uw,_B=kB,vw=function(e){var t=_B(e);return t<=0?0:t>B2?B2:t},e1,I2;function MB(){if(I2)return e1;I2=1;var r=ct,e=r("%Object.defineProperty%",!0),t=Zg()(),n=Co,i=t?Symbol.toStringTag:null;return e1=function(s,a){var c=arguments.length>2&&arguments[2]&&arguments[2].force;i&&(c||!n(s,i))&&(e?e(s,i,{configurable:!0,enumerable:!1,value:a,writable:!1}):s[i]=a)},e1}var yw=ct,PB=wf(),pc=yw("%TypeError%"),N2=yw("%IteratorPrototype%",!0),TB=WC(),Ol=QC(),xw=XC(),O2=Gu,CB=rB(),BB=nB(),IB=mw,NB=vw,OB=em,i0=sr(),br=gw(),RB=MB(),Bs=function(e,t,n,i){if(i0(t)!=="String")throw new pc("`S` must be a string");if(i0(n)!=="Boolean")throw new pc("`global` must be a boolean");if(i0(i)!=="Boolean")throw new pc("`fullUnicode` must be a boolean");br.set(this,"[[IteratingRegExp]]",e),br.set(this,"[[IteratedString]]",t),br.set(this,"[[Global]]",n),br.set(this,"[[Unicode]]",i),br.set(this,"[[Done]]",!1)};N2&&(Bs.prototype=CB(N2));var DB=function(){var e=this;if(i0(e)!=="Object")throw new pc("receiver must be an object");if(!(e instanceof Bs)||!br.has(e,"[[IteratingRegExp]]")||!br.has(e,"[[IteratedString]]")||!br.has(e,"[[Global]]")||!br.has(e,"[[Unicode]]")||!br.has(e,"[[Done]]"))throw new pc('"this" value must be a RegExpStringIterator instance');if(br.get(e,"[[Done]]"))return Ol(void 0,!0);var t=br.get(e,"[[IteratingRegExp]]"),n=br.get(e,"[[IteratedString]]"),i=br.get(e,"[[Global]]"),o=br.get(e,"[[Unicode]]"),s=BB(t,n);if(s===null)return br.set(e,"[[Done]]",!0),Ol(void 0,!0);if(i){var a=OB(O2(s,"0"));if(a===""){var c=NB(O2(t,"lastIndex")),d=TB(n,c,o);IB(t,"lastIndex",d,!0)}return Ol(s,!1)}return br.set(e,"[[Done]]",!0),Ol(s,!1)};xw(Bs.prototype,"next",DB);if(PB&&(RB(Bs.prototype,"RegExp String Iterator"),Symbol.iterator&&typeof Bs.prototype[Symbol.iterator]!="function")){var LB=function(){return this};xw(Bs.prototype,Symbol.iterator,LB)}var UB=function(e,t,n,i){return new Bs(e,t,n,i)},Rl={exports:{}},t1={exports:{}},R2;function FB(){return R2||(R2=1,function(r){r.exports=ct}(t1)),t1.exports}var r1,D2;function HB(){if(D2)return r1;D2=1;var r=ct,e=Co,t=r("%TypeError%");return r1=function(i,o){if(i.Type(o)!=="Object")return!1;var s={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var a in o)if(e(o,a)&&!s[a])return!1;if(i.IsDataDescriptor(o)&&i.IsAccessorDescriptor(o))throw new t("Property Descriptors may not be both accessor and data descriptors");return!0},r1}var n1,L2;function VB(){if(L2)return n1;L2=1;var r=Co,e=rm(),t=sr();return n1=function(i){return!(typeof i>"u"||(e(t,"Property Descriptor","Desc",i),!r(i,"[[Get]]")&&!r(i,"[[Set]]")))},n1}var i1,U2;function jB(){if(U2)return i1;U2=1;var r=Co,e=ct,t=e("%TypeError%"),n=sr(),i=Z4(),o=Xg();return i1=function(a){if(n(a)!=="Object")throw new t("ToPropertyDescriptor requires an object");var c={};if(r(a,"enumerable")&&(c["[[Enumerable]]"]=i(a.enumerable)),r(a,"configurable")&&(c["[[Configurable]]"]=i(a.configurable)),r(a,"value")&&(c["[[Value]]"]=a.value),r(a,"writable")&&(c["[[Writable]]"]=i(a.writable)),r(a,"get")){var d=a.get;if(typeof d<"u"&&!o(d))throw new t("getter must be a function");c["[[Get]]"]=d}if(r(a,"set")){var l=a.set;if(typeof l<"u"&&!o(l))throw new t("setter must be a function");c["[[Set]]"]=l}if((r(c,"[[Get]]")||r(c,"[[Set]]"))&&(r(c,"[[Value]]")||r(c,"[[Writable]]")))throw new t("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return c},i1}var o1,F2;function GB(){if(F2)return o1;F2=1;var r=ct,e=r("%TypeError%"),t=HB(),n=dw(),i=hw(),o=VB(),s=pw(),a=Af(),c=nm(),d=jB(),l=sr();return o1=function(k,_,T){if(l(k)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!a(_))throw new e("Assertion failed: IsPropertyKey(P) is not true");var C=t({Type:l,IsDataDescriptor:s,IsAccessorDescriptor:o},T)?T:d(T);if(!t({Type:l,IsDataDescriptor:s,IsAccessorDescriptor:o},C))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(s,c,i,k,_,C)},o1}var H2;function qB(){if(H2)return Rl.exports;H2=1;var r=FB(),e=r("%Reflect.construct%",!0),t=GB();try{t({},"",{"[[Get]]":function(){}})}catch{t=null}if(t&&e){var n={},i={};t(i,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),Rl.exports=function(s){try{e(s,i)}catch(a){return a===n}}}else Rl.exports=function(s){return typeof s=="function"&&!!s.prototype};return Rl.exports}var ww=ct,V2=ww("%Symbol.species%",!0),s1=ww("%TypeError%"),$B=qB(),j2=sr(),KB=function(e,t){if(j2(e)!=="Object")throw new s1("Assertion failed: Type(O) is not Object");var n=e.constructor;if(typeof n>"u")return t;if(j2(n)!=="Object")throw new s1("O.constructor is not an Object");var i=V2?n[V2]:void 0;if(i==null)return t;if($B(i))return i;throw new s1("no constructor found")},zB=UB,Aw=Gu,WB=mw,QB=KB,JB=vw,Ew=em,YB=sr(),XB=iw,ZB=mi,G2=ZB("String.prototype.indexOf"),Sw=RegExp,eI="flags"in RegExp.prototype,tI=function(e,t){var n,i="flags"in t?Aw(t,"flags"):Ew(XB(t));return eI&&typeof i=="string"?n=new e(t,i):e===Sw?n=new e(t.source,i):n=new e(t,i),{flags:i,matcher:n}},dp=function(e){var t=this;if(YB(t)!=="Object")throw new TypeError('"this" value must be an Object');var n=Ew(e),i=QB(t,Sw),o=tI(i,t),s=o.flags,a=o.matcher,c=JB(Aw(t,"lastIndex"));WB(a,"lastIndex",c,!0);var d=G2(s,"g")>-1,l=G2(s,"u")>-1;return zB(a,n,d,l)},q2=Object.defineProperty,$2=Object.getOwnPropertyDescriptor;if(q2&&$2){var K2=$2(dp,"name");K2&&K2.configurable&&q2(dp,"name",{value:"[Symbol.matchAll]"})}var rI=dp,nI=wf(),iI=rI,kw=function(){return!nI||typeof Symbol.matchAll!="symbol"||typeof RegExp.prototype[Symbol.matchAll]!="function"?iI:RegExp.prototype[Symbol.matchAll]},z2=J4,oI=Gu,sI=gC,_w=yC,W2=em,Q2=Yg.exports,aI=mi,fI=wf(),cI=iw,lI=aI("String.prototype.indexOf"),uI=kw,J2=function(e){var t=uI();if(fI&&typeof Symbol.matchAll=="symbol"){var n=sI(e,Symbol.matchAll);return n===RegExp.prototype[Symbol.matchAll]&&n!==t?t:n}if(_w(e))return t},Mw=function(e){var t=Q2(this);if(typeof e<"u"&&e!==null){var n=_w(e);if(n){var i="flags"in e?oI(e,"flags"):cI(e);if(Q2(i),lI(W2(i),"g")<0)throw new TypeError("matchAll requires a global regular expression")}var o=J2(e);if(typeof o<"u")return z2(o,e,[t])}var s=W2(t),a=new RegExp(e,"g");return z2(J2(a),a,[s])},dI=Mw,Pw=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return dI},a1=Jc,hI=wf(),pI=Pw,gI=kw,Y2=Object.defineProperty,X2=Object.getOwnPropertyDescriptor,mI=function(){var e=pI();if(a1(String.prototype,{matchAll:e},{matchAll:function(){return String.prototype.matchAll!==e}}),hI){var t=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(a1(Symbol,{matchAll:t},{matchAll:function(){return Symbol.matchAll!==t}}),Y2&&X2){var n=X2(Symbol,t);(!n||n.configurable)&&Y2(Symbol,t,{configurable:!1,enumerable:!1,value:t,writable:!1})}var i=gI(),o={};o[t]=i;var s={};s[t]=function(){return RegExp.prototype[t]!==i},a1(RegExp.prototype,o,s)}return e},bI=ju.exports,vI=Jc,Tw=Mw,yI=Pw,xI=mI,wI=bI(Tw);vI(wI,{getPolyfill:yI,implementation:Tw,shim:xI});(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Asn1Der=r.X500NamesLabels=void 0;const e=Ot(),t=zt,n={END_OF_CONTENT:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL_VALUE:5,OBJECT_ID:6,OBJECT_DESCRIPTOR:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PDV:11,UTF8STRING:12,RELATIVE_OID:13,SEQUENCE_10:16,SET_OF:17,NUMERABLE_STRING:18,PRINTABLE_STRING:19,T61STRING:20,VIDEO_TEX_STRING:21,IA5STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30,SEQUENCE_30:48,SET:49},i={0:"END_OF_CONTENT",1:"BOOLEAN",2:"INTEGER",3:"BIT_STRING",4:"OCTET_STRING",5:"NULL_VALUE",6:"OBJECT_ID",7:"OBJECT_DESCRIPTOR",8:"EXTERNAL",9:"REAL",10:"ENUMERATED",11:"EMBEDDED_PDV",12:"UTF8STRING",13:"RELATIVE_OID",16:"SEQUENCE_10",19:"PRINTABLE_STRING",22:"IA5STRING",24:"GENERALIZED_TIME",26:"VISIBLE_STRING",48:"SEQUENCE_30",49:"SET"};r.X500NamesLabels={CN:"2.5.4.3",C:"2.5.4.6",O:"2.5.4.10",OU:"2.5.4.11",L:"2.5.4.7",labeledURI:"1.3.6.1.4.1.250.1.57"};class o{static encodeAsInteger(a){return this.encode("INTEGER",a)}static encodeObjectId(a){return o.encode("SEQUENCE_30",o.encode("OBJECT_ID",a))}static parseX500Names(a){let c=a.matchAll(/(\w+)=("[^"]+"|[\w\.]+)/g),d="";if(!c)throw new Error("wrong Name format");let l=[];for(const p of c){let k=p[1],_=p[2];if(_.substr(0,1)=='"'&&_.substr(-1)=='"'&&(_=_.slice(1,_.length-1)),d=r.X500NamesLabels[k],!d)throw new Error('Type "'+k+'" not implemented yet');l.push({type:k,value:_})}return l}static encodeName(a){let c="";return o.parseX500Names(a).forEach(l=>{let p=r.X500NamesLabels[l.type];if(!p)throw new Error(`X500 Name Object ID not implemented.(${l.value})`);let k=o.encode("OBJECT_ID",p)+o.encode("UTF8STRING",l.value);c+=o.encode("SEQUENCE_30",k)}),o.encode("SEQUENCE_30",o.encode("SET",c))}static encode(a,c,d=0){if(typeof c>"u")throw new Error("Missing value for Der encoding");let l=n[a],p="";switch(a){case"OBJECT_ID":if(typeof c!="string")throw new Error("OBJECT_ID value must be a string");let C=c.split("."),M=C.shift(),P=C.shift();C.unshift((parseInt(M)*40+parseInt(P)).toString()),C.forEach(N=>{let U=parseInt(N),$="",G=!0;do{let X=U&127;U=U>>7,X+=G?0:128,$=X.toString(16).padStart(2,"0")+$,G=!1}while(U);p+=$});break;case"NULL_VALUE":p="";break;case"GENERALIZED_TIME":p=(0,e.stringToHex)((0,e.formatGeneralizedDateTime)(c));break;case"VISIBLE_STRING":case"UTF8STRING":p=(0,e.stringToHex)(c);break;case"INTEGER":p=BigInt(c).toString(16),p=(p.length%2?"0":"")+p,parseInt("0x"+p.slice(0,1),16)>7&&(p="00"+p);break;case"TAG":if(d>15)throw new Error("DER TAG more than 15 is not implemented");l=parseInt("0xA"+d);case"SEQUENCE_30":case"SET":case"OCTET_STRING":if(typeof c=="string")p=c;else if(c.constructor===Uint8Array)p=(0,e.uint8tohex)(c);else throw new Error("Wrong data type for OCTET_STRING");break;case"BIT_STRING":p="00"+c;break;case"BOOLEAN":p=parseInt(c).toString().padStart(2,"0");break;default:throw new Error("Sorry, "+a+" not implemented.")}let k="",_=Math.ceil(p.length/2),T=_.toString(16);return _||(T="00"),T=(T.length%2?"0":"")+T,_<128?k=T:k=(128+Math.round(T.length/2)).toString(16)+T,p=(p.length%2?"0":"")+p,l.toString(16).padStart(2,"0")+k+p}decode(a){let c=Array.from(a);return this.read(c)}lenEncoded(a){let c=a.shift();if(c<128)return c;if(c>128){let d=0;for(let l=0;l<c-128;l++)d=(d<<8)+a.shift();return d}else if(c==128)throw new Error("have to code variable length")}readFromHexString(a){return this.read((0,e.hexStringToArray)(a))}readFromUint8Array(a){return this.read(Array.from(a))}readFromBase64String(a){return this.readFromUint8Array((0,e.base64ToUint8array)(a))}readFromUrlBase64String(a){let c=a.split("_").join("/").split("-").join("+").split(".").join("=");return this.readFromBase64String(c)}read(a){let c=a.shift(),d=this.lenEncoded(a),l=i[c];(0,e.logger)(t.DEBUGLEVEL.VERBOSE,"Der utility typeTagName:"+l);let p=[];for(let _=0;_<d;_++)p.push(a.shift());(0,e.logger)(t.DEBUGLEVEL.VERBOSE,"Der Utility content"),(0,e.logger)(t.DEBUGLEVEL.VERBOSE,p);let k="";switch(l){case"SEQUENCE_30":return this.BodySequence(p);case"INTEGER":case"BIT_STRING":let _=0n;for(;p.length;)_=_<<8n,_+=BigInt(p.shift());return _;case"OCTET_STRING":for(;p.length;)k+=p.shift().toString(16).padStart(2,"0");return k;case"GENERALIZED_TIME":case"VISIBLE_STRING":for(;p.length;)k+=String.fromCharCode(p.shift());return k}}BodySequence(a){let c=[];for(;a.length;)c.push(this.read(a));return c}}r.Asn1Der=o})(In);var qf={},Z2;function Cw(){if(Z2)return qf;Z2=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.UsageProofOfExponent=void 0;const r=ss(),e=ji,t=Dt,n=Ot(),i=In,o=bi();class s{constructor(){}static fromData(c,d,l=new Uint8Array([])){let p=new this;return p.tPoint=c,p.challengeResponse=d,p.nonce=l,p.encoding=p.makeEncoding(),p}fromBase64(c){this.encoding=c,this.fromBytes((0,n.base64ToUint8array)(c))}fromBytes(c){this.encodingBytes=c;let d=t.AsnParser.parse(c,e.UsageProof);this.challengeResponse=(0,n.uint8ToBn)(new Uint8Array(d.challengePoint));let l=new Uint8Array(d.responseValue);this.nonce=new Uint8Array(d.nonce),this.tPoint=r.Point.decodeFromHex((0,n.uint8tohex)(l),r.CURVE_BN256)}makeEncoding(){let c=i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)((0,n.bnToUint8)(this.challengeResponse)))+i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.tPoint.getEncoded(!1)))+i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.nonce));return i.Asn1Der.encode("SEQUENCE_30",c)}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getDerEncoding(){return this.encoding}getNonce(){return this.nonce}validateParameters(){try{if(!o.AttestationCrypto.validatePointToCurve(this.tPoint,o.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=o.AttestationCrypto.curveOrder||this.tPoint.equals(o.AttestationCrypto.G)||this.tPoint.equals(o.AttestationCrypto.H))}catch{return!1}}}return qf.UsageProofOfExponent=s,qf}var ey;function $u(){if(ey)return jf;ey=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.FullProofOfExponent=void 0;const r=ss(),e=ji,t=Dt,n=Ot(),i=In,o=Cw(),s=bi();class a{constructor(){}static fromData(d,l,p,k=new Uint8Array([])){let _=new this;return _.riddle=d,_.tPoint=l,_.challengeResponse=p,_.nonce=k,_.encoding=_.makeEncoding(d,l,p,k),_}static fromBytes(d){let l=t.AsnParser.parse(d,e.Proof);return this.fromASNType(l)}static fromASNType(d){let l=new Uint8Array(d.riddle),p=r.Point.decodeFromUint8(l,r.CURVE_BN256),k=new Uint8Array(d.challengePoint),_=(0,n.uint8ToBn)(k),T=new Uint8Array(d.responseValue),C=r.Point.decodeFromUint8(T,r.CURVE_BN256),M=new Uint8Array(d.nonce);return this.fromData(p,C,_,M)}static fromBase64(d){return a.fromBytes((0,n.base64ToUint8array)(d))}makeEncoding(d,l,p,k=new Uint8Array([])){let _=i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(d.getEncoded()))+i.Asn1Der.encode("OCTET_STRING",p.toString(16))+i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(l.getEncoded()))+i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(k));return i.Asn1Der.encode("SEQUENCE_30",_)}getRiddle(){return this.riddle}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getNonce(){return this.nonce}getUsageProofOfExponent(){return o.UsageProofOfExponent.fromData(this.tPoint,this.challengeResponse,this.nonce)}getDerEncoding(){return this.encoding}getAsnType(){const d=new e.Proof;d.nonce=this.getNonce();let l=(0,n.bnToUint8)(this.getChallengeResponse());if(l.length<32){let p=l;l=new Uint8Array(32),l.set(p,32-p.length)}return d.challengePoint=l,d.riddle=this.getRiddle().getEncoded(),d.responseValue=this.getPoint().getEncoded(),d}validateParameters(){try{if(!s.AttestationCrypto.validatePointToCurve(this.riddle,s.AttestationCrypto.curve)||!s.AttestationCrypto.validatePointToCurve(this.tPoint,s.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=s.AttestationCrypto.curveOrder||this.riddle.equals(s.AttestationCrypto.G)||this.riddle.equals(s.AttestationCrypto.H)||this.tPoint.equals(s.AttestationCrypto.G)||this.tPoint.equals(s.AttestationCrypto.H))}catch{return!1}}}return jf.FullProofOfExponent=a,jf}var ty;function bi(){return ty||(ty=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AttestationCrypto=r.Pedestren_H=r.Pedestren_G=void 0;const e=wu,t=ss(),n=Ot(),i=$u(),o=zt,s=wo;let a=gf.exports;r.Pedestren_G=new t.Point(21282764439311451829394129092047993080259557426320933158672611067687630484067n,3813889942691430704369624600187664845713336792511424430006907067499686345744n,t.CURVE_BN256),r.Pedestren_H=new t.Point(10844896013696871595893151490650636250667003995871483372134187278207473369077n,9393217696329481319187854592386054938412168121447413803797200472841959383227n,t.CURVE_BN256);class c{constructor(){if(this.curveOrderBitLength=254n,this.rand=this.makeSecret(),!this.verifyCurveOrder())throw new Error("Static values do not work with current implementation")}verifyCurveOrder(){c.validatePointToCurve(c.G,c.curve),c.validatePointToCurve(c.H,c.curve);let l=BigInt(c.curveOrder.toString(2).length);return c.curveOrder<1n<<l-1n||c.curveOrder>>l>0n?((0,n.logger)(o.DEBUGLEVEL.LOW,"Curve order is not 254 bits which is required by the current implementation"),!1):!0}getType(l){switch(l.toLowerCase()){case"mail":return e.ATTESTATION_TYPE.mail;case"phone":return e.ATTESTATION_TYPE.phone;case"inetpersona":return e.ATTESTATION_TYPE.InetPersona;default:throw new Error("Wrong type of identifier")}}makeCommitment(l,p,k){let _=this.mapToCurveMultiplier(p,l);return r.Pedestren_G.multiplyDA(_).add(r.Pedestren_H.multiplyDA(k)).getEncoded(!1)}makeCommitmentFromHiding(l,p,k){if(!c.validatePointToCurve(k,c.curve))throw new Error("Point invalid");let _=this.mapToCurveMultiplier(p,l);return r.Pedestren_G.multiplyDA(_).add(k).getEncoded(!1)}injectIdentifierType(l,p){return(0,n.uint8merge)([Uint8Array.from([0,0,0,l]),p])}mapToInteger(l){return BigInt("0x"+a.keccak256(l))>>256n-this.curveOrderBitLength}mapToCurveMultiplier(l,p){let k=Uint8Array.from((0,n.stringToArray)(p.trim().toLowerCase())),_=this.injectIdentifierType(l,k),T=(0,n.uint8ToBn)(_);do T=this.mapToInteger((0,n.bnToUint8)(T));while(T>=t.CURVE_BN256.n);return T}computePoint_bn256(l){let p=t.CURVE_BN256.P;l=(0,n.mod)(l,p);let k=0n,_=0n,T,C,M,P=p+1n>>2n,N=p-1n>>1n;do{do l=(0,n.mod)(l+1n),_=(0,n.mod)((0,n.BnPowMod)(l,3n,p)+t.CURVE_BN256.A*l+t.CURVE_BN256.B),M=(0,n.BnPowMod)(_,N,p);while(M!==1n);k=(0,n.BnPowMod)(_,P,p),T=new t.Point(l,k,t.CURVE_BN256),T.x>p>>1n&&(T=new t.Point(l,p-k,t.CURVE_BN256)),C=T.multiplyDA(t.CURVE_BN256.n-1n),C.y>p>>1n&&(C=new t.Point(C.x,p-C.y,t.CURVE_BN256))}while(!T.equals(C)||T.isInfinity());return T}makeSecret(l=48){return(0,n.mod)(BigInt(c.generateRandomHexString(l)),t.CURVE_BN256.n)}static generateRandomHexString(l){var p=new Uint8Array(l);window&&window.crypto?window.crypto.getRandomValues(p):p=new Uint8Array(s.randomBytes(l));let k="0x";for(var _=0;_<p.length;_++)k+=p[_].toString(16).padStart(2,"0");return k}computeAttestationProof(l,p=new Uint8Array([])){let k=r.Pedestren_H.multiplyDA(l),_=[r.Pedestren_H,k];return this.constructSchnorrPOK(k,l,_,p)}computeEqualityProof(l,p,k,_,T=new Uint8Array([])){let C=t.Point.decodeFromHex(l);c.validatePointToCurve(C,t.CURVE_BN256);let M=t.Point.decodeFromHex(p);c.validatePointToCurve(M,t.CURVE_BN256);let P=C.subtract(M),N=(0,n.mod)(k-_,t.CURVE_BN256.n),U=[r.Pedestren_H,C,M];return this.constructSchnorrPOK(P,N,U,T).getUsageProofOfExponent()}constructSchnorrPOK(l,p,k,_){let T,C,M,P;do C=this.makeSecret(),T=r.Pedestren_H.multiplyDA(C),M=this.computeChallenge(T,k,_);while(M>=t.CURVE_BN256.n);return P=(0,n.mod)(C+M*p,t.CURVE_BN256.n),i.FullProofOfExponent.fromData(l,T,P,_)}computeChallenge(l,p,k){let _=p.concat(l),T=this.makeArray(_),C=(0,n.uint8merge)([T,k]);return this.mapToInteger(C)}verifyFullProof(l){if(!l.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let p=this.computeChallenge(l.getPoint(),[r.Pedestren_H,l.getRiddle()],l.getNonce());return this.verifyPok(l,p)}verifyEqualityProof(l,p,k){if(!k.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let _=t.Point.decodeFromUint8(l,t.CURVE_BN256);c.validatePointToCurve(_,t.CURVE_BN256);let T=t.Point.decodeFromUint8(p,t.CURVE_BN256);c.validatePointToCurve(T,t.CURVE_BN256);let C=_.subtract(T),M=this.computeChallenge(k.getPoint(),[r.Pedestren_H,_,T],k.getNonce());return this.verifyPok(i.FullProofOfExponent.fromData(C,k.getPoint(),k.getChallengeResponse(),k.getNonce()),M)}verifyPok(l,p){if(p>=t.CURVE_BN256.n||p<=0n)return(0,n.logger)(2,"Challenge is not of the correct size"),!1;let k=r.Pedestren_H.multiplyDA(l.getChallengeResponse()),_=l.getRiddle().multiplyDA(p).add(l.getPoint());return k.equals(_)}makeArray(l){let p=new Uint8Array(0);return l.forEach(k=>{p=new Uint8Array([...p,...k.getEncoded(!1)])}),p}static hashWithKeccak(l){return a.keccak256(l)}static validatePointToCurve(l,p){try{if(l.isInfinity())throw new Error("Point is at infinity");if(!l.multiplyDA(t.CURVE_BN256.n).isInfinity())throw console.log("Point does not have correct order"),new Error("Point does not have correct order")}catch{return!1}return!0}}r.AttestationCrypto=c,c.OID_SIGNATURE_ALG="1.2.840.10045.2.1",c.BYTES_IN_DIGEST=256/8,c.fieldSize=t.CURVE_BN256.P,c.curveOrder=t.CURVE_BN256.n,c.cofactor=1n,c.curve=t.CURVE_BN256,c.G=r.Pedestren_G,c.H=r.Pedestren_H}(sh)),sh}var Nn={},Vt={},Ir={},wr=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.Extensions=Ir.Extension=Ir.ValidityValue=Ir.Version=Ir.AlgorithmIdentifierASN=void 0;const St=Dt;class im{}wr([(0,St.AsnProp)({type:St.AsnPropTypes.ObjectIdentifier})],im.prototype,"algorithm",void 0);wr([(0,St.AsnProp)({type:St.AsnPropTypes.Any,optional:!0})],im.prototype,"parameters",void 0);Ir.AlgorithmIdentifierASN=im;class Bw{constructor(){this.version=0}}wr([(0,St.AsnProp)({type:St.AsnPropTypes.Integer})],Bw.prototype,"version",void 0);Ir.Version=Bw;let tf=class{};wr([(0,St.AsnProp)({type:St.AsnPropTypes.UTCTime})],tf.prototype,"utcTime",void 0);wr([(0,St.AsnProp)({type:St.AsnPropTypes.GeneralizedTime})],tf.prototype,"generalizedTime",void 0);tf=wr([(0,St.AsnType)({type:St.AsnTypeTypes.Choice})],tf);class Ef{}wr([(0,St.AsnProp)({type:tf})],Ef.prototype,"notBefore",void 0);wr([(0,St.AsnProp)({type:St.AsnPropTypes.Integer,optional:!0})],Ef.prototype,"notBeforeInt",void 0);wr([(0,St.AsnProp)({type:tf})],Ef.prototype,"notAfter",void 0);wr([(0,St.AsnProp)({type:St.AsnPropTypes.Integer,optional:!0})],Ef.prototype,"notAfterInt",void 0);Ir.ValidityValue=Ef;let N0=class{};wr([(0,St.AsnProp)({type:Ef,context:0})],N0.prototype,"value",void 0);wr([(0,St.AsnProp)({type:St.AsnPropTypes.Integer,context:1})],N0.prototype,"null",void 0);N0=wr([(0,St.AsnType)({type:St.AsnTypeTypes.Choice})],N0);class Yc{}wr([(0,St.AsnProp)({type:St.AsnPropTypes.ObjectIdentifier})],Yc.prototype,"extnId",void 0);wr([(0,St.AsnProp)({type:St.AsnPropTypes.Boolean})],Yc.prototype,"critical",void 0);wr([(0,St.AsnProp)({type:St.AsnPropTypes.OctetString})],Yc.prototype,"extnValue",void 0);Ir.Extension=Yc;class Iw{}wr([(0,St.AsnProp)({type:Yc})],Iw.prototype,"extension",void 0);Ir.Extensions=Iw;var rf={},ra=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hp,pp;Object.defineProperty(rf,"__esModule",{value:!0});rf.Name=rf.AttributeTypeAndValue=void 0;const $r=Dt;class Ku{}ra([(0,$r.AsnProp)({type:$r.AsnPropTypes.ObjectIdentifier})],Ku.prototype,"type",void 0);ra([(0,$r.AsnProp)({type:$r.AsnPropTypes.Utf8String})],Ku.prototype,"value",void 0);rf.AttributeTypeAndValue=Ku;let gp=hp=class extends $r.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,hp.prototype)}};gp=hp=ra([(0,$r.AsnType)({type:$r.AsnTypeTypes.Set,itemType:Ku})],gp);let mp=pp=class extends $r.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,pp.prototype)}};mp=pp=ra([(0,$r.AsnType)({type:$r.AsnTypeTypes.Sequence,itemType:gp})],mp);let Oc=class{};ra([(0,$r.AsnProp)({type:mp})],Oc.prototype,"rdnSequence",void 0);ra([(0,$r.AsnProp)({type:$r.AsnPropTypes.Null})],Oc.prototype,"null",void 0);Oc=ra([(0,$r.AsnType)({type:$r.AsnTypeTypes.Choice})],Oc);rf.Name=Oc;var wt=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.MyAttestationDecoded=Vt.MyAttestation=Vt.SignedInfo=Vt.SmartContract=Vt.Payload=Vt.PrivateKeyInfo=Vt.PrivateKeyData=Vt.SubjectPublicKeyInfo=Vt.PublicKeyInfoValue=void 0;const Ke=Dt,Sf=Ir,Nw=rf;class zu{}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any})],zu.prototype,"algorithm",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.BitString})],zu.prototype,"publicKey",void 0);Vt.PublicKeyInfoValue=zu;let nf=class{constructor(){this.null=!1}};wt([(0,Ke.AsnProp)({type:zu})],nf.prototype,"value",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any})],nf.prototype,"null",void 0);nf=wt([(0,Ke.AsnType)({type:Ke.AsnTypeTypes.Choice})],nf);Vt.SubjectPublicKeyInfo=nf;class Xc{}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Integer})],Xc.prototype,"one",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.OctetString})],Xc.prototype,"privateKey",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any,context:0})],Xc.prototype,"algDescr",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.BitString,context:1})],Xc.prototype,"publicKey",void 0);Vt.PrivateKeyData=Xc;class Wu{}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Integer})],Wu.prototype,"one",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any})],Wu.prototype,"algIdent",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.OctetString})],Wu.prototype,"keysData",void 0);Vt.PrivateKeyInfo=Wu;let of=class{};wt([(0,Ke.AsnProp)({type:Sf.Extensions,context:3})],of.prototype,"extensions",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any,context:4})],of.prototype,"dataObject",void 0);of=wt([(0,Ke.AsnType)({type:Ke.AsnTypeTypes.Choice})],of);Vt.Payload=of;class om{}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Integer})],om.prototype,"value",void 0);Vt.SmartContract=om;class vi{}wt([(0,Ke.AsnProp)({type:Sf.Version})],vi.prototype,"version",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Integer})],vi.prototype,"serialNumber",void 0);wt([(0,Ke.AsnProp)({type:Sf.AlgorithmIdentifierASN})],vi.prototype,"signature",void 0);wt([(0,Ke.AsnProp)({type:Nw.Name})],vi.prototype,"issuer",void 0);wt([(0,Ke.AsnProp)({type:Sf.ValidityValue,optional:!0})],vi.prototype,"validity",void 0);wt([(0,Ke.AsnProp)({type:Nw.Name})],vi.prototype,"subject",void 0);wt([(0,Ke.AsnProp)({type:nf})],vi.prototype,"subjectPublicKeyInfo",void 0);wt([(0,Ke.AsnProp)({type:om,optional:!0})],vi.prototype,"contract",void 0);wt([(0,Ke.AsnProp)({type:of,optional:!0})],vi.prototype,"attestsTo",void 0);Vt.SignedInfo=vi;class Qu{constructor(){this.signedInfo=new Uint8Array}}wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.Any})],Qu.prototype,"signedInfo",void 0);wt([(0,Ke.AsnProp)({type:Sf.AlgorithmIdentifierASN})],Qu.prototype,"signatureAlgorithm",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.BitString})],Qu.prototype,"signatureValue",void 0);Vt.MyAttestation=Qu;class Ju{}wt([(0,Ke.AsnProp)({type:vi})],Ju.prototype,"signedInfo",void 0);wt([(0,Ke.AsnProp)({type:Sf.AlgorithmIdentifierASN})],Ju.prototype,"signatureAlgorithm",void 0);wt([(0,Ke.AsnProp)({type:Ke.AsnPropTypes.BitString})],Ju.prototype,"signatureValue",void 0);Vt.MyAttestationDecoded=Ju;const Yu=jt(hP);var Xu={},Ow=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.Signature=void 0;const O0=Dt;class sm{}Ow([(0,O0.AsnProp)({type:O0.AsnPropTypes.Integer})],sm.prototype,"r",void 0);Ow([(0,O0.AsnProp)({type:O0.AsnPropTypes.Integer})],sm.prototype,"s",void 0);Xu.Signature=sm;var am={};const AI="elliptic",EI="6.5.4",SI="EC cryptography",kI="lib/elliptic.js",_I=["lib"],MI={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},PI={type:"git",url:"git@github.com:indutny/elliptic"},TI=["EC","Elliptic","curve","Cryptography"],CI="Fedor Indutny <fedor@indutny.com>",BI="MIT",II={url:"https://github.com/indutny/elliptic/issues"},NI="https://github.com/indutny/elliptic",OI={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},RI={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},DI={name:AI,version:EI,description:SI,main:kI,files:_I,scripts:MI,repository:PI,keywords:TI,author:CI,license:BI,bugs:II,homepage:NI,devDependencies:OI,dependencies:RI};var gn={},Wi={exports:{}};(function(r){(function(e,t){function n(I,E){if(!I)throw new Error(E||"Assertion failed")}function i(I,E){I.super_=E;var m=function(){};m.prototype=E.prototype,I.prototype=new m,I.prototype.constructor=I}function o(I,E,m){if(o.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((E==="le"||E==="be")&&(m=E,E=10),this._init(I||0,E||10,m||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=wo.Buffer}catch{}o.isBN=function(E){return E instanceof o?!0:E!==null&&typeof E=="object"&&E.constructor.wordSize===o.wordSize&&Array.isArray(E.words)},o.max=function(E,m){return E.cmp(m)>0?E:m},o.min=function(E,m){return E.cmp(m)<0?E:m},o.prototype._init=function(E,m,f){if(typeof E=="number")return this._initNumber(E,m,f);if(typeof E=="object")return this._initArray(E,m,f);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),E=E.toString().replace(/\s+/g,"");var h=0;E[0]==="-"&&(h++,this.negative=1),h<E.length&&(m===16?this._parseHex(E,h,f):(this._parseBase(E,m,h),f==="le"&&this._initArray(this.toArray(),m,f)))},o.prototype._initNumber=function(E,m,f){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[E&67108863],this.length=1):E<4503599627370496?(this.words=[E&67108863,E/67108864&67108863],this.length=2):(n(E<9007199254740992),this.words=[E&67108863,E/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),m,f)},o.prototype._initArray=function(E,m,f){if(n(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var b,y,x=0;if(f==="be")for(h=E.length-1,b=0;h>=0;h-=3)y=E[h]|E[h-1]<<8|E[h-2]<<16,this.words[b]|=y<<x&67108863,this.words[b+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,b++);else if(f==="le")for(h=0,b=0;h<E.length;h+=3)y=E[h]|E[h+1]<<8|E[h+2]<<16,this.words[b]|=y<<x&67108863,this.words[b+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,b++);return this.strip()};function a(I,E){var m=I.charCodeAt(E);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function c(I,E,m){var f=a(I,m);return m-1>=E&&(f|=a(I,m-1)<<4),f}o.prototype._parseHex=function(E,m,f){this.length=Math.ceil((E.length-m)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var b=0,y=0,x;if(f==="be")for(h=E.length-1;h>=m;h-=2)x=c(E,m,h)<<b,this.words[y]|=x&67108863,b>=18?(b-=18,y+=1,this.words[y]|=x>>>26):b+=8;else{var w=E.length-m;for(h=w%2===0?m+1:m;h<E.length;h+=2)x=c(E,m,h)<<b,this.words[y]|=x&67108863,b>=18?(b-=18,y+=1,this.words[y]|=x>>>26):b+=8}this.strip()};function d(I,E,m,f){for(var h=0,b=Math.min(I.length,m),y=E;y<b;y++){var x=I.charCodeAt(y)-48;h*=f,x>=49?h+=x-49+10:x>=17?h+=x-17+10:h+=x}return h}o.prototype._parseBase=function(E,m,f){this.words=[0],this.length=1;for(var h=0,b=1;b<=67108863;b*=m)h++;h--,b=b/m|0;for(var y=E.length-f,x=y%h,w=Math.min(y,y-x)+f,v=0,g=f;g<w;g+=h)v=d(E,g,g+h,m),this.imuln(b),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(x!==0){var u=1;for(v=d(E,g,E.length,m),g=0;g<x;g++)u*=m;this.imuln(u),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this.strip()},o.prototype.copy=function(E){E.words=new Array(this.length);for(var m=0;m<this.length;m++)E.words[m]=this.words[m];E.length=this.length,E.negative=this.negative,E.red=this.red},o.prototype.clone=function(){var E=new o(null);return this.copy(E),E},o.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(E,m){E=E||10,m=m|0||1;var f;if(E===16||E==="hex"){f="";for(var h=0,b=0,y=0;y<this.length;y++){var x=this.words[y],w=((x<<h|b)&16777215).toString(16);b=x>>>24-h&16777215,b!==0||y!==this.length-1?f=l[6-w.length]+w+f:f=w+f,h+=2,h>=26&&(h-=26,y--)}for(b!==0&&(f=b.toString(16)+f);f.length%m!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(E===(E|0)&&E>=2&&E<=36){var v=p[E],g=k[E];f="";var u=this.clone();for(u.negative=0;!u.isZero();){var S=u.modn(g).toString(E);u=u.idivn(g),u.isZero()?f=S+f:f=l[v-S.length]+S+f}for(this.isZero()&&(f="0"+f);f.length%m!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=this.words[1]*67108864:this.length===3&&this.words[2]===1?E+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(E,m){return n(typeof s<"u"),this.toArrayLike(s,E,m)},o.prototype.toArray=function(E,m){return this.toArrayLike(Array,E,m)},o.prototype.toArrayLike=function(E,m,f){var h=this.byteLength(),b=f||Math.max(1,h);n(h<=b,"byte array longer than desired length"),n(b>0,"Requested array length <= 0"),this.strip();var y=m==="le",x=new E(b),w,v,g=this.clone();if(y){for(v=0;!g.isZero();v++)w=g.andln(255),g.iushrn(8),x[v]=w;for(;v<b;v++)x[v]=0}else{for(v=0;v<b-h;v++)x[v]=0;for(v=0;!g.isZero();v++)w=g.andln(255),g.iushrn(8),x[b-v-1]=w}return x},Math.clz32?o.prototype._countBits=function(E){return 32-Math.clz32(E)}:o.prototype._countBits=function(E){var m=E,f=0;return m>=4096&&(f+=13,m>>>=13),m>=64&&(f+=7,m>>>=7),m>=8&&(f+=4,m>>>=4),m>=2&&(f+=2,m>>>=2),f+m},o.prototype._zeroBits=function(E){if(E===0)return 26;var m=E,f=0;return(m&8191)===0&&(f+=13,m>>>=13),(m&127)===0&&(f+=7,m>>>=7),(m&15)===0&&(f+=4,m>>>=4),(m&3)===0&&(f+=2,m>>>=2),(m&1)===0&&f++,f},o.prototype.bitLength=function(){var E=this.words[this.length-1],m=this._countBits(E);return(this.length-1)*26+m};function _(I){for(var E=new Array(I.bitLength()),m=0;m<E.length;m++){var f=m/26|0,h=m%26;E[m]=(I.words[f]&1<<h)>>>h}return E}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,m=0;m<this.length;m++){var f=this._zeroBits(this.words[m]);if(E+=f,f!==26)break}return E},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},o.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var m=0;m<E.length;m++)this.words[m]=this.words[m]|E.words[m];return this.strip()},o.prototype.ior=function(E){return n((this.negative|E.negative)===0),this.iuor(E)},o.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},o.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},o.prototype.iuand=function(E){var m;this.length>E.length?m=E:m=this;for(var f=0;f<m.length;f++)this.words[f]=this.words[f]&E.words[f];return this.length=m.length,this.strip()},o.prototype.iand=function(E){return n((this.negative|E.negative)===0),this.iuand(E)},o.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},o.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},o.prototype.iuxor=function(E){var m,f;this.length>E.length?(m=this,f=E):(m=E,f=this);for(var h=0;h<f.length;h++)this.words[h]=m.words[h]^f.words[h];if(this!==m)for(;h<m.length;h++)this.words[h]=m.words[h];return this.length=m.length,this.strip()},o.prototype.ixor=function(E){return n((this.negative|E.negative)===0),this.iuxor(E)},o.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},o.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},o.prototype.inotn=function(E){n(typeof E=="number"&&E>=0);var m=Math.ceil(E/26)|0,f=E%26;this._expand(m),f>0&&m--;for(var h=0;h<m;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},o.prototype.notn=function(E){return this.clone().inotn(E)},o.prototype.setn=function(E,m){n(typeof E=="number"&&E>=0);var f=E/26|0,h=E%26;return this._expand(f+1),m?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},o.prototype.iadd=function(E){var m;if(this.negative!==0&&E.negative===0)return this.negative=0,m=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,m=this.isub(E),E.negative=1,m._normSign();var f,h;this.length>E.length?(f=this,h=E):(f=E,h=this);for(var b=0,y=0;y<h.length;y++)m=(f.words[y]|0)+(h.words[y]|0)+b,this.words[y]=m&67108863,b=m>>>26;for(;b!==0&&y<f.length;y++)m=(f.words[y]|0)+b,this.words[y]=m&67108863,b=m>>>26;if(this.length=f.length,b!==0)this.words[this.length]=b,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},o.prototype.add=function(E){var m;return E.negative!==0&&this.negative===0?(E.negative=0,m=this.sub(E),E.negative^=1,m):E.negative===0&&this.negative!==0?(this.negative=0,m=E.sub(this),this.negative=1,m):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},o.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var m=this.iadd(E);return E.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var f=this.cmp(E);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,b;f>0?(h=this,b=E):(h=E,b=this);for(var y=0,x=0;x<b.length;x++)m=(h.words[x]|0)-(b.words[x]|0)+y,y=m>>26,this.words[x]=m&67108863;for(;y!==0&&x<h.length;x++)m=(h.words[x]|0)+y,y=m>>26,this.words[x]=m&67108863;if(y===0&&x<h.length&&h!==this)for(;x<h.length;x++)this.words[x]=h.words[x];return this.length=Math.max(this.length,x),h!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(E){return this.clone().isub(E)};function T(I,E,m){m.negative=E.negative^I.negative;var f=I.length+E.length|0;m.length=f,f=f-1|0;var h=I.words[0]|0,b=E.words[0]|0,y=h*b,x=y&67108863,w=y/67108864|0;m.words[0]=x;for(var v=1;v<f;v++){for(var g=w>>>26,u=w&67108863,S=Math.min(v,E.length-1),O=Math.max(0,v-I.length+1);O<=S;O++){var A=v-O|0;h=I.words[A]|0,b=E.words[O]|0,y=h*b+u,g+=y/67108864|0,u=y&67108863}m.words[v]=u|0,w=g|0}return w!==0?m.words[v]=w|0:m.length--,m.strip()}var C=function(E,m,f){var h=E.words,b=m.words,y=f.words,x=0,w,v,g,u=h[0]|0,S=u&8191,O=u>>>13,A=h[1]|0,B=A&8191,L=A>>>13,F=h[2]|0,q=F&8191,ie=F>>>13,J=h[3]|0,z=J&8191,R=J>>>13,D=h[4]|0,H=D&8191,te=D>>>13,W=h[5]|0,Q=W&8191,fe=W>>>13,ee=h[6]|0,Y=ee&8191,ne=ee>>>13,se=h[7]|0,re=se&8191,be=se>>>13,le=h[8]|0,ae=le&8191,De=le>>>13,xe=h[9]|0,he=xe&8191,ze=xe>>>13,Le=b[0]|0,V=Le&8191,K=Le>>>13,ve=b[1]|0,oe=ve&8191,Ie=ve>>>13,pe=b[2]|0,Ae=pe&8191,et=pe>>>13,Oe=b[3]|0,Ee=Oe&8191,lt=Oe>>>13,Fe=b[4]|0,we=Fe&8191,gt=Fe>>>13,qe=b[5]|0,_e=qe&8191,nt=qe>>>13,Ve=b[6]|0,Se=Ve&8191,ut=Ve>>>13,je=b[7]|0,Me=je&8191,mt=je>>>13,Ge=b[8]|0,Pe=Ge&8191,dt=Ge>>>13,$e=b[9]|0,Te=$e&8191,ht=$e>>>13;f.negative=E.negative^m.negative,f.length=19,w=Math.imul(S,V),v=Math.imul(S,K),v=v+Math.imul(O,V)|0,g=Math.imul(O,K);var Ue=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,w=Math.imul(B,V),v=Math.imul(B,K),v=v+Math.imul(L,V)|0,g=Math.imul(L,K),w=w+Math.imul(S,oe)|0,v=v+Math.imul(S,Ie)|0,v=v+Math.imul(O,oe)|0,g=g+Math.imul(O,Ie)|0;var He=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(He>>>26)|0,He&=67108863,w=Math.imul(q,V),v=Math.imul(q,K),v=v+Math.imul(ie,V)|0,g=Math.imul(ie,K),w=w+Math.imul(B,oe)|0,v=v+Math.imul(B,Ie)|0,v=v+Math.imul(L,oe)|0,g=g+Math.imul(L,Ie)|0,w=w+Math.imul(S,Ae)|0,v=v+Math.imul(S,et)|0,v=v+Math.imul(O,Ae)|0,g=g+Math.imul(O,et)|0;var ar=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(ar>>>26)|0,ar&=67108863,w=Math.imul(z,V),v=Math.imul(z,K),v=v+Math.imul(R,V)|0,g=Math.imul(R,K),w=w+Math.imul(q,oe)|0,v=v+Math.imul(q,Ie)|0,v=v+Math.imul(ie,oe)|0,g=g+Math.imul(ie,Ie)|0,w=w+Math.imul(B,Ae)|0,v=v+Math.imul(B,et)|0,v=v+Math.imul(L,Ae)|0,g=g+Math.imul(L,et)|0,w=w+Math.imul(S,Ee)|0,v=v+Math.imul(S,lt)|0,v=v+Math.imul(O,Ee)|0,g=g+Math.imul(O,lt)|0;var nr=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(nr>>>26)|0,nr&=67108863,w=Math.imul(H,V),v=Math.imul(H,K),v=v+Math.imul(te,V)|0,g=Math.imul(te,K),w=w+Math.imul(z,oe)|0,v=v+Math.imul(z,Ie)|0,v=v+Math.imul(R,oe)|0,g=g+Math.imul(R,Ie)|0,w=w+Math.imul(q,Ae)|0,v=v+Math.imul(q,et)|0,v=v+Math.imul(ie,Ae)|0,g=g+Math.imul(ie,et)|0,w=w+Math.imul(B,Ee)|0,v=v+Math.imul(B,lt)|0,v=v+Math.imul(L,Ee)|0,g=g+Math.imul(L,lt)|0,w=w+Math.imul(S,we)|0,v=v+Math.imul(S,gt)|0,v=v+Math.imul(O,we)|0,g=g+Math.imul(O,gt)|0;var Er=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Er>>>26)|0,Er&=67108863,w=Math.imul(Q,V),v=Math.imul(Q,K),v=v+Math.imul(fe,V)|0,g=Math.imul(fe,K),w=w+Math.imul(H,oe)|0,v=v+Math.imul(H,Ie)|0,v=v+Math.imul(te,oe)|0,g=g+Math.imul(te,Ie)|0,w=w+Math.imul(z,Ae)|0,v=v+Math.imul(z,et)|0,v=v+Math.imul(R,Ae)|0,g=g+Math.imul(R,et)|0,w=w+Math.imul(q,Ee)|0,v=v+Math.imul(q,lt)|0,v=v+Math.imul(ie,Ee)|0,g=g+Math.imul(ie,lt)|0,w=w+Math.imul(B,we)|0,v=v+Math.imul(B,gt)|0,v=v+Math.imul(L,we)|0,g=g+Math.imul(L,gt)|0,w=w+Math.imul(S,_e)|0,v=v+Math.imul(S,nt)|0,v=v+Math.imul(O,_e)|0,g=g+Math.imul(O,nt)|0;var Sr=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,w=Math.imul(Y,V),v=Math.imul(Y,K),v=v+Math.imul(ne,V)|0,g=Math.imul(ne,K),w=w+Math.imul(Q,oe)|0,v=v+Math.imul(Q,Ie)|0,v=v+Math.imul(fe,oe)|0,g=g+Math.imul(fe,Ie)|0,w=w+Math.imul(H,Ae)|0,v=v+Math.imul(H,et)|0,v=v+Math.imul(te,Ae)|0,g=g+Math.imul(te,et)|0,w=w+Math.imul(z,Ee)|0,v=v+Math.imul(z,lt)|0,v=v+Math.imul(R,Ee)|0,g=g+Math.imul(R,lt)|0,w=w+Math.imul(q,we)|0,v=v+Math.imul(q,gt)|0,v=v+Math.imul(ie,we)|0,g=g+Math.imul(ie,gt)|0,w=w+Math.imul(B,_e)|0,v=v+Math.imul(B,nt)|0,v=v+Math.imul(L,_e)|0,g=g+Math.imul(L,nt)|0,w=w+Math.imul(S,Se)|0,v=v+Math.imul(S,ut)|0,v=v+Math.imul(O,Se)|0,g=g+Math.imul(O,ut)|0;var kr=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(kr>>>26)|0,kr&=67108863,w=Math.imul(re,V),v=Math.imul(re,K),v=v+Math.imul(be,V)|0,g=Math.imul(be,K),w=w+Math.imul(Y,oe)|0,v=v+Math.imul(Y,Ie)|0,v=v+Math.imul(ne,oe)|0,g=g+Math.imul(ne,Ie)|0,w=w+Math.imul(Q,Ae)|0,v=v+Math.imul(Q,et)|0,v=v+Math.imul(fe,Ae)|0,g=g+Math.imul(fe,et)|0,w=w+Math.imul(H,Ee)|0,v=v+Math.imul(H,lt)|0,v=v+Math.imul(te,Ee)|0,g=g+Math.imul(te,lt)|0,w=w+Math.imul(z,we)|0,v=v+Math.imul(z,gt)|0,v=v+Math.imul(R,we)|0,g=g+Math.imul(R,gt)|0,w=w+Math.imul(q,_e)|0,v=v+Math.imul(q,nt)|0,v=v+Math.imul(ie,_e)|0,g=g+Math.imul(ie,nt)|0,w=w+Math.imul(B,Se)|0,v=v+Math.imul(B,ut)|0,v=v+Math.imul(L,Se)|0,g=g+Math.imul(L,ut)|0,w=w+Math.imul(S,Me)|0,v=v+Math.imul(S,mt)|0,v=v+Math.imul(O,Me)|0,g=g+Math.imul(O,mt)|0;var Dn=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,w=Math.imul(ae,V),v=Math.imul(ae,K),v=v+Math.imul(De,V)|0,g=Math.imul(De,K),w=w+Math.imul(re,oe)|0,v=v+Math.imul(re,Ie)|0,v=v+Math.imul(be,oe)|0,g=g+Math.imul(be,Ie)|0,w=w+Math.imul(Y,Ae)|0,v=v+Math.imul(Y,et)|0,v=v+Math.imul(ne,Ae)|0,g=g+Math.imul(ne,et)|0,w=w+Math.imul(Q,Ee)|0,v=v+Math.imul(Q,lt)|0,v=v+Math.imul(fe,Ee)|0,g=g+Math.imul(fe,lt)|0,w=w+Math.imul(H,we)|0,v=v+Math.imul(H,gt)|0,v=v+Math.imul(te,we)|0,g=g+Math.imul(te,gt)|0,w=w+Math.imul(z,_e)|0,v=v+Math.imul(z,nt)|0,v=v+Math.imul(R,_e)|0,g=g+Math.imul(R,nt)|0,w=w+Math.imul(q,Se)|0,v=v+Math.imul(q,ut)|0,v=v+Math.imul(ie,Se)|0,g=g+Math.imul(ie,ut)|0,w=w+Math.imul(B,Me)|0,v=v+Math.imul(B,mt)|0,v=v+Math.imul(L,Me)|0,g=g+Math.imul(L,mt)|0,w=w+Math.imul(S,Pe)|0,v=v+Math.imul(S,dt)|0,v=v+Math.imul(O,Pe)|0,g=g+Math.imul(O,dt)|0;var Ln=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,w=Math.imul(he,V),v=Math.imul(he,K),v=v+Math.imul(ze,V)|0,g=Math.imul(ze,K),w=w+Math.imul(ae,oe)|0,v=v+Math.imul(ae,Ie)|0,v=v+Math.imul(De,oe)|0,g=g+Math.imul(De,Ie)|0,w=w+Math.imul(re,Ae)|0,v=v+Math.imul(re,et)|0,v=v+Math.imul(be,Ae)|0,g=g+Math.imul(be,et)|0,w=w+Math.imul(Y,Ee)|0,v=v+Math.imul(Y,lt)|0,v=v+Math.imul(ne,Ee)|0,g=g+Math.imul(ne,lt)|0,w=w+Math.imul(Q,we)|0,v=v+Math.imul(Q,gt)|0,v=v+Math.imul(fe,we)|0,g=g+Math.imul(fe,gt)|0,w=w+Math.imul(H,_e)|0,v=v+Math.imul(H,nt)|0,v=v+Math.imul(te,_e)|0,g=g+Math.imul(te,nt)|0,w=w+Math.imul(z,Se)|0,v=v+Math.imul(z,ut)|0,v=v+Math.imul(R,Se)|0,g=g+Math.imul(R,ut)|0,w=w+Math.imul(q,Me)|0,v=v+Math.imul(q,mt)|0,v=v+Math.imul(ie,Me)|0,g=g+Math.imul(ie,mt)|0,w=w+Math.imul(B,Pe)|0,v=v+Math.imul(B,dt)|0,v=v+Math.imul(L,Pe)|0,g=g+Math.imul(L,dt)|0,w=w+Math.imul(S,Te)|0,v=v+Math.imul(S,ht)|0,v=v+Math.imul(O,Te)|0,g=g+Math.imul(O,ht)|0;var Un=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(he,oe),v=Math.imul(he,Ie),v=v+Math.imul(ze,oe)|0,g=Math.imul(ze,Ie),w=w+Math.imul(ae,Ae)|0,v=v+Math.imul(ae,et)|0,v=v+Math.imul(De,Ae)|0,g=g+Math.imul(De,et)|0,w=w+Math.imul(re,Ee)|0,v=v+Math.imul(re,lt)|0,v=v+Math.imul(be,Ee)|0,g=g+Math.imul(be,lt)|0,w=w+Math.imul(Y,we)|0,v=v+Math.imul(Y,gt)|0,v=v+Math.imul(ne,we)|0,g=g+Math.imul(ne,gt)|0,w=w+Math.imul(Q,_e)|0,v=v+Math.imul(Q,nt)|0,v=v+Math.imul(fe,_e)|0,g=g+Math.imul(fe,nt)|0,w=w+Math.imul(H,Se)|0,v=v+Math.imul(H,ut)|0,v=v+Math.imul(te,Se)|0,g=g+Math.imul(te,ut)|0,w=w+Math.imul(z,Me)|0,v=v+Math.imul(z,mt)|0,v=v+Math.imul(R,Me)|0,g=g+Math.imul(R,mt)|0,w=w+Math.imul(q,Pe)|0,v=v+Math.imul(q,dt)|0,v=v+Math.imul(ie,Pe)|0,g=g+Math.imul(ie,dt)|0,w=w+Math.imul(B,Te)|0,v=v+Math.imul(B,ht)|0,v=v+Math.imul(L,Te)|0,g=g+Math.imul(L,ht)|0;var Fn=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(he,Ae),v=Math.imul(he,et),v=v+Math.imul(ze,Ae)|0,g=Math.imul(ze,et),w=w+Math.imul(ae,Ee)|0,v=v+Math.imul(ae,lt)|0,v=v+Math.imul(De,Ee)|0,g=g+Math.imul(De,lt)|0,w=w+Math.imul(re,we)|0,v=v+Math.imul(re,gt)|0,v=v+Math.imul(be,we)|0,g=g+Math.imul(be,gt)|0,w=w+Math.imul(Y,_e)|0,v=v+Math.imul(Y,nt)|0,v=v+Math.imul(ne,_e)|0,g=g+Math.imul(ne,nt)|0,w=w+Math.imul(Q,Se)|0,v=v+Math.imul(Q,ut)|0,v=v+Math.imul(fe,Se)|0,g=g+Math.imul(fe,ut)|0,w=w+Math.imul(H,Me)|0,v=v+Math.imul(H,mt)|0,v=v+Math.imul(te,Me)|0,g=g+Math.imul(te,mt)|0,w=w+Math.imul(z,Pe)|0,v=v+Math.imul(z,dt)|0,v=v+Math.imul(R,Pe)|0,g=g+Math.imul(R,dt)|0,w=w+Math.imul(q,Te)|0,v=v+Math.imul(q,ht)|0,v=v+Math.imul(ie,Te)|0,g=g+Math.imul(ie,ht)|0;var Hn=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,w=Math.imul(he,Ee),v=Math.imul(he,lt),v=v+Math.imul(ze,Ee)|0,g=Math.imul(ze,lt),w=w+Math.imul(ae,we)|0,v=v+Math.imul(ae,gt)|0,v=v+Math.imul(De,we)|0,g=g+Math.imul(De,gt)|0,w=w+Math.imul(re,_e)|0,v=v+Math.imul(re,nt)|0,v=v+Math.imul(be,_e)|0,g=g+Math.imul(be,nt)|0,w=w+Math.imul(Y,Se)|0,v=v+Math.imul(Y,ut)|0,v=v+Math.imul(ne,Se)|0,g=g+Math.imul(ne,ut)|0,w=w+Math.imul(Q,Me)|0,v=v+Math.imul(Q,mt)|0,v=v+Math.imul(fe,Me)|0,g=g+Math.imul(fe,mt)|0,w=w+Math.imul(H,Pe)|0,v=v+Math.imul(H,dt)|0,v=v+Math.imul(te,Pe)|0,g=g+Math.imul(te,dt)|0,w=w+Math.imul(z,Te)|0,v=v+Math.imul(z,ht)|0,v=v+Math.imul(R,Te)|0,g=g+Math.imul(R,ht)|0;var Vn=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(he,we),v=Math.imul(he,gt),v=v+Math.imul(ze,we)|0,g=Math.imul(ze,gt),w=w+Math.imul(ae,_e)|0,v=v+Math.imul(ae,nt)|0,v=v+Math.imul(De,_e)|0,g=g+Math.imul(De,nt)|0,w=w+Math.imul(re,Se)|0,v=v+Math.imul(re,ut)|0,v=v+Math.imul(be,Se)|0,g=g+Math.imul(be,ut)|0,w=w+Math.imul(Y,Me)|0,v=v+Math.imul(Y,mt)|0,v=v+Math.imul(ne,Me)|0,g=g+Math.imul(ne,mt)|0,w=w+Math.imul(Q,Pe)|0,v=v+Math.imul(Q,dt)|0,v=v+Math.imul(fe,Pe)|0,g=g+Math.imul(fe,dt)|0,w=w+Math.imul(H,Te)|0,v=v+Math.imul(H,ht)|0,v=v+Math.imul(te,Te)|0,g=g+Math.imul(te,ht)|0;var jn=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(jn>>>26)|0,jn&=67108863,w=Math.imul(he,_e),v=Math.imul(he,nt),v=v+Math.imul(ze,_e)|0,g=Math.imul(ze,nt),w=w+Math.imul(ae,Se)|0,v=v+Math.imul(ae,ut)|0,v=v+Math.imul(De,Se)|0,g=g+Math.imul(De,ut)|0,w=w+Math.imul(re,Me)|0,v=v+Math.imul(re,mt)|0,v=v+Math.imul(be,Me)|0,g=g+Math.imul(be,mt)|0,w=w+Math.imul(Y,Pe)|0,v=v+Math.imul(Y,dt)|0,v=v+Math.imul(ne,Pe)|0,g=g+Math.imul(ne,dt)|0,w=w+Math.imul(Q,Te)|0,v=v+Math.imul(Q,ht)|0,v=v+Math.imul(fe,Te)|0,g=g+Math.imul(fe,ht)|0;var Gn=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(he,Se),v=Math.imul(he,ut),v=v+Math.imul(ze,Se)|0,g=Math.imul(ze,ut),w=w+Math.imul(ae,Me)|0,v=v+Math.imul(ae,mt)|0,v=v+Math.imul(De,Me)|0,g=g+Math.imul(De,mt)|0,w=w+Math.imul(re,Pe)|0,v=v+Math.imul(re,dt)|0,v=v+Math.imul(be,Pe)|0,g=g+Math.imul(be,dt)|0,w=w+Math.imul(Y,Te)|0,v=v+Math.imul(Y,ht)|0,v=v+Math.imul(ne,Te)|0,g=g+Math.imul(ne,ht)|0;var qn=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(qn>>>26)|0,qn&=67108863,w=Math.imul(he,Me),v=Math.imul(he,mt),v=v+Math.imul(ze,Me)|0,g=Math.imul(ze,mt),w=w+Math.imul(ae,Pe)|0,v=v+Math.imul(ae,dt)|0,v=v+Math.imul(De,Pe)|0,g=g+Math.imul(De,dt)|0,w=w+Math.imul(re,Te)|0,v=v+Math.imul(re,ht)|0,v=v+Math.imul(be,Te)|0,g=g+Math.imul(be,ht)|0;var $n=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(he,Pe),v=Math.imul(he,dt),v=v+Math.imul(ze,Pe)|0,g=Math.imul(ze,dt),w=w+Math.imul(ae,Te)|0,v=v+Math.imul(ae,ht)|0,v=v+Math.imul(De,Te)|0,g=g+Math.imul(De,ht)|0;var Kn=(x+w|0)+((v&8191)<<13)|0;x=(g+(v>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,w=Math.imul(he,Te),v=Math.imul(he,ht),v=v+Math.imul(ze,Te)|0,g=Math.imul(ze,ht);var zn=(x+w|0)+((v&8191)<<13)|0;return x=(g+(v>>>13)|0)+(zn>>>26)|0,zn&=67108863,y[0]=Ue,y[1]=He,y[2]=ar,y[3]=nr,y[4]=Er,y[5]=Sr,y[6]=kr,y[7]=Dn,y[8]=Ln,y[9]=Un,y[10]=Fn,y[11]=Hn,y[12]=Vn,y[13]=jn,y[14]=Gn,y[15]=qn,y[16]=$n,y[17]=Kn,y[18]=zn,x!==0&&(y[19]=x,f.length++),f};Math.imul||(C=T);function M(I,E,m){m.negative=E.negative^I.negative,m.length=I.length+E.length;for(var f=0,h=0,b=0;b<m.length-1;b++){var y=h;h=0;for(var x=f&67108863,w=Math.min(b,E.length-1),v=Math.max(0,b-I.length+1);v<=w;v++){var g=b-v,u=I.words[g]|0,S=E.words[v]|0,O=u*S,A=O&67108863;y=y+(O/67108864|0)|0,A=A+x|0,x=A&67108863,y=y+(A>>>26)|0,h+=y>>>26,y&=67108863}m.words[b]=x,f=y,y=h}return f!==0?m.words[b]=f:m.length--,m.strip()}function P(I,E,m){var f=new N;return f.mulp(I,E,m)}o.prototype.mulTo=function(E,m){var f,h=this.length+E.length;return this.length===10&&E.length===10?f=C(this,E,m):h<63?f=T(this,E,m):h<1024?f=M(this,E,m):f=P(this,E,m),f};function N(I,E){this.x=I,this.y=E}N.prototype.makeRBT=function(E){for(var m=new Array(E),f=o.prototype._countBits(E)-1,h=0;h<E;h++)m[h]=this.revBin(h,f,E);return m},N.prototype.revBin=function(E,m,f){if(E===0||E===f-1)return E;for(var h=0,b=0;b<m;b++)h|=(E&1)<<m-b-1,E>>=1;return h},N.prototype.permute=function(E,m,f,h,b,y){for(var x=0;x<y;x++)h[x]=m[E[x]],b[x]=f[E[x]]},N.prototype.transform=function(E,m,f,h,b,y){this.permute(y,E,m,f,h,b);for(var x=1;x<b;x<<=1)for(var w=x<<1,v=Math.cos(2*Math.PI/w),g=Math.sin(2*Math.PI/w),u=0;u<b;u+=w)for(var S=v,O=g,A=0;A<x;A++){var B=f[u+A],L=h[u+A],F=f[u+A+x],q=h[u+A+x],ie=S*F-O*q;q=S*q+O*F,F=ie,f[u+A]=B+F,h[u+A]=L+q,f[u+A+x]=B-F,h[u+A+x]=L-q,A!==w&&(ie=v*S-g*O,O=v*O+g*S,S=ie)}},N.prototype.guessLen13b=function(E,m){var f=Math.max(m,E)|1,h=f&1,b=0;for(f=f/2|0;f;f=f>>>1)b++;return 1<<b+1+h},N.prototype.conjugate=function(E,m,f){if(!(f<=1))for(var h=0;h<f/2;h++){var b=E[h];E[h]=E[f-h-1],E[f-h-1]=b,b=m[h],m[h]=-m[f-h-1],m[f-h-1]=-b}},N.prototype.normalize13b=function(E,m){for(var f=0,h=0;h<m/2;h++){var b=Math.round(E[2*h+1]/m)*8192+Math.round(E[2*h]/m)+f;E[h]=b&67108863,b<67108864?f=0:f=b/67108864|0}return E},N.prototype.convert13b=function(E,m,f,h){for(var b=0,y=0;y<m;y++)b=b+(E[y]|0),f[2*y]=b&8191,b=b>>>13,f[2*y+1]=b&8191,b=b>>>13;for(y=2*m;y<h;++y)f[y]=0;n(b===0),n((b&-8192)===0)},N.prototype.stub=function(E){for(var m=new Array(E),f=0;f<E;f++)m[f]=0;return m},N.prototype.mulp=function(E,m,f){var h=2*this.guessLen13b(E.length,m.length),b=this.makeRBT(h),y=this.stub(h),x=new Array(h),w=new Array(h),v=new Array(h),g=new Array(h),u=new Array(h),S=new Array(h),O=f.words;O.length=h,this.convert13b(E.words,E.length,x,h),this.convert13b(m.words,m.length,g,h),this.transform(x,y,w,v,h,b),this.transform(g,y,u,S,h,b);for(var A=0;A<h;A++){var B=w[A]*u[A]-v[A]*S[A];v[A]=w[A]*S[A]+v[A]*u[A],w[A]=B}return this.conjugate(w,v,h),this.transform(w,v,O,y,h,b),this.conjugate(O,y,h),this.normalize13b(O,h),f.negative=E.negative^m.negative,f.length=E.length+m.length,f.strip()},o.prototype.mul=function(E){var m=new o(null);return m.words=new Array(this.length+E.length),this.mulTo(E,m)},o.prototype.mulf=function(E){var m=new o(null);return m.words=new Array(this.length+E.length),P(this,E,m)},o.prototype.imul=function(E){return this.clone().mulTo(E,this)},o.prototype.imuln=function(E){n(typeof E=="number"),n(E<67108864);for(var m=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*E,b=(h&67108863)+(m&67108863);m>>=26,m+=h/67108864|0,m+=b>>>26,this.words[f]=b&67108863}return m!==0&&(this.words[f]=m,this.length++),this},o.prototype.muln=function(E){return this.clone().imuln(E)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(E){var m=_(E);if(m.length===0)return new o(1);for(var f=this,h=0;h<m.length&&m[h]===0;h++,f=f.sqr());if(++h<m.length)for(var b=f.sqr();h<m.length;h++,b=b.sqr())m[h]!==0&&(f=f.mul(b));return f},o.prototype.iushln=function(E){n(typeof E=="number"&&E>=0);var m=E%26,f=(E-m)/26,h=67108863>>>26-m<<26-m,b;if(m!==0){var y=0;for(b=0;b<this.length;b++){var x=this.words[b]&h,w=(this.words[b]|0)-x<<m;this.words[b]=w|y,y=x>>>26-m}y&&(this.words[b]=y,this.length++)}if(f!==0){for(b=this.length-1;b>=0;b--)this.words[b+f]=this.words[b];for(b=0;b<f;b++)this.words[b]=0;this.length+=f}return this.strip()},o.prototype.ishln=function(E){return n(this.negative===0),this.iushln(E)},o.prototype.iushrn=function(E,m,f){n(typeof E=="number"&&E>=0);var h;m?h=(m-m%26)/26:h=0;var b=E%26,y=Math.min((E-b)/26,this.length),x=67108863^67108863>>>b<<b,w=f;if(h-=y,h=Math.max(0,h),w){for(var v=0;v<y;v++)w.words[v]=this.words[v];w.length=y}if(y!==0)if(this.length>y)for(this.length-=y,v=0;v<this.length;v++)this.words[v]=this.words[v+y];else this.words[0]=0,this.length=1;var g=0;for(v=this.length-1;v>=0&&(g!==0||v>=h);v--){var u=this.words[v]|0;this.words[v]=g<<26-b|u>>>b,g=u&x}return w&&g!==0&&(w.words[w.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(E,m,f){return n(this.negative===0),this.iushrn(E,m,f)},o.prototype.shln=function(E){return this.clone().ishln(E)},o.prototype.ushln=function(E){return this.clone().iushln(E)},o.prototype.shrn=function(E){return this.clone().ishrn(E)},o.prototype.ushrn=function(E){return this.clone().iushrn(E)},o.prototype.testn=function(E){n(typeof E=="number"&&E>=0);var m=E%26,f=(E-m)/26,h=1<<m;if(this.length<=f)return!1;var b=this.words[f];return!!(b&h)},o.prototype.imaskn=function(E){n(typeof E=="number"&&E>=0);var m=E%26,f=(E-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(m!==0&&f++,this.length=Math.min(f,this.length),m!==0){var h=67108863^67108863>>>m<<m;this.words[this.length-1]&=h}return this.strip()},o.prototype.maskn=function(E){return this.clone().imaskn(E)},o.prototype.iaddn=function(E){return n(typeof E=="number"),n(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(this.words[0]|0)<E?(this.words[0]=E-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},o.prototype._iaddn=function(E){this.words[0]+=E;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},o.prototype.isubn=function(E){if(n(typeof E=="number"),n(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},o.prototype.addn=function(E){return this.clone().iaddn(E)},o.prototype.subn=function(E){return this.clone().isubn(E)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(E,m,f){var h=E.length+f,b;this._expand(h);var y,x=0;for(b=0;b<E.length;b++){y=(this.words[b+f]|0)+x;var w=(E.words[b]|0)*m;y-=w&67108863,x=(y>>26)-(w/67108864|0),this.words[b+f]=y&67108863}for(;b<this.length-f;b++)y=(this.words[b+f]|0)+x,x=y>>26,this.words[b+f]=y&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,b=0;b<this.length;b++)y=-(this.words[b]|0)+x,x=y>>26,this.words[b]=y&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(E,m){var f=this.length-E.length,h=this.clone(),b=E,y=b.words[b.length-1]|0,x=this._countBits(y);f=26-x,f!==0&&(b=b.ushln(f),h.iushln(f),y=b.words[b.length-1]|0);var w=h.length-b.length,v;if(m!=="mod"){v=new o(null),v.length=w+1,v.words=new Array(v.length);for(var g=0;g<v.length;g++)v.words[g]=0}var u=h.clone()._ishlnsubmul(b,1,w);u.negative===0&&(h=u,v&&(v.words[w]=1));for(var S=w-1;S>=0;S--){var O=(h.words[b.length+S]|0)*67108864+(h.words[b.length+S-1]|0);for(O=Math.min(O/y|0,67108863),h._ishlnsubmul(b,O,S);h.negative!==0;)O--,h.negative=0,h._ishlnsubmul(b,1,S),h.isZero()||(h.negative^=1);v&&(v.words[S]=O)}return v&&v.strip(),h.strip(),m!=="div"&&f!==0&&h.iushrn(f),{div:v||null,mod:h}},o.prototype.divmod=function(E,m,f){if(n(!E.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var h,b,y;return this.negative!==0&&E.negative===0?(y=this.neg().divmod(E,m),m!=="mod"&&(h=y.div.neg()),m!=="div"&&(b=y.mod.neg(),f&&b.negative!==0&&b.iadd(E)),{div:h,mod:b}):this.negative===0&&E.negative!==0?(y=this.divmod(E.neg(),m),m!=="mod"&&(h=y.div.neg()),{div:h,mod:y.mod}):(this.negative&E.negative)!==0?(y=this.neg().divmod(E.neg(),m),m!=="div"&&(b=y.mod.neg(),f&&b.negative!==0&&b.isub(E)),{div:y.div,mod:b}):E.length>this.length||this.cmp(E)<0?{div:new o(0),mod:this}:E.length===1?m==="div"?{div:this.divn(E.words[0]),mod:null}:m==="mod"?{div:null,mod:new o(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new o(this.modn(E.words[0]))}:this._wordDiv(E,m)},o.prototype.div=function(E){return this.divmod(E,"div",!1).div},o.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},o.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},o.prototype.divRound=function(E){var m=this.divmod(E);if(m.mod.isZero())return m.div;var f=m.div.negative!==0?m.mod.isub(E):m.mod,h=E.ushrn(1),b=E.andln(1),y=f.cmp(h);return y<0||b===1&&y===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},o.prototype.modn=function(E){n(E<=67108863);for(var m=(1<<26)%E,f=0,h=this.length-1;h>=0;h--)f=(m*f+(this.words[h]|0))%E;return f},o.prototype.idivn=function(E){n(E<=67108863);for(var m=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+m*67108864;this.words[f]=h/E|0,m=h%E}return this.strip()},o.prototype.divn=function(E){return this.clone().idivn(E)},o.prototype.egcd=function(E){n(E.negative===0),n(!E.isZero());var m=this,f=E.clone();m.negative!==0?m=m.umod(E):m=m.clone();for(var h=new o(1),b=new o(0),y=new o(0),x=new o(1),w=0;m.isEven()&&f.isEven();)m.iushrn(1),f.iushrn(1),++w;for(var v=f.clone(),g=m.clone();!m.isZero();){for(var u=0,S=1;(m.words[0]&S)===0&&u<26;++u,S<<=1);if(u>0)for(m.iushrn(u);u-- >0;)(h.isOdd()||b.isOdd())&&(h.iadd(v),b.isub(g)),h.iushrn(1),b.iushrn(1);for(var O=0,A=1;(f.words[0]&A)===0&&O<26;++O,A<<=1);if(O>0)for(f.iushrn(O);O-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(v),x.isub(g)),y.iushrn(1),x.iushrn(1);m.cmp(f)>=0?(m.isub(f),h.isub(y),b.isub(x)):(f.isub(m),y.isub(h),x.isub(b))}return{a:y,b:x,gcd:f.iushln(w)}},o.prototype._invmp=function(E){n(E.negative===0),n(!E.isZero());var m=this,f=E.clone();m.negative!==0?m=m.umod(E):m=m.clone();for(var h=new o(1),b=new o(0),y=f.clone();m.cmpn(1)>0&&f.cmpn(1)>0;){for(var x=0,w=1;(m.words[0]&w)===0&&x<26;++x,w<<=1);if(x>0)for(m.iushrn(x);x-- >0;)h.isOdd()&&h.iadd(y),h.iushrn(1);for(var v=0,g=1;(f.words[0]&g)===0&&v<26;++v,g<<=1);if(v>0)for(f.iushrn(v);v-- >0;)b.isOdd()&&b.iadd(y),b.iushrn(1);m.cmp(f)>=0?(m.isub(f),h.isub(b)):(f.isub(m),b.isub(h))}var u;return m.cmpn(1)===0?u=h:u=b,u.cmpn(0)<0&&u.iadd(E),u},o.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var m=this.clone(),f=E.clone();m.negative=0,f.negative=0;for(var h=0;m.isEven()&&f.isEven();h++)m.iushrn(1),f.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;f.isEven();)f.iushrn(1);var b=m.cmp(f);if(b<0){var y=m;m=f,f=y}else if(b===0||f.cmpn(1)===0)break;m.isub(f)}while(!0);return f.iushln(h)},o.prototype.invm=function(E){return this.egcd(E).a.umod(E)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(E){return this.words[0]&E},o.prototype.bincn=function(E){n(typeof E=="number");var m=E%26,f=(E-m)/26,h=1<<m;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var b=h,y=f;b!==0&&y<this.length;y++){var x=this.words[y]|0;x+=b,b=x>>>26,x&=67108863,this.words[y]=x}return b!==0&&(this.words[y]=b,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(E){var m=E<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var f;if(this.length>1)f=1;else{m&&(E=-E),n(E<=67108863,"Number is too big");var h=this.words[0]|0;f=h===E?0:h<E?-1:1}return this.negative!==0?-f|0:f},o.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var m=this.ucmp(E);return this.negative!==0?-m|0:m},o.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var m=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,b=E.words[f]|0;if(h!==b){h<b?m=-1:h>b&&(m=1);break}}return m},o.prototype.gtn=function(E){return this.cmpn(E)===1},o.prototype.gt=function(E){return this.cmp(E)===1},o.prototype.gten=function(E){return this.cmpn(E)>=0},o.prototype.gte=function(E){return this.cmp(E)>=0},o.prototype.ltn=function(E){return this.cmpn(E)===-1},o.prototype.lt=function(E){return this.cmp(E)===-1},o.prototype.lten=function(E){return this.cmpn(E)<=0},o.prototype.lte=function(E){return this.cmp(E)<=0},o.prototype.eqn=function(E){return this.cmpn(E)===0},o.prototype.eq=function(E){return this.cmp(E)===0},o.red=function(E){return new me(E)},o.prototype.toRed=function(E){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(E){return this.red=E,this},o.prototype.forceRed=function(E){return n(!this.red,"Already a number in reduction context"),this._forceRed(E)},o.prototype.redAdd=function(E){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},o.prototype.redIAdd=function(E){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},o.prototype.redSub=function(E){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},o.prototype.redISub=function(E){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},o.prototype.redShl=function(E){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},o.prototype.redMul=function(E){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},o.prototype.redIMul=function(E){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(E){return n(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var U={k256:null,p224:null,p192:null,p25519:null};function $(I,E){this.name=I,this.p=new o(E,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var E=new o(null);return E.words=new Array(Math.ceil(this.n/13)),E},$.prototype.ireduce=function(E){var m=E,f;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),f=m.bitLength();while(f>this.n);var h=f<this.n?-1:m.ucmp(this.p);return h===0?(m.words[0]=0,m.length=1):h>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},$.prototype.split=function(E,m){E.iushrn(this.n,0,m)},$.prototype.imulK=function(E){return E.imul(this.k)};function G(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(G,$),G.prototype.split=function(E,m){for(var f=4194303,h=Math.min(E.length,9),b=0;b<h;b++)m.words[b]=E.words[b];if(m.length=h,E.length<=9){E.words[0]=0,E.length=1;return}var y=E.words[9];for(m.words[m.length++]=y&f,b=10;b<E.length;b++){var x=E.words[b]|0;E.words[b-10]=(x&f)<<4|y>>>22,y=x}y>>>=22,E.words[b-10]=y,y===0&&E.length>10?E.length-=10:E.length-=9},G.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var m=0,f=0;f<E.length;f++){var h=E.words[f]|0;m+=h*977,E.words[f]=m&67108863,m=h*64+(m/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E};function X(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(X,$);function ye(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ye,$);function ce(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ce,$),ce.prototype.imulK=function(E){for(var m=0,f=0;f<E.length;f++){var h=(E.words[f]|0)*19+m,b=h&67108863;h>>>=26,E.words[f]=b,m=h}return m!==0&&(E.words[E.length++]=m),E},o._prime=function(E){if(U[E])return U[E];var m;if(E==="k256")m=new G;else if(E==="p224")m=new X;else if(E==="p192")m=new ye;else if(E==="p25519")m=new ce;else throw new Error("Unknown prime "+E);return U[E]=m,m};function me(I){if(typeof I=="string"){var E=o._prime(I);this.m=E.p,this.prime=E}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}me.prototype._verify1=function(E){n(E.negative===0,"red works only with positives"),n(E.red,"red works only with red numbers")},me.prototype._verify2=function(E,m){n((E.negative|m.negative)===0,"red works only with positives"),n(E.red&&E.red===m.red,"red works only with red numbers")},me.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},me.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},me.prototype.add=function(E,m){this._verify2(E,m);var f=E.add(m);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},me.prototype.iadd=function(E,m){this._verify2(E,m);var f=E.iadd(m);return f.cmp(this.m)>=0&&f.isub(this.m),f},me.prototype.sub=function(E,m){this._verify2(E,m);var f=E.sub(m);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},me.prototype.isub=function(E,m){this._verify2(E,m);var f=E.isub(m);return f.cmpn(0)<0&&f.iadd(this.m),f},me.prototype.shl=function(E,m){return this._verify1(E),this.imod(E.ushln(m))},me.prototype.imul=function(E,m){return this._verify2(E,m),this.imod(E.imul(m))},me.prototype.mul=function(E,m){return this._verify2(E,m),this.imod(E.mul(m))},me.prototype.isqr=function(E){return this.imul(E,E.clone())},me.prototype.sqr=function(E){return this.mul(E,E)},me.prototype.sqrt=function(E){if(E.isZero())return E.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var f=this.m.add(new o(1)).iushrn(2);return this.pow(E,f)}for(var h=this.m.subn(1),b=0;!h.isZero()&&h.andln(1)===0;)b++,h.iushrn(1);n(!h.isZero());var y=new o(1).toRed(this),x=y.redNeg(),w=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new o(2*v*v).toRed(this);this.pow(v,w).cmp(x)!==0;)v.redIAdd(x);for(var g=this.pow(v,h),u=this.pow(E,h.addn(1).iushrn(1)),S=this.pow(E,h),O=b;S.cmp(y)!==0;){for(var A=S,B=0;A.cmp(y)!==0;B++)A=A.redSqr();n(B<O);var L=this.pow(g,new o(1).iushln(O-B-1));u=u.redMul(L),g=L.redSqr(),S=S.redMul(g),O=B}return u},me.prototype.invm=function(E){var m=E._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},me.prototype.pow=function(E,m){if(m.isZero())return new o(1).toRed(this);if(m.cmpn(1)===0)return E.clone();var f=4,h=new Array(1<<f);h[0]=new o(1).toRed(this),h[1]=E;for(var b=2;b<h.length;b++)h[b]=this.mul(h[b-1],E);var y=h[0],x=0,w=0,v=m.bitLength()%26;for(v===0&&(v=26),b=m.length-1;b>=0;b--){for(var g=m.words[b],u=v-1;u>=0;u--){var S=g>>u&1;if(y!==h[0]&&(y=this.sqr(y)),S===0&&x===0){w=0;continue}x<<=1,x|=S,w++,!(w!==f&&(b!==0||u!==0))&&(y=this.mul(y,h[x]),w=0,x=0)}v=26}return y},me.prototype.convertTo=function(E){var m=E.umod(this.m);return m===E?m.clone():m},me.prototype.convertFrom=function(E){var m=E.clone();return m.red=null,m},o.mont=function(E){return new Be(E)};function Be(I){me.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Be,me),Be.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},Be.prototype.convertFrom=function(E){var m=this.imod(E.mul(this.rinv));return m.red=null,m},Be.prototype.imul=function(E,m){if(E.isZero()||m.isZero())return E.words[0]=0,E.length=1,E;var f=E.imul(m),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=f.isub(h).iushrn(this.shift),y=b;return b.cmp(this.m)>=0?y=b.isub(this.m):b.cmpn(0)<0&&(y=b.iadd(this.m)),y._forceRed(this)},Be.prototype.mul=function(E,m){if(E.isZero()||m.isZero())return new o(0)._forceRed(this);var f=E.mul(m),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=f.isub(h).iushrn(this.shift),y=b;return b.cmp(this.m)>=0?y=b.isub(this.m):b.cmpn(0)<0&&(y=b.iadd(this.m)),y._forceRed(this)},Be.prototype.invm=function(E){var m=this.imod(E._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(r,Ze)})(Wi);var fm={};(function(r){var e=r;function t(o,s){if(Array.isArray(o))return o.slice();if(!o)return[];var a=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)a[c]=o[c]|0;return a}if(s==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)a.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var d=o.charCodeAt(c),l=d>>8,p=d&255;l?a.push(l,p):a.push(p)}return a}e.toArray=t;function n(o){return o.length===1?"0"+o:o}e.zero2=n;function i(o){for(var s="",a=0;a<o.length;a++)s+=n(o[a].toString(16));return s}e.toHex=i,e.encode=function(s,a){return a==="hex"?i(s):s}})(fm);(function(r){var e=r,t=Wi.exports,n=Qs,i=fm;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function o(l,p,k){var _=new Array(Math.max(l.bitLength(),k)+1);_.fill(0);for(var T=1<<p+1,C=l.clone(),M=0;M<_.length;M++){var P,N=C.andln(T-1);C.isOdd()?(N>(T>>1)-1?P=(T>>1)-N:P=N,C.isubn(P)):P=0,_[M]=P,C.iushrn(1)}return _}e.getNAF=o;function s(l,p){var k=[[],[]];l=l.clone(),p=p.clone();for(var _=0,T=0,C;l.cmpn(-_)>0||p.cmpn(-T)>0;){var M=l.andln(3)+_&3,P=p.andln(3)+T&3;M===3&&(M=-1),P===3&&(P=-1);var N;(M&1)===0?N=0:(C=l.andln(7)+_&7,(C===3||C===5)&&P===2?N=-M:N=M),k[0].push(N);var U;(P&1)===0?U=0:(C=p.andln(7)+T&7,(C===3||C===5)&&M===2?U=-P:U=P),k[1].push(U),2*_===N+1&&(_=1-_),2*T===U+1&&(T=1-T),l.iushrn(1),p.iushrn(1)}return k}e.getJSF=s;function a(l,p,k){var _="_"+p;l.prototype[p]=function(){return this[_]!==void 0?this[_]:this[_]=k.call(this)}}e.cachedProperty=a;function c(l){return typeof l=="string"?e.toArray(l,"hex"):l}e.parseBytes=c;function d(l){return new t(l,"hex","le")}e.intFromLE=d})(gn);var Zu={exports:{}},f1;Zu.exports=function(e){return f1||(f1=new qo(null)),f1.generate(e)};function qo(r){this.rand=r}Zu.exports.Rand=qo;qo.prototype.generate=function(e){return this._rand(e)};qo.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?qo.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?qo.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(qo.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var ry=wo;if(typeof ry.randomBytes!="function")throw new Error("Not supported");qo.prototype._rand=function(e){return ry.randomBytes(e)}}catch{}var cm={},gs=Wi.exports,Zc=gn,R0=Zc.getNAF,LI=Zc.getJSF,D0=Zc.assert;function as(r,e){this.type=r,this.p=new gs(e.p,16),this.red=e.prime?gs.red(e.prime):gs.mont(this.p),this.zero=new gs(0).toRed(this.red),this.one=new gs(1).toRed(this.red),this.two=new gs(2).toRed(this.red),this.n=e.n&&new gs(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ed=as;as.prototype.point=function(){throw new Error("Not implemented")};as.prototype.validate=function(){throw new Error("Not implemented")};as.prototype._fixedNafMul=function(e,t){D0(e.precomputed);var n=e._getDoubles(),i=R0(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var d=a+n.step-1;d>=a;d--)c=(c<<1)+i[d];s.push(c)}for(var l=this.jpoint(null,null,null),p=this.jpoint(null,null,null),k=o;k>0;k--){for(a=0;a<s.length;a++)c=s[a],c===k?p=p.mixedAdd(n.points[a]):c===-k&&(p=p.mixedAdd(n.points[a].neg()));l=l.add(p)}return l.toP()};as.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=R0(t,n,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var d=0;c>=0&&s[c]===0;c--)d++;if(c>=0&&d++,a=a.dblp(d),c<0)break;var l=s[c];D0(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(o[l-1>>1]):a=a.mixedAdd(o[-l-1>>1].neg()):l>0?a=a.add(o[l-1>>1]):a=a.add(o[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};as.prototype._wnafMulAdd=function(e,t,n,i,o){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,d=0,l,p,k;for(l=0;l<i;l++){k=t[l];var _=k._getNAFPoints(e);s[l]=_.wnd,a[l]=_.points}for(l=i-1;l>=1;l-=2){var T=l-1,C=l;if(s[T]!==1||s[C]!==1){c[T]=R0(n[T],s[T],this._bitLength),c[C]=R0(n[C],s[C],this._bitLength),d=Math.max(c[T].length,d),d=Math.max(c[C].length,d);continue}var M=[t[T],null,null,t[C]];t[T].y.cmp(t[C].y)===0?(M[1]=t[T].add(t[C]),M[2]=t[T].toJ().mixedAdd(t[C].neg())):t[T].y.cmp(t[C].y.redNeg())===0?(M[1]=t[T].toJ().mixedAdd(t[C]),M[2]=t[T].add(t[C].neg())):(M[1]=t[T].toJ().mixedAdd(t[C]),M[2]=t[T].toJ().mixedAdd(t[C].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],N=LI(n[T],n[C]);for(d=Math.max(N[0].length,d),c[T]=new Array(d),c[C]=new Array(d),p=0;p<d;p++){var U=N[0][p]|0,$=N[1][p]|0;c[T][p]=P[(U+1)*3+($+1)],c[C][p]=0,a[T]=M}}var G=this.jpoint(null,null,null),X=this._wnafT4;for(l=d;l>=0;l--){for(var ye=0;l>=0;){var ce=!0;for(p=0;p<i;p++)X[p]=c[p][l]|0,X[p]!==0&&(ce=!1);if(!ce)break;ye++,l--}if(l>=0&&ye++,G=G.dblp(ye),l<0)break;for(p=0;p<i;p++){var me=X[p];me!==0&&(me>0?k=a[p][me-1>>1]:me<0&&(k=a[p][-me-1>>1].neg()),k.type==="affine"?G=G.mixedAdd(k):G=G.add(k))}}for(l=0;l<i;l++)a[l]=null;return o?G:G.toP()};function On(r,e){this.curve=r,this.type=e,this.precomputed=null}as.BasePoint=On;On.prototype.eq=function(){throw new Error("Not implemented")};On.prototype.validate=function(){return this.curve.validate(this)};as.prototype.decodePoint=function(e,t){e=Zc.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?D0(e[e.length-1]%2===0):e[0]===7&&D0(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};On.prototype.encodeCompressed=function(e){return this.encode(e,!0)};On.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};On.prototype.encode=function(e,t){return Zc.encode(this._encode(t),e)};On.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};On.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};On.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<t;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};On.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)t[o]=t[o-1].add(i);return{wnd:e,points:t}};On.prototype._getBeta=function(){return null};On.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var UI=gn,Yt=Wi.exports,lm=za.exports,kf=ed,FI=UI.assert;function Rn(r){kf.call(this,"short",r),this.a=new Yt(r.a,16).toRed(this.red),this.b=new Yt(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}lm(Rn,kf);var HI=Rn;Rn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Yt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new Yt(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))===0?n=o[0]:(n=o[1],FI(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Yt(a.a,16),b:new Yt(a.b,16)}}):s=this._getEndoBasis(n),{beta:t,lambda:n,basis:s}}};Rn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Yt.mont(e),n=new Yt(2).toRed(t).redInvm(),i=n.redNeg(),o=new Yt(3).toRed(t).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};Rn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Yt(1),s=new Yt(0),a=new Yt(0),c=new Yt(1),d,l,p,k,_,T,C,M=0,P,N;n.cmpn(0)!==0;){var U=i.div(n);P=i.sub(U.mul(n)),N=a.sub(U.mul(o));var $=c.sub(U.mul(s));if(!p&&P.cmp(t)<0)d=C.neg(),l=o,p=P.neg(),k=N;else if(p&&++M===2)break;C=P,i=n,n=P,a=o,o=N,c=s,s=$}_=P.neg(),T=N;var G=p.sqr().add(k.sqr()),X=_.sqr().add(T.sqr());return X.cmp(G)>=0&&(_=d,T=l),p.negative&&(p=p.neg(),k=k.neg()),_.negative&&(_=_.neg(),T=T.neg()),[{a:p,b:k},{a:_,b:T}]};Rn.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=o.mul(n.a),c=s.mul(i.a),d=o.mul(n.b),l=s.mul(i.b),p=e.sub(a).sub(c),k=d.add(l).neg();return{k1:p,k2:k}};Rn.prototype.pointFromX=function(e,t){e=new Yt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)};Rn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Rn.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),c=e[s],d=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),d=d.neg(!0)),i[s*2]=c,i[s*2+1]=d,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,o,s*2,n),p=0;p<s*2;p++)i[p]=null,o[p]=null;return l};function mr(r,e,t,n){kf.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Yt(e,16),this.y=new Yt(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}lm(mr,kf.BasePoint);Rn.prototype.point=function(e,t,n){return new mr(this,e,t,n)};Rn.prototype.pointFromJSON=function(e,t){return mr.fromJSON(this,e,t)};mr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};mr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};mr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function o(a){return e.point(a[0],a[1],n)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};mr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};mr.prototype.isInfinity=function(){return this.inf};mr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};mr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};mr.prototype.getX=function(){return this.x.fromRed()};mr.prototype.getY=function(){return this.y.fromRed()};mr.prototype.mul=function(e){return e=new Yt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};mr.prototype.mulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};mr.prototype.jmulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};mr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};mr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};mr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ar(r,e,t,n){kf.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Yt(0)):(this.x=new Yt(e,16),this.y=new Yt(t,16),this.z=new Yt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}lm(Ar,kf.BasePoint);Rn.prototype.jpoint=function(e,t,n){return new Ar(this,e,t,n)};Ar.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};Ar.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ar.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),o=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(o),d=s.redSub(a);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),p=l.redMul(c),k=i.redMul(l),_=d.redSqr().redIAdd(p).redISub(k).redISub(k),T=d.redMul(k.redISub(_)).redISub(s.redMul(p)),C=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(_,T,C)};Ar.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),o=this.y,s=e.y.redMul(t).redMul(this.z),a=n.redSub(i),c=o.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),l=d.redMul(a),p=n.redMul(d),k=c.redSqr().redIAdd(l).redISub(p).redISub(p),_=c.redMul(p.redISub(k)).redISub(o.redMul(l)),T=this.z.redMul(a);return this.curve.jpoint(k,_,T)};Ar.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,c=this.z,d=c.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var p=s.redSqr(),k=l.redSqr(),_=k.redSqr(),T=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(d)),C=s.redMul(k),M=T.redSqr().redISub(C.redAdd(C)),P=C.redISub(M),N=T.redMul(P);N=N.redIAdd(N).redISub(_);var U=l.redMul(c);t+1<e&&(d=d.redMul(_)),s=M,c=U,l=N}return this.curve.jpoint(s,l.redMul(o),c)};Ar.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ar.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),d=c.redSqr().redISub(a).redISub(a),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=d,t=c.redMul(a.redISub(d)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),k=this.y.redSqr(),_=k.redSqr(),T=this.x.redAdd(k).redSqr().redISub(p).redISub(_);T=T.redIAdd(T);var C=p.redAdd(p).redIAdd(p),M=C.redSqr(),P=_.redIAdd(_);P=P.redIAdd(P),P=P.redIAdd(P),e=M.redISub(T).redISub(T),t=C.redMul(T.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Ar.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=c.redSqr().redISub(a).redISub(a);e=d;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),t=c.redMul(a.redISub(d)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),k=this.y.redSqr(),_=this.x.redMul(k),T=this.x.redSub(p).redMul(this.x.redAdd(p));T=T.redAdd(T).redIAdd(T);var C=_.redIAdd(_);C=C.redIAdd(C);var M=C.redAdd(C);e=T.redSqr().redISub(M),n=this.y.redAdd(this.z).redSqr().redISub(k).redISub(p);var P=k.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),t=T.redMul(C.redISub(e)).redISub(P)}return this.curve.jpoint(e,t,n)};Ar.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=t.redSqr(),a=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),d=t.redAdd(t);d=d.redIAdd(d);var l=d.redMul(a),p=c.redSqr().redISub(l.redAdd(l)),k=l.redISub(p),_=a.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var T=c.redMul(k).redISub(_),C=n.redAdd(n).redMul(i);return this.curve.jpoint(p,T,C)};Ar.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var l=o.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(d),p=t.redMul(l);p=p.redIAdd(p),p=p.redIAdd(p);var k=this.x.redMul(c).redISub(p);k=k.redIAdd(k),k=k.redIAdd(k);var _=this.y.redMul(l.redMul(d.redISub(l)).redISub(a.redMul(c)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var T=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(k,_,T)};Ar.prototype.mul=function(e,t){return e=new Yt(e,t),this.curve._wnafMul(this,e)};Ar.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Ar.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Ar.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ar.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var _a=Wi.exports,Rw=za.exports,td=ed,VI=gn;function _f(r){td.call(this,"mont",r),this.a=new _a(r.a,16).toRed(this.red),this.b=new _a(r.b,16).toRed(this.red),this.i4=new _a(4).toRed(this.red).redInvm(),this.two=new _a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Rw(_f,td);var jI=_f;_f.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),o=i.redSqrt();return o.redSqr().cmp(i)===0};function pr(r,e,t){td.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new _a(e,16),this.z=new _a(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Rw(pr,td.BasePoint);_f.prototype.decodePoint=function(e,t){return this.point(VI.toArray(e,t),1)};_f.prototype.point=function(e,t){return new pr(this,e,t)};_f.prototype.pointFromJSON=function(e){return pr.fromJSON(this,e)};pr.prototype.precompute=function(){};pr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};pr.fromJSON=function(e,t){return new pr(e,t[0],t[1]||e.one)};pr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};pr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};pr.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=t.redSub(i),s=t.redMul(i),a=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,a)};pr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};pr.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),a=s.redMul(n),c=o.redMul(i),d=t.z.redMul(a.redAdd(c).redSqr()),l=t.x.redMul(a.redISub(c).redSqr());return this.curve.point(d,l)};pr.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),o=this,s=[];t.cmpn(0)!==0;t.iushrn(1))s.push(t.andln(1));for(var a=s.length-1;a>=0;a--)s[a]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};pr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};pr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};pr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};pr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};pr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var GI=gn,ao=Wi.exports,Dw=za.exports,rd=ed,qI=GI.assert;function Qi(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,rd.call(this,"edwards",r),this.a=new ao(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new ao(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new ao(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),qI(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}Dw(Qi,rd);var $I=Qi;Qi.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Qi.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Qi.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)};Qi.prototype.pointFromX=function(e,t){e=new ao(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(o.redInvm()),a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)};Qi.prototype.pointFromY=function(e,t){e=new ao(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)};Qi.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return i.cmp(o)===0};function Ft(r,e,t,n,i){rd.BasePoint.call(this,r,"projective"),e===null&&t===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new ao(e,16),this.y=new ao(t,16),this.z=n?new ao(n,16):this.curve.one,this.t=i&&new ao(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Dw(Ft,rd.BasePoint);Qi.prototype.pointFromJSON=function(e){return Ft.fromJSON(this,e)};Qi.prototype.point=function(e,t,n,i){return new Ft(this,e,t,n,i)};Ft.fromJSON=function(e,t){return new Ft(e,t[0],t[1],t[2])};Ft.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ft.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ft.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=i.redAdd(t),a=s.redSub(n),c=i.redSub(t),d=o.redMul(a),l=s.redMul(c),p=o.redMul(c),k=a.redMul(s);return this.curve.point(d,l,k,p)};Ft.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),i,o,s,a,c,d;if(this.curve.twisted){a=this.curve._mulA(t);var l=a.redAdd(n);this.zOne?(i=e.redSub(t).redSub(n).redMul(l.redSub(this.curve.two)),o=l.redMul(a.redSub(n)),s=l.redSqr().redSub(l).redSub(l)):(c=this.z.redSqr(),d=l.redSub(c).redISub(c),i=e.redSub(t).redISub(n).redMul(d),o=l.redMul(a.redSub(n)),s=l.redMul(d))}else a=t.redAdd(n),c=this.curve._mulC(this.z).redSqr(),d=a.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(a)).redMul(d),o=this.curve._mulC(a).redMul(t.redISub(n)),s=a.redMul(d);return this.curve.point(i,o,s)};Ft.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ft.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(t),a=o.redSub(i),c=o.redAdd(i),d=n.redAdd(t),l=s.redMul(a),p=c.redMul(d),k=s.redMul(d),_=a.redMul(c);return this.curve.point(l,p,_,k)};Ft.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),a=n.redSub(s),c=n.redAdd(s),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),l=t.redMul(a).redMul(d),p,k;return this.curve.twisted?(p=t.redMul(c).redMul(o.redSub(this.curve._mulA(i))),k=a.redMul(c)):(p=t.redMul(c).redMul(o.redSub(i)),k=this.curve._mulC(a).redMul(c)),this.curve.point(l,p,k)};Ft.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ft.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ft.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)};Ft.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)};Ft.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ft.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ft.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ft.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ft.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ft.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),this.x.cmp(t)===0)return!0}};Ft.prototype.toP=Ft.prototype.normalize;Ft.prototype.mixedAdd=Ft.prototype.add;(function(r){var e=r;e.base=ed,e.short=HI,e.mont=jI,e.edwards=$I})(cm);var nd={},c1,ny;function KI(){return ny||(ny=1,c1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),c1}(function(r){var e=r,t=ur,n=cm,i=gn,o=i.assert;function s(d){d.type==="short"?this.curve=new n.short(d):d.type==="edwards"?this.curve=new n.edwards(d):this.curve=new n.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function a(d,l){Object.defineProperty(e,d,{configurable:!0,enumerable:!0,get:function(){var p=new s(l);return Object.defineProperty(e,d,{configurable:!0,enumerable:!0,value:p}),p}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=KI()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(nd);var zI=ur,Is=fm,Lw=Qs;function Zo(r){if(!(this instanceof Zo))return new Zo(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Is.toArray(r.entropy,r.entropyEnc||"hex"),t=Is.toArray(r.nonce,r.nonceEnc||"hex"),n=Is.toArray(r.pers,r.persEnc||"hex");Lw(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var WI=Zo;Zo.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Zo.prototype._hmac=function(){return new zI.hmac(this.hash,this.K)};Zo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Zo.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=Is.toArray(e,t),n=Is.toArray(n,i),Lw(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Zo.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=Is.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Is.encode(s,t)};var QI=Wi.exports,JI=gn,bp=JI.assert;function Dr(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var YI=Dr;Dr.fromPublic=function(e,t,n){return t instanceof Dr?t:new Dr(e,{pub:t,pubEnc:n})};Dr.fromPrivate=function(e,t,n){return t instanceof Dr?t:new Dr(e,{priv:t,privEnc:n})};Dr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Dr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Dr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Dr.prototype._importPrivate=function(e,t){this.priv=new QI(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Dr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?bp(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&bp(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Dr.prototype.derive=function(e){return e.validate()||bp(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Dr.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Dr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Dr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var L0=Wi.exports,um=gn,XI=um.assert;function id(r,e){if(r instanceof id)return r;this._importDER(r,e)||(XI(r.r&&r.s,"Signature without r or s"),this.r=new L0(r.r,16),this.s=new L0(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var ZI=id;function eN(){this.place=0}function l1(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=r[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function iy(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}id.prototype._importDER=function(e,t){e=um.toArray(e,t);var n=new eN;if(e[n.place++]!==48)return!1;var i=l1(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=l1(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var a=l1(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new L0(s),this.s=new L0(c),this.recoveryParam=null,!0};function u1(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}id.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=iy(t),n=iy(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];u1(i,t.length),i=i.concat(t),i.push(2),u1(i,n.length);var o=i.concat(n),s=[48];return u1(s,o.length),s=s.concat(o),um.encode(s,e)};var Ns=Wi.exports,Uw=WI,tN=gn,d1=nd,rN=Zu.exports,Fw=tN.assert,dm=YI,od=ZI;function Mn(r){if(!(this instanceof Mn))return new Mn(r);typeof r=="string"&&(Fw(Object.prototype.hasOwnProperty.call(d1,r),"Unknown curve "+r),r=d1[r]),r instanceof d1.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var nN=Mn;Mn.prototype.keyPair=function(e){return new dm(this,e)};Mn.prototype.keyFromPrivate=function(e,t){return dm.fromPrivate(this,e,t)};Mn.prototype.keyFromPublic=function(e,t){return dm.fromPublic(this,e,t)};Mn.prototype.genKeyPair=function(e){e||(e={});for(var t=new Uw({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rN(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ns(2));;){var o=new Ns(t.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Mn.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Mn.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Ns(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),a=e.toArray("be",o),c=new Uw({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new Ns(1)),l=0;;l++){var p=i.k?i.k(l):new Ns(c.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(d)>=0)){var k=this.g.mul(p);if(!k.isInfinity()){var _=k.getX(),T=_.umod(this.n);if(T.cmpn(0)!==0){var C=p.invm(this.n).mul(T.mul(t.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var M=(k.getY().isOdd()?1:0)|(_.cmp(T)!==0?2:0);return i.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),M^=1),new od({r:T,s:C,recoveryParam:M})}}}}}};Mn.prototype.verify=function(e,t,n,i){e=this._truncateToN(new Ns(e,16)),n=this.keyFromPublic(n,i),t=new od(t,"hex");var o=t.r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),c=a.mul(e).umod(this.n),d=a.mul(o).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),d),l.isInfinity()?!1:l.eqXToP(o)):(l=this.g.mulAdd(c,n.getPublic(),d),l.isInfinity()?!1:l.getX().umod(this.n).cmp(o)===0)};Mn.prototype.recoverPubKey=function(r,e,t,n){Fw((3&t)===t,"The recovery param is more than two bits"),e=new od(e,n);var i=this.n,o=new Ns(r),s=e.r,a=e.s,c=t&1,d=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=e.r.invm(i),p=i.sub(o).mul(l).umod(i),k=a.mul(l).umod(i);return this.g.mulAdd(p,s,k)};Mn.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new od(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(r,e,i)}catch{continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var el=gn,Hw=el.assert,oy=el.parseBytes,Mf=el.cachedProperty;function hr(r,e){this.eddsa=r,this._secret=oy(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=oy(e.pub)}hr.fromPublic=function(e,t){return t instanceof hr?t:new hr(e,{pub:t})};hr.fromSecret=function(e,t){return t instanceof hr?t:new hr(e,{secret:t})};hr.prototype.secret=function(){return this._secret};Mf(hr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Mf(hr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Mf(hr,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Mf(hr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Mf(hr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Mf(hr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});hr.prototype.sign=function(e){return Hw(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};hr.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};hr.prototype.getSecret=function(e){return Hw(this._secret,"KeyPair is public only"),el.encode(this.secret(),e)};hr.prototype.getPublic=function(e){return el.encode(this.pubBytes(),e)};var iN=hr,oN=Wi.exports,sd=gn,sN=sd.assert,ad=sd.cachedProperty,aN=sd.parseBytes;function na(r,e){this.eddsa=r,typeof e!="object"&&(e=aN(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),sN(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof oN&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}ad(na,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});ad(na,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});ad(na,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});ad(na,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});na.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};na.prototype.toHex=function(){return sd.encode(this.toBytes(),"hex").toUpperCase()};var fN=na,cN=ur,lN=nd,sf=gn,uN=sf.assert,Vw=sf.parseBytes,jw=iN,sy=fN;function on(r){if(uN(r==="ed25519","only tested with ed25519 so far"),!(this instanceof on))return new on(r);r=lN[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=cN.sha512}var dN=on;on.prototype.sign=function(e,t){e=Vw(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),s=this.encodePoint(o),a=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:o,S:c,Rencoded:s})};on.prototype.verify=function(e,t,n){e=Vw(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),o=this.hashInt(t.Rencoded(),i.pubBytes(),e),s=this.g.mul(t.S()),a=t.R().add(i.pub().mul(o));return a.eq(s)};on.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return sf.intFromLE(e.digest()).umod(this.curve.n)};on.prototype.keyFromPublic=function(e){return jw.fromPublic(this,e)};on.prototype.keyFromSecret=function(e){return jw.fromSecret(this,e)};on.prototype.makeSignature=function(e){return e instanceof sy?e:new sy(this,e)};on.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};on.prototype.decodePoint=function(e){e=sf.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),i=(e[t]&128)!==0,o=sf.intFromLE(n);return this.curve.pointFromY(o,i)};on.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};on.prototype.decodeInt=function(e){return sf.intFromLE(e)};on.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(r){var e=r;e.version=DI.version,e.utils=gn,e.rand=Zu.exports,e.curve=cm,e.curves=nd,e.ec=nN,e.eddsa=dN})(am);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyPair=r.subtle=void 0;const e=Ot(),t=In,n=ss(),i=Dt,o=Vt,s=Yu,a=Xu,c=zt;let d=am;if(typeof crypto=="object"&&crypto.subtle)r.subtle=crypto.subtle;else{let C=wo.webcrypto;if(C)r.subtle=C.subtle;else throw(0,e.logger)(c.DEBUGLEVEL.LOW,"Webcrypto not accessible"),new Error("webcrypto.subtle missing")}let l=new d.ec("secp256k1"),p=gf.exports;const k={p192:null,p224:null,p256:"P-256",p384:"P-384",p521:"P-521",curve25519:null,ed25519:null,secp256k1:null};new n.Point(55066263022277343669578718895168534326250603453777594175500187360389116729240n,32670510020758816978083085130507043184471273380659243275938904335757337482424n);const _="secp256k1";class T{constructor(){this.ethereumPrefix=`Ethereum Signed Message:
`,this.algorithmASNList={secp256k1:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f3044042000000000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000000000000704410479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141020101","06052b8104000a"],sect283k1:["3081f806072a8648ce3d02013081ec020101302506072a8648ce3d0102301a0202011b06092a8648ce3d01020303300902010502010702010c304c042400000000000000000000000000000000000000000000000000000000000000000000000004240000000000000000000000000000000000000000000000000000000000000000000000010449040503213f78ca44883f1a3b8162f188e553cd265f23c1567a16876913b0c2ac245849283601ccda380f1c9e318d90f95d07e5426fe87e45c0e8184698e45962364e34116177dd2259022401ffffffffffffffffffffffffffffffffffe9ae2ed07577265dff7f94451e061e163c61020104"],p256:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100ffffffff00000001000000000000000000000000ffffffffffffffffffffffff30440420ffffffff00000001000000000000000000000000fffffffffffffffffffffffc04205ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b0441046b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c2964fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5022100ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551020101"]}}getPrivateAsUint8(){return this.privKey}getPrivateAsHexString(){return(0,e.uint8tohex)(this.privKey)}getPrivateAsBigInt(){return(0,e.uint8ToBn)(this.privKey)}static privateFromBigInt(M){let P=new this;return P.privKey=new Uint8Array((0,e.hexStringToArray)(M.toString(16).padStart(64,"0"))),P}static fromPublicHex(M){if(M.toLowerCase().match(/^[a-f0-9]+$/i)===null)throw new Error("Wrong Hex string input");if(M.length<129||M.length>130)throw new Error("Wrong public hex length");let P=new this;return P.pubKey=new Uint8Array((0,e.hexStringToArray)(M)),P}static fromPrivateUint8(M,P=""){if(!M||M.length!=32)throw new Error("Wrong private key. Should be 32 bytes Uint8");let N=new this;if(N.privKey=M,P&&n.CURVES.hasOwnProperty(P))N.algorithm=P;else throw new Error(`Algorithm ${P} not implemented.`);return N}static publicFromBase64orPEM(M){return T.publicFromPEM((0,e.pemOrBase64Orbase64urlToString)(M))}static publicFromPEM(M){const P=(0,e.base64ToUint8array)(M);let N=i.AsnParser.parse(P,o.PublicKeyInfoValue);return T.publicFromUint(new Uint8Array(N.publicKey))}static publicFromUint(M){let P=new this;if(M.byteLength!=65)throw(0,e.logger)(c.DEBUGLEVEL.LOW,"Wrong public key length"),new Error("Wrong public key length");return P.pubKey=new Uint8Array(M),P}static publicFromSubjectPublicKeyInfo(M){let P=new this;return P.pubKey=new Uint8Array(M.value.publicKey),P}static publicFromSubjectPublicKeyValue(M){let P=new this;return P.pubKey=new Uint8Array(M.publicKey),P.algorithm=P.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(M.algorithm))),P}static privateFromKeyInfo(M){let P=new this,N=i.AsnParser.parse(M.keysData,o.PrivateKeyData);return P.algorithm=P.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(M.algIdent))),P.privKey=new Uint8Array(N.privateKey),P}static privateFromKeyDataPEM(M){const P=(0,e.base64ToUint8array)(M);let N=i.AsnParser.parse(P,o.PrivateKeyData),U=new this;return U.algorithm=U.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(N.algDescr))),U.privKey=new Uint8Array(N.privateKey),U}getAlgorithNameFromASN1(M){let P={};for(const N in this.algorithmASNList)this.algorithmASNList[N].forEach(U=>{P[U]=N});if(P.hasOwnProperty(M))return P[M];{let N="Unknown algorithm.";throw(0,e.logger)(c.DEBUGLEVEL.LOW,N),new Error(N)}}static privateFromPEM(M){const P=(0,e.base64ToUint8array)(M);let N=i.AsnParser.parse(P,o.PrivateKeyInfo);return T.privateFromKeyInfo(N)}static async generateKeyAsync(){const M=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]);let P=["0x"];const N=await crypto.subtle.exportKey("raw",M);return new Uint8Array(N).forEach(U=>{var $=U.toString(16);$.length%2&&($="0"+$),P.push($)}),this.privateFromBigInt(BigInt(P.join(""))%n.CURVE_SECP256k1.n)}static createKeys(){return this.privateFromBigInt(BigInt("0x"+(0,e.uint8tohex)(crypto.getRandomValues(new Uint8Array(32))))%n.CURVE_SECP256k1.n)}getPublicKeyAsHexStr(){if(this.pubKey)return(0,e.uint8tohex)(this.pubKey);if(n.CURVES.hasOwnProperty(this.algorithm)&&k.hasOwnProperty(this.algorithm)){let M=new d.ec(this.algorithm);if(!this.getPrivateAsHexString())throw(0,e.logger)(c.DEBUGLEVEL.LOW,this),new Error("Cant sign. This is only public key.");return M.keyFromPrivate(this.getPrivateAsHexString(),"hex").getPublic("hex").toString()}else{let M='Private -> Public key not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(c.DEBUGLEVEL.LOW,M),new Error(M)}}getAsnDerPublic(){var M=this.getPublicKeyAsHexStr();let P="";if(this.algorithm)if(this.algorithmASNList.hasOwnProperty(this.algorithm))P=this.algorithmASNList[this.algorithm][0];else{let N="Fatal Error. Algorithm not implemented yet - "+this.algorithm;throw(0,e.logger)(c.DEBUGLEVEL.LOW,N),new Error(N)}else{let N="algorithm undefined, lets use default.";(0,e.logger)(c.DEBUGLEVEL.VERBOSE,N),P=this.algorithmASNList[_][0]}return t.Asn1Der.encode("SEQUENCE_30",P+t.Asn1Der.encode("BIT_STRING",M))}getAddress(){var M=this.getPublicKeyAsHexStr();M=M.substr(2);let P=p.keccak256((0,e.hexStringToArray)(M));return"0x"+P.substr(-40).toUpperCase()}signBytes(M){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let P=l.keyFromPrivate(this.getPrivateAsHexString(),"hex"),N=p.keccak256(M);return P.sign(N).toDER("hex")}signStringWithEthereum(M){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let P=l.keyFromPrivate(this.getPrivateAsHexString(),"hex"),N=this.ethereumPrefix+M.length+M,U=p.keccak256((0,e.stringToArray)(N));return P.sign(U).toDER("hex")}signHexStringWithEthereum(M){return this.signStringWithEthereum("0x"+M)}signBytesWithEthereum(M){let P="0x"+(0,e.uint8tohex)(new Uint8Array(M));return(0,e.logger)(c.DEBUGLEVEL.HIGH,"message: "+P),this.signStringWithEthereum(P)}signDeterministicSHA256(M){let P=Array.from(s.ethers.utils.arrayify(s.ethers.utils.sha256(M)));return this.signBytes(P)}verifyDeterministicSHA256(M,P){let N=s.ethers.utils.sha256(M).substr(2),U,$;if(n.CURVES.hasOwnProperty(this.algorithm)&&k.hasOwnProperty(this.algorithm))U=new d.ec(this.algorithm).keyFromPublic(this.getPublicKeyAsHexStr(),"hex");else{let X='Elliptic.js curve not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(c.DEBUGLEVEL.LOW,X),new Error(X)}if(P.length==128||P.length==130){var G=P.match(/([a-f\d]{64})/gi);$={r:G[0],s:G[1]}}else{let X=i.AsnParser.parse((0,e.hexStringToUint8)(P),a.Signature);$={r:BigInt(X.r).toString(16).padStart(64,"0"),s:BigInt(X.s).toString(16).padStart(64,"0")}}return U.verify(N,$)}verifyHexStringWithEthereum(M,P){let N="0x"+M,U=p.keccak256((0,e.stringToArray)(this.ethereumPrefix+N.length+N)),$=l.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");var G=P.match(/([a-f\d]{64})/gi);let X={r:G[0],s:G[1]};return $.verify(U,X)}signRawBytesWithEthereum(M){let P=s.ethers.utils.keccak256(M).substring(2);if((0,e.logger)(c.DEBUGLEVEL.HIGH,`signRawBytesWithEthereum: key: ${this.getAddress()}, hash: ${P}`),!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let N=l.keyFromPrivate(this.getPrivateAsHexString(),"hex"),U=N.sign((0,e.hexStringToUint8)(P));return(0,e.ecSignatureToSRVhex)(U,N)}verifyBytesWithEthereum(M,P){if(!M||!M.length)throw new Error("Missing data to verify");if(!P)throw new Error("Missing signature to verify");let N=(0,e.hexStringToArray)(s.ethers.utils.keccak256(M)),U=l.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");(0,e.logger)(c.DEBUGLEVEL.HIGH,`verifyBytesWithEthereum: key: ${this.getAddress()}, hash: ${(0,e.uint8tohex)(new Uint8Array(N))}`),P=(0,e.uint8tohex)(T.anySignatureToRawUint8(P));var $=P.match(/([a-f\d]{64})/gi);let G={r:$[0],s:$[1]};return console.log(s.ethers.utils.recoverPublicKey(N,s.ethers.utils.splitSignature((0,e.hexStringToUint8)(P)))),U.verify(N,G)}getJWTParams(){let M=k[this.algorithm];if(!M){let N=`Cant create subtleCrypto key for curve '${this.algorithm}'`;throw(0,e.logger)(c.DEBUGLEVEL.LOW,N),new Error(N)}let P=this.getPublicKeyAsHexStr();return{crv:M,d:(0,e.uint8arrayToBase64)(this.getPrivateAsUint8()),key_ops:["sign"],kty:"EC",x:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(P.substr(2,64))),y:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(P.substr(66,64)))}}getSubtlePrivateKey(){let M=k[this.algorithm];return r.subtle.importKey("jwk",this.getJWTParams(),{name:"ECDSA",namedCurve:M},!0,["sign"])}getSubtlePublicKey(){let M=k[this.algorithm],P=this.getJWTParams();return delete P.d,P.key_ops=["verify"],r.subtle.importKey("jwk",P,{name:"ECDSA",namedCurve:M},!0,["verify"])}async signStringWithSubtle(M){return await r.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePrivateKey(),Uint8Array.from((0,e.stringToArray)(M)))}async verifyStringWithSubtle(M,P){return(0,e.logger)(c.DEBUGLEVEL.VERBOSE,"pubkey: "+this.getPublicKeyAsHexStr()+" msg:"+P+" signature:"+(0,e.uint8tohex)(M)),(0,e.logger)(c.DEBUGLEVEL.VERBOSE,await this.getSubtlePublicKey()),await r.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePublicKey(),M,Uint8Array.from((0,e.stringToArray)(P)))}async verifyStringWithSubtleDerSignature(M,P){let N=i.AsnParser.parse(M,a.Signature);const U=BigInt(N.r).toString(16).padStart(64,"0")+BigInt(N.s).toString(16).padStart(64,"0");return this.verifyStringWithSubtle((0,e.hexStringToUint8)(U),P)}static anySignatureToRawUint8(M){let P;if(typeof M=="string"?P=(0,e.hexStringToUint8)(M):P=M,!P||!P.length)throw new Error("Empty signature received");let N;switch(P.length){case 64:(0,e.logger)(c.DEBUGLEVEL.LOW,`anySignatureToRawUint8 received 64 bytes signature (without v value) = ${(0,e.uint8tohex)(P)}`);case 65:N=P;break;case 66:if(P[0]!=4)throw new Error(`Cant recognize signature: ${(0,e.uint8tohex)(P)}`);N=P.slice(1,65);break;case 70:case 71:case 72:let U=i.AsnParser.parse(P,a.Signature);N=(0,e.hexStringToUint8)(BigInt(U.r).toString(16).padStart(64,"0")+BigInt(U.s).toString(16).padStart(64,"0"));break;default:let $="wrong Signature: "+(0,e.uint8tohex)(P);throw new Error($)}return(0,e.logger)(c.DEBUGLEVEL.VERBOSE,"ready signature:"+(0,e.uint8tohex)(N)),N}static parseKeyArrayStrings(M){const P={};for(let N in M)if(typeof M[N]=="string"){const U=M[N].split("|"),$=[];for(const G of U)$.push(T.publicFromBase64orPEM(G));P[N]=$}else Array.isArray(P),P[N]=M[N];return P}}r.KeyPair=T})(Nn);var fd={};Object.defineProperty(fd,"__esModule",{value:!0});fd.AttestableObject=void 0;class hN{constructor(){}getDerEncoding(){return this.encoded}getCommitment(){return this.commitment}}fd.AttestableObject=hN;var qs={},fs=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(qs,"__esModule",{value:!0});var Gw=qs.SignedDevconTicket=qs.DevconTicket=void 0;const Kr=Dt;class ia{}fs([(0,Kr.AsnProp)({type:Kr.AsnPropTypes.Utf8String})],ia.prototype,"devconId",void 0);fs([(0,Kr.AsnProp)({type:Kr.AsnPropTypes.Integer,optional:!0})],ia.prototype,"ticketIdNumber",void 0);fs([(0,Kr.AsnProp)({type:Kr.AsnPropTypes.Utf8String,optional:!0})],ia.prototype,"ticketIdString",void 0);fs([(0,Kr.AsnProp)({type:Kr.AsnPropTypes.Integer})],ia.prototype,"ticketClass",void 0);fs([(0,Kr.AsnProp)({type:Kr.AsnPropTypes.OctetString,optional:!0})],ia.prototype,"commitment",void 0);qs.DevconTicket=ia;class cd{}fs([(0,Kr.AsnProp)({type:ia})],cd.prototype,"ticket",void 0);fs([(0,Kr.AsnProp)({type:Kr.AsnPropTypes.OctetString,optional:!0})],cd.prototype,"commitment",void 0);fs([(0,Kr.AsnProp)({type:Kr.AsnPropTypes.BitString})],cd.prototype,"signatureValue",void 0);Gw=qs.SignedDevconTicket=cd;Object.defineProperty(qc,"__esModule",{value:!0});qc.Ticket=void 0;const pN=bi(),gN=Nn,bn=In,mN=fd,wi=Ot(),bN=qs,vN=Dt,h1=Yu;class yN extends mN.AttestableObject{constructor(){super(),this.magicLinkURLPrefix="https://ticket.devcon.org/",this.isLegasy=!1}fromData(e,t,n,i){this.ticketId=t,this.ticketClass=n,this.devconId=e,this.keys=i;const o=i[e];this.setKeys(o)}setKeys(e){Array.isArray(e)?(this.issuerKeys=e,this.key=e[0]):(this.issuerKeys=[e],this.key=e)}createWithCommitment(e,t,n,i,o,s){if(this.fromData(e,t,n,s),this.commitment=i,this.signature=o,this.encoded=this.encodeSignedTicket(this.makeTicket()),!this.verify())throw new Error("Ticket Signature is invalid")}static createWithMail(e,t,n,i,o,s){let a=new this;a.fromData(t,n,i,o);let c=new pN.AttestationCrypto,d;try{a.commitment=c.makeCommitment(e,c.getType("mail"),s);let l=a.makeTicket();d=a.key.signRawBytesWithEthereum((0,wi.hexStringToArray)(l))}catch(l){throw new Error(l)}return a.createWithCommitment(t,n,i,a.commitment,d,o),a}makeTicket(){let e;try{const n=BigInt(this.ticketId);e=bn.Asn1Der.encode("INTEGER",n)}catch{e=bn.Asn1Der.encode("UTF8STRING",this.ticketId)}let t=bn.Asn1Der.encode("UTF8STRING",this.devconId)+e+bn.Asn1Der.encode("INTEGER",this.ticketClass);return this.isLegasy||(t+=bn.Asn1Der.encode("OCTET_STRING",(0,wi.uint8tohex)(this.commitment))),bn.Asn1Der.encode("SEQUENCE_30",t)}encodeSignedTicket(e){return this.isLegasy&&(e+=bn.Asn1Der.encode("OCTET_STRING",(0,wi.uint8tohex)(this.commitment))),e+=bn.Asn1Der.encode("BIT_STRING",this.signature),bn.Asn1Der.encode("SEQUENCE_30",e)}getDerEncodingWithPK(){let t=this.makeTicket()+bn.Asn1Der.encode("OCTET_STRING",(0,wi.uint8tohex)(this.commitment))+this.key.getAsnDerPublic()+bn.Asn1Der.encode("BIT_STRING",this.signature);return bn.Asn1Der.encode("SEQUENCE_30",t)}getDerEncoding(){return this.encoded}verify(){const e=(0,wi.hexStringToArray)(this.makeTicket()),t=(0,wi.hexStringToArray)(h1.ethers.utils.keccak256(e)),n=(0,wi.uint8tohex)(gN.KeyPair.anySignatureToRawUint8(this.signature));for(const i of this.issuerKeys)if(h1.ethers.utils.recoverPublicKey(t,h1.ethers.utils.splitSignature((0,wi.hexStringToUint8)(n))).substring(2)===i.getPublicKeyAsHexStr())return!0;throw new Error("Ticket signature is invalid")}checkValidity(){return!0}getTicketId(){return this.ticketId}getTicketClass(){return this.ticketClass}getDevconId(){return this.devconId}getSignature(){return this.signature}static fromBase64(e,t){let n=new this;return n.fromBytes((0,wi.base64ToUint8array)(e),t),n}fromBytes(e,t){const n=vN.AsnParser.parse(e,bN.SignedDevconTicket);let i=n.ticket.devconId;if(!t||!t[i])throw new Error("Issuer key "+i+" not defined.");const o=t[i];this.setKeys(o);let s=n.ticket.ticketIdNumber,a=s?s.toString():n.ticket.ticketIdString,c=n.ticket.ticketClass,d;n.ticket.commitment?d=n.ticket.commitment:(d=n.commitment,this.isLegasy=!0);let l=n.signatureValue;this.createWithCommitment(i,a,c,new Uint8Array(d),(0,wi.uint8tohex)(new Uint8Array(l)),t)}getCommitment(){return this.commitment}getKey(){return this.key}getUrlEncoding(){}}qc.Ticket=yN;var Pf={},Tf={},ld={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.Timestamp=void 0;const p1=Ot(),g1=zt;class yo{constructor(e=null){this.ALLOWED_ROUNDING=1e4,this.validity=0,e||(this.time=Date.now()),typeof e=="number"&&(this.time=e),typeof e=="string"&&(this.time=yo.stringTimestampToLong(e)),this.time=this.time-this.time%1e3}fromString(e){this.time=yo.stringTimestampToLong(e)}getValidity(){return this.validity}setValidity(e){this.validity=e}getTime(){return this.time}getTimeAsString(){let e=new Date(this.time).toString();return e.substr(0,e.indexOf("(")-1)}validateTimestamp(){let e=this.getCurrentTime();return!(this.time>e+this.ALLOWED_ROUNDING||this.time+this.ALLOWED_ROUNDING+this.validity<e)}validateAgainstExpiration(e){let t=this.getCurrentTime();return this.time>t+this.ALLOWED_ROUNDING?((0,p1.logger)(g1.DEBUGLEVEL.LOW,"Object still not valid. Details: not valid before = "+this.time+", currentTime = "+t),!1):e<t-this.ALLOWED_ROUNDING?((0,p1.logger)(g1.DEBUGLEVEL.LOW,"Object is not longer valid. Details: attNotAfter = "+e+", currentTime = "+t),!1):e-this.time>this.validity+this.ALLOWED_ROUNDING?((0,p1.logger)(g1.DEBUGLEVEL.LOW,e+`
`+this.time+`
`+this.validity+`
`+this.ALLOWED_ROUNDING+`
`+(e-this.time)+`
`+(this.validity+this.ALLOWED_ROUNDING)+`
`),!1):!0}static stringTimestampToLong(e){return Date.parse(e)}getCurrentTime(){return Date.now()}}cs.Timestamp=yo;yo.TIMESTAMP_FORMAT="EEE MMM d yyyy HH:mm:ss 'GMT'Z";yo.ALLOWED_ROUNDING=1e4;yo.UNLIMITED=253402297199e3;yo.DEFAULT_TOKEN_TIME_LIMIT=1e3*60*60*24*365;yo.DEFAULT_TIME_LIMIT_MS=1e3*60*20;Object.defineProperty(ld,"__esModule",{value:!0});ld.Attestation=void 0;const Ur=Ot(),xN=Dt,wN=Vt,AN=Nn,Ht=In,EN=cs,sn=zt;class qw{constructor(){this.version=18,this.blockchainFriendly=!0}parseNames(e){let t={};Object.keys(Ht.X500NamesLabels).forEach(i=>{t[Ht.X500NamesLabels[i].toLowerCase()]=i});let n=[];return e.forEach(i=>{let o=t[i.type.toString().toLowerCase()];if(!o)throw new Error(`X500 with name ${i.type.toString()} not implemented yet.`);n.push(`${o}="${i.value}"`)}),n.join(",")}fromBytes(e){const t=this;let n=xN.AsnParser.parse(e,wN.SignedInfo);if(t.signedInfo=e,t.version=n.version.version,t.serialNumber=n.serialNumber,t.signingAlgorithm=n.signature.algorithm.toString(),n.validity){if(t.notValidBefore=n.validity.notBefore.generalizedTime.getTime(),t.notValidAfter=n.validity.notAfter.generalizedTime.getTime(),n.validity.notAfterInt&&Number(n.validity.notAfterInt)!=Math.floor(t.notValidAfter/1e3)||n.validity.notBeforeInt&&Number(n.validity.notBeforeInt)!=Math.floor(t.notValidBefore/1e3))throw new Error("Date doesnt fit");typeof n.validity.notBeforeInt>"u"||typeof n.validity.notAfterInt>"u"?this.blockchainFriendly=!1:this.blockchainFriendly=!0}let i=n.subject.rdnSequence;t.subject="",i&&i[0]&&i[0].length&&(t.subject=this.parseNames(i[0])),t.subjectKey=AN.KeyPair.publicFromSubjectPublicKeyInfo(n.subjectPublicKeyInfo);let o=n.issuer.rdnSequence;if(t.issuer="",o.length&&(t.issuer=this.parseNames(o[0])),n.contract&&(t.smartcontracts=n.contract),n.attestsTo&&n.attestsTo.extensions)t.extensions=n.attestsTo.extensions,t.commitment=new Uint8Array(t.extensions.extension.extnValue);else if(n.attestsTo&&n.attestsTo.dataObject)throw new Error("Implement parse dataObject")}isValidX509(){return this.version!=0&&this.version!=1&&this.version!=2?((0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Incorrect version number"),!1):this.issuer?this.notValidBefore==null||this.notValidAfter==null?((0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Validity period not set"),!1):this.subject==null?((0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Subject info not set"),!1):this.subjectKey?this.smartcontracts!=null?((0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Smart contract info set"),!1):this.dataObject!=null?((0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Data object set"),!1):this.version==null||this.serialNumber==null||this.signingAlgorithm==null?((0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Version, serial number, subject or algorithm missing"),!1):!0:((0,Ur.logger)(sn.DEBUGLEVEL.LOW,"No subject public key info set"),!1):((0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Issuer info not set"),!1)}getDerEncoding(){if(this.signedInfo||(this.signedInfo=this.getPrehash()),!this.signedInfo)throw new Error("Empty Attestaion Der Encoding");return(0,Ur.uint8tohex)(new Uint8Array(this.signedInfo))}getCommitment(){return this.commitment}getNotValidBefore(){return this.notValidBefore}setNotValidBefore(e){this.notValidBefore=e}getNotValidAfter(){return this.notValidAfter}setNotValidAfter(e){this.notValidAfter=e}getSubjectPublicKeyInfo(){return this.subjectKey}checkValidity(){if(this.version==null)return(0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Attest version missed"),!1;if(this.serialNumber==null)return(0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Attest serial number missed"),!1;if(this.subject==null)return(0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Attest subject missed"),!1;if(this.signingAlgorithm==null)return(0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Attest signing algorithm missed"),!1;let e=this.getNotValidBefore(),t=this.getNotValidAfter(),n=new EN.Timestamp(e);return n.setValidity(t-e),n.validateAgainstExpiration(t)?this.extensions!=null&&this.dataObject!=null?((0,Ur.logger)(sn.DEBUGLEVEL.LOW,"Both Extensions and dataObject not allowed"),!1):!0:!1}getExtensions(){return this.extensions}setVersion(e){this.version=e}getVersion(){return this.version}setSubject(e){this.subject=e}getSubject(){return this.subject}setSigningAlgorithm(e){this.signingAlgorithm=e}getPrehash(){if(!this.checkValidity())return null;let e=Ht.Asn1Der.encode("TAG",Ht.Asn1Der.encode("INTEGER",this.version),0)+Ht.Asn1Der.encode("INTEGER",this.serialNumber)+Ht.Asn1Der.encodeObjectId(this.signingAlgorithm);if(e+=this.issuer?Ht.Asn1Der.encodeName(this.issuer):Ht.Asn1Der.encode("NULL_VALUE",""),this.notValidAfter!=null&&this.notValidBefore!=null){let t=Ht.Asn1Der.encode("GENERALIZED_TIME",this.notValidBefore)+(this.blockchainFriendly?Ht.Asn1Der.encode("INTEGER",Math.floor(this.notValidBefore/1e3)):"")+Ht.Asn1Der.encode("GENERALIZED_TIME",this.notValidAfter)+(this.blockchainFriendly?Ht.Asn1Der.encode("INTEGER",Math.floor(this.notValidAfter/1e3)):"");e+=Ht.Asn1Der.encode("SEQUENCE_30",t)}else e+=Ht.Asn1Der.encode("NULL_VALUE","");return e+=this.subject?Ht.Asn1Der.encodeName(this.subject):Ht.Asn1Der.encode("NULL_VALUE",""),e+=this.subjectKey?this.subjectKey.getAsnDerPublic():Ht.Asn1Der.encode("NULL_VALUE",""),this.smartcontracts!=null&&(e+=this.smartcontracts),this.extensions!=null&&(e+=Ht.Asn1Der.encode("TAG",Ht.Asn1Der.encode("SEQUENCE_30",Ht.Asn1Der.encode("SEQUENCE_30",this.extensions)),3)),this.dataObject!=null&&(e+=Ht.Asn1Der.encode("TAG",Ht.Asn1Der.encode("SEQUENCE_30",Ht.Asn1Der.encode("SEQUENCE_30",this.dataObject)),4)),(0,Ur.hexStringToUint8)(Ht.Asn1Der.encode("SEQUENCE_30",e))}getSigningAlgorithm(){return this.signingAlgorithm}}ld.Attestation=qw;qw.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.IdentifierAttestation=void 0;const ay=bi(),SN=ld,$f=Ot(),Kf=zt,kN=In;class kt extends SN.Attestation{constructor(){super()}fromCommitment(e,t){this.subjectKey=t,this.setVersion(kt.HIDDEN_IDENTIFIER_VERSION),this.setSubject("CN="),this.setSigningAlgorithm(kt.DEFAULT_SIGNING_ALGORITHM),this.setSubjectPublicKeyInfo(t),this.setCommitment(e),this.type=kt.HIDDEN_TYPE,this.identifier=kt.HIDDEN_IDENTIFIER,this.setUnlimitedValidity()}setUnlimitedValidity(){super.setNotValidBefore(Date.now()),super.setNotValidAfter(Date.parse("31 Dec 9999 23:59:59"))}static fromData(e,t,n,i){let s=new ay.AttestationCrypto().makeCommitment(e,t,i),a=new this;return a.fromCommitment(s,n),a.type=t.toString(),a.identifier=e,a}static fromLabelAndUrl(e,t,n){let i=new this;return i.subjectKey=n,i.setVersion(kt.NFT_VERSION),i.setSubject(i.makeLabeledURI(e,t)),i.setSigningAlgorithm(kt.DEFAULT_SIGNING_ALGORITHM),i.setIssuer("CN=attestation.id"),i.setSerialNumber(1),i.setSubjectPublicKeyInfo(n),i.setUnlimitedValidity(),i.type=e,i.identifier=t,i}makeLabeledURI(e,t){return`${kt.LABELED_URI_LABEL}="${t} ${e}"`}static fromBytes(e){let t=new this;if(t.fromBytes(e),!t.checkValidity())throw new Error("Could not validate object");if(t.getVersion()==kt.NFT_VERSION){let n=kN.Asn1Der.parseX500Names(t.getSubject()),i=!1;if(n.forEach(o=>{if(!i&&o.type==kt.LABELED_URI_LABEL){i=!0;let s=o.value.split(" ");if(s.length!=2)throw new Error("LabeledURI values should be separated with space and 2 items only: "+o.value);t.type=s[0],t.identifier=s[1]}}),!i)throw new Error("Cant find LABELED_URI")}else t.type=kt.HIDDEN_TYPE,t.identifier=kt.HIDDEN_IDENTIFIER;return t}setSubjectPublicKeyInfo(e){this.subjectKey=e}setCommitment(e){this.commitment=e}checkValidity(){return super.checkValidity()?this.getVersion()!=kt.HIDDEN_IDENTIFIER_VERSION&&this.getVersion()!=kt.NFT_VERSION?((0,$f.logger)(Kf.DEBUGLEVEL.LOW,"The version number is "+this.getVersion()+", it must be either "+kt.HIDDEN_IDENTIFIER_VERSION+" or "+kt.NFT_VERSION),!1):this.getSigningAlgorithm()!==kt.DEFAULT_SIGNING_ALGORITHM?((0,$f.logger)(Kf.DEBUGLEVEL.LOW,"The subject is supposed to only be an Ethereum address as the Common Name"),!1):this.getVersion()==kt.NFT_VERSION&&!this.subject.includes(kt.LABELED_URI_LABEL+"=")?((0,$f.logger)(Kf.DEBUGLEVEL.LOW,"A NFT Identifier attestation must have a labeled uri as subject. subject = "+this.getSubject()),!1):this.getVersion()==kt.HIDDEN_IDENTIFIER_VERSION&&this.getCommitment().length<ay.AttestationCrypto.BYTES_IN_DIGEST?((0,$f.logger)(Kf.DEBUGLEVEL.LOW,"The attestation does not contain a valid commitment"),!1):!0:((0,$f.logger)(Kf.DEBUGLEVEL.LOW,"IdentifierAttestation super.checkValidity() filed;"),!1)}setIssuer(e){this.issuer=e}getSerialNumber(){return this.serialNumber}setSerialNumber(e){this.serialNumber=e}getAddress(){return this.subjectKey.getAddress()}}Tf.IdentifierAttestation=kt;kt.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";kt.DEFAULT_SIGNING_ALGORITHM="1.2.840.10045.4.2";kt.HIDDEN_IDENTIFIER_VERSION=18;kt.NFT_VERSION=19;kt.HIDDEN_TYPE="HiddenType";kt.HIDDEN_IDENTIFIER="HiddenIdentifier";kt.LABELED_URI="1.3.6.1.4.1.250.1.57";kt.LABELED_URI_LABEL="labeledURI";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.SignedIdentifierAttestation=void 0;const _N=Dt,MN=Vt,PN=Nn,ha=Ot(),Dl=In,TN=Tf,CN=zt;class $w{constructor(){}static fromBytes(e,t){const n=_N.AsnParser.parse(e,MN.MyAttestation);return this.fromASNType(n,t,e)}static fromASNType(e,t,n=new Uint8Array(0)){let i=new this;i.uint8data=n,i.attestorKeys=t;let o=e.signatureAlgorithm.algorithm;if(i.att=TN.IdentifierAttestation.fromBytes(e.signedInfo),i.signature=(0,ha.uint8tohex)(new Uint8Array(e.signatureValue)),o!==i.att.getSigningAlgorithm())throw new Error("Algorithm specified is not consistent");return i.constructorCheck(),i}static fromData(e,t){let n=new this;return n.attestorKeys=t,n.att=e,n.signature=n.attestorKeys.signRawBytesWithEthereum(Array.from(n.att.getPrehash())),n.constructorCheck(),n}verify(){try{return this.attestorKeys.verifyBytesWithEthereum((0,ha.hexStringToArray)(this.att.getDerEncoding()),this.signature)}catch(e){return(0,ha.logger)(CN.DEBUGLEVEL.LOW,e),!1}}checkValidity(){return this.getUnsignedAttestation().checkValidity()}getUnsignedAttestation(){return this.att}getDerEncoding(){return this.uint8data&&this.uint8data.length?(0,ha.uint8tohex)(new Uint8Array(this.uint8data)):this.constructSignedAttestation(this.getUnsignedAttestation(),this.signature)}constructSignedAttestation(e,t){let n=e.getPrehash(),i=Dl.Asn1Der.encode("OBJECT_ID",e.getSigningAlgorithm()),o=(0,ha.uint8tohex)(n)+Dl.Asn1Der.encode("SEQUENCE_30",i)+Dl.Asn1Der.encode("BIT_STRING",(0,ha.uint8tohex)(PN.KeyPair.anySignatureToRawUint8(t)));return Dl.Asn1Der.encode("SEQUENCE_30",o)}constructorCheck(){if(!this.verify())throw new Error("The signature is not valid")}}Pf.SignedIdentifierAttestation=$w;$w.ECDSA_WITH_SHA256="1.2.840.10045.4.3.2";var tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.AttestedObject=void 0;const fy=bi(),BN=Pf,Fr=Ot(),IN=In,NN=Dt,ON=Cw(),RN=Tf,vn=zt;class rl{constructor(){}create(e,t,n,i){this.attestableObject=e,this.att=t,this.attestationSecret=n,this.objectSecret=i,this.crypto=new fy.AttestationCrypto,this.pok=this.makeProof(n,i,this.crypto),this.derEncodedProof=this.pok.getDerEncoding(),this.fillPresignData()}setWebDomain(e){this.webDomain=e}fillPresignData(){this.preSignEncoded=this.attestableObject.getDerEncoding()+this.att.getDerEncoding()+this.pok.getDerEncoding(),this.encoding=IN.Asn1Der.encode("SEQUENCE_30",this.preSignEncoded)}fromDecodedData(e,t,n){this.attestableObject=e,this.att=t,this.pok=n,this.fillPresignData(),this.userKeyPair=this.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),this.constructorCheck()}verify(){return this.attestableObject.verify()?this.att.verify()?this.crypto.verifyEqualityProof(this.att.getUnsignedAttestation().getCommitment(),this.attestableObject.getCommitment(),this.pok)?!0:((0,Fr.logger)(vn.DEBUGLEVEL.LOW,"Could not verify the consistency between the commitment in the attestation and the attested object"),!1):((0,Fr.logger)(vn.DEBUGLEVEL.LOW,"Could not verify attestation"),!1):((0,Fr.logger)(vn.DEBUGLEVEL.LOW,"Could not verify attestable object"),!1)}static fromBytes(e,t,n,i,o){let s=NN.AsnParser.parse(e,t),a=new this;a.attestableObject=new i,a.attestableObject.fromBytes(s.signedToken,o),a.att=BN.SignedIdentifierAttestation.fromBytes(new Uint8Array(s.attestation),n);let c=new ON.UsageProofOfExponent;return c.fromBytes(new Uint8Array(s.proof)),a.pok=c,a.userKeyPair=a.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),a.crypto=new fy.AttestationCrypto,a.constructorCheck(),a}makeProof(e,t,n){let i=this.att.getUnsignedAttestation().getCommitment(),o=this.attestableObject.getCommitment(),s=n.computeEqualityProof((0,Fr.uint8tohex)(i),(0,Fr.uint8tohex)(o),e,t);if(!n.verifyEqualityProof(i,o,s))throw new Error("The redeem proof did not verify");return s}getAttestableObject(){return this.attestableObject}getAtt(){return this.att}getDerEncodeProof(){return this.derEncodedProof}getDerEncoding(){return this.encoding}constructorCheck(){if(!this.verify())throw new Error("The redeem request is not valid")}checkValidity(e=null){try{let t=this.att.getUnsignedAttestation().getDerEncoding();if(!RN.IdentifierAttestation.fromBytes(new Uint8Array((0,Fr.hexStringToArray)(t))).checkValidity())return(0,Fr.logger)(vn.DEBUGLEVEL.LOW,"The attestation is not a valid standard attestation"),!1}catch{return(0,Fr.logger)(vn.DEBUGLEVEL.LOW,"The attestation is invalid"),!1}try{if(!this.getAttestableObject().checkValidity())return(0,Fr.logger)(vn.DEBUGLEVEL.LOW,"Cheque is not valid"),!1}catch{return(0,Fr.logger)(vn.DEBUGLEVEL.LOW,"Cheque validation failed"),!1}if(e===null)return!0;try{let t=this.getAtt().getUnsignedAttestation().getAddress();if((0,Fr.logger)(vn.DEBUGLEVEL.HIGH,"attestationEthereumAddress: "+t),(0,Fr.logger)(vn.DEBUGLEVEL.HIGH,"providedEthereumAddress: "+e),t.toLowerCase()!==e.toLowerCase())return(0,Fr.logger)(vn.DEBUGLEVEL.LOW,"The attestation is not to the same Ethereum user who is sending this request"),!1}catch(t){return(0,Fr.logger)(vn.DEBUGLEVEL.LOW,"Address validation failed"),(0,Fr.logger)(vn.DEBUGLEVEL.MEDIUM,t),!1}return!0}}tl.AttestedObject=rl;rl.Eip712UserData={payload:"",description:"",timestamp:0};rl.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"uint256"}];rl.Eip712UserDataPrimaryName="Authentication";rl.Eip712UserDataDescription="Single-use authentication";var nl={},ud={},Kw=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(ud,"__esModule",{value:!0});ud.Identifier=void 0;const vp=Dt,DN=ji;class hm{}Kw([(0,vp.AsnProp)({type:vp.AsnPropTypes.Integer})],hm.prototype,"type",void 0);Kw([(0,vp.AsnProp)({type:DN.Proof})],hm.prototype,"proof",void 0);ud.Identifier=hm;Object.defineProperty(nl,"__esModule",{value:!0});nl.AttestationRequest=void 0;const Ll=ss(),cy=In,zf=Ot(),LN=bi(),UN=$u(),ly=Dt,uy=ud,dy=zt;class FN{constructor(){}static fromData(e,t){let n=new this;if(n.type=e,n.pok=t,!n.verify())throw new Error("The proof is not valid");return n}getDerEncoding(){let e=cy.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding();return cy.Asn1Der.encode("SEQUENCE_30",e)}static fromBytes(e){let t=new this,n;try{n=ly.AsnParser.parse(e,uy.Identifier),t.type=n.type}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let i=new Uint8Array(n.proof.riddle),o=new Uint8Array(n.proof.challengePoint),s=new Uint8Array(n.proof.responseValue),a=new Uint8Array(n.proof.nonce),c=Ll.Point.decodeFromHex((0,zf.uint8tohex)(i),Ll.CURVE_BN256),d=(0,zf.uint8ToBn)(o),l=Ll.Point.decodeFromHex((0,zf.uint8tohex)(s),Ll.CURVE_BN256);t.pok=UN.FullProofOfExponent.fromData(c,l,d,a)}catch{throw new Error("Cant create FullProofOfExponent")}if(!t.verify())throw new Error("Could not verify the proof");return(0,zf.logger)(dy.DEBUGLEVEL.HIGH,"proof OK"),t}verify(){return new LN.AttestationCrypto().verifyFullProof(this.pok)?((0,zf.logger)(dy.DEBUGLEVEL.HIGH,"VerifyAttestationRequestProof OK"),!0):!1}getPok(){return this.pok}getType(){return this.type}getAsn(){const e=this.getPok().getAsnType(),t=new uy.Identifier;return t.type=this.getType(),t.proof=e,t}getAsnEncoded(){return ly.AsnSerializer.serialize(this.getAsn())}}nl.AttestationRequest=FN;var oa={},Bo={},zw={};const HN=jt(RS),VN=jt(AE),jN=jt(Dx),GN=jt(j_),qN=jt(tE),$N=jt(IS),KN=jt(eM),zN=jt(uM),WN=jt(bE),QN=jt(Z9),hy=jt($_),JN=jt(lP),YN=jt(nM),XN=jt(lE),ZN=jt(gx),eO=jt(__),py=jt(YE),tO=jt(O_),rO=jt(dP),nO=jt(gM),iO=jt(EM);(function(r){var e=Ze&&Ze.__createBinding||(Object.create?function(I,E,m,f){f===void 0&&(f=m),Object.defineProperty(I,f,{enumerable:!0,get:function(){return E[m]}})}:function(I,E,m,f){f===void 0&&(f=m),I[f]=E[m]}),t=Ze&&Ze.__setModuleDefault||(Object.create?function(I,E){Object.defineProperty(I,"default",{enumerable:!0,value:E})}:function(I,E){I.default=E}),n=Ze&&Ze.__importStar||function(I){if(I&&I.__esModule)return I;var E={};if(I!=null)for(var m in I)m!=="default"&&Object.prototype.hasOwnProperty.call(I,m)&&e(E,I,m);return t(E,I),E};Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0;var i=HN;Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var o=VN;Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return o.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return o.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return o.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return o.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return o.isAddress}});var s=n(jN);r.base64=s;var a=GN;Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=qN;Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var d=$N;Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return d._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return d.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return d.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return d.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return d.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return d.namehash}});var l=KN;Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return l.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return l.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return l.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return l.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return l.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return l.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}});var p=zN;Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return p.getJsonWalletAddress}});var k=WN;Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return k.keccak256}});var _=QN;Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return _.Logger}});var T=hy;Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return T.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return T.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return T.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return T.sha512}});var C=JN;Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return C.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return C.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return C.sha256}});var M=YN;Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return M.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return M.shuffled}});var P=XN;Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return P.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return P.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return P.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return P.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return P.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return P.shallowCopy}});var N=n(ZN);r.RLP=N;var U=eO;Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return U.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return U.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return U.SigningKey}});var $=py;Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return $.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return $.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return $.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return $._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return $.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return $.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return $.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return $.Utf8ErrorFuncs}});var G=tO;Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return G.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return G.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return G.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return G.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return G.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return G.TransactionTypes}});var X=rO;Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return X.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return X.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return X.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return X.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return X.parseUnits}});var ye=nO;Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return ye.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return ye.verifyTypedData}});var ce=iO;Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return ce._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return ce.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return ce.poll}});var me=hy;Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return me.SupportedAlgorithm}});var Be=py;Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return Be.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return Be.Utf8ErrorReason}})})(zw);Object.defineProperty(Bo,"__esModule",{value:!0});Bo.SignatureUtility=void 0;const Wf=Ot(),ms=Yu,gy=zw,oO=zt;let sO=am,my=new sO.ec("secp256k1"),m1=gf.exports;class Oi{static sign(e,t){let n=my.keyFromPrivate(t.getPrivateAsHexString(),"hex"),i=m1.keccak256((0,Wf.hexStringToArray)(e));return n.sign(i).toDER("hex")}static verify(e,t,n){return Oi.verifyArrayBuf((0,Wf.hexStringToArray)(e),t,n)}static verifyArrayBuf(e,t,n){let i=my.keyFromPublic(n.getPublicKeyAsHexStr(),"hex"),o=m1.keccak256(e);return i.verify(o,t)}static async signMessageWithBrowserWallet(e){return await Oi.connectMetamaskAndGetAddress(),await new ms.ethers.providers.Web3Provider(window.ethereum).getSigner().signMessage(e)}static async recoverPublicKeyFromMessageSignature(e,t){const n=ms.ethers.utils.hashMessage(e),i=ms.ethers.utils.arrayify(n);return await ms.ethers.utils.recoverPublicKey(i,t)}static recoverPublicKeyFromTypedMessageSignature(e,t){let n,i;try{let o=e.message.payload;e.message.payload=ms.ethers.utils.id(o).substr(2);let s=e.types;delete s.EIP712Domain,n=gy._TypedDataEncoder.hash(e.domain,s,e.message),e.message.payload=o}catch(o){const s="Cant sign data, possibly wrong format. "+o;throw new Error(s)}try{i=(0,gy.recoverPublicKey)((0,Wf.hexStringToUint8)(n.substr(2)),t)}catch(o){const s="Cant recoverPublicKey. "+o;throw new Error(s)}return i}static async signEIP712WithBrowserWallet(e,t,n,i,o=null){try{let s,a;if(o?a=new ms.ethers.Wallet("0x"+o.getPrivateAsHexString()):a=new ms.ethers.providers.Web3Provider(window.ethereum).getSigner(),!a)throw new Error("Active Wallet required");let c=Oi.Eip712Data;const d={name:e,version:c.PROTOCOL_VERSION},l={};l[i]=n;let p=Object.assign({},t);p.payload=m1.keccak256(p.payload);let k=await a._signTypedData(d,l,p),_={types:{EIP712Domain:Oi.Eip712domainTypes},primaryType:i,message:t,domain:d};_.types[i]=l[i];let T=JSON.stringify(_),C={signatureInHex:k,jsonSigned:T};return JSON.stringify(C)}catch(s){return(0,Wf.logger)(oO.DEBUGLEVEL.LOW,"Cant sign eip712 data. Error: "+s),""}}static async connectMetamaskAndGetAddress(){if(!window.ethereum)throw new Error("Please install metamask before.");const e=await window.ethereum.request({method:"eth_requestAccounts"});if(!e||!e.length)throw new Error("Active Wallet required");return e[0]}static getChainIdFromSignature(e){let t=Number("0x"+e.substr(-2));return t==27||t==28?0:t-35>>1}static convertToPersonalEthMessage(e){return(0,Wf.stringToArray)(this.ethereumPrefix+e.length+e)}}Bo.SignatureUtility=Oi;Oi.ethereumPrefix=`Ethereum Signed Message:
`;Oi.OID_ECDSA_PUBLICKEY="1.2.840.10045.2.1";Oi.Eip712Data={PROTOCOL_VERSION:"0.1"};Oi.Eip712domainTypes=[{name:"name",type:"string"},{name:"version",type:"string"}];var dd={};Object.defineProperty(dd,"__esModule",{value:!0});dd.ValidationTools=void 0;const aO=Ot(),fO=zt;class Ww{static validateTimestamp(e,t,n){return!(e>t+n||e<t-n)}static isAddress(e){return e.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null?((0,aO.logger)(fO.DEBUGLEVEL.LOW,"Wrong Ethereum Address"),!1):!0}static isNullOrAddress(e){return e==null?!0:this.isAddress(e)}}dd.ValidationTools=Ww;Ww.ADDRESS_LENGTH_IN_BYTES=42;Object.defineProperty(oa,"__esModule",{value:!0});oa.Nonce=void 0;const _r=Ot(),cO=Bo,Qw=dd,lO=cs,Qf=zt;class Lt{constructor(){this.DEFAULT_NONCE_TIME_LIMIT_MS=1e3*60*20}static async makeNonce(e="",t,n=new Uint8Array(0),i=0){if(e||(e=await cO.SignatureUtility.connectMetamaskAndGetAddress()),!Qw.ValidationTools.isAddress(e))throw new Error("Address is not valid");return e=e.toUpperCase(),i||(i=Date.now()),(0,_r.uint8merge)([Uint8Array.from((0,_r.stringToArray)(e)),(0,_r.hashStringTo32bytesUint8)(t),(0,_r.getInt64Bytes)(i),n])}validateNonce(e,t,n,i,o,s=new Uint8Array(0)){return Lt.validateAddress(e,t)?this.validateReceiverIdentifier(e,n)?this.validateTimestamp(e,i,o)?this.validateOtherData(e,s)?this.validateOtherData(e,s):((0,_r.logger)(Qf.DEBUGLEVEL.LOW,"otherData check failed"),!1):((0,_r.logger)(Qf.DEBUGLEVEL.LOW,"timestamp check failed"),!1):((0,_r.logger)(Qf.DEBUGLEVEL.LOW,"validateReceiverIdentifier check failed"),!1):((0,_r.logger)(Qf.DEBUGLEVEL.LOW,"validateAddress check failed for "+t),!1)}validateTimestamp(e,t,n){let i=Lt.getTimestamp(e),o=new lO.Timestamp(i);return o.setValidity(n-t),o.validateAgainstExpiration(n)}static validateAddress(e,t){let n=(0,_r.uint8toString)(e.slice(Lt.senderAddressIndexStart,Lt.senderAddressIndexStop));return t.toUpperCase()===n.toUpperCase()?!0:((0,_r.logger)(Qf.DEBUGLEVEL.LOW,"nonceAddress = "+n),!1)}validateReceiverIdentifier(e,t){return(0,_r.uint8tohex)((0,_r.hashStringTo32bytesUint8)(t)).toLowerCase()===(0,_r.uint8tohex)(e.slice(Lt.receiverIdentifierIndexStart,Lt.receiverIdentifierIndexStop)).toLowerCase()}validateOtherData(e,t){return(0,_r.uint8tohex)(t).toLowerCase()===(0,_r.uint8tohex)(e.slice(Lt.otherDataIndexStart,Lt.otherDataIndexStart+t.length)).toLowerCase()}static getTimestamp(e){let t=e.slice(Lt.timestampIndexStart,Lt.timestampIndexStop),n=(0,_r.uint8ToBn)(t);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("timestamp value bigger than MAX_SAFE_INTEGER");return Number(n)}}oa.Nonce=Lt;Lt.LONG_BYTES=8;Lt.senderAddressIndexStart=0;Lt.senderAddressIndexStop=Qw.ValidationTools.ADDRESS_LENGTH_IN_BYTES;Lt.receiverIdentifierIndexStart=Lt.senderAddressIndexStop;Lt.receiverIdentifierIndexStop=Lt.receiverIdentifierIndexStart+256/8;Lt.timestampIndexStart=Lt.receiverIdentifierIndexStop;Lt.timestampIndexStop=Lt.timestampIndexStart+Lt.LONG_BYTES;Lt.otherDataIndexStart=Lt.timestampIndexStop;var il={},Cf={},hd={},ol={},pm=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(ol,"__esModule",{value:!0});ol.UseToken=void 0;const af=Dt;class pd{}pm([(0,af.AsnProp)({type:af.AsnPropTypes.Any})],pd.prototype,"signedToken",void 0);pm([(0,af.AsnProp)({type:af.AsnPropTypes.Any})],pd.prototype,"attestation",void 0);pm([(0,af.AsnProp)({type:af.AsnPropTypes.Any})],pd.prototype,"proof",void 0);ol.UseToken=pd;var gd={};Object.defineProperty(gd,"__esModule",{value:!0});gd.XMLconfigData=void 0;const uO=qs,by=Nn;gd.XMLconfigData={attestationOrigin:"http://stage.attestation.id",tokensOrigin:"https://devcontickets.herokuapp.com/outlet/",tokenUrlName:"ticket",tokenSecretName:"secret",unsignedTokenDataName:"ticket",tokenParser:uO.SignedDevconTicket,localStorageItemName:"dcTokens",base64senderPublicKeys:{6:by.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA////////////////
/////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5m
fvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0
SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFB
AgEBA0IABJUMfAvtI8PKxcwxu7mq2btVMjh4gmcKwrHN8HmasOvHZMJn9wTo/doH
lquDl6TSEBAk0kxO//aVs6QX8u0OSM0=
-----END PUBLIC KEY-----`),26:by.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEQKYTwFMIzSq1QVxoRKoOZXLQ9mUhce8M
dIzvJx3unbpR3m3TiuWKZKTP4/XCPnS56d1tAhjM43hHjHbZ0k3RKQ==
-----END PUBLIC KEY-----`)},base64attestorPubKey:"MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA/////////////////////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5mfvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFBAgEBA0IABL+y43T1OJFScEep69/yTqpqnV/jzONz9Sp4TEHyAJ7IPN9+GHweCX1hT4OFxt152sBN3jJc1s0Ymzd8pNGZNoQ=",webDomain:"devcon.org"};Object.defineProperty(hd,"__esModule",{value:!0});hd.Eip712Validator=void 0;const dO=tl,hO=ol,b1=gd,vy=Nn,pO=qc,yy=Bo,Ai=Ot(),Yi=zt;class U0{constructor(){this.XMLConfig=b1.XMLconfigData}static stringIsAValidUrl(e){let t;try{t=new URL(e)}catch(n){return(0,Ai.logger)(Yi.DEBUGLEVEL.LOW,"cant construct url. Error:",n),!1}return t.protocol==="http:"||t.protocol==="https:"}setDomainAndTimout(e){if(!U0.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}setDomain(e){if(!U0.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}getDomain(){return this.domain}setSalt(e){this.salt=e}getSalt(){return this.salt}setPrimaryName(e){this.primaryName=e}getPrimaryName(){return this.primaryName}setChainId(e){if(e<1)throw new Error("ChainId should be a positive number");this.chainId=e}getChainId(){return this.chainId}validateDomain(e){return e?!e.name||e.name.toLowerCase()!==this.domain.toLowerCase()?((0,Ai.logger)(Yi.DEBUGLEVEL.LOW,"Domain name is not valid"),!1):!e.version||e.version!==yy.SignatureUtility.Eip712Data.PROTOCOL_VERSION?((0,Ai.logger)(Yi.DEBUGLEVEL.LOW,"Protocol version is wrong"),!1):this.chainId&&e.chainId!==this.chainId?((0,Ai.logger)(Yi.DEBUGLEVEL.LOW,"Chain ID is wrong"),!1):this.verifyingContract&&e.verifyingContract!==this.verifyingContract?((0,Ai.logger)(Yi.DEBUGLEVEL.LOW,"Verifying contract is wrong"),!1):this.salt&&e.salt!==this.salt?((0,Ai.logger)(Yi.DEBUGLEVEL.LOW,"Salt is wrong"),!1):!0:((0,Ai.logger)(Yi.DEBUGLEVEL.LOW,"Input param domainToCheck required"),!1)}retrieveAttestedObject(e){let t=e.payload,n=vy.KeyPair.publicFromBase64orPEM(b1.XMLconfigData.base64attestorPubKey),i=b1.XMLconfigData.base64senderPublicKeys;return dO.AttestedObject.fromBytes((0,Ai.hexStringToUint8)(t),hO.UseToken,n,pO.Ticket,i)}verifySignature(e,t){let n=JSON.parse(e),i=n.signatureInHex,o=JSON.parse(n.jsonSigned),s=yy.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,i),a=vy.KeyPair.fromPublicHex(s.substr(2));return t.toLowerCase()!==o.message.address.toLowerCase()?((0,Ai.logger)(Yi.DEBUGLEVEL.LOW,"message.address is not equal pkAddress"),!1):t.toLowerCase()!==a.getAddress().toLowerCase()?((0,Ai.logger)(Yi.DEBUGLEVEL.LOW,"Recovered address is not equal pkAddress"),!1):!0}}hd.Eip712Validator=U0;Object.defineProperty(Cf,"__esModule",{value:!0});Cf.Eip712Token=void 0;const gO=hd;class mO extends gO.Eip712Validator{}Cf.Eip712Token=mO;Object.defineProperty(il,"__esModule",{value:!0});il.Eip712AttestationRequest=void 0;const bO=nl,vO=Nn,v1=Bo,Jn=Ot(),xy=oa,yO=Cf,pa=cs,Xi=zt;class xO extends yO.Eip712Token{constructor(e=null,t=pa.Timestamp.DEFAULT_TIME_LIMIT_MS){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"string"},{name:"identifier",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequest",this.Eip712UserDataDescription="Linking Ethereum address to phone or email",this.userKey=e,this.acceptableTimeLimit=t,this.usageValue=this.Eip712UserDataDescription}setUsageValue(e){this.usageValue=e}async addData(e,t=pa.Timestamp.DEFAULT_TIME_LIMIT_MS,n,i){this.setDomain(e),this.attestationRequest=i,this.acceptableTimeLimit=t,this.jsonEncoding=await this.makeToken(n);try{this.fillJsonData(this.jsonEncoding)}catch(o){return(0,Jn.logger)(Xi.DEBUGLEVEL.LOW,o),!1}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let t=JSON.parse(e),n=t.signatureInHex,i=JSON.parse(t.jsonSigned);this.eip712DomainData=i.domain,this.data=i.message;try{let o=v1.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,n);this.requestorKeys=vO.KeyPair.fromPublicHex(o.substr(2)),(0,Jn.logger)(Xi.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(o){let s="Recover Address failed with error:"+o;throw(0,Jn.logger)(Xi.DEBUGLEVEL.LOW,s,o),new Error(s)}this.attestationRequest||(this.attestationRequest=bO.AttestationRequest.fromBytes((0,Jn.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 AttestationRequest");(0,Jn.logger)(Xi.DEBUGLEVEL.HIGH,"Eip712 Attestaion Request verify OK")}async makeToken(e){this.userKey?this.userKey.getAddress():await v1.SignatureUtility.connectMetamaskAndGetAddress();let t=xy.Nonce.getTimestamp(this.attestationRequest.getPok().getNonce()),n=new pa.Timestamp(t).getTimeAsString(),i={payload:(0,Jn.hexStringToBase64Url)(this.attestationRequest.getDerEncoding()),description:this.usageValue,timestamp:n,identifier:e};return await v1.SignatureUtility.signEIP712WithBrowserWallet(this.domain,i,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}setAcceptableTimeLimit(e){this.acceptableTimeLimit=e}getJsonEncoding(){return this.jsonEncoding}verify(){return this.attestationRequest.verify()?!0:((0,Jn.logger)(Xi.DEBUGLEVEL.MEDIUM,"Could not verify proof"),!1)}checkValidity(){if(!this.validateDomain(this.eip712DomainData))return(0,Jn.logger)(Xi.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!==this.usageValue)return(0,Jn.logger)(Xi.DEBUGLEVEL.MEDIUM,"Description is not correct. :"+this.data.description+" !== "+this.usageValue),!1;let e=new pa.Timestamp(this.data.timestamp);return e.setValidity(this.acceptableTimeLimit),e.validateTimestamp()?new xy.Nonce().validateNonce(this.getPok().getNonce(),this.requestorKeys.getAddress(),this.domain,pa.Timestamp.stringTimestampToLong(this.data.timestamp)-this.acceptableTimeLimit,pa.Timestamp.stringTimestampToLong(this.data.timestamp)+this.acceptableTimeLimit)?!0:((0,Jn.logger)(Xi.DEBUGLEVEL.LOW,"nonce is not correct"),!1):((0,Jn.logger)(Xi.DEBUGLEVEL.LOW,`timestamp is not correct. timestamp = ${this.data.timestamp}, acceptableTimeLimit = ${this.acceptableTimeLimit}`),!1)}getIdentifier(){return this.data.identifier}getType(){return this.attestationRequest.getType()}getPok(){return this.attestationRequest.getPok()}getUserPublicKey(){return this.requestorKeys}}il.Eip712AttestationRequest=xO;var sl={},md={},bd=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(md,"__esModule",{value:!0});md.UseAttestation=void 0;const Rc=Dt,wO=ji,Jw=Vt;class al{}bd([(0,Rc.AsnProp)({type:Jw.MyAttestation})],al.prototype,"attestation",void 0);bd([(0,Rc.AsnProp)({type:Rc.AsnPropTypes.Integer})],al.prototype,"type",void 0);bd([(0,Rc.AsnProp)({type:wO.Proof})],al.prototype,"proof",void 0);bd([(0,Rc.AsnProp)({type:Jw.PublicKeyInfoValue})],al.prototype,"sessionKey",void 0);md.UseAttestation=al;Object.defineProperty(sl,"__esModule",{value:!0});sl.UseAttestation=void 0;const AO=Nn,EO=$u(),SO=bi(),kO=Pf,_O=md,MO=Dt,wy=In;class PO{static fromData(e,t,n,i){let o=new this;return o.attestation=e,o.type=t,o.pok=n,o.sessionPublicKey=i,o.encoding=o.makeEncoding(e,t,n,i),o.constructorCheck(),o}static fromBytes(e,t){let n=new this,i;try{i=MO.AsnParser.parse(e,_O.UseAttestation)}catch(o){throw new Error("Cant parse UseAttestationASN. "+o)}try{n.attestation=kO.SignedIdentifierAttestation.fromASNType(i.attestation,t),n.type=i.type,n.pok=EO.FullProofOfExponent.fromASNType(i.proof),n.sessionPublicKey=AO.KeyPair.publicFromSubjectPublicKeyValue(i.sessionKey)}catch(o){throw new Error("Cant decode internal data. "+o)}return n.constructorCheck(),n}constructorCheck(){if(!this.verify())throw new Error("The use attestation object is not valid")}makeEncoding(e,t,n,i){let o=e.getDerEncoding()+wy.Asn1Der.encode("INTEGER",t)+n.getDerEncoding()+i.getAsnDerPublic();return wy.Asn1Der.encode("SEQUENCE_30",o)}getAttestation(){return this.attestation}getType(){return this.type}getPok(){return this.pok}getSessionPublicKey(){return this.sessionPublicKey}getDerEncoding(){return this.encoding}verify(){return this.attestation.verify()&&new SO.AttestationCrypto().verifyFullProof(this.pok)}checkValidity(){return this.attestation.checkValidity()}}sl.UseAttestation=PO;var vd={};Object.defineProperty(vd,"__esModule",{value:!0});vd.Eip712AttestationUsage=void 0;const TO=Nn,y1=Bo,CO=Cf,BO=sl,fr=Ot(),Ay=bi(),Ey=ss(),IO=oa,Zi=cs,Jr=zt;class NO extends CO.Eip712Token{constructor(e=null,t=Zi.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.PLACEHOLDER_CHAIN_ID=0,this.Eip712PrimaryName="AttestationUsage",this.Eip712Description='Prove that the "identifier" is the identifier hidden in attestation contained in"payload".',this.Eip712UserTypes=[{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"payload",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.maxTokenValidityInMs=t,this.userKey=e}async addData(e,t,n){this.setDomain(e),this.useAttestation=n;try{this.jsonEncoding=await this.makeToken(t,n)}catch(i){throw(0,fr.logger)(Jr.DEBUGLEVEL.LOW,i),new Error("Could not encode object. "+i)}try{this.fillJsonData(this.jsonEncoding)}catch(i){return(0,fr.logger)(Jr.DEBUGLEVEL.LOW,i),!1}this.constructorCheck()}fillJsonData(e,t=null){if(!e)throw new Error("Empty json");t!==null&&(this.attestorKey=t),this.jsonEncoding=e;let n=JSON.parse(e),i=n.signatureInHex,o=JSON.parse(n.jsonSigned);this.eip712DomainData=o.domain,this.data=o.message;try{let s=y1.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,i);this.requestorKeys=TO.KeyPair.fromPublicHex(s.substr(2)),(0,fr.logger)(Jr.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(s){let a="Recover Address failed with error:"+s;throw(0,fr.logger)(Jr.DEBUGLEVEL.LOW,a,s),new Error(a)}if(!this.useAttestation)try{(0,fr.logger)(Jr.DEBUGLEVEL.VERBOSE,(0,fr.uint8tohex)((0,fr.base64ToUint8array)(this.data.payload))),this.useAttestation=BO.UseAttestation.fromBytes((0,fr.base64ToUint8array)(this.data.payload),this.attestorKey)}catch(s){let a="Failed to read UseAttestation. "+s;throw(0,fr.logger)(Jr.DEBUGLEVEL.MEDIUM,a,s),new Error(a)}this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,t){this.userKey||await y1.SignatureUtility.connectMetamaskAndGetAddress();let n={payload:(0,fr.hexStringToBase64Url)(t.getDerEncoding()),description:this.Eip712Description,timestamp:new Zi.Timestamp().getTimeAsString(),identifier:e,expirationTime:new Zi.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString()};return await y1.SignatureUtility.signEIP712WithBrowserWallet(this.domain,n,this.Eip712UserTypes,this.Eip712PrimaryName,this.userKey)}proofLinking(){let t=new Ay.AttestationCrypto().mapToCurveMultiplier(this.getType(),this.getIdentifier());return Ey.Point.decodeFromUint8(this.getAttestation().getUnsignedAttestation().getCommitment(),Ey.CURVE_BN256).subtract(Ay.Pedestren_G.multiplyDA(t)).equals(this.getPok().getRiddle())?!0:((0,fr.logger)(Jr.DEBUGLEVEL.LOW,"candidateRiddle.equals(this.getPok().getRiddle()) error"),!1)}getPok(){return this.useAttestation.getPok()}getType(){return this.useAttestation.type}getIdentifier(){return this.data.identifier}getAttestation(){return this.useAttestation.getAttestation()}getJsonEncoding(){return this.jsonEncoding}checkTokenValidity(){let e=Zi.Timestamp.stringTimestampToLong(this.data.expirationTime)-this.maxTokenValidityInMs-2*Zi.Timestamp.ALLOWED_ROUNDING,t=Zi.Timestamp.stringTimestampToLong(this.data.expirationTime);if(!this.useAttestation.checkValidity())return(0,fr.logger)(Jr.DEBUGLEVEL.LOW,"useAttestation.checkValidity failed"),!1;if(!this.validateDomain(this.eip712DomainData))return(0,fr.logger)(Jr.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!=this.Eip712Description)return(0,fr.logger)(Jr.DEBUGLEVEL.LOW,`wrong description: "${this.data.description}", must be "${this.Eip712Description}"`),!1;let n=new Zi.Timestamp(this.data.timestamp);return n.setValidity(this.maxTokenValidityInMs),n.validateAgainstExpiration(Zi.Timestamp.stringTimestampToLong(this.data.expirationTime))?this.requestorKeys.getAddress().toLowerCase()!==this.useAttestation.getAttestation().getUnsignedAttestation().getAddress().toLowerCase()?((0,fr.logger)(Jr.DEBUGLEVEL.LOW,"wrong address"),!1):new IO.Nonce().validateNonce(this.useAttestation.getPok().getNonce(),this.useAttestation.getAttestation().getUnsignedAttestation().getAddress(),this.domain,e,t)?this.proofLinking()?!0:((0,fr.logger)(Jr.DEBUGLEVEL.LOW,"wrong proofLinking"),!1):((0,fr.logger)(Jr.DEBUGLEVEL.LOW,"wrong Nonce"),!1):((0,fr.logger)(Jr.DEBUGLEVEL.LOW,`verify timestamp failed.
`+this.data.timestamp+`
`+this.maxTokenValidityInMs+`
`+this.data.expirationTime+`
`+Zi.Timestamp.stringTimestampToLong(this.data.expirationTime)+`
`),!1)}verify(){return!!this.useAttestation.verify()}getSessionPublicKey(){return this.useAttestation.getSessionPublicKey()}}vd.Eip712AttestationUsage=NO;var yd={},fl={},xd={},gm=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(xd,"__esModule",{value:!0});xd.Identifier=void 0;const F0=Dt,OO=ji,RO=Vt;class wd{}gm([(0,F0.AsnProp)({type:F0.AsnPropTypes.Integer})],wd.prototype,"type",void 0);gm([(0,F0.AsnProp)({type:OO.Proof})],wd.prototype,"proof",void 0);gm([(0,F0.AsnProp)({type:RO.PublicKeyInfoValue})],wd.prototype,"sessionKey",void 0);xd.Identifier=wd;Object.defineProperty(fl,"__esModule",{value:!0});fl.AttestationRequestWithUsage=void 0;const DO=Nn,LO=$u(),UO=xd,FO=Dt,Ul=Ot(),Fl=ss(),HO=bi(),Sy=In,VO=zt;class jO{constructor(){}static fromData(e,t,n){let i=new this;if(i.type=e,i.pok=t,i.sessionPublicKey=n,!i.verify())throw new Error("Could not verify the proof");return i}static fromBytes(e){let t=new this,n;try{n=FO.AsnParser.parse(e,UO.Identifier),t.type=n.type,t.sessionPublicKey=DO.KeyPair.publicFromSubjectPublicKeyValue(n.sessionKey)}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let i=new Uint8Array(n.proof.riddle),o=new Uint8Array(n.proof.challengePoint),s=new Uint8Array(n.proof.responseValue),a=new Uint8Array(n.proof.nonce),c=Fl.Point.decodeFromHex((0,Ul.uint8tohex)(i),Fl.CURVE_BN256),d=(0,Ul.uint8ToBn)(o),l=Fl.Point.decodeFromHex((0,Ul.uint8tohex)(s),Fl.CURVE_BN256);t.pok=LO.FullProofOfExponent.fromData(c,l,d,a)}catch{throw new Error("Cant create FullProofOfExponent")}if(!t.verify())throw new Error("Could not verify the proof");return(0,Ul.logger)(VO.DEBUGLEVEL.HIGH,"proof OK"),t}verify(){return!!new HO.AttestationCrypto().verifyFullProof(this.pok)}getDerEncoding(){let e=Sy.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding()+this.sessionPublicKey.getAsnDerPublic();return Sy.Asn1Der.encode("SEQUENCE_30",e)}getPok(){return this.pok}getType(){return this.type}getSessionPublicKey(){return this.sessionPublicKey}}fl.AttestationRequestWithUsage=jO;Object.defineProperty(yd,"__esModule",{value:!0});yd.Eip712AttestationRequestWithUsage=void 0;const GO=fl,qO=Nn,Lo=Ot(),x1=Bo,$O=oa,KO=Cf,Ei=cs,ga=zt;class zO extends KO.Eip712Token{constructor(e=null,t=Ei.Timestamp.DEFAULT_TIME_LIMIT_MS,n=Ei.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequestWUsage",this.Eip712UserDataDescription='Prove that the "identifier" is the identifier hidden in attestation contained in"payload" and use this to authorize usage of local, temporary keys.',this.userKey=e,this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n}async fromData(e,t=Ei.Timestamp.DEFAULT_TIME_LIMIT_MS,n=Ei.Timestamp.DEFAULT_TOKEN_TIME_LIMIT,i,o,s=null){this.setDomain(e),s&&(this.userKey=s);try{this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n,this.attestationRequestWithUsage=o,this.jsonEncoding=await this.makeToken(i,o)}catch(a){throw(0,Lo.logger)(ga.DEBUGLEVEL.LOW,a),new Error("Could not encode object")}try{this.fillJsonData(this.jsonEncoding)}catch{throw new Error("Could not decode object")}}Eip712AttestationRequestWithUsage(e,t,n,i){try{this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n,this.jsonEncoding=i,this.fillJsonData(this.jsonEncoding)}catch(o){throw(0,Lo.logger)(ga.DEBUGLEVEL.LOW,o),new Error("Could not decode object")}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let t=JSON.parse(e),n=t.signatureInHex,i=JSON.parse(t.jsonSigned);this.eip712DomainData=i.domain,this.data=i.message;try{let o=x1.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,n);this.userPublicKey=qO.KeyPair.fromPublicHex(o.substr(2)),(0,Lo.logger)(ga.DEBUGLEVEL.HIGH,"Eip712 withUsage restored address: "+this.userPublicKey.getAddress())}catch(o){let s="Recover Address failed with error:"+o;throw(0,Lo.logger)(ga.DEBUGLEVEL.LOW,s,o),new Error(s)}this.attestationRequestWithUsage||(this.attestationRequestWithUsage=GO.AttestationRequestWithUsage.fromBytes((0,Lo.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,t){this.userKey||await x1.SignatureUtility.connectMetamaskAndGetAddress();let n=new Ei.Timestamp().getTimeAsString(),i=new Ei.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString(),o={payload:(0,Lo.hexStringToBase64Url)(t.getDerEncoding()),description:this.Eip712UserDataDescription,timestamp:n,identifier:e,expirationTime:i};return await x1.SignatureUtility.signEIP712WithBrowserWallet(this.domain,o,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}getIdentifier(){return this.data.identifier}getUserPublicKey(){return this.userPublicKey}getPok(){return this.attestationRequestWithUsage.getPok()}getType(){return this.attestationRequestWithUsage.getType()}getSessionPublicKey(){return this.attestationRequestWithUsage.getSessionPublicKey()}getJsonEncoding(){return this.jsonEncoding}checkValidity(){return!!this.testNonceAndDescription(this.acceptableTimeLimit)}checkTokenValidity(){let e=new Ei.Timestamp(this.data.timestamp);return e.setValidity(this.maxTokenValidityInMs),e.validateAgainstExpiration(Ei.Timestamp.stringTimestampToLong(this.data.expirationTime))?!!this.testNonceAndDescription(this.maxTokenValidityInMs):((0,Lo.logger)(ga.DEBUGLEVEL.LOW,"time.validateAgainstExpiration filed"),!1)}testNonceAndDescription(e){if(!e)throw new Error("timeLimit required");let t=Ei.Timestamp.stringTimestampToLong(this.data.timestamp)-e,n=Ei.Timestamp.stringTimestampToLong(this.data.timestamp)+e;return new $O.Nonce().validateNonce(this.attestationRequestWithUsage.getPok().getNonce(),this.userPublicKey.getAddress(),this.domain,t,n)?this.validateDomain(this.eip712DomainData)?this.data.description===this.Eip712UserDataDescription:((0,Lo.logger)(ga.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1):!1}verify(){return!!this.attestationRequestWithUsage.verify()}}yd.Eip712AttestationRequestWithUsage=zO;Object.defineProperty(xu,"__esModule",{value:!0});xu.Authenticator=void 0;const w1=qc,bs=Nn,Xe=Ot(),A1=Pf,ky=tl,Hl=bi(),WO=nl,E1=oa,_y=il,QO=Tf,S1=Bo,JO=sl,My=vd,k1=yd,YO=fl,xt=zt,XO=ol;typeof crypto=="object"&&crypto.subtle||wo.webcrypto.subtle;class xn{static decodePublicKey(e){return bs.KeyPair.publicFromBase64orPEM(e)}static async getUseTicket(e,t,n,i,o,s){let a,c;try{s=bs.KeyPair.parseKeyArrayStrings(s)}catch(l){throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,l),new Error("Issuer key error")}if(!n)throw new Error("Ticket is empty");if(a=w1.Ticket.fromBase64(n,s),!a.checkValidity())throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Could not validate ticket"),new Error("Ticket Validation failed");if(!a.verify())throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Could not verify ticket"),new Error("Ticket Verification failed");if((0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"ticked valid (signature OK)"),!o)throw new Error("Attesator key not defined");let d;try{d=bs.KeyPair.publicFromBase64orPEM(o)}catch{throw new Error("Attesator key read error")}try{c=A1.SignedIdentifierAttestation.fromBytes((0,Xe.base64ToUint8array)(i),d)}catch{throw new Error("IDAttestation decode error")}if(!c.checkValidity())throw new Error("IDAttestation Validation failed");if(!c.verify())throw new Error("IDAttestation Verification failed");(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"attestation valid");try{let l=new ky.AttestedObject;l.create(a,c,BigInt(t),BigInt(e));let p=l.getDerEncoding();return(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,p),(0,Xe.hexStringToBase64)(p)}catch(l){throw(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"getUseTicket: redeem failed",l),new Error("Attestation doesnt fit Ticket: "+l.message)}}static validateUseTicket(e,t,n,i){let o=bs.KeyPair.publicFromBase64orPEM(t),s=bs.KeyPair.parseKeyArrayStrings(n);try{let a=ky.AttestedObject.fromBytes((0,Xe.base64ToUint8array)(e),XO.UseToken,o,w1.Ticket,s);if((0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Verified attested object"),!a.checkValidity(i))throw new Error("Ticket validity check failed!");return a}catch(a){let c="Ticket proof validation failed! "+a.message;throw(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,c),new Error(c)}}static async requestAttest(e,t,n,i,o=null){let s=new Hl.AttestationCrypto,a;if(o)a=o.getAddress();else try{a=await S1.SignatureUtility.connectMetamaskAndGetAddress()}catch(_){(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Cant find user Ethereum Address. Please check Metamask. "+_),(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,_);return}let c=await E1.Nonce.makeNonce(a,n);(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"nonce = "+(0,Xe.uint8tohex)(c));let d=s.computeAttestationProof(i,c),l=WO.AttestationRequest.fromData(s.getType(t),d),p=new _y.Eip712AttestationRequest(o);return await p.addData(n,void 0,e,l),xn.checkAttestRequestVerifiability(p),xn.checkAttestRequestValidity(p),p.getJsonEncoding()}static constructAttest(e,t,n,i,o,s=""){let a,c=new Hl.AttestationCrypto,d,l;try{d=new _y.Eip712AttestationRequest,d.setDomain(o),s&&d.setUsageValue(s),d.fillJsonData(i),xn.checkAttestRequestVerifiability(d),xn.checkAttestRequestValidity(d)}catch(_){let T="Failed to fill attestation data from json. "+_+`
Restores as an Eip712AttestationRequestWithUsage object instead`;(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,T);try{d=new k1.Eip712AttestationRequestWithUsage,d.setDomain(o),d.fillJsonData(i),xn.checkAttestRequestVerifiability(d),xn.checkAttestRequestValidity(d)}catch(C){let M="Failed to parse Eip712AttestationRequestWithUsage. "+C;throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,M),(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,C),new Error(M)}}l=c.makeCommitmentFromHiding(d.getIdentifier(),d.getType(),d.getPok().getRiddle()),a=new QO.IdentifierAttestation,a.fromCommitment(l,d.getUserPublicKey()),a.setIssuer("CN="+t),a.setSerialNumber(Math.round(Math.random()*Number.MAX_SAFE_INTEGER));let p=Date.now();return a.setNotValidBefore(p),a.setNotValidAfter(p+n),A1.SignedIdentifierAttestation.fromData(a,e).getDerEncoding()}static async useAttest(e,t,n,i,o,s,a=null,c=null){const d=(0,Xe.base64ToUint8array)(e);let l=A1.SignedIdentifierAttestation.fromBytes(d,n),p=(0,Xe.base64ToUint8array)(t),k=(0,Xe.uint8ToBn)(p.slice(4)),_=new Hl.AttestationCrypto,T;c?T=c.getAddress():T=await S1.SignatureUtility.connectMetamaskAndGetAddress();let C=await E1.Nonce.makeNonce(T,s),M=_.computeAttestationProof(k,C);try{let P=JO.UseAttestation.fromData(l,_.getType(o),M,a),N=new My.Eip712AttestationUsage(c),U=await N.addData(s,i,P);return(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"usageRequest ready state = "+U),(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"usageRequest.getJsonEncoding() = "+N.getJsonEncoding()),N.getJsonEncoding()}catch(P){(0,Xe.logger)(xt.DEBUGLEVEL.LOW,P)}}static checkAttestRequestVerifiability(e){if(!e.verify())throw(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"Could not verify attestation signing request"),new Error("Verification failed")}static checkAttestRequestValidity(e){if(!e.checkValidity())throw(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"Could not validate attestation signing request"),new Error("Validation failed")}static checkUsageVerifiability(e){if(!e.verify())throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Could not verify usage request"),new Error("Verification failed")}static checkUsageValidity(e){if(!e.checkTokenValidity())throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Could not validate usage request"),new Error("Validation failed")}static async verifyUsage(e,t,n,i,o){let s;try{let a=new My.Eip712AttestationUsage;a.setDomain(i),a.fillJsonData(e,t),xn.checkUsageVerifiability(a),xn.checkUsageValidity(a),s=a.getSessionPublicKey()}catch(a){(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"Eip712AttestationUsage failed. "+a+". Lets try to verify Eip712AttestationRequestWithUsage");let c=new k1.Eip712AttestationRequestWithUsage;c.setDomain(i),c.fillJsonData(e),xn.checkUsageVerifiability(c),xn.checkUsageValidity(c),s=c.getSessionPublicKey(),(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"sessionPublicKey from Eip712AttestationRequestWithUsage = "+s.getAddress())}try{if(!await s.verifyStringWithSubtle(bs.KeyPair.anySignatureToRawUint8(o),n))throw(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"Could not verify message signature"),new Error("Signature verification failed");return"SUCCESSFULLY validated usage request!"}catch(a){let c="Cant verify session with subtle. "+a;(0,Xe.logger)(xt.DEBUGLEVEL.LOW,c),(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,a)}}static async requestAttestAndUsage(e,t,n,i,o,s){try{let a=(0,Xe.uint8ToBn)((0,Xe.base64ToUint8array)(o)),c;e?c=e.getAddress():c=await S1.SignatureUtility.connectMetamaskAndGetAddress();let d=await E1.Nonce.makeNonce(c,i,new Uint8Array(0),Date.now()),l=new Hl.AttestationCrypto,p=l.computeAttestationProof(a,d),k=YO.AttestationRequestWithUsage.fromData(l.getType(n),p,s),_=new k1.Eip712AttestationRequestWithUsage(e);return await _.fromData(i,void 0,void 0,t,k),(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"request.getJsonEncoding() = "+_.getJsonEncoding()),_.getJsonEncoding()}catch(a){let c="requestAttestAndUsage error. "+a;(0,Xe.logger)(xt.DEBUGLEVEL.LOW,c),(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,a)}}static validateTicket(e,t,n){let i={};try{i[t]=bs.KeyPair.parseKeyArrayStrings({[t]:n})[t]}catch{return{valid:!1,massage:"Broken Public Key"}}let o;try{o=w1.Ticket.fromBase64(e,i)}catch(s){return(0,Xe.logger)(xt.DEBUGLEVEL.LOW,s),{valid:!1,massage:"Wrong Ticket"}}return{valid:!0,ticketId:o.getTicketId(),ticketClass:o.getTicketClass()}}}xu.Authenticator=xn;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AttestationCrypto=r.Eip712AttestationRequest=r.Authenticator=void 0;var e=xu;Object.defineProperty(r,"Authenticator",{enumerable:!0,get:function(){return e.Authenticator}});var t=il;Object.defineProperty(r,"Eip712AttestationRequest",{enumerable:!0,get:function(){return t.Eip712AttestationRequest}});var n=bi();Object.defineProperty(r,"AttestationCrypto",{enumerable:!0,get:function(){return n.AttestationCrypto}})})(yu);class go{constructor(e){this.client=e}saveProof(e,t){const n=this.getProofs();n[this.getFullKey(e)]=t,localStorage.setItem(go.STORAGE_KEY,JSON.stringify(n))}getSavedProof(e){const t=this.getProofs(),n=this.getFullKey(e);return t[n]?t[n]:null}deleteProof(e){const t=this.getProofs(),n=this.getFullKey(e);t[n]&&delete t[n],localStorage.setItem(go.STORAGE_KEY,JSON.stringify(t))}getFullKey(e){return this.TYPE+"-"+e.toLowerCase()}getProofs(){const e=localStorage.getItem(go.STORAGE_KEY);return e&&e.length?JSON.parse(e):{}}}go.STORAGE_KEY="tn-proof";var mm={},Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});let yp;if(typeof crypto=="object"&&crypto.subtle)yp=crypto.subtle;else{let r=wo.webcrypto;if(r)yp=r.subtle;else throw new Error("webcrypto.subtle missing")}Ad.default=yp;Object.defineProperty(mm,"__esModule",{value:!0});var bm=mm.KeyStore=void 0;const Py=Ot(),Ty=Ad;class Zn{async getOrCreateKey(e,t){let n,i,o=e+(t?"-"+t:"");try{return n=await this.getKey(o),n?i=(0,Py.hexStringToUint8)(n.spki):(n=await Ty.default.generateKey({name:e,modulusLength:1024,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]),i=new Uint8Array(await Ty.default.exportKey("spki",n.publicKey)),await this.saveKey(o,n.privateKey,n.publicKey,(0,Py.uint8tohex)(i))),{attestHoldingKey:n,holdingPubKey:i}}catch(s){throw console.log("Failed to create attestor keypair: "+s.message),s}}async getKey(e){return new Promise(async(t,n)=>{try{this.getDb().then(i=>{let a=i.transaction(Zn.TABLE_NAME,"readwrite").objectStore(Zn.TABLE_NAME).get(e);a.onsuccess=()=>{t(a.result),i.close()},a.onerror=c=>{n(c)}})}catch(i){console.log(i),n(i.message)}})}async saveKey(e,t,n,i){try{let o=await this.getDb(),a=o.transaction(Zn.TABLE_NAME,"readwrite").objectStore(Zn.TABLE_NAME),c={id:e,privateKey:t,publicKey:n,spki:i},d=a.put(c);d.onsuccess=()=>{o.close()}}catch(o){console.log("Failed to store key"+o.message)}}async getDb(){return new Promise(function(e,t){let n=indexedDB.open(Zn.DB_NAME,1);n.onupgradeneeded=function(i){let o=i.target.result;o.objectStoreNames.contains(Zn.TABLE_NAME)||o.createObjectStore(Zn.TABLE_NAME,{keyPath:"id"})},n.onsuccess=function(i){let o=i.target.result;e(o)},n.onerror=function(i){t("Error opening database "+i.target.errorCode)}})}}bm=mm.KeyStore=Zn;Zn.DB_NAME="AttestationKeyStore";Zn.TABLE_NAME="Keys";var ZO=Ot(),vm={},Gi={},$s={},Io={},Yw=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Io,"__esModule",{value:!0});Io.EpochTimeValidity=void 0;const H0=Dt;class ym{}Yw([(0,H0.AsnProp)({type:H0.AsnPropTypes.Integer})],ym.prototype,"notBefore",void 0);Yw([(0,H0.AsnProp)({type:H0.AsnPropTypes.Integer})],ym.prototype,"notAfter",void 0);Io.EpochTimeValidity=ym;var sa=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty($s,"__esModule",{value:!0});$s.NFTOwnershipAttestation=$s.ERC721=void 0;const Pn=Dt,eR=Io;class cl{}sa([(0,Pn.AsnProp)({type:Pn.AsnPropTypes.OctetString})],cl.prototype,"address",void 0);sa([(0,Pn.AsnProp)({type:Pn.AsnPropTypes.Integer})],cl.prototype,"chainId",void 0);sa([(0,Pn.AsnProp)({type:Pn.AsnPropTypes.OctetString,optional:!0,repeated:"sequence"})],cl.prototype,"tokenIds",void 0);$s.ERC721=cl;class ll{constructor(){this.tokens=[]}}sa([(0,Pn.AsnProp)({type:Pn.AsnPropTypes.Any})],ll.prototype,"subjectPublicKey",void 0);sa([(0,Pn.AsnProp)({type:cl,repeated:"sequence"})],ll.prototype,"tokens",void 0);sa([(0,Pn.AsnProp)({type:eR.EpochTimeValidity})],ll.prototype,"validity",void 0);sa([(0,Pn.AsnProp)({type:Pn.AsnPropTypes.OctetString,optional:!0})],ll.prototype,"context",void 0);$s.NFTOwnershipAttestation=ll;var ul={},Ed=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(ul,"__esModule",{value:!0});ul.EthereumAddressAttestation=void 0;const Ks=Dt,tR=Io;class dl{}Ed([(0,Ks.AsnProp)({type:Ks.AsnPropTypes.Any})],dl.prototype,"subjectPublicKey",void 0);Ed([(0,Ks.AsnProp)({type:Ks.AsnPropTypes.OctetString})],dl.prototype,"ethereumAddress",void 0);Ed([(0,Ks.AsnProp)({type:tR.EpochTimeValidity})],dl.prototype,"validity",void 0);Ed([(0,Ks.AsnProp)({type:Ks.AsnPropTypes.OctetString,optional:!0})],dl.prototype,"context",void 0);ul.EthereumAddressAttestation=dl;var Bf=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.SignedLinkedAttestation=Gi.LinkedAttestation=void 0;const es=Dt,rR=Ir,nR=$s,iR=ul;let ff=class{};Bf([(0,es.AsnProp)({type:nR.NFTOwnershipAttestation,context:0})],ff.prototype,"nftOwnership",void 0);Bf([(0,es.AsnProp)({type:iR.EthereumAddressAttestation,context:1})],ff.prototype,"ethereumAddress",void 0);ff=Bf([(0,es.AsnType)({type:es.AsnTypeTypes.Choice})],ff);Gi.LinkedAttestation=ff;class Sd{}Bf([(0,es.AsnProp)({type:ff})],Sd.prototype,"attestation",void 0);Bf([(0,es.AsnProp)({type:rR.AlgorithmIdentifierASN})],Sd.prototype,"signingAlgorithm",void 0);Bf([(0,es.AsnProp)({type:es.AsnPropTypes.BitString})],Sd.prototype,"signatureValue",void 0);Gi.SignedLinkedAttestation=Sd;var zs={},aa=Ze&&Ze.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(zs,"__esModule",{value:!0});zs.SignedEthereumKeyLinkingAttestation=zs.EthereumKeyLinkingAttestation=void 0;const qi=Dt,oR=Io,sR=Ir,aR=Gi;class If{}aa([(0,qi.AsnProp)({type:qi.AsnPropTypes.OctetString})],If.prototype,"subjectEthereumAddress",void 0);aa([(0,qi.AsnProp)({type:aR.SignedLinkedAttestation})],If.prototype,"linkedAttestation",void 0);aa([(0,qi.AsnProp)({type:oR.EpochTimeValidity})],If.prototype,"validity",void 0);aa([(0,qi.AsnProp)({type:qi.AsnPropTypes.OctetString,optional:!0})],If.prototype,"context",void 0);zs.EthereumKeyLinkingAttestation=If;class kd{}aa([(0,qi.AsnProp)({type:If})],kd.prototype,"ethereumKeyLinkingAttestation",void 0);aa([(0,qi.AsnProp)({type:sR.AlgorithmIdentifierASN})],kd.prototype,"signingAlgorithm",void 0);aa([(0,qi.AsnProp)({type:qi.AsnPropTypes.BitString})],kd.prototype,"signatureValue",void 0);zs.SignedEthereumKeyLinkingAttestation=kd;var _d={},hl={};Object.defineProperty(hl,"__esModule",{value:!0});hl.AbstractLinkedAttestation=void 0;const Vl=Dt,fR=Gi,jl=Ot(),_1=Yu,cR=Ir;class lR{fromObject(e){this.linkedAttestation=e}fromBytes(e){this.linkedAttestation=Vl.AsnParser.parse(e,fR.SignedLinkedAttestation)}fromBase64(e){this.fromBytes((0,jl.base64ToUint8array)(e))}getAttestationData(){return this.linkedAttestation.attestation[this.TYPE]}getSubjectPublicKey(){return this.getAttestationData().subjectPublicKey}getEncoded(){return new Uint8Array(Vl.AsnSerializer.serialize(this.linkedAttestation))}getBase64(){return(0,jl.uint8arrayToBase64)(this.getEncoded())}sign(e){const t=Vl.AsnSerializer.serialize(this.linkedAttestation.attestation[this.TYPE]);this.linkedAttestation.signingAlgorithm=new cR.AlgorithmIdentifierASN,this.linkedAttestation.signingAlgorithm.algorithm="1.2.840.10045.4.2",this.linkedAttestation.signatureValue=(0,jl.hexStringToUint8)(e.signRawBytesWithEthereum(Array.from(new Uint8Array(t))))}verify(e){const t=Vl.AsnSerializer.serialize(this.getAttestationData());let n=(0,jl.hexStringToUint8)(_1.ethers.utils.keccak256(new Uint8Array(t))),i=_1.ethers.utils.recoverPublicKey(n,_1.ethers.utils.splitSignature(new Uint8Array(this.linkedAttestation.signatureValue)));if(i.substring(2)!==e.getPublicKeyAsHexStr())throw new Error("Attestor public key does not match, expected "+e.getPublicKeyAsHexStr()+" got "+i.substring(2));let o=Math.round(Date.now()/1e3),s=this.getAttestationData();if(s.validity.notBefore>o)throw new Error("Linked attestation is not yet valid");if(s.validity.notAfter<o)throw new Error("Linked attestation has expired")}}hl.AbstractLinkedAttestation=lR;Object.defineProperty(_d,"__esModule",{value:!0});_d.EthereumAddressAttestation=void 0;const uR=hl,Cy=Gi,dR=ul,hR=Io,pR=Ot();class gR extends uR.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="ethereumAddress"}create(e,t,n,i,o,s){this.linkedAttestation=new Cy.SignedLinkedAttestation,this.linkedAttestation.attestation=new Cy.LinkedAttestation,this.linkedAttestation.attestation.ethereumAddress=new dR.EthereumAddressAttestation,this.linkedAttestation.attestation.ethereumAddress.subjectPublicKey=e,s||(s=Math.round(Date.now()/1e3));const a=s+i;this.linkedAttestation.attestation.ethereumAddress.validity=new hR.EpochTimeValidity,this.linkedAttestation.attestation.ethereumAddress.validity.notBefore=s,this.linkedAttestation.attestation.ethereumAddress.validity.notAfter=a,this.linkedAttestation.attestation.ethereumAddress.ethereumAddress=(0,pR.hexStringToUint8)(t),o&&(this.linkedAttestation.attestation.ethereumAddress.context=o),this.sign(n)}}_d.EthereumAddressAttestation=gR;var Md={};Object.defineProperty(Md,"__esModule",{value:!0});Md.NFTOwnershipAttestation=void 0;const mR=hl,By=Gi,Iy=$s,bR=Io,Ny=Ot();class vR extends mR.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="nftOwnership"}create(e,t,n,i,o,s){this.linkedAttestation=new By.SignedLinkedAttestation,this.linkedAttestation.attestation=new By.LinkedAttestation,this.linkedAttestation.attestation.nftOwnership=new Iy.NFTOwnershipAttestation,this.linkedAttestation.attestation.nftOwnership.subjectPublicKey=e,s||(s=Math.round(Date.now()/1e3));const a=s+i;this.linkedAttestation.attestation.nftOwnership.validity=new bR.EpochTimeValidity,this.linkedAttestation.attestation.nftOwnership.validity.notBefore=s,this.linkedAttestation.attestation.nftOwnership.validity.notAfter=a;for(let c of t){let d=new Iy.ERC721;if(d.address=(0,Ny.hexStringToUint8)(c.address),d.chainId=c.chainId,c.tokenIds){d.tokenIds=[];for(let l of c.tokenIds)d.tokenIds.push((0,Ny.bnToUint8)(l))}this.linkedAttestation.attestation.nftOwnership.tokens.push(d)}o&&(this.linkedAttestation.attestation.nftOwnership.context=o),this.sign(n)}}Md.NFTOwnershipAttestation=vR;Object.defineProperty(vm,"__esModule",{value:!0});var Xw=vm.EthereumKeyLinkingAttestation=void 0;const yR=Gi,Oy=zs,Jf=Dt,Gl=Ot(),xR=Io,wR=zs,AR=Ir,ER=_d,SR=Md,M1=Ad,P1="RSASSA-PKCS1-v1_5";class kR{create(e,t,n,i,o){let s=Jf.AsnParser.parse((0,Gl.base64ToUint8array)(e),yR.SignedLinkedAttestation);this.linkAttest=new Oy.SignedEthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation=new wR.EthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation.subjectEthereumAddress=(0,Gl.hexStringToUint8)(t),this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation=s,o||(o=Math.round(Date.now()/1e3));const a=o+n;this.linkAttest.ethereumKeyLinkingAttestation.validity=new xR.EpochTimeValidity,this.linkAttest.ethereumKeyLinkingAttestation.validity.notBefore=o,this.linkAttest.ethereumKeyLinkingAttestation.validity.notAfter=a,i||(this.linkAttest.ethereumKeyLinkingAttestation.context=i)}async sign(e){const t=Jf.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),n=await M1.default.sign({name:P1,saltLength:128},e,t);this.linkAttest.signingAlgorithm=new AR.AlgorithmIdentifierASN,this.linkAttest.signingAlgorithm.algorithm="1.2.840.113549.1.1.11",this.linkAttest.signatureValue=new Uint8Array(n)}fromBytes(e){this.linkAttest=Jf.AsnParser.parse(e,Oy.SignedEthereumKeyLinkingAttestation)}fromBase64(e){this.fromBytes((0,Gl.base64ToUint8array)(e))}getEncoded(){return new Uint8Array(Jf.AsnSerializer.serialize(this.linkAttest))}getBase64(){return(0,Gl.uint8arrayToBase64)(this.getEncoded())}getAttestation(){return this.linkAttest}getSignedLinkedAttestation(){return this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation}getLinkedAttestationData(){const e=this.getSignedLinkedAttestation();return e.attestation.ethereumAddress??e.attestation.nftOwnership}getLinkedAttestationObject(){const e=this.getSignedLinkedAttestation();let t;return e.attestation.ethereumAddress?(t=new ER.EthereumAddressAttestation,t.fromObject(e)):(t=new SR.NFTOwnershipAttestation,t.fromObject(e)),t}async verify(e){let t=this.getLinkedAttestationObject();t.verify(e);let n=t.getSubjectPublicKey();const i=Jf.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),o=await M1.default.importKey("spki",new Uint8Array(n),{name:P1,hash:{name:"SHA-256"}},!0,["verify"]);if(!await M1.default.verify({name:P1,saltLength:128},o,this.linkAttest.signatureValue,i))throw new Error("Signature verification failed");let a=Math.round(Date.now()/1e3),c=this.linkAttest.ethereumKeyLinkingAttestation;if(c.validity.notBefore>a)throw new Error("Linked attestation is not yet valid");if(c.validity.notAfter<a)throw new Error("Linked attestation has expired")}}Xw=vm.EthereumKeyLinkingAttestation=kR;var ma=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class ln{static getLinkPrivateKey(){return ma(this,void 0,void 0,function*(){return(yield ln.keyStore.getOrCreateKey(ln.HOLDING_KEY_ALGORITHM)).attestHoldingKey.privateKey})}static getLinkPublicKey(){return ma(this,void 0,void 0,function*(){let e=yield ln.keyStore.getOrCreateKey(ln.HOLDING_KEY_ALGORITHM);return ZO.uint8tohex(e.holdingPubKey)})}static getChallenge(e,t){return ma(this,void 0,void 0,function*(){try{return yield this.apiRequest(e,"POST","get-challenge",{address:t})}catch(n){throw new Error("Failed to get address challenge: "+n.message)}})}static getAttestation(e,t){return ma(this,void 0,void 0,function*(){try{return yield this.apiRequest(e,"POST","issue-attestation",t)}catch(n){throw new Error("Failed to get address attestation: "+n.message)}})}static apiRequest(e,t,n,i){return ma(this,void 0,void 0,function*(){let o=yield fetch(e+"api/"+n,{method:t,body:JSON.stringify(i),credentials:"include",headers:{"Content-Type":"application/json"}});if(o.status>299||o.status<200){let s;try{s=(yield o.json()).error}catch{s="HTTP Request error: "+o.statusText}throw new Error(s)}return yield o.json()})}static createAndSignLinkAttestation(e,t,n){return ma(this,void 0,void 0,function*(){const i=new Xw;return i.create(e,t,3600+600,void 0,Math.round(Date.now()/1e3)-600),yield i.sign(n),i.getBase64()})}}ln.HOLDING_KEY_ALGORITHM="RSASSA-PKCS1-v1_5";ln.keyStore=new bm;var _R=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class MR extends go{constructor(){super(...arguments),this.TYPE="attestedAddress"}getTokenProof(e,t,n){var i,o;return _R(this,void 0,void 0,function*(){let s=yield this.client.getWalletProvider();if(!s.safeConnectAvailable())throw new Error("Safe connect is not available");if(!e.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");if(!(!((i=n.options)===null||i===void 0)&&i.address))throw new Error("Address attestation requires a secondary address.");let a=s.getConnectedWalletData()[0],c=this.getSavedProof(a.address);if(((o=c?.data)===null||o===void 0?void 0:o.expiry)<Date.now()&&(this.deleteProof(a.address),c=null),!c){if(a.provider instanceof Pd)yield a.provider.initSafeConnect(),c=this.getSavedProof(a.address);else{let l=yield ln.getChallenge(s.safeConnectOptions.url,a.address),p=yield s.signMessage(a.address,l.messageToSign),k={type:"address_attest",subject:yield ln.getLinkPublicKey(),address:a.address,signature:p},_=yield ln.getAttestation(s.safeConnectOptions.url,k);c={type:this.TYPE,data:Object.assign({expiry:_.expiry},_.data),target:{address:_.data.address}},this.saveProof(_.data.address,c)}if(!c)throw new Error("Could not get address attestation from safe connect")}let d=c.data.attestation;return c.data.attestation=yield ln.createAndSignLinkAttestation(d,n.options.address,yield ln.getLinkPrivateKey()),c})}}var PR=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class TR extends go{constructor(){super(...arguments),this.TYPE="scChallenge"}getTokenProof(e,t,n){return PR(this,void 0,void 0,function*(){let i=yield this.client.getWalletProvider();if(!i.safeConnectAvailable())throw new Error("Safe connect is not available");if(!e.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");let o=i.getConnectedWalletData()[0].address,s=this.getSavedProof(o);s.data.expiry<Date.now()&&(this.deleteProof(o),s=null);let a=yield i.getSafeConnectProvider();if(!s)if(i.getConnectedWalletData()[0].provider instanceof Pd){if(yield a.initSafeConnect(),s=this.getSavedProof(o),!s)throw new Error("Could not get proof from safe connect")}else throw new Error("Only safe connect supports this authentication type at this time");return s})}}var T1=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})},Dc;(function(r){r.CONNECT="connect",r.NEW_CHALLENGE="new_challenge"})(Dc||(Dc={}));class Pd{constructor(e,t){this.keyStore=new bm,this.messaging=new Kp,this.ui=e,this.options=t}initSafeConnect(){var e;return T1(this,void 0,void 0,function*(){let t=yield this.messaging.sendMessage({action:Dc.CONNECT,origin:this.options.url,timeout:0,data:yield this.getInitialProofRequest()},!0,this.ui);if(!t)return;if(!this.options.initialProof)return t.data.address;let n=t.data;return this.processProofResult(n),(e=n.data)===null||e===void 0?void 0:e.address})}processProofResult(e){let t,n;switch(this.options.initialProof){case"address_attest":t=new MR,n={type:t.TYPE,data:Object.assign({expiry:e.expiry},e.data),target:{address:e.data.address}},t.saveProof(e.data.address,n);break;case"simple_challenge":t=new TR,n={type:t.TYPE,data:e.data,target:{address:e.data.address}};break}t.saveProof(e.data.address,n)}getInitialProofRequest(){return T1(this,void 0,void 0,function*(){let e={};if(!!this.options.initialProof)return e.type=this.options.initialProof,this.options.initialProof!=="simple_challenge"&&(e.subject=yield ln.getLinkPublicKey()),e})}signUNChallenge(e){return T1(this,void 0,void 0,function*(){let t=yield this.messaging.sendMessage({action:Dc.CONNECT,origin:this.options.url,timeout:0,data:{type:"signed_un",un:encodeURIComponent(JSON.stringify(e))}},!0,this.ui);if(!!t)return t.data.data.signature})}}const CR=Object.freeze(Object.defineProperty({__proto__:null,get SafeConnectAction(){return Dc},SafeConnectProvider:Pd},Symbol.toStringTag,{value:"Module"}));var Ry=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class C1{static getNewUN(e){return Ry(this,void 0,void 0,function*(){try{return yield(yield fetch(e)).json()}catch(t){throw new Error("Failed to fetch UN challenge: "+t.message)}})}static recoverAddress(e){if(!e.signature)throw new Error("Null signature");const t=Fc(e.messageToSign),n=ue(t);return Ys(n,e.signature).toLowerCase()}static validateChallenge(e,t){return Ry(this,void 0,void 0,function*(){return(yield(yield fetch(e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)})).json()).address})}}var BR=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class pl extends go{constructor(){super(...arguments),this.TYPE="signedUN"}getTokenProof(e,t,n){var i,o;return BR(this,void 0,void 0,function*(){let s=yield this.client.getWalletProvider();if(s.getConnectedWalletData().length===0)throw new Error("WALLET_REQUIRED");let a=s.getConnectedWalletData()[0].address,c=this.getSavedProof(a);if(c){let d=c?.data;(d.expiration<Date.now()||C1.recoverAddress(d)!==a.toLowerCase())&&(this.deleteProof(a),c=null)}if(!c){let d=s.getWalletProvider(a);c={type:this.TYPE,data:{},target:{address:a}};let l=(o=(i=n.options)===null||i===void 0?void 0:i.unEndPoint)!==null&&o!==void 0?o:pl.DEFAULT_ENDPOINT;const p=yield C1.getNewUN(l);let k;d instanceof Pd?k=yield d.signUNChallenge(p):k=yield s.signMessage(a,p.messageToSign),p.signature=k;let _=C1.recoverAddress(p);if(_!==a.toLowerCase())throw new Error("Address signature is invalid");p.address=_,c.data=p,this.saveProof(a,c)}return c})}}pl.DEFAULT_ENDPOINT="https://attestation-verify.tokenscript.org/un";var IR=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const Zw=(r,e={})=>{let t=[];if(r.length&&typeof e=="object"&&Object.keys(e).length){let n=Object.keys(e);return r.forEach(i=>{let o=1;n.forEach(s=>{i[s]&&i[s].toString()!==e[s].toString()&&(o=0)}),o&&t.push(i)}),t}else return r},e5=r=>{const e=localStorage.getItem(r);let t=[],n={tokens:[],noTokens:!0,success:!0};try{e&&e.length&&(t=JSON.parse(e),t.length!==0&&t.forEach(i=>{i.token&&i.secret&&n.tokens.push(i)}),n.tokens.length&&(n.noTokens=!1))}catch{n.success=!1}return n},t5=(r,e,t,n=!1)=>{const i=JSON.parse(r);return i.length?i.map(o=>{if(o.token)return xp(o,e,t,n)}):[]},xp=(r,e,t,n=!1)=>{if(r.token){let i=new e(X3(r.token).buffer);if(i&&i[t]){let o=i[t];return o=r5(o),n?Object.assign({signedToken:r.token},o):o}}};function r5(r){return Object.keys(r).forEach(e=>{r[e]instanceof ArrayBuffer&&(r[e]=Array.from(new Uint8Array(r[e])))}),r}const NR=(r,e)=>{r&&localStorage.setItem(e,JSON.stringify(r))},OR=(r,e,t,n=null)=>{n===null&&(n=new URLSearchParams(window.location.search));const i=n.get(r),o=n.get(e);let s=n.get(t);const a=s||"";if(!(i&&o))throw new Error("Incomplete token params in URL.");return{token:i,secret:o,id:decodeURIComponent(a),magic_link:window.location.href}},wp=(r,e)=>IR(void 0,void 0,void 0,function*(){let t=RR(r,e);if(!t)return null;let n=t.token,i=t.secret,o={ticketBlob:n,ticketSecret:i,attestationOrigin:e.attestationOrigin};return t&&t.id&&(o.email=t.id),t&&t.magic_link&&(o.magicLink=t.magic_link),e.attestationInTab&&(o.attestationInTab=!0),o}),RR=(r,e)=>{if(!r||!Object.keys(r).length)return;let t=e5(e.itemStorageKey);if(t.success&&!t.noTokens){let n=t.tokens,i={};return n.length&&n.forEach(o=>{if(o.token){const s=e.tokenParser;let a=new s(X3(o.token).buffer);if(a&&a[e.unsignedTokenDataName]){let c=a[e.unsignedTokenDataName];c=r5(c),U9(c,r)&&(i=o)}}}),i}return null};var Dy=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class Ap{constructor(e,t,n,i,o,s,a,c){this.tokenDef=n,this.tokenObj=i,this.address=o,this.wallet=s,this.redirectUrl=a,this.unsignedToken=c,this.buttonOverlay=null,this.tryingToGetAttestationInBackground=!1,this.iframe=null,this.iframeWrap=null,this.attestationBlob=null,this.attestationSecret=null,this.wrapperBase="tn_attestation_open",this.interval=null,this.outlet=e,this.evtid=t,this.base64senderPublicKeys=n.base64senderPublicKeys,this.base64attestorPubKey=n.base64attestorPubKey,this.signedTokenBlob=i.ticketBlob,this.magicLink=i.magicLink,this.email=i.email,this.signedTokenSecret=i.ticketSecret,this.attestationOrigin=i.attestationOrigin,this.attestationInTab=i.attestationInTab}openAttestationApp(){if(this.attestationInTab&&!this.tryingToGetAttestationInBackground){ke(2,"display new TAB to attest, ask parent to show current iframe"),this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:co.SHOW_FRAME,max_width:"500px",min_height:"300px"});let e;e=document.createElement("div"),e.classList.add(this.wrapperBase+"_btn"),e.innerHTML="Click to get Email Attestation",e.addEventListener("click",()=>{this.attestationTabHandler=window.open(this.attestationOrigin,"Attestation"),e.remove();let i=this.buttonOverlay.querySelector("."+this.wrapperBase+"_title"),o=this.buttonOverlay.querySelector("."+this.wrapperBase+"_subtitle");i&&(i.innerHTML="Email Attestation verification in progress"),o&&(o.innerHTML="Please complete the verification process to continue"),this.interval=setInterval(()=>{this.attestationTabHandler.closed&&(console.log("child tab closed... "),clearInterval(this.interval),this.rejectHandler(new Error("User closed TAB")))},2e3)});let t=this.wrapperBase+"_wrap_"+Date.now();const n=document.createElement("style");n.innerHTML=`
				#${t} {
					width:100%;
					height: 100vh; 
					position: fixed; 
					align-items: center; 
					justify-content: center;
					display: flex;
					top: 0; 
					left: 0; 
					background: #000f;
					display: flex;
					flex-direction: column;
					padding: 30px;
				}
				#${t} div:hover {
					box-shadow: 0 0px 14px #ffff !important;
				}
				#${t} .${this.wrapperBase}_content {
					color: #fff; 
					text-align: center;
				}
				#${t} .${this.wrapperBase}_title {
					
				}
				
				#${t} .${this.wrapperBase}_subtitle {
					font-size:18px;
					color: #ccc;
				}
				#${t} .${this.wrapperBase}_btn {
					margin: 20px auto 0;
					padding: 5px 15px;
					background: #0219fa;
					font-weight: 700;
					font-size: 20px;
					line-height: 1.3;
					border-radius: 100px;
					color: #fff;
					cursor: pointer;
					display: block;
					text-align: center;
				}

				@media (max-width: 768px){
					#${t} {
						padding: 20px 10px;
					}
					#${t} .${this.wrapperBase}_title {
						font-size: 24px;
					}
					#${t} .${this.wrapperBase}_btn {
						padding: 10px 15px;
						font-size: 18px;
					}
				}
			`,this.buttonOverlay=document.createElement("div"),this.buttonOverlay.id=t,this.buttonOverlay.innerHTML=`<h1 class="${this.wrapperBase}_content ${this.wrapperBase}_title">Needs email attestation to complete verification.</h1><p class="${this.wrapperBase}_content ${this.wrapperBase}_subtitle"></p>`,this.buttonOverlay.appendChild(e),this.buttonOverlay.appendChild(n),document.body.appendChild(this.buttonOverlay)}else ke(2,"open attestation in iframe"),this.createIframe()}authenticate(){return new Promise((e,t)=>{if(this.rejectHandler=t,this.redirectUrl){const n=new URLSearchParams(document.location.hash.substring(1)),i=new URLSearchParams;i.set("email",this.email),i.set("address",this.address),i.set("wallet",this.wallet);const o=new URL(this.redirectUrl),s=$p(new URLSearchParams(o.hash.substring(1)));s.set(Tt+"action",Sn.EMAIL_ATTEST_CALLBACK),s.set(Tt+"issuer",this.tokenDef.collectionID),s.set(Tt+"token",JSON.stringify(this.unsignedToken));const a=n.get(Tt+"requestor");a&&s.set(Tt+"requestor",a),o.hash=s.toString(),i.set("email-attestation-callback",o.href);const c=`${this.attestationOrigin}#${i.toString()}`;ke(2,"authenticate. go to: ",c),document.location.href=c;return}if(this.attestationInTab&&!eu()&&(this.tryingToGetAttestationInBackground=!0),!this.attestationOrigin)return t(new Error("Attestation origin is null"));window.addEventListener("message",n=>{if(!this.attestationOrigin)return;let i=new URL(this.attestationOrigin);n.origin===i.origin&&(this.iframe&&this.iframeWrap&&this.iframe.contentWindow||this.attestationTabHandler)&&this.postMessageAttestationListener(n,e,t)}),this.openAttestationApp(t)})}createIframe(){var e;const t=document.createElement("iframe");t.setAttribute("allow","clipboard-read"),this.iframe=t,t.src=(e=this.attestationOrigin)!==null&&e!==void 0?e:"",t.style.width="800px",t.style.height="800px",t.style.maxWidth="100%",t.style.background="#fff";let n=document.createElement("div");this.iframeWrap=n,n.setAttribute("style","width:101%;min-height: 100vh; position: fixed; align-items: center; justify-content: center;display: none;top: 0; left: 0; background: #fffa"),n.appendChild(t),document.body.appendChild(n)}getUseToken(e,t){return Dy(this,void 0,void 0,function*(){try{if(!this.signedTokenSecret)throw new Error("signedTokenSecret required");if(!t)throw new Error("attestationSecret required");if(!this.signedTokenBlob)throw new Error("signedTokenBlob required");if(!e)throw new Error("attestationBlob required");if(!this.base64attestorPubKey)throw new Error("base64attestorPubKey required");if(!this.base64senderPublicKeys)throw new Error("base64senderPublicKeys required");let n=yield yu.Authenticator.getUseTicket(this.signedTokenSecret,t,this.signedTokenBlob,e,this.base64attestorPubKey,this.base64senderPublicKeys);if(n)return ke(2,"this.authResultCallback( useToken ): "),this.buttonOverlay&&this.buttonOverlay.remove(),n;throw ke(2,"this.authResultCallback( empty ): "),new Error("Empty useToken")}catch(n){throw ke(2,"UseDevconTicket failed.",n.message),ke(3,n),this.buttonOverlay&&this.buttonOverlay.remove(),new Error("Failed to create UseTicket. "+n.message)}})}postMessageAttestationListener(e,t,n){var i,o,s,a;return Dy(this,void 0,void 0,function*(){ke(2,"postMessageAttestationListener event (auth-handler)",e.data);let c=this.attestationTabHandler?this.attestationTabHandler:this.iframe.contentWindow;if(typeof e.data.ready<"u"&&e.data.ready===!0){let d={force:!1};this.email&&(d.email=this.email),this.wallet&&(d.wallet=this.wallet),this.address&&(d.address=this.address),c.postMessage(d,this.attestationOrigin);return}if(typeof e.data.display<"u")if(e.data.display===!0){if(this.iframeWrap){if(this.tryingToGetAttestationInBackground){this.tryingToGetAttestationInBackground=!1,this.iframe.remove(),this.iframeWrap.remove(),this.openAttestationApp();return}this.iframeWrap.style.display="flex",this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:co.SHOW_FRAME})}}else e.data.error&&(ke(2,"Error received from the iframe: "+e.data.error),n(new Error(e.data.error)),this.buttonOverlay&&this.buttonOverlay.remove()),this.iframeWrap&&(this.iframeWrap.style.display="none");if(!(!(!((i=e.data)===null||i===void 0)&&i.attestation)||!(!((o=e.data)===null||o===void 0)&&o.requestSecret))){this.attestationTabHandler&&this.attestationTabHandler.close(),this.iframeWrap&&this.iframeWrap.remove(),this.attestationBlob=(s=e.data)===null||s===void 0?void 0:s.attestation,this.attestationSecret=(a=e.data)===null||a===void 0?void 0:a.requestSecret;try{const d=this.getUseToken(this.attestationBlob,this.attestationSecret);t(d)}catch(d){n(d)}}})}}var Yf=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const n5={tokenUrlName:"ticket",tokenSecretName:"secret",tokenIdName:"id",unsignedTokenDataName:"ticket",itemStorageKey:"dcTokens",signedTokenWhitelist:[],whitelistDialogWidth:"450px",whitelistDialogHeight:"350px"};class i5{constructor(e){const t=zg.parse(e,Gw);this.ticket=t.ticket,ke(3,this.ticket)}}class V0{constructor(e,t=!1,n=null){if(this.singleUse=!1,this.tokenConfig=Object.assign(n5,e),this.singleUse=t,this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=i5),this.tokenConfig.signedTokenWhitelist=this.tokenConfig.signedTokenWhitelist.map(i=>{try{return new URL(i).origin}catch(o){ke(2,"Failed to validate whitelist origin: "+o.message)}}),n)this.urlParams=n;else{let i=window.location.hash.length>1?"?"+window.location.hash.substring(1):window.location.search;this.urlParams=new URLSearchParams(i)}this.singleUse||this.pageOnLoadEventHandler()}getDataFromQuery(e,t=!0){return e=(t?Tt:"")+e,this.urlParams?this.urlParams.get(e):""}getFilter(){const e=this.getDataFromQuery("filter");return e?JSON.parse(e):{}}pageOnLoadEventHandler(){var e;return Yf(this,void 0,void 0,function*(){const t=this.getDataFromQuery("evtid"),n=this.getDataFromQuery("action"),i=this.getDataFromQuery("access"),o=this.getDataFromQuery("requestor");o&&(this.redirectCallbackUrl=new URL(o)),ke(2,"Outlet received event ID "+t+" action "+n+" at "+document.location.href);try{switch(n){case Sn.GET_ISSUER_TOKENS:{yield this.whitelistCheck(t,i==="write"?"write":"read"),this.sendTokens(t);break}case Sn.EMAIL_ATTEST_CALLBACK:{const s=this.redirectCallbackUrl,a=this.getDataFromQuery("issuer");try{const c=this.getDataFromQuery("token");let d=JSON.parse(c);const l=this.getDataFromQuery("attestation",!1),p="0x"+this.getDataFromQuery("requestSecret",!1),_=yield new Ap(this,t,this.tokenConfig,yield wp(d,this.tokenConfig),null,null,!1).getUseToken(l,p);if(s){const T=new URLSearchParams(s.hash.substring(1));T.set(Tt+"action","proof-callback"),T.set(Tt+"issuer",a),T.set(Tt+"attestation",_),T.delete("email"),T.delete("#email");let M=new V0(this.tokenConfig,!0).prepareTokenOutput({});ke(2,"issuerTokens: ",M),T.set(Tt+"tokens",JSON.stringify(M)),s.hash=T.toString(),console.log("urlToRedirect from OutletAction.EMAIL_ATTEST_CALLBACK: ",s.href),document.location.href=s.href;return}this.dispatchAuthCallbackEvent(a,_,null)}catch(c){if(s)return this.proofRedirectError(a,c.message);this.dispatchAuthCallbackEvent(a,null,c.message)}document.location.hash=$p(this.urlParams,["attestation","requestSecret","address","wallet"]).toString();break}case Sn.GET_PROOF:{const s=this.getDataFromQuery("token"),a=this.getDataFromQuery("wallet"),c=this.getDataFromQuery("address");ws(s,"unsigned token is missing"),this.sendTokenProof(t,s,c,a);break}default:{this.singleUse||(yield this.whitelistCheck(t,"write"),yield this.readMagicLink(),this.sendTokens(t));break}}}catch(s){console.error(s),this.sendErrorResponse(t,(e=s?.message)!==null&&e!==void 0?e:s,this.getDataFromQuery("issuer"))}})}readMagicLink(){return Yf(this,void 0,void 0,function*(){const{tokenUrlName:e,tokenSecretName:t,tokenIdName:n,itemStorageKey:i}=this.tokenConfig;try{const o=OR(e,t,n,this.urlParams);let s=e5(i);const a=this.mergeNewToken(o,s.tokens);a!==!1&&NR(a,i);const c=new Event("tokensupdated");document.body.dispatchEvent(c)}catch(o){console.warn(o)}})}mergeNewToken(e,t){const n=xp(e,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!1),i=this.getUniqueTokenId(n);for(const[o,s]of t.entries()){if(s.token===e.token)return!1;const a=xp(s,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!1),c=this.getUniqueTokenId(a);if(i===c)return t[o]=e,t}return t.push(e),t}getUniqueTokenId(e){var t;return`${e.devconId}-${(t=e.ticketIdNumber)!==null&&t!==void 0?t:e.ticketIdString}`}dispatchAuthCallbackEvent(e,t,n){const i=new CustomEvent("auth-callback",{detail:{proof:t,issuer:e,error:n}});window.dispatchEvent(i)}whitelistCheck(e,t){var n;return Yf(this,void 0,void 0,function*(){if(!window.parent&&!window.opener||!document.referrer)return;const i=new URL(document.referrer).origin;if(i===document.location.origin)return;let o=(n=JSON.parse(localStorage.getItem("tn-whitelist")))!==null&&n!==void 0?n:{};if(this.tokenConfig.signedTokenWhitelist.indexOf(i)===-1&&(!o[i]||o[i].type==="read"&&t==="write"))return new Promise((a,c)=>{const l=`${i} is requesting ${t==="read"?"read":"read & write"} access to your ${this.tokenConfig.title} tickets`,p='<button id="tn-access-accept">Accept</button>',k='<button id="tn-access-deny">Deny</button>',_=this.tokenConfig.whitelistDialogRenderer?this.tokenConfig.whitelistDialogRenderer(l,p,k):`
						<div style="font-family: sans-serif; text-align: center; position: absolute; width: 100vw; min-height: 100vh;top: 0;
						left: 0;
						background: #0C0A50;
						z-index: 99999;
						display: flex;
						flex-direction: column;
						justify-content: center;
						align-items: center;
						color: #fff;
						padding: 30px;
						font-size: 24px;
						line-height: 1.2;">
							<p>${l}</p>
							<div>
							${p}
							${k}
							</div>
						</div>
					`;document.body.insertAdjacentHTML("beforeend",_),document.getElementById("tn-access-accept").addEventListener("click",()=>Yf(this,void 0,void 0,function*(){(!o[i]||t!==o[i].type)&&(o[i]={type:t},localStorage.setItem("tn-whitelist",JSON.stringify(o))),a()})),document.getElementById("tn-access-deny").addEventListener("click",()=>{c("USER_ABORT")}),this.sendMessageResponse({evtid:e,evt:co.SHOW_FRAME,max_width:this.tokenConfig.whitelistDialogWidth,min_height:this.tokenConfig.whitelistDialogHeight})})})}prepareTokenOutput(e){var t;const n=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!n)return[];let i=!1;((t=this.tokenConfig.signedTokenWhitelist)===null||t===void 0?void 0:t.length)&&this.tokenConfig.signedTokenWhitelist.indexOf(this.getRequestOrigin())>-1&&(i=!0);const o=t5(n,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,i);return Zw(o,e)}sendTokenProof(e,t,n,i){return Yf(this,void 0,void 0,function*(){if(!t)return"error";const o=JSON.parse(t),s=this.getDataFromQuery("redirect")==="true"?document.location.href:!1;try{let a=yield wp(o,this.tokenConfig),d=yield new Ap(this,e,this.tokenConfig,a,n,i,s,o).authenticate();this.sendMessageResponse({evtid:e,evt:wc.PROOF,data:{issuer:this.tokenConfig.collectionID,proof:d}})}catch(a){if(ke(2,a),s)return this.proofRedirectError(this.getDataFromQuery("issuer"),a.message);this.sendErrorResponse(e,a.message)}})}getRequestOrigin(){const e=document.referrer;if(!e)return null;try{return new URL(e).origin}catch{return null}}sendTokens(e){let t=this.prepareTokenOutput(this.getFilter());if(ke(2,"issuerTokens: (Outlet.sendTokens)",t),this.redirectCallbackUrl)try{let n=this.redirectCallbackUrl;const i=new URLSearchParams(n.hash.substring(1));i.set(Tt+"action",Sn.GET_ISSUER_TOKENS+"-response"),i.set(Tt+"issuer",this.tokenConfig.collectionID),i.set(Tt+"tokens",JSON.stringify(t)),n.hash="#"+i.toString();let o=n.href;ke(2,"tokens ready. go to: ",o),document.location.href=o;return}catch(n){console.log("Requestor redirect Error. ",n)}this.sendMessageResponse({evtid:e,evt:wc.ISSUER_TOKENS,data:{issuer:this.tokenConfig.collectionID,tokens:t}})}sendErrorResponse(e,t,n){if(this.redirectCallbackUrl){let i=this.redirectCallbackUrl;const o=new URLSearchParams(i.hash.substring(1));o.set(Tt+"action",co.ERROR),o.set(Tt+"issuer",n),o.set(Tt+"error",t),console.log("Redirecting error: ",t),i.hash="#"+o.toString(),document.location.href=i.href;return}this.sendMessageResponse({evtid:e,evt:co.ERROR,errors:[t]})}proofRedirectError(e,t){const n=this.redirectCallbackUrl.href,i=new URLSearchParams;i.set(Tt+"action","proof-callback"),i.set(Tt+"issuer",e),i.set(Tt+"error",t),document.location.href=n+"#"+i.toString()}isSameOrigin(){try{return new URL(this.tokenConfig.tokenOrigin).origin===document.location.origin}catch{return!1}}sendMessageResponse(e){if(!document.referrer)return;let t;if(window.opener&&window.opener!==window?t=window.opener:window.parent!==window&&(t=window.parent),t&&t.postMessage(e,"*"),!this.isSameOrigin()){let n=`
				background: #eee;
				padding: 10px;
				color: #000;
				display: inline-block;
				border-radius: 4px;
				font-size: 1.2em;
				box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px;
			`,i=document.createElement("div");i.innerHTML="Data sent. Please close the tab and back to main app.",i.setAttribute("style",n),document.body.appendChild(i)}}}var DR=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class o5{constructor(e){this.tokenConfig=Object.assign(n5,e),this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=i5)}getTokens(){const e=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!e)return[];const t=t5(e,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!0);return Zw(t,this.tokenConfig.filter)}authenticate(e,t,n,i=!1){return DR(this,void 0,void 0,function*(){let o=yield wp(e,this.tokenConfig);return yield new Ap(null,null,this.tokenConfig,o,t,n,i,e).authenticate()})}}var LR=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};class UR extends go{constructor(){super(...arguments),this.TYPE="ticketZKProof",this.messaging=new Kp}getTokenProof(e,t,n){var i,o,s;return LR(this,void 0,void 0,function*(){if(ke(2,"getTokenProof request:",n),e.onChain===!0)throw new Error(this.TYPE+" is not available for off-chain tokens.");let a=((i=n?.options)===null||i===void 0?void 0:i.useRedirect)||z1(this.client.config.offChainRedirectMode)||!1;a&&(a=((o=n?.options)===null||o===void 0?void 0:o.redirectUrl)||document.location.href);let c=null;if(e.unEndPoint){let T=new pl(this.client);n.options=Object.assign(Object.assign({},n.options),{unEndPoint:e.unEndPoint}),c=(yield T.getTokenProof(e,t,n)).data}const d=c?c.address:"",l=n.address?n.address:d,p=n.wallet?n.wallet:"";let k;if(new URL(e.tokenOrigin).origin===document.location.origin){const T=new o5(e);k={},k.proof=yield T.authenticate(t[0],l,p,a)}else{ke(2,"run OutletAction.GET_PROOF at ",window.location.href);let T=yield this.messaging.sendMessage({action:Sn.GET_PROOF,origin:e.tokenOrigin,timeout:0,data:{issuer:e.collectionID,token:t[0],address:l,wallet:p}},n.options.messagingForceTab,this.client.getUi(),a);if(!T)return new Promise((C,M)=>{setTimeout(()=>{M(new Error("The outlet failed to load."))},3e4)});k=T.data}if(!k.proof)throw new Error("Failed to get proof from the outlet.");let _={type:this.TYPE,data:k,target:{tokens:[]}};return c&&(yu.Authenticator.validateUseTicket(k.proof,e.base64attestorPubKey,e.base64senderPublicKeys,(s=c.address)!==null&&s!==void 0?s:""),_.data.useEthKey=c),_})}}const FR="2.4.3-SNAPSHOT-staging.52631e";var s5=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};const HR=(r,e,t)=>s5(void 0,void 0,void 0,function*(){var n;const{contract:i,chain:o}=r;let s=`${os}/get-owner-fungible-tokens?collectionAddress=${i}&owner=${e}&chain=${o}&blockchain=${(n=r.blockchain)!==null&&n!==void 0?n:"evm"}`;return r.symbol&&(s+=`&symbol=${r.symbol}`),t&&(s+=`&ipfsBaseUrl=${t}`),X0(s,!0)}),VR=(r,e)=>s5(void 0,void 0,void 0,function*(){var t;const{contract:n,chain:i}=r;let o=`${os}/get-fungible-token?collectionAddress=${n}&chain=${i}&blockchain=${(t=r.blockchain)!==null&&t!==void 0?t:"evm"}`;return r.symbol&&(o+=`&symbol=${r.symbol}`),e&&(o+=`&ipfsBaseUrl=${e}`),X0(o,!0)});var ir=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{d(n.next(l))}catch(p){s(p)}}function c(l){try{d(n.throw(l))}catch(p){s(p)}}function d(l){l.done?o(l.value):i(l.value).then(a,c)}d((n=n.apply(r,e||[])).next())})};typeof window<"u"&&(window.tn={VERSION:FR});const Ly="This browser is not supported. Please try using Chrome, Edge, FireFox or Safari.",jR={type:"active",issuers:[],uiOptions:{uiType:"popup",containerElement:".overlay-tn",openingHeading:"Validate your token ownership for access",issuerHeading:"Detected tokens",autoPopup:!0,position:"bottom-right",alwaysShowStartScreen:!1},autoLoadTokens:!0,autoEnableTokens:!0,messagingForceTab:!1,tokenPersistenceTTL:600,unSupportedUserAgent:{authentication:{config:{},errorMessage:Ly},full:{config:{iE:!0,iE9:!0},errorMessage:Ly}}};var oi;(function(r){r.POPUP_BLOCKED="POPUP_BLOCKED",r.USER_ABORT="USER_ABORT"})(oi||(oi={}));var Ma;(function(r){r.POPUP_BLOCKED="Please add an exception to your popup blocker before continuing.",r.USER_ABORT="The user aborted the process."})(Ma||(Ma={}));class GR{static getKey(e){return yu.Authenticator.decodePublicKey(e)}constructor(e){var t;if(this.clientCallBackEvents={},this.uiUpdateCallbacks={[0]:void 0,[1]:void 0,[2]:void 0},this.cancelAutoload=!0,window.location.hash){this.urlParams=new URLSearchParams(window.location.hash.substring(1));let n=this.getDataFromQuery("action");ke(2,`Client() fired. Action = "${n}"`),this.removeCallbackParamsFromUrl()}else this.urlParams=new URLSearchParams;this.config=this.mergeConfig(jR,e),this.negotiateAlreadyFired=!1,this.tokenStore=new Ka(this.config.autoEnableTokens,this.config.tokenPersistenceTTL),((t=this.config.issuers)===null||t===void 0?void 0:t.length)>0&&this.tokenStore.updateIssuers(this.config.issuers),this.messaging=new Kp,this.registerOutletProofEventListener()}getDataFromQuery(e){return this.urlParams?this.urlParams.get(Tt+e):""}readProofCallback(){if(!this.getDataFromQuery||this.getDataFromQuery("action")!=="proof-callback")return!1;const t=this.getDataFromQuery("issuer"),n=this.getDataFromQuery("attestation"),i=this.getDataFromQuery("error");this.emitRedirectProofEvent(t,n,i)}removeCallbackParamsFromUrl(){let e=new URLSearchParams(document.location.hash.substring(1));e=$p(e),document.location.hash="#"+e.toString()}registerOutletProofEventListener(){window.addEventListener("auth-callback",e=>{this.emitRedirectProofEvent(e.detail.issuer,e.detail.proof,e.detail.error)})}emitRedirectProofEvent(e,t,n){setTimeout(()=>{n?this.handleProofError(new Error(n),e):this.eventSender("token-proof",{issuer:e,error:null,data:{proof:t}})},500)}mergeConfig(e,t){var n,i;for(let o in t)t[o]&&t[o].constructor===Object?e[o]=this.mergeConfig((n=e[o])!==null&&n!==void 0?n:{},t[o]):e[o]=t[o];if(e.issuers&&e.issuers.length)for(const o of e.issuers)o.onChain===!0&&vu((i=o.blockchain)!==null&&i!==void 0?i:"");return e}getTokenStore(){return this.tokenStore}getUi(){return this.ui}createUiInstance(){this.ui=new Xa(this.config.uiOptions,this)}triggerUiUpdateCallback(e,t){this.uiUpdateCallbacks[e]&&this.uiUpdateCallbacks[e](t)}registerUiUpdateCallback(e,t){this.uiUpdateCallbacks[e]=t}safeConnectAvailable(){return this.config.safeConnectOptions!==void 0}hasIssuerForBlockchain(e){return this.config.issuers.filter(t=>e==="evm"&&!t.onChain?!0:e==="solana"&&typeof window.solana>"u"?!1:(t.blockchain?t.blockchain.toLowerCase():"evm")===e).length>0}experimentalFeaturesEnabled(e){return this.config.experimentalFeatures&&this.config.experimentalFeatures.indexOf(e)>-1}getWalletProvider(){return ir(this,void 0,void 0,function*(){if(!this.web3WalletProvider){const{Web3WalletProvider:e}=yield _i(()=>Promise.resolve().then(()=>mP),void 0);this.web3WalletProvider=new e(this,this.config.walletOptions,this.config.safeConnectOptions)}return this.web3WalletProvider})}disconnectWallet(){return ir(this,void 0,void 0,function*(){(yield this.getWalletProvider()).deleteConnections(),this.tokenStore.clearCachedTokens(),this.eventSender("connected-wallet",null),this.eventSender("disconnected-wallet",null),this.triggerUiUpdateCallback(2)})}negotiatorConnectToWallet(e){return ir(this,void 0,void 0,function*(){return yield(yield this.getWalletProvider()).connectWith(e)})}enrichTokenLookupDataOnChainTokens(){return ir(this,void 0,void 0,function*(){if(!this.getTokenStore().hasOnChainTokens()){this.issuersLoaded=!0;return}this.issuersLoaded=!1,this.triggerUiUpdateCallback(0);let e=this.tokenStore.getCurrentIssuers(!0);for(let t in e){let n=e[t];if(!n.title)try{let i;n.fungible?i=yield VR(n):i=yield LP(n),i&&(i.onChain=!0,i.title||(i.title=n.collectionID),this.tokenStore.updateTokenLookupStore(t,i))}catch(i){console.log("enrichTokenLookupDataOnChainTokens error =>",i),ke(2,"Failed to load contract data for "+t+": "+i.message)}}this.issuersLoaded=!0,this.triggerUiUpdateCallback(1)})}checkUserAgentSupport(e){var t,n;return ir(this,void 0,void 0,function*(){if(!RP((n=(t=this.config.unSupportedUserAgent)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.config)){let i=this.config.unSupportedUserAgent[e].errorMessage;this.activeNegotiateRequired()&&(this.createUiInstance(),yield this.ui.initialize(),this.ui.openOverlay(),this.ui.showError(i,!1),this.ui.viewContainer.style.display="none"),Xn(i,"error",null,null,!0,!0)}})}activeNegotiateRequired(){return this.config.type==="active"}createCurrentUrlWithoutHash(){var e;return(e=window.location.origin+window.location.pathname+window.location.search)!==null&&e!==void 0?e:"?"+window.location.search}getNoTokenMsg(e){var t;const i=(t=this.getTokenStore().getCurrentIssuers()[e])===null||t===void 0?void 0:t.noTokenMsg;return i||""}negotiate(e,t=!1,n=!1){return ir(this,void 0,void 0,function*(){let i=this.getOutletConfigForCurrentOrigin();if(i){ke(2,"Sync Outlet fired in Client to read MagicLink before negotiate().");let o=new V0(i,!0);yield o.readMagicLink(),o=null}yield this.checkUserAgentSupport("full"),e&&(this.config.issuers=e,this.tokenStore.updateIssuers(e)),ws(Object.keys(this.tokenStore.getCurrentIssuers()).length,"issuers are missing."),this.activeNegotiateRequired()?(this.issuersLoaded=!this.tokenStore.hasUnloadedIssuers(),yield this.activeNegotiationStrategy(t)):(yield this.enrichTokenLookupDataOnChainTokens(),n&&this.getTokenStore().clearCachedTokens(),yield this.passiveNegotiationStrategy()),this.eventSender("loaded",null)})}activeNegotiationStrategy(e){return ir(this,void 0,void 0,function*(){let t;this.ui?(t=this.tokenStore.hasUnloadedTokens(),this.ui.viewIsNotStart()&&this.tokenStore.hasUnloadedIssuers()?this.enrichTokenLookupDataOnChainTokens():this.triggerUiUpdateCallback(1)):(this.createUiInstance(),yield this.ui.initialize(),t=!0),this.config.autoEnableTokens&&Object.keys(this.tokenStore.getSelectedTokens()).length&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),(e||this.config.uiOptions.autoPopup===!0&&t)&&this.ui.openOverlay()})}tokenAutoLoad(e,t,n){return ir(this,void 0,void 0,function*(){if(this.config.autoLoadTokens===!1)return;this.cancelAutoload=!1;let i=1;for(let o in this.tokenStore.getCurrentIssuers()){let s=this.tokenStore.getIssuerTokens(o);if(!(!n&&s!=null)){e(o);try{let a=yield this.connectTokenIssuer(o);if(!a)return;t(o,a)}catch(a){a.message="Failed to load "+o+": "+a.message,ke(2,a.message),Xn("autoload tokens error","error",()=>this.eventSender("error",{issuer:o,error:a}),null,!0,!1),t(o,null)}if(i++,!n&&(this.cancelAutoload||this.config.autoLoadTokens!==!0&&i>this.config.autoLoadTokens))break}}})}cancelTokenAutoload(){this.cancelAutoload=!0}setPassiveNegotiationWebTokens(){return ir(this,void 0,void 0,function*(){let e=this.tokenStore.getCurrentIssuers(!1),t=this.getDataFromQuery("action");for(let n in e){let i;const o=this.tokenStore.getCurrentIssuers()[n];try{if(new URL(o.tokenOrigin).origin===document.location.origin)i=this.loadLocalOutletTokens(o);else{let s=this.getDataFromQuery("issuer");if((t===Sn.GET_ISSUER_TOKENS+"-response"||t==="proof-callback")&&n===s){let a=this.getDataFromQuery("tokens");try{i=JSON.parse(a)}catch(c){ke(2,"Error parse tokens from Response. ",c)}}else{if(i=this.tokenStore.getIssuerTokens(n),i!==null)continue;if(i=yield this.loadRemoteOutletTokens(o),!i)return}}}catch(s){Xn("popup error","error",()=>this.eventSender("error",{issuer:n,error:s}),null,!0,!1);continue}ke(2,"tokens:"),ke(2,i),this.tokenStore.setTokens(n,i)}})}readTokensFromUrl(){let e=this.tokenStore.getCurrentIssuers(!1),t=this.getDataFromQuery("action");if(t==="error"){this.handleRedirectTokensError();return}if(t!==Sn.GET_ISSUER_TOKENS+"-response")return;let n=this.getDataFromQuery("issuer");if(!n){ke(3,"No issuer in URL.");return}const i=e[n];if(!i){ke(3,`No issuer config for "${n}" in URL.`);return}let o;try{if(new URL(i.tokenOrigin).origin!==document.location.origin){let s=this.getDataFromQuery("tokens");try{o=JSON.parse(s)}catch(a){ke(2,"Error parse tokens from Response. ",a)}}}catch{ke(1,"Error read tokens from URL");return}if(!o){ke(2,`No tokens for "${n}" in URL.`);return}ke(2,"readTokensFromUrl tokens:"),ke(2,o),this.tokenStore.setTokens(n,o)}handleRedirectTokensError(){return ir(this,void 0,void 0,function*(){const e=this.getDataFromQuery("error");this.config.type==="active"&&(this.createUiInstance(),yield this.ui.initialize(),this.ui.showError(e)),this.eventSender("error",{issuer:this.getDataFromQuery("issuer"),error:new Error(e)}),console.log("Error loading tokens from outlet: ",e)})}setPassiveNegotiationOnChainTokens(){return ir(this,void 0,void 0,function*(){let e=this.tokenStore.getCurrentIssuers(!0),t=yield this.getWalletProvider();for(let n in e){if(this.tokenStore.getIssuerTokens(n)!==null)continue;let o=e[n];try{const s=yield xv(o,t.getConnectedWalletData()[0].address);this.tokenStore.setTokens(n,s)}catch(s){ke(2,s),Xn("passive loading of tokens error","error",()=>this.eventSender("error",{issuer:n,error:s}),null,!0,!1)}}})}passiveNegotiationStrategy(){return ir(this,void 0,void 0,function*(){yield this.setPassiveNegotiationWebTokens(),yield this.setPassiveNegotiationOnChainTokens();let e=this.tokenStore.getCurrentTokens();ke(2,"Emit tokens"),ke(2,e);for(let t in e)e[t]={tokens:e[t]};this.eventSender("tokens",e),this.messaging.core.iframeStorageSupport===!1&&Object.keys(this.tokenStore.getCurrentTokens(!1)).length===0&&ke(2,"iFrame storage support not detected: Enable popups via your browser to access off-chain tokens with this negotiation type.")})}connectTokenIssuer(e){var t;return ir(this,void 0,void 0,function*(){const n=this.tokenStore.getCurrentIssuers()[e];n||Xn("Undefined token issuer","error",null,null,!0,!0);let i;if(n.onChain===!0){const s=(t=(yield this.getWalletProvider()).getConnectedWalletData()[0])===null||t===void 0?void 0:t.address;ws(e,"issuer is required."),ws(s,"wallet address is missing."),n.fungible?i=yield HR(n,s):i=yield xv(n,s)}else if(new URL(n.tokenOrigin).origin===document.location.origin)i=this.loadLocalOutletTokens(n);else if(i=yield this.loadRemoteOutletTokens(n),!i)return;return this.tokenStore.setTokens(e,i),this.config.autoEnableTokens&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),i})}loadRemoteOutletTokens(e){var t,n;return ir(this,void 0,void 0,function*(){const i={issuer:e,filter:e.filters};e.accessRequestType&&(i.access=e.accessRequestType);const o=z1(this.config.offChainRedirectMode);o&&this.tokenStore.setTokens(e.collectionID,[]);const s=yield this.messaging.sendMessage({action:Sn.GET_ISSUER_TOKENS,origin:e.tokenOrigin,data:i},this.config.messagingForceTab,this.config.type==="active"?this.ui:null,o?document.location.href:!1);if(!!s)return(n=(t=s.data)===null||t===void 0?void 0:t.tokens)!==null&&n!==void 0?n:[]})}loadLocalOutletTokens(e){return new o5(e).getTokens()}updateSelectedTokens(e){this.tokenStore.setSelectedTokens(e),this.eventSender("tokens-selected",{selectedTokens:e})}authenticate(e){return ir(this,void 0,void 0,function*(){yield this.checkUserAgentSupport("authentication");const{issuer:t,unsignedToken:n}=e;ws(t&&n,"Issuer and unsigned token required."),n.signedToken&&delete n.signedToken;const i=this.tokenStore.getCurrentIssuers()[t];i||Xn("Provided issuer was not found.","error",null,null,!0,!0),this.ui&&(this.ui.showLoaderDelayed(["<h4>Authenticating...</h4>","<small>You may need to sign a new challenge in your wallet</small>","<button class='cancel-auth-btn btn-tn' aria-label='Cancel authentication'>Cancel</button>"],600,!0),this.enableAuthCancel(t));let o;e.type?o=e.type:o=i.onChain?pl:UR;let s=new o(this),a;try{if(e.options||(e.options={}),e.options.messagingForceTab=this.config.messagingForceTab,ke(2,"authRequest",e),ke(2,"get proof at ",window.location.href),a=yield s.getTokenProof(i,[e.unsignedToken],e),!a)return;ke(2,"proof received at ",window.location.href),ke(2,"Ticket proof successfully validated."),this.eventSender("token-proof",{data:a.data,error:null,issuer:t})}catch(c){if(ke(2,c),c.message==="WALLET_REQUIRED")return this.handleWalletRequired(e);Xn(c,"error",()=>this.handleProofError(c,t),null,!1,!0)}return this.ui&&(this.ui.dismissLoader(),this.ui.closeOverlay()),a.data})}enableAuthCancel(e){V9(".cancel-auth-btn").then(t=>{t.onclick=()=>{const n="User cancelled authentication";this.ui.showError(n),this.eventSender("token-proof",{issuer:e,error:n,data:null})}})}handleWalletRequired(e){return ir(this,void 0,void 0,function*(){if(this.ui)this.ui.dismissLoader(),this.ui.openOverlay();else return yield(yield this.getWalletProvider()).connectWith("MetaMask"),this.authenticate(e);return new Promise((t,n)=>{const i={viewTransition:"slide-in-right"};this.ui.updateUI("wallet",{viewName:"wallet",connectCallback:()=>ir(this,void 0,void 0,function*(){this.ui.updateUI("main",{viewName:"main"},i);try{let o=yield this.authenticate(e);t(o)}catch(o){n(o)}})},i)})})}handleProofError(e,t){this.ui&&this.ui.showError(e),this.eventSender("token-proof",{issuer:t,error:e,data:null})}eventSender(e,t){return ir(this,void 0,void 0,function*(){Promise.resolve(this.on(e,null,t))})}getOutletConfigForCurrentOrigin(e=document.location.origin){let t=this.tokenStore.getCurrentIssuers(!1),n=[];return Object.keys(t).forEach(i=>{let o=t[i];try{new URL(o.tokenOrigin).origin===e&&n.push(o)}catch(s){ke(2,s),console.log("issuer config error "+s.message)}}),n.length?n[0]:!1}onlySameOrigin(){let e=this.tokenStore.getCurrentIssuers(!1),t=!0;return Object.keys(e).forEach(n=>{let i=e[n],o=!1;try{new URL(i.tokenOrigin).origin===document.location.origin&&(o=!0)}catch(s){ke(2,s),console.log("issuer config error")}o||(t=!1)}),t}addTokenViaMagicLink(e){return ir(this,void 0,void 0,function*(){let t=new URL(e),n=t.hash.length>1?t.hash.substring(1):t.search.substring(1);const i=z1(this.config.offChainRedirectMode);try{let o=yield this.messaging.sendMessage({action:Sn.MAGIC_URL,origin:t.origin+t.pathname,data:{urlParams:n}},this.config.messagingForceTab,void 0,i?document.location.href:!1);if(!o)return new Promise(s=>{});if(o.evt===wc.ISSUER_TOKENS){const s=this.getOutletConfigForCurrentOrigin(t.origin);return s&&this.tokenStore.setTokens(s.collectionID,o.data.tokens),o.data.tokens}}catch(o){Xn(o.message,"error",null,!1,!0)}})}on(e,t,n){if(ws(e,"Event type is not defined"),(e==="tokens"||e==="tokens-selected")&&t&&this.readTokensFromUrl(),e==="token-proof"&&t){ke(2,"token-proof listener atteched. check URL HASH for proof callbacks.");const i=this.getDataFromQuery("action");if(i==="proof-callback")this.readProofCallback();else if(i==="email-callback"){let o=this.getOutletConfigForCurrentOrigin();if(o){ke(2,"Outlet fired to parse URL hash params.");let s=new V0(o,!0,this.urlParams);s.pageOnLoadEventHandler().then(()=>{s=null})}}}if(t)this.clientCallBackEvents[e]=t;else if(this.clientCallBackEvents[e])return this.clientCallBackEvents[e].call(e,n)}switchTheme(e){this.ui.switchTheme(e)}}const qR=r=>(g3("data-v-f458d814"),r=r(),m3(),r),$R=qR(()=>at("img",{alt:"Vue logo",class:"logo",src:M7,width:"125",height:"125"},null,-1)),KR={class:"wrapper"},zR=yt("Home"),WR=yt("About"),QR={__name:"App",setup(r){const e=df({client:void 0});return A3(()=>{e.client=new GR({type:"active",issuers:[{collectionID:"penthouse-panther-club",collectionAddress:"ff846ef2eed57e5367cf8826e63f4d53fe28d28aa67417accb6e4b48cbd19136",onChain:!0,collectionSymbol:"PPC",chain:"mainnet",blockchain:"solana"},{collectionID:"pixel",collectionAddress:"166424b16c4c7f40eb852f9eb2d0d6869a9ed7ac54a8e6afbd516676bfbbeb19",onChain:!0,collectionSymbol:"PIXEL",chain:"mainnet",blockchain:"solana"},{onChain:!0,collectionID:"expansion-punks",contract:"0x0d0167a823c6619d430b1a96ad85b888bcf97c37",chain:"eth",blockchain:"ethereum"},{onChain:!0,collectionID:"Perion",contract:"0x96af92ae2d822a0f191455ceca4d4e7ee227668e",chain:"mumbai",blockchain:"evm"},{collectionID:"COOLCATS-#2426-14",onChain:!0,contract:"0x3C7e352481F4b2fdEc1e642a3f0018661c77513D",chain:"eth",openSeaSlug:"devcon-vi-suit-up-collection"},{collectionID:"Town-Hall",onChain:!0,contract:"0x81b30ff521D1fEB67EDE32db726D95714eb00637",chain:"Optimism"},{collectionID:"Blusteak Kangaroo #64",onChain:!0,contract:"0xa996F7F3BC647EebC98C684aB0A302c9b85d2FA1",chain:"Avalanche"},{collectionID:"Alone Pirate",onChain:!0,contract:"0x36535ec384B94342558e37282527b5052587af6A",chain:"Arbitrum"},{collectionID:"TNM",onChain:!0,contract:"0x3cC6c9c6DC13814c6ba4da3520d2Ae40332A831F",chain:"goerli",fungible:!0},{collectionID:"Tether-USD",onChain:!0,contract:"0xdac17f958d2ee523a2206206994597c13d831ec7",chain:"eth",fungible:!0},{collectionID:"AdEx-Network",onChain:!0,contract:"0xade00c28244d5ce17d72e40330b1c318cd12b7c3",chain:"eth",fungible:!0},{collectionID:"AAVEPool",contract:"0xb7fd3398484ea4eff33e003db4c85d4984f8d62e",fungible:!0,onChain:!0,chain:"polygon"},{collectionID:"Minereum-AVAX",contract:"0xf9d922c055a3f1759299467dafafdf43be844f7a",fungible:!0,onChain:!0,chain:"Avalanche"},{collectionID:"Testv4",contract:"0x499d11e0b6eac7c0593d8fb292dcbbf815fb29ae",fungible:!0,onChain:!0,chain:"goerli"},{collectionID:"Dummy ERC20",contract:"0xfe4f5145f6e09952a5ba9e956ed0c25e3fa4c7f1",fungible:!0,onChain:!0,chain:"mumbai"},{collectionID:"Domains",onChain:!0,contract:"A.233eb012d34b0070.Domains",chain:"mainnet",blockchain:"flow"},{collectionID:"AllDay",onChain:!0,contract:"A.e4cf4bdc1751c65d.AllDay",chain:"mainnet",blockchain:"flow"},{collectionID:"NBA",onChain:!0,contract:"A.0b2a3299cc857e29.TopShot",chain:"mainnet",blockchain:"flow"}],uiOptions:{openingHeading:"Open a new world of discounts available with your tokens.",issuerHeading:"Get discount with Ticket",repeatAction:"try again",theme:"dark",position:"top-right"},unSupportedUserAgent:{authentication:{config:{metaMaskAndroid:!0,alphaWalletAndroid:!0,mewAndroid:!0,imTokenAndroid:!0},errorMessage:"No Support for Authentication with this user agent. Try Chrome, Safari or Edge instead."},full:{config:{iE:!0,iE9:!0},errorMessage:"This browser is not supported. Please try using Chrome, Edge, FireFox or Safari."}}}),e.client.on("tokens-selected",t=>{console.log(t)}),e.client.on("token-proof",t=>{console.log(t)}),e.client.negotiate()}),(t,n)=>(pi(),$i(cn,null,[at("header",null,[$R,at("div",KR,[Ct(O9,{msg:"You did it!"}),at("nav",null,[Ct(fo(K1),{to:"/"},{default:cr(()=>[zR]),_:1}),Ct(fo(K1),{to:"/about"},{default:cr(()=>[WR]),_:1})])])]),Ct(fo(Y3))],64))}},JR=ts(QR,[["__scopeId","data-v-f458d814"]]);const YR={},XR={class:"item"},ZR={class:"details"};function eD(r,e){return pi(),$i("div",XR,[at("em",null,[Id(r.$slots,"icon",{},void 0,!0)]),at("div",ZR,[at("h3",null,[Id(r.$slots,"heading",{},void 0,!0)]),Id(r.$slots,"default",{},void 0,!0)])])}const Xf=ts(YR,[["render",eD],["__scopeId","data-v-72623109"]]),tD={},rD={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},nD=at("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),iD=[nD];function oD(r,e){return pi(),$i("svg",rD,iD)}const sD=ts(tD,[["render",oD]]),aD={},fD={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},cD=at("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),lD=[cD];function uD(r,e){return pi(),$i("svg",fD,lD)}const dD=ts(aD,[["render",uD]]),hD={},pD={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},gD=at("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),mD=[gD];function bD(r,e){return pi(),$i("svg",pD,mD)}const vD=ts(hD,[["render",bD]]),yD={},xD={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},wD=at("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),AD=[wD];function ED(r,e){return pi(),$i("svg",xD,AD)}const SD=ts(yD,[["render",ED]]),kD={},_D={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},MD=at("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),PD=[MD];function TD(r,e){return pi(),$i("svg",_D,PD)}const CD=ts(kD,[["render",TD]]),BD=yt("Documentation"),ID=yt(" Vue\u2019s "),ND=at("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"official documentation",-1),OD=yt(" provides you with all information you need to get started. "),RD=yt("Tooling"),DD=yt(" This project is served and bundled with "),LD=at("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),UD=yt(". The recommended IDE setup is "),FD=at("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),HD=yt(" + "),VD=at("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),jD=yt(". If you need to test your components and web pages, check out "),GD=at("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),qD=yt(" and "),$D=at("a",{href:"https://on.cypress.io/component",target:"_blank",rel:"noopener"},"Cypress Component Testing",-1),KD=yt(". "),zD=at("br",null,null,-1),WD=yt(" More instructions are available in "),QD=at("code",null,"README.md",-1),JD=yt(". "),YD=yt("Ecosystem"),XD=yt(" Get official tools and libraries for your project: "),ZD=at("a",{target:"_blank",href:"https://pinia.vuejs.org/",rel:"noopener"},"Pinia",-1),eL=yt(", "),tL=at("a",{target:"_blank",href:"https://router.vuejs.org/",rel:"noopener"},"Vue Router",-1),rL=yt(", "),nL=at("a",{target:"_blank",href:"https://test-utils.vuejs.org/",rel:"noopener"},"Vue Test Utils",-1),iL=yt(", and "),oL=at("a",{target:"_blank",href:"https://github.com/vuejs/devtools",rel:"noopener"},"Vue Dev Tools",-1),sL=yt(". If you need more resources, we suggest paying "),aL=at("a",{target:"_blank",href:"https://github.com/vuejs/awesome-vue",rel:"noopener"},"Awesome Vue",-1),fL=yt(" a visit. "),cL=yt("Community"),lL=yt(" Got stuck? Ask your question on "),uL=at("a",{target:"_blank",href:"https://chat.vuejs.org",rel:"noopener"},"Vue Land",-1),dL=yt(", our official Discord server, or "),hL=at("a",{target:"_blank",href:"https://stackoverflow.com/questions/tagged/vue.js",rel:"noopener"},"StackOverflow",-1),pL=yt(". You should also subscribe to "),gL=at("a",{target:"_blank",href:"https://news.vuejs.org",rel:"noopener"},"our mailing list",-1),mL=yt(" and follow the official "),bL=at("a",{target:"_blank",href:"https://twitter.com/vuejs",rel:"noopener"},"@vuejs",-1),vL=yt(" twitter account for latest news in the Vue world. "),yL=yt("Support Vue"),xL=yt(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),wL=at("a",{target:"_blank",href:"https://vuejs.org/sponsor/",rel:"noopener"},"becoming a sponsor",-1),AL=yt(". "),EL={__name:"TheWelcome",setup(r){return(e,t)=>(pi(),$i(cn,null,[Ct(Xf,null,{icon:cr(()=>[Ct(sD)]),heading:cr(()=>[BD]),default:cr(()=>[ID,ND,OD]),_:1}),Ct(Xf,null,{icon:cr(()=>[Ct(dD)]),heading:cr(()=>[RD]),default:cr(()=>[DD,LD,UD,FD,HD,VD,jD,GD,qD,$D,KD,zD,WD,QD,JD]),_:1}),Ct(Xf,null,{icon:cr(()=>[Ct(vD)]),heading:cr(()=>[YD]),default:cr(()=>[XD,ZD,eL,tL,rL,nL,iL,oL,sL,aL,fL]),_:1}),Ct(Xf,null,{icon:cr(()=>[Ct(SD)]),heading:cr(()=>[cL]),default:cr(()=>[lL,uL,dL,hL,pL,gL,mL,bL,vL]),_:1}),Ct(Xf,null,{icon:cr(()=>[Ct(CD)]),heading:cr(()=>[yL]),default:cr(()=>[xL,wL,AL]),_:1})],64))}},SL={__name:"HomeView",setup(r){return(e,t)=>(pi(),$i("main",null,[Ct(EL)]))}},kL=M9({history:$7("/token-negotiator-examples/vue-vite-boilerplate/"),routes:[{path:"/",name:"home",component:SL},{path:"/about",name:"about",component:()=>_i(()=>import("./AboutView.c8839319.js"),["assets/AboutView.c8839319.js","assets/AboutView.4d995ba2.css"])}]});const a5=k7(JR);a5.use(kL);a5.mount("#app");export{ts as _,at as a,Ze as b,$i as c,jt as d,_L as g,pi as o,wo as r};
